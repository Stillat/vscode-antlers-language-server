#!/usr/bin/env node
var s0=Object.create;var Nc=Object.defineProperty;var o0=Object.getOwnPropertyDescriptor;var a0=Object.getOwnPropertyNames;var l0=Object.getPrototypeOf,c0=Object.prototype.hasOwnProperty;var Bg=t=>Nc(t,"__esModule",{value:!0});var q=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),u0=(t,e)=>{for(var n in e)Nc(t,n,{get:e[n],enumerable:!0})},jg=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of a0(e))!c0.call(t,i)&&(n||i!=="default")&&Nc(t,i,{get:()=>e[i],enumerable:!(r=o0(e,i))||r.enumerable});return t},K=(t,e)=>jg(Bg(Nc(t!=null?s0(l0(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),f0=(t=>(e,n)=>t&&t.get(e)||(n=jg(Bg({}),e,1),t&&t.set(e,n),n))(typeof WeakMap!="undefined"?new WeakMap:0);var Gg=q((Ug,Pc)=>{(function(t){if(typeof Pc=="object"&&typeof Pc.exports=="object"){var e=t(require,Ug);e!==void 0&&(Pc.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function l(c,u,f,m){this._uri=c,this._languageId=u,this._version=f,this._content=m,this._lineOffsets=void 0}return Object.defineProperty(l.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),l.prototype.getText=function(c){if(c){var u=this.offsetAt(c.start),f=this.offsetAt(c.end);return this._content.substring(u,f)}return this._content},l.prototype.update=function(c,u){for(var f=0,m=c;f<m.length;f++){var p=m[f];if(l.isIncremental(p)){var d=o(p.range),h=this.offsetAt(d.start),y=this.offsetAt(d.end);this._content=this._content.substring(0,h)+p.text+this._content.substring(y,this._content.length);var _=Math.max(d.start.line,0),T=Math.max(d.end.line,0),S=this._lineOffsets,g=s(p.text,!1,h);if(T-_===g.length)for(var E=0,H=g.length;E<H;E++)S[E+_+1]=g[E];else g.length<1e4?S.splice.apply(S,[_+1,T-_].concat(g)):this._lineOffsets=S=S.slice(0,_+1).concat(g,S.slice(T+1));var B=p.text.length-(y-h);if(B!==0)for(var E=_+1+g.length,H=S.length;E<H;E++)S[E]=S[E]+B}else if(l.isFull(p))this._content=p.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received")}this._version=u},l.prototype.getLineOffsets=function(){return this._lineOffsets===void 0&&(this._lineOffsets=s(this._content,!0)),this._lineOffsets},l.prototype.positionAt=function(c){c=Math.max(Math.min(c,this._content.length),0);var u=this.getLineOffsets(),f=0,m=u.length;if(m===0)return{line:0,character:c};for(;f<m;){var p=Math.floor((f+m)/2);u[p]>c?m=p:f=p+1}var d=f-1;return{line:d,character:c-u[d]}},l.prototype.offsetAt=function(c){var u=this.getLineOffsets();if(c.line>=u.length)return this._content.length;if(c.line<0)return 0;var f=u[c.line],m=c.line+1<u.length?u[c.line+1]:this._content.length;return Math.max(Math.min(f+c.character,m),f)},Object.defineProperty(l.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),l.isIncremental=function(c){var u=c;return u!=null&&typeof u.text=="string"&&u.range!==void 0&&(u.rangeLength===void 0||typeof u.rangeLength=="number")},l.isFull=function(c){var u=c;return u!=null&&typeof u.text=="string"&&u.range===void 0&&u.rangeLength===void 0},l}(),r;(function(l){function c(m,p,d,h){return new n(m,p,d,h)}l.create=c;function u(m,p,d){if(m instanceof n)return m.update(p,d),m;throw new Error("TextDocument.update: document must be created by TextDocument.create")}l.update=u;function f(m,p){for(var d=m.getText(),h=i(p.map(a),function(H,B){var ae=H.range.start.line-B.range.start.line;return ae===0?H.range.start.character-B.range.start.character:ae}),y=0,_=[],T=0,S=h;T<S.length;T++){var g=S[T],E=m.offsetAt(g.range.start);if(E<y)throw new Error("Overlapping edit");E>y&&_.push(d.substring(y,E)),g.newText.length&&_.push(g.newText),y=m.offsetAt(g.range.end)}return _.push(d.substr(y)),_.join("")}l.applyEdits=f})(r=e.TextDocument||(e.TextDocument={}));function i(l,c){if(l.length<=1)return l;var u=l.length/2|0,f=l.slice(0,u),m=l.slice(u);i(f,c),i(m,c);for(var p=0,d=0,h=0;p<f.length&&d<m.length;){var y=c(f[p],m[d]);y<=0?l[h++]=f[p++]:l[h++]=m[d++]}for(;p<f.length;)l[h++]=f[p++];for(;d<m.length;)l[h++]=m[d++];return l}function s(l,c,u){u===void 0&&(u=0);for(var f=c?[u]:[],m=0;m<l.length;m++){var p=l.charCodeAt(m);(p===13||p===10)&&(p===13&&m+1<l.length&&l.charCodeAt(m+1)===10&&m++,f.push(u+m+1))}return f}function o(l){var c=l.start,u=l.end;return c.line>u.line||c.line===u.line&&c.character>u.character?{start:u,end:c}:l}function a(l){var c=o(l.range);return c!==l.range?{newText:l.newText,range:c}:l}})});var Ic=q(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.thenable=Ct.typedArray=Ct.stringArray=Ct.array=Ct.func=Ct.error=Ct.number=Ct.string=Ct.boolean=void 0;function p0(t){return t===!0||t===!1}Ct.boolean=p0;function Wg(t){return typeof t=="string"||t instanceof String}Ct.string=Wg;function d0(t){return typeof t=="number"||t instanceof Number}Ct.number=d0;function m0(t){return t instanceof Error}Ct.error=m0;function Hg(t){return typeof t=="function"}Ct.func=Hg;function Yg(t){return Array.isArray(t)}Ct.array=Yg;function h0(t){return Yg(t)&&t.every(e=>Wg(e))}Ct.stringArray=h0;function g0(t,e){return Array.isArray(t)&&t.every(e)}Ct.typedArray=g0;function _0(t){return t&&Hg(t.then)}Ct.thenable=_0});var Ei=q(vp=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});var Tp;function bp(){if(Tp===void 0)throw new Error("No runtime abstraction layer installed");return Tp}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Tp=n}t.install=e})(bp||(bp={}));vp.default=bp});var Np=q(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.Disposable=void 0;var y0;(function(t){function e(n){return{dispose:n}}t.create=e})(y0=el.Disposable||(el.Disposable={}))});var $g=q(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.AbstractMessageBuffer=void 0;var T0=13,b0=10,v0=`\r
`,Kg=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,n=0,r=0,i=0;e:for(;n<this._chunks.length;){let l=this._chunks[n];r=0;t:for(;r<l.length;){switch(l[r]){case T0:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case b0:switch(e){case 1:e=2;break;case 3:e=4,r++;break e;default:e=0}break;default:e=0}r++}i+=l.byteLength,n++}if(e!==4)return;let s=this._read(i+r),o=new Map,a=this.toString(s,"ascii").split(v0);if(a.length<2)return o;for(let l=0;l<a.length-2;l++){let c=a[l],u=c.indexOf(":");if(u===-1)throw new Error("Message header must separate key and value using :");let f=c.substr(0,u),m=c.substr(u+1).trim();o.set(f,m)}return o}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],o=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,o}let n=this.allocNative(e),r=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let o=s.slice(0,e);n.set(o,r),r+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};Sc.AbstractMessageBuffer=Kg});var Zg=q(Ip=>{"use strict";Object.defineProperty(Ip,"__esModule",{value:!0});var N0=Ei(),zg=require("util"),ks=Np(),P0=$g(),tl=class extends P0.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return tl.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new zg.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};tl.emptyBuffer=Buffer.allocUnsafe(0);var Xg=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),ks.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),ks.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),ks.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),ks.Disposable.create(()=>this.stream.off("data",e))}},Qg=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),ks.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),ks.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),ks.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,i)=>{let s=o=>{o==null?r():i(o)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},Jg=Object.freeze({messageBuffer:Object.freeze({create:t=>new tl(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new zg.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new Xg(t),asWritableStream:t=>new Qg(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){return setTimeout(t,e,...n)},clearTimeout(t){clearTimeout(t)},setImmediate(t,...e){return setImmediate(t,...e)},clearImmediate(t){clearImmediate(t)}})});function Pp(){return Jg}(function(t){function e(){N0.default.install(Jg)}t.install=e})(Pp||(Pp={}));Ip.default=Pp});var Mo=q(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.stringArray=cn.array=cn.func=cn.error=cn.number=cn.string=cn.boolean=void 0;function I0(t){return t===!0||t===!1}cn.boolean=I0;function e_(t){return typeof t=="string"||t instanceof String}cn.string=e_;function S0(t){return typeof t=="number"||t instanceof Number}cn.number=S0;function R0(t){return t instanceof Error}cn.error=R0;function C0(t){return typeof t=="function"}cn.func=C0;function t_(t){return Array.isArray(t)}cn.array=t_;function A0(t){return t_(t)&&t.every(e=>e_(e))}cn.stringArray=A0});var Sp=q(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.isResponseMessage=ne.isNotificationMessage=ne.isRequestMessage=ne.NotificationType9=ne.NotificationType8=ne.NotificationType7=ne.NotificationType6=ne.NotificationType5=ne.NotificationType4=ne.NotificationType3=ne.NotificationType2=ne.NotificationType1=ne.NotificationType0=ne.NotificationType=ne.RequestType9=ne.RequestType8=ne.RequestType7=ne.RequestType6=ne.RequestType5=ne.RequestType4=ne.RequestType3=ne.RequestType2=ne.RequestType1=ne.RequestType=ne.RequestType0=ne.AbstractMessageSignature=ne.ParameterStructures=ne.ResponseError=ne.ErrorCodes=void 0;var Fs=Mo(),n_;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=t.jsonrpcReservedErrorRangeStart,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=t.jsonrpcReservedErrorRangeEnd})(n_=ne.ErrorCodes||(ne.ErrorCodes={}));var Rc=class extends Error{constructor(e,n,r){super(n);this.code=Fs.number(e)?e:n_.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,Rc.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};ne.ResponseError=Rc;var Jt=class{constructor(e){this.kind=e}static is(e){return e===Jt.auto||e===Jt.byName||e===Jt.byPosition}toString(){return this.kind}};ne.ParameterStructures=Jt;Jt.auto=new Jt("auto");Jt.byPosition=new Jt("byPosition");Jt.byName=new Jt("byName");var pt=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return Jt.auto}};ne.AbstractMessageSignature=pt;var r_=class extends pt{constructor(e){super(e,0)}};ne.RequestType0=r_;var i_=class extends pt{constructor(e,n=Jt.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ne.RequestType=i_;var s_=class extends pt{constructor(e,n=Jt.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ne.RequestType1=s_;var o_=class extends pt{constructor(e){super(e,2)}};ne.RequestType2=o_;var a_=class extends pt{constructor(e){super(e,3)}};ne.RequestType3=a_;var l_=class extends pt{constructor(e){super(e,4)}};ne.RequestType4=l_;var c_=class extends pt{constructor(e){super(e,5)}};ne.RequestType5=c_;var u_=class extends pt{constructor(e){super(e,6)}};ne.RequestType6=u_;var f_=class extends pt{constructor(e){super(e,7)}};ne.RequestType7=f_;var p_=class extends pt{constructor(e){super(e,8)}};ne.RequestType8=p_;var d_=class extends pt{constructor(e){super(e,9)}};ne.RequestType9=d_;var m_=class extends pt{constructor(e,n=Jt.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ne.NotificationType=m_;var h_=class extends pt{constructor(e){super(e,0)}};ne.NotificationType0=h_;var g_=class extends pt{constructor(e,n=Jt.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ne.NotificationType1=g_;var __=class extends pt{constructor(e){super(e,2)}};ne.NotificationType2=__;var y_=class extends pt{constructor(e){super(e,3)}};ne.NotificationType3=y_;var T_=class extends pt{constructor(e){super(e,4)}};ne.NotificationType4=T_;var b_=class extends pt{constructor(e){super(e,5)}};ne.NotificationType5=b_;var v_=class extends pt{constructor(e){super(e,6)}};ne.NotificationType6=v_;var N_=class extends pt{constructor(e){super(e,7)}};ne.NotificationType7=N_;var P_=class extends pt{constructor(e){super(e,8)}};ne.NotificationType8=P_;var I_=class extends pt{constructor(e){super(e,9)}};ne.NotificationType9=I_;function x0(t){let e=t;return e&&Fs.string(e.method)&&(Fs.string(e.id)||Fs.number(e.id))}ne.isRequestMessage=x0;function E0(t){let e=t;return e&&Fs.string(e.method)&&t.id===void 0}ne.isNotificationMessage=E0;function w0(t){let e=t;return e&&(e.result!==void 0||!!e.error)&&(Fs.string(e.id)||Fs.number(e.id)||e.id===null)}ne.isResponseMessage=w0});var ko=q(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.Emitter=qs.Event=void 0;var O0=Ei(),L0;(function(t){let e={dispose(){}};t.None=function(){return e}})(L0=qs.Event||(qs.Event={}));var S_=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,o=r.length;s<o;s++)try{n.push(r[s].apply(i[s],e))}catch(a){O0.default().console.error(a)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},nl=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new S_),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:()=>{!this._callbacks||(this._callbacks.remove(e,n),i.dispose=nl._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};qs.Emitter=nl;nl._noop=function(){}});var xp=q(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.CancellationTokenSource=Vs.CancellationToken=void 0;var R_=Ei(),D0=Mo(),Rp=ko(),Cp;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Rp.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Rp.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||D0.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(Cp=Vs.CancellationToken||(Vs.CancellationToken={}));var M0=Object.freeze(function(t,e){let n=R_.default().timer.setTimeout(t.bind(e),0);return{dispose(){R_.default().timer.clearTimeout(n)}}}),Ap=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?M0:(this._emitter||(this._emitter=new Rp.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},C_=class{get token(){return this._token||(this._token=new Ap),this._token}cancel(){this._token?this._token.cancel():this._token=Cp.Cancelled}dispose(){this._token?this._token instanceof Ap&&this._token.dispose():this._token=Cp.None}};Vs.CancellationTokenSource=C_});var x_=q(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.ReadableStreamMessageReader=wi.AbstractMessageReader=wi.MessageReader=void 0;var Cc=Ei(),Fo=Mo(),Ep=ko(),k0;(function(t){function e(n){let r=n;return r&&Fo.func(r.listen)&&Fo.func(r.dispose)&&Fo.func(r.onError)&&Fo.func(r.onClose)&&Fo.func(r.onPartialMessage)}t.is=e})(k0=wi.MessageReader||(wi.MessageReader={}));var wp=class{constructor(){this.errorEmitter=new Ep.Emitter,this.closeEmitter=new Ep.Emitter,this.partialMessageEmitter=new Ep.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Fo.string(e.message)?e.message:"unknown"}`)}};wi.AbstractMessageReader=wp;var Op;(function(t){function e(n){var r;let i,s,o,a=new Map,l,c=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=(r=n.charset)!==null&&r!==void 0?r:"utf-8",n.contentDecoder!==void 0&&(o=n.contentDecoder,a.set(o.name,o)),n.contentDecoders!==void 0)for(let u of n.contentDecoders)a.set(u.name,u);if(n.contentTypeDecoder!==void 0&&(l=n.contentTypeDecoder,c.set(l.name,l)),n.contentTypeDecoders!==void 0)for(let u of n.contentTypeDecoders)c.set(u.name,u)}return l===void 0&&(l=Cc.default().applicationJson.decoder,c.set(l.name,l)),{charset:i,contentDecoder:o,contentDecoders:a,contentTypeDecoder:l,contentTypeDecoders:c}}t.fromOptions=e})(Op||(Op={}));var A_=class extends wp{constructor(e,n){super();this.readable=e,this.options=Op.fromOptions(n),this.buffer=Cc.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let s=i.get("Content-Length");if(!s)throw new Error("Header must provide a Content-Length property.");let o=parseInt(s);if(isNaN(o))throw new Error("Content-Length value must be a number.");this.nextMessageLength=o}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(n):r=Promise.resolve(n),r.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(s=>{this.callback(s)},s=>{this.fireError(s)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(Cc.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=Cc.default().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};wi.ReadableStreamMessageReader=A_});var w_=q(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.Semaphore=void 0;var F0=Ei(),E_=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||F0.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};Ac.Semaphore=E_});var k_=q(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.WriteableStreamMessageWriter=Oi.AbstractMessageWriter=Oi.MessageWriter=void 0;var O_=Ei(),rl=Mo(),q0=w_(),L_=ko(),V0="Content-Length: ",D_=`\r
`,B0;(function(t){function e(n){let r=n;return r&&rl.func(r.dispose)&&rl.func(r.onClose)&&rl.func(r.onError)&&rl.func(r.write)}t.is=e})(B0=Oi.MessageWriter||(Oi.MessageWriter={}));var Lp=class{constructor(){this.errorEmitter=new L_.Emitter,this.closeEmitter=new L_.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${rl.string(e.message)?e.message:"unknown"}`)}};Oi.AbstractMessageWriter=Lp;var Dp;(function(t){function e(n){var r,i;return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:O_.default().applicationJson.encoder}:{charset:(r=n.charset)!==null&&r!==void 0?r:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(i=n.contentTypeEncoder)!==null&&i!==void 0?i:O_.default().applicationJson.encoder}}t.fromOptions=e})(Dp||(Dp={}));var M_=class extends Lp{constructor(e,n){super();this.writable=e,this.options=Dp.fromOptions(n),this.errorCount=0,this.writeSemaphore=new q0.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(V0,r.byteLength.toString(),D_),i.push(D_),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};Oi.WriteableStreamMessageWriter=M_});var q_=q(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.LRUCache=Li.LinkedMap=Li.Touch=void 0;var hn;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(hn=Li.Touch||(Li.Touch={}));var Mp=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,n=hn.None){let r=this._map.get(e);if(!!r)return n!==hn.None&&this.touch(r,n),r.value}set(e,n,r=hn.None){let i=this._map.get(e);if(i)i.value=n,r!==hn.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case hn.None:this.addItemLast(i);break;case hn.First:this.addItemFirst(i);break;case hn.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(!!n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.key,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}values(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.value,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}entries(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:[r.key,r.value],done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==hn.First&&n!==hn.Last)){if(n===hn.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===hn.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};Li.LinkedMap=Mp;var F_=class extends Mp{constructor(e,n=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=hn.AsNew){return super.get(e,n)}peek(e){return super.get(e,hn.None)}set(e,n){return super.set(e,n,hn.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Li.LRUCache=F_});var W_=q(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.createMessageConnection=ve.ConnectionOptions=ve.CancellationStrategy=ve.CancellationSenderStrategy=ve.CancellationReceiverStrategy=ve.ConnectionStrategy=ve.ConnectionError=ve.ConnectionErrors=ve.LogTraceNotification=ve.SetTraceNotification=ve.TraceFormat=ve.Trace=ve.NullLogger=ve.ProgressType=void 0;var V_=Ei(),Ht=Mo(),ge=Sp(),B_=q_(),il=ko(),kp=xp(),sl;(function(t){t.type=new ge.NotificationType("$/cancelRequest")})(sl||(sl={}));var xc;(function(t){t.type=new ge.NotificationType("$/progress")})(xc||(xc={}));var j_=class{constructor(){}};ve.ProgressType=j_;var Fp;(function(t){function e(n){return Ht.func(n)}t.is=e})(Fp||(Fp={}));ve.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var At;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose"})(At=ve.Trace||(ve.Trace={}));(function(t){function e(r){if(!Ht.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(At=ve.Trace||(ve.Trace={}));var Sr;(function(t){t.Text="text",t.JSON="json"})(Sr=ve.TraceFormat||(ve.TraceFormat={}));(function(t){function e(n){return n=n.toLowerCase(),n==="json"?t.JSON:t.Text}t.fromString=e})(Sr=ve.TraceFormat||(ve.TraceFormat={}));var U_;(function(t){t.type=new ge.NotificationType("$/setTrace")})(U_=ve.SetTraceNotification||(ve.SetTraceNotification={}));var qp;(function(t){t.type=new ge.NotificationType("$/logTrace")})(qp=ve.LogTraceNotification||(ve.LogTraceNotification={}));var Ec;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(Ec=ve.ConnectionErrors||(ve.ConnectionErrors={}));var Bs=class extends Error{constructor(e,n){super(n);this.code=e,Object.setPrototypeOf(this,Bs.prototype)}};ve.ConnectionError=Bs;var G_;(function(t){function e(n){let r=n;return r&&Ht.func(r.cancelUndispatched)}t.is=e})(G_=ve.ConnectionStrategy||(ve.ConnectionStrategy={}));var Vp;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new kp.CancellationTokenSource}});function e(n){let r=n;return r&&Ht.func(r.createCancellationTokenSource)}t.is=e})(Vp=ve.CancellationReceiverStrategy||(ve.CancellationReceiverStrategy={}));var Bp;(function(t){t.Message=Object.freeze({sendCancellation(n,r){n.sendNotification(sl.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&Ht.func(r.sendCancellation)&&Ht.func(r.cleanup)}t.is=e})(Bp=ve.CancellationSenderStrategy||(ve.CancellationSenderStrategy={}));var jp;(function(t){t.Message=Object.freeze({receiver:Vp.Message,sender:Bp.Message});function e(n){let r=n;return r&&Vp.is(r.receiver)&&Bp.is(r.sender)}t.is=e})(jp=ve.CancellationStrategy||(ve.CancellationStrategy={}));var j0;(function(t){function e(n){let r=n;return r&&(jp.is(r.cancellationStrategy)||G_.is(r.connectionStrategy))}t.is=e})(j0=ve.ConnectionOptions||(ve.ConnectionOptions={}));var Rr;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(Rr||(Rr={}));function U0(t,e,n,r){let i=n!==void 0?n:ve.NullLogger,s=0,o=0,a=0,l="2.0",c,u=Object.create(null),f,m=Object.create(null),p=new Map,d,h=new B_.LinkedMap,y=Object.create(null),_=Object.create(null),T=At.Off,S=Sr.Text,g,E=Rr.New,H=new il.Emitter,B=new il.Emitter,ae=new il.Emitter,ce=new il.Emitter,Te=new il.Emitter,oe=r&&r.cancellationStrategy?r.cancellationStrategy:jp.Message;function Ge(N){if(N===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+N.toString()}function bt(N){return N===null?"res-unknown-"+(++a).toString():"res-"+N.toString()}function Se(){return"not-"+(++o).toString()}function Q(N,I){ge.isRequestMessage(I)?N.set(Ge(I.id),I):ge.isResponseMessage(I)?N.set(bt(I.id),I):N.set(Se(),I)}function Xe(N){}function at(){return E===Rr.Listening}function kt(){return E===Rr.Closed}function Fe(){return E===Rr.Disposed}function lt(){(E===Rr.New||E===Rr.Listening)&&(E=Rr.Closed,B.fire(void 0))}function Si(N){H.fire([N,void 0,void 0])}function Ji(N){H.fire(N)}t.onClose(lt),t.onError(Si),e.onClose(lt),e.onError(Ji);function re(){d||h.size===0||(d=V_.default().timer.setImmediate(()=>{d=void 0,ie()}))}function ie(){if(h.size===0)return;let N=h.shift();try{ge.isRequestMessage(N)?ee(N):ge.isNotificationMessage(N)?vt(N):ge.isResponseMessage(N)?be(N):Pr(N)}finally{re()}}let fe=N=>{try{if(ge.isNotificationMessage(N)&&N.method===sl.type.method){let I=Ge(N.params.id),b=h.get(I);if(ge.isRequestMessage(b)){let A=r==null?void 0:r.connectionStrategy,x=A&&A.cancelUndispatched?A.cancelUndispatched(b,Xe):void 0;if(x&&(x.error!==void 0||x.result!==void 0)){h.delete(I),x.id=b.id,ii(x,N.method,Date.now()),e.write(x);return}}}Q(h,N)}finally{re()}};function ee(N){if(Fe())return;function I(k,Z,ue){let we={jsonrpc:l,id:N.id};k instanceof ge.ResponseError?we.error=k.toJson():we.result=k===void 0?null:k,ii(we,Z,ue),e.write(we)}function b(k,Z,ue){let we={jsonrpc:l,id:N.id,error:k.toJson()};ii(we,Z,ue),e.write(we)}function A(k,Z,ue){k===void 0&&(k=null);let we={jsonrpc:l,id:N.id,result:k};ii(we,Z,ue),e.write(we)}Ms(N);let x=u[N.method],R,v;x&&(R=x.type,v=x.handler);let w=Date.now();if(v||c){let k=String(N.id),Z=oe.receiver.createCancellationTokenSource(k);_[k]=Z;try{let ue;if(v)if(N.params===void 0){if(R!==void 0&&R.numberOfParams!==0){b(new ge.ResponseError(ge.ErrorCodes.InvalidParams,`Request ${N.method} defines ${R.numberOfParams} params but recevied none.`),N.method,w);return}ue=v(Z.token)}else if(Array.isArray(N.params)){if(R!==void 0&&R.parameterStructures===ge.ParameterStructures.byName){b(new ge.ResponseError(ge.ErrorCodes.InvalidParams,`Request ${N.method} defines parameters by name but received parameters by position`),N.method,w);return}ue=v(...N.params,Z.token)}else{if(R!==void 0&&R.parameterStructures===ge.ParameterStructures.byPosition){b(new ge.ResponseError(ge.ErrorCodes.InvalidParams,`Request ${N.method} defines parameters by position but received parameters by name`),N.method,w);return}ue=v(N.params,Z.token)}else c&&(ue=c(N.method,N.params,Z.token));let we=ue;ue?we.then?we.then(it=>{delete _[k],I(it,N.method,w)},it=>{delete _[k],it instanceof ge.ResponseError?b(it,N.method,w):it&&Ht.string(it.message)?b(new ge.ResponseError(ge.ErrorCodes.InternalError,`Request ${N.method} failed with message: ${it.message}`),N.method,w):b(new ge.ResponseError(ge.ErrorCodes.InternalError,`Request ${N.method} failed unexpectedly without providing any details.`),N.method,w)}):(delete _[k],I(ue,N.method,w)):(delete _[k],A(ue,N.method,w))}catch(ue){delete _[k],ue instanceof ge.ResponseError?I(ue,N.method,w):ue&&Ht.string(ue.message)?b(new ge.ResponseError(ge.ErrorCodes.InternalError,`Request ${N.method} failed with message: ${ue.message}`),N.method,w):b(new ge.ResponseError(ge.ErrorCodes.InternalError,`Request ${N.method} failed unexpectedly without providing any details.`),N.method,w)}}else b(new ge.ResponseError(ge.ErrorCodes.MethodNotFound,`Unhandled method ${N.method}`),N.method,w)}function be(N){if(!Fe())if(N.id===null)N.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(N.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let I=String(N.id),b=y[I];if(Lo(N,b),b){delete y[I];try{if(N.error){let A=N.error;b.reject(new ge.ResponseError(A.code,A.message,A.data))}else if(N.result!==void 0)b.resolve(N.result);else throw new Error("Should never happen.")}catch(A){A.message?i.error(`Response handler '${b.method}' failed with message: ${A.message}`):i.error(`Response handler '${b.method}' failed unexpectedly.`)}}}}function vt(N){if(Fe())return;let I,b;if(N.method===sl.type.method)b=A=>{let x=A.id,R=_[String(x)];R&&R.cancel()};else{let A=m[N.method];A&&(b=A.handler,I=A.type)}if(b||f)try{Oo(N),b?N.params===void 0?(I!==void 0&&I.numberOfParams!==0&&I.parameterStructures!==ge.ParameterStructures.byName&&i.error(`Notification ${N.method} defines ${I.numberOfParams} params but recevied none.`),b()):Array.isArray(N.params)?(I!==void 0&&(I.parameterStructures===ge.ParameterStructures.byName&&i.error(`Notification ${N.method} defines parameters by name but received parameters by position`),I.numberOfParams!==N.params.length&&i.error(`Notification ${N.method} defines ${I.numberOfParams} params but received ${N.params.length} argumennts`)),b(...N.params)):(I!==void 0&&I.parameterStructures===ge.ParameterStructures.byPosition&&i.error(`Notification ${N.method} defines parameters by position but received parameters by name`),b(N.params)):f&&f(N.method,N.params)}catch(A){A.message?i.error(`Notification handler '${N.method}' failed with message: ${A.message}`):i.error(`Notification handler '${N.method}' failed unexpectedly.`)}else ae.fire(N)}function Pr(N){if(!N){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(N,null,4)}`);let I=N;if(Ht.string(I.id)||Ht.number(I.id)){let b=String(I.id),A=y[b];A&&A.reject(new Error("The received response has neither a result nor an error property."))}}function Eo(N){if(!(T===At.Off||!g))if(S===Sr.Text){let I;T===At.Verbose&&N.params&&(I=`Params: ${JSON.stringify(N.params,null,4)}

`),g.log(`Sending request '${N.method} - (${N.id})'.`,I)}else jn("send-request",N)}function wo(N){if(!(T===At.Off||!g))if(S===Sr.Text){let I;T===At.Verbose&&(N.params?I=`Params: ${JSON.stringify(N.params,null,4)}

`:I=`No parameters provided.

`),g.log(`Sending notification '${N.method}'.`,I)}else jn("send-notification",N)}function ii(N,I,b){if(!(T===At.Off||!g))if(S===Sr.Text){let A;T===At.Verbose&&(N.error&&N.error.data?A=`Error data: ${JSON.stringify(N.error.data,null,4)}

`:N.result?A=`Result: ${JSON.stringify(N.result,null,4)}

`:N.error===void 0&&(A=`No result returned.

`)),g.log(`Sending response '${I} - (${N.id})'. Processing request took ${Date.now()-b}ms`,A)}else jn("send-response",N)}function Ms(N){if(!(T===At.Off||!g))if(S===Sr.Text){let I;T===At.Verbose&&N.params&&(I=`Params: ${JSON.stringify(N.params,null,4)}

`),g.log(`Received request '${N.method} - (${N.id})'.`,I)}else jn("receive-request",N)}function Oo(N){if(!(T===At.Off||!g||N.method===qp.type.method))if(S===Sr.Text){let I;T===At.Verbose&&(N.params?I=`Params: ${JSON.stringify(N.params,null,4)}

`:I=`No parameters provided.

`),g.log(`Received notification '${N.method}'.`,I)}else jn("receive-notification",N)}function Lo(N,I){if(!(T===At.Off||!g))if(S===Sr.Text){let b;if(T===At.Verbose&&(N.error&&N.error.data?b=`Error data: ${JSON.stringify(N.error.data,null,4)}

`:N.result?b=`Result: ${JSON.stringify(N.result,null,4)}

`:N.error===void 0&&(b=`No result returned.

`)),I){let A=N.error?` Request failed: ${N.error.message} (${N.error.code}).`:"";g.log(`Received response '${I.method} - (${N.id})' in ${Date.now()-I.timerStart}ms.${A}`,b)}else g.log(`Received response ${N.id} without active response promise.`,b)}else jn("receive-response",N)}function jn(N,I){if(!g||T===At.Off)return;let b={isLSPMessage:!0,type:N,message:I,timestamp:Date.now()};g.log(b)}function Pt(){if(kt())throw new Bs(Ec.Closed,"Connection is closed.");if(Fe())throw new Bs(Ec.Disposed,"Connection is disposed.")}function Ri(){if(at())throw new Bs(Ec.AlreadyListening,"Connection is already listening")}function Zi(){if(!at())throw new Error("Call listen() first.")}function Ir(N){return N===void 0?null:N}function Ci(N){if(N!==null)return N}function Ai(N){return N!=null&&!Array.isArray(N)&&typeof N=="object"}function xi(N,I){switch(N){case ge.ParameterStructures.auto:return Ai(I)?Ci(I):[Ir(I)];case ge.ParameterStructures.byName:if(!Ai(I))throw new Error("Recevied parameters by name but param is not an object literal.");return Ci(I);case ge.ParameterStructures.byPosition:return[Ir(I)];default:throw new Error(`Unknown parameter structure ${N.toString()}`)}}function si(N,I){let b,A=N.numberOfParams;switch(A){case 0:b=void 0;break;case 1:b=xi(N.parameterStructures,I[0]);break;default:b=[];for(let x=0;x<I.length&&x<A;x++)b.push(Ir(I[x]));if(I.length<A)for(let x=I.length;x<A;x++)b.push(null);break}return b}let ir={sendNotification:(N,...I)=>{Pt();let b,A;if(Ht.string(N)){b=N;let R=I[0],v=0,w=ge.ParameterStructures.auto;ge.ParameterStructures.is(R)&&(v=1,w=R);let k=I.length,Z=k-v;switch(Z){case 0:A=void 0;break;case 1:A=xi(w,I[v]);break;default:if(w===ge.ParameterStructures.byName)throw new Error(`Recevied ${Z} parameters for 'by Name' notification parameter structure.`);A=I.slice(v,k).map(ue=>Ir(ue));break}}else{let R=I;b=N.method,A=si(N,R)}let x={jsonrpc:l,method:b,params:A};wo(x),e.write(x)},onNotification:(N,I)=>{Pt();let b;return Ht.func(N)?f=N:I&&(Ht.string(N)?(b=N,m[N]={type:void 0,handler:I}):(b=N.method,m[N.method]={type:N,handler:I})),{dispose:()=>{b!==void 0?delete m[b]:f=void 0}}},onProgress:(N,I,b)=>{if(p.has(I))throw new Error(`Progress handler for token ${I} already registered`);return p.set(I,b),{dispose:()=>{p.delete(I)}}},sendProgress:(N,I,b)=>{ir.sendNotification(xc.type,{token:I,value:b})},onUnhandledProgress:ce.event,sendRequest:(N,...I)=>{Pt(),Zi();let b,A,x;if(Ht.string(N)){b=N;let k=I[0],Z=I[I.length-1],ue=0,we=ge.ParameterStructures.auto;ge.ParameterStructures.is(k)&&(ue=1,we=k);let it=I.length;kp.CancellationToken.is(Z)&&(it=it-1,x=Z);let Ft=it-ue;switch(Ft){case 0:A=void 0;break;case 1:A=xi(we,I[ue]);break;default:if(we===ge.ParameterStructures.byName)throw new Error(`Recevied ${Ft} parameters for 'by Name' request parameter structure.`);A=I.slice(ue,it).map(Wt=>Ir(Wt));break}}else{let k=I;b=N.method,A=si(N,k);let Z=N.numberOfParams;x=kp.CancellationToken.is(k[Z])?k[Z]:void 0}let R=s++,v;return x&&(v=x.onCancellationRequested(()=>{oe.sender.sendCancellation(ir,R)})),new Promise((k,Z)=>{let ue={jsonrpc:l,id:R,method:b,params:A},we=Wt=>{k(Wt),oe.sender.cleanup(R),v==null||v.dispose()},it=Wt=>{Z(Wt),oe.sender.cleanup(R),v==null||v.dispose()},Ft={method:b,timerStart:Date.now(),resolve:we,reject:it};Eo(ue);try{e.write(ue)}catch(Wt){Ft.reject(new ge.ResponseError(ge.ErrorCodes.MessageWriteError,Wt.message?Wt.message:"Unknown reason")),Ft=null}Ft&&(y[String(R)]=Ft)})},onRequest:(N,I)=>{Pt();let b=null;return Fp.is(N)?(b=void 0,c=N):Ht.string(N)?(b=null,I!==void 0&&(b=N,u[N]={handler:I,type:void 0})):I!==void 0&&(b=N.method,u[N.method]={type:N,handler:I}),{dispose:()=>{b!==null&&(b!==void 0?delete u[b]:c=void 0)}}},trace:(N,I,b)=>{let A=!1,x=Sr.Text;b!==void 0&&(Ht.boolean(b)?A=b:(A=b.sendNotification||!1,x=b.traceFormat||Sr.Text)),T=N,S=x,T===At.Off?g=void 0:g=I,A&&!kt()&&!Fe()&&ir.sendNotification(U_.type,{value:At.toString(N)})},onError:H.event,onClose:B.event,onUnhandledNotification:ae.event,onDispose:Te.event,end:()=>{e.end()},dispose:()=>{if(Fe())return;E=Rr.Disposed,Te.fire(void 0);let N=new Error("Connection got disposed.");Object.keys(y).forEach(I=>{y[I].reject(N)}),y=Object.create(null),_=Object.create(null),h=new B_.LinkedMap,Ht.func(e.dispose)&&e.dispose(),Ht.func(t.dispose)&&t.dispose()},listen:()=>{Pt(),Ri(),E=Rr.Listening,t.listen(fe)},inspect:()=>{V_.default().console.log("inspect")}};return ir.onNotification(qp.type,N=>{T===At.Off||!g||g.log(N.message,T===At.Verbose?N.verbose:void 0)}),ir.onNotification(xc.type,N=>{let I=p.get(N.token);I?I(N.value):ce.fire(N)}),ir}ve.createMessageConnection=U0});var Wp=q(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.CancellationSenderStrategy=j.CancellationReceiverStrategy=j.ConnectionError=j.ConnectionErrors=j.LogTraceNotification=j.SetTraceNotification=j.TraceFormat=j.Trace=j.ProgressType=j.createMessageConnection=j.NullLogger=j.ConnectionOptions=j.ConnectionStrategy=j.WriteableStreamMessageWriter=j.AbstractMessageWriter=j.MessageWriter=j.ReadableStreamMessageReader=j.AbstractMessageReader=j.MessageReader=j.CancellationToken=j.CancellationTokenSource=j.Emitter=j.Event=j.Disposable=j.ParameterStructures=j.NotificationType9=j.NotificationType8=j.NotificationType7=j.NotificationType6=j.NotificationType5=j.NotificationType4=j.NotificationType3=j.NotificationType2=j.NotificationType1=j.NotificationType0=j.NotificationType=j.ErrorCodes=j.ResponseError=j.RequestType9=j.RequestType8=j.RequestType7=j.RequestType6=j.RequestType5=j.RequestType4=j.RequestType3=j.RequestType2=j.RequestType1=j.RequestType0=j.RequestType=j.RAL=void 0;j.CancellationStrategy=void 0;var ct=Sp();Object.defineProperty(j,"RequestType",{enumerable:!0,get:function(){return ct.RequestType}});Object.defineProperty(j,"RequestType0",{enumerable:!0,get:function(){return ct.RequestType0}});Object.defineProperty(j,"RequestType1",{enumerable:!0,get:function(){return ct.RequestType1}});Object.defineProperty(j,"RequestType2",{enumerable:!0,get:function(){return ct.RequestType2}});Object.defineProperty(j,"RequestType3",{enumerable:!0,get:function(){return ct.RequestType3}});Object.defineProperty(j,"RequestType4",{enumerable:!0,get:function(){return ct.RequestType4}});Object.defineProperty(j,"RequestType5",{enumerable:!0,get:function(){return ct.RequestType5}});Object.defineProperty(j,"RequestType6",{enumerable:!0,get:function(){return ct.RequestType6}});Object.defineProperty(j,"RequestType7",{enumerable:!0,get:function(){return ct.RequestType7}});Object.defineProperty(j,"RequestType8",{enumerable:!0,get:function(){return ct.RequestType8}});Object.defineProperty(j,"RequestType9",{enumerable:!0,get:function(){return ct.RequestType9}});Object.defineProperty(j,"ResponseError",{enumerable:!0,get:function(){return ct.ResponseError}});Object.defineProperty(j,"ErrorCodes",{enumerable:!0,get:function(){return ct.ErrorCodes}});Object.defineProperty(j,"NotificationType",{enumerable:!0,get:function(){return ct.NotificationType}});Object.defineProperty(j,"NotificationType0",{enumerable:!0,get:function(){return ct.NotificationType0}});Object.defineProperty(j,"NotificationType1",{enumerable:!0,get:function(){return ct.NotificationType1}});Object.defineProperty(j,"NotificationType2",{enumerable:!0,get:function(){return ct.NotificationType2}});Object.defineProperty(j,"NotificationType3",{enumerable:!0,get:function(){return ct.NotificationType3}});Object.defineProperty(j,"NotificationType4",{enumerable:!0,get:function(){return ct.NotificationType4}});Object.defineProperty(j,"NotificationType5",{enumerable:!0,get:function(){return ct.NotificationType5}});Object.defineProperty(j,"NotificationType6",{enumerable:!0,get:function(){return ct.NotificationType6}});Object.defineProperty(j,"NotificationType7",{enumerable:!0,get:function(){return ct.NotificationType7}});Object.defineProperty(j,"NotificationType8",{enumerable:!0,get:function(){return ct.NotificationType8}});Object.defineProperty(j,"NotificationType9",{enumerable:!0,get:function(){return ct.NotificationType9}});Object.defineProperty(j,"ParameterStructures",{enumerable:!0,get:function(){return ct.ParameterStructures}});var G0=Np();Object.defineProperty(j,"Disposable",{enumerable:!0,get:function(){return G0.Disposable}});var H_=ko();Object.defineProperty(j,"Event",{enumerable:!0,get:function(){return H_.Event}});Object.defineProperty(j,"Emitter",{enumerable:!0,get:function(){return H_.Emitter}});var Y_=xp();Object.defineProperty(j,"CancellationTokenSource",{enumerable:!0,get:function(){return Y_.CancellationTokenSource}});Object.defineProperty(j,"CancellationToken",{enumerable:!0,get:function(){return Y_.CancellationToken}});var Up=x_();Object.defineProperty(j,"MessageReader",{enumerable:!0,get:function(){return Up.MessageReader}});Object.defineProperty(j,"AbstractMessageReader",{enumerable:!0,get:function(){return Up.AbstractMessageReader}});Object.defineProperty(j,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Up.ReadableStreamMessageReader}});var Gp=k_();Object.defineProperty(j,"MessageWriter",{enumerable:!0,get:function(){return Gp.MessageWriter}});Object.defineProperty(j,"AbstractMessageWriter",{enumerable:!0,get:function(){return Gp.AbstractMessageWriter}});Object.defineProperty(j,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Gp.WriteableStreamMessageWriter}});var wn=W_();Object.defineProperty(j,"ConnectionStrategy",{enumerable:!0,get:function(){return wn.ConnectionStrategy}});Object.defineProperty(j,"ConnectionOptions",{enumerable:!0,get:function(){return wn.ConnectionOptions}});Object.defineProperty(j,"NullLogger",{enumerable:!0,get:function(){return wn.NullLogger}});Object.defineProperty(j,"createMessageConnection",{enumerable:!0,get:function(){return wn.createMessageConnection}});Object.defineProperty(j,"ProgressType",{enumerable:!0,get:function(){return wn.ProgressType}});Object.defineProperty(j,"Trace",{enumerable:!0,get:function(){return wn.Trace}});Object.defineProperty(j,"TraceFormat",{enumerable:!0,get:function(){return wn.TraceFormat}});Object.defineProperty(j,"SetTraceNotification",{enumerable:!0,get:function(){return wn.SetTraceNotification}});Object.defineProperty(j,"LogTraceNotification",{enumerable:!0,get:function(){return wn.LogTraceNotification}});Object.defineProperty(j,"ConnectionErrors",{enumerable:!0,get:function(){return wn.ConnectionErrors}});Object.defineProperty(j,"ConnectionError",{enumerable:!0,get:function(){return wn.ConnectionError}});Object.defineProperty(j,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return wn.CancellationReceiverStrategy}});Object.defineProperty(j,"CancellationSenderStrategy",{enumerable:!0,get:function(){return wn.CancellationSenderStrategy}});Object.defineProperty(j,"CancellationStrategy",{enumerable:!0,get:function(){return wn.CancellationStrategy}});var W0=Ei();j.RAL=W0.default});var jo=q(Ke=>{"use strict";var H0=Ke&&Ke.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Y0=Ke&&Ke.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&H0(e,t,n)};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.createMessageConnection=Ke.createServerSocketTransport=Ke.createClientSocketTransport=Ke.createServerPipeTransport=Ke.createClientPipeTransport=Ke.generateRandomPipeName=Ke.StreamMessageWriter=Ke.StreamMessageReader=Ke.SocketMessageWriter=Ke.SocketMessageReader=Ke.IPCMessageWriter=Ke.IPCMessageReader=void 0;var qo=Zg();qo.default.install();var oi=Wp(),K_=require("path"),K0=require("os"),$0=require("crypto"),wc=require("net");Y0(Wp(),Ke);var $_=class extends oi.AbstractMessageReader{constructor(e){super();this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),oi.Disposable.create(()=>this.process.off("message",e))}};Ke.IPCMessageReader=$_;var z_=class extends oi.AbstractMessageWriter{constructor(e){super();this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};Ke.IPCMessageWriter=z_;var Vo=class extends oi.ReadableStreamMessageReader{constructor(e,n="utf-8"){super(qo.default().stream.asReadableStream(e),n)}};Ke.SocketMessageReader=Vo;var Bo=class extends oi.WriteableStreamMessageWriter{constructor(e,n){super(qo.default().stream.asWritableStream(e),n);this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Ke.SocketMessageWriter=Bo;var Hp=class extends oi.ReadableStreamMessageReader{constructor(e,n){super(qo.default().stream.asReadableStream(e),n)}};Ke.StreamMessageReader=Hp;var Yp=class extends oi.WriteableStreamMessageWriter{constructor(e,n){super(qo.default().stream.asWritableStream(e),n)}};Ke.StreamMessageWriter=Yp;var X_=process.env.XDG_RUNTIME_DIR,z0=new Map([["linux",107],["darwin",103]]);function X0(){let t=$0.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;X_?e=K_.join(X_,`vscode-ipc-${t}.sock`):e=K_.join(K0.tmpdir(),`vscode-${t}.sock`);let n=z0.get(process.platform);return n!==void 0&&e.length>=n&&qo.default().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}Ke.generateRandomPipeName=X0;function Q0(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let o=wc.createServer(a=>{o.close(),n([new Vo(a,e),new Bo(a,e)])});o.on("error",s),o.listen(t,()=>{o.removeListener("error",s),i({onConnected:()=>r})})})}Ke.createClientPipeTransport=Q0;function J0(t,e="utf-8"){let n=wc.createConnection(t);return[new Vo(n,e),new Bo(n,e)]}Ke.createServerPipeTransport=J0;function Z0(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let o=wc.createServer(a=>{o.close(),n([new Vo(a,e),new Bo(a,e)])});o.on("error",s),o.listen(t,"127.0.0.1",()=>{o.removeListener("error",s),i({onConnected:()=>r})})})}Ke.createClientSocketTransport=Z0;function eA(t,e="utf-8"){let n=wc.createConnection(t,"127.0.0.1");return[new Vo(n,e),new Bo(n,e)]}Ke.createServerSocketTransport=eA;function tA(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function nA(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function rA(t,e,n,r){n||(n=oi.NullLogger);let i=tA(t)?new Hp(t):t,s=nA(e)?new Yp(e):e;return oi.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),oi.createMessageConnection(i,s,n,r)}Ke.createMessageConnection=rA});var Kp=q((qB,Q_)=>{"use strict";Q_.exports=jo()});var st=q((J_,Oc)=>{(function(t){if(typeof Oc=="object"&&typeof Oc.exports=="object"){var e=t(require,J_);e!==void 0&&(Oc.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=void 0;var n;(function(b){b.MIN_VALUE=-2147483648,b.MAX_VALUE=2147483647})(n=e.integer||(e.integer={}));var r;(function(b){b.MIN_VALUE=0,b.MAX_VALUE=2147483647})(r=e.uinteger||(e.uinteger={}));var i;(function(b){function A(R,v){return R===Number.MAX_VALUE&&(R=r.MAX_VALUE),v===Number.MAX_VALUE&&(v=r.MAX_VALUE),{line:R,character:v}}b.create=A;function x(R){var v=R;return I.objectLiteral(v)&&I.uinteger(v.line)&&I.uinteger(v.character)}b.is=x})(i=e.Position||(e.Position={}));var s;(function(b){function A(R,v,w,k){if(I.uinteger(R)&&I.uinteger(v)&&I.uinteger(w)&&I.uinteger(k))return{start:i.create(R,v),end:i.create(w,k)};if(i.is(R)&&i.is(v))return{start:R,end:v};throw new Error("Range#create called with invalid arguments["+R+", "+v+", "+w+", "+k+"]")}b.create=A;function x(R){var v=R;return I.objectLiteral(v)&&i.is(v.start)&&i.is(v.end)}b.is=x})(s=e.Range||(e.Range={}));var o;(function(b){function A(R,v){return{uri:R,range:v}}b.create=A;function x(R){var v=R;return I.defined(v)&&s.is(v.range)&&(I.string(v.uri)||I.undefined(v.uri))}b.is=x})(o=e.Location||(e.Location={}));var a;(function(b){function A(R,v,w,k){return{targetUri:R,targetRange:v,targetSelectionRange:w,originSelectionRange:k}}b.create=A;function x(R){var v=R;return I.defined(v)&&s.is(v.targetRange)&&I.string(v.targetUri)&&(s.is(v.targetSelectionRange)||I.undefined(v.targetSelectionRange))&&(s.is(v.originSelectionRange)||I.undefined(v.originSelectionRange))}b.is=x})(a=e.LocationLink||(e.LocationLink={}));var l;(function(b){function A(R,v,w,k){return{red:R,green:v,blue:w,alpha:k}}b.create=A;function x(R){var v=R;return I.numberRange(v.red,0,1)&&I.numberRange(v.green,0,1)&&I.numberRange(v.blue,0,1)&&I.numberRange(v.alpha,0,1)}b.is=x})(l=e.Color||(e.Color={}));var c;(function(b){function A(R,v){return{range:R,color:v}}b.create=A;function x(R){var v=R;return s.is(v.range)&&l.is(v.color)}b.is=x})(c=e.ColorInformation||(e.ColorInformation={}));var u;(function(b){function A(R,v,w){return{label:R,textEdit:v,additionalTextEdits:w}}b.create=A;function x(R){var v=R;return I.string(v.label)&&(I.undefined(v.textEdit)||S.is(v))&&(I.undefined(v.additionalTextEdits)||I.typedArray(v.additionalTextEdits,S.is))}b.is=x})(u=e.ColorPresentation||(e.ColorPresentation={}));var f;(function(b){b.Comment="comment",b.Imports="imports",b.Region="region"})(f=e.FoldingRangeKind||(e.FoldingRangeKind={}));var m;(function(b){function A(R,v,w,k,Z){var ue={startLine:R,endLine:v};return I.defined(w)&&(ue.startCharacter=w),I.defined(k)&&(ue.endCharacter=k),I.defined(Z)&&(ue.kind=Z),ue}b.create=A;function x(R){var v=R;return I.uinteger(v.startLine)&&I.uinteger(v.startLine)&&(I.undefined(v.startCharacter)||I.uinteger(v.startCharacter))&&(I.undefined(v.endCharacter)||I.uinteger(v.endCharacter))&&(I.undefined(v.kind)||I.string(v.kind))}b.is=x})(m=e.FoldingRange||(e.FoldingRange={}));var p;(function(b){function A(R,v){return{location:R,message:v}}b.create=A;function x(R){var v=R;return I.defined(v)&&o.is(v.location)&&I.string(v.message)}b.is=x})(p=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var d;(function(b){b.Error=1,b.Warning=2,b.Information=3,b.Hint=4})(d=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var h;(function(b){b.Unnecessary=1,b.Deprecated=2})(h=e.DiagnosticTag||(e.DiagnosticTag={}));var y;(function(b){function A(x){var R=x;return R!=null&&I.string(R.href)}b.is=A})(y=e.CodeDescription||(e.CodeDescription={}));var _;(function(b){function A(R,v,w,k,Z,ue){var we={range:R,message:v};return I.defined(w)&&(we.severity=w),I.defined(k)&&(we.code=k),I.defined(Z)&&(we.source=Z),I.defined(ue)&&(we.relatedInformation=ue),we}b.create=A;function x(R){var v,w=R;return I.defined(w)&&s.is(w.range)&&I.string(w.message)&&(I.number(w.severity)||I.undefined(w.severity))&&(I.integer(w.code)||I.string(w.code)||I.undefined(w.code))&&(I.undefined(w.codeDescription)||I.string((v=w.codeDescription)===null||v===void 0?void 0:v.href))&&(I.string(w.source)||I.undefined(w.source))&&(I.undefined(w.relatedInformation)||I.typedArray(w.relatedInformation,p.is))}b.is=x})(_=e.Diagnostic||(e.Diagnostic={}));var T;(function(b){function A(R,v){for(var w=[],k=2;k<arguments.length;k++)w[k-2]=arguments[k];var Z={title:R,command:v};return I.defined(w)&&w.length>0&&(Z.arguments=w),Z}b.create=A;function x(R){var v=R;return I.defined(v)&&I.string(v.title)&&I.string(v.command)}b.is=x})(T=e.Command||(e.Command={}));var S;(function(b){function A(w,k){return{range:w,newText:k}}b.replace=A;function x(w,k){return{range:{start:w,end:w},newText:k}}b.insert=x;function R(w){return{range:w,newText:""}}b.del=R;function v(w){var k=w;return I.objectLiteral(k)&&I.string(k.newText)&&s.is(k.range)}b.is=v})(S=e.TextEdit||(e.TextEdit={}));var g;(function(b){function A(R,v,w){var k={label:R};return v!==void 0&&(k.needsConfirmation=v),w!==void 0&&(k.description=w),k}b.create=A;function x(R){var v=R;return v!==void 0&&I.objectLiteral(v)&&I.string(v.label)&&(I.boolean(v.needsConfirmation)||v.needsConfirmation===void 0)&&(I.string(v.description)||v.description===void 0)}b.is=x})(g=e.ChangeAnnotation||(e.ChangeAnnotation={}));var E;(function(b){function A(x){var R=x;return typeof R=="string"}b.is=A})(E=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var H;(function(b){function A(w,k,Z){return{range:w,newText:k,annotationId:Z}}b.replace=A;function x(w,k,Z){return{range:{start:w,end:w},newText:k,annotationId:Z}}b.insert=x;function R(w,k){return{range:w,newText:"",annotationId:k}}b.del=R;function v(w){var k=w;return S.is(k)&&(g.is(k.annotationId)||E.is(k.annotationId))}b.is=v})(H=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var B;(function(b){function A(R,v){return{textDocument:R,edits:v}}b.create=A;function x(R){var v=R;return I.defined(v)&&at.is(v.textDocument)&&Array.isArray(v.edits)}b.is=x})(B=e.TextDocumentEdit||(e.TextDocumentEdit={}));var ae;(function(b){function A(R,v,w){var k={kind:"create",uri:R};return v!==void 0&&(v.overwrite!==void 0||v.ignoreIfExists!==void 0)&&(k.options=v),w!==void 0&&(k.annotationId=w),k}b.create=A;function x(R){var v=R;return v&&v.kind==="create"&&I.string(v.uri)&&(v.options===void 0||(v.options.overwrite===void 0||I.boolean(v.options.overwrite))&&(v.options.ignoreIfExists===void 0||I.boolean(v.options.ignoreIfExists)))&&(v.annotationId===void 0||E.is(v.annotationId))}b.is=x})(ae=e.CreateFile||(e.CreateFile={}));var ce;(function(b){function A(R,v,w,k){var Z={kind:"rename",oldUri:R,newUri:v};return w!==void 0&&(w.overwrite!==void 0||w.ignoreIfExists!==void 0)&&(Z.options=w),k!==void 0&&(Z.annotationId=k),Z}b.create=A;function x(R){var v=R;return v&&v.kind==="rename"&&I.string(v.oldUri)&&I.string(v.newUri)&&(v.options===void 0||(v.options.overwrite===void 0||I.boolean(v.options.overwrite))&&(v.options.ignoreIfExists===void 0||I.boolean(v.options.ignoreIfExists)))&&(v.annotationId===void 0||E.is(v.annotationId))}b.is=x})(ce=e.RenameFile||(e.RenameFile={}));var Te;(function(b){function A(R,v,w){var k={kind:"delete",uri:R};return v!==void 0&&(v.recursive!==void 0||v.ignoreIfNotExists!==void 0)&&(k.options=v),w!==void 0&&(k.annotationId=w),k}b.create=A;function x(R){var v=R;return v&&v.kind==="delete"&&I.string(v.uri)&&(v.options===void 0||(v.options.recursive===void 0||I.boolean(v.options.recursive))&&(v.options.ignoreIfNotExists===void 0||I.boolean(v.options.ignoreIfNotExists)))&&(v.annotationId===void 0||E.is(v.annotationId))}b.is=x})(Te=e.DeleteFile||(e.DeleteFile={}));var oe;(function(b){function A(x){var R=x;return R&&(R.changes!==void 0||R.documentChanges!==void 0)&&(R.documentChanges===void 0||R.documentChanges.every(function(v){return I.string(v.kind)?ae.is(v)||ce.is(v)||Te.is(v):B.is(v)}))}b.is=A})(oe=e.WorkspaceEdit||(e.WorkspaceEdit={}));var Ge=function(){function b(A,x){this.edits=A,this.changeAnnotations=x}return b.prototype.insert=function(A,x,R){var v,w;if(R===void 0?v=S.insert(A,x):E.is(R)?(w=R,v=H.insert(A,x,R)):(this.assertChangeAnnotations(this.changeAnnotations),w=this.changeAnnotations.manage(R),v=H.insert(A,x,w)),this.edits.push(v),w!==void 0)return w},b.prototype.replace=function(A,x,R){var v,w;if(R===void 0?v=S.replace(A,x):E.is(R)?(w=R,v=H.replace(A,x,R)):(this.assertChangeAnnotations(this.changeAnnotations),w=this.changeAnnotations.manage(R),v=H.replace(A,x,w)),this.edits.push(v),w!==void 0)return w},b.prototype.delete=function(A,x){var R,v;if(x===void 0?R=S.del(A):E.is(x)?(v=x,R=H.del(A,x)):(this.assertChangeAnnotations(this.changeAnnotations),v=this.changeAnnotations.manage(x),R=H.del(A,v)),this.edits.push(R),v!==void 0)return v},b.prototype.add=function(A){this.edits.push(A)},b.prototype.all=function(){return this.edits},b.prototype.clear=function(){this.edits.splice(0,this.edits.length)},b.prototype.assertChangeAnnotations=function(A){if(A===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},b}(),bt=function(){function b(A){this._annotations=A===void 0?Object.create(null):A,this._counter=0,this._size=0}return b.prototype.all=function(){return this._annotations},Object.defineProperty(b.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),b.prototype.manage=function(A,x){var R;if(E.is(A)?R=A:(R=this.nextId(),x=A),this._annotations[R]!==void 0)throw new Error("Id "+R+" is already in use.");if(x===void 0)throw new Error("No annotation provided for id "+R);return this._annotations[R]=x,this._size++,R},b.prototype.nextId=function(){return this._counter++,this._counter.toString()},b}(),Se=function(){function b(A){var x=this;this._textEditChanges=Object.create(null),A!==void 0?(this._workspaceEdit=A,A.documentChanges?(this._changeAnnotations=new bt(A.changeAnnotations),A.changeAnnotations=this._changeAnnotations.all(),A.documentChanges.forEach(function(R){if(B.is(R)){var v=new Ge(R.edits,x._changeAnnotations);x._textEditChanges[R.textDocument.uri]=v}})):A.changes&&Object.keys(A.changes).forEach(function(R){var v=new Ge(A.changes[R]);x._textEditChanges[R]=v})):this._workspaceEdit={}}return Object.defineProperty(b.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),b.prototype.getTextEditChange=function(A){if(at.is(A)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var x={uri:A.uri,version:A.version},R=this._textEditChanges[x.uri];if(!R){var v=[],w={textDocument:x,edits:v};this._workspaceEdit.documentChanges.push(w),R=new Ge(v,this._changeAnnotations),this._textEditChanges[x.uri]=R}return R}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var R=this._textEditChanges[A];if(!R){var v=[];this._workspaceEdit.changes[A]=v,R=new Ge(v),this._textEditChanges[A]=R}return R}},b.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new bt,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},b.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},b.prototype.createFile=function(A,x,R){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var v;g.is(x)||E.is(x)?v=x:R=x;var w,k;if(v===void 0?w=ae.create(A,R):(k=E.is(v)?v:this._changeAnnotations.manage(v),w=ae.create(A,R,k)),this._workspaceEdit.documentChanges.push(w),k!==void 0)return k},b.prototype.renameFile=function(A,x,R,v){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var w;g.is(R)||E.is(R)?w=R:v=R;var k,Z;if(w===void 0?k=ce.create(A,x,v):(Z=E.is(w)?w:this._changeAnnotations.manage(w),k=ce.create(A,x,v,Z)),this._workspaceEdit.documentChanges.push(k),Z!==void 0)return Z},b.prototype.deleteFile=function(A,x,R){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var v;g.is(x)||E.is(x)?v=x:R=x;var w,k;if(v===void 0?w=Te.create(A,R):(k=E.is(v)?v:this._changeAnnotations.manage(v),w=Te.create(A,R,k)),this._workspaceEdit.documentChanges.push(w),k!==void 0)return k},b}();e.WorkspaceChange=Se;var Q;(function(b){function A(R){return{uri:R}}b.create=A;function x(R){var v=R;return I.defined(v)&&I.string(v.uri)}b.is=x})(Q=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var Xe;(function(b){function A(R,v){return{uri:R,version:v}}b.create=A;function x(R){var v=R;return I.defined(v)&&I.string(v.uri)&&I.integer(v.version)}b.is=x})(Xe=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var at;(function(b){function A(R,v){return{uri:R,version:v}}b.create=A;function x(R){var v=R;return I.defined(v)&&I.string(v.uri)&&(v.version===null||I.integer(v.version))}b.is=x})(at=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var kt;(function(b){function A(R,v,w,k){return{uri:R,languageId:v,version:w,text:k}}b.create=A;function x(R){var v=R;return I.defined(v)&&I.string(v.uri)&&I.string(v.languageId)&&I.integer(v.version)&&I.string(v.text)}b.is=x})(kt=e.TextDocumentItem||(e.TextDocumentItem={}));var Fe;(function(b){b.PlainText="plaintext",b.Markdown="markdown"})(Fe=e.MarkupKind||(e.MarkupKind={})),function(b){function A(x){var R=x;return R===b.PlainText||R===b.Markdown}b.is=A}(Fe=e.MarkupKind||(e.MarkupKind={}));var lt;(function(b){function A(x){var R=x;return I.objectLiteral(x)&&Fe.is(R.kind)&&I.string(R.value)}b.is=A})(lt=e.MarkupContent||(e.MarkupContent={}));var Si;(function(b){b.Text=1,b.Method=2,b.Function=3,b.Constructor=4,b.Field=5,b.Variable=6,b.Class=7,b.Interface=8,b.Module=9,b.Property=10,b.Unit=11,b.Value=12,b.Enum=13,b.Keyword=14,b.Snippet=15,b.Color=16,b.File=17,b.Reference=18,b.Folder=19,b.EnumMember=20,b.Constant=21,b.Struct=22,b.Event=23,b.Operator=24,b.TypeParameter=25})(Si=e.CompletionItemKind||(e.CompletionItemKind={}));var Ji;(function(b){b.PlainText=1,b.Snippet=2})(Ji=e.InsertTextFormat||(e.InsertTextFormat={}));var re;(function(b){b.Deprecated=1})(re=e.CompletionItemTag||(e.CompletionItemTag={}));var ie;(function(b){function A(R,v,w){return{newText:R,insert:v,replace:w}}b.create=A;function x(R){var v=R;return v&&I.string(v.newText)&&s.is(v.insert)&&s.is(v.replace)}b.is=x})(ie=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var fe;(function(b){b.asIs=1,b.adjustIndentation=2})(fe=e.InsertTextMode||(e.InsertTextMode={}));var ee;(function(b){function A(x){return{label:x}}b.create=A})(ee=e.CompletionItem||(e.CompletionItem={}));var be;(function(b){function A(x,R){return{items:x||[],isIncomplete:!!R}}b.create=A})(be=e.CompletionList||(e.CompletionList={}));var vt;(function(b){function A(R){return R.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}b.fromPlainText=A;function x(R){var v=R;return I.string(v)||I.objectLiteral(v)&&I.string(v.language)&&I.string(v.value)}b.is=x})(vt=e.MarkedString||(e.MarkedString={}));var Pr;(function(b){function A(x){var R=x;return!!R&&I.objectLiteral(R)&&(lt.is(R.contents)||vt.is(R.contents)||I.typedArray(R.contents,vt.is))&&(x.range===void 0||s.is(x.range))}b.is=A})(Pr=e.Hover||(e.Hover={}));var Eo;(function(b){function A(x,R){return R?{label:x,documentation:R}:{label:x}}b.create=A})(Eo=e.ParameterInformation||(e.ParameterInformation={}));var wo;(function(b){function A(x,R){for(var v=[],w=2;w<arguments.length;w++)v[w-2]=arguments[w];var k={label:x};return I.defined(R)&&(k.documentation=R),I.defined(v)?k.parameters=v:k.parameters=[],k}b.create=A})(wo=e.SignatureInformation||(e.SignatureInformation={}));var ii;(function(b){b.Text=1,b.Read=2,b.Write=3})(ii=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var Ms;(function(b){function A(x,R){var v={range:x};return I.number(R)&&(v.kind=R),v}b.create=A})(Ms=e.DocumentHighlight||(e.DocumentHighlight={}));var Oo;(function(b){b.File=1,b.Module=2,b.Namespace=3,b.Package=4,b.Class=5,b.Method=6,b.Property=7,b.Field=8,b.Constructor=9,b.Enum=10,b.Interface=11,b.Function=12,b.Variable=13,b.Constant=14,b.String=15,b.Number=16,b.Boolean=17,b.Array=18,b.Object=19,b.Key=20,b.Null=21,b.EnumMember=22,b.Struct=23,b.Event=24,b.Operator=25,b.TypeParameter=26})(Oo=e.SymbolKind||(e.SymbolKind={}));var Lo;(function(b){b.Deprecated=1})(Lo=e.SymbolTag||(e.SymbolTag={}));var jn;(function(b){function A(x,R,v,w,k){var Z={name:x,kind:R,location:{uri:w,range:v}};return k&&(Z.containerName=k),Z}b.create=A})(jn=e.SymbolInformation||(e.SymbolInformation={}));var Pt;(function(b){function A(R,v,w,k,Z,ue){var we={name:R,detail:v,kind:w,range:k,selectionRange:Z};return ue!==void 0&&(we.children=ue),we}b.create=A;function x(R){var v=R;return v&&I.string(v.name)&&I.number(v.kind)&&s.is(v.range)&&s.is(v.selectionRange)&&(v.detail===void 0||I.string(v.detail))&&(v.deprecated===void 0||I.boolean(v.deprecated))&&(v.children===void 0||Array.isArray(v.children))&&(v.tags===void 0||Array.isArray(v.tags))}b.is=x})(Pt=e.DocumentSymbol||(e.DocumentSymbol={}));var Ri;(function(b){b.Empty="",b.QuickFix="quickfix",b.Refactor="refactor",b.RefactorExtract="refactor.extract",b.RefactorInline="refactor.inline",b.RefactorRewrite="refactor.rewrite",b.Source="source",b.SourceOrganizeImports="source.organizeImports",b.SourceFixAll="source.fixAll"})(Ri=e.CodeActionKind||(e.CodeActionKind={}));var Zi;(function(b){function A(R,v){var w={diagnostics:R};return v!=null&&(w.only=v),w}b.create=A;function x(R){var v=R;return I.defined(v)&&I.typedArray(v.diagnostics,_.is)&&(v.only===void 0||I.typedArray(v.only,I.string))}b.is=x})(Zi=e.CodeActionContext||(e.CodeActionContext={}));var Ir;(function(b){function A(R,v,w){var k={title:R},Z=!0;return typeof v=="string"?(Z=!1,k.kind=v):T.is(v)?k.command=v:k.edit=v,Z&&w!==void 0&&(k.kind=w),k}b.create=A;function x(R){var v=R;return v&&I.string(v.title)&&(v.diagnostics===void 0||I.typedArray(v.diagnostics,_.is))&&(v.kind===void 0||I.string(v.kind))&&(v.edit!==void 0||v.command!==void 0)&&(v.command===void 0||T.is(v.command))&&(v.isPreferred===void 0||I.boolean(v.isPreferred))&&(v.edit===void 0||oe.is(v.edit))}b.is=x})(Ir=e.CodeAction||(e.CodeAction={}));var Ci;(function(b){function A(R,v){var w={range:R};return I.defined(v)&&(w.data=v),w}b.create=A;function x(R){var v=R;return I.defined(v)&&s.is(v.range)&&(I.undefined(v.command)||T.is(v.command))}b.is=x})(Ci=e.CodeLens||(e.CodeLens={}));var Ai;(function(b){function A(R,v){return{tabSize:R,insertSpaces:v}}b.create=A;function x(R){var v=R;return I.defined(v)&&I.uinteger(v.tabSize)&&I.boolean(v.insertSpaces)}b.is=x})(Ai=e.FormattingOptions||(e.FormattingOptions={}));var xi;(function(b){function A(R,v,w){return{range:R,target:v,data:w}}b.create=A;function x(R){var v=R;return I.defined(v)&&s.is(v.range)&&(I.undefined(v.target)||I.string(v.target))}b.is=x})(xi=e.DocumentLink||(e.DocumentLink={}));var si;(function(b){function A(R,v){return{range:R,parent:v}}b.create=A;function x(R){var v=R;return v!==void 0&&s.is(v.range)&&(v.parent===void 0||b.is(v.parent))}b.is=x})(si=e.SelectionRange||(e.SelectionRange={})),e.EOL=[`
`,`\r
`,"\r"];var ir;(function(b){function A(w,k,Z,ue){return new N(w,k,Z,ue)}b.create=A;function x(w){var k=w;return!!(I.defined(k)&&I.string(k.uri)&&(I.undefined(k.languageId)||I.string(k.languageId))&&I.uinteger(k.lineCount)&&I.func(k.getText)&&I.func(k.positionAt)&&I.func(k.offsetAt))}b.is=x;function R(w,k){for(var Z=w.getText(),ue=v(k,function(Do,vc){var Vg=Do.range.start.line-vc.range.start.line;return Vg===0?Do.range.start.character-vc.range.start.character:Vg}),we=Z.length,it=ue.length-1;it>=0;it--){var Ft=ue[it],Wt=w.offsetAt(Ft.range.start),qe=w.offsetAt(Ft.range.end);if(qe<=we)Z=Z.substring(0,Wt)+Ft.newText+Z.substring(qe,Z.length);else throw new Error("Overlapping edit");we=Wt}return Z}b.applyEdits=R;function v(w,k){if(w.length<=1)return w;var Z=w.length/2|0,ue=w.slice(0,Z),we=w.slice(Z);v(ue,k),v(we,k);for(var it=0,Ft=0,Wt=0;it<ue.length&&Ft<we.length;){var qe=k(ue[it],we[Ft]);qe<=0?w[Wt++]=ue[it++]:w[Wt++]=we[Ft++]}for(;it<ue.length;)w[Wt++]=ue[it++];for(;Ft<we.length;)w[Wt++]=we[Ft++];return w}})(ir=e.TextDocument||(e.TextDocument={}));var N=function(){function b(A,x,R,v){this._uri=A,this._languageId=x,this._version=R,this._content=v,this._lineOffsets=void 0}return Object.defineProperty(b.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),b.prototype.getText=function(A){if(A){var x=this.offsetAt(A.start),R=this.offsetAt(A.end);return this._content.substring(x,R)}return this._content},b.prototype.update=function(A,x){this._content=A.text,this._version=x,this._lineOffsets=void 0},b.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var A=[],x=this._content,R=!0,v=0;v<x.length;v++){R&&(A.push(v),R=!1);var w=x.charAt(v);R=w==="\r"||w===`
`,w==="\r"&&v+1<x.length&&x.charAt(v+1)===`
`&&v++}R&&x.length>0&&A.push(x.length),this._lineOffsets=A}return this._lineOffsets},b.prototype.positionAt=function(A){A=Math.max(Math.min(A,this._content.length),0);var x=this.getLineOffsets(),R=0,v=x.length;if(v===0)return i.create(0,A);for(;R<v;){var w=Math.floor((R+v)/2);x[w]>A?v=w:R=w+1}var k=R-1;return i.create(k,A-x[k])},b.prototype.offsetAt=function(A){var x=this.getLineOffsets();if(A.line>=x.length)return this._content.length;if(A.line<0)return 0;var R=x[A.line],v=A.line+1<x.length?x[A.line+1]:this._content.length;return Math.max(Math.min(R+A.character,v),R)},Object.defineProperty(b.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),b}(),I;(function(b){var A=Object.prototype.toString;function x(qe){return typeof qe!="undefined"}b.defined=x;function R(qe){return typeof qe=="undefined"}b.undefined=R;function v(qe){return qe===!0||qe===!1}b.boolean=v;function w(qe){return A.call(qe)==="[object String]"}b.string=w;function k(qe){return A.call(qe)==="[object Number]"}b.number=k;function Z(qe,Do,vc){return A.call(qe)==="[object Number]"&&Do<=qe&&qe<=vc}b.numberRange=Z;function ue(qe){return A.call(qe)==="[object Number]"&&-2147483648<=qe&&qe<=2147483647}b.integer=ue;function we(qe){return A.call(qe)==="[object Number]"&&0<=qe&&qe<=2147483647}b.uinteger=we;function it(qe){return A.call(qe)==="[object Function]"}b.func=it;function Ft(qe){return qe!==null&&typeof qe=="object"}b.objectLiteral=Ft;function Wt(qe,Do){return Array.isArray(qe)&&qe.every(Do)}b.typedArray=Wt})(I||(I={}))})});var Yt=q(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.ProtocolNotificationType=sr.ProtocolNotificationType0=sr.ProtocolRequestType=sr.ProtocolRequestType0=sr.RegistrationType=void 0;var Uo=jo(),Z_=class{constructor(e){this.method=e}};sr.RegistrationType=Z_;var ey=class extends Uo.RequestType0{constructor(e){super(e)}};sr.ProtocolRequestType0=ey;var ty=class extends Uo.RequestType{constructor(e){super(e,Uo.ParameterStructures.byName)}};sr.ProtocolRequestType=ty;var ny=class extends Uo.NotificationType0{constructor(e){super(e)}};sr.ProtocolNotificationType0=ny;var ry=class extends Uo.NotificationType{constructor(e){super(e,Uo.ParameterStructures.byName)}};sr.ProtocolNotificationType=ry});var oy=q(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.objectLiteral=xt.typedArray=xt.stringArray=xt.array=xt.func=xt.error=xt.number=xt.string=xt.boolean=void 0;function iA(t){return t===!0||t===!1}xt.boolean=iA;function iy(t){return typeof t=="string"||t instanceof String}xt.string=iy;function sA(t){return typeof t=="number"||t instanceof Number}xt.number=sA;function oA(t){return t instanceof Error}xt.error=oA;function aA(t){return typeof t=="function"}xt.func=aA;function sy(t){return Array.isArray(t)}xt.array=sy;function lA(t){return sy(t)&&t.every(e=>iy(e))}xt.stringArray=lA;function cA(t,e){return Array.isArray(t)&&t.every(e)}xt.typedArray=cA;function uA(t){return t!==null&&typeof t=="object"}xt.objectLiteral=uA});var ay=q(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.ImplementationRequest=void 0;var fA=Yt(),pA;(function(t){t.method="textDocument/implementation",t.type=new fA.ProtocolRequestType(t.method)})(pA=ol.ImplementationRequest||(ol.ImplementationRequest={}))});var ly=q(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});al.TypeDefinitionRequest=void 0;var dA=Yt(),mA;(function(t){t.method="textDocument/typeDefinition",t.type=new dA.ProtocolRequestType(t.method)})(mA=al.TypeDefinitionRequest||(al.TypeDefinitionRequest={}))});var uy=q(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.DidChangeWorkspaceFoldersNotification=es.WorkspaceFoldersRequest=void 0;var cy=Yt(),hA;(function(t){t.type=new cy.ProtocolRequestType0("workspace/workspaceFolders")})(hA=es.WorkspaceFoldersRequest||(es.WorkspaceFoldersRequest={}));var gA;(function(t){t.type=new cy.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(gA=es.DidChangeWorkspaceFoldersNotification||(es.DidChangeWorkspaceFoldersNotification={}))});var fy=q(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.ConfigurationRequest=void 0;var _A=Yt(),yA;(function(t){t.type=new _A.ProtocolRequestType("workspace/configuration")})(yA=ll.ConfigurationRequest||(ll.ConfigurationRequest={}))});var dy=q(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.ColorPresentationRequest=ts.DocumentColorRequest=void 0;var py=Yt(),TA;(function(t){t.method="textDocument/documentColor",t.type=new py.ProtocolRequestType(t.method)})(TA=ts.DocumentColorRequest||(ts.DocumentColorRequest={}));var bA;(function(t){t.type=new py.ProtocolRequestType("textDocument/colorPresentation")})(bA=ts.ColorPresentationRequest||(ts.ColorPresentationRequest={}))});var $p=q(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.FoldingRangeRequest=ns.FoldingRangeKind=void 0;var vA=Yt(),NA;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(NA=ns.FoldingRangeKind||(ns.FoldingRangeKind={}));var PA;(function(t){t.method="textDocument/foldingRange",t.type=new vA.ProtocolRequestType(t.method)})(PA=ns.FoldingRangeRequest||(ns.FoldingRangeRequest={}))});var my=q(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});cl.DeclarationRequest=void 0;var IA=Yt(),SA;(function(t){t.method="textDocument/declaration",t.type=new IA.ProtocolRequestType(t.method)})(SA=cl.DeclarationRequest||(cl.DeclarationRequest={}))});var hy=q(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.SelectionRangeRequest=void 0;var RA=Yt(),CA;(function(t){t.method="textDocument/selectionRange",t.type=new RA.ProtocolRequestType(t.method)})(CA=ul.SelectionRangeRequest||(ul.SelectionRangeRequest={}))});var _y=q(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.WorkDoneProgressCancelNotification=Cr.WorkDoneProgressCreateRequest=Cr.WorkDoneProgress=void 0;var AA=jo(),gy=Yt(),xA;(function(t){t.type=new AA.ProgressType;function e(n){return n===t.type}t.is=e})(xA=Cr.WorkDoneProgress||(Cr.WorkDoneProgress={}));var EA;(function(t){t.type=new gy.ProtocolRequestType("window/workDoneProgress/create")})(EA=Cr.WorkDoneProgressCreateRequest||(Cr.WorkDoneProgressCreateRequest={}));var wA;(function(t){t.type=new gy.ProtocolNotificationType("window/workDoneProgress/cancel")})(wA=Cr.WorkDoneProgressCancelNotification||(Cr.WorkDoneProgressCancelNotification={}))});var yy=q(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.CallHierarchyOutgoingCallsRequest=Ar.CallHierarchyIncomingCallsRequest=Ar.CallHierarchyPrepareRequest=void 0;var zp=Yt(),OA;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new zp.ProtocolRequestType(t.method)})(OA=Ar.CallHierarchyPrepareRequest||(Ar.CallHierarchyPrepareRequest={}));var LA;(function(t){t.method="callHierarchy/incomingCalls",t.type=new zp.ProtocolRequestType(t.method)})(LA=Ar.CallHierarchyIncomingCallsRequest||(Ar.CallHierarchyIncomingCallsRequest={}));var DA;(function(t){t.method="callHierarchy/outgoingCalls",t.type=new zp.ProtocolRequestType(t.method)})(DA=Ar.CallHierarchyOutgoingCallsRequest||(Ar.CallHierarchyOutgoingCallsRequest={}))});var Ty=q(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.SemanticTokensRefreshRequest=Qe.SemanticTokensRangeRequest=Qe.SemanticTokensDeltaRequest=Qe.SemanticTokensRequest=Qe.SemanticTokensRegistrationType=Qe.TokenFormat=Qe.SemanticTokens=Qe.SemanticTokenModifiers=Qe.SemanticTokenTypes=void 0;var fl=Yt(),MA;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator"})(MA=Qe.SemanticTokenTypes||(Qe.SemanticTokenTypes={}));var kA;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(kA=Qe.SemanticTokenModifiers||(Qe.SemanticTokenModifiers={}));var FA;(function(t){function e(n){let r=n;return r!==void 0&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(FA=Qe.SemanticTokens||(Qe.SemanticTokens={}));var qA;(function(t){t.Relative="relative"})(qA=Qe.TokenFormat||(Qe.TokenFormat={}));var VA;(function(t){t.method="textDocument/semanticTokens",t.type=new fl.RegistrationType(t.method)})(VA=Qe.SemanticTokensRegistrationType||(Qe.SemanticTokensRegistrationType={}));var BA;(function(t){t.method="textDocument/semanticTokens/full",t.type=new fl.ProtocolRequestType(t.method)})(BA=Qe.SemanticTokensRequest||(Qe.SemanticTokensRequest={}));var jA;(function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new fl.ProtocolRequestType(t.method)})(jA=Qe.SemanticTokensDeltaRequest||(Qe.SemanticTokensDeltaRequest={}));var UA;(function(t){t.method="textDocument/semanticTokens/range",t.type=new fl.ProtocolRequestType(t.method)})(UA=Qe.SemanticTokensRangeRequest||(Qe.SemanticTokensRangeRequest={}));var GA;(function(t){t.method="workspace/semanticTokens/refresh",t.type=new fl.ProtocolRequestType0(t.method)})(GA=Qe.SemanticTokensRefreshRequest||(Qe.SemanticTokensRefreshRequest={}))});var by=q(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.ShowDocumentRequest=void 0;var WA=Yt(),HA;(function(t){t.method="window/showDocument",t.type=new WA.ProtocolRequestType(t.method)})(HA=pl.ShowDocumentRequest||(pl.ShowDocumentRequest={}))});var vy=q(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.LinkedEditingRangeRequest=void 0;var YA=Yt(),KA;(function(t){t.method="textDocument/linkedEditingRange",t.type=new YA.ProtocolRequestType(t.method)})(KA=dl.LinkedEditingRangeRequest||(dl.LinkedEditingRangeRequest={}))});var Ny=q(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.WillDeleteFilesRequest=_t.DidDeleteFilesNotification=_t.DidRenameFilesNotification=_t.WillRenameFilesRequest=_t.DidCreateFilesNotification=_t.WillCreateFilesRequest=_t.FileOperationPatternKind=void 0;var Go=Yt(),$A;(function(t){t.file="file",t.folder="folder"})($A=_t.FileOperationPatternKind||(_t.FileOperationPatternKind={}));var zA;(function(t){t.method="workspace/willCreateFiles",t.type=new Go.ProtocolRequestType(t.method)})(zA=_t.WillCreateFilesRequest||(_t.WillCreateFilesRequest={}));var XA;(function(t){t.method="workspace/didCreateFiles",t.type=new Go.ProtocolNotificationType(t.method)})(XA=_t.DidCreateFilesNotification||(_t.DidCreateFilesNotification={}));var QA;(function(t){t.method="workspace/willRenameFiles",t.type=new Go.ProtocolRequestType(t.method)})(QA=_t.WillRenameFilesRequest||(_t.WillRenameFilesRequest={}));var JA;(function(t){t.method="workspace/didRenameFiles",t.type=new Go.ProtocolNotificationType(t.method)})(JA=_t.DidRenameFilesNotification||(_t.DidRenameFilesNotification={}));var ZA;(function(t){t.method="workspace/didDeleteFiles",t.type=new Go.ProtocolNotificationType(t.method)})(ZA=_t.DidDeleteFilesNotification||(_t.DidDeleteFilesNotification={}));var ex;(function(t){t.method="workspace/willDeleteFiles",t.type=new Go.ProtocolRequestType(t.method)})(ex=_t.WillDeleteFilesRequest||(_t.WillDeleteFilesRequest={}))});var Py=q(xr=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});xr.MonikerRequest=xr.MonikerKind=xr.UniquenessLevel=void 0;var tx=Yt(),nx;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(nx=xr.UniquenessLevel||(xr.UniquenessLevel={}));var rx;(function(t){t.import="import",t.export="export",t.local="local"})(rx=xr.MonikerKind||(xr.MonikerKind={}));var ix;(function(t){t.method="textDocument/moniker",t.type=new tx.ProtocolRequestType(t.method)})(ix=xr.MonikerRequest||(xr.MonikerRequest={}))});var Ay=q(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});C.DocumentLinkRequest=C.CodeLensRefreshRequest=C.CodeLensResolveRequest=C.CodeLensRequest=C.WorkspaceSymbolRequest=C.CodeActionResolveRequest=C.CodeActionRequest=C.DocumentSymbolRequest=C.DocumentHighlightRequest=C.ReferencesRequest=C.DefinitionRequest=C.SignatureHelpRequest=C.SignatureHelpTriggerKind=C.HoverRequest=C.CompletionResolveRequest=C.CompletionRequest=C.CompletionTriggerKind=C.PublishDiagnosticsNotification=C.WatchKind=C.FileChangeType=C.DidChangeWatchedFilesNotification=C.WillSaveTextDocumentWaitUntilRequest=C.WillSaveTextDocumentNotification=C.TextDocumentSaveReason=C.DidSaveTextDocumentNotification=C.DidCloseTextDocumentNotification=C.DidChangeTextDocumentNotification=C.TextDocumentContentChangeEvent=C.DidOpenTextDocumentNotification=C.TextDocumentSyncKind=C.TelemetryEventNotification=C.LogMessageNotification=C.ShowMessageRequest=C.ShowMessageNotification=C.MessageType=C.DidChangeConfigurationNotification=C.ExitNotification=C.ShutdownRequest=C.InitializedNotification=C.InitializeError=C.InitializeRequest=C.WorkDoneProgressOptions=C.TextDocumentRegistrationOptions=C.StaticRegistrationOptions=C.FailureHandlingKind=C.ResourceOperationKind=C.UnregistrationRequest=C.RegistrationRequest=C.DocumentSelector=C.DocumentFilter=void 0;C.MonikerRequest=C.MonikerKind=C.UniquenessLevel=C.WillDeleteFilesRequest=C.DidDeleteFilesNotification=C.WillRenameFilesRequest=C.DidRenameFilesNotification=C.WillCreateFilesRequest=C.DidCreateFilesNotification=C.FileOperationPatternKind=C.LinkedEditingRangeRequest=C.ShowDocumentRequest=C.SemanticTokensRegistrationType=C.SemanticTokensRefreshRequest=C.SemanticTokensRangeRequest=C.SemanticTokensDeltaRequest=C.SemanticTokensRequest=C.TokenFormat=C.SemanticTokens=C.SemanticTokenModifiers=C.SemanticTokenTypes=C.CallHierarchyPrepareRequest=C.CallHierarchyOutgoingCallsRequest=C.CallHierarchyIncomingCallsRequest=C.WorkDoneProgressCancelNotification=C.WorkDoneProgressCreateRequest=C.WorkDoneProgress=C.SelectionRangeRequest=C.DeclarationRequest=C.FoldingRangeRequest=C.ColorPresentationRequest=C.DocumentColorRequest=C.ConfigurationRequest=C.DidChangeWorkspaceFoldersNotification=C.WorkspaceFoldersRequest=C.TypeDefinitionRequest=C.ImplementationRequest=C.ApplyWorkspaceEditRequest=C.ExecuteCommandRequest=C.PrepareRenameRequest=C.RenameRequest=C.PrepareSupportDefaultBehavior=C.DocumentOnTypeFormattingRequest=C.DocumentRangeFormattingRequest=C.DocumentFormattingRequest=C.DocumentLinkResolveRequest=void 0;var rs=oy(),Re=Yt(),sx=ay();Object.defineProperty(C,"ImplementationRequest",{enumerable:!0,get:function(){return sx.ImplementationRequest}});var ox=ly();Object.defineProperty(C,"TypeDefinitionRequest",{enumerable:!0,get:function(){return ox.TypeDefinitionRequest}});var Iy=uy();Object.defineProperty(C,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return Iy.WorkspaceFoldersRequest}});Object.defineProperty(C,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return Iy.DidChangeWorkspaceFoldersNotification}});var ax=fy();Object.defineProperty(C,"ConfigurationRequest",{enumerable:!0,get:function(){return ax.ConfigurationRequest}});var Sy=dy();Object.defineProperty(C,"DocumentColorRequest",{enumerable:!0,get:function(){return Sy.DocumentColorRequest}});Object.defineProperty(C,"ColorPresentationRequest",{enumerable:!0,get:function(){return Sy.ColorPresentationRequest}});var lx=$p();Object.defineProperty(C,"FoldingRangeRequest",{enumerable:!0,get:function(){return lx.FoldingRangeRequest}});var cx=my();Object.defineProperty(C,"DeclarationRequest",{enumerable:!0,get:function(){return cx.DeclarationRequest}});var ux=hy();Object.defineProperty(C,"SelectionRangeRequest",{enumerable:!0,get:function(){return ux.SelectionRangeRequest}});var Xp=_y();Object.defineProperty(C,"WorkDoneProgress",{enumerable:!0,get:function(){return Xp.WorkDoneProgress}});Object.defineProperty(C,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Xp.WorkDoneProgressCreateRequest}});Object.defineProperty(C,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Xp.WorkDoneProgressCancelNotification}});var Qp=yy();Object.defineProperty(C,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Qp.CallHierarchyIncomingCallsRequest}});Object.defineProperty(C,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Qp.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(C,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Qp.CallHierarchyPrepareRequest}});var Di=Ty();Object.defineProperty(C,"SemanticTokenTypes",{enumerable:!0,get:function(){return Di.SemanticTokenTypes}});Object.defineProperty(C,"SemanticTokenModifiers",{enumerable:!0,get:function(){return Di.SemanticTokenModifiers}});Object.defineProperty(C,"SemanticTokens",{enumerable:!0,get:function(){return Di.SemanticTokens}});Object.defineProperty(C,"TokenFormat",{enumerable:!0,get:function(){return Di.TokenFormat}});Object.defineProperty(C,"SemanticTokensRequest",{enumerable:!0,get:function(){return Di.SemanticTokensRequest}});Object.defineProperty(C,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Di.SemanticTokensDeltaRequest}});Object.defineProperty(C,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Di.SemanticTokensRangeRequest}});Object.defineProperty(C,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Di.SemanticTokensRefreshRequest}});Object.defineProperty(C,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Di.SemanticTokensRegistrationType}});var fx=by();Object.defineProperty(C,"ShowDocumentRequest",{enumerable:!0,get:function(){return fx.ShowDocumentRequest}});var px=vy();Object.defineProperty(C,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return px.LinkedEditingRangeRequest}});var js=Ny();Object.defineProperty(C,"FileOperationPatternKind",{enumerable:!0,get:function(){return js.FileOperationPatternKind}});Object.defineProperty(C,"DidCreateFilesNotification",{enumerable:!0,get:function(){return js.DidCreateFilesNotification}});Object.defineProperty(C,"WillCreateFilesRequest",{enumerable:!0,get:function(){return js.WillCreateFilesRequest}});Object.defineProperty(C,"DidRenameFilesNotification",{enumerable:!0,get:function(){return js.DidRenameFilesNotification}});Object.defineProperty(C,"WillRenameFilesRequest",{enumerable:!0,get:function(){return js.WillRenameFilesRequest}});Object.defineProperty(C,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return js.DidDeleteFilesNotification}});Object.defineProperty(C,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return js.WillDeleteFilesRequest}});var Jp=Py();Object.defineProperty(C,"UniquenessLevel",{enumerable:!0,get:function(){return Jp.UniquenessLevel}});Object.defineProperty(C,"MonikerKind",{enumerable:!0,get:function(){return Jp.MonikerKind}});Object.defineProperty(C,"MonikerRequest",{enumerable:!0,get:function(){return Jp.MonikerRequest}});var Ry;(function(t){function e(n){let r=n;return rs.string(r.language)||rs.string(r.scheme)||rs.string(r.pattern)}t.is=e})(Ry=C.DocumentFilter||(C.DocumentFilter={}));var Cy;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!rs.string(r)&&!Ry.is(r))return!1;return!0}t.is=e})(Cy=C.DocumentSelector||(C.DocumentSelector={}));var dx;(function(t){t.type=new Re.ProtocolRequestType("client/registerCapability")})(dx=C.RegistrationRequest||(C.RegistrationRequest={}));var mx;(function(t){t.type=new Re.ProtocolRequestType("client/unregisterCapability")})(mx=C.UnregistrationRequest||(C.UnregistrationRequest={}));var hx;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(hx=C.ResourceOperationKind||(C.ResourceOperationKind={}));var gx;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(gx=C.FailureHandlingKind||(C.FailureHandlingKind={}));var _x;(function(t){function e(n){let r=n;return r&&rs.string(r.id)&&r.id.length>0}t.hasId=e})(_x=C.StaticRegistrationOptions||(C.StaticRegistrationOptions={}));var yx;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||Cy.is(r.documentSelector))}t.is=e})(yx=C.TextDocumentRegistrationOptions||(C.TextDocumentRegistrationOptions={}));var Tx;(function(t){function e(r){let i=r;return rs.objectLiteral(i)&&(i.workDoneProgress===void 0||rs.boolean(i.workDoneProgress))}t.is=e;function n(r){let i=r;return i&&rs.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=n})(Tx=C.WorkDoneProgressOptions||(C.WorkDoneProgressOptions={}));var bx;(function(t){t.type=new Re.ProtocolRequestType("initialize")})(bx=C.InitializeRequest||(C.InitializeRequest={}));var vx;(function(t){t.unknownProtocolVersion=1})(vx=C.InitializeError||(C.InitializeError={}));var Nx;(function(t){t.type=new Re.ProtocolNotificationType("initialized")})(Nx=C.InitializedNotification||(C.InitializedNotification={}));var Px;(function(t){t.type=new Re.ProtocolRequestType0("shutdown")})(Px=C.ShutdownRequest||(C.ShutdownRequest={}));var Ix;(function(t){t.type=new Re.ProtocolNotificationType0("exit")})(Ix=C.ExitNotification||(C.ExitNotification={}));var Sx;(function(t){t.type=new Re.ProtocolNotificationType("workspace/didChangeConfiguration")})(Sx=C.DidChangeConfigurationNotification||(C.DidChangeConfigurationNotification={}));var Rx;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(Rx=C.MessageType||(C.MessageType={}));var Cx;(function(t){t.type=new Re.ProtocolNotificationType("window/showMessage")})(Cx=C.ShowMessageNotification||(C.ShowMessageNotification={}));var Ax;(function(t){t.type=new Re.ProtocolRequestType("window/showMessageRequest")})(Ax=C.ShowMessageRequest||(C.ShowMessageRequest={}));var xx;(function(t){t.type=new Re.ProtocolNotificationType("window/logMessage")})(xx=C.LogMessageNotification||(C.LogMessageNotification={}));var Ex;(function(t){t.type=new Re.ProtocolNotificationType("telemetry/event")})(Ex=C.TelemetryEventNotification||(C.TelemetryEventNotification={}));var wx;(function(t){t.None=0,t.Full=1,t.Incremental=2})(wx=C.TextDocumentSyncKind||(C.TextDocumentSyncKind={}));var Ox;(function(t){t.method="textDocument/didOpen",t.type=new Re.ProtocolNotificationType(t.method)})(Ox=C.DidOpenTextDocumentNotification||(C.DidOpenTextDocumentNotification={}));var Lx;(function(t){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=n})(Lx=C.TextDocumentContentChangeEvent||(C.TextDocumentContentChangeEvent={}));var Dx;(function(t){t.method="textDocument/didChange",t.type=new Re.ProtocolNotificationType(t.method)})(Dx=C.DidChangeTextDocumentNotification||(C.DidChangeTextDocumentNotification={}));var Mx;(function(t){t.method="textDocument/didClose",t.type=new Re.ProtocolNotificationType(t.method)})(Mx=C.DidCloseTextDocumentNotification||(C.DidCloseTextDocumentNotification={}));var kx;(function(t){t.method="textDocument/didSave",t.type=new Re.ProtocolNotificationType(t.method)})(kx=C.DidSaveTextDocumentNotification||(C.DidSaveTextDocumentNotification={}));var Fx;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(Fx=C.TextDocumentSaveReason||(C.TextDocumentSaveReason={}));var qx;(function(t){t.method="textDocument/willSave",t.type=new Re.ProtocolNotificationType(t.method)})(qx=C.WillSaveTextDocumentNotification||(C.WillSaveTextDocumentNotification={}));var Vx;(function(t){t.method="textDocument/willSaveWaitUntil",t.type=new Re.ProtocolRequestType(t.method)})(Vx=C.WillSaveTextDocumentWaitUntilRequest||(C.WillSaveTextDocumentWaitUntilRequest={}));var Bx;(function(t){t.type=new Re.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(Bx=C.DidChangeWatchedFilesNotification||(C.DidChangeWatchedFilesNotification={}));var jx;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(jx=C.FileChangeType||(C.FileChangeType={}));var Ux;(function(t){t.Create=1,t.Change=2,t.Delete=4})(Ux=C.WatchKind||(C.WatchKind={}));var Gx;(function(t){t.type=new Re.ProtocolNotificationType("textDocument/publishDiagnostics")})(Gx=C.PublishDiagnosticsNotification||(C.PublishDiagnosticsNotification={}));var Wx;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(Wx=C.CompletionTriggerKind||(C.CompletionTriggerKind={}));var Hx;(function(t){t.method="textDocument/completion",t.type=new Re.ProtocolRequestType(t.method)})(Hx=C.CompletionRequest||(C.CompletionRequest={}));var Yx;(function(t){t.method="completionItem/resolve",t.type=new Re.ProtocolRequestType(t.method)})(Yx=C.CompletionResolveRequest||(C.CompletionResolveRequest={}));var Kx;(function(t){t.method="textDocument/hover",t.type=new Re.ProtocolRequestType(t.method)})(Kx=C.HoverRequest||(C.HoverRequest={}));var $x;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})($x=C.SignatureHelpTriggerKind||(C.SignatureHelpTriggerKind={}));var zx;(function(t){t.method="textDocument/signatureHelp",t.type=new Re.ProtocolRequestType(t.method)})(zx=C.SignatureHelpRequest||(C.SignatureHelpRequest={}));var Xx;(function(t){t.method="textDocument/definition",t.type=new Re.ProtocolRequestType(t.method)})(Xx=C.DefinitionRequest||(C.DefinitionRequest={}));var Qx;(function(t){t.method="textDocument/references",t.type=new Re.ProtocolRequestType(t.method)})(Qx=C.ReferencesRequest||(C.ReferencesRequest={}));var Jx;(function(t){t.method="textDocument/documentHighlight",t.type=new Re.ProtocolRequestType(t.method)})(Jx=C.DocumentHighlightRequest||(C.DocumentHighlightRequest={}));var Zx;(function(t){t.method="textDocument/documentSymbol",t.type=new Re.ProtocolRequestType(t.method)})(Zx=C.DocumentSymbolRequest||(C.DocumentSymbolRequest={}));var eE;(function(t){t.method="textDocument/codeAction",t.type=new Re.ProtocolRequestType(t.method)})(eE=C.CodeActionRequest||(C.CodeActionRequest={}));var tE;(function(t){t.method="codeAction/resolve",t.type=new Re.ProtocolRequestType(t.method)})(tE=C.CodeActionResolveRequest||(C.CodeActionResolveRequest={}));var nE;(function(t){t.method="workspace/symbol",t.type=new Re.ProtocolRequestType(t.method)})(nE=C.WorkspaceSymbolRequest||(C.WorkspaceSymbolRequest={}));var rE;(function(t){t.method="textDocument/codeLens",t.type=new Re.ProtocolRequestType(t.method)})(rE=C.CodeLensRequest||(C.CodeLensRequest={}));var iE;(function(t){t.method="codeLens/resolve",t.type=new Re.ProtocolRequestType(t.method)})(iE=C.CodeLensResolveRequest||(C.CodeLensResolveRequest={}));var sE;(function(t){t.method="workspace/codeLens/refresh",t.type=new Re.ProtocolRequestType0(t.method)})(sE=C.CodeLensRefreshRequest||(C.CodeLensRefreshRequest={}));var oE;(function(t){t.method="textDocument/documentLink",t.type=new Re.ProtocolRequestType(t.method)})(oE=C.DocumentLinkRequest||(C.DocumentLinkRequest={}));var aE;(function(t){t.method="documentLink/resolve",t.type=new Re.ProtocolRequestType(t.method)})(aE=C.DocumentLinkResolveRequest||(C.DocumentLinkResolveRequest={}));var lE;(function(t){t.method="textDocument/formatting",t.type=new Re.ProtocolRequestType(t.method)})(lE=C.DocumentFormattingRequest||(C.DocumentFormattingRequest={}));var cE;(function(t){t.method="textDocument/rangeFormatting",t.type=new Re.ProtocolRequestType(t.method)})(cE=C.DocumentRangeFormattingRequest||(C.DocumentRangeFormattingRequest={}));var uE;(function(t){t.method="textDocument/onTypeFormatting",t.type=new Re.ProtocolRequestType(t.method)})(uE=C.DocumentOnTypeFormattingRequest||(C.DocumentOnTypeFormattingRequest={}));var fE;(function(t){t.Identifier=1})(fE=C.PrepareSupportDefaultBehavior||(C.PrepareSupportDefaultBehavior={}));var pE;(function(t){t.method="textDocument/rename",t.type=new Re.ProtocolRequestType(t.method)})(pE=C.RenameRequest||(C.RenameRequest={}));var dE;(function(t){t.method="textDocument/prepareRename",t.type=new Re.ProtocolRequestType(t.method)})(dE=C.PrepareRenameRequest||(C.PrepareRenameRequest={}));var mE;(function(t){t.type=new Re.ProtocolRequestType("workspace/executeCommand")})(mE=C.ExecuteCommandRequest||(C.ExecuteCommandRequest={}));var hE;(function(t){t.type=new Re.ProtocolRequestType("workspace/applyEdit")})(hE=C.ApplyWorkspaceEditRequest||(C.ApplyWorkspaceEditRequest={}))});var Ey=q(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.createProtocolConnection=void 0;var xy=jo();function gE(t,e,n,r){return xy.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),xy.createMessageConnection(t,e,n,r)}Lc.createProtocolConnection=gE});var wy=q(gn=>{"use strict";var _E=gn&&gn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Dc=gn&&gn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&_E(e,t,n)};Object.defineProperty(gn,"__esModule",{value:!0});gn.LSPErrorCodes=gn.createProtocolConnection=void 0;Dc(jo(),gn);Dc(st(),gn);Dc(Yt(),gn);Dc(Ay(),gn);var yE=Ey();Object.defineProperty(gn,"createProtocolConnection",{enumerable:!0,get:function(){return yE.createProtocolConnection}});var TE;(function(t){t.lspReservedErrorRangeStart=-32899,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(TE=gn.LSPErrorCodes||(gn.LSPErrorCodes={}))});var un=q(ai=>{"use strict";var bE=ai&&ai.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Oy=ai&&ai.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&bE(e,t,n)};Object.defineProperty(ai,"__esModule",{value:!0});ai.createProtocolConnection=void 0;var vE=Kp();Oy(Kp(),ai);Oy(wy(),ai);function NE(t,e,n,r){return vE.createMessageConnection(t,e,n,r)}ai.createProtocolConnection=NE});var Zp=q(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.generateUuid=or.parse=or.isUUID=or.v4=or.empty=void 0;var Mc=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Oe=class extends Mc{constructor(){super([Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),"-",Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),"-","4",Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),"-",Oe._oneOf(Oe._timeHighBits),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),"-",Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return Oe._oneOf(Oe._chars)}};Oe._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Oe._timeHighBits=["8","9","a","b"];or.empty=new Mc("00000000-0000-0000-0000-000000000000");function Ly(){return new Oe}or.v4=Ly;var PE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Dy(t){return PE.test(t)}or.isUUID=Dy;function IE(t){if(!Dy(t))throw new Error("invalid uuid");return new Mc(t)}or.parse=IE;function SE(){return Ly().asHex()}or.generateUuid=SE});var ky=q(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.attachPartialResult=ss.ProgressFeature=ss.attachWorkDone=void 0;var is=un(),RE=Zp(),Mi=class{constructor(e,n){this._connection=e,this._token=n,Mi.Instances.set(this._token,this)}begin(e,n,r,i){let s={kind:"begin",title:e,percentage:n,message:r,cancellable:i};this._connection.sendProgress(is.WorkDoneProgress.type,this._token,s)}report(e,n){let r={kind:"report"};typeof e=="number"?(r.percentage=e,n!==void 0&&(r.message=n)):r.message=e,this._connection.sendProgress(is.WorkDoneProgress.type,this._token,r)}done(){Mi.Instances.delete(this._token),this._connection.sendProgress(is.WorkDoneProgress.type,this._token,{kind:"end"})}};Mi.Instances=new Map;var ed=class extends Mi{constructor(e,n){super(e,n);this._source=new is.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},kc=class{constructor(){}begin(){}report(){}done(){}},td=class extends kc{constructor(){super();this._source=new is.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function CE(t,e){if(e===void 0||e.workDoneToken===void 0)return new kc;let n=e.workDoneToken;return delete e.workDoneToken,new Mi(t,n)}ss.attachWorkDone=CE;var AE=t=>class extends t{constructor(){super();this._progressSupported=!1}initialize(e){var n;((n=e==null?void 0:e.window)===null||n===void 0?void 0:n.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(is.WorkDoneProgressCancelNotification.type,r=>{let i=Mi.Instances.get(r.token);(i instanceof ed||i instanceof td)&&i.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new kc:new Mi(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){let e=RE.generateUuid();return this.connection.sendRequest(is.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new ed(this.connection,e))}else return Promise.resolve(new td)}};ss.ProgressFeature=AE;var nd;(function(t){t.type=new is.ProgressType})(nd||(nd={}));var My=class{constructor(e,n){this._connection=e,this._token=n}report(e){this._connection.sendProgress(nd.type,this._token,e)}};function xE(t,e){if(e===void 0||e.partialResultToken===void 0)return;let n=e.partialResultToken;return delete e.partialResultToken,new My(t,n)}ss.attachPartialResult=xE});var Fy=q(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.ConfigurationFeature=void 0;var EE=un(),wE=Ic(),OE=t=>class extends t{getConfiguration(e){return e?wE.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let n={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(EE.ConfigurationRequest.type,n).then(r=>Array.isArray(e)?r:r[0])}};Fc.ConfigurationFeature=OE});var qy=q(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});Vc.WorkspaceFoldersFeature=void 0;var qc=un(),LE=t=>class extends t{initialize(e){let n=e.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new qc.Emitter,this.connection.onNotification(qc.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(qc.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(qc.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};Vc.WorkspaceFoldersFeature=LE});var Vy=q(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.CallHierarchyFeature=void 0;var rd=un(),DE=t=>class extends t{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest(rd.CallHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))},onIncomingCalls:e=>{let n=rd.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:e=>{let n=rd.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Bc.CallHierarchyFeature=DE});var sd=q(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.SemanticTokensBuilder=Wo.SemanticTokensFeature=void 0;var id=un(),ME=t=>class extends t{get semanticTokens(){return{on:e=>{let n=id.SemanticTokensRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:e=>{let n=id.SemanticTokensDeltaRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:e=>{let n=id.SemanticTokensRangeRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Wo.SemanticTokensFeature=ME;var By=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,n,r,i,s){let o=e,a=n;this._dataLen>0&&(o-=this._prevLine,o===0&&(a-=this._prevChar)),this._data[this._dataLen++]=o,this._data[this._dataLen++]=a,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=e,this._prevChar=n}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){let e=this._prevData.length,n=this._data.length,r=0;for(;r<n&&r<e&&this._prevData[r]===this._data[r];)r++;if(r<n&&r<e){let i=0;for(;i<n&&i<e&&this._prevData[e-1-i]===this._data[n-1-i];)i++;let s=this._data.slice(r,n-i);return{resultId:this.id,edits:[{start:r,deleteCount:e-i-r,data:s}]}}else return r<n?{resultId:this.id,edits:[{start:r,deleteCount:0,data:this._data.slice(r)}]}:r<e?{resultId:this.id,edits:[{start:r,deleteCount:e-r}]}:{resultId:this.id,edits:[]}}else return this.build()}};Wo.SemanticTokensBuilder=By});var jy=q(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.ShowDocumentFeature=void 0;var kE=un(),FE=t=>class extends t{showDocument(e){return this.connection.sendRequest(kE.ShowDocumentRequest.type,e)}};jc.ShowDocumentFeature=FE});var Uy=q(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.FileOperationsFeature=void 0;var Ho=un(),qE=t=>class extends t{onDidCreateFiles(e){this.connection.onNotification(Ho.DidCreateFilesNotification.type,n=>{e(n)})}onDidRenameFiles(e){this.connection.onNotification(Ho.DidRenameFilesNotification.type,n=>{e(n)})}onDidDeleteFiles(e){this.connection.onNotification(Ho.DidDeleteFilesNotification.type,n=>{e(n)})}onWillCreateFiles(e){return this.connection.onRequest(Ho.WillCreateFilesRequest.type,(n,r)=>e(n,r))}onWillRenameFiles(e){return this.connection.onRequest(Ho.WillRenameFilesRequest.type,(n,r)=>e(n,r))}onWillDeleteFiles(e){return this.connection.onRequest(Ho.WillDeleteFilesRequest.type,(n,r)=>e(n,r))}};Uc.FileOperationsFeature=qE});var Gy=q(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.LinkedEditingRangeFeature=void 0;var VE=un(),BE=t=>class extends t{onLinkedEditingRange(e){this.connection.onRequest(VE.LinkedEditingRangeRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))}};Gc.LinkedEditingRangeFeature=BE});var Wy=q(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.MonikerFeature=void 0;var jE=un(),UE=t=>class extends t{get moniker(){return{on:e=>{let n=jE.MonikerRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Wc.MonikerFeature=UE});var md=q(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.createConnection=We.combineFeatures=We.combineLanguagesFeatures=We.combineWorkspaceFeatures=We.combineWindowFeatures=We.combineClientFeatures=We.combineTracerFeatures=We.combineTelemetryFeatures=We.combineConsoleFeatures=We._LanguagesImpl=We.BulkUnregistration=We.BulkRegistration=We.ErrorMessageTracker=We.TextDocuments=void 0;var Y=un(),ar=Ic(),od=Zp(),Ce=ky(),GE=Fy(),WE=qy(),HE=Vy(),YE=sd(),KE=jy(),$E=Uy(),zE=Gy(),XE=Wy();function ad(t){if(t!==null)return t}var Hy=class{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new Y.Emitter,this._onDidOpen=new Y.Emitter,this._onDidClose=new Y.Emitter,this._onDidSave=new Y.Emitter,this._onWillSave=new Y.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map(e=>this._documents[e])}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=Y.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(n=>{let r=n.textDocument,i=this._configuration.create(r.uri,r.languageId,r.version,r.text);this._documents[r.uri]=i;let s=Object.freeze({document:i});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)}),e.onDidChangeTextDocument(n=>{let r=n.textDocument,i=n.contentChanges;if(i.length===0)return;let s=this._documents[r.uri],{version:o}=r;if(o==null)throw new Error(`Received document change event for ${r.uri} without valid version identifier`);s=this._configuration.update(s,i,o),this._documents[r.uri]=s,this._onDidChangeContent.fire(Object.freeze({document:s}))}),e.onDidCloseTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&(delete this._documents[n.textDocument.uri],this._onDidClose.fire(Object.freeze({document:r})))}),e.onWillSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onWillSave.fire(Object.freeze({document:r,reason:n.reason}))}),e.onWillSaveTextDocumentWaitUntil((n,r)=>{let i=this._documents[n.textDocument.uri];return i&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:i,reason:n.reason}),r):[]}),e.onDidSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onDidSave.fire(Object.freeze({document:r}))})}};We.TextDocuments=Hy;var Yy=class{constructor(){this._messages=Object.create(null)}add(e){let n=this._messages[e];n||(n=0),n++,this._messages[e]=n}sendErrors(e){Object.keys(this._messages).forEach(n=>{e.window.showErrorMessage(n)})}};We.ErrorMessageTracker=Yy;var ld=class{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(Y.MessageType.Error,e)}warn(e){this.send(Y.MessageType.Warning,e)}info(e){this.send(Y.MessageType.Info,e)}log(e){this.send(Y.MessageType.Log,e)}send(e,n){this._rawConnection&&this._rawConnection.sendNotification(Y.LogMessageNotification.type,{type:e,message:n})}},Ky=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...n){let r={type:Y.MessageType.Error,message:e,actions:n};return this.connection.sendRequest(Y.ShowMessageRequest.type,r).then(ad)}showWarningMessage(e,...n){let r={type:Y.MessageType.Warning,message:e,actions:n};return this.connection.sendRequest(Y.ShowMessageRequest.type,r).then(ad)}showInformationMessage(e,...n){let r={type:Y.MessageType.Info,message:e,actions:n};return this.connection.sendRequest(Y.ShowMessageRequest.type,r).then(ad)}},$y=KE.ShowDocumentFeature(Ce.ProgressFeature(Ky)),QE;(function(t){function e(){return new cd}t.create=e})(QE=We.BulkRegistration||(We.BulkRegistration={}));var cd=class{constructor(){this._registrations=[],this._registered=new Set}add(e,n){let r=ar.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let i=od.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},JE;(function(t){function e(){return new Hc(void 0,[])}t.create=e})(JE=We.BulkUnregistration||(We.BulkUnregistration={}));var Hc=class{constructor(e,n){this._connection=e,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let n={unregisterations:e};this._connection.sendRequest(Y.UnregistrationRequest.type,n).then(void 0,r=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){let n=ar.string(e)?e:e.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(Y.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},s=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},ud=class{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,n,r){return e instanceof cd?this.registerMany(e):e instanceof Hc?this.registerSingle1(e,n,r):this.registerSingle2(e,n)}registerSingle1(e,n,r){let i=ar.string(n)?n:n.method,s=od.generateUuid(),o={registrations:[{id:s,method:i,registerOptions:r||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(Y.RegistrationRequest.type,o).then(a=>(e.add({id:s,method:i}),e),a=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(a)))}registerSingle2(e,n){let r=ar.string(e)?e:e.method,i=od.generateUuid(),s={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(Y.RegistrationRequest.type,s).then(o=>Y.Disposable.create(()=>{this.unregisterSingle(i,r)}),o=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(o)))}unregisterSingle(e,n){let r={unregisterations:[{id:e,method:n}]};return this.connection.sendRequest(Y.UnregistrationRequest.type,r).then(void 0,i=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let n=e.asRegistrationParams();return this.connection.sendRequest(Y.RegistrationRequest.type,n).then(()=>new Hc(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},zy=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function n(i){return i&&!!i.edit}let r=n(e)?e:{edit:e};return this.connection.sendRequest(Y.ApplyWorkspaceEditRequest.type,r)}},Xy=$E.FileOperationsFeature(WE.WorkspaceFoldersFeature(GE.ConfigurationFeature(zy))),fd=class{constructor(){this._trace=Y.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,n){this._trace!==Y.Trace.Off&&this.connection.sendNotification(Y.LogTraceNotification.type,{message:e,verbose:this._trace===Y.Trace.Verbose?n:void 0})}},pd=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(Y.TelemetryEventNotification.type,e)}},dd=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return Ce.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,n){return Ce.attachPartialResult(this.connection,n)}};We._LanguagesImpl=dd;var Qy=XE.MonikerFeature(zE.LinkedEditingRangeFeature(YE.SemanticTokensFeature(HE.CallHierarchyFeature(dd))));function Jy(t,e){return function(n){return e(t(n))}}We.combineConsoleFeatures=Jy;function Zy(t,e){return function(n){return e(t(n))}}We.combineTelemetryFeatures=Zy;function eT(t,e){return function(n){return e(t(n))}}We.combineTracerFeatures=eT;function tT(t,e){return function(n){return e(t(n))}}We.combineClientFeatures=tT;function nT(t,e){return function(n){return e(t(n))}}We.combineWindowFeatures=nT;function rT(t,e){return function(n){return e(t(n))}}We.combineWorkspaceFeatures=rT;function ZE(t,e){return function(n){return e(t(n))}}We.combineLanguagesFeatures=ZE;function ew(t,e){function n(i,s,o){return i&&s?o(i,s):i||s}return{__brand:"features",console:n(t.console,e.console,Jy),tracer:n(t.tracer,e.tracer,eT),telemetry:n(t.telemetry,e.telemetry,Zy),client:n(t.client,e.client,tT),window:n(t.window,e.window,nT),workspace:n(t.workspace,e.workspace,rT)}}We.combineFeatures=ew;function tw(t,e,n){let r=n&&n.console?new(n.console(ld)):new ld,i=t(r);r.rawAttach(i);let s=n&&n.tracer?new(n.tracer(fd)):new fd,o=n&&n.telemetry?new(n.telemetry(pd)):new pd,a=n&&n.client?new(n.client(ud)):new ud,l=n&&n.window?new(n.window($y)):new $y,c=n&&n.workspace?new(n.workspace(Xy)):new Xy,u=n&&n.languages?new(n.languages(Qy)):new Qy,f=[r,s,o,a,l,c,u];function m(_){return _ instanceof Promise?_:ar.thenable(_)?new Promise((T,S)=>{_.then(g=>T(g),g=>S(g))}):Promise.resolve(_)}let p,d,h,y={listen:()=>i.listen(),sendRequest:(_,...T)=>i.sendRequest(ar.string(_)?_:_.method,...T),onRequest:(_,T)=>i.onRequest(_,T),sendNotification:(_,T)=>{let S=ar.string(_)?_:_.method;arguments.length===1?i.sendNotification(S):i.sendNotification(S,T)},onNotification:(_,T)=>i.onNotification(_,T),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:_=>d=_,onInitialized:_=>i.onNotification(Y.InitializedNotification.type,_),onShutdown:_=>p=_,onExit:_=>h=_,get console(){return r},get telemetry(){return o},get tracer(){return s},get client(){return a},get window(){return l},get workspace(){return c},get languages(){return u},onDidChangeConfiguration:_=>i.onNotification(Y.DidChangeConfigurationNotification.type,_),onDidChangeWatchedFiles:_=>i.onNotification(Y.DidChangeWatchedFilesNotification.type,_),__textDocumentSync:void 0,onDidOpenTextDocument:_=>i.onNotification(Y.DidOpenTextDocumentNotification.type,_),onDidChangeTextDocument:_=>i.onNotification(Y.DidChangeTextDocumentNotification.type,_),onDidCloseTextDocument:_=>i.onNotification(Y.DidCloseTextDocumentNotification.type,_),onWillSaveTextDocument:_=>i.onNotification(Y.WillSaveTextDocumentNotification.type,_),onWillSaveTextDocumentWaitUntil:_=>i.onRequest(Y.WillSaveTextDocumentWaitUntilRequest.type,_),onDidSaveTextDocument:_=>i.onNotification(Y.DidSaveTextDocumentNotification.type,_),sendDiagnostics:_=>i.sendNotification(Y.PublishDiagnosticsNotification.type,_),onHover:_=>i.onRequest(Y.HoverRequest.type,(T,S)=>_(T,S,Ce.attachWorkDone(i,T),void 0)),onCompletion:_=>i.onRequest(Y.CompletionRequest.type,(T,S)=>_(T,S,Ce.attachWorkDone(i,T),Ce.attachPartialResult(i,T))),onCompletionResolve:_=>i.onRequest(Y.CompletionResolveRequest.type,_),onSignatureHelp:_=>i.onRequest(Y.SignatureHelpRequest.type,(T,S)=>_(T,S,Ce.attachWorkDone(i,T),void 0)),onDeclaration:_=>i.onRequest(Y.DeclarationRequest.type,(T,S)=>_(T,S,Ce.attachWorkDone(i,T),Ce.attachPartialResult(i,T))),onDefinition:_=>i.onRequest(Y.DefinitionRequest.type,(T,S)=>_(T,S,Ce.attachWorkDone(i,T),Ce.attachPartialResult(i,T))),onTypeDefinition:_=>i.onRequest(Y.TypeDefinitionRequest.type,(T,S)=>_(T,S,Ce.attachWorkDone(i,T),Ce.attachPartialResult(i,T))),onImplementation:_=>i.onRequest(Y.ImplementationRequest.type,(T,S)=>_(T,S,Ce.attachWorkDone(i,T),Ce.attachPartialResult(i,T))),onReferences:_=>i.onRequest(Y.ReferencesRequest.type,(T,S)=>_(T,S,Ce.attachWorkDone(i,T),Ce.attachPartialResult(i,T))),onDocumentHighlight:_=>i.onRequest(Y.DocumentHighlightRequest.type,(T,S)=>_(T,S,Ce.attachWorkDone(i,T),Ce.attachPartialResult(i,T))),onDocumentSymbol:_=>i.onRequest(Y.DocumentSymbolRequest.type,(T,S)=>_(T,S,Ce.attachWorkDone(i,T),Ce.attachPartialResult(i,T))),onWorkspaceSymbol:_=>i.onRequest(Y.WorkspaceSymbolRequest.type,(T,S)=>_(T,S,Ce.attachWorkDone(i,T),Ce.attachPartialResult(i,T))),onCodeAction:_=>i.onRequest(Y.CodeActionRequest.type,(T,S)=>_(T,S,Ce.attachWorkDone(i,T),Ce.attachPartialResult(i,T))),onCodeActionResolve:_=>i.onRequest(Y.CodeActionResolveRequest.type,(T,S)=>_(T,S)),onCodeLens:_=>i.onRequest(Y.CodeLensRequest.type,(T,S)=>_(T,S,Ce.attachWorkDone(i,T),Ce.attachPartialResult(i,T))),onCodeLensResolve:_=>i.onRequest(Y.CodeLensResolveRequest.type,(T,S)=>_(T,S)),onDocumentFormatting:_=>i.onRequest(Y.DocumentFormattingRequest.type,(T,S)=>_(T,S,Ce.attachWorkDone(i,T),void 0)),onDocumentRangeFormatting:_=>i.onRequest(Y.DocumentRangeFormattingRequest.type,(T,S)=>_(T,S,Ce.attachWorkDone(i,T),void 0)),onDocumentOnTypeFormatting:_=>i.onRequest(Y.DocumentOnTypeFormattingRequest.type,(T,S)=>_(T,S)),onRenameRequest:_=>i.onRequest(Y.RenameRequest.type,(T,S)=>_(T,S,Ce.attachWorkDone(i,T),void 0)),onPrepareRename:_=>i.onRequest(Y.PrepareRenameRequest.type,(T,S)=>_(T,S)),onDocumentLinks:_=>i.onRequest(Y.DocumentLinkRequest.type,(T,S)=>_(T,S,Ce.attachWorkDone(i,T),Ce.attachPartialResult(i,T))),onDocumentLinkResolve:_=>i.onRequest(Y.DocumentLinkResolveRequest.type,(T,S)=>_(T,S)),onDocumentColor:_=>i.onRequest(Y.DocumentColorRequest.type,(T,S)=>_(T,S,Ce.attachWorkDone(i,T),Ce.attachPartialResult(i,T))),onColorPresentation:_=>i.onRequest(Y.ColorPresentationRequest.type,(T,S)=>_(T,S,Ce.attachWorkDone(i,T),Ce.attachPartialResult(i,T))),onFoldingRanges:_=>i.onRequest(Y.FoldingRangeRequest.type,(T,S)=>_(T,S,Ce.attachWorkDone(i,T),Ce.attachPartialResult(i,T))),onSelectionRanges:_=>i.onRequest(Y.SelectionRangeRequest.type,(T,S)=>_(T,S,Ce.attachWorkDone(i,T),Ce.attachPartialResult(i,T))),onExecuteCommand:_=>i.onRequest(Y.ExecuteCommandRequest.type,(T,S)=>_(T,S,Ce.attachWorkDone(i,T),void 0)),dispose:()=>i.dispose()};for(let _ of f)_.attach(y);return i.onRequest(Y.InitializeRequest.type,_=>{e.initialize(_),ar.string(_.trace)&&(s.trace=Y.Trace.fromString(_.trace));for(let T of f)T.initialize(_.capabilities);if(d){let T=d(_,new Y.CancellationTokenSource().token,Ce.attachWorkDone(i,_),void 0);return m(T).then(S=>{if(S instanceof Y.ResponseError)return S;let g=S;g||(g={capabilities:{}});let E=g.capabilities;E||(E={},g.capabilities=E),E.textDocumentSync===void 0||E.textDocumentSync===null?E.textDocumentSync=ar.number(y.__textDocumentSync)?y.__textDocumentSync:Y.TextDocumentSyncKind.None:!ar.number(E.textDocumentSync)&&!ar.number(E.textDocumentSync.change)&&(E.textDocumentSync.change=ar.number(y.__textDocumentSync)?y.__textDocumentSync:Y.TextDocumentSyncKind.None);for(let H of f)H.fillServerCapabilities(E);return g})}else{let T={capabilities:{textDocumentSync:Y.TextDocumentSyncKind.None}};for(let S of f)S.fillServerCapabilities(T.capabilities);return T}}),i.onRequest(Y.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,p)return p(new Y.CancellationTokenSource().token)}),i.onNotification(Y.ExitNotification.type,()=>{try{h&&h()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),i.onNotification(Y.SetTraceNotification.type,_=>{s.trace=Y.Trace.fromString(_.value)}),y}We.createConnection=tw});var sT=q(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.resolveModulePath=_n.FileSystem=_n.resolveGlobalYarnPath=_n.resolveGlobalNodePath=_n.resolve=_n.uriToFilePath=void 0;var nw=require("url"),Er=require("path"),hd=require("fs"),gd=require("child_process");function rw(t){let e=nw.parse(t);if(e.protocol!=="file:"||!e.path)return;let n=e.path.split("/");for(var r=0,i=n.length;r<i;r++)n[r]=decodeURIComponent(n[r]);if(process.platform==="win32"&&n.length>1){let s=n[0],o=n[1];s.length===0&&o.length>1&&o[1]===":"&&n.shift()}return Er.normalize(n.join("/"))}_n.uriToFilePath=rw;function _d(){return process.platform==="win32"}function Yc(t,e,n,r){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((o,a)=>{let l=process.env,c=Object.create(null);Object.keys(l).forEach(u=>c[u]=l[u]),e&&hd.existsSync(e)&&(c[i]?c[i]=e+Er.delimiter+c[i]:c[i]=e,r&&r(`NODE_PATH value is: ${c[i]}`)),c.ELECTRON_RUN_AS_NODE="1";try{let u=gd.fork("",[],{cwd:n,env:c,execArgv:["-e",s]});if(u.pid===void 0){a(new Error(`Starting process to resolve node module  ${t} failed`));return}u.on("error",m=>{a(m)}),u.on("message",m=>{m.c==="r"&&(u.send({c:"e"}),m.s?o(m.r):a(new Error(`Failed to resolve module: ${t}`)))});let f={c:"rs",a:t};u.send(f)}catch(u){a(u)}})}_n.resolve=Yc;function yd(t){let e="npm",n=Object.create(null);Object.keys(process.env).forEach(s=>n[s]=process.env[s]),n.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:n};_d()&&(e="npm.cmd",r.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let s=gd.spawnSync(e,["config","get","prefix"],r).stdout;if(!s){t&&t("'npm config get prefix' didn't return a value.");return}let o=s.trim();return t&&t(`'npm config get prefix' value is: ${o}`),o.length>0?_d()?Er.join(o,"node_modules"):Er.join(o,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}_n.resolveGlobalNodePath=yd;function iw(t){let e="yarn",n={encoding:"utf8"};_d()&&(e="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let i=gd.spawnSync(e,["global","dir","--json"],n),s=i.stdout;if(!s){t&&(t("'yarn global dir' didn't return a value."),i.stderr&&t(i.stderr));return}let o=s.trim().split(/\r?\n/);for(let a of o)try{let l=JSON.parse(a);if(l.type==="log")return Er.join(l.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}_n.resolveGlobalYarnPath=iw;var iT;(function(t){let e;function n(){return e!==void 0||(process.platform==="win32"?e=!1:e=!hd.existsSync(__filename.toUpperCase())||!hd.existsSync(__filename.toLowerCase())),e}t.isCaseSensitive=n;function r(i,s){return n()?Er.normalize(s).indexOf(Er.normalize(i))===0:Er.normalize(s).toLowerCase().indexOf(Er.normalize(i).toLowerCase())===0}t.isParent=r})(iT=_n.FileSystem||(_n.FileSystem={}));function sw(t,e,n,r){return n?(Er.isAbsolute(n)||(n=Er.join(t,n)),Yc(e,n,n,r).then(i=>iT.isParent(n,i)?i:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,i=>Yc(e,yd(r),t,r))):Yc(e,yd(r),t,r)}_n.resolveModulePath=sw});var Td=q((yj,oT)=>{"use strict";oT.exports=un()});var lT=q(Un=>{"use strict";var ow=Un&&Un.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),aT=Un&&Un.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&ow(e,t,n)};Object.defineProperty(Un,"__esModule",{value:!0});Un.ProposedFeatures=Un.SemanticTokensBuilder=void 0;var aw=sd();Object.defineProperty(Un,"SemanticTokensBuilder",{enumerable:!0,get:function(){return aw.SemanticTokensBuilder}});aT(un(),Un);aT(md(),Un);var lw;(function(t){t.all={__brand:"features"}})(lw=Un.ProposedFeatures||(Un.ProposedFeatures={}))});var Zt=q(Gn=>{"use strict";var cw=Gn&&Gn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),cT=Gn&&Gn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&cw(e,t,n)};Object.defineProperty(Gn,"__esModule",{value:!0});Gn.createConnection=Gn.Files=void 0;var bd=Ic(),uw=md(),ml=sT(),Us=Td();cT(Td(),Gn);cT(lT(),Gn);var fw;(function(t){t.uriToFilePath=ml.uriToFilePath,t.resolveGlobalNodePath=ml.resolveGlobalNodePath,t.resolveGlobalYarnPath=ml.resolveGlobalYarnPath,t.resolve=ml.resolve,t.resolveModulePath=ml.resolveModulePath})(fw=Gn.Files||(Gn.Files={}));var uT;function Kc(){if(uT!==void 0)try{uT.end()}catch{}}var Yo=!1,fT;function pw(){let t="--clientProcessId";function e(n){try{let r=parseInt(n);isNaN(r)||(fT=setInterval(()=>{try{process.kill(r,0)}catch{Kc(),process.exit(Yo?0:1)}},3e3))}catch{}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===t&&n+1<process.argv.length){e(process.argv[n+1]);return}else{let i=r.split("=");i[0]===t&&e(i[1])}}}pw();var dw={initialize:t=>{let e=t.processId;bd.number(e)&&fT===void 0&&setInterval(()=>{try{process.kill(e,0)}catch{process.exit(Yo?0:1)}},3e3)},get shutdownReceived(){return Yo},set shutdownReceived(t){Yo=t},exit:t=>{Kc(),process.exit(t)}};function mw(t,e,n,r){let i,s,o,a;return t!==void 0&&t.__brand==="features"&&(i=t,t=e,e=n,n=r),Us.ConnectionStrategy.is(t)||Us.ConnectionOptions.is(t)?a=t:(s=t,o=e,a=n),hw(s,o,a,i)}Gn.createConnection=mw;function hw(t,e,n,r){if(!t&&!e&&process.argv.length>2){let a,l,c=process.argv.slice(2);for(let u=0;u<c.length;u++){let f=c[u];if(f==="--node-ipc"){t=new Us.IPCMessageReader(process),e=new Us.IPCMessageWriter(process);break}else if(f==="--stdio"){t=process.stdin,e=process.stdout;break}else if(f==="--socket"){a=parseInt(c[u+1]);break}else if(f==="--pipe"){l=c[u+1];break}else{var i=f.split("=");if(i[0]==="--socket"){a=parseInt(i[1]);break}else if(i[0]==="--pipe"){l=i[1];break}}}if(a){let u=Us.createServerSocketTransport(a);t=u[0],e=u[1]}else if(l){let u=Us.createServerPipeTransport(l);t=u[0],e=u[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+s);if(!e)throw new Error("Connection output stream is not set. "+s);if(bd.func(t.read)&&bd.func(t.on)){let a=t;a.on("end",()=>{Kc(),process.exit(Yo?0:1)}),a.on("close",()=>{Kc(),process.exit(Yo?0:1)})}let o=a=>Us.createProtocolConnection(t,e,a,n);return uw.createConnection(o,dw,r)}});var dT=q((vj,pT)=>{"use strict";pT.exports=Zt()});var Nd=q(vd=>{"use strict";Object.defineProperty(vd,"__esModule",{value:!0});vd.default=Iw;var Nw=Pw(require("crypto"));function Pw(t){return t&&t.__esModule?t:{default:t}}var zc=new Uint8Array(256),Xc=zc.length;function Iw(){return Xc>zc.length-16&&(Nw.default.randomFillSync(zc),Xc=0),zc.slice(Xc,Xc+=16)}});var ST=q(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.default=void 0;var Sw=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Qc.default=Sw});var gl=q(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.default=void 0;var Rw=Cw(ST());function Cw(t){return t&&t.__esModule?t:{default:t}}function Aw(t){return typeof t=="string"&&Rw.default.test(t)}var xw=Aw;Jc.default=xw});var _l=q(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.default=void 0;var Ew=ww(gl());function ww(t){return t&&t.__esModule?t:{default:t}}var tn=[];for(let t=0;t<256;++t)tn.push((t+256).toString(16).substr(1));function Ow(t,e=0){let n=(tn[t[e+0]]+tn[t[e+1]]+tn[t[e+2]]+tn[t[e+3]]+"-"+tn[t[e+4]]+tn[t[e+5]]+"-"+tn[t[e+6]]+tn[t[e+7]]+"-"+tn[t[e+8]]+tn[t[e+9]]+"-"+tn[t[e+10]]+tn[t[e+11]]+tn[t[e+12]]+tn[t[e+13]]+tn[t[e+14]]+tn[t[e+15]]).toLowerCase();if(!(0,Ew.default)(n))throw TypeError("Stringified UUID is invalid");return n}var Lw=Ow;Zc.default=Lw});var AT=q(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.default=void 0;var Dw=RT(Nd()),Mw=RT(_l());function RT(t){return t&&t.__esModule?t:{default:t}}var CT,Pd,Id=0,Sd=0;function kw(t,e,n){let r=e&&n||0,i=e||new Array(16);t=t||{};let s=t.node||CT,o=t.clockseq!==void 0?t.clockseq:Pd;if(s==null||o==null){let m=t.random||(t.rng||Dw.default)();s==null&&(s=CT=[m[0]|1,m[1],m[2],m[3],m[4],m[5]]),o==null&&(o=Pd=(m[6]<<8|m[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),l=t.nsecs!==void 0?t.nsecs:Sd+1,c=a-Id+(l-Sd)/1e4;if(c<0&&t.clockseq===void 0&&(o=o+1&16383),(c<0||a>Id)&&t.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Id=a,Sd=l,Pd=o,a+=122192928e5;let u=((a&268435455)*1e4+l)%4294967296;i[r++]=u>>>24&255,i[r++]=u>>>16&255,i[r++]=u>>>8&255,i[r++]=u&255;let f=a/4294967296*1e4&268435455;i[r++]=f>>>8&255,i[r++]=f&255,i[r++]=f>>>24&15|16,i[r++]=f>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(let m=0;m<6;++m)i[r+m]=s[m];return e||(0,Mw.default)(i)}var Fw=kw;eu.default=Fw});var Rd=q(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu.default=void 0;var qw=Vw(gl());function Vw(t){return t&&t.__esModule?t:{default:t}}function Bw(t){if(!(0,qw.default)(t))throw TypeError("Invalid UUID");let e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}var jw=Bw;tu.default=jw});var Cd=q(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.default=Hw;Hs.URL=Hs.DNS=void 0;var Uw=xT(_l()),Gw=xT(Rd());function xT(t){return t&&t.__esModule?t:{default:t}}function Ww(t){t=unescape(encodeURIComponent(t));let e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var ET="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Hs.DNS=ET;var wT="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Hs.URL=wT;function Hw(t,e,n){function r(i,s,o,a){if(typeof i=="string"&&(i=Ww(i)),typeof s=="string"&&(s=(0,Gw.default)(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+i.length);if(l.set(s),l.set(i,s.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){a=a||0;for(let c=0;c<16;++c)o[a+c]=l[c];return o}return(0,Uw.default)(l)}try{r.name=t}catch{}return r.DNS=ET,r.URL=wT,r}});var OT=q(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.default=void 0;var Yw=Kw(require("crypto"));function Kw(t){return t&&t.__esModule?t:{default:t}}function $w(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),Yw.default.createHash("md5").update(t).digest()}var zw=$w;nu.default=zw});var DT=q(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.default=void 0;var Xw=LT(Cd()),Qw=LT(OT());function LT(t){return t&&t.__esModule?t:{default:t}}var Jw=(0,Xw.default)("v3",48,Qw.default),Zw=Jw;ru.default=Zw});var kT=q(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.default=void 0;var eO=MT(Nd()),tO=MT(_l());function MT(t){return t&&t.__esModule?t:{default:t}}function nO(t,e,n){t=t||{};let r=t.random||(t.rng||eO.default)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return(0,tO.default)(r)}var rO=nO;iu.default=rO});var FT=q(su=>{"use strict";Object.defineProperty(su,"__esModule",{value:!0});su.default=void 0;var iO=sO(require("crypto"));function sO(t){return t&&t.__esModule?t:{default:t}}function oO(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),iO.default.createHash("sha1").update(t).digest()}var aO=oO;su.default=aO});var VT=q(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.default=void 0;var lO=qT(Cd()),cO=qT(FT());function qT(t){return t&&t.__esModule?t:{default:t}}var uO=(0,lO.default)("v5",80,cO.default),fO=uO;ou.default=fO});var BT=q(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.default=void 0;var pO="00000000-0000-0000-0000-000000000000";au.default=pO});var jT=q(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.default=void 0;var dO=mO(gl());function mO(t){return t&&t.__esModule?t:{default:t}}function hO(t){if(!(0,dO.default)(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var gO=hO;lu.default=gO});var UT=q(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});Object.defineProperty(Or,"v1",{enumerable:!0,get:function(){return _O.default}});Object.defineProperty(Or,"v3",{enumerable:!0,get:function(){return yO.default}});Object.defineProperty(Or,"v4",{enumerable:!0,get:function(){return TO.default}});Object.defineProperty(Or,"v5",{enumerable:!0,get:function(){return bO.default}});Object.defineProperty(Or,"NIL",{enumerable:!0,get:function(){return vO.default}});Object.defineProperty(Or,"version",{enumerable:!0,get:function(){return NO.default}});Object.defineProperty(Or,"validate",{enumerable:!0,get:function(){return PO.default}});Object.defineProperty(Or,"stringify",{enumerable:!0,get:function(){return IO.default}});Object.defineProperty(Or,"parse",{enumerable:!0,get:function(){return SO.default}});var _O=ki(AT()),yO=ki(DT()),TO=ki(kT()),bO=ki(VT()),vO=ki(BT()),NO=ki(jT()),PO=ki(gl()),IO=ki(_l()),SO=ki(Rd());function ki(t){return t&&t.__esModule?t:{default:t}}});var tb=q((LU,eb)=>{"use strict";eb.exports=function(e){return typeof process!="undefined"||!process.env||!process.env[e]?!1:process.env[e]}});var lr=q((DU,nb)=>{"use strict";var RO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};nb.exports=function(e,n){var r=tb(),i="",s=[],o=0,a=function h(y){if(y instanceof RegExp)return new RegExp(y);if(y instanceof Date)return new Date(y);var _={};for(var T in y)RO(y[T])==="object"?_[T]=h(y[T]):_[T]=y[T];return _},l=function(y){return y!==1?1:0},c=function(y){return y>1?1:0},u=typeof window!="undefined"?window:global;u.$locutus=u.$locutus||{};var f=u.$locutus;if(f.php=f.php||{},(!f.php.locales||!f.php.locales.fr_CA||!f.php.locales.fr_CA.LC_TIME||!f.php.locales.fr_CA.LC_TIME.x)&&(f.php.locales={},f.php.locales.en={LC_COLLATE:function(y,_){return y===_?0:y>_?1:-1},LC_CTYPE:{an:/^[A-Za-z\d]+$/g,al:/^[A-Za-z]+$/g,ct:/^[\u0000-\u001F\u007F]+$/g,dg:/^[\d]+$/g,gr:/^[\u0021-\u007E]+$/g,lw:/^[a-z]+$/g,pr:/^[\u0020-\u007E]+$/g,pu:/^[\u0021-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007E]+$/g,sp:/^[\f\n\r\t\v ]+$/g,up:/^[A-Z]+$/g,xd:/^[A-Fa-f\d]+$/g,CODESET:"UTF-8",lower:"abcdefghijklmnopqrstuvwxyz",upper:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"},LC_TIME:{a:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B:["January","February","March","April","May","June","July","August","September","October","November","December"],c:"%a %d %b %Y %r %Z",p:["AM","PM"],P:["am","pm"],r:"%I:%M:%S %p",x:"%m/%d/%Y",X:"%r",alt_digits:"",ERA:"",ERA_YEAR:"",ERA_D_T_FMT:"",ERA_D_FMT:"",ERA_T_FMT:""},LC_MONETARY:{int_curr_symbol:"USD",currency_symbol:"$",mon_decimal_point:".",mon_thousands_sep:",",mon_grouping:[3],positive_sign:"",negative_sign:"-",int_frac_digits:2,frac_digits:2,p_cs_precedes:1,p_sep_by_space:0,n_cs_precedes:1,n_sep_by_space:0,p_sign_posn:3,n_sign_posn:0},LC_NUMERIC:{decimal_point:".",thousands_sep:",",grouping:[3]},LC_MESSAGES:{YESEXPR:"^[yY].*",NOEXPR:"^[nN].*",YESSTR:"",NOSTR:""},nplurals:l},f.php.locales.en_US=a(f.php.locales.en),f.php.locales.en_US.LC_TIME.c="%a %d %b %Y %r %Z",f.php.locales.en_US.LC_TIME.x="%D",f.php.locales.en_US.LC_TIME.X="%r",f.php.locales.en_US.LC_MONETARY.int_curr_symbol="USD ",f.php.locales.en_US.LC_MONETARY.p_sign_posn=1,f.php.locales.en_US.LC_MONETARY.n_sign_posn=1,f.php.locales.en_US.LC_MONETARY.mon_grouping=[3,3],f.php.locales.en_US.LC_NUMERIC.thousands_sep="",f.php.locales.en_US.LC_NUMERIC.grouping=[],f.php.locales.en_GB=a(f.php.locales.en),f.php.locales.en_GB.LC_TIME.r="%l:%M:%S %P %Z",f.php.locales.en_AU=a(f.php.locales.en_GB),f.php.locales.C=a(f.php.locales.en),f.php.locales.C.LC_CTYPE.CODESET="ANSI_X3.4-1968",f.php.locales.C.LC_MONETARY={int_curr_symbol:"",currency_symbol:"",mon_decimal_point:"",mon_thousands_sep:"",mon_grouping:[],p_cs_precedes:127,p_sep_by_space:127,n_cs_precedes:127,n_sep_by_space:127,p_sign_posn:127,n_sign_posn:127,positive_sign:"",negative_sign:"",int_frac_digits:127,frac_digits:127},f.php.locales.C.LC_NUMERIC={decimal_point:".",thousands_sep:"",grouping:[]},f.php.locales.C.LC_TIME.c="%a %b %e %H:%M:%S %Y",f.php.locales.C.LC_TIME.x="%m/%d/%y",f.php.locales.C.LC_TIME.X="%H:%M:%S",f.php.locales.C.LC_MESSAGES.YESEXPR="^[yY]",f.php.locales.C.LC_MESSAGES.NOEXPR="^[nN]",f.php.locales.fr=a(f.php.locales.en),f.php.locales.fr.nplurals=c,f.php.locales.fr.LC_TIME.a=["dim","lun","mar","mer","jeu","ven","sam"],f.php.locales.fr.LC_TIME.A=["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],f.php.locales.fr.LC_TIME.b=["jan","f\xE9v","mar","avr","mai","jun","jui","ao\xFB","sep","oct","nov","d\xE9c"],f.php.locales.fr.LC_TIME.B=["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"],f.php.locales.fr.LC_TIME.c="%a %d %b %Y %T %Z",f.php.locales.fr.LC_TIME.p=["",""],f.php.locales.fr.LC_TIME.P=["",""],f.php.locales.fr.LC_TIME.x="%d.%m.%Y",f.php.locales.fr.LC_TIME.X="%T",f.php.locales.fr_CA=a(f.php.locales.fr),f.php.locales.fr_CA.LC_TIME.x="%Y-%m-%d"),!f.php.locale&&(f.php.locale="en_US",typeof window!="undefined"&&window.document)){var m=window.document,p="https://www.w3.org/1999/xhtml",d="https://www.w3.org/XML/1998/namespace";m.getElementsByTagNameNS&&m.getElementsByTagNameNS(p,"html")[0]?m.getElementsByTagNameNS(p,"html")[0].getAttributeNS&&m.getElementsByTagNameNS(p,"html")[0].getAttributeNS(d,"lang")?f.php.locale=m.getElementsByTagName(p,"html")[0].getAttributeNS(d,"lang"):m.getElementsByTagNameNS(p,"html")[0].lang&&(f.php.locale=m.getElementsByTagNameNS(p,"html")[0].lang):m.getElementsByTagName("html")[0]&&m.getElementsByTagName("html")[0].lang&&(f.php.locale=m.getElementsByTagName("html")[0].lang)}if(f.php.locale=f.php.locale.replace("-","_"),f.php.locale in f.php.locales||f.php.locale.replace(/_[a-zA-Z]+$/,"")in f.php.locales&&(f.php.locale=f.php.locale.replace(/_[a-zA-Z]+$/,"")),f.php.localeCategories||(f.php.localeCategories={LC_COLLATE:f.php.locale,LC_CTYPE:f.php.locale,LC_MONETARY:f.php.locale,LC_NUMERIC:f.php.locale,LC_TIME:f.php.locale,LC_MESSAGES:f.php.locale}),n===null||n==="")n=r(e)||r("LANG");else if(Object.prototype.toString.call(n)==="[object Array]")for(o=0;o<n.length;o++){if(!(n[o]in f.php.locales)){if(o===n.length-1)return!1;continue}n=n[o];break}if(n==="0"||n===0){if(e==="LC_ALL"){for(i in f.php.localeCategories)s.push(i+"="+f.php.localeCategories[i]);return s.join(";")}return f.php.localeCategories[e]}if(!(n in f.php.locales))return!1;if(e==="LC_ALL")for(i in f.php.localeCategories)f.php.localeCategories[i]=n;else f.php.localeCategories[e]=n;return n}});var ib=q((MU,rb)=>{"use strict";rb.exports=function(e){var n=lr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.an)!==-1}});var ob=q((kU,sb)=>{"use strict";sb.exports=function(e){var n=lr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.al)!==-1}});var lb=q((FU,ab)=>{"use strict";ab.exports=function(e){var n=lr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.ct)!==-1}});var ub=q((qU,cb)=>{"use strict";cb.exports=function(e){var n=lr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.dg)!==-1}});var pb=q((VU,fb)=>{"use strict";fb.exports=function(e){var n=lr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.gr)!==-1}});var mb=q((BU,db)=>{"use strict";db.exports=function(e){var n=lr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.lw)!==-1}});var gb=q((jU,hb)=>{"use strict";hb.exports=function(e){var n=lr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.pr)!==-1}});var yb=q((UU,_b)=>{"use strict";_b.exports=function(e){var n=lr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.pu)!==-1}});var bb=q((GU,Tb)=>{"use strict";Tb.exports=function(e){var n=lr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.sp)!==-1}});var Nb=q((WU,vb)=>{"use strict";vb.exports=function(e){var n=lr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.up)!==-1}});var Ib=q((HU,Pb)=>{"use strict";Pb.exports=function(e){var n=lr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.xd)!==-1}});var Sb=q((YU,cr)=>{"use strict";cr.exports.ctype_alnum=ib();cr.exports.ctype_alpha=ob();cr.exports.ctype_cntrl=lb();cr.exports.ctype_digit=ub();cr.exports.ctype_graph=pb();cr.exports.ctype_lower=mb();cr.exports.ctype_print=gb();cr.exports.ctype_punct=yb();cr.exports.ctype_space=bb();cr.exports.ctype_upper=Nb();cr.exports.ctype_xdigit=Ib()});var Cb=q((KU,Rb)=>{"use strict";Rb.exports=function(e){var n=[" ",`
`,"\r","	","\f","\v","\xA0","\u2000","\u2001","\u2002","\u2003","\u2004","\u2005","\u2006","\u2007","\u2008","\u2009","\u200A","\u200B","\u2028","\u2029","\u3000"].join("");return(typeof e=="number"||typeof e=="string"&&n.indexOf(e.slice(-1))===-1)&&e!==""&&!isNaN(e)}});var uu=q(Od=>{"use strict";Object.defineProperty(Od,"__esModule",{value:!0});var Ab=function(){function t(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return t.hashStr=function(e,n){return n===void 0&&(n=!1),this.onePassHasher.start().appendStr(e).end(n)},t.hashAsciiStr=function(e,n){return n===void 0&&(n=!1),this.onePassHasher.start().appendAsciiStr(e).end(n)},t._hex=function(e){var n=t.hexChars,r=t.hexOut,i,s,o,a;for(a=0;a<4;a+=1)for(s=a*8,i=e[a],o=0;o<8;o+=2)r[s+1+o]=n.charAt(i&15),i>>>=4,r[s+0+o]=n.charAt(i&15),i>>>=4;return r.join("")},t._md5cycle=function(e,n){var r=e[0],i=e[1],s=e[2],o=e[3];r+=(i&s|~i&o)+n[0]-680876936|0,r=(r<<7|r>>>25)+i|0,o+=(r&i|~r&s)+n[1]-389564586|0,o=(o<<12|o>>>20)+r|0,s+=(o&r|~o&i)+n[2]+606105819|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&r)+n[3]-1044525330|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&o)+n[4]-176418897|0,r=(r<<7|r>>>25)+i|0,o+=(r&i|~r&s)+n[5]+1200080426|0,o=(o<<12|o>>>20)+r|0,s+=(o&r|~o&i)+n[6]-1473231341|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&r)+n[7]-45705983|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&o)+n[8]+1770035416|0,r=(r<<7|r>>>25)+i|0,o+=(r&i|~r&s)+n[9]-1958414417|0,o=(o<<12|o>>>20)+r|0,s+=(o&r|~o&i)+n[10]-42063|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&r)+n[11]-1990404162|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&o)+n[12]+1804603682|0,r=(r<<7|r>>>25)+i|0,o+=(r&i|~r&s)+n[13]-40341101|0,o=(o<<12|o>>>20)+r|0,s+=(o&r|~o&i)+n[14]-1502002290|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&r)+n[15]+1236535329|0,i=(i<<22|i>>>10)+s|0,r+=(i&o|s&~o)+n[1]-165796510|0,r=(r<<5|r>>>27)+i|0,o+=(r&s|i&~s)+n[6]-1069501632|0,o=(o<<9|o>>>23)+r|0,s+=(o&i|r&~i)+n[11]+643717713|0,s=(s<<14|s>>>18)+o|0,i+=(s&r|o&~r)+n[0]-373897302|0,i=(i<<20|i>>>12)+s|0,r+=(i&o|s&~o)+n[5]-701558691|0,r=(r<<5|r>>>27)+i|0,o+=(r&s|i&~s)+n[10]+38016083|0,o=(o<<9|o>>>23)+r|0,s+=(o&i|r&~i)+n[15]-660478335|0,s=(s<<14|s>>>18)+o|0,i+=(s&r|o&~r)+n[4]-405537848|0,i=(i<<20|i>>>12)+s|0,r+=(i&o|s&~o)+n[9]+568446438|0,r=(r<<5|r>>>27)+i|0,o+=(r&s|i&~s)+n[14]-1019803690|0,o=(o<<9|o>>>23)+r|0,s+=(o&i|r&~i)+n[3]-187363961|0,s=(s<<14|s>>>18)+o|0,i+=(s&r|o&~r)+n[8]+1163531501|0,i=(i<<20|i>>>12)+s|0,r+=(i&o|s&~o)+n[13]-1444681467|0,r=(r<<5|r>>>27)+i|0,o+=(r&s|i&~s)+n[2]-51403784|0,o=(o<<9|o>>>23)+r|0,s+=(o&i|r&~i)+n[7]+1735328473|0,s=(s<<14|s>>>18)+o|0,i+=(s&r|o&~r)+n[12]-1926607734|0,i=(i<<20|i>>>12)+s|0,r+=(i^s^o)+n[5]-378558|0,r=(r<<4|r>>>28)+i|0,o+=(r^i^s)+n[8]-2022574463|0,o=(o<<11|o>>>21)+r|0,s+=(o^r^i)+n[11]+1839030562|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^r)+n[14]-35309556|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^o)+n[1]-1530992060|0,r=(r<<4|r>>>28)+i|0,o+=(r^i^s)+n[4]+1272893353|0,o=(o<<11|o>>>21)+r|0,s+=(o^r^i)+n[7]-155497632|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^r)+n[10]-1094730640|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^o)+n[13]+681279174|0,r=(r<<4|r>>>28)+i|0,o+=(r^i^s)+n[0]-358537222|0,o=(o<<11|o>>>21)+r|0,s+=(o^r^i)+n[3]-722521979|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^r)+n[6]+76029189|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^o)+n[9]-640364487|0,r=(r<<4|r>>>28)+i|0,o+=(r^i^s)+n[12]-421815835|0,o=(o<<11|o>>>21)+r|0,s+=(o^r^i)+n[15]+530742520|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^r)+n[2]-995338651|0,i=(i<<23|i>>>9)+s|0,r+=(s^(i|~o))+n[0]-198630844|0,r=(r<<6|r>>>26)+i|0,o+=(i^(r|~s))+n[7]+1126891415|0,o=(o<<10|o>>>22)+r|0,s+=(r^(o|~i))+n[14]-1416354905|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~r))+n[5]-57434055|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~o))+n[12]+1700485571|0,r=(r<<6|r>>>26)+i|0,o+=(i^(r|~s))+n[3]-1894986606|0,o=(o<<10|o>>>22)+r|0,s+=(r^(o|~i))+n[10]-1051523|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~r))+n[1]-2054922799|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~o))+n[8]+1873313359|0,r=(r<<6|r>>>26)+i|0,o+=(i^(r|~s))+n[15]-30611744|0,o=(o<<10|o>>>22)+r|0,s+=(r^(o|~i))+n[6]-1560198380|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~r))+n[13]+1309151649|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~o))+n[4]-145523070|0,r=(r<<6|r>>>26)+i|0,o+=(i^(r|~s))+n[11]-1120210379|0,o=(o<<10|o>>>22)+r|0,s+=(r^(o|~i))+n[2]+718787259|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~r))+n[9]-343485551|0,i=(i<<21|i>>>11)+s|0,e[0]=r+e[0]|0,e[1]=i+e[1]|0,e[2]=s+e[2]|0,e[3]=o+e[3]|0},t.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this},t.prototype.appendStr=function(e){var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,o;for(o=0;o<e.length;o+=1){if(s=e.charCodeAt(o),s<128)n[i++]=s;else if(s<2048)n[i++]=(s>>>6)+192,n[i++]=s&63|128;else if(s<55296||s>56319)n[i++]=(s>>>12)+224,n[i++]=s>>>6&63|128,n[i++]=s&63|128;else{if(s=(s-55296)*1024+(e.charCodeAt(++o)-56320)+65536,s>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");n[i++]=(s>>>18)+240,n[i++]=s>>>12&63|128,n[i++]=s>>>6&63|128,n[i++]=s&63|128}i>=64&&(this._dataLength+=64,t._md5cycle(this._state,r),i-=64,r[0]=r[16])}return this._bufferLength=i,this},t.prototype.appendAsciiStr=function(e){for(var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,o=0;;){for(s=Math.min(e.length-o,64-i);s--;)n[i++]=e.charCodeAt(o++);if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,r),i=0}return this._bufferLength=i,this},t.prototype.appendByteArray=function(e){for(var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,o=0;;){for(s=Math.min(e.length-o,64-i);s--;)n[i++]=e[o++];if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,r),i=0}return this._bufferLength=i,this},t.prototype.getState=function(){var e=this,n=e._state;return{buffer:String.fromCharCode.apply(null,e._buffer8),buflen:e._bufferLength,length:e._dataLength,state:[n[0],n[1],n[2],n[3]]}},t.prototype.setState=function(e){var n=e.buffer,r=e.state,i=this._state,s;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],s=0;s<n.length;s+=1)this._buffer8[s]=n.charCodeAt(s)},t.prototype.end=function(e){e===void 0&&(e=!1);var n=this._bufferLength,r=this._buffer8,i=this._buffer32,s=(n>>2)+1,o;if(this._dataLength+=n,r[n]=128,r[n+1]=r[n+2]=r[n+3]=0,i.set(t.buffer32Identity.subarray(s),s),n>55&&(t._md5cycle(this._state,i),i.set(t.buffer32Identity)),o=this._dataLength*8,o<=4294967295)i[14]=o;else{var a=o.toString(16).match(/(.*?)(.{0,8})$/);if(a===null)return;var l=parseInt(a[2],16),c=parseInt(a[1],16)||0;i[14]=l,i[15]=c}return t._md5cycle(this._state,i),e?this._state:t._hex(this._state)},t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,t}();Od.Md5=Ab;Ab.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592"&&console.error("Md5 self test failed.")});var Ns=q(kn=>{"use strict";var Hi={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},Fl={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"},QD="tag:yaml.org,2002:",JD={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};function TP(t){let e=[0],n=t.indexOf(`
`);for(;n!==-1;)n+=1,e.push(n),n=t.indexOf(`
`,n);return e}function bP(t){let e,n;return typeof t=="string"?(e=TP(t),n=t):(Array.isArray(t)&&(t=t[0]),t&&t.context&&(t.lineStarts||(t.lineStarts=TP(t.context.src)),e=t.lineStarts,n=t.context.src)),{lineStarts:e,src:n}}function Bm(t,e){if(typeof t!="number"||t<0)return null;let{lineStarts:n,src:r}=bP(e);if(!n||!r||t>r.length)return null;for(let s=0;s<n.length;++s){let o=n[s];if(t<o)return{line:s,col:t-n[s-1]+1};if(t===o)return{line:s+1,col:1}}let i=n.length;return{line:i,col:t-n[i-1]+1}}function ZD(t,e){let{lineStarts:n,src:r}=bP(e);if(!n||!(t>=1)||t>n.length)return null;let i=n[t-1],s=n[t];for(;s&&s>i&&r[s-1]===`
`;)--s;return r.slice(i,s)}function eM({start:t,end:e},n,r=80){let i=ZD(t.line,n);if(!i)return null;let{col:s}=t;if(i.length>r)if(s<=r-10)i=i.substr(0,r-1)+"\u2026";else{let u=Math.round(r/2);i.length>s+u&&(i=i.substr(0,s+u-1)+"\u2026"),s-=i.length-r,i="\u2026"+i.substr(1-r)}let o=1,a="";e&&(e.line===t.line&&s+(e.col-t.col)<=r+1?o=e.col-t.col:(o=Math.min(i.length+1,r)-s,a="\u2026"));let l=s>1?" ".repeat(s-1):"",c="^".repeat(o);return`${i}
${l}${c}${a}`}var lo=class{static copy(e){return new lo(e.start,e.end)}constructor(e,n){this.start=e,this.end=n||e}isEmpty(){return typeof this.start!="number"||!this.end||this.end<=this.start}setOrigRange(e,n){let{start:r,end:i}=this;if(e.length===0||i<=e[0])return this.origStart=r,this.origEnd=i,n;let s=n;for(;s<e.length&&!(e[s]>r);)++s;this.origStart=r+s;let o=s;for(;s<e.length&&!(e[s]>=i);)++s;return this.origEnd=i+s,o}},sn=class{static addStringTerminator(e,n,r){if(r[r.length-1]===`
`)return r;let i=sn.endOfWhiteSpace(e,n);return i>=e.length||e[i]===`
`?r+`
`:r}static atDocumentBoundary(e,n,r){let i=e[n];if(!i)return!0;let s=e[n-1];if(s&&s!==`
`)return!1;if(r){if(i!==r)return!1}else if(i!==Hi.DIRECTIVES_END&&i!==Hi.DOCUMENT_END)return!1;let o=e[n+1],a=e[n+2];if(o!==i||a!==i)return!1;let l=e[n+3];return!l||l===`
`||l==="	"||l===" "}static endOfIdentifier(e,n){let r=e[n],i=r==="<",s=i?[`
`,"	"," ",">"]:[`
`,"	"," ","[","]","{","}",","];for(;r&&s.indexOf(r)===-1;)r=e[n+=1];return i&&r===">"&&(n+=1),n}static endOfIndent(e,n){let r=e[n];for(;r===" ";)r=e[n+=1];return n}static endOfLine(e,n){let r=e[n];for(;r&&r!==`
`;)r=e[n+=1];return n}static endOfWhiteSpace(e,n){let r=e[n];for(;r==="	"||r===" ";)r=e[n+=1];return n}static startOfLine(e,n){let r=e[n-1];if(r===`
`)return n;for(;r&&r!==`
`;)r=e[n-=1];return n+1}static endOfBlockIndent(e,n,r){let i=sn.endOfIndent(e,r);if(i>r+n)return i;{let s=sn.endOfWhiteSpace(e,i),o=e[s];if(!o||o===`
`)return s}return null}static atBlank(e,n,r){let i=e[n];return i===`
`||i==="	"||i===" "||r&&!i}static nextNodeIsIndented(e,n,r){return!e||n<0?!1:n>0?!0:r&&e==="-"}static normalizeOffset(e,n){let r=e[n];return r?r!==`
`&&e[n-1]===`
`?n-1:sn.endOfWhiteSpace(e,n):n}static foldNewline(e,n,r){let i=0,s=!1,o="",a=e[n+1];for(;a===" "||a==="	"||a===`
`;){switch(a){case`
`:i=0,n+=1,o+=`
`;break;case"	":i<=r&&(s=!0),n=sn.endOfWhiteSpace(e,n+2)-1;break;case" ":i+=1,n+=1;break}a=e[n+1]}return o||(o=" "),a&&i<=r&&(s=!0),{fold:o,offset:n,error:s}}constructor(e,n,r){Object.defineProperty(this,"context",{value:r||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=n||[],this.type=e,this.value=null}getPropValue(e,n,r){if(!this.context)return null;let{src:i}=this.context,s=this.props[e];return s&&i[s.start]===n?i.slice(s.start+(r?1:0),s.end):null}get anchor(){for(let e=0;e<this.props.length;++e){let n=this.getPropValue(e,Hi.ANCHOR,!0);if(n!=null)return n}return null}get comment(){let e=[];for(let n=0;n<this.props.length;++n){let r=this.getPropValue(n,Hi.COMMENT,!0);r!=null&&e.push(r)}return e.length>0?e.join(`
`):null}commentHasRequiredWhitespace(e){let{src:n}=this.context;if(this.header&&e===this.header.end||!this.valueRange)return!1;let{end:r}=this.valueRange;return e!==r||sn.atBlank(n,r-1)}get hasComment(){if(this.context){let{src:e}=this.context;for(let n=0;n<this.props.length;++n)if(e[this.props[n].start]===Hi.COMMENT)return!0}return!1}get hasProps(){if(this.context){let{src:e}=this.context;for(let n=0;n<this.props.length;++n)if(e[this.props[n].start]!==Hi.COMMENT)return!0}return!1}get includesTrailingLines(){return!1}get jsonLike(){return[Fl.FLOW_MAP,Fl.FLOW_SEQ,Fl.QUOTE_DOUBLE,Fl.QUOTE_SINGLE].indexOf(this.type)!==-1}get rangeAsLinePos(){if(!this.range||!this.context)return;let e=Bm(this.range.start,this.context.root);if(!e)return;let n=Bm(this.range.end,this.context.root);return{start:e,end:n}}get rawValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange;return this.context.src.slice(e,n)}get tag(){for(let e=0;e<this.props.length;++e){let n=this.getPropValue(e,Hi.TAG,!1);if(n!=null){if(n[1]==="<")return{verbatim:n.slice(2,-1)};{let[r,i,s]=n.match(/^(.*!)([^!]*)$/);return{handle:i,suffix:s}}}}return null}get valueRangeContainsNewline(){if(!this.valueRange||!this.context)return!1;let{start:e,end:n}=this.valueRange,{src:r}=this.context;for(let i=e;i<n;++i)if(r[i]===`
`)return!0;return!1}parseComment(e){let{src:n}=this.context;if(n[e]===Hi.COMMENT){let r=sn.endOfLine(n,e+1),i=new lo(e,r);return this.props.push(i),r}return e}setOrigRanges(e,n){return this.range&&(n=this.range.setOrigRange(e,n)),this.valueRange&&this.valueRange.setOrigRange(e,n),this.props.forEach(r=>r.setOrigRange(e,n)),n}toString(){let{context:{src:e},range:n,value:r}=this;if(r!=null)return r;let i=e.slice(n.start,n.end);return sn.addStringTerminator(e,n.end,i)}},Ea=class extends Error{constructor(e,n,r){if(!r||!(n instanceof sn))throw new Error(`Invalid arguments for new ${e}`);super();this.name=e,this.message=r,this.source=n}makePretty(){if(!this.source)return;this.nodeType=this.source.type;let e=this.source.context&&this.source.context.root;if(typeof this.offset=="number"){this.range=new lo(this.offset,this.offset+1);let n=e&&Bm(this.offset,e);if(n){let r={line:n.line,col:n.col+1};this.linePos={start:n,end:r}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){let{line:n,col:r}=this.linePos.start;this.message+=` at line ${n}, column ${r}`;let i=e&&eM(this.linePos,e);i&&(this.message+=`:

${i}
`)}delete this.source}},vP=class extends Ea{constructor(e,n){super("YAMLReferenceError",e,n)}},uf=class extends Ea{constructor(e,n){super("YAMLSemanticError",e,n)}},NP=class extends Ea{constructor(e,n){super("YAMLSyntaxError",e,n)}},PP=class extends Ea{constructor(e,n){super("YAMLWarning",e,n)}};function tM(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ql=class extends sn{static endOfLine(e,n,r){let i=e[n],s=n;for(;i&&i!==`
`&&!(r&&(i==="["||i==="]"||i==="{"||i==="}"||i===","));){let o=e[s+1];if(i===":"&&(!o||o===`
`||o==="	"||o===" "||r&&o===",")||(i===" "||i==="	")&&o==="#")break;s+=1,i=o}return s}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange,{src:r}=this.context,i=r[n-1];for(;e<n&&(i===`
`||i==="	"||i===" ");)i=r[--n-1];let s="";for(let a=e;a<n;++a){let l=r[a];if(l===`
`){let{fold:c,offset:u}=sn.foldNewline(r,a,-1);s+=c,a=u}else if(l===" "||l==="	"){let c=a,u=r[a+1];for(;a<n&&(u===" "||u==="	");)a+=1,u=r[a+1];u!==`
`&&(s+=a>c?r.slice(c,a+1):l)}else s+=l}let o=r[e];switch(o){case"	":{let a="Plain value cannot start with a tab character";return{errors:[new uf(this,a)],str:s}}case"@":case"`":{let a=`Plain value cannot start with reserved character ${o}`;return{errors:[new uf(this,a)],str:s}}default:return s}}parseBlockValue(e){let{indent:n,inFlow:r,src:i}=this.context,s=e,o=e;for(let a=i[s];a===`
`&&!sn.atDocumentBoundary(i,s+1);a=i[s]){let l=sn.endOfBlockIndent(i,n,s+1);if(l===null||i[l]==="#")break;i[l]===`
`?s=l:(o=ql.endOfLine(i,l,r),s=o)}return this.valueRange.isEmpty()&&(this.valueRange.start=e),this.valueRange.end=o,o}parse(e,n){this.context=e;let{inFlow:r,src:i}=e,s=n,o=i[s];return o&&o!=="#"&&o!==`
`&&(s=ql.endOfLine(i,n,r)),this.valueRange=new lo(n,s),s=sn.endOfWhiteSpace(i,s),s=this.parseComment(s),(!this.hasComment||this.valueRange.isEmpty())&&(s=this.parseBlockValue(s)),s}};kn.Char=Hi;kn.Node=sn;kn.PlainValue=ql;kn.Range=lo;kn.Type=Fl;kn.YAMLError=Ea;kn.YAMLReferenceError=vP;kn.YAMLSemanticError=uf;kn.YAMLSyntaxError=NP;kn.YAMLWarning=PP;kn._defineProperty=tM;kn.defaultTagPrefix=QD;kn.defaultTags=JD});var xP=q(AP=>{"use strict";var L=Ns(),wa=class extends L.Node{constructor(){super(L.Type.BLANK_LINE)}get includesTrailingLines(){return!0}parse(e,n){return this.context=e,this.range=new L.Range(n,n+1),n+1}},ff=class extends L.Node{constructor(e,n){super(e,n);this.node=null}get includesTrailingLines(){return!!this.node&&this.node.includesTrailingLines}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,{atLineStart:s,lineStart:o}=e;!s&&this.type===L.Type.SEQ_ITEM&&(this.error=new L.YAMLSemanticError(this,"Sequence items must not have preceding content on the same line"));let a=s?n-o:e.indent,l=L.Node.endOfWhiteSpace(i,n+1),c=i[l],u=c==="#",f=[],m=null;for(;c===`
`||c==="#";){if(c==="#"){let d=L.Node.endOfLine(i,l+1);f.push(new L.Range(l,d)),l=d}else{s=!0,o=l+1;let d=L.Node.endOfWhiteSpace(i,o);i[d]===`
`&&f.length===0&&(m=new wa,o=m.parse({src:i},o)),l=L.Node.endOfIndent(i,o)}c=i[l]}if(L.Node.nextNodeIsIndented(c,l-(o+a),this.type!==L.Type.SEQ_ITEM)?this.node=r({atLineStart:s,inCollection:!1,indent:a,lineStart:o,parent:this},l):c&&o>n+1&&(l=o-1),this.node){if(m){let d=e.parent.items||e.parent.contents;d&&d.push(m)}f.length&&Array.prototype.push.apply(this.props,f),l=this.node.range.end}else if(u){let d=f[0];this.props.push(d),l=d.end}else l=L.Node.endOfLine(i,n+1);let p=this.node?this.node.valueRange.end:l;return this.valueRange=new L.Range(n,p),l}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.node?this.node.setOrigRanges(e,n):n}toString(){let{context:{src:e},node:n,range:r,value:i}=this;if(i!=null)return i;let s=n?e.slice(r.start,n.range.start)+String(n):e.slice(r.start,r.end);return L.Node.addStringTerminator(e,r.end,s)}},Oa=class extends L.Node{constructor(){super(L.Type.COMMENT)}parse(e,n){this.context=e;let r=this.parseComment(n);return this.range=new L.Range(n,r),r}};function jm(t){let e=t;for(;e instanceof ff;)e=e.node;if(!(e instanceof La))return null;let n=e.items.length,r=-1;for(let o=n-1;o>=0;--o){let a=e.items[o];if(a.type===L.Type.COMMENT){let{indent:l,lineStart:c}=a.context;if(l>0&&a.range.start>=c+l)break;r=o}else if(a.type===L.Type.BLANK_LINE)r=o;else break}if(r===-1)return null;let i=e.items.splice(r,n-r),s=i[0].range.start;for(;e.range.end=s,e.valueRange&&e.valueRange.end>s&&(e.valueRange.end=s),e!==t;)e=e.context.parent;return i}var La=class extends L.Node{static nextContentHasIndent(e,n,r){let i=L.Node.endOfLine(e,n)+1;n=L.Node.endOfWhiteSpace(e,i);let s=e[n];return s?n>=i+r?!0:s!=="#"&&s!==`
`?!1:La.nextContentHasIndent(e,n,r):!1}constructor(e){super(e.type===L.Type.SEQ_ITEM?L.Type.SEQ:L.Type.MAP);for(let r=e.props.length-1;r>=0;--r)if(e.props[r].start<e.context.lineStart){this.props=e.props.slice(0,r+1),e.props=e.props.slice(r+1);let i=e.props[0]||e.valueRange;e.range.start=i.start;break}this.items=[e];let n=jm(e);n&&Array.prototype.push.apply(this.items,n)}get includesTrailingLines(){return this.items.length>0}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,s=L.Node.startOfLine(i,n),o=this.items[0];o.context.parent=this,this.valueRange=L.Range.copy(o.valueRange);let a=o.range.start-o.context.lineStart,l=n;l=L.Node.normalizeOffset(i,l);let c=i[l],u=L.Node.endOfWhiteSpace(i,s)===l,f=!1;for(;c;){for(;c===`
`||c==="#";){if(u&&c===`
`&&!f){let d=new wa;if(l=d.parse({src:i},l),this.valueRange.end=l,l>=i.length){c=null;break}this.items.push(d),l-=1}else if(c==="#"){if(l<s+a&&!La.nextContentHasIndent(i,l,a))return l;let d=new Oa;if(l=d.parse({indent:a,lineStart:s,src:i},l),this.items.push(d),this.valueRange.end=l,l>=i.length){c=null;break}}if(s=l+1,l=L.Node.endOfIndent(i,s),L.Node.atBlank(i,l)){let d=L.Node.endOfWhiteSpace(i,l),h=i[d];(!h||h===`
`||h==="#")&&(l=d)}c=i[l],u=!0}if(!c)break;if(l!==s+a&&(u||c!==":")){if(l<s+a){s>n&&(l=s);break}else if(!this.error){let d="All collection items must start at the same column";this.error=new L.YAMLSyntaxError(this,d)}}if(o.type===L.Type.SEQ_ITEM){if(c!=="-"){s>n&&(l=s);break}}else if(c==="-"&&!this.error){let d=i[l+1];if(!d||d===`
`||d==="	"||d===" "){let h="A collection cannot be both a mapping and a sequence";this.error=new L.YAMLSyntaxError(this,h)}}let m=r({atLineStart:u,inCollection:!0,indent:a,lineStart:s,parent:this},l);if(!m)return l;if(this.items.push(m),this.valueRange.end=m.valueRange.end,l=L.Node.normalizeOffset(i,m.range.end),c=i[l],u=!1,f=m.includesTrailingLines,c){let d=l-1,h=i[d];for(;h===" "||h==="	";)h=i[--d];h===`
`&&(s=d+1,u=!0)}let p=jm(m);p&&Array.prototype.push.apply(this.items,p)}return l}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.items.forEach(r=>{n=r.setOrigRanges(e,n)}),n}toString(){let{context:{src:e},items:n,range:r,value:i}=this;if(i!=null)return i;let s=e.slice(r.start,n[0].range.start)+String(n[0]);for(let o=1;o<n.length;++o){let a=n[o],{atLineStart:l,indent:c}=a.context;if(l)for(let u=0;u<c;++u)s+=" ";s+=String(a)}return L.Node.addStringTerminator(e,r.end,s)}},IP=class extends L.Node{constructor(){super(L.Type.DIRECTIVE);this.name=null}get parameters(){let e=this.rawValue;return e?e.trim().split(/[ \t]+/):[]}parseName(e){let{src:n}=this.context,r=e,i=n[r];for(;i&&i!==`
`&&i!=="	"&&i!==" ";)i=n[r+=1];return this.name=n.slice(e,r),r}parseParameters(e){let{src:n}=this.context,r=e,i=n[r];for(;i&&i!==`
`&&i!=="#";)i=n[r+=1];return this.valueRange=new L.Range(e,r),r}parse(e,n){this.context=e;let r=this.parseName(n+1);return r=this.parseParameters(r),r=this.parseComment(r),this.range=new L.Range(n,r),r}},Vl=class extends L.Node{static startCommentOrEndBlankLine(e,n){let r=L.Node.endOfWhiteSpace(e,n),i=e[r];return i==="#"||i===`
`?r:n}constructor(){super(L.Type.DOCUMENT);this.directives=null,this.contents=null,this.directivesEndMarker=null,this.documentEndMarker=null}parseDirectives(e){let{src:n}=this.context;this.directives=[];let r=!0,i=!1,s=e;for(;!L.Node.atDocumentBoundary(n,s,L.Char.DIRECTIVES_END);)switch(s=Vl.startCommentOrEndBlankLine(n,s),n[s]){case`
`:if(r){let o=new wa;s=o.parse({src:n},s),s<n.length&&this.directives.push(o)}else s+=1,r=!0;break;case"#":{let o=new Oa;s=o.parse({src:n},s),this.directives.push(o),r=!1}break;case"%":{let o=new IP;s=o.parse({parent:this,src:n},s),this.directives.push(o),i=!0,r=!1}break;default:return i?this.error=new L.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s}return n[s]?(this.directivesEndMarker=new L.Range(s,s+3),s+3):(i?this.error=new L.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s)}parseContents(e){let{parseNode:n,src:r}=this.context;this.contents||(this.contents=[]);let i=e;for(;r[i-1]==="-";)i-=1;let s=L.Node.endOfWhiteSpace(r,e),o=i===e;for(this.valueRange=new L.Range(s);!L.Node.atDocumentBoundary(r,s,L.Char.DOCUMENT_END);){switch(r[s]){case`
`:if(o){let a=new wa;s=a.parse({src:r},s),s<r.length&&this.contents.push(a)}else s+=1,o=!0;i=s;break;case"#":{let a=new Oa;s=a.parse({src:r},s),this.contents.push(a),o=!1}break;default:{let a=L.Node.endOfIndent(r,s),c=n({atLineStart:o,indent:-1,inFlow:!1,inCollection:!1,lineStart:i,parent:this},a);if(!c)return this.valueRange.end=a;this.contents.push(c),s=c.range.end,o=!1;let u=jm(c);u&&Array.prototype.push.apply(this.contents,u)}}s=Vl.startCommentOrEndBlankLine(r,s)}if(this.valueRange.end=s,r[s]&&(this.documentEndMarker=new L.Range(s,s+3),s+=3,r[s])){if(s=L.Node.endOfWhiteSpace(r,s),r[s]==="#"){let a=new Oa;s=a.parse({src:r},s),this.contents.push(a)}switch(r[s]){case`
`:s+=1;break;case void 0:break;default:this.error=new L.YAMLSyntaxError(this,"Document end marker line cannot have a non-comment suffix")}}return s}parse(e,n){e.root=this,this.context=e;let{src:r}=e,i=r.charCodeAt(n)===65279?n+1:n;return i=this.parseDirectives(i),i=this.parseContents(i),i}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.directives.forEach(r=>{n=r.setOrigRanges(e,n)}),this.directivesEndMarker&&(n=this.directivesEndMarker.setOrigRange(e,n)),this.contents.forEach(r=>{n=r.setOrigRanges(e,n)}),this.documentEndMarker&&(n=this.documentEndMarker.setOrigRange(e,n)),n}toString(){let{contents:e,directives:n,value:r}=this;if(r!=null)return r;let i=n.join("");return e.length>0&&((n.length>0||e[0].type===L.Type.COMMENT)&&(i+=`---
`),i+=e.join("")),i[i.length-1]!==`
`&&(i+=`
`),i}},SP=class extends L.Node{parse(e,n){this.context=e;let{src:r}=e,i=L.Node.endOfIdentifier(r,n+1);return this.valueRange=new L.Range(n+1,i),i=L.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}},Ps={CLIP:"CLIP",KEEP:"KEEP",STRIP:"STRIP"},RP=class extends L.Node{constructor(e,n){super(e,n);this.blockIndent=null,this.chomping=Ps.CLIP,this.header=null}get includesTrailingLines(){return this.chomping===Ps.KEEP}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange,{indent:r,src:i}=this.context;if(this.valueRange.isEmpty())return"";let s=null,o=i[n-1];for(;o===`
`||o==="	"||o===" ";){if(n-=1,n<=e){if(this.chomping===Ps.KEEP)break;return""}o===`
`&&(s=n),o=i[n-1]}let a=n+1;s&&(this.chomping===Ps.KEEP?(a=s,n=this.valueRange.end):n=s);let l=r+this.blockIndent,c=this.type===L.Type.BLOCK_FOLDED,u=!0,f="",m="",p=!1;for(let d=e;d<n;++d){for(let y=0;y<l&&i[d]===" ";++y)d+=1;let h=i[d];if(h===`
`)m===`
`?f+=`
`:m=`
`;else{let y=L.Node.endOfLine(i,d),_=i.slice(d,y);d=y,c&&(h===" "||h==="	")&&d<a?(m===" "?m=`
`:!p&&!u&&m===`
`&&(m=`

`),f+=m+_,m=y<n&&i[y]||"",p=!0):(f+=m+_,m=c&&d<a?" ":`
`,p=!1),u&&_!==""&&(u=!1)}}return this.chomping===Ps.STRIP?f:f+`
`}parseBlockHeader(e){let{src:n}=this.context,r=e+1,i="";for(;;){let s=n[r];switch(s){case"-":this.chomping=Ps.STRIP;break;case"+":this.chomping=Ps.KEEP;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i+=s;break;default:return this.blockIndent=Number(i)||null,this.header=new L.Range(e,r),r}r+=1}}parseBlockValue(e){let{indent:n,src:r}=this.context,i=!!this.blockIndent,s=e,o=e,a=1;for(let l=r[s];l===`
`&&(s+=1,!L.Node.atDocumentBoundary(r,s));l=r[s]){let c=L.Node.endOfBlockIndent(r,n,s);if(c===null)break;let u=r[c],f=c-(s+n);if(this.blockIndent){if(u&&u!==`
`&&f<this.blockIndent){if(r[c]==="#")break;if(!this.error){let p=`Block scalars must not be less indented than their ${i?"explicit indentation indicator":"first line"}`;this.error=new L.YAMLSemanticError(this,p)}}}else if(r[c]!==`
`){if(f<a){let m="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";this.error=new L.YAMLSemanticError(this,m)}this.blockIndent=f}else f>a&&(a=f);r[c]===`
`?s=c:s=o=L.Node.endOfLine(r,c)}return this.chomping!==Ps.KEEP&&(s=r[o]?o+1:o),this.valueRange=new L.Range(e+1,s),s}parse(e,n){this.context=e;let{src:r}=e,i=this.parseBlockHeader(n);return i=L.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i=this.parseBlockValue(i),i}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.header?this.header.setOrigRange(e,n):n}},CP=class extends L.Node{constructor(e,n){super(e,n);this.items=null}prevNodeIsJsonLike(e=this.items.length){let n=this.items[e-1];return!!n&&(n.jsonLike||n.type===L.Type.COMMENT&&this.prevNodeIsJsonLike(e-1))}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,{indent:s,lineStart:o}=e,a=i[n];this.items=[{char:a,offset:n}];let l=L.Node.endOfWhiteSpace(i,n+1);for(a=i[l];a&&a!=="]"&&a!=="}";){switch(a){case`
`:{o=l+1;let c=L.Node.endOfWhiteSpace(i,o);if(i[c]===`
`){let u=new wa;o=u.parse({src:i},o),this.items.push(u)}if(l=L.Node.endOfIndent(i,o),l<=o+s&&(a=i[l],l<o+s||a!=="]"&&a!=="}")){let u="Insufficient indentation in flow collection";this.error=new L.YAMLSemanticError(this,u)}}break;case",":this.items.push({char:a,offset:l}),l+=1;break;case"#":{let c=new Oa;l=c.parse({src:i},l),this.items.push(c)}break;case"?":case":":{let c=i[l+1];if(c===`
`||c==="	"||c===" "||c===","||a===":"&&this.prevNodeIsJsonLike()){this.items.push({char:a,offset:l}),l+=1;break}}default:{let c=r({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:o,parent:this},l);if(!c)return this.valueRange=new L.Range(n,l),l;this.items.push(c),l=L.Node.normalizeOffset(i,c.range.end)}}l=L.Node.endOfWhiteSpace(i,l),a=i[l]}return this.valueRange=new L.Range(n,l+1),a&&(this.items.push({char:a,offset:l}),l=L.Node.endOfWhiteSpace(i,l+1),l=this.parseComment(l)),l}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.items.forEach(r=>{if(r instanceof L.Node)n=r.setOrigRanges(e,n);else if(e.length===0)r.origOffset=r.offset;else{let i=n;for(;i<e.length&&!(e[i]>r.offset);)++i;r.origOffset=r.offset+i,n=i}}),n}toString(){let{context:{src:e},items:n,range:r,value:i}=this;if(i!=null)return i;let s=n.filter(l=>l instanceof L.Node),o="",a=r.start;return s.forEach(l=>{let c=e.slice(a,l.range.start);a=l.range.end,o+=c+String(l),o[o.length-1]===`
`&&e[a-1]!==`
`&&e[a]===`
`&&(a+=1)}),o+=e.slice(a,r.end),L.Node.addStringTerminator(e,r.end,o)}},pf=class extends L.Node{static endOfQuote(e,n){let r=e[n];for(;r&&r!=='"';)n+=r==="\\"?2:1,r=e[n];return n+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:n,end:r}=this.valueRange,{indent:i,src:s}=this.context;s[r-1]!=='"'&&e.push(new L.YAMLSyntaxError(this,'Missing closing "quote'));let o="";for(let a=n+1;a<r-1;++a){let l=s[a];if(l===`
`){L.Node.atDocumentBoundary(s,a+1)&&e.push(new L.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:c,offset:u,error:f}=L.Node.foldNewline(s,a,i);o+=c,a=u,f&&e.push(new L.YAMLSemanticError(this,"Multi-line double-quoted string needs to be sufficiently indented"))}else if(l==="\\")switch(a+=1,s[a]){case"0":o+="\0";break;case"a":o+="\x07";break;case"b":o+="\b";break;case"e":o+="\x1B";break;case"f":o+="\f";break;case"n":o+=`
`;break;case"r":o+="\r";break;case"t":o+="	";break;case"v":o+="\v";break;case"N":o+="\x85";break;case"_":o+="\xA0";break;case"L":o+="\u2028";break;case"P":o+="\u2029";break;case" ":o+=" ";break;case'"':o+='"';break;case"/":o+="/";break;case"\\":o+="\\";break;case"	":o+="	";break;case"x":o+=this.parseCharCode(a+1,2,e),a+=2;break;case"u":o+=this.parseCharCode(a+1,4,e),a+=4;break;case"U":o+=this.parseCharCode(a+1,8,e),a+=8;break;case`
`:for(;s[a+1]===" "||s[a+1]==="	";)a+=1;break;default:e.push(new L.YAMLSyntaxError(this,`Invalid escape sequence ${s.substr(a-1,2)}`)),o+="\\"+s[a]}else if(l===" "||l==="	"){let c=a,u=s[a+1];for(;u===" "||u==="	";)a+=1,u=s[a+1];u!==`
`&&(o+=a>c?s.slice(c,a+1):l)}else o+=l}return e.length>0?{errors:e,str:o}:o}parseCharCode(e,n,r){let{src:i}=this.context,s=i.substr(e,n),a=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;return isNaN(a)?(r.push(new L.YAMLSyntaxError(this,`Invalid escape sequence ${i.substr(e-2,n+2)}`)),i.substr(e-2,n+2)):String.fromCodePoint(a)}parse(e,n){this.context=e;let{src:r}=e,i=pf.endOfQuote(r,n+1);return this.valueRange=new L.Range(n,i),i=L.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}},df=class extends L.Node{static endOfQuote(e,n){let r=e[n];for(;r;)if(r==="'"){if(e[n+1]!=="'")break;r=e[n+=2]}else r=e[n+=1];return n+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:n,end:r}=this.valueRange,{indent:i,src:s}=this.context;s[r-1]!=="'"&&e.push(new L.YAMLSyntaxError(this,"Missing closing 'quote"));let o="";for(let a=n+1;a<r-1;++a){let l=s[a];if(l===`
`){L.Node.atDocumentBoundary(s,a+1)&&e.push(new L.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:c,offset:u,error:f}=L.Node.foldNewline(s,a,i);o+=c,a=u,f&&e.push(new L.YAMLSemanticError(this,"Multi-line single-quoted string needs to be sufficiently indented"))}else if(l==="'")o+=l,a+=1,s[a]!=="'"&&e.push(new L.YAMLSyntaxError(this,"Unescaped single quote? This should not happen."));else if(l===" "||l==="	"){let c=a,u=s[a+1];for(;u===" "||u==="	";)a+=1,u=s[a+1];u!==`
`&&(o+=a>c?s.slice(c,a+1):l)}else o+=l}return e.length>0?{errors:e,str:o}:o}parse(e,n){this.context=e;let{src:r}=e,i=df.endOfQuote(r,n+1);return this.valueRange=new L.Range(n,i),i=L.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}};function nM(t,e){switch(t){case L.Type.ALIAS:return new SP(t,e);case L.Type.BLOCK_FOLDED:case L.Type.BLOCK_LITERAL:return new RP(t,e);case L.Type.FLOW_MAP:case L.Type.FLOW_SEQ:return new CP(t,e);case L.Type.MAP_KEY:case L.Type.MAP_VALUE:case L.Type.SEQ_ITEM:return new ff(t,e);case L.Type.COMMENT:case L.Type.PLAIN:return new L.PlainValue(t,e);case L.Type.QUOTE_DOUBLE:return new pf(t,e);case L.Type.QUOTE_SINGLE:return new df(t,e);default:return null}}var Da=class{static parseType(e,n,r){switch(e[n]){case"*":return L.Type.ALIAS;case">":return L.Type.BLOCK_FOLDED;case"|":return L.Type.BLOCK_LITERAL;case"{":return L.Type.FLOW_MAP;case"[":return L.Type.FLOW_SEQ;case"?":return!r&&L.Node.atBlank(e,n+1,!0)?L.Type.MAP_KEY:L.Type.PLAIN;case":":return!r&&L.Node.atBlank(e,n+1,!0)?L.Type.MAP_VALUE:L.Type.PLAIN;case"-":return!r&&L.Node.atBlank(e,n+1,!0)?L.Type.SEQ_ITEM:L.Type.PLAIN;case'"':return L.Type.QUOTE_DOUBLE;case"'":return L.Type.QUOTE_SINGLE;default:return L.Type.PLAIN}}constructor(e={},{atLineStart:n,inCollection:r,inFlow:i,indent:s,lineStart:o,parent:a}={}){L._defineProperty(this,"parseNode",(l,c)=>{if(L.Node.atDocumentBoundary(this.src,c))return null;let u=new Da(this,l),{props:f,type:m,valueStart:p}=u.parseProps(c),d=nM(m,f),h=d.parse(u,p);if(d.range=new L.Range(c,h),h<=c&&(d.error=new Error("Node#parse consumed no characters"),d.error.parseEnd=h,d.error.source=d,d.range.end=c+1),u.nodeStartsCollection(d)){!d.error&&!u.atLineStart&&u.parent.type===L.Type.DOCUMENT&&(d.error=new L.YAMLSyntaxError(d,"Block collection must not have preceding content here (e.g. directives-end indicator)"));let y=new La(d);return h=y.parse(new Da(u),h),y.range=new L.Range(c,h),y}return d}),this.atLineStart=n??(e.atLineStart||!1),this.inCollection=r??(e.inCollection||!1),this.inFlow=i??(e.inFlow||!1),this.indent=s??e.indent,this.lineStart=o??e.lineStart,this.parent=a??(e.parent||{}),this.root=e.root,this.src=e.src}nodeStartsCollection(e){let{inCollection:n,inFlow:r,src:i}=this;if(n||r)return!1;if(e instanceof ff)return!0;let s=e.range.end;return i[s]===`
`||i[s-1]===`
`?!1:(s=L.Node.endOfWhiteSpace(i,s),i[s]===":")}parseProps(e){let{inFlow:n,parent:r,src:i}=this,s=[],o=!1;e=this.atLineStart?L.Node.endOfIndent(i,e):L.Node.endOfWhiteSpace(i,e);let a=i[e];for(;a===L.Char.ANCHOR||a===L.Char.COMMENT||a===L.Char.TAG||a===`
`;){if(a===`
`){let c=e,u;do u=c+1,c=L.Node.endOfIndent(i,u);while(i[c]===`
`);let f=c-(u+this.indent),m=r.type===L.Type.SEQ_ITEM&&r.context.atLineStart;if(i[c]!=="#"&&!L.Node.nextNodeIsIndented(i[c],f,!m))break;this.atLineStart=!0,this.lineStart=u,o=!1,e=c}else if(a===L.Char.COMMENT){let c=L.Node.endOfLine(i,e+1);s.push(new L.Range(e,c)),e=c}else{let c=L.Node.endOfIdentifier(i,e+1);a===L.Char.TAG&&i[c]===","&&/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+,\d\d\d\d(-\d\d){0,2}\/\S/.test(i.slice(e+1,c+13))&&(c=L.Node.endOfIdentifier(i,c+5)),s.push(new L.Range(e,c)),o=!0,e=L.Node.endOfWhiteSpace(i,c)}a=i[e]}o&&a===":"&&L.Node.atBlank(i,e+1,!0)&&(e-=1);let l=Da.parseType(i,e,n);return{props:s,type:l,valueStart:e}}};function rM(t){let e=[];t.indexOf("\r")!==-1&&(t=t.replace(/\r\n?/g,(i,s)=>(i.length>1&&e.push(s),`
`)));let n=[],r=0;do{let i=new Vl,s=new Da({src:t});r=i.parse(s,r),n.push(i)}while(r<t.length);return n.setOrigRanges=()=>{if(e.length===0)return!1;for(let s=1;s<e.length;++s)e[s]-=s;let i=0;for(let s=0;s<n.length;++s)i=n[s].setOrigRanges(e,i);return e.splice(0,e.length),!0},n.toString=()=>n.join(`...
`),n}AP.parse=rM});var ka=q(gt=>{"use strict";var V=Ns();function iM(t,e,n){return n?`#${n.replace(/[\s\S]^/gm,`$&${e}#`)}
${e}${t}`:t}function Ma(t,e,n){return n?n.indexOf(`
`)===-1?`${t} #${n}`:`${t}
`+n.replace(/^/gm,`${e||""}#`):t}var _r=class{};function Is(t,e,n){if(Array.isArray(t))return t.map((r,i)=>Is(r,String(i),n));if(t&&typeof t.toJSON=="function"){let r=n&&n.anchors&&n.anchors.get(t);r&&(n.onCreate=s=>{r.res=s,delete n.onCreate});let i=t.toJSON(e,n);return r&&n.onCreate&&n.onCreate(i),i}return(!n||!n.keep)&&typeof t=="bigint"?Number(t):t}var In=class extends _r{constructor(e){super();this.value=e}toJSON(e,n){return n&&n.keep?this.value:Is(this.value,e,n)}toString(){return String(this.value)}};function EP(t,e,n){let r=n;for(let i=e.length-1;i>=0;--i){let s=e[i];if(Number.isInteger(s)&&s>=0){let o=[];o[s]=r,r=o}else{let o={};Object.defineProperty(o,s,{value:r,writable:!0,enumerable:!0,configurable:!0}),r=o}}return t.createNode(r,!1)}var wP=t=>t==null||typeof t=="object"&&t[Symbol.iterator]().next().done,Ut=class extends _r{constructor(e){super();V._defineProperty(this,"items",[]),this.schema=e}addIn(e,n){if(wP(e))this.add(n);else{let[r,...i]=e,s=this.get(r,!0);if(s instanceof Ut)s.addIn(i,n);else if(s===void 0&&this.schema)this.set(r,EP(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn([e,...n]){if(n.length===0)return this.delete(e);let r=this.get(e,!0);if(r instanceof Ut)return r.deleteIn(n);throw new Error(`Expected YAML collection at ${e}. Remaining path: ${n}`)}getIn([e,...n],r){let i=this.get(e,!0);return n.length===0?!r&&i instanceof In?i.value:i:i instanceof Ut?i.getIn(n,r):void 0}hasAllNullValues(){return this.items.every(e=>{if(!e||e.type!=="PAIR")return!1;let n=e.value;return n==null||n instanceof In&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn([e,...n]){if(n.length===0)return this.has(e);let r=this.get(e,!0);return r instanceof Ut?r.hasIn(n):!1}setIn([e,...n],r){if(n.length===0)this.set(e,r);else{let i=this.get(e,!0);if(i instanceof Ut)i.setIn(n,r);else if(i===void 0&&this.schema)this.set(e,EP(this.schema,n,r));else throw new Error(`Expected YAML collection at ${e}. Remaining path: ${n}`)}}toJSON(){return null}toString(e,{blockItem:n,flowChars:r,isMap:i,itemIndent:s},o,a){let{indent:l,indentStep:c,stringify:u}=e,f=this.type===V.Type.FLOW_MAP||this.type===V.Type.FLOW_SEQ||e.inFlow;f&&(s+=c);let m=i&&this.hasAllNullValues();e=Object.assign({},e,{allNullValues:m,indent:s,inFlow:f,type:null});let p=!1,d=!1,h=this.items.reduce((_,T,S)=>{let g;T&&(!p&&T.spaceBefore&&_.push({type:"comment",str:""}),T.commentBefore&&T.commentBefore.match(/^.*$/gm).forEach(H=>{_.push({type:"comment",str:`#${H}`})}),T.comment&&(g=T.comment),f&&(!p&&T.spaceBefore||T.commentBefore||T.comment||T.key&&(T.key.commentBefore||T.key.comment)||T.value&&(T.value.commentBefore||T.value.comment))&&(d=!0)),p=!1;let E=u(T,e,()=>g=null,()=>p=!0);return f&&!d&&E.includes(`
`)&&(d=!0),f&&S<this.items.length-1&&(E+=","),E=Ma(E,s,g),p&&(g||f)&&(p=!1),_.push({type:"item",str:E}),_},[]),y;if(h.length===0)y=r.start+r.end;else if(f){let{start:_,end:T}=r,S=h.map(g=>g.str);if(d||S.reduce((g,E)=>g+E.length+2,2)>Ut.maxFlowStringSingleLineLength){y=_;for(let g of S)y+=g?`
${c}${l}${g}`:`
`;y+=`
${l}${T}`}else y=`${_} ${S.join(" ")} ${T}`}else{let _=h.map(n);y=_.shift();for(let T of _)y+=T?`
${l}${T}`:`
`}return this.comment?(y+=`
`+this.comment.replace(/^/gm,`${l}#`),o&&o()):p&&a&&a(),y}};V._defineProperty(Ut,"maxFlowStringSingleLineLength",60);function mf(t){let e=t instanceof In?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),Number.isInteger(e)&&e>=0?e:null}var co=class extends Ut{add(e){this.items.push(e)}delete(e){let n=mf(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){let r=mf(e);if(typeof r!="number")return;let i=this.items[r];return!n&&i instanceof In?i.value:i}has(e){let n=mf(e);return typeof n=="number"&&n<this.items.length}set(e,n){let r=mf(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);this.items[r]=n}toJSON(e,n){let r=[];n&&n.onCreate&&n.onCreate(r);let i=0;for(let s of this.items)r.push(Is(s,String(i++),n));return r}toString(e,n,r){return e?super.toString(e,{blockItem:i=>i.type==="comment"?i.str:`- ${i.str}`,flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(e.indent||"")+"  "},n,r):JSON.stringify(this)}},sM=(t,e,n)=>e===null?"":typeof e!="object"?String(e):t instanceof _r&&n&&n.doc?t.toString({anchors:Object.create(null),doc:n.doc,indent:"",indentStep:n.indentStep,inFlow:!0,inStringifyKey:!0,stringify:n.stringify}):JSON.stringify(e),nt=class extends _r{constructor(e,n=null){super();this.key=e,this.value=n,this.type=nt.Type.PAIR}get commentBefore(){return this.key instanceof _r?this.key.commentBefore:void 0}set commentBefore(e){if(this.key==null&&(this.key=new In(null)),this.key instanceof _r)this.key.commentBefore=e;else{let n="Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.";throw new Error(n)}}addToJSMap(e,n){let r=Is(this.key,"",e);if(n instanceof Map){let i=Is(this.value,r,e);n.set(r,i)}else if(n instanceof Set)n.add(r);else{let i=sM(this.key,r,e),s=Is(this.value,i,e);i in n?Object.defineProperty(n,i,{value:s,writable:!0,enumerable:!0,configurable:!0}):n[i]=s}return n}toJSON(e,n){let r=n&&n.mapAsMap?new Map:{};return this.addToJSMap(n,r)}toString(e,n,r){if(!e||!e.doc)return JSON.stringify(this);let{indent:i,indentSeq:s,simpleKeys:o}=e.doc.options,{key:a,value:l}=this,c=a instanceof _r&&a.comment;if(o){if(c)throw new Error("With simple keys, key nodes cannot have comments");if(a instanceof Ut){let E="With simple keys, collection cannot be used as a key value";throw new Error(E)}}let u=!o&&(!a||c||(a instanceof _r?a instanceof Ut||a.type===V.Type.BLOCK_FOLDED||a.type===V.Type.BLOCK_LITERAL:typeof a=="object")),{doc:f,indent:m,indentStep:p,stringify:d}=e;e=Object.assign({},e,{implicitKey:!u,indent:m+p});let h=!1,y=d(a,e,()=>c=null,()=>h=!0);if(y=Ma(y,e.indent,c),!u&&y.length>1024){if(o)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");u=!0}if(e.allNullValues&&!o)return this.comment?(y=Ma(y,e.indent,this.comment),n&&n()):h&&!c&&r&&r(),e.inFlow&&!u?y:`? ${y}`;y=u?`? ${y}
${m}:`:`${y}:`,this.comment&&(y=Ma(y,e.indent,this.comment),n&&n());let _="",T=null;l instanceof _r?(l.spaceBefore&&(_=`
`),l.commentBefore&&(_+=`
${l.commentBefore.replace(/^/gm,`${e.indent}#`)}`),T=l.comment):l&&typeof l=="object"&&(l=f.schema.createNode(l,!0)),e.implicitKey=!1,!u&&!this.comment&&l instanceof In&&(e.indentAtStart=y.length+1),h=!1,!s&&i>=2&&!e.inFlow&&!u&&l instanceof co&&l.type!==V.Type.FLOW_SEQ&&!l.tag&&!f.anchors.getName(l)&&(e.indent=e.indent.substr(2));let S=d(l,e,()=>T=null,()=>h=!0),g=" ";return _||this.comment?g=`${_}
${e.indent}`:!u&&l instanceof Ut?(!(S[0]==="["||S[0]==="{")||S.includes(`
`))&&(g=`
${e.indent}`):S[0]===`
`&&(g=""),h&&!T&&r&&r(),Ma(y+g+S,e.indent,T)}};V._defineProperty(nt,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var hf=(t,e)=>{if(t instanceof Ss){let n=e.get(t.source);return n.count*n.aliasCount}else if(t instanceof Ut){let n=0;for(let r of t.items){let i=hf(r,e);i>n&&(n=i)}return n}else if(t instanceof nt){let n=hf(t.key,e),r=hf(t.value,e);return Math.max(n,r)}return 1},Ss=class extends _r{static stringify({range:e,source:n},{anchors:r,doc:i,implicitKey:s,inStringifyKey:o}){let a=Object.keys(r).find(c=>r[c]===n);if(!a&&o&&(a=i.anchors.getName(n)||i.anchors.newName()),a)return`*${a}${s?" ":""}`;let l=i.anchors.getName(n)?"Alias node must be after source node":"Source node not found for alias node";throw new Error(`${l} [${e}]`)}constructor(e){super();this.source=e,this.type=V.Type.ALIAS}set tag(e){throw new Error("Alias nodes cannot have tags")}toJSON(e,n){if(!n)return Is(this.source,e,n);let{anchors:r,maxAliasCount:i}=n,s=r.get(this.source);if(!s||s.res===void 0){let o="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new V.YAMLReferenceError(this.cstNode,o):new ReferenceError(o)}if(i>=0&&(s.count+=1,s.aliasCount===0&&(s.aliasCount=hf(this.source,r)),s.count*s.aliasCount>i)){let o="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new V.YAMLReferenceError(this.cstNode,o):new ReferenceError(o)}return s.res}toString(e){return Ss.stringify(this,e)}};V._defineProperty(Ss,"default",!0);function Bl(t,e){let n=e instanceof In?e.value:e;for(let r of t)if(r instanceof nt&&(r.key===e||r.key===n||r.key&&r.key.value===n))return r}var gf=class extends Ut{add(e,n){e?e instanceof nt||(e=new nt(e.key||e,e.value)):e=new nt(e);let r=Bl(this.items,e.key),i=this.schema&&this.schema.sortMapEntries;if(r)if(n)r.value=e.value;else throw new Error(`Key ${e.key} already set`);else if(i){let s=this.items.findIndex(o=>i(e,o)<0);s===-1?this.items.push(e):this.items.splice(s,0,e)}else this.items.push(e)}delete(e){let n=Bl(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){let r=Bl(this.items,e),i=r&&r.value;return!n&&i instanceof In?i.value:i}has(e){return!!Bl(this.items,e)}set(e,n){this.add(new nt(e,n),!0)}toJSON(e,n,r){let i=r?new r:n&&n.mapAsMap?new Map:{};n&&n.onCreate&&n.onCreate(i);for(let s of this.items)s.addToJSMap(n,i);return i}toString(e,n,r){if(!e)return JSON.stringify(this);for(let i of this.items)if(!(i instanceof nt))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return super.toString(e,{blockItem:i=>i.str,flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:e.indent||""},n,r)}},OP="<<",Um=class extends nt{constructor(e){if(e instanceof nt){let n=e.value;n instanceof co||(n=new co,n.items.push(e.value),n.range=e.value.range);super(e.key,n);this.range=e.range}else super(new In(OP),new co);this.type=nt.Type.MERGE_PAIR}addToJSMap(e,n){for(let{source:r}of this.value.items){if(!(r instanceof gf))throw new Error("Merge sources must be maps");let i=r.toJSON(null,e,Map);for(let[s,o]of i)n instanceof Map?n.has(s)||n.set(s,o):n instanceof Set?n.add(s):Object.prototype.hasOwnProperty.call(n,s)||Object.defineProperty(n,s,{value:o,writable:!0,enumerable:!0,configurable:!0})}return n}toString(e,n){let r=this.value;if(r.items.length>1)return super.toString(e,n);this.value=r.items[0];let i=super.toString(e,n);return this.value=r,i}},oM={defaultType:V.Type.BLOCK_LITERAL,lineWidth:76},aM={trueStr:"true",falseStr:"false"},lM={asBigInt:!1},cM={nullStr:"null"},uo={defaultType:V.Type.PLAIN,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function Gm(t,e,n){for(let{format:r,test:i,resolve:s}of e)if(i){let o=t.match(i);if(o){let a=s.apply(null,o);return a instanceof In||(a=new In(a)),r&&(a.format=r),a}}return n&&(t=n(t)),new In(t)}var LP="flow",Wm="block",_f="quoted",DP=(t,e)=>{let n=t[e+1];for(;n===" "||n==="	";){do n=t[e+=1];while(n&&n!==`
`);n=t[e+1]}return e};function yf(t,e,n,{indentAtStart:r,lineWidth:i=80,minContentWidth:s=20,onFold:o,onOverflow:a}){if(!i||i<0)return t;let l=Math.max(1+s,1+i-e.length);if(t.length<=l)return t;let c=[],u={},f=i-e.length;typeof r=="number"&&(r>i-Math.max(2,s)?c.push(0):f=i-r);let m,p,d=!1,h=-1,y=-1,_=-1;n===Wm&&(h=DP(t,h),h!==-1&&(f=h+l));for(let S;S=t[h+=1];){if(n===_f&&S==="\\"){switch(y=h,t[h+1]){case"x":h+=3;break;case"u":h+=5;break;case"U":h+=9;break;default:h+=1}_=h}if(S===`
`)n===Wm&&(h=DP(t,h)),f=h+l,m=void 0;else{if(S===" "&&p&&p!==" "&&p!==`
`&&p!=="	"){let g=t[h+1];g&&g!==" "&&g!==`
`&&g!=="	"&&(m=h)}if(h>=f)if(m)c.push(m),f=m+l,m=void 0;else if(n===_f){for(;p===" "||p==="	";)p=S,S=t[h+=1],d=!0;let g=h>_+1?h-2:y-1;if(u[g])return t;c.push(g),u[g]=!0,f=g+l,m=void 0}else d=!0}p=S}if(d&&a&&a(),c.length===0)return t;o&&o();let T=t.slice(0,c[0]);for(let S=0;S<c.length;++S){let g=c[S],E=c[S+1]||t.length;g===0?T=`
${e}${t.slice(0,E)}`:(n===_f&&u[g]&&(T+=`${t[g]}\\`),T+=`
${e}${t.slice(g+1,E)}`)}return T}var Hm=({indentAtStart:t})=>t?Object.assign({indentAtStart:t},uo.fold):uo.fold,Tf=t=>/^(%|---|\.\.\.)/m.test(t);function uM(t,e,n){if(!e||e<0)return!1;let r=e-n,i=t.length;if(i<=r)return!1;for(let s=0,o=0;s<i;++s)if(t[s]===`
`){if(s-o>r)return!0;if(o=s+1,i-o<=r)return!1}return!0}function fo(t,e){let{implicitKey:n}=e,{jsonEncoding:r,minMultiLineLength:i}=uo.doubleQuoted,s=JSON.stringify(t);if(r)return s;let o=e.indent||(Tf(t)?"  ":""),a="",l=0;for(let c=0,u=s[c];u;u=s[++c])if(u===" "&&s[c+1]==="\\"&&s[c+2]==="n"&&(a+=s.slice(l,c)+"\\ ",c+=1,l=c,u="\\"),u==="\\")switch(s[c+1]){case"u":{a+=s.slice(l,c);let f=s.substr(c+2,4);switch(f){case"0000":a+="\\0";break;case"0007":a+="\\a";break;case"000b":a+="\\v";break;case"001b":a+="\\e";break;case"0085":a+="\\N";break;case"00a0":a+="\\_";break;case"2028":a+="\\L";break;case"2029":a+="\\P";break;default:f.substr(0,2)==="00"?a+="\\x"+f.substr(2):a+=s.substr(c,6)}c+=5,l=c+1}break;case"n":if(n||s[c+2]==='"'||s.length<i)c+=1;else{for(a+=s.slice(l,c)+`

`;s[c+2]==="\\"&&s[c+3]==="n"&&s[c+4]!=='"';)a+=`
`,c+=2;a+=o,s[c+2]===" "&&(a+="\\"),c+=1,l=c+1}break;default:c+=1}return a=l?a+s.slice(l):s,n?a:yf(a,o,_f,Hm(e))}function MP(t,e){if(e.implicitKey){if(/\n/.test(t))return fo(t,e)}else if(/[ \t]\n|\n[ \t]/.test(t))return fo(t,e);let n=e.indent||(Tf(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:yf(r,n,LP,Hm(e))}function bf({comment:t,type:e,value:n},r,i,s){if(/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return fo(n,r);let o=r.indent||(r.forceBlockIndent||Tf(n)?"  ":""),a=o?"2":"1",l=e===V.Type.BLOCK_FOLDED?!1:e===V.Type.BLOCK_LITERAL?!0:!uM(n,uo.fold.lineWidth,o.length),c=l?"|":">";if(!n)return c+`
`;let u="",f="";if(n=n.replace(/[\n\t ]*$/,p=>{let d=p.indexOf(`
`);return d===-1?c+="-":(n===p||d!==p.length-1)&&(c+="+",s&&s()),f=p.replace(/\n$/,""),""}).replace(/^[\n ]*/,p=>{p.indexOf(" ")!==-1&&(c+=a);let d=p.match(/ +$/);return d?(u=p.slice(0,-d[0].length),d[0]):(u=p,"")}),f&&(f=f.replace(/\n+(?!\n|$)/g,`$&${o}`)),u&&(u=u.replace(/\n+/g,`$&${o}`)),t&&(c+=" #"+t.replace(/ ?[\r\n]+/g," "),i&&i()),!n)return`${c}${a}
${o}${f}`;if(l)return n=n.replace(/\n+/g,`$&${o}`),`${c}
${o}${u}${n}${f}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${o}`);let m=yf(`${u}${n}${f}`,o,Wm,uo.fold);return`${c}
${o}${m}`}function fM(t,e,n,r){let{comment:i,type:s,value:o}=t,{actualString:a,implicitKey:l,indent:c,inFlow:u}=e;if(l&&/[\n[\]{},]/.test(o)||u&&/[[\]{},]/.test(o))return fo(o,e);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return l||u||o.indexOf(`
`)===-1?o.indexOf('"')!==-1&&o.indexOf("'")===-1?MP(o,e):fo(o,e):bf(t,e,n,r);if(!l&&!u&&s!==V.Type.PLAIN&&o.indexOf(`
`)!==-1)return bf(t,e,n,r);if(c===""&&Tf(o))return e.forceBlockIndent=!0,bf(t,e,n,r);let f=o.replace(/\n+/g,`$&
${c}`);if(a){let{tags:p}=e.doc.schema;if(typeof Gm(f,p,p.scalarFallback).value!="string")return fo(o,e)}let m=l?f:yf(f,c,LP,Hm(e));return i&&!u&&(m.indexOf(`
`)!==-1||i.indexOf(`
`)!==-1)?(n&&n(),iM(m,c,i)):m}function pM(t,e,n,r){let{defaultType:i}=uo,{implicitKey:s,inFlow:o}=e,{type:a,value:l}=t;typeof l!="string"&&(l=String(l),t=Object.assign({},t,{value:l}));let c=f=>{switch(f){case V.Type.BLOCK_FOLDED:case V.Type.BLOCK_LITERAL:return bf(t,e,n,r);case V.Type.QUOTE_DOUBLE:return fo(l,e);case V.Type.QUOTE_SINGLE:return MP(l,e);case V.Type.PLAIN:return fM(t,e,n,r);default:return null}};(a!==V.Type.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(l)||(s||o)&&(a===V.Type.BLOCK_FOLDED||a===V.Type.BLOCK_LITERAL))&&(a=V.Type.QUOTE_DOUBLE);let u=c(a);if(u===null&&(u=c(i),u===null))throw new Error(`Unsupported default string type ${i}`);return u}function dM({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let i=JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let s=i.indexOf(".");s<0&&(s=i.length,i+=".");let o=e-(i.length-s-1);for(;o-- >0;)i+="0"}return i}function kP(t,e){let n,r;switch(e.type){case V.Type.FLOW_MAP:n="}",r="flow map";break;case V.Type.FLOW_SEQ:n="]",r="flow sequence";break;default:t.push(new V.YAMLSemanticError(e,"Not a flow collection!?"));return}let i;for(let s=e.items.length-1;s>=0;--s){let o=e.items[s];if(!o||o.type!==V.Type.COMMENT){i=o;break}}if(i&&i.char!==n){let s=`Expected ${r} to end with ${n}`,o;typeof i.offset=="number"?(o=new V.YAMLSemanticError(e,s),o.offset=i.offset+1):(o=new V.YAMLSemanticError(i,s),i.range&&i.range.end&&(o.offset=i.range.end-i.range.start)),t.push(o)}}function FP(t,e){let n=e.context.src[e.range.start-1];if(n!==`
`&&n!=="	"&&n!==" "){let r="Comments must be separated from other tokens by white space characters";t.push(new V.YAMLSemanticError(e,r))}}function qP(t,e){let n=String(e),r=n.substr(0,8)+"..."+n.substr(-8);return new V.YAMLSemanticError(t,`The "${r}" key is too long`)}function VP(t,e){for(let{afterKey:n,before:r,comment:i}of e){let s=t.items[r];s?(n&&s.value&&(s=s.value),i===void 0?(n||!s.commentBefore)&&(s.spaceBefore=!0):s.commentBefore?s.commentBefore+=`
`+i:s.commentBefore=i):i!==void 0&&(t.comment?t.comment+=`
`+i:t.comment=i)}}function Ym(t,e){let n=e.strValue;return n?typeof n=="string"?n:(n.errors.forEach(r=>{r.source||(r.source=e),t.errors.push(r)}),n.str):""}function mM(t,e){let{handle:n,suffix:r}=e.tag,i=t.tagPrefixes.find(s=>s.handle===n);if(!i){let s=t.getDefaults().tagPrefixes;if(s&&(i=s.find(o=>o.handle===n)),!i)throw new V.YAMLSemanticError(e,`The ${n} tag handle is non-default and was not declared.`)}if(!r)throw new V.YAMLSemanticError(e,`The ${n} tag has no suffix.`);if(n==="!"&&(t.version||t.options.version)==="1.0"){if(r[0]==="^")return t.warnings.push(new V.YAMLWarning(e,"YAML 1.0 ^ tag expansion is not supported")),r;if(/[:/]/.test(r)){let s=r.match(/^([a-z0-9-]+)\/(.*)/i);return s?`tag:${s[1]}.yaml.org,2002:${s[2]}`:`tag:${r}`}}return i.prefix+decodeURIComponent(r)}function hM(t,e){let{tag:n,type:r}=e,i=!1;if(n){let{handle:s,suffix:o,verbatim:a}=n;if(a){if(a!=="!"&&a!=="!!")return a;let l=`Verbatim tags aren't resolved, so ${a} is invalid.`;t.errors.push(new V.YAMLSemanticError(e,l))}else if(s==="!"&&!o)i=!0;else try{return mM(t,e)}catch(l){t.errors.push(l)}}switch(r){case V.Type.BLOCK_FOLDED:case V.Type.BLOCK_LITERAL:case V.Type.QUOTE_DOUBLE:case V.Type.QUOTE_SINGLE:return V.defaultTags.STR;case V.Type.FLOW_MAP:case V.Type.MAP:return V.defaultTags.MAP;case V.Type.FLOW_SEQ:case V.Type.SEQ:return V.defaultTags.SEQ;case V.Type.PLAIN:return i?V.defaultTags.STR:null;default:return null}}function BP(t,e,n){let{tags:r}=t.schema,i=[];for(let o of r)if(o.tag===n)if(o.test)i.push(o);else{let a=o.resolve(t,e);return a instanceof Ut?a:new In(a)}let s=Ym(t,e);return typeof s=="string"&&i.length>0?Gm(s,i,r.scalarFallback):null}function gM({type:t}){switch(t){case V.Type.FLOW_MAP:case V.Type.MAP:return V.defaultTags.MAP;case V.Type.FLOW_SEQ:case V.Type.SEQ:return V.defaultTags.SEQ;default:return V.defaultTags.STR}}function _M(t,e,n){try{let r=BP(t,e,n);if(r)return n&&e.tag&&(r.tag=n),r}catch(r){return r.source||(r.source=e),t.errors.push(r),null}try{let r=gM(e);if(!r)throw new Error(`The tag ${n} is unavailable`);let i=`The tag ${n} is unavailable, falling back to ${r}`;t.warnings.push(new V.YAMLWarning(e,i));let s=BP(t,e,r);return s.tag=n,s}catch(r){let i=new V.YAMLReferenceError(e,r.message);return i.stack=r.stack,t.errors.push(i),null}}var yM=t=>{if(!t)return!1;let{type:e}=t;return e===V.Type.MAP_KEY||e===V.Type.MAP_VALUE||e===V.Type.SEQ_ITEM};function TM(t,e){let n={before:[],after:[]},r=!1,i=!1,s=yM(e.context.parent)?e.context.parent.props.concat(e.props):e.props;for(let{start:o,end:a}of s)switch(e.context.src[o]){case V.Char.COMMENT:{if(!e.commentHasRequiredWhitespace(o)){let f="Comments must be separated from other tokens by white space characters";t.push(new V.YAMLSemanticError(e,f))}let{header:l,valueRange:c}=e;(c&&(o>c.start||l&&o>l.start)?n.after:n.before).push(e.context.src.slice(o+1,a));break}case V.Char.ANCHOR:if(r){let l="A node can have at most one anchor";t.push(new V.YAMLSemanticError(e,l))}r=!0;break;case V.Char.TAG:if(i){let l="A node can have at most one tag";t.push(new V.YAMLSemanticError(e,l))}i=!0;break}return{comments:n,hasAnchor:r,hasTag:i}}function bM(t,e){let{anchors:n,errors:r,schema:i}=t;if(e.type===V.Type.ALIAS){let o=e.rawValue,a=n.getNode(o);if(!a){let c=`Aliased anchor not found: ${o}`;return r.push(new V.YAMLReferenceError(e,c)),null}let l=new Ss(a);return n._cstAliases.push(l),l}let s=hM(t,e);if(s)return _M(t,e,s);if(e.type!==V.Type.PLAIN){let o=`Failed to resolve ${e.type} node here`;return r.push(new V.YAMLSyntaxError(e,o)),null}try{let o=Ym(t,e);return Gm(o,i.tags,i.tags.scalarFallback)}catch(o){return o.source||(o.source=e),r.push(o),null}}function Rs(t,e){if(!e)return null;e.error&&t.errors.push(e.error);let{comments:n,hasAnchor:r,hasTag:i}=TM(t.errors,e);if(r){let{anchors:o}=t,a=e.anchor,l=o.getNode(a);l&&(o.map[o.newName(a)]=l),o.map[a]=e}if(e.type===V.Type.ALIAS&&(r||i)){let o="An alias node must not specify any properties";t.errors.push(new V.YAMLSemanticError(e,o))}let s=bM(t,e);if(s){s.range=[e.range.start,e.range.end],t.options.keepCstNodes&&(s.cstNode=e),t.options.keepNodeTypes&&(s.type=e.type);let o=n.before.join(`
`);o&&(s.commentBefore=s.commentBefore?`${s.commentBefore}
${o}`:o);let a=n.after.join(`
`);a&&(s.comment=s.comment?`${s.comment}
${a}`:a)}return e.resolved=s}function vM(t,e){if(e.type!==V.Type.MAP&&e.type!==V.Type.FLOW_MAP){let o=`A ${e.type} node cannot be resolved as a mapping`;return t.errors.push(new V.YAMLSyntaxError(e,o)),null}let{comments:n,items:r}=e.type===V.Type.FLOW_MAP?SM(t,e):IM(t,e),i=new gf;i.items=r,VP(i,n);let s=!1;for(let o=0;o<r.length;++o){let{key:a}=r[o];if(a instanceof Ut&&(s=!0),t.schema.merge&&a&&a.value===OP){r[o]=new Um(r[o]);let l=r[o].value.items,c=null;l.some(u=>{if(u instanceof Ss){let{type:f}=u.source;return f===V.Type.MAP||f===V.Type.FLOW_MAP?!1:c="Merge nodes aliases can only point to maps"}return c="Merge nodes can only have Alias nodes as values"}),c&&t.errors.push(new V.YAMLSemanticError(e,c))}else for(let l=o+1;l<r.length;++l){let{key:c}=r[l];if(a===c||a&&c&&Object.prototype.hasOwnProperty.call(a,"value")&&a.value===c.value){let u=`Map keys must be unique; "${a}" is repeated`;t.errors.push(new V.YAMLSemanticError(e,u));break}}}if(s&&!t.options.mapAsMap){let o="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new V.YAMLWarning(e,o))}return e.resolved=i,i}var NM=({context:{lineStart:t,node:e,src:n},props:r})=>{if(r.length===0)return!1;let{start:i}=r[0];if(e&&i>e.valueRange.start||n[i]!==V.Char.COMMENT)return!1;for(let s=t;s<i;++s)if(n[s]===`
`)return!1;return!0};function PM(t,e){if(!NM(t))return;let n=t.getPropValue(0,V.Char.COMMENT,!0),r=!1,i=e.value.commentBefore;if(i&&i.startsWith(n))e.value.commentBefore=i.substr(n.length+1),r=!0;else{let s=e.value.comment;!t.node&&s&&s.startsWith(n)&&(e.value.comment=s.substr(n.length+1),r=!0)}r&&(e.comment=n)}function IM(t,e){let n=[],r=[],i,s=null;for(let o=0;o<e.items.length;++o){let a=e.items[o];switch(a.type){case V.Type.BLANK_LINE:n.push({afterKey:!!i,before:r.length});break;case V.Type.COMMENT:n.push({afterKey:!!i,before:r.length,comment:a.comment});break;case V.Type.MAP_KEY:i!==void 0&&r.push(new nt(i)),a.error&&t.errors.push(a.error),i=Rs(t,a.node),s=null;break;case V.Type.MAP_VALUE:{if(i===void 0&&(i=null),a.error&&t.errors.push(a.error),!a.context.atLineStart&&a.node&&a.node.type===V.Type.MAP&&!a.node.context.atLineStart){let u="Nested mappings are not allowed in compact mappings";t.errors.push(new V.YAMLSemanticError(a.node,u))}let l=a.node;if(!l&&a.props.length>0){l=new V.PlainValue(V.Type.PLAIN,[]),l.context={parent:a,src:a.context.src};let u=a.range.start+1;if(l.range={start:u,end:u},l.valueRange={start:u,end:u},typeof a.range.origStart=="number"){let f=a.range.origStart+1;l.range.origStart=l.range.origEnd=f,l.valueRange.origStart=l.valueRange.origEnd=f}}let c=new nt(i,Rs(t,l));PM(a,c),r.push(c),i&&typeof s=="number"&&a.range.start>s+1024&&t.errors.push(qP(e,i)),i=void 0,s=null}break;default:i!==void 0&&r.push(new nt(i)),i=Rs(t,a),s=a.range.start,a.error&&t.errors.push(a.error);e:for(let l=o+1;;++l){let c=e.items[l];switch(c&&c.type){case V.Type.BLANK_LINE:case V.Type.COMMENT:continue e;case V.Type.MAP_VALUE:break e;default:{let u="Implicit map keys need to be followed by map values";t.errors.push(new V.YAMLSemanticError(a,u));break e}}}if(a.valueRangeContainsNewline){let l="Implicit map keys need to be on a single line";t.errors.push(new V.YAMLSemanticError(a,l))}}}return i!==void 0&&r.push(new nt(i)),{comments:n,items:r}}function SM(t,e){let n=[],r=[],i,s=!1,o="{";for(let a=0;a<e.items.length;++a){let l=e.items[a];if(typeof l.char=="string"){let{char:c,offset:u}=l;if(c==="?"&&i===void 0&&!s){s=!0,o=":";continue}if(c===":"){if(i===void 0&&(i=null),o===":"){o=",";continue}}else if(s&&(i===void 0&&c!==","&&(i=null),s=!1),i!==void 0&&(r.push(new nt(i)),i=void 0,c===",")){o=":";continue}if(c==="}"){if(a===e.items.length-1)continue}else if(c===o){o=":";continue}let f=`Flow map contains an unexpected ${c}`,m=new V.YAMLSyntaxError(e,f);m.offset=u,t.errors.push(m)}else l.type===V.Type.BLANK_LINE?n.push({afterKey:!!i,before:r.length}):l.type===V.Type.COMMENT?(FP(t.errors,l),n.push({afterKey:!!i,before:r.length,comment:l.comment})):i===void 0?(o===","&&t.errors.push(new V.YAMLSemanticError(l,"Separator , missing in flow map")),i=Rs(t,l)):(o!==","&&t.errors.push(new V.YAMLSemanticError(l,"Indicator : missing in flow map entry")),r.push(new nt(i,Rs(t,l))),i=void 0,s=!1)}return kP(t.errors,e),i!==void 0&&r.push(new nt(i)),{comments:n,items:r}}function RM(t,e){if(e.type!==V.Type.SEQ&&e.type!==V.Type.FLOW_SEQ){let s=`A ${e.type} node cannot be resolved as a sequence`;return t.errors.push(new V.YAMLSyntaxError(e,s)),null}let{comments:n,items:r}=e.type===V.Type.FLOW_SEQ?AM(t,e):CM(t,e),i=new co;if(i.items=r,VP(i,n),!t.options.mapAsMap&&r.some(s=>s instanceof nt&&s.key instanceof Ut)){let s="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new V.YAMLWarning(e,s))}return e.resolved=i,i}function CM(t,e){let n=[],r=[];for(let i=0;i<e.items.length;++i){let s=e.items[i];switch(s.type){case V.Type.BLANK_LINE:n.push({before:r.length});break;case V.Type.COMMENT:n.push({comment:s.comment,before:r.length});break;case V.Type.SEQ_ITEM:if(s.error&&t.errors.push(s.error),r.push(Rs(t,s.node)),s.hasProps){let o="Sequence items cannot have tags or anchors before the - indicator";t.errors.push(new V.YAMLSemanticError(s,o))}break;default:s.error&&t.errors.push(s.error),t.errors.push(new V.YAMLSyntaxError(s,`Unexpected ${s.type} node in sequence`))}}return{comments:n,items:r}}function AM(t,e){let n=[],r=[],i=!1,s,o=null,a="[",l=null;for(let c=0;c<e.items.length;++c){let u=e.items[c];if(typeof u.char=="string"){let{char:f,offset:m}=u;if(f!==":"&&(i||s!==void 0)&&(i&&s===void 0&&(s=a?r.pop():null),r.push(new nt(s)),i=!1,s=void 0,o=null),f===a)a=null;else if(!a&&f==="?")i=!0;else if(a!=="["&&f===":"&&s===void 0){if(a===","){if(s=r.pop(),s instanceof nt){let p="Chaining flow sequence pairs is invalid",d=new V.YAMLSemanticError(e,p);d.offset=m,t.errors.push(d)}if(!i&&typeof o=="number"){let p=u.range?u.range.start:u.offset;p>o+1024&&t.errors.push(qP(e,s));let{src:d}=l.context;for(let h=o;h<p;++h)if(d[h]===`
`){let y="Implicit keys of flow sequence pairs need to be on a single line";t.errors.push(new V.YAMLSemanticError(l,y));break}}}else s=null;o=null,i=!1,a=null}else if(a==="["||f!=="]"||c<e.items.length-1){let p=`Flow sequence contains an unexpected ${f}`,d=new V.YAMLSyntaxError(e,p);d.offset=m,t.errors.push(d)}}else if(u.type===V.Type.BLANK_LINE)n.push({before:r.length});else if(u.type===V.Type.COMMENT)FP(t.errors,u),n.push({comment:u.comment,before:r.length});else{if(a){let m=`Expected a ${a} in flow sequence`;t.errors.push(new V.YAMLSemanticError(u,m))}let f=Rs(t,u);s===void 0?(r.push(f),l=u):(r.push(new nt(s,f)),s=void 0),o=u.range.start,a=","}}return kP(t.errors,e),s!==void 0&&r.push(new nt(s)),{comments:n,items:r}}gt.Alias=Ss;gt.Collection=Ut;gt.Merge=Um;gt.Node=_r;gt.Pair=nt;gt.Scalar=In;gt.YAMLMap=gf;gt.YAMLSeq=co;gt.addComment=Ma;gt.binaryOptions=oM;gt.boolOptions=aM;gt.findPair=Bl;gt.intOptions=lM;gt.isEmptyPath=wP;gt.nullOptions=cM;gt.resolveMap=vM;gt.resolveNode=Rs;gt.resolveSeq=RM;gt.resolveString=Ym;gt.strOptions=uo;gt.stringifyNumber=dM;gt.stringifyString=pM;gt.toJSON=Is});var vf=q(ei=>{"use strict";var Zn=Ns(),Ue=ka(),xM={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve:(t,e)=>{let n=Ue.resolveString(t,e);if(typeof Buffer=="function")return Buffer.from(n,"base64");if(typeof atob=="function"){let r=atob(n.replace(/[\n\r]/g,"")),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}else{let r="This environment does not support reading binary tags; either Buffer or atob is required";return t.errors.push(new Zn.YAMLReferenceError(e,r)),null}},options:Ue.binaryOptions,stringify:({comment:t,type:e,value:n},r,i,s)=>{let o;if(typeof Buffer=="function")o=n instanceof Buffer?n.toString("base64"):Buffer.from(n.buffer).toString("base64");else if(typeof btoa=="function"){let a="";for(let l=0;l<n.length;++l)a+=String.fromCharCode(n[l]);o=btoa(a)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=Ue.binaryOptions.defaultType),e===Zn.Type.QUOTE_DOUBLE)n=o;else{let{lineWidth:a}=Ue.binaryOptions,l=Math.ceil(o.length/a),c=new Array(l);for(let u=0,f=0;u<l;++u,f+=a)c[u]=o.substr(f,a);n=c.join(e===Zn.Type.BLOCK_LITERAL?`
`:" ")}return Ue.stringifyString({comment:t,type:e,value:n},r,i,s)}};function jP(t,e){let n=Ue.resolveSeq(t,e);for(let r=0;r<n.items.length;++r){let i=n.items[r];if(!(i instanceof Ue.Pair)){if(i instanceof Ue.YAMLMap){if(i.items.length>1){let o="Each pair must have its own sequence indicator";throw new Zn.YAMLSemanticError(e,o)}let s=i.items[0]||new Ue.Pair;i.commentBefore&&(s.commentBefore=s.commentBefore?`${i.commentBefore}
${s.commentBefore}`:i.commentBefore),i.comment&&(s.comment=s.comment?`${i.comment}
${s.comment}`:i.comment),i=s}n.items[r]=i instanceof Ue.Pair?i:new Ue.Pair(i)}}return n}function UP(t,e,n){let r=new Ue.YAMLSeq(t);r.tag="tag:yaml.org,2002:pairs";for(let i of e){let s,o;if(Array.isArray(i))if(i.length===2)s=i[0],o=i[1];else throw new TypeError(`Expected [key, value] tuple: ${i}`);else if(i&&i instanceof Object){let l=Object.keys(i);if(l.length===1)s=l[0],o=i[s];else throw new TypeError(`Expected { key: value } tuple: ${i}`)}else s=i;let a=t.createPair(s,o,n);r.items.push(a)}return r}var EM={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:jP,createNode:UP},po=class extends Ue.YAMLSeq{constructor(){super();Zn._defineProperty(this,"add",Ue.YAMLMap.prototype.add.bind(this)),Zn._defineProperty(this,"delete",Ue.YAMLMap.prototype.delete.bind(this)),Zn._defineProperty(this,"get",Ue.YAMLMap.prototype.get.bind(this)),Zn._defineProperty(this,"has",Ue.YAMLMap.prototype.has.bind(this)),Zn._defineProperty(this,"set",Ue.YAMLMap.prototype.set.bind(this)),this.tag=po.tag}toJSON(e,n){let r=new Map;n&&n.onCreate&&n.onCreate(r);for(let i of this.items){let s,o;if(i instanceof Ue.Pair?(s=Ue.toJSON(i.key,"",n),o=Ue.toJSON(i.value,s,n)):s=Ue.toJSON(i,"",n),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,o)}return r}};Zn._defineProperty(po,"tag","tag:yaml.org,2002:omap");function wM(t,e){let n=jP(t,e),r=[];for(let{key:i}of n.items)if(i instanceof Ue.Scalar)if(r.includes(i.value)){let s="Ordered maps must not include duplicate keys";throw new Zn.YAMLSemanticError(e,s)}else r.push(i.value);return Object.assign(new po,n)}function OM(t,e,n){let r=UP(t,e,n),i=new po;return i.items=r.items,i}var LM={identify:t=>t instanceof Map,nodeClass:po,default:!1,tag:"tag:yaml.org,2002:omap",resolve:wM,createNode:OM},mo=class extends Ue.YAMLMap{constructor(){super();this.tag=mo.tag}add(e){let n=e instanceof Ue.Pair?e:new Ue.Pair(e);Ue.findPair(this.items,n.key)||this.items.push(n)}get(e,n){let r=Ue.findPair(this.items,e);return!n&&r instanceof Ue.Pair?r.key instanceof Ue.Scalar?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);let r=Ue.findPair(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Ue.Pair(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues())return super.toString(e,n,r);throw new Error("Set items must all have null values")}};Zn._defineProperty(mo,"tag","tag:yaml.org,2002:set");function DM(t,e){let n=Ue.resolveMap(t,e);if(!n.hasAllNullValues())throw new Zn.YAMLSemanticError(e,"Set items must all have null values");return Object.assign(new mo,n)}function MM(t,e,n){let r=new mo;for(let i of e)r.items.push(t.createPair(i,null,n));return r}var kM={identify:t=>t instanceof Set,nodeClass:mo,default:!1,tag:"tag:yaml.org,2002:set",resolve:DM,createNode:MM},Km=(t,e)=>{let n=e.split(":").reduce((r,i)=>r*60+Number(i),0);return t==="-"?-n:n},GP=({value:t})=>{if(isNaN(t)||!isFinite(t))return Ue.stringifyNumber(t);let e="";t<0&&(e="-",t=Math.abs(t));let n=[t%60];return t<60?n.unshift(0):(t=Math.round((t-n[0])/60),n.unshift(t%60),t>=60&&(t=Math.round((t-n[0])/60),n.unshift(t))),e+n.map(r=>r<10?"0"+String(r):String(r)).join(":").replace(/000000\d*$/,"")},FM={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:(t,e,n)=>Km(e,n.replace(/_/g,"")),stringify:GP},qM={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:(t,e,n)=>Km(e,n.replace(/_/g,"")),stringify:GP},VM={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:(t,e,n,r,i,s,o,a,l)=>{a&&(a=(a+"00").substr(1,3));let c=Date.UTC(e,n-1,r,i||0,s||0,o||0,a||0);if(l&&l!=="Z"){let u=Km(l[0],l.slice(1));Math.abs(u)<30&&(u*=60),c-=6e4*u}return new Date(c)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};function $m(t){let e=typeof process!="undefined"&&process.env||{};return t?typeof YAML_SILENCE_DEPRECATION_WARNINGS!="undefined"?!YAML_SILENCE_DEPRECATION_WARNINGS:!e.YAML_SILENCE_DEPRECATION_WARNINGS:typeof YAML_SILENCE_WARNINGS!="undefined"?!YAML_SILENCE_WARNINGS:!e.YAML_SILENCE_WARNINGS}function zm(t,e){if($m(!1)){let n=typeof process!="undefined"&&process.emitWarning;n?n(t,e):console.warn(e?`${e}: ${t}`:t)}}function BM(t){if($m(!0)){let e=t.replace(/.*yaml[/\\]/i,"").replace(/\.js$/,"").replace(/\\/g,"/");zm(`The endpoint 'yaml/${e}' will be removed in a future release.`,"DeprecationWarning")}}var WP={};function jM(t,e){if(!WP[t]&&$m(!0)){WP[t]=!0;let n=`The option '${t}' will be removed in a future release`;n+=e?`, use '${e}' instead.`:".",zm(n,"DeprecationWarning")}}ei.binary=xM;ei.floatTime=qM;ei.intTime=FM;ei.omap=LM;ei.pairs=EM;ei.set=kM;ei.timestamp=VM;ei.warn=zm;ei.warnFileDeprecation=BM;ei.warnOptionDeprecation=jM});var Cf=q(rI=>{"use strict";var Nf=Ns(),ye=ka(),Sn=vf();function UM(t,e,n){let r=new ye.YAMLMap(t);if(e instanceof Map)for(let[i,s]of e)r.items.push(t.createPair(i,s,n));else if(e&&typeof e=="object")for(let i of Object.keys(e))r.items.push(t.createPair(i,e[i],n));return typeof t.sortMapEntries=="function"&&r.items.sort(t.sortMapEntries),r}var jl={createNode:UM,default:!0,nodeClass:ye.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:ye.resolveMap};function GM(t,e,n){let r=new ye.YAMLSeq(t);if(e&&e[Symbol.iterator])for(let i of e){let s=t.createNode(i,n.wrapScalars,null,n);r.items.push(s)}return r}var Pf={createNode:GM,default:!0,nodeClass:ye.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:ye.resolveSeq},WM={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:ye.resolveString,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),ye.stringifyString(t,e,n,r)},options:ye.strOptions},Xm=[jl,Pf,WM],If=t=>typeof t=="bigint"||Number.isInteger(t),Qm=(t,e,n)=>ye.intOptions.asBigInt?BigInt(t):parseInt(e,n);function HP(t,e,n){let{value:r}=t;return If(r)&&r>=0?n+r.toString(e):ye.stringifyNumber(t)}var YP={identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new ye.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:ye.nullOptions,stringify:()=>ye.nullOptions.nullStr},KP={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>t[0]==="t"||t[0]==="T",options:ye.boolOptions,stringify:({value:t})=>t?ye.boolOptions.trueStr:ye.boolOptions.falseStr},$P={identify:t=>If(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:(t,e)=>Qm(t,e,8),options:ye.intOptions,stringify:t=>HP(t,8,"0o")},zP={identify:If,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:t=>Qm(t,t,10),options:ye.intOptions,stringify:ye.stringifyNumber},XP={identify:t=>If(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:(t,e)=>Qm(t,e,16),options:ye.intOptions,stringify:t=>HP(t,16,"0x")},QP={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:ye.stringifyNumber},JP={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify:({value:t})=>Number(t).toExponential()},ZP={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve(t,e,n){let r=e||n,i=new ye.Scalar(parseFloat(t));return r&&r[r.length-1]==="0"&&(i.minFractionDigits=r.length),i},stringify:ye.stringifyNumber},HM=Xm.concat([YP,KP,$P,zP,XP,QP,JP,ZP]),eI=t=>typeof t=="bigint"||Number.isInteger(t),Sf=({value:t})=>JSON.stringify(t),tI=[jl,Pf,{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:ye.resolveString,stringify:Sf},{identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new ye.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Sf},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:Sf},{identify:eI,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:t=>ye.intOptions.asBigInt?BigInt(t):parseInt(t,10),stringify:({value:t})=>eI(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:Sf}];tI.scalarFallback=t=>{throw new SyntaxError(`Unresolved plain scalar ${JSON.stringify(t)}`)};var nI=({value:t})=>t?ye.boolOptions.trueStr:ye.boolOptions.falseStr,Ul=t=>typeof t=="bigint"||Number.isInteger(t);function Rf(t,e,n){let r=e.replace(/_/g,"");if(ye.intOptions.asBigInt){switch(n){case 2:r=`0b${r}`;break;case 8:r=`0o${r}`;break;case 16:r=`0x${r}`;break}let s=BigInt(r);return t==="-"?BigInt(-1)*s:s}let i=parseInt(r,n);return t==="-"?-1*i:i}function Jm(t,e,n){let{value:r}=t;if(Ul(r)){let i=r.toString(e);return r<0?"-"+n+i.substr(1):n+i}return ye.stringifyNumber(t)}var YM=Xm.concat([{identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new ye.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:ye.nullOptions,stringify:()=>ye.nullOptions.nullStr},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>!0,options:ye.boolOptions,stringify:nI},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>!1,options:ye.boolOptions,stringify:nI},{identify:Ul,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:(t,e,n)=>Rf(e,n,2),stringify:t=>Jm(t,2,"0b")},{identify:Ul,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:(t,e,n)=>Rf(e,n,8),stringify:t=>Jm(t,8,"0")},{identify:Ul,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:(t,e,n)=>Rf(e,n,10),stringify:ye.stringifyNumber},{identify:Ul,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:(t,e,n)=>Rf(e,n,16),stringify:t=>Jm(t,16,"0x")},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:ye.stringifyNumber},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify:({value:t})=>Number(t).toExponential()},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve(t,e){let n=new ye.Scalar(parseFloat(t.replace(/_/g,"")));if(e){let r=e.replace(/_/g,"");r[r.length-1]==="0"&&(n.minFractionDigits=r.length)}return n},stringify:ye.stringifyNumber}],Sn.binary,Sn.omap,Sn.pairs,Sn.set,Sn.intTime,Sn.floatTime,Sn.timestamp),KM={core:HM,failsafe:Xm,json:tI,yaml11:YM},$M={binary:Sn.binary,bool:KP,float:ZP,floatExp:JP,floatNaN:QP,floatTime:Sn.floatTime,int:zP,intHex:XP,intOct:$P,intTime:Sn.intTime,map:jl,null:YP,omap:Sn.omap,pairs:Sn.pairs,seq:Pf,set:Sn.set,timestamp:Sn.timestamp};function zM(t,e,n){if(e){let r=n.filter(s=>s.tag===e),i=r.find(s=>!s.format)||r[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return n.find(r=>(r.identify&&r.identify(t)||r.class&&t instanceof r.class)&&!r.format)}function XM(t,e,n){if(t instanceof ye.Node)return t;let{defaultPrefix:r,onTagObj:i,prevObjects:s,schema:o,wrapScalars:a}=n;e&&e.startsWith("!!")&&(e=r+e.slice(2));let l=zM(t,e,o.tags);if(!l){if(typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object")return a?new ye.Scalar(t):t;l=t instanceof Map?jl:t[Symbol.iterator]?Pf:jl}i&&(i(l),delete n.onTagObj);let c={value:void 0,node:void 0};if(t&&typeof t=="object"&&s){let u=s.get(t);if(u){let f=new ye.Alias(u);return n.aliasNodes.push(f),f}c.value=t,s.set(t,c)}return c.node=l.createNode?l.createNode(n.schema,t,n):a?new ye.Scalar(t):t,e&&c.node instanceof ye.Node&&(c.node.tag=e),c.node}function QM(t,e,n,r){let i=t[r.replace(/\W/g,"")];if(!i){let s=Object.keys(t).map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${r}"; use one of ${s}`)}if(Array.isArray(n))for(let s of n)i=i.concat(s);else typeof n=="function"&&(i=n(i.slice()));for(let s=0;s<i.length;++s){let o=i[s];if(typeof o=="string"){let a=e[o];if(!a){let l=Object.keys(e).map(c=>JSON.stringify(c)).join(", ");throw new Error(`Unknown custom tag "${o}"; use one of ${l}`)}i[s]=a}}return i}var JM=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,Fa=class{constructor({customTags:e,merge:n,schema:r,sortMapEntries:i,tags:s}){this.merge=!!n,this.name=r,this.sortMapEntries=i===!0?JM:i||null,!e&&s&&Sn.warnOptionDeprecation("tags","customTags"),this.tags=QM(KM,$M,e||s,r)}createNode(e,n,r,i){let s={defaultPrefix:Fa.defaultPrefix,schema:this,wrapScalars:n},o=i?Object.assign(i,s):s;return XM(e,r,o)}createPair(e,n,r){r||(r={wrapScalars:!0});let i=this.createNode(e,r.wrapScalars,null,r),s=this.createNode(n,r.wrapScalars,null,r);return new ye.Pair(i,s)}};Nf._defineProperty(Fa,"defaultPrefix",Nf.defaultTagPrefix);Nf._defineProperty(Fa,"defaultTags",Nf.defaultTags);rI.Schema=Fa});var aI=q(wf=>{"use strict";var Rn=Ns(),Pe=ka(),iI=Cf(),ZM={anchorPrefix:"a",customTags:null,indent:2,indentSeq:!0,keepCstNodes:!1,keepNodeTypes:!0,keepBlobsInJSON:!0,mapAsMap:!1,maxAliasCount:100,prettyErrors:!1,simpleKeys:!1,version:"1.2"},e1={get binary(){return Pe.binaryOptions},set binary(t){Object.assign(Pe.binaryOptions,t)},get bool(){return Pe.boolOptions},set bool(t){Object.assign(Pe.boolOptions,t)},get int(){return Pe.intOptions},set int(t){Object.assign(Pe.intOptions,t)},get null(){return Pe.nullOptions},set null(t){Object.assign(Pe.nullOptions,t)},get str(){return Pe.strOptions},set str(t){Object.assign(Pe.strOptions,t)}},sI={"1.0":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:Rn.defaultTagPrefix},{handle:"!!",prefix:"tag:private.yaml.org,2002:"}]},1.1:{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:Rn.defaultTagPrefix}]},1.2:{schema:"core",merge:!1,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:Rn.defaultTagPrefix}]}};function oI(t,e){if((t.version||t.options.version)==="1.0"){let i=e.match(/^tag:private\.yaml\.org,2002:([^:/]+)$/);if(i)return"!"+i[1];let s=e.match(/^tag:([a-zA-Z0-9-]+)\.yaml\.org,2002:(.*)/);return s?`!${s[1]}/${s[2]}`:`!${e.replace(/^tag:/,"")}`}let n=t.tagPrefixes.find(i=>e.indexOf(i.prefix)===0);if(!n){let i=t.getDefaults().tagPrefixes;n=i&&i.find(s=>e.indexOf(s.prefix)===0)}if(!n)return e[0]==="!"?e:`!<${e}>`;let r=e.substr(n.prefix.length).replace(/[!,[\]{}]/g,i=>({"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"})[i]);return n.handle+r}function t1(t,e){if(e instanceof Pe.Alias)return Pe.Alias;if(e.tag){let i=t.filter(s=>s.tag===e.tag);if(i.length>0)return i.find(s=>s.format===e.format)||i[0]}let n,r;if(e instanceof Pe.Scalar){r=e.value;let i=t.filter(s=>s.identify&&s.identify(r)||s.class&&r instanceof s.class);n=i.find(s=>s.format===e.format)||i.find(s=>!s.format)}else r=e,n=t.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){let i=r&&r.constructor?r.constructor.name:typeof r;throw new Error(`Tag not resolved for ${i} value`)}return n}function n1(t,e,{anchors:n,doc:r}){let i=[],s=r.anchors.getName(t);return s&&(n[s]=t,i.push(`&${s}`)),t.tag?i.push(oI(r,t.tag)):e.default||i.push(oI(r,e.tag)),i.join(" ")}function Af(t,e,n,r){let{anchors:i,schema:s}=e.doc,o;if(!(t instanceof Pe.Node)){let c={aliasNodes:[],onTagObj:u=>o=u,prevObjects:new Map};t=s.createNode(t,!0,null,c);for(let u of c.aliasNodes){u.source=u.source.node;let f=i.getName(u.source);f||(f=i.newName(),i.map[f]=u.source)}}if(t instanceof Pe.Pair)return t.toString(e,n,r);o||(o=t1(s.tags,t));let a=n1(t,o,e);a.length>0&&(e.indentAtStart=(e.indentAtStart||0)+a.length+1);let l=typeof o.stringify=="function"?o.stringify(t,e,n,r):t instanceof Pe.Scalar?Pe.stringifyString(t,e,n,r):t.toString(e,n,r);return a?t instanceof Pe.Scalar||l[0]==="{"||l[0]==="["?`${a} ${l}`:`${a}
${e.indent}${l}`:l}var xf=class{static validAnchorNode(e){return e instanceof Pe.Scalar||e instanceof Pe.YAMLSeq||e instanceof Pe.YAMLMap}constructor(e){Rn._defineProperty(this,"map",Object.create(null)),this.prefix=e}createAlias(e,n){return this.setAnchor(e,n),new Pe.Alias(e)}createMergePair(...e){let n=new Pe.Merge;return n.value.items=e.map(r=>{if(r instanceof Pe.Alias){if(r.source instanceof Pe.YAMLMap)return r}else if(r instanceof Pe.YAMLMap)return this.createAlias(r);throw new Error("Merge sources must be Map nodes or their Aliases")}),n}getName(e){let{map:n}=this;return Object.keys(n).find(r=>n[r]===e)}getNames(){return Object.keys(this.map)}getNode(e){return this.map[e]}newName(e){e||(e=this.prefix);let n=Object.keys(this.map);for(let r=1;;++r){let i=`${e}${r}`;if(!n.includes(i))return i}}resolveNodes(){let{map:e,_cstAliases:n}=this;Object.keys(e).forEach(r=>{e[r]=e[r].resolved}),n.forEach(r=>{r.source=r.source.resolved}),delete this._cstAliases}setAnchor(e,n){if(e!=null&&!xf.validAnchorNode(e))throw new Error("Anchors may only be set for Scalar, Seq and Map nodes");if(n&&/[\x00-\x19\s,[\]{}]/.test(n))throw new Error("Anchor names must not contain whitespace or control characters");let{map:r}=this,i=e&&Object.keys(r).find(s=>r[s]===e);if(i)if(n)i!==n&&(delete r[i],r[n]=e);else return i;else{if(!n){if(!e)return null;n=this.newName()}r[n]=e}return n}},Ef=(t,e)=>{if(t&&typeof t=="object"){let{tag:n}=t;t instanceof Pe.Collection?(n&&(e[n]=!0),t.items.forEach(r=>Ef(r,e))):t instanceof Pe.Pair?(Ef(t.key,e),Ef(t.value,e)):t instanceof Pe.Scalar&&n&&(e[n]=!0)}return e},r1=t=>Object.keys(Ef(t,{}));function i1(t,e){let n={before:[],after:[]},r,i=!1;for(let s of e)if(s.valueRange){if(r!==void 0){let a="Document contains trailing content not separated by a ... or --- line";t.errors.push(new Rn.YAMLSyntaxError(s,a));break}let o=Pe.resolveNode(t,s);i&&(o.spaceBefore=!0,i=!1),r=o}else s.comment!==null?(r===void 0?n.before:n.after).push(s.comment):s.type===Rn.Type.BLANK_LINE&&(i=!0,r===void 0&&n.before.length>0&&!t.commentBefore&&(t.commentBefore=n.before.join(`
`),n.before=[]));if(t.contents=r||null,!r)t.comment=n.before.concat(n.after).join(`
`)||null;else{let s=n.before.join(`
`);if(s){let o=r instanceof Pe.Collection&&r.items[0]?r.items[0]:r;o.commentBefore=o.commentBefore?`${s}
${o.commentBefore}`:s}t.comment=n.after.join(`
`)||null}}function s1({tagPrefixes:t},e){let[n,r]=e.parameters;if(!n||!r){let i="Insufficient parameters given for %TAG directive";throw new Rn.YAMLSemanticError(e,i)}if(t.some(i=>i.handle===n)){let i="The %TAG directive must only be given at most once per handle in the same document.";throw new Rn.YAMLSemanticError(e,i)}return{handle:n,prefix:r}}function o1(t,e){let[n]=e.parameters;if(e.name==="YAML:1.0"&&(n="1.0"),!n){let r="Insufficient parameters given for %YAML directive";throw new Rn.YAMLSemanticError(e,r)}if(!sI[n]){let i=`Document will be parsed as YAML ${t.version||t.options.version} rather than YAML ${n}`;t.warnings.push(new Rn.YAMLWarning(e,i))}return n}function a1(t,e,n){let r=[],i=!1;for(let s of e){let{comment:o,name:a}=s;switch(a){case"TAG":try{t.tagPrefixes.push(s1(t,s))}catch(l){t.errors.push(l)}i=!0;break;case"YAML":case"YAML:1.0":if(t.version){let l="The %YAML directive must only be given at most once per document.";t.errors.push(new Rn.YAMLSemanticError(s,l))}try{t.version=o1(t,s)}catch(l){t.errors.push(l)}i=!0;break;default:if(a){let l=`YAML only supports %TAG and %YAML directives, and not %${a}`;t.warnings.push(new Rn.YAMLWarning(s,l))}}o&&r.push(o)}if(n&&!i&&(t.version||n.version||t.options.version)==="1.1"){let s=({handle:o,prefix:a})=>({handle:o,prefix:a});t.tagPrefixes=n.tagPrefixes.map(s),t.version=n.version}t.commentBefore=r.join(`
`)||null}function qa(t){if(t instanceof Pe.Collection)return!0;throw new Error("Expected a YAML collection as document contents")}var Va=class{constructor(e){this.anchors=new xf(e.anchorPrefix),this.commentBefore=null,this.comment=null,this.contents=null,this.directivesEndMarker=null,this.errors=[],this.options=e,this.schema=null,this.tagPrefixes=[],this.version=null,this.warnings=[]}add(e){return qa(this.contents),this.contents.add(e)}addIn(e,n){qa(this.contents),this.contents.addIn(e,n)}delete(e){return qa(this.contents),this.contents.delete(e)}deleteIn(e){return Pe.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):(qa(this.contents),this.contents.deleteIn(e))}getDefaults(){return Va.defaults[this.version]||Va.defaults[this.options.version]||{}}get(e,n){return this.contents instanceof Pe.Collection?this.contents.get(e,n):void 0}getIn(e,n){return Pe.isEmptyPath(e)?!n&&this.contents instanceof Pe.Scalar?this.contents.value:this.contents:this.contents instanceof Pe.Collection?this.contents.getIn(e,n):void 0}has(e){return this.contents instanceof Pe.Collection?this.contents.has(e):!1}hasIn(e){return Pe.isEmptyPath(e)?this.contents!==void 0:this.contents instanceof Pe.Collection?this.contents.hasIn(e):!1}set(e,n){qa(this.contents),this.contents.set(e,n)}setIn(e,n){Pe.isEmptyPath(e)?this.contents=n:(qa(this.contents),this.contents.setIn(e,n))}setSchema(e,n){if(!e&&!n&&this.schema)return;typeof e=="number"&&(e=e.toFixed(1)),e==="1.0"||e==="1.1"||e==="1.2"?(this.version?this.version=e:this.options.version=e,delete this.options.schema):e&&typeof e=="string"&&(this.options.schema=e),Array.isArray(n)&&(this.options.customTags=n);let r=Object.assign({},this.getDefaults(),this.options);this.schema=new iI.Schema(r)}parse(e,n){this.options.keepCstNodes&&(this.cstNode=e),this.options.keepNodeTypes&&(this.type="DOCUMENT");let{directives:r=[],contents:i=[],directivesEndMarker:s,error:o,valueRange:a}=e;if(o&&(o.source||(o.source=this),this.errors.push(o)),a1(this,r,n),s&&(this.directivesEndMarker=!0),this.range=a?[a.start,a.end]:null,this.setSchema(),this.anchors._cstAliases=[],i1(this,i),this.anchors.resolveNodes(),this.options.prettyErrors){for(let l of this.errors)l instanceof Rn.YAMLError&&l.makePretty();for(let l of this.warnings)l instanceof Rn.YAMLError&&l.makePretty()}return this}listNonDefaultTags(){return r1(this.contents).filter(e=>e.indexOf(iI.Schema.defaultPrefix)!==0)}setTagPrefix(e,n){if(e[0]!=="!"||e[e.length-1]!=="!")throw new Error("Handle must start and end with !");if(n){let r=this.tagPrefixes.find(i=>i.handle===e);r?r.prefix=n:this.tagPrefixes.push({handle:e,prefix:n})}else this.tagPrefixes=this.tagPrefixes.filter(r=>r.handle!==e)}toJSON(e,n){let{keepBlobsInJSON:r,mapAsMap:i,maxAliasCount:s}=this.options,o=r&&(typeof e!="string"||!(this.contents instanceof Pe.Scalar)),a={doc:this,indentStep:"  ",keep:o,mapAsMap:o&&!!i,maxAliasCount:s,stringify:Af},l=Object.keys(this.anchors.map);l.length>0&&(a.anchors=new Map(l.map(u=>[this.anchors.map[u],{alias:[],aliasCount:0,count:1}])));let c=Pe.toJSON(this.contents,e,a);if(typeof n=="function"&&a.anchors)for(let{count:u,res:f}of a.anchors.values())n(f,u);return c}toString(){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");let e=this.options.indent;if(!Number.isInteger(e)||e<=0){let l=JSON.stringify(e);throw new Error(`"indent" option must be a positive integer, not ${l}`)}this.setSchema();let n=[],r=!1;if(this.version){let l="%YAML 1.2";this.schema.name==="yaml-1.1"&&(this.version==="1.0"?l="%YAML:1.0":this.version==="1.1"&&(l="%YAML 1.1")),n.push(l),r=!0}let i=this.listNonDefaultTags();this.tagPrefixes.forEach(({handle:l,prefix:c})=>{i.some(u=>u.indexOf(c)===0)&&(n.push(`%TAG ${l} ${c}`),r=!0)}),(r||this.directivesEndMarker)&&n.push("---"),this.commentBefore&&((r||!this.directivesEndMarker)&&n.unshift(""),n.unshift(this.commentBefore.replace(/^/gm,"#")));let s={anchors:Object.create(null),doc:this,indent:"",indentStep:" ".repeat(e),stringify:Af},o=!1,a=null;if(this.contents){this.contents instanceof Pe.Node&&(this.contents.spaceBefore&&(r||this.directivesEndMarker)&&n.push(""),this.contents.commentBefore&&n.push(this.contents.commentBefore.replace(/^/gm,"#")),s.forceBlockIndent=!!this.comment,a=this.contents.comment);let l=a?null:()=>o=!0,c=Af(this.contents,s,()=>a=null,l);n.push(Pe.addComment(c,"",a))}else this.contents!==void 0&&n.push(Af(this.contents,s));return this.comment&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(this.comment.replace(/^/gm,"#"))),n.join(`
`)+`
`}};Rn._defineProperty(Va,"defaults",sI);wf.Document=Va;wf.defaultOptions=ZM;wf.scalarOptions=e1});var uI=q(cI=>{"use strict";var Zm=xP(),ho=aI(),l1=Cf(),c1=Ns(),u1=vf();ka();function f1(t,e=!0,n){n===void 0&&typeof e=="string"&&(n=e,e=!0);let r=Object.assign({},ho.Document.defaults[ho.defaultOptions.version],ho.defaultOptions);return new l1.Schema(r).createNode(t,e,n)}var Gl=class extends ho.Document{constructor(e){super(Object.assign({},ho.defaultOptions,e))}};function p1(t,e){let n=[],r;for(let i of Zm.parse(t)){let s=new Gl(e);s.parse(i,r),n.push(s),r=s}return n}function lI(t,e){let n=Zm.parse(t),r=new Gl(e).parse(n[0]);if(n.length>1){let i="Source contains multiple documents; please use YAML.parseAllDocuments()";r.errors.unshift(new c1.YAMLSemanticError(n[1],i))}return r}function d1(t,e){let n=lI(t,e);if(n.warnings.forEach(r=>u1.warn(r)),n.errors.length>0)throw n.errors[0];return n.toJSON()}function m1(t,e){let n=new Gl(e);return n.contents=t,String(n)}var h1={createNode:f1,defaultOptions:ho.defaultOptions,Document:Gl,parse:d1,parseAllDocuments:p1,parseCST:Zm.parse,parseDocument:lI,scalarOptions:ho.scalarOptions,stringify:m1};cI.YAML=h1});var Ti=q((Gee,fI)=>{fI.exports=uI().YAML});var pI=q(Cn=>{"use strict";var er=ka(),g1=Cf();Ns();vf();Cn.Alias=er.Alias;Cn.Collection=er.Collection;Cn.Merge=er.Merge;Cn.Node=er.Node;Cn.Pair=er.Pair;Cn.Scalar=er.Scalar;Cn.YAMLMap=er.YAMLMap;Cn.YAMLSeq=er.YAMLSeq;Cn.binaryOptions=er.binaryOptions;Cn.boolOptions=er.boolOptions;Cn.intOptions=er.intOptions;Cn.nullOptions=er.nullOptions;Cn.strOptions=er.strOptions;Cn.Schema=g1.Schema});var kh=q((Ie,HS)=>{Ie=HS.exports=Be;var Je;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?Je=function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:Je=function(){};Ie.SEMVER_SPEC_VERSION="2.0.0";var Th=256,jf=Number.MAX_SAFE_INTEGER||9007199254740991,bh=16,rt=Ie.re=[],W=Ie.src=[],Me=0,Ya=Me++;W[Ya]="0|[1-9]\\d*";var Ka=Me++;W[Ka]="[0-9]+";var vh=Me++;W[vh]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var ES=Me++;W[ES]="("+W[Ya]+")\\.("+W[Ya]+")\\.("+W[Ya]+")";var wS=Me++;W[wS]="("+W[Ka]+")\\.("+W[Ka]+")\\.("+W[Ka]+")";var Nh=Me++;W[Nh]="(?:"+W[Ya]+"|"+W[vh]+")";var Ph=Me++;W[Ph]="(?:"+W[Ka]+"|"+W[vh]+")";var Ih=Me++;W[Ih]="(?:-("+W[Nh]+"(?:\\."+W[Nh]+")*))";var Sh=Me++;W[Sh]="(?:-?("+W[Ph]+"(?:\\."+W[Ph]+")*))";var Rh=Me++;W[Rh]="[0-9A-Za-z-]+";var Zl=Me++;W[Zl]="(?:\\+("+W[Rh]+"(?:\\."+W[Rh]+")*))";var Ch=Me++,OS="v?"+W[ES]+W[Ih]+"?"+W[Zl]+"?";W[Ch]="^"+OS+"$";var Ah="[v=\\s]*"+W[wS]+W[Sh]+"?"+W[Zl]+"?",xh=Me++;W[xh]="^"+Ah+"$";var $a=Me++;W[$a]="((?:<|>)?=?)";var Uf=Me++;W[Uf]=W[Ka]+"|x|X|\\*";var Gf=Me++;W[Gf]=W[Ya]+"|x|X|\\*";var bo=Me++;W[bo]="[v=\\s]*("+W[Gf]+")(?:\\.("+W[Gf]+")(?:\\.("+W[Gf]+")(?:"+W[Ih]+")?"+W[Zl]+"?)?)?";var za=Me++;W[za]="[v=\\s]*("+W[Uf]+")(?:\\.("+W[Uf]+")(?:\\.("+W[Uf]+")(?:"+W[Sh]+")?"+W[Zl]+"?)?)?";var LS=Me++;W[LS]="^"+W[$a]+"\\s*"+W[bo]+"$";var DS=Me++;W[DS]="^"+W[$a]+"\\s*"+W[za]+"$";var MS=Me++;W[MS]="(?:^|[^\\d])(\\d{1,"+bh+"})(?:\\.(\\d{1,"+bh+"}))?(?:\\.(\\d{1,"+bh+"}))?(?:$|[^\\d])";var Wf=Me++;W[Wf]="(?:~>?)";var Hf=Me++;W[Hf]="(\\s*)"+W[Wf]+"\\s+";rt[Hf]=new RegExp(W[Hf],"g");var nq="$1~",kS=Me++;W[kS]="^"+W[Wf]+W[bo]+"$";var FS=Me++;W[FS]="^"+W[Wf]+W[za]+"$";var Yf=Me++;W[Yf]="(?:\\^)";var Kf=Me++;W[Kf]="(\\s*)"+W[Yf]+"\\s+";rt[Kf]=new RegExp(W[Kf],"g");var rq="$1^",qS=Me++;W[qS]="^"+W[Yf]+W[bo]+"$";var VS=Me++;W[VS]="^"+W[Yf]+W[za]+"$";var Eh=Me++;W[Eh]="^"+W[$a]+"\\s*("+Ah+")$|^$";var wh=Me++;W[wh]="^"+W[$a]+"\\s*("+OS+")$|^$";var ec=Me++;W[ec]="(\\s*)"+W[$a]+"\\s*("+Ah+"|"+W[bo]+")";rt[ec]=new RegExp(W[ec],"g");var iq="$1$2$3",BS=Me++;W[BS]="^\\s*("+W[bo]+")\\s+-\\s+("+W[bo]+")\\s*$";var jS=Me++;W[jS]="^\\s*("+W[za]+")\\s+-\\s+("+W[za]+")\\s*$";var US=Me++;W[US]="(<|>)?=?\\s*\\*";for(xs=0;xs<Me;xs++)Je(xs,W[xs]),rt[xs]||(rt[xs]=new RegExp(W[xs]));var xs;Ie.parse=vo;function vo(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof Be)return t;if(typeof t!="string"||t.length>Th)return null;var n=e.loose?rt[xh]:rt[Ch];if(!n.test(t))return null;try{return new Be(t,e)}catch{return null}}Ie.valid=sq;function sq(t,e){var n=vo(t,e);return n?n.version:null}Ie.clean=oq;function oq(t,e){var n=vo(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null}Ie.SemVer=Be;function Be(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof Be){if(t.loose===e.loose)return t;t=t.version}else if(typeof t!="string")throw new TypeError("Invalid Version: "+t);if(t.length>Th)throw new TypeError("version is longer than "+Th+" characters");if(!(this instanceof Be))return new Be(t,e);Je("SemVer",t,e),this.options=e,this.loose=!!e.loose;var n=t.trim().match(e.loose?rt[xh]:rt[Ch]);if(!n)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>jf||this.major<0)throw new TypeError("Invalid major version");if(this.minor>jf||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>jf||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(function(r){if(/^[0-9]+$/.test(r)){var i=+r;if(i>=0&&i<jf)return i}return r}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}Be.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};Be.prototype.toString=function(){return this.version};Be.prototype.compare=function(t){return Je("SemVer.compare",this.version,this.options,t),t instanceof Be||(t=new Be(t,this.options)),this.compareMain(t)||this.comparePre(t)};Be.prototype.compareMain=function(t){return t instanceof Be||(t=new Be(t,this.options)),Xa(this.major,t.major)||Xa(this.minor,t.minor)||Xa(this.patch,t.patch)};Be.prototype.comparePre=function(t){if(t instanceof Be||(t=new Be(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var n=this.prerelease[e],r=t.prerelease[e];if(Je("prerelease compare",e,n,r),n===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(n===void 0)return-1;if(n===r)continue;return Xa(n,r)}while(++e)};Be.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e),this.inc("pre",e);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this};Ie.inc=aq;function aq(t,e,n,r){typeof n=="string"&&(r=n,n=void 0);try{return new Be(t,n).inc(e,r).version}catch{return null}}Ie.diff=lq;function lq(t,e){if(Oh(t,e))return null;var n=vo(t),r=vo(e),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var s="prerelease"}for(var o in n)if((o==="major"||o==="minor"||o==="patch")&&n[o]!==r[o])return i+o;return s}Ie.compareIdentifiers=Xa;var GS=/^[0-9]+$/;function Xa(t,e){var n=GS.test(t),r=GS.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1}Ie.rcompareIdentifiers=cq;function cq(t,e){return Xa(e,t)}Ie.major=uq;function uq(t,e){return new Be(t,e).major}Ie.minor=fq;function fq(t,e){return new Be(t,e).minor}Ie.patch=pq;function pq(t,e){return new Be(t,e).patch}Ie.compare=$i;function $i(t,e,n){return new Be(t,n).compare(new Be(e,n))}Ie.compareLoose=dq;function dq(t,e){return $i(t,e,!0)}Ie.rcompare=mq;function mq(t,e,n){return $i(e,t,n)}Ie.sort=hq;function hq(t,e){return t.sort(function(n,r){return Ie.compare(n,r,e)})}Ie.rsort=gq;function gq(t,e){return t.sort(function(n,r){return Ie.rcompare(n,r,e)})}Ie.gt=tc;function tc(t,e,n){return $i(t,e,n)>0}Ie.lt=$f;function $f(t,e,n){return $i(t,e,n)<0}Ie.eq=Oh;function Oh(t,e,n){return $i(t,e,n)===0}Ie.neq=WS;function WS(t,e,n){return $i(t,e,n)!==0}Ie.gte=Lh;function Lh(t,e,n){return $i(t,e,n)>=0}Ie.lte=Dh;function Dh(t,e,n){return $i(t,e,n)<=0}Ie.cmp=zf;function zf(t,e,n,r){switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return Oh(t,n,r);case"!=":return WS(t,n,r);case">":return tc(t,n,r);case">=":return Lh(t,n,r);case"<":return $f(t,n,r);case"<=":return Dh(t,n,r);default:throw new TypeError("Invalid operator: "+e)}}Ie.Comparator=yr;function yr(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof yr){if(t.loose===!!e.loose)return t;t=t.value}if(!(this instanceof yr))return new yr(t,e);Je("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===nc?this.value="":this.value=this.operator+this.semver.version,Je("comp",this)}var nc={};yr.prototype.parse=function(t){var e=this.options.loose?rt[Eh]:rt[wh],n=t.match(e);if(!n)throw new TypeError("Invalid comparator: "+t);this.operator=n[1],this.operator==="="&&(this.operator=""),n[2]?this.semver=new Be(n[2],this.options.loose):this.semver=nc};yr.prototype.toString=function(){return this.value};yr.prototype.test=function(t){return Je("Comparator.test",t,this.options.loose),this.semver===nc?!0:(typeof t=="string"&&(t=new Be(t,this.options)),zf(t,this.operator,this.semver,this.options))};yr.prototype.intersects=function(t,e){if(!(t instanceof yr))throw new TypeError("a Comparator is required");(!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1});var n;if(this.operator==="")return n=new Tt(t.value,e),Xf(this.value,n,e);if(t.operator==="")return n=new Tt(this.value,e),Xf(t.semver,n,e);var r=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<"),s=this.semver.version===t.semver.version,o=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<="),a=zf(this.semver,"<",t.semver,e)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"),l=zf(this.semver,">",t.semver,e)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return r||i||s&&o||a||l};Ie.Range=Tt;function Tt(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof Tt)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new Tt(t.raw,e);if(t instanceof yr)return new Tt(t.value,e);if(!(this instanceof Tt))return new Tt(t,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(function(n){return this.parseRange(n.trim())},this).filter(function(n){return n.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}Tt.prototype.format=function(){return this.range=this.set.map(function(t){return t.join(" ").trim()}).join("||").trim(),this.range};Tt.prototype.toString=function(){return this.range};Tt.prototype.parseRange=function(t){var e=this.options.loose;t=t.trim();var n=e?rt[jS]:rt[BS];t=t.replace(n,Rq),Je("hyphen replace",t),t=t.replace(rt[ec],iq),Je("comparator trim",t,rt[ec]),t=t.replace(rt[Hf],nq),t=t.replace(rt[Kf],rq),t=t.split(/\s+/).join(" ");var r=e?rt[Eh]:rt[wh],i=t.split(" ").map(function(s){return yq(s,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(s){return!!s.match(r)})),i=i.map(function(s){return new yr(s,this.options)},this),i};Tt.prototype.intersects=function(t,e){if(!(t instanceof Tt))throw new TypeError("a Range is required");return this.set.some(function(n){return n.every(function(r){return t.set.some(function(i){return i.every(function(s){return r.intersects(s,e)})})})})};Ie.toComparators=_q;function _q(t,e){return new Tt(t,e).set.map(function(n){return n.map(function(r){return r.value}).join(" ").trim().split(" ")})}function yq(t,e){return Je("comp",t,e),t=vq(t,e),Je("caret",t),t=Tq(t,e),Je("tildes",t),t=Pq(t,e),Je("xrange",t),t=Sq(t,e),Je("stars",t),t}function En(t){return!t||t.toLowerCase()==="x"||t==="*"}function Tq(t,e){return t.trim().split(/\s+/).map(function(n){return bq(n,e)}).join(" ")}function bq(t,e){var n=e.loose?rt[FS]:rt[kS];return t.replace(n,function(r,i,s,o,a){Je("tilde",t,r,i,s,o,a);var l;return En(i)?l="":En(s)?l=">="+i+".0.0 <"+(+i+1)+".0.0":En(o)?l=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":a?(Je("replaceTilde pr",a),l=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+(+s+1)+".0"):l=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0",Je("tilde return",l),l})}function vq(t,e){return t.trim().split(/\s+/).map(function(n){return Nq(n,e)}).join(" ")}function Nq(t,e){Je("caret",t,e);var n=e.loose?rt[VS]:rt[qS];return t.replace(n,function(r,i,s,o,a){Je("caret",t,r,i,s,o,a);var l;return En(i)?l="":En(s)?l=">="+i+".0.0 <"+(+i+1)+".0.0":En(o)?i==="0"?l=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":l=">="+i+"."+s+".0 <"+(+i+1)+".0.0":a?(Je("replaceCaret pr",a),i==="0"?s==="0"?l=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+s+"."+(+o+1):l=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+(+s+1)+".0":l=">="+i+"."+s+"."+o+"-"+a+" <"+(+i+1)+".0.0"):(Je("no pr"),i==="0"?s==="0"?l=">="+i+"."+s+"."+o+" <"+i+"."+s+"."+(+o+1):l=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0":l=">="+i+"."+s+"."+o+" <"+(+i+1)+".0.0"),Je("caret return",l),l})}function Pq(t,e){return Je("replaceXRanges",t,e),t.split(/\s+/).map(function(n){return Iq(n,e)}).join(" ")}function Iq(t,e){t=t.trim();var n=e.loose?rt[DS]:rt[LS];return t.replace(n,function(r,i,s,o,a,l){Je("xRange",t,r,i,s,o,a,l);var c=En(s),u=c||En(o),f=u||En(a),m=f;return i==="="&&m&&(i=""),c?i===">"||i==="<"?r="<0.0.0":r="*":i&&m?(u&&(o=0),a=0,i===">"?(i=">=",u?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",u?s=+s+1:o=+o+1),r=i+s+"."+o+"."+a):u?r=">="+s+".0.0 <"+(+s+1)+".0.0":f&&(r=">="+s+"."+o+".0 <"+s+"."+(+o+1)+".0"),Je("xRange return",r),r})}function Sq(t,e){return Je("replaceStars",t,e),t.trim().replace(rt[US],"")}function Rq(t,e,n,r,i,s,o,a,l,c,u,f,m){return En(n)?e="":En(r)?e=">="+n+".0.0":En(i)?e=">="+n+"."+r+".0":e=">="+e,En(l)?a="":En(c)?a="<"+(+l+1)+".0.0":En(u)?a="<"+l+"."+(+c+1)+".0":f?a="<="+l+"."+c+"."+u+"-"+f:a="<="+a,(e+" "+a).trim()}Tt.prototype.test=function(t){if(!t)return!1;typeof t=="string"&&(t=new Be(t,this.options));for(var e=0;e<this.set.length;e++)if(Cq(this.set[e],t,this.options))return!0;return!1};function Cq(t,e,n){for(var r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(r=0;r<t.length;r++)if(Je(t[r].semver),t[r].semver!==nc&&t[r].semver.prerelease.length>0){var i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}Ie.satisfies=Xf;function Xf(t,e,n){try{e=new Tt(e,n)}catch{return!1}return e.test(t)}Ie.maxSatisfying=Aq;function Aq(t,e,n){var r=null,i=null;try{var s=new Tt(e,n)}catch{return null}return t.forEach(function(o){s.test(o)&&(!r||i.compare(o)===-1)&&(r=o,i=new Be(r,n))}),r}Ie.minSatisfying=xq;function xq(t,e,n){var r=null,i=null;try{var s=new Tt(e,n)}catch{return null}return t.forEach(function(o){s.test(o)&&(!r||i.compare(o)===1)&&(r=o,i=new Be(r,n))}),r}Ie.minVersion=Eq;function Eq(t,e){t=new Tt(t,e);var n=new Be("0.0.0");if(t.test(n)||(n=new Be("0.0.0-0"),t.test(n)))return n;n=null;for(var r=0;r<t.set.length;++r){var i=t.set[r];i.forEach(function(s){var o=new Be(s.semver.version);switch(s.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!n||tc(n,o))&&(n=o);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+s.operator)}})}return n&&t.test(n)?n:null}Ie.validRange=wq;function wq(t,e){try{return new Tt(t,e).range||"*"}catch{return null}}Ie.ltr=Oq;function Oq(t,e,n){return Mh(t,e,"<",n)}Ie.gtr=Lq;function Lq(t,e,n){return Mh(t,e,">",n)}Ie.outside=Mh;function Mh(t,e,n,r){t=new Be(t,r),e=new Tt(e,r);var i,s,o,a,l;switch(n){case">":i=tc,s=Dh,o=$f,a=">",l=">=";break;case"<":i=$f,s=Lh,o=tc,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Xf(t,e,r))return!1;for(var c=0;c<e.set.length;++c){var u=e.set[c],f=null,m=null;if(u.forEach(function(p){p.semver===nc&&(p=new yr(">=0.0.0")),f=f||p,m=m||p,i(p.semver,f.semver,r)?f=p:o(p.semver,m.semver,r)&&(m=p)}),f.operator===a||f.operator===l||(!m.operator||m.operator===a)&&s(t,m.semver))return!1;if(m.operator===l&&o(t,m.semver))return!1}return!0}Ie.prerelease=Dq;function Dq(t,e){var n=vo(t,e);return n&&n.prerelease.length?n.prerelease:null}Ie.intersects=Mq;function Mq(t,e,n){return t=new Tt(t,n),e=new Tt(e,n),t.intersects(e)}Ie.coerce=kq;function kq(t){if(t instanceof Be)return t;if(typeof t!="string")return null;var e=t.match(rt[MS]);return e==null?null:vo(e[1]+"."+(e[2]||"0")+"."+(e[3]||"0"))}});var Jf=q((Yre,JS)=>{"use strict";function zt(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}zt.prototype.clone_empty=function(){var t=new zt(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t};zt.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]};zt.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1};zt.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))};zt.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)};zt.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count};zt.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,t.__items[0]===" "&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1};zt.prototype.is_empty=function(){return this.__items.length===0};zt.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]};zt.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf(`
`);e!==-1?this.__character_count=t.length-e:this.__character_count+=t.length};zt.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t};zt.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)};zt.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)};zt.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1};zt.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t};function ic(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}ic.prototype.get_indent_size=function(t,e){var n=this.__base_string_length;return e=e||0,t<0&&(n=0),n+=t*this.__indent_size,n+=e,n};ic.prototype.get_indent_string=function(t,e){var n=this.__base_string;return e=e||0,t<0&&(t=0,n=""),e+=t*this.__indent_size,this.__ensure_cache(e),n+=this.__cache[e],n};ic.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column()};ic.prototype.__add_column=function(){var t=this.__cache.length,e=0,n="";this.__indent_size&&t>=this.__indent_size&&(e=Math.floor(t/this.__indent_size),t-=e*this.__indent_size,n=new Array(e+1).join(this.__indent_string)),t&&(n+=new Array(t+1).join(" ")),this.__cache.push(n)};function Xt(t,e){this.__indent_cache=new ic(t,e),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new zt(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}Xt.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)};Xt.prototype.get_line_number=function(){return this.__lines.length};Xt.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)};Xt.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)};Xt.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()};Xt.prototype.add_new_line=function(t){return this.is_empty()||!t&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)};Xt.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&(e[e.length-1]===`
`&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join(`
`);return t!==`
`&&(n=n.replace(/[\n]/g,t)),n};Xt.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()};Xt.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)};Xt.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1};Xt.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()};Xt.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))};Xt.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()};Xt.prototype.trim=function(t){for(t=t===void 0?!1:t,this.current_line.trim();t&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null};Xt.prototype.just_added_newline=function(){return this.current_line.is_empty()};Xt.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()};Xt.prototype.ensure_empty_line_above=function(t,e){for(var n=this.__lines.length-2;n>=0;){var r=this.__lines[n];if(r.is_empty())break;if(r.item(0).indexOf(t)!==0&&r.item(-1)!==e){this.__lines.splice(n+1,0,new zt(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}};JS.exports.Output=Xt});var jh=q((Kre,ZS)=>{"use strict";function jq(t,e,n,r){this.type=t,this.text=e,this.comments_before=null,this.newlines=n||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}ZS.exports.Token=jq});var Gh=q(zi=>{"use strict";var Uq="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",eR="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",Uh="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",tR="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",nR="(?:\\\\u[0-9a-fA-F]{4}|["+Uq+Uh+"])",Gq="(?:\\\\u[0-9a-fA-F]{4}|["+eR+Uh+tR+"])*";zi.identifier=new RegExp(nR+Gq,"g");zi.identifierStart=new RegExp(nR);zi.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+eR+Uh+tR+"])+");zi.newline=/[\n\r\u2028\u2029]/;zi.lineBreak=new RegExp(`\r
|`+zi.newline.source);zi.allLineBreaks=new RegExp(zi.lineBreak.source,"g")});var ep=q((zre,Zf)=>{"use strict";function ws(t,e){this.raw_options=rR(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}ws.prototype._get_array=function(t,e){var n=this.raw_options[t],r=e||[];return typeof n=="object"?n!==null&&typeof n.concat=="function"&&(r=n.concat()):typeof n=="string"&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r};ws.prototype._get_boolean=function(t,e){var n=this.raw_options[t],r=n===void 0?!!e:!!n;return r};ws.prototype._get_characters=function(t,e){var n=this.raw_options[t],r=e||"";return typeof n=="string"&&(r=n.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),r};ws.prototype._get_number=function(t,e){var n=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var r=parseInt(n,10);return isNaN(r)&&(r=e),r};ws.prototype._get_selection=function(t,e,n){var r=this._get_selection_list(t,e,n);if(r.length!==1)throw new Error("Invalid Option Value: The option '"+t+`' can only be one of the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return r[0]};ws.prototype._get_selection_list=function(t,e,n){if(!e||e.length===0)throw new Error("Selection list cannot be empty.");if(n=n||[e[0]],!this._is_valid_selection(n,e))throw new Error("Invalid Default Value!");var r=this._get_array(t,n);if(!this._is_valid_selection(r,e))throw new Error("Invalid Option Value: The option '"+t+`' can contain only the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return r};ws.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some(function(n){return e.indexOf(n)===-1})};function rR(t,e){var n={};t=iR(t);var r;for(r in t)r!==e&&(n[r]=t[r]);if(e&&t[e])for(r in t[e])n[r]=t[e][r];return n}function iR(t){var e={},n;for(n in t){var r=n.replace(/-/g,"_");e[r]=t[n]}return e}Zf.exports.Options=ws;Zf.exports.normalizeOpts=iR;Zf.exports.mergeOpts=rR});var Wh=q((Xre,aR)=>{"use strict";var sR=ep().Options,Wq=["before-newline","after-newline","preserve-newline"];function oR(t){sR.call(this,t,"js");var e=this.raw_options.brace_style||null;e==="expand-strict"?this.raw_options.brace_style="expand":e==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var r=0;r<n.length;r++)n[r]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=n[r];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",Wq),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}oR.prototype=new sR;aR.exports.Options=oR});var tp=q((Qre,cR)=>{"use strict";var lR=RegExp.prototype.hasOwnProperty("sticky");function an(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}an.prototype.restart=function(){this.__position=0};an.prototype.back=function(){this.__position>0&&(this.__position-=1)};an.prototype.hasNext=function(){return this.__position<this.__input_length};an.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t};an.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e};an.prototype.__match=function(t,e){t.lastIndex=e;var n=t.exec(this.__input);return n&&!(lR&&t.sticky)&&n.index!==e&&(n=null),n};an.prototype.test=function(t,e){return e=e||0,e+=this.__position,e>=0&&e<this.__input_length?!!this.__match(t,e):!1};an.prototype.testChar=function(t,e){var n=this.peek(e);return t.lastIndex=0,n!==null&&t.test(n)};an.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e};an.prototype.read=function(t,e,n){var r="",i;return t&&(i=this.match(t),i&&(r+=i[0])),e&&(i||!t)&&(r+=this.readUntil(e,n)),r};an.prototype.readUntil=function(t,e){var n="",r=this.__position;t.lastIndex=this.__position;var i=t.exec(this.__input);return i?(r=i.index,e&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n};an.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)};an.prototype.get_regexp=function(t,e){var n=null,r="g";return e&&lR&&(r="y"),typeof t=="string"&&t!==""?n=new RegExp(t,r):t&&(n=new RegExp(t.source,r)),n};an.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))};an.prototype.peekUntilAfter=function(t){var e=this.__position,n=this.readUntilAfter(t);return this.__position=e,n};an.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t};cR.exports.InputScanner=an});var fR=q((Jre,uR)=>{"use strict";function No(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}No.prototype.restart=function(){this.__position=0};No.prototype.isEmpty=function(){return this.__tokens_length===0};No.prototype.hasNext=function(){return this.__position<this.__tokens_length};No.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t};No.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__tokens_length&&(e=this.__tokens[t]),e};No.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1};uR.exports.TokenStream=No});var sc=q((Zre,pR)=>{"use strict";function vi(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after)}vi.prototype.read=function(){var t=this._input.read(this._starting_pattern);return(!this._starting_pattern||t)&&(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t};vi.prototype.read_match=function(){return this._input.match(this._match_pattern)};vi.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e};vi.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e};vi.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e};vi.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e};vi.prototype._create=function(){return new vi(this._input,this)};vi.prototype._update=function(){};pR.exports.Pattern=vi});var hR=q((eie,mR)=>{"use strict";var dR=sc().Pattern;function Os(t,e){dR.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}Os.prototype=new dR;Os.prototype.__set_whitespace_patterns=function(t,e){t+="\\t ",e+="\\n\\r",this._match_pattern=this._input.get_regexp("["+t+e+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]")};Os.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(t===" ")this.whitespace_before_token=" ";else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1,this.whitespace_before_token=e[this.newline_count]}return t};Os.prototype.matching=function(t,e){var n=this._create();return n.__set_whitespace_patterns(t,e),n._update(),n};Os.prototype._create=function(){return new Os(this._input,this)};Os.prototype.__split=function(t,e){t.lastIndex=0;for(var n=0,r=[],i=t.exec(e);i;)r.push(e.substring(n,i.index)),n=i.index+i[0].length,i=t.exec(e);return n<e.length?r.push(e.substring(n,e.length)):r.push(""),r};mR.exports.WhitespacePattern=Os});var ac=q((tie,Yh)=>{"use strict";var Hq=tp().InputScanner,gR=jh().Token,Hh=fR().TokenStream,Yq=hR().WhitespacePattern,oc={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},Ni=function(t,e){this._input=new Hq(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new Yq(this._input)};Ni.prototype.tokenize=function(){this._input.restart(),this.__tokens=new Hh,this._reset();for(var t,e=new gR(oc.START,""),n=null,r=[],i=new Hh;e.type!==oc.EOF;){for(t=this._get_next_token(e,n);this._is_comment(t);)i.add(t),t=this._get_next_token(e,n);i.isEmpty()||(t.comments_before=i,i=new Hh),t.parent=n,this._is_opening(t)?(r.push(n),n=t):n&&this._is_closing(t,n)&&(t.opened=n,n.closed=t,n=r.pop(),t.parent=n),t.previous=e,e.next=t,this.__tokens.add(t),e=t}return this.__tokens};Ni.prototype._is_first_token=function(){return this.__tokens.isEmpty()};Ni.prototype._reset=function(){};Ni.prototype._get_next_token=function(t,e){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(oc.RAW,n):this._create_token(oc.EOF,"")};Ni.prototype._is_comment=function(t){return!1};Ni.prototype._is_opening=function(t){return!1};Ni.prototype._is_closing=function(t,e){return!1};Ni.prototype._create_token=function(t,e){var n=new gR(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return n};Ni.prototype._readWhitespace=function(){return this._patterns.whitespace.read()};Yh.exports.Tokenizer=Ni;Yh.exports.TOKEN=oc});var np=q((nie,_R)=>{"use strict";function Kh(t,e){t=typeof t=="string"?t:t.source,e=typeof e=="string"?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}Kh.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(t);n;)e[n[1]]=n[2],n=this.__directive_pattern.exec(t);return e};Kh.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)};_R.exports.Directives=Kh});var Xh=q((rie,yR)=>{"use strict";var $h=sc().Pattern,zh={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function ri(t,e){$h.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},zh),this._excluded=Object.assign({},zh),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var n=new $h(t);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/),smarty:n.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:n.starting_with(/{\*/).until_after(/\*}/),smarty_literal:n.starting_with(/{literal}/).until_after(/{\/literal}/)}}ri.prototype=new $h;ri.prototype._create=function(){return new ri(this._input,this)};ri.prototype._update=function(){this.__set_templated_pattern()};ri.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e};ri.prototype.read_options=function(t){var e=this._create();for(var n in zh)e._disabled[n]=t.templating.indexOf(n)===-1;return e._update(),e};ri.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e};ri.prototype.read=function(){var t="";this._match_pattern?t=this._input.read(this._starting_pattern):t=this._input.read(this._starting_pattern,this.__template_pattern);for(var e=this._read_template();e;)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t};ri.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||t.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")};ri.prototype._read_template=function(){var t="",e=this._input.peek();if(e==="<"){var n=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&n==="?"&&(t=t||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&n==="%"&&(t=t||this.__patterns.erb.read())}else e==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(t=t||this.__patterns.handlebars_comment.read(),t=t||this.__patterns.handlebars_unescaped.read(),t=t||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(t=t||this.__patterns.django_value.read()),this._excluded.django||(t=t||this.__patterns.django_comment.read(),t=t||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(t=t||this.__patterns.smarty_comment.read(),t=t||this.__patterns.smarty_literal.read(),t=t||this.__patterns.smarty.read()));return t};yR.exports.TemplatablePattern=ri});var cc=q((iie,lc)=>{"use strict";var Kq=tp().InputScanner,TR=ac().Tokenizer,Qh=ac().TOKEN,$q=np().Directives,Tr=Gh(),zq=sc().Pattern,Xq=Xh().TemplatablePattern;function Jh(t,e){return e.indexOf(t)!==-1}var de={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:Qh.START,RAW:Qh.RAW,EOF:Qh.EOF},bR=new $q(/\/\*/,/\*\//),Qq=/0[xX][0123456789abcdefABCDEF]*|0[oO][01234567]*|0[bB][01]*|\d+n|(?:\.\d+|\d+\.?\d*)(?:[eE][+-]?\d+)?/,Jq=/[0-9]/,Zq=/[^\d\.]/,eV=">>> === !== << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),Po=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";Po=Po.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");Po="\\?\\.(?!\\d) "+Po;Po=Po.replace(/ /g,"|");var tV=new RegExp(Po),vR="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),nV=vR.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),rV=new RegExp("^(?:"+nV.join("|")+")$"),rp,ln=function(t,e){TR.call(this,t,e),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var n=new zq(this._input),r=new Xq(this._input).read_options(this._options);this.__patterns={template:r,identifier:r.starting_with(Tr.identifier).matching(Tr.identifierMatch),number:n.matching(Qq),punct:n.matching(tV),comment:n.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:n.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:n.matching(/<!--/),html_comment_end:n.matching(/-->/),include:n.starting_with(/#include/).until_after(Tr.lineBreak),shebang:n.starting_with(/#!/).until_after(Tr.lineBreak),xml:n.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\]|)(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:r.until(/['\\\n\r\u2028\u2029]/),double_quote:r.until(/["\\\n\r\u2028\u2029]/),template_text:r.until(/[`\\$]/),template_expression:r.until(/[`}\\]/)}};ln.prototype=new TR;ln.prototype._is_comment=function(t){return t.type===de.COMMENT||t.type===de.BLOCK_COMMENT||t.type===de.UNKNOWN};ln.prototype._is_opening=function(t){return t.type===de.START_BLOCK||t.type===de.START_EXPR};ln.prototype._is_closing=function(t,e){return(t.type===de.END_BLOCK||t.type===de.END_EXPR)&&e&&(t.text==="]"&&e.text==="["||t.text===")"&&e.text==="("||t.text==="}"&&e.text==="{")};ln.prototype._reset=function(){rp=!1};ln.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(de.EOF,""):(n=n||this._read_non_javascript(r),n=n||this._read_string(r),n=n||this._read_word(t),n=n||this._read_singles(r),n=n||this._read_comment(r),n=n||this._read_regexp(r,t),n=n||this._read_xml(r,t),n=n||this._read_punctuation(),n=n||this._create_token(de.UNKNOWN,this._input.next()),n)};ln.prototype._read_word=function(t){var e;if(e=this.__patterns.identifier.read(),e!=="")return e=e.replace(Tr.allLineBreaks,`
`),!(t.type===de.DOT||t.type===de.RESERVED&&(t.text==="set"||t.text==="get"))&&rV.test(e)?e==="in"||e==="of"?this._create_token(de.OPERATOR,e):this._create_token(de.RESERVED,e):this._create_token(de.WORD,e);if(e=this.__patterns.number.read(),e!=="")return this._create_token(de.WORD,e)};ln.prototype._read_singles=function(t){var e=null;return t==="("||t==="["?e=this._create_token(de.START_EXPR,t):t===")"||t==="]"?e=this._create_token(de.END_EXPR,t):t==="{"?e=this._create_token(de.START_BLOCK,t):t==="}"?e=this._create_token(de.END_BLOCK,t):t===";"?e=this._create_token(de.SEMICOLON,t):t==="."&&Zq.test(this._input.peek(1))?e=this._create_token(de.DOT,t):t===","&&(e=this._create_token(de.COMMA,t)),e&&this._input.next(),e};ln.prototype._read_punctuation=function(){var t=this.__patterns.punct.read();if(t!=="")return t==="="?this._create_token(de.EQUALS,t):t==="?."?this._create_token(de.DOT,t):this._create_token(de.OPERATOR,t)};ln.prototype._read_non_javascript=function(t){var e="";if(t==="#"){if(this._is_first_token()&&(e=this.__patterns.shebang.read(),e))return this._create_token(de.UNKNOWN,e.trim()+`
`);if(e=this.__patterns.include.read(),e)return this._create_token(de.UNKNOWN,e.trim()+`
`);t=this._input.next();var n="#";if(this._input.hasNext()&&this._input.testChar(Jq)){do t=this._input.next(),n+=t;while(this._input.hasNext()&&t!=="#"&&t!=="=");return t==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(n+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(n+="{}",this._input.next(),this._input.next())),this._create_token(de.WORD,n)}this._input.back()}else if(t==="<"&&this._is_first_token()){if(e=this.__patterns.html_comment_start.read(),e){for(;this._input.hasNext()&&!this._input.testChar(Tr.newline);)e+=this._input.next();return rp=!0,this._create_token(de.COMMENT,e)}}else if(rp&&t==="-"&&(e=this.__patterns.html_comment_end.read(),e))return rp=!1,this._create_token(de.COMMENT,e);return null};ln.prototype._read_comment=function(t){var e=null;if(t==="/"){var n="";if(this._input.peek(1)==="*"){n=this.__patterns.block_comment.read();var r=bR.get_directives(n);r&&r.ignore==="start"&&(n+=bR.readIgnored(this._input)),n=n.replace(Tr.allLineBreaks,`
`),e=this._create_token(de.BLOCK_COMMENT,n),e.directives=r}else this._input.peek(1)==="/"&&(n=this.__patterns.comment.read(),e=this._create_token(de.COMMENT,n))}return e};ln.prototype._read_string=function(t){if(t==="`"||t==="'"||t==='"'){var e=this._input.next();return this.has_char_escapes=!1,t==="`"?e+=this._read_string_recursive("`",!0,"${"):e+=this._read_string_recursive(t),this.has_char_escapes&&this._options.unescape_strings&&(e=iV(e)),this._input.peek()===t&&(e+=this._input.next()),e=e.replace(Tr.allLineBreaks,`
`),this._create_token(de.STRING,e)}return null};ln.prototype._allow_regexp_or_xml=function(t){return t.type===de.RESERVED&&Jh(t.text,["return","case","throw","else","do","typeof","yield"])||t.type===de.END_EXPR&&t.text===")"&&t.opened.previous.type===de.RESERVED&&Jh(t.opened.previous.text,["if","while","for"])||Jh(t.type,[de.COMMENT,de.START_EXPR,de.START_BLOCK,de.START,de.END_BLOCK,de.OPERATOR,de.EQUALS,de.EOF,de.SEMICOLON,de.COMMA])};ln.prototype._read_regexp=function(t,e){if(t==="/"&&this._allow_regexp_or_xml(e)){for(var n=this._input.next(),r=!1,i=!1;this._input.hasNext()&&(r||i||this._input.peek()!==t)&&!this._input.testChar(Tr.newline);)n+=this._input.peek(),r?r=!1:(r=this._input.peek()==="\\",this._input.peek()==="["?i=!0:this._input.peek()==="]"&&(i=!1)),this._input.next();return this._input.peek()===t&&(n+=this._input.next(),n+=this._input.read(Tr.identifier)),this._create_token(de.STRING,n)}return null};ln.prototype._read_xml=function(t,e){if(this._options.e4x&&t==="<"&&this._allow_regexp_or_xml(e)){var n="",r=this.__patterns.xml.read_match();if(r){for(var i=r[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),s=i.indexOf("{")===0,o=0;r;){var a=!!r[1],l=r[2],c=!!r[r.length-1]||l.slice(0,8)==="![CDATA[";if(!c&&(l===i||s&&l.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(a?--o:++o),n+=r[0],o<=0)break;r=this.__patterns.xml.read_match()}return r||(n+=this._input.match(/[\s\S]*/g)[0]),n=n.replace(Tr.allLineBreaks,`
`),this._create_token(de.STRING,n)}}return null};function iV(t){for(var e="",n=0,r=new Kq(t),i=null;r.hasNext();)if(i=r.match(/([\s]|[^\\]|\\\\)+/g),i&&(e+=i[0]),r.peek()==="\\"){if(r.next(),r.peek()==="x")i=r.match(/x([0-9A-Fa-f]{2})/g);else if(r.peek()==="u")i=r.match(/u([0-9A-Fa-f]{4})/g);else{e+="\\",r.hasNext()&&(e+=r.next());continue}if(!i||(n=parseInt(i[1],16),n>126&&n<=255&&i[0].indexOf("x")===0))return t;if(n>=0&&n<32){e+="\\"+i[0];continue}else n===34||n===39||n===92?e+="\\"+String.fromCharCode(n):e+=String.fromCharCode(n)}return e}ln.prototype._read_string_recursive=function(t,e,n){var r,i;t==="'"?i=this.__patterns.single_quote:t==='"'?i=this.__patterns.double_quote:t==="`"?i=this.__patterns.template_text:t==="}"&&(i=this.__patterns.template_expression);for(var s=i.read(),o="";this._input.hasNext();){if(o=this._input.next(),o===t||!e&&Tr.newline.test(o)){this._input.back();break}else o==="\\"&&this._input.hasNext()?(r=this._input.peek(),r==="x"||r==="u"?this.has_char_escapes=!0:r==="\r"&&this._input.peek(1)===`
`&&this._input.next(),o+=this._input.next()):n&&(n==="${"&&o==="$"&&this._input.peek()==="{"&&(o+=this._input.next()),n===o&&(t==="`"?o+=this._read_string_recursive("}",e,"`"):o+=this._read_string_recursive("`",e,"${"),this._input.hasNext()&&(o+=this._input.next())));o+=i.read(),s+=o}return s};lc.exports.Tokenizer=ln;lc.exports.TOKEN=de;lc.exports.positionable_operators=eV.slice();lc.exports.line_starters=vR.slice()});var SR=q((sie,IR)=>{"use strict";var sV=Jf().Output,oV=jh().Token,ip=Gh(),aV=Wh().Options,lV=cc().Tokenizer,uc=cc().line_starters,fc=cc().positionable_operators,F=cc().TOKEN;function De(t,e){return e.indexOf(t)!==-1}function cV(t){return t.replace(/^\s+/g,"")}function uV(t){for(var e={},n=0;n<t.length;n++)e[t[n].replace(/-/g,"_")]=t[n];return e}function br(t,e){return t&&t.type===F.RESERVED&&t.text===e}function ot(t,e){return t&&t.type===F.RESERVED&&De(t.text,e)}var sp=["case","return","do","if","throw","else","await","break","continue","async"],fV=["before-newline","after-newline","preserve-newline"],pc=uV(fV),NR=[pc.before_newline,pc.preserve_newline],me={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function PR(t,e){e.multiline_frame||e.mode===me.ForInitializer||e.mode===me.Conditional||t.remove_indent(e.start_line_index)}function pV(t){t=t.replace(ip.allLineBreaks,`
`);for(var e=[],n=t.indexOf(`
`);n!==-1;)e.push(t.substring(0,n)),t=t.substring(n+1),n=t.indexOf(`
`);return t.length&&e.push(t),e}function Ls(t){return t===me.ArrayLiteral}function dc(t){return De(t,[me.Expression,me.ForInitializer,me.Conditional])}function dV(t,e){for(var n=0;n<t.length;n++){var r=t[n].trim();if(r.charAt(0)!==e)return!1}return!0}function mV(t,e){for(var n=0,r=t.length,i;n<r;n++)if(i=t[n],i&&i.indexOf(e)!==0)return!1;return!0}function Ye(t,e){e=e||{},this._source_text=t||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new aV(e)}Ye.prototype.create_flags=function(t,e){var n=0;t&&(n=t.indentation_level,!this._output.just_added_newline()&&t.line_indent_level>n&&(n=t.line_indent_level));var r={mode:e,parent:t,last_token:t?t.last_token:new oV(F.START_BLOCK,""),last_word:t?t.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,alignment:0,line_indent_level:t?t.line_indent_level:n,start_line_index:this._output.get_line_number(),ternary_depth:0};return r};Ye.prototype._reset=function(t){var e=t.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new sV(this._options,e),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(me.BlockStatement);var n=new lV(t,this._options);return this._tokens=n.tokenize(),t};Ye.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t,e=this._reset(this._source_text),n=this._options.eol;this._options.eol==="auto"&&(n=`
`,e&&ip.lineBreak.test(e||"")&&(n=e.match(ip.lineBreak)[0]));for(var r=this._tokens.next();r;)this.handle_token(r),this._last_last_text=this._flags.last_token.text,this._flags.last_token=r,r=this._tokens.next();return t=this._output.get_code(n),t};Ye.prototype.handle_token=function(t,e){t.type===F.START_EXPR?this.handle_start_expr(t):t.type===F.END_EXPR?this.handle_end_expr(t):t.type===F.START_BLOCK?this.handle_start_block(t):t.type===F.END_BLOCK?this.handle_end_block(t):t.type===F.WORD?this.handle_word(t):t.type===F.RESERVED?this.handle_word(t):t.type===F.SEMICOLON?this.handle_semicolon(t):t.type===F.STRING?this.handle_string(t):t.type===F.EQUALS?this.handle_equals(t):t.type===F.OPERATOR?this.handle_operator(t):t.type===F.COMMA?this.handle_comma(t):t.type===F.BLOCK_COMMENT?this.handle_block_comment(t,e):t.type===F.COMMENT?this.handle_comment(t,e):t.type===F.DOT?this.handle_dot(t):t.type===F.EOF?this.handle_eof(t):t.type===F.UNKNOWN?this.handle_unknown(t,e):this.handle_unknown(t,e)};Ye.prototype.handle_whitespace_and_comments=function(t,e){var n=t.newlines,r=this._options.keep_array_indentation&&Ls(this._flags.mode);if(t.comments_before)for(var i=t.comments_before.next();i;)this.handle_whitespace_and_comments(i,e),this.handle_token(i,e),i=t.comments_before.next();if(r)for(var s=0;s<n;s+=1)this.print_newline(s>0,e);else if(this._options.max_preserve_newlines&&n>this._options.max_preserve_newlines&&(n=this._options.max_preserve_newlines),this._options.preserve_newlines&&n>1){this.print_newline(!1,e);for(var o=1;o<n;o+=1)this.print_newline(!0,e)}};var Zh=["async","break","continue","return","throw","yield"];Ye.prototype.allow_wrap_or_preserved_newline=function(t,e){if(e=e===void 0?!1:e,!this._output.just_added_newline()){var n=this._options.preserve_newlines&&t.newlines||e,r=De(this._flags.last_token.text,fc)||De(t.text,fc);if(r){var i=De(this._flags.last_token.text,fc)&&De(this._options.operator_position,NR)||De(t.text,fc);n=n&&i}if(n)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(ot(this._flags.last_token,Zh))return;this._output.set_wrap_point()}}};Ye.prototype.print_newline=function(t,e){if(!e&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==F.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var n=this._tokens.peek();this._flags.mode===me.Statement&&!(this._flags.if_block&&br(n,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(t)&&(this._flags.multiline_frame=!0)};Ye.prototype.print_token_line_indentation=function(t){this._output.just_added_newline()&&(this._options.keep_array_indentation&&t.newlines&&(t.text==="["||Ls(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(t.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))};Ye.prototype.print_token=function(t){if(this._output.raw){this._output.add_raw_token(t);return}if(this._options.comma_first&&t.previous&&t.previous.type===F.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var e=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(e),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(t),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(t),this._output.non_breaking_space=!0,this._output.add_token(t.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)};Ye.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};Ye.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};Ye.prototype.set_mode=function(t){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,t),this._flags=this.create_flags(this._previous_flags,t),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};Ye.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===me.Statement&&PR(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};Ye.prototype.start_of_object_property=function(){return this._flags.parent.mode===me.ObjectLiteral&&this._flags.mode===me.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||ot(this._flags.last_token,["get","set"]))};Ye.prototype.start_of_statement=function(t){var e=!1;return e=e||ot(this._flags.last_token,["var","let","const"])&&t.type===F.WORD,e=e||br(this._flags.last_token,"do"),e=e||!(this._flags.parent.mode===me.ObjectLiteral&&this._flags.mode===me.Statement)&&ot(this._flags.last_token,Zh)&&!t.newlines,e=e||br(this._flags.last_token,"else")&&!(br(t,"if")&&!t.comments_before),e=e||this._flags.last_token.type===F.END_EXPR&&(this._previous_flags.mode===me.ForInitializer||this._previous_flags.mode===me.Conditional),e=e||this._flags.last_token.type===F.WORD&&this._flags.mode===me.BlockStatement&&!this._flags.in_case&&!(t.text==="--"||t.text==="++")&&this._last_last_text!=="function"&&t.type!==F.WORD&&t.type!==F.RESERVED,e=e||this._flags.mode===me.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||ot(this._flags.last_token,["get","set"])),e?(this.set_mode(me.Statement),this.indent(),this.handle_whitespace_and_comments(t,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t,ot(t,["do","for","if","while"])),!0):!1};Ye.prototype.handle_start_expr=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t);var e=me.Expression;if(t.text==="["){if(this._flags.last_token.type===F.WORD||this._flags.last_token.text===")"){ot(this._flags.last_token,uc)&&(this._output.space_before_token=!0),this.print_token(t),this.set_mode(e),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}e=me.ArrayLiteral,Ls(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),De(this._flags.last_token.type,[F.START_EXPR,F.END_EXPR,F.WORD,F.OPERATOR,F.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===F.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,e=me.ForInitializer):De(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,e=me.Conditional):De(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&t.whitespace_before===""?this._output.space_before_token=!1:(De(this._flags.last_token.text,uc)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===F.EQUALS||this._flags.last_token.type===F.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t);else if(this._flags.last_token.type===F.WORD){this._output.space_before_token=!1;var n=this._tokens.peek(-3);if(this._options.space_after_named_function&&n){var r=this._tokens.peek(-4);ot(n,["async","function"])||n.text==="*"&&ot(r,["async","function"])?this._output.space_before_token=!0:this._flags.mode===me.ObjectLiteral&&(n.text==="{"||n.text===","||n.text==="*"&&(r.text==="{"||r.text===","))&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(t);(this._flags.last_token.type===F.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(De(this._last_last_text,["function","yield"])||this._flags.mode===me.ObjectLiteral&&De(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===F.START_BLOCK?this.print_newline():(this._flags.last_token.type===F.END_EXPR||this._flags.last_token.type===F.START_EXPR||this._flags.last_token.type===F.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===F.COMMA)&&this.allow_wrap_or_preserved_newline(t,t.newlines),this.print_token(t),this.set_mode(e),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()};Ye.prototype.handle_end_expr=function(t){for(;this._flags.mode===me.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(t,t.text==="]"&&Ls(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===F.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(t),this.restore_mode(),PR(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===me.Conditional&&(this._previous_flags.mode=me.Expression,this._flags.do_block=!1,this._flags.do_while=!1)};Ye.prototype.handle_start_block=function(t){this.handle_whitespace_and_comments(t);var e=this._tokens.peek(),n=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===F.END_EXPR?(this.set_mode(me.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(me.BlockStatement):n&&(De(n.text,[":",","])&&De(e.type,[F.STRING,F.WORD,F.RESERVED])||De(e.text,["get","set","..."])&&De(n.type,[F.WORD,F.RESERVED]))?De(this._last_last_text,["class","interface"])?this.set_mode(me.BlockStatement):this.set_mode(me.ObjectLiteral):this._flags.last_token.type===F.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(me.BlockStatement):De(this._flags.last_token.type,[F.EQUALS,F.START_EXPR,F.COMMA,F.OPERATOR])||ot(this._flags.last_token,["return","throw","import","default"])?this.set_mode(me.ObjectLiteral):this.set_mode(me.BlockStatement);var r=!e.comments_before&&e.text==="}",i=r&&this._flags.last_word==="function"&&this._flags.last_token.type===F.END_EXPR;if(this._options.brace_preserve_inline){var s=0,o=null;this._flags.inline_frame=!0;do if(s+=1,o=this._tokens.peek(s-1),o.newlines){this._flags.inline_frame=!1;break}while(o.type!==F.EOF&&!(o.type===F.END_BLOCK&&o.opened===t))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==F.OPERATOR&&(i||this._flags.last_token.type===F.EQUALS||ot(this._flags.last_token,sp)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(Ls(this._previous_flags.mode)&&(this._flags.last_token.type===F.START_EXPR||this._flags.last_token.type===F.COMMA)&&((this._flags.last_token.type===F.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===F.COMMA||this._flags.last_token.type===F.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(t),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==F.OPERATOR&&this._flags.last_token.type!==F.START_EXPR&&(this._flags.last_token.type===F.START_BLOCK&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(t),this.indent(),!r&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()};Ye.prototype.handle_end_block=function(t){for(this.handle_whitespace_and_comments(t);this._flags.mode===me.Statement;)this.restore_mode();var e=this._flags.last_token.type===F.START_BLOCK;this._flags.inline_frame&&!e?this._output.space_before_token=!0:this._options.brace_style==="expand"?e||this.print_newline():e||(Ls(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(t)};Ye.prototype.handle_word=function(t){if(t.type===F.RESERVED){if(De(t.text,["set","get"])&&this._flags.mode!==me.ObjectLiteral)t.type=F.WORD;else if(t.text==="import"&&this._tokens.peek().text==="(")t.type=F.WORD;else if(De(t.text,["as","from"])&&!this._flags.import_block)t.type=F.WORD;else if(this._flags.mode===me.ObjectLiteral){var e=this._tokens.peek();e.text===":"&&(t.type=F.WORD)}}if(this.start_of_statement(t)?ot(this._flags.last_token,["var","let","const"])&&t.type===F.WORD&&(this._flags.declaration_statement=!0):t.newlines&&!dc(this._flags.mode)&&(this._flags.last_token.type!==F.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==F.EQUALS&&(this._options.preserve_newlines||!ot(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(t),this.print_newline()):this.handle_whitespace_and_comments(t),this._flags.do_block&&!this._flags.do_while)if(br(t,"while")){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&br(t,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===me.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&ot(t,["case","default"])){this.print_newline(),this._flags.last_token.type!==F.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(t),this._flags.in_case=!0;return}if((this._flags.last_token.type===F.COMMA||this._flags.last_token.type===F.START_EXPR||this._flags.last_token.type===F.EQUALS||this._flags.last_token.type===F.OPERATOR)&&(this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t)),br(t,"function")){(De(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(De(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===F.OPERATOR))&&!this._output.just_added_blankline()&&!t.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===F.RESERVED||this._flags.last_token.type===F.WORD?ot(this._flags.last_token,["get","set","new","export"])||ot(this._flags.last_token,Zh)?this._output.space_before_token=!0:br(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===F.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(dc(this._flags.mode)||Ls(this._flags.mode))||this.print_newline(),this.print_token(t),this._flags.last_word=t.text;return}var n="NONE";if(this._flags.last_token.type===F.END_BLOCK?this._previous_flags.inline_frame?n="SPACE":ot(t,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines?n="NEWLINE":(n="SPACE",this._output.space_before_token=!0):n="NEWLINE":this._flags.last_token.type===F.SEMICOLON&&this._flags.mode===me.BlockStatement?n="NEWLINE":this._flags.last_token.type===F.SEMICOLON&&dc(this._flags.mode)?n="SPACE":this._flags.last_token.type===F.STRING?n="NEWLINE":this._flags.last_token.type===F.RESERVED||this._flags.last_token.type===F.WORD||this._flags.last_token.text==="*"&&(De(this._last_last_text,["function","yield"])||this._flags.mode===me.ObjectLiteral&&De(this._last_last_text,["{",","]))?n="SPACE":this._flags.last_token.type===F.START_BLOCK?this._flags.inline_frame?n="SPACE":n="NEWLINE":this._flags.last_token.type===F.END_EXPR&&(this._output.space_before_token=!0,n="NEWLINE"),ot(t,uc)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?n="SPACE":n="NEWLINE"),ot(t,["else","catch","finally"]))if((!(this._flags.last_token.type===F.END_BLOCK&&this._previous_flags.mode===me.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var r=this._output.current_line;r.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else n==="NEWLINE"?ot(this._flags.last_token,sp)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&ot(t,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==F.END_EXPR?(this._flags.last_token.type!==F.START_EXPR||!ot(t,["var","let","const"]))&&this._flags.last_token.text!==":"&&(br(t,"if")&&br(t.previous,"else")?this._output.space_before_token=!0:this.print_newline()):ot(t,uc)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&Ls(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():n==="SPACE"&&(this._output.space_before_token=!0);t.previous&&(t.previous.type===F.WORD||t.previous.type===F.RESERVED)&&(this._output.space_before_token=!0),this.print_token(t),this._flags.last_word=t.text,t.type===F.RESERVED&&(t.text==="do"?this._flags.do_block=!0:t.text==="if"?this._flags.if_block=!0:t.text==="import"?this._flags.import_block=!0:this._flags.import_block&&br(t,"from")&&(this._flags.import_block=!1))};Ye.prototype.handle_semicolon=function(t){this.start_of_statement(t)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(t);for(var e=this._tokens.peek();this._flags.mode===me.Statement&&!(this._flags.if_block&&br(e,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(t)};Ye.prototype.handle_string=function(t){t.text.startsWith("`")&&t.newlines===0&&t.whitespace_before===""&&(t.previous.text===")"||this._flags.last_token.type===F.WORD)||(this.start_of_statement(t)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(t),this._flags.last_token.type===F.RESERVED||this._flags.last_token.type===F.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===F.COMMA||this._flags.last_token.type===F.START_EXPR||this._flags.last_token.type===F.EQUALS||this._flags.last_token.type===F.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t):t.text.startsWith("`")&&this._flags.last_token.type===F.END_EXPR&&(t.previous.text==="]"||t.previous.text===")")&&t.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(t)};Ye.prototype.handle_equals=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0};Ye.prototype.handle_comma=function(t){this.handle_whitespace_and_comments(t,!0),this.print_token(t),this._output.space_before_token=!0,this._flags.declaration_statement?(dc(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)):this._flags.mode===me.ObjectLiteral||this._flags.mode===me.Statement&&this._flags.parent.mode===me.ObjectLiteral?(this._flags.mode===me.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)};Ye.prototype.handle_operator=function(t){var e=t.text==="*"&&(ot(this._flags.last_token,["function","yield"])||De(this._flags.last_token.type,[F.START_BLOCK,F.COMMA,F.END_BLOCK,F.SEMICOLON])),n=De(t.text,["-","+"])&&(De(this._flags.last_token.type,[F.START_BLOCK,F.START_EXPR,F.EQUALS,F.OPERATOR])||De(this._flags.last_token.text,uc)||this._flags.last_token.text===",");if(!this.start_of_statement(t)){var r=!e;this.handle_whitespace_and_comments(t,r)}if(ot(this._flags.last_token,sp)){this._output.space_before_token=!0,this.print_token(t);return}if(t.text==="*"&&this._flags.last_token.type===F.DOT){this.print_token(t);return}if(t.text==="::"){this.print_token(t);return}if(this._flags.last_token.type===F.OPERATOR&&De(this._options.operator_position,NR)&&this.allow_wrap_or_preserved_newline(t),t.text===":"&&this._flags.in_case){this.print_token(t),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==F.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0;return}var i=!0,s=!0,o=!1;if(t.text===":"?this._flags.ternary_depth===0?i=!1:(this._flags.ternary_depth-=1,o=!0):t.text==="?"&&(this._flags.ternary_depth+=1),!n&&!e&&this._options.preserve_newlines&&De(t.text,fc)){var a=t.text===":",l=a&&o,c=a&&!o;switch(this._options.operator_position){case pc.before_newline:this._output.space_before_token=!c,this.print_token(t),(!a||l)&&this.allow_wrap_or_preserved_newline(t),this._output.space_before_token=!0;return;case pc.after_newline:this._output.space_before_token=!0,!a||l?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(t):this._output.space_before_token=!1,this.print_token(t),this._output.space_before_token=!0;return;case pc.preserve_newline:c||this.allow_wrap_or_preserved_newline(t),i=!(this._output.just_added_newline()||c),this._output.space_before_token=i,this.print_token(t),this._output.space_before_token=!0;return}}if(e){this.allow_wrap_or_preserved_newline(t),i=!1;var u=this._tokens.peek();s=u&&De(u.type,[F.WORD,F.RESERVED])}else t.text==="..."?(this.allow_wrap_or_preserved_newline(t),i=this._flags.last_token.type===F.START_BLOCK,s=!1):(De(t.text,["--","++","!","~"])||n)&&((this._flags.last_token.type===F.COMMA||this._flags.last_token.type===F.START_EXPR)&&this.allow_wrap_or_preserved_newline(t),i=!1,s=!1,t.newlines&&(t.text==="--"||t.text==="++")&&this.print_newline(!1,!0),this._flags.last_token.text===";"&&dc(this._flags.mode)&&(i=!0),this._flags.last_token.type===F.RESERVED?i=!0:this._flags.last_token.type===F.END_EXPR?i=!(this._flags.last_token.text==="]"&&(t.text==="--"||t.text==="++")):this._flags.last_token.type===F.OPERATOR&&(i=De(t.text,["--","-","++","+"])&&De(this._flags.last_token.text,["--","-","++","+"]),De(t.text,["+","-"])&&De(this._flags.last_token.text,["--","++"])&&(s=!0)),(this._flags.mode===me.BlockStatement&&!this._flags.inline_frame||this._flags.mode===me.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline());this._output.space_before_token=this._output.space_before_token||i,this.print_token(t),this._output.space_before_token=s};Ye.prototype.handle_block_comment=function(t,e){if(this._output.raw){this._output.add_raw_token(t),t.directives&&t.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(t.directives){this.print_newline(!1,e),this.print_token(t),t.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!ip.newline.test(t.text)&&!t.newlines){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0;return}else this.print_block_commment(t,e)};Ye.prototype.print_block_commment=function(t,e){var n=pV(t.text),r,i=!1,s=!1,o=t.whitespace_before,a=o.length;if(this.print_newline(!1,e),this.print_token_line_indentation(t),this._output.add_token(n[0]),this.print_newline(!1,e),n.length>1){for(n=n.slice(1),i=dV(n,"*"),s=mV(n,o),i&&(this._flags.alignment=1),r=0;r<n.length;r++)i?(this.print_token_line_indentation(t),this._output.add_token(cV(n[r]))):s&&n[r]?(this.print_token_line_indentation(t),this._output.add_token(n[r].substring(a))):(this._output.current_line.set_indent(-1),this._output.add_token(n[r])),this.print_newline(!1,e);this._flags.alignment=0}};Ye.prototype.handle_comment=function(t,e){t.newlines?this.print_newline(!1,e):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(t),this.print_newline(!1,e)};Ye.prototype.handle_dot=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t,!0),ot(this._flags.last_token,sp)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(t,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(t)};Ye.prototype.handle_unknown=function(t,e){this.print_token(t),t.text[t.text.length-1]===`
`&&this.print_newline(!1,e)};Ye.prototype.handle_eof=function(t){for(;this._flags.mode===me.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t)};IR.exports.Beautifier=Ye});var RR=q((oie,eg)=>{"use strict";var hV=SR().Beautifier,gV=Wh().Options;function _V(t,e){var n=new hV(t,e);return n.beautify()}eg.exports=_V;eg.exports.defaultOptions=function(){return new gV}});var tg=q((aie,xR)=>{"use strict";var CR=ep().Options;function AR(t){CR.call(this,t,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var e=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||e;var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var r=0;r<n.length;r++)n[r]!=="expand"?this.brace_style="collapse":this.brace_style=n[r]}AR.prototype=new CR;xR.exports.Options=AR});var LR=q((lie,OR)=>{"use strict";var yV=tg().Options,TV=Jf().Output,bV=tp().InputScanner,vV=np().Directives,ER=new vV(/\/\*/,/\*\//),wR=/\r\n|[\r\n]/,NV=/\r\n|[\r\n]/g,op=/\s/,PV=/(?:\s|\n)+/g,IV=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,SV=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function Xi(t,e){this._source_text=t||"",this._options=new yV(e),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}Xi.prototype.eatString=function(t){var e="";for(this._ch=this._input.next();this._ch;){if(e+=this._ch,this._ch==="\\")e+=this._input.next();else if(t.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return e};Xi.prototype.eatWhitespace=function(t){for(var e=op.test(this._input.peek()),n=0;op.test(this._input.peek());)this._ch=this._input.next(),t&&this._ch===`
`&&(n===0||n<this._options.max_preserve_newlines)&&(n++,this._output.add_new_line(!0));return e};Xi.prototype.foundNestedPseudoClass=function(){for(var t=0,e=1,n=this._input.peek(e);n;){if(n==="{")return!0;if(n==="(")t+=1;else if(n===")"){if(t===0)return!1;t-=1}else if(n===";"||n==="}")return!1;e++,n=this._input.peek(e)}return!1};Xi.prototype.print_string=function(t){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(t)};Xi.prototype.preserveSingleSpace=function(t){t&&(this._output.space_before_token=!0)};Xi.prototype.indent=function(){this._indentLevel++};Xi.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--};Xi.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;e==="auto"&&(e=`
`,t&&wR.test(t||"")&&(e=t.match(wR)[0])),t=t.replace(NV,`
`);var n=t.match(/^[\t ]*/)[0];this._output=new TV(this._options,n),this._input=new bV(t),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var r=0,i=!1,s=!1,o=!1,a=!1,l=!1,c=this._ch,u,f,m;u=this._input.read(PV),f=u!=="",m=c,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),c=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var p=this._input.read(IV),d=ER.get_directives(p);d&&d.ignore==="start"&&(p+=ER.readIgnored(this._input)),this.print_string(p),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(SV)),this.eatWhitespace(!0);else if(this._ch==="@")if(this.preserveSingleSpace(f),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var h=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);h.match(/[ :]$/)&&(h=this.eatString(": ").replace(/\s$/,""),this.print_string(h),this._output.space_before_token=!0),h=h.replace(/\s$/,""),h==="extend"?a=!0:h==="import"&&(l=!0),h in this.NESTED_AT_RULE?(this._nestedLevel+=1,h in this.CONDITIONAL_GROUP_RULE&&(o=!0)):!i&&r===0&&h.indexOf(":")!==-1&&(s=!0,this.indent())}else this._ch==="#"&&this._input.peek()==="{"?(this.preserveSingleSpace(f),this.print_string(this._ch+this.eatString("}"))):this._ch==="{"?(s&&(s=!1,this.outdent()),o?(o=!1,i=this._indentLevel>=this._nestedLevel):i=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&i&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line()):this._ch==="}"?(this.outdent(),this._output.add_new_line(),m==="{"&&this._output.trim(!0),l=!1,a=!1,s&&(this.outdent(),s=!1),this.print_string(this._ch),i=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0)):this._ch===":"?(i||o)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!a&&r===0?(this.print_string(":"),s||(s=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):this._ch==='"'||this._ch==="'"?(this.preserveSingleSpace(f),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):this._ch===";"?r===0?(s&&(this.outdent(),s=!1),a=!1,l=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):this._ch==="("?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),r++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),r&&(r--,this.outdent()))):(this.preserveSingleSpace(f),this.print_string(this._ch),this.eatWhitespace(),r++,this.indent()):this._ch===")"?(r&&(r--,this.outdent()),this.print_string(this._ch)):this._ch===","?(this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&!s&&r===0&&!l?this._output.add_new_line():this._output.space_before_token=!0):(this._ch===">"||this._ch==="+"||this._ch==="~")&&!s&&r===0?this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&op.test(this._ch)&&(this._ch="")):this._ch==="]"?this.print_string(this._ch):this._ch==="["?(this.preserveSingleSpace(f),this.print_string(this._ch)):this._ch==="="?(this.eatWhitespace(),this.print_string("="),op.test(this._ch)&&(this._ch="")):this._ch==="!"&&!this._input.lookBack("\\")?(this.print_string(" "),this.print_string(this._ch)):(this.preserveSingleSpace(f),this.print_string(this._ch));var y=this._output.get_code(e);return y};OR.exports.Beautifier=Xi});var DR=q((cie,ng)=>{"use strict";var RV=LR().Beautifier,CV=tg().Options;function AV(t,e){var n=new RV(t,e);return n.beautify()}ng.exports=AV;ng.exports.defaultOptions=function(){return new CV}});var rg=q((uie,FR)=>{"use strict";var MR=ep().Options;function kR(t){MR.call(this,t,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}kR.prototype=new MR;FR.exports.Options=kR});var og=q((fie,sg)=>{"use strict";var qR=ac().Tokenizer,ig=ac().TOKEN,xV=np().Directives,EV=Xh().TemplatablePattern,wV=sc().Pattern,Rt={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:ig.START,RAW:ig.RAW,EOF:ig.EOF},VR=new xV(/<\!--/,/-->/),mn=function(t,e){qR.call(this,t,e),this._current_tag_name="";var n=new EV(this._input).read_options(this._options),r=new wV(this._input);if(this.__patterns={word:n.until(/[\n\r\t <]/),single_quote:n.until_after(/'/),double_quote:n.until_after(/"/),attribute:n.until(/[\n\r\t =>]|\/>/),element_name:n.until(/[\n\r\t >\/]/),handlebars_comment:r.starting_with(/{{!--/).until_after(/--}}/),handlebars:r.starting_with(/{{/).until_after(/}}/),handlebars_open:r.until(/[\n\r\t }]/),handlebars_raw_close:r.until(/}}/),comment:r.starting_with(/<!--/).until_after(/-->/),cdata:r.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:r.starting_with(/<!\[/).until_after(/]>/),processing:r.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var i=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=r.matching(i).until_after(i)}};mn.prototype=new qR;mn.prototype._is_comment=function(t){return!1};mn.prototype._is_opening=function(t){return t.type===Rt.TAG_OPEN};mn.prototype._is_closing=function(t,e){return t.type===Rt.TAG_CLOSE&&e&&((t.text===">"||t.text==="/>")&&e.text[0]==="<"||t.text==="}}"&&e.text[0]==="{"&&e.text[1]==="{")};mn.prototype._reset=function(){this._current_tag_name=""};mn.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(Rt.EOF,""):(n=n||this._read_open_handlebars(r,e),n=n||this._read_attribute(r,t,e),n=n||this._read_close(r,e),n=n||this._read_raw_content(r,t,e),n=n||this._read_content_word(r),n=n||this._read_comment_or_cdata(r),n=n||this._read_processing(r),n=n||this._read_open(r,e),n=n||this._create_token(Rt.UNKNOWN,this._input.next()),n)};mn.prototype._read_comment_or_cdata=function(t){var e=null,n=null,r=null;if(t==="<"){var i=this._input.peek(1);i==="!"&&(n=this.__patterns.comment.read(),n?(r=VR.get_directives(n),r&&r.ignore==="start"&&(n+=VR.readIgnored(this._input))):n=this.__patterns.cdata.read()),n&&(e=this._create_token(Rt.COMMENT,n),e.directives=r)}return e};mn.prototype._read_processing=function(t){var e=null,n=null,r=null;if(t==="<"){var i=this._input.peek(1);(i==="!"||i==="?")&&(n=this.__patterns.conditional_comment.read(),n=n||this.__patterns.processing.read()),n&&(e=this._create_token(Rt.COMMENT,n),e.directives=r)}return e};mn.prototype._read_open=function(t,e){var n=null,r=null;return e||t==="<"&&(n=this._input.next(),this._input.peek()==="/"&&(n+=this._input.next()),n+=this.__patterns.element_name.read(),r=this._create_token(Rt.TAG_OPEN,n)),r};mn.prototype._read_open_handlebars=function(t,e){var n=null,r=null;return e||this._options.indent_handlebars&&t==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(n=this.__patterns.handlebars_comment.read(),n=n||this.__patterns.handlebars.read(),r=this._create_token(Rt.COMMENT,n)):(n=this.__patterns.handlebars_open.read(),r=this._create_token(Rt.TAG_OPEN,n))),r};mn.prototype._read_close=function(t,e){var n=null,r=null;return e&&(e.text[0]==="<"&&(t===">"||t==="/"&&this._input.peek(1)===">")?(n=this._input.next(),t==="/"&&(n+=this._input.next()),r=this._create_token(Rt.TAG_CLOSE,n)):e.text[0]==="{"&&t==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),r=this._create_token(Rt.TAG_CLOSE,"}}"))),r};mn.prototype._read_attribute=function(t,e,n){var r=null,i="";if(n&&n.text[0]==="<")if(t==="=")r=this._create_token(Rt.EQUALS,this._input.next());else if(t==='"'||t==="'"){var s=this._input.next();t==='"'?s+=this.__patterns.double_quote.read():s+=this.__patterns.single_quote.read(),r=this._create_token(Rt.VALUE,s)}else i=this.__patterns.attribute.read(),i&&(e.type===Rt.EQUALS?r=this._create_token(Rt.VALUE,i):r=this._create_token(Rt.ATTRIBUTE,i));return r};mn.prototype._is_content_unformatted=function(t){return this._options.void_elements.indexOf(t)===-1&&(this._options.content_unformatted.indexOf(t)!==-1||this._options.unformatted.indexOf(t)!==-1)};mn.prototype._read_raw_content=function(t,e,n){var r="";if(n&&n.text[0]==="{")r=this.__patterns.handlebars_raw_close.read();else if(e.type===Rt.TAG_CLOSE&&e.opened.text[0]==="<"&&e.text[0]!=="/"){var i=e.opened.text.substr(1).toLowerCase();if(i==="script"||i==="style"){var s=this._read_comment_or_cdata(t);if(s)return s.type=Rt.TEXT,s;r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(i)&&(r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig")))}return r?this._create_token(Rt.TEXT,r):null};mn.prototype._read_content_word=function(t){var e="";if(this._options.unformatted_content_delimiter&&t===this._options.unformatted_content_delimiter[0]&&(e=this.__patterns.unformatted_content_delimiter.read()),e||(e=this.__patterns.word.read()),e)return this._create_token(Rt.TEXT,e)};sg.exports.Tokenizer=mn;sg.exports.TOKEN=Rt});var GR=q((pie,UR)=>{"use strict";var OV=rg().Options,LV=Jf().Output,DV=og().Tokenizer,et=og().TOKEN,BR=/\r\n|[\r\n]/,MV=/\r\n|[\r\n]/g,vr=function(t,e){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=t.max_preserve_newlines,this.preserve_newlines=t.preserve_newlines,this._output=new LV(t,e)};vr.prototype.current_line_has_match=function(t){return this._output.current_line.has_match(t)};vr.prototype.set_space_before_token=function(t,e){this._output.space_before_token=t,this._output.non_breaking_space=e};vr.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()};vr.prototype.add_raw_token=function(t){this._output.add_raw_token(t)};vr.prototype.print_preserved_newlines=function(t){var e=0;t.type!==et.TEXT&&t.previous.type!==et.TEXT&&(e=t.newlines?1:0),this.preserve_newlines&&(e=t.newlines<this.max_preserve_newlines+1?t.newlines:this.max_preserve_newlines+1);for(var n=0;n<e;n++)this.print_newline(n>0);return e!==0};vr.prototype.traverse_whitespace=function(t){return t.whitespace_before||t.newlines?(this.print_preserved_newlines(t)||(this._output.space_before_token=!0),!0):!1};vr.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped};vr.prototype.print_newline=function(t){this._output.add_new_line(t)};vr.prototype.print_token=function(t){t.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(t.text))};vr.prototype.indent=function(){this.indent_level++};vr.prototype.get_full_indent=function(t){return t=this.indent_level+(t||0),t<1?"":this._output.get_indent_string(t)};var kV=function(t){for(var e=null,n=t.next;n.type!==et.EOF&&t.closed!==n;){if(n.type===et.ATTRIBUTE&&n.text==="type"){n.next&&n.next.type===et.EQUALS&&n.next.next&&n.next.next.type===et.VALUE&&(e=n.next.next.text);break}n=n.next}return e},FV=function(t,e){var n=null,r=null;return e.closed?(t==="script"?n="text/javascript":t==="style"&&(n="text/css"),n=kV(e)||n,n.search("text/css")>-1?r="css":n.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?r="javascript":n.search(/(text|application|dojo)\/(x-)?(html)/)>-1?r="html":n.search(/test\/null/)>-1&&(r="null"),r):null};function mc(t,e){return e.indexOf(t)!==-1}function qV(t,e,n){this.parent=t||null,this.tag=e?e.tag_name:"",this.indent_level=n||0,this.parser_token=e||null}function Io(t){this._printer=t,this._current_frame=null}Io.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null};Io.prototype.record_tag=function(t){var e=new qV(this._current_frame,t,this._printer.indent_level);this._current_frame=e};Io.prototype._try_pop_frame=function(t){var e=null;return t&&(e=t.parser_token,this._printer.indent_level=t.indent_level,this._current_frame=t.parent),e};Io.prototype._get_frame=function(t,e){for(var n=this._current_frame;n&&t.indexOf(n.tag)===-1;){if(e&&e.indexOf(n.tag)!==-1){n=null;break}n=n.parent}return n};Io.prototype.try_pop=function(t,e){var n=this._get_frame([t],e);return this._try_pop_frame(n)};Io.prototype.indent_to_tag=function(t){var e=this._get_frame(t);e&&(this._printer.indent_level=e.indent_level)};function Nr(t,e,n,r){this._source_text=t||"",e=e||{},this._js_beautify=n,this._css_beautify=r,this._tag_stack=null;var i=new OV(e,"html");this._options=i,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,"force".length)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,"preserve".length)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}Nr.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;this._options.eol==="auto"&&(e=`
`,t&&BR.test(t)&&(e=t.match(BR)[0])),t=t.replace(MV,`
`);var n=t.match(/^[\t ]*/)[0],r={text:"",type:""},i=new jR,s=new vr(this._options,n),o=new DV(t,this._options).tokenize();this._tag_stack=new Io(s);for(var a=null,l=o.next();l.type!==et.EOF;)l.type===et.TAG_OPEN||l.type===et.COMMENT?(a=this._handle_tag_open(s,l,i,r),i=a):l.type===et.ATTRIBUTE||l.type===et.EQUALS||l.type===et.VALUE||l.type===et.TEXT&&!i.tag_complete?a=this._handle_inside_tag(s,l,i,o):l.type===et.TAG_CLOSE?a=this._handle_tag_close(s,l,i):l.type===et.TEXT?a=this._handle_text(s,l,i):s.add_raw_token(l),r=a,l=o.next();var c=s._output.get_code(e);return c};Nr.prototype._handle_tag_close=function(t,e,n){var r={text:e.text,type:e.type};return t.alignment_size=0,n.tag_complete=!0,t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),n.is_unformatted?t.add_raw_token(e):(n.tag_start_char==="<"&&(t.set_space_before_token(e.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&n.has_wrapped_attrs&&t.print_newline(!1)),t.print_token(e)),n.indent_content&&!(n.is_unformatted||n.is_content_unformatted)&&(t.indent(),n.indent_content=!1),!n.is_inline_element&&!(n.is_unformatted||n.is_content_unformatted)&&t.set_wrap_point(),r};Nr.prototype._handle_inside_tag=function(t,e,n,r){var i=n.has_wrapped_attrs,s={text:e.text,type:e.type};if(t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),n.is_unformatted)t.add_raw_token(e);else if(n.tag_start_char==="{"&&e.type===et.TEXT)t.print_preserved_newlines(e)?(e.newlines=0,t.add_raw_token(e)):t.print_token(e);else{if(e.type===et.ATTRIBUTE?(t.set_space_before_token(!0),n.attr_count+=1):(e.type===et.EQUALS||e.type===et.VALUE&&e.previous.type===et.EQUALS)&&t.set_space_before_token(!1),e.type===et.ATTRIBUTE&&n.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(t.traverse_whitespace(e),i=i||e.newlines!==0),this._is_wrap_attributes_force)){var o=n.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&n.attr_count===1){var a=!0,l=0,c;do{if(c=r.peek(l),c.type===et.ATTRIBUTE){a=!1;break}l+=1}while(l<4&&c.type!==et.EOF&&c.type!==et.TAG_CLOSE);o=!a}o&&(t.print_newline(!1),i=!0)}t.print_token(e),i=i||t.previous_token_wrapped(),n.has_wrapped_attrs=i}return s};Nr.prototype._handle_text=function(t,e,n){var r={text:e.text,type:"TK_CONTENT"};return n.custom_beautifier_name?this._print_custom_beatifier_text(t,e,n):n.is_unformatted||n.is_content_unformatted?t.add_raw_token(e):(t.traverse_whitespace(e),t.print_token(e)),r};Nr.prototype._print_custom_beatifier_text=function(t,e,n){var r=this;if(e.text!==""){var i=e.text,s,o=1,a="",l="";n.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?s=this._js_beautify:n.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?s=this._css_beautify:n.custom_beautifier_name==="html"&&(s=function(d,h){var y=new Nr(d,h,r._js_beautify,r._css_beautify);return y.beautify()}),this._options.indent_scripts==="keep"?o=0:this._options.indent_scripts==="separate"&&(o=-t.indent_level);var c=t.get_full_indent(o);if(i=i.replace(/\n[ \t]*$/,""),n.custom_beautifier_name!=="html"&&i[0]==="<"&&i.match(/^(<!--|<!\[CDATA\[)/)){var u=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(i);if(!u){t.add_raw_token(e);return}a=c+u[1]+`
`,i=u[4],u[5]&&(l=c+u[5]),i=i.replace(/\n[ \t]*$/,""),(u[2]||u[3].indexOf(`
`)!==-1)&&(u=u[3].match(/[ \t]+$/),u&&(e.whitespace_before=u[0]))}if(i)if(s){var f=function(){this.eol=`
`};f.prototype=this._options.raw_options;var m=new f;i=s(c+i,m)}else{var p=e.whitespace_before;p&&(i=i.replace(new RegExp(`
(`+p+")?","g"),`
`)),i=c+i.replace(/\n/g,`
`+c)}a&&(i?i=a+i+`
`+l:i=a+l),t.print_newline(!1),i&&(e.text=i,e.whitespace_before="",e.newlines=0,t.add_raw_token(e),t.print_newline(!0))}};Nr.prototype._handle_tag_open=function(t,e,n,r){var i=this._get_tag_open_token(e);return(n.is_unformatted||n.is_content_unformatted)&&!n.is_empty_element&&e.type===et.TAG_OPEN&&e.text.indexOf("</")===0?(t.add_raw_token(e),i.start_tag_token=this._tag_stack.try_pop(i.tag_name)):(t.traverse_whitespace(e),this._set_tag_position(t,e,i,n,r),i.is_inline_element||t.set_wrap_point(),t.print_token(e)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(i.alignment_size=e.text.length+1),!i.tag_complete&&!i.is_unformatted&&(t.alignment_size=i.alignment_size),i};var jR=function(t,e){if(this.parent=t||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!e)this.tag_complete=!0;else{var n;this.tag_start_char=e.text[0],this.text=e.text,this.tag_start_char==="<"?(n=e.text.match(/^<([^\s>]*)/),this.tag_check=n?n[1]:""):(n=e.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=n?n[1]:"",e.text==="{{#>"&&this.tag_check===">"&&e.next!==null&&(this.tag_check=e.next.text)),this.tag_check=this.tag_check.toLowerCase(),e.type===et.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||e.closed&&e.closed.text==="/>",this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))}};Nr.prototype._get_tag_open_token=function(t){var e=new jR(this._tag_stack.get_parser_token(),t);return e.alignment_size=this._options.wrap_attributes_indent_size,e.is_end_tag=e.is_end_tag||mc(e.tag_check,this._options.void_elements),e.is_empty_element=e.tag_complete||e.is_start_tag&&e.is_end_tag,e.is_unformatted=!e.tag_complete&&mc(e.tag_check,this._options.unformatted),e.is_content_unformatted=!e.is_empty_element&&mc(e.tag_check,this._options.content_unformatted),e.is_inline_element=mc(e.tag_name,this._options.inline)||e.tag_start_char==="{",e};Nr.prototype._set_tag_position=function(t,e,n,r,i){if(n.is_empty_element||(n.is_end_tag?n.start_tag_token=this._tag_stack.try_pop(n.tag_name):(this._do_optional_end_element(n)&&(n.is_inline_element||t.print_newline(!1)),this._tag_stack.record_tag(n),(n.tag_name==="script"||n.tag_name==="style")&&!(n.is_unformatted||n.is_content_unformatted)&&(n.custom_beautifier_name=FV(n.tag_check,e)))),mc(n.tag_check,this._options.extra_liners)&&(t.print_newline(!1),t._output.just_added_blankline()||t.print_newline(!0)),n.is_empty_element){if(n.tag_start_char==="{"&&n.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),n.indent_content=!0;var s=t.current_line_has_match(/{{#if/);s||t.print_newline(!1)}n.tag_name==="!--"&&i.type===et.TAG_CLOSE&&r.is_end_tag&&n.text.indexOf(`
`)===-1||(n.is_inline_element||n.is_unformatted||t.print_newline(!1),this._calcluate_parent_multiline(t,n))}else if(n.is_end_tag){var o=!1;o=n.start_tag_token&&n.start_tag_token.multiline_content,o=o||!n.is_inline_element&&!(r.is_inline_element||r.is_unformatted)&&!(i.type===et.TAG_CLOSE&&n.start_tag_token===r)&&i.type!=="TK_CONTENT",(n.is_content_unformatted||n.is_unformatted)&&(o=!1),o&&t.print_newline(!1)}else n.indent_content=!n.custom_beautifier_name,n.tag_start_char==="<"&&(n.tag_name==="html"?n.indent_content=this._options.indent_inner_html:n.tag_name==="head"?n.indent_content=this._options.indent_head_inner_html:n.tag_name==="body"&&(n.indent_content=this._options.indent_body_inner_html)),!(n.is_inline_element||n.is_unformatted)&&(i.type!=="TK_CONTENT"||n.is_content_unformatted)&&t.print_newline(!1),this._calcluate_parent_multiline(t,n)};Nr.prototype._calcluate_parent_multiline=function(t,e){e.parent&&t._output.just_added_newline()&&!((e.is_inline_element||e.is_unformatted)&&e.parent.is_inline_element)&&(e.parent.multiline_content=!0)};var VV=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],BV=["a","audio","del","ins","map","noscript","video"];Nr.prototype._do_optional_end_element=function(t){var e=null;if(!(t.is_empty_element||!t.is_start_tag||!t.parent)){if(t.tag_name==="body")e=e||this._tag_stack.try_pop("head");else if(t.tag_name==="li")e=e||this._tag_stack.try_pop("li",["ol","ul"]);else if(t.tag_name==="dd"||t.tag_name==="dt")e=e||this._tag_stack.try_pop("dt",["dl"]),e=e||this._tag_stack.try_pop("dd",["dl"]);else if(t.parent.tag_name==="p"&&VV.indexOf(t.tag_name)!==-1){var n=t.parent.parent;(!n||BV.indexOf(n.tag_name)===-1)&&(e=e||this._tag_stack.try_pop("p"))}else t.tag_name==="rp"||t.tag_name==="rt"?(e=e||this._tag_stack.try_pop("rt",["ruby","rtc"]),e=e||this._tag_stack.try_pop("rp",["ruby","rtc"])):t.tag_name==="optgroup"?e=e||this._tag_stack.try_pop("optgroup",["select"]):t.tag_name==="option"?e=e||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):t.tag_name==="colgroup"?e=e||this._tag_stack.try_pop("caption",["table"]):t.tag_name==="thead"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"])):t.tag_name==="tbody"||t.tag_name==="tfoot"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("thead",["table"]),e=e||this._tag_stack.try_pop("tbody",["table"])):t.tag_name==="tr"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(t.tag_name==="th"||t.tag_name==="td")&&(e=e||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),e=e||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return t.parent=this._tag_stack.get_parser_token(),e}};UR.exports.Beautifier=Nr});var WR=q((die,ag)=>{"use strict";var jV=GR().Beautifier,UV=rg().Options;function GV(t,e,n,r){var i=new jV(t,e,n,r);return i.beautify()}ag.exports=GV;ag.exports.defaultOptions=function(){return new UV}});var zR=q((mie,ap)=>{"use strict";var HR=RR(),YR=DR(),KR=WR();function $R(t,e,n,r){return n=n||HR,r=r||YR,KR(t,e,n,r)}$R.defaultOptions=KR.defaultOptions;ap.exports.js=HR;ap.exports.css=YR;ap.exports.html=$R});var JR=q((hie,QR)=>{"use strict";function XR(t,e,n){var r=function(i,s){return t.js_beautify(i,s)};return r.js=t.js_beautify,r.css=e.css_beautify,r.html=n.html_beautify,r.js_beautify=t.js_beautify,r.css_beautify=e.css_beautify,r.html_beautify=n.html_beautify,r}typeof define=="function"&&define.amd?define(["./lib/beautify","./lib/beautify-css","./lib/beautify-html"],function(t,e,n){return XR(t,e,n)}):function(t){var e=zR();e.js_beautify=e.js,e.css_beautify=e.css,e.html_beautify=e.html,t.exports=XR(e,e,e)}(QR)});var dg=q((vse,pC)=>{"use strict";var pp=require("path");function YV(t){if(typeof t!="string"||t.length<=7||t.substring(0,7)!=="file://")throw new TypeError("must pass in a file:// URI to convert to a file path");let e=decodeURI(t.substring(7)),n=e.indexOf("/"),r=e.substring(0,n),i=e.substring(n+1);return r==="localhost"&&(r=""),r&&(r=pp.sep+pp.sep+r),i=i.replace(/^(.+)\|/,"$1:"),pp.sep==="\\"&&(i=i.replace(/\//g,"\\")),/^.+:/.test(i)||(i=pp.sep+i),r+i}pC.exports=YV});var bB={};u0(bB,{analyzeStructures:()=>yp,collectProjectDetails:()=>qg,connection:()=>ke,defaultSettings:()=>gp,getAntlersSettings:()=>lp,globalSettings:()=>Yi,hasConfigurationCapability:()=>Ag,requestEdits:()=>Cg});var n0=K(require("fs")),r0=K(Gg()),Mt=K(dT());var Gs=class{constructor(){this.currentStructure=null;this.isReloading=!1;this.isDirtyState=!0}setActiveProject(e){this.currentStructure=e}getStructure(){return this.currentStructure}hasStructure(){return this.currentStructure!=null}setDirtyState(e){this.isDirtyState=e}reloadDetails(){this.isReloading||this.isDirtyState!=!1&&this.currentStructure!=null&&(this.isReloading=!0,this.currentStructure=this.currentStructure.reloadDetails(),this.isReloading=!1,this.isDirtyState=!1)}};Gs.instance=null;(typeof Gs.instance=="undefined"||Gs.instance==null)&&(Gs.instance=new Gs);var se=Gs;var li=class{static registerDetails(e,n){this.documentDetails.set(e,n)}static hasDetails(e){return this.documentDetails.has(e)}};li.documentDetails=new Map;var gw={documentDescription:"",documentName:"",collectionInjections:[],blueprints:[],variableHelper:null,injectsParameters:[],varReferenceNames:new Map,formatterEnabled:!0};var mT="@name",hT="@description",gT="@desc",_T="@entry",yT="@collection",TT="@blueprint",bT="@var",vT="@set",NT="@param",PT="@param*",_w="@front",IT="@format";function hl(t,e){if(e==null||e.isComment==!1)return gw;let n=e.content.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`).map(d=>d.trim()),r=[],i=new Map,s="",o="",a=[],l=[],c="",u=null,f=!1,m=!0;for(let d=0;d<n.length;d++){let h=n[d];if(h.startsWith(_T))a=a.concat(h.slice(_T.length).split(",").map(y=>y.trim())),f=!1;else if(h.startsWith(yT))a=a.concat(h.slice(yT.length).split(",").map(y=>y.trim())),f=!1;else if(h.startsWith(TT))l=l.concat(h.slice(TT.length).split(",").map(y=>y.trim())),f=!1;else if(h.startsWith(mT))s=h.slice(mT.length).trim(),f=!1;else if(h.startsWith(hT))o=h.slice(hT.length).trim(),f=!0;else if(h.startsWith(gT))o=h.slice(gT.length).trim(),f=!0;else if(h.startsWith(bT))c=h.slice(bT.length).trim(),f=!1;else if(h.startsWith(vT))c="@page "+h.slice(vT.length).trim(),f=!1;else if(h.startsWith(NT)){let y=NT.length,_=!1;h.startsWith(PT)&&(y=PT.length,_=!0);let S=h.slice(y).trim().split(" ");if(S.length>0)if(S[0]==_w&&S.length>=4){S.shift();let g=S.shift(),E=S.shift(),H=S.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:H,expectsTypes:["*"],isDynamic:!0,isRequired:_,name:E}),i.set(E,g)}else{let g=S.shift(),E=S.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:E,expectsTypes:["*"],isDynamic:!0,isRequired:_,name:g})}}else h.startsWith(IT)?h.slice(IT.length).trim().toLowerCase()=="true"?m=!0:m=!1:f&&(o+=`
`+h.trim())}if(c.length>0){let d=c.split(" ");if(d.length==2){let h=d[0],y=d[1];if(y.includes(".")){let _=y.split(".");if(_.length==2){let T=_[0],S=_[1];u={variableName:h,collectionName:T,fieldHandle:S,setHandle:""}}else if(_.length==3){let T=_[0],S=_[1],g=_[2];u={variableName:h,collectionName:T,fieldHandle:S,setHandle:g}}}else u={variableName:h,setHandle:"",collectionName:"",fieldHandle:y}}}if(t.trim().length>0&&se.instance!=null&&se.instance.hasStructure()){let d=se.instance.getStructure().findView(t);d!=null&&(d.injectsParameters=r,d.varReferenceNames=i)}let p={documentName:s,documentDescription:o,collectionInjections:a,blueprints:l,variableHelper:u,injectsParameters:r,varReferenceNames:i,formatterEnabled:m};return t.trim().length>0&&e.startPosition!=null&&(e.startPosition.line<=1||e.index<=1)&&li.registerDetails(t,p),p}var yw=["markdown","text","textarea","slug","button_group","code","color","date","form","link","structures","select","taxonomies","terms","template","time","video","users","user_groups","user_roles"],Tw=["array","assets","bard","blueprints","collections","entries","list","grid","replicator","structures_multiple","sites","select_multiple","form_multiple","table","tags","terms_multiple","taxonomies_multiple","users_multiple","checkboxes","select_multiple","yaml","user_groups_multiple","user_roles_multiple"],bw=["integer","range"],vw=["toggle"];function $c(t){return yw.includes(t)?"string":Tw.includes(t)?"array":bw.includes(t)?"number":vw.includes(t)?"boolean":t}var Ws=class{constructor(){this.partialReferences=new Map;this.cacheReferences=new Map;this.removesPageScope=new Map}clearAllReferences(e){this.clearPartialReferences(e),this.clearCacheReferences(e)}registerPartialReferences(e,n){this.partialReferences.has(e)==!1&&this.partialReferences.set(e,[]),this.partialReferences.set(e,n)}registerCacheReferences(e,n){this.cacheReferences.has(e)==!1&&this.cacheReferences.set(e,[]),this.cacheReferences.set(e,n)}clearPartialReferences(e){this.partialReferences.has(e)&&this.partialReferences.set(e,[])}clearRemovesPageScope(e){this.removesPageScope.has(e)&&this.removesPageScope.delete(e)}pageScopeDisabled(e){return this.removesPageScope.has(e)}clearCacheReferences(e){this.cacheReferences.has(e)&&this.cacheReferences.set(e,[])}setRemovesPageScope(e,n){this.removesPageScope.set(e,n)}getPartialReferences(e){return this.partialReferences.has(e)==!1?[]:this.partialReferences.get(e)}getCacheReferencnes(e){return this.cacheReferences.has(e)==!1?[]:this.cacheReferences.get(e)}hasPartialReferences(e){return this.partialReferences.has(e)}hasCacheReferences(e){return this.cacheReferences.has(e)}};Ws.instance=null;(typeof Ws.instance=="undefined"||Ws.instance==null)&&(Ws.instance=new Ws);var wr=Ws;var en=class{constructor(){this.index=-1;this.offset=0;this.line=0;this.char=0}shiftRight(e){let n=new en;return n.offset=this.offset+e,n.index=this.index+e,n.line=this.line,n.char=this.char+e,n}isBefore(e){return e==null?!1:e.line>this.line||e.line==this.line&&this.offset<e.offset}isWithin(e,n,r=0){return e==null||n==null?!1:this.index>=e.index&&this.index<=n.index+r}isWithinRange(e){return e==null?!1:e.start!=null&&e.end!=null?this.isWithin(e.start,e.end):!1}};var ci=K(UT(),1),Hj=ci.default.v1,Yj=ci.default.v3,os=ci.default.v4,Kj=ci.default.v5,$j=ci.default.NIL,zj=ci.default.version,Xj=ci.default.validate,Qj=ci.default.stringify,Jj=ci.default.parse;var Ad=class{constructor(){this.start=null;this.end=null}},yl=Ad;yl.Empty=new Ad;function GT(t,e){let n=e.copy(),r=e.copy();return r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"group",introducedBy:t}),r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"key",introducedBy:t}),r.addScopeList("items",n),e.addScopeList("groups",r),e}function WT(t,e){let n=e.copy();return e.addScopeList("items",n),e}var HT=[{name:"as",acceptsType:["array"],returnsType:["array"],description:"Alias the array variable with a key.",docLink:"https://statamic.dev/modifiers/as",parameters:[{name:"alias",description:"The alias name."}],canBeParameter:!0},{name:"ampersand_list",acceptsType:["array"],returnsType:["string"],description:"Converts the array into a comma delimited string, with an ampersand before the last item.",docLink:"https://statamic.dev/modifiers/ampersand_list",parameters:[],canBeParameter:!1},{name:"collapse",acceptsType:["array"],returnsType:["array"],description:"Collapses an array of arrays into a single, flat, array.",docLink:"https://statamic.dev/modifiers/collapse",parameters:[],canBeParameter:!1},{name:"contains",acceptsType:["array","string"],returnsType:["boolean"],description:"Tests if the value contains another value.",docLink:"https://statamic.dev/modifiers/contains",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1},{name:"count",acceptsType:["array"],returnsType:["number"],description:"Returns the number of items in the array.",docLink:"https://statamic.dev/modifiers/count",parameters:[],canBeParameter:!1},{name:"dl",acceptsType:["array"],returnsType:["string"],description:"Turns an associative array into an HTML definition list.",docLink:"https://statamic.dev/modifiers/dl",parameters:[],canBeParameter:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],description:"Breaks a string into an array on a given delimiter.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The delimiter to break the string apart on."}],canBeParameter:!0},{name:"flatten",acceptsType:["array"],returnsType:["array"],description:"Flattens a multi-dimensional array.",docLink:"https://statamic.dev/modifiers/flatten",parameters:[],canBeParameter:!1},{name:"flip",acceptsType:["array"],returnsType:["array"],description:"Swaps the array keys with their values.",docLink:"https://statamic.dev/modifiers/flip",parameters:[],canBeParameter:!1},{name:"group_by",acceptsType:["array"],returnsType:["array"],description:"Groups the array items by the given key.",docLink:"https://statamic.dev/modifiers/group_by",parameters:[{name:"key",description:"The key to group by."}],canBeParameter:!0,augmentScope:GT},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1},{name:"is_empty",acceptsType:["array"],returnsType:["boolean"],description:"Tests if the array is empty.",docLink:"https://statamic.dev/modifiers/is_empty",parameters:[],canBeParameter:!1},{name:"join",acceptsType:["array"],returnsType:["string"],description:"Turn an array into a string by gluing together all the data.",docLink:"https://statamic.dev/modifiers/join",parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0},{name:"joinplode",acceptsType:["array"],returnsType:["string"],description:"Turn an array into a string by gluing together all the data.",docLink:null,parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0},{name:"limit",acceptsType:["array"],returnsType:["array"],description:"Limits the number of items returned in the array",docLink:"https://statamic.dev/modifiers/limit",parameters:[{name:"count",description:"The maximum number of items to return."}],canBeParameter:!0},{name:"list",acceptsType:["array"],returnsType:["string"],description:"Converts the array into a comma-separated string.",docLink:"https://statamic.dev/modifiers/list",parameters:[],canBeParameter:!1},{name:"offset",acceptsType:["array"],returnsType:["array"],description:"Offsets the items returned in the array.",docLink:"https://statamic.dev/modifiers/offset",parameters:[{name:"offset",description:"The one-based index to start retrieving items."}],canBeParameter:!0},{name:"ol",acceptsType:["array"],returnsType:["string"],description:"Turns the array into an HTML ordered list.",docLink:"https://statamic.dev/modifiers/ol",parameters:[],canBeParameter:!1},{name:"option_list",acceptsType:["array"],returnsType:["string"],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/option_list",parameters:[],canBeParameter:!1},{name:"pluck",acceptsType:["array"],returnsType:["array"],description:"Plucks a value from a collection of items.",parameters:[{name:"value",description:"The value to pluck from the array or collection."}],canBeParameter:!0,docLink:null},{name:"pad",acceptsType:["array"],returnsType:["array"],description:"Pads the array to a specified length with the given value.",docLink:"https://statamic.dev/modifiers/pad",parameters:[{name:"length",description:"The desired length of the array."},{name:"value",description:"The value to pad the array with."}],canBeParameter:!0},{name:"piped",acceptsType:["array"],returnsType:["string"],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/piped",parameters:[],canBeParameter:!1},{name:"sentence_list",acceptsType:["array"],returnsType:["string"],description:'Turns the array into a comma-delimited list, with the word "and" before the last item.',docLink:"https://statamic.dev/modifiers/sentence_list",parameters:[],canBeParameter:!1},{name:"shuffle",acceptsType:["array"],returnsType:["array"],description:"Randomizes the order of array elements.",docLink:"https://statamic.dev/modifiers/shuffle",parameters:[],canBeParameter:!1},{name:"sort",acceptsType:["array"],returnsType:["array"],description:"Sorts the array by a key in ascending or descending order.",docLink:"https://statamic.dev/modifiers/sort",parameters:[{name:"key",description:"The key to sort by."},{name:"order",description:"The sort direction. `asc` or `desc`."}],canBeParameter:!0},{name:"sum",acceptsType:["array"],returnsType:["number"],description:"Returns the sum of all items in the array.",docLink:"https://statamic.dev/modifiers/sum",parameters:[{name:"key",description:"The value to sum."}],canBeParameter:!1},{name:"ul",acceptsType:["array"],returnsType:["string"],description:"Turns the array into an HTML unordered list.",docLink:"https://statamic.dev/modifiers/ul",parameters:[],canBeParameter:!1},{name:"unique",acceptsType:["array"],returnsType:["array"],description:"Returns all unique items in the array.",docLink:"https://statamic.dev/modifiers/unique",parameters:[],canBeParameter:!1},{name:"where",acceptsType:["array"],returnsType:["array"],description:"Filters the array by a given key and value.",docLink:"https://statamic.dev/modifiers/where",parameters:[{name:"key",description:"The property to filter by."},{name:"value",description:"The value to compare to."}],canBeParameter:!0},{name:"split",acceptsType:["array"],returnsType:["array"],description:"Splits an array into smaller arrays with the provided size.",canBeParameter:!0,docLink:"",parameters:[{name:"size",description:"The size of each new array"}],augmentScope:WT},{name:"compact",acceptsType:["string"],returnsType:["array"],description:"Accepts a comma-delimited list of variable names and return an array with their values.",canBeParameter:!0,docLink:"",parameters:[{name:"variables",description:"A comma-delimited list of variable names."}]}];var YT=[{name:"background_position",acceptsType:["string"],returnsType:["string"],description:"Converts an asset focal point into a background-position CSS property.",docLink:"https://statamic.dev/modifiers/background_position",parameters:[],canBeParameter:!1},{name:"image",acceptsType:["string"],returnsType:["string"],description:"Generates an HTML image element with the variable's value as the src.",docLink:"https://statamic.dev/modifiers/image",parameters:[],canBeParameter:!1},{name:"output",acceptsType:["string"],returnsType:["string"],description:"Returns the string output of an Asset file's contents.",docLink:"https://statamic.dev/modifiers/output",parameters:[],canBeParameter:!1}];var KT=[{name:"contains_all",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_all",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1},{name:"contains_any",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_any",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1},{name:"ends_with",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string ends with another string.",docLink:"https://statamic.dev/modifiers/ends_with",parameters:[{name:"value",description:"The value to check against."}],canBeParameter:!1},{name:"has_lower_case",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains any lowercase characters.",docLink:"https://statamic.dev/modifiers/has_lower_case",parameters:[],canBeParameter:!1},{name:"has_upper_case",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains any uppercase characters.",docLink:"https://statamic.dev/modifiers/has_upper_case",parameters:[],canBeParameter:!1},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value(s) to search for."}],canBeParameter:!1},{name:"is_after",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the string contains only alphanumeric characters.",docLink:"https://statamic.dev/modifiers/is_after",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1},{name:"is_alphanumeric",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only alphanumeric characters.",docLink:"https://statamic.dev/modifiers/is_alphanumeric",parameters:[],canBeParameter:!1},{name:"is_before",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if a date is before another date.",docLink:"https://statamic.dev/modifiers/is_before",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1},{name:"is_between",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if a date is between two other dates.",docLink:"https://statamic.dev/modifiers/is_between",parameters:[{name:"start_date",description:"The start date to compare."},{name:"end_date",description:"The end date to compare."}],canBeParameter:!1},{name:"is_blank",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only whitespace characters.",docLink:"https://statamic.dev/modifiers/is_blank",parameters:[],canBeParameter:!1},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1},{name:"is_future",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is in the future.",docLink:"https://statamic.dev/modifiers/is_future",parameters:[],canBeParameter:!1},{name:"is_json",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is valid JSON.",docLink:"https://statamic.dev/modifiers/is_json",parameters:[],canBeParameter:!1},{name:"is_leap_year",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a leap year.",docLink:"https://statamic.dev/modifiers/is_leap_year",parameters:[],canBeParameter:!1},{name:"is_numeric",acceptsType:["string","number"],returnsType:["boolean"],description:"Tests if the value is a number or numeric string.",docLink:"https://statamic.dev/modifiers/is_numeric",parameters:[],canBeParameter:!1},{name:"is_past",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is in the past.",docLink:"https://statamic.dev/modifiers/is_past",parameters:[],canBeParameter:!1},{name:"is_today",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is today.",docLink:"https://statamic.dev/modifiers/is_today",parameters:[],canBeParameter:!1},{name:"is_uppercase",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only uppercase characters.",docLink:"https://statamic.dev/modifiers/is_uppercase",parameters:[],canBeParameter:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1},{name:"is_weekday",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a week day.",docLink:"https://statamic.dev/modifiers/is_weekday",parameters:[],canBeParameter:!1},{name:"is_weekend",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a weekend day.",docLink:"https://statamic.dev/modifiers/is_weekend",parameters:[],canBeParameter:!1},{name:"is_yesterday",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is yesterday.",docLink:"https://statamic.dev/modifiers/is_yesterday",parameters:[],canBeParameter:!1},{name:"is_tomorrow",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is tomorrow.",docLink:null,parameters:[],canBeParameter:!1},{name:"starts_with",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a value starts with the provided value.",docLink:"https://statamic.dev/modifiers/starts_with",parameters:[{name:"value",description:"The value to test for."}],canBeParameter:!1}];var $T=[{name:"days_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of days since a given date.",docLink:"https://statamic.dev/modifiers/days_ago",parameters:[],canBeParameter:!1},{name:"format_translated",acceptsType:["string","date"],returnsType:["string","date"],description:"Returns a formatted Carbon datetime/string.",docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0},{name:"format",acceptsType:["string","date"],returnsType:["string","date"],description:"Formats the date using the provided format using PHP's [date variables](https://www.php.net/date).",docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0},{name:"format_localized",acceptsType:["string","date"],returnsType:["string","date"],description:"Forms the date using server's locale, using PHP's [strftime format variables](https://www.php.net/strftime).",docLink:"https://statamic.dev/modifiers/format_localized",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0},{name:"hours_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of hours since the date.",docLink:"https://statamic.dev/modifiers/hours_ago",parameters:[],canBeParameter:!1},{name:"iso_format",acceptsType:["string","date"],returnsType:["string","date"],description:"Formats the date using an ISO format.",docLink:"https://statamic.dev/modifiers/iso_format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!1},{name:"minutes_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of minutes since the date.",docLink:"https://statamic.dev/modifiers/minutes_ago",parameters:[],canBeParameter:!1},{name:"modify_date",acceptsType:["string","date"],returnsType:["string","date"],description:"Alters the date by incrementing or decrementing it in a format accepted by PHP's [strtotime](https://www.php.net/strtotime) function.",docLink:"https://statamic.dev/modifiers/modify_date",parameters:[],canBeParameter:!0},{name:"months_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of months since the date.",docLink:"https://statamic.dev/modifiers/months_ago",parameters:[],canBeParameter:!1},{name:"relative",acceptsType:["string","date"],returnsType:["string"],description:"Returns a human readable date difference.",docLink:"https://statamic.dev/modifiers/relative",parameters:[{name:"add_ago",description:"Whether to add the relative suffix words at the end of the string."}],canBeParameter:!1},{name:"seconds_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of seconds since the date.",docLink:"https://statamic.dev/modifiers/seconds_ago",parameters:[],canBeParameter:!1},{name:"timezone",acceptsType:["string","date"],returnsType:["string","date"],description:"Applies a timezone to the date.",docLink:"https://statamic.dev/modifiers/timezone",parameters:[{name:"timezone",description:"The timezone to apply."}],canBeParameter:!1},{name:"weeks_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of weeks since the date.",docLink:"https://statamic.dev/modifiers/weeks_ago",parameters:[],canBeParameter:!1},{name:"years_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of years since the date.",docLink:"https://statamic.dev/modifiers/years_ago",parameters:[],canBeParameter:!1}];var zT=[{name:"chunk",acceptsType:["array"],returnsType:["array"],description:"Breaks the array or collection into smaller arrays of a given size.",docLink:"https://statamic.dev/modifiers/chunk",parameters:[{name:"chunk_size",description:"The maximum length of each new chunk."}],canBeParameter:!0},{name:"favicon",acceptsType:["string"],returnsType:["string"],description:"Generates a favicon HTML meta tag for the given value.",docLink:"https://statamic.dev/modifiers/favicon",parameters:[],canBeParameter:!1},{name:"first",acceptsType:["string","array"],returnsType:["*"],description:"Returns the specified number of characters from the beginning of the string.",docLink:"https://statamic.dev/modifiers/first",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0},{name:"last",acceptsType:["string","array"],returnsType:["*"],description:"Returns the specified number of characters from the end of the string.",docLink:"https://statamic.dev/modifiers/last",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0},{name:"link",acceptsType:["string"],returnsType:["string"],description:"Generates an HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/link",parameters:[],canBeParameter:!1},{name:"mailto",acceptsType:["string"],returnsType:["string"],description:"Generates a mailto HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/mailto",parameters:[],canBeParameter:!1},{name:"markdown",acceptsType:["string"],returnsType:["string"],description:"Parses the value as Markdown and returns the HTML.",docLink:"https://statamic.dev/modifiers/markdown",parameters:[],canBeParameter:!1},{name:"nl2br",acceptsType:["string"],returnsType:["string"],description:"Replaces line breaks with HTML `<br>` tags.",docLink:"https://statamic.dev/modifiers/nl2br",parameters:[],canBeParameter:!1},{name:"obfuscate",acceptsType:["string"],returnsType:["string"],description:"Modifies the input string by replacing it with special characters, making it harder for bots but remains readable to site visitors.",docLink:"https://statamic.dev/modifiers/obfuscate",parameters:[],canBeParameter:!1},{name:"obfuscate_email",acceptsType:["string"],returnsType:["string"],description:"Obfuscates an email address with special HTML characters.",docLink:"https://statamic.dev/modifiers/obfuscate_email",parameters:[],canBeParameter:!1},{name:"strip_tags",acceptsType:["string"],returnsType:["string"],description:"Removes HTML tags from the string.",docLink:"https://statamic.dev/modifiers/strip_tags",parameters:[{name:"tags",description:"The HTML tag(s) to remove from the string."}],canBeParameter:!1},{name:"table",acceptsType:["array"],returnsType:["string"],description:"Turns a [Table FieldType](https://statamic.dev/fieldtypes/table) array into an HTML table.",docLink:"https://statamic.dev/modifiers/table",parameters:[{name:"content_markdown",description:"Whether to parse cell contents as Markdown."}],canBeParameter:!1},{name:"textile",acceptsType:["string"],returnsType:["string"],description:"Parses a string with [Textile](http://demo.textilewiki.com/theme-default/) and returns the HTML.",docLink:"https://statamic.dev/modifiers/textile",parameters:[],canBeParameter:!1},{name:"wrap",acceptsType:["string"],returnsType:["string"],description:"Wraps a string with a given HTML tag.",docLink:"https://statamic.dev/modifiers/wrap",parameters:[{name:"expression",description:"The HTML tag or Emmet-style expression to wrap the value in."}],canBeParameter:!1}];var XT=[{name:"add",acceptsType:["number"],returnsType:["number"],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!0},{name:"+",acceptsType:["number"],returnsType:["number"],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!1},{name:"ceil",acceptsType:["number"],returnsType:["number"],description:"Rounds the value to the next whole number.",docLink:"https://statamic.dev/modifiers/ceil",parameters:[],canBeParameter:!1},{name:"divide",acceptsType:["number"],returnsType:["number"],description:"Divides two values.",docLink:"https://statamic.dev/modifiers/divide",parameters:[{name:"value",description:"The value to divide."}],canBeParameter:!0},{name:"floor",acceptsType:["number"],returnsType:["number"],description:"Rounds a number down to the next whole number.",docLink:"https://statamic.dev/modifiers/floor",parameters:[],canBeParameter:!0},{name:"format_number",acceptsType:["number"],returnsType:["string"],description:"Formats a number.",docLink:"https://statamic.dev/modifiers/format_number",parameters:[{name:"precision",description:"Number of decimal places before rounding."},{name:"decimal_separator",description:"The decimal separator (defaults to `.`)."},{name:"thousands_separator",description:"The thousands separator (default `,`)."}],canBeParameter:!0},{name:"mode",acceptsType:["number"],returnsType:["number"],description:"",docLink:"",parameters:[],canBeParameter:!0},{name:"multiply",acceptsType:["number"],returnsType:["number"],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!0},{name:"*",acceptsType:["number"],returnsType:["number"],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!1},{name:"round",acceptsType:["number"],returnsType:["number"],description:"Rounds a number to a specified precision.",docLink:"https://statamic.dev/modifiers/round",parameters:[{name:"precision",description:"The number of digits after the decimal point."}],canBeParameter:!0},{name:"subtract",acceptsType:["number"],returnsType:["number"],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!0},{name:"-",acceptsType:["number"],returnsType:["number"],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!1}];var QT=[{name:"partial",acceptsType:["*"],returnsType:["*view*"],description:"Injects data into a partial and renders it.",docLink:"https://statamic.dev/modifiers/partial",parameters:[{name:"partial",description:"The name of the partial."}],canBeParameter:!1},{name:"macro",acceptsType:["*"],returnsType:["*"],description:"Runs a pre-configured macro on the data.",docLink:"https://statamic.dev/modifiers/macro",parameters:[{name:"macro",description:"The macro name."}],canBeParameter:!1},{name:"url",acceptsType:["string","*"],returnsType:["string"],description:"Locates the URL of an asset, page, entry, or taxonomy term based on the variable contents.",docLink:"https://statamic.dev/modifiers/url",parameters:[],canBeParameter:!1}];var JT=[{name:"ascii",acceptsType:["string"],returnsType:["string"],description:"Replaces all non-ASCII characters with their closest ASCII counterparts.",docLink:"https://statamic.dev/modifiers/ascii",parameters:[],canBeParameter:!1},{name:"at",acceptsType:["string"],returnsType:["string"],description:"Returns the character at a given zero-based position.",docLink:"https://statamic.dev/modifiers/at",parameters:[{name:"position",description:"The zero-based position to retrieve a character from."}],canBeParameter:!0},{name:"backspace",acceptsType:["string"],returnsType:["string"],description:"Removes a specified number of characters from the end of a string.",docLink:"https://statamic.dev/modifiers/backspace",parameters:[{name:"character_count",description:"The number of characters to remove from the end of the string."}],canBeParameter:!0},{name:"camelize",acceptsType:["string"],returnsType:["string"],description:"Converts the string into camelCase.",docLink:"https://statamic.dev/modifiers/camelize",parameters:[],canBeParameter:!1},{name:"cdata",acceptsType:["string"],returnsType:["string"],description:"Wraps the string in CDATA XML tags.",docLink:"https://statamic.dev/modifiers/cdata",parameters:[],canBeParameter:!1},{name:"collapse_whitespace",acceptsType:["string"],returnsType:["string"],description:"Trims a string and replaces consecutive whitespace characters with a single space.",docLink:"https://statamic.dev/modifiers/collapse_whitespace",parameters:[],canBeParameter:!1},{name:"count_substring",acceptsType:["string"],returnsType:["number"],description:"Counts the number of occurrences of a term within the string.",docLink:"https://statamic.dev/modifiers/count_substring",parameters:[{name:"term",description:"The sub-string to search for"}],canBeParameter:!0},{name:"dashify",acceptsType:["string"],returnsType:["string"],description:"Returns a lower-cased and trimmed string, separated by dashes.",docLink:"https://statamic.dev/modifiers/dashify",parameters:[],canBeParameter:!1},{name:"deslugify",acceptsType:["string"],returnsType:["string"],description:"Replaces all hyphens and underscores with spaces.",docLink:"https://statamic.dev/modifiers/deslugify",parameters:[],canBeParameter:!1},{name:"embed_url",acceptsType:["string"],returnsType:["string"],description:"Converts a YouTube or Viemo link into their embed URLs.",docLink:"https://statamic.dev/modifiers/embed_url",parameters:[],canBeParameter:!1},{name:"trackable_embed_url",acceptsType:["string"],returnsType:["string"],description:"Get the embed URL when given a youtube or vimeo link that's direct to the page.",docLink:null,parameters:[],canBeParameter:!1},{name:"ensure_left",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string begins with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_left",parameters:[{name:"start_string",description:"The value that should be at the start of the string."}],canBeParameter:!0},{name:"ensure_right",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string ends with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_right",parameters:[{name:"end_string",description:"The value that should be at the end of the string."}],canBeParameter:!0},{name:"entities",acceptsType:["string"],returnsType:["string"],description:"Encode a string with HTML entities.",docLink:"https://statamic.dev/modifiers/entities",parameters:[],canBeParameter:!1},{name:"excerpt",acceptsType:["string"],returnsType:["string"],description:"Breaks a string at a given marker.",docLink:"https://statamic.dev/modifiers/excerpt",parameters:[{name:"marker",description:"The string to break by."}],canBeParameter:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],description:"Breaks a string into an array of strings.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The string to split the larger string by."}],canBeParameter:!0},{name:"gravatar",acceptsType:["string"],returnsType:["string"],description:"Converts an email string to a Gravatar image URL.",docLink:"https://statamic.dev/modifiers/gravatar",parameters:[{name:"image size",description:"The desired image size."}],canBeParameter:!0},{name:"insert",acceptsType:["string"],returnsType:["string"],description:"Inserts a string at the position provided.",docLink:"https://statamic.dev/modifiers/insert",parameters:[{name:"value",description:"The value to insert."},{name:"position",description:"The zero based position to insert the text at."}],canBeParameter:!0},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1},{name:"is_embeddable",acceptsType:["string"],returnsType:["boolean"],description:"Checks to see if a video URL is embeddable.",docLink:"https://statamic.dev/modifiers/is_embeddable",parameters:[],canBeParameter:!1},{name:"is_lowercase",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if the string contains only lowercase characters.",docLink:"https://statamic.dev/modifiers/is_lowercase",parameters:[],canBeParameter:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if a string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1},{name:"lcfirst",acceptsType:["string"],returnsType:["string"],description:"Converts the first character of the value to lower case.",docLink:"https://statamic.dev/modifiers/lcfirst",parameters:[],canBeParameter:!1},{name:"length",acceptsType:["string"],returnsType:["number"],description:"Returns the number of items in an array or number of characters in a string.",docLink:"https://statamic.dev/modifiers/length",parameters:[],canBeParameter:!1},{name:"lower",acceptsType:["string"],returnsType:["string"],description:"Converts all characters to lowercase.",docLink:"https://statamic.dev/modifiers/lower",parameters:[],canBeParameter:!1},{name:"md5",acceptsType:["string"],returnsType:["string"],description:"Creates an MD5 hash of the variable.",docLink:"https://statamic.dev/modifiers/md5",parameters:[],canBeParameter:!1},{name:"rawurlencode",acceptsType:["string"],returnsType:["string"],description:"URL-encode a variable according to RFC-3986.",docLink:"https://statamic.dev/modifiers/rawurlencode",parameters:[],canBeParameter:!1},{name:"read_time",acceptsType:["string"],returnsType:["string"],description:"Returns an estimated read time, in minutes.",docLink:"https://statamic.dev/modifiers/read_time",parameters:[{name:"words per minute",description:"The words per minute to use as an estimate."}],canBeParameter:!0},{name:"regex_replace",acceptsType:["string"],returnsType:["string"],description:"Replaces all regex matches with a string.",docLink:"https://statamic.dev/modifiers/regex_replace",parameters:[{name:"pattern",description:"The regex pattern."},{name:"replace",description:"The replacement value."}],canBeParameter:!0},{name:"remove_left",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string never begins with a specified string.",docLink:"https://statamic.dev/modifiers/remove_left/",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0},{name:"remove_right",acceptsType:["string"],returnsType:["string"],description:"Ensures that a string never ends with a specified string.",docLink:"https://statamic.dev/modifiers/remove_right",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0},{name:"replace",acceptsType:["string"],returnsType:["string"],description:"Replaces all occurrences of a string with a different value.",docLink:"https://statamic.dev/modifiers/replace",parameters:[{name:"needle",description:"The string to search for."},{name:"value",description:"The value to replace all occurrences with."}],canBeParameter:!0},{name:"reverse",acceptsType:["string","array"],returnsType:["string","array"],description:"Reverses all characters in a string, or all items in an array.",docLink:"https://statamic.dev/modifiers/reverse",parameters:[],canBeParameter:!1},{name:"safe_truncate",acceptsType:["string"],returnsType:["string"],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/safe_truncate",parameters:[{name:"length",description:"The desired string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1},{name:"sanitize",acceptsType:["string"],returnsType:["string"],description:"Converts special characters to HTML entities.",docLink:"https://statamic.dev/modifiers/sanitize",parameters:[],canBeParameter:!1},{name:"segment",acceptsType:["string"],returnsType:["string"],description:"Returns a segment by number from any valid URL or URI.",docLink:"https://statamic.dev/modifiers/segment",parameters:[{name:"segment",description:"The one-based segment to return."}],canBeParameter:!0},{name:"singular",acceptsType:["string"],returnsType:["string"],description:"Returns the singular form of an English word.",docLink:"https://statamic.dev/modifiers/singular",parameters:[],canBeParameter:!1},{name:"slugify",acceptsType:["string"],returnsType:["string"],description:"Converts the string into an URL slug.",docLink:"https://statamic.dev/modifiers/slugify",parameters:[],canBeParameter:!1},{name:"smartypants",acceptsType:["string"],returnsType:["string"],description:"Translates plain ASCII punctuation characters into typographic punctuation HTML entities.",docLink:"https://statamic.dev/modifiers/smartypants",parameters:[],canBeParameter:!1},{name:"spaceless",acceptsType:["string"],returnsType:["string"],description:"Removes excess whitespace and line breaks from a string.",docLink:"https://statamic.dev/modifiers/spaceless",parameters:[],canBeParameter:!1},{name:"substr",acceptsType:["string"],returnsType:["string"],description:"Returns a portion of a string based on provided a start index, and optional length.",docLink:"https://statamic.dev/modifiers/substr",parameters:[{name:"start",description:"The 0-based index to start searching."},{name:"length",description:"An optional length for the string to find."}],canBeParameter:!1},{name:"surround",acceptsType:["string"],returnsType:["string"],description:"Surrounds a string with another string.",docLink:"https://statamic.dev/modifiers/surround",parameters:[{name:"value",description:"The value to surround the string with."}],canBeParameter:!1},{name:"swap_case",acceptsType:["string"],returnsType:["string"],description:"Returns a case swapped version of the string.",docLink:"https://statamic.dev/modifiers/swap_case",parameters:[],canBeParameter:!1},{name:"tidy",acceptsType:["string"],returnsType:["string"],description:"Returns a string with smart quotes, ellipsis characters, and dashes from Windows-1252 replaced by ASCII equivalents.",docLink:"https://statamic.dev/modifiers/tidy",parameters:[],canBeParameter:!1},{name:"title",acceptsType:["string"],returnsType:["string"],description:"Returns a Title Cased version of the string.",docLink:"https://statamic.dev/modifiers/title",parameters:[],canBeParameter:!1},{name:"trim",acceptsType:["string"],returnsType:["string"],description:"Removes whitespace from the start and end of the string.",docLink:"https://statamic.dev/modifiers/trim",parameters:[],canBeParameter:!1},{name:"truncate",acceptsType:["string"],returnsType:["string"],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/truncate",parameters:[{name:"length",description:"The maximum string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1},{name:"ucfirst",acceptsType:["string"],returnsType:["string"],description:"Upper cases the first character in the string.",docLink:"https://statamic.dev/modifiers/ucfirst",parameters:[],canBeParameter:!1},{name:"underscored",acceptsType:["string"],returnsType:["string"],description:"Returns a lower-cased and trimmed version of the string, separated by underscores.",docLink:"https://statamic.dev/modifiers/underscored",parameters:[],canBeParameter:!1},{name:"upper",acceptsType:["string"],returnsType:["string"],description:"Transforms the string to uppercase.",docLink:"https://statamic.dev/modifiers/upper",parameters:[],canBeParameter:!1},{name:"urldecode",acceptsType:["string"],returnsType:["string"],description:"URL-decodes the string.",docLink:"https://statamic.dev/modifiers/urldecode",parameters:[],canBeParameter:!1},{name:"urlencode",acceptsType:["string"],returnsType:["string"],description:"URL-encodes the string.",docLink:"https://statamic.dev/modifiers/urlencode",parameters:[],canBeParameter:!1},{name:"widont",acceptsType:["string"],returnsType:["string"],description:"Attempts to prevent lines with single words.",docLink:"https://statamic.dev/modifiers/widont",parameters:[],canBeParameter:!1},{name:"word_count",acceptsType:["string"],returnsType:["number"],description:"Returns the number of words in the string.",docLink:"https://statamic.dev/modifiers/word_count",parameters:[],canBeParameter:!1},{name:"add_slashes",acceptsType:["string"],returnsType:["string"],description:"Adds slashes before characters that need to be escaped.",docLink:"https://statamic.dev/modifiers/add_slashes",canBeParameter:!1,parameters:[]}];var ZT=[{name:"console_log",acceptsType:["*"],returnsType:["null"],description:"Displays variable data in the browser's JavaScript console.",docLink:"https://statamic.dev/modifiers/console_log",parameters:[],canBeParameter:!1},{name:"decode",acceptsType:["string"],returnsType:["string"],description:"Converts all HTML entities to their applicable character codes.",docLink:"https://statamic.dev/modifiers/decode",parameters:[],canBeParameter:!1},{name:"dump",acceptsType:["*"],returnsType:["null"],description:"Displays variable data in the browser.",docLink:"https://statamic.dev/modifiers/dump",parameters:[],canBeParameter:!1},{name:"full_urls",acceptsType:["string"],returnsType:["string"],description:"Replaces root-relative URLs with absolute URLs.",docLink:"https://statamic.dev/modifiers/full_urls",parameters:[],canBeParameter:!1},{name:"repeat",acceptsType:["string"],returnsType:["string"],description:"Repeats a value a given number of times.",docLink:"https://statamic.dev/modifiers/repeat",parameters:[{name:"repeat_count",description:"The number of times to repeat the value."}],canBeParameter:!0},{name:"to_spaces",acceptsType:["string"],returnsType:["string"],description:"Converts all tabs to spaces.",docLink:"https://statamic.dev/modifiers/to_spaces",parameters:[{name:"space_count",description:"The number of spaces to replace tabs with."}],canBeParameter:!1},{name:"to_tabs",acceptsType:["string"],returnsType:["string"],description:"Converts spaces to tabs.",docLink:"https://statamic.dev/modifiers/to_tabs",parameters:[{name:"space_count",description:"The number of spaces to convert to tabs."}],canBeParameter:!1},{name:"to_json",acceptsType:["*"],returnsType:["string"],description:"Converts the data to JSON.",docLink:"https://statamic.dev/modifiers/to_json",parameters:[],canBeParameter:!1},{name:"to_bool",acceptsType:["*"],returnsType:["boolean"],description:"Converst the data to a boolean",parameters:[],canBeParameter:!1,docLink:null}];var as=class{constructor(){this.registeredModifiers=new Map;this.acceptTypedModifierReference=new Map;this.returnTypeModifierReference=new Map;this.macros=new Map;this.modifierNameCache=[]}reset(){this.modifierNameCache=[],this.registeredModifiers.clear(),this.acceptTypedModifierReference.clear(),this.returnTypeModifierReference.clear()}getRegisteredModifiers(){return this.registeredModifiers}resetMacros(){this.macros.clear()}loadCoreModifiers(){this.registerModifiers(HT),this.registerModifiers(YT),this.registerModifiers(KT),this.registerModifiers($T),this.registerModifiers(zT),this.registerModifiers(XT),this.registerModifiers(ZT),this.registerModifiers(JT),this.registerModifiers(QT)}getModifierNames(){return this.modifierNameCache}registerMacro(e){this.macros.set(e.name,e)}registerMacros(e){for(let n=0;n<e.length;n++)this.registerMacro(e[n])}hasMacro(e){if(this.macros.has(e)){let n=this.macros.get(e);return!(typeof n=="undefined"||n===null)}return!1}getMacro(e){if(this.macros.has(e)){let n=this.macros.get(e);return typeof n=="undefined"||n===null?null:n}return null}getMacroManifestingType(e){let n=this.getMacro(e);return n==null?"":n.manifestsType}getRegisteredModifier(e){return this.registeredModifiers.has(e)?this.registeredModifiers.get(e):null}getModifiersForType(e){let n=$c(e);return this.acceptTypedModifierReference.has(n)?this.acceptTypedModifierReference.get(n):[]}getProbableReturnType(e,n){return e==null||e.returnsType.length==0?"":n&&e.returnsType.includes("array")?"array":e.returnsType[0]}registerModifiers(e){var n,r;for(let i=0;i<e.length;i++){let s=e[i];this.modifierNameCache.push(s.name);for(let o=0;o<s.acceptsType.length;o++){let a=s.acceptsType[o];this.acceptTypedModifierReference.has(a)==!1&&this.acceptTypedModifierReference.set(a,[]),(n=this.acceptTypedModifierReference.get(a))==null||n.push(s)}for(let o=0;o<s.returnsType.length;o++){let a=s.returnsType[o];this.returnTypeModifierReference.has(a)==!1&&this.returnTypeModifierReference.set(a,[]),(r=this.returnTypeModifierReference.get(a))==null||r.push(s)}this.registeredModifiers.set(e[i].name,e[i])}}registerModifier(e){let n=[];n.push(e),this.registerModifiers(n)}getModifier(e){if(this.registeredModifiers.has(e)==!1)return null;let n=this.registeredModifiers.get(e);return typeof n=="undefined"||n==null?null:n}hasModifier(e){if(!this.registeredModifiers.has(e))return!1;let n=this.registeredModifiers.get(e);return!(typeof n=="undefined"||n==null)}};as.instance=null;(typeof as.instance=="undefined"||as.instance==null)&&(as.instance=new as,as.instance.loadCoreModifiers());var xe=as;var xd=class{constructor(e){this.parameterModifiers=[];this.hasMixedModifierStyles=!1;this.modifierNames=[];this.node=e}isPaired(){return this.node instanceof U?this.node.isPaired():!1}getModifierValue(e){var n;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let i=this.node.modifierChain.modifierChain[r];if(((n=i.nameNode)==null?void 0:n.name)==e)return i.valueNodes.length>0?i.valueNodes[0].content:""}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let i=this.parameterModifiers[r];if(i.name==e)return i.value}return null}getModifierRange(e){var n;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let i=this.node.modifierChain.modifierChain[r];if(((n=i.nameNode)==null?void 0:n.name)==e)return i.valueNodes.length>0?{start:i.startPosition,end:i.endPosition}:null}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let i=this.parameterModifiers[r];if(i.name==e&&i.namePosition!=null&&i.valuePosition!=null)return{start:i.namePosition.start,end:i.valuePosition.end}}return null}getLastManifestedModifierRuntimeType(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null){if(this.node.modifierChain.lastManifestedModifier.parameters.length>0&&this.node.modifierChain.lastManifestedModifier.modifier!=null&&xe.instance!=null){let e=this.node.modifierChain.lastManifestedModifier.modifier;return xe.instance.getProbableReturnType(e,this.isPaired())}return"*"}if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null&&xe.instance!=null){let r=e[n].modifier;return xe.instance.getProbableReturnType(r,this.isPaired())}}return"*"}getLastManifestedModifierValue(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null)return this.node.modifierChain.lastManifestedModifier.parameters.length>0?this.node.modifierChain.lastManifestedModifier.parameters[0].value:"";if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null)return e[n].value}return""}getLastManifestedModifier(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastModifier!=null)return this.node.modifierChain.lastModifier;if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null)return e[n].modifier}return null}hasModifiers(){return this.node.modifierChain==null||this.node.modifierChain.modifierChain.length==0?this.parameterModifiers.length>0:!0}hasParameterModifiers(){return this.parameterModifiers.length>0}hasShorthandModifiers(){return this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0}hasModifier(e){return this.modifierNames.includes(e)}};function Ed(t){let e=[];return t.forEach(n=>{n instanceof U?e.push(n):n instanceof qt&&n.logicBranches.length>0&&n.logicBranches.forEach(r=>{if(r.head!=null){let i=r.head;i.originalNode!=null?e.push(i.originalNode):e.push(i)}})}),e}var cu=Sb(),CO=Cb(),X=class{static normalizeLineEndings(e,n=`
`){return e.replace(/\r?\n/g,n)}static split(e){return e.split("")}static substring(e,n,r){return e.substr(n,r)}static ctypeSpace(e){return cu.ctype_space(e)}static ctypeAlpha(e){return cu.ctype_alpha(e)}static ctypeDigit(e){return cu.ctype_digit(e)}static ctypePunct(e){return cu.ctype_punct(e)}static trimLeft(e,n="\\s"){return e.replace(new RegExp("^["+n+"]+"),"")}static trimRight(e,n="\\s"){return e.replace(new RegExp("["+n+"]+$"),"")}static isNumeric(e){return CO(e)}static substringCount(e,n){let r=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return(e.match(new RegExp(r,"gi"))||[]).length}};var wd=class{constructor(e){this.node=e}findParentWithName(e){let n=this.node.getParser();return n==null?null:n.structure.findParentWithName(e,this.node)}};var xb=K(uu());var M=class{constructor(){this.node=null;this.errorCode="";this.message="";this.level=0;this.range=null}hash(){var n,r,i,s;let e="";return this.node!=null&&(e=((r=(n=this.node.endPosition)==null?void 0:n.offset)!=null?r:0).toString()+"|"+((s=(i=this.node.startPosition)==null?void 0:i.offset)!=null?s:0).toString()+"|"),xb.Md5.hashStr(e+"|"+this.errorCode)}static makeSyntaxError(e,n,r,i){i==null&&(i=0);let s=new M;return s.errorCode=e,s.node=n,s.message=r,s.level=i,s}};var P=class{};P.TYPE_EXPECTING_OPERAND="ANTLR_001",P.TYPE_UNEXPECTED_END_OF_INPUT="ANTLR_002",P.TYPE_RUNTIME_TYPE_MISMATCH="ANTLR_003",P.TYPE_RUNTIME_DIVIDE_BY_ZERO="ANTLR_004",P.TYPE_RUNTIME_UNKNOWN_LANG_OPERATOR="ANTLR_005",P.TYPE_RUNTIME_UNEXPECTED_STACK_CONDITION="ANTLR_006",P.TYPE_RUNTIME_PARSE_VALUE_VIOLATION="ANTLR_007",P.TYPE_PARSE_UNCLOSED_CONDITIONAL="ANTLR_008",P.TYPE_PARSE_EMPTY_CONDITIONAL="ANTLR_009",P.TYPE_PARSE_UNPAIRED_CONDITIONAL="ANTLR_008",P.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE="ANTLR_009",P.TYPE_INCOMPLETE_ANTLERS_REGION="ANTLR_010",P.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION="ANTLR_011",P.TYPE_ILLEGAL_VARPATH_RIGHT="ANTLR_012",P.TYPE_ILLEGAL_DOTVARPATH_RIGHT="ANTLR_013",P.TYPE_ILLEGAL_VARPATH_SUBPATH_START="ANTLR_014",P.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT="ANTLR_015",P.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR="ANTLR_016",P.TYPE_ILLEGAL_VARIABLE_NAME="ANTLR_017",P.TYPE_UNSET_MODIFIER_DETAILS="ANTLR_018",P.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS="ANTLR_019",P.TYPE_MODIFIER_UNEXPECTED_VALUE="ANTLR_020",P.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST="ANTLR_021",P.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR="ANTLR_022",P.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH="ANTLR_023",P.TYPE_RECURSIVE_UNPAIRED_NODE="ANTLR_024",P.TYPE_RECURSIVE_NODE_INVALID_POSITION="ANTLR_025",P.TYPE_NO_PARSE_UNASSOCIATED="ANTLR_026",P.TYPE_RECURSIVE_NODE_UNASSOCIATED_PARENT="ANTLR_027",P.TYPE_LOGIC_GROUP_NO_END="ANTLR_028",P.TYPE_LOGIC_GROUP_NO_START="ANTLR_029",P.TYPE_UNEXPECTED_BRANCH_SEPARATOR="ANTLR_030",P.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE="ANTLR_031",P.TYPE_UNEXPECTED_MODIFIER_SEPARATOR="ANTLR_032",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS="ANTLR_033",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE="ANTLR_034",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER="ANTLR_035",P.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE="ANTLR_036",P.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS="ANTLR_037",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SEMANTIC_GROUP="ANTLR_038",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP="ANTLR_039",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP="ANTLR_040",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH="ANTLR_041",P.TYPE_UNEXPECTED_EOI_WHILE_EXITING_TERNARY_GROUP="ANTLR_042",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET="ANTLR_043",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION="ANTLR_044",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END="ANTLR_045",P.TYPE_RUNTIME_UNKNOWN_LIBRARY="ANTLR_046",P.TYPE_RUNTIME_LIBRARY_BAD_METHOD_CALL="ANTLR_047",P.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS="ANTLR_048",P.TYPE_UNEXPECTED_FACTORIAL_OPERAND="ANTLR_049",P.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR="ANTLR_050",P.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED="ANTLR_051",P.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT="ANTLR_052",P.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP="ANTLR_053",P.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT="ANTLR_054",P.TYPE_LIBRARY_CALL_NO_ARGS_PROVIDED="ANTLR_055",P.TYPE_LIBRARY_CALL_MISSING_REQUIRED_FORMAL_ARG="ANTLR_056",P.TYPE_LIBRARY_CALL_RUNTIME_TYPE_MISMATCH="ANTLR_057",P.TYPE_LIBRARY_CALL_UNEXPECTED_ARG_RESOLVE_FAULT="ANTLR_058",P.TYPE_LIBRARY_CALL_TOO_MANY_ARGUMENTS="ANTLR_059",P.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD="ANTLR_060",P.TYPE_INVALID_NAMED_ARG_IDENTIFIER="ANTLR_061",P.TYPE_LIBRARY_CALL_INVALID_ARGUMENT_NAME="ANTLR_062",P.TYPE_RUNTIME_ATTEMPT_TO_OVERWRITE_LOADED_LIBRARY="ANTLR_063",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP="ANTLR_064",P.TYPE_EXPECTING_ARGUMENT_GROUP="ANTLR_065",P.TYPE_RUNTIME_PROTECTED_LIBRARY_ACCESS_VIOLATION="ANTLR_066",P.TYPE_RUNTIME_FATAL_UNPAIRED_LOOP_END="ANTLR_067",P.TYPE_UNEXPECTED_OPERATOR="ANTLR_068",P.TYPE_OPERATOR_INVALID_ON_RIGHT="ANTLR_069",P.TYPE_INVALID_ASSIGNMENT_LOOP_PAIR="ANTLR_070",P.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP="ANTLR_071",P.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND="ANTLR_072",P.TYPE_QUERY_UNSUPPORTED_VALUE_TYPE="ANTLR_073",P.TYPE_UNEXPECTED_RUNTIME_RESULT_FOR_ORDER_BY_CLAUSE="ANTLR_074",P.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP="ANTLR_075",P.TYPE_INVALID_ORDER_BY_NAME_VALUE="ANTLR_076",P.TYPE_INVALID_ORDER_BY_SORT_VALUE="ANTLR_077",P.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY="ANTLR_78",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY="ANTLR_079",P.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE="ANTLR_080",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP="ANTLR_081",P.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP="ANTLR_082",P.TYPE_UNEXPECTED_SWITCH_START_VALUE="ANTLR_083",P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE="ANTLR_084",P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_SEMANTIC_VALUE="ANTLR_085",P.TYPE_SWITCH_DEFAULT_MUST_BE_LAST="ANTLR_086",P.TYPE_PARSER_INVALID_SWITCH_TOKEN="ANTLR_087",P.TYPE_ORDER_BY_INVALID_RETURN_TYPE="ANTLR_088",P.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED="ANTLR_089",P.TYPE_PLUCK_INTO_MISSING_VARIABLE_TARGET="ANTLR_090",P.TYPE_PLUCK_INTO_INVALID_VARIABLE_TARGET="ANTLR_091",P.TYPE_PLUCK_INTO_NO_PREDICATE="ANTLR_092",P.TYPE_PLUCK_INTO_INVALID_PREDICATE_VALUE="ANTLR_093",P.TYPE_PLUCK_INTO_EMPTY_LOGIC_GROUP="ANTLR_094",P.TYPE_PLUCK_INTO_INVALID_NUMBER_OF_TUPLE_VARIABLES="ANTLR_095",P.TYPE_PLUCK_INTO_UNKNOWN_ALIAS_VARNAME="ANTLR_096",P.TYPE_PLUCK_INTO_UNEXPECTED_EMPTY_T_LOGIC_GROUP="ANTLR_097",P.TYPE_PLUCK_INTO_REFERENCE_TYPE_DYNAMIC="ANTLR_098",P.TYPE_PLUCK_INTO_REFERENCE_AMBIGUOUS="ANTLR_099",P.TYPE_RUNTIME_ASSIGNMENT_TO_NON_VAR="ANTLR_100",P.TYPE_ARR_MAKE_MISSING_TARGET="ANTLR_101",P.TYPE_ARR_MAKE_UNEXPECTED_TYPE="ANTLR_102",P.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE="ANTLR_103",P.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE="ANTLR_104",P.TYPE_ARR_UNEXPECT_ARG_SEPARATOR="ANTLR_105",P.TYPE_ARR_KEY_PAIR_MISSING_KEY="ANTLR_106",P.RUNTIME_PROTECTED_VAR_ACCESS="ANTLR_107",P.RUNTIME_PROTECTED_TAG_ACCESS="ANTLR_108",P.RUNTIME_PROTECTED_MODIFIER_ACCESS="ANTLR_109",P.TYPE_INCOMPLETE_PHP_EVALUATION_REGION="ANTLR_110",P.RUNTIME_PHP_NODE_WHEN_PHP_DISABLED="ANTLR_111",P.RUNTIME_PHP_NODE_USER_CONTENT_TAG="ANTLR_112",P.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST="ANTLR_113",P.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST="ANTLR_114",P.TYPE_MISSING_BODY_TUPLE_LIST="ANTLR_115",P.TYPE_MISSING_NAMES_TUPLE_LIST="ANTLR_116",P.TYPE_VALUE_NAME_LENGTH_MISMATCH_TUPLE_LIST="ANTLR_117",P.TYPE_INVALID_TUPLE_LIST_NAME_TYPE="ANTLR_118",P.TYPE_INVALID_MANIFESTED_NAME_GROUP="ANTLR_119",P.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP="ANTLR_120",P.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE="ANTLR_121",P.TYPE_RUNTIME_BAD_METHOD_CALL="ANTLR_122",P.TYPE_METHOD_CALL_MISSING_ARG_GROUP="ANTLR_123",P.TYPE_INVALID_METHOD_CALL_ARG_GROUP="ANTLR_124",P.TYPE_METHOD_CALL_MISSING_METHOD="ANTLR_125",P.TYPE_MODIFIER_NOT_FOUND="ANTLR_126",P.TYPE_RUNTIME_GENERAL_FAULT="ANTLR_127",P.TYPE_MODIFIER_INCORRECT_VALUE_POSITION="ANTLR_128",P.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX="ANTLR_129",P.TYPE_RUNTIME_ATTEMPTING_TO_RENDER_OBJECT_AS_STRING="ANTLR_130",P.TYPE_UNPAIRED_CLOSING_TAG="ANTLR_131",P.PARSER_CANNOT_PARSE_PATH_RECURSIVE="ANTLR_200",P.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR="ANTLR_201",P.LINT_UNKNOWN_PARAMETER="ANTLR_500",P.LINT_GENERAL_INVALID_PARAMETER_CONTENTS="ANTLR_501",P.LINT_PARAMETER_CONTENT_INVALID_INTEGER="ANTLR_502",P.LINT_PARAMETER_CONTENT_INVALID_BOOLEAN="ANT LR_503",P.LINT_PAGINATE_INVALID_VALUE="ANTLR_504",P.LINT_DEBUG_DATA_EXPOSED="ANTLR_505",P.LINT_DOUBLE_COLON_IN_TAG_IDENTIFIER="ANTLR_506",P.LINT_MIXED_MODIFIERS="ANTLR_507",P.LINT_MODIFIER_UNEXPECTED_TYPE="ANTLR_508",P.LINT_REMOVE_RELATE_TAG="ANTLR_509",P.LINT_SET_PRODUCES_RUNTIME_ERROR="ANTLR_510",P.LINT_FRONT_MATTER_EMPTY_DOCUMENT="ANTLR_511",P.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH="ANTLR_512",P.LINT_INVALID_FRONT_MATTER="ANTLR_513",P.LINT_DUPLICATE_CODE="ANTLR_514",P.LINT_VERSION_NOT_COMPATIBLE="ANTLR_515",P.LINT_INTERLEAVED_TAG_PAIRS="ANTLR_516",P.LINT_MISSING_REQUIRED_PARAMETER="ANTLR_517",P.LINT_POSSIBLE_PARTIAL_RECURSION="ANTLR_518";var tt=class{static distance(e,n){return e.endPosition==null||n.startPosition==null?this.DistMax:n.startPosition.index-e.endPosition.index}static getTrueName(e){var n,r,i,s;return e.originalNode!=null?(r=(n=e.originalNode.name)==null?void 0:n.name)!=null?r:"":(s=(i=e.name)==null?void 0:i.name)!=null?s:""}static getSimpleVarName(e){return e.variableReference!=null&&e.variableReference.pathParts.length==1&&e.variableReference.pathParts[0]instanceof Wn?e.variableReference.pathParts[0].name:""}static isVariableMatching(e,n){return e instanceof te?e.name==n:!1}static mergeVarContentLeft(e,n,r){return r.mergeRefName=r.name,r.endPosition=n.endPosition,r.name=r.name+e,r}static mergeVarContentRight(e,n,r){return r.mergeRefName=r.name,r.startPosition=n.startPosition,r.name=e+r.name,r}static mergeVarRight(e,n){return n.mergeRefName=n.name,n.startPosition=e.startPosition,n.name=e.name+n.name,n}static getUnrefName(e){return X.trimLeft(e,":.")}};tt.DistMax=65e3;var ur=class{static isConditionalStructure(e){var r,i;if(e.isComment)return!1;let n=(i=(r=e.name)==null?void 0:r.name)!=null?i:"";return n=="if"||n=="elseif"||n=="else"}static requiresClose(e){var r,i;let n=(i=(r=e.name)==null?void 0:r.name)!=null?i:"";return n=="elseif"||n=="else"?e.isClosedBy==null:!(e.isClosingTag||e.isClosedBy!=null)}static getValidClosingPairs(e){return e=="if"||e=="elseif"?ur.conditionClosingPairs:[]}static findClosestStructurePair(e,n,r){var c,u,f,m,p,d,h,y;let i=[],s=e.length,o=new Map,a=null;i.push({node:n,index:r});for(let _=0;_<s;_+=1){let T=e[_];if(T instanceof U){let S=(u=(c=T.name)==null?void 0:c.name)!=null?u:"";if(T.isClosingTag&&S=="if"){o.set(_,_);continue}else if(S=="elseif"||S=="else"){o.set(_,_);continue}}}let l=o.size;for(;i.length>0;){let _=i.pop();if(_==null)continue;if(_.node._conditionParserAbandonPairing)break;let T=_.node,S=ur.getValidClosingPairs((m=(f=T.name)==null?void 0:f.name)!=null?m:""),g=_.index,E=!1;if(l>50&&a!=null){for(let[H,B]of o)if(H>g){g=H;break}}for(let H=g;H<s;H++){let B=e[H];if(B instanceof U&&ur.isConditionalStructure(B)){if(ur.requiresClose(B)){i.push(_),i.push({node:B,index:H+1}),E=!0;break}if(T.isClosedBy!=null)continue;let ae=(d=(p=B.name)==null?void 0:p.name)!=null?d:"",ce=!1;if(B.ref==0&&(B.isClosingTag&&ae=="if"||S.includes(ae))&&(ce=!0),B.refId==T.refId&&(ce=!1),ce){a=H,o.delete(H),T.isClosedBy=B,B.isOpenedBy=T,B.ref+=1,E=!0;break}}}if(!E&&T instanceof U){let H=(y=(h=T.name)==null?void 0:h.name)!=null?y:"";if((H=="elseif"||H=="else")&&T.isOpenedBy==null){let B='Unpaired "'+tt.getTrueName(T)+'" control structure.';T.isInterpolationNode&&(B+=" Tag pairs are not supported within Antlers tags."),T.pushError(M.makeSyntaxError(P.TYPE_PARSE_UNPAIRED_CONDITIONAL,T,B)),T._conditionParserAbandonPairing=!0}if(T.isClosedBy==null&&ur.requiresClose(T)){let B='Unclosed "'+tt.getTrueName(T)+'" control structure.';T.isInterpolationNode&&(B+=" Tag pairs are not supported within Antlers tags."),T.pushError(M.makeSyntaxError(P.TYPE_PARSE_UNCLOSED_CONDITIONAL,T,B)),T._conditionParserAbandonPairing=!0}}}}static pairConditionals(e){for(let n=0;n<e.length;n+=1){let r=e[n];r instanceof U&&ur.isConditionalStructure(r)&&ur.requiresClose(r)&&ur.findClosestStructurePair(e,r,n+1)}return e.forEach(n=>{var r,i;if(n instanceof U&&ur.isConditionalStructure(n)){let s=(i=(r=n.name)==null?void 0:r.name)!=null?i:"";if((s=="elseif"||s=="else")&&n.isOpenedBy==null){n.pushError(M.makeSyntaxError(P.TYPE_PARSE_UNPAIRED_CONDITIONAL,n,'Unpaired "'+tt.getTrueName(n)+'" control structure.'));return}if(n.isClosedBy==null&&ur.requiresClose(n)){n.pushError(M.makeSyntaxError(P.TYPE_PARSE_UNCLOSED_CONDITIONAL,n,"Unclosed "+tt.getTrueName(n)+" control structure."));return}}}),e}},On=ur;On.conditionClosingPairs=["elseif","else"];function Ln(t,e){return e==null&&(e="s"),t.replace(new RegExp("^["+e+"]+"),"")}function Ve(t,e,n){return t.replace(new RegExp(e,"g"),n)}function Lr(t,e){return e==null&&(e="s"),t.replace(new RegExp("["+e+"]+$"),"")}var $=class{constructor(){this.refId=null;this.index=0;this.parent=null;this.content="";this.rawLexContent="";this.sourceContent="";this.startPosition=null;this.endPosition=null;this.modifierChain=null;this.originalAbstractNode=null;this.positionContexts=[];this.addedContexts=new Map;this.isVirtual=!0;this.isPartOfMethodChain=!1;this.isVirtualGroupMember=!1;this.isVirtualGroupOperatorResolve=!1;this.isSwitchGroupMember=!1;this.isListGroupMember=!1;this.producesVirtualStatementTerminator=!1;this.convertedToOperator=!1;this.scopeVariable=null;this.currentScope=null;this.manifestType="";this.scopeName=null;this.sourceType="";this.runtimeType=null;this.modifiers=new xd(this);this.prev=null;this.next=null;this.methodTarget=null;this.libraryTarget=null;this.antlersErrors=[];this.parser=null;this.refId=Ve(os(),"-","_")}getContexts(){return this.positionContexts}addContext(e){this.addedContexts.has(e.refId)==!1&&(this.addedContexts.set(e.refId,!0),this.positionContexts.push(e))}getRange(){if(this.originalAbstractNode!=null)return this.originalAbstractNode.getRange();if(this.startPosition==null||this.endPosition==null)return yl.Empty;let e=new yl;return e.start=this.startPosition,e.end=this.endPosition,e}withParser(e){this.parser=e}getParser(){return this.parser}pushError(e){this.parent!=null&&this.parent.pushError(e),this.antlersErrors.push(e),this.parent==null&&this.parser!=null&&this.parser.pushError(e)}mergeErrors(e){e.forEach(n=>{n.node==null&&(n.node=this),this.antlersErrors.push(n)})}getErrors(){return this.antlersErrors}innerContent(){return this.content}rawContent(){return this.content}},Ld=class extends ${constructor(){super(...arguments);this.head=null;this.tail=null;this.nodes=[]}},qt=class extends ${constructor(){super(...arguments);this.logicBranches=[];this.chain=[]}},U=class extends ${constructor(){super(...arguments);this.isNodeAbanonded=!1;this.isComment=!1;this.isTagNode=!1;this.isConditionNode=!1;this.runtimeContent="";this.name=null;this.pathReference=null;this.isClosingTag=!1;this.isInterpolationNode=!1;this.isOpenedBy=null;this.isClosedBy=null;this.isSelfClosing=!1;this.children=[];this.runtimeNodes=[];this.parsedRuntimeNodes=[];this.hasParsedRuntimeNodes=!1;this.parameters=[];this.hasParameters=!1;this.contentOffset=null;this.cachedContent=null;this.cachedInnerContent=null;this.hasRecursiveNode=!1;this.recursiveReference=null;this.rawStart="";this.rawEnd="";this.originalNode=null;this.interpolationRegions=new Map;this.processedInterpolationRegions=new Map;this.hasProcessedInterpolationRegions=!1;this.ref=0;this.contentStartRelativeIndex=null;this.antlersNodeIndex=0;this.nameStartsOn=null;this.nameEndsOn=null;this.nameMethodPartStartsOn=null;this.structure=new wd(this);this.mustClose=!1;this.reference=null;this._conditionParserAbandonPairing=!1;this._isEndVirtual=!1}getOriginalContent(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.isClosedBy!=null?this.isClosedBy.startPosition==null||this.isClosedBy.endPosition==null?"":this.parser.getText(this.startPosition.index,this.isClosedBy.endPosition.index+1):this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getNodeDocumentText(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getInnerDocumentText(){if(this.startPosition==null||this.endPosition==null||this.parser==null)return"";if(this.isClosedBy==null)return this.getNodeDocumentText();let e=this.isClosedBy.startPosition;return e==null?"":this.parser.getText(this.endPosition.index+1,e.index)}nodeAtIndex(e){if(this.runtimeNodes.length==0)return null;for(let n=0;n<this.runtimeNodes.length;n++)if(this.runtimeNodes[n].index==e)return this.runtimeNodes[n];return null}getDepthCount(){if(this.parent==null)return 1;let e=this.parent,n=1;for(;e!=null;){if(n+=1,e.parent===e){e=null;break}e=e.parent}return n}isEmpty(){return this.content.trim().length==0}nameMatches(e){return this.name==null?!1:this.name.content==e}copyBasicDetails(){return this.copyBasicDetailsTo(new U)}copyBasicDetailsTo(e){return e.refId=this.refId,e.isComment=this.isComment,e.isTagNode=this.isTagNode,e.children=this.children,e.parameters=this.parameters,e.isClosingTag=this.isClosingTag,e.rawStart=this.rawStart,e.rawEnd=this.rawEnd,e.startPosition=this.startPosition,e.endPosition=this.endPosition,e}id(){return this.refId}innerContent(){return this.cachedInnerContent==null&&(this.cachedInnerContent=this.content.replace('"','\\"')),this.cachedInnerContent}resetContentCache(){this.cachedContent=null,this.cachedInnerContent=null}hasMethodPart(){return this.name==null?!1:this.name.getMethodName()!=null}runtimeName(){return this.name==null?"":this.name.getCompoundTagName()}getTagName(){return this.name==null?"":this.name.name}getNameContent(){return this.name==null?"":this.name.content}getMethodNameValue(){if(this.name==null)return"";let e=this.name.getMethodName();return e!=null?e:""}methodIsEmptyOrMatches(e){return this.getMethodNameValue()==e}hasParameter(e){return this.findParameter(e)!=null}hasParameterWithValue(e,n){let r=this.findParameter(e);return r==null?!1:r.value==n}findParameterValue(e,n){let r=this.findParameter(e);return r==null?n:r.value}findParameterValueOrNull(e){let n=this.findParameter(e);return n==null?null:n.value}findParameter(e){if(this.parameters.length==0)return null;for(let n=0;n<this.parameters.length;n++)if(this.parameters[n].name==e)return this.parameters[n];return null}findAnyParameter(e){for(let n=0;n<e.length;n++){let r=this.findParameter(e[n]);if(r!=null)return r}return null}getContentRelativeStartIndex(){if(this.contentStartRelativeIndex==null){let e=this.content.split("");for(let n=0;n<e.length;n++)if(!X.ctypeSpace(e[n])){this.contentStartRelativeIndex=n;break}this.contentStartRelativeIndex==null&&(this.contentStartRelativeIndex=e.length),this.contentStartRelativeIndex+=this.rawStart.length}return this.contentStartRelativeIndex}getContentAfterName(){let e=0;return this.nameEndsOn!=null&&(e=this.nameEndsOn.char-this.rawStart.length-1),this.content.substring(e)}getContent(){if(this.cachedContent==null)if(this.isComment)this.cachedContent=this.content,this.contentOffset=this.startPosition;else if(this.isTagNode){let e=this.content;e=X.trimLeft(e);let n=0;if(this.name!=null&&(n=this.name.compound.length),this.parameters.length>0){let o=0,a=this.parameters[0];a.startPosition!=null&&(o=a.startPosition.index-1);let l=e,c=l.trimLeft(),u=l.length-c.length,f=n;e=e.substr(0,o)}let r=e.trimLeft(),i=e.length-r.length,s=n+i+2;if(this.parser!=null){let o=0;this.startPosition!=null&&(o=this.startPosition.offset),this.contentOffset==this.parser.positionFromOffset(o+s,0)}this.name!=null?this.name.name=="if"||this.name.name=="elseif"||this.name.name=="unless"||this.name.name=="elseunless"?(e=" "+e.trimLeft(),this.cachedContent=e.substr(this.name.compound.length+1)):this.cachedContent=e:this.cachedContent=e}else if(this.parameters.length>0){let e=this.parameters[0],n=0;e.startPosition!=null&&(n=e.startPosition.index-1),this.contentOffset=this.startPosition,this.cachedContent=this.content.substr(0,n)}else this.contentOffset=this.startPosition,this.cachedContent=this.content;return this.cachedContent}relativePositionFromOffset(e,n){var r,i;return this.parser==null?null:this.parser.positionFromOffset(((i=(r=this.contentOffset)==null?void 0:r.offset)!=null?i:0)+e,n)}getInterpolationNode(e){if(this.processedInterpolationRegions.has(e)){let n=this.processedInterpolationRegions.get(e);if(n.length>0&&n[0]instanceof U)return n[0]}return null}_lexerRelativeOffset(e,n=null){var o,a;let r=e;if(n!=null&&(r=n),this.parser==null){let l=new en;return l.index=e,l.offset=e,l}let i=e+this.rawStart.length+((a=(o=this.startPosition)==null?void 0:o.index)!=null?a:0);return this.isTagNode&&this.nameStartsOn!=null&&(i=this.nameStartsOn.index+e,On.isConditionalStructure(this)||(i-=this.rawStart.length)),this.parser.positionFromOffset(i,i,!0)}relativeOffset(e,n=null){var o,a;let r=e;if(n!=null&&(r=n),this.parser==null){let l=new en;return l.index=e,l.offset=e,l}let i=e+this.rawStart.length+((a=(o=this.startPosition)==null?void 0:o.index)!=null?a:0);return this.parser.positionFromOffset(i,i,!0)}isPaired(){return!(this.isClosedBy==null||this.isSelfClosing)}rawContent(){return this.rawStart+this.content+this.rawEnd}getTrueRuntimeNodes(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRuntimeNodes():this.runtimeNodes}getTrueRawContent(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRawContent():this.rawContent()}getTrueNode(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueNode():this}getStructuralChildren(){return this.isClosedBy!=null?Ed(this.children.slice(0,-1)):Ed(this.children)}findParentOfType(e){return this.parent==null?null:this.parent instanceof U?this.parent.name!=null&&e.includes(this.parent.getTagName())?this.parent:this.parent.findParentOfType(e):null}},yn=class extends U{static makeWithStartPosition(e){let n=new yn;return n.startPosition=e,n.endPosition=e,n}},ut=class extends yn{},Dn=class extends U{constructor(){super(...arguments);this.recursiveParent=null;this.isNestedRecursive=!1}},Ys=class extends U{constructor(){super(...arguments);this.isEchoNode=!1}},Tl=class extends yn{},Dd=class extends yn{},ui=class extends U{constructor(){super(...arguments);this.isNoParseRegion=!1}},Ks=class extends ${constructor(){super(...arguments);this.modifier=null;this.isModifierParameter=!1;this.nameDelimiter='"';this.isVariableReference=!1;this.name="";this.value="";this.interpolations=[];this.parent=null;this.blockPosition=null;this.namePosition=null;this.valuePosition=null}containsSimpleValue(){return this.hasInterpolations()==!1&&this.isVariableReference==!1}hasInterpolations(){return this.interpolations.length>0}getArrayValue(){return this.value.split("|")}getValue(){return this.value}},bl=class{constructor(){this.modifierTarget=null;this.modifierChain=[];this.startPosition=null;this.endPosition=null;this.lastManifestedModifier=null;this.lastModifier=null}updateValues(){if(this.modifierChain.length==0)this.startPosition=null,this.endPosition=null;else{let e=this.modifierChain[0],n=this.modifierChain[this.modifierChain.length-1];this.startPosition=e.startPosition,this.endPosition=n.endPosition}}},Ko=class extends ${constructor(){super(...arguments);this.modifier=null;this.methodStyleArguments=null;this.nameNode=null;this.name="";this.valueNodes=[];this.parameters=[]}getParameterValues(){let e=[];return this.parameters.forEach(n=>{e.push(n.value)}),e}},vl=class extends ${constructor(){super(...arguments);this.order=0;this.name=null;this.directionNode=null}},Md=class extends ${constructor(){super(...arguments);this.value=""}},Dr=class extends ${},fr=class extends ${},Mr=class extends ${},Hn=class extends ${},Yn=class extends ${},fi=class extends ${},ls=class extends ${constructor(){super(...arguments);this.repeat=1}},pi=class extends ${},Kn=class extends ${},Tn=class extends ${},kr=class extends ${},Fr=class extends ${},$n=class extends ${},qr=class extends ${},Vr=class extends ${},di=class extends ${},bn=class extends ${},pr=class extends ${},Fi=class extends ${},Br=class extends ${},jr=class extends ${},Ur=class extends ${},Gr=class extends ${},Wr=class extends ${},Hr=class extends ${},qi=class extends ${},Yr=class extends ${},nn=class extends ${},$s=class extends ${constructor(){super(...arguments);this.orderClauses=[]}},Nt=class extends ${},vn=class extends ${},Nl=class extends ${constructor(){super(...arguments);this.left=null;this.right=null}},Nn=class extends ${constructor(){super(...arguments);this.isTenaryBranchSeparator=!1}},Kr=class extends ${},dr=class extends ${},rn=class extends ${},$r=class extends ${},mi=class extends ${},mr=class extends ${},Pn=class extends ${},hi=class extends ${},Vt=class extends ${},Kt=class extends ${},$o=class extends ${constructor(){super(...arguments);this.values=[];this.isNamedNode=!1;this.parsedName=null}},Le=class extends ${constructor(){super(...arguments);this.start=null;this.end=null;this.nodes=[];this.scopeOperator=null}},zo=class extends ${constructor(){super(...arguments);this.condition=null;this.expression=null}},zs=class extends ${constructor(){super(...arguments);this.cases=[]}},kd=class extends ${constructor(){super(...arguments);this.left=null;this.right=null}},Vi=class extends ${constructor(){super(...arguments);this.nodes=[]}},Pl=class extends ${constructor(){super(...arguments);this.head=null;this.truthBranch=null;this.falseBranch=null}},It=class extends ${},Et=class extends ${constructor(){super(...arguments);this.nodes=[];this.separatorToken=null}},hr=class extends Le{constructor(){super(...arguments);this.scope=null}extract(){let e=null;this.scope!=null&&(e=this.scope.name);let n=this.nodes[0];return[e,n.nodes]}},Bi=class extends hr{constructor(){super(...arguments);this.alias=null}},Xo=class extends ${constructor(){super(...arguments);this.args=[];this.hasNamedArguments=!1;this.numberOfNamedArguments=0}},zr=class extends ${},Fd=class extends ${};var cs=class extends ${constructor(){super(...arguments);this.libraryName="";this.methodName="";this.arguments=null}},dt=class extends ${},$t=class extends ${constructor(){super(...arguments);this.method=null;this.args=null}},Bt=class extends ${constructor(){super(...arguments);this.name=""}},jt=class extends ${constructor(){super(...arguments);this.value="";this.name=""}},fu=class extends ${constructor(){super(...arguments);this.name=null;this.value=null}},Il=class extends ${constructor(){super(...arguments);this.name=null;this.value=null}},wt=class extends ${constructor(){super(...arguments);this.value=null}},yt=class extends ${constructor(){super(...arguments);this.value="";this.sourceTerminator=""}},te=class extends ${constructor(){super(...arguments);this.name="";this.mergeRefName="";this.variableReference=null;this.interpolationNodes=[];this.isInterpolationReference=!1}},qd=class extends ${constructor(){super(...arguments);this.name=""}},Wn=class extends ${constructor(){super(...arguments);this.delimiter="";this.name="";this.isStringVar=!1;this.isFinal=!1}},us=class{constructor(){this.originalContent="";this.normalizedReference="";this.isStrictTagReference=!1;this.isStrictVariableReference=!1;this.isExplicitVariableReference=!1;this.isVariableVariable=!1;this.pathParts=[];this.isFinal=!1;this._isFromEmptyFailState=!1}clone(){let e=new us;return e.originalContent=this.originalContent,e.normalizedReference=this.normalizedReference,e.isStrictVariableReference=this.isStrictVariableReference,e.isExplicitVariableReference=this.isExplicitVariableReference,e.pathParts=this.pathParts,e.isFinal=this.isFinal,e}implodePaths(){let e=[];return this.pathParts.forEach(n=>{n instanceof Wn?e.push(n.name):n instanceof us&&e.push(n.implodePaths())}),e.join(".")}},Vd=class{constructor(e,n,r){this.target=e,this.value=n,this.operator=r}};var dP=K(Zt());var Qo=K(st());function Bd(t,e){let n=[];if(t.currentNode==null)return n;let r={start:{line:t.position.line,character:t.position.character-0},end:t.position};for(let i=0;i<e.length;i++){let s=e[i];if(!t.currentNode.hasParameter(s.name)){let o=s.name+'="$1"';n.push({label:s.name,kind:Qo.CompletionItemKind.Value,insertTextFormat:Qo.InsertTextFormat.Snippet,textEdit:Qo.TextEdit.replace(r,o),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return n}var Jo=K(st());function fs(t,e,n){return{label:t,insertText:t,kind:Jo.CompletionItemKind.Field,detail:n+": "+e}}function AO(t,e){let n="";return e.length>0&&(n=e.join(", ")),"**"+t+"** `"+n+"`  \n"}function pu(t){let e=AO(t.name,t.acceptsType),n="";if(t.parameters.length>0){let s=[];t.parameters.forEach(o=>{s.push("$"+o.name)}),n=s.join(", ")}let r="";if(t.returnsType.length==1)r=t.returnsType[0];else{let s=[];t.returnsType.forEach(o=>{s.push(o)}),r=s.join(", ")}return e+=t.description+`
`,e+="```js\n",e+="function "+t.name+"("+n+"):"+r,e+="\n```",t.docLink!=null&&t.docLink.trim().length>0&&(e+=`  

`,e+="[Documentation Reference]("+t.docLink+")"),{label:t.name,insertText:t.name,documentation:{kind:Jo.MarkupKind.Markdown,value:e},kind:Jo.CompletionItemKind.Function}}function du(t){let e=[];for(let n=0;n<t.length;n++)typeof t[n].name!="undefined"&&e.push(jd(t[n]));return e}function jd(t){let e="",n=t.name;return t.instructionText!=null&&(e=t.instructionText),t.displayName!=null&&(n=t.displayName+" ("+t.name+")"),t.blueprintName!=null&&(e.trim().length>0&&(e+=`
`),e+="Blueprint: "+t.blueprintName),t.type!=null&&(n+=": "+t.type),{label:t.name,insertText:t.name,kind:Jo.CompletionItemKind.Field,documentation:e,detail:n}}function Ee(t,e,n,r){let i="**"+t+"**  ";return i+=`
`,i+=e+"  ",i+="\n```antlers\n",i+=n,i+="\n```",r!=null&&(i+=`

`,i+="[Documentation Reference]("+r+")"),i}function D(t,e,n){let r="**"+t+"**  ";return r+=`
`,r+=e+"  ",n!=null&&(r+=`

`,r+="[Documentation Reference]("+n+")"),r}function Zo(t){let e=[];return t=="order"&&e.push("sort"),e}var Eb=["replicator","bard"];function xO(t){return{blueprintName:t.sourceName,displayName:t.name,instructionText:"",maxItems:-1,name:t.name,refFieldSetField:null,type:t.dataType,sets:null,import:null}}function mu(t){let e=[];for(let n=0;n<t.length;n++)e.push(xO(t[n]));return e}function Ud(t,e=""){return{blueprintName:"fieldset",displayName:e+t.name,instructionText:t.instructionText,maxItems:t.maxItems,name:e+t.handle,type:t.type,refFieldSetField:t,sets:t.sets,import:t.import}}function wb(t,e,n){return t=="select"&&typeof e.field.multiple!="undefined"&&e.field.multiple===!0&&(t="select_multiple"),(typeof e.field.multiple=="undefined"||n>1)&&(t=="form"?t="form_multiple":t=="sites"?t="sites_multiple":t=="taxonomies"?t="taxonomies_multiple":t=="user_groups"?t="user_groups_multiple":t=="user_roles"?t="user_roles_multiple":t=="terms"?t="terms_multiple":t=="users"?t="users_multiple":t=="structures"&&(t="structures_multiple")),t}function Ob(t){let e=[];for(let n=0;n<t.length;n++)e.push(Ud(t[n]));return e}function He(t){return[{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"order",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t}]}function Lb(t,e,n){if(typeof n=="undefined"||n===null)return;let r=t.findParameter("as"),i=t.findParameter("scope");n=n.concat(mu(He(t))),r!=null&&i!=null?e.introduceScopedAliasScope(t,i.value,r.value,n):r!=null?e.introduceAliasScope(t,r.value,n):i!=null?e.introduceDynamicScopeList(t,i.value,n):e.addBlueprintFields(t,n)}function Db(t){return[{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t},{name:"total_results",dataType:"integer",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t}]}var Xr=K(st());var ps=[{isRequired:!1,name:"from",description:"The collection name to retrieve entries from",aliases:["folder","use"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"not_from",aliases:["not_folder","dont_use"],description:"The collections to exclude when retrieving entries",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"show_unpublished",aliases:null,description:"Controls whether unpbulished entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_published",aliases:null,description:"Controls whether published entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_past",aliases:null,description:"Controls whether to display entries with a past date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"since",aliases:null,description:"Sets the minimum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"until",aliases:null,description:"Sets the maximum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the entry sort order",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",aliases:null,description:"Sets the maximum number of entries to return",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["integer"],isDynamic:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope",expectsTypes:["string"],isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets the amount that entry results should be offset by",expectsTypes:["integer"],isRequired:!1,name:"offset",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether not to paginate entry results",expectsTypes:["boolean","number"],isRequired:!1,name:"paginate",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies a name to give to a new entries array variable",expectsTypes:["string"],isRequired:!1,name:"as",isDynamic:!1},{name:"scope",aliases:null,acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Sets a prefix on all entry variables",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"locale",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the locale in which to retrieve entry content",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"redirects",aliases:["links"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Controls whether entries with redirects are returned",expectsTypes:["boolean"],isRequired:!1,isDynamic:!1}],Mb=["from","folder","use"],kb=["not_from","not_folder","dont_use"],Fb=["draft","scheduled","expired","published"];function qb(t){let e=[];if(t.project!=null){let n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position},r=t.project.getUniqueTaxonomyNames();for(let i=0;i<r.length;i++){let s=r[i],o=t.originalLeftWord+s+'="$1"';e.push({label:t.originalLeftWord+s,insertTextFormat:Xr.InsertTextFormat.Snippet,kind:Xr.CompletionItemKind.Field,textEdit:Xr.TextEdit.replace(n,o),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return e}function ea(t,e){let n=[];if(t.reference!=null){let r=t.reference,i=e.statamicProject.getBlueprintFields(r.collectionNames);typeof i!="undefined"&&i!=null&&(n=i)}return n}function Vb(t){let e=[],n=Fb.filter(r=>!t.includes(r));for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Xr.CompletionItemKind.Variable});return e}function Bb(t,e,n){let r=[],i=n.getTaxonomyTerms(e),s=i.filter(o=>!t.includes(o));for(let o=0;o<s.length;o++)r.push({label:s[o],kind:Xr.CompletionItemKind.Variable});return r}function jb(t){let e=[],n=t.getCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Xr.CompletionItemKind.Variable});return e}function ta(t,e){let n=[],r=e.getCollectionNames().filter(i=>!t.includes(i));for(let i=0;i<r.length;i++)n.push({label:r[i],kind:Xr.CompletionItemKind.Variable});return n}function hu(t){let e=[],n=t.getCollectionQueryScopes();for(let r=0;r<n.length;r++)e.push({label:n[r].name,detail:n[r].description,kind:Xr.CompletionItemKind.Variable});return e}function na(t,e){if(t.isClosingTag)return e;if(t.hasMethodPart()&&t.getMethodNameValue()!="count"&&e.addVariables(Db(t)),t.reference!=null){let n=ea(t,e);Lb(t,e,n)}return e}var Sl=K(Zt());var gu=K(st());var Gd=[{name:"is",description:"Tests if a field is equal to a value"},{name:"equals",description:"Tests if a field is equal to a value"},{name:"not",description:"Tests if a field is not equal to a value"},{name:"isnt",description:"Tests if a field is not equal to a value"},{name:"exists",description:"Tests if a field exists"},{name:"isset",description:"Tests if a field exists"},{name:"doesnt_exist",description:"Tests if a field does not exist"},{name:"is_empty",description:"Tests if a field does not exist"},{name:"null",description:"Tests if a field does not exist"},{name:"contains",description:"Tests if a field contains a value"},{name:"doesnt_contain",description:"Tests if a field does not contain a value"},{name:"in",description:"Tests if a value is in an array"},{name:"not_in",description:"Tests if an array does not contain a value"},{name:"starts_with",description:"Tests if a field starts with a value"},{name:"doesnt_start_with",description:"Tests if a field does not start with a value"},{name:"ends_with",description:"Tests if a field ends with a value"},{name:"doesnt_end_with",description:"Tests if a field does not end with a value"},{name:"gt",description:"Tests if a field is greater than a value"},{name:"lt",description:"Tests if a field is less than a value"},{name:"gte",description:"Tests if a field is greater than or equal to a value"},{name:"lte",description:"Tests if a field is less than or equal to a value"},{name:"matches",description:"Tests if a field matches a case insensitive regex"},{name:"regex",description:"Tests if a field matches a case insensitive regex"},{name:"doesnt_match",description:"Tests if a field does not match a case insensitive regex"},{name:"is_alpha",description:"Tests if a field contains only alphabetical characters"},{name:"is_numeric",description:"Tests if a field contains only numeric characters"},{name:"is_alpha_numeric",description:"Tests if a field contains only alpha-numeric characters"},{name:"is_url",description:"Tests if a field is a valid URL"},{name:"is_embeddable",description:"Tests if a field is an embeddable video URL"},{name:"is_email",description:"Tests if a field is a valid email address"},{name:"is_after",description:"Tests if a field is after a given date"},{name:"is_before",description:"Tests if a field is before a given date"}];function ds(t){let e=[],n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};for(let r=0;r<Gd.length;r++){let i=Gd[r],s=t.originalLeftWord+i.name+'="$1"';e.push({label:i.name,insertTextFormat:gu.InsertTextFormat.PlainText,kind:gu.CompletionItemKind.Field})}return e}var Ot=K(un());var Xs=class{static clear(e){this.unclosedNodes.delete(e)}static registerNodes(e,n){this.unclosedNodes.set(e,n)}static getUnclosedTags(e,n){var o,a,l;let r=[];if(this.unclosedNodes.has(e)==!1)return r;let i=this.unclosedNodes.get(e);if(i.length==0)return r;let s=n.line+1;for(let c=0;c<i.length;c++){let u=i[c];(((o=u.endPosition)==null?void 0:o.line)==s&&n.character>u.endPosition.char||s>((l=(a=u.endPosition)==null?void 0:a.line)!=null?l:0))&&r.push(u)}return r}static hasUnclosedTags(e,n){return this.unclosedNodes.has(e)==!1?!1:this.getUnclosedTags(e,n).length>0}};Xs.unclosedNodes=new Map;var Ub=["edit_url","id","last_modified","permalink","published","slug","template","url"];function ms(t){return[{name:"edit_url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"id",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"last_modified",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"permalink",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"published",dataType:"boolean",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"slug",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"template",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t}]}var zn=K(Zt()),Gb=[{label:"name",kind:zn.CompletionItemKind.Property},{label:"description",kind:zn.CompletionItemKind.Property},{label:"desc",kind:zn.CompletionItemKind.Property},{label:"entry",kind:zn.CompletionItemKind.Property},{label:"collection",kind:zn.CompletionItemKind.Property},{label:"blueprint",kind:zn.CompletionItemKind.Property},{label:"var",kind:zn.CompletionItemKind.Property},{label:"set",kind:zn.CompletionItemKind.Property},{label:"param",kind:zn.CompletionItemKind.Property},{label:"param*",kind:zn.CompletionItemKind.Property},{label:"front",kind:zn.CompletionItemKind.Property},{label:"format",kind:zn.CompletionItemKind.Property}];var _u=K(st()),EO=[{label:"if",kind:_u.CompletionItemKind.Keyword},{label:"elseif",kind:_u.CompletionItemKind.Keyword},{label:"else",kind:_u.CompletionItemKind.Keyword}],Wb=EO;var ra=K(Zt()),Hb=K(st());var Wd=class{static getCompletions(e,n){var o;let r=[],i=0;e.leftWord!=e.leftMeaningfulWord&&(i=e.leftWord.length);let s={start:{line:e.position.line,character:e.position.character-i},end:e.position};return(o=xe.instance)==null||o.getModifiersForType(n.dataType).filter(a=>a.canBeParameter).forEach(a=>{r.push({label:a.name,documentation:{kind:Hb.MarkupKind.Markdown,value:a.description},insertTextFormat:ra.InsertTextFormat.Snippet,kind:ra.CompletionItemKind.Value,textEdit:ra.TextEdit.replace(s,a.name+'="$1" '),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}),r}};var Hd=K(st()),ia=[];ia.push({label:"true",kind:Hd.CompletionItemKind.Keyword});ia.push({label:"false",kind:Hd.CompletionItemKind.Keyword});function Yb(t){let e=[];for(let n=0;n<t.expectsTypes.length;n++)t.expectsTypes[n]=="boolean"&&(e=e.concat(ia));return e}function $e(t){return[{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"value",introducedBy:t},{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"key",introducedBy:t}]}var wO={name:"array",augmentScope:(t,e)=>{e.addVariables($e(t)),e.addVariables(He(t))}},Kb=wO;var OO={name:"bard",augmentScope:(t,e)=>{e.addVariable({name:"type",dataType:"string",sourceField:null,sourceName:"*internal.bard",introducedBy:t})},injectCompletions:(t,e,n)=>[]},$b=OO;var LO={name:"form_multiple",augmentScope:(t,e)=>{e.addVariables($e(t)),e.addVariables(He(t))}},zb=LO;var DO={name:"list",augmentScope:(t,e)=>{e.addVariables($e(t)),e.addVariables(He(t))}},Xb=DO;function Qb(t){return[{name:"type",dataType:"string",sourceName:"*internal.replicator",sourceField:null,introducedBy:t}]}var MO={name:"replicator",augmentScope:(t,e)=>{e.addVariables(Qb(t)),e.addVariables(He(t))},injectCompletions:(t,e,n)=>[]},Jb=MO;var kO={name:"select_multiple",augmentScope:(t,e)=>{e.addVariables($e(t)),e.addVariables(He(t))}},Zb=kO;var FO={name:"sites_multiple",augmentScope:(t,e)=>{e.addVariables($e(t)),e.addVariables(He(t))}},ev=FO;var qO={name:"structures_multiple",augmentScope:(t,e)=>{e.addVariables($e(t)),e.addVariables(He(t))}},tv=qO;var VO={name:"table",augmentScope:(t,e)=>{e.addVariable({name:"cells",dataType:"array",sourceName:"*internal.fieldtype.table",sourceField:null,introducedBy:t})}},nv=VO;var BO={name:"tags",augmentScope:(t,e)=>{e.addVariables($e(t)),e.addVariables(He(t))}},rv=BO;function yu(t){return ms(t).concat([{name:"entries_count",dataType:"number",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"is_term",dataType:"boolean",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"taxonomy",dataType:"string",sourceName:"*internal.term",sourceField:null,introducedBy:t}])}var jO={name:"taxonomies_multiple",augmentScope:(t,e)=>{e.addVariables($e(t)),e.addVariables(He(t)),e.addVariables(yu(t))}},iv=jO;var UO={name:"terms_multiple",augmentScope:(t,e)=>{e.addVariables($e(t)),e.addVariables(He(t)),e.addVariables(yu(t))}},sv=UO;var GO={name:"user_groups_multiple",augmentScope:(t,e)=>{e.addVariables($e(t)),e.addVariables(He(t))}},ov=GO;var WO={name:"user_roles_multiple",augmentScope:(t,e)=>{e.addVariables($e(t)),e.addVariables(He(t))}},av=WO;var HO={name:"users_multiple",augmentScope:(t,e)=>{e.addVariables($e(t)),e.addVariables(He(t)),e.injectBlueprint(t,"user")}},lv=HO;var YO={name:"yaml",augmentScope:(t,e)=>{e.addVariables($e(t)),e.addVariables(He(t))}},cv=YO;var KO=[Kb,$b,zb,Xb,Jb,Zb,ev,tv,cv,nv,iv,rv,sv,lv,ov,av],uv=KO;var hs=class{constructor(){this.fieldTypes=new Map}getFieldTypes(){return this.fieldTypes}getFieldType(e){return this.fieldTypes.get(e)}registerFieldtypes(e){for(let n=0;n<e.length;n++)this.fieldTypes.set(e[n].name,e[n])}loadCoreFieldtypes(){this.registerFieldtypes(uv)}hasFieldtype(e){return this.fieldTypes.has(e)}};hs.instance=null;(typeof hs.instance=="undefined"||hs.instance==null)&&(hs.instance=new hs,hs.instance.loadCoreFieldtypes());var sa=hs;var Yd=class{static getVariableSuggestions(e,n){var i,s;let r=[];if(n.scopeVariable!=null&&n.scopeVariable.sourceField!=null&&((i=sa.instance)==null?void 0:i.hasFieldtype(n.scopeVariable.sourceField.type))){let o=(s=sa.instance)==null?void 0:s.getFieldType(n.scopeVariable.sourceField.type);o.injectCompletions!=null&&(r=o.injectCompletions(e,n.scopeVariable.sourceField,n))}return r}};var $O=["if","elseif","unless","elseunless"],zO=["else","/if"];function fv(t,e){var l,c,u,f,m,p,d,h;let n=(c=(l=t.startPosition)==null?void 0:l.line)!=null?c:-1,r=(f=(u=t.endPosition)==null?void 0:u.line)!=null?f:1,i=(p=(m=t.startPosition)==null?void 0:m.char)!=null?p:-1,s=(h=(d=t.endPosition)==null?void 0:d.char)!=null?h:-1,o=e.line+1,a=e.character+1;return n==r&&o==n+1&&a>i&&a<=s||o==n&&a>i&&a<=s||o==r&&a<s||o>n&&o<r}function Tu(t){let e="";return t.currentNode!=null&&(e=t.currentNode.getMethodNameValue()),e}function ji(t){if(t.includes(":")==!1)return t;let e=t.split(":");return e.length>1?e[e.length-1]:e[0].trim()}function bu(t){return t.includes(":")==!1?t:t.split(":")[0]}function pv(t){var n;if(t.nodesInScope.length==0)return[];let e=t.nodesInScope[t.nodesInScope.length-1];return((n=t.context)==null?void 0:n.node)!=null&&(e=t.context.node),e.currentScope==null?[]:Qs(t,e.currentScope)}function Qs(t,e){let n=[];return e.values.forEach(r=>{var i;if(r.sourceField!=null?n.push({label:r.name,detail:r.sourceField.blueprintName,documentation:(i=r.sourceField.instructionText)!=null?i:"",kind:Ot.CompletionItemKind.Field}):n.push(fs(r.name,"","")),r.dataType.trim().length>0&&r.dataType=="array"){let s=r.name+` }}
    $1
{{ /`+r.name+" ",o={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};n.push({label:r.name+" loop",insertTextFormat:Ot.InsertTextFormat.Snippet,kind:Ot.CompletionItemKind.Snippet,textEdit:Ot.TextEdit.replace(o,s),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}),e.lists.forEach((r,i)=>{n.push(fs(i,"",""))}),n}function XO(){var e;let t=[];return(e=xe.instance)==null||e.getRegisteredModifiers().forEach(n=>{t.push(pu(n))}),t}var Kd=class{static getSuggestions(e){var s,o,a,l,c,u,f,m,p,d,h,y,_,T,S,g,E,H,B,ae,ce,Te,oe,Ge,bt,Se,Q,Xe,at,kt,Fe,lt,Si,Ji;if(e==null)return[];if(e.context!=null&&e.context.node!=null&&e.context.node.isComment)return e.context.node.antlersNodeIndex==1?Gb:[];if(e.nodesInScope.length==0)return[];if(e.leftMeaningfulWord==null&&e.leftChar=="/"){let re=Xs.getUnclosedTags(e.document,e.position);if(re.length>0){let ie=[],fe="";e.rightChar=="}"&&(fe=" ");for(let ee=0;ee<re.length;ee++)ie.push({label:re[ee].runtimeName()+fe,kind:Ot.CompletionItemKind.Text});return ie}}let n=e.nodesInScope[e.nodesInScope.length-1];if(n instanceof Ys)return[];let r=[],i=!0;if(n.currentScope!=null&&((s=e.context)==null?void 0:s.variableContext)!=null&&e.context.variableContext.varPathText.length>0){if(n.currentScope.hasListInHistory(e.context.variableContext.varPathText)){let re=n.currentScope.getList(e.context.variableContext.varPathText);re!=null&&Qs(e,re).forEach(ie=>{r.push({...ie,sortText:"00"})})}else if(n.currentScope.containsPath(e.context.variableContext.varPathText)){let re=n.currentScope.findNestedScope(e.context.variableContext.varPathText);re!=null&&Qs(e,re).forEach(ie=>{r.push({...ie,sortText:"00"})})}}if(((o=e.context)==null?void 0:o.modifierContext)!=null&&(e.context.modifierContext.inModifierName||e.context.modifierContext.inModifierName==!1&&e.context.modifierContext.inModifierParameter==!1||e.context.feature==null||e.leftChar=="|"&&e.context.char==" ")&&(r=r.concat(XO())),e.nodesInScope.length>=2){let re=e.nodesInScope.length-2,ie=[];for(let fe=re;fe>=0;fe--){let ee=e.nodesInScope[fe];ie=ie.concat(Yd.getVariableSuggestions(e,ee))}ie.length>0&&(r=r.concat(ie))}if((((a=e.currentNode)==null?void 0:a.isEmpty())||((l=e.context)==null?void 0:l.isCursorInIdentifier)&&e.leftChar!=":"&&e.leftChar!=" ")&&((c=e.context)==null?void 0:c.modifierContext)==null){let re=(f=(u=he.instance)==null?void 0:u.getVisibleTagsWithDocumentation())!=null?f:[],ie=[],fe=[];for(let ee=0;ee<re.length;ee++){let be="000";if(e.leftWord!=null&&re[ee].label.startsWith(e.leftWord)==!1&&(be="001"),((m=e.context)==null?void 0:m.node)!=null&&((p=e.context)==null?void 0:p.node.parent)!=null&&(be=void 0),re[ee].label.includes(":")==!1)ie.includes(re[ee].label)==!1&&(fe.push({label:re[ee].label,kind:Ot.CompletionItemKind.Text,documentation:{kind:"markdown",value:re[ee].documentation},sortText:be}),ie.push(re[ee].label));else{let vt=re[ee].label.split(":")[0];ie.includes(vt)==!1&&(fe.push({label:vt,kind:Ot.CompletionItemKind.Text,documentation:{kind:"markdown",value:re[ee].documentation},sortText:be}),ie.push(vt))}}r=r.concat(fe)}if(n!=null&&n.currentScope!=null){if(zO.includes(n.getTagName()))return[];if(((d=e.context)==null?void 0:d.node)==null)return[];if(e.antlersDocument!=null){let re=e.antlersDocument.cursor.getAssignmentsBefore(e.position.line,e.position.character);re.length>0&&re.forEach(ie=>{ie.target instanceof te&&r.push({label:ie.target.name,kind:Ot.CompletionItemKind.Variable})})}if($O.includes(n.getTagName())&&e.context.feature!=null&&e.context.feature instanceof yt&&e.context.feature.prev instanceof bn&&e.context.feature.prev.prev instanceof te){let re=n.getParser();if(re!=null&&e.project!=null&&re.getLanguageParser().isMergedVariableComponent(e.context.feature.prev.prev)){let fe=re.getLanguageParser().getMergedVariable(e.context.feature.prev.prev),ee=[];return fe.name=="collection:handle"?ee=e.project.getUniqueCollectionNames():fe.name=="site:handle"?ee=e.project.getSiteNames():fe.name=="blueprint:handle"&&(ee=e.project.getBlueprintNames()),ee.forEach(be=>{r.push({label:be,sortText:be,kind:Ot.CompletionItemKind.EnumMember})}),r}if(["collection","current_template","status","blueprint","response_code"].includes(e.context.feature.prev.prev.name)){if(e.project!=null){let fe=e.context.feature.prev.prev.name,ee=[];return fe=="collection"?ee=e.project.getUniqueCollectionNames():fe=="current_template"?ee=e.project.getTemplateNames():fe=="status"?ee=["draft","scheduled","expired","published"]:fe=="blueprint"?ee=e.project.getBlueprintNames():fe=="response_code"&&(ee=["404","200"]),ee.forEach(be=>{r.push({label:be,sortText:be,kind:Ot.CompletionItemKind.EnumMember})}),r}}else if(e.context.feature.prev.prev.scopeVariable!=null){let fe=e.context.feature.prev.prev.scopeVariable.dataType;if(fe=="replicator"||fe=="bard"){let ee=e.context.feature.prev.prev.scopeVariable.sourceField;return(h=ee.sets)==null||h.forEach(be=>{let vt="**"+be.displayName+"** `"+be.handle+"`  ";vt+=`

 Blueprint: \``+ee.blueprintName+"`  \n",be.fields.forEach(Pr=>{vt+=`
 * `+Pr.displayName+" `"+Pr.name+":"+Pr.type+"`  "}),fe=="replicator"?vt+=`

 [Replicator Templating Documentation](https://statamic.dev/fieldtypes/replicator#templating)`:vt+=`

 [Bard Templating Documentation](https://statamic.dev/fieldtypes/bard#with-sets)`,r.push({label:be.displayName,insertText:be.handle,sortText:"000",documentation:{kind:"markdown",value:vt},kind:Ot.CompletionItemKind.EnumMember})}),r}}}if(n.isTagNode==!1){r=r.concat(Wb);let re={start:{line:e.position.line,character:e.position.character-e.originalLeftWord.length},end:e.position},ie=`if $1 }}
    $2
{{ else }}

{{ /if `;r.push({label:"ifelse",insertTextFormat:Ot.InsertTextFormat.Snippet,kind:Ot.CompletionItemKind.Snippet,textEdit:Ot.TextEdit.replace(re,ie),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}),n.scopeVariable!=null&&(r=r.concat(Wd.getCompletions(e,n.scopeVariable)))}if(n.currentScope.hasListInHistory(n.runtimeName())==!1&&n.currentScope.hasPristineReference(n.runtimeName())==!1?i=(_=(y=he.instance)==null?void 0:y.injectParentScope(n.runtimeName()))!=null?_:!1:i=!1,((T=e.context)==null?void 0:T.parameterContext)!=null&&e.context.parameterContext.parameter!=null&&(e.context.parameterContext.parameter.isVariableReference==!1?i=!1:i=!0),e.currentNode!=null&&(e.currentNode.isEmpty()||e.currentNode.parent!=null)&&(i=!0),n.runtimeName().includes(":")&&n.currentScope.containsPath(Lr(n.runtimeName(),":"))){let re=Lr(n.runtimeName(),":"),ie=Ln(Lr(e.leftWord,":"),"{");if(re==ie){let fe=n.currentScope.findNestedScope(re);if(fe!=null)return fe.lists.forEach((ee,be)=>{r.push(fs(be,"",""))}),fe.values.forEach(ee=>{var be;ee.sourceField!=null?r.push({label:ee.name,detail:ee.sourceField.blueprintName,documentation:(be=ee.sourceField.instructionText)!=null?be:"",kind:Ot.CompletionItemKind.Field}):r.push(fs(ee.name,"",""))}),r}}if(n.isTagNode){if(e.isInVariableInterpolation&&e.currentNode==null)r=r.concat(Qs(e,n.currentScope.ancestor()));else if(((S=e.context)==null?void 0:S.parameterContext)!=null&&e.context.parameterContext.parameter!=null){let re=e.context.parameterContext.parameter;if(re.isVariableReference&&e.position.character<=((H=(E=(g=re.valuePosition)==null?void 0:g.end)==null?void 0:E.char)!=null?H:-1)){if(r=r.concat(Qs(e,n.currentScope.ancestor())),he.instance!=null){let ie=he.instance.getCompletionItems(e);r=r.concat(ie.items)}}else if(e.position.character<=((ce=(ae=(B=re.valuePosition)==null?void 0:B.end)==null?void 0:ae.char)!=null?ce:-1)){let ie=null,fe=!1;if((Te=he.instance)==null?void 0:Te.canResolveDynamicParameter(n.runtimeName())){let ee=he.instance.findTag(n.runtimeName());typeof ee!="undefined"&&typeof ee.resolveDynamicParameter!="undefined"&&ee.resolveDynamicParameter!=null&&(ie=ee.resolveDynamicParameter(n,re.name),fe=!0)}else ie=(Ge=(oe=he.instance)==null?void 0:oe.getParameter(n.runtimeName(),re.name))!=null?Ge:null;if(ie==null&&fe&&(ie=(Se=(bt=he.instance)==null?void 0:bt.getParameter(n.runtimeName(),re.name))!=null?Se:null),typeof ie!="undefined"&&ie!==null){let ee=(Xe=(Q=he.instance)==null?void 0:Q.resolveParameterCompletions(n.runtimeName(),ie,e))!=null?Xe:null;ee!==null&&ee.items.length>0?ee.items.forEach(be=>{be.sortText="000",r.push(be)}):Yb(ie).forEach(be=>{be.sortText="000",r.push(be)})}if(re.hasInterpolations()&&e.isInVariableInterpolation&&n.isTagNode){let ee=(at=he.instance)==null?void 0:at.findTag(n.runtimeName());if(ee.resolveCompletionItems!=null){let be=ee.resolveCompletionItems(e);be.items.length>0&&(r=be.items)}}}}else if(e.isInVariableInterpolation==!1||e.currentNode==n){let re=fv(n,e.position);if(e.isCaretInTag=re,e.currentNode=n,he.instance!=null){let ie=he.instance.getCompletionItems(e);ie.isExclusive?r=ie.items:r=r.concat(ie.items)}}}else e.isInVariableInterpolation&&e.currentNode==null&&(r=r.concat(Qs(e,n.currentScope.ancestor())));if(i){e.context.node!=null&&e.context.node.currentScope!=null&&(e.context.modifierContext==null||e.context.modifierContext.activeModifier==null)&&(r=r.concat(Qs(e,e.context.node.currentScope)));let re=decodeURIComponent(e.document);if(e.project.hasViewCollectionInjections(re)){let ie=e.project.getCollectionNamesForView(re);for(let fe=0;fe<ie.length;fe++){let ee=e.project.getBlueprintFields(ie);if(ee.length>0)for(let be=0;be<ee.length;be++){let vt=ee[be];r.push({label:vt.name,detail:vt.blueprintName,documentation:(kt=vt.instructionText)!=null?kt:"",kind:Ot.CompletionItemKind.Field})}}Ub.forEach(fe=>{r.push({label:fe,kind:Ot.CompletionItemKind.Field})})}}return e.context.node!=null&&(e.context.node.manifestType=="array"&&e.context.node.isClosedBy!=null?e.context.modifierContext!=null&&((lt=(Fe=xe.instance)==null?void 0:Fe.getModifiersForType("array"))!=null?lt:[]).forEach(ie=>{let fe=pu(ie);fe.sortText="000",r.push(fe)}):e.context.modifierContext!=null&&((Ji=(Si=xe.instance)==null?void 0:Si.getModifiersForType(e.context.node.manifestType))!=null?Ji:[]).forEach(ie=>{let fe=pu(ie);fe.sortText="000",r.push(fe)})),r}for(let re=0;re<e.nodesInScope.length;re++){let ie=e.nodesInScope[re],fe=!0;if(e.isInVariableInterpolation&&e.currentNode!==null&&ie.currentScope!=null&&e.currentNode.currentScope!=null&&ie.currentScope.generation>e.currentNode.currentScope.generation&&(fe=!1),ie.isTagNode&&fe){let ee=fv(ie,e.position);if(e.isCaretInTag=ee,e.currentNode=ie,he.instance!=null){let be=he.instance.getCompletionItems(e);if(be.isExclusive){r=be.items;break}r=r.concat(be.items)}continue}}return r}};var dv=K(Zt());function _e(t){let e="";typeof t!="undefined"&&typeof t.resolveDocumentation!="undefined"&&t.resolveDocumentation!=null&&(e=t.resolveDocumentation());let n=t.tagName;if(n.includes(":")){let r=n.split(":");n=r[r.length-1]}return{label:n,kind:dv.CompletionItemKind.Text,sortText:"1",documentation:{kind:"markdown",value:e}}}var $d=K(st());function mv(t,e,n){return{name:t,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:e,expectsTypes:["string"],isDynamic:!0,isRequired:!1,documentationLink:n,docLinkName:"MDN Reference"}}var hv=mv("class","A space-separated list of the classes of the element.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/class"),gv=mv("style","Contains CSS styling declarations to be applied to the element. Note that it is recommended for styles to be defined in a separate file or files.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/style");function vu(t){return t=="class"?hv:t=="style"?gv:{name:t,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"",expectsTypes:["string","number","array"],isRequired:!1,isDynamic:!0}}function _v(t){let e=[];for(let n=0;n<t.length;n++)e.push({label:t[n],kind:$d.CompletionItemKind.Field});return z(e)}function ft(t){let e=[];for(let n=0;n<t.length;n++)e.push({label:t[n],kind:$d.CompletionItemKind.Field});return z(e)}function z(t){return{items:t,isExclusiveResult:!0,analyzeDefaults:!1}}function fn(t){return{items:t,isExclusiveResult:!1,analyzeDefaults:!0}}var pe={items:[],isExclusiveResult:!1,analyzeDefaults:!0};function Ze(t,e){let n=QO(t);return n.tagName=e,n}function QO(t){return{allowsArbitraryParameters:t.allowsArbitraryParameters,allowsContentClose:t.allowsContentClose,injectParentScope:t.injectParentScope,parameters:t.parameters,requiresClose:t.requiresClose,tagName:t.tagName,introducedIn:t.introducedIn,hideFromCompletions:t.hideFromCompletions,augmentScope:t.augmentScope,requiresCloseResolver:t.requiresCloseResolver,resolveCompletionItems:t.resolveCompletionItems,resolveDynamicParameter:t.resolveDynamicParameter,resolveSpecialType:t.resolveSpecialType,resovleParameterCompletionItems:t.resovleParameterCompletionItems,suggestAlternativeParams:t.suggestAlternativeParams,resolveDocumentation:t.resolveDocumentation}}function yv(t){return t.findParameterValueOrNull("scope")}function Tv(t){t.getAllNodes().forEach(n=>{n instanceof U&&n.manifestType==="array"&&(n.mustClose=!0)})}function JO(t){return t.findParameterValueOrNull("as")}var ZO=["count","next","previous"];function eL(t,e){let n=[];if(t.hasMethodPart()){let a=t.getMethodNameValue();if(ZO.includes(a)==!1)return n.push(a),n}let r=t.findAnyParameter(Mb),i=t.findAnyParameter(kb),s=[],o=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueCollectionNames(),typeof i!="undefined"&&i!==null&&i.isVariableReference==!1&&i.hasInterpolations()==!1&&(o=i.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),o.length>0?n=s.filter(function(a){return o.includes(a)==!1}):n=s,n}function gs(t,e){var c,u,f,m,p,d;let n=eL(t,e),r=!1,i=!1,s=!1,o=null,a="";if(t.isClosingTag==!1){let h=JO(t),y=yv(t);h!=null&&(r=!0,a=h),y!=null&&(s=!0,o=y),i=t.hasParameter("paginate")}return{context:{collectionNames:n!=null?n:[],endPosition:(u=(c=t.endPosition)==null?void 0:c.char)!=null?u:0,aliasName:a,isAliased:r,isScoped:s,scopeName:o,isStartOfScope:!t.isClosingTag,line:(m=(f=t.startPosition)==null?void 0:f.line)!=null?m:0,startPosition:(d=(p=t.startPosition)==null?void 0:p.char)!=null?d:0,isPaginated:i,excludeCollections:[],includeCollections:[]},issues:[]}}function oa(t,e){if(t==null)return null;let n=Ln(e,":");return n.includes(":")&&(n=n.split(":")[0]),n=="status"||n=="taxonomy"||t.currentScope!=null&&t.currentScope.containsReference(n)?vu(e):null}var tL=["from","folder","use","not_from","not_folder"],nL=["previous","next"],rL=["in","collection"];function _s(t,e){var n,r,i,s,o,a,l,c,u,f;if(t.isDynamic){let m=bu(t.name);if(e.nodesInScope.length>0){let p=e.nodesInScope[e.nodesInScope.length-1];if(p!=null&&p.currentScope!=null){let d=ea(p,p.currentScope),h=d.map(_=>_.name),y=ji(e.leftWord);if(h.includes(y))return z(ds(e))}}if(m=="status"&&((n=e.context)==null?void 0:n.parameterContext)!=null)return z(Vb((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[]));if(m=="taxonomy"){let p=ji(t.name);if(e.project.hasTaxonomy(p)&&((s=e.context)==null?void 0:s.parameterContext)!=null)return z(Bb((a=(o=e.context.parameterContext.parameter)==null?void 0:o.getArrayValue())!=null?a:[],p,e.project))}}if(t.name=="filter"||t.name=="query_scope")return z(hu(e.project));if(e.nodesInScope.length>0){let m=e.nodesInScope[e.nodesInScope.length-1];if(m.hasMethodPart()&&nL.includes(m.getMethodNameValue())&&rL.includes(t.name))return z(jb(e.project))}return tL.includes(t.name)&&((l=e.context)==null?void 0:l.parameterContext)!=null?z(ta((f=(u=(c=e.context)==null?void 0:c.parameterContext.parameter)==null?void 0:u.getArrayValue())!=null?f:[],e.project)):null}var iL={tagName:"collection:previous",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...ps,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:na,resolveDynamicParameter:oa,resolveSpecialType:gs,suggestAlternativeParams:Zo,resovleParameterCompletionItems:_s,resolveCompletionItems:aa,resolveDocumentation:t=>Ee("collection:previous Tag","The `collection:previous` tag is used to show the entries that appear before the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the previous two entries, based on dates in ascending order. #}}
{{ collection:previous in="articles" limit="2" sort="date:asc" }}

{{ /collection:previous }}`,"https://statamic.dev/tags/collection-previous")},Js=iL;var Nu=Ze(Js,"collection:older"),Pu=Ze(Js,"collection:newer");var sL={tagName:"collection:count",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...ps,{isRequired:!0,name:"in",aliases:["from"],description:"The collection from which to count entries",acceptsVariableInterpolation:!0,allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:gs,resovleParameterCompletionItems:_s,resolveDocumentation:t=>Ee("collection:count Tag","The `collection:count` tag returns the total number of entries in the specified collection(s). The collection count tag accepts the same parameters as the collection tag, allowing developers to count entries that meet specific conditions.",`Total entry count: {{ collection:count in="collection-name" }}
Draft count: {{ collection:count in="collection-name" status:in="draft" }}`,"https://statamic.dev/tags/collection-count")},Iu=sL;var oL={tagName:"collection:next",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...ps,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:na,resolveDynamicParameter:oa,resolveSpecialType:gs,suggestAlternativeParams:Zo,resovleParameterCompletionItems:_s,resolveCompletionItems:aa,resolveDocumentation:t=>Ee("collection:next Tag","The `collection:next` tag is used to show the entries that will appear after the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the next two entries, based on dates in ascending order. #}}
{{ collection:next in="articles" limit="2" sort="date:asc" }}

{{ /collection:next }}`,"https://statamic.dev/tags/collection-next")},Su=oL;function aa(t){var n,r;let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="collection"||t.leftWord=="/collection")&&t.leftChar==":"){let i=t.project.getCollectionNames();for(let s=0;s<i.length;s++)e.push({label:i[s],kind:Sl.CompletionItemKind.Field,sortText:"0"});return e.push(_e(Iu)),e.push(_e(Su)),e.push(_e(Js)),e.push(_e(Nu)),e.push(_e(Pu)),{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}if(t.currentNode!=null&&t.currentNode.currentScope!=null){let i=ea(t.currentNode,t.currentNode.currentScope),s=i.map(a=>a.name),o=ji(t.leftWord);if(o==="taxonomy")return z(qb(t));if(s.includes(o))return e=ds(t),z(e);if(t.isCaretInTag&&!((n=t.context)==null?void 0:n.isInParameter)&&["collection","/collection"].includes(t.leftWord)==!1&&t.leftChar!=" "){let a=[];for(let l=0;l<i.length;l++){let c=i[l];a.includes(c.name)==!1&&(e.push({label:c.name,detail:c.blueprintName,documentation:(r=c.instructionText)!=null?r:"",kind:Sl.CompletionItemKind.Field}),a.push(c.name))}if(e.push({label:"taxonomy",insertText:"taxonomy:",kind:Sl.CompletionItemKind.Field}),e.push({label:"status",insertText:"status:",kind:Sl.CompletionItemKind.Field}),e.length>0)return fn(e)}}return pe}var aL={tagName:"collection",hideFromCompletions:!1,introducedIn:null,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:ps,augmentScope:na,resolveDynamicParameter:oa,resolveSpecialType:gs,suggestAlternativeParams:Zo,resovleParameterCompletionItems:_s,resolveCompletionItems:aa,resolveDocumentation:t=>Ee("collection Tag","The `collection` tag provides access to entry data such as blog posts, products, etc.",`{{ collection:articles as="posts" }}

	{{ posts }}
		{{ title }}
	{{ /posts }}

{{ /collection:articles }}`,"https://statamic.dev/tags/collection")},bv=aL;var lL={tagName:"cache",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,allowsContentClose:!1,allowsArbitraryParameters:!1,resovleParameterCompletionItems:(t,e)=>t.name=="scope"?ft(["page","site"]):null,parameters:[{isRequired:!1,name:"for",description:"The duration the cache is valid for",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"key",description:"An arbitrary name the cache entry may be referenced by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"scope",description:" The scope of the cached value. Either site or page.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:(t,e)=>{let n=t.findParameter("key"),r=null;if(n!=null){let i=n.value;i.trim().length>0&&(r={key:i,reference:t})}return{context:r,issues:[]}},resolveDocumentation:t=>Ee("cache Tag","The `cache` tag can be used to save the results of an expensive template operation. The duration of the cache can be configured.",`{{ cache for="10 minutes" }}
    {{# Template code that won't be re-rendered for at least 10 minutes. #}}
{{ /cache }}`,"https://statamic.dev/tags/cache")},vv=lL;var cL={tagName:"dump",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.leftWord=="dump"&&t.leftChar==":"?z(pv(t)):pe,resolveDocumentation:t=>Ee("dump Tag","The `dump` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered.",`{{ collection:articles }}
	{{# View all data available, for each entry. #}}
    {{ dump }}
{{ /collection:articles }}`,"https://statamic.dev/tags/dump")},Nv=cL;var uL={tagName:"404",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Ee("404 (Not Found) Tag","The `404` (Not Found) tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ 404 }}
{{ /unless }}`,"https://statamic.dev/tags/404")},Pv=uL;var fL={tagName:"link",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The relative path",expectsTypes:["string"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!0,isDynamic:!1},{name:"absolute",description:"Whether to generate absolute URLs. Default false",expectsTypes:["boolean"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1},{name:"id",description:"The ID of the entry to link to",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1},{name:"in",description:"The handle of the site to link to.",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>D("link Tag","The `link` tag accepts relative URLs or entry IDs and generates fully-qualified URLs to the desired content.","https://statamic.dev/tags/link")},Iv=fL;var Sv={tagName:"loop",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>D("loop Tag","The `loop` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")},Rv={tagName:"range",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>D("range Tag","The `range` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")};var Xn=K(Zt());function je(t,e){return e.trim().length>0?vu(e):null}var la=[{isRequired:!1,name:"src",description:"The name of the partial view",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1}];var Rl=K(Zt());function ca(t,e){var n;if(t.isDynamic&&e.currentNode!=null&&e.currentNode.getTagName()=="partial"&&e.currentNode.hasMethodPart()){let r=e.currentNode.getMethodNameValue();if(r.trim().length>0&&((n=se.instance)==null?void 0:n.hasStructure())){let i=se.instance.getStructure().findRelativeView(r);if(i!=null&&i.varReferenceNames.has(t.name)){let s=i.varReferenceNames.get(t.name);if(i.document!=null&&i.document.hasFrontMatter()){let o=i.document.getFrontMatterScope();if(o!=null){let a=o.getList(s);if(a!=null)return _v(a.getVariableNames())}}}}}if(t.name=="src"){let r=e.project.getViews(),i=[];return r.forEach(s=>{if(li.hasDetails(s.documentUri)){let o=li.documentDetails.get(s.documentUri);i.push({label:o.documentName+"("+s.relativeDisplayName+")",insertText:s.relativeDisplayName,detail:o.documentName,documentation:{kind:Rl.MarkupKind.Markdown,value:o.documentDescription},kind:Rl.CompletionItemKind.File})}else i.push({label:s.relativeDisplayName,kind:Rl.CompletionItemKind.File})}),z(i)}return null}var pL={tagName:"partial:exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:la,introducedIn:"3.2.7",resovleParameterCompletionItems:ca,resolveDocumentation:t=>D("partial:exists Tag","The `partial:exists` can be used within conditional statements to test if a partial exists.","https://statamic.dev/tags/partial-exists")},Ru=pL;var dL={tagName:"partial:if_exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:la,introducedIn:"3.2.7",resovleParameterCompletionItems:ca,resolveDocumentation:t=>D("partial:if_exists Tag","The `partial:if_exists` can be used to output the contents of a partial if it exists.","https://statamic.dev/tags/partial-if-exists")},Cu=dL;function ua(t){if(t.getTagName()!="partial")return null;let e="";if(t.hasMethodPart())e=t.getMethodNameValue();else{let n=t.findParameter("src");n!=null&&(e=n.value)}return e}var mL=[_e(Ru),_e(Cu)],hL={tagName:"partial",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!0,parameters:la,requiresClose:!1,allowsContentClose:!0,introducedIn:null,resolveDocumentation:t=>`**Partial Tag**  
Includes another view into the current template.  

[Documentation Reference](https://statamic.dev/tags/partial)
`,resolveDynamicParameter:je,resovleParameterCompletionItems:ca,resolveCompletionItems:t=>{let e=[];if(t.leftChar=='"'&&t.leftWord==':src="')return{items:[],analyzeDefaults:!0,isExclusiveResult:!1};if((t.leftWord=="partial"||t.leftWord=="/partial")&&t.leftChar==":"||t.leftWord=='src="'&&t.leftChar=='"')return t.project.getViews().forEach(r=>{let i=decodeURIComponent(r.documentUri);if(li.hasDetails(i)){let s=li.documentDetails.get(i);e.push({label:s.documentName+"("+r.relativeDisplayName+")",insertText:r.relativeDisplayName,detail:s.documentName,documentation:{kind:Xn.MarkupKind.Markdown,value:s.documentDescription},kind:Xn.CompletionItemKind.File})}else e.push({label:r.relativeDisplayName,kind:Xn.CompletionItemKind.File})}),t.leftWord!='src="'&&(e=e.concat(mL)),{analyzeDefaults:!1,isExclusiveResult:!0,items:e};if(t.currentNode!=null&&t.project!=null){let n=ua(t.currentNode);if(n!=null&&n.trim().length>0){let r=t.project.findRelativeView(n);if(r!=null&&Ne.hasDocument(r.documentUri)){let i=Ne.getDocument(r.documentUri);if(i!=null){let s=i.getAllAntlersNodes(),o=gL(s),a=[];r.varReferenceNames!=null&&r.varReferenceNames.forEach((c,u)=>{o.push(u)});let l=[];if(r.injectsParameters.length>0){let c={start:{line:t.position.line,character:t.position.character-0},end:t.position};r.injectsParameters.forEach(u=>{let f=u.name+'="$1"';a.includes(u.name)||(a.push(u.name),l.push({label:u.name,kind:Xn.CompletionItemKind.Value,insertTextFormat:Xn.InsertTextFormat.Snippet,textEdit:Xn.TextEdit.replace(c,f),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}if(o.length>0){let c={start:{line:t.position.line,character:t.position.character-0},end:t.position};o.forEach(u=>{let f=u+'="$1"';a.includes(u)||(a.push(u),l.push({label:u,kind:Xn.CompletionItemKind.Value,insertTextFormat:Xn.InsertTextFormat.Snippet,textEdit:Xn.TextEdit.replace(c,f),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}return fn(l)}}}}return{analyzeDefaults:!0,isExclusiveResult:!1,items:[]}}};function gL(t){let e=[];return t.forEach(n=>{if(n.isTagNode||n.isClosingTag||n.isComment||n.hasMethodPart()&&n.getMethodNameValue().length>0||n.name!=null&&n.name.content.includes("["))return;let r=n.getTagName();!e.includes(r)&&r!="#"&&r!="slot"&&e.push(r)}),e}var Cv=hL;var _L={tagName:"increment:reset",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:"3.2.28",parameters:[{isRequired:!0,name:"counter",aliases:[],description:"The incrementing counter to reset",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"to",aliases:[],description:"An optional value to reset the counter to before incrementing starts again",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveDocumentation:t=>Ee("increment:reset Tag","The `increment:reset` tag can be used to reset the value of an incrementing counter.",`{{ array_variable }}
    {{ increment:counter_name }}
{{ /array_variable }}

{{ increment:reset counter="counter_name" }}
`,null)},Au=_L;var yL=[_e(Au)],TL={tagName:"increment",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!1,name:"from",aliases:[],description:"The number to start incrementing by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"by",aliases:[],description:"The number to increment by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveCompletionItems:t=>t.leftWord=="increment"||t.leftWord=="/increment"&&t.leftChar==":"?z(yL):pe,resolveDocumentation:t=>D("increment Tag","The `increment` tag can be used to increment a value each time the tag is encountered.","https://statamic.dev/tags/increment")},Av=TL;var Cl=class{constructor(e){this.node=e}},xv={tagName:"yields",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new Cl(t),issues:[]})},Ev={tagName:"yield",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new Cl(t),issues:[]}),resolveDocumentation:t=>D("yield Tag","The `yield` tag may be used to push rendered content to named regions within a template's structure.","https://statamic.dev/tags/yield")};var xu=K(st());var wv=[{handle:"access cp"},{handle:"configure collections"},{handle:"[view edit create delete publish reorder] {collection} entries"},{handle:"configure structures"},{handle:"[view edit] {structure} structure"},{handle:"edit {global} globals"},{handle:"[view upload edit move rename delete] {container} assets"},{handle:"[view perform] updates"},{handle:"[view edit create delete] users"},{handle:"change passwords"},{handle:"edit roles"},{handle:"configure forms"},{handle:"[view delete] {form} submissions"}];var ys=class{constructor(){this.contextItems=new Map;this.triggerNames=[];this.collectionTriggers=[];this.collectionTriggerCaps=[];this.globalTriggers=[];this.globalTriggerCaps=[];this.formTriggers=[];this.formTriggerCaps=[];this.structureTriggers=[];this.structureTriggerCaps=[];this.assetTriggers=[];this.assetTriggerCaps=[]}getCollectionTriggerCaps(){return this.collectionTriggerCaps}getGlobalTriggerCaps(){return this.globalTriggerCaps}getFormTriggerCaps(){return this.formTriggerCaps}getStructureTriggerCaps(){return this.structureTriggerCaps}getAssetTriggerCaps(){return this.assetTriggerCaps}loadCorePermissions(){this.registerPermissions(wv)}getTriggerNames(){return this.triggerNames}isCollectionTrigger(e){return this.collectionTriggers.includes(e)}isGlobalTrigger(e){return this.globalTriggers.includes(e)}isFormTrigger(e){return this.formTriggers.includes(e)}isStructureTrigger(e){return this.structureTriggers.includes(e)}isAssetTrigger(e){return this.assetTriggers.includes(e)}getTriggerContextItems(e){return this.contextItems.has(e)?this.contextItems.get(e):[]}registerSpecialTrigger(e,n,r){n=="{collection}"?(this.collectionTriggerCaps.includes(r)==!1&&this.collectionTriggerCaps.push(r),this.collectionTriggers.includes(e)==!1&&this.collectionTriggers.push(e)):n=="{structure}"?(this.structureTriggerCaps.includes(r)==!1&&this.structureTriggerCaps.push(r),this.structureTriggers.includes(e)==!1&&this.structureTriggers.push(e)):n=="{container}"?(this.assetTriggerCaps.includes(r)==!1&&this.assetTriggerCaps.push(r),this.assetTriggers.includes(e)==!1&&this.assetTriggers.push(e)):n=="{global}"?(this.globalTriggerCaps.includes(r)==!1&&this.globalTriggerCaps.push(r),this.globalTriggers.includes(e)==!1&&this.globalTriggers.push(e)):n=="{form}"&&(this.formTriggerCaps.includes(r)==!1&&this.formTriggerCaps.push(r),this.formTriggers.includes(e)==!1&&this.formTriggers.push(e))}addContextToTrigger(e,n){var r;this.triggerNames.includes(e)==!1&&this.triggerNames.push(e),this.contextItems.has(e)==!1?this.contextItems.set(e,[n]):(r=this.contextItems.get(e))==null||r.push(n)}registerPermissions(e){for(let n=0;n<e.length;n++){let r=e[n],i=[],s="",o="";if(r.handle.includes("[")&&r.handle.includes("]")){let a=r.handle.indexOf("["),l=r.handle.indexOf("]"),c=l-a,u=r.handle.substr(a+1,c-1).split(" ").filter(m=>m.trim().length>0),f=r.handle.substr(l+1).split(" ").filter(m=>m.trim().length>0);i=u,f.length==2?(s=f[0],o=f[1]):f.length==1&&(s="",o=f[0])}else{let a=r.handle.split(" ").filter(l=>l.trim().length>0);a.length==2&&(i=[a[0]],o=a[1])}for(let a=0;a<i.length;a++){let l=i[a];s.trim().length>0?this.registerSpecialTrigger(l,s,o):this.addContextToTrigger(l,o)}}}};ys.instance=null;(typeof ys.instance=="undefined"||ys.instance==null)&&(ys.instance=new ys,ys.instance.loadCorePermissions());var Qn=ys;function Ov(t,e){var r,i,s,o,a,l,c,u,f,m,p,d,h,y,_,T,S,g,E;let n=[];if(t.trim().length==0){let H=(i=(r=Qn.instance)==null?void 0:r.getTriggerNames())!=null?i:[];for(let B=0;B<H.length;B++)n.push({label:H[B],kind:xu.CompletionItemKind.Value})}else{let H=t.split(" ").filter(Q=>Q.trim().length>0),B=H[0],ae=(o=(s=Qn.instance)==null?void 0:s.getTriggerContextItems(B))!=null?o:[],ce=(a=Qn.instance)==null?void 0:a.isCollectionTrigger(B),Te=(l=Qn.instance)==null?void 0:l.isGlobalTrigger(B),oe=(c=Qn.instance)==null?void 0:c.isFormTrigger(B),Ge=(u=Qn.instance)==null?void 0:u.isStructureTrigger(B),bt=(f=Qn.instance)==null?void 0:f.isAssetTrigger(B),Se=[];if(H.length<=2){ce?Se=Se.concat(e.project.getUniqueCollectionNames()):Te?Se=Se.concat(e.project.getUniqueGlobalsNames()):oe?Se=Se.concat(e.project.getUniqueFormNames()):Ge?Se=Se.concat(e.project.getUniqueNavigationMenuNames()):bt&&(Se=Se.concat(e.project.getUniqueAssetNames())),ae.length>0&&(Se=Se.concat(ae)),Se=[...new Set(Se)];for(let Q=0;Q<Se.length;Q++)n.push({label:Se[Q],kind:xu.CompletionItemKind.Value})}else{let Q=[];ce?Q=Q.concat((p=(m=Qn.instance)==null?void 0:m.getCollectionTriggerCaps())!=null?p:[]):Te?Q=Q.concat((h=(d=Qn.instance)==null?void 0:d.getGlobalTriggerCaps())!=null?h:[]):oe?Q=Q.concat((_=(y=Qn.instance)==null?void 0:y.getFormTriggerCaps())!=null?_:[]):Ge?Q=Q.concat((S=(T=Qn.instance)==null?void 0:T.getStructureTriggerCaps())!=null?S:[]):bt&&(Q=Q.concat((E=(g=Qn.instance)==null?void 0:g.getAssetTriggerCaps())!=null?E:[])),Q=[...new Set(Q)];for(let Xe=0;Xe<Q.length;Xe++)n.push({label:Q[Xe],kind:xu.CompletionItemKind.Value})}}return n}function Eu(t,e){var r,i,s,o;let n=bu(t.name);return((r=e.context)==null?void 0:r.parameterContext)!=null&&["do","permission"].includes(n)?z(Ov((o=(s=(i=e.context)==null?void 0:i.parameterContext.parameter)==null?void 0:s.value)!=null?o:"",e)):null}var bL={tagName:"user:can",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:Eu,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>D("user:can Tag","The `user:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can")},fa=bL;var vL={tagName:"user:logout",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>D("user:logout Tag","The `user:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout")},pa=vL;var NL={tagName:"user:logout_url",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>Ee("user:logout_url","The `user:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ user:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url")},da=NL;var Lv={tagName:"switch",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>D("switch Tag","The `switch` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")},Dv={tagName:"rotate",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,introducedIn:null,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>D("rotate Tag","The `rotate` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")};var PL={tagName:"oauth",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"provider",description:"The OAuth provider to be used",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]},{name:"redirect",description:"The URL to be taken to after authenticating",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resovleParameterCompletionItems:(t,e)=>t.name=="provider"?ft(e.project.getOAuthProviders()):null,resolveDocumentation:t=>Ee("oauth Tag","The `oauth` tag can be used to generate login URls for various third-party services.",'<a href="{{ oauth provider="github" }}">Sign In with Github</a>',"https://statamic.dev/tags/oauth")},Mv=PL;var IL={tagName:"session:dump",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>D("session:dump Tag","The `session:dump` tag will display the contents of the user's session to the browser. This tag behaves similarly to the `dd` helper functions, but returns just the session data.","https://statamic.dev/tags/session-dump")},wu=IL;var Zs=class{constructor(e){this.node=e}};var SL={tagName:"session:set",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:null,resolveDynamicParameter:je,resolveSpecialType:(t,e)=>({context:new Zs(t),issues:[]}),resolveDocumentation:t=>D("session:set Tag","The `session:set` tag is used to add new data to the user's session.","https://statamic.dev/tags/session-set")},Ou=SL;var eo=class{constructor(){this.knownVariables=new Map}registerDocumentSessionVariables(e,n){this.knownVariables.has(e)||this.knownVariables.set(e,new Map);let r=this.knownVariables.get(e);r.clear();for(let i=0;i<n.length;i++){let s=n[i].node;if(s.hasParameters)for(let o=0;o<s.parameters.length;o++){let a=s.parameters[o];r.set(a.name,n[i])}}}getKnownSessionVariableNames(){let e=[];return this.knownVariables.forEach(n=>{n.forEach((r,i)=>{e.includes(i)==!1&&e.push(i)})}),e}};eo.instance=null;(typeof eo.instance=="undefined"||eo.instance==null)&&(eo.instance=new eo);var to=eo;var kv=K(st());function Fv(t,e){let n=[],r=t.getArrayValue(),i=e.filter(s=>!r.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:kv.CompletionItemKind.Variable});return z(n)}var RL={tagName:"session:forget",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"keys",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The session keys to clear",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;if(t.name=="keys"&&((n=e.context)==null?void 0:n.parameterContext)!=null){let s=(i=(r=to.instance)==null?void 0:r.getKnownSessionVariableNames())!=null?i:[];if(e.context.parameterContext.parameter!=null)return Fv(e.context.parameterContext.parameter,s)}return null},resolveDocumentation:t=>D("session:forget Tag","The `session:forget` tag is used to remove variables from the user's session.","https://statamic.dev/tags/session-forget")},Lu=RL;var CL={tagName:"session:flush",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>D("session:flush Tag","The `session:flush` tag will clear all values from the visitor's session. If the visitor is currently signed in they will also be signed out.","https://statamic.dev/tags/session-flush")},Du=CL;var AL={tagName:"session:flash",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:je,resolveSpecialType:(t,e)=>({context:new Zs(t),issues:[]}),resolveDocumentation:t=>D("session:flash Tag","The `session:flash` tag can be used to add a value to the user's session. Flashed values only persist for a single request, and are then removed.","https://statamic.dev/tags/session-flash")},Mu=AL;var xL={tagName:"markdown:indent",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>D("markdown:indent Tag","The `markdown:indent` tag is similar to the markdown tag, but will ignore leading whitepsace while rendering the tag's content as markdown.","https://statamic.dev/tags/markdown-indent")},ku=xL;var EL=[_e(ku)],wL={tagName:"markdown",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="markdown"||t.leftWord=="/markdown")&&t.leftChar==":"?z(EL):pe,resolveDocumentation:t=>D("markdown Tag","The `markdown` tag can be used to render the tags contents as markdown.","https://statamic.dev/tags/markdown")},qv=wL;var Vv=K(Zt());function Fu(t,e){let n=[],r=e;if(t.trim().length>0&&t.includes(".")&&t.endsWith(".")){let i=t.substr(0,t.length-1);r=r.filter(s=>s.startsWith(i))}for(let i=0;i<r.length;i++){let s=r[i],o=!0;t.includes(".")&&(s.startsWith(t)==!1?o=!1:s=s.substr(t.length)),o&&n.push({label:s,insertText:s,kind:Vv.CompletionItemKind.Text})}return n}function Bv(t,e){return Fu(t,e.getRouteNames())}var OL={tagName:"route",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:je,resolveCompletionItems:t=>{if(t.leftMeaningfulWord=="route"){let e=Tu(t);return z(Bv(e,t.project))}return pe},resolveDocumentation:t=>D("route Tag","The `route` tag can be used to generate a full URL [to a named route](https://laravel.com/docs/8.x/routing#named-routes), including any defined route parameters.","https://statamic.dev/tags/route")},jv=OL;var qu=K(st()),Uv=[{label:"301 Permanent",insertText:"301",kind:qu.CompletionItemKind.EnumMember},{label:"302 Temporary",insertText:"302",kind:qu.CompletionItemKind.EnumMember},{label:"404 Not Found",insertText:"404",kind:qu.CompletionItemKind.EnumMember}];var LL={tagName:"redirect",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The destination URL",aliases:["url"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!0},{name:"response",description:"The HTTP response code to use",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:t=>t.name=="response"?z(Uv):pe,resolveDocumentation:t=>D("redirect Tag","The `redirect` tag can be used to redirect the site visitor to a URL or named route. An optional HTTP status code can also be specified on the response using the `response` parameter.","https://statamic.dev/tags/redirect")},Gv=LL;var Wv=K(st());var no=class{constructor(){this.knownSections=new Map}registerDocumentSections(e,n){this.knownSections.has(e)||this.knownSections.set(e,new Map);let r=this.knownSections.get(e);r.clear();for(let i=0;i<n.length;i++){let s=n[i];s.node.hasMethodPart()&&r.set(s.node.getMethodNameValue(),s)}}getKnownSectionNames(){let e=[];return this.knownSections.forEach(n=>{n.forEach((r,i)=>{e.includes(i)==!1&&e.push(i)})}),e}};no.instance=null;(typeof no.instance=="undefined"||no.instance==null)&&(no.instance=new no);var Vu=no;var DL={tagName:"section",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>{var e,n;if((t.leftWord=="section"||t.leftWord=="/section")&&t.leftChar==":"){let r=[],i=(n=(e=Vu.instance)==null?void 0:e.getKnownSectionNames())!=null?n:[];for(let s=0;s<i.length;s++)r.push({label:i[s],kind:Wv.CompletionItemKind.Field});return fn(r)}return pe},resolveDocumentation:t=>D("section Tag","The `section` tag is used to push content to a named region defined by the `yield` tag.","https://statamic.dev/tags/section")},Hv=DL;var ML={tagName:"obfuscate",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>D("obfuscate Tag","The `obfuscate` tag converts the tags's content into a format that is difficult for bots to read, but can easily be viewed by users within their browser.","https://statamic.dev/tags/obfuscate")},Yv=ML;var kL={tagName:"parent",hideFromCompletions:!1,requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>D("parent Tag","The `parent` tag provides access to data from the current page's parent (the URL one level above the current page).","https://statamic.dev/tags/parent")},Kv=kL;function zd(t,e){return Fu(t,e.getTranslationKeys())}var FL=["translate","trans","trans_choice"],Bu={tagName:"translate",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!0,parameters:[{isRequired:!1,name:"key",description:"The key of the translation string to find",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"locale",description:"The locale to be used when translating",acceptsVariableInterpolation:!1,aliases:["site"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"count",description:"The number of items to use for pluralization",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n;if(t.name=="key"){let r="";return((n=e.context)==null?void 0:n.parameterContext)!=null&&e.context.parameterContext.parameter!=null&&(r=e.context.parameterContext.parameter.value),z(zd(r,e.project))}return pe},resolveDynamicParameter:je,resolveCompletionItems:t=>{if(t.leftMeaningfulWord!=null&&FL.includes(t.leftMeaningfulWord)){let e=Tu(t);return z(zd(e,t.project))}return pe},resolveDocumentation:t=>D("trans Tag","The `trans` tag can be used to retrieve a string for the current locale's language file.","https://statamic.dev/tags/trans")},$v=Ze(Bu,"trans"),Xd=Ze(Bu,"trans_choice");Xd.resolveDocumentation=t=>D("trans_choice Tag","The `trans_choice` tag can be used to retrieve a pluralized string for the current locale's language file.","https://statamic.dev/tags/trans#pluralization");var qL={tagName:"svg",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The SVG filename relative to the project root",expectsTypes:["string"],isDynamic:!1}],resolveDynamicParameter:je,resolveDocumentation:t=>D("svg Tag","The `svg` tag can be used to render inline SVGs, as well as set attributes on the rendered `<svg>` element.","https://statamic.dev/tags/svg")},zv=qL;function ju(t){return[{name:"basename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus_css",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_asset",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"path",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"width",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t}]}var VL={tagName:"asset",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The path to the file",expectsTypes:["string"],isDynamic:!1,name:"url"}],augmentScope:(t,e)=>(e.addVariables(ju(t)),e),resolveDocumentation:t=>Ee("asset Tag","The `asset` tag can be used to retrive Assets by supplying a URL.",`{{ asset url="/url/for/asset.png" }}
    <img src="{{ url }}" alt="{{ alt }}" />
{{ /asset }}`,"https://statamic.dev/tags/asset")},Xv=VL;var Qv=K(st());function Qd(t){let e=[],n=t.getUniqueAssetNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Qv.CompletionItemKind.Field});return e}var Jv=["container","id","handle"],BL={tagName:"assets",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"container",aliases:["id","handle"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The handle of the asset container",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"folder",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Filters the resulting assets by specific folder",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"recursive",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Returns all assets in all subdirectories",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"limit",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Limits the total results",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sort entries by any asset variable",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>Jv.includes(t.name)?z(Qd(e.project)):pe,augmentScope:(t,e)=>{e.addVariables(ju(t));let n="";if(t.name!=null&&t.name.getMethodName()!=null)n=t.name.getMethodName();else{let r=t.findAnyParameter(Jv);r!=null&&r.containsSimpleValue()&&(n=r.value)}return n.length>0&&e.injectAssetContainer(t,n),e},resolveCompletionItems:t=>(t.leftWord=="assets"||t.leftWord=="/assets")&&t.leftChar==":"?z(Qd(t.project)):pe,resolveDocumentation:t=>Ee("assets Tag","The `assets` tag can be used to retrieve multiple Assets from an Asset container.",`{{ assets container="container-name" }}
    {{# Loop over all assets in the container. #}}
	<img src="{{ url }}" alt="{{ alt }}" />
{{ /assets }}`,"https://statamic.dev/tags/assets")},Zv=BL;var jL={tagName:"get_content",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!1,parameters:[{isRequired:!1,name:"from",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"The ID to retrieve data for",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"locale",aliases:["site"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The locale to show the content in",expectsTypes:["string"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="locale"||t.name=="site"?ft(e.project.getSiteNames()):null,resolveDocumentation:t=>Ee("get_content Tag","The `get_content` tag can be used to retrieve content from other entries. This tag accepts the ID of another entry, and will return access to all data for that entry.",`{{ get_content from="the-entry-id" }}
{{ /get_content }}`,"https://statamic.dev/tags/get_content")},eN=jL;function tN(t){return[{name:"basename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"last_modified",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_b",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_mb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t}]}var UL={tagName:"get_files",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"in",aliases:["from"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The directory to find files in relative to the public directory",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"depth",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The depth of the subdirectories",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"not_in",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"The subdirectories or pattern to exclude",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_size",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],description:"The file size filter to use",isDynamic:!1},{isRequired:!1,name:"ext",aliases:["extension"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The extension(s) to filter by",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"include",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:["match"],description:"Filter files by a regular expression",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"exclude",description:"Excludes files by a regular expression",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_date",description:"Filters files by last modified date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",description:"Limits the total number of results",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"offset",description:"The number of entries the results should be offset by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sorts the listing by extension, size, last_modified, or random",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>(e.addVariables(tN(t)),e),resolveDocumentation:t=>D("get_files Tag","The `get_files` tag can be used to display information about files on the site's local filesystem.","https://statamic.dev/tags/get_files")},nN=UL;function Uu(t){return[{name:"width",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.glide",sourceField:null,introducedBy:t}]}var rN=K(st());function Qr(t,e,n){var r,i,s,o,a,l,c,u,f,m,p,d;return{endLine:(s=(i=(r=n.valuePosition)==null?void 0:r.end)==null?void 0:i.line)!=null?s:0,startLine:(l=(a=(o=n.namePosition)==null?void 0:o.start)==null?void 0:a.line)!=null?l:0,endPos:(f=(u=(c=n.valuePosition)==null?void 0:c.end)==null?void 0:u.char)!=null?f:0,startPos:(d=(p=(m=n.namePosition)==null?void 0:m.start)==null?void 0:p.char)!=null?d:0,message:t,severity:rN.DiagnosticSeverity.Error}}var Jd=["greyscale","sepia"],Zd=["jpg","pjpg","png","gif","webp","avif","tif","bmp","psd"],iN=["auto","0","90","180","270"],Gu=[{isRequired:!1,name:"src",aliases:["path","id"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The URL of the image when not using shorthand syntax",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"tag",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Outputs an image tag when set to true",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"alt",description:"The alt attribute value to use when generating tags",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"absolute",description:"Whether to output full URLs",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{name:"width",expectsTypes:["number"],isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The width of the image, in pixels",isDynamic:!1},{name:"height",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],description:"The height of the image, in pixels",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"square",expectsTypes:["number"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets both then height and width of the iamge",isDynamic:!1,isRequired:!1},{name:"fit",expectsTypes:["string"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"How the image is fitted to its target dimensions",isDynamic:!1,isRequired:!1},{name:"crop",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Crops the image to the specific dimensions",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"orient",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Rotates the image",expectsTypes:["*"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!iN.includes(e.value)&&n.push(Qr("Invalid orient value",t,e)),n}},{name:"quality",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Defines the quality of the image",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"dpr",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"Defines the device pixel ratio",expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<1||n>8)&&r.push(Qr("dpr must be an integer between 1 and 8.",t,e)),r}},{name:"format",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Encodes the image to a specific format",expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!Zd.includes(e.value)&&n.push(Qr("Format must be one of: "+Zd.join(","),t,e)),n}},{name:"bg",description:"Sets the background color for transparent images",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"blur",description:"Adds a blur effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(Qr("blur must be a value between 0 and 100.",t,e)),r}},{name:"brightness",description:"Adjusts the image brightness",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<-100||n>100)&&r.push(Qr("brightness must be a value between -100 and 100.",t,e)),r}},{name:"contrast",description:"Adjusts the image contrast",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<-100||n>100)&&r.push(Qr("contrast must be a value between -100 and 100.",t,e)),r}},{name:"gamma",description:"Adjusts the image gamma",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseFloat(e.value),r=[];return e.containsSimpleValue()&&(n<.1||n>9.99)&&r.push(Qr("gamma must be a value between 0.1 and 9.99.",t,e)),r}},{name:"sharpen",description:"Sharpens the iamge",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(Qr("sharpen must be a value between 0 and 100.",t,e)),r}},{name:"pixelate",description:"Applies a pixelation effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(Qr("pixelate must be a value between 0 and 100.",t,e)),r}},{name:"filter",description:"Applies a filter effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!Jd.includes(e.value)&&n.push(Qr("Filter must be one of: "+Jd.join(","),t,e)),n}},{name:"preset",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],description:"A collection of pre-configured image manipulation parameters.",isDynamic:!1,isRequired:!1}];function Wu(t,e){return t.name=="orient"?ft(iN):t.name=="format"?ft(Zd):t.name=="filter"?ft(Jd):t.name=="preset"?ft(e.project.getAssetPresets()):pe}var GL={tagName:"glide:batch",hideFromCompletions:!1,requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,injectParentScope:!1,parameters:Gu,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(Uu(t)),e),resovleParameterCompletionItems:Wu,resolveDocumentation:t=>D("glide:batch Tag","The `glide:batch` tag is similar to the glide tag, but can be used to apply image manipulations to multiple images within a piece of content.","https://statamic.dev/tags/glide-batch")},Hu=GL;var WL=[_e(Hu)],HL={tagName:"glide",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!1,parameters:Gu,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(Uu(t)),e),resovleParameterCompletionItems:Wu,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="glide"||t.leftWord=="/glide")&&t.leftChar==":"?z(WL):pe,resolveDocumentation:t=>D("glide Tag","The `glide` tag is used to manipulate images on the fly. Image manipulations may include resizing, cropping, or adjusting sharpness and constrast, amongst many others.","https://statamic.dev/tags/glide")},sN=HL;var oN={tagName:"iterate",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>D("iterate Tag","The `iterate` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")},aN={tagName:"foreach",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>D("foreach Tag","The `foreach` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")};function lN(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t},{name:"name",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}]}var Yu=[{isRequired:!1,name:"id",description:"The ID of the content to localize",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"sort",description:"Sort by a sites key",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"current_first",description:"When true, ensures that the current locale is first",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"all",description:"When true, all locale data will be returned.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!0,name:"self",description:"When true, the current locale will be included.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1}];var YL={tagName:"locales:count",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:Yu,introducedIn:"3.0.36",resolveDocumentation:t=>D("locales:count Tag","The `locales:count` tag can be used to count the number of locales the current content is available in.","https://statamic.dev/tags/locales-count")},Ku=YL;var KL=[_e(Ku)],$L={tagName:"locales",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:Yu,introducedIn:null,augmentScope:(t,e)=>(e.addVariableArray("locale",lN(t)),e.addVariable({name:"current",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"exists",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"permalink",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e),resolveDocumentation:t=>D("locales Tag","The `locales` tag can be used to access all the locales the current content is available in.","https://statamic.dev/tags/locales"),resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="locale"||t.leftWord=="/locale")&&t.leftChar==":"?z(KL):pe},cN=$L;var zL={tagName:"mix",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",description:"The path to the versioned file, relative to the public directory",acceptsVariableInterpolation:!1,aliases:["path"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"in",description:"The location of the mix manifest file",acceptsVariableInterpolation:!1,aliases:["from"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>D("mix Tag","The `mix` tag is used to return the path of CSS and JavaScript files versioned with [Laravel Mix](https://laravel.com/docs/8.x/mix).","https://statamic.dev/tags/mix")},uN=zL;var Al=K(st());function fN(t){let e=[],n=t.getUniqueUserGroupNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Al.CompletionItemKind.Field});return e}function pN(t){let e=[],n=t.getUniqueUserRoleNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Al.CompletionItemKind.Field});return e}function ma(t,e){let n=[],r=e.getUniqueUserGroupNames(),i=r.filter(s=>!t.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:Al.CompletionItemKind.Field});return n}function ha(t,e){let n=[],r=e.getUniqueUserRoleNames(),i=r.filter(s=>!t.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:Al.CompletionItemKind.Field});return n}var XL={tagName:"user:in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?z(ma((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>D("user:in Tag","The `user:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in")},$u=XL;var QL={tagName:"user:not_in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?z(ma((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>D("user:not_in Tag","The `user:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in")},ga=QL;var JL={tagName:"user:is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?z(ha((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>D("user:is Tag","The `user:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is")},_a=JL;var ZL={tagName:"user:isnt",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?z(ha((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>D("user:isnt Tag","The `user:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt")},ya=ZL;var eD={tagName:"in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?z(ma((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="in"||t.leftWord=="/in")&&t.leftChar==":"?z(fN(t.project)):pe,resolveDocumentation:t=>D("in Tag","The `in` tag can be used to check if the authenticated user belongs to one or more groups. This tag operates similarly to the `user:in` tag.","https://statamic.dev/tags/user-in")},dN=eD;var tD={tagName:"not_found",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>Ee("404 (Not Found) Tag","The `not_found` tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ not_found }}
{{ /unless }}`,"https://statamic.dev/tags/404")},mN=tD;var nD={tagName:"is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?z(ha((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="is"||t.leftWord=="/is")&&t.leftChar==":"?z(pN(t.project)):pe,resolveDocumentation:t=>D("is Tag","The `is` tag can be used to check whether the currently authenticated user has one or more roles. This tag behaves the same as the `user:is` tag.","https://statamic.dev/tags/user-is")},hN=nD;var rD={tagName:"widont",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Ee("widont Tag","The `widont` tag is similar to the [widont modifier](https://statamic.dev/modifiers/widont), and will attempt to prevent lines with a single word from appearing within the tags rendered output.",`{{ widont }}
    {{ content }}
{{ /widont }}`,null)},gN=rD;var zu=[{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"id",description:"The user ID to fetch",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"email",description:"The email address to find the user by",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"field",description:"The field to fetch the user by",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"value",description:"The value to search for",expectsTypes:["string"],isDynamic:!1}];var iD={tagName:"user:profile",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:zu,introducedIn:null,augmentScope:(t,e)=>(e.injectBlueprint(t,"user"),e),resovleParameterCompletionItems:(t,e)=>t.name=="field"?z(du(e.project.getUserFields())):pe,resolveDocumentation:t=>D("user:profile Tag","The `user:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null)},Ta=iD;var _N={tagName:"dd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Ee("dd Tag","The `dd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the dd tag.
	#}}
    {{ dd }}
{{ /collection:articles }}`,null)},yN={tagName:"ddd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Ee("ddd Tag","The `ddd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the ddd tag.
	#}}
    {{ ddd }}
{{ /collection:articles }}`,null)};var sD={tagName:"path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["src"],allowsVariableReference:!0,description:"The path source",name:"to",isDynamic:!1,expectsTypes:["string"]},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],description:"Whether to generate absolute paths",expectsTypes:["boolean"],isDynamic:!1,name:"absolute"}],resolveDocumentation:t=>D("path Tag","The `path` tag can be used to generate URLs from relative URLs, or an entry ID.",null)},TN=sD;var oD={tagName:"user:cant",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:Eu,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>D("user:cant Tag","The `user:cant` tag is used to check if the currently authenticated user does not have a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user does not have the specified permissions.","https://statamic.dev/tags/user-can#cant")},Xu=oD;var aD={tagName:"query",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,parameters:[{name:"builder",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The query to evaluate",expectsTypes:["string"],isRequired:!0,isDynamic:!1}]},bN=aD;var ro=K(st());var gi=[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"src",description:"The relative path to the file",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"cache_bust",description:"Whether to output the last modified date",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"version",description:"Whether to check a versioning manifest to produce the final URL",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"absolute",description:"Generate absolute URLs or not",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"locale",description:"The locale the path should be generated in",expectsTypes:["string"],isDynamic:!1}];var lD=[{label:"asset",kind:ro.CompletionItemKind.Text},{label:"css",kind:ro.CompletionItemKind.Text},{label:"img",kind:ro.CompletionItemKind.Text},{label:"js",kind:ro.CompletionItemKind.Text},{label:"output",kind:ro.CompletionItemKind.Text},{label:"path",kind:ro.CompletionItemKind.Text}],cD={tagName:"theme",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,introducedIn:null,injectParentScope:!1,parameters:gi,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="theme"||t.leftWord=="/theme")&&t.leftChar==":"?z(lD):pe},vN=cD;var em={tagName:"theme:path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:gi,resolveDocumentation:t=>D("theme:path Tag","The `theme:path` tag may be used to generate URLs for public assets. This tag may also optionally add the current locale, generate relative URLs, or add cache busting URL parameters to the end of the generated URL.",null)},NN=Ze(em,"theme:asset");var uD={tagName:"theme:css",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...gi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>D("theme:css Tag","The `theme:css` tag may be used to generate a CSS path relative to a public `css/` directory for any arbitrary file path. This tag may also optionally create the HTML `link` tag.",null)},PN=uD;var fD={tagName:"theme:img",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...gi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]},{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"alt",description:"The alt text to use when generating the HTML tag",expectsTypes:["string"]}],resolveDocumentation:t=>D("theme:img Tag","The `theme:img` tag may be used to generate an image path relative to a public `img/` directory for any arbitrary file path. This tag may also optionally create the HTML `img` tag.",null)},IN=fD;var pD={tagName:"theme:js",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...gi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>D("theme:js Tag","The `theme:js` tag may be used to generate a JavaScript path relative to a public `js/` directory for any arbitrary file path. This tag may also optionally create the HTML `script` tag.",null)},SN=pD;var dD={tagName:"theme:output",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"src",description:"The path to the file",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"as",description:"An optional alias for the contents variable",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>{if(t.isClosedBy!=null){let n=t.findParameter("as");n!=null?e.addVariable({name:n.value,dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t}):e.addVariable({name:"output_contents",dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t})}return e},resolveDocumentation:t=>D("theme:output Tag","The `theme:output` tag may be used to output the contents of any arbitrary file, relative to the site's `resources/` directory.",null)},RN=dD;var mD={tagName:"scope",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Ee("scope Tag","The `scope` tag creates a copy of all available variables, and saves them to a new  *array* variable defined by the tag's method part.",`{{ scope:scope_name }}
    {{ scope_name:title }}
{{ /scope:scope_name }}
`,null)},CN=mD;var hD={tagName:"if",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:je,resolveDocumentation:t=>D("if Conditional Control Structure","The contents of the `if` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},AN=hD;var gD={tagName:"elseif",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:je,resolveDocumentation:t=>D("elseif Conditional Control Structure","The contents of the `elseif` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},xN=gD;var _D={tagName:"else",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>D("else Conditional Control Structure","The contents of the `else` control structure will be evaluated when all previous conditional branch conditions were not met.","https://statamic.dev/antlers#conditions")},EN=_D;var wN=K(st());var yD={tagName:"session:has",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:"3.1.28",resolveDynamicParameter:je,resolveDocumentation:t=>D("session:has Tag","The `session:has` tag can be used to determine of the user's session contains a specific variable.","https://statamic.dev/tags/session-has")},Qu=yD;var TD=[_e(Ou),_e(Mu),_e(Lu),_e(Du),_e(Qu),_e(wu)],bD={tagName:"session",requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",description:"An optional alias for the session data",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveCompletionItems:t=>{var e,n;if(t.isPastTagPart==!1&&(t.leftWord=="session"||t.leftWord=="/session")&&t.leftChar==":"){let r=(n=(e=to.instance)==null?void 0:e.getKnownSessionVariableNames())!=null?n:[],i=[];i=i.concat(TD);for(let s=0;s<r.length;s++)i.push({label:r[s],kind:wN.CompletionItemKind.Variable});return z(i)}return pe},augmentScope:(t,e)=>{var s,o;let n=t.findParameter("as"),r=(o=(s=to.instance)==null?void 0:s.getKnownSessionVariableNames())!=null?o:[],i=[];for(let a=0;a<r.length;a++)i.push({dataType:"*",name:r[a],sourceField:null,sourceName:"project.session",introducedBy:t});return n==null?e.addVariables(i):e.addVariableArray(n.value,i),e}},ON=bD;var xl={tagName:"user:forgot_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:je,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t}]),e),resolveDocumentation:t=>D("user:forgot_password_form Tag",'The `user:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form")},tm=Ze(xl,"member:forgot_password_form");tm.resolveDocumentation=t=>D("member:forgot_password_form Tag",'The `member:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form");var El={tagName:"user:reset_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:je,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t}]),e),resolveDocumentation:t=>D("user:reset_password_form Tag","The `user:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form")},nm=Ze(El,"member:reset_password_form");nm.resolveDocumentation=t=>D("member:reset_password_form Tag","The `member:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form");function LN(t,e){return{sourceName:e.blueprintName,dataType:e.type,name:e.name,sourceField:e,introducedBy:t}}function DN(t){let e=new Map;for(let n=0;n<t.length;n++)e.set(t[n].name,t[n]);return e}function ba(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push({sourceName:i.blueprintName,dataType:i.type,name:i.name,sourceField:i,introducedBy:t})}return n}function Ju(t){return[{name:"handle",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"display",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"type",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"field",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"error",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"instructions",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"old",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t}]}var wl={tagName:"user:register_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after registering",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed registration attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:je,augmentScope:(t,e)=>{e.addVariableArray("fields",Ju(t)),e.addVariable({name:"errors",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"old",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"error",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"success",dataType:"string",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t});let n=e.statamicProject.getUserFields();if(n.length>0){let r=ba(t,n);e.addVariableArray("old",r),e.addVariableArray("error",r)}return e},resolveDocumentation:t=>D("user:register_form  Form Tag","The `user:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form")},rm=Ze(wl,"member:register_form");rm.resolveDocumentation=t=>D("member:register_form Tag","The `member:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form");var vD=[_e(_a),_e(ga),_e(ya),_e(Ta),_e(fa),_e(Xu),_e(xl),_e(pa),_e(da),_e(wl),_e(El)],ND={tagName:"user",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:zu,introducedIn:null,resovleParameterCompletionItems:(t,e)=>e.isPastTagPart==!1&&e.currentNode!=null&&e.currentNode.methodIsEmptyOrMatches("profile")&&t.name=="field"?z(du(e.project.getUserFields())):pe,augmentScope:(t,e)=>(t.methodIsEmptyOrMatches("profile")&&e.injectUserFields(t),e),resolveCompletionItems:t=>(t.leftWord=="user"||t.leftWord=="/user"||t.leftWord=="member"||t.leftWord=="/member")&&t.leftChar==":"?z(vD):pe,resolveDocumentation:t=>D("user Tag","The `user` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null)},Zu=ND;var ef=Ze(Zu,"member"),im=Ze(_a,"member:is"),sm=Ze(ya,"member:isnt"),om=Ze(Ta,"member:profile"),am=Ze(fa,"member:can"),lm=Ze(pa,"member:logout"),cm=Ze(da,"member:logout_url"),um=Ze($u,"member:in"),fm=Ze(ga,"member:not_in");ef.hideFromCompletions=!0;ef.resolveDocumentation=t=>D("member Tag","The `member` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);im.resolveDocumentation=t=>D("member:is Tag","The `member:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is");sm.resolveDocumentation=t=>D("member:isnt Tag","The `member:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt");om.resolveDocumentation=t=>D("member:profile Tag","The `member:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);am.resolveDocumentation=t=>D("member:can Tag","The `member:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can");lm.resolveDocumentation=t=>D("member:logout Tag","The `member:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout");cm.resolveDocumentation=t=>Ee("member:logout_url","The `member:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ member:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url");um.resolveDocumentation=t=>D("member:in Tag","The `member:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in");fm.resolveDocumentation=t=>D("member:not_in Tag","The `member:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in");function Ts(t){return[{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t},{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t}]}var FN=K(st());var pm=["from","taxonomy","is","use","folder"],dm=["not_from","not_in","dont_use","not_taxonomy"];var mm=pm;mm=mm.concat(dm);function MN(t,e){var n,r,i,s,o,a,l,c;if(e.nodesInScope.length>0){let u=e.nodesInScope[e.nodesInScope.length-1];if(u!=null&&u.currentScope!=null){let f=va(u,e.project),m=e.project.getTaxonomyBlueprintFields(f),p=m.map(h=>h.name),d=ji(e.leftWord);if(p.includes(d))return z(ds(e))}}return t.name=="collection"&&((n=e.context)==null?void 0:n.parameterContext)!=null?z(ta((s=(i=(r=e.context)==null?void 0:r.parameterContext.parameter)==null?void 0:i.getArrayValue())!=null?s:[],e.project)):t.name=="filter"||t.name=="query_scope"?z(hu(e.project)):mm.includes(t.name)&&((o=e.context)==null?void 0:o.parameterContext)!=null?z(kN((c=(l=(a=e.context)==null?void 0:a.parameterContext.parameter)==null?void 0:l.getArrayValue())!=null?c:[],e.project)):null}function va(t,e){let n=[];if(t.hasMethodPart())return n.push(t.getMethodNameValue()),n;let r=t.findAnyParameter(pm),i=t.findAnyParameter(dm),s=[],o=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueTaxonomyNames(),typeof i!="undefined"&&i!==null&&i.isVariableReference==!1&&i.hasInterpolations()==!1&&(o=i.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),o.length>0?n=s.filter(function(a){return o.includes(a)==!1}):n=s,n}function kN(t,e){let n=[],r=e.getUniqueTaxonomyNames().filter(i=>!t.includes(i));for(let i=0;i<r.length;i++)n.push({label:r[i],kind:FN.CompletionItemKind.Variable});return n}function qN(t,e){let n=va(t,e.statamicProject),r=e.statamicProject.getTaxonomyBlueprintFields(n),i=t.findParameter("collection");if(e.addBlueprintFields(t,r),e.addVariables([{name:"first",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"last",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"index",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"total_results",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"entries_count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t}]),e.addVariables(Ts(t)),typeof i!="undefined"&&i!==null){let s=i.getArrayValue();if(s.length>0){let o=e.statamicProject.getBlueprintFields(s);e.introduceScopedAliasScope(t,"entries","entries",o).addVariables(ms(t))}else e.addVariableArray("entries",Ts(t).concat(ms(t)))}else e.addVariableArray("entries",Ts(t).concat(ms(t)));return e}var PD=[{name:"from",description:"The taxonomy to use",aliases:["taxonomy","is","use","folder"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"not_from",description:"Taxonomies to exclude",aliases:["not_in","not_folder","dont_use","not_taxonomy"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string","array"],isRequired:!1,isDynamic:!1},{name:"min_count",description:"The minimum number of entries a taxonomy term must have to be returned",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"collection",description:"Filter the terms to those that appear in the specified collections",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"sort",description:"The field to sort terms by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope",expectsTypes:["string"],isDynamic:!1}],VN=PD;var hm=K(st());function BN(t){var n,r;let e=[];if(t.currentNode!=null&&t.currentNode.currentScope!=null){let i=va(t.currentNode,t.project),s=t.project.getTaxonomyBlueprintFields(i),o=s.map(l=>l.name),a=ji(t.leftWord);if(o.includes(a))return z(ds(t));if(t.isCaretInTag&&!((n=t.context)==null?void 0:n.interpolatedContext)&&["taxonomy","/taxonomy"].includes(t.leftWord)==!1){let l=[];for(let c=0;c<s.length;c++){let u=s[c];l.includes(u.name)==!1&&(e.push({label:u.name,detail:u.blueprintName,documentation:(r=u.instructionText)!=null?r:"",kind:hm.CompletionItemKind.Field}),l.push(u.name))}if(e.length>0)return fn(e)}}if((t.leftWord=="taxonomy"||t.leftWord=="/taxonomy")&&t.leftChar==":"){let i=t.project.getUniqueTaxonomyNames();for(let s=0;s<i.length;s++)e.push({label:i[s],kind:hm.CompletionItemKind.Field});return fn(e)}return pe}var ID={tagName:"taxonomy",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:VN,resolveDynamicParameter:je,resolveCompletionItems:BN,resovleParameterCompletionItems:MN,augmentScope:qN,resolveDocumentation:t=>D("taxonomy Tag","The `taxonomy` tag may be used to retrieve taxonomy entries. The taxonomy tag can also be used to access entries associated with any given taxonomy term.","https://statamic.dev/tags/taxonomy")},jN=ID;var gm=K(st());function UN(t,e){e.addVariables([{name:"is_published",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_page",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"has_entries",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_parent",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_external",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"depth",dataType:"number",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"children",dataType:"array",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t}]);let n=e.statamicProject.getUniqueCollectionNames(),r=[],i=!1;if(t.hasMethodPart()){let s=t.getMethodNameValue().trim().toLowerCase();if(s.startsWith("collection:")){let o=s.split(":").pop();i=!0,r.push(o)}else s=="pages"?(i=!0,r.push("pages")):(i=!1,r.push(s))}else{let s=t.findParameter("handle");s!=null&&(n.includes(s.value)?i=!0:i=!1,r.push(s.value))}if(i){let s=e.statamicProject.getBlueprintFields(r);e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}else{let s=mu(Ts(t));e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}return e}var SD={tagName:"nav:breadcrumbs",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:[{name:"include_home",description:"Whether to include the home page in the first level",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"reverse",description:"Whether to reverse the order of links",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isRequired:!1,isDynamic:!1},{name:"trim",description:"Whether to trim the whitespace after each iteration of the loop",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],augmentScope:(t,e)=>(e.addVariables([{name:"is_current",dataType:"boolean",sourceName:"*internal.nav.breadcrumbs",sourceField:null,introducedBy:t}]),e.addVariables(Ts(t)),e),resolveDocumentation:t=>D("nav:breadcrumbs Tag","The `nav:breadcrumbs` tag can be used to retrieve the URLs of all pages that make up the current URL back to the site's home page.","https://statamic.dev/tags/nav-breadcrumbs")},tf=SD;function GN(t,e){if(t.name=="handle"){let n=e.project.getUniqueCollectionNames(),r=e.project.getUniqueNavigationMenuNames(),i=[];return i=n,i=i.concat(r),i=[...new Set(i)],ft(i)}return null}var RD=[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["handle"],allowsVariableReference:!1,name:"for",description:"The navigation or collection to use",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],name:"from",description:"The starting point for the navigation",allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"show_unpublished",description:"Whether to include unpublished content",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"include_home",description:"Whether to include the home page in the tree",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"max_depth",description:"The maximum depth of the navigation or structure",expectsTypes:["number"],isDynamic:!1}],WN=RD;var _m={tagName:"structure",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,injectParentScope:!1,parameters:WN,augmentScope:UN,resovleParameterCompletionItems:GN,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="nav"||t.leftWord=="/nav"||t.leftWord=="structure"||t.leftWord=="/structure")&&t.leftChar==":"){let n=t.project.getUniqueNavigationMenuNames();for(let r=0;r<n.length;r++)e.push(fs(n[r],"",""));return(t.leftWord=="nav"||t.leftWord=="/nav")&&e.push(_e(tf)),e.push(fs("collection","","")),e.push({label:"collection",kind:gm.CompletionItemKind.Text}),fn(e)}if((t.leftWord=="nav:collection"||t.leftWord=="/nav:collection"||t.leftWord=="collection"||t.leftWord=="/collection"||t.leftWord=="structure:collection"||t.leftWord=="/structure:collection")&&t.leftChar==":"){let n=t.project.getUniqueCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:gm.CompletionItemKind.Field});return fn(e)}return pe},resolveDocumentation:t=>D("nav Tag","The `nav` tag can be used to iterate structured collections or navigation menus.","https://statamic.dev/tags/nav")},HN=Ze(_m,"nav");var $N=K(st());function YN(t){return[{name:"success",dataType:"string",sourceField:null,sourceName:"*internal.forms",introducedBy:t},{name:"submission_created",dataType:"boolean",sourceField:null,sourceName:"*internal.forms",introducedBy:t}]}var CD={name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},_i=CD;var ym=K(st()),AD=[{label:"GET",kind:ym.CompletionItemKind.EnumMember},{label:"POST",kind:ym.CompletionItemKind.EnumMember}],KN=AD;var Jr=["in","handle","is","form","formset"];function Na(t,e){return Jr.includes(t.name)?ft(e.project.getUniqueFormNames()):t.name=="method"?z(KN):t.name=="files"?z(ia):null}function yi(t,e){let n=t.structure.findParentWithName("form:set");return n!=null?{context:n,issues:[]}:{context:null,issues:[]}}var xD=["set","create","errors","success","submissions","submission"];function io(t){if(t.reference!=null&&"tagPart"in t.reference){let r=t.reference;if(r.nameMatches("form:set"))return io(r)}let e=t.findAnyParameter(Jr),n=t.getMethodNameValue();return n!=null&&xD.includes(n)==!1?n:typeof e!="undefined"&&e!==null&&e.containsSimpleValue()?e.value:""}var ED={tagName:"form:create",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[_i,{name:"method",description:"The HTTP method to use",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"files",description:"Indicates if the form sends file data",aliases:[],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"redirect",description:"The location to redirect users after a successful form submission",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",description:"The location to redirect users to after a failed form submission",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override redirect or error_redirect",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveSpecialType:yi,resovleParameterCompletionItems:Na,resolveDynamicParameter:je,augmentScope:(t,e)=>{e.addVariables(YN(t)),e.addVariable({dataType:"array",name:"errors",sourceField:null,sourceName:"*internal.forms",introducedBy:t}),e.addVariableArray("fields",Ju(t));let n=io(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n),i=ba(t,r);e.addVariableArray("old",i),e.addVariableArray("error",i)}return e},resolveDocumentation:t=>D("form:create Tag","The `form:create` tag can be used to access form data, generate field HTML markup, and handle form validation errors.","https://statamic.dev/tags/form-create")},nf=ED;var wD={tagName:"form:errors",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[_i],resolveSpecialType:yi,resovleParameterCompletionItems:(t,e)=>Jr.includes(t.name)?ft(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>D("form:errors Tag","The `form:errors` tag can be used to retrieve validation errors after a user has submitted a form.","https://statamic.dev/tags/form-errors")},rf=wD;var OD={tagName:"form:set",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!0}],resovleParameterCompletionItems:Na,resolveDocumentation:t=>D("form:set Tag","The `form:set` tag can be used to set the form handle on all nested form tags.","https://statamic.dev/tags/form-set")},sf=OD;var LD={tagName:"form:submission",requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[_i],resolveSpecialType:yi,resovleParameterCompletionItems:(t,e)=>Jr.includes(t.name)?ft(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{let n=io(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n);e.addBlueprintFields(t,r)}return e},resolveDocumentation:t=>D("form:submission Tag","The `form:submission` tag can be used to access the form submission submitted by the current user.","https://statamic.dev/tags/form-submission")},of=LD;var DD={tagName:"form:submissions",allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[_i],resolveSpecialType:yi,resovleParameterCompletionItems:(t,e)=>Jr.includes(t.name)?ft(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let n=io(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n);e.addBlueprintFields(t,r)}return e.addVariable({name:"date",dataType:"date",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e},resolveDocumentation:t=>D("form:submissions Tag","The `form:submissions` tag can be used to fetch previously saved submissions for a form.","https://statamic.dev/tags/form-submissions")},af=DD;var MD={tagName:"form:success",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[_i],resolveSpecialType:yi,resovleParameterCompletionItems:(t,e)=>Jr.includes(t.name)?ft(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>D("form:success Tag","The `form:success` tag can be used to check if a form submission was successful or not.","https://statamic.dev/tags/form-success")},lf=MD;var kD=[_e(sf),_e(nf),_e(rf),_e(lf),_e(af),_e(of)],FD={tagName:"form",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resovleParameterCompletionItems:Na,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="form"||t.leftWord=="/form")&&t.leftChar==":"){let n=t.project.getUniqueFormNames();e=e.concat(kD);for(let r=0;r<n.length;r++)e.push({label:n[r],kind:$N.CompletionItemKind.Field});return fn(e)}return pe}},zN=FD;var Tm={tagName:"search:results",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"index",description:"The index to search in",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"query",description:"The query string parameter to use",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"limit",description:"The maximum number of search results to return",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{name:"offset",description:"The number of results to skip",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether not to paginate entry results",expectsTypes:["boolean"],isRequired:!1,name:"paginate",isDynamic:!1},{name:"as",description:"Specifies an alias for search results",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"supplement_data",description:"Controls whether non-indexed fields are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="index"?ft(e.project.getSearchIndexes()):null,augmentScope:(t,e)=>{e.addVariables([{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]);let n=t.findParameter("as");return n!=null&&n.value.trim().length>0?e.addVariableArray(n.value,XN(t)):e.addVariables(XN(t)),e},resolveDocumentation:t=>D("search:results Tag","The `search:results` tag provides access to all data that was returned as a result of a user's search.","https://statamic.dev/tags/search")},qD=[_e(Tm)];function XN(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"content",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_term",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"count",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"index",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"search_score",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"_highlightResult",dataType:"array",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]}var QN={tagName:"search",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="search"||t.leftWord=="/search")&&t.leftChar==":"?fn(qD):pe};function bm(t){return[{name:"email",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"password",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]}var vm={tagName:"user:login_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after logging in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed login attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:je,augmentScope:(t,e)=>(e.addVariables([{name:"errors",dataType:"array",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"success",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]),e.addVariables(bm(t)),e.addVariableArray("old",bm(t)),e.addVariableArray("error",bm(t)),e),resolveDocumentation:t=>D("user:login_form Tag","The `user:login_form` tag can be used to quickly create a form that users can use to authenticate with the site.","https://statamic.dev/tags/user-login_form")},JN=Ze(vm,"member:login_form");var VD={tagName:"noparse",requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>D("noparse Tag","The `noparse` tag is used prevent blocks of Antlers code from being parsed, removing the need to escape individual Antlers code regions.","https://statamic.dev/antlers#the-noparse-tag")},ZN=VD;var BD={tagName:"unless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:je,resolveDocumentation:t=>D("unless Conditional Control Structure","The `unless` control structure operates the same as an `if` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},eP=BD;var jD={tagName:"elseunless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:je,resolveDocumentation:t=>D("elseunless Conditional Control Structure","The `elseunless` control structure operates the same as an `elseif` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},tP=jD;var nP=K(Zt());var rP={tagName:"installed",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!0,introducedIn:"3.1.19",parameters:[],resolveCompletionItems:t=>{if(t.project!=null){let e=t.project.getComposerPackages(),n=[];return e.forEach((r,i)=>{n.push({label:r.name,kind:nP.CompletionItemKind.Text})}),z(n)}return pe},resolveDocumentation:t=>Ee("installed Tag","The `installed` tag is used to check if the site has a specific Composer package available.",`{{ if {installed:composer/package-name} }}
    {{# Package is availabl.e #}}
{{ else }}
    {{# Something else. #}}
{{ /if }}`,"https://statamic.dev/tags/installed")};var UD={tagName:"relate",hideFromCompletions:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[]},iP=UD;var Pa=[{name:"bag",description:"The error message bag to retrieve errors from.",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}];var GD={tagName:"get_errors",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:Pa,introducedIn:"3.2.23",augmentScope:(t,e)=>{var n;if(t.isClosingTag)return e;if(((n=t.name)==null?void 0:n.methodPart)==null){let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"field",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"field",refFieldSetField:null,sets:null,type:"string"}});let i=r.copy();i.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),r.addScopeList("messages",i),e.addScopeList("fields",r)}else{let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",r)}return e},resolveDocumentation:t=>D("get_errors Tag","The `get_errors` tag can be used to retrieve form validation errors.","https://statamic.dev/tags/get_errors")},sP=GD;var WD={tagName:"get_errors:all",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:Pa,introducedIn:null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let n=e.copy();return n.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors.all",sourceField:{blueprintName:"*internal.tag.get_errors.all",displayName:"get_errors:all",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",n),e},resolveDocumentation:t=>D("get_errors:all Tag","The `get_errors:all` tag can be used to retrieve all form validation errors.","https://statamic.dev/tags/get_errors#list-all-validation-errors")},oP=WD;var HD={tagName:"get_error",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:Pa,introducedIn:null,augmentScope:(t,e)=>(t.isClosingTag||e.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_error",sourceField:{blueprintName:"*internal.tag.get_error",displayName:"get_error",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e),resolveDocumentation:t=>D("get_error Tag","The `get_error` tag can be used to retrieve the first error message for a specific field.","https://statamic.dev/tags/get_errors#get-the-first-error-for-a-specific-field")},aP=HD;var YD={tagName:"set",hideFromCompletions:!0,allowsArbitraryParameters:!0,requiresClose:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[]},lP=YD;var cP=K(Zt());var KD={tagName:"mount_url",hideFromCompletions:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:"3.3.15",parameters:[{isRequired:!1,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The collection handle",name:"handle",isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>D("mount Tag","The `mount` tag can be used to retrieve the mount URL for a given collection.",null),resovleParameterCompletionItems:(t,e)=>{var n,r,i,s;return t.name=="handle"&&((n=e.context)==null?void 0:n.parameterContext)!=null?z(ta((s=(i=(r=e.context)==null?void 0:r.parameterContext.parameter)==null?void 0:i.getArrayValue())!=null?s:[],e.project)):null},resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="mount_url"||t.leftWord=="/mount_url")&&t.leftChar==":"){let n=t.project.getCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:cP.CompletionItemKind.Field,sortText:"0"})}return{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}},uP=KD;var $D={tagName:"vite",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"src",description:"The entry point",expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>Ee("vite Tag","Generates Vite tags for an entrypoint.",'{{ vite src="entry/point" }}',null)},fP=$D;var pP=[AN,xN,EN,eP,tP,Xv,Zv,bv,Iu,Js,Su,Pu,Nu,iP,zN,nf,of,af,sf,lf,rf,lP,sP,aP,oP,QN,Tm,Cv,Ru,Cu,Pv,mN,Nv,yN,_N,vv,eN,nN,sN,Hu,Iv,Sv,Rv,oN,aN,Av,Au,cN,Ku,uN,uP,HN,_m,tf,Ev,xv,$u,dN,ga,_a,hN,rP,Zu,ya,fa,Xu,pa,da,Ta,vm,El,xl,wl,ef,im,sm,om,am,lm,cm,um,fm,JN,nm,tm,rm,ZN,Lv,Dv,Mv,Yv,Kv,TN,Gv,jv,CN,Hv,ON,Mu,Du,Lu,Ou,Qu,wu,zv,jN,vN,em,NN,PN,IN,SN,RN,Bu,$v,Xd,bN,qv,ku,gN,fP];var bs=class{constructor(){this.tags=new Map;this.parameters=new Map}reset(){this.tags.clear(),this.parameters.clear(),this.loadCoreTags()}getVisibleTagsWithDocumentation(){let e=[];return this.tags.forEach((n,r)=>{if(n.hideFromCompletions==!1){let i="";n.resolveDocumentation!=null&&(i=n.resolveDocumentation()),e.push({label:r,documentation:i})}}),e}getVisibleTagNames(){let e=[];return this.tags.forEach((n,r)=>{n.hideFromCompletions==!1&&e.push(r)}),[...new Set(e)]}getPossibleTagMethods(e){let n=[],r=e.length+1;return this.tags.forEach((i,s)=>{if(s.startsWith(e)){let o=s.substr(r).trim();o.length>0&&n.push(o)}}),[...new Set(n)]}getTagNames(){let e=[];return this.tags.forEach((n,r)=>{e.push(r)}),[...new Set(e)]}loadCoreTags(){this.registerTags(pP)}cleanTagName(e){return Ln(e,"/")}findTag(e){return this.tags.get(this.resolveTagName(e))}isKnownTag(e){return this.tags.has(this.resolveTagName(e))}isSymbolKnownTag(e){return this.isKnownTag(e.runtimeName())}resolveTagName(e){return e=this.cleanTagName(e.trim()),this.tags.has(e)||e.includes(":")&&(e=e.split(":")[0]),e}canResolveSpecialTypes(e){e=this.resolveTagName(e);let n=this.tags.get(e);return!(typeof n=="undefined"||n==null||n.resolveSpecialType==null)}resolveSpecialType(e,n,r){e=this.resolveTagName(e);let i=this.findTag(e);if(i.resolveSpecialType==null)throw new Error(e+" does not support special types.");return i.resolveSpecialType(n,r)}getCompletionItems(e){var s;let n=null,r=[],i=!0;if(e.nodesInScope.length>0&&(n=e.nodesInScope[e.nodesInScope.length-1]),e.currentNode!=null&&this.isKnownTag(e.currentNode.runtimeName())){let o=this.findTag(e.currentNode.runtimeName());if(typeof o=="undefined")return{isExclusive:!1,items:[]};let a=[];if(o.resolveCompletionItems!=null){let l=o.resolveCompletionItems(e);if(l.isExclusiveResult)return{isExclusive:!0,items:l.items};i=l.analyzeDefaults,r=r.concat(l.items)}if(e.isPastTagPart==!1){let l=this.getPossibleTagMethods(o.tagName);for(let c=0;c<l.length;c++)r.push({label:l[c],kind:dP.CompletionItemKind.Text})}if(i){if(e.isCaretInTag==!0&&o.parameters.length>0&&(r=r.concat(Bd(e,o.parameters)),o.tagName=="partial"&&(n==null?void 0:n.hasMethodPart()))){let l=n.getMethodNameValue();if(l.trim().length>0&&((s=se.instance)==null?void 0:s.hasStructure())){let c=se.instance.getStructure().findPartial(l);c!=null&&c.injectsParameters.length>0&&(r=r.concat(Bd(e,c.injectsParameters)))}}for(let l=0;l<e.nodesInScope.length;l++)if(e.nodesInScope[l].runtimeType!==null){let c=e.nodesInScope[l].runtimeType;if(c!=null&&c.assumedType=="structure_ref"&&c.supplementedFields!=null)for(let u=0;u<c.supplementedFields.length;u++)r.push(jd(c.supplementedFields[u]))}}return{items:r,isExclusive:!1}}return{items:r,isExclusive:!1}}injectParentScope(e){let n=this.findTag(e);return typeof n=="undefined"||n==null?!0:n.injectParentScope}resolveParameterCompletions(e,n,r){let i=this.findTag(e);return typeof i!="undefined"&&i!==null&&typeof i.resovleParameterCompletionItems!="undefined"&&i.resovleParameterCompletionItems!==null?i.resovleParameterCompletionItems(n,r):null}canResolveDynamicParameter(e){let n=this.resolveTagName(e);if(this.isKnownTag(n)){let r=this.tags.get(n);if(typeof r=="undefined")return!1;if(typeof r.resolveDynamicParameter!="undefined"&&r.resolveDynamicParameter!=null)return!0}return!1}getParameter(e,n){let r=this.resolveTagName(e);if(this.parameters.has(r)==!1)return null;let i=this.parameters.get(r);if(i==null)return null;if(i.has(n)==!1){let o=this.findTag(e);if(o!=null&&typeof o.resolveDynamicParameter!="undefined"&&o.resolveDynamicParameter!=null){let a=o.resolveDynamicParameter(null,n);if(a!==null)return a}return null}let s=i.get(n);return typeof s=="undefined"||i==null?null:s}registerTags(e){for(let n=0;n<e.length;n++)this.registerTag(e[n])}registerTag(e){if(this.tags.set(e.tagName,e),this.parameters.has(e.tagName)==!1&&this.parameters.set(e.tagName,new Map),e.parameters.length>0){let n=this.parameters.get(e.tagName);for(let r=0;r<e.parameters.length;r++){let i=e.parameters[r];n==null||n.set(i.name,i)}}}requiresClose(e){let n=e.getTagName();if(this.tags.has(n)){let r=this.findTag(n);if(r!=null)return r.requiresCloseResolver!=null?r.requiresCloseResolver(e):r.requiresClose}return!1}};bs.instance=null;(typeof bs.instance=="undefined"||bs.instance==null)&&(bs.instance=new bs,bs.instance.loadCoreTags());var he=bs;var gr=class{constructor(e){this.generation=0;this.id="";this.name="";this.values=new Map;this.lists=new Map;this.pristine=new Map;this.parentScope=null;this.statamicProject=e,gr.generationCounter+=1,this.generation=gr.generationCounter,this.id=os()}makeNew(){return new gr(this.statamicProject)}ancestor(){return this.parentScope!=null?this.parentScope:this}canShiftScope(e){return!!this.pristine.has(e)}shiftScope(e,n,r){if(this.pristine.has(n)){let i=this.pristine.get(n),s=i.parentCopy.copy();return s.introduceAliasScope(e,r,i.introducedFields),s}return this}containsPath(e){if(e.includes(":")){let n=e.split(":"),r=n.shift(),i=n.join(":");if(typeof r=="undefined")return!1;let s=this.lists.get(r);return typeof s=="undefined"?!1:s.containsPath(i)}return!!this.lists.has(e)}findReference(e){if(e.includes(":")){let n=e.split(":"),r=n.pop(),i=n.join(":"),s=this.findNestedScope(i);if(s!=null)return s.findReference(r)}return this.values.has(e)?this.values.get(e):null}findReferenceWithField(e){if(e.includes(":")){let n=e.split(":"),r=n.pop(),i=n.join(":"),s=this.findNestedScope(i);if(s!=null)return s.findReference(r)}if(this.values.has(e)){let n=this.values.get(e);if(n.sourceField==null){if(n.introducedBy!=null&&n.introducedBy.currentScope!=null&&n.introducedBy.currentScope!=this)return n.introducedBy.currentScope.findReferenceWithField(n.introducedBy.getTagName());if(this.parentScope!=null&&this.parentScope!=this)return this.parentScope.findReferenceWithField(e)}return n}return null}containsReference(e){return this.findReference(e)!=null}findNestedScope(e){if(e.includes(":")){let n=e.split(":"),r=n.shift(),i=n.join(":");if(typeof r=="undefined")return null;let s=this.lists.get(r);return typeof s=="undefined"?null:s.findNestedScope(i)}return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this&&this.parentScope.hasList(e)?this.parentScope.lists.get(e):null}liftList(e){if(this.lists.has(e)){let n=this.lists.get(e);return typeof n=="undefined"||n===null?null:(this.lists.delete(e),n)}return null}hasPristineReference(e){return!!this.pristine.has(e)}hasListInHistory(e){return this.hasList(e)?!0:this.parentScope!=null?this.name=="*root*"?!1:this.parentScope.hasList(e):!1}hasList(e){if(this.lists.has(e)){let n=this.lists.get(e);return!(typeof n=="undefined"||n===null)}return!1}bringListIntoMainScope(e){if(e.includes(":")){let r=e.split(":"),i=r.shift(),s=r.join(":");if(typeof i=="undefined")return this;let o=this.lists.get(i);return typeof o=="undefined"?this:o.bringListIntoMainScope(s)}let n=this.lists.get(e);return this.lists.delete(e),this.mergeScope(n)}getListNames(){let e=[];return this.lists.forEach((n,r)=>{e.push(r)}),e}getVariableNames(){let e=[];return this.values.forEach(n=>{e.push(n.name)}),e}getList(e){return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this?this.parentScope.getList(e):null}hasValue(e){return this.values.has(e)}findAncestorWithList(e){return this.hasList(e)?this:this.parentScope!=null&&this.parentScope!=this?this.parentScope.findAncestorWithList(e):null}findReferenceNotIntroducedBy(e,n){if(this.hasValue(e)){let r=this.values.get(e);if(r.introducedBy!=null&&r.introducedBy!=n)return r}return this.parentScope!=null&&this.parentScope!=this?this.parentScope.findReferenceNotIntroducedBy(e,n):null}removeThroughIntroduction(e,n){if(this.values.delete(e),this.parentScope!=null){let r=this.findReferenceNotIntroducedBy(e,n);r!=null&&this.addVariable(r)}}wasIntroducedBySymbol(e,n){if(this.values.has(e)==!1)return!1;let r=this.values.get(e);return r.introducedBy!=null?r.introducedBy==n:!1}referencesArray(e){return this.values.has(e)==!1?!1:this.values.get(e).dataType=="array"}addScopeList(e,n){return this.lists.set(e,n),this}mergeAndList(e,n){let r=new gr(this.statamicProject);return r.values=DN(n),this.lists.set(e,r),this.mergeVariableScope(n),this}mergeScope(e){return e==this||e==null?this:(typeof e.values!="undefined"&&e.values!==null&&e.values.forEach((n,r)=>{this.values.set(r,n)}),typeof e.lists!="undefined"&&e.lists!==null&&e.lists.forEach((n,r)=>{this.lists.set(r,n)}),this)}mergeVariableScope(e){for(let n=0;n<e.length;n++)this.values.set(e[n].name,e[n]);return this}addVariable(e){this.values.set(e.name,e)}addVariables(e){for(let n=0;n<e.length;n++)this.addVariable(e[n])}addVariableArray(e,n){this.values.has(e)&&this.values.delete(e);let r=new gr(this.statamicProject);r.addVariables(n),this.addScopeList(e,r)}injectAssetContainer(e,n){this.addBlueprintFields(e,this.statamicProject.getAssetBlueprintFields(n))}injectUserFields(e){this.addBlueprintFields(e,this.statamicProject.getUserFields())}addBlueprintField(e,n){this.addVariable({dataType:n.type,name:n.name,sourceField:n,sourceName:n.blueprintName,introducedBy:e})}introduceScopedAliasScope(e,n,r,i){this.pristine.set(r,{introducedFields:i,introducedScope:r,parentCopy:this.copy()});let s=new gr(this.statamicProject),o=new gr(this.statamicProject);return o.addBlueprintFields(e,i),s.name=r,s.addScopeList(n,o),this.addScopeList(r,s),s}expandScopedAliasScope(e,n,r,i){this.lists.has(r)==!1?this.introduceScopedAliasScope(e,n,r,i):this.lists.get(r).addBlueprintFields(e,i)}introduceAliasScope(e,n,r){this.pristine.set(n,{introducedFields:r,introducedScope:n,parentCopy:this.copy()});let i=new gr(this.statamicProject);i.addBlueprintFields(e,r),i.name=n,this.addScopeList(n,i)}introduceDynamicScopeList(e,n,r){this.pristine.set(n,{introducedFields:r,introducedScope:n,parentCopy:this.copy()});let i=new gr(this.statamicProject);i.name=n,i.addBlueprintFields(e,r),this.addScopeList(n,i)}addBlueprintFields(e,n){for(let r=0;r<n.length;r++)this.addBlueprintField(e,n[r])}injectBlueprint(e,n){let r=this.statamicProject.getBlueprintDetails(n);r.length>0&&this.addBlueprintFields(e,r)}copy(){let e=new gr(this.statamicProject);return e.pristine=new Map(this.pristine),e.values=new Map(this.values),e.lists=new Map(this.lists),e.parentScope=this,e}},Jn=gr;Jn.generationCounter=0;function Nm(t){let e=new Jn(t);return e.addVariable({dataType:"string",name:"handle",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"name",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"short_locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e}function mP(){let t=[];return t.push({dataType:"number",name:"response_code",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_field",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_token",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"environment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"xml_header",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"last_segment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_uri",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"amp_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"api_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_full_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_in",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_out",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"is_homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"now",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"today",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"current_date",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get_post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"old",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t}function hP(t,e){let n=t.findParameter("paginate");if(n!=null&&(n.value.toLowerCase()=="true"||parseInt(n.value).toString()==n.value)){let r=e.makeNew(),i=e.makeNew(),s=e.makeNew(),o=e.makeNew();r.addVariable({name:"next_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"prev_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_items",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_pages",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"current_page",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"auto_links",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),s.addVariable({name:"url",dataType:"string",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),s.addVariable({name:"page",dataType:"integer",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),o.addVariable({name:"first",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),o.addVariable({name:"last",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),o.addVariable({name:"slider",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),i.addScopeList("all",s),i.addScopeList("segments",o),r.addScopeList("links",i),e.addScopeList("paginate",r)}}var so=class{constructor(){this.fileInjections=new Map;this.project=null}updateProject(e){this.project=e}registerInjections(e,n){if(n.length==0)return;let r=[];for(let i=0;i<n.length;i++){let s=n[i];s.hasParameters&&r.push(s)}if(r.length>0){let i=r[0].getMethodNameValue();if(i!=null&&this.project!=null){let s=this.project.findPartial(i);s!=null&&(this.fileInjections.has(s.documentUri)||this.fileInjections.set(s.documentUri,new Map),this.fileInjections.get(s.documentUri).set(e,r))}}}hasAvailableInjections(e){return this.fileInjections.has(e)}getScopeInjection(e,n){let r=new Jn(n);return r.name="*injection*",this.fileInjections.get(e).forEach((s,o)=>{for(let a=0;a<s.length;a++){let l=s[a];if(l.hasParameters)for(let c=0;c<l.parameters.length;c++){let u=l.parameters[c];if(u.containsSimpleValue())r.addVariable({dataType:"string",name:u.name,sourceField:null,sourceName:"scope.injection",introducedBy:l});else if(u.isVariableReference&&l.currentScope!=null&&l.currentScope.hasListInHistory(u.value)){let f=l.currentScope.findNestedScope(u.value);if(f!=null){let m=Ln(u.name,":"),p=f.copy();p.name=m,r.addScopeList(m,f)}}}}}),r}};so.instance=null;(typeof so.instance=="undefined"||so.instance==null)&&(so.instance=new so);var oo=so;var zD=["collection"],XD=["if","elseif","unless","elseunless"],Pm=class{constructor(e,n,r){this.pageVars=[];this.viewDataVars=null;this.documentUri="";this.lastSymbolId="";this.ideHelperMap=new Map;this.statamicProject=e,this.documentUri=n,this.document=r,this.makePageScope(),this.makeViewDataScope()}makeViewDataScope(){this.document.hasFrontMatter()&&(this.viewDataVars=this.document.getFrontMatterScope())}makePageScope(){let e=[],n=this.statamicProject.getFields();if(n.has("pages")){let r=n.get("pages");for(let i=0;i<r.length;i++){let s=r[i];e.push({name:s.name,dataType:s.type,sourceField:s,sourceName:s.blueprintName,introducedBy:null})}}this.pageVars=e}analyzeScope(e){var u,f,m,p,d,h,y,_,T;let n=new Jn(this.statamicProject);n.name="*root*",n.parentScope=n,n.addScopeList("site",Nm(this.statamicProject)),n.addScopeList("sites",Nm(this.statamicProject)),n.addVariables(mP());let r=new Jn(this.statamicProject);r.name="*root_user*",r.parentScope=n,this.statamicProject.getUserFields().forEach(S=>{r.addBlueprintField(null,S)}),n.addScopeList("current_user",r),((u=wr.instance)==null?void 0:u.pageScopeDisabled(this.documentUri))?this.viewDataVars!=null&&n.addScopeList("view",this.viewDataVars):this.viewDataVars!=null?n.mergeAndList("page",this.pageVars).addScopeList("view",this.viewDataVars):n.mergeAndList("page",this.pageVars);let i=null;e.length>0&&e[0].isComment&&(i=hl(this.documentUri,e[0]));for(let S=0;S<e.length;S++)if(e[S].isComment){let g=hl(this.documentUri,e[S]);g.variableHelper!=null&&this.ideHelperMap.set(e[S].id(),g.variableHelper)}let s=this.statamicProject.getCollectionNamesForView(this.documentUri);if(i!=null&&(i.collectionInjections.length>0&&(s=s.concat(i.collectionInjections)),i.blueprints.length>0&&(s=s.concat(i.blueprints)),i.variableHelper!=null&&i.variableHelper.variableName=="@page")){let S=this.statamicProject.getBlueprintField(i.variableHelper.collectionName,i.variableHelper.fieldHandle);if(S!=null)if(i.variableHelper.setHandle.length>0){if(S.sets!=null){for(let g=0;g<S.sets.length;g++)if(S.sets[g].handle==i.variableHelper.setHandle){n.addVariables(ba(e[0],S.sets[g].fields));break}}}else n.addBlueprintField(e[0],S)}if(s.length>0){for(let S=0;S<s.length;S++)n.injectBlueprint(e[0],s[S]);n.addVariables(ms(e[0]))}((f=oo.instance)==null?void 0:f.hasAvailableInjections(this.documentUri))&&n.mergeScope((m=oo.instance)==null?void 0:m.getScopeInjection(this.documentUri,this.statamicProject));let o=[],a=[],l=[],c=[];c.push(n);for(let S=0;S<e.length;S++){let g=e[S];this.lastSymbolId.length>0&&a.includes(g.id())&&(o.pop(),c.pop(),c.length==0&&c.push(n));let E=c[c.length-1];if(g.hasParameters){for(let B=0;B<g.parameters.length;B++)if(g.parameters[B].interpolations.length>0)for(let ae=0;ae<g.parameters[B].interpolations.length;ae++){let ce=g.parameters[B].interpolations[ae];g.processedInterpolationRegions.has(ce)&&g.processedInterpolationRegions.get(ce).forEach(oe=>{oe instanceof U&&(oe.currentScope=E)})}}if(((p=he.instance)==null?void 0:p.isKnownTag(g.getTagName()))==!1){if(g.scopeVariable=E.findReference(g.runtimeName()),S>0){let B=e[S-1];if(B.isComment&&this.ideHelperMap.has(B.id())&&!B.isClosingTag&&!g.isClosingTag){let ae=this.ideHelperMap.get(B.id());if(ae.variableName==g.getTagName()){let ce=this.statamicProject.getBlueprintField(ae.collectionName,ae.fieldHandle);ce!=null&&(g.scopeVariable=LN(g,ce))}}}if(g.scopeVariable==null){let B=g.runtimeName().trim();if(E.hasList(B)||((d=g.currentScope)==null?void 0:d.hasListInHistory(B))){g.sourceType="array";let ae=E.getList(B);if(ae!=null&&ae.values.size>0){let ce=ae.values.entries().next().value[1];g.scopeVariable={dataType:"array",introducedBy:ce.introducedBy,name:B,sourceField:null,sourceName:ce.sourceName}}}}else g.sourceType=$c(g.scopeVariable.dataType),g.scopeVariable.sourceField!=null&&((h=sa.instance)==null?void 0:h.hasFieldtype(g.scopeVariable.sourceField.type))&&((y=sa.instance)==null?void 0:y.getFieldType(g.scopeVariable.sourceField.type)).augmentScope(g,E)}if(g.hasParameters&&hP(g,E),g.modifiers!=null&&g.modifiers.hasModifiers()?g.manifestType=g.modifiers.getLastManifestedModifierRuntimeType():g.manifestType=g.sourceType,g.isClosedBy!=null&&(o.push(g.id()),a.push(g.isClosedBy.id()),E=E.copy(),c.push(E)),g.getTagName()=="scope"&&g.hasMethodPart()){let B=c[c.length-2].copy();E.addScopeList(g.getMethodNameValue(),B)}if(E.containsPath(g.runtimeName())&&(o.push(g.id()),g.isClosedBy!=null&&a.push(g.isClosedBy.id()),E=E.copy().bringListIntoMainScope(g.runtimeName()),c.push(E)),g.currentScope=E,g.getTagName()!="cache"){let B=g.findParameter("scope");B!=null&&E.canShiftScope(g.runtimeName())&&(E=E.shiftScope(g,g.runtimeName(),B.value),g.currentScope=E,c.pop(),c.push(E))}if((_=he.instance)==null?void 0:_.isKnownTag(g.runtimeName())){let B=(T=he.instance)==null?void 0:T.findTag(g.runtimeName());typeof B!="undefined"&&B.augmentScope!=null&&B.augmentScope(g,E)}if(g.modifierChain!=null&&g.modifierChain.modifierChain.length>0&&g.modifierChain.modifierChain.forEach(B=>{B.modifier!=null&&typeof B.modifier.augmentScope!="undefined"&&B.modifier.augmentScope!=null&&B.modifier.augmentScope(g,E)}),g.modifiers.hasParameterModifiers()&&g.modifiers.parameterModifiers.forEach(B=>{B.modifier!=null&&typeof B.modifier.augmentScope!="undefined"&&B.modifier.augmentScope!=null&&B.modifier.augmentScope(g,E)}),g.sourceType=="array"){let B=g.findParameter("chunk"),ae=!0;if(g.parent!=null&&g.parent instanceof U&&zD.includes(g.parent.runtimeName())&&(ae=!1),typeof B!="undefined"&&B!==null)if(g.currentScope.parentScope!=null&&(g.currentScope.parentScope.hasList(g.runtimeName())||E.referencesArray(g.runtimeName()))){let ce=g.currentScope.parentScope.copy(),Te=ce.liftList(g.runtimeName());if(Te==null&&E.referencesArray(g.runtimeName())){if(Te=new Jn(E.statamicProject),ae){let oe=$e(g);for(let Ge=0;Ge<oe.length;Ge++){let bt=oe[Ge];ce.wasIntroducedBySymbol(bt.name,g)&&ce.removeThroughIntroduction(bt.name,g)}Te.addVariables(oe)}}else ae&&ce.addVariables($e(g));ce.addScopeList("chunk",Te),E=ce,c.pop(),c.push(E),g.currentScope=ce}else{let ce=g.findParameter("scope");if(typeof ce!="undefined"&&ce!==null&&g.currentScope!=null&&g.currentScope.hasList(ce.value)&&g.scopeName!=null){let Te=g.currentScope.copy(),oe=Te.ancestor().copy(),Ge=Te.liftList(g.scopeName);ae&&Te.addVariables($e(g)),oe.liftList(g.scopeName),Te.addScopeList(g.scopeName,Ge),oe.addScopeList("chunk",Te),E=oe,c.pop(),c.push(E),g.currentScope=oe}}else g.scopeVariable!=null&&g.scopeVariable.sourceField==null&&ae&&(E.addVariables($e(g)),E.addVariables(He(g)))}if(a.includes(g.id())&&g.parent!=null&&g.parent instanceof U){let B=g.currentScope.findAncestorWithList(g.getTagName());B!=null?(g.currentScope=B,E=B.copy(),c.pop(),c.length==0&&c.push(n),c.push(E)):g.parent.parent!=null?g.currentScope=g.parent.parent.currentScope:g.currentScope=g.parent.currentScope}if(g.currentScope!=null&&g.runtimeNodes.length>0&&g.runtimeNodes.forEach(B=>{var ae;if(B instanceof te&&((ae=g.currentScope)==null?void 0:ae.hasValue(B.name))){let ce=g.currentScope.findReferenceWithField(B.name);B.currentScope=g.currentScope,B.scopeName=g.scopeName,B.scopeVariable=ce}}),XD.includes(g.runtimeName())&&g.runtimeNodes.length==3&&g.runtimeNodes[0]instanceof te&&g.runtimeNodes[1]instanceof bn&&g.runtimeNodes[2]instanceof yt&&g.runtimeNodes[0].scopeVariable!=null&&g.runtimeNodes[0].scopeVariable.sourceField!=null){let B=g.runtimeNodes[0].scopeVariable,ae=g.runtimeNodes[2].value,ce=B.sourceField;if(ce.sets!=null)for(let Te=0;Te<ce.sets.length;Te++){let oe=ce.sets[Te];if(oe.handle==ae&&oe.fields!=null){E=E.copy(),E.addBlueprintFields(g,oe.fields),g.isClosedBy!=null&&!g.isSelfClosing&&(o.push(g.id()),a.push(g.isClosedBy.id()),c.push(E));break}}}this.lastSymbolId=g.id();let H=o.join("/");l.push(H)}}};var vs=class{};vs.globalTagEnterStack=[],vs.interpolatedVariables=[];var yP=K(uu());var Mn=class{constructor(){this.name="";this.compound="";this.methodPart="";this.content="";this.cachedCompoundTagName=null}tagPartIs(e){return e=e.toLowerCase().trim(),this.name.toLowerCase().trim()==e}isCompound(){return this.methodPart==null?!1:this.methodPart.length>0}getMethodName(){return this.methodPart==""?"index":this.methodPart=="null"?"":this.methodPart}getRuntimeMethodName(){}getCompoundTagName(){if(this.cachedCompoundTagName==null){let e=this.getMethodName();this.cachedCompoundTagName=this.name,e!=null&&e!=""&&(this.cachedCompoundTagName=this.cachedCompoundTagName+":"+e)}return this.cachedCompoundTagName}};var Im=class{constructor(){this.tagNames=[];this.modifierNames=[]}getModifierNames(){var e,n;return this.modifierNames.concat((n=(e=xe.instance)==null?void 0:e.getModifierNames())!=null?n:[])}getTagNames(){var e,n;return this.tagNames.concat((n=(e=he.instance)==null?void 0:e.getTagNames())!=null?n:[])}setTagNames(e){this.tagNames=e}setModifierNames(e){this.modifierNames=e}isTag(e){var n;return Im.alwaysLikeTag.includes(e)||((n=he.instance)==null?void 0:n.isKnownTag(e))?!0:this.tagNames.includes(e)}isModifier(e){var n;return((n=xe.instance)==null?void 0:n.hasModifier(e))?!0:this.modifierNames.includes(e)}},Ia=Im;Ia.alwaysLikeTag=["if","endif","elseif","else","unless","elseunless"];var Ra=class{static analyze(e,n){e.forEach(r=>{if(r instanceof U){if(r.pathReference!=null&&r.pathReference.isStrictVariableReference){r.isTagNode=!1;return}r.name!=null&&(r.isTagNode=n.isTag(r.name.name))}})}static analyzeNode(e){if(e.pathReference!=null&&e.pathReference.isStrictVariableReference){e.isTagNode=!1;return}Ra.environmentDetails!=null&&e.name!=null&&(e.isTagNode=Ra.environmentDetails.isTag(e.name.name)),e.name!=null&&(e.isConditionNode=Ia.alwaysLikeTag.includes(e.name.name))}static analyzeParametersForModifiers(e){e.parameters.forEach(n=>{Ra.environmentDetails!=null&&(n.isModifierParameter=Ra.environmentDetails.isModifier(n.name))})}},Sa=Ra;Sa.environmentDetails=null;(typeof Sa.environmentDetails=="undefined"||Sa.environmentDetails==null)&&(Sa.environmentDetails=new Ia);var Sm=Sa;var Rm=class{static getIdentifier(e){var i;let n=new Mn;n.content=e.trim();let r=e.split(":");if(r.length==1)n.name=r[0].trim(),n.methodPart=null,n.compound=n.name;else if(r.length>1){let s=(i=r.shift())!=null?i:"",o=r.join(":");n.name=s.trim(),n.methodPart=o.trim(),n.compound=n.name+":"+n.methodPart}else n.name=e.trim(),n.methodPart="";return n.name.startsWith("/")&&(n.name=n.name.substr(1),n.compound=n.compound.substr(1)),n}};var J=class{static getPrettyTypeName(e){return e instanceof Yr?J.TOKEN_LANG_OPERATOR:e instanceof Hn?J.TOKEN_OP_A_ADD:e instanceof te?J.TOKEN_VARIABLE:e instanceof yt?J.TOKEN_STRING:e instanceof wt?J.TOKEN_NUMBER:e instanceof Dr?J.TOKEN_CONSTANT_FALSE:e instanceof fr?J.TOKEN_CONSTANT_NULL:e instanceof Mr?J.TOKEN_CONSTANT_TRUE:e instanceof Ko?J.TOKEN_MODIFIER_NODE:e instanceof bl?J.TOKEN_MODIFIER_CHAIN:e instanceof Md?J.TOKEN_MODIFIER_PARAMETER:e instanceof Yn?J.TOKEN_OP_A_DIVIDE:e instanceof fi?J.TOKEN_OP_A_EXPONENTIATION:e instanceof pi?J.TOKEN_OP_A_MODULUS:e instanceof Kn?J.TOKEN_OP_A_MULTIPLY:e instanceof Tn?J.TOKEN_OP_A_SUBTRACT:e instanceof kr?J.TOKEN_ASG_ADD:e instanceof Fr?J.TOKEN_ASG_DIVIDE:e instanceof qr?J.TOKEN_ASG_MODULUS:e instanceof Vr?J.TOKEN_ASG_MULTIPLY:e instanceof $n?J.TOKEN_ASG_ASSIGN:e instanceof di?J.TOKEN_ASG_SUBTRACT:e instanceof bn?J.TOKEN_CMP_EQUAL:e instanceof Hr?J.TOKEN_CMP_SEQUAL:e instanceof pr?J.TOKEN_CMP_GT:e instanceof Fi?J.TOKEN_CMP_GTE:e instanceof Br?J.TOKEN_CMP_LT:e instanceof jr?J.TOKEN_CMP_LTE:e instanceof Ur?J.TOKEN_CMP_NEQ:e instanceof Gr?J.TOKEN_CMP_SNEQ:e instanceof Wr?J.TOKEN_CMP_SPACESHIP:e instanceof qi?J.TOKEN_OP_VARIABLE_FALLBACK:e instanceof kd?J.TOKEN_COND_FALLBACK_GROUP:e instanceof Nt?J.TOKEN_BRANCH_SEPARATOR:e instanceof Kr?J.TOKEN_TERNARY_SEPARATOR:e instanceof Kt?J.TOKEN_GROUP_BEGIN:e instanceof Vt?J.TOKEN_GROUP_END:e instanceof vn?J.TOKEN_MODIFIER_SEPARATOR:e instanceof Bt?J.TOKEN_MODIFIER_NAME:e instanceof jt?J.TOKEN_MODIFIER_VALUE:e instanceof Nn?J.TOKEN_MODIFIER_VALUE_SEPARATOR:e instanceof Nl?J.TOKEN_NULL_COALESCE_GROUP:e instanceof Et?J.TOKEN_SEMANTIC_GROUP:e instanceof nn?J.TOKEN_STATEMENT_SEPARATOR:e instanceof Pl?J.TOKEN_TERNARY_CONDITION:e instanceof dr?J.TOKEN_OP_AND:e instanceof rn?J.TOKEN_OP_LOGIC_NEGATION:e instanceof $r?J.TOKEN_OP_OR:e instanceof mi?J.TOKEN_OP_XOR:e instanceof mr?J.TOKEN_OP_NULL_COALESCE:e instanceof Ks?J.TOKEN_PARAM:e instanceof Wn?J.TOKEN_PATH_ACCESSOR:e instanceof ls?J.TOKEN_OP_A_FACTORIAL:e instanceof Dn?J.TOKEN_RECURSIVE:e instanceof Xo?J.TOKEN_ARG_GROUP:e instanceof It?J.TOKEN_ARG_SEPARATOR:e instanceof hi?J.TOKEN_OP_STRING_CONCAT:e instanceof Pn?J.TOKEN_OP_SCOPE_REASSIGNMENT:e instanceof zo?J.TOKEN_STRUCT_SWITCH_CASE:e instanceof zs?J.TOKEN_STRUCT_SWITCH_GROUP:e instanceof $s?J.TOKEN_STRUCT_DIRECTION_GROUP:e instanceof hr?J.TOKEN_STRUCT_SCOPED_LOGIC_GROUP:e instanceof Le?J.TOKEN_STRUCT_LOGIC_GROUP:e instanceof vl?J.TOKEN_STRUCT_VALUE_DIRECTION:e instanceof Vi?J.TOKEN_STRUCT_ARRAY:e instanceof zr?J.TOKEN_STRUCT_T_LIST_START:e instanceof Fd?J.TOKEN_STRUCT_TUPLE_LIST:e instanceof $t?J.TOKEN_STRUCT_METHOD_CALL:typeof e}},G=J;G.TOKEN_LANG_OPERATOR="T_LANG_OPERATOR",G.TOKEN_VARIABLE="T_VAR",G.TOKEN_NUMBER="T_NUMERIC",G.TOKEN_STRING="T_STRING",G.TOKEN_RECURSIVE="T_RECURSIVE",G.TOKEN_CONSTANT_FALSE="T_FALSE",G.TOKEN_CONSTANT_NULL="T_NULL",G.TOKEN_CONSTANT_TRUE="T_TRUE",G.TOKEN_MODIFIER_NODE="T_MODIFIER",G.TOKEN_MODIFIER_CHAIN="T_MODIFIER_CHAIN",G.TOKEN_MODIFIER_PARAMETER="T_MODIFIER_PARAM",G.TOKEN_OP_A_ADD="T_AOP_ADD",G.TOKEN_OP_A_DIVIDE="T_AOP_DIVIDE",G.TOKEN_OP_A_EXPONENTIATION="T_AOP_EXP",G.TOKEN_OP_A_MODULUS="T_AOP_MOD",G.TOKEN_OP_A_MULTIPLY="T_AOP_MULTIPLY",G.TOKEN_OP_A_SUBTRACT="T_AOP_SUBTRACT",G.TOKEN_OP_A_FACTORIAL="T_AOP_FACTORIAL",G.TOKEN_ASG_ADD="T_ASG_ADD",G.TOKEN_ASG_DIVIDE="T_ASG_DIVIDE",G.TOKEN_ASG_ASSIGN="T_ASG",G.TOKEN_ASG_MODULUS="T_ASG_MODULUS",G.TOKEN_ASG_MULTIPLY="T_ASG_MULTIPLY",G.TOKEN_ASG_SUBTRACT="T_ASG_SUBTRACT",G.TOKEN_CMP_EQUAL="T_CMP_EQ",G.TOKEN_CMP_SEQUAL="T_CMP_SEQ",G.TOKEN_CMP_GT="T_CMP_GT",G.TOKEN_CMP_GTE="T_CMP_GTE",G.TOKEN_CMP_LT="T_CMP_LT",G.TOKEN_CMP_LTE="T_CMP_LTE",G.TOKEN_CMP_NEQ="T_CMP_NEQ",G.TOKEN_CMP_SNEQ="T_CMP_SNEQ",G.TOKEN_CMP_SPACESHIP="T_CMP_SPSHP",G.TOKEN_OP_VARIABLE_FALLBACK="T_VFBK",G.TOKEN_COND_FALLBACK_GROUP="T_VFBK_GROUP",G.TOKEN_BRANCH_SEPARATOR="T_BRANCH_SEPARATOR",G.TOKEN_TERNARY_SEPARATOR="T_TERNARY_SEPARATOR",G.TOKEN_GROUP_BEGIN="T_LOGIC_BEGIN",G.TOKEN_GROUP_END="T_LOGIC_END",G.TOKEN_MODIFIER_SEPARATOR="T_MODIFIER_SEPARATOR",G.TOKEN_MODIFIER_NAME="T_MODIFIER_NAME",G.TOKEN_MODIFIER_VALUE="T_MODIFIER_VALUE",G.TOKEN_MODIFIER_VALUE_SEPARATOR="T_MODIFIER_VALUE_SEPARATOR",G.TOKEN_NULL_COALESCE_GROUP="T_NULL_COALESCE_GROUP",G.TOKEN_SEMANTIC_GROUP="T_SEMANTIC_GROUP",G.TOKEN_STATEMENT_SEPARATOR="T_STATEMENT_SEPARATOR",G.TOKEN_TERNARY_CONDITION="T_TERNARY_CONDITION",G.TOKEN_OP_AND="T_AND",G.TOKEN_OP_LOGIC_NEGATION="T_LOGIC_INVERSE",G.TOKEN_OP_OR="T_OR",G.TOKEN_OP_XOR="T_XOR",G.TOKEN_OP_NULL_COALESCE="T_NULL_COALESCE",G.TOKEN_PARAM="T_PARAM",G.TOKEN_PATH_ACCESSOR="T_VAR_SEPARATOR",G.TOKEN_ARG_GROUP="T_ARG_GROUP",G.TOKEN_ARG_SEPARATOR="T_ARG_SEPARATOR",G.TOKEN_OP_STRING_CONCAT="T_STR_CONCAT",G.TOKEN_OP_SCOPE_REASSIGNMENT="T_SCOPE_ASSIGNMENT",G.TOKEN_STRUCT_SWITCH_CASE="T_SWITCH_CASE",G.TOKEN_STRUCT_SWITCH_GROUP="T_SWITCH_GROUP",G.TOKEN_STRUCT_DIRECTION_GROUP="T_DIRECTION_GROUP",G.TOKEN_STRUCT_VALUE_DIRECTION="T_ORDER_DIRECTION",G.TOKEN_STRUCT_SCOPED_LOGIC_GROUP="T_SCOPED_LOGIC_GROUP",G.TOKEN_STRUCT_LOGIC_GROUP="T_LOGIC_GROUP",G.TOKEN_STRUCT_ARRAY="T_ARRAY",G.TOKEN_STRUCT_T_LIST_START="T_LIST_START",G.TOKEN_STRUCT_TUPLE_LIST="T_LIST",G.TOKEN_STRUCT_METHOD_CALL="T_METHOD_CALL";var ze=class{static isLanguageLogicalKeyword(e){return e==this.LogicalAnd||e==this.LogicalNot||e==this.LogicalOr||e==this.LogicalXor}};ze.LogicalAnd="and",ze.LogicalNot="not",ze.LogicalOr="or",ze.LogicalXor="xor",ze.ConstTrue="true",ze.ConstFalse="false",ze.ConstNull="null",ze.ArrList="list",ze.ScopeAs="as";var Cm=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.currentContent=[];this.rawContent=[];this.startIndex=0;this.cur=null;this.next=null;this.prev=null;this.isParsingString=!1;this.isParsingModifierName=!1;this.isInModifierParameterValue=!1;this.runtimeNodes=[];this.ignorePrevious=!1;this.lastNode=null;this.referenceParser=null;this.activeNode=null}reset(){this.ignorePrevious=!1,this.runtimeNodes=[],this.chars=[],this.inputLen=0,this.currentIndex=0,this.currentContent=[],this.rawContent=[],this.startIndex=0,this.cur=null,this.next=null,this.prev=null,this.isParsingString=!1,this.isParsingModifierName=!1,this.isInModifierParameterValue=!1,this.referenceParser=null,this.activeNode=null}checkCurrentOffsets(){this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.ignorePrevious?(this.prev="",this.ignorePrevious=!1):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen&&(this.next=this.chars[this.currentIndex+1])}isValidChar(e){return e==null||e==O.Punctuation_Semicolon?!1:this.isParsingString==!1&&e=="]"?!0:this.isParsingString==!1&&e==")"?!1:(e=="["||e=="]")&&e==this.cur||(e=="_"||e=="."||e=="["||e=="]")&&(!(this.currentContent.length>0)||X.ctypeAlpha(this.cur)||X.ctypeDigit(this.cur))?!0:X.ctypeSpace(e)?!1:this.isParsingModifierName&&(e==O.Punctuation_Minus||e==O.Punctuation_Underscore)?!0:!X.ctypePunct(e)}isRightOfInterpolationRegion(){if(this.activeNode==null||this.referenceParser==null)return!1;let e=this.activeNode._lexerRelativeOffset(this.currentIndex);return this.referenceParser.bordersInterpolationRegion(e)}scanForwardTo(e,n=0){let r=[];for(let i=this.currentIndex+1+n;i<this.inputLen;i++){let s=this.chars[i];if(s==e){r.push(s);break}else r.push(s)}return r}nextNonWhitespace(){for(let e=this.currentIndex+1;e<this.inputLen;e++){let n=this.chars[e];if(!X.ctypeSpace(n))return n}return null}pushError(e){this.referenceParser!=null&&this.referenceParser.addAntlersError(e)}guardAgainstNeighboringTypesInModifier(e){return this.lastNode instanceof jt&&this.pushError(M.makeSyntaxError(P.TYPE_MODIFIER_INCORRECT_VALUE_POSITION,this.lastNode,"Incorrect type ["+G.getPrettyTypeName(e)+"] near ["+G.getPrettyTypeName(this.lastNode)+"]")),!1}appendContent(e){e!=null&&this.currentContent.push(e)}tokenize(e,n){this.reset(),this.referenceParser=e.getParser(),this.activeNode=e,this.chars=n.split(""),this.inputLen=this.chars.length,this.runtimeNodes=[],this.lastNode=null;let r=null;this.isParsingString=!1,this.isParsingModifierName=!1;let i=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){this.checkCurrentOffsets();let o=!0;if(this.cur!=null&&this.rawContent.push(this.cur),this.isParsingString==!1&&(this.cur==O.String_Terminator_DoubleQuote||this.cur==O.String_Terminator_SingleQuote)){if(this.prev==O.String_EscapeCharacter){this.pushError(M.makeSyntaxError(P.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE,e,"Illegal string escape sequence outside string parsing."));continue}this.rawContent=[],this.rawContent.push(this.cur),i=this.cur,this.isParsingString=!0,r=this.currentIndex;continue}if(this.isInModifierParameterValue&&!this.isParsingString){let a=!1;if(!this.isParsingString&&X.ctypeSpace(this.next)){let l=this.scanForwardTo(" ",1).join("").trim().toLowerCase();l.length>0&&ze.isLanguageLogicalKeyword(l)&&(a=!0)}if(this.next==O.String_Terminator_SingleQuote||this.next==O.String_Terminator_DoubleQuote||this.next==null||a){this.appendContent(this.cur);let l=this.currentContent.join("");if(l.length>0){let c=l;if(this.currentContent=[],this.rawContent=[],c.trimRight().length==0){let f=this.nextNonWhitespace();if(f==O.String_Terminator_SingleQuote||f==O.String_Terminator_DoubleQuote){this.currentContent=[],this.rawContent=[];continue}}let u=new jt;u.isVirtual=!1,u.name=c,u.value=c.trimRight(),u.startPosition=e._lexerRelativeOffset(this.currentIndex-c.length),u.endPosition=e._lexerRelativeOffset(this.currentIndex),u.parent=this.activeNode,this.guardAgainstNeighboringTypesInModifier(u),this.runtimeNodes.push(u),this.lastNode=u}if(l.length==0)continue;this.currentContent=[],this.rawContent=[],this.isInModifierParameterValue=!1;continue}if(this.next==O.Punctuation_Pipe||this.next==O.Punctuation_Colon||this.next==O.RightParent){this.isInModifierParameterValue=!1,this.appendContent(this.cur);let l=0,c=!1;if(this.currentContent[0]==O.String_Terminator_SingleQuote||this.currentContent[0]==O.String_Terminator_DoubleQuote){let m=this.scanForwardTo(this.currentContent[0]);m.length>0&&(this.currentContent=this.currentContent.concat(m),l=m.length,c=!0)}let u=this.currentContent.join("");c&&(u=u.substr(1),u=u.slice(0,-1)),this.currentContent=[],this.rawContent=[];let f=new jt;f.isVirtual=!1,f.name=u,f.value=u,f.startPosition=e._lexerRelativeOffset(this.currentIndex-u.length),f.endPosition=e._lexerRelativeOffset(this.currentIndex),f.parent=this.activeNode,this.runtimeNodes.push(f),this.guardAgainstNeighboringTypesInModifier(f),this.lastNode=f,this.currentIndex+=l}else this.appendContent(this.cur);continue}if(this.isParsingString&&this.cur==i){if(this.prev==O.String_EscapeCharacter)this.appendContent(i);else{if(this.isInModifierParameterValue){let l=this.currentContent.join(""),c=new jt;c.isVirtual=!1,c.name=l,c.value=l,c.startPosition=e._lexerRelativeOffset(r!=null?r:0),c.endPosition=e._lexerRelativeOffset(this.currentIndex),c.parent=this.activeNode,this.runtimeNodes.push(c),this.guardAgainstNeighboringTypesInModifier(c),this.lastNode=c,this.currentContent=[],this.rawContent=[],this.isParsingString=!1,this.isInModifierParameterValue=!1;continue}let a=new yt;a.isVirtual=!1,a.startPosition=e._lexerRelativeOffset(r!=null?r:0),a.endPosition=e._lexerRelativeOffset(this.currentIndex),a.parent=this.activeNode,i!=null&&(a.sourceTerminator=i),i=null,this.isParsingString=!1,a.value=this.currentContent.join(""),a.rawLexContent=this.rawContent.join("").trim(),this.currentContent=[],this.rawContent=[],this.guardAgainstNeighboringTypesInModifier(a),this.runtimeNodes.push(a),this.lastNode=a}continue}if(this.isParsingString&&this.cur==O.String_EscapeCharacter){if(this.next==O.String_EscapeCharacter){this.appendContent(O.String_EscapeCharacter),this.ignorePrevious=!0,this.currentIndex+=1;continue}else if(this.next==O.String_Terminator_SingleQuote){this.appendContent(O.String_Terminator_SingleQuote),this.currentIndex+=1;continue}else if(this.next==O.String_Terminator_DoubleQuote){this.appendContent(O.String_Terminator_DoubleQuote),this.currentIndex+=1;continue}else if(this.next=="n"){this.appendContent(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){this.appendContent("	"),this.currentIndex+=1;continue}else if(this.next=="r"){this.appendContent("\r"),this.currentIndex+=1;continue}}if(this.isParsingString==!1){if(this.isValidChar(this.cur)&&this.isValidChar(this.next)==!1&&this.currentContent.length==0&&(this.appendContent(this.cur),o=!1),(this.next==null||this.isValidChar(this.next)==!1)&&this.currentContent.length>0){o&&this.appendContent(this.cur);let a=this.currentContent.join("").trim(),l=a.length,c=this.currentIndex-l,u=e._lexerRelativeOffset(c),f=e._lexerRelativeOffset(this.currentIndex);if(this.currentContent=[],this.rawContent=[],a==ze.LogicalAnd){let p=new dr;p.isVirtual=!1,p.content=ze.LogicalAnd,p.startPosition=u,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(a==ze.LogicalOr){let p=new $r;p.isVirtual=!1,p.content=ze.LogicalOr,p.startPosition=u,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(a==ze.LogicalXor){let p=new mi;p.isVirtual=!1,p.content=ze.LogicalXor,p.startPosition=u,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(a==ze.ConstNull){let p=new fr;p.isVirtual=!1,p.content=ze.ConstNull,p.startPosition=u,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(a==ze.ConstTrue){let p=new Mr;p.isVirtual=!1,p.content=ze.ConstTrue,p.startPosition=u,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(a==ze.ConstFalse){let p=new Dr;p.isVirtual=!1,p.content=ze.ConstFalse,p.startPosition=u,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(a==ze.LogicalNot){let p=new rn;p.isVirtual=!1,p.content=ze.LogicalNot,p.startPosition=u,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(a==ze.ArrList&&this.next==O.LeftParen){let p=new zr;p.isVirtual=!1,p.content=ze.ArrList,p.startPosition=u,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}if(X.isNumeric(a)){let p=new wt;p.isVirtual=!1,p.startPosition=u,p.endPosition=f,p.parent=this.activeNode,a.includes(".")?p.value=parseFloat(a):p.value=parseInt(a),p.rawLexContent=a,this.guardAgainstNeighboringTypesInModifier(p),this.runtimeNodes.push(p),this.lastNode=p;continue}if(this.runtimeNodes.length>0){let p=this.runtimeNodes[this.runtimeNodes.length-1];if(p instanceof vn){let d=new Bt;d.isVirtual=!1,d.name=a,d.content=a,d.startPosition=u,d.endPosition=f,d.parent=this.activeNode,this.runtimeNodes.push(d),this.lastNode=d;continue}else if(p instanceof Nn){let d=new jt;d.isVirtual=!1,d.name=a,d.value=a,d.startPosition=u,d.endPosition=f,d.parent=this.activeNode,this.runtimeNodes.push(d),this.lastNode=d,this.isParsingModifierName=!1;continue}}let m=new te;m.isVirtual=!1,m.name=a,m.startPosition=u,m.endPosition=f,m.parent=this.activeNode,this.runtimeNodes.push(m),this.lastNode=m;continue}}else{this.appendContent(this.cur);continue}if(!X.ctypeSpace(this.cur)){if(this.isParsingString==!1){if(this.cur==O.Punctuation_Equals&&this.next==O.Punctuation_GreaterThan){let a=new Pn;a.isVirtual=!1,a.content="=>",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.currentContent=[],this.rawContent=[],this.currentIndex+=1;continue}if(this.cur==O.Punctuation_Comma){let a=new It;a.isVirtual=!1,a.content=O.Punctuation_Comma,a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==O.Punctuation_Semicolon){let a=new nn;a.isVirtual=!1,a.content=O.Punctuation_Semicolon,a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==O.Punctuation_Plus){if(this.next==O.Punctuation_Equals){let l=new kr;l.isVirtual=!1,l.content="+=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let a=new Hn;a.isVirtual=!1,a.content="+",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.isParsingModifierName==!1&&this.cur==O.Punctuation_Minus){if(X.ctypeDigit(this.next)&&X.ctypeDigit(this.prev)==!1&&this.prev!=O.RightParent&&this.isRightOfInterpolationRegion()==!1){this.appendContent(this.cur);continue}if(this.next==O.Punctuation_Equals){let l=new di;l.isVirtual=!1,l.content="-=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}else if(this.next==O.Punctuation_GreaterThan){let l=new $t;l.isVirtual=!1,l.content="->",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let a=new Tn;a.isVirtual=!1,a.content="-",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==O.Punctuation_Asterisk){if(this.next==O.Punctuation_Asterisk){let l=new fi;l.isVirtual=!1,l.content="**",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}else if(this.next==O.Punctuation_Equals){let l=new Vr;l.isVirtual=!1,l.content="*=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let a=new Kn;a.isVirtual=!1,a.content="*",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==O.Punctuation_ForwardSlash){if(this.next==O.Punctuation_Equals){let l=new Fr;l.isVirtual=!1,l.content="/=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let a=new Yn;a.isVirtual=!1,a.content="/",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==O.Punctuation_Percent){if(this.next==O.Punctuation_Equals){let l=new qr;l.isVirtual=!1,l.content="%=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let a=new pi;a.isVirtual=!1,a.content="%",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==O.Punctuation_LessThan){if(this.next==O.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==O.Punctuation_GreaterThan){let u=new Wr;u.isVirtual=!1,u.content="<=>",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+3),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=2;continue}let c=new jr;c.isVirtual=!1,c.content="<=",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+2),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=1;continue}let a=new Br;a.isVirtual=!1,a.content="<",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==O.Punctuation_GreaterThan){if(this.next==O.Punctuation_Equals){let l=new pr;l.isVirtual=!1,l.content=">=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let a=new pr;a.isVirtual=!1,a.content=">",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==O.Punctuation_Equals&&this.next!=O.Punctuation_Equals){let a=new $n;a.isVirtual=!1,a.content="=",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==O.Punctuation_Equals&&this.next==O.Punctuation_Equals){let a=null;if(this.currentIndex+2<this.inputLen&&(a=this.chars[this.currentIndex+2]),a==O.Punctuation_Equals){let l=new Hr;l.isVirtual=!1,l.content="===",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+3),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=2}else{let l=new bn;l.isVirtual=!1,l.content="==",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1}continue}if(this.cur==O.Punctuation_Ampersand){if(this.next==O.Punctuation_Ampersand){let l=new dr;l.isVirtual=!1,l.content="&&",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}if(this.next==O.Punctuation_Equals){let l=new hi;l.isVirtual=!1,l.content="&=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}let a=new dr;a.isVirtual=!1,a.content="&",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==O.Punctuation_Pipe&&this.next!=O.Punctuation_Pipe){let a=new vn;a.isVirtual=!1,a.content="|",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.isParsingModifierName=!0;continue}if(this.cur==O.Punctuation_Pipe&&this.next==O.Punctuation_Pipe){let a=new $r;a.isVirtual=!1,a.content="||",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+2),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.currentIndex+=1;continue}if(this.cur==O.Punctuation_Exclamation){if(this.next==O.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==O.Punctuation_Equals){let u=new Gr;u.isVirtual=!1,u.content="!==",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+3),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=2;continue}let c=new Ur;c.isVirtual=!1,c.content="!=",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+2),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=1;continue}let a=new rn;a.isVirtual=!1,a.content="!",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==O.Punctuation_Question&&this.next==O.Punctuation_Equals){let a=new qi;a.isVirtual=!1,a.content="?=",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+2),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.currentIndex+=1;continue}if(this.cur==O.Punctuation_Question&&this.next==O.Punctuation_Question){let a=new mr;a.isVirtual=!1,a.content="??",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+2),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.currentIndex+=1;continue}if(this.cur==O.Punctuation_Question&&this.next==O.Punctuation_Colon){let a=new mr;a.isVirtual=!1,a.content="?:",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+2),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.currentIndex+=1;continue}if(this.cur==O.Punctuation_Question){let a=new Kr;a.isVirtual=!1,a.content="?",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==O.LeftParen){let a=new Kt;a.isVirtual=!1,a.content="(",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==O.RightParent){let a=new Vt;a.isVirtual=!1,a.content=")",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==O.Punctuation_Colon){if(this.runtimeNodes.length>0&&this.runtimeNodes[this.runtimeNodes.length-1]instanceof Bt){let c=new Nn;c.isVirtual=!1,c.content=":",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+1),c.parent=this.activeNode,this.runtimeNodes.push(c),this.isInModifierParameterValue==!1?this.isInModifierParameterValue=!0:this.isInModifierParameterValue=!1;continue}let a=new Nt;a.isVirtual=!1,a.content=":",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.isParsingModifierName=!1;continue}}o&&this.appendContent(this.cur)}}let s=this.runtimeNodes.length-1;for(let o=0;o<this.runtimeNodes.length;o++){let a=null,l=null;o>0&&(a=this.runtimeNodes[o-1]),o!=s&&(l=this.runtimeNodes[o+1]);let c=this.runtimeNodes[o];c.prev=a,c.next=l}return this.runtimeNodes}};var Lt=class{constructor(){this.chars=[];this.currentIndex=0;this.lastIndex=0;this.inputLength=0;this.prev=null;this.cur=null;this.next=null;this.isParsingString=!1;this.isStringKeyPath=!1;this.antlersErrors=[];this._recusriveEntryCheck=new Map}isValidChar(e){return!(this.isParsingString==!1&&X.ctypeSpace(e)||this.isParsingString==!1&&e==Lt.LeftBracket||this.isParsingString==!1&&e==Lt.RightBracket)}normalizePath(e){return e=e.replace(":","_"),e=e.replace(".","_"),e=e.replace("[","_"),e=e.replace("]","_"),e.replace("]","_")}getAntlersErrors(){return this.antlersErrors}mergeErrors(e){e.forEach(n=>{this.antlersErrors.push(n)})}parse(e){this.antlersErrors=[],this._recusriveEntryCheck.clear();let n=e,r=!1,i=!1,s=!1,o=!1;e.startsWith(O.AtChar)&&(s=!0,e=e.substr(1)),e.startsWith(O.Punctuation_Caret)?(o=!0,e=e.substr(1)):(e.startsWith(O.Punctuation_Dollar)&&(r=!0,e=e.substr(1)),e.startsWith(O.Punctuation_Dollar)&&(i=!0,e=e.substr(1))),this.chars=[],this.currentIndex=0,this.lastIndex=0,this.inputLength=0,this.cur=null,this.prev=null,this.next=null,this.chars=e.split(""),this.inputLength=this.chars.length,this.lastIndex=this.inputLength-1;let a=[],l=!1,c=[],u=Lt.ColonSeparator,f=!1,m=null,p=!1,d=!0;if(this.isParsingString=!1,this.inputLength==0){let _=new us;return _._isFromEmptyFailState=!0,_}for(this.currentIndex;this.currentIndex<this.inputLength;this.currentIndex+=1){if(this.cur=this.chars[this.currentIndex],this.next=null,f?(f=!1,this.prev=""):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLength&&(this.next=this.chars[this.currentIndex+1]),this.isParsingString==!1&&this.cur==Lt.ColonSeparator&&(u=Lt.ColonSeparator),this.isParsingString==!1&&this.cur==Lt.DotPathSeparator&&(u=Lt.DotPathSeparator),this.isParsingString&&this.cur==O.String_EscapeCharacter&&this.next==m){m!=null&&a.push(m),this.currentIndex+=1;continue}if(this.cur==O.String_Terminator_SingleQuote||this.cur==O.String_Terminator_DoubleQuote)if(this.isParsingString)if(this.cur==m)if(this.prev==O.String_EscapeCharacter){a.push(this.cur);continue}else this.isParsingString=!1,d=!1;else{a.push(this.cur);continue}else{this.prev!=O.LeftBracket&&(X.ctypeAlpha(this.prev)||X.ctypeDigit(this.prev))&&this.antlersErrors.push(M.makeSyntaxError(P.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR,null,"Unexpected string start while parsing variable path. String literals must be within array accessors.")),this.isParsingString=!0,p=!0,m=this.cur,this.isStringKeyPath=!0;continue}if(this.isParsingString){if(X.ctypeSpace(this.cur)){a.push(this.cur);continue}else if(this.cur==O.String_EscapeCharacter){if(this.next==O.String_EscapeCharacter){a.push(O.String_EscapeCharacter),this.currentIndex+=1,f=!0;continue}else if(this.next=="n"){a.push(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){a.push("	"),this.currentIndex+=1;continue}else if(this.next=="r"){a.push("\r"),this.currentIndex+=1;continue}}}if(this.isParsingString==!1&&this.cur==Lt.LeftBracket){if(a.length>0){let S=new Wn;S.name=a.join(""),S.delimiter=u,c.push(S),a=[]}if(this.next==null||X.ctypeSpace(this.next)){this.antlersErrors.push(M.makeSyntaxError(P.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT,null,"Unexpected end of input or whitespace while parsing variable accessor path."));continue}let _=this.locateEndOfAccessor();this.currentIndex=_.foundOn;let T=new Lt;if(c.push(T.parse(_.nestedContent)),this.mergeErrors(T.getAntlersErrors()),l=!0,this.currentIndex==-1){this.antlersErrors.push(M.makeSyntaxError(P.PARSER_CANNOT_PARSE_PATH_RECURSIVE,null,"Cannot parse variable path.")),l=!1;break}continue}if(this.isParsingString==!1&&this.next==Lt.RightBracket&&l){d?a.push(this.cur):d=!0;let _=new qd;_.name=a.join(""),c.push(_),a=[],u=Lt.ColonSeparator,this.currentIndex+=1,l=!1;continue}if(this.isParsingString==!1&&(this.cur==Lt.LeftBracket||this.cur==Lt.ColonSeparator||this.cur==Lt.DotPathSeparator||this.currentIndex==this.lastIndex)){if(this.next==null||X.ctypeSpace(this.next)){if(this.cur==Lt.ColonSeparator){if(a.length==0){this.antlersErrors.push(M.makeSyntaxError(P.TYPE_UNEXPECTED_BRANCH_SEPARATOR,null,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}this.antlersErrors.push(M.makeSyntaxError(P.TYPE_ILLEGAL_VARPATH_RIGHT,null,'Variable paths cannot end with the ":" character.'));continue}if(this.cur==Lt.LeftBracket){this.antlersErrors.push(M.makeSyntaxError(P.TYPE_ILLEGAL_VARPATH_SUBPATH_START,null,"Illegal variable sub-path start."));continue}}this.currentIndex==this.lastIndex&&this.isValidChar(this.cur)&&(d?a.push(this.cur):d=!0);let _=new Wn;_.delimiter=u,_.name=a.join(""),p&&(_.isStringVar=p,_.name=n.substr(1),_.name=_.name.slice(0,-1),p=!1),c.push(_),a=[];continue}else{a.push(this.cur);continue}}let h=c.length;if(h>0){let _=c[h-1];(_ instanceof Wn||_ instanceof us)&&(_.isFinal=!0)}let y=new us;return y.isStrictTagReference=o,y.isStrictVariableReference=r,y.isExplicitVariableReference=i,y.pathParts=c,y.originalContent=e,y.isVariableVariable=s,y.normalizedReference=e.replace(":","."),y}locateEndOfAccessor(){let e=[],n=1,r=-1,i="",s=!1,o=null;if(this._recusriveEntryCheck.has(this.currentIndex+1)==!1)this._recusriveEntryCheck.set(this.currentIndex+1,!0);else return{foundOn:r,nestedContent:""};for(let a=this.currentIndex+1;a<this.inputLength;a++){let l=this.chars[a],c=null,u=null;if(a>0&&(u=this.chars[a-1]),a+1<this.inputLength&&(c=this.chars[a+1]),s==!1&&(l==O.String_Terminator_SingleQuote||l==O.String_Terminator_DoubleQuote)){s=!0,o=l,e.push(l);continue}if(s==!1&&l==Lt.LeftBracket){n+=1,e.push(l);continue}if(s&&l==o&&u!=O.String_EscapeCharacter){e.push(l),s=!1,o=null;continue}if(s==!1&&l==Lt.RightBracket)if(n-=1,n==0){r=a,i=e.join("");break}else{e.push(l);continue}else e.push(l);s==!1&&X.ctypeSpace(c)&&this.antlersErrors.push(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path.")),c==null&&this.antlersErrors.push(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path."))}return{foundOn:r,nestedContent:i}}},Ui=Lt;Ui.ColonSeparator=":",Ui.LeftBracket="[",Ui.RightBracket="]",Ui.DotPathSeparator=".";var Am=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.cur=null;this.prev=null;this.pathParser=new Ui;this.lexer=new Cm;this.activeNode=null}reset(){this.chars=[],this.inputLen=0,this.currentIndex=0,this.cur=null,this.prev=null}canBeClosingTag(e){var r;let n=(r=e.name)==null?void 0:r.name;return n=="elseif"||n=="else"?!0:e.name==null?!1:e.name.content.startsWith("/")}parseNode(e){var u,f,m,p;if(this.activeNode=e,this.reset(),e.content.startsWith("*subrecursive")){let d=e.content;d=d.trim(),d=X.trimRight(d,"*"),d=d.substr(13);let h=new Dn;return e.copyBasicDetailsTo(h),h.originalNode=e,h.name=new Mn,h.name.name=d,h.isNestedRecursive=!0,h.pathReference=this.pathParser.parse(d),h.mergeErrors(this.pathParser.getAntlersErrors()),h.content=d,h.runtimeContent=d,h}if(e.content.trim().startsWith("*recursive")){let d=e.content;d=d.trim(),d=X.trimRight(d,"*"),d=d.substr(10).trim();let h=new Dn;return e.copyBasicDetailsTo(h),h.originalNode=e,h.name=new Mn,h.name.name=d,h.pathReference=this.pathParser.parse(d),h.mergeErrors(this.pathParser.getAntlersErrors()),h.content=d,h.runtimeContent=d,h}this.chars=e.content.split(""),this.inputLen=this.chars.length;let n=[],r=!1,i="",s=!1,o=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.cur=this.chars[this.currentIndex],this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),r==!1){if(s==!1&&(this.cur==O.String_Terminator_DoubleQuote||this.cur==O.String_Terminator_SingleQuote)){o=this.cur,s=!0,n.push(this.cur);continue}if(s&&X.ctypeSpace(this.cur)){n.push(this.cur);continue}if(s&&this.cur==o&&this.prev!=O.String_EscapeCharacter){o=null,s=!1,n.push(this.cur);continue}if(X.ctypeSpace(this.cur)||this.currentIndex==this.inputLen-1||this.cur==O.Punctuation_Pipe){if(n.length==0)continue;X.ctypeSpace(this.cur)||this.cur!=O.Punctuation_Pipe&&n.push(this.cur),i=n.join(""),r=!0;break}n.push(this.cur)}let a=e.getContentRelativeStartIndex();if(e.nameStartsOn=e.relativeOffset(a,a),e.nameStartsOn!=null&&(e.nameEndsOn=e.nameStartsOn.shiftRight(i.length-1),i.includes(O.Punctuation_Colon))){let d=i.indexOf(O.Punctuation_Colon);e.nameMethodPartStartsOn=e.nameStartsOn.shiftRight(d+1)}e.name=Rm.getIdentifier(i),Sm.analyzeNode(e),e.parameters=this.getParameters(e),e.hasParameters=e.parameters.length>0,e.hasParameters&&(Sm.analyzeParametersForModifiers(e),e.resetContentCache()),e.pathReference=this.pathParser.parse(i),e.mergeErrors(this.pathParser.getAntlersErrors()),e.pathReference!=null&&e.pathReference.isStrictTagReference&&(e.name.name=e.name.name.substr(1),e.name.content=e.name.content.substr(1)),e.isClosingTag=this.canBeClosingTag(e);let l=[];e.isClosingTag==!1&&(l=this.lexer.tokenize(e,e.getContent())),e.runtimeNodes=l;let c=e.content.trim();if(On.isConditionalStructure(e)&&e.name.name!="else"&&l.length==0&&c!="/if"&&c!="/unless"&&c!="/endunless"&&c!="endif"&&c!="endunless"&&c!="/endif"&&e.getContent().trim().length==0&&this.pushConditionWithoutExpression(e),e.name.name=="endif"){let d=e.copyBasicDetails(),h=e.getParser();return h!=null&&d.withParser(h),d.name=new Mn,d.name.name="if",d.name.compound="if",d.isClosingTag=!0,d.content=" /if ",d.originalNode=e,d}if(e.name.name=="unless"){let d=e.copyBasicDetails(),h=e.getParser();if(h!=null&&d.withParser(h),d.name=new Mn,d.name.name="if",d.name.compound="if",e.isClosingTag==!1){let y=(u=e.getContent())!=null?u:"",_=" if !("+y+") ";d.content=_,d.originalNode=e,d.resetContentCache(),d.runtimeNodes=this.lexer.tokenize(d,(f=d.getContent())!=null?f:""),this.testUnlessContent(d)}else d.originalNode=e,d.content=" /if ";return d}else if(e.name.name=="elseunless"){let d=e.copyBasicDetails(),h=e.getParser();h!=null&&d.withParser(h),d.name=new Mn,d.name.name="elseif",d.name.compound="elseif";let y=(m=e.getContent())!=null?m:"",_=" elseif !("+y+") ";return d.content=_,d.originalNode=e,d.resetContentCache(),d.runtimeNodes=this.lexer.tokenize(d,(p=d.getContent())!=null?p:""),this.testUnlessContent(d),d}else if(e.name.name=="endunless"){let d=e.copyBasicDetails(),h=e.getParser();return h!=null&&d.withParser(h),d.name=new Mn,d.name.name="if",d.name.compound="if",d.isClosingTag=!0,d.content=" /if ",d.originalNode=e,d}return e}pushError(e){this.activeNode!=null&&this.activeNode.pushError(e)}testUnlessContent(e){var r;let n=(r=e.getContent())!=null?r:"";if(n=n.replace("!",""),n=n.replace("(",""),n=n.replace(")","").trim(),n.length==0){this.pushConditionWithoutExpression(e);return}}pushConditionWithoutExpression(e){this.pushError(M.makeSyntaxError(P.TYPE_PARSE_EMPTY_CONDITIONAL,e,"Condition structure lacks comparison expression."))}getParameters(e){var H,B,ae,ce,Te,oe,Ge,bt,Se;let n=(H=e.getContent())!=null?H:"",r=n.split(""),i=[],s=[],o=r.length,a=0;if(e.name!=null){let Q=X.trimLeft(e.content," "),Xe=e.content.length-Q.length,at=e.name.content.length;Xe>0?a=Xe+at:a=at}let l=!1,c=[],u="",f=0,m=0,p=!1,d=null,h=-1,y=-1,_=-1,T=-1,S=-1,g=-1,E='"';for(let Q=0;Q<o;Q++){let Xe=r[Q],at=null,kt=null;if(Q+1<o&&(kt=r[Q+1]),p?(at="",p=!1):Q>0&&(at=r[Q-1]),l==!1&&X.ctypeSpace(Xe)){c=[],h=-1,y=-1,_=-1,T=-1,S=-1,g=-1;continue}if(l==!1&&Xe==O.Punctuation_Equals){if(c.length>0&&(X.ctypeAlpha(c[0])||X.ctypeDigit(c[0])||c[0]==O.Punctuation_Colon||c[0]==O.AtChar)==!1){c=[];continue}if(Q+1>=o){this.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_END_OF_INPUT,e,"Unexpected end of input"));continue}let Fe=null;if(Q+1<o&&(Fe=r[Q+1]),at==O.Punctuation_Equals){c=[],h=-1,y=-1,_=-1,T=-1,S=-1,g=-1;continue}if(X.ctypeSpace(Fe)||Fe==O.Punctuation_Equals){c=[],h=-1,y=-1,_=-1,T=-1,S=-1,g=-1;continue}c.length>0&&(T=Q,S=Q,u=c.join(""),f=m,l=!0,c=[]),kt==O.String_Terminator_DoubleQuote&&(d=O.String_Terminator_DoubleQuote,E=O.String_Terminator_DoubleQuote,Q+=1),kt==O.String_Terminator_SingleQuote&&(d=O.String_Terminator_SingleQuote,E=O.String_Terminator_SingleQuote,Q+=1);continue}if(l&&Xe==O.String_EscapeCharacter){let Fe=null;if(Q+1<o&&(Fe=r[Q+1]),Fe==O.String_EscapeCharacter){c.push(O.String_EscapeCharacter),Q+=1,p=!0;continue}if(Fe==O.String_Terminator_DoubleQuote){c.push(O.String_Terminator_DoubleQuote),Q+=1;continue}if(Fe==O.String_Terminator_SingleQuote){c.push(O.String_Terminator_SingleQuote),Q+=1;continue}if(Fe=="n"){c.push(`
`),Q+=1;continue}if(Fe=="r"){c.push("\r"),Q+=1;continue}}if(l==!1&&(d!=null&&Xe==d||d==null&&X.ctypeSpace(Xe))&&i.push(c.join("")),l&&(d!=null&&Xe==d||d==null&&X.ctypeSpace(Xe))){let Fe=c.join("");g=Q,y=Q,l=!1,d=null,c=[];let lt=new Ks;if(u.startsWith(O.Punctuation_Colon)&&(lt.isVariableReference=!0,u=u.substr(1)),lt.nameDelimiter=E,lt.name=u,lt.value=Fe,lt.startPosition=(B=e.relativePositionFromOffset(m,f))!=null?B:null,Q+1>o){this.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER,e,"Unexpected end of input while parsing parameter content.")),lt.parent=e,s.push(lt),u="";continue}lt.endPosition=(ae=e.relativePositionFromOffset(Q+1,Q+1))!=null?ae:null,lt.parent=e,lt.blockPosition={start:(ce=e.relativeOffset(h,h))!=null?ce:null,end:(Te=e.relativeOffset(y,y))!=null?Te:null},lt.namePosition={start:(oe=e.relativeOffset(_,_))!=null?oe:null,end:(Ge=e.relativeOffset(T,T))!=null?Ge:null},lt.valuePosition={start:(bt=e.relativeOffset(S+2,S+2))!=null?bt:null,end:(Se=e.relativeOffset(g,g))!=null?Se:null},s.push(lt),u="",h=-1,y=-1,_=-1,T=-1,S=-1,g=-1;continue}if(l==!1&&(Xe==O.String_Terminator_DoubleQuote||Xe==O.String_Terminator_SingleQuote)&&Q>a)break;c.push(Xe),h==-1&&(h=Q),_==-1&&(_=Q),c.length==1&&(m=Q+1)}if(d!=null){let Q=e;if(i.length>0){let Xe=i[i.length-1],at=e.content.indexOf(Xe);if(at>=0){let kt=new $;kt.startPosition=e.relativeOffset(at-2,at-2),kt.endPosition=e.relativeOffset(at+Xe.length,at+Xe.length),Q=kt}}this.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_END_OF_INPUT,Q,"Unexpected string literal while parsing parameters."))}return s}};var gP=K(uu()),cf=class{static regions(){return this.noParseRegions}static clear(){this.noParseRegions.clear()}static registerNoParseContent(e){let n=gP.Md5.hashStr(e);return this.noParseRegions.set(n,e),n}};cf.noParseRegions=new Map;function xm(t,e){let n=new Set(t),r=new Set(e),i=new Set([...n].filter(s=>r.has(s)));return Array.from(i)}var Em=class{constructor(){this.closingTagIndex=new Map;this.closingTagIndexCount=new Map;this.openTagIndexCount=new Map;this.closingTagNames=new Map;this.parentNode=null;this.stackCount=0;this.createdExecutionBranches=[];this.document=null}getClosingCandidates(e){var n,r;if((e instanceof U||e instanceof ut)&&e.isClosingTag==!1){let i=(r=(n=e.name)==null?void 0:n.compound)!=null?r:"";return i=="if"?["if","elseif","else"]:i=="elseif"?["elseif","else","if"]:i=="else"?["if"]:[i]}return[]}buildCloseIndex(e){var n,r,i;e.forEach(s=>{var o,a,l,c,u,f,m,p,d,h;if(!(s instanceof Dn)&&!((s instanceof U||s instanceof ut)&&s.isSelfClosing)&&(s instanceof U||s instanceof ut)&&s.isClosingTag){this.closingTagIndex.has(this.stackCount)==!1&&this.closingTagIndex.set(this.stackCount,new Map),this.closingTagIndexCount.has(this.stackCount)==!1&&this.closingTagIndexCount.set(this.stackCount,new Map);let y=(a=(o=s.name)==null?void 0:o.compound)!=null?a:"";((l=this.closingTagIndex.get(this.stackCount))==null?void 0:l.has(y))==!1&&((c=this.closingTagIndex.get(this.stackCount))==null||c.set(y,[]),(u=this.closingTagIndexCount.get(this.stackCount))==null||u.set(y,0)),(m=(f=this.closingTagIndex.get(this.stackCount))==null?void 0:f.get(y))==null||m.push(s);let _=(d=(p=this.closingTagIndexCount.get(this.stackCount))==null?void 0:p.get(y))!=null?d:0;(h=this.closingTagIndexCount.get(this.stackCount))==null||h.set(y,_+1)}}),this.closingTagNames.has(this.stackCount)==!1&&this.closingTagNames.set(this.stackCount,[]),this.closingTagIndex.has(this.stackCount)&&(this.closingTagNames.set(this.stackCount,Array.from((r=(n=this.closingTagIndex.get(this.stackCount))==null?void 0:n.keys())!=null?r:[])),(i=this.closingTagIndex.get(this.stackCount))==null||i.forEach((s,o)=>{var c,u,f,m,p,d,h;let a=s.length;if(a==0)return;let l=s[a-1];for(let y=0;y<a;y++){let _=e[y];if(_ instanceof U||_ instanceof ut){if(_ instanceof Dn)continue;if(_.index>=l.index)break;let T=(u=(c=_.name)==null?void 0:c.compound)!=null?u:"";if(_.isClosingTag==!1&&o==T&&!_.isSelfClosing){this.openTagIndexCount.has(this.stackCount)==!1&&this.openTagIndexCount.set(this.stackCount,new Map),((f=this.openTagIndexCount.get(this.stackCount))==null?void 0:f.has(o))==!1&&((m=this.openTagIndexCount.get(this.stackCount))==null||m.set(o,0));let S=(d=(p=this.openTagIndexCount.get(this.stackCount))==null?void 0:p.get(o))!=null?d:0;(h=this.openTagIndexCount.get(this.stackCount))==null||h.set(o,S+1)}}}}))}getScanForList(e){var n;if(e instanceof U||e instanceof ut){let r=(n=e.name)==null?void 0:n.compound;if(r=="else")return["if"];if(r=="elseif")return["elseif","else","if"];if(e.isClosingTag==!1){let i=this.getClosingCandidates(e),s=this.closingTagNames.get(this.stackCount);return xm(i,s)}}return[]}canPossiblyClose(e){var n,r;if(e instanceof Dn)return!1;if(e instanceof ut||e instanceof U){if(e.isComment||e.isSelfClosing)return!1;let i=(r=(n=e.name)==null?void 0:n.compound)!=null?r:"";if(i=="else"||i=="elseif")return!0;if(e.isClosingTag==!1){let s=this.getClosingCandidates(e),o=this.closingTagNames.get(this.stackCount);return xm(s,o).length>0}}return!1}findClosingPair(e,n,r){var a,l,c,u;let i=n.runtimeNodes.length,s=e.length,o=0;for(let f=0;f<s;f++){let m=e[f];if(m instanceof U||m instanceof ut)if(n.endPosition!=null&&m.startPosition!=null){if(n.endPosition.isBefore(m.startPosition)){if(m.isClosingTag&&m.isOpenedBy!=null||m.isSelfClosing)continue;let p=(l=(a=m.name)==null?void 0:a.compound)!=null?l:"";if(m.isClosingTag==!1){if(r.includes(p)){let d=(c=this.openTagIndexCount.get(this.stackCount))==null?void 0:c.get(p),h=(u=this.closingTagIndexCount.get(this.stackCount))==null?void 0:u.get(p);d!=h&&m.runtimeNodes.length>=i,o+=1}continue}if(r.includes(p)&&o>0){o-=1;continue}if(o==0&&r.includes(p)){m.isOpenedBy=n,n.isClosedBy=m;break}}}else continue}}associate(e,n){var s,o,a,l,c,u,f;this.document=n;let r=[{documentNodes:e,parent:null}],i=[];for(;r.length>0;){let m=r.pop();if(m==null)continue;let p=m.documentNodes;this.parentNode=m.parent,this.stackCount+=1,this.buildCloseIndex(p),p=On.pairConditionals(p),p.forEach(_=>{if((_ instanceof U||_ instanceof ut)&&this.canPossiblyClose(_)){if(On.isConditionalStructure(_))return;let T=this.getScanForList(_);this.findClosingPair(p,_,T)}});let d=p.length;for(let _=0;_<d;_++){let T=p[_];if((T instanceof U||T instanceof ut)&&T.isClosedBy!=null)for(let S=_+1;S<d;S++){let g=p[S];if(g.index>T.isClosedBy.index)break;if(g.parent=T,T.children.push(g),g instanceof U&&g.index==T.index){g.parent=T;break}}}p.forEach(_=>{if((_ instanceof U||_ instanceof ut)&&_.children.length>0){let T=[];_.children.forEach(S=>{S.parent!=null&&S.parent.index==_.index&&(S.parent=_,T.push(S))}),r.push({documentNodes:T,parent:_})}});let h=[];p.forEach(_=>{this.parentNode==null?_.parent==null&&h.push(_):_.parent==this.parentNode&&h.push(_)}),h=this.reduceConditionals(h);let y=new Map;p.forEach(_=>{var T,S,g,E;if((_ instanceof U||_ instanceof ut)&&_.isClosedBy!=null&&this.document!=null){let H=this.document.getText(((S=(T=_.endPosition)==null?void 0:T.index)!=null?S:0)+1,(E=(g=_.isClosedBy.startPosition)==null?void 0:g.index)!=null?E:0);_.runtimeContent=H}});for(let _=0;_<h.length;_++){let T=h[_],S=(s=T.refId)!=null?s:"";if(y.set(S,1),(T instanceof U||T instanceof ut)&&T.isComment==!1&&((o=T.name)==null?void 0:o.name)=="noparse"&&!(T instanceof ui)&&T.isClosingTag==!1){if(T.isClosedBy==null){T.pushError(M.makeSyntaxError(P.TYPE_NO_PARSE_UNASSOCIATED,T,"Encountered noparse region without a closing tag. All noparse regions must be closed."));continue}let g=T.content;this.document!=null&&(g=this.document.getText(((l=(a=T.endPosition)==null?void 0:a.index)!=null?l:0)+1,(f=(u=(c=T.isClosedBy)==null?void 0:c.startPosition)==null?void 0:u.index)!=null?f:0));let E=new ui,H=T.getParser();H!=null&&E.withParser(H),T.copyBasicDetailsTo(E),E.name=new Mn,E.name.name="noparse",E.name.compound="noparse",E.content=cf.registerNoParseContent(g),E.originalNode=T,E.isClosedBy=T.isClosedBy,h[_]=E}}if(this.parentNode!=null&&(this.parentNode instanceof ut||this.parentNode instanceof U)&&(this.parentNode.children=h,this.parentNode.parent!=null&&this.parentNode.parent instanceof U)){let _=this.parentNode.parent.children,T=[];_.forEach(S=>{var g;y.has((g=S.refId)!=null?g:"")==!1&&T.push(S)}),this.parentNode.parent.children=T}this.stackCount<=1&&(i=h)}return this.createdExecutionBranches.length>0&&this.createdExecutionBranches.forEach(m=>{m.head!=null&&(m.nodes=m.head.children)}),i}findEndOfBranch(e,n,r){let i=[],s=r,o=null;for(let a=0;a<e.length;a++){let l=e[a];if((l instanceof U||l instanceof ut)&&l.isOpenedBy!=null&&l.isOpenedBy==n){o=l;break}else i.push(l)}return{children:i,tail:o,offset:s}}reduceConditionals(e){var r,i,s;let n=[];for(let o=0;o<e.length;o++){let a=e[o];if((a instanceof U||a instanceof ut)&&a.isComment==!1&&a.isClosingTag==!1&&a.isClosedBy!=null)if(((i=(r=a.name)==null?void 0:r.compound)!=null?i:"")=="if"){let c=new qt;c.index=a.index,c.chain.push(a.index),this.parentNode!=null&&(c.parent=this.parentNode);let u=null,f=!0,m=0;for(;f;){if(m+=1,m>Em.ForceBreakLimit){f=!1;break}if(a instanceof U||a instanceof ut){let p=this.findEndOfBranch(e.slice(o+1),a,o),d=new Ld,h=p.tail;if(d.head=a,d.tail=h,d.nodes=a.children,h==null&&(h=d.head.isClosedBy),h!=null&&h.startPosition!=null&&(d.startPosition=h.startPosition),h!=null&&(d.index=h.index),d.nodes.length>0){let y=d.nodes[d.nodes.length-1];y.endPosition!=null&&(d.endPosition=y.endPosition)}else h!=null&&h.endPosition!=null&&(d.endPosition=h.endPosition);if(this.createdExecutionBranches.push(d),c.logicBranches.push(d),(h==null?void 0:h.isClosingTag)&&((s=h.name)==null?void 0:s.compound)=="if"){u=p.offset,f=!1;break}else h!=null&&c.chain.push(h.index),o=p.offset,h instanceof U&&(a=h)}else f=!1}if(c.logicBranches.length>0){let p=c.logicBranches[0],d=c.logicBranches[c.logicBranches.length-1];p.startPosition!=null&&(c.startPosition=p.startPosition),d.endPosition!=null&&(c.endPosition=d.endPosition)}if(n.push(c),u!=null&&u==e.length)break}else n.push(a);else n.push(a)}return n}},Ca=Em;Ca.ForceBreakLimit=1e5;var wm=class{static associateRecursiveParent(e){var n,r;for(let i=0;i<e.length;i++){let s=e[i];if(s instanceof Dn){let o="*recursive "+((n=s.name)==null?void 0:n.name);if(i-1<0){s.pushError(M.makeSyntaxError(P.TYPE_RECURSIVE_NODE_INVALID_POSITION,s,"Unpaired recursive node. All recursive nodes must have a parent node introducing them."));continue}let a=null;for(let l=i-1;l>=0;l-=1){let c=e[l];if(!(c instanceof dt)&&c instanceof U&&c.isClosedBy!=null){if(s.isNestedRecursive){if(c.content.trim()==((r=s.name)==null?void 0:r.name)){a=c;break}}else if(c.runtimeContent.includes(o)&&X.substringCount(s.runtimeContent,"*recursive")==1){a=c;continue}else if(a!=null)break}}if(a==null)continue;s.isNestedRecursive?(a.hasRecursiveNode=!0,s.recursiveParent=a,a.recursiveReference=s):a.parent!=null?a.parent instanceof U&&(a.parent.hasRecursiveNode=!0,a.parent.recursiveReference=s,s.recursiveParent=a.parent):(a.hasRecursiveNode=!0,s.recursiveParent=a,a.recursiveReference=s)}}}};var Aa=class{static getNearText(e){var r,i,s,o;if(e instanceof te)return e.name;if(e instanceof wt)return(i=(r=e.value)==null?void 0:r.toString())!=null?i:"";if(e instanceof yt)return e.value;if(e instanceof Bt)return e.name;if(e instanceof jt)return e.value;if(e instanceof zr||e instanceof mi||e instanceof fr||e instanceof Mr||e instanceof Dr||e instanceof rn||e instanceof Yr||e instanceof It||e instanceof nn||e instanceof kr||e instanceof Hn||e instanceof di||e instanceof Tn||e instanceof fi||e instanceof Vr||e instanceof Kn||e instanceof Fr||e instanceof Yn||e instanceof qr||e instanceof pi||e instanceof Wr||e instanceof jr||e instanceof Br||e instanceof Fi||e instanceof pr||e instanceof $n||e instanceof Hr||e instanceof bn||e instanceof dr||e instanceof vn||e instanceof $r||e instanceof Gr||e instanceof Ur||e instanceof qi||e instanceof mr||e instanceof Kr||e instanceof Kt||e instanceof Vt||e instanceof Nn||e instanceof Nt||e instanceof ls||e instanceof Pn||e instanceof hi||e instanceof $t)return e.content;let n="";return e instanceof U?e.originalNode!=null?n=e.originalNode.getContent():n=(o=(s=e.startPosition)==null?void 0:s.line.toString())!=null?o:"":e.originalAbstractNode!=null?n=e.originalAbstractNode.rawContent():n=e.rawContent(),n.length>15&&(n=n.substr(0,-15)),n}};var xa=class{};xa.deferredCoreLibraries=["arr","array","str","string","method","math","sys","convert","scope","stopwatch","file","path","url","request","json","datetime"];var mt=class{};mt.ARR_PLUCK="pluck",mt.ARR_TAKE="take",mt.ARR_SKIP="skip",mt.ARR_MAKE="arr",mt.ARR_ORDERBY="orderby",mt.ARR_GROUPBY="groupby",mt.ARR_MERGE="merge",mt.QUERY_WHERE="where",mt.STRUCT_SWITCH="switch",mt.BITWISE_AND="bwa",mt.BITWISE_OR="bwo",mt.BITWISE_XOR="bxor",mt.BITWISE_NOT="bnot",mt.BITWISE_SHIFT_LEFT="bsl",mt.BITWISE_SHIFT_RIGHT="bsr",mt.operators=["pluck","take","arr","skip","orderby","groupby","merge","where","switch","bwa","bwo","bxor","bsl","bsr"];var St=class{constructor(){this.pathParser=new Ui;this.tokens=[];this.createdModifierChains=[];this.createdLanguageOperators=[];this.createdArrays=[];this.tracedAssignments=[];this.mergedVariablePaths=[];this.mergedComponents=new Map;this.modifierNameMapping=new Map;this.isRealModifierSeparator=new Map;this.isRoot=!0;this.retriggerNonVirtualGroupMembers=[]}hasModifierConstruct(e){return this.modifierNameMapping.has(e)}getModifierConstruct(e){return this.modifierNameMapping.get(e)}isActualModifierSeparator(e){return this.isRealModifierSeparator.has(e)}isMergedVariableComponent(e){return this.mergedComponents.has(e)}getMergedVariable(e){return this.mergedComponents.get(e)}getMergedVariablePaths(){return this.mergedVariablePaths}getCreatedModifierChains(){return this.createdModifierChains}getCreatedLangaugeOperators(){return this.createdLanguageOperators}getCreatedArrays(){return this.createdArrays}getRuntimeAssignments(){return this.tracedAssignments}getAssignedVariables(){let e=[],n=[];for(let r=0;r<this.tracedAssignments.length;r++){let i=this.tracedAssignments[r];i.target instanceof te&&n.includes(i.target.name)==!1&&(n.push(i.target.name),e.push(i.target))}return e}getAssignedVariableNames(){let e=[];for(let n=0;n<this.tracedAssignments.length;n++){let r=this.tracedAssignments[n];r.target instanceof te&&e.includes(r.target.name)==!1&&e.push(r.target.name)}return e}reset(){this.tokens=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.createdArrays=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.tracedAssignments=[],this.createdArrays=[],this.mergedVariablePaths=[],this.mergedComponents.clear(),this.modifierNameMapping.clear()}parse(e){return this.tokens=e,this.tokens=this.combineVariablePaths(this.tokens),this.tokens=this.createLanguageOperators(this.tokens),this.tokens=this.createLogicalGroups(this.tokens),this.tokens=this.associateMethodCalls(this.tokens),this.tokens=this.createTupleLists(this.tokens),this.tokens=this.createLibraryInvocations(this.tokens),this.tokens=this.associateModifiers(this.tokens),this.tokens=this.createNullCoalescenceGroups(this.tokens),this.tokens=this.correctTypes(this.tokens),this.tokens=this.createTernaryGroups(this.tokens),this.tokens=this.applyOperationOrder(this.tokens),this.validateNeighboringOperators(this.tokens),this.tokens=this.createLogicGroupsToRemoveMethodInvocationAmbiguity(this.tokens),this.tokens=this.createLogicGroupsToResolveOperatorAmbiguity(this.tokens),this.validateNoDanglingLogicGroupEnds(this.tokens),this.isRoot&&(this.tokens=this.insertAutomaticStatementSeparators(this.tokens),this.retriggerNonVirtualGroupMembers.length>0&&this.retriggerNonVirtualGroupMembers.forEach(n=>{this.markAllNonVirtualAsListGroupMember(n)})),this.createSemanticGroups(this.tokens)}setIsRoot(e){return this.isRoot=e,this}validateNeighboringOperators(e){let n=e.length;for(let r=0;r<n;r++){let i=e[r];if(St.isOperatorType(i)){if(r+1>=n){i.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_OPERATOR,i,"Unexpected operator while parsing input text."));return}let s=e[r+1];if(St.isOperatorType(s)){s.pushError(M.makeSyntaxError(P.TYPE_OPERATOR_INVALID_ON_RIGHT,s,"Unexpected operator while parsing input text."));continue}}}}static isAssignmentOperator(e){return e instanceof kr||e instanceof Fr||e instanceof $n||e instanceof qr||e instanceof Vr||e instanceof di}static isOperatorType(e){return e instanceof kr||e instanceof Fr||e instanceof $n||e instanceof qr||e instanceof Vr||e instanceof di||e instanceof qi||e instanceof Yr||e instanceof dr||e instanceof rn||e instanceof $r||e instanceof mi||e instanceof mr||e instanceof hi||e instanceof Hn||e instanceof Yn||e instanceof fi||e instanceof pi||e instanceof Kn||e instanceof Tn||e instanceof bn||e instanceof pr||e instanceof Fi||e instanceof Br||e instanceof jr||e instanceof Ur||e instanceof Gr||e instanceof Wr||e instanceof Hr}markAllNonVirtualAsListGroupMember(e){e.forEach(n=>{if(n instanceof Le||n instanceof hr||n instanceof Bi){n.start!=null&&n.start.isVirtual==!1&&(n.start.isListGroupMember=!0),n.end!=null&&n.end.isVirtual==!1&&(n.end.isListGroupMember=!0),n.scopeOperator!=null&&(n.scopeOperator.isListGroupMember=!0),n.nodes.forEach(r=>{this.markAllNonVirtualAsListGroupMember([r])});return}else n instanceof Et&&(n.separatorToken!=null&&n.separatorToken.isVirtual==!1&&(n.separatorToken.isListGroupMember=!0),this.markAllNonVirtualAsListGroupMember(n.nodes));n.isVirtual==!1&&(n.isListGroupMember=!0),n.originalAbstractNode!=null&&n.originalAbstractNode!=n&&this.markAllNonVirtualAsListGroupMember([n.originalAbstractNode])})}markAllNonVirtualAsSwitch(e){e.forEach(n=>{if(n instanceof Le||n instanceof hr||n instanceof Bi){n.start!=null&&n.start.isVirtual==!1&&(n.start.isSwitchGroupMember=!0),n.end!=null&&n.end.isVirtual==!1&&(n.end.isSwitchGroupMember=!0),n.scopeOperator!=null&&(n.scopeOperator.isSwitchGroupMember=!0),n.nodes.forEach(r=>{this.markAllNonVirtualAsSwitch([r])});return}else n instanceof Et&&(n.separatorToken!=null&&n.separatorToken.isVirtual==!1&&(n.separatorToken.isSwitchGroupMember=!0),this.markAllNonVirtualAsSwitch(n.nodes));n.isVirtual==!1&&(n.isSwitchGroupMember=!0),n.originalAbstractNode!=null&&n.originalAbstractNode!=n&&this.markAllNonVirtualAsSwitch([n.originalAbstractNode])})}validateNoDanglingLogicGroupEnds(e){e.forEach(n=>{n instanceof Vt&&n.pushError(M.makeSyntaxError(P.TYPE_LOGIC_GROUP_NO_START,n,"Unexpected [T_LOGIC_END] while parsing input text."))})}isValidModifierValue(e){return e instanceof jt||e instanceof te||e instanceof Mr||e instanceof Dr||e instanceof fr||e instanceof wt||e instanceof yt}wrapNumberInVariable(e){var r,i,s,o;let n=new te;return n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.name=(i=(r=e.value)==null?void 0:r.toString())!=null?i:"",n.content=(o=(s=e.value)==null?void 0:s.toString())!=null?o:"",n.originalAbstractNode=e,n.refId=e.refId,n.modifierChain=e.modifierChain,n.index=e.index,n}wrapArithmeticModifier(e,n){let r=new Bt;return r.startPosition=e.startPosition,r.endPosition=e.endPosition,r.originalAbstractNode=e,r.content=n,r.name=n,r.index=e.index,r}combineVariablePaths(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i],o=n.length;if(s instanceof Nt){if(o==0){s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE,s,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}if(i+1>r){let c="";if(i>0){let u=e[i-1];c=Aa.getNearText(u)}s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP,s,'Unexpected end of input while parsing input text near "'+c+Aa.getNearText(s)+'".'));continue}let a=n[o-1],l=e[i+1];if(l instanceof wt&&tt.distance(a,l)==1&&(l=this.wrapNumberInVariable(l)),a instanceof te&&l instanceof te&&tt.distance(a,l)==1){n.pop(),tt.mergeVarContentRight(":",s,l),tt.mergeVarRight(a,l),n.push(l),this.mergedVariablePaths.push(l),this.mergedComponents.set(s,l),this.mergedComponents.set(a,l),this.mergedComponents.set(l,l),i+=1;continue}else{n.push(s);continue}}else if(s instanceof yt&&o>0){if(i+1>=r){n.push(s);continue}let a=n[o-1],l=e[i+1];if(a instanceof te&&l instanceof te&&tt.distance(a,s)<=1&&tt.distance(s,l)<=1){n.pop(),tt.mergeVarContentLeft(s.sourceTerminator+s.value+s.sourceTerminator,s,a),tt.mergeVarContentLeft(l.name,l,a),n.push(a),this.mergedVariablePaths.push(a),this.mergedComponents.set(s,a),this.mergedComponents.set(a,a),this.mergedComponents.set(l,a),i+=1;continue}else n.push(s)}else if(s instanceof Tn&&o>0){let a=n[o-1],l=e[i+1];if(a instanceof te&&l instanceof te){let c=tt.distance(a,s),u=tt.distance(s,l);c<=1&&u<=1?(a.endPosition=l.endPosition,this.mergedComponents.set(s,a),this.mergedComponents.set(a,a),this.mergedComponents.set(l,a),i+=1):n.push(s)}else n.push(s)}else n.push(s)}return n.forEach(i=>{i instanceof te&&(i.variableReference=this.pathParser.parse(i.name),i.mergeErrors(this.pathParser.getAntlersErrors()))}),n}convertVarNodeToOperator(e){let n=new Yr;return n.content=e.name,n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.originalAbstractNode=e,e.convertedToOperator=!0,this.createdLanguageOperators.push(n),n}convertOperatorToVarNode(e){let n=new te;return n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.content=e.content,n.name=e.content,n.originalAbstractNode=e,n}createLanguageOperators(e){let n=e.length;for(let r=0;r<n;r++){let i=e[r];if(i instanceof te){if(i.name.includes(O.Punctuation_FullStop)){let s=i.name.split(O.Punctuation_FullStop);if(mt.operators.includes(s[0])||xa.deferredCoreLibraries.includes(s[0])){e[r]=this.convertVarNodeToOperator(i);continue}}if(mt.operators.includes(i.name)){e[r]=this.convertVarNodeToOperator(i);continue}}if(i instanceof Yr){if(r+1>=n){e[r]=this.convertOperatorToVarNode(i);continue}if(e[r+1]instanceof nn){e[r]=this.convertOperatorToVarNode(i);continue}}}return e}createLogicalGroups(e){let n=[],r=e.length,i=[];for(let o=0;o<r;o++){let a=e[o];if(a instanceof rn){let l=this.countTypeRight(e,o,rn);if(i.length==0&&e.length==l){a.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR,a,"Unexpected [T_LOGIC_INVERSE] while parsing input text."));continue}if(o>0&&i.length>0){let f=i[i.length-1];if(f instanceof wt||f instanceof Vt||f instanceof Le){if(f instanceof Le&&f.start instanceof rn){f.start.pushError(M.makeSyntaxError(P.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED,f.start,"[T_AOP_FACTORIAL] operand will always materialize boolean type."));continue}let m=new ls;m.startPosition=a.startPosition,m.endPosition=a.endPosition,m.content="!".repeat(l),m.originalAbstractNode=a,m.repeat=l,i.push(m),l>0&&(o+=l-1);continue}}if(l%2==0){o+=l-1;continue}let c=e[o+l];if(c instanceof Kt){let f=o+l+1;if(f>=r){c.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET,c,"Unexpected end of input while parsing input text."));continue}let m=this.findLogicalGroupEnd(e[o+l],e.slice(f));if(m.found){let p=m.logicalGroup,d=new Le;d.start=a,d.end=p,d.nodes.push(a),d.nodes.push(p),d.startPosition=a.startPosition,d.endPosition=p.endPosition,i.push(d),o+=m.skipCount+l}continue}let u=this.resolveValueRight(e,o);u.value!=null&&i.push(u.value),o+=u.negationCount}else i.push(a)}let s=i.length;for(let o=0;o<s;o++){let a=i[o];if(a instanceof Kt){if(o+1>=s){a.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION,a,"Unexpected end of input while parsing input text."));continue}let l=this.findLogicalGroupEnd(a,i.slice(o+1));l.found&&l.logicalGroup!=null&&n.push(l.logicalGroup),o+=l.skipCount}else if(a instanceof ls){if(n.length==0){a.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS,a,"Unexpected [T_AOP_FACTORIAL] while parsing input text."));continue}let l=n[n.length-1];if(!(l instanceof Le)&&!(l instanceof wt)){a.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_FACTORIAL_OPERAND,a,"Unexpected left operand encountered for [T_AOP_FACTORIAL] while parsing input text."));continue}l=n.pop();let c=new Le;c.startPosition=l.startPosition,c.endPosition=a.endPosition,c.originalAbstractNode=a,c.nodes.push(l),c.nodes.push(a),n.push(c)}else n.push(a)}return n}makeArgGroup(e){let n=new Xo,r=e.length;for(let s=0;s<r;s++){let o=e[s];if(this.isOperand(o)==!1){o.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD,o,"Unexpected ["+G.getPrettyTypeName(o)+"] while parsing argument group."));continue}let a=null;if(s+1<r&&(a=e[s+1]),a==null||a instanceof It){n.args.push(e[s]),s+=1;continue}else if(a instanceof Nt){if(s+2>=r){o.pushError(M.makeSyntaxError(P.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT,o,"Unexpected end of input while parsing named argument."));continue}let l=e[s+2],c=new fu;c.startPosition=o.startPosition,c.endPosition=l.endPosition,c.content=o.content+l.content,c.name=o,c.value=l,o instanceof te||o.pushError(M.makeSyntaxError(P.TYPE_INVALID_NAMED_ARG_IDENTIFIER,o,"Invalid type ["+G.getPrettyTypeName(o)+"] supplied for named argument name.")),n.hasNamedArguments=!0,n.numberOfNamedArguments+=1,n.args.push(c),s+3<r&&e[s+3]instanceof It?s+=3:s+=2;continue}}let i=!1;return n.args.forEach(s=>{s instanceof fu?i=!0:i&&s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT,s,"Unnamed arguments are not allowed to appear after a named argument."))}),n}cleanVariableForMethodInvocation(e){(e.name.startsWith(":")||e.name.startsWith("."))&&(e.name=e.name.substr(1),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(1),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(1)),e.startPosition!=null&&(e.startPosition.offset+=1,e.startPosition.char+=1))}reduceVariableReferenceForObjectAccessor(e){var s;let n=(s=e.variableReference)==null?void 0:s.pathParts.pop(),r=n.name,i=r.length+1;return e.name=e.name.substr(0,-i),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(0,-i),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(0,-i),e.variableReference.pathParts[e.variableReference.pathParts.length-1].isFinal=!0),e.endPosition!=null&&(e.endPosition.offset-=i,e.endPosition.char-=i),{accessor:r,accessorLen:i}}associateMethodCalls(e){var i,s;let n=[],r=e.length;for(let o=0;o<r;o++){let a=e[o],l=null,c=null;if(n.length>0&&(l=n[n.length-1]),o+1<r&&(c=e[o+1]),a instanceof te&&c instanceof Le&&l!=null&&(this.isProperMethodChainTargetStrict(l)||l instanceof Nt)){let u=c,f=[];u.nodes.length>0&&(u.nodes[0]instanceof Et?f=u.nodes[0].nodes:f=u.nodes);let m=new $t;if(m.startPosition=a.startPosition,l instanceof Nt){let p=n.pop();m.startPosition=p.startPosition}this.cleanVariableForMethodInvocation(a),m.endPosition=u.endPosition,m.args=this.makeArgGroup(f),m.method=a,l.methodTarget=m,l instanceof te&&l.mergeRefName.length>0&&(l.name=tt.getUnrefName(l.mergeRefName)),n.push(m),o+=1;continue}else if(a instanceof Le&&l instanceof te&&l.variableReference!=null&&l.variableReference.pathParts.length>=2){let u=[];if(a.nodes.length>0&&(a.nodes[0]instanceof Et?u=a.nodes[0].nodes:u=a.nodes),l.variableReference.pathParts[0]instanceof Wn&&xa.deferredCoreLibraries.includes(l.variableReference.pathParts[0].name)){let h=n.pop(),y=new cs;y.startPosition=h.startPosition,y.endPosition=a.endPosition,y.content=h.content,y.originalAbstractNode=a;let T=((i=h.variableReference)==null?void 0:i.pathParts.shift()).name,S=(s=h.variableReference)==null?void 0:s.implodePaths();y.libraryName=T,y.methodName=S,y.arguments=this.makeArgGroup(u),n.push(y),o+=1;continue}let f=this.reduceVariableReferenceForObjectAccessor(l),m=new $t;m.startPosition=a.startPosition,m.endPosition=a.endPosition,l.methodTarget=m,l instanceof te&&l.mergeRefName.length>0&&(l.name=tt.getUnrefName(l.mergeRefName)),a.start!=null&&(a.start.isPartOfMethodChain=!0),a.end!=null&&(a.end.isPartOfMethodChain=!0);let p=new te;p.name=f.accessor,p.isPartOfMethodChain=!0;let d=this.makeArgGroup(u);if(m.startPosition!=null&&(m.startPosition.offset-=f.accessorLen,m.startPosition.char-=f.accessorLen),m.method=p,m.args=d,X.isNumeric(l.name)){let h=n.pop();n.push(this.convertOperatorToVarNode(h))}n.push(m);continue}else if(a instanceof te&&l instanceof $t){if(this.cleanVariableForMethodInvocation(a),o+1>r){a.pushError(M.makeSyntaxError(P.TYPE_METHOD_CALL_MISSING_ARG_GROUP,a,"Unexpected end of input while parsing method call."));continue}let u=e[o+1];if(!(u instanceof Le)){a.pushError(M.makeSyntaxError(P.TYPE_INVALID_METHOD_CALL_ARG_GROUP,a,"Unexpected ["+G.getPrettyTypeName(u)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let f=u,m=[];f.nodes.length>0&&(f.nodes[0]instanceof Et?m=f.nodes[0].nodes:m=f.nodes);let p=new $t;p.startPosition=a.startPosition,p.endPosition=f.endPosition,p.args=this.makeArgGroup(m),p.method=a,l.methodTarget=p,n.push(p),o+=1;continue}else if(a instanceof Nt&&l instanceof $t){if(o+1>r){a.pushError(M.makeSyntaxError(P.TYPE_METHOD_CALL_MISSING_METHOD,a,"Unexpected end of input while parsing method call."));continue}let u=e[o+1];if(o+2>r){a.pushError(M.makeSyntaxError(P.TYPE_METHOD_CALL_MISSING_ARG_GROUP,a,"Unexpected end of input while parsing method call."));continue}let f=e[o+2];if(!(f instanceof Le)){a.pushError(M.makeSyntaxError(P.TYPE_INVALID_METHOD_CALL_ARG_GROUP,a,"Unexpected ["+G.getPrettyTypeName(f)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let m=f,p=[];m.nodes.length>0&&(m.nodes[0]instanceof Et?p=m.nodes[0].nodes:p=m.nodes);let d=new $t;d.startPosition=a.startPosition,d.endPosition=f.endPosition,d.args=this.makeArgGroup(p),d.method=u,l.methodTarget=d,n.push(d),o+=2;continue}else if(a instanceof $t){if(o+1>r){a.pushError(M.makeSyntaxError(P.TYPE_METHOD_CALL_MISSING_METHOD,a,"Unexpected end of input while parsing method call."));continue}let u=e[o+1];if(o+2>r){a.pushError(M.makeSyntaxError(P.TYPE_INVALID_METHOD_CALL_ARG_GROUP,a,"Unexpected end of input while parsing method call."));continue}let f=e[o+2];if(!(f instanceof Le)){a.pushError(M.makeSyntaxError(P.TYPE_INVALID_METHOD_CALL_ARG_GROUP,a,"Unexpected ["+G.getPrettyTypeName(f)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let m=f,p=[];m.nodes.length>0&&(m.nodes[0]instanceof Et?p=m.nodes[0].nodes:p=m.nodes);let d=this.makeArgGroup(p);if(l instanceof te&&xa.deferredCoreLibraries.includes(l.name)){let h=n.pop(),y=new cs;y.startPosition=h.startPosition,y.endPosition=m.endPosition,y.libraryName=h.name,y.methodName=u.name,y.content=y.libraryName+"->"+y.methodName,y.arguments=d,l.libraryTarget=y,n.push(y),o+=2;continue}a.method=u,a.args=d,n.length>0&&(n[n.length-1].methodTarget=a),o+=2,n.push(a);continue}else n.push(a)}return n}convertVariableToStringNode(e){let n=new yt;return n.content=e.name,n.value=e.name,n.originalAbstractNode=e,n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.index=e.index,n}createTupleLists(e){let n=e.length,r=[];for(let i=0;i<n;i++){let s=e[i];if(s instanceof zr){if(s.isListGroupMember=!0,i+1>=n){s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST,s,"Unexpected end of input while parsing tuple list."));continue}let o=e[i+1];if(!(o instanceof Le)){o.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST,o,"Unexpected ["+G.getPrettyTypeName(o)+"] while parsing tuple list."));continue}let a=o;if(this.markAllNonVirtualAsListGroupMember([a]),this.retriggerNonVirtualGroupMembers.push([a]),a.nodes.length==0){a.pushError(M.makeSyntaxError(P.TYPE_MISSING_BODY_TUPLE_LIST,a,"Missing tuple list body while parsing tuple list."));continue}let c=a.nodes.shift(),u=c.nodes.length,f=[];for(let d=0;d<u;d++){let h=c.nodes[d];if(!(h instanceof It)){let y=!1;if(h instanceof te&&(h.variableReference==null&&(y=!0),h.variableReference!=null&&h.variableReference.pathParts.length>1&&(y=!0),h.name.trim().length==0&&(y=!0)),y||!(h instanceof te)){a.pushError(M.makeSyntaxError(P.TYPE_INVALID_TUPLE_LIST_NAME_TYPE,a,"Invalid ["+G.getPrettyTypeName(h)+"] name type found while parsing tuple list."));continue}let _=h;f.push(this.convertVariableToStringNode(_))}}let m=f.length;if(m==0){a.pushError(M.makeSyntaxError(P.TYPE_INVALID_MANIFESTED_NAME_GROUP,a,"Invalid Name expression produced an invalid name group while parsing tuple list."));continue}let p=new Vi;this.createdArrays.push(p),p.startPosition=s.startPosition,p.endPosition=s.endPosition,a.nodes.forEach(d=>{if(!(d instanceof Et)){d.pushError(M.makeSyntaxError(P.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP,d,"Invalid ["+G.getPrettyTypeName(d)+"] name type found while parsing tuple list value expression."));return}let h=d,y=new Vi;this.createdArrays.push(y),y.startPosition=h.startPosition;let _=[];for(let T=0;T<u;T++){let S=h.nodes[T];if(!(S instanceof It)){if(this.isOperand(S)==!1){S.pushError(M.makeSyntaxError(P.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE,S,"Unexpected ["+G.getPrettyTypeName(S)+"]  while parsing tuple list value."));continue}_.push(S)}}for(let T=0;T<m&&!(T>_.length);T++){let S=_[T],g=new Il;g.startPosition=S.startPosition,g.endPosition=S.endPosition,g.name=f[T],g.value=S,y.nodes.push(g),p.endPosition=S.endPosition,y.endPosition=S.endPosition}p.nodes.push(y)}),r.push(p),i+=1;continue}else r.push(s)}return e}makeOrderGroup(e){let n=[],r=e.length,i=0;for(let s=0;s<r;s++){let o=e[s],a=null;if(s+1<r&&(a=e[s+1]),s>0&&(a==null||a instanceof It)){i+=1;let l=new vl;l.order=i,l.name=e[s-1],l.directionNode=o,this.isOperand(l.name)==!1&&l.name.pushError(M.makeSyntaxError(P.TYPE_INVALID_ORDER_BY_NAME_VALUE,l.name,"Invalid value or expression supplied for order by name.")),this.isOperand(l.directionNode)==!1&&l.directionNode.pushError(M.makeSyntaxError(P.TYPE_INVALID_ORDER_BY_SORT_VALUE,l.directionNode,"Invalid value or expression supplied for order by direction.")),l.startPosition=l.name.startPosition,l.endPosition=l.directionNode.endPosition,n.push(l),s+=1;continue}}return n}getValues(e){let n=new $o,r=e.length,i=[];for(let s=0;s<r;s++){let o=e[s],a=null;if(s+1<r&&(a=e[s+1]),a==null||a instanceof It){i.push(o),s+=1;continue}}return n.values=i,n}createLibraryInvocations(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof Yr)if(s.content.includes(".")){let o=s.content.split("."),a=o.shift(),l=o.join("."),c=new cs;if(c.startPosition=s.startPosition,c.endPosition=s.endPosition,c.content=s.content,c.libraryName=a,c.methodName=l,c.originalAbstractNode=s,i+1>=r){s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP,s,"Unexpected end of input while parsing argument group."));continue}if(!(e[i+1]instanceof Le)){s.pushError(M.makeSyntaxError(P.TYPE_EXPECTING_ARGUMENT_GROUP,s,"Unexpected token while parsing method call. Expecting [T_ARG_SEPARATOR] got ["+G.getPrettyTypeName(s)+"]."));continue}let u=e[i+1],f=null;if(u.nodes.length>0){let m=u.nodes[0];f=this.makeArgGroup(m.nodes)}f==null&&(f=new Xo,f.startPosition=u.startPosition,f.endPosition=u.endPosition,f.originalAbstractNode=u),c.arguments=f,n.push(c),i+=1;continue}else if(s.content==mt.ARR_ORDERBY){if(i+1>=r){s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP,s,"Unexpected end of input while parsing order group."));continue}let o=e[i+1];if(!(o instanceof Le)){o.pushError(M.makeSyntaxError(P.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND,o,"Unexpected ["+G.getPrettyTypeName(o)+"] while parsing order group."));continue}let l=o.nodes;l[0]instanceof Et&&(l=l[0].nodes);let c=this.makeOrderGroup(l);c.length==0&&s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP,s,"Unexpected empty [T_DIRECTION_GROUP]. Must have at least one order clause, and each property must have a direction specified."));let u=new $s;if(u.orderClauses=c,c.length>0){c[0].directionNode!=null&&(u.startPosition=c[0].directionNode.startPosition);let f=c[c.length-1].directionNode;f!=null&&(u.endPosition=f.endPosition)}n.push(s),n.push(u),i+=1;continue}else if(s.content==mt.ARR_GROUPBY){if(i+1>=r){s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY,s,"Unexpected end of input while parsing group by clause."));continue}let o=e[i+1];if(o instanceof Bi||o instanceof hr){o.pushError(M.makeSyntaxError(P.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED,o,"Type ["+G.getPrettyTypeName(o)+"] must be enclosed with parenthesis to be used with groupby."));continue}if(!(o instanceof Le)){o.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY,o,"Unexpected ["+G.getPrettyTypeName(o)+"] while parsing group by."));continue}let l=o.nodes;l[0]instanceof Et&&(l=l[0].nodes);let c=this.getValues(l);if(n.push(s),n.push(c),i+2<r&&i+3<r){let u=e[i+2],f=e[i+3];if(tt.isVariableMatching(u,ze.ScopeAs))if(f instanceof yt){c.isNamedNode=!0,c.parsedName=f,i+=3;continue}else f.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE,f,"Expecting [T_STRING] for group by collection alias; got ["+G.getPrettyTypeName(f)+"]."))}i+=1;continue}else if(s.content==mt.STRUCT_SWITCH){if(i+1>=r){s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP,s,"Unexpected end of input while parsing [T_SWITCH_GROUP]."));continue}let o=e[i+1];if(!(o instanceof hr)){o.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP,o,"Unexpected ["+G.getPrettyTypeName(o)+"] while parsing [T_SWITCH_GROUP]."));continue}let a=o;if(this.markAllNonVirtualAsSwitch([o]),a.scope==null||!(a.scope instanceof Le)){a.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE,a,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let l=a.scope;if(l.nodes.length==0||!(l.nodes[0]instanceof Et)){a.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,a,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let c=l.nodes[0];if(this.markAllNonVirtualAsSwitch([l]),c.nodes.length==0||!(c.nodes[0]instanceof Le)){s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}this.markAllNonVirtualAsSwitch([s]),this.markAllNonVirtualAsSwitch(c.nodes);let u=c.nodes;if(a.nodes.length==0&&s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP].")),!(l.nodes[0]instanceof Et)){s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let m=l.nodes[0];this.markAllNonVirtualAsSwitch(m.nodes);let p=m.nodes,d=new zs,h=new Le;h.nodes=u,h.startPosition=h.nodes[0].startPosition,h.endPosition=h.nodes[h.nodes.length-1].endPosition;let y=new zo;y.condition=h;let _=new Le;_.nodes.push(p.shift()),_.startPosition=_.nodes[0].startPosition,_.endPosition=_.nodes[_.nodes.length-1].endPosition,y.expression=_,y.startPosition=y.condition.startPosition,y.endPosition=y.expression.nodes[y.expression.nodes.length-1].endPosition,p.shift(),d.cases.push(y);let T=p.length;if(T>0){if(!(p[0]instanceof Le)){s.pushError(M.makeSyntaxError(P.TYPE_PARSER_INVALID_SWITCH_TOKEN,s,"Invalid ["+G.getPrettyTypeName(p[0])+"] while parsing case statement."));continue}for(let S=0;S<T;S++){let g=p[S],E=null;if(g instanceof It){g.isSwitchGroupMember=!0;continue}if(S+1<T&&(E=p[S+1]),E instanceof Pn){E.isSwitchGroupMember=!0;let H=new zo;H.condition=g,this.markAllNonVirtualAsSwitch([H.condition]);let B=new Le;if(B.nodes.push(p[S+2]),B.startPosition=B.nodes[0].startPosition,B.endPosition=B.nodes[B.nodes.length-1].endPosition,H.expression=B,this.markAllNonVirtualAsSwitch([B]),H.startPosition=H.condition.startPosition,H.endPosition=H.expression.nodes[H.expression.nodes.length-1].endPosition,d.cases.push(H),S+3<T&&!(p[S+3]instanceof It)){p[S+3].pushError(M.makeSyntaxError(P.TYPE_PARSER_INVALID_SWITCH_TOKEN,p[S+3],"Invalid ["+G.getPrettyTypeName(p[S+3])+"] while parsing case statement; expecting [T_ARG_SEPARATOR]."));continue}p[S+3].isSwitchGroupMember=!0,S+=2;continue}}}n.push(new fr),n.push(s),n.push(d),i+=1;continue}else if(s.content==mt.ARR_MAKE){if(i+1>=r){s.pushError(M.makeSyntaxError(P.TYPE_ARR_MAKE_MISSING_TARGET,s,"Missing target variable for arr operator."));continue}let o=e[i+1];if(!(o instanceof Le)){o.pushError(M.makeSyntaxError(P.TYPE_ARR_MAKE_UNEXPECTED_TYPE,o,"Unexpected ["+G.getPrettyTypeName(o)+"] while parsing array."));continue}let a=o instanceof hr,l=o,c=l.nodes;if(c[0]instanceof Et&&(c=c[0].nodes),a){let p=o;c.unshift(new Pn),c.unshift(p.scope)}let u=this.getArrayValues(c),f=new Vi;f.startPosition=s.startPosition;let m=u.values.length;m>0?f.endPosition=u.values[m-1].endPosition:f.endPosition=s.endPosition,l.end!=null&&(f.endPosition=l.end.endPosition),f.nodes=u.values,this.createdArrays.push(f),n.push(f),i+=1}else n.push(s);else n.push(s)}return n}getArrayValues(e){let n=new $o,r=e.length,i=[];for(let s=0;s<r;s++){let o=e[s];if(o instanceof It){o.pushError(M.makeSyntaxError(P.TYPE_ARR_UNEXPECT_ARG_SEPARATOR,o,"Unexpected [T_ARG_SEPARATOR] while parsing array."));continue}if(o instanceof Pn){if(s==0){o.pushError(M.makeSyntaxError(P.TYPE_ARR_KEY_PAIR_MISSING_KEY,o,"Missing key for key/value pair while parsing array."));continue}else if(e[s-1]instanceof It){o.pushError(M.makeSyntaxError(P.TYPE_ARR_KEY_PAIR_MISSING_KEY,o,"Missing key for key/value pair while parsing array."));continue}}let a=null;if(s+1<r&&(a=e[s+1]),a instanceof Pn){if(s+2>=r){a.pushError(M.makeSyntaxError(P.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE,a,"Missing key/pair value while parsing array."));continue}let l=e[s+2],c=new Il;if(this.isValidArrayKeyNode(o)==!1){o.pushError(M.makeSyntaxError(P.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE,o,"Invalid ["+G.getPrettyTypeName(o)+"] type for key/value key."));continue}c.name=o,c.value=l,c.startPosition=o.startPosition,c.endPosition=l.endPosition,i.push(c),s+=3;continue}if(a==null||a instanceof It){let l=new Il;l.value=o,l.startPosition=o.startPosition,l.endPosition=o.endPosition,i.push(l),s+=1;continue}}return n.values=i,n}isValidArrayKeyNode(e){return e instanceof wt||e instanceof yt}associateModifiers(e){let n=[],r=e.length,i=null;for(let s=0;s<r;s++){let o=e[s];if(o instanceof vn){let a=n.length;if(a==0){o.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_MODIFIER_SEPARATOR,o,"Unexpected [T_MODIFIER_SEPARATOR] while parsing input text."));continue}if(this.isRealModifierSeparator.set(o,!0),i=n[a-1],i.modifierChain==null&&(i.modifierChain=new bl,i.modifierChain.modifierTarget=i,this.createdModifierChains.push(i.modifierChain)),s+1>=r){o.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS,o,"Unexpected end of input while preparing to gather modifier details."));continue}let l=this.scanToEndOfModifier(e.slice(s+1)),c=l.length;if(c>1&&l[1]instanceof Nt){this.isRealModifierSeparator.set(l[1],!0);let f=l[0];f instanceof Hn?l[0]=this.wrapArithmeticModifier(f,"add"):f instanceof Tn?l[0]=this.wrapArithmeticModifier(f,"subtract"):f instanceof Yn?l[0]=this.wrapArithmeticModifier(f,"divide"):f instanceof Kn?l[0]=this.wrapArithmeticModifier(f,"multiply"):f instanceof pi&&(l[0]=this.wrapArithmeticModifier(f,"mod"))}if(c==0){o.pushError(M.makeSyntaxError(P.TYPE_UNSET_MODIFIER_DETAILS,o,"Invalid or missing modifier details."));continue}if(!(l[0]instanceof Bt)){o.pushError(M.makeSyntaxError(P.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS,o,"Invalid ["+G.getPrettyTypeName(l[0])+"]; expecting [T_MODIFIER_NAME]"));continue}let u=this.createModifier(l);u.nameNode!=null&&this.modifierNameMapping.set(u.nameNode,u),s+=c,i.modifierChain.modifierChain.push(u),i.modifierChain.updateValues();continue}else n.push(o)}return n}createNullCoalescenceGroups(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof mr){let o=n.pop();if(i+1>=r){s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP,s,"Unexpected end of input while parsing input text."));continue}let a=e[i+1],l=new Nl;l.left=o,l.right=a,n.push(l),i+=1;continue}else n.push(s)}return n}isOperand(e){return e instanceof te||e instanceof Le||e instanceof yt||e instanceof wt||e instanceof Dr||e instanceof fr||e instanceof Mr||e instanceof cs||e instanceof $s||e instanceof $o||e instanceof zs||e instanceof Vi}isProperMethodChainTargetStrict(e){return e instanceof Le||e instanceof yt||e instanceof wt||e instanceof Dr||e instanceof fr||e instanceof Mr||e instanceof cs||e instanceof $s||e instanceof $o||e instanceof zs||e instanceof Vi}assertOperandRight(e,n){if(n+1>e.length-1)return e[n].pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_END_OF_INPUT,e[n],"Unexpected end of input; expecting operand for operator "+G.getPrettyTypeName(e[n])+' near "'+Aa.getNearText(e[n])+'".')),!1;let r=e[n+1];return this.isOperand(r)?!0:(r.pushError(M.makeSyntaxError(P.TYPE_EXPECTING_OPERAND,e[n],"Expecting operand, found "+G.getPrettyTypeName(r)+' near "'+Aa.getNearText(e[n])+'".')),!1)}resolveValueRight(e,n){let r=null,i=0,s=null;if(e.length>0){let o=!0;for(;o;){let a=e[n];if(a instanceof rn){s=a,i+=1,n+=1,o=!1;continue}else if(this.isOperand(a)){r=a,o=!1;break}else{o=!1;break}}}if(i%2!=0){let o=new Le;return o.nodes=[],s!=null&&r!=null&&(o.nodes.push(s),o.nodes.push(r)),{value:o,negationCount:i}}return{value:r,negationCount:i}}correctTypes(e){let n=[];return e.forEach(r=>{if(r instanceof Nn){let i=new Nt;i.startPosition=r.startPosition,i.endPosition=r.endPosition,i.originalAbstractNode=r,n.push(i)}else if(r instanceof jt){let i=new te;i.name=r.value,i.startPosition=r.startPosition,i.endPosition=r.endPosition,i.modifierChain=r.modifierChain,i.originalAbstractNode=r,n.push(i)}else n.push(r)}),n}createTernaryGroups(e){var i,s,o,a;let n=[],r=e.length;for(let l=0;l<r;l++){let c=e[l];if(c instanceof Kr){let u=this.seek(Nt,l+1);if(((i=u.node)==null?void 0:i.originalAbstractNode)!=null&&u.node.originalAbstractNode instanceof Nn&&(u.node.originalAbstractNode.isTenaryBranchSeparator=!0),u.found==!1){c.pushError(M.makeSyntaxError(P.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR,c,"Unexpected end of input; expecting [T_BRANCH_SEPARATOR]."));continue}let f=this.collectUntil(n);n=f.tokens;let m=f.collectedTokens[0],p=(s=u.foundAt)!=null?s:0;if(p>=r){c.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP,c,"Unexpected end of input while parsing ternary group."));continue}let d=e.slice(l+1,p);if(d.length>1||d.length==0){c.pushError(M.makeSyntaxError(P.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH,c,"Unexpected number of operations within ternary truth branch."));continue}let h=d[0],y=((o=u.foundAt)!=null?o:0)+1;if(y>=r){c.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH,c,"Unexpected end of input while parsing ternary false execution branch."));continue}let _=e[y],T=new Pl;T.head=m,T.truthBranch=h,T.falseBranch=_,n.push(T),l=((a=u.foundAt)!=null?a:0)+1;continue}else n.push(c)}return n}groupNodesByType(e,n){let r=[],i=e.length;for(let s=0;s<i;s++){let o=e[s];if(s>0&&o instanceof n){let a=[],l=r.pop();if(a.push(l),!this.assertOperandRight(e,s))continue;if(s+1>=i){o.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,o,"Unexpected end of input while parsing input text."));continue}let c=e[s+1];typeof c!="undefined"&&(c.isVirtualGroupMember=!0),typeof l!="undefined"&&(l.isVirtualGroupMember=!0),o.isVirtualGroupMember=!0;let u=new Le;u.nodes=a,u.nodes.push(o),u.nodes.push(c),s+=1,r.push(u);continue}else r.push(o)}return r}flagNodeAsOperatorResolve(e){if(e instanceof Le){if(e.nodes.length==0)return;this.flagNodeAsOperatorResolve(e.nodes[e.nodes.length-1])}e.isVirtualGroupOperatorResolve=!0,e.next instanceof nn||(e.producesVirtualStatementTerminator=!0)}groupNodesByOperatorType(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(i>0&&St.isOperatorType(s)){let o=[],a=n.pop();if(o.push(a),!this.assertOperandRight(e,i))continue;if(i+1>=r){s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,s,"Unexpected end of input while parsing input text."));continue}let l=e[i+1];this.flagNodeAsOperatorResolve(l),St.isAssignmentOperator(s)&&this.tracedAssignments.push(new Vd(a,l,s)),typeof a!="undefined"&&(a.isVirtualGroupMember=!0),typeof l!="undefined"&&(l.isVirtualGroupMember=!0),s.isVirtualGroupMember=!0;let c=new Le;c.nodes=o,c.nodes.push(s),c.nodes.push(l),i+=1,n.push(c);continue}else n.push(s)}return n}applyOperationOrder(e){return e=this.groupNodesByType(e,fi),e=this.groupNodesByType(e,Kn),e=this.groupNodesByType(e,Yn),e=this.groupNodesByType(e,Hn),e=this.groupNodesByType(e,Tn),e}createLogicGroupsToRemoveMethodInvocationAmbiguity(e){let n=[],r=e.length,i=r-1;for(let s=0;s<r;s++){let o=e[s];if(o instanceof $t){let a=n.pop(),l=new Le;if(l.startPosition=a.startPosition,typeof a!="undefined"&&(a.isVirtualGroupMember=!0),typeof o!="undefined"&&(o.isVirtualGroupMember=!0),l.nodes.push(a),l.nodes.push(o),s!=i)for(let c=s+1;c<r;c++)if(e[c]instanceof $t){if(typeof e[c]=="undefined")continue;if(e[c].isVirtualGroupMember=!0,l.nodes.push(e[c]),c==i){c+=1;break}}else{if(c==i){c+=1;break}s=c-1;break}l.endPosition=l.nodes[l.nodes.length-1].endPosition,n.push(l)}else n.push(o)}return n}countTypeRight(e,n,r){let i=0;for(let s=n;s<e.length&&e[s]instanceof r;s++)i+=1;return i}createLogicGroupsToResolveOperatorAmbiguity(e){return e=this.groupNodesByType(e,Fi),e=this.groupNodesByType(e,pr),e=this.groupNodesByType(e,jr),e=this.groupNodesByType(e,Br),e=this.groupNodesByType(e,Hr),e=this.groupNodesByType(e,bn),e=this.groupNodesByType(e,Gr),e=this.groupNodesByType(e,Ur),e=this.groupNodesByType(e,Wr),e=this.groupNodesByOperatorType(e),e}createModifier(e){let n=e.shift(),r=[],i=e.length;if(e.length>0&&e[0]instanceof Le){let o=this.unpack(e[0].nodes),a=this.makeArgGroup(o),l=new Ko;if(l.nameNode=n,l.methodStyleArguments=a,e.length>1)for(let c=1;c<i;c++)e[c].pushError(M.makeSyntaxError(P.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX,e[c],"Unexpected ["+G.getPrettyTypeName(e[c])+"] while parsing modifier argument group. Expecting [T_MODIFIER_SEPARATOR] or end of current expression."));return l}for(let o=0;o<i;o++)if(e[o]instanceof Nn||e[o]instanceof Nt){if(o+1>=i)return e[o].pushError(M.makeSyntaxError(P.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST,e[o],"Unexpected end of modifier value list while parsing modifier.")),e;let a=e[o+1];if(this.isValidModifierValue(a)){if(a instanceof te)if(a.variableReference!=null&&a.variableReference.pathParts.length>0)a.variableReference.pathParts.forEach(l=>{if(l instanceof Wn){let c=new jt;c.startPosition=l.startPosition,c.endPosition=l.endPosition,c.value=l.name,c.name=l.name,c.originalAbstractNode=l,c.endPosition==null&&c.startPosition==null&&(c.startPosition=a.startPosition,c.endPosition=a.endPosition),r.push(c)}});else{let l=new jt;l.startPosition=a.startPosition,l.endPosition=a.endPosition,l.value=a.name,l.name=a.name,l.originalAbstractNode=a,r.push(l)}else r.push(a);o+=1;continue}else return a.pushError(M.makeSyntaxError(P.TYPE_MODIFIER_UNEXPECTED_VALUE,a,"Unexpected ["+G.getPrettyTypeName(a)+"] while parsing modifier value.")),e}let s=new Ko;return s.nameNode=n,s.valueNodes=r,s.startPosition=s.nameNode.startPosition,s.valueNodes.length>0?s.endPosition=s.valueNodes[s.valueNodes.length-1].endPosition:s.endPosition=s.nameNode.endPosition,s}scanToEndOfModifier(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof Nn){let o=n.length;if(o==0){s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE,s,"Unexpected end of input while parsing modifier value."));continue}this.isRealModifierSeparator.set(s,!0);let a=n[o-1];if(tt.distance(a,s)>1)break}if(s instanceof yt||s instanceof te||s instanceof wt){let o=n.length;if(o>0&&n[o-1]instanceof Le)break}if(s instanceof vn||s instanceof Vt||s instanceof Kt||s instanceof bn||s instanceof pr||s instanceof Fi||s instanceof Br||s instanceof jr||s instanceof Ur||s instanceof Gr||s instanceof Wr||s instanceof Hr||s instanceof dr||s instanceof $r||s instanceof mi||s instanceof mr||s instanceof hi||s instanceof Yr||s instanceof cs||s instanceof $t||s instanceof rn)break;n.push(s)}return n}static isAssignmentOperatorNode(e){return e instanceof kr||e instanceof Fr||e instanceof $n||e instanceof qr||e instanceof Vr||e instanceof Tn}insertAutomaticStatementSeparators(e){let n=e.length,r=[];for(let i=0;i<n;i++){let s=e[i];if(St.isAssignmentOperatorNode(s))if(i+2<n)if(e[i+2]instanceof nn){r.push(s),r.push(e[i+1]),r.push(e[i+2]),i+=2;continue}else{r.push(s),r.push(e[i+1]),r.push(new nn),i+=1;continue}else{r.push(s),r.push(e[i+1]),r.push(new nn);break}else r.push(s)}return e}createSemanticGroups(e){let n=[],r=e.length,i=[];for(let s=0;s<r;s++)if(e[s]instanceof nn){let o=new Et;o.nodes=i,o.separatorToken=e[s],n.push(o),i=[];continue}else if(i.push(e[s]),s+1>=r){let o=new Et;o.nodes=i,n.push(o);break}return n}findLogicalGroupEnd(e,n){let r=[],i=n.length,s=null,o=0,a=0;for(a;a<i;a++){let u=n[a];if(o+=1,u instanceof Vt){s=u;break}else if(u instanceof Kt){if(a+1>=i)return u.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END,u,"Unexpected end of input while parsing input text.")),{found:!1,logicalGroup:null,skipCount:o};let f=this.findLogicalGroupEnd(u,n.slice(a+1));if(f.found){f.logicalGroup!=null&&r.push(f.logicalGroup),o+=f.skipCount,a+=f.skipCount;continue}else continue}else r.push(u)}if(s==null)return e.pushError(M.makeSyntaxError(P.TYPE_LOGIC_GROUP_NO_END,e,"Unexpected end of input while parsing logic group.")),{found:!1,logicalGroup:null,skipCount:o};let l=new St;l.setIsRoot(!1);let c=new Le;if(r.length>=2&&r[1]instanceof Pn){if(c=new hr,c.scopeOperator=r[1],a+2<i&&n[a+1]instanceof te&&n[a+2]instanceof yt&&n[a+1].name==ze.ScopeAs){let m=n[a+2];c=new Bi,c instanceof Bi&&(c.alias=m),o+=2}let u=r.splice(0,2);(c instanceof hr||c instanceof Bi)&&(c.scope=u[0])}return c.nodes=l.parse(r),c.start=e,c.end=s,c.startPosition=e.startPosition,c.endPosition=s.endPosition,c instanceof Bi&&c.alias!=null&&(c.endPosition=c.alias.endPosition),{found:!0,logicalGroup:c,skipCount:o}}unpack(e){if(e.length==0)return[];if(e[0]instanceof Et){let n=e[0];return this.unpack(n.nodes)}return e}collectUntil(e){let n=e.length,r=[];for(let i=n-1;i>=0&&!St.isAssignmentOperator(e[i]);i--){let s=e.pop();r.push(s)}if(r=r.reverse(),r.length>=3){let i=new St;return i.setIsRoot(!1),{collectedTokens:this.unpack(i.parse(r)),tokens:e}}return{collectedTokens:r,tokens:e}}seek(e,n){for(let r=n;r<this.tokens.length;r++)if(this.tokens[r]instanceof e)return{found:!0,foundAt:r,node:this.tokens[r]};return{found:!1,foundAt:null,node:null}}};var Gi=class{static findRightBeighboringNextPunctuation(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e+1;s<n.length;s++){let o=n[s];if(X.ctypeSpace(o)&&(i=!0),i&&(X.ctypeAlpha(o)||X.ctypeDigit(o)))return null;if(X.ctypePunct(o)||o==O.String_Terminator_SingleQuote||o==O.String_Terminator_DoubleQuote)return o}return null}static findRightNeighboringNextAlphaNumeric(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e+1;s<n.length;s++){let o=n[s];if((X.ctypeSpace(o)||X.ctypePunct(o)&&o!=O.Punctuation_Underscore)&&(i=!0),i&&(X.ctypeAlpha(o)||X.ctypeDigit(o)))return s+1}return null}static findLeftNeighboringNextPunctuation(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e-2;s>=0;s--){let o=n[s];if(X.ctypeSpace(o)&&(i=!0),i&&(X.ctypeAlpha(o)||X.ctypeDigit(o)))return null;if(X.ctypePunct(o))return o}return null}static findLeftNeighboringNextAlphaNumeric(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e-1;s>=0;s--){let o=n[s];if((X.ctypeSpace(o)||X.ctypePunct(o)&&o!=O.Punctuation_Underscore)&&(i=!0),i&&(X.ctypeAlpha(o)||X.ctypeDigit(o)))return s+1}return null}static scanWordAt(e,n,r=4){if(n=n.replace("	"," ".repeat(r)),e<0||e>n.length)return null;let i=[],s=[];for(let o=e-1;o>=0;o--){let a=n[o];if(X.ctypePunct(a)&&a!=O.Punctuation_Underscore||X.ctypeSpace(a))break;i.push(a)}for(let o=e;o<n.length;o++){let a=n[o];if(X.ctypePunct(a)&&a!=O.Punctuation_Underscore||X.ctypeSpace(a))break;s.push(a)}return i.reverse().join("")+s.join("")}};var Om=class{constructor(e){this.parser=e}findParentWithName(e,n){let r=n.parent;for(;r!=null;){if(r instanceof U&&r.nameMatches(e))return r;if(r.parent==r)break;r=r.parent}return null}};var Lm=class{static analyzeModifierNodeParameters(e){var r,i,s,o;if(e.parameters.forEach(a=>{var l,c,u,f;a.isModifierParameter=(c=(l=xe.instance)==null?void 0:l.hasModifier(a.name))!=null?c:!1,a.isModifierParameter&&(e.modifiers.parameterModifiers.push(a),a.modifier=(f=(u=xe.instance)==null?void 0:u.getModifier(a.name))!=null?f:null,e.modifiers.modifierNames.includes(a.name)==!1&&e.modifiers.modifierNames.push(a.name))}),e.modifierChain!=null&&e.modifierChain.modifierChain.length>0){let a=null;e.modifierChain.modifierChain.forEach(l=>{var c,u;l.nameNode!=null&&(l.modifier=(u=(c=xe.instance)==null?void 0:c.getModifier(l.nameNode.content))!=null?u:null,e.modifiers.modifierNames.includes(l.nameNode.content)==!1&&e.modifiers.modifierNames.push(l.nameNode.content),l.modifier!=null&&(a=l.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=l)))}),e.modifierChain.lastModifier=a,e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}e.runtimeNodes.length>0&&e.runtimeNodes.forEach(a=>{if(a.modifierChain!=null&&a.modifierChain.modifierChain.length>0){let l=null;a.modifierChain.modifierChain.forEach(c=>{var u,f;c.nameNode!=null&&(c.modifier=(f=(u=xe.instance)==null?void 0:u.getModifier(c.nameNode.content))!=null?f:null,e.modifiers.modifierNames.includes(c.nameNode.content)==!1&&e.modifiers.modifierNames.push(c.nameNode.content),c.modifier!=null&&(l=c.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=c)))}),e.modifierChain!=null&&(e.modifierChain.lastModifier=l),e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}});let n=e.modifiers.getLastManifestedModifier();if(n!=null)if(n.name=="macro"){let a=e.modifiers.getLastManifestedModifierValue();e.manifestType=(i=(r=xe.instance)==null?void 0:r.getMacroManifestingType(a))!=null?i:""}else e.manifestType=(o=(s=xe.instance)==null?void 0:s.getProbableReturnType(n,e.isPaired()))!=null?o:""}};var _P={warnUnknownParameters:!1};var Dm=class{static validateInteger(e){return parseInt(e).toString()!==e?{isValid:!1,message:'"'+e+'" is not a valid integer.'}:{isValid:!0,message:""}}static validateBoolean(e){return e=="true"||e=="false"?{isValid:!0,message:""}:{isValid:!1,message:'"'+e+'" is not a valid value. Expecting true/false.'}}static validateParameters(e){var n,r,i,s,o;if(e.isTagNode&&((n=he.instance)==null?void 0:n.isKnownTag(e.runtimeName()))){let a=(r=he.instance)==null?void 0:r.findTag(e.runtimeName());if(e.hasParameters)for(let l=0;l<e.parameters.length;l++){let c=e.parameters[l],u=null,f=!1,m=c.name.trim();if(!c.isVariableReference)if(m=Ln(m,":"),((i=he.instance)==null?void 0:i.canResolveDynamicParameter(e.runtimeName()))&&typeof a.resolveDynamicParameter!="undefined"&&a.resolveDynamicParameter!=null?(u=a.resolveDynamicParameter(e,m),f=!0):u=(s=he.instance)==null?void 0:s.getParameter(e.runtimeName(),m),f&&u==null&&(u=(o=he.instance)==null?void 0:o.getParameter(e.runtimeName(),m)),u==null){if(_P.warnUnknownParameters){let p="";if(a.suggestAlternativeParams!=null){let h=a.suggestAlternativeParams(m);h.length==1?p='. Did you mean "'+h[0]+'"?':h.length>1&&(p=". Try one of the following: "+h.join(", "))}let d='Unknown parameter name: "'+m+'"'+p;e.pushError(M.makeSyntaxError(P.LINT_UNKNOWN_PARAMETER,e,d,1))}}else if(u.validate!=null){let p=u.validate(e,c);p.length>0&&p.forEach(d=>{e.pushError(M.makeSyntaxError(P.LINT_GENERAL_INVALID_PARAMETER_CONTENTS,c,d.message,1))})}else{if(c.hasInterpolations())continue;for(let p=0;p<u.expectsTypes.length;p++){let d=u.expectsTypes[p];if(d=="integer"){let h=this.validateInteger(c.value);h.isValid||e.pushError(M.makeSyntaxError(P.LINT_PARAMETER_CONTENT_INVALID_INTEGER,c,h.message,1))}else if(d=="boolean"){let h=this.validateBoolean(c.value);if(u.name=="paginate"){if(c.value=="true"||c.value=="false")continue;if(parseInt(c.value).toString()!=c.value){let y='Unexpected "'+c.value+'". Expecting a numeric value, or true/false.';e.pushError(M.makeSyntaxError(P.LINT_PAGINATE_INVALID_VALUE,c,y,0))}}else h.isValid||e.pushError(M.makeSyntaxError(P.LINT_PARAMETER_CONTENT_INVALID_BOOLEAN,c,h.message,1))}}}}}}};var Ae=class{constructor(){this.interpolationRegions=new Map;this.nodeParser=new Am;this.chars=[];this.charLen=0;this.lastAntlersNode=null;this.content="";this.originalContent="";this.currentIndex=0;this.currentContent=[];this.sourceContent=[];this.startIndex=0;this._recoveryStartIndex=0;this.cur=null;this.next=null;this.prev=null;this.nodes=[];this.renderNodes=[];this.isInterpolatedParser=!1;this.inputLen=0;this.documentOffsets=new Map;this.lineIndex=new Map;this.lastDocumentOffsetKey=null;this.isDoubleBrace=!1;this.interpolationEndOffsets=new Map;this.isScanningInterpolations=!1;this.seedStartLine=1;this.seedStartchar=1;this.frontMatterEndLine=-1;this.lastAntlersEndIndex=-1;this.seedOffset=0;this.antlersStartIndex=[];this.antlersStartPositionIndex=new Map;this.chunkSize=5;this.maxLine=1;this.currentChunkOffset=0;this.isNoParse=!1;this.antlersErrors=[];this.languageParser=new St;this.documentPath=null;this.pushedErrors=new Map;this.frontMatter="";this.doesHaveUncloseIfStructures=!1;this.doesHaveUnclosedStructures=!1;this.structure=new Om(this)}hasUnclosedIfStructures(){return this.doesHaveUncloseIfStructures}hasUnclosedStructures(){return this.doesHaveUnclosedStructures}getFrontMatter(){return this.frontMatter}setDocumentPath(e){this.documentPath=e}getFrontMatterEndLine(){return this.frontMatterEndLine}pushError(e){(e.errorCode==P.TYPE_PARSE_UNCLOSED_CONDITIONAL||e.errorCode==P.TYPE_PARSE_UNPAIRED_CONDITIONAL)&&(this.doesHaveUncloseIfStructures=!0);let n=e.hash();this.pushedErrors.has(n)||(this.pushedErrors.set(n,e),this.antlersErrors.push(e))}getInterpolationRegions(){return this.interpolationRegions}getDocumentPath(){return this.documentPath}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let n=X.split(X.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),n.forEach(r=>{this.chars.push(r),this.charLen+=1})}e&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}}charLeftAt(e){return e==null||e.char<=1?null:this.charAt(this.positionFromCursor(e.line,e.char-1))}charLeftAtCursor(e,n){return this.charLeftAt(this.positionFromCursor(e,n))}charRightAt(e){return e==null?null:this.charAt(this.positionFromCursor(e.line,e.char+1))}charRightAtCursor(e,n){return this.charRightAt(this.positionFromCursor(e,n))}punctuationLeftAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:Gi.findLeftNeighboringNextPunctuation(e.char,r,n)}punctuationLeftAtCursor(e,n,r=4){return this.punctuationLeftAt(this.positionFromCursor(e,n),r)}punctuationRightAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:Gi.findRightBeighboringNextPunctuation(e.char,r,n)}punctuationRightAtCursor(e,n,r=4){return this.punctuationRightAt(this.positionFromCursor(e,n),r)}wordRightAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let i=Gi.findRightNeighboringNextAlphaNumeric(e.char,r,n);return i==null?null:Gi.scanWordAt(i,r,n)}wordRightAtCursor(e,n,r=4){return this.wordRightAt(this.positionFromCursor(e,n),r)}wordLeftAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let i=Gi.findLeftNeighboringNextAlphaNumeric(e.char,r,n);return i==null?null:Gi.scanWordAt(i,r,n)}wordLeftAtCursor(e,n,r=4){return this.wordLeftAt(this.positionFromCursor(e,n),r)}wordAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:Gi.scanWordAt(e.char,r,n)}getLineText(e){let n=this.getLineIndex(e);return n!=null?X.trimRight(this.getContent().substring(n.start,n.end+1)):null}wordAtCursor(e,n,r=4){return this.wordAt(this.positionFromCursor(e,n),r)}charAt(e){return e==null?null:this.content.substr(e.offset,1)}charAtCursor(e,n){return this.charAt(this.positionFromCursor(e,n))}getLineIndex(e){if(e==this.maxLine){let r=this.lineIndex.get(e-1);if(r!=null){let i=r.endIndex+1;return{end:this.inputLen-1,start:i}}return null}let n=this.lineIndex.get(e);return n!=null?{start:n.startIndex,end:n.endIndex}:null}positionFromCursor(e,n){if(e==this.maxLine){let i=this.lineIndex.get(e-1);if(i!=null){let s=i.endIndex+1,o=s+(n-1),a=new en;return a.offset=o,a.line=e,a.char=n,a.index=o,a}return null}let r=this.lineIndex.get(e);if(r!=null){let i=new en;return i.offset=r.startIndex+(n-1),i.line=r.line,i.char=n,i.index=r.startIndex+(n-1),i}return null}parse(e){var a,l,c,u;if(this.resetState(),!this.processInputText(e))return[];let n=this.antlersStartIndex.length,r=n-1;if(n==0&&!this.isNoParse){let f=new dt;f.withParser(this),f.content=this.prepareLiteralContent(this.content),f.startPosition=this.positionFromOffset(0,0),f.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1),this.nodes.push(f)}else for(let f=0;f<n;f+=1){let m=this.antlersStartIndex[f];if(this.seedOffset=m,f==0&&m>0&&!this.isNoParse){let d=new dt;d.withParser(this),d.content=this.prepareLiteralContent(this.content.substr(0,m)),d.content.length>0&&(d.startPosition=this.positionFromOffset(0,0),d.endPosition=this.positionFromOffset(m,m-1),this.nodes.push(d))}if(m<this.lastAntlersEndIndex)continue;if(this.currentChunkOffset=m,this.resetIntermediateState(),this.parseIntermediateText(),this.lastAntlersNode!=null&&!(this.lastAntlersNode instanceof Ys)&&this.lastAntlersNode.isComment&&!(this.lastAntlersNode instanceof Tl)&&f+1<n){let d=this.antlersStartPositionIndex.get(f+1);if(this.lastAntlersNode.endPosition!=null&&d<this.lastAntlersNode.endPosition.offset){let h=null;for(let y=f+1;y<n;y++)if(this.antlersStartIndex[y]>this.lastAntlersNode.endPosition.offset){h=y;break}if(h==null){let y=this.prepareLiteralContent(this.content.substr(this.lastAntlersNode.endPosition.offset+1));if(y.length>0&&!this.isNoParse){let _=new dt;_.withParser(this),_.content=y;let T=this.lastAntlersNode.endPosition.offset+1;_.startPosition=this.positionFromOffset(T,T),_.endPosition=this.positionFromOffset(this.inputLen,this.inputLen),this.nodes.push(_)}break}else{let y=this.antlersStartIndex[h],_=y-this.lastAntlersNode.endPosition.offset-1;if(_>0){let T=this.lastAntlersNode.endPosition.offset,S=y-1;T+=1,S-=1;let g=this.content.substr(T,_);if(g.length>0&&!this.isNoParse){let E=new dt;E.withParser(this),E.content=g,E.startPosition=this.positionFromOffset(T,T),E.endPosition=this.positionFromOffset(S,S),this.nodes.push(E)}continue}f=h-1;continue}}}let p=!1;if(this.antlersStartPositionIndex.has(this.currentChunkOffset)?this.lastAntlersEndIndex<this.currentChunkOffset&&(p=!0):p=!0,p){if(f+1<n){let d=this.antlersStartIndex[f+1],h=this.lastAntlersEndIndex+1;if(d<h)if(this.lastAntlersEndIndex>d)f+2<n&&(d=this.antlersStartIndex[f+2]);else continue;if(f+1==r&&d<=this.lastAntlersEndIndex){if(this.isNoParse)break;let y=this.currentChunkOffset,_=this.content.substr(h),T=new dt;T.withParser(this),T.content=this.prepareLiteralContent(_),T.content.length>0&&(T.startPosition=this.positionFromOffset(y,y),T.endPosition=this.positionFromOffset(d,d-1),this.nodes.push(T));break}else{let y=d-this.lastAntlersEndIndex-1;if(y==0||this.isNoParse)continue;let T=this.currentChunkOffset;this.lastAntlersNode instanceof Tl&&(h=((l=(a=this.lastAntlersNode.endPosition)==null?void 0:a.offset)!=null?l:0)+1,y-=((u=(c=this.lastAntlersNode.endPosition)==null?void 0:c.offset)!=null?u:0)+1,T=h),this.lastAntlersNode instanceof Ys&&(h-=1,y+=1);let S=this.content.substr(h,y),g=new dt;g.withParser(this),g.content=this.prepareLiteralContent(S),g.content.length>0&&(g.startPosition=this.positionFromOffset(h,h),g.endPosition=this.positionFromOffset(d,d-1),this.nodes.push(g))}continue}if(f!==r&&this.lastAntlersNode!=null&&this.lastAntlersNode.endPosition!=null&&this.positionFromOffset(m,m).isBefore(this.lastAntlersNode.endPosition)){if(f+1<n){if(this.antlersStartIndex[f+1]<this.lastAntlersNode.endPosition.offset)continue}else if(f+1!=r)continue}if(f==r){let d=this.currentIndex+m;if(d<this.inputLen&&!this.isNoParse){let h=new dt;h.withParser(this),h.content=this.prepareLiteralContent(this.content.substr(d)),h.content.length>0&&(h.startPosition=this.positionFromOffset(d,d),h.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1),this.nodes.push(h));break}}}}let i=0;this.nodes.forEach(f=>{f.index=i,i+=1}),this.nodes.forEach(f=>{f instanceof U&&f.isComment||f instanceof U&&f.interpolationRegions.size>0&&(f.interpolationRegions.forEach((m,p)=>{let d=new Ae;d.setIsInterpolatedParser(!0);let h=d.parse(m.parseContent);h.length>1&&h[1]instanceof U&&(h=[h[1]]),d.hasUnclosedIfStructures()&&(this.doesHaveUncloseIfStructures=!0),d.hasUnclosedStructures()&&(this.doesHaveUnclosedStructures=!0),f.processedInterpolationRegions.set(p,h),this.mergeErrors(d.getAntlersErrors())}),f.hasProcessedInterpolationRegions=!0)});let s=new Ca;this.renderNodes=s.associate(this.nodes,this),this.nodes.forEach(f=>{if(f instanceof U&&f.isClosingTag&&f.isOpenedBy==null){let m="Unpaired closing tag.";f.isInterpolationNode&&(m+=" Tag pairs are not supported within Antlers tags."),f.pushError(M.makeSyntaxError(P.TYPE_UNPAIRED_CLOSING_TAG,f,m))}}),wm.associateRecursiveParent(this.nodes),this.nodes.forEach(f=>{var m;if(!(f instanceof U&&f.isComment)&&((f instanceof U||f instanceof ut)&&(f.isInterpolationNode=this.isInterpolatedParser),(f instanceof U||f instanceof ut)&&f.interpolationRegions.size>0&&f.runtimeNodes.forEach(p=>{p instanceof te&&f.interpolationRegions.has(p.name)&&(p.isInterpolationReference=!0,p.interpolationNodes=f.processedInterpolationRegions.get(p.name))}),(f instanceof U||f instanceof ut)&&f.hasParameters&&f.interpolationRegions.size>0&&f.parameters.forEach(p=>{f.interpolationRegions.forEach((d,h)=>{p.value.includes(h)&&p.interpolations.push(h)})}),f instanceof U&&f.runtimeNodes.length>0&&f.isClosingTag==!1&&!f.isComment&&(f.parsedRuntimeNodes=this.languageParser.parse(f.runtimeNodes),f.hasParsedRuntimeNodes=!0,!f.isTagNode&&f.parsedRuntimeNodes.length>0))){let p=f.nodeAtIndex(0);p!=null&&p instanceof te&&p.name==((m=f.name)==null?void 0:m.name)&&(f.modifierChain=p.modifierChain)}}),this.languageParser.getCreatedModifierChains().forEach(f=>{f.modifierChain.length>0&&f.modifierChain.forEach(m=>{var p,d;m.nameNode!=null&&xe.instance!=null&&xe.instance.hasModifier((p=m.nameNode)==null?void 0:p.name)&&(m.modifier=(d=xe.instance)==null?void 0:d.getModifier(m.nameNode.name))})});let o=1;return this.nodes.forEach(f=>{var m,p;if(f instanceof U){if(f.isComment)return;f.isTagNode=(p=(m=he.instance)==null?void 0:m.isKnownTag(f.runtimeName()))!=null?p:!1,f.scopeName=f.findParameterValue("scope",""),f.antlersNodeIndex=o,o+=1,Lm.analyzeModifierNodeParameters(f),Dm.validateParameters(f)}}),this.renderNodes}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let a=this.documentOffsets.get(e);i=a.line,s=a.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let a=null,l=null,c=null,u=null;for(let f of this.documentOffsets.keys()){if(f>=e){u!=null&&e>u?(a=c,l=u):(a=this.documentOffsets.get(f),l=f);break}c=this.documentOffsets.get(f),u=f}if(a==null&&(a=c,l=u),a!=null)if(r){let f=this.content.split(""),m=e-(l!=null?l:0),p=a.char-(l!=null?l:0)+e;s=m,i=a.line,e<=(l!=null?l:0)?(i=a.line,s=e+1):i=a.line+1}else{let f=this.content.split(""),m=e-(l!=null?l:0),p=a.char-(l!=null?l:0)+e;s=m,i=a.line,e<=(l!=null?l:0)?(i=a.line,s=e+1):i=a.line+1}else this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let o=new en;return o.index=n,o.offset=e,o.line=i,o.char=s,o}getLanguageParser(){return this.languageParser}getText(e,n){return this.content.substr(e,n-e)}getOriginalContent(){return this.originalContent}getContent(){return this.content}setIsInterpolatedParser(e){return this.isInterpolatedParser=e,this}setStartLineSeed(e){return this.seedStartLine=e,this}setSeedStartChar(e){return this.seedStartchar=e,this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.currentContent=[],this.sourceContent=[],this.cur=null,this.next=null,this.prev=null}resetState(){if(this.languageParser.reset(),this.charLen=0,this.antlersStartIndex=[],this.antlersErrors=[],this.pushedErrors.clear(),this.antlersStartPositionIndex.clear(),this.lastAntlersEndIndex=-1,this.renderNodes=[],this.nodes=[],vs.globalTagEnterStack.length>0){let e=vs.globalTagEnterStack[vs.length-1];e!=null&&e.endPosition!=null&&this.setStartLineSeed(e.endPosition.line)}this.seedOffset=0,this.isScanningInterpolations=!1,this.content="",this.chars=[],this.currentIndex=0,this.startIndex=0,this._recoveryStartIndex=0,this.cur=null,this.next=null,this.prev=null,this.inputLen=0,this.documentOffsets.clear(),this.isDoubleBrace=!1,this.interpolationRegions.clear(),this.interpolationEndOffsets.clear()}fetch(e){let n=this.currentChunkOffset+this.chunkSize-this.chars.length;return X.substring(this.content,n,e)}getParsedContent(){return this.content}peek(e){if(e==this.charLen){let n=X.split(X.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,n.forEach(r=>{this.chars.push(r),this.charLen+=1})}return this.chars[e]}parseIntermediateText(){for(this.currentContent=[],this.sourceContent=[],this.startIndex=0,this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length,this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==Ae.LeftBrace&&this.next==Ae.LeftBrace&&this.prev==Ae.AtChar){this.dumpLiteralNode(this.currentIndex);let e=new ui;e.withParser(this),e.name=new Mn,e.name.name="noparse",e.content="{{",e.startPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),e.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),this.nodes.push(e),this.currentContent=[],this.sourceContent=[],this.currentIndex+=1;continue}if((this.prev==null||this.prev!=null&&this.prev!=Ae.AtChar)&&this.next!=null&&this.cur==Ae.LeftBrace&&this.next==Ae.LeftBrace){this.dumpLiteralNode(this.currentIndex);let e=null;if(this.currentIndex+2<this.inputLen&&(e=this.peek(this.currentIndex+2)),e==Ae.Punctuation_Question&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(Ae.Punctuation_Question),this.isDoubleBrace=!1;break}if(e==Ae.Punctuation_Dollar&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(Ae.Punctuation_Dollar),this.isDoubleBrace=!1;break}if(e==Ae.Punctuation_Octothorp&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersCommentRegion(),this.isDoubleBrace=!1;break}if(!this.isNoParse)this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1;else if(this.fetch(11).replace(" ","").toLocaleLowerCase().startsWith("{{/noparse")){this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1,this.isNoParse=!1;break}else{this.currentContent.push(this.cur);continue}break}if(this.cur==Ae.AtChar&&this.next!=null&&this.next==Ae.LeftBrace){if(this.currentIndex+2>=this.inputLen){this.appendContent(this.next),this.dumpLiteralNode(this.currentIndex+1);break}let e=0;for(let n=this.currentIndex+1;n<this.inputLen&&this.chars[n]==Ae.LeftBrace;n+=1)e+=1;this.currentContent=this.currentContent.concat(Ae.LeftBrace.repeat(e).split("")),this.sourceContent=this.currentContent.concat(Ae.LeftBrace.repeat(e).split("")),this.currentIndex+=e}this.appendContent(this.cur),this.next==null&&this.currentContent.length>0&&this.dumpLiteralNode(this.currentIndex)}}getRenderNodes(){return this.renderNodes}processInputText(e){var f;if(this.originalContent=e,this.content=X.normalizeLineEndings(e),this.inputLen=this.content.length,this.content.startsWith("---")){let m=this.content.split(`
`),p=[],d=[];d.push("");for(let h=1;h<m.length;h++){let y=m[h];if(y.startsWith("---")){d.push(""),d=d.concat(m.slice(h+1)),this.content=d.join(`
`),this.frontMatter=p.join(`
`),this.frontMatterEndLine=h+1;break}else p.push(y),d.push("")}}let n=[...this.content.matchAll(/(\n)/gm)],r=n.length,i=this.seedStartLine,s=null,o=0,a=0;for(let m=0;m<r;m++){let p=n[m],d=(f=p.index)!=null?f:0,h=d;s!=null?h=d-s:h=h+1,this.documentOffsets.set(d,{char:h,line:i});let y=0,_=0;m==0?(_=h-1,y=0):(y=a+1,_=d),this.lineIndex.set(i,{char:h,line:i,startIndex:y,endIndex:_}),this.lastDocumentOffsetKey=d,this.maxLine=i,i+=1,s=d,a=_,o=y}this.maxLine+=1;let l=[...this.content.matchAll(/@?{{/gm)],c=0,u=!1;return l.forEach(m=>{let p=m[0];if(p.startsWith(Ae.AtChar)){c=this.content.indexOf(p,c)+2,u=!0;return}let d=this.content.indexOf(p,c);if(u&&c==d){c=d;return}this.antlersStartIndex.push(d),this.antlersStartPositionIndex.set(d,1),c=d+2,u=!1}),!0}prepareLiteralContent(e){return e.replace("@{{","{{")}scanToEndOfPhpRegion(e){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==e&&this.next!=null&&this.next==Ae.RightBrace&&this.peek(this.currentIndex+2)==Ae.RightBrace){let r=this.makeAntlersPhpNode(this.currentIndex,e==Ae.Punctuation_Dollar);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.startIndex=this.currentIndex,this._recoveryStartIndex=this.startIndex,this.nodes.push(r),this.lastAntlersNode=r;break}if(this.appendContent(this.cur),this.next==null){let n=this.makeAntlersPhpFailedNode(this.currentIndex);this.nodes.push(n),this.lastAntlersNode=n,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(M.makeSyntaxError(P.TYPE_INCOMPLETE_PHP_EVALUATION_REGION,n,"Unexpected end of input while parsing Antlers PHP region."));break}}}appendContent(e){e!=null&&(this.currentContent.push(e),this.sourceContent.push(e))}scanToEndOfAntlersCommentRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==Ae.Punctuation_Octothorp&&this.next!=null&&this.next==Ae.RightBrace&&this.peek(this.currentIndex+2)==Ae.RightBrace){let n=this.makeAntlersTagNode(this.currentIndex,!0);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.nodes.push(n),this.lastAntlersNode=n;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersCommentFailedNode(this.currentIndex);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(M.makeSyntaxError(P.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION,e,"Unexpected end of input while parsing Antlers comment region."));break}}}scanToEndOfInterpolatedRegion(){this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0);let e=[];this.isScanningInterpolations=!0;let n=0;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.checkCurrentOffsets(),this.cur==Ae.LeftBrace){if(this.prev==Ae.AtChar){e.push(this.cur);continue}n+=1,e.push(this.cur)}else if(this.cur==Ae.RightBrace){if(this.prev==Ae.AtChar){e.push(this.cur);continue}if(n-=1,e.push(this.cur),n==0){this.interpolationEndOffsets.set(this.currentIndex,1);break}}else this.cur!=null&&e.push(this.cur);let r=e.join(""),s=("int_"+yP.Md5.hashStr(r)).substr(0,r.length),o=s.length,a=r.length;if(o<a){let l=a-o;s+="x".repeat(l)}return this.isScanningInterpolations=!1,{content:r,varContent:s}}bordersInterpolationRegion(e){if(this.interpolationEndOffsets.size==0)return!1;let n=e.offset-1;return n<=0?!1:this.interpolationEndOffsets.has(n)}getParseableContent(e){let n="";for(let r=0;r<=e;r++)this.content[r]==Ae.LeftBrace||this.content[r]==Ae.RightBrace?n+="~":n+=this.content[r];return n}scanToEndOfAntlersRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==Ae.LeftBrace&&this.prev==Ae.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.isInterpolatedParser&&this.cur==Ae.RightBrace&&this.prev==Ae.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.cur==Ae.LeftBrace){let e=this.scanToEndOfInterpolatedRegion(),n=this.currentIndex+this.seedOffset,r=n-e.content.length,i=this.getParseableContent(r-1);vs.interpolatedVariables.push(e.varContent),this.currentContent=this.currentContent.concat(e.varContent.split("")),this.sourceContent=this.sourceContent.concat(e.content.split(""));let s=i+"{"+e.content+"}";this.interpolationRegions.set(e.varContent,{content:e.content,parseContent:s,varContent:e.varContent,startOffset:r,endOffset:n});continue}if(this.cur==Ae.RightBrace&&this.next!=null&&this.next==Ae.RightBrace){let e=this.makeAntlersTagNode(this.currentIndex,!1);e.name!=null&&e.name.name=="noparse"&&(this.isNoParse=!0),this.currentIndex+=2,this.nodes.push(e),this.lastAntlersNode=e;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersFailedNode(this.currentIndex,!1);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0;let n="Unexpected end of input while parsing Antlers region.";this.isScanningInterpolations&&(n="Unexpected end of input wihle parsing interpolated Antlers region."),this.antlersErrors.push(M.makeSyntaxError(P.TYPE_INCOMPLETE_ANTLERS_REGION,e,n));break}}}makeAntlersPhpNode(e,n){let r=new Ys;return n?(r.rawStart="{{$",r.rawEnd="$}}"):(r.rawStart="{{?",r.rawEnd="?}}"),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+3>this.inputLen?(r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r):(this.lastAntlersEndIndex=e+3+this.seedOffset,r.endPosition=this.positionFromOffset(e+this.seedOffset,e+3+this.seedOffset),r)}makeAntlersPhpFailedNode(e){let n=new Dd;n.rawStart="{{$",n.rawEnd="$}}",n._isEndVirtual=!0,n.content=this.currentContent.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let r=this.getLineText(n.startPosition.line),i=this.getLineIndex(n.startPosition.line);if(r!=null){let o=r.substr(this._recoveryStartIndex);n.content=o,n.sourceContent=o}let s=e+this.seedOffset;return i!=null&&(this.currentIndex=i.end,s=i.end),n.endPosition=this.positionFromOffset(s,s),n}makeAntlersCommentFailedNode(e){let n=new Tl;this.isDoubleBrace?(n.rawStart="{{",n.rawEnd="}}"):(n.rawStart="{",n.rawEnd="}"),n._isEndVirtual=!0;let r=!1,i=this.currentContent.length;i>0&&this.currentContent[i-1]==Ae.Punctuation_ForwardSlash&&(this.currentContent.pop(),r=!0),n.isComment=!0,n.isSelfClosing=r,n.withParser(this),n.content=this.currentContent.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let s=this.getLineText(n.startPosition.line),o=this.getLineIndex(n.startPosition.line);if(s!=null){let l=s.substr(this._recoveryStartIndex);n.content=l,n.sourceContent=l}let a=e+this.seedOffset;return o!=null&&(this.currentIndex=o.end,a=o.end),n.endPosition=this.positionFromOffset(a,a),n.interpolationRegions=new Map,this.interpolationRegions.forEach((l,c)=>{n.content.includes(c)&&n.interpolationRegions.set(c,l)}),n}makeAntlersFailedNode(e,n){let r=new ut;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}"),r._isEndVirtual=!0;let i=!1,s=this.currentContent.length;s>0&&this.currentContent[s-1]==Ae.Punctuation_ForwardSlash&&(this.currentContent.pop(),i=!0),r.isComment=n,r.isSelfClosing=i,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let o=this.getLineText(r.startPosition.line),a=this.getLineIndex(r.startPosition.line);if(o!=null){let u=X.trimLeft(this.content.substring(r.startPosition.offset+r.rawStart.length-1,a==null?void 0:a.end),"{");r.content=u,r.sourceContent=u}let l=e+this.seedOffset;a!=null&&(this.currentIndex=a.end,l=a.end),r.endPosition=this.positionFromOffset(l,l),r.interpolationRegions=new Map,this.interpolationRegions.forEach((u,f)=>{r.content.includes(f)&&r.interpolationRegions.set(f,u)});let c=this.nodeParser.parseNode(r);return this.mergeErrors(c.getErrors()),c}makeAntlersTagNode(e,n){let r=new U;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}");let i=!1,s=this.currentContent.length;if(s>0&&this.currentContent[s-1]==Ae.Punctuation_ForwardSlash&&(this.currentContent.pop(),i=!0),r.isInterpolationNode=this.isInterpolatedParser,r.isComment=n,r.isSelfClosing=i,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+2>this.inputLen)return r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r;if(n?this.lastAntlersEndIndex=e+2+this.seedOffset:this.lastAntlersEndIndex=e+1+this.seedOffset,r.endPosition=this.positionFromOffset(this.lastAntlersEndIndex,this.lastAntlersEndIndex),r.interpolationRegions=new Map,this.interpolationRegions.forEach((a,l)=>{r.content.includes(l)&&r.interpolationRegions.set(l,a)}),r.isComment)return r;let o=this.nodeParser.parseNode(r);return this.mergeErrors(o.getErrors()),o}mergeErrors(e){e.forEach(n=>{this.antlersErrors.push(n)})}getNodes(){return this.nodes}antlersNodes(){return this.nodes.filter(function(e){return e instanceof U})}dumpLiteralNode(e){this.isNoParse||(this.currentContent.length>0&&this.nodes.push(this.makeLiteralNode(this.currentContent,this.startIndex,e)),this.currentContent=[],this.sourceContent=[])}makeLiteralNode(e,n,r){let i=new dt;return i.content=e.join(""),i.sourceContent=this.sourceContent.join(""),i.startPosition=this.positionFromOffset(n,n),i.endPosition=this.positionFromOffset(r,r),i.withParser(this),i}addAntlersError(e){this.antlersErrors.push(e)}getAntlersErrors(){return this.antlersErrors}},O=Ae;O.K_CHAR="char",O.K_LINE="line",O.NewLine=`
`,O.AtChar="@",O.LeftBrace="{",O.RightBrace="}",O.LeftBracket="[",O.RightBracket="]",O.String_EscapeCharacter="\\",O.String_Terminator_DoubleQuote='"',O.String_Terminator_SingleQuote="'",O.Punctuation_Question="?",O.Punctuation_Equals="=",O.Punctuation_Comma=",",O.Punctuation_Colon=":",O.Punctuation_Semicolon=";",O.Punctuation_Exclamation="!",O.Punctuation_Pipe="|",O.Punctuation_Ampersand="&",O.Punctuation_LessThan="<",O.Punctuation_GreaterThan=">",O.Punctuation_Octothorp="#",O.Punctuation_Tilde="~",O.Punctuation_FullStop=".",O.Punctuation_Dollar="$",O.Punctuation_Asterisk="*",O.Punctuation_Percent="%",O.Punctuation_Plus="+",O.Punctuation_Minus="-",O.Punctuation_Underscore="_",O.Punctuation_ForwardSlash="/",O.Punctuation_Caret="^",O.LeftParen="(",O.RightParent=")";var ht=class{static findAssignmentNodes(e){let n=[];for(let r=0;r<e.length;r++)St.isAssignmentOperatorNode(e[r])&&n.push(e[r]);return n}static findAbstractNodesBefore(e,n){return this.findAbstractNodesBeforePosition(e.startPosition,n)}static findAbstractNodesBeforePosition(e,n){if(e==null)return[];let r=[];for(let i=0;i<n.length;i++){let s=n[i];if(s.startPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static isBefore(e,n){return e.startPosition==null?!1:e.startPosition.index<n.index}static isAfter(e,n){return e.startPosition==null?!1:e.startPosition.index>n.index}static findNodesBeforePosition(e,n){let r=[];if(e==null)return r;for(let i=0;i<n.length;i++){let s=n[i];if(!ht.isLiteralType(s)&&s.startPosition!=null&&s.endPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static findNodesAfterPosition(e,n){let r=[];if(e==null)return r;for(let i=0;i<n.length;i++){let s=n[i];ht.isLiteralType(s)||s.startPosition!=null&&s.startPosition.index>e.index&&r.push(s)}return r}static findNodeBeforePosition(e,n){if(e==null)return null;let r=null;for(let i=0;i<n.length;i++){let s=n[i];if(!ht.isLiteralType(s)&&s.startPosition!=null){if(s.startPosition.index>e.index)break;r=s}}return r}static findNodeAfterPosition(e,n){if(e==null)return null;for(let r=0;r<n.length;r++){let i=n[r];if(!ht.isLiteralType(i)&&i.startPosition!=null&&i.startPosition.index>e.index)return i}return null}static findNodeAtPosition(e,n){if(e==null)return null;for(let r=0;r<n.length;r++){let i=n[r];if(!ht.isLiteralType(i)&&i.startPosition!=null&&i.endPosition!=null&&e.index>=i.startPosition.index&&e.index<=i.endPosition.index)return i}return null}static isLiteralType(e){return e instanceof ui||e instanceof dt}};var Ol=class{static isModifierLeftOf(e,n){return Ol.isModifierLeftOfPosition(e.startPosition,n)}static isModifierLeftOfPosition(e,n){let r=ht.findAbstractNodesBeforePosition(e,n);for(let i=r.length-1;i>=0;i--){let s=r[i];if(s instanceof Kt||s instanceof Vt)return!1;if(s instanceof vn)return!0}return!1}};var Ll=class{constructor(){this.isRightOfOperator=!1;this.isLeftOfOperator=!1}static resolveContext(e,n,r){let i=new Ll;return r!=null&&(r.prev!=null&&St.isOperatorType(r.prev)&&(i.isRightOfOperator=!0),r.next!=null&&St.isOperatorType(r.next)&&(i.isLeftOfOperator=!0)),i}};var Mm=class{constructor(){this.inTagPart=!1;this.inMethodPart=!1}};var Dl=class{constructor(){this.modifierChain=null;this.activeModifier=null;this.name="";this.inModifierName=!1;this.inModifierParameter=!1;this.valueCount=0;this.activeValueIndex=-1;this.activeValue=null}static resolveContext(e,n,r,i){let s=n.getParser(),o=new Dl,a=s.getLanguageParser().getCreatedModifierChains(),l=null;for(let c=0;c<a.length;c++){let u=a[c];if(e.isWithin(u.startPosition,u.endPosition)){for(let f=0;f<u.modifierChain.length;f++){let m=u.modifierChain[f];if(e.isWithin(m.startPosition,m.endPosition)){l=m;break}}if(l!=null)break}}if(l==null&&r instanceof Bt&&i.getDocumentParser().getLanguageParser().hasModifierConstruct(r)&&(l=i.getDocumentParser().getLanguageParser().getModifierConstruct(r)),l!=null)if(o.activeModifier=l,o.valueCount=l.valueNodes.length,l.nameNode!=null&&(o.name=l.nameNode.name),l.nameNode!=null&&e.isWithin(l.nameNode.startPosition,l.nameNode.endPosition,1))o.inModifierName=!0;else for(let c=0;c<l.valueNodes.length;c++){let u=l.valueNodes[c];if(e.isWithin(u.startPosition,u.endPosition,1)){o.activeValueIndex=c,o.inModifierParameter=!0,o.activeValue=u;break}}return o}};var Ml=class{constructor(){this.parameter=null;this.isInName=!1;this.isInValue=!1}static resolveContext(e,n){let r=new Ml;return r.parameter=n,e.isWithinRange(n.namePosition)?r.isInName=!0:e.isWithinRange(n.valuePosition)&&(r.isInValue=!0),r}};var km=class{constructor(){this.refId="";this.node=null;this.leftPunctuation=null;this.rightPunctuation=null;this.leftChar=null;this.rightChar=null;this.word=null;this.char=null;this.interpolatedContext=!1;this.leftWord=null;this.rightWord=null;this.isCursorInIdentifier=!1;this.root=null;this.identifierContext=null;this.position=null;this.feature=null;this.isInParameter=!1;this.subContext=null;this.parameterContext=null;this.modifierContext=null;this.generalContext=null;this.variableContext=null;this.cursorContext=Fm.Unknown;this.refId=os()}},Fm=(o=>(o[o.Unknown=0]="Unknown",o[o.Variable=1]="Variable",o[o.Modifier=2]="Modifier",o[o.Parameter=3]="Parameter",o[o.General=4]="General",o[o.LanguageOperator=5]="LanguageOperator",o))(Fm||{});var kl=class{constructor(){this.variableNode=null;this.varPathText=""}static resolveContext(e,n,r,i){var f;if(r==null)return null;let s=r,o=i.getDocumentParser().getLanguageParser(),a=new kl,l=(f=i.wordAt(e))!=null?f:"";r instanceof Nt&&o.isMergedVariableComponent(r)==!1&&r.prev instanceof te&&(s=r.prev);let c="";if(o.isMergedVariableComponent(s)){let m=o.getMergedVariable(s);m.startPosition!=null&&(c=i.getText(m.startPosition.index,e.index).trim()),a.variableNode=m}else s instanceof te&&(a.variableNode=s,c=s.name,s.variableReference!=null&&(c=s.variableReference.normalizedReference));c.length>0&&(c=Ve(c,"\\.",":"));let u=c.split(":");return l.trim().length>0&&u.pop(),c=u.join(":"),c.endsWith(":")&&(c=Lr(c,":")),a.varPathText=c,a}};var Wi=class{static resolveIdentifierContext(e,n){let r=new Mm;return n.nameMethodPartStartsOn!=null?e.char<n.nameMethodPartStartsOn.char?(r.inTagPart=!0,r.inMethodPart=!1):(r.inTagPart=!1,r.inMethodPart=!0):(r.inMethodPart=!1,r.inTagPart=!0),r}static resolveContext(e,n,r,i=!1,s=null){var o,a,l,c,u,f;if(n==null||e==null)return null;if(n instanceof yn||n instanceof U){let m=new km;if(n.nameStartsOn!=null&&e.line==n.nameStartsOn.line){let h=!1;e.char>=n.nameStartsOn.char&&(h=!0),n.nameEndsOn!=null&&e.char>n.nameEndsOn.char&&(h=!1),h&&(m.isCursorInIdentifier=!0,m.identifierContext=Wi.resolveIdentifierContext(e,n))}n.addContext(m),s!=null&&s.addContext(m),m.interpolatedContext=i,m.node=n,m.position=e,m.root=s,m.leftPunctuation=r.punctuationLeftAt(e),m.rightPunctuation=r.punctuationRightAt(e),m.leftChar=r.charLeftAt(e),m.rightChar=r.charRightAt(e),m.word=r.wordAt(e),m.char=r.charAt(e),m.leftWord=r.wordLeftAt(e),m.rightWord=r.wordRightAt(e);let p=!1;if(n.parameters.length>0)for(let h=0;h<n.parameters.length;h++){let y=n.parameters[h];if(y.blockPosition!=null&&y.blockPosition.start!=null&&y.blockPosition.end!=null&&e.char>y.blockPosition.start.char&&e.char<=y.blockPosition.end.char+1&&e.line>=((l=(a=(o=y.namePosition)==null?void 0:o.start)==null?void 0:a.line)!=null?l:y.blockPosition.start.line)&&e.line<=((f=(u=(c=y.valuePosition)==null?void 0:c.end)==null?void 0:u.line)!=null?f:y.blockPosition.end.line)){m.cursorContext=3,m.parameterContext=Ml.resolveContext(e,y),m.isInParameter=!0,m.feature=y,p=!0;break}}if(p||n.runtimeNodes.forEach(h=>{h.startPosition!=null&&h.endPosition!=null&&e.isWithin(h.startPosition,h.endPosition,1)&&(m.feature=h)}),p&&n.interpolationRegions.size>0){let h=Array.from(n.interpolationRegions,([y,_])=>_);for(let y=0;y<h.length;y++){let _=h[y];if(e.index>=_.startOffset&&e.index<=_.endOffset){let T=n.getInterpolationNode(_.varContent);return Wi.resolveContext(e,T,r,!0,s)}}}return m.feature instanceof te&&m.feature.isInterpolationReference&&m.feature.parent!=null&&m.feature.parent instanceof U&&m.feature.parent.processedInterpolationRegions.has(m.feature.name)?Wi.resolveContext(e,m.feature.parent.getInterpolationNode(m.feature.name),r,!0,s):(Ol.isModifierLeftOfPosition(e,n.runtimeNodes)?(m.cursorContext=2,m.modifierContext=Dl.resolveContext(e,n,m.feature,r)):p||(m.cursorContext=4,m.generalContext=Ll.resolveContext(e,n,m.feature)),m.variableContext=kl.resolveContext(e,n,m.feature,r),m)}return null}};var ao=class{static isPairedNode(e){return e instanceof qt?!0:e instanceof yn||e instanceof U?e.isClosedBy!=null:!1}static findAncestorsBeforePosition(e,n){var a,l,c,u,f,m;let r=[],i=[],s=-1,o=-1;for(let p=0;p<n.length;p++){let d=n[p];if(d.isClosedBy!=null&&((a=d.isClosedBy.endPosition)==null?void 0:a.isBefore(e))&&(i.push(d),i.push(d.isClosedBy),s=d.isClosedBy.endPosition.line,o=d.isClosedBy.endPosition.char),!(s>-1&&d.endPosition!=null&&(d.endPosition.line<s||d.endPosition.line==s&&o>-1&&d.endPosition.char<o))){if(d.startPosition!=null){if(e.isBefore(d.startPosition))break;if(d.startPosition.line==e.line&&e.char<=d.startPosition.char){i.push(d);continue}}if(((l=he.instance)==null?void 0:l.requiresClose(d))&&d.isClosedBy!=null){let h=d.isClosedBy;if((c=h.startPosition)==null?void 0:c.isBefore(e)){i.push(d),i.push(h);continue}else((u=h.startPosition)==null?void 0:u.line)==e.line&&((f=h.startPosition)==null?void 0:f.char)<e.char?i.push(d):r.push(d)}else if(d.parent!=null){let h=d.parent;if(i.includes(h)){i.push(d);continue}else((m=d.endPosition)==null?void 0:m.isBefore(e))?r.push(d):i.push(d)}else r.push(d)}}return r}};var qm=class{constructor(e){this.doc=e}getAncestorsAt(e,n){let r=this.position(e,n);return r==null?[]:ao.findAncestorsBeforePosition(r,this.doc.getAllAntlersNodes())}getNameAt(e,n){let r=this.getNodeAt(e,n);return r instanceof U?r.name:null}getScopeAt(e,n){let r=this.getNodeAt(e,n);return r instanceof U&&r.currentScope!=null?r.currentScope:null}getFeaturesAt(e,n){let r=this.position(e,n),i=this.getNodeAt(e,n);return Wi.resolveContext(r,i,this.doc,!1,i)}getNodeAt(e,n){return ht.findNodeAtPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodeBefore(e,n){return ht.findNodeBeforePosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodeAfter(e,n){return ht.findNodeAfterPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodesBefore(e,n){return ht.findNodesBeforePosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getAssignmentsBefore(e,n){let r=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),i=[],s=this.position(e,n);return s!=null&&r.forEach(o=>{ht.isBefore(o.target,s)&&i.push(o)}),i}getAssignmentsAfter(e,n){let r=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),i=[],s=this.position(e,n);return s!=null&&r.forEach(o=>{ht.isAfter(o.target,s)&&i.push(o)}),i}getNodesAfter(e,n){return ht.findNodesAfterPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e,n){let r=this.getNodeBefore(e,n);return r==null?!1:ao.isPairedNode(r)}position(e,n){return this.doc.getDocumentParser().positionFromCursor(e,n)}charLeftAt(e,n){return this.doc.getDocumentParser().charLeftAtCursor(e,n)}charAt(e,n){return this.doc.getDocumentParser().charAtCursor(e,n)}charRightAt(e,n){return this.doc.getDocumentParser().charRightAtCursor(e,n)}wordLeftAt(e,n,r=4){return this.doc.getDocumentParser().wordLeftAtCursor(e,n,r)}wordRightAt(e,n,r=4){return this.doc.getDocumentParser().wordRightAtCursor(e,n,r)}wordAt(e,n,r=4){return this.doc.getDocumentParser().wordAtCursor(e,n,r)}punctuationLeftAt(e,n,r=4){return this.doc.getDocumentParser().punctuationLeftAtCursor(e,n,r)}punctuationRightAt(e,n,r=4){return this.doc.getDocumentParser().punctuationRightAtCursor(e,n,r)}};var Vm=class{constructor(e){this.doc=e}hasAny(){return this.all().length>0}all(){let e=[],n=[];return this.doc.getAllAntlersNodes().forEach(r=>{r.getErrors().forEach(i=>{e.includes(i.hash())==!1&&(e.push(i.hash()),n.push(i))})}),this.doc.getDocumentParser().getAntlersErrors().forEach(r=>{e.includes(r.hash())==!1&&(e.push(r.hash()),n.push(r))}),n}};var mI=K(Ti());var An=K(pI(),1),Hee=An.default.binaryOptions,Yee=An.default.boolOptions,Kee=An.default.intOptions,$ee=An.default.nullOptions,zee=An.default.strOptions,Xee=An.default.Schema,Qee=An.default.Alias,Jee=An.default.Collection,Zee=An.default.Merge,ete=An.default.Node,dI=An.default.Pair,Wl=An.default.Scalar,Hl=An.default.YAMLMap,Ba=An.default.YAMLSeq;var eh=class{constructor(e){this.documentScope=null;this.project=e}getKeyValue(e){return e instanceof Wl?e.value:""}getNodeValue(e){return e instanceof Wl?e.value:e instanceof Hl?this.analyzeDocument(e.items):e instanceof Ba?this.analyzeDocument(e.items):""}getScalarRuntimeType(e){return parseFloat(e).toString()==e||parseInt(e).toString()==e?"number":"string"}analyzeDocument(e){let n=new Jn(this.project);return e.forEach(r=>{if(r instanceof dI){let i=this.getKeyValue(r.key),s=this.getNodeValue(r.value);if(r.value instanceof Wl)n.addVariable({dataType:this.getScalarRuntimeType(s),introducedBy:null,name:i,sourceField:null,sourceName:"*frontmatter"});else if(r.value instanceof Ba&&r.key instanceof Wl){let o=new Jn(this.project);r.value.items.forEach(a=>{let l=this.getNodeValue(a);o.addVariable({dataType:this.getScalarRuntimeType(l),introducedBy:null,name:a.value,sourceField:null,sourceName:"*frontmatter"})}),n.addScopeList(r.key.value,o)}else n.addScopeList(i,s)}}),n}parse(e){let n=mI.parseDocument(e);try{n.contents instanceof Hl&&(this.documentScope=this.analyzeDocument(n.contents.items))}catch{this.documentScope=null}}hasScope(){return this.documentScope!=null}getScope(){return this.documentScope}};var th=class{constructor(e){this.doc=e}getAncestors(e){return ao.findAncestorsBeforePosition(e,this.doc.getAllAntlersNodes())}getNodeAt(e){return ht.findNodeAtPosition(e,this.doc.getDocumentParser().getNodes())}getNodesBefore(e){return ht.findNodesBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeBefore(e){return ht.findNodeBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeAfter(e){return ht.findNodeAfterPosition(e,this.doc.getDocumentParser().getNodes())}getNodesAfter(e){return ht.findNodesAfterPosition(e,this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e){let n=this.getNodeBefore(e);return n==null?!1:ao.isPairedNode(n)}filter(e){return this.doc.getDocumentParser().getNodes().filter(e)}getComments(){let e=[];return this.doc.getAllNodes().forEach(n=>{n instanceof U&&n.isComment&&e.push(n)}),e}getMultilineNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{var r,i;n instanceof U&&!n.isComment&&((r=n.startPosition)==null?void 0:r.line)!=((i=n.endPosition)==null?void 0:i.line)&&e.push(n)}),e}getMultiLineComments(){let e=[];return this.getComments().forEach(n=>{var r,i;((r=n.startPosition)==null?void 0:r.line)!=((i=n.endPosition)==null?void 0:i.line)&&e.push(n)}),e}getAllLiteralNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof dt||n instanceof ui)&&e.push(n)}),e}getStructuralNodes(){let e=[];return this.doc.getDocumentParser().getRenderNodes().forEach(n=>{n instanceof U?e.push(n):n instanceof qt&&n.logicBranches.length>0&&n.logicBranches.forEach(r=>{if(r.head!=null){let i=r.head;i.originalNode!=null?e.push(i.originalNode):e.push(i)}})}),e}getAllRuntimeNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof yn||n instanceof U)&&n.runtimeNodes.length>0&&n.runtimeNodes.forEach(r=>{e.push(r)})}),e}getAllParameterNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof yn||n instanceof U)&&n.hasParameters&&n.parameters.forEach(r=>{e.push(r)})}),e}getAssignmentNodes(){return ht.findAssignmentNodes(this.getAllRuntimeNodes())}};var nh=class{constructor(e){this.doc=e}getAllSelfClosingNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{n instanceof U&&n.isSelfClosing&&e.push(n)}),e}getAllPairedNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof U||n instanceof ut)&&n.isClosedBy!=null&&!n.isSelfClosing&&e.push(n)}),e}};var hI=K(Ti());var rh=class{constructor(){this.content="";this.ranges=[];this.lastDocumentOffsetKey=null;this.documentOffsets=new Map;this.lineIndex=new Map;this.keys=[];this.values=[];this.isValid=!1;this.parseError=null}loadString(e){var u;this.content=X.normalizeLineEndings(e);let n=null;try{n=hI.parseDocument(this.content),this.isValid=!0}catch(f){this.isValid=!1,this.parseError=f}if(n==null)return;let r=[...this.content.matchAll(/(\n)/gm)],i=r.length,s=2,o=null,a=0,l=0;for(let f=0;f<i;f++){let m=r[f],p=(u=m.index)!=null?u:0,d=p;o!=null?d=p-o:d=d+1,this.documentOffsets.set(p,{char:d,line:s});let h=0,y=0;f==0?(y=d-1,h=0):(h=l+1,y=p),this.lineIndex.set(s,{char:d,line:s,startIndex:h,endIndex:y}),this.lastDocumentOffsetKey=p,s+=1,o=p,l=y,a=h}let c=n.contents;this.processMap(c)}processMap(e){e.items.forEach(n=>{this.processItem(n)})}processItem(e){if(e.type=="PAIR"){if(e.value instanceof Hl||e.value instanceof Ba){let s=e.key;if(s.range!=null){let o=this.positionFromOffset(s.range[0],s.range[0]),a=this.positionFromOffset(s.range[1],s.range[1]);this.ranges.push({start:o,end:a,length:a.char-o.char+1,content:"property"}),this.keys.push({start:o,end:a,length:a.char-o.char+1,content:s.value}),e.value instanceof Ba?this.processMap(e.value.items[0]):this.processMap(e.value);return}}let n=e,r=n.key,i=n.value;if(r.range!=null&&i.range!=null){let s=this.positionFromOffset(r.range[0],r.range[0]),o=this.positionFromOffset(r.range[1],r.range[1]),a=this.positionFromOffset(i.range[0],i.range[0]),l=this.positionFromOffset(i.range[1],i.range[1]),c="string";parseInt(i.value)==i.value&&(c="number"),this.ranges.push({start:s,end:o,length:o.char-s.char+1,content:"property"}),this.keys.push({start:s,end:o,length:o.char-s.char+1,content:r.value}),this.ranges.push({start:a,end:l,length:l.char-a.char+1,content:c}),this.values.push({start:a,end:l,length:l.char-a.char+1,content:i.value})}}}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let a=this.documentOffsets.get(e);i=a.line,s=a.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let a=null,l=null,c=null,u=null;for(let f of this.documentOffsets.keys()){if(f>=e){u!=null&&e>u?(a=c,l=u):(a=this.documentOffsets.get(f),l=f);break}c=this.documentOffsets.get(f),u=f}if(a==null&&(a=c,l=u),a!=null)if(r){let f=this.content.split(""),m=e-(l!=null?l:0),p=a.char-(l!=null?l:0)+e;s=m,i=a.line,e<=(l!=null?l:0)?(i=a.line,s=e+1):i=a.line+1}else{let f=this.content.split(""),m=e-(l!=null?l:0),p=a.char-(l!=null?l:0)+e;s=m,i=a.line,e<=(l!=null?l:0)?(i=a.line,s=e+1):i=a.line+1}else this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let o=new en;return o.index=n,o.offset=e,o.line=i,o.char=s,o}getRanges(){return this.ranges}getKeys(){return this.keys}getValues(){return this.values}};var Fn=class{constructor(){this.documentParser=new O;this.ranges=new nh(this);this.nodes=new th(this);this.cursor=new qm(this);this.errors=new Vm(this);this.project=null;this.documentUri=""}static fromText(e,n){let r=new Fn;return typeof n!="undefined"&&(r.project=n),r.loadString(e)}isValid(){return!(this.hasInvalidControlFlowStructures()||this.hasUnclosedStructures())}getDocumentOptions(){let e=this.getAllNodes();if(e.length==0||!(e[0]instanceof U))return null;let n=e[0];return n.isComment==!1?null:hl(this.documentUri,n)}isFormattingEnabled(){let e=this.getDocumentOptions();return e==null?!0:e.formatterEnabled}hasInvalidControlFlowStructures(){return this.documentParser.hasUnclosedIfStructures()}hasUnclosedStructures(){return this.documentParser.hasUnclosedStructures()}getFrontMatterDoc(){if(this.hasFrontMatter()){let e=new rh;return e.loadString(this.getFrontMatter()),e}return null}hasFrontMatter(){return this.documentParser.getFrontMatter().trim().length>0}getFrontMatter(){return this.documentParser.getFrontMatter()}getFrontMatterScope(){if(this.project==null)return null;let e=new eh(this.project);return e.parse(this.getFrontMatter()),e.getScope()}updateProject(e){this.project=e,this.updateProjectDetails()}updateProjectDetails(){try{if(this.project!=null){let e=new Pm(this.project,this.documentUri,this),n=this.documentParser.antlersNodes();n.forEach(r=>{var i,s;if(this.project!=null&&((i=he.instance)==null?void 0:i.canResolveSpecialTypes(r.getTagName()))){let o=(s=he.instance)==null?void 0:s.resolveSpecialType(r.getTagName(),r,this.project);o.context!=null&&(r.reference=o.context)}}),e.analyzeScope(n);for(let r=0;r<n.length;r++){let i=n[r];if(i.hasParameters)for(let s=0;s<i.parameters.length;s++){let o=i.parameters[s];if(o.hasInterpolations())for(let a=0;a<o.interpolations.length;a++){let l=o.interpolations[a];i.processedInterpolationRegions.has(l)&&i.processedInterpolationRegions.get(l).forEach(u=>{u instanceof U&&(u.currentScope=i.currentScope)})}}}Tv(this)}}catch(e){console.log(e)}}loadString(e){return this.documentParser.parse(e),this.updateProjectDetails(),this}getDocumentParser(){return this.documentParser}getParsedContent(){return this.documentParser.getParsedContent()}getAllNodes(){return this.documentParser.getNodes()}getAllAntlersNodes(){return this.documentParser.antlersNodes()}extractText(){let e=[];return this.nodes.getAllLiteralNodes().forEach(n=>{e.push(n.content)}),e.join("")}getNameAt(e){let n=this.nodes.getNodeAt(e);return n instanceof U?n.name:null}getContent(){return this.documentParser.getContent()}getOriginalContent(){return this.documentParser.getOriginalContent()}getFeaturesAt(e){let n=this.nodes.getNodeAt(e);return Wi.resolveContext(e,n,this,!1,n)}getText(e,n){return this.documentParser.getText(e,n)}charLeftAt(e){return this.documentParser.charLeftAt(e)}charAt(e){return this.documentParser.charAt(e)}charRightAt(e){return this.documentParser.charRightAt(e)}getLineIndex(e){return this.documentParser.getLineIndex(e)}getLineText(e){return this.documentParser.getLineText(e)}wordAt(e,n=4){return this.documentParser.wordAt(e,n)}wordLeftAt(e,n=4){return this.documentParser.wordLeftAt(e,n)}wordRightAt(e,n=4){return this.documentParser.wordRightAt(e,n)}punctuationLeftAt(e,n=4){return this.documentParser.punctuationLeftAt(e,n)}punctuationRightAt(e,n=4){return this.documentParser.punctuationRightAt(e,n)}getLineChars(e){let n=this.getLineText(e);return n!=null?n.split(""):null}};var go=class{constructor(){this.loadedDocuments=new Map;this.activeProject=null}getDocuments(){let e=[];return this.loadedDocuments.forEach(n=>{e.push(n)}),e}setProject(e){this.activeProject=e,this.loadedDocuments.forEach(n=>{this.activeProject!=null&&n.updateProject(this.activeProject)})}refreshDocumentState(){this.activeProject!=null&&this.setProject(this.activeProject)}hasDocument(e){return this.loadedDocuments.has(e)}createDocument(e){if(!this.loadedDocuments.has(e)){let n=new Fn;n.documentUri=e,this.loadedDocuments.set(e,n)}}loadDocument(e,n){this.loadedDocuments.set(e,Fn.fromText(n))}getDocument(e){return this.loadedDocuments.get(e)}updateDocument(e,n){var r,i;if(this.loadedDocuments.has(e)){let s=this.loadedDocuments.get(e);s.loadString(n);let o=(i=(r=se.instance)==null?void 0:r.getStructure())==null?void 0:i.findView(e);o!=null&&(o.document=s)}}createOrUpdate(e,n){this.createDocument(e),this.updateDocument(e,n)}getDocumentErrors(e){return this.loadedDocuments.has(e)?this.loadedDocuments.get(e).errors.all():[]}};go.instance=null;(typeof go.instance=="undefined"||go.instance)&&(go.instance=new go);var gI=go;var ti=new Map,Ne=new gI;function _I(t,e){let n=[];return t.processedInterpolationRegions.size>0&&t.processedInterpolationRegions.forEach((r,i)=>{var s;for(let o=0;o<r.length;o++){let a=r[o];if(a instanceof U&&e.isWithin(a.startPosition,a.endPosition)){a.currentScope==null&&(((s=t.parent)==null?void 0:s.currentScope)!=null?a.currentScope=t.parent.currentScope:a.currentScope=t.currentScope),n.push(a),a.processedInterpolationRegions.size>0&&(n=n.concat(_I(a,e)));break}}}),n}function qn(t,e,n=!0){var m,p,d,h,y,_,T,S,g,E,H;if(!Ne.hasDocument(e)||se.instance==null||se.instance.hasStructure()==!1)return null;let r=Ne.getDocument(e),i=t.line+1,s=t.character+1,o=r.cursor.getFeaturesAt(i,s),a=r.cursor.position(i,s),l=se.instance.getStructure(),c=r.cursor.getAncestorsAt(i,s);if(a!=null&&c.length>0){let B=c[c.length-1];_I(B,a).forEach(ae=>{c.push(ae)})}let u=(o==null?void 0:o.isCursorInIdentifier)==!1;return u==!1&&((m=o==null?void 0:o.leftChar)!=null?m:"")==" "&&(u=!0),{hasFrontMatter:r.hasFrontMatter(),antlersDocument:r,frontMatterEndsOn:r.getDocumentParser().getFrontMatterEndLine(),document:e,leftMeaningfulWord:(p=o==null?void 0:o.leftWord)!=null?p:null,leftChar:(d=o==null?void 0:o.leftChar)!=null?d:"",leftWord:(y=(h=o==null?void 0:o.leftWord)==null?void 0:h.trim())!=null?y:"",originalLeftWord:(_=o==null?void 0:o.leftWord)!=null?_:"",rightWord:(T=o==null?void 0:o.rightWord)!=null?T:"",rightChar:(S=o==null?void 0:o.rightChar)!=null?S:"",context:o,position:t,project:l,nodesInScope:c,isInDoubleBraces:((g=o==null?void 0:o.node)==null?void 0:g.rawStart)=="{{",isInVariableInterpolation:(E=o==null?void 0:o.interpolatedContext)!=null?E:!1,interpolationStartsOn:null,currentNode:(H=o==null?void 0:o.node)!=null?H:null,isCaretInTag:(o==null?void 0:o.node)!=null,isPastTagPart:u,showGeneralSnippets:n}}var ja=K(Zt());var _1=`{{ collection:$1 $2 }}

{{ /collection:$1 }}`,yI=_1;var y1='&copy; {{ now format="Y"  }}',TI=y1;var T1=`{{ form:set in="$1" }}

{{ if {form:errors} }}
	{{ form:errors }}

	{{ /form:errors }}
{{ /if }}

{{ if {form:success} }}

{{ /if }}

{{ form:create }}
	$2
{{ /form:create }}

{{ /form:set }}`,bI=T1;var vI=`{{# Displays your site's current locale. #}}
<span>{{ site:short_locale }}</span>

{{# Displays all available locales. #}}
<ul>
    {{ locales all="true" self="false" }}
    <li>
        <a href="{{ permalink }}" aria-label="{{ locale:name }}">{{ locale:short }}</a>
    </li>    
    {{ /locales }}
</ul>`;var b1=`<ul>
{{ nav }}
	{{ if depth == 1 }}
		$1
		{{ if children }}
			<ul>{{ *recursive children* }}</ul>
		{{ /if }}
	{{ elseif depth == 2 }}
		
	{{ /if }}
{{ /nav }}
</ul>`,NI=b1;function Yl(t,e,n,r){return{label:t,detail:e,insertTextFormat:ja.InsertTextFormat.Snippet,kind:ja.CompletionItemKind.Snippet,textEdit:ja.TextEdit.replace(r,n),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}}function v1(t){var l,c,u,f,m;let e=[];if(t.showGeneralSnippets==!1)return e;let n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position},r=(l=tr.instance)==null?void 0:l.getContent("collection"),i=(c=tr.instance)==null?void 0:c.getContent("formset"),s=(u=tr.instance)==null?void 0:u.getContent("nav_depth2"),o=(f=tr.instance)==null?void 0:f.getContent("copyright_year"),a=(m=tr.instance)==null?void 0:m.getContent("multisite_lang_generic");return r!=null&&e.push(Yl("coll","Statamic Collection",r,n)),i!=null&&e.push(Yl("formset","Statamic Form Set",i,n)),s!=null&&e.push(Yl("nav-depth2","Statamic Nav with Depth Two",s,n)),o!=null&&e.push(Yl("copyright_year","Copyright year using Antlers tags.",o,n)),a!=null&&e.push(Yl("multisite_locales","Displays the current locale, and a list of all available locales.",a,n)),e}var tr=class{constructor(){this.registeredSnippets=new Map}loadCoreSnippets(){this.registeredSnippets.set("collection",yI),this.registeredSnippets.set("formset",bI),this.registeredSnippets.set("nav_depth2",NI),this.registeredSnippets.set("copyright_year",TI),this.registeredSnippets.set("multisite_lang_generic",vI)}getContent(e){return this.registeredSnippets.has(e)?this.registeredSnippets.get(e):""}getSnippets(e){let n=[];return e==null||(n=n.concat(v1(e))),n}};tr.instance=null;(typeof tr.instance=="undefined"||tr.instance==null)&&(tr.instance=new tr,tr.instance.loadCoreSnippets());var PI=tr;var II=new Map;function SI(t){var o,a,l;if(((o=se.instance)==null?void 0:o.hasStructure())==!1)return[];Ne.refreshDocumentState();let e=decodeURIComponent(t.textDocument.uri);if(Ne.hasDocument(e)==!1)return[];let n=qn(t.position,e,Yi.showGeneralSnippetCompletions);if(n==null)return[];if(n.hasFrontMatter&&n.frontMatterEndsOn>-1&&n.position.line<n.frontMatterEndsOn)return[];let r=(l=(a=PI.instance)==null?void 0:a.getSnippets(n))!=null?l:[],i=Kd.getSuggestions(n);r.length>0&&(n.isInDoubleBraces==!1||n.nodesInScope.length==0)&&(i=i.concat(r));let s=[];return i.filter(c=>s.includes(c.label)?!1:(s.push(c.label),!0))}function RI(t){if(II.has(t.data)){let e=II.get(t.data);e!=null&&(t.detail=e.detail,t.documentation=e.docs)}return t}var Kl=K($p());var ih=K(st());function Of(t){let e=[];return t.forEach(n=>{let r=null;n.node!=null?r=_o(n.node):n.range!=null?r={start:on(n.range.start),end:on(n.range.end)}:r={start:{line:1,character:1},end:{line:1,character:1}};let i=1;n.level==1&&(i=2),e.push({severity:i,range:r,message:"["+n.errorCode+"] "+n.message,source:"antlers"})}),e}function on(t){return t==null?{character:0,line:0}:{character:t.char,line:t.line-1}}function _o(t){var e,n,r,i,s,o,a,l;if(t instanceof Ks){let c=on((i=(r=(e=t.valuePosition)==null?void 0:e.end)!=null?r:(n=t.blockPosition)==null?void 0:n.end)!=null?i:t.endPosition);return{start:on((l=(a=(s=t.namePosition)==null?void 0:s.start)!=null?a:(o=t.blockPosition)==null?void 0:o.start)!=null?l:t.startPosition),end:{character:c.character+1,line:c.line}}}return{start:on(t.startPosition),end:on(t.endPosition)}}function CI(t){if(t.isClosedBy==null)return null;let e=-1,n=-1,r=-1,i=-1;return t.startPosition!=null&&(e=t.startPosition.line-1,n=t.startPosition.char),t.isClosedBy.endPosition!=null?(r=t.isClosedBy.endPosition.char,i=t.isClosedBy.endPosition.line-1):t.isClosedBy.startPosition!=null&&(r=t.isClosedBy.startPosition.char,i=t.isClosedBy.startPosition.line-1),e==-1||i==-1||n==-1||r==-1?null:{kind:ih.FoldingRangeKind.Region,startLine:e,endLine:i,startCharacter:n,endCharacter:r}}function sh(t){let e=-1,n=-1,r=-1,i=-1;return t.startPosition!=null&&(e=t.startPosition.line-1,n=t.startPosition.char),t.endPosition!=null&&(r=t.endPosition.char,i=t.endPosition.line-1),e==-1||n==-1||r==-1||i==-1?null:{kind:ih.FoldingRangeKind.Comment,startLine:e,endLine:i,startCharacter:n,endCharacter:r}}function AI(t){let e=decodeURIComponent(t.textDocument.uri);if(Ne.hasDocument(e)){let n=Ne.getDocument(e),r=n.ranges.getAllPairedNodes(),i=n.nodes.getMultiLineComments(),s=n.nodes.getMultilineNodes(),o=[];if(n.hasFrontMatter()){let a=n.getDocumentParser().getFrontMatterEndLine();o.push({startLine:0,endLine:a-1,kind:Kl.FoldingRangeKind.Imports})}return r.length>0&&r.forEach(a=>{var c,u,f;if(((c=a.startPosition)==null?void 0:c.line)==((f=(u=a.isClosedBy)==null?void 0:u.startPosition)==null?void 0:f.line))return;let l=CI(a);l!=null&&(l.kind=Kl.FoldingRangeKind.Region,o.push(l))}),i.length>0&&i.forEach(a=>{let l=sh(a);l!=null&&(l.kind=Kl.FoldingRangeKind.Comment,o.push(l))}),s.length>0&&s.forEach(a=>{if(a.isClosedBy!=null)return;let l=sh(a);l!=null&&(l.kind=Kl.FoldingRangeKind.Region,o.push(l))}),o}return[]}var N1={checkDocument(t){let e=[];return t.hasFrontMatter()&&t.getContent().trim().length==0&&e.push(M.makeSyntaxError(P.LINT_FRONT_MATTER_EMPTY_DOCUMENT,null,'Empty document content with Front Matter will result in "[ErrorException] Undefined index: content".')),e}},xI=N1;function EI(t){return typeof t=="undefined"||t===null}function P1(t){return typeof t=="object"&&t!==null}function I1(t){return Array.isArray(t)?t:EI(t)?[]:[t]}function S1(t,e){var n,r,i,s;if(e)for(s=Object.keys(e),n=0,r=s.length;n<r;n+=1)i=s[n],t[i]=e[i];return t}function R1(t,e){var n="",r;for(r=0;r<e;r+=1)n+=t;return n}function C1(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var A1=EI,x1=P1,E1=I1,w1=R1,O1=C1,L1=S1,Gt={isNothing:A1,isObject:x1,toArray:E1,repeat:w1,isNegativeZero:O1,extend:L1};function wI(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),r+" "+n):r}function $l(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=wI(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}$l.prototype=Object.create(Error.prototype);$l.prototype.constructor=$l;$l.prototype.toString=function(e){return this.name+": "+wI(this,e)};var xn=$l;function oh(t,e,n,r,i){var s="",o="",a=Math.floor(i/2)-1;return r-e>a&&(s=" ... ",e=r-a+s.length),n-r>a&&(o=" ...",n=r+a-o.length),{str:s+t.slice(e,n).replace(/\t/g,"\u2192")+o,pos:r-e+s.length}}function ah(t,e){return Gt.repeat(" ",e-t.length)+t}function D1(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],s,o=-1;s=n.exec(t.buffer);)i.push(s.index),r.push(s.index+s[0].length),t.position<=s.index&&o<0&&(o=r.length-2);o<0&&(o=r.length-1);var a="",l,c,u=Math.min(t.line+e.linesAfter,i.length).toString().length,f=e.maxLength-(e.indent+u+3);for(l=1;l<=e.linesBefore&&!(o-l<0);l++)c=oh(t.buffer,r[o-l],i[o-l],t.position-(r[o]-r[o-l]),f),a=Gt.repeat(" ",e.indent)+ah((t.line-l+1).toString(),u)+" | "+c.str+`
`+a;for(c=oh(t.buffer,r[o],i[o],t.position,f),a+=Gt.repeat(" ",e.indent)+ah((t.line+1).toString(),u)+" | "+c.str+`
`,a+=Gt.repeat("-",e.indent+u+3+c.pos)+`^
`,l=1;l<=e.linesAfter&&!(o+l>=i.length);l++)c=oh(t.buffer,r[o+l],i[o+l],t.position-(r[o]-r[o+l]),f),a+=Gt.repeat(" ",e.indent)+ah((t.line+l+1).toString(),u)+" | "+c.str+`
`;return a.replace(/\n$/,"")}var M1=D1,k1=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],F1=["scalar","sequence","mapping"];function q1(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(r){e[String(r)]=n})}),e}function V1(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(k1.indexOf(n)===-1)throw new xn('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=q1(e.styleAliases||null),F1.indexOf(this.kind)===-1)throw new xn('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var pn=V1;function OI(t,e){var n=[];return t[e].forEach(function(r){var i=n.length;n.forEach(function(s,o){s.tag===r.tag&&s.kind===r.kind&&s.multi===r.multi&&(i=o)}),n[i]=r}),n}function B1(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function r(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(r);return t}function lh(t){return this.extend(t)}lh.prototype.extend=function(e){var n=[],r=[];if(e instanceof pn)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new xn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof pn))throw new xn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new xn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new xn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(s){if(!(s instanceof pn))throw new xn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(lh.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=OI(i,"implicit"),i.compiledExplicit=OI(i,"explicit"),i.compiledTypeMap=B1(i.compiledImplicit,i.compiledExplicit),i};var j1=lh,U1=new pn("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),G1=new pn("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),W1=new pn("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),H1=new j1({explicit:[U1,G1,W1]});function Y1(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function K1(){return null}function $1(t){return t===null}var z1=new pn("tag:yaml.org,2002:null",{kind:"scalar",resolve:Y1,construct:K1,predicate:$1,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function X1(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function Q1(t){return t==="true"||t==="True"||t==="TRUE"}function J1(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var Z1=new pn("tag:yaml.org,2002:bool",{kind:"scalar",resolve:X1,construct:Q1,predicate:J1,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function ek(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function tk(t){return 48<=t&&t<=55}function nk(t){return 48<=t&&t<=57}function rk(t){if(t===null)return!1;var e=t.length,n=0,r=!1,i;if(!e)return!1;if(i=t[n],(i==="-"||i==="+")&&(i=t[++n]),i==="0"){if(n+1===e)return!0;if(i=t[++n],i==="b"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!ek(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!tk(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<e;n++)if(i=t[n],i!=="_"){if(!nk(t.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function ik(t){var e=t,n=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function sk(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Gt.isNegativeZero(t)}var ok=new pn("tag:yaml.org,2002:int",{kind:"scalar",resolve:rk,construct:ik,predicate:sk,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),ak=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function lk(t){return!(t===null||!ak.test(t)||t[t.length-1]==="_")}function ck(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}var uk=/^[-+]?[0-9]+e/;function fk(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Gt.isNegativeZero(t))return"-0.0";return n=t.toString(10),uk.test(n)?n.replace("e",".e"):n}function pk(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Gt.isNegativeZero(t))}var dk=new pn("tag:yaml.org,2002:float",{kind:"scalar",resolve:lk,construct:ck,predicate:pk,represent:fk,defaultStyle:"lowercase"}),mk=H1.extend({implicit:[z1,Z1,ok,dk]}),hk=mk,LI=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),DI=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function gk(t){return t===null?!1:LI.exec(t)!==null||DI.exec(t)!==null}function _k(t){var e,n,r,i,s,o,a,l=0,c=null,u,f,m;if(e=LI.exec(t),e===null&&(e=DI.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(s=+e[4],o=+e[5],a=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(u=+e[10],f=+(e[11]||0),c=(u*60+f)*6e4,e[9]==="-"&&(c=-c)),m=new Date(Date.UTC(n,r,i,s,o,a,l)),c&&m.setTime(m.getTime()-c),m}function yk(t){return t.toISOString()}var Tk=new pn("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:gk,construct:_k,instanceOf:Date,represent:yk});function bk(t){return t==="<<"||t===null}var vk=new pn("tag:yaml.org,2002:merge",{kind:"scalar",resolve:bk}),ch=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Nk(t){if(t===null)return!1;var e,n,r=0,i=t.length,s=ch;for(n=0;n<i;n++)if(e=s.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}function Pk(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,s=ch,o=0,a=[];for(e=0;e<i;e++)e%4===0&&e&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(r.charAt(e));return n=i%4*6,n===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):n===18?(a.push(o>>10&255),a.push(o>>2&255)):n===12&&a.push(o>>4&255),new Uint8Array(a)}function Ik(t){var e="",n=0,r,i,s=t.length,o=ch;for(r=0;r<s;r++)r%3===0&&r&&(e+=o[n>>18&63],e+=o[n>>12&63],e+=o[n>>6&63],e+=o[n&63]),n=(n<<8)+t[r];return i=s%3,i===0?(e+=o[n>>18&63],e+=o[n>>12&63],e+=o[n>>6&63],e+=o[n&63]):i===2?(e+=o[n>>10&63],e+=o[n>>4&63],e+=o[n<<2&63],e+=o[64]):i===1&&(e+=o[n>>2&63],e+=o[n<<4&63],e+=o[64],e+=o[64]),e}function Sk(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var Rk=new pn("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Nk,construct:Pk,predicate:Sk,represent:Ik}),Ck=Object.prototype.hasOwnProperty,Ak=Object.prototype.toString;function xk(t){if(t===null)return!0;var e=[],n,r,i,s,o,a=t;for(n=0,r=a.length;n<r;n+=1){if(i=a[n],o=!1,Ak.call(i)!=="[object Object]")return!1;for(s in i)if(Ck.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function Ek(t){return t!==null?t:[]}var wk=new pn("tag:yaml.org,2002:omap",{kind:"sequence",resolve:xk,construct:Ek}),Ok=Object.prototype.toString;function Lk(t){if(t===null)return!0;var e,n,r,i,s,o=t;for(s=new Array(o.length),e=0,n=o.length;e<n;e+=1){if(r=o[e],Ok.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;s[e]=[i[0],r[i[0]]]}return!0}function Dk(t){if(t===null)return[];var e,n,r,i,s,o=t;for(s=new Array(o.length),e=0,n=o.length;e<n;e+=1)r=o[e],i=Object.keys(r),s[e]=[i[0],r[i[0]]];return s}var Mk=new pn("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Lk,construct:Dk}),kk=Object.prototype.hasOwnProperty;function Fk(t){if(t===null)return!0;var e,n=t;for(e in n)if(kk.call(n,e)&&n[e]!==null)return!1;return!0}function qk(t){return t!==null?t:{}}var Vk=new pn("tag:yaml.org,2002:set",{kind:"mapping",resolve:Fk,construct:qk}),MI=hk.extend({implicit:[Tk,vk],explicit:[Rk,wk,Mk,Vk]}),Cs=Object.prototype.hasOwnProperty,Lf=1,kI=2,FI=3,Df=4,uh=1,Bk=2,qI=3,jk=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Uk=/[\x85\u2028\u2029]/,Gk=/[,\[\]\{\}]/,VI=/^(?:!|!!|![a-z\-]+!)$/i,BI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function jI(t){return Object.prototype.toString.call(t)}function bi(t){return t===10||t===13}function yo(t){return t===9||t===32}function Vn(t){return t===9||t===32||t===10||t===13}function Ua(t){return t===44||t===91||t===93||t===123||t===125}function Wk(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function Hk(t){return t===120?2:t===117?4:t===85?8:0}function Yk(t){return 48<=t&&t<=57?t-48:-1}function UI(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function Kk(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var GI=new Array(256),WI=new Array(256);for(To=0;To<256;To++)GI[To]=UI(To)?1:0,WI[To]=UI(To);var To;function $k(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||MI,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function HI(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=M1(n),new xn(e,n)}function le(t,e){throw HI(t,e)}function Mf(t,e){t.onWarning&&t.onWarning.call(null,HI(t,e))}var YI={YAML:function(e,n,r){var i,s,o;e.version!==null&&le(e,"duplication of %YAML directive"),r.length!==1&&le(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&le(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&le(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&Mf(e,"unsupported YAML version of the document")},TAG:function(e,n,r){var i,s;r.length!==2&&le(e,"TAG directive accepts exactly two arguments"),i=r[0],s=r[1],VI.test(i)||le(e,"ill-formed tag handle (first argument) of the TAG directive"),Cs.call(e.tagMap,i)&&le(e,'there is a previously declared suffix for "'+i+'" tag handle'),BI.test(s)||le(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{le(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s}};function As(t,e,n,r){var i,s,o,a;if(e<n){if(a=t.input.slice(e,n),r)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||le(t,"expected valid JSON character");else jk.test(a)&&le(t,"the stream contains non-printable characters");t.result+=a}}function KI(t,e,n,r){var i,s,o,a;for(Gt.isObject(n)||le(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),o=0,a=i.length;o<a;o+=1)s=i[o],Cs.call(e,s)||(e[s]=n[s],r[s]=!0)}function Ga(t,e,n,r,i,s,o,a,l){var c,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,u=i.length;c<u;c+=1)Array.isArray(i[c])&&le(t,"nested arrays are not supported inside keys"),typeof i=="object"&&jI(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&jI(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,u=s.length;c<u;c+=1)KI(t,e,s[c],n);else KI(t,e,s,n);else!t.json&&!Cs.call(n,i)&&Cs.call(e,i)&&(t.line=o||t.line,t.lineStart=a||t.lineStart,t.position=l||t.position,le(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[i]=s,delete n[i];return e}function fh(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):le(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function Dt(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);i!==0;){for(;yo(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(bi(i))for(fh(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return n!==-1&&r!==0&&t.lineIndent<n&&Mf(t,"deficient indentation"),r}function kf(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||Vn(n)))}function ph(t,e){e===1?t.result+=" ":e>1&&(t.result+=Gt.repeat(`
`,e-1))}function zk(t,e,n){var r,i,s,o,a,l,c,u,f=t.kind,m=t.result,p;if(p=t.input.charCodeAt(t.position),Vn(p)||Ua(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=t.input.charCodeAt(t.position+1),Vn(i)||n&&Ua(i)))return!1;for(t.kind="scalar",t.result="",s=o=t.position,a=!1;p!==0;){if(p===58){if(i=t.input.charCodeAt(t.position+1),Vn(i)||n&&Ua(i))break}else if(p===35){if(r=t.input.charCodeAt(t.position-1),Vn(r))break}else{if(t.position===t.lineStart&&kf(t)||n&&Ua(p))break;if(bi(p))if(l=t.line,c=t.lineStart,u=t.lineIndent,Dt(t,!1,-1),t.lineIndent>=e){a=!0,p=t.input.charCodeAt(t.position);continue}else{t.position=o,t.line=l,t.lineStart=c,t.lineIndent=u;break}}a&&(As(t,s,o,!1),ph(t,t.line-l),s=o=t.position,a=!1),yo(p)||(o=t.position+1),p=t.input.charCodeAt(++t.position)}return As(t,s,o,!1),t.result?!0:(t.kind=f,t.result=m,!1)}function Xk(t,e){var n,r,i;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(As(t,r,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)r=t.position,t.position++,i=t.position;else return!0;else bi(n)?(As(t,r,i,!0),ph(t,Dt(t,!1,e)),r=i=t.position):t.position===t.lineStart&&kf(t)?le(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);le(t,"unexpected end of the stream within a single quoted scalar")}function Qk(t,e){var n,r,i,s,o,a;if(a=t.input.charCodeAt(t.position),a!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;(a=t.input.charCodeAt(t.position))!==0;){if(a===34)return As(t,n,t.position,!0),t.position++,!0;if(a===92){if(As(t,n,t.position,!0),a=t.input.charCodeAt(++t.position),bi(a))Dt(t,!1,e);else if(a<256&&GI[a])t.result+=WI[a],t.position++;else if((o=Hk(a))>0){for(i=o,s=0;i>0;i--)a=t.input.charCodeAt(++t.position),(o=Wk(a))>=0?s=(s<<4)+o:le(t,"expected hexadecimal character");t.result+=Kk(s),t.position++}else le(t,"unknown escape sequence");n=r=t.position}else bi(a)?(As(t,n,r,!0),ph(t,Dt(t,!1,e)),n=r=t.position):t.position===t.lineStart&&kf(t)?le(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}le(t,"unexpected end of the stream within a double quoted scalar")}function Jk(t,e){var n=!0,r,i,s,o=t.tag,a,l=t.anchor,c,u,f,m,p,d=Object.create(null),h,y,_,T;if(T=t.input.charCodeAt(t.position),T===91)u=93,p=!1,a=[];else if(T===123)u=125,p=!0,a={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),T=t.input.charCodeAt(++t.position);T!==0;){if(Dt(t,!0,e),T=t.input.charCodeAt(t.position),T===u)return t.position++,t.tag=o,t.anchor=l,t.kind=p?"mapping":"sequence",t.result=a,!0;n?T===44&&le(t,"expected the node content, but found ','"):le(t,"missed comma between flow collection entries"),y=h=_=null,f=m=!1,T===63&&(c=t.input.charCodeAt(t.position+1),Vn(c)&&(f=m=!0,t.position++,Dt(t,!0,e))),r=t.line,i=t.lineStart,s=t.position,Wa(t,e,Lf,!1,!0),y=t.tag,h=t.result,Dt(t,!0,e),T=t.input.charCodeAt(t.position),(m||t.line===r)&&T===58&&(f=!0,T=t.input.charCodeAt(++t.position),Dt(t,!0,e),Wa(t,e,Lf,!1,!0),_=t.result),p?Ga(t,a,d,y,h,_,r,i,s):f?a.push(Ga(t,null,d,y,h,_,r,i,s)):a.push(h),Dt(t,!0,e),T=t.input.charCodeAt(t.position),T===44?(n=!0,T=t.input.charCodeAt(++t.position)):n=!1}le(t,"unexpected end of the stream within a flow collection")}function Zk(t,e){var n,r,i=uh,s=!1,o=!1,a=e,l=0,c=!1,u,f;if(f=t.input.charCodeAt(t.position),f===124)r=!1;else if(f===62)r=!0;else return!1;for(t.kind="scalar",t.result="";f!==0;)if(f=t.input.charCodeAt(++t.position),f===43||f===45)uh===i?i=f===43?qI:Bk:le(t,"repeat of a chomping mode identifier");else if((u=Yk(f))>=0)u===0?le(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?le(t,"repeat of an indentation width identifier"):(a=e+u-1,o=!0);else break;if(yo(f)){do f=t.input.charCodeAt(++t.position);while(yo(f));if(f===35)do f=t.input.charCodeAt(++t.position);while(!bi(f)&&f!==0)}for(;f!==0;){for(fh(t),t.lineIndent=0,f=t.input.charCodeAt(t.position);(!o||t.lineIndent<a)&&f===32;)t.lineIndent++,f=t.input.charCodeAt(++t.position);if(!o&&t.lineIndent>a&&(a=t.lineIndent),bi(f)){l++;continue}if(t.lineIndent<a){i===qI?t.result+=Gt.repeat(`
`,s?1+l:l):i===uh&&s&&(t.result+=`
`);break}for(r?yo(f)?(c=!0,t.result+=Gt.repeat(`
`,s?1+l:l)):c?(c=!1,t.result+=Gt.repeat(`
`,l+1)):l===0?s&&(t.result+=" "):t.result+=Gt.repeat(`
`,l):t.result+=Gt.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,n=t.position;!bi(f)&&f!==0;)f=t.input.charCodeAt(++t.position);As(t,n,t.position,!1)}return!0}function $I(t,e){var n,r=t.tag,i=t.anchor,s=[],o,a=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,le(t,"tab characters must not be used in indentation")),!(l!==45||(o=t.input.charCodeAt(t.position+1),!Vn(o))));){if(a=!0,t.position++,Dt(t,!0,-1)&&t.lineIndent<=e){s.push(null),l=t.input.charCodeAt(t.position);continue}if(n=t.line,Wa(t,e,FI,!1,!0),s.push(t.result),Dt(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&l!==0)le(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return a?(t.tag=r,t.anchor=i,t.kind="sequence",t.result=s,!0):!1}function eF(t,e,n){var r,i,s,o,a,l,c=t.tag,u=t.anchor,f={},m=Object.create(null),p=null,d=null,h=null,y=!1,_=!1,T;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=f),T=t.input.charCodeAt(t.position);T!==0;){if(!y&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,le(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),s=t.line,(T===63||T===58)&&Vn(r))T===63?(y&&(Ga(t,f,m,p,d,null,o,a,l),p=d=h=null),_=!0,y=!0,i=!0):y?(y=!1,i=!0):le(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,T=r;else{if(o=t.line,a=t.lineStart,l=t.position,!Wa(t,n,kI,!1,!0))break;if(t.line===s){for(T=t.input.charCodeAt(t.position);yo(T);)T=t.input.charCodeAt(++t.position);if(T===58)T=t.input.charCodeAt(++t.position),Vn(T)||le(t,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(Ga(t,f,m,p,d,null,o,a,l),p=d=h=null),_=!0,y=!1,i=!1,p=t.tag,d=t.result;else if(_)le(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=c,t.anchor=u,!0}else if(_)le(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=c,t.anchor=u,!0}if((t.line===s||t.lineIndent>e)&&(y&&(o=t.line,a=t.lineStart,l=t.position),Wa(t,e,Df,!0,i)&&(y?d=t.result:h=t.result),y||(Ga(t,f,m,p,d,h,o,a,l),p=d=h=null),Dt(t,!0,-1),T=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&T!==0)le(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return y&&Ga(t,f,m,p,d,null,o,a,l),_&&(t.tag=c,t.anchor=u,t.kind="mapping",t.result=f),_}function tF(t){var e,n=!1,r=!1,i,s,o;if(o=t.input.charCodeAt(t.position),o!==33)return!1;if(t.tag!==null&&le(t,"duplication of a tag property"),o=t.input.charCodeAt(++t.position),o===60?(n=!0,o=t.input.charCodeAt(++t.position)):o===33?(r=!0,i="!!",o=t.input.charCodeAt(++t.position)):i="!",e=t.position,n){do o=t.input.charCodeAt(++t.position);while(o!==0&&o!==62);t.position<t.length?(s=t.input.slice(e,t.position),o=t.input.charCodeAt(++t.position)):le(t,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Vn(o);)o===33&&(r?le(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),VI.test(i)||le(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),o=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),Gk.test(s)&&le(t,"tag suffix cannot contain flow indicator characters")}s&&!BI.test(s)&&le(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{le(t,"tag name is malformed: "+s)}return n?t.tag=s:Cs.call(t.tagMap,i)?t.tag=t.tagMap[i]+s:i==="!"?t.tag="!"+s:i==="!!"?t.tag="tag:yaml.org,2002:"+s:le(t,'undeclared tag handle "'+i+'"'),!0}function nF(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&le(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!Vn(n)&&!Ua(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&le(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function rF(t){var e,n,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!Vn(r)&&!Ua(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&le(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),Cs.call(t.anchorMap,n)||le(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],Dt(t,!0,-1),!0}function Wa(t,e,n,r,i){var s,o,a,l=1,c=!1,u=!1,f,m,p,d,h,y;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=o=a=Df===n||FI===n,r&&Dt(t,!0,-1)&&(c=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;tF(t)||nF(t);)Dt(t,!0,-1)?(c=!0,a=s,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):a=!1;if(a&&(a=c||i),(l===1||Df===n)&&(Lf===n||kI===n?h=e:h=e+1,y=t.position-t.lineStart,l===1?a&&($I(t,y)||eF(t,y,h))||Jk(t,h)?u=!0:(o&&Zk(t,h)||Xk(t,h)||Qk(t,h)?u=!0:rF(t)?(u=!0,(t.tag!==null||t.anchor!==null)&&le(t,"alias node should not have any properties")):zk(t,h,Lf===n)&&(u=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(u=a&&$I(t,y))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&le(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),f=0,m=t.implicitTypes.length;f<m;f+=1)if(d=t.implicitTypes[f],d.resolve(t.result)){t.result=d.construct(t.result),t.tag=d.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Cs.call(t.typeMap[t.kind||"fallback"],t.tag))d=t.typeMap[t.kind||"fallback"][t.tag];else for(d=null,p=t.typeMap.multi[t.kind||"fallback"],f=0,m=p.length;f<m;f+=1)if(t.tag.slice(0,p[f].tag.length)===p[f].tag){d=p[f];break}d||le(t,"unknown tag !<"+t.tag+">"),t.result!==null&&d.kind!==t.kind&&le(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+d.kind+'", not "'+t.kind+'"'),d.resolve(t.result,t.tag)?(t.result=d.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):le(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||u}function iF(t){var e=t.position,n,r,i,s=!1,o;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(o=t.input.charCodeAt(t.position))!==0&&(Dt(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||o!==37));){for(s=!0,o=t.input.charCodeAt(++t.position),n=t.position;o!==0&&!Vn(o);)o=t.input.charCodeAt(++t.position);for(r=t.input.slice(n,t.position),i=[],r.length<1&&le(t,"directive name must not be less than one character in length");o!==0;){for(;yo(o);)o=t.input.charCodeAt(++t.position);if(o===35){do o=t.input.charCodeAt(++t.position);while(o!==0&&!bi(o));break}if(bi(o))break;for(n=t.position;o!==0&&!Vn(o);)o=t.input.charCodeAt(++t.position);i.push(t.input.slice(n,t.position))}o!==0&&fh(t),Cs.call(YI,r)?YI[r](t,r,i):Mf(t,'unknown document directive "'+r+'"')}if(Dt(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,Dt(t,!0,-1)):s&&le(t,"directives end mark is expected"),Wa(t,t.lineIndent-1,Df,!1,!0),Dt(t,!0,-1),t.checkLineBreaks&&Uk.test(t.input.slice(e,t.position))&&Mf(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&kf(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,Dt(t,!0,-1));return}if(t.position<t.length-1)le(t,"end of the stream or a document separator is expected");else return}function zI(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new $k(t,e),r=t.indexOf("\0");for(r!==-1&&(n.position=r,le(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)iF(n);return n.documents}function sF(t,e,n){e!==null&&typeof e=="object"&&typeof n=="undefined"&&(n=e,e=null);var r=zI(t,n);if(typeof e!="function")return r;for(var i=0,s=r.length;i<s;i+=1)e(r[i])}function oF(t,e){var n=zI(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new xn("expected a single document in the stream, but found more")}}var aF=sF,lF=oF,XI={loadAll:aF,load:lF},QI=Object.prototype.toString,JI=Object.prototype.hasOwnProperty,dh=65279,cF=9,zl=10,uF=13,fF=32,pF=33,dF=34,mh=35,mF=37,hF=38,gF=39,_F=42,ZI=44,yF=45,Ff=58,TF=61,bF=62,vF=63,NF=64,eS=91,tS=93,PF=96,nS=123,IF=124,rS=125,dn={};dn[0]="\\0";dn[7]="\\a";dn[8]="\\b";dn[9]="\\t";dn[10]="\\n";dn[11]="\\v";dn[12]="\\f";dn[13]="\\r";dn[27]="\\e";dn[34]='\\"';dn[92]="\\\\";dn[133]="\\N";dn[160]="\\_";dn[8232]="\\L";dn[8233]="\\P";var SF=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],RF=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function CF(t,e){var n,r,i,s,o,a,l;if(e===null)return{};for(n={},r=Object.keys(e),i=0,s=r.length;i<s;i+=1)o=r[i],a=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=t.compiledTypeMap.fallback[o],l&&JI.call(l.styleAliases,a)&&(a=l.styleAliases[a]),n[o]=a;return n}function AF(t){var e,n,r;if(e=t.toString(16).toUpperCase(),t<=255)n="x",r=2;else if(t<=65535)n="u",r=4;else if(t<=4294967295)n="U",r=8;else throw new xn("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+Gt.repeat("0",r-e.length)+e}var xF=1,Xl=2;function EF(t){this.schema=t.schema||MI,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=Gt.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=CF(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?Xl:xF,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function iS(t,e){for(var n=Gt.repeat(" ",e),r=0,i=-1,s="",o,a=t.length;r<a;)i=t.indexOf(`
`,r),i===-1?(o=t.slice(r),r=a):(o=t.slice(r,i+1),r=i+1),o.length&&o!==`
`&&(s+=n),s+=o;return s}function hh(t,e){return`
`+Gt.repeat(" ",t.indent*e)}function wF(t,e){var n,r,i;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(i=t.implicitTypes[n],i.resolve(e))return!0;return!1}function qf(t){return t===fF||t===cF}function Ql(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==dh||65536<=t&&t<=1114111}function sS(t){return Ql(t)&&t!==dh&&t!==uF&&t!==zl}function oS(t,e,n){var r=sS(t),i=r&&!qf(t);return(n?r:r&&t!==ZI&&t!==eS&&t!==tS&&t!==nS&&t!==rS)&&t!==mh&&!(e===Ff&&!i)||sS(e)&&!qf(e)&&t===mh||e===Ff&&i}function OF(t){return Ql(t)&&t!==dh&&!qf(t)&&t!==yF&&t!==vF&&t!==Ff&&t!==ZI&&t!==eS&&t!==tS&&t!==nS&&t!==rS&&t!==mh&&t!==hF&&t!==_F&&t!==pF&&t!==IF&&t!==TF&&t!==bF&&t!==gF&&t!==dF&&t!==mF&&t!==NF&&t!==PF}function LF(t){return!qf(t)&&t!==Ff}function Jl(t,e){var n=t.charCodeAt(e),r;return n>=55296&&n<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function aS(t){var e=/^\n* /;return e.test(t)}var lS=1,gh=2,cS=3,uS=4,Ha=5;function DF(t,e,n,r,i,s,o,a){var l,c=0,u=null,f=!1,m=!1,p=r!==-1,d=-1,h=OF(Jl(t,0))&&LF(Jl(t,t.length-1));if(e||o)for(l=0;l<t.length;c>=65536?l+=2:l++){if(c=Jl(t,l),!Ql(c))return Ha;h=h&&oS(c,u,a),u=c}else{for(l=0;l<t.length;c>=65536?l+=2:l++){if(c=Jl(t,l),c===zl)f=!0,p&&(m=m||l-d-1>r&&t[d+1]!==" ",d=l);else if(!Ql(c))return Ha;h=h&&oS(c,u,a),u=c}m=m||p&&l-d-1>r&&t[d+1]!==" "}return!f&&!m?h&&!o&&!i(t)?lS:s===Xl?Ha:gh:n>9&&aS(t)?Ha:o?s===Xl?Ha:gh:m?uS:cS}function MF(t,e,n,r,i){t.dump=function(){if(e.length===0)return t.quotingType===Xl?'""':"''";if(!t.noCompatMode&&(SF.indexOf(e)!==-1||RF.test(e)))return t.quotingType===Xl?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,n),o=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),a=r||t.flowLevel>-1&&n>=t.flowLevel;function l(c){return wF(t,c)}switch(DF(e,a,t.indent,o,l,t.quotingType,t.forceQuotes&&!r,i)){case lS:return e;case gh:return"'"+e.replace(/'/g,"''")+"'";case cS:return"|"+fS(e,t.indent)+pS(iS(e,s));case uS:return">"+fS(e,t.indent)+pS(iS(kF(e,o),s));case Ha:return'"'+FF(e)+'"';default:throw new xn("impossible error: invalid scalar style")}}()}function fS(t,e){var n=aS(t)?String(e):"",r=t[t.length-1]===`
`,i=r&&(t[t.length-2]===`
`||t===`
`),s=i?"+":r?"":"-";return n+s+`
`}function pS(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function kF(t,e){for(var n=/(\n+)([^\n]*)/g,r=function(){var c=t.indexOf(`
`);return c=c!==-1?c:t.length,n.lastIndex=c,dS(t.slice(0,c),e)}(),i=t[0]===`
`||t[0]===" ",s,o;o=n.exec(t);){var a=o[1],l=o[2];s=l[0]===" ",r+=a+(!i&&!s&&l!==""?`
`:"")+dS(l,e),i=s}return r}function dS(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,r,i=0,s,o=0,a=0,l="";r=n.exec(t);)a=r.index,a-i>e&&(s=o>i?o:a,l+=`
`+t.slice(i,s),i=s+1),o=a;return l+=`
`,t.length-i>e&&o>i?l+=t.slice(i,o)+`
`+t.slice(o+1):l+=t.slice(i),l.slice(1)}function FF(t){for(var e="",n=0,r,i=0;i<t.length;n>=65536?i+=2:i++)n=Jl(t,i),r=dn[n],!r&&Ql(n)?(e+=t[i],n>=65536&&(e+=t[i+1])):e+=r||AF(n);return e}function qF(t,e,n){var r="",i=t.tag,s,o,a;for(s=0,o=n.length;s<o;s+=1)a=n[s],t.replacer&&(a=t.replacer.call(n,String(s),a)),(Ki(t,e,a,!1,!1)||typeof a=="undefined"&&Ki(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=i,t.dump="["+r+"]"}function mS(t,e,n,r){var i="",s=t.tag,o,a,l;for(o=0,a=n.length;o<a;o+=1)l=n[o],t.replacer&&(l=t.replacer.call(n,String(o),l)),(Ki(t,e+1,l,!0,!0,!1,!0)||typeof l=="undefined"&&Ki(t,e+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=hh(t,e)),t.dump&&zl===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=s,t.dump=i||"[]"}function VF(t,e,n){var r="",i=t.tag,s=Object.keys(n),o,a,l,c,u;for(o=0,a=s.length;o<a;o+=1)u="",r!==""&&(u+=", "),t.condenseFlow&&(u+='"'),l=s[o],c=n[l],t.replacer&&(c=t.replacer.call(n,l,c)),!!Ki(t,e,l,!1,!1)&&(t.dump.length>1024&&(u+="? "),u+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),!!Ki(t,e,c,!1,!1)&&(u+=t.dump,r+=u));t.tag=i,t.dump="{"+r+"}"}function BF(t,e,n,r){var i="",s=t.tag,o=Object.keys(n),a,l,c,u,f,m;if(t.sortKeys===!0)o.sort();else if(typeof t.sortKeys=="function")o.sort(t.sortKeys);else if(t.sortKeys)throw new xn("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)m="",(!r||i!=="")&&(m+=hh(t,e)),c=o[a],u=n[c],t.replacer&&(u=t.replacer.call(n,c,u)),!!Ki(t,e+1,c,!0,!0,!0)&&(f=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,f&&(t.dump&&zl===t.dump.charCodeAt(0)?m+="?":m+="? "),m+=t.dump,f&&(m+=hh(t,e)),!!Ki(t,e+1,u,!0,f)&&(t.dump&&zl===t.dump.charCodeAt(0)?m+=":":m+=": ",m+=t.dump,i+=m));t.tag=s,t.dump=i||"{}"}function hS(t,e,n){var r,i,s,o,a,l;for(i=n?t.explicitTypes:t.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof e=="object"&&e instanceof a.instanceOf)&&(!a.predicate||a.predicate(e))){if(n?a.multi&&a.representName?t.tag=a.representName(e):t.tag=a.tag:t.tag="?",a.represent){if(l=t.styleMap[a.tag]||a.defaultStyle,QI.call(a.represent)==="[object Function]")r=a.represent(e,l);else if(JI.call(a.represent,l))r=a.represent[l](e,l);else throw new xn("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');t.dump=r}return!0}return!1}function Ki(t,e,n,r,i,s,o){t.tag=null,t.dump=n,hS(t,n,!1)||hS(t,n,!0);var a=QI.call(t.dump),l=r,c;r&&(r=t.flowLevel<0||t.flowLevel>e);var u=a==="[object Object]"||a==="[object Array]",f,m;if(u&&(f=t.duplicates.indexOf(n),m=f!==-1),(t.tag!==null&&t.tag!=="?"||m||t.indent!==2&&e>0)&&(i=!1),m&&t.usedDuplicates[f])t.dump="*ref_"+f;else{if(u&&m&&!t.usedDuplicates[f]&&(t.usedDuplicates[f]=!0),a==="[object Object]")r&&Object.keys(t.dump).length!==0?(BF(t,e,t.dump,i),m&&(t.dump="&ref_"+f+t.dump)):(VF(t,e,t.dump),m&&(t.dump="&ref_"+f+" "+t.dump));else if(a==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!o&&e>0?mS(t,e-1,t.dump,i):mS(t,e,t.dump,i),m&&(t.dump="&ref_"+f+t.dump)):(qF(t,e,t.dump),m&&(t.dump="&ref_"+f+" "+t.dump));else if(a==="[object String]")t.tag!=="?"&&MF(t,t.dump,e,s,l);else{if(a==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new xn("unacceptable kind of an object to dump "+a)}t.tag!==null&&t.tag!=="?"&&(c=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",t.dump=c+" "+t.dump)}return!0}function jF(t,e){var n=[],r=[],i,s;for(_h(t,n,r),i=0,s=r.length;i<s;i+=1)e.duplicates.push(n[r[i]]);e.usedDuplicates=new Array(s)}function _h(t,e,n){var r,i,s;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(e.push(t),Array.isArray(t))for(i=0,s=t.length;i<s;i+=1)_h(t[i],e,n);else for(r=Object.keys(t),i=0,s=r.length;i<s;i+=1)_h(t[r[i]],e,n)}function UF(t,e){e=e||{};var n=new EF(e);n.noRefs||jF(t,n);var r=t;return n.replacer&&(r=n.replacer.call({"":r},"",r)),Ki(n,0,r,!0,!0)?n.dump+`
`:""}var GF=UF,WF={dump:GF};function yh(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var Vf=XI.load,Pne=XI.loadAll,gS=WF.dump,_S=xn;var Ine=yh("safeLoad","load"),Sne=yh("safeLoadAll","loadAll"),Rne=yh("safeDump","dump");function TS(t){let e=t.split(/\r?\n/),n=[];return e.forEach(r=>{let i=r.split("|");if(i.length==1)n.push(r);else if(i.length>1){let s=i[0];if(parseInt(s.trim()).toString()==s.trim()){let o=parseInt(s)+1;i.shift();let a=i.join("|"),l=" ".repeat(s.length-o.toString().length);n.push(l+o.toString()+"|"+a)}else n.push(r)}}),n.join(`
`)}var HF={checkDocument(t){let e=[];if(t.hasFrontMatter()){let n=t.getFrontMatter();try{Vf(n,{onWarning:r=>{let i=new en,s=new en;i.line=r.mark.line+2,i.char=r.mark.column,s.line=r.mark.line+2,s.char=r.mark.snippet.length+r.mark.column;let o={start:i,end:s},a=new M;a.errorCode=P.LINT_INVALID_FRONT_MATTER,a.level=1,a.message=TS(r.message),a.range=o,e.push(a)}})}catch(r){if(r instanceof _S){let i=new en,s=new en;i.line=r.mark.line+2,i.char=r.mark.column,s.line=r.mark.line+2,s.char=r.mark.snippet.length+r.mark.column;let o={start:i,end:s},a=new M;a.errorCode=P.LINT_INVALID_FRONT_MATTER,a.level=0,a.message=TS(r.message),a.range=o,e.push(a)}}}return e}},bS=HF;var YF={checkDocument(t){let e=[];return t.getAllAntlersNodes().forEach(n=>{var r,i;if(n.isTagNode&&n.name!=null&&n.getTagName()=="partial"){let s=ua(n);if(s==null)return;let o=(i=(r=se.instance)==null?void 0:r.getStructure())==null?void 0:i.findRelativeView(s);if(typeof o=="undefined"||o==null)return;o.documentUri==t.documentUri&&n.findParentOfType(["if","elseif","else"])==null&&e.push(M.makeSyntaxError(P.LINT_POSSIBLE_PARTIAL_RECURSION,n,"Possible partial recursion detected",1))}}),e}},vS=YF;var NS=[xI,bS,vS];var KF=["dump","dd","ddd"],$F={checkNode(t){let e=t.getTagName(),n=[];return KF.includes(e)&&n.push(M.makeSyntaxError(P.LINT_DEBUG_DATA_EXPOSED,t,e+" exposes data and should be removed after debugging.",1)),t.modifiers.hasModifier("dump")&&n.push(M.makeSyntaxError(P.LINT_DEBUG_DATA_EXPOSED,t,"dump modifier exposes data and should be removed after debugging.",1)),n}},PS=$F;var zF={checkNode(t){let e=[];return t.runtimeName().includes("::")&&e.push(M.makeSyntaxError(P.LINT_DOUBLE_COLON_IN_TAG_IDENTIFIER,t,":: in tag part leads to ErrorException call_user_func() runtime exception.",1)),e}},IS=zF;var XF={checkNode(t){var i;let e=[];if(t.isClosedBy==null||t.parent==null||!(t.parent instanceof U))return e;let n=t.parent;if(n.isClosedBy==null)return e;let r=t.runtimeName();return r=="if"||r=="if:index"||r=="else"||r=="else:index"||r=="elseif"||r=="elseif:index"||r=="elseunless"||r=="elseunless:index"||((i=n.isClosedBy.startPosition)==null?void 0:i.isBefore(t.isClosedBy.endPosition))&&(e.push(M.makeSyntaxError(P.LINT_INTERLEAVED_TAG_PAIRS,t,"Closing tag cannot appear after parent closing tag.")),e.push(M.makeSyntaxError(P.LINT_INTERLEAVED_TAG_PAIRS,t.isClosedBy,"Closing tag cannot appear after parent closing tag."))),e}},Bf=XF;var QF={checkNode(t){let e=[];return t.modifiers!=null&&t.modifiers.hasMixedModifierStyles&&e.push(M.makeSyntaxError(P.LINT_MIXED_MODIFIERS,t,"Mixed modifier styles is not supported",0)),e}},SS=QF;var JF={checkNode(t){let e=[];if(t.modifiers==null)return e;let n=[];if(t.modifiers.hasParameterModifiers()){let r=null;for(let i=0;i<t.modifiers.parameterModifiers.length;i++){let s=t.modifiers.parameterModifiers[i];if(r==null){r=s;continue}if(r!=null&&r.modifier!=null&&s.modifier!=null){if(r.modifier.returnsType.includes("*")||s.modifier.acceptsType.includes("*"))continue;{let o=r.modifier.returnsType,a="void",l="void",c=s.modifier.acceptsType.some(u=>o.includes(u));if(o.length>0&&(a=o[o.length-1]),s.modifier.acceptsType.length>0&&(l=s.modifier.acceptsType[0]),!c){e.push(M.makeSyntaxError(P.LINT_MODIFIER_UNEXPECTED_TYPE,s,"Unexpected type supplied to modifier "+s.name+". Expected "+l+" got "+a+".",1));break}}}}}if(t.modifiers.hasShorthandModifiers()&&t.modifierChain!=null){let r=null;for(let i=0;i<t.modifierChain.modifierChain.length;i++){let s=t.modifierChain.modifierChain[i];if(r==null){r=s;continue}if(r!=null&&r.modifier!=null&&s.modifier!=null){if(r.modifier.returnsType.includes("*")||s.modifier.acceptsType.includes("*"))continue;{let o=r.modifier.returnsType,a="void",l="void",c=s.modifier.acceptsType.some(u=>o.includes(u));if(o.length>0&&(a=o[o.length-1]),s.modifier.acceptsType.length>0&&(l=s.modifier.acceptsType[0]),!c){s.refId!=null&&!n.includes(s.refId)&&(e.push(M.makeSyntaxError(P.LINT_MODIFIER_UNEXPECTED_TYPE,s,"Unexpected type supplied to modifier "+s.name+". Expected "+l+" got "+a+".",1)),n.push(s.refId));break}}}}}if(t.runtimeNodes!=null&&t.runtimeNodes.length>0)for(let r=0;r<t.runtimeNodes.length;r++){let i=t.runtimeNodes[r],s=null;if(i.modifierChain!=null)for(let o=0;o<i.modifierChain.modifierChain.length;o++){let a=i.modifierChain.modifierChain[o];if(s==null){s=a;continue}if(s!=null&&s.modifier!=null&&a.modifier!=null){if(s.modifier.returnsType.includes("*")||a.modifier.acceptsType.includes("*"))continue;{let l=s.modifier.returnsType,c="void",u="void",f=a.modifier.acceptsType.some(m=>l.includes(m));if(l.length>0&&(c=l[l.length-1]),a.modifier.acceptsType.length>0&&(u=a.modifier.acceptsType[0]),!f){a.refId!=null&&n.includes(a.refId)==!1&&(e.push(M.makeSyntaxError(P.LINT_MODIFIER_UNEXPECTED_TYPE,a,"Unexpected type supplied to modifier "+a.name+". Expected "+u+" got "+c+".",1)),n.push(a.refId));break}}}}}return e}},RS=JF;var ZF={checkNode(t){var n,r;let e=[];if(t.isTagNode&&t.name!=null&&t.getTagName()=="partial"){let i=ua(t);if(i==null)return e;let s=(r=(n=se.instance)==null?void 0:n.getStructure())==null?void 0:r.findRelativeView(i);if(typeof s=="undefined"||s==null)return e;s.injectsParameters.length>0&&s.injectsParameters.forEach(o=>{o.isRequired&&!t.hasParameter(o.name)&&e.push(M.makeSyntaxError(P.LINT_MISSING_REQUIRED_PARAMETER,t,"Missing required parameter: "+o.name,0))})}return e}},CS=ZF;var eq={checkNode(t){let e=[];return t.isTagNode&&t.name!=null&&t.getTagName()=="relate"&&e.push(M.makeSyntaxError(P.LINT_REMOVE_RELATE_TAG,t,"The `relate` tag is not necessary here, and can be removed.",1)),e}},AS=eq;var tq={checkNode(t){let e=[];if(Yi.languageVersion=="runtime")return[];if(t.isClosedBy!=null&&t.modifierChain!=null){let n=t.content.trim(),r=t.isClosedBy.content.trim(),i="/"+n;r!=i&&(e.push(M.makeSyntaxError(P.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH,t,"Closing tags must match exactly when using shorthand modifiers in tag pairs.",0)),e.push(M.makeSyntaxError(P.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH,t.isClosedBy,'Closing tags must match exactly when using shorthand modifiers in tag pairs. Expecting: "'+i+'".',0)))}return e}},xS=tq;var YS=K(kh()),Fq={checkNode(t){var i,s,o;let e=[];if(t.isOpenedBy!=null||!((i=se.instance)==null?void 0:i.hasStructure()))return e;let n=se.instance.getStructure().getStatamicVersion();if(n==null||n.trim().length==0||!((s=he.instance)==null?void 0:s.isKnownTag(t.runtimeName())))return e;let r=(o=he.instance)==null?void 0:o.findTag(t.runtimeName());if((r==null?void 0:r.introducedIn)==null)return e;try{YS.lt(n,r.introducedIn)&&e.push(M.makeSyntaxError(P.LINT_VERSION_NOT_COMPATIBLE,t,t.runtimeName()+" requires at least Statamic "+r.introducedIn+". Current project version: "+n,1))}catch{}return e}},KS=Fq;var qq={checkNode(t){let e=[];return t.isTagNode&&t.getTagName()=="set"&&e.push(M.makeSyntaxError(P.LINT_SET_PRODUCES_RUNTIME_ERROR,t,'`set` tag will produce "array_merge(): Expected parameter 1 to be an array, object given" runtime exception.')),e}},$S=qq;var Vq=[PS,SS,RS,IS,AS,$S,xS,KS,Bf,CS],zS=Vq;var Es=class{constructor(){this.fileDiagnostics=new Map;this.handlers=[];this.docHandlers=[]}registerHandler(e){this.handlers.push(e)}registerDocumentHandler(e){this.docHandlers.push(e)}registerDocumentHandlers(e){for(let n=0;n<e.length;n++)this.registerDocumentHandler(e[n])}registerHandlers(e){for(let n=0;n<e.length;n++)this.registerHandler(e[n])}registerCoreHandlers(){this.registerHandlers(zS),this.registerDocumentHandlers(NS)}hasDiagnosticsIssues(e){return this.fileDiagnostics.has(e)==!1?!1:this.fileDiagnostics.get(e).length>0}registerDiagnostics(e,n){this.fileDiagnostics.set(e,n)}clearIssues(e){this.fileDiagnostics.set(e,[])}getDiagnostics(e){return this.hasDiagnosticsIssues(e)?this.fileDiagnostics.get(e):[]}checkDocument(e){let n=[];return this.docHandlers.forEach(r=>{r.checkDocument(e).forEach(i=>{n.push(i)})}),n}checkNode(e){let n=[];return e.isComment||this.handlers.forEach(r=>{r.checkNode(e).forEach(i=>{n.push(i)})}),n}getAllDiagnostics(){let e=[];return this.fileDiagnostics.forEach((n,r)=>{for(let i=0;i<n.length;i++)e.push(n[i])}),e}};Es.instance=null;(typeof Es.instance=="undefined"||Es.instance==null)&&(Es.instance=new Es,Es.instance.registerCoreHandlers());var ni=Es;function XS(t,e){let n=decodeURIComponent(t);Ne.createOrUpdate(n,e)}function Fh(t){let e=decodeURIComponent(t.uri);Ne.createOrUpdate(decodeURIComponent(t.uri),t.getText()),ti.set(e,t)}async function qh(t,e){var s;let n=decodeURIComponent(t.uri);Ne.createOrUpdate(n,t.getText());let r=0,i=[];if(Ne.hasDocument(n)){let o=Ne.getDocument(n),a=o.errors.all();Of(o.errors.all()).forEach(l=>{i.push(l)}),((s=ni.instance)==null?void 0:s.hasDiagnosticsIssues(n))&&Of(ni.instance.getDiagnostics(n)).forEach(l=>{i.push(l)})}e.sendDiagnostics({uri:t.uri,diagnostics:i}),Bq(t.uri,e)}function Bq(t,e){var n,r,i;if((n=se.instance)==null?void 0:n.hasStructure()){let s=se.instance.getStructure().getViews();for(let o=0;o<s.length;o++)if(s[o].documentUri!=t){let a=decodeURIComponent(s[o].documentUri);if((r=ni.instance)==null?void 0:r.hasDiagnosticsIssues(a)){let l=[],c=(i=ni.instance)==null?void 0:i.getDiagnostics(a);Of(c).forEach(u=>{l.push(u)}),e.sendDiagnostics({uri:s[o].originalDocumentUri,diagnostics:l})}}}}var eC=K(un());var rc=null;function Vh(t){rc=t}var Bh=class{static formatFrontMatter(e){try{let n=Vf(e,{}),r=gS(n,{indent:2,noArrayIndent:!1,condenseFlow:!1,forceQuotes:!0,noRefs:!0,skipInvalid:!0});return r.endsWith(`
`)&&(r=r.trimEnd()),r}catch{return e}}};function nr(t,e,n){if(t&&t.hasOwnProperty(e)){let r=t[e];if(r!==null)return r}return n}function QS(t,e,n){let r=nr(t,e,null);return typeof r=="string"?r.length>0?r.split(",").map(i=>i.trim().toLowerCase()):[]:n}var Qf=class{static frontMatterBlock(e){return`---
`+e+`
---

`}};var WV=JR().html;var ZR=class{constructor(e,n,r){this.buffer="";this.closeString="";this.relativeIndentSize=0;this.indentSeed=0;this.baseIndent=n,e.isInterpolationNode?(this.buffer="{",this.closeString="}"):(this.buffer="{{ ",e.isSelfClosing?this.closeString=" /}}":this.closeString=" }}"),r!=null&&r.trim().length>0&&(this.buffer+=r+" ")}setIndentSeed(e){return this.indentSeed=e,this}close(){return this.closeString==" }}"?this.buffer.endsWith(" ")?this.buffer+="}}":this.buffer+=this.closeString:this.buffer+=this.closeString,this}appendT(e){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer+=e,this}appendTS(e){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer.endsWith("{")&&(e=e.trimStart()),this.buffer+=e,this}append(e){return this.buffer+=e,this}appendOS(e){return this.buffer.endsWith(" ")==!1&&this.buffer.endsWith("(")==!1&&this.buffer.endsWith("{")==!1&&this.buffer.endsWith("[")==!1&&this.buffer.endsWith(":")==!1&&(this.buffer+=" "),this.append(e)}appendS(e){let n="";return this.buffer.endsWith(" ")==!1&&(n+=" "),n+=e+" ",this.buffer+=n,this}indent(){let e=this.baseIndent;return e==0?e=1:e+=2,this.relativeIndentSize>0&&(e+=this.relativeIndentSize),this.buffer+=" ".repeat(e),this}addIndent(e){return e<=0?this:(this.buffer+=" ".repeat(e),this)}paramS(e){let n=" ";return e.isVariableReference&&(n+=":"),n+=e.name+"="+e.nameDelimiter+e.value+e.nameDelimiter,this.append(n),this}replace(e,n){return this.buffer=Ve(this.buffer,e,n),this}relativeIndent(e){let n=this.buffer.split(`
`);if(n.length==0)return this;let r=n[n.length-1].trimEnd();return r.endsWith("(")&&(r=r.slice(0,-1)),r.endsWith(e)==!1?this:(this.relativeIndentSize=r.lastIndexOf(e),this)}newlineIndent(){return this.newLine(),this.indent(),this}newlineNDIndent(){return this.buffer=this.buffer.trimEnd(),this.newLine(),this.indent(),this}newLine(){return this.buffer+=`
`,this}getContent(){return this.buffer}endsWith(e){return this.buffer.endsWith(e)}},Qa=class{constructor(e){this.antlersRegions=new Map;this.conditionRegions=new Map;this.commentRegions=new Map;this.noParseRegions=new Map;this.antlersSingleNodes=new Map;this.pruneList=[];this.chopList=[];this.commentCount=0;this.safeReplacements=new Map;this.formatOptions=e}tabIndent(){let e=this.formatOptions.tabSize;return e<=0&&(e=4)," ".repeat(e)}printComment(e){let n=e.getContent().trim();if(n.includes(`
`)){let r=`{{#
`;return n.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`).forEach(s=>{r+=this.tabIndent()+s.trim()+`
`}),r+="#}}",r}return"{{# "+n+" #}}"}prettyPrintNode(e,n,r,i,s){var c,u,f,m,p,d,h;if(e.isComment)return this.printComment(e);let o=e.getTrueRuntimeNodes(),a=0,l=0;if(o.length>0){let y=new ZR(e,r,i);s!=null&&y.setIndentSeed(s);let _=null;for(let S=0;S<o.length;S++){let g=o[S];if(_!=null&&((c=g.endPosition)==null?void 0:c.isBefore(_.startPosition)))continue;let E=!1;if(g instanceof Vt?!(g.next instanceof Vt)&&g.next!=null&&(!St.isOperatorType(g.next)||!St.isAssignmentOperator(g.next))&&!(g.next instanceof nn)&&!(g.next instanceof Nt)&&!g.isSwitchGroupMember&&!St.isOperatorType(g.next)&&(E=!0,g.next instanceof te&&g.next.name=="as"&&(E=!1)):!((u=g.prev)==null?void 0:u.isVirtual)&&((f=g.prev)==null?void 0:f.isVirtualGroupOperatorResolve)&&g.prev.producesVirtualStatementTerminator&&g.next!=null&&(g.prev instanceof te||y.newlineIndent()),g instanceof te){if(g.convertedToOperator){if(g.name=="arr")y.appendT(" arr");else if(g.name=="switch"||g.name=="list")if(y.appendTS(" "+g.name),S+1<o.length){if(!(o[S+1]instanceof Kt))break;y.append("("),g.name!="list"&&y.relativeIndent(g.name).newLine().indent(),S+=1,_=o[S+1];continue}else break;else l+=1,l>1?y.newlineNDIndent().indent().addIndent(6).appendS(g.name):y.appendS(g.name);_=g;continue}g.mergeRefName!=null&&g.mergeRefName.trim().length>0&&g.mergeRefName!=g.name?y.append(g.mergeRefName.trim()):g.name=="as"?y.appendOS("as"):y.append(g.name.trim())}else if(g instanceof zr)if(y.appendTS(" list"),S+1<o.length){if(!(o[S+1]instanceof Kt))break;y.append("("),S+=1,_=o[S+1];continue}else break;else if(g instanceof vn)y.appendS("|");else if(g instanceof Nt){if(_!=null&&((m=g.startPosition)==null?void 0:m.isBefore(_.endPosition))||g.next instanceof te&&g.next.mergeRefName.startsWith(":"))continue;if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(g)){y.endsWith(":")||y.append(":");continue}if(g.prev!=null&&g.next!=null&&tt.distance(g.prev,g)<=1&&tt.distance(g.next,g)<=1){y.append(":"),_=g;continue}if(n.getDocumentParser().getLanguageParser().isActualModifierSeparator(g)){y.append(":"),_=g;continue}if(_ instanceof Bt||_ instanceof jt){y.append(":"),_=g;continue}y.appendS(":")}else if(g instanceof Bt)y.append(g.name);else if(g instanceof Kr)y.appendS("?");else if(g instanceof Nn){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(g))continue;if(g.isTenaryBranchSeparator){y.appendS(":"),_=g;continue}if(n.getDocumentParser().getLanguageParser().isActualModifierSeparator(g)){y.append(":"),_=g;continue}y.append(":")}else if(g instanceof jt)y.append(g.value.trim());else if(g instanceof Kt)y.append("(");else if(g instanceof Vt)y.append(")");else if(g instanceof yt){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(g))continue;if(g.startPosition!=null&&g.endPosition!=null){let H=n.getText(g.startPosition.index,g.endPosition.index+1);y.appendOS(H)}else y.appendOS(g.sourceTerminator+g.value+g.sourceTerminator)}else if(g instanceof It)g.isSwitchGroupMember?y.append(",").newlineIndent():y.append(", ");else if(g instanceof wt){if(_=g,n.getDocumentParser().getLanguageParser().isMergedVariableComponent(g))continue;let H=(d=(p=g.value)==null?void 0:p.toString())!=null?d:"";g.rawLexContent!=null&&g.rawLexContent.trim().length>0&&(H=g.rawLexContent.trim()),y.append(H)}else if(g instanceof $n)y.appendS("=");else if(g instanceof Pn)y.appendS("=>");else if(g instanceof Hn)y.appendS("+");else if(g instanceof Tn){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(g)){y.append("-");continue}if(g.prev!=null&&g.next!=null&&tt.distance(g.prev,g)<=1&&tt.distance(g.next,g)<=1){g.next instanceof wt&&g.prev instanceof wt?y.appendS("-"):y.append("-"),_=g;continue}y.appendS("-")}else if(g instanceof Kn)y.appendS("*");else if(g instanceof Yn){if(_=g,(h=g.startPosition)==null?void 0:h.isBefore(e.nameEndsOn)){y.append("/");continue}if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(g))continue;y.appendS("/");continue}else g instanceof nn?g.isListGroupMember?(y.append(";").newlineIndent().indent().addIndent(7),S+1<o.length&&!(o[S+1]instanceof Vt)&&y.indent()):(a+=1,a<this.formatOptions.maxStatementsPerLine?y.appendT("; "):(y.appendT(";").newlineIndent(),a=0)):g instanceof rn?g.content=="not"?y.appendS("not"):y.append("!"):y.appendS(g.rawContent());E&&y.newlineIndent(),_=g}e.hasParameters&&e.parameters.forEach(S=>{y.paramS(S)}),y.close();let T=y.getContent();return e.processedInterpolationRegions.size>0&&e.processedInterpolationRegions.forEach((S,g)=>{let E=this.formatDocumentNodes(S,n);T=Ve(T,g,E)}),T}return e.getTrueRawContent()}replaceDocumentsNodes(e,n){return n.forEach(r=>{if(!(r instanceof Dn||r instanceof yn))if(r instanceof U){if(r.name!=null&&r.name.name=="noparse"){let i="__ANTLR_NOPARSE"+r.refId;this.noParseRegions.set(i,r),e=Ve(e,r.getNodeDocumentText(),i)}else if(r.isComment){this.commentCount+=1;let i="__ANTLR_COMMENT"+this.commentCount.toString()+"C";this.commentRegions.set(i,r),e=Ve(e,r.getNodeDocumentText(),i)}else if(r.isSelfClosing||r.isClosedBy==null){let i="__ANTLR_"+r.refId;e=Ve(e,r.getNodeDocumentText(),i),this.antlersSingleNodes.set(i,r)}}else r instanceof qt&&r.logicBranches.forEach(i=>{e=this.replaceDocumentsNodes(e,i.nodes)})}),e}isAllLiterals(e){for(let n=0;n<e.length;n++)if(!(e[n]instanceof dt))return!1;return!0}formatDocumentNodes(e,n){var c;let r="",i=(c=QS(this.formatOptions.htmlOptions,"unformatted",[]))!=null?c:[],s=[],o=new Map;e.forEach(u=>{var f,m;if(u instanceof dt)u.startPosition!=null&&u.endPosition!=null?r+=n.getText(u.startPosition.index,u.endPosition.index+1):r+=u.rawContent();else if(u instanceof U){if(u.name!=null&&u.name.name=="noparse"){let p="__ANTLR_NOPARSE"+u.refId;this.noParseRegions.set(p,u),r+=p}else if(u.isComment){this.commentCount+=1;let p="__ANTLR_COMMENT"+this.commentCount.toString()+"C";this.commentRegions.set(p,u),r+=p}else if(u.isSelfClosing||u.isClosedBy==null){let p="__ANTLR_"+u.refId;r+=p,o.set(p,u)}else if(u.children.length>0){let p=u.children;p.pop();let d=this.formatDocumentNodes(p,n);if(d.startsWith("{{")&&d.endsWith("}}")){let _="__ANTLERS_PRESERVE_"+Ve(os(),"-","_");this.safeReplacements.set(_,d),d=_}let h="<ANTLR_"+u.refId+">",y="</ANTLR_"+u.refId+">";this.antlersRegions.set(h,u),r+=h+`
`+d+`
`+y}}else if(u instanceof qt)for(let p=0;p<u.logicBranches.length;p++){let d=u.logicBranches[p];if(d.head==null)continue;let h=d.head.children;h.pop();let y=this.formatDocumentNodes(h,n),_=this.replaceDocumentsNodes(y,u.logicBranches[p].nodes),T="<ANTLER_COND"+d.head.refId+">",S="</ANTLER_COND"+d.head.refId+">";this.conditionRegions.set(T,d.head);let g=y.toLocaleLowerCase();if(g.includes("<script")||g.includes("<style")){let E=!1;u.logicBranches[p].nodes.length>0&&((f=u.logicBranches[p].nodes[u.logicBranches[p].nodes.length-1].startPosition)==null?void 0:f.line)!=((m=u.logicBranches[p].endPosition)==null?void 0:m.line)&&(E=!0),this.isAllLiterals(u.logicBranches[p].nodes)||E?r+=T+_.trim()+S:r+=T+`
`+_.trim()+`
`+S}else r+=T+y+S}}),r=Ve(r,"<{{ as","<ANTLER_COMMON_ALIAS"),r=Ve(r,"</{{ as","</ANTLER_COMMON_ALIAS");let a=WV(r,{indent_size:this.formatOptions.tabSize,indent_char:this.formatOptions.insertSpaces?" ":"	",indent_empty_lines:nr(this.formatOptions.htmlOptions,"indentEmptyLines",!1),wrap_line_length:nr(this.formatOptions.htmlOptions,"wrapLineLength",120),unformatted:i,content_unformatted:s,indent_inner_html:nr(this.formatOptions.htmlOptions,"indentInnerHtml",!1),preserve_newlines:nr(this.formatOptions.htmlOptions,"preserveNewLines",!0),max_preserve_newlines:nr(this.formatOptions.htmlOptions,"maxPreserveNewLines",32786),indent_handlebars:nr(this.formatOptions.htmlOptions,"indentHandlebars",!1),end_with_newline:nr(this.formatOptions.htmlOptions,"endWithNewline",!1),extra_liners:[],wrap_attributes:nr(this.formatOptions.htmlOptions,"wrapAttributes","auto"),wrap_attributes_indent_size:nr(this.formatOptions.htmlOptions,"wrapAttributesIndentSize",void 0),eol:`
`,indent_scripts:nr(this.formatOptions.htmlOptions,"indentScripts","normal"),unformatted_content_delimiter:nr(this.formatOptions.htmlOptions,"unformattedContentDelimiter","")}),l=a.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`);return o.forEach((u,f)=>{let m=this.getIndent(f,l),p=this.prettyPrintNode(u,n,m,null,u.getDepthCount());a=Ve(a,f,p)}),this.antlersSingleNodes.forEach((u,f)=>{let m=this.getIndent(f,l),p=this.prettyPrintNode(u,n,m,null,u.getDepthCount());a=Ve(a,f,p)}),a=Ve(a,"<ANTLER_COMMON_ALIAS","<{{ as"),a=Ve(a,"</ANTLER_COMMON_ALIAS","</{{ as"),a}getIndent(e,n){for(let r=0;r<n.length;r++){let i=n[r];if(i.includes(e)){let s=i.indexOf(e);if(s>=0)return s+1}}return 0}static applyPositionsFromDocument(e,n){let r=e.getAllAntlersNodes(),i=n.getAllAntlersNodes();if(r.length==i.length)for(let s=0;s<r.length;s++){let o=r[s],a=i[s];if(a.startPosition=o.startPosition,a.endPosition=o.endPosition,a.runtimeNodes.length==o.runtimeNodes.length)for(let l=0;l<a.runtimeNodes.length;l++){let c=o.runtimeNodes[l],u=a.runtimeNodes[l];u.startPosition=c.startPosition,u.endPosition=c.endPosition}}}formatDocument(e){if(!e.isValid()||e.isFormattingEnabled()==!1)return e.getOriginalContent();let n=e.getAllAntlersNodes();for(let l=0;l<n.length;l++)if(Bf.checkNode(n[l]).length>0)return e.getOriginalContent();let r=e.getDocumentParser().getRenderNodes(),i=this.formatDocumentNodes(r,e),s=i.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`);this.antlersRegions.forEach((l,c)=>{let u=this.getIndent(c,s),f=this.prettyPrintNode(l,e,u,null,null),m="</ANTLR_"+l.refId+">",p="";l.isClosedBy!=null&&(p=l.isClosedBy.getTrueRawContent().trim()),i=Ve(i,c,f),i=Ve(i,m,p)}),this.commentRegions.forEach((l,c)=>{let u=this.getIndent(c,s),f=this.prettyPrintNode(l,e,u,null,null);i=Ve(i,c,f)}),this.conditionRegions.forEach((l,c)=>{var y,_;let u="</ANTLER_COND"+l.refId+">",f=!0,m=this.getIndent(c,s),p=l.getTrueNode();if(l.isClosedBy!=null){let T=l.isClosedBy;T.startPosition!=null&&l.endPosition!=null&&T.startPosition.line==l.endPosition.line&&this.chopList.push(u+`
`)}l.isClosedBy!=null&&((y=l.isClosedBy.name)==null?void 0:y.name)!="if"&&(this.pruneList.push(u.toLowerCase()),this.chopList.push(u),f=!1);let d=this.prettyPrintNode(p,e,m,p.runtimeName(),null),h=!1;if(l.isClosedBy!=null){let T=l.isClosedBy;T.startPosition!=null&&l.endPosition!=null&&T.startPosition.line!=l.endPosition.line&&(d+=`
{{@cond_break@}}`+" ".repeat(m+3),h=!0)}if(i=Ve(i,c,d),f){let T="";if(h){let H=m-1;H==1&&(H=0),T=`{{@cond_break@}}
`+" ".repeat(H)}let S=(_=l.isClosedBy)==null?void 0:_.getTrueNode(),g=S==null?void 0:S.runtimeName();(g==null?void 0:g.toLowerCase())=="endunless"&&(g="unless");let E=T+"{{ ";g!="endif"&&(E+="/"),E+=g+" }}",i=Ve(i,u,E),i=Ve(i,u,"")}}),this.chopList.forEach(l=>{i=Ve(i,l,"")});let o=i.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`),a=[];if(o.forEach(l=>{this.pruneList.includes(l.trim().toLowerCase())||l.trim()!="{{@cond_break@}}"&&a.push(l)}),i=a.join(`
`),i=Ve(i,"{{@cond_break@}}",""),e.hasFrontMatter()){let l=e.getFrontMatter();this.formatOptions.formatFrontMatter?i=Qf.frontMatterBlock(Bh.formatFrontMatter(l))+i:i=Qf.frontMatterBlock(l)+i}if(this.safeReplacements.size>0){let l=i.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`);this.safeReplacements.forEach((c,u)=>{let f=this.getIndent(u,l);i=i.replace(u,this.reindent(c,f,this.formatOptions.tabSize))})}return this.noParseRegions.size>0&&this.noParseRegions.forEach((l,c)=>{i=i.replace(c,l.getOriginalContent())}),i}reindent(e,n,r){let i=[],s=e.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`),o=" ".repeat(n),a=" ".repeat(r);for(let l=0;l<s.length;l++){let c=s[l];if(l==0){let u=c.trimLeft();i.push(u);let f=c.trim().split(" ");if(f.length==0)a=" ".repeat(Math.ceil(c.trim().length/2)+r);else{let m=f[f.length-1];a=" ".repeat(u.lastIndexOf(m)+Math.floor(m.trim().length/2)-1)}}else i.push(o+a+c.trimLeft())}return i.join(`
`)}};function tC(t){let e=lp(),n=decodeURIComponent(t.textDocument.uri),r=rc.format;if(e.formatterIgnoreExtensions.length>0){for(let i=0;i<e.formatterIgnoreExtensions.length;i++)if(n.toLowerCase().endsWith(e.formatterIgnoreExtensions[i].toLowerCase()))return null}if(Ne.hasDocument(n)&&ti.has(n)){let i=ti.get(n),s=Ne.getDocument(n),o=i.getText(),a=Fn.fromText(o),l={htmlOptions:r,formatFrontMatter:e.formatFrontMatter,insertSpaces:t.options.insertSpaces,tabSize:t.options.tabSize,maxStatementsPerLine:3,formatExtensions:[]};Qa.applyPositionsFromDocument(s,a);let c=new Qa(l),u=c.formatDocument(a),f=i.positionAt(o.length);return[{range:{start:eC.Position.create(0,0),end:f},newText:u}]}return null}var nC=K(un());var HV={activeSignature:null,activeParameter:null,signatures:[]};function rC(t){var r;let e=decodeURIComponent(t.textDocument.uri),n=qn(t.position,e);if(n!=null&&n.context!=null&&n.context.modifierContext!=null&&((r=xe.instance)==null?void 0:r.hasModifier(n.context.modifierContext.name))){let i=n.context.modifierContext.name,s=xe.instance.getModifier(i),o=[];s!=null&&s.parameters.forEach(l=>{o.push({label:l.name,documentation:l.description})});let a=n.context.modifierContext.activeValueIndex;return a>o.length&&(a=o.length-1),(a<0||o.length==0)&&(a=0),{signatures:[{label:s.name,documentation:{kind:nC.MarkupKind.Markdown,value:s.description},parameters:o,activeParameter:a}],activeParameter:a,activeSignature:0}}return HV}var So=K(st());var lg=class{static getTypedHeader(e,n){let r="";return n.length>0&&(r=n.join(", ")),"**"+e+"** `"+r+"`  \n"}static formatParameterHover(e){let n=this.getTypedHeader(e.name,e.expectsTypes);if(n+=e.description,e.documentationLink!=null&&e.documentationLink.trim().length>0){n+=`  

`;let r="Documentation Reference]";e.docLinkName!=null&&e.docLinkName.trim().length>0&&(r=e.docLinkName.trim()),n+="["+r+"]("+e.documentationLink+")"}return{contents:{kind:So.MarkupKind.Markdown,value:n}}}static formatModifierHover(e){let n=this.getTypedHeader(e.name,e.acceptsType),r="";if(e.parameters.length>0){let s=[];e.parameters.forEach(o=>{s.push("$"+o.name)}),r=s.join(", ")}let i="";if(e.returnsType.length==1)i=e.returnsType[0];else{let s=[];e.returnsType.forEach(o=>{s.push(o)}),i=s.join(", ")}return n+=e.description+`
`,n+="```js\n",n+="function "+e.name+"("+r+"):"+i,n+="\n```",e.docLink!=null&&e.docLink.trim().length>0&&(n+=`  

`,n+="[Documentation Reference]("+e.docLink+")"),{contents:{kind:So.MarkupKind.Markdown,value:n}}}static formatBlueprintHover(e,n){let r="";return e.displayName!=null&&e.displayName.trim().length>0?r="**"+e.displayName+"** ("+e.name+`)

`:r="**"+e.name+`**

`,e.instructionText!=null&&(r+=e.instructionText+`

`),r+="**Blueprint**: "+e.blueprintName+`

`,r+="**Type**: "+e.type,e.maxItems!=null&&(r+=`

**Max Items**: `+e.maxItems),n!=null&&(r+=`

**From**: `+n.runtimeName()),{contents:{kind:So.MarkupKind.Markdown,value:r}}}static formatScopeVariableHover(e){if(e.sourceField!=null)return this.formatBlueprintHover(e.sourceField,e.introducedBy);let n="**"+e.name+`**

`;return n+="**Type**: "+e.dataType,e.introducedBy!=null&&(n+=`
**From**: `+e.introducedBy.runtimeName()),{contents:{kind:So.MarkupKind.Markdown,value:n}}}static getHover(e){var r,i,s,o,a,l,c,u,f;if(e==null||e.nodesInScope.length==0)return null;let n=e.nodesInScope[e.nodesInScope.length-1];if(e.context!=null&&e.context.node!=null&&(n=e.context.node),n!=null){if((r=he.instance)==null?void 0:r.isKnownTag(n.runtimeName())){let h=(i=he.instance)==null?void 0:i.findTag(n.runtimeName());if(e.context!=null&&e.context.isCursorInIdentifier&&typeof(h==null?void 0:h.resolveDocumentation)!="undefined"){let y=h.resolveDocumentation(e);if(y.trim().length>0)return{contents:{kind:So.MarkupKind.Markdown,value:y},range:{start:on(n.startPosition),end:on(n.endPosition)}}}if(h!=null&&((o=(s=e.context)==null?void 0:s.parameterContext)==null?void 0:o.parameter)!=null){let y=e.context.parameterContext.parameter,_=he.instance.getParameter(h.tagName,y.name);if(_!=null){if(typeof _.providesDocumentation!="undefined"){let T=_.providesDocumentation(e);if(T.trim().length>0)return{contents:{kind:So.MarkupKind.Markdown,value:T},range:{start:on(n.startPosition),end:on(n.endPosition)}}}return this.formatParameterHover(_)}else if(y.isModifierParameter&&y.modifier!=null)return this.formatModifierHover(y.modifier)}}if(((a=e.context)==null?void 0:a.parameterContext)!=null&&((c=(l=e.context)==null?void 0:l.parameterContext.parameter)==null?void 0:c.modifier)!=null)return this.formatModifierHover(e.context.parameterContext.parameter.modifier);if(((u=e.context)==null?void 0:u.modifierContext)!=null){let h=(f=xe.instance)==null?void 0:f.getModifier(e.context.modifierContext.name);if(h!=null)return this.formatModifierHover(h)}let m=e.position.line+1,p=e.position.character+1,d=e.antlersDocument.cursor.position(m,p);return n.scopeVariable!=null&&d!=null&&d.isWithin(n.startPosition,n.endPosition)?this.formatScopeVariableHover(n.scopeVariable):null}return null}};function iC(t){var r;if(((r=se.instance)==null?void 0:r.hasStructure())==!1)return null;let e=decodeURIComponent(t.textDocument.uri);if(Ne.hasDocument(e)==!1)return null;let n=qn(t.position,e);return lg.getHover(n)}var cg=class{static findLocations(e,n){if(e==null||e.nodesInScope.length==0)return null;let r=e.nodesInScope[e.nodesInScope.length-1];if(e.context!=null&&e.context.node!=null&&(r=e.context.node),r!=null&&r.scopeVariable!=null&&r.scopeVariable.introducedBy!=null){let i=[];return i.push({uri:n.textDocument.uri,range:{start:on(r.scopeVariable.introducedBy.startPosition),end:on(r.scopeVariable.introducedBy.endPosition)}}),i}return null}};function sC(t){var r;if(((r=se.instance)==null?void 0:r.hasStructure())==!1)return null;let e=decodeURIComponent(t.textDocument.uri);if(Ne.hasDocument(e)==!1)return null;let n=qn(t.position,e);return cg.findLocations(n,t)}var oC=K(Zt());var cp=new Map,up=new Map;function ug(){let t={types:["comment","string","keyword","number","regexp","operator","namespace","type","struct","class","interface","enum","typeParameter","function","method","macro","variable","parameter","property","label","antlersAttribute"],modifiers:["declaration","documentation","readonly","static","abstract","deprecated","modification","async"]};return t.types.forEach((e,n)=>cp.set(e,n)),t.modifiers.forEach((e,n)=>up.set(e,n)),{legend:t,async getSemanticTokens(e,n){let r=decodeURIComponent(e.uri),i=new oC.SemanticTokensBuilder,s=[];if(Ne.hasDocument(r)){let o=Ne.getDocument(r);o.nodes.getAllRuntimeNodes().forEach(p=>{p instanceof Bt&&s.push(p)});let l=new Map;s.forEach(p=>{var d;p.startPosition!=null&&(l.has(p.startPosition.line)||l.set(p.startPosition.line,[]),(d=l.get(p.startPosition.line))==null||d.push(p))});let c=[];Array.from(l.keys()).sort((p,d)=>p-d).forEach(p=>{l.get(p).sort((y,_)=>{var T,S,g,E;return((S=(T=y.startPosition)==null?void 0:T.char)!=null?S:0)-((E=(g=_.startPosition)==null?void 0:g.char)!=null?E:0)}).forEach(y=>{c.push(y)})}),c.forEach(p=>{p instanceof Bt&&p.startPosition!=null&&p.endPosition!=null&&i.push(p.startPosition.line-1,p.startPosition.char,p.endPosition.char-p.startPosition.char,lC("function"),aC([]))}),o.nodes.getAllParameterNodes().forEach(p=>{p.namePosition!=null&&p.namePosition.start!=null&&p.namePosition.end!=null&&i.push(p.namePosition.start.line-1,p.namePosition.start.char-1,p.namePosition.end.char-p.namePosition.start.char,lC("antlersAttribute"),aC([]))})}return i.build().data}}}function aC(t){let e=0;for(let n=0;n<t.length;n++){let r=t[n];up.has(r)?e=e|1<<up.get(r):r==="notInLegend"&&(e=e|1<<up.size+2)}return e}function lC(t){return cp.has(t)?cp.get(t):t==="notInLegend"?cp.size+2:0}var fp=K(Zt());function cC(t){let e=[];return t.forEach(n=>{if(n.isComment||n.isClosingTag&&!n.isConditionNode||n.isConditionNode&&n.name!=null&&n.isClosingTag&&(n.name.name=="if"||n.name.name=="unless"))return;let r=_o(n),i=[];if(n.children.length>0){let c=n.getStructuralChildren();c.length>0&&(i=cC(c))}let s=fp.SymbolKind.Field;n.isTagNode&&(s=fp.SymbolKind.Class);let o=n.getNameContent().trim(),a=n.getContent().trim(),l=o+" "+a;o==a&&(l=a),l=n.sourceContent,n.name!=null&&n.name.name=="partial"&&(s=fp.SymbolKind.File),e.push({range:r,kind:s,name:l,selectionRange:r,children:i})}),e}function uC(t){let e=decodeURIComponent(t.textDocument.uri);if(Ne.hasDocument(e)){let n=Ne.getDocument(e),r=n.nodes.getStructuralNodes();return cC(r)}return[]}var fg=class{static getDocumentLinks(e){var r,i,s;let n=[];if((r=se.instance)==null?void 0:r.hasStructure()){let o=(s=(i=wr.instance)==null?void 0:i.getPartialReferences(e))!=null?s:[];for(let a=0;a<o.length;a++){let l=o[a];if(l.hasMethodPart()){let c=se.instance.getStructure().findRelativeView(l.getMethodNameValue());if(c!=null){let u=on(l.nameEndsOn);n.push({range:{start:on(l.startPosition),end:{character:u.character-2,line:u.line}},tooltip:"Partial: "+c.displayName,target:decodeURIComponent(c.documentUri)})}}}}return n}};var mC=require("child_process"),hC=K(require("fs"));var pg=__dirname;function fC(t){pg=t}var KV=dg();function Pi(t){return t.split("\\").join("/")}function dC(t){let e=KV(decodeURIComponent(t));return Pi(e)}var $V="analyzer.phar",mg=!1,zV=!1,XV=!1;function hg(){var t;if((t=se.instance)==null?void 0:t.hasStructure()){let e=se.instance.getStructure().getWorkingDirectory();}}function gC(){mg||(hC.existsSync(pg+"/"+$V)&&(zV=!0,(0,mC.exec)("php -v",(t,e,n)=>{t==null&&e.includes("Zend")&&(XV=!0,mg=!0,hg())})),mg=!0)}var Qt=K(require("path")),Bn=K(require("fs")),UC=require("path");var Ii=K(require("fs")),_C=K(kh());function QV(t){let e=JSON.parse(Ii.readFileSync(t,{encoding:"utf8"}));return typeof e.extra!="undefined"&&typeof e.extra.statamic!="undefined"}var gg=class{static getInstalledPackages(e,n,r){let i=[];if(Ii.existsSync(e)){let s=JSON.parse(Ii.readFileSync(e,{encoding:"utf8"}));if(typeof s!="undefined"&&typeof s.packages!="undefined")for(let o=0;o<s.packages.length;o++){let a=s.packages[o];if(typeof a.name!="undefined"&&typeof a.version!="undefined"){let l=r+Lr(a.name,"/")+"/composer.json",c=r+Lr(a.name,"/")+"/.antlers-ls/",u=!1;if(typeof a.dist!="undefined"){let d=a.dist;typeof d.type!="undefined"&&typeof d.url!="undefined"&&d.type==="path"&&(l=n+Lr(a.dist.url,"/")+"/composer.json",c=r+Lr(a.name,"/")+"/.antlers-ls/")}let f=null;if(Ii.existsSync(l)&&(u=QV(l),u&&Ii.existsSync(c))){f={fieldtypesFile:null,modifiersFile:null,tagsFile:null};let d=c+"tags.json",h=c+"modifiers.json",y=c+"types.json";Ii.existsSync(d)&&(f.tagsFile=d),Ii.existsSync(h)&&(f.modifiersFile=h),Ii.existsSync(y)&&(f.fieldtypesFile=y)}let m=Ln(a.version,"v"),p=_C.clean(m);p!=null&&(m=p),i.push({name:a.name,version:m,vendorPath:l,isStatamicAddon:u,antlersExtension:f})}}}return i}};var _g=K(require("path"));function yg(t){let e=_g.resolve(t).replace(/\\/g,"/");return e[0]!=="/"&&(e="/"+e),encodeURI("file://"+e)}function rr(t){return!t.toLowerCase().endsWith(".gitkeep")}var yC=K(Ti()),TC=K(require("fs"));function hc(t,e,n,r,i){let s=[],o=[];for(let a of Object.keys(t[n])){let l=t[n][a],c="",u="",f="",m="",p=null,d=null,h=null;if(typeof l.prefix!="undefined"&&l.prefix!==null&&(m=l.prefix),typeof l.import!="undefined"&&i.has(l.import)){let y=i.get(l.import);for(let _=0;_<y.length;_++)o.includes(y[_].handle)==!1&&(s.push(Ud(y[_],m)),o.push(y[_].handle));continue}if(typeof l.import!="undefined"&&(h=l.import),typeof l.field!="undefined"&&(typeof l.field.type!="undefined"&&(c=l.field.type),typeof l.field.display!="undefined"&&(u=l.field.display),typeof l.field.instructions!="undefined"&&(f=l.field.instructions),typeof l.field.max_items!="undefined"&&(p=l.field.max_items),c=wb(c,l,p),Eb.includes(c)&&typeof l.field.sets!="undefined")){d=[];for(let y of Object.keys(l.field.sets)){let _=l.field.sets[y],T=hc(_,e,"fields","set:"+y,i),S="";typeof _.display!="undefined"&&(S=_.display),d.push({handle:y,displayName:S,fields:T})}}s.push({blueprintName:e,name:l.handle,type:c,displayName:u,instructionText:f,maxItems:p,refFieldSetField:null,sets:d,import:h})}return s}function Ro(t,e,n){let r=TC.readFileSync(t,{encoding:"utf8"}),i=yC.parse(r),s=i.sections,o=[];if(typeof s!="undefined")for(let a of Object.keys(s)){let l=s[a];if(typeof l.fields!="undefined"){let c=hc(l,e,"fields",e,n);c.length>0&&(o=o.concat(c))}}else if(typeof i.fields!="undefined"){let a=hc(i,e,"fields",e,n);a.length>0&&(o=o.concat(a))}return o}var bC=K(Ti()),vC=K(require("fs"));function NC(t,e){let n=vC.readFileSync(t,{encoding:"utf8"}),r=bC.parse(n);if(typeof r=="undefined"||r===null)return[];let i=[];if(typeof r.fields!="undefined")for(let s of Object.keys(r.fields)){let o=r.fields[s],a=o.handle,l="",c="",u="",f=null,m=null,p=null;if(typeof o.import!="undefined"&&(p=o.import),typeof o.field!="undefined"&&(typeof o.field.display!="undefined"&&(l=o.field.display),typeof o.field.type!="undefined"&&(u=o.field.type),typeof o.field.instructions!="undefined"&&(c=o.field.instructions),typeof o.field.max_items!="undefined"&&(f=o.field.max_items),typeof o.field.sets!="undefined")){m=[];for(let d of Object.keys(o.field.sets)){let h=o.field.sets[d],y=hc(h,e,"fields","set:"+d,new Map),_="";typeof h.display!="undefined"&&(_=h.display),m.push({handle:d,displayName:_,fields:y})}}i.push({handle:a,instructionText:c,name:l,type:u,maxItems:f,sets:m,import:p})}return i}var PC=K(require("path")),IC=K(require("fs")),SC=K(Ti());function RC(t){let e=PC.basename(t).split(".").slice(0,-1).join("."),n=e;try{let r=IC.readFileSync(t,{encoding:"utf8"}),i=SC.parse(r);typeof i.title!="undefined"&&i.title!==null&&(n=i.title)}catch(r){console.error(r)}return{handle:e,title:n}}var CC=K(require("path")),AC=K(require("fs")),xC=K(Ti());function EC(t){let e=CC.basename(t).split(".").slice(0,-1).join("."),n=e,r="";try{let i=AC.readFileSync(t,{encoding:"utf8"}),s=xC.parse(i);typeof s!="undefined"&&s!==null&&(typeof s.title!="undefined"&&s.title!==null&&(n=s.title),typeof s.disk!="undefined"&&s.disk!==null&&(r=s.disk))}catch(i){console.error(i)}return{handle:e,title:n,diskName:r}}var wC=K(require("path")),OC=K(require("fs")),LC=K(Ti());function DC(t){let e=wC.basename(t).split(".").slice(0,-1).join("."),n=OC.readFileSync(t,{encoding:"utf8"}),r="",i="",s="",o=!1,a=[],l=null,c=null,u=[];try{let f=LC.parse(n);if(typeof f!="undefined"&&f!==null){if(typeof f.title!="undefined"&&f.title!==null&&(r=f.title),typeof f.inject!="undefined"&&f.inject!==null){let m=Object.keys(f.inject);for(let p=0;p<m.length;p++){let d=m[p];d=="view_model"?c=f.inject.view_model:u.push(d)}}if(typeof f.template!="undefined"&&f.template!==null&&(i=f.template),typeof f.layout!="undefined"&&f.layout!==null&&(s=f.layout),typeof f.taxonomies!="undefined"&&f.taxonomies!==null&&(a=Object.keys(f.taxonomies)),typeof f.structure!="undefined"&&f.structure!==null){o=!0;let m=f.structure,p=-1,d=!1;typeof m.root!="undefined"&&m.root!==null&&(d=m.root),typeof m.max_depth!="undefined"&&m.max_depth!==null&&(p=m.max_depth),l={root:d,maxDepth:p}}}}catch(f){console.error(f)}return{handle:e,title:r,template:i,layout:s,taxonomies:a,isStructure:o,structure:l,viewModel:c,injectFields:u}}var Tg=K(require("fs")),bg=K(Ti());function MC(t){let e=[],n=Tg.readFileSync(t,{encoding:"utf8"});try{let r=bg.parse(n);if(typeof r=="undefined"||r===null)return[];let i=Object.keys(r);for(let s=0;s<i.length;s++){let o=i[s],a=r[o],l=o;typeof a!="undefined"&&a!==null&&typeof a.title!="undefined"&&a.title!==null&&(l=a.title),e.push({handle:o,title:l})}}catch(r){console.error(r)}return e}function kC(t){let e=[],n=Tg.readFileSync(t,{encoding:"utf8"});try{let r=bg.parse(n);if(typeof r=="undefined"||r===null)return[];let i=Object.keys(r);for(let s=0;s<i.length;s++){let o=i[s],a=r[o],l=o;typeof a!="undefined"&&a!==null&&typeof a.title!="undefined"&&a.title!==null&&(l=a.title),e.push({handle:o,title:l})}}catch(r){console.error(r)}return e}var FC=K(require("fs")),qC=K(Ti());function VC(t){var r,i,s,o;let e=FC.readFileSync(t,{encoding:"utf8"}),n=[];try{let a=qC.parse(e);if(typeof a=="undefined"||a===null)return[];let l=Object.keys(a);for(let c=0;c<l.length;c++){let u=l[c],f=a[u],m=[],p="";if(typeof f!="undefined"&&f!==null){let d=Object.keys(f);for(let h=0;h<d.length;h++){let y=d[h],_=(i=(r=xe.instance)==null?void 0:r.getModifier(y))!=null?i:null,T=!1,S="";_!=null?(T=!0,S=(o=(s=xe.instance)==null?void 0:s.getProbableReturnType(_,!1))!=null?o:"",p=S):p="",m.push({hasReference:T,manifestsType:S,name:y,ref:_})}}n.push({name:u,manifestsType:p,modifiers:m})}}catch{}return n}var Co=class{constructor(){this.blueprintAugmentations=new Map;this.collectionAugmentations=new Map}reset(){this.blueprintAugmentations.clear(),this.collectionAugmentations.clear()}registerAugmentation(e){var n,r;for(let i=0;i<e.collections.length;i++)this.collectionAugmentations.has(e.collections[i])==!1&&this.collectionAugmentations.set(e.collections[i],[]),(n=this.collectionAugmentations.get(e.collections[i]))==null||n.push(e);for(let i=0;i<e.blueprints.length;i++)this.blueprintAugmentations.has(e.blueprints[i])==!1&&this.blueprintAugmentations.set(e.blueprints[i],[]),(r=this.blueprintAugmentations.get(e.blueprints[i]))==null||r.push(e)}registerAugmentations(e){for(let n=0;n<e.length;n++)this.registerAugmentation(e[n])}getType(e){return e.length==0?"*":e[0]}makeFields(e){let n=[];for(let r=0;r<e.length;r++){let i=e[r];for(let s=0;s<i.fields.length;s++){let o=i.fields[s];n.push(this.makeField(i.name,o))}}return n}makeField(e,n){return{blueprintName:e,displayName:n.name,instructionText:n.description,import:null,maxItems:null,name:n.name,refFieldSetField:null,sets:null,type:this.getType(n.returnTypes)}}getCollectionFields(e){if(this.collectionAugmentations.has(e)==!1)return[];let n=this.collectionAugmentations.get(e);return this.makeFields(n)}};Co.instance=null;(typeof Co.instance=="undefined"||Co.instance==null)&&(Co.instance=new Co);var gc=Co;var Ao=class{constructor(){this.viewModels=new Map}reset(){this.viewModels.clear()}registerViewModel(e){this.viewModels.set(e.fqn,e)}registerViewModels(e){for(let n=0;n<e.length;n++)this.registerViewModel(e[n])}hasViewModel(e){let n=Ln(e,"\\");return this.viewModels.has(n)}getViewModelFields(e){let n=e;if(n.startsWith("\\")&&(n=n.substr(1)),n=n.replace("\\\\","\\"),this.viewModels.has(n)==!1)return[];let r=[],i=this.viewModels.get(n);for(let s=0;s<i.fields.length;s++)r.push({blueprintName:n,displayName:i.fields[s],import:null,instructionText:null,maxItems:null,name:i.fields[s],refFieldSetField:null,sets:null,type:"*"});return r}};Ao.instance=null;(typeof Ao.instance=="undefined"||Ao.instance==null)&&(Ao.instance=new Ao);var _c=Ao;function BC(t){let e=[];for(let n=0;n<t.parameters.length;n++){let r=t.parameters[n];e.push({acceptsVariableInterpolation:!0,aliases:r.aliases,allowsVariableReference:!0,description:r.description,expectsTypes:r.expectsTypes,isDynamic:!1,isRequired:r.isRequired,name:r.name})}return e}function jC(t){let e=[];for(let n=0;n<t.parameters.length;n++){let r=t.parameters[n];e.push({description:r.description,name:r.name})}return e}var xo=class{constructor(){this.loadedManifest=null}hasManifest(){return this.loadedManifest!=null}getManifest(){return this.loadedManifest}load(e){var n,r,i,s,o,a,l,c,u,f,m;if(e!=null){(n=he.instance)==null||n.reset(),(r=xe.instance)==null||r.reset();for(let p=0;p<e.tags.length;p++)(i=he.instance)==null||i.registerTag({allowsArbitraryParameters:!0,allowsContentClose:!0,hideFromCompletions:!e.tags[p].showInCompletions,injectParentScope:!1,parameters:BC(e.tags[p]),requiresClose:!1,introducedIn:null,tagName:e.tags[p].compound});(s=_c.instance)==null||s.reset(),(o=gc.instance)==null||o.reset(),(a=xe.instance)==null||a.loadCoreModifiers(),(l=gc.instance)==null||l.registerAugmentations(e.augmentContributions),(c=_c.instance)==null||c.registerViewModels(e.viewModels);for(let p=0;p<e.modifiers.length;p++){let d=e.modifiers[p];if(typeof d!="undefined"){let h=d.expectsTypes,y=d.returnsTypes;(h==null||h.length==0)&&(h=["*"]),(y==null||y.length==0)&&(y=["*"]),(u=xe.instance)==null||u.registerModifier({acceptsType:h,canBeParameter:!0,description:d.description,docLink:"",name:d.name,returnsType:y,parameters:jC(d)})}}for(let p=0;p<e.packageManifests.length;p++){for(let d=0;d<e.packageManifests[p].tags.length;d++)(f=he.instance)==null||f.registerTag({allowsArbitraryParameters:!0,allowsContentClose:!0,hideFromCompletions:!e.packageManifests[p].tags[d].showInCompletions,injectParentScope:!1,introducedIn:null,parameters:BC(e.packageManifests[p].tags[d]),requiresClose:!1,tagName:e.packageManifests[p].tags[d].compound});for(let d=0;d<e.modifiers.length;d++){let h=e.packageManifests[p].modifiers[d];if(typeof h!="undefined"){let y=h.expectsTypes,_=h.returnsTypes;(y==null||y.length==0)&&(y=["*"]),(_==null||_.length==0)&&(_=["*"]),(m=xe.instance)==null||m.registerModifier({acceptsType:y,canBeParameter:!0,description:h.description,docLink:"",name:h.name,returnsType:_,parameters:jC(h)})}}}this.loadedManifest=e}}};xo.instance=null;(typeof xo.instance=="undefined"||xo.instance==null)&&(xo.instance=new xo);var Ds=xo;function vg(t,e,n){return{blueprintName:t,displayName:"",import:null,instructionText:"",maxItems:null,name:e,refFieldSetField:null,sets:null,type:n}}var Ng=class{constructor(e,n){this.isMocked=!1;this.rootPath="";this.fieldsetsPath="";this.viewsPath="";this.collectionBlueprintsPath="";this.formBlueprintsPath="";this.globalBlueprintsPath="";this.miscBlueprintsPath="";this.taxonomiesBlueprintsPath="";this.globalFiles=[];this.blueprintFiles=[];this.collectionNames=[];this.collections=new Map;this.fieldsets=new Map;this.forms=new Map;this.globals=new Map;this.taxonomies=new Map;this.fields=new Map;this.miscFields=new Map;this.blueprintRef=new Map;this.blueprintCollectionRef=new Map;this.templates=[];this.views=[];this.partialCache=[];this.partialViewNames=[];this.taxonomyNames=[];this.hasMacroFile=!1;this.macroFilePath="";this.collectionQueryScopes=[];this.taxonomyTerms=new Map;this.assets=new Map;this.userGroups=new Map;this.userRoles=new Map;this.navigationMenus=new Map;this.viewMap=new Map;this.routeNames=[];this.translationKeys=[];this.uniqueFormNames=[];this.uniquePartialViewNames=[];this.uniqueCollectionNames=[];this.uniqueTaxonomyNames=[];this.uniqueUserGroups=[];this.uniqueUserRoles=[];this.uniqueGlobalSettingNames=[];this.uniqueNavigationNames=[];this.uniqueAssetNames=[];this.publicAssets=[];this.packageMapping=new Map;this.statamicAddonMapping=new Map;this.blueprintFieldReference=[];this.baseResourcePath=n,this.sourceStructure=e,this.isMocked=e.isMocked,this.rootPath=e.rootPath,this.fieldsetsPath=e.fieldsetsPath,this.viewsPath=e.viewsPath,this.collectionBlueprintsPath=e.collectionBlueprintsPath,this.formBlueprintsPath=e.formBlueprintsPath,this.globalBlueprintsPath=e.globalBlueprintsPath,this.miscBlueprintsPath=e.miscBlueprintsPath,this.taxonomiesBlueprintsPath=e.taxonomiesBlueprintsPath,this.globalFiles=e.globalFiles,this.blueprintFiles=e.blueprintFiles,this.collectionNames=e.collectionNames,this.collections=e.collections,this.assets=e.assets,this.fieldsets=e.fieldsets,this.forms=e.forms,this.globals=e.globals,this.taxonomies=e.taxonomies,this.fields=e.fields,this.miscFields=e.miscFields,this.templates=e.templates,this.views=e.views,this.partialCache=e.partialCache,this.partialViewNames=e.partialViewNames,this.taxonomyNames=e.taxonomyNames,this.macroFilePath=e.macroFilePath,this.hasMacroFile=e.hasMacrosFile,this.collectionQueryScopes=e.collectionScopes,this.taxonomyTerms=e.taxonomyTerms,this.navigationMenus=e.navigationMenus,this.buildDetails(),typeof this.sourceStructure.restoreProperties!="undefined"&&this.sourceStructure.restoreProperties!=null&&(this.assets=this.sourceStructure.restoreProperties.assets,this.blueprintCollectionRef=this.sourceStructure.restoreProperties.blueprintCollectionRef,this.blueprintFieldReference=this.sourceStructure.restoreProperties.blueprintFieldReference,this.blueprintFiles=this.sourceStructure.restoreProperties.blueprintFiles,this.blueprintRef=this.sourceStructure.restoreProperties.blueprintRef,this.collectionNames=this.sourceStructure.restoreProperties.collectionNames,this.collectionQueryScopes=this.sourceStructure.restoreProperties.collectionQueryScopes,this.collections=this.sourceStructure.restoreProperties.collections,this.fields=this.sourceStructure.restoreProperties.fields,this.fieldsets=this.sourceStructure.restoreProperties.fieldsets,this.forms=this.sourceStructure.restoreProperties.forms,this.globalFiles=this.sourceStructure.restoreProperties.globalFiles,this.globals=this.sourceStructure.restoreProperties.globals,this.miscFields=this.sourceStructure.restoreProperties.miscFields,this.navigationMenus=this.sourceStructure.restoreProperties.navigationMenus,this.packageMapping=this.sourceStructure.restoreProperties.packageMapping,this.partialCache=this.sourceStructure.restoreProperties.partialCache,this.partialViewNames=this.sourceStructure.restoreProperties.partialViewNames,this.publicAssets=this.sourceStructure.restoreProperties.publicAssets,this.routeNames=this.sourceStructure.restoreProperties.routeNames,this.statamicAddonMapping=this.sourceStructure.restoreProperties.statamicAddonMapping,this.taxonomies=this.sourceStructure.restoreProperties.taxonomies,this.taxonomyNames=this.sourceStructure.restoreProperties.taxonomyNames,this.taxonomyTerms=this.sourceStructure.restoreProperties.taxonomyTerms,this.templates=this.sourceStructure.restoreProperties.templates,this.translationKeys=this.sourceStructure.restoreProperties.translationKeys,this.uniqueAssetNames=this.sourceStructure.restoreProperties.uniqueAssetNames,this.uniqueCollectionNames=this.sourceStructure.restoreProperties.uniqueCollectionNames,this.uniqueFormNames=this.sourceStructure.restoreProperties.uniqueFormNames,this.uniqueGlobalSettingNames=this.sourceStructure.restoreProperties.uniqueGlobalSettingNames,this.uniqueNavigationNames=this.sourceStructure.restoreProperties.uniqueNavigationNames,this.uniquePartialViewNames=this.sourceStructure.restoreProperties.uniquePartialViewNames,this.uniqueTaxonomyNames=this.sourceStructure.restoreProperties.uniqueTaxonomyNames,this.uniqueUserGroups=this.sourceStructure.restoreProperties.uniqueUserGroups,this.uniqueUserRoles=this.sourceStructure.restoreProperties.uniqueUserRoles,this.userGroups=this.sourceStructure.restoreProperties.userGroups,this.userRoles=this.sourceStructure.restoreProperties.userRoles,this.viewMap=this.sourceStructure.restoreProperties.viewMap,this.views=this.sourceStructure.restoreProperties.views)}getViewPath(){return this.viewsPath}export(){let e=this.sourceStructure;return e.restoreProperties=this.getRestoreRecords(),e}getRestoreRecords(){return{assets:this.assets,baseResourcePath:this.baseResourcePath,blueprintCollectionRef:this.blueprintCollectionRef,blueprintFieldReference:this.blueprintFieldReference,blueprintFiles:this.blueprintFiles,blueprintRef:this.blueprintRef,collectionNames:this.collectionNames,collectionQueryScopes:this.collectionQueryScopes,collections:this.collections,fields:this.fields,fieldsets:this.fieldsets,forms:this.forms,globalFiles:this.globalFiles,globals:this.globals,miscFields:this.miscFields,navigationMenus:this.navigationMenus,packageMapping:this.packageMapping,partialCache:this.partialCache,partialViewNames:this.partialViewNames,publicAssets:this.publicAssets,routeNames:this.routeNames,statamicAddonMapping:this.statamicAddonMapping,taxonomies:this.taxonomies,taxonomyNames:this.taxonomyNames,taxonomyTerms:this.taxonomyTerms,templates:this.templates,translationKeys:this.translationKeys,uniqueAssetNames:this.uniqueAssetNames,uniqueCollectionNames:this.uniqueCollectionNames,uniqueFormNames:this.uniqueFormNames,uniqueGlobalSettingNames:this.uniqueGlobalSettingNames,uniqueNavigationNames:this.uniqueNavigationNames,uniquePartialViewNames:this.uniquePartialViewNames,uniqueTaxonomyNames:this.uniqueTaxonomyNames,uniqueUserGroups:this.uniqueUserGroups,uniqueUserRoles:this.uniqueUserRoles,userGroups:this.userGroups,userRoles:this.userRoles,viewMap:this.viewMap,views:this.views}}reloadDetails(){return this}buildImportRefernece(e){if(e.sets!=null)for(let n=0;n<e.sets.length;n++){let r=e.sets[n];for(let i=0;i<r.fields.length;i++){let s=r.fields[i];if(s.import!=null){let o=s.import;if(this.sourceStructure.fieldsets.has(o)){let a=this.sourceStructure.fieldsets.get(o),l=Ob(a);for(let c=0;c<l.length;c++)this.buildImportRefernece(l[c]);r.fields.splice(i,1),r.fields=r.fields.concat(l)}}}}}buildDetails(){var s,o;let e=[],n=[],r=[],i=[];if(typeof this.sourceStructure.assets.forEach!="undefined"&&this.sourceStructure.assets.forEach((a,l)=>{i.push(l)}),typeof this.sourceStructure.forms.forEach!="undefined"&&this.sourceStructure.forms.forEach((a,l)=>{a.forEach(c=>{this.blueprintCollectionRef.set(c.blueprintName,l)}),e.push(l),this.blueprintRef.set(l,a)}),typeof this.sourceStructure.globals.forEach!="undefined"&&this.sourceStructure.globals.forEach((a,l)=>{a.forEach(c=>{this.blueprintCollectionRef.set(c.blueprintName,l)}),n.push(l),this.blueprintRef.set(l,a)}),typeof this.sourceStructure.miscFields.forEach!="undefined"&&this.sourceStructure.miscFields.forEach((a,l)=>{a.forEach(c=>{this.blueprintCollectionRef.set(c.blueprintName,l)}),this.blueprintRef.set(l,a)}),typeof this.sourceStructure.taxonomies.forEach!="undefined"&&this.sourceStructure.taxonomies.forEach((a,l)=>{a.forEach(c=>{this.blueprintCollectionRef.set(c.blueprintName,l)}),this.blueprintRef.set(l,a)}),typeof this.sourceStructure.fields.forEach!="undefined"&&this.sourceStructure.fields.forEach((a,l)=>{a.forEach(c=>{this.blueprintCollectionRef.set(c.blueprintName,l)}),this.blueprintRef.set(l,a)}),typeof this.sourceStructure.navigationMenus.forEach!="undefined"&&this.sourceStructure.navigationMenus.forEach((a,l)=>{r.push(l)}),typeof this.sourceStructure.views.forEach!="undefined"&&this.sourceStructure.views.forEach((a,l)=>{this.viewMap.set(a.documentUri,a)}),typeof this.sourceStructure.composerPackages.forEach!="undefined"&&this.sourceStructure.composerPackages.forEach(a=>{a.isStatamicAddon&&this.statamicAddonMapping.set(a.name,a),this.packageMapping.set(a.name,a)}),this.uniqueAssetNames=[...new Set(i)],this.uniqueNavigationNames=[...new Set(r)],this.uniqueGlobalSettingNames=[...new Set(n)],this.uniqueFormNames=[...new Set(e)],this.uniqueCollectionNames=[...new Set(this.collectionNames)],this.uniquePartialViewNames=[...new Set(this.partialViewNames)],this.uniqueTaxonomyNames=[...new Set(this.taxonomyNames)],(s=xe.instance)==null||s.resetMacros(),this.hasMacroFile){let a=VC(this.macroFilePath);a.length>0&&((o=xe.instance)==null||o.registerMacros(a))}this.uniqueUserRoles=[...new Set(this.sourceStructure.userRoleNames)],this.uniqueUserGroups=[...new Set(this.sourceStructure.userGroupNames)],this.sourceStructure.searchIndexes.length==0&&this.sourceStructure.searchIndexes.push("default");for(let a=0;a<this.sourceStructure.internalFieldReference.length;a++)this.buildImportRefernece(this.sourceStructure.internalFieldReference[a])}getWorkingDirectory(){return this.sourceStructure.workingDirectory}getOAuthProviders(){var e,n,r;return(r=(n=(e=Ds.instance)==null?void 0:e.getManifest())==null?void 0:n.config.oauthProviders)!=null?r:[]}getSiteNames(){var e,n,r;return(r=(n=(e=Ds.instance)==null?void 0:e.getManifest())==null?void 0:n.config.siteNames)!=null?r:["default"]}getSearchIndexes(){var n,r,i;let e=this.sourceStructure.searchIndexes;return((n=Ds.instance)==null?void 0:n.hasManifest())&&((i=(r=Ds.instance.getManifest())==null?void 0:r.config.searchIndexes)!=null?i:[]).forEach(o=>{e.includes(o)==!1&&e.push(o)}),e}getStatamicVersion(){return this.sourceStructure.statamicPackage!=null?this.sourceStructure.statamicPackage.version:""}hasComposerPackage(e){return this.packageMapping.has(e)}hasStatamicAddon(e){return this.statamicAddonMapping.has(e)}getAddonDetails(e){return this.hasStatamicAddon(e)?this.statamicAddonMapping.get(e):null}getComposerPackages(){return this.packageMapping}getComposerPackageDetails(e){return this.hasComposerPackage(e)?this.packageMapping.get(e):null}getPartials(){return this.sourceStructure.partialCache}getBlueprintNames(){let e=[];return this.blueprintRef.forEach((n,r)=>{r.startsWith("*")==!1&&e.includes(r)==!1&&e.push(r)}),e}getBlueprintDetails(e){if(this.blueprintRef.has(e)==!1){let n=[];return n.push(vg(e,"title","text")),n.push(vg(e,"content","markdown")),n.push(vg(e,"slug","slug")),n}return this.blueprintRef.get(e)}hasViewCollectionInjections(e){return this.viewMap.has(e)==!1?!1:this.viewMap.get(e).injectsCollections.length>0}getCollectionNames(){return this.collectionNames}getCollectionNamesForView(e){return this.viewMap.has(e)==!1?[]:this.viewMap.get(e).injectsCollections}getPublicAssetPaths(){return this.publicAssets}getTaxonomyTerms(e){return this.hasTaxonomy(e)?this.taxonomyTerms.get(e):[]}hasTaxonomy(e){return this.taxonomyNames.includes(e)}getCollectionQueryScopes(){var e,n,r,i;if((e=Ds.instance)==null?void 0:e.hasManifest()){let s=[],o=(i=(r=(n=Ds.instance)==null?void 0:n.getManifest())==null?void 0:r.queryScopes)!=null?i:[];for(let a=0;a<o.length;a++)s.push({name:o[a].name,description:o[a].description});return this.collectionQueryScopes.concat(o)}return this.collectionQueryScopes}getBlueprintFields(e){var r,i,s,o;let n=[];for(let a=0;a<e.length;a++){let l=e[a],c=this.getCollectionDetails(l);if(n=n.concat((i=(r=gc.instance)==null?void 0:r.getCollectionFields(l))!=null?i:[]),c!=null&&c.viewModel!=null){let u=(o=(s=_c.instance)==null?void 0:s.getViewModelFields(c.viewModel))!=null?o:[];u.length>0&&(n=n.concat(u))}if(c!=null&&c.injectFields!=null)for(let u=0;u<c.injectFields.length;u++)n.push({blueprintName:"*inject",displayName:c.injectFields[u],import:null,instructionText:null,maxItems:null,name:c.injectFields[a],refFieldSetField:null,sets:null,type:"*"});if(this.fields.has(l)){let u=this.fields.get(l);typeof u!="undefined"&&u!==null&&(n=n.concat(u))}}return n}getBlueprintField(e,n){let r=e;if(this.blueprintCollectionRef.has(r)&&(r=this.blueprintCollectionRef.get(r)),this.fields.has(r)){let i=this.fields.get(r);for(let s=0;s<i.length;s++)if(i[s].name==n)return i[s]}return null}getFields(){return this.fields}getTaxonomyBlueprintFields(e){let n=[];for(let r=0;r<e.length;r++){let i=e[r];if(this.taxonomies.has(i)){let s=this.taxonomies.get(i);typeof s!="undefined"&&s!==null&&(n=n.concat(s))}}return n}getUserFields(){return this.miscFields.has("user")?this.miscFields.get("user"):[]}getAssetBlueprintFields(e){return this.sourceStructure.assetFields.has(e)?this.sourceStructure.assetFields.get(e):[]}getUniqueTaxonomyNames(){return this.uniqueTaxonomyNames}getUniqueCollectionNames(){return this.uniqueCollectionNames}getUniquePartialNames(){return this.uniquePartialViewNames}getUniqueUserGroupNames(){return this.uniqueUserGroups}getUniqueUserRoleNames(){return this.uniqueUserRoles}getUniqueFormNames(){return this.uniqueFormNames}getAssetPresets(){var e,n,r;return(r=(n=(e=Ds.instance)==null?void 0:e.getManifest())==null?void 0:n.config.assetPresets)!=null?r:[]}getUniqueGlobalsNames(){return this.uniqueGlobalSettingNames}getUniqueNavigationMenuNames(){return this.uniqueNavigationNames}getUniqueAssetNames(){return this.uniqueAssetNames}getCollectionDetails(e){return this.collections.has(e)?this.collections.get(e):null}getFormBlueprintFields(e){if(this.forms.has(e)){let n=this.forms.get(e);return typeof n=="undefined"||n===null?[]:n}return[]}getRouteNames(){return this.routeNames}getTranslationKeys(){return this.translationKeys}getTemplateNames(){let e=[];return this.views.forEach(n=>{let r=Ve(n.relativeDisplayName,"/",".");e.includes(r)==!1&&e.push(r)}),e}getViews(){return this.views}findView(e){if(e.trim()=="")return null;let n=dC(e);for(let r=0;r<this.views.length;r++)if(this.views[r].path==n)return this.views[r];return null}findRelativeView(e){e=Ve(e,"\\.","/");for(let n=0;n<this.views.length;n++)if(this.views[n].relativeDisplayName==e)return this.views[n];return null}findPartial(e){e=Ve(e,"\\.","/");for(let n=0;n<this.views.length;n++)if(this.views[n].isPartial&&this.views[n].relativeDisplayName==e)return this.views[n];return null}};function JV(t){let e=Pi(t).split("/"),n=[],r=null;for(let i=0;i<e.length;i++){if(i==0){r=e[i],n.push(e[i]);continue}if(e[i]=="views"&&r=="resources")break;n.push(e[i]),r=e[i]}return n.join("/")}function ZV(t){return t.endsWith("/")==!1&&(t=t+"/"),t+"../"}function eB(t){return t+"composer.lock"}function tB(t){return t+"vendor/"}function nB(t){return t+"/blueprints/collections/"}function rB(t){return t+"/blueprints/taxonomies/"}function iB(t){return t+"/blueprints/assets/"}function sB(t){return t+"/blueprints/globals/"}function oB(t){return t+"/blueprints/forms/"}function aB(t){return t+"/blueprints/"}function lB(t){return t+"/macros.yaml"}function cB(t){return t+"/views/"}function uB(t){return t+"/users/"}function fB(t){return t+"/forms/"}function pB(t){return t+"/fieldsets"}function yc(t){return t+"/../content/"}function dB(t){return yc(t)+"assets/"}function mB(t){return yc(t)+"collections/"}function hB(t){return yc(t)+"taxonomies/"}function gB(t){return yc(t)+"navigation/"}function Tc(t,e,n){if(!Bn.existsSync(t))return[];let r=n||[],i=Bn.readdirSync(t);for(let s=0;s<i.length;s++){let o=Qt.join(t,i[s]);Bn.lstatSync(o).isDirectory()?r=r.concat(Tc(o,e,n)):o.indexOf(e)>=0&&r.push(o)}return[...new Set(r)]}function Qi(t,e){if(!Bn.existsSync(t))return[];let n=[],r=Bn.readdirSync(t);for(let i=0;i<r.length;i++){let s=Qt.join(t,r[i]);Bn.lstatSync(s).isDirectory()==!1&&n.push(s)}return[...new Set(n)]}function _B(t){let e=Tc(t,".html",[]),n=t.length,r=[];for(let i=0;i<e.length;i++){let s=e[i],o=s.substr(n),a=Pi(Qt.dirname(o)),l=Qt.basename(o),c=l,u=!1,f=!1,m=!1,p="";l.startsWith("_")&&(u=!0,c=c.substr(1)),l.endsWith(".antlers.html")?(f=!0,c=c.substr(0,c.length-13)):l.endsWith(".blade.php")?(f=!1,m=!0):(f=!1,m=!1),a!="."?p=a+"/"+c:p=c,r.push({displayName:c,fileName:l,documentUri:yg(s),originalDocumentUri:yg(s),isAntlers:f,isBlade:m,isPartial:u,path:Pi(s),relativeDisplayName:p,relativeFileName:l,relativePath:o,injectsCollections:[],injectsParameters:[],templateName:Ve(p,"/","."),varReferenceNames:new Map,document:null})}return r}function Pg(t){let e=JV(t),n=nB(e),r=cB(e),i=fB(e),s=oB(e),o=pB(e),a=rB(e),l=sB(e),c=aB(e),u=yc(e),f=gB(e),m=hB(e),p=uB(e),d=mB(e),h=dB(e),y=iB(e),_=Tc(n,".yaml",[]),T=_B(r),S=lB(e),g=ZV(e),E=eB(g),H=tB(g),B=!1,ae=null,ce=gg.getInstalledPackages(E,g,H);for(let N=0;N<ce.length;N++)if(ce[N].name=="statamic/cms"){ae=ce[N];break}let Te=new Map,oe=new Map,Ge=new Map,bt=new Map,Se=new Map,Q=new Map,Xe=[],at=new Map,kt=[],Fe=[],lt=[],Si=[],Ji=[],re=new Map,ie=new Map,fe=[],ee=new Map,be=[],vt=new Map,Pr=new Map,Eo=new Map,wo=new Map;S.trim().length>0&&(B=Bn.existsSync(S));for(let N=0;N<T.length;N++)T[N].isPartial&&(lt.push(T[N]),Si.push(T[N].relativeDisplayName));let ii=Qi(h,".yaml");for(let N=0;N<ii.length;N++)if(rr(ii[N])){let I=EC(ii[N]);Eo.set(I.handle,I)}let Ms=Qi(d,".yaml");for(let N=0;N<Ms.length;N++)if(rr(Ms[N])){let I=DC(Ms[N]);Pr.set(I.handle,I)}let Oo=p+"roles.yaml",Lo=p+"groups.yaml";if(Bn.existsSync(Oo)){let N=MC(Oo);for(let I=0;I<N.length;I++)ee.set(N[I].handle,N[I]),be.push(N[I].handle)}if(Bn.existsSync(Lo)){let N=kC(Lo);for(let I=0;I<N.length;I++)ie.set(N[I].handle,N[I]),fe.push(N[I].handle)}let jn=Tc(o,".yaml",[]),Pt=[];for(let N=0;N<jn.length;N++)if(rr(jn[N])){let I=Qt.basename(jn[N]).split(".").slice(0,-1).join(".");if(I!=null&&I.trim().length>0){let b=NC(jn[N],I);Te.set(I,b)}}let Ri=Tc(a,".yaml",[]);for(let N=0;N<Ri.length;N++)if(rr(Ri[N])){let I=Qt.basename(Ri[N]).split(".").slice(0,-1).join("."),b=Qt.basename(Qt.dirname(Ri[N]));if(I!=null&&I.trim().length>0){oe.set(I,b);let A=Ro(Ri[N],I,Te);Se.set(I,A),Pt=Pt.concat(A),Fe.includes(I)==!1&&Fe.push(I)}}if(Fe.length>0){for(let N=0;N<Fe.length;N++)if(oe.has(Fe[N])){let I=oe.get(Fe[N]);if(typeof I!="undefined"&&I!==null){let b=m+I+"/";if(Bn.existsSync(b)){let A=Qi(b,".yaml"),x=[];for(let R=0;R<A.length;R++)if(rr(A[R])){let v=Qt.basename(A[R]).split(".").slice(0,-1).join(".");x.push(v)}re.set(Fe[N],x)}}}}let Zi=Qi(c,".yaml");for(let N=0;N<Zi.length;N++)if(rr(Zi[N])){let I=Qt.basename(Zi[N]).split(".").slice(0,-1).join(".");if(I!=null&&I.trim().length>0){let b=Ro(Zi[N],I,Te);Q.set(I,b),Pt=Pt.concat(b)}}for(let N=0;N<_.length;N++)if(rr(_[N])){let I=Qt.basename(_[N]).split(".").slice(0,-1).join("."),b=Ro(_[N],I,Te),A=Pi((0,UC.dirname)(_[N])).split("/").pop();Pt=Pt.concat(b),A!=null&&A.trim().length>0&&(I=A,kt.includes(A)==!1&&kt.push(A)),at.set(I,b)}let Ir=Qi(f,".yaml");for(let N=0;N<Ir.length;N++)if(rr(Ir[N])){let I=RC(Ir[N]);vt.set(I.handle,I)}let Ci=Qi(l,".yaml");for(let N=0;N<Ci.length;N++)if(rr(Ci[N])){let I=Qt.basename(Ci[N]).split(".").slice(0,-1).join("."),b=Ro(Ci[N],I,Te);Pt=Pt.concat(b),bt.set(I,b)}if(Bn.existsSync(y)){let N=Qi(y,".yaml");for(let I=0;I<N.length;I++)if(rr(N[I])){let b=Qt.basename(N[I]).split(".").slice(0,-1).join("."),A=Ro(N[I],b,Te);Pt=Pt.concat(A),wo.set(b,A)}}let Ai=Qi(s,".yaml"),xi=Qi(i,".yaml"),si=[];for(let N=0;N<xi.length;N++)if(rr(xi[N])){let I=Qt.basename(xi[N]).split(".").slice(0,-1).join(".");si.includes(I)||si.push(I)}for(let N=0;N<Ai.length;N++)if(rr(Ai[N])){let I=Qt.basename(Ai[N]).split(".").slice(0,-1).join("."),b=Ro(Ai[N],I,Te);Pt=Pt.concat(b),Ge.set(I,b)}for(let N=0;N<si.length;N++)Ge.has(si[N])||Ge.set(si[N],[]);let ir=new Map;for(let N=0;N<T.length;N++)ir.set(T[N].relativeDisplayName,T[N]);return Pr.forEach((N,I)=>{N.template.trim().length>0&&ir.has(N.template)&&ir.get(N.template).injectsCollections.push(N.handle)}),new GC({composerPackages:ce,statamicPackage:ae,isMocked:!1,workingDirectory:g,taxonomyPluralizedMapping:oe,collectionScopes:Ji,blueprintFiles:_,collectionBlueprintsPath:n,collections:Pr,rootPath:e,fields:at,fieldsetsPath:o,fieldsets:Te,collectionNames:kt,formBlueprintsPath:i,taxonomiesBlueprintsPath:a,globalBlueprintsPath:l,miscBlueprintsPath:c,viewsPath:r,views:T,globalFiles:[],forms:Ge,globals:bt,miscFields:Q,taxonomies:Se,taxonomyNames:Fe,templates:Xe,partialCache:lt,partialViewNames:Si,macroFilePath:S,hasMacrosFile:B,contentDirectory:u,taxonomyContentDirectory:m,taxonomyTerms:re,assets:Eo,assetFields:wo,oauthProviders:[],navigationMenus:vt,userPermissionsPath:p,userGroupNames:fe,userGroups:ie,userRoleNames:be,userRoles:ee,searchIndexes:[],internalFieldReference:Pt,restoreProperties:null},t)}var GC=class extends Ng{reloadDetails(){return Pg(this.baseResourcePath)}};var Ig=class{static getReferences(e){var n;if(e==null)return null;if(((n=e.context)==null?void 0:n.feature)instanceof te){let r=e.context.feature;if(r.scopeVariable==null||r.scopeVariable.sourceField==null)return null;let i=new Map;Ne.getDocuments().forEach(o=>{let a=o.getAllAntlersNodes(),l=[];a.forEach(c=>{c.runtimeNodes.forEach(u=>{var f;(u.scopeVariable!=null&&u.scopeVariable==r.scopeVariable||u.scopeVariable!=null&&u.scopeVariable.sourceName==((f=r.scopeVariable)==null?void 0:f.sourceName)&&u instanceof te&&u.name==r.name)&&l.push(u)})}),i.set(o.documentUri,l)});let s=[];return i.forEach((o,a)=>{o.forEach(l=>{s.push({uri:a,range:_o(l)})})}),s}return[]}};function WC(t){var r;if(((r=se.instance)==null?void 0:r.hasStructure())==!1)return null;let e=decodeURIComponent(t.textDocument.uri);if(Ne.hasDocument(e)==!1)return null;let n=qn(t.position,e);return Ig.getReferences(n)}function HC(t){var r;let e=decodeURIComponent(t.textDocument.uri),n=qn(t.position,e);if(n==null)return null;if(((r=n.context)==null?void 0:r.feature)instanceof te){let i=n.context.feature,s=n.antlersDocument.getAllAntlersNodes();if(i.scopeVariable==null||i.scopeVariable.sourceField==null)return null;let o=[],a=[];return s.forEach(l=>{l.runtimeNodes.forEach(c=>{var u;(c.scopeVariable!=null&&c.scopeVariable==i.scopeVariable||c.scopeVariable!=null&&c.scopeVariable.sourceName==((u=i.scopeVariable)==null?void 0:u.sourceName)&&c instanceof te&&c.name==i.name)&&o.push(c)})}),o.length>0&&o.push(i),o.forEach(l=>{a.push({range:_o(l)})}),a}return[]}var YC=class{constructor(){this._nodes=[];this._extractedAntlers=new Map;this._buffer="";this._shouldFormat=!0}load(e){let n=Fn.fromText(e);return this._nodes=n.getAllNodes(),this._buffer=n.getParsedContent(),(!n.isValid()||!n.isFormattingEnabled())&&(this._shouldFormat=!1),this._nodes.forEach(r=>{if(r instanceof U){let i=r.getNodeDocumentText(),s="ANTLERS:"+r.refId;this._buffer=this._buffer.replace(i,s),this._extractedAntlers.set(s,i)}}),this}getShouldFormat(){return this._shouldFormat}getBuffer(){return this._buffer}getMapping(){return this._extractedAntlers}transform(e){return this._buffer=e(this._buffer),this}getTemplate(){let e=this._buffer;return this._extractedAntlers.forEach((n,r)=>{e=e.replace(r,n)}),e}},KC=YC;var Ja=K(Zt());var $C=K(require("fs")),zC=K(require("path"));var Rg=class{constructor(){this.activeRequest=null}getName(e){return"Extract to Partial"}canHandle(e){return e.selectedText.trim().length>0}refactor(e){this.activeRequest=e,Rg.currentAction=this;let n=this.getName(e);return[Ja.CodeAction.create(n+"...",Ja.Command.create(n,"antlers.extractToPartial",e.documentUri),Ja.CodeActionKind.RefactorExtract)]}completeRefactor(e){var r;let n=(r=se.instance)==null?void 0:r.getStructure();if(n!=null&&this.activeRequest!=null){let i=Pi(n.getViewPath()),s=Pi(e.fsPath);if(s.startsWith(i)){$C.writeFileSync(e.fsPath,this.activeRequest.selectedText);let o=s.substring(i.length),a=zC.basename(s);a.startsWith("_")&&(a=a.substr(1)),o=o.substr(0,o.length-a.length),a.endsWith(".antlers.html")?a=a.substring(0,a.length-13):a.endsWith(".antlers.xml")||a.endsWith("antlers.php")?a=a.substring(0,a.length-12):a.endsWith(".blade.php")?a=a.substring(0,a.length-10):a.endsWith(".html")&&(a=a.substring(0,a.length-5)),o.length>1&&o.endsWith("/")==!1&&(o=o+"/");let l="{{ partial:"+o+a+" }}",c={range:this.activeRequest.actionParams.range,newText:l},u={changes:{[this.activeRequest.actionParams.textDocument.uri]:[c]}};Cg(u)}}}},Sg=Rg;Sg.currentAction=null;var bc=Sg;var XC=K(Zt());var dp=class{static isFlatCondition(e){var i;if(e.chain.length>1&&((i=e.logicBranches[1].head)==null?void 0:i.getTagName())!="else")return!1;let n=e.logicBranches[0].nodes,r=!1;for(let s=0;s<n.length;s++)if(n[s]instanceof qt){r=!0;break}if(r)for(let s=0;s<n.length;s++){let o=n[s];if(o instanceof dt&&o.content.trim().length!=0)return!1}for(let s=0;s<n.length;s++){let o=n[s];if(o instanceof qt&&!dp.isFlatCondition(o)||o instanceof U&&!On.isConditionalStructure(o)&&o.isClosingTag)return!1}return!0}static getCleanChildren(e){let n=[],r=[];for(let i=0;i<e.nodes.length;i++){let s=e.nodes[i];if(s.startPosition==null)break;if(!r.includes(s.startPosition.index))s instanceof dt?s.content.trim().length>0&&n.push(s):n.push(s),r.push(s.startPosition.index);else break}return n.pop(),n}static unwrapFlattenedConditions(e){let n={body:[],conditions:[]};return e.logicBranches.forEach(r=>{if(r.head==null)return;n.conditions.push(r.head);let i=this.getCleanChildren(r);if(i.length==1&&i[0]instanceof qt){let s=this.unwrapFlattenedConditions(i[0]);n.conditions=n.conditions.concat(s.conditions),n.body=n.body.concat(s.body)}else i.length==1?n.body.push(i[0]):i.forEach(s=>{if(s instanceof qt){let o=this.unwrapFlattenedConditions(s);n.conditions=n.conditions.concat(o.conditions),n.body=n.body.concat(o.body)}else{if(s instanceof U&&On.isConditionalStructure(s))return;n.body.push(s)}})}),n}},mp=dp;var hp=class{constructor(e){this.refactoredStyle=0;this.params=e}isSimpleElse(e){var n;return e.logicBranches.length==2&&((n=e.logicBranches[1].head)==null?void 0:n.getTagName())=="else"}getRefactorMode(){return this.refactoredStyle}refactor(e){let n="";return this.params.refactorNested?(n=this.createdNestedGatekeeper(e),this.refactoredStyle=1):e.logicBranches.length==1?(n=this.createGatekeeper(e),this.refactoredStyle=1):this.isSimpleElse(e)&&(n=this.createTernary(e),this.refactoredStyle=0),this.params.isInInterpolation?"{"+n+"}":"{{ "+n+" }}"}createdNestedGatekeeper(e){let n=mp.unwrapFlattenedConditions(e),r=[],i=[];n.conditions.forEach(a=>{let l=a.getContent().trim();a.runtimeNodes.length>1&&(l.startsWith("(")==!1&&(l="("+l),l.endsWith(")")==!1&&(l=l+")"),this.shouldAddEndingParenthesis(a)&&(l+=")")),r.push(l)}),n.body.forEach(a=>{a instanceof U?i.push(a.getNodeDocumentText()):a instanceof dt&&i.push(a.content)}),i.length>0&&(i[0]=i[0].trimLeft(),i[i.length-1]=i[i.length-1].trimRight());let s=r.join(" && "),o=i.join("");return"("+s+") ?= "+this.convertToString(o)}convertToString(e){let n=e;return n=Ve(n,"{{","{"),n=Ve(n,"}}","}"),"'"+Ve(n,"'","\\'")+"'"}createTernary(e){var l;let n=e.logicBranches[0].head,r=e.logicBranches[1].head,i=this.convertToString((l=n.getInnerDocumentText())!=null?l:""),s=this.convertToString(r.getInnerDocumentText()),a=n.getContent().trim();return a.startsWith("(")==!1&&(a="("+a),a.endsWith(")")==!1&&(a=a+")"),this.shouldAddEndingParenthesis(n)&&(a+=")"),a+" ? "+i+" : "+s}shouldAddEndingParenthesis(e){return e.originalNode==null?!1:e.originalNode.getTagName()=="unless"}createGatekeeper(e){var o;let n=e.logicBranches[0].head,r=(o=n.getInnerDocumentText())!=null?o:"",i=this.convertToString(r),s="";return n.runtimeNodes.length>1?s="("+n.getContent().trim()+")":s=n.getContent(),s.trim()+" ?= "+i}};var QC=class{constructor(){this.condition=null;this.isNestedConditions=!1;this.refactorStyle=0}getName(e){return this.refactorStyle==1?"Convert Condition to Gatekeeper operator":"Convert Condition to Ternary"}canHandle(e){if(e.selectedDocument.hasUnclosedStructures()||e.selectedDocument.hasUnclosedStructures()||e.selectedDocument.errors.hasAny())return!1;let n=e.selectedDocument.getAllAntlersNodes(),r=new Ca,i=0,s=0;for(let a=0;a<n.length;a++)if(n[a].isClosingTag){if(On.isConditionalStructure(n[a])){s+=1;continue}if(i+=1,i>1)return!1}let o=r.associate(n,e.ownerDocument.getDocumentParser());if(o.length==1&&o[0]instanceof qt){if(this.condition=o[0],this.isNestedConditions=!1,s>2){if(!mp.isFlatCondition(this.condition))return this.isNestedConditions=!1,!1;this.isNestedConditions=!0}return!0}return!1}refactor(e){if(this.condition==null)return[];let n=[],r=!1;e.params.currentNode!=null&&e.params.currentNode.getTagName()!="if"&&(r=!0);let i=new hp({isInInterpolation:r,refactorNested:this.isNestedConditions}),s=i.refactor(this.condition);this.refactorStyle=i.getRefactorMode();let o={range:e.actionParams.range,newText:s};return n.push({title:this.getName(e),kind:XC.CodeActionKind.RefactorRewrite,edit:{changes:{[e.documentUri]:[o]}}}),n}},JC=QC;var ZC=class{static getRefactors(e){let n=[],r=[];return r.push(new bc),r.push(new JC),r.forEach(i=>{i.canHandle(e)&&i.refactor(e).forEach(s=>{n.push(s)})}),n}},e0=ZC;function t0(t){var l;if(((l=se.instance)==null?void 0:l.hasStructure())==!1)return[];Ne.refreshDocumentState();let e=decodeURIComponent(t.textDocument.uri);if(Ne.hasDocument(e)==!1)return[];if(!ti.has(e))return[];let n=t.range.start,r=qn(n,e,Yi.showGeneralSnippetCompletions);if(r==null)return[];let i=ti.get(e),s=i.getText(t.range),o=Fn.fromText(s.trim()),a={params:r,selectedText:s,selectedDocument:o,ownerDocument:Ne.getDocument(e),documentUri:t.textDocument.uri,actionParams:t};return e0.getRefactors(a)}var yB=dg();var gp={formatFrontMatter:!1,showGeneralSnippetCompletions:!0,trace:{server:"off"},formatterIgnoreExtensions:["xml"],languageVersion:"runtime"},Yi=gp;function _p(t){Yi=t}function lp(){return Yi}var ke=(0,Mt.createConnection)(Mt.ProposedFeatures.all),Za=new Mt.TextDocuments(r0.TextDocument);fC(__dirname);var Ag=!1,i0=!1,TB=!1,xg;(e=>e.type=new Mt.RequestType("antlers/loadManifest"))(xg||(xg={}));var Eg;(e=>e.type=new Mt.RequestType("antlers/reindex"))(Eg||(Eg={}));var wg;(e=>e.type=new Mt.RequestType("antlers/lockedits"))(wg||(wg={}));var Og;(e=>e.type=new Mt.RequestType("antlers/forcedFormat"))(Og||(Og={}));var Lg;(e=>e.type=new Mt.RequestType("antlers/projectUpdate"))(Lg||(Lg={}));var Dg;(e=>e.type=new Mt.RequestType("antlers/transform"))(Dg||(Dg={}));var Mg;(e=>e.type=new Mt.RequestType0("antlers/semanticTokenLegend"))(Mg||(Mg={}));var kg;(e=>e.type=new Mt.RequestType("antlers/semanticTokens"))(kg||(kg={}));ke.onInitialize(t=>{let e=t.capabilities;gC(),Ag=!!(e.workspace&&!!e.workspace.configuration),i0=!!(e.workspace&&!!e.workspace.workspaceFolders),TB=!!(e.textDocument&&e.textDocument.publishDiagnostics&&e.textDocument.publishDiagnostics.relatedInformation);let n={capabilities:{textDocumentSync:Mt.TextDocumentSyncKind.Full,completionProvider:{resolveProvider:!0,triggerCharacters:[":",'"',"'","{","/","|","@"," "]},documentFormattingProvider:{},foldingRangeProvider:{},signatureHelpProvider:{triggerCharacters:[":",","]},documentLinkProvider:{},hoverProvider:{},definitionProvider:{},documentSymbolProvider:{},referencesProvider:{},documentHighlightProvider:{},codeActionProvider:{},executeCommandProvider:{commands:["antlers.extractToPartial"]}}};return i0&&(n.capabilities.workspace={workspaceFolders:{supported:!0}}),n});ke.onInitialized(()=>{Ag&&ke.client.register(Mt.DidChangeConfigurationNotification.type,void 0);let t=ke.workspace.getConfiguration("html").then(function(n){Vh(n)}),e=ke.workspace.getConfiguration("antlersLanguageServer").then(function(n){n!=null?_p(n):_p(gp)})});ke.onExecuteCommand(async t=>{var e;t.command=="antlers.extractToPartial"&&bc.currentAction!=null&&((e=t.arguments)==null?void 0:e.length)==3&&bc.currentAction.completeRefactor({path:t.arguments[1],fsPath:t.arguments[2]})});ke.onDidChangeConfiguration(t=>{let e=ke.workspace.getConfiguration("html").then(function(r){Vh(r)}),n=ke.workspace.getConfiguration("antlersLanguageServer").then(function(r){r!=null?_p(r):_p(gp)});Za.all().forEach(qg),Za.all().forEach(Fh),Za.all().forEach(r=>{yp(encodeURIComponent(r.uri))}),Za.all().forEach(r=>{qh(r,ke)})});ke.onDocumentLinks(t=>{let e=decodeURIComponent(t.textDocument.uri);return fg.getDocumentLinks(e)});var Fg=!1;ke.onRequest(wg.type,()=>{Fg=!0});Za.onDidChangeContent(t=>{if(Fg){Fg=!1;return}qg(t.document),Fh(t.document),yp(decodeURIComponent(t.document.uri)),qh(t.document,ke)});ke.onDidChangeWatchedFiles(t=>{});ke.onHover(t=>iC(t));ke.onDocumentSymbol(t=>uC(t));ke.onDocumentHighlight(HC);ke.onReferences(WC);ke.onDefinition(sC);ke.onFoldingRanges(AI);ke.onSignatureHelp(rC);ke.onDocumentFormatting(tC);ke.onCompletion(SI);ke.onCompletionResolve(RI);Za.listen(ke);ke.onRequest(Mg.type,t=>ug().legend);ke.onRequest(Eg.type,()=>{hg()});ke.onRequest(Og.type,t=>{let e=lp(),n=rc.format;return new Qa({tabSize:t.tabSize,formatFrontMatter:e.formatFrontMatter,insertSpaces:t.insertSpaces,formatExtensions:[],maxStatementsPerLine:3,htmlOptions:n}).formatDocument(Fn.fromText(t.content))});ke.onRequest(Dg.type,t=>{let e=new KC;e.load(t.content);let n=[];return e.getMapping().forEach((i,s)=>{n.push({find:s,replace:i})}),{shouldParse:e.getShouldFormat(),transformedText:e.getBuffer(),replacements:n}});ke.onCodeAction(t0);ke.onRequest(Lg.type,()=>{var t,e,n,r,i;if((t=se.instance)==null||t.setDirtyState(!0),(e=se.instance)==null||e.reloadDetails(),(n=se.instance)==null?void 0:n.hasStructure()){let s=(r=se.instance)==null?void 0:r.getStructure();Ne.setProject(s),(i=oo.instance)==null||i.updateProject(s)}});ke.onRequest(xg.type,()=>{});ke.onRequest(kg.type,(t,e)=>{let n=decodeURIComponent(t.textDocument.uri);if(ti.has(n)){let r=ti.get(n);return ug().getSemanticTokens(r,t.ranges)}return null});async function qg(t){var i,s,o,a,l,c,u,f,m;if((i=se.instance)==null?void 0:i.hasStructure()){se.instance.reloadDetails(),Ne.setProject(se.instance.getStructure());return}let e=decodeURIComponent(t.uri),n=yB(e),r=Pg(n);if((s=se.instance)==null||s.setActiveProject(r),((o=se.instance)==null?void 0:o.hasStructure())&&(Ne.setProject((a=se.instance)==null?void 0:a.getStructure()),(c=oo.instance)==null||c.updateProject((l=se.instance)==null?void 0:l.getStructure())),(u=wr.instance)==null||u.clearPartialReferences(e),(f=ni.instance)==null||f.clearIssues(e),(m=se.instance)==null?void 0:m.hasStructure()){let p=se.instance.getStructure().getViews();for(let d=0;d<p.length;d++){let h=p[d];XS(h.documentUri,n0.readFileSync(h.path,{encoding:"utf8"})),yp(h.documentUri)}}}function Cg(t){let e={edit:t};ke.sendRequest("workspace/applyEdit",e)}function yp(t){var e,n,r,i,s,o,a,l,c,u,f,m,p,d,h,y;if(t=decodeURIComponent(t),Ne.hasDocument(t)){let _=Ne.getDocument(t),T=_.getAllAntlersNodes();(e=ni.instance)==null||e.clearIssues(t),(n=wr.instance)==null||n.clearAllReferences(t),Xs.clear(t);let S=[],g=[],E=[],H=[],B=[],ae=[];for(let Te=0;Te<T.length;Te++){let oe=T[Te],Ge=oe.getTagName();if(Ge==="yield"||Ge=="yields"){let Se=oe.reference;Se!=null&&Se instanceof Cl&&S.push(Se)}else if(Ge==="partial")E.push(oe);else if(Ge==="cache")H.push(oe);else if(oe.runtimeName()=="session:set"||oe.runtimeName()=="session:flash"){let Se=oe.reference;Se!=null&&Se instanceof Zs&&g.push(Se)}if(oe.modifiers!=null){let Se=oe.modifiers.getModifierValue("partial");if(Se!=null){let Q=(r=se.instance)==null?void 0:r.getStructure().findPartial(Se);Q!=null&&((i=wr.instance)==null||i.clearRemovesPageScope(Q.originalDocumentUri),(s=wr.instance)==null||s.setRemovesPageScope(Q.originalDocumentUri,oe))}}if(oe.isTagNode){let Se=(o=he.instance)==null?void 0:o.findTag(oe.runtimeName());Se!=null&&Se.requiresClose&&oe.isClosedBy==null&&oe.isClosingTag==!1&&oe.isSelfClosing==!1&&B.push(oe)}else oe.manifestType==="array"&&oe.isClosedBy==null&&B.push(oe);let bt=(l=(a=ni.instance)==null?void 0:a.checkNode(oe))!=null?l:[];bt.length>0&&(ae=ae.concat(bt))}let ce=(u=(c=ni.instance)==null?void 0:c.checkDocument(_))!=null?u:[];ce.length>0&&(ae=ae.concat(ce)),B.length>0&&Xs.registerNodes(t,B),(f=oo.instance)==null||f.registerInjections(t,E),(m=Vu.instance)==null||m.registerDocumentSections(t,S),(p=wr.instance)==null||p.registerPartialReferences(t,E),(d=wr.instance)==null||d.registerCacheReferences(t,H),(h=ni.instance)==null||h.registerDiagnostics(t,ae),(y=to.instance)==null||y.registerDocumentSessionVariables(t,g)}}ke.listen();module.exports=f0(bB);0&&(module.exports={analyzeStructures,collectProjectDetails,connection,defaultSettings,getAntlersSettings,globalSettings,hasConfigurationCapability,requestEdits});
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
