#!/usr/bin/env node
"use strict";var DA=Object.create;var jc=Object.defineProperty;var FA=Object.getOwnPropertyDescriptor;var OA=Object.getOwnPropertyNames;var LA=Object.getPrototypeOf,kA=Object.prototype.hasOwnProperty;var Z=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),MA=(t,e)=>{for(var i in e)jc(t,i,{get:e[i],enumerable:!0})},Uy=(t,e,i,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of OA(e))!kA.call(t,n)&&n!==i&&jc(t,n,{get:()=>e[n],enumerable:!(r=FA(e,n))||r.enumerable});return t};var ee=(t,e,i)=>(i=t!=null?DA(LA(t)):{},Uy(e||!t||!t.__esModule?jc(i,"default",{value:t,enumerable:!0}):i,t)),qA=t=>Uy(jc({},"__esModule",{value:!0}),t);var Wy=Z((Gy,Uc)=>{(function(t){if(typeof Uc=="object"&&typeof Uc.exports=="object"){var e=t(require,Gy);e!==void 0&&(Uc.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function l(u,c,f,d){this._uri=u,this._languageId=c,this._version=f,this._content=d,this._lineOffsets=void 0}return Object.defineProperty(l.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),l.prototype.getText=function(u){if(u){var c=this.offsetAt(u.start),f=this.offsetAt(u.end);return this._content.substring(c,f)}return this._content},l.prototype.update=function(u,c){for(var f=0,d=u;f<d.length;f++){var p=d[f];if(l.isIncremental(p)){var m=a(p.range),T=this.offsetAt(m.start),P=this.offsetAt(m.end);this._content=this._content.substring(0,T)+p.text+this._content.substring(P,this._content.length);var _=Math.max(m.start.line,0),g=Math.max(m.end.line,0),y=this._lineOffsets,E=s(p.text,!1,T);if(g-_===E.length)for(var L=0,C=E.length;L<C;L++)y[L+_+1]=E[L];else E.length<1e4?y.splice.apply(y,[_+1,g-_].concat(E)):this._lineOffsets=y=y.slice(0,_+1).concat(E,y.slice(g+1));var B=p.text.length-(P-T);if(B!==0)for(var L=_+1+E.length,C=y.length;L<C;L++)y[L]=y[L]+B}else if(l.isFull(p))this._content=p.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received")}this._version=c},l.prototype.getLineOffsets=function(){return this._lineOffsets===void 0&&(this._lineOffsets=s(this._content,!0)),this._lineOffsets},l.prototype.positionAt=function(u){u=Math.max(Math.min(u,this._content.length),0);var c=this.getLineOffsets(),f=0,d=c.length;if(d===0)return{line:0,character:u};for(;f<d;){var p=Math.floor((f+d)/2);c[p]>u?d=p:f=p+1}var m=f-1;return{line:m,character:u-c[m]}},l.prototype.offsetAt=function(u){var c=this.getLineOffsets();if(u.line>=c.length)return this._content.length;if(u.line<0)return 0;var f=c[u.line],d=u.line+1<c.length?c[u.line+1]:this._content.length;return Math.max(Math.min(f+u.character,d),f)},Object.defineProperty(l.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),l.isIncremental=function(u){var c=u;return c!=null&&typeof c.text=="string"&&c.range!==void 0&&(c.rangeLength===void 0||typeof c.rangeLength=="number")},l.isFull=function(u){var c=u;return c!=null&&typeof c.text=="string"&&c.range===void 0&&c.rangeLength===void 0},l}(),r;(function(l){function u(d,p,m,T){return new i(d,p,m,T)}l.create=u;function c(d,p,m){if(d instanceof i)return d.update(p,m),d;throw new Error("TextDocument.update: document must be created by TextDocument.create")}l.update=c;function f(d,p){for(var m=d.getText(),T=n(p.map(o),function(C,B){var w=C.range.start.line-B.range.start.line;return w===0?C.range.start.character-B.range.start.character:w}),P=0,_=[],g=0,y=T;g<y.length;g++){var E=y[g],L=d.offsetAt(E.range.start);if(L<P)throw new Error("Overlapping edit");L>P&&_.push(m.substring(P,L)),E.newText.length&&_.push(E.newText),P=d.offsetAt(E.range.end)}return _.push(m.substr(P)),_.join("")}l.applyEdits=f})(r=e.TextDocument||(e.TextDocument={}));function n(l,u){if(l.length<=1)return l;var c=l.length/2|0,f=l.slice(0,c),d=l.slice(c);n(f,u),n(d,u);for(var p=0,m=0,T=0;p<f.length&&m<d.length;){var P=u(f[p],d[m]);P<=0?l[T++]=f[p++]:l[T++]=d[m++]}for(;p<f.length;)l[T++]=f[p++];for(;m<d.length;)l[T++]=d[m++];return l}function s(l,u,c){c===void 0&&(c=0);for(var f=u?[c]:[],d=0;d<l.length;d++){var p=l.charCodeAt(d);(p===13||p===10)&&(p===13&&d+1<l.length&&l.charCodeAt(d+1)===10&&d++,f.push(c+d+1))}return f}function a(l){var u=l.start,c=l.end;return u.line>c.line||u.line===c.line&&u.character>c.character?{start:c,end:u}:l}function o(l){var u=a(l.range);return u!==l.range?{newText:l.newText,range:u}:l}})});var Gc=Z(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.thenable=Wt.typedArray=Wt.stringArray=Wt.array=Wt.func=Wt.error=Wt.number=Wt.string=Wt.boolean=void 0;function VA(t){return t===!0||t===!1}Wt.boolean=VA;function Hy(t){return typeof t=="string"||t instanceof String}Wt.string=Hy;function BA(t){return typeof t=="number"||t instanceof Number}Wt.number=BA;function jA(t){return t instanceof Error}Wt.error=jA;function Yy(t){return typeof t=="function"}Wt.func=Yy;function Ky(t){return Array.isArray(t)}Wt.array=Ky;function UA(t){return Ky(t)&&t.every(e=>Hy(e))}Wt.stringArray=UA;function GA(t,e){return Array.isArray(t)&&t.every(e)}Wt.typedArray=GA;function WA(t){return t&&Yy(t.then)}Wt.thenable=WA});var $n=Z(vm=>{"use strict";Object.defineProperty(vm,"__esModule",{value:!0});var Tm;function bm(){if(Tm===void 0)throw new Error("No runtime abstraction layer installed");return Tm}(function(t){function e(i){if(i===void 0)throw new Error("No runtime abstraction layer provided");Tm=i}t.install=e})(bm||(bm={}));vm.default=bm});var Im=Z(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.Disposable=void 0;var HA;(function(t){function e(i){return{dispose:i}}t.create=e})(HA=jl.Disposable||(jl.Disposable={}))});var $y=Z(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.AbstractMessageBuffer=void 0;var YA=13,KA=10,$A=`\r
`,Pm=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let i=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(i),this._totalLength+=i.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,i=0,r=0,n=0;e:for(;i<this._chunks.length;){let l=this._chunks[i];r=0;t:for(;r<l.length;){switch(l[r]){case YA:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case KA:switch(e){case 1:e=2;break;case 3:e=4,r++;break e;default:e=0}break;default:e=0}r++}n+=l.byteLength,i++}if(e!==4)return;let s=this._read(n+r),a=new Map,o=this.toString(s,"ascii").split($A);if(o.length<2)return a;for(let l=0;l<o.length-2;l++){let u=o[l],c=u.indexOf(":");if(c===-1)throw new Error("Message header must separate key and value using :");let f=u.substr(0,c),d=u.substr(c+1).trim();a.set(f,d)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],a=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,a}let i=this.allocNative(e),r=0,n=0;for(;e>0;){let s=this._chunks[n];if(s.byteLength>e){let a=s.slice(0,e);i.set(a,r),r+=e,this._chunks[n]=s.slice(e),this._totalLength-=e,e-=e}else i.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return i}};Wc.AbstractMessageBuffer=Pm});var Qy=Z(Rm=>{"use strict";Object.defineProperty(Rm,"__esModule",{value:!0});var zA=$n(),zy=require("util"),ga=Im(),XA=$y(),fo=class extends XA.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return fo.emptyBuffer}fromString(e,i){return Buffer.from(e,i)}toString(e,i){return e instanceof Buffer?e.toString(i):new zy.TextDecoder(i).decode(e)}asNative(e,i){return i===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,i):Buffer.from(e,0,i)}allocNative(e){return Buffer.allocUnsafe(e)}};fo.emptyBuffer=Buffer.allocUnsafe(0);var Nm=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),ga.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),ga.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),ga.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),ga.Disposable.create(()=>this.stream.off("data",e))}},Sm=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),ga.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),ga.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),ga.Disposable.create(()=>this.stream.off("end",e))}write(e,i){return new Promise((r,n)=>{let s=a=>{a==null?r():n(a)};typeof e=="string"?this.stream.write(e,i,s):this.stream.write(e,s)})}end(){this.stream.end()}},Xy=Object.freeze({messageBuffer:Object.freeze({create:t=>new fo(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(i){return Promise.reject(i)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new zy.TextDecoder(e.charset).decode(t)))}catch(i){return Promise.reject(i)}}})}),stream:Object.freeze({asReadableStream:t=>new Nm(t),asWritableStream:t=>new Sm(t)}),console,timer:Object.freeze({setTimeout(t,e,...i){return setTimeout(t,e,...i)},clearTimeout(t){clearTimeout(t)},setImmediate(t,...e){return setImmediate(t,...e)},clearImmediate(t){clearImmediate(t)}})});function Cm(){return Xy}(function(t){function e(){zA.default.install(Xy)}t.install=e})(Cm||(Cm={}));Rm.default=Cm});var po=Z(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.stringArray=Si.array=Si.func=Si.error=Si.number=Si.string=Si.boolean=void 0;function QA(t){return t===!0||t===!1}Si.boolean=QA;function Jy(t){return typeof t=="string"||t instanceof String}Si.string=Jy;function JA(t){return typeof t=="number"||t instanceof Number}Si.number=JA;function ZA(t){return t instanceof Error}Si.error=ZA;function e0(t){return typeof t=="function"}Si.func=e0;function Zy(t){return Array.isArray(t)}Si.array=Zy;function t0(t){return Zy(t)&&t.every(e=>Jy(e))}Si.stringArray=t0});var Xm=Z(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.isResponseMessage=me.isNotificationMessage=me.isRequestMessage=me.NotificationType9=me.NotificationType8=me.NotificationType7=me.NotificationType6=me.NotificationType5=me.NotificationType4=me.NotificationType3=me.NotificationType2=me.NotificationType1=me.NotificationType0=me.NotificationType=me.RequestType9=me.RequestType8=me.RequestType7=me.RequestType6=me.RequestType5=me.RequestType4=me.RequestType3=me.RequestType2=me.RequestType1=me.RequestType=me.RequestType0=me.AbstractMessageSignature=me.ParameterStructures=me.ResponseError=me.ErrorCodes=void 0;var _a=po(),eT;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=t.jsonrpcReservedErrorRangeStart,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=t.jsonrpcReservedErrorRangeEnd})(eT=me.ErrorCodes||(me.ErrorCodes={}));var Ul=class extends Error{constructor(e,i,r){super(i),this.code=_a.number(e)?e:eT.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,Ul.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};me.ResponseError=Ul;var ci=class{constructor(e){this.kind=e}static is(e){return e===ci.auto||e===ci.byName||e===ci.byPosition}toString(){return this.kind}};me.ParameterStructures=ci;ci.auto=new ci("auto");ci.byPosition=new ci("byPosition");ci.byName=new ci("byName");var vt=class{constructor(e,i){this.method=e,this.numberOfParams=i}get parameterStructures(){return ci.auto}};me.AbstractMessageSignature=vt;var Am=class extends vt{constructor(e){super(e,0)}};me.RequestType0=Am;var Em=class extends vt{constructor(e,i=ci.auto){super(e,1),this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};me.RequestType=Em;var wm=class extends vt{constructor(e,i=ci.auto){super(e,1),this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};me.RequestType1=wm;var xm=class extends vt{constructor(e){super(e,2)}};me.RequestType2=xm;var Dm=class extends vt{constructor(e){super(e,3)}};me.RequestType3=Dm;var Fm=class extends vt{constructor(e){super(e,4)}};me.RequestType4=Fm;var Om=class extends vt{constructor(e){super(e,5)}};me.RequestType5=Om;var Lm=class extends vt{constructor(e){super(e,6)}};me.RequestType6=Lm;var km=class extends vt{constructor(e){super(e,7)}};me.RequestType7=km;var Mm=class extends vt{constructor(e){super(e,8)}};me.RequestType8=Mm;var qm=class extends vt{constructor(e){super(e,9)}};me.RequestType9=qm;var Vm=class extends vt{constructor(e,i=ci.auto){super(e,1),this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};me.NotificationType=Vm;var Bm=class extends vt{constructor(e){super(e,0)}};me.NotificationType0=Bm;var jm=class extends vt{constructor(e,i=ci.auto){super(e,1),this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};me.NotificationType1=jm;var Um=class extends vt{constructor(e){super(e,2)}};me.NotificationType2=Um;var Gm=class extends vt{constructor(e){super(e,3)}};me.NotificationType3=Gm;var Wm=class extends vt{constructor(e){super(e,4)}};me.NotificationType4=Wm;var Hm=class extends vt{constructor(e){super(e,5)}};me.NotificationType5=Hm;var Ym=class extends vt{constructor(e){super(e,6)}};me.NotificationType6=Ym;var Km=class extends vt{constructor(e){super(e,7)}};me.NotificationType7=Km;var $m=class extends vt{constructor(e){super(e,8)}};me.NotificationType8=$m;var zm=class extends vt{constructor(e){super(e,9)}};me.NotificationType9=zm;function i0(t){let e=t;return e&&_a.string(e.method)&&(_a.string(e.id)||_a.number(e.id))}me.isRequestMessage=i0;function r0(t){let e=t;return e&&_a.string(e.method)&&t.id===void 0}me.isNotificationMessage=r0;function n0(t){let e=t;return e&&(e.result!==void 0||!!e.error)&&(_a.string(e.id)||_a.number(e.id)||e.id===null)}me.isResponseMessage=n0});var ho=Z(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.Emitter=ya.Event=void 0;var s0=$n(),a0;(function(t){let e={dispose(){}};t.None=function(){return e}})(a0=ya.Event||(ya.Event={}));var Qm=class{add(e,i=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(i),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,i)})}remove(e,i=null){if(!this._callbacks)return;let r=!1;for(let n=0,s=this._callbacks.length;n<s;n++)if(this._callbacks[n]===e)if(this._contexts[n]===i){this._callbacks.splice(n,1),this._contexts.splice(n,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let i=[],r=this._callbacks.slice(0),n=this._contexts.slice(0);for(let s=0,a=r.length;s<a;s++)try{i.push(r[s].apply(n[s],e))}catch(o){s0.default().console.error(o)}return i}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},mo=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,i,r)=>{this._callbacks||(this._callbacks=new Qm),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,i);let n={dispose:()=>{!this._callbacks||(this._callbacks.remove(e,i),n.dispose=mo._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(n),n}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};ya.Emitter=mo;mo._noop=function(){}});var th=Z(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.CancellationTokenSource=Ta.CancellationToken=void 0;var tT=$n(),o0=po(),Jm=ho(),Zm;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Jm.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Jm.Event.None});function e(i){let r=i;return r&&(r===t.None||r===t.Cancelled||o0.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(Zm=Ta.CancellationToken||(Ta.CancellationToken={}));var l0=Object.freeze(function(t,e){let i=tT.default().timer.setTimeout(t.bind(e),0);return{dispose(){tT.default().timer.clearTimeout(i)}}}),Hc=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?l0:(this._emitter||(this._emitter=new Jm.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},eh=class{get token(){return this._token||(this._token=new Hc),this._token}cancel(){this._token?this._token.cancel():this._token=Zm.Cancelled}dispose(){this._token?this._token instanceof Hc&&this._token.dispose():this._token=Zm.None}};Ta.CancellationTokenSource=eh});var iT=Z(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});zn.ReadableStreamMessageReader=zn.AbstractMessageReader=zn.MessageReader=void 0;var Yc=$n(),go=po(),ih=ho(),u0;(function(t){function e(i){let r=i;return r&&go.func(r.listen)&&go.func(r.dispose)&&go.func(r.onError)&&go.func(r.onClose)&&go.func(r.onPartialMessage)}t.is=e})(u0=zn.MessageReader||(zn.MessageReader={}));var Kc=class{constructor(){this.errorEmitter=new ih.Emitter,this.closeEmitter=new ih.Emitter,this.partialMessageEmitter=new ih.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${go.string(e.message)?e.message:"unknown"}`)}};zn.AbstractMessageReader=Kc;var rh;(function(t){function e(i){var r;let n,s,a,o=new Map,l,u=new Map;if(i===void 0||typeof i=="string")n=i??"utf-8";else{if(n=(r=i.charset)!==null&&r!==void 0?r:"utf-8",i.contentDecoder!==void 0&&(a=i.contentDecoder,o.set(a.name,a)),i.contentDecoders!==void 0)for(let c of i.contentDecoders)o.set(c.name,c);if(i.contentTypeDecoder!==void 0&&(l=i.contentTypeDecoder,u.set(l.name,l)),i.contentTypeDecoders!==void 0)for(let c of i.contentTypeDecoders)u.set(c.name,c)}return l===void 0&&(l=Yc.default().applicationJson.decoder,u.set(l.name,l)),{charset:n,contentDecoder:a,contentDecoders:o,contentTypeDecoder:l,contentTypeDecoders:u}}t.fromOptions=e})(rh||(rh={}));var nh=class extends Kc{constructor(e,i){super(),this.readable=e,this.options=rh.fromOptions(i),this.buffer=Yc.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let i=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),i}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders();if(!n)return;let s=n.get("Content-Length");if(!s)throw new Error("Header must provide a Content-Length property.");let a=parseInt(s);if(isNaN(a))throw new Error("Content-Length value must be a number.");this.nextMessageLength=a}let i=this.buffer.tryReadBody(this.nextMessageLength);if(i===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(i):r=Promise.resolve(i),r.then(n=>{this.options.contentTypeDecoder.decode(n,this.options).then(s=>{this.callback(s)},s=>{this.fireError(s)})},n=>{this.fireError(n)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(Yc.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=Yc.default().timer.setTimeout((e,i)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:i}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};zn.ReadableStreamMessageReader=nh});var rT=Z($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.Semaphore=void 0;var c0=$n(),sh=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((i,r)=>{this._waiting.push({thunk:e,resolve:i,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||c0.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let i=e.thunk();i instanceof Promise?i.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(i),this.runNext())}catch(i){this._active--,e.reject(i),this.runNext()}}};$c.Semaphore=sh});var oT=Z(Xn=>{"use strict";Object.defineProperty(Xn,"__esModule",{value:!0});Xn.WriteableStreamMessageWriter=Xn.AbstractMessageWriter=Xn.MessageWriter=void 0;var nT=$n(),Gl=po(),f0=rT(),sT=ho(),d0="Content-Length: ",aT=`\r
`,p0;(function(t){function e(i){let r=i;return r&&Gl.func(r.dispose)&&Gl.func(r.onClose)&&Gl.func(r.onError)&&Gl.func(r.write)}t.is=e})(p0=Xn.MessageWriter||(Xn.MessageWriter={}));var zc=class{constructor(){this.errorEmitter=new sT.Emitter,this.closeEmitter=new sT.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,i,r){this.errorEmitter.fire([this.asError(e),i,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Gl.string(e.message)?e.message:"unknown"}`)}};Xn.AbstractMessageWriter=zc;var ah;(function(t){function e(i){var r,n;return i===void 0||typeof i=="string"?{charset:i??"utf-8",contentTypeEncoder:nT.default().applicationJson.encoder}:{charset:(r=i.charset)!==null&&r!==void 0?r:"utf-8",contentEncoder:i.contentEncoder,contentTypeEncoder:(n=i.contentTypeEncoder)!==null&&n!==void 0?n:nT.default().applicationJson.encoder}}t.fromOptions=e})(ah||(ah={}));var oh=class extends zc{constructor(e,i){super(),this.writable=e,this.options=ah.fromOptions(i),this.errorCount=0,this.writeSemaphore=new f0.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let n=[];return n.push(d0,r.byteLength.toString(),aT),n.push(aT),this.doWrite(e,n,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,i,r){try{return await this.writable.write(i.join(""),"ascii"),this.writable.write(r)}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,i){this.errorCount++,this.fireError(e,i,this.errorCount)}end(){this.writable.end()}};Xn.WriteableStreamMessageWriter=oh});var lT=Z(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});Qn.LRUCache=Qn.LinkedMap=Qn.Touch=void 0;var ki;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(ki=Qn.Touch||(Qn.Touch={}));var Xc=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,i=ki.None){let r=this._map.get(e);if(!!r)return i!==ki.None&&this.touch(r,i),r.value}set(e,i,r=ki.None){let n=this._map.get(e);if(n)n.value=i,r!==ki.None&&this.touch(n,r);else{switch(n={key:e,value:i,next:void 0,previous:void 0},r){case ki.None:this.addItemLast(n);break;case ki.First:this.addItemFirst(n);break;case ki.Last:this.addItemLast(n);break;default:this.addItemLast(n);break}this._map.set(e,n),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let i=this._map.get(e);if(!!i)return this._map.delete(e),this.removeItem(i),this._size--,i.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,i){let r=this._state,n=this._head;for(;n;){if(i?e.bind(i)(n.value,n.key,this):e(n.value,n.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");n=n.next}}keys(){let e=this,i=this._state,r=this._head,n={[Symbol.iterator](){return n},next(){if(e._state!==i)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.key,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return n}values(){let e=this,i=this._state,r=this._head,n={[Symbol.iterator](){return n},next(){if(e._state!==i)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.value,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return n}entries(){let e=this,i=this._state,r=this._head,n={[Symbol.iterator](){return n},next(){if(e._state!==i)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:[r.key,r.value],done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return n}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let i=this._head,r=this.size;for(;i&&r>e;)this._map.delete(i.key),i=i.next,r--;this._head=i,this._size=r,i&&(i.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let i=e.next,r=e.previous;if(!i||!r)throw new Error("Invalid list");i.previous=r,r.next=i}e.next=void 0,e.previous=void 0,this._state++}touch(e,i){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(i!==ki.First&&i!==ki.Last)){if(i===ki.First){if(e===this._head)return;let r=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(r.previous=n,n.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(i===ki.Last){if(e===this._tail)return;let r=e.next,n=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=n,n.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((i,r)=>{e.push([r,i])}),e}fromJSON(e){this.clear();for(let[i,r]of e)this.set(i,r)}};Qn.LinkedMap=Xc;var lh=class extends Xc{constructor(e,i=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,i),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,i=ki.AsNew){return super.get(e,i)}peek(e){return super.get(e,ki.None)}set(e,i){return super.set(e,i,ki.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Qn.LRUCache=lh});var pT=Z(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.createMessageConnection=we.ConnectionOptions=we.CancellationStrategy=we.CancellationSenderStrategy=we.CancellationReceiverStrategy=we.ConnectionStrategy=we.ConnectionError=we.ConnectionErrors=we.LogTraceNotification=we.SetTraceNotification=we.TraceFormat=we.Trace=we.NullLogger=we.ProgressType=void 0;var uT=$n(),fi=po(),Ce=Xm(),cT=lT(),Wl=ho(),uh=th(),Hl;(function(t){t.type=new Ce.NotificationType("$/cancelRequest")})(Hl||(Hl={}));var Jc;(function(t){t.type=new Ce.NotificationType("$/progress")})(Jc||(Jc={}));var ch=class{constructor(){}};we.ProgressType=ch;var fh;(function(t){function e(i){return fi.func(i)}t.is=e})(fh||(fh={}));we.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Ht;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose"})(Ht=we.Trace||(we.Trace={}));(function(t){function e(r){if(!fi.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function i(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off"}}t.toString=i})(Ht=we.Trace||(we.Trace={}));var tn;(function(t){t.Text="text",t.JSON="json"})(tn=we.TraceFormat||(we.TraceFormat={}));(function(t){function e(i){return i=i.toLowerCase(),i==="json"?t.JSON:t.Text}t.fromString=e})(tn=we.TraceFormat||(we.TraceFormat={}));var fT;(function(t){t.type=new Ce.NotificationType("$/setTrace")})(fT=we.SetTraceNotification||(we.SetTraceNotification={}));var dh;(function(t){t.type=new Ce.NotificationType("$/logTrace")})(dh=we.LogTraceNotification||(we.LogTraceNotification={}));var Qc;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(Qc=we.ConnectionErrors||(we.ConnectionErrors={}));var ys=class extends Error{constructor(e,i){super(i),this.code=e,Object.setPrototypeOf(this,ys.prototype)}};we.ConnectionError=ys;var dT;(function(t){function e(i){let r=i;return r&&fi.func(r.cancelUndispatched)}t.is=e})(dT=we.ConnectionStrategy||(we.ConnectionStrategy={}));var ph;(function(t){t.Message=Object.freeze({createCancellationTokenSource(i){return new uh.CancellationTokenSource}});function e(i){let r=i;return r&&fi.func(r.createCancellationTokenSource)}t.is=e})(ph=we.CancellationReceiverStrategy||(we.CancellationReceiverStrategy={}));var mh;(function(t){t.Message=Object.freeze({sendCancellation(i,r){i.sendNotification(Hl.type,{id:r})},cleanup(i){}});function e(i){let r=i;return r&&fi.func(r.sendCancellation)&&fi.func(r.cleanup)}t.is=e})(mh=we.CancellationSenderStrategy||(we.CancellationSenderStrategy={}));var hh;(function(t){t.Message=Object.freeze({receiver:ph.Message,sender:mh.Message});function e(i){let r=i;return r&&ph.is(r.receiver)&&mh.is(r.sender)}t.is=e})(hh=we.CancellationStrategy||(we.CancellationStrategy={}));var m0;(function(t){function e(i){let r=i;return r&&(hh.is(r.cancellationStrategy)||dT.is(r.connectionStrategy))}t.is=e})(m0=we.ConnectionOptions||(we.ConnectionOptions={}));var rn;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(rn||(rn={}));function h0(t,e,i,r){let n=i!==void 0?i:we.NullLogger,s=0,a=0,o=0,l="2.0",u,c=Object.create(null),f,d=Object.create(null),p=new Map,m,T=new cT.LinkedMap,P=Object.create(null),_=Object.create(null),g=Ht.Off,y=tn.Text,E,L=rn.New,C=new Wl.Emitter,B=new Wl.Emitter,w=new Wl.Emitter,$=new Wl.Emitter,oe=new Wl.Emitter,U=r&&r.cancellationStrategy?r.cancellationStrategy:hh.Message;function J(x){if(x===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+x.toString()}function ce(x){return x===null?"res-unknown-"+(++o).toString():"res-"+x.toString()}function ne(){return"not-"+(++a).toString()}function X(x,R){Ce.isRequestMessage(R)?x.set(J(R.id),R):Ce.isResponseMessage(R)?x.set(ce(R.id),R):x.set(ne(),R)}function Be(x){}function ht(){return L===rn.Listening}function oi(){return L===rn.Closed}function it(){return L===rn.Disposed}function Qe(){(L===rn.New||L===rn.Listening)&&(L=rn.Closed,B.fire(void 0))}function Wn(x){C.fire([x,void 0,void 0])}function Hn(x){C.fire(x)}t.onClose(Qe),t.onError(Wn),e.onClose(Qe),e.onError(Hn);function he(){m||T.size===0||(m=uT.default().timer.setImmediate(()=>{m=void 0,pe()}))}function pe(){if(T.size===0)return;let x=T.shift();try{Ce.isRequestMessage(x)?de(x):Ce.isNotificationMessage(x)?Ft(x):Ce.isResponseMessage(x)?Ee(x):Pn(x)}finally{he()}}let be=x=>{try{if(Ce.isNotificationMessage(x)&&x.method===Hl.type.method){let R=J(x.params.id),v=T.get(R);if(Ce.isRequestMessage(v)){let A=r?.connectionStrategy,F=A&&A.cancelUndispatched?A.cancelUndispatched(v,Be):void 0;if(F&&(F.error!==void 0||F.result!==void 0)){T.delete(R),F.id=v.id,Yn(F,x.method,Date.now()),e.write(F);return}}}X(T,x)}finally{he()}};function de(x){if(it())return;function R(j,se,_e){let De={jsonrpc:l,id:x.id};j instanceof Ce.ResponseError?De.error=j.toJson():De.result=j===void 0?null:j,Yn(De,se,_e),e.write(De)}function v(j,se,_e){let De={jsonrpc:l,id:x.id,error:j.toJson()};Yn(De,se,_e),e.write(De)}function A(j,se,_e){j===void 0&&(j=null);let De={jsonrpc:l,id:x.id,result:j};Yn(De,se,_e),e.write(De)}uo(x);let F=c[x.method],N,b;F&&(N=F.type,b=F.handler);let k=Date.now();if(b||u){let j=String(x.id),se=U.receiver.createCancellationTokenSource(j);_[j]=se;try{let _e;if(b)if(x.params===void 0){if(N!==void 0&&N.numberOfParams!==0){v(new Ce.ResponseError(Ce.ErrorCodes.InvalidParams,`Request ${x.method} defines ${N.numberOfParams} params but recevied none.`),x.method,k);return}_e=b(se.token)}else if(Array.isArray(x.params)){if(N!==void 0&&N.parameterStructures===Ce.ParameterStructures.byName){v(new Ce.ResponseError(Ce.ErrorCodes.InvalidParams,`Request ${x.method} defines parameters by name but received parameters by position`),x.method,k);return}_e=b(...x.params,se.token)}else{if(N!==void 0&&N.parameterStructures===Ce.ParameterStructures.byPosition){v(new Ce.ResponseError(Ce.ErrorCodes.InvalidParams,`Request ${x.method} defines parameters by position but received parameters by name`),x.method,k);return}_e=b(x.params,se.token)}else u&&(_e=u(x.method,x.params,se.token));let De=_e;_e?De.then?De.then(lt=>{delete _[j],R(lt,x.method,k)},lt=>{delete _[j],lt instanceof Ce.ResponseError?v(lt,x.method,k):lt&&fi.string(lt.message)?v(new Ce.ResponseError(Ce.ErrorCodes.InternalError,`Request ${x.method} failed with message: ${lt.message}`),x.method,k):v(new Ce.ResponseError(Ce.ErrorCodes.InternalError,`Request ${x.method} failed unexpectedly without providing any details.`),x.method,k)}):(delete _[j],R(_e,x.method,k)):(delete _[j],A(_e,x.method,k))}catch(_e){delete _[j],_e instanceof Ce.ResponseError?R(_e,x.method,k):_e&&fi.string(_e.message)?v(new Ce.ResponseError(Ce.ErrorCodes.InternalError,`Request ${x.method} failed with message: ${_e.message}`),x.method,k):v(new Ce.ResponseError(Ce.ErrorCodes.InternalError,`Request ${x.method} failed unexpectedly without providing any details.`),x.method,k)}}else v(new Ce.ResponseError(Ce.ErrorCodes.MethodNotFound,`Unhandled method ${x.method}`),x.method,k)}function Ee(x){if(!it())if(x.id===null)x.error?n.error(`Received response message without id: Error is: 
${JSON.stringify(x.error,void 0,4)}`):n.error("Received response message without id. No further error information provided.");else{let R=String(x.id),v=P[R];if(ma(x,v),v){delete P[R];try{if(x.error){let A=x.error;v.reject(new Ce.ResponseError(A.code,A.message,A.data))}else if(x.result!==void 0)v.resolve(x.result);else throw new Error("Should never happen.")}catch(A){A.message?n.error(`Response handler '${v.method}' failed with message: ${A.message}`):n.error(`Response handler '${v.method}' failed unexpectedly.`)}}}}function Ft(x){if(it())return;let R,v;if(x.method===Hl.type.method)v=A=>{let F=A.id,N=_[String(F)];N&&N.cancel()};else{let A=d[x.method];A&&(v=A.handler,R=A.type)}if(v||f)try{pa(x),v?x.params===void 0?(R!==void 0&&R.numberOfParams!==0&&R.parameterStructures!==Ce.ParameterStructures.byName&&n.error(`Notification ${x.method} defines ${R.numberOfParams} params but recevied none.`),v()):Array.isArray(x.params)?(R!==void 0&&(R.parameterStructures===Ce.ParameterStructures.byName&&n.error(`Notification ${x.method} defines parameters by name but received parameters by position`),R.numberOfParams!==x.params.length&&n.error(`Notification ${x.method} defines ${R.numberOfParams} params but received ${x.params.length} argumennts`)),v(...x.params)):(R!==void 0&&R.parameterStructures===Ce.ParameterStructures.byPosition&&n.error(`Notification ${x.method} defines parameters by position but received parameters by name`),v(x.params)):f&&f(x.method,x.params)}catch(A){A.message?n.error(`Notification handler '${x.method}' failed with message: ${A.message}`):n.error(`Notification handler '${x.method}' failed unexpectedly.`)}else w.fire(x)}function Pn(x){if(!x){n.error("Received empty message.");return}n.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(x,null,4)}`);let R=x;if(fi.string(R.id)||fi.number(R.id)){let v=String(R.id),A=P[v];A&&A.reject(new Error("The received response has neither a result nor an error property."))}}function lo(x){if(!(g===Ht.Off||!E))if(y===tn.Text){let R;g===Ht.Verbose&&x.params&&(R=`Params: ${JSON.stringify(x.params,null,4)}

`),E.log(`Sending request '${x.method} - (${x.id})'.`,R)}else Kn("send-request",x)}function _s(x){if(!(g===Ht.Off||!E))if(y===tn.Text){let R;g===Ht.Verbose&&(x.params?R=`Params: ${JSON.stringify(x.params,null,4)}

`:R=`No parameters provided.

`),E.log(`Sending notification '${x.method}'.`,R)}else Kn("send-notification",x)}function Yn(x,R,v){if(!(g===Ht.Off||!E))if(y===tn.Text){let A;g===Ht.Verbose&&(x.error&&x.error.data?A=`Error data: ${JSON.stringify(x.error.data,null,4)}

`:x.result?A=`Result: ${JSON.stringify(x.result,null,4)}

`:x.error===void 0&&(A=`No result returned.

`)),E.log(`Sending response '${R} - (${x.id})'. Processing request took ${Date.now()-v}ms`,A)}else Kn("send-response",x)}function uo(x){if(!(g===Ht.Off||!E))if(y===tn.Text){let R;g===Ht.Verbose&&x.params&&(R=`Params: ${JSON.stringify(x.params,null,4)}

`),E.log(`Received request '${x.method} - (${x.id})'.`,R)}else Kn("receive-request",x)}function pa(x){if(!(g===Ht.Off||!E||x.method===dh.type.method))if(y===tn.Text){let R;g===Ht.Verbose&&(x.params?R=`Params: ${JSON.stringify(x.params,null,4)}

`:R=`No parameters provided.

`),E.log(`Received notification '${x.method}'.`,R)}else Kn("receive-notification",x)}function ma(x,R){if(!(g===Ht.Off||!E))if(y===tn.Text){let v;if(g===Ht.Verbose&&(x.error&&x.error.data?v=`Error data: ${JSON.stringify(x.error.data,null,4)}

`:x.result?v=`Result: ${JSON.stringify(x.result,null,4)}

`:x.error===void 0&&(v=`No result returned.

`)),R){let A=x.error?` Request failed: ${x.error.message} (${x.error.code}).`:"";E.log(`Received response '${R.method} - (${x.id})' in ${Date.now()-R.timerStart}ms.${A}`,v)}else E.log(`Received response ${x.id} without active response promise.`,v)}else Kn("receive-response",x)}function Kn(x,R){if(!E||g===Ht.Off)return;let v={isLSPMessage:!0,type:x,message:R,timestamp:Date.now()};E.log(v)}function Nn(){if(oi())throw new ys(Qc.Closed,"Connection is closed.");if(it())throw new ys(Qc.Disposed,"Connection is disposed.")}function co(){if(ht())throw new ys(Qc.AlreadyListening,"Connection is already listening")}function ha(){if(!ht())throw new Error("Call listen() first.")}function ar(x){return x===void 0?null:x}function li(x){if(x!==null)return x}function or(x){return x!=null&&!Array.isArray(x)&&typeof x=="object"}function Zr(x,R){switch(x){case Ce.ParameterStructures.auto:return or(R)?li(R):[ar(R)];case Ce.ParameterStructures.byName:if(!or(R))throw new Error("Recevied parameters by name but param is not an object literal.");return li(R);case Ce.ParameterStructures.byPosition:return[ar(R)];default:throw new Error(`Unknown parameter structure ${x.toString()}`)}}function en(x,R){let v,A=x.numberOfParams;switch(A){case 0:v=void 0;break;case 1:v=Zr(x.parameterStructures,R[0]);break;default:v=[];for(let F=0;F<R.length&&F<A;F++)v.push(ar(R[F]));if(R.length<A)for(let F=R.length;F<A;F++)v.push(null);break}return v}let Rr={sendNotification:(x,...R)=>{Nn();let v,A;if(fi.string(x)){v=x;let N=R[0],b=0,k=Ce.ParameterStructures.auto;Ce.ParameterStructures.is(N)&&(b=1,k=N);let j=R.length,se=j-b;switch(se){case 0:A=void 0;break;case 1:A=Zr(k,R[b]);break;default:if(k===Ce.ParameterStructures.byName)throw new Error(`Recevied ${se} parameters for 'by Name' notification parameter structure.`);A=R.slice(b,j).map(_e=>ar(_e));break}}else{let N=R;v=x.method,A=en(x,N)}let F={jsonrpc:l,method:v,params:A};_s(F),e.write(F)},onNotification:(x,R)=>{Nn();let v;return fi.func(x)?f=x:R&&(fi.string(x)?(v=x,d[x]={type:void 0,handler:R}):(v=x.method,d[x.method]={type:x,handler:R})),{dispose:()=>{v!==void 0?delete d[v]:f=void 0}}},onProgress:(x,R,v)=>{if(p.has(R))throw new Error(`Progress handler for token ${R} already registered`);return p.set(R,v),{dispose:()=>{p.delete(R)}}},sendProgress:(x,R,v)=>{Rr.sendNotification(Jc.type,{token:R,value:v})},onUnhandledProgress:$.event,sendRequest:(x,...R)=>{Nn(),ha();let v,A,F;if(fi.string(x)){v=x;let j=R[0],se=R[R.length-1],_e=0,De=Ce.ParameterStructures.auto;Ce.ParameterStructures.is(j)&&(_e=1,De=j);let lt=R.length;uh.CancellationToken.is(se)&&(lt=lt-1,F=se);let Ot=lt-_e;switch(Ot){case 0:A=void 0;break;case 1:A=Zr(De,R[_e]);break;default:if(De===Ce.ParameterStructures.byName)throw new Error(`Recevied ${Ot} parameters for 'by Name' request parameter structure.`);A=R.slice(_e,lt).map(Bt=>ar(Bt));break}}else{let j=R;v=x.method,A=en(x,j);let se=x.numberOfParams;F=uh.CancellationToken.is(j[se])?j[se]:void 0}let N=s++,b;return F&&(b=F.onCancellationRequested(()=>{U.sender.sendCancellation(Rr,N)})),new Promise((j,se)=>{let _e={jsonrpc:l,id:N,method:v,params:A},De=Bt=>{j(Bt),U.sender.cleanup(N),b?.dispose()},lt=Bt=>{se(Bt),U.sender.cleanup(N),b?.dispose()},Ot={method:v,timerStart:Date.now(),resolve:De,reject:lt};lo(_e);try{e.write(_e)}catch(Bt){Ot.reject(new Ce.ResponseError(Ce.ErrorCodes.MessageWriteError,Bt.message?Bt.message:"Unknown reason")),Ot=null}Ot&&(P[String(N)]=Ot)})},onRequest:(x,R)=>{Nn();let v=null;return fh.is(x)?(v=void 0,u=x):fi.string(x)?(v=null,R!==void 0&&(v=x,c[x]={handler:R,type:void 0})):R!==void 0&&(v=x.method,c[x.method]={type:x,handler:R}),{dispose:()=>{v!==null&&(v!==void 0?delete c[v]:u=void 0)}}},trace:(x,R,v)=>{let A=!1,F=tn.Text;v!==void 0&&(fi.boolean(v)?A=v:(A=v.sendNotification||!1,F=v.traceFormat||tn.Text)),g=x,y=F,g===Ht.Off?E=void 0:E=R,A&&!oi()&&!it()&&Rr.sendNotification(fT.type,{value:Ht.toString(x)})},onError:C.event,onClose:B.event,onUnhandledNotification:w.event,onDispose:oe.event,end:()=>{e.end()},dispose:()=>{if(it())return;L=rn.Disposed,oe.fire(void 0);let x=new Error("Connection got disposed.");Object.keys(P).forEach(R=>{P[R].reject(x)}),P=Object.create(null),_=Object.create(null),T=new cT.LinkedMap,fi.func(e.dispose)&&e.dispose(),fi.func(t.dispose)&&t.dispose()},listen:()=>{Nn(),co(),L=rn.Listening,t.listen(be)},inspect:()=>{uT.default().console.log("inspect")}};return Rr.onNotification(dh.type,x=>{g===Ht.Off||!E||E.log(x.message,g===Ht.Verbose?x.verbose:void 0)}),Rr.onNotification(Jc.type,x=>{let R=p.get(x.token);R?R(x.value):$.fire(x)}),Rr}we.createMessageConnection=h0});var yh=Z(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.CancellationSenderStrategy=K.CancellationReceiverStrategy=K.ConnectionError=K.ConnectionErrors=K.LogTraceNotification=K.SetTraceNotification=K.TraceFormat=K.Trace=K.ProgressType=K.createMessageConnection=K.NullLogger=K.ConnectionOptions=K.ConnectionStrategy=K.WriteableStreamMessageWriter=K.AbstractMessageWriter=K.MessageWriter=K.ReadableStreamMessageReader=K.AbstractMessageReader=K.MessageReader=K.CancellationToken=K.CancellationTokenSource=K.Emitter=K.Event=K.Disposable=K.ParameterStructures=K.NotificationType9=K.NotificationType8=K.NotificationType7=K.NotificationType6=K.NotificationType5=K.NotificationType4=K.NotificationType3=K.NotificationType2=K.NotificationType1=K.NotificationType0=K.NotificationType=K.ErrorCodes=K.ResponseError=K.RequestType9=K.RequestType8=K.RequestType7=K.RequestType6=K.RequestType5=K.RequestType4=K.RequestType3=K.RequestType2=K.RequestType1=K.RequestType0=K.RequestType=K.RAL=void 0;K.CancellationStrategy=void 0;var It=Xm();Object.defineProperty(K,"RequestType",{enumerable:!0,get:function(){return It.RequestType}});Object.defineProperty(K,"RequestType0",{enumerable:!0,get:function(){return It.RequestType0}});Object.defineProperty(K,"RequestType1",{enumerable:!0,get:function(){return It.RequestType1}});Object.defineProperty(K,"RequestType2",{enumerable:!0,get:function(){return It.RequestType2}});Object.defineProperty(K,"RequestType3",{enumerable:!0,get:function(){return It.RequestType3}});Object.defineProperty(K,"RequestType4",{enumerable:!0,get:function(){return It.RequestType4}});Object.defineProperty(K,"RequestType5",{enumerable:!0,get:function(){return It.RequestType5}});Object.defineProperty(K,"RequestType6",{enumerable:!0,get:function(){return It.RequestType6}});Object.defineProperty(K,"RequestType7",{enumerable:!0,get:function(){return It.RequestType7}});Object.defineProperty(K,"RequestType8",{enumerable:!0,get:function(){return It.RequestType8}});Object.defineProperty(K,"RequestType9",{enumerable:!0,get:function(){return It.RequestType9}});Object.defineProperty(K,"ResponseError",{enumerable:!0,get:function(){return It.ResponseError}});Object.defineProperty(K,"ErrorCodes",{enumerable:!0,get:function(){return It.ErrorCodes}});Object.defineProperty(K,"NotificationType",{enumerable:!0,get:function(){return It.NotificationType}});Object.defineProperty(K,"NotificationType0",{enumerable:!0,get:function(){return It.NotificationType0}});Object.defineProperty(K,"NotificationType1",{enumerable:!0,get:function(){return It.NotificationType1}});Object.defineProperty(K,"NotificationType2",{enumerable:!0,get:function(){return It.NotificationType2}});Object.defineProperty(K,"NotificationType3",{enumerable:!0,get:function(){return It.NotificationType3}});Object.defineProperty(K,"NotificationType4",{enumerable:!0,get:function(){return It.NotificationType4}});Object.defineProperty(K,"NotificationType5",{enumerable:!0,get:function(){return It.NotificationType5}});Object.defineProperty(K,"NotificationType6",{enumerable:!0,get:function(){return It.NotificationType6}});Object.defineProperty(K,"NotificationType7",{enumerable:!0,get:function(){return It.NotificationType7}});Object.defineProperty(K,"NotificationType8",{enumerable:!0,get:function(){return It.NotificationType8}});Object.defineProperty(K,"NotificationType9",{enumerable:!0,get:function(){return It.NotificationType9}});Object.defineProperty(K,"ParameterStructures",{enumerable:!0,get:function(){return It.ParameterStructures}});var g0=Im();Object.defineProperty(K,"Disposable",{enumerable:!0,get:function(){return g0.Disposable}});var mT=ho();Object.defineProperty(K,"Event",{enumerable:!0,get:function(){return mT.Event}});Object.defineProperty(K,"Emitter",{enumerable:!0,get:function(){return mT.Emitter}});var hT=th();Object.defineProperty(K,"CancellationTokenSource",{enumerable:!0,get:function(){return hT.CancellationTokenSource}});Object.defineProperty(K,"CancellationToken",{enumerable:!0,get:function(){return hT.CancellationToken}});var gh=iT();Object.defineProperty(K,"MessageReader",{enumerable:!0,get:function(){return gh.MessageReader}});Object.defineProperty(K,"AbstractMessageReader",{enumerable:!0,get:function(){return gh.AbstractMessageReader}});Object.defineProperty(K,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return gh.ReadableStreamMessageReader}});var _h=oT();Object.defineProperty(K,"MessageWriter",{enumerable:!0,get:function(){return _h.MessageWriter}});Object.defineProperty(K,"AbstractMessageWriter",{enumerable:!0,get:function(){return _h.AbstractMessageWriter}});Object.defineProperty(K,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return _h.WriteableStreamMessageWriter}});var $i=pT();Object.defineProperty(K,"ConnectionStrategy",{enumerable:!0,get:function(){return $i.ConnectionStrategy}});Object.defineProperty(K,"ConnectionOptions",{enumerable:!0,get:function(){return $i.ConnectionOptions}});Object.defineProperty(K,"NullLogger",{enumerable:!0,get:function(){return $i.NullLogger}});Object.defineProperty(K,"createMessageConnection",{enumerable:!0,get:function(){return $i.createMessageConnection}});Object.defineProperty(K,"ProgressType",{enumerable:!0,get:function(){return $i.ProgressType}});Object.defineProperty(K,"Trace",{enumerable:!0,get:function(){return $i.Trace}});Object.defineProperty(K,"TraceFormat",{enumerable:!0,get:function(){return $i.TraceFormat}});Object.defineProperty(K,"SetTraceNotification",{enumerable:!0,get:function(){return $i.SetTraceNotification}});Object.defineProperty(K,"LogTraceNotification",{enumerable:!0,get:function(){return $i.LogTraceNotification}});Object.defineProperty(K,"ConnectionErrors",{enumerable:!0,get:function(){return $i.ConnectionErrors}});Object.defineProperty(K,"ConnectionError",{enumerable:!0,get:function(){return $i.ConnectionError}});Object.defineProperty(K,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return $i.CancellationReceiverStrategy}});Object.defineProperty(K,"CancellationSenderStrategy",{enumerable:!0,get:function(){return $i.CancellationSenderStrategy}});Object.defineProperty(K,"CancellationStrategy",{enumerable:!0,get:function(){return $i.CancellationStrategy}});var _0=$n();K.RAL=_0.default});var yo=Z(ot=>{"use strict";var y0=ot&&ot.__createBinding||(Object.create?function(t,e,i,r){r===void 0&&(r=i),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,r){r===void 0&&(r=i),t[r]=e[i]}),T0=ot&&ot.__exportStar||function(t,e){for(var i in t)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&y0(e,t,i)};Object.defineProperty(ot,"__esModule",{value:!0});ot.createMessageConnection=ot.createServerSocketTransport=ot.createClientSocketTransport=ot.createServerPipeTransport=ot.createClientPipeTransport=ot.generateRandomPipeName=ot.StreamMessageWriter=ot.StreamMessageReader=ot.SocketMessageWriter=ot.SocketMessageReader=ot.IPCMessageWriter=ot.IPCMessageReader=void 0;var _o=Qy();_o.default.install();var Cn=yh(),gT=require("path"),b0=require("os"),v0=require("crypto"),tf=require("net");T0(yh(),ot);var Th=class extends Cn.AbstractMessageReader{constructor(e){super(),this.process=e;let i=this.process;i.on("error",r=>this.fireError(r)),i.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Cn.Disposable.create(()=>this.process.off("message",e))}};ot.IPCMessageReader=Th;var bh=class extends Cn.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let i=this.process;i.on("error",r=>this.fireError(r)),i.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,i=>{i?(this.errorCount++,this.handleError(i,e)):this.errorCount=0}),Promise.resolve()}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,i){this.errorCount++,this.fireError(e,i,this.errorCount)}end(){}};ot.IPCMessageWriter=bh;var ba=class extends Cn.ReadableStreamMessageReader{constructor(e,i="utf-8"){super(_o.default().stream.asReadableStream(e),i)}};ot.SocketMessageReader=ba;var va=class extends Cn.WriteableStreamMessageWriter{constructor(e,i){super(_o.default().stream.asWritableStream(e),i),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};ot.SocketMessageWriter=va;var Zc=class extends Cn.ReadableStreamMessageReader{constructor(e,i){super(_o.default().stream.asReadableStream(e),i)}};ot.StreamMessageReader=Zc;var ef=class extends Cn.WriteableStreamMessageWriter{constructor(e,i){super(_o.default().stream.asWritableStream(e),i)}};ot.StreamMessageWriter=ef;var _T=process.env.XDG_RUNTIME_DIR,I0=new Map([["linux",107],["darwin",103]]);function P0(){let t=v0.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;_T?e=gT.join(_T,`vscode-ipc-${t}.sock`):e=gT.join(b0.tmpdir(),`vscode-${t}.sock`);let i=I0.get(process.platform);return i!==void 0&&e.length>=i&&_o.default().console.warn(`WARNING: IPC handle "${e}" is longer than ${i} characters.`),e}ot.generateRandomPipeName=P0;function N0(t,e="utf-8"){let i,r=new Promise((n,s)=>{i=n});return new Promise((n,s)=>{let a=tf.createServer(o=>{a.close(),i([new ba(o,e),new va(o,e)])});a.on("error",s),a.listen(t,()=>{a.removeListener("error",s),n({onConnected:()=>r})})})}ot.createClientPipeTransport=N0;function S0(t,e="utf-8"){let i=tf.createConnection(t);return[new ba(i,e),new va(i,e)]}ot.createServerPipeTransport=S0;function C0(t,e="utf-8"){let i,r=new Promise((n,s)=>{i=n});return new Promise((n,s)=>{let a=tf.createServer(o=>{a.close(),i([new ba(o,e),new va(o,e)])});a.on("error",s),a.listen(t,"127.0.0.1",()=>{a.removeListener("error",s),n({onConnected:()=>r})})})}ot.createClientSocketTransport=C0;function R0(t,e="utf-8"){let i=tf.createConnection(t,"127.0.0.1");return[new ba(i,e),new va(i,e)]}ot.createServerSocketTransport=R0;function A0(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function E0(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function w0(t,e,i,r){i||(i=Cn.NullLogger);let n=A0(t)?new Zc(t):t,s=E0(e)?new ef(e):e;return Cn.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),Cn.createMessageConnection(n,s,i,r)}ot.createMessageConnection=w0});var vh=Z((DB,yT)=>{"use strict";yT.exports=yo()});var _t=Z((TT,rf)=>{(function(t){if(typeof rf=="object"&&typeof rf.exports=="object"){var e=t(require,TT);e!==void 0&&(rf.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=void 0;var i;(function(v){v.MIN_VALUE=-2147483648,v.MAX_VALUE=2147483647})(i=e.integer||(e.integer={}));var r;(function(v){v.MIN_VALUE=0,v.MAX_VALUE=2147483647})(r=e.uinteger||(e.uinteger={}));var n;(function(v){function A(N,b){return N===Number.MAX_VALUE&&(N=r.MAX_VALUE),b===Number.MAX_VALUE&&(b=r.MAX_VALUE),{line:N,character:b}}v.create=A;function F(N){var b=N;return R.objectLiteral(b)&&R.uinteger(b.line)&&R.uinteger(b.character)}v.is=F})(n=e.Position||(e.Position={}));var s;(function(v){function A(N,b,k,j){if(R.uinteger(N)&&R.uinteger(b)&&R.uinteger(k)&&R.uinteger(j))return{start:n.create(N,b),end:n.create(k,j)};if(n.is(N)&&n.is(b))return{start:N,end:b};throw new Error("Range#create called with invalid arguments["+N+", "+b+", "+k+", "+j+"]")}v.create=A;function F(N){var b=N;return R.objectLiteral(b)&&n.is(b.start)&&n.is(b.end)}v.is=F})(s=e.Range||(e.Range={}));var a;(function(v){function A(N,b){return{uri:N,range:b}}v.create=A;function F(N){var b=N;return R.defined(b)&&s.is(b.range)&&(R.string(b.uri)||R.undefined(b.uri))}v.is=F})(a=e.Location||(e.Location={}));var o;(function(v){function A(N,b,k,j){return{targetUri:N,targetRange:b,targetSelectionRange:k,originSelectionRange:j}}v.create=A;function F(N){var b=N;return R.defined(b)&&s.is(b.targetRange)&&R.string(b.targetUri)&&(s.is(b.targetSelectionRange)||R.undefined(b.targetSelectionRange))&&(s.is(b.originSelectionRange)||R.undefined(b.originSelectionRange))}v.is=F})(o=e.LocationLink||(e.LocationLink={}));var l;(function(v){function A(N,b,k,j){return{red:N,green:b,blue:k,alpha:j}}v.create=A;function F(N){var b=N;return R.numberRange(b.red,0,1)&&R.numberRange(b.green,0,1)&&R.numberRange(b.blue,0,1)&&R.numberRange(b.alpha,0,1)}v.is=F})(l=e.Color||(e.Color={}));var u;(function(v){function A(N,b){return{range:N,color:b}}v.create=A;function F(N){var b=N;return s.is(b.range)&&l.is(b.color)}v.is=F})(u=e.ColorInformation||(e.ColorInformation={}));var c;(function(v){function A(N,b,k){return{label:N,textEdit:b,additionalTextEdits:k}}v.create=A;function F(N){var b=N;return R.string(b.label)&&(R.undefined(b.textEdit)||y.is(b))&&(R.undefined(b.additionalTextEdits)||R.typedArray(b.additionalTextEdits,y.is))}v.is=F})(c=e.ColorPresentation||(e.ColorPresentation={}));var f;(function(v){v.Comment="comment",v.Imports="imports",v.Region="region"})(f=e.FoldingRangeKind||(e.FoldingRangeKind={}));var d;(function(v){function A(N,b,k,j,se){var _e={startLine:N,endLine:b};return R.defined(k)&&(_e.startCharacter=k),R.defined(j)&&(_e.endCharacter=j),R.defined(se)&&(_e.kind=se),_e}v.create=A;function F(N){var b=N;return R.uinteger(b.startLine)&&R.uinteger(b.startLine)&&(R.undefined(b.startCharacter)||R.uinteger(b.startCharacter))&&(R.undefined(b.endCharacter)||R.uinteger(b.endCharacter))&&(R.undefined(b.kind)||R.string(b.kind))}v.is=F})(d=e.FoldingRange||(e.FoldingRange={}));var p;(function(v){function A(N,b){return{location:N,message:b}}v.create=A;function F(N){var b=N;return R.defined(b)&&a.is(b.location)&&R.string(b.message)}v.is=F})(p=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var m;(function(v){v.Error=1,v.Warning=2,v.Information=3,v.Hint=4})(m=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var T;(function(v){v.Unnecessary=1,v.Deprecated=2})(T=e.DiagnosticTag||(e.DiagnosticTag={}));var P;(function(v){function A(F){var N=F;return N!=null&&R.string(N.href)}v.is=A})(P=e.CodeDescription||(e.CodeDescription={}));var _;(function(v){function A(N,b,k,j,se,_e){var De={range:N,message:b};return R.defined(k)&&(De.severity=k),R.defined(j)&&(De.code=j),R.defined(se)&&(De.source=se),R.defined(_e)&&(De.relatedInformation=_e),De}v.create=A;function F(N){var b,k=N;return R.defined(k)&&s.is(k.range)&&R.string(k.message)&&(R.number(k.severity)||R.undefined(k.severity))&&(R.integer(k.code)||R.string(k.code)||R.undefined(k.code))&&(R.undefined(k.codeDescription)||R.string((b=k.codeDescription)===null||b===void 0?void 0:b.href))&&(R.string(k.source)||R.undefined(k.source))&&(R.undefined(k.relatedInformation)||R.typedArray(k.relatedInformation,p.is))}v.is=F})(_=e.Diagnostic||(e.Diagnostic={}));var g;(function(v){function A(N,b){for(var k=[],j=2;j<arguments.length;j++)k[j-2]=arguments[j];var se={title:N,command:b};return R.defined(k)&&k.length>0&&(se.arguments=k),se}v.create=A;function F(N){var b=N;return R.defined(b)&&R.string(b.title)&&R.string(b.command)}v.is=F})(g=e.Command||(e.Command={}));var y;(function(v){function A(k,j){return{range:k,newText:j}}v.replace=A;function F(k,j){return{range:{start:k,end:k},newText:j}}v.insert=F;function N(k){return{range:k,newText:""}}v.del=N;function b(k){var j=k;return R.objectLiteral(j)&&R.string(j.newText)&&s.is(j.range)}v.is=b})(y=e.TextEdit||(e.TextEdit={}));var E;(function(v){function A(N,b,k){var j={label:N};return b!==void 0&&(j.needsConfirmation=b),k!==void 0&&(j.description=k),j}v.create=A;function F(N){var b=N;return b!==void 0&&R.objectLiteral(b)&&R.string(b.label)&&(R.boolean(b.needsConfirmation)||b.needsConfirmation===void 0)&&(R.string(b.description)||b.description===void 0)}v.is=F})(E=e.ChangeAnnotation||(e.ChangeAnnotation={}));var L;(function(v){function A(F){var N=F;return typeof N=="string"}v.is=A})(L=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var C;(function(v){function A(k,j,se){return{range:k,newText:j,annotationId:se}}v.replace=A;function F(k,j,se){return{range:{start:k,end:k},newText:j,annotationId:se}}v.insert=F;function N(k,j){return{range:k,newText:"",annotationId:j}}v.del=N;function b(k){var j=k;return y.is(j)&&(E.is(j.annotationId)||L.is(j.annotationId))}v.is=b})(C=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var B;(function(v){function A(N,b){return{textDocument:N,edits:b}}v.create=A;function F(N){var b=N;return R.defined(b)&&ht.is(b.textDocument)&&Array.isArray(b.edits)}v.is=F})(B=e.TextDocumentEdit||(e.TextDocumentEdit={}));var w;(function(v){function A(N,b,k){var j={kind:"create",uri:N};return b!==void 0&&(b.overwrite!==void 0||b.ignoreIfExists!==void 0)&&(j.options=b),k!==void 0&&(j.annotationId=k),j}v.create=A;function F(N){var b=N;return b&&b.kind==="create"&&R.string(b.uri)&&(b.options===void 0||(b.options.overwrite===void 0||R.boolean(b.options.overwrite))&&(b.options.ignoreIfExists===void 0||R.boolean(b.options.ignoreIfExists)))&&(b.annotationId===void 0||L.is(b.annotationId))}v.is=F})(w=e.CreateFile||(e.CreateFile={}));var $;(function(v){function A(N,b,k,j){var se={kind:"rename",oldUri:N,newUri:b};return k!==void 0&&(k.overwrite!==void 0||k.ignoreIfExists!==void 0)&&(se.options=k),j!==void 0&&(se.annotationId=j),se}v.create=A;function F(N){var b=N;return b&&b.kind==="rename"&&R.string(b.oldUri)&&R.string(b.newUri)&&(b.options===void 0||(b.options.overwrite===void 0||R.boolean(b.options.overwrite))&&(b.options.ignoreIfExists===void 0||R.boolean(b.options.ignoreIfExists)))&&(b.annotationId===void 0||L.is(b.annotationId))}v.is=F})($=e.RenameFile||(e.RenameFile={}));var oe;(function(v){function A(N,b,k){var j={kind:"delete",uri:N};return b!==void 0&&(b.recursive!==void 0||b.ignoreIfNotExists!==void 0)&&(j.options=b),k!==void 0&&(j.annotationId=k),j}v.create=A;function F(N){var b=N;return b&&b.kind==="delete"&&R.string(b.uri)&&(b.options===void 0||(b.options.recursive===void 0||R.boolean(b.options.recursive))&&(b.options.ignoreIfNotExists===void 0||R.boolean(b.options.ignoreIfNotExists)))&&(b.annotationId===void 0||L.is(b.annotationId))}v.is=F})(oe=e.DeleteFile||(e.DeleteFile={}));var U;(function(v){function A(F){var N=F;return N&&(N.changes!==void 0||N.documentChanges!==void 0)&&(N.documentChanges===void 0||N.documentChanges.every(function(b){return R.string(b.kind)?w.is(b)||$.is(b)||oe.is(b):B.is(b)}))}v.is=A})(U=e.WorkspaceEdit||(e.WorkspaceEdit={}));var J=function(){function v(A,F){this.edits=A,this.changeAnnotations=F}return v.prototype.insert=function(A,F,N){var b,k;if(N===void 0?b=y.insert(A,F):L.is(N)?(k=N,b=C.insert(A,F,N)):(this.assertChangeAnnotations(this.changeAnnotations),k=this.changeAnnotations.manage(N),b=C.insert(A,F,k)),this.edits.push(b),k!==void 0)return k},v.prototype.replace=function(A,F,N){var b,k;if(N===void 0?b=y.replace(A,F):L.is(N)?(k=N,b=C.replace(A,F,N)):(this.assertChangeAnnotations(this.changeAnnotations),k=this.changeAnnotations.manage(N),b=C.replace(A,F,k)),this.edits.push(b),k!==void 0)return k},v.prototype.delete=function(A,F){var N,b;if(F===void 0?N=y.del(A):L.is(F)?(b=F,N=C.del(A,F)):(this.assertChangeAnnotations(this.changeAnnotations),b=this.changeAnnotations.manage(F),N=C.del(A,b)),this.edits.push(N),b!==void 0)return b},v.prototype.add=function(A){this.edits.push(A)},v.prototype.all=function(){return this.edits},v.prototype.clear=function(){this.edits.splice(0,this.edits.length)},v.prototype.assertChangeAnnotations=function(A){if(A===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},v}(),ce=function(){function v(A){this._annotations=A===void 0?Object.create(null):A,this._counter=0,this._size=0}return v.prototype.all=function(){return this._annotations},Object.defineProperty(v.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),v.prototype.manage=function(A,F){var N;if(L.is(A)?N=A:(N=this.nextId(),F=A),this._annotations[N]!==void 0)throw new Error("Id "+N+" is already in use.");if(F===void 0)throw new Error("No annotation provided for id "+N);return this._annotations[N]=F,this._size++,N},v.prototype.nextId=function(){return this._counter++,this._counter.toString()},v}(),ne=function(){function v(A){var F=this;this._textEditChanges=Object.create(null),A!==void 0?(this._workspaceEdit=A,A.documentChanges?(this._changeAnnotations=new ce(A.changeAnnotations),A.changeAnnotations=this._changeAnnotations.all(),A.documentChanges.forEach(function(N){if(B.is(N)){var b=new J(N.edits,F._changeAnnotations);F._textEditChanges[N.textDocument.uri]=b}})):A.changes&&Object.keys(A.changes).forEach(function(N){var b=new J(A.changes[N]);F._textEditChanges[N]=b})):this._workspaceEdit={}}return Object.defineProperty(v.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),v.prototype.getTextEditChange=function(A){if(ht.is(A)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var F={uri:A.uri,version:A.version},N=this._textEditChanges[F.uri];if(!N){var b=[],k={textDocument:F,edits:b};this._workspaceEdit.documentChanges.push(k),N=new J(b,this._changeAnnotations),this._textEditChanges[F.uri]=N}return N}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var N=this._textEditChanges[A];if(!N){var b=[];this._workspaceEdit.changes[A]=b,N=new J(b),this._textEditChanges[A]=N}return N}},v.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new ce,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},v.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},v.prototype.createFile=function(A,F,N){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var b;E.is(F)||L.is(F)?b=F:N=F;var k,j;if(b===void 0?k=w.create(A,N):(j=L.is(b)?b:this._changeAnnotations.manage(b),k=w.create(A,N,j)),this._workspaceEdit.documentChanges.push(k),j!==void 0)return j},v.prototype.renameFile=function(A,F,N,b){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var k;E.is(N)||L.is(N)?k=N:b=N;var j,se;if(k===void 0?j=$.create(A,F,b):(se=L.is(k)?k:this._changeAnnotations.manage(k),j=$.create(A,F,b,se)),this._workspaceEdit.documentChanges.push(j),se!==void 0)return se},v.prototype.deleteFile=function(A,F,N){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var b;E.is(F)||L.is(F)?b=F:N=F;var k,j;if(b===void 0?k=oe.create(A,N):(j=L.is(b)?b:this._changeAnnotations.manage(b),k=oe.create(A,N,j)),this._workspaceEdit.documentChanges.push(k),j!==void 0)return j},v}();e.WorkspaceChange=ne;var X;(function(v){function A(N){return{uri:N}}v.create=A;function F(N){var b=N;return R.defined(b)&&R.string(b.uri)}v.is=F})(X=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var Be;(function(v){function A(N,b){return{uri:N,version:b}}v.create=A;function F(N){var b=N;return R.defined(b)&&R.string(b.uri)&&R.integer(b.version)}v.is=F})(Be=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var ht;(function(v){function A(N,b){return{uri:N,version:b}}v.create=A;function F(N){var b=N;return R.defined(b)&&R.string(b.uri)&&(b.version===null||R.integer(b.version))}v.is=F})(ht=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var oi;(function(v){function A(N,b,k,j){return{uri:N,languageId:b,version:k,text:j}}v.create=A;function F(N){var b=N;return R.defined(b)&&R.string(b.uri)&&R.string(b.languageId)&&R.integer(b.version)&&R.string(b.text)}v.is=F})(oi=e.TextDocumentItem||(e.TextDocumentItem={}));var it;(function(v){v.PlainText="plaintext",v.Markdown="markdown"})(it=e.MarkupKind||(e.MarkupKind={})),function(v){function A(F){var N=F;return N===v.PlainText||N===v.Markdown}v.is=A}(it=e.MarkupKind||(e.MarkupKind={}));var Qe;(function(v){function A(F){var N=F;return R.objectLiteral(F)&&it.is(N.kind)&&R.string(N.value)}v.is=A})(Qe=e.MarkupContent||(e.MarkupContent={}));var Wn;(function(v){v.Text=1,v.Method=2,v.Function=3,v.Constructor=4,v.Field=5,v.Variable=6,v.Class=7,v.Interface=8,v.Module=9,v.Property=10,v.Unit=11,v.Value=12,v.Enum=13,v.Keyword=14,v.Snippet=15,v.Color=16,v.File=17,v.Reference=18,v.Folder=19,v.EnumMember=20,v.Constant=21,v.Struct=22,v.Event=23,v.Operator=24,v.TypeParameter=25})(Wn=e.CompletionItemKind||(e.CompletionItemKind={}));var Hn;(function(v){v.PlainText=1,v.Snippet=2})(Hn=e.InsertTextFormat||(e.InsertTextFormat={}));var he;(function(v){v.Deprecated=1})(he=e.CompletionItemTag||(e.CompletionItemTag={}));var pe;(function(v){function A(N,b,k){return{newText:N,insert:b,replace:k}}v.create=A;function F(N){var b=N;return b&&R.string(b.newText)&&s.is(b.insert)&&s.is(b.replace)}v.is=F})(pe=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var be;(function(v){v.asIs=1,v.adjustIndentation=2})(be=e.InsertTextMode||(e.InsertTextMode={}));var de;(function(v){function A(F){return{label:F}}v.create=A})(de=e.CompletionItem||(e.CompletionItem={}));var Ee;(function(v){function A(F,N){return{items:F||[],isIncomplete:!!N}}v.create=A})(Ee=e.CompletionList||(e.CompletionList={}));var Ft;(function(v){function A(N){return N.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}v.fromPlainText=A;function F(N){var b=N;return R.string(b)||R.objectLiteral(b)&&R.string(b.language)&&R.string(b.value)}v.is=F})(Ft=e.MarkedString||(e.MarkedString={}));var Pn;(function(v){function A(F){var N=F;return!!N&&R.objectLiteral(N)&&(Qe.is(N.contents)||Ft.is(N.contents)||R.typedArray(N.contents,Ft.is))&&(F.range===void 0||s.is(F.range))}v.is=A})(Pn=e.Hover||(e.Hover={}));var lo;(function(v){function A(F,N){return N?{label:F,documentation:N}:{label:F}}v.create=A})(lo=e.ParameterInformation||(e.ParameterInformation={}));var _s;(function(v){function A(F,N){for(var b=[],k=2;k<arguments.length;k++)b[k-2]=arguments[k];var j={label:F};return R.defined(N)&&(j.documentation=N),R.defined(b)?j.parameters=b:j.parameters=[],j}v.create=A})(_s=e.SignatureInformation||(e.SignatureInformation={}));var Yn;(function(v){v.Text=1,v.Read=2,v.Write=3})(Yn=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var uo;(function(v){function A(F,N){var b={range:F};return R.number(N)&&(b.kind=N),b}v.create=A})(uo=e.DocumentHighlight||(e.DocumentHighlight={}));var pa;(function(v){v.File=1,v.Module=2,v.Namespace=3,v.Package=4,v.Class=5,v.Method=6,v.Property=7,v.Field=8,v.Constructor=9,v.Enum=10,v.Interface=11,v.Function=12,v.Variable=13,v.Constant=14,v.String=15,v.Number=16,v.Boolean=17,v.Array=18,v.Object=19,v.Key=20,v.Null=21,v.EnumMember=22,v.Struct=23,v.Event=24,v.Operator=25,v.TypeParameter=26})(pa=e.SymbolKind||(e.SymbolKind={}));var ma;(function(v){v.Deprecated=1})(ma=e.SymbolTag||(e.SymbolTag={}));var Kn;(function(v){function A(F,N,b,k,j){var se={name:F,kind:N,location:{uri:k,range:b}};return j&&(se.containerName=j),se}v.create=A})(Kn=e.SymbolInformation||(e.SymbolInformation={}));var Nn;(function(v){function A(N,b,k,j,se,_e){var De={name:N,detail:b,kind:k,range:j,selectionRange:se};return _e!==void 0&&(De.children=_e),De}v.create=A;function F(N){var b=N;return b&&R.string(b.name)&&R.number(b.kind)&&s.is(b.range)&&s.is(b.selectionRange)&&(b.detail===void 0||R.string(b.detail))&&(b.deprecated===void 0||R.boolean(b.deprecated))&&(b.children===void 0||Array.isArray(b.children))&&(b.tags===void 0||Array.isArray(b.tags))}v.is=F})(Nn=e.DocumentSymbol||(e.DocumentSymbol={}));var co;(function(v){v.Empty="",v.QuickFix="quickfix",v.Refactor="refactor",v.RefactorExtract="refactor.extract",v.RefactorInline="refactor.inline",v.RefactorRewrite="refactor.rewrite",v.Source="source",v.SourceOrganizeImports="source.organizeImports",v.SourceFixAll="source.fixAll"})(co=e.CodeActionKind||(e.CodeActionKind={}));var ha;(function(v){function A(N,b){var k={diagnostics:N};return b!=null&&(k.only=b),k}v.create=A;function F(N){var b=N;return R.defined(b)&&R.typedArray(b.diagnostics,_.is)&&(b.only===void 0||R.typedArray(b.only,R.string))}v.is=F})(ha=e.CodeActionContext||(e.CodeActionContext={}));var ar;(function(v){function A(N,b,k){var j={title:N},se=!0;return typeof b=="string"?(se=!1,j.kind=b):g.is(b)?j.command=b:j.edit=b,se&&k!==void 0&&(j.kind=k),j}v.create=A;function F(N){var b=N;return b&&R.string(b.title)&&(b.diagnostics===void 0||R.typedArray(b.diagnostics,_.is))&&(b.kind===void 0||R.string(b.kind))&&(b.edit!==void 0||b.command!==void 0)&&(b.command===void 0||g.is(b.command))&&(b.isPreferred===void 0||R.boolean(b.isPreferred))&&(b.edit===void 0||U.is(b.edit))}v.is=F})(ar=e.CodeAction||(e.CodeAction={}));var li;(function(v){function A(N,b){var k={range:N};return R.defined(b)&&(k.data=b),k}v.create=A;function F(N){var b=N;return R.defined(b)&&s.is(b.range)&&(R.undefined(b.command)||g.is(b.command))}v.is=F})(li=e.CodeLens||(e.CodeLens={}));var or;(function(v){function A(N,b){return{tabSize:N,insertSpaces:b}}v.create=A;function F(N){var b=N;return R.defined(b)&&R.uinteger(b.tabSize)&&R.boolean(b.insertSpaces)}v.is=F})(or=e.FormattingOptions||(e.FormattingOptions={}));var Zr;(function(v){function A(N,b,k){return{range:N,target:b,data:k}}v.create=A;function F(N){var b=N;return R.defined(b)&&s.is(b.range)&&(R.undefined(b.target)||R.string(b.target))}v.is=F})(Zr=e.DocumentLink||(e.DocumentLink={}));var en;(function(v){function A(N,b){return{range:N,parent:b}}v.create=A;function F(N){var b=N;return b!==void 0&&s.is(b.range)&&(b.parent===void 0||v.is(b.parent))}v.is=F})(en=e.SelectionRange||(e.SelectionRange={})),e.EOL=[`
`,`\r
`,"\r"];var Rr;(function(v){function A(k,j,se,_e){return new x(k,j,se,_e)}v.create=A;function F(k){var j=k;return!!(R.defined(j)&&R.string(j.uri)&&(R.undefined(j.languageId)||R.string(j.languageId))&&R.uinteger(j.lineCount)&&R.func(j.getText)&&R.func(j.positionAt)&&R.func(j.offsetAt))}v.is=F;function N(k,j){for(var se=k.getText(),_e=b(j,function(ue,Ue){var Ge=ue.range.start.line-Ue.range.start.line;return Ge===0?ue.range.start.character-Ue.range.start.character:Ge}),De=se.length,lt=_e.length-1;lt>=0;lt--){var Ot=_e[lt],Bt=k.offsetAt(Ot.range.start),O=k.offsetAt(Ot.range.end);if(O<=De)se=se.substring(0,Bt)+Ot.newText+se.substring(O,se.length);else throw new Error("Overlapping edit");De=Bt}return se}v.applyEdits=N;function b(k,j){if(k.length<=1)return k;var se=k.length/2|0,_e=k.slice(0,se),De=k.slice(se);b(_e,j),b(De,j);for(var lt=0,Ot=0,Bt=0;lt<_e.length&&Ot<De.length;){var O=j(_e[lt],De[Ot]);O<=0?k[Bt++]=_e[lt++]:k[Bt++]=De[Ot++]}for(;lt<_e.length;)k[Bt++]=_e[lt++];for(;Ot<De.length;)k[Bt++]=De[Ot++];return k}})(Rr=e.TextDocument||(e.TextDocument={}));var x=function(){function v(A,F,N,b){this._uri=A,this._languageId=F,this._version=N,this._content=b,this._lineOffsets=void 0}return Object.defineProperty(v.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),v.prototype.getText=function(A){if(A){var F=this.offsetAt(A.start),N=this.offsetAt(A.end);return this._content.substring(F,N)}return this._content},v.prototype.update=function(A,F){this._content=A.text,this._version=F,this._lineOffsets=void 0},v.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var A=[],F=this._content,N=!0,b=0;b<F.length;b++){N&&(A.push(b),N=!1);var k=F.charAt(b);N=k==="\r"||k===`
`,k==="\r"&&b+1<F.length&&F.charAt(b+1)===`
`&&b++}N&&F.length>0&&A.push(F.length),this._lineOffsets=A}return this._lineOffsets},v.prototype.positionAt=function(A){A=Math.max(Math.min(A,this._content.length),0);var F=this.getLineOffsets(),N=0,b=F.length;if(b===0)return n.create(0,A);for(;N<b;){var k=Math.floor((N+b)/2);F[k]>A?b=k:N=k+1}var j=N-1;return n.create(j,A-F[j])},v.prototype.offsetAt=function(A){var F=this.getLineOffsets();if(A.line>=F.length)return this._content.length;if(A.line<0)return 0;var N=F[A.line],b=A.line+1<F.length?F[A.line+1]:this._content.length;return Math.max(Math.min(N+A.character,b),N)},Object.defineProperty(v.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),v}(),R;(function(v){var A=Object.prototype.toString;function F(O){return typeof O<"u"}v.defined=F;function N(O){return typeof O>"u"}v.undefined=N;function b(O){return O===!0||O===!1}v.boolean=b;function k(O){return A.call(O)==="[object String]"}v.string=k;function j(O){return A.call(O)==="[object Number]"}v.number=j;function se(O,ue,Ue){return A.call(O)==="[object Number]"&&ue<=O&&O<=Ue}v.numberRange=se;function _e(O){return A.call(O)==="[object Number]"&&-2147483648<=O&&O<=2147483647}v.integer=_e;function De(O){return A.call(O)==="[object Number]"&&0<=O&&O<=2147483647}v.uinteger=De;function lt(O){return A.call(O)==="[object Function]"}v.func=lt;function Ot(O){return O!==null&&typeof O=="object"}v.objectLiteral=Ot;function Bt(O,ue){return Array.isArray(O)&&O.every(ue)}v.typedArray=Bt})(R||(R={}))})});var di=Z(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.ProtocolNotificationType=Ar.ProtocolNotificationType0=Ar.ProtocolRequestType=Ar.ProtocolRequestType0=Ar.RegistrationType=void 0;var To=yo(),Ih=class{constructor(e){this.method=e}};Ar.RegistrationType=Ih;var Ph=class extends To.RequestType0{constructor(e){super(e)}};Ar.ProtocolRequestType0=Ph;var Nh=class extends To.RequestType{constructor(e){super(e,To.ParameterStructures.byName)}};Ar.ProtocolRequestType=Nh;var Sh=class extends To.NotificationType0{constructor(e){super(e)}};Ar.ProtocolNotificationType0=Sh;var Ch=class extends To.NotificationType{constructor(e){super(e,To.ParameterStructures.byName)}};Ar.ProtocolNotificationType=Ch});var IT=Z(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.objectLiteral=Yt.typedArray=Yt.stringArray=Yt.array=Yt.func=Yt.error=Yt.number=Yt.string=Yt.boolean=void 0;function x0(t){return t===!0||t===!1}Yt.boolean=x0;function bT(t){return typeof t=="string"||t instanceof String}Yt.string=bT;function D0(t){return typeof t=="number"||t instanceof Number}Yt.number=D0;function F0(t){return t instanceof Error}Yt.error=F0;function O0(t){return typeof t=="function"}Yt.func=O0;function vT(t){return Array.isArray(t)}Yt.array=vT;function L0(t){return vT(t)&&t.every(e=>bT(e))}Yt.stringArray=L0;function k0(t,e){return Array.isArray(t)&&t.every(e)}Yt.typedArray=k0;function M0(t){return t!==null&&typeof t=="object"}Yt.objectLiteral=M0});var PT=Z(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});Yl.ImplementationRequest=void 0;var q0=di(),V0;(function(t){t.method="textDocument/implementation",t.type=new q0.ProtocolRequestType(t.method)})(V0=Yl.ImplementationRequest||(Yl.ImplementationRequest={}))});var NT=Z(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});Kl.TypeDefinitionRequest=void 0;var B0=di(),j0;(function(t){t.method="textDocument/typeDefinition",t.type=new B0.ProtocolRequestType(t.method)})(j0=Kl.TypeDefinitionRequest||(Kl.TypeDefinitionRequest={}))});var CT=Z(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.DidChangeWorkspaceFoldersNotification=Ts.WorkspaceFoldersRequest=void 0;var ST=di(),U0;(function(t){t.type=new ST.ProtocolRequestType0("workspace/workspaceFolders")})(U0=Ts.WorkspaceFoldersRequest||(Ts.WorkspaceFoldersRequest={}));var G0;(function(t){t.type=new ST.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(G0=Ts.DidChangeWorkspaceFoldersNotification||(Ts.DidChangeWorkspaceFoldersNotification={}))});var RT=Z($l=>{"use strict";Object.defineProperty($l,"__esModule",{value:!0});$l.ConfigurationRequest=void 0;var W0=di(),H0;(function(t){t.type=new W0.ProtocolRequestType("workspace/configuration")})(H0=$l.ConfigurationRequest||($l.ConfigurationRequest={}))});var ET=Z(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.ColorPresentationRequest=bs.DocumentColorRequest=void 0;var AT=di(),Y0;(function(t){t.method="textDocument/documentColor",t.type=new AT.ProtocolRequestType(t.method)})(Y0=bs.DocumentColorRequest||(bs.DocumentColorRequest={}));var K0;(function(t){t.type=new AT.ProtocolRequestType("textDocument/colorPresentation")})(K0=bs.ColorPresentationRequest||(bs.ColorPresentationRequest={}))});var Rh=Z(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.FoldingRangeRequest=vs.FoldingRangeKind=void 0;var $0=di(),z0;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(z0=vs.FoldingRangeKind||(vs.FoldingRangeKind={}));var X0;(function(t){t.method="textDocument/foldingRange",t.type=new $0.ProtocolRequestType(t.method)})(X0=vs.FoldingRangeRequest||(vs.FoldingRangeRequest={}))});var wT=Z(zl=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});zl.DeclarationRequest=void 0;var Q0=di(),J0;(function(t){t.method="textDocument/declaration",t.type=new Q0.ProtocolRequestType(t.method)})(J0=zl.DeclarationRequest||(zl.DeclarationRequest={}))});var xT=Z(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.SelectionRangeRequest=void 0;var Z0=di(),eE;(function(t){t.method="textDocument/selectionRange",t.type=new Z0.ProtocolRequestType(t.method)})(eE=Xl.SelectionRangeRequest||(Xl.SelectionRangeRequest={}))});var FT=Z(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.WorkDoneProgressCancelNotification=nn.WorkDoneProgressCreateRequest=nn.WorkDoneProgress=void 0;var tE=yo(),DT=di(),iE;(function(t){t.type=new tE.ProgressType;function e(i){return i===t.type}t.is=e})(iE=nn.WorkDoneProgress||(nn.WorkDoneProgress={}));var rE;(function(t){t.type=new DT.ProtocolRequestType("window/workDoneProgress/create")})(rE=nn.WorkDoneProgressCreateRequest||(nn.WorkDoneProgressCreateRequest={}));var nE;(function(t){t.type=new DT.ProtocolNotificationType("window/workDoneProgress/cancel")})(nE=nn.WorkDoneProgressCancelNotification||(nn.WorkDoneProgressCancelNotification={}))});var OT=Z(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.CallHierarchyOutgoingCallsRequest=sn.CallHierarchyIncomingCallsRequest=sn.CallHierarchyPrepareRequest=void 0;var Ah=di(),sE;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new Ah.ProtocolRequestType(t.method)})(sE=sn.CallHierarchyPrepareRequest||(sn.CallHierarchyPrepareRequest={}));var aE;(function(t){t.method="callHierarchy/incomingCalls",t.type=new Ah.ProtocolRequestType(t.method)})(aE=sn.CallHierarchyIncomingCallsRequest||(sn.CallHierarchyIncomingCallsRequest={}));var oE;(function(t){t.method="callHierarchy/outgoingCalls",t.type=new Ah.ProtocolRequestType(t.method)})(oE=sn.CallHierarchyOutgoingCallsRequest||(sn.CallHierarchyOutgoingCallsRequest={}))});var LT=Z(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.SemanticTokensRefreshRequest=ut.SemanticTokensRangeRequest=ut.SemanticTokensDeltaRequest=ut.SemanticTokensRequest=ut.SemanticTokensRegistrationType=ut.TokenFormat=ut.SemanticTokens=ut.SemanticTokenModifiers=ut.SemanticTokenTypes=void 0;var Ql=di(),lE;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator"})(lE=ut.SemanticTokenTypes||(ut.SemanticTokenTypes={}));var uE;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(uE=ut.SemanticTokenModifiers||(ut.SemanticTokenModifiers={}));var cE;(function(t){function e(i){let r=i;return r!==void 0&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(cE=ut.SemanticTokens||(ut.SemanticTokens={}));var fE;(function(t){t.Relative="relative"})(fE=ut.TokenFormat||(ut.TokenFormat={}));var dE;(function(t){t.method="textDocument/semanticTokens",t.type=new Ql.RegistrationType(t.method)})(dE=ut.SemanticTokensRegistrationType||(ut.SemanticTokensRegistrationType={}));var pE;(function(t){t.method="textDocument/semanticTokens/full",t.type=new Ql.ProtocolRequestType(t.method)})(pE=ut.SemanticTokensRequest||(ut.SemanticTokensRequest={}));var mE;(function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new Ql.ProtocolRequestType(t.method)})(mE=ut.SemanticTokensDeltaRequest||(ut.SemanticTokensDeltaRequest={}));var hE;(function(t){t.method="textDocument/semanticTokens/range",t.type=new Ql.ProtocolRequestType(t.method)})(hE=ut.SemanticTokensRangeRequest||(ut.SemanticTokensRangeRequest={}));var gE;(function(t){t.method="workspace/semanticTokens/refresh",t.type=new Ql.ProtocolRequestType0(t.method)})(gE=ut.SemanticTokensRefreshRequest||(ut.SemanticTokensRefreshRequest={}))});var kT=Z(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl.ShowDocumentRequest=void 0;var _E=di(),yE;(function(t){t.method="window/showDocument",t.type=new _E.ProtocolRequestType(t.method)})(yE=Jl.ShowDocumentRequest||(Jl.ShowDocumentRequest={}))});var MT=Z(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.LinkedEditingRangeRequest=void 0;var TE=di(),bE;(function(t){t.method="textDocument/linkedEditingRange",t.type=new TE.ProtocolRequestType(t.method)})(bE=Zl.LinkedEditingRangeRequest||(Zl.LinkedEditingRangeRequest={}))});var qT=Z(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.WillDeleteFilesRequest=Et.DidDeleteFilesNotification=Et.DidRenameFilesNotification=Et.WillRenameFilesRequest=Et.DidCreateFilesNotification=Et.WillCreateFilesRequest=Et.FileOperationPatternKind=void 0;var bo=di(),vE;(function(t){t.file="file",t.folder="folder"})(vE=Et.FileOperationPatternKind||(Et.FileOperationPatternKind={}));var IE;(function(t){t.method="workspace/willCreateFiles",t.type=new bo.ProtocolRequestType(t.method)})(IE=Et.WillCreateFilesRequest||(Et.WillCreateFilesRequest={}));var PE;(function(t){t.method="workspace/didCreateFiles",t.type=new bo.ProtocolNotificationType(t.method)})(PE=Et.DidCreateFilesNotification||(Et.DidCreateFilesNotification={}));var NE;(function(t){t.method="workspace/willRenameFiles",t.type=new bo.ProtocolRequestType(t.method)})(NE=Et.WillRenameFilesRequest||(Et.WillRenameFilesRequest={}));var SE;(function(t){t.method="workspace/didRenameFiles",t.type=new bo.ProtocolNotificationType(t.method)})(SE=Et.DidRenameFilesNotification||(Et.DidRenameFilesNotification={}));var CE;(function(t){t.method="workspace/didDeleteFiles",t.type=new bo.ProtocolNotificationType(t.method)})(CE=Et.DidDeleteFilesNotification||(Et.DidDeleteFilesNotification={}));var RE;(function(t){t.method="workspace/willDeleteFiles",t.type=new bo.ProtocolRequestType(t.method)})(RE=Et.WillDeleteFilesRequest||(Et.WillDeleteFilesRequest={}))});var VT=Z(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.MonikerRequest=an.MonikerKind=an.UniquenessLevel=void 0;var AE=di(),EE;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(EE=an.UniquenessLevel||(an.UniquenessLevel={}));var wE;(function(t){t.import="import",t.export="export",t.local="local"})(wE=an.MonikerKind||(an.MonikerKind={}));var xE;(function(t){t.method="textDocument/moniker",t.type=new AE.ProtocolRequestType(t.method)})(xE=an.MonikerRequest||(an.MonikerRequest={}))});var WT=Z(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});S.DocumentLinkRequest=S.CodeLensRefreshRequest=S.CodeLensResolveRequest=S.CodeLensRequest=S.WorkspaceSymbolRequest=S.CodeActionResolveRequest=S.CodeActionRequest=S.DocumentSymbolRequest=S.DocumentHighlightRequest=S.ReferencesRequest=S.DefinitionRequest=S.SignatureHelpRequest=S.SignatureHelpTriggerKind=S.HoverRequest=S.CompletionResolveRequest=S.CompletionRequest=S.CompletionTriggerKind=S.PublishDiagnosticsNotification=S.WatchKind=S.FileChangeType=S.DidChangeWatchedFilesNotification=S.WillSaveTextDocumentWaitUntilRequest=S.WillSaveTextDocumentNotification=S.TextDocumentSaveReason=S.DidSaveTextDocumentNotification=S.DidCloseTextDocumentNotification=S.DidChangeTextDocumentNotification=S.TextDocumentContentChangeEvent=S.DidOpenTextDocumentNotification=S.TextDocumentSyncKind=S.TelemetryEventNotification=S.LogMessageNotification=S.ShowMessageRequest=S.ShowMessageNotification=S.MessageType=S.DidChangeConfigurationNotification=S.ExitNotification=S.ShutdownRequest=S.InitializedNotification=S.InitializeError=S.InitializeRequest=S.WorkDoneProgressOptions=S.TextDocumentRegistrationOptions=S.StaticRegistrationOptions=S.FailureHandlingKind=S.ResourceOperationKind=S.UnregistrationRequest=S.RegistrationRequest=S.DocumentSelector=S.DocumentFilter=void 0;S.MonikerRequest=S.MonikerKind=S.UniquenessLevel=S.WillDeleteFilesRequest=S.DidDeleteFilesNotification=S.WillRenameFilesRequest=S.DidRenameFilesNotification=S.WillCreateFilesRequest=S.DidCreateFilesNotification=S.FileOperationPatternKind=S.LinkedEditingRangeRequest=S.ShowDocumentRequest=S.SemanticTokensRegistrationType=S.SemanticTokensRefreshRequest=S.SemanticTokensRangeRequest=S.SemanticTokensDeltaRequest=S.SemanticTokensRequest=S.TokenFormat=S.SemanticTokens=S.SemanticTokenModifiers=S.SemanticTokenTypes=S.CallHierarchyPrepareRequest=S.CallHierarchyOutgoingCallsRequest=S.CallHierarchyIncomingCallsRequest=S.WorkDoneProgressCancelNotification=S.WorkDoneProgressCreateRequest=S.WorkDoneProgress=S.SelectionRangeRequest=S.DeclarationRequest=S.FoldingRangeRequest=S.ColorPresentationRequest=S.DocumentColorRequest=S.ConfigurationRequest=S.DidChangeWorkspaceFoldersNotification=S.WorkspaceFoldersRequest=S.TypeDefinitionRequest=S.ImplementationRequest=S.ApplyWorkspaceEditRequest=S.ExecuteCommandRequest=S.PrepareRenameRequest=S.RenameRequest=S.PrepareSupportDefaultBehavior=S.DocumentOnTypeFormattingRequest=S.DocumentRangeFormattingRequest=S.DocumentFormattingRequest=S.DocumentLinkResolveRequest=void 0;var Is=IT(),ke=di(),DE=PT();Object.defineProperty(S,"ImplementationRequest",{enumerable:!0,get:function(){return DE.ImplementationRequest}});var FE=NT();Object.defineProperty(S,"TypeDefinitionRequest",{enumerable:!0,get:function(){return FE.TypeDefinitionRequest}});var BT=CT();Object.defineProperty(S,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return BT.WorkspaceFoldersRequest}});Object.defineProperty(S,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return BT.DidChangeWorkspaceFoldersNotification}});var OE=RT();Object.defineProperty(S,"ConfigurationRequest",{enumerable:!0,get:function(){return OE.ConfigurationRequest}});var jT=ET();Object.defineProperty(S,"DocumentColorRequest",{enumerable:!0,get:function(){return jT.DocumentColorRequest}});Object.defineProperty(S,"ColorPresentationRequest",{enumerable:!0,get:function(){return jT.ColorPresentationRequest}});var LE=Rh();Object.defineProperty(S,"FoldingRangeRequest",{enumerable:!0,get:function(){return LE.FoldingRangeRequest}});var kE=wT();Object.defineProperty(S,"DeclarationRequest",{enumerable:!0,get:function(){return kE.DeclarationRequest}});var ME=xT();Object.defineProperty(S,"SelectionRangeRequest",{enumerable:!0,get:function(){return ME.SelectionRangeRequest}});var Eh=FT();Object.defineProperty(S,"WorkDoneProgress",{enumerable:!0,get:function(){return Eh.WorkDoneProgress}});Object.defineProperty(S,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Eh.WorkDoneProgressCreateRequest}});Object.defineProperty(S,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Eh.WorkDoneProgressCancelNotification}});var wh=OT();Object.defineProperty(S,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return wh.CallHierarchyIncomingCallsRequest}});Object.defineProperty(S,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return wh.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(S,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return wh.CallHierarchyPrepareRequest}});var Jn=LT();Object.defineProperty(S,"SemanticTokenTypes",{enumerable:!0,get:function(){return Jn.SemanticTokenTypes}});Object.defineProperty(S,"SemanticTokenModifiers",{enumerable:!0,get:function(){return Jn.SemanticTokenModifiers}});Object.defineProperty(S,"SemanticTokens",{enumerable:!0,get:function(){return Jn.SemanticTokens}});Object.defineProperty(S,"TokenFormat",{enumerable:!0,get:function(){return Jn.TokenFormat}});Object.defineProperty(S,"SemanticTokensRequest",{enumerable:!0,get:function(){return Jn.SemanticTokensRequest}});Object.defineProperty(S,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Jn.SemanticTokensDeltaRequest}});Object.defineProperty(S,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Jn.SemanticTokensRangeRequest}});Object.defineProperty(S,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Jn.SemanticTokensRefreshRequest}});Object.defineProperty(S,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Jn.SemanticTokensRegistrationType}});var qE=kT();Object.defineProperty(S,"ShowDocumentRequest",{enumerable:!0,get:function(){return qE.ShowDocumentRequest}});var VE=MT();Object.defineProperty(S,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return VE.LinkedEditingRangeRequest}});var Ia=qT();Object.defineProperty(S,"FileOperationPatternKind",{enumerable:!0,get:function(){return Ia.FileOperationPatternKind}});Object.defineProperty(S,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Ia.DidCreateFilesNotification}});Object.defineProperty(S,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Ia.WillCreateFilesRequest}});Object.defineProperty(S,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Ia.DidRenameFilesNotification}});Object.defineProperty(S,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Ia.WillRenameFilesRequest}});Object.defineProperty(S,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Ia.DidDeleteFilesNotification}});Object.defineProperty(S,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Ia.WillDeleteFilesRequest}});var xh=VT();Object.defineProperty(S,"UniquenessLevel",{enumerable:!0,get:function(){return xh.UniquenessLevel}});Object.defineProperty(S,"MonikerKind",{enumerable:!0,get:function(){return xh.MonikerKind}});Object.defineProperty(S,"MonikerRequest",{enumerable:!0,get:function(){return xh.MonikerRequest}});var UT;(function(t){function e(i){let r=i;return Is.string(r.language)||Is.string(r.scheme)||Is.string(r.pattern)}t.is=e})(UT=S.DocumentFilter||(S.DocumentFilter={}));var GT;(function(t){function e(i){if(!Array.isArray(i))return!1;for(let r of i)if(!Is.string(r)&&!UT.is(r))return!1;return!0}t.is=e})(GT=S.DocumentSelector||(S.DocumentSelector={}));var BE;(function(t){t.type=new ke.ProtocolRequestType("client/registerCapability")})(BE=S.RegistrationRequest||(S.RegistrationRequest={}));var jE;(function(t){t.type=new ke.ProtocolRequestType("client/unregisterCapability")})(jE=S.UnregistrationRequest||(S.UnregistrationRequest={}));var UE;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(UE=S.ResourceOperationKind||(S.ResourceOperationKind={}));var GE;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(GE=S.FailureHandlingKind||(S.FailureHandlingKind={}));var WE;(function(t){function e(i){let r=i;return r&&Is.string(r.id)&&r.id.length>0}t.hasId=e})(WE=S.StaticRegistrationOptions||(S.StaticRegistrationOptions={}));var HE;(function(t){function e(i){let r=i;return r&&(r.documentSelector===null||GT.is(r.documentSelector))}t.is=e})(HE=S.TextDocumentRegistrationOptions||(S.TextDocumentRegistrationOptions={}));var YE;(function(t){function e(r){let n=r;return Is.objectLiteral(n)&&(n.workDoneProgress===void 0||Is.boolean(n.workDoneProgress))}t.is=e;function i(r){let n=r;return n&&Is.boolean(n.workDoneProgress)}t.hasWorkDoneProgress=i})(YE=S.WorkDoneProgressOptions||(S.WorkDoneProgressOptions={}));var KE;(function(t){t.type=new ke.ProtocolRequestType("initialize")})(KE=S.InitializeRequest||(S.InitializeRequest={}));var $E;(function(t){t.unknownProtocolVersion=1})($E=S.InitializeError||(S.InitializeError={}));var zE;(function(t){t.type=new ke.ProtocolNotificationType("initialized")})(zE=S.InitializedNotification||(S.InitializedNotification={}));var XE;(function(t){t.type=new ke.ProtocolRequestType0("shutdown")})(XE=S.ShutdownRequest||(S.ShutdownRequest={}));var QE;(function(t){t.type=new ke.ProtocolNotificationType0("exit")})(QE=S.ExitNotification||(S.ExitNotification={}));var JE;(function(t){t.type=new ke.ProtocolNotificationType("workspace/didChangeConfiguration")})(JE=S.DidChangeConfigurationNotification||(S.DidChangeConfigurationNotification={}));var ZE;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(ZE=S.MessageType||(S.MessageType={}));var ew;(function(t){t.type=new ke.ProtocolNotificationType("window/showMessage")})(ew=S.ShowMessageNotification||(S.ShowMessageNotification={}));var tw;(function(t){t.type=new ke.ProtocolRequestType("window/showMessageRequest")})(tw=S.ShowMessageRequest||(S.ShowMessageRequest={}));var iw;(function(t){t.type=new ke.ProtocolNotificationType("window/logMessage")})(iw=S.LogMessageNotification||(S.LogMessageNotification={}));var rw;(function(t){t.type=new ke.ProtocolNotificationType("telemetry/event")})(rw=S.TelemetryEventNotification||(S.TelemetryEventNotification={}));var nw;(function(t){t.None=0,t.Full=1,t.Incremental=2})(nw=S.TextDocumentSyncKind||(S.TextDocumentSyncKind={}));var sw;(function(t){t.method="textDocument/didOpen",t.type=new ke.ProtocolNotificationType(t.method)})(sw=S.DidOpenTextDocumentNotification||(S.DidOpenTextDocumentNotification={}));var aw;(function(t){function e(r){let n=r;return n!=null&&typeof n.text=="string"&&n.range!==void 0&&(n.rangeLength===void 0||typeof n.rangeLength=="number")}t.isIncremental=e;function i(r){let n=r;return n!=null&&typeof n.text=="string"&&n.range===void 0&&n.rangeLength===void 0}t.isFull=i})(aw=S.TextDocumentContentChangeEvent||(S.TextDocumentContentChangeEvent={}));var ow;(function(t){t.method="textDocument/didChange",t.type=new ke.ProtocolNotificationType(t.method)})(ow=S.DidChangeTextDocumentNotification||(S.DidChangeTextDocumentNotification={}));var lw;(function(t){t.method="textDocument/didClose",t.type=new ke.ProtocolNotificationType(t.method)})(lw=S.DidCloseTextDocumentNotification||(S.DidCloseTextDocumentNotification={}));var uw;(function(t){t.method="textDocument/didSave",t.type=new ke.ProtocolNotificationType(t.method)})(uw=S.DidSaveTextDocumentNotification||(S.DidSaveTextDocumentNotification={}));var cw;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(cw=S.TextDocumentSaveReason||(S.TextDocumentSaveReason={}));var fw;(function(t){t.method="textDocument/willSave",t.type=new ke.ProtocolNotificationType(t.method)})(fw=S.WillSaveTextDocumentNotification||(S.WillSaveTextDocumentNotification={}));var dw;(function(t){t.method="textDocument/willSaveWaitUntil",t.type=new ke.ProtocolRequestType(t.method)})(dw=S.WillSaveTextDocumentWaitUntilRequest||(S.WillSaveTextDocumentWaitUntilRequest={}));var pw;(function(t){t.type=new ke.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(pw=S.DidChangeWatchedFilesNotification||(S.DidChangeWatchedFilesNotification={}));var mw;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(mw=S.FileChangeType||(S.FileChangeType={}));var hw;(function(t){t.Create=1,t.Change=2,t.Delete=4})(hw=S.WatchKind||(S.WatchKind={}));var gw;(function(t){t.type=new ke.ProtocolNotificationType("textDocument/publishDiagnostics")})(gw=S.PublishDiagnosticsNotification||(S.PublishDiagnosticsNotification={}));var _w;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(_w=S.CompletionTriggerKind||(S.CompletionTriggerKind={}));var yw;(function(t){t.method="textDocument/completion",t.type=new ke.ProtocolRequestType(t.method)})(yw=S.CompletionRequest||(S.CompletionRequest={}));var Tw;(function(t){t.method="completionItem/resolve",t.type=new ke.ProtocolRequestType(t.method)})(Tw=S.CompletionResolveRequest||(S.CompletionResolveRequest={}));var bw;(function(t){t.method="textDocument/hover",t.type=new ke.ProtocolRequestType(t.method)})(bw=S.HoverRequest||(S.HoverRequest={}));var vw;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(vw=S.SignatureHelpTriggerKind||(S.SignatureHelpTriggerKind={}));var Iw;(function(t){t.method="textDocument/signatureHelp",t.type=new ke.ProtocolRequestType(t.method)})(Iw=S.SignatureHelpRequest||(S.SignatureHelpRequest={}));var Pw;(function(t){t.method="textDocument/definition",t.type=new ke.ProtocolRequestType(t.method)})(Pw=S.DefinitionRequest||(S.DefinitionRequest={}));var Nw;(function(t){t.method="textDocument/references",t.type=new ke.ProtocolRequestType(t.method)})(Nw=S.ReferencesRequest||(S.ReferencesRequest={}));var Sw;(function(t){t.method="textDocument/documentHighlight",t.type=new ke.ProtocolRequestType(t.method)})(Sw=S.DocumentHighlightRequest||(S.DocumentHighlightRequest={}));var Cw;(function(t){t.method="textDocument/documentSymbol",t.type=new ke.ProtocolRequestType(t.method)})(Cw=S.DocumentSymbolRequest||(S.DocumentSymbolRequest={}));var Rw;(function(t){t.method="textDocument/codeAction",t.type=new ke.ProtocolRequestType(t.method)})(Rw=S.CodeActionRequest||(S.CodeActionRequest={}));var Aw;(function(t){t.method="codeAction/resolve",t.type=new ke.ProtocolRequestType(t.method)})(Aw=S.CodeActionResolveRequest||(S.CodeActionResolveRequest={}));var Ew;(function(t){t.method="workspace/symbol",t.type=new ke.ProtocolRequestType(t.method)})(Ew=S.WorkspaceSymbolRequest||(S.WorkspaceSymbolRequest={}));var ww;(function(t){t.method="textDocument/codeLens",t.type=new ke.ProtocolRequestType(t.method)})(ww=S.CodeLensRequest||(S.CodeLensRequest={}));var xw;(function(t){t.method="codeLens/resolve",t.type=new ke.ProtocolRequestType(t.method)})(xw=S.CodeLensResolveRequest||(S.CodeLensResolveRequest={}));var Dw;(function(t){t.method="workspace/codeLens/refresh",t.type=new ke.ProtocolRequestType0(t.method)})(Dw=S.CodeLensRefreshRequest||(S.CodeLensRefreshRequest={}));var Fw;(function(t){t.method="textDocument/documentLink",t.type=new ke.ProtocolRequestType(t.method)})(Fw=S.DocumentLinkRequest||(S.DocumentLinkRequest={}));var Ow;(function(t){t.method="documentLink/resolve",t.type=new ke.ProtocolRequestType(t.method)})(Ow=S.DocumentLinkResolveRequest||(S.DocumentLinkResolveRequest={}));var Lw;(function(t){t.method="textDocument/formatting",t.type=new ke.ProtocolRequestType(t.method)})(Lw=S.DocumentFormattingRequest||(S.DocumentFormattingRequest={}));var kw;(function(t){t.method="textDocument/rangeFormatting",t.type=new ke.ProtocolRequestType(t.method)})(kw=S.DocumentRangeFormattingRequest||(S.DocumentRangeFormattingRequest={}));var Mw;(function(t){t.method="textDocument/onTypeFormatting",t.type=new ke.ProtocolRequestType(t.method)})(Mw=S.DocumentOnTypeFormattingRequest||(S.DocumentOnTypeFormattingRequest={}));var qw;(function(t){t.Identifier=1})(qw=S.PrepareSupportDefaultBehavior||(S.PrepareSupportDefaultBehavior={}));var Vw;(function(t){t.method="textDocument/rename",t.type=new ke.ProtocolRequestType(t.method)})(Vw=S.RenameRequest||(S.RenameRequest={}));var Bw;(function(t){t.method="textDocument/prepareRename",t.type=new ke.ProtocolRequestType(t.method)})(Bw=S.PrepareRenameRequest||(S.PrepareRenameRequest={}));var jw;(function(t){t.type=new ke.ProtocolRequestType("workspace/executeCommand")})(jw=S.ExecuteCommandRequest||(S.ExecuteCommandRequest={}));var Uw;(function(t){t.type=new ke.ProtocolRequestType("workspace/applyEdit")})(Uw=S.ApplyWorkspaceEditRequest||(S.ApplyWorkspaceEditRequest={}))});var YT=Z(nf=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});nf.createProtocolConnection=void 0;var HT=yo();function Gw(t,e,i,r){return HT.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),HT.createMessageConnection(t,e,i,r)}nf.createProtocolConnection=Gw});var KT=Z(Mi=>{"use strict";var Ww=Mi&&Mi.__createBinding||(Object.create?function(t,e,i,r){r===void 0&&(r=i),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,r){r===void 0&&(r=i),t[r]=e[i]}),sf=Mi&&Mi.__exportStar||function(t,e){for(var i in t)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&Ww(e,t,i)};Object.defineProperty(Mi,"__esModule",{value:!0});Mi.LSPErrorCodes=Mi.createProtocolConnection=void 0;sf(yo(),Mi);sf(_t(),Mi);sf(di(),Mi);sf(WT(),Mi);var Hw=YT();Object.defineProperty(Mi,"createProtocolConnection",{enumerable:!0,get:function(){return Hw.createProtocolConnection}});var Yw;(function(t){t.lspReservedErrorRangeStart=-32899,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(Yw=Mi.LSPErrorCodes||(Mi.LSPErrorCodes={}))});var Ci=Z(Rn=>{"use strict";var Kw=Rn&&Rn.__createBinding||(Object.create?function(t,e,i,r){r===void 0&&(r=i),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,r){r===void 0&&(r=i),t[r]=e[i]}),$T=Rn&&Rn.__exportStar||function(t,e){for(var i in t)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&Kw(e,t,i)};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.createProtocolConnection=void 0;var $w=vh();$T(vh(),Rn);$T(KT(),Rn);function zw(t,e,i,r){return $w.createMessageConnection(t,e,i,r)}Rn.createProtocolConnection=zw});var Dh=Z(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.generateUuid=Er.parse=Er.isUUID=Er.v4=Er.empty=void 0;var eu=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},je=class extends eu{constructor(){super([je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),"-",je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),"-","4",je._randomHex(),je._randomHex(),je._randomHex(),"-",je._oneOf(je._timeHighBits),je._randomHex(),je._randomHex(),je._randomHex(),"-",je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return je._oneOf(je._chars)}};je._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];je._timeHighBits=["8","9","a","b"];Er.empty=new eu("00000000-0000-0000-0000-000000000000");function zT(){return new je}Er.v4=zT;var Xw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function XT(t){return Xw.test(t)}Er.isUUID=XT;function Qw(t){if(!XT(t))throw new Error("invalid uuid");return new eu(t)}Er.parse=Qw;function Jw(){return zT().asHex()}Er.generateUuid=Jw});var QT=Z(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.attachPartialResult=Ns.ProgressFeature=Ns.attachWorkDone=void 0;var Ps=Ci(),Zw=Dh(),An=class{constructor(e,i){this._connection=e,this._token=i,An.Instances.set(this._token,this)}begin(e,i,r,n){let s={kind:"begin",title:e,percentage:i,message:r,cancellable:n};this._connection.sendProgress(Ps.WorkDoneProgress.type,this._token,s)}report(e,i){let r={kind:"report"};typeof e=="number"?(r.percentage=e,i!==void 0&&(r.message=i)):r.message=e,this._connection.sendProgress(Ps.WorkDoneProgress.type,this._token,r)}done(){An.Instances.delete(this._token),this._connection.sendProgress(Ps.WorkDoneProgress.type,this._token,{kind:"end"})}};An.Instances=new Map;var af=class extends An{constructor(e,i){super(e,i),this._source=new Ps.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},tu=class{constructor(){}begin(){}report(){}done(){}},of=class extends tu{constructor(){super(),this._source=new Ps.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function ex(t,e){if(e===void 0||e.workDoneToken===void 0)return new tu;let i=e.workDoneToken;return delete e.workDoneToken,new An(t,i)}Ns.attachWorkDone=ex;var tx=t=>class extends t{constructor(){super(),this._progressSupported=!1}initialize(e){var i;((i=e?.window)===null||i===void 0?void 0:i.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(Ps.WorkDoneProgressCancelNotification.type,r=>{let n=An.Instances.get(r.token);(n instanceof af||n instanceof of)&&n.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new tu:new An(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){let e=Zw.generateUuid();return this.connection.sendRequest(Ps.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new af(this.connection,e))}else return Promise.resolve(new of)}};Ns.ProgressFeature=tx;var Fh;(function(t){t.type=new Ps.ProgressType})(Fh||(Fh={}));var Oh=class{constructor(e,i){this._connection=e,this._token=i}report(e){this._connection.sendProgress(Fh.type,this._token,e)}};function ix(t,e){if(e===void 0||e.partialResultToken===void 0)return;let i=e.partialResultToken;return delete e.partialResultToken,new Oh(t,i)}Ns.attachPartialResult=ix});var JT=Z(lf=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});lf.ConfigurationFeature=void 0;var rx=Ci(),nx=Gc(),sx=t=>class extends t{getConfiguration(e){return e?nx.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let i={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(rx.ConfigurationRequest.type,i).then(r=>Array.isArray(e)?r:r[0])}};lf.ConfigurationFeature=sx});var ZT=Z(cf=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});cf.WorkspaceFoldersFeature=void 0;var uf=Ci(),ax=t=>class extends t{initialize(e){let i=e.workspace;i&&i.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new uf.Emitter,this.connection.onNotification(uf.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(uf.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(uf.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};cf.WorkspaceFoldersFeature=ax});var eb=Z(ff=>{"use strict";Object.defineProperty(ff,"__esModule",{value:!0});ff.CallHierarchyFeature=void 0;var Lh=Ci(),ox=t=>class extends t{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest(Lh.CallHierarchyPrepareRequest.type,(i,r)=>e(i,r,this.attachWorkDoneProgress(i),void 0))},onIncomingCalls:e=>{let i=Lh.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(i,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(i,r)))},onOutgoingCalls:e=>{let i=Lh.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(i,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(i,r)))}}}};ff.CallHierarchyFeature=ox});var qh=Z(vo=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});vo.SemanticTokensBuilder=vo.SemanticTokensFeature=void 0;var kh=Ci(),lx=t=>class extends t{get semanticTokens(){return{on:e=>{let i=kh.SemanticTokensRequest.type;this.connection.onRequest(i,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(i,r)))},onDelta:e=>{let i=kh.SemanticTokensDeltaRequest.type;this.connection.onRequest(i,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(i,r)))},onRange:e=>{let i=kh.SemanticTokensRangeRequest.type;this.connection.onRequest(i,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(i,r)))}}}};vo.SemanticTokensFeature=lx;var Mh=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,i,r,n,s){let a=e,o=i;this._dataLen>0&&(a-=this._prevLine,a===0&&(o-=this._prevChar)),this._data[this._dataLen++]=a,this._data[this._dataLen++]=o,this._data[this._dataLen++]=r,this._data[this._dataLen++]=n,this._data[this._dataLen++]=s,this._prevLine=e,this._prevChar=i}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){let e=this._prevData.length,i=this._data.length,r=0;for(;r<i&&r<e&&this._prevData[r]===this._data[r];)r++;if(r<i&&r<e){let n=0;for(;n<i&&n<e&&this._prevData[e-1-n]===this._data[i-1-n];)n++;let s=this._data.slice(r,i-n);return{resultId:this.id,edits:[{start:r,deleteCount:e-n-r,data:s}]}}else return r<i?{resultId:this.id,edits:[{start:r,deleteCount:0,data:this._data.slice(r)}]}:r<e?{resultId:this.id,edits:[{start:r,deleteCount:e-r}]}:{resultId:this.id,edits:[]}}else return this.build()}};vo.SemanticTokensBuilder=Mh});var tb=Z(df=>{"use strict";Object.defineProperty(df,"__esModule",{value:!0});df.ShowDocumentFeature=void 0;var ux=Ci(),cx=t=>class extends t{showDocument(e){return this.connection.sendRequest(ux.ShowDocumentRequest.type,e)}};df.ShowDocumentFeature=cx});var ib=Z(pf=>{"use strict";Object.defineProperty(pf,"__esModule",{value:!0});pf.FileOperationsFeature=void 0;var Io=Ci(),fx=t=>class extends t{onDidCreateFiles(e){this.connection.onNotification(Io.DidCreateFilesNotification.type,i=>{e(i)})}onDidRenameFiles(e){this.connection.onNotification(Io.DidRenameFilesNotification.type,i=>{e(i)})}onDidDeleteFiles(e){this.connection.onNotification(Io.DidDeleteFilesNotification.type,i=>{e(i)})}onWillCreateFiles(e){return this.connection.onRequest(Io.WillCreateFilesRequest.type,(i,r)=>e(i,r))}onWillRenameFiles(e){return this.connection.onRequest(Io.WillRenameFilesRequest.type,(i,r)=>e(i,r))}onWillDeleteFiles(e){return this.connection.onRequest(Io.WillDeleteFilesRequest.type,(i,r)=>e(i,r))}};pf.FileOperationsFeature=fx});var rb=Z(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});mf.LinkedEditingRangeFeature=void 0;var dx=Ci(),px=t=>class extends t{onLinkedEditingRange(e){this.connection.onRequest(dx.LinkedEditingRangeRequest.type,(i,r)=>e(i,r,this.attachWorkDoneProgress(i),void 0))}};mf.LinkedEditingRangeFeature=px});var nb=Z(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});hf.MonikerFeature=void 0;var mx=Ci(),hx=t=>class extends t{get moniker(){return{on:e=>{let i=mx.MonikerRequest.type;this.connection.onRequest(i,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(i,r)))}}}};hf.MonikerFeature=hx});var Hh=Z(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.createConnection=rt.combineFeatures=rt.combineLanguagesFeatures=rt.combineWorkspaceFeatures=rt.combineWindowFeatures=rt.combineClientFeatures=rt.combineTracerFeatures=rt.combineTelemetryFeatures=rt.combineConsoleFeatures=rt._LanguagesImpl=rt.BulkUnregistration=rt.BulkRegistration=rt.ErrorMessageTracker=rt.TextDocuments=void 0;var te=Ci(),wr=Gc(),Bh=Dh(),Me=QT(),gx=JT(),_x=ZT(),yx=eb(),Tx=qh(),bx=tb(),vx=ib(),Ix=rb(),Px=nb();function Vh(t){if(t!==null)return t}var jh=class{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new te.Emitter,this._onDidOpen=new te.Emitter,this._onDidClose=new te.Emitter,this._onDidSave=new te.Emitter,this._onWillSave=new te.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map(e=>this._documents[e])}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=te.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(i=>{let r=i.textDocument,n=this._configuration.create(r.uri,r.languageId,r.version,r.text);this._documents[r.uri]=n;let s=Object.freeze({document:n});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)}),e.onDidChangeTextDocument(i=>{let r=i.textDocument,n=i.contentChanges;if(n.length===0)return;let s=this._documents[r.uri],{version:a}=r;if(a==null)throw new Error(`Received document change event for ${r.uri} without valid version identifier`);s=this._configuration.update(s,n,a),this._documents[r.uri]=s,this._onDidChangeContent.fire(Object.freeze({document:s}))}),e.onDidCloseTextDocument(i=>{let r=this._documents[i.textDocument.uri];r&&(delete this._documents[i.textDocument.uri],this._onDidClose.fire(Object.freeze({document:r})))}),e.onWillSaveTextDocument(i=>{let r=this._documents[i.textDocument.uri];r&&this._onWillSave.fire(Object.freeze({document:r,reason:i.reason}))}),e.onWillSaveTextDocumentWaitUntil((i,r)=>{let n=this._documents[i.textDocument.uri];return n&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:n,reason:i.reason}),r):[]}),e.onDidSaveTextDocument(i=>{let r=this._documents[i.textDocument.uri];r&&this._onDidSave.fire(Object.freeze({document:r}))})}};rt.TextDocuments=jh;var Uh=class{constructor(){this._messages=Object.create(null)}add(e){let i=this._messages[e];i||(i=0),i++,this._messages[e]=i}sendErrors(e){Object.keys(this._messages).forEach(i=>{e.window.showErrorMessage(i)})}};rt.ErrorMessageTracker=Uh;var gf=class{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(te.MessageType.Error,e)}warn(e){this.send(te.MessageType.Warning,e)}info(e){this.send(te.MessageType.Info,e)}log(e){this.send(te.MessageType.Log,e)}send(e,i){this._rawConnection&&this._rawConnection.sendNotification(te.LogMessageNotification.type,{type:e,message:i})}},Gh=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...i){let r={type:te.MessageType.Error,message:e,actions:i};return this.connection.sendRequest(te.ShowMessageRequest.type,r).then(Vh)}showWarningMessage(e,...i){let r={type:te.MessageType.Warning,message:e,actions:i};return this.connection.sendRequest(te.ShowMessageRequest.type,r).then(Vh)}showInformationMessage(e,...i){let r={type:te.MessageType.Info,message:e,actions:i};return this.connection.sendRequest(te.ShowMessageRequest.type,r).then(Vh)}},sb=bx.ShowDocumentFeature(Me.ProgressFeature(Gh)),Nx;(function(t){function e(){return new _f}t.create=e})(Nx=rt.BulkRegistration||(rt.BulkRegistration={}));var _f=class{constructor(){this._registrations=[],this._registered=new Set}add(e,i){let r=wr.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let n=Bh.generateUuid();this._registrations.push({id:n,method:r,registerOptions:i||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},Sx;(function(t){function e(){return new iu(void 0,[])}t.create=e})(Sx=rt.BulkUnregistration||(rt.BulkUnregistration={}));var iu=class{constructor(e,i){this._connection=e,this._unregistrations=new Map,i.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let i={unregisterations:e};this._connection.sendRequest(te.UnregistrationRequest.type,i).then(void 0,r=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){let i=wr.string(e)?e:e.method,r=this._unregistrations.get(i);if(!r)return!1;let n={unregisterations:[r]};return this._connection.sendRequest(te.UnregistrationRequest.type,n).then(()=>{this._unregistrations.delete(i)},s=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},yf=class{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,i,r){return e instanceof _f?this.registerMany(e):e instanceof iu?this.registerSingle1(e,i,r):this.registerSingle2(e,i)}registerSingle1(e,i,r){let n=wr.string(i)?i:i.method,s=Bh.generateUuid(),a={registrations:[{id:s,method:n,registerOptions:r||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(te.RegistrationRequest.type,a).then(o=>(e.add({id:s,method:n}),e),o=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(o)))}registerSingle2(e,i){let r=wr.string(e)?e:e.method,n=Bh.generateUuid(),s={registrations:[{id:n,method:r,registerOptions:i||{}}]};return this.connection.sendRequest(te.RegistrationRequest.type,s).then(a=>te.Disposable.create(()=>{this.unregisterSingle(n,r)}),a=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(a)))}unregisterSingle(e,i){let r={unregisterations:[{id:e,method:i}]};return this.connection.sendRequest(te.UnregistrationRequest.type,r).then(void 0,n=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let i=e.asRegistrationParams();return this.connection.sendRequest(te.RegistrationRequest.type,i).then(()=>new iu(this._connection,i.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},Wh=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function i(n){return n&&!!n.edit}let r=i(e)?e:{edit:e};return this.connection.sendRequest(te.ApplyWorkspaceEditRequest.type,r)}},ab=vx.FileOperationsFeature(_x.WorkspaceFoldersFeature(gx.ConfigurationFeature(Wh))),Tf=class{constructor(){this._trace=te.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,i){this._trace!==te.Trace.Off&&this.connection.sendNotification(te.LogTraceNotification.type,{message:e,verbose:this._trace===te.Trace.Verbose?i:void 0})}},bf=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(te.TelemetryEventNotification.type,e)}},vf=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return Me.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,i){return Me.attachPartialResult(this.connection,i)}};rt._LanguagesImpl=vf;var ob=Px.MonikerFeature(Ix.LinkedEditingRangeFeature(Tx.SemanticTokensFeature(yx.CallHierarchyFeature(vf))));function lb(t,e){return function(i){return e(t(i))}}rt.combineConsoleFeatures=lb;function ub(t,e){return function(i){return e(t(i))}}rt.combineTelemetryFeatures=ub;function cb(t,e){return function(i){return e(t(i))}}rt.combineTracerFeatures=cb;function fb(t,e){return function(i){return e(t(i))}}rt.combineClientFeatures=fb;function db(t,e){return function(i){return e(t(i))}}rt.combineWindowFeatures=db;function pb(t,e){return function(i){return e(t(i))}}rt.combineWorkspaceFeatures=pb;function Cx(t,e){return function(i){return e(t(i))}}rt.combineLanguagesFeatures=Cx;function Rx(t,e){function i(n,s,a){return n&&s?a(n,s):n||s}return{__brand:"features",console:i(t.console,e.console,lb),tracer:i(t.tracer,e.tracer,cb),telemetry:i(t.telemetry,e.telemetry,ub),client:i(t.client,e.client,fb),window:i(t.window,e.window,db),workspace:i(t.workspace,e.workspace,pb)}}rt.combineFeatures=Rx;function Ax(t,e,i){let r=i&&i.console?new(i.console(gf)):new gf,n=t(r);r.rawAttach(n);let s=i&&i.tracer?new(i.tracer(Tf)):new Tf,a=i&&i.telemetry?new(i.telemetry(bf)):new bf,o=i&&i.client?new(i.client(yf)):new yf,l=i&&i.window?new(i.window(sb)):new sb,u=i&&i.workspace?new(i.workspace(ab)):new ab,c=i&&i.languages?new(i.languages(ob)):new ob,f=[r,s,a,o,l,u,c];function d(_){return _ instanceof Promise?_:wr.thenable(_)?new Promise((g,y)=>{_.then(E=>g(E),E=>y(E))}):Promise.resolve(_)}let p,m,T,P={listen:()=>n.listen(),sendRequest:(_,...g)=>n.sendRequest(wr.string(_)?_:_.method,...g),onRequest:(_,g)=>n.onRequest(_,g),sendNotification:(_,g)=>{let y=wr.string(_)?_:_.method;arguments.length===1?n.sendNotification(y):n.sendNotification(y,g)},onNotification:(_,g)=>n.onNotification(_,g),onProgress:n.onProgress,sendProgress:n.sendProgress,onInitialize:_=>m=_,onInitialized:_=>n.onNotification(te.InitializedNotification.type,_),onShutdown:_=>p=_,onExit:_=>T=_,get console(){return r},get telemetry(){return a},get tracer(){return s},get client(){return o},get window(){return l},get workspace(){return u},get languages(){return c},onDidChangeConfiguration:_=>n.onNotification(te.DidChangeConfigurationNotification.type,_),onDidChangeWatchedFiles:_=>n.onNotification(te.DidChangeWatchedFilesNotification.type,_),__textDocumentSync:void 0,onDidOpenTextDocument:_=>n.onNotification(te.DidOpenTextDocumentNotification.type,_),onDidChangeTextDocument:_=>n.onNotification(te.DidChangeTextDocumentNotification.type,_),onDidCloseTextDocument:_=>n.onNotification(te.DidCloseTextDocumentNotification.type,_),onWillSaveTextDocument:_=>n.onNotification(te.WillSaveTextDocumentNotification.type,_),onWillSaveTextDocumentWaitUntil:_=>n.onRequest(te.WillSaveTextDocumentWaitUntilRequest.type,_),onDidSaveTextDocument:_=>n.onNotification(te.DidSaveTextDocumentNotification.type,_),sendDiagnostics:_=>n.sendNotification(te.PublishDiagnosticsNotification.type,_),onHover:_=>n.onRequest(te.HoverRequest.type,(g,y)=>_(g,y,Me.attachWorkDone(n,g),void 0)),onCompletion:_=>n.onRequest(te.CompletionRequest.type,(g,y)=>_(g,y,Me.attachWorkDone(n,g),Me.attachPartialResult(n,g))),onCompletionResolve:_=>n.onRequest(te.CompletionResolveRequest.type,_),onSignatureHelp:_=>n.onRequest(te.SignatureHelpRequest.type,(g,y)=>_(g,y,Me.attachWorkDone(n,g),void 0)),onDeclaration:_=>n.onRequest(te.DeclarationRequest.type,(g,y)=>_(g,y,Me.attachWorkDone(n,g),Me.attachPartialResult(n,g))),onDefinition:_=>n.onRequest(te.DefinitionRequest.type,(g,y)=>_(g,y,Me.attachWorkDone(n,g),Me.attachPartialResult(n,g))),onTypeDefinition:_=>n.onRequest(te.TypeDefinitionRequest.type,(g,y)=>_(g,y,Me.attachWorkDone(n,g),Me.attachPartialResult(n,g))),onImplementation:_=>n.onRequest(te.ImplementationRequest.type,(g,y)=>_(g,y,Me.attachWorkDone(n,g),Me.attachPartialResult(n,g))),onReferences:_=>n.onRequest(te.ReferencesRequest.type,(g,y)=>_(g,y,Me.attachWorkDone(n,g),Me.attachPartialResult(n,g))),onDocumentHighlight:_=>n.onRequest(te.DocumentHighlightRequest.type,(g,y)=>_(g,y,Me.attachWorkDone(n,g),Me.attachPartialResult(n,g))),onDocumentSymbol:_=>n.onRequest(te.DocumentSymbolRequest.type,(g,y)=>_(g,y,Me.attachWorkDone(n,g),Me.attachPartialResult(n,g))),onWorkspaceSymbol:_=>n.onRequest(te.WorkspaceSymbolRequest.type,(g,y)=>_(g,y,Me.attachWorkDone(n,g),Me.attachPartialResult(n,g))),onCodeAction:_=>n.onRequest(te.CodeActionRequest.type,(g,y)=>_(g,y,Me.attachWorkDone(n,g),Me.attachPartialResult(n,g))),onCodeActionResolve:_=>n.onRequest(te.CodeActionResolveRequest.type,(g,y)=>_(g,y)),onCodeLens:_=>n.onRequest(te.CodeLensRequest.type,(g,y)=>_(g,y,Me.attachWorkDone(n,g),Me.attachPartialResult(n,g))),onCodeLensResolve:_=>n.onRequest(te.CodeLensResolveRequest.type,(g,y)=>_(g,y)),onDocumentFormatting:_=>n.onRequest(te.DocumentFormattingRequest.type,(g,y)=>_(g,y,Me.attachWorkDone(n,g),void 0)),onDocumentRangeFormatting:_=>n.onRequest(te.DocumentRangeFormattingRequest.type,(g,y)=>_(g,y,Me.attachWorkDone(n,g),void 0)),onDocumentOnTypeFormatting:_=>n.onRequest(te.DocumentOnTypeFormattingRequest.type,(g,y)=>_(g,y)),onRenameRequest:_=>n.onRequest(te.RenameRequest.type,(g,y)=>_(g,y,Me.attachWorkDone(n,g),void 0)),onPrepareRename:_=>n.onRequest(te.PrepareRenameRequest.type,(g,y)=>_(g,y)),onDocumentLinks:_=>n.onRequest(te.DocumentLinkRequest.type,(g,y)=>_(g,y,Me.attachWorkDone(n,g),Me.attachPartialResult(n,g))),onDocumentLinkResolve:_=>n.onRequest(te.DocumentLinkResolveRequest.type,(g,y)=>_(g,y)),onDocumentColor:_=>n.onRequest(te.DocumentColorRequest.type,(g,y)=>_(g,y,Me.attachWorkDone(n,g),Me.attachPartialResult(n,g))),onColorPresentation:_=>n.onRequest(te.ColorPresentationRequest.type,(g,y)=>_(g,y,Me.attachWorkDone(n,g),Me.attachPartialResult(n,g))),onFoldingRanges:_=>n.onRequest(te.FoldingRangeRequest.type,(g,y)=>_(g,y,Me.attachWorkDone(n,g),Me.attachPartialResult(n,g))),onSelectionRanges:_=>n.onRequest(te.SelectionRangeRequest.type,(g,y)=>_(g,y,Me.attachWorkDone(n,g),Me.attachPartialResult(n,g))),onExecuteCommand:_=>n.onRequest(te.ExecuteCommandRequest.type,(g,y)=>_(g,y,Me.attachWorkDone(n,g),void 0)),dispose:()=>n.dispose()};for(let _ of f)_.attach(P);return n.onRequest(te.InitializeRequest.type,_=>{e.initialize(_),wr.string(_.trace)&&(s.trace=te.Trace.fromString(_.trace));for(let g of f)g.initialize(_.capabilities);if(m){let g=m(_,new te.CancellationTokenSource().token,Me.attachWorkDone(n,_),void 0);return d(g).then(y=>{if(y instanceof te.ResponseError)return y;let E=y;E||(E={capabilities:{}});let L=E.capabilities;L||(L={},E.capabilities=L),L.textDocumentSync===void 0||L.textDocumentSync===null?L.textDocumentSync=wr.number(P.__textDocumentSync)?P.__textDocumentSync:te.TextDocumentSyncKind.None:!wr.number(L.textDocumentSync)&&!wr.number(L.textDocumentSync.change)&&(L.textDocumentSync.change=wr.number(P.__textDocumentSync)?P.__textDocumentSync:te.TextDocumentSyncKind.None);for(let C of f)C.fillServerCapabilities(L);return E})}else{let g={capabilities:{textDocumentSync:te.TextDocumentSyncKind.None}};for(let y of f)y.fillServerCapabilities(g.capabilities);return g}}),n.onRequest(te.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,p)return p(new te.CancellationTokenSource().token)}),n.onNotification(te.ExitNotification.type,()=>{try{T&&T()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),n.onNotification(te.SetTraceNotification.type,_=>{s.trace=te.Trace.fromString(_.value)}),P}rt.createConnection=Ax});var hb=Z(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.resolveModulePath=qi.FileSystem=qi.resolveGlobalYarnPath=qi.resolveGlobalNodePath=qi.resolve=qi.uriToFilePath=void 0;var Ex=require("url"),on=require("path"),Yh=require("fs"),zh=require("child_process");function wx(t){let e=Ex.parse(t);if(e.protocol!=="file:"||!e.path)return;let i=e.path.split("/");for(var r=0,n=i.length;r<n;r++)i[r]=decodeURIComponent(i[r]);if(process.platform==="win32"&&i.length>1){let s=i[0],a=i[1];s.length===0&&a.length>1&&a[1]===":"&&i.shift()}return on.normalize(i.join("/"))}qi.uriToFilePath=wx;function Kh(){return process.platform==="win32"}function If(t,e,i,r){let n="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((a,o)=>{let l=process.env,u=Object.create(null);Object.keys(l).forEach(c=>u[c]=l[c]),e&&Yh.existsSync(e)&&(u[n]?u[n]=e+on.delimiter+u[n]:u[n]=e,r&&r(`NODE_PATH value is: ${u[n]}`)),u.ELECTRON_RUN_AS_NODE="1";try{let c=zh.fork("",[],{cwd:i,env:u,execArgv:["-e",s]});if(c.pid===void 0){o(new Error(`Starting process to resolve node module  ${t} failed`));return}c.on("error",d=>{o(d)}),c.on("message",d=>{d.c==="r"&&(c.send({c:"e"}),d.s?a(d.r):o(new Error(`Failed to resolve module: ${t}`)))});let f={c:"rs",a:t};c.send(f)}catch(c){o(c)}})}qi.resolve=If;function $h(t){let e="npm",i=Object.create(null);Object.keys(process.env).forEach(s=>i[s]=process.env[s]),i.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:i};Kh()&&(e="npm.cmd",r.shell=!0);let n=()=>{};try{process.on("SIGPIPE",n);let s=zh.spawnSync(e,["config","get","prefix"],r).stdout;if(!s){t&&t("'npm config get prefix' didn't return a value.");return}let a=s.trim();return t&&t(`'npm config get prefix' value is: ${a}`),a.length>0?Kh()?on.join(a,"node_modules"):on.join(a,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",n)}}qi.resolveGlobalNodePath=$h;function xx(t){let e="yarn",i={encoding:"utf8"};Kh()&&(e="yarn.cmd",i.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let n=zh.spawnSync(e,["global","dir","--json"],i),s=n.stdout;if(!s){t&&(t("'yarn global dir' didn't return a value."),n.stderr&&t(n.stderr));return}let a=s.trim().split(/\r?\n/);for(let o of a)try{let l=JSON.parse(o);if(l.type==="log")return on.join(l.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}qi.resolveGlobalYarnPath=xx;var mb;(function(t){let e;function i(){return e!==void 0||(process.platform==="win32"?e=!1:e=!Yh.existsSync(__filename.toUpperCase())||!Yh.existsSync(__filename.toLowerCase())),e}t.isCaseSensitive=i;function r(n,s){return i()?on.normalize(s).indexOf(on.normalize(n))===0:on.normalize(s).toLowerCase().indexOf(on.normalize(n).toLowerCase())===0}t.isParent=r})(mb=qi.FileSystem||(qi.FileSystem={}));function Dx(t,e,i,r){return i?(on.isAbsolute(i)||(i=on.join(t,i)),If(e,i,i,r).then(n=>mb.isParent(i,n)?n:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,n=>If(e,$h(r),t,r))):If(e,$h(r),t,r)}qi.resolveModulePath=Dx});var Xh=Z((vj,gb)=>{"use strict";gb.exports=Ci()});var yb=Z(lr=>{"use strict";var Fx=lr&&lr.__createBinding||(Object.create?function(t,e,i,r){r===void 0&&(r=i),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,r){r===void 0&&(r=i),t[r]=e[i]}),_b=lr&&lr.__exportStar||function(t,e){for(var i in t)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&Fx(e,t,i)};Object.defineProperty(lr,"__esModule",{value:!0});lr.ProposedFeatures=lr.SemanticTokensBuilder=void 0;var Ox=qh();Object.defineProperty(lr,"SemanticTokensBuilder",{enumerable:!0,get:function(){return Ox.SemanticTokensBuilder}});_b(Ci(),lr);_b(Hh(),lr);var Lx;(function(t){t.all={__brand:"features"}})(Lx=lr.ProposedFeatures||(lr.ProposedFeatures={}))});var pi=Z(ur=>{"use strict";var kx=ur&&ur.__createBinding||(Object.create?function(t,e,i,r){r===void 0&&(r=i),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,r){r===void 0&&(r=i),t[r]=e[i]}),bb=ur&&ur.__exportStar||function(t,e){for(var i in t)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&kx(e,t,i)};Object.defineProperty(ur,"__esModule",{value:!0});ur.createConnection=ur.Files=void 0;var Qh=Gc(),Mx=Hh(),ru=hb(),Pa=Xh();bb(Xh(),ur);bb(yb(),ur);var qx;(function(t){t.uriToFilePath=ru.uriToFilePath,t.resolveGlobalNodePath=ru.resolveGlobalNodePath,t.resolveGlobalYarnPath=ru.resolveGlobalYarnPath,t.resolve=ru.resolve,t.resolveModulePath=ru.resolveModulePath})(qx=ur.Files||(ur.Files={}));var Tb;function Pf(){if(Tb!==void 0)try{Tb.end()}catch{}}var Po=!1,vb;function Vx(){let t="--clientProcessId";function e(i){try{let r=parseInt(i);isNaN(r)||(vb=setInterval(()=>{try{process.kill(r,0)}catch{Pf(),process.exit(Po?0:1)}},3e3))}catch{}}for(let i=2;i<process.argv.length;i++){let r=process.argv[i];if(r===t&&i+1<process.argv.length){e(process.argv[i+1]);return}else{let n=r.split("=");n[0]===t&&e(n[1])}}}Vx();var Bx={initialize:t=>{let e=t.processId;Qh.number(e)&&vb===void 0&&setInterval(()=>{try{process.kill(e,0)}catch{process.exit(Po?0:1)}},3e3)},get shutdownReceived(){return Po},set shutdownReceived(t){Po=t},exit:t=>{Pf(),process.exit(t)}};function jx(t,e,i,r){let n,s,a,o;return t!==void 0&&t.__brand==="features"&&(n=t,t=e,e=i,i=r),Pa.ConnectionStrategy.is(t)||Pa.ConnectionOptions.is(t)?o=t:(s=t,a=e,o=i),Ux(s,a,o,n)}ur.createConnection=jx;function Ux(t,e,i,r){if(!t&&!e&&process.argv.length>2){let o,l,u=process.argv.slice(2);for(let c=0;c<u.length;c++){let f=u[c];if(f==="--node-ipc"){t=new Pa.IPCMessageReader(process),e=new Pa.IPCMessageWriter(process);break}else if(f==="--stdio"){t=process.stdin,e=process.stdout;break}else if(f==="--socket"){o=parseInt(u[c+1]);break}else if(f==="--pipe"){l=u[c+1];break}else{var n=f.split("=");if(n[0]==="--socket"){o=parseInt(n[1]);break}else if(n[0]==="--pipe"){l=n[1];break}}}if(o){let c=Pa.createServerSocketTransport(o);t=c[0],e=c[1]}else if(l){let c=Pa.createServerPipeTransport(l);t=c[0],e=c[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+s);if(!e)throw new Error("Connection output stream is not set. "+s);if(Qh.func(t.read)&&Qh.func(t.on)){let o=t;o.on("end",()=>{Pf(),process.exit(Po?0:1)}),o.on("close",()=>{Pf(),process.exit(Po?0:1)})}let a=o=>Pa.createProtocolConnection(t,e,o,i);return Mx.createConnection(a,Bx,r)}});var Pb=Z((Nj,Ib)=>{"use strict";Ib.exports=pi()});var Rf=Z(eg=>{"use strict";Object.defineProperty(eg,"__esModule",{value:!0});var Kb=function(){function t(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return t.hashStr=function(e,i){return i===void 0&&(i=!1),this.onePassHasher.start().appendStr(e).end(i)},t.hashAsciiStr=function(e,i){return i===void 0&&(i=!1),this.onePassHasher.start().appendAsciiStr(e).end(i)},t._hex=function(e){var i=t.hexChars,r=t.hexOut,n,s,a,o;for(o=0;o<4;o+=1)for(s=o*8,n=e[o],a=0;a<8;a+=2)r[s+1+a]=i.charAt(n&15),n>>>=4,r[s+0+a]=i.charAt(n&15),n>>>=4;return r.join("")},t._md5cycle=function(e,i){var r=e[0],n=e[1],s=e[2],a=e[3];r+=(n&s|~n&a)+i[0]-680876936|0,r=(r<<7|r>>>25)+n|0,a+=(r&n|~r&s)+i[1]-389564586|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&n)+i[2]+606105819|0,s=(s<<17|s>>>15)+a|0,n+=(s&a|~s&r)+i[3]-1044525330|0,n=(n<<22|n>>>10)+s|0,r+=(n&s|~n&a)+i[4]-176418897|0,r=(r<<7|r>>>25)+n|0,a+=(r&n|~r&s)+i[5]+1200080426|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&n)+i[6]-1473231341|0,s=(s<<17|s>>>15)+a|0,n+=(s&a|~s&r)+i[7]-45705983|0,n=(n<<22|n>>>10)+s|0,r+=(n&s|~n&a)+i[8]+1770035416|0,r=(r<<7|r>>>25)+n|0,a+=(r&n|~r&s)+i[9]-1958414417|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&n)+i[10]-42063|0,s=(s<<17|s>>>15)+a|0,n+=(s&a|~s&r)+i[11]-1990404162|0,n=(n<<22|n>>>10)+s|0,r+=(n&s|~n&a)+i[12]+1804603682|0,r=(r<<7|r>>>25)+n|0,a+=(r&n|~r&s)+i[13]-40341101|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&n)+i[14]-1502002290|0,s=(s<<17|s>>>15)+a|0,n+=(s&a|~s&r)+i[15]+1236535329|0,n=(n<<22|n>>>10)+s|0,r+=(n&a|s&~a)+i[1]-165796510|0,r=(r<<5|r>>>27)+n|0,a+=(r&s|n&~s)+i[6]-1069501632|0,a=(a<<9|a>>>23)+r|0,s+=(a&n|r&~n)+i[11]+643717713|0,s=(s<<14|s>>>18)+a|0,n+=(s&r|a&~r)+i[0]-373897302|0,n=(n<<20|n>>>12)+s|0,r+=(n&a|s&~a)+i[5]-701558691|0,r=(r<<5|r>>>27)+n|0,a+=(r&s|n&~s)+i[10]+38016083|0,a=(a<<9|a>>>23)+r|0,s+=(a&n|r&~n)+i[15]-660478335|0,s=(s<<14|s>>>18)+a|0,n+=(s&r|a&~r)+i[4]-405537848|0,n=(n<<20|n>>>12)+s|0,r+=(n&a|s&~a)+i[9]+568446438|0,r=(r<<5|r>>>27)+n|0,a+=(r&s|n&~s)+i[14]-1019803690|0,a=(a<<9|a>>>23)+r|0,s+=(a&n|r&~n)+i[3]-187363961|0,s=(s<<14|s>>>18)+a|0,n+=(s&r|a&~r)+i[8]+1163531501|0,n=(n<<20|n>>>12)+s|0,r+=(n&a|s&~a)+i[13]-1444681467|0,r=(r<<5|r>>>27)+n|0,a+=(r&s|n&~s)+i[2]-51403784|0,a=(a<<9|a>>>23)+r|0,s+=(a&n|r&~n)+i[7]+1735328473|0,s=(s<<14|s>>>18)+a|0,n+=(s&r|a&~r)+i[12]-1926607734|0,n=(n<<20|n>>>12)+s|0,r+=(n^s^a)+i[5]-378558|0,r=(r<<4|r>>>28)+n|0,a+=(r^n^s)+i[8]-2022574463|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^n)+i[11]+1839030562|0,s=(s<<16|s>>>16)+a|0,n+=(s^a^r)+i[14]-35309556|0,n=(n<<23|n>>>9)+s|0,r+=(n^s^a)+i[1]-1530992060|0,r=(r<<4|r>>>28)+n|0,a+=(r^n^s)+i[4]+1272893353|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^n)+i[7]-155497632|0,s=(s<<16|s>>>16)+a|0,n+=(s^a^r)+i[10]-1094730640|0,n=(n<<23|n>>>9)+s|0,r+=(n^s^a)+i[13]+681279174|0,r=(r<<4|r>>>28)+n|0,a+=(r^n^s)+i[0]-358537222|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^n)+i[3]-722521979|0,s=(s<<16|s>>>16)+a|0,n+=(s^a^r)+i[6]+76029189|0,n=(n<<23|n>>>9)+s|0,r+=(n^s^a)+i[9]-640364487|0,r=(r<<4|r>>>28)+n|0,a+=(r^n^s)+i[12]-421815835|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^n)+i[15]+530742520|0,s=(s<<16|s>>>16)+a|0,n+=(s^a^r)+i[2]-995338651|0,n=(n<<23|n>>>9)+s|0,r+=(s^(n|~a))+i[0]-198630844|0,r=(r<<6|r>>>26)+n|0,a+=(n^(r|~s))+i[7]+1126891415|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~n))+i[14]-1416354905|0,s=(s<<15|s>>>17)+a|0,n+=(a^(s|~r))+i[5]-57434055|0,n=(n<<21|n>>>11)+s|0,r+=(s^(n|~a))+i[12]+1700485571|0,r=(r<<6|r>>>26)+n|0,a+=(n^(r|~s))+i[3]-1894986606|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~n))+i[10]-1051523|0,s=(s<<15|s>>>17)+a|0,n+=(a^(s|~r))+i[1]-2054922799|0,n=(n<<21|n>>>11)+s|0,r+=(s^(n|~a))+i[8]+1873313359|0,r=(r<<6|r>>>26)+n|0,a+=(n^(r|~s))+i[15]-30611744|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~n))+i[6]-1560198380|0,s=(s<<15|s>>>17)+a|0,n+=(a^(s|~r))+i[13]+1309151649|0,n=(n<<21|n>>>11)+s|0,r+=(s^(n|~a))+i[4]-145523070|0,r=(r<<6|r>>>26)+n|0,a+=(n^(r|~s))+i[11]-1120210379|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~n))+i[2]+718787259|0,s=(s<<15|s>>>17)+a|0,n+=(a^(s|~r))+i[9]-343485551|0,n=(n<<21|n>>>11)+s|0,e[0]=r+e[0]|0,e[1]=n+e[1]|0,e[2]=s+e[2]|0,e[3]=a+e[3]|0},t.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this},t.prototype.appendStr=function(e){var i=this._buffer8,r=this._buffer32,n=this._bufferLength,s,a;for(a=0;a<e.length;a+=1){if(s=e.charCodeAt(a),s<128)i[n++]=s;else if(s<2048)i[n++]=(s>>>6)+192,i[n++]=s&63|128;else if(s<55296||s>56319)i[n++]=(s>>>12)+224,i[n++]=s>>>6&63|128,i[n++]=s&63|128;else{if(s=(s-55296)*1024+(e.charCodeAt(++a)-56320)+65536,s>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");i[n++]=(s>>>18)+240,i[n++]=s>>>12&63|128,i[n++]=s>>>6&63|128,i[n++]=s&63|128}n>=64&&(this._dataLength+=64,t._md5cycle(this._state,r),n-=64,r[0]=r[16])}return this._bufferLength=n,this},t.prototype.appendAsciiStr=function(e){for(var i=this._buffer8,r=this._buffer32,n=this._bufferLength,s,a=0;;){for(s=Math.min(e.length-a,64-n);s--;)i[n++]=e.charCodeAt(a++);if(n<64)break;this._dataLength+=64,t._md5cycle(this._state,r),n=0}return this._bufferLength=n,this},t.prototype.appendByteArray=function(e){for(var i=this._buffer8,r=this._buffer32,n=this._bufferLength,s,a=0;;){for(s=Math.min(e.length-a,64-n);s--;)i[n++]=e[a++];if(n<64)break;this._dataLength+=64,t._md5cycle(this._state,r),n=0}return this._bufferLength=n,this},t.prototype.getState=function(){var e=this,i=e._state;return{buffer:String.fromCharCode.apply(null,e._buffer8),buflen:e._bufferLength,length:e._dataLength,state:[i[0],i[1],i[2],i[3]]}},t.prototype.setState=function(e){var i=e.buffer,r=e.state,n=this._state,s;for(this._dataLength=e.length,this._bufferLength=e.buflen,n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],s=0;s<i.length;s+=1)this._buffer8[s]=i.charCodeAt(s)},t.prototype.end=function(e){e===void 0&&(e=!1);var i=this._bufferLength,r=this._buffer8,n=this._buffer32,s=(i>>2)+1,a;if(this._dataLength+=i,r[i]=128,r[i+1]=r[i+2]=r[i+3]=0,n.set(t.buffer32Identity.subarray(s),s),i>55&&(t._md5cycle(this._state,n),n.set(t.buffer32Identity)),a=this._dataLength*8,a<=4294967295)n[14]=a;else{var o=a.toString(16).match(/(.*?)(.{0,8})$/);if(o===null)return;var l=parseInt(o[2],16),u=parseInt(o[1],16)||0;n[14]=l,n[15]=u}return t._md5cycle(this._state,n),e?this._state:t._hex(this._state)},t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,t}();eg.Md5=Kb;Kb.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592"&&console.error("Md5 self test failed.")});var $s=Z(tr=>{"use strict";var os={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},hu={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"},OO="tag:yaml.org,2002:",LO={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};function WP(t){let e=[0],i=t.indexOf(`
`);for(;i!==-1;)i+=1,e.push(i),i=t.indexOf(`
`,i);return e}function HP(t){let e,i;return typeof t=="string"?(e=WP(t),i=t):(Array.isArray(t)&&(t=t[0]),t&&t.context&&(t.lineStarts||(t.lineStarts=WP(t.context.src)),e=t.lineStarts,i=t.context.src)),{lineStarts:e,src:i}}function Gg(t,e){if(typeof t!="number"||t<0)return null;let{lineStarts:i,src:r}=HP(e);if(!i||!r||t>r.length)return null;for(let s=0;s<i.length;++s){let a=i[s];if(t<a)return{line:s,col:t-i[s-1]+1};if(t===a)return{line:s+1,col:1}}let n=i.length;return{line:n,col:t-i[n-1]+1}}function kO(t,e){let{lineStarts:i,src:r}=HP(e);if(!i||!(t>=1)||t>i.length)return null;let n=i[t-1],s=i[t];for(;s&&s>n&&r[s-1]===`
`;)--s;return r.slice(n,s)}function MO({start:t,end:e},i,r=80){let n=kO(t.line,i);if(!n)return null;let{col:s}=t;if(n.length>r)if(s<=r-10)n=n.substr(0,r-1)+"\u2026";else{let c=Math.round(r/2);n.length>s+c&&(n=n.substr(0,s+c-1)+"\u2026"),s-=n.length-r,n="\u2026"+n.substr(1-r)}let a=1,o="";e&&(e.line===t.line&&s+(e.col-t.col)<=r+1?a=e.col-t.col:(a=Math.min(n.length+1,r)-s,o="\u2026"));let l=s>1?" ".repeat(s-1):"",u="^".repeat(a);return`${n}
${l}${u}${o}`}var Ks=class{static copy(e){return new Ks(e.start,e.end)}constructor(e,i){this.start=e,this.end=i||e}isEmpty(){return typeof this.start!="number"||!this.end||this.end<=this.start}setOrigRange(e,i){let{start:r,end:n}=this;if(e.length===0||n<=e[0])return this.origStart=r,this.origEnd=n,i;let s=i;for(;s<e.length&&!(e[s]>r);)++s;this.origStart=r+s;let a=s;for(;s<e.length&&!(e[s]>=n);)++s;return this.origEnd=n+s,a}},gi=class{static addStringTerminator(e,i,r){if(r[r.length-1]===`
`)return r;let n=gi.endOfWhiteSpace(e,i);return n>=e.length||e[n]===`
`?r+`
`:r}static atDocumentBoundary(e,i,r){let n=e[i];if(!n)return!0;let s=e[i-1];if(s&&s!==`
`)return!1;if(r){if(n!==r)return!1}else if(n!==os.DIRECTIVES_END&&n!==os.DOCUMENT_END)return!1;let a=e[i+1],o=e[i+2];if(a!==n||o!==n)return!1;let l=e[i+3];return!l||l===`
`||l==="	"||l===" "}static endOfIdentifier(e,i){let r=e[i],n=r==="<",s=n?[`
`,"	"," ",">"]:[`
`,"	"," ","[","]","{","}",","];for(;r&&s.indexOf(r)===-1;)r=e[i+=1];return n&&r===">"&&(i+=1),i}static endOfIndent(e,i){let r=e[i];for(;r===" ";)r=e[i+=1];return i}static endOfLine(e,i){let r=e[i];for(;r&&r!==`
`;)r=e[i+=1];return i}static endOfWhiteSpace(e,i){let r=e[i];for(;r==="	"||r===" ";)r=e[i+=1];return i}static startOfLine(e,i){let r=e[i-1];if(r===`
`)return i;for(;r&&r!==`
`;)r=e[i-=1];return i+1}static endOfBlockIndent(e,i,r){let n=gi.endOfIndent(e,r);if(n>r+i)return n;{let s=gi.endOfWhiteSpace(e,n),a=e[s];if(!a||a===`
`)return s}return null}static atBlank(e,i,r){let n=e[i];return n===`
`||n==="	"||n===" "||r&&!n}static nextNodeIsIndented(e,i,r){return!e||i<0?!1:i>0?!0:r&&e==="-"}static normalizeOffset(e,i){let r=e[i];return r?r!==`
`&&e[i-1]===`
`?i-1:gi.endOfWhiteSpace(e,i):i}static foldNewline(e,i,r){let n=0,s=!1,a="",o=e[i+1];for(;o===" "||o==="	"||o===`
`;){switch(o){case`
`:n=0,i+=1,a+=`
`;break;case"	":n<=r&&(s=!0),i=gi.endOfWhiteSpace(e,i+2)-1;break;case" ":n+=1,i+=1;break}o=e[i+1]}return a||(a=" "),o&&n<=r&&(s=!0),{fold:a,offset:i,error:s}}constructor(e,i,r){Object.defineProperty(this,"context",{value:r||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=i||[],this.type=e,this.value=null}getPropValue(e,i,r){if(!this.context)return null;let{src:n}=this.context,s=this.props[e];return s&&n[s.start]===i?n.slice(s.start+(r?1:0),s.end):null}get anchor(){for(let e=0;e<this.props.length;++e){let i=this.getPropValue(e,os.ANCHOR,!0);if(i!=null)return i}return null}get comment(){let e=[];for(let i=0;i<this.props.length;++i){let r=this.getPropValue(i,os.COMMENT,!0);r!=null&&e.push(r)}return e.length>0?e.join(`
`):null}commentHasRequiredWhitespace(e){let{src:i}=this.context;if(this.header&&e===this.header.end||!this.valueRange)return!1;let{end:r}=this.valueRange;return e!==r||gi.atBlank(i,r-1)}get hasComment(){if(this.context){let{src:e}=this.context;for(let i=0;i<this.props.length;++i)if(e[this.props[i].start]===os.COMMENT)return!0}return!1}get hasProps(){if(this.context){let{src:e}=this.context;for(let i=0;i<this.props.length;++i)if(e[this.props[i].start]!==os.COMMENT)return!0}return!1}get includesTrailingLines(){return!1}get jsonLike(){return[hu.FLOW_MAP,hu.FLOW_SEQ,hu.QUOTE_DOUBLE,hu.QUOTE_SINGLE].indexOf(this.type)!==-1}get rangeAsLinePos(){if(!this.range||!this.context)return;let e=Gg(this.range.start,this.context.root);if(!e)return;let i=Gg(this.range.end,this.context.root);return{start:e,end:i}}get rawValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:i}=this.valueRange;return this.context.src.slice(e,i)}get tag(){for(let e=0;e<this.props.length;++e){let i=this.getPropValue(e,os.TAG,!1);if(i!=null){if(i[1]==="<")return{verbatim:i.slice(2,-1)};{let[r,n,s]=i.match(/^(.*!)([^!]*)$/);return{handle:n,suffix:s}}}}return null}get valueRangeContainsNewline(){if(!this.valueRange||!this.context)return!1;let{start:e,end:i}=this.valueRange,{src:r}=this.context;for(let n=e;n<i;++n)if(r[n]===`
`)return!0;return!1}parseComment(e){let{src:i}=this.context;if(i[e]===os.COMMENT){let r=gi.endOfLine(i,e+1),n=new Ks(e,r);return this.props.push(n),r}return e}setOrigRanges(e,i){return this.range&&(i=this.range.setOrigRange(e,i)),this.valueRange&&this.valueRange.setOrigRange(e,i),this.props.forEach(r=>r.setOrigRange(e,i)),i}toString(){let{context:{src:e},range:i,value:r}=this;if(r!=null)return r;let n=e.slice(i.start,i.end);return gi.addStringTerminator(e,i.end,n)}},Va=class extends Error{constructor(e,i,r){if(!r||!(i instanceof gi))throw new Error(`Invalid arguments for new ${e}`);super(),this.name=e,this.message=r,this.source=i}makePretty(){if(!this.source)return;this.nodeType=this.source.type;let e=this.source.context&&this.source.context.root;if(typeof this.offset=="number"){this.range=new Ks(this.offset,this.offset+1);let i=e&&Gg(this.offset,e);if(i){let r={line:i.line,col:i.col+1};this.linePos={start:i,end:r}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){let{line:i,col:r}=this.linePos.start;this.message+=` at line ${i}, column ${r}`;let n=e&&MO(this.linePos,e);n&&(this.message+=`:

${n}
`)}delete this.source}},Wg=class extends Va{constructor(e,i){super("YAMLReferenceError",e,i)}},gu=class extends Va{constructor(e,i){super("YAMLSemanticError",e,i)}},Hg=class extends Va{constructor(e,i){super("YAMLSyntaxError",e,i)}},Yg=class extends Va{constructor(e,i){super("YAMLWarning",e,i)}};function qO(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var ml=class extends gi{static endOfLine(e,i,r){let n=e[i],s=i;for(;n&&n!==`
`&&!(r&&(n==="["||n==="]"||n==="{"||n==="}"||n===","));){let a=e[s+1];if(n===":"&&(!a||a===`
`||a==="	"||a===" "||r&&a===",")||(n===" "||n==="	")&&a==="#")break;s+=1,n=a}return s}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:i}=this.valueRange,{src:r}=this.context,n=r[i-1];for(;e<i&&(n===`
`||n==="	"||n===" ");)n=r[--i-1];let s="";for(let o=e;o<i;++o){let l=r[o];if(l===`
`){let{fold:u,offset:c}=gi.foldNewline(r,o,-1);s+=u,o=c}else if(l===" "||l==="	"){let u=o,c=r[o+1];for(;o<i&&(c===" "||c==="	");)o+=1,c=r[o+1];c!==`
`&&(s+=o>u?r.slice(u,o+1):l)}else s+=l}let a=r[e];switch(a){case"	":{let o="Plain value cannot start with a tab character";return{errors:[new gu(this,o)],str:s}}case"@":case"`":{let o=`Plain value cannot start with reserved character ${a}`;return{errors:[new gu(this,o)],str:s}}default:return s}}parseBlockValue(e){let{indent:i,inFlow:r,src:n}=this.context,s=e,a=e;for(let o=n[s];o===`
`&&!gi.atDocumentBoundary(n,s+1);o=n[s]){let l=gi.endOfBlockIndent(n,i,s+1);if(l===null||n[l]==="#")break;n[l]===`
`?s=l:(a=ml.endOfLine(n,l,r),s=a)}return this.valueRange.isEmpty()&&(this.valueRange.start=e),this.valueRange.end=a,a}parse(e,i){this.context=e;let{inFlow:r,src:n}=e,s=i,a=n[s];return a&&a!=="#"&&a!==`
`&&(s=ml.endOfLine(n,i,r)),this.valueRange=new Ks(i,s),s=gi.endOfWhiteSpace(n,s),s=this.parseComment(s),(!this.hasComment||this.valueRange.isEmpty())&&(s=this.parseBlockValue(s)),s}};tr.Char=os;tr.Node=gi;tr.PlainValue=ml;tr.Range=Ks;tr.Type=hu;tr.YAMLError=Va;tr.YAMLReferenceError=Wg;tr.YAMLSemanticError=gu;tr.YAMLSyntaxError=Hg;tr.YAMLWarning=Yg;tr._defineProperty=qO;tr.defaultTagPrefix=OO;tr.defaultTags=LO});var KP=Z(YP=>{"use strict";var V=$s(),Ua=class extends V.Node{constructor(){super(V.Type.BLANK_LINE)}get includesTrailingLines(){return!0}parse(e,i){return this.context=e,this.range=new V.Range(i,i+1),i+1}},_u=class extends V.Node{constructor(e,i){super(e,i),this.node=null}get includesTrailingLines(){return!!this.node&&this.node.includesTrailingLines}parse(e,i){this.context=e;let{parseNode:r,src:n}=e,{atLineStart:s,lineStart:a}=e;!s&&this.type===V.Type.SEQ_ITEM&&(this.error=new V.YAMLSemanticError(this,"Sequence items must not have preceding content on the same line"));let o=s?i-a:e.indent,l=V.Node.endOfWhiteSpace(n,i+1),u=n[l],c=u==="#",f=[],d=null;for(;u===`
`||u==="#";){if(u==="#"){let m=V.Node.endOfLine(n,l+1);f.push(new V.Range(l,m)),l=m}else{s=!0,a=l+1;let m=V.Node.endOfWhiteSpace(n,a);n[m]===`
`&&f.length===0&&(d=new Ua,a=d.parse({src:n},a)),l=V.Node.endOfIndent(n,a)}u=n[l]}if(V.Node.nextNodeIsIndented(u,l-(a+o),this.type!==V.Type.SEQ_ITEM)?this.node=r({atLineStart:s,inCollection:!1,indent:o,lineStart:a,parent:this},l):u&&a>i+1&&(l=a-1),this.node){if(d){let m=e.parent.items||e.parent.contents;m&&m.push(d)}f.length&&Array.prototype.push.apply(this.props,f),l=this.node.range.end}else if(c){let m=f[0];this.props.push(m),l=m.end}else l=V.Node.endOfLine(n,i+1);let p=this.node?this.node.valueRange.end:l;return this.valueRange=new V.Range(i,p),l}setOrigRanges(e,i){return i=super.setOrigRanges(e,i),this.node?this.node.setOrigRanges(e,i):i}toString(){let{context:{src:e},node:i,range:r,value:n}=this;if(n!=null)return n;let s=i?e.slice(r.start,i.range.start)+String(i):e.slice(r.start,r.end);return V.Node.addStringTerminator(e,r.end,s)}},Ba=class extends V.Node{constructor(){super(V.Type.COMMENT)}parse(e,i){this.context=e;let r=this.parseComment(i);return this.range=new V.Range(i,r),r}};function Kg(t){let e=t;for(;e instanceof _u;)e=e.node;if(!(e instanceof Ga))return null;let i=e.items.length,r=-1;for(let a=i-1;a>=0;--a){let o=e.items[a];if(o.type===V.Type.COMMENT){let{indent:l,lineStart:u}=o.context;if(l>0&&o.range.start>=u+l)break;r=a}else if(o.type===V.Type.BLANK_LINE)r=a;else break}if(r===-1)return null;let n=e.items.splice(r,i-r),s=n[0].range.start;for(;e.range.end=s,e.valueRange&&e.valueRange.end>s&&(e.valueRange.end=s),e!==t;)e=e.context.parent;return n}var Ga=class extends V.Node{static nextContentHasIndent(e,i,r){let n=V.Node.endOfLine(e,i)+1;i=V.Node.endOfWhiteSpace(e,n);let s=e[i];return s?i>=n+r?!0:s!=="#"&&s!==`
`?!1:Ga.nextContentHasIndent(e,i,r):!1}constructor(e){super(e.type===V.Type.SEQ_ITEM?V.Type.SEQ:V.Type.MAP);for(let r=e.props.length-1;r>=0;--r)if(e.props[r].start<e.context.lineStart){this.props=e.props.slice(0,r+1),e.props=e.props.slice(r+1);let n=e.props[0]||e.valueRange;e.range.start=n.start;break}this.items=[e];let i=Kg(e);i&&Array.prototype.push.apply(this.items,i)}get includesTrailingLines(){return this.items.length>0}parse(e,i){this.context=e;let{parseNode:r,src:n}=e,s=V.Node.startOfLine(n,i),a=this.items[0];a.context.parent=this,this.valueRange=V.Range.copy(a.valueRange);let o=a.range.start-a.context.lineStart,l=i;l=V.Node.normalizeOffset(n,l);let u=n[l],c=V.Node.endOfWhiteSpace(n,s)===l,f=!1;for(;u;){for(;u===`
`||u==="#";){if(c&&u===`
`&&!f){let m=new Ua;if(l=m.parse({src:n},l),this.valueRange.end=l,l>=n.length){u=null;break}this.items.push(m),l-=1}else if(u==="#"){if(l<s+o&&!Ga.nextContentHasIndent(n,l,o))return l;let m=new Ba;if(l=m.parse({indent:o,lineStart:s,src:n},l),this.items.push(m),this.valueRange.end=l,l>=n.length){u=null;break}}if(s=l+1,l=V.Node.endOfIndent(n,s),V.Node.atBlank(n,l)){let m=V.Node.endOfWhiteSpace(n,l),T=n[m];(!T||T===`
`||T==="#")&&(l=m)}u=n[l],c=!0}if(!u)break;if(l!==s+o&&(c||u!==":")){if(l<s+o){s>i&&(l=s);break}else if(!this.error){let m="All collection items must start at the same column";this.error=new V.YAMLSyntaxError(this,m)}}if(a.type===V.Type.SEQ_ITEM){if(u!=="-"){s>i&&(l=s);break}}else if(u==="-"&&!this.error){let m=n[l+1];if(!m||m===`
`||m==="	"||m===" "){let T="A collection cannot be both a mapping and a sequence";this.error=new V.YAMLSyntaxError(this,T)}}let d=r({atLineStart:c,inCollection:!0,indent:o,lineStart:s,parent:this},l);if(!d)return l;if(this.items.push(d),this.valueRange.end=d.valueRange.end,l=V.Node.normalizeOffset(n,d.range.end),u=n[l],c=!1,f=d.includesTrailingLines,u){let m=l-1,T=n[m];for(;T===" "||T==="	";)T=n[--m];T===`
`&&(s=m+1,c=!0)}let p=Kg(d);p&&Array.prototype.push.apply(this.items,p)}return l}setOrigRanges(e,i){return i=super.setOrigRanges(e,i),this.items.forEach(r=>{i=r.setOrigRanges(e,i)}),i}toString(){let{context:{src:e},items:i,range:r,value:n}=this;if(n!=null)return n;let s=e.slice(r.start,i[0].range.start)+String(i[0]);for(let a=1;a<i.length;++a){let o=i[a],{atLineStart:l,indent:u}=o.context;if(l)for(let c=0;c<u;++c)s+=" ";s+=String(o)}return V.Node.addStringTerminator(e,r.end,s)}},$g=class extends V.Node{constructor(){super(V.Type.DIRECTIVE),this.name=null}get parameters(){let e=this.rawValue;return e?e.trim().split(/[ \t]+/):[]}parseName(e){let{src:i}=this.context,r=e,n=i[r];for(;n&&n!==`
`&&n!=="	"&&n!==" ";)n=i[r+=1];return this.name=i.slice(e,r),r}parseParameters(e){let{src:i}=this.context,r=e,n=i[r];for(;n&&n!==`
`&&n!=="#";)n=i[r+=1];return this.valueRange=new V.Range(e,r),r}parse(e,i){this.context=e;let r=this.parseName(i+1);return r=this.parseParameters(r),r=this.parseComment(r),this.range=new V.Range(i,r),r}},hl=class extends V.Node{static startCommentOrEndBlankLine(e,i){let r=V.Node.endOfWhiteSpace(e,i),n=e[r];return n==="#"||n===`
`?r:i}constructor(){super(V.Type.DOCUMENT),this.directives=null,this.contents=null,this.directivesEndMarker=null,this.documentEndMarker=null}parseDirectives(e){let{src:i}=this.context;this.directives=[];let r=!0,n=!1,s=e;for(;!V.Node.atDocumentBoundary(i,s,V.Char.DIRECTIVES_END);)switch(s=hl.startCommentOrEndBlankLine(i,s),i[s]){case`
`:if(r){let a=new Ua;s=a.parse({src:i},s),s<i.length&&this.directives.push(a)}else s+=1,r=!0;break;case"#":{let a=new Ba;s=a.parse({src:i},s),this.directives.push(a),r=!1}break;case"%":{let a=new $g;s=a.parse({parent:this,src:i},s),this.directives.push(a),n=!0,r=!1}break;default:return n?this.error=new V.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s}return i[s]?(this.directivesEndMarker=new V.Range(s,s+3),s+3):(n?this.error=new V.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s)}parseContents(e){let{parseNode:i,src:r}=this.context;this.contents||(this.contents=[]);let n=e;for(;r[n-1]==="-";)n-=1;let s=V.Node.endOfWhiteSpace(r,e),a=n===e;for(this.valueRange=new V.Range(s);!V.Node.atDocumentBoundary(r,s,V.Char.DOCUMENT_END);){switch(r[s]){case`
`:if(a){let o=new Ua;s=o.parse({src:r},s),s<r.length&&this.contents.push(o)}else s+=1,a=!0;n=s;break;case"#":{let o=new Ba;s=o.parse({src:r},s),this.contents.push(o),a=!1}break;default:{let o=V.Node.endOfIndent(r,s),u=i({atLineStart:a,indent:-1,inFlow:!1,inCollection:!1,lineStart:n,parent:this},o);if(!u)return this.valueRange.end=o;this.contents.push(u),s=u.range.end,a=!1;let c=Kg(u);c&&Array.prototype.push.apply(this.contents,c)}}s=hl.startCommentOrEndBlankLine(r,s)}if(this.valueRange.end=s,r[s]&&(this.documentEndMarker=new V.Range(s,s+3),s+=3,r[s])){if(s=V.Node.endOfWhiteSpace(r,s),r[s]==="#"){let o=new Ba;s=o.parse({src:r},s),this.contents.push(o)}switch(r[s]){case`
`:s+=1;break;case void 0:break;default:this.error=new V.YAMLSyntaxError(this,"Document end marker line cannot have a non-comment suffix")}}return s}parse(e,i){e.root=this,this.context=e;let{src:r}=e,n=r.charCodeAt(i)===65279?i+1:i;return n=this.parseDirectives(n),n=this.parseContents(n),n}setOrigRanges(e,i){return i=super.setOrigRanges(e,i),this.directives.forEach(r=>{i=r.setOrigRanges(e,i)}),this.directivesEndMarker&&(i=this.directivesEndMarker.setOrigRange(e,i)),this.contents.forEach(r=>{i=r.setOrigRanges(e,i)}),this.documentEndMarker&&(i=this.documentEndMarker.setOrigRange(e,i)),i}toString(){let{contents:e,directives:i,value:r}=this;if(r!=null)return r;let n=i.join("");return e.length>0&&((i.length>0||e[0].type===V.Type.COMMENT)&&(n+=`---
`),n+=e.join("")),n[n.length-1]!==`
`&&(n+=`
`),n}},zg=class extends V.Node{parse(e,i){this.context=e;let{src:r}=e,n=V.Node.endOfIdentifier(r,i+1);return this.valueRange=new V.Range(i+1,n),n=V.Node.endOfWhiteSpace(r,n),n=this.parseComment(n),n}},zs={CLIP:"CLIP",KEEP:"KEEP",STRIP:"STRIP"},Xg=class extends V.Node{constructor(e,i){super(e,i),this.blockIndent=null,this.chomping=zs.CLIP,this.header=null}get includesTrailingLines(){return this.chomping===zs.KEEP}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:i}=this.valueRange,{indent:r,src:n}=this.context;if(this.valueRange.isEmpty())return"";let s=null,a=n[i-1];for(;a===`
`||a==="	"||a===" ";){if(i-=1,i<=e){if(this.chomping===zs.KEEP)break;return""}a===`
`&&(s=i),a=n[i-1]}let o=i+1;s&&(this.chomping===zs.KEEP?(o=s,i=this.valueRange.end):i=s);let l=r+this.blockIndent,u=this.type===V.Type.BLOCK_FOLDED,c=!0,f="",d="",p=!1;for(let m=e;m<i;++m){for(let P=0;P<l&&n[m]===" ";++P)m+=1;let T=n[m];if(T===`
`)d===`
`?f+=`
`:d=`
`;else{let P=V.Node.endOfLine(n,m),_=n.slice(m,P);m=P,u&&(T===" "||T==="	")&&m<o?(d===" "?d=`
`:!p&&!c&&d===`
`&&(d=`

`),f+=d+_,d=P<i&&n[P]||"",p=!0):(f+=d+_,d=u&&m<o?" ":`
`,p=!1),c&&_!==""&&(c=!1)}}return this.chomping===zs.STRIP?f:f+`
`}parseBlockHeader(e){let{src:i}=this.context,r=e+1,n="";for(;;){let s=i[r];switch(s){case"-":this.chomping=zs.STRIP;break;case"+":this.chomping=zs.KEEP;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n+=s;break;default:return this.blockIndent=Number(n)||null,this.header=new V.Range(e,r),r}r+=1}}parseBlockValue(e){let{indent:i,src:r}=this.context,n=!!this.blockIndent,s=e,a=e,o=1;for(let l=r[s];l===`
`&&(s+=1,!V.Node.atDocumentBoundary(r,s));l=r[s]){let u=V.Node.endOfBlockIndent(r,i,s);if(u===null)break;let c=r[u],f=u-(s+i);if(this.blockIndent){if(c&&c!==`
`&&f<this.blockIndent){if(r[u]==="#")break;if(!this.error){let p=`Block scalars must not be less indented than their ${n?"explicit indentation indicator":"first line"}`;this.error=new V.YAMLSemanticError(this,p)}}}else if(r[u]!==`
`){if(f<o){let d="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";this.error=new V.YAMLSemanticError(this,d)}this.blockIndent=f}else f>o&&(o=f);r[u]===`
`?s=u:s=a=V.Node.endOfLine(r,u)}return this.chomping!==zs.KEEP&&(s=r[a]?a+1:a),this.valueRange=new V.Range(e+1,s),s}parse(e,i){this.context=e;let{src:r}=e,n=this.parseBlockHeader(i);return n=V.Node.endOfWhiteSpace(r,n),n=this.parseComment(n),n=this.parseBlockValue(n),n}setOrigRanges(e,i){return i=super.setOrigRanges(e,i),this.header?this.header.setOrigRange(e,i):i}},Qg=class extends V.Node{constructor(e,i){super(e,i),this.items=null}prevNodeIsJsonLike(e=this.items.length){let i=this.items[e-1];return!!i&&(i.jsonLike||i.type===V.Type.COMMENT&&this.prevNodeIsJsonLike(e-1))}parse(e,i){this.context=e;let{parseNode:r,src:n}=e,{indent:s,lineStart:a}=e,o=n[i];this.items=[{char:o,offset:i}];let l=V.Node.endOfWhiteSpace(n,i+1);for(o=n[l];o&&o!=="]"&&o!=="}";){switch(o){case`
`:{a=l+1;let u=V.Node.endOfWhiteSpace(n,a);if(n[u]===`
`){let c=new Ua;a=c.parse({src:n},a),this.items.push(c)}if(l=V.Node.endOfIndent(n,a),l<=a+s&&(o=n[l],l<a+s||o!=="]"&&o!=="}")){let c="Insufficient indentation in flow collection";this.error=new V.YAMLSemanticError(this,c)}}break;case",":this.items.push({char:o,offset:l}),l+=1;break;case"#":{let u=new Ba;l=u.parse({src:n},l),this.items.push(u)}break;case"?":case":":{let u=n[l+1];if(u===`
`||u==="	"||u===" "||u===","||o===":"&&this.prevNodeIsJsonLike()){this.items.push({char:o,offset:l}),l+=1;break}}default:{let u=r({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:a,parent:this},l);if(!u)return this.valueRange=new V.Range(i,l),l;this.items.push(u),l=V.Node.normalizeOffset(n,u.range.end)}}l=V.Node.endOfWhiteSpace(n,l),o=n[l]}return this.valueRange=new V.Range(i,l+1),o&&(this.items.push({char:o,offset:l}),l=V.Node.endOfWhiteSpace(n,l+1),l=this.parseComment(l)),l}setOrigRanges(e,i){return i=super.setOrigRanges(e,i),this.items.forEach(r=>{if(r instanceof V.Node)i=r.setOrigRanges(e,i);else if(e.length===0)r.origOffset=r.offset;else{let n=i;for(;n<e.length&&!(e[n]>r.offset);)++n;r.origOffset=r.offset+n,i=n}}),i}toString(){let{context:{src:e},items:i,range:r,value:n}=this;if(n!=null)return n;let s=i.filter(l=>l instanceof V.Node),a="",o=r.start;return s.forEach(l=>{let u=e.slice(o,l.range.start);o=l.range.end,a+=u+String(l),a[a.length-1]===`
`&&e[o-1]!==`
`&&e[o]===`
`&&(o+=1)}),a+=e.slice(o,r.end),V.Node.addStringTerminator(e,r.end,a)}},yu=class extends V.Node{static endOfQuote(e,i){let r=e[i];for(;r&&r!=='"';)i+=r==="\\"?2:1,r=e[i];return i+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:i,end:r}=this.valueRange,{indent:n,src:s}=this.context;s[r-1]!=='"'&&e.push(new V.YAMLSyntaxError(this,'Missing closing "quote'));let a="";for(let o=i+1;o<r-1;++o){let l=s[o];if(l===`
`){V.Node.atDocumentBoundary(s,o+1)&&e.push(new V.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:u,offset:c,error:f}=V.Node.foldNewline(s,o,n);a+=u,o=c,f&&e.push(new V.YAMLSemanticError(this,"Multi-line double-quoted string needs to be sufficiently indented"))}else if(l==="\\")switch(o+=1,s[o]){case"0":a+="\0";break;case"a":a+="\x07";break;case"b":a+="\b";break;case"e":a+="\x1B";break;case"f":a+="\f";break;case"n":a+=`
`;break;case"r":a+="\r";break;case"t":a+="	";break;case"v":a+="\v";break;case"N":a+="\x85";break;case"_":a+="\xA0";break;case"L":a+="\u2028";break;case"P":a+="\u2029";break;case" ":a+=" ";break;case'"':a+='"';break;case"/":a+="/";break;case"\\":a+="\\";break;case"	":a+="	";break;case"x":a+=this.parseCharCode(o+1,2,e),o+=2;break;case"u":a+=this.parseCharCode(o+1,4,e),o+=4;break;case"U":a+=this.parseCharCode(o+1,8,e),o+=8;break;case`
`:for(;s[o+1]===" "||s[o+1]==="	";)o+=1;break;default:e.push(new V.YAMLSyntaxError(this,`Invalid escape sequence ${s.substr(o-1,2)}`)),a+="\\"+s[o]}else if(l===" "||l==="	"){let u=o,c=s[o+1];for(;c===" "||c==="	";)o+=1,c=s[o+1];c!==`
`&&(a+=o>u?s.slice(u,o+1):l)}else a+=l}return e.length>0?{errors:e,str:a}:a}parseCharCode(e,i,r){let{src:n}=this.context,s=n.substr(e,i),o=s.length===i&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;return isNaN(o)?(r.push(new V.YAMLSyntaxError(this,`Invalid escape sequence ${n.substr(e-2,i+2)}`)),n.substr(e-2,i+2)):String.fromCodePoint(o)}parse(e,i){this.context=e;let{src:r}=e,n=yu.endOfQuote(r,i+1);return this.valueRange=new V.Range(i,n),n=V.Node.endOfWhiteSpace(r,n),n=this.parseComment(n),n}},Tu=class extends V.Node{static endOfQuote(e,i){let r=e[i];for(;r;)if(r==="'"){if(e[i+1]!=="'")break;r=e[i+=2]}else r=e[i+=1];return i+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:i,end:r}=this.valueRange,{indent:n,src:s}=this.context;s[r-1]!=="'"&&e.push(new V.YAMLSyntaxError(this,"Missing closing 'quote"));let a="";for(let o=i+1;o<r-1;++o){let l=s[o];if(l===`
`){V.Node.atDocumentBoundary(s,o+1)&&e.push(new V.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:u,offset:c,error:f}=V.Node.foldNewline(s,o,n);a+=u,o=c,f&&e.push(new V.YAMLSemanticError(this,"Multi-line single-quoted string needs to be sufficiently indented"))}else if(l==="'")a+=l,o+=1,s[o]!=="'"&&e.push(new V.YAMLSyntaxError(this,"Unescaped single quote? This should not happen."));else if(l===" "||l==="	"){let u=o,c=s[o+1];for(;c===" "||c==="	";)o+=1,c=s[o+1];c!==`
`&&(a+=o>u?s.slice(u,o+1):l)}else a+=l}return e.length>0?{errors:e,str:a}:a}parse(e,i){this.context=e;let{src:r}=e,n=Tu.endOfQuote(r,i+1);return this.valueRange=new V.Range(i,n),n=V.Node.endOfWhiteSpace(r,n),n=this.parseComment(n),n}};function VO(t,e){switch(t){case V.Type.ALIAS:return new zg(t,e);case V.Type.BLOCK_FOLDED:case V.Type.BLOCK_LITERAL:return new Xg(t,e);case V.Type.FLOW_MAP:case V.Type.FLOW_SEQ:return new Qg(t,e);case V.Type.MAP_KEY:case V.Type.MAP_VALUE:case V.Type.SEQ_ITEM:return new _u(t,e);case V.Type.COMMENT:case V.Type.PLAIN:return new V.PlainValue(t,e);case V.Type.QUOTE_DOUBLE:return new yu(t,e);case V.Type.QUOTE_SINGLE:return new Tu(t,e);default:return null}}var ja=class{static parseType(e,i,r){switch(e[i]){case"*":return V.Type.ALIAS;case">":return V.Type.BLOCK_FOLDED;case"|":return V.Type.BLOCK_LITERAL;case"{":return V.Type.FLOW_MAP;case"[":return V.Type.FLOW_SEQ;case"?":return!r&&V.Node.atBlank(e,i+1,!0)?V.Type.MAP_KEY:V.Type.PLAIN;case":":return!r&&V.Node.atBlank(e,i+1,!0)?V.Type.MAP_VALUE:V.Type.PLAIN;case"-":return!r&&V.Node.atBlank(e,i+1,!0)?V.Type.SEQ_ITEM:V.Type.PLAIN;case'"':return V.Type.QUOTE_DOUBLE;case"'":return V.Type.QUOTE_SINGLE;default:return V.Type.PLAIN}}constructor(e={},{atLineStart:i,inCollection:r,inFlow:n,indent:s,lineStart:a,parent:o}={}){V._defineProperty(this,"parseNode",(l,u)=>{if(V.Node.atDocumentBoundary(this.src,u))return null;let c=new ja(this,l),{props:f,type:d,valueStart:p}=c.parseProps(u),m=VO(d,f),T=m.parse(c,p);if(m.range=new V.Range(u,T),T<=u&&(m.error=new Error("Node#parse consumed no characters"),m.error.parseEnd=T,m.error.source=m,m.range.end=u+1),c.nodeStartsCollection(m)){!m.error&&!c.atLineStart&&c.parent.type===V.Type.DOCUMENT&&(m.error=new V.YAMLSyntaxError(m,"Block collection must not have preceding content here (e.g. directives-end indicator)"));let P=new Ga(m);return T=P.parse(new ja(c),T),P.range=new V.Range(u,T),P}return m}),this.atLineStart=i??(e.atLineStart||!1),this.inCollection=r??(e.inCollection||!1),this.inFlow=n??(e.inFlow||!1),this.indent=s??e.indent,this.lineStart=a??e.lineStart,this.parent=o??(e.parent||{}),this.root=e.root,this.src=e.src}nodeStartsCollection(e){let{inCollection:i,inFlow:r,src:n}=this;if(i||r)return!1;if(e instanceof _u)return!0;let s=e.range.end;return n[s]===`
`||n[s-1]===`
`?!1:(s=V.Node.endOfWhiteSpace(n,s),n[s]===":")}parseProps(e){let{inFlow:i,parent:r,src:n}=this,s=[],a=!1;e=this.atLineStart?V.Node.endOfIndent(n,e):V.Node.endOfWhiteSpace(n,e);let o=n[e];for(;o===V.Char.ANCHOR||o===V.Char.COMMENT||o===V.Char.TAG||o===`
`;){if(o===`
`){let u=e,c;do c=u+1,u=V.Node.endOfIndent(n,c);while(n[u]===`
`);let f=u-(c+this.indent),d=r.type===V.Type.SEQ_ITEM&&r.context.atLineStart;if(n[u]!=="#"&&!V.Node.nextNodeIsIndented(n[u],f,!d))break;this.atLineStart=!0,this.lineStart=c,a=!1,e=u}else if(o===V.Char.COMMENT){let u=V.Node.endOfLine(n,e+1);s.push(new V.Range(e,u)),e=u}else{let u=V.Node.endOfIdentifier(n,e+1);o===V.Char.TAG&&n[u]===","&&/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+,\d\d\d\d(-\d\d){0,2}\/\S/.test(n.slice(e+1,u+13))&&(u=V.Node.endOfIdentifier(n,u+5)),s.push(new V.Range(e,u)),a=!0,e=V.Node.endOfWhiteSpace(n,u)}o=n[e]}a&&o===":"&&V.Node.atBlank(n,e+1,!0)&&(e-=1);let l=ja.parseType(n,e,i);return{props:s,type:l,valueStart:e}}};function BO(t){let e=[];t.indexOf("\r")!==-1&&(t=t.replace(/\r\n?/g,(n,s)=>(n.length>1&&e.push(s),`
`)));let i=[],r=0;do{let n=new hl,s=new ja({src:t});r=n.parse(s,r),i.push(n)}while(r<t.length);return i.setOrigRanges=()=>{if(e.length===0)return!1;for(let s=1;s<e.length;++s)e[s]-=s;let n=0;for(let s=0;s<i.length;++s)n=i[s].setOrigRanges(e,n);return e.splice(0,e.length),!0},i.toString=()=>i.join(`...
`),i}YP.parse=BO});var _l=Z(At=>{"use strict";var H=$s();function jO(t,e,i){return i?`#${i.replace(/[\s\S]^/gm,`$&${e}#`)}
${e}${t}`:t}function gl(t,e,i){return i?i.indexOf(`
`)===-1?`${t} #${i}`:`${t}
`+i.replace(/^/gm,`${e||""}#`):t}var Ir=class{};function Xs(t,e,i){if(Array.isArray(t))return t.map((r,n)=>Xs(r,String(n),i));if(t&&typeof t.toJSON=="function"){let r=i&&i.anchors&&i.anchors.get(t);r&&(i.onCreate=s=>{r.res=s,delete i.onCreate});let n=t.toJSON(e,i);return r&&i.onCreate&&i.onCreate(n),n}return(!i||!i.keep)&&typeof t=="bigint"?Number(t):t}var Di=class extends Ir{constructor(e){super(),this.value=e}toJSON(e,i){return i&&i.keep?this.value:Xs(this.value,e,i)}toString(){return String(this.value)}};function $P(t,e,i){let r=i;for(let n=e.length-1;n>=0;--n){let s=e[n];if(Number.isInteger(s)&&s>=0){let a=[];a[s]=r,r=a}else{let a={};Object.defineProperty(a,s,{value:r,writable:!0,enumerable:!0,configurable:!0}),r=a}}return t.createNode(r,!1)}var QP=t=>t==null||typeof t=="object"&&t[Symbol.iterator]().next().done,Zt=class extends Ir{constructor(e){super(),H._defineProperty(this,"items",[]),this.schema=e}addIn(e,i){if(QP(e))this.add(i);else{let[r,...n]=e,s=this.get(r,!0);if(s instanceof Zt)s.addIn(n,i);else if(s===void 0&&this.schema)this.set(r,$P(this.schema,n,i));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${n}`)}}deleteIn([e,...i]){if(i.length===0)return this.delete(e);let r=this.get(e,!0);if(r instanceof Zt)return r.deleteIn(i);throw new Error(`Expected YAML collection at ${e}. Remaining path: ${i}`)}getIn([e,...i],r){let n=this.get(e,!0);return i.length===0?!r&&n instanceof Di?n.value:n:n instanceof Zt?n.getIn(i,r):void 0}hasAllNullValues(){return this.items.every(e=>{if(!e||e.type!=="PAIR")return!1;let i=e.value;return i==null||i instanceof Di&&i.value==null&&!i.commentBefore&&!i.comment&&!i.tag})}hasIn([e,...i]){if(i.length===0)return this.has(e);let r=this.get(e,!0);return r instanceof Zt?r.hasIn(i):!1}setIn([e,...i],r){if(i.length===0)this.set(e,r);else{let n=this.get(e,!0);if(n instanceof Zt)n.setIn(i,r);else if(n===void 0&&this.schema)this.set(e,$P(this.schema,i,r));else throw new Error(`Expected YAML collection at ${e}. Remaining path: ${i}`)}}toJSON(){return null}toString(e,{blockItem:i,flowChars:r,isMap:n,itemIndent:s},a,o){let{indent:l,indentStep:u,stringify:c}=e,f=this.type===H.Type.FLOW_MAP||this.type===H.Type.FLOW_SEQ||e.inFlow;f&&(s+=u);let d=n&&this.hasAllNullValues();e=Object.assign({},e,{allNullValues:d,indent:s,inFlow:f,type:null});let p=!1,m=!1,T=this.items.reduce((_,g,y)=>{let E;g&&(!p&&g.spaceBefore&&_.push({type:"comment",str:""}),g.commentBefore&&g.commentBefore.match(/^.*$/gm).forEach(C=>{_.push({type:"comment",str:`#${C}`})}),g.comment&&(E=g.comment),f&&(!p&&g.spaceBefore||g.commentBefore||g.comment||g.key&&(g.key.commentBefore||g.key.comment)||g.value&&(g.value.commentBefore||g.value.comment))&&(m=!0)),p=!1;let L=c(g,e,()=>E=null,()=>p=!0);return f&&!m&&L.includes(`
`)&&(m=!0),f&&y<this.items.length-1&&(L+=","),L=gl(L,s,E),p&&(E||f)&&(p=!1),_.push({type:"item",str:L}),_},[]),P;if(T.length===0)P=r.start+r.end;else if(f){let{start:_,end:g}=r,y=T.map(E=>E.str);if(m||y.reduce((E,L)=>E+L.length+2,2)>Zt.maxFlowStringSingleLineLength){P=_;for(let E of y)P+=E?`
${u}${l}${E}`:`
`;P+=`
${l}${g}`}else P=`${_} ${y.join(" ")} ${g}`}else{let _=T.map(i);P=_.shift();for(let g of _)P+=g?`
${l}${g}`:`
`}return this.comment?(P+=`
`+this.comment.replace(/^/gm,`${l}#`),a&&a()):p&&o&&o(),P}};H._defineProperty(Zt,"maxFlowStringSingleLineLength",60);function Zd(t){let e=t instanceof Di?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),Number.isInteger(e)&&e>=0?e:null}var Qs=class extends Zt{add(e){this.items.push(e)}delete(e){let i=Zd(e);return typeof i!="number"?!1:this.items.splice(i,1).length>0}get(e,i){let r=Zd(e);if(typeof r!="number")return;let n=this.items[r];return!i&&n instanceof Di?n.value:n}has(e){let i=Zd(e);return typeof i=="number"&&i<this.items.length}set(e,i){let r=Zd(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);this.items[r]=i}toJSON(e,i){let r=[];i&&i.onCreate&&i.onCreate(r);let n=0;for(let s of this.items)r.push(Xs(s,String(n++),i));return r}toString(e,i,r){return e?super.toString(e,{blockItem:n=>n.type==="comment"?n.str:`- ${n.str}`,flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(e.indent||"")+"  "},i,r):JSON.stringify(this)}},UO=(t,e,i)=>e===null?"":typeof e!="object"?String(e):t instanceof Ir&&i&&i.doc?t.toString({anchors:Object.create(null),doc:i.doc,indent:"",indentStep:i.indentStep,inFlow:!0,inStringifyKey:!0,stringify:i.stringify}):JSON.stringify(e),pt=class extends Ir{constructor(e,i=null){super(),this.key=e,this.value=i,this.type=pt.Type.PAIR}get commentBefore(){return this.key instanceof Ir?this.key.commentBefore:void 0}set commentBefore(e){if(this.key==null&&(this.key=new Di(null)),this.key instanceof Ir)this.key.commentBefore=e;else{let i="Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.";throw new Error(i)}}addToJSMap(e,i){let r=Xs(this.key,"",e);if(i instanceof Map){let n=Xs(this.value,r,e);i.set(r,n)}else if(i instanceof Set)i.add(r);else{let n=UO(this.key,r,e),s=Xs(this.value,n,e);n in i?Object.defineProperty(i,n,{value:s,writable:!0,enumerable:!0,configurable:!0}):i[n]=s}return i}toJSON(e,i){let r=i&&i.mapAsMap?new Map:{};return this.addToJSMap(i,r)}toString(e,i,r){if(!e||!e.doc)return JSON.stringify(this);let{indent:n,indentSeq:s,simpleKeys:a}=e.doc.options,{key:o,value:l}=this,u=o instanceof Ir&&o.comment;if(a){if(u)throw new Error("With simple keys, key nodes cannot have comments");if(o instanceof Zt){let L="With simple keys, collection cannot be used as a key value";throw new Error(L)}}let c=!a&&(!o||u||(o instanceof Ir?o instanceof Zt||o.type===H.Type.BLOCK_FOLDED||o.type===H.Type.BLOCK_LITERAL:typeof o=="object")),{doc:f,indent:d,indentStep:p,stringify:m}=e;e=Object.assign({},e,{implicitKey:!c,indent:d+p});let T=!1,P=m(o,e,()=>u=null,()=>T=!0);if(P=gl(P,e.indent,u),!c&&P.length>1024){if(a)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");c=!0}if(e.allNullValues&&!a)return this.comment?(P=gl(P,e.indent,this.comment),i&&i()):T&&!u&&r&&r(),e.inFlow&&!c?P:`? ${P}`;P=c?`? ${P}
${d}:`:`${P}:`,this.comment&&(P=gl(P,e.indent,this.comment),i&&i());let _="",g=null;l instanceof Ir?(l.spaceBefore&&(_=`
`),l.commentBefore&&(_+=`
${l.commentBefore.replace(/^/gm,`${e.indent}#`)}`),g=l.comment):l&&typeof l=="object"&&(l=f.schema.createNode(l,!0)),e.implicitKey=!1,!c&&!this.comment&&l instanceof Di&&(e.indentAtStart=P.length+1),T=!1,!s&&n>=2&&!e.inFlow&&!c&&l instanceof Qs&&l.type!==H.Type.FLOW_SEQ&&!l.tag&&!f.anchors.getName(l)&&(e.indent=e.indent.substr(2));let y=m(l,e,()=>g=null,()=>T=!0),E=" ";return _||this.comment?E=`${_}
${e.indent}`:!c&&l instanceof Zt?(!(y[0]==="["||y[0]==="{")||y.includes(`
`))&&(E=`
${e.indent}`):y[0]===`
`&&(E=""),T&&!g&&r&&r(),gl(P+E+y,e.indent,g)}};H._defineProperty(pt,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var ep=(t,e)=>{if(t instanceof ls){let i=e.get(t.source);return i.count*i.aliasCount}else if(t instanceof Zt){let i=0;for(let r of t.items){let n=ep(r,e);n>i&&(i=n)}return i}else if(t instanceof pt){let i=ep(t.key,e),r=ep(t.value,e);return Math.max(i,r)}return 1},ls=class extends Ir{static stringify({range:e,source:i},{anchors:r,doc:n,implicitKey:s,inStringifyKey:a}){let o=Object.keys(r).find(u=>r[u]===i);if(!o&&a&&(o=n.anchors.getName(i)||n.anchors.newName()),o)return`*${o}${s?" ":""}`;let l=n.anchors.getName(i)?"Alias node must be after source node":"Source node not found for alias node";throw new Error(`${l} [${e}]`)}constructor(e){super(),this.source=e,this.type=H.Type.ALIAS}set tag(e){throw new Error("Alias nodes cannot have tags")}toJSON(e,i){if(!i)return Xs(this.source,e,i);let{anchors:r,maxAliasCount:n}=i,s=r.get(this.source);if(!s||s.res===void 0){let a="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new H.YAMLReferenceError(this.cstNode,a):new ReferenceError(a)}if(n>=0&&(s.count+=1,s.aliasCount===0&&(s.aliasCount=ep(this.source,r)),s.count*s.aliasCount>n)){let a="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new H.YAMLReferenceError(this.cstNode,a):new ReferenceError(a)}return s.res}toString(e){return ls.stringify(this,e)}};H._defineProperty(ls,"default",!0);function bu(t,e){let i=e instanceof Di?e.value:e;for(let r of t)if(r instanceof pt&&(r.key===e||r.key===i||r.key&&r.key.value===i))return r}var vu=class extends Zt{add(e,i){e?e instanceof pt||(e=new pt(e.key||e,e.value)):e=new pt(e);let r=bu(this.items,e.key),n=this.schema&&this.schema.sortMapEntries;if(r)if(i)r.value=e.value;else throw new Error(`Key ${e.key} already set`);else if(n){let s=this.items.findIndex(a=>n(e,a)<0);s===-1?this.items.push(e):this.items.splice(s,0,e)}else this.items.push(e)}delete(e){let i=bu(this.items,e);return i?this.items.splice(this.items.indexOf(i),1).length>0:!1}get(e,i){let r=bu(this.items,e),n=r&&r.value;return!i&&n instanceof Di?n.value:n}has(e){return!!bu(this.items,e)}set(e,i){this.add(new pt(e,i),!0)}toJSON(e,i,r){let n=r?new r:i&&i.mapAsMap?new Map:{};i&&i.onCreate&&i.onCreate(n);for(let s of this.items)s.addToJSMap(i,n);return n}toString(e,i,r){if(!e)return JSON.stringify(this);for(let n of this.items)if(!(n instanceof pt))throw new Error(`Map items must all be pairs; found ${JSON.stringify(n)} instead`);return super.toString(e,{blockItem:n=>n.str,flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:e.indent||""},i,r)}},JP="<<",rp=class extends pt{constructor(e){if(e instanceof pt){let i=e.value;i instanceof Qs||(i=new Qs,i.items.push(e.value),i.range=e.value.range),super(e.key,i),this.range=e.range}else super(new Di(JP),new Qs);this.type=pt.Type.MERGE_PAIR}addToJSMap(e,i){for(let{source:r}of this.value.items){if(!(r instanceof vu))throw new Error("Merge sources must be maps");let n=r.toJSON(null,e,Map);for(let[s,a]of n)i instanceof Map?i.has(s)||i.set(s,a):i instanceof Set?i.add(s):Object.prototype.hasOwnProperty.call(i,s)||Object.defineProperty(i,s,{value:a,writable:!0,enumerable:!0,configurable:!0})}return i}toString(e,i){let r=this.value;if(r.items.length>1)return super.toString(e,i);this.value=r.items[0];let n=super.toString(e,i);return this.value=r,n}},GO={defaultType:H.Type.BLOCK_LITERAL,lineWidth:76},WO={trueStr:"true",falseStr:"false"},HO={asBigInt:!1},YO={nullStr:"null"},Ha={defaultType:H.Type.PLAIN,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function Zg(t,e,i){for(let{format:r,test:n,resolve:s}of e)if(n){let a=t.match(n);if(a){let o=s.apply(null,a);return o instanceof Di||(o=new Di(o)),r&&(o.format=r),o}}return i&&(t=i(t)),new Di(t)}var ZP="flow",Jg="block",tp="quoted",zP=(t,e)=>{let i=t[e+1];for(;i===" "||i==="	";){do i=t[e+=1];while(i&&i!==`
`);i=t[e+1]}return e};function np(t,e,i,{indentAtStart:r,lineWidth:n=80,minContentWidth:s=20,onFold:a,onOverflow:o}){if(!n||n<0)return t;let l=Math.max(1+s,1+n-e.length);if(t.length<=l)return t;let u=[],c={},f=n-e.length;typeof r=="number"&&(r>n-Math.max(2,s)?u.push(0):f=n-r);let d,p,m=!1,T=-1,P=-1,_=-1;i===Jg&&(T=zP(t,T),T!==-1&&(f=T+l));for(let y;y=t[T+=1];){if(i===tp&&y==="\\"){switch(P=T,t[T+1]){case"x":T+=3;break;case"u":T+=5;break;case"U":T+=9;break;default:T+=1}_=T}if(y===`
`)i===Jg&&(T=zP(t,T)),f=T+l,d=void 0;else{if(y===" "&&p&&p!==" "&&p!==`
`&&p!=="	"){let E=t[T+1];E&&E!==" "&&E!==`
`&&E!=="	"&&(d=T)}if(T>=f)if(d)u.push(d),f=d+l,d=void 0;else if(i===tp){for(;p===" "||p==="	";)p=y,y=t[T+=1],m=!0;let E=T>_+1?T-2:P-1;if(c[E])return t;u.push(E),c[E]=!0,f=E+l,d=void 0}else m=!0}p=y}if(m&&o&&o(),u.length===0)return t;a&&a();let g=t.slice(0,u[0]);for(let y=0;y<u.length;++y){let E=u[y],L=u[y+1]||t.length;E===0?g=`
${e}${t.slice(0,L)}`:(i===tp&&c[E]&&(g+=`${t[E]}\\`),g+=`
${e}${t.slice(E+1,L)}`)}return g}var e_=({indentAtStart:t})=>t?Object.assign({indentAtStart:t},Ha.fold):Ha.fold,sp=t=>/^(%|---|\.\.\.)/m.test(t);function KO(t,e,i){if(!e||e<0)return!1;let r=e-i,n=t.length;if(n<=r)return!1;for(let s=0,a=0;s<n;++s)if(t[s]===`
`){if(s-a>r)return!0;if(a=s+1,n-a<=r)return!1}return!0}function Wa(t,e){let{implicitKey:i}=e,{jsonEncoding:r,minMultiLineLength:n}=Ha.doubleQuoted,s=JSON.stringify(t);if(r)return s;let a=e.indent||(sp(t)?"  ":""),o="",l=0;for(let u=0,c=s[u];c;c=s[++u])if(c===" "&&s[u+1]==="\\"&&s[u+2]==="n"&&(o+=s.slice(l,u)+"\\ ",u+=1,l=u,c="\\"),c==="\\")switch(s[u+1]){case"u":{o+=s.slice(l,u);let f=s.substr(u+2,4);switch(f){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:f.substr(0,2)==="00"?o+="\\x"+f.substr(2):o+=s.substr(u,6)}u+=5,l=u+1}break;case"n":if(i||s[u+2]==='"'||s.length<n)u+=1;else{for(o+=s.slice(l,u)+`

`;s[u+2]==="\\"&&s[u+3]==="n"&&s[u+4]!=='"';)o+=`
`,u+=2;o+=a,s[u+2]===" "&&(o+="\\"),u+=1,l=u+1}break;default:u+=1}return o=l?o+s.slice(l):s,i?o:np(o,a,tp,e_(e))}function eN(t,e){if(e.implicitKey){if(/\n/.test(t))return Wa(t,e)}else if(/[ \t]\n|\n[ \t]/.test(t))return Wa(t,e);let i=e.indent||(sp(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${i}`)+"'";return e.implicitKey?r:np(r,i,ZP,e_(e))}function ip({comment:t,type:e,value:i},r,n,s){if(/\n[\t ]+$/.test(i)||/^\s*$/.test(i))return Wa(i,r);let a=r.indent||(r.forceBlockIndent||sp(i)?"  ":""),o=a?"2":"1",l=e===H.Type.BLOCK_FOLDED?!1:e===H.Type.BLOCK_LITERAL?!0:!KO(i,Ha.fold.lineWidth,a.length),u=l?"|":">";if(!i)return u+`
`;let c="",f="";if(i=i.replace(/[\n\t ]*$/,p=>{let m=p.indexOf(`
`);return m===-1?u+="-":(i===p||m!==p.length-1)&&(u+="+",s&&s()),f=p.replace(/\n$/,""),""}).replace(/^[\n ]*/,p=>{p.indexOf(" ")!==-1&&(u+=o);let m=p.match(/ +$/);return m?(c=p.slice(0,-m[0].length),m[0]):(c=p,"")}),f&&(f=f.replace(/\n+(?!\n|$)/g,`$&${a}`)),c&&(c=c.replace(/\n+/g,`$&${a}`)),t&&(u+=" #"+t.replace(/ ?[\r\n]+/g," "),n&&n()),!i)return`${u}${o}
${a}${f}`;if(l)return i=i.replace(/\n+/g,`$&${a}`),`${u}
${a}${c}${i}${f}`;i=i.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${a}`);let d=np(`${c}${i}${f}`,a,Jg,Ha.fold);return`${u}
${a}${d}`}function $O(t,e,i,r){let{comment:n,type:s,value:a}=t,{actualString:o,implicitKey:l,indent:u,inFlow:c}=e;if(l&&/[\n[\]{},]/.test(a)||c&&/[[\]{},]/.test(a))return Wa(a,e);if(!a||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(a))return l||c||a.indexOf(`
`)===-1?a.indexOf('"')!==-1&&a.indexOf("'")===-1?eN(a,e):Wa(a,e):ip(t,e,i,r);if(!l&&!c&&s!==H.Type.PLAIN&&a.indexOf(`
`)!==-1)return ip(t,e,i,r);if(u===""&&sp(a))return e.forceBlockIndent=!0,ip(t,e,i,r);let f=a.replace(/\n+/g,`$&
${u}`);if(o){let{tags:p}=e.doc.schema;if(typeof Zg(f,p,p.scalarFallback).value!="string")return Wa(a,e)}let d=l?f:np(f,u,ZP,e_(e));return n&&!c&&(d.indexOf(`
`)!==-1||n.indexOf(`
`)!==-1)?(i&&i(),jO(d,u,n)):d}function zO(t,e,i,r){let{defaultType:n}=Ha,{implicitKey:s,inFlow:a}=e,{type:o,value:l}=t;typeof l!="string"&&(l=String(l),t=Object.assign({},t,{value:l}));let u=f=>{switch(f){case H.Type.BLOCK_FOLDED:case H.Type.BLOCK_LITERAL:return ip(t,e,i,r);case H.Type.QUOTE_DOUBLE:return Wa(l,e);case H.Type.QUOTE_SINGLE:return eN(l,e);case H.Type.PLAIN:return $O(t,e,i,r);default:return null}};(o!==H.Type.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(l)||(s||a)&&(o===H.Type.BLOCK_FOLDED||o===H.Type.BLOCK_LITERAL))&&(o=H.Type.QUOTE_DOUBLE);let c=u(o);if(c===null&&(c=u(n),c===null))throw new Error(`Unsupported default string type ${n}`);return c}function XO({format:t,minFractionDigits:e,tag:i,value:r}){if(typeof r=="bigint")return String(r);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let n=JSON.stringify(r);if(!t&&e&&(!i||i==="tag:yaml.org,2002:float")&&/^\d/.test(n)){let s=n.indexOf(".");s<0&&(s=n.length,n+=".");let a=e-(n.length-s-1);for(;a-- >0;)n+="0"}return n}function tN(t,e){let i,r;switch(e.type){case H.Type.FLOW_MAP:i="}",r="flow map";break;case H.Type.FLOW_SEQ:i="]",r="flow sequence";break;default:t.push(new H.YAMLSemanticError(e,"Not a flow collection!?"));return}let n;for(let s=e.items.length-1;s>=0;--s){let a=e.items[s];if(!a||a.type!==H.Type.COMMENT){n=a;break}}if(n&&n.char!==i){let s=`Expected ${r} to end with ${i}`,a;typeof n.offset=="number"?(a=new H.YAMLSemanticError(e,s),a.offset=n.offset+1):(a=new H.YAMLSemanticError(n,s),n.range&&n.range.end&&(a.offset=n.range.end-n.range.start)),t.push(a)}}function iN(t,e){let i=e.context.src[e.range.start-1];if(i!==`
`&&i!=="	"&&i!==" "){let r="Comments must be separated from other tokens by white space characters";t.push(new H.YAMLSemanticError(e,r))}}function rN(t,e){let i=String(e),r=i.substr(0,8)+"..."+i.substr(-8);return new H.YAMLSemanticError(t,`The "${r}" key is too long`)}function nN(t,e){for(let{afterKey:i,before:r,comment:n}of e){let s=t.items[r];s?(i&&s.value&&(s=s.value),n===void 0?(i||!s.commentBefore)&&(s.spaceBefore=!0):s.commentBefore?s.commentBefore+=`
`+n:s.commentBefore=n):n!==void 0&&(t.comment?t.comment+=`
`+n:t.comment=n)}}function t_(t,e){let i=e.strValue;return i?typeof i=="string"?i:(i.errors.forEach(r=>{r.source||(r.source=e),t.errors.push(r)}),i.str):""}function QO(t,e){let{handle:i,suffix:r}=e.tag,n=t.tagPrefixes.find(s=>s.handle===i);if(!n){let s=t.getDefaults().tagPrefixes;if(s&&(n=s.find(a=>a.handle===i)),!n)throw new H.YAMLSemanticError(e,`The ${i} tag handle is non-default and was not declared.`)}if(!r)throw new H.YAMLSemanticError(e,`The ${i} tag has no suffix.`);if(i==="!"&&(t.version||t.options.version)==="1.0"){if(r[0]==="^")return t.warnings.push(new H.YAMLWarning(e,"YAML 1.0 ^ tag expansion is not supported")),r;if(/[:/]/.test(r)){let s=r.match(/^([a-z0-9-]+)\/(.*)/i);return s?`tag:${s[1]}.yaml.org,2002:${s[2]}`:`tag:${r}`}}return n.prefix+decodeURIComponent(r)}function JO(t,e){let{tag:i,type:r}=e,n=!1;if(i){let{handle:s,suffix:a,verbatim:o}=i;if(o){if(o!=="!"&&o!=="!!")return o;let l=`Verbatim tags aren't resolved, so ${o} is invalid.`;t.errors.push(new H.YAMLSemanticError(e,l))}else if(s==="!"&&!a)n=!0;else try{return QO(t,e)}catch(l){t.errors.push(l)}}switch(r){case H.Type.BLOCK_FOLDED:case H.Type.BLOCK_LITERAL:case H.Type.QUOTE_DOUBLE:case H.Type.QUOTE_SINGLE:return H.defaultTags.STR;case H.Type.FLOW_MAP:case H.Type.MAP:return H.defaultTags.MAP;case H.Type.FLOW_SEQ:case H.Type.SEQ:return H.defaultTags.SEQ;case H.Type.PLAIN:return n?H.defaultTags.STR:null;default:return null}}function XP(t,e,i){let{tags:r}=t.schema,n=[];for(let a of r)if(a.tag===i)if(a.test)n.push(a);else{let o=a.resolve(t,e);return o instanceof Zt?o:new Di(o)}let s=t_(t,e);return typeof s=="string"&&n.length>0?Zg(s,n,r.scalarFallback):null}function ZO({type:t}){switch(t){case H.Type.FLOW_MAP:case H.Type.MAP:return H.defaultTags.MAP;case H.Type.FLOW_SEQ:case H.Type.SEQ:return H.defaultTags.SEQ;default:return H.defaultTags.STR}}function eL(t,e,i){try{let r=XP(t,e,i);if(r)return i&&e.tag&&(r.tag=i),r}catch(r){return r.source||(r.source=e),t.errors.push(r),null}try{let r=ZO(e);if(!r)throw new Error(`The tag ${i} is unavailable`);let n=`The tag ${i} is unavailable, falling back to ${r}`;t.warnings.push(new H.YAMLWarning(e,n));let s=XP(t,e,r);return s.tag=i,s}catch(r){let n=new H.YAMLReferenceError(e,r.message);return n.stack=r.stack,t.errors.push(n),null}}var tL=t=>{if(!t)return!1;let{type:e}=t;return e===H.Type.MAP_KEY||e===H.Type.MAP_VALUE||e===H.Type.SEQ_ITEM};function iL(t,e){let i={before:[],after:[]},r=!1,n=!1,s=tL(e.context.parent)?e.context.parent.props.concat(e.props):e.props;for(let{start:a,end:o}of s)switch(e.context.src[a]){case H.Char.COMMENT:{if(!e.commentHasRequiredWhitespace(a)){let f="Comments must be separated from other tokens by white space characters";t.push(new H.YAMLSemanticError(e,f))}let{header:l,valueRange:u}=e;(u&&(a>u.start||l&&a>l.start)?i.after:i.before).push(e.context.src.slice(a+1,o));break}case H.Char.ANCHOR:if(r){let l="A node can have at most one anchor";t.push(new H.YAMLSemanticError(e,l))}r=!0;break;case H.Char.TAG:if(n){let l="A node can have at most one tag";t.push(new H.YAMLSemanticError(e,l))}n=!0;break}return{comments:i,hasAnchor:r,hasTag:n}}function rL(t,e){let{anchors:i,errors:r,schema:n}=t;if(e.type===H.Type.ALIAS){let a=e.rawValue,o=i.getNode(a);if(!o){let u=`Aliased anchor not found: ${a}`;return r.push(new H.YAMLReferenceError(e,u)),null}let l=new ls(o);return i._cstAliases.push(l),l}let s=JO(t,e);if(s)return eL(t,e,s);if(e.type!==H.Type.PLAIN){let a=`Failed to resolve ${e.type} node here`;return r.push(new H.YAMLSyntaxError(e,a)),null}try{let a=t_(t,e);return Zg(a,n.tags,n.tags.scalarFallback)}catch(a){return a.source||(a.source=e),r.push(a),null}}function Js(t,e){if(!e)return null;e.error&&t.errors.push(e.error);let{comments:i,hasAnchor:r,hasTag:n}=iL(t.errors,e);if(r){let{anchors:a}=t,o=e.anchor,l=a.getNode(o);l&&(a.map[a.newName(o)]=l),a.map[o]=e}if(e.type===H.Type.ALIAS&&(r||n)){let a="An alias node must not specify any properties";t.errors.push(new H.YAMLSemanticError(e,a))}let s=rL(t,e);if(s){s.range=[e.range.start,e.range.end],t.options.keepCstNodes&&(s.cstNode=e),t.options.keepNodeTypes&&(s.type=e.type);let a=i.before.join(`
`);a&&(s.commentBefore=s.commentBefore?`${s.commentBefore}
${a}`:a);let o=i.after.join(`
`);o&&(s.comment=s.comment?`${s.comment}
${o}`:o)}return e.resolved=s}function nL(t,e){if(e.type!==H.Type.MAP&&e.type!==H.Type.FLOW_MAP){let a=`A ${e.type} node cannot be resolved as a mapping`;return t.errors.push(new H.YAMLSyntaxError(e,a)),null}let{comments:i,items:r}=e.type===H.Type.FLOW_MAP?lL(t,e):oL(t,e),n=new vu;n.items=r,nN(n,i);let s=!1;for(let a=0;a<r.length;++a){let{key:o}=r[a];if(o instanceof Zt&&(s=!0),t.schema.merge&&o&&o.value===JP){r[a]=new rp(r[a]);let l=r[a].value.items,u=null;l.some(c=>{if(c instanceof ls){let{type:f}=c.source;return f===H.Type.MAP||f===H.Type.FLOW_MAP?!1:u="Merge nodes aliases can only point to maps"}return u="Merge nodes can only have Alias nodes as values"}),u&&t.errors.push(new H.YAMLSemanticError(e,u))}else for(let l=a+1;l<r.length;++l){let{key:u}=r[l];if(o===u||o&&u&&Object.prototype.hasOwnProperty.call(o,"value")&&o.value===u.value){let c=`Map keys must be unique; "${o}" is repeated`;t.errors.push(new H.YAMLSemanticError(e,c));break}}}if(s&&!t.options.mapAsMap){let a="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new H.YAMLWarning(e,a))}return e.resolved=n,n}var sL=({context:{lineStart:t,node:e,src:i},props:r})=>{if(r.length===0)return!1;let{start:n}=r[0];if(e&&n>e.valueRange.start||i[n]!==H.Char.COMMENT)return!1;for(let s=t;s<n;++s)if(i[s]===`
`)return!1;return!0};function aL(t,e){if(!sL(t))return;let i=t.getPropValue(0,H.Char.COMMENT,!0),r=!1,n=e.value.commentBefore;if(n&&n.startsWith(i))e.value.commentBefore=n.substr(i.length+1),r=!0;else{let s=e.value.comment;!t.node&&s&&s.startsWith(i)&&(e.value.comment=s.substr(i.length+1),r=!0)}r&&(e.comment=i)}function oL(t,e){let i=[],r=[],n,s=null;for(let a=0;a<e.items.length;++a){let o=e.items[a];switch(o.type){case H.Type.BLANK_LINE:i.push({afterKey:!!n,before:r.length});break;case H.Type.COMMENT:i.push({afterKey:!!n,before:r.length,comment:o.comment});break;case H.Type.MAP_KEY:n!==void 0&&r.push(new pt(n)),o.error&&t.errors.push(o.error),n=Js(t,o.node),s=null;break;case H.Type.MAP_VALUE:{if(n===void 0&&(n=null),o.error&&t.errors.push(o.error),!o.context.atLineStart&&o.node&&o.node.type===H.Type.MAP&&!o.node.context.atLineStart){let c="Nested mappings are not allowed in compact mappings";t.errors.push(new H.YAMLSemanticError(o.node,c))}let l=o.node;if(!l&&o.props.length>0){l=new H.PlainValue(H.Type.PLAIN,[]),l.context={parent:o,src:o.context.src};let c=o.range.start+1;if(l.range={start:c,end:c},l.valueRange={start:c,end:c},typeof o.range.origStart=="number"){let f=o.range.origStart+1;l.range.origStart=l.range.origEnd=f,l.valueRange.origStart=l.valueRange.origEnd=f}}let u=new pt(n,Js(t,l));aL(o,u),r.push(u),n&&typeof s=="number"&&o.range.start>s+1024&&t.errors.push(rN(e,n)),n=void 0,s=null}break;default:n!==void 0&&r.push(new pt(n)),n=Js(t,o),s=o.range.start,o.error&&t.errors.push(o.error);e:for(let l=a+1;;++l){let u=e.items[l];switch(u&&u.type){case H.Type.BLANK_LINE:case H.Type.COMMENT:continue e;case H.Type.MAP_VALUE:break e;default:{let c="Implicit map keys need to be followed by map values";t.errors.push(new H.YAMLSemanticError(o,c));break e}}}if(o.valueRangeContainsNewline){let l="Implicit map keys need to be on a single line";t.errors.push(new H.YAMLSemanticError(o,l))}}}return n!==void 0&&r.push(new pt(n)),{comments:i,items:r}}function lL(t,e){let i=[],r=[],n,s=!1,a="{";for(let o=0;o<e.items.length;++o){let l=e.items[o];if(typeof l.char=="string"){let{char:u,offset:c}=l;if(u==="?"&&n===void 0&&!s){s=!0,a=":";continue}if(u===":"){if(n===void 0&&(n=null),a===":"){a=",";continue}}else if(s&&(n===void 0&&u!==","&&(n=null),s=!1),n!==void 0&&(r.push(new pt(n)),n=void 0,u===",")){a=":";continue}if(u==="}"){if(o===e.items.length-1)continue}else if(u===a){a=":";continue}let f=`Flow map contains an unexpected ${u}`,d=new H.YAMLSyntaxError(e,f);d.offset=c,t.errors.push(d)}else l.type===H.Type.BLANK_LINE?i.push({afterKey:!!n,before:r.length}):l.type===H.Type.COMMENT?(iN(t.errors,l),i.push({afterKey:!!n,before:r.length,comment:l.comment})):n===void 0?(a===","&&t.errors.push(new H.YAMLSemanticError(l,"Separator , missing in flow map")),n=Js(t,l)):(a!==","&&t.errors.push(new H.YAMLSemanticError(l,"Indicator : missing in flow map entry")),r.push(new pt(n,Js(t,l))),n=void 0,s=!1)}return tN(t.errors,e),n!==void 0&&r.push(new pt(n)),{comments:i,items:r}}function uL(t,e){if(e.type!==H.Type.SEQ&&e.type!==H.Type.FLOW_SEQ){let s=`A ${e.type} node cannot be resolved as a sequence`;return t.errors.push(new H.YAMLSyntaxError(e,s)),null}let{comments:i,items:r}=e.type===H.Type.FLOW_SEQ?fL(t,e):cL(t,e),n=new Qs;if(n.items=r,nN(n,i),!t.options.mapAsMap&&r.some(s=>s instanceof pt&&s.key instanceof Zt)){let s="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new H.YAMLWarning(e,s))}return e.resolved=n,n}function cL(t,e){let i=[],r=[];for(let n=0;n<e.items.length;++n){let s=e.items[n];switch(s.type){case H.Type.BLANK_LINE:i.push({before:r.length});break;case H.Type.COMMENT:i.push({comment:s.comment,before:r.length});break;case H.Type.SEQ_ITEM:if(s.error&&t.errors.push(s.error),r.push(Js(t,s.node)),s.hasProps){let a="Sequence items cannot have tags or anchors before the - indicator";t.errors.push(new H.YAMLSemanticError(s,a))}break;default:s.error&&t.errors.push(s.error),t.errors.push(new H.YAMLSyntaxError(s,`Unexpected ${s.type} node in sequence`))}}return{comments:i,items:r}}function fL(t,e){let i=[],r=[],n=!1,s,a=null,o="[",l=null;for(let u=0;u<e.items.length;++u){let c=e.items[u];if(typeof c.char=="string"){let{char:f,offset:d}=c;if(f!==":"&&(n||s!==void 0)&&(n&&s===void 0&&(s=o?r.pop():null),r.push(new pt(s)),n=!1,s=void 0,a=null),f===o)o=null;else if(!o&&f==="?")n=!0;else if(o!=="["&&f===":"&&s===void 0){if(o===","){if(s=r.pop(),s instanceof pt){let p="Chaining flow sequence pairs is invalid",m=new H.YAMLSemanticError(e,p);m.offset=d,t.errors.push(m)}if(!n&&typeof a=="number"){let p=c.range?c.range.start:c.offset;p>a+1024&&t.errors.push(rN(e,s));let{src:m}=l.context;for(let T=a;T<p;++T)if(m[T]===`
`){let P="Implicit keys of flow sequence pairs need to be on a single line";t.errors.push(new H.YAMLSemanticError(l,P));break}}}else s=null;a=null,n=!1,o=null}else if(o==="["||f!=="]"||u<e.items.length-1){let p=`Flow sequence contains an unexpected ${f}`,m=new H.YAMLSyntaxError(e,p);m.offset=d,t.errors.push(m)}}else if(c.type===H.Type.BLANK_LINE)i.push({before:r.length});else if(c.type===H.Type.COMMENT)iN(t.errors,c),i.push({comment:c.comment,before:r.length});else{if(o){let d=`Expected a ${o} in flow sequence`;t.errors.push(new H.YAMLSemanticError(c,d))}let f=Js(t,c);s===void 0?(r.push(f),l=c):(r.push(new pt(s,f)),s=void 0),a=c.range.start,o=","}}return tN(t.errors,e),s!==void 0&&r.push(new pt(s)),{comments:i,items:r}}At.Alias=ls;At.Collection=Zt;At.Merge=rp;At.Node=Ir;At.Pair=pt;At.Scalar=Di;At.YAMLMap=vu;At.YAMLSeq=Qs;At.addComment=gl;At.binaryOptions=GO;At.boolOptions=WO;At.findPair=bu;At.intOptions=HO;At.isEmptyPath=QP;At.nullOptions=YO;At.resolveMap=nL;At.resolveNode=Js;At.resolveSeq=uL;At.resolveString=t_;At.strOptions=Ha;At.stringifyNumber=XO;At.stringifyString=zO;At.toJSON=Xs});var ap=Z(Tn=>{"use strict";var Pr=$s(),Ze=_l(),dL={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve:(t,e)=>{let i=Ze.resolveString(t,e);if(typeof Buffer=="function")return Buffer.from(i,"base64");if(typeof atob=="function"){let r=atob(i.replace(/[\n\r]/g,"")),n=new Uint8Array(r.length);for(let s=0;s<r.length;++s)n[s]=r.charCodeAt(s);return n}else{let r="This environment does not support reading binary tags; either Buffer or atob is required";return t.errors.push(new Pr.YAMLReferenceError(e,r)),null}},options:Ze.binaryOptions,stringify:({comment:t,type:e,value:i},r,n,s)=>{let a;if(typeof Buffer=="function")a=i instanceof Buffer?i.toString("base64"):Buffer.from(i.buffer).toString("base64");else if(typeof btoa=="function"){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);a=btoa(o)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=Ze.binaryOptions.defaultType),e===Pr.Type.QUOTE_DOUBLE)i=a;else{let{lineWidth:o}=Ze.binaryOptions,l=Math.ceil(a.length/o),u=new Array(l);for(let c=0,f=0;c<l;++c,f+=o)u[c]=a.substr(f,o);i=u.join(e===Pr.Type.BLOCK_LITERAL?`
`:" ")}return Ze.stringifyString({comment:t,type:e,value:i},r,n,s)}};function aN(t,e){let i=Ze.resolveSeq(t,e);for(let r=0;r<i.items.length;++r){let n=i.items[r];if(!(n instanceof Ze.Pair)){if(n instanceof Ze.YAMLMap){if(n.items.length>1){let a="Each pair must have its own sequence indicator";throw new Pr.YAMLSemanticError(e,a)}let s=n.items[0]||new Ze.Pair;n.commentBefore&&(s.commentBefore=s.commentBefore?`${n.commentBefore}
${s.commentBefore}`:n.commentBefore),n.comment&&(s.comment=s.comment?`${n.comment}
${s.comment}`:n.comment),n=s}i.items[r]=n instanceof Ze.Pair?n:new Ze.Pair(n)}}return i}function oN(t,e,i){let r=new Ze.YAMLSeq(t);r.tag="tag:yaml.org,2002:pairs";for(let n of e){let s,a;if(Array.isArray(n))if(n.length===2)s=n[0],a=n[1];else throw new TypeError(`Expected [key, value] tuple: ${n}`);else if(n&&n instanceof Object){let l=Object.keys(n);if(l.length===1)s=l[0],a=n[s];else throw new TypeError(`Expected { key: value } tuple: ${n}`)}else s=n;let o=t.createPair(s,a,i);r.items.push(o)}return r}var pL={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:aN,createNode:oN},Zs=class extends Ze.YAMLSeq{constructor(){super(),Pr._defineProperty(this,"add",Ze.YAMLMap.prototype.add.bind(this)),Pr._defineProperty(this,"delete",Ze.YAMLMap.prototype.delete.bind(this)),Pr._defineProperty(this,"get",Ze.YAMLMap.prototype.get.bind(this)),Pr._defineProperty(this,"has",Ze.YAMLMap.prototype.has.bind(this)),Pr._defineProperty(this,"set",Ze.YAMLMap.prototype.set.bind(this)),this.tag=Zs.tag}toJSON(e,i){let r=new Map;i&&i.onCreate&&i.onCreate(r);for(let n of this.items){let s,a;if(n instanceof Ze.Pair?(s=Ze.toJSON(n.key,"",i),a=Ze.toJSON(n.value,s,i)):s=Ze.toJSON(n,"",i),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,a)}return r}};Pr._defineProperty(Zs,"tag","tag:yaml.org,2002:omap");function mL(t,e){let i=aN(t,e),r=[];for(let{key:n}of i.items)if(n instanceof Ze.Scalar)if(r.includes(n.value)){let s="Ordered maps must not include duplicate keys";throw new Pr.YAMLSemanticError(e,s)}else r.push(n.value);return Object.assign(new Zs,i)}function hL(t,e,i){let r=oN(t,e,i),n=new Zs;return n.items=r.items,n}var gL={identify:t=>t instanceof Map,nodeClass:Zs,default:!1,tag:"tag:yaml.org,2002:omap",resolve:mL,createNode:hL},ea=class extends Ze.YAMLMap{constructor(){super(),this.tag=ea.tag}add(e){let i=e instanceof Ze.Pair?e:new Ze.Pair(e);Ze.findPair(this.items,i.key)||this.items.push(i)}get(e,i){let r=Ze.findPair(this.items,e);return!i&&r instanceof Ze.Pair?r.key instanceof Ze.Scalar?r.key.value:r.key:r}set(e,i){if(typeof i!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof i}`);let r=Ze.findPair(this.items,e);r&&!i?this.items.splice(this.items.indexOf(r),1):!r&&i&&this.items.push(new Ze.Pair(e))}toJSON(e,i){return super.toJSON(e,i,Set)}toString(e,i,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues())return super.toString(e,i,r);throw new Error("Set items must all have null values")}};Pr._defineProperty(ea,"tag","tag:yaml.org,2002:set");function _L(t,e){let i=Ze.resolveMap(t,e);if(!i.hasAllNullValues())throw new Pr.YAMLSemanticError(e,"Set items must all have null values");return Object.assign(new ea,i)}function yL(t,e,i){let r=new ea;for(let n of e)r.items.push(t.createPair(n,null,i));return r}var TL={identify:t=>t instanceof Set,nodeClass:ea,default:!1,tag:"tag:yaml.org,2002:set",resolve:_L,createNode:yL},i_=(t,e)=>{let i=e.split(":").reduce((r,n)=>r*60+Number(n),0);return t==="-"?-i:i},lN=({value:t})=>{if(isNaN(t)||!isFinite(t))return Ze.stringifyNumber(t);let e="";t<0&&(e="-",t=Math.abs(t));let i=[t%60];return t<60?i.unshift(0):(t=Math.round((t-i[0])/60),i.unshift(t%60),t>=60&&(t=Math.round((t-i[0])/60),i.unshift(t))),e+i.map(r=>r<10?"0"+String(r):String(r)).join(":").replace(/000000\d*$/,"")},bL={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:(t,e,i)=>i_(e,i.replace(/_/g,"")),stringify:lN},vL={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:(t,e,i)=>i_(e,i.replace(/_/g,"")),stringify:lN},IL={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:(t,e,i,r,n,s,a,o,l)=>{o&&(o=(o+"00").substr(1,3));let u=Date.UTC(e,i-1,r,n||0,s||0,a||0,o||0);if(l&&l!=="Z"){let c=i_(l[0],l.slice(1));Math.abs(c)<30&&(c*=60),u-=6e4*c}return new Date(u)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};function r_(t){let e=typeof process<"u"&&process.env||{};return t?typeof YAML_SILENCE_DEPRECATION_WARNINGS<"u"?!YAML_SILENCE_DEPRECATION_WARNINGS:!e.YAML_SILENCE_DEPRECATION_WARNINGS:typeof YAML_SILENCE_WARNINGS<"u"?!YAML_SILENCE_WARNINGS:!e.YAML_SILENCE_WARNINGS}function n_(t,e){if(r_(!1)){let i=typeof process<"u"&&process.emitWarning;i?i(t,e):console.warn(e?`${e}: ${t}`:t)}}function PL(t){if(r_(!0)){let e=t.replace(/.*yaml[/\\]/i,"").replace(/\.js$/,"").replace(/\\/g,"/");n_(`The endpoint 'yaml/${e}' will be removed in a future release.`,"DeprecationWarning")}}var sN={};function NL(t,e){if(!sN[t]&&r_(!0)){sN[t]=!0;let i=`The option '${t}' will be removed in a future release`;i+=e?`, use '${e}' instead.`:".",n_(i,"DeprecationWarning")}}Tn.binary=dL;Tn.floatTime=vL;Tn.intTime=bL;Tn.omap=gL;Tn.pairs=pL;Tn.set=TL;Tn.timestamp=IL;Tn.warn=n_;Tn.warnFileDeprecation=PL;Tn.warnOptionDeprecation=NL});var dp=Z(vN=>{"use strict";var up=$s(),Ae=_l(),Bi=ap();function SL(t,e,i){let r=new Ae.YAMLMap(t);if(e instanceof Map)for(let[n,s]of e)r.items.push(t.createPair(n,s,i));else if(e&&typeof e=="object")for(let n of Object.keys(e))r.items.push(t.createPair(n,e[n],i));return typeof t.sortMapEntries=="function"&&r.items.sort(t.sortMapEntries),r}var Pu={createNode:SL,default:!0,nodeClass:Ae.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:Ae.resolveMap};function CL(t,e,i){let r=new Ae.YAMLSeq(t);if(e&&e[Symbol.iterator])for(let n of e){let s=t.createNode(n,i.wrapScalars,null,i);r.items.push(s)}return r}var cp={createNode:CL,default:!0,nodeClass:Ae.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:Ae.resolveSeq},RL={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:Ae.resolveString,stringify(t,e,i,r){return e=Object.assign({actualString:!0},e),Ae.stringifyString(t,e,i,r)},options:Ae.strOptions},a_=[Pu,cp,RL],fp=t=>typeof t=="bigint"||Number.isInteger(t),o_=(t,e,i)=>Ae.intOptions.asBigInt?BigInt(t):parseInt(e,i);function fN(t,e,i){let{value:r}=t;return fp(r)&&r>=0?i+r.toString(e):Ae.stringifyNumber(t)}var dN={identify:t=>t==null,createNode:(t,e,i)=>i.wrapScalars?new Ae.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:Ae.nullOptions,stringify:()=>Ae.nullOptions.nullStr},pN={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>t[0]==="t"||t[0]==="T",options:Ae.boolOptions,stringify:({value:t})=>t?Ae.boolOptions.trueStr:Ae.boolOptions.falseStr},mN={identify:t=>fp(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:(t,e)=>o_(t,e,8),options:Ae.intOptions,stringify:t=>fN(t,8,"0o")},hN={identify:fp,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:t=>o_(t,t,10),options:Ae.intOptions,stringify:Ae.stringifyNumber},gN={identify:t=>fp(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:(t,e)=>o_(t,e,16),options:Ae.intOptions,stringify:t=>fN(t,16,"0x")},_N={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ae.stringifyNumber},yN={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify:({value:t})=>Number(t).toExponential()},TN={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve(t,e,i){let r=e||i,n=new Ae.Scalar(parseFloat(t));return r&&r[r.length-1]==="0"&&(n.minFractionDigits=r.length),n},stringify:Ae.stringifyNumber},AL=a_.concat([dN,pN,mN,hN,gN,_N,yN,TN]),uN=t=>typeof t=="bigint"||Number.isInteger(t),op=({value:t})=>JSON.stringify(t),bN=[Pu,cp,{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:Ae.resolveString,stringify:op},{identify:t=>t==null,createNode:(t,e,i)=>i.wrapScalars?new Ae.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:op},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:op},{identify:uN,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:t=>Ae.intOptions.asBigInt?BigInt(t):parseInt(t,10),stringify:({value:t})=>uN(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:op}];bN.scalarFallback=t=>{throw new SyntaxError(`Unresolved plain scalar ${JSON.stringify(t)}`)};var cN=({value:t})=>t?Ae.boolOptions.trueStr:Ae.boolOptions.falseStr,Iu=t=>typeof t=="bigint"||Number.isInteger(t);function lp(t,e,i){let r=e.replace(/_/g,"");if(Ae.intOptions.asBigInt){switch(i){case 2:r=`0b${r}`;break;case 8:r=`0o${r}`;break;case 16:r=`0x${r}`;break}let s=BigInt(r);return t==="-"?BigInt(-1)*s:s}let n=parseInt(r,i);return t==="-"?-1*n:n}function s_(t,e,i){let{value:r}=t;if(Iu(r)){let n=r.toString(e);return r<0?"-"+i+n.substr(1):i+n}return Ae.stringifyNumber(t)}var EL=a_.concat([{identify:t=>t==null,createNode:(t,e,i)=>i.wrapScalars?new Ae.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:Ae.nullOptions,stringify:()=>Ae.nullOptions.nullStr},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>!0,options:Ae.boolOptions,stringify:cN},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>!1,options:Ae.boolOptions,stringify:cN},{identify:Iu,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:(t,e,i)=>lp(e,i,2),stringify:t=>s_(t,2,"0b")},{identify:Iu,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:(t,e,i)=>lp(e,i,8),stringify:t=>s_(t,8,"0")},{identify:Iu,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:(t,e,i)=>lp(e,i,10),stringify:Ae.stringifyNumber},{identify:Iu,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:(t,e,i)=>lp(e,i,16),stringify:t=>s_(t,16,"0x")},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ae.stringifyNumber},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify:({value:t})=>Number(t).toExponential()},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve(t,e){let i=new Ae.Scalar(parseFloat(t.replace(/_/g,"")));if(e){let r=e.replace(/_/g,"");r[r.length-1]==="0"&&(i.minFractionDigits=r.length)}return i},stringify:Ae.stringifyNumber}],Bi.binary,Bi.omap,Bi.pairs,Bi.set,Bi.intTime,Bi.floatTime,Bi.timestamp),wL={core:AL,failsafe:a_,json:bN,yaml11:EL},xL={binary:Bi.binary,bool:pN,float:TN,floatExp:yN,floatNaN:_N,floatTime:Bi.floatTime,int:hN,intHex:gN,intOct:mN,intTime:Bi.intTime,map:Pu,null:dN,omap:Bi.omap,pairs:Bi.pairs,seq:cp,set:Bi.set,timestamp:Bi.timestamp};function DL(t,e,i){if(e){let r=i.filter(s=>s.tag===e),n=r.find(s=>!s.format)||r[0];if(!n)throw new Error(`Tag ${e} not found`);return n}return i.find(r=>(r.identify&&r.identify(t)||r.class&&t instanceof r.class)&&!r.format)}function FL(t,e,i){if(t instanceof Ae.Node)return t;let{defaultPrefix:r,onTagObj:n,prevObjects:s,schema:a,wrapScalars:o}=i;e&&e.startsWith("!!")&&(e=r+e.slice(2));let l=DL(t,e,a.tags);if(!l){if(typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object")return o?new Ae.Scalar(t):t;l=t instanceof Map?Pu:t[Symbol.iterator]?cp:Pu}n&&(n(l),delete i.onTagObj);let u={value:void 0,node:void 0};if(t&&typeof t=="object"&&s){let c=s.get(t);if(c){let f=new Ae.Alias(c);return i.aliasNodes.push(f),f}u.value=t,s.set(t,u)}return u.node=l.createNode?l.createNode(i.schema,t,i):o?new Ae.Scalar(t):t,e&&u.node instanceof Ae.Node&&(u.node.tag=e),u.node}function OL(t,e,i,r){let n=t[r.replace(/\W/g,"")];if(!n){let s=Object.keys(t).map(a=>JSON.stringify(a)).join(", ");throw new Error(`Unknown schema "${r}"; use one of ${s}`)}if(Array.isArray(i))for(let s of i)n=n.concat(s);else typeof i=="function"&&(n=i(n.slice()));for(let s=0;s<n.length;++s){let a=n[s];if(typeof a=="string"){let o=e[a];if(!o){let l=Object.keys(e).map(u=>JSON.stringify(u)).join(", ");throw new Error(`Unknown custom tag "${a}"; use one of ${l}`)}n[s]=o}}return n}var LL=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,Ya=class{constructor({customTags:e,merge:i,schema:r,sortMapEntries:n,tags:s}){this.merge=!!i,this.name=r,this.sortMapEntries=n===!0?LL:n||null,!e&&s&&Bi.warnOptionDeprecation("tags","customTags"),this.tags=OL(wL,xL,e||s,r)}createNode(e,i,r,n){let s={defaultPrefix:Ya.defaultPrefix,schema:this,wrapScalars:i},a=n?Object.assign(n,s):s;return FL(e,r,a)}createPair(e,i,r){r||(r={wrapScalars:!0});let n=this.createNode(e,r.wrapScalars,null,r),s=this.createNode(i,r.wrapScalars,null,r);return new Ae.Pair(n,s)}};up._defineProperty(Ya,"defaultPrefix",up.defaultTagPrefix);up._defineProperty(Ya,"defaultTags",up.defaultTags);vN.Schema=Ya});var SN=Z(hp=>{"use strict";var ji=$s(),xe=_l(),IN=dp(),kL={anchorPrefix:"a",customTags:null,indent:2,indentSeq:!0,keepCstNodes:!1,keepNodeTypes:!0,keepBlobsInJSON:!0,mapAsMap:!1,maxAliasCount:100,prettyErrors:!1,simpleKeys:!1,version:"1.2"},ML={get binary(){return xe.binaryOptions},set binary(t){Object.assign(xe.binaryOptions,t)},get bool(){return xe.boolOptions},set bool(t){Object.assign(xe.boolOptions,t)},get int(){return xe.intOptions},set int(t){Object.assign(xe.intOptions,t)},get null(){return xe.nullOptions},set null(t){Object.assign(xe.nullOptions,t)},get str(){return xe.strOptions},set str(t){Object.assign(xe.strOptions,t)}},NN={"1.0":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:ji.defaultTagPrefix},{handle:"!!",prefix:"tag:private.yaml.org,2002:"}]},1.1:{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:ji.defaultTagPrefix}]},1.2:{schema:"core",merge:!1,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:ji.defaultTagPrefix}]}};function PN(t,e){if((t.version||t.options.version)==="1.0"){let n=e.match(/^tag:private\.yaml\.org,2002:([^:/]+)$/);if(n)return"!"+n[1];let s=e.match(/^tag:([a-zA-Z0-9-]+)\.yaml\.org,2002:(.*)/);return s?`!${s[1]}/${s[2]}`:`!${e.replace(/^tag:/,"")}`}let i=t.tagPrefixes.find(n=>e.indexOf(n.prefix)===0);if(!i){let n=t.getDefaults().tagPrefixes;i=n&&n.find(s=>e.indexOf(s.prefix)===0)}if(!i)return e[0]==="!"?e:`!<${e}>`;let r=e.substr(i.prefix.length).replace(/[!,[\]{}]/g,n=>({"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"})[n]);return i.handle+r}function qL(t,e){if(e instanceof xe.Alias)return xe.Alias;if(e.tag){let n=t.filter(s=>s.tag===e.tag);if(n.length>0)return n.find(s=>s.format===e.format)||n[0]}let i,r;if(e instanceof xe.Scalar){r=e.value;let n=t.filter(s=>s.identify&&s.identify(r)||s.class&&r instanceof s.class);i=n.find(s=>s.format===e.format)||n.find(s=>!s.format)}else r=e,i=t.find(n=>n.nodeClass&&r instanceof n.nodeClass);if(!i){let n=r&&r.constructor?r.constructor.name:typeof r;throw new Error(`Tag not resolved for ${n} value`)}return i}function VL(t,e,{anchors:i,doc:r}){let n=[],s=r.anchors.getName(t);return s&&(i[s]=t,n.push(`&${s}`)),t.tag?n.push(PN(r,t.tag)):e.default||n.push(PN(r,e.tag)),n.join(" ")}function pp(t,e,i,r){let{anchors:n,schema:s}=e.doc,a;if(!(t instanceof xe.Node)){let u={aliasNodes:[],onTagObj:c=>a=c,prevObjects:new Map};t=s.createNode(t,!0,null,u);for(let c of u.aliasNodes){c.source=c.source.node;let f=n.getName(c.source);f||(f=n.newName(),n.map[f]=c.source)}}if(t instanceof xe.Pair)return t.toString(e,i,r);a||(a=qL(s.tags,t));let o=VL(t,a,e);o.length>0&&(e.indentAtStart=(e.indentAtStart||0)+o.length+1);let l=typeof a.stringify=="function"?a.stringify(t,e,i,r):t instanceof xe.Scalar?xe.stringifyString(t,e,i,r):t.toString(e,i,r);return o?t instanceof xe.Scalar||l[0]==="{"||l[0]==="["?`${o} ${l}`:`${o}
${e.indent}${l}`:l}var Nu=class{static validAnchorNode(e){return e instanceof xe.Scalar||e instanceof xe.YAMLSeq||e instanceof xe.YAMLMap}constructor(e){ji._defineProperty(this,"map",Object.create(null)),this.prefix=e}createAlias(e,i){return this.setAnchor(e,i),new xe.Alias(e)}createMergePair(...e){let i=new xe.Merge;return i.value.items=e.map(r=>{if(r instanceof xe.Alias){if(r.source instanceof xe.YAMLMap)return r}else if(r instanceof xe.YAMLMap)return this.createAlias(r);throw new Error("Merge sources must be Map nodes or their Aliases")}),i}getName(e){let{map:i}=this;return Object.keys(i).find(r=>i[r]===e)}getNames(){return Object.keys(this.map)}getNode(e){return this.map[e]}newName(e){e||(e=this.prefix);let i=Object.keys(this.map);for(let r=1;;++r){let n=`${e}${r}`;if(!i.includes(n))return n}}resolveNodes(){let{map:e,_cstAliases:i}=this;Object.keys(e).forEach(r=>{e[r]=e[r].resolved}),i.forEach(r=>{r.source=r.source.resolved}),delete this._cstAliases}setAnchor(e,i){if(e!=null&&!Nu.validAnchorNode(e))throw new Error("Anchors may only be set for Scalar, Seq and Map nodes");if(i&&/[\x00-\x19\s,[\]{}]/.test(i))throw new Error("Anchor names must not contain whitespace or control characters");let{map:r}=this,n=e&&Object.keys(r).find(s=>r[s]===e);if(n)if(i)n!==i&&(delete r[n],r[i]=e);else return n;else{if(!i){if(!e)return null;i=this.newName()}r[i]=e}return i}},mp=(t,e)=>{if(t&&typeof t=="object"){let{tag:i}=t;t instanceof xe.Collection?(i&&(e[i]=!0),t.items.forEach(r=>mp(r,e))):t instanceof xe.Pair?(mp(t.key,e),mp(t.value,e)):t instanceof xe.Scalar&&i&&(e[i]=!0)}return e},BL=t=>Object.keys(mp(t,{}));function jL(t,e){let i={before:[],after:[]},r,n=!1;for(let s of e)if(s.valueRange){if(r!==void 0){let o="Document contains trailing content not separated by a ... or --- line";t.errors.push(new ji.YAMLSyntaxError(s,o));break}let a=xe.resolveNode(t,s);n&&(a.spaceBefore=!0,n=!1),r=a}else s.comment!==null?(r===void 0?i.before:i.after).push(s.comment):s.type===ji.Type.BLANK_LINE&&(n=!0,r===void 0&&i.before.length>0&&!t.commentBefore&&(t.commentBefore=i.before.join(`
`),i.before=[]));if(t.contents=r||null,!r)t.comment=i.before.concat(i.after).join(`
`)||null;else{let s=i.before.join(`
`);if(s){let a=r instanceof xe.Collection&&r.items[0]?r.items[0]:r;a.commentBefore=a.commentBefore?`${s}
${a.commentBefore}`:s}t.comment=i.after.join(`
`)||null}}function UL({tagPrefixes:t},e){let[i,r]=e.parameters;if(!i||!r){let n="Insufficient parameters given for %TAG directive";throw new ji.YAMLSemanticError(e,n)}if(t.some(n=>n.handle===i)){let n="The %TAG directive must only be given at most once per handle in the same document.";throw new ji.YAMLSemanticError(e,n)}return{handle:i,prefix:r}}function GL(t,e){let[i]=e.parameters;if(e.name==="YAML:1.0"&&(i="1.0"),!i){let r="Insufficient parameters given for %YAML directive";throw new ji.YAMLSemanticError(e,r)}if(!NN[i]){let n=`Document will be parsed as YAML ${t.version||t.options.version} rather than YAML ${i}`;t.warnings.push(new ji.YAMLWarning(e,n))}return i}function WL(t,e,i){let r=[],n=!1;for(let s of e){let{comment:a,name:o}=s;switch(o){case"TAG":try{t.tagPrefixes.push(UL(t,s))}catch(l){t.errors.push(l)}n=!0;break;case"YAML":case"YAML:1.0":if(t.version){let l="The %YAML directive must only be given at most once per document.";t.errors.push(new ji.YAMLSemanticError(s,l))}try{t.version=GL(t,s)}catch(l){t.errors.push(l)}n=!0;break;default:if(o){let l=`YAML only supports %TAG and %YAML directives, and not %${o}`;t.warnings.push(new ji.YAMLWarning(s,l))}}a&&r.push(a)}if(i&&!n&&(t.version||i.version||t.options.version)==="1.1"){let s=({handle:a,prefix:o})=>({handle:a,prefix:o});t.tagPrefixes=i.tagPrefixes.map(s),t.version=i.version}t.commentBefore=r.join(`
`)||null}function yl(t){if(t instanceof xe.Collection)return!0;throw new Error("Expected a YAML collection as document contents")}var Ka=class{constructor(e){this.anchors=new Nu(e.anchorPrefix),this.commentBefore=null,this.comment=null,this.contents=null,this.directivesEndMarker=null,this.errors=[],this.options=e,this.schema=null,this.tagPrefixes=[],this.version=null,this.warnings=[]}add(e){return yl(this.contents),this.contents.add(e)}addIn(e,i){yl(this.contents),this.contents.addIn(e,i)}delete(e){return yl(this.contents),this.contents.delete(e)}deleteIn(e){return xe.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):(yl(this.contents),this.contents.deleteIn(e))}getDefaults(){return Ka.defaults[this.version]||Ka.defaults[this.options.version]||{}}get(e,i){return this.contents instanceof xe.Collection?this.contents.get(e,i):void 0}getIn(e,i){return xe.isEmptyPath(e)?!i&&this.contents instanceof xe.Scalar?this.contents.value:this.contents:this.contents instanceof xe.Collection?this.contents.getIn(e,i):void 0}has(e){return this.contents instanceof xe.Collection?this.contents.has(e):!1}hasIn(e){return xe.isEmptyPath(e)?this.contents!==void 0:this.contents instanceof xe.Collection?this.contents.hasIn(e):!1}set(e,i){yl(this.contents),this.contents.set(e,i)}setIn(e,i){xe.isEmptyPath(e)?this.contents=i:(yl(this.contents),this.contents.setIn(e,i))}setSchema(e,i){if(!e&&!i&&this.schema)return;typeof e=="number"&&(e=e.toFixed(1)),e==="1.0"||e==="1.1"||e==="1.2"?(this.version?this.version=e:this.options.version=e,delete this.options.schema):e&&typeof e=="string"&&(this.options.schema=e),Array.isArray(i)&&(this.options.customTags=i);let r=Object.assign({},this.getDefaults(),this.options);this.schema=new IN.Schema(r)}parse(e,i){this.options.keepCstNodes&&(this.cstNode=e),this.options.keepNodeTypes&&(this.type="DOCUMENT");let{directives:r=[],contents:n=[],directivesEndMarker:s,error:a,valueRange:o}=e;if(a&&(a.source||(a.source=this),this.errors.push(a)),WL(this,r,i),s&&(this.directivesEndMarker=!0),this.range=o?[o.start,o.end]:null,this.setSchema(),this.anchors._cstAliases=[],jL(this,n),this.anchors.resolveNodes(),this.options.prettyErrors){for(let l of this.errors)l instanceof ji.YAMLError&&l.makePretty();for(let l of this.warnings)l instanceof ji.YAMLError&&l.makePretty()}return this}listNonDefaultTags(){return BL(this.contents).filter(e=>e.indexOf(IN.Schema.defaultPrefix)!==0)}setTagPrefix(e,i){if(e[0]!=="!"||e[e.length-1]!=="!")throw new Error("Handle must start and end with !");if(i){let r=this.tagPrefixes.find(n=>n.handle===e);r?r.prefix=i:this.tagPrefixes.push({handle:e,prefix:i})}else this.tagPrefixes=this.tagPrefixes.filter(r=>r.handle!==e)}toJSON(e,i){let{keepBlobsInJSON:r,mapAsMap:n,maxAliasCount:s}=this.options,a=r&&(typeof e!="string"||!(this.contents instanceof xe.Scalar)),o={doc:this,indentStep:"  ",keep:a,mapAsMap:a&&!!n,maxAliasCount:s,stringify:pp},l=Object.keys(this.anchors.map);l.length>0&&(o.anchors=new Map(l.map(c=>[this.anchors.map[c],{alias:[],aliasCount:0,count:1}])));let u=xe.toJSON(this.contents,e,o);if(typeof i=="function"&&o.anchors)for(let{count:c,res:f}of o.anchors.values())i(f,c);return u}toString(){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");let e=this.options.indent;if(!Number.isInteger(e)||e<=0){let l=JSON.stringify(e);throw new Error(`"indent" option must be a positive integer, not ${l}`)}this.setSchema();let i=[],r=!1;if(this.version){let l="%YAML 1.2";this.schema.name==="yaml-1.1"&&(this.version==="1.0"?l="%YAML:1.0":this.version==="1.1"&&(l="%YAML 1.1")),i.push(l),r=!0}let n=this.listNonDefaultTags();this.tagPrefixes.forEach(({handle:l,prefix:u})=>{n.some(c=>c.indexOf(u)===0)&&(i.push(`%TAG ${l} ${u}`),r=!0)}),(r||this.directivesEndMarker)&&i.push("---"),this.commentBefore&&((r||!this.directivesEndMarker)&&i.unshift(""),i.unshift(this.commentBefore.replace(/^/gm,"#")));let s={anchors:Object.create(null),doc:this,indent:"",indentStep:" ".repeat(e),stringify:pp},a=!1,o=null;if(this.contents){this.contents instanceof xe.Node&&(this.contents.spaceBefore&&(r||this.directivesEndMarker)&&i.push(""),this.contents.commentBefore&&i.push(this.contents.commentBefore.replace(/^/gm,"#")),s.forceBlockIndent=!!this.comment,o=this.contents.comment);let l=o?null:()=>a=!0,u=pp(this.contents,s,()=>o=null,l);i.push(xe.addComment(u,"",o))}else this.contents!==void 0&&i.push(pp(this.contents,s));return this.comment&&((!a||o)&&i[i.length-1]!==""&&i.push(""),i.push(this.comment.replace(/^/gm,"#"))),i.join(`
`)+`
`}};ji._defineProperty(Ka,"defaults",NN);hp.Document=Ka;hp.defaultOptions=kL;hp.scalarOptions=ML});var AN=Z(RN=>{"use strict";var l_=KP(),$a=SN(),HL=dp(),YL=$s(),KL=ap();_l();function $L(t,e=!0,i){i===void 0&&typeof e=="string"&&(i=e,e=!0);let r=Object.assign({},$a.Document.defaults[$a.defaultOptions.version],$a.defaultOptions);return new HL.Schema(r).createNode(t,e,i)}var Tl=class extends $a.Document{constructor(e){super(Object.assign({},$a.defaultOptions,e))}};function zL(t,e){let i=[],r;for(let n of l_.parse(t)){let s=new Tl(e);s.parse(n,r),i.push(s),r=s}return i}function CN(t,e){let i=l_.parse(t),r=new Tl(e).parse(i[0]);if(i.length>1){let n="Source contains multiple documents; please use YAML.parseAllDocuments()";r.errors.unshift(new YL.YAMLSemanticError(i[1],n))}return r}function XL(t,e){let i=CN(t,e);if(i.warnings.forEach(r=>KL.warn(r)),i.errors.length>0)throw i.errors[0];return i.toJSON()}function QL(t,e){let i=new Tl(e);return i.contents=t,String(i)}var JL={createNode:$L,defaultOptions:$a.defaultOptions,Document:Tl,parse:XL,parseAllDocuments:zL,parseCST:l_.parse,parseDocument:CN,scalarOptions:$a.scalarOptions,stringify:QL};RN.YAML=JL});var bn=Z((Dte,EN)=>{EN.exports=AN().YAML});var wN=Z(Ui=>{"use strict";var Nr=_l(),ZL=dp();$s();ap();Ui.Alias=Nr.Alias;Ui.Collection=Nr.Collection;Ui.Merge=Nr.Merge;Ui.Node=Nr.Node;Ui.Pair=Nr.Pair;Ui.Scalar=Nr.Scalar;Ui.YAMLMap=Nr.YAMLMap;Ui.YAMLSeq=Nr.YAMLSeq;Ui.binaryOptions=Nr.binaryOptions;Ui.boolOptions=Nr.boolOptions;Ui.intOptions=Nr.intOptions;Ui.nullOptions=Nr.nullOptions;Ui.strOptions=Nr.strOptions;Ui.Schema=ZL.Schema});var G_=Z((Oe,hC)=>{Oe=hC.exports=Xe;var ct;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?ct=function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:ct=function(){};Oe.SEMVER_SPEC_VERSION="2.0.0";var R_=256,xp=Number.MAX_SAFE_INTEGER||9007199254740991,C_=16,gt=Oe.re=[],Q=Oe.src=[],ze=0,El=ze++;Q[El]="0|[1-9]\\d*";var wl=ze++;Q[wl]="[0-9]+";var x_=ze++;Q[x_]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var tC=ze++;Q[tC]="("+Q[El]+")\\.("+Q[El]+")\\.("+Q[El]+")";var iC=ze++;Q[iC]="("+Q[wl]+")\\.("+Q[wl]+")\\.("+Q[wl]+")";var A_=ze++;Q[A_]="(?:"+Q[El]+"|"+Q[x_]+")";var E_=ze++;Q[E_]="(?:"+Q[wl]+"|"+Q[x_]+")";var D_=ze++;Q[D_]="(?:-("+Q[A_]+"(?:\\."+Q[A_]+")*))";var F_=ze++;Q[F_]="(?:-?("+Q[E_]+"(?:\\."+Q[E_]+")*))";var w_=ze++;Q[w_]="[0-9A-Za-z-]+";var qu=ze++;Q[qu]="(?:\\+("+Q[w_]+"(?:\\."+Q[w_]+")*))";var O_=ze++,rC="v?"+Q[tC]+Q[D_]+"?"+Q[qu]+"?";Q[O_]="^"+rC+"$";var L_="[v=\\s]*"+Q[iC]+Q[F_]+"?"+Q[qu]+"?",k_=ze++;Q[k_]="^"+L_+"$";var Fl=ze++;Q[Fl]="((?:<|>)?=?)";var Dp=ze++;Q[Dp]=Q[wl]+"|x|X|\\*";var Fp=ze++;Q[Fp]=Q[El]+"|x|X|\\*";var eo=ze++;Q[eo]="[v=\\s]*("+Q[Fp]+")(?:\\.("+Q[Fp]+")(?:\\.("+Q[Fp]+")(?:"+Q[D_]+")?"+Q[qu]+"?)?)?";var Dl=ze++;Q[Dl]="[v=\\s]*("+Q[Dp]+")(?:\\.("+Q[Dp]+")(?:\\.("+Q[Dp]+")(?:"+Q[F_]+")?"+Q[qu]+"?)?)?";var nC=ze++;Q[nC]="^"+Q[Fl]+"\\s*"+Q[eo]+"$";var sC=ze++;Q[sC]="^"+Q[Fl]+"\\s*"+Q[Dl]+"$";var aC=ze++;Q[aC]="(?:^|[^\\d])(\\d{1,"+C_+"})(?:\\.(\\d{1,"+C_+"}))?(?:\\.(\\d{1,"+C_+"}))?(?:$|[^\\d])";var Vp=ze++;Q[Vp]="(?:~>?)";var Op=ze++;Q[Op]="(\\s*)"+Q[Vp]+"\\s+";gt[Op]=new RegExp(Q[Op],"g");var KM="$1~",oC=ze++;Q[oC]="^"+Q[Vp]+Q[eo]+"$";var lC=ze++;Q[lC]="^"+Q[Vp]+Q[Dl]+"$";var Bp=ze++;Q[Bp]="(?:\\^)";var Lp=ze++;Q[Lp]="(\\s*)"+Q[Bp]+"\\s+";gt[Lp]=new RegExp(Q[Lp],"g");var $M="$1^",uC=ze++;Q[uC]="^"+Q[Bp]+Q[eo]+"$";var cC=ze++;Q[cC]="^"+Q[Bp]+Q[Dl]+"$";var M_=ze++;Q[M_]="^"+Q[Fl]+"\\s*("+L_+")$|^$";var q_=ze++;Q[q_]="^"+Q[Fl]+"\\s*("+rC+")$|^$";var ku=ze++;Q[ku]="(\\s*)"+Q[Fl]+"\\s*("+L_+"|"+Q[eo]+")";gt[ku]=new RegExp(Q[ku],"g");var zM="$1$2$3",fC=ze++;Q[fC]="^\\s*("+Q[eo]+")\\s+-\\s+("+Q[eo]+")\\s*$";var dC=ze++;Q[dC]="^\\s*("+Q[Dl]+")\\s+-\\s+("+Q[Dl]+")\\s*$";var pC=ze++;Q[pC]="(<|>)?=?\\s*\\*";for(sa=0;sa<ze;sa++)ct(sa,Q[sa]),gt[sa]||(gt[sa]=new RegExp(Q[sa]));var sa;Oe.parse=to;function to(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof Xe)return t;if(typeof t!="string"||t.length>R_)return null;var i=e.loose?gt[k_]:gt[O_];if(!i.test(t))return null;try{return new Xe(t,e)}catch{return null}}Oe.valid=XM;function XM(t,e){var i=to(t,e);return i?i.version:null}Oe.clean=QM;function QM(t,e){var i=to(t.trim().replace(/^[=v]+/,""),e);return i?i.version:null}Oe.SemVer=Xe;function Xe(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof Xe){if(t.loose===e.loose)return t;t=t.version}else if(typeof t!="string")throw new TypeError("Invalid Version: "+t);if(t.length>R_)throw new TypeError("version is longer than "+R_+" characters");if(!(this instanceof Xe))return new Xe(t,e);ct("SemVer",t,e),this.options=e,this.loose=!!e.loose;var i=t.trim().match(e.loose?gt[k_]:gt[O_]);if(!i)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>xp||this.major<0)throw new TypeError("Invalid major version");if(this.minor>xp||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>xp||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(function(r){if(/^[0-9]+$/.test(r)){var n=+r;if(n>=0&&n<xp)return n}return r}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}Xe.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};Xe.prototype.toString=function(){return this.version};Xe.prototype.compare=function(t){return ct("SemVer.compare",this.version,this.options,t),t instanceof Xe||(t=new Xe(t,this.options)),this.compareMain(t)||this.comparePre(t)};Xe.prototype.compareMain=function(t){return t instanceof Xe||(t=new Xe(t,this.options)),xl(this.major,t.major)||xl(this.minor,t.minor)||xl(this.patch,t.patch)};Xe.prototype.comparePre=function(t){if(t instanceof Xe||(t=new Xe(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var i=this.prerelease[e],r=t.prerelease[e];if(ct("prerelease compare",e,i,r),i===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(i===void 0)return-1;if(i===r)continue;return xl(i,r)}while(++e)};Xe.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e),this.inc("pre",e);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var i=this.prerelease.length;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);i===-1&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this};Oe.inc=JM;function JM(t,e,i,r){typeof i=="string"&&(r=i,i=void 0);try{return new Xe(t,i).inc(e,r).version}catch{return null}}Oe.diff=ZM;function ZM(t,e){if(V_(t,e))return null;var i=to(t),r=to(e),n="";if(i.prerelease.length||r.prerelease.length){n="pre";var s="prerelease"}for(var a in i)if((a==="major"||a==="minor"||a==="patch")&&i[a]!==r[a])return n+a;return s}Oe.compareIdentifiers=xl;var eC=/^[0-9]+$/;function xl(t,e){var i=eC.test(t),r=eC.test(e);return i&&r&&(t=+t,e=+e),t===e?0:i&&!r?-1:r&&!i?1:t<e?-1:1}Oe.rcompareIdentifiers=eq;function eq(t,e){return xl(e,t)}Oe.major=tq;function tq(t,e){return new Xe(t,e).major}Oe.minor=iq;function iq(t,e){return new Xe(t,e).minor}Oe.patch=rq;function rq(t,e){return new Xe(t,e).patch}Oe.compare=cs;function cs(t,e,i){return new Xe(t,i).compare(new Xe(e,i))}Oe.compareLoose=nq;function nq(t,e){return cs(t,e,!0)}Oe.rcompare=sq;function sq(t,e,i){return cs(e,t,i)}Oe.sort=aq;function aq(t,e){return t.sort(function(i,r){return Oe.compare(i,r,e)})}Oe.rsort=oq;function oq(t,e){return t.sort(function(i,r){return Oe.rcompare(i,r,e)})}Oe.gt=Mu;function Mu(t,e,i){return cs(t,e,i)>0}Oe.lt=kp;function kp(t,e,i){return cs(t,e,i)<0}Oe.eq=V_;function V_(t,e,i){return cs(t,e,i)===0}Oe.neq=mC;function mC(t,e,i){return cs(t,e,i)!==0}Oe.gte=B_;function B_(t,e,i){return cs(t,e,i)>=0}Oe.lte=j_;function j_(t,e,i){return cs(t,e,i)<=0}Oe.cmp=Mp;function Mp(t,e,i,r){switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof i=="object"&&(i=i.version),t===i;case"!==":return typeof t=="object"&&(t=t.version),typeof i=="object"&&(i=i.version),t!==i;case"":case"=":case"==":return V_(t,i,r);case"!=":return mC(t,i,r);case">":return Mu(t,i,r);case">=":return B_(t,i,r);case"<":return kp(t,i,r);case"<=":return j_(t,i,r);default:throw new TypeError("Invalid operator: "+e)}}Oe.Comparator=$r;function $r(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof $r){if(t.loose===!!e.loose)return t;t=t.value}if(!(this instanceof $r))return new $r(t,e);ct("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===Vu?this.value="":this.value=this.operator+this.semver.version,ct("comp",this)}var Vu={};$r.prototype.parse=function(t){var e=this.options.loose?gt[M_]:gt[q_],i=t.match(e);if(!i)throw new TypeError("Invalid comparator: "+t);this.operator=i[1],this.operator==="="&&(this.operator=""),i[2]?this.semver=new Xe(i[2],this.options.loose):this.semver=Vu};$r.prototype.toString=function(){return this.value};$r.prototype.test=function(t){return ct("Comparator.test",t,this.options.loose),this.semver===Vu?!0:(typeof t=="string"&&(t=new Xe(t,this.options)),Mp(t,this.operator,this.semver,this.options))};$r.prototype.intersects=function(t,e){if(!(t instanceof $r))throw new TypeError("a Comparator is required");(!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1});var i;if(this.operator==="")return i=new xt(t.value,e),qp(this.value,i,e);if(t.operator==="")return i=new xt(this.value,e),qp(t.semver,i,e);var r=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">"),n=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<"),s=this.semver.version===t.semver.version,a=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<="),o=Mp(this.semver,"<",t.semver,e)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"),l=Mp(this.semver,">",t.semver,e)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return r||n||s&&a||o||l};Oe.Range=xt;function xt(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof xt)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new xt(t.raw,e);if(t instanceof $r)return new xt(t.value,e);if(!(this instanceof xt))return new xt(t,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(function(i){return this.parseRange(i.trim())},this).filter(function(i){return i.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}xt.prototype.format=function(){return this.range=this.set.map(function(t){return t.join(" ").trim()}).join("||").trim(),this.range};xt.prototype.toString=function(){return this.range};xt.prototype.parseRange=function(t){var e=this.options.loose;t=t.trim();var i=e?gt[dC]:gt[fC];t=t.replace(i,_q),ct("hyphen replace",t),t=t.replace(gt[ku],zM),ct("comparator trim",t,gt[ku]),t=t.replace(gt[Op],KM),t=t.replace(gt[Lp],$M),t=t.split(/\s+/).join(" ");var r=e?gt[M_]:gt[q_],n=t.split(" ").map(function(s){return uq(s,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(n=n.filter(function(s){return!!s.match(r)})),n=n.map(function(s){return new $r(s,this.options)},this),n};xt.prototype.intersects=function(t,e){if(!(t instanceof xt))throw new TypeError("a Range is required");return this.set.some(function(i){return i.every(function(r){return t.set.some(function(n){return n.every(function(s){return r.intersects(s,e)})})})})};Oe.toComparators=lq;function lq(t,e){return new xt(t,e).set.map(function(i){return i.map(function(r){return r.value}).join(" ").trim().split(" ")})}function uq(t,e){return ct("comp",t,e),t=dq(t,e),ct("caret",t),t=cq(t,e),ct("tildes",t),t=mq(t,e),ct("xrange",t),t=gq(t,e),ct("stars",t),t}function Yi(t){return!t||t.toLowerCase()==="x"||t==="*"}function cq(t,e){return t.trim().split(/\s+/).map(function(i){return fq(i,e)}).join(" ")}function fq(t,e){var i=e.loose?gt[lC]:gt[oC];return t.replace(i,function(r,n,s,a,o){ct("tilde",t,r,n,s,a,o);var l;return Yi(n)?l="":Yi(s)?l=">="+n+".0.0 <"+(+n+1)+".0.0":Yi(a)?l=">="+n+"."+s+".0 <"+n+"."+(+s+1)+".0":o?(ct("replaceTilde pr",o),l=">="+n+"."+s+"."+a+"-"+o+" <"+n+"."+(+s+1)+".0"):l=">="+n+"."+s+"."+a+" <"+n+"."+(+s+1)+".0",ct("tilde return",l),l})}function dq(t,e){return t.trim().split(/\s+/).map(function(i){return pq(i,e)}).join(" ")}function pq(t,e){ct("caret",t,e);var i=e.loose?gt[cC]:gt[uC];return t.replace(i,function(r,n,s,a,o){ct("caret",t,r,n,s,a,o);var l;return Yi(n)?l="":Yi(s)?l=">="+n+".0.0 <"+(+n+1)+".0.0":Yi(a)?n==="0"?l=">="+n+"."+s+".0 <"+n+"."+(+s+1)+".0":l=">="+n+"."+s+".0 <"+(+n+1)+".0.0":o?(ct("replaceCaret pr",o),n==="0"?s==="0"?l=">="+n+"."+s+"."+a+"-"+o+" <"+n+"."+s+"."+(+a+1):l=">="+n+"."+s+"."+a+"-"+o+" <"+n+"."+(+s+1)+".0":l=">="+n+"."+s+"."+a+"-"+o+" <"+(+n+1)+".0.0"):(ct("no pr"),n==="0"?s==="0"?l=">="+n+"."+s+"."+a+" <"+n+"."+s+"."+(+a+1):l=">="+n+"."+s+"."+a+" <"+n+"."+(+s+1)+".0":l=">="+n+"."+s+"."+a+" <"+(+n+1)+".0.0"),ct("caret return",l),l})}function mq(t,e){return ct("replaceXRanges",t,e),t.split(/\s+/).map(function(i){return hq(i,e)}).join(" ")}function hq(t,e){t=t.trim();var i=e.loose?gt[sC]:gt[nC];return t.replace(i,function(r,n,s,a,o,l){ct("xRange",t,r,n,s,a,o,l);var u=Yi(s),c=u||Yi(a),f=c||Yi(o),d=f;return n==="="&&d&&(n=""),u?n===">"||n==="<"?r="<0.0.0":r="*":n&&d?(c&&(a=0),o=0,n===">"?(n=">=",c?(s=+s+1,a=0,o=0):(a=+a+1,o=0)):n==="<="&&(n="<",c?s=+s+1:a=+a+1),r=n+s+"."+a+"."+o):c?r=">="+s+".0.0 <"+(+s+1)+".0.0":f&&(r=">="+s+"."+a+".0 <"+s+"."+(+a+1)+".0"),ct("xRange return",r),r})}function gq(t,e){return ct("replaceStars",t,e),t.trim().replace(gt[pC],"")}function _q(t,e,i,r,n,s,a,o,l,u,c,f,d){return Yi(i)?e="":Yi(r)?e=">="+i+".0.0":Yi(n)?e=">="+i+"."+r+".0":e=">="+e,Yi(l)?o="":Yi(u)?o="<"+(+l+1)+".0.0":Yi(c)?o="<"+l+"."+(+u+1)+".0":f?o="<="+l+"."+u+"."+c+"-"+f:o="<="+o,(e+" "+o).trim()}xt.prototype.test=function(t){if(!t)return!1;typeof t=="string"&&(t=new Xe(t,this.options));for(var e=0;e<this.set.length;e++)if(yq(this.set[e],t,this.options))return!0;return!1};function yq(t,e,i){for(var r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!i.includePrerelease){for(r=0;r<t.length;r++)if(ct(t[r].semver),t[r].semver!==Vu&&t[r].semver.prerelease.length>0){var n=t[r].semver;if(n.major===e.major&&n.minor===e.minor&&n.patch===e.patch)return!0}return!1}return!0}Oe.satisfies=qp;function qp(t,e,i){try{e=new xt(e,i)}catch{return!1}return e.test(t)}Oe.maxSatisfying=Tq;function Tq(t,e,i){var r=null,n=null;try{var s=new xt(e,i)}catch{return null}return t.forEach(function(a){s.test(a)&&(!r||n.compare(a)===-1)&&(r=a,n=new Xe(r,i))}),r}Oe.minSatisfying=bq;function bq(t,e,i){var r=null,n=null;try{var s=new xt(e,i)}catch{return null}return t.forEach(function(a){s.test(a)&&(!r||n.compare(a)===1)&&(r=a,n=new Xe(r,i))}),r}Oe.minVersion=vq;function vq(t,e){t=new xt(t,e);var i=new Xe("0.0.0");if(t.test(i)||(i=new Xe("0.0.0-0"),t.test(i)))return i;i=null;for(var r=0;r<t.set.length;++r){var n=t.set[r];n.forEach(function(s){var a=new Xe(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||Mu(i,a))&&(i=a);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+s.operator)}})}return i&&t.test(i)?i:null}Oe.validRange=Iq;function Iq(t,e){try{return new xt(t,e).range||"*"}catch{return null}}Oe.ltr=Pq;function Pq(t,e,i){return U_(t,e,"<",i)}Oe.gtr=Nq;function Nq(t,e,i){return U_(t,e,">",i)}Oe.outside=U_;function U_(t,e,i,r){t=new Xe(t,r),e=new xt(e,r);var n,s,a,o,l;switch(i){case">":n=Mu,s=j_,a=kp,o=">",l=">=";break;case"<":n=kp,s=B_,a=Mu,o="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(qp(t,e,r))return!1;for(var u=0;u<e.set.length;++u){var c=e.set[u],f=null,d=null;if(c.forEach(function(p){p.semver===Vu&&(p=new $r(">=0.0.0")),f=f||p,d=d||p,n(p.semver,f.semver,r)?f=p:a(p.semver,d.semver,r)&&(d=p)}),f.operator===o||f.operator===l||(!d.operator||d.operator===o)&&s(t,d.semver))return!1;if(d.operator===l&&a(t,d.semver))return!1}return!0}Oe.prerelease=Sq;function Sq(t,e){var i=to(t,e);return i&&i.prerelease.length?i.prerelease:null}Oe.intersects=Cq;function Cq(t,e,i){return t=new xt(t,i),e=new xt(e,i),t.intersects(e)}Oe.coerce=Rq;function Rq(t){if(t instanceof Xe)return t;if(typeof t!="string")return null;var e=t.match(gt[aC]);return e==null?null:to(e[1]+"."+(e[2]||"0")+"."+(e[3]||"0"))}});var W_=Z((Mse,bC)=>{"use strict";var jp=require("path");function xq(t){if(typeof t!="string"||t.length<=7||t.substring(0,7)!=="file://")throw new TypeError("must pass in a file:// URI to convert to a file path");let e=decodeURI(t.substring(7)),i=e.indexOf("/"),r=e.substring(0,i),n=e.substring(i+1);return r==="localhost"&&(r=""),r&&(r=jp.sep+jp.sep+r),n=n.replace(/^(.+)\|/,"$1:"),jp.sep==="\\"&&(n=n.replace(/\//g,"\\")),/^.+:/.test(n)||(n=jp.sep+n),r+n}bC.exports=xq});var Yp=Z((jae,FC)=>{"use strict";function _i(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}_i.prototype.clone_empty=function(){var t=new _i(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t};_i.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]};_i.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1};_i.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))};_i.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)};_i.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count};_i.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,t.__items[0]===" "&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1};_i.prototype.is_empty=function(){return this.__items.length===0};_i.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]};_i.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf(`
`);e!==-1?this.__character_count=t.length-e:this.__character_count+=t.length};_i.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t};_i.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)};_i.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)};_i.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1};_i.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t};function Wu(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}Wu.prototype.get_indent_size=function(t,e){var i=this.__base_string_length;return e=e||0,t<0&&(i=0),i+=t*this.__indent_size,i+=e,i};Wu.prototype.get_indent_string=function(t,e){var i=this.__base_string;return e=e||0,t<0&&(t=0,i=""),e+=t*this.__indent_size,this.__ensure_cache(e),i+=this.__cache[e],i};Wu.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column()};Wu.prototype.__add_column=function(){var t=this.__cache.length,e=0,i="";this.__indent_size&&t>=this.__indent_size&&(e=Math.floor(t/this.__indent_size),t-=e*this.__indent_size,i=new Array(e+1).join(this.__indent_string)),t&&(i+=new Array(t+1).join(" ")),this.__cache.push(i)};function yi(t,e){this.__indent_cache=new Wu(t,e),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new _i(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}yi.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)};yi.prototype.get_line_number=function(){return this.__lines.length};yi.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)};yi.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)};yi.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()};yi.prototype.add_new_line=function(t){return this.is_empty()||!t&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)};yi.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&(e[e.length-1]===`
`&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var i=this.__lines.join(`
`);return t!==`
`&&(i=i.replace(/[\n]/g,t)),i};yi.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()};yi.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)};yi.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1};yi.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()};yi.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))};yi.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()};yi.prototype.trim=function(t){for(t=t===void 0?!1:t,this.current_line.trim();t&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null};yi.prototype.just_added_newline=function(){return this.current_line.is_empty()};yi.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()};yi.prototype.ensure_empty_line_above=function(t,e){for(var i=this.__lines.length-2;i>=0;){var r=this.__lines[i];if(r.is_empty())break;if(r.item(0).indexOf(t)!==0&&r.item(-1)!==e){this.__lines.splice(i+1,0,new _i(this)),this.previous_line=this.__lines[this.__lines.length-2];break}i--}};FC.exports.Output=yi});var Z_=Z((Uae,OC)=>{"use strict";function Oq(t,e,i,r){this.type=t,this.text=e,this.comments_before=null,this.newlines=i||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}OC.exports.Token=Oq});var ty=Z(ps=>{"use strict";var Lq="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",LC="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",ey="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",kC="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",MC="(?:\\\\u[0-9a-fA-F]{4}|["+Lq+ey+"])",kq="(?:\\\\u[0-9a-fA-F]{4}|["+LC+ey+kC+"])*";ps.identifier=new RegExp(MC+kq,"g");ps.identifierStart=new RegExp(MC);ps.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+LC+ey+kC+"])+");ps.newline=/[\n\r\u2028\u2029]/;ps.lineBreak=new RegExp(`\r
|`+ps.newline.source);ps.allLineBreaks=new RegExp(ps.lineBreak.source,"g")});var $p=Z((Wae,Kp)=>{"use strict";function aa(t,e){this.raw_options=qC(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}aa.prototype._get_array=function(t,e){var i=this.raw_options[t],r=e||[];return typeof i=="object"?i!==null&&typeof i.concat=="function"&&(r=i.concat()):typeof i=="string"&&(r=i.split(/[^a-zA-Z0-9_\/\-]+/)),r};aa.prototype._get_boolean=function(t,e){var i=this.raw_options[t],r=i===void 0?!!e:!!i;return r};aa.prototype._get_characters=function(t,e){var i=this.raw_options[t],r=e||"";return typeof i=="string"&&(r=i.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),r};aa.prototype._get_number=function(t,e){var i=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var r=parseInt(i,10);return isNaN(r)&&(r=e),r};aa.prototype._get_selection=function(t,e,i){var r=this._get_selection_list(t,e,i);if(r.length!==1)throw new Error("Invalid Option Value: The option '"+t+`' can only be one of the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return r[0]};aa.prototype._get_selection_list=function(t,e,i){if(!e||e.length===0)throw new Error("Selection list cannot be empty.");if(i=i||[e[0]],!this._is_valid_selection(i,e))throw new Error("Invalid Default Value!");var r=this._get_array(t,i);if(!this._is_valid_selection(r,e))throw new Error("Invalid Option Value: The option '"+t+`' can contain only the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return r};aa.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some(function(i){return e.indexOf(i)===-1})};function qC(t,e){var i={};t=VC(t);var r;for(r in t)r!==e&&(i[r]=t[r]);if(e&&t[e])for(r in t[e])i[r]=t[e][r];return i}function VC(t){var e={},i;for(i in t){var r=i.replace(/-/g,"_");e[r]=t[i]}return e}Kp.exports.Options=aa;Kp.exports.normalizeOpts=VC;Kp.exports.mergeOpts=qC});var iy=Z((Hae,UC)=>{"use strict";var BC=$p().Options,Mq=["before-newline","after-newline","preserve-newline"];function jC(t){BC.call(this,t,"js");var e=this.raw_options.brace_style||null;e==="expand-strict"?this.raw_options.brace_style="expand":e==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var i=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var r=0;r<i.length;r++)i[r]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=i[r];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",Mq),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}jC.prototype=new BC;UC.exports.Options=jC});var zp=Z((Yae,WC)=>{"use strict";var GC=RegExp.prototype.hasOwnProperty("sticky");function Pi(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}Pi.prototype.restart=function(){this.__position=0};Pi.prototype.back=function(){this.__position>0&&(this.__position-=1)};Pi.prototype.hasNext=function(){return this.__position<this.__input_length};Pi.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t};Pi.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e};Pi.prototype.__match=function(t,e){t.lastIndex=e;var i=t.exec(this.__input);return i&&!(GC&&t.sticky)&&i.index!==e&&(i=null),i};Pi.prototype.test=function(t,e){return e=e||0,e+=this.__position,e>=0&&e<this.__input_length?!!this.__match(t,e):!1};Pi.prototype.testChar=function(t,e){var i=this.peek(e);return t.lastIndex=0,i!==null&&t.test(i)};Pi.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e};Pi.prototype.read=function(t,e,i){var r="",n;return t&&(n=this.match(t),n&&(r+=n[0])),e&&(n||!t)&&(r+=this.readUntil(e,i)),r};Pi.prototype.readUntil=function(t,e){var i="",r=this.__position;t.lastIndex=this.__position;var n=t.exec(this.__input);return n?(r=n.index,e&&(r+=n[0].length)):r=this.__input_length,i=this.__input.substring(this.__position,r),this.__position=r,i};Pi.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)};Pi.prototype.get_regexp=function(t,e){var i=null,r="g";return e&&GC&&(r="y"),typeof t=="string"&&t!==""?i=new RegExp(t,r):t&&(i=new RegExp(t.source,r)),i};Pi.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))};Pi.prototype.peekUntilAfter=function(t){var e=this.__position,i=this.readUntilAfter(t);return this.__position=e,i};Pi.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t};WC.exports.InputScanner=Pi});var YC=Z((Kae,HC)=>{"use strict";function io(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}io.prototype.restart=function(){this.__position=0};io.prototype.isEmpty=function(){return this.__tokens_length===0};io.prototype.hasNext=function(){return this.__position<this.__tokens_length};io.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t};io.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__tokens_length&&(e=this.__tokens[t]),e};io.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1};HC.exports.TokenStream=io});var Hu=Z(($ae,KC)=>{"use strict";function Bn(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after)}Bn.prototype.read=function(){var t=this._input.read(this._starting_pattern);return(!this._starting_pattern||t)&&(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t};Bn.prototype.read_match=function(){return this._input.match(this._match_pattern)};Bn.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e};Bn.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e};Bn.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e};Bn.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e};Bn.prototype._create=function(){return new Bn(this._input,this)};Bn.prototype._update=function(){};KC.exports.Pattern=Bn});var XC=Z((zae,zC)=>{"use strict";var $C=Hu().Pattern;function oa(t,e){$C.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}oa.prototype=new $C;oa.prototype.__set_whitespace_patterns=function(t,e){t+="\\t ",e+="\\n\\r",this._match_pattern=this._input.get_regexp("["+t+e+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]")};oa.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(t===" ")this.whitespace_before_token=" ";else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1,this.whitespace_before_token=e[this.newline_count]}return t};oa.prototype.matching=function(t,e){var i=this._create();return i.__set_whitespace_patterns(t,e),i._update(),i};oa.prototype._create=function(){return new oa(this._input,this)};oa.prototype.__split=function(t,e){t.lastIndex=0;for(var i=0,r=[],n=t.exec(e);n;)r.push(e.substring(i,n.index)),i=n.index+n[0].length,n=t.exec(e);return i<e.length?r.push(e.substring(i,e.length)):r.push(""),r};zC.exports.WhitespacePattern=oa});var Ku=Z((Xae,ny)=>{"use strict";var qq=zp().InputScanner,QC=Z_().Token,ry=YC().TokenStream,Vq=XC().WhitespacePattern,Yu={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},jn=function(t,e){this._input=new qq(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new Vq(this._input)};jn.prototype.tokenize=function(){this._input.restart(),this.__tokens=new ry,this._reset();for(var t,e=new QC(Yu.START,""),i=null,r=[],n=new ry;e.type!==Yu.EOF;){for(t=this._get_next_token(e,i);this._is_comment(t);)n.add(t),t=this._get_next_token(e,i);n.isEmpty()||(t.comments_before=n,n=new ry),t.parent=i,this._is_opening(t)?(r.push(i),i=t):i&&this._is_closing(t,i)&&(t.opened=i,i.closed=t,i=r.pop(),t.parent=i),t.previous=e,e.next=t,this.__tokens.add(t),e=t}return this.__tokens};jn.prototype._is_first_token=function(){return this.__tokens.isEmpty()};jn.prototype._reset=function(){};jn.prototype._get_next_token=function(t,e){this._readWhitespace();var i=this._input.read(/.+/g);return i?this._create_token(Yu.RAW,i):this._create_token(Yu.EOF,"")};jn.prototype._is_comment=function(t){return!1};jn.prototype._is_opening=function(t){return!1};jn.prototype._is_closing=function(t,e){return!1};jn.prototype._create_token=function(t,e){var i=new QC(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return i};jn.prototype._readWhitespace=function(){return this._patterns.whitespace.read()};ny.exports.Tokenizer=jn;ny.exports.TOKEN=Yu});var Xp=Z((Qae,JC)=>{"use strict";function sy(t,e){t=typeof t=="string"?t:t.source,e=typeof e=="string"?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}sy.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var i=this.__directive_pattern.exec(t);i;)e[i[1]]=i[2],i=this.__directive_pattern.exec(t);return e};sy.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)};JC.exports.Directives=sy});var ly=Z((Jae,ZC)=>{"use strict";var ay=Hu().Pattern,oy={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function In(t,e){ay.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},oy),this._excluded=Object.assign({},oy),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var i=new ay(t);this.__patterns={handlebars_comment:i.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:i.starting_with(/{{{/).until_after(/}}}/),handlebars:i.starting_with(/{{/).until_after(/}}/),php:i.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:i.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:i.starting_with(/{%/).until_after(/%}/),django_value:i.starting_with(/{{/).until_after(/}}/),django_comment:i.starting_with(/{#/).until_after(/#}/),smarty:i.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:i.starting_with(/{\*/).until_after(/\*}/),smarty_literal:i.starting_with(/{literal}/).until_after(/{\/literal}/)}}In.prototype=new ay;In.prototype._create=function(){return new In(this._input,this)};In.prototype._update=function(){this.__set_templated_pattern()};In.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e};In.prototype.read_options=function(t){var e=this._create();for(var i in oy)e._disabled[i]=t.templating.indexOf(i)===-1;return e._update(),e};In.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e};In.prototype.read=function(){var t="";this._match_pattern?t=this._input.read(this._starting_pattern):t=this._input.read(this._starting_pattern,this.__template_pattern);for(var e=this._read_template();e;)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t};In.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||t.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")};In.prototype._read_template=function(){var t="",e=this._input.peek();if(e==="<"){var i=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&i==="?"&&(t=t||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&i==="%"&&(t=t||this.__patterns.erb.read())}else e==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(t=t||this.__patterns.handlebars_comment.read(),t=t||this.__patterns.handlebars_unescaped.read(),t=t||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(t=t||this.__patterns.django_value.read()),this._excluded.django||(t=t||this.__patterns.django_comment.read(),t=t||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(t=t||this.__patterns.smarty_comment.read(),t=t||this.__patterns.smarty_literal.read(),t=t||this.__patterns.smarty.read()));return t};ZC.exports.TemplatablePattern=In});var zu=Z((Zae,$u)=>{"use strict";var Bq=zp().InputScanner,tR=Ku().Tokenizer,uy=Ku().TOKEN,jq=Xp().Directives,zr=ty(),Uq=Hu().Pattern,Gq=ly().TemplatablePattern;function cy(t,e){return e.indexOf(t)!==-1}var Pe={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:uy.START,RAW:uy.RAW,EOF:uy.EOF},eR=new jq(/\/\*/,/\*\//),Wq=/0[xX][0123456789abcdefABCDEF]*|0[oO][01234567]*|0[bB][01]*|\d+n|(?:\.\d+|\d+\.?\d*)(?:[eE][+-]?\d+)?/,Hq=/[0-9]/,Yq=/[^\d\.]/,Kq=">>> === !== << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),ro=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";ro=ro.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");ro="\\?\\.(?!\\d) "+ro;ro=ro.replace(/ /g,"|");var $q=new RegExp(ro),iR="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),zq=iR.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),Xq=new RegExp("^(?:"+zq.join("|")+")$"),Qp,Ni=function(t,e){tR.call(this,t,e),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var i=new Uq(this._input),r=new Gq(this._input).read_options(this._options);this.__patterns={template:r,identifier:r.starting_with(zr.identifier).matching(zr.identifierMatch),number:i.matching(Wq),punct:i.matching($q),comment:i.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:i.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:i.matching(/<!--/),html_comment_end:i.matching(/-->/),include:i.starting_with(/#include/).until_after(zr.lineBreak),shebang:i.starting_with(/#!/).until_after(zr.lineBreak),xml:i.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\]|)(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:r.until(/['\\\n\r\u2028\u2029]/),double_quote:r.until(/["\\\n\r\u2028\u2029]/),template_text:r.until(/[`\\$]/),template_expression:r.until(/[`}\\]/)}};Ni.prototype=new tR;Ni.prototype._is_comment=function(t){return t.type===Pe.COMMENT||t.type===Pe.BLOCK_COMMENT||t.type===Pe.UNKNOWN};Ni.prototype._is_opening=function(t){return t.type===Pe.START_BLOCK||t.type===Pe.START_EXPR};Ni.prototype._is_closing=function(t,e){return(t.type===Pe.END_BLOCK||t.type===Pe.END_EXPR)&&e&&(t.text==="]"&&e.text==="["||t.text===")"&&e.text==="("||t.text==="}"&&e.text==="{")};Ni.prototype._reset=function(){Qp=!1};Ni.prototype._get_next_token=function(t,e){var i=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(Pe.EOF,""):(i=i||this._read_non_javascript(r),i=i||this._read_string(r),i=i||this._read_word(t),i=i||this._read_singles(r),i=i||this._read_comment(r),i=i||this._read_regexp(r,t),i=i||this._read_xml(r,t),i=i||this._read_punctuation(),i=i||this._create_token(Pe.UNKNOWN,this._input.next()),i)};Ni.prototype._read_word=function(t){var e;if(e=this.__patterns.identifier.read(),e!=="")return e=e.replace(zr.allLineBreaks,`
`),!(t.type===Pe.DOT||t.type===Pe.RESERVED&&(t.text==="set"||t.text==="get"))&&Xq.test(e)?e==="in"||e==="of"?this._create_token(Pe.OPERATOR,e):this._create_token(Pe.RESERVED,e):this._create_token(Pe.WORD,e);if(e=this.__patterns.number.read(),e!=="")return this._create_token(Pe.WORD,e)};Ni.prototype._read_singles=function(t){var e=null;return t==="("||t==="["?e=this._create_token(Pe.START_EXPR,t):t===")"||t==="]"?e=this._create_token(Pe.END_EXPR,t):t==="{"?e=this._create_token(Pe.START_BLOCK,t):t==="}"?e=this._create_token(Pe.END_BLOCK,t):t===";"?e=this._create_token(Pe.SEMICOLON,t):t==="."&&Yq.test(this._input.peek(1))?e=this._create_token(Pe.DOT,t):t===","&&(e=this._create_token(Pe.COMMA,t)),e&&this._input.next(),e};Ni.prototype._read_punctuation=function(){var t=this.__patterns.punct.read();if(t!=="")return t==="="?this._create_token(Pe.EQUALS,t):t==="?."?this._create_token(Pe.DOT,t):this._create_token(Pe.OPERATOR,t)};Ni.prototype._read_non_javascript=function(t){var e="";if(t==="#"){if(this._is_first_token()&&(e=this.__patterns.shebang.read(),e))return this._create_token(Pe.UNKNOWN,e.trim()+`
`);if(e=this.__patterns.include.read(),e)return this._create_token(Pe.UNKNOWN,e.trim()+`
`);t=this._input.next();var i="#";if(this._input.hasNext()&&this._input.testChar(Hq)){do t=this._input.next(),i+=t;while(this._input.hasNext()&&t!=="#"&&t!=="=");return t==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(i+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(i+="{}",this._input.next(),this._input.next())),this._create_token(Pe.WORD,i)}this._input.back()}else if(t==="<"&&this._is_first_token()){if(e=this.__patterns.html_comment_start.read(),e){for(;this._input.hasNext()&&!this._input.testChar(zr.newline);)e+=this._input.next();return Qp=!0,this._create_token(Pe.COMMENT,e)}}else if(Qp&&t==="-"&&(e=this.__patterns.html_comment_end.read(),e))return Qp=!1,this._create_token(Pe.COMMENT,e);return null};Ni.prototype._read_comment=function(t){var e=null;if(t==="/"){var i="";if(this._input.peek(1)==="*"){i=this.__patterns.block_comment.read();var r=eR.get_directives(i);r&&r.ignore==="start"&&(i+=eR.readIgnored(this._input)),i=i.replace(zr.allLineBreaks,`
`),e=this._create_token(Pe.BLOCK_COMMENT,i),e.directives=r}else this._input.peek(1)==="/"&&(i=this.__patterns.comment.read(),e=this._create_token(Pe.COMMENT,i))}return e};Ni.prototype._read_string=function(t){if(t==="`"||t==="'"||t==='"'){var e=this._input.next();return this.has_char_escapes=!1,t==="`"?e+=this._read_string_recursive("`",!0,"${"):e+=this._read_string_recursive(t),this.has_char_escapes&&this._options.unescape_strings&&(e=Qq(e)),this._input.peek()===t&&(e+=this._input.next()),e=e.replace(zr.allLineBreaks,`
`),this._create_token(Pe.STRING,e)}return null};Ni.prototype._allow_regexp_or_xml=function(t){return t.type===Pe.RESERVED&&cy(t.text,["return","case","throw","else","do","typeof","yield"])||t.type===Pe.END_EXPR&&t.text===")"&&t.opened.previous.type===Pe.RESERVED&&cy(t.opened.previous.text,["if","while","for"])||cy(t.type,[Pe.COMMENT,Pe.START_EXPR,Pe.START_BLOCK,Pe.START,Pe.END_BLOCK,Pe.OPERATOR,Pe.EQUALS,Pe.EOF,Pe.SEMICOLON,Pe.COMMA])};Ni.prototype._read_regexp=function(t,e){if(t==="/"&&this._allow_regexp_or_xml(e)){for(var i=this._input.next(),r=!1,n=!1;this._input.hasNext()&&(r||n||this._input.peek()!==t)&&!this._input.testChar(zr.newline);)i+=this._input.peek(),r?r=!1:(r=this._input.peek()==="\\",this._input.peek()==="["?n=!0:this._input.peek()==="]"&&(n=!1)),this._input.next();return this._input.peek()===t&&(i+=this._input.next(),i+=this._input.read(zr.identifier)),this._create_token(Pe.STRING,i)}return null};Ni.prototype._read_xml=function(t,e){if(this._options.e4x&&t==="<"&&this._allow_regexp_or_xml(e)){var i="",r=this.__patterns.xml.read_match();if(r){for(var n=r[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),s=n.indexOf("{")===0,a=0;r;){var o=!!r[1],l=r[2],u=!!r[r.length-1]||l.slice(0,8)==="![CDATA[";if(!u&&(l===n||s&&l.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(o?--a:++a),i+=r[0],a<=0)break;r=this.__patterns.xml.read_match()}return r||(i+=this._input.match(/[\s\S]*/g)[0]),i=i.replace(zr.allLineBreaks,`
`),this._create_token(Pe.STRING,i)}}return null};function Qq(t){for(var e="",i=0,r=new Bq(t),n=null;r.hasNext();)if(n=r.match(/([\s]|[^\\]|\\\\)+/g),n&&(e+=n[0]),r.peek()==="\\"){if(r.next(),r.peek()==="x")n=r.match(/x([0-9A-Fa-f]{2})/g);else if(r.peek()==="u")n=r.match(/u([0-9A-Fa-f]{4})/g);else{e+="\\",r.hasNext()&&(e+=r.next());continue}if(!n||(i=parseInt(n[1],16),i>126&&i<=255&&n[0].indexOf("x")===0))return t;if(i>=0&&i<32){e+="\\"+n[0];continue}else i===34||i===39||i===92?e+="\\"+String.fromCharCode(i):e+=String.fromCharCode(i)}return e}Ni.prototype._read_string_recursive=function(t,e,i){var r,n;t==="'"?n=this.__patterns.single_quote:t==='"'?n=this.__patterns.double_quote:t==="`"?n=this.__patterns.template_text:t==="}"&&(n=this.__patterns.template_expression);for(var s=n.read(),a="";this._input.hasNext();){if(a=this._input.next(),a===t||!e&&zr.newline.test(a)){this._input.back();break}else a==="\\"&&this._input.hasNext()?(r=this._input.peek(),r==="x"||r==="u"?this.has_char_escapes=!0:r==="\r"&&this._input.peek(1)===`
`&&this._input.next(),a+=this._input.next()):i&&(i==="${"&&a==="$"&&this._input.peek()==="{"&&(a+=this._input.next()),i===a&&(t==="`"?a+=this._read_string_recursive("}",e,"`"):a+=this._read_string_recursive("`",e,"${"),this._input.hasNext()&&(a+=this._input.next())));a+=n.read(),s+=a}return s};$u.exports.Tokenizer=Ni;$u.exports.TOKEN=Pe;$u.exports.positionable_operators=Kq.slice();$u.exports.line_starters=iR.slice()});var aR=Z((eoe,sR)=>{"use strict";var Jq=Yp().Output,Zq=Z_().Token,Jp=ty(),eV=iy().Options,tV=zu().Tokenizer,Zu=zu().line_starters,Xu=zu().positionable_operators,W=zu().TOKEN;function Ye(t,e){return e.indexOf(t)!==-1}function iV(t){return t.replace(/^\s+/g,"")}function rV(t){for(var e={},i=0;i<t.length;i++)e[t[i].replace(/-/g,"_")]=t[i];return e}function Xr(t,e){return t&&t.type===W.RESERVED&&t.text===e}function bt(t,e){return t&&t.type===W.RESERVED&&Ye(t.text,e)}var Zp=["case","return","do","if","throw","else","await","break","continue","async"],nV=["before-newline","after-newline","preserve-newline"],Qu=rV(nV),rR=[Qu.before_newline,Qu.preserve_newline],Ne={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function nR(t,e){e.multiline_frame||e.mode===Ne.ForInitializer||e.mode===Ne.Conditional||t.remove_indent(e.start_line_index)}function sV(t){t=t.replace(Jp.allLineBreaks,`
`);for(var e=[],i=t.indexOf(`
`);i!==-1;)e.push(t.substring(0,i)),t=t.substring(i+1),i=t.indexOf(`
`);return t.length&&e.push(t),e}function la(t){return t===Ne.ArrayLiteral}function Ju(t){return Ye(t,[Ne.Expression,Ne.ForInitializer,Ne.Conditional])}function aV(t,e){for(var i=0;i<t.length;i++){var r=t[i].trim();if(r.charAt(0)!==e)return!1}return!0}function oV(t,e){for(var i=0,r=t.length,n;i<r;i++)if(n=t[i],n&&n.indexOf(e)!==0)return!1;return!0}function at(t,e){e=e||{},this._source_text=t||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new eV(e)}at.prototype.create_flags=function(t,e){var i=0;t&&(i=t.indentation_level,!this._output.just_added_newline()&&t.line_indent_level>i&&(i=t.line_indent_level));var r={mode:e,parent:t,last_token:t?t.last_token:new Zq(W.START_BLOCK,""),last_word:t?t.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:i,alignment:0,line_indent_level:t?t.line_indent_level:i,start_line_index:this._output.get_line_number(),ternary_depth:0};return r};at.prototype._reset=function(t){var e=t.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new Jq(this._options,e),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(Ne.BlockStatement);var i=new tV(t,this._options);return this._tokens=i.tokenize(),t};at.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t,e=this._reset(this._source_text),i=this._options.eol;this._options.eol==="auto"&&(i=`
`,e&&Jp.lineBreak.test(e||"")&&(i=e.match(Jp.lineBreak)[0]));for(var r=this._tokens.next();r;)this.handle_token(r),this._last_last_text=this._flags.last_token.text,this._flags.last_token=r,r=this._tokens.next();return t=this._output.get_code(i),t};at.prototype.handle_token=function(t,e){t.type===W.START_EXPR?this.handle_start_expr(t):t.type===W.END_EXPR?this.handle_end_expr(t):t.type===W.START_BLOCK?this.handle_start_block(t):t.type===W.END_BLOCK?this.handle_end_block(t):t.type===W.WORD?this.handle_word(t):t.type===W.RESERVED?this.handle_word(t):t.type===W.SEMICOLON?this.handle_semicolon(t):t.type===W.STRING?this.handle_string(t):t.type===W.EQUALS?this.handle_equals(t):t.type===W.OPERATOR?this.handle_operator(t):t.type===W.COMMA?this.handle_comma(t):t.type===W.BLOCK_COMMENT?this.handle_block_comment(t,e):t.type===W.COMMENT?this.handle_comment(t,e):t.type===W.DOT?this.handle_dot(t):t.type===W.EOF?this.handle_eof(t):t.type===W.UNKNOWN?this.handle_unknown(t,e):this.handle_unknown(t,e)};at.prototype.handle_whitespace_and_comments=function(t,e){var i=t.newlines,r=this._options.keep_array_indentation&&la(this._flags.mode);if(t.comments_before)for(var n=t.comments_before.next();n;)this.handle_whitespace_and_comments(n,e),this.handle_token(n,e),n=t.comments_before.next();if(r)for(var s=0;s<i;s+=1)this.print_newline(s>0,e);else if(this._options.max_preserve_newlines&&i>this._options.max_preserve_newlines&&(i=this._options.max_preserve_newlines),this._options.preserve_newlines&&i>1){this.print_newline(!1,e);for(var a=1;a<i;a+=1)this.print_newline(!0,e)}};var fy=["async","break","continue","return","throw","yield"];at.prototype.allow_wrap_or_preserved_newline=function(t,e){if(e=e===void 0?!1:e,!this._output.just_added_newline()){var i=this._options.preserve_newlines&&t.newlines||e,r=Ye(this._flags.last_token.text,Xu)||Ye(t.text,Xu);if(r){var n=Ye(this._flags.last_token.text,Xu)&&Ye(this._options.operator_position,rR)||Ye(t.text,Xu);i=i&&n}if(i)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(bt(this._flags.last_token,fy))return;this._output.set_wrap_point()}}};at.prototype.print_newline=function(t,e){if(!e&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==W.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var i=this._tokens.peek();this._flags.mode===Ne.Statement&&!(this._flags.if_block&&Xr(i,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(t)&&(this._flags.multiline_frame=!0)};at.prototype.print_token_line_indentation=function(t){this._output.just_added_newline()&&(this._options.keep_array_indentation&&t.newlines&&(t.text==="["||la(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(t.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))};at.prototype.print_token=function(t){if(this._output.raw){this._output.add_raw_token(t);return}if(this._options.comma_first&&t.previous&&t.previous.type===W.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var e=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(e),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(t),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(t),this._output.non_breaking_space=!0,this._output.add_token(t.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)};at.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};at.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};at.prototype.set_mode=function(t){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,t),this._flags=this.create_flags(this._previous_flags,t),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};at.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===Ne.Statement&&nR(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};at.prototype.start_of_object_property=function(){return this._flags.parent.mode===Ne.ObjectLiteral&&this._flags.mode===Ne.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||bt(this._flags.last_token,["get","set"]))};at.prototype.start_of_statement=function(t){var e=!1;return e=e||bt(this._flags.last_token,["var","let","const"])&&t.type===W.WORD,e=e||Xr(this._flags.last_token,"do"),e=e||!(this._flags.parent.mode===Ne.ObjectLiteral&&this._flags.mode===Ne.Statement)&&bt(this._flags.last_token,fy)&&!t.newlines,e=e||Xr(this._flags.last_token,"else")&&!(Xr(t,"if")&&!t.comments_before),e=e||this._flags.last_token.type===W.END_EXPR&&(this._previous_flags.mode===Ne.ForInitializer||this._previous_flags.mode===Ne.Conditional),e=e||this._flags.last_token.type===W.WORD&&this._flags.mode===Ne.BlockStatement&&!this._flags.in_case&&!(t.text==="--"||t.text==="++")&&this._last_last_text!=="function"&&t.type!==W.WORD&&t.type!==W.RESERVED,e=e||this._flags.mode===Ne.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||bt(this._flags.last_token,["get","set"])),e?(this.set_mode(Ne.Statement),this.indent(),this.handle_whitespace_and_comments(t,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t,bt(t,["do","for","if","while"])),!0):!1};at.prototype.handle_start_expr=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t);var e=Ne.Expression;if(t.text==="["){if(this._flags.last_token.type===W.WORD||this._flags.last_token.text===")"){bt(this._flags.last_token,Zu)&&(this._output.space_before_token=!0),this.print_token(t),this.set_mode(e),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}e=Ne.ArrayLiteral,la(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),Ye(this._flags.last_token.type,[W.START_EXPR,W.END_EXPR,W.WORD,W.OPERATOR,W.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===W.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,e=Ne.ForInitializer):Ye(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,e=Ne.Conditional):Ye(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&t.whitespace_before===""?this._output.space_before_token=!1:(Ye(this._flags.last_token.text,Zu)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===W.EQUALS||this._flags.last_token.type===W.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t);else if(this._flags.last_token.type===W.WORD){this._output.space_before_token=!1;var i=this._tokens.peek(-3);if(this._options.space_after_named_function&&i){var r=this._tokens.peek(-4);bt(i,["async","function"])||i.text==="*"&&bt(r,["async","function"])?this._output.space_before_token=!0:this._flags.mode===Ne.ObjectLiteral&&(i.text==="{"||i.text===","||i.text==="*"&&(r.text==="{"||r.text===","))&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(t);(this._flags.last_token.type===W.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(Ye(this._last_last_text,["function","yield"])||this._flags.mode===Ne.ObjectLiteral&&Ye(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===W.START_BLOCK?this.print_newline():(this._flags.last_token.type===W.END_EXPR||this._flags.last_token.type===W.START_EXPR||this._flags.last_token.type===W.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===W.COMMA)&&this.allow_wrap_or_preserved_newline(t,t.newlines),this.print_token(t),this.set_mode(e),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()};at.prototype.handle_end_expr=function(t){for(;this._flags.mode===Ne.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(t,t.text==="]"&&la(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===W.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(t),this.restore_mode(),nR(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===Ne.Conditional&&(this._previous_flags.mode=Ne.Expression,this._flags.do_block=!1,this._flags.do_while=!1)};at.prototype.handle_start_block=function(t){this.handle_whitespace_and_comments(t);var e=this._tokens.peek(),i=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===W.END_EXPR?(this.set_mode(Ne.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(Ne.BlockStatement):i&&(Ye(i.text,[":",","])&&Ye(e.type,[W.STRING,W.WORD,W.RESERVED])||Ye(e.text,["get","set","..."])&&Ye(i.type,[W.WORD,W.RESERVED]))?Ye(this._last_last_text,["class","interface"])?this.set_mode(Ne.BlockStatement):this.set_mode(Ne.ObjectLiteral):this._flags.last_token.type===W.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(Ne.BlockStatement):Ye(this._flags.last_token.type,[W.EQUALS,W.START_EXPR,W.COMMA,W.OPERATOR])||bt(this._flags.last_token,["return","throw","import","default"])?this.set_mode(Ne.ObjectLiteral):this.set_mode(Ne.BlockStatement);var r=!e.comments_before&&e.text==="}",n=r&&this._flags.last_word==="function"&&this._flags.last_token.type===W.END_EXPR;if(this._options.brace_preserve_inline){var s=0,a=null;this._flags.inline_frame=!0;do if(s+=1,a=this._tokens.peek(s-1),a.newlines){this._flags.inline_frame=!1;break}while(a.type!==W.EOF&&!(a.type===W.END_BLOCK&&a.opened===t))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==W.OPERATOR&&(n||this._flags.last_token.type===W.EQUALS||bt(this._flags.last_token,Zp)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(la(this._previous_flags.mode)&&(this._flags.last_token.type===W.START_EXPR||this._flags.last_token.type===W.COMMA)&&((this._flags.last_token.type===W.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===W.COMMA||this._flags.last_token.type===W.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(t),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==W.OPERATOR&&this._flags.last_token.type!==W.START_EXPR&&(this._flags.last_token.type===W.START_BLOCK&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(t),this.indent(),!r&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()};at.prototype.handle_end_block=function(t){for(this.handle_whitespace_and_comments(t);this._flags.mode===Ne.Statement;)this.restore_mode();var e=this._flags.last_token.type===W.START_BLOCK;this._flags.inline_frame&&!e?this._output.space_before_token=!0:this._options.brace_style==="expand"?e||this.print_newline():e||(la(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(t)};at.prototype.handle_word=function(t){if(t.type===W.RESERVED){if(Ye(t.text,["set","get"])&&this._flags.mode!==Ne.ObjectLiteral)t.type=W.WORD;else if(t.text==="import"&&this._tokens.peek().text==="(")t.type=W.WORD;else if(Ye(t.text,["as","from"])&&!this._flags.import_block)t.type=W.WORD;else if(this._flags.mode===Ne.ObjectLiteral){var e=this._tokens.peek();e.text===":"&&(t.type=W.WORD)}}if(this.start_of_statement(t)?bt(this._flags.last_token,["var","let","const"])&&t.type===W.WORD&&(this._flags.declaration_statement=!0):t.newlines&&!Ju(this._flags.mode)&&(this._flags.last_token.type!==W.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==W.EQUALS&&(this._options.preserve_newlines||!bt(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(t),this.print_newline()):this.handle_whitespace_and_comments(t),this._flags.do_block&&!this._flags.do_while)if(Xr(t,"while")){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&Xr(t,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===Ne.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&bt(t,["case","default"])){this.print_newline(),this._flags.last_token.type!==W.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(t),this._flags.in_case=!0;return}if((this._flags.last_token.type===W.COMMA||this._flags.last_token.type===W.START_EXPR||this._flags.last_token.type===W.EQUALS||this._flags.last_token.type===W.OPERATOR)&&(this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t)),Xr(t,"function")){(Ye(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(Ye(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===W.OPERATOR))&&!this._output.just_added_blankline()&&!t.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===W.RESERVED||this._flags.last_token.type===W.WORD?bt(this._flags.last_token,["get","set","new","export"])||bt(this._flags.last_token,fy)?this._output.space_before_token=!0:Xr(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===W.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(Ju(this._flags.mode)||la(this._flags.mode))||this.print_newline(),this.print_token(t),this._flags.last_word=t.text;return}var i="NONE";if(this._flags.last_token.type===W.END_BLOCK?this._previous_flags.inline_frame?i="SPACE":bt(t,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines?i="NEWLINE":(i="SPACE",this._output.space_before_token=!0):i="NEWLINE":this._flags.last_token.type===W.SEMICOLON&&this._flags.mode===Ne.BlockStatement?i="NEWLINE":this._flags.last_token.type===W.SEMICOLON&&Ju(this._flags.mode)?i="SPACE":this._flags.last_token.type===W.STRING?i="NEWLINE":this._flags.last_token.type===W.RESERVED||this._flags.last_token.type===W.WORD||this._flags.last_token.text==="*"&&(Ye(this._last_last_text,["function","yield"])||this._flags.mode===Ne.ObjectLiteral&&Ye(this._last_last_text,["{",","]))?i="SPACE":this._flags.last_token.type===W.START_BLOCK?this._flags.inline_frame?i="SPACE":i="NEWLINE":this._flags.last_token.type===W.END_EXPR&&(this._output.space_before_token=!0,i="NEWLINE"),bt(t,Zu)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?i="SPACE":i="NEWLINE"),bt(t,["else","catch","finally"]))if((!(this._flags.last_token.type===W.END_BLOCK&&this._previous_flags.mode===Ne.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var r=this._output.current_line;r.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else i==="NEWLINE"?bt(this._flags.last_token,Zp)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&bt(t,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==W.END_EXPR?(this._flags.last_token.type!==W.START_EXPR||!bt(t,["var","let","const"]))&&this._flags.last_token.text!==":"&&(Xr(t,"if")&&Xr(t.previous,"else")?this._output.space_before_token=!0:this.print_newline()):bt(t,Zu)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&la(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():i==="SPACE"&&(this._output.space_before_token=!0);t.previous&&(t.previous.type===W.WORD||t.previous.type===W.RESERVED)&&(this._output.space_before_token=!0),this.print_token(t),this._flags.last_word=t.text,t.type===W.RESERVED&&(t.text==="do"?this._flags.do_block=!0:t.text==="if"?this._flags.if_block=!0:t.text==="import"?this._flags.import_block=!0:this._flags.import_block&&Xr(t,"from")&&(this._flags.import_block=!1))};at.prototype.handle_semicolon=function(t){this.start_of_statement(t)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(t);for(var e=this._tokens.peek();this._flags.mode===Ne.Statement&&!(this._flags.if_block&&Xr(e,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(t)};at.prototype.handle_string=function(t){t.text.startsWith("`")&&t.newlines===0&&t.whitespace_before===""&&(t.previous.text===")"||this._flags.last_token.type===W.WORD)||(this.start_of_statement(t)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(t),this._flags.last_token.type===W.RESERVED||this._flags.last_token.type===W.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===W.COMMA||this._flags.last_token.type===W.START_EXPR||this._flags.last_token.type===W.EQUALS||this._flags.last_token.type===W.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t):t.text.startsWith("`")&&this._flags.last_token.type===W.END_EXPR&&(t.previous.text==="]"||t.previous.text===")")&&t.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(t)};at.prototype.handle_equals=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0};at.prototype.handle_comma=function(t){this.handle_whitespace_and_comments(t,!0),this.print_token(t),this._output.space_before_token=!0,this._flags.declaration_statement?(Ju(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)):this._flags.mode===Ne.ObjectLiteral||this._flags.mode===Ne.Statement&&this._flags.parent.mode===Ne.ObjectLiteral?(this._flags.mode===Ne.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)};at.prototype.handle_operator=function(t){var e=t.text==="*"&&(bt(this._flags.last_token,["function","yield"])||Ye(this._flags.last_token.type,[W.START_BLOCK,W.COMMA,W.END_BLOCK,W.SEMICOLON])),i=Ye(t.text,["-","+"])&&(Ye(this._flags.last_token.type,[W.START_BLOCK,W.START_EXPR,W.EQUALS,W.OPERATOR])||Ye(this._flags.last_token.text,Zu)||this._flags.last_token.text===",");if(!this.start_of_statement(t)){var r=!e;this.handle_whitespace_and_comments(t,r)}if(bt(this._flags.last_token,Zp)){this._output.space_before_token=!0,this.print_token(t);return}if(t.text==="*"&&this._flags.last_token.type===W.DOT){this.print_token(t);return}if(t.text==="::"){this.print_token(t);return}if(this._flags.last_token.type===W.OPERATOR&&Ye(this._options.operator_position,rR)&&this.allow_wrap_or_preserved_newline(t),t.text===":"&&this._flags.in_case){this.print_token(t),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==W.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0;return}var n=!0,s=!0,a=!1;if(t.text===":"?this._flags.ternary_depth===0?n=!1:(this._flags.ternary_depth-=1,a=!0):t.text==="?"&&(this._flags.ternary_depth+=1),!i&&!e&&this._options.preserve_newlines&&Ye(t.text,Xu)){var o=t.text===":",l=o&&a,u=o&&!a;switch(this._options.operator_position){case Qu.before_newline:this._output.space_before_token=!u,this.print_token(t),(!o||l)&&this.allow_wrap_or_preserved_newline(t),this._output.space_before_token=!0;return;case Qu.after_newline:this._output.space_before_token=!0,!o||l?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(t):this._output.space_before_token=!1,this.print_token(t),this._output.space_before_token=!0;return;case Qu.preserve_newline:u||this.allow_wrap_or_preserved_newline(t),n=!(this._output.just_added_newline()||u),this._output.space_before_token=n,this.print_token(t),this._output.space_before_token=!0;return}}if(e){this.allow_wrap_or_preserved_newline(t),n=!1;var c=this._tokens.peek();s=c&&Ye(c.type,[W.WORD,W.RESERVED])}else t.text==="..."?(this.allow_wrap_or_preserved_newline(t),n=this._flags.last_token.type===W.START_BLOCK,s=!1):(Ye(t.text,["--","++","!","~"])||i)&&((this._flags.last_token.type===W.COMMA||this._flags.last_token.type===W.START_EXPR)&&this.allow_wrap_or_preserved_newline(t),n=!1,s=!1,t.newlines&&(t.text==="--"||t.text==="++")&&this.print_newline(!1,!0),this._flags.last_token.text===";"&&Ju(this._flags.mode)&&(n=!0),this._flags.last_token.type===W.RESERVED?n=!0:this._flags.last_token.type===W.END_EXPR?n=!(this._flags.last_token.text==="]"&&(t.text==="--"||t.text==="++")):this._flags.last_token.type===W.OPERATOR&&(n=Ye(t.text,["--","-","++","+"])&&Ye(this._flags.last_token.text,["--","-","++","+"]),Ye(t.text,["+","-"])&&Ye(this._flags.last_token.text,["--","++"])&&(s=!0)),(this._flags.mode===Ne.BlockStatement&&!this._flags.inline_frame||this._flags.mode===Ne.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline());this._output.space_before_token=this._output.space_before_token||n,this.print_token(t),this._output.space_before_token=s};at.prototype.handle_block_comment=function(t,e){if(this._output.raw){this._output.add_raw_token(t),t.directives&&t.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(t.directives){this.print_newline(!1,e),this.print_token(t),t.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!Jp.newline.test(t.text)&&!t.newlines){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0;return}else this.print_block_commment(t,e)};at.prototype.print_block_commment=function(t,e){var i=sV(t.text),r,n=!1,s=!1,a=t.whitespace_before,o=a.length;if(this.print_newline(!1,e),this.print_token_line_indentation(t),this._output.add_token(i[0]),this.print_newline(!1,e),i.length>1){for(i=i.slice(1),n=aV(i,"*"),s=oV(i,a),n&&(this._flags.alignment=1),r=0;r<i.length;r++)n?(this.print_token_line_indentation(t),this._output.add_token(iV(i[r]))):s&&i[r]?(this.print_token_line_indentation(t),this._output.add_token(i[r].substring(o))):(this._output.current_line.set_indent(-1),this._output.add_token(i[r])),this.print_newline(!1,e);this._flags.alignment=0}};at.prototype.handle_comment=function(t,e){t.newlines?this.print_newline(!1,e):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(t),this.print_newline(!1,e)};at.prototype.handle_dot=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t,!0),bt(this._flags.last_token,Zp)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(t,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(t)};at.prototype.handle_unknown=function(t,e){this.print_token(t),t.text[t.text.length-1]===`
`&&this.print_newline(!1,e)};at.prototype.handle_eof=function(t){for(;this._flags.mode===Ne.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t)};sR.exports.Beautifier=at});var oR=Z((toe,dy)=>{"use strict";var lV=aR().Beautifier,uV=iy().Options;function cV(t,e){var i=new lV(t,e);return i.beautify()}dy.exports=cV;dy.exports.defaultOptions=function(){return new uV}});var py=Z((ioe,cR)=>{"use strict";var lR=$p().Options;function uR(t){lR.call(this,t,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var e=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||e;var i=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var r=0;r<i.length;r++)i[r]!=="expand"?this.brace_style="collapse":this.brace_style=i[r]}uR.prototype=new lR;cR.exports.Options=uR});var mR=Z((roe,pR)=>{"use strict";var fV=py().Options,dV=Yp().Output,pV=zp().InputScanner,mV=Xp().Directives,fR=new mV(/\/\*/,/\*\//),dR=/\r\n|[\r\n]/,hV=/\r\n|[\r\n]/g,em=/\s/,gV=/(?:\s|\n)+/g,_V=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,yV=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function ms(t,e){this._source_text=t||"",this._options=new fV(e),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}ms.prototype.eatString=function(t){var e="";for(this._ch=this._input.next();this._ch;){if(e+=this._ch,this._ch==="\\")e+=this._input.next();else if(t.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return e};ms.prototype.eatWhitespace=function(t){for(var e=em.test(this._input.peek()),i=0;em.test(this._input.peek());)this._ch=this._input.next(),t&&this._ch===`
`&&(i===0||i<this._options.max_preserve_newlines)&&(i++,this._output.add_new_line(!0));return e};ms.prototype.foundNestedPseudoClass=function(){for(var t=0,e=1,i=this._input.peek(e);i;){if(i==="{")return!0;if(i==="(")t+=1;else if(i===")"){if(t===0)return!1;t-=1}else if(i===";"||i==="}")return!1;e++,i=this._input.peek(e)}return!1};ms.prototype.print_string=function(t){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(t)};ms.prototype.preserveSingleSpace=function(t){t&&(this._output.space_before_token=!0)};ms.prototype.indent=function(){this._indentLevel++};ms.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--};ms.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;e==="auto"&&(e=`
`,t&&dR.test(t||"")&&(e=t.match(dR)[0])),t=t.replace(hV,`
`);var i=t.match(/^[\t ]*/)[0];this._output=new dV(this._options,i),this._input=new pV(t),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var r=0,n=!1,s=!1,a=!1,o=!1,l=!1,u=this._ch,c,f,d;c=this._input.read(gV),f=c!=="",d=u,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),u=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var p=this._input.read(_V),m=fR.get_directives(p);m&&m.ignore==="start"&&(p+=fR.readIgnored(this._input)),this.print_string(p),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(yV)),this.eatWhitespace(!0);else if(this._ch==="@")if(this.preserveSingleSpace(f),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var T=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);T.match(/[ :]$/)&&(T=this.eatString(": ").replace(/\s$/,""),this.print_string(T),this._output.space_before_token=!0),T=T.replace(/\s$/,""),T==="extend"?o=!0:T==="import"&&(l=!0),T in this.NESTED_AT_RULE?(this._nestedLevel+=1,T in this.CONDITIONAL_GROUP_RULE&&(a=!0)):!n&&r===0&&T.indexOf(":")!==-1&&(s=!0,this.indent())}else this._ch==="#"&&this._input.peek()==="{"?(this.preserveSingleSpace(f),this.print_string(this._ch+this.eatString("}"))):this._ch==="{"?(s&&(s=!1,this.outdent()),a?(a=!1,n=this._indentLevel>=this._nestedLevel):n=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&n&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line()):this._ch==="}"?(this.outdent(),this._output.add_new_line(),d==="{"&&this._output.trim(!0),l=!1,o=!1,s&&(this.outdent(),s=!1),this.print_string(this._ch),n=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0)):this._ch===":"?(n||a)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!o&&r===0?(this.print_string(":"),s||(s=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):this._ch==='"'||this._ch==="'"?(this.preserveSingleSpace(f),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):this._ch===";"?r===0?(s&&(this.outdent(),s=!1),o=!1,l=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):this._ch==="("?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),r++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),r&&(r--,this.outdent()))):(this.preserveSingleSpace(f),this.print_string(this._ch),this.eatWhitespace(),r++,this.indent()):this._ch===")"?(r&&(r--,this.outdent()),this.print_string(this._ch)):this._ch===","?(this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&!s&&r===0&&!l?this._output.add_new_line():this._output.space_before_token=!0):(this._ch===">"||this._ch==="+"||this._ch==="~")&&!s&&r===0?this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&em.test(this._ch)&&(this._ch="")):this._ch==="]"?this.print_string(this._ch):this._ch==="["?(this.preserveSingleSpace(f),this.print_string(this._ch)):this._ch==="="?(this.eatWhitespace(),this.print_string("="),em.test(this._ch)&&(this._ch="")):this._ch==="!"&&!this._input.lookBack("\\")?(this.print_string(" "),this.print_string(this._ch)):(this.preserveSingleSpace(f),this.print_string(this._ch));var P=this._output.get_code(e);return P};pR.exports.Beautifier=ms});var hR=Z((noe,my)=>{"use strict";var TV=mR().Beautifier,bV=py().Options;function vV(t,e){var i=new TV(t,e);return i.beautify()}my.exports=vV;my.exports.defaultOptions=function(){return new bV}});var hy=Z((soe,yR)=>{"use strict";var gR=$p().Options;function _R(t){gR.call(this,t,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}_R.prototype=new gR;yR.exports.Options=_R});var yy=Z((aoe,_y)=>{"use strict";var bR=Ku().Tokenizer,gy=Ku().TOKEN,IV=Xp().Directives,PV=ly().TemplatablePattern,NV=Hu().Pattern,Gt={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:gy.START,RAW:gy.RAW,EOF:gy.EOF},TR=new IV(/<\!--/,/-->/),Li=function(t,e){bR.call(this,t,e),this._current_tag_name="";var i=new PV(this._input).read_options(this._options),r=new NV(this._input);if(this.__patterns={word:i.until(/[\n\r\t <]/),single_quote:i.until_after(/'/),double_quote:i.until_after(/"/),attribute:i.until(/[\n\r\t =>]|\/>/),element_name:i.until(/[\n\r\t >\/]/),handlebars_comment:r.starting_with(/{{!--/).until_after(/--}}/),handlebars:r.starting_with(/{{/).until_after(/}}/),handlebars_open:r.until(/[\n\r\t }]/),handlebars_raw_close:r.until(/}}/),comment:r.starting_with(/<!--/).until_after(/-->/),cdata:r.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:r.starting_with(/<!\[/).until_after(/]>/),processing:r.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var n=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=r.matching(n).until_after(n)}};Li.prototype=new bR;Li.prototype._is_comment=function(t){return!1};Li.prototype._is_opening=function(t){return t.type===Gt.TAG_OPEN};Li.prototype._is_closing=function(t,e){return t.type===Gt.TAG_CLOSE&&e&&((t.text===">"||t.text==="/>")&&e.text[0]==="<"||t.text==="}}"&&e.text[0]==="{"&&e.text[1]==="{")};Li.prototype._reset=function(){this._current_tag_name=""};Li.prototype._get_next_token=function(t,e){var i=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(Gt.EOF,""):(i=i||this._read_open_handlebars(r,e),i=i||this._read_attribute(r,t,e),i=i||this._read_close(r,e),i=i||this._read_raw_content(r,t,e),i=i||this._read_content_word(r),i=i||this._read_comment_or_cdata(r),i=i||this._read_processing(r),i=i||this._read_open(r,e),i=i||this._create_token(Gt.UNKNOWN,this._input.next()),i)};Li.prototype._read_comment_or_cdata=function(t){var e=null,i=null,r=null;if(t==="<"){var n=this._input.peek(1);n==="!"&&(i=this.__patterns.comment.read(),i?(r=TR.get_directives(i),r&&r.ignore==="start"&&(i+=TR.readIgnored(this._input))):i=this.__patterns.cdata.read()),i&&(e=this._create_token(Gt.COMMENT,i),e.directives=r)}return e};Li.prototype._read_processing=function(t){var e=null,i=null,r=null;if(t==="<"){var n=this._input.peek(1);(n==="!"||n==="?")&&(i=this.__patterns.conditional_comment.read(),i=i||this.__patterns.processing.read()),i&&(e=this._create_token(Gt.COMMENT,i),e.directives=r)}return e};Li.prototype._read_open=function(t,e){var i=null,r=null;return e||t==="<"&&(i=this._input.next(),this._input.peek()==="/"&&(i+=this._input.next()),i+=this.__patterns.element_name.read(),r=this._create_token(Gt.TAG_OPEN,i)),r};Li.prototype._read_open_handlebars=function(t,e){var i=null,r=null;return e||this._options.indent_handlebars&&t==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(i=this.__patterns.handlebars_comment.read(),i=i||this.__patterns.handlebars.read(),r=this._create_token(Gt.COMMENT,i)):(i=this.__patterns.handlebars_open.read(),r=this._create_token(Gt.TAG_OPEN,i))),r};Li.prototype._read_close=function(t,e){var i=null,r=null;return e&&(e.text[0]==="<"&&(t===">"||t==="/"&&this._input.peek(1)===">")?(i=this._input.next(),t==="/"&&(i+=this._input.next()),r=this._create_token(Gt.TAG_CLOSE,i)):e.text[0]==="{"&&t==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),r=this._create_token(Gt.TAG_CLOSE,"}}"))),r};Li.prototype._read_attribute=function(t,e,i){var r=null,n="";if(i&&i.text[0]==="<")if(t==="=")r=this._create_token(Gt.EQUALS,this._input.next());else if(t==='"'||t==="'"){var s=this._input.next();t==='"'?s+=this.__patterns.double_quote.read():s+=this.__patterns.single_quote.read(),r=this._create_token(Gt.VALUE,s)}else n=this.__patterns.attribute.read(),n&&(e.type===Gt.EQUALS?r=this._create_token(Gt.VALUE,n):r=this._create_token(Gt.ATTRIBUTE,n));return r};Li.prototype._is_content_unformatted=function(t){return this._options.void_elements.indexOf(t)===-1&&(this._options.content_unformatted.indexOf(t)!==-1||this._options.unformatted.indexOf(t)!==-1)};Li.prototype._read_raw_content=function(t,e,i){var r="";if(i&&i.text[0]==="{")r=this.__patterns.handlebars_raw_close.read();else if(e.type===Gt.TAG_CLOSE&&e.opened.text[0]==="<"&&e.text[0]!=="/"){var n=e.opened.text.substr(1).toLowerCase();if(n==="script"||n==="style"){var s=this._read_comment_or_cdata(t);if(s)return s.type=Gt.TEXT,s;r=this._input.readUntil(new RegExp("</"+n+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(n)&&(r=this._input.readUntil(new RegExp("</"+n+"[\\n\\r\\t ]*?>","ig")))}return r?this._create_token(Gt.TEXT,r):null};Li.prototype._read_content_word=function(t){var e="";if(this._options.unformatted_content_delimiter&&t===this._options.unformatted_content_delimiter[0]&&(e=this.__patterns.unformatted_content_delimiter.read()),e||(e=this.__patterns.word.read()),e)return this._create_token(Gt.TEXT,e)};_y.exports.Tokenizer=Li;_y.exports.TOKEN=Gt});var NR=Z((ooe,PR)=>{"use strict";var SV=hy().Options,CV=Yp().Output,RV=yy().Tokenizer,mt=yy().TOKEN,vR=/\r\n|[\r\n]/,AV=/\r\n|[\r\n]/g,Jr=function(t,e){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=t.max_preserve_newlines,this.preserve_newlines=t.preserve_newlines,this._output=new CV(t,e)};Jr.prototype.current_line_has_match=function(t){return this._output.current_line.has_match(t)};Jr.prototype.set_space_before_token=function(t,e){this._output.space_before_token=t,this._output.non_breaking_space=e};Jr.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()};Jr.prototype.add_raw_token=function(t){this._output.add_raw_token(t)};Jr.prototype.print_preserved_newlines=function(t){var e=0;t.type!==mt.TEXT&&t.previous.type!==mt.TEXT&&(e=t.newlines?1:0),this.preserve_newlines&&(e=t.newlines<this.max_preserve_newlines+1?t.newlines:this.max_preserve_newlines+1);for(var i=0;i<e;i++)this.print_newline(i>0);return e!==0};Jr.prototype.traverse_whitespace=function(t){return t.whitespace_before||t.newlines?(this.print_preserved_newlines(t)||(this._output.space_before_token=!0),!0):!1};Jr.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped};Jr.prototype.print_newline=function(t){this._output.add_new_line(t)};Jr.prototype.print_token=function(t){t.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(t.text))};Jr.prototype.indent=function(){this.indent_level++};Jr.prototype.get_full_indent=function(t){return t=this.indent_level+(t||0),t<1?"":this._output.get_indent_string(t)};var EV=function(t){for(var e=null,i=t.next;i.type!==mt.EOF&&t.closed!==i;){if(i.type===mt.ATTRIBUTE&&i.text==="type"){i.next&&i.next.type===mt.EQUALS&&i.next.next&&i.next.next.type===mt.VALUE&&(e=i.next.next.text);break}i=i.next}return e},wV=function(t,e){var i=null,r=null;return e.closed?(t==="script"?i="text/javascript":t==="style"&&(i="text/css"),i=EV(e)||i,i.search("text/css")>-1?r="css":i.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?r="javascript":i.search(/(text|application|dojo)\/(x-)?(html)/)>-1?r="html":i.search(/test\/null/)>-1&&(r="null"),r):null};function ec(t,e){return e.indexOf(t)!==-1}function xV(t,e,i){this.parent=t||null,this.tag=e?e.tag_name:"",this.indent_level=i||0,this.parser_token=e||null}function no(t){this._printer=t,this._current_frame=null}no.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null};no.prototype.record_tag=function(t){var e=new xV(this._current_frame,t,this._printer.indent_level);this._current_frame=e};no.prototype._try_pop_frame=function(t){var e=null;return t&&(e=t.parser_token,this._printer.indent_level=t.indent_level,this._current_frame=t.parent),e};no.prototype._get_frame=function(t,e){for(var i=this._current_frame;i&&t.indexOf(i.tag)===-1;){if(e&&e.indexOf(i.tag)!==-1){i=null;break}i=i.parent}return i};no.prototype.try_pop=function(t,e){var i=this._get_frame([t],e);return this._try_pop_frame(i)};no.prototype.indent_to_tag=function(t){var e=this._get_frame(t);e&&(this._printer.indent_level=e.indent_level)};function Qr(t,e,i,r){this._source_text=t||"",e=e||{},this._js_beautify=i,this._css_beautify=r,this._tag_stack=null;var n=new SV(e,"html");this._options=n,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}Qr.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;this._options.eol==="auto"&&(e=`
`,t&&vR.test(t)&&(e=t.match(vR)[0])),t=t.replace(AV,`
`);var i=t.match(/^[\t ]*/)[0],r={text:"",type:""},n=new IR,s=new Jr(this._options,i),a=new RV(t,this._options).tokenize();this._tag_stack=new no(s);for(var o=null,l=a.next();l.type!==mt.EOF;)l.type===mt.TAG_OPEN||l.type===mt.COMMENT?(o=this._handle_tag_open(s,l,n,r),n=o):l.type===mt.ATTRIBUTE||l.type===mt.EQUALS||l.type===mt.VALUE||l.type===mt.TEXT&&!n.tag_complete?o=this._handle_inside_tag(s,l,n,a):l.type===mt.TAG_CLOSE?o=this._handle_tag_close(s,l,n):l.type===mt.TEXT?o=this._handle_text(s,l,n):s.add_raw_token(l),r=o,l=a.next();var u=s._output.get_code(e);return u};Qr.prototype._handle_tag_close=function(t,e,i){var r={text:e.text,type:e.type};return t.alignment_size=0,i.tag_complete=!0,t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),i.is_unformatted?t.add_raw_token(e):(i.tag_start_char==="<"&&(t.set_space_before_token(e.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&i.has_wrapped_attrs&&t.print_newline(!1)),t.print_token(e)),i.indent_content&&!(i.is_unformatted||i.is_content_unformatted)&&(t.indent(),i.indent_content=!1),!i.is_inline_element&&!(i.is_unformatted||i.is_content_unformatted)&&t.set_wrap_point(),r};Qr.prototype._handle_inside_tag=function(t,e,i,r){var n=i.has_wrapped_attrs,s={text:e.text,type:e.type};if(t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),i.is_unformatted)t.add_raw_token(e);else if(i.tag_start_char==="{"&&e.type===mt.TEXT)t.print_preserved_newlines(e)?(e.newlines=0,t.add_raw_token(e)):t.print_token(e);else{if(e.type===mt.ATTRIBUTE?(t.set_space_before_token(!0),i.attr_count+=1):(e.type===mt.EQUALS||e.type===mt.VALUE&&e.previous.type===mt.EQUALS)&&t.set_space_before_token(!1),e.type===mt.ATTRIBUTE&&i.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(t.traverse_whitespace(e),n=n||e.newlines!==0),this._is_wrap_attributes_force)){var a=i.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&i.attr_count===1){var o=!0,l=0,u;do{if(u=r.peek(l),u.type===mt.ATTRIBUTE){o=!1;break}l+=1}while(l<4&&u.type!==mt.EOF&&u.type!==mt.TAG_CLOSE);a=!o}a&&(t.print_newline(!1),n=!0)}t.print_token(e),n=n||t.previous_token_wrapped(),i.has_wrapped_attrs=n}return s};Qr.prototype._handle_text=function(t,e,i){var r={text:e.text,type:"TK_CONTENT"};return i.custom_beautifier_name?this._print_custom_beatifier_text(t,e,i):i.is_unformatted||i.is_content_unformatted?t.add_raw_token(e):(t.traverse_whitespace(e),t.print_token(e)),r};Qr.prototype._print_custom_beatifier_text=function(t,e,i){var r=this;if(e.text!==""){var n=e.text,s,a=1,o="",l="";i.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?s=this._js_beautify:i.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?s=this._css_beautify:i.custom_beautifier_name==="html"&&(s=function(m,T){var P=new Qr(m,T,r._js_beautify,r._css_beautify);return P.beautify()}),this._options.indent_scripts==="keep"?a=0:this._options.indent_scripts==="separate"&&(a=-t.indent_level);var u=t.get_full_indent(a);if(n=n.replace(/\n[ \t]*$/,""),i.custom_beautifier_name!=="html"&&n[0]==="<"&&n.match(/^(<!--|<!\[CDATA\[)/)){var c=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(n);if(!c){t.add_raw_token(e);return}o=u+c[1]+`
`,n=c[4],c[5]&&(l=u+c[5]),n=n.replace(/\n[ \t]*$/,""),(c[2]||c[3].indexOf(`
`)!==-1)&&(c=c[3].match(/[ \t]+$/),c&&(e.whitespace_before=c[0]))}if(n)if(s){var f=function(){this.eol=`
`};f.prototype=this._options.raw_options;var d=new f;n=s(u+n,d)}else{var p=e.whitespace_before;p&&(n=n.replace(new RegExp(`
(`+p+")?","g"),`
`)),n=u+n.replace(/\n/g,`
`+u)}o&&(n?n=o+n+`
`+l:n=o+l),t.print_newline(!1),n&&(e.text=n,e.whitespace_before="",e.newlines=0,t.add_raw_token(e),t.print_newline(!0))}};Qr.prototype._handle_tag_open=function(t,e,i,r){var n=this._get_tag_open_token(e);return(i.is_unformatted||i.is_content_unformatted)&&!i.is_empty_element&&e.type===mt.TAG_OPEN&&e.text.indexOf("</")===0?(t.add_raw_token(e),n.start_tag_token=this._tag_stack.try_pop(n.tag_name)):(t.traverse_whitespace(e),this._set_tag_position(t,e,n,i,r),n.is_inline_element||t.set_wrap_point(),t.print_token(e)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(n.alignment_size=e.text.length+1),!n.tag_complete&&!n.is_unformatted&&(t.alignment_size=n.alignment_size),n};var IR=function(t,e){if(this.parent=t||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!e)this.tag_complete=!0;else{var i;this.tag_start_char=e.text[0],this.text=e.text,this.tag_start_char==="<"?(i=e.text.match(/^<([^\s>]*)/),this.tag_check=i?i[1]:""):(i=e.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=i?i[1]:"",e.text==="{{#>"&&this.tag_check===">"&&e.next!==null&&(this.tag_check=e.next.text)),this.tag_check=this.tag_check.toLowerCase(),e.type===mt.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||e.closed&&e.closed.text==="/>",this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))}};Qr.prototype._get_tag_open_token=function(t){var e=new IR(this._tag_stack.get_parser_token(),t);return e.alignment_size=this._options.wrap_attributes_indent_size,e.is_end_tag=e.is_end_tag||ec(e.tag_check,this._options.void_elements),e.is_empty_element=e.tag_complete||e.is_start_tag&&e.is_end_tag,e.is_unformatted=!e.tag_complete&&ec(e.tag_check,this._options.unformatted),e.is_content_unformatted=!e.is_empty_element&&ec(e.tag_check,this._options.content_unformatted),e.is_inline_element=ec(e.tag_name,this._options.inline)||e.tag_start_char==="{",e};Qr.prototype._set_tag_position=function(t,e,i,r,n){if(i.is_empty_element||(i.is_end_tag?i.start_tag_token=this._tag_stack.try_pop(i.tag_name):(this._do_optional_end_element(i)&&(i.is_inline_element||t.print_newline(!1)),this._tag_stack.record_tag(i),(i.tag_name==="script"||i.tag_name==="style")&&!(i.is_unformatted||i.is_content_unformatted)&&(i.custom_beautifier_name=wV(i.tag_check,e)))),ec(i.tag_check,this._options.extra_liners)&&(t.print_newline(!1),t._output.just_added_blankline()||t.print_newline(!0)),i.is_empty_element){if(i.tag_start_char==="{"&&i.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),i.indent_content=!0;var s=t.current_line_has_match(/{{#if/);s||t.print_newline(!1)}i.tag_name==="!--"&&n.type===mt.TAG_CLOSE&&r.is_end_tag&&i.text.indexOf(`
`)===-1||(i.is_inline_element||i.is_unformatted||t.print_newline(!1),this._calcluate_parent_multiline(t,i))}else if(i.is_end_tag){var a=!1;a=i.start_tag_token&&i.start_tag_token.multiline_content,a=a||!i.is_inline_element&&!(r.is_inline_element||r.is_unformatted)&&!(n.type===mt.TAG_CLOSE&&i.start_tag_token===r)&&n.type!=="TK_CONTENT",(i.is_content_unformatted||i.is_unformatted)&&(a=!1),a&&t.print_newline(!1)}else i.indent_content=!i.custom_beautifier_name,i.tag_start_char==="<"&&(i.tag_name==="html"?i.indent_content=this._options.indent_inner_html:i.tag_name==="head"?i.indent_content=this._options.indent_head_inner_html:i.tag_name==="body"&&(i.indent_content=this._options.indent_body_inner_html)),!(i.is_inline_element||i.is_unformatted)&&(n.type!=="TK_CONTENT"||i.is_content_unformatted)&&t.print_newline(!1),this._calcluate_parent_multiline(t,i)};Qr.prototype._calcluate_parent_multiline=function(t,e){e.parent&&t._output.just_added_newline()&&!((e.is_inline_element||e.is_unformatted)&&e.parent.is_inline_element)&&(e.parent.multiline_content=!0)};var DV=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],FV=["a","audio","del","ins","map","noscript","video"];Qr.prototype._do_optional_end_element=function(t){var e=null;if(!(t.is_empty_element||!t.is_start_tag||!t.parent)){if(t.tag_name==="body")e=e||this._tag_stack.try_pop("head");else if(t.tag_name==="li")e=e||this._tag_stack.try_pop("li",["ol","ul"]);else if(t.tag_name==="dd"||t.tag_name==="dt")e=e||this._tag_stack.try_pop("dt",["dl"]),e=e||this._tag_stack.try_pop("dd",["dl"]);else if(t.parent.tag_name==="p"&&DV.indexOf(t.tag_name)!==-1){var i=t.parent.parent;(!i||FV.indexOf(i.tag_name)===-1)&&(e=e||this._tag_stack.try_pop("p"))}else t.tag_name==="rp"||t.tag_name==="rt"?(e=e||this._tag_stack.try_pop("rt",["ruby","rtc"]),e=e||this._tag_stack.try_pop("rp",["ruby","rtc"])):t.tag_name==="optgroup"?e=e||this._tag_stack.try_pop("optgroup",["select"]):t.tag_name==="option"?e=e||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):t.tag_name==="colgroup"?e=e||this._tag_stack.try_pop("caption",["table"]):t.tag_name==="thead"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"])):t.tag_name==="tbody"||t.tag_name==="tfoot"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("thead",["table"]),e=e||this._tag_stack.try_pop("tbody",["table"])):t.tag_name==="tr"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(t.tag_name==="th"||t.tag_name==="td")&&(e=e||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),e=e||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return t.parent=this._tag_stack.get_parser_token(),e}};PR.exports.Beautifier=Qr});var SR=Z((loe,Ty)=>{"use strict";var OV=NR().Beautifier,LV=hy().Options;function kV(t,e,i,r){var n=new OV(t,e,i,r);return n.beautify()}Ty.exports=kV;Ty.exports.defaultOptions=function(){return new LV}});var wR=Z((uoe,tm)=>{"use strict";var CR=oR(),RR=hR(),AR=SR();function ER(t,e,i,r){return i=i||CR,r=r||RR,AR(t,e,i,r)}ER.defaultOptions=AR.defaultOptions;tm.exports.js=CR;tm.exports.css=RR;tm.exports.html=ER});var FR=Z((coe,DR)=>{"use strict";function xR(t,e,i){var r=function(n,s){return t.js_beautify(n,s)};return r.js=t.js_beautify,r.css=e.css_beautify,r.html=i.html_beautify,r.js_beautify=t.js_beautify,r.css_beautify=e.css_beautify,r.html_beautify=i.html_beautify,r}typeof define=="function"&&define.amd?define(["./lib/beautify","./lib/beautify-css","./lib/beautify-html"],function(t,e,i){return xR(t,e,i)}):function(t){var e=wR();e.js_beautify=e.js,e.css_beautify=e.css,e.html_beautify=e.html,t.exports=xR(e,e,e)}(DR)});var bA=Z(TA=>{TA.debounce=function(t,e,i){var r,n,s;e===void 0&&(e=50),i===void 0&&(i={});var a=(r=i.isImmediate)!=null&&r,o=(n=i.callback)!=null&&n,l=i.maxWait,u=Date.now(),c=[];function f(){if(l!==void 0){var p=Date.now()-u;if(p+e>=l)return l-p}return e}var d=function(){var p=[].slice.call(arguments),m=this;return new Promise(function(T,P){var _=a&&s===void 0;if(s!==void 0&&clearTimeout(s),s=setTimeout(function(){if(s=void 0,u=Date.now(),!a){var y=t.apply(m,p);o&&o(y),c.forEach(function(E){return(0,E.resolve)(y)}),c=[]}},f()),_){var g=t.apply(m,p);return o&&o(g),T(g)}c.push({resolve:T,reject:P})})};return d.cancel=function(p){s!==void 0&&clearTimeout(s),c.forEach(function(m){return(0,m.reject)(p)}),c=[]},d}});var mB={};MA(mB,{getAntlersSettings:()=>Sr,globalSettings:()=>za,requestEdits:()=>Y_,sendProjectDetails:()=>Ay});module.exports=qA(mB);var CA=ee(require("fs")),RA=ee(Wy()),ai=ee(Pb());var Ss=class{constructor(){this.currentStructure=null;this.isReloading=!1;this.isDirtyState=!0;this.structuredProject=null}setStructuredProject(e){this.structuredProject=e}hasStructuredBlueprints(){return this.structuredProject!=null}getAllStructuredBlueprints(){return this.structuredProject==null?[]:this.structuredProject.assets.concat(this.structuredProject.collections).concat(this.structuredProject.forms).concat(this.structuredProject.general).concat(this.structuredProject.navigations).concat(this.structuredProject.taxonomies)}getStructuredProject(){return this.structuredProject}setActiveProject(e){this.currentStructure=e}getStructure(){return this.currentStructure}hasStructure(){return this.currentStructure!=null}setDirtyState(e){this.isDirtyState=e}reloadDetails(){this.isReloading||this.isDirtyState!=!1&&this.currentStructure!=null&&(this.isReloading=!0,this.currentStructure=this.currentStructure.reloadDetails(),this.isReloading=!1,this.isDirtyState=!1)}};Ss.instance=null;(typeof Ss.instance=="undefined"||Ss.instance==null)&&(Ss.instance=new Ss);var fe=Ss;var ln=class{static registerDetails(e,i){this.documentDetails.set(e,i)}static hasDetails(e){return this.documentDetails.has(e)}};ln.documentDetails=new Map;var Gx={documentDescription:"",documentName:"",collectionInjections:[],blueprints:[],variableHelper:null,injectsParameters:[],varReferenceNames:new Map,formatterEnabled:!0},Nb="@name",Sb="@description",Cb="@desc",Rb="@entry",Ab="@collection",Eb="@blueprint",wb="@var",xb="@set",Db="@param",Fb="@param*",Wx="@front",Ob="@format";function nu(t,e){if(e==null||e.isComment==!1)return Gx;let i=e.content.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`).map(m=>m.trim()),r=[],n=new Map,s="",a="",o=[],l=[],u="",c=null,f=!1,d=!0;for(let m=0;m<i.length;m++){let T=i[m];if(T.startsWith(Rb))o=o.concat(T.slice(Rb.length).split(",").map(P=>P.trim())),f=!1;else if(T.startsWith(Ab))o=o.concat(T.slice(Ab.length).split(",").map(P=>P.trim())),f=!1;else if(T.startsWith(Eb))l=l.concat(T.slice(Eb.length).split(",").map(P=>P.trim())),f=!1;else if(T.startsWith(Nb))s=T.slice(Nb.length).trim(),f=!1;else if(T.startsWith(Sb))a=T.slice(Sb.length).trim(),f=!0;else if(T.startsWith(Cb))a=T.slice(Cb.length).trim(),f=!0;else if(T.startsWith(wb))u=T.slice(wb.length).trim(),f=!1;else if(T.startsWith(xb))u="@page "+T.slice(xb.length).trim(),f=!1;else if(T.startsWith(Db)){let P=Db.length,_=!1;T.startsWith(Fb)&&(P=Fb.length,_=!0);let y=T.slice(P).trim().split(" ");if(y.length>0)if(y[0]==Wx&&y.length>=4){y.shift();let E=y.shift(),L=y.shift(),C=y.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:C,expectsTypes:["*"],isDynamic:!0,isRequired:_,name:L}),n.set(L,E)}else{let E=y.shift(),L=y.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:L,expectsTypes:["*"],isDynamic:!0,isRequired:_,name:E})}}else T.startsWith(Ob)?T.slice(Ob.length).trim().toLowerCase()=="true"?d=!0:d=!1:f&&(a+=`
`+T.trim())}if(u.length>0){let m=u.split(" ");if(m.length==2){let T=m[0],P=m[1];if(P.includes(".")){let _=P.split(".");if(_.length==2){let g=_[0],y=_[1];c={variableName:T,collectionName:g,fieldHandle:y,setHandle:""}}else if(_.length==3){let g=_[0],y=_[1],E=_[2];c={variableName:T,collectionName:g,fieldHandle:y,setHandle:E}}}else c={variableName:T,setHandle:"",collectionName:"",fieldHandle:P}}}if(t.trim().length>0&&fe.instance!=null&&fe.instance.hasStructure()){let m=fe.instance.getStructure().findView(t);m!=null&&(m.injectsParameters=r,m.varReferenceNames=n)}let p={documentName:s,documentDescription:a,collectionInjections:o,blueprints:l,variableHelper:c,injectsParameters:r,varReferenceNames:n,formatterEnabled:d};return t.trim().length>0&&e.startPosition!=null&&(e.startPosition.line<=1||e.index<=1)&&ln.registerDetails(t,p),p}var Hx=["markdown","text","textarea","slug","button_group","code","color","date","form","link","structures","select","taxonomies","terms","template","time","video","users","user_groups","user_roles"],Yx=["array","assets","bard","blueprints","collections","entries","list","grid","replicator","structures_multiple","sites","select_multiple","form_multiple","table","tags","terms_multiple","taxonomies_multiple","users_multiple","checkboxes","select_multiple","yaml","user_groups_multiple","user_roles_multiple"],Kx=["integer","range"],$x=["toggle"];function Nf(t){return Hx.includes(t)?"string":Yx.includes(t)?"array":Kx.includes(t)?"number":$x.includes(t)?"boolean":t}var Cs=class{constructor(){this.partialReferences=new Map;this.cacheReferences=new Map;this.removesPageScope=new Map}clearAllReferences(e){this.clearPartialReferences(e),this.clearCacheReferences(e)}registerPartialReferences(e,i){this.partialReferences.has(e)==!1&&this.partialReferences.set(e,[]),this.partialReferences.set(e,i)}registerCacheReferences(e,i){this.cacheReferences.has(e)==!1&&this.cacheReferences.set(e,[]),this.cacheReferences.set(e,i)}clearPartialReferences(e){this.partialReferences.has(e)&&this.partialReferences.set(e,[])}clearRemovesPageScope(e){this.removesPageScope.has(e)&&this.removesPageScope.delete(e)}pageScopeDisabled(e){return this.removesPageScope.has(e)}clearCacheReferences(e){this.cacheReferences.has(e)&&this.cacheReferences.set(e,[])}setRemovesPageScope(e,i){this.removesPageScope.set(e,i)}getPartialReferences(e){return this.partialReferences.has(e)==!1?[]:this.partialReferences.get(e)}getCacheReferencnes(e){return this.cacheReferences.has(e)==!1?[]:this.cacheReferences.get(e)}hasPartialReferences(e){return this.partialReferences.has(e)}hasCacheReferences(e){return this.cacheReferences.has(e)}};Cs.instance=null;(typeof Cs.instance=="undefined"||Cs.instance==null)&&(Cs.instance=new Cs);var un=Cs;var Kt=class{constructor(){this.index=-1;this.offset=0;this.line=0;this.char=0}shiftRight(e){let i=new Kt;return i.offset=this.offset+e,i.index=this.index+e,i.line=this.line,i.char=this.char+e,i}isBefore(e){return e==null?!1:e.line>this.line||e.line==this.line&&this.offset<e.offset}isWithin(e,i,r=0){return e==null||i==null?!1:this.index>=e.index&&this.index<=i.index+r}isWithinRange(e){return e==null?!1:e.start!=null&&e.end!=null?this.isWithin(e.start,e.end):!1}};var Jh=class{constructor(){this.start=null;this.end=null}},No=Jh;No.Empty=new Jh;function Lb(t,e){let i=e.copy(),r=e.copy();return r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"group",introducedBy:t}),r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"key",introducedBy:t}),r.addScopeList("items",i),e.addScopeList("groups",r),e}function kb(t,e){let i=e.copy();return e.addScopeList("items",i),e}var Mb=[{name:"key_by",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Re-keys the array or collection using the provided field name.",docLink:null,parameters:[{name:"field",description:"The field to re-key the array or collection by."}],canBeParameter:!0,isDeprecated:!1},{name:"as",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Alias the array variable with a key.",docLink:"https://statamic.dev/modifiers/as",parameters:[{name:"alias",description:"The alias name."}],canBeParameter:!0,isDeprecated:!1},{name:"ampersand_list",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Converts the array into a comma delimited string, with an ampersand before the last item.",docLink:"https://statamic.dev/modifiers/ampersand_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"collapse",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Collapses an array of arrays into a single, flat, array.",docLink:"https://statamic.dev/modifiers/collapse",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"contains",acceptsType:["array","string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the value contains another value.",docLink:"https://statamic.dev/modifiers/contains",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1,isDeprecated:!1},{name:"count",acceptsType:["array"],returnsType:["number"],forFieldType:[],description:"Returns the number of items in the array.",docLink:"https://statamic.dev/modifiers/count",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"dl",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns an associative array into an HTML definition list.",docLink:"https://statamic.dev/modifiers/dl",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],forFieldType:[],description:"Breaks a string into an array on a given delimiter.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The delimiter to break the string apart on."}],canBeParameter:!0,isDeprecated:!1},{name:"flatten",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Flattens a multi-dimensional array.",docLink:"https://statamic.dev/modifiers/flatten",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"flip",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Swaps the array keys with their values.",docLink:"https://statamic.dev/modifiers/flip",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"group_by",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Groups the array items by the given key.",docLink:"https://statamic.dev/modifiers/group_by",parameters:[{name:"key",description:"The key to group by."}],canBeParameter:!0,augmentScope:Lb,isDeprecated:!1},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],forFieldType:[],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1,isDeprecated:!1},{name:"is_empty",acceptsType:["array"],returnsType:["boolean"],forFieldType:[],description:"Tests if the array is empty.",docLink:"https://statamic.dev/modifiers/is_empty",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"join",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turn an array into a string by gluing together all the data.",docLink:"https://statamic.dev/modifiers/join",parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0,isDeprecated:!1},{name:"joinplode",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turn an array into a string by gluing together all the data.",docLink:null,parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0,isDeprecated:!1},{name:"limit",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Limits the number of items returned in the array",docLink:"https://statamic.dev/modifiers/limit",parameters:[{name:"count",description:"The maximum number of items to return."}],canBeParameter:!0,isDeprecated:!1},{name:"list",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Converts the array into a comma-separated string.",docLink:"https://statamic.dev/modifiers/list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"offset",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Offsets the items returned in the array.",docLink:"https://statamic.dev/modifiers/offset",parameters:[{name:"offset",description:"The one-based index to start retrieving items."}],canBeParameter:!0,isDeprecated:!1},{name:"ol",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns the array into an HTML ordered list.",docLink:"https://statamic.dev/modifiers/ol",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"option_list",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/option_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"pluck",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Plucks a value from a collection of items.",parameters:[{name:"value",description:"The value to pluck from the array or collection."}],canBeParameter:!0,docLink:null,isDeprecated:!1},{name:"pad",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Pads the array to a specified length with the given value.",docLink:"https://statamic.dev/modifiers/pad",parameters:[{name:"length",description:"The desired length of the array."},{name:"value",description:"The value to pad the array with."}],canBeParameter:!0,isDeprecated:!1},{name:"piped",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/piped",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"sentence_list",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:'Turns the array into a comma-delimited list, with the word "and" before the last item.',docLink:"https://statamic.dev/modifiers/sentence_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"shuffle",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Randomizes the order of array elements.",docLink:"https://statamic.dev/modifiers/shuffle",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"sort",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Sorts the array by a key in ascending or descending order.",docLink:"https://statamic.dev/modifiers/sort",parameters:[{name:"key",description:"The key to sort by."},{name:"order",description:"The sort direction. `asc` or `desc`."}],canBeParameter:!0,isDeprecated:!1},{name:"sum",acceptsType:["array"],returnsType:["number"],forFieldType:[],description:"Returns the sum of all items in the array.",docLink:"https://statamic.dev/modifiers/sum",parameters:[{name:"key",description:"The value to sum."}],canBeParameter:!1,isDeprecated:!1},{name:"ul",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns the array into an HTML unordered list.",docLink:"https://statamic.dev/modifiers/ul",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"unique",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Returns all unique items in the array.",docLink:"https://statamic.dev/modifiers/unique",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"where",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Filters the array by a given key and value.",docLink:"https://statamic.dev/modifiers/where",parameters:[{name:"key",description:"The property to filter by."},{name:"value",description:"The value to compare to."}],canBeParameter:!0,isDeprecated:!1},{name:"split",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Splits an array into smaller arrays with the provided size.",canBeParameter:!0,docLink:"",parameters:[{name:"size",description:"The size of each new array"}],augmentScope:kb,isDeprecated:!1},{name:"compact",acceptsType:["string"],returnsType:["array"],forFieldType:[],description:"Accepts a comma-delimited list of variable names and return an array with their values.",canBeParameter:!0,docLink:"",parameters:[{name:"variables",description:"A comma-delimited list of variable names."}],isDeprecated:!1}];var qb=[{name:"background_position",acceptsType:["string"],returnsType:["string"],forFieldType:["assets"],description:"Converts an asset focal point into a background-position CSS property.",docLink:"https://statamic.dev/modifiers/background_position",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"image",acceptsType:["string"],returnsType:["string"],forFieldType:["assets"],description:"Generates an HTML image element with the variable's value as the src.",docLink:"https://statamic.dev/modifiers/image",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"output",acceptsType:["string"],returnsType:["string"],forFieldType:["assets"],description:"Returns the string output of an Asset file's contents.",docLink:"https://statamic.dev/modifiers/output",parameters:[],canBeParameter:!1,isDeprecated:!1}];var Vb=[{name:"contains_all",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_all",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"contains_any",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_any",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"ends_with",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if a string ends with another string.",docLink:"https://statamic.dev/modifiers/ends_with",parameters:[{name:"value",description:"The value to check against."}],canBeParameter:!1,isDeprecated:!1},{name:"has_lower_case",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains any lowercase characters.",docLink:"https://statamic.dev/modifiers/has_lower_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"has_upper_case",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains any uppercase characters.",docLink:"https://statamic.dev/modifiers/has_upper_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],forFieldType:[],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"is_after",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is after another date.",docLink:"https://statamic.dev/modifiers/is_after",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1,isDeprecated:!1},{name:"is_alphanumeric",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains only alphanumeric characters.",docLink:"https://statamic.dev/modifiers/is_alphanumeric",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_before",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if a date is before another date.",docLink:"https://statamic.dev/modifiers/is_before",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1,isDeprecated:!1},{name:"is_between",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if a date is between two other dates.",docLink:"https://statamic.dev/modifiers/is_between",parameters:[{name:"start_date",description:"The start date to compare."},{name:"end_date",description:"The end date to compare."}],canBeParameter:!1,isDeprecated:!1},{name:"is_blank",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains only whitespace characters.",docLink:"https://statamic.dev/modifiers/is_blank",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],forFieldType:["text","textarea"],description:"Tests if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_future",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is in the future.",docLink:"https://statamic.dev/modifiers/is_future",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_json",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string is valid JSON.",docLink:"https://statamic.dev/modifiers/is_json",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_leap_year",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is a leap year.",docLink:"https://statamic.dev/modifiers/is_leap_year",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_numeric",acceptsType:["string","number"],returnsType:["boolean"],forFieldType:[],description:"Tests if the value is a number or numeric string.",docLink:"https://statamic.dev/modifiers/is_numeric",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_past",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is in the past.",docLink:"https://statamic.dev/modifiers/is_past",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_today",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is today.",docLink:"https://statamic.dev/modifiers/is_today",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_uppercase",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains only uppercase characters.",docLink:"https://statamic.dev/modifiers/is_uppercase",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_weekday",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is a week day.",docLink:"https://statamic.dev/modifiers/is_weekday",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_weekend",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is a weekend day.",docLink:"https://statamic.dev/modifiers/is_weekend",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_yesterday",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is yesterday.",docLink:"https://statamic.dev/modifiers/is_yesterday",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_tomorrow",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is tomorrow.",docLink:null,parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"starts_with",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if a value starts with the provided value.",docLink:"https://statamic.dev/modifiers/starts_with",parameters:[{name:"value",description:"The value to test for."}],canBeParameter:!1,isDeprecated:!1}];var Bb=[{name:"days_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of days since a given date.",docLink:"https://statamic.dev/modifiers/days_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"format_translated",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Returns a formatted Carbon datetime/string.",docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!1},{name:"format",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Formats the date using the provided format using PHP's [date variables](https://www.php.net/date).",hoverDescription:`Formats the date using the provided format using PHP's [date variables](https://www.php.net/date).

## Formatting Options

See [PHP: DateTimeInterface::format](https://www.php.net/manual/en/datetime.format.php) for all available options.

| Format Character | Description | Example |
|:----|----|---|
| Day | --- | --- |
| d | Day of the month, 2 digits with leading zeros | 01 to 31 |
| D |A textual representation of a day | Mon - Sun |
| j | Day of the month, without leading zeros | 1 - 31 |
| l | The day of the week | Sunday - Saturday |
| N | ISO 8601 representation of the day of the week | 1 (Monday) - 7 (Sunday) |
| S | English ordinal suffix for the day | st, nd, rt, or th |
| w | Numeric day of the week | 0 (Sunday) - 6 (Saturday) |
| z | Day of the year, starting at 0 | 0 - 365 |
| Week | --- | --- |
| W | ISO 8601 week number of the year, starting on Monday | 42 |
| Month | --- | --- |
| F | Text representation of the month | January - December |
| m | Numeric representation of the month, with leading zeros | 01 - 12 |
| M | A short text representation of the month | Jan - Dec |
| n | Numeric representation of the month | 1 - 12 |
| t | Number of days in the month | 28 - 31 |
| Year | --- | --- |
| L | Indicates if it's a leap year | 1 if true, 0 otherwise |
| Y | Four digit representation of the year | 2022 |
| y | Two digit representation of the year | 22 |
| Time | --- | --- |
| a | Lowercase Anti meridiem and Post meridiem | am or pm |
| A | Uppercase Anti meridiem and Post meridiem | AM or PM |
| g | 12-hour hour format without leading zeros | 1 - 12 |
| G | 24-hour hour format without leading zeros | 0 - 23 |
| h | 12-hour hour format with leading zeros | 01 - 12 |
| H | 24-hour hour format with leading zeros | 00 - 23 |
| i | Minutes with leading zeros | 00 - 59 |
| s | Seconds with leading zeros | 00 - 59 |
| Timezone | --- | --- |
| e | Timezone identifier | UTC, GMT |
| I | Indicates if date is in daylight saving time | 1 if true, 0 otherwise |
| T | Timezone appreviation | EST, MDT, +05 |
`,docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!1},{name:"format_localized",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Formats the date using server's locale, using PHP's [strftime format variables](https://www.php.net/strftime).",docLink:"https://statamic.dev/modifiers/format_localized",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!0,getDeprecatedMessage(){return"The format_localized modifier is deprecated. Alternatives, such as the iso_format modifier, should be used instead."}},{name:"hours_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of hours since the date.",docLink:"https://statamic.dev/modifiers/hours_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"iso_format",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Formats the date using an ISO format.",docLink:"https://statamic.dev/modifiers/iso_format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!1,isDeprecated:!1},{name:"minutes_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of minutes since the date.",docLink:"https://statamic.dev/modifiers/minutes_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"modify_date",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Alters the date by incrementing or decrementing it in a format accepted by PHP's [strtotime](https://www.php.net/strtotime) function.",docLink:"https://statamic.dev/modifiers/modify_date",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"months_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of months since the date.",docLink:"https://statamic.dev/modifiers/months_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"relative",acceptsType:["string","date"],returnsType:["string"],forFieldType:["date"],description:"Returns a human readable date difference.",docLink:"https://statamic.dev/modifiers/relative",parameters:[{name:"add_ago",description:"Whether to add the relative suffix words at the end of the string."}],canBeParameter:!1,isDeprecated:!1},{name:"seconds_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of seconds since the date.",docLink:"https://statamic.dev/modifiers/seconds_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"timezone",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Applies a timezone to the date.",docLink:"https://statamic.dev/modifiers/timezone",parameters:[{name:"timezone",description:"The timezone to apply."}],canBeParameter:!1,isDeprecated:!1},{name:"weeks_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of weeks since the date.",docLink:"https://statamic.dev/modifiers/weeks_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"years_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of years since the date.",docLink:"https://statamic.dev/modifiers/years_ago",parameters:[],canBeParameter:!1,isDeprecated:!1}];var jb=[{name:"chunk",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Breaks the array or collection into smaller arrays of a given size.",docLink:"https://statamic.dev/modifiers/chunk",parameters:[{name:"chunk_size",description:"The maximum length of each new chunk."}],canBeParameter:!0,isDeprecated:!1},{name:"favicon",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Generates a favicon HTML meta tag for the given value.",docLink:"https://statamic.dev/modifiers/favicon",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"first",acceptsType:["string","array"],returnsType:["*"],forFieldType:[],description:"Returns the specified number of characters/items from the beginning of the string/array.",docLink:"https://statamic.dev/modifiers/first",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0,isDeprecated:!1},{name:"last",acceptsType:["string","array"],returnsType:["*"],forFieldType:[],description:"Returns the specified number of characters/items from the end of the string/array.",docLink:"https://statamic.dev/modifiers/last",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0,isDeprecated:!1},{name:"link",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Generates an HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/link",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"mailto",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Generates a mailto HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/mailto",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"markdown",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Parses the value as Markdown and returns the HTML.",docLink:"https://statamic.dev/modifiers/markdown",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"nl2br",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces line breaks with HTML `<br>` tags.",docLink:"https://statamic.dev/modifiers/nl2br",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"obfuscate",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Modifies the input string by replacing it with special characters, making it harder for bots but remains readable to site visitors.",docLink:"https://statamic.dev/modifiers/obfuscate",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"obfuscate_email",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Obfuscates an email address with special HTML characters.",docLink:"https://statamic.dev/modifiers/obfuscate_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"strip_tags",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Removes HTML tags from the string.",docLink:"https://statamic.dev/modifiers/strip_tags",parameters:[{name:"tags",description:"The HTML tag(s) to remove from the string."}],canBeParameter:!1,isDeprecated:!1},{name:"table",acceptsType:["array"],returnsType:["string"],forFieldType:["table"],description:"Turns a [Table FieldType](https://statamic.dev/fieldtypes/table) array into an HTML table.",docLink:"https://statamic.dev/modifiers/table",parameters:[{name:"content_markdown",description:"Whether to parse cell contents as Markdown."}],canBeParameter:!1,isDeprecated:!1},{name:"textile",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Parses a string with [Textile](http://demo.textilewiki.com/theme-default/) and returns the HTML.",docLink:"https://statamic.dev/modifiers/textile",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"wrap",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Wraps a string with a given HTML tag.",docLink:"https://statamic.dev/modifiers/wrap",parameters:[{name:"expression",description:"The HTML tag or Emmet-style expression to wrap the value in."}],canBeParameter:!1,isDeprecated:!1}];var Ub=[{name:"add",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!0,isDeprecated:!1},{name:"+",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!1,isDeprecated:!1},{name:"ceil",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Rounds the value to the next whole number.",docLink:"https://statamic.dev/modifiers/ceil",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"divide",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Divides two values.",docLink:"https://statamic.dev/modifiers/divide",parameters:[{name:"value",description:"The value to divide."}],canBeParameter:!0,isDeprecated:!1},{name:"floor",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Rounds a number down to the next whole number.",docLink:"https://statamic.dev/modifiers/floor",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"format_number",acceptsType:["number"],returnsType:["string"],forFieldType:[],description:"Formats a number.",docLink:"https://statamic.dev/modifiers/format_number",parameters:[{name:"precision",description:"Number of decimal places before rounding."},{name:"decimal_separator",description:"The decimal separator (defaults to `.`)."},{name:"thousands_separator",description:"The thousands separator (default `,`)."}],canBeParameter:!0,isDeprecated:!1},{name:"mode",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"",docLink:"",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"multiply",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!0,isDeprecated:!1},{name:"*",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!1,isDeprecated:!1},{name:"round",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Rounds a number to a specified precision.",docLink:"https://statamic.dev/modifiers/round",parameters:[{name:"precision",description:"The number of digits after the decimal point."}],canBeParameter:!0,isDeprecated:!1},{name:"subtract",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!0,isDeprecated:!1},{name:"-",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!1,isDeprecated:!1}];var Gb=[{name:"partial",acceptsType:["*"],returnsType:["*view*"],forFieldType:[],description:"Injects data into a partial and renders it.",docLink:"https://statamic.dev/modifiers/partial",parameters:[{name:"partial",description:"The name of the partial."}],canBeParameter:!1,isDeprecated:!1},{name:"macro",acceptsType:["*"],returnsType:["*"],forFieldType:[],description:"Runs a pre-configured macro on the data.",docLink:"https://statamic.dev/modifiers/macro",parameters:[{name:"macro",description:"The macro name."}],canBeParameter:!1,isDeprecated:!1},{name:"url",acceptsType:["string","*"],returnsType:["string"],forFieldType:[],description:"Locates the URL of an asset, page, entry, or taxonomy term based on the variable contents.",docLink:"https://statamic.dev/modifiers/url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"bool_string",acceptsType:["boolean","*"],returnsType:["string"],canBeParameter:!1,description:'Converts the provided value to a "true" or "false" string',docLink:null,forFieldType:["toggle"],isDeprecated:!1,parameters:[{name:"value",description:"The truthy value to convert to a string."}]}];var Wb=[{name:"ascii",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces all non-ASCII characters with their closest ASCII counterparts.",docLink:"https://statamic.dev/modifiers/ascii",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"at",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns the character at a given zero-based position.",docLink:"https://statamic.dev/modifiers/at",parameters:[{name:"position",description:"The zero-based position to retrieve a character from."}],canBeParameter:!0,isDeprecated:!1},{name:"backspace",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Removes a specified number of characters from the end of a string.",docLink:"https://statamic.dev/modifiers/backspace",parameters:[{name:"character_count",description:"The number of characters to remove from the end of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"camelize",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts the string into camelCase.",docLink:"https://statamic.dev/modifiers/camelize",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"cdata",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Wraps the string in CDATA XML tags.",docLink:"https://statamic.dev/modifiers/cdata",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"collapse_whitespace",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Trims a string and replaces consecutive whitespace characters with a single space.",docLink:"https://statamic.dev/modifiers/collapse_whitespace",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"count_substring",acceptsType:["string"],returnsType:["number"],forFieldType:[],description:"Counts the number of occurrences of a term within the string.",docLink:"https://statamic.dev/modifiers/count_substring",parameters:[{name:"term",description:"The sub-string to search for."}],canBeParameter:!0,isDeprecated:!1},{name:"dashify",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a lower-cased and trimmed string, separated by dashes.",docLink:"https://statamic.dev/modifiers/dashify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"deslugify",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces all hyphens and underscores with spaces.",docLink:"https://statamic.dev/modifiers/deslugify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"embed_url",acceptsType:["string"],returnsType:["string"],forFieldType:["video"],description:"Converts a YouTube or Viemo link into their embed URLs.",docLink:"https://statamic.dev/modifiers/embed_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"trackable_embed_url",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Get the embed URL when given a YouTube or Vimeo link that's direct to the page.",docLink:null,parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"ensure_left",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Ensures that the string begins with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_left",parameters:[{name:"start_string",description:"The value that should be at the start of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"ensure_right",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Ensures that the string ends with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_right",parameters:[{name:"end_string",description:"The value that should be at the end of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"entities",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Encode a string with HTML entities.",docLink:"https://statamic.dev/modifiers/entities",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"excerpt",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Breaks a string at a given marker.",docLink:"https://statamic.dev/modifiers/excerpt",parameters:[{name:"marker",description:"The substring to break on."}],canBeParameter:!1,isDeprecated:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],forFieldType:[],description:"Breaks a string into an array of strings.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The string to split the larger string by."}],canBeParameter:!0,isDeprecated:!1},{name:"gravatar",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts an email string to a Gravatar image URL.",docLink:"https://statamic.dev/modifiers/gravatar",parameters:[{name:"image size",description:"The desired image size."}],canBeParameter:!0,isDeprecated:!1},{name:"insert",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Inserts a string at the position provided.",docLink:"https://statamic.dev/modifiers/insert",parameters:[{name:"value",description:"The value to insert."},{name:"position",description:"The zero based position to insert the text at."}],canBeParameter:!0,isDeprecated:!1},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Returns true if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_embeddable",acceptsType:["string"],returnsType:["boolean"],forFieldType:["video"],description:"Checks to see if a video URL is embeddable.",docLink:"https://statamic.dev/modifiers/is_embeddable",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_lowercase",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Returns true if the string contains only lowercase characters.",docLink:"https://statamic.dev/modifiers/is_lowercase",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Returns true if a string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"lcfirst",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts the first character of the value to lower case.",docLink:"https://statamic.dev/modifiers/lcfirst",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"length",acceptsType:["string"],returnsType:["number"],forFieldType:[],description:"Returns the number of items in an array or number of characters in a string.",docLink:"https://statamic.dev/modifiers/length",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"lower",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts all characters to lowercase.",docLink:"https://statamic.dev/modifiers/lower",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"md5",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Creates an MD5 hash of the variable.",docLink:"https://statamic.dev/modifiers/md5",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"rawurlencode",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"URL-encode a variable according to RFC-3986.",docLink:"https://statamic.dev/modifiers/rawurlencode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"read_time",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns an estimated read time, in minutes.",docLink:"https://statamic.dev/modifiers/read_time",parameters:[{name:"words per minute",description:"The words per minute to use as an estimate."}],canBeParameter:!0,isDeprecated:!1},{name:"regex_replace",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces all regex matches within a string.",docLink:"https://statamic.dev/modifiers/regex_replace",parameters:[{name:"pattern",description:"The regex pattern."},{name:"replace",description:"The replacement value."}],canBeParameter:!0,isDeprecated:!1},{name:"remove_left",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Ensures that the string never begins with a specified string.",docLink:"https://statamic.dev/modifiers/remove_left/",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0,isDeprecated:!1},{name:"remove_right",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Ensures that a string never ends with a specified string.",docLink:"https://statamic.dev/modifiers/remove_right",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0,isDeprecated:!1},{name:"replace",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces all occurrences of a string with a different value.",docLink:"https://statamic.dev/modifiers/replace",parameters:[{name:"needle",description:"The string to search for."},{name:"value",description:"The value to replace all occurrences with."}],canBeParameter:!0,isDeprecated:!1},{name:"reverse",acceptsType:["string","array"],returnsType:["string","array"],forFieldType:[],description:"Reverses all characters in a string, or all items in an array.",docLink:"https://statamic.dev/modifiers/reverse",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"safe_truncate",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/safe_truncate",parameters:[{name:"length",description:"The desired string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1,isDeprecated:!1},{name:"sanitize",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts special characters to HTML entities.",docLink:"https://statamic.dev/modifiers/sanitize",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"segment",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a segment by number from any valid URL or URI.",docLink:"https://statamic.dev/modifiers/segment",parameters:[{name:"segment",description:"The one-based segment to return."}],canBeParameter:!0,isDeprecated:!1},{name:"singular",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns the singular form of an English word.",docLink:"https://statamic.dev/modifiers/singular",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"slugify",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts the string into an URL slug.",docLink:"https://statamic.dev/modifiers/slugify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"smartypants",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Translates plain ASCII punctuation characters into typographic punctuation HTML entities.",docLink:"https://statamic.dev/modifiers/smartypants",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"spaceless",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Removes excess whitespace and line breaks from a string.",docLink:"https://statamic.dev/modifiers/spaceless",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"substr",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a portion of a string based on provided a start index, and optional length.",docLink:"https://statamic.dev/modifiers/substr",parameters:[{name:"start",description:"The 0-based index to start searching."},{name:"length",description:"An optional length for the string to find."}],canBeParameter:!1,isDeprecated:!1},{name:"surround",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Surrounds a string with another string.",docLink:"https://statamic.dev/modifiers/surround",parameters:[{name:"value",description:"The value to surround the string with."}],canBeParameter:!1,isDeprecated:!1},{name:"swap_case",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a case swapped version of the string.",docLink:"https://statamic.dev/modifiers/swap_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"tidy",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a string with smart quotes, ellipsis characters, and dashes from Windows-1252 replaced by ASCII equivalents.",docLink:"https://statamic.dev/modifiers/tidy",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"title",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a Title Cased version of the string.",docLink:"https://statamic.dev/modifiers/title",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"trim",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Removes whitespace from the start and end of the string.",docLink:"https://statamic.dev/modifiers/trim",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"truncate",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/truncate",parameters:[{name:"length",description:"The maximum string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1,isDeprecated:!1},{name:"ucfirst",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Upper cases the first character in the string.",docLink:"https://statamic.dev/modifiers/ucfirst",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"underscored",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a lower-cased and trimmed version of the string, separated by underscores.",docLink:"https://statamic.dev/modifiers/underscored",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"upper",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Transforms the string to uppercase.",docLink:"https://statamic.dev/modifiers/upper",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"urldecode",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"URL-decodes the string.",docLink:"https://statamic.dev/modifiers/urldecode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"urlencode",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"URL-encodes the string.",docLink:"https://statamic.dev/modifiers/urlencode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"widont",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Attempts to prevent lines with single words.",docLink:"https://statamic.dev/modifiers/widont",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"word_count",acceptsType:["string"],returnsType:["number"],forFieldType:[],description:"Returns the number of words in the string.",docLink:"https://statamic.dev/modifiers/word_count",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"add_slashes",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Adds slashes before characters that need to be escaped.",docLink:"https://statamic.dev/modifiers/add_slashes",canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"antlers",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Parses the provided value as Antlers, and returns the result.",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"bard_items",acceptsType:["string"],returnsType:["array"],forFieldType:["bard"],description:"Converts a Bard value to a flat array of nodes and marks.",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"bard_text",acceptsType:["array","string"],returnsType:["string"],forFieldType:["bard"],description:"Converts a Bard value to plain text (excluding sets).",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"bard_html",acceptsType:["array","string"],returnsType:["string"],forFieldType:["bard"],description:"Converts a Bard value to HTML (excluding sets).",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"mark",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Wraps matched words and phrases in <mark> tags.",docLink:null,canBeParameter:!1,parameters:[{name:"search",description:"The search word or phrase to wrap in <mark> tags."}],isDeprecated:!1},{name:"regex_mark",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Wraps matched words and phrases in <mark> tags using regular expressions.",docLink:null,canBeParameter:!1,parameters:[{name:"pattern",description:"The search pattern used to wrap content in <mark> tags."}],isDeprecated:!1}];var Hb=[{name:"console_log",acceptsType:["*"],returnsType:["null"],forFieldType:[],description:"Displays variable data in the browser's JavaScript console.",docLink:"https://statamic.dev/modifiers/console_log",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"decode",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts all HTML entities to their character codes.",docLink:"https://statamic.dev/modifiers/decode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"dump",acceptsType:["*"],returnsType:["null"],forFieldType:[],description:"Displays variable data in the browser.",docLink:"https://statamic.dev/modifiers/dump",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"full_urls",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces root-relative URLs with absolute URLs.",docLink:"https://statamic.dev/modifiers/full_urls",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"repeat",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Repeats a value a given number of times.",docLink:"https://statamic.dev/modifiers/repeat",parameters:[{name:"times",description:"The number of times to repeat the value."}],canBeParameter:!0,isDeprecated:!1},{name:"to_spaces",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts all tabs to spaces.",docLink:"https://statamic.dev/modifiers/to_spaces",parameters:[{name:"space_count",description:"The number of spaces to replace tabs with."}],canBeParameter:!1,isDeprecated:!1},{name:"to_tabs",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts spaces to tabs.",docLink:"https://statamic.dev/modifiers/to_tabs",parameters:[{name:"space_count",description:"The number of spaces to convert to tabs."}],canBeParameter:!1,isDeprecated:!1},{name:"to_json",acceptsType:["*"],returnsType:["string"],forFieldType:[],description:"Converts the data to JSON",docLink:"https://statamic.dev/modifiers/to_json",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"to_bool",acceptsType:["*"],returnsType:["boolean"],forFieldType:[],description:"Converts the data to a boolean/truthy value.",parameters:[],canBeParameter:!1,docLink:null,isDeprecated:!1}];var Zn=class{constructor(){this.registeredModifiers=new Map;this.acceptTypedModifierReference=new Map;this.returnTypeModifierReference=new Map;this.macros=new Map;this.modifierNameCache=[]}reset(){this.modifierNameCache=[],this.registeredModifiers.clear(),this.acceptTypedModifierReference.clear(),this.returnTypeModifierReference.clear()}getRegisteredModifiers(){return this.registeredModifiers}resetMacros(){this.macros.clear()}loadCoreModifiers(){this.registerModifiers(Mb),this.registerModifiers(qb),this.registerModifiers(Vb),this.registerModifiers(Bb),this.registerModifiers(jb),this.registerModifiers(Ub),this.registerModifiers(Hb),this.registerModifiers(Wb),this.registerModifiers(Gb)}getModifierNames(){return this.modifierNameCache}registerMacro(e){this.macros.set(e.name,e)}registerMacros(e){for(let i=0;i<e.length;i++)this.registerMacro(e[i])}hasMacro(e){if(this.macros.has(e)){let i=this.macros.get(e);return!(typeof i=="undefined"||i===null)}return!1}getMacro(e){if(this.macros.has(e)){let i=this.macros.get(e);return typeof i=="undefined"||i===null?null:i}return null}getMacroManifestingType(e){let i=this.getMacro(e);return i==null?"":i.manifestsType}getRegisteredModifier(e){return this.registeredModifiers.has(e)?this.registeredModifiers.get(e):null}getModifiersForType(e){let i=Nf(e);return this.acceptTypedModifierReference.has(i)?this.acceptTypedModifierReference.get(i):[]}getProbableReturnType(e,i){return e==null||e.returnsType.length==0?"":i&&e.returnsType.includes("array")?"array":e.returnsType[0]}registerModifiers(e){var i,r;for(let n=0;n<e.length;n++){let s=e[n];this.modifierNameCache.push(s.name);for(let a=0;a<s.acceptsType.length;a++){let o=s.acceptsType[a];this.acceptTypedModifierReference.has(o)==!1&&this.acceptTypedModifierReference.set(o,[]),(i=this.acceptTypedModifierReference.get(o))==null||i.push(s)}for(let a=0;a<s.returnsType.length;a++){let o=s.returnsType[a];this.returnTypeModifierReference.has(o)==!1&&this.returnTypeModifierReference.set(o,[]),(r=this.returnTypeModifierReference.get(o))==null||r.push(s)}this.registeredModifiers.set(e[n].name,e[n])}}registerModifier(e){let i=[];i.push(e),this.registerModifiers(i)}getModifier(e){if(this.registeredModifiers.has(e)==!1)return null;let i=this.registeredModifiers.get(e);return typeof i=="undefined"||i==null?null:i}hasModifier(e){if(!this.registeredModifiers.has(e))return!1;let i=this.registeredModifiers.get(e);return!(typeof i=="undefined"||i==null)}};Zn.instance=null;(typeof Zn.instance=="undefined"||Zn.instance==null)&&(Zn.instance=new Zn,Zn.instance.loadCoreModifiers());var Ve=Zn;var Sf=class{constructor(e){this.parameterModifiers=[];this.hasMixedModifierStyles=!1;this.modifierNames=[];this.node=e}isPaired(){return this.node instanceof G?this.node.isPaired():!1}getModifierValue(e){var i;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let n=this.node.modifierChain.modifierChain[r];if(((i=n.nameNode)==null?void 0:i.name)==e)return n.valueNodes.length>0?n.valueNodes[0].content:""}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let n=this.parameterModifiers[r];if(n.name==e)return n.value}return null}getModifierRange(e){var i;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let n=this.node.modifierChain.modifierChain[r];if(((i=n.nameNode)==null?void 0:i.name)==e)return n.valueNodes.length>0?{start:n.startPosition,end:n.endPosition}:null}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let n=this.parameterModifiers[r];if(n.name==e&&n.namePosition!=null&&n.valuePosition!=null)return{start:n.namePosition.start,end:n.valuePosition.end}}return null}getLastManifestedModifierRuntimeType(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null){if(this.node.modifierChain.lastManifestedModifier.parameters.length>0&&this.node.modifierChain.lastManifestedModifier.modifier!=null&&Ve.instance!=null){let e=this.node.modifierChain.lastManifestedModifier.modifier;return Ve.instance.getProbableReturnType(e,this.isPaired())}return"*"}if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let i=0;i<e.length;i++)if(e[i].modifier!=null&&Ve.instance!=null){let r=e[i].modifier;return Ve.instance.getProbableReturnType(r,this.isPaired())}}return"*"}getLastManifestedModifierValue(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null)return this.node.modifierChain.lastManifestedModifier.parameters.length>0?this.node.modifierChain.lastManifestedModifier.parameters[0].value:"";if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let i=0;i<e.length;i++)if(e[i].modifier!=null)return e[i].value}return""}getLastManifestedModifier(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastModifier!=null)return this.node.modifierChain.lastModifier;if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let i=0;i<e.length;i++)if(e[i].modifier!=null)return e[i].modifier}return null}hasModifiers(){return this.node.modifierChain==null||this.node.modifierChain.modifierChain.length==0?this.parameterModifiers.length>0:!0}hasParameterModifiers(){return this.parameterModifiers.length>0}hasShorthandModifiers(){return this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0}hasModifier(e){return this.modifierNames.includes(e)}};function Zh(t){let e=[];return t.forEach(i=>{i instanceof G?e.push(i):i instanceof et&&i.logicBranches.length>0&&i.logicBranches.forEach(r=>{if(r.head!=null){let n=r.head;n.originalNode!=null?e.push(n.originalNode):e.push(n)}})}),e}var zx=[" ",`
`,"\r","	","\f","\v","\xA0","\u2000","\u2001","\u2002","\u2003","\u2004","\u2005","\u2006","\u2007","\u2008","\u2009","\u200A","\u200B","\u2028","\u2029","\u3000"].join("");function Yb(t){return(typeof t=="number"||typeof t=="string"&&zx.indexOf(t.slice(-1))===-1)&&t!==""&&!isNaN(t)}var Y=class{static boolLabel(e){return e?"true":"false"}static normalizeLineEndings(e,i=`
`){return e.replace(/\r?\n/g,i)}static breakByNewLine(e){return e.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`)}static split(e){return e.split("")}static substring(e,i,r){return e.substr(i,r)}static ctypeSpace(e){return(e==null?void 0:e.search(/^[\f\n\r\t\v ]+$/g))!==-1}static ctypeAlpha(e){return(e==null?void 0:e.search(/^[A-Za-z]+$/g))!==-1}static ctypeDigit(e){return(e==null?void 0:e.search(/^[\d]+$/g))!==-1}static ctypePunct(e){return(e==null?void 0:e.search(/^[\u0021-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007E]+$/g))!==-1}static trimLeft(e,i="\\s"){return e.replace(new RegExp("^["+i+"]+"),"")}static trimRight(e,i="\\s"){return e.replace(new RegExp("["+i+"]+$"),"")}static isNumeric(e){return Yb(e)}static substringCount(e,i){let r=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return(e.match(new RegExp(r,"gi"))||[]).length}static getLastLine(e){let i=Y.breakByNewLine(e);return i.length==0?"":i[i.length-1]}static getFirstLine(e){let i=Y.breakByNewLine(e);return i.length==0?"":i[0]}};var Cf=class{constructor(e){this.node=e}findParentWithName(e){let i=this.node.getParser();return i==null?null:i.structure.findParentWithName(e,this.node)}};var $b=ee(Rf());var M=class{constructor(){this.node=null;this.errorCode="";this.message="";this.level=0;this.range=null;this.actions=[];this.lsRange=null;this.data=null}hash(){var i,r,n,s;let e="";return this.node!=null&&(e=((r=(i=this.node.endPosition)==null?void 0:i.offset)!=null?r:0).toString()+"|"+((s=(n=this.node.startPosition)==null?void 0:n.offset)!=null?s:0).toString()+"|"),$b.Md5.hashStr(e+"|"+this.errorCode)}static makeSyntaxError(e,i,r,n){n==null&&(n=0);let s=new M;return s.errorCode=e,s.node=i,s.message=r,s.level=n,s}};var I=class{};I.TYPE_EXPECTING_OPERAND="ANTLR_001",I.TYPE_UNEXPECTED_END_OF_INPUT="ANTLR_002",I.TYPE_RUNTIME_TYPE_MISMATCH="ANTLR_003",I.TYPE_RUNTIME_DIVIDE_BY_ZERO="ANTLR_004",I.TYPE_RUNTIME_UNKNOWN_LANG_OPERATOR="ANTLR_005",I.TYPE_RUNTIME_UNEXPECTED_STACK_CONDITION="ANTLR_006",I.TYPE_RUNTIME_PARSE_VALUE_VIOLATION="ANTLR_007",I.TYPE_PARSE_UNCLOSED_CONDITIONAL="ANTLR_008",I.TYPE_PARSE_EMPTY_CONDITIONAL="ANTLR_009",I.TYPE_PARSE_UNPAIRED_CONDITIONAL="ANTLR_008",I.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE="ANTLR_009",I.TYPE_INCOMPLETE_ANTLERS_REGION="ANTLR_010",I.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION="ANTLR_011",I.TYPE_ILLEGAL_VARPATH_RIGHT="ANTLR_012",I.TYPE_ILLEGAL_DOTVARPATH_RIGHT="ANTLR_013",I.TYPE_ILLEGAL_VARPATH_SUBPATH_START="ANTLR_014",I.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT="ANTLR_015",I.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR="ANTLR_016",I.TYPE_ILLEGAL_VARIABLE_NAME="ANTLR_017",I.TYPE_UNSET_MODIFIER_DETAILS="ANTLR_018",I.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS="ANTLR_019",I.TYPE_MODIFIER_UNEXPECTED_VALUE="ANTLR_020",I.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST="ANTLR_021",I.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR="ANTLR_022",I.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH="ANTLR_023",I.TYPE_RECURSIVE_UNPAIRED_NODE="ANTLR_024",I.TYPE_RECURSIVE_NODE_INVALID_POSITION="ANTLR_025",I.TYPE_NO_PARSE_UNASSOCIATED="ANTLR_026",I.TYPE_RECURSIVE_NODE_UNASSOCIATED_PARENT="ANTLR_027",I.TYPE_LOGIC_GROUP_NO_END="ANTLR_028",I.TYPE_LOGIC_GROUP_NO_START="ANTLR_029",I.TYPE_UNEXPECTED_BRANCH_SEPARATOR="ANTLR_030",I.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE="ANTLR_031",I.TYPE_UNEXPECTED_MODIFIER_SEPARATOR="ANTLR_032",I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS="ANTLR_033",I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE="ANTLR_034",I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER="ANTLR_035",I.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE="ANTLR_036",I.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS="ANTLR_037",I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SEMANTIC_GROUP="ANTLR_038",I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP="ANTLR_039",I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP="ANTLR_040",I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH="ANTLR_041",I.TYPE_UNEXPECTED_EOI_WHILE_EXITING_TERNARY_GROUP="ANTLR_042",I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET="ANTLR_043",I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION="ANTLR_044",I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END="ANTLR_045",I.TYPE_RUNTIME_UNKNOWN_LIBRARY="ANTLR_046",I.TYPE_RUNTIME_LIBRARY_BAD_METHOD_CALL="ANTLR_047",I.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS="ANTLR_048",I.TYPE_UNEXPECTED_FACTORIAL_OPERAND="ANTLR_049",I.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR="ANTLR_050",I.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED="ANTLR_051",I.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT="ANTLR_052",I.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP="ANTLR_053",I.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT="ANTLR_054",I.TYPE_LIBRARY_CALL_NO_ARGS_PROVIDED="ANTLR_055",I.TYPE_LIBRARY_CALL_MISSING_REQUIRED_FORMAL_ARG="ANTLR_056",I.TYPE_LIBRARY_CALL_RUNTIME_TYPE_MISMATCH="ANTLR_057",I.TYPE_LIBRARY_CALL_UNEXPECTED_ARG_RESOLVE_FAULT="ANTLR_058",I.TYPE_LIBRARY_CALL_TOO_MANY_ARGUMENTS="ANTLR_059",I.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD="ANTLR_060",I.TYPE_INVALID_NAMED_ARG_IDENTIFIER="ANTLR_061",I.TYPE_LIBRARY_CALL_INVALID_ARGUMENT_NAME="ANTLR_062",I.TYPE_RUNTIME_ATTEMPT_TO_OVERWRITE_LOADED_LIBRARY="ANTLR_063",I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP="ANTLR_064",I.TYPE_EXPECTING_ARGUMENT_GROUP="ANTLR_065",I.TYPE_RUNTIME_PROTECTED_LIBRARY_ACCESS_VIOLATION="ANTLR_066",I.TYPE_RUNTIME_FATAL_UNPAIRED_LOOP_END="ANTLR_067",I.TYPE_UNEXPECTED_OPERATOR="ANTLR_068",I.TYPE_OPERATOR_INVALID_ON_RIGHT="ANTLR_069",I.TYPE_INVALID_ASSIGNMENT_LOOP_PAIR="ANTLR_070",I.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP="ANTLR_071",I.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND="ANTLR_072",I.TYPE_QUERY_UNSUPPORTED_VALUE_TYPE="ANTLR_073",I.TYPE_UNEXPECTED_RUNTIME_RESULT_FOR_ORDER_BY_CLAUSE="ANTLR_074",I.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP="ANTLR_075",I.TYPE_INVALID_ORDER_BY_NAME_VALUE="ANTLR_076",I.TYPE_INVALID_ORDER_BY_SORT_VALUE="ANTLR_077",I.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY="ANTLR_78",I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY="ANTLR_079",I.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE="ANTLR_080",I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP="ANTLR_081",I.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP="ANTLR_082",I.TYPE_UNEXPECTED_SWITCH_START_VALUE="ANTLR_083",I.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE="ANTLR_084",I.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_SEMANTIC_VALUE="ANTLR_085",I.TYPE_SWITCH_DEFAULT_MUST_BE_LAST="ANTLR_086",I.TYPE_PARSER_INVALID_SWITCH_TOKEN="ANTLR_087",I.TYPE_ORDER_BY_INVALID_RETURN_TYPE="ANTLR_088",I.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED="ANTLR_089",I.TYPE_PLUCK_INTO_MISSING_VARIABLE_TARGET="ANTLR_090",I.TYPE_PLUCK_INTO_INVALID_VARIABLE_TARGET="ANTLR_091",I.TYPE_PLUCK_INTO_NO_PREDICATE="ANTLR_092",I.TYPE_PLUCK_INTO_INVALID_PREDICATE_VALUE="ANTLR_093",I.TYPE_PLUCK_INTO_EMPTY_LOGIC_GROUP="ANTLR_094",I.TYPE_PLUCK_INTO_INVALID_NUMBER_OF_TUPLE_VARIABLES="ANTLR_095",I.TYPE_PLUCK_INTO_UNKNOWN_ALIAS_VARNAME="ANTLR_096",I.TYPE_PLUCK_INTO_UNEXPECTED_EMPTY_T_LOGIC_GROUP="ANTLR_097",I.TYPE_PLUCK_INTO_REFERENCE_TYPE_DYNAMIC="ANTLR_098",I.TYPE_PLUCK_INTO_REFERENCE_AMBIGUOUS="ANTLR_099",I.TYPE_RUNTIME_ASSIGNMENT_TO_NON_VAR="ANTLR_100",I.TYPE_ARR_MAKE_MISSING_TARGET="ANTLR_101",I.TYPE_ARR_MAKE_UNEXPECTED_TYPE="ANTLR_102",I.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE="ANTLR_103",I.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE="ANTLR_104",I.TYPE_ARR_UNEXPECT_ARG_SEPARATOR="ANTLR_105",I.TYPE_ARR_KEY_PAIR_MISSING_KEY="ANTLR_106",I.RUNTIME_PROTECTED_VAR_ACCESS="ANTLR_107",I.RUNTIME_PROTECTED_TAG_ACCESS="ANTLR_108",I.RUNTIME_PROTECTED_MODIFIER_ACCESS="ANTLR_109",I.TYPE_INCOMPLETE_PHP_EVALUATION_REGION="ANTLR_110",I.RUNTIME_PHP_NODE_WHEN_PHP_DISABLED="ANTLR_111",I.RUNTIME_PHP_NODE_USER_CONTENT_TAG="ANTLR_112",I.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST="ANTLR_113",I.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST="ANTLR_114",I.TYPE_MISSING_BODY_TUPLE_LIST="ANTLR_115",I.TYPE_MISSING_NAMES_TUPLE_LIST="ANTLR_116",I.TYPE_VALUE_NAME_LENGTH_MISMATCH_TUPLE_LIST="ANTLR_117",I.TYPE_INVALID_TUPLE_LIST_NAME_TYPE="ANTLR_118",I.TYPE_INVALID_MANIFESTED_NAME_GROUP="ANTLR_119",I.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP="ANTLR_120",I.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE="ANTLR_121",I.TYPE_RUNTIME_BAD_METHOD_CALL="ANTLR_122",I.TYPE_METHOD_CALL_MISSING_ARG_GROUP="ANTLR_123",I.TYPE_INVALID_METHOD_CALL_ARG_GROUP="ANTLR_124",I.TYPE_METHOD_CALL_MISSING_METHOD="ANTLR_125",I.TYPE_MODIFIER_NOT_FOUND="ANTLR_126",I.TYPE_RUNTIME_GENERAL_FAULT="ANTLR_127",I.TYPE_MODIFIER_INCORRECT_VALUE_POSITION="ANTLR_128",I.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX="ANTLR_129",I.TYPE_RUNTIME_ATTEMPTING_TO_RENDER_OBJECT_AS_STRING="ANTLR_130",I.TYPE_UNPAIRED_CLOSING_TAG="ANTLR_131",I.PARSER_CANNOT_PARSE_PATH_RECURSIVE="ANTLR_200",I.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR="ANTLR_201",I.LINT_UNKNOWN_PARAMETER="ANTLR_500",I.LINT_GENERAL_INVALID_PARAMETER_CONTENTS="ANTLR_501",I.LINT_PARAMETER_CONTENT_INVALID_INTEGER="ANTLR_502",I.LINT_PARAMETER_CONTENT_INVALID_BOOLEAN="ANT LR_503",I.LINT_PAGINATE_INVALID_VALUE="ANTLR_504",I.LINT_DEBUG_DATA_EXPOSED="ANTLR_505",I.LINT_DOUBLE_COLON_IN_TAG_IDENTIFIER="ANTLR_506",I.LINT_MIXED_MODIFIERS="ANTLR_507",I.LINT_MODIFIER_UNEXPECTED_TYPE="ANTLR_508",I.LINT_REMOVE_RELATE_TAG="ANTLR_509",I.LINT_SET_PRODUCES_RUNTIME_ERROR="ANTLR_510",I.LINT_FRONT_MATTER_EMPTY_DOCUMENT="ANTLR_511",I.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH="ANTLR_512",I.LINT_INVALID_FRONT_MATTER="ANTLR_513",I.LINT_DUPLICATE_CODE="ANTLR_514",I.LINT_VERSION_NOT_COMPATIBLE="ANTLR_515",I.LINT_INTERLEAVED_TAG_PAIRS="ANTLR_516",I.LINT_MISSING_REQUIRED_PARAMETER="ANTLR_517",I.LINT_POSSIBLE_PARTIAL_RECURSION="ANTLR_518",I.LINT_URL_VARIABLE_WITHOUT_SANITIZE="ANTLR_519",I.LINT_DYNAMIC_CLASS_NAMES_POSSIBLE_PURGE="ANTLER_520",I.LINT_DEPRECATED_MODIFIER="ANTLER_521",I.LINT_INVALID_VARIABLE_ACCESS="ANTLR_522",I.LINT_SELECT_FIELD_JOIN_RAW="ANTLR_523",I.LINT_INVALID_PARAMETER_VALUE_DELIMITER="ANTLR_524",I.LINT_MODIFIERS_ON_QUERY_BUILDERS_REQUIRE_AS="ANTLR_525";var ft=class{static distance(e,i){return e.endPosition==null||i.startPosition==null?this.DistMax:i.startPosition.index-e.endPosition.index}static getTrueName(e){var i,r,n,s;return e.originalNode!=null?(r=(i=e.originalNode.name)==null?void 0:i.name)!=null?r:"":(s=(n=e.name)==null?void 0:n.name)!=null?s:""}static getSimpleVarName(e){return e.variableReference!=null&&e.variableReference.pathParts.length==1&&e.variableReference.pathParts[0]instanceof vi?e.variableReference.pathParts[0].name:""}static isVariableMatching(e,i){return e instanceof le?e.name==i:!1}static mergeVarContentLeft(e,i,r){return r.mergeRefName=r.name,r.endPosition=i.endPosition,r.name=r.name+e,r}static mergeVarContentRight(e,i,r){return r.mergeRefName=r.name,r.startPosition=i.startPosition,r.name=e+r.name,r}static mergeVarRight(e,i){return i.mergeRefName=i.name,i.startPosition=e.startPosition,i.name=e.name+i.name,i}static getUnrefName(e){return Y.trimLeft(e,":.")}};ft.DistMax=65e3;var xr=class{static isConditionalStructure(e){var r,n;if(e.isComment)return!1;let i=(n=(r=e.name)==null?void 0:r.name)!=null?n:"";return i=="if"||i=="elseif"||i=="else"}static requiresClose(e){var r,n;let i=(n=(r=e.name)==null?void 0:r.name)!=null?n:"";return i=="elseif"||i=="else"?e.isClosedBy==null:!(e.isClosingTag||e.isClosedBy!=null)}static getValidClosingPairs(e){return e=="if"||e=="elseif"?xr.conditionClosingPairs:[]}static findClosestStructurePair(e,i,r){var u,c,f,d,p,m,T,P;let n=[],s=e.length,a=new Map,o=null;n.push({node:i,index:r});for(let _=0;_<s;_+=1){let g=e[_];if(g instanceof G){let y=(c=(u=g.name)==null?void 0:u.name)!=null?c:"";if(g.isClosingTag&&y=="if"){a.set(_,_);continue}else if(y=="elseif"||y=="else"){a.set(_,_);continue}}}let l=a.size;for(;n.length>0;){let _=n.pop();if(_==null)continue;if(_.node._conditionParserAbandonPairing)break;let g=_.node,y=xr.getValidClosingPairs((d=(f=g.name)==null?void 0:f.name)!=null?d:""),E=_.index,L=!1;if(l>50&&o!=null){for(let[C,B]of a)if(C>E){E=C;break}}for(let C=E;C<s;C++){let B=e[C];if(B instanceof G&&xr.isConditionalStructure(B)){if(xr.requiresClose(B)){n.push(_),n.push({node:B,index:C+1}),L=!0;break}if(g.isClosedBy!=null)continue;let w=(m=(p=B.name)==null?void 0:p.name)!=null?m:"",$=!1;if(B.ref==0&&(B.isClosingTag&&w=="if"||y.includes(w))&&($=!0),B.refId==g.refId&&($=!1),$){o=C,a.delete(C),g.isClosedBy=B,B.isOpenedBy=g,B.ref+=1,L=!0;break}}}if(!L&&g instanceof G){let C=(P=(T=g.name)==null?void 0:T.name)!=null?P:"";if((C=="elseif"||C=="else")&&g.isOpenedBy==null){let B='Unpaired "'+ft.getTrueName(g)+'" control structure.';g.isInterpolationNode&&(B+=" Tag pairs are not supported within Antlers tags."),g.pushError(M.makeSyntaxError(I.TYPE_PARSE_UNPAIRED_CONDITIONAL,g,B)),g._conditionParserAbandonPairing=!0}if(g.isClosedBy==null&&xr.requiresClose(g)){let B='Unclosed "'+ft.getTrueName(g)+'" control structure.';g.isInterpolationNode&&(B+=" Tag pairs are not supported within Antlers tags."),g.pushError(M.makeSyntaxError(I.TYPE_PARSE_UNCLOSED_CONDITIONAL,g,B)),g._conditionParserAbandonPairing=!0}}}}static pairConditionals(e){for(let i=0;i<e.length;i+=1){let r=e[i];r instanceof G&&xr.isConditionalStructure(r)&&xr.requiresClose(r)&&xr.findClosestStructurePair(e,r,i+1)}return e.forEach(i=>{var r,n;if(i instanceof G&&xr.isConditionalStructure(i)){let s=(n=(r=i.name)==null?void 0:r.name)!=null?n:"";if((s=="elseif"||s=="else")&&i.isOpenedBy==null){i.pushError(M.makeSyntaxError(I.TYPE_PARSE_UNPAIRED_CONDITIONAL,i,'Unpaired "'+ft.getTrueName(i)+'" control structure.'));return}if(i.isClosedBy==null&&xr.requiresClose(i)){i.pushError(M.makeSyntaxError(I.TYPE_PARSE_UNCLOSED_CONDITIONAL,i,"Unclosed "+ft.getTrueName(i)+" control structure."));return}}}),e}},ti=xr;ti.conditionClosingPairs=["elseif","else"];function Dr(t,e){return e==null&&(e="s"),t.replace(new RegExp("^["+e+"]+"),"")}function Lt(t,e,i){return t.replace(new RegExp(e,"g"),i)}function cn(t,e){return e==null&&(e="s"),t.replace(new RegExp("["+e+"]+$"),"")}function So(){return(Date.now().toString(32)+Math.random().toString(16)).replace(/\./g,"")}function zb(){return Lt(So(),"-","_")}var su=class{constructor(){this.startPosition=null;this.endPosition=null;this.index=0;this.embeddedIndex=0;this.refId=null;this.parameters=[];this.isSelfClosing=!1;this.isClosingFragment=!1;this.name="";this.containsStructures=!1;this.refId=zb()}},Af=class{constructor(){this.startPosition=null;this.endPosition=null;this.content="";this.name=""}};function Xx(t){let e=[],i=[];for(let r=0;r<t.length;r++){let n=t[r],s=n.refId;if(i.includes(s))break;e.push(n),i.push(s)}return e}var ie=class{constructor(){this.refId=null;this.index=0;this.parent=null;this.content="";this.rawLexContent="";this.sourceContent="";this.startPosition=null;this.endPosition=null;this.modifierChain=null;this.originalAbstractNode=null;this.positionContexts=[];this.addedContexts=new Map;this.fragment=null;this.fragmentParameter=null;this.fragmentPosition=3;this.containsAnyFragments=!1;this.containsChildStructures=!1;this.isInScriptTag=!1;this.isInStyleTag=!1;this.isVirtual=!0;this.isPartOfMethodChain=!1;this.isVirtualGroupMember=!1;this.isVirtualGroupOperatorResolve=!1;this.isSwitchGroupMember=!1;this.isListGroupMember=!1;this.producesVirtualStatementTerminator=!1;this.convertedToOperator=!1;this.scopeVariable=null;this.currentScope=null;this.manifestType="";this.scopeName=null;this.sourceType="";this.runtimeType=null;this.modifiers=new Sf(this);this.prev=null;this.next=null;this.methodTarget=null;this.libraryTarget=null;this.antlersErrors=[];this.parser=null;this.refId=zb()}isEmbedded(){return this.isInScriptTag||this.isInStyleTag}getContexts(){return this.positionContexts}addContext(e){this.addedContexts.has(e.refId)==!1&&(this.addedContexts.set(e.refId,!0),this.positionContexts.push(e))}getRange(){if(this.originalAbstractNode!=null)return this.originalAbstractNode.getRange();if(this.startPosition==null||this.endPosition==null)return No.Empty;let e=new No;return e.start=this.startPosition,e.end=this.endPosition,e}withParser(e){this.parser=e}getParser(){return this.parser}pushError(e){this.parent!=null&&this.parent.pushError(e),this.antlersErrors.push(e),this.parent==null&&this.parser!=null&&this.parser.pushError(e)}mergeErrors(e){e.forEach(i=>{i.node==null&&(i.node=this),this.antlersErrors.push(i)})}getErrors(){return this.antlersErrors}innerContent(){return this.content}rawContent(){return this.content}},Ef=class extends ie{constructor(){super(...arguments);this.head=null;this.tail=null;this.nodes=[];this.documentText="";this.childDocument=null}getImmediateChildren(){return this.head==null?[]:this.head.getImmediateChildren()}},et=class extends ie{constructor(){super(...arguments);this.logicBranches=[];this.chain=[];this.nodeContent="";this.fragment=null;this.fragmentParameter=null;this.fragmentPosition=3;this.containsAnyFragments=!1;this.containsChildStructures=!1}},G=class extends ie{constructor(){super(...arguments);this.isNodeAbanonded=!1;this.isComment=!1;this.isTagNode=!1;this.isConditionNode=!1;this.runtimeContent="";this.name=null;this.pathReference=null;this.isClosingTag=!1;this.isInterpolationNode=!1;this.isOpenedBy=null;this.isClosedBy=null;this.isSelfClosing=!1;this.children=[];this.runtimeNodes=[];this.parsedRuntimeNodes=[];this.hasParsedRuntimeNodes=!1;this.parameters=[];this.hasParameters=!1;this.contentOffset=null;this.cachedContent=null;this.cachedInnerContent=null;this.hasRecursiveNode=!1;this.recursiveReference=null;this.rawStart="";this.rawEnd="";this.originalNode=null;this.interpolationRegions=new Map;this.processedInterpolationRegions=new Map;this.hasProcessedInterpolationRegions=!1;this.ref=0;this.contentStartRelativeIndex=null;this.antlersNodeIndex=0;this.nameStartsOn=null;this.nameEndsOn=null;this.nameMethodPartStartsOn=null;this.documentText="";this.nodeContent="";this.childDocument=null;this.structure=new Cf(this);this.isInlineAntlers=!1;this.mustClose=!1;this.reference=null;this._conditionParserAbandonPairing=!1;this._isEndVirtual=!1}getOriginalContent(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.isClosedBy!=null?this.isClosedBy.startPosition==null||this.isClosedBy.endPosition==null?"":this.parser.getText(this.startPosition.index,this.isClosedBy.endPosition.index+1):this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getNodeDocumentText(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getImmediateChildren(){let i=[];for(let r=0;r<this.children.length;r++){let n=this.children[r];if(n.parent==this){if(n==this.isClosedBy)break;i.push(n)}}return Xx(i)}getChildren(){if(this.isClosedBy==null)return[];let i=[];for(let r=0;r<this.children.length;r++){let n=this.children[r];if(n instanceof G&&n.refId==this.isClosedBy.refId)break;i.push(n)}return i}getInnerDocumentText(){if(this.startPosition==null||this.endPosition==null||this.parser==null)return"";if(this.isClosedBy==null)return this.getNodeDocumentText();let i=this.isClosedBy.startPosition;return i==null?"":this.parser.getText(this.endPosition.index+1,i.index)}nodeAtIndex(i){if(this.runtimeNodes.length==0)return null;for(let r=0;r<this.runtimeNodes.length;r++)if(this.runtimeNodes[r].index==i)return this.runtimeNodes[r];return null}getDepthCount(){if(this.parent==null)return 1;let i=this.parent,r=1;for(;i!=null;){if(r+=1,i.parent===i){i=null;break}i=i.parent}return r}isEmpty(){return this.content.trim().length==0}nameMatches(i){return this.name==null?!1:this.name.content==i}copyBasicDetails(){return this.copyBasicDetailsTo(new G)}copyBasicDetailsTo(i){return i.refId=this.refId,i.isComment=this.isComment,i.isTagNode=this.isTagNode,i.children=this.children,i.parent=this.parent,i.parameters=this.parameters,i.isClosingTag=this.isClosingTag,i.rawStart=this.rawStart,i.rawEnd=this.rawEnd,i.startPosition=this.startPosition,i.endPosition=this.endPosition,i.originalAbstractNode=this,i.containsAnyFragments=this.containsAnyFragments,i.containsChildStructures=this.containsChildStructures,i.isInScriptTag=this.isInScriptTag,i.isInStyleTag=this.isInStyleTag,i}id(){return this.refId}innerContent(){return this.cachedInnerContent==null&&(this.cachedInnerContent=this.content.replace('"','\\"')),this.cachedInnerContent}resetContentCache(){this.cachedContent=null,this.cachedInnerContent=null}hasMethodPart(){return this.name==null?!1:this.name.getMethodName()!=null}runtimeName(){return this.name==null?"":this.name.getCompoundTagName()}getTagName(){return this.name==null?"":this.name.name}getNameContent(){return this.name==null?"":this.name.content}getMethodNameValue(){if(this.name==null)return"";let i=this.name.getMethodName();return i!=null?i:""}methodIsEmptyOrMatches(i){return this.getMethodNameValue()==i}hasParameter(i){return this.findParameter(i)!=null}hasParameterWithValue(i,r){let n=this.findParameter(i);return n==null?!1:n.value==r}findParameterValue(i,r){let n=this.findParameter(i);return n==null?r:n.value}findParameterValueOrNull(i){let r=this.findParameter(i);return r==null?null:r.value}findParameter(i){if(this.parameters.length==0)return null;for(let r=0;r<this.parameters.length;r++)if(this.parameters[r].name==i)return this.parameters[r];return null}findAnyParameter(i){for(let r=0;r<i.length;r++){let n=this.findParameter(i[r]);if(n!=null)return n}return null}getContentRelativeStartIndex(){if(this.contentStartRelativeIndex==null){let i=this.content.split("");for(let r=0;r<i.length;r++)if(!Y.ctypeSpace(i[r])){this.contentStartRelativeIndex=r;break}this.contentStartRelativeIndex==null&&(this.contentStartRelativeIndex=i.length),this.contentStartRelativeIndex+=this.rawStart.length}return this.contentStartRelativeIndex}getContentAfterName(){let i=0;return this.nameEndsOn!=null&&(i=this.nameEndsOn.char-this.rawStart.length-1),this.content.substring(i)}getContent(){if(this.cachedContent==null)if(this.isComment)this.cachedContent=this.content,this.contentOffset=this.startPosition;else if(this.isTagNode){let i=this.content;i=Y.trimLeft(i);let r=0;if(this.name!=null&&(r=this.name.compound.length),this.parameters.length>0){let o=0,l=this.parameters[0];l.startPosition!=null&&(o=l.startPosition.index-1);let u=i,c=u.trimLeft(),f=u.length-c.length,d=r;i=i.substr(0,o)}let n=i.trimLeft(),s=i.length-n.length,a=r+s+2;if(this.parser!=null){let o=0;this.startPosition!=null&&(o=this.startPosition.offset),this.contentOffset==this.parser.positionFromOffset(o+a,0)}this.name!=null?this.name.name=="if"||this.name.name=="elseif"||this.name.name=="unless"||this.name.name=="elseunless"?(i=" "+i.trimLeft(),this.cachedContent=i.substr(this.name.compound.length+1)):this.cachedContent=i:this.cachedContent=i}else if(this.parameters.length>0){let i=this.parameters[0],r=0;i.startPosition!=null&&(r=i.startPosition.index-1),this.contentOffset=this.startPosition,this.cachedContent=this.content.substr(0,r)}else this.contentOffset=this.startPosition,this.cachedContent=this.content;return this.cachedContent}relativePositionFromOffset(i,r){var n,s;return this.parser==null?null:this.parser.positionFromOffset(((s=(n=this.contentOffset)==null?void 0:n.offset)!=null?s:0)+i,r)}getInterpolationNode(i){if(this.processedInterpolationRegions.has(i)){let r=this.processedInterpolationRegions.get(i);if(r.length>0&&r[0]instanceof G)return r[0]}return null}_lexerRelativeOffset(i,r=null){var o,l,u;let n=i;if(r!=null&&(n=r),this.parser==null){let c=new Kt;return c.index=i,c.offset=i,c}let s=i+this.rawStart.length+((l=(o=this.startPosition)==null?void 0:o.index)!=null?l:0);return this.isTagNode&&this.nameStartsOn!=null&&(s=this.nameStartsOn.index+i,ti.isConditionalStructure(this)||(s-=this.rawStart.length),((u=this.name)==null?void 0:u.name)=="unless"&&(s+=6)),this.parser.positionFromOffset(s,s,!0)}relativeOffset(i,r=null){var o,l;let n=i;if(r!=null&&(n=r),this.parser==null){let u=new Kt;return u.index=i,u.offset=i,u}let s=i+this.rawStart.length+((l=(o=this.startPosition)==null?void 0:o.index)!=null?l:0);return this.parser.positionFromOffset(s,s,!0)}isPaired(){return this.isClosingTag&&this.isSelfClosing==!1&&this.isOpenedBy!=null?!0:!(this.isClosedBy==null||this.isSelfClosing)}getFinalClosingTag(){return this.isClosedBy==null?this:this.isClosedBy.getFinalClosingTag()}rawContent(){return this.rawStart+this.content+this.rawEnd}getTrueRuntimeNodes(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRuntimeNodes():this.runtimeNodes}getTrueRawContent(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRawContent():this.rawContent()}getTrueNode(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueNode():this}getStructuralChildren(){return this.isClosedBy!=null?Zh(this.children.slice(0,-1)):Zh(this.children)}findParentOfType(i){return this.parent==null?null:this.parent instanceof G?this.parent.name!=null&&i.includes(this.parent.getTagName())?this.parent:this.parent.findParentOfType(i):null}},zi=class extends G{static makeWithStartPosition(e){let i=new zi;return i.startPosition=e,i.endPosition=e,i}},yt=class extends zi{},cr=class extends G{constructor(){super(...arguments);this.recursiveParent=null;this.isNestedRecursive=!1}},Rs=class extends G{constructor(){super(...arguments);this.isEchoNode=!1}},Co=class extends zi{},wf=class extends zi{},ii=class extends G{constructor(){super(...arguments);this.isNoParseRegion=!1}},As=class extends ie{constructor(){super(...arguments);this.modifier=null;this.isModifierParameter=!1;this.nameDelimiter='"';this.isVariableReference=!1;this.name="";this.value="";this.interpolations=[];this.parent=null;this.blockPosition=null;this.namePosition=null;this.valuePosition=null;this.hasValidValueDelimiter=!0}containsSimpleValue(){return this.hasInterpolations()==!1&&this.isVariableReference==!1}hasInterpolations(){return this.interpolations.length>0}getArrayValue(){return this.value.split("|")}getValue(){return this.value}},Ro=class{constructor(){this.modifierTarget=null;this.modifierChain=[];this.startPosition=null;this.endPosition=null;this.lastManifestedModifier=null;this.lastModifier=null}updateValues(){if(this.modifierChain.length==0)this.startPosition=null,this.endPosition=null;else{let e=this.modifierChain[0],i=this.modifierChain[this.modifierChain.length-1];this.startPosition=e.startPosition,this.endPosition=i.endPosition}}},Na=class extends ie{constructor(){super(...arguments);this.modifier=null;this.methodStyleArguments=null;this.nameNode=null;this.name="";this.valueNodes=[];this.parameters=[]}getParameterValues(){let i=[];return this.parameters.forEach(r=>{i.push(r.value)}),i}},Ao=class extends ie{constructor(){super(...arguments);this.order=0;this.name=null;this.directionNode=null}},xf=class extends ie{constructor(){super(...arguments);this.value=""}},Fr=class extends ie{},fr=class extends ie{},Or=class extends ie{},Xi=class extends ie{},Qi=class extends ie{},fn=class extends ie{},es=class extends ie{constructor(){super(...arguments);this.repeat=1}},dr=class extends ie{},Ji=class extends ie{},Ri=class extends ie{},Lr=class extends ie{},kr=class extends ie{},Zi=class extends ie{},Mr=class extends ie{},qr=class extends ie{},dn=class extends ie{},Ai=class extends ie{},pr=class extends ie{},En=class extends ie{},Vr=class extends ie{},Br=class extends ie{},jr=class extends ie{},Ur=class extends ie{},Gr=class extends ie{},Wr=class extends ie{},wn=class extends ie{},Hr=class extends ie{},mi=class extends ie{},Es=class extends ie{constructor(){super(...arguments);this.orderClauses=[]}},wt=class extends ie{},Ii=class extends ie{},Eo=class extends ie{constructor(){super(...arguments);this.left=null;this.right=null}},Ei=class extends ie{constructor(){super(...arguments);this.isTenaryBranchSeparator=!1}},Yr=class extends ie{},mr=class extends ie{},hi=class extends ie{},hr=class extends ie{},pn=class extends ie{},gr=class extends ie{},wi=class extends ie{},mn=class extends ie{},$t=class extends ie{},zt=class extends ie{},Sa=class extends ie{constructor(){super(...arguments);this.values=[];this.isNamedNode=!1;this.parsedName=null}},We=class extends ie{constructor(){super(...arguments);this.start=null;this.end=null;this.nodes=[];this.scopeOperator=null}},Ca=class extends ie{constructor(){super(...arguments);this.condition=null;this.expression=null}},ws=class extends ie{constructor(){super(...arguments);this.cases=[]}},Df=class extends ie{constructor(){super(...arguments);this.left=null;this.right=null}},xn=class extends ie{constructor(){super(...arguments);this.nodes=[]}},wo=class extends ie{constructor(){super(...arguments);this.head=null;this.truthBranch=null;this.falseBranch=null}},kt=class extends ie{},jt=class extends ie{constructor(){super(...arguments);this.nodes=[];this.separatorToken=null}},_r=class extends We{constructor(){super(...arguments);this.scope=null}extract(){let i=null;this.scope!=null&&(i=this.scope.name);let r=this.nodes[0];return[i,r.nodes]}},Dn=class extends _r{constructor(){super(...arguments);this.alias=null}},Ra=class extends ie{constructor(){super(...arguments);this.args=[];this.hasNamedArguments=!1;this.numberOfNamedArguments=0}},yr=class extends ie{},Ff=class extends ie{};var ts=class extends ie{constructor(){super(...arguments);this.libraryName="";this.methodName="";this.arguments=null}},$e=class extends ie{constructor(){super(...arguments);this.sourceContent=""}},ri=class extends ie{constructor(){super(...arguments);this.method=null;this.args=null}},Mt=class extends ie{constructor(){super(...arguments);this.name=""}},Xt=class extends ie{constructor(){super(...arguments);this.value="";this.name=""}},au=class extends ie{constructor(){super(...arguments);this.name=null;this.value=null}},xo=class extends ie{constructor(){super(...arguments);this.name=null;this.value=null}},Ut=class extends ie{constructor(){super(...arguments);this.value=null}},Rt=class extends ie{constructor(){super(...arguments);this.value="";this.sourceTerminator="";this.sourceContent=""}},le=class extends ie{constructor(){super(...arguments);this.name="";this.mergeRefName="";this.variableReference=null;this.interpolationNodes=[];this.isInterpolationReference=!1}},Of=class extends ie{constructor(){super(...arguments);this.name=""}},vi=class extends ie{constructor(){super(...arguments);this.delimiter="";this.name="";this.isStringVar=!1;this.isFinal=!1}},hn=class{constructor(){this.originalContent="";this.normalizedReference="";this.isStrictTagReference=!1;this.isStrictVariableReference=!1;this.isExplicitVariableReference=!1;this.isVariableVariable=!1;this.pathParts=[];this.isFinal=!1;this._isFromEmptyFailState=!1}clone(){let e=new hn;return e.originalContent=this.originalContent,e.normalizedReference=this.normalizedReference,e.isStrictVariableReference=this.isStrictVariableReference,e.isExplicitVariableReference=this.isExplicitVariableReference,e.pathParts=this.pathParts,e.isFinal=this.isFinal,e}implodePaths(){let e=[];return this.pathParts.forEach(i=>{i instanceof vi?e.push(i.name):i instanceof hn&&e.push(i.implodePaths())}),e.join(".")}},Lf=class{constructor(e,i,r){this.target=e,this.value=i,this.operator=r}};var kP=ee(pi());var Do=ee(_t());function tg(t,e){let i=[];if(t.currentNode==null)return i;let r={start:{line:t.position.line,character:t.position.character-0},end:t.position};for(let n=0;n<e.length;n++){let s=e[n];if(!t.currentNode.hasParameter(s.name)){let a=s.name;t.leftWord!=null&&a.startsWith(t.leftWord)&&(a=a.substring(t.leftWord.length));let o=a+'="$1"';i.push({label:s.name,kind:Do.CompletionItemKind.Value,insertTextFormat:Do.InsertTextFormat.Snippet,textEdit:Do.TextEdit.replace(r,o),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return i}var Fo=ee(_t());function xs(t,e,i){return{label:t,insertText:t,kind:Fo.CompletionItemKind.Field,detail:i+": "+e}}function Qx(t,e){let i="";return e.length>0&&(i=e.join(", ")),"**"+t+"** `"+i+"`  \n"}function kf(t){let e=Qx(t.name,t.acceptsType),i="";if(t.parameters.length>0){let s=[];t.parameters.forEach(a=>{s.push("$"+a.name)}),i=s.join(", ")}let r="";if(t.returnsType.length==1)r=t.returnsType[0];else{let s=[];t.returnsType.forEach(a=>{s.push(a)}),r=s.join(", ")}return e+=t.description+`
`,e+="```js\n",e+="function "+t.name+"("+i+"):"+r,e+="\n```",t.docLink!=null&&t.docLink.trim().length>0&&(e+=`  

`,e+="[Documentation Reference]("+t.docLink+")"),{label:t.name,insertText:t.name,documentation:{kind:Fo.MarkupKind.Markdown,value:e},kind:Fo.CompletionItemKind.Function}}function Mf(t){let e=[];for(let i=0;i<t.length;i++)typeof t[i].name!="undefined"&&e.push(ig(t[i]));return e}function ig(t){let e="",i=t.name;return t.instructionText!=null&&(e=t.instructionText),t.displayName!=null&&(i=t.displayName+" ("+t.name+")"),t.blueprintName!=null&&(e.trim().length>0&&(e+=`
`),e+="Blueprint: "+t.blueprintName),t.type!=null&&(i+=": "+t.type),{label:t.name,insertText:t.name,kind:Fo.CompletionItemKind.Field,documentation:e,detail:i}}function Le(t,e,i,r){let n="**"+t+"**  ";return n+=`
`,n+=e+"  ",n+="\n```antlers\n",n+=i,n+="\n```",r!=null&&(n+=`

`,n+="[Documentation Reference]("+r+")"),n}function q(t,e,i){let r="**"+t+"**  ";return r+=`
`,r+=e+"  ",i!=null&&(r+=`

`,r+="[Documentation Reference]("+i+")"),r}function Oo(t){let e=[];return t=="order"&&e.push("sort"),e}var Xb=["replicator","bard"];function Jx(t){return{blueprintName:t.sourceName,displayName:t.name,instructionText:"",maxItems:-1,name:t.name,refFieldSetField:null,type:t.dataType,sets:null,import:null}}function qf(t){let e=[];for(let i=0;i<t.length;i++)e.push(Jx(t[i]));return e}function rg(t,e=""){return{blueprintName:"fieldset",displayName:e+t.name,instructionText:t.instructionText,maxItems:t.maxItems,name:e+t.handle,type:t.type,refFieldSetField:t,sets:t.sets,import:t.import}}function Qb(t,e,i){return t=="select"&&typeof e.field.multiple!="undefined"&&e.field.multiple===!0&&(t="select_multiple"),(typeof e.field.multiple=="undefined"||i>1)&&(t=="form"?t="form_multiple":t=="sites"?t="sites_multiple":t=="taxonomies"?t="taxonomies_multiple":t=="user_groups"?t="user_groups_multiple":t=="user_roles"?t="user_roles_multiple":t=="terms"?t="terms_multiple":t=="users"?t="users_multiple":t=="structures"&&(t="structures_multiple")),t}function Jb(t){let e=[];for(let i=0;i<t.length;i++)e.push(rg(t[i]));return e}function nt(t){return[{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"order",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t}]}function Zb(t,e,i){if(typeof i=="undefined"||i===null)return;let r=t.findParameter("as"),n=t.findParameter("scope");i=i.concat(qf(nt(t))),r!=null&&n!=null?e.introduceScopedAliasScope(t,n.value,r.value,i):r!=null?e.introduceAliasScope(t,r.value,i):n!=null?e.introduceDynamicScopeList(t,n.value,i):e.addBlueprintFields(t,i)}function ev(t){return[{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t},{name:"total_results",dataType:"integer",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t}]}var gn=ee(_t());var Ds=[{isRequired:!1,name:"from",description:"The collection name to retrieve entries from",aliases:["folder","use"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"not_from",aliases:["not_folder","dont_use"],description:"The collections to exclude when retrieving entries",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"show_unpublished",aliases:null,description:"Controls whether unpbulished entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_published",aliases:null,description:"Controls whether published entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_past",aliases:null,description:"Controls whether to display entries with a past date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"since",aliases:null,description:"Sets the minimum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"until",aliases:null,description:"Sets the maximum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the entry sort order",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",aliases:null,description:"Sets the maximum number of entries to return",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["integer"],isDynamic:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope",expectsTypes:["string"],isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets the amount that entry results should be offset by",expectsTypes:["integer"],isRequired:!1,name:"offset",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether not to paginate entry results",expectsTypes:["boolean","number"],isRequired:!1,name:"paginate",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies a name to give to a new entries array variable",expectsTypes:["string"],isRequired:!1,name:"as",isDynamic:!1},{name:"scope",aliases:null,acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Sets a prefix on all entry variables",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"locale",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the locale in which to retrieve entry content",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"redirects",aliases:["links"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Controls whether entries with redirects are returned",expectsTypes:["boolean"],isRequired:!1,isDynamic:!1},{name:"page_name",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"Allows you to customise the name of the URL query parameter used for pagination.",expectsTypes:["string"],isRequired:!1,isDynamic:!1}],tv=["from","folder","use"],iv=["not_from","not_folder","dont_use"],rv=["draft","scheduled","expired","published"];function nv(t){let e=[];if(t.project!=null){let i={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position},r=t.project.getUniqueTaxonomyNames();for(let n=0;n<r.length;n++){let s=r[n],a=t.originalLeftWord+s+'="$1"';e.push({label:t.originalLeftWord+s,insertTextFormat:gn.InsertTextFormat.Snippet,kind:gn.CompletionItemKind.Field,textEdit:gn.TextEdit.replace(i,a),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return e}function Lo(t,e){let i=[];if(t.reference!=null){let r=t.reference,n=e.statamicProject.getBlueprintFields(r.collectionNames);typeof n!="undefined"&&n!=null&&(i=n)}return i}function sv(t){let e=[],i=rv.filter(r=>!t.includes(r));for(let r=0;r<i.length;r++)e.push({label:i[r],kind:gn.CompletionItemKind.Variable});return e}function av(t,e,i){let r=[],n=i.getTaxonomyTerms(e),s=n.filter(a=>!t.includes(a));for(let a=0;a<s.length;a++)r.push({label:s[a],kind:gn.CompletionItemKind.Variable});return r}function ov(t){let e=[],i=t.getCollectionNames();for(let r=0;r<i.length;r++)e.push({label:i[r],kind:gn.CompletionItemKind.Variable});return e}function ko(t,e){let i=[],r=e.getCollectionNames().filter(n=>!t.includes(n));for(let n=0;n<r.length;n++)i.push({label:r[n],kind:gn.CompletionItemKind.Variable});return i}function Vf(t){let e=[],i=t.getCollectionQueryScopes();for(let r=0;r<i.length;r++)e.push({label:i[r].name,detail:i[r].description,kind:gn.CompletionItemKind.Variable});return e}function Mo(t,e){if(t.isClosingTag)return e;if(t.hasMethodPart()&&t.getMethodNameValue()!="count"&&e.addVariables(ev(t)),t.reference!=null){let i=Lo(t,e),r=t.reference;i.length==0&&r.collectionNames.length>0&&(i.push({blueprintName:r.collectionNames[0],displayName:"Title",import:null,instructionText:"",maxItems:null,name:"title",type:"string",refFieldSetField:null,sets:[]}),i.push({blueprintName:r.collectionNames[0],displayName:"Slug",import:null,instructionText:"",maxItems:null,name:"slug",type:"string",refFieldSetField:null,sets:[]}),i.push({blueprintName:r.collectionNames[0],displayName:"Date",import:null,instructionText:"",maxItems:null,name:"date",type:"string",refFieldSetField:null,sets:[]})),Zb(t,e,i)}return e}var ou=ee(pi());var Bf=ee(_t());var ng=[{name:"is",description:"Tests if a field is equal to a value"},{name:"equals",description:"Tests if a field is equal to a value"},{name:"not",description:"Tests if a field is not equal to a value"},{name:"isnt",description:"Tests if a field is not equal to a value"},{name:"exists",description:"Tests if a field exists"},{name:"isset",description:"Tests if a field exists"},{name:"doesnt_exist",description:"Tests if a field does not exist"},{name:"is_empty",description:"Tests if a field does not exist"},{name:"null",description:"Tests if a field does not exist"},{name:"contains",description:"Tests if a field contains a value"},{name:"doesnt_contain",description:"Tests if a field does not contain a value"},{name:"in",description:"Tests if a value is in an array"},{name:"not_in",description:"Tests if an array does not contain a value"},{name:"starts_with",description:"Tests if a field starts with a value"},{name:"doesnt_start_with",description:"Tests if a field does not start with a value"},{name:"ends_with",description:"Tests if a field ends with a value"},{name:"doesnt_end_with",description:"Tests if a field does not end with a value"},{name:"gt",description:"Tests if a field is greater than a value"},{name:"lt",description:"Tests if a field is less than a value"},{name:"gte",description:"Tests if a field is greater than or equal to a value"},{name:"lte",description:"Tests if a field is less than or equal to a value"},{name:"matches",description:"Tests if a field matches a case insensitive regex"},{name:"regex",description:"Tests if a field matches a case insensitive regex"},{name:"doesnt_match",description:"Tests if a field does not match a case insensitive regex"},{name:"is_alpha",description:"Tests if a field contains only alphabetical characters"},{name:"is_numeric",description:"Tests if a field contains only numeric characters"},{name:"is_alpha_numeric",description:"Tests if a field contains only alpha-numeric characters"},{name:"is_url",description:"Tests if a field is a valid URL"},{name:"is_embeddable",description:"Tests if a field is an embeddable video URL"},{name:"is_email",description:"Tests if a field is a valid email address"},{name:"is_after",description:"Tests if a field is after a given date"},{name:"is_before",description:"Tests if a field is before a given date"}];function Fs(t){let e=[],i={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};for(let r=0;r<ng.length;r++){let n=ng[r],s=t.originalLeftWord+n.name+'="$1"';e.push({label:n.name,insertTextFormat:Bf.InsertTextFormat.PlainText,kind:Bf.CompletionItemKind.Field})}return e}var Qt=ee(Ci());var Os=class{static clear(e){this.unclosedNodes.delete(e)}static registerNodes(e,i){this.unclosedNodes.set(e,i)}static getUnclosedTags(e,i){var a,o,l;let r=[];if(this.unclosedNodes.has(e)==!1)return r;let n=this.unclosedNodes.get(e);if(n.length==0)return r;let s=i.line+1;for(let u=0;u<n.length;u++){let c=n[u];(((a=c.endPosition)==null?void 0:a.line)==s&&i.character>c.endPosition.char||s>((l=(o=c.endPosition)==null?void 0:o.line)!=null?l:0))&&r.push(c)}return r}static hasUnclosedTags(e,i){return this.unclosedNodes.has(e)==!1?!1:this.getUnclosedTags(e,i).length>0}};Os.unclosedNodes=new Map;var lv=["edit_url","id","last_modified","permalink","published","slug","template","url"];function Ls(t){return[{name:"edit_url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"id",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"last_modified",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"permalink",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"published",dataType:"boolean",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"slug",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"template",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t}]}var Tr=ee(pi()),uv=[{label:"name",kind:Tr.CompletionItemKind.Property},{label:"description",kind:Tr.CompletionItemKind.Property},{label:"desc",kind:Tr.CompletionItemKind.Property},{label:"entry",kind:Tr.CompletionItemKind.Property},{label:"collection",kind:Tr.CompletionItemKind.Property},{label:"blueprint",kind:Tr.CompletionItemKind.Property},{label:"var",kind:Tr.CompletionItemKind.Property},{label:"set",kind:Tr.CompletionItemKind.Property},{label:"param",kind:Tr.CompletionItemKind.Property},{label:"param*",kind:Tr.CompletionItemKind.Property},{label:"front",kind:Tr.CompletionItemKind.Property},{label:"format",kind:Tr.CompletionItemKind.Property}];var jf=ee(_t()),Zx=[{label:"if",kind:jf.CompletionItemKind.Keyword},{label:"elseif",kind:jf.CompletionItemKind.Keyword},{label:"else",kind:jf.CompletionItemKind.Keyword}],cv=Zx;var qo=ee(pi()),fv=ee(_t());var Uf=class{static getCompletions(e,i){var a;let r=[],n=0;e.leftWord!=e.leftMeaningfulWord&&(n=e.leftWord.length);let s={start:{line:e.position.line,character:e.position.character-n},end:e.position};return(a=Ve.instance)==null||a.getModifiersForType(i.dataType).filter(o=>o.canBeParameter).forEach(o=>{r.push({label:o.name,documentation:{kind:fv.MarkupKind.Markdown,value:o.description},insertTextFormat:qo.InsertTextFormat.Snippet,kind:qo.CompletionItemKind.Value,textEdit:qo.TextEdit.replace(s,o.name+'="$1" '),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}),r}};var sg=ee(_t()),Vo=[];Vo.push({label:"true",kind:sg.CompletionItemKind.Keyword});Vo.push({label:"false",kind:sg.CompletionItemKind.Keyword});function dv(t){let e=[];for(let i=0;i<t.expectsTypes.length;i++)t.expectsTypes[i]=="boolean"&&(e=e.concat(Vo));return e}function tt(t){return[{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"value",introducedBy:t},{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"key",introducedBy:t}]}var eD={name:"array",augmentScope:(t,e)=>{e.addVariables(tt(t)),e.addVariables(nt(t))}},pv=eD;function Bo(t){return[{name:"id",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"title",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"path",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"basename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_asset",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_audio",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_previewable",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_video",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"edit_url",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"permalink",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_b",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_kb",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_mb",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_gb",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus_css",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"width",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"orientation",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"ratio",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"mime_type",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"duration",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"duration_seconds",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"duration_sec",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"playtime",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t}]}var tD={name:"assets",augmentScope:(t,e)=>{e.addVariables(tt(t)),e.addVariables(Bo(t))}},mv=tD;var iD={name:"bard",augmentScope:(t,e)=>{e.addVariable({name:"type",dataType:"string",sourceField:null,sourceName:"*internal.bard",introducedBy:t})},injectCompletions:(t,e,i)=>[]},hv=iD;var rD={name:"form_multiple",augmentScope:(t,e)=>{e.addVariables(tt(t)),e.addVariables(nt(t))}},gv=rD;var nD={name:"list",augmentScope:(t,e)=>{e.addVariables(tt(t)),e.addVariables(nt(t))}},_v=nD;function yv(t){return[{name:"type",dataType:"string",sourceName:"*internal.replicator",sourceField:null,introducedBy:t}]}var sD={name:"replicator",augmentScope:(t,e)=>{e.addVariables(yv(t)),e.addVariables(nt(t))},injectCompletions:(t,e,i)=>[]},Tv=sD;var aD={name:"select_multiple",augmentScope:(t,e)=>{e.addVariables(tt(t)),e.addVariables(nt(t))}},bv=aD;var oD={name:"sites_multiple",augmentScope:(t,e)=>{e.addVariables(tt(t)),e.addVariables(nt(t))}},vv=oD;var lD={name:"structures_multiple",augmentScope:(t,e)=>{e.addVariables(tt(t)),e.addVariables(nt(t))}},Iv=lD;var uD={name:"table",augmentScope:(t,e)=>{e.addVariable({name:"cells",dataType:"array",sourceName:"*internal.fieldtype.table",sourceField:null,introducedBy:t})}},Pv=uD;var cD={name:"tags",augmentScope:(t,e)=>{e.addVariables(tt(t)),e.addVariables(nt(t))}},Nv=cD;function Gf(t){return Ls(t).concat([{name:"entries_count",dataType:"number",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"is_term",dataType:"boolean",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"taxonomy",dataType:"string",sourceName:"*internal.term",sourceField:null,introducedBy:t}])}var fD={name:"taxonomies_multiple",augmentScope:(t,e)=>{e.addVariables(tt(t)),e.addVariables(nt(t)),e.addVariables(Gf(t))}},Sv=fD;var dD={name:"terms_multiple",augmentScope:(t,e)=>{e.addVariables(tt(t)),e.addVariables(nt(t)),e.addVariables(Gf(t))}},Cv=dD;var pD={name:"user_groups_multiple",augmentScope:(t,e)=>{e.addVariables(tt(t)),e.addVariables(nt(t))}},Rv=pD;var mD={name:"user_roles_multiple",augmentScope:(t,e)=>{e.addVariables(tt(t)),e.addVariables(nt(t))}},Av=mD;var hD={name:"users_multiple",augmentScope:(t,e)=>{e.addVariables(tt(t)),e.addVariables(nt(t)),e.injectBlueprint(t,"user")}},Ev=hD;var gD={name:"yaml",augmentScope:(t,e)=>{e.addVariables(tt(t)),e.addVariables(nt(t))}},wv=gD;var _D=[pv,mv,hv,gv,_v,Tv,bv,vv,Iv,wv,Pv,Sv,Nv,Cv,Ev,Rv,Av],xv=_D;var is=class{constructor(){this.fieldTypes=new Map}getFieldTypes(){return this.fieldTypes}getFieldType(e){return this.fieldTypes.get(e)}registerFieldtypes(e){for(let i=0;i<e.length;i++)this.fieldTypes.set(e[i].name,e[i])}loadCoreFieldtypes(){this.registerFieldtypes(xv)}hasFieldtype(e){return this.fieldTypes.has(e)}};is.instance=null;(typeof is.instance=="undefined"||is.instance==null)&&(is.instance=new is,is.instance.loadCoreFieldtypes());var ks=is;var Wf=class{static getVariableSuggestions(e,i){var n,s;let r=[];if(i.scopeVariable!=null&&i.scopeVariable.sourceField!=null&&(n=ks.instance)!=null&&n.hasFieldtype(i.scopeVariable.sourceField.type)){let a=(s=ks.instance)==null?void 0:s.getFieldType(i.scopeVariable.sourceField.type);a.injectCompletions!=null&&(r=a.injectCompletions(e,i.scopeVariable.sourceField,i))}return r}};var yD=["if","elseif","unless","elseunless"],TD=["else","/if"];function Dv(t,e){var l,u,c,f,d,p,m,T;let i=(u=(l=t.startPosition)==null?void 0:l.line)!=null?u:-1,r=(f=(c=t.endPosition)==null?void 0:c.line)!=null?f:1,n=(p=(d=t.startPosition)==null?void 0:d.char)!=null?p:-1,s=(T=(m=t.endPosition)==null?void 0:m.char)!=null?T:-1,a=e.line+1,o=e.character+1;return i==r&&a==i+1&&o>n&&o<=s||a==i&&o>n&&o<=s||a==r&&o<s||a>i&&a<r}function Yf(t){let e="";return t.currentNode!=null&&(e=t.currentNode.getMethodNameValue()),e}function rs(t){if(t.includes(":")==!1)return t;let e=t.split(":");return e.length>1?e[e.length-1]:e[0].trim()}function Kf(t){return t.includes(":")==!1?t:t.split(":")[0]}function Fv(t){var i;if(t.nodesInScope.length==0)return[];let e=t.nodesInScope[t.nodesInScope.length-1];return((i=t.context)==null?void 0:i.node)!=null&&(e=t.context.node),e.currentScope==null?[]:Aa(t,e.currentScope)}function Aa(t,e){let i=[];return e.values.forEach(r=>{var n;if(r.sourceField!=null?i.push({label:r.name,detail:r.sourceField.blueprintName,documentation:(n=r.sourceField.instructionText)!=null?n:"",kind:Qt.CompletionItemKind.Field}):i.push(xs(r.name,"","")),r.dataType.trim().length>0&&r.dataType=="array"){let s=r.name+` }}
    $1
{{ /`+r.name+" ",a={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};i.push({label:r.name+" loop",insertTextFormat:Qt.InsertTextFormat.Snippet,kind:Qt.CompletionItemKind.Snippet,textEdit:Qt.TextEdit.replace(a,s),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}),e.lists.forEach((r,n)=>{i.push(xs(n,"",""))}),i}function bD(){var e;let t=[];return(e=Ve.instance)==null||e.getRegisteredModifiers().forEach(i=>{i.isDeprecated||t.push(kf(i))}),t}var Hf=class{static getSuggestions(e){var s,a,o,l,u,c,f,d,p,m,T,P,_,g,y,E,L,C,B,w,$,oe,U,J,ce,ne,X,Be,ht,oi,it,Qe,Wn,Hn;if(e==null)return[];if(e.context!=null&&e.context.node!=null&&e.context.node.isComment)return e.context.node.antlersNodeIndex==1?uv:[];if(e.nodesInScope.length==0)return[];if(e.leftMeaningfulWord==null&&e.leftChar=="/"){let he=Os.getUnclosedTags(e.document,e.position);if(he.length>0){let pe=[],be="";e.rightChar=="}"&&(be=" ");for(let de=0;de<he.length;de++)pe.push({label:he[de].runtimeName()+be,kind:Qt.CompletionItemKind.Text});return pe}}let i=e.nodesInScope[e.nodesInScope.length-1];if(i instanceof Rs)return[];let r=[],n=!0;if(i.currentScope!=null&&((s=e.context)==null?void 0:s.variableContext)!=null&&e.context.variableContext.varPathText.length>0){if(i.currentScope.hasListInHistory(e.context.variableContext.varPathText)){let he=i.currentScope.getList(e.context.variableContext.varPathText);he!=null&&Aa(e,he).forEach(pe=>{r.push({...pe,sortText:"00"})})}else if(i.currentScope.containsPath(e.context.variableContext.varPathText)){let he=i.currentScope.findNestedScope(e.context.variableContext.varPathText);he!=null&&Aa(e,he).forEach(pe=>{r.push({...pe,sortText:"00"})})}}if(((a=e.context)==null?void 0:a.modifierContext)!=null&&(e.context.modifierContext.inModifierName||e.context.modifierContext.inModifierName==!1&&e.context.modifierContext.inModifierParameter==!1||e.context.feature==null||e.leftChar=="|"&&e.context.char==" ")&&(r=r.concat(bD())),e.nodesInScope.length>=2){let he=e.nodesInScope.length-2,pe=[];for(let be=he;be>=0;be--){let de=e.nodesInScope[be];pe=pe.concat(Wf.getVariableSuggestions(e,de))}pe.length>0&&(r=r.concat(pe))}if((((o=e.currentNode)==null?void 0:o.isEmpty())||((l=e.context)==null?void 0:l.isCursorInIdentifier)&&e.leftChar!=":"&&e.leftChar!=" ")&&((u=e.context)==null?void 0:u.modifierContext)==null){let he=(f=(c=Fe.instance)==null?void 0:c.getVisibleTagsWithDocumentation())!=null?f:[],pe=[],be=[];for(let de=0;de<he.length;de++){let Ee="000";if(e.leftWord!=null&&he[de].label.startsWith(e.leftWord)==!1&&(Ee="001"),((d=e.context)==null?void 0:d.node)!=null&&((p=e.context)==null?void 0:p.node.parent)!=null&&(Ee=void 0),he[de].label.includes(":")==!1)pe.includes(he[de].label)==!1&&(be.push({label:he[de].label,kind:Qt.CompletionItemKind.Text,documentation:{kind:"markdown",value:he[de].documentation},sortText:Ee}),pe.push(he[de].label));else{let Ft=he[de].label.split(":")[0];pe.includes(Ft)==!1&&(be.push({label:Ft,kind:Qt.CompletionItemKind.Text,documentation:{kind:"markdown",value:he[de].documentation},sortText:Ee}),pe.push(Ft))}}r=r.concat(be)}if(i!=null&&i.currentScope!=null){if(TD.includes(i.getTagName()))return[];if(((m=e.context)==null?void 0:m.node)==null)return[];if(e.antlersDocument!=null){let he=e.antlersDocument.cursor.getAssignmentsBefore(e.position.line,e.position.character);he.length>0&&he.forEach(pe=>{pe.target instanceof le&&r.push({label:pe.target.name,kind:Qt.CompletionItemKind.Variable})})}if(yD.includes(i.getTagName())&&e.context.feature!=null&&e.context.feature instanceof Rt&&e.context.feature.prev instanceof Ai&&e.context.feature.prev.prev instanceof le){let he=i.getParser();if(he!=null&&e.project!=null&&he.getLanguageParser().isMergedVariableComponent(e.context.feature.prev.prev)){let be=he.getLanguageParser().getMergedVariable(e.context.feature.prev.prev),de=[];return be.name=="collection:handle"?de=e.project.getUniqueCollectionNames():be.name=="site:handle"?de=e.project.getSiteNames():be.name=="blueprint:handle"&&(de=e.project.getBlueprintNames()),de.forEach(Ee=>{r.push({label:Ee,sortText:Ee,kind:Qt.CompletionItemKind.EnumMember})}),r}if(["collection","current_template","status","blueprint","response_code"].includes(e.context.feature.prev.prev.name)){if(e.project!=null){let be=e.context.feature.prev.prev.name,de=[];return be=="collection"?de=e.project.getUniqueCollectionNames():be=="current_template"?de=e.project.getTemplateNames():be=="status"?de=["draft","scheduled","expired","published"]:be=="blueprint"?de=e.project.getBlueprintNames():be=="response_code"&&(de=["404","200"]),de.forEach(Ee=>{r.push({label:Ee,sortText:Ee,kind:Qt.CompletionItemKind.EnumMember})}),r}}else if(e.context.feature.prev.prev.scopeVariable!=null){let be=e.context.feature.prev.prev.scopeVariable.dataType;if(be=="replicator"||be=="bard"){let de=e.context.feature.prev.prev.scopeVariable.sourceField;return(T=de.sets)==null||T.forEach(Ee=>{let Ft="**"+Ee.displayName+"** `"+Ee.handle+"`  ";Ft+=`

 Blueprint: \``+de.blueprintName+"`  \n",Ee.fields.forEach(Pn=>{Ft+=`
 * `+Pn.displayName+" `"+Pn.name+":"+Pn.type+"`  "}),be=="replicator"?Ft+=`

 [Replicator Templating Documentation](https://statamic.dev/fieldtypes/replicator#templating)`:Ft+=`

 [Bard Templating Documentation](https://statamic.dev/fieldtypes/bard#with-sets)`,r.push({label:Ee.displayName,insertText:Ee.handle,sortText:"000",documentation:{kind:"markdown",value:Ft},kind:Qt.CompletionItemKind.EnumMember})}),r}}}if(i.isTagNode==!1){r=r.concat(cv);let he={start:{line:e.position.line,character:e.position.character-e.originalLeftWord.length},end:e.position},pe=`if $1 }}
    $2
{{ else }}

{{ /if `;r.push({label:"ifelse",insertTextFormat:Qt.InsertTextFormat.Snippet,kind:Qt.CompletionItemKind.Snippet,textEdit:Qt.TextEdit.replace(he,pe),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}),i.scopeVariable!=null&&(r=r.concat(Uf.getCompletions(e,i.scopeVariable)))}if(i.currentScope.hasListInHistory(i.runtimeName())==!1&&i.currentScope.hasPristineReference(i.runtimeName())==!1?n=(_=(P=Fe.instance)==null?void 0:P.injectParentScope(i.runtimeName()))!=null?_:!1:n=!1,((g=e.context)==null?void 0:g.parameterContext)!=null&&e.context.parameterContext.parameter!=null&&(e.context.parameterContext.parameter.isVariableReference==!1?n=!1:n=!0),e.currentNode!=null&&(e.currentNode.isEmpty()||e.currentNode.parent!=null)&&(n=!0),i.runtimeName().includes(":")&&i.currentScope.containsPath(cn(i.runtimeName(),":"))){let he=cn(i.runtimeName(),":"),pe=Dr(cn(e.leftWord,":"),"{");if(he==pe){let be=i.currentScope.findNestedScope(he);if(be!=null)return be.lists.forEach((de,Ee)=>{r.push(xs(Ee,"",""))}),be.values.forEach(de=>{var Ee;de.sourceField!=null?r.push({label:de.name,detail:de.sourceField.blueprintName,documentation:(Ee=de.sourceField.instructionText)!=null?Ee:"",kind:Qt.CompletionItemKind.Field}):r.push(xs(de.name,"",""))}),r}}if(i.isTagNode){if(e.isInVariableInterpolation&&e.currentNode==null)r=r.concat(Aa(e,i.currentScope.ancestor()));else if(((y=e.context)==null?void 0:y.parameterContext)!=null&&e.context.parameterContext.parameter!=null){let he=e.context.parameterContext.parameter;if(he.isVariableReference&&e.position.character<=((C=(L=(E=he.valuePosition)==null?void 0:E.end)==null?void 0:L.char)!=null?C:-1)){if(r=r.concat(Aa(e,i.currentScope.ancestor())),Fe.instance!=null){let pe=Fe.instance.getCompletionItems(e);r=r.concat(pe.items)}}else if(e.position.character<=(($=(w=(B=he.valuePosition)==null?void 0:B.end)==null?void 0:w.char)!=null?$:-1)){let pe=null,be=!1;if((oe=Fe.instance)!=null&&oe.canResolveDynamicParameter(i.runtimeName())){let de=Fe.instance.findTag(i.runtimeName());typeof de!="undefined"&&typeof de.resolveDynamicParameter!="undefined"&&de.resolveDynamicParameter!=null&&(pe=de.resolveDynamicParameter(i,he.name),be=!0)}else pe=(J=(U=Fe.instance)==null?void 0:U.getParameter(i.runtimeName(),he.name))!=null?J:null;if(pe==null&&be&&(pe=(ne=(ce=Fe.instance)==null?void 0:ce.getParameter(i.runtimeName(),he.name))!=null?ne:null),typeof pe!="undefined"&&pe!==null){let de=(Be=(X=Fe.instance)==null?void 0:X.resolveParameterCompletions(i.runtimeName(),pe,e))!=null?Be:null;de!==null&&de.items.length>0?de.items.forEach(Ee=>{Ee.sortText="000",r.push(Ee)}):dv(pe).forEach(Ee=>{Ee.sortText="000",r.push(Ee)})}if(he.hasInterpolations()&&e.isInVariableInterpolation&&i.isTagNode){let de=(ht=Fe.instance)==null?void 0:ht.findTag(i.runtimeName());if(de.resolveCompletionItems!=null){let Ee=de.resolveCompletionItems(e);Ee.items.length>0&&(r=Ee.items)}}}}else if(e.isInVariableInterpolation==!1||e.currentNode==i){let he=Dv(i,e.position);if(e.isCaretInTag=he,e.currentNode=i,Fe.instance!=null){let pe=Fe.instance.getCompletionItems(e);pe.isExclusive?r=pe.items:r=r.concat(pe.items)}}}else e.isInVariableInterpolation&&e.currentNode==null&&(r=r.concat(Aa(e,i.currentScope.ancestor())));if(n){e.context.node!=null&&e.context.node.currentScope!=null&&(e.context.modifierContext==null||e.context.modifierContext.activeModifier==null)&&(r=r.concat(Aa(e,e.context.node.currentScope)));let he=decodeURIComponent(e.document);if(e.project.hasViewCollectionInjections(he)){let pe=e.project.getCollectionNamesForView(he);for(let be=0;be<pe.length;be++){let de=e.project.getBlueprintFields(pe);if(de.length>0)for(let Ee=0;Ee<de.length;Ee++){let Ft=de[Ee];r.push({label:Ft.name,detail:Ft.blueprintName,documentation:(oi=Ft.instructionText)!=null?oi:"",kind:Qt.CompletionItemKind.Field})}}lv.forEach(be=>{r.push({label:be,kind:Qt.CompletionItemKind.Field})})}}return e.context.node!=null&&(e.context.node.manifestType=="array"&&e.context.node.isClosedBy!=null?e.context.modifierContext!=null&&((Qe=(it=Ve.instance)==null?void 0:it.getModifiersForType("array"))!=null?Qe:[]).forEach(pe=>{if(pe.isDeprecated)return;let be=kf(pe);be.sortText="000",r.push(be)}):e.context.modifierContext!=null&&((Hn=(Wn=Ve.instance)==null?void 0:Wn.getModifiersForType(e.context.node.manifestType))!=null?Hn:[]).forEach(pe=>{if(pe.isDeprecated)return;let be=kf(pe);be.sortText="000",r.push(be)})),r}for(let he=0;he<e.nodesInScope.length;he++){let pe=e.nodesInScope[he],be=!0;if(e.isInVariableInterpolation&&e.currentNode!==null&&pe.currentScope!=null&&e.currentNode.currentScope!=null&&pe.currentScope.generation>e.currentNode.currentScope.generation&&(be=!1),pe.isTagNode&&be){let de=Dv(pe,e.position);if(e.isCaretInTag=de,e.currentNode=pe,Fe.instance!=null){let Ee=Fe.instance.getCompletionItems(e);if(Ee.isExclusive){r=Ee.items;break}r=r.concat(Ee.items)}continue}}return r}};var Ov=ee(pi());function Te(t){let e="";typeof t!="undefined"&&typeof t.resolveDocumentation!="undefined"&&t.resolveDocumentation!=null&&(e=t.resolveDocumentation());let i=t.tagName;if(i.includes(":")){let r=i.split(":");i=r[r.length-1]}return{label:i,kind:Ov.CompletionItemKind.Text,sortText:"1",documentation:{kind:"markdown",value:e}}}var ag=ee(_t());function Lv(t,e,i){return{name:t,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:e,expectsTypes:["string"],isDynamic:!0,isRequired:!1,documentationLink:i,docLinkName:"MDN Reference"}}var kv=Lv("class","A space-separated list of the classes of the element.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/class"),Mv=Lv("style","Contains CSS styling declarations to be applied to the element. Note that it is recommended for styles to be defined in a separate file or files.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/style");function $f(t){return t=="class"?kv:t=="style"?Mv:{name:t,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"",expectsTypes:["string","number","array"],isRequired:!1,isDynamic:!0}}function qv(t){let e=[];for(let i=0;i<t.length;i++)e.push({label:t[i],kind:ag.CompletionItemKind.Field});return re(e)}function Pt(t){let e=[];for(let i=0;i<t.length;i++)e.push({label:t[i],kind:ag.CompletionItemKind.Field});return re(e)}function re(t){return{items:t,isExclusiveResult:!0,analyzeDefaults:!1}}function xi(t){return{items:t,isExclusiveResult:!1,analyzeDefaults:!0}}var Ie={items:[],isExclusiveResult:!1,analyzeDefaults:!0};function dt(t,e){let i=vD(t);return i.tagName=e,i}function vD(t){return{allowsArbitraryParameters:t.allowsArbitraryParameters,allowsContentClose:t.allowsContentClose,injectParentScope:t.injectParentScope,parameters:t.parameters,requiresClose:t.requiresClose,tagName:t.tagName,introducedIn:t.introducedIn,hideFromCompletions:t.hideFromCompletions,augmentScope:t.augmentScope,requiresCloseResolver:t.requiresCloseResolver,resolveCompletionItems:t.resolveCompletionItems,resolveDynamicParameter:t.resolveDynamicParameter,resolveSpecialType:t.resolveSpecialType,resovleParameterCompletionItems:t.resovleParameterCompletionItems,suggestAlternativeParams:t.suggestAlternativeParams,resolveDocumentation:t.resolveDocumentation}}function Vv(t){return t.findParameterValueOrNull("scope")}function Bv(t){t.getAllNodes().forEach(i=>{i instanceof G&&i.manifestType==="array"&&(i.mustClose=!0)})}function ID(t){return t.findParameterValueOrNull("as")}var PD=["count","next","previous"];function ND(t,e){let i=[];if(t.hasMethodPart()){let o=t.getMethodNameValue();if(PD.includes(o)==!1)return i.push(o),i}let r=t.findAnyParameter(tv),n=t.findAnyParameter(iv),s=[],a=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueCollectionNames(),typeof n!="undefined"&&n!==null&&n.isVariableReference==!1&&n.hasInterpolations()==!1&&(a=n.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),a.length>0?i=s.filter(function(o){return a.includes(o)==!1}):i=s,i}function Ms(t,e){var u,c,f,d,p,m;let i=ND(t,e),r=!1,n=!1,s=!1,a=null,o="";if(t.isClosingTag==!1){let T=ID(t),P=Vv(t);T!=null&&(r=!0,o=T),P!=null&&(s=!0,a=P),n=t.hasParameter("paginate")}return{context:{collectionNames:i!=null?i:[],endPosition:(c=(u=t.endPosition)==null?void 0:u.char)!=null?c:0,aliasName:o,isAliased:r,isScoped:s,scopeName:a,isStartOfScope:!t.isClosingTag,line:(d=(f=t.startPosition)==null?void 0:f.line)!=null?d:0,startPosition:(m=(p=t.startPosition)==null?void 0:p.char)!=null?m:0,isPaginated:n,excludeCollections:[],includeCollections:[]},issues:[]}}function jo(t,e){if(t==null)return null;let i=Dr(e,":");return i.includes(":")&&(i=i.split(":")[0]),i=="status"||i=="taxonomy"||t.currentScope!=null&&t.currentScope.containsReference(i)?$f(e):null}var SD=["from","folder","use","not_from","not_folder"],CD=["previous","next"],RD=["in","collection"];function qs(t,e){var i,r,n,s,a,o,l,u,c,f;if(t.isDynamic){let d=Kf(t.name);if(e.nodesInScope.length>0){let p=e.nodesInScope[e.nodesInScope.length-1];if(p!=null&&p.currentScope!=null){let m=Lo(p,p.currentScope),T=m.map(_=>_.name),P=rs(e.leftWord);if(T.includes(P))return re(Fs(e))}}if(d=="status"&&((i=e.context)==null?void 0:i.parameterContext)!=null)return re(sv((n=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?n:[]));if(d=="taxonomy"){let p=rs(t.name);if(e.project.hasTaxonomy(p)&&((s=e.context)==null?void 0:s.parameterContext)!=null)return re(av((o=(a=e.context.parameterContext.parameter)==null?void 0:a.getArrayValue())!=null?o:[],p,e.project))}}if(t.name=="filter"||t.name=="query_scope")return re(Vf(e.project));if(e.nodesInScope.length>0){let d=e.nodesInScope[e.nodesInScope.length-1];if(d.hasMethodPart()&&CD.includes(d.getMethodNameValue())&&RD.includes(t.name))return re(ov(e.project))}return SD.includes(t.name)&&((l=e.context)==null?void 0:l.parameterContext)!=null?re(ko((f=(c=(u=e.context)==null?void 0:u.parameterContext.parameter)==null?void 0:c.getArrayValue())!=null?f:[],e.project)):null}var AD={tagName:"collection:previous",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...Ds,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:Mo,resolveDynamicParameter:jo,resolveSpecialType:Ms,suggestAlternativeParams:Oo,resovleParameterCompletionItems:qs,resolveCompletionItems:Uo,resolveDocumentation:t=>Le("collection:previous Tag","The `collection:previous` tag is used to show the entries that appear before the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the previous two entries, based on dates in ascending order. #}}
{{ collection:previous in="articles" limit="2" sort="date:asc" }}

{{ /collection:previous }}`,"https://statamic.dev/tags/collection-previous")},Ea=AD;var zf=dt(Ea,"collection:older"),Xf=dt(Ea,"collection:newer");var ED={tagName:"collection:count",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...Ds,{isRequired:!0,name:"in",aliases:["from"],description:"The collection from which to count entries",acceptsVariableInterpolation:!0,allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:Ms,resovleParameterCompletionItems:qs,resolveDocumentation:t=>Le("collection:count Tag","The `collection:count` tag returns the total number of entries in the specified collection(s). The collection count tag accepts the same parameters as the collection tag, allowing developers to count entries that meet specific conditions.",`Total entry count: {{ collection:count in="collection-name" }}
Draft count: {{ collection:count in="collection-name" status:in="draft" }}`,"https://statamic.dev/tags/collection-count")},Qf=ED;var wD={tagName:"collection:next",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...Ds,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:Mo,resolveDynamicParameter:jo,resolveSpecialType:Ms,suggestAlternativeParams:Oo,resovleParameterCompletionItems:qs,resolveCompletionItems:Uo,resolveDocumentation:t=>Le("collection:next Tag","The `collection:next` tag is used to show the entries that will appear after the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the next two entries, based on dates in ascending order. #}}
{{ collection:next in="articles" limit="2" sort="date:asc" }}

{{ /collection:next }}`,"https://statamic.dev/tags/collection-next")},Jf=wD;function Uo(t){var i,r;let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="collection"||t.leftWord=="/collection")&&t.leftChar==":"){let n=t.project.getCollectionNames();for(let s=0;s<n.length;s++)e.push({label:n[s],kind:ou.CompletionItemKind.Field,sortText:"0"});return e.push(Te(Qf)),e.push(Te(Jf)),e.push(Te(Ea)),e.push(Te(zf)),e.push(Te(Xf)),{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}if(t.currentNode!=null&&t.currentNode.currentScope!=null){let n=Lo(t.currentNode,t.currentNode.currentScope),s=n.map(o=>o.name),a=rs(t.leftWord);if(a==="taxonomy")return re(nv(t));if(s.includes(a))return e=Fs(t),re(e);if(t.isCaretInTag&&!((i=t.context)!=null&&i.isInParameter)&&["collection","/collection"].includes(t.leftWord)==!1&&t.leftChar!=" "){let o=[];for(let l=0;l<n.length;l++){let u=n[l];o.includes(u.name)==!1&&(e.push({label:u.name,detail:u.blueprintName,documentation:(r=u.instructionText)!=null?r:"",kind:ou.CompletionItemKind.Field}),o.push(u.name))}if(e.push({label:"taxonomy",insertText:"taxonomy:",kind:ou.CompletionItemKind.Field}),e.push({label:"status",insertText:"status:",kind:ou.CompletionItemKind.Field}),e.length>0)return xi(e)}}return Ie}var xD={tagName:"collection",hideFromCompletions:!1,introducedIn:null,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:Ds,augmentScope:Mo,resolveDynamicParameter:jo,resolveSpecialType:Ms,suggestAlternativeParams:Oo,resovleParameterCompletionItems:qs,resolveCompletionItems:Uo,resolveDocumentation:t=>Le("collection Tag","The `collection` tag provides access to entry data such as blog posts, products, etc.",`{{ collection:articles as="posts" }}

	{{ posts }}
		{{ title }}
	{{ /posts }}

{{ /collection:articles }}`,"https://statamic.dev/tags/collection")},jv=xD;var DD={tagName:"cache",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,allowsContentClose:!1,allowsArbitraryParameters:!1,resovleParameterCompletionItems:(t,e)=>t.name=="scope"?Pt(["page","site","user"]):null,parameters:[{isRequired:!1,name:"for",description:"The duration the cache is valid for.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"key",description:"An arbitrary name the cache entry may be referenced by.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"scope",description:" The scope of the cached value. Either site or page.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:(t,e)=>{let i=t.findParameter("key"),r=null;if(i!=null){let n=i.value;n.trim().length>0&&(r={key:n,reference:t})}return{context:r,issues:[]}},resolveDocumentation:t=>Le("cache Tag","The `cache` tag can be used to save the results of an expensive template operation. The duration of the cache can be configured.",`{{ cache for="10 minutes" }}
    {{# Template code that won't be re-rendered for at least 10 minutes. #}}
{{ /cache }}`,"https://statamic.dev/tags/cache")},Uv=DD;var FD={tagName:"dump",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.leftWord=="dump"&&t.leftChar==":"?re(Fv(t)):Ie,resolveDocumentation:t=>Le("dump Tag","The `dump` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered.",`{{ collection:articles }}
	{{# View all data available, for each entry. #}}
    {{ dump }}
{{ /collection:articles }}`,"https://statamic.dev/tags/dump")},Gv=FD;var OD={tagName:"404",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Le("404 (Not Found) Tag","The `404` (Not Found) tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ 404 }}
{{ /unless }}`,"https://statamic.dev/tags/404")},Wv=OD;var LD={tagName:"link",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The relative path",expectsTypes:["string"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!0,isDynamic:!1},{name:"absolute",description:"Whether to generate absolute URLs. Default false",expectsTypes:["boolean"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1},{name:"id",description:"The ID of the entry to link to",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1},{name:"in",description:"The handle of the site to link to.",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>q("link Tag","The `link` tag accepts relative URLs or entry IDs and generates fully-qualified URLs to the desired content.","https://statamic.dev/tags/link")},Hv=LD;var Yv={tagName:"loop",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>q("loop Tag","The `loop` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")},Kv={tagName:"range",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>q("range Tag","The `range` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")};var br=ee(pi());function Je(t,e){return e.trim().length>0?$f(e):null}var Go=[{isRequired:!1,name:"src",description:"The name of the partial view.",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"when",description:"A condition to control whether the partial renders. The partial will not render unless it receives a truthy value.",allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["*"],isDynamic:!1},{isRequired:!1,name:"unless",description:"A condition to control whether the partial renders. The partial will not render unless it receives a falsey value.",allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["*"],isDynamic:!1}];var lu=ee(pi());function Wo(t,e){var i;if(t.isDynamic&&e.currentNode!=null&&e.currentNode.getTagName()=="partial"&&e.currentNode.hasMethodPart()){let r=e.currentNode.getMethodNameValue();if(r.trim().length>0&&(i=fe.instance)!=null&&i.hasStructure()){let n=fe.instance.getStructure().findRelativeView(r);if(n!=null&&n.varReferenceNames.has(t.name)){let s=n.varReferenceNames.get(t.name);if(n.document!=null&&n.document.hasFrontMatter()){let a=n.document.getFrontMatterScope();if(a!=null){let o=a.getList(s);if(o!=null)return qv(o.getVariableNames())}}}}}if(t.name=="src"){let r=e.project.getViews(),n=[];return r.forEach(s=>{if(ln.hasDetails(s.documentUri)){let a=ln.documentDetails.get(s.documentUri);n.push({label:a.documentName+"("+s.relativeDisplayName+")",insertText:s.relativeDisplayName,detail:a.documentName,documentation:{kind:lu.MarkupKind.Markdown,value:a.documentDescription},kind:lu.CompletionItemKind.File})}else n.push({label:s.relativeDisplayName,kind:lu.CompletionItemKind.File})}),re(n)}return null}var kD={tagName:"partial:exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:Go,introducedIn:"3.2.7",resovleParameterCompletionItems:Wo,resolveDocumentation:t=>q("partial:exists Tag","The `partial:exists` can be used within conditional statements to test if a partial exists.","https://statamic.dev/tags/partial-exists")},Zf=kD;var MD={tagName:"partial:if_exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:Go,introducedIn:"3.2.7",resovleParameterCompletionItems:Wo,resolveDocumentation:t=>q("partial:if_exists Tag","The `partial:if_exists` can be used to output the contents of a partial if it exists.","https://statamic.dev/tags/partial-if-exists")},ed=MD;function Ho(t){if(t.getTagName()!="partial")return null;let e="";if(t.hasMethodPart())e=t.getMethodNameValue();else{let i=t.findParameter("src");i!=null&&(e=i.value)}return e}var qD=[Te(Zf),Te(ed)],VD={tagName:"partial",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!0,parameters:Go,requiresClose:!1,allowsContentClose:!0,introducedIn:null,resolveDocumentation:t=>`**Partial Tag**  
Includes another view into the current template.  

[Documentation Reference](https://statamic.dev/tags/partial)
`,resolveDynamicParameter:Je,resovleParameterCompletionItems:Wo,resolveCompletionItems:t=>{let e=[];if(t.leftChar=='"'&&t.leftWord==':src="')return{items:[],analyzeDefaults:!0,isExclusiveResult:!1};if((t.leftWord=="partial"||t.leftWord=="/partial")&&t.leftChar==":"||t.leftWord=='src="'&&t.leftChar=='"')return t.project.getViews().forEach(r=>{let n=decodeURIComponent(r.documentUri);if(ln.hasDetails(n)){let s=ln.documentDetails.get(n);e.push({label:s.documentName+"("+r.relativeDisplayName+")",insertText:r.relativeDisplayName,detail:s.documentName,documentation:{kind:br.MarkupKind.Markdown,value:s.documentDescription},kind:br.CompletionItemKind.File})}else e.push({label:r.relativeDisplayName,kind:br.CompletionItemKind.File})}),t.leftWord!='src="'&&(e=e.concat(qD)),{analyzeDefaults:!1,isExclusiveResult:!0,items:e};if(t.currentNode!=null&&t.project!=null){let i=Ho(t.currentNode);if(i!=null&&i.trim().length>0){let r=t.project.findRelativeView(i);if(r!=null&&Re.hasDocument(r.documentUri)){let n=Re.getDocument(r.documentUri);if(n!=null){let s=n.getAllAntlersNodes(),a=BD(s),o=[];r.varReferenceNames!=null&&r.varReferenceNames.forEach((u,c)=>{a.push(c)});let l=[];if(r.injectsParameters.length>0){let u={start:{line:t.position.line,character:t.position.character-0},end:t.position};r.injectsParameters.forEach(c=>{let f=c.name+'="$1"';o.includes(c.name)||(o.push(c.name),l.push({label:c.name,kind:br.CompletionItemKind.Value,insertTextFormat:br.InsertTextFormat.Snippet,textEdit:br.TextEdit.replace(u,f),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}if(a.length>0){let u={start:{line:t.position.line,character:t.position.character-0},end:t.position};a.forEach(c=>{let f=c+'="$1"';o.includes(c)||(o.push(c),l.push({label:c,kind:br.CompletionItemKind.Value,insertTextFormat:br.InsertTextFormat.Snippet,textEdit:br.TextEdit.replace(u,f),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}return xi(l)}}}}return{analyzeDefaults:!0,isExclusiveResult:!1,items:[]}}};function BD(t){let e=[];return t.forEach(i=>{if(i.isTagNode||i.isClosingTag||i.isComment||i.hasMethodPart()&&i.getMethodNameValue().length>0||i.name!=null&&i.name.content.includes("["))return;let r=i.getTagName();!e.includes(r)&&r!="#"&&r!="slot"&&e.push(r)}),e}var $v=VD;var jD={tagName:"increment:reset",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:"3.2.28",parameters:[{isRequired:!0,name:"counter",aliases:[],description:"The incrementing counter to reset",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"to",aliases:[],description:"An optional value to reset the counter to before incrementing starts again",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveDocumentation:t=>Le("increment:reset Tag","The `increment:reset` tag can be used to reset the value of an incrementing counter.",`{{ array_variable }}
    {{ increment:counter_name }}
{{ /array_variable }}

{{ increment:reset counter="counter_name" }}
`,null)},td=jD;var UD=[Te(td)],GD={tagName:"increment",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!1,name:"from",aliases:[],description:"The number to start incrementing by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"by",aliases:[],description:"The number to increment by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveCompletionItems:t=>t.leftWord=="increment"||t.leftWord=="/increment"&&t.leftChar==":"?re(UD):Ie,resolveDocumentation:t=>q("increment Tag","The `increment` tag can be used to increment a value each time the tag is encountered.","https://statamic.dev/tags/increment")},zv=GD;var Yo=class{constructor(e){this.node=e}},Xv={tagName:"yields",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new Yo(t),issues:[]})},Qv={tagName:"yield",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new Yo(t),issues:[]}),resolveDocumentation:t=>q("yield Tag","The `yield` tag may be used to push rendered content to named regions within a template's structure.","https://statamic.dev/tags/yield")};var id=ee(_t());var Jv=[{handle:"access cp"},{handle:"configure collections"},{handle:"[view edit create delete publish reorder] {collection} entries"},{handle:"configure structures"},{handle:"[view edit] {structure} structure"},{handle:"edit {global} globals"},{handle:"[view upload edit move rename delete] {container} assets"},{handle:"[view perform] updates"},{handle:"[view edit create delete] users"},{handle:"change passwords"},{handle:"edit roles"},{handle:"configure forms"},{handle:"[view delete] {form} submissions"}];var ns=class{constructor(){this.contextItems=new Map;this.triggerNames=[];this.collectionTriggers=[];this.collectionTriggerCaps=[];this.globalTriggers=[];this.globalTriggerCaps=[];this.formTriggers=[];this.formTriggerCaps=[];this.structureTriggers=[];this.structureTriggerCaps=[];this.assetTriggers=[];this.assetTriggerCaps=[]}getCollectionTriggerCaps(){return this.collectionTriggerCaps}getGlobalTriggerCaps(){return this.globalTriggerCaps}getFormTriggerCaps(){return this.formTriggerCaps}getStructureTriggerCaps(){return this.structureTriggerCaps}getAssetTriggerCaps(){return this.assetTriggerCaps}loadCorePermissions(){this.registerPermissions(Jv)}getTriggerNames(){return this.triggerNames}isCollectionTrigger(e){return this.collectionTriggers.includes(e)}isGlobalTrigger(e){return this.globalTriggers.includes(e)}isFormTrigger(e){return this.formTriggers.includes(e)}isStructureTrigger(e){return this.structureTriggers.includes(e)}isAssetTrigger(e){return this.assetTriggers.includes(e)}getTriggerContextItems(e){return this.contextItems.has(e)?this.contextItems.get(e):[]}registerSpecialTrigger(e,i,r){i=="{collection}"?(this.collectionTriggerCaps.includes(r)==!1&&this.collectionTriggerCaps.push(r),this.collectionTriggers.includes(e)==!1&&this.collectionTriggers.push(e)):i=="{structure}"?(this.structureTriggerCaps.includes(r)==!1&&this.structureTriggerCaps.push(r),this.structureTriggers.includes(e)==!1&&this.structureTriggers.push(e)):i=="{container}"?(this.assetTriggerCaps.includes(r)==!1&&this.assetTriggerCaps.push(r),this.assetTriggers.includes(e)==!1&&this.assetTriggers.push(e)):i=="{global}"?(this.globalTriggerCaps.includes(r)==!1&&this.globalTriggerCaps.push(r),this.globalTriggers.includes(e)==!1&&this.globalTriggers.push(e)):i=="{form}"&&(this.formTriggerCaps.includes(r)==!1&&this.formTriggerCaps.push(r),this.formTriggers.includes(e)==!1&&this.formTriggers.push(e))}addContextToTrigger(e,i){var r;this.triggerNames.includes(e)==!1&&this.triggerNames.push(e),this.contextItems.has(e)==!1?this.contextItems.set(e,[i]):(r=this.contextItems.get(e))==null||r.push(i)}registerPermissions(e){for(let i=0;i<e.length;i++){let r=e[i],n=[],s="",a="";if(r.handle.includes("[")&&r.handle.includes("]")){let o=r.handle.indexOf("["),l=r.handle.indexOf("]"),u=l-o,c=r.handle.substr(o+1,u-1).split(" ").filter(d=>d.trim().length>0),f=r.handle.substr(l+1).split(" ").filter(d=>d.trim().length>0);n=c,f.length==2?(s=f[0],a=f[1]):f.length==1&&(s="",a=f[0])}else{let o=r.handle.split(" ").filter(l=>l.trim().length>0);o.length==2&&(n=[o[0]],a=o[1])}for(let o=0;o<n.length;o++){let l=n[o];s.trim().length>0?this.registerSpecialTrigger(l,s,a):this.addContextToTrigger(l,a)}}}};ns.instance=null;(typeof ns.instance=="undefined"||ns.instance==null)&&(ns.instance=new ns,ns.instance.loadCorePermissions());var vr=ns;function Zv(t,e){var r,n,s,a,o,l,u,c,f,d,p,m,T,P,_,g,y,E,L;let i=[];if(t.trim().length==0){let C=(n=(r=vr.instance)==null?void 0:r.getTriggerNames())!=null?n:[];for(let B=0;B<C.length;B++)i.push({label:C[B],kind:id.CompletionItemKind.Value})}else{let C=t.split(" ").filter(X=>X.trim().length>0),B=C[0],w=(a=(s=vr.instance)==null?void 0:s.getTriggerContextItems(B))!=null?a:[],$=(o=vr.instance)==null?void 0:o.isCollectionTrigger(B),oe=(l=vr.instance)==null?void 0:l.isGlobalTrigger(B),U=(u=vr.instance)==null?void 0:u.isFormTrigger(B),J=(c=vr.instance)==null?void 0:c.isStructureTrigger(B),ce=(f=vr.instance)==null?void 0:f.isAssetTrigger(B),ne=[];if(C.length<=2){$?ne=ne.concat(e.project.getUniqueCollectionNames()):oe?ne=ne.concat(e.project.getUniqueGlobalsNames()):U?ne=ne.concat(e.project.getUniqueFormNames()):J?ne=ne.concat(e.project.getUniqueNavigationMenuNames()):ce&&(ne=ne.concat(e.project.getUniqueAssetNames())),w.length>0&&(ne=ne.concat(w)),ne=[...new Set(ne)];for(let X=0;X<ne.length;X++)i.push({label:ne[X],kind:id.CompletionItemKind.Value})}else{let X=[];$?X=X.concat((p=(d=vr.instance)==null?void 0:d.getCollectionTriggerCaps())!=null?p:[]):oe?X=X.concat((T=(m=vr.instance)==null?void 0:m.getGlobalTriggerCaps())!=null?T:[]):U?X=X.concat((_=(P=vr.instance)==null?void 0:P.getFormTriggerCaps())!=null?_:[]):J?X=X.concat((y=(g=vr.instance)==null?void 0:g.getStructureTriggerCaps())!=null?y:[]):ce&&(X=X.concat((L=(E=vr.instance)==null?void 0:E.getAssetTriggerCaps())!=null?L:[])),X=[...new Set(X)];for(let Be=0;Be<X.length;Be++)i.push({label:X[Be],kind:id.CompletionItemKind.Value})}}return i}function rd(t,e){var r,n,s,a;let i=Kf(t.name);return((r=e.context)==null?void 0:r.parameterContext)!=null&&["do","permission"].includes(i)?re(Zv((a=(s=(n=e.context)==null?void 0:n.parameterContext.parameter)==null?void 0:s.value)!=null?a:"",e)):null}var WD={tagName:"user:can",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:rd,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>q("user:can Tag","The `user:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can")},Ko=WD;var HD={tagName:"user:logout",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>q("user:logout Tag","The `user:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout")},$o=HD;var YD={tagName:"user:logout_url",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>Le("user:logout_url","The `user:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ user:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url")},zo=YD;var eI={tagName:"switch",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>q("switch Tag","The `switch` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")},tI={tagName:"rotate",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,introducedIn:null,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>q("rotate Tag","The `rotate` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")};var KD={tagName:"oauth",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"provider",description:"The OAuth provider to be used.",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]},{name:"redirect",description:"The URL to be redirected to after authenticating.",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resovleParameterCompletionItems:(t,e)=>t.name=="provider"?Pt(e.project.getOAuthProviders()):null,resolveDocumentation:t=>Le("oauth Tag","The `oauth` tag can be used to generate login URls for various third-party services.",'<a href="{{ oauth provider="github" }}">Sign In with Github</a>',"https://statamic.dev/tags/oauth")},iI=KD;var $D={tagName:"session:dump",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>q("session:dump Tag","The `session:dump` tag will display the contents of the user's session to the browser. This tag behaves similarly to the `dd` helper functions, but returns just the session data.","https://statamic.dev/tags/session-dump")},nd=$D;var Vs=class{constructor(e){this.node=e}};var zD={tagName:"session:set",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:null,resolveDynamicParameter:Je,resolveSpecialType:(t,e)=>({context:new Vs(t),issues:[]}),resolveDocumentation:t=>q("session:set Tag","The `session:set` tag is used to add new data to the user's session.","https://statamic.dev/tags/session-set")},sd=zD;var Bs=class{constructor(){this.knownVariables=new Map}registerDocumentSessionVariables(e,i){this.knownVariables.has(e)||this.knownVariables.set(e,new Map);let r=this.knownVariables.get(e);r.clear();for(let n=0;n<i.length;n++){let s=i[n].node;if(s.hasParameters)for(let a=0;a<s.parameters.length;a++){let o=s.parameters[a];r.set(o.name,i[n])}}}getKnownSessionVariableNames(){let e=[];return this.knownVariables.forEach(i=>{i.forEach((r,n)=>{e.includes(n)==!1&&e.push(n)})}),e}};Bs.instance=null;(typeof Bs.instance=="undefined"||Bs.instance==null)&&(Bs.instance=new Bs);var wa=Bs;var rI=ee(_t());function nI(t,e){let i=[],r=t.getArrayValue(),n=e.filter(s=>!r.includes(s));for(let s=0;s<n.length;s++)i.push({label:n[s],kind:rI.CompletionItemKind.Variable});return re(i)}var XD={tagName:"session:forget",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"keys",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The session keys to clear",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var i,r,n;if(t.name=="keys"&&((i=e.context)==null?void 0:i.parameterContext)!=null){let s=(n=(r=wa.instance)==null?void 0:r.getKnownSessionVariableNames())!=null?n:[];if(e.context.parameterContext.parameter!=null)return nI(e.context.parameterContext.parameter,s)}return null},resolveDocumentation:t=>q("session:forget Tag","The `session:forget` tag is used to remove variables from the user's session.","https://statamic.dev/tags/session-forget")},ad=XD;var QD={tagName:"session:flush",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>q("session:flush Tag","The `session:flush` tag will clear all values from the visitor's session. If the visitor is currently signed in they will also be signed out.","https://statamic.dev/tags/session-flush")},od=QD;var JD={tagName:"session:flash",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:Je,resolveSpecialType:(t,e)=>({context:new Vs(t),issues:[]}),resolveDocumentation:t=>q("session:flash Tag","The `session:flash` tag can be used to add a value to the user's session. Flashed values only persist for a single request, and are then removed.","https://statamic.dev/tags/session-flash")},ld=JD;var ZD={tagName:"markdown:indent",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>q("markdown:indent Tag","The `markdown:indent` tag is similar to the markdown tag, but will ignore leading whitepsace while rendering the tag's content as markdown.","https://statamic.dev/tags/markdown-indent")},ud=ZD;var eF=[Te(ud)],tF={tagName:"markdown",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="markdown"||t.leftWord=="/markdown")&&t.leftChar==":"?re(eF):Ie,resolveDocumentation:t=>q("markdown Tag","The `markdown` tag can be used to render the tags contents as markdown.","https://statamic.dev/tags/markdown")},sI=tF;var aI=ee(pi());function cd(t,e){let i=[],r=e;if(t.trim().length>0&&t.includes(".")&&t.endsWith(".")){let n=t.substr(0,t.length-1);r=r.filter(s=>s.startsWith(n))}for(let n=0;n<r.length;n++){let s=r[n],a=!0;t.includes(".")&&(s.startsWith(t)==!1?a=!1:s=s.substr(t.length)),a&&i.push({label:s,insertText:s,kind:aI.CompletionItemKind.Text})}return i}function oI(t,e){return cd(t,e.getRouteNames())}var iF={tagName:"route",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:Je,resolveCompletionItems:t=>{if(t.leftMeaningfulWord=="route"){let e=Yf(t);return re(oI(e,t.project))}return Ie},resolveDocumentation:t=>q("route Tag","The `route` tag can be used to generate a full URL [to a named route](https://laravel.com/docs/8.x/routing#named-routes), including any defined route parameters.","https://statamic.dev/tags/route")},lI=iF;var fd=ee(_t()),uI=[{label:"301 Permanent",insertText:"301",kind:fd.CompletionItemKind.EnumMember},{label:"302 Temporary",insertText:"302",kind:fd.CompletionItemKind.EnumMember},{label:"404 Not Found",insertText:"404",kind:fd.CompletionItemKind.EnumMember}];var rF={tagName:"redirect",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The destination URL.",aliases:["url"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!0},{name:"response",description:"The HTTP response code to use.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:t=>t.name=="response"?re(uI):Ie,resolveDocumentation:t=>q("redirect Tag","The `redirect` tag can be used to redirect the site visitor to a URL or named route. An optional HTTP status code can also be specified on the response using the `response` parameter.","https://statamic.dev/tags/redirect")},cI=rF;var fI=ee(_t());var js=class{constructor(){this.knownSections=new Map}registerDocumentSections(e,i){this.knownSections.has(e)||this.knownSections.set(e,new Map);let r=this.knownSections.get(e);r.clear();for(let n=0;n<i.length;n++){let s=i[n];s.node.hasMethodPart()&&r.set(s.node.getMethodNameValue(),s)}}getKnownSectionNames(){let e=[];return this.knownSections.forEach(i=>{i.forEach((r,n)=>{e.includes(n)==!1&&e.push(n)})}),e}};js.instance=null;(typeof js.instance=="undefined"||js.instance==null)&&(js.instance=new js);var dd=js;var nF={tagName:"section",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>{var e,i;if((t.leftWord=="section"||t.leftWord=="/section")&&t.leftChar==":"){let r=[],n=(i=(e=dd.instance)==null?void 0:e.getKnownSectionNames())!=null?i:[];for(let s=0;s<n.length;s++)r.push({label:n[s],kind:fI.CompletionItemKind.Field});return xi(r)}return Ie},resolveDocumentation:t=>q("section Tag","The `section` tag is used to push content to a named region defined by the `yield` tag.","https://statamic.dev/tags/section")},dI=nF;var sF={tagName:"obfuscate",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>q("obfuscate Tag","The `obfuscate` tag converts the tags's content into a format that is difficult for bots to read, but can easily be viewed by users within their browser.","https://statamic.dev/tags/obfuscate")},pI=sF;var aF={tagName:"parent",hideFromCompletions:!1,requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>q("parent Tag","The `parent` tag provides access to data from the current page's parent (the URL one level above the current page).","https://statamic.dev/tags/parent")},mI=aF;function og(t,e){return cd(t,e.getTranslationKeys())}var oF=["translate","trans","trans_choice"],pd={tagName:"translate",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!0,parameters:[{isRequired:!1,name:"key",description:"The key of the translation string to find.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"locale",description:"The locale to be used when translating.",acceptsVariableInterpolation:!1,aliases:["site"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"count",description:"The number of items to use for pluralization.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var i;if(t.name=="key"){let r="";return((i=e.context)==null?void 0:i.parameterContext)!=null&&e.context.parameterContext.parameter!=null&&(r=e.context.parameterContext.parameter.value),re(og(r,e.project))}return Ie},resolveDynamicParameter:Je,resolveCompletionItems:t=>{if(t.leftMeaningfulWord!=null&&oF.includes(t.leftMeaningfulWord)){let e=Yf(t);return re(og(e,t.project))}return Ie},resolveDocumentation:t=>q("trans Tag","The `trans` tag can be used to retrieve a string for the current locale's language file.","https://statamic.dev/tags/trans")},hI=dt(pd,"trans"),lg=dt(pd,"trans_choice");lg.resolveDocumentation=t=>q("trans_choice Tag","The `trans_choice` tag can be used to retrieve a pluralized string for the current locale's language file.","https://statamic.dev/tags/trans#pluralization");var lF={tagName:"svg",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The SVG filename relative to the project root",expectsTypes:["string"],isDynamic:!1}],resolveDynamicParameter:Je,resolveDocumentation:t=>q("svg Tag","The `svg` tag can be used to render inline SVGs, as well as set attributes on the rendered `<svg>` element.","https://statamic.dev/tags/svg")},gI=lF;var uF={tagName:"asset",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The path to the file",expectsTypes:["string"],isDynamic:!1,name:"url"}],augmentScope:(t,e)=>(e.addVariables(Bo(t)),e),resolveDocumentation:t=>Le("asset Tag","The `asset` tag can be used to retrive Assets by supplying a URL.",`{{ asset url="/url/for/asset.png" }}
    <img src="{{ url }}" alt="{{ alt }}" />
{{ /asset }}`,"https://statamic.dev/tags/asset")},_I=uF;var yI=ee(_t());function ug(t){let e=[],i=t.getUniqueAssetNames();for(let r=0;r<i.length;r++)e.push({label:i[r],kind:yI.CompletionItemKind.Field});return e}var TI=["container","id","handle"],cF={tagName:"assets",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"container",aliases:["id","handle"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The handle of the asset container.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"folder",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Filters the resulting assets by specific folder.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"recursive",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Returns all assets in all subdirectories.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"limit",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Limits the total results",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sort entries by any asset variable.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>TI.includes(t.name)?re(ug(e.project)):Ie,augmentScope:(t,e)=>{e.addVariables(Bo(t));let i="";if(t.name!=null&&t.name.getMethodName()!=null)i=t.name.getMethodName();else{let r=t.findAnyParameter(TI);r!=null&&r.containsSimpleValue()&&(i=r.value)}return i.length>0&&e.injectAssetContainer(t,i),e},resolveCompletionItems:t=>(t.leftWord=="assets"||t.leftWord=="/assets")&&t.leftChar==":"?re(ug(t.project)):Ie,resolveDocumentation:t=>Le("assets Tag","The `assets` tag can be used to retrieve multiple Assets from an Asset container.",`{{ assets container="container-name" }}
    {{# Loop over all assets in the container. #}}
	<img src="{{ url }}" alt="{{ alt }}" />
{{ /assets }}`,"https://statamic.dev/tags/assets")},bI=cF;var fF={tagName:"get_content",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!1,parameters:[{isRequired:!1,name:"from",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"The ID to retrieve data for.",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"locale",aliases:["site"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The locale to show the content in.",expectsTypes:["string"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="locale"||t.name=="site"?Pt(e.project.getSiteNames()):null,resolveDocumentation:t=>Le("get_content Tag","The `get_content` tag can be used to retrieve content from other entries. This tag accepts the ID of another entry, and will return access to all data for that entry.",`{{ get_content from="the-entry-id" }}
{{ /get_content }}`,"https://statamic.dev/tags/get_content")},vI=fF;function II(t){return[{name:"basename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"last_modified",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_b",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_mb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t}]}var dF={tagName:"get_files",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"in",aliases:["from"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The directory to find files in relative to the public directory",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"depth",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The depth of the subdirectories",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"not_in",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"The subdirectories or pattern to exclude",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_size",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],description:"The file size filter to use",isDynamic:!1},{isRequired:!1,name:"ext",aliases:["extension"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The extension(s) to filter by",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"include",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:["match"],description:"Filter files by a regular expression",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"exclude",description:"Excludes files by a regular expression",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_date",description:"Filters files by last modified date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",description:"Limits the total number of results",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"offset",description:"The number of entries the results should be offset by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sorts the listing by extension, size, last_modified, or random",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>(e.addVariables(II(t)),e),resolveDocumentation:t=>q("get_files Tag","The `get_files` tag can be used to display information about files on the site's local filesystem.","https://statamic.dev/tags/get_files")},PI=dF;function md(t){return[{name:"width",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.glide",sourceField:null,introducedBy:t}]}var NI=ee(_t());function _n(t,e,i){var r,n,s,a,o,l,u,c,f,d,p,m;return{endLine:(s=(n=(r=i.valuePosition)==null?void 0:r.end)==null?void 0:n.line)!=null?s:0,startLine:(l=(o=(a=i.namePosition)==null?void 0:a.start)==null?void 0:o.line)!=null?l:0,endPos:(f=(c=(u=i.valuePosition)==null?void 0:u.end)==null?void 0:c.char)!=null?f:0,startPos:(m=(p=(d=i.namePosition)==null?void 0:d.start)==null?void 0:p.char)!=null?m:0,message:t,severity:NI.DiagnosticSeverity.Error}}var cg=["greyscale","sepia"],fg=["jpg","pjpg","png","gif","webp","avif","tif","bmp","psd"],SI=["auto","0","90","180","270"],Xo=[{isRequired:!1,name:"src",aliases:["path","id"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The URL of the image when not using shorthand syntax.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"tag",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Outputs an image tag when set to true.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"alt",description:"The alt attribute value to use when generating tags.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"absolute",description:"Whether to output full URLs.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{name:"width",expectsTypes:["number"],isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The width of the image, in pixels.",isDynamic:!1},{name:"height",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],description:"The height of the image, in pixels.",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"square",expectsTypes:["number"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets both then height and width of the image.",isDynamic:!1,isRequired:!1},{name:"fit",expectsTypes:["string"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"How the image is fitted to its target dimensions.",isDynamic:!1,isRequired:!1},{name:"crop",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Crops the image to the specific dimensions.",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"orient",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Rotates the image.",expectsTypes:["*"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!SI.includes(e.value)&&i.push(_n("Invalid orient value",t,e)),i}},{name:"quality",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Defines the quality of the image",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"dpr",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"Defines the device pixel ratio.",expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=parseInt(e.value),r=[];return e.containsSimpleValue()&&(i<1||i>8)&&r.push(_n("dpr must be an integer between 1 and 8.",t,e)),r}},{name:"format",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Encodes the image to a specific format.",expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!fg.includes(e.value)&&i.push(_n("Format must be one of: "+fg.join(","),t,e)),i}},{name:"bg",description:"Sets the background color for transparent images.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"blur",description:"Adds a blur effect to the image.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=parseInt(e.value),r=[];return e.containsSimpleValue()&&(i<0||i>100)&&r.push(_n("blur must be a value between 0 and 100.",t,e)),r}},{name:"brightness",description:"Adjusts the image brightness.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=parseInt(e.value),r=[];return e.containsSimpleValue()&&(i<-100||i>100)&&r.push(_n("brightness must be a value between -100 and 100.",t,e)),r}},{name:"contrast",description:"Adjusts the image contrast.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=parseInt(e.value),r=[];return e.containsSimpleValue()&&(i<-100||i>100)&&r.push(_n("contrast must be a value between -100 and 100.",t,e)),r}},{name:"gamma",description:"Adjusts the image gamma.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=parseFloat(e.value),r=[];return e.containsSimpleValue()&&(i<.1||i>9.99)&&r.push(_n("gamma must be a value between 0.1 and 9.99.",t,e)),r}},{name:"sharpen",description:"Sharpens the image.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=parseInt(e.value),r=[];return e.containsSimpleValue()&&(i<0||i>100)&&r.push(_n("sharpen must be a value between 0 and 100.",t,e)),r}},{name:"pixelate",description:"Applies a pixelation effect to the image.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=parseInt(e.value),r=[];return e.containsSimpleValue()&&(i<0||i>100)&&r.push(_n("pixelate must be a value between 0 and 100.",t,e)),r}},{name:"filter",description:"Applies a filter effect to the image.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!cg.includes(e.value)&&i.push(_n("Filter must be one of: "+cg.join(","),t,e)),i}},{name:"preset",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],description:"A collection of pre-configured image manipulation parameters.",isDynamic:!1,isRequired:!1}];function Qo(t,e){return t.name=="orient"?Pt(SI):t.name=="format"?Pt(fg):t.name=="filter"?Pt(cg):t.name=="preset"?Pt(e.project.getAssetPresets()):Ie}var pF={tagName:"glide:batch",hideFromCompletions:!1,requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,injectParentScope:!1,parameters:Xo,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(md(t)),e),resovleParameterCompletionItems:Qo,resolveDocumentation:t=>q("glide:batch Tag","The `glide:batch` tag is similar to the glide tag, but can be used to apply image manipulations to multiple images within a piece of content.","https://statamic.dev/tags/glide-batch")},hd=pF;var mF={tagName:"glide:data_url",hideFromCompletions:!1,requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,injectParentScope:!1,parameters:Xo,introducedIn:null,resovleParameterCompletionItems:Qo,resolveDocumentation:t=>q("glide:data_url Tag","The `glide:data_url` tag returns manipulated image datas as a data URI.",null)},gd=mF;var hF=[Te(hd),Te(gd)],gF={tagName:"glide",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!1,parameters:Xo,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(md(t)),e),resovleParameterCompletionItems:Qo,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="glide"||t.leftWord=="/glide")&&t.leftChar==":"?re(hF):Ie,resolveDocumentation:t=>q("glide Tag","The `glide` tag is used to manipulate images on the fly. Image manipulations may include resizing, cropping, or adjusting sharpness and constrast, amongst many others.","https://statamic.dev/tags/glide")},CI=gF;var RI={tagName:"iterate",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>q("iterate Tag","The `iterate` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")},AI={tagName:"foreach",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>q("foreach Tag","The `foreach` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")};function EI(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t},{name:"name",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}]}var _d=[{isRequired:!1,name:"id",description:"The ID of the content to localize.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"sort",description:"Sort by a site's key.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"current_first",description:"When true, ensures that the current locale is first.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"all",description:"When true, all locale data will be returned.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!0,name:"self",description:"When true, the current locale will be included.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"collection_term_workaround",description:"Disables the behavior introduced in https://github.com/statamic/cms/pull/6466.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1}];var _F={tagName:"locales:count",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:_d,introducedIn:"3.0.36",resolveDocumentation:t=>q("locales:count Tag","The `locales:count` tag can be used to count the number of locales the current content is available in.","https://statamic.dev/tags/locales-count")},yd=_F;var yF=[Te(yd)],TF={tagName:"locales",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:_d,introducedIn:null,augmentScope:(t,e)=>(e.addVariableArray("locale",EI(t)),e.addVariable({name:"current",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"exists",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"permalink",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e),resolveDocumentation:t=>q("locales Tag","The `locales` tag can be used to access all the locales the current content is available in.","https://statamic.dev/tags/locales"),resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="locale"||t.leftWord=="/locale")&&t.leftChar==":"?re(yF):Ie},wI=TF;var bF={tagName:"mix",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",description:"The path to the versioned file, relative to the public directory",acceptsVariableInterpolation:!1,aliases:["path"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"in",description:"The location of the mix manifest file",acceptsVariableInterpolation:!1,aliases:["from"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>q("mix Tag","The `mix` tag is used to return the path of CSS and JavaScript files versioned with [Laravel Mix](https://laravel.com/docs/8.x/mix).","https://statamic.dev/tags/mix")},xI=bF;var uu=ee(_t());function DI(t){let e=[],i=t.getUniqueUserGroupNames();for(let r=0;r<i.length;r++)e.push({label:i[r],kind:uu.CompletionItemKind.Field});return e}function FI(t){let e=[],i=t.getUniqueUserRoleNames();for(let r=0;r<i.length;r++)e.push({label:i[r],kind:uu.CompletionItemKind.Field});return e}function Jo(t,e){let i=[],r=e.getUniqueUserGroupNames(),n=r.filter(s=>!t.includes(s));for(let s=0;s<n.length;s++)i.push({label:n[s],kind:uu.CompletionItemKind.Field});return i}function Zo(t,e){let i=[],r=e.getUniqueUserRoleNames(),n=r.filter(s=>!t.includes(s));for(let s=0;s<n.length;s++)i.push({label:n[s],kind:uu.CompletionItemKind.Field});return i}var vF={tagName:"user:in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var i,r,n;return(t.name=="groups"||t.name=="group")&&((i=e.context)==null?void 0:i.parameterContext)!=null?re(Jo((n=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?n:[],e.project)):null},resolveDocumentation:t=>q("user:in Tag","The `user:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in")},Td=vF;var IF={tagName:"user:not_in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var i,r,n;return(t.name=="groups"||t.name=="group")&&((i=e.context)==null?void 0:i.parameterContext)!=null?re(Jo((n=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?n:[],e.project)):null},resolveDocumentation:t=>q("user:not_in Tag","The `user:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in")},el=IF;var PF={tagName:"user:is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var i,r,n;return(t.name=="roles"||t.name=="role")&&((i=e.context)==null?void 0:i.parameterContext)!=null?re(Zo((n=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?n:[],e.project)):null},resolveDocumentation:t=>q("user:is Tag","The `user:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is")},tl=PF;var NF={tagName:"user:isnt",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var i,r,n;return(t.name=="roles"||t.name=="role")&&((i=e.context)==null?void 0:i.parameterContext)!=null?re(Zo((n=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?n:[],e.project)):null},resolveDocumentation:t=>q("user:isnt Tag","The `user:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt")},il=NF;var SF={tagName:"in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var i,r,n;return(t.name=="groups"||t.name=="group")&&((i=e.context)==null?void 0:i.parameterContext)!=null?re(Jo((n=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?n:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="in"||t.leftWord=="/in")&&t.leftChar==":"?re(DI(t.project)):Ie,resolveDocumentation:t=>q("in Tag","The `in` tag can be used to check if the authenticated user belongs to one or more groups. This tag operates similarly to the `user:in` tag.","https://statamic.dev/tags/user-in")},OI=SF;var CF={tagName:"not_found",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>Le("404 (Not Found) Tag","The `not_found` tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ not_found }}
{{ /unless }}`,"https://statamic.dev/tags/404")},LI=CF;var RF={tagName:"is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var i,r,n;return(t.name=="roles"||t.name=="role")&&((i=e.context)==null?void 0:i.parameterContext)!=null?re(Zo((n=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?n:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="is"||t.leftWord=="/is")&&t.leftChar==":"?re(FI(t.project)):Ie,resolveDocumentation:t=>q("is Tag","The `is` tag can be used to check whether the currently authenticated user has one or more roles. This tag behaves the same as the `user:is` tag.","https://statamic.dev/tags/user-is")},kI=RF;var AF={tagName:"widont",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Le("widont Tag","The `widont` tag is similar to the [widont modifier](https://statamic.dev/modifiers/widont), and will attempt to prevent lines with a single word from appearing within the tags rendered output.",`{{ widont }}
    {{ content }}
{{ /widont }}`,null)},MI=AF;var bd=[{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"id",description:"The user ID to fetch.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"email",description:"The email address to find the user by.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"field",description:"The field to fetch the user by",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"value",description:"The value to search for.",expectsTypes:["string"],isDynamic:!1}];var EF={tagName:"user:profile",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:bd,introducedIn:null,augmentScope:(t,e)=>(e.injectBlueprint(t,"user"),e),resovleParameterCompletionItems:(t,e)=>t.name=="field"?re(Mf(e.project.getUserFields())):Ie,resolveDocumentation:t=>q("user:profile Tag","The `user:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter.",null)},rl=EF;var qI={tagName:"dd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Le("dd Tag","The `dd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the dd tag.
	#}}
    {{ dd }}
{{ /collection:articles }}`,null)},VI={tagName:"ddd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Le("ddd Tag","The `ddd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the ddd tag.
	#}}
    {{ ddd }}
{{ /collection:articles }}`,null)};var wF={tagName:"path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["src"],allowsVariableReference:!0,description:"The path source",name:"to",isDynamic:!1,expectsTypes:["string"]},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],description:"Whether to generate absolute paths",expectsTypes:["boolean"],isDynamic:!1,name:"absolute"}],resolveDocumentation:t=>q("path Tag","The `path` tag can be used to generate URLs from relative URLs, or an entry ID.",null)},BI=wF;var xF={tagName:"user:cant",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:rd,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>q("user:cant Tag","The `user:cant` tag is used to check if the currently authenticated user does not have a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user does not have the specified permissions.","https://statamic.dev/tags/user-can#cant")},vd=xF;var DF={tagName:"query",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,parameters:[{name:"builder",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The query to evaluate",expectsTypes:["string"],isRequired:!0,isDynamic:!1}]},jI=DF;var xa=ee(_t());var Fn=[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"src",description:"The relative path to the file.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"cache_bust",description:"Whether to output the last modified date.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"version",description:"Whether to check a versioning manifest to produce the final URL.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"absolute",description:"Generate absolute URLs or not.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"locale",description:"The locale the path should be generated in.",expectsTypes:["string"],isDynamic:!1}];var FF=[{label:"asset",kind:xa.CompletionItemKind.Text},{label:"css",kind:xa.CompletionItemKind.Text},{label:"img",kind:xa.CompletionItemKind.Text},{label:"js",kind:xa.CompletionItemKind.Text},{label:"output",kind:xa.CompletionItemKind.Text},{label:"path",kind:xa.CompletionItemKind.Text}],OF={tagName:"theme",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,introducedIn:null,injectParentScope:!1,parameters:Fn,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="theme"||t.leftWord=="/theme")&&t.leftChar==":"?re(FF):Ie},UI=OF;var dg={tagName:"theme:path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:Fn,resolveDocumentation:t=>q("theme:path Tag","The `theme:path` tag may be used to generate URLs for public assets. This tag may also optionally add the current locale, generate relative URLs, or add cache busting URL parameters to the end of the generated URL.",null)},GI=dt(dg,"theme:asset");var LF={tagName:"theme:css",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...Fn,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>q("theme:css Tag","The `theme:css` tag may be used to generate a CSS path relative to a public `css/` directory for any arbitrary file path. This tag may also optionally create the HTML `link` tag.",null)},WI=LF;var kF={tagName:"theme:img",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...Fn,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]},{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"alt",description:"The alt text to use when generating the HTML tag",expectsTypes:["string"]}],resolveDocumentation:t=>q("theme:img Tag","The `theme:img` tag may be used to generate an image path relative to a public `img/` directory for any arbitrary file path. This tag may also optionally create the HTML `img` tag.",null)},HI=kF;var MF={tagName:"theme:js",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...Fn,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>q("theme:js Tag","The `theme:js` tag may be used to generate a JavaScript path relative to a public `js/` directory for any arbitrary file path. This tag may also optionally create the HTML `script` tag.",null)},YI=MF;var qF={tagName:"theme:output",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"src",description:"The path to the file",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"as",description:"An optional alias for the contents variable",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>{if(t.isClosedBy!=null){let i=t.findParameter("as");i!=null?e.addVariable({name:i.value,dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t}):e.addVariable({name:"output_contents",dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t})}return e},resolveDocumentation:t=>q("theme:output Tag","The `theme:output` tag may be used to output the contents of any arbitrary file, relative to the site's `resources/` directory.",null)},KI=qF;var VF={tagName:"scope",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Le("scope Tag","The `scope` tag creates a copy of all available variables, and saves them to a new  *array* variable defined by the tag's method part.",`{{ scope:scope_name }}
    {{ scope_name:title }}
{{ /scope:scope_name }}
`,null)},$I=VF;var BF={tagName:"if",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:Je,resolveDocumentation:t=>q("if Conditional Control Structure","The contents of the `if` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},zI=BF;var jF={tagName:"elseif",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:Je,resolveDocumentation:t=>q("elseif Conditional Control Structure","The contents of the `elseif` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},XI=jF;var UF={tagName:"else",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>q("else Conditional Control Structure","The contents of the `else` control structure will be evaluated when all previous conditional branch conditions were not met.","https://statamic.dev/antlers#conditions")},QI=UF;var JI=ee(_t());var GF={tagName:"session:has",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:"3.1.28",resolveDynamicParameter:Je,resolveDocumentation:t=>q("session:has Tag","The `session:has` tag can be used to determine of the user's session contains a specific variable.","https://statamic.dev/tags/session-has")},Id=GF;var WF=[Te(sd),Te(ld),Te(ad),Te(od),Te(Id),Te(nd)],HF={tagName:"session",requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",description:"An optional alias for the session data",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveCompletionItems:t=>{var e,i;if(t.isPastTagPart==!1&&(t.leftWord=="session"||t.leftWord=="/session")&&t.leftChar==":"){let r=(i=(e=wa.instance)==null?void 0:e.getKnownSessionVariableNames())!=null?i:[],n=[];n=n.concat(WF);for(let s=0;s<r.length;s++)n.push({label:r[s],kind:JI.CompletionItemKind.Variable});return re(n)}return Ie},augmentScope:(t,e)=>{var s,a;let i=t.findParameter("as"),r=(a=(s=wa.instance)==null?void 0:s.getKnownSessionVariableNames())!=null?a:[],n=[];for(let o=0;o<r.length;o++)n.push({dataType:"*",name:r[o],sourceField:null,sourceName:"project.session",introducedBy:t});return i==null?e.addVariables(n):e.addVariableArray(i.value,n),e}},ZI=HF;var cu={tagName:"user:forgot_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:Je,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t}]),e),resolveDocumentation:t=>q("user:forgot_password_form Tag",'The `user:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form")},pg=dt(cu,"member:forgot_password_form");pg.resolveDocumentation=t=>q("member:forgot_password_form Tag",'The `member:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form");function Us(t){return[{name:"handle",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"display",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"type",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"field",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"error",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"instructions",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"old",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t}]}function nl(t){return[{name:"success",dataType:"string",sourceField:null,sourceName:"*internal.forms",introducedBy:t},{name:"submission_created",dataType:"boolean",sourceField:null,sourceName:"*internal.forms",introducedBy:t}]}function YF(t){return[{name:"current_password",dataType:"string",sourceName:"*internal.user_password_form",sourceField:null,introducedBy:t},{name:"password",dataType:"string",sourceName:"*internal.user_password_form",sourceField:null,introducedBy:t},{name:"password_confirmation",dataType:"string",sourceName:"*internal.user_password_form",sourceField:null,introducedBy:t}]}var KF={tagName:"user:password_form",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!0,parameters:[{name:"redirect",description:"The location to redirect users after a successful form submission",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",description:"The location to redirect users to after a failed form submission",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override redirect or error_redirect",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],introducedIn:"3.3.61",allowsArbitraryParameters:!0,augmentScope:(t,e)=>{e.addVariables(nl(t)),e.addVariable({dataType:"array",name:"errors",sourceField:null,sourceName:"*internal.forms",introducedBy:t}),e.addVariableArray("fields",Us(t));let i=YF(t);return e.addVariableArray("old",i),e.addVariableArray("error",i),e}},Pd=KF;var fu={tagName:"user:reset_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:Je,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t}]),e),resolveDocumentation:t=>q("user:reset_password_form Tag","The `user:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form")},mg=dt(fu,"member:reset_password_form");mg.resolveDocumentation=t=>q("member:reset_password_form Tag","The `member:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form");function hg(t,e){return{sourceName:e.blueprintName,dataType:e.type,name:e.name,sourceField:e,introducedBy:t}}function eP(t){let e=new Map;for(let i=0;i<t.length;i++)e.set(t[i].name,t[i]);return e}function Gs(t,e){let i=[];for(let r=0;r<e.length;r++){let n=e[r];i.push({sourceName:n.blueprintName,dataType:n.type,name:n.name,sourceField:n,introducedBy:t})}return i}var $F={tagName:"user:profile_form",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!0,parameters:[{name:"redirect",description:"The location to redirect users after a successful form submission",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",description:"The location to redirect users to after a failed form submission",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override redirect or error_redirect",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],introducedIn:"3.3.61",allowsArbitraryParameters:!0,augmentScope:(t,e)=>{e.addVariables(nl(t)),e.addVariable({dataType:"array",name:"errors",sourceField:null,sourceName:"*internal.forms",introducedBy:t}),e.addVariableArray("fields",Us(t));let i=e.statamicProject.getUserFields(),r=Gs(t,i);return e.addVariableArray("old",r),e.addVariableArray("error",r),e}},Nd=$F;var du={tagName:"user:register_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after registering",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed registration attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:Je,augmentScope:(t,e)=>{e.addVariableArray("fields",Us(t)),e.addVariable({name:"errors",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"old",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"error",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"success",dataType:"string",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t});let i=e.statamicProject.getUserFields();if(i.length>0){let r=Gs(t,i);e.addVariableArray("old",r),e.addVariableArray("error",r)}return e},resolveDocumentation:t=>q("user:register_form  Form Tag","The `user:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form")},gg=dt(du,"member:register_form");gg.resolveDocumentation=t=>q("member:register_form Tag","The `member:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form");var zF=[Te(tl),Te(el),Te(il),Te(rl),Te(Ko),Te(vd),Te(cu),Te($o),Te(zo),Te(du),Te(fu),Te(Nd),Te(Pd)],XF={tagName:"user",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:bd,introducedIn:null,resovleParameterCompletionItems:(t,e)=>e.isPastTagPart==!1&&e.currentNode!=null&&e.currentNode.methodIsEmptyOrMatches("profile")&&t.name=="field"?re(Mf(e.project.getUserFields())):Ie,augmentScope:(t,e)=>(t.methodIsEmptyOrMatches("profile")&&e.injectUserFields(t),e),resolveCompletionItems:t=>(t.leftWord=="user"||t.leftWord=="/user"||t.leftWord=="member"||t.leftWord=="/member")&&t.leftChar==":"?re(zF):Ie,resolveDocumentation:t=>q("user Tag","The `user` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter.",null)},Sd=XF;var Cd=dt(Sd,"member"),_g=dt(tl,"member:is"),yg=dt(il,"member:isnt"),Tg=dt(rl,"member:profile"),bg=dt(Ko,"member:can"),vg=dt($o,"member:logout"),Ig=dt(zo,"member:logout_url"),Pg=dt(Td,"member:in"),Ng=dt(el,"member:not_in");Cd.hideFromCompletions=!0;Cd.resolveDocumentation=t=>q("member Tag","The `member` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);_g.resolveDocumentation=t=>q("member:is Tag","The `member:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is");yg.resolveDocumentation=t=>q("member:isnt Tag","The `member:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt");Tg.resolveDocumentation=t=>q("member:profile Tag","The `member:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);bg.resolveDocumentation=t=>q("member:can Tag","The `member:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can");vg.resolveDocumentation=t=>q("member:logout Tag","The `member:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout");Ig.resolveDocumentation=t=>Le("member:logout_url","The `member:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ member:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url");Pg.resolveDocumentation=t=>q("member:in Tag","The `member:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in");Ng.resolveDocumentation=t=>q("member:not_in Tag","The `member:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in");function Ws(t){return[{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t},{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t}]}var rP=ee(_t());var Cg=["from","taxonomy","is","use","folder"],Rg=["not_from","not_in","dont_use","not_taxonomy"];var Sg=Cg;Sg=Sg.concat(Rg);function tP(t,e){var i,r,n,s,a,o,l,u;if(e.nodesInScope.length>0){let c=e.nodesInScope[e.nodesInScope.length-1];if(c!=null&&c.currentScope!=null){let f=sl(c,e.project),d=e.project.getTaxonomyBlueprintFields(f),p=d.map(T=>T.name),m=rs(e.leftWord);if(p.includes(m))return re(Fs(e))}}return t.name=="collection"&&((i=e.context)==null?void 0:i.parameterContext)!=null?re(ko((s=(n=(r=e.context)==null?void 0:r.parameterContext.parameter)==null?void 0:n.getArrayValue())!=null?s:[],e.project)):t.name=="filter"||t.name=="query_scope"?re(Vf(e.project)):Sg.includes(t.name)&&((a=e.context)==null?void 0:a.parameterContext)!=null?re(iP((u=(l=(o=e.context)==null?void 0:o.parameterContext.parameter)==null?void 0:l.getArrayValue())!=null?u:[],e.project)):null}function sl(t,e){let i=[];if(t.hasMethodPart())return i.push(t.getMethodNameValue()),i;let r=t.findAnyParameter(Cg),n=t.findAnyParameter(Rg),s=[],a=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueTaxonomyNames(),typeof n!="undefined"&&n!==null&&n.isVariableReference==!1&&n.hasInterpolations()==!1&&(a=n.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),a.length>0?i=s.filter(function(o){return a.includes(o)==!1}):i=s,i}function iP(t,e){let i=[],r=e.getUniqueTaxonomyNames().filter(n=>!t.includes(n));for(let n=0;n<r.length;n++)i.push({label:r[n],kind:rP.CompletionItemKind.Variable});return i}function nP(t,e){let i=sl(t,e.statamicProject),r=e.statamicProject.getTaxonomyBlueprintFields(i),n=t.findParameter("collection");if(e.addBlueprintFields(t,r),e.addVariables([{name:"first",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"last",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"index",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"total_results",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"entries_count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t}]),e.addVariables(Ws(t)),typeof n!="undefined"&&n!==null){let s=n.getArrayValue();if(s.length>0){let a=e.statamicProject.getBlueprintFields(s);e.introduceScopedAliasScope(t,"entries","entries",a).addVariables(Ls(t))}else e.addVariableArray("entries",Ws(t).concat(Ls(t)))}else e.addVariableArray("entries",Ws(t).concat(Ls(t)));return e}var QF=[{name:"from",description:"The taxonomy to use.",aliases:["taxonomy","is","use","folder"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"not_from",description:"Taxonomies to exclude.",aliases:["not_in","not_folder","dont_use","not_taxonomy"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string","array"],isRequired:!1,isDynamic:!1},{name:"min_count",description:"The minimum number of entries a taxonomy term must have to be returned.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"collection",description:"Filter the terms to those that appear in the specified collections.",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"sort",description:"The field to sort the terms by.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope.",expectsTypes:["string"],isDynamic:!1}],sP=QF;var Ag=ee(_t());function aP(t){var i,r;let e=[];if(t.currentNode!=null&&t.currentNode.currentScope!=null){let n=sl(t.currentNode,t.project),s=t.project.getTaxonomyBlueprintFields(n),a=s.map(l=>l.name),o=rs(t.leftWord);if(a.includes(o))return re(Fs(t));if(t.isCaretInTag&&!((i=t.context)!=null&&i.interpolatedContext)&&["taxonomy","/taxonomy"].includes(t.leftWord)==!1){let l=[];for(let u=0;u<s.length;u++){let c=s[u];l.includes(c.name)==!1&&(e.push({label:c.name,detail:c.blueprintName,documentation:(r=c.instructionText)!=null?r:"",kind:Ag.CompletionItemKind.Field}),l.push(c.name))}if(e.length>0)return xi(e)}}if((t.leftWord=="taxonomy"||t.leftWord=="/taxonomy")&&t.leftChar==":"){let n=t.project.getUniqueTaxonomyNames();for(let s=0;s<n.length;s++)e.push({label:n[s],kind:Ag.CompletionItemKind.Field});return xi(e)}return Ie}var JF={tagName:"taxonomy",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:sP,resolveDynamicParameter:Je,resolveCompletionItems:aP,resovleParameterCompletionItems:tP,augmentScope:nP,resolveDocumentation:t=>q("taxonomy Tag","The `taxonomy` tag may be used to retrieve taxonomy entries. The taxonomy tag can also be used to access entries associated with any given taxonomy term.","https://statamic.dev/tags/taxonomy")},oP=JF;var Eg=ee(_t());function lP(t,e){e.addVariables([{name:"is_published",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_page",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"has_entries",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_parent",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_external",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"depth",dataType:"number",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"children",dataType:"array",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t}]);let i=e.statamicProject.getUniqueCollectionNames(),r=[],n=!1;if(t.hasMethodPart()){let s=t.getMethodNameValue().trim().toLowerCase();if(s.startsWith("collection:")){let a=s.split(":").pop();n=!0,r.push(a)}else s=="pages"?(n=!0,r.push("pages")):(n=!1,r.push(s))}else{let s=t.findParameter("handle");s!=null&&(i.includes(s.value)?n=!0:n=!1,r.push(s.value))}if(n){let s=e.statamicProject.getBlueprintFields(r);e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}else{let s=qf(Ws(t));e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}return e}var ZF={tagName:"nav:breadcrumbs",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:[{name:"include_home",description:"Whether to include the home page in the first level",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"reverse",description:"Whether to reverse the order of links",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isRequired:!1,isDynamic:!1},{name:"trim",description:"Whether to trim the whitespace after each iteration of the loop",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],augmentScope:(t,e)=>(e.addVariables([{name:"is_current",dataType:"boolean",sourceName:"*internal.nav.breadcrumbs",sourceField:null,introducedBy:t}]),e.addVariables(Ws(t)),e),resolveDocumentation:t=>q("nav:breadcrumbs Tag","The `nav:breadcrumbs` tag can be used to retrieve the URLs of all pages that make up the current URL back to the site's home page.","https://statamic.dev/tags/nav-breadcrumbs")},Rd=ZF;function uP(t,e){if(t.name=="handle"){let i=e.project.getUniqueCollectionNames(),r=e.project.getUniqueNavigationMenuNames(),n=[];return n=i,n=n.concat(r),n=[...new Set(n)],Pt(n)}return null}var eO=[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["handle"],allowsVariableReference:!1,name:"for",description:"The navigation or collection to use.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],name:"from",description:"The starting point for the navigation.",allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"show_unpublished",description:"Whether to include unpublished content.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"include_home",description:"Whether to include the home page in the tree.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"max_depth",description:"The maximum depth of the navigation or structure.",expectsTypes:["number"],isDynamic:!1}],cP=eO;var wg={tagName:"structure",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,injectParentScope:!1,parameters:cP,augmentScope:lP,resovleParameterCompletionItems:uP,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="nav"||t.leftWord=="/nav"||t.leftWord=="structure"||t.leftWord=="/structure")&&t.leftChar==":"){let i=t.project.getUniqueNavigationMenuNames();for(let r=0;r<i.length;r++)e.push(xs(i[r],"",""));return(t.leftWord=="nav"||t.leftWord=="/nav")&&e.push(Te(Rd)),e.push(xs("collection","","")),e.push({label:"collection",kind:Eg.CompletionItemKind.Text}),xi(e)}if((t.leftWord=="nav:collection"||t.leftWord=="/nav:collection"||t.leftWord=="collection"||t.leftWord=="/collection"||t.leftWord=="structure:collection"||t.leftWord=="/structure:collection")&&t.leftChar==":"){let i=t.project.getUniqueCollectionNames();for(let r=0;r<i.length;r++)e.push({label:i[r],kind:Eg.CompletionItemKind.Field});return xi(e)}return Ie},resolveDocumentation:t=>q("nav Tag","The `nav` tag can be used to iterate structured collections or navigation menus.","https://statamic.dev/tags/nav")},fP=dt(wg,"nav");var pP=ee(_t());var tO={name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},On=tO;var xg=ee(_t()),iO=[{label:"GET",kind:xg.CompletionItemKind.EnumMember},{label:"POST",kind:xg.CompletionItemKind.EnumMember}],dP=iO;var yn=["in","handle","is","form","formset"];function al(t,e){return yn.includes(t.name)?Pt(e.project.getUniqueFormNames()):t.name=="method"?re(dP):t.name=="files"?re(Vo):null}function Ln(t,e){let i=t.structure.findParentWithName("form:set");return i!=null?{context:i,issues:[]}:{context:null,issues:[]}}var rO=["set","create","errors","success","submissions","submission"];function Da(t){if(t.reference!=null&&"tagPart"in t.reference){let r=t.reference;if(r.nameMatches("form:set"))return Da(r)}let e=t.findAnyParameter(yn),i=t.getMethodNameValue();return i!=null&&rO.includes(i)==!1?i:typeof e!="undefined"&&e!==null&&e.containsSimpleValue()?e.value:""}var nO={tagName:"form:create",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[On,{name:"method",description:"The HTTP method to use",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"files",description:"Indicates if the form sends file data",aliases:[],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"redirect",description:"The location to redirect users after a successful form submission",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",description:"The location to redirect users to after a failed form submission",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override redirect or error_redirect",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveSpecialType:Ln,resovleParameterCompletionItems:al,resolveDynamicParameter:Je,augmentScope:(t,e)=>{e.addVariables(nl(t)),e.addVariable({dataType:"array",name:"errors",sourceField:null,sourceName:"*internal.forms",introducedBy:t}),e.addVariableArray("fields",Us(t));let i=Da(t);if(i.length>0){let r=e.statamicProject.getFormBlueprintFields(i),n=Gs(t,r);e.addVariableArray("old",n),e.addVariableArray("error",n)}return e},resolveDocumentation:t=>q("form:create Tag","The `form:create` tag can be used to access form data, generate field HTML markup, and handle form validation errors.","https://statamic.dev/tags/form-create")},Ad=nO;var sO={tagName:"form:errors",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[On],resolveSpecialType:Ln,resovleParameterCompletionItems:(t,e)=>yn.includes(t.name)?Pt(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>q("form:errors Tag","The `form:errors` tag can be used to retrieve validation errors after a user has submitted a form.","https://statamic.dev/tags/form-errors")},Ed=sO;var aO={tagName:"form:set",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!0}],resovleParameterCompletionItems:al,resolveDocumentation:t=>q("form:set Tag","The `form:set` tag can be used to set the form handle on all nested form tags.","https://statamic.dev/tags/form-set")},wd=aO;var oO={tagName:"form:submission",requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[On],resolveSpecialType:Ln,resovleParameterCompletionItems:(t,e)=>yn.includes(t.name)?Pt(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{let i=Da(t);if(i.length>0){let r=e.statamicProject.getFormBlueprintFields(i);e.addBlueprintFields(t,r)}return e},resolveDocumentation:t=>q("form:submission Tag","The `form:submission` tag can be used to access the form submission submitted by the current user.","https://statamic.dev/tags/form-submission")},xd=oO;var lO={tagName:"form:submissions",allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[On],resolveSpecialType:Ln,resovleParameterCompletionItems:(t,e)=>yn.includes(t.name)?Pt(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let i=Da(t);if(i.length>0){let r=e.statamicProject.getFormBlueprintFields(i);e.addBlueprintFields(t,r)}return e.addVariable({name:"date",dataType:"date",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e},resolveDocumentation:t=>q("form:submissions Tag","The `form:submissions` tag can be used to fetch previously saved submissions for a form.","https://statamic.dev/tags/form-submissions")},Dd=lO;var uO={tagName:"form:success",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[On],resolveSpecialType:Ln,resovleParameterCompletionItems:(t,e)=>yn.includes(t.name)?Pt(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>q("form:success Tag","The `form:success` tag can be used to check if a form submission was successful or not.","https://statamic.dev/tags/form-success")},Fd=uO;var cO=[Te(wd),Te(Ad),Te(Ed),Te(Fd),Te(Dd),Te(xd)],fO={tagName:"form",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resovleParameterCompletionItems:al,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="form"||t.leftWord=="/form")&&t.leftChar==":"){let i=t.project.getUniqueFormNames();e=e.concat(cO);for(let r=0;r<i.length;r++)e.push({label:i[r],kind:pP.CompletionItemKind.Field});return xi(e)}return Ie}},mP=fO;var Dg={tagName:"search:results",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"index",description:"The index to search in.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"query",description:"The query string parameter to use.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"limit",description:"The maximum number of search results to return.",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{name:"offset",description:"The number of results to skip.",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether or not to paginate entry results.",expectsTypes:["boolean"],isRequired:!1,name:"paginate",isDynamic:!1},{name:"as",description:"Specifies an alias for search results.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"supplement_data",description:"Controls whether non-indexed fields are returned.",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="index"?Pt(e.project.getSearchIndexes()):null,augmentScope:(t,e)=>{e.addVariables([{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]);let i=t.findParameter("as");return i!=null&&i.value.trim().length>0?e.addVariableArray(i.value,hP(t)):e.addVariables(hP(t)),e},resolveDocumentation:t=>q("search:results Tag","The `search:results` tag provides access to all data that was returned as a result of a user's search.","https://statamic.dev/tags/search")},dO=[Te(Dg)];function hP(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"content",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_term",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"count",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"index",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"search_score",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"_highlightResult",dataType:"array",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]}var gP={tagName:"search",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="search"||t.leftWord=="/search")&&t.leftChar==":"?xi(dO):Ie};function Fg(t){return[{name:"email",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"password",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]}var Og={tagName:"user:login_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after logging in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed login attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:Je,augmentScope:(t,e)=>(e.addVariables([{name:"errors",dataType:"array",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"success",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]),e.addVariables(Fg(t)),e.addVariableArray("old",Fg(t)),e.addVariableArray("error",Fg(t)),e),resolveDocumentation:t=>q("user:login_form Tag","The `user:login_form` tag can be used to quickly create a form that users can use to authenticate with the site.","https://statamic.dev/tags/user-login_form")},_P=dt(Og,"member:login_form");var pO={tagName:"noparse",requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>q("noparse Tag","The `noparse` tag is used prevent blocks of Antlers code from being parsed, removing the need to escape individual Antlers code regions.","https://statamic.dev/antlers#the-noparse-tag")},yP=pO;var mO={tagName:"unless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:Je,resolveDocumentation:t=>q("unless Conditional Control Structure","The `unless` control structure operates the same as an `if` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},TP=mO;var hO={tagName:"elseunless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:Je,resolveDocumentation:t=>q("elseunless Conditional Control Structure","The `elseunless` control structure operates the same as an `elseif` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},bP=hO;var vP=ee(pi());var IP={tagName:"installed",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!0,introducedIn:"3.1.19",parameters:[],resolveCompletionItems:t=>{if(t.project!=null){let e=t.project.getComposerPackages(),i=[];return e.forEach((r,n)=>{i.push({label:r.name,kind:vP.CompletionItemKind.Text})}),re(i)}return Ie},resolveDocumentation:t=>Le("installed Tag","The `installed` tag is used to check if the site has a specific Composer package available.",`{{ if {installed:composer/package-name} }}
    {{# Package is availabl.e #}}
{{ else }}
    {{# Something else. #}}
{{ /if }}`,"https://statamic.dev/tags/installed")};var gO={tagName:"relate",hideFromCompletions:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[]},PP=gO;var ol=[{name:"bag",description:"The error message bag to retrieve errors from.",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}];var _O={tagName:"get_errors",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:ol,introducedIn:"3.2.23",augmentScope:(t,e)=>{var i;if(t.isClosingTag)return e;if(((i=t.name)==null?void 0:i.methodPart)==null){let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"field",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"field",refFieldSetField:null,sets:null,type:"string"}});let n=r.copy();n.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),r.addScopeList("messages",n),e.addScopeList("fields",r)}else{let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",r)}return e},resolveDocumentation:t=>q("get_errors Tag","The `get_errors` tag can be used to retrieve form validation errors.","https://statamic.dev/tags/get_errors")},NP=_O;var yO={tagName:"get_errors:all",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:ol,introducedIn:null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let i=e.copy();return i.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors.all",sourceField:{blueprintName:"*internal.tag.get_errors.all",displayName:"get_errors:all",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",i),e},resolveDocumentation:t=>q("get_errors:all Tag","The `get_errors:all` tag can be used to retrieve all form validation errors.","https://statamic.dev/tags/get_errors#list-all-validation-errors")},SP=yO;var TO={tagName:"get_error",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:ol,introducedIn:null,augmentScope:(t,e)=>(t.isClosingTag||e.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_error",sourceField:{blueprintName:"*internal.tag.get_error",displayName:"get_error",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e),resolveDocumentation:t=>q("get_error Tag","The `get_error` tag can be used to retrieve the first error message for a specific field.","https://statamic.dev/tags/get_errors#get-the-first-error-for-a-specific-field")},CP=TO;var bO={tagName:"set",hideFromCompletions:!0,allowsArbitraryParameters:!0,requiresClose:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[]},RP=bO;var AP=ee(pi());var vO={tagName:"mount_url",hideFromCompletions:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:"3.3.15",parameters:[{isRequired:!1,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The collection handle.",name:"handle",isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>q("mount Tag","The `mount` tag can be used to retrieve the mount URL for a given collection.",null),resovleParameterCompletionItems:(t,e)=>{var i,r,n,s;return t.name=="handle"&&((i=e.context)==null?void 0:i.parameterContext)!=null?re(ko((s=(n=(r=e.context)==null?void 0:r.parameterContext.parameter)==null?void 0:n.getArrayValue())!=null?s:[],e.project)):null},resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="mount_url"||t.leftWord=="/mount_url")&&t.leftChar==":"){let i=t.project.getCollectionNames();for(let r=0;r<i.length;r++)e.push({label:i[r],kind:AP.CompletionItemKind.Field,sortText:"0"})}return{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}},EP=vO;var IO={tagName:"vite",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"src",description:"The entry point",expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>Le("vite Tag","Generates Vite tags for an entrypoint.",'{{ vite src="entry/point" }}',null)},wP=IO;var PO={tagName:"nocache",requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>Le("nocache Tag","The `nocache` tag is used to mark regions of a template. These regions will continue to update even when using caching strategies such as the full or half-measure cache.",`{{ nocache }} 
    <!-- This content will remain dynamic. -->
{{ /nocache }}`,"https://statamic.dev/tags/nocache")},xP=PO;function Od(t){return[{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.user.permissions",introducedBy:t},{name:"total_results",dataType:"integer",sourceField:null,sourceName:"*internal.user.permissions",introducedBy:t},{name:"handle",dataType:"string",sourceField:null,sourceName:"*internal.user.permissions",introducedBy:t}]}var NO={tagName:"user_roles",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,injectParentScope:!1,introducedIn:"3.3.31",requiresClose:!1,parameters:[{name:"handle",description:"A list of role handles to include",aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1,acceptsVariableInterpolation:!0}],augmentScope:(t,e)=>(t.isClosingTag||e.addVariables(Od(t)),e),resolveDocumentation:t=>q("user_roles Tag","The `user_roles` tag can be used to return information about a site's user roles.",null)},DP=NO;var SO={tagName:"user_groups",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,injectParentScope:!1,introducedIn:"3.3.31",requiresClose:!1,parameters:[{name:"handle",description:"A list of group handles to include",aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1,acceptsVariableInterpolation:!0}],augmentScope:(t,e)=>(t.isClosingTag||e.addVariables(Od(t)),e),resolveDocumentation:t=>q("user_groups Tag","The `user_groups` tag can be used to return information about a site's user groups.",null)},FP=SO;var CO={tagName:"cookie:forget",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"keys",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The keys to forget",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},Ld=CO;var RO={tagName:"cookie:has",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"key",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The cookie name to check for existence",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},kd=RO;var AO={tagName:"cookie:set",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"minutes",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The lifetime of the cookie, in minutes",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},Md=AO;var EO={tagName:"cookie:value",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"key",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The cookie name to retrieve the value for",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},qd=EO;var wO=[Te(Ld),Te(qd),Te(Md),Te(kd)],xO={tagName:"cookie",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[],resolveCompletionItems:t=>(t.leftWord=="cookie"||t.leftWord=="/cookie")&&t.leftChar==":"?re(wO):Ie},OP=xO;var LP=[zI,XI,QI,TP,bP,_I,bI,jv,Qf,Ea,Jf,Xf,zf,OP,Ld,kd,Md,qd,PP,mP,Ad,xd,Dd,wd,Fd,Ed,RP,NP,CP,SP,gP,Dg,$v,Zf,ed,Wv,LI,Gv,VI,qI,Uv,vI,PI,CI,hd,gd,Hv,Yv,Kv,RI,AI,zv,td,wI,yd,xI,EP,fP,wg,Rd,Qv,Xv,Td,OI,el,tl,kI,IP,DP,FP,Sd,il,Ko,vd,$o,zo,rl,Og,fu,cu,Nd,Pd,du,Cd,_g,yg,Tg,bg,vg,Ig,Pg,Ng,_P,mg,pg,gg,yP,xP,eI,tI,iI,pI,mI,BI,cI,lI,$I,dI,ZI,ld,od,ad,sd,Id,nd,gI,oP,UI,dg,GI,WI,HI,YI,KI,pd,hI,lg,jI,sI,ud,MI,wP];var ss=class{constructor(){this.tags=new Map;this.parameters=new Map}reset(){this.tags.clear(),this.parameters.clear(),this.loadCoreTags()}getVisibleTagsWithDocumentation(){let e=[];return this.tags.forEach((i,r)=>{if(i.hideFromCompletions==!1){let n="";i.resolveDocumentation!=null&&(n=i.resolveDocumentation()),e.push({label:r,documentation:n})}}),e}getVisibleTagNames(){let e=[];return this.tags.forEach((i,r)=>{i.hideFromCompletions==!1&&e.push(r)}),[...new Set(e)]}getPossibleTagMethods(e){let i=[],r=e.length+1;return this.tags.forEach((n,s)=>{if(s.startsWith(e)){let a=s.substr(r).trim();a.length>0&&i.push(a)}}),[...new Set(i)]}getTagNames(){let e=[];return this.tags.forEach((i,r)=>{e.push(r)}),[...new Set(e)]}loadCoreTags(){this.registerTags(LP)}cleanTagName(e){return Dr(e,"/")}findTag(e){return this.tags.get(this.resolveTagName(e))}isKnownTag(e){return this.tags.has(this.resolveTagName(e))}isSymbolKnownTag(e){return this.isKnownTag(e.runtimeName())}resolveTagName(e){return e=this.cleanTagName(e.trim()),this.tags.has(e)||e.includes(":")&&(e=e.split(":")[0]),e}canResolveSpecialTypes(e){e=this.resolveTagName(e);let i=this.tags.get(e);return!(typeof i=="undefined"||i==null||i.resolveSpecialType==null)}resolveSpecialType(e,i,r){e=this.resolveTagName(e);let n=this.findTag(e);if(n.resolveSpecialType==null)throw new Error(e+" does not support special types.");return n.resolveSpecialType(i,r)}getCompletionItems(e){var s;let i=null,r=[],n=!0;if(e.context!=null&&e.context.node!=null&&(e.currentNode=e.context.node),e.nodesInScope.length>0&&(i=e.nodesInScope[e.nodesInScope.length-1]),e.currentNode!=null&&this.isKnownTag(e.currentNode.runtimeName())){let a=this.findTag(e.currentNode.runtimeName());if(typeof a=="undefined")return{isExclusive:!1,items:[]};let o=[];if(a.resolveCompletionItems!=null){let l=a.resolveCompletionItems(e);if(l.isExclusiveResult)return{isExclusive:!0,items:l.items};n=l.analyzeDefaults,r=r.concat(l.items)}if(e.isPastTagPart==!1){let l=this.getPossibleTagMethods(a.tagName);for(let u=0;u<l.length;u++)r.push({label:l[u],kind:kP.CompletionItemKind.Text})}if(n){if(e.isCaretInTag==!0&&a.parameters.length>0&&(r=r.concat(tg(e,a.parameters)),a.tagName=="partial"&&i!=null&&i.hasMethodPart())){let l=i.getMethodNameValue();if(l.trim().length>0&&(s=fe.instance)!=null&&s.hasStructure()){let u=fe.instance.getStructure().findPartial(l);u!=null&&u.injectsParameters.length>0&&(r=r.concat(tg(e,u.injectsParameters)))}}for(let l=0;l<e.nodesInScope.length;l++)if(e.nodesInScope[l].runtimeType!==null){let u=e.nodesInScope[l].runtimeType;if(u!=null&&u.assumedType=="structure_ref"&&u.supplementedFields!=null)for(let c=0;c<u.supplementedFields.length;c++)r.push(ig(u.supplementedFields[c]))}}return{items:r,isExclusive:!1}}return{items:r,isExclusive:!1}}injectParentScope(e){let i=this.findTag(e);return typeof i=="undefined"||i==null?!0:i.injectParentScope}resolveParameterCompletions(e,i,r){let n=this.findTag(e);return typeof n!="undefined"&&n!==null&&typeof n.resovleParameterCompletionItems!="undefined"&&n.resovleParameterCompletionItems!==null?n.resovleParameterCompletionItems(i,r):null}canResolveDynamicParameter(e){let i=this.resolveTagName(e);if(this.isKnownTag(i)){let r=this.tags.get(i);if(typeof r=="undefined")return!1;if(typeof r.resolveDynamicParameter!="undefined"&&r.resolveDynamicParameter!=null)return!0}return!1}getParameter(e,i){let r=this.resolveTagName(e);if(this.parameters.has(r)==!1)return null;let n=this.parameters.get(r);if(n==null)return null;if(n.has(i)==!1){let a=this.findTag(e);if(a!=null&&typeof a.resolveDynamicParameter!="undefined"&&a.resolveDynamicParameter!=null){let o=a.resolveDynamicParameter(null,i);if(o!==null)return o}return null}let s=n.get(i);return typeof s=="undefined"||n==null?null:s}registerTags(e){for(let i=0;i<e.length;i++)this.registerTag(e[i])}registerTag(e){if(this.tags.set(e.tagName,e),this.parameters.has(e.tagName)==!1&&this.parameters.set(e.tagName,new Map),e.parameters.length>0){let i=this.parameters.get(e.tagName);for(let r=0;r<e.parameters.length;r++){let n=e.parameters[r];i==null||i.set(n.name,n)}}}requiresClose(e){let i=e.getTagName();if(this.tags.has(i)){let r=this.findTag(i);if(r!=null)return r.requiresCloseResolver!=null?r.requiresCloseResolver(e):r.requiresClose}return!1}};ss.instance=null;(typeof ss.instance=="undefined"||ss.instance==null)&&(ss.instance=new ss,ss.instance.loadCoreTags());var Fe=ss;var Kr=class{constructor(e){this.generation=0;this.id="";this.name="";this.values=new Map;this.lists=new Map;this.pristine=new Map;this.parentScope=null;this.statamicProject=e,Kr.generationCounter+=1,this.generation=Kr.generationCounter,this.id=So()}makeNew(){return new Kr(this.statamicProject)}ancestor(){return this.parentScope!=null?this.parentScope:this}canShiftScope(e){return!!this.pristine.has(e)}shiftScope(e,i,r){if(this.pristine.has(i)){let n=this.pristine.get(i),s=n.parentCopy.copy();return s.introduceAliasScope(e,r,n.introducedFields),s}return this}containsPath(e){if(e.includes(":")){let i=e.split(":"),r=i.shift(),n=i.join(":");if(typeof r=="undefined")return!1;let s=this.lists.get(r);return typeof s=="undefined"?!1:s.containsPath(n)}return!!this.lists.has(e)}findReference(e){if(e.includes(":")){let i=e.split(":"),r=i.pop(),n=i.join(":"),s=this.findNestedScope(n);if(s!=null)return s.findReference(r)}return this.values.has(e)?this.values.get(e):null}findReferenceWithField(e){if(e.includes(":")){let i=e.split(":"),r=i.pop(),n=i.join(":"),s=this.findNestedScope(n);if(s!=null)return s.findReference(r)}if(this.values.has(e)){let i=this.values.get(e);if(i.sourceField==null){if(i.introducedBy!=null&&i.introducedBy.currentScope!=null&&i.introducedBy.currentScope!=this)return i.introducedBy.currentScope.findReferenceWithField(i.introducedBy.getTagName());if(this.parentScope!=null&&this.parentScope!=this)return this.parentScope.findReferenceWithField(e)}return i}return null}containsReference(e){return this.findReference(e)!=null}findNestedScope(e){if(e.includes(":")){let i=e.split(":"),r=i.shift(),n=i.join(":");if(typeof r=="undefined")return null;let s=this.lists.get(r);return typeof s=="undefined"?null:s.findNestedScope(n)}return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this&&this.parentScope.hasList(e)?this.parentScope.lists.get(e):null}liftList(e){if(this.lists.has(e)){let i=this.lists.get(e);return typeof i=="undefined"||i===null?null:(this.lists.delete(e),i)}return null}hasPristineReference(e){return!!this.pristine.has(e)}hasListInHistory(e){return this.hasList(e)?!0:this.parentScope!=null?this.name=="*root*"?!1:this.parentScope.hasList(e):!1}hasList(e){if(this.lists.has(e)){let i=this.lists.get(e);return!(typeof i=="undefined"||i===null)}return!1}bringListIntoMainScope(e){if(e.includes(":")){let r=e.split(":"),n=r.shift(),s=r.join(":");if(typeof n=="undefined")return this;let a=this.lists.get(n);return typeof a=="undefined"?this:a.bringListIntoMainScope(s)}let i=this.lists.get(e);return this.lists.delete(e),this.mergeScope(i)}getListNames(){let e=[];return this.lists.forEach((i,r)=>{e.push(r)}),e}getVariableNames(){let e=[];return this.values.forEach(i=>{e.push(i.name)}),e}getList(e){return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this?this.parentScope.getList(e):null}hasValue(e){return this.values.has(e)}findAncestorWithList(e){return this.hasList(e)?this:this.parentScope!=null&&this.parentScope!=this?this.parentScope.findAncestorWithList(e):null}findReferenceNotIntroducedBy(e,i){if(this.hasValue(e)){let r=this.values.get(e);if(r.introducedBy!=null&&r.introducedBy!=i)return r}return this.parentScope!=null&&this.parentScope!=this?this.parentScope.findReferenceNotIntroducedBy(e,i):null}removeThroughIntroduction(e,i){if(this.values.delete(e),this.parentScope!=null){let r=this.findReferenceNotIntroducedBy(e,i);r!=null&&this.addVariable(r)}}wasIntroducedBySymbol(e,i){if(this.values.has(e)==!1)return!1;let r=this.values.get(e);return r.introducedBy!=null?r.introducedBy==i:!1}referencesArray(e){return this.values.has(e)==!1?!1:this.values.get(e).dataType=="array"}addScopeList(e,i){return this.lists.set(e,i),this}mergeAndList(e,i){let r=new Kr(this.statamicProject);return r.values=eP(i),this.lists.set(e,r),this.mergeVariableScope(i),this}mergeScope(e){return e==this||e==null?this:(typeof e.values!="undefined"&&e.values!==null&&e.values.forEach((i,r)=>{this.values.set(r,i)}),typeof e.lists!="undefined"&&e.lists!==null&&e.lists.forEach((i,r)=>{this.lists.set(r,i)}),this)}mergeVariableScope(e){for(let i=0;i<e.length;i++)this.values.set(e[i].name,e[i]);return this}addVariable(e){this.values.set(e.name,e)}addVariables(e){for(let i=0;i<e.length;i++)this.addVariable(e[i])}addVariableArray(e,i){this.values.has(e)&&this.values.delete(e);let r=new Kr(this.statamicProject);r.addVariables(i),this.addScopeList(e,r)}injectAssetContainer(e,i){this.addBlueprintFields(e,this.statamicProject.getAssetBlueprintFields(i))}injectUserFields(e){this.addBlueprintFields(e,this.statamicProject.getUserFields())}addBlueprintField(e,i){this.addVariable({dataType:i.type,name:i.name,sourceField:i,sourceName:i.blueprintName,introducedBy:e})}introduceScopedAliasScope(e,i,r,n){this.pristine.set(r,{introducedFields:n,introducedScope:r,parentCopy:this.copy()});let s=new Kr(this.statamicProject),a=new Kr(this.statamicProject);return a.addBlueprintFields(e,n),s.name=r,s.addScopeList(i,a),this.addScopeList(r,s),s}expandScopedAliasScope(e,i,r,n){this.lists.has(r)==!1?this.introduceScopedAliasScope(e,i,r,n):this.lists.get(r).addBlueprintFields(e,n)}introduceAliasScope(e,i,r){this.pristine.set(i,{introducedFields:r,introducedScope:i,parentCopy:this.copy()});let n=new Kr(this.statamicProject);n.addBlueprintFields(e,r),n.name=i,this.addScopeList(i,n)}introduceDynamicScopeList(e,i,r){this.pristine.set(i,{introducedFields:r,introducedScope:i,parentCopy:this.copy()});let n=new Kr(this.statamicProject);n.name=i,n.addBlueprintFields(e,r),this.addScopeList(i,n)}addBlueprintFields(e,i){for(let r=0;r<i.length;r++)this.addBlueprintField(e,i[r])}injectBlueprint(e,i){let r=this.statamicProject.getBlueprintDetails(i);r.length>0&&this.addBlueprintFields(e,r)}copy(){let e=new Kr(this.statamicProject);return e.pristine=new Map(this.pristine),e.values=new Map(this.values),e.lists=new Map(this.lists),e.parentScope=this,e}},er=Kr;er.generationCounter=0;function Lg(t){let e=new er(t);return e.addVariable({dataType:"string",name:"handle",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"name",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"short_locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e}function MP(){let t=[];return t.push({dataType:"number",name:"response_code",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_field",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_token",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"environment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"xml_header",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"last_segment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_uri",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"amp_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"api_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_full_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_in",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_out",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"is_homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"now",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"today",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"current_date",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get_post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"old",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t}function qP(t,e){let i=t.findParameter("paginate");if(i!=null&&(i.value.toLowerCase()=="true"||parseInt(i.value).toString()==i.value)){let r=e.makeNew(),n=e.makeNew(),s=e.makeNew(),a=e.makeNew();r.addVariable({name:"next_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"prev_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_items",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_pages",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"current_page",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"auto_links",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),s.addVariable({name:"url",dataType:"string",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),s.addVariable({name:"page",dataType:"integer",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),a.addVariable({name:"first",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),a.addVariable({name:"last",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),a.addVariable({name:"slider",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),n.addScopeList("all",s),n.addScopeList("segments",a),r.addScopeList("links",n),e.addScopeList("paginate",r)}}var Hs=class{constructor(){this.fileInjections=new Map;this.project=null}updateProject(e){this.project=e}registerInjections(e,i){if(i.length==0)return;let r=[];for(let n=0;n<i.length;n++){let s=i[n];s.hasParameters&&r.push(s)}if(r.length>0){let n=r[0].getMethodNameValue();if(n!=null&&this.project!=null){let s=this.project.findPartial(n);s!=null&&(this.fileInjections.has(s.documentUri)||this.fileInjections.set(s.documentUri,new Map),this.fileInjections.get(s.documentUri).set(e,r))}}}hasAvailableInjections(e){return this.fileInjections.has(e)}getScopeInjection(e,i){let r=new er(i);return r.name="*injection*",this.fileInjections.get(e).forEach((s,a)=>{for(let o=0;o<s.length;o++){let l=s[o];if(l.hasParameters)for(let u=0;u<l.parameters.length;u++){let c=l.parameters[u];if(c.containsSimpleValue())r.addVariable({dataType:"string",name:c.name,sourceField:null,sourceName:"scope.injection",introducedBy:l});else if(c.isVariableReference&&l.currentScope!=null&&l.currentScope.hasListInHistory(c.value)){let f=l.currentScope.findNestedScope(c.value);if(f!=null){let d=Dr(c.name,":"),p=f.copy();p.name=d,r.addScopeList(d,f)}}}}}),r}};Hs.instance=null;(typeof Hs.instance=="undefined"||Hs.instance==null)&&(Hs.instance=new Hs);var Fa=Hs;var DO=["collection"],FO=["if","elseif","unless","elseunless"],Vd=class{constructor(e,i,r){this.pageVars=[];this.viewDataVars=null;this.documentUri="";this.lastSymbolId="";this.ideHelperMap=new Map;this.statamicProject=e,this.documentUri=i,this.document=r,this.makePageScope(),this.makeViewDataScope()}makeViewDataScope(){this.document.hasFrontMatter()&&(this.viewDataVars=this.document.getFrontMatterScope())}makePageScope(){let e=[],i=this.statamicProject.getFields();if(i.has("pages")){let r=i.get("pages");for(let n=0;n<r.length;n++){let s=r[n];e.push({name:s.name,dataType:s.type,sourceField:s,sourceName:s.blueprintName,introducedBy:null})}}this.pageVars=e}analyzeScope(e){var c,f,d,p,m,T,P,_,g,y,E,L,C;let i=new er(this.statamicProject);i.name="*root*",i.parentScope=i,i.addScopeList("site",Lg(this.statamicProject)),i.addScopeList("sites",Lg(this.statamicProject)),i.addVariables(MP());let r=new er(this.statamicProject);r.name="*root_user*",r.parentScope=i,this.statamicProject.getUserFields().forEach(B=>{r.addBlueprintField(null,B)}),i.addScopeList("current_user",r),(c=un.instance)!=null&&c.pageScopeDisabled(this.documentUri)?this.viewDataVars!=null&&i.addScopeList("view",this.viewDataVars):this.viewDataVars!=null?i.mergeAndList("page",this.pageVars).addScopeList("view",this.viewDataVars):i.mergeAndList("page",this.pageVars);let n=null;e.length>0&&e[0].isComment&&(n=nu(this.documentUri,e[0]));for(let B=0;B<e.length;B++)if(e[B].isComment){let w=nu(this.documentUri,e[B]);w.variableHelper!=null&&this.ideHelperMap.set(e[B].id(),w.variableHelper)}let s=this.statamicProject.getCollectionNamesForView(this.documentUri);if(n!=null&&(n.collectionInjections.length>0&&(s=s.concat(n.collectionInjections)),n.blueprints.length>0&&(s=s.concat(n.blueprints)),n.variableHelper!=null&&n.variableHelper.variableName=="@page")){let B=this.statamicProject.getBlueprintField(n.variableHelper.collectionName,n.variableHelper.fieldHandle);if(B!=null)if(n.variableHelper.setHandle.length>0){if(B.sets!=null){for(let w=0;w<B.sets.length;w++)if(B.sets[w].handle==n.variableHelper.setHandle){i.addVariables(Gs(e[0],B.sets[w].fields));break}}}else i.addBlueprintField(e[0],B)}if(s.length>0){for(let B=0;B<s.length;B++)i.injectBlueprint(e[0],s[B]);i.addVariables(Ls(e[0]))}(f=Fa.instance)!=null&&f.hasAvailableInjections(this.documentUri)&&i.mergeScope((d=Fa.instance)==null?void 0:d.getScopeInjection(this.documentUri,this.statamicProject));let a=[],o=[],l=[],u=[];u.push(i);for(let B=0;B<e.length;B++){let w=e[B];this.lastSymbolId.length>0&&o.includes(w.id())&&(a.pop(),u.pop(),u.length==0&&u.push(i));let $=u[u.length-1];if(w.hasParameters){for(let U=0;U<w.parameters.length;U++)if(w.parameters[U].interpolations.length>0)for(let J=0;J<w.parameters[U].interpolations.length;J++){let ce=w.parameters[U].interpolations[J];w.processedInterpolationRegions.has(ce)&&w.processedInterpolationRegions.get(ce).forEach(X=>{X instanceof G&&(X.currentScope=$)})}}if(((p=Fe.instance)==null?void 0:p.isKnownTag(w.getTagName()))==!1){if(w.scopeVariable=$.findReference(w.runtimeName()),B>0){let U=e[B-1];if(U.isComment&&this.ideHelperMap.has(U.id())&&!U.isClosingTag&&!w.isClosingTag){let J=this.ideHelperMap.get(U.id());if(J.variableName==w.getTagName()){let ce=this.statamicProject.getBlueprintField(J.collectionName,J.fieldHandle);ce!=null&&(w.scopeVariable=hg(w,ce))}}}if(w.scopeVariable==null){let U=w.runtimeName().trim();if($.hasList(U)||((m=w.currentScope)==null?void 0:m.hasListInHistory(U))){w.sourceType="array";let ne=$.getList(U);if(ne!=null&&ne.values.size>0){let X=ne.values.entries().next().value[1];w.scopeVariable={dataType:"array",introducedBy:X.introducedBy,name:U,sourceField:null,sourceName:X.sourceName}}}let J=(P=(T=w.name)==null?void 0:T.name)!=null?P:"";J.includes(".")?J=J.split(".")[0]:J.includes(":")&&(J=J.split(":")[0]);let ce=this.statamicProject.findAnyBlueprintField(J);if(ce!=null){let ne=hg(w,ce);w.scopeVariable=ne,w.scopeVariable.sourceField!=null&&(_=ks.instance)!=null&&_.hasFieldtype(w.scopeVariable.sourceField.type)&&((g=ks.instance)==null?void 0:g.getFieldType(w.scopeVariable.sourceField.type)).augmentScope(w,$)}}else w.sourceType=Nf(w.scopeVariable.dataType),w.scopeVariable.sourceField!=null&&(y=ks.instance)!=null&&y.hasFieldtype(w.scopeVariable.sourceField.type)&&((E=ks.instance)==null?void 0:E.getFieldType(w.scopeVariable.sourceField.type)).augmentScope(w,$)}if(w.hasParameters&&qP(w,$),w.modifiers!=null&&w.modifiers.hasModifiers()?w.manifestType=w.modifiers.getLastManifestedModifierRuntimeType():w.manifestType=w.sourceType,w.isClosedBy!=null&&(a.push(w.id()),o.push(w.isClosedBy.id()),$=$.copy(),u.push($)),w.getTagName()=="scope"&&w.hasMethodPart()&&u.length>2){let U=u[u.length-2].copy();$.addScopeList(w.getMethodNameValue(),U)}if($.containsPath(w.runtimeName())&&(a.push(w.id()),w.isClosedBy!=null&&o.push(w.isClosedBy.id()),$=$.copy().bringListIntoMainScope(w.runtimeName()),u.push($)),w.currentScope=$,w.getTagName()!="cache"){let U=w.findParameter("scope");U!=null&&$.canShiftScope(w.runtimeName())&&($=$.shiftScope(w,w.runtimeName(),U.value),w.currentScope=$,u.pop(),u.push($))}if((L=Fe.instance)!=null&&L.isKnownTag(w.runtimeName())){let U=(C=Fe.instance)==null?void 0:C.findTag(w.runtimeName());typeof U!="undefined"&&U.augmentScope!=null&&U.augmentScope(w,$)}if(w.modifierChain!=null&&w.modifierChain.modifierChain.length>0&&w.modifierChain.modifierChain.forEach(U=>{U.modifier!=null&&typeof U.modifier.augmentScope!="undefined"&&U.modifier.augmentScope!=null&&U.modifier.augmentScope(w,$)}),w.modifiers.hasParameterModifiers()&&w.modifiers.parameterModifiers.forEach(U=>{U.modifier!=null&&typeof U.modifier.augmentScope!="undefined"&&U.modifier.augmentScope!=null&&U.modifier.augmentScope(w,$)}),w.sourceType=="array"){let U=w.findParameter("chunk"),J=!0;if(w.parent!=null&&w.parent instanceof G&&DO.includes(w.parent.runtimeName())&&(J=!1),typeof U!="undefined"&&U!==null)if(w.currentScope.parentScope!=null&&(w.currentScope.parentScope.hasList(w.runtimeName())||$.referencesArray(w.runtimeName()))){let ce=w.currentScope.parentScope.copy(),ne=ce.liftList(w.runtimeName());if(ne==null&&$.referencesArray(w.runtimeName())){if(ne=new er($.statamicProject),J){let X=tt(w);for(let Be=0;Be<X.length;Be++){let ht=X[Be];ce.wasIntroducedBySymbol(ht.name,w)&&ce.removeThroughIntroduction(ht.name,w)}ne.addVariables(X)}}else J&&ce.addVariables(tt(w));ce.addScopeList("chunk",ne),$=ce,u.pop(),u.push($),w.currentScope=ce}else{let ce=w.findParameter("scope");if(typeof ce!="undefined"&&ce!==null&&w.currentScope!=null&&w.currentScope.hasList(ce.value)&&w.scopeName!=null){let ne=w.currentScope.copy(),X=ne.ancestor().copy(),Be=ne.liftList(w.scopeName);J&&ne.addVariables(tt(w)),X.liftList(w.scopeName),ne.addScopeList(w.scopeName,Be),X.addScopeList("chunk",ne),$=X,u.pop(),u.push($),w.currentScope=X}}else w.scopeVariable!=null&&w.scopeVariable.sourceField==null&&J&&($.addVariables(tt(w)),$.addVariables(nt(w)))}if(o.includes(w.id())&&w.parent!=null&&w.parent instanceof G){let U=w.currentScope.findAncestorWithList(w.getTagName());U!=null?(w.currentScope=U,$=U.copy(),u.pop(),u.length==0&&u.push(i),u.push($)):w.parent.parent!=null?w.currentScope=w.parent.parent.currentScope:w.currentScope=w.parent.currentScope}if(w.currentScope!=null&&w.runtimeNodes.length>0&&w.runtimeNodes.forEach(U=>{var J;if(U instanceof le&&(J=w.currentScope)!=null&&J.hasValue(U.name)){let ce=w.currentScope.findReferenceWithField(U.name);U.currentScope=w.currentScope,U.scopeName=w.scopeName,U.scopeVariable=ce}}),FO.includes(w.runtimeName())&&w.runtimeNodes.length==3&&w.runtimeNodes[0]instanceof le&&w.runtimeNodes[1]instanceof Ai&&w.runtimeNodes[2]instanceof Rt&&w.runtimeNodes[0].scopeVariable!=null&&w.runtimeNodes[0].scopeVariable.sourceField!=null){let U=w.runtimeNodes[0].scopeVariable,J=w.runtimeNodes[2].value,ce=U.sourceField;if(ce.sets!=null)for(let ne=0;ne<ce.sets.length;ne++){let X=ce.sets[ne];if(X.handle==J&&X.fields!=null){$=$.copy(),$.addBlueprintFields(w,X.fields),w.isClosedBy!=null&&!w.isSelfClosing&&(a.push(w.id()),o.push(w.isClosedBy.id()),u.push($));break}}}this.lastSymbolId=w.id();let oe=a.join("/");l.push(oe)}}};var as=class{};as.globalTagEnterStack=[],as.interpolatedVariables=[];var GP=ee(Rf());var Vi=class{constructor(){this.name="";this.compound="";this.methodPart="";this.content="";this.cachedCompoundTagName=null}tagPartIs(e){return e=e.toLowerCase().trim(),this.name.toLowerCase().trim()==e}isCompound(){return this.methodPart==null?!1:this.methodPart.length>0}getMethodName(){return this.methodPart==""?"index":this.methodPart=="null"?"":this.methodPart}getRuntimeMethodName(){}getCompoundTagName(){if(this.cachedCompoundTagName==null){let e=this.getMethodName();this.cachedCompoundTagName=this.name,e!=null&&e!=""&&(this.cachedCompoundTagName=this.cachedCompoundTagName+":"+e)}return this.cachedCompoundTagName}};var kg=class{constructor(){this.tagNames=[];this.modifierNames=[]}getModifierNames(){var e,i;return this.modifierNames.concat((i=(e=Ve.instance)==null?void 0:e.getModifierNames())!=null?i:[])}getTagNames(){var e,i;return this.tagNames.concat((i=(e=Fe.instance)==null?void 0:e.getTagNames())!=null?i:[])}setTagNames(e){this.tagNames=e}setModifierNames(e){this.modifierNames=e}isTag(e){var i;return kg.alwaysLikeTag.includes(e)||(i=Fe.instance)!=null&&i.isKnownTag(e)?!0:this.tagNames.includes(e)}isModifier(e){var i;return(i=Ve.instance)!=null&&i.hasModifier(e)?!0:this.modifierNames.includes(e)}},Oa=kg;Oa.alwaysLikeTag=["if","endif","elseif","else","unless","elseunless"];var ll=class{static analyze(e,i){e.forEach(r=>{if(r instanceof G){if(r.pathReference!=null&&r.pathReference.isStrictVariableReference){r.isTagNode=!1;return}r.name!=null&&(r.isTagNode=i.isTag(r.name.name))}})}static analyzeNode(e){if(e.pathReference!=null&&e.pathReference.isStrictVariableReference){e.isTagNode=!1;return}ll.environmentDetails!=null&&e.name!=null&&(e.isTagNode=ll.environmentDetails.isTag(e.name.name)),e.name!=null&&(e.isConditionNode=Oa.alwaysLikeTag.includes(e.name.name))}static analyzeParametersForModifiers(e){e.parameters.forEach(i=>{ll.environmentDetails!=null&&(i.isModifierParameter=ll.environmentDetails.isModifier(i.name))})}},La=ll;La.environmentDetails=null;(typeof La.environmentDetails=="undefined"||La.environmentDetails==null)&&(La.environmentDetails=new Oa);var Mg=La;var Bd=class{static getIdentifier(e){var n;let i=new Vi;i.content=e.trim();let r=e.split(":");if(r.length==1)i.name=r[0].trim(),i.methodPart=null,i.compound=i.name;else if(r.length>1){let s=(n=r.shift())!=null?n:"",a=r.join(":");i.name=s.trim(),i.methodPart=a.trim(),i.compound=i.name+":"+i.methodPart}else i.name=e.trim(),i.methodPart="";return i.name.startsWith("/")&&(i.name=i.name.substr(1),i.compound=i.compound.substr(1)),i}};var ae=class{static getPrettyTypeName(e){return e instanceof Hr?ae.TOKEN_LANG_OPERATOR:e instanceof Xi?ae.TOKEN_OP_A_ADD:e instanceof le?ae.TOKEN_VARIABLE:e instanceof Rt?ae.TOKEN_STRING:e instanceof Ut?ae.TOKEN_NUMBER:e instanceof Fr?ae.TOKEN_CONSTANT_FALSE:e instanceof fr?ae.TOKEN_CONSTANT_NULL:e instanceof Or?ae.TOKEN_CONSTANT_TRUE:e instanceof Na?ae.TOKEN_MODIFIER_NODE:e instanceof Ro?ae.TOKEN_MODIFIER_CHAIN:e instanceof xf?ae.TOKEN_MODIFIER_PARAMETER:e instanceof Qi?ae.TOKEN_OP_A_DIVIDE:e instanceof fn?ae.TOKEN_OP_A_EXPONENTIATION:e instanceof dr?ae.TOKEN_OP_A_MODULUS:e instanceof Ji?ae.TOKEN_OP_A_MULTIPLY:e instanceof Ri?ae.TOKEN_OP_A_SUBTRACT:e instanceof Lr?ae.TOKEN_ASG_ADD:e instanceof kr?ae.TOKEN_ASG_DIVIDE:e instanceof Mr?ae.TOKEN_ASG_MODULUS:e instanceof qr?ae.TOKEN_ASG_MULTIPLY:e instanceof Zi?ae.TOKEN_ASG_ASSIGN:e instanceof dn?ae.TOKEN_ASG_SUBTRACT:e instanceof Ai?ae.TOKEN_CMP_EQUAL:e instanceof Wr?ae.TOKEN_CMP_SEQUAL:e instanceof pr?ae.TOKEN_CMP_GT:e instanceof En?ae.TOKEN_CMP_GTE:e instanceof Vr?ae.TOKEN_CMP_LT:e instanceof Br?ae.TOKEN_CMP_LTE:e instanceof jr?ae.TOKEN_CMP_NEQ:e instanceof Ur?ae.TOKEN_CMP_SNEQ:e instanceof Gr?ae.TOKEN_CMP_SPACESHIP:e instanceof wn?ae.TOKEN_OP_VARIABLE_FALLBACK:e instanceof Df?ae.TOKEN_COND_FALLBACK_GROUP:e instanceof wt?ae.TOKEN_BRANCH_SEPARATOR:e instanceof Yr?ae.TOKEN_TERNARY_SEPARATOR:e instanceof zt?ae.TOKEN_GROUP_BEGIN:e instanceof $t?ae.TOKEN_GROUP_END:e instanceof Ii?ae.TOKEN_MODIFIER_SEPARATOR:e instanceof Mt?ae.TOKEN_MODIFIER_NAME:e instanceof Xt?ae.TOKEN_MODIFIER_VALUE:e instanceof Ei?ae.TOKEN_MODIFIER_VALUE_SEPARATOR:e instanceof Eo?ae.TOKEN_NULL_COALESCE_GROUP:e instanceof jt?ae.TOKEN_SEMANTIC_GROUP:e instanceof mi?ae.TOKEN_STATEMENT_SEPARATOR:e instanceof wo?ae.TOKEN_TERNARY_CONDITION:e instanceof mr?ae.TOKEN_OP_AND:e instanceof hi?ae.TOKEN_OP_LOGIC_NEGATION:e instanceof hr?ae.TOKEN_OP_OR:e instanceof pn?ae.TOKEN_OP_XOR:e instanceof gr?ae.TOKEN_OP_NULL_COALESCE:e instanceof As?ae.TOKEN_PARAM:e instanceof vi?ae.TOKEN_PATH_ACCESSOR:e instanceof es?ae.TOKEN_OP_A_FACTORIAL:e instanceof cr?ae.TOKEN_RECURSIVE:e instanceof Ra?ae.TOKEN_ARG_GROUP:e instanceof kt?ae.TOKEN_ARG_SEPARATOR:e instanceof mn?ae.TOKEN_OP_STRING_CONCAT:e instanceof wi?ae.TOKEN_OP_SCOPE_REASSIGNMENT:e instanceof Ca?ae.TOKEN_STRUCT_SWITCH_CASE:e instanceof ws?ae.TOKEN_STRUCT_SWITCH_GROUP:e instanceof Es?ae.TOKEN_STRUCT_DIRECTION_GROUP:e instanceof _r?ae.TOKEN_STRUCT_SCOPED_LOGIC_GROUP:e instanceof We?ae.TOKEN_STRUCT_LOGIC_GROUP:e instanceof Ao?ae.TOKEN_STRUCT_VALUE_DIRECTION:e instanceof xn?ae.TOKEN_STRUCT_ARRAY:e instanceof yr?ae.TOKEN_STRUCT_T_LIST_START:e instanceof Ff?ae.TOKEN_STRUCT_TUPLE_LIST:e instanceof ri?ae.TOKEN_STRUCT_METHOD_CALL:typeof e}},z=ae;z.TOKEN_LANG_OPERATOR="T_LANG_OPERATOR",z.TOKEN_VARIABLE="T_VAR",z.TOKEN_NUMBER="T_NUMERIC",z.TOKEN_STRING="T_STRING",z.TOKEN_RECURSIVE="T_RECURSIVE",z.TOKEN_CONSTANT_FALSE="T_FALSE",z.TOKEN_CONSTANT_NULL="T_NULL",z.TOKEN_CONSTANT_TRUE="T_TRUE",z.TOKEN_MODIFIER_NODE="T_MODIFIER",z.TOKEN_MODIFIER_CHAIN="T_MODIFIER_CHAIN",z.TOKEN_MODIFIER_PARAMETER="T_MODIFIER_PARAM",z.TOKEN_OP_A_ADD="T_AOP_ADD",z.TOKEN_OP_A_DIVIDE="T_AOP_DIVIDE",z.TOKEN_OP_A_EXPONENTIATION="T_AOP_EXP",z.TOKEN_OP_A_MODULUS="T_AOP_MOD",z.TOKEN_OP_A_MULTIPLY="T_AOP_MULTIPLY",z.TOKEN_OP_A_SUBTRACT="T_AOP_SUBTRACT",z.TOKEN_OP_A_FACTORIAL="T_AOP_FACTORIAL",z.TOKEN_ASG_ADD="T_ASG_ADD",z.TOKEN_ASG_DIVIDE="T_ASG_DIVIDE",z.TOKEN_ASG_ASSIGN="T_ASG",z.TOKEN_ASG_MODULUS="T_ASG_MODULUS",z.TOKEN_ASG_MULTIPLY="T_ASG_MULTIPLY",z.TOKEN_ASG_SUBTRACT="T_ASG_SUBTRACT",z.TOKEN_CMP_EQUAL="T_CMP_EQ",z.TOKEN_CMP_SEQUAL="T_CMP_SEQ",z.TOKEN_CMP_GT="T_CMP_GT",z.TOKEN_CMP_GTE="T_CMP_GTE",z.TOKEN_CMP_LT="T_CMP_LT",z.TOKEN_CMP_LTE="T_CMP_LTE",z.TOKEN_CMP_NEQ="T_CMP_NEQ",z.TOKEN_CMP_SNEQ="T_CMP_SNEQ",z.TOKEN_CMP_SPACESHIP="T_CMP_SPSHP",z.TOKEN_OP_VARIABLE_FALLBACK="T_VFBK",z.TOKEN_COND_FALLBACK_GROUP="T_VFBK_GROUP",z.TOKEN_BRANCH_SEPARATOR="T_BRANCH_SEPARATOR",z.TOKEN_TERNARY_SEPARATOR="T_TERNARY_SEPARATOR",z.TOKEN_GROUP_BEGIN="T_LOGIC_BEGIN",z.TOKEN_GROUP_END="T_LOGIC_END",z.TOKEN_MODIFIER_SEPARATOR="T_MODIFIER_SEPARATOR",z.TOKEN_MODIFIER_NAME="T_MODIFIER_NAME",z.TOKEN_MODIFIER_VALUE="T_MODIFIER_VALUE",z.TOKEN_MODIFIER_VALUE_SEPARATOR="T_MODIFIER_VALUE_SEPARATOR",z.TOKEN_NULL_COALESCE_GROUP="T_NULL_COALESCE_GROUP",z.TOKEN_SEMANTIC_GROUP="T_SEMANTIC_GROUP",z.TOKEN_STATEMENT_SEPARATOR="T_STATEMENT_SEPARATOR",z.TOKEN_TERNARY_CONDITION="T_TERNARY_CONDITION",z.TOKEN_OP_AND="T_AND",z.TOKEN_OP_LOGIC_NEGATION="T_LOGIC_INVERSE",z.TOKEN_OP_OR="T_OR",z.TOKEN_OP_XOR="T_XOR",z.TOKEN_OP_NULL_COALESCE="T_NULL_COALESCE",z.TOKEN_PARAM="T_PARAM",z.TOKEN_PATH_ACCESSOR="T_VAR_SEPARATOR",z.TOKEN_ARG_GROUP="T_ARG_GROUP",z.TOKEN_ARG_SEPARATOR="T_ARG_SEPARATOR",z.TOKEN_OP_STRING_CONCAT="T_STR_CONCAT",z.TOKEN_OP_SCOPE_REASSIGNMENT="T_SCOPE_ASSIGNMENT",z.TOKEN_STRUCT_SWITCH_CASE="T_SWITCH_CASE",z.TOKEN_STRUCT_SWITCH_GROUP="T_SWITCH_GROUP",z.TOKEN_STRUCT_DIRECTION_GROUP="T_DIRECTION_GROUP",z.TOKEN_STRUCT_VALUE_DIRECTION="T_ORDER_DIRECTION",z.TOKEN_STRUCT_SCOPED_LOGIC_GROUP="T_SCOPED_LOGIC_GROUP",z.TOKEN_STRUCT_LOGIC_GROUP="T_LOGIC_GROUP",z.TOKEN_STRUCT_ARRAY="T_ARRAY",z.TOKEN_STRUCT_T_LIST_START="T_LIST_START",z.TOKEN_STRUCT_TUPLE_LIST="T_LIST",z.TOKEN_STRUCT_METHOD_CALL="T_METHOD_CALL";var st=class{static isLanguageLogicalKeyword(e){return e==this.LogicalAnd||e==this.LogicalNot||e==this.LogicalOr||e==this.LogicalXor}};st.LogicalAnd="and",st.LogicalNot="not",st.LogicalOr="or",st.LogicalXor="xor",st.ConstTrue="true",st.ConstFalse="false",st.ConstNull="null",st.ArrList="list",st.ScopeAs="as";var jd=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.currentContent=[];this.rawContent=[];this.startIndex=0;this.cur=null;this.next=null;this.prev=null;this.isParsingString=!1;this.isParsingModifierName=!1;this.isInModifierParameterValue=!1;this.runtimeNodes=[];this.ignorePrevious=!1;this.lastNode=null;this.referenceParser=null;this.activeNode=null}reset(){this.ignorePrevious=!1,this.runtimeNodes=[],this.chars=[],this.inputLen=0,this.currentIndex=0,this.currentContent=[],this.rawContent=[],this.startIndex=0,this.cur=null,this.next=null,this.prev=null,this.isParsingString=!1,this.isParsingModifierName=!1,this.isInModifierParameterValue=!1,this.referenceParser=null,this.activeNode=null}checkCurrentOffsets(){this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.ignorePrevious?(this.prev="",this.ignorePrevious=!1):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen&&(this.next=this.chars[this.currentIndex+1])}isValidChar(e){return e==null||e==D.Punctuation_Semicolon?!1:this.isParsingString==!1&&e=="]"?!0:this.isParsingString==!1&&e==")"?!1:(e=="["||e=="]")&&e==this.cur||(e=="_"||e=="."||e=="["||e=="]")&&(!(this.currentContent.length>0)||Y.ctypeAlpha(this.cur)||Y.ctypeDigit(this.cur))?!0:Y.ctypeSpace(e)?!1:this.isParsingModifierName&&(e==D.Punctuation_Minus||e==D.Punctuation_Underscore)?!0:!Y.ctypePunct(e)}isRightOfInterpolationRegion(){if(this.activeNode==null||this.referenceParser==null)return!1;let e=this.activeNode._lexerRelativeOffset(this.currentIndex);return this.referenceParser.bordersInterpolationRegion(e)}scanForwardTo(e,i=0){let r=[];for(let n=this.currentIndex+1+i;n<this.inputLen;n++){let s=this.chars[n];if(s==e){r.push(s);break}else r.push(s)}return r}nextNonWhitespace(){for(let e=this.currentIndex+1;e<this.inputLen;e++){let i=this.chars[e];if(!Y.ctypeSpace(i))return i}return null}pushError(e){this.referenceParser!=null&&this.referenceParser.addAntlersError(e)}guardAgainstNeighboringTypesInModifier(e){return this.lastNode instanceof Xt&&this.pushError(M.makeSyntaxError(I.TYPE_MODIFIER_INCORRECT_VALUE_POSITION,this.lastNode,"Incorrect type ["+z.getPrettyTypeName(e)+"] near ["+z.getPrettyTypeName(this.lastNode)+"]")),!1}appendContent(e){e!=null&&this.currentContent.push(e)}tokenize(e,i){this.reset(),this.referenceParser=e.getParser(),this.activeNode=e,this.chars=i.split(""),this.inputLen=this.chars.length,this.runtimeNodes=[],this.lastNode=null;let r=null;this.isParsingString=!1,this.isParsingModifierName=!1;let n=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){this.checkCurrentOffsets();let a=!0;if(this.cur!=null&&this.rawContent.push(this.cur),this.isParsingString==!1&&(this.cur==D.String_Terminator_DoubleQuote||this.cur==D.String_Terminator_SingleQuote)){if(this.prev==D.String_EscapeCharacter){this.pushError(M.makeSyntaxError(I.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE,e,"Illegal string escape sequence outside string parsing."));continue}this.rawContent=[],this.rawContent.push(this.cur),n=this.cur,this.isParsingString=!0,r=this.currentIndex;continue}if(this.isInModifierParameterValue&&!this.isParsingString){let o=!1;if(!this.isParsingString&&Y.ctypeSpace(this.next)){let l=this.scanForwardTo(" ",1).join("").trim().toLowerCase();l.length>0&&st.isLanguageLogicalKeyword(l)&&(o=!0)}if(this.next==D.String_Terminator_SingleQuote||this.next==D.String_Terminator_DoubleQuote||this.next==null||o){this.appendContent(this.cur);let l=this.currentContent.join("");if(l.length>0){let u=l;if(this.currentContent=[],this.rawContent=[],u.trimRight().length==0){let f=this.nextNonWhitespace();if(f==D.String_Terminator_SingleQuote||f==D.String_Terminator_DoubleQuote){this.currentContent=[],this.rawContent=[];continue}}let c=new Xt;c.isVirtual=!1,c.name=u,c.value=u.trimRight(),c.startPosition=e._lexerRelativeOffset(this.currentIndex-u.length),c.endPosition=e._lexerRelativeOffset(this.currentIndex),c.parent=this.activeNode,this.guardAgainstNeighboringTypesInModifier(c),this.runtimeNodes.push(c),this.lastNode=c}if(l.length==0)continue;this.currentContent=[],this.rawContent=[],this.isInModifierParameterValue=!1;continue}if(this.next==D.Punctuation_Pipe||this.next==D.Punctuation_Colon||this.next==D.RightParent){this.isInModifierParameterValue=!1,this.appendContent(this.cur);let l=0,u=!1;if(this.currentContent[0]==D.String_Terminator_SingleQuote||this.currentContent[0]==D.String_Terminator_DoubleQuote){let d=this.scanForwardTo(this.currentContent[0]);d.length>0&&(this.currentContent=this.currentContent.concat(d),l=d.length,u=!0)}let c=this.currentContent.join("");u&&(c=c.substr(1),c=c.slice(0,-1)),this.currentContent=[],this.rawContent=[];let f=new Xt;f.isVirtual=!1,f.name=c,f.value=c,f.startPosition=e._lexerRelativeOffset(this.currentIndex-c.length),f.endPosition=e._lexerRelativeOffset(this.currentIndex),f.parent=this.activeNode,this.runtimeNodes.push(f),this.guardAgainstNeighboringTypesInModifier(f),this.lastNode=f,this.currentIndex+=l}else this.appendContent(this.cur);continue}if(this.isParsingString&&this.cur==n){if(this.prev==D.String_EscapeCharacter)this.appendContent(n);else{if(this.isInModifierParameterValue){let l=this.currentContent.join(""),u=new Xt;u.isVirtual=!1,u.name=l,u.value=l,u.startPosition=e._lexerRelativeOffset(r!=null?r:0),u.endPosition=e._lexerRelativeOffset(this.currentIndex),u.parent=this.activeNode,this.runtimeNodes.push(u),this.guardAgainstNeighboringTypesInModifier(u),this.lastNode=u,this.currentContent=[],this.rawContent=[],this.isParsingString=!1,this.isInModifierParameterValue=!1;continue}let o=new Rt;o.isVirtual=!1,o.startPosition=e._lexerRelativeOffset(r!=null?r:0),o.endPosition=e._lexerRelativeOffset(this.currentIndex),this.referenceParser!=null&&(o.sourceContent=this.referenceParser.getText(o.startPosition.index,o.endPosition.index+1)),o.parent=this.activeNode,n!=null&&(o.sourceTerminator=n),n=null,this.isParsingString=!1,o.value=this.currentContent.join(""),o.rawLexContent=this.rawContent.join("").trim(),this.currentContent=[],this.rawContent=[],this.guardAgainstNeighboringTypesInModifier(o),this.runtimeNodes.push(o),this.lastNode=o}continue}if(this.isParsingString&&this.cur==D.String_EscapeCharacter){if(this.next==D.String_EscapeCharacter){this.appendContent(D.String_EscapeCharacter),this.ignorePrevious=!0,this.currentIndex+=1;continue}else if(this.next==D.String_Terminator_SingleQuote){this.appendContent(D.String_Terminator_SingleQuote),this.rawContent.push(D.String_EscapeCharacter),this.rawContent.push(D.String_Terminator_SingleQuote),this.currentIndex+=1;continue}else if(this.next==D.String_Terminator_DoubleQuote){this.appendContent(D.String_Terminator_DoubleQuote),this.rawContent.push(D.String_EscapeCharacter),this.rawContent.push(D.String_Terminator_DoubleQuote),this.currentIndex+=1;continue}else if(this.next=="n"){this.appendContent(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){this.appendContent("	"),this.currentIndex+=1;continue}else if(this.next=="r"){this.appendContent("\r"),this.currentIndex+=1;continue}}if(this.isParsingString==!1){if(this.isValidChar(this.cur)&&this.isValidChar(this.next)==!1&&this.currentContent.length==0&&(this.appendContent(this.cur),a=!1),(this.next==null||this.isValidChar(this.next)==!1)&&this.currentContent.length>0){a&&this.appendContent(this.cur);let o=this.currentContent.join("").trim(),l=o.length,u=this.currentIndex-l,c=e._lexerRelativeOffset(u),f=e._lexerRelativeOffset(this.currentIndex);if(this.currentContent=[],this.rawContent=[],o==st.LogicalAnd){let p=new mr;p.isVirtual=!1,p.content=st.LogicalAnd,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(o==st.LogicalOr){let p=new hr;p.isVirtual=!1,p.content=st.LogicalOr,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(o==st.LogicalXor){let p=new pn;p.isVirtual=!1,p.content=st.LogicalXor,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(o==st.ConstNull){let p=new fr;p.isVirtual=!1,p.content=st.ConstNull,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(o==st.ConstTrue){let p=new Or;p.isVirtual=!1,p.content=st.ConstTrue,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(o==st.ConstFalse){let p=new Fr;p.isVirtual=!1,p.content=st.ConstFalse,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(o==st.LogicalNot){let p=new hi;p.isVirtual=!1,p.content=st.LogicalNot,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(o==st.ArrList&&this.next==D.LeftParen){let p=new yr;p.isVirtual=!1,p.content=st.ArrList,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}if(Y.isNumeric(o)){let p=new Ut;p.isVirtual=!1,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,o.includes(".")?p.value=parseFloat(o):p.value=parseInt(o),p.rawLexContent=o,this.guardAgainstNeighboringTypesInModifier(p),this.runtimeNodes.push(p),this.lastNode=p;continue}if(this.runtimeNodes.length>0){let p=this.runtimeNodes[this.runtimeNodes.length-1];if(p instanceof Ii){let m=new Mt;m.isVirtual=!1,m.name=o,m.content=o,m.startPosition=c,m.endPosition=f,m.parent=this.activeNode,this.runtimeNodes.push(m),this.lastNode=m;continue}else if(p instanceof Ei){let m=new Xt;m.isVirtual=!1,m.name=o,m.value=o,m.startPosition=c,m.endPosition=f,m.parent=this.activeNode,this.runtimeNodes.push(m),this.lastNode=m,this.isParsingModifierName=!1;continue}}let d=new le;d.isVirtual=!1,d.name=o,d.startPosition=c,d.endPosition=f,d.parent=this.activeNode,this.runtimeNodes.push(d),this.lastNode=d;continue}}else{this.appendContent(this.cur);continue}if(!Y.ctypeSpace(this.cur)){if(this.isParsingString==!1){if(this.cur==D.Punctuation_Equals&&this.next==D.Punctuation_GreaterThan){let o=new wi;o.isVirtual=!1,o.content="=>",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentContent=[],this.rawContent=[],this.currentIndex+=1;continue}if(this.cur==D.Punctuation_Comma){let o=new kt;o.isVirtual=!1,o.content=D.Punctuation_Comma,o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.Punctuation_Semicolon){let o=new mi;o.isVirtual=!1,o.content=D.Punctuation_Semicolon,o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.Punctuation_Plus){if(this.next==D.Punctuation_Equals){let l=new Lr;l.isVirtual=!1,l.content="+=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new Xi;o.isVirtual=!1,o.content="+",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.isParsingModifierName==!1&&this.cur==D.Punctuation_Minus){if(Y.ctypeDigit(this.next)&&Y.ctypeDigit(this.prev)==!1&&this.prev!=D.RightParent&&this.isRightOfInterpolationRegion()==!1){this.appendContent(this.cur);continue}if(this.next==D.Punctuation_Equals){let l=new dn;l.isVirtual=!1,l.content="-=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}else if(this.next==D.Punctuation_GreaterThan){let l=new ri;l.isVirtual=!1,l.content="->",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new Ri;o.isVirtual=!1,o.content="-",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.Punctuation_Asterisk){if(this.next==D.Punctuation_Asterisk){let l=new fn;l.isVirtual=!1,l.content="**",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}else if(this.next==D.Punctuation_Equals){let l=new qr;l.isVirtual=!1,l.content="*=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new Ji;o.isVirtual=!1,o.content="*",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.Punctuation_ForwardSlash){if(this.next==D.Punctuation_Equals){let l=new kr;l.isVirtual=!1,l.content="/=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new Qi;o.isVirtual=!1,o.content="/",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.Punctuation_Percent){if(this.next==D.Punctuation_Equals){let l=new Mr;l.isVirtual=!1,l.content="%=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new dr;o.isVirtual=!1,o.content="%",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.Punctuation_LessThan){if(this.next==D.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==D.Punctuation_GreaterThan){let c=new Gr;c.isVirtual=!1,c.content="<=>",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+3),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=2;continue}let u=new Br;u.isVirtual=!1,u.content="<=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let o=new Vr;o.isVirtual=!1,o.content="<",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.Punctuation_GreaterThan){if(this.next==D.Punctuation_Equals){let l=new pr;l.isVirtual=!1,l.content=">=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new pr;o.isVirtual=!1,o.content=">",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.Punctuation_Equals&&this.next!=D.Punctuation_Equals){let o=new Zi;o.isVirtual=!1,o.content="=",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.Punctuation_Equals&&this.next==D.Punctuation_Equals){let o=null;if(this.currentIndex+2<this.inputLen&&(o=this.chars[this.currentIndex+2]),o==D.Punctuation_Equals){let l=new Wr;l.isVirtual=!1,l.content="===",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+3),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=2}else{let l=new Ai;l.isVirtual=!1,l.content="==",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1}continue}if(this.cur==D.Punctuation_Ampersand){if(this.next==D.Punctuation_Ampersand){let l=new mr;l.isVirtual=!1,l.content="&&",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}if(this.next==D.Punctuation_Equals){let l=new mn;l.isVirtual=!1,l.content="&=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}let o=new mr;o.isVirtual=!1,o.content="&",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.Punctuation_Pipe&&this.next!=D.Punctuation_Pipe){let o=new Ii;o.isVirtual=!1,o.content="|",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.isParsingModifierName=!0;continue}if(this.cur==D.Punctuation_Pipe&&this.next==D.Punctuation_Pipe){let o=new hr;o.isVirtual=!1,o.content="||",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==D.Punctuation_Exclamation){if(this.next==D.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==D.Punctuation_Equals){let c=new Ur;c.isVirtual=!1,c.content="!==",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+3),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=2;continue}let u=new jr;u.isVirtual=!1,u.content="!=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let o=new hi;o.isVirtual=!1,o.content="!",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.Punctuation_Question&&this.next==D.Punctuation_Equals){let o=new wn;o.isVirtual=!1,o.content="?=",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==D.Punctuation_Question&&this.next==D.Punctuation_Question){let o=new gr;o.isVirtual=!1,o.content="??",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==D.Punctuation_Question&&this.next==D.Punctuation_Colon){let o=new gr;o.isVirtual=!1,o.content="?:",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==D.Punctuation_Question){let o=new Yr;o.isVirtual=!1,o.content="?",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.LeftParen){let o=new zt;o.isVirtual=!1,o.content="(",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.RightParent){let o=new $t;o.isVirtual=!1,o.content=")",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.Punctuation_Colon){if(this.runtimeNodes.length>0&&this.runtimeNodes[this.runtimeNodes.length-1]instanceof Mt){let u=new Ei;u.isVirtual=!1,u.content=":",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+1),u.parent=this.activeNode,this.runtimeNodes.push(u),this.isInModifierParameterValue==!1?this.isInModifierParameterValue=!0:this.isInModifierParameterValue=!1;continue}let o=new wt;o.isVirtual=!1,o.content=":",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.isParsingModifierName=!1;continue}}a&&this.appendContent(this.cur)}}let s=this.runtimeNodes.length-1;for(let a=0;a<this.runtimeNodes.length;a++){let o=null,l=null;a>0&&(o=this.runtimeNodes[a-1]),a!=s&&(l=this.runtimeNodes[a+1]);let u=this.runtimeNodes[a];u.prev=o,u.next=l}return this.runtimeNodes}};var Jt=class{constructor(){this.chars=[];this.currentIndex=0;this.lastIndex=0;this.inputLength=0;this.prev=null;this.cur=null;this.next=null;this.isParsingString=!1;this.isStringKeyPath=!1;this.antlersErrors=[];this._recusriveEntryCheck=new Map}isValidChar(e){return!(this.isParsingString==!1&&Y.ctypeSpace(e)||this.isParsingString==!1&&e==Jt.LeftBracket||this.isParsingString==!1&&e==Jt.RightBracket)}normalizePath(e){return e=e.replace(":","_"),e=e.replace(".","_"),e=e.replace("[","_"),e=e.replace("]","_"),e.replace("]","_")}getAntlersErrors(){return this.antlersErrors}mergeErrors(e){e.forEach(i=>{this.antlersErrors.push(i)})}parse(e){this.antlersErrors=[],this._recusriveEntryCheck.clear();let i=e,r=!1,n=!1,s=!1,a=!1;e.startsWith(D.AtChar)&&(s=!0,e=e.substr(1)),e.startsWith(D.Punctuation_Percent)?(a=!0,e=e.substr(1)):(e.startsWith(D.Punctuation_Dollar)&&(r=!0,e=e.substr(1)),e.startsWith(D.Punctuation_Dollar)&&(n=!0,e=e.substr(1))),this.chars=[],this.currentIndex=0,this.lastIndex=0,this.inputLength=0,this.cur=null,this.prev=null,this.next=null,this.chars=e.split(""),this.inputLength=this.chars.length,this.lastIndex=this.inputLength-1;let o=[],l=!1,u=[],c=Jt.ColonSeparator,f=!1,d=null,p=!1,m=!0;if(this.isParsingString=!1,this.inputLength==0){let _=new hn;return _._isFromEmptyFailState=!0,_}for(this.currentIndex;this.currentIndex<this.inputLength;this.currentIndex+=1){if(this.cur=this.chars[this.currentIndex],this.next=null,f?(f=!1,this.prev=""):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLength&&(this.next=this.chars[this.currentIndex+1]),this.isParsingString==!1&&this.cur==Jt.ColonSeparator&&(c=Jt.ColonSeparator),this.isParsingString==!1&&this.cur==Jt.DotPathSeparator&&(c=Jt.DotPathSeparator),this.isParsingString&&this.cur==D.String_EscapeCharacter&&this.next==d){d!=null&&o.push(d),this.currentIndex+=1;continue}if(this.cur==D.String_Terminator_SingleQuote||this.cur==D.String_Terminator_DoubleQuote)if(this.isParsingString)if(this.cur==d)if(this.prev==D.String_EscapeCharacter){o.push(this.cur);continue}else this.isParsingString=!1,m=!1;else{o.push(this.cur);continue}else{this.prev!=null&&this.prev!=D.LeftBracket&&(Y.ctypeAlpha(this.prev)||Y.ctypeDigit(this.prev))&&this.antlersErrors.push(M.makeSyntaxError(I.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR,null,"Unexpected string start while parsing variable path. String literals must be within array accessors.")),this.isParsingString=!0,p=!0,d=this.cur,this.isStringKeyPath=!0;continue}if(this.isParsingString){if(Y.ctypeSpace(this.cur)){o.push(this.cur);continue}else if(this.cur==D.String_EscapeCharacter){if(this.next==D.String_EscapeCharacter){o.push(D.String_EscapeCharacter),this.currentIndex+=1,f=!0;continue}else if(this.next=="n"){o.push(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){o.push("	"),this.currentIndex+=1;continue}else if(this.next=="r"){o.push("\r"),this.currentIndex+=1;continue}}}if(this.isParsingString==!1&&this.cur==Jt.LeftBracket){if(o.length>0){let y=new vi;y.name=o.join(""),y.delimiter=c,u.push(y),o=[]}if(this.next==null||Y.ctypeSpace(this.next)){this.antlersErrors.push(M.makeSyntaxError(I.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT,null,"Unexpected end of input or whitespace while parsing variable accessor path."));continue}let _=this.locateEndOfAccessor();this.currentIndex=_.foundOn;let g=new Jt;if(u.push(g.parse(_.nestedContent)),this.mergeErrors(g.getAntlersErrors()),l=!0,this.currentIndex==-1){this.antlersErrors.push(M.makeSyntaxError(I.PARSER_CANNOT_PARSE_PATH_RECURSIVE,null,"Cannot parse variable path.")),l=!1;break}continue}if(this.isParsingString==!1&&this.next==Jt.RightBracket&&l){m?o.push(this.cur):m=!0;let _=new Of;_.name=o.join(""),u.push(_),o=[],c=Jt.ColonSeparator,this.currentIndex+=1,l=!1;continue}if(this.isParsingString==!1&&(this.cur==Jt.LeftBracket||this.cur==Jt.ColonSeparator||this.cur==Jt.DotPathSeparator||this.currentIndex==this.lastIndex)){if(this.next==null||Y.ctypeSpace(this.next)){if(this.cur==Jt.ColonSeparator){if(o.length==0){this.antlersErrors.push(M.makeSyntaxError(I.TYPE_UNEXPECTED_BRANCH_SEPARATOR,null,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}this.antlersErrors.push(M.makeSyntaxError(I.TYPE_ILLEGAL_VARPATH_RIGHT,null,'Variable paths cannot end with the ":" character.'));continue}if(this.cur==Jt.LeftBracket){this.antlersErrors.push(M.makeSyntaxError(I.TYPE_ILLEGAL_VARPATH_SUBPATH_START,null,"Illegal variable sub-path start."));continue}}this.currentIndex==this.lastIndex&&this.isValidChar(this.cur)&&(m?o.push(this.cur):m=!0);let _=new vi;_.delimiter=c,_.name=o.join(""),p&&(_.isStringVar=p,_.name=i.substr(1),_.name=_.name.slice(0,-1),p=!1),u.push(_),o=[];continue}else{o.push(this.cur);continue}}let T=u.length;if(T>0){let _=u[T-1];(_ instanceof vi||_ instanceof hn)&&(_.isFinal=!0)}let P=new hn;return P.isStrictTagReference=a,P.isStrictVariableReference=r,P.isExplicitVariableReference=n,P.pathParts=u,P.originalContent=e,P.isVariableVariable=s,P.normalizedReference=e.replace(":","."),P}locateEndOfAccessor(){let e=[],i=1,r=-1,n="",s=!1,a=null;if(this._recusriveEntryCheck.has(this.currentIndex+1)==!1)this._recusriveEntryCheck.set(this.currentIndex+1,!0);else return{foundOn:r,nestedContent:""};for(let o=this.currentIndex+1;o<this.inputLength;o++){let l=this.chars[o],u=null,c=null;if(o>0&&(c=this.chars[o-1]),o+1<this.inputLength&&(u=this.chars[o+1]),s==!1&&(l==D.String_Terminator_SingleQuote||l==D.String_Terminator_DoubleQuote)){s=!0,a=l,e.push(l);continue}if(s==!1&&l==Jt.LeftBracket){i+=1,e.push(l);continue}if(s&&l==a&&c!=D.String_EscapeCharacter){e.push(l),s=!1,a=null;continue}if(s==!1&&l==Jt.RightBracket)if(i-=1,i==0){r=o,n=e.join("");break}else{e.push(l);continue}else e.push(l);s==!1&&Y.ctypeSpace(u)&&this.antlersErrors.push(M.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path.")),u==null&&this.antlersErrors.push(M.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path."))}return{foundOn:r,nestedContent:n}}},kn=Jt;kn.ColonSeparator=":",kn.LeftBracket="[",kn.RightBracket="]",kn.DotPathSeparator=".";var Ud=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.cur=null;this.prev=null;this.pathParser=new kn;this.lexer=new jd;this.activeNode=null}reset(){this.chars=[],this.inputLen=0,this.currentIndex=0,this.cur=null,this.prev=null}canBeClosingTag(e){var r;let i=(r=e.name)==null?void 0:r.name;return i=="elseif"||i=="else"?!0:e.name==null?!1:e.name.content.startsWith("/")}parseNode(e){var c,f,d,p;if(this.activeNode=e,this.reset(),e.content.startsWith("*subrecursive")){let m=e.content;m=m.trim(),m=Y.trimRight(m,"*"),m=m.substr(13);let T=new cr;return e.copyBasicDetailsTo(T),T.originalNode=e,T.name=new Vi,T.name.name=m,T.isNestedRecursive=!0,m.trim().startsWith("[")||(T.pathReference=this.pathParser.parse(m)),T.mergeErrors(this.pathParser.getAntlersErrors()),T.content=m,T.runtimeContent=m,T}if(e.content.trim().startsWith("*recursive")){let m=e.content;m=m.trim(),m=Y.trimRight(m,"*"),m=m.substr(10).trim();let T=new cr;return e.copyBasicDetailsTo(T),T.originalNode=e,T.name=new Vi,T.name.name=m,T.pathReference=this.pathParser.parse(m),T.mergeErrors(this.pathParser.getAntlersErrors()),T.content=m,T.runtimeContent=m,T}this.chars=e.content.split(""),this.inputLen=this.chars.length;let i=[],r=!1,n="",s=!1,a=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.cur=this.chars[this.currentIndex],this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),r==!1){if(s==!1&&(this.cur==D.String_Terminator_DoubleQuote||this.cur==D.String_Terminator_SingleQuote)){a=this.cur,s=!0,i.push(this.cur);continue}if(s&&Y.ctypeSpace(this.cur)){i.push(this.cur);continue}if(s&&this.cur==a&&this.prev!=D.String_EscapeCharacter){a=null,s=!1,i.push(this.cur);continue}if(Y.ctypeSpace(this.cur)||this.currentIndex==this.inputLen-1||this.cur==D.Punctuation_Pipe){if(i.length==0)continue;Y.ctypeSpace(this.cur)||this.cur!=D.Punctuation_Pipe&&i.push(this.cur),n=i.join(""),r=!0;break}i.push(this.cur)}let o=e.getContentRelativeStartIndex();if(e.nameStartsOn=e.relativeOffset(o,o),e.nameStartsOn!=null&&(e.nameEndsOn=e.nameStartsOn.shiftRight(n.length-1),n.includes(D.Punctuation_Colon))){let m=n.indexOf(D.Punctuation_Colon);e.nameMethodPartStartsOn=e.nameStartsOn.shiftRight(m+1)}e.name=Bd.getIdentifier(n),Mg.analyzeNode(e),e.parameters=this.getParameters(e),e.hasParameters=e.parameters.length>0,e.hasParameters&&(Mg.analyzeParametersForModifiers(e),e.resetContentCache()),e.pathReference=this.pathParser.parse(n),e.mergeErrors(this.pathParser.getAntlersErrors()),e.pathReference!=null&&e.pathReference.isStrictTagReference&&(e.name.name=e.name.name.substr(1),e.name.content=e.name.content.substr(1)),e.isClosingTag=this.canBeClosingTag(e);let l=[];e.isClosingTag==!1&&(l=this.lexer.tokenize(e,e.getContent())),e.runtimeNodes=l;let u=e.content.trim();if(ti.isConditionalStructure(e)&&e.name.name!="else"&&l.length==0&&u!="/if"&&u!="/unless"&&u!="/endunless"&&u!="endif"&&u!="endunless"&&u!="/endif"&&e.getContent().trim().length==0&&this.pushConditionWithoutExpression(e),e.name.name=="endif"){let m=e.copyBasicDetails(),T=e.getParser();return T!=null&&m.withParser(T),m.name=new Vi,m.name.name="if",m.name.compound="if",m.isClosingTag=!0,m.content=" /if ",m.originalNode=e,m}if(e.name.name=="unless"){let m=e.copyBasicDetails(),T=e.getParser();if(T!=null&&m.withParser(T),m.name=new Vi,m.name.name="if",m.name.compound="if",e.isClosingTag==!1){let P=(c=e.getContent())!=null?c:"",_=" if !("+P+") ";m.content=_,m.originalNode=e,m.resetContentCache(),m.runtimeNodes=this.lexer.tokenize(m,(f=m.getContent())!=null?f:""),this.testUnlessContent(m)}else m.originalNode=e,m.content=" /if ";return m}else if(e.name.name=="elseunless"){let m=e.copyBasicDetails(),T=e.getParser();T!=null&&m.withParser(T),m.name=new Vi,m.name.name="elseif",m.name.compound="elseif";let P=(d=e.getContent())!=null?d:"",_=" elseif !("+P+") ";return m.content=_,m.originalNode=e,m.resetContentCache(),m.runtimeNodes=this.lexer.tokenize(m,(p=m.getContent())!=null?p:""),this.testUnlessContent(m),m}else if(e.name.name=="endunless"){let m=e.copyBasicDetails(),T=e.getParser();return T!=null&&m.withParser(T),m.name=new Vi,m.name.name="if",m.name.compound="if",m.isClosingTag=!0,m.content=" /if ",m.originalNode=e,m}return e}pushError(e){this.activeNode!=null&&this.activeNode.pushError(e)}testUnlessContent(e){var r;let i=(r=e.getContent())!=null?r:"";if(i=i.replace("!",""),i=i.replace("(",""),i=i.replace(")","").trim(),i.length==0){this.pushConditionWithoutExpression(e);return}}pushConditionWithoutExpression(e){this.pushError(M.makeSyntaxError(I.TYPE_PARSE_EMPTY_CONDITIONAL,e,"Condition structure lacks comparison expression."))}getParameters(e){var C,B,w,$,oe,U,J,ce,ne;let i=(C=e.getContent())!=null?C:"",r=i.split(""),n=[],s=[],a=r.length,o=0;if(e.name!=null){let X=Y.trimLeft(e.content," "),Be=e.content.length-X.length,ht=e.name.content.length;Be>0?o=Be+ht:o=ht}let l=!1,u=[],c="",f=0,d=0,p=!1,m=null,T=-1,P=-1,_=-1,g=-1,y=-1,E=-1,L=null;for(let X=0;X<a;X++){let Be=r[X],ht=null,oi=null;if(X+1<a&&(oi=r[X+1]),p?(ht="",p=!1):X>0&&(ht=r[X-1]),l==!1&&Y.ctypeSpace(Be)){u=[],T=-1,P=-1,_=-1,g=-1,y=-1,E=-1;continue}if(l==!1&&Be==D.Punctuation_Equals){if(u.length>0&&(Y.ctypeAlpha(u[0])||Y.ctypeDigit(u[0])||u[0]==D.Punctuation_Colon||u[0]==D.AtChar)==!1){u=[];continue}if(X+1>=a){this.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_END_OF_INPUT,e,"Unexpected end of input"));continue}let it=null;if(X+1<a&&(it=r[X+1]),ht==D.Punctuation_Equals){u=[],T=-1,P=-1,_=-1,g=-1,y=-1,E=-1;continue}if(Y.ctypeSpace(it)||it==D.Punctuation_Equals){u=[],T=-1,P=-1,_=-1,g=-1,y=-1,E=-1;continue}u.length>0&&(g=X,y=X,c=u.join(""),f=d,l=!0,u=[]),oi==D.String_Terminator_DoubleQuote&&(m=D.String_Terminator_DoubleQuote,L=D.String_Terminator_DoubleQuote,X+=1),oi==D.String_Terminator_SingleQuote&&(m=D.String_Terminator_SingleQuote,L=D.String_Terminator_SingleQuote,X+=1);continue}if(l&&Be==D.String_EscapeCharacter){let it=null;if(X+1<a&&(it=r[X+1]),it==D.String_EscapeCharacter){u.push(D.String_EscapeCharacter),X+=1,p=!0;continue}if(it==D.String_Terminator_DoubleQuote){u.push(D.String_Terminator_DoubleQuote),X+=1;continue}if(it==D.String_Terminator_SingleQuote){u.push(D.String_Terminator_SingleQuote),X+=1;continue}if(it=="n"){u.push(`
`),X+=1;continue}if(it=="r"){u.push("\r"),X+=1;continue}}if(l==!1&&(m!=null&&Be==m||m==null&&Y.ctypeSpace(Be))&&n.push(u.join("")),l&&(m!=null&&Be==m||m==null&&Y.ctypeSpace(Be))){let it=u.join("");E=X,P=X,l=!1,m=null,u=[];let Qe=new As;if(c.startsWith(D.Punctuation_Colon)&&(Qe.isVariableReference=!0,c=c.substr(1)),Qe.nameDelimiter=L,Qe.name=c,Qe.value=it,Qe.nameDelimiter==null&&(Qe.hasValidValueDelimiter=!1,Qe.nameDelimiter='"'),Qe.startPosition=(B=e.relativePositionFromOffset(d,f))!=null?B:null,X+1>a){this.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER,e,"Unexpected end of input while parsing parameter content.")),Qe.parent=e,s.push(Qe),c="";continue}Qe.endPosition=(w=e.relativePositionFromOffset(X+1,X+1))!=null?w:null,Qe.parent=e,Qe.blockPosition={start:($=e.relativeOffset(T,T))!=null?$:null,end:(oe=e.relativeOffset(P,P))!=null?oe:null},Qe.namePosition={start:(U=e.relativeOffset(_,_))!=null?U:null,end:(J=e.relativeOffset(g,g))!=null?J:null},Qe.valuePosition={start:(ce=e.relativeOffset(y+2,y+2))!=null?ce:null,end:(ne=e.relativeOffset(E,E))!=null?ne:null},s.push(Qe),c="",T=-1,P=-1,_=-1,g=-1,y=-1,E=-1;continue}if(l==!1&&(Be==D.String_Terminator_DoubleQuote||Be==D.String_Terminator_SingleQuote)&&X>o)break;u.push(Be),T==-1&&(T=X),_==-1&&(_=X),u.length==1&&(d=X+1)}if(m!=null){let X=e;if(n.length>0){let Be=n[n.length-1],ht=e.content.indexOf(Be);if(ht>=0){let oi=new ie;oi.startPosition=e.relativeOffset(ht-2,ht-2),oi.endPosition=e.relativeOffset(ht+Be.length,ht+Be.length),X=oi}}this.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_END_OF_INPUT,X,"Unexpected string literal while parsing parameters."))}return s}};function pu(t){return t.length==0?null:t[0].startPosition}var VP=ee(Rf()),mu=class{static regions(){return this.noParseRegions}static clear(){this.noParseRegions.clear()}static registerNoParseContent(e){let i=VP.Md5.hashStr(e);return this.noParseRegions.set(i,e),i}};mu.noParseRegions=new Map;function qg(t,e){let i=new Set(t),r=new Set(e),n=new Set([...i].filter(s=>r.has(s)));return Array.from(n)}var Vg=class{constructor(){this.closingTagIndex=new Map;this.closingTagIndexCount=new Map;this.openTagIndexCount=new Map;this.closingTagNames=new Map;this.parentNode=null;this.stackCount=0;this.createdExecutionBranches=[];this.document=null}getClosingCandidates(e){var i,r;if((e instanceof G||e instanceof yt)&&e.isClosingTag==!1){let n=(r=(i=e.name)==null?void 0:i.compound)!=null?r:"";return n=="if"?["if","elseif","else"]:n=="elseif"?["elseif","else","if"]:n=="else"?["if"]:[n]}return[]}buildCloseIndex(e){var i,r,n;e.forEach(s=>{var a,o,l,u,c,f,d,p,m,T;if(!(s instanceof cr)&&!((s instanceof G||s instanceof yt)&&s.isSelfClosing)&&(s instanceof G||s instanceof yt)&&s.isClosingTag){this.closingTagIndex.has(this.stackCount)==!1&&this.closingTagIndex.set(this.stackCount,new Map),this.closingTagIndexCount.has(this.stackCount)==!1&&this.closingTagIndexCount.set(this.stackCount,new Map);let P=(o=(a=s.name)==null?void 0:a.compound)!=null?o:"";((l=this.closingTagIndex.get(this.stackCount))==null?void 0:l.has(P))==!1&&((u=this.closingTagIndex.get(this.stackCount))==null||u.set(P,[]),(c=this.closingTagIndexCount.get(this.stackCount))==null||c.set(P,0)),(d=(f=this.closingTagIndex.get(this.stackCount))==null?void 0:f.get(P))==null||d.push(s);let _=(m=(p=this.closingTagIndexCount.get(this.stackCount))==null?void 0:p.get(P))!=null?m:0;(T=this.closingTagIndexCount.get(this.stackCount))==null||T.set(P,_+1)}}),this.closingTagNames.has(this.stackCount)==!1&&this.closingTagNames.set(this.stackCount,[]),this.closingTagIndex.has(this.stackCount)&&(this.closingTagNames.set(this.stackCount,Array.from((r=(i=this.closingTagIndex.get(this.stackCount))==null?void 0:i.keys())!=null?r:[])),(n=this.closingTagIndex.get(this.stackCount))==null||n.forEach((s,a)=>{var u,c,f,d,p,m,T;let o=s.length;if(o==0)return;let l=s[o-1];for(let P=0;P<o;P++){let _=e[P];if(_ instanceof G||_ instanceof yt){if(_ instanceof cr)continue;if(_.index>=l.index)break;let g=(c=(u=_.name)==null?void 0:u.compound)!=null?c:"";if(_.isClosingTag==!1&&a==g&&!_.isSelfClosing){this.openTagIndexCount.has(this.stackCount)==!1&&this.openTagIndexCount.set(this.stackCount,new Map),((f=this.openTagIndexCount.get(this.stackCount))==null?void 0:f.has(a))==!1&&((d=this.openTagIndexCount.get(this.stackCount))==null||d.set(a,0));let y=(m=(p=this.openTagIndexCount.get(this.stackCount))==null?void 0:p.get(a))!=null?m:0;(T=this.openTagIndexCount.get(this.stackCount))==null||T.set(a,y+1)}}}}))}getScanForList(e){var i;if(e instanceof G||e instanceof yt){let r=(i=e.name)==null?void 0:i.compound;if(r=="else")return["if"];if(r=="elseif")return["elseif","else","if"];if(e.isClosingTag==!1){let n=this.getClosingCandidates(e),s=this.closingTagNames.get(this.stackCount);return qg(n,s)}}return[]}canPossiblyClose(e){var i,r;if(e instanceof cr)return!1;if(e instanceof yt||e instanceof G){if(e.isComment||e.isSelfClosing)return!1;let n=(r=(i=e.name)==null?void 0:i.compound)!=null?r:"";if(n=="else"||n=="elseif")return!0;if(e.isClosingTag==!1){let s=this.getClosingCandidates(e),a=this.closingTagNames.get(this.stackCount);return qg(s,a).length>0}}return!1}findClosingPair(e,i,r){var o,l,u,c;let n=i.runtimeNodes.length,s=e.length,a=0;for(let f=0;f<s;f++){let d=e[f];if(d instanceof G||d instanceof yt)if(i.endPosition!=null&&d.startPosition!=null){if(i.endPosition.isBefore(d.startPosition)){if(d.isClosingTag&&d.isOpenedBy!=null||d.isSelfClosing)continue;let p=(l=(o=d.name)==null?void 0:o.compound)!=null?l:"";if(d.isClosingTag==!1){if(r.includes(p)){let m=(u=this.openTagIndexCount.get(this.stackCount))==null?void 0:u.get(p),T=(c=this.closingTagIndexCount.get(this.stackCount))==null?void 0:c.get(p);m!=T&&d.runtimeNodes.length>=n,a+=1}continue}if(r.includes(p)&&a>0){a-=1;continue}if(a==0&&r.includes(p)){d.isOpenedBy=i,i.isClosedBy=d;break}}}else continue}}associate(e,i){var s,a,o,l,u,c,f;this.document=i;let r=[{documentNodes:e,parent:null}],n=[];for(;r.length>0;){let d=r.pop();if(d==null)continue;let p=d.documentNodes;this.parentNode=d.parent,this.stackCount+=1,this.buildCloseIndex(p),p=ti.pairConditionals(p),p.forEach(_=>{if((_ instanceof G||_ instanceof yt)&&this.canPossiblyClose(_)){if(ti.isConditionalStructure(_))return;let g=this.getScanForList(_);this.findClosingPair(p,_,g)}});let m=p.length;for(let _=0;_<m;_++){let g=p[_];if((g instanceof G||g instanceof yt)&&g.isClosedBy!=null)for(let y=_+1;y<m;y++){let E=p[y];if(E.index>g.isClosedBy.index)break;if(E.parent=g,g.children.push(E),E instanceof G&&E.index==g.index){E.parent=g;break}}}p.forEach(_=>{if((_ instanceof G||_ instanceof yt)&&_.children.length>0){let g=[];_.children.forEach(y=>{y.parent!=null&&y.parent.index==_.index&&(y.parent=_,g.push(y))}),r.push({documentNodes:g,parent:_})}});let T=[];p.forEach(_=>{this.parentNode==null?_.parent==null&&T.push(_):_.parent==this.parentNode&&T.push(_)}),T=this.reduceConditionals(T,i);let P=new Map;p.forEach(_=>{var g,y,E,L;if((_ instanceof G||_ instanceof yt)&&_.isClosedBy!=null&&this.document!=null){let C=this.document.getText(((y=(g=_.endPosition)==null?void 0:g.index)!=null?y:0)+1,(L=(E=_.isClosedBy.startPosition)==null?void 0:E.index)!=null?L:0);_.runtimeContent=C}});for(let _=0;_<T.length;_++){let g=T[_],y=(s=g.refId)!=null?s:"";if(P.set(y,1),(g instanceof G||g instanceof yt)&&g.isComment==!1&&((a=g.name)==null?void 0:a.name)=="noparse"&&!(g instanceof ii)&&g.isClosingTag==!1){if(g.isClosedBy==null){g.pushError(M.makeSyntaxError(I.TYPE_NO_PARSE_UNASSOCIATED,g,"Encountered noparse region without a closing tag. All noparse regions must be closed."));continue}let E=g.content;this.document!=null&&(E=this.document.getText(((l=(o=g.endPosition)==null?void 0:o.index)!=null?l:0)+1,(f=(c=(u=g.isClosedBy)==null?void 0:u.startPosition)==null?void 0:c.index)!=null?f:0));let L=new ii,C=g.getParser();C!=null&&L.withParser(C),g.copyBasicDetailsTo(L),L.name=new Vi,L.name.name="noparse",L.name.compound="noparse",L.content=mu.registerNoParseContent(E),L.originalNode=g,L.isClosedBy=g.isClosedBy,L.parent=g.parent,T[_]=L}}if(this.parentNode!=null&&(this.parentNode instanceof yt||this.parentNode instanceof G)&&(this.parentNode.children=this.cleanNodes(T),this.parentNode.parent!=null&&this.parentNode.parent instanceof G)){let _=this.parentNode.parent.children,g=[];_.forEach(y=>{var E;P.has((E=y.refId)!=null?E:"")==!1&&g.push(y)}),this.parentNode.parent.children=this.cleanNodes(g)}this.stackCount<=1&&(n=T)}return this.createdExecutionBranches.length>0&&this.createdExecutionBranches.forEach(d=>{d.head!=null&&(d.nodes=d.head.children)}),n}cleanNodes(e){let i=[],r=[];for(let n=0;n<e.length;n++){let s=e[n],a=s.refId;if(r.includes(a))break;i.push(s),r.push(a)}return i}findEndOfBranch(e,i,r){let n=[],s=r,a=null;for(let o=0;o<e.length;o++){let l=e[o];if((l instanceof G||l instanceof yt)&&l.isOpenedBy!=null&&l.isOpenedBy==i){a=l;break}else n.push(l)}return{children:n,tail:a,offset:s}}reduceConditionals(e,i){var n,s,a,o,l,u,c,f,d,p,m,T;let r=[];for(let P=0;P<e.length;P++){let _=e[P];if((_ instanceof G||_ instanceof yt)&&_.isComment==!1&&_.isClosingTag==!1&&_.isClosedBy!=null)if(((s=(n=_.name)==null?void 0:n.compound)!=null?s:"")=="if"){let y=new et;y.index=_.index,y.chain.push(_.index),y.fragment=_.fragment,y.fragmentPosition=_.fragmentPosition,y.containsAnyFragments=_.containsAnyFragments,y.containsChildStructures=_.containsChildStructures;let E=(o=(a=_.startPosition)==null?void 0:a.offset)!=null?o:0,L=_.getFinalClosingTag(),C=((u=(l=L.endPosition)==null?void 0:l.offset)!=null?u:0)+1;y.nodeContent=i.getText(E,C),this.parentNode!=null&&(y.parent=this.parentNode);let B=null,w=!0,$=0;for(;w;){if($+=1,$>Vg.ForceBreakLimit){w=!1;break}if(_ instanceof G||_ instanceof yt){let oe=this.findEndOfBranch(e.slice(P+1),_,P),U=new Ef,J=oe.tail;U.head=_,U.tail=J,U.nodes=this.cleanNodes(_.children);let ce=((f=(c=_.endPosition)==null?void 0:c.offset)!=null?f:0)+1,ne=(m=(p=(d=_.isClosedBy)==null?void 0:d.startPosition)==null?void 0:p.offset)!=null?m:0,X=i.getText(ce,ne);if(U.documentText=X,i.shouldParseChildDocument()&&(U.childDocument=Nt.childFromText(U.documentText,pu(U.nodes))),J==null&&(J=U.head.isClosedBy),J!=null&&J.startPosition!=null&&(U.startPosition=J.startPosition),J!=null&&(U.index=J.index),U.nodes.length>0){let Be=U.nodes[U.nodes.length-1];Be.endPosition!=null&&(U.endPosition=Be.endPosition)}else J!=null&&J.endPosition!=null&&(U.endPosition=J.endPosition);if(this.createdExecutionBranches.push(U),y.logicBranches.push(U),(J==null?void 0:J.isClosingTag)&&((T=J.name)==null?void 0:T.compound)=="if"){B=oe.offset,w=!1;break}else J!=null&&y.chain.push(J.index),P=oe.offset,J instanceof G&&(_=J)}else w=!1}if(y.logicBranches.length>0){let oe=y.logicBranches[0],U=y.logicBranches[y.logicBranches.length-1];oe.startPosition!=null&&(y.startPosition=oe.startPosition),U.endPosition!=null&&(y.endPosition=U.endPosition)}if(r.push(y),B!=null&&B==e.length)break}else r.push(_);else r.push(_)}return r}},ka=Vg;ka.ForceBreakLimit=1e5;var Gd=class{static associateRecursiveParent(e){var i,r;for(let n=0;n<e.length;n++){let s=e[n];if(s instanceof cr){let a="*recursive "+((i=s.name)==null?void 0:i.name);if(n-1<0){s.pushError(M.makeSyntaxError(I.TYPE_RECURSIVE_NODE_INVALID_POSITION,s,"Unpaired recursive node. All recursive nodes must have a parent node introducing them."));continue}let o=null;for(let l=n-1;l>=0;l-=1){let u=e[l];if(!(u instanceof $e)&&u instanceof G&&u.isClosedBy!=null){if(s.isNestedRecursive){if(u.content.trim()==((r=s.name)==null?void 0:r.name)){o=u;break}}else if(u.runtimeContent.includes(a)&&Y.substringCount(s.runtimeContent,"*recursive")==1){o=u;continue}else if(o!=null)break}}if(o==null)continue;s.isNestedRecursive?(o.hasRecursiveNode=!0,s.recursiveParent=o,o.recursiveReference=s):o.parent!=null?o.parent instanceof G&&(o.parent.hasRecursiveNode=!0,o.parent.recursiveReference=s,s.recursiveParent=o.parent):(o.hasRecursiveNode=!0,s.recursiveParent=o,o.recursiveReference=s)}}}};var Ma=class{static getNearText(e){var r,n,s,a;if(e instanceof le)return e.name;if(e instanceof Ut)return(n=(r=e.value)==null?void 0:r.toString())!=null?n:"";if(e instanceof Rt)return e.value;if(e instanceof Mt)return e.name;if(e instanceof Xt)return e.value;if(e instanceof yr||e instanceof pn||e instanceof fr||e instanceof Or||e instanceof Fr||e instanceof hi||e instanceof Hr||e instanceof kt||e instanceof mi||e instanceof Lr||e instanceof Xi||e instanceof dn||e instanceof Ri||e instanceof fn||e instanceof qr||e instanceof Ji||e instanceof kr||e instanceof Qi||e instanceof Mr||e instanceof dr||e instanceof Gr||e instanceof Br||e instanceof Vr||e instanceof En||e instanceof pr||e instanceof Zi||e instanceof Wr||e instanceof Ai||e instanceof mr||e instanceof Ii||e instanceof hr||e instanceof Ur||e instanceof jr||e instanceof wn||e instanceof gr||e instanceof Yr||e instanceof zt||e instanceof $t||e instanceof Ei||e instanceof wt||e instanceof es||e instanceof wi||e instanceof mn||e instanceof ri)return e.content;let i="";return e instanceof G?e.originalNode!=null?i=e.originalNode.getContent():i=(a=(s=e.startPosition)==null?void 0:s.line.toString())!=null?a:"":e.originalAbstractNode!=null?i=e.originalAbstractNode.rawContent():i=e.rawContent(),i.length>15&&(i=i.substr(0,-15)),i}};var qa=class{};qa.deferredCoreLibraries=["arr","array","str","string","method","math","sys","convert","scope","stopwatch","file","path","url","request","json","datetime"];var St=class{};St.ARR_PLUCK="pluck",St.ARR_TAKE="take",St.ARR_SKIP="skip",St.ARR_MAKE="arr",St.ARR_ORDERBY="orderby",St.ARR_GROUPBY="groupby",St.ARR_MERGE="merge",St.QUERY_WHERE="where",St.STRUCT_SWITCH="switch",St.BITWISE_AND="bwa",St.BITWISE_OR="bwo",St.BITWISE_XOR="bxor",St.BITWISE_NOT="bnot",St.BITWISE_SHIFT_LEFT="bsl",St.BITWISE_SHIFT_RIGHT="bsr",St.operators=["pluck","take","arr","skip","orderby","groupby","merge","where","switch","bwa","bwo","bxor","bsl","bsr"];var qt=class{constructor(){this.pathParser=new kn;this.tokens=[];this.createdVariables=[];this.createdModifierChains=[];this.createdLanguageOperators=[];this.createdArrays=[];this.tracedAssignments=[];this.mergedVariablePaths=[];this.mergedComponents=new Map;this.modifierNameMapping=new Map;this.isRealModifierSeparator=new Map;this.isRoot=!0;this.retriggerNonVirtualGroupMembers=[]}hasModifierConstruct(e){return this.modifierNameMapping.has(e)}getModifierConstruct(e){return this.modifierNameMapping.get(e)}isActualModifierSeparator(e){return this.isRealModifierSeparator.has(e)}isMergedVariableComponent(e){return this.mergedComponents.has(e)}getMergedVariable(e){return this.mergedComponents.get(e)}getMergedVariablePaths(){return this.mergedVariablePaths}getCreatedModifierChains(){return this.createdModifierChains}getCreatedLangaugeOperators(){return this.createdLanguageOperators}getCreatedArrays(){return this.createdArrays}getCreatedVariables(){return this.createdVariables}getRuntimeAssignments(){return this.tracedAssignments}getAssignedVariables(){let e=[],i=[];for(let r=0;r<this.tracedAssignments.length;r++){let n=this.tracedAssignments[r];n.target instanceof le&&i.includes(n.target.name)==!1&&(i.push(n.target.name),e.push(n.target))}return e}getAssignedVariableNames(){let e=[];for(let i=0;i<this.tracedAssignments.length;i++){let r=this.tracedAssignments[i];r.target instanceof le&&e.includes(r.target.name)==!1&&e.push(r.target.name)}return e}reset(){this.tokens=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.createdArrays=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.tracedAssignments=[],this.createdArrays=[],this.mergedVariablePaths=[],this.mergedComponents.clear(),this.modifierNameMapping.clear()}parse(e){return this.tokens=e,this.tokens=this.combineVariablePaths(this.tokens),this.tokens=this.createLanguageOperators(this.tokens),this.tokens=this.createLogicalGroups(this.tokens),this.tokens=this.associateMethodCalls(this.tokens),this.tokens=this.createTupleLists(this.tokens),this.tokens=this.createLibraryInvocations(this.tokens),this.tokens=this.associateModifiers(this.tokens),this.tokens=this.createNullCoalescenceGroups(this.tokens),this.tokens=this.correctTypes(this.tokens),this.tokens=this.createTernaryGroups(this.tokens),this.tokens=this.applyOperationOrder(this.tokens),this.validateNeighboringOperators(this.tokens),this.tokens=this.createLogicGroupsToRemoveMethodInvocationAmbiguity(this.tokens),this.tokens=this.createLogicGroupsToResolveOperatorAmbiguity(this.tokens),this.validateNoDanglingLogicGroupEnds(this.tokens),this.isRoot&&(this.tokens=this.insertAutomaticStatementSeparators(this.tokens),this.retriggerNonVirtualGroupMembers.length>0&&this.retriggerNonVirtualGroupMembers.forEach(i=>{this.markAllNonVirtualAsListGroupMember(i)})),this.createSemanticGroups(this.tokens)}setIsRoot(e){return this.isRoot=e,this}validateNeighboringOperators(e){let i=e.length;for(let r=0;r<i;r++){let n=e[r];if(qt.isOperatorType(n)){if(r+1>=i){n.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_OPERATOR,n,"Unexpected operator while parsing input text."));return}let s=e[r+1];if(qt.isOperatorType(s)){s.pushError(M.makeSyntaxError(I.TYPE_OPERATOR_INVALID_ON_RIGHT,s,"Unexpected operator while parsing input text."));continue}}}}static isAssignmentOperator(e){return e instanceof Lr||e instanceof kr||e instanceof Zi||e instanceof Mr||e instanceof qr||e instanceof dn}static isOperatorType(e){return e instanceof Lr||e instanceof kr||e instanceof Zi||e instanceof Mr||e instanceof qr||e instanceof dn||e instanceof wn||e instanceof Hr||e instanceof mr||e instanceof hi||e instanceof hr||e instanceof pn||e instanceof gr||e instanceof mn||e instanceof Xi||e instanceof Qi||e instanceof fn||e instanceof dr||e instanceof Ji||e instanceof Ri||e instanceof Ai||e instanceof pr||e instanceof En||e instanceof Vr||e instanceof Br||e instanceof jr||e instanceof Ur||e instanceof Gr||e instanceof Wr}markAllNonVirtualAsListGroupMember(e){e.forEach(i=>{if(i instanceof We||i instanceof _r||i instanceof Dn){i.start!=null&&i.start.isVirtual==!1&&(i.start.isListGroupMember=!0),i.end!=null&&i.end.isVirtual==!1&&(i.end.isListGroupMember=!0),i.scopeOperator!=null&&(i.scopeOperator.isListGroupMember=!0),i.nodes.forEach(r=>{this.markAllNonVirtualAsListGroupMember([r])});return}else i instanceof jt&&(i.separatorToken!=null&&i.separatorToken.isVirtual==!1&&(i.separatorToken.isListGroupMember=!0),this.markAllNonVirtualAsListGroupMember(i.nodes));i.isVirtual==!1&&(i.isListGroupMember=!0),i.originalAbstractNode!=null&&i.originalAbstractNode!=i&&this.markAllNonVirtualAsListGroupMember([i.originalAbstractNode])})}markAllNonVirtualAsSwitch(e){e.forEach(i=>{if(i instanceof We||i instanceof _r||i instanceof Dn){i.start!=null&&i.start.isVirtual==!1&&(i.start.isSwitchGroupMember=!0),i.end!=null&&i.end.isVirtual==!1&&(i.end.isSwitchGroupMember=!0),i.scopeOperator!=null&&(i.scopeOperator.isSwitchGroupMember=!0),i.nodes.forEach(r=>{this.markAllNonVirtualAsSwitch([r])});return}else i instanceof jt&&(i.separatorToken!=null&&i.separatorToken.isVirtual==!1&&(i.separatorToken.isSwitchGroupMember=!0),this.markAllNonVirtualAsSwitch(i.nodes));i.isVirtual==!1&&(i.isSwitchGroupMember=!0),i.originalAbstractNode!=null&&i.originalAbstractNode!=i&&this.markAllNonVirtualAsSwitch([i.originalAbstractNode])})}validateNoDanglingLogicGroupEnds(e){e.forEach(i=>{i instanceof $t&&i.pushError(M.makeSyntaxError(I.TYPE_LOGIC_GROUP_NO_START,i,"Unexpected [T_LOGIC_END] while parsing input text."))})}isValidModifierValue(e){return e instanceof Xt||e instanceof le||e instanceof Or||e instanceof Fr||e instanceof fr||e instanceof Ut||e instanceof Rt}wrapNumberInVariable(e){var r,n,s,a;let i=new le;return i.startPosition=e.startPosition,i.endPosition=e.endPosition,i.name=(n=(r=e.value)==null?void 0:r.toString())!=null?n:"",i.content=(a=(s=e.value)==null?void 0:s.toString())!=null?a:"",i.originalAbstractNode=e,i.refId=e.refId,i.modifierChain=e.modifierChain,i.index=e.index,this.createdVariables.push(i),i}wrapArithmeticModifier(e,i){let r=new Mt;return r.startPosition=e.startPosition,r.endPosition=e.endPosition,r.originalAbstractNode=e,r.content=i,r.name=i,r.index=e.index,r}combineVariablePaths(e){let i=[],r=e.length;for(let n=0;n<r;n++){let s=e[n],a=i.length;if(s instanceof wt){if(a==0){s.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE,s,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}if(n+1>r){let u="";if(n>0){let c=e[n-1];u=Ma.getNearText(c)}s.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP,s,'Unexpected end of input while parsing input text near "'+u+Ma.getNearText(s)+'".'));continue}let o=i[a-1],l=e[n+1];if(l instanceof Ut&&ft.distance(o,l)==1&&(l=this.wrapNumberInVariable(l)),o instanceof le&&l instanceof le&&ft.distance(o,l)==1){i.pop(),ft.mergeVarContentRight(":",s,l),ft.mergeVarRight(o,l),i.push(l),this.createdVariables.push(l),this.mergedVariablePaths.push(l),this.mergedComponents.set(s,l),this.mergedComponents.set(o,l),this.mergedComponents.set(l,l),n+=1;continue}else{i.push(s);continue}}else if(s instanceof Rt&&a>0){if(n+1>=r){i.push(s);continue}let o=i[a-1],l=e[n+1];if(o instanceof le&&l instanceof le&&ft.distance(o,s)<=1&&ft.distance(s,l)<=1){i.pop(),ft.mergeVarContentLeft(s.sourceTerminator+s.value+s.sourceTerminator,s,o),ft.mergeVarContentLeft(l.name,l,o),this.createdVariables.push(o),i.push(o),this.mergedVariablePaths.push(o),this.mergedComponents.set(s,o),this.mergedComponents.set(o,o),this.mergedComponents.set(l,o),n+=1;continue}else i.push(s)}else if(s instanceof Ri&&a>0){let o=i[a-1],l=e[n+1];if(o instanceof le&&(l instanceof le||l instanceof hr)){let u=ft.distance(o,s),c=ft.distance(s,l);u<=1&&c<=1?(o.endPosition=l.endPosition,this.mergedComponents.set(s,o),this.mergedComponents.set(o,o),this.mergedComponents.set(l,o),n+=1):i.push(s)}else i.push(s)}else i.push(s)}return i.forEach(n=>{n instanceof le&&!n.name.trim().startsWith("[")&&(n.variableReference=this.pathParser.parse(n.name),n.mergeErrors(this.pathParser.getAntlersErrors()))}),i}convertVarNodeToOperator(e){let i=new Hr;return i.content=e.name,i.startPosition=e.startPosition,i.endPosition=e.endPosition,i.originalAbstractNode=e,e.convertedToOperator=!0,this.createdLanguageOperators.push(i),i}convertOperatorToVarNode(e){let i=new le;return i.startPosition=e.startPosition,i.endPosition=e.endPosition,i.content=e.content,i.name=e.content,i.originalAbstractNode=e,this.createdVariables.push(i),i}createLanguageOperators(e){let i=e.length;for(let r=0;r<i;r++){let n=e[r];if(n instanceof le){if(n.name.includes(D.Punctuation_FullStop)){let s=n.name.split(D.Punctuation_FullStop);if(St.operators.includes(s[0])||qa.deferredCoreLibraries.includes(s[0])){e[r]=this.convertVarNodeToOperator(n);continue}}if(St.operators.includes(n.name)){e[r]=this.convertVarNodeToOperator(n);continue}}if(n instanceof Hr){if(r+1>=i){e[r]=this.convertOperatorToVarNode(n);continue}if(e[r+1]instanceof mi){e[r]=this.convertOperatorToVarNode(n);continue}}}return e}createLogicalGroups(e){let i=[],r=e.length,n=[];for(let a=0;a<r;a++){let o=e[a];if(o instanceof hi){let l=this.countTypeRight(e,a,hi);if(n.length==0&&e.length==l){o.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR,o,"Unexpected [T_LOGIC_INVERSE] while parsing input text."));continue}if(a>0&&n.length>0){let f=n[n.length-1];if(f instanceof Ut||f instanceof $t||f instanceof We){if(f instanceof We&&f.start instanceof hi){f.start.pushError(M.makeSyntaxError(I.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED,f.start,"[T_AOP_FACTORIAL] operand will always materialize boolean type."));continue}let d=new es;d.startPosition=o.startPosition,d.endPosition=o.endPosition,d.content="!".repeat(l),d.originalAbstractNode=o,d.repeat=l,n.push(d),l>0&&(a+=l-1);continue}}if(l%2==0){a+=l-1;continue}let u=e[a+l];if(u instanceof zt){let f=a+l+1;if(f>=r){u.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET,u,"Unexpected end of input while parsing input text."));continue}let d=this.findLogicalGroupEnd(e[a+l],e.slice(f));if(d.found){let p=d.logicalGroup,m=new We;m.start=o,m.end=p,m.nodes.push(o),m.nodes.push(p),m.startPosition=o.startPosition,m.endPosition=p.endPosition,n.push(m),a+=d.skipCount+l}continue}let c=this.resolveValueRight(e,a);c.value!=null&&n.push(c.value),a+=c.negationCount}else n.push(o)}let s=n.length;for(let a=0;a<s;a++){let o=n[a];if(o instanceof zt){if(a+1>=s){o.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION,o,"Unexpected end of input while parsing input text."));continue}let l=this.findLogicalGroupEnd(o,n.slice(a+1));l.found&&l.logicalGroup!=null&&i.push(l.logicalGroup),a+=l.skipCount}else if(o instanceof es){if(i.length==0){o.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS,o,"Unexpected [T_AOP_FACTORIAL] while parsing input text."));continue}let l=i[i.length-1];if(!(l instanceof We)&&!(l instanceof Ut)){o.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_FACTORIAL_OPERAND,o,"Unexpected left operand encountered for [T_AOP_FACTORIAL] while parsing input text."));continue}l=i.pop();let u=new We;u.startPosition=l.startPosition,u.endPosition=o.endPosition,u.originalAbstractNode=o,u.nodes.push(l),u.nodes.push(o),i.push(u)}else i.push(o)}return i}makeArgGroup(e){let i=new Ra,r=e.length;for(let s=0;s<r;s++){let a=e[s];if(this.isOperand(a)==!1){a.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD,a,"Unexpected ["+z.getPrettyTypeName(a)+"] while parsing argument group."));continue}let o=null;if(s+1<r&&(o=e[s+1]),o==null||o instanceof kt){i.args.push(e[s]),s+=1;continue}else if(o instanceof wt){if(s+2>=r){a.pushError(M.makeSyntaxError(I.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT,a,"Unexpected end of input while parsing named argument."));continue}let l=e[s+2],u=new au;u.startPosition=a.startPosition,u.endPosition=l.endPosition,u.content=a.content+l.content,u.name=a,u.value=l,a instanceof le||a.pushError(M.makeSyntaxError(I.TYPE_INVALID_NAMED_ARG_IDENTIFIER,a,"Invalid type ["+z.getPrettyTypeName(a)+"] supplied for named argument name.")),i.hasNamedArguments=!0,i.numberOfNamedArguments+=1,i.args.push(u),s+3<r&&e[s+3]instanceof kt?s+=3:s+=2;continue}}let n=!1;return i.args.forEach(s=>{s instanceof au?n=!0:n&&s.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT,s,"Unnamed arguments are not allowed to appear after a named argument."))}),i}cleanVariableForMethodInvocation(e){(e.name.startsWith(":")||e.name.startsWith("."))&&(e.name=e.name.substr(1),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(1),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(1)),e.startPosition!=null&&(e.startPosition.offset+=1,e.startPosition.char+=1))}reduceVariableReferenceForObjectAccessor(e){var s;let i=(s=e.variableReference)==null?void 0:s.pathParts.pop(),r=i.name,n=r.length+1;return e.name=e.name.substr(0,-n),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(0,-n),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(0,-n),e.variableReference.pathParts[e.variableReference.pathParts.length-1].isFinal=!0),e.endPosition!=null&&(e.endPosition.offset-=n,e.endPosition.char-=n),{accessor:r,accessorLen:n}}associateMethodCalls(e){var n,s;let i=[],r=e.length;for(let a=0;a<r;a++){let o=e[a],l=null,u=null;if(i.length>0&&(l=i[i.length-1]),a+1<r&&(u=e[a+1]),o instanceof le&&u instanceof We&&l!=null&&(this.isProperMethodChainTargetStrict(l)||l instanceof wt)){let c=u,f=[];c.nodes.length>0&&(c.nodes[0]instanceof jt?f=c.nodes[0].nodes:f=c.nodes);let d=new ri;if(d.startPosition=o.startPosition,l instanceof wt){let p=i.pop();d.startPosition=p.startPosition}this.cleanVariableForMethodInvocation(o),d.endPosition=c.endPosition,d.args=this.makeArgGroup(f),d.method=o,l.methodTarget=d,l instanceof le&&l.mergeRefName.length>0&&(l.name=ft.getUnrefName(l.mergeRefName)),i.push(d),a+=1;continue}else if(o instanceof We&&l instanceof le&&l.variableReference!=null&&l.variableReference.pathParts.length>=2){let c=[];if(o.nodes.length>0&&(o.nodes[0]instanceof jt?c=o.nodes[0].nodes:c=o.nodes),l.variableReference.pathParts[0]instanceof vi&&qa.deferredCoreLibraries.includes(l.variableReference.pathParts[0].name)){let T=i.pop(),P=new ts;P.startPosition=T.startPosition,P.endPosition=o.endPosition,P.content=T.content,P.originalAbstractNode=o;let g=((n=T.variableReference)==null?void 0:n.pathParts.shift()).name,y=(s=T.variableReference)==null?void 0:s.implodePaths();P.libraryName=g,P.methodName=y,P.arguments=this.makeArgGroup(c),i.push(P),a+=1;continue}let f=this.reduceVariableReferenceForObjectAccessor(l),d=new ri;d.startPosition=o.startPosition,d.endPosition=o.endPosition,l.methodTarget=d,l instanceof le&&l.mergeRefName.length>0&&(l.name=ft.getUnrefName(l.mergeRefName)),o.start!=null&&(o.start.isPartOfMethodChain=!0),o.end!=null&&(o.end.isPartOfMethodChain=!0);let p=new le;p.name=f.accessor,p.isPartOfMethodChain=!0;let m=this.makeArgGroup(c);if(d.startPosition!=null&&(d.startPosition.offset-=f.accessorLen,d.startPosition.char-=f.accessorLen),d.method=p,d.args=m,Y.isNumeric(l.name)){let T=i.pop();i.push(this.convertOperatorToVarNode(T))}i.push(d);continue}else if(o instanceof le&&l instanceof ri){if(this.cleanVariableForMethodInvocation(o),a+1>r){o.pushError(M.makeSyntaxError(I.TYPE_METHOD_CALL_MISSING_ARG_GROUP,o,"Unexpected end of input while parsing method call."));continue}let c=e[a+1];if(!(c instanceof We)){o.pushError(M.makeSyntaxError(I.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected ["+z.getPrettyTypeName(c)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let f=c,d=[];f.nodes.length>0&&(f.nodes[0]instanceof jt?d=f.nodes[0].nodes:d=f.nodes);let p=new ri;p.startPosition=o.startPosition,p.endPosition=f.endPosition,p.args=this.makeArgGroup(d),p.method=o,l.methodTarget=p,i.push(p),a+=1;continue}else if(o instanceof wt&&l instanceof ri){if(a+1>r){o.pushError(M.makeSyntaxError(I.TYPE_METHOD_CALL_MISSING_METHOD,o,"Unexpected end of input while parsing method call."));continue}let c=e[a+1];if(a+2>r){o.pushError(M.makeSyntaxError(I.TYPE_METHOD_CALL_MISSING_ARG_GROUP,o,"Unexpected end of input while parsing method call."));continue}let f=e[a+2];if(!(f instanceof We)){o.pushError(M.makeSyntaxError(I.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected ["+z.getPrettyTypeName(f)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let d=f,p=[];d.nodes.length>0&&(d.nodes[0]instanceof jt?p=d.nodes[0].nodes:p=d.nodes);let m=new ri;m.startPosition=o.startPosition,m.endPosition=f.endPosition,m.args=this.makeArgGroup(p),m.method=c,l.methodTarget=m,i.push(m),a+=2;continue}else if(o instanceof ri){if(a+1>r){o.pushError(M.makeSyntaxError(I.TYPE_METHOD_CALL_MISSING_METHOD,o,"Unexpected end of input while parsing method call."));continue}let c=e[a+1];if(a+2>r){o.pushError(M.makeSyntaxError(I.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected end of input while parsing method call."));continue}let f=e[a+2];if(!(f instanceof We)){o.pushError(M.makeSyntaxError(I.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected ["+z.getPrettyTypeName(f)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let d=f,p=[];d.nodes.length>0&&(d.nodes[0]instanceof jt?p=d.nodes[0].nodes:p=d.nodes);let m=this.makeArgGroup(p);if(l instanceof le&&qa.deferredCoreLibraries.includes(l.name)){let T=i.pop(),P=new ts;P.startPosition=T.startPosition,P.endPosition=d.endPosition,P.libraryName=T.name,P.methodName=c.name,P.content=P.libraryName+"->"+P.methodName,P.arguments=m,l.libraryTarget=P,i.push(P),a+=2;continue}o.method=c,o.args=m,i.length>0&&(i[i.length-1].methodTarget=o),a+=2,i.push(o);continue}else i.push(o)}return i}convertVariableToStringNode(e){let i=new Rt;return i.content=e.name,i.value=e.name,i.originalAbstractNode=e,i.startPosition=e.startPosition,i.endPosition=e.endPosition,i.index=e.index,i}createTupleLists(e){let i=e.length,r=[];for(let n=0;n<i;n++){let s=e[n];if(s instanceof yr){if(s.isListGroupMember=!0,n+1>=i){s.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST,s,"Unexpected end of input while parsing tuple list."));continue}let a=e[n+1];if(!(a instanceof We)){a.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST,a,"Unexpected ["+z.getPrettyTypeName(a)+"] while parsing tuple list."));continue}let o=a;if(this.markAllNonVirtualAsListGroupMember([o]),this.retriggerNonVirtualGroupMembers.push([o]),o.nodes.length==0){o.pushError(M.makeSyntaxError(I.TYPE_MISSING_BODY_TUPLE_LIST,o,"Missing tuple list body while parsing tuple list."));continue}let u=o.nodes.shift(),c=u.nodes.length,f=[];for(let m=0;m<c;m++){let T=u.nodes[m];if(!(T instanceof kt)){let P=!1;if(T instanceof le&&(T.variableReference==null&&(P=!0),T.variableReference!=null&&T.variableReference.pathParts.length>1&&(P=!0),T.name.trim().length==0&&(P=!0)),P||!(T instanceof le)){o.pushError(M.makeSyntaxError(I.TYPE_INVALID_TUPLE_LIST_NAME_TYPE,o,"Invalid ["+z.getPrettyTypeName(T)+"] name type found while parsing tuple list."));continue}let _=T;f.push(this.convertVariableToStringNode(_))}}let d=f.length;if(d==0){o.pushError(M.makeSyntaxError(I.TYPE_INVALID_MANIFESTED_NAME_GROUP,o,"Invalid Name expression produced an invalid name group while parsing tuple list."));continue}let p=new xn;this.createdArrays.push(p),p.startPosition=s.startPosition,p.endPosition=s.endPosition,o.nodes.forEach(m=>{if(!(m instanceof jt)){m.pushError(M.makeSyntaxError(I.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP,m,"Invalid ["+z.getPrettyTypeName(m)+"] name type found while parsing tuple list value expression."));return}let T=m,P=new xn;this.createdArrays.push(P),P.startPosition=T.startPosition;let _=[];for(let g=0;g<c;g++){let y=T.nodes[g];if(typeof y=="undefined"||y==null)break;if(!(y instanceof kt)){if(this.isOperand(y)==!1){y.pushError(M.makeSyntaxError(I.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE,y,"Unexpected ["+z.getPrettyTypeName(y)+"]  while parsing tuple list value."));continue}_.push(y)}}for(let g=0;g<d&&!(g>_.length);g++){let y=_[g],E=new xo;E.startPosition=y.startPosition,E.endPosition=y.endPosition,E.name=f[g],E.value=y,P.nodes.push(E),p.endPosition=y.endPosition,P.endPosition=y.endPosition}p.nodes.push(P)}),r.push(p),n+=1;continue}else r.push(s)}return e}makeOrderGroup(e){let i=[],r=e.length,n=0;for(let s=0;s<r;s++){let a=e[s],o=null;if(s+1<r&&(o=e[s+1]),s>0&&(o==null||o instanceof kt)){n+=1;let l=new Ao;l.order=n,l.name=e[s-1],l.directionNode=a,this.isOperand(l.name)==!1&&l.name.pushError(M.makeSyntaxError(I.TYPE_INVALID_ORDER_BY_NAME_VALUE,l.name,"Invalid value or expression supplied for order by name.")),this.isOperand(l.directionNode)==!1&&l.directionNode.pushError(M.makeSyntaxError(I.TYPE_INVALID_ORDER_BY_SORT_VALUE,l.directionNode,"Invalid value or expression supplied for order by direction.")),l.startPosition=l.name.startPosition,l.endPosition=l.directionNode.endPosition,i.push(l),s+=1;continue}}return i}getValues(e){let i=new Sa,r=e.length,n=[];for(let s=0;s<r;s++){let a=e[s],o=null;if(s+1<r&&(o=e[s+1]),o==null||o instanceof kt){n.push(a),s+=1;continue}}return i.values=n,i}createLibraryInvocations(e){let i=[],r=e.length;for(let n=0;n<r;n++){let s=e[n];if(s instanceof Hr)if(s.content.includes(".")){let a=s.content.split("."),o=a.shift(),l=a.join("."),u=new ts;if(u.startPosition=s.startPosition,u.endPosition=s.endPosition,u.content=s.content,u.libraryName=o,u.methodName=l,u.originalAbstractNode=s,n+1>=r){s.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP,s,"Unexpected end of input while parsing argument group."));continue}if(!(e[n+1]instanceof We)){s.pushError(M.makeSyntaxError(I.TYPE_EXPECTING_ARGUMENT_GROUP,s,"Unexpected token while parsing method call. Expecting [T_ARG_SEPARATOR] got ["+z.getPrettyTypeName(s)+"]."));continue}let c=e[n+1],f=null;if(c.nodes.length>0){let d=c.nodes[0];f=this.makeArgGroup(d.nodes)}f==null&&(f=new Ra,f.startPosition=c.startPosition,f.endPosition=c.endPosition,f.originalAbstractNode=c),u.arguments=f,i.push(u),n+=1;continue}else if(s.content==St.ARR_ORDERBY){if(n+1>=r){s.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP,s,"Unexpected end of input while parsing order group."));continue}let a=e[n+1];if(!(a instanceof We)){a.pushError(M.makeSyntaxError(I.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND,a,"Unexpected ["+z.getPrettyTypeName(a)+"] while parsing order group."));continue}let l=a.nodes;l[0]instanceof jt&&(l=l[0].nodes);let u=this.makeOrderGroup(l);u.length==0&&s.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP,s,"Unexpected empty [T_DIRECTION_GROUP]. Must have at least one order clause, and each property must have a direction specified."));let c=new Es;if(c.orderClauses=u,u.length>0){u[0].directionNode!=null&&(c.startPosition=u[0].directionNode.startPosition);let f=u[u.length-1].directionNode;f!=null&&(c.endPosition=f.endPosition)}i.push(s),i.push(c),n+=1;continue}else if(s.content==St.ARR_GROUPBY){if(n+1>=r){s.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY,s,"Unexpected end of input while parsing group by clause."));continue}let a=e[n+1];if(a instanceof Dn||a instanceof _r){a.pushError(M.makeSyntaxError(I.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED,a,"Type ["+z.getPrettyTypeName(a)+"] must be enclosed with parenthesis to be used with groupby."));continue}if(!(a instanceof We)){a.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY,a,"Unexpected ["+z.getPrettyTypeName(a)+"] while parsing group by."));continue}let l=a.nodes;l[0]instanceof jt&&(l=l[0].nodes);let u=this.getValues(l);if(i.push(s),i.push(u),n+2<r&&n+3<r){let c=e[n+2],f=e[n+3];if(ft.isVariableMatching(c,st.ScopeAs))if(f instanceof Rt){u.isNamedNode=!0,u.parsedName=f,n+=3;continue}else f.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE,f,"Expecting [T_STRING] for group by collection alias; got ["+z.getPrettyTypeName(f)+"]."))}n+=1;continue}else if(s.content==St.STRUCT_SWITCH){if(n+1>=r){s.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP,s,"Unexpected end of input while parsing [T_SWITCH_GROUP]."));continue}let a=e[n+1];if(!(a instanceof _r)){a.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP,a,"Unexpected ["+z.getPrettyTypeName(a)+"] while parsing [T_SWITCH_GROUP]."));continue}let o=a;if(this.markAllNonVirtualAsSwitch([a]),o.scope==null||!(o.scope instanceof We)){o.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_SWITCH_START_VALUE,o,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let l=o.scope;if(l.nodes.length==0||!(l.nodes[0]instanceof jt)){o.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,o,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let u=l.nodes[0];if(this.markAllNonVirtualAsSwitch([l]),u.nodes.length==0||!(u.nodes[0]instanceof We)){s.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}this.markAllNonVirtualAsSwitch([s]),this.markAllNonVirtualAsSwitch(u.nodes);let c=u.nodes;if(o.nodes.length==0&&s.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP].")),!(l.nodes[0]instanceof jt)){s.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let d=l.nodes[0];this.markAllNonVirtualAsSwitch(d.nodes);let p=d.nodes,m=new ws,T=new We;T.nodes=c,T.startPosition=T.nodes[0].startPosition,T.endPosition=T.nodes[T.nodes.length-1].endPosition;let P=new Ca;P.condition=T;let _=new We;_.nodes.push(p.shift()),_.startPosition=_.nodes[0].startPosition,_.endPosition=_.nodes[_.nodes.length-1].endPosition,P.expression=_,P.startPosition=P.condition.startPosition,P.endPosition=P.expression.nodes[P.expression.nodes.length-1].endPosition,p.shift(),m.cases.push(P);let g=p.length;if(g>0){if(!(p[0]instanceof We)){s.pushError(M.makeSyntaxError(I.TYPE_PARSER_INVALID_SWITCH_TOKEN,s,"Invalid ["+z.getPrettyTypeName(p[0])+"] while parsing case statement."));continue}for(let y=0;y<g;y++){let E=p[y],L=null;if(E instanceof kt){E.isSwitchGroupMember=!0;continue}if(y+1<g&&(L=p[y+1]),L instanceof wi){L.isSwitchGroupMember=!0;let C=new Ca;C.condition=E,this.markAllNonVirtualAsSwitch([C.condition]);let B=new We;if(B.nodes.push(p[y+2]),B.startPosition=B.nodes[0].startPosition,B.endPosition=B.nodes[B.nodes.length-1].endPosition,C.expression=B,this.markAllNonVirtualAsSwitch([B]),C.startPosition=C.condition.startPosition,C.endPosition=C.expression.nodes[C.expression.nodes.length-1].endPosition,m.cases.push(C),y+3<g&&!(p[y+3]instanceof kt)){p[y+3].pushError(M.makeSyntaxError(I.TYPE_PARSER_INVALID_SWITCH_TOKEN,p[y+3],"Invalid ["+z.getPrettyTypeName(p[y+3])+"] while parsing case statement; expecting [T_ARG_SEPARATOR]."));continue}p[y+3].isSwitchGroupMember=!0,y+=2;continue}}}i.push(new fr),i.push(s),i.push(m),n+=1;continue}else if(s.content==St.ARR_MAKE){if(n+1>=r){s.pushError(M.makeSyntaxError(I.TYPE_ARR_MAKE_MISSING_TARGET,s,"Missing target variable for arr operator."));continue}let a=e[n+1];if(!(a instanceof We)){a.pushError(M.makeSyntaxError(I.TYPE_ARR_MAKE_UNEXPECTED_TYPE,a,"Unexpected ["+z.getPrettyTypeName(a)+"] while parsing array."));continue}let o=a instanceof _r,l=a,u=l.nodes;if(u[0]instanceof jt&&(u=u[0].nodes),o){let p=a;u.unshift(new wi),u.unshift(p.scope)}let c=this.getArrayValues(u),f=new xn;f.startPosition=s.startPosition;let d=c.values.length;d>0?f.endPosition=c.values[d-1].endPosition:f.endPosition=s.endPosition,l.end!=null&&(f.endPosition=l.end.endPosition),f.nodes=c.values,this.createdArrays.push(f),i.push(f),n+=1}else i.push(s);else i.push(s)}return i}getArrayValues(e){let i=new Sa,r=e.length,n=[];for(let s=0;s<r;s++){let a=e[s];if(a instanceof kt){a.pushError(M.makeSyntaxError(I.TYPE_ARR_UNEXPECT_ARG_SEPARATOR,a,"Unexpected [T_ARG_SEPARATOR] while parsing array."));continue}if(a instanceof wi){if(s==0){a.pushError(M.makeSyntaxError(I.TYPE_ARR_KEY_PAIR_MISSING_KEY,a,"Missing key for key/value pair while parsing array."));continue}else if(e[s-1]instanceof kt){a.pushError(M.makeSyntaxError(I.TYPE_ARR_KEY_PAIR_MISSING_KEY,a,"Missing key for key/value pair while parsing array."));continue}}let o=null;if(s+1<r&&(o=e[s+1]),o instanceof wi){if(s+2>=r){o.pushError(M.makeSyntaxError(I.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE,o,"Missing key/pair value while parsing array."));continue}let l=e[s+2],u=new xo;if(this.isValidArrayKeyNode(a)==!1){a.pushError(M.makeSyntaxError(I.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE,a,"Invalid ["+z.getPrettyTypeName(a)+"] type for key/value key."));continue}u.name=a,u.value=l,u.startPosition=a.startPosition,u.endPosition=l.endPosition,n.push(u),s+=3;continue}if(o==null||o instanceof kt){let l=new xo;l.value=a,l.startPosition=a.startPosition,l.endPosition=a.endPosition,n.push(l),s+=1;continue}}return i.values=n,i}isValidArrayKeyNode(e){return e instanceof Ut||e instanceof Rt}associateModifiers(e){let i=[],r=e.length,n=null;for(let s=0;s<r;s++){let a=e[s];if(a instanceof Ii){let o=i.length;if(o==0){a.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_MODIFIER_SEPARATOR,a,"Unexpected [T_MODIFIER_SEPARATOR] while parsing input text."));continue}if(this.isRealModifierSeparator.set(a,!0),n=i[o-1],n.modifierChain==null&&(n.modifierChain=new Ro,n.modifierChain.modifierTarget=n,this.createdModifierChains.push(n.modifierChain)),s+1>=r){a.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS,a,"Unexpected end of input while preparing to gather modifier details."));continue}let l=this.scanToEndOfModifier(e.slice(s+1)),u=l.length;if(u>1&&l[1]instanceof wt){this.isRealModifierSeparator.set(l[1],!0);let f=l[0];f instanceof Xi?l[0]=this.wrapArithmeticModifier(f,"add"):f instanceof Ri?l[0]=this.wrapArithmeticModifier(f,"subtract"):f instanceof Qi?l[0]=this.wrapArithmeticModifier(f,"divide"):f instanceof Ji?l[0]=this.wrapArithmeticModifier(f,"multiply"):f instanceof dr&&(l[0]=this.wrapArithmeticModifier(f,"mod"))}if(u==0){a.pushError(M.makeSyntaxError(I.TYPE_UNSET_MODIFIER_DETAILS,a,"Invalid or missing modifier details."));continue}if(!(l[0]instanceof Mt)){a.pushError(M.makeSyntaxError(I.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS,a,"Invalid ["+z.getPrettyTypeName(l[0])+"]; expecting [T_MODIFIER_NAME]"));continue}let c=this.createModifier(l);c.nameNode!=null&&this.modifierNameMapping.set(c.nameNode,c),s+=u,n.modifierChain.modifierChain.push(c),n.modifierChain.updateValues();continue}else i.push(a)}return i}createNullCoalescenceGroups(e){let i=[],r=e.length;for(let n=0;n<r;n++){let s=e[n];if(s instanceof gr){let a=i.pop();if(n+1>=r){s.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP,s,"Unexpected end of input while parsing input text."));continue}let o=e[n+1],l=new Eo;l.left=a,l.right=o,i.push(l),n+=1;continue}else i.push(s)}return i}isOperand(e){return e instanceof le||e instanceof We||e instanceof Rt||e instanceof Ut||e instanceof Fr||e instanceof fr||e instanceof Or||e instanceof ts||e instanceof Es||e instanceof Sa||e instanceof ws||e instanceof xn||e instanceof yr}isProperMethodChainTargetStrict(e){return e instanceof We||e instanceof Rt||e instanceof Ut||e instanceof Fr||e instanceof fr||e instanceof Or||e instanceof ts||e instanceof Es||e instanceof Sa||e instanceof ws||e instanceof xn}assertOperandRight(e,i){if(i+1>e.length-1)return e[i].pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_END_OF_INPUT,e[i],"Unexpected end of input; expecting operand for operator "+z.getPrettyTypeName(e[i])+' near "'+Ma.getNearText(e[i])+'".')),!1;let r=e[i+1];return this.isOperand(r)?!0:(r.pushError(M.makeSyntaxError(I.TYPE_EXPECTING_OPERAND,e[i],"Expecting operand, found "+z.getPrettyTypeName(r)+' near "'+Ma.getNearText(e[i])+'".')),!1)}resolveValueRight(e,i){let r=null,n=0,s=null;if(e.length>0){let a=!0;for(;a;){let o=e[i];if(o instanceof hi){s=o,n+=1,i+=1,a=!1;continue}else if(this.isOperand(o)){r=o,a=!1;break}else{a=!1;break}}}if(n%2!=0){let a=new We;return a.nodes=[],s!=null&&r!=null&&(a.nodes.push(s),a.nodes.push(r)),{value:a,negationCount:n}}return{value:r,negationCount:n}}correctTypes(e){let i=[];return e.forEach(r=>{if(r instanceof Ei){let n=new wt;n.startPosition=r.startPosition,n.endPosition=r.endPosition,n.originalAbstractNode=r,i.push(n)}else if(r instanceof Xt){let n=new le;n.name=r.value,n.startPosition=r.startPosition,n.endPosition=r.endPosition,n.modifierChain=r.modifierChain,n.originalAbstractNode=r,this.createdVariables.push(n),i.push(n)}else i.push(r)}),i}createTernaryGroups(e){var n,s,a,o;let i=[],r=e.length;for(let l=0;l<r;l++){let u=e[l];if(u instanceof Yr){let c=this.seek(wt,l+1);if(((n=c.node)==null?void 0:n.originalAbstractNode)!=null&&c.node.originalAbstractNode instanceof Ei&&(c.node.originalAbstractNode.isTenaryBranchSeparator=!0),c.found==!1){u.pushError(M.makeSyntaxError(I.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR,u,"Unexpected end of input; expecting [T_BRANCH_SEPARATOR]."));continue}let f=this.collectUntil(i);i=f.tokens;let d=f.collectedTokens[0],p=(s=c.foundAt)!=null?s:0;if(p>=r){u.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP,u,"Unexpected end of input while parsing ternary group."));continue}let m=e.slice(l+1,p);if(m.length>1||m.length==0){u.pushError(M.makeSyntaxError(I.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH,u,"Unexpected number of operations within ternary truth branch."));continue}let T=m[0],P=((a=c.foundAt)!=null?a:0)+1;if(P>=r){u.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH,u,"Unexpected end of input while parsing ternary false execution branch."));continue}let _=e[P],g=new wo;g.head=d,g.truthBranch=T,g.falseBranch=_,i.push(g),l=((o=c.foundAt)!=null?o:0)+1;continue}else i.push(u)}return i}groupNodesByType(e,i){let r=[],n=e.length;for(let s=0;s<n;s++){let a=e[s];if(s>0&&a instanceof i){let o=[],l=r.pop();if(o.push(l),!this.assertOperandRight(e,s))continue;if(s+1>=n){a.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,a,"Unexpected end of input while parsing input text."));continue}let u=e[s+1];typeof u!="undefined"&&(u.isVirtualGroupMember=!0),typeof l!="undefined"&&(l.isVirtualGroupMember=!0),a.isVirtualGroupMember=!0;let c=new We;c.nodes=o,c.nodes.push(a),c.nodes.push(u),s+=1,r.push(c);continue}else r.push(a)}return r}flagNodeAsOperatorResolve(e){if(e instanceof We){if(e.nodes.length==0)return;this.flagNodeAsOperatorResolve(e.nodes[e.nodes.length-1])}e.isVirtualGroupOperatorResolve=!0,e.next instanceof mi||(e.producesVirtualStatementTerminator=!0)}groupNodesByOperatorType(e){let i=[],r=e.length;for(let n=0;n<r;n++){let s=e[n];if(n>0&&qt.isOperatorType(s)){let a=[],o=i.pop();if(a.push(o),!this.assertOperandRight(e,n))continue;if(n+1>=r){s.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,s,"Unexpected end of input while parsing input text."));continue}let l=e[n+1];this.flagNodeAsOperatorResolve(l),qt.isAssignmentOperator(s)&&this.tracedAssignments.push(new Lf(o,l,s)),typeof o!="undefined"&&(o.isVirtualGroupMember=!0),typeof l!="undefined"&&(l.isVirtualGroupMember=!0),s.isVirtualGroupMember=!0;let u=new We;u.nodes=a,u.nodes.push(s),u.nodes.push(l),n+=1,i.push(u);continue}else i.push(s)}return i}applyOperationOrder(e){return e=this.groupNodesByType(e,fn),e=this.groupNodesByType(e,Ji),e=this.groupNodesByType(e,Qi),e=this.groupNodesByType(e,Xi),e=this.groupNodesByType(e,Ri),e}createLogicGroupsToRemoveMethodInvocationAmbiguity(e){let i=[],r=e.length,n=r-1;for(let s=0;s<r;s++){let a=e[s];if(a instanceof ri){let o=i.pop(),l=new We;if(l.startPosition=o.startPosition,typeof o!="undefined"&&(o.isVirtualGroupMember=!0),typeof a!="undefined"&&(a.isVirtualGroupMember=!0),l.nodes.push(o),l.nodes.push(a),s!=n)for(let u=s+1;u<r;u++)if(e[u]instanceof ri){if(typeof e[u]=="undefined")continue;if(e[u].isVirtualGroupMember=!0,l.nodes.push(e[u]),u==n){u+=1;break}}else{if(u==n){u+=1;break}s=u-1;break}l.endPosition=l.nodes[l.nodes.length-1].endPosition,i.push(l)}else i.push(a)}return i}countTypeRight(e,i,r){let n=0;for(let s=i;s<e.length&&e[s]instanceof r;s++)n+=1;return n}createLogicGroupsToResolveOperatorAmbiguity(e){return e=this.groupNodesByType(e,En),e=this.groupNodesByType(e,pr),e=this.groupNodesByType(e,Br),e=this.groupNodesByType(e,Vr),e=this.groupNodesByType(e,Wr),e=this.groupNodesByType(e,Ai),e=this.groupNodesByType(e,Ur),e=this.groupNodesByType(e,jr),e=this.groupNodesByType(e,Gr),e=this.groupNodesByOperatorType(e),e}createModifier(e){let i=e.shift(),r=[],n=e.length;if(e.length>0&&e[0]instanceof We){let a=this.unpack(e[0].nodes),o=this.makeArgGroup(a),l=new Na;if(l.nameNode=i,l.methodStyleArguments=o,e.length>1)for(let u=1;u<n;u++)e[u].pushError(M.makeSyntaxError(I.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX,e[u],"Unexpected ["+z.getPrettyTypeName(e[u])+"] while parsing modifier argument group. Expecting [T_MODIFIER_SEPARATOR] or end of current expression."));return l}for(let a=0;a<n;a++)if(e[a]instanceof Ei||e[a]instanceof wt){if(a+1>=n)return e[a].pushError(M.makeSyntaxError(I.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST,e[a],"Unexpected end of modifier value list while parsing modifier.")),e;let o=e[a+1];if(this.isValidModifierValue(o)){if(o instanceof le)if(o.variableReference!=null&&o.variableReference.pathParts.length>0)o.variableReference.pathParts.forEach(l=>{if(l instanceof vi){let u=new Xt;u.startPosition=l.startPosition,u.endPosition=l.endPosition,u.value=l.name,u.name=l.name,u.originalAbstractNode=l,u.endPosition==null&&u.startPosition==null&&(u.startPosition=o.startPosition,u.endPosition=o.endPosition),r.push(u)}});else{let l=new Xt;l.startPosition=o.startPosition,l.endPosition=o.endPosition,l.value=o.name,l.name=o.name,l.originalAbstractNode=o,r.push(l)}else r.push(o);a+=1;continue}else return o.pushError(M.makeSyntaxError(I.TYPE_MODIFIER_UNEXPECTED_VALUE,o,"Unexpected ["+z.getPrettyTypeName(o)+"] while parsing modifier value.")),e}let s=new Na;return s.nameNode=i,s.valueNodes=r,s.startPosition=s.nameNode.startPosition,s.valueNodes.length>0?s.endPosition=s.valueNodes[s.valueNodes.length-1].endPosition:s.endPosition=s.nameNode.endPosition,s}scanToEndOfModifier(e){let i=[],r=e.length;for(let n=0;n<r;n++){let s=e[n];if(s instanceof Ei){let a=i.length;if(a==0){s.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE,s,"Unexpected end of input while parsing modifier value."));continue}this.isRealModifierSeparator.set(s,!0);let o=i[a-1];if(ft.distance(o,s)>1)break}if(s instanceof Rt||s instanceof le||s instanceof Ut){let a=i.length;if(a>0&&i[a-1]instanceof We)break}if(s instanceof Ii||s instanceof $t||s instanceof zt||s instanceof Ai||s instanceof pr||s instanceof En||s instanceof Vr||s instanceof Br||s instanceof jr||s instanceof Ur||s instanceof Gr||s instanceof Wr||s instanceof mr||s instanceof hr||s instanceof pn||s instanceof gr||s instanceof mn||s instanceof Hr||s instanceof ts||s instanceof ri||s instanceof hi)break;i.push(s)}return i}static isAssignmentOperatorNode(e){return e instanceof Lr||e instanceof kr||e instanceof Zi||e instanceof Mr||e instanceof qr||e instanceof Ri}insertAutomaticStatementSeparators(e){let i=e.length,r=[];for(let n=0;n<i;n++){let s=e[n];if(qt.isAssignmentOperatorNode(s))if(n+2<i)if(e[n+2]instanceof mi){r.push(s),r.push(e[n+1]),r.push(e[n+2]),n+=2;continue}else{r.push(s),r.push(e[n+1]),r.push(new mi),n+=1;continue}else{r.push(s),r.push(e[n+1]),r.push(new mi);break}else r.push(s)}return e}createSemanticGroups(e){let i=[],r=e.length,n=[];for(let s=0;s<r;s++)if(e[s]instanceof mi){let a=new jt;a.nodes=n,a.separatorToken=e[s],i.push(a),n=[];continue}else if(n.push(e[s]),s+1>=r){let a=new jt;a.nodes=n,i.push(a);break}return i}findLogicalGroupEnd(e,i){let r=[],n=i.length,s=null,a=0,o=0;for(o;o<n;o++){let c=i[o];if(a+=1,c instanceof $t){s=c;break}else if(c instanceof zt){if(o+1>=n)return c.pushError(M.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END,c,"Unexpected end of input while parsing input text.")),{found:!1,logicalGroup:null,skipCount:a};let f=this.findLogicalGroupEnd(c,i.slice(o+1));if(f.found){f.logicalGroup!=null&&r.push(f.logicalGroup),a+=f.skipCount,o+=f.skipCount;continue}else continue}else r.push(c)}if(s==null)return e.pushError(M.makeSyntaxError(I.TYPE_LOGIC_GROUP_NO_END,e,"Unexpected end of input while parsing logic group.")),{found:!1,logicalGroup:null,skipCount:a};let l=new qt;l.setIsRoot(!1);let u=new We;if(r.length>=2&&r[1]instanceof wi){if(u=new _r,u.scopeOperator=r[1],o+2<n&&i[o+1]instanceof le&&i[o+2]instanceof Rt&&i[o+1].name==st.ScopeAs){let d=i[o+2];u=new Dn,u instanceof Dn&&(u.alias=d),a+=2}let c=r.splice(0,2);(u instanceof _r||u instanceof Dn)&&(u.scope=c[0])}return u.nodes=l.parse(r),u.start=e,u.end=s,u.startPosition=e.startPosition,u.endPosition=s.endPosition,u instanceof Dn&&u.alias!=null&&(u.endPosition=u.alias.endPosition),{found:!0,logicalGroup:u,skipCount:a}}unpack(e){if(e.length==0)return[];if(e[0]instanceof jt){let i=e[0];return this.unpack(i.nodes)}return e}collectUntil(e){let i=e.length,r=[];for(let n=i-1;n>=0&&!qt.isAssignmentOperator(e[n]);n--){let s=e.pop();r.push(s)}if(r=r.reverse(),r.length>=3){let n=new qt;return n.setIsRoot(!1),{collectedTokens:this.unpack(n.parse(r)),tokens:e}}return{collectedTokens:r,tokens:e}}seek(e,i){for(let r=i;r<this.tokens.length;r++)if(this.tokens[r]instanceof e)return{found:!0,foundAt:r,node:this.tokens[r]};return{found:!1,foundAt:null,node:null}}};var Mn=class{static findRightBeighboringNextPunctuation(e,i,r=4){i=i.replace("	"," ".repeat(r));let n=!1;for(let s=e+1;s<i.length;s++){let a=i[s];if(Y.ctypeSpace(a)&&(n=!0),n&&(Y.ctypeAlpha(a)||Y.ctypeDigit(a)))return null;if(Y.ctypePunct(a)||a==D.String_Terminator_SingleQuote||a==D.String_Terminator_DoubleQuote)return a}return null}static findRightNeighboringNextAlphaNumeric(e,i,r=4){i=i.replace("	"," ".repeat(r));let n=!1;for(let s=e+1;s<i.length;s++){let a=i[s];if((Y.ctypeSpace(a)||Y.ctypePunct(a)&&a!=D.Punctuation_Underscore)&&(n=!0),n&&(Y.ctypeAlpha(a)||Y.ctypeDigit(a)))return s+1}return null}static findLeftNeighboringNextPunctuation(e,i,r=4){i=i.replace("	"," ".repeat(r));let n=!1;for(let s=e-2;s>=0;s--){let a=i[s];if(Y.ctypeSpace(a)&&(n=!0),n&&(Y.ctypeAlpha(a)||Y.ctypeDigit(a)))return null;if(Y.ctypePunct(a))return a}return null}static findLeftNeighboringNextAlphaNumeric(e,i,r=4){i=i.replace("	"," ".repeat(r));let n=!1;for(let s=e-1;s>=0;s--){let a=i[s];if((Y.ctypeSpace(a)||Y.ctypePunct(a)&&a!=D.Punctuation_Underscore)&&(n=!0),n&&(Y.ctypeAlpha(a)||Y.ctypeDigit(a)))return s+1}return null}static scanWordAt(e,i,r=4){if(i=i.replace("	"," ".repeat(r)),e<0||e>i.length)return null;let n=[],s=[];for(let a=e-1;a>=0;a--){let o=i[a];if(Y.ctypePunct(o)&&o!=D.Punctuation_Underscore||Y.ctypeSpace(o))break;n.push(o)}for(let a=e;a<i.length;a++){let o=i[a];if(Y.ctypePunct(o)&&o!=D.Punctuation_Underscore||Y.ctypeSpace(o))break;s.push(o)}return n.reverse().join("")+s.join("")}};var Wd=class{constructor(e){this.parser=e}findParentWithName(e,i){let r=i.parent;for(;r!=null;){if(r instanceof G&&r.nameMatches(e))return r;if(r.parent==r)break;r=r.parent}return null}};var Hd=class{static analyzeModifierNodeParameters(e){var r,n,s,a;if(e.parameters.forEach(o=>{var l,u,c,f;o.isModifierParameter=(u=(l=Ve.instance)==null?void 0:l.hasModifier(o.name))!=null?u:!1,o.isModifierParameter&&(e.modifiers.parameterModifiers.push(o),o.modifier=(f=(c=Ve.instance)==null?void 0:c.getModifier(o.name))!=null?f:null,e.modifiers.modifierNames.includes(o.name)==!1&&e.modifiers.modifierNames.push(o.name))}),e.modifierChain!=null&&e.modifierChain.modifierChain.length>0){let o=null;e.modifierChain.modifierChain.forEach(l=>{var u,c;l.nameNode!=null&&(l.modifier=(c=(u=Ve.instance)==null?void 0:u.getModifier(l.nameNode.content))!=null?c:null,e.modifiers.modifierNames.includes(l.nameNode.content)==!1&&e.modifiers.modifierNames.push(l.nameNode.content),l.modifier!=null&&(o=l.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=l)))}),e.modifierChain.lastModifier=o,e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}e.runtimeNodes.length>0&&e.runtimeNodes.forEach(o=>{if(o.modifierChain!=null&&o.modifierChain.modifierChain.length>0){let l=null;o.modifierChain.modifierChain.forEach(u=>{var c,f;u.nameNode!=null&&(u.modifier=(f=(c=Ve.instance)==null?void 0:c.getModifier(u.nameNode.content))!=null?f:null,e.modifiers.modifierNames.includes(u.nameNode.content)==!1&&e.modifiers.modifierNames.push(u.nameNode.content),u.modifier!=null&&(l=u.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=u)))}),e.modifierChain!=null&&(e.modifierChain.lastModifier=l),e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}});let i=e.modifiers.getLastManifestedModifier();if(i!=null)if(i.name=="macro"){let o=e.modifiers.getLastManifestedModifierValue();e.manifestType=(n=(r=Ve.instance)==null?void 0:r.getMacroManifestingType(o))!=null?n:""}else e.manifestType=(a=(s=Ve.instance)==null?void 0:s.getProbableReturnType(i,e.isPaired()))!=null?a:""}};function Bg(t){return t==null?!1:t=='"'||t=="'"}function BP(t,e){for(t.getCurrentIndex();t.getCurrentIndex()<t.inputLength()&&(t.checkCurrentOffsets(),e&&t.pushChar(t.getCurrent()),t.getCurrent()!=D.NewLine);t.incrementIndex());}function jP(t,e){for(t.getCurrentIndex();t.getCurrentIndex()<t.inputLength();t.incrementIndex())if(t.checkCurrentOffsets(),e&&t.pushChar(t.getCurrent()),t.getCurrent()==D.Punctuation_Asterisk&&t.getNext()==D.Punctuation_ForwardSlash){e&&t.pushChar(D.Punctuation_ForwardSlash),t.incrementIndex(),t.checkCurrentOffsets();break}}function jg(t){let e=t.getCurrent();for(t.incrementIndex(),t.getCurrentIndex();t.getCurrentIndex()<t.inputLength()&&(t.checkCurrentOffsets(),!(t.getCurrent()==e&&t.getPrev()!=D.String_EscapeCharacter));t.incrementIndex());}var Yd=class{constructor(){this.content="";this.nodeIndex=[];this.fragmentStartIndex=[];this.charLen=0;this.documentOffsets=new Map;this.inputLen=0;this.seedOffset=0;this.shiftLine=0;this.chars=[];this.currentIndex=0;this.lastDocumentOffsetKey=null;this.cur=null;this.next=null;this.prev=null;this.chunkSize=5;this.currentChunkOffset=0;this.fragments=[];this.isScript=!1;this.fragmentOpeningIndex=new Map;this.indexedFragments=new Map;this.embeddedIndexedFragments=new Map}updateIndex(e){this.currentIndex=e}inputLength(){return this.inputLen}incrementIndex(){this.currentIndex+=1}getCurrentIndex(){return this.currentIndex}getCurrent(){return this.cur}getNext(){return this.next}getPrev(){return this.prev}pushChar(e){}getChar(e){return this.chars[e]}getSeedOffset(){return this.seedOffset}setDocumentOffsets(e,i){return this.documentOffsets=e,this.lastDocumentOffsetKey=i,this}getClosingFragmentAfter(e){if(typeof e=="undefined")return null;let i=e.name.toLowerCase();for(let r=0;r<this.fragments.length;r++){let n=this.fragments[r];if(n.isClosingFragment&&!n.isSelfClosing&&n.name.toLowerCase()==i&&n.index>e.index)return n}return null}getContentSubstring(e,i){return this.content.substr(e,i)}resetState(){return this.fragments=[],this.inputLen=0,this.fragmentStartIndex=[],this.fragmentOpeningIndex.clear(),this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.seedOffset=0,this.cur=null,this.next=null,this.prev=null}positionFromOffset(e,i,r=!1){let n=0,s=0;if(this.documentOffsets.has(e)){let o=this.documentOffsets.get(e);n=o.line,s=o.char}else if(this.documentOffsets.size==0)n=1,s=e+1;else{let o=null,l=null,u=null,c=null;for(let f of this.documentOffsets.keys()){if(f>=e){c!=null&&e>c?(o=u,l=c):(o=this.documentOffsets.get(f),l=f);break}u=this.documentOffsets.get(f),c=f}o==null&&(o=u,l=c),o!=null?(s=e-(l!=null?l:0),n=o.line,e<=(l!=null?l:0)?(n=o.line,s=e+1):n=o.line+1):this.lastDocumentOffsetKey!=null&&(n=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new Kt;return a.index=i,a.offset=e,a.line=n+this.shiftLine,a.char=s,a}getFragments(){return this.fragments}getFragmentsBetween(e,i){let r=[];return this.fragments.forEach(n=>{var o,l,u,c;let s=(l=(o=n.startPosition)==null?void 0:o.index)!=null?l:0,a=(c=(u=n.endPosition)==null?void 0:u.index)!=null?c:0;s>e&&a<i&&r.push(n)}),r}getFragmentContaining(e){var i,r,n,s;for(let a=0;a<this.fragments.length;a++){let o=this.fragments[a];if(((r=(i=o.startPosition)==null?void 0:i.index)!=null?r:0)<e.index&&((s=(n=o.endPosition)==null?void 0:n.index)!=null?s:0)>e.index)return o}return null}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let i=Y.split(Y.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),i.forEach(r=>{this.chars.push(r),this.charLen+=1})}e&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}}processInputText(e){this.content=e,this.inputLen=this.content.length;let i=[...this.content.matchAll(/(<(?!\?[php|?=]))/gm)],r=[];i.forEach(n=>{var a;let s=(a=n.index)!=null?a:0;for(let o=0;o<this.nodeIndex.length;o++){let l=this.nodeIndex[o];if(s>=l.start&&s<=l.end)return}r.push(s)}),this.fragmentStartIndex=r}setIndexRanges(e){return this.nodeIndex=e,this}fetchAt(e,i){return this.content.substr(e,i)}getFragmentsContainingStructures(){let e=[];return this.fragments.forEach(i=>{let r=i.name.toLowerCase();if(!(r!="script"&&r!="style")&&!i.isClosingFragment&&!i.isSelfClosing&&i.containsStructures){let n=this.getClosingFragmentAfter(i);n!=null&&e.push({start:i,end:n})}}),e}parse(e){if(this.resetState().processInputText(e),this.fragmentStartIndex.length==0)return[];for(let s=0;s<this.fragmentStartIndex.length;s++){let a=this.fragmentStartIndex[s];if(this.resetIntermediateState(),this.seedOffset=a,this.currentChunkOffset=a,this.parseIntermediateText(),this.isScript){let o=!1;for(let l=s+1;l<this.fragmentStartIndex.length;l++){let u=this.fragmentStartIndex[l];if(this.fetchAt(u,8).toLowerCase()=="<\/script"){s=l-1,this.isScript=!1,o=!0;break}}if(!o)break}}let r=0,n=0;return this.fragments.forEach(s=>{let a=s.name.toLowerCase();(a=="script"||a=="style")&&(s.embeddedIndex=n,this.embeddedIndexedFragments.set(n,s),n+=1),s.index=r,this.indexedFragments.set(r,s),r+=1}),this.fragments}getFragment(e){return this.indexedFragments.get(e)}getEmbeddedFragment(e){return this.embeddedIndexedFragments.has(e)?this.embeddedIndexedFragments.get(e):null}hasFragments(){return this.fragments.length>0}skipToEndOfPhp(){for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),Bg(this.cur)&&jg(this),this.cur==D.Punctuation_ForwardSlash&&this.next==D.Punctuation_ForwardSlash){BP(this,!0);continue}if(this.cur==D.Punctuation_ForwardSlash&&this.next==D.Punctuation_Asterisk){jP(this,!0);continue}if(this.cur==D.Punctuation_Question&&this.next==D.Punctuation_GreaterThan||this.next==null)break}}parseIntermediateText(){this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length;let e=this.currentIndex,i=[],r=[],n=!1,s=!1;for(this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),Y.ctypeSpace(this.cur)&&(n=!0),this.next==D.Punctuation_LessThan){let a=1;this.cur==D.Punctuation_ForwardSlash&&(a=2);let o=this.fetchAt(this.currentChunkOffset+a,5);if(o.toLowerCase()=="<?php"||o.startsWith("<?=")){this.skipToEndOfPhp();continue}}if(this.currentIndex>0&&this.cur==D.Punctuation_LessThan||this.next==null&&this.cur!=D.Punctuation_GreaterThan)break;if(!n&&this.cur==D.Punctuation_LessThan&&this.next==D.Punctuation_ForwardSlash&&(s=!0),!n&&this.cur!=D.Punctuation_LessThan&&this.cur!=D.Punctuation_ForwardSlash&&this.cur!=D.Punctuation_GreaterThan&&r.push(this.cur),Bg(this.cur)){let a=this.currentIndex;jg(this);let o=new Af;o.startPosition=this.positionFromOffset(a+this.seedOffset,a+this.seedOffset),o.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset);let l=a+this.seedOffset,u=this.currentIndex+this.seedOffset+1;o.content=this.content.substr(l,u-l);let c=[];for(let f=a-2;f>=0;f--){let d=this.chars[f];if(Y.ctypeSpace(d))break;c.push(d)}o.name=c.reverse().join(""),i.push(o);continue}if(this.cur==D.Punctuation_ForwardSlash&&this.next==D.Punctuation_GreaterThan){let a=new su;a.startPosition=this.positionFromOffset(e+this.seedOffset,e+this.seedOffset),a.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset+1,this.currentIndex+this.seedOffset+1),a.parameters=i,a.isSelfClosing=!0,a.name=r.join(""),a.isClosingFragment=s,this.fragments.push(a),s?this.fragmentOpeningIndex.set(a.startPosition.index+1,1):this.fragmentOpeningIndex.set(a.startPosition.index,1);break}if(this.cur==D.Punctuation_GreaterThan){let a=new su;a.startPosition=this.positionFromOffset(e+this.seedOffset,e+this.seedOffset),a.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),a.parameters=i,a.name=r.join(""),a.isClosingFragment=s,this.fragments.push(a),s?this.fragmentOpeningIndex.set(a.startPosition.index+1,1):this.fragmentOpeningIndex.set(a.startPosition.index,1),a.name.toLowerCase()=="script"&&a.isClosingFragment==!1&&(this.isScript=!0);break}}}};var Kd=class{constructor(e,i){this.documentParser=e,this.fragmentsParser=i}doesContainFragments(e){var n,s,a,o,l;let i=(s=(n=e.endPosition)==null?void 0:n.index)!=null?s:0,r=(l=(o=(a=e.isClosedBy)==null?void 0:a.startPosition)==null?void 0:o.index)!=null?l:0;return this.fragmentsParser.getFragmentsBetween(i,r).length>0}analyze(){let e=this.documentParser.getNodes();!this.fragmentsParser.hasFragments()||(this.fragmentsParser.getFragments().forEach(i=>{let r=i.name.toLowerCase();if(i.isClosingFragment==!1&&i.isSelfClosing==!1&&(r=="script"||r=="style")){let n=this.fragmentsParser.getClosingFragmentAfter(i);if(n==null)return;i.endPosition!=null&&n.startPosition!=null&&this.documentParser.getNodesBetween(i.endPosition,n.startPosition).forEach(a=>{(a instanceof et||a instanceof G&&a.isClosedBy!=null)&&(i.containsStructures=!0),r=="style"?a.isInStyleTag=!0:a.isInScriptTag=!0})}}),e.forEach(i=>{var a,o,l,u,c,f;if(i instanceof $e||i.startPosition==null)return;i instanceof G&&(ti.isConditionalStructure(i)||!i.isClosingTag)&&i.isClosedBy!=null&&(i.containsAnyFragments=this.doesContainFragments(i));let r=this.fragmentsParser.getFragmentContaining(i.startPosition);if(r==null){i.fragmentPosition=3;return}if(i.fragment=r,i.startPosition.index-((o=(a=r.startPosition)==null?void 0:a.index)!=null?o:0)<=3){i.fragmentPosition=0;return}if(r.parameters.length==0){i.fragmentPosition=2;return}let s=!1;for(let d=0;d<r.parameters.length;d++){let p=r.parameters[d];if(((u=(l=p.startPosition)==null?void 0:l.index)!=null?u:0)<i.startPosition.index&&((f=(c=p.endPosition)==null?void 0:c.index)!=null?f:0)>i.startPosition.index){i.fragmentPosition=1,i.fragmentParameter=p,s=!0;break}}s||(i.fragmentPosition=2)}))}};var $d=class{static analyze(e){e.forEach(i=>{var r,n,s,a,o,l;if(i instanceof G){if(i.prev instanceof G&&i.isPaired()&&i.prev.isInlineAntlers==!0){i.isInlineAntlers=!1,i.isClosedBy!=null&&(i.isClosedBy.isInlineAntlers=!1);return}let u=!1,c=!1;if(i.next==null)u=!0;else if(i.next instanceof $e){let f=Y.getFirstLine(i.next.content);(i.next.next==null&&f.trim().length==0||Y.trimLeft(f," 	").startsWith(`
`)==!1&&f.trim().length>0||i.next.next instanceof ii||i.next.next instanceof G&&(i.next.next.isPaired()==!1||((n=(r=i.next.next.startPosition)==null?void 0:r.line)!=null?n:0)!=((a=(s=i.startPosition)==null?void 0:s.line)!=null?a:0)))&&(u=!0)}else i.next instanceof G&&i.next.isPaired()&&(u=!0);if(i.prev==null)c=!0;else if(i.prev instanceof $e){let f=Y.getLastLine(i.prev.content);Y.trimRight(f," 	").endsWith(`
`)==!1&&f.trim().length>0||i.prev.prev instanceof ii?c=!0:i.prev.prev instanceof G&&(i.prev.prev.isInlineAntlers&&((o=i.prev.prev.endPosition)==null?void 0:o.line)==((l=i.startPosition)==null?void 0:l.line)?c=!0:i.prev.prev.isClosingTag&&i.prev.prev.isOpenedBy!=null&&(i.prev.prev.isOpenedBy instanceof ii||i.prev.prev.runtimeName()=="noparse")&&(i.prev.prev.isInlineAntlers=!0,c=!0))}else i.prev instanceof G&&i.prev.isPaired()&&(c=!0);i.isInlineAntlers=u&&c}})}};var qe=class{constructor(){this.interpolationRegions=new Map;this.nodeParser=new Ud;this.chars=[];this.charLen=0;this.lastAntlersNode=null;this.content="";this.originalContent="";this.currentIndex=0;this.currentContent=[];this.sourceContent=[];this.startIndex=0;this._recoveryStartIndex=0;this.cur=null;this.next=null;this.prev=null;this.nodes=[];this.renderNodes=[];this.isInterpolatedParser=!1;this.inputLen=0;this.documentOffsets=new Map;this.lineIndex=new Map;this.lastDocumentOffsetKey=null;this.isDoubleBrace=!1;this.interpolationEndOffsets=new Map;this.isScanningInterpolations=!1;this.seedStartLine=1;this.seedStartchar=1;this.frontMatterEndLine=-1;this.lastAntlersEndIndex=-1;this.seedOffset=0;this.antlersStartIndex=[];this.antlersStartPositionIndex=new Map;this.chunkSize=5;this.maxLine=1;this.currentChunkOffset=0;this.isNoParse=!1;this.antlersErrors=[];this.structureErrors=[];this.languageParser=new qt;this.documentPath=null;this.pushedErrors=new Map;this.frontMatter="";this.shiftLine=0;this.doesHaveUncloseIfStructures=!1;this.doesHaveUnclosedStructures=!1;this.parseChildDocuments=!1;this.structuralErrorCodes=[I.TYPE_PARSE_UNCLOSED_CONDITIONAL,I.TYPE_PARSE_UNPAIRED_CONDITIONAL,I.TYPE_RECURSIVE_UNPAIRED_NODE,I.TYPE_RUNTIME_FATAL_UNPAIRED_LOOP_END,I.TYPE_UNPAIRED_CLOSING_TAG];this.structure=new Wd(this);this.fragmentsParser=new Yd,this.fragmentsAnalyzer=new Kd(this,this.fragmentsParser)}withChildDocuments(e){return this.parseChildDocuments=e,this}shouldParseChildDocument(){return this.parseChildDocuments}hasUnclosedIfStructures(){return this.doesHaveUncloseIfStructures}hasUnclosedStructures(){return this.doesHaveUnclosedStructures}getFrontMatter(){return this.frontMatter}setDocumentPath(e){this.documentPath=e}getFrontMatterEndLine(){return this.frontMatterEndLine}pushError(e){(e.errorCode==I.TYPE_PARSE_UNCLOSED_CONDITIONAL||e.errorCode==I.TYPE_PARSE_UNPAIRED_CONDITIONAL)&&(this.doesHaveUncloseIfStructures=!0);let i=e.hash();this.pushedErrors.has(i)||(this.pushedErrors.set(i,e),this.antlersErrors.push(e),this.structuralErrorCodes.includes(e.errorCode)&&this.structureErrors.push(e))}getInterpolationRegions(){return this.interpolationRegions}getDocumentPath(){return this.documentPath}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let i=Y.split(Y.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),i.forEach(r=>{this.chars.push(r),this.charLen+=1})}e&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}}charLeftAt(e){return e==null||e.char<=1?null:this.charAt(this.positionFromCursor(e.line,e.char-1))}charLeftAtCursor(e,i){return this.charLeftAt(this.positionFromCursor(e,i))}charRightAt(e){return e==null?null:this.charAt(this.positionFromCursor(e.line,e.char+1))}charRightAtCursor(e,i){return this.charRightAt(this.positionFromCursor(e,i))}punctuationLeftAt(e,i=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:Mn.findLeftNeighboringNextPunctuation(e.char,r,i)}punctuationLeftAtCursor(e,i,r=4){return this.punctuationLeftAt(this.positionFromCursor(e,i),r)}punctuationRightAt(e,i=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:Mn.findRightBeighboringNextPunctuation(e.char,r,i)}punctuationRightAtCursor(e,i,r=4){return this.punctuationRightAt(this.positionFromCursor(e,i),r)}wordRightAt(e,i=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let n=Mn.findRightNeighboringNextAlphaNumeric(e.char,r,i);return n==null?null:Mn.scanWordAt(n,r,i)}wordRightAtCursor(e,i,r=4){return this.wordRightAt(this.positionFromCursor(e,i),r)}wordLeftAt(e,i=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let n=Mn.findLeftNeighboringNextAlphaNumeric(e.char,r,i);return n==null?null:Mn.scanWordAt(n,r,i)}wordLeftAtCursor(e,i,r=4){return this.wordLeftAt(this.positionFromCursor(e,i),r)}wordAt(e,i=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:Mn.scanWordAt(e.char,r,i)}getLineText(e){let i=this.getLineIndex(e);return i!=null?Y.trimRight(this.getContent().substring(i.start,i.end+1)):null}wordAtCursor(e,i,r=4){return this.wordAt(this.positionFromCursor(e,i),r)}charAt(e){return e==null?null:this.content.substr(e.offset,1)}getLinesAround(e){var s;let i=new Map,r=e-3,n=e+3;r<1&&(r=1),n>this.maxLine&&(n=this.maxLine);for(let a=r;a<=n;a++)i.set(a,(s=this.getLineText(a))!=null?s:"");return i}charAtCursor(e,i){return this.charAt(this.positionFromCursor(e,i))}getLineIndex(e){if(e==this.maxLine){let r=this.lineIndex.get(e-1);if(r!=null){let n=r.endIndex+1;return{end:this.inputLen-1,start:n}}return null}let i=this.lineIndex.get(e);return i!=null?{start:i.startIndex,end:i.endIndex}:null}positionFromCursor(e,i){if(e==this.maxLine){let n=this.lineIndex.get(e-1);if(n!=null){let s=n.endIndex+1,a=s+(i-1),o=new Kt;return o.offset=a,o.line=e,o.char=i,o.index=a,o}return null}let r=this.lineIndex.get(e);if(r!=null){let n=new Kt;return n.offset=r.startIndex+(i-1),n.line=r.line,n.char=i,n.index=r.startIndex+(i-1),n}return null}parse(e){var u,c,f,d,p,m,T,P,_,g;if(this.resetState(),!this.processInputText(e))return[];let i=this.antlersStartIndex.length,r=i-1;if(i==0&&!this.isNoParse){let y=new $e;y.withParser(this),y.content=this.prepareLiteralContent(this.content),y.startPosition=this.positionFromOffset(0,0),y.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1),y.sourceContent=this.content,this.nodes.push(y)}else for(let y=0;y<i;y+=1){let E=this.antlersStartIndex[y];if(this.seedOffset=E,y==0&&E>0&&!this.isNoParse){let C=new $e;if(C.withParser(this),C.content=this.prepareLiteralContent(this.content.substr(0,E)),C.content.length>0){C.startPosition=this.positionFromOffset(0,0),C.endPosition=this.positionFromOffset(E,E-1);let B=(u=C.startPosition.index)!=null?u:0,w=C.endPosition.index+1;C.sourceContent=this.content.substr(B,w-B),this.nodes.push(C)}}if(E<this.lastAntlersEndIndex)continue;if(this.currentChunkOffset=E,this.resetIntermediateState(),this.parseIntermediateText(),this.lastAntlersNode!=null&&!(this.lastAntlersNode instanceof Rs)&&this.lastAntlersNode.isComment&&!(this.lastAntlersNode instanceof Co)&&y+1<i){let C=this.antlersStartPositionIndex.get(y+1);if(this.lastAntlersNode.endPosition!=null&&C<this.lastAntlersNode.endPosition.offset){let B=null;for(let w=y+1;w<i;w++)if(this.antlersStartIndex[w]>this.lastAntlersNode.endPosition.offset){B=w;break}if(B==null){let w=this.prepareLiteralContent(this.content.substr(this.lastAntlersNode.endPosition.offset+1));if(w.length>0&&!this.isNoParse){let $=new $e;$.withParser(this),$.content=w;let oe=this.lastAntlersNode.endPosition.offset+1;$.startPosition=this.positionFromOffset(oe,oe),$.endPosition=this.positionFromOffset(this.inputLen,this.inputLen);let U=(c=$.startPosition.index)!=null?c:0,J=$.endPosition.index+1;$.sourceContent=this.content.substr(U,J-U),this.nodes.push($)}break}else{let w=this.antlersStartIndex[B],$=w-this.lastAntlersNode.endPosition.offset-1;if($>0){let oe=this.lastAntlersNode.endPosition.offset,U=w-1;oe+=1,U-=1;let J=this.content.substr(oe,$);if(J.length>0&&!this.isNoParse){let ce=new $e;ce.withParser(this),ce.content=J,ce.startPosition=this.positionFromOffset(oe,oe),ce.endPosition=this.positionFromOffset(U,U);let ne=(f=ce.startPosition.index)!=null?f:0,X=ce.endPosition.index+1;ce.sourceContent=this.content.substr(ne,X-ne),this.nodes.push(ce)}continue}y=B-1;continue}}}let L=!1;if(this.antlersStartPositionIndex.has(this.currentChunkOffset)?this.lastAntlersEndIndex<this.currentChunkOffset&&(L=!0):L=!0,L){if(y+1<i){let C=this.antlersStartIndex[y+1],B=this.lastAntlersEndIndex+1;if(C<B)if(this.lastAntlersEndIndex>C)y+2<i&&(C=this.antlersStartIndex[y+2]);else continue;if(y+1==r&&C<=this.lastAntlersEndIndex){if(this.isNoParse)break;let w=this.currentChunkOffset,$=this.content.substr(B),oe=new $e;if(oe.withParser(this),oe.content=this.prepareLiteralContent($),oe.content.length>0){oe.startPosition=this.positionFromOffset(w,w),oe.endPosition=this.positionFromOffset(C,C-1);let U=(d=oe.startPosition.index)!=null?d:0,J=oe.endPosition.index+1;oe.sourceContent=this.content.substr(U+2,this.inputLen-U+2),this.nodes.push(oe)}break}else{let w=C-this.lastAntlersEndIndex-1;if(w==0||this.isNoParse)continue;let oe=this.currentChunkOffset;this.lastAntlersNode instanceof Co&&(B=((m=(p=this.lastAntlersNode.endPosition)==null?void 0:p.offset)!=null?m:0)+1,w-=((P=(T=this.lastAntlersNode.endPosition)==null?void 0:T.offset)!=null?P:0)+1,oe=B),this.lastAntlersNode instanceof Rs&&(B-=1,w+=1);let U=this.content.substr(B,w),J=new $e;if(J.withParser(this),J.content=this.prepareLiteralContent(U),J.content.length>0){J.startPosition=this.positionFromOffset(B,B),J.endPosition=this.positionFromOffset(C,C-1);let ce=(_=J.startPosition.index)!=null?_:0,ne=J.endPosition.index+1;J.sourceContent=this.content.substr(ce,ne-ce),this.nodes.push(J)}}continue}if(y!==r&&this.lastAntlersNode!=null&&this.lastAntlersNode.endPosition!=null&&this.positionFromOffset(E,E).isBefore(this.lastAntlersNode.endPosition)){if(y+1<i){if(this.antlersStartIndex[y+1]<this.lastAntlersNode.endPosition.offset)continue}else if(y+1!=r)continue}if(y==r){let C=this.currentIndex+E;if(C<this.inputLen&&!this.isNoParse){let B=new $e;if(B.withParser(this),B.content=this.prepareLiteralContent(this.content.substr(C)),B.content.length>0){B.startPosition=this.positionFromOffset(C,C),B.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1);let w=(g=B.startPosition.index)!=null?g:0,$=B.endPosition.index+1;B.sourceContent=this.content.substr(w,$-w),this.nodes.push(B)}break}}}}let n=0;this.nodes.forEach(y=>{y.index=n,n+=1}),this.nodes.length>500&&(this.parseChildDocuments=!1),this.nodes.forEach(y=>{y instanceof G&&y.isComment||y instanceof G&&y.interpolationRegions.size>0&&(y.interpolationRegions.forEach((E,L)=>{let C=new qe;C.withChildDocuments(this.parseChildDocuments),C.setIsInterpolatedParser(!0);let B=C.parse(E.parseContent);B.length>1&&B[1]instanceof G&&(B=[B[1]]),C.hasUnclosedIfStructures()&&(this.doesHaveUncloseIfStructures=!0),C.hasUnclosedStructures()&&(this.doesHaveUnclosedStructures=!0),y.processedInterpolationRegions.set(L,B),this.mergeErrors(C.getAntlersErrors())}),y.hasProcessedInterpolationRegions=!0)}),this.content.length>0&&this.fragmentsParser.setIndexRanges(this.getNodeIndexRanges()).parse(this.content);let s=new ka;this.renderNodes=s.associate(this.nodes,this),this.createChildDocuments(this.renderNodes);let a=null,o=null;for(let y=0;y<this.nodes.length;y++){let E=this.nodes[y];y+1<this.nodes.length?o=this.nodes[y+1]:o=null,E.next=o,E.prev=a,a=E}this.fragmentsAnalyzer.analyze(),$d.analyze(this.nodes),this.nodes.forEach(y=>{if(y instanceof G&&y.isClosedBy!=null){let E=y.getImmediateChildren();for(let L=0;L<E.length;L++){let C=E[L];if(C instanceof G&&C.isClosedBy!=null){y.containsChildStructures=!0;break}else if(C instanceof et){y.containsChildStructures=!0;break}}}}),this.nodes.forEach(y=>{if(y instanceof G&&y.isClosingTag&&y.isOpenedBy==null){let E="Unpaired closing tag.";y.isInterpolationNode&&(E+=" Tag pairs are not supported within Antlers tags."),y.pushError(M.makeSyntaxError(I.TYPE_UNPAIRED_CLOSING_TAG,y,E))}}),Gd.associateRecursiveParent(this.nodes),this.nodes.forEach(y=>{var E;if(!(y instanceof G&&y.isComment)&&((y instanceof G||y instanceof yt)&&(y.isInterpolationNode=this.isInterpolatedParser),(y instanceof G||y instanceof yt)&&y.interpolationRegions.size>0&&y.runtimeNodes.forEach(L=>{L instanceof le&&y.interpolationRegions.has(L.name)&&(L.isInterpolationReference=!0,L.interpolationNodes=y.processedInterpolationRegions.get(L.name))}),(y instanceof G||y instanceof yt)&&y.hasParameters&&y.interpolationRegions.size>0&&y.parameters.forEach(L=>{y.interpolationRegions.forEach((C,B)=>{L.value.includes(B)&&L.interpolations.push(B)})}),y instanceof G&&y.runtimeNodes.length>0&&y.isClosingTag==!1&&!y.isComment&&(y.parsedRuntimeNodes=this.languageParser.parse(y.runtimeNodes),y.hasParsedRuntimeNodes=!0,!y.isTagNode&&y.parsedRuntimeNodes.length>0))){let L=y.nodeAtIndex(0);L!=null&&L instanceof le&&L.name==((E=y.name)==null?void 0:E.name)&&(y.modifierChain=L.modifierChain)}}),this.languageParser.getCreatedModifierChains().forEach(y=>{y.modifierChain.length>0&&y.modifierChain.forEach(E=>{var L,C;E.nameNode!=null&&Ve.instance!=null&&Ve.instance.hasModifier((L=E.nameNode)==null?void 0:L.name)&&(E.modifier=(C=Ve.instance)==null?void 0:C.getModifier(E.nameNode.name))})});let l=1;return this.nodes.forEach(y=>{var E,L;if(y instanceof G){if(y.isComment)return;y.isTagNode=(L=(E=Fe.instance)==null?void 0:E.isKnownTag(y.runtimeName()))!=null?L:!1,y.scopeName=y.findParameterValue("scope",""),y.antlersNodeIndex=l,l+=1,Hd.analyzeModifierNodeParameters(y)}}),this.nodes.forEach(y=>{var E,L,C,B,w,$,oe,U;if(y instanceof G&&y.isClosedBy!=null){let J=((L=(E=y.endPosition)==null?void 0:E.offset)!=null?L:0)+1,ce=(B=(C=y.isClosedBy.startPosition)==null?void 0:C.offset)!=null?B:0,ne=($=(w=y.startPosition)==null?void 0:w.offset)!=null?$:0,X=((U=(oe=y.isClosedBy.endPosition)==null?void 0:oe.offset)!=null?U:0)+1;y.documentText=this.content.substr(J,ce-J),y.nodeContent=this.content.substr(ne,X-ne),this.parseChildDocuments&&(y.childDocument=Nt.childFromText(y.documentText,pu(y.children)))}}),this.renderNodes}createChildDocuments(e){e.forEach(i=>{var r,n,s,a,o,l,u,c;if(i instanceof G&&i.isClosedBy!=null){let f=i.isClosedBy,d=((n=(r=i.startPosition)==null?void 0:r.index)!=null?n:0)-1,p=((a=(s=f.endPosition)==null?void 0:s.index)!=null?a:0)-d;if(i.documentText=this.content.substr(d,p),this.parseChildDocuments){let m=(l=(o=i.endPosition)==null?void 0:o.index)!=null?l:0,T=((c=(u=f.startPosition)==null?void 0:u.index)!=null?c:0)-1-m,P=this.content.substr(m,T);i.childDocument=Nt.childFromText(P,pu(i.getChildren()))}}})}getNodeIndexRanges(){let e=[];return this.nodes.forEach(i=>{var r,n,s,a;i instanceof $e||e.push({start:(n=(r=i.startPosition)==null?void 0:r.index)!=null?n:0,end:(a=(s=i.endPosition)==null?void 0:s.index)!=null?a:0})}),e}positionFromOffset(e,i,r=!1){let n=0,s=0;if(this.documentOffsets.has(e)){let o=this.documentOffsets.get(e);n=o.line,s=o.char}else if(this.documentOffsets.size==0)n=1,s=e+1;else{let o=null,l=null,u=null,c=null;for(let f of this.documentOffsets.keys()){if(f>=e){c!=null&&e>c?(o=u,l=c):(o=this.documentOffsets.get(f),l=f);break}u=this.documentOffsets.get(f),c=f}if(o==null&&(o=u,l=c),o!=null)if(r){let f=this.content.split(""),d=e-(l!=null?l:0),p=o.char-(l!=null?l:0)+e;s=d,n=o.line,e<=(l!=null?l:0)?(n=o.line,s=e+1):n=o.line+1}else{let f=this.content.split(""),d=e-(l!=null?l:0),p=o.char-(l!=null?l:0)+e;s=d,n=o.line,e<=(l!=null?l:0)?(n=o.line,s=e+1):n=o.line+1}else this.lastDocumentOffsetKey!=null&&(n=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new Kt;return a.index=i,a.offset=e,a.line=n+this.shiftLine,a.char=s,a}getLanguageParser(){return this.languageParser}getText(e,i){return this.content.substr(e,i-e)}getOriginalContent(){return this.originalContent}getContent(){return this.content}getFragments(){return this.fragmentsParser.getFragments()}getFragmentsParser(){return this.fragmentsParser}getFragmentsContainingStructures(){return this.fragmentsParser.getFragmentsContainingStructures()}setIsInterpolatedParser(e){return this.isInterpolatedParser=e,this}setStartLineSeed(e){return this.seedStartLine=e,this}setSeedStartChar(e){return this.seedStartchar=e,this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.currentContent=[],this.sourceContent=[],this.cur=null,this.next=null,this.prev=null}setSeedPosition(e){return e==null?this.shiftLine=0:this.shiftLine=e.line,this}resetState(){if(this.languageParser.reset(),this.charLen=0,this.antlersStartIndex=[],this.antlersErrors=[],this.pushedErrors.clear(),this.antlersStartPositionIndex.clear(),this.lastAntlersEndIndex=-1,this.renderNodes=[],this.nodes=[],as.globalTagEnterStack.length>0){let e=as.globalTagEnterStack[as.length-1];e!=null&&e.endPosition!=null&&this.setStartLineSeed(e.endPosition.line)}this.seedOffset=0,this.isScanningInterpolations=!1,this.content="",this.chars=[],this.currentIndex=0,this.startIndex=0,this._recoveryStartIndex=0,this.cur=null,this.next=null,this.prev=null,this.inputLen=0,this.documentOffsets.clear(),this.isDoubleBrace=!1,this.interpolationRegions.clear(),this.interpolationEndOffsets.clear()}fetch(e){let i=this.currentChunkOffset+this.chunkSize-this.chars.length;return Y.substring(this.content,i,e)}getParsedContent(){return this.content}peek(e){if(e==this.charLen){let i=Y.split(Y.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,i.forEach(r=>{this.chars.push(r),this.charLen+=1})}return this.chars[e]}parseIntermediateText(){for(this.currentContent=[],this.sourceContent=[],this.startIndex=0,this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length,this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==qe.LeftBrace&&this.next==qe.LeftBrace&&this.prev==qe.AtChar){this.dumpLiteralNode(this.currentIndex);let e=new ii;e.withParser(this),e.name=new Vi,e.name.name="noparse",e.content="{{",e.startPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),e.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),this.nodes.push(e),this.currentContent=[],this.sourceContent=[],this.currentIndex+=1;continue}if((this.prev==null||this.prev!=null&&this.prev!=qe.AtChar)&&this.next!=null&&this.cur==qe.LeftBrace&&this.next==qe.LeftBrace){this.dumpLiteralNode(this.currentIndex);let e=null;if(this.currentIndex+2<this.inputLen&&(e=this.peek(this.currentIndex+2)),e==qe.Punctuation_Question&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(qe.Punctuation_Question),this.isDoubleBrace=!1;break}if(e==qe.Punctuation_Dollar&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(qe.Punctuation_Dollar),this.isDoubleBrace=!1;break}if(e==qe.Punctuation_Octothorp&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersCommentRegion(),this.isDoubleBrace=!1;break}if(!this.isNoParse)this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1;else if(this.fetch(11).replace(" ","").toLocaleLowerCase().startsWith("{{/noparse")){this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1,this.isNoParse=!1;break}else{this.currentContent.push(this.cur);continue}break}if(this.cur==qe.AtChar&&this.next!=null&&this.next==qe.LeftBrace){if(this.currentIndex+2>=this.inputLen){this.appendContent(this.next),this.dumpLiteralNode(this.currentIndex+1);break}let e=0;for(let i=this.currentIndex+1;i<this.inputLen&&this.chars[i]==qe.LeftBrace;i+=1)e+=1;this.currentContent=this.currentContent.concat(qe.LeftBrace.repeat(e).split("")),this.sourceContent=this.currentContent.concat(qe.LeftBrace.repeat(e).split("")),this.currentIndex+=e}this.appendContent(this.cur),this.next==null&&this.currentContent.length>0&&this.dumpLiteralNode(this.currentIndex)}}getRenderNodes(){return this.renderNodes}processInputText(e){var f;if(this.originalContent=e,this.content=Y.normalizeLineEndings(e),this.inputLen=this.content.length,this.content.startsWith("---")){let d=this.content.split(`
`),p=[],m=[];m.push("");for(let T=1;T<d.length;T++){let P=d[T];if(P.startsWith("---")){m.push(""),m=m.concat(d.slice(T+1)),this.content=m.join(`
`),this.frontMatter=p.join(`
`),this.frontMatterEndLine=T+1;break}else p.push(P),m.push("")}}let i=[...this.content.matchAll(/(\n)/gm)],r=i.length,n=this.seedStartLine,s=null,a=0,o=0;for(let d=0;d<r;d++){let p=i[d],m=(f=p.index)!=null?f:0,T=m;s!=null?T=m-s:T=T+1,this.documentOffsets.set(m,{char:T,line:n});let P=0,_=0;d==0?(_=T-1,P=0):(P=o+1,_=m),this.lineIndex.set(n,{char:T,line:n,startIndex:P,endIndex:_}),this.lastDocumentOffsetKey=m,this.maxLine=n,n+=1,s=m,o=_,a=P}this.maxLine+=1;let l=[...this.content.matchAll(/@?{{/gm)],u=0,c=!1;return l.forEach(d=>{let p=d[0];if(p.startsWith(qe.AtChar)){u=this.content.indexOf(p,u)+2,c=!0;return}let m=this.content.indexOf(p,u);if(c&&u==m){u=m;return}this.antlersStartIndex.push(m),this.antlersStartPositionIndex.set(m,1),u=m+2,c=!1}),!0}prepareLiteralContent(e){return e.replace("@{{","{{")}scanToEndOfPhpRegion(e){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==e&&this.next!=null&&this.next==qe.RightBrace&&this.peek(this.currentIndex+2)==qe.RightBrace){let r=this.makeAntlersPhpNode(this.currentIndex,e==qe.Punctuation_Dollar);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.startIndex=this.currentIndex,this._recoveryStartIndex=this.startIndex,this.nodes.push(r),this.lastAntlersNode=r;break}if(this.appendContent(this.cur),this.next==null){let i=this.makeAntlersPhpFailedNode(this.currentIndex);this.nodes.push(i),this.lastAntlersNode=i,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(M.makeSyntaxError(I.TYPE_INCOMPLETE_PHP_EVALUATION_REGION,i,"Unexpected end of input while parsing Antlers PHP region."));break}}}appendContent(e){e!=null&&(this.currentContent.push(e),this.sourceContent.push(e))}scanToEndOfAntlersCommentRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==qe.Punctuation_Octothorp&&this.next!=null&&this.next==qe.RightBrace&&this.peek(this.currentIndex+2)==qe.RightBrace){let i=this.makeAntlersTagNode(this.currentIndex,!0);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.nodes.push(i),this.lastAntlersNode=i;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersCommentFailedNode(this.currentIndex);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(M.makeSyntaxError(I.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION,e,"Unexpected end of input while parsing Antlers comment region."));break}}}scanToEndOfInterpolatedRegion(){this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0);let e=[];this.isScanningInterpolations=!0;let i=0;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.checkCurrentOffsets(),this.cur==qe.LeftBrace){if(this.prev==qe.AtChar){e.push(this.cur);continue}i+=1,e.push(this.cur)}else if(this.cur==qe.RightBrace){if(this.prev==qe.AtChar){e.push(this.cur);continue}if(i-=1,e.push(this.cur),i==0){this.interpolationEndOffsets.set(this.currentIndex,1);break}}else this.cur!=null&&e.push(this.cur);let r=e.join(""),s=("int_"+GP.Md5.hashStr(r)).substr(0,r.length),a=s.length,o=r.length;if(a<o){let l=o-a;s+="x".repeat(l)}return this.isScanningInterpolations=!1,{content:r,varContent:s}}bordersInterpolationRegion(e){if(this.interpolationEndOffsets.size==0)return!1;let i=e.offset-1;return i<=0?!1:this.interpolationEndOffsets.has(i)}getParseableContent(e){let i="";for(let r=0;r<=e;r++)this.content[r]==qe.LeftBrace||this.content[r]==qe.RightBrace?i+="~":i+=this.content[r];return i}scanToEndOfAntlersRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==qe.LeftBrace&&this.prev==qe.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.isInterpolatedParser&&this.cur==qe.RightBrace&&this.prev==qe.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.cur==qe.LeftBrace){let e=this.scanToEndOfInterpolatedRegion(),i=this.currentIndex+this.seedOffset,r=i-e.content.length,n=this.getParseableContent(r-1);as.interpolatedVariables.push(e.varContent),this.currentContent=this.currentContent.concat(e.varContent.split("")),this.sourceContent=this.sourceContent.concat(e.content.split(""));let s=n+"{"+e.content+"}";this.interpolationRegions.set(e.varContent,{content:e.content,parseContent:s,varContent:e.varContent,startOffset:r,endOffset:i});continue}if(this.cur==qe.RightBrace&&this.next!=null&&this.next==qe.RightBrace){let e=this.makeAntlersTagNode(this.currentIndex,!1);e.name!=null&&e.name.name=="noparse"&&(this.isNoParse=!0),this.currentIndex+=2,this.nodes.push(e),this.lastAntlersNode=e;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersFailedNode(this.currentIndex,!1);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0;let i="Unexpected end of input while parsing Antlers region.";this.isScanningInterpolations&&(i="Unexpected end of input wihle parsing interpolated Antlers region."),this.antlersErrors.push(M.makeSyntaxError(I.TYPE_INCOMPLETE_ANTLERS_REGION,e,i));break}}}makeAntlersPhpNode(e,i){let r=new Rs;return i?(r.rawStart="{{$",r.rawEnd="$}}"):(r.rawStart="{{?",r.rawEnd="?}}"),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+3>this.inputLen?(r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(M.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r):(this.lastAntlersEndIndex=e+3+this.seedOffset,r.endPosition=this.positionFromOffset(e+this.seedOffset,e+3+this.seedOffset),r)}makeAntlersPhpFailedNode(e){let i=new wf;i.rawStart="{{$",i.rawEnd="$}}",i._isEndVirtual=!0,i.content=this.currentContent.join(""),i.sourceContent=this.sourceContent.join(""),i.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let r=this.getLineText(i.startPosition.line),n=this.getLineIndex(i.startPosition.line);if(r!=null){let a=r.substr(this._recoveryStartIndex);i.content=a,i.sourceContent=a}let s=e+this.seedOffset;return n!=null&&(this.currentIndex=n.end,s=n.end),i.endPosition=this.positionFromOffset(s,s),i}makeAntlersCommentFailedNode(e){let i=new Co;this.isDoubleBrace?(i.rawStart="{{",i.rawEnd="}}"):(i.rawStart="{",i.rawEnd="}"),i._isEndVirtual=!0;let r=!1,n=this.currentContent.length;n>0&&this.currentContent[n-1]==qe.Punctuation_ForwardSlash&&(this.currentContent.pop(),r=!0),i.isComment=!0,i.isSelfClosing=r,i.withParser(this),i.content=this.currentContent.join(""),i.sourceContent=this.sourceContent.join(""),i.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let s=this.getLineText(i.startPosition.line),a=this.getLineIndex(i.startPosition.line);if(s!=null){let l=s.substr(this._recoveryStartIndex);i.content=l,i.sourceContent=l}let o=e+this.seedOffset;return a!=null&&(this.currentIndex=a.end,o=a.end),i.endPosition=this.positionFromOffset(o,o),i.interpolationRegions=new Map,this.interpolationRegions.forEach((l,u)=>{i.content.includes(u)&&i.interpolationRegions.set(u,l)}),i}makeAntlersFailedNode(e,i){let r=new yt;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}"),r._isEndVirtual=!0;let n=!1,s=this.currentContent.length;s>0&&this.currentContent[s-1]==qe.Punctuation_ForwardSlash&&(this.currentContent.pop(),n=!0),r.isComment=i,r.isSelfClosing=n,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let a=this.getLineText(r.startPosition.line),o=this.getLineIndex(r.startPosition.line);if(a!=null){let c=Y.trimLeft(this.content.substring(r.startPosition.offset+r.rawStart.length-1,o==null?void 0:o.end),"{");r.content=c,r.sourceContent=c}let l=e+this.seedOffset;o!=null&&(this.currentIndex=o.end,l=o.end),r.endPosition=this.positionFromOffset(l,l),r.interpolationRegions=new Map,this.interpolationRegions.forEach((c,f)=>{r.content.includes(f)&&r.interpolationRegions.set(f,c)});let u=this.nodeParser.parseNode(r);return this.mergeErrors(u.getErrors()),u}makeAntlersTagNode(e,i){let r=new G;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}");let n=!1,s=this.currentContent.length;if(s>0&&this.currentContent[s-1]==qe.Punctuation_ForwardSlash&&(this.currentContent.pop(),n=!0),r.isInterpolationNode=this.isInterpolatedParser,r.isComment=i,r.isSelfClosing=n,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+2>this.inputLen)return r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(M.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r;if(i?this.lastAntlersEndIndex=e+2+this.seedOffset:this.lastAntlersEndIndex=e+1+this.seedOffset,r.endPosition=this.positionFromOffset(this.lastAntlersEndIndex,this.lastAntlersEndIndex),r.interpolationRegions=new Map,this.interpolationRegions.forEach((o,l)=>{r.content.includes(l)&&r.interpolationRegions.set(l,o)}),r.isComment)return r;let a=this.nodeParser.parseNode(r);return this.mergeErrors(a.getErrors()),a}mergeErrors(e){e.forEach(i=>{this.antlersErrors.push(i)})}getNodes(){return this.nodes}getNodesBetween(e,i){let r=[];return this.nodes.forEach(n=>{var s,a,o,l;((a=(s=n.startPosition)==null?void 0:s.offset)!=null?a:0)>e.offset&&((l=(o=n.endPosition)==null?void 0:o.offset)!=null?l:0)<i.offset&&r.push(n)}),r}antlersNodes(){return this.nodes.filter(function(e){return e instanceof G})}dumpLiteralNode(e){this.isNoParse||(this.currentContent.length>0&&this.nodes.push(this.makeLiteralNode(this.currentContent,this.startIndex,e)),this.currentContent=[],this.sourceContent=[])}makeLiteralNode(e,i,r){let n=new $e;return n.content=e.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(i,i),n.endPosition=this.positionFromOffset(r,r),n.sourceContent=this.content.substr(i,r),n.withParser(this),n}addAntlersError(e){this.antlersErrors.push(e)}getAntlersErrors(){return this.antlersErrors}getStructureErrors(){return this.structureErrors}},D=qe;D.K_CHAR="char",D.K_LINE="line",D.NewLine=`
`,D.AtChar="@",D.LeftBrace="{",D.RightBrace="}",D.LeftBracket="[",D.RightBracket="]",D.String_EscapeCharacter="\\",D.String_Terminator_DoubleQuote='"',D.String_Terminator_SingleQuote="'",D.Punctuation_Question="?",D.Punctuation_Equals="=",D.Punctuation_Comma=",",D.Punctuation_Colon=":",D.Punctuation_Semicolon=";",D.Punctuation_Exclamation="!",D.Punctuation_Pipe="|",D.Punctuation_Ampersand="&",D.Punctuation_LessThan="<",D.Punctuation_GreaterThan=">",D.Punctuation_Octothorp="#",D.Punctuation_Tilde="~",D.Punctuation_FullStop=".",D.Punctuation_Dollar="$",D.Punctuation_Asterisk="*",D.Punctuation_Percent="%",D.Punctuation_Plus="+",D.Punctuation_Minus="-",D.Punctuation_Underscore="_",D.Punctuation_ForwardSlash="/",D.Punctuation_Caret="^",D.LeftParen="(",D.RightParent=")";var Ct=class{static findAssignmentNodes(e){let i=[];for(let r=0;r<e.length;r++)qt.isAssignmentOperatorNode(e[r])&&i.push(e[r]);return i}static findAbstractNodesBefore(e,i){return this.findAbstractNodesBeforePosition(e.startPosition,i)}static findAbstractNodesBeforePosition(e,i){if(e==null)return[];let r=[];for(let n=0;n<i.length;n++){let s=i[n];if(s.startPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static isBefore(e,i){return e.startPosition==null?!1:e.startPosition.index<i.index}static isAfter(e,i){return e.startPosition==null?!1:e.startPosition.index>i.index}static findNodesBeforePosition(e,i){let r=[];if(e==null)return r;for(let n=0;n<i.length;n++){let s=i[n];if(!Ct.isLiteralType(s)&&s.startPosition!=null&&s.endPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static findNodesAfterPosition(e,i){let r=[];if(e==null)return r;for(let n=0;n<i.length;n++){let s=i[n];Ct.isLiteralType(s)||s.startPosition!=null&&s.startPosition.index>e.index&&r.push(s)}return r}static findNodeBeforePosition(e,i){if(e==null)return null;let r=null;for(let n=0;n<i.length;n++){let s=i[n];if(!Ct.isLiteralType(s)&&s.startPosition!=null){if(s.startPosition.index>e.index)break;r=s}}return r}static findNodeAfterPosition(e,i){if(e==null)return null;for(let r=0;r<i.length;r++){let n=i[r];if(!Ct.isLiteralType(n)&&n.startPosition!=null&&n.startPosition.index>e.index)return n}return null}static findNodeAtPosition(e,i){if(e==null)return null;for(let r=0;r<i.length;r++){let n=i[r];if(!Ct.isLiteralType(n)&&n.startPosition!=null&&n.endPosition!=null&&e.index>=n.startPosition.index&&e.index<=n.endPosition.index)return n}return null}static isLiteralType(e){return e instanceof ii||e instanceof $e}};var ul=class{static isModifierLeftOf(e,i){return ul.isModifierLeftOfPosition(e.startPosition,i)}static isModifierLeftOfPosition(e,i){let r=Ct.findAbstractNodesBeforePosition(e,i);for(let n=r.length-1;n>=0;n--){let s=r[n];if(s instanceof zt&&n-1>0&&r[n-1]instanceof Mt)return!0;if(s instanceof zt||s instanceof $t)return!1;if(s instanceof Ii)return!0}return!1}};var cl=class{constructor(){this.isRightOfOperator=!1;this.isLeftOfOperator=!1}static resolveContext(e,i,r){let n=new cl;return r!=null&&(r.prev!=null&&qt.isOperatorType(r.prev)&&(n.isRightOfOperator=!0),r.next!=null&&qt.isOperatorType(r.next)&&(n.isLeftOfOperator=!0)),n}};var zd=class{constructor(){this.inTagPart=!1;this.inMethodPart=!1}};var fl=class{constructor(){this.modifierChain=null;this.activeModifier=null;this.name="";this.inModifierName=!1;this.inModifierParameter=!1;this.valueCount=0;this.activeValueIndex=-1;this.activeValue=null}static resolveContext(e,i,r,n){var c;let s=i.getParser(),a=new fl,o=s.getLanguageParser().getCreatedModifierChains(),l=null;for(let f=0;f<o.length;f++){let d=o[f];if(e.isWithin(d.startPosition,d.endPosition,2)){for(let p=0;p<d.modifierChain.length;p++){let m=d.modifierChain[p];if(e.isWithin(m.startPosition,m.endPosition,2)){l=m;break}}if(l!=null)break}}l==null&&r instanceof Mt&&n.getDocumentParser().getLanguageParser().hasModifierConstruct(r)&&(l=n.getDocumentParser().getLanguageParser().getModifierConstruct(r));let u=n.wordLeftAt(e);if(l==null&&u!=null&&((c=Ve.instance)==null?void 0:c.hasModifier(u))&&i.modifierChain!=null&&i.modifierChain.modifierChain.length>0)for(let f=0;f<i.modifierChain.modifierChain.length;f++){let d=i.modifierChain.modifierChain[f];if(d.modifier!=null&&d.modifier.name==u){l=d;break}}if(l!=null)if(a.activeModifier=l,a.valueCount=l.valueNodes.length,l.nameNode!=null&&(a.name=l.nameNode.name),l.nameNode!=null&&e.isWithin(l.nameNode.startPosition,l.nameNode.endPosition,1))a.inModifierName=!0;else for(let f=0;f<l.valueNodes.length;f++){let d=l.valueNodes[f];if(e.isWithin(d.startPosition,d.endPosition,1)){a.activeValueIndex=f,a.activeValue=d;break}}return a}};var dl=class{constructor(){this.parameter=null;this.isInName=!1;this.isInValue=!1}static resolveContext(e,i){let r=new dl;return r.parameter=i,e.isWithinRange(i.namePosition)?r.isInName=!0:e.isWithinRange(i.valuePosition)&&(r.isInValue=!0),r}};var Xd=class{constructor(){this.refId="";this.node=null;this.leftPunctuation=null;this.rightPunctuation=null;this.leftChar=null;this.rightChar=null;this.word=null;this.char=null;this.interpolatedContext=!1;this.leftWord=null;this.rightWord=null;this.isCursorInIdentifier=!1;this.root=null;this.identifierContext=null;this.position=null;this.feature=null;this.isInParameter=!1;this.subContext=null;this.parameterContext=null;this.modifierContext=null;this.generalContext=null;this.variableContext=null;this.cursorContext=Ug.Unknown;this.refId=So()}},Ug=(a=>(a[a.Unknown=0]="Unknown",a[a.Variable=1]="Variable",a[a.Modifier=2]="Modifier",a[a.Parameter=3]="Parameter",a[a.General=4]="General",a[a.LanguageOperator=5]="LanguageOperator",a))(Ug||{});var pl=class{constructor(){this.variableNode=null;this.varPathText=""}static resolveContext(e,i,r,n){var f;if(r==null)return null;let s=r,a=n.getDocumentParser().getLanguageParser(),o=new pl,l=(f=n.wordAt(e))!=null?f:"";r instanceof wt&&a.isMergedVariableComponent(r)==!1&&r.prev instanceof le&&(s=r.prev);let u="";if(a.isMergedVariableComponent(s)){let d=a.getMergedVariable(s);d.startPosition!=null&&(u=n.getText(d.startPosition.index,e.index).trim()),o.variableNode=d}else s instanceof le&&(o.variableNode=s,u=s.name,s.variableReference!=null&&(u=s.variableReference.normalizedReference));u.length>0&&(u=Lt(u,"\\.",":"));let c=u.split(":");return l.trim().length>0&&c.pop(),u=c.join(":"),u.endsWith(":")&&(u=cn(u,":")),o.varPathText=u,o}};var qn=class{static resolveIdentifierContext(e,i){let r=new zd;return i.nameMethodPartStartsOn!=null?e.char<i.nameMethodPartStartsOn.char?(r.inTagPart=!0,r.inMethodPart=!1):(r.inTagPart=!1,r.inMethodPart=!0):(r.inMethodPart=!1,r.inTagPart=!0),r}static resolveContext(e,i,r,n=!1,s=null){var a,o,l,u,c,f;if(i==null||e==null)return null;if(i instanceof zi||i instanceof G){let d=new Xd;if(i.nameStartsOn!=null&&e.line==i.nameStartsOn.line){let T=!1;e.char>=i.nameStartsOn.char&&(T=!0),i.nameEndsOn!=null&&e.char>i.nameEndsOn.char&&(T=!1),T&&(d.isCursorInIdentifier=!0,d.identifierContext=qn.resolveIdentifierContext(e,i))}i.addContext(d),s!=null&&s.addContext(d),d.interpolatedContext=n,d.node=i,d.position=e,d.root=s,d.leftPunctuation=r.punctuationLeftAt(e),d.rightPunctuation=r.punctuationRightAt(e),d.leftChar=r.charLeftAt(e),d.rightChar=r.charRightAt(e),d.isCursorInIdentifier==!0&&d.leftChar==" "&&(d.leftChar=":"),d.word=r.wordAt(e),d.char=r.charAt(e),d.leftWord=r.wordLeftAt(e),d.rightWord=r.wordRightAt(e);let p=!1;if(i.parameters.length>0)for(let T=0;T<i.parameters.length;T++){let P=i.parameters[T];if(P.blockPosition!=null&&P.blockPosition.start!=null&&P.blockPosition.end!=null&&e.char>P.blockPosition.start.char&&e.char<=P.blockPosition.end.char+1&&e.line>=((l=(o=(a=P.namePosition)==null?void 0:a.start)==null?void 0:o.line)!=null?l:P.blockPosition.start.line)&&e.line<=((f=(c=(u=P.valuePosition)==null?void 0:u.end)==null?void 0:c.line)!=null?f:P.blockPosition.end.line)){d.cursorContext=3,d.parameterContext=dl.resolveContext(e,P),d.isInParameter=!0,d.feature=P,p=!0;break}}if(p||i.runtimeNodes.forEach(T=>{T.startPosition!=null&&T.endPosition!=null&&e.isWithin(T.startPosition,T.endPosition,1)&&(d.feature=T)}),p&&i.interpolationRegions.size>0){let T=Array.from(i.interpolationRegions,([P,_])=>_);for(let P=0;P<T.length;P++){let _=T[P];if(e.index>=_.startOffset&&e.index<=_.endOffset){let g=i.getInterpolationNode(_.varContent);return qn.resolveContext(e,g,r,!0,s)}}}return d.feature instanceof le&&d.feature.isInterpolationReference&&d.feature.parent!=null&&d.feature.parent instanceof G&&d.feature.parent.processedInterpolationRegions.has(d.feature.name)?qn.resolveContext(e,d.feature.parent.getInterpolationNode(d.feature.name),r,!0,s):(ul.isModifierLeftOfPosition(e,i.runtimeNodes)?(d.cursorContext=2,d.modifierContext=fl.resolveContext(e,i,d.feature,r)):p||(d.cursorContext=4,d.generalContext=cl.resolveContext(e,i,d.feature)),d.variableContext=pl.resolveContext(e,i,d.feature,r),d)}return null}};var Ys=class{static isPairedNode(e){return e instanceof et?!0:e instanceof zi||e instanceof G?e.isClosedBy!=null:!1}static findAncestorsBeforePosition(e,i){var o,l,u,c,f,d;let r=[],n=[],s=-1,a=-1;for(let p=0;p<i.length;p++){let m=i[p];if(m.isClosedBy!=null&&(o=m.isClosedBy.endPosition)!=null&&o.isBefore(e)&&(n.push(m),n.push(m.isClosedBy),s=m.isClosedBy.endPosition.line,a=m.isClosedBy.endPosition.char),!(s>-1&&m.endPosition!=null&&(m.endPosition.line<s||m.endPosition.line==s&&a>-1&&m.endPosition.char<a))){if(m.startPosition!=null){if(e.isBefore(m.startPosition))break;if(m.startPosition.line==e.line&&e.char<=m.startPosition.char){n.push(m);continue}}if(((l=Fe.instance)==null?void 0:l.requiresClose(m))&&m.isClosedBy!=null){let T=m.isClosedBy;if((u=T.startPosition)!=null&&u.isBefore(e)){n.push(m),n.push(T);continue}else((c=T.startPosition)==null?void 0:c.line)==e.line&&((f=T.startPosition)==null?void 0:f.char)<e.char?n.push(m):r.push(m)}else if(m.parent!=null){let T=m.parent;if(n.includes(T)){n.push(m);continue}else(d=m.endPosition)!=null&&d.isBefore(e)?r.push(m):n.push(m)}else r.push(m)}}return r}};var Qd=class{constructor(e){this.doc=e}getAncestorsAt(e,i){let r=this.position(e,i);return r==null?[]:Ys.findAncestorsBeforePosition(r,this.doc.getAllAntlersNodes())}getNameAt(e,i){let r=this.getNodeAt(e,i);return r instanceof G?r.name:null}getScopeAt(e,i){let r=this.getNodeAt(e,i);return r instanceof G&&r.currentScope!=null?r.currentScope:null}getFeaturesAt(e,i){let r=this.position(e,i),n=this.getNodeAt(e,i);return qn.resolveContext(r,n,this.doc,!1,n)}getNodeAt(e,i){return Ct.findNodeAtPosition(this.position(e,i),this.doc.getDocumentParser().getNodes())}getNodeBefore(e,i){return Ct.findNodeBeforePosition(this.position(e,i),this.doc.getDocumentParser().getNodes())}getNodeAfter(e,i){return Ct.findNodeAfterPosition(this.position(e,i),this.doc.getDocumentParser().getNodes())}getNodesBefore(e,i){return Ct.findNodesBeforePosition(this.position(e,i),this.doc.getDocumentParser().getNodes())}getAssignmentsBefore(e,i){let r=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),n=[],s=this.position(e,i);return s!=null&&r.forEach(a=>{Ct.isBefore(a.target,s)&&n.push(a)}),n}getAssignmentsAfter(e,i){let r=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),n=[],s=this.position(e,i);return s!=null&&r.forEach(a=>{Ct.isAfter(a.target,s)&&n.push(a)}),n}getNodesAfter(e,i){return Ct.findNodesAfterPosition(this.position(e,i),this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e,i){let r=this.getNodeBefore(e,i);return r==null?!1:Ys.isPairedNode(r)}position(e,i){return this.doc.getDocumentParser().positionFromCursor(e,i)}charLeftAt(e,i){return this.doc.getDocumentParser().charLeftAtCursor(e,i)}charAt(e,i){return this.doc.getDocumentParser().charAtCursor(e,i)}charRightAt(e,i){return this.doc.getDocumentParser().charRightAtCursor(e,i)}wordLeftAt(e,i,r=4){return this.doc.getDocumentParser().wordLeftAtCursor(e,i,r)}wordRightAt(e,i,r=4){return this.doc.getDocumentParser().wordRightAtCursor(e,i,r)}wordAt(e,i,r=4){return this.doc.getDocumentParser().wordAtCursor(e,i,r)}punctuationLeftAt(e,i,r=4){return this.doc.getDocumentParser().punctuationLeftAtCursor(e,i,r)}punctuationRightAt(e,i,r=4){return this.doc.getDocumentParser().punctuationRightAtCursor(e,i,r)}};var Jd=class{constructor(e){this.doc=e}hasStructureErrors(){return this.doc.getDocumentParser().getStructureErrors().length>0}getFirstStructureError(){return this.doc.getDocumentParser().getStructureErrors()[0]}hasAny(){return this.all().length>0}all(){let e=[],i=[];return this.doc.getAllAntlersNodes().forEach(r=>{r.getErrors().forEach(n=>{e.includes(n.hash())==!1&&(e.push(n.hash()),i.push(n))})}),this.doc.getDocumentParser().getAntlersErrors().forEach(r=>{e.includes(r.hash())==!1&&(e.push(r.hash()),i.push(r))}),i}};var DN=ee(bn());var Gi=ee(wN(),1),Ote=Gi.default.binaryOptions,Lte=Gi.default.boolOptions,kte=Gi.default.intOptions,Mte=Gi.default.nullOptions,qte=Gi.default.strOptions,Vte=Gi.default.Schema,Bte=Gi.default.Alias,jte=Gi.default.Collection,Ute=Gi.default.Merge,Gte=Gi.default.Node,xN=Gi.default.Pair,Su=Gi.default.Scalar,Cu=Gi.default.YAMLMap,bl=Gi.default.YAMLSeq;var gp=class{constructor(e){this.documentScope=null;this.project=e}getKeyValue(e){return e instanceof Su?e.value:""}getNodeValue(e){return e instanceof Su?e.value:e instanceof Cu?this.analyzeDocument(e.items):e instanceof bl?this.analyzeDocument(e.items):""}getScalarRuntimeType(e){return parseFloat(e).toString()==e||parseInt(e).toString()==e?"number":"string"}analyzeDocument(e){let i=new er(this.project);return e.forEach(r=>{if(r instanceof xN){let n=this.getKeyValue(r.key),s=this.getNodeValue(r.value);if(r.value instanceof Su)i.addVariable({dataType:this.getScalarRuntimeType(s),introducedBy:null,name:n,sourceField:null,sourceName:"*frontmatter"});else if(r.value instanceof bl&&r.key instanceof Su){let a=new er(this.project);r.value.items.forEach(o=>{let l=this.getNodeValue(o);a.addVariable({dataType:this.getScalarRuntimeType(l),introducedBy:null,name:o.value,sourceField:null,sourceName:"*frontmatter"})}),i.addScopeList(r.key.value,a)}else i.addScopeList(n,s)}}),i}parse(e){try{let i=DN.parseDocument(e);i.contents instanceof Cu&&(this.documentScope=this.analyzeDocument(i.contents.items))}catch{this.documentScope=null}}hasScope(){return this.documentScope!=null}getScope(){return this.documentScope}};var _p=class{constructor(e){this.doc=e}getAncestors(e){return Ys.findAncestorsBeforePosition(e,this.doc.getAllAntlersNodes())}getNodeAt(e){return Ct.findNodeAtPosition(e,this.doc.getDocumentParser().getNodes())}getNodesBefore(e){return Ct.findNodesBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeBefore(e){return Ct.findNodeBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeAfter(e){return Ct.findNodeAfterPosition(e,this.doc.getDocumentParser().getNodes())}getNodesAfter(e){return Ct.findNodesAfterPosition(e,this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e){let i=this.getNodeBefore(e);return i==null?!1:Ys.isPairedNode(i)}filter(e){return this.doc.getDocumentParser().getNodes().filter(e)}getComments(){let e=[];return this.doc.getAllNodes().forEach(i=>{i instanceof G&&i.isComment&&e.push(i)}),e}getMultilineNodes(){let e=[];return this.doc.getAllNodes().forEach(i=>{var r,n;i instanceof G&&!i.isComment&&((r=i.startPosition)==null?void 0:r.line)!=((n=i.endPosition)==null?void 0:n.line)&&e.push(i)}),e}getMultiLineComments(){let e=[];return this.getComments().forEach(i=>{var r,n;((r=i.startPosition)==null?void 0:r.line)!=((n=i.endPosition)==null?void 0:n.line)&&e.push(i)}),e}getAllLiteralNodes(){let e=[];return this.doc.getAllNodes().forEach(i=>{(i instanceof $e||i instanceof ii)&&e.push(i)}),e}getStructuralNodes(){let e=[];return this.doc.getDocumentParser().getRenderNodes().forEach(i=>{i instanceof G?e.push(i):i instanceof et&&i.logicBranches.length>0&&i.logicBranches.forEach(r=>{if(r.head!=null){let n=r.head;n.originalNode!=null?e.push(n.originalNode):e.push(n)}})}),e}getAllRuntimeNodes(){let e=[];return this.doc.getAllNodes().forEach(i=>{(i instanceof zi||i instanceof G)&&i.runtimeNodes.length>0&&i.runtimeNodes.forEach(r=>{e.push(r)})}),e}getAllParameterNodes(){let e=[];return this.doc.getAllNodes().forEach(i=>{(i instanceof zi||i instanceof G)&&i.hasParameters&&i.parameters.forEach(r=>{e.push(r)})}),e}getAssignmentNodes(){return Ct.findAssignmentNodes(this.getAllRuntimeNodes())}};var yp=class{constructor(e){this.doc=e}getAllSelfClosingNodes(){let e=[];return this.doc.getAllNodes().forEach(i=>{i instanceof G&&i.isSelfClosing&&e.push(i)}),e}getAllPairedNodes(){let e=[];return this.doc.getAllNodes().forEach(i=>{(i instanceof G||i instanceof yt)&&i.isClosedBy!=null&&!i.isSelfClosing&&e.push(i)}),e}};var Ru=class{static printCommentLines(e,i,r){let n=e.getContent(),s=n.trim();if(s.includes(`
`)){let a=Y.breakByNewLine(n),o=[];a.forEach(c=>{if(c.trim().length==0){o.push(" ".repeat(i+r)+c.trim());return}let f=c.length-c.trim().length,d=c.trim();(d.startsWith("@desc")||d.startsWith("@set")||d.startsWith("@name"))&&(f=i),o.push(" ".repeat(i+r+f-i)+c.trim())}),o.length>0&&o[o.length-1].trim().length==0&&o.pop();let l=o.join(`
`),u=`{{#
`;return u+=l,u+=`
`+" ".repeat(r)+"#}}",u}return"{{# "+s+" #}}"}static printComment(e,i,r,n){let s=e.getContent(),a=s.trim();if(a.includes(`
`)&&!(a.includes("@desc")||a.includes("@set")||a.includes("@name")))try{let o=a;n!=null&&(o=n(o));let l=Y.breakByNewLine(o),u=[];return l.forEach(c=>{if(c.trim().length==0){u.push(" ".repeat(i+r)+c.trim());return}let f=c.length-c.trim().length;u.push(" ".repeat(i+r+f)+c.trim())}),u.length>0&&u[u.length-1].trim().length==0&&u.pop(),`{{#
`+u.join(`
`)+`
`+" ".repeat(r)+"#}}"}catch{}return this.printCommentLines(e,i,r)}};var ta=class{static indentRelative(e,i){let r=Y.breakByNewLine(e),n=[];for(let o=0;o<r.length;o++)if(r[o].trim().length>0){n=r.slice(o);break}for(let o=n.length-1;o>=0&&n[o].trim().length==0;o--)n.pop();let s=-1,a="";for(let o=0;o<n.length;o++){let l=n[o],u=l.trimLeft(),c=l.length-u.length;(o==0||c<s)&&(s=c,a=l)}if(s>=0){let o=" ".repeat(i);for(let l=0;l<n.length;l++){let u=n[l];if(u.trim().length==0){n[l]="";continue}let c=u.substring(s);if(l==0){n[l]=u.trimLeft();continue}else n[l]=o+c.trimLeft()}}return n.join(`
`)}static shiftIndent(e,i,r=!1,n=4,s=!0){i<0&&(i=0);let a=Y.breakByNewLine(e.trim()),o=[];for(let u=0;u<a.length;u++){if(u==0&&r){o.push(a[u]);continue}let c=a[u];o.push(" ".repeat(i)+c)}let l=o.join(`
`);if(s&&o.length>0&&i-n>n&&o[o.length-1].trim()==") }}"){a=Y.breakByNewLine(l.trim()),o=[];for(let u=0;u<a.length;u++){if(u==0&&r){o.push(a[u]);continue}let c=a[u];if(u==a.length-1){o.push(c);break}o.push(" ".repeat(n)+c)}l=o.join(`
`)}return l}static shiftClean(e,i){let r=Y.breakByNewLine(e),n=[],s=" ".repeat(i),a=!1;return r.forEach(o=>{o.trim().length>0&&(a=!0),a&&n.push(s+o)}),n.join(`
`)}static inferIndentLevel(e,i,r){let n=0,s=-1;for(let a=0;a<e.length;a++){let o=e[a];if(o.includes(i)){let l=o.trimLeft();n=o.length-l.length,s=a;break}}if(s>0)for(let a=s-1;a>=0;a--){let o=e[a],l=o.trim(),u=o.trimLeft(),c=o.length-l.length;if(u.length!=0&&c!=n&&c<n){let f=n-c;return{targetLevel:n,referenceLevel:c,sourceTabSize:f}}}return{targetLevel:n,referenceLevel:n,sourceTabSize:r}}static indent(e,i,r){let n=ta.inferIndentLevel(e,i,r);return" ".repeat(n.targetLevel)}};var Tp=class{constructor(e,i,r){this.buffer="";this.closeString="";this.relativeIndentSize=0;this.indentSeed=0;var n;this.baseIndent=i,e.isInterpolationNode?(this.buffer="{",this.closeString="}"):(this.buffer="{{ ",e.isSelfClosing?this.closeString=" /}}":this.closeString=" }}"),(n=e.pathReference)!=null&&n.isStrictTagReference&&(this.buffer+="%"),r!=null&&r.trim().length>0&&(this.buffer+=r+" ")}setIndentSeed(e){return this.indentSeed=e,this}close(){return this.closeString==" }}"?this.buffer.endsWith(" ")?this.buffer+="}}":this.buffer+=this.closeString:this.buffer+=this.closeString,this}appendT(e){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer+=e,this}appendTS(e,i=!1){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer.endsWith("{")&&!i&&(e=e.trimStart()),this.buffer+=e,this}append(e){return this.buffer+=e,this}appendOS(e){return this.buffer.endsWith(" ")==!1&&this.buffer.endsWith("(")==!1&&this.buffer.endsWith("{")==!1&&this.buffer.endsWith("[")==!1&&this.buffer.endsWith(":")==!1&&(this.buffer+=" "),this.append(e)}appendS(e){let i="";return this.buffer.endsWith(" ")==!1&&(i+=" "),i+=e+" ",this.buffer+=i,this}indent(){let e=this.baseIndent;return e==0?e=1:e+=2,this.relativeIndentSize>0&&(e+=this.relativeIndentSize),this.buffer+=" ".repeat(e),this}addIndent(e){return e<=0?this:(this.buffer+=" ".repeat(e),this)}paramS(e){let i=" ";return e.isVariableReference&&(i+=":"),i+=e.name+"="+e.nameDelimiter+e.value+e.nameDelimiter,this.append(i),this}replace(e,i){return this.buffer=Lt(this.buffer,e,i),this}relativeIndent(e){let i=this.buffer.split(`
`);if(i.length==0)return this;let r=i[i.length-1].trimEnd();return r.endsWith("(")&&(r=r.slice(0,-1)),r.endsWith(e)==!1?this:(this.relativeIndentSize=r.lastIndexOf(e),this)}newlineIndent(){return this.newLine(),this.indent(),this}newlineNDIndent(){return this.buffer=this.buffer.trimEnd(),this.newLine(),this.indent(),this}newLine(){return this.buffer+=`
`,this}getContent(){return this.buffer}endsWith(e){return this.buffer.endsWith(e)}};var vl=class{static prettyPrintNode(e,i,r,n,s,a){var c,f,d,p,m,T,P,_;let o=e.getTrueRuntimeNodes(),l=0,u=0;if(o.length>0){let g=new Tp(e,r,s);a!=null&&g.setIndentSeed(a);let y=null;for(let L=0;L<o.length;L++){let C=o[L];if(y!=null&&(c=C.endPosition)!=null&&c.isBefore(y.startPosition))continue;let B=!1;if(C instanceof $t?!(C.next instanceof $t)&&C.next!=null&&(!qt.isOperatorType(C.next)||!qt.isAssignmentOperator(C.next))&&(!(C.next instanceof mi)&&!(C.next instanceof wt)&&!C.isSwitchGroupMember&&!qt.isOperatorType(C.next)&&(B=!0,C.next instanceof le&&C.next.name=="as"&&(B=!1)),C.next instanceof Ii&&(B=!1)):!((f=C.prev)!=null&&f.isVirtual)&&((d=C.prev)==null?void 0:d.isVirtualGroupOperatorResolve)&&C.prev.producesVirtualStatementTerminator&&C.next!=null&&(C.prev instanceof le||g.newlineIndent()),C instanceof le){if(C.convertedToOperator){if(C.name=="arr")g.appendT(" arr");else if(C.name=="switch"||C.name=="list")if(g.appendTS(" "+C.name,!0),L+1<o.length){if(!(o[L+1]instanceof zt))break;g.append("("),C.name!="list"&&g.relativeIndent(C.name).newLine().indent(),L+=1,y=o[L+1];continue}else break;else if(u+=1,u>1)g.newlineNDIndent().indent().addIndent(6).appendS(C.name);else{if(i.getDocumentParser().getLanguageParser().isMergedVariableComponent(C)){g.append(C.name);continue}g.appendS(C.name)}y=C;continue}C.mergeRefName!=null&&C.mergeRefName.trim().length>0&&C.mergeRefName!=C.name?g.append(C.mergeRefName.trim()):C.name=="as"?g.appendOS("as"):g.append(C.name.trim())}else if(C instanceof yr)if(g.appendTS(" list"),L+1<o.length){if(!(o[L+1]instanceof zt))break;g.append("("),L+=1,y=o[L+1];continue}else break;else if(C instanceof Ii)g.appendS("|");else if(C instanceof wt){if(y!=null&&(p=C.startPosition)!=null&&p.isBefore(y.endPosition)||C.next instanceof le&&C.next.mergeRefName.startsWith(":"))continue;if(i.getDocumentParser().getLanguageParser().isMergedVariableComponent(C)){g.endsWith(":")||g.append(":");continue}if(C.prev!=null&&C.next!=null&&ft.distance(C.prev,C)<=1&&ft.distance(C.next,C)<=1){g.append(":"),y=C;continue}if(i.getDocumentParser().getLanguageParser().isActualModifierSeparator(C)){g.append(":"),y=C;continue}if(y instanceof Mt||y instanceof Xt){g.append(":"),y=C;continue}g.appendS(":")}else if(C instanceof Mt)g.append(C.name);else if(C instanceof Yr)g.appendS("?");else if(C instanceof Ei){if(i.getDocumentParser().getLanguageParser().isMergedVariableComponent(C))continue;if(C.isTenaryBranchSeparator){g.appendS(":"),y=C;continue}if(i.getDocumentParser().getLanguageParser().isActualModifierSeparator(C)){g.append(":"),y=C;continue}g.append(":")}else if(C instanceof Xt)g.append(C.value.trim());else if(C instanceof zt)g.append("(");else if(C instanceof $t)g.append(")");else if(C instanceof Rt){if(i.getDocumentParser().getLanguageParser().isMergedVariableComponent(C))continue;C.sourceContent!=""?g.appendOS(C.sourceContent):g.appendOS(C.sourceTerminator+C.value+C.sourceTerminator)}else if(C instanceof kt)C.isSwitchGroupMember?g.append(",").newlineIndent():g.append(", ");else if(C instanceof Ut){if(y=C,i.getDocumentParser().getLanguageParser().isMergedVariableComponent(C))continue;let w=(T=(m=C.value)==null?void 0:m.toString())!=null?T:"";C.rawLexContent!=null&&C.rawLexContent.trim().length>0&&(w=C.rawLexContent.trim()),g.append(w)}else if(C instanceof Zi)g.appendS("=");else if(C instanceof wi)g.appendS("=>");else if(C instanceof Xi)g.appendS("+");else if(C instanceof Ri){if(i.getDocumentParser().getLanguageParser().isMergedVariableComponent(C)){g.append("-");continue}if(C.prev!=null&&C.next!=null&&ft.distance(C.prev,C)<=1&&ft.distance(C.next,C)<=1){C.next instanceof Ut&&C.prev instanceof Ut?g.appendS("-"):g.append("-"),y=C;continue}g.appendS("-")}else if(C instanceof Ji)g.appendS("*");else if(C instanceof Qi){if(y=C,(P=C.startPosition)!=null&&P.isBefore(e.nameEndsOn)){g.append("/");continue}if(i.getDocumentParser().getLanguageParser().isMergedVariableComponent(C))continue;g.appendS("/");continue}else C instanceof mi?C.isListGroupMember?(g.append(";").newlineIndent().indent().addIndent(7),L+1<o.length&&!(o[L+1]instanceof $t)&&g.indent()):(l+=1,l<n.maxAntlersStatementsPerLine?g.appendT("; "):(g.appendT(";").newlineIndent(),l=0)):C instanceof hi?C.content=="not"?g.appendS("not"):g.append("!"):C instanceof dr&&L==0&&((_=e.pathReference)==null?void 0:_.isStrictTagReference)||g.appendS(C.rawContent());B&&g.newlineIndent(),y=C}e.hasParameters&&e.parameters.forEach(L=>{g.paramS(L)}),g.close();let E=g.getContent();return e.processedInterpolationRegions.size>0&&new Map([...e.processedInterpolationRegions.entries()].sort().reverse()).forEach((C,B)=>{let w=vl.prettyPrintNode(C[0],i,r,n,null,null);E=Lt(E,B,w)}),E}return e.getTrueRawContent()}};var Il=class{constructor(e){this.formatIgnoreStart="format-ignore-start";this.formatIgnoreEnd="format-ignore-end";this.htmlFormatter=null;this.yamlFormatter=null;this.phpFormatter=null;this.slugs=[];this.removeLines=[];this.virtualStructureOpens=[];this.virtualStructureClose=[];this.structureLines=[];this.parentTransformer=null;this.tagPairs=new Map;this.conditions=[];this.inlineIfs=new Map;this.createExraStructuralPairs=!1;this.spanNodes=new Map;this.inlineNodes=new Map;this.virtualBlocks=[];this.inlineComments=new Map;this.blockComments=[];this.extractedEmbeddedDocuments=new Map;this.dynamicElementAntlers=new Map;this.dynamicElementAntlersNodes=new Map;this.dynamicElementPairedAntlers=new Map;this.dynamicElementPairedAntlersNodes=new Map;this.dynamicElementConditionAntlers=new Map;this.dynamicElementConditionAntlersNodes=new Map;this.noParses=new Map;this.forceBreaks=[];this.inlineFormatter=null;this.ignoredLiteralBlocks=new Map;this.activeLiteralSlug="";this.isInsideIgnoreFormatter=!1;this.forceCleanLines=["{{ if ","{{ /if","{{ /unless","{{ /noparse","{{ else","{{ unless"];this.doc=e,this.options={tabSize:4,newlinesAfterFrontMatter:1,maxAntlersStatementsPerLine:3,endNewline:!0}}withInlineFormatter(e){return this.inlineFormatter=e,this}produceExtraStructuralPairs(e){return this.createExraStructuralPairs=e,this}withHtmlFormatter(e){return this.htmlFormatter=e,this}withYamlFormatter(e){return this.yamlFormatter=e,this}withPhpFormatter(e){return this.phpFormatter=e,this}withOptions(e){return this.options=e,this.options.tabSize<=0&&(this.options.tabSize=4),this.options.newlinesAfterFrontMatter<0&&(this.options.newlinesAfterFrontMatter=1),this}setParentTransformer(e){return this.parentTransformer=e,this}close(e){return"</"+e+">"}open(e){return"<"+e+">"}selfClosing(e){return"<"+e+" />"}selfClosingNs(e){return"<"+e+"/>"}pair(e,i=""){return"<"+e+">"+i+"</"+e+">"}makeSlug(e){e<=2&&(e=7);let i="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=r.length;for(let a=0;a<e-1;a++)i+=r.charAt(Math.floor(Math.random()*n));let s="A"+i+"A";return s=s.toLowerCase(),this.slugs.includes(s)?this.makeSlug(e+1):(this.slugs.push(s.toLowerCase()),s.toLowerCase())}transformInlineConditions(e){let i=e;return this.inlineIfs.forEach((r,n)=>{i=i.replace(n,r.nodeContent)}),i}registerCondition(e){this.parentTransformer!=null?this.parentTransformer.registerCondition(e):this.conditions.push(e)}registerInlineCondition(e,i){this.parentTransformer!=null?this.parentTransformer.registerInlineCondition(e,i):this.inlineIfs.set(e,i)}registerVirtualBlock(e){this.parentTransformer!=null?this.parentTransformer.registerVirtualBlock(e):this.virtualBlocks.push(e)}registerNoParse(e,i){this.parentTransformer!=null?this.parentTransformer.registerNoParse(e,i):this.noParses.set(e,i)}prepareNoParse(e){let i=this.makeSlug(35);return this.registerNoParse(i,e),i}registerForcedBreak(){if(this.parentTransformer!=null)return this.parentTransformer.registerForcedBreak();{let e=this.makeSlug(15),i=this.makeSlug(10);return this.forceBreaks.push(e),this.forceBreaks.push(i),this.removeLines.push(this.open(e)),this.removeLines.push(this.close(e)),this.removeLines.push(this.selfClosing(i)),this.pair(e,this.selfClosing(i))}}transformVirtualStructures(e){let i=e;return this.virtualBlocks.forEach(r=>{var s;this.removeLines.push(r.pairClose);let n=this.indentLevel(r.pairOpen);if(r.virtualElement.length>0&&(this.removeLines.push(this.open(r.virtualElement)),this.removeLines.push(this.close(r.virtualElement))),r.node instanceof ii){let a="{{ noparse }}"+r.node.getInnerDocumentText();i=i.replace(r.pairOpen,a)}if(r.node instanceof G){let a=r.node;i=i.replace(r.pairClose,(s=a.isClosedBy)==null?void 0:s.getOriginalContent())}else this.removeLines.push(r.pairClose)}),this.noParses.forEach((r,n)=>{i=i.replace(n,`{{ noparse }}${r.getInnerDocumentText()}{{ /noparse }}`)}),i}printNode(e,i=null){var l,u;let r=e.getTrueNode();if((r.rawStart=="{{?"||r.rawStart=="{{$")&&this.phpFormatter!=null)try{let c=this.phpFormatter(r.content);return`${r.rawStart} ${c} ${r.rawEnd}`}catch{}let n=this.doc;e.childDocument!=null&&(n=e.childDocument.document);let s=null;if(ti.isConditionalStructure(e)&&(s=r.runtimeName(),e.isClosingTag&&(s=="if"||s=="unless")))return`{{ /${s} }}`;if(e.isClosingTag)return r.runtimeName()=="endunless"?"{{ /unless }}":`{{ ${r.sourceContent.trim()} }}`;let a=vl.prettyPrintNode(r,n,0,this.options,s,null),o=["switch","list"];return i!=null&&a.includes(`
`)&&(e.isVirtual&&(((l=e.name)==null?void 0:l.name)=="switch"||((u=e.name)==null?void 0:u.name)=="list")?a=ta.shiftIndent(a,i+this.options.tabSize,!0):a=ta.shiftIndent(a,i-this.options.tabSize*2,!0)),a}transformConditions(e){let i=e;return this.conditions.forEach(r=>{r.structures.forEach(n=>{let s=n.branch.head;if(n.virtualBreakOpen.length>0&&this.removeLines.push(n.virtualBreakOpen),n.virtualBreakClose.length>0&&(i=i.replace(n.virtualBreakClose,n.virtualBreakClose+`
`),this.removeLines.push(n.virtualBreakClose)),this.virtualStructureOpens.push(n.virtualOpen),this.removeLines.push(n.virtualOpen),this.removeLines.push(n.virtualClose),n.isLast){let a=this.selfClosing(n.virtualSlug);if(!i.includes(a)){let o="<"+n.virtualSlug+"(\\s)+\\/>",l=new RegExp(o,"gm");i=i.replace(l,a)}i.includes(a)&&(i=i.replace(a,n.doc.trim())),i=i.replace(n.pairOpen,this.printNode(s,this.indentLevel(n.pairOpen))),i=i.replace(n.pairClose,this.printNode(s.isClosedBy))}else{let a=this.selfClosing(n.virtualSlug);if(!i.includes(a)){let o="<"+n.virtualSlug+"(\\s)+\\/>",l=new RegExp(o,"gm");i=i.replace(l,a)}i.includes(a)&&(i=i.replace(a,n.doc.trim())),this.removeLines.push(n.pairClose),i=i.replace(n.pairOpen,this.printNode(s,this.indentLevel(n.pairOpen)))}})}),i}transformExtractedDocuments(e){let i=e;return this.extractedEmbeddedDocuments.forEach((r,n)=>{let s="",a=0;if(r.isScript?s="//"+n:s="/*"+n+"*/",a=this.indentLevel(s),i.includes(s)){let o="";r.content.includes("{{ /")||r.content.includes("{{/")?o=r.content.trim():o=ta.indentRelative(r.content,a),i=i.replace(s,o)}}),i}getAntlersChildDoc(e){return e.childDocument!=null?e.childDocument.document.transform().setParentTransformer(this).toStructure():this.clone().toStructure(e.getImmediateChildren())}prepareCondition(e){let i=e.logicBranches[0].head;if(i.fragmentPosition==2||i.fragmentPosition==1){let l=this.makeSlug(e.nodeContent.length);return this.registerInlineCondition(l,e),l}if(i.fragmentPosition==0)return this.prepareDynamicCondition(e);let r=[],n="";i.prev instanceof G&&i.prev.isInlineAntlers&&(n+=this.registerForcedBreak()),e.logicBranches.forEach((l,u)=>{var T,P,_,g;let c=l.head,f=this.getAntlersChildDoc(l),d=this.makeSlug(c.sourceContent.length),p=this.makeSlug(10),m={branch:l,slug:d,doc:f,pairOpen:this.open(d),pairClose:this.close(d),virtualOpen:this.open(p),virtualClose:this.close(p),virtualSlug:p,isFirst:u==0,isLast:u==e.logicBranches.length-1,virtualBreakClose:"",virtualBreakOpen:""};if(((P=(T=l.head)==null?void 0:T.name)==null?void 0:P.getCompoundTagName())=="else"){n+=`
`+m.pairOpen;let y=this.makeSlug(25);this.createExraStructuralPairs&&l.head.containsChildStructures==!1&&l.head.containsAnyFragments==!1?(m.virtualBreakOpen=this.open(y),m.virtualBreakClose=this.close(y),m.virtualSlug=y,n+=`
`+this.selfClosing(y),n+=m.pairClose+`
`):(m.virtualBreakOpen=this.selfClosing(y),n+=m.virtualBreakOpen+`
`,n+=f,n+=`
`+m.pairClose)}else if(this.createExraStructuralPairs&&((_=l.head)==null?void 0:_.containsAnyFragments)==!1&&((g=l.head)==null?void 0:g.containsChildStructures)==!1){let y=this.makeSlug(25);m.virtualBreakOpen=this.open(y),m.virtualBreakClose=this.close(y),m.virtualSlug=y,n+=`
`+m.pairOpen,n+=`
`+this.selfClosing(y),n+=m.pairClose+`
`}else n+=m.pairOpen,n+=`
`,n+=f,n+=`
`,n+=m.pairClose;r.push(m)});let s=r[0].pairOpen,a=r[r.length-1].pairClose,o={pairOpen:s,pairClose:a,structures:r,condition:e};return this.registerCondition(o),n}registerPairedAntlers(e,i){this.parentTransformer!=null?this.parentTransformer.registerPairedAntlers(e,i):this.tagPairs.set(e,i)}preparePairedAntlers(e){let i=this.makeSlug(e.getOriginalContent().length),r=this.getAntlersChildDoc(e);if(e.fragmentPosition!=0){let n="",s="";if(e.prev instanceof G&&e.prev.isPaired()==!1&&(s+=this.registerForcedBreak()),s+=`${this.open(i)}
`,e.containsChildStructures==!1&&e.containsAnyFragments==!1){let a=!1,o=!0,l=!0,u=0;for(let f=0;f<e.children.length;f++){let d=e.children[f];if(d instanceof $e&&d.sourceContent.trim().length>0){a=!0,o=!1;break}}e.children.length==2&&e.children[0]instanceof G&&(a=!0);let c=0;for(let f=0;f<e.children.length-1;f++){let d=e.children[f];d instanceof G&&(u+=1,d.isInlineAntlers?c+=1:l=!1)}c==0&&(a=!0),l==!1&&(a=!1),o==!1&&u==0&&(a=!1),a?(n=this.makeSlug(15),s+=this.pair(n,r)):s+=r}else s+=r;return s+=`
${this.close(i)}
`,this.virtualStructureOpens.push(this.open(n)),this.virtualStructureClose.push(this.close(n)),this.virtualStructureClose.push(this.close(i)),this.registerPairedAntlers(i,{innerDoc:r,slug:i,tag:e,virtualElementSlug:n,isInline:!1}),s}return this.prepareConditionalAntlersPair(e)}registerInlineAntlers(e){if((e.fragmentPosition==2||e.fragmentPosition==1)&&(e.isInlineAntlers=!0),this.parentTransformer!=null)return this.parentTransformer.registerInlineAntlers(e);{let i=this.makeSlug(e.getOriginalContent().length);return e.isInlineAntlers?(this.spanNodes.set(i,e),i):(this.inlineNodes.set(i,e),this.selfClosing(i))}}registerVirtualComment(e){this.parentTransformer!=null?this.parentTransformer.registerVirtualComment(e):this.blockComments.push(e)}registerComment(e,i){this.parentTransformer!=null?this.parentTransformer.registerComment(e,i):this.inlineComments.set(e,i)}prepareComment(e){let i=e.getContent();if(i.trim().includes(`
`)){let s=this.makeSlug(10),a=this.makeSlug(10),o={node:e,pairOpen:this.open(s),pairClose:this.close(s),virtualElement:this.selfClosing(a)};return this.registerVirtualComment(o),o.pairOpen+`
`+o.virtualElement+`
`+o.pairClose}let n=this.makeSlug(i.length);return this.registerComment(n,e),this.selfClosing(n)}registerDynamicAntlersPair(e,i){this.parentTransformer!=null?(this.dynamicElementPairedAntlers.set(i.nodeContent,e),this.parentTransformer.registerDynamicAntlersPair(e,i)):(this.dynamicElementPairedAntlers.set(i.nodeContent,e),this.dynamicElementPairedAntlersNodes.set(e,i))}prepareConditionalAntlersPair(e){if(this.dynamicElementPairedAntlers.has(e.nodeContent))return this.dynamicElementPairedAntlers.get(e.nodeContent);let i=this.makeSlug(e.nodeContent.length);return this.registerDynamicAntlersPair(i,e),i}registerDynamicCondition(e,i){this.parentTransformer!=null?(this.dynamicElementConditionAntlers.set(i.nodeContent,e),this.parentTransformer.registerDynamicCondition(e,i)):(this.dynamicElementConditionAntlers.set(i.nodeContent,e),this.dynamicElementConditionAntlersNodes.set(e,i))}prepareDynamicCondition(e){if(this.dynamicElementConditionAntlers.has(e.nodeContent))return this.dynamicElementConditionAntlers.get(e.nodeContent);let i=this.makeSlug(e.nodeContent.length);return this.registerDynamicCondition(i,e),i}registerDynamicAntlers(e,i){this.parentTransformer!=null?(this.dynamicElementAntlers.set(i.content,e),this.parentTransformer.registerDynamicAntlers(e,i)):(this.dynamicElementAntlers.set(i.content,e),this.dynamicElementAntlersNodes.set(e,i))}prepareConditionalAntlers(e){if(this.dynamicElementAntlers.has(e.content))return this.dynamicElementAntlers.get(e.content);let i=this.makeSlug(e.content.length);return this.registerDynamicAntlers(i,e),i}prepareAntlers(e){return e.isClosedBy!=null?this.preparePairedAntlers(e):e.fragmentPosition==0?this.prepareConditionalAntlers(e):this.registerInlineAntlers(e)}transformDynamicAntlers(e){let i=e;return this.dynamicElementAntlersNodes.forEach((r,n)=>{let s=this.printNode(r);i=Lt(i,n,s)}),this.dynamicElementPairedAntlersNodes.forEach((r,n)=>{let s=r.nodeContent;i=Lt(i,n,s)}),this.dynamicElementConditionAntlersNodes.forEach((r,n)=>{let s=r.nodeContent;i=Lt(i,n,s)}),i}transformPairedAntlers(e){let i=e;return this.tagPairs.forEach((r,n)=>{let s=r.tag;if(r.virtualElementSlug.length>0){let l=this.open(r.virtualElementSlug),u=this.close(r.virtualElementSlug);this.virtualStructureOpens.push(l),this.removeLines.push(l),this.removeLines.push(u)}let a=this.open(n),o=this.close(n);i=i.replace(a,this.printNode(s,this.indentLevel(a))),i=i.replace(o,this.printNode(s.isClosedBy))}),i}transformInlineAntlers(e){let i=e;return this.inlineNodes.forEach((r,n)=>{let s=this.selfClosing(n),a=this.selfClosingNs(n),o=this.printNode(r,this.indentLevel(s));i=i.replace(s,o),i=i.replace(a,o)}),this.spanNodes.forEach((r,n)=>{var l,u;let s=0;r.isVirtual&&(((l=r.name)==null?void 0:l.name)=="switch"||((u=r.name)==null?void 0:u.name)=="list")&&(s=this.indentLevel(n,!0));let a=this.printNode(r,s),o=this.selfClosingNs(n);i=i.replace(n,a),i=i.replace(o,a)}),i}transformComments(e){let i=e;return this.inlineComments.forEach((r,n)=>{let s=this.selfClosing(n);i=i.replace(s,Ru.printComment(r,this.options.tabSize,0,this.inlineFormatter))}),this.blockComments.forEach(r=>{let n=r.node;i=i.replace(r.pairOpen,Ru.printComment(n,this.options.tabSize,this.indentLevel(r.pairOpen),this.inlineFormatter)),this.removeLines.push(r.pairClose),this.removeLines.push(r.virtualElement)}),i}registerEmbeddedDocument(e,i,r){return this.parentTransformer!=null?this.parentTransformer.registerEmbeddedDocument(e,i,r):(this.extractedEmbeddedDocuments.set(e,{slug:e,content:i,isScript:r}),e)}clone(){let e=new Il(this.doc);return e.withOptions(this.options).setParentTransformer(this),e}toStructure(e=null){let i="";e==null&&(e=this.doc.getDocumentParser().getRenderNodes()),e.forEach(n=>{var s,a;if(this.isInsideIgnoreFormatter){if((s=this.ignoredLiteralBlocks.get(this.activeLiteralSlug))==null||s.push(n),n instanceof G&&n.isComment&&n.content.trim().toLowerCase()==this.formatIgnoreEnd){this.isInsideIgnoreFormatter=!1;return}return}n instanceof $e?n.sourceContent==""?i+=n.content:i+=n.sourceContent:n instanceof et?i+=this.prepareCondition(n):n instanceof ii?i+=this.prepareNoParse(n):n instanceof G&&(n.isComment?n.content.trim()==this.formatIgnoreStart?(this.isInsideIgnoreFormatter=!0,this.activeLiteralSlug=this.makeSlug(16),this.ignoredLiteralBlocks.set(this.activeLiteralSlug,[]),(a=this.ignoredLiteralBlocks.get(this.activeLiteralSlug))==null||a.push(n),i+=this.selfClosing(this.activeLiteralSlug)):i+=this.prepareComment(n):i+=this.prepareAntlers(n))});let r=this.doc.getDocumentParser().getFragmentsContainingStructures();if(r.length>0){let n=new Nt;n.loadString(i),r.forEach(s=>{var p,m,T,P,_,g,y,E;let a=this.doc.getDocumentParser().getText(((m=(p=s.start.endPosition)==null?void 0:p.offset)!=null?m:0)+1,(P=(T=s.end.startPosition)==null?void 0:T.offset)!=null?P:0),o=n.getDocumentParser().getFragmentsParser().getEmbeddedFragment(s.start.embeddedIndex);if(o==null)return;let l=n.getDocumentParser().getFragmentsParser().getClosingFragmentAfter(o);if(l==null)return;let u=n.getDocumentParser().getText(((g=(_=o.endPosition)==null?void 0:_.offset)!=null?g:0)+1,(E=(y=l==null?void 0:l.startPosition)==null?void 0:y.offset)!=null?E:0),c=this.makeSlug(16),f=s.start.name.toLowerCase()=="script",d=c;f?d="//"+c:d="/*"+c+"*/",i=i.replace(u,d),this.registerEmbeddedDocument(c,a,f)})}return i}removeVirtualStructures(e){let i=e;return this.removeLines.forEach(r=>{i=i.replace(r,"")}),i}indentLevel(e,i=!1){for(let r=0;r<this.structureLines.length;r++){let n=this.structureLines[r];if(n.includes(e)){let s=n.trimLeft(),a=n.length-s.length;return i&&(a+=n.indexOf(e)),a}}return 0}shouldCleanAfter(e){for(let i=0;i<this.removeLines.length;i++)if(e.startsWith(this.removeLines[i]))return!0;for(let i=0;i<this.forceCleanLines.length;i++)if(e.startsWith(this.forceCleanLines[i]))return!0;return!1}shouldCleanLine(e){for(let i=0;i<this.forceCleanLines.length;i++){let r=e.trim();if(e.startsWith(this.forceCleanLines[i])||r.startsWith("{{ /")&&r.endsWith("}}"))return!0}return!1}cleanVirtualStructures(e){let i=[],r=Y.breakByNewLine(e),n=!1;for(let s=0;s<r.length;s++){let a=r[s].trim();if(n){if(a.length==0)continue;n=!1}else n=this.shouldCleanAfter(a);if(this.shouldCleanLine(a))for(let o=i.length-1;o>0&&i[o].trim().length==0;o--)i.pop();if(!this.removeLines.includes(a)){let o=r[s];this.removeLines.forEach(l=>{o.includes(l)&&(o=o.replace(l,""))}),i.push(o)}}return i.join(`
`)}cleanStructuralNewLines(e){let i=Y.breakByNewLine(e),r=[],n=!1;return i.forEach(s=>{let a=s.trim();if(a.startsWith("{{")&&a.endsWith("}}")){r.push(s),n=!0;return}n&&a.length>0&&(n=!1),n||r.push(s)}),r.join(`
`)}reflowSlugs(e){let i=e;return this.slugs.forEach(r=>{let n=this.open(r),s=this.close(r),a=this.selfClosing(r),o="/<"+r+"(.*?)>/gms",l="/</"+r+"(.*?)>/gms",u="/<"+r+"(.*?)/>/gms";i=i.replace(o,n),i=i.replace(l,s),i=i.replace(u,a)}),i}cleanLines(e){let i=Y.breakByNewLine(e),r=[],n=!1,s=0,a=!1,o=!1;for(let l=0;l<i.length;l++){let u=i[l].trim(),c=i[l];if(u.startsWith("{{")){u.endsWith("}}")?o=!1:o=!0,u.startsWith("{{#")&&(o=!1),n&&(s=0),u.startsWith("{{ /")==!1?a=!0:a=!1,n=!0,r.push(c);continue}if(!n)r.push(c);else{if(o){r.push(c),c.trim().endsWith("}}")&&(o=!1);continue}if(u.length==0){if(a==!1){s=0,n=!1;continue}s+=1;continue}else a&&s>1&&r.push(""),s=0,r.push(c),n=!1}}return r.join(`
`)}fromStructure(e){let i=this.reflowSlugs(e);this.structureLines=Y.breakByNewLine(i);let r=this.transformInlineConditions(i);if(r=this.transformConditions(r),r=this.transformInlineAntlers(r),r=this.transformComments(r),r=this.transformVirtualStructures(r),r=this.transformDynamicAntlers(r),r=this.transformPairedAntlers(r),r=this.transformExtractedDocuments(r),r=this.cleanVirtualStructures(r),r=this.cleanLines(r),this.doc.hasFrontMatter()){let n=this.doc.getFrontMatter(),s=this.doc.getFrontMatterDoc();s!=null&&s.isValid&&this.yamlFormatter!=null&&(n=this.yamlFormatter(n)),r=`---
${n}
---
`+`
`.repeat(this.options.newlinesAfterFrontMatter)+r.trimLeft()}return r=r.trimRight(),this.ignoredLiteralBlocks.forEach((n,s)=>{let a=this.selfClosing(s),o=this.indentLevel(a);r=r.replace(a,this.dumpPreservedNodes(n,o))}),this.options.endNewline&&(r+=`
`),r}dumpPreservedNodes(e,i){let r="";return e.forEach(n=>{if(n instanceof $e)r+=n.sourceContent;else if(n instanceof et)r+=n.nodeContent;else if(n instanceof ii)r+=n.documentText;else if(n instanceof G){if(n.isComment){if(n.content.trim().toLowerCase()==this.formatIgnoreEnd){let s=r.split(`
`);s.length>0&&s[s.length-1].trim().length==0&&(s.pop(),s.push(""),r=s.join(`
`)),r+=" ".repeat(i)+"{{#"+n.content+"#}}"}else r+="{{#"+n.content+"#}}";return}n.isPaired()?r+=n.nodeContent:r+="{{"+n.content+"}}"}}),r}};var FN=ee(bn());var bp=class{constructor(){this.content="";this.ranges=[];this.lastDocumentOffsetKey=null;this.documentOffsets=new Map;this.lineIndex=new Map;this.keys=[];this.values=[];this.isValid=!1;this.parseError=null}loadString(e){var c;this.content=Y.normalizeLineEndings(e);let i=null;try{i=FN.parseDocument(this.content),this.isValid=!0}catch(f){this.isValid=!1,this.parseError=f}if(i==null)return;let r=[...this.content.matchAll(/(\n)/gm)],n=r.length,s=2,a=null,o=0,l=0;for(let f=0;f<n;f++){let d=r[f],p=(c=d.index)!=null?c:0,m=p;a!=null?m=p-a:m=m+1,this.documentOffsets.set(p,{char:m,line:s});let T=0,P=0;f==0?(P=m-1,T=0):(T=l+1,P=p),this.lineIndex.set(s,{char:m,line:s,startIndex:T,endIndex:P}),this.lastDocumentOffsetKey=p,s+=1,a=p,l=P,o=T}let u=i.contents;this.processMap(u)}processMap(e){typeof e.items!="undefined"&&e.items.forEach(i=>{this.processItem(i)})}processItem(e){if(e.type=="PAIR"){if(e.value instanceof Cu||e.value instanceof bl){let s=e.key;if(s.range!=null){let a=this.positionFromOffset(s.range[0],s.range[0]),o=this.positionFromOffset(s.range[1],s.range[1]);this.ranges.push({start:a,end:o,length:o.char-a.char+1,content:"property"}),this.keys.push({start:a,end:o,length:o.char-a.char+1,content:s.value}),e.value instanceof bl?this.processMap(e.value.items[0]):this.processMap(e.value);return}}let i=e,r=i.key,n=i.value;if(r.range!=null&&n.range!=null){let s=this.positionFromOffset(r.range[0],r.range[0]),a=this.positionFromOffset(r.range[1],r.range[1]),o=this.positionFromOffset(n.range[0],n.range[0]),l=this.positionFromOffset(n.range[1],n.range[1]),u="string";parseInt(n.value)==n.value&&(u="number"),this.ranges.push({start:s,end:a,length:a.char-s.char+1,content:"property"}),this.keys.push({start:s,end:a,length:a.char-s.char+1,content:r.value}),this.ranges.push({start:o,end:l,length:l.char-o.char+1,content:u}),this.values.push({start:o,end:l,length:l.char-o.char+1,content:n.value})}}}positionFromOffset(e,i,r=!1){let n=0,s=0;if(this.documentOffsets.has(e)){let o=this.documentOffsets.get(e);n=o.line,s=o.char}else if(this.documentOffsets.size==0)n=1,s=e+1;else{let o=null,l=null,u=null,c=null;for(let f of this.documentOffsets.keys()){if(f>=e){c!=null&&e>c?(o=u,l=c):(o=this.documentOffsets.get(f),l=f);break}u=this.documentOffsets.get(f),c=f}if(o==null&&(o=u,l=c),o!=null)if(r){let f=this.content.split(""),d=e-(l!=null?l:0),p=o.char-(l!=null?l:0)+e;s=d,n=o.line,e<=(l!=null?l:0)?(n=o.line,s=e+1):n=o.line+1}else{let f=this.content.split(""),d=e-(l!=null?l:0),p=o.char-(l!=null?l:0)+e;s=d,n=o.line,e<=(l!=null?l:0)?(n=o.line,s=e+1):n=o.line+1}else this.lastDocumentOffsetKey!=null&&(n=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new Kt;return a.index=i,a.offset=e,a.line=n,a.char=s,a}getRanges(){return this.ranges}getKeys(){return this.keys}getValues(){return this.values}};var Nt=class{constructor(){this.documentParser=new D;this.transformer=null;this.originalText="";this.ranges=new yp(this);this.nodes=new _p(this);this.cursor=new Qd(this);this.errors=new Jd(this);this.project=null;this.documentUri=""}static fromText(e,i){let r=new Nt;return typeof i!="undefined"&&(r.project=i),r.loadString(e)}static childFromText(e,i=null){let r=new Nt;return i!=null&&r.getDocumentParser().setSeedPosition(i),r.getDocumentParser().withChildDocuments(!0),r.loadString(e),{renderNodes:r.getDocumentParser().getRenderNodes(),content:e,document:r}}isValid(){return!(this.hasInvalidControlFlowStructures()||this.hasUnclosedStructures())}getDocumentOptions(){let e=this.getAllNodes();if(e.length==0||!(e[0]instanceof G))return null;let i=e[0];return i.isComment==!1?null:nu(this.documentUri,i)}isFormattingEnabled(){let e=this.getDocumentOptions();return e==null?!0:e.formatterEnabled}hasInvalidControlFlowStructures(){return this.documentParser.hasUnclosedIfStructures()}hasUnclosedStructures(){return this.documentParser.hasUnclosedStructures()}getFrontMatterDoc(){if(this.hasFrontMatter()){let e=new bp;return e.loadString(this.getFrontMatter()),e}return null}hasFrontMatter(){return this.documentParser.getFrontMatter().trim().length>0}getFrontMatter(){return this.documentParser.getFrontMatter()}getFrontMatterScope(){if(this.project==null)return null;let e=new gp(this.project);return e.parse(this.getFrontMatter()),e.getScope()}updateProject(e){this.project=e,this.updateProjectDetails()}updateProjectDetails(){try{if(this.project!=null){let e=new Vd(this.project,this.documentUri,this),i=this.documentParser.antlersNodes();i.forEach(r=>{var n,s;if(this.project!=null&&((n=Fe.instance)==null?void 0:n.canResolveSpecialTypes(r.getTagName()))){let a=(s=Fe.instance)==null?void 0:s.resolveSpecialType(r.getTagName(),r,this.project);a.context!=null&&(r.reference=a.context)}}),e.analyzeScope(i);for(let r=0;r<i.length;r++){let n=i[r];if(n.hasParameters)for(let s=0;s<n.parameters.length;s++){let a=n.parameters[s];if(a.hasInterpolations())for(let o=0;o<a.interpolations.length;o++){let l=a.interpolations[o];n.processedInterpolationRegions.has(l)&&n.processedInterpolationRegions.get(l).forEach(c=>{c instanceof G&&(c.currentScope=n.currentScope)})}}}Bv(this)}}catch(e){console.log(e)}}loadString(e){return this.originalText=e,this.documentParser.parse(e),this.updateProjectDetails(),this}getDocumentParser(){return this.documentParser}getParsedContent(){return this.documentParser.getParsedContent()}getAllNodes(){return this.documentParser.getNodes()}getAllAntlersNodes(){return this.documentParser.antlersNodes()}extractText(){let e=[];return this.nodes.getAllLiteralNodes().forEach(i=>{e.push(i.content)}),e.join("")}getNameAt(e){let i=this.nodes.getNodeAt(e);return i instanceof G?i.name:null}getLinesAround(e){return this.documentParser.getLinesAround(e)}getContent(){return this.documentParser.getContent()}getOriginalContent(){return this.documentParser.getOriginalContent()}reloadDocument(){this.loadString(this.originalText)}getFeaturesAt(e){let i=this.nodes.getNodeAt(e);return qn.resolveContext(e,i,this,!1,i)}getText(e,i){return this.documentParser.getText(e,i)}charLeftAt(e){return this.documentParser.charLeftAt(e)}charAt(e){return this.documentParser.charAt(e)}charRightAt(e){return this.documentParser.charRightAt(e)}getLineIndex(e){return this.documentParser.getLineIndex(e)}getLineText(e){return this.documentParser.getLineText(e)}wordAt(e,i=4){return this.documentParser.wordAt(e,i)}wordLeftAt(e,i=4){return this.documentParser.wordLeftAt(e,i)}wordRightAt(e,i=4){return this.documentParser.wordRightAt(e,i)}punctuationLeftAt(e,i=4){return this.documentParser.punctuationLeftAt(e,i)}punctuationRightAt(e,i=4){return this.documentParser.punctuationRightAt(e,i)}getLineChars(e){let i=this.getLineText(e);return i!=null?i.split(""):null}transform(){return this.transformer==null&&(this.transformer=new Il(this)),this.transformer}};var ia=class{constructor(){this.loadedDocuments=new Map;this.activeProject=null}getDocuments(){let e=[];return this.loadedDocuments.forEach(i=>{e.push(i)}),e}setProject(e){this.activeProject=e,this.loadedDocuments.forEach(i=>{this.activeProject!=null&&i.updateProject(this.activeProject)})}refreshDocumentState(){this.activeProject!=null&&this.setProject(this.activeProject)}hasDocument(e){return this.loadedDocuments.has(e)}createDocument(e){if(!this.loadedDocuments.has(e)){let i=new Nt;i.documentUri=e,this.loadedDocuments.set(e,i)}}loadDocument(e,i){this.loadedDocuments.set(e,Nt.fromText(i))}getDocument(e){return this.loadedDocuments.get(e)}updateDocument(e,i){var r,n;if(this.loadedDocuments.has(e)){let s=this.loadedDocuments.get(e);s.loadString(i);let a=(n=(r=fe.instance)==null?void 0:r.getStructure())==null?void 0:n.findView(e);a!=null&&(a.document=s)}}createOrUpdate(e,i){this.createDocument(e),this.updateDocument(e,i)}getDocumentErrors(e){return this.loadedDocuments.has(e)?this.loadedDocuments.get(e).errors.all():[]}};ia.instance=null;(typeof ia.instance=="undefined"||ia.instance==null)&&(ia.instance=new ia);var ON=ia;var vn=new Map,Re=new ON;function LN(t,e){let i=[];return t.processedInterpolationRegions.size>0&&t.processedInterpolationRegions.forEach((r,n)=>{var s;for(let a=0;a<r.length;a++){let o=r[a];if(o instanceof G&&e.isWithin(o.startPosition,o.endPosition)){o.currentScope==null&&(((s=t.parent)==null?void 0:s.currentScope)!=null?o.currentScope=t.parent.currentScope:o.currentScope=t.currentScope),i.push(o),o.processedInterpolationRegions.size>0&&(i=i.concat(LN(o,e)));break}}}),i}function ir(t,e,i=!0){var d,p,m,T,P,_,g,y,E,L,C;if(!Re.hasDocument(e)||fe.instance==null||fe.instance.hasStructure()==!1)return null;let r=Re.getDocument(e),n=t.line+1,s=t.character+1,a=r.cursor.getFeaturesAt(n,s),o=r.cursor.position(n,s),l=fe.instance.getStructure(),u=r.cursor.getAncestorsAt(n,s);if(o!=null&&u.length>0){let B=u[u.length-1];LN(B,o).forEach(w=>{u.push(w)})}let c=(a==null?void 0:a.isCursorInIdentifier)==!1;return c==!1&&((d=a==null?void 0:a.leftChar)!=null?d:"")==" "&&(c=!0),{hasFrontMatter:r.hasFrontMatter(),antlersDocument:r,frontMatterEndsOn:r.getDocumentParser().getFrontMatterEndLine(),document:e,leftMeaningfulWord:(p=a==null?void 0:a.leftWord)!=null?p:null,leftChar:(m=a==null?void 0:a.leftChar)!=null?m:"",leftWord:(P=(T=a==null?void 0:a.leftWord)==null?void 0:T.trim())!=null?P:"",originalLeftWord:(_=a==null?void 0:a.leftWord)!=null?_:"",rightWord:(g=a==null?void 0:a.rightWord)!=null?g:"",rightChar:(y=a==null?void 0:a.rightChar)!=null?y:"",context:a,position:t,project:l,nodesInScope:u,isInDoubleBraces:((E=a==null?void 0:a.node)==null?void 0:E.rawStart)=="{{",isInVariableInterpolation:(L=a==null?void 0:a.interpolatedContext)!=null?L:!1,interpolationStartsOn:null,currentNode:(C=a==null?void 0:a.node)!=null?C:null,isCaretInTag:(a==null?void 0:a.node)!=null,isPastTagPart:c,showGeneralSnippets:i}}var Pl=ee(pi());var ek=`{{ collection:$1 $2 }}

{{ /collection:$1 }}`,kN=ek;var tk='&copy; {{ now format="Y"  }}',MN=tk;var ik=`{{ form:set in="$1" }}

{{ if {form:errors} }}
	{{ form:errors }}

	{{ /form:errors }}
{{ /if }}

{{ if {form:success} }}

{{ /if }}

{{ form:create }}
	$2
{{ /form:create }}

{{ /form:set }}`,qN=ik;var VN=`{{# Displays your site's current locale. #}}
<span>{{ site:short_locale }}</span>

{{# Displays all available locales. #}}
<ul>
    {{ locales all="true" self="false" }}
    <li>
        <a href="{{ permalink }}" aria-label="{{ locale:name }}">{{ locale:short }}</a>
    </li>    
    {{ /locales }}
</ul>`;var rk=`<ul>
{{ nav }}
	{{ if depth == 1 }}
		$1
		{{ if children }}
			<ul>{{ *recursive children* }}</ul>
		{{ /if }}
	{{ elseif depth == 2 }}
		
	{{ /if }}
{{ /nav }}
</ul>`,BN=rk;function Au(t,e,i,r){return{label:t,detail:e,insertTextFormat:Pl.InsertTextFormat.Snippet,kind:Pl.CompletionItemKind.Snippet,textEdit:Pl.TextEdit.replace(r,i),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}}function nk(t){var l,u,c,f,d;let e=[];if(t.showGeneralSnippets==!1)return e;let i={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position},r=(l=rr.instance)==null?void 0:l.getContent("collection"),n=(u=rr.instance)==null?void 0:u.getContent("formset"),s=(c=rr.instance)==null?void 0:c.getContent("nav_depth2"),a=(f=rr.instance)==null?void 0:f.getContent("copyright_year"),o=(d=rr.instance)==null?void 0:d.getContent("multisite_lang_generic");return r!=null&&e.push(Au("coll","Statamic Collection",r,i)),n!=null&&e.push(Au("formset","Statamic Form Set",n,i)),s!=null&&e.push(Au("nav-depth2","Statamic Nav with Depth Two",s,i)),a!=null&&e.push(Au("copyright_year","Copyright year using Antlers tags.",a,i)),o!=null&&e.push(Au("multisite_locales","Displays the current locale, and a list of all available locales.",o,i)),e}var rr=class{constructor(){this.registeredSnippets=new Map}loadCoreSnippets(){this.registeredSnippets.set("collection",kN),this.registeredSnippets.set("formset",qN),this.registeredSnippets.set("nav_depth2",BN),this.registeredSnippets.set("copyright_year",MN),this.registeredSnippets.set("multisite_lang_generic",VN)}getContent(e){return this.registeredSnippets.has(e)?this.registeredSnippets.get(e):""}getSnippets(e){let i=[];return e==null||(i=i.concat(nk(e))),i}};rr.instance=null;(typeof rr.instance=="undefined"||rr.instance==null)&&(rr.instance=new rr,rr.instance.loadCoreSnippets());var jN=rr;var UN=new Map;function GN(t){var a,o,l;if(((a=fe.instance)==null?void 0:a.hasStructure())==!1)return[];Re.refreshDocumentState();let e=decodeURIComponent(t.textDocument.uri);if(Re.hasDocument(e)==!1)return[];let i=ir(t.position,e,za.showGeneralSnippetCompletions);if(i==null)return[];if(i.hasFrontMatter&&i.frontMatterEndsOn>-1&&i.position.line<i.frontMatterEndsOn)return[];let r=(l=(o=jN.instance)==null?void 0:o.getSnippets(i))!=null?l:[],n=Hf.getSuggestions(i);r.length>0&&(i.isInDoubleBraces==!1||i.nodesInScope.length==0)&&(n=n.concat(r));let s=[];return n.filter(u=>s.includes(u.label)?!1:(s.push(u.label),!0))}function WN(t){if(UN.has(t.data)){let e=UN.get(t.data);e!=null&&(t.detail=e.detail,t.documentation=e.docs)}return t}var Eu=ee(Rh());var u_=ee(_t());function Xa(t){let e=[];return t.forEach(i=>{let r=null;i.lsRange!=null?r=i.lsRange:i.node!=null?r=Qa(i.node):i.range!=null?r={start:Tt(i.range.start),end:Tt(i.range.end)}:r={start:{line:1,character:1},end:{line:1,character:1}};let n=1;i.level==1&&(n=2),e.push({severity:n,range:r,message:"["+i.errorCode+"] "+i.message,source:"antlers",code:i.errorCode})}),e}function Tt(t){return t==null?{character:0,line:0}:{character:t.char,line:t.line-1}}function Qa(t){var e,i,r,n,s,a,o,l;if(t instanceof As){let u=Tt((n=(r=(e=t.valuePosition)==null?void 0:e.end)!=null?r:(i=t.blockPosition)==null?void 0:i.end)!=null?n:t.endPosition);return t.namePosition!=null&&t.namePosition.start!=null?{start:{line:t.namePosition.start.line-1,character:t.namePosition.start.char-1},end:{character:u.character-1,line:u.line}}:{start:Tt((l=(o=(s=t.namePosition)==null?void 0:s.start)!=null?o:(a=t.blockPosition)==null?void 0:a.start)!=null?l:t.startPosition),end:{character:u.character+1,line:u.line}}}else if(t instanceof et&&t.logicBranches.length>0){let u=t.logicBranches[0],c=t.logicBranches[t.logicBranches.length-1];if(u.head!=null&&c.head!=null&&c.head.isClosedBy!=null)return{start:Tt(u.head.startPosition),end:Tt(c.head.isClosedBy.endPosition)}}return{start:Tt(t.startPosition),end:Tt(t.endPosition)}}function HN(t){if(t.isClosedBy==null)return null;let e=-1,i=-1,r=-1,n=-1;return t.startPosition!=null&&(e=t.startPosition.line-1,i=t.startPosition.char),t.isClosedBy.endPosition!=null?(r=t.isClosedBy.endPosition.char,n=t.isClosedBy.endPosition.line-1):t.isClosedBy.startPosition!=null&&(r=t.isClosedBy.startPosition.char,n=t.isClosedBy.startPosition.line-1),e==-1||n==-1||i==-1||r==-1?null:{kind:u_.FoldingRangeKind.Region,startLine:e,endLine:n,startCharacter:i,endCharacter:r}}function c_(t){let e=-1,i=-1,r=-1,n=-1;return t.startPosition!=null&&(e=t.startPosition.line-1,i=t.startPosition.char),t.endPosition!=null&&(r=t.endPosition.char,n=t.endPosition.line-1),e==-1||i==-1||r==-1||n==-1?null:{kind:u_.FoldingRangeKind.Comment,startLine:e,endLine:n,startCharacter:i,endCharacter:r}}function YN(t){let e=decodeURIComponent(t.textDocument.uri);if(Re.hasDocument(e)){let i=Re.getDocument(e),r=i.ranges.getAllPairedNodes(),n=i.nodes.getMultiLineComments(),s=i.nodes.getMultilineNodes(),a=[];if(i.hasFrontMatter()){let o=i.getDocumentParser().getFrontMatterEndLine();a.push({startLine:0,endLine:o-1,kind:Eu.FoldingRangeKind.Imports})}return r.length>0&&r.forEach(o=>{var u,c,f;if(((u=o.startPosition)==null?void 0:u.line)==((f=(c=o.isClosedBy)==null?void 0:c.startPosition)==null?void 0:f.line))return;let l=HN(o);l!=null&&(l.kind=Eu.FoldingRangeKind.Region,a.push(l))}),n.length>0&&n.forEach(o=>{let l=c_(o);l!=null&&(l.kind=Eu.FoldingRangeKind.Comment,a.push(l))}),s.length>0&&s.forEach(o=>{if(o.isClosedBy!=null)return;let l=c_(o);l!=null&&(l.kind=Eu.FoldingRangeKind.Region,a.push(l))}),a}return[]}function lS(t){return typeof t>"u"||t===null}function sk(t){return typeof t=="object"&&t!==null}function ak(t){return Array.isArray(t)?t:lS(t)?[]:[t]}function ok(t,e){var i,r,n,s;if(e)for(s=Object.keys(e),i=0,r=s.length;i<r;i+=1)n=s[i],t[n]=e[n];return t}function lk(t,e){var i="",r;for(r=0;r<e;r+=1)i+=t;return i}function uk(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var ck=lS,fk=sk,dk=ak,pk=lk,mk=uk,hk=ok,ni={isNothing:ck,isObject:fk,toArray:dk,repeat:pk,isNegativeZero:mk,extend:hk};function uS(t,e){var i="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(i+='in "'+t.mark.name+'" '),i+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(i+=`

`+t.mark.snippet),r+" "+i):r}function xu(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=uS(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}xu.prototype=Object.create(Error.prototype);xu.prototype.constructor=xu;xu.prototype.toString=function(e){return this.name+": "+uS(this,e)};var Hi=xu;function f_(t,e,i,r,n){var s="",a="",o=Math.floor(n/2)-1;return r-e>o&&(s=" ... ",e=r-o+s.length),i-r>o&&(a=" ...",i=r+o-a.length),{str:s+t.slice(e,i).replace(/\t/g,"\u2192")+a,pos:r-e+s.length}}function d_(t,e){return ni.repeat(" ",e-t.length)+t}function gk(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var i=/\r?\n|\r|\0/g,r=[0],n=[],s,a=-1;s=i.exec(t.buffer);)n.push(s.index),r.push(s.index+s[0].length),t.position<=s.index&&a<0&&(a=r.length-2);a<0&&(a=r.length-1);var o="",l,u,c=Math.min(t.line+e.linesAfter,n.length).toString().length,f=e.maxLength-(e.indent+c+3);for(l=1;l<=e.linesBefore&&!(a-l<0);l++)u=f_(t.buffer,r[a-l],n[a-l],t.position-(r[a]-r[a-l]),f),o=ni.repeat(" ",e.indent)+d_((t.line-l+1).toString(),c)+" | "+u.str+`
`+o;for(u=f_(t.buffer,r[a],n[a],t.position,f),o+=ni.repeat(" ",e.indent)+d_((t.line+1).toString(),c)+" | "+u.str+`
`,o+=ni.repeat("-",e.indent+c+3+u.pos)+`^
`,l=1;l<=e.linesAfter&&!(a+l>=n.length);l++)u=f_(t.buffer,r[a+l],n[a+l],t.position-(r[a]-r[a+l]),f),o+=ni.repeat(" ",e.indent)+d_((t.line+l+1).toString(),c)+" | "+u.str+`
`;return o.replace(/\n$/,"")}var _k=gk,yk=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Tk=["scalar","sequence","mapping"];function bk(t){var e={};return t!==null&&Object.keys(t).forEach(function(i){t[i].forEach(function(r){e[String(r)]=i})}),e}function vk(t,e){if(e=e||{},Object.keys(e).forEach(function(i){if(yk.indexOf(i)===-1)throw new Hi('Unknown option "'+i+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(i){return i},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=bk(e.styleAliases||null),Tk.indexOf(this.kind)===-1)throw new Hi('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var Fi=vk;function KN(t,e){var i=[];return t[e].forEach(function(r){var n=i.length;i.forEach(function(s,a){s.tag===r.tag&&s.kind===r.kind&&s.multi===r.multi&&(n=a)}),i[n]=r}),i}function Ik(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,i;function r(n){n.multi?(t.multi[n.kind].push(n),t.multi.fallback.push(n)):t[n.kind][n.tag]=t.fallback[n.tag]=n}for(e=0,i=arguments.length;e<i;e+=1)arguments[e].forEach(r);return t}function m_(t){return this.extend(t)}m_.prototype.extend=function(e){var i=[],r=[];if(e instanceof Fi)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(i=i.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new Hi("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");i.forEach(function(s){if(!(s instanceof Fi))throw new Hi("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Hi("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Hi("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(s){if(!(s instanceof Fi))throw new Hi("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var n=Object.create(m_.prototype);return n.implicit=(this.implicit||[]).concat(i),n.explicit=(this.explicit||[]).concat(r),n.compiledImplicit=KN(n,"implicit"),n.compiledExplicit=KN(n,"explicit"),n.compiledTypeMap=Ik(n.compiledImplicit,n.compiledExplicit),n};var Pk=m_,Nk=new Fi("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),Sk=new Fi("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),Ck=new Fi("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),Rk=new Pk({explicit:[Nk,Sk,Ck]});function Ak(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function Ek(){return null}function wk(t){return t===null}var xk=new Fi("tag:yaml.org,2002:null",{kind:"scalar",resolve:Ak,construct:Ek,predicate:wk,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Dk(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function Fk(t){return t==="true"||t==="True"||t==="TRUE"}function Ok(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var Lk=new Fi("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Dk,construct:Fk,predicate:Ok,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function kk(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function Mk(t){return 48<=t&&t<=55}function qk(t){return 48<=t&&t<=57}function Vk(t){if(t===null)return!1;var e=t.length,i=0,r=!1,n;if(!e)return!1;if(n=t[i],(n==="-"||n==="+")&&(n=t[++i]),n==="0"){if(i+1===e)return!0;if(n=t[++i],n==="b"){for(i++;i<e;i++)if(n=t[i],n!=="_"){if(n!=="0"&&n!=="1")return!1;r=!0}return r&&n!=="_"}if(n==="x"){for(i++;i<e;i++)if(n=t[i],n!=="_"){if(!kk(t.charCodeAt(i)))return!1;r=!0}return r&&n!=="_"}if(n==="o"){for(i++;i<e;i++)if(n=t[i],n!=="_"){if(!Mk(t.charCodeAt(i)))return!1;r=!0}return r&&n!=="_"}}if(n==="_")return!1;for(;i<e;i++)if(n=t[i],n!=="_"){if(!qk(t.charCodeAt(i)))return!1;r=!0}return!(!r||n==="_")}function Bk(t){var e=t,i=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(i=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return i*parseInt(e.slice(2),2);if(e[1]==="x")return i*parseInt(e.slice(2),16);if(e[1]==="o")return i*parseInt(e.slice(2),8)}return i*parseInt(e,10)}function jk(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!ni.isNegativeZero(t)}var Uk=new Fi("tag:yaml.org,2002:int",{kind:"scalar",resolve:Vk,construct:Bk,predicate:jk,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Gk=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Wk(t){return!(t===null||!Gk.test(t)||t[t.length-1]==="_")}function Hk(t){var e,i;return e=t.replace(/_/g,"").toLowerCase(),i=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?i===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:i*parseFloat(e,10)}var Yk=/^[-+]?[0-9]+e/;function Kk(t,e){var i;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ni.isNegativeZero(t))return"-0.0";return i=t.toString(10),Yk.test(i)?i.replace("e",".e"):i}function $k(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||ni.isNegativeZero(t))}var zk=new Fi("tag:yaml.org,2002:float",{kind:"scalar",resolve:Wk,construct:Hk,predicate:$k,represent:Kk,defaultStyle:"lowercase"}),Xk=Rk.extend({implicit:[xk,Lk,Uk,zk]}),Qk=Xk,cS=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),fS=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Jk(t){return t===null?!1:cS.exec(t)!==null||fS.exec(t)!==null}function Zk(t){var e,i,r,n,s,a,o,l=0,u=null,c,f,d;if(e=cS.exec(t),e===null&&(e=fS.exec(t)),e===null)throw new Error("Date resolve error");if(i=+e[1],r=+e[2]-1,n=+e[3],!e[4])return new Date(Date.UTC(i,r,n));if(s=+e[4],a=+e[5],o=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(c=+e[10],f=+(e[11]||0),u=(c*60+f)*6e4,e[9]==="-"&&(u=-u)),d=new Date(Date.UTC(i,r,n,s,a,o,l)),u&&d.setTime(d.getTime()-u),d}function e1(t){return t.toISOString()}var t1=new Fi("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Jk,construct:Zk,instanceOf:Date,represent:e1});function i1(t){return t==="<<"||t===null}var r1=new Fi("tag:yaml.org,2002:merge",{kind:"scalar",resolve:i1}),T_=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function n1(t){if(t===null)return!1;var e,i,r=0,n=t.length,s=T_;for(i=0;i<n;i++)if(e=s.indexOf(t.charAt(i)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}function s1(t){var e,i,r=t.replace(/[\r\n=]/g,""),n=r.length,s=T_,a=0,o=[];for(e=0;e<n;e++)e%4===0&&e&&(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)),a=a<<6|s.indexOf(r.charAt(e));return i=n%4*6,i===0?(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)):i===18?(o.push(a>>10&255),o.push(a>>2&255)):i===12&&o.push(a>>4&255),new Uint8Array(o)}function a1(t){var e="",i=0,r,n,s=t.length,a=T_;for(r=0;r<s;r++)r%3===0&&r&&(e+=a[i>>18&63],e+=a[i>>12&63],e+=a[i>>6&63],e+=a[i&63]),i=(i<<8)+t[r];return n=s%3,n===0?(e+=a[i>>18&63],e+=a[i>>12&63],e+=a[i>>6&63],e+=a[i&63]):n===2?(e+=a[i>>10&63],e+=a[i>>4&63],e+=a[i<<2&63],e+=a[64]):n===1&&(e+=a[i>>2&63],e+=a[i<<4&63],e+=a[64],e+=a[64]),e}function o1(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var l1=new Fi("tag:yaml.org,2002:binary",{kind:"scalar",resolve:n1,construct:s1,predicate:o1,represent:a1}),u1=Object.prototype.hasOwnProperty,c1=Object.prototype.toString;function f1(t){if(t===null)return!0;var e=[],i,r,n,s,a,o=t;for(i=0,r=o.length;i<r;i+=1){if(n=o[i],a=!1,c1.call(n)!=="[object Object]")return!1;for(s in n)if(u1.call(n,s))if(!a)a=!0;else return!1;if(!a)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function d1(t){return t!==null?t:[]}var p1=new Fi("tag:yaml.org,2002:omap",{kind:"sequence",resolve:f1,construct:d1}),m1=Object.prototype.toString;function h1(t){if(t===null)return!0;var e,i,r,n,s,a=t;for(s=new Array(a.length),e=0,i=a.length;e<i;e+=1){if(r=a[e],m1.call(r)!=="[object Object]"||(n=Object.keys(r),n.length!==1))return!1;s[e]=[n[0],r[n[0]]]}return!0}function g1(t){if(t===null)return[];var e,i,r,n,s,a=t;for(s=new Array(a.length),e=0,i=a.length;e<i;e+=1)r=a[e],n=Object.keys(r),s[e]=[n[0],r[n[0]]];return s}var _1=new Fi("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:h1,construct:g1}),y1=Object.prototype.hasOwnProperty;function T1(t){if(t===null)return!0;var e,i=t;for(e in i)if(y1.call(i,e)&&i[e]!==null)return!1;return!0}function b1(t){return t!==null?t:{}}var v1=new Fi("tag:yaml.org,2002:set",{kind:"mapping",resolve:T1,construct:b1}),dS=Qk.extend({implicit:[t1,r1],explicit:[l1,p1,_1,v1]}),na=Object.prototype.hasOwnProperty,vp=1,pS=2,mS=3,Ip=4,p_=1,I1=2,$N=3,P1=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,N1=/[\x85\u2028\u2029]/,S1=/[,\[\]\{\}]/,hS=/^(?:!|!!|![a-z\-]+!)$/i,gS=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function zN(t){return Object.prototype.toString.call(t)}function Vn(t){return t===10||t===13}function Za(t){return t===9||t===32}function nr(t){return t===9||t===32||t===10||t===13}function Sl(t){return t===44||t===91||t===93||t===123||t===125}function C1(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function R1(t){return t===120?2:t===117?4:t===85?8:0}function A1(t){return 48<=t&&t<=57?t-48:-1}function XN(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function E1(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var _S=new Array(256),yS=new Array(256);for(Ja=0;Ja<256;Ja++)_S[Ja]=XN(Ja)?1:0,yS[Ja]=XN(Ja);var Ja;function w1(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||dS,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function TS(t,e){var i={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return i.snippet=_k(i),new Hi(e,i)}function ye(t,e){throw TS(t,e)}function Pp(t,e){t.onWarning&&t.onWarning.call(null,TS(t,e))}var QN={YAML:function(e,i,r){var n,s,a;e.version!==null&&ye(e,"duplication of %YAML directive"),r.length!==1&&ye(e,"YAML directive accepts exactly one argument"),n=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),n===null&&ye(e,"ill-formed argument of the YAML directive"),s=parseInt(n[1],10),a=parseInt(n[2],10),s!==1&&ye(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=a<2,a!==1&&a!==2&&Pp(e,"unsupported YAML version of the document")},TAG:function(e,i,r){var n,s;r.length!==2&&ye(e,"TAG directive accepts exactly two arguments"),n=r[0],s=r[1],hS.test(n)||ye(e,"ill-formed tag handle (first argument) of the TAG directive"),na.call(e.tagMap,n)&&ye(e,'there is a previously declared suffix for "'+n+'" tag handle'),gS.test(s)||ye(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{ye(e,"tag prefix is malformed: "+s)}e.tagMap[n]=s}};function ra(t,e,i,r){var n,s,a,o;if(e<i){if(o=t.input.slice(e,i),r)for(n=0,s=o.length;n<s;n+=1)a=o.charCodeAt(n),a===9||32<=a&&a<=1114111||ye(t,"expected valid JSON character");else P1.test(o)&&ye(t,"the stream contains non-printable characters");t.result+=o}}function JN(t,e,i,r){var n,s,a,o;for(ni.isObject(i)||ye(t,"cannot merge mappings; the provided source object is unacceptable"),n=Object.keys(i),a=0,o=n.length;a<o;a+=1)s=n[a],na.call(e,s)||(e[s]=i[s],r[s]=!0)}function Cl(t,e,i,r,n,s,a,o,l){var u,c;if(Array.isArray(n))for(n=Array.prototype.slice.call(n),u=0,c=n.length;u<c;u+=1)Array.isArray(n[u])&&ye(t,"nested arrays are not supported inside keys"),typeof n=="object"&&zN(n[u])==="[object Object]"&&(n[u]="[object Object]");if(typeof n=="object"&&zN(n)==="[object Object]"&&(n="[object Object]"),n=String(n),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,c=s.length;u<c;u+=1)JN(t,e,s[u],i);else JN(t,e,s,i);else!t.json&&!na.call(i,n)&&na.call(e,n)&&(t.line=a||t.line,t.lineStart=o||t.lineStart,t.position=l||t.position,ye(t,"duplicated mapping key")),n==="__proto__"?Object.defineProperty(e,n,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[n]=s,delete i[n];return e}function b_(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):ye(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function ei(t,e,i){for(var r=0,n=t.input.charCodeAt(t.position);n!==0;){for(;Za(n);)n===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),n=t.input.charCodeAt(++t.position);if(e&&n===35)do n=t.input.charCodeAt(++t.position);while(n!==10&&n!==13&&n!==0);if(Vn(n))for(b_(t),n=t.input.charCodeAt(t.position),r++,t.lineIndent=0;n===32;)t.lineIndent++,n=t.input.charCodeAt(++t.position);else break}return i!==-1&&r!==0&&t.lineIndent<i&&Pp(t,"deficient indentation"),r}function Cp(t){var e=t.position,i;return i=t.input.charCodeAt(e),!!((i===45||i===46)&&i===t.input.charCodeAt(e+1)&&i===t.input.charCodeAt(e+2)&&(e+=3,i=t.input.charCodeAt(e),i===0||nr(i)))}function v_(t,e){e===1?t.result+=" ":e>1&&(t.result+=ni.repeat(`
`,e-1))}function x1(t,e,i){var r,n,s,a,o,l,u,c,f=t.kind,d=t.result,p;if(p=t.input.charCodeAt(t.position),nr(p)||Sl(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(n=t.input.charCodeAt(t.position+1),nr(n)||i&&Sl(n)))return!1;for(t.kind="scalar",t.result="",s=a=t.position,o=!1;p!==0;){if(p===58){if(n=t.input.charCodeAt(t.position+1),nr(n)||i&&Sl(n))break}else if(p===35){if(r=t.input.charCodeAt(t.position-1),nr(r))break}else{if(t.position===t.lineStart&&Cp(t)||i&&Sl(p))break;if(Vn(p))if(l=t.line,u=t.lineStart,c=t.lineIndent,ei(t,!1,-1),t.lineIndent>=e){o=!0,p=t.input.charCodeAt(t.position);continue}else{t.position=a,t.line=l,t.lineStart=u,t.lineIndent=c;break}}o&&(ra(t,s,a,!1),v_(t,t.line-l),s=a=t.position,o=!1),Za(p)||(a=t.position+1),p=t.input.charCodeAt(++t.position)}return ra(t,s,a,!1),t.result?!0:(t.kind=f,t.result=d,!1)}function D1(t,e){var i,r,n;if(i=t.input.charCodeAt(t.position),i!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=n=t.position;(i=t.input.charCodeAt(t.position))!==0;)if(i===39)if(ra(t,r,t.position,!0),i=t.input.charCodeAt(++t.position),i===39)r=t.position,t.position++,n=t.position;else return!0;else Vn(i)?(ra(t,r,n,!0),v_(t,ei(t,!1,e)),r=n=t.position):t.position===t.lineStart&&Cp(t)?ye(t,"unexpected end of the document within a single quoted scalar"):(t.position++,n=t.position);ye(t,"unexpected end of the stream within a single quoted scalar")}function F1(t,e){var i,r,n,s,a,o;if(o=t.input.charCodeAt(t.position),o!==34)return!1;for(t.kind="scalar",t.result="",t.position++,i=r=t.position;(o=t.input.charCodeAt(t.position))!==0;){if(o===34)return ra(t,i,t.position,!0),t.position++,!0;if(o===92){if(ra(t,i,t.position,!0),o=t.input.charCodeAt(++t.position),Vn(o))ei(t,!1,e);else if(o<256&&_S[o])t.result+=yS[o],t.position++;else if((a=R1(o))>0){for(n=a,s=0;n>0;n--)o=t.input.charCodeAt(++t.position),(a=C1(o))>=0?s=(s<<4)+a:ye(t,"expected hexadecimal character");t.result+=E1(s),t.position++}else ye(t,"unknown escape sequence");i=r=t.position}else Vn(o)?(ra(t,i,r,!0),v_(t,ei(t,!1,e)),i=r=t.position):t.position===t.lineStart&&Cp(t)?ye(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}ye(t,"unexpected end of the stream within a double quoted scalar")}function O1(t,e){var i=!0,r,n,s,a=t.tag,o,l=t.anchor,u,c,f,d,p,m=Object.create(null),T,P,_,g;if(g=t.input.charCodeAt(t.position),g===91)c=93,p=!1,o=[];else if(g===123)c=125,p=!0,o={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),g=t.input.charCodeAt(++t.position);g!==0;){if(ei(t,!0,e),g=t.input.charCodeAt(t.position),g===c)return t.position++,t.tag=a,t.anchor=l,t.kind=p?"mapping":"sequence",t.result=o,!0;i?g===44&&ye(t,"expected the node content, but found ','"):ye(t,"missed comma between flow collection entries"),P=T=_=null,f=d=!1,g===63&&(u=t.input.charCodeAt(t.position+1),nr(u)&&(f=d=!0,t.position++,ei(t,!0,e))),r=t.line,n=t.lineStart,s=t.position,Rl(t,e,vp,!1,!0),P=t.tag,T=t.result,ei(t,!0,e),g=t.input.charCodeAt(t.position),(d||t.line===r)&&g===58&&(f=!0,g=t.input.charCodeAt(++t.position),ei(t,!0,e),Rl(t,e,vp,!1,!0),_=t.result),p?Cl(t,o,m,P,T,_,r,n,s):f?o.push(Cl(t,null,m,P,T,_,r,n,s)):o.push(T),ei(t,!0,e),g=t.input.charCodeAt(t.position),g===44?(i=!0,g=t.input.charCodeAt(++t.position)):i=!1}ye(t,"unexpected end of the stream within a flow collection")}function L1(t,e){var i,r,n=p_,s=!1,a=!1,o=e,l=0,u=!1,c,f;if(f=t.input.charCodeAt(t.position),f===124)r=!1;else if(f===62)r=!0;else return!1;for(t.kind="scalar",t.result="";f!==0;)if(f=t.input.charCodeAt(++t.position),f===43||f===45)p_===n?n=f===43?$N:I1:ye(t,"repeat of a chomping mode identifier");else if((c=A1(f))>=0)c===0?ye(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?ye(t,"repeat of an indentation width identifier"):(o=e+c-1,a=!0);else break;if(Za(f)){do f=t.input.charCodeAt(++t.position);while(Za(f));if(f===35)do f=t.input.charCodeAt(++t.position);while(!Vn(f)&&f!==0)}for(;f!==0;){for(b_(t),t.lineIndent=0,f=t.input.charCodeAt(t.position);(!a||t.lineIndent<o)&&f===32;)t.lineIndent++,f=t.input.charCodeAt(++t.position);if(!a&&t.lineIndent>o&&(o=t.lineIndent),Vn(f)){l++;continue}if(t.lineIndent<o){n===$N?t.result+=ni.repeat(`
`,s?1+l:l):n===p_&&s&&(t.result+=`
`);break}for(r?Za(f)?(u=!0,t.result+=ni.repeat(`
`,s?1+l:l)):u?(u=!1,t.result+=ni.repeat(`
`,l+1)):l===0?s&&(t.result+=" "):t.result+=ni.repeat(`
`,l):t.result+=ni.repeat(`
`,s?1+l:l),s=!0,a=!0,l=0,i=t.position;!Vn(f)&&f!==0;)f=t.input.charCodeAt(++t.position);ra(t,i,t.position,!1)}return!0}function ZN(t,e){var i,r=t.tag,n=t.anchor,s=[],a,o=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,ye(t,"tab characters must not be used in indentation")),!(l!==45||(a=t.input.charCodeAt(t.position+1),!nr(a))));){if(o=!0,t.position++,ei(t,!0,-1)&&t.lineIndent<=e){s.push(null),l=t.input.charCodeAt(t.position);continue}if(i=t.line,Rl(t,e,mS,!1,!0),s.push(t.result),ei(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===i||t.lineIndent>e)&&l!==0)ye(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return o?(t.tag=r,t.anchor=n,t.kind="sequence",t.result=s,!0):!1}function k1(t,e,i){var r,n,s,a,o,l,u=t.tag,c=t.anchor,f={},d=Object.create(null),p=null,m=null,T=null,P=!1,_=!1,g;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=f),g=t.input.charCodeAt(t.position);g!==0;){if(!P&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,ye(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),s=t.line,(g===63||g===58)&&nr(r))g===63?(P&&(Cl(t,f,d,p,m,null,a,o,l),p=m=T=null),_=!0,P=!0,n=!0):P?(P=!1,n=!0):ye(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,g=r;else{if(a=t.line,o=t.lineStart,l=t.position,!Rl(t,i,pS,!1,!0))break;if(t.line===s){for(g=t.input.charCodeAt(t.position);Za(g);)g=t.input.charCodeAt(++t.position);if(g===58)g=t.input.charCodeAt(++t.position),nr(g)||ye(t,"a whitespace character is expected after the key-value separator within a block mapping"),P&&(Cl(t,f,d,p,m,null,a,o,l),p=m=T=null),_=!0,P=!1,n=!1,p=t.tag,m=t.result;else if(_)ye(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=u,t.anchor=c,!0}else if(_)ye(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=u,t.anchor=c,!0}if((t.line===s||t.lineIndent>e)&&(P&&(a=t.line,o=t.lineStart,l=t.position),Rl(t,e,Ip,!0,n)&&(P?m=t.result:T=t.result),P||(Cl(t,f,d,p,m,T,a,o,l),p=m=T=null),ei(t,!0,-1),g=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&g!==0)ye(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return P&&Cl(t,f,d,p,m,null,a,o,l),_&&(t.tag=u,t.anchor=c,t.kind="mapping",t.result=f),_}function M1(t){var e,i=!1,r=!1,n,s,a;if(a=t.input.charCodeAt(t.position),a!==33)return!1;if(t.tag!==null&&ye(t,"duplication of a tag property"),a=t.input.charCodeAt(++t.position),a===60?(i=!0,a=t.input.charCodeAt(++t.position)):a===33?(r=!0,n="!!",a=t.input.charCodeAt(++t.position)):n="!",e=t.position,i){do a=t.input.charCodeAt(++t.position);while(a!==0&&a!==62);t.position<t.length?(s=t.input.slice(e,t.position),a=t.input.charCodeAt(++t.position)):ye(t,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!nr(a);)a===33&&(r?ye(t,"tag suffix cannot contain exclamation marks"):(n=t.input.slice(e-1,t.position+1),hS.test(n)||ye(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),a=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),S1.test(s)&&ye(t,"tag suffix cannot contain flow indicator characters")}s&&!gS.test(s)&&ye(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{ye(t,"tag name is malformed: "+s)}return i?t.tag=s:na.call(t.tagMap,n)?t.tag=t.tagMap[n]+s:n==="!"?t.tag="!"+s:n==="!!"?t.tag="tag:yaml.org,2002:"+s:ye(t,'undeclared tag handle "'+n+'"'),!0}function q1(t){var e,i;if(i=t.input.charCodeAt(t.position),i!==38)return!1;for(t.anchor!==null&&ye(t,"duplication of an anchor property"),i=t.input.charCodeAt(++t.position),e=t.position;i!==0&&!nr(i)&&!Sl(i);)i=t.input.charCodeAt(++t.position);return t.position===e&&ye(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function V1(t){var e,i,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!nr(r)&&!Sl(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&ye(t,"name of an alias node must contain at least one character"),i=t.input.slice(e,t.position),na.call(t.anchorMap,i)||ye(t,'unidentified alias "'+i+'"'),t.result=t.anchorMap[i],ei(t,!0,-1),!0}function Rl(t,e,i,r,n){var s,a,o,l=1,u=!1,c=!1,f,d,p,m,T,P;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=a=o=Ip===i||mS===i,r&&ei(t,!0,-1)&&(u=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;M1(t)||q1(t);)ei(t,!0,-1)?(u=!0,o=s,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):o=!1;if(o&&(o=u||n),(l===1||Ip===i)&&(vp===i||pS===i?T=e:T=e+1,P=t.position-t.lineStart,l===1?o&&(ZN(t,P)||k1(t,P,T))||O1(t,T)?c=!0:(a&&L1(t,T)||D1(t,T)||F1(t,T)?c=!0:V1(t)?(c=!0,(t.tag!==null||t.anchor!==null)&&ye(t,"alias node should not have any properties")):x1(t,T,vp===i)&&(c=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(c=o&&ZN(t,P))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&ye(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),f=0,d=t.implicitTypes.length;f<d;f+=1)if(m=t.implicitTypes[f],m.resolve(t.result)){t.result=m.construct(t.result),t.tag=m.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(na.call(t.typeMap[t.kind||"fallback"],t.tag))m=t.typeMap[t.kind||"fallback"][t.tag];else for(m=null,p=t.typeMap.multi[t.kind||"fallback"],f=0,d=p.length;f<d;f+=1)if(t.tag.slice(0,p[f].tag.length)===p[f].tag){m=p[f];break}m||ye(t,"unknown tag !<"+t.tag+">"),t.result!==null&&m.kind!==t.kind&&ye(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+m.kind+'", not "'+t.kind+'"'),m.resolve(t.result,t.tag)?(t.result=m.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):ye(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||c}function B1(t){var e=t.position,i,r,n,s=!1,a;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(a=t.input.charCodeAt(t.position))!==0&&(ei(t,!0,-1),a=t.input.charCodeAt(t.position),!(t.lineIndent>0||a!==37));){for(s=!0,a=t.input.charCodeAt(++t.position),i=t.position;a!==0&&!nr(a);)a=t.input.charCodeAt(++t.position);for(r=t.input.slice(i,t.position),n=[],r.length<1&&ye(t,"directive name must not be less than one character in length");a!==0;){for(;Za(a);)a=t.input.charCodeAt(++t.position);if(a===35){do a=t.input.charCodeAt(++t.position);while(a!==0&&!Vn(a));break}if(Vn(a))break;for(i=t.position;a!==0&&!nr(a);)a=t.input.charCodeAt(++t.position);n.push(t.input.slice(i,t.position))}a!==0&&b_(t),na.call(QN,r)?QN[r](t,r,n):Pp(t,'unknown document directive "'+r+'"')}if(ei(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,ei(t,!0,-1)):s&&ye(t,"directives end mark is expected"),Rl(t,t.lineIndent-1,Ip,!1,!0),ei(t,!0,-1),t.checkLineBreaks&&N1.test(t.input.slice(e,t.position))&&Pp(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Cp(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,ei(t,!0,-1));return}if(t.position<t.length-1)ye(t,"end of the stream or a document separator is expected");else return}function bS(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var i=new w1(t,e),r=t.indexOf("\0");for(r!==-1&&(i.position=r,ye(i,"null byte is not allowed in input")),i.input+="\0";i.input.charCodeAt(i.position)===32;)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)B1(i);return i.documents}function j1(t,e,i){e!==null&&typeof e=="object"&&typeof i>"u"&&(i=e,e=null);var r=bS(t,i);if(typeof e!="function")return r;for(var n=0,s=r.length;n<s;n+=1)e(r[n])}function U1(t,e){var i=bS(t,e);if(i.length!==0){if(i.length===1)return i[0];throw new Hi("expected a single document in the stream, but found more")}}var G1=j1,W1=U1,vS={loadAll:G1,load:W1},IS=Object.prototype.toString,PS=Object.prototype.hasOwnProperty,I_=65279,H1=9,Du=10,Y1=13,K1=32,$1=33,z1=34,h_=35,X1=37,Q1=38,J1=39,Z1=42,NS=44,eM=45,Np=58,tM=61,iM=62,rM=63,nM=64,SS=91,CS=93,sM=96,RS=123,aM=124,AS=125,Oi={};Oi[0]="\\0";Oi[7]="\\a";Oi[8]="\\b";Oi[9]="\\t";Oi[10]="\\n";Oi[11]="\\v";Oi[12]="\\f";Oi[13]="\\r";Oi[27]="\\e";Oi[34]='\\"';Oi[92]="\\\\";Oi[133]="\\N";Oi[160]="\\_";Oi[8232]="\\L";Oi[8233]="\\P";var oM=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],lM=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function uM(t,e){var i,r,n,s,a,o,l;if(e===null)return{};for(i={},r=Object.keys(e),n=0,s=r.length;n<s;n+=1)a=r[n],o=String(e[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),l=t.compiledTypeMap.fallback[a],l&&PS.call(l.styleAliases,o)&&(o=l.styleAliases[o]),i[a]=o;return i}function cM(t){var e,i,r;if(e=t.toString(16).toUpperCase(),t<=255)i="x",r=2;else if(t<=65535)i="u",r=4;else if(t<=4294967295)i="U",r=8;else throw new Hi("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+i+ni.repeat("0",r-e.length)+e}var fM=1,Fu=2;function dM(t){this.schema=t.schema||dS,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=ni.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=uM(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?Fu:fM,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function eS(t,e){for(var i=ni.repeat(" ",e),r=0,n=-1,s="",a,o=t.length;r<o;)n=t.indexOf(`
`,r),n===-1?(a=t.slice(r),r=o):(a=t.slice(r,n+1),r=n+1),a.length&&a!==`
`&&(s+=i),s+=a;return s}function g_(t,e){return`
`+ni.repeat(" ",t.indent*e)}function pM(t,e){var i,r,n;for(i=0,r=t.implicitTypes.length;i<r;i+=1)if(n=t.implicitTypes[i],n.resolve(e))return!0;return!1}function Sp(t){return t===K1||t===H1}function Ou(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==I_||65536<=t&&t<=1114111}function tS(t){return Ou(t)&&t!==I_&&t!==Y1&&t!==Du}function iS(t,e,i){var r=tS(t),n=r&&!Sp(t);return(i?r:r&&t!==NS&&t!==SS&&t!==CS&&t!==RS&&t!==AS)&&t!==h_&&!(e===Np&&!n)||tS(e)&&!Sp(e)&&t===h_||e===Np&&n}function mM(t){return Ou(t)&&t!==I_&&!Sp(t)&&t!==eM&&t!==rM&&t!==Np&&t!==NS&&t!==SS&&t!==CS&&t!==RS&&t!==AS&&t!==h_&&t!==Q1&&t!==Z1&&t!==$1&&t!==aM&&t!==tM&&t!==iM&&t!==J1&&t!==z1&&t!==X1&&t!==nM&&t!==sM}function hM(t){return!Sp(t)&&t!==Np}function wu(t,e){var i=t.charCodeAt(e),r;return i>=55296&&i<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(i-55296)*1024+r-56320+65536:i}function ES(t){var e=/^\n* /;return e.test(t)}var wS=1,__=2,xS=3,DS=4,Nl=5;function gM(t,e,i,r,n,s,a,o){var l,u=0,c=null,f=!1,d=!1,p=r!==-1,m=-1,T=mM(wu(t,0))&&hM(wu(t,t.length-1));if(e||a)for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=wu(t,l),!Ou(u))return Nl;T=T&&iS(u,c,o),c=u}else{for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=wu(t,l),u===Du)f=!0,p&&(d=d||l-m-1>r&&t[m+1]!==" ",m=l);else if(!Ou(u))return Nl;T=T&&iS(u,c,o),c=u}d=d||p&&l-m-1>r&&t[m+1]!==" "}return!f&&!d?T&&!a&&!n(t)?wS:s===Fu?Nl:__:i>9&&ES(t)?Nl:a?s===Fu?Nl:__:d?DS:xS}function _M(t,e,i,r,n){t.dump=function(){if(e.length===0)return t.quotingType===Fu?'""':"''";if(!t.noCompatMode&&(oM.indexOf(e)!==-1||lM.test(e)))return t.quotingType===Fu?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,i),a=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),o=r||t.flowLevel>-1&&i>=t.flowLevel;function l(u){return pM(t,u)}switch(gM(e,o,t.indent,a,l,t.quotingType,t.forceQuotes&&!r,n)){case wS:return e;case __:return"'"+e.replace(/'/g,"''")+"'";case xS:return"|"+rS(e,t.indent)+nS(eS(e,s));case DS:return">"+rS(e,t.indent)+nS(eS(yM(e,a),s));case Nl:return'"'+TM(e)+'"';default:throw new Hi("impossible error: invalid scalar style")}}()}function rS(t,e){var i=ES(t)?String(e):"",r=t[t.length-1]===`
`,n=r&&(t[t.length-2]===`
`||t===`
`),s=n?"+":r?"":"-";return i+s+`
`}function nS(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function yM(t,e){for(var i=/(\n+)([^\n]*)/g,r=function(){var u=t.indexOf(`
`);return u=u!==-1?u:t.length,i.lastIndex=u,sS(t.slice(0,u),e)}(),n=t[0]===`
`||t[0]===" ",s,a;a=i.exec(t);){var o=a[1],l=a[2];s=l[0]===" ",r+=o+(!n&&!s&&l!==""?`
`:"")+sS(l,e),n=s}return r}function sS(t,e){if(t===""||t[0]===" ")return t;for(var i=/ [^ ]/g,r,n=0,s,a=0,o=0,l="";r=i.exec(t);)o=r.index,o-n>e&&(s=a>n?a:o,l+=`
`+t.slice(n,s),n=s+1),a=o;return l+=`
`,t.length-n>e&&a>n?l+=t.slice(n,a)+`
`+t.slice(a+1):l+=t.slice(n),l.slice(1)}function TM(t){for(var e="",i=0,r,n=0;n<t.length;i>=65536?n+=2:n++)i=wu(t,n),r=Oi[i],!r&&Ou(i)?(e+=t[n],i>=65536&&(e+=t[n+1])):e+=r||cM(i);return e}function bM(t,e,i){var r="",n=t.tag,s,a,o;for(s=0,a=i.length;s<a;s+=1)o=i[s],t.replacer&&(o=t.replacer.call(i,String(s),o)),(us(t,e,o,!1,!1)||typeof o>"u"&&us(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=n,t.dump="["+r+"]"}function aS(t,e,i,r){var n="",s=t.tag,a,o,l;for(a=0,o=i.length;a<o;a+=1)l=i[a],t.replacer&&(l=t.replacer.call(i,String(a),l)),(us(t,e+1,l,!0,!0,!1,!0)||typeof l>"u"&&us(t,e+1,null,!0,!0,!1,!0))&&((!r||n!=="")&&(n+=g_(t,e)),t.dump&&Du===t.dump.charCodeAt(0)?n+="-":n+="- ",n+=t.dump);t.tag=s,t.dump=n||"[]"}function vM(t,e,i){var r="",n=t.tag,s=Object.keys(i),a,o,l,u,c;for(a=0,o=s.length;a<o;a+=1)c="",r!==""&&(c+=", "),t.condenseFlow&&(c+='"'),l=s[a],u=i[l],t.replacer&&(u=t.replacer.call(i,l,u)),us(t,e,l,!1,!1)&&(t.dump.length>1024&&(c+="? "),c+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),us(t,e,u,!1,!1)&&(c+=t.dump,r+=c));t.tag=n,t.dump="{"+r+"}"}function IM(t,e,i,r){var n="",s=t.tag,a=Object.keys(i),o,l,u,c,f,d;if(t.sortKeys===!0)a.sort();else if(typeof t.sortKeys=="function")a.sort(t.sortKeys);else if(t.sortKeys)throw new Hi("sortKeys must be a boolean or a function");for(o=0,l=a.length;o<l;o+=1)d="",(!r||n!=="")&&(d+=g_(t,e)),u=a[o],c=i[u],t.replacer&&(c=t.replacer.call(i,u,c)),us(t,e+1,u,!0,!0,!0)&&(f=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,f&&(t.dump&&Du===t.dump.charCodeAt(0)?d+="?":d+="? "),d+=t.dump,f&&(d+=g_(t,e)),us(t,e+1,c,!0,f)&&(t.dump&&Du===t.dump.charCodeAt(0)?d+=":":d+=": ",d+=t.dump,n+=d));t.tag=s,t.dump=n||"{}"}function oS(t,e,i){var r,n,s,a,o,l;for(n=i?t.explicitTypes:t.implicitTypes,s=0,a=n.length;s<a;s+=1)if(o=n[s],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof e=="object"&&e instanceof o.instanceOf)&&(!o.predicate||o.predicate(e))){if(i?o.multi&&o.representName?t.tag=o.representName(e):t.tag=o.tag:t.tag="?",o.represent){if(l=t.styleMap[o.tag]||o.defaultStyle,IS.call(o.represent)==="[object Function]")r=o.represent(e,l);else if(PS.call(o.represent,l))r=o.represent[l](e,l);else throw new Hi("!<"+o.tag+'> tag resolver accepts not "'+l+'" style');t.dump=r}return!0}return!1}function us(t,e,i,r,n,s,a){t.tag=null,t.dump=i,oS(t,i,!1)||oS(t,i,!0);var o=IS.call(t.dump),l=r,u;r&&(r=t.flowLevel<0||t.flowLevel>e);var c=o==="[object Object]"||o==="[object Array]",f,d;if(c&&(f=t.duplicates.indexOf(i),d=f!==-1),(t.tag!==null&&t.tag!=="?"||d||t.indent!==2&&e>0)&&(n=!1),d&&t.usedDuplicates[f])t.dump="*ref_"+f;else{if(c&&d&&!t.usedDuplicates[f]&&(t.usedDuplicates[f]=!0),o==="[object Object]")r&&Object.keys(t.dump).length!==0?(IM(t,e,t.dump,n),d&&(t.dump="&ref_"+f+t.dump)):(vM(t,e,t.dump),d&&(t.dump="&ref_"+f+" "+t.dump));else if(o==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!a&&e>0?aS(t,e-1,t.dump,n):aS(t,e,t.dump,n),d&&(t.dump="&ref_"+f+t.dump)):(bM(t,e,t.dump),d&&(t.dump="&ref_"+f+" "+t.dump));else if(o==="[object String]")t.tag!=="?"&&_M(t,t.dump,e,s,l);else{if(o==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new Hi("unacceptable kind of an object to dump "+o)}t.tag!==null&&t.tag!=="?"&&(u=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",t.dump=u+" "+t.dump)}return!0}function PM(t,e){var i=[],r=[],n,s;for(y_(t,i,r),n=0,s=r.length;n<s;n+=1)e.duplicates.push(i[r[n]]);e.usedDuplicates=new Array(s)}function y_(t,e,i){var r,n,s;if(t!==null&&typeof t=="object")if(n=e.indexOf(t),n!==-1)i.indexOf(n)===-1&&i.push(n);else if(e.push(t),Array.isArray(t))for(n=0,s=t.length;n<s;n+=1)y_(t[n],e,i);else for(r=Object.keys(t),n=0,s=r.length;n<s;n+=1)y_(t[r[n]],e,i)}function NM(t,e){e=e||{};var i=new dM(e);i.noRefs||PM(t,i);var r=t;return i.replacer&&(r=i.replacer.call({"":r},"",r)),us(i,0,r,!0,!0)?i.dump+`
`:""}var SM=NM,CM={dump:SM};function P_(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var Al=vS.load,Lre=vS.loadAll,FS=CM.dump,OS=Hi;var kre=P_("safeLoad","load"),Mre=P_("safeLoadAll","loadAll"),qre=P_("safeDump","dump");var Rp=class{constructor(){this.yamlData=null}isInClassParmaeter(e){let i=null;return e instanceof et&&e.logicBranches.length>0&&e.logicBranches[0].head!=null?i=e.logicBranches[0].head:e instanceof G&&(i=e),i!=null&&i.fragmentPosition==1&&i.fragmentParameter!=null&&i.fragmentParameter.name.toLowerCase()=="class"}getPrefix(e){if(e.prev==null||!(e.prev instanceof $e)||e.prev.content.trimRight().length!=e.prev.content.length)return"";let i=e.prev.content.split('"');if(i.length==0)return"";let r=i[i.length-1].split(" ");return r.length==0?"":r[r.length-1].trim()}getSuffix(e){if(e.next==null||!(e.next instanceof $e)||e.next.content.trimLeft().length!=e.next.content.length)return"";let i=e.next.content.split('"');if(i.length==0)return"";let r=i[0].split(" ");return r.length==0?"":r[0].trim()}analyze(e){let i=e.getDocumentParser().getRenderNodes();if(e.hasFrontMatter())try{this.yamlData=Al(e.getFrontMatter())}catch{}return this.analyzeNodes(i)}analyzeNodes(e){let i=[];return e.forEach(r=>{let n=[],s=[],a="",o="";if(this.isInClassParmaeter(r)){let l=[];if(r instanceof et){if(r.logicBranches.length==0)return;let u=r.logicBranches[0],c=r.logicBranches[r.logicBranches.length-1];if(u.head==null||c.head==null||c.head.isClosedBy==null)return;let f=c.head.isClosedBy,d=u.head;a=this.getPrefix(d),o=this.getSuffix(f),r.logicBranches.forEach(p=>{if(p.head==null||p.head.children.length!=2||!(p.head.children[0]instanceof $e))return;let m=p.head.children[0].content;m.trim().length==m.length&&(l.includes(m)||l.push(m))})}else if(r instanceof G){if(r.isPaired()){i=i.concat(this.analyzeNodes(r.getStructuralChildren()));return}a=this.getPrefix(r),o=this.getSuffix(r)}if(this.yamlData!=null&&l.length==0&&a.length+o.length>0){let u=r.getParser();if(typeof u!="undefined"&&u!==null){let c=u.getLanguageParser();typeof c!="undefined"&&c!==null&&c.getCreatedVariables().forEach(d=>{if(d.variableReference==null||d.variableReference.pathParts.length!=3||!(d.variableReference.pathParts[0]instanceof vi)||!(d.variableReference.pathParts[1]instanceof vi)||!(d.variableReference.pathParts[2]instanceof hn))return;let p=d.variableReference.pathParts[0],m=d.variableReference.pathParts[1];if(p.name!="view"||typeof this.yamlData[m.name]=="undefined")return;let T=this.yamlData[m.name],P=[],_=Object.keys(T),g=!0;for(let y=0;y<_.length;y++){let E=T[_[y]];if(typeof E!="string"){g=!1;break}P.push(E)}g&&P.forEach(y=>{l.includes(y)||l.push(y)})})}}if(l.length==0&&a.length+o.length>0){let u="/";a.length>0&&(u+=a),u+="(.*)",o.length>0&&(u+=o),u+="/",s.push(u)}else l.length>0&&l.forEach(u=>{let c=`${a}${u}${o}`;n.push(c)})}else r instanceof G&&r.isPaired()&&(i=i.concat(this.analyzeNodes(r.getImmediateChildren())));(o.length>0||a.length>0)&&(n.length>0||s.length>0)&&i.push({classNames:n,patterns:s,node:r,suffix:o,prefix:a})}),i}};var Ap=ee(require("fs")),RM={checkDocument(t,e){var s;if(e.diagnostics.warnOnDynamicCssClassNames==!1)return[];let i=[],r=new Rp().analyze(t);if(r.length==0)return i;let n="";if((s=fe.instance)!=null&&s.hasStructure()){let a=fe.instance.getStructure().getProjectRoot(),o=[];o.push(a+"tailwind.config.js"),o.push(a+"webpack.mix.js"),o.push(a+"webpack.config.js");for(let l=0;l<o.length;l++)if(Ap.existsSync(o[l])){n=Ap.readFileSync(o[l],{encoding:"utf8"});break}}return r.forEach(a=>{let o=a.classNames.concat(a.patterns),l=M.makeSyntaxError(I.LINT_DYNAMIC_CLASS_NAMES_POSSIBLE_PURGE,a.node,`Dynamic CSS class name generation detected. Some build tools, like PurgeCSS, may not be able to find these classes. It is recommended to use full class names, or configure a class safelist.
    
Possible Classes: ${o.join(", ")}`,1),u=!0;if(n.trim().length>0){u=!1;for(let d=0;d<o.length;d++)if(n.includes(o[d])==!1){u=!0;break}}if(!u)return;let c=Tt(a.node.startPosition),f=Tt(a.node.endPosition);if(a.node instanceof et){if(a.node.logicBranches.length>0){let d=a.node.logicBranches[0],p=a.node.logicBranches[a.node.logicBranches.length-1];d.head!=null&&p.head!=null&&p.head.isClosedBy!=null&&(c=Tt(d.head.startPosition),f=Tt(p.head.isClosedBy.endPosition))}}else a.node instanceof G&&(c=Tt(a.node.startPosition),f=Tt(a.node.endPosition));c.character=c.character-a.prefix.length-1,f.character=f.character+a.suffix.length,l.lsRange={start:c,end:f},l.data=a,i.push(l)}),i}},LS=RM;var AM={checkDocument(t){let e=[];return t.hasFrontMatter()&&t.getContent().trim().length==0&&e.push(M.makeSyntaxError(I.LINT_FRONT_MATTER_EMPTY_DOCUMENT,null,'Empty document content with Front Matter will result in "[ErrorException] Undefined index: content".')),e}},kS=AM;function MS(t){let e=t.split(/\r?\n/),i=[];return e.forEach(r=>{let n=r.split("|");if(n.length==1)i.push(r);else if(n.length>1){let s=n[0];if(parseInt(s.trim()).toString()==s.trim()){let a=parseInt(s)+1;n.shift();let o=n.join("|"),l=" ".repeat(s.length-a.toString().length);i.push(l+a.toString()+"|"+o)}else i.push(r)}}),i.join(`
`)}var EM={checkDocument(t){let e=[];if(t.hasFrontMatter()){let i=t.getFrontMatter();try{Al(i,{onWarning:r=>{let n=new Kt,s=new Kt;n.line=r.mark.line+2,n.char=r.mark.column,s.line=r.mark.line+2,s.char=r.mark.snippet.length+r.mark.column;let a={start:n,end:s},o=new M;o.errorCode=I.LINT_INVALID_FRONT_MATTER,o.level=1,o.message=MS(r.message),o.range=a,e.push(o)}})}catch(r){if(r instanceof OS){let n=new Kt,s=new Kt;n.line=r.mark.line+2,n.char=r.mark.column,s.line=r.mark.line+2,s.char=r.mark.snippet.length+r.mark.column;let a={start:n,end:s},o=new M;o.errorCode=I.LINT_INVALID_FRONT_MATTER,o.level=0,o.message=MS(r.message),o.range=a,e.push(o)}}}return e}},qS=EM;var wM={checkDocument(t){let e=[];return t.getAllAntlersNodes().forEach(i=>{var r,n;if(i.isTagNode&&i.name!=null&&i.getTagName()=="partial"){let s=Ho(i);if(s==null)return;let a=(n=(r=fe.instance)==null?void 0:r.getStructure())==null?void 0:n.findRelativeView(s);if(typeof a=="undefined"||a==null)return;a.documentUri==t.documentUri&&i.findParentOfType(["if","elseif","else"])==null&&e.push(M.makeSyntaxError(I.LINT_POSSIBLE_PARTIAL_RECURSION,i,"Possible partial recursion detected",1))}}),e}},VS=wM;var BS=[kS,qS,VS,LS];var xM=["dump","dd","ddd"],DM={checkNode(t){let e=t.getTagName(),i=[];return xM.includes(e)&&i.push(M.makeSyntaxError(I.LINT_DEBUG_DATA_EXPOSED,t,e+" exposes data and should be removed after debugging.",1)),t.modifiers.hasModifier("dump")&&i.push(M.makeSyntaxError(I.LINT_DEBUG_DATA_EXPOSED,t,"dump modifier exposes data and should be removed after debugging.",1)),i}},jS=DM;var FM={checkNode(t){let e=[];if(t.modifiers==null)return e;let i=[];if(t.modifiers.hasParameterModifiers())for(let r=0;r<t.modifiers.parameterModifiers.length;r++){let n=t.modifiers.parameterModifiers[r];n.refId!=null&&i.includes(n.refId)==!1&&n.modifier!=null&&n.modifier.isDeprecated&&(e.push(M.makeSyntaxError(I.LINT_DEPRECATED_MODIFIER,t.modifiers.parameterModifiers[r],S_(n.modifier),1)),i.push(n.refId))}if(t.modifiers.hasShorthandModifiers()&&t.modifierChain!=null)for(let r=0;r<t.modifierChain.modifierChain.length;r++){let n=t.modifierChain.modifierChain[r];n.refId!=null&&i.includes(n.refId)==!1&&n.modifier!=null&&n.modifier.isDeprecated&&(e.push(M.makeSyntaxError(I.LINT_DEPRECATED_MODIFIER,n,S_(n.modifier),1)),i.push(n.refId))}if(t.runtimeNodes!=null&&t.runtimeNodes.length>0)for(let r=0;r<t.runtimeNodes.length;r++){let n=t.runtimeNodes[r];if(n.modifierChain!=null)for(let s=0;s<n.modifierChain.modifierChain.length;s++){let a=n.modifierChain.modifierChain[s];a.refId!=null&&i.includes(a.refId)==!1&&a.modifier!=null&&a.modifier.isDeprecated&&(e.push(M.makeSyntaxError(I.LINT_DEPRECATED_MODIFIER,a,S_(a.modifier),1)),i.push(a.refId))}}return e}};function S_(t){return t.getDeprecatedMessage!=null?t.getDeprecatedMessage():`${t.name} is deprecated.`}var US=FM;var OM={checkNode(t){let e=[];if(t.scopeVariable==null||t.scopeVariable.sourceField==null||t.modifierChain==null||t.modifierChain.modifierChain.length==0)return e;let i=t.scopeVariable.sourceField.type,r=t.modifierChain.modifierChain[0];return r.modifier==null||i=="select_multiple"&&(r.modifier.name=="join"||r.modifier.name=="joinplode")&&e.push(M.makeSyntaxError(I.LINT_SELECT_FIELD_JOIN_RAW,t,"To join a select field, add the raw modifier: "+LM(t,"join"),1)),e}};function LM(t,e){var i,r;return"{{ "+((r=(i=t.name)==null?void 0:i.name)!=null?r:"field_name")+" | raw | "+e+" ... }}"}var GS=OM;var kM={checkNode(t){var n;let e=[];if(t.isClosedBy==null||t.parent==null||!(t.parent instanceof G))return e;let i=t.parent;if(i.isClosedBy==null)return e;let r=t.runtimeName();return r=="if"||r=="if:index"||r=="else"||r=="else:index"||r=="elseif"||r=="elseif:index"||r=="elseunless"||r=="elseunless:index"||(n=i.isClosedBy.startPosition)!=null&&n.isBefore(t.isClosedBy.endPosition)&&(e.push(M.makeSyntaxError(I.LINT_INTERLEAVED_TAG_PAIRS,t,"Closing tag cannot appear after parent closing tag.")),e.push(M.makeSyntaxError(I.LINT_INTERLEAVED_TAG_PAIRS,t.isClosedBy,"Closing tag cannot appear after parent closing tag."))),e}},Ep=kM;var MM={checkNode(t){let e=[];return t.hasParameters==!1||t.parameters.forEach(i=>{i.hasValidValueDelimiter==!1&&e.push(M.makeSyntaxError(I.LINT_INVALID_PARAMETER_VALUE_DELIMITER,i,"Parameter values must be enclosed in single or double quotes.",1))}),e}},WS=MM;var qM={checkNode(t){let e=[];return t.modifiers!=null&&t.modifiers.hasMixedModifierStyles&&e.push(M.makeSyntaxError(I.LINT_MIXED_MODIFIERS,t,"Mixed modifier styles is not supported",0)),e}},HS=qM;var VM={checkNode(t){let e=[];if(t.modifiers==null)return e;let i=[];if(t.modifiers.hasParameterModifiers()){let r=null;for(let n=0;n<t.modifiers.parameterModifiers.length;n++){let s=t.modifiers.parameterModifiers[n];if(r==null){r=s;continue}if(r!=null&&r.modifier!=null&&s.modifier!=null){if(r.modifier.returnsType.includes("*")||s.modifier.acceptsType.includes("*"))continue;{let a=r.modifier.returnsType,o="void",l="void",u=s.modifier.acceptsType.some(c=>a.includes(c));if(a.length>0&&(o=a[a.length-1]),s.modifier.acceptsType.length>0&&(l=s.modifier.acceptsType[0]),!u){e.push(M.makeSyntaxError(I.LINT_MODIFIER_UNEXPECTED_TYPE,s,"Unexpected type supplied to modifier "+s.name+". Expected "+l+" got "+o+".",1));break}}}}}if(t.modifiers.hasShorthandModifiers()&&t.modifierChain!=null){let r=null;for(let n=0;n<t.modifierChain.modifierChain.length;n++){let s=t.modifierChain.modifierChain[n];if(r==null){r=s;continue}if(r!=null&&r.modifier!=null&&s.modifier!=null){if(r.modifier.returnsType.includes("*")||s.modifier.acceptsType.includes("*"))continue;{let a=r.modifier.returnsType,o="void",l="void",u=s.modifier.acceptsType.some(c=>a.includes(c));if(a.length>0&&(o=a[a.length-1]),s.modifier.acceptsType.length>0&&(l=s.modifier.acceptsType[0]),!u){s.refId!=null&&!i.includes(s.refId)&&(e.push(M.makeSyntaxError(I.LINT_MODIFIER_UNEXPECTED_TYPE,s,"Unexpected type supplied to modifier "+s.name+". Expected "+l+" got "+o+".",1)),i.push(s.refId));break}}}}}if(t.runtimeNodes!=null&&t.runtimeNodes.length>0)for(let r=0;r<t.runtimeNodes.length;r++){let n=t.runtimeNodes[r],s=null;if(n.modifierChain!=null)for(let a=0;a<n.modifierChain.modifierChain.length;a++){let o=n.modifierChain.modifierChain[a];if(s==null){s=o;continue}if(s!=null&&s.modifier!=null&&o.modifier!=null){if(s.modifier.returnsType.includes("*")||o.modifier.acceptsType.includes("*"))continue;{let l=s.modifier.returnsType,u="void",c="void",f=o.modifier.acceptsType.some(d=>l.includes(d));if(l.length>0&&(u=l[l.length-1]),o.modifier.acceptsType.length>0&&(c=o.modifier.acceptsType[0]),!f){o.refId!=null&&i.includes(o.refId)==!1&&(e.push(M.makeSyntaxError(I.LINT_MODIFIER_UNEXPECTED_TYPE,o,"Unexpected type supplied to modifier "+o.name+". Expected "+c+" got "+u+".",1)),i.push(o.refId));break}}}}}return e}},YS=VM;var KS={warnUnknownParameters:!1};var wp=class{static validateInteger(e){return parseInt(e).toString()!==e?{isValid:!1,message:'"'+e+'" is not a valid integer.'}:{isValid:!0,message:""}}static validateBoolean(e){return e=="true"||e=="false"?{isValid:!0,message:""}:{isValid:!1,message:'"'+e+'" is not a valid value. Expecting true/false.'}}static validateParameters(e){var r,n,s,a,o;let i=[];if(e.isTagNode&&((r=Fe.instance)==null?void 0:r.isKnownTag(e.runtimeName()))){let l=(n=Fe.instance)==null?void 0:n.findTag(e.runtimeName());if(e.hasParameters)for(let u=0;u<e.parameters.length;u++){let c=e.parameters[u],f=null,d=!1,p=c.name.trim();if(!c.isVariableReference)if(p=Dr(p,":"),((s=Fe.instance)==null?void 0:s.canResolveDynamicParameter(e.runtimeName()))&&typeof l.resolveDynamicParameter!="undefined"&&l.resolveDynamicParameter!=null?(f=l.resolveDynamicParameter(e,p),d=!0):f=(a=Fe.instance)==null?void 0:a.getParameter(e.runtimeName(),p),d&&f==null&&(f=(o=Fe.instance)==null?void 0:o.getParameter(e.runtimeName(),p)),f==null){if(KS.warnUnknownParameters){let m="";if(l.suggestAlternativeParams!=null){let P=l.suggestAlternativeParams(p);P.length==1?m='. Did you mean "'+P[0]+'"?':P.length>1&&(m=". Try one of the following: "+P.join(", "))}let T='Unknown parameter name: "'+p+'"'+m;i.push(M.makeSyntaxError(I.LINT_UNKNOWN_PARAMETER,e,T,1))}}else if(f.validate!=null){let m=f.validate(e,c);m.length>0&&m.forEach(T=>{i.push(M.makeSyntaxError(I.LINT_GENERAL_INVALID_PARAMETER_CONTENTS,c,T.message,1))})}else{if(c.hasInterpolations())continue;for(let m=0;m<f.expectsTypes.length;m++){let T=f.expectsTypes[m];if(T=="integer"){let P=this.validateInteger(c.value);P.isValid||i.push(M.makeSyntaxError(I.LINT_PARAMETER_CONTENT_INVALID_INTEGER,c,P.message,1))}else if(T=="boolean"){let P=this.validateBoolean(c.value);if(f.name=="paginate"){if(c.value=="true"||c.value=="false")continue;if(parseInt(c.value).toString()!=c.value){let _='Unexpected "'+c.value+'". Expecting a numeric value, or true/false.';i.push(M.makeSyntaxError(I.LINT_PAGINATE_INVALID_VALUE,c,_,0))}}else P.isValid||i.push(M.makeSyntaxError(I.LINT_PARAMETER_CONTENT_INVALID_BOOLEAN,c,P.message,1))}}}}}return i}};var BM={checkNode(t,e){return e.diagnostics.validateTagParameters==!1?[]:wp.validateParameters(t)}},$S=BM;var jM={checkNode(t){var i,r;let e=[];if(t.isTagNode&&t.name!=null&&t.getTagName()=="partial"){let n=Ho(t);if(n==null)return e;let s=(r=(i=fe.instance)==null?void 0:i.getStructure())==null?void 0:r.findRelativeView(n);if(typeof s=="undefined"||s==null)return e;s.injectsParameters.length>0&&s.injectsParameters.forEach(a=>{a.isRequired&&!t.hasParameter(a.name)&&e.push(M.makeSyntaxError(I.LINT_MISSING_REQUIRED_PARAMETER,t,"Missing required parameter: "+a.name,0))})}return e}},zS=jM;var UM=["assets","entries","form_multiple","sites_multiple","structures_multiple","taxonomies_multiple","terms_multiple","user_groups_multiple","user_roles_multiple","users_multiple"],GM=["as","on_each_side","order_by","sort","query_scope","filter","reverse","paginate","limit","offset","page_name"],Lu=class{static isQueryBuilderType(e){return UM.includes(e)}static isIgnoredParameterName(e){return GM.includes(e)}};var XS="Query builder fields must use an alias in order to use modifiers",WM={checkNode(t){let e=[];if(t.scopeVariable!=null&&t.isTagNode==!1){if(t.runtimeNodes.length==0)return e;if(t.runtimeNodes[0]instanceof le&&t.scopeVariable.sourceField!=null){if(t.hasParameter("as"))return e;if(Lu.isQueryBuilderType(t.scopeVariable.sourceField.type)){if(t.modifierChain!=null&&t.modifierChain.modifierChain.length>0)return e.push(M.makeSyntaxError(I.LINT_MODIFIERS_ON_QUERY_BUILDERS_REQUIRE_AS,t,XS,1)),e;if(t.hasParameters)for(let r=0;r<t.parameters.length;r++){let n=t.parameters[r];if(n.modifier!=null&&!Lu.isIgnoredParameterName(n.modifier.name))return e.push(M.makeSyntaxError(I.LINT_MODIFIERS_ON_QUERY_BUILDERS_REQUIRE_AS,t,XS,1)),e}}}}return e}},QS=WM;var HM={checkNode(t){let e=[];return t.isTagNode&&t.name!=null&&t.getTagName()=="relate"&&e.push(M.makeSyntaxError(I.LINT_REMOVE_RELATE_TAG,t,"The `relate` tag is not necessary here, and can be removed.",1)),e}},JS=HM;var YM={checkNode(t,e){let i=[];if(e.languageVersion=="runtime")return[];if(t.isClosedBy!=null&&t.modifierChain!=null){let r=t.content.trim(),n=t.isClosedBy.content.trim(),s="/"+r;n!=s&&(i.push(M.makeSyntaxError(I.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH,t,"Closing tags must match exactly when using shorthand modifiers in tag pairs.",0)),i.push(M.makeSyntaxError(I.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH,t.isClosedBy,'Closing tags must match exactly when using shorthand modifiers in tag pairs. Expecting: "'+s+'".',0)))}return i}},ZS=YM;var gC=ee(G_()),Aq={checkNode(t){var n,s,a;let e=[];if(t.isOpenedBy!=null||!((n=fe.instance)!=null&&n.hasStructure()))return e;let i=fe.instance.getStructure().getStatamicVersion();if(i==null||i.trim().length==0||!((s=Fe.instance)!=null&&s.isKnownTag(t.runtimeName())))return e;let r=(a=Fe.instance)==null?void 0:a.findTag(t.runtimeName());if((r==null?void 0:r.introducedIn)==null)return e;try{gC.lt(i,r.introducedIn)&&e.push(M.makeSyntaxError(I.LINT_VERSION_NOT_COMPATIBLE,t,t.runtimeName()+" requires at least Statamic "+r.introducedIn+". Current project version: "+i,1))}catch{}return e}},_C=Aq;var Eq={checkNode(t){let e=[];return t.isTagNode&&t.getTagName()=="set"&&e.push(M.makeSyntaxError(I.LINT_SET_PRODUCES_RUNTIME_ERROR,t,'`set` tag will produce "array_merge(): Expected parameter 1 to be an array, object given" runtime exception.')),e}},yC=Eq;var wq=[jS,HS,YS,GS,US,JS,yC,ZS,_C,Ep,WS,zS,$S,QS],TC=wq;var fs=class{constructor(){this.fileDiagnostics=new Map;this.handlers=[];this.docHandlers=[]}registerHandler(e){this.handlers.push(e)}registerDocumentHandler(e){this.docHandlers.push(e)}registerDocumentHandlers(e){for(let i=0;i<e.length;i++)this.registerDocumentHandler(e[i])}registerHandlers(e){for(let i=0;i<e.length;i++)this.registerHandler(e[i])}registerCoreHandlers(){this.registerHandlers(TC),this.registerDocumentHandlers(BS)}hasDiagnosticsIssues(e){return this.fileDiagnostics.has(e)==!1?!1:this.fileDiagnostics.get(e).length>0}registerDiagnostics(e,i){this.fileDiagnostics.set(e,i)}clearIssues(e){this.fileDiagnostics.set(e,[])}getDiagnostics(e){return this.hasDiagnosticsIssues(e)?this.fileDiagnostics.get(e):[]}checkDocument(e){let i=[],r=Sr();return this.docHandlers.forEach(n=>{n.checkDocument(e,r).forEach(s=>{i.push(s)})}),i}checkNode(e){let i=[];if(e.isComment)return i;let r=Sr();return this.handlers.forEach(n=>{n.checkNode(e,r).forEach(s=>{i.push(s)})}),i}getAllDiagnostics(){let e=[];return this.fileDiagnostics.forEach((i,r)=>{for(let n=0;n<i.length;n++)e.push(i[n])}),e}};fs.instance=null;(typeof fs.instance=="undefined"||fs.instance==null)&&(fs.instance=new fs,fs.instance.registerCoreHandlers());var Ki=fs;var RC=ee(pi());var Ol=ee(pi());var Dq=W_();function ds(t){return t.split("\\").join("/")}function vC(t){let e=Dq(decodeURIComponent(t));return ds(e)}var IC=ee(require("fs")),PC=ee(require("path"));var H_=class{constructor(){this.activeRequest=null}getName(e){return"Extract to Partial"}canHandle(e){return e.selectedText.trim().length>0}refactor(e){this.activeRequest=e,H_.currentAction=this;let i=this.getName(e);return[Ol.CodeAction.create(i+"...",Ol.Command.create(i,"antlers.extractToPartial",e.documentUri),Ol.CodeActionKind.RefactorExtract)]}completeRefactor(e){var r;let i=(r=fe.instance)==null?void 0:r.getStructure();if(i!=null&&this.activeRequest!=null){let n=ds(i.getViewPath()),s=ds(e.fsPath);if(s.startsWith(n)){IC.writeFileSync(e.fsPath,this.activeRequest.selectedText);let a=s.substring(n.length),o=PC.basename(s);o.startsWith("_")&&(o=o.substr(1)),a=a.substr(0,a.length-o.length),o.endsWith(".antlers.html")?o=o.substring(0,o.length-13):o.endsWith(".antlers.xml")||o.endsWith("antlers.php")?o=o.substring(0,o.length-12):o.endsWith(".blade.php")?o=o.substring(0,o.length-10):o.endsWith(".html")&&(o=o.substring(0,o.length-5)),a.length>1&&a.endsWith("/")==!1&&(a=a+"/");let l="{{ partial:"+a+o+" }}",u={range:this.activeRequest.actionParams.range,newText:l},c={changes:{[this.activeRequest.actionParams.textDocument.uri]:[u]}};Y_(c)}}}},Up=H_;Up.currentAction=null;var Bu=Up;var NC=ee(pi());var ju=class{static isFlatCondition(e){var n;if(e.chain.length>1&&((n=e.logicBranches[1].head)==null?void 0:n.getTagName())!="else")return!1;let i=e.logicBranches[0].nodes,r=!1;for(let s=0;s<i.length;s++)if(i[s]instanceof et){r=!0;break}if(r)for(let s=0;s<i.length;s++){let a=i[s];if(a instanceof $e&&a.content.trim().length!=0)return!1}for(let s=0;s<i.length;s++){let a=i[s];if(a instanceof et&&!ju.isFlatCondition(a)||a instanceof G&&!ti.isConditionalStructure(a)&&a.isClosingTag)return!1}return!0}static getCleanChildren(e){let i=[],r=[];for(let n=0;n<e.nodes.length;n++){let s=e.nodes[n];if(s.startPosition==null)break;if(!r.includes(s.startPosition.index))s instanceof $e?s.content.trim().length>0&&i.push(s):i.push(s),r.push(s.startPosition.index);else break}return i.pop(),i}static unwrapFlattenedConditions(e){let i={body:[],conditions:[]};return e.logicBranches.forEach(r=>{if(r.head==null)return;i.conditions.push(r.head);let n=this.getCleanChildren(r);if(n.length==1&&n[0]instanceof et){let s=this.unwrapFlattenedConditions(n[0]);i.conditions=i.conditions.concat(s.conditions),i.body=i.body.concat(s.body)}else n.length==1?i.body.push(n[0]):n.forEach(s=>{if(s instanceof et){let a=this.unwrapFlattenedConditions(s);i.conditions=i.conditions.concat(a.conditions),i.body=i.body.concat(a.body)}else{if(s instanceof G&&ti.isConditionalStructure(s))return;i.body.push(s)}})}),i}},Gp=ju;var Uu=class{constructor(e){this.refactoredStyle=0;this.params=e}isSimpleElse(e){var i;return e.logicBranches.length==2&&((i=e.logicBranches[1].head)==null?void 0:i.getTagName())=="else"}getRefactorMode(){return this.refactoredStyle}refactor(e){let i="";return this.params.refactorNested?(i=this.createdNestedGatekeeper(e),this.refactoredStyle=1):e.logicBranches.length==1?(i=this.createGatekeeper(e),this.refactoredStyle=1):this.isSimpleElse(e)&&(i=this.createTernary(e),this.refactoredStyle=0),this.params.isInInterpolation?"{"+i+"}":"{{ "+i+" }}"}createdNestedGatekeeper(e){let i=Gp.unwrapFlattenedConditions(e),r=[],n=[];i.conditions.forEach(o=>{let l=o.getContent().trim();o.runtimeNodes.length>1&&(l.startsWith("(")==!1&&(l="("+l),l.endsWith(")")==!1&&(l=l+")"),this.shouldAddEndingParenthesis(o)&&(l+=")")),r.push(l)}),i.body.forEach(o=>{o instanceof G?n.push(o.getNodeDocumentText()):o instanceof $e&&n.push(o.content)}),n.length>0&&(n[0]=n[0].trimLeft(),n[n.length-1]=n[n.length-1].trimRight());let s=r.join(" && "),a=n.join("");return"("+s+") ?= "+this.convertToString(a)}convertToString(e){let i=e;return i=Lt(i,"{{","{"),i=Lt(i,"}}","}"),"'"+Lt(i,"'","\\'")+"'"}createTernary(e){var l;let i=e.logicBranches[0].head,r=e.logicBranches[1].head,n=this.convertToString((l=i.getInnerDocumentText())!=null?l:""),s=this.convertToString(r.getInnerDocumentText()),o=i.getContent().trim();return o.startsWith("(")==!1&&(o="("+o),o.endsWith(")")==!1&&(o=o+")"),this.shouldAddEndingParenthesis(i)&&(o+=")"),o+" ? "+n+" : "+s}shouldAddEndingParenthesis(e){return e.originalNode==null?!1:e.originalNode.getTagName()=="unless"}createGatekeeper(e){var a;let i=e.logicBranches[0].head,r=(a=i.getInnerDocumentText())!=null?a:"",n=this.convertToString(r),s="";return i.runtimeNodes.length>1?s="("+i.getContent().trim()+")":s=i.getContent(),s.trim()+" ?= "+n}};var K_=class{constructor(){this.condition=null;this.isNestedConditions=!1;this.refactorStyle=0}getName(e){return this.refactorStyle==1?"Convert Condition to Gatekeeper operator":"Convert Condition to Ternary"}canHandle(e){if(e.selectedDocument.hasUnclosedStructures()||e.selectedDocument.hasUnclosedStructures()||e.selectedDocument.errors.hasAny())return!1;let i=e.selectedDocument.getAllAntlersNodes(),r=new ka,n=0,s=0;for(let o=0;o<i.length;o++)if(i[o].isClosingTag){if(ti.isConditionalStructure(i[o])){s+=1;continue}if(n+=1,n>1)return!1}let a=r.associate(i,e.ownerDocument.getDocumentParser());if(a.length==1&&a[0]instanceof et){if(this.condition=a[0],this.isNestedConditions=!1,s>2){if(!Gp.isFlatCondition(this.condition))return this.isNestedConditions=!1,!1;this.isNestedConditions=!0}return!0}return!1}refactor(e){if(this.condition==null)return[];let i=[],r=!1;e.params.currentNode!=null&&e.params.currentNode.getTagName()!="if"&&(r=!0);let n=new Uu({isInInterpolation:r,refactorNested:this.isNestedConditions}),s=n.refactor(this.condition);this.refactorStyle=n.getRefactorMode();let a={range:e.actionParams.range,newText:s};return i.push({title:this.getName(e),kind:NC.CodeActionKind.RefactorRewrite,edit:{changes:{[e.documentUri]:[a]}}}),i}},SC=K_;var $_=class{static getRefactors(e){let i=[],r=[];return r.push(new Bu),r.push(new SC),r.forEach(n=>{n.canHandle(e)&&n.refactor(e).forEach(s=>{i.push(s)})}),i}},CC=$_;var z_=[];function AC(t){z_=t}function EC(t){var f,d;if(((f=fe.instance)==null?void 0:f.hasStructure())==!1)return[];Re.refreshDocumentState();let e=decodeURIComponent(t.textDocument.uri);if(Re.hasDocument(e)==!1)return[];if(!vn.has(e))return[];let i=t.range.start,r=ir(i,e,za.showGeneralSnippetCompletions);if(r==null)return[];let n=vn.get(e),s=n.getText(t.range),a=Nt.fromText(s.trim()),o={params:r,selectedText:s,selectedDocument:a,ownerDocument:Re.getDocument(e),documentUri:t.textDocument.uri,actionParams:t},l=CC.getRefactors(o),u=(d=Ki.instance)==null?void 0:d.getDiagnostics(e),c=[];return u!=null&&u.length>0&&(u==null||u.forEach(p=>{var m,T,P,_,g,y;if(p.errorCode==I.LINT_DYNAMIC_CLASS_NAMES_POSSIBLE_PURGE){let E=p.data;if(p.node instanceof et){let L="";for(let $=0;$<p.node.logicBranches.length;$++){let oe=p.node.logicBranches[$];$==p.node.logicBranches.length-1?(L+=`{{${(m=oe.head)==null?void 0:m.getTrueNode().sourceContent}}}`,L+=`${E.prefix}${(T=oe.head)==null?void 0:T.documentText}${E.suffix}`,L+=`{{${(_=(P=oe.head)==null?void 0:P.isClosedBy)==null?void 0:_.getTrueNode().sourceContent}}}`):(L+=`{{${(g=oe.head)==null?void 0:g.getTrueNode().sourceContent}}}`,L+=`${E.prefix}${(y=oe.head)==null?void 0:y.documentText}${E.suffix}`)}let C={range:p.lsRange,newText:L},B=[];z_.length>0&&z_.forEach($=>{$.range==p.lsRange&&B.push($)});let w="";E.suffix.length>0&&E.prefix.length>0?w=`${E.prefix}...${E.suffix}`:E.suffix.length>0?w=`...${E.suffix}`:E.prefix.length>0&&(w=`${E.prefix}...`),E.classNames.length==1&&E.patterns.length==0&&(w=E.classNames[0]),l.push({title:"Dynamic CSS Class: "+w,kind:RC.CodeActionKind.QuickFix,diagnostics:B,edit:{changes:{[t.textDocument.uri]:[C]}}})}}})),l}function wC(t,e){let i=decodeURIComponent(t);Re.createOrUpdate(i,e)}function X_(t){let e=decodeURIComponent(t.uri);Re.createOrUpdate(decodeURIComponent(t.uri),t.getText()),vn.set(e,t)}async function Q_(t,e){var s;let i=decodeURIComponent(t.uri);Re.createOrUpdate(i,t.getText());let r=[];if(Re.hasDocument(i)){let a=Re.getDocument(i);if(Xa(a.errors.all()).forEach(o=>{r.push(o)}),(s=Ki.instance)!=null&&s.hasDiagnosticsIssues(i)){let o=Ki.instance.getDiagnostics(i);Xa(o).forEach(l=>{r.push(l)})}}Sr().diagnostics.reportDiagnostics!=!1&&(AC(r),e.sendDiagnostics({uri:t.uri,diagnostics:r}),Fq(t.uri,e))}function xC(t){var e,i,r;if((e=fe.instance)!=null&&e.hasStructure()){let n=fe.instance.getStructure().getViews();for(let s=0;s<n.length;s++){let a=decodeURIComponent(n[s].documentUri),o=[];if(Re.hasDocument(a)){let l=Re.getDocument(a);l.reloadDocument(),Xa(l.errors.all()).forEach(u=>{o.push(u)}),Xa((r=(i=Ki.instance)==null?void 0:i.checkDocument(l))!=null?r:[]).forEach(u=>{o.push(u)}),l.getAllAntlersNodes().forEach(u=>{var f,d;let c=(d=(f=Ki.instance)==null?void 0:f.checkNode(u))!=null?d:[];c.length>0&&Xa(c).forEach(p=>{o.push(p)})})}t.sendDiagnostics({uri:n[s].originalDocumentUri,diagnostics:o})}}}function Fq(t,e){var r,n,s;if(Sr().diagnostics.reportDiagnostics!=!1&&(r=fe.instance)!=null&&r.hasStructure()){let a=fe.instance.getStructure().getViews();for(let o=0;o<a.length;o++)if(a[o].documentUri!=t){let l=decodeURIComponent(a[o].documentUri);if((n=Ki.instance)!=null&&n.hasDiagnosticsIssues(l)){let u=[],c=(s=Ki.instance)==null?void 0:s.getDiagnostics(l);Xa(c).forEach(f=>{u.push(f)}),e.sendDiagnostics({uri:a[o].originalDocumentUri,diagnostics:u})}}}}var OR=ee(Ci());var Gu=null;function J_(t){Gu=t}var Wp=class{constructor(){this.htmlFormatter=null;this.yamlFormatter=null;this.phpFormatter=null;this.preFormatter=null;this.transformOptions=null;this.createExtraVirtualStructures=!1}withTransformOptions(e){return this.transformOptions=e,this}withPreFormatter(e){return this.preFormatter=e,this}withHtmlFormatter(e){return this.htmlFormatter=e,this}withYamlFormatter(e){return this.yamlFormatter=e,this}withPhpFormatter(e){return this.phpFormatter=e,this}formatText(e,i){let r=new Nt;return r.getDocumentParser().withChildDocuments(!0),r.loadString(e),this.formatDocument(r,i)}formatDocument(e,i){if(!e.isFormattingEnabled())return e.getOriginalContent();if(this.preFormatter!=null){let a=this.preFormatter(e);if(a!=null)return a}let r=e.getAllAntlersNodes();for(let a=0;a<r.length;a++)if(Ep.checkNode(r[a],i).length>0)return e.getOriginalContent();if(this.htmlFormatter==null||e.isValid()==!1)return e.getOriginalContent();e.transform().withInlineFormatter(a=>this.formatText(a,i)).produceExtraStructuralPairs(this.createExtraVirtualStructures).withHtmlFormatter(this.htmlFormatter).withPhpFormatter(this.phpFormatter).withYamlFormatter(this.yamlFormatter),this.transformOptions!=null&&e.transform().withOptions(this.transformOptions);let n=e.transform().toStructure(),s=this.htmlFormatter(n);return e.transform().fromStructure(s)}};var Hp=class{static formatFrontMatter(e){try{let i=Al(e,{}),r=FS(i,{indent:2,noArrayIndent:!1,condenseFlow:!1,forceQuotes:!0,noRefs:!0,skipInvalid:!0});return r.endsWith(`
`)&&(r=r.trimEnd()),r}catch{return e}}};function sr(t,e,i){if(t&&t.hasOwnProperty(e)){let r=t[e];if(r!==null)return r}return i}function DC(t,e,i){let r=sr(t,e,null);return typeof r=="string"?r.length>0?r.split(",").map(n=>n.trim().toLowerCase()):[]:i}var MV=FR().html,Ll=class extends Wp{constructor(i){super();this.options=i,this.withHtmlFormatter(this.formatHtml).withYamlFormatter(Hp.formatFrontMatter).withTransformOptions({endNewline:sr(i.htmlOptions,"endWithNewline",!1),maxAntlersStatementsPerLine:i.maxStatementsPerLine,newlinesAfterFrontMatter:1,tabSize:i.tabSize})}formatHtml(i){var r;return MV(i,{indent_size:this.options.tabSize,indent_char:this.options.insertSpaces?" ":"	",indent_empty_lines:sr(this.options.htmlOptions,"indentEmptyLines",!1),wrap_line_length:sr(this.options.htmlOptions,"wrapLineLength",120),unformatted:(r=DC(this.options.htmlOptions,"unformatted",[]))!=null?r:[],content_unformatted:[],indent_inner_html:sr(this.options.htmlOptions,"indentInnerHtml",!1),preserve_newlines:sr(this.options.htmlOptions,"preserveNewLines",!0),max_preserve_newlines:sr(this.options.htmlOptions,"maxPreserveNewLines",32786),indent_handlebars:sr(this.options.htmlOptions,"indentHandlebars",!1),end_with_newline:sr(this.options.htmlOptions,"endWithNewline",!1),extra_liners:[],wrap_attributes:sr(this.options.htmlOptions,"wrapAttributes","auto"),wrap_attributes_indent_size:sr(this.options.htmlOptions,"wrapAttributesIndentSize",void 0),eol:`
`,indent_scripts:sr(this.options.htmlOptions,"indentScripts","normal"),unformatted_content_delimiter:sr(this.options.htmlOptions,"unformattedContentDelimiter","")})}};function LR(t){let e=Sr(),i=decodeURIComponent(t.textDocument.uri),r=Gu.format;if(e.formatterIgnoreExtensions.length>0){for(let n=0;n<e.formatterIgnoreExtensions.length;n++)if(i.toLowerCase().endsWith(e.formatterIgnoreExtensions[n].toLowerCase()))return null}if(Re.hasDocument(i)&&vn.has(i)){let n=vn.get(i),s=n.getText(),a=Nt.fromText(s),o={htmlOptions:r,formatFrontMatter:e.formatFrontMatter,insertSpaces:t.options.insertSpaces,tabSize:t.options.tabSize,maxStatementsPerLine:3,formatExtensions:[]},l=new Ll(o),u=l.formatDocument(a,Sr()),c=n.positionAt(s.length);return[{range:{start:OR.Position.create(0,0),end:c},newText:u}]}return null}var kR=ee(Ci());var qV={activeSignature:null,activeParameter:null,signatures:[]};function MR(t){var r;let e=decodeURIComponent(t.textDocument.uri),i=ir(t.position,e);if(i!=null&&i.context!=null&&i.context.modifierContext!=null&&(r=Ve.instance)!=null&&r.hasModifier(i.context.modifierContext.name)){let n=i.context.modifierContext.name,s=Ve.instance.getModifier(n),a=[];s!=null&&s.parameters.forEach(l=>{a.push({label:l.name,documentation:l.description})});let o=i.context.modifierContext.activeValueIndex;return o>a.length&&(o=a.length-1),(o<0||a.length==0)&&(o=0),{signatures:[{label:s.name,documentation:{kind:kR.MarkupKind.Markdown,value:s.description},parameters:a,activeParameter:o}],activeParameter:o,activeSignature:0}}return qV}var so=ee(_t());var im=class{static getTypedHeader(e,i){let r="";return i.length>0&&(r=i.join(", ")),"**"+e+"** `"+r+"`  \n"}static formatParameterHover(e){let i=this.getTypedHeader(e.name,e.expectsTypes);if(i+=e.description,e.documentationLink!=null&&e.documentationLink.trim().length>0){i+=`  

`;let r="Documentation Reference";e.docLinkName!=null&&e.docLinkName.trim().length>0&&(r=e.docLinkName.trim()),i+="["+r+"]("+e.documentationLink+")"}return{contents:{kind:so.MarkupKind.Markdown,value:i}}}static formatModifierHover(e){let i=this.getTypedHeader(e.name,e.acceptsType),r="";if(e.parameters.length>0){let s=[];e.parameters.forEach(a=>{s.push("$"+a.name)}),r=s.join(", ")}let n="";if(e.returnsType.length==1)n=e.returnsType[0];else{let s=[];e.returnsType.forEach(a=>{s.push(a)}),n=s.join(", ")}return typeof e.hoverDescription!="undefined"&&e.hoverDescription!=null?i+=e.hoverDescription+`
`:i+=e.description+`
`,i+="```js\n",i+="function "+e.name+"("+r+"):"+n,i+="\n```",e.docLink!=null&&e.docLink.trim().length>0&&(i+=`  

`,i+="[Documentation Reference]("+e.docLink+")"),{contents:{kind:so.MarkupKind.Markdown,value:i}}}static formatBlueprintHover(e,i){let r="";return e.displayName!=null&&e.displayName.trim().length>0?r="**"+e.displayName+"** ("+e.name+`)

`:r="**"+e.name+`**

`,e.instructionText!=null&&(r+=e.instructionText+`

`),r+="**Blueprint**: "+e.blueprintName+`

`,r+="**Type**: "+e.type,e.maxItems!=null&&(r+=`

**Max Items**: `+e.maxItems),i!=null&&(r+=`

**From**: `+i.runtimeName()),{contents:{kind:so.MarkupKind.Markdown,value:r}}}static formatScopeVariableHover(e){if(e.sourceField!=null)return this.formatBlueprintHover(e.sourceField,e.introducedBy);let i="**"+e.name+`**

`;return i+="**Type**: "+e.dataType,e.introducedBy!=null&&(i+=`
**From**: `+e.introducedBy.runtimeName()),{contents:{kind:so.MarkupKind.Markdown,value:i}}}static getHover(e){var r,n,s,a,o,l,u,c,f;if(e==null||e.nodesInScope.length==0)return null;let i=e.nodesInScope[e.nodesInScope.length-1];if(e.context!=null&&e.context.node!=null&&(i=e.context.node),i!=null){if((r=Fe.instance)!=null&&r.isKnownTag(i.runtimeName())){let T=(n=Fe.instance)==null?void 0:n.findTag(i.runtimeName());if(e.context!=null&&e.context.isCursorInIdentifier&&typeof(T==null?void 0:T.resolveDocumentation)!="undefined"){let P=T.resolveDocumentation(e);if(P.trim().length>0)return{contents:{kind:so.MarkupKind.Markdown,value:P},range:{start:Tt(i.startPosition),end:Tt(i.endPosition)}}}if(T!=null&&((a=(s=e.context)==null?void 0:s.parameterContext)==null?void 0:a.parameter)!=null){let P=e.context.parameterContext.parameter,_=Fe.instance.getParameter(T.tagName,P.name);if(_!=null){if(typeof _.providesDocumentation!="undefined"){let g=_.providesDocumentation(e);if(g.trim().length>0)return{contents:{kind:so.MarkupKind.Markdown,value:g},range:{start:Tt(i.startPosition),end:Tt(i.endPosition)}}}return this.formatParameterHover(_)}else if(P.isModifierParameter&&P.modifier!=null)return this.formatModifierHover(P.modifier)}}if(((o=e.context)==null?void 0:o.parameterContext)!=null&&((u=(l=e.context)==null?void 0:l.parameterContext.parameter)==null?void 0:u.modifier)!=null)return this.formatModifierHover(e.context.parameterContext.parameter.modifier);if(((c=e.context)==null?void 0:c.modifierContext)!=null){let T=(f=Ve.instance)==null?void 0:f.getModifier(e.context.modifierContext.name);if(T!=null)return this.formatModifierHover(T)}let d=e.position.line+1,p=e.position.character+1,m=e.antlersDocument.cursor.position(d,p);return i.scopeVariable!=null&&m!=null&&m.isWithin(i.startPosition,i.endPosition)?this.formatScopeVariableHover(i.scopeVariable):null}return null}};function qR(t){var r;if(((r=fe.instance)==null?void 0:r.hasStructure())==!1)return null;let e=decodeURIComponent(t.textDocument.uri);if(Re.hasDocument(e)==!1)return null;let i=ir(t.position,e);return im.getHover(i)}var rm=class{static findLocations(e,i){if(e==null||e.nodesInScope.length==0)return null;let r=e.nodesInScope[e.nodesInScope.length-1];if(e.context!=null&&e.context.node!=null&&(r=e.context.node),r!=null&&r.scopeVariable!=null&&r.scopeVariable.introducedBy!=null){let n=[];return n.push({uri:i.textDocument.uri,range:{start:Tt(r.scopeVariable.introducedBy.startPosition),end:Tt(r.scopeVariable.introducedBy.endPosition)}}),n}return null}};function VR(t){var r;if(((r=fe.instance)==null?void 0:r.hasStructure())==!1)return null;let e=decodeURIComponent(t.textDocument.uri);if(Re.hasDocument(e)==!1)return null;let i=ir(t.position,e);return rm.findLocations(i,t)}var UR=ee(pi());var nm=new Map,sm=new Map;function by(){let t={types:["comment","string","keyword","number","regexp","operator","namespace","type","struct","class","interface","enum","typeParameter","function","method","macro","variable","parameter","property","label","antlersAttribute"],modifiers:["declaration","documentation","readonly","static","abstract","deprecated","modification","async"]};return t.types.forEach((e,i)=>nm.set(e,i)),t.modifiers.forEach((e,i)=>sm.set(e,i)),{legend:t,async getSemanticTokens(e,i){let r=decodeURIComponent(e.uri),n=new UR.SemanticTokensBuilder,s=[];if(Re.hasDocument(r)){let a=Re.getDocument(r);a.nodes.getAllRuntimeNodes().forEach(p=>{p instanceof Mt&&s.push(p)});let l=new Map;s.forEach(p=>{var m;p.startPosition!=null&&(l.has(p.startPosition.line)||l.set(p.startPosition.line,[]),(m=l.get(p.startPosition.line))==null||m.push(p))});let u=[];Array.from(l.keys()).sort((p,m)=>p-m).forEach(p=>{l.get(p).sort((P,_)=>{var g,y,E,L;return((y=(g=P.startPosition)==null?void 0:g.char)!=null?y:0)-((L=(E=_.startPosition)==null?void 0:E.char)!=null?L:0)}).forEach(P=>{u.push(P)})}),u.forEach(p=>{p instanceof Mt&&p.startPosition!=null&&p.endPosition!=null&&n.push(p.startPosition.line-1,p.startPosition.char,p.endPosition.char-p.startPosition.char,jR("function"),BR([]))}),a.nodes.getAllParameterNodes().forEach(p=>{p.namePosition!=null&&p.namePosition.start!=null&&p.namePosition.end!=null&&n.push(p.namePosition.start.line-1,p.namePosition.start.char-1,p.namePosition.end.char-p.namePosition.start.char,jR("antlersAttribute"),BR([]))})}return n.build().data}}}function BR(t){let e=0;for(let i=0;i<t.length;i++){let r=t[i];sm.has(r)?e=e|1<<sm.get(r):r==="notInLegend"&&(e=e|1<<sm.size+2)}return e}function jR(t){return nm.has(t)?nm.get(t):t==="notInLegend"?nm.size+2:0}var am=ee(pi());function GR(t){let e=[];return t.forEach(i=>{if(i.isComment||i.isClosingTag&&!i.isConditionNode||i.isConditionNode&&i.name!=null&&i.isClosingTag&&(i.name.name=="if"||i.name.name=="unless"))return;let r=Qa(i),n=[];if(i.children.length>0){let u=i.getStructuralChildren();u.length>0&&(n=GR(u))}let s=am.SymbolKind.Field;i.isTagNode&&(s=am.SymbolKind.Class);let a=i.getNameContent().trim(),o=i.getContent().trim(),l=a+" "+o;a==o&&(l=o),l=i.sourceContent,i.name!=null&&i.name.name=="partial"&&(s=am.SymbolKind.File),e.push({range:r,kind:s,name:l,selectionRange:r,children:n})}),e}function WR(t){let e=decodeURIComponent(t.textDocument.uri);if(Re.hasDocument(e)){let i=Re.getDocument(e),r=i.nodes.getStructuralNodes();return GR(r)}return[]}var om=class{static getDocumentLinks(e){var r,n,s;let i=[];if((r=fe.instance)!=null&&r.hasStructure()){let a=(s=(n=un.instance)==null?void 0:n.getPartialReferences(e))!=null?s:[];for(let o=0;o<a.length;o++){let l=a[o];if(l.hasMethodPart()){let u=fe.instance.getStructure().findRelativeView(l.getMethodNameValue());if(u!=null){let c=Tt(l.nameEndsOn);i.push({range:{start:Tt(l.startPosition),end:{character:c.character-2,line:c.line}},tooltip:"Partial: "+u.displayName,target:decodeURIComponent(u.documentUri)})}}}}return i}};var si=ee(require("path")),Vt=ee(require("fs")),ua=ee(bn()),hA=require("path");var Un=ee(require("fs")),HR=ee(G_());function VV(t){let e=JSON.parse(Un.readFileSync(t,{encoding:"utf8"}));return typeof e.extra!="undefined"&&typeof e.extra.statamic!="undefined"}var lm=class{static getInstalledPackages(e,i,r){let n=[];if(Un.existsSync(e)){let s=JSON.parse(Un.readFileSync(e,{encoding:"utf8"}));if(typeof s!="undefined"&&typeof s.packages!="undefined")for(let a=0;a<s.packages.length;a++){let o=s.packages[a];if(typeof o.name!="undefined"&&typeof o.version!="undefined"){let l=r+cn(o.name,"/")+"/composer.json",u=r+cn(o.name,"/")+"/.antlers-ls/",c=!1;if(typeof o.dist!="undefined"){let m=o.dist;typeof m.type!="undefined"&&typeof m.url!="undefined"&&m.type==="path"&&(l=i+cn(o.dist.url,"/")+"/composer.json",u=r+cn(o.name,"/")+"/.antlers-ls/")}let f=null;if(Un.existsSync(l)&&(c=VV(l),c&&Un.existsSync(u))){f={fieldtypesFile:null,modifiersFile:null,tagsFile:null};let m=u+"tags.json",T=u+"modifiers.json",P=u+"types.json";Un.existsSync(m)&&(f.tagsFile=m),Un.existsSync(T)&&(f.modifiersFile=T),Un.existsSync(P)&&(f.fieldtypesFile=P)}let d=Dr(o.version,"v"),p=HR.clean(d);p!=null&&(d=p),n.push({name:o.name,version:d,vendorPath:l,isStatamicAddon:c,antlersExtension:f})}}}return n}};var YR=ee(require("path"));function vy(t){let e=YR.resolve(t).replace(/\\/g,"/");return e[0]!=="/"&&(e="/"+e),encodeURI("file://"+e)}function Cr(t){return!t.toLowerCase().endsWith(".gitkeep")}var KR=ee(bn()),$R=ee(require("fs"));function kl(t,e,i,r,n){let s=[],a=[];for(let o of Object.keys(t[i])){let l=t[i][o],u="",c="",f="",d="",p=null,m=null,T=null;if(typeof l.prefix!="undefined"&&l.prefix!==null&&(d=l.prefix),typeof l.import!="undefined"&&n.has(l.import)){let P=n.get(l.import);for(let _=0;_<P.length;_++)a.includes(P[_].handle)==!1&&(s.push(rg(P[_],d)),a.push(P[_].handle));continue}if(typeof l.import!="undefined"&&(T=l.import),typeof l.field!="undefined"&&(typeof l.field.type!="undefined"&&(u=l.field.type),typeof l.field.display!="undefined"&&(c=l.field.display),typeof l.field.instructions!="undefined"&&(f=l.field.instructions),typeof l.field.max_items!="undefined"&&(p=l.field.max_items),u=Qb(u,l,p),Xb.includes(u)&&typeof l.field.sets!="undefined")){m=[];for(let P of Object.keys(l.field.sets)){let _=l.field.sets[P],g=kl(_,e,"fields","set:"+P,n),y="";typeof _.display!="undefined"&&(y=_.display),m.push({handle:P,displayName:y,fields:g})}}s.push({blueprintName:e,name:l.handle,type:u,displayName:c,instructionText:f,maxItems:p,refFieldSetField:null,sets:m,import:T})}return s}function ao(t,e,i,r){let n=[],s={fields:[],handle:"",title:"",filePath:"",type:i};try{let a=$R.readFileSync(t,{encoding:"utf8"}),o=KR.parse(a),l=o.sections,u=o.tabs;if(s.filePath=t,s.handle=e,s.title=e,typeof o.title!="undefined"&&(s.title=o.title),typeof u!="undefined")for(let c of Object.keys(u)){let f=u[c];if(typeof f.fields!="undefined"){let d=kl(f,e,"fields",e,r);d.length>0&&(n=n.concat(d))}}else if(typeof l!="undefined")for(let c of Object.keys(l)){let f=l[c];if(typeof f.fields!="undefined"){let d=kl(f,e,"fields",e,r);d.length>0&&(n=n.concat(d))}}else if(typeof o.fields!="undefined"){let c=kl(o,e,"fields",e,r);c.length>0&&(n=n.concat(c))}}catch{}return s.fields=n,s}var zR=ee(bn()),XR=ee(require("fs"));function QR(t,e){let i=[];try{let r=XR.readFileSync(t,{encoding:"utf8"}),n=zR.parse(r);if(typeof n=="undefined"||n===null)return[];if(typeof n.fields!="undefined")for(let s of Object.keys(n.fields)){let a=n.fields[s],o=a.handle,l="",u="",c="",f=null,d=null,p=null;if(typeof a.import!="undefined"&&(p=a.import),typeof a.field!="undefined"&&(typeof a.field.display!="undefined"&&(l=a.field.display),typeof a.field.type!="undefined"&&(c=a.field.type),typeof a.field.instructions!="undefined"&&(u=a.field.instructions),typeof a.field.max_items!="undefined"&&(f=a.field.max_items),typeof a.field.sets!="undefined")){d=[];for(let m of Object.keys(a.field.sets)){let T=a.field.sets[m],P=kl(T,e,"fields","set:"+m,new Map),_="";typeof T.display!="undefined"&&(_=T.display),d.push({handle:m,displayName:_,fields:P})}}i.push({handle:o,instructionText:u,name:l,type:c,maxItems:f,sets:d,import:p})}}catch{}return i}var JR=ee(require("path")),ZR=ee(require("fs")),eA=ee(bn());function tA(t){let e=JR.basename(t).split(".").slice(0,-1).join("."),i=e;try{let r=ZR.readFileSync(t,{encoding:"utf8"}),n=eA.parse(r);typeof n.title!="undefined"&&n.title!==null&&(i=n.title)}catch(r){console.error(r)}return{handle:e,title:i}}var iA=ee(require("path")),rA=ee(require("fs")),nA=ee(bn());function sA(t){let e=iA.basename(t).split(".").slice(0,-1).join("."),i=e,r="";try{let n=rA.readFileSync(t,{encoding:"utf8"}),s=nA.parse(n);typeof s!="undefined"&&s!==null&&(typeof s.title!="undefined"&&s.title!==null&&(i=s.title),typeof s.disk!="undefined"&&s.disk!==null&&(r=s.disk))}catch(n){console.error(n)}return{handle:e,title:i,diskName:r}}var aA=ee(require("path")),oA=ee(require("fs")),lA=ee(bn());function uA(t){let e=aA.basename(t).split(".").slice(0,-1).join("."),i=oA.readFileSync(t,{encoding:"utf8"}),r="",n="",s="",a=!1,o=[],l=null,u=null,c=[];try{let f=lA.parse(i);if(typeof f!="undefined"&&f!==null){if(typeof f.title!="undefined"&&f.title!==null&&(r=f.title),typeof f.inject!="undefined"&&f.inject!==null){let d=Object.keys(f.inject);for(let p=0;p<d.length;p++){let m=d[p];m=="view_model"?u=f.inject.view_model:c.push(m)}}if(typeof f.template!="undefined"&&f.template!==null&&(n=f.template),typeof f.layout!="undefined"&&f.layout!==null&&(s=f.layout),typeof f.taxonomies!="undefined"&&f.taxonomies!==null&&(o=Object.keys(f.taxonomies)),typeof f.structure!="undefined"&&f.structure!==null){a=!0;let d=f.structure,p=-1,m=!1;typeof d.root!="undefined"&&d.root!==null&&(m=d.root),typeof d.max_depth!="undefined"&&d.max_depth!==null&&(p=d.max_depth),l={root:m,maxDepth:p}}}}catch(f){console.error(f)}return{handle:e,title:r,template:n,layout:s,taxonomies:o,isStructure:a,structure:l,viewModel:u,injectFields:c}}var Iy=ee(require("fs")),Py=ee(bn());function cA(t){let e=[],i=Iy.readFileSync(t,{encoding:"utf8"});try{let r=Py.parse(i);if(typeof r=="undefined"||r===null)return[];let n=Object.keys(r);for(let s=0;s<n.length;s++){let a=n[s],o=r[a],l=a;typeof o!="undefined"&&o!==null&&typeof o.title!="undefined"&&o.title!==null&&(l=o.title),e.push({handle:a,title:l})}}catch(r){console.error(r)}return e}function fA(t){let e=[],i=Iy.readFileSync(t,{encoding:"utf8"});try{let r=Py.parse(i);if(typeof r=="undefined"||r===null)return[];let n=Object.keys(r);for(let s=0;s<n.length;s++){let a=n[s],o=r[a],l=a;typeof o!="undefined"&&o!==null&&typeof o.title!="undefined"&&o.title!==null&&(l=o.title),e.push({handle:a,title:l})}}catch(r){console.error(r)}return e}var dA=ee(require("fs")),pA=ee(bn());function mA(t){var r,n,s,a;let e=dA.readFileSync(t,{encoding:"utf8"}),i=[];try{let o=pA.parse(e);if(typeof o=="undefined"||o===null)return[];let l=Object.keys(o);for(let u=0;u<l.length;u++){let c=l[u],f=o[c],d=[],p="";if(typeof f!="undefined"&&f!==null){let m=Object.keys(f);for(let T=0;T<m.length;T++){let P=m[T],_=(n=(r=Ve.instance)==null?void 0:r.getModifier(P))!=null?n:null,g=!1,y="";_!=null?(g=!0,y=(a=(s=Ve.instance)==null?void 0:s.getProbableReturnType(_,!1))!=null?a:"",p=y):p="",d.push({hasReference:g,manifestsType:y,name:P,ref:_})}}i.push({name:c,manifestsType:p,modifiers:d})}}catch{}return i}function Ny(t,e,i){return{blueprintName:t,displayName:"",import:null,instructionText:"",maxItems:null,name:e,refFieldSetField:null,sets:null,type:i}}var um=class{constructor(e,i){this.isMocked=!1;this.rootPath="";this.fieldsetsPath="";this.viewsPath="";this.collectionBlueprintsPath="";this.formBlueprintsPath="";this.globalBlueprintsPath="";this.miscBlueprintsPath="";this.taxonomiesBlueprintsPath="";this.globalFiles=[];this.blueprintFiles=[];this.collectionNames=[];this.speculativeFields=new Map;this.collections=new Map;this.fieldsets=new Map;this.forms=new Map;this.globals=new Map;this.taxonomies=new Map;this.fields=new Map;this.miscFields=new Map;this.blueprintRef=new Map;this.blueprintCollectionRef=new Map;this.templates=[];this.views=[];this.partialCache=[];this.partialViewNames=[];this.taxonomyNames=[];this.hasMacroFile=!1;this.macroFilePath="";this.collectionQueryScopes=[];this.taxonomyTerms=new Map;this.assets=new Map;this.userGroups=new Map;this.userRoles=new Map;this.navigationMenus=new Map;this.blueprints=[];this.viewMap=new Map;this.routeNames=[];this.translationKeys=[];this.uniqueFormNames=[];this.uniquePartialViewNames=[];this.uniqueCollectionNames=[];this.uniqueTaxonomyNames=[];this.uniqueUserGroups=[];this.uniqueUserRoles=[];this.uniqueGlobalSettingNames=[];this.uniqueNavigationNames=[];this.uniqueAssetNames=[];this.publicAssets=[];this.packageMapping=new Map;this.statamicAddonMapping=new Map;this.blueprintFieldReference=[];this.baseResourcePath=i,this.sourceStructure=e,this.rootPath="",this.isMocked=e.isMocked,this.rootPath=e.rootPath,this.fieldsetsPath=e.fieldsetsPath,this.viewsPath=e.viewsPath,this.collectionBlueprintsPath=e.collectionBlueprintsPath,this.formBlueprintsPath=e.formBlueprintsPath,this.globalBlueprintsPath=e.globalBlueprintsPath,this.miscBlueprintsPath=e.miscBlueprintsPath,this.taxonomiesBlueprintsPath=e.taxonomiesBlueprintsPath,this.globalFiles=e.globalFiles,this.blueprintFiles=e.blueprintFiles,this.collectionNames=e.collectionNames,this.blueprints=e.blueprints,this.collections=e.collections,this.assets=e.assets,this.fieldsets=e.fieldsets,this.forms=e.forms,this.globals=e.globals,this.taxonomies=e.taxonomies,this.fields=e.fields,this.miscFields=e.miscFields,this.templates=e.templates,this.views=e.views,this.partialCache=e.partialCache,this.partialViewNames=e.partialViewNames,this.taxonomyNames=e.taxonomyNames,this.macroFilePath=e.macroFilePath,this.hasMacroFile=e.hasMacrosFile,this.collectionQueryScopes=e.collectionScopes,this.taxonomyTerms=e.taxonomyTerms,this.navigationMenus=e.navigationMenus,this.rootPath=e.workingDirectory,this.speculativeFields=e.namedBluePrintFields,this.buildDetails(),typeof this.sourceStructure.restoreProperties!="undefined"&&this.sourceStructure.restoreProperties!=null&&(this.assets=this.sourceStructure.restoreProperties.assets,this.blueprintCollectionRef=this.sourceStructure.restoreProperties.blueprintCollectionRef,this.blueprintFieldReference=this.sourceStructure.restoreProperties.blueprintFieldReference,this.blueprintFiles=this.sourceStructure.restoreProperties.blueprintFiles,this.blueprintRef=this.sourceStructure.restoreProperties.blueprintRef,this.collectionNames=this.sourceStructure.restoreProperties.collectionNames,this.collectionQueryScopes=this.sourceStructure.restoreProperties.collectionQueryScopes,this.collections=this.sourceStructure.restoreProperties.collections,this.fields=this.sourceStructure.restoreProperties.fields,this.fieldsets=this.sourceStructure.restoreProperties.fieldsets,this.blueprints=this.sourceStructure.restoreProperties.blueprints,this.forms=this.sourceStructure.restoreProperties.forms,this.globalFiles=this.sourceStructure.restoreProperties.globalFiles,this.globals=this.sourceStructure.restoreProperties.globals,this.miscFields=this.sourceStructure.restoreProperties.miscFields,this.navigationMenus=this.sourceStructure.restoreProperties.navigationMenus,this.packageMapping=this.sourceStructure.restoreProperties.packageMapping,this.partialCache=this.sourceStructure.restoreProperties.partialCache,this.partialViewNames=this.sourceStructure.restoreProperties.partialViewNames,this.publicAssets=this.sourceStructure.restoreProperties.publicAssets,this.routeNames=this.sourceStructure.restoreProperties.routeNames,this.statamicAddonMapping=this.sourceStructure.restoreProperties.statamicAddonMapping,this.taxonomies=this.sourceStructure.restoreProperties.taxonomies,this.taxonomyNames=this.sourceStructure.restoreProperties.taxonomyNames,this.taxonomyTerms=this.sourceStructure.restoreProperties.taxonomyTerms,this.templates=this.sourceStructure.restoreProperties.templates,this.translationKeys=this.sourceStructure.restoreProperties.translationKeys,this.uniqueAssetNames=this.sourceStructure.restoreProperties.uniqueAssetNames,this.uniqueCollectionNames=this.sourceStructure.restoreProperties.uniqueCollectionNames,this.uniqueFormNames=this.sourceStructure.restoreProperties.uniqueFormNames,this.uniqueGlobalSettingNames=this.sourceStructure.restoreProperties.uniqueGlobalSettingNames,this.uniqueNavigationNames=this.sourceStructure.restoreProperties.uniqueNavigationNames,this.uniquePartialViewNames=this.sourceStructure.restoreProperties.uniquePartialViewNames,this.uniqueTaxonomyNames=this.sourceStructure.restoreProperties.uniqueTaxonomyNames,this.uniqueUserGroups=this.sourceStructure.restoreProperties.uniqueUserGroups,this.uniqueUserRoles=this.sourceStructure.restoreProperties.uniqueUserRoles,this.userGroups=this.sourceStructure.restoreProperties.userGroups,this.userRoles=this.sourceStructure.restoreProperties.userRoles,this.viewMap=this.sourceStructure.restoreProperties.viewMap,this.views=this.sourceStructure.restoreProperties.views)}getViewPath(){return this.viewsPath}getProjectRoot(){return this.rootPath}export(){let e=this.sourceStructure;return e.restoreProperties=this.getRestoreRecords(),e}getRestoreRecords(){return{assets:this.assets,baseResourcePath:this.baseResourcePath,blueprintCollectionRef:this.blueprintCollectionRef,blueprintFieldReference:this.blueprintFieldReference,blueprintFiles:this.blueprintFiles,blueprintRef:this.blueprintRef,collectionNames:this.collectionNames,collectionQueryScopes:this.collectionQueryScopes,blueprints:this.blueprints,collections:this.collections,fields:this.fields,fieldsets:this.fieldsets,forms:this.forms,globalFiles:this.globalFiles,globals:this.globals,miscFields:this.miscFields,navigationMenus:this.navigationMenus,packageMapping:this.packageMapping,partialCache:this.partialCache,partialViewNames:this.partialViewNames,publicAssets:this.publicAssets,routeNames:this.routeNames,statamicAddonMapping:this.statamicAddonMapping,taxonomies:this.taxonomies,taxonomyNames:this.taxonomyNames,taxonomyTerms:this.taxonomyTerms,templates:this.templates,translationKeys:this.translationKeys,uniqueAssetNames:this.uniqueAssetNames,uniqueCollectionNames:this.uniqueCollectionNames,uniqueFormNames:this.uniqueFormNames,uniqueGlobalSettingNames:this.uniqueGlobalSettingNames,uniqueNavigationNames:this.uniqueNavigationNames,uniquePartialViewNames:this.uniquePartialViewNames,uniqueTaxonomyNames:this.uniqueTaxonomyNames,uniqueUserGroups:this.uniqueUserGroups,uniqueUserRoles:this.uniqueUserRoles,userGroups:this.userGroups,userRoles:this.userRoles,viewMap:this.viewMap,views:this.views}}reloadDetails(){return this}findAnyBlueprintField(e){return this.speculativeFields.has(e)?this.speculativeFields.get(e):null}buildImportRefernece(e){if(e.sets!=null)for(let i=0;i<e.sets.length;i++){let r=e.sets[i];for(let n=0;n<r.fields.length;n++){let s=r.fields[n];if(s.import!=null){let a=s.import;if(this.sourceStructure.fieldsets.has(a)){let o=this.sourceStructure.fieldsets.get(a),l=Jb(o);for(let u=0;u<l.length;u++)this.buildImportRefernece(l[u]);r.fields.splice(n,1),r.fields=r.fields.concat(l)}}}}}buildDetails(){var s,a;let e=[],i=[],r=[],n=[];if(typeof this.sourceStructure.assets.forEach!="undefined"&&this.sourceStructure.assets.forEach((o,l)=>{n.push(l)}),typeof this.sourceStructure.forms.forEach!="undefined"&&this.sourceStructure.forms.forEach((o,l)=>{o.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l)}),e.push(l),this.blueprintRef.set(l,o)}),typeof this.sourceStructure.globals.forEach!="undefined"&&this.sourceStructure.globals.forEach((o,l)=>{o.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l)}),i.push(l),this.blueprintRef.set(l,o)}),typeof this.sourceStructure.miscFields.forEach!="undefined"&&this.sourceStructure.miscFields.forEach((o,l)=>{o.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l)}),this.blueprintRef.set(l,o)}),typeof this.sourceStructure.taxonomies.forEach!="undefined"&&this.sourceStructure.taxonomies.forEach((o,l)=>{o.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l)}),this.blueprintRef.set(l,o)}),typeof this.sourceStructure.fields.forEach!="undefined"&&this.sourceStructure.fields.forEach((o,l)=>{o.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l)}),this.blueprintRef.set(l,o)}),typeof this.sourceStructure.navigationMenus.forEach!="undefined"&&this.sourceStructure.navigationMenus.forEach((o,l)=>{r.push(l)}),typeof this.sourceStructure.views.forEach!="undefined"&&this.sourceStructure.views.forEach((o,l)=>{this.viewMap.set(o.documentUri,o)}),typeof this.sourceStructure.composerPackages.forEach!="undefined"&&this.sourceStructure.composerPackages.forEach(o=>{o.isStatamicAddon&&this.statamicAddonMapping.set(o.name,o),this.packageMapping.set(o.name,o)}),this.uniqueAssetNames=[...new Set(n)],this.uniqueNavigationNames=[...new Set(r)],this.uniqueGlobalSettingNames=[...new Set(i)],this.uniqueFormNames=[...new Set(e)],this.uniqueCollectionNames=[...new Set(this.collectionNames)],this.uniquePartialViewNames=[...new Set(this.partialViewNames)],this.uniqueTaxonomyNames=[...new Set(this.taxonomyNames)],(s=Ve.instance)==null||s.resetMacros(),this.hasMacroFile){let o=mA(this.macroFilePath);o.length>0&&((a=Ve.instance)==null||a.registerMacros(o))}this.uniqueUserRoles=[...new Set(this.sourceStructure.userRoleNames)],this.uniqueUserGroups=[...new Set(this.sourceStructure.userGroupNames)],this.sourceStructure.searchIndexes.length==0&&this.sourceStructure.searchIndexes.push("default");for(let o=0;o<this.sourceStructure.internalFieldReference.length;o++)this.buildImportRefernece(this.sourceStructure.internalFieldReference[o])}getWorkingDirectory(){return this.sourceStructure.workingDirectory}getOAuthProviders(){return[]}getSiteNames(){return[]}getSearchIndexes(){return this.sourceStructure.searchIndexes}getStatamicVersion(){return this.sourceStructure.statamicPackage!=null?this.sourceStructure.statamicPackage.version:""}hasComposerPackage(e){return this.packageMapping.has(e)}hasStatamicAddon(e){return this.statamicAddonMapping.has(e)}getAddonDetails(e){return this.hasStatamicAddon(e)?this.statamicAddonMapping.get(e):null}getComposerPackages(){return this.packageMapping}getComposerPackageDetails(e){return this.hasComposerPackage(e)?this.packageMapping.get(e):null}getPartials(){return this.sourceStructure.partialCache}getBlueprintNames(){let e=[];return this.blueprintRef.forEach((i,r)=>{r.startsWith("*")==!1&&e.includes(r)==!1&&e.push(r)}),e}getBlueprintDetails(e){if(this.blueprintRef.has(e)==!1){let i=[];return i.push(Ny(e,"title","text")),i.push(Ny(e,"content","markdown")),i.push(Ny(e,"slug","slug")),i}return this.blueprintRef.get(e)}hasViewCollectionInjections(e){return this.viewMap.has(e)==!1?!1:this.viewMap.get(e).injectsCollections.length>0}getCollectionNames(){return this.collectionNames}getCollectionNamesForView(e){return this.viewMap.has(e)==!1?[]:this.viewMap.get(e).injectsCollections}getPublicAssetPaths(){return this.publicAssets}getTaxonomyTerms(e){return this.hasTaxonomy(e)?this.taxonomyTerms.get(e):[]}hasTaxonomy(e){return this.taxonomyNames.includes(e)}getCollectionQueryScopes(){return this.collectionQueryScopes}getBlueprintFields(e){let i=[];for(let r=0;r<e.length;r++){let n=e[r],s=this.getCollectionDetails(n);if(s!=null&&s.injectFields!=null)for(let a=0;a<s.injectFields.length;a++)i.push({blueprintName:"*inject",displayName:s.injectFields[a],import:null,instructionText:null,maxItems:null,name:s.injectFields[r],refFieldSetField:null,sets:null,type:"*"});if(this.fields.has(n)){let a=this.fields.get(n);typeof a!="undefined"&&a!==null&&(i=i.concat(a))}}return i}getBlueprintField(e,i){let r=e;if(this.blueprintCollectionRef.has(r)&&(r=this.blueprintCollectionRef.get(r)),this.fields.has(r)){let n=this.fields.get(r);for(let s=0;s<n.length;s++)if(n[s].name==i)return n[s]}return null}getFields(){return this.fields}getTaxonomyBlueprintFields(e){let i=[];for(let r=0;r<e.length;r++){let n=e[r];if(this.taxonomies.has(n)){let s=this.taxonomies.get(n);typeof s!="undefined"&&s!==null&&(i=i.concat(s))}}return i}getUserFields(){return this.miscFields.has("user")?this.miscFields.get("user"):[]}getAssetBlueprintFields(e){return this.sourceStructure.assetFields.has(e)?this.sourceStructure.assetFields.get(e):[]}getUniqueTaxonomyNames(){return this.uniqueTaxonomyNames}getUniqueCollectionNames(){return this.uniqueCollectionNames}getUniquePartialNames(){return this.uniquePartialViewNames}getUniqueUserGroupNames(){return this.uniqueUserGroups}getUniqueUserRoleNames(){return this.uniqueUserRoles}getUniqueFormNames(){return this.uniqueFormNames}getAssetPresets(){return[]}getUniqueGlobalsNames(){return this.uniqueGlobalSettingNames}getUniqueNavigationMenuNames(){return this.uniqueNavigationNames}getUniqueAssetNames(){return this.uniqueAssetNames}getCollectionDetails(e){return this.collections.has(e)?this.collections.get(e):null}getFormBlueprintFields(e){if(this.forms.has(e)){let i=this.forms.get(e);return typeof i=="undefined"||i===null?[]:i}return[]}getRouteNames(){return this.routeNames}getTranslationKeys(){return this.translationKeys}getTemplateNames(){let e=[];return this.views.forEach(i=>{let r=Lt(i.relativeDisplayName,"/",".");e.includes(r)==!1&&e.push(r)}),e}getViews(){return this.views}findView(e){if(e.trim()=="")return null;let i=vC(e);for(let r=0;r<this.views.length;r++)if(this.views[r].path==i)return this.views[r];return null}findRelativeView(e){e=Lt(e,"\\.","/");for(let i=0;i<this.views.length;i++)if(this.views[i].relativeDisplayName==e)return this.views[i];return null}findPartial(e){e=Lt(e,"\\.","/");for(let i=0;i<this.views.length;i++)if(this.views[i].isPartial&&this.views[i].relativeDisplayName==e)return this.views[i];return null}};function BV(t,e){for(let i=0;i<e.allFields.length;i++)if(e.allFields[i].handle==t)return e.allFields[i];return null}function jV(t,e){let i=[];return e.allFields.forEach(r=>{try{let n=r.handle;t!=null&&(n=t+n),i.push({...r,handle:n,isLinked:!0,linkedFrom:e.handle+"."+r.handle})}catch{}}),i}function h(t,e,i){if(typeof t[e]!="undefined")try{return t[e]}catch{}return i}var Sy=class{constructor(){this.fieldSets=new Map}setFieldSets(e){this.fieldSets=e}_parseArrayFieldType(e){let i=h(e.field,"mode","dynamic"),r=h(e.field,"keys",null),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation",""),d=h(e.field,"instructions","");return{mode:i,keys:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"array"}}_parseAssetContainerFieldType(e){let i=h(e.field,"max_items",null),r=h(e.field,"mode","default"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation",""),d=h(e.field,"instructions","");return{maxItems:i,mode:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"asset_container"}}_parseAssetFolderFieldType(e){let i=h(e.field,"max_items",null),r=h(e.field,"mode","default"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation",""),d=h(e.field,"instructions","");return{maxItems:i,mode:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"asset_folder"}}_parseAssetsFieldType(e){let i=h(e.field,"mode","list"),r=h(e.field,"container","assets"),n=h(e.field,"folder",null),s=h(e.field,"restrict",null),a=h(e.field,"allow_uploads",!0),o=h(e.field,"show_filename",!0),l=h(e.field,"max_files",null),u=[],c=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(u=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(c=this.parseFields(e.field));let f=h(e.field,"required",!1),d=h(e.field,"type","text"),p=h(e.field,"unless",[]),m=h(e.field,"validate",[]),T=h(e.field,"display",""),P=h(e.field,"__documentation",""),_=h(e.field,"instructions","");return{mode:i,container:r,folder:n,restrict:s,allowUploads:a,showFilename:o,maxFiles:l,required:f,type:d,validate:m,unless:p,display:T,handle:"temp_handle",sets:u,fields:c,isLinked:!1,linkedFrom:"",developerDocumentation:P,instructionText:_,internalIcon:"assets"}}_parseBardFieldType(e){let i=h(e.field,"collapse",null),r=h(e.field,"always_show_set_button",null),n=h(e.field,"previews",!0),s=h(e.field,"buttons",["h2","h3","bold","italic","unorderedlist","orderedlist","removeformat","quote","anchor","image","table"]),a=h(e.field,"container",null),o=h(e.field,"save_html",null),l=h(e.field,"toolbar_mode","fixed"),u=h(e.field,"link_noopener",null),c=h(e.field,"link_noreferrer",null),f=h(e.field,"target_blank",null),d=h(e.field,"link_collections",null),p=h(e.field,"reading_time",null),m=h(e.field,"fullscreen",!0),T=h(e.field,"allow_source",!0),P=h(e.field,"enable_input_rules",!0),_=h(e.field,"enable_paste_rules",!0),g=h(e.field,"antlers",null),y=h(e.field,"remove_empty_nodes","false"),E=[],L=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(E=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(L=this.parseFields(e.field));let C=h(e.field,"required",!1),B=h(e.field,"type","text"),w=h(e.field,"unless",[]),$=h(e.field,"validate",[]),oe=h(e.field,"display",""),U=h(e.field,"__documentation",""),J=h(e.field,"instructions","");return{collapse:i,alwaysShowSetButton:r,previews:n,buttons:s,container:a,saveHtml:o,toolbarMode:l,linkNoopener:u,linkNoreferrer:c,targetBlank:f,linkCollections:d,readingTime:p,fullscreen:m,allowSource:T,enableInputRules:P,enablePasteRules:_,antlers:g,removeEmptyNodes:y,required:C,type:B,validate:$,unless:w,display:oe,handle:"temp_handle",sets:E,fields:L,isLinked:!1,linkedFrom:"",developerDocumentation:U,instructionText:J,internalIcon:"bard"}}_parseReplicatorFieldType(e){let i=h(e.field,"collapse",null),r=h(e.field,"previews",!0),n=h(e.field,"max_sets",null),s=[],a=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(s=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(a=this.parseFields(e.field));let o=h(e.field,"required",!1),l=h(e.field,"type","text"),u=h(e.field,"unless",[]),c=h(e.field,"validate",[]),f=h(e.field,"display",""),d=h(e.field,"__documentation",""),p=h(e.field,"instructions","");return{collapse:i,previews:r,maxSets:n,required:o,type:l,validate:c,unless:u,display:f,handle:"temp_handle",sets:s,fields:a,isLinked:!1,linkedFrom:"",developerDocumentation:d,instructionText:p,internalIcon:"replicator"}}_parseBardButtonsSettingFieldType(e){let i=[],r=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(i=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(r=this.parseFields(e.field));let n=h(e.field,"required",!1),s=h(e.field,"type","text"),a=h(e.field,"unless",[]),o=h(e.field,"validate",[]),l=h(e.field,"display",""),u=h(e.field,"__documentation",""),c=h(e.field,"instructions","");return{required:n,type:s,validate:o,unless:a,display:l,handle:"temp_handle",sets:i,fields:r,isLinked:!1,linkedFrom:"",developerDocumentation:u,instructionText:c,internalIcon:"bard_buttons_setting"}}_parseButtonGroupFieldType(e){let i=h(e.field,"options",null),r=h(e.field,"default",null),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation",""),d=h(e.field,"instructions","");return{options:i,default:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"button_group"}}_parseCheckboxesFieldType(e){let i=h(e.field,"inline",null),r=h(e.field,"options",null),n=h(e.field,"default",null),s=[],a=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(s=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(a=this.parseFields(e.field));let o=h(e.field,"required",!1),l=h(e.field,"type","text"),u=h(e.field,"unless",[]),c=h(e.field,"validate",[]),f=h(e.field,"display",""),d=h(e.field,"__documentation",""),p=h(e.field,"instructions","");return{inline:i,options:r,default:n,required:o,type:l,validate:c,unless:u,display:f,handle:"temp_handle",sets:s,fields:a,isLinked:!1,linkedFrom:"",developerDocumentation:d,instructionText:p,internalIcon:"checkboxes"}}_parseCodeFieldType(e){let i=h(e.field,"theme","material"),r=h(e.field,"mode","htmlmixed"),n=h(e.field,"mode_selectable",null),s=h(e.field,"indent_type","tabs"),a=h(e.field,"indent_size",4),o=h(e.field,"key_map","default"),l=h(e.field,"line_numbers",!0),u=h(e.field,"line_wrapping",!0),c=[],f=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(c=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(f=this.parseFields(e.field));let d=h(e.field,"required",!1),p=h(e.field,"type","text"),m=h(e.field,"unless",[]),T=h(e.field,"validate",[]),P=h(e.field,"display",""),_=h(e.field,"__documentation",""),g=h(e.field,"instructions","");return{theme:i,mode:r,modeSelectable:n,indentType:s,indentSize:a,keyMap:o,lineNumbers:l,lineWrapping:u,required:d,type:p,validate:T,unless:m,display:P,handle:"temp_handle",sets:c,fields:f,isLinked:!1,linkedFrom:"",developerDocumentation:_,instructionText:g,internalIcon:"code"}}_parseCollectionRoutesFieldType(e){let i=[],r=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(i=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(r=this.parseFields(e.field));let n=h(e.field,"required",!1),s=h(e.field,"type","text"),a=h(e.field,"unless",[]),o=h(e.field,"validate",[]),l=h(e.field,"display",""),u=h(e.field,"__documentation",""),c=h(e.field,"instructions","");return{required:n,type:s,validate:o,unless:a,display:l,handle:"temp_handle",sets:i,fields:r,isLinked:!1,linkedFrom:"",developerDocumentation:u,instructionText:c,internalIcon:"collection_routes"}}_parseCollectionTitleFormatsFieldType(e){let i=[],r=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(i=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(r=this.parseFields(e.field));let n=h(e.field,"required",!1),s=h(e.field,"type","text"),a=h(e.field,"unless",[]),o=h(e.field,"validate",[]),l=h(e.field,"display",""),u=h(e.field,"__documentation",""),c=h(e.field,"instructions","");return{required:n,type:s,validate:o,unless:a,display:l,handle:"temp_handle",sets:i,fields:r,isLinked:!1,linkedFrom:"",developerDocumentation:u,instructionText:c,internalIcon:"collection_title_formats"}}_parseCollectionsFieldType(e){let i=h(e.field,"max_items",null),r=h(e.field,"mode","default"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation",""),d=h(e.field,"instructions","");return{maxItems:i,mode:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"collections"}}_parseColorFieldType(e){let i=h(e.field,"swatches",null),r=h(e.field,"theme","classic"),n=h(e.field,"lock_opacity",null),s=h(e.field,"default_color_mode","HEXA"),a=h(e.field,"color_modes",["HEXA","RGBA","HSLA","HSVA","CMYK"]),o=[],l=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(o=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(l=this.parseFields(e.field));let u=h(e.field,"required",!1),c=h(e.field,"type","text"),f=h(e.field,"unless",[]),d=h(e.field,"validate",[]),p=h(e.field,"display",""),m=h(e.field,"__documentation",""),T=h(e.field,"instructions","");return{swatches:i,theme:r,lockOpacity:n,defaultColorMode:s,colorModes:a,required:u,type:c,validate:d,unless:f,display:p,handle:"temp_handle",sets:o,fields:l,isLinked:!1,linkedFrom:"",developerDocumentation:m,instructionText:T,internalIcon:"color"}}_parseDateFieldType(e){let i=h(e.field,"mode","single"),r=h(e.field,"format",null),n=h(e.field,"earliest_date",null),s=h(e.field,"latest_date",null),a=h(e.field,"time_enabled",null),o=h(e.field,"time_seconds_enabled",null),l=h(e.field,"full_width",null),u=h(e.field,"inline",null),c=h(e.field,"columns",1),f=h(e.field,"rows",1),d=[],p=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(d=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(p=this.parseFields(e.field));let m=h(e.field,"required",!1),T=h(e.field,"type","text"),P=h(e.field,"unless",[]),_=h(e.field,"validate",[]),g=h(e.field,"display",""),y=h(e.field,"__documentation",""),E=h(e.field,"instructions","");return{mode:i,format:r,earliestDate:n,latestDate:s,timeEnabled:a,timeSecondsEnabled:o,fullWidth:l,inline:u,columns:c,rows:f,required:m,type:T,validate:_,unless:P,display:g,handle:"temp_handle",sets:d,fields:p,isLinked:!1,linkedFrom:"",developerDocumentation:y,instructionText:E,internalIcon:"date"}}_parseEntriesFieldType(e){let i=h(e.field,"max_items",null),r=h(e.field,"mode","default"),n=h(e.field,"create",!0),s=h(e.field,"collections",null),a=[],o=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(a=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(o=this.parseFields(e.field));let l=h(e.field,"required",!1),u=h(e.field,"type","text"),c=h(e.field,"unless",[]),f=h(e.field,"validate",[]),d=h(e.field,"display",""),p=h(e.field,"__documentation",""),m=h(e.field,"instructions","");return{maxItems:i,mode:r,create:n,collections:s,required:l,type:u,validate:f,unless:c,display:d,handle:"temp_handle",sets:a,fields:o,isLinked:!1,linkedFrom:"",developerDocumentation:p,instructionText:m,internalIcon:"entries"}}_parseFilesFieldType(e){let i=h(e.field,"max_files",null),r=[],n=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(r=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(n=this.parseFields(e.field));let s=h(e.field,"required",!1),a=h(e.field,"type","text"),o=h(e.field,"unless",[]),l=h(e.field,"validate",[]),u=h(e.field,"display",""),c=h(e.field,"__documentation",""),f=h(e.field,"instructions","");return{maxFiles:i,required:s,type:a,validate:l,unless:o,display:u,handle:"temp_handle",sets:r,fields:n,isLinked:!1,linkedFrom:"",developerDocumentation:c,instructionText:f,internalIcon:"files"}}_parseFloatFieldType(e){let i=h(e.field,"default",null),r=[],n=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(r=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(n=this.parseFields(e.field));let s=h(e.field,"required",!1),a=h(e.field,"type","text"),o=h(e.field,"unless",[]),l=h(e.field,"validate",[]),u=h(e.field,"display",""),c=h(e.field,"__documentation",""),f=h(e.field,"instructions","");return{default:i,required:s,type:a,validate:l,unless:o,display:u,handle:"temp_handle",sets:r,fields:n,isLinked:!1,linkedFrom:"",developerDocumentation:c,instructionText:f,internalIcon:"float"}}_parseGlobalSetSitesFieldType(e){let i=[],r=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(i=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(r=this.parseFields(e.field));let n=h(e.field,"required",!1),s=h(e.field,"type","text"),a=h(e.field,"unless",[]),o=h(e.field,"validate",[]),l=h(e.field,"display",""),u=h(e.field,"__documentation",""),c=h(e.field,"instructions","");return{required:n,type:s,validate:o,unless:a,display:l,handle:"temp_handle",sets:i,fields:r,isLinked:!1,linkedFrom:"",developerDocumentation:u,instructionText:c,internalIcon:"global_set_sites"}}_parseGridFieldType(e){let i=h(e.field,"mode","table"),r=h(e.field,"max_rows",null),n=h(e.field,"min_rows",null),s=h(e.field,"add_row",null),a=h(e.field,"reorderable",!0),o=[],l=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(o=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(l=this.parseFields(e.field));let u=h(e.field,"required",!1),c=h(e.field,"type","text"),f=h(e.field,"unless",[]),d=h(e.field,"validate",[]),p=h(e.field,"display",""),m=h(e.field,"__documentation",""),T=h(e.field,"instructions","");return{mode:i,maxRows:r,minRows:n,addRow:s,reorderable:a,required:u,type:c,validate:d,unless:f,display:p,handle:"temp_handle",sets:o,fields:l,isLinked:!1,linkedFrom:"",developerDocumentation:m,instructionText:T,internalIcon:"grid"}}_parseHiddenFieldType(e){let i=h(e.field,"default",null),r=[],n=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(r=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(n=this.parseFields(e.field));let s=h(e.field,"required",!1),a=h(e.field,"type","text"),o=h(e.field,"unless",[]),l=h(e.field,"validate",[]),u=h(e.field,"display",""),c=h(e.field,"__documentation",""),f=h(e.field,"instructions","");return{default:i,required:s,type:a,validate:l,unless:o,display:u,handle:"temp_handle",sets:r,fields:n,isLinked:!1,linkedFrom:"",developerDocumentation:c,instructionText:f,internalIcon:"hidden"}}_parseHtmlFieldType(e){let i=h(e.field,"html",null),r=[],n=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(r=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(n=this.parseFields(e.field));let s=h(e.field,"required",!1),a=h(e.field,"type","text"),o=h(e.field,"unless",[]),l=h(e.field,"validate",[]),u=h(e.field,"display",""),c=h(e.field,"__documentation",""),f=h(e.field,"instructions","");return{html:i,required:s,type:a,validate:l,unless:o,display:u,handle:"temp_handle",sets:r,fields:n,isLinked:!1,linkedFrom:"",developerDocumentation:c,instructionText:f,internalIcon:"html"}}_parseIntegerFieldType(e){let i=h(e.field,"default",null),r=[],n=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(r=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(n=this.parseFields(e.field));let s=h(e.field,"required",!1),a=h(e.field,"type","text"),o=h(e.field,"unless",[]),l=h(e.field,"validate",[]),u=h(e.field,"display",""),c=h(e.field,"__documentation",""),f=h(e.field,"instructions","");return{default:i,required:s,type:a,validate:l,unless:o,display:u,handle:"temp_handle",sets:r,fields:n,isLinked:!1,linkedFrom:"",developerDocumentation:c,instructionText:f,internalIcon:"integer"}}_parseLinkFieldType(e){let i=h(e.field,"collections",null),r=h(e.field,"container",null),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation",""),d=h(e.field,"instructions","");return{collections:i,container:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"link"}}_parseListFieldType(e){let i=h(e.field,"default",null),r=[],n=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(r=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(n=this.parseFields(e.field));let s=h(e.field,"required",!1),a=h(e.field,"type","text"),o=h(e.field,"unless",[]),l=h(e.field,"validate",[]),u=h(e.field,"display",""),c=h(e.field,"__documentation",""),f=h(e.field,"instructions","");return{default:i,required:s,type:a,validate:l,unless:o,display:u,handle:"temp_handle",sets:r,fields:n,isLinked:!1,linkedFrom:"",developerDocumentation:c,instructionText:f,internalIcon:"list"}}_parseMarkdownFieldType(e){let i=h(e.field,"container",null),r=h(e.field,"folder",null),n=h(e.field,"restrict",null),s=h(e.field,"automatic_line_breaks",!0),a=h(e.field,"automatic_links",null),o=h(e.field,"escape_markup",null),l=h(e.field,"smartypants",null),u=h(e.field,"parser",null),c=h(e.field,"antlers",null),f=h(e.field,"default",null),d=[],p=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(d=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(p=this.parseFields(e.field));let m=h(e.field,"required",!1),T=h(e.field,"type","text"),P=h(e.field,"unless",[]),_=h(e.field,"validate",[]),g=h(e.field,"display",""),y=h(e.field,"__documentation",""),E=h(e.field,"instructions","");return{container:i,folder:r,restrict:n,automaticLineBreaks:s,automaticLinks:a,escapeMarkup:o,smartypants:l,parser:u,antlers:c,default:f,required:m,type:T,validate:_,unless:P,display:g,handle:"temp_handle",sets:d,fields:p,isLinked:!1,linkedFrom:"",developerDocumentation:y,instructionText:E,internalIcon:"markdown"}}_parseFieldsFieldType(e){let i=[],r=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(i=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(r=this.parseFields(e.field));let n=h(e.field,"required",!1),s=h(e.field,"type","text"),a=h(e.field,"unless",[]),o=h(e.field,"validate",[]),l=h(e.field,"display",""),u=h(e.field,"__documentation",""),c=h(e.field,"instructions","");return{required:n,type:s,validate:o,unless:a,display:l,handle:"temp_handle",sets:i,fields:r,isLinked:!1,linkedFrom:"",developerDocumentation:u,instructionText:c,internalIcon:"fields"}}_parseRadioFieldType(e){let i=h(e.field,"options",null),r=h(e.field,"inline",null),n=h(e.field,"cast_booleans",null),s=h(e.field,"default",null),a=[],o=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(a=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(o=this.parseFields(e.field));let l=h(e.field,"required",!1),u=h(e.field,"type","text"),c=h(e.field,"unless",[]),f=h(e.field,"validate",[]),d=h(e.field,"display",""),p=h(e.field,"__documentation",""),m=h(e.field,"instructions","");return{options:i,inline:r,castBooleans:n,default:s,required:l,type:u,validate:f,unless:c,display:d,handle:"temp_handle",sets:a,fields:o,isLinked:!1,linkedFrom:"",developerDocumentation:p,instructionText:m,internalIcon:"radio"}}_parseRangeFieldType(e){let i=h(e.field,"hidden",null),r=h(e.field,"min",null),n=h(e.field,"max",100),s=h(e.field,"step",1),a=h(e.field,"default",null),o=h(e.field,"prepend",null),l=h(e.field,"append",null),u=[],c=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(u=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(c=this.parseFields(e.field));let f=h(e.field,"required",!1),d=h(e.field,"type","text"),p=h(e.field,"unless",[]),m=h(e.field,"validate",[]),T=h(e.field,"display",""),P=h(e.field,"__documentation",""),_=h(e.field,"instructions","");return{hidden:i,min:r,max:n,step:s,default:a,prepend:o,append:l,required:f,type:d,validate:m,unless:p,display:T,handle:"temp_handle",sets:u,fields:c,isLinked:!1,linkedFrom:"",developerDocumentation:P,instructionText:_,internalIcon:"range"}}_parseRevealerFieldType(e){let i=h(e.field,"mode","button"),r=h(e.field,"input_label",""),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation",""),d=h(e.field,"instructions","");return{mode:i,inputLabel:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"revealer"}}_parseSectionFieldType(e){let i=[],r=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(i=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(r=this.parseFields(e.field));let n=h(e.field,"required",!1),s=h(e.field,"type","text"),a=h(e.field,"unless",[]),o=h(e.field,"validate",[]),l=h(e.field,"display",""),u=h(e.field,"__documentation",""),c=h(e.field,"instructions","");return{required:n,type:s,validate:o,unless:a,display:l,handle:"temp_handle",sets:i,fields:r,isLinked:!1,linkedFrom:"",developerDocumentation:u,instructionText:c,internalIcon:"section"}}_parseSelectFieldType(e){let i=h(e.field,"placeholder",""),r=h(e.field,"options",null),n=h(e.field,"multiple",null),s=h(e.field,"max_items",null),a=h(e.field,"clearable",null),o=h(e.field,"searchable",!0),l=h(e.field,"taggable",null),u=h(e.field,"push_tags",null),c=h(e.field,"cast_booleans",null),f=h(e.field,"default",null),d=[],p=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(d=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(p=this.parseFields(e.field));let m=h(e.field,"required",!1),T=h(e.field,"type","text"),P=h(e.field,"unless",[]),_=h(e.field,"validate",[]),g=h(e.field,"display",""),y=h(e.field,"__documentation",""),E=h(e.field,"instructions","");return{placeholder:i,options:r,multiple:n,maxItems:s,clearable:a,searchable:o,taggable:l,pushTags:u,castBooleans:c,default:f,required:m,type:T,validate:_,unless:P,display:g,handle:"temp_handle",sets:d,fields:p,isLinked:!1,linkedFrom:"",developerDocumentation:y,instructionText:E,internalIcon:"select"}}_parseSetsFieldType(e){let i=[],r=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(i=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(r=this.parseFields(e.field));let n=h(e.field,"required",!1),s=h(e.field,"type","text"),a=h(e.field,"unless",[]),o=h(e.field,"validate",[]),l=h(e.field,"display",""),u=h(e.field,"__documentation",""),c=h(e.field,"instructions","");return{required:n,type:s,validate:o,unless:a,display:l,handle:"temp_handle",sets:i,fields:r,isLinked:!1,linkedFrom:"",developerDocumentation:u,instructionText:c,internalIcon:"sets"}}_parseSitesFieldType(e){let i=h(e.field,"max_items",null),r=h(e.field,"mode","default"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation",""),d=h(e.field,"instructions","");return{maxItems:i,mode:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"sites"}}_parseStructuresFieldType(e){let i=h(e.field,"max_items",null),r=h(e.field,"mode","default"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation",""),d=h(e.field,"instructions","");return{maxItems:i,mode:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"structures"}}_parseSlugFieldType(e){let i=h(e.field,"from","title"),r=h(e.field,"generate",!0),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation",""),d=h(e.field,"instructions","");return{from:i,generate:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"slug"}}_parseTextFieldType(e){let i=h(e.field,"placeholder",null),r=h(e.field,"input_type","text"),n=h(e.field,"character_limit",null),s=h(e.field,"prepend",null),a=h(e.field,"append",null),o=h(e.field,"antlers",null),l=h(e.field,"default",null),u=[],c=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(u=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(c=this.parseFields(e.field));let f=h(e.field,"required",!1),d=h(e.field,"type","text"),p=h(e.field,"unless",[]),m=h(e.field,"validate",[]),T=h(e.field,"display",""),P=h(e.field,"__documentation",""),_=h(e.field,"instructions","");return{placeholder:i,inputType:r,characterLimit:n,prepend:s,append:a,antlers:o,default:l,required:f,type:d,validate:m,unless:p,display:T,handle:"temp_handle",sets:u,fields:c,isLinked:!1,linkedFrom:"",developerDocumentation:P,instructionText:_,internalIcon:"text"}}_parseTableFieldType(e){let i=[],r=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(i=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(r=this.parseFields(e.field));let n=h(e.field,"required",!1),s=h(e.field,"type","text"),a=h(e.field,"unless",[]),o=h(e.field,"validate",[]),l=h(e.field,"display",""),u=h(e.field,"__documentation",""),c=h(e.field,"instructions","");return{required:n,type:s,validate:o,unless:a,display:l,handle:"temp_handle",sets:i,fields:r,isLinked:!1,linkedFrom:"",developerDocumentation:u,instructionText:c,internalIcon:"table"}}_parseTaggableFieldType(e){let i=h(e.field,"placeholder",""),r=[],n=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(r=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(n=this.parseFields(e.field));let s=h(e.field,"required",!1),a=h(e.field,"type","text"),o=h(e.field,"unless",[]),l=h(e.field,"validate",[]),u=h(e.field,"display",""),c=h(e.field,"__documentation",""),f=h(e.field,"instructions","");return{placeholder:i,required:s,type:a,validate:l,unless:o,display:u,handle:"temp_handle",sets:r,fields:n,isLinked:!1,linkedFrom:"",developerDocumentation:c,instructionText:f,internalIcon:"tags"}}_parseTermsFieldType(e){let i=h(e.field,"max_items",null),r=h(e.field,"mode","default"),n=h(e.field,"create",!0),s=h(e.field,"taxonomies",null),a=[],o=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(a=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(o=this.parseFields(e.field));let l=h(e.field,"required",!1),u=h(e.field,"type","text"),c=h(e.field,"unless",[]),f=h(e.field,"validate",[]),d=h(e.field,"display",""),p=h(e.field,"__documentation",""),m=h(e.field,"instructions","");return{maxItems:i,mode:r,create:n,taxonomies:s,required:l,type:u,validate:f,unless:c,display:d,handle:"temp_handle",sets:a,fields:o,isLinked:!1,linkedFrom:"",developerDocumentation:p,instructionText:m,internalIcon:"taxonomy"}}_parseTaxonomiesFieldType(e){let i=h(e.field,"max_items",null),r=h(e.field,"mode","default"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation",""),d=h(e.field,"instructions","");return{maxItems:i,mode:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"taxonomy"}}_parseTemplateFieldType(e){let i=h(e.field,"hide_partials",!0),r=h(e.field,"blueprint",null),n=h(e.field,"folder",null),s=[],a=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(s=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(a=this.parseFields(e.field));let o=h(e.field,"required",!1),l=h(e.field,"type","text"),u=h(e.field,"unless",[]),c=h(e.field,"validate",[]),f=h(e.field,"display",""),d=h(e.field,"__documentation",""),p=h(e.field,"instructions","");return{hidePartials:i,blueprint:r,folder:n,required:o,type:l,validate:c,unless:u,display:f,handle:"temp_handle",sets:s,fields:a,isLinked:!1,linkedFrom:"",developerDocumentation:d,instructionText:p,internalIcon:"template"}}_parseTemplateFolderFieldType(e){let i=h(e.field,"max_items",null),r=h(e.field,"mode","default"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation",""),d=h(e.field,"instructions","");return{maxItems:i,mode:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"template_folder"}}_parseTextareaFieldType(e){let i=h(e.field,"placeholder",null),r=h(e.field,"character_limit",null),n=h(e.field,"antlers",null),s=h(e.field,"default",null),a=[],o=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(a=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(o=this.parseFields(e.field));let l=h(e.field,"required",!1),u=h(e.field,"type","text"),c=h(e.field,"unless",[]),f=h(e.field,"validate",[]),d=h(e.field,"display",""),p=h(e.field,"__documentation",""),m=h(e.field,"instructions","");return{placeholder:i,characterLimit:r,antlers:n,default:s,required:l,type:u,validate:f,unless:c,display:d,handle:"temp_handle",sets:a,fields:o,isLinked:!1,linkedFrom:"",developerDocumentation:p,instructionText:m,internalIcon:"textarea"}}_parseTimeFieldType(e){let i=h(e.field,"seconds_enabled",null),r=h(e.field,"default",null),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation",""),d=h(e.field,"instructions","");return{secondsEnabled:i,default:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"time"}}_parseToggleFieldType(e){let i=h(e.field,"inline_label",""),r=h(e.field,"default",null),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation",""),d=h(e.field,"instructions","");return{inlineLabel:i,default:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"toggle"}}_parseUserGroupsFieldType(e){let i=h(e.field,"max_items",null),r=h(e.field,"mode","default"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation",""),d=h(e.field,"instructions","");return{maxItems:i,mode:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"user_groups"}}_parseUserRolesFieldType(e){let i=h(e.field,"max_items",null),r=h(e.field,"mode","default"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation",""),d=h(e.field,"instructions","");return{maxItems:i,mode:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"user_roles"}}_parseUsersFieldType(e){let i=h(e.field,"max_items",null),r=h(e.field,"mode","select"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation",""),d=h(e.field,"instructions","");return{maxItems:i,mode:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"users"}}_parseVideoFieldType(e){let i=h(e.field,"default",null),r=h(e.field,"placeholder",null),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation",""),d=h(e.field,"instructions","");return{default:i,placeholder:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"video"}}_parseYamlFieldType(e){let i=h(e.field,"default",null),r=[],n=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(r=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(n=this.parseFields(e.field));let s=h(e.field,"required",!1),a=h(e.field,"type","text"),o=h(e.field,"unless",[]),l=h(e.field,"validate",[]),u=h(e.field,"display",""),c=h(e.field,"__documentation",""),f=h(e.field,"instructions","");return{default:i,required:s,type:a,validate:l,unless:o,display:u,handle:"temp_handle",sets:r,fields:n,isLinked:!1,linkedFrom:"",developerDocumentation:c,instructionText:f,internalIcon:"yaml"}}_parseFormFieldType(e){let i=h(e.field,"placeholder",null),r=h(e.field,"max_items",1),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation",""),d=h(e.field,"instructions","");return{placeholder:i,maxItems:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"form"}}parse(e){let i=[];if(typeof e.field!="undefined"&&typeof e.field.type!="undefined"){let r=e.field.type;r=="array"&&i.push(this._parseArrayFieldType(e)),r=="asset_container"&&i.push(this._parseAssetContainerFieldType(e)),r=="asset_folder"&&i.push(this._parseAssetFolderFieldType(e)),r=="assets"&&i.push(this._parseAssetsFieldType(e)),r=="bard"&&i.push(this._parseBardFieldType(e)),r=="replicator"&&i.push(this._parseReplicatorFieldType(e)),r=="bard_buttons_setting"&&i.push(this._parseBardButtonsSettingFieldType(e)),r=="button_group"&&i.push(this._parseButtonGroupFieldType(e)),r=="checkboxes"&&i.push(this._parseCheckboxesFieldType(e)),r=="code"&&i.push(this._parseCodeFieldType(e)),r=="collection_routes"&&i.push(this._parseCollectionRoutesFieldType(e)),r=="collection_title_formats"&&i.push(this._parseCollectionTitleFormatsFieldType(e)),r=="collections"&&i.push(this._parseCollectionsFieldType(e)),r=="color"&&i.push(this._parseColorFieldType(e)),r=="date"&&i.push(this._parseDateFieldType(e)),r=="entries"&&i.push(this._parseEntriesFieldType(e)),r=="files"&&i.push(this._parseFilesFieldType(e)),r=="float"&&i.push(this._parseFloatFieldType(e)),r=="global_set_sites"&&i.push(this._parseGlobalSetSitesFieldType(e)),r=="grid"&&i.push(this._parseGridFieldType(e)),r=="hidden"&&i.push(this._parseHiddenFieldType(e)),r=="html"&&i.push(this._parseHtmlFieldType(e)),r=="integer"&&i.push(this._parseIntegerFieldType(e)),r=="link"&&i.push(this._parseLinkFieldType(e)),r=="list"&&i.push(this._parseListFieldType(e)),r=="markdown"&&i.push(this._parseMarkdownFieldType(e)),r=="fields"&&i.push(this._parseFieldsFieldType(e)),r=="radio"&&i.push(this._parseRadioFieldType(e)),r=="range"&&i.push(this._parseRangeFieldType(e)),r=="revealer"&&i.push(this._parseRevealerFieldType(e)),r=="section"&&i.push(this._parseSectionFieldType(e)),r=="select"&&i.push(this._parseSelectFieldType(e)),r=="sets"&&i.push(this._parseSetsFieldType(e)),r=="sites"&&i.push(this._parseSitesFieldType(e)),r=="structures"&&i.push(this._parseStructuresFieldType(e)),r=="slug"&&i.push(this._parseSlugFieldType(e)),r=="text"&&i.push(this._parseTextFieldType(e)),r=="table"&&i.push(this._parseTableFieldType(e)),r=="taggable"&&i.push(this._parseTaggableFieldType(e)),r=="terms"&&i.push(this._parseTermsFieldType(e)),r=="taxonomies"&&i.push(this._parseTaxonomiesFieldType(e)),r=="template"&&i.push(this._parseTemplateFieldType(e)),r=="template_folder"&&i.push(this._parseTemplateFolderFieldType(e)),r=="textarea"&&i.push(this._parseTextareaFieldType(e)),r=="time"&&i.push(this._parseTimeFieldType(e)),r=="toggle"&&i.push(this._parseToggleFieldType(e)),r=="user_groups"&&i.push(this._parseUserGroupsFieldType(e)),r=="user_roles"&&i.push(this._parseUserRolesFieldType(e)),r=="users"&&i.push(this._parseUsersFieldType(e)),r=="video"&&i.push(this._parseVideoFieldType(e)),r=="yaml"&&i.push(this._parseYamlFieldType(e)),r=="form"&&i.push(this._parseFormFieldType(e))}return i.length==1?i[0]:null}parseFields(e){let i=[];return typeof e.fields=="undefined"||e.fields==null||typeof e.fields=="object"&&!Array.isArray(e.fields)||e.fields.forEach(n=>{try{if(typeof n.field=="string"){let a=this.getFieldsetName(n.field);if(a==null||!this.fieldSets.has(a))return;let o=this.fieldSets.get(a),l=BV(this.getFieldName(n.field),o);if(l==null)return;let u=n.handle,c={...l,handle:u,isLinked:!0,linkedFrom:n.field};i.push(c);return}if(typeof n.import=="string"){if(this.fieldSets.has(n.import)==!1)return;let a=this.fieldSets.get(n.import),o=null;if(typeof n.prefix=="string"){let u=n.prefix;u.trim().length>0&&(o=u.trim())}let l=jV(o,a);if(l.length>0)try{l.forEach(u=>{i.push(u)})}catch{}return}let s=this.parse(n);s!=null&&(s.handle=n.handle,i.push(s))}catch{}}),i}getFieldsetName(e){return e.includes(".")==!1?null:e.split(".")[0]}getFieldName(e){return e.includes(".")==!1?e:e.split(".")[1]}parseSets(e){let i=[];return Object.keys(e).forEach(n=>{var s;try{let a=e[n],o=this.parseFields(a);i.push({display:(s=a.display)!=null?s:"",handle:n,fields:o})}catch{}}),i}},tc=class{constructor(){this.fieldParser=new Sy;this.parsedBlueprints=[]}setParsedFieldSet(e){this.fieldParser.setFieldSets(e)}parseTabs(e){let i=[];return Object.keys(e).forEach(n=>{var s;try{let a=e[n],o=(s=a.display)!=null?s:"",l=this.fieldParser.parseFields(a);i.push({display:o,handle:n,fields:l})}catch{}}),i}parseBlueprint(e,i,r,n,s,a){var d;let o=(d=e.title)!=null?d:"",l=[],u=[],c=[];typeof e.tabs!="undefined"?l=this.parseTabs(e.tabs):typeof e.sections!="undefined"&&(l=this.parseTabs(e.sections)),typeof e.fields!="undefined"&&(u=this.fieldParser.parseFields(e)),c=u.concat([]),l.forEach(p=>{try{c=c.concat(p.fields)}catch{}});let f={allFields:c,fields:u,handle:i,collection:n,tabs:l,title:o,type:r,fileName:s,contents:a};return this.parsedBlueprints.push(f),f}getBlueprints(){return this.parsedBlueprints}},cm=class{constructor(){this.blueprintParser=new tc;this.parsedFieldsets=new Map;this.fieldsetArray=[]}parseFieldset(e,i){let r=this.blueprintParser.parseBlueprint(e,i,"","");if(r==null)return null;let n=[];r.allFields.forEach(a=>{try{n.push({field:a,prefixedHandle:i+"."+a.handle})}catch{}});let s={...r,prefixedFields:n};return this.parsedFieldsets.has(i)==!1&&(this.parsedFieldsets.set(i,s),this.fieldsetArray.push(s)),s}getFieldsets(){return this.parsedFieldsets}getParsedFieldsets(){return this.fieldsetArray}};var ge=class{static getInternalIcon(e){return e=="array"?"array":e=="asset_container"?"asset_container":e=="asset_folder"?"asset_folder":e=="assets"?"assets":e=="bard"?"bard":e=="replicator"?"replicator":e=="bard_buttons_setting"?"bard_buttons_setting":e=="button_group"?"button_group":e=="checkboxes"?"checkboxes":e=="code"?"code":e=="collection_routes"?"collection_routes":e=="collection_title_formats"?"collection_title_formats":e=="collections"?"collections":e=="color"?"color":e=="date"?"date":e=="entries"?"entries":e=="files"?"files":e=="float"?"float":e=="global_set_sites"?"global_set_sites":e=="grid"?"grid":e=="hidden"?"hidden":e=="html"?"html":e=="integer"?"integer":e=="link"?"link":e=="list"?"list":e=="markdown"?"markdown":e=="fields"?"fields":e=="radio"?"radio":e=="range"?"range":e=="revealer"?"revealer":e=="section"?"section":e=="select"?"select":e=="sets"?"sets":e=="sites"?"sites":e=="structures"?"structures":e=="slug"?"slug":e=="text"?"text":e=="table"?"table":e=="taggable"?"tags":e=="terms"||e=="taxonomies"?"taxonomy":e=="template"?"template":e=="template_folder"?"template_folder":e=="textarea"?"textarea":e=="time"?"time":e=="toggle"?"toggle":e=="user_groups"?"user_groups":e=="user_roles"?"user_roles":e=="users"?"users":e=="video"?"video":e=="yaml"?"yaml":e=="form"?"form":""}static baseField(e,i,r){return{validate:[],unless:[],type:i,sets:[],required:!0,linkedFrom:"",isLinked:!1,internalIcon:ge.getInternalIcon(i),handle:e,fields:[],display:"",developerDocumentation:"",instructionText:r}}static textField(e,i){return{...this.baseField(e,"text",i)}}static slugField(e,i){return{...this.baseField(e,"slug",i),from:"",generate:!0}}static injectedTextField(e,i){return{name:e,type:"string",field:this.textField(e,i),description:i}}static boolField(e,i){return{...this.baseField(e,"toggle",i),inlineLabel:"",default:!1}}static injectedBoolField(e,i){return{name:e,type:"boolean",field:this.boolField(e,i),description:i}}static integerField(e,i){return{...this.baseField(e,"integer",i),default:""}}static injectedIntegerField(e,i){return{name:e,type:"integer",field:this.integerField(e,i),description:i}}static floatField(e,i){return{...this.baseField(e,"float",i),default:""}}static injectedFloatField(e,i){return{name:e,type:"float",field:this.floatField(e,i),description:i}}static arrayField(e,i){return{...this.baseField(e,"array",i),mode:"dynamic",keys:[]}}static injectedArrayField(e,i){return{name:e,type:"array",field:this.arrayField(e,i),description:i}}static dateField(e,i){return{...this.baseField(e,"date",i),mode:"",format:null,earliestDate:null,latestDate:null,timeEnabled:null,timeSecondsEnabled:null,fullWidth:null,inline:null,columns:0,rows:0}}static injectedDateField(e,i){return{name:e,type:"date",field:this.dateField(e,i),description:i}}};var ic=class{static ensureCollectionFields(e){this.ensureFieldPrepended(ge.textField("title","The entry's title"),e),this.ensureField(ge.slugField("slug","The entry's slug"),e),this.ensureField(ge.dateField("date","The date the entry was created"),e)}static ensureNavigationFields(e){this.ensureField(ge.textField("title","The navigation's title"),e),this.ensureField(ge.textField("url","The navigation's URL"),e)}static ensureFieldPrepended(e,i){this.hasField(e.handle,i)||(i.allFields.unshift(e),i.tabs.length>0&&i.tabs[0].fields.unshift(e))}static ensureField(e,i){this.hasField(e.handle,i)||(i.allFields.push(e),i.tabs.length>0&&i.tabs[0].fields.push(e))}static hasField(e,i){for(let r=0;r<i.allFields.length;r++)if(i.allFields[r].handle==e)return!0;return!1}};function UV(t){let e=ds(t).split("/"),i=[],r=null;for(let n=0;n<e.length;n++){if(n==0){r=e[n],i.push(e[n]);continue}if(e[n]=="views"&&r=="resources")break;i.push(e[n]),r=e[n]}return i.join("/")}function GV(t){return t.endsWith("/")==!1&&(t=t+"/"),t+"../"}function WV(t){return t+"composer.lock"}function HV(t){return t+"vendor/"}function YV(t){return t+"/blueprints/collections/"}function KV(t){return t+"/blueprints/taxonomies/"}function $V(t){return t+"/blueprints/assets/"}function zV(t){return t+"/blueprints/globals/"}function XV(t){return t+"/blueprints/forms/"}function QV(t){return t+"/blueprints/"}function JV(t){return t+"/macros.yaml"}function ZV(t){return t+"/views/"}function eB(t){return t+"/users/"}function tB(t){return t+"/forms/"}function iB(t){return t+"/fieldsets"}function nc(t){return t+"/../content/"}function rB(t){return nc(t)+"assets/"}function nB(t){return nc(t)+"collections/"}function sB(t){return nc(t)+"taxonomies/"}function aB(t){return nc(t)+"navigation/"}function rc(t,e,i){if(!Vt.existsSync(t))return[];let r=i||[],n=Vt.readdirSync(t);for(let s=0;s<n.length;s++){let a=si.join(t,n[s]);Vt.lstatSync(a).isDirectory()?r=r.concat(rc(a,e,i)):a.indexOf(e)>=0&&r.push(a)}return[...new Set(r)]}function hs(t,e){if(!Vt.existsSync(t))return[];let i=[],r=Vt.readdirSync(t);for(let n=0;n<r.length;n++){let s=si.join(t,r[n]);Vt.lstatSync(s).isDirectory()==!1&&i.push(s)}return[...new Set(i)]}function oB(t){let e=rc(t,".html",[]),i=t.length,r=[];for(let n=0;n<e.length;n++){let s=e[n],a=s.substr(i),o=ds(si.dirname(a)),l=si.basename(a),u=l,c=!1,f=!1,d=!1,p="";l.startsWith("_")&&(c=!0,u=u.substr(1)),l.endsWith(".antlers.html")?(f=!0,u=u.substr(0,u.length-13)):l.endsWith(".blade.php")?(f=!1,d=!0):(f=!1,d=!1),o!="."?p=o+"/"+u:p=u,r.push({displayName:u,fileName:l,documentUri:vy(s),originalDocumentUri:vy(s),isAntlers:f,isBlade:d,isPartial:c,path:ds(s),relativeDisplayName:p,relativeFileName:l,relativePath:a,injectsCollections:[],injectsParameters:[],templateName:Lt(p,"/","."),varReferenceNames:new Map,document:null})}return r}function Ry(t){let e=UV(t),i=YV(e),r=ZV(e),n=tB(e),s=XV(e),a=iB(e),o=KV(e),l=zV(e),u=QV(e),c=nc(e),f=aB(e),d=sB(e),p=eB(e),m=nB(e),T=rB(e),P=$V(e),_=rc(i,".yaml",[]),g=oB(r),y=JV(e),E=GV(e),L=WV(E),C=HV(E),B=!1,w=null,$=lm.getInstalledPackages(L,E,C);for(let O=0;O<$.length;O++)if($[O].name=="statamic/cms"){w=$[O];break}let oe=[],U=new Map,J=new Map,ce=new Map,ne=new Map,X=new Map,Be=new Map,ht=[],oi=new Map,it=[],Qe=[],Wn=[],Hn=[],he=[],pe=new Map,be=new Map,de=new Map,Ee=[],Ft=new Map,Pn=[],lo=new Map,_s=new Map,Yn=new Map,uo=new Map;y.trim().length>0&&(B=Vt.existsSync(y));for(let O=0;O<g.length;O++)g[O].isPartial&&(Wn.push(g[O]),Hn.push(g[O].relativeDisplayName));let pa=hs(T,".yaml");for(let O=0;O<pa.length;O++)if(Cr(pa[O])){let ue=sA(pa[O]);Yn.set(ue.handle,ue)}let ma=hs(m,".yaml"),Kn=[];for(let O=0;O<ma.length;O++)if(Cr(ma[O])){let ue=uA(ma[O]);it.push(ue.handle),_s.set(ue.handle,ue)}let Nn=p+"roles.yaml",co=p+"groups.yaml";if(Vt.existsSync(Nn)){let O=cA(Nn);for(let ue=0;ue<O.length;ue++)Ft.set(O[ue].handle,O[ue]),Pn.push(O[ue].handle)}if(Vt.existsSync(co)){let O=fA(co);for(let ue=0;ue<O.length;ue++)de.set(O[ue].handle,O[ue]),Ee.push(O[ue].handle)}let ha=new cm,ar=rc(a,".yaml",[]),li=[];for(let O=0;O<ar.length;O++)if(Cr(ar[O])){let ue=si.basename(ar[O]).split(".").slice(0,-1).join("."),Ue=Vt.readFileSync(ar[O]).toString();try{ha.parseFieldset(ua.parse(Ue),ue)}catch{}if(ue!=null&&ue.trim().length>0){let Ge=QR(ar[O],ue);U.set(ue,Ge)}}let or=new tc;or.setParsedFieldSet(ha.getFieldsets());let Zr=rc(o,".yaml",[]);for(let O=0;O<Zr.length;O++)if(Cr(Zr[O])){let ue=si.basename(Zr[O]).split(".").slice(0,-1).join("."),Ue=si.basename(si.dirname(Zr[O]));if(ue!=null&&ue.trim().length>0){J.set(ue,Ue);let Ge=ao(Zr[O],ue,"taxonomy",U);oe.push(Ge),X.set(ue,Ge.fields),li=li.concat(Ge.fields),Qe.includes(ue)==!1&&Qe.push(ue)}}if(Qe.length>0){for(let O=0;O<Qe.length;O++)if(J.has(Qe[O])){let ue=J.get(Qe[O]);if(typeof ue!="undefined"&&ue!==null){let Ue=d+ue+"/";if(Vt.existsSync(Ue)){let Ge=hs(Ue,".yaml"),ui=[];for(let Sn=0;Sn<Ge.length;Sn++)if(Cr(Ge[Sn])){let xA=si.basename(Ge[Sn]).split(".").slice(0,-1).join(".");ui.push(xA)}pe.set(Qe[O],ui)}}}}let en=hs(u,".yaml");for(let O=0;O<en.length;O++)if(Cr(en[O])){let ue=Vt.readFileSync(en[O]).toString(),Ue=si.basename(en[O]).split(".").slice(0,-1).join(".");try{or.parseBlueprint(ua.parse(ue),Ue,"misc",Ue,en[O])}catch{}if(Ue!=null&&Ue.trim().length>0){let Ge=ao(en[O],Ue,"misc",U);oe.push(Ge),Be.set(Ue,Ge.fields),li=li.concat(Ge.fields)}}let Rr=[];for(let O=0;O<_.length;O++)if(Cr(_[O])){let ue=Vt.readFileSync(_[O]).toString(),Ue=si.basename(_[O]).split(".").slice(0,-1).join("."),Ge=ao(_[O],Ue,"collection",U),ui=ds((0,hA.dirname)(_[O])).split("/").pop();Rr.includes(ui)||Rr.push(ui);try{or.parseBlueprint(ua.parse(ue),Ue,"collection",ui,_[O])}catch{}oe.push(Ge),li=li.concat(Ge.fields),ui!=null&&ui.trim().length>0&&(Ue=ui,it.includes(ui)==!1&&it.push(ui)),Ge.fields.forEach(Sn=>{be.has(Sn.name)||be.set(Sn.name,Sn)}),oi.set(Ue,Ge.fields)}let x=[],R=[];it.forEach(O=>{Rr.includes(O)||(x.push(O),R.push({tabs:[],fields:[],allFields:[],collection:O,type:"collection",handle:O,title:O}))}),x.forEach(O=>{_s.set(O,{handle:O,injectFields:[],isStructure:!1,title:O,layout:"",viewModel:null,template:"",taxonomies:[],structure:null})});let v=hs(f,".yaml");for(let O=0;O<v.length;O++)if(Cr(v[O])){let ue=Vt.readFileSync(v[O]).toString(),Ue=tA(v[O]),Ge=si.basename(v[O]).split(".").slice(0,-1).join(".");try{or.parseBlueprint(ua.parse(ue),Ge,"nav",Ge,v[O])}catch{}lo.set(Ue.handle,Ue)}let A=hs(l,".yaml");for(let O=0;O<A.length;O++)if(Cr(A[O])){let ue=Vt.readFileSync(A[O]).toString(),Ue=si.basename(A[O]).split(".").slice(0,-1).join("."),Ge=ao(A[O],Ue,"global",U);try{or.parseBlueprint(ua.parse(ue),Ue,"global",Ue,A[O])}catch{}oe.push(Ge),li=li.concat(Ge.fields),ne.set(Ue,Ge.fields)}if(Vt.existsSync(P)){let O=hs(P,".yaml");for(let ue=0;ue<O.length;ue++)if(Cr(O[ue])){let Ue=Vt.readFileSync(O[ue]).toString(),Ge=si.basename(O[ue]).split(".").slice(0,-1).join("."),ui=ao(O[ue],Ge,"asset",U);try{or.parseBlueprint(ua.parse(Ue),Ge,"asset",Ge,O[ue])}catch{}oe.push(ui),li=li.concat(ui.fields),uo.set(Ge,ui.fields)}}let F=hs(s,".yaml"),N=hs(n,".yaml"),b=[];for(let O=0;O<N.length;O++)if(Cr(N[O])){let ue=si.basename(N[O]).split(".").slice(0,-1).join(".");b.includes(ue)||b.push(ue)}for(let O=0;O<F.length;O++)if(Cr(F[O])){let ue=Vt.readFileSync(F[O]).toString(),Ue=si.basename(F[O]).split(".").slice(0,-1).join("."),Ge=ao(F[O],Ue,"form",U);try{or.parseBlueprint(ua.parse(ue),Ue,"form",Ue,F[O])}catch{}oe.push(Ge),li=li.concat(Ge.fields),ce.set(Ue,Ge.fields)}for(let O=0;O<b.length;O++)ce.has(b[O])||ce.set(b[O],[]);let k=new Map;for(let O=0;O<g.length;O++)k.set(g[O].relativeDisplayName,g[O]);_s.forEach((O,ue)=>{O.template.trim().length>0&&k.has(O.template)&&k.get(O.template).injectsCollections.push(O.handle)});let j=[],se=R,_e=[],De=[],lt=[],Ot=[],Bt=[];return or.getBlueprints().forEach(O=>{O.type=="misc"?Ot.push(O):O.type=="collection"?se.push(O):O.type=="nav"?De.push(O):O.type=="global"?Bt.push(O):O.type=="asset"?j.push(O):O.type=="form"&&lt.push(O)}),se.forEach(O=>{ic.ensureCollectionFields(O)}),De.forEach(O=>{ic.ensureNavigationFields(O)}),Ay({assets:j,collections:se,fieldsets:ha.getParsedFieldsets(),forms:lt,general:Ot,globals:Bt,navigations:De,taxonomies:_e}),new Cy({composerPackages:$,statamicPackage:w,isMocked:!1,workingDirectory:E,taxonomyPluralizedMapping:J,collectionScopes:he,blueprintFiles:_,collectionBlueprintsPath:i,collections:_s,rootPath:e,fields:oi,fieldsetsPath:a,fieldsets:U,collectionNames:it,formBlueprintsPath:n,taxonomiesBlueprintsPath:o,globalBlueprintsPath:l,miscBlueprintsPath:u,viewsPath:r,views:g,globalFiles:[],forms:ce,globals:ne,miscFields:Be,taxonomies:X,taxonomyNames:Qe,templates:ht,partialCache:Wn,partialViewNames:Hn,macroFilePath:y,hasMacrosFile:B,contentDirectory:c,taxonomyContentDirectory:d,taxonomyTerms:pe,blueprints:oe,assets:Yn,assetFields:uo,oauthProviders:[],navigationMenus:lo,userPermissionsPath:p,userGroupNames:Ee,userGroups:de,userRoleNames:Pn,userRoles:Ft,searchIndexes:[],internalFieldReference:li,restoreProperties:null,namedBluePrintFields:be},t)}var Cy=class extends um{reloadDetails(){return Ry(this.baseResourcePath)}};var fm=class{static getReferences(e){var i;if(e==null)return null;if(((i=e.context)==null?void 0:i.feature)instanceof le){let r=e.context.feature;if(r.scopeVariable==null||r.scopeVariable.sourceField==null)return null;let n=new Map;Re.getDocuments().forEach(a=>{let o=a.getAllAntlersNodes(),l=[];o.forEach(u=>{u.runtimeNodes.forEach(c=>{var f;(c.scopeVariable!=null&&c.scopeVariable==r.scopeVariable||c.scopeVariable!=null&&c.scopeVariable.sourceName==((f=r.scopeVariable)==null?void 0:f.sourceName)&&c instanceof le&&c.name==r.name)&&l.push(c)})}),n.set(a.documentUri,l)});let s=[];return n.forEach((a,o)=>{a.forEach(l=>{s.push({uri:o,range:Qa(l)})})}),s}return[]}};function gA(t){var r;if(((r=fe.instance)==null?void 0:r.hasStructure())==!1)return null;let e=decodeURIComponent(t.textDocument.uri);if(Re.hasDocument(e)==!1)return null;let i=ir(t.position,e);return fm.getReferences(i)}function _A(t){var r;let e=decodeURIComponent(t.textDocument.uri),i=ir(t.position,e);if(i==null)return null;if(((r=i.context)==null?void 0:r.feature)instanceof le){let n=i.context.feature,s=i.antlersDocument.getAllAntlersNodes();if(n.scopeVariable==null||n.scopeVariable.sourceField==null)return null;let a=[],o=[];return s.forEach(l=>{l.runtimeNodes.forEach(u=>{var c;(u.scopeVariable!=null&&u.scopeVariable==n.scopeVariable||u.scopeVariable!=null&&u.scopeVariable.sourceName==((c=n.scopeVariable)==null?void 0:c.sourceName)&&u instanceof le&&u.name==n.name)&&a.push(u)})}),a.length>0&&a.push(n),a.forEach(l=>{o.push({range:Qa(l)})}),o}return[]}var Ey=class{constructor(){this._nodes=[];this._extractedAntlers=new Map;this._buffer="";this._shouldFormat=!0}load(e){let i=new Nt;return i.getDocumentParser().withChildDocuments(!0),i.loadString(e),this._nodes=i.getAllNodes(),this._buffer=i.getParsedContent(),(!i.isValid()||!i.isFormattingEnabled())&&(this._shouldFormat=!1),this._nodes.forEach(r=>{if(r instanceof G){let n=r.getNodeDocumentText(),s="ANTLERS:"+r.refId;this._buffer=this._buffer.replace(n,s),this._extractedAntlers.set(s,n)}}),this}getShouldFormat(){return this._shouldFormat}getBuffer(){return this._buffer}getMapping(){return this._extractedAntlers}transform(e){return this._buffer=e(this._buffer),this}getTemplate(){let e=this._buffer;return this._extractedAntlers.forEach((i,r)=>{e=e.replace(r,i)}),e}},yA=Ey;var AA=ee(bA());var Se=class{static getDocLink(e){return e=e.toLowerCase(),e=="array"?"https://statamic.dev/fieldtypes/array":e=="assets"?"https://statamic.dev/fieldtypes/assets":e=="bard"?"https://statamic.dev/fieldtypes/bard":e=="button_group"?"https://statamic.dev/fieldtypes/button_group":e=="checkboxes"?"https://statamic.dev/fieldtypes/checkboxes":e=="code"?"https://statamic.dev/fieldtypes/code":e=="collections"?"https://statamic.dev/fieldtypes/collections":e=="color"?"https://statamic.dev/fieldtypes/color":e=="date"?"https://statamic.dev/fieldtypes/date":e=="entries"?"https://statamic.dev/fieldtypes/entries":e=="form"?"https://statamic.dev/fieldtypes/form":e=="grid"?"https://statamic.dev/fieldtypes/grid":e=="integer"?"https://statamic.dev/fieldtypes/integer":e=="link"?"https://statamic.dev/fieldtypes/link":e=="list"?"https://statamic.dev/fieldtypes/list":e=="markdown"?"https://statamic.dev/fieldtypes/markdown":e=="radio"?"https://statamic.dev/fieldtypes/radio":e=="range"?"https://statamic.dev/fieldtypes/range":e=="replicator"?"https://statamic.dev/fieldtypes/replicator":e=="select"?"https://statamic.dev/fieldtypes/select":e=="sites"?"https://statamic.dev/fieldtypes/sites":e=="structures"?"https://statamic.dev/fieldtypes/structures":e=="table"?"https://statamic.dev/fieldtypes/table":e=="taggable"?"https://statamic.dev/fieldtypes/taggable":e=="taxonomies"?"https://statamic.dev/fieldtypes/taxonomies":e=="template"?"https://statamic.dev/fieldtypes/template":e=="terms"?"https://statamic.dev/fieldtypes/terms":e=="text"?"https://statamic.dev/fieldtypes/text":e=="textarea"?"https://statamic.dev/fieldtypes/textarea":e=="time"?"https://statamic.dev/fieldtypes/time":e=="toggle"?"https://statamic.dev/fieldtypes/toggle":e=="user_groups"?"https://statamic.dev/fieldtypes/user-groups":e=="user_roles"?"https://statamic.dev/fieldtypes/user-roles":e=="users"?"https://statamic.dev/fieldtypes/users":e=="video"?"https://statamic.dev/fieldtypes/video":e=="yaml"?"https://statamic.dev/fieldtypes/yaml":null}};function dm(t){return{resolved:!0,documentation:{handle:t.type,field:t,injects:[],stringable:!0,rawReturns:"string",augmentsTo:"string",canBeTagPair:!1,exampleSnippets:[],overviewProperties:[],overviewSnippets:[],modifiers:[],officialDocumentation:Se.getDocLink(t.type),stringableReturns:"The field's value"}}}function vA(t){let e=[],i=h(t,"default",null),r=t.validate.includes("required");return i===null||r===!1?e.push({overview:`Using ${t.handle} in an operation`,snippet:`{{# Use null coalescence to account for a possible null value. #}}
{{ _result = (${t.handle} ?? 0) + 1; }}`}):isNaN(i)?e.push({overview:`Using ${t.handle} in an operation`,snippet:`{{#
    This field has a non-numeric default value of '${i}',
    which may cause issues with operations and comparisons.
#}}
{{ _result = ${t.handle} + 1; }}`}):e.push({overview:`Using ${t.handle} in an operation`,snippet:`{{ _result = ${t.handle} + 1; }}`}),e.push({overview:`Using ${t.handle} in a condition`,snippet:`{{ if ${t.handle} > 0 }}

{{ /if }}`}),{resolved:!0,documentation:{handle:t.type,field:t,injects:[],stringable:!0,rawReturns:"number",augmentsTo:"number",canBeTagPair:!1,exampleSnippets:[],overviewProperties:[],overviewSnippets:e,modifiers:[],officialDocumentation:Se.getDocLink(t.type),stringableReturns:"The field's value"}}}function IA(t){let e=[];return e.push({overview:`Using the ${t.handle} field in a condition`,snippet:`{{ if ${t.handle} }}

{{ /if }}`}),e.push({overview:`Using the ${t.handle} field in a ternary expression`,snippet:`{{ ${t.handle} ? 'true' : 'false' }}`}),e.push({overview:`Using the ${t.handle} field with the Gatekeeper operator to conditionally render a partial`,snippet:`{{ ${t.handle} ?= {partial:partial/name} }}`}),{resolved:!0,documentation:{handle:t.type,field:t,injects:[],stringable:!0,rawReturns:"boolean",augmentsTo:"boolean",canBeTagPair:!1,exampleSnippets:[],overviewProperties:[],overviewSnippets:e,modifiers:[],officialDocumentation:Se.getDocLink(t.type),stringableReturns:"The field's value"}}}var wy={resolved:!1,documentation:null};var He=class{static getKeys(e){if(typeof e.keys=="undefined")return[];let i=e.keys;return i===null?[]:Object.keys(i)}static keysToInjectedField(e){let i=[];return e.forEach(r=>{i.push(ge.injectedTextField(r,""))}),i}static massageInjectedType(e){return e=="user_roles"||e=="user_groups"?"array":e=="toggle"?"boolean":e}static fieldsToInjectedFields(e){let i=[];return e.forEach(r=>{i.push({name:r.handle,type:this.massageInjectedType(r.type),field:r,description:r.instructionText})}),i}};var pm=class{static generate(e){let i=[];return i.push({overview:"Alternating between even and odd rows, starting at the second row",snippet:`<ul>
    {{ ${e} }}
    <li class="{ (count % 2 == 0) ? 'even' : 'odd' }">
        {{ value }}
    </li>
    {{ /${e} }}
</ul>`}),i.push({overview:"Alternating between even and odd rows, starting at the first row",snippet:`<ul>
    {{ ${e} }}
    <li class="{ (count % 2 == 0) ? 'odd' : 'even' }">
        {{ value }}
    </li>
    {{ /${e} }}
</ul>`}),i}};var ca=class{constructor(e){this.buffer="";this.tabSize=4;this.tabSize=e}opening(e){return this.buffer+="{{ "+e+" }}",this}append(e){return this.buffer+=e,this}space(){return this.append(" ")}singleField(e){return this.append("{{ "+e+" }}")}nestedFieldsComment(){return this.append("{{# Nested fields. #}}")}nl(){return this.buffer+=`
`,this}indent(){return this.buffer+=" ".repeat(this.tabSize),this}indentedField(e){return this.buffer+=`
`+" ".repeat(this.tabSize)+"{{ "+e+" }}",this}indentedClosing(e){return this.buffer+=`
`+" ".repeat(this.tabSize)+"{{/ "+e+" }}",this}fieldAccess(e,i){return this.buffer+="{{ "+e+"."+i+" /}}",this.nl()}pairedFieldAccess(e,i){return this.buffer+="{{ "+e+"."+i+" }}",this.nl()}closingFieldAccess(e,i){return this.buffer+="{{ /"+e+"."+i+" }}",this.nl()}accessorFieldAccess(e,i,r){return this.buffer+="{{ "+e+"."+i+"."+r+" /}}",this.nl()}pairedAccessorFieldAccess(e,i,r){return this.buffer+="{{ "+e+"."+i+"."+r+" }}",this.nl()}closingAccessorFieldAccess(e,i,r){return this.buffer+="{{ /"+e+"."+i+"."+r+" }}",this.nl()}closing(e){return this.buffer+="{{ /"+e+" }}",this}toString(){return this.buffer}};var fa=class{static generate(e,i=4){let r=new ca(i);return r.opening("foreach:"+e),r.nl().indent().singleField("key").space().singleField("value"),r.nl().closing("foreach:"+e),{overview:"Iterate the "+e+" as a key/value pair",snippet:r.toString()}}};function xy(t){return t==="array"||t=="entry"||t=="builder"||t=="entries"}var ve=class{static generate(e,i,r=4){let n=[];return i.length==0?(n.push(ve.generateNestedFields(e,[ge.injectedTextField("value","")],r)),n):(n.push(ve.generateNestedFields(e,i,r)),n.push(ve.generateDotAccessFields(e,i,r)),n)}static generateArrayFields(e,i,r=4){let n=[];return i.length==0?(n.push(ve.generateNestedFields(e,[ge.injectedTextField("value","")],r)),n):(n.push(ve.generateNestedFields(e,i,r)),n.push(ve.generateNestedDotAccessFields(e,"0",i,r)),n)}static generateDotAccessFields(e,i,r){let n=new ca(r);return i.forEach(s=>{xy(s.type)?n.pairedFieldAccess(e,s.name).indent().nestedFieldsComment().nl().closingFieldAccess(e,s.name):n.fieldAccess(e,s.name)}),{overview:"Accessing the nested values of the "+e+' field using "dot" syntax',snippet:n.toString().trimEnd()}}static generateNestedDotAccessFields(e,i,r,n){let s=new ca(n);return r.forEach(a=>{xy(a.type)?(s.pairedAccessorFieldAccess(e,i,a.name),s.indent().nestedFieldsComment(),s.nl().closingAccessorFieldAccess(e,i,a.name)):s.accessorFieldAccess(e,i,a.name)}),{overview:"Accessing the nested values of the "+e+' field using "dot" syntax',snippet:s.toString().trimEnd()}}static generateNestedFields(e,i,r){let n=new ca(r);return n.opening(e),i.forEach(s=>{xy(s.type)?n.indentedField(s.name).nl().indent().indent().nestedFieldsComment().indentedClosing(s.name):n.indentedField(s.name)}),n.nl().closing(e),{overview:"Accessing the nested fields of the "+e+" field within a tag pair.",snippet:n.toString()}}};var gs=class{resolve(e,i){let r=He.getKeys(e),n=Se.getDocLink(e.type),s=He.keysToInjectedField(r),a=[],o=ve.generate(e.handle,s);return e.mode=="keyed"?o.push(fa.generate(e.handle)):pm.generate(e.handle).forEach(l=>o.push(l)),a.push({mono:!1,name:"Mode",value:e.mode}),{resolved:!0,documentation:{handle:e.type,field:e,injects:s,stringable:!1,rawReturns:"array",augmentsTo:"array",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:o,officialDocumentation:n,overviewProperties:a,stringableReturns:null,modifiers:[]}}}};var da=class{resolve(e,i){let r=Se.getDocLink(e.type),n=[],s=[];return s.push({overview:`Using modifiers on the ${e.handle} field`,snippet:`{{ ${e.handle} as="${e.handle}_alias" }}
    {{ ${e.handle}_alias | reverse }}

    {{ /${e.handle}_alias }}
{{ /${e.handle} }}`}),{resolved:!0,documentation:{handle:e.type,field:e,injects:[],stringable:!1,rawReturns:"builder",augmentsTo:"builder",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:s,officialDocumentation:r,overviewProperties:n,stringableReturns:"",modifiers:[]}}}};var lB=[ge.injectedTextField("id","The asset's ID"),ge.injectedTextField("title","The asset's title"),ge.injectedTextField("path","The relative asset path"),ge.injectedTextField("filename","The asset's file name, without the extension"),ge.injectedTextField("basename","The asset's file name, with the extension"),ge.injectedTextField("extension","The extension of the asset"),ge.injectedBoolField("is_asset",""),ge.injectedBoolField("is_audio",""),ge.injectedBoolField("is_previewable",""),ge.injectedBoolField("is_image",""),ge.injectedBoolField("is_video",""),ge.injectedArrayField("blueprint",""),ge.injectedTextField("edit_url",""),ge.injectedArrayField("container",""),ge.injectedTextField("folder",""),ge.injectedTextField("url",""),ge.injectedTextField("permalink",""),ge.injectedTextField("size",""),ge.injectedFloatField("size_bytes",""),ge.injectedFloatField("size_kilobytes",""),ge.injectedFloatField("size_megabytes",""),ge.injectedFloatField("size_gigabytes",""),ge.injectedFloatField("size_b",""),ge.injectedFloatField("size_kb",""),ge.injectedFloatField("size_mb",""),ge.injectedFloatField("size_gb",""),ge.injectedDateField("last_modified",""),ge.injectedFloatField("last_modified_timestamp",""),ge.injectedDateField("last_modified_instance",""),ge.injectedTextField("focus",""),ge.injectedBoolField("has_focus",""),ge.injectedTextField("focus_css",""),ge.injectedFloatField("height",""),ge.injectedFloatField("width",""),ge.injectedTextField("orientation",""),ge.injectedFloatField("ratio",""),ge.injectedTextField("mime_type",""),ge.injectedFloatField("duration",""),ge.injectedFloatField("duration_seconds",""),ge.injectedFloatField("duration_sec",""),ge.injectedTextField("playtime","")],sc=class{resolve(e,i){var l;if(e.maxFiles!==1)return new da().resolve(e,i);let r=null;for(let u=0;u<i.assets.length;u++)if(i.assets[u].handle==e.container){r=i.assets[u];break}let n=He.fieldsToInjectedFields((l=r==null?void 0:r.allFields)!=null?l:[]);n=n.concat(lB);let s=Se.getDocLink(e.type),a=[],o=ve.generate(e.handle,n);return{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!0,rawReturns:"asset",augmentsTo:"asset",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:o,officialDocumentation:s,overviewProperties:a,stringableReturns:"The asset's path",modifiers:[]}}}};var Ml=class{static generate(e,i){let r=[],n="";if(i.length==1)n=`    {{ if type == '${i[0].handle}' }}

    {{ /if }}`;else if(i.length>1){let a=i.slice(1);n=`    {{ if type == '${i[0].handle}' }}

`,a.forEach(o=>{n+=`    {{ elseif type == '${o.handle}' }}

`}),n+="    {{ /if }}"}let s=`{{ ${e} }}
${n}
{{ /${e} }}`;return r.push({overview:"Conditionally rendering content based on the current set",snippet:s}),r}};var ql=class{static getSnippets(e){let i=[];return i.push({overview:"Retrieving the augmented value of the field",snippet:`{{ ${e.handle} /}}`}),i}};var Ti=class{resolve(e,i){var a,o;let r=[],n=ql.getSnippets(e),s={...dm(e)};return typeof e.characterLimit!="undefined"&&r.push({mono:!1,name:"Character Limit",value:(o=(a=e.characterLimit)==null?void 0:a.toString())!=null?o:"None"}),s.documentation!=null&&(s.documentation.overviewProperties=r,s.documentation.overviewSnippets=n),s}};var oo=class extends Ti{};var ac=class{resolve(e,i){if(e.sets.length==0)return new oo().resolve(e,i);let r=Se.getDocLink(e.type),n=[],s=[],a=Ml.generate(e.handle,e.sets);return{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!1,rawReturns:"array",augmentsTo:"array",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:a,officialDocumentation:r,overviewProperties:s,stringableReturns:null,modifiers:[]}}}};var Vl=class{resolve(e,i){let r=Se.getDocLink(e.type),n=["value","label","key"],s=He.keysToInjectedField(n),a=[],o=ve.generate(e.handle,s);return o.push(fa.generate(e.handle)),{resolved:!0,documentation:{handle:e.type,field:e,injects:s,stringable:!0,rawReturns:"string",augmentsTo:"labeledValue",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:o,officialDocumentation:r,overviewProperties:a,stringableReturns:"The field's value",modifiers:[]}}}};var oc=class extends Vl{};var lc=class{resolve(e,i){let r=["key","value","label"],n=Se.getDocLink(e.type),s=He.keysToInjectedField(r),a=[],o=ve.generateArrayFields(e.handle,s);return{resolved:!0,documentation:{handle:e.type,field:e,injects:s,stringable:!1,rawReturns:"array",augmentsTo:"array",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:o,officialDocumentation:n,overviewProperties:a,stringableReturns:null,modifiers:[]}}}};var uc=class{resolve(e,i){var l,u;let r=["code","mode","value"],n=Se.getDocLink(e.type),s=He.keysToInjectedField(r),a=[],o=ve.generate(e.handle,s);return a.push({mono:!0,name:"Mode",value:e.mode}),a.push({mono:!1,name:"Indent Type",value:((l=e.indentType)!=null?l:"tabs")+"("+((u=e.indentSize)!=null?u:4)+")"}),o.unshift({overview:`Rendering a <code /> element using the details of the ${e.handle} field`,snippet:`{{ ${e.handle} }}
    <pre><code class="language-{{ mode }}">{{ code }}</code></pre>
{{ /${e.handle} }}`}),{resolved:!0,documentation:{handle:e.type,field:e,injects:s,stringable:!1,rawReturns:"string",augmentsTo:"arrayableString",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:o,officialDocumentation:n,overviewProperties:a,stringableReturns:"The code field's value",modifiers:[]}}}};var bi=class{static generate(e,i,r){return{overview:`Use the values of the ${r} field to retrieve items using the ${e} tag`,snippet:`{{ ${e} ${i}="{${r}|piped}" }}

{{ /${e} }}`}}static generateSingle(e,i,r){return{overview:`Use the value of the ${r} field to retrieve items using the ${e} tag`,snippet:`{{ ${e} :${i}="${r}.handle" }}

{{ /${e} }}`}}static generateCondition(e,i,r){return{overview:`Use the values of the ${r} field with the ${e} tag in a condition`,snippet:`{{ if {${e} ${i}="{${r}|piped}"} }}

{{ /if }}`}}static generateSingleCondition(e,i,r){return{overview:`Use the value of the ${r} field with the ${e} tag in a condition`,snippet:`{{ if {${e} :${i}="${r}.handle"} }}

{{ /if }}`}}};var cc=class{constructor(){this.injectsKeys=["title","handle"]}resolve(e,i){let r=Se.getDocLink(e.type),n=He.keysToInjectedField(this.injectsKeys),s=[],a="collectionArray",o="collectionArray",l=[],u=!1;return e.maxItems===1?(a="collection",o="collection",u=!0,l.push(bi.generateSingle("collection","from",e.handle)),l=l.concat(ve.generate(e.handle,n))):(l.push(bi.generate("collection","from",e.handle)),l=l.concat(ve.generateArrayFields(e.handle,n))),{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!0,rawReturns:a,augmentsTo:o,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:l,officialDocumentation:r,overviewProperties:s,stringableReturns:"The collection's handle",modifiers:[]}}}};var fc=class{resolve(e,i){var n;let r=new Ti().resolve(e,i);return r.documentation!=null&&r.documentation.overviewProperties.unshift({mono:!0,name:"Color Mode",value:(n=e.defaultColorMode)!=null?n:"hex"}),r}};var mm=class{static generate(e){let i=[];return i.push({overview:"Formatting: Atom/ISO-8601 Full Extended (2022-11-19T16:59:46+00:00)",snippet:`{{ ${e.handle} | format('Y-m-d\\TH:i:sP') /}}`}),i.push({overview:"Formatting: ISO-8601 (2022-11-19T16:59:46+0000)",snippet:`{{ ${e.handle} | format('Y-m-d\\TH:i:sO') /}}`}),i.push({overview:"Formatting: Cookie (Saturday, 19-Nov-2022 16:59:46 UTC)",snippet:`{{ ${e.handle} | format('l, d-M-Y H:i:s T') /}}`}),i.push({overview:"Formatting: RFC-822 (Sat, 19 Nov 22 16:59:46 +0000)",snippet:`{{ ${e.handle} | format('D, d M y H:i:s O') /}}`}),i.push({overview:"Formatting: RFC-850 (Saturday, 19-Nov-22 16:59:46 UTC)",snippet:`{{ ${e.handle} | format('l, d-M-y H:i:s T') /}}`}),i.push({overview:"Formatting: RFC-1036 (Sat, 19 Nov 22 16:59:46 +0000)",snippet:`{{ ${e.handle} | format('D, d M y H:i:s O') /}}`}),i.push({overview:"Formatting: RFC-1123 (Sat, 19 Nov 2022 16:59:46 +0000)",snippet:`{{ ${e.handle} | format('D, d M Y H:i:s O') /}}`}),i.push({overview:"Formatting: RFC-2822 (Sat, 19 Nov 2022 16:59:46 +0000)",snippet:`{{ ${e.handle} | format('D, d M Y H:i:s O') /}}`}),i.push({overview:"Formatting: RFC-3339 (2022-11-19T16:59:46+00:00)",snippet:`{{ ${e.handle} | format('Y-m-d\\TH:i:sP') /}}`}),i.push({overview:"Formatting: RFC-3339 Extended (2022-11-19T16:59:46.954+00:00)",snippet:`{{ ${e.handle} | format('Y-m-d\\TH:i:s.vP') /}}`}),i.push({overview:"Formatting: RFC-7231 (Sat, 19 Nov 2022 16:59:46 GMT)",snippet:`{{ ${e.handle} | format('D, d M Y H:i:s \\G\\M\\T') /}}`}),i.push({overview:"Formatting: RSS (Sat, 19 Nov 2022 16:59:46 +0000)",snippet:`{{ ${e.handle} | format('D, d M Y H:i:s O') /}}`}),i.push({overview:"Formatting: W3C (2022-11-19T16:59:46+00:00)",snippet:`{{ ${e.handle} | format('Y-m-d\\TH:i:sP') /}}`}),i}};var dc=class{resolve(e,i){var n,s;let r=new Ti().resolve(e,i);return r.documentation!=null&&(mm.generate(e).forEach(a=>{var o;(o=r.documentation)==null||o.overviewSnippets.unshift(a)}),r.documentation.overviewProperties.unshift({name:"Time Enabled",mono:!1,value:Y.boolLabel((n=e.timeEnabled)!=null?n:!1)}),r.documentation.overviewProperties.unshift({name:"Format",mono:!0,value:(s=e.format)!=null?s:"None"}),r.documentation.augmentsTo="date",r.documentation.stringableReturns="The formatted date"),r}};var pc=class{resolve(e,i){if(e.maxItems!==1){let o=new da().resolve(e,i);if(o.resolved&&o.documentation!=null){let l=[],u=[];if(e.collections!=null&&e.collections.length>0){let c=[],f=[];i.collections.forEach(d=>{var p;(p=e.collections)!=null&&p.includes(d.collection)&&typeof d.allFields!="undefined"&&d.allFields!=null&&d.allFields.forEach(m=>{f.includes(m.handle)==!1&&(f.push(m.handle),c.push(m))})}),l=He.fieldsToInjectedFields(c),u=[ve.generateNestedFields(e.handle,l,4)]}u.forEach(c=>{var f;(f=o.documentation)==null||f.overviewSnippets.unshift(c)}),o.documentation.injects=l}return o}let r=Se.getDocLink(e.type),n=[],s=[],a=[];if(e.collections!=null&&e.collections.length>0){let o=[],l=[];i.collections.forEach(u=>{var c;(c=e.collections)!=null&&c.includes(u.collection)&&typeof u.allFields!="undefined"&&u.allFields!=null&&u.allFields.forEach(f=>{l.includes(f.handle)==!1&&(l.push(f.handle),o.push(f))})}),s=He.fieldsToInjectedFields(o),a=[ve.generateNestedFields(e.handle,s,4)]}return{resolved:!0,documentation:{handle:e.type,field:e,injects:s,stringable:!1,rawReturns:"entry",augmentsTo:"entry",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:a,officialDocumentation:r,overviewProperties:n,stringableReturns:"",modifiers:[]}}}};var Gn=class{resolve(e,i){return vA(e)}};var mc=class extends Gn{};var hc=class{constructor(){this.injectsKeys=["handle","title","api_url","honeypot"]}resolve(e,i){let r=Se.getDocLink(e.type),n=He.keysToInjectedField(this.injectsKeys),s=[],a="formArray",o="formArray",l=[],u=!1;return e.maxItems===1?(a="form",o="form",u=!0,l=ve.generate(e.handle,n),l.unshift({overview:`Using the value of the ${e.handle} field to create a form`,snippet:`{{ form:create :in="${e.handle}.handle" }}
    {{ fields }}
        {{# Render the fields. #}}
    {{ /fields }}

    <button type="submit">The Submit Button</button>
{{ /form:create }}`})):l=ve.generateArrayFields(e.handle,n),{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!0,rawReturns:a,augmentsTo:o,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:l,officialDocumentation:r,overviewProperties:s,stringableReturns:"The form's handle",modifiers:[]}}}};var gc=class{resolve(e,i){let r=Se.getDocLink(e.type),n=He.fieldsToInjectedFields(e.fields),s=[],a=ve.generate(e.handle,n);return{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!1,rawReturns:"array",augmentsTo:"array",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:a,officialDocumentation:r,overviewProperties:s,stringableReturns:null,modifiers:[]}}}};var _c=class extends Gn{};var yc=class extends Ti{};var Tc=class extends gs{};var bc=class extends Ti{resolve(e,i){let r=super.resolve(e,i);return r.documentation!=null&&r.documentation.overviewSnippets.unshift({overview:"Using a custom Markdown parser to render the content",snippet:`{{ ${e.handle} | raw | markdown('parser_name') /}}`}),r}};var vc=class extends Vl{};var Ic=class extends Gn{resolve(e,i){var n,s,a,o;let r=super.resolve(e,i);return r.documentation!=null&&(r.documentation.overviewProperties.unshift({name:"Max",value:(s=(n=e.max)==null?void 0:n.toString())!=null?s:"None",mono:!1}),r.documentation.overviewProperties.unshift({name:"Min",value:(o=(a=e.min)==null?void 0:a.toString())!=null?o:"None",mono:!1})),r}};var Pc=class{resolve(e,i){let r=Se.getDocLink(e.type),n=[],s=[],a=Ml.generate(e.handle,e.sets);return{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!1,rawReturns:"array",augmentsTo:"array",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:a,officialDocumentation:r,overviewProperties:s,stringableReturns:null,modifiers:[]}}}};var Nc=class{resolve(e,i){let r=Se.getDocLink(e.type),n=["value","label","key"],s=He.keysToInjectedField(n),a=[],o="string",l="labeledValueArray",u=[];return e.multiple!==!0?(o="string",l="labeledValue",u=ve.generate(e.handle,s),u.push(fa.generate(e.handle))):u=ve.generateArrayFields(e.handle,s),{resolved:!0,documentation:{handle:e.type,field:e,injects:s,stringable:!0,rawReturns:o,augmentsTo:l,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:u,officialDocumentation:r,overviewProperties:a,stringableReturns:"The field's value",modifiers:[]}}}};var Sc=class{constructor(){this.injectsKeys=["handle","name","lang","locale","short_locale","url","direction"]}resolve(e,i){let r=Se.getDocLink(e.type),n=He.keysToInjectedField(this.injectsKeys).concat([ge.injectedArrayField("attributes","")]),s=[],a="siteArray",o="siteArray",l=[],u=!1;return e.maxItems===1?(a="site",o="site",u=!0,l=ve.generate(e.handle,n)):l=ve.generateArrayFields(e.handle,n),{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!0,rawReturns:a,augmentsTo:o,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:l,officialDocumentation:r,overviewProperties:s,stringableReturns:"The site's handle",modifiers:[]}}}};var Cc=class extends Ti{};var Rc=class{static getSnippets(e){let i=[];return e.maxItems===1?i.push({overview:"Navigate the structure hierarchy using the nav tag",snippet:`{{ nav :from="${e.handle}.handle" }}

{{ /nav }}`}):i.push({overview:"Navigate the structure hierarchies using the nav tag",snippet:`{{ ${e.handle} }}
    {{ nav :from="handle" }}

    {{ /nav }}
{{ /${e.handle} }}`}),i}};var Ac=class{constructor(){this.injectsKeys=["title","handle"]}resolve(e,i){let r=Se.getDocLink(e.type),n=He.keysToInjectedField(this.injectsKeys),s=[],a="structureArray",o="structureArray",l=Rc.getSnippets(e),u=!1;return e.maxItems===1?(a="structure",o="structure",u=!0,ve.generate(e.handle,n).forEach(c=>{l.push(c)})):ve.generateArrayFields(e.handle,n).forEach(c=>{l.push(c)}),{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!0,rawReturns:a,augmentsTo:o,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:l,officialDocumentation:r,overviewProperties:s,stringableReturns:"The structure's handle",modifiers:[]}}}};var Ec=class{resolve(e,i){let r=Se.getDocLink(e.type),n=[],s=[],a="array",o="array",l=[];return l.push({overview:`Using the table modifier to conver the ${e.handle} to HTML`,snippet:`{{ ${e.handle} | table /}}`}),l.push({overview:"Iterating the table and render the contents",snippet:`<table>
  {{ ${e.handle} }}
    <tr>
      {{ cells }}
        <td>{{ value /}}</td>
      {{ /cells }}
    </tr>
  {{ /${e.handle} }}
</table>`}),l.push({overview:'Using the "as" modifier to access individual rows',snippet:`{{ ${e.handle} as="rows" }}
    <thead>
        <tr>
        {{ rows.0.cells }}
            <th>{{ value /}}</th>
        {{ /rows.0.cells }}
        </tr>
    </thead>
    <tbody>
    {{ rows offset="1" }}
        <tr>
        {{ cells }}
            <td>{{ value /}}</td>
        {{ /cells }}
        </tr>
    {{ /rows }}
    </tbody>
{{ /${e.handle} }}`}),l.push({overview:"Using a variable to conditionally render a table header element",snippet:`<table>
  {{ ${e.handle} }}
    {{ if first && first_row_headers }}
      <thead>
        <tr>
          {{ cells }}
            <th>{{ value /}}</th>
          {{ /cells }}
        </tr>
      </thead>
      <tbody>
    {{ /if }}
    {{ if !first && first_row_headers || !first_row_headers }}
      {{ if first }}
        <tbody>
      {{ /if }}
        <tr>
          {{ cells }}
            <td>{{ value /}}</td>
          {{ /cells }}
        </tr>
      {{ if last }}
        </tbody>
      {{ /if }}
    {{ /if }}
  {{ /${e.handle} }}
</table>`}),l.push({overview:"Using a variable to conditionally render a table header element; using ternary conditions to render the body",snippet:`<table>
  {{ ${e.handle} }}
    {{ if first && first_row_headers }}
      <thead>
        <tr>
          {{ cells }}
            <th>{{ value /}}</th>
          {{ /cells }}
        </tr>
      </thead>
      <tbody>
    {{ /if }}
    {{ if !first && first_row_headers || !first_row_headers }}
      {{ first ?= '<tbody>' }}
      <tr>
          {{ cells }}
          <td>{{ value /}}</td>
          {{ /cells }}
      </tr>      
      {{ last ?= '</tbody>' }}
    {{ /if }}
  {{ /${e.handle} }}
</table>`}),{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!1,rawReturns:a,augmentsTo:o,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:l,officialDocumentation:r,overviewProperties:s,stringableReturns:"",modifiers:[]}}}};var wc=class extends gs{};var xc=class{constructor(){this.injectsKeys=["title","handle"]}resolve(e,i){let r=Se.getDocLink(e.type),n=He.keysToInjectedField(this.injectsKeys),s=[],a="taxonomyArray",o="taxonomyArray",l=[],u=!1;return e.maxItems===1?(a="taxonomy",o="taxonomy",u=!0,l.push(bi.generateSingle("taxonomy","from",e.handle)),l=l.concat(ve.generate(e.handle,n))):(l.push(bi.generate("taxonomy","from",e.handle)),l=l.concat(ve.generateArrayFields(e.handle,n))),{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!0,rawReturns:a,augmentsTo:o,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:l,officialDocumentation:r,overviewProperties:s,stringableReturns:"The taxonomy's handle",modifiers:[]}}}};var Dc=class extends Ti{};var Fc=class{constructor(){this.injectsKeys=["api_url","edit_url","entries_count","id","is_term","locale","permalink","slug","taxonomy","title","updated_at","updated_by","uri","url"]}resolve(e,i){let r=Se.getDocLink(e.type),n=He.keysToInjectedField(this.injectsKeys),s=[],a="builder",o="builder",l=[],u=!1;return e.maxItems===1?(a="taxonomy",o="taxonomy",u=!0,l=l.concat(ve.generate(e.handle,n))):l=l.concat(ve.generateArrayFields(e.handle,n)),{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!1,rawReturns:a,augmentsTo:o,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:l,officialDocumentation:r,overviewProperties:s,stringableReturns:null,modifiers:[]}}}};var Oc=class extends Ti{};var Lc=class extends Gn{};var hm=class{resolve(e,i){return IA(e)}};var kc=class extends hm{};var Mc=class{constructor(){this.injectsKeys=["title","handle"]}resolve(e,i){let r=Se.getDocLink(e.type),n=He.keysToInjectedField(this.injectsKeys),s=[],a="userGroupArray",o="userGroupArray",l=[],u=!1;return e.maxItems===1?(a="userGroup",o="userGroup",u=!0,l.push(bi.generateSingle("user:in","group",e.handle)),l.push(bi.generateSingleCondition("user:in","group",e.handle)),l=l.concat(ve.generate(e.handle,n))):(l.push(bi.generate("user:in","group",e.handle)),l.push(bi.generateCondition("user:in","group",e.handle)),l=l.concat(ve.generateArrayFields(e.handle,n))),{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!0,rawReturns:a,augmentsTo:o,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:l,officialDocumentation:r,overviewProperties:s,stringableReturns:"The user group's handle",modifiers:[]}}}};var qc=class{constructor(){this.injectsKeys=["title","handle"]}resolve(e,i){let r=Se.getDocLink(e.type),n=He.keysToInjectedField(this.injectsKeys),s=[],a="userRoleArray",o="userRoleArray",l=[],u=!1;return e.maxItems===1?(a="userRole",o="userRole",u=!0,l.push(bi.generateSingle("user:is","role",e.handle)),l.push(bi.generateSingleCondition("user:is","role",e.handle)),l=l.concat(ve.generate(e.handle,n))):(l.push(bi.generate("user:is","role",e.handle)),l.push(bi.generateCondition("user:is","role",e.handle)),l=l.concat(ve.generateArrayFields(e.handle,n))),{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!0,rawReturns:a,augmentsTo:o,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:l,officialDocumentation:r,overviewProperties:s,stringableReturns:"The user role's handle",modifiers:[]}}}};var Vc=class{resolve(e,i){var l;if(e.maxItems!==1)return new da().resolve(e,i);let r=null;for(let u=0;u<i.general.length;u++)if(i.general[u].handle=="user"){r=i.general[u];break}let n=Se.getDocLink(e.type),s=He.fieldsToInjectedFields((l=r==null?void 0:r.allFields)!=null?l:[]),a=[],o=ve.generate(e.handle,s);return{resolved:!0,documentation:{handle:e.type,field:e,injects:s,stringable:!1,rawReturns:"user",augmentsTo:"user",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:o,officialDocumentation:n,overviewProperties:a,stringableReturns:null,modifiers:[]}}}};var Bc=class{resolve(e,i){let r=[],n=ql.getSnippets(e),s={...dm(e)};return n.unshift({overview:"Condtionally output the appropriate video player element",snippet:`{{ if ${e.handle} | is_embeddable }}
    <!-- Youtube and Vimeo -->
    <iframe src="{{ ${e.handle} | embed_url }}" ...></iframe>
{{ else }}
    <!-- Other HTML5 video types -->
    <video src="{{ ${e.handle} | embed_url }}" ...></video>
{{ /if }}`}),s.documentation!=null&&(s.documentation.overviewProperties=r,s.documentation.overviewSnippets=n),s}};var PA=null;function NA(t){PA=t}var gm=class{constructor(){this.providers=new Map;this.providers.set("array",new gs),this.providers.set("assets",new sc),this.providers.set("bard",new ac),this.providers.set("button_group",new oc),this.providers.set("checkboxes",new lc),this.providers.set("code",new uc),this.providers.set("collections",new cc),this.providers.set("color",new fc),this.providers.set("date",new dc),this.providers.set("entries",new pc),this.providers.set("float",new mc),this.providers.set("form",new hc),this.providers.set("grid",new gc),this.providers.set("integer",new _c),this.providers.set("link",new yc),this.providers.set("list",new Tc),this.providers.set("markdown",new bc),this.providers.set("radio",new vc),this.providers.set("range",new Ic),this.providers.set("replicator",new Pc),this.providers.set("select",new Nc),this.providers.set("sites",new Sc),this.providers.set("slug",new Cc),this.providers.set("structures",new Ac),this.providers.set("table",new Ec),this.providers.set("taggable",new wc),this.providers.set("taxonomies",new xc),this.providers.set("template",new Dc),this.providers.set("terms",new Fc),this.providers.set("text",new oo),this.providers.set("textarea",new Oc),this.providers.set("time",new Lc),this.providers.set("toggle",new kc),this.providers.set("user_groups",new Mc),this.providers.set("user_roles",new qc),this.providers.set("users",new Vc),this.providers.set("video",new Bc)}massageAugmentType(e){return e=="builder"?"array":e=="asset"?"assets":e}getDocumentationModifiers(e){var a,o;let i=[],r=(a=Ve.instance)==null?void 0:a.getModifiersForType(this.massageAugmentType(e.augmentsTo)),n=[],s=[];return r==null||r.forEach(l=>{l.isDeprecated||l.forFieldType.length>0&&!l.forFieldType.includes(e.field.type)||(e.augmentsTo=="asset"||e.augmentsTo=="entry")&&l.acceptsType.length==1&&l.acceptsType[0]=="array"||(s.push(l),n.push(l.name))}),e.augmentsTo=="asset"&&((o=Ve.instance)==null||o.getRegisteredModifiers().forEach(l=>{l.forFieldType.includes("assets")&&!n.includes(l.name)&&(s.push(l),n.push(l.name))})),s.forEach(l=>{i.push({acceptsTypes:l.acceptsType,description:l.description,docLink:l.docLink,name:l.name,returnsTypes:l.returnsType,parameters:l.parameters})}),i}getDocumentation(e){if(typeof e.type!="string")return wy;let i=e.type.toLowerCase();if(!this.providers.has(i))return wy;let r=this.providers.get(i).resolve(e,PA);return r.resolved==!1||r.documentation!=null&&(r.documentation.overviewProperties.unshift({name:"Type",value:i,mono:!0}),r.documentation.overviewProperties.push({name:"Stringable",value:Y.boolLabel(r.documentation.stringable),mono:!1}),r.documentation.overviewProperties.push({name:"Arrayable",value:Y.boolLabel(r.documentation.canBeTagPair),mono:!1}),r.documentation.overviewProperties.push({name:"Augments To",value:r.documentation.augmentsTo,mono:!0}),r.documentation.modifiers=this.getDocumentationModifiers(r.documentation)),r}};var _m=class{static handle(e){return new gm().getDocumentation(e.context)}};var cB=W_(),By={formatFrontMatter:!1,showGeneralSnippetCompletions:!0,diagnostics:{warnOnDynamicCssClassNames:!0,validateTagParameters:!0,reportDiagnostics:!0},trace:{server:"off"},formatterIgnoreExtensions:["xml"],languageVersion:"runtime"},za=By;function ym(t){za=t}function Sr(){return za}var Ke=(0,ai.createConnection)(ai.ProposedFeatures.all),Bl=new ai.TextDocuments(RA.TextDocument),EA=!1,SA=!1,fB=!1,Dy;(e=>e.type=new ai.RequestType("antlers/generateHelp"))(Dy||(Dy={}));var Fy;(e=>e.type=new ai.RequestType("antlers/lockedits"))(Fy||(Fy={}));var Oy;(e=>e.type=new ai.RequestType("antlers/forcedFormat"))(Oy||(Oy={}));var Ly;(e=>e.type=new ai.RequestType("antlers/projectUpdate"))(Ly||(Ly={}));var ky;(e=>e.type=new ai.RequestType("antlers/transform"))(ky||(ky={}));var My;(e=>e.type=new ai.RequestType0("antlers/semanticTokenLegend"))(My||(My={}));var qy;(e=>e.type=new ai.RequestType("antlers/semanticTokens"))(qy||(qy={}));Ke.onInitialize(t=>{let e=t.capabilities;EA=!!(e.workspace&&!!e.workspace.configuration),SA=!!(e.workspace&&!!e.workspace.workspaceFolders),fB=!!(e.textDocument&&e.textDocument.publishDiagnostics&&e.textDocument.publishDiagnostics.relatedInformation);let i={capabilities:{textDocumentSync:ai.TextDocumentSyncKind.Full,completionProvider:{resolveProvider:!0,triggerCharacters:[":",'"',"'","{","/","|","@"," "]},documentFormattingProvider:{},foldingRangeProvider:{},signatureHelpProvider:{triggerCharacters:[","]},documentLinkProvider:{},hoverProvider:{},definitionProvider:{},documentSymbolProvider:{},referencesProvider:{},documentHighlightProvider:{},codeActionProvider:{},executeCommandProvider:{commands:["antlers.extractToPartial"]}}};return SA&&(i.capabilities.workspace={workspaceFolders:{supported:!0}}),i});Ke.onInitialized(()=>{EA&&Ke.client.register(ai.DidChangeConfigurationNotification.type,void 0),Ke.workspace.getConfiguration("html").then(function(t){J_(t)}),Ke.workspace.getConfiguration("antlersLanguageServer").then(function(t){t!=null?ym(t):ym(By)})});Ke.onExecuteCommand(async t=>{var e;t.command=="antlers.extractToPartial"&&Bu.currentAction!=null&&((e=t.arguments)==null?void 0:e.length)==3&&Bu.currentAction.completeRefactor({path:t.arguments[1],fsPath:t.arguments[2]})});Ke.onDidChangeConfiguration(t=>{Ke.workspace.getConfiguration("html").then(function(e){J_(e)}),Ke.workspace.getConfiguration("antlersLanguageServer").then(function(e){var i;if(e!=null){let r=Sr(),n=e;if(ym(n),n.diagnostics.reportDiagnostics==!1&&(i=fe.instance)!=null&&i.hasStructure()){let s=fe.instance.getStructure().getViews();for(let a=0;a<s.length;a++)Ke.sendDiagnostics({uri:s[a].originalDocumentUri,diagnostics:[]})}r.languageVersion!=n.languageVersion&&xC(Ke)}else ym(By)}),Bl.all().forEach(wA),Bl.all().forEach(X_),Bl.all().forEach(e=>{jy(encodeURIComponent(e.uri))}),Bl.all().forEach(e=>{Q_(e,Ke)})});Ke.onDocumentLinks(t=>{let e=decodeURIComponent(t.textDocument.uri);return om.getDocumentLinks(e)});var Vy=!1;Ke.onRequest(Fy.type,()=>{Vy=!0});function dB(t){if(Vy){Vy=!1;return}wA(t.document),X_(t.document),jy(decodeURIComponent(t.document.uri)),Q_(t.document,Ke)}var pB=(0,AA.debounce)(GN,97);Bl.onDidChangeContent(dB);Ke.onDidChangeWatchedFiles(t=>{});Ke.onHover(t=>qR(t));Ke.onDocumentSymbol(t=>WR(t));Ke.onDocumentHighlight(_A);Ke.onReferences(gA);Ke.onDefinition(VR);Ke.onFoldingRanges(YN);Ke.onSignatureHelp(MR);Ke.onDocumentFormatting(LR);Ke.onCompletion(pB);Ke.onCompletionResolve(WN);Bl.listen(Ke);Ke.onRequest(My.type,t=>by().legend);Ke.onRequest(Oy.type,t=>{let e=Sr(),i=Gu.format;return new Ll({tabSize:t.tabSize,formatFrontMatter:e.formatFrontMatter,insertSpaces:t.insertSpaces,formatExtensions:[],maxStatementsPerLine:3,htmlOptions:i}).formatDocument(Nt.fromText(t.content),Sr())});Ke.onRequest(Dy.type,t=>({didGenerate:!0,result:_m.handle(t)}));Ke.onRequest(ky.type,t=>{let e=new yA;e.load(t.content);let i=[];return e.getMapping().forEach((n,s)=>{i.push({find:s,replace:n})}),{shouldParse:e.getShouldFormat(),transformedText:e.getBuffer(),replacements:i}});Ke.onCodeAction(EC);Ke.onRequest(Ly.type,()=>{var t,e,i,r,n;if((t=fe.instance)==null||t.setDirtyState(!0),(e=fe.instance)==null||e.reloadDetails(),(i=fe.instance)!=null&&i.hasStructure()){let s=(r=fe.instance)==null?void 0:r.getStructure();Re.setProject(s),(n=Fa.instance)==null||n.updateProject(s)}});Ke.onRequest(qy.type,(t,e)=>{let i=decodeURIComponent(t.textDocument.uri);if(vn.has(i)){let r=vn.get(i);return by().getSemanticTokens(r,t.ranges)}return null});async function wA(t){var n,s,a,o,l,u,c,f,d;if((n=fe.instance)!=null&&n.hasStructure()){fe.instance.reloadDetails(),Re.setProject(fe.instance.getStructure());return}let e=decodeURIComponent(t.uri),i=cB(e),r=Ry(i);if((s=fe.instance)==null||s.setActiveProject(r),(a=fe.instance)!=null&&a.hasStructure()&&(Re.setProject((o=fe.instance)==null?void 0:o.getStructure()),(u=Fa.instance)==null||u.updateProject((l=fe.instance)==null?void 0:l.getStructure())),(c=un.instance)==null||c.clearPartialReferences(e),(f=Ki.instance)==null||f.clearIssues(e),(d=fe.instance)!=null&&d.hasStructure()){let p=fe.instance.getStructure().getViews();for(let m=0;m<p.length;m++){let T=p[m];wC(T.documentUri,CA.readFileSync(T.path,{encoding:"utf8"})),jy(T.documentUri)}}}function Y_(t){let e={edit:t};Ke.sendRequest("workspace/applyEdit",e)}function Ay(t){var i}function jy(t){var e,i,r,n,s,a,o,l,u,c,f,d,p,m,T,P;if(t=decodeURIComponent(t),Re.hasDocument(t)){let _=Re.getDocument(t),g=_.getAllAntlersNodes();(e=Ki.instance)==null||e.clearIssues(t),(i=un.instance)==null||i.clearAllReferences(t),Os.clear(t);let y=[],E=[],L=[],C=[],B=[],w=[];for(let oe=0;oe<g.length;oe++){let U=g[oe],J=U.getTagName();if(J==="yield"||J=="yields"){let ne=U.reference;ne!=null&&ne instanceof Yo&&y.push(ne)}else if(J==="partial")L.push(U);else if(J==="cache")C.push(U);else if(U.runtimeName()=="session:set"||U.runtimeName()=="session:flash"){let ne=U.reference;ne!=null&&ne instanceof Vs&&E.push(ne)}if(U.modifiers!=null){let ne=U.modifiers.getModifierValue("partial");if(ne!=null){let X=(r=fe.instance)==null?void 0:r.getStructure().findPartial(ne);X!=null&&((n=un.instance)==null||n.clearRemovesPageScope(X.originalDocumentUri),(s=un.instance)==null||s.setRemovesPageScope(X.originalDocumentUri,U))}}if(U.isTagNode){let ne=(a=Fe.instance)==null?void 0:a.findTag(U.runtimeName());ne!=null&&ne.requiresClose&&U.isClosedBy==null&&U.isClosingTag==!1&&U.isSelfClosing==!1&&B.push(U)}else U.manifestType==="array"&&U.isClosedBy==null&&B.push(U);let ce=(l=(o=Ki.instance)==null?void 0:o.checkNode(U))!=null?l:[];ce.length>0&&(w=w.concat(ce))}let $=(c=(u=Ki.instance)==null?void 0:u.checkDocument(_))!=null?c:[];$.length>0&&(w=w.concat($)),B.length>0&&Os.registerNodes(t,B),(f=Fa.instance)==null||f.registerInjections(t,L),(d=dd.instance)==null||d.registerDocumentSections(t,y),(p=un.instance)==null||p.registerPartialReferences(t,L),(m=un.instance)==null||m.registerCacheReferences(t,C),(T=Ki.instance)==null||T.registerDiagnostics(t,w),(P=wa.instance)==null||P.registerDocumentSessionVariables(t,E)}}Ke.listen();0&&(module.exports={getAntlersSettings,globalSettings,requestEdits,sendProjectDetails});
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
