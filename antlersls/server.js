#!/usr/bin/env node
var EA=Object.create;var ku=Object.defineProperty;var wA=Object.getOwnPropertyDescriptor;var xA=Object.getOwnPropertyNames;var DA=Object.getPrototypeOf,FA=Object.prototype.hasOwnProperty;var D_=t=>ku(t,"__esModule",{value:!0});var J=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),OA=(t,e)=>{for(var i in e)ku(t,i,{get:e[i],enumerable:!0})},F_=(t,e,i,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of xA(e))!FA.call(t,n)&&(i||n!=="default")&&ku(t,n,{get:()=>e[n],enumerable:!(r=wA(e,n))||r.enumerable});return t},te=(t,e)=>F_(D_(ku(t!=null?EA(DA(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),LA=(t=>(e,i)=>t&&t.get(e)||(i=F_(D_({}),e,1),t&&t.set(e,i),i))(typeof WeakMap!="undefined"?new WeakMap:0);var L_=J((O_,Mu)=>{(function(t){if(typeof Mu=="object"&&typeof Mu.exports=="object"){var e=t(require,O_);e!==void 0&&(Mu.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function l(u,c,f,d){this._uri=u,this._languageId=c,this._version=f,this._content=d,this._lineOffsets=void 0}return Object.defineProperty(l.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),l.prototype.getText=function(u){if(u){var c=this.offsetAt(u.start),f=this.offsetAt(u.end);return this._content.substring(c,f)}return this._content},l.prototype.update=function(u,c){for(var f=0,d=u;f<d.length;f++){var p=d[f];if(l.isIncremental(p)){var m=a(p.range),_=this.offsetAt(m.start),P=this.offsetAt(m.end);this._content=this._content.substring(0,_)+p.text+this._content.substring(P,this._content.length);var g=Math.max(m.start.line,0),T=Math.max(m.end.line,0),y=this._lineOffsets,A=s(p.text,!1,_);if(T-g===A.length)for(var N=0,U=A.length;N<U;N++)y[N+g+1]=A[N];else A.length<1e4?y.splice.apply(y,[g+1,T-g].concat(A)):this._lineOffsets=y=y.slice(0,g+1).concat(A,y.slice(T+1));var V=p.text.length-(P-_);if(V!==0)for(var N=g+1+A.length,U=y.length;N<U;N++)y[N]=y[N]+V}else if(l.isFull(p))this._content=p.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received")}this._version=c},l.prototype.getLineOffsets=function(){return this._lineOffsets===void 0&&(this._lineOffsets=s(this._content,!0)),this._lineOffsets},l.prototype.positionAt=function(u){u=Math.max(Math.min(u,this._content.length),0);var c=this.getLineOffsets(),f=0,d=c.length;if(d===0)return{line:0,character:u};for(;f<d;){var p=Math.floor((f+d)/2);c[p]>u?d=p:f=p+1}var m=f-1;return{line:m,character:u-c[m]}},l.prototype.offsetAt=function(u){var c=this.getLineOffsets();if(u.line>=c.length)return this._content.length;if(u.line<0)return 0;var f=c[u.line],d=u.line+1<c.length?c[u.line+1]:this._content.length;return Math.max(Math.min(f+u.character,d),f)},Object.defineProperty(l.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),l.isIncremental=function(u){var c=u;return c!=null&&typeof c.text=="string"&&c.range!==void 0&&(c.rangeLength===void 0||typeof c.rangeLength=="number")},l.isFull=function(u){var c=u;return c!=null&&typeof c.text=="string"&&c.range===void 0&&c.rangeLength===void 0},l}(),r;(function(l){function u(d,p,m,_){return new i(d,p,m,_)}l.create=u;function c(d,p,m){if(d instanceof i)return d.update(p,m),d;throw new Error("TextDocument.update: document must be created by TextDocument.create")}l.update=c;function f(d,p){for(var m=d.getText(),_=n(p.map(o),function(U,V){var w=U.range.start.line-V.range.start.line;return w===0?U.range.start.character-V.range.start.character:w}),P=0,g=[],T=0,y=_;T<y.length;T++){var A=y[T],N=d.offsetAt(A.range.start);if(N<P)throw new Error("Overlapping edit");N>P&&g.push(m.substring(P,N)),A.newText.length&&g.push(A.newText),P=d.offsetAt(A.range.end)}return g.push(m.substr(P)),g.join("")}l.applyEdits=f})(r=e.TextDocument||(e.TextDocument={}));function n(l,u){if(l.length<=1)return l;var c=l.length/2|0,f=l.slice(0,c),d=l.slice(c);n(f,u),n(d,u);for(var p=0,m=0,_=0;p<f.length&&m<d.length;){var P=u(f[p],d[m]);P<=0?l[_++]=f[p++]:l[_++]=d[m++]}for(;p<f.length;)l[_++]=f[p++];for(;m<d.length;)l[_++]=d[m++];return l}function s(l,u,c){c===void 0&&(c=0);for(var f=u?[c]:[],d=0;d<l.length;d++){var p=l.charCodeAt(d);(p===13||p===10)&&(p===13&&d+1<l.length&&l.charCodeAt(d+1)===10&&d++,f.push(c+d+1))}return f}function a(l){var u=l.start,c=l.end;return u.line>c.line||u.line===c.line&&u.character>c.character?{start:c,end:u}:l}function o(l){var u=a(l.range);return u!==l.range?{newText:l.newText,range:u}:l}})});var qu=J(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.thenable=Bt.typedArray=Bt.stringArray=Bt.array=Bt.func=Bt.error=Bt.number=Bt.string=Bt.boolean=void 0;function kA(t){return t===!0||t===!1}Bt.boolean=kA;function k_(t){return typeof t=="string"||t instanceof String}Bt.string=k_;function MA(t){return typeof t=="number"||t instanceof Number}Bt.number=MA;function qA(t){return t instanceof Error}Bt.error=qA;function M_(t){return typeof t=="function"}Bt.func=M_;function q_(t){return Array.isArray(t)}Bt.array=q_;function VA(t){return q_(t)&&t.every(e=>k_(e))}Bt.stringArray=VA;function BA(t,e){return Array.isArray(t)&&t.every(e)}Bt.typedArray=BA;function jA(t){return t&&M_(t.then)}Bt.thenable=jA});var kn=J(np=>{"use strict";Object.defineProperty(np,"__esModule",{value:!0});var ip;function rp(){if(ip===void 0)throw new Error("No runtime abstraction layer installed");return ip}(function(t){function e(i){if(i===void 0)throw new Error("No runtime abstraction layer provided");ip=i}t.install=e})(rp||(rp={}));np.default=rp});var sp=J(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.Disposable=void 0;var UA;(function(t){function e(i){return{dispose:i}}t.create=e})(UA=dl.Disposable||(dl.Disposable={}))});var B_=J(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.AbstractMessageBuffer=void 0;var GA=13,WA=10,HA=`\r
`,V_=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let i=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(i),this._totalLength+=i.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,i=0,r=0,n=0;e:for(;i<this._chunks.length;){let l=this._chunks[i];r=0;t:for(;r<l.length;){switch(l[r]){case GA:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case WA:switch(e){case 1:e=2;break;case 3:e=4,r++;break e;default:e=0}break;default:e=0}r++}n+=l.byteLength,i++}if(e!==4)return;let s=this._read(n+r),a=new Map,o=this.toString(s,"ascii").split(HA);if(o.length<2)return a;for(let l=0;l<o.length-2;l++){let u=o[l],c=u.indexOf(":");if(c===-1)throw new Error("Message header must separate key and value using :");let f=u.substr(0,c),d=u.substr(c+1).trim();a.set(f,d)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],a=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,a}let i=this.allocNative(e),r=0,n=0;for(;e>0;){let s=this._chunks[n];if(s.byteLength>e){let a=s.slice(0,e);i.set(a,r),r+=e,this._chunks[n]=s.slice(e),this._totalLength-=e,e-=e}else i.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return i}};Vu.AbstractMessageBuffer=V_});var H_=J(op=>{"use strict";Object.defineProperty(op,"__esModule",{value:!0});var YA=kn(),j_=require("util"),Gs=sp(),KA=B_(),pl=class extends KA.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return pl.emptyBuffer}fromString(e,i){return Buffer.from(e,i)}toString(e,i){return e instanceof Buffer?e.toString(i):new j_.TextDecoder(i).decode(e)}asNative(e,i){return i===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,i):Buffer.from(e,0,i)}allocNative(e){return Buffer.allocUnsafe(e)}};pl.emptyBuffer=Buffer.allocUnsafe(0);var U_=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Gs.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Gs.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Gs.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),Gs.Disposable.create(()=>this.stream.off("data",e))}},G_=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Gs.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Gs.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Gs.Disposable.create(()=>this.stream.off("end",e))}write(e,i){return new Promise((r,n)=>{let s=a=>{a==null?r():n(a)};typeof e=="string"?this.stream.write(e,i,s):this.stream.write(e,s)})}end(){this.stream.end()}},W_=Object.freeze({messageBuffer:Object.freeze({create:t=>new pl(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(i){return Promise.reject(i)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new j_.TextDecoder(e.charset).decode(t)))}catch(i){return Promise.reject(i)}}})}),stream:Object.freeze({asReadableStream:t=>new U_(t),asWritableStream:t=>new G_(t)}),console,timer:Object.freeze({setTimeout(t,e,...i){return setTimeout(t,e,...i)},clearTimeout(t){clearTimeout(t)},setImmediate(t,...e){return setImmediate(t,...e)},clearImmediate(t){clearImmediate(t)}})});function ap(){return W_}(function(t){function e(){YA.default.install(W_)}t.install=e})(ap||(ap={}));op.default=ap});var ja=J(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});Ii.stringArray=Ii.array=Ii.func=Ii.error=Ii.number=Ii.string=Ii.boolean=void 0;function $A(t){return t===!0||t===!1}Ii.boolean=$A;function Y_(t){return typeof t=="string"||t instanceof String}Ii.string=Y_;function zA(t){return typeof t=="number"||t instanceof Number}Ii.number=zA;function XA(t){return t instanceof Error}Ii.error=XA;function QA(t){return typeof t=="function"}Ii.func=QA;function K_(t){return Array.isArray(t)}Ii.array=K_;function JA(t){return K_(t)&&t.every(e=>Y_(e))}Ii.stringArray=JA});var lp=J(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.isResponseMessage=me.isNotificationMessage=me.isRequestMessage=me.NotificationType9=me.NotificationType8=me.NotificationType7=me.NotificationType6=me.NotificationType5=me.NotificationType4=me.NotificationType3=me.NotificationType2=me.NotificationType1=me.NotificationType0=me.NotificationType=me.RequestType9=me.RequestType8=me.RequestType7=me.RequestType6=me.RequestType5=me.RequestType4=me.RequestType3=me.RequestType2=me.RequestType1=me.RequestType=me.RequestType0=me.AbstractMessageSignature=me.ParameterStructures=me.ResponseError=me.ErrorCodes=void 0;var Ws=ja(),$_;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=t.jsonrpcReservedErrorRangeStart,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=t.jsonrpcReservedErrorRangeEnd})($_=me.ErrorCodes||(me.ErrorCodes={}));var Bu=class extends Error{constructor(e,i,r){super(i);this.code=Ws.number(e)?e:$_.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,Bu.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};me.ResponseError=Bu;var di=class{constructor(e){this.kind=e}static is(e){return e===di.auto||e===di.byName||e===di.byPosition}toString(){return this.kind}};me.ParameterStructures=di;di.auto=new di("auto");di.byPosition=new di("byPosition");di.byName=new di("byName");var It=class{constructor(e,i){this.method=e,this.numberOfParams=i}get parameterStructures(){return di.auto}};me.AbstractMessageSignature=It;var z_=class extends It{constructor(e){super(e,0)}};me.RequestType0=z_;var X_=class extends It{constructor(e,i=di.auto){super(e,1);this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};me.RequestType=X_;var Q_=class extends It{constructor(e,i=di.auto){super(e,1);this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};me.RequestType1=Q_;var J_=class extends It{constructor(e){super(e,2)}};me.RequestType2=J_;var Z_=class extends It{constructor(e){super(e,3)}};me.RequestType3=Z_;var ey=class extends It{constructor(e){super(e,4)}};me.RequestType4=ey;var ty=class extends It{constructor(e){super(e,5)}};me.RequestType5=ty;var iy=class extends It{constructor(e){super(e,6)}};me.RequestType6=iy;var ry=class extends It{constructor(e){super(e,7)}};me.RequestType7=ry;var ny=class extends It{constructor(e){super(e,8)}};me.RequestType8=ny;var sy=class extends It{constructor(e){super(e,9)}};me.RequestType9=sy;var ay=class extends It{constructor(e,i=di.auto){super(e,1);this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};me.NotificationType=ay;var oy=class extends It{constructor(e){super(e,0)}};me.NotificationType0=oy;var ly=class extends It{constructor(e,i=di.auto){super(e,1);this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};me.NotificationType1=ly;var uy=class extends It{constructor(e){super(e,2)}};me.NotificationType2=uy;var cy=class extends It{constructor(e){super(e,3)}};me.NotificationType3=cy;var fy=class extends It{constructor(e){super(e,4)}};me.NotificationType4=fy;var dy=class extends It{constructor(e){super(e,5)}};me.NotificationType5=dy;var py=class extends It{constructor(e){super(e,6)}};me.NotificationType6=py;var my=class extends It{constructor(e){super(e,7)}};me.NotificationType7=my;var hy=class extends It{constructor(e){super(e,8)}};me.NotificationType8=hy;var gy=class extends It{constructor(e){super(e,9)}};me.NotificationType9=gy;function ZA(t){let e=t;return e&&Ws.string(e.method)&&(Ws.string(e.id)||Ws.number(e.id))}me.isRequestMessage=ZA;function e0(t){let e=t;return e&&Ws.string(e.method)&&t.id===void 0}me.isNotificationMessage=e0;function t0(t){let e=t;return e&&(e.result!==void 0||!!e.error)&&(Ws.string(e.id)||Ws.number(e.id)||e.id===null)}me.isResponseMessage=t0});var Ua=J(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.Emitter=Hs.Event=void 0;var i0=kn(),r0;(function(t){let e={dispose(){}};t.None=function(){return e}})(r0=Hs.Event||(Hs.Event={}));var _y=class{add(e,i=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(i),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,i)})}remove(e,i=null){if(!this._callbacks)return;let r=!1;for(let n=0,s=this._callbacks.length;n<s;n++)if(this._callbacks[n]===e)if(this._contexts[n]===i){this._callbacks.splice(n,1),this._contexts.splice(n,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let i=[],r=this._callbacks.slice(0),n=this._contexts.slice(0);for(let s=0,a=r.length;s<a;s++)try{i.push(r[s].apply(n[s],e))}catch(o){i0.default().console.error(o)}return i}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},ml=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,i,r)=>{this._callbacks||(this._callbacks=new _y),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,i);let n={dispose:()=>{!this._callbacks||(this._callbacks.remove(e,i),n.dispose=ml._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(n),n}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Hs.Emitter=ml;ml._noop=function(){}});var dp=J(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.CancellationTokenSource=Ys.CancellationToken=void 0;var yy=kn(),n0=ja(),up=Ua(),cp;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:up.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:up.Event.None});function e(i){let r=i;return r&&(r===t.None||r===t.Cancelled||n0.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(cp=Ys.CancellationToken||(Ys.CancellationToken={}));var s0=Object.freeze(function(t,e){let i=yy.default().timer.setTimeout(t.bind(e),0);return{dispose(){yy.default().timer.clearTimeout(i)}}}),fp=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?s0:(this._emitter||(this._emitter=new up.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Ty=class{get token(){return this._token||(this._token=new fp),this._token}cancel(){this._token?this._token.cancel():this._token=cp.Cancelled}dispose(){this._token?this._token instanceof fp&&this._token.dispose():this._token=cp.None}};Ys.CancellationTokenSource=Ty});var vy=J(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn.ReadableStreamMessageReader=Mn.AbstractMessageReader=Mn.MessageReader=void 0;var ju=kn(),Ga=ja(),pp=Ua(),a0;(function(t){function e(i){let r=i;return r&&Ga.func(r.listen)&&Ga.func(r.dispose)&&Ga.func(r.onError)&&Ga.func(r.onClose)&&Ga.func(r.onPartialMessage)}t.is=e})(a0=Mn.MessageReader||(Mn.MessageReader={}));var mp=class{constructor(){this.errorEmitter=new pp.Emitter,this.closeEmitter=new pp.Emitter,this.partialMessageEmitter=new pp.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Ga.string(e.message)?e.message:"unknown"}`)}};Mn.AbstractMessageReader=mp;var hp;(function(t){function e(i){var r;let n,s,a,o=new Map,l,u=new Map;if(i===void 0||typeof i=="string")n=i??"utf-8";else{if(n=(r=i.charset)!==null&&r!==void 0?r:"utf-8",i.contentDecoder!==void 0&&(a=i.contentDecoder,o.set(a.name,a)),i.contentDecoders!==void 0)for(let c of i.contentDecoders)o.set(c.name,c);if(i.contentTypeDecoder!==void 0&&(l=i.contentTypeDecoder,u.set(l.name,l)),i.contentTypeDecoders!==void 0)for(let c of i.contentTypeDecoders)u.set(c.name,c)}return l===void 0&&(l=ju.default().applicationJson.decoder,u.set(l.name,l)),{charset:n,contentDecoder:a,contentDecoders:o,contentTypeDecoder:l,contentTypeDecoders:u}}t.fromOptions=e})(hp||(hp={}));var by=class extends mp{constructor(e,i){super();this.readable=e,this.options=hp.fromOptions(i),this.buffer=ju.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let i=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),i}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders();if(!n)return;let s=n.get("Content-Length");if(!s)throw new Error("Header must provide a Content-Length property.");let a=parseInt(s);if(isNaN(a))throw new Error("Content-Length value must be a number.");this.nextMessageLength=a}let i=this.buffer.tryReadBody(this.nextMessageLength);if(i===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(i):r=Promise.resolve(i),r.then(n=>{this.options.contentTypeDecoder.decode(n,this.options).then(s=>{this.callback(s)},s=>{this.fireError(s)})},n=>{this.fireError(n)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(ju.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=ju.default().timer.setTimeout((e,i)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:i}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Mn.ReadableStreamMessageReader=by});var Py=J(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.Semaphore=void 0;var o0=kn(),Iy=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((i,r)=>{this._waiting.push({thunk:e,resolve:i,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||o0.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let i=e.thunk();i instanceof Promise?i.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(i),this.runNext())}catch(i){this._active--,e.reject(i),this.runNext()}}};Uu.Semaphore=Iy});var Ay=J(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.WriteableStreamMessageWriter=qn.AbstractMessageWriter=qn.MessageWriter=void 0;var Ny=kn(),hl=ja(),l0=Py(),Sy=Ua(),u0="Content-Length: ",Ry=`\r
`,c0;(function(t){function e(i){let r=i;return r&&hl.func(r.dispose)&&hl.func(r.onClose)&&hl.func(r.onError)&&hl.func(r.write)}t.is=e})(c0=qn.MessageWriter||(qn.MessageWriter={}));var gp=class{constructor(){this.errorEmitter=new Sy.Emitter,this.closeEmitter=new Sy.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,i,r){this.errorEmitter.fire([this.asError(e),i,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${hl.string(e.message)?e.message:"unknown"}`)}};qn.AbstractMessageWriter=gp;var _p;(function(t){function e(i){var r,n;return i===void 0||typeof i=="string"?{charset:i??"utf-8",contentTypeEncoder:Ny.default().applicationJson.encoder}:{charset:(r=i.charset)!==null&&r!==void 0?r:"utf-8",contentEncoder:i.contentEncoder,contentTypeEncoder:(n=i.contentTypeEncoder)!==null&&n!==void 0?n:Ny.default().applicationJson.encoder}}t.fromOptions=e})(_p||(_p={}));var Cy=class extends gp{constructor(e,i){super();this.writable=e,this.options=_p.fromOptions(i),this.errorCount=0,this.writeSemaphore=new l0.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let n=[];return n.push(u0,r.byteLength.toString(),Ry),n.push(Ry),this.doWrite(e,n,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,i,r){try{return await this.writable.write(i.join(""),"ascii"),this.writable.write(r)}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,i){this.errorCount++,this.fireError(e,i,this.errorCount)}end(){this.writable.end()}};qn.WriteableStreamMessageWriter=Cy});var wy=J(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.LRUCache=Vn.LinkedMap=Vn.Touch=void 0;var wi;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(wi=Vn.Touch||(Vn.Touch={}));var yp=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,i=wi.None){let r=this._map.get(e);if(!!r)return i!==wi.None&&this.touch(r,i),r.value}set(e,i,r=wi.None){let n=this._map.get(e);if(n)n.value=i,r!==wi.None&&this.touch(n,r);else{switch(n={key:e,value:i,next:void 0,previous:void 0},r){case wi.None:this.addItemLast(n);break;case wi.First:this.addItemFirst(n);break;case wi.Last:this.addItemLast(n);break;default:this.addItemLast(n);break}this._map.set(e,n),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let i=this._map.get(e);if(!!i)return this._map.delete(e),this.removeItem(i),this._size--,i.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,i){let r=this._state,n=this._head;for(;n;){if(i?e.bind(i)(n.value,n.key,this):e(n.value,n.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");n=n.next}}keys(){let e=this,i=this._state,r=this._head,n={[Symbol.iterator](){return n},next(){if(e._state!==i)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.key,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return n}values(){let e=this,i=this._state,r=this._head,n={[Symbol.iterator](){return n},next(){if(e._state!==i)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.value,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return n}entries(){let e=this,i=this._state,r=this._head,n={[Symbol.iterator](){return n},next(){if(e._state!==i)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:[r.key,r.value],done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return n}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let i=this._head,r=this.size;for(;i&&r>e;)this._map.delete(i.key),i=i.next,r--;this._head=i,this._size=r,i&&(i.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let i=e.next,r=e.previous;if(!i||!r)throw new Error("Invalid list");i.previous=r,r.next=i}e.next=void 0,e.previous=void 0,this._state++}touch(e,i){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(i!==wi.First&&i!==wi.Last)){if(i===wi.First){if(e===this._head)return;let r=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(r.previous=n,n.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(i===wi.Last){if(e===this._tail)return;let r=e.next,n=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=n,n.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((i,r)=>{e.push([r,i])}),e}fromJSON(e){this.clear();for(let[i,r]of e)this.set(i,r)}};Vn.LinkedMap=yp;var Ey=class extends yp{constructor(e,i=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,i),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,i=wi.AsNew){return super.get(e,i)}peek(e){return super.get(e,wi.None)}set(e,i){return super.set(e,i,wi.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Vn.LRUCache=Ey});var ky=J(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.createMessageConnection=Fe.ConnectionOptions=Fe.CancellationStrategy=Fe.CancellationSenderStrategy=Fe.CancellationReceiverStrategy=Fe.ConnectionStrategy=Fe.ConnectionError=Fe.ConnectionErrors=Fe.LogTraceNotification=Fe.SetTraceNotification=Fe.TraceFormat=Fe.Trace=Fe.NullLogger=Fe.ProgressType=void 0;var xy=kn(),ri=ja(),Ae=lp(),Dy=wy(),gl=Ua(),Tp=dp(),_l;(function(t){t.type=new Ae.NotificationType("$/cancelRequest")})(_l||(_l={}));var Gu;(function(t){t.type=new Ae.NotificationType("$/progress")})(Gu||(Gu={}));var Fy=class{constructor(){}};Fe.ProgressType=Fy;var bp;(function(t){function e(i){return ri.func(i)}t.is=e})(bp||(bp={}));Fe.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var jt;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose"})(jt=Fe.Trace||(Fe.Trace={}));(function(t){function e(r){if(!ri.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function i(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off"}}t.toString=i})(jt=Fe.Trace||(Fe.Trace={}));var Mr;(function(t){t.Text="text",t.JSON="json"})(Mr=Fe.TraceFormat||(Fe.TraceFormat={}));(function(t){function e(i){return i=i.toLowerCase(),i==="json"?t.JSON:t.Text}t.fromString=e})(Mr=Fe.TraceFormat||(Fe.TraceFormat={}));var Oy;(function(t){t.type=new Ae.NotificationType("$/setTrace")})(Oy=Fe.SetTraceNotification||(Fe.SetTraceNotification={}));var vp;(function(t){t.type=new Ae.NotificationType("$/logTrace")})(vp=Fe.LogTraceNotification||(Fe.LogTraceNotification={}));var Wu;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(Wu=Fe.ConnectionErrors||(Fe.ConnectionErrors={}));var Ks=class extends Error{constructor(e,i){super(i);this.code=e,Object.setPrototypeOf(this,Ks.prototype)}};Fe.ConnectionError=Ks;var Ly;(function(t){function e(i){let r=i;return r&&ri.func(r.cancelUndispatched)}t.is=e})(Ly=Fe.ConnectionStrategy||(Fe.ConnectionStrategy={}));var Ip;(function(t){t.Message=Object.freeze({createCancellationTokenSource(i){return new Tp.CancellationTokenSource}});function e(i){let r=i;return r&&ri.func(r.createCancellationTokenSource)}t.is=e})(Ip=Fe.CancellationReceiverStrategy||(Fe.CancellationReceiverStrategy={}));var Pp;(function(t){t.Message=Object.freeze({sendCancellation(i,r){i.sendNotification(_l.type,{id:r})},cleanup(i){}});function e(i){let r=i;return r&&ri.func(r.sendCancellation)&&ri.func(r.cleanup)}t.is=e})(Pp=Fe.CancellationSenderStrategy||(Fe.CancellationSenderStrategy={}));var Np;(function(t){t.Message=Object.freeze({receiver:Ip.Message,sender:Pp.Message});function e(i){let r=i;return r&&Ip.is(r.receiver)&&Pp.is(r.sender)}t.is=e})(Np=Fe.CancellationStrategy||(Fe.CancellationStrategy={}));var f0;(function(t){function e(i){let r=i;return r&&(Np.is(r.cancellationStrategy)||Ly.is(r.connectionStrategy))}t.is=e})(f0=Fe.ConnectionOptions||(Fe.ConnectionOptions={}));var qr;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(qr||(qr={}));function d0(t,e,i,r){let n=i!==void 0?i:Fe.NullLogger,s=0,a=0,o=0,l="2.0",u,c=Object.create(null),f,d=Object.create(null),p=new Map,m,_=new Dy.LinkedMap,P=Object.create(null),g=Object.create(null),T=jt.Off,y=Mr.Text,A,N=qr.New,U=new gl.Emitter,V=new gl.Emitter,w=new gl.Emitter,$=new gl.Emitter,le=new gl.Emitter,j=r&&r.cancellationStrategy?r.cancellationStrategy:Np.Message;function Z(x){if(x===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+x.toString()}function ce(x){return x===null?"res-unknown-"+(++o).toString():"res-"+x.toString()}function se(){return"not-"+(++a).toString()}function X(x,C){Ae.isRequestMessage(C)?x.set(Z(C.id),C):Ae.isResponseMessage(C)?x.set(ce(C.id),C):x.set(se(),C)}function Ue(x){}function dt(){return N===qr.Listening}function ii(){return N===qr.Closed}function ot(){return N===qr.Disposed}function Xe(){(N===qr.New||N===qr.Listening)&&(N=qr.Closed,V.fire(void 0))}function Dn(x){U.fire([x,void 0,void 0])}function Fn(x){U.fire(x)}t.onClose(Xe),t.onError(Dn),e.onClose(Xe),e.onError(Fn);function he(){m||_.size===0||(m=xy.default().timer.setImmediate(()=>{m=void 0,pe()}))}function pe(){if(_.size===0)return;let x=_.shift();try{Ae.isRequestMessage(x)?fe(x):Ae.isNotificationMessage(x)?xt(x):Ae.isResponseMessage(x)?De(x):pn(x)}finally{he()}}let be=x=>{try{if(Ae.isNotificationMessage(x)&&x.method===_l.type.method){let C=Z(x.params.id),v=_.get(C);if(Ae.isRequestMessage(v)){let E=r==null?void 0:r.connectionStrategy,F=E&&E.cancelUndispatched?E.cancelUndispatched(v,Ue):void 0;if(F&&(F.error!==void 0||F.result!==void 0)){_.delete(C),F.id=v.id,On(F,x.method,Date.now()),e.write(F);return}}}X(_,x)}finally{he()}};function fe(x){if(ot())return;function C(B,oe,ge){let O={jsonrpc:l,id:x.id};B instanceof Ae.ResponseError?O.error=B.toJson():O.result=B===void 0?null:B,On(O,oe,ge),e.write(O)}function v(B,oe,ge){let O={jsonrpc:l,id:x.id,error:B.toJson()};On(O,oe,ge),e.write(O)}function E(B,oe,ge){B===void 0&&(B=null);let O={jsonrpc:l,id:x.id,result:B};On(O,oe,ge),e.write(O)}Va(x);let F=c[x.method],S,b;F&&(S=F.type,b=F.handler);let L=Date.now();if(b||u){let B=String(x.id),oe=j.receiver.createCancellationTokenSource(B);g[B]=oe;try{let ge;if(b)if(x.params===void 0){if(S!==void 0&&S.numberOfParams!==0){v(new Ae.ResponseError(Ae.ErrorCodes.InvalidParams,`Request ${x.method} defines ${S.numberOfParams} params but recevied none.`),x.method,L);return}ge=b(oe.token)}else if(Array.isArray(x.params)){if(S!==void 0&&S.parameterStructures===Ae.ParameterStructures.byName){v(new Ae.ResponseError(Ae.ErrorCodes.InvalidParams,`Request ${x.method} defines parameters by name but received parameters by position`),x.method,L);return}ge=b(...x.params,oe.token)}else{if(S!==void 0&&S.parameterStructures===Ae.ParameterStructures.byPosition){v(new Ae.ResponseError(Ae.ErrorCodes.InvalidParams,`Request ${x.method} defines parameters by position but received parameters by name`),x.method,L);return}ge=b(x.params,oe.token)}else u&&(ge=u(x.method,x.params,oe.token));let O=ge;ge?O.then?O.then(ee=>{delete g[B],C(ee,x.method,L)},ee=>{delete g[B],ee instanceof Ae.ResponseError?v(ee,x.method,L):ee&&ri.string(ee.message)?v(new Ae.ResponseError(Ae.ErrorCodes.InternalError,`Request ${x.method} failed with message: ${ee.message}`),x.method,L):v(new Ae.ResponseError(Ae.ErrorCodes.InternalError,`Request ${x.method} failed unexpectedly without providing any details.`),x.method,L)}):(delete g[B],C(ge,x.method,L)):(delete g[B],E(ge,x.method,L))}catch(ge){delete g[B],ge instanceof Ae.ResponseError?C(ge,x.method,L):ge&&ri.string(ge.message)?v(new Ae.ResponseError(Ae.ErrorCodes.InternalError,`Request ${x.method} failed with message: ${ge.message}`),x.method,L):v(new Ae.ResponseError(Ae.ErrorCodes.InternalError,`Request ${x.method} failed unexpectedly without providing any details.`),x.method,L)}}else v(new Ae.ResponseError(Ae.ErrorCodes.MethodNotFound,`Unhandled method ${x.method}`),x.method,L)}function De(x){if(!ot())if(x.id===null)x.error?n.error(`Received response message without id: Error is: 
${JSON.stringify(x.error,void 0,4)}`):n.error("Received response message without id. No further error information provided.");else{let C=String(x.id),v=P[C];if(js(x,v),v){delete P[C];try{if(x.error){let E=x.error;v.reject(new Ae.ResponseError(E.code,E.message,E.data))}else if(x.result!==void 0)v.resolve(x.result);else throw new Error("Should never happen.")}catch(E){E.message?n.error(`Response handler '${v.method}' failed with message: ${E.message}`):n.error(`Response handler '${v.method}' failed unexpectedly.`)}}}}function xt(x){if(ot())return;let C,v;if(x.method===_l.type.method)v=E=>{let F=E.id,S=g[String(F)];S&&S.cancel()};else{let E=d[x.method];E&&(v=E.handler,C=E.type)}if(v||f)try{Bs(x),v?x.params===void 0?(C!==void 0&&C.numberOfParams!==0&&C.parameterStructures!==Ae.ParameterStructures.byName&&n.error(`Notification ${x.method} defines ${C.numberOfParams} params but recevied none.`),v()):Array.isArray(x.params)?(C!==void 0&&(C.parameterStructures===Ae.ParameterStructures.byName&&n.error(`Notification ${x.method} defines parameters by name but received parameters by position`),C.numberOfParams!==x.params.length&&n.error(`Notification ${x.method} defines ${C.numberOfParams} params but received ${x.params.length} argumennts`)),v(...x.params)):(C!==void 0&&C.parameterStructures===Ae.ParameterStructures.byPosition&&n.error(`Notification ${x.method} defines parameters by position but received parameters by name`),v(x.params)):f&&f(x.method,x.params)}catch(E){E.message?n.error(`Notification handler '${x.method}' failed with message: ${E.message}`):n.error(`Notification handler '${x.method}' failed unexpectedly.`)}else w.fire(x)}function pn(x){if(!x){n.error("Received empty message.");return}n.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(x,null,4)}`);let C=x;if(ri.string(C.id)||ri.number(C.id)){let v=String(C.id),E=P[v];E&&E.reject(new Error("The received response has neither a result nor an error property."))}}function qa(x){if(!(T===jt.Off||!A))if(y===Mr.Text){let C;T===jt.Verbose&&x.params&&(C=`Params: ${JSON.stringify(x.params,null,4)}

`),A.log(`Sending request '${x.method} - (${x.id})'.`,C)}else Lr("send-request",x)}function Vs(x){if(!(T===jt.Off||!A))if(y===Mr.Text){let C;T===jt.Verbose&&(x.params?C=`Params: ${JSON.stringify(x.params,null,4)}

`:C=`No parameters provided.

`),A.log(`Sending notification '${x.method}'.`,C)}else Lr("send-notification",x)}function On(x,C,v){if(!(T===jt.Off||!A))if(y===Mr.Text){let E;T===jt.Verbose&&(x.error&&x.error.data?E=`Error data: ${JSON.stringify(x.error.data,null,4)}

`:x.result?E=`Result: ${JSON.stringify(x.result,null,4)}

`:x.error===void 0&&(E=`No result returned.

`)),A.log(`Sending response '${C} - (${x.id})'. Processing request took ${Date.now()-v}ms`,E)}else Lr("send-response",x)}function Va(x){if(!(T===jt.Off||!A))if(y===Mr.Text){let C;T===jt.Verbose&&x.params&&(C=`Params: ${JSON.stringify(x.params,null,4)}

`),A.log(`Received request '${x.method} - (${x.id})'.`,C)}else Lr("receive-request",x)}function Bs(x){if(!(T===jt.Off||!A||x.method===vp.type.method))if(y===Mr.Text){let C;T===jt.Verbose&&(x.params?C=`Params: ${JSON.stringify(x.params,null,4)}

`:C=`No parameters provided.

`),A.log(`Received notification '${x.method}'.`,C)}else Lr("receive-notification",x)}function js(x,C){if(!(T===jt.Off||!A))if(y===Mr.Text){let v;if(T===jt.Verbose&&(x.error&&x.error.data?v=`Error data: ${JSON.stringify(x.error.data,null,4)}

`:x.result?v=`Result: ${JSON.stringify(x.result,null,4)}

`:x.error===void 0&&(v=`No result returned.

`)),C){let E=x.error?` Request failed: ${x.error.message} (${x.error.code}).`:"";A.log(`Received response '${C.method} - (${x.id})' in ${Date.now()-C.timerStart}ms.${E}`,v)}else A.log(`Received response ${x.id} without active response promise.`,v)}else Lr("receive-response",x)}function Lr(x,C){if(!A||T===jt.Off)return;let v={isLSPMessage:!0,type:x,message:C,timestamp:Date.now()};A.log(v)}function mn(){if(ii())throw new Ks(Wu.Closed,"Connection is closed.");if(ot())throw new Ks(Wu.Disposed,"Connection is disposed.")}function Us(){if(dt())throw new Ks(Wu.AlreadyListening,"Connection is already listening")}function Ln(){if(!dt())throw new Error("Call listen() first.")}function Lt(x){return x===void 0?null:x}function Qi(x){if(x!==null)return x}function hn(x){return x!=null&&!Array.isArray(x)&&typeof x=="object"}function mr(x,C){switch(x){case Ae.ParameterStructures.auto:return hn(C)?Qi(C):[Lt(C)];case Ae.ParameterStructures.byName:if(!hn(C))throw new Error("Recevied parameters by name but param is not an object literal.");return Qi(C);case Ae.ParameterStructures.byPosition:return[Lt(C)];default:throw new Error(`Unknown parameter structure ${x.toString()}`)}}function kr(x,C){let v,E=x.numberOfParams;switch(E){case 0:v=void 0;break;case 1:v=mr(x.parameterStructures,C[0]);break;default:v=[];for(let F=0;F<C.length&&F<E;F++)v.push(Lt(C[F]));if(C.length<E)for(let F=C.length;F<E;F++)v.push(null);break}return v}let Ei={sendNotification:(x,...C)=>{mn();let v,E;if(ri.string(x)){v=x;let S=C[0],b=0,L=Ae.ParameterStructures.auto;Ae.ParameterStructures.is(S)&&(b=1,L=S);let B=C.length,oe=B-b;switch(oe){case 0:E=void 0;break;case 1:E=mr(L,C[b]);break;default:if(L===Ae.ParameterStructures.byName)throw new Error(`Recevied ${oe} parameters for 'by Name' notification parameter structure.`);E=C.slice(b,B).map(ge=>Lt(ge));break}}else{let S=C;v=x.method,E=kr(x,S)}let F={jsonrpc:l,method:v,params:E};Vs(F),e.write(F)},onNotification:(x,C)=>{mn();let v;return ri.func(x)?f=x:C&&(ri.string(x)?(v=x,d[x]={type:void 0,handler:C}):(v=x.method,d[x.method]={type:x,handler:C})),{dispose:()=>{v!==void 0?delete d[v]:f=void 0}}},onProgress:(x,C,v)=>{if(p.has(C))throw new Error(`Progress handler for token ${C} already registered`);return p.set(C,v),{dispose:()=>{p.delete(C)}}},sendProgress:(x,C,v)=>{Ei.sendNotification(Gu.type,{token:C,value:v})},onUnhandledProgress:$.event,sendRequest:(x,...C)=>{mn(),Ln();let v,E,F;if(ri.string(x)){v=x;let B=C[0],oe=C[C.length-1],ge=0,O=Ae.ParameterStructures.auto;Ae.ParameterStructures.is(B)&&(ge=1,O=B);let ee=C.length;Tp.CancellationToken.is(oe)&&(ee=ee-1,F=oe);let Te=ee-ge;switch(Te){case 0:E=void 0;break;case 1:E=mr(O,C[ge]);break;default:if(O===Ae.ParameterStructures.byName)throw new Error(`Recevied ${Te} parameters for 'by Name' request parameter structure.`);E=C.slice(ge,ee).map(ye=>Lt(ye));break}}else{let B=C;v=x.method,E=kr(x,B);let oe=x.numberOfParams;F=Tp.CancellationToken.is(B[oe])?B[oe]:void 0}let S=s++,b;return F&&(b=F.onCancellationRequested(()=>{j.sender.sendCancellation(Ei,S)})),new Promise((B,oe)=>{let ge={jsonrpc:l,id:S,method:v,params:E},O=ye=>{B(ye),j.sender.cleanup(S),b==null||b.dispose()},ee=ye=>{oe(ye),j.sender.cleanup(S),b==null||b.dispose()},Te={method:v,timerStart:Date.now(),resolve:O,reject:ee};qa(ge);try{e.write(ge)}catch(ye){Te.reject(new Ae.ResponseError(Ae.ErrorCodes.MessageWriteError,ye.message?ye.message:"Unknown reason")),Te=null}Te&&(P[String(S)]=Te)})},onRequest:(x,C)=>{mn();let v=null;return bp.is(x)?(v=void 0,u=x):ri.string(x)?(v=null,C!==void 0&&(v=x,c[x]={handler:C,type:void 0})):C!==void 0&&(v=x.method,c[x.method]={type:x,handler:C}),{dispose:()=>{v!==null&&(v!==void 0?delete c[v]:u=void 0)}}},trace:(x,C,v)=>{let E=!1,F=Mr.Text;v!==void 0&&(ri.boolean(v)?E=v:(E=v.sendNotification||!1,F=v.traceFormat||Mr.Text)),T=x,y=F,T===jt.Off?A=void 0:A=C,E&&!ii()&&!ot()&&Ei.sendNotification(Oy.type,{value:jt.toString(x)})},onError:U.event,onClose:V.event,onUnhandledNotification:w.event,onDispose:le.event,end:()=>{e.end()},dispose:()=>{if(ot())return;N=qr.Disposed,le.fire(void 0);let x=new Error("Connection got disposed.");Object.keys(P).forEach(C=>{P[C].reject(x)}),P=Object.create(null),g=Object.create(null),_=new Dy.LinkedMap,ri.func(e.dispose)&&e.dispose(),ri.func(t.dispose)&&t.dispose()},listen:()=>{mn(),Us(),N=qr.Listening,t.listen(be)},inspect:()=>{xy.default().console.log("inspect")}};return Ei.onNotification(vp.type,x=>{T===jt.Off||!A||A.log(x.message,T===jt.Verbose?x.verbose:void 0)}),Ei.onNotification(Gu.type,x=>{let C=p.get(x.token);C?C(x.value):$.fire(x)}),Ei}Fe.createMessageConnection=d0});var Cp=J(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.CancellationSenderStrategy=Y.CancellationReceiverStrategy=Y.ConnectionError=Y.ConnectionErrors=Y.LogTraceNotification=Y.SetTraceNotification=Y.TraceFormat=Y.Trace=Y.ProgressType=Y.createMessageConnection=Y.NullLogger=Y.ConnectionOptions=Y.ConnectionStrategy=Y.WriteableStreamMessageWriter=Y.AbstractMessageWriter=Y.MessageWriter=Y.ReadableStreamMessageReader=Y.AbstractMessageReader=Y.MessageReader=Y.CancellationToken=Y.CancellationTokenSource=Y.Emitter=Y.Event=Y.Disposable=Y.ParameterStructures=Y.NotificationType9=Y.NotificationType8=Y.NotificationType7=Y.NotificationType6=Y.NotificationType5=Y.NotificationType4=Y.NotificationType3=Y.NotificationType2=Y.NotificationType1=Y.NotificationType0=Y.NotificationType=Y.ErrorCodes=Y.ResponseError=Y.RequestType9=Y.RequestType8=Y.RequestType7=Y.RequestType6=Y.RequestType5=Y.RequestType4=Y.RequestType3=Y.RequestType2=Y.RequestType1=Y.RequestType0=Y.RequestType=Y.RAL=void 0;Y.CancellationStrategy=void 0;var Tt=lp();Object.defineProperty(Y,"RequestType",{enumerable:!0,get:function(){return Tt.RequestType}});Object.defineProperty(Y,"RequestType0",{enumerable:!0,get:function(){return Tt.RequestType0}});Object.defineProperty(Y,"RequestType1",{enumerable:!0,get:function(){return Tt.RequestType1}});Object.defineProperty(Y,"RequestType2",{enumerable:!0,get:function(){return Tt.RequestType2}});Object.defineProperty(Y,"RequestType3",{enumerable:!0,get:function(){return Tt.RequestType3}});Object.defineProperty(Y,"RequestType4",{enumerable:!0,get:function(){return Tt.RequestType4}});Object.defineProperty(Y,"RequestType5",{enumerable:!0,get:function(){return Tt.RequestType5}});Object.defineProperty(Y,"RequestType6",{enumerable:!0,get:function(){return Tt.RequestType6}});Object.defineProperty(Y,"RequestType7",{enumerable:!0,get:function(){return Tt.RequestType7}});Object.defineProperty(Y,"RequestType8",{enumerable:!0,get:function(){return Tt.RequestType8}});Object.defineProperty(Y,"RequestType9",{enumerable:!0,get:function(){return Tt.RequestType9}});Object.defineProperty(Y,"ResponseError",{enumerable:!0,get:function(){return Tt.ResponseError}});Object.defineProperty(Y,"ErrorCodes",{enumerable:!0,get:function(){return Tt.ErrorCodes}});Object.defineProperty(Y,"NotificationType",{enumerable:!0,get:function(){return Tt.NotificationType}});Object.defineProperty(Y,"NotificationType0",{enumerable:!0,get:function(){return Tt.NotificationType0}});Object.defineProperty(Y,"NotificationType1",{enumerable:!0,get:function(){return Tt.NotificationType1}});Object.defineProperty(Y,"NotificationType2",{enumerable:!0,get:function(){return Tt.NotificationType2}});Object.defineProperty(Y,"NotificationType3",{enumerable:!0,get:function(){return Tt.NotificationType3}});Object.defineProperty(Y,"NotificationType4",{enumerable:!0,get:function(){return Tt.NotificationType4}});Object.defineProperty(Y,"NotificationType5",{enumerable:!0,get:function(){return Tt.NotificationType5}});Object.defineProperty(Y,"NotificationType6",{enumerable:!0,get:function(){return Tt.NotificationType6}});Object.defineProperty(Y,"NotificationType7",{enumerable:!0,get:function(){return Tt.NotificationType7}});Object.defineProperty(Y,"NotificationType8",{enumerable:!0,get:function(){return Tt.NotificationType8}});Object.defineProperty(Y,"NotificationType9",{enumerable:!0,get:function(){return Tt.NotificationType9}});Object.defineProperty(Y,"ParameterStructures",{enumerable:!0,get:function(){return Tt.ParameterStructures}});var p0=sp();Object.defineProperty(Y,"Disposable",{enumerable:!0,get:function(){return p0.Disposable}});var My=Ua();Object.defineProperty(Y,"Event",{enumerable:!0,get:function(){return My.Event}});Object.defineProperty(Y,"Emitter",{enumerable:!0,get:function(){return My.Emitter}});var qy=dp();Object.defineProperty(Y,"CancellationTokenSource",{enumerable:!0,get:function(){return qy.CancellationTokenSource}});Object.defineProperty(Y,"CancellationToken",{enumerable:!0,get:function(){return qy.CancellationToken}});var Sp=vy();Object.defineProperty(Y,"MessageReader",{enumerable:!0,get:function(){return Sp.MessageReader}});Object.defineProperty(Y,"AbstractMessageReader",{enumerable:!0,get:function(){return Sp.AbstractMessageReader}});Object.defineProperty(Y,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Sp.ReadableStreamMessageReader}});var Rp=Ay();Object.defineProperty(Y,"MessageWriter",{enumerable:!0,get:function(){return Rp.MessageWriter}});Object.defineProperty(Y,"AbstractMessageWriter",{enumerable:!0,get:function(){return Rp.AbstractMessageWriter}});Object.defineProperty(Y,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Rp.WriteableStreamMessageWriter}});var Hi=ky();Object.defineProperty(Y,"ConnectionStrategy",{enumerable:!0,get:function(){return Hi.ConnectionStrategy}});Object.defineProperty(Y,"ConnectionOptions",{enumerable:!0,get:function(){return Hi.ConnectionOptions}});Object.defineProperty(Y,"NullLogger",{enumerable:!0,get:function(){return Hi.NullLogger}});Object.defineProperty(Y,"createMessageConnection",{enumerable:!0,get:function(){return Hi.createMessageConnection}});Object.defineProperty(Y,"ProgressType",{enumerable:!0,get:function(){return Hi.ProgressType}});Object.defineProperty(Y,"Trace",{enumerable:!0,get:function(){return Hi.Trace}});Object.defineProperty(Y,"TraceFormat",{enumerable:!0,get:function(){return Hi.TraceFormat}});Object.defineProperty(Y,"SetTraceNotification",{enumerable:!0,get:function(){return Hi.SetTraceNotification}});Object.defineProperty(Y,"LogTraceNotification",{enumerable:!0,get:function(){return Hi.LogTraceNotification}});Object.defineProperty(Y,"ConnectionErrors",{enumerable:!0,get:function(){return Hi.ConnectionErrors}});Object.defineProperty(Y,"ConnectionError",{enumerable:!0,get:function(){return Hi.ConnectionError}});Object.defineProperty(Y,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Hi.CancellationReceiverStrategy}});Object.defineProperty(Y,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Hi.CancellationSenderStrategy}});Object.defineProperty(Y,"CancellationStrategy",{enumerable:!0,get:function(){return Hi.CancellationStrategy}});var m0=kn();Y.RAL=m0.default});var Ka=J(nt=>{"use strict";var h0=nt&&nt.__createBinding||(Object.create?function(t,e,i,r){r===void 0&&(r=i),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,r){r===void 0&&(r=i),t[r]=e[i]}),g0=nt&&nt.__exportStar||function(t,e){for(var i in t)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&h0(e,t,i)};Object.defineProperty(nt,"__esModule",{value:!0});nt.createMessageConnection=nt.createServerSocketTransport=nt.createClientSocketTransport=nt.createServerPipeTransport=nt.createClientPipeTransport=nt.generateRandomPipeName=nt.StreamMessageWriter=nt.StreamMessageReader=nt.SocketMessageWriter=nt.SocketMessageReader=nt.IPCMessageWriter=nt.IPCMessageReader=void 0;var Wa=H_();Wa.default.install();var gn=Cp(),Vy=require("path"),_0=require("os"),y0=require("crypto"),Hu=require("net");g0(Cp(),nt);var By=class extends gn.AbstractMessageReader{constructor(e){super();this.process=e;let i=this.process;i.on("error",r=>this.fireError(r)),i.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),gn.Disposable.create(()=>this.process.off("message",e))}};nt.IPCMessageReader=By;var jy=class extends gn.AbstractMessageWriter{constructor(e){super();this.process=e,this.errorCount=0;let i=this.process;i.on("error",r=>this.fireError(r)),i.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,i=>{i?(this.errorCount++,this.handleError(i,e)):this.errorCount=0}),Promise.resolve()}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,i){this.errorCount++,this.fireError(e,i,this.errorCount)}end(){}};nt.IPCMessageWriter=jy;var Ha=class extends gn.ReadableStreamMessageReader{constructor(e,i="utf-8"){super(Wa.default().stream.asReadableStream(e),i)}};nt.SocketMessageReader=Ha;var Ya=class extends gn.WriteableStreamMessageWriter{constructor(e,i){super(Wa.default().stream.asWritableStream(e),i);this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};nt.SocketMessageWriter=Ya;var Ap=class extends gn.ReadableStreamMessageReader{constructor(e,i){super(Wa.default().stream.asReadableStream(e),i)}};nt.StreamMessageReader=Ap;var Ep=class extends gn.WriteableStreamMessageWriter{constructor(e,i){super(Wa.default().stream.asWritableStream(e),i)}};nt.StreamMessageWriter=Ep;var Uy=process.env.XDG_RUNTIME_DIR,T0=new Map([["linux",107],["darwin",103]]);function b0(){let t=y0.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;Uy?e=Vy.join(Uy,`vscode-ipc-${t}.sock`):e=Vy.join(_0.tmpdir(),`vscode-${t}.sock`);let i=T0.get(process.platform);return i!==void 0&&e.length>=i&&Wa.default().console.warn(`WARNING: IPC handle "${e}" is longer than ${i} characters.`),e}nt.generateRandomPipeName=b0;function v0(t,e="utf-8"){let i,r=new Promise((n,s)=>{i=n});return new Promise((n,s)=>{let a=Hu.createServer(o=>{a.close(),i([new Ha(o,e),new Ya(o,e)])});a.on("error",s),a.listen(t,()=>{a.removeListener("error",s),n({onConnected:()=>r})})})}nt.createClientPipeTransport=v0;function I0(t,e="utf-8"){let i=Hu.createConnection(t);return[new Ha(i,e),new Ya(i,e)]}nt.createServerPipeTransport=I0;function P0(t,e="utf-8"){let i,r=new Promise((n,s)=>{i=n});return new Promise((n,s)=>{let a=Hu.createServer(o=>{a.close(),i([new Ha(o,e),new Ya(o,e)])});a.on("error",s),a.listen(t,"127.0.0.1",()=>{a.removeListener("error",s),n({onConnected:()=>r})})})}nt.createClientSocketTransport=P0;function N0(t,e="utf-8"){let i=Hu.createConnection(t,"127.0.0.1");return[new Ha(i,e),new Ya(i,e)]}nt.createServerSocketTransport=N0;function S0(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function R0(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function C0(t,e,i,r){i||(i=gn.NullLogger);let n=S0(t)?new Ap(t):t,s=R0(e)?new Ep(e):e;return gn.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),gn.createMessageConnection(n,s,i,r)}nt.createMessageConnection=C0});var wp=J((AB,Gy)=>{"use strict";Gy.exports=Ka()});var gt=J((Wy,Yu)=>{(function(t){if(typeof Yu=="object"&&typeof Yu.exports=="object"){var e=t(require,Wy);e!==void 0&&(Yu.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=void 0;var i;(function(v){v.MIN_VALUE=-2147483648,v.MAX_VALUE=2147483647})(i=e.integer||(e.integer={}));var r;(function(v){v.MIN_VALUE=0,v.MAX_VALUE=2147483647})(r=e.uinteger||(e.uinteger={}));var n;(function(v){function E(S,b){return S===Number.MAX_VALUE&&(S=r.MAX_VALUE),b===Number.MAX_VALUE&&(b=r.MAX_VALUE),{line:S,character:b}}v.create=E;function F(S){var b=S;return C.objectLiteral(b)&&C.uinteger(b.line)&&C.uinteger(b.character)}v.is=F})(n=e.Position||(e.Position={}));var s;(function(v){function E(S,b,L,B){if(C.uinteger(S)&&C.uinteger(b)&&C.uinteger(L)&&C.uinteger(B))return{start:n.create(S,b),end:n.create(L,B)};if(n.is(S)&&n.is(b))return{start:S,end:b};throw new Error("Range#create called with invalid arguments["+S+", "+b+", "+L+", "+B+"]")}v.create=E;function F(S){var b=S;return C.objectLiteral(b)&&n.is(b.start)&&n.is(b.end)}v.is=F})(s=e.Range||(e.Range={}));var a;(function(v){function E(S,b){return{uri:S,range:b}}v.create=E;function F(S){var b=S;return C.defined(b)&&s.is(b.range)&&(C.string(b.uri)||C.undefined(b.uri))}v.is=F})(a=e.Location||(e.Location={}));var o;(function(v){function E(S,b,L,B){return{targetUri:S,targetRange:b,targetSelectionRange:L,originSelectionRange:B}}v.create=E;function F(S){var b=S;return C.defined(b)&&s.is(b.targetRange)&&C.string(b.targetUri)&&(s.is(b.targetSelectionRange)||C.undefined(b.targetSelectionRange))&&(s.is(b.originSelectionRange)||C.undefined(b.originSelectionRange))}v.is=F})(o=e.LocationLink||(e.LocationLink={}));var l;(function(v){function E(S,b,L,B){return{red:S,green:b,blue:L,alpha:B}}v.create=E;function F(S){var b=S;return C.numberRange(b.red,0,1)&&C.numberRange(b.green,0,1)&&C.numberRange(b.blue,0,1)&&C.numberRange(b.alpha,0,1)}v.is=F})(l=e.Color||(e.Color={}));var u;(function(v){function E(S,b){return{range:S,color:b}}v.create=E;function F(S){var b=S;return s.is(b.range)&&l.is(b.color)}v.is=F})(u=e.ColorInformation||(e.ColorInformation={}));var c;(function(v){function E(S,b,L){return{label:S,textEdit:b,additionalTextEdits:L}}v.create=E;function F(S){var b=S;return C.string(b.label)&&(C.undefined(b.textEdit)||y.is(b))&&(C.undefined(b.additionalTextEdits)||C.typedArray(b.additionalTextEdits,y.is))}v.is=F})(c=e.ColorPresentation||(e.ColorPresentation={}));var f;(function(v){v.Comment="comment",v.Imports="imports",v.Region="region"})(f=e.FoldingRangeKind||(e.FoldingRangeKind={}));var d;(function(v){function E(S,b,L,B,oe){var ge={startLine:S,endLine:b};return C.defined(L)&&(ge.startCharacter=L),C.defined(B)&&(ge.endCharacter=B),C.defined(oe)&&(ge.kind=oe),ge}v.create=E;function F(S){var b=S;return C.uinteger(b.startLine)&&C.uinteger(b.startLine)&&(C.undefined(b.startCharacter)||C.uinteger(b.startCharacter))&&(C.undefined(b.endCharacter)||C.uinteger(b.endCharacter))&&(C.undefined(b.kind)||C.string(b.kind))}v.is=F})(d=e.FoldingRange||(e.FoldingRange={}));var p;(function(v){function E(S,b){return{location:S,message:b}}v.create=E;function F(S){var b=S;return C.defined(b)&&a.is(b.location)&&C.string(b.message)}v.is=F})(p=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var m;(function(v){v.Error=1,v.Warning=2,v.Information=3,v.Hint=4})(m=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var _;(function(v){v.Unnecessary=1,v.Deprecated=2})(_=e.DiagnosticTag||(e.DiagnosticTag={}));var P;(function(v){function E(F){var S=F;return S!=null&&C.string(S.href)}v.is=E})(P=e.CodeDescription||(e.CodeDescription={}));var g;(function(v){function E(S,b,L,B,oe,ge){var O={range:S,message:b};return C.defined(L)&&(O.severity=L),C.defined(B)&&(O.code=B),C.defined(oe)&&(O.source=oe),C.defined(ge)&&(O.relatedInformation=ge),O}v.create=E;function F(S){var b,L=S;return C.defined(L)&&s.is(L.range)&&C.string(L.message)&&(C.number(L.severity)||C.undefined(L.severity))&&(C.integer(L.code)||C.string(L.code)||C.undefined(L.code))&&(C.undefined(L.codeDescription)||C.string((b=L.codeDescription)===null||b===void 0?void 0:b.href))&&(C.string(L.source)||C.undefined(L.source))&&(C.undefined(L.relatedInformation)||C.typedArray(L.relatedInformation,p.is))}v.is=F})(g=e.Diagnostic||(e.Diagnostic={}));var T;(function(v){function E(S,b){for(var L=[],B=2;B<arguments.length;B++)L[B-2]=arguments[B];var oe={title:S,command:b};return C.defined(L)&&L.length>0&&(oe.arguments=L),oe}v.create=E;function F(S){var b=S;return C.defined(b)&&C.string(b.title)&&C.string(b.command)}v.is=F})(T=e.Command||(e.Command={}));var y;(function(v){function E(L,B){return{range:L,newText:B}}v.replace=E;function F(L,B){return{range:{start:L,end:L},newText:B}}v.insert=F;function S(L){return{range:L,newText:""}}v.del=S;function b(L){var B=L;return C.objectLiteral(B)&&C.string(B.newText)&&s.is(B.range)}v.is=b})(y=e.TextEdit||(e.TextEdit={}));var A;(function(v){function E(S,b,L){var B={label:S};return b!==void 0&&(B.needsConfirmation=b),L!==void 0&&(B.description=L),B}v.create=E;function F(S){var b=S;return b!==void 0&&C.objectLiteral(b)&&C.string(b.label)&&(C.boolean(b.needsConfirmation)||b.needsConfirmation===void 0)&&(C.string(b.description)||b.description===void 0)}v.is=F})(A=e.ChangeAnnotation||(e.ChangeAnnotation={}));var N;(function(v){function E(F){var S=F;return typeof S=="string"}v.is=E})(N=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var U;(function(v){function E(L,B,oe){return{range:L,newText:B,annotationId:oe}}v.replace=E;function F(L,B,oe){return{range:{start:L,end:L},newText:B,annotationId:oe}}v.insert=F;function S(L,B){return{range:L,newText:"",annotationId:B}}v.del=S;function b(L){var B=L;return y.is(B)&&(A.is(B.annotationId)||N.is(B.annotationId))}v.is=b})(U=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var V;(function(v){function E(S,b){return{textDocument:S,edits:b}}v.create=E;function F(S){var b=S;return C.defined(b)&&dt.is(b.textDocument)&&Array.isArray(b.edits)}v.is=F})(V=e.TextDocumentEdit||(e.TextDocumentEdit={}));var w;(function(v){function E(S,b,L){var B={kind:"create",uri:S};return b!==void 0&&(b.overwrite!==void 0||b.ignoreIfExists!==void 0)&&(B.options=b),L!==void 0&&(B.annotationId=L),B}v.create=E;function F(S){var b=S;return b&&b.kind==="create"&&C.string(b.uri)&&(b.options===void 0||(b.options.overwrite===void 0||C.boolean(b.options.overwrite))&&(b.options.ignoreIfExists===void 0||C.boolean(b.options.ignoreIfExists)))&&(b.annotationId===void 0||N.is(b.annotationId))}v.is=F})(w=e.CreateFile||(e.CreateFile={}));var $;(function(v){function E(S,b,L,B){var oe={kind:"rename",oldUri:S,newUri:b};return L!==void 0&&(L.overwrite!==void 0||L.ignoreIfExists!==void 0)&&(oe.options=L),B!==void 0&&(oe.annotationId=B),oe}v.create=E;function F(S){var b=S;return b&&b.kind==="rename"&&C.string(b.oldUri)&&C.string(b.newUri)&&(b.options===void 0||(b.options.overwrite===void 0||C.boolean(b.options.overwrite))&&(b.options.ignoreIfExists===void 0||C.boolean(b.options.ignoreIfExists)))&&(b.annotationId===void 0||N.is(b.annotationId))}v.is=F})($=e.RenameFile||(e.RenameFile={}));var le;(function(v){function E(S,b,L){var B={kind:"delete",uri:S};return b!==void 0&&(b.recursive!==void 0||b.ignoreIfNotExists!==void 0)&&(B.options=b),L!==void 0&&(B.annotationId=L),B}v.create=E;function F(S){var b=S;return b&&b.kind==="delete"&&C.string(b.uri)&&(b.options===void 0||(b.options.recursive===void 0||C.boolean(b.options.recursive))&&(b.options.ignoreIfNotExists===void 0||C.boolean(b.options.ignoreIfNotExists)))&&(b.annotationId===void 0||N.is(b.annotationId))}v.is=F})(le=e.DeleteFile||(e.DeleteFile={}));var j;(function(v){function E(F){var S=F;return S&&(S.changes!==void 0||S.documentChanges!==void 0)&&(S.documentChanges===void 0||S.documentChanges.every(function(b){return C.string(b.kind)?w.is(b)||$.is(b)||le.is(b):V.is(b)}))}v.is=E})(j=e.WorkspaceEdit||(e.WorkspaceEdit={}));var Z=function(){function v(E,F){this.edits=E,this.changeAnnotations=F}return v.prototype.insert=function(E,F,S){var b,L;if(S===void 0?b=y.insert(E,F):N.is(S)?(L=S,b=U.insert(E,F,S)):(this.assertChangeAnnotations(this.changeAnnotations),L=this.changeAnnotations.manage(S),b=U.insert(E,F,L)),this.edits.push(b),L!==void 0)return L},v.prototype.replace=function(E,F,S){var b,L;if(S===void 0?b=y.replace(E,F):N.is(S)?(L=S,b=U.replace(E,F,S)):(this.assertChangeAnnotations(this.changeAnnotations),L=this.changeAnnotations.manage(S),b=U.replace(E,F,L)),this.edits.push(b),L!==void 0)return L},v.prototype.delete=function(E,F){var S,b;if(F===void 0?S=y.del(E):N.is(F)?(b=F,S=U.del(E,F)):(this.assertChangeAnnotations(this.changeAnnotations),b=this.changeAnnotations.manage(F),S=U.del(E,b)),this.edits.push(S),b!==void 0)return b},v.prototype.add=function(E){this.edits.push(E)},v.prototype.all=function(){return this.edits},v.prototype.clear=function(){this.edits.splice(0,this.edits.length)},v.prototype.assertChangeAnnotations=function(E){if(E===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},v}(),ce=function(){function v(E){this._annotations=E===void 0?Object.create(null):E,this._counter=0,this._size=0}return v.prototype.all=function(){return this._annotations},Object.defineProperty(v.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),v.prototype.manage=function(E,F){var S;if(N.is(E)?S=E:(S=this.nextId(),F=E),this._annotations[S]!==void 0)throw new Error("Id "+S+" is already in use.");if(F===void 0)throw new Error("No annotation provided for id "+S);return this._annotations[S]=F,this._size++,S},v.prototype.nextId=function(){return this._counter++,this._counter.toString()},v}(),se=function(){function v(E){var F=this;this._textEditChanges=Object.create(null),E!==void 0?(this._workspaceEdit=E,E.documentChanges?(this._changeAnnotations=new ce(E.changeAnnotations),E.changeAnnotations=this._changeAnnotations.all(),E.documentChanges.forEach(function(S){if(V.is(S)){var b=new Z(S.edits,F._changeAnnotations);F._textEditChanges[S.textDocument.uri]=b}})):E.changes&&Object.keys(E.changes).forEach(function(S){var b=new Z(E.changes[S]);F._textEditChanges[S]=b})):this._workspaceEdit={}}return Object.defineProperty(v.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),v.prototype.getTextEditChange=function(E){if(dt.is(E)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var F={uri:E.uri,version:E.version},S=this._textEditChanges[F.uri];if(!S){var b=[],L={textDocument:F,edits:b};this._workspaceEdit.documentChanges.push(L),S=new Z(b,this._changeAnnotations),this._textEditChanges[F.uri]=S}return S}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var S=this._textEditChanges[E];if(!S){var b=[];this._workspaceEdit.changes[E]=b,S=new Z(b),this._textEditChanges[E]=S}return S}},v.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new ce,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},v.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},v.prototype.createFile=function(E,F,S){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var b;A.is(F)||N.is(F)?b=F:S=F;var L,B;if(b===void 0?L=w.create(E,S):(B=N.is(b)?b:this._changeAnnotations.manage(b),L=w.create(E,S,B)),this._workspaceEdit.documentChanges.push(L),B!==void 0)return B},v.prototype.renameFile=function(E,F,S,b){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var L;A.is(S)||N.is(S)?L=S:b=S;var B,oe;if(L===void 0?B=$.create(E,F,b):(oe=N.is(L)?L:this._changeAnnotations.manage(L),B=$.create(E,F,b,oe)),this._workspaceEdit.documentChanges.push(B),oe!==void 0)return oe},v.prototype.deleteFile=function(E,F,S){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var b;A.is(F)||N.is(F)?b=F:S=F;var L,B;if(b===void 0?L=le.create(E,S):(B=N.is(b)?b:this._changeAnnotations.manage(b),L=le.create(E,S,B)),this._workspaceEdit.documentChanges.push(L),B!==void 0)return B},v}();e.WorkspaceChange=se;var X;(function(v){function E(S){return{uri:S}}v.create=E;function F(S){var b=S;return C.defined(b)&&C.string(b.uri)}v.is=F})(X=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var Ue;(function(v){function E(S,b){return{uri:S,version:b}}v.create=E;function F(S){var b=S;return C.defined(b)&&C.string(b.uri)&&C.integer(b.version)}v.is=F})(Ue=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var dt;(function(v){function E(S,b){return{uri:S,version:b}}v.create=E;function F(S){var b=S;return C.defined(b)&&C.string(b.uri)&&(b.version===null||C.integer(b.version))}v.is=F})(dt=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var ii;(function(v){function E(S,b,L,B){return{uri:S,languageId:b,version:L,text:B}}v.create=E;function F(S){var b=S;return C.defined(b)&&C.string(b.uri)&&C.string(b.languageId)&&C.integer(b.version)&&C.string(b.text)}v.is=F})(ii=e.TextDocumentItem||(e.TextDocumentItem={}));var ot;(function(v){v.PlainText="plaintext",v.Markdown="markdown"})(ot=e.MarkupKind||(e.MarkupKind={})),function(v){function E(F){var S=F;return S===v.PlainText||S===v.Markdown}v.is=E}(ot=e.MarkupKind||(e.MarkupKind={}));var Xe;(function(v){function E(F){var S=F;return C.objectLiteral(F)&&ot.is(S.kind)&&C.string(S.value)}v.is=E})(Xe=e.MarkupContent||(e.MarkupContent={}));var Dn;(function(v){v.Text=1,v.Method=2,v.Function=3,v.Constructor=4,v.Field=5,v.Variable=6,v.Class=7,v.Interface=8,v.Module=9,v.Property=10,v.Unit=11,v.Value=12,v.Enum=13,v.Keyword=14,v.Snippet=15,v.Color=16,v.File=17,v.Reference=18,v.Folder=19,v.EnumMember=20,v.Constant=21,v.Struct=22,v.Event=23,v.Operator=24,v.TypeParameter=25})(Dn=e.CompletionItemKind||(e.CompletionItemKind={}));var Fn;(function(v){v.PlainText=1,v.Snippet=2})(Fn=e.InsertTextFormat||(e.InsertTextFormat={}));var he;(function(v){v.Deprecated=1})(he=e.CompletionItemTag||(e.CompletionItemTag={}));var pe;(function(v){function E(S,b,L){return{newText:S,insert:b,replace:L}}v.create=E;function F(S){var b=S;return b&&C.string(b.newText)&&s.is(b.insert)&&s.is(b.replace)}v.is=F})(pe=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var be;(function(v){v.asIs=1,v.adjustIndentation=2})(be=e.InsertTextMode||(e.InsertTextMode={}));var fe;(function(v){function E(F){return{label:F}}v.create=E})(fe=e.CompletionItem||(e.CompletionItem={}));var De;(function(v){function E(F,S){return{items:F||[],isIncomplete:!!S}}v.create=E})(De=e.CompletionList||(e.CompletionList={}));var xt;(function(v){function E(S){return S.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}v.fromPlainText=E;function F(S){var b=S;return C.string(b)||C.objectLiteral(b)&&C.string(b.language)&&C.string(b.value)}v.is=F})(xt=e.MarkedString||(e.MarkedString={}));var pn;(function(v){function E(F){var S=F;return!!S&&C.objectLiteral(S)&&(Xe.is(S.contents)||xt.is(S.contents)||C.typedArray(S.contents,xt.is))&&(F.range===void 0||s.is(F.range))}v.is=E})(pn=e.Hover||(e.Hover={}));var qa;(function(v){function E(F,S){return S?{label:F,documentation:S}:{label:F}}v.create=E})(qa=e.ParameterInformation||(e.ParameterInformation={}));var Vs;(function(v){function E(F,S){for(var b=[],L=2;L<arguments.length;L++)b[L-2]=arguments[L];var B={label:F};return C.defined(S)&&(B.documentation=S),C.defined(b)?B.parameters=b:B.parameters=[],B}v.create=E})(Vs=e.SignatureInformation||(e.SignatureInformation={}));var On;(function(v){v.Text=1,v.Read=2,v.Write=3})(On=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var Va;(function(v){function E(F,S){var b={range:F};return C.number(S)&&(b.kind=S),b}v.create=E})(Va=e.DocumentHighlight||(e.DocumentHighlight={}));var Bs;(function(v){v.File=1,v.Module=2,v.Namespace=3,v.Package=4,v.Class=5,v.Method=6,v.Property=7,v.Field=8,v.Constructor=9,v.Enum=10,v.Interface=11,v.Function=12,v.Variable=13,v.Constant=14,v.String=15,v.Number=16,v.Boolean=17,v.Array=18,v.Object=19,v.Key=20,v.Null=21,v.EnumMember=22,v.Struct=23,v.Event=24,v.Operator=25,v.TypeParameter=26})(Bs=e.SymbolKind||(e.SymbolKind={}));var js;(function(v){v.Deprecated=1})(js=e.SymbolTag||(e.SymbolTag={}));var Lr;(function(v){function E(F,S,b,L,B){var oe={name:F,kind:S,location:{uri:L,range:b}};return B&&(oe.containerName=B),oe}v.create=E})(Lr=e.SymbolInformation||(e.SymbolInformation={}));var mn;(function(v){function E(S,b,L,B,oe,ge){var O={name:S,detail:b,kind:L,range:B,selectionRange:oe};return ge!==void 0&&(O.children=ge),O}v.create=E;function F(S){var b=S;return b&&C.string(b.name)&&C.number(b.kind)&&s.is(b.range)&&s.is(b.selectionRange)&&(b.detail===void 0||C.string(b.detail))&&(b.deprecated===void 0||C.boolean(b.deprecated))&&(b.children===void 0||Array.isArray(b.children))&&(b.tags===void 0||Array.isArray(b.tags))}v.is=F})(mn=e.DocumentSymbol||(e.DocumentSymbol={}));var Us;(function(v){v.Empty="",v.QuickFix="quickfix",v.Refactor="refactor",v.RefactorExtract="refactor.extract",v.RefactorInline="refactor.inline",v.RefactorRewrite="refactor.rewrite",v.Source="source",v.SourceOrganizeImports="source.organizeImports",v.SourceFixAll="source.fixAll"})(Us=e.CodeActionKind||(e.CodeActionKind={}));var Ln;(function(v){function E(S,b){var L={diagnostics:S};return b!=null&&(L.only=b),L}v.create=E;function F(S){var b=S;return C.defined(b)&&C.typedArray(b.diagnostics,g.is)&&(b.only===void 0||C.typedArray(b.only,C.string))}v.is=F})(Ln=e.CodeActionContext||(e.CodeActionContext={}));var Lt;(function(v){function E(S,b,L){var B={title:S},oe=!0;return typeof b=="string"?(oe=!1,B.kind=b):T.is(b)?B.command=b:B.edit=b,oe&&L!==void 0&&(B.kind=L),B}v.create=E;function F(S){var b=S;return b&&C.string(b.title)&&(b.diagnostics===void 0||C.typedArray(b.diagnostics,g.is))&&(b.kind===void 0||C.string(b.kind))&&(b.edit!==void 0||b.command!==void 0)&&(b.command===void 0||T.is(b.command))&&(b.isPreferred===void 0||C.boolean(b.isPreferred))&&(b.edit===void 0||j.is(b.edit))}v.is=F})(Lt=e.CodeAction||(e.CodeAction={}));var Qi;(function(v){function E(S,b){var L={range:S};return C.defined(b)&&(L.data=b),L}v.create=E;function F(S){var b=S;return C.defined(b)&&s.is(b.range)&&(C.undefined(b.command)||T.is(b.command))}v.is=F})(Qi=e.CodeLens||(e.CodeLens={}));var hn;(function(v){function E(S,b){return{tabSize:S,insertSpaces:b}}v.create=E;function F(S){var b=S;return C.defined(b)&&C.uinteger(b.tabSize)&&C.boolean(b.insertSpaces)}v.is=F})(hn=e.FormattingOptions||(e.FormattingOptions={}));var mr;(function(v){function E(S,b,L){return{range:S,target:b,data:L}}v.create=E;function F(S){var b=S;return C.defined(b)&&s.is(b.range)&&(C.undefined(b.target)||C.string(b.target))}v.is=F})(mr=e.DocumentLink||(e.DocumentLink={}));var kr;(function(v){function E(S,b){return{range:S,parent:b}}v.create=E;function F(S){var b=S;return b!==void 0&&s.is(b.range)&&(b.parent===void 0||v.is(b.parent))}v.is=F})(kr=e.SelectionRange||(e.SelectionRange={})),e.EOL=[`
`,`\r
`,"\r"];var Ei;(function(v){function E(L,B,oe,ge){return new x(L,B,oe,ge)}v.create=E;function F(L){var B=L;return!!(C.defined(B)&&C.string(B.uri)&&(C.undefined(B.languageId)||C.string(B.languageId))&&C.uinteger(B.lineCount)&&C.func(B.getText)&&C.func(B.positionAt)&&C.func(B.offsetAt))}v.is=F;function S(L,B){for(var oe=L.getText(),ge=b(B,function(fi,Ba){var x_=fi.range.start.line-Ba.range.start.line;return x_===0?fi.range.start.character-Ba.range.start.character:x_}),O=oe.length,ee=ge.length-1;ee>=0;ee--){var Te=ge[ee],ye=L.offsetAt(Te.range.start),Ie=L.offsetAt(Te.range.end);if(Ie<=O)oe=oe.substring(0,ye)+Te.newText+oe.substring(Ie,oe.length);else throw new Error("Overlapping edit");O=ye}return oe}v.applyEdits=S;function b(L,B){if(L.length<=1)return L;var oe=L.length/2|0,ge=L.slice(0,oe),O=L.slice(oe);b(ge,B),b(O,B);for(var ee=0,Te=0,ye=0;ee<ge.length&&Te<O.length;){var Ie=B(ge[ee],O[Te]);Ie<=0?L[ye++]=ge[ee++]:L[ye++]=O[Te++]}for(;ee<ge.length;)L[ye++]=ge[ee++];for(;Te<O.length;)L[ye++]=O[Te++];return L}})(Ei=e.TextDocument||(e.TextDocument={}));var x=function(){function v(E,F,S,b){this._uri=E,this._languageId=F,this._version=S,this._content=b,this._lineOffsets=void 0}return Object.defineProperty(v.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),v.prototype.getText=function(E){if(E){var F=this.offsetAt(E.start),S=this.offsetAt(E.end);return this._content.substring(F,S)}return this._content},v.prototype.update=function(E,F){this._content=E.text,this._version=F,this._lineOffsets=void 0},v.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var E=[],F=this._content,S=!0,b=0;b<F.length;b++){S&&(E.push(b),S=!1);var L=F.charAt(b);S=L==="\r"||L===`
`,L==="\r"&&b+1<F.length&&F.charAt(b+1)===`
`&&b++}S&&F.length>0&&E.push(F.length),this._lineOffsets=E}return this._lineOffsets},v.prototype.positionAt=function(E){E=Math.max(Math.min(E,this._content.length),0);var F=this.getLineOffsets(),S=0,b=F.length;if(b===0)return n.create(0,E);for(;S<b;){var L=Math.floor((S+b)/2);F[L]>E?b=L:S=L+1}var B=S-1;return n.create(B,E-F[B])},v.prototype.offsetAt=function(E){var F=this.getLineOffsets();if(E.line>=F.length)return this._content.length;if(E.line<0)return 0;var S=F[E.line],b=E.line+1<F.length?F[E.line+1]:this._content.length;return Math.max(Math.min(S+E.character,b),S)},Object.defineProperty(v.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),v}(),C;(function(v){var E=Object.prototype.toString;function F(Ie){return typeof Ie!="undefined"}v.defined=F;function S(Ie){return typeof Ie=="undefined"}v.undefined=S;function b(Ie){return Ie===!0||Ie===!1}v.boolean=b;function L(Ie){return E.call(Ie)==="[object String]"}v.string=L;function B(Ie){return E.call(Ie)==="[object Number]"}v.number=B;function oe(Ie,fi,Ba){return E.call(Ie)==="[object Number]"&&fi<=Ie&&Ie<=Ba}v.numberRange=oe;function ge(Ie){return E.call(Ie)==="[object Number]"&&-2147483648<=Ie&&Ie<=2147483647}v.integer=ge;function O(Ie){return E.call(Ie)==="[object Number]"&&0<=Ie&&Ie<=2147483647}v.uinteger=O;function ee(Ie){return E.call(Ie)==="[object Function]"}v.func=ee;function Te(Ie){return Ie!==null&&typeof Ie=="object"}v.objectLiteral=Te;function ye(Ie,fi){return Array.isArray(Ie)&&Ie.every(fi)}v.typedArray=ye})(C||(C={}))})});var ni=J(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.ProtocolNotificationType=hr.ProtocolNotificationType0=hr.ProtocolRequestType=hr.ProtocolRequestType0=hr.RegistrationType=void 0;var $a=Ka(),Hy=class{constructor(e){this.method=e}};hr.RegistrationType=Hy;var Yy=class extends $a.RequestType0{constructor(e){super(e)}};hr.ProtocolRequestType0=Yy;var Ky=class extends $a.RequestType{constructor(e){super(e,$a.ParameterStructures.byName)}};hr.ProtocolRequestType=Ky;var $y=class extends $a.NotificationType0{constructor(e){super(e)}};hr.ProtocolNotificationType0=$y;var zy=class extends $a.NotificationType{constructor(e){super(e,$a.ParameterStructures.byName)}};hr.ProtocolNotificationType=zy});var Jy=J(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.objectLiteral=Ut.typedArray=Ut.stringArray=Ut.array=Ut.func=Ut.error=Ut.number=Ut.string=Ut.boolean=void 0;function A0(t){return t===!0||t===!1}Ut.boolean=A0;function Xy(t){return typeof t=="string"||t instanceof String}Ut.string=Xy;function E0(t){return typeof t=="number"||t instanceof Number}Ut.number=E0;function w0(t){return t instanceof Error}Ut.error=w0;function x0(t){return typeof t=="function"}Ut.func=x0;function Qy(t){return Array.isArray(t)}Ut.array=Qy;function D0(t){return Qy(t)&&t.every(e=>Xy(e))}Ut.stringArray=D0;function F0(t,e){return Array.isArray(t)&&t.every(e)}Ut.typedArray=F0;function O0(t){return t!==null&&typeof t=="object"}Ut.objectLiteral=O0});var Zy=J(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.ImplementationRequest=void 0;var L0=ni(),k0;(function(t){t.method="textDocument/implementation",t.type=new L0.ProtocolRequestType(t.method)})(k0=yl.ImplementationRequest||(yl.ImplementationRequest={}))});var eT=J(Tl=>{"use strict";Object.defineProperty(Tl,"__esModule",{value:!0});Tl.TypeDefinitionRequest=void 0;var M0=ni(),q0;(function(t){t.method="textDocument/typeDefinition",t.type=new M0.ProtocolRequestType(t.method)})(q0=Tl.TypeDefinitionRequest||(Tl.TypeDefinitionRequest={}))});var iT=J(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.DidChangeWorkspaceFoldersNotification=ns.WorkspaceFoldersRequest=void 0;var tT=ni(),V0;(function(t){t.type=new tT.ProtocolRequestType0("workspace/workspaceFolders")})(V0=ns.WorkspaceFoldersRequest||(ns.WorkspaceFoldersRequest={}));var B0;(function(t){t.type=new tT.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(B0=ns.DidChangeWorkspaceFoldersNotification||(ns.DidChangeWorkspaceFoldersNotification={}))});var rT=J(bl=>{"use strict";Object.defineProperty(bl,"__esModule",{value:!0});bl.ConfigurationRequest=void 0;var j0=ni(),U0;(function(t){t.type=new j0.ProtocolRequestType("workspace/configuration")})(U0=bl.ConfigurationRequest||(bl.ConfigurationRequest={}))});var sT=J(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.ColorPresentationRequest=ss.DocumentColorRequest=void 0;var nT=ni(),G0;(function(t){t.method="textDocument/documentColor",t.type=new nT.ProtocolRequestType(t.method)})(G0=ss.DocumentColorRequest||(ss.DocumentColorRequest={}));var W0;(function(t){t.type=new nT.ProtocolRequestType("textDocument/colorPresentation")})(W0=ss.ColorPresentationRequest||(ss.ColorPresentationRequest={}))});var xp=J(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.FoldingRangeRequest=as.FoldingRangeKind=void 0;var H0=ni(),Y0;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(Y0=as.FoldingRangeKind||(as.FoldingRangeKind={}));var K0;(function(t){t.method="textDocument/foldingRange",t.type=new H0.ProtocolRequestType(t.method)})(K0=as.FoldingRangeRequest||(as.FoldingRangeRequest={}))});var aT=J(vl=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});vl.DeclarationRequest=void 0;var $0=ni(),z0;(function(t){t.method="textDocument/declaration",t.type=new $0.ProtocolRequestType(t.method)})(z0=vl.DeclarationRequest||(vl.DeclarationRequest={}))});var oT=J(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});Il.SelectionRangeRequest=void 0;var X0=ni(),Q0;(function(t){t.method="textDocument/selectionRange",t.type=new X0.ProtocolRequestType(t.method)})(Q0=Il.SelectionRangeRequest||(Il.SelectionRangeRequest={}))});var uT=J(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});Vr.WorkDoneProgressCancelNotification=Vr.WorkDoneProgressCreateRequest=Vr.WorkDoneProgress=void 0;var J0=Ka(),lT=ni(),Z0;(function(t){t.type=new J0.ProgressType;function e(i){return i===t.type}t.is=e})(Z0=Vr.WorkDoneProgress||(Vr.WorkDoneProgress={}));var eE;(function(t){t.type=new lT.ProtocolRequestType("window/workDoneProgress/create")})(eE=Vr.WorkDoneProgressCreateRequest||(Vr.WorkDoneProgressCreateRequest={}));var tE;(function(t){t.type=new lT.ProtocolNotificationType("window/workDoneProgress/cancel")})(tE=Vr.WorkDoneProgressCancelNotification||(Vr.WorkDoneProgressCancelNotification={}))});var cT=J(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});Br.CallHierarchyOutgoingCallsRequest=Br.CallHierarchyIncomingCallsRequest=Br.CallHierarchyPrepareRequest=void 0;var Dp=ni(),iE;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new Dp.ProtocolRequestType(t.method)})(iE=Br.CallHierarchyPrepareRequest||(Br.CallHierarchyPrepareRequest={}));var rE;(function(t){t.method="callHierarchy/incomingCalls",t.type=new Dp.ProtocolRequestType(t.method)})(rE=Br.CallHierarchyIncomingCallsRequest||(Br.CallHierarchyIncomingCallsRequest={}));var nE;(function(t){t.method="callHierarchy/outgoingCalls",t.type=new Dp.ProtocolRequestType(t.method)})(nE=Br.CallHierarchyOutgoingCallsRequest||(Br.CallHierarchyOutgoingCallsRequest={}))});var fT=J(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.SemanticTokensRefreshRequest=lt.SemanticTokensRangeRequest=lt.SemanticTokensDeltaRequest=lt.SemanticTokensRequest=lt.SemanticTokensRegistrationType=lt.TokenFormat=lt.SemanticTokens=lt.SemanticTokenModifiers=lt.SemanticTokenTypes=void 0;var Pl=ni(),sE;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator"})(sE=lt.SemanticTokenTypes||(lt.SemanticTokenTypes={}));var aE;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(aE=lt.SemanticTokenModifiers||(lt.SemanticTokenModifiers={}));var oE;(function(t){function e(i){let r=i;return r!==void 0&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(oE=lt.SemanticTokens||(lt.SemanticTokens={}));var lE;(function(t){t.Relative="relative"})(lE=lt.TokenFormat||(lt.TokenFormat={}));var uE;(function(t){t.method="textDocument/semanticTokens",t.type=new Pl.RegistrationType(t.method)})(uE=lt.SemanticTokensRegistrationType||(lt.SemanticTokensRegistrationType={}));var cE;(function(t){t.method="textDocument/semanticTokens/full",t.type=new Pl.ProtocolRequestType(t.method)})(cE=lt.SemanticTokensRequest||(lt.SemanticTokensRequest={}));var fE;(function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new Pl.ProtocolRequestType(t.method)})(fE=lt.SemanticTokensDeltaRequest||(lt.SemanticTokensDeltaRequest={}));var dE;(function(t){t.method="textDocument/semanticTokens/range",t.type=new Pl.ProtocolRequestType(t.method)})(dE=lt.SemanticTokensRangeRequest||(lt.SemanticTokensRangeRequest={}));var pE;(function(t){t.method="workspace/semanticTokens/refresh",t.type=new Pl.ProtocolRequestType0(t.method)})(pE=lt.SemanticTokensRefreshRequest||(lt.SemanticTokensRefreshRequest={}))});var dT=J(Nl=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});Nl.ShowDocumentRequest=void 0;var mE=ni(),hE;(function(t){t.method="window/showDocument",t.type=new mE.ProtocolRequestType(t.method)})(hE=Nl.ShowDocumentRequest||(Nl.ShowDocumentRequest={}))});var pT=J(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.LinkedEditingRangeRequest=void 0;var gE=ni(),_E;(function(t){t.method="textDocument/linkedEditingRange",t.type=new gE.ProtocolRequestType(t.method)})(_E=Sl.LinkedEditingRangeRequest||(Sl.LinkedEditingRangeRequest={}))});var mT=J(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.WillDeleteFilesRequest=Ct.DidDeleteFilesNotification=Ct.DidRenameFilesNotification=Ct.WillRenameFilesRequest=Ct.DidCreateFilesNotification=Ct.WillCreateFilesRequest=Ct.FileOperationPatternKind=void 0;var za=ni(),yE;(function(t){t.file="file",t.folder="folder"})(yE=Ct.FileOperationPatternKind||(Ct.FileOperationPatternKind={}));var TE;(function(t){t.method="workspace/willCreateFiles",t.type=new za.ProtocolRequestType(t.method)})(TE=Ct.WillCreateFilesRequest||(Ct.WillCreateFilesRequest={}));var bE;(function(t){t.method="workspace/didCreateFiles",t.type=new za.ProtocolNotificationType(t.method)})(bE=Ct.DidCreateFilesNotification||(Ct.DidCreateFilesNotification={}));var vE;(function(t){t.method="workspace/willRenameFiles",t.type=new za.ProtocolRequestType(t.method)})(vE=Ct.WillRenameFilesRequest||(Ct.WillRenameFilesRequest={}));var IE;(function(t){t.method="workspace/didRenameFiles",t.type=new za.ProtocolNotificationType(t.method)})(IE=Ct.DidRenameFilesNotification||(Ct.DidRenameFilesNotification={}));var PE;(function(t){t.method="workspace/didDeleteFiles",t.type=new za.ProtocolNotificationType(t.method)})(PE=Ct.DidDeleteFilesNotification||(Ct.DidDeleteFilesNotification={}));var NE;(function(t){t.method="workspace/willDeleteFiles",t.type=new za.ProtocolRequestType(t.method)})(NE=Ct.WillDeleteFilesRequest||(Ct.WillDeleteFilesRequest={}))});var hT=J(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});jr.MonikerRequest=jr.MonikerKind=jr.UniquenessLevel=void 0;var SE=ni(),RE;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(RE=jr.UniquenessLevel||(jr.UniquenessLevel={}));var CE;(function(t){t.import="import",t.export="export",t.local="local"})(CE=jr.MonikerKind||(jr.MonikerKind={}));var AE;(function(t){t.method="textDocument/moniker",t.type=new SE.ProtocolRequestType(t.method)})(AE=jr.MonikerRequest||(jr.MonikerRequest={}))});var bT=J(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});R.DocumentLinkRequest=R.CodeLensRefreshRequest=R.CodeLensResolveRequest=R.CodeLensRequest=R.WorkspaceSymbolRequest=R.CodeActionResolveRequest=R.CodeActionRequest=R.DocumentSymbolRequest=R.DocumentHighlightRequest=R.ReferencesRequest=R.DefinitionRequest=R.SignatureHelpRequest=R.SignatureHelpTriggerKind=R.HoverRequest=R.CompletionResolveRequest=R.CompletionRequest=R.CompletionTriggerKind=R.PublishDiagnosticsNotification=R.WatchKind=R.FileChangeType=R.DidChangeWatchedFilesNotification=R.WillSaveTextDocumentWaitUntilRequest=R.WillSaveTextDocumentNotification=R.TextDocumentSaveReason=R.DidSaveTextDocumentNotification=R.DidCloseTextDocumentNotification=R.DidChangeTextDocumentNotification=R.TextDocumentContentChangeEvent=R.DidOpenTextDocumentNotification=R.TextDocumentSyncKind=R.TelemetryEventNotification=R.LogMessageNotification=R.ShowMessageRequest=R.ShowMessageNotification=R.MessageType=R.DidChangeConfigurationNotification=R.ExitNotification=R.ShutdownRequest=R.InitializedNotification=R.InitializeError=R.InitializeRequest=R.WorkDoneProgressOptions=R.TextDocumentRegistrationOptions=R.StaticRegistrationOptions=R.FailureHandlingKind=R.ResourceOperationKind=R.UnregistrationRequest=R.RegistrationRequest=R.DocumentSelector=R.DocumentFilter=void 0;R.MonikerRequest=R.MonikerKind=R.UniquenessLevel=R.WillDeleteFilesRequest=R.DidDeleteFilesNotification=R.WillRenameFilesRequest=R.DidRenameFilesNotification=R.WillCreateFilesRequest=R.DidCreateFilesNotification=R.FileOperationPatternKind=R.LinkedEditingRangeRequest=R.ShowDocumentRequest=R.SemanticTokensRegistrationType=R.SemanticTokensRefreshRequest=R.SemanticTokensRangeRequest=R.SemanticTokensDeltaRequest=R.SemanticTokensRequest=R.TokenFormat=R.SemanticTokens=R.SemanticTokenModifiers=R.SemanticTokenTypes=R.CallHierarchyPrepareRequest=R.CallHierarchyOutgoingCallsRequest=R.CallHierarchyIncomingCallsRequest=R.WorkDoneProgressCancelNotification=R.WorkDoneProgressCreateRequest=R.WorkDoneProgress=R.SelectionRangeRequest=R.DeclarationRequest=R.FoldingRangeRequest=R.ColorPresentationRequest=R.DocumentColorRequest=R.ConfigurationRequest=R.DidChangeWorkspaceFoldersNotification=R.WorkspaceFoldersRequest=R.TypeDefinitionRequest=R.ImplementationRequest=R.ApplyWorkspaceEditRequest=R.ExecuteCommandRequest=R.PrepareRenameRequest=R.RenameRequest=R.PrepareSupportDefaultBehavior=R.DocumentOnTypeFormattingRequest=R.DocumentRangeFormattingRequest=R.DocumentFormattingRequest=R.DocumentLinkResolveRequest=void 0;var os=Jy(),qe=ni(),EE=Zy();Object.defineProperty(R,"ImplementationRequest",{enumerable:!0,get:function(){return EE.ImplementationRequest}});var wE=eT();Object.defineProperty(R,"TypeDefinitionRequest",{enumerable:!0,get:function(){return wE.TypeDefinitionRequest}});var gT=iT();Object.defineProperty(R,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return gT.WorkspaceFoldersRequest}});Object.defineProperty(R,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return gT.DidChangeWorkspaceFoldersNotification}});var xE=rT();Object.defineProperty(R,"ConfigurationRequest",{enumerable:!0,get:function(){return xE.ConfigurationRequest}});var _T=sT();Object.defineProperty(R,"DocumentColorRequest",{enumerable:!0,get:function(){return _T.DocumentColorRequest}});Object.defineProperty(R,"ColorPresentationRequest",{enumerable:!0,get:function(){return _T.ColorPresentationRequest}});var DE=xp();Object.defineProperty(R,"FoldingRangeRequest",{enumerable:!0,get:function(){return DE.FoldingRangeRequest}});var FE=aT();Object.defineProperty(R,"DeclarationRequest",{enumerable:!0,get:function(){return FE.DeclarationRequest}});var OE=oT();Object.defineProperty(R,"SelectionRangeRequest",{enumerable:!0,get:function(){return OE.SelectionRangeRequest}});var Fp=uT();Object.defineProperty(R,"WorkDoneProgress",{enumerable:!0,get:function(){return Fp.WorkDoneProgress}});Object.defineProperty(R,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Fp.WorkDoneProgressCreateRequest}});Object.defineProperty(R,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Fp.WorkDoneProgressCancelNotification}});var Op=cT();Object.defineProperty(R,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Op.CallHierarchyIncomingCallsRequest}});Object.defineProperty(R,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Op.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(R,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Op.CallHierarchyPrepareRequest}});var Bn=fT();Object.defineProperty(R,"SemanticTokenTypes",{enumerable:!0,get:function(){return Bn.SemanticTokenTypes}});Object.defineProperty(R,"SemanticTokenModifiers",{enumerable:!0,get:function(){return Bn.SemanticTokenModifiers}});Object.defineProperty(R,"SemanticTokens",{enumerable:!0,get:function(){return Bn.SemanticTokens}});Object.defineProperty(R,"TokenFormat",{enumerable:!0,get:function(){return Bn.TokenFormat}});Object.defineProperty(R,"SemanticTokensRequest",{enumerable:!0,get:function(){return Bn.SemanticTokensRequest}});Object.defineProperty(R,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Bn.SemanticTokensDeltaRequest}});Object.defineProperty(R,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Bn.SemanticTokensRangeRequest}});Object.defineProperty(R,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Bn.SemanticTokensRefreshRequest}});Object.defineProperty(R,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Bn.SemanticTokensRegistrationType}});var LE=dT();Object.defineProperty(R,"ShowDocumentRequest",{enumerable:!0,get:function(){return LE.ShowDocumentRequest}});var kE=pT();Object.defineProperty(R,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return kE.LinkedEditingRangeRequest}});var $s=mT();Object.defineProperty(R,"FileOperationPatternKind",{enumerable:!0,get:function(){return $s.FileOperationPatternKind}});Object.defineProperty(R,"DidCreateFilesNotification",{enumerable:!0,get:function(){return $s.DidCreateFilesNotification}});Object.defineProperty(R,"WillCreateFilesRequest",{enumerable:!0,get:function(){return $s.WillCreateFilesRequest}});Object.defineProperty(R,"DidRenameFilesNotification",{enumerable:!0,get:function(){return $s.DidRenameFilesNotification}});Object.defineProperty(R,"WillRenameFilesRequest",{enumerable:!0,get:function(){return $s.WillRenameFilesRequest}});Object.defineProperty(R,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return $s.DidDeleteFilesNotification}});Object.defineProperty(R,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return $s.WillDeleteFilesRequest}});var Lp=hT();Object.defineProperty(R,"UniquenessLevel",{enumerable:!0,get:function(){return Lp.UniquenessLevel}});Object.defineProperty(R,"MonikerKind",{enumerable:!0,get:function(){return Lp.MonikerKind}});Object.defineProperty(R,"MonikerRequest",{enumerable:!0,get:function(){return Lp.MonikerRequest}});var yT;(function(t){function e(i){let r=i;return os.string(r.language)||os.string(r.scheme)||os.string(r.pattern)}t.is=e})(yT=R.DocumentFilter||(R.DocumentFilter={}));var TT;(function(t){function e(i){if(!Array.isArray(i))return!1;for(let r of i)if(!os.string(r)&&!yT.is(r))return!1;return!0}t.is=e})(TT=R.DocumentSelector||(R.DocumentSelector={}));var ME;(function(t){t.type=new qe.ProtocolRequestType("client/registerCapability")})(ME=R.RegistrationRequest||(R.RegistrationRequest={}));var qE;(function(t){t.type=new qe.ProtocolRequestType("client/unregisterCapability")})(qE=R.UnregistrationRequest||(R.UnregistrationRequest={}));var VE;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(VE=R.ResourceOperationKind||(R.ResourceOperationKind={}));var BE;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(BE=R.FailureHandlingKind||(R.FailureHandlingKind={}));var jE;(function(t){function e(i){let r=i;return r&&os.string(r.id)&&r.id.length>0}t.hasId=e})(jE=R.StaticRegistrationOptions||(R.StaticRegistrationOptions={}));var UE;(function(t){function e(i){let r=i;return r&&(r.documentSelector===null||TT.is(r.documentSelector))}t.is=e})(UE=R.TextDocumentRegistrationOptions||(R.TextDocumentRegistrationOptions={}));var GE;(function(t){function e(r){let n=r;return os.objectLiteral(n)&&(n.workDoneProgress===void 0||os.boolean(n.workDoneProgress))}t.is=e;function i(r){let n=r;return n&&os.boolean(n.workDoneProgress)}t.hasWorkDoneProgress=i})(GE=R.WorkDoneProgressOptions||(R.WorkDoneProgressOptions={}));var WE;(function(t){t.type=new qe.ProtocolRequestType("initialize")})(WE=R.InitializeRequest||(R.InitializeRequest={}));var HE;(function(t){t.unknownProtocolVersion=1})(HE=R.InitializeError||(R.InitializeError={}));var YE;(function(t){t.type=new qe.ProtocolNotificationType("initialized")})(YE=R.InitializedNotification||(R.InitializedNotification={}));var KE;(function(t){t.type=new qe.ProtocolRequestType0("shutdown")})(KE=R.ShutdownRequest||(R.ShutdownRequest={}));var $E;(function(t){t.type=new qe.ProtocolNotificationType0("exit")})($E=R.ExitNotification||(R.ExitNotification={}));var zE;(function(t){t.type=new qe.ProtocolNotificationType("workspace/didChangeConfiguration")})(zE=R.DidChangeConfigurationNotification||(R.DidChangeConfigurationNotification={}));var XE;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(XE=R.MessageType||(R.MessageType={}));var QE;(function(t){t.type=new qe.ProtocolNotificationType("window/showMessage")})(QE=R.ShowMessageNotification||(R.ShowMessageNotification={}));var JE;(function(t){t.type=new qe.ProtocolRequestType("window/showMessageRequest")})(JE=R.ShowMessageRequest||(R.ShowMessageRequest={}));var ZE;(function(t){t.type=new qe.ProtocolNotificationType("window/logMessage")})(ZE=R.LogMessageNotification||(R.LogMessageNotification={}));var ew;(function(t){t.type=new qe.ProtocolNotificationType("telemetry/event")})(ew=R.TelemetryEventNotification||(R.TelemetryEventNotification={}));var tw;(function(t){t.None=0,t.Full=1,t.Incremental=2})(tw=R.TextDocumentSyncKind||(R.TextDocumentSyncKind={}));var iw;(function(t){t.method="textDocument/didOpen",t.type=new qe.ProtocolNotificationType(t.method)})(iw=R.DidOpenTextDocumentNotification||(R.DidOpenTextDocumentNotification={}));var rw;(function(t){function e(r){let n=r;return n!=null&&typeof n.text=="string"&&n.range!==void 0&&(n.rangeLength===void 0||typeof n.rangeLength=="number")}t.isIncremental=e;function i(r){let n=r;return n!=null&&typeof n.text=="string"&&n.range===void 0&&n.rangeLength===void 0}t.isFull=i})(rw=R.TextDocumentContentChangeEvent||(R.TextDocumentContentChangeEvent={}));var nw;(function(t){t.method="textDocument/didChange",t.type=new qe.ProtocolNotificationType(t.method)})(nw=R.DidChangeTextDocumentNotification||(R.DidChangeTextDocumentNotification={}));var sw;(function(t){t.method="textDocument/didClose",t.type=new qe.ProtocolNotificationType(t.method)})(sw=R.DidCloseTextDocumentNotification||(R.DidCloseTextDocumentNotification={}));var aw;(function(t){t.method="textDocument/didSave",t.type=new qe.ProtocolNotificationType(t.method)})(aw=R.DidSaveTextDocumentNotification||(R.DidSaveTextDocumentNotification={}));var ow;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(ow=R.TextDocumentSaveReason||(R.TextDocumentSaveReason={}));var lw;(function(t){t.method="textDocument/willSave",t.type=new qe.ProtocolNotificationType(t.method)})(lw=R.WillSaveTextDocumentNotification||(R.WillSaveTextDocumentNotification={}));var uw;(function(t){t.method="textDocument/willSaveWaitUntil",t.type=new qe.ProtocolRequestType(t.method)})(uw=R.WillSaveTextDocumentWaitUntilRequest||(R.WillSaveTextDocumentWaitUntilRequest={}));var cw;(function(t){t.type=new qe.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(cw=R.DidChangeWatchedFilesNotification||(R.DidChangeWatchedFilesNotification={}));var fw;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(fw=R.FileChangeType||(R.FileChangeType={}));var dw;(function(t){t.Create=1,t.Change=2,t.Delete=4})(dw=R.WatchKind||(R.WatchKind={}));var pw;(function(t){t.type=new qe.ProtocolNotificationType("textDocument/publishDiagnostics")})(pw=R.PublishDiagnosticsNotification||(R.PublishDiagnosticsNotification={}));var mw;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(mw=R.CompletionTriggerKind||(R.CompletionTriggerKind={}));var hw;(function(t){t.method="textDocument/completion",t.type=new qe.ProtocolRequestType(t.method)})(hw=R.CompletionRequest||(R.CompletionRequest={}));var gw;(function(t){t.method="completionItem/resolve",t.type=new qe.ProtocolRequestType(t.method)})(gw=R.CompletionResolveRequest||(R.CompletionResolveRequest={}));var _w;(function(t){t.method="textDocument/hover",t.type=new qe.ProtocolRequestType(t.method)})(_w=R.HoverRequest||(R.HoverRequest={}));var yw;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(yw=R.SignatureHelpTriggerKind||(R.SignatureHelpTriggerKind={}));var Tw;(function(t){t.method="textDocument/signatureHelp",t.type=new qe.ProtocolRequestType(t.method)})(Tw=R.SignatureHelpRequest||(R.SignatureHelpRequest={}));var bw;(function(t){t.method="textDocument/definition",t.type=new qe.ProtocolRequestType(t.method)})(bw=R.DefinitionRequest||(R.DefinitionRequest={}));var vw;(function(t){t.method="textDocument/references",t.type=new qe.ProtocolRequestType(t.method)})(vw=R.ReferencesRequest||(R.ReferencesRequest={}));var Iw;(function(t){t.method="textDocument/documentHighlight",t.type=new qe.ProtocolRequestType(t.method)})(Iw=R.DocumentHighlightRequest||(R.DocumentHighlightRequest={}));var Pw;(function(t){t.method="textDocument/documentSymbol",t.type=new qe.ProtocolRequestType(t.method)})(Pw=R.DocumentSymbolRequest||(R.DocumentSymbolRequest={}));var Nw;(function(t){t.method="textDocument/codeAction",t.type=new qe.ProtocolRequestType(t.method)})(Nw=R.CodeActionRequest||(R.CodeActionRequest={}));var Sw;(function(t){t.method="codeAction/resolve",t.type=new qe.ProtocolRequestType(t.method)})(Sw=R.CodeActionResolveRequest||(R.CodeActionResolveRequest={}));var Rw;(function(t){t.method="workspace/symbol",t.type=new qe.ProtocolRequestType(t.method)})(Rw=R.WorkspaceSymbolRequest||(R.WorkspaceSymbolRequest={}));var Cw;(function(t){t.method="textDocument/codeLens",t.type=new qe.ProtocolRequestType(t.method)})(Cw=R.CodeLensRequest||(R.CodeLensRequest={}));var Aw;(function(t){t.method="codeLens/resolve",t.type=new qe.ProtocolRequestType(t.method)})(Aw=R.CodeLensResolveRequest||(R.CodeLensResolveRequest={}));var Ew;(function(t){t.method="workspace/codeLens/refresh",t.type=new qe.ProtocolRequestType0(t.method)})(Ew=R.CodeLensRefreshRequest||(R.CodeLensRefreshRequest={}));var ww;(function(t){t.method="textDocument/documentLink",t.type=new qe.ProtocolRequestType(t.method)})(ww=R.DocumentLinkRequest||(R.DocumentLinkRequest={}));var xw;(function(t){t.method="documentLink/resolve",t.type=new qe.ProtocolRequestType(t.method)})(xw=R.DocumentLinkResolveRequest||(R.DocumentLinkResolveRequest={}));var Dw;(function(t){t.method="textDocument/formatting",t.type=new qe.ProtocolRequestType(t.method)})(Dw=R.DocumentFormattingRequest||(R.DocumentFormattingRequest={}));var Fw;(function(t){t.method="textDocument/rangeFormatting",t.type=new qe.ProtocolRequestType(t.method)})(Fw=R.DocumentRangeFormattingRequest||(R.DocumentRangeFormattingRequest={}));var Ow;(function(t){t.method="textDocument/onTypeFormatting",t.type=new qe.ProtocolRequestType(t.method)})(Ow=R.DocumentOnTypeFormattingRequest||(R.DocumentOnTypeFormattingRequest={}));var Lw;(function(t){t.Identifier=1})(Lw=R.PrepareSupportDefaultBehavior||(R.PrepareSupportDefaultBehavior={}));var kw;(function(t){t.method="textDocument/rename",t.type=new qe.ProtocolRequestType(t.method)})(kw=R.RenameRequest||(R.RenameRequest={}));var Mw;(function(t){t.method="textDocument/prepareRename",t.type=new qe.ProtocolRequestType(t.method)})(Mw=R.PrepareRenameRequest||(R.PrepareRenameRequest={}));var qw;(function(t){t.type=new qe.ProtocolRequestType("workspace/executeCommand")})(qw=R.ExecuteCommandRequest||(R.ExecuteCommandRequest={}));var Vw;(function(t){t.type=new qe.ProtocolRequestType("workspace/applyEdit")})(Vw=R.ApplyWorkspaceEditRequest||(R.ApplyWorkspaceEditRequest={}))});var IT=J(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.createProtocolConnection=void 0;var vT=Ka();function Bw(t,e,i,r){return vT.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),vT.createMessageConnection(t,e,i,r)}Ku.createProtocolConnection=Bw});var PT=J(xi=>{"use strict";var jw=xi&&xi.__createBinding||(Object.create?function(t,e,i,r){r===void 0&&(r=i),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,r){r===void 0&&(r=i),t[r]=e[i]}),$u=xi&&xi.__exportStar||function(t,e){for(var i in t)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&jw(e,t,i)};Object.defineProperty(xi,"__esModule",{value:!0});xi.LSPErrorCodes=xi.createProtocolConnection=void 0;$u(Ka(),xi);$u(gt(),xi);$u(ni(),xi);$u(bT(),xi);var Uw=IT();Object.defineProperty(xi,"createProtocolConnection",{enumerable:!0,get:function(){return Uw.createProtocolConnection}});var Gw;(function(t){t.lspReservedErrorRangeStart=-32899,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(Gw=xi.LSPErrorCodes||(xi.LSPErrorCodes={}))});var Pi=J(_n=>{"use strict";var Ww=_n&&_n.__createBinding||(Object.create?function(t,e,i,r){r===void 0&&(r=i),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,r){r===void 0&&(r=i),t[r]=e[i]}),NT=_n&&_n.__exportStar||function(t,e){for(var i in t)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&Ww(e,t,i)};Object.defineProperty(_n,"__esModule",{value:!0});_n.createProtocolConnection=void 0;var Hw=wp();NT(wp(),_n);NT(PT(),_n);function Yw(t,e,i,r){return Hw.createMessageConnection(t,e,i,r)}_n.createProtocolConnection=Yw});var kp=J(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.generateUuid=gr.parse=gr.isUUID=gr.v4=gr.empty=void 0;var zu=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Ge=class extends zu{constructor(){super([Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),"-",Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),"-","4",Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),"-",Ge._oneOf(Ge._timeHighBits),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),"-",Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return Ge._oneOf(Ge._chars)}};Ge._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Ge._timeHighBits=["8","9","a","b"];gr.empty=new zu("00000000-0000-0000-0000-000000000000");function ST(){return new Ge}gr.v4=ST;var Kw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function RT(t){return Kw.test(t)}gr.isUUID=RT;function $w(t){if(!RT(t))throw new Error("invalid uuid");return new zu(t)}gr.parse=$w;function zw(){return ST().asHex()}gr.generateUuid=zw});var AT=J(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.attachPartialResult=us.ProgressFeature=us.attachWorkDone=void 0;var ls=Pi(),Xw=kp(),jn=class{constructor(e,i){this._connection=e,this._token=i,jn.Instances.set(this._token,this)}begin(e,i,r,n){let s={kind:"begin",title:e,percentage:i,message:r,cancellable:n};this._connection.sendProgress(ls.WorkDoneProgress.type,this._token,s)}report(e,i){let r={kind:"report"};typeof e=="number"?(r.percentage=e,i!==void 0&&(r.message=i)):r.message=e,this._connection.sendProgress(ls.WorkDoneProgress.type,this._token,r)}done(){jn.Instances.delete(this._token),this._connection.sendProgress(ls.WorkDoneProgress.type,this._token,{kind:"end"})}};jn.Instances=new Map;var Mp=class extends jn{constructor(e,i){super(e,i);this._source=new ls.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},Xu=class{constructor(){}begin(){}report(){}done(){}},qp=class extends Xu{constructor(){super();this._source=new ls.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function Qw(t,e){if(e===void 0||e.workDoneToken===void 0)return new Xu;let i=e.workDoneToken;return delete e.workDoneToken,new jn(t,i)}us.attachWorkDone=Qw;var Jw=t=>class extends t{constructor(){super();this._progressSupported=!1}initialize(e){var i;((i=e==null?void 0:e.window)===null||i===void 0?void 0:i.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(ls.WorkDoneProgressCancelNotification.type,r=>{let n=jn.Instances.get(r.token);(n instanceof Mp||n instanceof qp)&&n.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new Xu:new jn(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){let e=Xw.generateUuid();return this.connection.sendRequest(ls.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new Mp(this.connection,e))}else return Promise.resolve(new qp)}};us.ProgressFeature=Jw;var Vp;(function(t){t.type=new ls.ProgressType})(Vp||(Vp={}));var CT=class{constructor(e,i){this._connection=e,this._token=i}report(e){this._connection.sendProgress(Vp.type,this._token,e)}};function Zw(t,e){if(e===void 0||e.partialResultToken===void 0)return;let i=e.partialResultToken;return delete e.partialResultToken,new CT(t,i)}us.attachPartialResult=Zw});var ET=J(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.ConfigurationFeature=void 0;var ex=Pi(),tx=qu(),ix=t=>class extends t{getConfiguration(e){return e?tx.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let i={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(ex.ConfigurationRequest.type,i).then(r=>Array.isArray(e)?r:r[0])}};Qu.ConfigurationFeature=ix});var wT=J(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.WorkspaceFoldersFeature=void 0;var Ju=Pi(),rx=t=>class extends t{initialize(e){let i=e.workspace;i&&i.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Ju.Emitter,this.connection.onNotification(Ju.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(Ju.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(Ju.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};Zu.WorkspaceFoldersFeature=rx});var xT=J(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});ec.CallHierarchyFeature=void 0;var Bp=Pi(),nx=t=>class extends t{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest(Bp.CallHierarchyPrepareRequest.type,(i,r)=>e(i,r,this.attachWorkDoneProgress(i),void 0))},onIncomingCalls:e=>{let i=Bp.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(i,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(i,r)))},onOutgoingCalls:e=>{let i=Bp.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(i,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(i,r)))}}}};ec.CallHierarchyFeature=nx});var Up=J(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.SemanticTokensBuilder=Xa.SemanticTokensFeature=void 0;var jp=Pi(),sx=t=>class extends t{get semanticTokens(){return{on:e=>{let i=jp.SemanticTokensRequest.type;this.connection.onRequest(i,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(i,r)))},onDelta:e=>{let i=jp.SemanticTokensDeltaRequest.type;this.connection.onRequest(i,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(i,r)))},onRange:e=>{let i=jp.SemanticTokensRangeRequest.type;this.connection.onRequest(i,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(i,r)))}}}};Xa.SemanticTokensFeature=sx;var DT=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,i,r,n,s){let a=e,o=i;this._dataLen>0&&(a-=this._prevLine,a===0&&(o-=this._prevChar)),this._data[this._dataLen++]=a,this._data[this._dataLen++]=o,this._data[this._dataLen++]=r,this._data[this._dataLen++]=n,this._data[this._dataLen++]=s,this._prevLine=e,this._prevChar=i}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){let e=this._prevData.length,i=this._data.length,r=0;for(;r<i&&r<e&&this._prevData[r]===this._data[r];)r++;if(r<i&&r<e){let n=0;for(;n<i&&n<e&&this._prevData[e-1-n]===this._data[i-1-n];)n++;let s=this._data.slice(r,i-n);return{resultId:this.id,edits:[{start:r,deleteCount:e-n-r,data:s}]}}else return r<i?{resultId:this.id,edits:[{start:r,deleteCount:0,data:this._data.slice(r)}]}:r<e?{resultId:this.id,edits:[{start:r,deleteCount:e-r}]}:{resultId:this.id,edits:[]}}else return this.build()}};Xa.SemanticTokensBuilder=DT});var FT=J(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});tc.ShowDocumentFeature=void 0;var ax=Pi(),ox=t=>class extends t{showDocument(e){return this.connection.sendRequest(ax.ShowDocumentRequest.type,e)}};tc.ShowDocumentFeature=ox});var OT=J(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});ic.FileOperationsFeature=void 0;var Qa=Pi(),lx=t=>class extends t{onDidCreateFiles(e){this.connection.onNotification(Qa.DidCreateFilesNotification.type,i=>{e(i)})}onDidRenameFiles(e){this.connection.onNotification(Qa.DidRenameFilesNotification.type,i=>{e(i)})}onDidDeleteFiles(e){this.connection.onNotification(Qa.DidDeleteFilesNotification.type,i=>{e(i)})}onWillCreateFiles(e){return this.connection.onRequest(Qa.WillCreateFilesRequest.type,(i,r)=>e(i,r))}onWillRenameFiles(e){return this.connection.onRequest(Qa.WillRenameFilesRequest.type,(i,r)=>e(i,r))}onWillDeleteFiles(e){return this.connection.onRequest(Qa.WillDeleteFilesRequest.type,(i,r)=>e(i,r))}};ic.FileOperationsFeature=lx});var LT=J(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});rc.LinkedEditingRangeFeature=void 0;var ux=Pi(),cx=t=>class extends t{onLinkedEditingRange(e){this.connection.onRequest(ux.LinkedEditingRangeRequest.type,(i,r)=>e(i,r,this.attachWorkDoneProgress(i),void 0))}};rc.LinkedEditingRangeFeature=cx});var kT=J(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});nc.MonikerFeature=void 0;var fx=Pi(),dx=t=>class extends t{get moniker(){return{on:e=>{let i=fx.MonikerRequest.type;this.connection.onRequest(i,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(i,r)))}}}};nc.MonikerFeature=dx});var Qp=J(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.createConnection=tt.combineFeatures=tt.combineLanguagesFeatures=tt.combineWorkspaceFeatures=tt.combineWindowFeatures=tt.combineClientFeatures=tt.combineTracerFeatures=tt.combineTelemetryFeatures=tt.combineConsoleFeatures=tt._LanguagesImpl=tt.BulkUnregistration=tt.BulkRegistration=tt.ErrorMessageTracker=tt.TextDocuments=void 0;var ie=Pi(),_r=qu(),Gp=kp(),Ve=AT(),px=ET(),mx=wT(),hx=xT(),gx=Up(),_x=FT(),yx=OT(),Tx=LT(),bx=kT();function Wp(t){if(t!==null)return t}var MT=class{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new ie.Emitter,this._onDidOpen=new ie.Emitter,this._onDidClose=new ie.Emitter,this._onDidSave=new ie.Emitter,this._onWillSave=new ie.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map(e=>this._documents[e])}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=ie.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(i=>{let r=i.textDocument,n=this._configuration.create(r.uri,r.languageId,r.version,r.text);this._documents[r.uri]=n;let s=Object.freeze({document:n});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)}),e.onDidChangeTextDocument(i=>{let r=i.textDocument,n=i.contentChanges;if(n.length===0)return;let s=this._documents[r.uri],{version:a}=r;if(a==null)throw new Error(`Received document change event for ${r.uri} without valid version identifier`);s=this._configuration.update(s,n,a),this._documents[r.uri]=s,this._onDidChangeContent.fire(Object.freeze({document:s}))}),e.onDidCloseTextDocument(i=>{let r=this._documents[i.textDocument.uri];r&&(delete this._documents[i.textDocument.uri],this._onDidClose.fire(Object.freeze({document:r})))}),e.onWillSaveTextDocument(i=>{let r=this._documents[i.textDocument.uri];r&&this._onWillSave.fire(Object.freeze({document:r,reason:i.reason}))}),e.onWillSaveTextDocumentWaitUntil((i,r)=>{let n=this._documents[i.textDocument.uri];return n&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:n,reason:i.reason}),r):[]}),e.onDidSaveTextDocument(i=>{let r=this._documents[i.textDocument.uri];r&&this._onDidSave.fire(Object.freeze({document:r}))})}};tt.TextDocuments=MT;var qT=class{constructor(){this._messages=Object.create(null)}add(e){let i=this._messages[e];i||(i=0),i++,this._messages[e]=i}sendErrors(e){Object.keys(this._messages).forEach(i=>{e.window.showErrorMessage(i)})}};tt.ErrorMessageTracker=qT;var Hp=class{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(ie.MessageType.Error,e)}warn(e){this.send(ie.MessageType.Warning,e)}info(e){this.send(ie.MessageType.Info,e)}log(e){this.send(ie.MessageType.Log,e)}send(e,i){this._rawConnection&&this._rawConnection.sendNotification(ie.LogMessageNotification.type,{type:e,message:i})}},VT=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...i){let r={type:ie.MessageType.Error,message:e,actions:i};return this.connection.sendRequest(ie.ShowMessageRequest.type,r).then(Wp)}showWarningMessage(e,...i){let r={type:ie.MessageType.Warning,message:e,actions:i};return this.connection.sendRequest(ie.ShowMessageRequest.type,r).then(Wp)}showInformationMessage(e,...i){let r={type:ie.MessageType.Info,message:e,actions:i};return this.connection.sendRequest(ie.ShowMessageRequest.type,r).then(Wp)}},BT=_x.ShowDocumentFeature(Ve.ProgressFeature(VT)),vx;(function(t){function e(){return new Yp}t.create=e})(vx=tt.BulkRegistration||(tt.BulkRegistration={}));var Yp=class{constructor(){this._registrations=[],this._registered=new Set}add(e,i){let r=_r.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let n=Gp.generateUuid();this._registrations.push({id:n,method:r,registerOptions:i||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},Ix;(function(t){function e(){return new sc(void 0,[])}t.create=e})(Ix=tt.BulkUnregistration||(tt.BulkUnregistration={}));var sc=class{constructor(e,i){this._connection=e,this._unregistrations=new Map,i.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let i={unregisterations:e};this._connection.sendRequest(ie.UnregistrationRequest.type,i).then(void 0,r=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){let i=_r.string(e)?e:e.method,r=this._unregistrations.get(i);if(!r)return!1;let n={unregisterations:[r]};return this._connection.sendRequest(ie.UnregistrationRequest.type,n).then(()=>{this._unregistrations.delete(i)},s=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},Kp=class{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,i,r){return e instanceof Yp?this.registerMany(e):e instanceof sc?this.registerSingle1(e,i,r):this.registerSingle2(e,i)}registerSingle1(e,i,r){let n=_r.string(i)?i:i.method,s=Gp.generateUuid(),a={registrations:[{id:s,method:n,registerOptions:r||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(ie.RegistrationRequest.type,a).then(o=>(e.add({id:s,method:n}),e),o=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(o)))}registerSingle2(e,i){let r=_r.string(e)?e:e.method,n=Gp.generateUuid(),s={registrations:[{id:n,method:r,registerOptions:i||{}}]};return this.connection.sendRequest(ie.RegistrationRequest.type,s).then(a=>ie.Disposable.create(()=>{this.unregisterSingle(n,r)}),a=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(a)))}unregisterSingle(e,i){let r={unregisterations:[{id:e,method:i}]};return this.connection.sendRequest(ie.UnregistrationRequest.type,r).then(void 0,n=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let i=e.asRegistrationParams();return this.connection.sendRequest(ie.RegistrationRequest.type,i).then(()=>new sc(this._connection,i.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},jT=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function i(n){return n&&!!n.edit}let r=i(e)?e:{edit:e};return this.connection.sendRequest(ie.ApplyWorkspaceEditRequest.type,r)}},UT=yx.FileOperationsFeature(mx.WorkspaceFoldersFeature(px.ConfigurationFeature(jT))),$p=class{constructor(){this._trace=ie.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,i){this._trace!==ie.Trace.Off&&this.connection.sendNotification(ie.LogTraceNotification.type,{message:e,verbose:this._trace===ie.Trace.Verbose?i:void 0})}},zp=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(ie.TelemetryEventNotification.type,e)}},Xp=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return Ve.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,i){return Ve.attachPartialResult(this.connection,i)}};tt._LanguagesImpl=Xp;var GT=bx.MonikerFeature(Tx.LinkedEditingRangeFeature(gx.SemanticTokensFeature(hx.CallHierarchyFeature(Xp))));function WT(t,e){return function(i){return e(t(i))}}tt.combineConsoleFeatures=WT;function HT(t,e){return function(i){return e(t(i))}}tt.combineTelemetryFeatures=HT;function YT(t,e){return function(i){return e(t(i))}}tt.combineTracerFeatures=YT;function KT(t,e){return function(i){return e(t(i))}}tt.combineClientFeatures=KT;function $T(t,e){return function(i){return e(t(i))}}tt.combineWindowFeatures=$T;function zT(t,e){return function(i){return e(t(i))}}tt.combineWorkspaceFeatures=zT;function Px(t,e){return function(i){return e(t(i))}}tt.combineLanguagesFeatures=Px;function Nx(t,e){function i(n,s,a){return n&&s?a(n,s):n||s}return{__brand:"features",console:i(t.console,e.console,WT),tracer:i(t.tracer,e.tracer,YT),telemetry:i(t.telemetry,e.telemetry,HT),client:i(t.client,e.client,KT),window:i(t.window,e.window,$T),workspace:i(t.workspace,e.workspace,zT)}}tt.combineFeatures=Nx;function Sx(t,e,i){let r=i&&i.console?new(i.console(Hp)):new Hp,n=t(r);r.rawAttach(n);let s=i&&i.tracer?new(i.tracer($p)):new $p,a=i&&i.telemetry?new(i.telemetry(zp)):new zp,o=i&&i.client?new(i.client(Kp)):new Kp,l=i&&i.window?new(i.window(BT)):new BT,u=i&&i.workspace?new(i.workspace(UT)):new UT,c=i&&i.languages?new(i.languages(GT)):new GT,f=[r,s,a,o,l,u,c];function d(g){return g instanceof Promise?g:_r.thenable(g)?new Promise((T,y)=>{g.then(A=>T(A),A=>y(A))}):Promise.resolve(g)}let p,m,_,P={listen:()=>n.listen(),sendRequest:(g,...T)=>n.sendRequest(_r.string(g)?g:g.method,...T),onRequest:(g,T)=>n.onRequest(g,T),sendNotification:(g,T)=>{let y=_r.string(g)?g:g.method;arguments.length===1?n.sendNotification(y):n.sendNotification(y,T)},onNotification:(g,T)=>n.onNotification(g,T),onProgress:n.onProgress,sendProgress:n.sendProgress,onInitialize:g=>m=g,onInitialized:g=>n.onNotification(ie.InitializedNotification.type,g),onShutdown:g=>p=g,onExit:g=>_=g,get console(){return r},get telemetry(){return a},get tracer(){return s},get client(){return o},get window(){return l},get workspace(){return u},get languages(){return c},onDidChangeConfiguration:g=>n.onNotification(ie.DidChangeConfigurationNotification.type,g),onDidChangeWatchedFiles:g=>n.onNotification(ie.DidChangeWatchedFilesNotification.type,g),__textDocumentSync:void 0,onDidOpenTextDocument:g=>n.onNotification(ie.DidOpenTextDocumentNotification.type,g),onDidChangeTextDocument:g=>n.onNotification(ie.DidChangeTextDocumentNotification.type,g),onDidCloseTextDocument:g=>n.onNotification(ie.DidCloseTextDocumentNotification.type,g),onWillSaveTextDocument:g=>n.onNotification(ie.WillSaveTextDocumentNotification.type,g),onWillSaveTextDocumentWaitUntil:g=>n.onRequest(ie.WillSaveTextDocumentWaitUntilRequest.type,g),onDidSaveTextDocument:g=>n.onNotification(ie.DidSaveTextDocumentNotification.type,g),sendDiagnostics:g=>n.sendNotification(ie.PublishDiagnosticsNotification.type,g),onHover:g=>n.onRequest(ie.HoverRequest.type,(T,y)=>g(T,y,Ve.attachWorkDone(n,T),void 0)),onCompletion:g=>n.onRequest(ie.CompletionRequest.type,(T,y)=>g(T,y,Ve.attachWorkDone(n,T),Ve.attachPartialResult(n,T))),onCompletionResolve:g=>n.onRequest(ie.CompletionResolveRequest.type,g),onSignatureHelp:g=>n.onRequest(ie.SignatureHelpRequest.type,(T,y)=>g(T,y,Ve.attachWorkDone(n,T),void 0)),onDeclaration:g=>n.onRequest(ie.DeclarationRequest.type,(T,y)=>g(T,y,Ve.attachWorkDone(n,T),Ve.attachPartialResult(n,T))),onDefinition:g=>n.onRequest(ie.DefinitionRequest.type,(T,y)=>g(T,y,Ve.attachWorkDone(n,T),Ve.attachPartialResult(n,T))),onTypeDefinition:g=>n.onRequest(ie.TypeDefinitionRequest.type,(T,y)=>g(T,y,Ve.attachWorkDone(n,T),Ve.attachPartialResult(n,T))),onImplementation:g=>n.onRequest(ie.ImplementationRequest.type,(T,y)=>g(T,y,Ve.attachWorkDone(n,T),Ve.attachPartialResult(n,T))),onReferences:g=>n.onRequest(ie.ReferencesRequest.type,(T,y)=>g(T,y,Ve.attachWorkDone(n,T),Ve.attachPartialResult(n,T))),onDocumentHighlight:g=>n.onRequest(ie.DocumentHighlightRequest.type,(T,y)=>g(T,y,Ve.attachWorkDone(n,T),Ve.attachPartialResult(n,T))),onDocumentSymbol:g=>n.onRequest(ie.DocumentSymbolRequest.type,(T,y)=>g(T,y,Ve.attachWorkDone(n,T),Ve.attachPartialResult(n,T))),onWorkspaceSymbol:g=>n.onRequest(ie.WorkspaceSymbolRequest.type,(T,y)=>g(T,y,Ve.attachWorkDone(n,T),Ve.attachPartialResult(n,T))),onCodeAction:g=>n.onRequest(ie.CodeActionRequest.type,(T,y)=>g(T,y,Ve.attachWorkDone(n,T),Ve.attachPartialResult(n,T))),onCodeActionResolve:g=>n.onRequest(ie.CodeActionResolveRequest.type,(T,y)=>g(T,y)),onCodeLens:g=>n.onRequest(ie.CodeLensRequest.type,(T,y)=>g(T,y,Ve.attachWorkDone(n,T),Ve.attachPartialResult(n,T))),onCodeLensResolve:g=>n.onRequest(ie.CodeLensResolveRequest.type,(T,y)=>g(T,y)),onDocumentFormatting:g=>n.onRequest(ie.DocumentFormattingRequest.type,(T,y)=>g(T,y,Ve.attachWorkDone(n,T),void 0)),onDocumentRangeFormatting:g=>n.onRequest(ie.DocumentRangeFormattingRequest.type,(T,y)=>g(T,y,Ve.attachWorkDone(n,T),void 0)),onDocumentOnTypeFormatting:g=>n.onRequest(ie.DocumentOnTypeFormattingRequest.type,(T,y)=>g(T,y)),onRenameRequest:g=>n.onRequest(ie.RenameRequest.type,(T,y)=>g(T,y,Ve.attachWorkDone(n,T),void 0)),onPrepareRename:g=>n.onRequest(ie.PrepareRenameRequest.type,(T,y)=>g(T,y)),onDocumentLinks:g=>n.onRequest(ie.DocumentLinkRequest.type,(T,y)=>g(T,y,Ve.attachWorkDone(n,T),Ve.attachPartialResult(n,T))),onDocumentLinkResolve:g=>n.onRequest(ie.DocumentLinkResolveRequest.type,(T,y)=>g(T,y)),onDocumentColor:g=>n.onRequest(ie.DocumentColorRequest.type,(T,y)=>g(T,y,Ve.attachWorkDone(n,T),Ve.attachPartialResult(n,T))),onColorPresentation:g=>n.onRequest(ie.ColorPresentationRequest.type,(T,y)=>g(T,y,Ve.attachWorkDone(n,T),Ve.attachPartialResult(n,T))),onFoldingRanges:g=>n.onRequest(ie.FoldingRangeRequest.type,(T,y)=>g(T,y,Ve.attachWorkDone(n,T),Ve.attachPartialResult(n,T))),onSelectionRanges:g=>n.onRequest(ie.SelectionRangeRequest.type,(T,y)=>g(T,y,Ve.attachWorkDone(n,T),Ve.attachPartialResult(n,T))),onExecuteCommand:g=>n.onRequest(ie.ExecuteCommandRequest.type,(T,y)=>g(T,y,Ve.attachWorkDone(n,T),void 0)),dispose:()=>n.dispose()};for(let g of f)g.attach(P);return n.onRequest(ie.InitializeRequest.type,g=>{e.initialize(g),_r.string(g.trace)&&(s.trace=ie.Trace.fromString(g.trace));for(let T of f)T.initialize(g.capabilities);if(m){let T=m(g,new ie.CancellationTokenSource().token,Ve.attachWorkDone(n,g),void 0);return d(T).then(y=>{if(y instanceof ie.ResponseError)return y;let A=y;A||(A={capabilities:{}});let N=A.capabilities;N||(N={},A.capabilities=N),N.textDocumentSync===void 0||N.textDocumentSync===null?N.textDocumentSync=_r.number(P.__textDocumentSync)?P.__textDocumentSync:ie.TextDocumentSyncKind.None:!_r.number(N.textDocumentSync)&&!_r.number(N.textDocumentSync.change)&&(N.textDocumentSync.change=_r.number(P.__textDocumentSync)?P.__textDocumentSync:ie.TextDocumentSyncKind.None);for(let U of f)U.fillServerCapabilities(N);return A})}else{let T={capabilities:{textDocumentSync:ie.TextDocumentSyncKind.None}};for(let y of f)y.fillServerCapabilities(T.capabilities);return T}}),n.onRequest(ie.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,p)return p(new ie.CancellationTokenSource().token)}),n.onNotification(ie.ExitNotification.type,()=>{try{_&&_()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),n.onNotification(ie.SetTraceNotification.type,g=>{s.trace=ie.Trace.fromString(g.value)}),P}tt.createConnection=Sx});var QT=J(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.resolveModulePath=Di.FileSystem=Di.resolveGlobalYarnPath=Di.resolveGlobalNodePath=Di.resolve=Di.uriToFilePath=void 0;var Rx=require("url"),Ur=require("path"),Jp=require("fs"),Zp=require("child_process");function Cx(t){let e=Rx.parse(t);if(e.protocol!=="file:"||!e.path)return;let i=e.path.split("/");for(var r=0,n=i.length;r<n;r++)i[r]=decodeURIComponent(i[r]);if(process.platform==="win32"&&i.length>1){let s=i[0],a=i[1];s.length===0&&a.length>1&&a[1]===":"&&i.shift()}return Ur.normalize(i.join("/"))}Di.uriToFilePath=Cx;function em(){return process.platform==="win32"}function ac(t,e,i,r){let n="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((a,o)=>{let l=process.env,u=Object.create(null);Object.keys(l).forEach(c=>u[c]=l[c]),e&&Jp.existsSync(e)&&(u[n]?u[n]=e+Ur.delimiter+u[n]:u[n]=e,r&&r(`NODE_PATH value is: ${u[n]}`)),u.ELECTRON_RUN_AS_NODE="1";try{let c=Zp.fork("",[],{cwd:i,env:u,execArgv:["-e",s]});if(c.pid===void 0){o(new Error(`Starting process to resolve node module  ${t} failed`));return}c.on("error",d=>{o(d)}),c.on("message",d=>{d.c==="r"&&(c.send({c:"e"}),d.s?a(d.r):o(new Error(`Failed to resolve module: ${t}`)))});let f={c:"rs",a:t};c.send(f)}catch(c){o(c)}})}Di.resolve=ac;function tm(t){let e="npm",i=Object.create(null);Object.keys(process.env).forEach(s=>i[s]=process.env[s]),i.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:i};em()&&(e="npm.cmd",r.shell=!0);let n=()=>{};try{process.on("SIGPIPE",n);let s=Zp.spawnSync(e,["config","get","prefix"],r).stdout;if(!s){t&&t("'npm config get prefix' didn't return a value.");return}let a=s.trim();return t&&t(`'npm config get prefix' value is: ${a}`),a.length>0?em()?Ur.join(a,"node_modules"):Ur.join(a,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",n)}}Di.resolveGlobalNodePath=tm;function Ax(t){let e="yarn",i={encoding:"utf8"};em()&&(e="yarn.cmd",i.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let n=Zp.spawnSync(e,["global","dir","--json"],i),s=n.stdout;if(!s){t&&(t("'yarn global dir' didn't return a value."),n.stderr&&t(n.stderr));return}let a=s.trim().split(/\r?\n/);for(let o of a)try{let l=JSON.parse(o);if(l.type==="log")return Ur.join(l.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}Di.resolveGlobalYarnPath=Ax;var XT;(function(t){let e;function i(){return e!==void 0||(process.platform==="win32"?e=!1:e=!Jp.existsSync(__filename.toUpperCase())||!Jp.existsSync(__filename.toLowerCase())),e}t.isCaseSensitive=i;function r(n,s){return i()?Ur.normalize(s).indexOf(Ur.normalize(n))===0:Ur.normalize(s).toLowerCase().indexOf(Ur.normalize(n).toLowerCase())===0}t.isParent=r})(XT=Di.FileSystem||(Di.FileSystem={}));function Ex(t,e,i,r){return i?(Ur.isAbsolute(i)||(i=Ur.join(t,i)),ac(e,i,i,r).then(n=>XT.isParent(i,n)?n:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,n=>ac(e,tm(r),t,r))):ac(e,tm(r),t,r)}Di.resolveModulePath=Ex});var im=J((lj,JT)=>{"use strict";JT.exports=Pi()});var eb=J(Ji=>{"use strict";var wx=Ji&&Ji.__createBinding||(Object.create?function(t,e,i,r){r===void 0&&(r=i),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,r){r===void 0&&(r=i),t[r]=e[i]}),ZT=Ji&&Ji.__exportStar||function(t,e){for(var i in t)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&wx(e,t,i)};Object.defineProperty(Ji,"__esModule",{value:!0});Ji.ProposedFeatures=Ji.SemanticTokensBuilder=void 0;var xx=Up();Object.defineProperty(Ji,"SemanticTokensBuilder",{enumerable:!0,get:function(){return xx.SemanticTokensBuilder}});ZT(Pi(),Ji);ZT(Qp(),Ji);var Dx;(function(t){t.all={__brand:"features"}})(Dx=Ji.ProposedFeatures||(Ji.ProposedFeatures={}))});var si=J(Zi=>{"use strict";var Fx=Zi&&Zi.__createBinding||(Object.create?function(t,e,i,r){r===void 0&&(r=i),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,r){r===void 0&&(r=i),t[r]=e[i]}),tb=Zi&&Zi.__exportStar||function(t,e){for(var i in t)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&Fx(e,t,i)};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.createConnection=Zi.Files=void 0;var rm=qu(),Ox=Qp(),Rl=QT(),zs=im();tb(im(),Zi);tb(eb(),Zi);var Lx;(function(t){t.uriToFilePath=Rl.uriToFilePath,t.resolveGlobalNodePath=Rl.resolveGlobalNodePath,t.resolveGlobalYarnPath=Rl.resolveGlobalYarnPath,t.resolve=Rl.resolve,t.resolveModulePath=Rl.resolveModulePath})(Lx=Zi.Files||(Zi.Files={}));var ib;function oc(){if(ib!==void 0)try{ib.end()}catch{}}var Ja=!1,rb;function kx(){let t="--clientProcessId";function e(i){try{let r=parseInt(i);isNaN(r)||(rb=setInterval(()=>{try{process.kill(r,0)}catch{oc(),process.exit(Ja?0:1)}},3e3))}catch{}}for(let i=2;i<process.argv.length;i++){let r=process.argv[i];if(r===t&&i+1<process.argv.length){e(process.argv[i+1]);return}else{let n=r.split("=");n[0]===t&&e(n[1])}}}kx();var Mx={initialize:t=>{let e=t.processId;rm.number(e)&&rb===void 0&&setInterval(()=>{try{process.kill(e,0)}catch{process.exit(Ja?0:1)}},3e3)},get shutdownReceived(){return Ja},set shutdownReceived(t){Ja=t},exit:t=>{oc(),process.exit(t)}};function qx(t,e,i,r){let n,s,a,o;return t!==void 0&&t.__brand==="features"&&(n=t,t=e,e=i,i=r),zs.ConnectionStrategy.is(t)||zs.ConnectionOptions.is(t)?o=t:(s=t,a=e,o=i),Vx(s,a,o,n)}Zi.createConnection=qx;function Vx(t,e,i,r){if(!t&&!e&&process.argv.length>2){let o,l,u=process.argv.slice(2);for(let c=0;c<u.length;c++){let f=u[c];if(f==="--node-ipc"){t=new zs.IPCMessageReader(process),e=new zs.IPCMessageWriter(process);break}else if(f==="--stdio"){t=process.stdin,e=process.stdout;break}else if(f==="--socket"){o=parseInt(u[c+1]);break}else if(f==="--pipe"){l=u[c+1];break}else{var n=f.split("=");if(n[0]==="--socket"){o=parseInt(n[1]);break}else if(n[0]==="--pipe"){l=n[1];break}}}if(o){let c=zs.createServerSocketTransport(o);t=c[0],e=c[1]}else if(l){let c=zs.createServerPipeTransport(l);t=c[0],e=c[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+s);if(!e)throw new Error("Connection output stream is not set. "+s);if(rm.func(t.read)&&rm.func(t.on)){let o=t;o.on("end",()=>{oc(),process.exit(Ja?0:1)}),o.on("close",()=>{oc(),process.exit(Ja?0:1)})}let a=o=>zs.createProtocolConnection(t,e,o,i);return Ox.createConnection(a,Mx,r)}});var sb=J((fj,nb)=>{"use strict";nb.exports=si()});var uc=J(lm=>{"use strict";Object.defineProperty(lm,"__esModule",{value:!0});var Eb=function(){function t(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return t.hashStr=function(e,i){return i===void 0&&(i=!1),this.onePassHasher.start().appendStr(e).end(i)},t.hashAsciiStr=function(e,i){return i===void 0&&(i=!1),this.onePassHasher.start().appendAsciiStr(e).end(i)},t._hex=function(e){var i=t.hexChars,r=t.hexOut,n,s,a,o;for(o=0;o<4;o+=1)for(s=o*8,n=e[o],a=0;a<8;a+=2)r[s+1+a]=i.charAt(n&15),n>>>=4,r[s+0+a]=i.charAt(n&15),n>>>=4;return r.join("")},t._md5cycle=function(e,i){var r=e[0],n=e[1],s=e[2],a=e[3];r+=(n&s|~n&a)+i[0]-680876936|0,r=(r<<7|r>>>25)+n|0,a+=(r&n|~r&s)+i[1]-389564586|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&n)+i[2]+606105819|0,s=(s<<17|s>>>15)+a|0,n+=(s&a|~s&r)+i[3]-1044525330|0,n=(n<<22|n>>>10)+s|0,r+=(n&s|~n&a)+i[4]-176418897|0,r=(r<<7|r>>>25)+n|0,a+=(r&n|~r&s)+i[5]+1200080426|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&n)+i[6]-1473231341|0,s=(s<<17|s>>>15)+a|0,n+=(s&a|~s&r)+i[7]-45705983|0,n=(n<<22|n>>>10)+s|0,r+=(n&s|~n&a)+i[8]+1770035416|0,r=(r<<7|r>>>25)+n|0,a+=(r&n|~r&s)+i[9]-1958414417|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&n)+i[10]-42063|0,s=(s<<17|s>>>15)+a|0,n+=(s&a|~s&r)+i[11]-1990404162|0,n=(n<<22|n>>>10)+s|0,r+=(n&s|~n&a)+i[12]+1804603682|0,r=(r<<7|r>>>25)+n|0,a+=(r&n|~r&s)+i[13]-40341101|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&n)+i[14]-1502002290|0,s=(s<<17|s>>>15)+a|0,n+=(s&a|~s&r)+i[15]+1236535329|0,n=(n<<22|n>>>10)+s|0,r+=(n&a|s&~a)+i[1]-165796510|0,r=(r<<5|r>>>27)+n|0,a+=(r&s|n&~s)+i[6]-1069501632|0,a=(a<<9|a>>>23)+r|0,s+=(a&n|r&~n)+i[11]+643717713|0,s=(s<<14|s>>>18)+a|0,n+=(s&r|a&~r)+i[0]-373897302|0,n=(n<<20|n>>>12)+s|0,r+=(n&a|s&~a)+i[5]-701558691|0,r=(r<<5|r>>>27)+n|0,a+=(r&s|n&~s)+i[10]+38016083|0,a=(a<<9|a>>>23)+r|0,s+=(a&n|r&~n)+i[15]-660478335|0,s=(s<<14|s>>>18)+a|0,n+=(s&r|a&~r)+i[4]-405537848|0,n=(n<<20|n>>>12)+s|0,r+=(n&a|s&~a)+i[9]+568446438|0,r=(r<<5|r>>>27)+n|0,a+=(r&s|n&~s)+i[14]-1019803690|0,a=(a<<9|a>>>23)+r|0,s+=(a&n|r&~n)+i[3]-187363961|0,s=(s<<14|s>>>18)+a|0,n+=(s&r|a&~r)+i[8]+1163531501|0,n=(n<<20|n>>>12)+s|0,r+=(n&a|s&~a)+i[13]-1444681467|0,r=(r<<5|r>>>27)+n|0,a+=(r&s|n&~s)+i[2]-51403784|0,a=(a<<9|a>>>23)+r|0,s+=(a&n|r&~n)+i[7]+1735328473|0,s=(s<<14|s>>>18)+a|0,n+=(s&r|a&~r)+i[12]-1926607734|0,n=(n<<20|n>>>12)+s|0,r+=(n^s^a)+i[5]-378558|0,r=(r<<4|r>>>28)+n|0,a+=(r^n^s)+i[8]-2022574463|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^n)+i[11]+1839030562|0,s=(s<<16|s>>>16)+a|0,n+=(s^a^r)+i[14]-35309556|0,n=(n<<23|n>>>9)+s|0,r+=(n^s^a)+i[1]-1530992060|0,r=(r<<4|r>>>28)+n|0,a+=(r^n^s)+i[4]+1272893353|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^n)+i[7]-155497632|0,s=(s<<16|s>>>16)+a|0,n+=(s^a^r)+i[10]-1094730640|0,n=(n<<23|n>>>9)+s|0,r+=(n^s^a)+i[13]+681279174|0,r=(r<<4|r>>>28)+n|0,a+=(r^n^s)+i[0]-358537222|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^n)+i[3]-722521979|0,s=(s<<16|s>>>16)+a|0,n+=(s^a^r)+i[6]+76029189|0,n=(n<<23|n>>>9)+s|0,r+=(n^s^a)+i[9]-640364487|0,r=(r<<4|r>>>28)+n|0,a+=(r^n^s)+i[12]-421815835|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^n)+i[15]+530742520|0,s=(s<<16|s>>>16)+a|0,n+=(s^a^r)+i[2]-995338651|0,n=(n<<23|n>>>9)+s|0,r+=(s^(n|~a))+i[0]-198630844|0,r=(r<<6|r>>>26)+n|0,a+=(n^(r|~s))+i[7]+1126891415|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~n))+i[14]-1416354905|0,s=(s<<15|s>>>17)+a|0,n+=(a^(s|~r))+i[5]-57434055|0,n=(n<<21|n>>>11)+s|0,r+=(s^(n|~a))+i[12]+1700485571|0,r=(r<<6|r>>>26)+n|0,a+=(n^(r|~s))+i[3]-1894986606|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~n))+i[10]-1051523|0,s=(s<<15|s>>>17)+a|0,n+=(a^(s|~r))+i[1]-2054922799|0,n=(n<<21|n>>>11)+s|0,r+=(s^(n|~a))+i[8]+1873313359|0,r=(r<<6|r>>>26)+n|0,a+=(n^(r|~s))+i[15]-30611744|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~n))+i[6]-1560198380|0,s=(s<<15|s>>>17)+a|0,n+=(a^(s|~r))+i[13]+1309151649|0,n=(n<<21|n>>>11)+s|0,r+=(s^(n|~a))+i[4]-145523070|0,r=(r<<6|r>>>26)+n|0,a+=(n^(r|~s))+i[11]-1120210379|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~n))+i[2]+718787259|0,s=(s<<15|s>>>17)+a|0,n+=(a^(s|~r))+i[9]-343485551|0,n=(n<<21|n>>>11)+s|0,e[0]=r+e[0]|0,e[1]=n+e[1]|0,e[2]=s+e[2]|0,e[3]=a+e[3]|0},t.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this},t.prototype.appendStr=function(e){var i=this._buffer8,r=this._buffer32,n=this._bufferLength,s,a;for(a=0;a<e.length;a+=1){if(s=e.charCodeAt(a),s<128)i[n++]=s;else if(s<2048)i[n++]=(s>>>6)+192,i[n++]=s&63|128;else if(s<55296||s>56319)i[n++]=(s>>>12)+224,i[n++]=s>>>6&63|128,i[n++]=s&63|128;else{if(s=(s-55296)*1024+(e.charCodeAt(++a)-56320)+65536,s>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");i[n++]=(s>>>18)+240,i[n++]=s>>>12&63|128,i[n++]=s>>>6&63|128,i[n++]=s&63|128}n>=64&&(this._dataLength+=64,t._md5cycle(this._state,r),n-=64,r[0]=r[16])}return this._bufferLength=n,this},t.prototype.appendAsciiStr=function(e){for(var i=this._buffer8,r=this._buffer32,n=this._bufferLength,s,a=0;;){for(s=Math.min(e.length-a,64-n);s--;)i[n++]=e.charCodeAt(a++);if(n<64)break;this._dataLength+=64,t._md5cycle(this._state,r),n=0}return this._bufferLength=n,this},t.prototype.appendByteArray=function(e){for(var i=this._buffer8,r=this._buffer32,n=this._bufferLength,s,a=0;;){for(s=Math.min(e.length-a,64-n);s--;)i[n++]=e[a++];if(n<64)break;this._dataLength+=64,t._md5cycle(this._state,r),n=0}return this._bufferLength=n,this},t.prototype.getState=function(){var e=this,i=e._state;return{buffer:String.fromCharCode.apply(null,e._buffer8),buflen:e._bufferLength,length:e._dataLength,state:[i[0],i[1],i[2],i[3]]}},t.prototype.setState=function(e){var i=e.buffer,r=e.state,n=this._state,s;for(this._dataLength=e.length,this._bufferLength=e.buflen,n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],s=0;s<i.length;s+=1)this._buffer8[s]=i.charCodeAt(s)},t.prototype.end=function(e){e===void 0&&(e=!1);var i=this._bufferLength,r=this._buffer8,n=this._buffer32,s=(i>>2)+1,a;if(this._dataLength+=i,r[i]=128,r[i+1]=r[i+2]=r[i+3]=0,n.set(t.buffer32Identity.subarray(s),s),i>55&&(t._md5cycle(this._state,n),n.set(t.buffer32Identity)),a=this._dataLength*8,a<=4294967295)n[14]=a;else{var o=a.toString(16).match(/(.*?)(.{0,8})$/);if(o===null)return;var l=parseInt(o[2],16),u=parseInt(o[1],16)||0;n[14]=l,n[15]=u}return t._md5cycle(this._state,n),e?this._state:t._hex(this._state)},t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,t}();lm.Md5=Eb;Eb.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592"&&console.error("Md5 self test failed.")});var Ss=J(Ki=>{"use strict";var Xn={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},$l={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"},AO="tag:yaml.org,2002:",EO={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};function CP(t){let e=[0],i=t.indexOf(`
`);for(;i!==-1;)i+=1,e.push(i),i=t.indexOf(`
`,i);return e}function AP(t){let e,i;return typeof t=="string"?(e=CP(t),i=t):(Array.isArray(t)&&(t=t[0]),t&&t.context&&(t.lineStarts||(t.lineStarts=CP(t.context.src)),e=t.lineStarts,i=t.context.src)),{lineStarts:e,src:i}}function Ih(t,e){if(typeof t!="number"||t<0)return null;let{lineStarts:i,src:r}=AP(e);if(!i||!r||t>r.length)return null;for(let s=0;s<i.length;++s){let a=i[s];if(t<a)return{line:s,col:t-i[s-1]+1};if(t===a)return{line:s+1,col:1}}let n=i.length;return{line:n,col:t-i[n-1]+1}}function wO(t,e){let{lineStarts:i,src:r}=AP(e);if(!i||!(t>=1)||t>i.length)return null;let n=i[t-1],s=i[t];for(;s&&s>n&&r[s-1]===`
`;)--s;return r.slice(n,s)}function xO({start:t,end:e},i,r=80){let n=wO(t.line,i);if(!n)return null;let{col:s}=t;if(n.length>r)if(s<=r-10)n=n.substr(0,r-1)+"\u2026";else{let c=Math.round(r/2);n.length>s+c&&(n=n.substr(0,s+c-1)+"\u2026"),s-=n.length-r,n="\u2026"+n.substr(1-r)}let a=1,o="";e&&(e.line===t.line&&s+(e.col-t.col)<=r+1?a=e.col-t.col:(a=Math.min(n.length+1,r)-s,o="\u2026"));let l=s>1?" ".repeat(s-1):"",u="^".repeat(a);return`${n}
${l}${u}${o}`}var ma=class{static copy(e){return new ma(e.start,e.end)}constructor(e,i){this.start=e,this.end=i||e}isEmpty(){return typeof this.start!="number"||!this.end||this.end<=this.start}setOrigRange(e,i){let{start:r,end:n}=this;if(e.length===0||n<=e[0])return this.origStart=r,this.origEnd=n,i;let s=i;for(;s<e.length&&!(e[s]>r);)++s;this.origStart=r+s;let a=s;for(;s<e.length&&!(e[s]>=n);)++s;return this.origEnd=n+s,a}},gi=class{static addStringTerminator(e,i,r){if(r[r.length-1]===`
`)return r;let n=gi.endOfWhiteSpace(e,i);return n>=e.length||e[n]===`
`?r+`
`:r}static atDocumentBoundary(e,i,r){let n=e[i];if(!n)return!0;let s=e[i-1];if(s&&s!==`
`)return!1;if(r){if(n!==r)return!1}else if(n!==Xn.DIRECTIVES_END&&n!==Xn.DOCUMENT_END)return!1;let a=e[i+1],o=e[i+2];if(a!==n||o!==n)return!1;let l=e[i+3];return!l||l===`
`||l==="	"||l===" "}static endOfIdentifier(e,i){let r=e[i],n=r==="<",s=n?[`
`,"	"," ",">"]:[`
`,"	"," ","[","]","{","}",","];for(;r&&s.indexOf(r)===-1;)r=e[i+=1];return n&&r===">"&&(i+=1),i}static endOfIndent(e,i){let r=e[i];for(;r===" ";)r=e[i+=1];return i}static endOfLine(e,i){let r=e[i];for(;r&&r!==`
`;)r=e[i+=1];return i}static endOfWhiteSpace(e,i){let r=e[i];for(;r==="	"||r===" ";)r=e[i+=1];return i}static startOfLine(e,i){let r=e[i-1];if(r===`
`)return i;for(;r&&r!==`
`;)r=e[i-=1];return i+1}static endOfBlockIndent(e,i,r){let n=gi.endOfIndent(e,r);if(n>r+i)return n;{let s=gi.endOfWhiteSpace(e,n),a=e[s];if(!a||a===`
`)return s}return null}static atBlank(e,i,r){let n=e[i];return n===`
`||n==="	"||n===" "||r&&!n}static nextNodeIsIndented(e,i,r){return!e||i<0?!1:i>0?!0:r&&e==="-"}static normalizeOffset(e,i){let r=e[i];return r?r!==`
`&&e[i-1]===`
`?i-1:gi.endOfWhiteSpace(e,i):i}static foldNewline(e,i,r){let n=0,s=!1,a="",o=e[i+1];for(;o===" "||o==="	"||o===`
`;){switch(o){case`
`:n=0,i+=1,a+=`
`;break;case"	":n<=r&&(s=!0),i=gi.endOfWhiteSpace(e,i+2)-1;break;case" ":n+=1,i+=1;break}o=e[i+1]}return a||(a=" "),o&&n<=r&&(s=!0),{fold:a,offset:i,error:s}}constructor(e,i,r){Object.defineProperty(this,"context",{value:r||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=i||[],this.type=e,this.value=null}getPropValue(e,i,r){if(!this.context)return null;let{src:n}=this.context,s=this.props[e];return s&&n[s.start]===i?n.slice(s.start+(r?1:0),s.end):null}get anchor(){for(let e=0;e<this.props.length;++e){let i=this.getPropValue(e,Xn.ANCHOR,!0);if(i!=null)return i}return null}get comment(){let e=[];for(let i=0;i<this.props.length;++i){let r=this.getPropValue(i,Xn.COMMENT,!0);r!=null&&e.push(r)}return e.length>0?e.join(`
`):null}commentHasRequiredWhitespace(e){let{src:i}=this.context;if(this.header&&e===this.header.end||!this.valueRange)return!1;let{end:r}=this.valueRange;return e!==r||gi.atBlank(i,r-1)}get hasComment(){if(this.context){let{src:e}=this.context;for(let i=0;i<this.props.length;++i)if(e[this.props[i].start]===Xn.COMMENT)return!0}return!1}get hasProps(){if(this.context){let{src:e}=this.context;for(let i=0;i<this.props.length;++i)if(e[this.props[i].start]!==Xn.COMMENT)return!0}return!1}get includesTrailingLines(){return!1}get jsonLike(){return[$l.FLOW_MAP,$l.FLOW_SEQ,$l.QUOTE_DOUBLE,$l.QUOTE_SINGLE].indexOf(this.type)!==-1}get rangeAsLinePos(){if(!this.range||!this.context)return;let e=Ih(this.range.start,this.context.root);if(!e)return;let i=Ih(this.range.end,this.context.root);return{start:e,end:i}}get rawValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:i}=this.valueRange;return this.context.src.slice(e,i)}get tag(){for(let e=0;e<this.props.length;++e){let i=this.getPropValue(e,Xn.TAG,!1);if(i!=null){if(i[1]==="<")return{verbatim:i.slice(2,-1)};{let[r,n,s]=i.match(/^(.*!)([^!]*)$/);return{handle:n,suffix:s}}}}return null}get valueRangeContainsNewline(){if(!this.valueRange||!this.context)return!1;let{start:e,end:i}=this.valueRange,{src:r}=this.context;for(let n=e;n<i;++n)if(r[n]===`
`)return!0;return!1}parseComment(e){let{src:i}=this.context;if(i[e]===Xn.COMMENT){let r=gi.endOfLine(i,e+1),n=new ma(e,r);return this.props.push(n),r}return e}setOrigRanges(e,i){return this.range&&(i=this.range.setOrigRange(e,i)),this.valueRange&&this.valueRange.setOrigRange(e,i),this.props.forEach(r=>r.setOrigRange(e,i)),i}toString(){let{context:{src:e},range:i,value:r}=this;if(r!=null)return r;let n=e.slice(i.start,i.end);return gi.addStringTerminator(e,i.end,n)}},Bo=class extends Error{constructor(e,i,r){if(!r||!(i instanceof gi))throw new Error(`Invalid arguments for new ${e}`);super();this.name=e,this.message=r,this.source=i}makePretty(){if(!this.source)return;this.nodeType=this.source.type;let e=this.source.context&&this.source.context.root;if(typeof this.offset=="number"){this.range=new ma(this.offset,this.offset+1);let i=e&&Ih(this.offset,e);if(i){let r={line:i.line,col:i.col+1};this.linePos={start:i,end:r}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){let{line:i,col:r}=this.linePos.start;this.message+=` at line ${i}, column ${r}`;let n=e&&xO(this.linePos,e);n&&(this.message+=`:

${n}
`)}delete this.source}},EP=class extends Bo{constructor(e,i){super("YAMLReferenceError",e,i)}},pf=class extends Bo{constructor(e,i){super("YAMLSemanticError",e,i)}},wP=class extends Bo{constructor(e,i){super("YAMLSyntaxError",e,i)}},xP=class extends Bo{constructor(e,i){super("YAMLWarning",e,i)}};function DO(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var zl=class extends gi{static endOfLine(e,i,r){let n=e[i],s=i;for(;n&&n!==`
`&&!(r&&(n==="["||n==="]"||n==="{"||n==="}"||n===","));){let a=e[s+1];if(n===":"&&(!a||a===`
`||a==="	"||a===" "||r&&a===",")||(n===" "||n==="	")&&a==="#")break;s+=1,n=a}return s}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:i}=this.valueRange,{src:r}=this.context,n=r[i-1];for(;e<i&&(n===`
`||n==="	"||n===" ");)n=r[--i-1];let s="";for(let o=e;o<i;++o){let l=r[o];if(l===`
`){let{fold:u,offset:c}=gi.foldNewline(r,o,-1);s+=u,o=c}else if(l===" "||l==="	"){let u=o,c=r[o+1];for(;o<i&&(c===" "||c==="	");)o+=1,c=r[o+1];c!==`
`&&(s+=o>u?r.slice(u,o+1):l)}else s+=l}let a=r[e];switch(a){case"	":{let o="Plain value cannot start with a tab character";return{errors:[new pf(this,o)],str:s}}case"@":case"`":{let o=`Plain value cannot start with reserved character ${a}`;return{errors:[new pf(this,o)],str:s}}default:return s}}parseBlockValue(e){let{indent:i,inFlow:r,src:n}=this.context,s=e,a=e;for(let o=n[s];o===`
`&&!gi.atDocumentBoundary(n,s+1);o=n[s]){let l=gi.endOfBlockIndent(n,i,s+1);if(l===null||n[l]==="#")break;n[l]===`
`?s=l:(a=zl.endOfLine(n,l,r),s=a)}return this.valueRange.isEmpty()&&(this.valueRange.start=e),this.valueRange.end=a,a}parse(e,i){this.context=e;let{inFlow:r,src:n}=e,s=i,a=n[s];return a&&a!=="#"&&a!==`
`&&(s=zl.endOfLine(n,i,r)),this.valueRange=new ma(i,s),s=gi.endOfWhiteSpace(n,s),s=this.parseComment(s),(!this.hasComment||this.valueRange.isEmpty())&&(s=this.parseBlockValue(s)),s}};Ki.Char=Xn;Ki.Node=gi;Ki.PlainValue=zl;Ki.Range=ma;Ki.Type=$l;Ki.YAMLError=Bo;Ki.YAMLReferenceError=EP;Ki.YAMLSemanticError=pf;Ki.YAMLSyntaxError=wP;Ki.YAMLWarning=xP;Ki._defineProperty=DO;Ki.defaultTagPrefix=AO;Ki.defaultTags=EO});var MP=J(kP=>{"use strict";var q=Ss(),jo=class extends q.Node{constructor(){super(q.Type.BLANK_LINE)}get includesTrailingLines(){return!0}parse(e,i){return this.context=e,this.range=new q.Range(i,i+1),i+1}},mf=class extends q.Node{constructor(e,i){super(e,i);this.node=null}get includesTrailingLines(){return!!this.node&&this.node.includesTrailingLines}parse(e,i){this.context=e;let{parseNode:r,src:n}=e,{atLineStart:s,lineStart:a}=e;!s&&this.type===q.Type.SEQ_ITEM&&(this.error=new q.YAMLSemanticError(this,"Sequence items must not have preceding content on the same line"));let o=s?i-a:e.indent,l=q.Node.endOfWhiteSpace(n,i+1),u=n[l],c=u==="#",f=[],d=null;for(;u===`
`||u==="#";){if(u==="#"){let m=q.Node.endOfLine(n,l+1);f.push(new q.Range(l,m)),l=m}else{s=!0,a=l+1;let m=q.Node.endOfWhiteSpace(n,a);n[m]===`
`&&f.length===0&&(d=new jo,a=d.parse({src:n},a)),l=q.Node.endOfIndent(n,a)}u=n[l]}if(q.Node.nextNodeIsIndented(u,l-(a+o),this.type!==q.Type.SEQ_ITEM)?this.node=r({atLineStart:s,inCollection:!1,indent:o,lineStart:a,parent:this},l):u&&a>i+1&&(l=a-1),this.node){if(d){let m=e.parent.items||e.parent.contents;m&&m.push(d)}f.length&&Array.prototype.push.apply(this.props,f),l=this.node.range.end}else if(c){let m=f[0];this.props.push(m),l=m.end}else l=q.Node.endOfLine(n,i+1);let p=this.node?this.node.valueRange.end:l;return this.valueRange=new q.Range(i,p),l}setOrigRanges(e,i){return i=super.setOrigRanges(e,i),this.node?this.node.setOrigRanges(e,i):i}toString(){let{context:{src:e},node:i,range:r,value:n}=this;if(n!=null)return n;let s=i?e.slice(r.start,i.range.start)+String(i):e.slice(r.start,r.end);return q.Node.addStringTerminator(e,r.end,s)}},Uo=class extends q.Node{constructor(){super(q.Type.COMMENT)}parse(e,i){this.context=e;let r=this.parseComment(i);return this.range=new q.Range(i,r),r}};function Ph(t){let e=t;for(;e instanceof mf;)e=e.node;if(!(e instanceof Go))return null;let i=e.items.length,r=-1;for(let a=i-1;a>=0;--a){let o=e.items[a];if(o.type===q.Type.COMMENT){let{indent:l,lineStart:u}=o.context;if(l>0&&o.range.start>=u+l)break;r=a}else if(o.type===q.Type.BLANK_LINE)r=a;else break}if(r===-1)return null;let n=e.items.splice(r,i-r),s=n[0].range.start;for(;e.range.end=s,e.valueRange&&e.valueRange.end>s&&(e.valueRange.end=s),e!==t;)e=e.context.parent;return n}var Go=class extends q.Node{static nextContentHasIndent(e,i,r){let n=q.Node.endOfLine(e,i)+1;i=q.Node.endOfWhiteSpace(e,n);let s=e[i];return s?i>=n+r?!0:s!=="#"&&s!==`
`?!1:Go.nextContentHasIndent(e,i,r):!1}constructor(e){super(e.type===q.Type.SEQ_ITEM?q.Type.SEQ:q.Type.MAP);for(let r=e.props.length-1;r>=0;--r)if(e.props[r].start<e.context.lineStart){this.props=e.props.slice(0,r+1),e.props=e.props.slice(r+1);let n=e.props[0]||e.valueRange;e.range.start=n.start;break}this.items=[e];let i=Ph(e);i&&Array.prototype.push.apply(this.items,i)}get includesTrailingLines(){return this.items.length>0}parse(e,i){this.context=e;let{parseNode:r,src:n}=e,s=q.Node.startOfLine(n,i),a=this.items[0];a.context.parent=this,this.valueRange=q.Range.copy(a.valueRange);let o=a.range.start-a.context.lineStart,l=i;l=q.Node.normalizeOffset(n,l);let u=n[l],c=q.Node.endOfWhiteSpace(n,s)===l,f=!1;for(;u;){for(;u===`
`||u==="#";){if(c&&u===`
`&&!f){let m=new jo;if(l=m.parse({src:n},l),this.valueRange.end=l,l>=n.length){u=null;break}this.items.push(m),l-=1}else if(u==="#"){if(l<s+o&&!Go.nextContentHasIndent(n,l,o))return l;let m=new Uo;if(l=m.parse({indent:o,lineStart:s,src:n},l),this.items.push(m),this.valueRange.end=l,l>=n.length){u=null;break}}if(s=l+1,l=q.Node.endOfIndent(n,s),q.Node.atBlank(n,l)){let m=q.Node.endOfWhiteSpace(n,l),_=n[m];(!_||_===`
`||_==="#")&&(l=m)}u=n[l],c=!0}if(!u)break;if(l!==s+o&&(c||u!==":")){if(l<s+o){s>i&&(l=s);break}else if(!this.error){let m="All collection items must start at the same column";this.error=new q.YAMLSyntaxError(this,m)}}if(a.type===q.Type.SEQ_ITEM){if(u!=="-"){s>i&&(l=s);break}}else if(u==="-"&&!this.error){let m=n[l+1];if(!m||m===`
`||m==="	"||m===" "){let _="A collection cannot be both a mapping and a sequence";this.error=new q.YAMLSyntaxError(this,_)}}let d=r({atLineStart:c,inCollection:!0,indent:o,lineStart:s,parent:this},l);if(!d)return l;if(this.items.push(d),this.valueRange.end=d.valueRange.end,l=q.Node.normalizeOffset(n,d.range.end),u=n[l],c=!1,f=d.includesTrailingLines,u){let m=l-1,_=n[m];for(;_===" "||_==="	";)_=n[--m];_===`
`&&(s=m+1,c=!0)}let p=Ph(d);p&&Array.prototype.push.apply(this.items,p)}return l}setOrigRanges(e,i){return i=super.setOrigRanges(e,i),this.items.forEach(r=>{i=r.setOrigRanges(e,i)}),i}toString(){let{context:{src:e},items:i,range:r,value:n}=this;if(n!=null)return n;let s=e.slice(r.start,i[0].range.start)+String(i[0]);for(let a=1;a<i.length;++a){let o=i[a],{atLineStart:l,indent:u}=o.context;if(l)for(let c=0;c<u;++c)s+=" ";s+=String(o)}return q.Node.addStringTerminator(e,r.end,s)}},DP=class extends q.Node{constructor(){super(q.Type.DIRECTIVE);this.name=null}get parameters(){let e=this.rawValue;return e?e.trim().split(/[ \t]+/):[]}parseName(e){let{src:i}=this.context,r=e,n=i[r];for(;n&&n!==`
`&&n!=="	"&&n!==" ";)n=i[r+=1];return this.name=i.slice(e,r),r}parseParameters(e){let{src:i}=this.context,r=e,n=i[r];for(;n&&n!==`
`&&n!=="#";)n=i[r+=1];return this.valueRange=new q.Range(e,r),r}parse(e,i){this.context=e;let r=this.parseName(i+1);return r=this.parseParameters(r),r=this.parseComment(r),this.range=new q.Range(i,r),r}},Xl=class extends q.Node{static startCommentOrEndBlankLine(e,i){let r=q.Node.endOfWhiteSpace(e,i),n=e[r];return n==="#"||n===`
`?r:i}constructor(){super(q.Type.DOCUMENT);this.directives=null,this.contents=null,this.directivesEndMarker=null,this.documentEndMarker=null}parseDirectives(e){let{src:i}=this.context;this.directives=[];let r=!0,n=!1,s=e;for(;!q.Node.atDocumentBoundary(i,s,q.Char.DIRECTIVES_END);)switch(s=Xl.startCommentOrEndBlankLine(i,s),i[s]){case`
`:if(r){let a=new jo;s=a.parse({src:i},s),s<i.length&&this.directives.push(a)}else s+=1,r=!0;break;case"#":{let a=new Uo;s=a.parse({src:i},s),this.directives.push(a),r=!1}break;case"%":{let a=new DP;s=a.parse({parent:this,src:i},s),this.directives.push(a),n=!0,r=!1}break;default:return n?this.error=new q.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s}return i[s]?(this.directivesEndMarker=new q.Range(s,s+3),s+3):(n?this.error=new q.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s)}parseContents(e){let{parseNode:i,src:r}=this.context;this.contents||(this.contents=[]);let n=e;for(;r[n-1]==="-";)n-=1;let s=q.Node.endOfWhiteSpace(r,e),a=n===e;for(this.valueRange=new q.Range(s);!q.Node.atDocumentBoundary(r,s,q.Char.DOCUMENT_END);){switch(r[s]){case`
`:if(a){let o=new jo;s=o.parse({src:r},s),s<r.length&&this.contents.push(o)}else s+=1,a=!0;n=s;break;case"#":{let o=new Uo;s=o.parse({src:r},s),this.contents.push(o),a=!1}break;default:{let o=q.Node.endOfIndent(r,s),u=i({atLineStart:a,indent:-1,inFlow:!1,inCollection:!1,lineStart:n,parent:this},o);if(!u)return this.valueRange.end=o;this.contents.push(u),s=u.range.end,a=!1;let c=Ph(u);c&&Array.prototype.push.apply(this.contents,c)}}s=Xl.startCommentOrEndBlankLine(r,s)}if(this.valueRange.end=s,r[s]&&(this.documentEndMarker=new q.Range(s,s+3),s+=3,r[s])){if(s=q.Node.endOfWhiteSpace(r,s),r[s]==="#"){let o=new Uo;s=o.parse({src:r},s),this.contents.push(o)}switch(r[s]){case`
`:s+=1;break;case void 0:break;default:this.error=new q.YAMLSyntaxError(this,"Document end marker line cannot have a non-comment suffix")}}return s}parse(e,i){e.root=this,this.context=e;let{src:r}=e,n=r.charCodeAt(i)===65279?i+1:i;return n=this.parseDirectives(n),n=this.parseContents(n),n}setOrigRanges(e,i){return i=super.setOrigRanges(e,i),this.directives.forEach(r=>{i=r.setOrigRanges(e,i)}),this.directivesEndMarker&&(i=this.directivesEndMarker.setOrigRange(e,i)),this.contents.forEach(r=>{i=r.setOrigRanges(e,i)}),this.documentEndMarker&&(i=this.documentEndMarker.setOrigRange(e,i)),i}toString(){let{contents:e,directives:i,value:r}=this;if(r!=null)return r;let n=i.join("");return e.length>0&&((i.length>0||e[0].type===q.Type.COMMENT)&&(n+=`---
`),n+=e.join("")),n[n.length-1]!==`
`&&(n+=`
`),n}},FP=class extends q.Node{parse(e,i){this.context=e;let{src:r}=e,n=q.Node.endOfIdentifier(r,i+1);return this.valueRange=new q.Range(i+1,n),n=q.Node.endOfWhiteSpace(r,n),n=this.parseComment(n),n}},Rs={CLIP:"CLIP",KEEP:"KEEP",STRIP:"STRIP"},OP=class extends q.Node{constructor(e,i){super(e,i);this.blockIndent=null,this.chomping=Rs.CLIP,this.header=null}get includesTrailingLines(){return this.chomping===Rs.KEEP}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:i}=this.valueRange,{indent:r,src:n}=this.context;if(this.valueRange.isEmpty())return"";let s=null,a=n[i-1];for(;a===`
`||a==="	"||a===" ";){if(i-=1,i<=e){if(this.chomping===Rs.KEEP)break;return""}a===`
`&&(s=i),a=n[i-1]}let o=i+1;s&&(this.chomping===Rs.KEEP?(o=s,i=this.valueRange.end):i=s);let l=r+this.blockIndent,u=this.type===q.Type.BLOCK_FOLDED,c=!0,f="",d="",p=!1;for(let m=e;m<i;++m){for(let P=0;P<l&&n[m]===" ";++P)m+=1;let _=n[m];if(_===`
`)d===`
`?f+=`
`:d=`
`;else{let P=q.Node.endOfLine(n,m),g=n.slice(m,P);m=P,u&&(_===" "||_==="	")&&m<o?(d===" "?d=`
`:!p&&!c&&d===`
`&&(d=`

`),f+=d+g,d=P<i&&n[P]||"",p=!0):(f+=d+g,d=u&&m<o?" ":`
`,p=!1),c&&g!==""&&(c=!1)}}return this.chomping===Rs.STRIP?f:f+`
`}parseBlockHeader(e){let{src:i}=this.context,r=e+1,n="";for(;;){let s=i[r];switch(s){case"-":this.chomping=Rs.STRIP;break;case"+":this.chomping=Rs.KEEP;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n+=s;break;default:return this.blockIndent=Number(n)||null,this.header=new q.Range(e,r),r}r+=1}}parseBlockValue(e){let{indent:i,src:r}=this.context,n=!!this.blockIndent,s=e,a=e,o=1;for(let l=r[s];l===`
`&&(s+=1,!q.Node.atDocumentBoundary(r,s));l=r[s]){let u=q.Node.endOfBlockIndent(r,i,s);if(u===null)break;let c=r[u],f=u-(s+i);if(this.blockIndent){if(c&&c!==`
`&&f<this.blockIndent){if(r[u]==="#")break;if(!this.error){let p=`Block scalars must not be less indented than their ${n?"explicit indentation indicator":"first line"}`;this.error=new q.YAMLSemanticError(this,p)}}}else if(r[u]!==`
`){if(f<o){let d="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";this.error=new q.YAMLSemanticError(this,d)}this.blockIndent=f}else f>o&&(o=f);r[u]===`
`?s=u:s=a=q.Node.endOfLine(r,u)}return this.chomping!==Rs.KEEP&&(s=r[a]?a+1:a),this.valueRange=new q.Range(e+1,s),s}parse(e,i){this.context=e;let{src:r}=e,n=this.parseBlockHeader(i);return n=q.Node.endOfWhiteSpace(r,n),n=this.parseComment(n),n=this.parseBlockValue(n),n}setOrigRanges(e,i){return i=super.setOrigRanges(e,i),this.header?this.header.setOrigRange(e,i):i}},LP=class extends q.Node{constructor(e,i){super(e,i);this.items=null}prevNodeIsJsonLike(e=this.items.length){let i=this.items[e-1];return!!i&&(i.jsonLike||i.type===q.Type.COMMENT&&this.prevNodeIsJsonLike(e-1))}parse(e,i){this.context=e;let{parseNode:r,src:n}=e,{indent:s,lineStart:a}=e,o=n[i];this.items=[{char:o,offset:i}];let l=q.Node.endOfWhiteSpace(n,i+1);for(o=n[l];o&&o!=="]"&&o!=="}";){switch(o){case`
`:{a=l+1;let u=q.Node.endOfWhiteSpace(n,a);if(n[u]===`
`){let c=new jo;a=c.parse({src:n},a),this.items.push(c)}if(l=q.Node.endOfIndent(n,a),l<=a+s&&(o=n[l],l<a+s||o!=="]"&&o!=="}")){let c="Insufficient indentation in flow collection";this.error=new q.YAMLSemanticError(this,c)}}break;case",":this.items.push({char:o,offset:l}),l+=1;break;case"#":{let u=new Uo;l=u.parse({src:n},l),this.items.push(u)}break;case"?":case":":{let u=n[l+1];if(u===`
`||u==="	"||u===" "||u===","||o===":"&&this.prevNodeIsJsonLike()){this.items.push({char:o,offset:l}),l+=1;break}}default:{let u=r({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:a,parent:this},l);if(!u)return this.valueRange=new q.Range(i,l),l;this.items.push(u),l=q.Node.normalizeOffset(n,u.range.end)}}l=q.Node.endOfWhiteSpace(n,l),o=n[l]}return this.valueRange=new q.Range(i,l+1),o&&(this.items.push({char:o,offset:l}),l=q.Node.endOfWhiteSpace(n,l+1),l=this.parseComment(l)),l}setOrigRanges(e,i){return i=super.setOrigRanges(e,i),this.items.forEach(r=>{if(r instanceof q.Node)i=r.setOrigRanges(e,i);else if(e.length===0)r.origOffset=r.offset;else{let n=i;for(;n<e.length&&!(e[n]>r.offset);)++n;r.origOffset=r.offset+n,i=n}}),i}toString(){let{context:{src:e},items:i,range:r,value:n}=this;if(n!=null)return n;let s=i.filter(l=>l instanceof q.Node),a="",o=r.start;return s.forEach(l=>{let u=e.slice(o,l.range.start);o=l.range.end,a+=u+String(l),a[a.length-1]===`
`&&e[o-1]!==`
`&&e[o]===`
`&&(o+=1)}),a+=e.slice(o,r.end),q.Node.addStringTerminator(e,r.end,a)}},hf=class extends q.Node{static endOfQuote(e,i){let r=e[i];for(;r&&r!=='"';)i+=r==="\\"?2:1,r=e[i];return i+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:i,end:r}=this.valueRange,{indent:n,src:s}=this.context;s[r-1]!=='"'&&e.push(new q.YAMLSyntaxError(this,'Missing closing "quote'));let a="";for(let o=i+1;o<r-1;++o){let l=s[o];if(l===`
`){q.Node.atDocumentBoundary(s,o+1)&&e.push(new q.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:u,offset:c,error:f}=q.Node.foldNewline(s,o,n);a+=u,o=c,f&&e.push(new q.YAMLSemanticError(this,"Multi-line double-quoted string needs to be sufficiently indented"))}else if(l==="\\")switch(o+=1,s[o]){case"0":a+="\0";break;case"a":a+="\x07";break;case"b":a+="\b";break;case"e":a+="\x1B";break;case"f":a+="\f";break;case"n":a+=`
`;break;case"r":a+="\r";break;case"t":a+="	";break;case"v":a+="\v";break;case"N":a+="\x85";break;case"_":a+="\xA0";break;case"L":a+="\u2028";break;case"P":a+="\u2029";break;case" ":a+=" ";break;case'"':a+='"';break;case"/":a+="/";break;case"\\":a+="\\";break;case"	":a+="	";break;case"x":a+=this.parseCharCode(o+1,2,e),o+=2;break;case"u":a+=this.parseCharCode(o+1,4,e),o+=4;break;case"U":a+=this.parseCharCode(o+1,8,e),o+=8;break;case`
`:for(;s[o+1]===" "||s[o+1]==="	";)o+=1;break;default:e.push(new q.YAMLSyntaxError(this,`Invalid escape sequence ${s.substr(o-1,2)}`)),a+="\\"+s[o]}else if(l===" "||l==="	"){let u=o,c=s[o+1];for(;c===" "||c==="	";)o+=1,c=s[o+1];c!==`
`&&(a+=o>u?s.slice(u,o+1):l)}else a+=l}return e.length>0?{errors:e,str:a}:a}parseCharCode(e,i,r){let{src:n}=this.context,s=n.substr(e,i),o=s.length===i&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;return isNaN(o)?(r.push(new q.YAMLSyntaxError(this,`Invalid escape sequence ${n.substr(e-2,i+2)}`)),n.substr(e-2,i+2)):String.fromCodePoint(o)}parse(e,i){this.context=e;let{src:r}=e,n=hf.endOfQuote(r,i+1);return this.valueRange=new q.Range(i,n),n=q.Node.endOfWhiteSpace(r,n),n=this.parseComment(n),n}},gf=class extends q.Node{static endOfQuote(e,i){let r=e[i];for(;r;)if(r==="'"){if(e[i+1]!=="'")break;r=e[i+=2]}else r=e[i+=1];return i+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:i,end:r}=this.valueRange,{indent:n,src:s}=this.context;s[r-1]!=="'"&&e.push(new q.YAMLSyntaxError(this,"Missing closing 'quote"));let a="";for(let o=i+1;o<r-1;++o){let l=s[o];if(l===`
`){q.Node.atDocumentBoundary(s,o+1)&&e.push(new q.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:u,offset:c,error:f}=q.Node.foldNewline(s,o,n);a+=u,o=c,f&&e.push(new q.YAMLSemanticError(this,"Multi-line single-quoted string needs to be sufficiently indented"))}else if(l==="'")a+=l,o+=1,s[o]!=="'"&&e.push(new q.YAMLSyntaxError(this,"Unescaped single quote? This should not happen."));else if(l===" "||l==="	"){let u=o,c=s[o+1];for(;c===" "||c==="	";)o+=1,c=s[o+1];c!==`
`&&(a+=o>u?s.slice(u,o+1):l)}else a+=l}return e.length>0?{errors:e,str:a}:a}parse(e,i){this.context=e;let{src:r}=e,n=gf.endOfQuote(r,i+1);return this.valueRange=new q.Range(i,n),n=q.Node.endOfWhiteSpace(r,n),n=this.parseComment(n),n}};function FO(t,e){switch(t){case q.Type.ALIAS:return new FP(t,e);case q.Type.BLOCK_FOLDED:case q.Type.BLOCK_LITERAL:return new OP(t,e);case q.Type.FLOW_MAP:case q.Type.FLOW_SEQ:return new LP(t,e);case q.Type.MAP_KEY:case q.Type.MAP_VALUE:case q.Type.SEQ_ITEM:return new mf(t,e);case q.Type.COMMENT:case q.Type.PLAIN:return new q.PlainValue(t,e);case q.Type.QUOTE_DOUBLE:return new hf(t,e);case q.Type.QUOTE_SINGLE:return new gf(t,e);default:return null}}var Wo=class{static parseType(e,i,r){switch(e[i]){case"*":return q.Type.ALIAS;case">":return q.Type.BLOCK_FOLDED;case"|":return q.Type.BLOCK_LITERAL;case"{":return q.Type.FLOW_MAP;case"[":return q.Type.FLOW_SEQ;case"?":return!r&&q.Node.atBlank(e,i+1,!0)?q.Type.MAP_KEY:q.Type.PLAIN;case":":return!r&&q.Node.atBlank(e,i+1,!0)?q.Type.MAP_VALUE:q.Type.PLAIN;case"-":return!r&&q.Node.atBlank(e,i+1,!0)?q.Type.SEQ_ITEM:q.Type.PLAIN;case'"':return q.Type.QUOTE_DOUBLE;case"'":return q.Type.QUOTE_SINGLE;default:return q.Type.PLAIN}}constructor(e={},{atLineStart:i,inCollection:r,inFlow:n,indent:s,lineStart:a,parent:o}={}){q._defineProperty(this,"parseNode",(l,u)=>{if(q.Node.atDocumentBoundary(this.src,u))return null;let c=new Wo(this,l),{props:f,type:d,valueStart:p}=c.parseProps(u),m=FO(d,f),_=m.parse(c,p);if(m.range=new q.Range(u,_),_<=u&&(m.error=new Error("Node#parse consumed no characters"),m.error.parseEnd=_,m.error.source=m,m.range.end=u+1),c.nodeStartsCollection(m)){!m.error&&!c.atLineStart&&c.parent.type===q.Type.DOCUMENT&&(m.error=new q.YAMLSyntaxError(m,"Block collection must not have preceding content here (e.g. directives-end indicator)"));let P=new Go(m);return _=P.parse(new Wo(c),_),P.range=new q.Range(u,_),P}return m}),this.atLineStart=i??(e.atLineStart||!1),this.inCollection=r??(e.inCollection||!1),this.inFlow=n??(e.inFlow||!1),this.indent=s??e.indent,this.lineStart=a??e.lineStart,this.parent=o??(e.parent||{}),this.root=e.root,this.src=e.src}nodeStartsCollection(e){let{inCollection:i,inFlow:r,src:n}=this;if(i||r)return!1;if(e instanceof mf)return!0;let s=e.range.end;return n[s]===`
`||n[s-1]===`
`?!1:(s=q.Node.endOfWhiteSpace(n,s),n[s]===":")}parseProps(e){let{inFlow:i,parent:r,src:n}=this,s=[],a=!1;e=this.atLineStart?q.Node.endOfIndent(n,e):q.Node.endOfWhiteSpace(n,e);let o=n[e];for(;o===q.Char.ANCHOR||o===q.Char.COMMENT||o===q.Char.TAG||o===`
`;){if(o===`
`){let u=e,c;do c=u+1,u=q.Node.endOfIndent(n,c);while(n[u]===`
`);let f=u-(c+this.indent),d=r.type===q.Type.SEQ_ITEM&&r.context.atLineStart;if(n[u]!=="#"&&!q.Node.nextNodeIsIndented(n[u],f,!d))break;this.atLineStart=!0,this.lineStart=c,a=!1,e=u}else if(o===q.Char.COMMENT){let u=q.Node.endOfLine(n,e+1);s.push(new q.Range(e,u)),e=u}else{let u=q.Node.endOfIdentifier(n,e+1);o===q.Char.TAG&&n[u]===","&&/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+,\d\d\d\d(-\d\d){0,2}\/\S/.test(n.slice(e+1,u+13))&&(u=q.Node.endOfIdentifier(n,u+5)),s.push(new q.Range(e,u)),a=!0,e=q.Node.endOfWhiteSpace(n,u)}o=n[e]}a&&o===":"&&q.Node.atBlank(n,e+1,!0)&&(e-=1);let l=Wo.parseType(n,e,i);return{props:s,type:l,valueStart:e}}};function OO(t){let e=[];t.indexOf("\r")!==-1&&(t=t.replace(/\r\n?/g,(n,s)=>(n.length>1&&e.push(s),`
`)));let i=[],r=0;do{let n=new Xl,s=new Wo({src:t});r=n.parse(s,r),i.push(n)}while(r<t.length);return i.setOrigRanges=()=>{if(e.length===0)return!1;for(let s=1;s<e.length;++s)e[s]-=s;let n=0;for(let s=0;s<i.length;++s)n=i[s].setOrigRanges(e,n);return e.splice(0,e.length),!0},i.toString=()=>i.join(`...
`),i}kP.parse=OO});var Yo=J(Rt=>{"use strict";var H=Ss();function LO(t,e,i){return i?`#${i.replace(/[\s\S]^/gm,`$&${e}#`)}
${e}${t}`:t}function Ho(t,e,i){return i?i.indexOf(`
`)===-1?`${t} #${i}`:`${t}
`+i.replace(/^/gm,`${e||""}#`):t}var Er=class{};function Cs(t,e,i){if(Array.isArray(t))return t.map((r,n)=>Cs(r,String(n),i));if(t&&typeof t.toJSON=="function"){let r=i&&i.anchors&&i.anchors.get(t);r&&(i.onCreate=s=>{r.res=s,delete i.onCreate});let n=t.toJSON(e,i);return r&&i.onCreate&&i.onCreate(n),n}return(!i||!i.keep)&&typeof t=="bigint"?Number(t):t}var Mi=class extends Er{constructor(e){super();this.value=e}toJSON(e,i){return i&&i.keep?this.value:Cs(this.value,e,i)}toString(){return String(this.value)}};function qP(t,e,i){let r=i;for(let n=e.length-1;n>=0;--n){let s=e[n];if(Number.isInteger(s)&&s>=0){let a=[];a[s]=r,r=a}else{let a={};Object.defineProperty(a,s,{value:r,writable:!0,enumerable:!0,configurable:!0}),r=a}}return t.createNode(r,!1)}var VP=t=>t==null||typeof t=="object"&&t[Symbol.iterator]().next().done,Jt=class extends Er{constructor(e){super();H._defineProperty(this,"items",[]),this.schema=e}addIn(e,i){if(VP(e))this.add(i);else{let[r,...n]=e,s=this.get(r,!0);if(s instanceof Jt)s.addIn(n,i);else if(s===void 0&&this.schema)this.set(r,qP(this.schema,n,i));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${n}`)}}deleteIn([e,...i]){if(i.length===0)return this.delete(e);let r=this.get(e,!0);if(r instanceof Jt)return r.deleteIn(i);throw new Error(`Expected YAML collection at ${e}. Remaining path: ${i}`)}getIn([e,...i],r){let n=this.get(e,!0);return i.length===0?!r&&n instanceof Mi?n.value:n:n instanceof Jt?n.getIn(i,r):void 0}hasAllNullValues(){return this.items.every(e=>{if(!e||e.type!=="PAIR")return!1;let i=e.value;return i==null||i instanceof Mi&&i.value==null&&!i.commentBefore&&!i.comment&&!i.tag})}hasIn([e,...i]){if(i.length===0)return this.has(e);let r=this.get(e,!0);return r instanceof Jt?r.hasIn(i):!1}setIn([e,...i],r){if(i.length===0)this.set(e,r);else{let n=this.get(e,!0);if(n instanceof Jt)n.setIn(i,r);else if(n===void 0&&this.schema)this.set(e,qP(this.schema,i,r));else throw new Error(`Expected YAML collection at ${e}. Remaining path: ${i}`)}}toJSON(){return null}toString(e,{blockItem:i,flowChars:r,isMap:n,itemIndent:s},a,o){let{indent:l,indentStep:u,stringify:c}=e,f=this.type===H.Type.FLOW_MAP||this.type===H.Type.FLOW_SEQ||e.inFlow;f&&(s+=u);let d=n&&this.hasAllNullValues();e=Object.assign({},e,{allNullValues:d,indent:s,inFlow:f,type:null});let p=!1,m=!1,_=this.items.reduce((g,T,y)=>{let A;T&&(!p&&T.spaceBefore&&g.push({type:"comment",str:""}),T.commentBefore&&T.commentBefore.match(/^.*$/gm).forEach(U=>{g.push({type:"comment",str:`#${U}`})}),T.comment&&(A=T.comment),f&&(!p&&T.spaceBefore||T.commentBefore||T.comment||T.key&&(T.key.commentBefore||T.key.comment)||T.value&&(T.value.commentBefore||T.value.comment))&&(m=!0)),p=!1;let N=c(T,e,()=>A=null,()=>p=!0);return f&&!m&&N.includes(`
`)&&(m=!0),f&&y<this.items.length-1&&(N+=","),N=Ho(N,s,A),p&&(A||f)&&(p=!1),g.push({type:"item",str:N}),g},[]),P;if(_.length===0)P=r.start+r.end;else if(f){let{start:g,end:T}=r,y=_.map(A=>A.str);if(m||y.reduce((A,N)=>A+N.length+2,2)>Jt.maxFlowStringSingleLineLength){P=g;for(let A of y)P+=A?`
${u}${l}${A}`:`
`;P+=`
${l}${T}`}else P=`${g} ${y.join(" ")} ${T}`}else{let g=_.map(i);P=g.shift();for(let T of g)P+=T?`
${l}${T}`:`
`}return this.comment?(P+=`
`+this.comment.replace(/^/gm,`${l}#`),a&&a()):p&&o&&o(),P}};H._defineProperty(Jt,"maxFlowStringSingleLineLength",60);function _f(t){let e=t instanceof Mi?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),Number.isInteger(e)&&e>=0?e:null}var ha=class extends Jt{add(e){this.items.push(e)}delete(e){let i=_f(e);return typeof i!="number"?!1:this.items.splice(i,1).length>0}get(e,i){let r=_f(e);if(typeof r!="number")return;let n=this.items[r];return!i&&n instanceof Mi?n.value:n}has(e){let i=_f(e);return typeof i=="number"&&i<this.items.length}set(e,i){let r=_f(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);this.items[r]=i}toJSON(e,i){let r=[];i&&i.onCreate&&i.onCreate(r);let n=0;for(let s of this.items)r.push(Cs(s,String(n++),i));return r}toString(e,i,r){return e?super.toString(e,{blockItem:n=>n.type==="comment"?n.str:`- ${n.str}`,flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(e.indent||"")+"  "},i,r):JSON.stringify(this)}},kO=(t,e,i)=>e===null?"":typeof e!="object"?String(e):t instanceof Er&&i&&i.doc?t.toString({anchors:Object.create(null),doc:i.doc,indent:"",indentStep:i.indentStep,inFlow:!0,inStringifyKey:!0,stringify:i.stringify}):JSON.stringify(e),mt=class extends Er{constructor(e,i=null){super();this.key=e,this.value=i,this.type=mt.Type.PAIR}get commentBefore(){return this.key instanceof Er?this.key.commentBefore:void 0}set commentBefore(e){if(this.key==null&&(this.key=new Mi(null)),this.key instanceof Er)this.key.commentBefore=e;else{let i="Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.";throw new Error(i)}}addToJSMap(e,i){let r=Cs(this.key,"",e);if(i instanceof Map){let n=Cs(this.value,r,e);i.set(r,n)}else if(i instanceof Set)i.add(r);else{let n=kO(this.key,r,e),s=Cs(this.value,n,e);n in i?Object.defineProperty(i,n,{value:s,writable:!0,enumerable:!0,configurable:!0}):i[n]=s}return i}toJSON(e,i){let r=i&&i.mapAsMap?new Map:{};return this.addToJSMap(i,r)}toString(e,i,r){if(!e||!e.doc)return JSON.stringify(this);let{indent:n,indentSeq:s,simpleKeys:a}=e.doc.options,{key:o,value:l}=this,u=o instanceof Er&&o.comment;if(a){if(u)throw new Error("With simple keys, key nodes cannot have comments");if(o instanceof Jt){let N="With simple keys, collection cannot be used as a key value";throw new Error(N)}}let c=!a&&(!o||u||(o instanceof Er?o instanceof Jt||o.type===H.Type.BLOCK_FOLDED||o.type===H.Type.BLOCK_LITERAL:typeof o=="object")),{doc:f,indent:d,indentStep:p,stringify:m}=e;e=Object.assign({},e,{implicitKey:!c,indent:d+p});let _=!1,P=m(o,e,()=>u=null,()=>_=!0);if(P=Ho(P,e.indent,u),!c&&P.length>1024){if(a)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");c=!0}if(e.allNullValues&&!a)return this.comment?(P=Ho(P,e.indent,this.comment),i&&i()):_&&!u&&r&&r(),e.inFlow&&!c?P:`? ${P}`;P=c?`? ${P}
${d}:`:`${P}:`,this.comment&&(P=Ho(P,e.indent,this.comment),i&&i());let g="",T=null;l instanceof Er?(l.spaceBefore&&(g=`
`),l.commentBefore&&(g+=`
${l.commentBefore.replace(/^/gm,`${e.indent}#`)}`),T=l.comment):l&&typeof l=="object"&&(l=f.schema.createNode(l,!0)),e.implicitKey=!1,!c&&!this.comment&&l instanceof Mi&&(e.indentAtStart=P.length+1),_=!1,!s&&n>=2&&!e.inFlow&&!c&&l instanceof ha&&l.type!==H.Type.FLOW_SEQ&&!l.tag&&!f.anchors.getName(l)&&(e.indent=e.indent.substr(2));let y=m(l,e,()=>T=null,()=>_=!0),A=" ";return g||this.comment?A=`${g}
${e.indent}`:!c&&l instanceof Jt?(!(y[0]==="["||y[0]==="{")||y.includes(`
`))&&(A=`
${e.indent}`):y[0]===`
`&&(A=""),_&&!T&&r&&r(),Ho(P+A+y,e.indent,T)}};H._defineProperty(mt,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var yf=(t,e)=>{if(t instanceof As){let i=e.get(t.source);return i.count*i.aliasCount}else if(t instanceof Jt){let i=0;for(let r of t.items){let n=yf(r,e);n>i&&(i=n)}return i}else if(t instanceof mt){let i=yf(t.key,e),r=yf(t.value,e);return Math.max(i,r)}return 1},As=class extends Er{static stringify({range:e,source:i},{anchors:r,doc:n,implicitKey:s,inStringifyKey:a}){let o=Object.keys(r).find(u=>r[u]===i);if(!o&&a&&(o=n.anchors.getName(i)||n.anchors.newName()),o)return`*${o}${s?" ":""}`;let l=n.anchors.getName(i)?"Alias node must be after source node":"Source node not found for alias node";throw new Error(`${l} [${e}]`)}constructor(e){super();this.source=e,this.type=H.Type.ALIAS}set tag(e){throw new Error("Alias nodes cannot have tags")}toJSON(e,i){if(!i)return Cs(this.source,e,i);let{anchors:r,maxAliasCount:n}=i,s=r.get(this.source);if(!s||s.res===void 0){let a="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new H.YAMLReferenceError(this.cstNode,a):new ReferenceError(a)}if(n>=0&&(s.count+=1,s.aliasCount===0&&(s.aliasCount=yf(this.source,r)),s.count*s.aliasCount>n)){let a="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new H.YAMLReferenceError(this.cstNode,a):new ReferenceError(a)}return s.res}toString(e){return As.stringify(this,e)}};H._defineProperty(As,"default",!0);function Ql(t,e){let i=e instanceof Mi?e.value:e;for(let r of t)if(r instanceof mt&&(r.key===e||r.key===i||r.key&&r.key.value===i))return r}var Tf=class extends Jt{add(e,i){e?e instanceof mt||(e=new mt(e.key||e,e.value)):e=new mt(e);let r=Ql(this.items,e.key),n=this.schema&&this.schema.sortMapEntries;if(r)if(i)r.value=e.value;else throw new Error(`Key ${e.key} already set`);else if(n){let s=this.items.findIndex(a=>n(e,a)<0);s===-1?this.items.push(e):this.items.splice(s,0,e)}else this.items.push(e)}delete(e){let i=Ql(this.items,e);return i?this.items.splice(this.items.indexOf(i),1).length>0:!1}get(e,i){let r=Ql(this.items,e),n=r&&r.value;return!i&&n instanceof Mi?n.value:n}has(e){return!!Ql(this.items,e)}set(e,i){this.add(new mt(e,i),!0)}toJSON(e,i,r){let n=r?new r:i&&i.mapAsMap?new Map:{};i&&i.onCreate&&i.onCreate(n);for(let s of this.items)s.addToJSMap(i,n);return n}toString(e,i,r){if(!e)return JSON.stringify(this);for(let n of this.items)if(!(n instanceof mt))throw new Error(`Map items must all be pairs; found ${JSON.stringify(n)} instead`);return super.toString(e,{blockItem:n=>n.str,flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:e.indent||""},i,r)}},BP="<<",Nh=class extends mt{constructor(e){if(e instanceof mt){let i=e.value;i instanceof ha||(i=new ha,i.items.push(e.value),i.range=e.value.range);super(e.key,i);this.range=e.range}else super(new Mi(BP),new ha);this.type=mt.Type.MERGE_PAIR}addToJSMap(e,i){for(let{source:r}of this.value.items){if(!(r instanceof Tf))throw new Error("Merge sources must be maps");let n=r.toJSON(null,e,Map);for(let[s,a]of n)i instanceof Map?i.has(s)||i.set(s,a):i instanceof Set?i.add(s):Object.prototype.hasOwnProperty.call(i,s)||Object.defineProperty(i,s,{value:a,writable:!0,enumerable:!0,configurable:!0})}return i}toString(e,i){let r=this.value;if(r.items.length>1)return super.toString(e,i);this.value=r.items[0];let n=super.toString(e,i);return this.value=r,n}},MO={defaultType:H.Type.BLOCK_LITERAL,lineWidth:76},qO={trueStr:"true",falseStr:"false"},VO={asBigInt:!1},BO={nullStr:"null"},ga={defaultType:H.Type.PLAIN,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function Sh(t,e,i){for(let{format:r,test:n,resolve:s}of e)if(n){let a=t.match(n);if(a){let o=s.apply(null,a);return o instanceof Mi||(o=new Mi(o)),r&&(o.format=r),o}}return i&&(t=i(t)),new Mi(t)}var jP="flow",Rh="block",bf="quoted",UP=(t,e)=>{let i=t[e+1];for(;i===" "||i==="	";){do i=t[e+=1];while(i&&i!==`
`);i=t[e+1]}return e};function vf(t,e,i,{indentAtStart:r,lineWidth:n=80,minContentWidth:s=20,onFold:a,onOverflow:o}){if(!n||n<0)return t;let l=Math.max(1+s,1+n-e.length);if(t.length<=l)return t;let u=[],c={},f=n-e.length;typeof r=="number"&&(r>n-Math.max(2,s)?u.push(0):f=n-r);let d,p,m=!1,_=-1,P=-1,g=-1;i===Rh&&(_=UP(t,_),_!==-1&&(f=_+l));for(let y;y=t[_+=1];){if(i===bf&&y==="\\"){switch(P=_,t[_+1]){case"x":_+=3;break;case"u":_+=5;break;case"U":_+=9;break;default:_+=1}g=_}if(y===`
`)i===Rh&&(_=UP(t,_)),f=_+l,d=void 0;else{if(y===" "&&p&&p!==" "&&p!==`
`&&p!=="	"){let A=t[_+1];A&&A!==" "&&A!==`
`&&A!=="	"&&(d=_)}if(_>=f)if(d)u.push(d),f=d+l,d=void 0;else if(i===bf){for(;p===" "||p==="	";)p=y,y=t[_+=1],m=!0;let A=_>g+1?_-2:P-1;if(c[A])return t;u.push(A),c[A]=!0,f=A+l,d=void 0}else m=!0}p=y}if(m&&o&&o(),u.length===0)return t;a&&a();let T=t.slice(0,u[0]);for(let y=0;y<u.length;++y){let A=u[y],N=u[y+1]||t.length;A===0?T=`
${e}${t.slice(0,N)}`:(i===bf&&c[A]&&(T+=`${t[A]}\\`),T+=`
${e}${t.slice(A+1,N)}`)}return T}var Ch=({indentAtStart:t})=>t?Object.assign({indentAtStart:t},ga.fold):ga.fold,If=t=>/^(%|---|\.\.\.)/m.test(t);function jO(t,e,i){if(!e||e<0)return!1;let r=e-i,n=t.length;if(n<=r)return!1;for(let s=0,a=0;s<n;++s)if(t[s]===`
`){if(s-a>r)return!0;if(a=s+1,n-a<=r)return!1}return!0}function _a(t,e){let{implicitKey:i}=e,{jsonEncoding:r,minMultiLineLength:n}=ga.doubleQuoted,s=JSON.stringify(t);if(r)return s;let a=e.indent||(If(t)?"  ":""),o="",l=0;for(let u=0,c=s[u];c;c=s[++u])if(c===" "&&s[u+1]==="\\"&&s[u+2]==="n"&&(o+=s.slice(l,u)+"\\ ",u+=1,l=u,c="\\"),c==="\\")switch(s[u+1]){case"u":{o+=s.slice(l,u);let f=s.substr(u+2,4);switch(f){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:f.substr(0,2)==="00"?o+="\\x"+f.substr(2):o+=s.substr(u,6)}u+=5,l=u+1}break;case"n":if(i||s[u+2]==='"'||s.length<n)u+=1;else{for(o+=s.slice(l,u)+`

`;s[u+2]==="\\"&&s[u+3]==="n"&&s[u+4]!=='"';)o+=`
`,u+=2;o+=a,s[u+2]===" "&&(o+="\\"),u+=1,l=u+1}break;default:u+=1}return o=l?o+s.slice(l):s,i?o:vf(o,a,bf,Ch(e))}function GP(t,e){if(e.implicitKey){if(/\n/.test(t))return _a(t,e)}else if(/[ \t]\n|\n[ \t]/.test(t))return _a(t,e);let i=e.indent||(If(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${i}`)+"'";return e.implicitKey?r:vf(r,i,jP,Ch(e))}function Pf({comment:t,type:e,value:i},r,n,s){if(/\n[\t ]+$/.test(i)||/^\s*$/.test(i))return _a(i,r);let a=r.indent||(r.forceBlockIndent||If(i)?"  ":""),o=a?"2":"1",l=e===H.Type.BLOCK_FOLDED?!1:e===H.Type.BLOCK_LITERAL?!0:!jO(i,ga.fold.lineWidth,a.length),u=l?"|":">";if(!i)return u+`
`;let c="",f="";if(i=i.replace(/[\n\t ]*$/,p=>{let m=p.indexOf(`
`);return m===-1?u+="-":(i===p||m!==p.length-1)&&(u+="+",s&&s()),f=p.replace(/\n$/,""),""}).replace(/^[\n ]*/,p=>{p.indexOf(" ")!==-1&&(u+=o);let m=p.match(/ +$/);return m?(c=p.slice(0,-m[0].length),m[0]):(c=p,"")}),f&&(f=f.replace(/\n+(?!\n|$)/g,`$&${a}`)),c&&(c=c.replace(/\n+/g,`$&${a}`)),t&&(u+=" #"+t.replace(/ ?[\r\n]+/g," "),n&&n()),!i)return`${u}${o}
${a}${f}`;if(l)return i=i.replace(/\n+/g,`$&${a}`),`${u}
${a}${c}${i}${f}`;i=i.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${a}`);let d=vf(`${c}${i}${f}`,a,Rh,ga.fold);return`${u}
${a}${d}`}function UO(t,e,i,r){let{comment:n,type:s,value:a}=t,{actualString:o,implicitKey:l,indent:u,inFlow:c}=e;if(l&&/[\n[\]{},]/.test(a)||c&&/[[\]{},]/.test(a))return _a(a,e);if(!a||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(a))return l||c||a.indexOf(`
`)===-1?a.indexOf('"')!==-1&&a.indexOf("'")===-1?GP(a,e):_a(a,e):Pf(t,e,i,r);if(!l&&!c&&s!==H.Type.PLAIN&&a.indexOf(`
`)!==-1)return Pf(t,e,i,r);if(u===""&&If(a))return e.forceBlockIndent=!0,Pf(t,e,i,r);let f=a.replace(/\n+/g,`$&
${u}`);if(o){let{tags:p}=e.doc.schema;if(typeof Sh(f,p,p.scalarFallback).value!="string")return _a(a,e)}let d=l?f:vf(f,u,jP,Ch(e));return n&&!c&&(d.indexOf(`
`)!==-1||n.indexOf(`
`)!==-1)?(i&&i(),LO(d,u,n)):d}function GO(t,e,i,r){let{defaultType:n}=ga,{implicitKey:s,inFlow:a}=e,{type:o,value:l}=t;typeof l!="string"&&(l=String(l),t=Object.assign({},t,{value:l}));let u=f=>{switch(f){case H.Type.BLOCK_FOLDED:case H.Type.BLOCK_LITERAL:return Pf(t,e,i,r);case H.Type.QUOTE_DOUBLE:return _a(l,e);case H.Type.QUOTE_SINGLE:return GP(l,e);case H.Type.PLAIN:return UO(t,e,i,r);default:return null}};(o!==H.Type.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(l)||(s||a)&&(o===H.Type.BLOCK_FOLDED||o===H.Type.BLOCK_LITERAL))&&(o=H.Type.QUOTE_DOUBLE);let c=u(o);if(c===null&&(c=u(n),c===null))throw new Error(`Unsupported default string type ${n}`);return c}function WO({format:t,minFractionDigits:e,tag:i,value:r}){if(typeof r=="bigint")return String(r);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let n=JSON.stringify(r);if(!t&&e&&(!i||i==="tag:yaml.org,2002:float")&&/^\d/.test(n)){let s=n.indexOf(".");s<0&&(s=n.length,n+=".");let a=e-(n.length-s-1);for(;a-- >0;)n+="0"}return n}function WP(t,e){let i,r;switch(e.type){case H.Type.FLOW_MAP:i="}",r="flow map";break;case H.Type.FLOW_SEQ:i="]",r="flow sequence";break;default:t.push(new H.YAMLSemanticError(e,"Not a flow collection!?"));return}let n;for(let s=e.items.length-1;s>=0;--s){let a=e.items[s];if(!a||a.type!==H.Type.COMMENT){n=a;break}}if(n&&n.char!==i){let s=`Expected ${r} to end with ${i}`,a;typeof n.offset=="number"?(a=new H.YAMLSemanticError(e,s),a.offset=n.offset+1):(a=new H.YAMLSemanticError(n,s),n.range&&n.range.end&&(a.offset=n.range.end-n.range.start)),t.push(a)}}function HP(t,e){let i=e.context.src[e.range.start-1];if(i!==`
`&&i!=="	"&&i!==" "){let r="Comments must be separated from other tokens by white space characters";t.push(new H.YAMLSemanticError(e,r))}}function YP(t,e){let i=String(e),r=i.substr(0,8)+"..."+i.substr(-8);return new H.YAMLSemanticError(t,`The "${r}" key is too long`)}function KP(t,e){for(let{afterKey:i,before:r,comment:n}of e){let s=t.items[r];s?(i&&s.value&&(s=s.value),n===void 0?(i||!s.commentBefore)&&(s.spaceBefore=!0):s.commentBefore?s.commentBefore+=`
`+n:s.commentBefore=n):n!==void 0&&(t.comment?t.comment+=`
`+n:t.comment=n)}}function Ah(t,e){let i=e.strValue;return i?typeof i=="string"?i:(i.errors.forEach(r=>{r.source||(r.source=e),t.errors.push(r)}),i.str):""}function HO(t,e){let{handle:i,suffix:r}=e.tag,n=t.tagPrefixes.find(s=>s.handle===i);if(!n){let s=t.getDefaults().tagPrefixes;if(s&&(n=s.find(a=>a.handle===i)),!n)throw new H.YAMLSemanticError(e,`The ${i} tag handle is non-default and was not declared.`)}if(!r)throw new H.YAMLSemanticError(e,`The ${i} tag has no suffix.`);if(i==="!"&&(t.version||t.options.version)==="1.0"){if(r[0]==="^")return t.warnings.push(new H.YAMLWarning(e,"YAML 1.0 ^ tag expansion is not supported")),r;if(/[:/]/.test(r)){let s=r.match(/^([a-z0-9-]+)\/(.*)/i);return s?`tag:${s[1]}.yaml.org,2002:${s[2]}`:`tag:${r}`}}return n.prefix+decodeURIComponent(r)}function YO(t,e){let{tag:i,type:r}=e,n=!1;if(i){let{handle:s,suffix:a,verbatim:o}=i;if(o){if(o!=="!"&&o!=="!!")return o;let l=`Verbatim tags aren't resolved, so ${o} is invalid.`;t.errors.push(new H.YAMLSemanticError(e,l))}else if(s==="!"&&!a)n=!0;else try{return HO(t,e)}catch(l){t.errors.push(l)}}switch(r){case H.Type.BLOCK_FOLDED:case H.Type.BLOCK_LITERAL:case H.Type.QUOTE_DOUBLE:case H.Type.QUOTE_SINGLE:return H.defaultTags.STR;case H.Type.FLOW_MAP:case H.Type.MAP:return H.defaultTags.MAP;case H.Type.FLOW_SEQ:case H.Type.SEQ:return H.defaultTags.SEQ;case H.Type.PLAIN:return n?H.defaultTags.STR:null;default:return null}}function $P(t,e,i){let{tags:r}=t.schema,n=[];for(let a of r)if(a.tag===i)if(a.test)n.push(a);else{let o=a.resolve(t,e);return o instanceof Jt?o:new Mi(o)}let s=Ah(t,e);return typeof s=="string"&&n.length>0?Sh(s,n,r.scalarFallback):null}function KO({type:t}){switch(t){case H.Type.FLOW_MAP:case H.Type.MAP:return H.defaultTags.MAP;case H.Type.FLOW_SEQ:case H.Type.SEQ:return H.defaultTags.SEQ;default:return H.defaultTags.STR}}function $O(t,e,i){try{let r=$P(t,e,i);if(r)return i&&e.tag&&(r.tag=i),r}catch(r){return r.source||(r.source=e),t.errors.push(r),null}try{let r=KO(e);if(!r)throw new Error(`The tag ${i} is unavailable`);let n=`The tag ${i} is unavailable, falling back to ${r}`;t.warnings.push(new H.YAMLWarning(e,n));let s=$P(t,e,r);return s.tag=i,s}catch(r){let n=new H.YAMLReferenceError(e,r.message);return n.stack=r.stack,t.errors.push(n),null}}var zO=t=>{if(!t)return!1;let{type:e}=t;return e===H.Type.MAP_KEY||e===H.Type.MAP_VALUE||e===H.Type.SEQ_ITEM};function XO(t,e){let i={before:[],after:[]},r=!1,n=!1,s=zO(e.context.parent)?e.context.parent.props.concat(e.props):e.props;for(let{start:a,end:o}of s)switch(e.context.src[a]){case H.Char.COMMENT:{if(!e.commentHasRequiredWhitespace(a)){let f="Comments must be separated from other tokens by white space characters";t.push(new H.YAMLSemanticError(e,f))}let{header:l,valueRange:u}=e;(u&&(a>u.start||l&&a>l.start)?i.after:i.before).push(e.context.src.slice(a+1,o));break}case H.Char.ANCHOR:if(r){let l="A node can have at most one anchor";t.push(new H.YAMLSemanticError(e,l))}r=!0;break;case H.Char.TAG:if(n){let l="A node can have at most one tag";t.push(new H.YAMLSemanticError(e,l))}n=!0;break}return{comments:i,hasAnchor:r,hasTag:n}}function QO(t,e){let{anchors:i,errors:r,schema:n}=t;if(e.type===H.Type.ALIAS){let a=e.rawValue,o=i.getNode(a);if(!o){let u=`Aliased anchor not found: ${a}`;return r.push(new H.YAMLReferenceError(e,u)),null}let l=new As(o);return i._cstAliases.push(l),l}let s=YO(t,e);if(s)return $O(t,e,s);if(e.type!==H.Type.PLAIN){let a=`Failed to resolve ${e.type} node here`;return r.push(new H.YAMLSyntaxError(e,a)),null}try{let a=Ah(t,e);return Sh(a,n.tags,n.tags.scalarFallback)}catch(a){return a.source||(a.source=e),r.push(a),null}}function Es(t,e){if(!e)return null;e.error&&t.errors.push(e.error);let{comments:i,hasAnchor:r,hasTag:n}=XO(t.errors,e);if(r){let{anchors:a}=t,o=e.anchor,l=a.getNode(o);l&&(a.map[a.newName(o)]=l),a.map[o]=e}if(e.type===H.Type.ALIAS&&(r||n)){let a="An alias node must not specify any properties";t.errors.push(new H.YAMLSemanticError(e,a))}let s=QO(t,e);if(s){s.range=[e.range.start,e.range.end],t.options.keepCstNodes&&(s.cstNode=e),t.options.keepNodeTypes&&(s.type=e.type);let a=i.before.join(`
`);a&&(s.commentBefore=s.commentBefore?`${s.commentBefore}
${a}`:a);let o=i.after.join(`
`);o&&(s.comment=s.comment?`${s.comment}
${o}`:o)}return e.resolved=s}function JO(t,e){if(e.type!==H.Type.MAP&&e.type!==H.Type.FLOW_MAP){let a=`A ${e.type} node cannot be resolved as a mapping`;return t.errors.push(new H.YAMLSyntaxError(e,a)),null}let{comments:i,items:r}=e.type===H.Type.FLOW_MAP?iL(t,e):tL(t,e),n=new Tf;n.items=r,KP(n,i);let s=!1;for(let a=0;a<r.length;++a){let{key:o}=r[a];if(o instanceof Jt&&(s=!0),t.schema.merge&&o&&o.value===BP){r[a]=new Nh(r[a]);let l=r[a].value.items,u=null;l.some(c=>{if(c instanceof As){let{type:f}=c.source;return f===H.Type.MAP||f===H.Type.FLOW_MAP?!1:u="Merge nodes aliases can only point to maps"}return u="Merge nodes can only have Alias nodes as values"}),u&&t.errors.push(new H.YAMLSemanticError(e,u))}else for(let l=a+1;l<r.length;++l){let{key:u}=r[l];if(o===u||o&&u&&Object.prototype.hasOwnProperty.call(o,"value")&&o.value===u.value){let c=`Map keys must be unique; "${o}" is repeated`;t.errors.push(new H.YAMLSemanticError(e,c));break}}}if(s&&!t.options.mapAsMap){let a="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new H.YAMLWarning(e,a))}return e.resolved=n,n}var ZO=({context:{lineStart:t,node:e,src:i},props:r})=>{if(r.length===0)return!1;let{start:n}=r[0];if(e&&n>e.valueRange.start||i[n]!==H.Char.COMMENT)return!1;for(let s=t;s<n;++s)if(i[s]===`
`)return!1;return!0};function eL(t,e){if(!ZO(t))return;let i=t.getPropValue(0,H.Char.COMMENT,!0),r=!1,n=e.value.commentBefore;if(n&&n.startsWith(i))e.value.commentBefore=n.substr(i.length+1),r=!0;else{let s=e.value.comment;!t.node&&s&&s.startsWith(i)&&(e.value.comment=s.substr(i.length+1),r=!0)}r&&(e.comment=i)}function tL(t,e){let i=[],r=[],n,s=null;for(let a=0;a<e.items.length;++a){let o=e.items[a];switch(o.type){case H.Type.BLANK_LINE:i.push({afterKey:!!n,before:r.length});break;case H.Type.COMMENT:i.push({afterKey:!!n,before:r.length,comment:o.comment});break;case H.Type.MAP_KEY:n!==void 0&&r.push(new mt(n)),o.error&&t.errors.push(o.error),n=Es(t,o.node),s=null;break;case H.Type.MAP_VALUE:{if(n===void 0&&(n=null),o.error&&t.errors.push(o.error),!o.context.atLineStart&&o.node&&o.node.type===H.Type.MAP&&!o.node.context.atLineStart){let c="Nested mappings are not allowed in compact mappings";t.errors.push(new H.YAMLSemanticError(o.node,c))}let l=o.node;if(!l&&o.props.length>0){l=new H.PlainValue(H.Type.PLAIN,[]),l.context={parent:o,src:o.context.src};let c=o.range.start+1;if(l.range={start:c,end:c},l.valueRange={start:c,end:c},typeof o.range.origStart=="number"){let f=o.range.origStart+1;l.range.origStart=l.range.origEnd=f,l.valueRange.origStart=l.valueRange.origEnd=f}}let u=new mt(n,Es(t,l));eL(o,u),r.push(u),n&&typeof s=="number"&&o.range.start>s+1024&&t.errors.push(YP(e,n)),n=void 0,s=null}break;default:n!==void 0&&r.push(new mt(n)),n=Es(t,o),s=o.range.start,o.error&&t.errors.push(o.error);e:for(let l=a+1;;++l){let u=e.items[l];switch(u&&u.type){case H.Type.BLANK_LINE:case H.Type.COMMENT:continue e;case H.Type.MAP_VALUE:break e;default:{let c="Implicit map keys need to be followed by map values";t.errors.push(new H.YAMLSemanticError(o,c));break e}}}if(o.valueRangeContainsNewline){let l="Implicit map keys need to be on a single line";t.errors.push(new H.YAMLSemanticError(o,l))}}}return n!==void 0&&r.push(new mt(n)),{comments:i,items:r}}function iL(t,e){let i=[],r=[],n,s=!1,a="{";for(let o=0;o<e.items.length;++o){let l=e.items[o];if(typeof l.char=="string"){let{char:u,offset:c}=l;if(u==="?"&&n===void 0&&!s){s=!0,a=":";continue}if(u===":"){if(n===void 0&&(n=null),a===":"){a=",";continue}}else if(s&&(n===void 0&&u!==","&&(n=null),s=!1),n!==void 0&&(r.push(new mt(n)),n=void 0,u===",")){a=":";continue}if(u==="}"){if(o===e.items.length-1)continue}else if(u===a){a=":";continue}let f=`Flow map contains an unexpected ${u}`,d=new H.YAMLSyntaxError(e,f);d.offset=c,t.errors.push(d)}else l.type===H.Type.BLANK_LINE?i.push({afterKey:!!n,before:r.length}):l.type===H.Type.COMMENT?(HP(t.errors,l),i.push({afterKey:!!n,before:r.length,comment:l.comment})):n===void 0?(a===","&&t.errors.push(new H.YAMLSemanticError(l,"Separator , missing in flow map")),n=Es(t,l)):(a!==","&&t.errors.push(new H.YAMLSemanticError(l,"Indicator : missing in flow map entry")),r.push(new mt(n,Es(t,l))),n=void 0,s=!1)}return WP(t.errors,e),n!==void 0&&r.push(new mt(n)),{comments:i,items:r}}function rL(t,e){if(e.type!==H.Type.SEQ&&e.type!==H.Type.FLOW_SEQ){let s=`A ${e.type} node cannot be resolved as a sequence`;return t.errors.push(new H.YAMLSyntaxError(e,s)),null}let{comments:i,items:r}=e.type===H.Type.FLOW_SEQ?sL(t,e):nL(t,e),n=new ha;if(n.items=r,KP(n,i),!t.options.mapAsMap&&r.some(s=>s instanceof mt&&s.key instanceof Jt)){let s="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new H.YAMLWarning(e,s))}return e.resolved=n,n}function nL(t,e){let i=[],r=[];for(let n=0;n<e.items.length;++n){let s=e.items[n];switch(s.type){case H.Type.BLANK_LINE:i.push({before:r.length});break;case H.Type.COMMENT:i.push({comment:s.comment,before:r.length});break;case H.Type.SEQ_ITEM:if(s.error&&t.errors.push(s.error),r.push(Es(t,s.node)),s.hasProps){let a="Sequence items cannot have tags or anchors before the - indicator";t.errors.push(new H.YAMLSemanticError(s,a))}break;default:s.error&&t.errors.push(s.error),t.errors.push(new H.YAMLSyntaxError(s,`Unexpected ${s.type} node in sequence`))}}return{comments:i,items:r}}function sL(t,e){let i=[],r=[],n=!1,s,a=null,o="[",l=null;for(let u=0;u<e.items.length;++u){let c=e.items[u];if(typeof c.char=="string"){let{char:f,offset:d}=c;if(f!==":"&&(n||s!==void 0)&&(n&&s===void 0&&(s=o?r.pop():null),r.push(new mt(s)),n=!1,s=void 0,a=null),f===o)o=null;else if(!o&&f==="?")n=!0;else if(o!=="["&&f===":"&&s===void 0){if(o===","){if(s=r.pop(),s instanceof mt){let p="Chaining flow sequence pairs is invalid",m=new H.YAMLSemanticError(e,p);m.offset=d,t.errors.push(m)}if(!n&&typeof a=="number"){let p=c.range?c.range.start:c.offset;p>a+1024&&t.errors.push(YP(e,s));let{src:m}=l.context;for(let _=a;_<p;++_)if(m[_]===`
`){let P="Implicit keys of flow sequence pairs need to be on a single line";t.errors.push(new H.YAMLSemanticError(l,P));break}}}else s=null;a=null,n=!1,o=null}else if(o==="["||f!=="]"||u<e.items.length-1){let p=`Flow sequence contains an unexpected ${f}`,m=new H.YAMLSyntaxError(e,p);m.offset=d,t.errors.push(m)}}else if(c.type===H.Type.BLANK_LINE)i.push({before:r.length});else if(c.type===H.Type.COMMENT)HP(t.errors,c),i.push({comment:c.comment,before:r.length});else{if(o){let d=`Expected a ${o} in flow sequence`;t.errors.push(new H.YAMLSemanticError(c,d))}let f=Es(t,c);s===void 0?(r.push(f),l=c):(r.push(new mt(s,f)),s=void 0),a=c.range.start,o=","}}return WP(t.errors,e),s!==void 0&&r.push(new mt(s)),{comments:i,items:r}}Rt.Alias=As;Rt.Collection=Jt;Rt.Merge=Nh;Rt.Node=Er;Rt.Pair=mt;Rt.Scalar=Mi;Rt.YAMLMap=Tf;Rt.YAMLSeq=ha;Rt.addComment=Ho;Rt.binaryOptions=MO;Rt.boolOptions=qO;Rt.findPair=Ql;Rt.intOptions=VO;Rt.isEmptyPath=VP;Rt.nullOptions=BO;Rt.resolveMap=JO;Rt.resolveNode=Es;Rt.resolveSeq=rL;Rt.resolveString=Ah;Rt.strOptions=ga;Rt.stringifyNumber=WO;Rt.stringifyString=GO;Rt.toJSON=Cs});var Nf=J(un=>{"use strict";var ur=Ss(),Ze=Yo(),aL={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve:(t,e)=>{let i=Ze.resolveString(t,e);if(typeof Buffer=="function")return Buffer.from(i,"base64");if(typeof atob=="function"){let r=atob(i.replace(/[\n\r]/g,"")),n=new Uint8Array(r.length);for(let s=0;s<r.length;++s)n[s]=r.charCodeAt(s);return n}else{let r="This environment does not support reading binary tags; either Buffer or atob is required";return t.errors.push(new ur.YAMLReferenceError(e,r)),null}},options:Ze.binaryOptions,stringify:({comment:t,type:e,value:i},r,n,s)=>{let a;if(typeof Buffer=="function")a=i instanceof Buffer?i.toString("base64"):Buffer.from(i.buffer).toString("base64");else if(typeof btoa=="function"){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);a=btoa(o)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=Ze.binaryOptions.defaultType),e===ur.Type.QUOTE_DOUBLE)i=a;else{let{lineWidth:o}=Ze.binaryOptions,l=Math.ceil(a.length/o),u=new Array(l);for(let c=0,f=0;c<l;++c,f+=o)u[c]=a.substr(f,o);i=u.join(e===ur.Type.BLOCK_LITERAL?`
`:" ")}return Ze.stringifyString({comment:t,type:e,value:i},r,n,s)}};function zP(t,e){let i=Ze.resolveSeq(t,e);for(let r=0;r<i.items.length;++r){let n=i.items[r];if(!(n instanceof Ze.Pair)){if(n instanceof Ze.YAMLMap){if(n.items.length>1){let a="Each pair must have its own sequence indicator";throw new ur.YAMLSemanticError(e,a)}let s=n.items[0]||new Ze.Pair;n.commentBefore&&(s.commentBefore=s.commentBefore?`${n.commentBefore}
${s.commentBefore}`:n.commentBefore),n.comment&&(s.comment=s.comment?`${n.comment}
${s.comment}`:n.comment),n=s}i.items[r]=n instanceof Ze.Pair?n:new Ze.Pair(n)}}return i}function XP(t,e,i){let r=new Ze.YAMLSeq(t);r.tag="tag:yaml.org,2002:pairs";for(let n of e){let s,a;if(Array.isArray(n))if(n.length===2)s=n[0],a=n[1];else throw new TypeError(`Expected [key, value] tuple: ${n}`);else if(n&&n instanceof Object){let l=Object.keys(n);if(l.length===1)s=l[0],a=n[s];else throw new TypeError(`Expected { key: value } tuple: ${n}`)}else s=n;let o=t.createPair(s,a,i);r.items.push(o)}return r}var oL={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:zP,createNode:XP},ya=class extends Ze.YAMLSeq{constructor(){super();ur._defineProperty(this,"add",Ze.YAMLMap.prototype.add.bind(this)),ur._defineProperty(this,"delete",Ze.YAMLMap.prototype.delete.bind(this)),ur._defineProperty(this,"get",Ze.YAMLMap.prototype.get.bind(this)),ur._defineProperty(this,"has",Ze.YAMLMap.prototype.has.bind(this)),ur._defineProperty(this,"set",Ze.YAMLMap.prototype.set.bind(this)),this.tag=ya.tag}toJSON(e,i){let r=new Map;i&&i.onCreate&&i.onCreate(r);for(let n of this.items){let s,a;if(n instanceof Ze.Pair?(s=Ze.toJSON(n.key,"",i),a=Ze.toJSON(n.value,s,i)):s=Ze.toJSON(n,"",i),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,a)}return r}};ur._defineProperty(ya,"tag","tag:yaml.org,2002:omap");function lL(t,e){let i=zP(t,e),r=[];for(let{key:n}of i.items)if(n instanceof Ze.Scalar)if(r.includes(n.value)){let s="Ordered maps must not include duplicate keys";throw new ur.YAMLSemanticError(e,s)}else r.push(n.value);return Object.assign(new ya,i)}function uL(t,e,i){let r=XP(t,e,i),n=new ya;return n.items=r.items,n}var cL={identify:t=>t instanceof Map,nodeClass:ya,default:!1,tag:"tag:yaml.org,2002:omap",resolve:lL,createNode:uL},Ta=class extends Ze.YAMLMap{constructor(){super();this.tag=Ta.tag}add(e){let i=e instanceof Ze.Pair?e:new Ze.Pair(e);Ze.findPair(this.items,i.key)||this.items.push(i)}get(e,i){let r=Ze.findPair(this.items,e);return!i&&r instanceof Ze.Pair?r.key instanceof Ze.Scalar?r.key.value:r.key:r}set(e,i){if(typeof i!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof i}`);let r=Ze.findPair(this.items,e);r&&!i?this.items.splice(this.items.indexOf(r),1):!r&&i&&this.items.push(new Ze.Pair(e))}toJSON(e,i){return super.toJSON(e,i,Set)}toString(e,i,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues())return super.toString(e,i,r);throw new Error("Set items must all have null values")}};ur._defineProperty(Ta,"tag","tag:yaml.org,2002:set");function fL(t,e){let i=Ze.resolveMap(t,e);if(!i.hasAllNullValues())throw new ur.YAMLSemanticError(e,"Set items must all have null values");return Object.assign(new Ta,i)}function dL(t,e,i){let r=new Ta;for(let n of e)r.items.push(t.createPair(n,null,i));return r}var pL={identify:t=>t instanceof Set,nodeClass:Ta,default:!1,tag:"tag:yaml.org,2002:set",resolve:fL,createNode:dL},Eh=(t,e)=>{let i=e.split(":").reduce((r,n)=>r*60+Number(n),0);return t==="-"?-i:i},QP=({value:t})=>{if(isNaN(t)||!isFinite(t))return Ze.stringifyNumber(t);let e="";t<0&&(e="-",t=Math.abs(t));let i=[t%60];return t<60?i.unshift(0):(t=Math.round((t-i[0])/60),i.unshift(t%60),t>=60&&(t=Math.round((t-i[0])/60),i.unshift(t))),e+i.map(r=>r<10?"0"+String(r):String(r)).join(":").replace(/000000\d*$/,"")},mL={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:(t,e,i)=>Eh(e,i.replace(/_/g,"")),stringify:QP},hL={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:(t,e,i)=>Eh(e,i.replace(/_/g,"")),stringify:QP},gL={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:(t,e,i,r,n,s,a,o,l)=>{o&&(o=(o+"00").substr(1,3));let u=Date.UTC(e,i-1,r,n||0,s||0,a||0,o||0);if(l&&l!=="Z"){let c=Eh(l[0],l.slice(1));Math.abs(c)<30&&(c*=60),u-=6e4*c}return new Date(u)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};function wh(t){let e=typeof process!="undefined"&&process.env||{};return t?typeof YAML_SILENCE_DEPRECATION_WARNINGS!="undefined"?!YAML_SILENCE_DEPRECATION_WARNINGS:!e.YAML_SILENCE_DEPRECATION_WARNINGS:typeof YAML_SILENCE_WARNINGS!="undefined"?!YAML_SILENCE_WARNINGS:!e.YAML_SILENCE_WARNINGS}function xh(t,e){if(wh(!1)){let i=typeof process!="undefined"&&process.emitWarning;i?i(t,e):console.warn(e?`${e}: ${t}`:t)}}function _L(t){if(wh(!0)){let e=t.replace(/.*yaml[/\\]/i,"").replace(/\.js$/,"").replace(/\\/g,"/");xh(`The endpoint 'yaml/${e}' will be removed in a future release.`,"DeprecationWarning")}}var JP={};function yL(t,e){if(!JP[t]&&wh(!0)){JP[t]=!0;let i=`The option '${t}' will be removed in a future release`;i+=e?`, use '${e}' instead.`:".",xh(i,"DeprecationWarning")}}un.binary=aL;un.floatTime=hL;un.intTime=mL;un.omap=cL;un.pairs=oL;un.set=pL;un.timestamp=gL;un.warn=xh;un.warnFileDeprecation=_L;un.warnOptionDeprecation=yL});var wf=J(fN=>{"use strict";var Sf=Ss(),xe=Yo(),qi=Nf();function TL(t,e,i){let r=new xe.YAMLMap(t);if(e instanceof Map)for(let[n,s]of e)r.items.push(t.createPair(n,s,i));else if(e&&typeof e=="object")for(let n of Object.keys(e))r.items.push(t.createPair(n,e[n],i));return typeof t.sortMapEntries=="function"&&r.items.sort(t.sortMapEntries),r}var Jl={createNode:TL,default:!0,nodeClass:xe.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:xe.resolveMap};function bL(t,e,i){let r=new xe.YAMLSeq(t);if(e&&e[Symbol.iterator])for(let n of e){let s=t.createNode(n,i.wrapScalars,null,i);r.items.push(s)}return r}var Rf={createNode:bL,default:!0,nodeClass:xe.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:xe.resolveSeq},vL={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:xe.resolveString,stringify(t,e,i,r){return e=Object.assign({actualString:!0},e),xe.stringifyString(t,e,i,r)},options:xe.strOptions},Dh=[Jl,Rf,vL],Cf=t=>typeof t=="bigint"||Number.isInteger(t),Fh=(t,e,i)=>xe.intOptions.asBigInt?BigInt(t):parseInt(e,i);function ZP(t,e,i){let{value:r}=t;return Cf(r)&&r>=0?i+r.toString(e):xe.stringifyNumber(t)}var eN={identify:t=>t==null,createNode:(t,e,i)=>i.wrapScalars?new xe.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:xe.nullOptions,stringify:()=>xe.nullOptions.nullStr},tN={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>t[0]==="t"||t[0]==="T",options:xe.boolOptions,stringify:({value:t})=>t?xe.boolOptions.trueStr:xe.boolOptions.falseStr},iN={identify:t=>Cf(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:(t,e)=>Fh(t,e,8),options:xe.intOptions,stringify:t=>ZP(t,8,"0o")},rN={identify:Cf,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:t=>Fh(t,t,10),options:xe.intOptions,stringify:xe.stringifyNumber},nN={identify:t=>Cf(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:(t,e)=>Fh(t,e,16),options:xe.intOptions,stringify:t=>ZP(t,16,"0x")},sN={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:xe.stringifyNumber},aN={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify:({value:t})=>Number(t).toExponential()},oN={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve(t,e,i){let r=e||i,n=new xe.Scalar(parseFloat(t));return r&&r[r.length-1]==="0"&&(n.minFractionDigits=r.length),n},stringify:xe.stringifyNumber},IL=Dh.concat([eN,tN,iN,rN,nN,sN,aN,oN]),lN=t=>typeof t=="bigint"||Number.isInteger(t),Af=({value:t})=>JSON.stringify(t),uN=[Jl,Rf,{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:xe.resolveString,stringify:Af},{identify:t=>t==null,createNode:(t,e,i)=>i.wrapScalars?new xe.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Af},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:Af},{identify:lN,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:t=>xe.intOptions.asBigInt?BigInt(t):parseInt(t,10),stringify:({value:t})=>lN(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:Af}];uN.scalarFallback=t=>{throw new SyntaxError(`Unresolved plain scalar ${JSON.stringify(t)}`)};var cN=({value:t})=>t?xe.boolOptions.trueStr:xe.boolOptions.falseStr,Zl=t=>typeof t=="bigint"||Number.isInteger(t);function Ef(t,e,i){let r=e.replace(/_/g,"");if(xe.intOptions.asBigInt){switch(i){case 2:r=`0b${r}`;break;case 8:r=`0o${r}`;break;case 16:r=`0x${r}`;break}let s=BigInt(r);return t==="-"?BigInt(-1)*s:s}let n=parseInt(r,i);return t==="-"?-1*n:n}function Oh(t,e,i){let{value:r}=t;if(Zl(r)){let n=r.toString(e);return r<0?"-"+i+n.substr(1):i+n}return xe.stringifyNumber(t)}var PL=Dh.concat([{identify:t=>t==null,createNode:(t,e,i)=>i.wrapScalars?new xe.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:xe.nullOptions,stringify:()=>xe.nullOptions.nullStr},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>!0,options:xe.boolOptions,stringify:cN},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>!1,options:xe.boolOptions,stringify:cN},{identify:Zl,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:(t,e,i)=>Ef(e,i,2),stringify:t=>Oh(t,2,"0b")},{identify:Zl,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:(t,e,i)=>Ef(e,i,8),stringify:t=>Oh(t,8,"0")},{identify:Zl,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:(t,e,i)=>Ef(e,i,10),stringify:xe.stringifyNumber},{identify:Zl,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:(t,e,i)=>Ef(e,i,16),stringify:t=>Oh(t,16,"0x")},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:xe.stringifyNumber},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify:({value:t})=>Number(t).toExponential()},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve(t,e){let i=new xe.Scalar(parseFloat(t.replace(/_/g,"")));if(e){let r=e.replace(/_/g,"");r[r.length-1]==="0"&&(i.minFractionDigits=r.length)}return i},stringify:xe.stringifyNumber}],qi.binary,qi.omap,qi.pairs,qi.set,qi.intTime,qi.floatTime,qi.timestamp),NL={core:IL,failsafe:Dh,json:uN,yaml11:PL},SL={binary:qi.binary,bool:tN,float:oN,floatExp:aN,floatNaN:sN,floatTime:qi.floatTime,int:rN,intHex:nN,intOct:iN,intTime:qi.intTime,map:Jl,null:eN,omap:qi.omap,pairs:qi.pairs,seq:Rf,set:qi.set,timestamp:qi.timestamp};function RL(t,e,i){if(e){let r=i.filter(s=>s.tag===e),n=r.find(s=>!s.format)||r[0];if(!n)throw new Error(`Tag ${e} not found`);return n}return i.find(r=>(r.identify&&r.identify(t)||r.class&&t instanceof r.class)&&!r.format)}function CL(t,e,i){if(t instanceof xe.Node)return t;let{defaultPrefix:r,onTagObj:n,prevObjects:s,schema:a,wrapScalars:o}=i;e&&e.startsWith("!!")&&(e=r+e.slice(2));let l=RL(t,e,a.tags);if(!l){if(typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object")return o?new xe.Scalar(t):t;l=t instanceof Map?Jl:t[Symbol.iterator]?Rf:Jl}n&&(n(l),delete i.onTagObj);let u={value:void 0,node:void 0};if(t&&typeof t=="object"&&s){let c=s.get(t);if(c){let f=new xe.Alias(c);return i.aliasNodes.push(f),f}u.value=t,s.set(t,u)}return u.node=l.createNode?l.createNode(i.schema,t,i):o?new xe.Scalar(t):t,e&&u.node instanceof xe.Node&&(u.node.tag=e),u.node}function AL(t,e,i,r){let n=t[r.replace(/\W/g,"")];if(!n){let s=Object.keys(t).map(a=>JSON.stringify(a)).join(", ");throw new Error(`Unknown schema "${r}"; use one of ${s}`)}if(Array.isArray(i))for(let s of i)n=n.concat(s);else typeof i=="function"&&(n=i(n.slice()));for(let s=0;s<n.length;++s){let a=n[s];if(typeof a=="string"){let o=e[a];if(!o){let l=Object.keys(e).map(u=>JSON.stringify(u)).join(", ");throw new Error(`Unknown custom tag "${a}"; use one of ${l}`)}n[s]=o}}return n}var EL=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,Ko=class{constructor({customTags:e,merge:i,schema:r,sortMapEntries:n,tags:s}){this.merge=!!i,this.name=r,this.sortMapEntries=n===!0?EL:n||null,!e&&s&&qi.warnOptionDeprecation("tags","customTags"),this.tags=AL(NL,SL,e||s,r)}createNode(e,i,r,n){let s={defaultPrefix:Ko.defaultPrefix,schema:this,wrapScalars:i},a=n?Object.assign(n,s):s;return CL(e,r,a)}createPair(e,i,r){r||(r={wrapScalars:!0});let n=this.createNode(e,r.wrapScalars,null,r),s=this.createNode(i,r.wrapScalars,null,r);return new xe.Pair(n,s)}};Sf._defineProperty(Ko,"defaultPrefix",Sf.defaultTagPrefix);Sf._defineProperty(Ko,"defaultTags",Sf.defaultTags);fN.Schema=Ko});var hN=J(Of=>{"use strict";var Vi=Ss(),Oe=Yo(),dN=wf(),wL={anchorPrefix:"a",customTags:null,indent:2,indentSeq:!0,keepCstNodes:!1,keepNodeTypes:!0,keepBlobsInJSON:!0,mapAsMap:!1,maxAliasCount:100,prettyErrors:!1,simpleKeys:!1,version:"1.2"},xL={get binary(){return Oe.binaryOptions},set binary(t){Object.assign(Oe.binaryOptions,t)},get bool(){return Oe.boolOptions},set bool(t){Object.assign(Oe.boolOptions,t)},get int(){return Oe.intOptions},set int(t){Object.assign(Oe.intOptions,t)},get null(){return Oe.nullOptions},set null(t){Object.assign(Oe.nullOptions,t)},get str(){return Oe.strOptions},set str(t){Object.assign(Oe.strOptions,t)}},pN={"1.0":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:Vi.defaultTagPrefix},{handle:"!!",prefix:"tag:private.yaml.org,2002:"}]},1.1:{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:Vi.defaultTagPrefix}]},1.2:{schema:"core",merge:!1,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:Vi.defaultTagPrefix}]}};function mN(t,e){if((t.version||t.options.version)==="1.0"){let n=e.match(/^tag:private\.yaml\.org,2002:([^:/]+)$/);if(n)return"!"+n[1];let s=e.match(/^tag:([a-zA-Z0-9-]+)\.yaml\.org,2002:(.*)/);return s?`!${s[1]}/${s[2]}`:`!${e.replace(/^tag:/,"")}`}let i=t.tagPrefixes.find(n=>e.indexOf(n.prefix)===0);if(!i){let n=t.getDefaults().tagPrefixes;i=n&&n.find(s=>e.indexOf(s.prefix)===0)}if(!i)return e[0]==="!"?e:`!<${e}>`;let r=e.substr(i.prefix.length).replace(/[!,[\]{}]/g,n=>({"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"})[n]);return i.handle+r}function DL(t,e){if(e instanceof Oe.Alias)return Oe.Alias;if(e.tag){let n=t.filter(s=>s.tag===e.tag);if(n.length>0)return n.find(s=>s.format===e.format)||n[0]}let i,r;if(e instanceof Oe.Scalar){r=e.value;let n=t.filter(s=>s.identify&&s.identify(r)||s.class&&r instanceof s.class);i=n.find(s=>s.format===e.format)||n.find(s=>!s.format)}else r=e,i=t.find(n=>n.nodeClass&&r instanceof n.nodeClass);if(!i){let n=r&&r.constructor?r.constructor.name:typeof r;throw new Error(`Tag not resolved for ${n} value`)}return i}function FL(t,e,{anchors:i,doc:r}){let n=[],s=r.anchors.getName(t);return s&&(i[s]=t,n.push(`&${s}`)),t.tag?n.push(mN(r,t.tag)):e.default||n.push(mN(r,e.tag)),n.join(" ")}function xf(t,e,i,r){let{anchors:n,schema:s}=e.doc,a;if(!(t instanceof Oe.Node)){let u={aliasNodes:[],onTagObj:c=>a=c,prevObjects:new Map};t=s.createNode(t,!0,null,u);for(let c of u.aliasNodes){c.source=c.source.node;let f=n.getName(c.source);f||(f=n.newName(),n.map[f]=c.source)}}if(t instanceof Oe.Pair)return t.toString(e,i,r);a||(a=DL(s.tags,t));let o=FL(t,a,e);o.length>0&&(e.indentAtStart=(e.indentAtStart||0)+o.length+1);let l=typeof a.stringify=="function"?a.stringify(t,e,i,r):t instanceof Oe.Scalar?Oe.stringifyString(t,e,i,r):t.toString(e,i,r);return o?t instanceof Oe.Scalar||l[0]==="{"||l[0]==="["?`${o} ${l}`:`${o}
${e.indent}${l}`:l}var Df=class{static validAnchorNode(e){return e instanceof Oe.Scalar||e instanceof Oe.YAMLSeq||e instanceof Oe.YAMLMap}constructor(e){Vi._defineProperty(this,"map",Object.create(null)),this.prefix=e}createAlias(e,i){return this.setAnchor(e,i),new Oe.Alias(e)}createMergePair(...e){let i=new Oe.Merge;return i.value.items=e.map(r=>{if(r instanceof Oe.Alias){if(r.source instanceof Oe.YAMLMap)return r}else if(r instanceof Oe.YAMLMap)return this.createAlias(r);throw new Error("Merge sources must be Map nodes or their Aliases")}),i}getName(e){let{map:i}=this;return Object.keys(i).find(r=>i[r]===e)}getNames(){return Object.keys(this.map)}getNode(e){return this.map[e]}newName(e){e||(e=this.prefix);let i=Object.keys(this.map);for(let r=1;;++r){let n=`${e}${r}`;if(!i.includes(n))return n}}resolveNodes(){let{map:e,_cstAliases:i}=this;Object.keys(e).forEach(r=>{e[r]=e[r].resolved}),i.forEach(r=>{r.source=r.source.resolved}),delete this._cstAliases}setAnchor(e,i){if(e!=null&&!Df.validAnchorNode(e))throw new Error("Anchors may only be set for Scalar, Seq and Map nodes");if(i&&/[\x00-\x19\s,[\]{}]/.test(i))throw new Error("Anchor names must not contain whitespace or control characters");let{map:r}=this,n=e&&Object.keys(r).find(s=>r[s]===e);if(n)if(i)n!==i&&(delete r[n],r[i]=e);else return n;else{if(!i){if(!e)return null;i=this.newName()}r[i]=e}return i}},Ff=(t,e)=>{if(t&&typeof t=="object"){let{tag:i}=t;t instanceof Oe.Collection?(i&&(e[i]=!0),t.items.forEach(r=>Ff(r,e))):t instanceof Oe.Pair?(Ff(t.key,e),Ff(t.value,e)):t instanceof Oe.Scalar&&i&&(e[i]=!0)}return e},OL=t=>Object.keys(Ff(t,{}));function LL(t,e){let i={before:[],after:[]},r,n=!1;for(let s of e)if(s.valueRange){if(r!==void 0){let o="Document contains trailing content not separated by a ... or --- line";t.errors.push(new Vi.YAMLSyntaxError(s,o));break}let a=Oe.resolveNode(t,s);n&&(a.spaceBefore=!0,n=!1),r=a}else s.comment!==null?(r===void 0?i.before:i.after).push(s.comment):s.type===Vi.Type.BLANK_LINE&&(n=!0,r===void 0&&i.before.length>0&&!t.commentBefore&&(t.commentBefore=i.before.join(`
`),i.before=[]));if(t.contents=r||null,!r)t.comment=i.before.concat(i.after).join(`
`)||null;else{let s=i.before.join(`
`);if(s){let a=r instanceof Oe.Collection&&r.items[0]?r.items[0]:r;a.commentBefore=a.commentBefore?`${s}
${a.commentBefore}`:s}t.comment=i.after.join(`
`)||null}}function kL({tagPrefixes:t},e){let[i,r]=e.parameters;if(!i||!r){let n="Insufficient parameters given for %TAG directive";throw new Vi.YAMLSemanticError(e,n)}if(t.some(n=>n.handle===i)){let n="The %TAG directive must only be given at most once per handle in the same document.";throw new Vi.YAMLSemanticError(e,n)}return{handle:i,prefix:r}}function ML(t,e){let[i]=e.parameters;if(e.name==="YAML:1.0"&&(i="1.0"),!i){let r="Insufficient parameters given for %YAML directive";throw new Vi.YAMLSemanticError(e,r)}if(!pN[i]){let n=`Document will be parsed as YAML ${t.version||t.options.version} rather than YAML ${i}`;t.warnings.push(new Vi.YAMLWarning(e,n))}return i}function qL(t,e,i){let r=[],n=!1;for(let s of e){let{comment:a,name:o}=s;switch(o){case"TAG":try{t.tagPrefixes.push(kL(t,s))}catch(l){t.errors.push(l)}n=!0;break;case"YAML":case"YAML:1.0":if(t.version){let l="The %YAML directive must only be given at most once per document.";t.errors.push(new Vi.YAMLSemanticError(s,l))}try{t.version=ML(t,s)}catch(l){t.errors.push(l)}n=!0;break;default:if(o){let l=`YAML only supports %TAG and %YAML directives, and not %${o}`;t.warnings.push(new Vi.YAMLWarning(s,l))}}a&&r.push(a)}if(i&&!n&&(t.version||i.version||t.options.version)==="1.1"){let s=({handle:a,prefix:o})=>({handle:a,prefix:o});t.tagPrefixes=i.tagPrefixes.map(s),t.version=i.version}t.commentBefore=r.join(`
`)||null}function $o(t){if(t instanceof Oe.Collection)return!0;throw new Error("Expected a YAML collection as document contents")}var zo=class{constructor(e){this.anchors=new Df(e.anchorPrefix),this.commentBefore=null,this.comment=null,this.contents=null,this.directivesEndMarker=null,this.errors=[],this.options=e,this.schema=null,this.tagPrefixes=[],this.version=null,this.warnings=[]}add(e){return $o(this.contents),this.contents.add(e)}addIn(e,i){$o(this.contents),this.contents.addIn(e,i)}delete(e){return $o(this.contents),this.contents.delete(e)}deleteIn(e){return Oe.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):($o(this.contents),this.contents.deleteIn(e))}getDefaults(){return zo.defaults[this.version]||zo.defaults[this.options.version]||{}}get(e,i){return this.contents instanceof Oe.Collection?this.contents.get(e,i):void 0}getIn(e,i){return Oe.isEmptyPath(e)?!i&&this.contents instanceof Oe.Scalar?this.contents.value:this.contents:this.contents instanceof Oe.Collection?this.contents.getIn(e,i):void 0}has(e){return this.contents instanceof Oe.Collection?this.contents.has(e):!1}hasIn(e){return Oe.isEmptyPath(e)?this.contents!==void 0:this.contents instanceof Oe.Collection?this.contents.hasIn(e):!1}set(e,i){$o(this.contents),this.contents.set(e,i)}setIn(e,i){Oe.isEmptyPath(e)?this.contents=i:($o(this.contents),this.contents.setIn(e,i))}setSchema(e,i){if(!e&&!i&&this.schema)return;typeof e=="number"&&(e=e.toFixed(1)),e==="1.0"||e==="1.1"||e==="1.2"?(this.version?this.version=e:this.options.version=e,delete this.options.schema):e&&typeof e=="string"&&(this.options.schema=e),Array.isArray(i)&&(this.options.customTags=i);let r=Object.assign({},this.getDefaults(),this.options);this.schema=new dN.Schema(r)}parse(e,i){this.options.keepCstNodes&&(this.cstNode=e),this.options.keepNodeTypes&&(this.type="DOCUMENT");let{directives:r=[],contents:n=[],directivesEndMarker:s,error:a,valueRange:o}=e;if(a&&(a.source||(a.source=this),this.errors.push(a)),qL(this,r,i),s&&(this.directivesEndMarker=!0),this.range=o?[o.start,o.end]:null,this.setSchema(),this.anchors._cstAliases=[],LL(this,n),this.anchors.resolveNodes(),this.options.prettyErrors){for(let l of this.errors)l instanceof Vi.YAMLError&&l.makePretty();for(let l of this.warnings)l instanceof Vi.YAMLError&&l.makePretty()}return this}listNonDefaultTags(){return OL(this.contents).filter(e=>e.indexOf(dN.Schema.defaultPrefix)!==0)}setTagPrefix(e,i){if(e[0]!=="!"||e[e.length-1]!=="!")throw new Error("Handle must start and end with !");if(i){let r=this.tagPrefixes.find(n=>n.handle===e);r?r.prefix=i:this.tagPrefixes.push({handle:e,prefix:i})}else this.tagPrefixes=this.tagPrefixes.filter(r=>r.handle!==e)}toJSON(e,i){let{keepBlobsInJSON:r,mapAsMap:n,maxAliasCount:s}=this.options,a=r&&(typeof e!="string"||!(this.contents instanceof Oe.Scalar)),o={doc:this,indentStep:"  ",keep:a,mapAsMap:a&&!!n,maxAliasCount:s,stringify:xf},l=Object.keys(this.anchors.map);l.length>0&&(o.anchors=new Map(l.map(c=>[this.anchors.map[c],{alias:[],aliasCount:0,count:1}])));let u=Oe.toJSON(this.contents,e,o);if(typeof i=="function"&&o.anchors)for(let{count:c,res:f}of o.anchors.values())i(f,c);return u}toString(){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");let e=this.options.indent;if(!Number.isInteger(e)||e<=0){let l=JSON.stringify(e);throw new Error(`"indent" option must be a positive integer, not ${l}`)}this.setSchema();let i=[],r=!1;if(this.version){let l="%YAML 1.2";this.schema.name==="yaml-1.1"&&(this.version==="1.0"?l="%YAML:1.0":this.version==="1.1"&&(l="%YAML 1.1")),i.push(l),r=!0}let n=this.listNonDefaultTags();this.tagPrefixes.forEach(({handle:l,prefix:u})=>{n.some(c=>c.indexOf(u)===0)&&(i.push(`%TAG ${l} ${u}`),r=!0)}),(r||this.directivesEndMarker)&&i.push("---"),this.commentBefore&&((r||!this.directivesEndMarker)&&i.unshift(""),i.unshift(this.commentBefore.replace(/^/gm,"#")));let s={anchors:Object.create(null),doc:this,indent:"",indentStep:" ".repeat(e),stringify:xf},a=!1,o=null;if(this.contents){this.contents instanceof Oe.Node&&(this.contents.spaceBefore&&(r||this.directivesEndMarker)&&i.push(""),this.contents.commentBefore&&i.push(this.contents.commentBefore.replace(/^/gm,"#")),s.forceBlockIndent=!!this.comment,o=this.contents.comment);let l=o?null:()=>a=!0,u=xf(this.contents,s,()=>o=null,l);i.push(Oe.addComment(u,"",o))}else this.contents!==void 0&&i.push(xf(this.contents,s));return this.comment&&((!a||o)&&i[i.length-1]!==""&&i.push(""),i.push(this.comment.replace(/^/gm,"#"))),i.join(`
`)+`
`}};Vi._defineProperty(zo,"defaults",pN);Of.Document=zo;Of.defaultOptions=wL;Of.scalarOptions=xL});var yN=J(_N=>{"use strict";var Lh=MP(),ba=hN(),VL=wf(),BL=Ss(),jL=Nf();Yo();function UL(t,e=!0,i){i===void 0&&typeof e=="string"&&(i=e,e=!0);let r=Object.assign({},ba.Document.defaults[ba.defaultOptions.version],ba.defaultOptions);return new VL.Schema(r).createNode(t,e,i)}var eu=class extends ba.Document{constructor(e){super(Object.assign({},ba.defaultOptions,e))}};function GL(t,e){let i=[],r;for(let n of Lh.parse(t)){let s=new eu(e);s.parse(n,r),i.push(s),r=s}return i}function gN(t,e){let i=Lh.parse(t),r=new eu(e).parse(i[0]);if(i.length>1){let n="Source contains multiple documents; please use YAML.parseAllDocuments()";r.errors.unshift(new BL.YAMLSemanticError(i[1],n))}return r}function WL(t,e){let i=gN(t,e);if(i.warnings.forEach(r=>jL.warn(r)),i.errors.length>0)throw i.errors[0];return i.toJSON()}function HL(t,e){let i=new eu(e);return i.contents=t,String(i)}var YL={createNode:UL,defaultOptions:ba.defaultOptions,Document:eu,parse:WL,parseAllDocuments:GL,parseCST:Lh.parse,parseDocument:gN,scalarOptions:ba.scalarOptions,stringify:HL};_N.YAML=YL});var cn=J((lte,TN)=>{TN.exports=yN().YAML});var bN=J(Bi=>{"use strict";var cr=Yo(),KL=wf();Ss();Nf();Bi.Alias=cr.Alias;Bi.Collection=cr.Collection;Bi.Merge=cr.Merge;Bi.Node=cr.Node;Bi.Pair=cr.Pair;Bi.Scalar=cr.Scalar;Bi.YAMLMap=cr.YAMLMap;Bi.YAMLSeq=cr.YAMLSeq;Bi.binaryOptions=cr.binaryOptions;Bi.boolOptions=cr.boolOptions;Bi.intOptions=cr.intOptions;Bi.nullOptions=cr.nullOptions;Bi.strOptions=cr.strOptions;Bi.Schema=KL.Schema});var Pg=J((ke,oR)=>{ke=oR.exports=ze;var ut;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?ut=function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:ut=function(){};ke.SEMVER_SPEC_VERSION="2.0.0";var ag=256,Wf=Number.MAX_SAFE_INTEGER||9007199254740991,og=16,ht=ke.re=[],Q=ke.src=[],$e=0,nl=$e++;Q[nl]="0|[1-9]\\d*";var sl=$e++;Q[sl]="[0-9]+";var lg=$e++;Q[lg]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var YS=$e++;Q[YS]="("+Q[nl]+")\\.("+Q[nl]+")\\.("+Q[nl]+")";var KS=$e++;Q[KS]="("+Q[sl]+")\\.("+Q[sl]+")\\.("+Q[sl]+")";var ug=$e++;Q[ug]="(?:"+Q[nl]+"|"+Q[lg]+")";var cg=$e++;Q[cg]="(?:"+Q[sl]+"|"+Q[lg]+")";var fg=$e++;Q[fg]="(?:-("+Q[ug]+"(?:\\."+Q[ug]+")*))";var dg=$e++;Q[dg]="(?:-?("+Q[cg]+"(?:\\."+Q[cg]+")*))";var pg=$e++;Q[pg]="[0-9A-Za-z-]+";var du=$e++;Q[du]="(?:\\+("+Q[pg]+"(?:\\."+Q[pg]+")*))";var mg=$e++,$S="v?"+Q[YS]+Q[fg]+"?"+Q[du]+"?";Q[mg]="^"+$S+"$";var hg="[v=\\s]*"+Q[KS]+Q[dg]+"?"+Q[du]+"?",gg=$e++;Q[gg]="^"+hg+"$";var al=$e++;Q[al]="((?:<|>)?=?)";var Hf=$e++;Q[Hf]=Q[sl]+"|x|X|\\*";var Yf=$e++;Q[Yf]=Q[nl]+"|x|X|\\*";var Aa=$e++;Q[Aa]="[v=\\s]*("+Q[Yf]+")(?:\\.("+Q[Yf]+")(?:\\.("+Q[Yf]+")(?:"+Q[fg]+")?"+Q[du]+"?)?)?";var ol=$e++;Q[ol]="[v=\\s]*("+Q[Hf]+")(?:\\.("+Q[Hf]+")(?:\\.("+Q[Hf]+")(?:"+Q[dg]+")?"+Q[du]+"?)?)?";var zS=$e++;Q[zS]="^"+Q[al]+"\\s*"+Q[Aa]+"$";var XS=$e++;Q[XS]="^"+Q[al]+"\\s*"+Q[ol]+"$";var QS=$e++;Q[QS]="(?:^|[^\\d])(\\d{1,"+og+"})(?:\\.(\\d{1,"+og+"}))?(?:\\.(\\d{1,"+og+"}))?(?:$|[^\\d])";var Kf=$e++;Q[Kf]="(?:~>?)";var $f=$e++;Q[$f]="(\\s*)"+Q[Kf]+"\\s+";ht[$f]=new RegExp(Q[$f],"g");var G1="$1~",JS=$e++;Q[JS]="^"+Q[Kf]+Q[Aa]+"$";var ZS=$e++;Q[ZS]="^"+Q[Kf]+Q[ol]+"$";var zf=$e++;Q[zf]="(?:\\^)";var Xf=$e++;Q[Xf]="(\\s*)"+Q[zf]+"\\s+";ht[Xf]=new RegExp(Q[Xf],"g");var W1="$1^",eR=$e++;Q[eR]="^"+Q[zf]+Q[Aa]+"$";var tR=$e++;Q[tR]="^"+Q[zf]+Q[ol]+"$";var _g=$e++;Q[_g]="^"+Q[al]+"\\s*("+hg+")$|^$";var yg=$e++;Q[yg]="^"+Q[al]+"\\s*("+$S+")$|^$";var pu=$e++;Q[pu]="(\\s*)"+Q[al]+"\\s*("+hg+"|"+Q[Aa]+")";ht[pu]=new RegExp(Q[pu],"g");var H1="$1$2$3",iR=$e++;Q[iR]="^\\s*("+Q[Aa]+")\\s+-\\s+("+Q[Aa]+")\\s*$";var rR=$e++;Q[rR]="^\\s*("+Q[ol]+")\\s+-\\s+("+Q[ol]+")\\s*$";var nR=$e++;Q[nR]="(<|>)?=?\\s*\\*";for(Ds=0;Ds<$e;Ds++)ut(Ds,Q[Ds]),ht[Ds]||(ht[Ds]=new RegExp(Q[Ds]));var Ds;ke.parse=Ea;function Ea(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof ze)return t;if(typeof t!="string"||t.length>ag)return null;var i=e.loose?ht[gg]:ht[mg];if(!i.test(t))return null;try{return new ze(t,e)}catch{return null}}ke.valid=Y1;function Y1(t,e){var i=Ea(t,e);return i?i.version:null}ke.clean=K1;function K1(t,e){var i=Ea(t.trim().replace(/^[=v]+/,""),e);return i?i.version:null}ke.SemVer=ze;function ze(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof ze){if(t.loose===e.loose)return t;t=t.version}else if(typeof t!="string")throw new TypeError("Invalid Version: "+t);if(t.length>ag)throw new TypeError("version is longer than "+ag+" characters");if(!(this instanceof ze))return new ze(t,e);ut("SemVer",t,e),this.options=e,this.loose=!!e.loose;var i=t.trim().match(e.loose?ht[gg]:ht[mg]);if(!i)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>Wf||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Wf||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Wf||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(function(r){if(/^[0-9]+$/.test(r)){var n=+r;if(n>=0&&n<Wf)return n}return r}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}ze.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};ze.prototype.toString=function(){return this.version};ze.prototype.compare=function(t){return ut("SemVer.compare",this.version,this.options,t),t instanceof ze||(t=new ze(t,this.options)),this.compareMain(t)||this.comparePre(t)};ze.prototype.compareMain=function(t){return t instanceof ze||(t=new ze(t,this.options)),ll(this.major,t.major)||ll(this.minor,t.minor)||ll(this.patch,t.patch)};ze.prototype.comparePre=function(t){if(t instanceof ze||(t=new ze(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var i=this.prerelease[e],r=t.prerelease[e];if(ut("prerelease compare",e,i,r),i===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(i===void 0)return-1;if(i===r)continue;return ll(i,r)}while(++e)};ze.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e),this.inc("pre",e);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var i=this.prerelease.length;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);i===-1&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this};ke.inc=$1;function $1(t,e,i,r){typeof i=="string"&&(r=i,i=void 0);try{return new ze(t,i).inc(e,r).version}catch{return null}}ke.diff=z1;function z1(t,e){if(Tg(t,e))return null;var i=Ea(t),r=Ea(e),n="";if(i.prerelease.length||r.prerelease.length){n="pre";var s="prerelease"}for(var a in i)if((a==="major"||a==="minor"||a==="patch")&&i[a]!==r[a])return n+a;return s}ke.compareIdentifiers=ll;var sR=/^[0-9]+$/;function ll(t,e){var i=sR.test(t),r=sR.test(e);return i&&r&&(t=+t,e=+e),t===e?0:i&&!r?-1:r&&!i?1:t<e?-1:1}ke.rcompareIdentifiers=X1;function X1(t,e){return ll(e,t)}ke.major=Q1;function Q1(t,e){return new ze(t,e).major}ke.minor=J1;function J1(t,e){return new ze(t,e).minor}ke.patch=Z1;function Z1(t,e){return new ze(t,e).patch}ke.compare=Jn;function Jn(t,e,i){return new ze(t,i).compare(new ze(e,i))}ke.compareLoose=eq;function eq(t,e){return Jn(t,e,!0)}ke.rcompare=tq;function tq(t,e,i){return Jn(e,t,i)}ke.sort=iq;function iq(t,e){return t.sort(function(i,r){return ke.compare(i,r,e)})}ke.rsort=rq;function rq(t,e){return t.sort(function(i,r){return ke.rcompare(i,r,e)})}ke.gt=mu;function mu(t,e,i){return Jn(t,e,i)>0}ke.lt=Qf;function Qf(t,e,i){return Jn(t,e,i)<0}ke.eq=Tg;function Tg(t,e,i){return Jn(t,e,i)===0}ke.neq=aR;function aR(t,e,i){return Jn(t,e,i)!==0}ke.gte=bg;function bg(t,e,i){return Jn(t,e,i)>=0}ke.lte=vg;function vg(t,e,i){return Jn(t,e,i)<=0}ke.cmp=Jf;function Jf(t,e,i,r){switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof i=="object"&&(i=i.version),t===i;case"!==":return typeof t=="object"&&(t=t.version),typeof i=="object"&&(i=i.version),t!==i;case"":case"=":case"==":return Tg(t,i,r);case"!=":return aR(t,i,r);case">":return mu(t,i,r);case">=":return bg(t,i,r);case"<":return Qf(t,i,r);case"<=":return vg(t,i,r);default:throw new TypeError("Invalid operator: "+e)}}ke.Comparator=wr;function wr(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof wr){if(t.loose===!!e.loose)return t;t=t.value}if(!(this instanceof wr))return new wr(t,e);ut("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===hu?this.value="":this.value=this.operator+this.semver.version,ut("comp",this)}var hu={};wr.prototype.parse=function(t){var e=this.options.loose?ht[_g]:ht[yg],i=t.match(e);if(!i)throw new TypeError("Invalid comparator: "+t);this.operator=i[1],this.operator==="="&&(this.operator=""),i[2]?this.semver=new ze(i[2],this.options.loose):this.semver=hu};wr.prototype.toString=function(){return this.value};wr.prototype.test=function(t){return ut("Comparator.test",t,this.options.loose),this.semver===hu?!0:(typeof t=="string"&&(t=new ze(t,this.options)),Jf(t,this.operator,this.semver,this.options))};wr.prototype.intersects=function(t,e){if(!(t instanceof wr))throw new TypeError("a Comparator is required");(!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1});var i;if(this.operator==="")return i=new Et(t.value,e),Zf(this.value,i,e);if(t.operator==="")return i=new Et(this.value,e),Zf(t.semver,i,e);var r=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">"),n=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<"),s=this.semver.version===t.semver.version,a=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<="),o=Jf(this.semver,"<",t.semver,e)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"),l=Jf(this.semver,">",t.semver,e)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return r||n||s&&a||o||l};ke.Range=Et;function Et(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof Et)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new Et(t.raw,e);if(t instanceof wr)return new Et(t.value,e);if(!(this instanceof Et))return new Et(t,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(function(i){return this.parseRange(i.trim())},this).filter(function(i){return i.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}Et.prototype.format=function(){return this.range=this.set.map(function(t){return t.join(" ").trim()}).join("||").trim(),this.range};Et.prototype.toString=function(){return this.range};Et.prototype.parseRange=function(t){var e=this.options.loose;t=t.trim();var i=e?ht[rR]:ht[iR];t=t.replace(i,pq),ut("hyphen replace",t),t=t.replace(ht[pu],H1),ut("comparator trim",t,ht[pu]),t=t.replace(ht[$f],G1),t=t.replace(ht[Xf],W1),t=t.split(/\s+/).join(" ");var r=e?ht[_g]:ht[yg],n=t.split(" ").map(function(s){return sq(s,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(n=n.filter(function(s){return!!s.match(r)})),n=n.map(function(s){return new wr(s,this.options)},this),n};Et.prototype.intersects=function(t,e){if(!(t instanceof Et))throw new TypeError("a Range is required");return this.set.some(function(i){return i.every(function(r){return t.set.some(function(n){return n.every(function(s){return r.intersects(s,e)})})})})};ke.toComparators=nq;function nq(t,e){return new Et(t,e).set.map(function(i){return i.map(function(r){return r.value}).join(" ").trim().split(" ")})}function sq(t,e){return ut("comp",t,e),t=lq(t,e),ut("caret",t),t=aq(t,e),ut("tildes",t),t=cq(t,e),ut("xrange",t),t=dq(t,e),ut("stars",t),t}function Gi(t){return!t||t.toLowerCase()==="x"||t==="*"}function aq(t,e){return t.trim().split(/\s+/).map(function(i){return oq(i,e)}).join(" ")}function oq(t,e){var i=e.loose?ht[ZS]:ht[JS];return t.replace(i,function(r,n,s,a,o){ut("tilde",t,r,n,s,a,o);var l;return Gi(n)?l="":Gi(s)?l=">="+n+".0.0 <"+(+n+1)+".0.0":Gi(a)?l=">="+n+"."+s+".0 <"+n+"."+(+s+1)+".0":o?(ut("replaceTilde pr",o),l=">="+n+"."+s+"."+a+"-"+o+" <"+n+"."+(+s+1)+".0"):l=">="+n+"."+s+"."+a+" <"+n+"."+(+s+1)+".0",ut("tilde return",l),l})}function lq(t,e){return t.trim().split(/\s+/).map(function(i){return uq(i,e)}).join(" ")}function uq(t,e){ut("caret",t,e);var i=e.loose?ht[tR]:ht[eR];return t.replace(i,function(r,n,s,a,o){ut("caret",t,r,n,s,a,o);var l;return Gi(n)?l="":Gi(s)?l=">="+n+".0.0 <"+(+n+1)+".0.0":Gi(a)?n==="0"?l=">="+n+"."+s+".0 <"+n+"."+(+s+1)+".0":l=">="+n+"."+s+".0 <"+(+n+1)+".0.0":o?(ut("replaceCaret pr",o),n==="0"?s==="0"?l=">="+n+"."+s+"."+a+"-"+o+" <"+n+"."+s+"."+(+a+1):l=">="+n+"."+s+"."+a+"-"+o+" <"+n+"."+(+s+1)+".0":l=">="+n+"."+s+"."+a+"-"+o+" <"+(+n+1)+".0.0"):(ut("no pr"),n==="0"?s==="0"?l=">="+n+"."+s+"."+a+" <"+n+"."+s+"."+(+a+1):l=">="+n+"."+s+"."+a+" <"+n+"."+(+s+1)+".0":l=">="+n+"."+s+"."+a+" <"+(+n+1)+".0.0"),ut("caret return",l),l})}function cq(t,e){return ut("replaceXRanges",t,e),t.split(/\s+/).map(function(i){return fq(i,e)}).join(" ")}function fq(t,e){t=t.trim();var i=e.loose?ht[XS]:ht[zS];return t.replace(i,function(r,n,s,a,o,l){ut("xRange",t,r,n,s,a,o,l);var u=Gi(s),c=u||Gi(a),f=c||Gi(o),d=f;return n==="="&&d&&(n=""),u?n===">"||n==="<"?r="<0.0.0":r="*":n&&d?(c&&(a=0),o=0,n===">"?(n=">=",c?(s=+s+1,a=0,o=0):(a=+a+1,o=0)):n==="<="&&(n="<",c?s=+s+1:a=+a+1),r=n+s+"."+a+"."+o):c?r=">="+s+".0.0 <"+(+s+1)+".0.0":f&&(r=">="+s+"."+a+".0 <"+s+"."+(+a+1)+".0"),ut("xRange return",r),r})}function dq(t,e){return ut("replaceStars",t,e),t.trim().replace(ht[nR],"")}function pq(t,e,i,r,n,s,a,o,l,u,c,f,d){return Gi(i)?e="":Gi(r)?e=">="+i+".0.0":Gi(n)?e=">="+i+"."+r+".0":e=">="+e,Gi(l)?o="":Gi(u)?o="<"+(+l+1)+".0.0":Gi(c)?o="<"+l+"."+(+u+1)+".0":f?o="<="+l+"."+u+"."+c+"-"+f:o="<="+o,(e+" "+o).trim()}Et.prototype.test=function(t){if(!t)return!1;typeof t=="string"&&(t=new ze(t,this.options));for(var e=0;e<this.set.length;e++)if(mq(this.set[e],t,this.options))return!0;return!1};function mq(t,e,i){for(var r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!i.includePrerelease){for(r=0;r<t.length;r++)if(ut(t[r].semver),t[r].semver!==hu&&t[r].semver.prerelease.length>0){var n=t[r].semver;if(n.major===e.major&&n.minor===e.minor&&n.patch===e.patch)return!0}return!1}return!0}ke.satisfies=Zf;function Zf(t,e,i){try{e=new Et(e,i)}catch{return!1}return e.test(t)}ke.maxSatisfying=hq;function hq(t,e,i){var r=null,n=null;try{var s=new Et(e,i)}catch{return null}return t.forEach(function(a){s.test(a)&&(!r||n.compare(a)===-1)&&(r=a,n=new ze(r,i))}),r}ke.minSatisfying=gq;function gq(t,e,i){var r=null,n=null;try{var s=new Et(e,i)}catch{return null}return t.forEach(function(a){s.test(a)&&(!r||n.compare(a)===1)&&(r=a,n=new ze(r,i))}),r}ke.minVersion=_q;function _q(t,e){t=new Et(t,e);var i=new ze("0.0.0");if(t.test(i)||(i=new ze("0.0.0-0"),t.test(i)))return i;i=null;for(var r=0;r<t.set.length;++r){var n=t.set[r];n.forEach(function(s){var a=new ze(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||mu(i,a))&&(i=a);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+s.operator)}})}return i&&t.test(i)?i:null}ke.validRange=yq;function yq(t,e){try{return new Et(t,e).range||"*"}catch{return null}}ke.ltr=Tq;function Tq(t,e,i){return Ig(t,e,"<",i)}ke.gtr=bq;function bq(t,e,i){return Ig(t,e,">",i)}ke.outside=Ig;function Ig(t,e,i,r){t=new ze(t,r),e=new Et(e,r);var n,s,a,o,l;switch(i){case">":n=mu,s=vg,a=Qf,o=">",l=">=";break;case"<":n=Qf,s=bg,a=mu,o="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Zf(t,e,r))return!1;for(var u=0;u<e.set.length;++u){var c=e.set[u],f=null,d=null;if(c.forEach(function(p){p.semver===hu&&(p=new wr(">=0.0.0")),f=f||p,d=d||p,n(p.semver,f.semver,r)?f=p:a(p.semver,d.semver,r)&&(d=p)}),f.operator===o||f.operator===l||(!d.operator||d.operator===o)&&s(t,d.semver))return!1;if(d.operator===l&&a(t,d.semver))return!1}return!0}ke.prerelease=vq;function vq(t,e){var i=Ea(t,e);return i&&i.prerelease.length?i.prerelease:null}ke.intersects=Iq;function Iq(t,e,i){return t=new Et(t,i),e=new Et(e,i),t.intersects(e)}ke.coerce=Pq;function Pq(t){if(t instanceof ze)return t;if(typeof t!="string")return null;var e=t.match(ht[QS]);return e==null?null:Ea(e[1]+"."+(e[2]||"0")+"."+(e[3]||"0"))}});var Ng=J((Nse,dR)=>{"use strict";var ed=require("path");function Cq(t){if(typeof t!="string"||t.length<=7||t.substring(0,7)!=="file://")throw new TypeError("must pass in a file:// URI to convert to a file path");let e=decodeURI(t.substring(7)),i=e.indexOf("/"),r=e.substring(0,i),n=e.substring(i+1);return r==="localhost"&&(r=""),r&&(r=ed.sep+ed.sep+r),n=n.replace(/^(.+)\|/,"$1:"),ed.sep==="\\"&&(n=n.replace(/\//g,"\\")),/^.+:/.test(n)||(n=ed.sep+n),r+n}dR.exports=Cq});var nd=J((Aae,CR)=>{"use strict";function ui(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}ui.prototype.clone_empty=function(){var t=new ui(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t};ui.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]};ui.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1};ui.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))};ui.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)};ui.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count};ui.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,t.__items[0]===" "&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1};ui.prototype.is_empty=function(){return this.__items.length===0};ui.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]};ui.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf(`
`);e!==-1?this.__character_count=t.length-e:this.__character_count+=t.length};ui.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t};ui.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)};ui.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)};ui.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1};ui.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t};function yu(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}yu.prototype.get_indent_size=function(t,e){var i=this.__base_string_length;return e=e||0,t<0&&(i=0),i+=t*this.__indent_size,i+=e,i};yu.prototype.get_indent_string=function(t,e){var i=this.__base_string;return e=e||0,t<0&&(t=0,i=""),e+=t*this.__indent_size,this.__ensure_cache(e),i+=this.__cache[e],i};yu.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column()};yu.prototype.__add_column=function(){var t=this.__cache.length,e=0,i="";this.__indent_size&&t>=this.__indent_size&&(e=Math.floor(t/this.__indent_size),t-=e*this.__indent_size,i=new Array(e+1).join(this.__indent_string)),t&&(i+=new Array(t+1).join(" ")),this.__cache.push(i)};function ci(t,e){this.__indent_cache=new yu(t,e),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new ui(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}ci.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)};ci.prototype.get_line_number=function(){return this.__lines.length};ci.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)};ci.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)};ci.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()};ci.prototype.add_new_line=function(t){return this.is_empty()||!t&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)};ci.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&(e[e.length-1]===`
`&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var i=this.__lines.join(`
`);return t!==`
`&&(i=i.replace(/[\n]/g,t)),i};ci.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()};ci.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)};ci.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1};ci.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()};ci.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))};ci.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()};ci.prototype.trim=function(t){for(t=t===void 0?!1:t,this.current_line.trim();t&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null};ci.prototype.just_added_newline=function(){return this.current_line.is_empty()};ci.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()};ci.prototype.ensure_empty_line_above=function(t,e){for(var i=this.__lines.length-2;i>=0;){var r=this.__lines[i];if(r.is_empty())break;if(r.item(0).indexOf(t)!==0&&r.item(-1)!==e){this.__lines.splice(i+1,0,new ui(this)),this.previous_line=this.__lines[this.__lines.length-2];break}i--}};CR.exports.Output=ci});var Og=J((Eae,AR)=>{"use strict";function wq(t,e,i,r){this.type=t,this.text=e,this.comments_before=null,this.newlines=i||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}AR.exports.Token=wq});var kg=J(es=>{"use strict";var xq="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",ER="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",Lg="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",wR="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",xR="(?:\\\\u[0-9a-fA-F]{4}|["+xq+Lg+"])",Dq="(?:\\\\u[0-9a-fA-F]{4}|["+ER+Lg+wR+"])*";es.identifier=new RegExp(xR+Dq,"g");es.identifierStart=new RegExp(xR);es.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+ER+Lg+wR+"])+");es.newline=/[\n\r\u2028\u2029]/;es.lineBreak=new RegExp(`\r
|`+es.newline.source);es.allLineBreaks=new RegExp(es.lineBreak.source,"g")});var ad=J((xae,sd)=>{"use strict";function Os(t,e){this.raw_options=DR(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}Os.prototype._get_array=function(t,e){var i=this.raw_options[t],r=e||[];return typeof i=="object"?i!==null&&typeof i.concat=="function"&&(r=i.concat()):typeof i=="string"&&(r=i.split(/[^a-zA-Z0-9_\/\-]+/)),r};Os.prototype._get_boolean=function(t,e){var i=this.raw_options[t],r=i===void 0?!!e:!!i;return r};Os.prototype._get_characters=function(t,e){var i=this.raw_options[t],r=e||"";return typeof i=="string"&&(r=i.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),r};Os.prototype._get_number=function(t,e){var i=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var r=parseInt(i,10);return isNaN(r)&&(r=e),r};Os.prototype._get_selection=function(t,e,i){var r=this._get_selection_list(t,e,i);if(r.length!==1)throw new Error("Invalid Option Value: The option '"+t+`' can only be one of the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return r[0]};Os.prototype._get_selection_list=function(t,e,i){if(!e||e.length===0)throw new Error("Selection list cannot be empty.");if(i=i||[e[0]],!this._is_valid_selection(i,e))throw new Error("Invalid Default Value!");var r=this._get_array(t,i);if(!this._is_valid_selection(r,e))throw new Error("Invalid Option Value: The option '"+t+`' can contain only the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return r};Os.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some(function(i){return e.indexOf(i)===-1})};function DR(t,e){var i={};t=FR(t);var r;for(r in t)r!==e&&(i[r]=t[r]);if(e&&t[e])for(r in t[e])i[r]=t[e][r];return i}function FR(t){var e={},i;for(i in t){var r=i.replace(/-/g,"_");e[r]=t[i]}return e}sd.exports.Options=Os;sd.exports.normalizeOpts=FR;sd.exports.mergeOpts=DR});var Mg=J((Dae,kR)=>{"use strict";var OR=ad().Options,Fq=["before-newline","after-newline","preserve-newline"];function LR(t){OR.call(this,t,"js");var e=this.raw_options.brace_style||null;e==="expand-strict"?this.raw_options.brace_style="expand":e==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var i=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var r=0;r<i.length;r++)i[r]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=i[r];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",Fq),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}LR.prototype=new OR;kR.exports.Options=LR});var od=J((Fae,qR)=>{"use strict";var MR=RegExp.prototype.hasOwnProperty("sticky");function yi(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}yi.prototype.restart=function(){this.__position=0};yi.prototype.back=function(){this.__position>0&&(this.__position-=1)};yi.prototype.hasNext=function(){return this.__position<this.__input_length};yi.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t};yi.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e};yi.prototype.__match=function(t,e){t.lastIndex=e;var i=t.exec(this.__input);return i&&!(MR&&t.sticky)&&i.index!==e&&(i=null),i};yi.prototype.test=function(t,e){return e=e||0,e+=this.__position,e>=0&&e<this.__input_length?!!this.__match(t,e):!1};yi.prototype.testChar=function(t,e){var i=this.peek(e);return t.lastIndex=0,i!==null&&t.test(i)};yi.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e};yi.prototype.read=function(t,e,i){var r="",n;return t&&(n=this.match(t),n&&(r+=n[0])),e&&(n||!t)&&(r+=this.readUntil(e,i)),r};yi.prototype.readUntil=function(t,e){var i="",r=this.__position;t.lastIndex=this.__position;var n=t.exec(this.__input);return n?(r=n.index,e&&(r+=n[0].length)):r=this.__input_length,i=this.__input.substring(this.__position,r),this.__position=r,i};yi.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)};yi.prototype.get_regexp=function(t,e){var i=null,r="g";return e&&MR&&(r="y"),typeof t=="string"&&t!==""?i=new RegExp(t,r):t&&(i=new RegExp(t.source,r)),i};yi.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))};yi.prototype.peekUntilAfter=function(t){var e=this.__position,i=this.readUntilAfter(t);return this.__position=e,i};yi.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t};qR.exports.InputScanner=yi});var BR=J((Oae,VR)=>{"use strict";function wa(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}wa.prototype.restart=function(){this.__position=0};wa.prototype.isEmpty=function(){return this.__tokens_length===0};wa.prototype.hasNext=function(){return this.__position<this.__tokens_length};wa.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t};wa.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__tokens_length&&(e=this.__tokens[t]),e};wa.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1};VR.exports.TokenStream=wa});var Tu=J((Lae,jR)=>{"use strict";function En(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after)}En.prototype.read=function(){var t=this._input.read(this._starting_pattern);return(!this._starting_pattern||t)&&(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t};En.prototype.read_match=function(){return this._input.match(this._match_pattern)};En.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e};En.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e};En.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e};En.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e};En.prototype._create=function(){return new En(this._input,this)};En.prototype._update=function(){};jR.exports.Pattern=En});var WR=J((kae,GR)=>{"use strict";var UR=Tu().Pattern;function Ls(t,e){UR.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}Ls.prototype=new UR;Ls.prototype.__set_whitespace_patterns=function(t,e){t+="\\t ",e+="\\n\\r",this._match_pattern=this._input.get_regexp("["+t+e+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]")};Ls.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(t===" ")this.whitespace_before_token=" ";else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1,this.whitespace_before_token=e[this.newline_count]}return t};Ls.prototype.matching=function(t,e){var i=this._create();return i.__set_whitespace_patterns(t,e),i._update(),i};Ls.prototype._create=function(){return new Ls(this._input,this)};Ls.prototype.__split=function(t,e){t.lastIndex=0;for(var i=0,r=[],n=t.exec(e);n;)r.push(e.substring(i,n.index)),i=n.index+n[0].length,n=t.exec(e);return i<e.length?r.push(e.substring(i,e.length)):r.push(""),r};GR.exports.WhitespacePattern=Ls});var vu=J((Mae,Vg)=>{"use strict";var Oq=od().InputScanner,HR=Og().Token,qg=BR().TokenStream,Lq=WR().WhitespacePattern,bu={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},wn=function(t,e){this._input=new Oq(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new Lq(this._input)};wn.prototype.tokenize=function(){this._input.restart(),this.__tokens=new qg,this._reset();for(var t,e=new HR(bu.START,""),i=null,r=[],n=new qg;e.type!==bu.EOF;){for(t=this._get_next_token(e,i);this._is_comment(t);)n.add(t),t=this._get_next_token(e,i);n.isEmpty()||(t.comments_before=n,n=new qg),t.parent=i,this._is_opening(t)?(r.push(i),i=t):i&&this._is_closing(t,i)&&(t.opened=i,i.closed=t,i=r.pop(),t.parent=i),t.previous=e,e.next=t,this.__tokens.add(t),e=t}return this.__tokens};wn.prototype._is_first_token=function(){return this.__tokens.isEmpty()};wn.prototype._reset=function(){};wn.prototype._get_next_token=function(t,e){this._readWhitespace();var i=this._input.read(/.+/g);return i?this._create_token(bu.RAW,i):this._create_token(bu.EOF,"")};wn.prototype._is_comment=function(t){return!1};wn.prototype._is_opening=function(t){return!1};wn.prototype._is_closing=function(t,e){return!1};wn.prototype._create_token=function(t,e){var i=new HR(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return i};wn.prototype._readWhitespace=function(){return this._patterns.whitespace.read()};Vg.exports.Tokenizer=wn;Vg.exports.TOKEN=bu});var ld=J((qae,YR)=>{"use strict";function Bg(t,e){t=typeof t=="string"?t:t.source,e=typeof e=="string"?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}Bg.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var i=this.__directive_pattern.exec(t);i;)e[i[1]]=i[2],i=this.__directive_pattern.exec(t);return e};Bg.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)};YR.exports.Directives=Bg});var Gg=J((Vae,KR)=>{"use strict";var jg=Tu().Pattern,Ug={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function dn(t,e){jg.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},Ug),this._excluded=Object.assign({},Ug),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var i=new jg(t);this.__patterns={handlebars_comment:i.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:i.starting_with(/{{{/).until_after(/}}}/),handlebars:i.starting_with(/{{/).until_after(/}}/),php:i.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:i.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:i.starting_with(/{%/).until_after(/%}/),django_value:i.starting_with(/{{/).until_after(/}}/),django_comment:i.starting_with(/{#/).until_after(/#}/),smarty:i.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:i.starting_with(/{\*/).until_after(/\*}/),smarty_literal:i.starting_with(/{literal}/).until_after(/{\/literal}/)}}dn.prototype=new jg;dn.prototype._create=function(){return new dn(this._input,this)};dn.prototype._update=function(){this.__set_templated_pattern()};dn.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e};dn.prototype.read_options=function(t){var e=this._create();for(var i in Ug)e._disabled[i]=t.templating.indexOf(i)===-1;return e._update(),e};dn.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e};dn.prototype.read=function(){var t="";this._match_pattern?t=this._input.read(this._starting_pattern):t=this._input.read(this._starting_pattern,this.__template_pattern);for(var e=this._read_template();e;)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t};dn.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||t.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")};dn.prototype._read_template=function(){var t="",e=this._input.peek();if(e==="<"){var i=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&i==="?"&&(t=t||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&i==="%"&&(t=t||this.__patterns.erb.read())}else e==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(t=t||this.__patterns.handlebars_comment.read(),t=t||this.__patterns.handlebars_unescaped.read(),t=t||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(t=t||this.__patterns.django_value.read()),this._excluded.django||(t=t||this.__patterns.django_comment.read(),t=t||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(t=t||this.__patterns.smarty_comment.read(),t=t||this.__patterns.smarty_literal.read(),t=t||this.__patterns.smarty.read()));return t};KR.exports.TemplatablePattern=dn});var Pu=J((Bae,Iu)=>{"use strict";var kq=od().InputScanner,$R=vu().Tokenizer,Wg=vu().TOKEN,Mq=ld().Directives,xr=kg(),qq=Tu().Pattern,Vq=Gg().TemplatablePattern;function Hg(t,e){return e.indexOf(t)!==-1}var Re={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:Wg.START,RAW:Wg.RAW,EOF:Wg.EOF},zR=new Mq(/\/\*/,/\*\//),Bq=/0[xX][0123456789abcdefABCDEF]*|0[oO][01234567]*|0[bB][01]*|\d+n|(?:\.\d+|\d+\.?\d*)(?:[eE][+-]?\d+)?/,jq=/[0-9]/,Uq=/[^\d\.]/,Gq=">>> === !== << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),xa=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";xa=xa.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");xa="\\?\\.(?!\\d) "+xa;xa=xa.replace(/ /g,"|");var Wq=new RegExp(xa),XR="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),Hq=XR.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),Yq=new RegExp("^(?:"+Hq.join("|")+")$"),ud,Ti=function(t,e){$R.call(this,t,e),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var i=new qq(this._input),r=new Vq(this._input).read_options(this._options);this.__patterns={template:r,identifier:r.starting_with(xr.identifier).matching(xr.identifierMatch),number:i.matching(Bq),punct:i.matching(Wq),comment:i.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:i.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:i.matching(/<!--/),html_comment_end:i.matching(/-->/),include:i.starting_with(/#include/).until_after(xr.lineBreak),shebang:i.starting_with(/#!/).until_after(xr.lineBreak),xml:i.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\]|)(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:r.until(/['\\\n\r\u2028\u2029]/),double_quote:r.until(/["\\\n\r\u2028\u2029]/),template_text:r.until(/[`\\$]/),template_expression:r.until(/[`}\\]/)}};Ti.prototype=new $R;Ti.prototype._is_comment=function(t){return t.type===Re.COMMENT||t.type===Re.BLOCK_COMMENT||t.type===Re.UNKNOWN};Ti.prototype._is_opening=function(t){return t.type===Re.START_BLOCK||t.type===Re.START_EXPR};Ti.prototype._is_closing=function(t,e){return(t.type===Re.END_BLOCK||t.type===Re.END_EXPR)&&e&&(t.text==="]"&&e.text==="["||t.text===")"&&e.text==="("||t.text==="}"&&e.text==="{")};Ti.prototype._reset=function(){ud=!1};Ti.prototype._get_next_token=function(t,e){var i=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(Re.EOF,""):(i=i||this._read_non_javascript(r),i=i||this._read_string(r),i=i||this._read_word(t),i=i||this._read_singles(r),i=i||this._read_comment(r),i=i||this._read_regexp(r,t),i=i||this._read_xml(r,t),i=i||this._read_punctuation(),i=i||this._create_token(Re.UNKNOWN,this._input.next()),i)};Ti.prototype._read_word=function(t){var e;if(e=this.__patterns.identifier.read(),e!=="")return e=e.replace(xr.allLineBreaks,`
`),!(t.type===Re.DOT||t.type===Re.RESERVED&&(t.text==="set"||t.text==="get"))&&Yq.test(e)?e==="in"||e==="of"?this._create_token(Re.OPERATOR,e):this._create_token(Re.RESERVED,e):this._create_token(Re.WORD,e);if(e=this.__patterns.number.read(),e!=="")return this._create_token(Re.WORD,e)};Ti.prototype._read_singles=function(t){var e=null;return t==="("||t==="["?e=this._create_token(Re.START_EXPR,t):t===")"||t==="]"?e=this._create_token(Re.END_EXPR,t):t==="{"?e=this._create_token(Re.START_BLOCK,t):t==="}"?e=this._create_token(Re.END_BLOCK,t):t===";"?e=this._create_token(Re.SEMICOLON,t):t==="."&&Uq.test(this._input.peek(1))?e=this._create_token(Re.DOT,t):t===","&&(e=this._create_token(Re.COMMA,t)),e&&this._input.next(),e};Ti.prototype._read_punctuation=function(){var t=this.__patterns.punct.read();if(t!=="")return t==="="?this._create_token(Re.EQUALS,t):t==="?."?this._create_token(Re.DOT,t):this._create_token(Re.OPERATOR,t)};Ti.prototype._read_non_javascript=function(t){var e="";if(t==="#"){if(this._is_first_token()&&(e=this.__patterns.shebang.read(),e))return this._create_token(Re.UNKNOWN,e.trim()+`
`);if(e=this.__patterns.include.read(),e)return this._create_token(Re.UNKNOWN,e.trim()+`
`);t=this._input.next();var i="#";if(this._input.hasNext()&&this._input.testChar(jq)){do t=this._input.next(),i+=t;while(this._input.hasNext()&&t!=="#"&&t!=="=");return t==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(i+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(i+="{}",this._input.next(),this._input.next())),this._create_token(Re.WORD,i)}this._input.back()}else if(t==="<"&&this._is_first_token()){if(e=this.__patterns.html_comment_start.read(),e){for(;this._input.hasNext()&&!this._input.testChar(xr.newline);)e+=this._input.next();return ud=!0,this._create_token(Re.COMMENT,e)}}else if(ud&&t==="-"&&(e=this.__patterns.html_comment_end.read(),e))return ud=!1,this._create_token(Re.COMMENT,e);return null};Ti.prototype._read_comment=function(t){var e=null;if(t==="/"){var i="";if(this._input.peek(1)==="*"){i=this.__patterns.block_comment.read();var r=zR.get_directives(i);r&&r.ignore==="start"&&(i+=zR.readIgnored(this._input)),i=i.replace(xr.allLineBreaks,`
`),e=this._create_token(Re.BLOCK_COMMENT,i),e.directives=r}else this._input.peek(1)==="/"&&(i=this.__patterns.comment.read(),e=this._create_token(Re.COMMENT,i))}return e};Ti.prototype._read_string=function(t){if(t==="`"||t==="'"||t==='"'){var e=this._input.next();return this.has_char_escapes=!1,t==="`"?e+=this._read_string_recursive("`",!0,"${"):e+=this._read_string_recursive(t),this.has_char_escapes&&this._options.unescape_strings&&(e=Kq(e)),this._input.peek()===t&&(e+=this._input.next()),e=e.replace(xr.allLineBreaks,`
`),this._create_token(Re.STRING,e)}return null};Ti.prototype._allow_regexp_or_xml=function(t){return t.type===Re.RESERVED&&Hg(t.text,["return","case","throw","else","do","typeof","yield"])||t.type===Re.END_EXPR&&t.text===")"&&t.opened.previous.type===Re.RESERVED&&Hg(t.opened.previous.text,["if","while","for"])||Hg(t.type,[Re.COMMENT,Re.START_EXPR,Re.START_BLOCK,Re.START,Re.END_BLOCK,Re.OPERATOR,Re.EQUALS,Re.EOF,Re.SEMICOLON,Re.COMMA])};Ti.prototype._read_regexp=function(t,e){if(t==="/"&&this._allow_regexp_or_xml(e)){for(var i=this._input.next(),r=!1,n=!1;this._input.hasNext()&&(r||n||this._input.peek()!==t)&&!this._input.testChar(xr.newline);)i+=this._input.peek(),r?r=!1:(r=this._input.peek()==="\\",this._input.peek()==="["?n=!0:this._input.peek()==="]"&&(n=!1)),this._input.next();return this._input.peek()===t&&(i+=this._input.next(),i+=this._input.read(xr.identifier)),this._create_token(Re.STRING,i)}return null};Ti.prototype._read_xml=function(t,e){if(this._options.e4x&&t==="<"&&this._allow_regexp_or_xml(e)){var i="",r=this.__patterns.xml.read_match();if(r){for(var n=r[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),s=n.indexOf("{")===0,a=0;r;){var o=!!r[1],l=r[2],u=!!r[r.length-1]||l.slice(0,8)==="![CDATA[";if(!u&&(l===n||s&&l.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(o?--a:++a),i+=r[0],a<=0)break;r=this.__patterns.xml.read_match()}return r||(i+=this._input.match(/[\s\S]*/g)[0]),i=i.replace(xr.allLineBreaks,`
`),this._create_token(Re.STRING,i)}}return null};function Kq(t){for(var e="",i=0,r=new kq(t),n=null;r.hasNext();)if(n=r.match(/([\s]|[^\\]|\\\\)+/g),n&&(e+=n[0]),r.peek()==="\\"){if(r.next(),r.peek()==="x")n=r.match(/x([0-9A-Fa-f]{2})/g);else if(r.peek()==="u")n=r.match(/u([0-9A-Fa-f]{4})/g);else{e+="\\",r.hasNext()&&(e+=r.next());continue}if(!n||(i=parseInt(n[1],16),i>126&&i<=255&&n[0].indexOf("x")===0))return t;if(i>=0&&i<32){e+="\\"+n[0];continue}else i===34||i===39||i===92?e+="\\"+String.fromCharCode(i):e+=String.fromCharCode(i)}return e}Ti.prototype._read_string_recursive=function(t,e,i){var r,n;t==="'"?n=this.__patterns.single_quote:t==='"'?n=this.__patterns.double_quote:t==="`"?n=this.__patterns.template_text:t==="}"&&(n=this.__patterns.template_expression);for(var s=n.read(),a="";this._input.hasNext();){if(a=this._input.next(),a===t||!e&&xr.newline.test(a)){this._input.back();break}else a==="\\"&&this._input.hasNext()?(r=this._input.peek(),r==="x"||r==="u"?this.has_char_escapes=!0:r==="\r"&&this._input.peek(1)===`
`&&this._input.next(),a+=this._input.next()):i&&(i==="${"&&a==="$"&&this._input.peek()==="{"&&(a+=this._input.next()),i===a&&(t==="`"?a+=this._read_string_recursive("}",e,"`"):a+=this._read_string_recursive("`",e,"${"),this._input.hasNext()&&(a+=this._input.next())));a+=n.read(),s+=a}return s};Iu.exports.Tokenizer=Ti;Iu.exports.TOKEN=Re;Iu.exports.positionable_operators=Gq.slice();Iu.exports.line_starters=XR.slice()});var eC=J((jae,ZR)=>{"use strict";var $q=nd().Output,zq=Og().Token,cd=kg(),Xq=Mg().Options,Qq=Pu().Tokenizer,Nu=Pu().line_starters,Su=Pu().positionable_operators,W=Pu().TOKEN;function He(t,e){return e.indexOf(t)!==-1}function Jq(t){return t.replace(/^\s+/g,"")}function Zq(t){for(var e={},i=0;i<t.length;i++)e[t[i].replace(/-/g,"_")]=t[i];return e}function Dr(t,e){return t&&t.type===W.RESERVED&&t.text===e}function yt(t,e){return t&&t.type===W.RESERVED&&He(t.text,e)}var fd=["case","return","do","if","throw","else","await","break","continue","async"],eV=["before-newline","after-newline","preserve-newline"],Ru=Zq(eV),QR=[Ru.before_newline,Ru.preserve_newline],Ce={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function JR(t,e){e.multiline_frame||e.mode===Ce.ForInitializer||e.mode===Ce.Conditional||t.remove_indent(e.start_line_index)}function tV(t){t=t.replace(cd.allLineBreaks,`
`);for(var e=[],i=t.indexOf(`
`);i!==-1;)e.push(t.substring(0,i)),t=t.substring(i+1),i=t.indexOf(`
`);return t.length&&e.push(t),e}function ks(t){return t===Ce.ArrayLiteral}function Cu(t){return He(t,[Ce.Expression,Ce.ForInitializer,Ce.Conditional])}function iV(t,e){for(var i=0;i<t.length;i++){var r=t[i].trim();if(r.charAt(0)!==e)return!1}return!0}function rV(t,e){for(var i=0,r=t.length,n;i<r;i++)if(n=t[i],n&&n.indexOf(e)!==0)return!1;return!0}function rt(t,e){e=e||{},this._source_text=t||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new Xq(e)}rt.prototype.create_flags=function(t,e){var i=0;t&&(i=t.indentation_level,!this._output.just_added_newline()&&t.line_indent_level>i&&(i=t.line_indent_level));var r={mode:e,parent:t,last_token:t?t.last_token:new zq(W.START_BLOCK,""),last_word:t?t.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:i,alignment:0,line_indent_level:t?t.line_indent_level:i,start_line_index:this._output.get_line_number(),ternary_depth:0};return r};rt.prototype._reset=function(t){var e=t.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new $q(this._options,e),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(Ce.BlockStatement);var i=new Qq(t,this._options);return this._tokens=i.tokenize(),t};rt.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t,e=this._reset(this._source_text),i=this._options.eol;this._options.eol==="auto"&&(i=`
`,e&&cd.lineBreak.test(e||"")&&(i=e.match(cd.lineBreak)[0]));for(var r=this._tokens.next();r;)this.handle_token(r),this._last_last_text=this._flags.last_token.text,this._flags.last_token=r,r=this._tokens.next();return t=this._output.get_code(i),t};rt.prototype.handle_token=function(t,e){t.type===W.START_EXPR?this.handle_start_expr(t):t.type===W.END_EXPR?this.handle_end_expr(t):t.type===W.START_BLOCK?this.handle_start_block(t):t.type===W.END_BLOCK?this.handle_end_block(t):t.type===W.WORD?this.handle_word(t):t.type===W.RESERVED?this.handle_word(t):t.type===W.SEMICOLON?this.handle_semicolon(t):t.type===W.STRING?this.handle_string(t):t.type===W.EQUALS?this.handle_equals(t):t.type===W.OPERATOR?this.handle_operator(t):t.type===W.COMMA?this.handle_comma(t):t.type===W.BLOCK_COMMENT?this.handle_block_comment(t,e):t.type===W.COMMENT?this.handle_comment(t,e):t.type===W.DOT?this.handle_dot(t):t.type===W.EOF?this.handle_eof(t):t.type===W.UNKNOWN?this.handle_unknown(t,e):this.handle_unknown(t,e)};rt.prototype.handle_whitespace_and_comments=function(t,e){var i=t.newlines,r=this._options.keep_array_indentation&&ks(this._flags.mode);if(t.comments_before)for(var n=t.comments_before.next();n;)this.handle_whitespace_and_comments(n,e),this.handle_token(n,e),n=t.comments_before.next();if(r)for(var s=0;s<i;s+=1)this.print_newline(s>0,e);else if(this._options.max_preserve_newlines&&i>this._options.max_preserve_newlines&&(i=this._options.max_preserve_newlines),this._options.preserve_newlines&&i>1){this.print_newline(!1,e);for(var a=1;a<i;a+=1)this.print_newline(!0,e)}};var Yg=["async","break","continue","return","throw","yield"];rt.prototype.allow_wrap_or_preserved_newline=function(t,e){if(e=e===void 0?!1:e,!this._output.just_added_newline()){var i=this._options.preserve_newlines&&t.newlines||e,r=He(this._flags.last_token.text,Su)||He(t.text,Su);if(r){var n=He(this._flags.last_token.text,Su)&&He(this._options.operator_position,QR)||He(t.text,Su);i=i&&n}if(i)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(yt(this._flags.last_token,Yg))return;this._output.set_wrap_point()}}};rt.prototype.print_newline=function(t,e){if(!e&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==W.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var i=this._tokens.peek();this._flags.mode===Ce.Statement&&!(this._flags.if_block&&Dr(i,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(t)&&(this._flags.multiline_frame=!0)};rt.prototype.print_token_line_indentation=function(t){this._output.just_added_newline()&&(this._options.keep_array_indentation&&t.newlines&&(t.text==="["||ks(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(t.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))};rt.prototype.print_token=function(t){if(this._output.raw){this._output.add_raw_token(t);return}if(this._options.comma_first&&t.previous&&t.previous.type===W.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var e=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(e),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(t),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(t),this._output.non_breaking_space=!0,this._output.add_token(t.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)};rt.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};rt.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};rt.prototype.set_mode=function(t){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,t),this._flags=this.create_flags(this._previous_flags,t),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};rt.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===Ce.Statement&&JR(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};rt.prototype.start_of_object_property=function(){return this._flags.parent.mode===Ce.ObjectLiteral&&this._flags.mode===Ce.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||yt(this._flags.last_token,["get","set"]))};rt.prototype.start_of_statement=function(t){var e=!1;return e=e||yt(this._flags.last_token,["var","let","const"])&&t.type===W.WORD,e=e||Dr(this._flags.last_token,"do"),e=e||!(this._flags.parent.mode===Ce.ObjectLiteral&&this._flags.mode===Ce.Statement)&&yt(this._flags.last_token,Yg)&&!t.newlines,e=e||Dr(this._flags.last_token,"else")&&!(Dr(t,"if")&&!t.comments_before),e=e||this._flags.last_token.type===W.END_EXPR&&(this._previous_flags.mode===Ce.ForInitializer||this._previous_flags.mode===Ce.Conditional),e=e||this._flags.last_token.type===W.WORD&&this._flags.mode===Ce.BlockStatement&&!this._flags.in_case&&!(t.text==="--"||t.text==="++")&&this._last_last_text!=="function"&&t.type!==W.WORD&&t.type!==W.RESERVED,e=e||this._flags.mode===Ce.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||yt(this._flags.last_token,["get","set"])),e?(this.set_mode(Ce.Statement),this.indent(),this.handle_whitespace_and_comments(t,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t,yt(t,["do","for","if","while"])),!0):!1};rt.prototype.handle_start_expr=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t);var e=Ce.Expression;if(t.text==="["){if(this._flags.last_token.type===W.WORD||this._flags.last_token.text===")"){yt(this._flags.last_token,Nu)&&(this._output.space_before_token=!0),this.print_token(t),this.set_mode(e),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}e=Ce.ArrayLiteral,ks(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),He(this._flags.last_token.type,[W.START_EXPR,W.END_EXPR,W.WORD,W.OPERATOR,W.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===W.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,e=Ce.ForInitializer):He(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,e=Ce.Conditional):He(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&t.whitespace_before===""?this._output.space_before_token=!1:(He(this._flags.last_token.text,Nu)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===W.EQUALS||this._flags.last_token.type===W.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t);else if(this._flags.last_token.type===W.WORD){this._output.space_before_token=!1;var i=this._tokens.peek(-3);if(this._options.space_after_named_function&&i){var r=this._tokens.peek(-4);yt(i,["async","function"])||i.text==="*"&&yt(r,["async","function"])?this._output.space_before_token=!0:this._flags.mode===Ce.ObjectLiteral&&(i.text==="{"||i.text===","||i.text==="*"&&(r.text==="{"||r.text===","))&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(t);(this._flags.last_token.type===W.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(He(this._last_last_text,["function","yield"])||this._flags.mode===Ce.ObjectLiteral&&He(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===W.START_BLOCK?this.print_newline():(this._flags.last_token.type===W.END_EXPR||this._flags.last_token.type===W.START_EXPR||this._flags.last_token.type===W.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===W.COMMA)&&this.allow_wrap_or_preserved_newline(t,t.newlines),this.print_token(t),this.set_mode(e),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()};rt.prototype.handle_end_expr=function(t){for(;this._flags.mode===Ce.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(t,t.text==="]"&&ks(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===W.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(t),this.restore_mode(),JR(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===Ce.Conditional&&(this._previous_flags.mode=Ce.Expression,this._flags.do_block=!1,this._flags.do_while=!1)};rt.prototype.handle_start_block=function(t){this.handle_whitespace_and_comments(t);var e=this._tokens.peek(),i=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===W.END_EXPR?(this.set_mode(Ce.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(Ce.BlockStatement):i&&(He(i.text,[":",","])&&He(e.type,[W.STRING,W.WORD,W.RESERVED])||He(e.text,["get","set","..."])&&He(i.type,[W.WORD,W.RESERVED]))?He(this._last_last_text,["class","interface"])?this.set_mode(Ce.BlockStatement):this.set_mode(Ce.ObjectLiteral):this._flags.last_token.type===W.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(Ce.BlockStatement):He(this._flags.last_token.type,[W.EQUALS,W.START_EXPR,W.COMMA,W.OPERATOR])||yt(this._flags.last_token,["return","throw","import","default"])?this.set_mode(Ce.ObjectLiteral):this.set_mode(Ce.BlockStatement);var r=!e.comments_before&&e.text==="}",n=r&&this._flags.last_word==="function"&&this._flags.last_token.type===W.END_EXPR;if(this._options.brace_preserve_inline){var s=0,a=null;this._flags.inline_frame=!0;do if(s+=1,a=this._tokens.peek(s-1),a.newlines){this._flags.inline_frame=!1;break}while(a.type!==W.EOF&&!(a.type===W.END_BLOCK&&a.opened===t))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==W.OPERATOR&&(n||this._flags.last_token.type===W.EQUALS||yt(this._flags.last_token,fd)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(ks(this._previous_flags.mode)&&(this._flags.last_token.type===W.START_EXPR||this._flags.last_token.type===W.COMMA)&&((this._flags.last_token.type===W.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===W.COMMA||this._flags.last_token.type===W.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(t),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==W.OPERATOR&&this._flags.last_token.type!==W.START_EXPR&&(this._flags.last_token.type===W.START_BLOCK&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(t),this.indent(),!r&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()};rt.prototype.handle_end_block=function(t){for(this.handle_whitespace_and_comments(t);this._flags.mode===Ce.Statement;)this.restore_mode();var e=this._flags.last_token.type===W.START_BLOCK;this._flags.inline_frame&&!e?this._output.space_before_token=!0:this._options.brace_style==="expand"?e||this.print_newline():e||(ks(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(t)};rt.prototype.handle_word=function(t){if(t.type===W.RESERVED){if(He(t.text,["set","get"])&&this._flags.mode!==Ce.ObjectLiteral)t.type=W.WORD;else if(t.text==="import"&&this._tokens.peek().text==="(")t.type=W.WORD;else if(He(t.text,["as","from"])&&!this._flags.import_block)t.type=W.WORD;else if(this._flags.mode===Ce.ObjectLiteral){var e=this._tokens.peek();e.text===":"&&(t.type=W.WORD)}}if(this.start_of_statement(t)?yt(this._flags.last_token,["var","let","const"])&&t.type===W.WORD&&(this._flags.declaration_statement=!0):t.newlines&&!Cu(this._flags.mode)&&(this._flags.last_token.type!==W.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==W.EQUALS&&(this._options.preserve_newlines||!yt(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(t),this.print_newline()):this.handle_whitespace_and_comments(t),this._flags.do_block&&!this._flags.do_while)if(Dr(t,"while")){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&Dr(t,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===Ce.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&yt(t,["case","default"])){this.print_newline(),this._flags.last_token.type!==W.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(t),this._flags.in_case=!0;return}if((this._flags.last_token.type===W.COMMA||this._flags.last_token.type===W.START_EXPR||this._flags.last_token.type===W.EQUALS||this._flags.last_token.type===W.OPERATOR)&&(this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t)),Dr(t,"function")){(He(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(He(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===W.OPERATOR))&&!this._output.just_added_blankline()&&!t.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===W.RESERVED||this._flags.last_token.type===W.WORD?yt(this._flags.last_token,["get","set","new","export"])||yt(this._flags.last_token,Yg)?this._output.space_before_token=!0:Dr(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===W.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(Cu(this._flags.mode)||ks(this._flags.mode))||this.print_newline(),this.print_token(t),this._flags.last_word=t.text;return}var i="NONE";if(this._flags.last_token.type===W.END_BLOCK?this._previous_flags.inline_frame?i="SPACE":yt(t,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines?i="NEWLINE":(i="SPACE",this._output.space_before_token=!0):i="NEWLINE":this._flags.last_token.type===W.SEMICOLON&&this._flags.mode===Ce.BlockStatement?i="NEWLINE":this._flags.last_token.type===W.SEMICOLON&&Cu(this._flags.mode)?i="SPACE":this._flags.last_token.type===W.STRING?i="NEWLINE":this._flags.last_token.type===W.RESERVED||this._flags.last_token.type===W.WORD||this._flags.last_token.text==="*"&&(He(this._last_last_text,["function","yield"])||this._flags.mode===Ce.ObjectLiteral&&He(this._last_last_text,["{",","]))?i="SPACE":this._flags.last_token.type===W.START_BLOCK?this._flags.inline_frame?i="SPACE":i="NEWLINE":this._flags.last_token.type===W.END_EXPR&&(this._output.space_before_token=!0,i="NEWLINE"),yt(t,Nu)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?i="SPACE":i="NEWLINE"),yt(t,["else","catch","finally"]))if((!(this._flags.last_token.type===W.END_BLOCK&&this._previous_flags.mode===Ce.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var r=this._output.current_line;r.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else i==="NEWLINE"?yt(this._flags.last_token,fd)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&yt(t,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==W.END_EXPR?(this._flags.last_token.type!==W.START_EXPR||!yt(t,["var","let","const"]))&&this._flags.last_token.text!==":"&&(Dr(t,"if")&&Dr(t.previous,"else")?this._output.space_before_token=!0:this.print_newline()):yt(t,Nu)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&ks(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():i==="SPACE"&&(this._output.space_before_token=!0);t.previous&&(t.previous.type===W.WORD||t.previous.type===W.RESERVED)&&(this._output.space_before_token=!0),this.print_token(t),this._flags.last_word=t.text,t.type===W.RESERVED&&(t.text==="do"?this._flags.do_block=!0:t.text==="if"?this._flags.if_block=!0:t.text==="import"?this._flags.import_block=!0:this._flags.import_block&&Dr(t,"from")&&(this._flags.import_block=!1))};rt.prototype.handle_semicolon=function(t){this.start_of_statement(t)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(t);for(var e=this._tokens.peek();this._flags.mode===Ce.Statement&&!(this._flags.if_block&&Dr(e,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(t)};rt.prototype.handle_string=function(t){t.text.startsWith("`")&&t.newlines===0&&t.whitespace_before===""&&(t.previous.text===")"||this._flags.last_token.type===W.WORD)||(this.start_of_statement(t)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(t),this._flags.last_token.type===W.RESERVED||this._flags.last_token.type===W.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===W.COMMA||this._flags.last_token.type===W.START_EXPR||this._flags.last_token.type===W.EQUALS||this._flags.last_token.type===W.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t):t.text.startsWith("`")&&this._flags.last_token.type===W.END_EXPR&&(t.previous.text==="]"||t.previous.text===")")&&t.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(t)};rt.prototype.handle_equals=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0};rt.prototype.handle_comma=function(t){this.handle_whitespace_and_comments(t,!0),this.print_token(t),this._output.space_before_token=!0,this._flags.declaration_statement?(Cu(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)):this._flags.mode===Ce.ObjectLiteral||this._flags.mode===Ce.Statement&&this._flags.parent.mode===Ce.ObjectLiteral?(this._flags.mode===Ce.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)};rt.prototype.handle_operator=function(t){var e=t.text==="*"&&(yt(this._flags.last_token,["function","yield"])||He(this._flags.last_token.type,[W.START_BLOCK,W.COMMA,W.END_BLOCK,W.SEMICOLON])),i=He(t.text,["-","+"])&&(He(this._flags.last_token.type,[W.START_BLOCK,W.START_EXPR,W.EQUALS,W.OPERATOR])||He(this._flags.last_token.text,Nu)||this._flags.last_token.text===",");if(!this.start_of_statement(t)){var r=!e;this.handle_whitespace_and_comments(t,r)}if(yt(this._flags.last_token,fd)){this._output.space_before_token=!0,this.print_token(t);return}if(t.text==="*"&&this._flags.last_token.type===W.DOT){this.print_token(t);return}if(t.text==="::"){this.print_token(t);return}if(this._flags.last_token.type===W.OPERATOR&&He(this._options.operator_position,QR)&&this.allow_wrap_or_preserved_newline(t),t.text===":"&&this._flags.in_case){this.print_token(t),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==W.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0;return}var n=!0,s=!0,a=!1;if(t.text===":"?this._flags.ternary_depth===0?n=!1:(this._flags.ternary_depth-=1,a=!0):t.text==="?"&&(this._flags.ternary_depth+=1),!i&&!e&&this._options.preserve_newlines&&He(t.text,Su)){var o=t.text===":",l=o&&a,u=o&&!a;switch(this._options.operator_position){case Ru.before_newline:this._output.space_before_token=!u,this.print_token(t),(!o||l)&&this.allow_wrap_or_preserved_newline(t),this._output.space_before_token=!0;return;case Ru.after_newline:this._output.space_before_token=!0,!o||l?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(t):this._output.space_before_token=!1,this.print_token(t),this._output.space_before_token=!0;return;case Ru.preserve_newline:u||this.allow_wrap_or_preserved_newline(t),n=!(this._output.just_added_newline()||u),this._output.space_before_token=n,this.print_token(t),this._output.space_before_token=!0;return}}if(e){this.allow_wrap_or_preserved_newline(t),n=!1;var c=this._tokens.peek();s=c&&He(c.type,[W.WORD,W.RESERVED])}else t.text==="..."?(this.allow_wrap_or_preserved_newline(t),n=this._flags.last_token.type===W.START_BLOCK,s=!1):(He(t.text,["--","++","!","~"])||i)&&((this._flags.last_token.type===W.COMMA||this._flags.last_token.type===W.START_EXPR)&&this.allow_wrap_or_preserved_newline(t),n=!1,s=!1,t.newlines&&(t.text==="--"||t.text==="++")&&this.print_newline(!1,!0),this._flags.last_token.text===";"&&Cu(this._flags.mode)&&(n=!0),this._flags.last_token.type===W.RESERVED?n=!0:this._flags.last_token.type===W.END_EXPR?n=!(this._flags.last_token.text==="]"&&(t.text==="--"||t.text==="++")):this._flags.last_token.type===W.OPERATOR&&(n=He(t.text,["--","-","++","+"])&&He(this._flags.last_token.text,["--","-","++","+"]),He(t.text,["+","-"])&&He(this._flags.last_token.text,["--","++"])&&(s=!0)),(this._flags.mode===Ce.BlockStatement&&!this._flags.inline_frame||this._flags.mode===Ce.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline());this._output.space_before_token=this._output.space_before_token||n,this.print_token(t),this._output.space_before_token=s};rt.prototype.handle_block_comment=function(t,e){if(this._output.raw){this._output.add_raw_token(t),t.directives&&t.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(t.directives){this.print_newline(!1,e),this.print_token(t),t.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!cd.newline.test(t.text)&&!t.newlines){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0;return}else this.print_block_commment(t,e)};rt.prototype.print_block_commment=function(t,e){var i=tV(t.text),r,n=!1,s=!1,a=t.whitespace_before,o=a.length;if(this.print_newline(!1,e),this.print_token_line_indentation(t),this._output.add_token(i[0]),this.print_newline(!1,e),i.length>1){for(i=i.slice(1),n=iV(i,"*"),s=rV(i,a),n&&(this._flags.alignment=1),r=0;r<i.length;r++)n?(this.print_token_line_indentation(t),this._output.add_token(Jq(i[r]))):s&&i[r]?(this.print_token_line_indentation(t),this._output.add_token(i[r].substring(o))):(this._output.current_line.set_indent(-1),this._output.add_token(i[r])),this.print_newline(!1,e);this._flags.alignment=0}};rt.prototype.handle_comment=function(t,e){t.newlines?this.print_newline(!1,e):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(t),this.print_newline(!1,e)};rt.prototype.handle_dot=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t,!0),yt(this._flags.last_token,fd)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(t,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(t)};rt.prototype.handle_unknown=function(t,e){this.print_token(t),t.text[t.text.length-1]===`
`&&this.print_newline(!1,e)};rt.prototype.handle_eof=function(t){for(;this._flags.mode===Ce.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t)};ZR.exports.Beautifier=rt});var tC=J((Uae,Kg)=>{"use strict";var nV=eC().Beautifier,sV=Mg().Options;function aV(t,e){var i=new nV(t,e);return i.beautify()}Kg.exports=aV;Kg.exports.defaultOptions=function(){return new sV}});var $g=J((Gae,nC)=>{"use strict";var iC=ad().Options;function rC(t){iC.call(this,t,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var e=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||e;var i=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var r=0;r<i.length;r++)i[r]!=="expand"?this.brace_style="collapse":this.brace_style=i[r]}rC.prototype=new iC;nC.exports.Options=rC});var lC=J((Wae,oC)=>{"use strict";var oV=$g().Options,lV=nd().Output,uV=od().InputScanner,cV=ld().Directives,sC=new cV(/\/\*/,/\*\//),aC=/\r\n|[\r\n]/,fV=/\r\n|[\r\n]/g,dd=/\s/,dV=/(?:\s|\n)+/g,pV=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,mV=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function ts(t,e){this._source_text=t||"",this._options=new oV(e),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}ts.prototype.eatString=function(t){var e="";for(this._ch=this._input.next();this._ch;){if(e+=this._ch,this._ch==="\\")e+=this._input.next();else if(t.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return e};ts.prototype.eatWhitespace=function(t){for(var e=dd.test(this._input.peek()),i=0;dd.test(this._input.peek());)this._ch=this._input.next(),t&&this._ch===`
`&&(i===0||i<this._options.max_preserve_newlines)&&(i++,this._output.add_new_line(!0));return e};ts.prototype.foundNestedPseudoClass=function(){for(var t=0,e=1,i=this._input.peek(e);i;){if(i==="{")return!0;if(i==="(")t+=1;else if(i===")"){if(t===0)return!1;t-=1}else if(i===";"||i==="}")return!1;e++,i=this._input.peek(e)}return!1};ts.prototype.print_string=function(t){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(t)};ts.prototype.preserveSingleSpace=function(t){t&&(this._output.space_before_token=!0)};ts.prototype.indent=function(){this._indentLevel++};ts.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--};ts.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;e==="auto"&&(e=`
`,t&&aC.test(t||"")&&(e=t.match(aC)[0])),t=t.replace(fV,`
`);var i=t.match(/^[\t ]*/)[0];this._output=new lV(this._options,i),this._input=new uV(t),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var r=0,n=!1,s=!1,a=!1,o=!1,l=!1,u=this._ch,c,f,d;c=this._input.read(dV),f=c!=="",d=u,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),u=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var p=this._input.read(pV),m=sC.get_directives(p);m&&m.ignore==="start"&&(p+=sC.readIgnored(this._input)),this.print_string(p),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(mV)),this.eatWhitespace(!0);else if(this._ch==="@")if(this.preserveSingleSpace(f),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var _=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);_.match(/[ :]$/)&&(_=this.eatString(": ").replace(/\s$/,""),this.print_string(_),this._output.space_before_token=!0),_=_.replace(/\s$/,""),_==="extend"?o=!0:_==="import"&&(l=!0),_ in this.NESTED_AT_RULE?(this._nestedLevel+=1,_ in this.CONDITIONAL_GROUP_RULE&&(a=!0)):!n&&r===0&&_.indexOf(":")!==-1&&(s=!0,this.indent())}else this._ch==="#"&&this._input.peek()==="{"?(this.preserveSingleSpace(f),this.print_string(this._ch+this.eatString("}"))):this._ch==="{"?(s&&(s=!1,this.outdent()),a?(a=!1,n=this._indentLevel>=this._nestedLevel):n=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&n&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line()):this._ch==="}"?(this.outdent(),this._output.add_new_line(),d==="{"&&this._output.trim(!0),l=!1,o=!1,s&&(this.outdent(),s=!1),this.print_string(this._ch),n=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0)):this._ch===":"?(n||a)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!o&&r===0?(this.print_string(":"),s||(s=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):this._ch==='"'||this._ch==="'"?(this.preserveSingleSpace(f),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):this._ch===";"?r===0?(s&&(this.outdent(),s=!1),o=!1,l=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):this._ch==="("?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),r++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),r&&(r--,this.outdent()))):(this.preserveSingleSpace(f),this.print_string(this._ch),this.eatWhitespace(),r++,this.indent()):this._ch===")"?(r&&(r--,this.outdent()),this.print_string(this._ch)):this._ch===","?(this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&!s&&r===0&&!l?this._output.add_new_line():this._output.space_before_token=!0):(this._ch===">"||this._ch==="+"||this._ch==="~")&&!s&&r===0?this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&dd.test(this._ch)&&(this._ch="")):this._ch==="]"?this.print_string(this._ch):this._ch==="["?(this.preserveSingleSpace(f),this.print_string(this._ch)):this._ch==="="?(this.eatWhitespace(),this.print_string("="),dd.test(this._ch)&&(this._ch="")):this._ch==="!"&&!this._input.lookBack("\\")?(this.print_string(" "),this.print_string(this._ch)):(this.preserveSingleSpace(f),this.print_string(this._ch));var P=this._output.get_code(e);return P};oC.exports.Beautifier=ts});var uC=J((Hae,zg)=>{"use strict";var hV=lC().Beautifier,gV=$g().Options;function _V(t,e){var i=new hV(t,e);return i.beautify()}zg.exports=_V;zg.exports.defaultOptions=function(){return new gV}});var Xg=J((Yae,dC)=>{"use strict";var cC=ad().Options;function fC(t){cC.call(this,t,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}fC.prototype=new cC;dC.exports.Options=fC});var Zg=J((Kae,Jg)=>{"use strict";var pC=vu().Tokenizer,Qg=vu().TOKEN,yV=ld().Directives,TV=Gg().TemplatablePattern,bV=Tu().Pattern,Vt={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:Qg.START,RAW:Qg.RAW,EOF:Qg.EOF},mC=new yV(/<\!--/,/-->/),Ai=function(t,e){pC.call(this,t,e),this._current_tag_name="";var i=new TV(this._input).read_options(this._options),r=new bV(this._input);if(this.__patterns={word:i.until(/[\n\r\t <]/),single_quote:i.until_after(/'/),double_quote:i.until_after(/"/),attribute:i.until(/[\n\r\t =>]|\/>/),element_name:i.until(/[\n\r\t >\/]/),handlebars_comment:r.starting_with(/{{!--/).until_after(/--}}/),handlebars:r.starting_with(/{{/).until_after(/}}/),handlebars_open:r.until(/[\n\r\t }]/),handlebars_raw_close:r.until(/}}/),comment:r.starting_with(/<!--/).until_after(/-->/),cdata:r.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:r.starting_with(/<!\[/).until_after(/]>/),processing:r.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var n=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=r.matching(n).until_after(n)}};Ai.prototype=new pC;Ai.prototype._is_comment=function(t){return!1};Ai.prototype._is_opening=function(t){return t.type===Vt.TAG_OPEN};Ai.prototype._is_closing=function(t,e){return t.type===Vt.TAG_CLOSE&&e&&((t.text===">"||t.text==="/>")&&e.text[0]==="<"||t.text==="}}"&&e.text[0]==="{"&&e.text[1]==="{")};Ai.prototype._reset=function(){this._current_tag_name=""};Ai.prototype._get_next_token=function(t,e){var i=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(Vt.EOF,""):(i=i||this._read_open_handlebars(r,e),i=i||this._read_attribute(r,t,e),i=i||this._read_close(r,e),i=i||this._read_raw_content(r,t,e),i=i||this._read_content_word(r),i=i||this._read_comment_or_cdata(r),i=i||this._read_processing(r),i=i||this._read_open(r,e),i=i||this._create_token(Vt.UNKNOWN,this._input.next()),i)};Ai.prototype._read_comment_or_cdata=function(t){var e=null,i=null,r=null;if(t==="<"){var n=this._input.peek(1);n==="!"&&(i=this.__patterns.comment.read(),i?(r=mC.get_directives(i),r&&r.ignore==="start"&&(i+=mC.readIgnored(this._input))):i=this.__patterns.cdata.read()),i&&(e=this._create_token(Vt.COMMENT,i),e.directives=r)}return e};Ai.prototype._read_processing=function(t){var e=null,i=null,r=null;if(t==="<"){var n=this._input.peek(1);(n==="!"||n==="?")&&(i=this.__patterns.conditional_comment.read(),i=i||this.__patterns.processing.read()),i&&(e=this._create_token(Vt.COMMENT,i),e.directives=r)}return e};Ai.prototype._read_open=function(t,e){var i=null,r=null;return e||t==="<"&&(i=this._input.next(),this._input.peek()==="/"&&(i+=this._input.next()),i+=this.__patterns.element_name.read(),r=this._create_token(Vt.TAG_OPEN,i)),r};Ai.prototype._read_open_handlebars=function(t,e){var i=null,r=null;return e||this._options.indent_handlebars&&t==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(i=this.__patterns.handlebars_comment.read(),i=i||this.__patterns.handlebars.read(),r=this._create_token(Vt.COMMENT,i)):(i=this.__patterns.handlebars_open.read(),r=this._create_token(Vt.TAG_OPEN,i))),r};Ai.prototype._read_close=function(t,e){var i=null,r=null;return e&&(e.text[0]==="<"&&(t===">"||t==="/"&&this._input.peek(1)===">")?(i=this._input.next(),t==="/"&&(i+=this._input.next()),r=this._create_token(Vt.TAG_CLOSE,i)):e.text[0]==="{"&&t==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),r=this._create_token(Vt.TAG_CLOSE,"}}"))),r};Ai.prototype._read_attribute=function(t,e,i){var r=null,n="";if(i&&i.text[0]==="<")if(t==="=")r=this._create_token(Vt.EQUALS,this._input.next());else if(t==='"'||t==="'"){var s=this._input.next();t==='"'?s+=this.__patterns.double_quote.read():s+=this.__patterns.single_quote.read(),r=this._create_token(Vt.VALUE,s)}else n=this.__patterns.attribute.read(),n&&(e.type===Vt.EQUALS?r=this._create_token(Vt.VALUE,n):r=this._create_token(Vt.ATTRIBUTE,n));return r};Ai.prototype._is_content_unformatted=function(t){return this._options.void_elements.indexOf(t)===-1&&(this._options.content_unformatted.indexOf(t)!==-1||this._options.unformatted.indexOf(t)!==-1)};Ai.prototype._read_raw_content=function(t,e,i){var r="";if(i&&i.text[0]==="{")r=this.__patterns.handlebars_raw_close.read();else if(e.type===Vt.TAG_CLOSE&&e.opened.text[0]==="<"&&e.text[0]!=="/"){var n=e.opened.text.substr(1).toLowerCase();if(n==="script"||n==="style"){var s=this._read_comment_or_cdata(t);if(s)return s.type=Vt.TEXT,s;r=this._input.readUntil(new RegExp("</"+n+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(n)&&(r=this._input.readUntil(new RegExp("</"+n+"[\\n\\r\\t ]*?>","ig")))}return r?this._create_token(Vt.TEXT,r):null};Ai.prototype._read_content_word=function(t){var e="";if(this._options.unformatted_content_delimiter&&t===this._options.unformatted_content_delimiter[0]&&(e=this.__patterns.unformatted_content_delimiter.read()),e||(e=this.__patterns.word.read()),e)return this._create_token(Vt.TEXT,e)};Jg.exports.Tokenizer=Ai;Jg.exports.TOKEN=Vt});var yC=J(($ae,_C)=>{"use strict";var vV=Xg().Options,IV=nd().Output,PV=Zg().Tokenizer,ft=Zg().TOKEN,hC=/\r\n|[\r\n]/,NV=/\r\n|[\r\n]/g,Fr=function(t,e){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=t.max_preserve_newlines,this.preserve_newlines=t.preserve_newlines,this._output=new IV(t,e)};Fr.prototype.current_line_has_match=function(t){return this._output.current_line.has_match(t)};Fr.prototype.set_space_before_token=function(t,e){this._output.space_before_token=t,this._output.non_breaking_space=e};Fr.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()};Fr.prototype.add_raw_token=function(t){this._output.add_raw_token(t)};Fr.prototype.print_preserved_newlines=function(t){var e=0;t.type!==ft.TEXT&&t.previous.type!==ft.TEXT&&(e=t.newlines?1:0),this.preserve_newlines&&(e=t.newlines<this.max_preserve_newlines+1?t.newlines:this.max_preserve_newlines+1);for(var i=0;i<e;i++)this.print_newline(i>0);return e!==0};Fr.prototype.traverse_whitespace=function(t){return t.whitespace_before||t.newlines?(this.print_preserved_newlines(t)||(this._output.space_before_token=!0),!0):!1};Fr.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped};Fr.prototype.print_newline=function(t){this._output.add_new_line(t)};Fr.prototype.print_token=function(t){t.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(t.text))};Fr.prototype.indent=function(){this.indent_level++};Fr.prototype.get_full_indent=function(t){return t=this.indent_level+(t||0),t<1?"":this._output.get_indent_string(t)};var SV=function(t){for(var e=null,i=t.next;i.type!==ft.EOF&&t.closed!==i;){if(i.type===ft.ATTRIBUTE&&i.text==="type"){i.next&&i.next.type===ft.EQUALS&&i.next.next&&i.next.next.type===ft.VALUE&&(e=i.next.next.text);break}i=i.next}return e},RV=function(t,e){var i=null,r=null;return e.closed?(t==="script"?i="text/javascript":t==="style"&&(i="text/css"),i=SV(e)||i,i.search("text/css")>-1?r="css":i.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?r="javascript":i.search(/(text|application|dojo)\/(x-)?(html)/)>-1?r="html":i.search(/test\/null/)>-1&&(r="null"),r):null};function Au(t,e){return e.indexOf(t)!==-1}function CV(t,e,i){this.parent=t||null,this.tag=e?e.tag_name:"",this.indent_level=i||0,this.parser_token=e||null}function Da(t){this._printer=t,this._current_frame=null}Da.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null};Da.prototype.record_tag=function(t){var e=new CV(this._current_frame,t,this._printer.indent_level);this._current_frame=e};Da.prototype._try_pop_frame=function(t){var e=null;return t&&(e=t.parser_token,this._printer.indent_level=t.indent_level,this._current_frame=t.parent),e};Da.prototype._get_frame=function(t,e){for(var i=this._current_frame;i&&t.indexOf(i.tag)===-1;){if(e&&e.indexOf(i.tag)!==-1){i=null;break}i=i.parent}return i};Da.prototype.try_pop=function(t,e){var i=this._get_frame([t],e);return this._try_pop_frame(i)};Da.prototype.indent_to_tag=function(t){var e=this._get_frame(t);e&&(this._printer.indent_level=e.indent_level)};function Or(t,e,i,r){this._source_text=t||"",e=e||{},this._js_beautify=i,this._css_beautify=r,this._tag_stack=null;var n=new vV(e,"html");this._options=n,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,"force".length)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,"preserve".length)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}Or.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;this._options.eol==="auto"&&(e=`
`,t&&hC.test(t)&&(e=t.match(hC)[0])),t=t.replace(NV,`
`);var i=t.match(/^[\t ]*/)[0],r={text:"",type:""},n=new gC,s=new Fr(this._options,i),a=new PV(t,this._options).tokenize();this._tag_stack=new Da(s);for(var o=null,l=a.next();l.type!==ft.EOF;)l.type===ft.TAG_OPEN||l.type===ft.COMMENT?(o=this._handle_tag_open(s,l,n,r),n=o):l.type===ft.ATTRIBUTE||l.type===ft.EQUALS||l.type===ft.VALUE||l.type===ft.TEXT&&!n.tag_complete?o=this._handle_inside_tag(s,l,n,a):l.type===ft.TAG_CLOSE?o=this._handle_tag_close(s,l,n):l.type===ft.TEXT?o=this._handle_text(s,l,n):s.add_raw_token(l),r=o,l=a.next();var u=s._output.get_code(e);return u};Or.prototype._handle_tag_close=function(t,e,i){var r={text:e.text,type:e.type};return t.alignment_size=0,i.tag_complete=!0,t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),i.is_unformatted?t.add_raw_token(e):(i.tag_start_char==="<"&&(t.set_space_before_token(e.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&i.has_wrapped_attrs&&t.print_newline(!1)),t.print_token(e)),i.indent_content&&!(i.is_unformatted||i.is_content_unformatted)&&(t.indent(),i.indent_content=!1),!i.is_inline_element&&!(i.is_unformatted||i.is_content_unformatted)&&t.set_wrap_point(),r};Or.prototype._handle_inside_tag=function(t,e,i,r){var n=i.has_wrapped_attrs,s={text:e.text,type:e.type};if(t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),i.is_unformatted)t.add_raw_token(e);else if(i.tag_start_char==="{"&&e.type===ft.TEXT)t.print_preserved_newlines(e)?(e.newlines=0,t.add_raw_token(e)):t.print_token(e);else{if(e.type===ft.ATTRIBUTE?(t.set_space_before_token(!0),i.attr_count+=1):(e.type===ft.EQUALS||e.type===ft.VALUE&&e.previous.type===ft.EQUALS)&&t.set_space_before_token(!1),e.type===ft.ATTRIBUTE&&i.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(t.traverse_whitespace(e),n=n||e.newlines!==0),this._is_wrap_attributes_force)){var a=i.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&i.attr_count===1){var o=!0,l=0,u;do{if(u=r.peek(l),u.type===ft.ATTRIBUTE){o=!1;break}l+=1}while(l<4&&u.type!==ft.EOF&&u.type!==ft.TAG_CLOSE);a=!o}a&&(t.print_newline(!1),n=!0)}t.print_token(e),n=n||t.previous_token_wrapped(),i.has_wrapped_attrs=n}return s};Or.prototype._handle_text=function(t,e,i){var r={text:e.text,type:"TK_CONTENT"};return i.custom_beautifier_name?this._print_custom_beatifier_text(t,e,i):i.is_unformatted||i.is_content_unformatted?t.add_raw_token(e):(t.traverse_whitespace(e),t.print_token(e)),r};Or.prototype._print_custom_beatifier_text=function(t,e,i){var r=this;if(e.text!==""){var n=e.text,s,a=1,o="",l="";i.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?s=this._js_beautify:i.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?s=this._css_beautify:i.custom_beautifier_name==="html"&&(s=function(m,_){var P=new Or(m,_,r._js_beautify,r._css_beautify);return P.beautify()}),this._options.indent_scripts==="keep"?a=0:this._options.indent_scripts==="separate"&&(a=-t.indent_level);var u=t.get_full_indent(a);if(n=n.replace(/\n[ \t]*$/,""),i.custom_beautifier_name!=="html"&&n[0]==="<"&&n.match(/^(<!--|<!\[CDATA\[)/)){var c=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(n);if(!c){t.add_raw_token(e);return}o=u+c[1]+`
`,n=c[4],c[5]&&(l=u+c[5]),n=n.replace(/\n[ \t]*$/,""),(c[2]||c[3].indexOf(`
`)!==-1)&&(c=c[3].match(/[ \t]+$/),c&&(e.whitespace_before=c[0]))}if(n)if(s){var f=function(){this.eol=`
`};f.prototype=this._options.raw_options;var d=new f;n=s(u+n,d)}else{var p=e.whitespace_before;p&&(n=n.replace(new RegExp(`
(`+p+")?","g"),`
`)),n=u+n.replace(/\n/g,`
`+u)}o&&(n?n=o+n+`
`+l:n=o+l),t.print_newline(!1),n&&(e.text=n,e.whitespace_before="",e.newlines=0,t.add_raw_token(e),t.print_newline(!0))}};Or.prototype._handle_tag_open=function(t,e,i,r){var n=this._get_tag_open_token(e);return(i.is_unformatted||i.is_content_unformatted)&&!i.is_empty_element&&e.type===ft.TAG_OPEN&&e.text.indexOf("</")===0?(t.add_raw_token(e),n.start_tag_token=this._tag_stack.try_pop(n.tag_name)):(t.traverse_whitespace(e),this._set_tag_position(t,e,n,i,r),n.is_inline_element||t.set_wrap_point(),t.print_token(e)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(n.alignment_size=e.text.length+1),!n.tag_complete&&!n.is_unformatted&&(t.alignment_size=n.alignment_size),n};var gC=function(t,e){if(this.parent=t||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!e)this.tag_complete=!0;else{var i;this.tag_start_char=e.text[0],this.text=e.text,this.tag_start_char==="<"?(i=e.text.match(/^<([^\s>]*)/),this.tag_check=i?i[1]:""):(i=e.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=i?i[1]:"",e.text==="{{#>"&&this.tag_check===">"&&e.next!==null&&(this.tag_check=e.next.text)),this.tag_check=this.tag_check.toLowerCase(),e.type===ft.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||e.closed&&e.closed.text==="/>",this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))}};Or.prototype._get_tag_open_token=function(t){var e=new gC(this._tag_stack.get_parser_token(),t);return e.alignment_size=this._options.wrap_attributes_indent_size,e.is_end_tag=e.is_end_tag||Au(e.tag_check,this._options.void_elements),e.is_empty_element=e.tag_complete||e.is_start_tag&&e.is_end_tag,e.is_unformatted=!e.tag_complete&&Au(e.tag_check,this._options.unformatted),e.is_content_unformatted=!e.is_empty_element&&Au(e.tag_check,this._options.content_unformatted),e.is_inline_element=Au(e.tag_name,this._options.inline)||e.tag_start_char==="{",e};Or.prototype._set_tag_position=function(t,e,i,r,n){if(i.is_empty_element||(i.is_end_tag?i.start_tag_token=this._tag_stack.try_pop(i.tag_name):(this._do_optional_end_element(i)&&(i.is_inline_element||t.print_newline(!1)),this._tag_stack.record_tag(i),(i.tag_name==="script"||i.tag_name==="style")&&!(i.is_unformatted||i.is_content_unformatted)&&(i.custom_beautifier_name=RV(i.tag_check,e)))),Au(i.tag_check,this._options.extra_liners)&&(t.print_newline(!1),t._output.just_added_blankline()||t.print_newline(!0)),i.is_empty_element){if(i.tag_start_char==="{"&&i.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),i.indent_content=!0;var s=t.current_line_has_match(/{{#if/);s||t.print_newline(!1)}i.tag_name==="!--"&&n.type===ft.TAG_CLOSE&&r.is_end_tag&&i.text.indexOf(`
`)===-1||(i.is_inline_element||i.is_unformatted||t.print_newline(!1),this._calcluate_parent_multiline(t,i))}else if(i.is_end_tag){var a=!1;a=i.start_tag_token&&i.start_tag_token.multiline_content,a=a||!i.is_inline_element&&!(r.is_inline_element||r.is_unformatted)&&!(n.type===ft.TAG_CLOSE&&i.start_tag_token===r)&&n.type!=="TK_CONTENT",(i.is_content_unformatted||i.is_unformatted)&&(a=!1),a&&t.print_newline(!1)}else i.indent_content=!i.custom_beautifier_name,i.tag_start_char==="<"&&(i.tag_name==="html"?i.indent_content=this._options.indent_inner_html:i.tag_name==="head"?i.indent_content=this._options.indent_head_inner_html:i.tag_name==="body"&&(i.indent_content=this._options.indent_body_inner_html)),!(i.is_inline_element||i.is_unformatted)&&(n.type!=="TK_CONTENT"||i.is_content_unformatted)&&t.print_newline(!1),this._calcluate_parent_multiline(t,i)};Or.prototype._calcluate_parent_multiline=function(t,e){e.parent&&t._output.just_added_newline()&&!((e.is_inline_element||e.is_unformatted)&&e.parent.is_inline_element)&&(e.parent.multiline_content=!0)};var AV=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],EV=["a","audio","del","ins","map","noscript","video"];Or.prototype._do_optional_end_element=function(t){var e=null;if(!(t.is_empty_element||!t.is_start_tag||!t.parent)){if(t.tag_name==="body")e=e||this._tag_stack.try_pop("head");else if(t.tag_name==="li")e=e||this._tag_stack.try_pop("li",["ol","ul"]);else if(t.tag_name==="dd"||t.tag_name==="dt")e=e||this._tag_stack.try_pop("dt",["dl"]),e=e||this._tag_stack.try_pop("dd",["dl"]);else if(t.parent.tag_name==="p"&&AV.indexOf(t.tag_name)!==-1){var i=t.parent.parent;(!i||EV.indexOf(i.tag_name)===-1)&&(e=e||this._tag_stack.try_pop("p"))}else t.tag_name==="rp"||t.tag_name==="rt"?(e=e||this._tag_stack.try_pop("rt",["ruby","rtc"]),e=e||this._tag_stack.try_pop("rp",["ruby","rtc"])):t.tag_name==="optgroup"?e=e||this._tag_stack.try_pop("optgroup",["select"]):t.tag_name==="option"?e=e||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):t.tag_name==="colgroup"?e=e||this._tag_stack.try_pop("caption",["table"]):t.tag_name==="thead"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"])):t.tag_name==="tbody"||t.tag_name==="tfoot"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("thead",["table"]),e=e||this._tag_stack.try_pop("tbody",["table"])):t.tag_name==="tr"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(t.tag_name==="th"||t.tag_name==="td")&&(e=e||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),e=e||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return t.parent=this._tag_stack.get_parser_token(),e}};_C.exports.Beautifier=Or});var TC=J((zae,e_)=>{"use strict";var wV=yC().Beautifier,xV=Xg().Options;function DV(t,e,i,r){var n=new wV(t,e,i,r);return n.beautify()}e_.exports=DV;e_.exports.defaultOptions=function(){return new xV}});var NC=J((Xae,pd)=>{"use strict";var bC=tC(),vC=uC(),IC=TC();function PC(t,e,i,r){return i=i||bC,r=r||vC,IC(t,e,i,r)}PC.defaultOptions=IC.defaultOptions;pd.exports.js=bC;pd.exports.css=vC;pd.exports.html=PC});var CC=J((Qae,RC)=>{"use strict";function SC(t,e,i){var r=function(n,s){return t.js_beautify(n,s)};return r.js=t.js_beautify,r.css=e.css_beautify,r.html=i.html_beautify,r.js_beautify=t.js_beautify,r.css_beautify=e.css_beautify,r.html_beautify=i.html_beautify,r}typeof define=="function"&&define.amd?define(["./lib/beautify","./lib/beautify-css","./lib/beautify-html"],function(t,e,i){return SC(t,e,i)}):function(t){var e=NC();e.js_beautify=e.js,e.css_beautify=e.css,e.html_beautify=e.html,t.exports=SC(e,e,e)}(RC)});var yA=J(_A=>{_A.debounce=function(t,e,i){var r,n,s;e===void 0&&(e=50),i===void 0&&(i={});var a=(r=i.isImmediate)!=null&&r,o=(n=i.callback)!=null&&n,l=i.maxWait,u=Date.now(),c=[];function f(){if(l!==void 0){var p=Date.now()-u;if(p+e>=l)return l-p}return e}var d=function(){var p=[].slice.call(arguments),m=this;return new Promise(function(_,P){var g=a&&s===void 0;if(s!==void 0&&clearTimeout(s),s=setTimeout(function(){if(s=void 0,u=Date.now(),!a){var y=t.apply(m,p);o&&o(y),c.forEach(function(A){return(0,A.resolve)(y)}),c=[]}},f()),g){var T=t.apply(m,p);return o&&o(T),_(T)}c.push({resolve:_,reject:P})})};return d.cancel=function(p){s!==void 0&&clearTimeout(s),c.forEach(function(m){return(0,m.reject)(p)}),c=[]},d}});var cB={};OA(cB,{getAntlersSettings:()=>dr,globalSettings:()=>Pa,requestEdits:()=>Cg,sendProjectDetails:()=>dA});var PA=te(require("fs")),NA=te(L_()),ti=te(sb());var Xs=class{constructor(){this.currentStructure=null;this.isReloading=!1;this.isDirtyState=!0}setActiveProject(e){this.currentStructure=e}getStructure(){return this.currentStructure}hasStructure(){return this.currentStructure!=null}setDirtyState(e){this.isDirtyState=e}reloadDetails(){this.isReloading||this.isDirtyState!=!1&&this.currentStructure!=null&&(this.isReloading=!0,this.currentStructure=this.currentStructure.reloadDetails(),this.isReloading=!1,this.isDirtyState=!1)}};Xs.instance=null;(typeof Xs.instance=="undefined"||Xs.instance==null)&&(Xs.instance=new Xs);var de=Xs;var yn=class{static registerDetails(e,i){this.documentDetails.set(e,i)}static hasDetails(e){return this.documentDetails.has(e)}};yn.documentDetails=new Map;var Bx={documentDescription:"",documentName:"",collectionInjections:[],blueprints:[],variableHelper:null,injectsParameters:[],varReferenceNames:new Map,formatterEnabled:!0},ab="@name",ob="@description",lb="@desc",ub="@entry",cb="@collection",fb="@blueprint",db="@var",pb="@set",mb="@param",hb="@param*",jx="@front",gb="@format";function Cl(t,e){if(e==null||e.isComment==!1)return Bx;let i=e.content.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`).map(m=>m.trim()),r=[],n=new Map,s="",a="",o=[],l=[],u="",c=null,f=!1,d=!0;for(let m=0;m<i.length;m++){let _=i[m];if(_.startsWith(ub))o=o.concat(_.slice(ub.length).split(",").map(P=>P.trim())),f=!1;else if(_.startsWith(cb))o=o.concat(_.slice(cb.length).split(",").map(P=>P.trim())),f=!1;else if(_.startsWith(fb))l=l.concat(_.slice(fb.length).split(",").map(P=>P.trim())),f=!1;else if(_.startsWith(ab))s=_.slice(ab.length).trim(),f=!1;else if(_.startsWith(ob))a=_.slice(ob.length).trim(),f=!0;else if(_.startsWith(lb))a=_.slice(lb.length).trim(),f=!0;else if(_.startsWith(db))u=_.slice(db.length).trim(),f=!1;else if(_.startsWith(pb))u="@page "+_.slice(pb.length).trim(),f=!1;else if(_.startsWith(mb)){let P=mb.length,g=!1;_.startsWith(hb)&&(P=hb.length,g=!0);let y=_.slice(P).trim().split(" ");if(y.length>0)if(y[0]==jx&&y.length>=4){y.shift();let A=y.shift(),N=y.shift(),U=y.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:U,expectsTypes:["*"],isDynamic:!0,isRequired:g,name:N}),n.set(N,A)}else{let A=y.shift(),N=y.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:N,expectsTypes:["*"],isDynamic:!0,isRequired:g,name:A})}}else _.startsWith(gb)?_.slice(gb.length).trim().toLowerCase()=="true"?d=!0:d=!1:f&&(a+=`
`+_.trim())}if(u.length>0){let m=u.split(" ");if(m.length==2){let _=m[0],P=m[1];if(P.includes(".")){let g=P.split(".");if(g.length==2){let T=g[0],y=g[1];c={variableName:_,collectionName:T,fieldHandle:y,setHandle:""}}else if(g.length==3){let T=g[0],y=g[1],A=g[2];c={variableName:_,collectionName:T,fieldHandle:y,setHandle:A}}}else c={variableName:_,setHandle:"",collectionName:"",fieldHandle:P}}}if(t.trim().length>0&&de.instance!=null&&de.instance.hasStructure()){let m=de.instance.getStructure().findView(t);m!=null&&(m.injectsParameters=r,m.varReferenceNames=n)}let p={documentName:s,documentDescription:a,collectionInjections:o,blueprints:l,variableHelper:c,injectsParameters:r,varReferenceNames:n,formatterEnabled:d};return t.trim().length>0&&e.startPosition!=null&&(e.startPosition.line<=1||e.index<=1)&&yn.registerDetails(t,p),p}var Ux=["markdown","text","textarea","slug","button_group","code","color","date","form","link","structures","select","taxonomies","terms","template","time","video","users","user_groups","user_roles"],Gx=["array","assets","bard","blueprints","collections","entries","list","grid","replicator","structures_multiple","sites","select_multiple","form_multiple","table","tags","terms_multiple","taxonomies_multiple","users_multiple","checkboxes","select_multiple","yaml","user_groups_multiple","user_roles_multiple"],Wx=["integer","range"],Hx=["toggle"];function lc(t){return Ux.includes(t)?"string":Gx.includes(t)?"array":Wx.includes(t)?"number":Hx.includes(t)?"boolean":t}var Qs=class{constructor(){this.partialReferences=new Map;this.cacheReferences=new Map;this.removesPageScope=new Map}clearAllReferences(e){this.clearPartialReferences(e),this.clearCacheReferences(e)}registerPartialReferences(e,i){this.partialReferences.has(e)==!1&&this.partialReferences.set(e,[]),this.partialReferences.set(e,i)}registerCacheReferences(e,i){this.cacheReferences.has(e)==!1&&this.cacheReferences.set(e,[]),this.cacheReferences.set(e,i)}clearPartialReferences(e){this.partialReferences.has(e)&&this.partialReferences.set(e,[])}clearRemovesPageScope(e){this.removesPageScope.has(e)&&this.removesPageScope.delete(e)}pageScopeDisabled(e){return this.removesPageScope.has(e)}clearCacheReferences(e){this.cacheReferences.has(e)&&this.cacheReferences.set(e,[])}setRemovesPageScope(e,i){this.removesPageScope.set(e,i)}getPartialReferences(e){return this.partialReferences.has(e)==!1?[]:this.partialReferences.get(e)}getCacheReferencnes(e){return this.cacheReferences.has(e)==!1?[]:this.cacheReferences.get(e)}hasPartialReferences(e){return this.partialReferences.has(e)}hasCacheReferences(e){return this.cacheReferences.has(e)}};Qs.instance=null;(typeof Qs.instance=="undefined"||Qs.instance==null)&&(Qs.instance=new Qs);var Gr=Qs;var $t=class{constructor(){this.index=-1;this.offset=0;this.line=0;this.char=0}shiftRight(e){let i=new $t;return i.offset=this.offset+e,i.index=this.index+e,i.line=this.line,i.char=this.char+e,i}isBefore(e){return e==null?!1:e.line>this.line||e.line==this.line&&this.offset<e.offset}isWithin(e,i,r=0){return e==null||i==null?!1:this.index>=e.index&&this.index<=i.index+r}isWithinRange(e){return e==null?!1:e.start!=null&&e.end!=null?this.isWithin(e.start,e.end):!1}};var nm=class{constructor(){this.start=null;this.end=null}},Al=nm;Al.Empty=new nm;function _b(t,e){let i=e.copy(),r=e.copy();return r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"group",introducedBy:t}),r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"key",introducedBy:t}),r.addScopeList("items",i),e.addScopeList("groups",r),e}function yb(t,e){let i=e.copy();return e.addScopeList("items",i),e}var Tb=[{name:"key_by",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Re-keys the array or collection using the provided field name.",docLink:null,parameters:[{name:"field",description:"The field to re-key the array or collection by."}],canBeParameter:!0,isDeprecated:!1},{name:"as",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Alias the array variable with a key.",docLink:"https://statamic.dev/modifiers/as",parameters:[{name:"alias",description:"The alias name."}],canBeParameter:!0,isDeprecated:!1},{name:"ampersand_list",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Converts the array into a comma delimited string, with an ampersand before the last item.",docLink:"https://statamic.dev/modifiers/ampersand_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"collapse",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Collapses an array of arrays into a single, flat, array.",docLink:"https://statamic.dev/modifiers/collapse",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"contains",acceptsType:["array","string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the value contains another value.",docLink:"https://statamic.dev/modifiers/contains",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1,isDeprecated:!1},{name:"count",acceptsType:["array"],returnsType:["number"],forFieldType:[],description:"Returns the number of items in the array.",docLink:"https://statamic.dev/modifiers/count",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"dl",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns an associative array into an HTML definition list.",docLink:"https://statamic.dev/modifiers/dl",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],forFieldType:[],description:"Breaks a string into an array on a given delimiter.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The delimiter to break the string apart on."}],canBeParameter:!0,isDeprecated:!1},{name:"flatten",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Flattens a multi-dimensional array.",docLink:"https://statamic.dev/modifiers/flatten",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"flip",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Swaps the array keys with their values.",docLink:"https://statamic.dev/modifiers/flip",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"group_by",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Groups the array items by the given key.",docLink:"https://statamic.dev/modifiers/group_by",parameters:[{name:"key",description:"The key to group by."}],canBeParameter:!0,augmentScope:_b,isDeprecated:!1},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],forFieldType:[],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1,isDeprecated:!1},{name:"is_empty",acceptsType:["array"],returnsType:["boolean"],forFieldType:[],description:"Tests if the array is empty.",docLink:"https://statamic.dev/modifiers/is_empty",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"join",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turn an array into a string by gluing together all the data.",docLink:"https://statamic.dev/modifiers/join",parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0,isDeprecated:!1},{name:"joinplode",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turn an array into a string by gluing together all the data.",docLink:null,parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0,isDeprecated:!1},{name:"limit",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Limits the number of items returned in the array",docLink:"https://statamic.dev/modifiers/limit",parameters:[{name:"count",description:"The maximum number of items to return."}],canBeParameter:!0,isDeprecated:!1},{name:"list",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Converts the array into a comma-separated string.",docLink:"https://statamic.dev/modifiers/list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"offset",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Offsets the items returned in the array.",docLink:"https://statamic.dev/modifiers/offset",parameters:[{name:"offset",description:"The one-based index to start retrieving items."}],canBeParameter:!0,isDeprecated:!1},{name:"ol",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns the array into an HTML ordered list.",docLink:"https://statamic.dev/modifiers/ol",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"option_list",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/option_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"pluck",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Plucks a value from a collection of items.",parameters:[{name:"value",description:"The value to pluck from the array or collection."}],canBeParameter:!0,docLink:null,isDeprecated:!1},{name:"pad",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Pads the array to a specified length with the given value.",docLink:"https://statamic.dev/modifiers/pad",parameters:[{name:"length",description:"The desired length of the array."},{name:"value",description:"The value to pad the array with."}],canBeParameter:!0,isDeprecated:!1},{name:"piped",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/piped",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"sentence_list",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:'Turns the array into a comma-delimited list, with the word "and" before the last item.',docLink:"https://statamic.dev/modifiers/sentence_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"shuffle",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Randomizes the order of array elements.",docLink:"https://statamic.dev/modifiers/shuffle",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"sort",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Sorts the array by a key in ascending or descending order.",docLink:"https://statamic.dev/modifiers/sort",parameters:[{name:"key",description:"The key to sort by."},{name:"order",description:"The sort direction. `asc` or `desc`."}],canBeParameter:!0,isDeprecated:!1},{name:"sum",acceptsType:["array"],returnsType:["number"],forFieldType:[],description:"Returns the sum of all items in the array.",docLink:"https://statamic.dev/modifiers/sum",parameters:[{name:"key",description:"The value to sum."}],canBeParameter:!1,isDeprecated:!1},{name:"ul",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns the array into an HTML unordered list.",docLink:"https://statamic.dev/modifiers/ul",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"unique",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Returns all unique items in the array.",docLink:"https://statamic.dev/modifiers/unique",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"where",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Filters the array by a given key and value.",docLink:"https://statamic.dev/modifiers/where",parameters:[{name:"key",description:"The property to filter by."},{name:"value",description:"The value to compare to."}],canBeParameter:!0,isDeprecated:!1},{name:"split",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Splits an array into smaller arrays with the provided size.",canBeParameter:!0,docLink:"",parameters:[{name:"size",description:"The size of each new array"}],augmentScope:yb,isDeprecated:!1},{name:"compact",acceptsType:["string"],returnsType:["array"],forFieldType:[],description:"Accepts a comma-delimited list of variable names and return an array with their values.",canBeParameter:!0,docLink:"",parameters:[{name:"variables",description:"A comma-delimited list of variable names."}],isDeprecated:!1}];var bb=[{name:"background_position",acceptsType:["string"],returnsType:["string"],forFieldType:["assets"],description:"Converts an asset focal point into a background-position CSS property.",docLink:"https://statamic.dev/modifiers/background_position",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"image",acceptsType:["string"],returnsType:["string"],forFieldType:["assets"],description:"Generates an HTML image element with the variable's value as the src.",docLink:"https://statamic.dev/modifiers/image",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"output",acceptsType:["string"],returnsType:["string"],forFieldType:["assets"],description:"Returns the string output of an Asset file's contents.",docLink:"https://statamic.dev/modifiers/output",parameters:[],canBeParameter:!1,isDeprecated:!1}];var vb=[{name:"contains_all",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_all",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"contains_any",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_any",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"ends_with",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if a string ends with another string.",docLink:"https://statamic.dev/modifiers/ends_with",parameters:[{name:"value",description:"The value to check against."}],canBeParameter:!1,isDeprecated:!1},{name:"has_lower_case",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains any lowercase characters.",docLink:"https://statamic.dev/modifiers/has_lower_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"has_upper_case",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains any uppercase characters.",docLink:"https://statamic.dev/modifiers/has_upper_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],forFieldType:[],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"is_after",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is after another date.",docLink:"https://statamic.dev/modifiers/is_after",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1,isDeprecated:!1},{name:"is_alphanumeric",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains only alphanumeric characters.",docLink:"https://statamic.dev/modifiers/is_alphanumeric",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_before",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if a date is before another date.",docLink:"https://statamic.dev/modifiers/is_before",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1,isDeprecated:!1},{name:"is_between",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if a date is between two other dates.",docLink:"https://statamic.dev/modifiers/is_between",parameters:[{name:"start_date",description:"The start date to compare."},{name:"end_date",description:"The end date to compare."}],canBeParameter:!1,isDeprecated:!1},{name:"is_blank",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains only whitespace characters.",docLink:"https://statamic.dev/modifiers/is_blank",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],forFieldType:["text","textarea"],description:"Tests if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_future",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is in the future.",docLink:"https://statamic.dev/modifiers/is_future",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_json",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string is valid JSON.",docLink:"https://statamic.dev/modifiers/is_json",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_leap_year",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is a leap year.",docLink:"https://statamic.dev/modifiers/is_leap_year",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_numeric",acceptsType:["string","number"],returnsType:["boolean"],forFieldType:[],description:"Tests if the value is a number or numeric string.",docLink:"https://statamic.dev/modifiers/is_numeric",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_past",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is in the past.",docLink:"https://statamic.dev/modifiers/is_past",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_today",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is today.",docLink:"https://statamic.dev/modifiers/is_today",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_uppercase",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains only uppercase characters.",docLink:"https://statamic.dev/modifiers/is_uppercase",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_weekday",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is a week day.",docLink:"https://statamic.dev/modifiers/is_weekday",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_weekend",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is a weekend day.",docLink:"https://statamic.dev/modifiers/is_weekend",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_yesterday",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is yesterday.",docLink:"https://statamic.dev/modifiers/is_yesterday",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_tomorrow",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is tomorrow.",docLink:null,parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"starts_with",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if a value starts with the provided value.",docLink:"https://statamic.dev/modifiers/starts_with",parameters:[{name:"value",description:"The value to test for."}],canBeParameter:!1,isDeprecated:!1}];var Ib=[{name:"days_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of days since a given date.",docLink:"https://statamic.dev/modifiers/days_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"format_translated",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Returns a formatted Carbon datetime/string.",docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!1},{name:"format",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Formats the date using the provided format using PHP's [date variables](https://www.php.net/date).",hoverDescription:`Formats the date using the provided format using PHP's [date variables](https://www.php.net/date).

## Formatting Options

See [PHP: DateTimeInterface::format](https://www.php.net/manual/en/datetime.format.php) for all available options.

| Format Character | Description | Example |
|:----|----|---|
| Day | --- | --- |
| d | Day of the month, 2 digits with leading zeros | 01 to 31 |
| D |A textual representation of a day | Mon - Sun |
| j | Day of the month, without leading zeros | 1 - 31 |
| l | The day of the week | Sunday - Saturday |
| N | ISO 8601 representation of the day of the week | 1 (Monday) - 7 (Sunday) |
| S | English ordinal suffix for the day | st, nd, rt, or th |
| w | Numeric day of the week | 0 (Sunday) - 6 (Saturday) |
| z | Day of the year, starting at 0 | 0 - 365 |
| Week | --- | --- |
| W | ISO 8601 week number of the year, starting on Monday | 42 |
| Month | --- | --- |
| F | Text representation of the month | January - December |
| m | Numeric representation of the month, with leading zeros | 01 - 12 |
| M | A short text representation of the month | Jan - Dec |
| n | Numeric representation of the month | 1 - 12 |
| t | Number of days in the month | 28 - 31 |
| Year | --- | --- |
| L | Indicates if it's a leap year | 1 if true, 0 otherwise |
| Y | Four digit representation of the year | 2022 |
| y | Two digit representation of the year | 22 |
| Time | --- | --- |
| a | Lowercase Anti meridiem and Post meridiem | am or pm |
| A | Uppercase Anti meridiem and Post meridiem | AM or PM |
| g | 12-hour hour format without leading zeros | 1 - 12 |
| G | 24-hour hour format without leading zeros | 0 - 23 |
| h | 12-hour hour format with leading zeros | 01 - 12 |
| H | 24-hour hour format with leading zeros | 00 - 23 |
| i | Minutes with leading zeros | 00 - 59 |
| s | Seconds with leading zeros | 00 - 59 |
| Timezone | --- | --- |
| e | Timezone identifier | UTC, GMT |
| I | Indicates if date is in daylight saving time | 1 if true, 0 otherwise |
| T | Timezone appreviation | EST, MDT, +05 |
`,docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!1},{name:"format_localized",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Formats the date using server's locale, using PHP's [strftime format variables](https://www.php.net/strftime).",docLink:"https://statamic.dev/modifiers/format_localized",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!0,getDeprecatedMessage(){return"The format_localized modifier is deprecated. Alternatives, such as the iso_format modifier, should be used instead."}},{name:"hours_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of hours since the date.",docLink:"https://statamic.dev/modifiers/hours_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"iso_format",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Formats the date using an ISO format.",docLink:"https://statamic.dev/modifiers/iso_format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!1,isDeprecated:!1},{name:"minutes_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of minutes since the date.",docLink:"https://statamic.dev/modifiers/minutes_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"modify_date",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Alters the date by incrementing or decrementing it in a format accepted by PHP's [strtotime](https://www.php.net/strtotime) function.",docLink:"https://statamic.dev/modifiers/modify_date",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"months_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of months since the date.",docLink:"https://statamic.dev/modifiers/months_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"relative",acceptsType:["string","date"],returnsType:["string"],forFieldType:["date"],description:"Returns a human readable date difference.",docLink:"https://statamic.dev/modifiers/relative",parameters:[{name:"add_ago",description:"Whether to add the relative suffix words at the end of the string."}],canBeParameter:!1,isDeprecated:!1},{name:"seconds_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of seconds since the date.",docLink:"https://statamic.dev/modifiers/seconds_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"timezone",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Applies a timezone to the date.",docLink:"https://statamic.dev/modifiers/timezone",parameters:[{name:"timezone",description:"The timezone to apply."}],canBeParameter:!1,isDeprecated:!1},{name:"weeks_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of weeks since the date.",docLink:"https://statamic.dev/modifiers/weeks_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"years_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of years since the date.",docLink:"https://statamic.dev/modifiers/years_ago",parameters:[],canBeParameter:!1,isDeprecated:!1}];var Pb=[{name:"chunk",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Breaks the array or collection into smaller arrays of a given size.",docLink:"https://statamic.dev/modifiers/chunk",parameters:[{name:"chunk_size",description:"The maximum length of each new chunk."}],canBeParameter:!0,isDeprecated:!1},{name:"favicon",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Generates a favicon HTML meta tag for the given value.",docLink:"https://statamic.dev/modifiers/favicon",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"first",acceptsType:["string","array"],returnsType:["*"],forFieldType:[],description:"Returns the specified number of characters from the beginning of the string.",docLink:"https://statamic.dev/modifiers/first",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0,isDeprecated:!1},{name:"last",acceptsType:["string","array"],returnsType:["*"],forFieldType:[],description:"Returns the specified number of characters from the end of the string.",docLink:"https://statamic.dev/modifiers/last",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0,isDeprecated:!1},{name:"link",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Generates an HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/link",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"mailto",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Generates a mailto HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/mailto",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"markdown",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Parses the value as Markdown and returns the HTML.",docLink:"https://statamic.dev/modifiers/markdown",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"nl2br",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces line breaks with HTML `<br>` tags.",docLink:"https://statamic.dev/modifiers/nl2br",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"obfuscate",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Modifies the input string by replacing it with special characters, making it harder for bots but remains readable to site visitors.",docLink:"https://statamic.dev/modifiers/obfuscate",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"obfuscate_email",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Obfuscates an email address with special HTML characters.",docLink:"https://statamic.dev/modifiers/obfuscate_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"strip_tags",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Removes HTML tags from the string.",docLink:"https://statamic.dev/modifiers/strip_tags",parameters:[{name:"tags",description:"The HTML tag(s) to remove from the string."}],canBeParameter:!1,isDeprecated:!1},{name:"table",acceptsType:["array"],returnsType:["string"],forFieldType:["table"],description:"Turns a [Table FieldType](https://statamic.dev/fieldtypes/table) array into an HTML table.",docLink:"https://statamic.dev/modifiers/table",parameters:[{name:"content_markdown",description:"Whether to parse cell contents as Markdown."}],canBeParameter:!1,isDeprecated:!1},{name:"textile",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Parses a string with [Textile](http://demo.textilewiki.com/theme-default/) and returns the HTML.",docLink:"https://statamic.dev/modifiers/textile",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"wrap",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Wraps a string with a given HTML tag.",docLink:"https://statamic.dev/modifiers/wrap",parameters:[{name:"expression",description:"The HTML tag or Emmet-style expression to wrap the value in."}],canBeParameter:!1,isDeprecated:!1}];var Nb=[{name:"add",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!0,isDeprecated:!1},{name:"+",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!1,isDeprecated:!1},{name:"ceil",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Rounds the value to the next whole number.",docLink:"https://statamic.dev/modifiers/ceil",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"divide",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Divides two values.",docLink:"https://statamic.dev/modifiers/divide",parameters:[{name:"value",description:"The value to divide."}],canBeParameter:!0,isDeprecated:!1},{name:"floor",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Rounds a number down to the next whole number.",docLink:"https://statamic.dev/modifiers/floor",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"format_number",acceptsType:["number"],returnsType:["string"],forFieldType:[],description:"Formats a number.",docLink:"https://statamic.dev/modifiers/format_number",parameters:[{name:"precision",description:"Number of decimal places before rounding."},{name:"decimal_separator",description:"The decimal separator (defaults to `.`)."},{name:"thousands_separator",description:"The thousands separator (default `,`)."}],canBeParameter:!0,isDeprecated:!1},{name:"mode",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"",docLink:"",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"multiply",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!0,isDeprecated:!1},{name:"*",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!1,isDeprecated:!1},{name:"round",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Rounds a number to a specified precision.",docLink:"https://statamic.dev/modifiers/round",parameters:[{name:"precision",description:"The number of digits after the decimal point."}],canBeParameter:!0,isDeprecated:!1},{name:"subtract",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!0,isDeprecated:!1},{name:"-",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!1,isDeprecated:!1}];var Sb=[{name:"partial",acceptsType:["*"],returnsType:["*view*"],forFieldType:[],description:"Injects data into a partial and renders it.",docLink:"https://statamic.dev/modifiers/partial",parameters:[{name:"partial",description:"The name of the partial."}],canBeParameter:!1,isDeprecated:!1},{name:"macro",acceptsType:["*"],returnsType:["*"],forFieldType:[],description:"Runs a pre-configured macro on the data.",docLink:"https://statamic.dev/modifiers/macro",parameters:[{name:"macro",description:"The macro name."}],canBeParameter:!1,isDeprecated:!1},{name:"url",acceptsType:["string","*"],returnsType:["string"],forFieldType:[],description:"Locates the URL of an asset, page, entry, or taxonomy term based on the variable contents.",docLink:"https://statamic.dev/modifiers/url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"bool_string",acceptsType:["boolean","*"],returnsType:["string"],canBeParameter:!1,description:'Converts the provided value to a "true" or "false" string',docLink:null,forFieldType:["toggle"],isDeprecated:!1,parameters:[{name:"value",description:"The truthy value to convert to a string"}]}];var Rb=[{name:"ascii",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces all non-ASCII characters with their closest ASCII counterparts.",docLink:"https://statamic.dev/modifiers/ascii",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"at",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns the character at a given zero-based position.",docLink:"https://statamic.dev/modifiers/at",parameters:[{name:"position",description:"The zero-based position to retrieve a character from."}],canBeParameter:!0,isDeprecated:!1},{name:"backspace",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Removes a specified number of characters from the end of a string.",docLink:"https://statamic.dev/modifiers/backspace",parameters:[{name:"character_count",description:"The number of characters to remove from the end of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"camelize",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts the string into camelCase.",docLink:"https://statamic.dev/modifiers/camelize",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"cdata",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Wraps the string in CDATA XML tags.",docLink:"https://statamic.dev/modifiers/cdata",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"collapse_whitespace",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Trims a string and replaces consecutive whitespace characters with a single space.",docLink:"https://statamic.dev/modifiers/collapse_whitespace",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"count_substring",acceptsType:["string"],returnsType:["number"],forFieldType:[],description:"Counts the number of occurrences of a term within the string.",docLink:"https://statamic.dev/modifiers/count_substring",parameters:[{name:"term",description:"The sub-string to search for"}],canBeParameter:!0,isDeprecated:!1},{name:"dashify",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a lower-cased and trimmed string, separated by dashes.",docLink:"https://statamic.dev/modifiers/dashify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"deslugify",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces all hyphens and underscores with spaces.",docLink:"https://statamic.dev/modifiers/deslugify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"embed_url",acceptsType:["string"],returnsType:["string"],forFieldType:["video"],description:"Converts a YouTube or Viemo link into their embed URLs.",docLink:"https://statamic.dev/modifiers/embed_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"trackable_embed_url",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Get the embed URL when given a youtube or vimeo link that's direct to the page.",docLink:null,parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"ensure_left",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Ensures that the string begins with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_left",parameters:[{name:"start_string",description:"The value that should be at the start of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"ensure_right",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Ensures that the string ends with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_right",parameters:[{name:"end_string",description:"The value that should be at the end of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"entities",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Encode a string with HTML entities.",docLink:"https://statamic.dev/modifiers/entities",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"excerpt",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Breaks a string at a given marker.",docLink:"https://statamic.dev/modifiers/excerpt",parameters:[{name:"marker",description:"The string to break by."}],canBeParameter:!1,isDeprecated:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],forFieldType:[],description:"Breaks a string into an array of strings.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The string to split the larger string by."}],canBeParameter:!0,isDeprecated:!1},{name:"gravatar",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts an email string to a Gravatar image URL.",docLink:"https://statamic.dev/modifiers/gravatar",parameters:[{name:"image size",description:"The desired image size."}],canBeParameter:!0,isDeprecated:!1},{name:"insert",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Inserts a string at the position provided.",docLink:"https://statamic.dev/modifiers/insert",parameters:[{name:"value",description:"The value to insert."},{name:"position",description:"The zero based position to insert the text at."}],canBeParameter:!0,isDeprecated:!1},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Returns true if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_embeddable",acceptsType:["string"],returnsType:["boolean"],forFieldType:["video"],description:"Checks to see if a video URL is embeddable.",docLink:"https://statamic.dev/modifiers/is_embeddable",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_lowercase",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Returns true if the string contains only lowercase characters.",docLink:"https://statamic.dev/modifiers/is_lowercase",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Returns true if a string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"lcfirst",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts the first character of the value to lower case.",docLink:"https://statamic.dev/modifiers/lcfirst",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"length",acceptsType:["string"],returnsType:["number"],forFieldType:[],description:"Returns the number of items in an array or number of characters in a string.",docLink:"https://statamic.dev/modifiers/length",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"lower",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts all characters to lowercase.",docLink:"https://statamic.dev/modifiers/lower",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"md5",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Creates an MD5 hash of the variable.",docLink:"https://statamic.dev/modifiers/md5",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"rawurlencode",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"URL-encode a variable according to RFC-3986.",docLink:"https://statamic.dev/modifiers/rawurlencode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"read_time",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns an estimated read time, in minutes.",docLink:"https://statamic.dev/modifiers/read_time",parameters:[{name:"words per minute",description:"The words per minute to use as an estimate."}],canBeParameter:!0,isDeprecated:!1},{name:"regex_replace",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces all regex matches with a string.",docLink:"https://statamic.dev/modifiers/regex_replace",parameters:[{name:"pattern",description:"The regex pattern."},{name:"replace",description:"The replacement value."}],canBeParameter:!0,isDeprecated:!1},{name:"remove_left",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Ensures that the string never begins with a specified string.",docLink:"https://statamic.dev/modifiers/remove_left/",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0,isDeprecated:!1},{name:"remove_right",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Ensures that a string never ends with a specified string.",docLink:"https://statamic.dev/modifiers/remove_right",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0,isDeprecated:!1},{name:"replace",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces all occurrences of a string with a different value.",docLink:"https://statamic.dev/modifiers/replace",parameters:[{name:"needle",description:"The string to search for."},{name:"value",description:"The value to replace all occurrences with."}],canBeParameter:!0,isDeprecated:!1},{name:"reverse",acceptsType:["string","array"],returnsType:["string","array"],forFieldType:[],description:"Reverses all characters in a string, or all items in an array.",docLink:"https://statamic.dev/modifiers/reverse",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"safe_truncate",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/safe_truncate",parameters:[{name:"length",description:"The desired string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1,isDeprecated:!1},{name:"sanitize",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts special characters to HTML entities.",docLink:"https://statamic.dev/modifiers/sanitize",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"segment",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a segment by number from any valid URL or URI.",docLink:"https://statamic.dev/modifiers/segment",parameters:[{name:"segment",description:"The one-based segment to return."}],canBeParameter:!0,isDeprecated:!1},{name:"singular",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns the singular form of an English word.",docLink:"https://statamic.dev/modifiers/singular",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"slugify",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts the string into an URL slug.",docLink:"https://statamic.dev/modifiers/slugify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"smartypants",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Translates plain ASCII punctuation characters into typographic punctuation HTML entities.",docLink:"https://statamic.dev/modifiers/smartypants",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"spaceless",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Removes excess whitespace and line breaks from a string.",docLink:"https://statamic.dev/modifiers/spaceless",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"substr",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a portion of a string based on provided a start index, and optional length.",docLink:"https://statamic.dev/modifiers/substr",parameters:[{name:"start",description:"The 0-based index to start searching."},{name:"length",description:"An optional length for the string to find."}],canBeParameter:!1,isDeprecated:!1},{name:"surround",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Surrounds a string with another string.",docLink:"https://statamic.dev/modifiers/surround",parameters:[{name:"value",description:"The value to surround the string with."}],canBeParameter:!1,isDeprecated:!1},{name:"swap_case",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a case swapped version of the string.",docLink:"https://statamic.dev/modifiers/swap_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"tidy",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a string with smart quotes, ellipsis characters, and dashes from Windows-1252 replaced by ASCII equivalents.",docLink:"https://statamic.dev/modifiers/tidy",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"title",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a Title Cased version of the string.",docLink:"https://statamic.dev/modifiers/title",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"trim",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Removes whitespace from the start and end of the string.",docLink:"https://statamic.dev/modifiers/trim",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"truncate",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/truncate",parameters:[{name:"length",description:"The maximum string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1,isDeprecated:!1},{name:"ucfirst",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Upper cases the first character in the string.",docLink:"https://statamic.dev/modifiers/ucfirst",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"underscored",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a lower-cased and trimmed version of the string, separated by underscores.",docLink:"https://statamic.dev/modifiers/underscored",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"upper",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Transforms the string to uppercase.",docLink:"https://statamic.dev/modifiers/upper",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"urldecode",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"URL-decodes the string.",docLink:"https://statamic.dev/modifiers/urldecode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"urlencode",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"URL-encodes the string.",docLink:"https://statamic.dev/modifiers/urlencode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"widont",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Attempts to prevent lines with single words.",docLink:"https://statamic.dev/modifiers/widont",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"word_count",acceptsType:["string"],returnsType:["number"],forFieldType:[],description:"Returns the number of words in the string.",docLink:"https://statamic.dev/modifiers/word_count",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"add_slashes",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Adds slashes before characters that need to be escaped.",docLink:"https://statamic.dev/modifiers/add_slashes",canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"antlers",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Parses the provided value as Antlers, and returns the result",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"bard_items",acceptsType:["string"],returnsType:["array"],forFieldType:["bard"],description:"Converts a Bard value to a flat array of nodes and marks",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"bard_text",acceptsType:["array","string"],returnsType:["string"],forFieldType:["bard"],description:"Converts a Bard value to plain text (excluding sets)",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"bard_html",acceptsType:["array","string"],returnsType:["string"],forFieldType:["bard"],description:"Converts a Bard value to HTML (excluding sets)",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"mark",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Wraps matched words and phrases in <mark> tags.",docLink:null,canBeParameter:!1,parameters:[{name:"search",description:"The search word or phrase to wrap in <mark> tags."}],isDeprecated:!1},{name:"regex_mark",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Wraps matched words and phrases in <mark> tags using regular expressions.",docLink:null,canBeParameter:!1,parameters:[{name:"pattern",description:"The search pattern used to wrap content in <mark> tags."}],isDeprecated:!1}];var Cb=[{name:"console_log",acceptsType:["*"],returnsType:["null"],forFieldType:[],description:"Displays variable data in the browser's JavaScript console.",docLink:"https://statamic.dev/modifiers/console_log",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"decode",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts all HTML entities to their applicable character codes.",docLink:"https://statamic.dev/modifiers/decode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"dump",acceptsType:["*"],returnsType:["null"],forFieldType:[],description:"Displays variable data in the browser.",docLink:"https://statamic.dev/modifiers/dump",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"full_urls",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces root-relative URLs with absolute URLs.",docLink:"https://statamic.dev/modifiers/full_urls",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"repeat",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Repeats a value a given number of times.",docLink:"https://statamic.dev/modifiers/repeat",parameters:[{name:"repeat_count",description:"The number of times to repeat the value."}],canBeParameter:!0,isDeprecated:!1},{name:"to_spaces",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts all tabs to spaces.",docLink:"https://statamic.dev/modifiers/to_spaces",parameters:[{name:"space_count",description:"The number of spaces to replace tabs with."}],canBeParameter:!1,isDeprecated:!1},{name:"to_tabs",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts spaces to tabs.",docLink:"https://statamic.dev/modifiers/to_tabs",parameters:[{name:"space_count",description:"The number of spaces to convert to tabs."}],canBeParameter:!1,isDeprecated:!1},{name:"to_json",acceptsType:["*"],returnsType:["string"],forFieldType:[],description:"Converts the data to JSON.",docLink:"https://statamic.dev/modifiers/to_json",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"to_bool",acceptsType:["*"],returnsType:["boolean"],forFieldType:[],description:"Converst the data to a boolean",parameters:[],canBeParameter:!1,docLink:null,isDeprecated:!1}];var cs=class{constructor(){this.registeredModifiers=new Map;this.acceptTypedModifierReference=new Map;this.returnTypeModifierReference=new Map;this.macros=new Map;this.modifierNameCache=[]}reset(){this.modifierNameCache=[],this.registeredModifiers.clear(),this.acceptTypedModifierReference.clear(),this.returnTypeModifierReference.clear()}getRegisteredModifiers(){return this.registeredModifiers}resetMacros(){this.macros.clear()}loadCoreModifiers(){this.registerModifiers(Tb),this.registerModifiers(bb),this.registerModifiers(vb),this.registerModifiers(Ib),this.registerModifiers(Pb),this.registerModifiers(Nb),this.registerModifiers(Cb),this.registerModifiers(Rb),this.registerModifiers(Sb)}getModifierNames(){return this.modifierNameCache}registerMacro(e){this.macros.set(e.name,e)}registerMacros(e){for(let i=0;i<e.length;i++)this.registerMacro(e[i])}hasMacro(e){if(this.macros.has(e)){let i=this.macros.get(e);return!(typeof i=="undefined"||i===null)}return!1}getMacro(e){if(this.macros.has(e)){let i=this.macros.get(e);return typeof i=="undefined"||i===null?null:i}return null}getMacroManifestingType(e){let i=this.getMacro(e);return i==null?"":i.manifestsType}getRegisteredModifier(e){return this.registeredModifiers.has(e)?this.registeredModifiers.get(e):null}getModifiersForType(e){let i=lc(e);return this.acceptTypedModifierReference.has(i)?this.acceptTypedModifierReference.get(i):[]}getProbableReturnType(e,i){return e==null||e.returnsType.length==0?"":i&&e.returnsType.includes("array")?"array":e.returnsType[0]}registerModifiers(e){var i,r;for(let n=0;n<e.length;n++){let s=e[n];this.modifierNameCache.push(s.name);for(let a=0;a<s.acceptsType.length;a++){let o=s.acceptsType[a];this.acceptTypedModifierReference.has(o)==!1&&this.acceptTypedModifierReference.set(o,[]),(i=this.acceptTypedModifierReference.get(o))==null||i.push(s)}for(let a=0;a<s.returnsType.length;a++){let o=s.returnsType[a];this.returnTypeModifierReference.has(o)==!1&&this.returnTypeModifierReference.set(o,[]),(r=this.returnTypeModifierReference.get(o))==null||r.push(s)}this.registeredModifiers.set(e[n].name,e[n])}}registerModifier(e){let i=[];i.push(e),this.registerModifiers(i)}getModifier(e){if(this.registeredModifiers.has(e)==!1)return null;let i=this.registeredModifiers.get(e);return typeof i=="undefined"||i==null?null:i}hasModifier(e){if(!this.registeredModifiers.has(e))return!1;let i=this.registeredModifiers.get(e);return!(typeof i=="undefined"||i==null)}};cs.instance=null;(typeof cs.instance=="undefined"||cs.instance==null)&&(cs.instance=new cs,cs.instance.loadCoreModifiers());var je=cs;var sm=class{constructor(e){this.parameterModifiers=[];this.hasMixedModifierStyles=!1;this.modifierNames=[];this.node=e}isPaired(){return this.node instanceof G?this.node.isPaired():!1}getModifierValue(e){var i;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let n=this.node.modifierChain.modifierChain[r];if(((i=n.nameNode)==null?void 0:i.name)==e)return n.valueNodes.length>0?n.valueNodes[0].content:""}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let n=this.parameterModifiers[r];if(n.name==e)return n.value}return null}getModifierRange(e){var i;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let n=this.node.modifierChain.modifierChain[r];if(((i=n.nameNode)==null?void 0:i.name)==e)return n.valueNodes.length>0?{start:n.startPosition,end:n.endPosition}:null}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let n=this.parameterModifiers[r];if(n.name==e&&n.namePosition!=null&&n.valuePosition!=null)return{start:n.namePosition.start,end:n.valuePosition.end}}return null}getLastManifestedModifierRuntimeType(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null){if(this.node.modifierChain.lastManifestedModifier.parameters.length>0&&this.node.modifierChain.lastManifestedModifier.modifier!=null&&je.instance!=null){let e=this.node.modifierChain.lastManifestedModifier.modifier;return je.instance.getProbableReturnType(e,this.isPaired())}return"*"}if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let i=0;i<e.length;i++)if(e[i].modifier!=null&&je.instance!=null){let r=e[i].modifier;return je.instance.getProbableReturnType(r,this.isPaired())}}return"*"}getLastManifestedModifierValue(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null)return this.node.modifierChain.lastManifestedModifier.parameters.length>0?this.node.modifierChain.lastManifestedModifier.parameters[0].value:"";if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let i=0;i<e.length;i++)if(e[i].modifier!=null)return e[i].value}return""}getLastManifestedModifier(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastModifier!=null)return this.node.modifierChain.lastModifier;if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let i=0;i<e.length;i++)if(e[i].modifier!=null)return e[i].modifier}return null}hasModifiers(){return this.node.modifierChain==null||this.node.modifierChain.modifierChain.length==0?this.parameterModifiers.length>0:!0}hasParameterModifiers(){return this.parameterModifiers.length>0}hasShorthandModifiers(){return this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0}hasModifier(e){return this.modifierNames.includes(e)}};function am(t){let e=[];return t.forEach(i=>{i instanceof G?e.push(i):i instanceof st&&i.logicBranches.length>0&&i.logicBranches.forEach(r=>{if(r.head!=null){let n=r.head;n.originalNode!=null?e.push(n.originalNode):e.push(n)}})}),e}var Yx=[" ",`
`,"\r","	","\f","\v","\xA0","\u2000","\u2001","\u2002","\u2003","\u2004","\u2005","\u2006","\u2007","\u2008","\u2009","\u200A","\u200B","\u2028","\u2029","\u3000"].join("");function Ab(t){return(typeof t=="number"||typeof t=="string"&&Yx.indexOf(t.slice(-1))===-1)&&t!==""&&!isNaN(t)}var K=class{static boolLabel(e){return e?"true":"false"}static normalizeLineEndings(e,i=`
`){return e.replace(/\r?\n/g,i)}static breakByNewLine(e){return e.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`)}static split(e){return e.split("")}static substring(e,i,r){return e.substr(i,r)}static ctypeSpace(e){return(e==null?void 0:e.search(/^[\f\n\r\t\v ]+$/g))!==-1}static ctypeAlpha(e){return(e==null?void 0:e.search(/^[A-Za-z]+$/g))!==-1}static ctypeDigit(e){return(e==null?void 0:e.search(/^[\d]+$/g))!==-1}static ctypePunct(e){return(e==null?void 0:e.search(/^[\u0021-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007E]+$/g))!==-1}static trimLeft(e,i="\\s"){return e.replace(new RegExp("^["+i+"]+"),"")}static trimRight(e,i="\\s"){return e.replace(new RegExp("["+i+"]+$"),"")}static isNumeric(e){return Ab(e)}static substringCount(e,i){let r=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return(e.match(new RegExp(r,"gi"))||[]).length}static getLastLine(e){let i=K.breakByNewLine(e);return i.length==0?"":i[i.length-1]}static getFirstLine(e){let i=K.breakByNewLine(e);return i.length==0?"":i[0]}};var om=class{constructor(e){this.node=e}findParentWithName(e){let i=this.node.getParser();return i==null?null:i.structure.findParentWithName(e,this.node)}};var wb=te(uc());var k=class{constructor(){this.node=null;this.errorCode="";this.message="";this.level=0;this.range=null;this.actions=[];this.lsRange=null;this.data=null}hash(){var i,r,n,s;let e="";return this.node!=null&&(e=((r=(i=this.node.endPosition)==null?void 0:i.offset)!=null?r:0).toString()+"|"+((s=(n=this.node.startPosition)==null?void 0:n.offset)!=null?s:0).toString()+"|"),wb.Md5.hashStr(e+"|"+this.errorCode)}static makeSyntaxError(e,i,r,n){n==null&&(n=0);let s=new k;return s.errorCode=e,s.node=i,s.message=r,s.level=n,s}};var I=class{};I.TYPE_EXPECTING_OPERAND="ANTLR_001",I.TYPE_UNEXPECTED_END_OF_INPUT="ANTLR_002",I.TYPE_RUNTIME_TYPE_MISMATCH="ANTLR_003",I.TYPE_RUNTIME_DIVIDE_BY_ZERO="ANTLR_004",I.TYPE_RUNTIME_UNKNOWN_LANG_OPERATOR="ANTLR_005",I.TYPE_RUNTIME_UNEXPECTED_STACK_CONDITION="ANTLR_006",I.TYPE_RUNTIME_PARSE_VALUE_VIOLATION="ANTLR_007",I.TYPE_PARSE_UNCLOSED_CONDITIONAL="ANTLR_008",I.TYPE_PARSE_EMPTY_CONDITIONAL="ANTLR_009",I.TYPE_PARSE_UNPAIRED_CONDITIONAL="ANTLR_008",I.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE="ANTLR_009",I.TYPE_INCOMPLETE_ANTLERS_REGION="ANTLR_010",I.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION="ANTLR_011",I.TYPE_ILLEGAL_VARPATH_RIGHT="ANTLR_012",I.TYPE_ILLEGAL_DOTVARPATH_RIGHT="ANTLR_013",I.TYPE_ILLEGAL_VARPATH_SUBPATH_START="ANTLR_014",I.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT="ANTLR_015",I.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR="ANTLR_016",I.TYPE_ILLEGAL_VARIABLE_NAME="ANTLR_017",I.TYPE_UNSET_MODIFIER_DETAILS="ANTLR_018",I.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS="ANTLR_019",I.TYPE_MODIFIER_UNEXPECTED_VALUE="ANTLR_020",I.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST="ANTLR_021",I.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR="ANTLR_022",I.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH="ANTLR_023",I.TYPE_RECURSIVE_UNPAIRED_NODE="ANTLR_024",I.TYPE_RECURSIVE_NODE_INVALID_POSITION="ANTLR_025",I.TYPE_NO_PARSE_UNASSOCIATED="ANTLR_026",I.TYPE_RECURSIVE_NODE_UNASSOCIATED_PARENT="ANTLR_027",I.TYPE_LOGIC_GROUP_NO_END="ANTLR_028",I.TYPE_LOGIC_GROUP_NO_START="ANTLR_029",I.TYPE_UNEXPECTED_BRANCH_SEPARATOR="ANTLR_030",I.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE="ANTLR_031",I.TYPE_UNEXPECTED_MODIFIER_SEPARATOR="ANTLR_032",I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS="ANTLR_033",I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE="ANTLR_034",I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER="ANTLR_035",I.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE="ANTLR_036",I.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS="ANTLR_037",I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SEMANTIC_GROUP="ANTLR_038",I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP="ANTLR_039",I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP="ANTLR_040",I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH="ANTLR_041",I.TYPE_UNEXPECTED_EOI_WHILE_EXITING_TERNARY_GROUP="ANTLR_042",I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET="ANTLR_043",I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION="ANTLR_044",I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END="ANTLR_045",I.TYPE_RUNTIME_UNKNOWN_LIBRARY="ANTLR_046",I.TYPE_RUNTIME_LIBRARY_BAD_METHOD_CALL="ANTLR_047",I.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS="ANTLR_048",I.TYPE_UNEXPECTED_FACTORIAL_OPERAND="ANTLR_049",I.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR="ANTLR_050",I.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED="ANTLR_051",I.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT="ANTLR_052",I.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP="ANTLR_053",I.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT="ANTLR_054",I.TYPE_LIBRARY_CALL_NO_ARGS_PROVIDED="ANTLR_055",I.TYPE_LIBRARY_CALL_MISSING_REQUIRED_FORMAL_ARG="ANTLR_056",I.TYPE_LIBRARY_CALL_RUNTIME_TYPE_MISMATCH="ANTLR_057",I.TYPE_LIBRARY_CALL_UNEXPECTED_ARG_RESOLVE_FAULT="ANTLR_058",I.TYPE_LIBRARY_CALL_TOO_MANY_ARGUMENTS="ANTLR_059",I.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD="ANTLR_060",I.TYPE_INVALID_NAMED_ARG_IDENTIFIER="ANTLR_061",I.TYPE_LIBRARY_CALL_INVALID_ARGUMENT_NAME="ANTLR_062",I.TYPE_RUNTIME_ATTEMPT_TO_OVERWRITE_LOADED_LIBRARY="ANTLR_063",I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP="ANTLR_064",I.TYPE_EXPECTING_ARGUMENT_GROUP="ANTLR_065",I.TYPE_RUNTIME_PROTECTED_LIBRARY_ACCESS_VIOLATION="ANTLR_066",I.TYPE_RUNTIME_FATAL_UNPAIRED_LOOP_END="ANTLR_067",I.TYPE_UNEXPECTED_OPERATOR="ANTLR_068",I.TYPE_OPERATOR_INVALID_ON_RIGHT="ANTLR_069",I.TYPE_INVALID_ASSIGNMENT_LOOP_PAIR="ANTLR_070",I.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP="ANTLR_071",I.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND="ANTLR_072",I.TYPE_QUERY_UNSUPPORTED_VALUE_TYPE="ANTLR_073",I.TYPE_UNEXPECTED_RUNTIME_RESULT_FOR_ORDER_BY_CLAUSE="ANTLR_074",I.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP="ANTLR_075",I.TYPE_INVALID_ORDER_BY_NAME_VALUE="ANTLR_076",I.TYPE_INVALID_ORDER_BY_SORT_VALUE="ANTLR_077",I.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY="ANTLR_78",I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY="ANTLR_079",I.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE="ANTLR_080",I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP="ANTLR_081",I.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP="ANTLR_082",I.TYPE_UNEXPECTED_SWITCH_START_VALUE="ANTLR_083",I.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE="ANTLR_084",I.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_SEMANTIC_VALUE="ANTLR_085",I.TYPE_SWITCH_DEFAULT_MUST_BE_LAST="ANTLR_086",I.TYPE_PARSER_INVALID_SWITCH_TOKEN="ANTLR_087",I.TYPE_ORDER_BY_INVALID_RETURN_TYPE="ANTLR_088",I.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED="ANTLR_089",I.TYPE_PLUCK_INTO_MISSING_VARIABLE_TARGET="ANTLR_090",I.TYPE_PLUCK_INTO_INVALID_VARIABLE_TARGET="ANTLR_091",I.TYPE_PLUCK_INTO_NO_PREDICATE="ANTLR_092",I.TYPE_PLUCK_INTO_INVALID_PREDICATE_VALUE="ANTLR_093",I.TYPE_PLUCK_INTO_EMPTY_LOGIC_GROUP="ANTLR_094",I.TYPE_PLUCK_INTO_INVALID_NUMBER_OF_TUPLE_VARIABLES="ANTLR_095",I.TYPE_PLUCK_INTO_UNKNOWN_ALIAS_VARNAME="ANTLR_096",I.TYPE_PLUCK_INTO_UNEXPECTED_EMPTY_T_LOGIC_GROUP="ANTLR_097",I.TYPE_PLUCK_INTO_REFERENCE_TYPE_DYNAMIC="ANTLR_098",I.TYPE_PLUCK_INTO_REFERENCE_AMBIGUOUS="ANTLR_099",I.TYPE_RUNTIME_ASSIGNMENT_TO_NON_VAR="ANTLR_100",I.TYPE_ARR_MAKE_MISSING_TARGET="ANTLR_101",I.TYPE_ARR_MAKE_UNEXPECTED_TYPE="ANTLR_102",I.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE="ANTLR_103",I.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE="ANTLR_104",I.TYPE_ARR_UNEXPECT_ARG_SEPARATOR="ANTLR_105",I.TYPE_ARR_KEY_PAIR_MISSING_KEY="ANTLR_106",I.RUNTIME_PROTECTED_VAR_ACCESS="ANTLR_107",I.RUNTIME_PROTECTED_TAG_ACCESS="ANTLR_108",I.RUNTIME_PROTECTED_MODIFIER_ACCESS="ANTLR_109",I.TYPE_INCOMPLETE_PHP_EVALUATION_REGION="ANTLR_110",I.RUNTIME_PHP_NODE_WHEN_PHP_DISABLED="ANTLR_111",I.RUNTIME_PHP_NODE_USER_CONTENT_TAG="ANTLR_112",I.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST="ANTLR_113",I.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST="ANTLR_114",I.TYPE_MISSING_BODY_TUPLE_LIST="ANTLR_115",I.TYPE_MISSING_NAMES_TUPLE_LIST="ANTLR_116",I.TYPE_VALUE_NAME_LENGTH_MISMATCH_TUPLE_LIST="ANTLR_117",I.TYPE_INVALID_TUPLE_LIST_NAME_TYPE="ANTLR_118",I.TYPE_INVALID_MANIFESTED_NAME_GROUP="ANTLR_119",I.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP="ANTLR_120",I.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE="ANTLR_121",I.TYPE_RUNTIME_BAD_METHOD_CALL="ANTLR_122",I.TYPE_METHOD_CALL_MISSING_ARG_GROUP="ANTLR_123",I.TYPE_INVALID_METHOD_CALL_ARG_GROUP="ANTLR_124",I.TYPE_METHOD_CALL_MISSING_METHOD="ANTLR_125",I.TYPE_MODIFIER_NOT_FOUND="ANTLR_126",I.TYPE_RUNTIME_GENERAL_FAULT="ANTLR_127",I.TYPE_MODIFIER_INCORRECT_VALUE_POSITION="ANTLR_128",I.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX="ANTLR_129",I.TYPE_RUNTIME_ATTEMPTING_TO_RENDER_OBJECT_AS_STRING="ANTLR_130",I.TYPE_UNPAIRED_CLOSING_TAG="ANTLR_131",I.PARSER_CANNOT_PARSE_PATH_RECURSIVE="ANTLR_200",I.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR="ANTLR_201",I.LINT_UNKNOWN_PARAMETER="ANTLR_500",I.LINT_GENERAL_INVALID_PARAMETER_CONTENTS="ANTLR_501",I.LINT_PARAMETER_CONTENT_INVALID_INTEGER="ANTLR_502",I.LINT_PARAMETER_CONTENT_INVALID_BOOLEAN="ANT LR_503",I.LINT_PAGINATE_INVALID_VALUE="ANTLR_504",I.LINT_DEBUG_DATA_EXPOSED="ANTLR_505",I.LINT_DOUBLE_COLON_IN_TAG_IDENTIFIER="ANTLR_506",I.LINT_MIXED_MODIFIERS="ANTLR_507",I.LINT_MODIFIER_UNEXPECTED_TYPE="ANTLR_508",I.LINT_REMOVE_RELATE_TAG="ANTLR_509",I.LINT_SET_PRODUCES_RUNTIME_ERROR="ANTLR_510",I.LINT_FRONT_MATTER_EMPTY_DOCUMENT="ANTLR_511",I.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH="ANTLR_512",I.LINT_INVALID_FRONT_MATTER="ANTLR_513",I.LINT_DUPLICATE_CODE="ANTLR_514",I.LINT_VERSION_NOT_COMPATIBLE="ANTLR_515",I.LINT_INTERLEAVED_TAG_PAIRS="ANTLR_516",I.LINT_MISSING_REQUIRED_PARAMETER="ANTLR_517",I.LINT_POSSIBLE_PARTIAL_RECURSION="ANTLR_518",I.LINT_URL_VARIABLE_WITHOUT_SANITIZE="ANTLR_519",I.LINT_DYNAMIC_CLASS_NAMES_POSSIBLE_PURGE="ANTLER_520",I.LINT_DEPRECATED_MODIFIER="ANTLER_521",I.LINT_INVALID_VARIABLE_ACCESS="ANTLR_522",I.LINT_SELECT_FIELD_JOIN_RAW="ANTLR_523",I.LINT_INVALID_PARAMETER_VALUE_DELIMITER="ANTLR_524",I.LINT_MODIFIERS_ON_QUERY_BUILDERS_REQUIRE_AS="ANTLR_525";var pt=class{static distance(e,i){return e.endPosition==null||i.startPosition==null?this.DistMax:i.startPosition.index-e.endPosition.index}static getTrueName(e){var i,r,n,s;return e.originalNode!=null?(r=(i=e.originalNode.name)==null?void 0:i.name)!=null?r:"":(s=(n=e.name)==null?void 0:n.name)!=null?s:""}static getSimpleVarName(e){return e.variableReference!=null&&e.variableReference.pathParts.length==1&&e.variableReference.pathParts[0]instanceof ai?e.variableReference.pathParts[0].name:""}static isVariableMatching(e,i){return e instanceof ue?e.name==i:!1}static mergeVarContentLeft(e,i,r){return r.mergeRefName=r.name,r.endPosition=i.endPosition,r.name=r.name+e,r}static mergeVarContentRight(e,i,r){return r.mergeRefName=r.name,r.startPosition=i.startPosition,r.name=e+r.name,r}static mergeVarRight(e,i){return i.mergeRefName=i.name,i.startPosition=e.startPosition,i.name=e.name+i.name,i}static getUnrefName(e){return K.trimLeft(e,":.")}};pt.DistMax=65e3;var yr=class{static isConditionalStructure(e){var r,n;if(e.isComment)return!1;let i=(n=(r=e.name)==null?void 0:r.name)!=null?n:"";return i=="if"||i=="elseif"||i=="else"}static requiresClose(e){var r,n;let i=(n=(r=e.name)==null?void 0:r.name)!=null?n:"";return i=="elseif"||i=="else"?e.isClosedBy==null:!(e.isClosingTag||e.isClosedBy!=null)}static getValidClosingPairs(e){return e=="if"||e=="elseif"?yr.conditionClosingPairs:[]}static findClosestStructurePair(e,i,r){var u,c,f,d,p,m,_,P;let n=[],s=e.length,a=new Map,o=null;n.push({node:i,index:r});for(let g=0;g<s;g+=1){let T=e[g];if(T instanceof G){let y=(c=(u=T.name)==null?void 0:u.name)!=null?c:"";if(T.isClosingTag&&y=="if"){a.set(g,g);continue}else if(y=="elseif"||y=="else"){a.set(g,g);continue}}}let l=a.size;for(;n.length>0;){let g=n.pop();if(g==null)continue;if(g.node._conditionParserAbandonPairing)break;let T=g.node,y=yr.getValidClosingPairs((d=(f=T.name)==null?void 0:f.name)!=null?d:""),A=g.index,N=!1;if(l>50&&o!=null){for(let[U,V]of a)if(U>A){A=U;break}}for(let U=A;U<s;U++){let V=e[U];if(V instanceof G&&yr.isConditionalStructure(V)){if(yr.requiresClose(V)){n.push(g),n.push({node:V,index:U+1}),N=!0;break}if(T.isClosedBy!=null)continue;let w=(m=(p=V.name)==null?void 0:p.name)!=null?m:"",$=!1;if(V.ref==0&&(V.isClosingTag&&w=="if"||y.includes(w))&&($=!0),V.refId==T.refId&&($=!1),$){o=U,a.delete(U),T.isClosedBy=V,V.isOpenedBy=T,V.ref+=1,N=!0;break}}}if(!N&&T instanceof G){let U=(P=(_=T.name)==null?void 0:_.name)!=null?P:"";if((U=="elseif"||U=="else")&&T.isOpenedBy==null){let V='Unpaired "'+pt.getTrueName(T)+'" control structure.';T.isInterpolationNode&&(V+=" Tag pairs are not supported within Antlers tags."),T.pushError(k.makeSyntaxError(I.TYPE_PARSE_UNPAIRED_CONDITIONAL,T,V)),T._conditionParserAbandonPairing=!0}if(T.isClosedBy==null&&yr.requiresClose(T)){let V='Unclosed "'+pt.getTrueName(T)+'" control structure.';T.isInterpolationNode&&(V+=" Tag pairs are not supported within Antlers tags."),T.pushError(k.makeSyntaxError(I.TYPE_PARSE_UNCLOSED_CONDITIONAL,T,V)),T._conditionParserAbandonPairing=!0}}}}static pairConditionals(e){for(let i=0;i<e.length;i+=1){let r=e[i];r instanceof G&&yr.isConditionalStructure(r)&&yr.requiresClose(r)&&yr.findClosestStructurePair(e,r,i+1)}return e.forEach(i=>{var r,n;if(i instanceof G&&yr.isConditionalStructure(i)){let s=(n=(r=i.name)==null?void 0:r.name)!=null?n:"";if((s=="elseif"||s=="else")&&i.isOpenedBy==null){i.pushError(k.makeSyntaxError(I.TYPE_PARSE_UNPAIRED_CONDITIONAL,i,'Unpaired "'+pt.getTrueName(i)+'" control structure.'));return}if(i.isClosedBy==null&&yr.requiresClose(i)){i.pushError(k.makeSyntaxError(I.TYPE_PARSE_UNCLOSED_CONDITIONAL,i,"Unclosed "+pt.getTrueName(i)+" control structure."));return}}}),e}},oi=yr;oi.conditionClosingPairs=["elseif","else"];function Tr(t,e){return e==null&&(e="s"),t.replace(new RegExp("^["+e+"]+"),"")}function Dt(t,e,i){return t.replace(new RegExp(e,"g"),i)}function Wr(t,e){return e==null&&(e="s"),t.replace(new RegExp("["+e+"]+$"),"")}function Za(){return(Date.now().toString(32)+Math.random().toString(16)).replace(/\./g,"")}function xb(){return Dt(Za(),"-","_")}var cc=class{constructor(){this.startPosition=null;this.endPosition=null;this.index=0;this.embeddedIndex=0;this.refId=null;this.parameters=[];this.isSelfClosing=!1;this.isClosingFragment=!1;this.name="";this.containsStructures=!1;this.refId=xb()}},um=class{constructor(){this.startPosition=null;this.endPosition=null;this.content="";this.name=""}};function Kx(t){let e=[],i=[];for(let r=0;r<t.length;r++){let n=t[r],s=n.refId;if(i.includes(s))break;e.push(n),i.push(s)}return e}var re=class{constructor(){this.refId=null;this.index=0;this.parent=null;this.content="";this.rawLexContent="";this.sourceContent="";this.startPosition=null;this.endPosition=null;this.modifierChain=null;this.originalAbstractNode=null;this.positionContexts=[];this.addedContexts=new Map;this.fragment=null;this.fragmentParameter=null;this.fragmentPosition=3;this.containsAnyFragments=!1;this.containsChildStructures=!1;this.isInScriptTag=!1;this.isInStyleTag=!1;this.isVirtual=!0;this.isPartOfMethodChain=!1;this.isVirtualGroupMember=!1;this.isVirtualGroupOperatorResolve=!1;this.isSwitchGroupMember=!1;this.isListGroupMember=!1;this.producesVirtualStatementTerminator=!1;this.convertedToOperator=!1;this.scopeVariable=null;this.currentScope=null;this.manifestType="";this.scopeName=null;this.sourceType="";this.runtimeType=null;this.modifiers=new sm(this);this.prev=null;this.next=null;this.methodTarget=null;this.libraryTarget=null;this.antlersErrors=[];this.parser=null;this.refId=xb()}isEmbedded(){return this.isInScriptTag||this.isInStyleTag}getContexts(){return this.positionContexts}addContext(e){this.addedContexts.has(e.refId)==!1&&(this.addedContexts.set(e.refId,!0),this.positionContexts.push(e))}getRange(){if(this.originalAbstractNode!=null)return this.originalAbstractNode.getRange();if(this.startPosition==null||this.endPosition==null)return Al.Empty;let e=new Al;return e.start=this.startPosition,e.end=this.endPosition,e}withParser(e){this.parser=e}getParser(){return this.parser}pushError(e){this.parent!=null&&this.parent.pushError(e),this.antlersErrors.push(e),this.parent==null&&this.parser!=null&&this.parser.pushError(e)}mergeErrors(e){e.forEach(i=>{i.node==null&&(i.node=this),this.antlersErrors.push(i)})}getErrors(){return this.antlersErrors}innerContent(){return this.content}rawContent(){return this.content}},cm=class extends re{constructor(){super(...arguments);this.head=null;this.tail=null;this.nodes=[];this.documentText="";this.childDocument=null}getImmediateChildren(){return this.head==null?[]:this.head.getImmediateChildren()}},st=class extends re{constructor(){super(...arguments);this.logicBranches=[];this.chain=[];this.nodeContent="";this.fragment=null;this.fragmentParameter=null;this.fragmentPosition=3;this.containsAnyFragments=!1;this.containsChildStructures=!1}},G=class extends re{constructor(){super(...arguments);this.isNodeAbanonded=!1;this.isComment=!1;this.isTagNode=!1;this.isConditionNode=!1;this.runtimeContent="";this.name=null;this.pathReference=null;this.isClosingTag=!1;this.isInterpolationNode=!1;this.isOpenedBy=null;this.isClosedBy=null;this.isSelfClosing=!1;this.children=[];this.runtimeNodes=[];this.parsedRuntimeNodes=[];this.hasParsedRuntimeNodes=!1;this.parameters=[];this.hasParameters=!1;this.contentOffset=null;this.cachedContent=null;this.cachedInnerContent=null;this.hasRecursiveNode=!1;this.recursiveReference=null;this.rawStart="";this.rawEnd="";this.originalNode=null;this.interpolationRegions=new Map;this.processedInterpolationRegions=new Map;this.hasProcessedInterpolationRegions=!1;this.ref=0;this.contentStartRelativeIndex=null;this.antlersNodeIndex=0;this.nameStartsOn=null;this.nameEndsOn=null;this.nameMethodPartStartsOn=null;this.documentText="";this.nodeContent="";this.childDocument=null;this.structure=new om(this);this.isInlineAntlers=!1;this.mustClose=!1;this.reference=null;this._conditionParserAbandonPairing=!1;this._isEndVirtual=!1}getOriginalContent(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.isClosedBy!=null?this.isClosedBy.startPosition==null||this.isClosedBy.endPosition==null?"":this.parser.getText(this.startPosition.index,this.isClosedBy.endPosition.index+1):this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getNodeDocumentText(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getImmediateChildren(){let e=[];for(let i=0;i<this.children.length;i++){let r=this.children[i];if(r.parent==this){if(r==this.isClosedBy)break;e.push(r)}}return Kx(e)}getChildren(){if(this.isClosedBy==null)return[];let e=[];for(let i=0;i<this.children.length;i++){let r=this.children[i];if(r instanceof G&&r.refId==this.isClosedBy.refId)break;e.push(r)}return e}getInnerDocumentText(){if(this.startPosition==null||this.endPosition==null||this.parser==null)return"";if(this.isClosedBy==null)return this.getNodeDocumentText();let e=this.isClosedBy.startPosition;return e==null?"":this.parser.getText(this.endPosition.index+1,e.index)}nodeAtIndex(e){if(this.runtimeNodes.length==0)return null;for(let i=0;i<this.runtimeNodes.length;i++)if(this.runtimeNodes[i].index==e)return this.runtimeNodes[i];return null}getDepthCount(){if(this.parent==null)return 1;let e=this.parent,i=1;for(;e!=null;){if(i+=1,e.parent===e){e=null;break}e=e.parent}return i}isEmpty(){return this.content.trim().length==0}nameMatches(e){return this.name==null?!1:this.name.content==e}copyBasicDetails(){return this.copyBasicDetailsTo(new G)}copyBasicDetailsTo(e){return e.refId=this.refId,e.isComment=this.isComment,e.isTagNode=this.isTagNode,e.children=this.children,e.parent=this.parent,e.parameters=this.parameters,e.isClosingTag=this.isClosingTag,e.rawStart=this.rawStart,e.rawEnd=this.rawEnd,e.startPosition=this.startPosition,e.endPosition=this.endPosition,e.originalAbstractNode=this,e.containsAnyFragments=this.containsAnyFragments,e.containsChildStructures=this.containsChildStructures,e.isInScriptTag=this.isInScriptTag,e.isInStyleTag=this.isInStyleTag,e}id(){return this.refId}innerContent(){return this.cachedInnerContent==null&&(this.cachedInnerContent=this.content.replace('"','\\"')),this.cachedInnerContent}resetContentCache(){this.cachedContent=null,this.cachedInnerContent=null}hasMethodPart(){return this.name==null?!1:this.name.getMethodName()!=null}runtimeName(){return this.name==null?"":this.name.getCompoundTagName()}getTagName(){return this.name==null?"":this.name.name}getNameContent(){return this.name==null?"":this.name.content}getMethodNameValue(){if(this.name==null)return"";let e=this.name.getMethodName();return e!=null?e:""}methodIsEmptyOrMatches(e){return this.getMethodNameValue()==e}hasParameter(e){return this.findParameter(e)!=null}hasParameterWithValue(e,i){let r=this.findParameter(e);return r==null?!1:r.value==i}findParameterValue(e,i){let r=this.findParameter(e);return r==null?i:r.value}findParameterValueOrNull(e){let i=this.findParameter(e);return i==null?null:i.value}findParameter(e){if(this.parameters.length==0)return null;for(let i=0;i<this.parameters.length;i++)if(this.parameters[i].name==e)return this.parameters[i];return null}findAnyParameter(e){for(let i=0;i<e.length;i++){let r=this.findParameter(e[i]);if(r!=null)return r}return null}getContentRelativeStartIndex(){if(this.contentStartRelativeIndex==null){let e=this.content.split("");for(let i=0;i<e.length;i++)if(!K.ctypeSpace(e[i])){this.contentStartRelativeIndex=i;break}this.contentStartRelativeIndex==null&&(this.contentStartRelativeIndex=e.length),this.contentStartRelativeIndex+=this.rawStart.length}return this.contentStartRelativeIndex}getContentAfterName(){let e=0;return this.nameEndsOn!=null&&(e=this.nameEndsOn.char-this.rawStart.length-1),this.content.substring(e)}getContent(){if(this.cachedContent==null)if(this.isComment)this.cachedContent=this.content,this.contentOffset=this.startPosition;else if(this.isTagNode){let e=this.content;e=K.trimLeft(e);let i=0;if(this.name!=null&&(i=this.name.compound.length),this.parameters.length>0){let a=0,o=this.parameters[0];o.startPosition!=null&&(a=o.startPosition.index-1);let l=e,u=l.trimLeft(),c=l.length-u.length,f=i;e=e.substr(0,a)}let r=e.trimLeft(),n=e.length-r.length,s=i+n+2;if(this.parser!=null){let a=0;this.startPosition!=null&&(a=this.startPosition.offset),this.contentOffset==this.parser.positionFromOffset(a+s,0)}this.name!=null?this.name.name=="if"||this.name.name=="elseif"||this.name.name=="unless"||this.name.name=="elseunless"?(e=" "+e.trimLeft(),this.cachedContent=e.substr(this.name.compound.length+1)):this.cachedContent=e:this.cachedContent=e}else if(this.parameters.length>0){let e=this.parameters[0],i=0;e.startPosition!=null&&(i=e.startPosition.index-1),this.contentOffset=this.startPosition,this.cachedContent=this.content.substr(0,i)}else this.contentOffset=this.startPosition,this.cachedContent=this.content;return this.cachedContent}relativePositionFromOffset(e,i){var r,n;return this.parser==null?null:this.parser.positionFromOffset(((n=(r=this.contentOffset)==null?void 0:r.offset)!=null?n:0)+e,i)}getInterpolationNode(e){if(this.processedInterpolationRegions.has(e)){let i=this.processedInterpolationRegions.get(e);if(i.length>0&&i[0]instanceof G)return i[0]}return null}_lexerRelativeOffset(e,i=null){var a,o;let r=e;if(i!=null&&(r=i),this.parser==null){let l=new $t;return l.index=e,l.offset=e,l}let n=e+this.rawStart.length+((o=(a=this.startPosition)==null?void 0:a.index)!=null?o:0);return this.isTagNode&&this.nameStartsOn!=null&&(n=this.nameStartsOn.index+e,oi.isConditionalStructure(this)||(n-=this.rawStart.length)),this.parser.positionFromOffset(n,n,!0)}relativeOffset(e,i=null){var a,o;let r=e;if(i!=null&&(r=i),this.parser==null){let l=new $t;return l.index=e,l.offset=e,l}let n=e+this.rawStart.length+((o=(a=this.startPosition)==null?void 0:a.index)!=null?o:0);return this.parser.positionFromOffset(n,n,!0)}isPaired(){return this.isClosingTag&&this.isSelfClosing==!1&&this.isOpenedBy!=null?!0:!(this.isClosedBy==null||this.isSelfClosing)}getFinalClosingTag(){return this.isClosedBy==null?this:this.isClosedBy.getFinalClosingTag()}rawContent(){return this.rawStart+this.content+this.rawEnd}getTrueRuntimeNodes(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRuntimeNodes():this.runtimeNodes}getTrueRawContent(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRawContent():this.rawContent()}getTrueNode(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueNode():this}getStructuralChildren(){return this.isClosedBy!=null?am(this.children.slice(0,-1)):am(this.children)}findParentOfType(e){return this.parent==null?null:this.parent instanceof G?this.parent.name!=null&&e.includes(this.parent.getTagName())?this.parent:this.parent.findParentOfType(e):null}},er=class extends G{static makeWithStartPosition(e){let i=new er;return i.startPosition=e,i.endPosition=e,i}},bt=class extends er{},br=class extends G{constructor(){super(...arguments);this.recursiveParent=null;this.isNestedRecursive=!1}},Js=class extends G{constructor(){super(...arguments);this.isEchoNode=!1}},El=class extends er{},fm=class extends er{},pi=class extends G{constructor(){super(...arguments);this.isNoParseRegion=!1}},Zs=class extends re{constructor(){super(...arguments);this.modifier=null;this.isModifierParameter=!1;this.nameDelimiter='"';this.isVariableReference=!1;this.name="";this.value="";this.interpolations=[];this.parent=null;this.blockPosition=null;this.namePosition=null;this.valuePosition=null;this.hasValidValueDelimiter=!0}containsSimpleValue(){return this.hasInterpolations()==!1&&this.isVariableReference==!1}hasInterpolations(){return this.interpolations.length>0}getArrayValue(){return this.value.split("|")}getValue(){return this.value}},wl=class{constructor(){this.modifierTarget=null;this.modifierChain=[];this.startPosition=null;this.endPosition=null;this.lastManifestedModifier=null;this.lastModifier=null}updateValues(){if(this.modifierChain.length==0)this.startPosition=null,this.endPosition=null;else{let e=this.modifierChain[0],i=this.modifierChain[this.modifierChain.length-1];this.startPosition=e.startPosition,this.endPosition=i.endPosition}}},eo=class extends re{constructor(){super(...arguments);this.modifier=null;this.methodStyleArguments=null;this.nameNode=null;this.name="";this.valueNodes=[];this.parameters=[]}getParameterValues(){let e=[];return this.parameters.forEach(i=>{e.push(i.value)}),e}},xl=class extends re{constructor(){super(...arguments);this.order=0;this.name=null;this.directionNode=null}},dm=class extends re{constructor(){super(...arguments);this.value=""}},Hr=class extends re{},vr=class extends re{},Yr=class extends re{},tr=class extends re{},ir=class extends re{},Tn=class extends re{},fs=class extends re{constructor(){super(...arguments);this.repeat=1}},bn=class extends re{},rr=class extends re{},Fi=class extends re{},Kr=class extends re{},$r=class extends re{},nr=class extends re{},zr=class extends re{},Xr=class extends re{},vn=class extends re{},Oi=class extends re{},Ir=class extends re{},Un=class extends re{},Qr=class extends re{},Jr=class extends re{},Zr=class extends re{},en=class extends re{},tn=class extends re{},rn=class extends re{},Gn=class extends re{},nn=class extends re{},mi=class extends re{},ea=class extends re{constructor(){super(...arguments);this.orderClauses=[]}},Ft=class extends re{},Ni=class extends re{},Dl=class extends re{constructor(){super(...arguments);this.left=null;this.right=null}},Li=class extends re{constructor(){super(...arguments);this.isTenaryBranchSeparator=!1}},sn=class extends re{},Pr=class extends re{},hi=class extends re{},Nr=class extends re{},In=class extends re{},Sr=class extends re{},ki=class extends re{},Pn=class extends re{},zt=class extends re{},Xt=class extends re{},to=class extends re{constructor(){super(...arguments);this.values=[];this.isNamedNode=!1;this.parsedName=null}},We=class extends re{constructor(){super(...arguments);this.start=null;this.end=null;this.nodes=[];this.scopeOperator=null}},io=class extends re{constructor(){super(...arguments);this.condition=null;this.expression=null}},ta=class extends re{constructor(){super(...arguments);this.cases=[]}},pm=class extends re{constructor(){super(...arguments);this.left=null;this.right=null}},Wn=class extends re{constructor(){super(...arguments);this.nodes=[]}},Fl=class extends re{constructor(){super(...arguments);this.head=null;this.truthBranch=null;this.falseBranch=null}},kt=class extends re{},Gt=class extends re{constructor(){super(...arguments);this.nodes=[];this.separatorToken=null}},Rr=class extends We{constructor(){super(...arguments);this.scope=null}extract(){let e=null;this.scope!=null&&(e=this.scope.name);let i=this.nodes[0];return[e,i.nodes]}},Hn=class extends Rr{constructor(){super(...arguments);this.alias=null}},ro=class extends re{constructor(){super(...arguments);this.args=[];this.hasNamedArguments=!1;this.numberOfNamedArguments=0}},Cr=class extends re{},mm=class extends re{};var ds=class extends re{constructor(){super(...arguments);this.libraryName="";this.methodName="";this.arguments=null}},Qe=class extends re{constructor(){super(...arguments);this.sourceContent=""}},li=class extends re{constructor(){super(...arguments);this.method=null;this.args=null}},Mt=class extends re{constructor(){super(...arguments);this.name=""}},Qt=class extends re{constructor(){super(...arguments);this.value="";this.name=""}},fc=class extends re{constructor(){super(...arguments);this.name=null;this.value=null}},Ol=class extends re{constructor(){super(...arguments);this.name=null;this.value=null}},Wt=class extends re{constructor(){super(...arguments);this.value=null}},At=class extends re{constructor(){super(...arguments);this.value="";this.sourceTerminator="";this.sourceContent=""}},ue=class extends re{constructor(){super(...arguments);this.name="";this.mergeRefName="";this.variableReference=null;this.interpolationNodes=[];this.isInterpolationReference=!1}},hm=class extends re{constructor(){super(...arguments);this.name=""}},ai=class extends re{constructor(){super(...arguments);this.delimiter="";this.name="";this.isStringVar=!1;this.isFinal=!1}},Nn=class{constructor(){this.originalContent="";this.normalizedReference="";this.isStrictTagReference=!1;this.isStrictVariableReference=!1;this.isExplicitVariableReference=!1;this.isVariableVariable=!1;this.pathParts=[];this.isFinal=!1;this._isFromEmptyFailState=!1}clone(){let e=new Nn;return e.originalContent=this.originalContent,e.normalizedReference=this.normalizedReference,e.isStrictVariableReference=this.isStrictVariableReference,e.isExplicitVariableReference=this.isExplicitVariableReference,e.pathParts=this.pathParts,e.isFinal=this.isFinal,e}implodePaths(){let e=[];return this.pathParts.forEach(i=>{i instanceof ai?e.push(i.name):i instanceof Nn&&e.push(i.implodePaths())}),e.join(".")}},gm=class{constructor(e,i,r){this.target=e,this.value=i,this.operator=r}};var TP=te(si());var no=te(gt());function _m(t,e){let i=[];if(t.currentNode==null)return i;let r={start:{line:t.position.line,character:t.position.character-0},end:t.position};for(let n=0;n<e.length;n++){let s=e[n];if(!t.currentNode.hasParameter(s.name)){let a=s.name+'="$1"';i.push({label:s.name,kind:no.CompletionItemKind.Value,insertTextFormat:no.InsertTextFormat.Snippet,textEdit:no.TextEdit.replace(r,a),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return i}var so=te(gt());function ps(t,e,i){return{label:t,insertText:t,kind:so.CompletionItemKind.Field,detail:i+": "+e}}function $x(t,e){let i="";return e.length>0&&(i=e.join(", ")),"**"+t+"** `"+i+"`  \n"}function dc(t){let e=$x(t.name,t.acceptsType),i="";if(t.parameters.length>0){let s=[];t.parameters.forEach(a=>{s.push("$"+a.name)}),i=s.join(", ")}let r="";if(t.returnsType.length==1)r=t.returnsType[0];else{let s=[];t.returnsType.forEach(a=>{s.push(a)}),r=s.join(", ")}return e+=t.description+`
`,e+="```js\n",e+="function "+t.name+"("+i+"):"+r,e+="\n```",t.docLink!=null&&t.docLink.trim().length>0&&(e+=`  

`,e+="[Documentation Reference]("+t.docLink+")"),{label:t.name,insertText:t.name,documentation:{kind:so.MarkupKind.Markdown,value:e},kind:so.CompletionItemKind.Function}}function pc(t){let e=[];for(let i=0;i<t.length;i++)typeof t[i].name!="undefined"&&e.push(ym(t[i]));return e}function ym(t){let e="",i=t.name;return t.instructionText!=null&&(e=t.instructionText),t.displayName!=null&&(i=t.displayName+" ("+t.name+")"),t.blueprintName!=null&&(e.trim().length>0&&(e+=`
`),e+="Blueprint: "+t.blueprintName),t.type!=null&&(i+=": "+t.type),{label:t.name,insertText:t.name,kind:so.CompletionItemKind.Field,documentation:e,detail:i}}function Me(t,e,i,r){let n="**"+t+"**  ";return n+=`
`,n+=e+"  ",n+="\n```antlers\n",n+=i,n+="\n```",r!=null&&(n+=`

`,n+="[Documentation Reference]("+r+")"),n}function M(t,e,i){let r="**"+t+"**  ";return r+=`
`,r+=e+"  ",i!=null&&(r+=`

`,r+="[Documentation Reference]("+i+")"),r}function ao(t){let e=[];return t=="order"&&e.push("sort"),e}var Db=["replicator","bard"];function zx(t){return{blueprintName:t.sourceName,displayName:t.name,instructionText:"",maxItems:-1,name:t.name,refFieldSetField:null,type:t.dataType,sets:null,import:null}}function mc(t){let e=[];for(let i=0;i<t.length;i++)e.push(zx(t[i]));return e}function Tm(t,e=""){return{blueprintName:"fieldset",displayName:e+t.name,instructionText:t.instructionText,maxItems:t.maxItems,name:e+t.handle,type:t.type,refFieldSetField:t,sets:t.sets,import:t.import}}function Fb(t,e,i){return t=="select"&&typeof e.field.multiple!="undefined"&&e.field.multiple===!0&&(t="select_multiple"),(typeof e.field.multiple=="undefined"||i>1)&&(t=="form"?t="form_multiple":t=="sites"?t="sites_multiple":t=="taxonomies"?t="taxonomies_multiple":t=="user_groups"?t="user_groups_multiple":t=="user_roles"?t="user_roles_multiple":t=="terms"?t="terms_multiple":t=="users"?t="users_multiple":t=="structures"&&(t="structures_multiple")),t}function Ob(t){let e=[];for(let i=0;i<t.length;i++)e.push(Tm(t[i]));return e}function it(t){return[{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"order",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t}]}function Lb(t,e,i){if(typeof i=="undefined"||i===null)return;let r=t.findParameter("as"),n=t.findParameter("scope");i=i.concat(mc(it(t))),r!=null&&n!=null?e.introduceScopedAliasScope(t,n.value,r.value,i):r!=null?e.introduceAliasScope(t,r.value,i):n!=null?e.introduceDynamicScopeList(t,n.value,i):e.addBlueprintFields(t,i)}function kb(t){return[{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t},{name:"total_results",dataType:"integer",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t}]}var an=te(gt());var ms=[{isRequired:!1,name:"from",description:"The collection name to retrieve entries from",aliases:["folder","use"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"not_from",aliases:["not_folder","dont_use"],description:"The collections to exclude when retrieving entries",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"show_unpublished",aliases:null,description:"Controls whether unpbulished entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_published",aliases:null,description:"Controls whether published entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_past",aliases:null,description:"Controls whether to display entries with a past date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"since",aliases:null,description:"Sets the minimum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"until",aliases:null,description:"Sets the maximum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the entry sort order",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",aliases:null,description:"Sets the maximum number of entries to return",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["integer"],isDynamic:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope",expectsTypes:["string"],isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets the amount that entry results should be offset by",expectsTypes:["integer"],isRequired:!1,name:"offset",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether not to paginate entry results",expectsTypes:["boolean","number"],isRequired:!1,name:"paginate",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies a name to give to a new entries array variable",expectsTypes:["string"],isRequired:!1,name:"as",isDynamic:!1},{name:"scope",aliases:null,acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Sets a prefix on all entry variables",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"locale",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the locale in which to retrieve entry content",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"redirects",aliases:["links"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Controls whether entries with redirects are returned",expectsTypes:["boolean"],isRequired:!1,isDynamic:!1},{name:"page_name",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"Allows you to customise the name of the URL query parameter used for pagination.",expectsTypes:["string"],isRequired:!1,isDynamic:!1}],Mb=["from","folder","use"],qb=["not_from","not_folder","dont_use"],Vb=["draft","scheduled","expired","published"];function Bb(t){let e=[];if(t.project!=null){let i={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position},r=t.project.getUniqueTaxonomyNames();for(let n=0;n<r.length;n++){let s=r[n],a=t.originalLeftWord+s+'="$1"';e.push({label:t.originalLeftWord+s,insertTextFormat:an.InsertTextFormat.Snippet,kind:an.CompletionItemKind.Field,textEdit:an.TextEdit.replace(i,a),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return e}function oo(t,e){let i=[];if(t.reference!=null){let r=t.reference,n=e.statamicProject.getBlueprintFields(r.collectionNames);typeof n!="undefined"&&n!=null&&(i=n)}return i}function jb(t){let e=[],i=Vb.filter(r=>!t.includes(r));for(let r=0;r<i.length;r++)e.push({label:i[r],kind:an.CompletionItemKind.Variable});return e}function Ub(t,e,i){let r=[],n=i.getTaxonomyTerms(e),s=n.filter(a=>!t.includes(a));for(let a=0;a<s.length;a++)r.push({label:s[a],kind:an.CompletionItemKind.Variable});return r}function Gb(t){let e=[],i=t.getCollectionNames();for(let r=0;r<i.length;r++)e.push({label:i[r],kind:an.CompletionItemKind.Variable});return e}function lo(t,e){let i=[],r=e.getCollectionNames().filter(n=>!t.includes(n));for(let n=0;n<r.length;n++)i.push({label:r[n],kind:an.CompletionItemKind.Variable});return i}function hc(t){let e=[],i=t.getCollectionQueryScopes();for(let r=0;r<i.length;r++)e.push({label:i[r].name,detail:i[r].description,kind:an.CompletionItemKind.Variable});return e}function uo(t,e){if(t.isClosingTag)return e;if(t.hasMethodPart()&&t.getMethodNameValue()!="count"&&e.addVariables(kb(t)),t.reference!=null){let i=oo(t,e);Lb(t,e,i)}return e}var Ll=te(si());var gc=te(gt());var bm=[{name:"is",description:"Tests if a field is equal to a value"},{name:"equals",description:"Tests if a field is equal to a value"},{name:"not",description:"Tests if a field is not equal to a value"},{name:"isnt",description:"Tests if a field is not equal to a value"},{name:"exists",description:"Tests if a field exists"},{name:"isset",description:"Tests if a field exists"},{name:"doesnt_exist",description:"Tests if a field does not exist"},{name:"is_empty",description:"Tests if a field does not exist"},{name:"null",description:"Tests if a field does not exist"},{name:"contains",description:"Tests if a field contains a value"},{name:"doesnt_contain",description:"Tests if a field does not contain a value"},{name:"in",description:"Tests if a value is in an array"},{name:"not_in",description:"Tests if an array does not contain a value"},{name:"starts_with",description:"Tests if a field starts with a value"},{name:"doesnt_start_with",description:"Tests if a field does not start with a value"},{name:"ends_with",description:"Tests if a field ends with a value"},{name:"doesnt_end_with",description:"Tests if a field does not end with a value"},{name:"gt",description:"Tests if a field is greater than a value"},{name:"lt",description:"Tests if a field is less than a value"},{name:"gte",description:"Tests if a field is greater than or equal to a value"},{name:"lte",description:"Tests if a field is less than or equal to a value"},{name:"matches",description:"Tests if a field matches a case insensitive regex"},{name:"regex",description:"Tests if a field matches a case insensitive regex"},{name:"doesnt_match",description:"Tests if a field does not match a case insensitive regex"},{name:"is_alpha",description:"Tests if a field contains only alphabetical characters"},{name:"is_numeric",description:"Tests if a field contains only numeric characters"},{name:"is_alpha_numeric",description:"Tests if a field contains only alpha-numeric characters"},{name:"is_url",description:"Tests if a field is a valid URL"},{name:"is_embeddable",description:"Tests if a field is an embeddable video URL"},{name:"is_email",description:"Tests if a field is a valid email address"},{name:"is_after",description:"Tests if a field is after a given date"},{name:"is_before",description:"Tests if a field is before a given date"}];function hs(t){let e=[],i={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};for(let r=0;r<bm.length;r++){let n=bm[r],s=t.originalLeftWord+n.name+'="$1"';e.push({label:n.name,insertTextFormat:gc.InsertTextFormat.PlainText,kind:gc.CompletionItemKind.Field})}return e}var Ht=te(Pi());var ia=class{static clear(e){this.unclosedNodes.delete(e)}static registerNodes(e,i){this.unclosedNodes.set(e,i)}static getUnclosedTags(e,i){var a,o,l;let r=[];if(this.unclosedNodes.has(e)==!1)return r;let n=this.unclosedNodes.get(e);if(n.length==0)return r;let s=i.line+1;for(let u=0;u<n.length;u++){let c=n[u];(((a=c.endPosition)==null?void 0:a.line)==s&&i.character>c.endPosition.char||s>((l=(o=c.endPosition)==null?void 0:o.line)!=null?l:0))&&r.push(c)}return r}static hasUnclosedTags(e,i){return this.unclosedNodes.has(e)==!1?!1:this.getUnclosedTags(e,i).length>0}};ia.unclosedNodes=new Map;var Wb=["edit_url","id","last_modified","permalink","published","slug","template","url"];function gs(t){return[{name:"edit_url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"id",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"last_modified",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"permalink",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"published",dataType:"boolean",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"slug",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"template",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t}]}var sr=te(si()),Hb=[{label:"name",kind:sr.CompletionItemKind.Property},{label:"description",kind:sr.CompletionItemKind.Property},{label:"desc",kind:sr.CompletionItemKind.Property},{label:"entry",kind:sr.CompletionItemKind.Property},{label:"collection",kind:sr.CompletionItemKind.Property},{label:"blueprint",kind:sr.CompletionItemKind.Property},{label:"var",kind:sr.CompletionItemKind.Property},{label:"set",kind:sr.CompletionItemKind.Property},{label:"param",kind:sr.CompletionItemKind.Property},{label:"param*",kind:sr.CompletionItemKind.Property},{label:"front",kind:sr.CompletionItemKind.Property},{label:"format",kind:sr.CompletionItemKind.Property}];var _c=te(gt()),Xx=[{label:"if",kind:_c.CompletionItemKind.Keyword},{label:"elseif",kind:_c.CompletionItemKind.Keyword},{label:"else",kind:_c.CompletionItemKind.Keyword}],Yb=Xx;var co=te(si()),Kb=te(gt());var vm=class{static getCompletions(e,i){var a;let r=[],n=0;e.leftWord!=e.leftMeaningfulWord&&(n=e.leftWord.length);let s={start:{line:e.position.line,character:e.position.character-n},end:e.position};return(a=je.instance)==null||a.getModifiersForType(i.dataType).filter(o=>o.canBeParameter).forEach(o=>{r.push({label:o.name,documentation:{kind:Kb.MarkupKind.Markdown,value:o.description},insertTextFormat:co.InsertTextFormat.Snippet,kind:co.CompletionItemKind.Value,textEdit:co.TextEdit.replace(s,o.name+'="$1" '),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}),r}};var Im=te(gt()),fo=[];fo.push({label:"true",kind:Im.CompletionItemKind.Keyword});fo.push({label:"false",kind:Im.CompletionItemKind.Keyword});function $b(t){let e=[];for(let i=0;i<t.expectsTypes.length;i++)t.expectsTypes[i]=="boolean"&&(e=e.concat(fo));return e}function et(t){return[{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"value",introducedBy:t},{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"key",introducedBy:t}]}var Qx={name:"array",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(it(t))}},zb=Qx;function po(t){return[{name:"basename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus_css",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_asset",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"path",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"width",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t}]}var Jx={name:"assets",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(po(t))}},Xb=Jx;var Zx={name:"bard",augmentScope:(t,e)=>{e.addVariable({name:"type",dataType:"string",sourceField:null,sourceName:"*internal.bard",introducedBy:t})},injectCompletions:(t,e,i)=>[]},Qb=Zx;var eD={name:"form_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(it(t))}},Jb=eD;var tD={name:"list",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(it(t))}},Zb=tD;function ev(t){return[{name:"type",dataType:"string",sourceName:"*internal.replicator",sourceField:null,introducedBy:t}]}var iD={name:"replicator",augmentScope:(t,e)=>{e.addVariables(ev(t)),e.addVariables(it(t))},injectCompletions:(t,e,i)=>[]},tv=iD;var rD={name:"select_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(it(t))}},iv=rD;var nD={name:"sites_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(it(t))}},rv=nD;var sD={name:"structures_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(it(t))}},nv=sD;var aD={name:"table",augmentScope:(t,e)=>{e.addVariable({name:"cells",dataType:"array",sourceName:"*internal.fieldtype.table",sourceField:null,introducedBy:t})}},sv=aD;var oD={name:"tags",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(it(t))}},av=oD;function yc(t){return gs(t).concat([{name:"entries_count",dataType:"number",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"is_term",dataType:"boolean",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"taxonomy",dataType:"string",sourceName:"*internal.term",sourceField:null,introducedBy:t}])}var lD={name:"taxonomies_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(it(t)),e.addVariables(yc(t))}},ov=lD;var uD={name:"terms_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(it(t)),e.addVariables(yc(t))}},lv=uD;var cD={name:"user_groups_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(it(t))}},uv=cD;var fD={name:"user_roles_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(it(t))}},cv=fD;var dD={name:"users_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(it(t)),e.injectBlueprint(t,"user")}},fv=dD;var pD={name:"yaml",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(it(t))}},dv=pD;var mD=[zb,Xb,Qb,Jb,Zb,tv,iv,rv,nv,dv,sv,ov,av,lv,fv,uv,cv],pv=mD;var _s=class{constructor(){this.fieldTypes=new Map}getFieldTypes(){return this.fieldTypes}getFieldType(e){return this.fieldTypes.get(e)}registerFieldtypes(e){for(let i=0;i<e.length;i++)this.fieldTypes.set(e[i].name,e[i])}loadCoreFieldtypes(){this.registerFieldtypes(pv)}hasFieldtype(e){return this.fieldTypes.has(e)}};_s.instance=null;(typeof _s.instance=="undefined"||_s.instance==null)&&(_s.instance=new _s,_s.instance.loadCoreFieldtypes());var ys=_s;var Pm=class{static getVariableSuggestions(e,i){var n,s;let r=[];if(i.scopeVariable!=null&&i.scopeVariable.sourceField!=null&&((n=ys.instance)==null?void 0:n.hasFieldtype(i.scopeVariable.sourceField.type))){let a=(s=ys.instance)==null?void 0:s.getFieldType(i.scopeVariable.sourceField.type);a.injectCompletions!=null&&(r=a.injectCompletions(e,i.scopeVariable.sourceField,i))}return r}};var hD=["if","elseif","unless","elseunless"],gD=["else","/if"];function mv(t,e){var l,u,c,f,d,p,m,_;let i=(u=(l=t.startPosition)==null?void 0:l.line)!=null?u:-1,r=(f=(c=t.endPosition)==null?void 0:c.line)!=null?f:1,n=(p=(d=t.startPosition)==null?void 0:d.char)!=null?p:-1,s=(_=(m=t.endPosition)==null?void 0:m.char)!=null?_:-1,a=e.line+1,o=e.character+1;return i==r&&a==i+1&&o>n&&o<=s||a==i&&o>n&&o<=s||a==r&&o<s||a>i&&a<r}function Tc(t){let e="";return t.currentNode!=null&&(e=t.currentNode.getMethodNameValue()),e}function Yn(t){if(t.includes(":")==!1)return t;let e=t.split(":");return e.length>1?e[e.length-1]:e[0].trim()}function bc(t){return t.includes(":")==!1?t:t.split(":")[0]}function hv(t){var i;if(t.nodesInScope.length==0)return[];let e=t.nodesInScope[t.nodesInScope.length-1];return((i=t.context)==null?void 0:i.node)!=null&&(e=t.context.node),e.currentScope==null?[]:ra(t,e.currentScope)}function ra(t,e){let i=[];return e.values.forEach(r=>{var n;if(r.sourceField!=null?i.push({label:r.name,detail:r.sourceField.blueprintName,documentation:(n=r.sourceField.instructionText)!=null?n:"",kind:Ht.CompletionItemKind.Field}):i.push(ps(r.name,"","")),r.dataType.trim().length>0&&r.dataType=="array"){let s=r.name+` }}
    $1
{{ /`+r.name+" ",a={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};i.push({label:r.name+" loop",insertTextFormat:Ht.InsertTextFormat.Snippet,kind:Ht.CompletionItemKind.Snippet,textEdit:Ht.TextEdit.replace(a,s),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}),e.lists.forEach((r,n)=>{i.push(ps(n,"",""))}),i}function _D(){var e;let t=[];return(e=je.instance)==null||e.getRegisteredModifiers().forEach(i=>{i.isDeprecated||t.push(dc(i))}),t}var Nm=class{static getSuggestions(e){var s,a,o,l,u,c,f,d,p,m,_,P,g,T,y,A,N,U,V,w,$,le,j,Z,ce,se,X,Ue,dt,ii,ot,Xe,Dn,Fn;if(e==null)return[];if(e.context!=null&&e.context.node!=null&&e.context.node.isComment)return e.context.node.antlersNodeIndex==1?Hb:[];if(e.nodesInScope.length==0)return[];if(e.leftMeaningfulWord==null&&e.leftChar=="/"){let he=ia.getUnclosedTags(e.document,e.position);if(he.length>0){let pe=[],be="";e.rightChar=="}"&&(be=" ");for(let fe=0;fe<he.length;fe++)pe.push({label:he[fe].runtimeName()+be,kind:Ht.CompletionItemKind.Text});return pe}}let i=e.nodesInScope[e.nodesInScope.length-1];if(i instanceof Js)return[];let r=[],n=!0;if(i.currentScope!=null&&((s=e.context)==null?void 0:s.variableContext)!=null&&e.context.variableContext.varPathText.length>0){if(i.currentScope.hasListInHistory(e.context.variableContext.varPathText)){let he=i.currentScope.getList(e.context.variableContext.varPathText);he!=null&&ra(e,he).forEach(pe=>{r.push({...pe,sortText:"00"})})}else if(i.currentScope.containsPath(e.context.variableContext.varPathText)){let he=i.currentScope.findNestedScope(e.context.variableContext.varPathText);he!=null&&ra(e,he).forEach(pe=>{r.push({...pe,sortText:"00"})})}}if(((a=e.context)==null?void 0:a.modifierContext)!=null&&(e.context.modifierContext.inModifierName||e.context.modifierContext.inModifierName==!1&&e.context.modifierContext.inModifierParameter==!1||e.context.feature==null||e.leftChar=="|"&&e.context.char==" ")&&(r=r.concat(_D())),e.nodesInScope.length>=2){let he=e.nodesInScope.length-2,pe=[];for(let be=he;be>=0;be--){let fe=e.nodesInScope[be];pe=pe.concat(Pm.getVariableSuggestions(e,fe))}pe.length>0&&(r=r.concat(pe))}if((((o=e.currentNode)==null?void 0:o.isEmpty())||((l=e.context)==null?void 0:l.isCursorInIdentifier)&&e.leftChar!=":"&&e.leftChar!=" ")&&((u=e.context)==null?void 0:u.modifierContext)==null){let he=(f=(c=Le.instance)==null?void 0:c.getVisibleTagsWithDocumentation())!=null?f:[],pe=[],be=[];for(let fe=0;fe<he.length;fe++){let De="000";if(e.leftWord!=null&&he[fe].label.startsWith(e.leftWord)==!1&&(De="001"),((d=e.context)==null?void 0:d.node)!=null&&((p=e.context)==null?void 0:p.node.parent)!=null&&(De=void 0),he[fe].label.includes(":")==!1)pe.includes(he[fe].label)==!1&&(be.push({label:he[fe].label,kind:Ht.CompletionItemKind.Text,documentation:{kind:"markdown",value:he[fe].documentation},sortText:De}),pe.push(he[fe].label));else{let xt=he[fe].label.split(":")[0];pe.includes(xt)==!1&&(be.push({label:xt,kind:Ht.CompletionItemKind.Text,documentation:{kind:"markdown",value:he[fe].documentation},sortText:De}),pe.push(xt))}}r=r.concat(be)}if(i!=null&&i.currentScope!=null){if(gD.includes(i.getTagName()))return[];if(((m=e.context)==null?void 0:m.node)==null)return[];if(e.antlersDocument!=null){let he=e.antlersDocument.cursor.getAssignmentsBefore(e.position.line,e.position.character);he.length>0&&he.forEach(pe=>{pe.target instanceof ue&&r.push({label:pe.target.name,kind:Ht.CompletionItemKind.Variable})})}if(hD.includes(i.getTagName())&&e.context.feature!=null&&e.context.feature instanceof At&&e.context.feature.prev instanceof Oi&&e.context.feature.prev.prev instanceof ue){let he=i.getParser();if(he!=null&&e.project!=null&&he.getLanguageParser().isMergedVariableComponent(e.context.feature.prev.prev)){let be=he.getLanguageParser().getMergedVariable(e.context.feature.prev.prev),fe=[];return be.name=="collection:handle"?fe=e.project.getUniqueCollectionNames():be.name=="site:handle"?fe=e.project.getSiteNames():be.name=="blueprint:handle"&&(fe=e.project.getBlueprintNames()),fe.forEach(De=>{r.push({label:De,sortText:De,kind:Ht.CompletionItemKind.EnumMember})}),r}if(["collection","current_template","status","blueprint","response_code"].includes(e.context.feature.prev.prev.name)){if(e.project!=null){let be=e.context.feature.prev.prev.name,fe=[];return be=="collection"?fe=e.project.getUniqueCollectionNames():be=="current_template"?fe=e.project.getTemplateNames():be=="status"?fe=["draft","scheduled","expired","published"]:be=="blueprint"?fe=e.project.getBlueprintNames():be=="response_code"&&(fe=["404","200"]),fe.forEach(De=>{r.push({label:De,sortText:De,kind:Ht.CompletionItemKind.EnumMember})}),r}}else if(e.context.feature.prev.prev.scopeVariable!=null){let be=e.context.feature.prev.prev.scopeVariable.dataType;if(be=="replicator"||be=="bard"){let fe=e.context.feature.prev.prev.scopeVariable.sourceField;return(_=fe.sets)==null||_.forEach(De=>{let xt="**"+De.displayName+"** `"+De.handle+"`  ";xt+=`

 Blueprint: \``+fe.blueprintName+"`  \n",De.fields.forEach(pn=>{xt+=`
 * `+pn.displayName+" `"+pn.name+":"+pn.type+"`  "}),be=="replicator"?xt+=`

 [Replicator Templating Documentation](https://statamic.dev/fieldtypes/replicator#templating)`:xt+=`

 [Bard Templating Documentation](https://statamic.dev/fieldtypes/bard#with-sets)`,r.push({label:De.displayName,insertText:De.handle,sortText:"000",documentation:{kind:"markdown",value:xt},kind:Ht.CompletionItemKind.EnumMember})}),r}}}if(i.isTagNode==!1){r=r.concat(Yb);let he={start:{line:e.position.line,character:e.position.character-e.originalLeftWord.length},end:e.position},pe=`if $1 }}
    $2
{{ else }}

{{ /if `;r.push({label:"ifelse",insertTextFormat:Ht.InsertTextFormat.Snippet,kind:Ht.CompletionItemKind.Snippet,textEdit:Ht.TextEdit.replace(he,pe),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}),i.scopeVariable!=null&&(r=r.concat(vm.getCompletions(e,i.scopeVariable)))}if(i.currentScope.hasListInHistory(i.runtimeName())==!1&&i.currentScope.hasPristineReference(i.runtimeName())==!1?n=(g=(P=Le.instance)==null?void 0:P.injectParentScope(i.runtimeName()))!=null?g:!1:n=!1,((T=e.context)==null?void 0:T.parameterContext)!=null&&e.context.parameterContext.parameter!=null&&(e.context.parameterContext.parameter.isVariableReference==!1?n=!1:n=!0),e.currentNode!=null&&(e.currentNode.isEmpty()||e.currentNode.parent!=null)&&(n=!0),i.runtimeName().includes(":")&&i.currentScope.containsPath(Wr(i.runtimeName(),":"))){let he=Wr(i.runtimeName(),":"),pe=Tr(Wr(e.leftWord,":"),"{");if(he==pe){let be=i.currentScope.findNestedScope(he);if(be!=null)return be.lists.forEach((fe,De)=>{r.push(ps(De,"",""))}),be.values.forEach(fe=>{var De;fe.sourceField!=null?r.push({label:fe.name,detail:fe.sourceField.blueprintName,documentation:(De=fe.sourceField.instructionText)!=null?De:"",kind:Ht.CompletionItemKind.Field}):r.push(ps(fe.name,"",""))}),r}}if(i.isTagNode){if(e.isInVariableInterpolation&&e.currentNode==null)r=r.concat(ra(e,i.currentScope.ancestor()));else if(((y=e.context)==null?void 0:y.parameterContext)!=null&&e.context.parameterContext.parameter!=null){let he=e.context.parameterContext.parameter;if(he.isVariableReference&&e.position.character<=((U=(N=(A=he.valuePosition)==null?void 0:A.end)==null?void 0:N.char)!=null?U:-1)){if(r=r.concat(ra(e,i.currentScope.ancestor())),Le.instance!=null){let pe=Le.instance.getCompletionItems(e);r=r.concat(pe.items)}}else if(e.position.character<=(($=(w=(V=he.valuePosition)==null?void 0:V.end)==null?void 0:w.char)!=null?$:-1)){let pe=null,be=!1;if((le=Le.instance)==null?void 0:le.canResolveDynamicParameter(i.runtimeName())){let fe=Le.instance.findTag(i.runtimeName());typeof fe!="undefined"&&typeof fe.resolveDynamicParameter!="undefined"&&fe.resolveDynamicParameter!=null&&(pe=fe.resolveDynamicParameter(i,he.name),be=!0)}else pe=(Z=(j=Le.instance)==null?void 0:j.getParameter(i.runtimeName(),he.name))!=null?Z:null;if(pe==null&&be&&(pe=(se=(ce=Le.instance)==null?void 0:ce.getParameter(i.runtimeName(),he.name))!=null?se:null),typeof pe!="undefined"&&pe!==null){let fe=(Ue=(X=Le.instance)==null?void 0:X.resolveParameterCompletions(i.runtimeName(),pe,e))!=null?Ue:null;fe!==null&&fe.items.length>0?fe.items.forEach(De=>{De.sortText="000",r.push(De)}):$b(pe).forEach(De=>{De.sortText="000",r.push(De)})}if(he.hasInterpolations()&&e.isInVariableInterpolation&&i.isTagNode){let fe=(dt=Le.instance)==null?void 0:dt.findTag(i.runtimeName());if(fe.resolveCompletionItems!=null){let De=fe.resolveCompletionItems(e);De.items.length>0&&(r=De.items)}}}}else if(e.isInVariableInterpolation==!1||e.currentNode==i){let he=mv(i,e.position);if(e.isCaretInTag=he,e.currentNode=i,Le.instance!=null){let pe=Le.instance.getCompletionItems(e);pe.isExclusive?r=pe.items:r=r.concat(pe.items)}}}else e.isInVariableInterpolation&&e.currentNode==null&&(r=r.concat(ra(e,i.currentScope.ancestor())));if(n){e.context.node!=null&&e.context.node.currentScope!=null&&(e.context.modifierContext==null||e.context.modifierContext.activeModifier==null)&&(r=r.concat(ra(e,e.context.node.currentScope)));let he=decodeURIComponent(e.document);if(e.project.hasViewCollectionInjections(he)){let pe=e.project.getCollectionNamesForView(he);for(let be=0;be<pe.length;be++){let fe=e.project.getBlueprintFields(pe);if(fe.length>0)for(let De=0;De<fe.length;De++){let xt=fe[De];r.push({label:xt.name,detail:xt.blueprintName,documentation:(ii=xt.instructionText)!=null?ii:"",kind:Ht.CompletionItemKind.Field})}}Wb.forEach(be=>{r.push({label:be,kind:Ht.CompletionItemKind.Field})})}}return e.context.node!=null&&(e.context.node.manifestType=="array"&&e.context.node.isClosedBy!=null?e.context.modifierContext!=null&&((Xe=(ot=je.instance)==null?void 0:ot.getModifiersForType("array"))!=null?Xe:[]).forEach(pe=>{if(pe.isDeprecated)return;let be=dc(pe);be.sortText="000",r.push(be)}):e.context.modifierContext!=null&&((Fn=(Dn=je.instance)==null?void 0:Dn.getModifiersForType(e.context.node.manifestType))!=null?Fn:[]).forEach(pe=>{if(pe.isDeprecated)return;let be=dc(pe);be.sortText="000",r.push(be)})),r}for(let he=0;he<e.nodesInScope.length;he++){let pe=e.nodesInScope[he],be=!0;if(e.isInVariableInterpolation&&e.currentNode!==null&&pe.currentScope!=null&&e.currentNode.currentScope!=null&&pe.currentScope.generation>e.currentNode.currentScope.generation&&(be=!1),pe.isTagNode&&be){let fe=mv(pe,e.position);if(e.isCaretInTag=fe,e.currentNode=pe,Le.instance!=null){let De=Le.instance.getCompletionItems(e);if(De.isExclusive){r=De.items;break}r=r.concat(De.items)}continue}}return r}};var gv=te(si());function ve(t){let e="";typeof t!="undefined"&&typeof t.resolveDocumentation!="undefined"&&t.resolveDocumentation!=null&&(e=t.resolveDocumentation());let i=t.tagName;if(i.includes(":")){let r=i.split(":");i=r[r.length-1]}return{label:i,kind:gv.CompletionItemKind.Text,sortText:"1",documentation:{kind:"markdown",value:e}}}var Sm=te(gt());function _v(t,e,i){return{name:t,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:e,expectsTypes:["string"],isDynamic:!0,isRequired:!1,documentationLink:i,docLinkName:"MDN Reference"}}var yv=_v("class","A space-separated list of the classes of the element.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/class"),Tv=_v("style","Contains CSS styling declarations to be applied to the element. Note that it is recommended for styles to be defined in a separate file or files.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/style");function vc(t){return t=="class"?yv:t=="style"?Tv:{name:t,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"",expectsTypes:["string","number","array"],isRequired:!1,isDynamic:!0}}function bv(t){let e=[];for(let i=0;i<t.length;i++)e.push({label:t[i],kind:Sm.CompletionItemKind.Field});return ne(e)}function vt(t){let e=[];for(let i=0;i<t.length;i++)e.push({label:t[i],kind:Sm.CompletionItemKind.Field});return ne(e)}function ne(t){return{items:t,isExclusiveResult:!0,analyzeDefaults:!1}}function Si(t){return{items:t,isExclusiveResult:!1,analyzeDefaults:!0}}var Se={items:[],isExclusiveResult:!1,analyzeDefaults:!0};function ct(t,e){let i=yD(t);return i.tagName=e,i}function yD(t){return{allowsArbitraryParameters:t.allowsArbitraryParameters,allowsContentClose:t.allowsContentClose,injectParentScope:t.injectParentScope,parameters:t.parameters,requiresClose:t.requiresClose,tagName:t.tagName,introducedIn:t.introducedIn,hideFromCompletions:t.hideFromCompletions,augmentScope:t.augmentScope,requiresCloseResolver:t.requiresCloseResolver,resolveCompletionItems:t.resolveCompletionItems,resolveDynamicParameter:t.resolveDynamicParameter,resolveSpecialType:t.resolveSpecialType,resovleParameterCompletionItems:t.resovleParameterCompletionItems,suggestAlternativeParams:t.suggestAlternativeParams,resolveDocumentation:t.resolveDocumentation}}function vv(t){return t.findParameterValueOrNull("scope")}function Iv(t){t.getAllNodes().forEach(i=>{i instanceof G&&i.manifestType==="array"&&(i.mustClose=!0)})}function TD(t){return t.findParameterValueOrNull("as")}var bD=["count","next","previous"];function vD(t,e){let i=[];if(t.hasMethodPart()){let o=t.getMethodNameValue();if(bD.includes(o)==!1)return i.push(o),i}let r=t.findAnyParameter(Mb),n=t.findAnyParameter(qb),s=[],a=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueCollectionNames(),typeof n!="undefined"&&n!==null&&n.isVariableReference==!1&&n.hasInterpolations()==!1&&(a=n.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),a.length>0?i=s.filter(function(o){return a.includes(o)==!1}):i=s,i}function Ts(t,e){var u,c,f,d,p,m;let i=vD(t,e),r=!1,n=!1,s=!1,a=null,o="";if(t.isClosingTag==!1){let _=TD(t),P=vv(t);_!=null&&(r=!0,o=_),P!=null&&(s=!0,a=P),n=t.hasParameter("paginate")}return{context:{collectionNames:i!=null?i:[],endPosition:(c=(u=t.endPosition)==null?void 0:u.char)!=null?c:0,aliasName:o,isAliased:r,isScoped:s,scopeName:a,isStartOfScope:!t.isClosingTag,line:(d=(f=t.startPosition)==null?void 0:f.line)!=null?d:0,startPosition:(m=(p=t.startPosition)==null?void 0:p.char)!=null?m:0,isPaginated:n,excludeCollections:[],includeCollections:[]},issues:[]}}function mo(t,e){if(t==null)return null;let i=Tr(e,":");return i.includes(":")&&(i=i.split(":")[0]),i=="status"||i=="taxonomy"||t.currentScope!=null&&t.currentScope.containsReference(i)?vc(e):null}var ID=["from","folder","use","not_from","not_folder"],PD=["previous","next"],ND=["in","collection"];function bs(t,e){var i,r,n,s,a,o,l,u,c,f;if(t.isDynamic){let d=bc(t.name);if(e.nodesInScope.length>0){let p=e.nodesInScope[e.nodesInScope.length-1];if(p!=null&&p.currentScope!=null){let m=oo(p,p.currentScope),_=m.map(g=>g.name),P=Yn(e.leftWord);if(_.includes(P))return ne(hs(e))}}if(d=="status"&&((i=e.context)==null?void 0:i.parameterContext)!=null)return ne(jb((n=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?n:[]));if(d=="taxonomy"){let p=Yn(t.name);if(e.project.hasTaxonomy(p)&&((s=e.context)==null?void 0:s.parameterContext)!=null)return ne(Ub((o=(a=e.context.parameterContext.parameter)==null?void 0:a.getArrayValue())!=null?o:[],p,e.project))}}if(t.name=="filter"||t.name=="query_scope")return ne(hc(e.project));if(e.nodesInScope.length>0){let d=e.nodesInScope[e.nodesInScope.length-1];if(d.hasMethodPart()&&PD.includes(d.getMethodNameValue())&&ND.includes(t.name))return ne(Gb(e.project))}return ID.includes(t.name)&&((l=e.context)==null?void 0:l.parameterContext)!=null?ne(lo((f=(c=(u=e.context)==null?void 0:u.parameterContext.parameter)==null?void 0:c.getArrayValue())!=null?f:[],e.project)):null}var SD={tagName:"collection:previous",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...ms,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:uo,resolveDynamicParameter:mo,resolveSpecialType:Ts,suggestAlternativeParams:ao,resovleParameterCompletionItems:bs,resolveCompletionItems:ho,resolveDocumentation:t=>Me("collection:previous Tag","The `collection:previous` tag is used to show the entries that appear before the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the previous two entries, based on dates in ascending order. #}}
{{ collection:previous in="articles" limit="2" sort="date:asc" }}

{{ /collection:previous }}`,"https://statamic.dev/tags/collection-previous")},na=SD;var Ic=ct(na,"collection:older"),Pc=ct(na,"collection:newer");var RD={tagName:"collection:count",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...ms,{isRequired:!0,name:"in",aliases:["from"],description:"The collection from which to count entries",acceptsVariableInterpolation:!0,allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:Ts,resovleParameterCompletionItems:bs,resolveDocumentation:t=>Me("collection:count Tag","The `collection:count` tag returns the total number of entries in the specified collection(s). The collection count tag accepts the same parameters as the collection tag, allowing developers to count entries that meet specific conditions.",`Total entry count: {{ collection:count in="collection-name" }}
Draft count: {{ collection:count in="collection-name" status:in="draft" }}`,"https://statamic.dev/tags/collection-count")},Nc=RD;var CD={tagName:"collection:next",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...ms,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:uo,resolveDynamicParameter:mo,resolveSpecialType:Ts,suggestAlternativeParams:ao,resovleParameterCompletionItems:bs,resolveCompletionItems:ho,resolveDocumentation:t=>Me("collection:next Tag","The `collection:next` tag is used to show the entries that will appear after the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the next two entries, based on dates in ascending order. #}}
{{ collection:next in="articles" limit="2" sort="date:asc" }}

{{ /collection:next }}`,"https://statamic.dev/tags/collection-next")},Sc=CD;function ho(t){var i,r;let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="collection"||t.leftWord=="/collection")&&t.leftChar==":"){let n=t.project.getCollectionNames();for(let s=0;s<n.length;s++)e.push({label:n[s],kind:Ll.CompletionItemKind.Field,sortText:"0"});return e.push(ve(Nc)),e.push(ve(Sc)),e.push(ve(na)),e.push(ve(Ic)),e.push(ve(Pc)),{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}if(t.currentNode!=null&&t.currentNode.currentScope!=null){let n=oo(t.currentNode,t.currentNode.currentScope),s=n.map(o=>o.name),a=Yn(t.leftWord);if(a==="taxonomy")return ne(Bb(t));if(s.includes(a))return e=hs(t),ne(e);if(t.isCaretInTag&&!((i=t.context)==null?void 0:i.isInParameter)&&["collection","/collection"].includes(t.leftWord)==!1&&t.leftChar!=" "){let o=[];for(let l=0;l<n.length;l++){let u=n[l];o.includes(u.name)==!1&&(e.push({label:u.name,detail:u.blueprintName,documentation:(r=u.instructionText)!=null?r:"",kind:Ll.CompletionItemKind.Field}),o.push(u.name))}if(e.push({label:"taxonomy",insertText:"taxonomy:",kind:Ll.CompletionItemKind.Field}),e.push({label:"status",insertText:"status:",kind:Ll.CompletionItemKind.Field}),e.length>0)return Si(e)}}return Se}var AD={tagName:"collection",hideFromCompletions:!1,introducedIn:null,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:ms,augmentScope:uo,resolveDynamicParameter:mo,resolveSpecialType:Ts,suggestAlternativeParams:ao,resovleParameterCompletionItems:bs,resolveCompletionItems:ho,resolveDocumentation:t=>Me("collection Tag","The `collection` tag provides access to entry data such as blog posts, products, etc.",`{{ collection:articles as="posts" }}

	{{ posts }}
		{{ title }}
	{{ /posts }}

{{ /collection:articles }}`,"https://statamic.dev/tags/collection")},Pv=AD;var ED={tagName:"cache",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,allowsContentClose:!1,allowsArbitraryParameters:!1,resovleParameterCompletionItems:(t,e)=>t.name=="scope"?vt(["page","site","user"]):null,parameters:[{isRequired:!1,name:"for",description:"The duration the cache is valid for",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"key",description:"An arbitrary name the cache entry may be referenced by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"scope",description:" The scope of the cached value. Either site or page.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:(t,e)=>{let i=t.findParameter("key"),r=null;if(i!=null){let n=i.value;n.trim().length>0&&(r={key:n,reference:t})}return{context:r,issues:[]}},resolveDocumentation:t=>Me("cache Tag","The `cache` tag can be used to save the results of an expensive template operation. The duration of the cache can be configured.",`{{ cache for="10 minutes" }}
    {{# Template code that won't be re-rendered for at least 10 minutes. #}}
{{ /cache }}`,"https://statamic.dev/tags/cache")},Nv=ED;var wD={tagName:"dump",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.leftWord=="dump"&&t.leftChar==":"?ne(hv(t)):Se,resolveDocumentation:t=>Me("dump Tag","The `dump` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered.",`{{ collection:articles }}
	{{# View all data available, for each entry. #}}
    {{ dump }}
{{ /collection:articles }}`,"https://statamic.dev/tags/dump")},Sv=wD;var xD={tagName:"404",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Me("404 (Not Found) Tag","The `404` (Not Found) tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ 404 }}
{{ /unless }}`,"https://statamic.dev/tags/404")},Rv=xD;var DD={tagName:"link",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The relative path",expectsTypes:["string"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!0,isDynamic:!1},{name:"absolute",description:"Whether to generate absolute URLs. Default false",expectsTypes:["boolean"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1},{name:"id",description:"The ID of the entry to link to",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1},{name:"in",description:"The handle of the site to link to.",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>M("link Tag","The `link` tag accepts relative URLs or entry IDs and generates fully-qualified URLs to the desired content.","https://statamic.dev/tags/link")},Cv=DD;var Av={tagName:"loop",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>M("loop Tag","The `loop` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")},Ev={tagName:"range",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>M("range Tag","The `range` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")};var ar=te(si());function Je(t,e){return e.trim().length>0?vc(e):null}var go=[{isRequired:!1,name:"src",description:"The name of the partial view",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"when",description:"A condition to control whether the partial renders",allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["*"],isDynamic:!1},{isRequired:!1,name:"unless",description:"A condition to control whether the partial renders",allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["*"],isDynamic:!1}];var kl=te(si());function _o(t,e){var i;if(t.isDynamic&&e.currentNode!=null&&e.currentNode.getTagName()=="partial"&&e.currentNode.hasMethodPart()){let r=e.currentNode.getMethodNameValue();if(r.trim().length>0&&((i=de.instance)==null?void 0:i.hasStructure())){let n=de.instance.getStructure().findRelativeView(r);if(n!=null&&n.varReferenceNames.has(t.name)){let s=n.varReferenceNames.get(t.name);if(n.document!=null&&n.document.hasFrontMatter()){let a=n.document.getFrontMatterScope();if(a!=null){let o=a.getList(s);if(o!=null)return bv(o.getVariableNames())}}}}}if(t.name=="src"){let r=e.project.getViews(),n=[];return r.forEach(s=>{if(yn.hasDetails(s.documentUri)){let a=yn.documentDetails.get(s.documentUri);n.push({label:a.documentName+"("+s.relativeDisplayName+")",insertText:s.relativeDisplayName,detail:a.documentName,documentation:{kind:kl.MarkupKind.Markdown,value:a.documentDescription},kind:kl.CompletionItemKind.File})}else n.push({label:s.relativeDisplayName,kind:kl.CompletionItemKind.File})}),ne(n)}return null}var FD={tagName:"partial:exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:go,introducedIn:"3.2.7",resovleParameterCompletionItems:_o,resolveDocumentation:t=>M("partial:exists Tag","The `partial:exists` can be used within conditional statements to test if a partial exists.","https://statamic.dev/tags/partial-exists")},Rc=FD;var OD={tagName:"partial:if_exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:go,introducedIn:"3.2.7",resovleParameterCompletionItems:_o,resolveDocumentation:t=>M("partial:if_exists Tag","The `partial:if_exists` can be used to output the contents of a partial if it exists.","https://statamic.dev/tags/partial-if-exists")},Cc=OD;function yo(t){if(t.getTagName()!="partial")return null;let e="";if(t.hasMethodPart())e=t.getMethodNameValue();else{let i=t.findParameter("src");i!=null&&(e=i.value)}return e}var LD=[ve(Rc),ve(Cc)],kD={tagName:"partial",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!0,parameters:go,requiresClose:!1,allowsContentClose:!0,introducedIn:null,resolveDocumentation:t=>`**Partial Tag**  
Includes another view into the current template.  

[Documentation Reference](https://statamic.dev/tags/partial)
`,resolveDynamicParameter:Je,resovleParameterCompletionItems:_o,resolveCompletionItems:t=>{let e=[];if(t.leftChar=='"'&&t.leftWord==':src="')return{items:[],analyzeDefaults:!0,isExclusiveResult:!1};if((t.leftWord=="partial"||t.leftWord=="/partial")&&t.leftChar==":"||t.leftWord=='src="'&&t.leftChar=='"')return t.project.getViews().forEach(r=>{let n=decodeURIComponent(r.documentUri);if(yn.hasDetails(n)){let s=yn.documentDetails.get(n);e.push({label:s.documentName+"("+r.relativeDisplayName+")",insertText:r.relativeDisplayName,detail:s.documentName,documentation:{kind:ar.MarkupKind.Markdown,value:s.documentDescription},kind:ar.CompletionItemKind.File})}else e.push({label:r.relativeDisplayName,kind:ar.CompletionItemKind.File})}),t.leftWord!='src="'&&(e=e.concat(LD)),{analyzeDefaults:!1,isExclusiveResult:!0,items:e};if(t.currentNode!=null&&t.project!=null){let i=yo(t.currentNode);if(i!=null&&i.trim().length>0){let r=t.project.findRelativeView(i);if(r!=null&&we.hasDocument(r.documentUri)){let n=we.getDocument(r.documentUri);if(n!=null){let s=n.getAllAntlersNodes(),a=MD(s),o=[];r.varReferenceNames!=null&&r.varReferenceNames.forEach((u,c)=>{a.push(c)});let l=[];if(r.injectsParameters.length>0){let u={start:{line:t.position.line,character:t.position.character-0},end:t.position};r.injectsParameters.forEach(c=>{let f=c.name+'="$1"';o.includes(c.name)||(o.push(c.name),l.push({label:c.name,kind:ar.CompletionItemKind.Value,insertTextFormat:ar.InsertTextFormat.Snippet,textEdit:ar.TextEdit.replace(u,f),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}if(a.length>0){let u={start:{line:t.position.line,character:t.position.character-0},end:t.position};a.forEach(c=>{let f=c+'="$1"';o.includes(c)||(o.push(c),l.push({label:c,kind:ar.CompletionItemKind.Value,insertTextFormat:ar.InsertTextFormat.Snippet,textEdit:ar.TextEdit.replace(u,f),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}return Si(l)}}}}return{analyzeDefaults:!0,isExclusiveResult:!1,items:[]}}};function MD(t){let e=[];return t.forEach(i=>{if(i.isTagNode||i.isClosingTag||i.isComment||i.hasMethodPart()&&i.getMethodNameValue().length>0||i.name!=null&&i.name.content.includes("["))return;let r=i.getTagName();!e.includes(r)&&r!="#"&&r!="slot"&&e.push(r)}),e}var wv=kD;var qD={tagName:"increment:reset",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:"3.2.28",parameters:[{isRequired:!0,name:"counter",aliases:[],description:"The incrementing counter to reset",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"to",aliases:[],description:"An optional value to reset the counter to before incrementing starts again",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveDocumentation:t=>Me("increment:reset Tag","The `increment:reset` tag can be used to reset the value of an incrementing counter.",`{{ array_variable }}
    {{ increment:counter_name }}
{{ /array_variable }}

{{ increment:reset counter="counter_name" }}
`,null)},Ac=qD;var VD=[ve(Ac)],BD={tagName:"increment",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!1,name:"from",aliases:[],description:"The number to start incrementing by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"by",aliases:[],description:"The number to increment by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveCompletionItems:t=>t.leftWord=="increment"||t.leftWord=="/increment"&&t.leftChar==":"?ne(VD):Se,resolveDocumentation:t=>M("increment Tag","The `increment` tag can be used to increment a value each time the tag is encountered.","https://statamic.dev/tags/increment")},xv=BD;var Ml=class{constructor(e){this.node=e}},Dv={tagName:"yields",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new Ml(t),issues:[]})},Fv={tagName:"yield",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new Ml(t),issues:[]}),resolveDocumentation:t=>M("yield Tag","The `yield` tag may be used to push rendered content to named regions within a template's structure.","https://statamic.dev/tags/yield")};var Ec=te(gt());var Ov=[{handle:"access cp"},{handle:"configure collections"},{handle:"[view edit create delete publish reorder] {collection} entries"},{handle:"configure structures"},{handle:"[view edit] {structure} structure"},{handle:"edit {global} globals"},{handle:"[view upload edit move rename delete] {container} assets"},{handle:"[view perform] updates"},{handle:"[view edit create delete] users"},{handle:"change passwords"},{handle:"edit roles"},{handle:"configure forms"},{handle:"[view delete] {form} submissions"}];var vs=class{constructor(){this.contextItems=new Map;this.triggerNames=[];this.collectionTriggers=[];this.collectionTriggerCaps=[];this.globalTriggers=[];this.globalTriggerCaps=[];this.formTriggers=[];this.formTriggerCaps=[];this.structureTriggers=[];this.structureTriggerCaps=[];this.assetTriggers=[];this.assetTriggerCaps=[]}getCollectionTriggerCaps(){return this.collectionTriggerCaps}getGlobalTriggerCaps(){return this.globalTriggerCaps}getFormTriggerCaps(){return this.formTriggerCaps}getStructureTriggerCaps(){return this.structureTriggerCaps}getAssetTriggerCaps(){return this.assetTriggerCaps}loadCorePermissions(){this.registerPermissions(Ov)}getTriggerNames(){return this.triggerNames}isCollectionTrigger(e){return this.collectionTriggers.includes(e)}isGlobalTrigger(e){return this.globalTriggers.includes(e)}isFormTrigger(e){return this.formTriggers.includes(e)}isStructureTrigger(e){return this.structureTriggers.includes(e)}isAssetTrigger(e){return this.assetTriggers.includes(e)}getTriggerContextItems(e){return this.contextItems.has(e)?this.contextItems.get(e):[]}registerSpecialTrigger(e,i,r){i=="{collection}"?(this.collectionTriggerCaps.includes(r)==!1&&this.collectionTriggerCaps.push(r),this.collectionTriggers.includes(e)==!1&&this.collectionTriggers.push(e)):i=="{structure}"?(this.structureTriggerCaps.includes(r)==!1&&this.structureTriggerCaps.push(r),this.structureTriggers.includes(e)==!1&&this.structureTriggers.push(e)):i=="{container}"?(this.assetTriggerCaps.includes(r)==!1&&this.assetTriggerCaps.push(r),this.assetTriggers.includes(e)==!1&&this.assetTriggers.push(e)):i=="{global}"?(this.globalTriggerCaps.includes(r)==!1&&this.globalTriggerCaps.push(r),this.globalTriggers.includes(e)==!1&&this.globalTriggers.push(e)):i=="{form}"&&(this.formTriggerCaps.includes(r)==!1&&this.formTriggerCaps.push(r),this.formTriggers.includes(e)==!1&&this.formTriggers.push(e))}addContextToTrigger(e,i){var r;this.triggerNames.includes(e)==!1&&this.triggerNames.push(e),this.contextItems.has(e)==!1?this.contextItems.set(e,[i]):(r=this.contextItems.get(e))==null||r.push(i)}registerPermissions(e){for(let i=0;i<e.length;i++){let r=e[i],n=[],s="",a="";if(r.handle.includes("[")&&r.handle.includes("]")){let o=r.handle.indexOf("["),l=r.handle.indexOf("]"),u=l-o,c=r.handle.substr(o+1,u-1).split(" ").filter(d=>d.trim().length>0),f=r.handle.substr(l+1).split(" ").filter(d=>d.trim().length>0);n=c,f.length==2?(s=f[0],a=f[1]):f.length==1&&(s="",a=f[0])}else{let o=r.handle.split(" ").filter(l=>l.trim().length>0);o.length==2&&(n=[o[0]],a=o[1])}for(let o=0;o<n.length;o++){let l=n[o];s.trim().length>0?this.registerSpecialTrigger(l,s,a):this.addContextToTrigger(l,a)}}}};vs.instance=null;(typeof vs.instance=="undefined"||vs.instance==null)&&(vs.instance=new vs,vs.instance.loadCorePermissions());var or=vs;function Lv(t,e){var r,n,s,a,o,l,u,c,f,d,p,m,_,P,g,T,y,A,N;let i=[];if(t.trim().length==0){let U=(n=(r=or.instance)==null?void 0:r.getTriggerNames())!=null?n:[];for(let V=0;V<U.length;V++)i.push({label:U[V],kind:Ec.CompletionItemKind.Value})}else{let U=t.split(" ").filter(X=>X.trim().length>0),V=U[0],w=(a=(s=or.instance)==null?void 0:s.getTriggerContextItems(V))!=null?a:[],$=(o=or.instance)==null?void 0:o.isCollectionTrigger(V),le=(l=or.instance)==null?void 0:l.isGlobalTrigger(V),j=(u=or.instance)==null?void 0:u.isFormTrigger(V),Z=(c=or.instance)==null?void 0:c.isStructureTrigger(V),ce=(f=or.instance)==null?void 0:f.isAssetTrigger(V),se=[];if(U.length<=2){$?se=se.concat(e.project.getUniqueCollectionNames()):le?se=se.concat(e.project.getUniqueGlobalsNames()):j?se=se.concat(e.project.getUniqueFormNames()):Z?se=se.concat(e.project.getUniqueNavigationMenuNames()):ce&&(se=se.concat(e.project.getUniqueAssetNames())),w.length>0&&(se=se.concat(w)),se=[...new Set(se)];for(let X=0;X<se.length;X++)i.push({label:se[X],kind:Ec.CompletionItemKind.Value})}else{let X=[];$?X=X.concat((p=(d=or.instance)==null?void 0:d.getCollectionTriggerCaps())!=null?p:[]):le?X=X.concat((_=(m=or.instance)==null?void 0:m.getGlobalTriggerCaps())!=null?_:[]):j?X=X.concat((g=(P=or.instance)==null?void 0:P.getFormTriggerCaps())!=null?g:[]):Z?X=X.concat((y=(T=or.instance)==null?void 0:T.getStructureTriggerCaps())!=null?y:[]):ce&&(X=X.concat((N=(A=or.instance)==null?void 0:A.getAssetTriggerCaps())!=null?N:[])),X=[...new Set(X)];for(let Ue=0;Ue<X.length;Ue++)i.push({label:X[Ue],kind:Ec.CompletionItemKind.Value})}}return i}function wc(t,e){var r,n,s,a;let i=bc(t.name);return((r=e.context)==null?void 0:r.parameterContext)!=null&&["do","permission"].includes(i)?ne(Lv((a=(s=(n=e.context)==null?void 0:n.parameterContext.parameter)==null?void 0:s.value)!=null?a:"",e)):null}var jD={tagName:"user:can",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:wc,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>M("user:can Tag","The `user:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can")},To=jD;var UD={tagName:"user:logout",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>M("user:logout Tag","The `user:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout")},bo=UD;var GD={tagName:"user:logout_url",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>Me("user:logout_url","The `user:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ user:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url")},vo=GD;var kv={tagName:"switch",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>M("switch Tag","The `switch` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")},Mv={tagName:"rotate",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,introducedIn:null,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>M("rotate Tag","The `rotate` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")};var WD={tagName:"oauth",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"provider",description:"The OAuth provider to be used",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]},{name:"redirect",description:"The URL to be taken to after authenticating",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resovleParameterCompletionItems:(t,e)=>t.name=="provider"?vt(e.project.getOAuthProviders()):null,resolveDocumentation:t=>Me("oauth Tag","The `oauth` tag can be used to generate login URls for various third-party services.",'<a href="{{ oauth provider="github" }}">Sign In with Github</a>',"https://statamic.dev/tags/oauth")},qv=WD;var HD={tagName:"session:dump",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>M("session:dump Tag","The `session:dump` tag will display the contents of the user's session to the browser. This tag behaves similarly to the `dd` helper functions, but returns just the session data.","https://statamic.dev/tags/session-dump")},xc=HD;var sa=class{constructor(e){this.node=e}};var YD={tagName:"session:set",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:null,resolveDynamicParameter:Je,resolveSpecialType:(t,e)=>({context:new sa(t),issues:[]}),resolveDocumentation:t=>M("session:set Tag","The `session:set` tag is used to add new data to the user's session.","https://statamic.dev/tags/session-set")},Dc=YD;var aa=class{constructor(){this.knownVariables=new Map}registerDocumentSessionVariables(e,i){this.knownVariables.has(e)||this.knownVariables.set(e,new Map);let r=this.knownVariables.get(e);r.clear();for(let n=0;n<i.length;n++){let s=i[n].node;if(s.hasParameters)for(let a=0;a<s.parameters.length;a++){let o=s.parameters[a];r.set(o.name,i[n])}}}getKnownSessionVariableNames(){let e=[];return this.knownVariables.forEach(i=>{i.forEach((r,n)=>{e.includes(n)==!1&&e.push(n)})}),e}};aa.instance=null;(typeof aa.instance=="undefined"||aa.instance==null)&&(aa.instance=new aa);var oa=aa;var Vv=te(gt());function Bv(t,e){let i=[],r=t.getArrayValue(),n=e.filter(s=>!r.includes(s));for(let s=0;s<n.length;s++)i.push({label:n[s],kind:Vv.CompletionItemKind.Variable});return ne(i)}var KD={tagName:"session:forget",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"keys",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The session keys to clear",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var i,r,n;if(t.name=="keys"&&((i=e.context)==null?void 0:i.parameterContext)!=null){let s=(n=(r=oa.instance)==null?void 0:r.getKnownSessionVariableNames())!=null?n:[];if(e.context.parameterContext.parameter!=null)return Bv(e.context.parameterContext.parameter,s)}return null},resolveDocumentation:t=>M("session:forget Tag","The `session:forget` tag is used to remove variables from the user's session.","https://statamic.dev/tags/session-forget")},Fc=KD;var $D={tagName:"session:flush",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>M("session:flush Tag","The `session:flush` tag will clear all values from the visitor's session. If the visitor is currently signed in they will also be signed out.","https://statamic.dev/tags/session-flush")},Oc=$D;var zD={tagName:"session:flash",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:Je,resolveSpecialType:(t,e)=>({context:new sa(t),issues:[]}),resolveDocumentation:t=>M("session:flash Tag","The `session:flash` tag can be used to add a value to the user's session. Flashed values only persist for a single request, and are then removed.","https://statamic.dev/tags/session-flash")},Lc=zD;var XD={tagName:"markdown:indent",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>M("markdown:indent Tag","The `markdown:indent` tag is similar to the markdown tag, but will ignore leading whitepsace while rendering the tag's content as markdown.","https://statamic.dev/tags/markdown-indent")},kc=XD;var QD=[ve(kc)],JD={tagName:"markdown",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="markdown"||t.leftWord=="/markdown")&&t.leftChar==":"?ne(QD):Se,resolveDocumentation:t=>M("markdown Tag","The `markdown` tag can be used to render the tags contents as markdown.","https://statamic.dev/tags/markdown")},jv=JD;var Uv=te(si());function Mc(t,e){let i=[],r=e;if(t.trim().length>0&&t.includes(".")&&t.endsWith(".")){let n=t.substr(0,t.length-1);r=r.filter(s=>s.startsWith(n))}for(let n=0;n<r.length;n++){let s=r[n],a=!0;t.includes(".")&&(s.startsWith(t)==!1?a=!1:s=s.substr(t.length)),a&&i.push({label:s,insertText:s,kind:Uv.CompletionItemKind.Text})}return i}function Gv(t,e){return Mc(t,e.getRouteNames())}var ZD={tagName:"route",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:Je,resolveCompletionItems:t=>{if(t.leftMeaningfulWord=="route"){let e=Tc(t);return ne(Gv(e,t.project))}return Se},resolveDocumentation:t=>M("route Tag","The `route` tag can be used to generate a full URL [to a named route](https://laravel.com/docs/8.x/routing#named-routes), including any defined route parameters.","https://statamic.dev/tags/route")},Wv=ZD;var qc=te(gt()),Hv=[{label:"301 Permanent",insertText:"301",kind:qc.CompletionItemKind.EnumMember},{label:"302 Temporary",insertText:"302",kind:qc.CompletionItemKind.EnumMember},{label:"404 Not Found",insertText:"404",kind:qc.CompletionItemKind.EnumMember}];var eF={tagName:"redirect",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The destination URL",aliases:["url"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!0},{name:"response",description:"The HTTP response code to use",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:t=>t.name=="response"?ne(Hv):Se,resolveDocumentation:t=>M("redirect Tag","The `redirect` tag can be used to redirect the site visitor to a URL or named route. An optional HTTP status code can also be specified on the response using the `response` parameter.","https://statamic.dev/tags/redirect")},Yv=eF;var Kv=te(gt());var la=class{constructor(){this.knownSections=new Map}registerDocumentSections(e,i){this.knownSections.has(e)||this.knownSections.set(e,new Map);let r=this.knownSections.get(e);r.clear();for(let n=0;n<i.length;n++){let s=i[n];s.node.hasMethodPart()&&r.set(s.node.getMethodNameValue(),s)}}getKnownSectionNames(){let e=[];return this.knownSections.forEach(i=>{i.forEach((r,n)=>{e.includes(n)==!1&&e.push(n)})}),e}};la.instance=null;(typeof la.instance=="undefined"||la.instance==null)&&(la.instance=new la);var Vc=la;var tF={tagName:"section",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>{var e,i;if((t.leftWord=="section"||t.leftWord=="/section")&&t.leftChar==":"){let r=[],n=(i=(e=Vc.instance)==null?void 0:e.getKnownSectionNames())!=null?i:[];for(let s=0;s<n.length;s++)r.push({label:n[s],kind:Kv.CompletionItemKind.Field});return Si(r)}return Se},resolveDocumentation:t=>M("section Tag","The `section` tag is used to push content to a named region defined by the `yield` tag.","https://statamic.dev/tags/section")},$v=tF;var iF={tagName:"obfuscate",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>M("obfuscate Tag","The `obfuscate` tag converts the tags's content into a format that is difficult for bots to read, but can easily be viewed by users within their browser.","https://statamic.dev/tags/obfuscate")},zv=iF;var rF={tagName:"parent",hideFromCompletions:!1,requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>M("parent Tag","The `parent` tag provides access to data from the current page's parent (the URL one level above the current page).","https://statamic.dev/tags/parent")},Xv=rF;function Rm(t,e){return Mc(t,e.getTranslationKeys())}var nF=["translate","trans","trans_choice"],Bc={tagName:"translate",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!0,parameters:[{isRequired:!1,name:"key",description:"The key of the translation string to find",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"locale",description:"The locale to be used when translating",acceptsVariableInterpolation:!1,aliases:["site"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"count",description:"The number of items to use for pluralization",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var i;if(t.name=="key"){let r="";return((i=e.context)==null?void 0:i.parameterContext)!=null&&e.context.parameterContext.parameter!=null&&(r=e.context.parameterContext.parameter.value),ne(Rm(r,e.project))}return Se},resolveDynamicParameter:Je,resolveCompletionItems:t=>{if(t.leftMeaningfulWord!=null&&nF.includes(t.leftMeaningfulWord)){let e=Tc(t);return ne(Rm(e,t.project))}return Se},resolveDocumentation:t=>M("trans Tag","The `trans` tag can be used to retrieve a string for the current locale's language file.","https://statamic.dev/tags/trans")},Qv=ct(Bc,"trans"),Cm=ct(Bc,"trans_choice");Cm.resolveDocumentation=t=>M("trans_choice Tag","The `trans_choice` tag can be used to retrieve a pluralized string for the current locale's language file.","https://statamic.dev/tags/trans#pluralization");var sF={tagName:"svg",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The SVG filename relative to the project root",expectsTypes:["string"],isDynamic:!1}],resolveDynamicParameter:Je,resolveDocumentation:t=>M("svg Tag","The `svg` tag can be used to render inline SVGs, as well as set attributes on the rendered `<svg>` element.","https://statamic.dev/tags/svg")},Jv=sF;var aF={tagName:"asset",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The path to the file",expectsTypes:["string"],isDynamic:!1,name:"url"}],augmentScope:(t,e)=>(e.addVariables(po(t)),e),resolveDocumentation:t=>Me("asset Tag","The `asset` tag can be used to retrive Assets by supplying a URL.",`{{ asset url="/url/for/asset.png" }}
    <img src="{{ url }}" alt="{{ alt }}" />
{{ /asset }}`,"https://statamic.dev/tags/asset")},Zv=aF;var eI=te(gt());function Am(t){let e=[],i=t.getUniqueAssetNames();for(let r=0;r<i.length;r++)e.push({label:i[r],kind:eI.CompletionItemKind.Field});return e}var tI=["container","id","handle"],oF={tagName:"assets",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"container",aliases:["id","handle"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The handle of the asset container",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"folder",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Filters the resulting assets by specific folder",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"recursive",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Returns all assets in all subdirectories",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"limit",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Limits the total results",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sort entries by any asset variable",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>tI.includes(t.name)?ne(Am(e.project)):Se,augmentScope:(t,e)=>{e.addVariables(po(t));let i="";if(t.name!=null&&t.name.getMethodName()!=null)i=t.name.getMethodName();else{let r=t.findAnyParameter(tI);r!=null&&r.containsSimpleValue()&&(i=r.value)}return i.length>0&&e.injectAssetContainer(t,i),e},resolveCompletionItems:t=>(t.leftWord=="assets"||t.leftWord=="/assets")&&t.leftChar==":"?ne(Am(t.project)):Se,resolveDocumentation:t=>Me("assets Tag","The `assets` tag can be used to retrieve multiple Assets from an Asset container.",`{{ assets container="container-name" }}
    {{# Loop over all assets in the container. #}}
	<img src="{{ url }}" alt="{{ alt }}" />
{{ /assets }}`,"https://statamic.dev/tags/assets")},iI=oF;var lF={tagName:"get_content",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!1,parameters:[{isRequired:!1,name:"from",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"The ID to retrieve data for",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"locale",aliases:["site"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The locale to show the content in",expectsTypes:["string"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="locale"||t.name=="site"?vt(e.project.getSiteNames()):null,resolveDocumentation:t=>Me("get_content Tag","The `get_content` tag can be used to retrieve content from other entries. This tag accepts the ID of another entry, and will return access to all data for that entry.",`{{ get_content from="the-entry-id" }}
{{ /get_content }}`,"https://statamic.dev/tags/get_content")},rI=lF;function nI(t){return[{name:"basename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"last_modified",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_b",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_mb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t}]}var uF={tagName:"get_files",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"in",aliases:["from"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The directory to find files in relative to the public directory",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"depth",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The depth of the subdirectories",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"not_in",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"The subdirectories or pattern to exclude",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_size",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],description:"The file size filter to use",isDynamic:!1},{isRequired:!1,name:"ext",aliases:["extension"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The extension(s) to filter by",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"include",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:["match"],description:"Filter files by a regular expression",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"exclude",description:"Excludes files by a regular expression",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_date",description:"Filters files by last modified date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",description:"Limits the total number of results",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"offset",description:"The number of entries the results should be offset by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sorts the listing by extension, size, last_modified, or random",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>(e.addVariables(nI(t)),e),resolveDocumentation:t=>M("get_files Tag","The `get_files` tag can be used to display information about files on the site's local filesystem.","https://statamic.dev/tags/get_files")},sI=uF;function jc(t){return[{name:"width",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.glide",sourceField:null,introducedBy:t}]}var aI=te(gt());function on(t,e,i){var r,n,s,a,o,l,u,c,f,d,p,m;return{endLine:(s=(n=(r=i.valuePosition)==null?void 0:r.end)==null?void 0:n.line)!=null?s:0,startLine:(l=(o=(a=i.namePosition)==null?void 0:a.start)==null?void 0:o.line)!=null?l:0,endPos:(f=(c=(u=i.valuePosition)==null?void 0:u.end)==null?void 0:c.char)!=null?f:0,startPos:(m=(p=(d=i.namePosition)==null?void 0:d.start)==null?void 0:p.char)!=null?m:0,message:t,severity:aI.DiagnosticSeverity.Error}}var Em=["greyscale","sepia"],wm=["jpg","pjpg","png","gif","webp","avif","tif","bmp","psd"],oI=["auto","0","90","180","270"],Io=[{isRequired:!1,name:"src",aliases:["path","id"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The URL of the image when not using shorthand syntax",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"tag",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Outputs an image tag when set to true",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"alt",description:"The alt attribute value to use when generating tags",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"absolute",description:"Whether to output full URLs",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{name:"width",expectsTypes:["number"],isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The width of the image, in pixels",isDynamic:!1},{name:"height",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],description:"The height of the image, in pixels",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"square",expectsTypes:["number"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets both then height and width of the iamge",isDynamic:!1,isRequired:!1},{name:"fit",expectsTypes:["string"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"How the image is fitted to its target dimensions",isDynamic:!1,isRequired:!1},{name:"crop",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Crops the image to the specific dimensions",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"orient",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Rotates the image",expectsTypes:["*"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!oI.includes(e.value)&&i.push(on("Invalid orient value",t,e)),i}},{name:"quality",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Defines the quality of the image",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"dpr",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"Defines the device pixel ratio",expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=parseInt(e.value),r=[];return e.containsSimpleValue()&&(i<1||i>8)&&r.push(on("dpr must be an integer between 1 and 8.",t,e)),r}},{name:"format",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Encodes the image to a specific format",expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!wm.includes(e.value)&&i.push(on("Format must be one of: "+wm.join(","),t,e)),i}},{name:"bg",description:"Sets the background color for transparent images",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"blur",description:"Adds a blur effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=parseInt(e.value),r=[];return e.containsSimpleValue()&&(i<0||i>100)&&r.push(on("blur must be a value between 0 and 100.",t,e)),r}},{name:"brightness",description:"Adjusts the image brightness",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=parseInt(e.value),r=[];return e.containsSimpleValue()&&(i<-100||i>100)&&r.push(on("brightness must be a value between -100 and 100.",t,e)),r}},{name:"contrast",description:"Adjusts the image contrast",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=parseInt(e.value),r=[];return e.containsSimpleValue()&&(i<-100||i>100)&&r.push(on("contrast must be a value between -100 and 100.",t,e)),r}},{name:"gamma",description:"Adjusts the image gamma",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=parseFloat(e.value),r=[];return e.containsSimpleValue()&&(i<.1||i>9.99)&&r.push(on("gamma must be a value between 0.1 and 9.99.",t,e)),r}},{name:"sharpen",description:"Sharpens the iamge",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=parseInt(e.value),r=[];return e.containsSimpleValue()&&(i<0||i>100)&&r.push(on("sharpen must be a value between 0 and 100.",t,e)),r}},{name:"pixelate",description:"Applies a pixelation effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=parseInt(e.value),r=[];return e.containsSimpleValue()&&(i<0||i>100)&&r.push(on("pixelate must be a value between 0 and 100.",t,e)),r}},{name:"filter",description:"Applies a filter effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!Em.includes(e.value)&&i.push(on("Filter must be one of: "+Em.join(","),t,e)),i}},{name:"preset",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],description:"A collection of pre-configured image manipulation parameters.",isDynamic:!1,isRequired:!1}];function Po(t,e){return t.name=="orient"?vt(oI):t.name=="format"?vt(wm):t.name=="filter"?vt(Em):t.name=="preset"?vt(e.project.getAssetPresets()):Se}var cF={tagName:"glide:batch",hideFromCompletions:!1,requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,injectParentScope:!1,parameters:Io,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(jc(t)),e),resovleParameterCompletionItems:Po,resolveDocumentation:t=>M("glide:batch Tag","The `glide:batch` tag is similar to the glide tag, but can be used to apply image manipulations to multiple images within a piece of content.","https://statamic.dev/tags/glide-batch")},Uc=cF;var fF={tagName:"glide:data_url",hideFromCompletions:!1,requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,injectParentScope:!1,parameters:Io,introducedIn:null,resovleParameterCompletionItems:Po,resolveDocumentation:t=>M("glide:data_url Tag","The `glide:data_url` tag returns manipulated image datas as a data URI.",null)},Gc=fF;var dF=[ve(Uc),ve(Gc)],pF={tagName:"glide",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!1,parameters:Io,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(jc(t)),e),resovleParameterCompletionItems:Po,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="glide"||t.leftWord=="/glide")&&t.leftChar==":"?ne(dF):Se,resolveDocumentation:t=>M("glide Tag","The `glide` tag is used to manipulate images on the fly. Image manipulations may include resizing, cropping, or adjusting sharpness and constrast, amongst many others.","https://statamic.dev/tags/glide")},lI=pF;var uI={tagName:"iterate",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>M("iterate Tag","The `iterate` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")},cI={tagName:"foreach",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>M("foreach Tag","The `foreach` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")};function fI(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t},{name:"name",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}]}var Wc=[{isRequired:!1,name:"id",description:"The ID of the content to localize",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"sort",description:"Sort by a sites key",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"current_first",description:"When true, ensures that the current locale is first",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"all",description:"When true, all locale data will be returned.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!0,name:"self",description:"When true, the current locale will be included.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"collection_term_workaround",description:"Disables the behavior introduced in https://github.com/statamic/cms/pull/6466",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1}];var mF={tagName:"locales:count",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:Wc,introducedIn:"3.0.36",resolveDocumentation:t=>M("locales:count Tag","The `locales:count` tag can be used to count the number of locales the current content is available in.","https://statamic.dev/tags/locales-count")},Hc=mF;var hF=[ve(Hc)],gF={tagName:"locales",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:Wc,introducedIn:null,augmentScope:(t,e)=>(e.addVariableArray("locale",fI(t)),e.addVariable({name:"current",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"exists",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"permalink",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e),resolveDocumentation:t=>M("locales Tag","The `locales` tag can be used to access all the locales the current content is available in.","https://statamic.dev/tags/locales"),resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="locale"||t.leftWord=="/locale")&&t.leftChar==":"?ne(hF):Se},dI=gF;var _F={tagName:"mix",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",description:"The path to the versioned file, relative to the public directory",acceptsVariableInterpolation:!1,aliases:["path"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"in",description:"The location of the mix manifest file",acceptsVariableInterpolation:!1,aliases:["from"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>M("mix Tag","The `mix` tag is used to return the path of CSS and JavaScript files versioned with [Laravel Mix](https://laravel.com/docs/8.x/mix).","https://statamic.dev/tags/mix")},pI=_F;var ql=te(gt());function mI(t){let e=[],i=t.getUniqueUserGroupNames();for(let r=0;r<i.length;r++)e.push({label:i[r],kind:ql.CompletionItemKind.Field});return e}function hI(t){let e=[],i=t.getUniqueUserRoleNames();for(let r=0;r<i.length;r++)e.push({label:i[r],kind:ql.CompletionItemKind.Field});return e}function No(t,e){let i=[],r=e.getUniqueUserGroupNames(),n=r.filter(s=>!t.includes(s));for(let s=0;s<n.length;s++)i.push({label:n[s],kind:ql.CompletionItemKind.Field});return i}function So(t,e){let i=[],r=e.getUniqueUserRoleNames(),n=r.filter(s=>!t.includes(s));for(let s=0;s<n.length;s++)i.push({label:n[s],kind:ql.CompletionItemKind.Field});return i}var yF={tagName:"user:in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var i,r,n;return(t.name=="groups"||t.name=="group")&&((i=e.context)==null?void 0:i.parameterContext)!=null?ne(No((n=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?n:[],e.project)):null},resolveDocumentation:t=>M("user:in Tag","The `user:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in")},Yc=yF;var TF={tagName:"user:not_in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var i,r,n;return(t.name=="groups"||t.name=="group")&&((i=e.context)==null?void 0:i.parameterContext)!=null?ne(No((n=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?n:[],e.project)):null},resolveDocumentation:t=>M("user:not_in Tag","The `user:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in")},Ro=TF;var bF={tagName:"user:is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var i,r,n;return(t.name=="roles"||t.name=="role")&&((i=e.context)==null?void 0:i.parameterContext)!=null?ne(So((n=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?n:[],e.project)):null},resolveDocumentation:t=>M("user:is Tag","The `user:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is")},Co=bF;var vF={tagName:"user:isnt",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var i,r,n;return(t.name=="roles"||t.name=="role")&&((i=e.context)==null?void 0:i.parameterContext)!=null?ne(So((n=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?n:[],e.project)):null},resolveDocumentation:t=>M("user:isnt Tag","The `user:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt")},Ao=vF;var IF={tagName:"in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var i,r,n;return(t.name=="groups"||t.name=="group")&&((i=e.context)==null?void 0:i.parameterContext)!=null?ne(No((n=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?n:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="in"||t.leftWord=="/in")&&t.leftChar==":"?ne(mI(t.project)):Se,resolveDocumentation:t=>M("in Tag","The `in` tag can be used to check if the authenticated user belongs to one or more groups. This tag operates similarly to the `user:in` tag.","https://statamic.dev/tags/user-in")},gI=IF;var PF={tagName:"not_found",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>Me("404 (Not Found) Tag","The `not_found` tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ not_found }}
{{ /unless }}`,"https://statamic.dev/tags/404")},_I=PF;var NF={tagName:"is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var i,r,n;return(t.name=="roles"||t.name=="role")&&((i=e.context)==null?void 0:i.parameterContext)!=null?ne(So((n=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?n:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="is"||t.leftWord=="/is")&&t.leftChar==":"?ne(hI(t.project)):Se,resolveDocumentation:t=>M("is Tag","The `is` tag can be used to check whether the currently authenticated user has one or more roles. This tag behaves the same as the `user:is` tag.","https://statamic.dev/tags/user-is")},yI=NF;var SF={tagName:"widont",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Me("widont Tag","The `widont` tag is similar to the [widont modifier](https://statamic.dev/modifiers/widont), and will attempt to prevent lines with a single word from appearing within the tags rendered output.",`{{ widont }}
    {{ content }}
{{ /widont }}`,null)},TI=SF;var Kc=[{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"id",description:"The user ID to fetch",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"email",description:"The email address to find the user by",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"field",description:"The field to fetch the user by",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"value",description:"The value to search for",expectsTypes:["string"],isDynamic:!1}];var RF={tagName:"user:profile",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:Kc,introducedIn:null,augmentScope:(t,e)=>(e.injectBlueprint(t,"user"),e),resovleParameterCompletionItems:(t,e)=>t.name=="field"?ne(pc(e.project.getUserFields())):Se,resolveDocumentation:t=>M("user:profile Tag","The `user:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null)},Eo=RF;var bI={tagName:"dd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Me("dd Tag","The `dd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the dd tag.
	#}}
    {{ dd }}
{{ /collection:articles }}`,null)},vI={tagName:"ddd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Me("ddd Tag","The `ddd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the ddd tag.
	#}}
    {{ ddd }}
{{ /collection:articles }}`,null)};var CF={tagName:"path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["src"],allowsVariableReference:!0,description:"The path source",name:"to",isDynamic:!1,expectsTypes:["string"]},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],description:"Whether to generate absolute paths",expectsTypes:["boolean"],isDynamic:!1,name:"absolute"}],resolveDocumentation:t=>M("path Tag","The `path` tag can be used to generate URLs from relative URLs, or an entry ID.",null)},II=CF;var AF={tagName:"user:cant",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:wc,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>M("user:cant Tag","The `user:cant` tag is used to check if the currently authenticated user does not have a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user does not have the specified permissions.","https://statamic.dev/tags/user-can#cant")},$c=AF;var EF={tagName:"query",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,parameters:[{name:"builder",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The query to evaluate",expectsTypes:["string"],isRequired:!0,isDynamic:!1}]},PI=EF;var ua=te(gt());var Sn=[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"src",description:"The relative path to the file",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"cache_bust",description:"Whether to output the last modified date",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"version",description:"Whether to check a versioning manifest to produce the final URL",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"absolute",description:"Generate absolute URLs or not",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"locale",description:"The locale the path should be generated in",expectsTypes:["string"],isDynamic:!1}];var wF=[{label:"asset",kind:ua.CompletionItemKind.Text},{label:"css",kind:ua.CompletionItemKind.Text},{label:"img",kind:ua.CompletionItemKind.Text},{label:"js",kind:ua.CompletionItemKind.Text},{label:"output",kind:ua.CompletionItemKind.Text},{label:"path",kind:ua.CompletionItemKind.Text}],xF={tagName:"theme",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,introducedIn:null,injectParentScope:!1,parameters:Sn,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="theme"||t.leftWord=="/theme")&&t.leftChar==":"?ne(wF):Se},NI=xF;var xm={tagName:"theme:path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:Sn,resolveDocumentation:t=>M("theme:path Tag","The `theme:path` tag may be used to generate URLs for public assets. This tag may also optionally add the current locale, generate relative URLs, or add cache busting URL parameters to the end of the generated URL.",null)},SI=ct(xm,"theme:asset");var DF={tagName:"theme:css",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...Sn,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>M("theme:css Tag","The `theme:css` tag may be used to generate a CSS path relative to a public `css/` directory for any arbitrary file path. This tag may also optionally create the HTML `link` tag.",null)},RI=DF;var FF={tagName:"theme:img",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...Sn,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]},{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"alt",description:"The alt text to use when generating the HTML tag",expectsTypes:["string"]}],resolveDocumentation:t=>M("theme:img Tag","The `theme:img` tag may be used to generate an image path relative to a public `img/` directory for any arbitrary file path. This tag may also optionally create the HTML `img` tag.",null)},CI=FF;var OF={tagName:"theme:js",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...Sn,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>M("theme:js Tag","The `theme:js` tag may be used to generate a JavaScript path relative to a public `js/` directory for any arbitrary file path. This tag may also optionally create the HTML `script` tag.",null)},AI=OF;var LF={tagName:"theme:output",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"src",description:"The path to the file",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"as",description:"An optional alias for the contents variable",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>{if(t.isClosedBy!=null){let i=t.findParameter("as");i!=null?e.addVariable({name:i.value,dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t}):e.addVariable({name:"output_contents",dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t})}return e},resolveDocumentation:t=>M("theme:output Tag","The `theme:output` tag may be used to output the contents of any arbitrary file, relative to the site's `resources/` directory.",null)},EI=LF;var kF={tagName:"scope",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Me("scope Tag","The `scope` tag creates a copy of all available variables, and saves them to a new  *array* variable defined by the tag's method part.",`{{ scope:scope_name }}
    {{ scope_name:title }}
{{ /scope:scope_name }}
`,null)},wI=kF;var MF={tagName:"if",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:Je,resolveDocumentation:t=>M("if Conditional Control Structure","The contents of the `if` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},xI=MF;var qF={tagName:"elseif",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:Je,resolveDocumentation:t=>M("elseif Conditional Control Structure","The contents of the `elseif` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},DI=qF;var VF={tagName:"else",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>M("else Conditional Control Structure","The contents of the `else` control structure will be evaluated when all previous conditional branch conditions were not met.","https://statamic.dev/antlers#conditions")},FI=VF;var OI=te(gt());var BF={tagName:"session:has",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:"3.1.28",resolveDynamicParameter:Je,resolveDocumentation:t=>M("session:has Tag","The `session:has` tag can be used to determine of the user's session contains a specific variable.","https://statamic.dev/tags/session-has")},zc=BF;var jF=[ve(Dc),ve(Lc),ve(Fc),ve(Oc),ve(zc),ve(xc)],UF={tagName:"session",requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",description:"An optional alias for the session data",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveCompletionItems:t=>{var e,i;if(t.isPastTagPart==!1&&(t.leftWord=="session"||t.leftWord=="/session")&&t.leftChar==":"){let r=(i=(e=oa.instance)==null?void 0:e.getKnownSessionVariableNames())!=null?i:[],n=[];n=n.concat(jF);for(let s=0;s<r.length;s++)n.push({label:r[s],kind:OI.CompletionItemKind.Variable});return ne(n)}return Se},augmentScope:(t,e)=>{var s,a;let i=t.findParameter("as"),r=(a=(s=oa.instance)==null?void 0:s.getKnownSessionVariableNames())!=null?a:[],n=[];for(let o=0;o<r.length;o++)n.push({dataType:"*",name:r[o],sourceField:null,sourceName:"project.session",introducedBy:t});return i==null?e.addVariables(n):e.addVariableArray(i.value,n),e}},LI=UF;var Vl={tagName:"user:forgot_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:Je,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t}]),e),resolveDocumentation:t=>M("user:forgot_password_form Tag",'The `user:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form")},Dm=ct(Vl,"member:forgot_password_form");Dm.resolveDocumentation=t=>M("member:forgot_password_form Tag",'The `member:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form");var Bl={tagName:"user:reset_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:Je,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t}]),e),resolveDocumentation:t=>M("user:reset_password_form Tag","The `user:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form")},Fm=ct(Bl,"member:reset_password_form");Fm.resolveDocumentation=t=>M("member:reset_password_form Tag","The `member:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form");function Om(t,e){return{sourceName:e.blueprintName,dataType:e.type,name:e.name,sourceField:e,introducedBy:t}}function kI(t){let e=new Map;for(let i=0;i<t.length;i++)e.set(t[i].name,t[i]);return e}function wo(t,e){let i=[];for(let r=0;r<e.length;r++){let n=e[r];i.push({sourceName:n.blueprintName,dataType:n.type,name:n.name,sourceField:n,introducedBy:t})}return i}function Xc(t){return[{name:"handle",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"display",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"type",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"field",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"error",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"instructions",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"old",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t}]}var jl={tagName:"user:register_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after registering",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed registration attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:Je,augmentScope:(t,e)=>{e.addVariableArray("fields",Xc(t)),e.addVariable({name:"errors",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"old",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"error",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"success",dataType:"string",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t});let i=e.statamicProject.getUserFields();if(i.length>0){let r=wo(t,i);e.addVariableArray("old",r),e.addVariableArray("error",r)}return e},resolveDocumentation:t=>M("user:register_form  Form Tag","The `user:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form")},Lm=ct(jl,"member:register_form");Lm.resolveDocumentation=t=>M("member:register_form Tag","The `member:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form");var GF=[ve(Co),ve(Ro),ve(Ao),ve(Eo),ve(To),ve($c),ve(Vl),ve(bo),ve(vo),ve(jl),ve(Bl)],WF={tagName:"user",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:Kc,introducedIn:null,resovleParameterCompletionItems:(t,e)=>e.isPastTagPart==!1&&e.currentNode!=null&&e.currentNode.methodIsEmptyOrMatches("profile")&&t.name=="field"?ne(pc(e.project.getUserFields())):Se,augmentScope:(t,e)=>(t.methodIsEmptyOrMatches("profile")&&e.injectUserFields(t),e),resolveCompletionItems:t=>(t.leftWord=="user"||t.leftWord=="/user"||t.leftWord=="member"||t.leftWord=="/member")&&t.leftChar==":"?ne(GF):Se,resolveDocumentation:t=>M("user Tag","The `user` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null)},Qc=WF;var Jc=ct(Qc,"member"),km=ct(Co,"member:is"),Mm=ct(Ao,"member:isnt"),qm=ct(Eo,"member:profile"),Vm=ct(To,"member:can"),Bm=ct(bo,"member:logout"),jm=ct(vo,"member:logout_url"),Um=ct(Yc,"member:in"),Gm=ct(Ro,"member:not_in");Jc.hideFromCompletions=!0;Jc.resolveDocumentation=t=>M("member Tag","The `member` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);km.resolveDocumentation=t=>M("member:is Tag","The `member:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is");Mm.resolveDocumentation=t=>M("member:isnt Tag","The `member:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt");qm.resolveDocumentation=t=>M("member:profile Tag","The `member:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);Vm.resolveDocumentation=t=>M("member:can Tag","The `member:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can");Bm.resolveDocumentation=t=>M("member:logout Tag","The `member:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout");jm.resolveDocumentation=t=>Me("member:logout_url","The `member:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ member:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url");Um.resolveDocumentation=t=>M("member:in Tag","The `member:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in");Gm.resolveDocumentation=t=>M("member:not_in Tag","The `member:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in");function Is(t){return[{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t},{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t}]}var VI=te(gt());var Wm=["from","taxonomy","is","use","folder"],Hm=["not_from","not_in","dont_use","not_taxonomy"];var Ym=Wm;Ym=Ym.concat(Hm);function MI(t,e){var i,r,n,s,a,o,l,u;if(e.nodesInScope.length>0){let c=e.nodesInScope[e.nodesInScope.length-1];if(c!=null&&c.currentScope!=null){let f=xo(c,e.project),d=e.project.getTaxonomyBlueprintFields(f),p=d.map(_=>_.name),m=Yn(e.leftWord);if(p.includes(m))return ne(hs(e))}}return t.name=="collection"&&((i=e.context)==null?void 0:i.parameterContext)!=null?ne(lo((s=(n=(r=e.context)==null?void 0:r.parameterContext.parameter)==null?void 0:n.getArrayValue())!=null?s:[],e.project)):t.name=="filter"||t.name=="query_scope"?ne(hc(e.project)):Ym.includes(t.name)&&((a=e.context)==null?void 0:a.parameterContext)!=null?ne(qI((u=(l=(o=e.context)==null?void 0:o.parameterContext.parameter)==null?void 0:l.getArrayValue())!=null?u:[],e.project)):null}function xo(t,e){let i=[];if(t.hasMethodPart())return i.push(t.getMethodNameValue()),i;let r=t.findAnyParameter(Wm),n=t.findAnyParameter(Hm),s=[],a=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueTaxonomyNames(),typeof n!="undefined"&&n!==null&&n.isVariableReference==!1&&n.hasInterpolations()==!1&&(a=n.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),a.length>0?i=s.filter(function(o){return a.includes(o)==!1}):i=s,i}function qI(t,e){let i=[],r=e.getUniqueTaxonomyNames().filter(n=>!t.includes(n));for(let n=0;n<r.length;n++)i.push({label:r[n],kind:VI.CompletionItemKind.Variable});return i}function BI(t,e){let i=xo(t,e.statamicProject),r=e.statamicProject.getTaxonomyBlueprintFields(i),n=t.findParameter("collection");if(e.addBlueprintFields(t,r),e.addVariables([{name:"first",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"last",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"index",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"total_results",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"entries_count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t}]),e.addVariables(Is(t)),typeof n!="undefined"&&n!==null){let s=n.getArrayValue();if(s.length>0){let a=e.statamicProject.getBlueprintFields(s);e.introduceScopedAliasScope(t,"entries","entries",a).addVariables(gs(t))}else e.addVariableArray("entries",Is(t).concat(gs(t)))}else e.addVariableArray("entries",Is(t).concat(gs(t)));return e}var HF=[{name:"from",description:"The taxonomy to use",aliases:["taxonomy","is","use","folder"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"not_from",description:"Taxonomies to exclude",aliases:["not_in","not_folder","dont_use","not_taxonomy"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string","array"],isRequired:!1,isDynamic:!1},{name:"min_count",description:"The minimum number of entries a taxonomy term must have to be returned",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"collection",description:"Filter the terms to those that appear in the specified collections",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"sort",description:"The field to sort terms by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope",expectsTypes:["string"],isDynamic:!1}],jI=HF;var Km=te(gt());function UI(t){var i,r;let e=[];if(t.currentNode!=null&&t.currentNode.currentScope!=null){let n=xo(t.currentNode,t.project),s=t.project.getTaxonomyBlueprintFields(n),a=s.map(l=>l.name),o=Yn(t.leftWord);if(a.includes(o))return ne(hs(t));if(t.isCaretInTag&&!((i=t.context)==null?void 0:i.interpolatedContext)&&["taxonomy","/taxonomy"].includes(t.leftWord)==!1){let l=[];for(let u=0;u<s.length;u++){let c=s[u];l.includes(c.name)==!1&&(e.push({label:c.name,detail:c.blueprintName,documentation:(r=c.instructionText)!=null?r:"",kind:Km.CompletionItemKind.Field}),l.push(c.name))}if(e.length>0)return Si(e)}}if((t.leftWord=="taxonomy"||t.leftWord=="/taxonomy")&&t.leftChar==":"){let n=t.project.getUniqueTaxonomyNames();for(let s=0;s<n.length;s++)e.push({label:n[s],kind:Km.CompletionItemKind.Field});return Si(e)}return Se}var YF={tagName:"taxonomy",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:jI,resolveDynamicParameter:Je,resolveCompletionItems:UI,resovleParameterCompletionItems:MI,augmentScope:BI,resolveDocumentation:t=>M("taxonomy Tag","The `taxonomy` tag may be used to retrieve taxonomy entries. The taxonomy tag can also be used to access entries associated with any given taxonomy term.","https://statamic.dev/tags/taxonomy")},GI=YF;var $m=te(gt());function WI(t,e){e.addVariables([{name:"is_published",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_page",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"has_entries",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_parent",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_external",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"depth",dataType:"number",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"children",dataType:"array",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t}]);let i=e.statamicProject.getUniqueCollectionNames(),r=[],n=!1;if(t.hasMethodPart()){let s=t.getMethodNameValue().trim().toLowerCase();if(s.startsWith("collection:")){let a=s.split(":").pop();n=!0,r.push(a)}else s=="pages"?(n=!0,r.push("pages")):(n=!1,r.push(s))}else{let s=t.findParameter("handle");s!=null&&(i.includes(s.value)?n=!0:n=!1,r.push(s.value))}if(n){let s=e.statamicProject.getBlueprintFields(r);e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}else{let s=mc(Is(t));e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}return e}var KF={tagName:"nav:breadcrumbs",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:[{name:"include_home",description:"Whether to include the home page in the first level",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"reverse",description:"Whether to reverse the order of links",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isRequired:!1,isDynamic:!1},{name:"trim",description:"Whether to trim the whitespace after each iteration of the loop",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],augmentScope:(t,e)=>(e.addVariables([{name:"is_current",dataType:"boolean",sourceName:"*internal.nav.breadcrumbs",sourceField:null,introducedBy:t}]),e.addVariables(Is(t)),e),resolveDocumentation:t=>M("nav:breadcrumbs Tag","The `nav:breadcrumbs` tag can be used to retrieve the URLs of all pages that make up the current URL back to the site's home page.","https://statamic.dev/tags/nav-breadcrumbs")},Zc=KF;function HI(t,e){if(t.name=="handle"){let i=e.project.getUniqueCollectionNames(),r=e.project.getUniqueNavigationMenuNames(),n=[];return n=i,n=n.concat(r),n=[...new Set(n)],vt(n)}return null}var $F=[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["handle"],allowsVariableReference:!1,name:"for",description:"The navigation or collection to use",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],name:"from",description:"The starting point for the navigation",allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"show_unpublished",description:"Whether to include unpublished content",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"include_home",description:"Whether to include the home page in the tree",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"max_depth",description:"The maximum depth of the navigation or structure",expectsTypes:["number"],isDynamic:!1}],YI=$F;var zm={tagName:"structure",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,injectParentScope:!1,parameters:YI,augmentScope:WI,resovleParameterCompletionItems:HI,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="nav"||t.leftWord=="/nav"||t.leftWord=="structure"||t.leftWord=="/structure")&&t.leftChar==":"){let i=t.project.getUniqueNavigationMenuNames();for(let r=0;r<i.length;r++)e.push(ps(i[r],"",""));return(t.leftWord=="nav"||t.leftWord=="/nav")&&e.push(ve(Zc)),e.push(ps("collection","","")),e.push({label:"collection",kind:$m.CompletionItemKind.Text}),Si(e)}if((t.leftWord=="nav:collection"||t.leftWord=="/nav:collection"||t.leftWord=="collection"||t.leftWord=="/collection"||t.leftWord=="structure:collection"||t.leftWord=="/structure:collection")&&t.leftChar==":"){let i=t.project.getUniqueCollectionNames();for(let r=0;r<i.length;r++)e.push({label:i[r],kind:$m.CompletionItemKind.Field});return Si(e)}return Se},resolveDocumentation:t=>M("nav Tag","The `nav` tag can be used to iterate structured collections or navigation menus.","https://statamic.dev/tags/nav")},KI=ct(zm,"nav");var XI=te(gt());function $I(t){return[{name:"success",dataType:"string",sourceField:null,sourceName:"*internal.forms",introducedBy:t},{name:"submission_created",dataType:"boolean",sourceField:null,sourceName:"*internal.forms",introducedBy:t}]}var zF={name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},Rn=zF;var Xm=te(gt()),XF=[{label:"GET",kind:Xm.CompletionItemKind.EnumMember},{label:"POST",kind:Xm.CompletionItemKind.EnumMember}],zI=XF;var ln=["in","handle","is","form","formset"];function Do(t,e){return ln.includes(t.name)?vt(e.project.getUniqueFormNames()):t.name=="method"?ne(zI):t.name=="files"?ne(fo):null}function Cn(t,e){let i=t.structure.findParentWithName("form:set");return i!=null?{context:i,issues:[]}:{context:null,issues:[]}}var QF=["set","create","errors","success","submissions","submission"];function ca(t){if(t.reference!=null&&"tagPart"in t.reference){let r=t.reference;if(r.nameMatches("form:set"))return ca(r)}let e=t.findAnyParameter(ln),i=t.getMethodNameValue();return i!=null&&QF.includes(i)==!1?i:typeof e!="undefined"&&e!==null&&e.containsSimpleValue()?e.value:""}var JF={tagName:"form:create",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Rn,{name:"method",description:"The HTTP method to use",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"files",description:"Indicates if the form sends file data",aliases:[],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"redirect",description:"The location to redirect users after a successful form submission",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",description:"The location to redirect users to after a failed form submission",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override redirect or error_redirect",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveSpecialType:Cn,resovleParameterCompletionItems:Do,resolveDynamicParameter:Je,augmentScope:(t,e)=>{e.addVariables($I(t)),e.addVariable({dataType:"array",name:"errors",sourceField:null,sourceName:"*internal.forms",introducedBy:t}),e.addVariableArray("fields",Xc(t));let i=ca(t);if(i.length>0){let r=e.statamicProject.getFormBlueprintFields(i),n=wo(t,r);e.addVariableArray("old",n),e.addVariableArray("error",n)}return e},resolveDocumentation:t=>M("form:create Tag","The `form:create` tag can be used to access form data, generate field HTML markup, and handle form validation errors.","https://statamic.dev/tags/form-create")},ef=JF;var ZF={tagName:"form:errors",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Rn],resolveSpecialType:Cn,resovleParameterCompletionItems:(t,e)=>ln.includes(t.name)?vt(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>M("form:errors Tag","The `form:errors` tag can be used to retrieve validation errors after a user has submitted a form.","https://statamic.dev/tags/form-errors")},tf=ZF;var eO={tagName:"form:set",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!0}],resovleParameterCompletionItems:Do,resolveDocumentation:t=>M("form:set Tag","The `form:set` tag can be used to set the form handle on all nested form tags.","https://statamic.dev/tags/form-set")},rf=eO;var tO={tagName:"form:submission",requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Rn],resolveSpecialType:Cn,resovleParameterCompletionItems:(t,e)=>ln.includes(t.name)?vt(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{let i=ca(t);if(i.length>0){let r=e.statamicProject.getFormBlueprintFields(i);e.addBlueprintFields(t,r)}return e},resolveDocumentation:t=>M("form:submission Tag","The `form:submission` tag can be used to access the form submission submitted by the current user.","https://statamic.dev/tags/form-submission")},nf=tO;var iO={tagName:"form:submissions",allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[Rn],resolveSpecialType:Cn,resovleParameterCompletionItems:(t,e)=>ln.includes(t.name)?vt(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let i=ca(t);if(i.length>0){let r=e.statamicProject.getFormBlueprintFields(i);e.addBlueprintFields(t,r)}return e.addVariable({name:"date",dataType:"date",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e},resolveDocumentation:t=>M("form:submissions Tag","The `form:submissions` tag can be used to fetch previously saved submissions for a form.","https://statamic.dev/tags/form-submissions")},sf=iO;var rO={tagName:"form:success",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Rn],resolveSpecialType:Cn,resovleParameterCompletionItems:(t,e)=>ln.includes(t.name)?vt(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>M("form:success Tag","The `form:success` tag can be used to check if a form submission was successful or not.","https://statamic.dev/tags/form-success")},af=rO;var nO=[ve(rf),ve(ef),ve(tf),ve(af),ve(sf),ve(nf)],sO={tagName:"form",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resovleParameterCompletionItems:Do,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="form"||t.leftWord=="/form")&&t.leftChar==":"){let i=t.project.getUniqueFormNames();e=e.concat(nO);for(let r=0;r<i.length;r++)e.push({label:i[r],kind:XI.CompletionItemKind.Field});return Si(e)}return Se}},QI=sO;var Qm={tagName:"search:results",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"index",description:"The index to search in",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"query",description:"The query string parameter to use",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"limit",description:"The maximum number of search results to return",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{name:"offset",description:"The number of results to skip",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether not to paginate entry results",expectsTypes:["boolean"],isRequired:!1,name:"paginate",isDynamic:!1},{name:"as",description:"Specifies an alias for search results",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"supplement_data",description:"Controls whether non-indexed fields are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="index"?vt(e.project.getSearchIndexes()):null,augmentScope:(t,e)=>{e.addVariables([{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]);let i=t.findParameter("as");return i!=null&&i.value.trim().length>0?e.addVariableArray(i.value,JI(t)):e.addVariables(JI(t)),e},resolveDocumentation:t=>M("search:results Tag","The `search:results` tag provides access to all data that was returned as a result of a user's search.","https://statamic.dev/tags/search")},aO=[ve(Qm)];function JI(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"content",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_term",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"count",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"index",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"search_score",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"_highlightResult",dataType:"array",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]}var ZI={tagName:"search",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="search"||t.leftWord=="/search")&&t.leftChar==":"?Si(aO):Se};function Jm(t){return[{name:"email",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"password",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]}var Zm={tagName:"user:login_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after logging in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed login attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:Je,augmentScope:(t,e)=>(e.addVariables([{name:"errors",dataType:"array",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"success",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]),e.addVariables(Jm(t)),e.addVariableArray("old",Jm(t)),e.addVariableArray("error",Jm(t)),e),resolveDocumentation:t=>M("user:login_form Tag","The `user:login_form` tag can be used to quickly create a form that users can use to authenticate with the site.","https://statamic.dev/tags/user-login_form")},eP=ct(Zm,"member:login_form");var oO={tagName:"noparse",requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>M("noparse Tag","The `noparse` tag is used prevent blocks of Antlers code from being parsed, removing the need to escape individual Antlers code regions.","https://statamic.dev/antlers#the-noparse-tag")},tP=oO;var lO={tagName:"unless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:Je,resolveDocumentation:t=>M("unless Conditional Control Structure","The `unless` control structure operates the same as an `if` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},iP=lO;var uO={tagName:"elseunless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:Je,resolveDocumentation:t=>M("elseunless Conditional Control Structure","The `elseunless` control structure operates the same as an `elseif` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},rP=uO;var nP=te(si());var sP={tagName:"installed",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!0,introducedIn:"3.1.19",parameters:[],resolveCompletionItems:t=>{if(t.project!=null){let e=t.project.getComposerPackages(),i=[];return e.forEach((r,n)=>{i.push({label:r.name,kind:nP.CompletionItemKind.Text})}),ne(i)}return Se},resolveDocumentation:t=>Me("installed Tag","The `installed` tag is used to check if the site has a specific Composer package available.",`{{ if {installed:composer/package-name} }}
    {{# Package is availabl.e #}}
{{ else }}
    {{# Something else. #}}
{{ /if }}`,"https://statamic.dev/tags/installed")};var cO={tagName:"relate",hideFromCompletions:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[]},aP=cO;var Fo=[{name:"bag",description:"The error message bag to retrieve errors from.",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}];var fO={tagName:"get_errors",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:Fo,introducedIn:"3.2.23",augmentScope:(t,e)=>{var i;if(t.isClosingTag)return e;if(((i=t.name)==null?void 0:i.methodPart)==null){let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"field",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"field",refFieldSetField:null,sets:null,type:"string"}});let n=r.copy();n.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),r.addScopeList("messages",n),e.addScopeList("fields",r)}else{let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",r)}return e},resolveDocumentation:t=>M("get_errors Tag","The `get_errors` tag can be used to retrieve form validation errors.","https://statamic.dev/tags/get_errors")},oP=fO;var dO={tagName:"get_errors:all",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:Fo,introducedIn:null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let i=e.copy();return i.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors.all",sourceField:{blueprintName:"*internal.tag.get_errors.all",displayName:"get_errors:all",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",i),e},resolveDocumentation:t=>M("get_errors:all Tag","The `get_errors:all` tag can be used to retrieve all form validation errors.","https://statamic.dev/tags/get_errors#list-all-validation-errors")},lP=dO;var pO={tagName:"get_error",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:Fo,introducedIn:null,augmentScope:(t,e)=>(t.isClosingTag||e.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_error",sourceField:{blueprintName:"*internal.tag.get_error",displayName:"get_error",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e),resolveDocumentation:t=>M("get_error Tag","The `get_error` tag can be used to retrieve the first error message for a specific field.","https://statamic.dev/tags/get_errors#get-the-first-error-for-a-specific-field")},uP=pO;var mO={tagName:"set",hideFromCompletions:!0,allowsArbitraryParameters:!0,requiresClose:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[]},cP=mO;var fP=te(si());var hO={tagName:"mount_url",hideFromCompletions:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:"3.3.15",parameters:[{isRequired:!1,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The collection handle",name:"handle",isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>M("mount Tag","The `mount` tag can be used to retrieve the mount URL for a given collection.",null),resovleParameterCompletionItems:(t,e)=>{var i,r,n,s;return t.name=="handle"&&((i=e.context)==null?void 0:i.parameterContext)!=null?ne(lo((s=(n=(r=e.context)==null?void 0:r.parameterContext.parameter)==null?void 0:n.getArrayValue())!=null?s:[],e.project)):null},resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="mount_url"||t.leftWord=="/mount_url")&&t.leftChar==":"){let i=t.project.getCollectionNames();for(let r=0;r<i.length;r++)e.push({label:i[r],kind:fP.CompletionItemKind.Field,sortText:"0"})}return{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}},dP=hO;var gO={tagName:"vite",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"src",description:"The entry point",expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>Me("vite Tag","Generates Vite tags for an entrypoint.",'{{ vite src="entry/point" }}',null)},pP=gO;var _O={tagName:"nocache",requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>Me("nocache Tag","The `nocache` tag is used to mark regions of a template. These regions will continue to update even when using caching strategies such as the full or half-measure cache.",`{{ nocache }} 
    <!-- This content will remain dynamic. -->
{{ /nocache }}`,"https://statamic.dev/tags/nocache")},mP=_O;function of(t){return[{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.user.permissions",introducedBy:t},{name:"total_results",dataType:"integer",sourceField:null,sourceName:"*internal.user.permissions",introducedBy:t},{name:"handle",dataType:"string",sourceField:null,sourceName:"*internal.user.permissions",introducedBy:t}]}var yO={tagName:"user_roles",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,injectParentScope:!1,introducedIn:"3.3.31",requiresClose:!1,parameters:[{name:"handle",description:"A list of role handles to include",aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1,acceptsVariableInterpolation:!0}],augmentScope:(t,e)=>(t.isClosingTag||e.addVariables(of(t)),e),resolveDocumentation:t=>M("user_roles Tag","The `user_roles` tag can be used to return information about a site's user roles.",null)},hP=yO;var TO={tagName:"user_groups",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,injectParentScope:!1,introducedIn:"3.3.31",requiresClose:!1,parameters:[{name:"handle",description:"A list of group handles to include",aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1,acceptsVariableInterpolation:!0}],augmentScope:(t,e)=>(t.isClosingTag||e.addVariables(of(t)),e),resolveDocumentation:t=>M("user_groups Tag","The `user_groups` tag can be used to return information about a site's user groups.",null)},gP=TO;var bO={tagName:"cookie:forget",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"keys",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The keys to forget",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},lf=bO;var vO={tagName:"cookie:has",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"key",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The cookie name to check for existence",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},uf=vO;var IO={tagName:"cookie:set",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"minutes",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The lifetime of the cookie, in minutes",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},cf=IO;var PO={tagName:"cookie:value",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"key",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The cookie name to retrieve the value for",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},ff=PO;var NO=[ve(lf),ve(ff),ve(cf),ve(uf)],SO={tagName:"cookie",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[],resolveCompletionItems:t=>(t.leftWord=="cookie"||t.leftWord=="/cookie")&&t.leftChar==":"?ne(NO):Se},_P=SO;var yP=[xI,DI,FI,iP,rP,Zv,iI,Pv,Nc,na,Sc,Pc,Ic,_P,lf,uf,cf,ff,aP,QI,ef,nf,sf,rf,af,tf,cP,oP,uP,lP,ZI,Qm,wv,Rc,Cc,Rv,_I,Sv,vI,bI,Nv,rI,sI,lI,Uc,Gc,Cv,Av,Ev,uI,cI,xv,Ac,dI,Hc,pI,dP,KI,zm,Zc,Fv,Dv,Yc,gI,Ro,Co,yI,sP,hP,gP,Qc,Ao,To,$c,bo,vo,Eo,Zm,Bl,Vl,jl,Jc,km,Mm,qm,Vm,Bm,jm,Um,Gm,eP,Fm,Dm,Lm,tP,mP,kv,Mv,qv,zv,Xv,II,Yv,Wv,wI,$v,LI,Lc,Oc,Fc,Dc,zc,xc,Jv,GI,NI,xm,SI,RI,CI,AI,EI,Bc,Qv,Cm,PI,jv,kc,TI,pP];var Ps=class{constructor(){this.tags=new Map;this.parameters=new Map}reset(){this.tags.clear(),this.parameters.clear(),this.loadCoreTags()}getVisibleTagsWithDocumentation(){let e=[];return this.tags.forEach((i,r)=>{if(i.hideFromCompletions==!1){let n="";i.resolveDocumentation!=null&&(n=i.resolveDocumentation()),e.push({label:r,documentation:n})}}),e}getVisibleTagNames(){let e=[];return this.tags.forEach((i,r)=>{i.hideFromCompletions==!1&&e.push(r)}),[...new Set(e)]}getPossibleTagMethods(e){let i=[],r=e.length+1;return this.tags.forEach((n,s)=>{if(s.startsWith(e)){let a=s.substr(r).trim();a.length>0&&i.push(a)}}),[...new Set(i)]}getTagNames(){let e=[];return this.tags.forEach((i,r)=>{e.push(r)}),[...new Set(e)]}loadCoreTags(){this.registerTags(yP)}cleanTagName(e){return Tr(e,"/")}findTag(e){return this.tags.get(this.resolveTagName(e))}isKnownTag(e){return this.tags.has(this.resolveTagName(e))}isSymbolKnownTag(e){return this.isKnownTag(e.runtimeName())}resolveTagName(e){return e=this.cleanTagName(e.trim()),this.tags.has(e)||e.includes(":")&&(e=e.split(":")[0]),e}canResolveSpecialTypes(e){e=this.resolveTagName(e);let i=this.tags.get(e);return!(typeof i=="undefined"||i==null||i.resolveSpecialType==null)}resolveSpecialType(e,i,r){e=this.resolveTagName(e);let n=this.findTag(e);if(n.resolveSpecialType==null)throw new Error(e+" does not support special types.");return n.resolveSpecialType(i,r)}getCompletionItems(e){var s;let i=null,r=[],n=!0;if(e.nodesInScope.length>0&&(i=e.nodesInScope[e.nodesInScope.length-1]),e.currentNode!=null&&this.isKnownTag(e.currentNode.runtimeName())){let a=this.findTag(e.currentNode.runtimeName());if(typeof a=="undefined")return{isExclusive:!1,items:[]};let o=[];if(a.resolveCompletionItems!=null){let l=a.resolveCompletionItems(e);if(l.isExclusiveResult)return{isExclusive:!0,items:l.items};n=l.analyzeDefaults,r=r.concat(l.items)}if(e.isPastTagPart==!1){let l=this.getPossibleTagMethods(a.tagName);for(let u=0;u<l.length;u++)r.push({label:l[u],kind:TP.CompletionItemKind.Text})}if(n){if(e.isCaretInTag==!0&&a.parameters.length>0&&(r=r.concat(_m(e,a.parameters)),a.tagName=="partial"&&(i==null?void 0:i.hasMethodPart()))){let l=i.getMethodNameValue();if(l.trim().length>0&&((s=de.instance)==null?void 0:s.hasStructure())){let u=de.instance.getStructure().findPartial(l);u!=null&&u.injectsParameters.length>0&&(r=r.concat(_m(e,u.injectsParameters)))}}for(let l=0;l<e.nodesInScope.length;l++)if(e.nodesInScope[l].runtimeType!==null){let u=e.nodesInScope[l].runtimeType;if(u!=null&&u.assumedType=="structure_ref"&&u.supplementedFields!=null)for(let c=0;c<u.supplementedFields.length;c++)r.push(ym(u.supplementedFields[c]))}}return{items:r,isExclusive:!1}}return{items:r,isExclusive:!1}}injectParentScope(e){let i=this.findTag(e);return typeof i=="undefined"||i==null?!0:i.injectParentScope}resolveParameterCompletions(e,i,r){let n=this.findTag(e);return typeof n!="undefined"&&n!==null&&typeof n.resovleParameterCompletionItems!="undefined"&&n.resovleParameterCompletionItems!==null?n.resovleParameterCompletionItems(i,r):null}canResolveDynamicParameter(e){let i=this.resolveTagName(e);if(this.isKnownTag(i)){let r=this.tags.get(i);if(typeof r=="undefined")return!1;if(typeof r.resolveDynamicParameter!="undefined"&&r.resolveDynamicParameter!=null)return!0}return!1}getParameter(e,i){let r=this.resolveTagName(e);if(this.parameters.has(r)==!1)return null;let n=this.parameters.get(r);if(n==null)return null;if(n.has(i)==!1){let a=this.findTag(e);if(a!=null&&typeof a.resolveDynamicParameter!="undefined"&&a.resolveDynamicParameter!=null){let o=a.resolveDynamicParameter(null,i);if(o!==null)return o}return null}let s=n.get(i);return typeof s=="undefined"||n==null?null:s}registerTags(e){for(let i=0;i<e.length;i++)this.registerTag(e[i])}registerTag(e){if(this.tags.set(e.tagName,e),this.parameters.has(e.tagName)==!1&&this.parameters.set(e.tagName,new Map),e.parameters.length>0){let i=this.parameters.get(e.tagName);for(let r=0;r<e.parameters.length;r++){let n=e.parameters[r];i==null||i.set(n.name,n)}}}requiresClose(e){let i=e.getTagName();if(this.tags.has(i)){let r=this.findTag(i);if(r!=null)return r.requiresCloseResolver!=null?r.requiresCloseResolver(e):r.requiresClose}return!1}};Ps.instance=null;(typeof Ps.instance=="undefined"||Ps.instance==null)&&(Ps.instance=new Ps,Ps.instance.loadCoreTags());var Le=Ps;var Ar=class{constructor(e){this.generation=0;this.id="";this.name="";this.values=new Map;this.lists=new Map;this.pristine=new Map;this.parentScope=null;this.statamicProject=e,Ar.generationCounter+=1,this.generation=Ar.generationCounter,this.id=Za()}makeNew(){return new Ar(this.statamicProject)}ancestor(){return this.parentScope!=null?this.parentScope:this}canShiftScope(e){return!!this.pristine.has(e)}shiftScope(e,i,r){if(this.pristine.has(i)){let n=this.pristine.get(i),s=n.parentCopy.copy();return s.introduceAliasScope(e,r,n.introducedFields),s}return this}containsPath(e){if(e.includes(":")){let i=e.split(":"),r=i.shift(),n=i.join(":");if(typeof r=="undefined")return!1;let s=this.lists.get(r);return typeof s=="undefined"?!1:s.containsPath(n)}return!!this.lists.has(e)}findReference(e){if(e.includes(":")){let i=e.split(":"),r=i.pop(),n=i.join(":"),s=this.findNestedScope(n);if(s!=null)return s.findReference(r)}return this.values.has(e)?this.values.get(e):null}findReferenceWithField(e){if(e.includes(":")){let i=e.split(":"),r=i.pop(),n=i.join(":"),s=this.findNestedScope(n);if(s!=null)return s.findReference(r)}if(this.values.has(e)){let i=this.values.get(e);if(i.sourceField==null){if(i.introducedBy!=null&&i.introducedBy.currentScope!=null&&i.introducedBy.currentScope!=this)return i.introducedBy.currentScope.findReferenceWithField(i.introducedBy.getTagName());if(this.parentScope!=null&&this.parentScope!=this)return this.parentScope.findReferenceWithField(e)}return i}return null}containsReference(e){return this.findReference(e)!=null}findNestedScope(e){if(e.includes(":")){let i=e.split(":"),r=i.shift(),n=i.join(":");if(typeof r=="undefined")return null;let s=this.lists.get(r);return typeof s=="undefined"?null:s.findNestedScope(n)}return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this&&this.parentScope.hasList(e)?this.parentScope.lists.get(e):null}liftList(e){if(this.lists.has(e)){let i=this.lists.get(e);return typeof i=="undefined"||i===null?null:(this.lists.delete(e),i)}return null}hasPristineReference(e){return!!this.pristine.has(e)}hasListInHistory(e){return this.hasList(e)?!0:this.parentScope!=null?this.name=="*root*"?!1:this.parentScope.hasList(e):!1}hasList(e){if(this.lists.has(e)){let i=this.lists.get(e);return!(typeof i=="undefined"||i===null)}return!1}bringListIntoMainScope(e){if(e.includes(":")){let r=e.split(":"),n=r.shift(),s=r.join(":");if(typeof n=="undefined")return this;let a=this.lists.get(n);return typeof a=="undefined"?this:a.bringListIntoMainScope(s)}let i=this.lists.get(e);return this.lists.delete(e),this.mergeScope(i)}getListNames(){let e=[];return this.lists.forEach((i,r)=>{e.push(r)}),e}getVariableNames(){let e=[];return this.values.forEach(i=>{e.push(i.name)}),e}getList(e){return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this?this.parentScope.getList(e):null}hasValue(e){return this.values.has(e)}findAncestorWithList(e){return this.hasList(e)?this:this.parentScope!=null&&this.parentScope!=this?this.parentScope.findAncestorWithList(e):null}findReferenceNotIntroducedBy(e,i){if(this.hasValue(e)){let r=this.values.get(e);if(r.introducedBy!=null&&r.introducedBy!=i)return r}return this.parentScope!=null&&this.parentScope!=this?this.parentScope.findReferenceNotIntroducedBy(e,i):null}removeThroughIntroduction(e,i){if(this.values.delete(e),this.parentScope!=null){let r=this.findReferenceNotIntroducedBy(e,i);r!=null&&this.addVariable(r)}}wasIntroducedBySymbol(e,i){if(this.values.has(e)==!1)return!1;let r=this.values.get(e);return r.introducedBy!=null?r.introducedBy==i:!1}referencesArray(e){return this.values.has(e)==!1?!1:this.values.get(e).dataType=="array"}addScopeList(e,i){return this.lists.set(e,i),this}mergeAndList(e,i){let r=new Ar(this.statamicProject);return r.values=kI(i),this.lists.set(e,r),this.mergeVariableScope(i),this}mergeScope(e){return e==this||e==null?this:(typeof e.values!="undefined"&&e.values!==null&&e.values.forEach((i,r)=>{this.values.set(r,i)}),typeof e.lists!="undefined"&&e.lists!==null&&e.lists.forEach((i,r)=>{this.lists.set(r,i)}),this)}mergeVariableScope(e){for(let i=0;i<e.length;i++)this.values.set(e[i].name,e[i]);return this}addVariable(e){this.values.set(e.name,e)}addVariables(e){for(let i=0;i<e.length;i++)this.addVariable(e[i])}addVariableArray(e,i){this.values.has(e)&&this.values.delete(e);let r=new Ar(this.statamicProject);r.addVariables(i),this.addScopeList(e,r)}injectAssetContainer(e,i){this.addBlueprintFields(e,this.statamicProject.getAssetBlueprintFields(i))}injectUserFields(e){this.addBlueprintFields(e,this.statamicProject.getUserFields())}addBlueprintField(e,i){this.addVariable({dataType:i.type,name:i.name,sourceField:i,sourceName:i.blueprintName,introducedBy:e})}introduceScopedAliasScope(e,i,r,n){this.pristine.set(r,{introducedFields:n,introducedScope:r,parentCopy:this.copy()});let s=new Ar(this.statamicProject),a=new Ar(this.statamicProject);return a.addBlueprintFields(e,n),s.name=r,s.addScopeList(i,a),this.addScopeList(r,s),s}expandScopedAliasScope(e,i,r,n){this.lists.has(r)==!1?this.introduceScopedAliasScope(e,i,r,n):this.lists.get(r).addBlueprintFields(e,n)}introduceAliasScope(e,i,r){this.pristine.set(i,{introducedFields:r,introducedScope:i,parentCopy:this.copy()});let n=new Ar(this.statamicProject);n.addBlueprintFields(e,r),n.name=i,this.addScopeList(i,n)}introduceDynamicScopeList(e,i,r){this.pristine.set(i,{introducedFields:r,introducedScope:i,parentCopy:this.copy()});let n=new Ar(this.statamicProject);n.name=i,n.addBlueprintFields(e,r),this.addScopeList(i,n)}addBlueprintFields(e,i){for(let r=0;r<i.length;r++)this.addBlueprintField(e,i[r])}injectBlueprint(e,i){let r=this.statamicProject.getBlueprintDetails(i);r.length>0&&this.addBlueprintFields(e,r)}copy(){let e=new Ar(this.statamicProject);return e.pristine=new Map(this.pristine),e.values=new Map(this.values),e.lists=new Map(this.lists),e.parentScope=this,e}},lr=Ar;lr.generationCounter=0;function eh(t){let e=new lr(t);return e.addVariable({dataType:"string",name:"handle",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"name",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"short_locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e}function bP(){let t=[];return t.push({dataType:"number",name:"response_code",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_field",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_token",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"environment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"xml_header",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"last_segment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_uri",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"amp_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"api_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_full_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_in",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_out",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"is_homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"now",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"today",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"current_date",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get_post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"old",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t}function vP(t,e){let i=t.findParameter("paginate");if(i!=null&&(i.value.toLowerCase()=="true"||parseInt(i.value).toString()==i.value)){let r=e.makeNew(),n=e.makeNew(),s=e.makeNew(),a=e.makeNew();r.addVariable({name:"next_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"prev_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_items",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_pages",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"current_page",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"auto_links",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),s.addVariable({name:"url",dataType:"string",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),s.addVariable({name:"page",dataType:"integer",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),a.addVariable({name:"first",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),a.addVariable({name:"last",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),a.addVariable({name:"slider",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),n.addScopeList("all",s),n.addScopeList("segments",a),r.addScopeList("links",n),e.addScopeList("paginate",r)}}var fa=class{constructor(){this.fileInjections=new Map;this.project=null}updateProject(e){this.project=e}registerInjections(e,i){if(i.length==0)return;let r=[];for(let n=0;n<i.length;n++){let s=i[n];s.hasParameters&&r.push(s)}if(r.length>0){let n=r[0].getMethodNameValue();if(n!=null&&this.project!=null){let s=this.project.findPartial(n);s!=null&&(this.fileInjections.has(s.documentUri)||this.fileInjections.set(s.documentUri,new Map),this.fileInjections.get(s.documentUri).set(e,r))}}}hasAvailableInjections(e){return this.fileInjections.has(e)}getScopeInjection(e,i){let r=new lr(i);return r.name="*injection*",this.fileInjections.get(e).forEach((s,a)=>{for(let o=0;o<s.length;o++){let l=s[o];if(l.hasParameters)for(let u=0;u<l.parameters.length;u++){let c=l.parameters[u];if(c.containsSimpleValue())r.addVariable({dataType:"string",name:c.name,sourceField:null,sourceName:"scope.injection",introducedBy:l});else if(c.isVariableReference&&l.currentScope!=null&&l.currentScope.hasListInHistory(c.value)){let f=l.currentScope.findNestedScope(c.value);if(f!=null){let d=Tr(c.name,":"),p=f.copy();p.name=d,r.addScopeList(d,f)}}}}}),r}};fa.instance=null;(typeof fa.instance=="undefined"||fa.instance==null)&&(fa.instance=new fa);var da=fa;var RO=["collection"],CO=["if","elseif","unless","elseunless"],th=class{constructor(e,i,r){this.pageVars=[];this.viewDataVars=null;this.documentUri="";this.lastSymbolId="";this.ideHelperMap=new Map;this.statamicProject=e,this.documentUri=i,this.document=r,this.makePageScope(),this.makeViewDataScope()}makeViewDataScope(){this.document.hasFrontMatter()&&(this.viewDataVars=this.document.getFrontMatterScope())}makePageScope(){let e=[],i=this.statamicProject.getFields();if(i.has("pages")){let r=i.get("pages");for(let n=0;n<r.length;n++){let s=r[n];e.push({name:s.name,dataType:s.type,sourceField:s,sourceName:s.blueprintName,introducedBy:null})}}this.pageVars=e}analyzeScope(e){var c,f,d,p,m,_,P,g,T,y,A,N,U;let i=new lr(this.statamicProject);i.name="*root*",i.parentScope=i,i.addScopeList("site",eh(this.statamicProject)),i.addScopeList("sites",eh(this.statamicProject)),i.addVariables(bP());let r=new lr(this.statamicProject);r.name="*root_user*",r.parentScope=i,this.statamicProject.getUserFields().forEach(V=>{r.addBlueprintField(null,V)}),i.addScopeList("current_user",r),((c=Gr.instance)==null?void 0:c.pageScopeDisabled(this.documentUri))?this.viewDataVars!=null&&i.addScopeList("view",this.viewDataVars):this.viewDataVars!=null?i.mergeAndList("page",this.pageVars).addScopeList("view",this.viewDataVars):i.mergeAndList("page",this.pageVars);let n=null;e.length>0&&e[0].isComment&&(n=Cl(this.documentUri,e[0]));for(let V=0;V<e.length;V++)if(e[V].isComment){let w=Cl(this.documentUri,e[V]);w.variableHelper!=null&&this.ideHelperMap.set(e[V].id(),w.variableHelper)}let s=this.statamicProject.getCollectionNamesForView(this.documentUri);if(n!=null&&(n.collectionInjections.length>0&&(s=s.concat(n.collectionInjections)),n.blueprints.length>0&&(s=s.concat(n.blueprints)),n.variableHelper!=null&&n.variableHelper.variableName=="@page")){let V=this.statamicProject.getBlueprintField(n.variableHelper.collectionName,n.variableHelper.fieldHandle);if(V!=null)if(n.variableHelper.setHandle.length>0){if(V.sets!=null){for(let w=0;w<V.sets.length;w++)if(V.sets[w].handle==n.variableHelper.setHandle){i.addVariables(wo(e[0],V.sets[w].fields));break}}}else i.addBlueprintField(e[0],V)}if(s.length>0){for(let V=0;V<s.length;V++)i.injectBlueprint(e[0],s[V]);i.addVariables(gs(e[0]))}((f=da.instance)==null?void 0:f.hasAvailableInjections(this.documentUri))&&i.mergeScope((d=da.instance)==null?void 0:d.getScopeInjection(this.documentUri,this.statamicProject));let a=[],o=[],l=[],u=[];u.push(i);for(let V=0;V<e.length;V++){let w=e[V];this.lastSymbolId.length>0&&o.includes(w.id())&&(a.pop(),u.pop(),u.length==0&&u.push(i));let $=u[u.length-1];if(w.hasParameters){for(let j=0;j<w.parameters.length;j++)if(w.parameters[j].interpolations.length>0)for(let Z=0;Z<w.parameters[j].interpolations.length;Z++){let ce=w.parameters[j].interpolations[Z];w.processedInterpolationRegions.has(ce)&&w.processedInterpolationRegions.get(ce).forEach(X=>{X instanceof G&&(X.currentScope=$)})}}if(((p=Le.instance)==null?void 0:p.isKnownTag(w.getTagName()))==!1){if(w.scopeVariable=$.findReference(w.runtimeName()),V>0){let j=e[V-1];if(j.isComment&&this.ideHelperMap.has(j.id())&&!j.isClosingTag&&!w.isClosingTag){let Z=this.ideHelperMap.get(j.id());if(Z.variableName==w.getTagName()){let ce=this.statamicProject.getBlueprintField(Z.collectionName,Z.fieldHandle);ce!=null&&(w.scopeVariable=Om(w,ce))}}}if(w.scopeVariable==null){let j=w.runtimeName().trim();if($.hasList(j)||((m=w.currentScope)==null?void 0:m.hasListInHistory(j))){w.sourceType="array";let se=$.getList(j);if(se!=null&&se.values.size>0){let X=se.values.entries().next().value[1];w.scopeVariable={dataType:"array",introducedBy:X.introducedBy,name:j,sourceField:null,sourceName:X.sourceName}}}let Z=(P=(_=w.name)==null?void 0:_.name)!=null?P:"";Z.includes(".")?Z=Z.split(".")[0]:Z.includes(":")&&(Z=Z.split(":")[0]);let ce=this.statamicProject.findAnyBlueprintField(Z);if(ce!=null){let se=Om(w,ce);w.scopeVariable=se,w.scopeVariable.sourceField!=null&&((g=ys.instance)==null?void 0:g.hasFieldtype(w.scopeVariable.sourceField.type))&&((T=ys.instance)==null?void 0:T.getFieldType(w.scopeVariable.sourceField.type)).augmentScope(w,$)}}else w.sourceType=lc(w.scopeVariable.dataType),w.scopeVariable.sourceField!=null&&((y=ys.instance)==null?void 0:y.hasFieldtype(w.scopeVariable.sourceField.type))&&((A=ys.instance)==null?void 0:A.getFieldType(w.scopeVariable.sourceField.type)).augmentScope(w,$)}if(w.hasParameters&&vP(w,$),w.modifiers!=null&&w.modifiers.hasModifiers()?w.manifestType=w.modifiers.getLastManifestedModifierRuntimeType():w.manifestType=w.sourceType,w.isClosedBy!=null&&(a.push(w.id()),o.push(w.isClosedBy.id()),$=$.copy(),u.push($)),w.getTagName()=="scope"&&w.hasMethodPart()){let j=u[u.length-2].copy();$.addScopeList(w.getMethodNameValue(),j)}if($.containsPath(w.runtimeName())&&(a.push(w.id()),w.isClosedBy!=null&&o.push(w.isClosedBy.id()),$=$.copy().bringListIntoMainScope(w.runtimeName()),u.push($)),w.currentScope=$,w.getTagName()!="cache"){let j=w.findParameter("scope");j!=null&&$.canShiftScope(w.runtimeName())&&($=$.shiftScope(w,w.runtimeName(),j.value),w.currentScope=$,u.pop(),u.push($))}if((N=Le.instance)==null?void 0:N.isKnownTag(w.runtimeName())){let j=(U=Le.instance)==null?void 0:U.findTag(w.runtimeName());typeof j!="undefined"&&j.augmentScope!=null&&j.augmentScope(w,$)}if(w.modifierChain!=null&&w.modifierChain.modifierChain.length>0&&w.modifierChain.modifierChain.forEach(j=>{j.modifier!=null&&typeof j.modifier.augmentScope!="undefined"&&j.modifier.augmentScope!=null&&j.modifier.augmentScope(w,$)}),w.modifiers.hasParameterModifiers()&&w.modifiers.parameterModifiers.forEach(j=>{j.modifier!=null&&typeof j.modifier.augmentScope!="undefined"&&j.modifier.augmentScope!=null&&j.modifier.augmentScope(w,$)}),w.sourceType=="array"){let j=w.findParameter("chunk"),Z=!0;if(w.parent!=null&&w.parent instanceof G&&RO.includes(w.parent.runtimeName())&&(Z=!1),typeof j!="undefined"&&j!==null)if(w.currentScope.parentScope!=null&&(w.currentScope.parentScope.hasList(w.runtimeName())||$.referencesArray(w.runtimeName()))){let ce=w.currentScope.parentScope.copy(),se=ce.liftList(w.runtimeName());if(se==null&&$.referencesArray(w.runtimeName())){if(se=new lr($.statamicProject),Z){let X=et(w);for(let Ue=0;Ue<X.length;Ue++){let dt=X[Ue];ce.wasIntroducedBySymbol(dt.name,w)&&ce.removeThroughIntroduction(dt.name,w)}se.addVariables(X)}}else Z&&ce.addVariables(et(w));ce.addScopeList("chunk",se),$=ce,u.pop(),u.push($),w.currentScope=ce}else{let ce=w.findParameter("scope");if(typeof ce!="undefined"&&ce!==null&&w.currentScope!=null&&w.currentScope.hasList(ce.value)&&w.scopeName!=null){let se=w.currentScope.copy(),X=se.ancestor().copy(),Ue=se.liftList(w.scopeName);Z&&se.addVariables(et(w)),X.liftList(w.scopeName),se.addScopeList(w.scopeName,Ue),X.addScopeList("chunk",se),$=X,u.pop(),u.push($),w.currentScope=X}}else w.scopeVariable!=null&&w.scopeVariable.sourceField==null&&Z&&($.addVariables(et(w)),$.addVariables(it(w)))}if(o.includes(w.id())&&w.parent!=null&&w.parent instanceof G){let j=w.currentScope.findAncestorWithList(w.getTagName());j!=null?(w.currentScope=j,$=j.copy(),u.pop(),u.length==0&&u.push(i),u.push($)):w.parent.parent!=null?w.currentScope=w.parent.parent.currentScope:w.currentScope=w.parent.currentScope}if(w.currentScope!=null&&w.runtimeNodes.length>0&&w.runtimeNodes.forEach(j=>{var Z;if(j instanceof ue&&((Z=w.currentScope)==null?void 0:Z.hasValue(j.name))){let ce=w.currentScope.findReferenceWithField(j.name);j.currentScope=w.currentScope,j.scopeName=w.scopeName,j.scopeVariable=ce}}),CO.includes(w.runtimeName())&&w.runtimeNodes.length==3&&w.runtimeNodes[0]instanceof ue&&w.runtimeNodes[1]instanceof Oi&&w.runtimeNodes[2]instanceof At&&w.runtimeNodes[0].scopeVariable!=null&&w.runtimeNodes[0].scopeVariable.sourceField!=null){let j=w.runtimeNodes[0].scopeVariable,Z=w.runtimeNodes[2].value,ce=j.sourceField;if(ce.sets!=null)for(let se=0;se<ce.sets.length;se++){let X=ce.sets[se];if(X.handle==Z&&X.fields!=null){$=$.copy(),$.addBlueprintFields(w,X.fields),w.isClosedBy!=null&&!w.isSelfClosing&&(a.push(w.id()),o.push(w.isClosedBy.id()),u.push($));break}}}this.lastSymbolId=w.id();let le=a.join("/");l.push(le)}}};var Ns=class{};Ns.globalTagEnterStack=[],Ns.interpolatedVariables=[];var RP=te(uc());var Yi=class{constructor(){this.name="";this.compound="";this.methodPart="";this.content="";this.cachedCompoundTagName=null}tagPartIs(e){return e=e.toLowerCase().trim(),this.name.toLowerCase().trim()==e}isCompound(){return this.methodPart==null?!1:this.methodPart.length>0}getMethodName(){return this.methodPart==""?"index":this.methodPart=="null"?"":this.methodPart}getRuntimeMethodName(){}getCompoundTagName(){if(this.cachedCompoundTagName==null){let e=this.getMethodName();this.cachedCompoundTagName=this.name,e!=null&&e!=""&&(this.cachedCompoundTagName=this.cachedCompoundTagName+":"+e)}return this.cachedCompoundTagName}};var ih=class{constructor(){this.tagNames=[];this.modifierNames=[]}getModifierNames(){var e,i;return this.modifierNames.concat((i=(e=je.instance)==null?void 0:e.getModifierNames())!=null?i:[])}getTagNames(){var e,i;return this.tagNames.concat((i=(e=Le.instance)==null?void 0:e.getTagNames())!=null?i:[])}setTagNames(e){this.tagNames=e}setModifierNames(e){this.modifierNames=e}isTag(e){var i;return ih.alwaysLikeTag.includes(e)||((i=Le.instance)==null?void 0:i.isKnownTag(e))?!0:this.tagNames.includes(e)}isModifier(e){var i;return((i=je.instance)==null?void 0:i.hasModifier(e))?!0:this.modifierNames.includes(e)}},Oo=ih;Oo.alwaysLikeTag=["if","endif","elseif","else","unless","elseunless"];var ko=class{static analyze(e,i){e.forEach(r=>{if(r instanceof G){if(r.pathReference!=null&&r.pathReference.isStrictVariableReference){r.isTagNode=!1;return}r.name!=null&&(r.isTagNode=i.isTag(r.name.name))}})}static analyzeNode(e){if(e.pathReference!=null&&e.pathReference.isStrictVariableReference){e.isTagNode=!1;return}ko.environmentDetails!=null&&e.name!=null&&(e.isTagNode=ko.environmentDetails.isTag(e.name.name)),e.name!=null&&(e.isConditionNode=Oo.alwaysLikeTag.includes(e.name.name))}static analyzeParametersForModifiers(e){e.parameters.forEach(i=>{ko.environmentDetails!=null&&(i.isModifierParameter=ko.environmentDetails.isModifier(i.name))})}},Lo=ko;Lo.environmentDetails=null;(typeof Lo.environmentDetails=="undefined"||Lo.environmentDetails==null)&&(Lo.environmentDetails=new Oo);var rh=Lo;var nh=class{static getIdentifier(e){var n;let i=new Yi;i.content=e.trim();let r=e.split(":");if(r.length==1)i.name=r[0].trim(),i.methodPart=null,i.compound=i.name;else if(r.length>1){let s=(n=r.shift())!=null?n:"",a=r.join(":");i.name=s.trim(),i.methodPart=a.trim(),i.compound=i.name+":"+i.methodPart}else i.name=e.trim(),i.methodPart="";return i.name.startsWith("/")&&(i.name=i.name.substr(1),i.compound=i.compound.substr(1)),i}};var ae=class{static getPrettyTypeName(e){return e instanceof nn?ae.TOKEN_LANG_OPERATOR:e instanceof tr?ae.TOKEN_OP_A_ADD:e instanceof ue?ae.TOKEN_VARIABLE:e instanceof At?ae.TOKEN_STRING:e instanceof Wt?ae.TOKEN_NUMBER:e instanceof Hr?ae.TOKEN_CONSTANT_FALSE:e instanceof vr?ae.TOKEN_CONSTANT_NULL:e instanceof Yr?ae.TOKEN_CONSTANT_TRUE:e instanceof eo?ae.TOKEN_MODIFIER_NODE:e instanceof wl?ae.TOKEN_MODIFIER_CHAIN:e instanceof dm?ae.TOKEN_MODIFIER_PARAMETER:e instanceof ir?ae.TOKEN_OP_A_DIVIDE:e instanceof Tn?ae.TOKEN_OP_A_EXPONENTIATION:e instanceof bn?ae.TOKEN_OP_A_MODULUS:e instanceof rr?ae.TOKEN_OP_A_MULTIPLY:e instanceof Fi?ae.TOKEN_OP_A_SUBTRACT:e instanceof Kr?ae.TOKEN_ASG_ADD:e instanceof $r?ae.TOKEN_ASG_DIVIDE:e instanceof zr?ae.TOKEN_ASG_MODULUS:e instanceof Xr?ae.TOKEN_ASG_MULTIPLY:e instanceof nr?ae.TOKEN_ASG_ASSIGN:e instanceof vn?ae.TOKEN_ASG_SUBTRACT:e instanceof Oi?ae.TOKEN_CMP_EQUAL:e instanceof rn?ae.TOKEN_CMP_SEQUAL:e instanceof Ir?ae.TOKEN_CMP_GT:e instanceof Un?ae.TOKEN_CMP_GTE:e instanceof Qr?ae.TOKEN_CMP_LT:e instanceof Jr?ae.TOKEN_CMP_LTE:e instanceof Zr?ae.TOKEN_CMP_NEQ:e instanceof en?ae.TOKEN_CMP_SNEQ:e instanceof tn?ae.TOKEN_CMP_SPACESHIP:e instanceof Gn?ae.TOKEN_OP_VARIABLE_FALLBACK:e instanceof pm?ae.TOKEN_COND_FALLBACK_GROUP:e instanceof Ft?ae.TOKEN_BRANCH_SEPARATOR:e instanceof sn?ae.TOKEN_TERNARY_SEPARATOR:e instanceof Xt?ae.TOKEN_GROUP_BEGIN:e instanceof zt?ae.TOKEN_GROUP_END:e instanceof Ni?ae.TOKEN_MODIFIER_SEPARATOR:e instanceof Mt?ae.TOKEN_MODIFIER_NAME:e instanceof Qt?ae.TOKEN_MODIFIER_VALUE:e instanceof Li?ae.TOKEN_MODIFIER_VALUE_SEPARATOR:e instanceof Dl?ae.TOKEN_NULL_COALESCE_GROUP:e instanceof Gt?ae.TOKEN_SEMANTIC_GROUP:e instanceof mi?ae.TOKEN_STATEMENT_SEPARATOR:e instanceof Fl?ae.TOKEN_TERNARY_CONDITION:e instanceof Pr?ae.TOKEN_OP_AND:e instanceof hi?ae.TOKEN_OP_LOGIC_NEGATION:e instanceof Nr?ae.TOKEN_OP_OR:e instanceof In?ae.TOKEN_OP_XOR:e instanceof Sr?ae.TOKEN_OP_NULL_COALESCE:e instanceof Zs?ae.TOKEN_PARAM:e instanceof ai?ae.TOKEN_PATH_ACCESSOR:e instanceof fs?ae.TOKEN_OP_A_FACTORIAL:e instanceof br?ae.TOKEN_RECURSIVE:e instanceof ro?ae.TOKEN_ARG_GROUP:e instanceof kt?ae.TOKEN_ARG_SEPARATOR:e instanceof Pn?ae.TOKEN_OP_STRING_CONCAT:e instanceof ki?ae.TOKEN_OP_SCOPE_REASSIGNMENT:e instanceof io?ae.TOKEN_STRUCT_SWITCH_CASE:e instanceof ta?ae.TOKEN_STRUCT_SWITCH_GROUP:e instanceof ea?ae.TOKEN_STRUCT_DIRECTION_GROUP:e instanceof Rr?ae.TOKEN_STRUCT_SCOPED_LOGIC_GROUP:e instanceof We?ae.TOKEN_STRUCT_LOGIC_GROUP:e instanceof xl?ae.TOKEN_STRUCT_VALUE_DIRECTION:e instanceof Wn?ae.TOKEN_STRUCT_ARRAY:e instanceof Cr?ae.TOKEN_STRUCT_T_LIST_START:e instanceof mm?ae.TOKEN_STRUCT_TUPLE_LIST:e instanceof li?ae.TOKEN_STRUCT_METHOD_CALL:typeof e}},z=ae;z.TOKEN_LANG_OPERATOR="T_LANG_OPERATOR",z.TOKEN_VARIABLE="T_VAR",z.TOKEN_NUMBER="T_NUMERIC",z.TOKEN_STRING="T_STRING",z.TOKEN_RECURSIVE="T_RECURSIVE",z.TOKEN_CONSTANT_FALSE="T_FALSE",z.TOKEN_CONSTANT_NULL="T_NULL",z.TOKEN_CONSTANT_TRUE="T_TRUE",z.TOKEN_MODIFIER_NODE="T_MODIFIER",z.TOKEN_MODIFIER_CHAIN="T_MODIFIER_CHAIN",z.TOKEN_MODIFIER_PARAMETER="T_MODIFIER_PARAM",z.TOKEN_OP_A_ADD="T_AOP_ADD",z.TOKEN_OP_A_DIVIDE="T_AOP_DIVIDE",z.TOKEN_OP_A_EXPONENTIATION="T_AOP_EXP",z.TOKEN_OP_A_MODULUS="T_AOP_MOD",z.TOKEN_OP_A_MULTIPLY="T_AOP_MULTIPLY",z.TOKEN_OP_A_SUBTRACT="T_AOP_SUBTRACT",z.TOKEN_OP_A_FACTORIAL="T_AOP_FACTORIAL",z.TOKEN_ASG_ADD="T_ASG_ADD",z.TOKEN_ASG_DIVIDE="T_ASG_DIVIDE",z.TOKEN_ASG_ASSIGN="T_ASG",z.TOKEN_ASG_MODULUS="T_ASG_MODULUS",z.TOKEN_ASG_MULTIPLY="T_ASG_MULTIPLY",z.TOKEN_ASG_SUBTRACT="T_ASG_SUBTRACT",z.TOKEN_CMP_EQUAL="T_CMP_EQ",z.TOKEN_CMP_SEQUAL="T_CMP_SEQ",z.TOKEN_CMP_GT="T_CMP_GT",z.TOKEN_CMP_GTE="T_CMP_GTE",z.TOKEN_CMP_LT="T_CMP_LT",z.TOKEN_CMP_LTE="T_CMP_LTE",z.TOKEN_CMP_NEQ="T_CMP_NEQ",z.TOKEN_CMP_SNEQ="T_CMP_SNEQ",z.TOKEN_CMP_SPACESHIP="T_CMP_SPSHP",z.TOKEN_OP_VARIABLE_FALLBACK="T_VFBK",z.TOKEN_COND_FALLBACK_GROUP="T_VFBK_GROUP",z.TOKEN_BRANCH_SEPARATOR="T_BRANCH_SEPARATOR",z.TOKEN_TERNARY_SEPARATOR="T_TERNARY_SEPARATOR",z.TOKEN_GROUP_BEGIN="T_LOGIC_BEGIN",z.TOKEN_GROUP_END="T_LOGIC_END",z.TOKEN_MODIFIER_SEPARATOR="T_MODIFIER_SEPARATOR",z.TOKEN_MODIFIER_NAME="T_MODIFIER_NAME",z.TOKEN_MODIFIER_VALUE="T_MODIFIER_VALUE",z.TOKEN_MODIFIER_VALUE_SEPARATOR="T_MODIFIER_VALUE_SEPARATOR",z.TOKEN_NULL_COALESCE_GROUP="T_NULL_COALESCE_GROUP",z.TOKEN_SEMANTIC_GROUP="T_SEMANTIC_GROUP",z.TOKEN_STATEMENT_SEPARATOR="T_STATEMENT_SEPARATOR",z.TOKEN_TERNARY_CONDITION="T_TERNARY_CONDITION",z.TOKEN_OP_AND="T_AND",z.TOKEN_OP_LOGIC_NEGATION="T_LOGIC_INVERSE",z.TOKEN_OP_OR="T_OR",z.TOKEN_OP_XOR="T_XOR",z.TOKEN_OP_NULL_COALESCE="T_NULL_COALESCE",z.TOKEN_PARAM="T_PARAM",z.TOKEN_PATH_ACCESSOR="T_VAR_SEPARATOR",z.TOKEN_ARG_GROUP="T_ARG_GROUP",z.TOKEN_ARG_SEPARATOR="T_ARG_SEPARATOR",z.TOKEN_OP_STRING_CONCAT="T_STR_CONCAT",z.TOKEN_OP_SCOPE_REASSIGNMENT="T_SCOPE_ASSIGNMENT",z.TOKEN_STRUCT_SWITCH_CASE="T_SWITCH_CASE",z.TOKEN_STRUCT_SWITCH_GROUP="T_SWITCH_GROUP",z.TOKEN_STRUCT_DIRECTION_GROUP="T_DIRECTION_GROUP",z.TOKEN_STRUCT_VALUE_DIRECTION="T_ORDER_DIRECTION",z.TOKEN_STRUCT_SCOPED_LOGIC_GROUP="T_SCOPED_LOGIC_GROUP",z.TOKEN_STRUCT_LOGIC_GROUP="T_LOGIC_GROUP",z.TOKEN_STRUCT_ARRAY="T_ARRAY",z.TOKEN_STRUCT_T_LIST_START="T_LIST_START",z.TOKEN_STRUCT_TUPLE_LIST="T_LIST",z.TOKEN_STRUCT_METHOD_CALL="T_METHOD_CALL";var at=class{static isLanguageLogicalKeyword(e){return e==this.LogicalAnd||e==this.LogicalNot||e==this.LogicalOr||e==this.LogicalXor}};at.LogicalAnd="and",at.LogicalNot="not",at.LogicalOr="or",at.LogicalXor="xor",at.ConstTrue="true",at.ConstFalse="false",at.ConstNull="null",at.ArrList="list",at.ScopeAs="as";var sh=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.currentContent=[];this.rawContent=[];this.startIndex=0;this.cur=null;this.next=null;this.prev=null;this.isParsingString=!1;this.isParsingModifierName=!1;this.isInModifierParameterValue=!1;this.runtimeNodes=[];this.ignorePrevious=!1;this.lastNode=null;this.referenceParser=null;this.activeNode=null}reset(){this.ignorePrevious=!1,this.runtimeNodes=[],this.chars=[],this.inputLen=0,this.currentIndex=0,this.currentContent=[],this.rawContent=[],this.startIndex=0,this.cur=null,this.next=null,this.prev=null,this.isParsingString=!1,this.isParsingModifierName=!1,this.isInModifierParameterValue=!1,this.referenceParser=null,this.activeNode=null}checkCurrentOffsets(){this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.ignorePrevious?(this.prev="",this.ignorePrevious=!1):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen&&(this.next=this.chars[this.currentIndex+1])}isValidChar(e){return e==null||e==D.Punctuation_Semicolon?!1:this.isParsingString==!1&&e=="]"?!0:this.isParsingString==!1&&e==")"?!1:(e=="["||e=="]")&&e==this.cur||(e=="_"||e=="."||e=="["||e=="]")&&(!(this.currentContent.length>0)||K.ctypeAlpha(this.cur)||K.ctypeDigit(this.cur))?!0:K.ctypeSpace(e)?!1:this.isParsingModifierName&&(e==D.Punctuation_Minus||e==D.Punctuation_Underscore)?!0:!K.ctypePunct(e)}isRightOfInterpolationRegion(){if(this.activeNode==null||this.referenceParser==null)return!1;let e=this.activeNode._lexerRelativeOffset(this.currentIndex);return this.referenceParser.bordersInterpolationRegion(e)}scanForwardTo(e,i=0){let r=[];for(let n=this.currentIndex+1+i;n<this.inputLen;n++){let s=this.chars[n];if(s==e){r.push(s);break}else r.push(s)}return r}nextNonWhitespace(){for(let e=this.currentIndex+1;e<this.inputLen;e++){let i=this.chars[e];if(!K.ctypeSpace(i))return i}return null}pushError(e){this.referenceParser!=null&&this.referenceParser.addAntlersError(e)}guardAgainstNeighboringTypesInModifier(e){return this.lastNode instanceof Qt&&this.pushError(k.makeSyntaxError(I.TYPE_MODIFIER_INCORRECT_VALUE_POSITION,this.lastNode,"Incorrect type ["+z.getPrettyTypeName(e)+"] near ["+z.getPrettyTypeName(this.lastNode)+"]")),!1}appendContent(e){e!=null&&this.currentContent.push(e)}tokenize(e,i){this.reset(),this.referenceParser=e.getParser(),this.activeNode=e,this.chars=i.split(""),this.inputLen=this.chars.length,this.runtimeNodes=[],this.lastNode=null;let r=null;this.isParsingString=!1,this.isParsingModifierName=!1;let n=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){this.checkCurrentOffsets();let a=!0;if(this.cur!=null&&this.rawContent.push(this.cur),this.isParsingString==!1&&(this.cur==D.String_Terminator_DoubleQuote||this.cur==D.String_Terminator_SingleQuote)){if(this.prev==D.String_EscapeCharacter){this.pushError(k.makeSyntaxError(I.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE,e,"Illegal string escape sequence outside string parsing."));continue}this.rawContent=[],this.rawContent.push(this.cur),n=this.cur,this.isParsingString=!0,r=this.currentIndex;continue}if(this.isInModifierParameterValue&&!this.isParsingString){let o=!1;if(!this.isParsingString&&K.ctypeSpace(this.next)){let l=this.scanForwardTo(" ",1).join("").trim().toLowerCase();l.length>0&&at.isLanguageLogicalKeyword(l)&&(o=!0)}if(this.next==D.String_Terminator_SingleQuote||this.next==D.String_Terminator_DoubleQuote||this.next==null||o){this.appendContent(this.cur);let l=this.currentContent.join("");if(l.length>0){let u=l;if(this.currentContent=[],this.rawContent=[],u.trimRight().length==0){let f=this.nextNonWhitespace();if(f==D.String_Terminator_SingleQuote||f==D.String_Terminator_DoubleQuote){this.currentContent=[],this.rawContent=[];continue}}let c=new Qt;c.isVirtual=!1,c.name=u,c.value=u.trimRight(),c.startPosition=e._lexerRelativeOffset(this.currentIndex-u.length),c.endPosition=e._lexerRelativeOffset(this.currentIndex),c.parent=this.activeNode,this.guardAgainstNeighboringTypesInModifier(c),this.runtimeNodes.push(c),this.lastNode=c}if(l.length==0)continue;this.currentContent=[],this.rawContent=[],this.isInModifierParameterValue=!1;continue}if(this.next==D.Punctuation_Pipe||this.next==D.Punctuation_Colon||this.next==D.RightParent){this.isInModifierParameterValue=!1,this.appendContent(this.cur);let l=0,u=!1;if(this.currentContent[0]==D.String_Terminator_SingleQuote||this.currentContent[0]==D.String_Terminator_DoubleQuote){let d=this.scanForwardTo(this.currentContent[0]);d.length>0&&(this.currentContent=this.currentContent.concat(d),l=d.length,u=!0)}let c=this.currentContent.join("");u&&(c=c.substr(1),c=c.slice(0,-1)),this.currentContent=[],this.rawContent=[];let f=new Qt;f.isVirtual=!1,f.name=c,f.value=c,f.startPosition=e._lexerRelativeOffset(this.currentIndex-c.length),f.endPosition=e._lexerRelativeOffset(this.currentIndex),f.parent=this.activeNode,this.runtimeNodes.push(f),this.guardAgainstNeighboringTypesInModifier(f),this.lastNode=f,this.currentIndex+=l}else this.appendContent(this.cur);continue}if(this.isParsingString&&this.cur==n){if(this.prev==D.String_EscapeCharacter)this.appendContent(n);else{if(this.isInModifierParameterValue){let l=this.currentContent.join(""),u=new Qt;u.isVirtual=!1,u.name=l,u.value=l,u.startPosition=e._lexerRelativeOffset(r!=null?r:0),u.endPosition=e._lexerRelativeOffset(this.currentIndex),u.parent=this.activeNode,this.runtimeNodes.push(u),this.guardAgainstNeighboringTypesInModifier(u),this.lastNode=u,this.currentContent=[],this.rawContent=[],this.isParsingString=!1,this.isInModifierParameterValue=!1;continue}let o=new At;o.isVirtual=!1,o.startPosition=e._lexerRelativeOffset(r!=null?r:0),o.endPosition=e._lexerRelativeOffset(this.currentIndex),this.referenceParser!=null&&(o.sourceContent=this.referenceParser.getText(o.startPosition.index,o.endPosition.index+1)),o.parent=this.activeNode,n!=null&&(o.sourceTerminator=n),n=null,this.isParsingString=!1,o.value=this.currentContent.join(""),o.rawLexContent=this.rawContent.join("").trim(),this.currentContent=[],this.rawContent=[],this.guardAgainstNeighboringTypesInModifier(o),this.runtimeNodes.push(o),this.lastNode=o}continue}if(this.isParsingString&&this.cur==D.String_EscapeCharacter){if(this.next==D.String_EscapeCharacter){this.appendContent(D.String_EscapeCharacter),this.ignorePrevious=!0,this.currentIndex+=1;continue}else if(this.next==D.String_Terminator_SingleQuote){this.appendContent(D.String_Terminator_SingleQuote),this.currentIndex+=1;continue}else if(this.next==D.String_Terminator_DoubleQuote){this.appendContent(D.String_Terminator_DoubleQuote),this.currentIndex+=1;continue}else if(this.next=="n"){this.appendContent(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){this.appendContent("	"),this.currentIndex+=1;continue}else if(this.next=="r"){this.appendContent("\r"),this.currentIndex+=1;continue}}if(this.isParsingString==!1){if(this.isValidChar(this.cur)&&this.isValidChar(this.next)==!1&&this.currentContent.length==0&&(this.appendContent(this.cur),a=!1),(this.next==null||this.isValidChar(this.next)==!1)&&this.currentContent.length>0){a&&this.appendContent(this.cur);let o=this.currentContent.join("").trim(),l=o.length,u=this.currentIndex-l,c=e._lexerRelativeOffset(u),f=e._lexerRelativeOffset(this.currentIndex);if(this.currentContent=[],this.rawContent=[],o==at.LogicalAnd){let p=new Pr;p.isVirtual=!1,p.content=at.LogicalAnd,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(o==at.LogicalOr){let p=new Nr;p.isVirtual=!1,p.content=at.LogicalOr,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(o==at.LogicalXor){let p=new In;p.isVirtual=!1,p.content=at.LogicalXor,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(o==at.ConstNull){let p=new vr;p.isVirtual=!1,p.content=at.ConstNull,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(o==at.ConstTrue){let p=new Yr;p.isVirtual=!1,p.content=at.ConstTrue,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(o==at.ConstFalse){let p=new Hr;p.isVirtual=!1,p.content=at.ConstFalse,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(o==at.LogicalNot){let p=new hi;p.isVirtual=!1,p.content=at.LogicalNot,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(o==at.ArrList&&this.next==D.LeftParen){let p=new Cr;p.isVirtual=!1,p.content=at.ArrList,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}if(K.isNumeric(o)){let p=new Wt;p.isVirtual=!1,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,o.includes(".")?p.value=parseFloat(o):p.value=parseInt(o),p.rawLexContent=o,this.guardAgainstNeighboringTypesInModifier(p),this.runtimeNodes.push(p),this.lastNode=p;continue}if(this.runtimeNodes.length>0){let p=this.runtimeNodes[this.runtimeNodes.length-1];if(p instanceof Ni){let m=new Mt;m.isVirtual=!1,m.name=o,m.content=o,m.startPosition=c,m.endPosition=f,m.parent=this.activeNode,this.runtimeNodes.push(m),this.lastNode=m;continue}else if(p instanceof Li){let m=new Qt;m.isVirtual=!1,m.name=o,m.value=o,m.startPosition=c,m.endPosition=f,m.parent=this.activeNode,this.runtimeNodes.push(m),this.lastNode=m,this.isParsingModifierName=!1;continue}}let d=new ue;d.isVirtual=!1,d.name=o,d.startPosition=c,d.endPosition=f,d.parent=this.activeNode,this.runtimeNodes.push(d),this.lastNode=d;continue}}else{this.appendContent(this.cur);continue}if(!K.ctypeSpace(this.cur)){if(this.isParsingString==!1){if(this.cur==D.Punctuation_Equals&&this.next==D.Punctuation_GreaterThan){let o=new ki;o.isVirtual=!1,o.content="=>",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentContent=[],this.rawContent=[],this.currentIndex+=1;continue}if(this.cur==D.Punctuation_Comma){let o=new kt;o.isVirtual=!1,o.content=D.Punctuation_Comma,o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.Punctuation_Semicolon){let o=new mi;o.isVirtual=!1,o.content=D.Punctuation_Semicolon,o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.Punctuation_Plus){if(this.next==D.Punctuation_Equals){let l=new Kr;l.isVirtual=!1,l.content="+=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new tr;o.isVirtual=!1,o.content="+",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.isParsingModifierName==!1&&this.cur==D.Punctuation_Minus){if(K.ctypeDigit(this.next)&&K.ctypeDigit(this.prev)==!1&&this.prev!=D.RightParent&&this.isRightOfInterpolationRegion()==!1){this.appendContent(this.cur);continue}if(this.next==D.Punctuation_Equals){let l=new vn;l.isVirtual=!1,l.content="-=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}else if(this.next==D.Punctuation_GreaterThan){let l=new li;l.isVirtual=!1,l.content="->",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new Fi;o.isVirtual=!1,o.content="-",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.Punctuation_Asterisk){if(this.next==D.Punctuation_Asterisk){let l=new Tn;l.isVirtual=!1,l.content="**",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}else if(this.next==D.Punctuation_Equals){let l=new Xr;l.isVirtual=!1,l.content="*=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new rr;o.isVirtual=!1,o.content="*",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.Punctuation_ForwardSlash){if(this.next==D.Punctuation_Equals){let l=new $r;l.isVirtual=!1,l.content="/=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new ir;o.isVirtual=!1,o.content="/",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.Punctuation_Percent){if(this.next==D.Punctuation_Equals){let l=new zr;l.isVirtual=!1,l.content="%=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new bn;o.isVirtual=!1,o.content="%",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.Punctuation_LessThan){if(this.next==D.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==D.Punctuation_GreaterThan){let c=new tn;c.isVirtual=!1,c.content="<=>",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+3),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=2;continue}let u=new Jr;u.isVirtual=!1,u.content="<=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let o=new Qr;o.isVirtual=!1,o.content="<",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.Punctuation_GreaterThan){if(this.next==D.Punctuation_Equals){let l=new Ir;l.isVirtual=!1,l.content=">=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new Ir;o.isVirtual=!1,o.content=">",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.Punctuation_Equals&&this.next!=D.Punctuation_Equals){let o=new nr;o.isVirtual=!1,o.content="=",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.Punctuation_Equals&&this.next==D.Punctuation_Equals){let o=null;if(this.currentIndex+2<this.inputLen&&(o=this.chars[this.currentIndex+2]),o==D.Punctuation_Equals){let l=new rn;l.isVirtual=!1,l.content="===",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+3),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=2}else{let l=new Oi;l.isVirtual=!1,l.content="==",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1}continue}if(this.cur==D.Punctuation_Ampersand){if(this.next==D.Punctuation_Ampersand){let l=new Pr;l.isVirtual=!1,l.content="&&",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}if(this.next==D.Punctuation_Equals){let l=new Pn;l.isVirtual=!1,l.content="&=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}let o=new Pr;o.isVirtual=!1,o.content="&",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.Punctuation_Pipe&&this.next!=D.Punctuation_Pipe){let o=new Ni;o.isVirtual=!1,o.content="|",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.isParsingModifierName=!0;continue}if(this.cur==D.Punctuation_Pipe&&this.next==D.Punctuation_Pipe){let o=new Nr;o.isVirtual=!1,o.content="||",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==D.Punctuation_Exclamation){if(this.next==D.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==D.Punctuation_Equals){let c=new en;c.isVirtual=!1,c.content="!==",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+3),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=2;continue}let u=new Zr;u.isVirtual=!1,u.content="!=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let o=new hi;o.isVirtual=!1,o.content="!",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.Punctuation_Question&&this.next==D.Punctuation_Equals){let o=new Gn;o.isVirtual=!1,o.content="?=",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==D.Punctuation_Question&&this.next==D.Punctuation_Question){let o=new Sr;o.isVirtual=!1,o.content="??",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==D.Punctuation_Question&&this.next==D.Punctuation_Colon){let o=new Sr;o.isVirtual=!1,o.content="?:",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==D.Punctuation_Question){let o=new sn;o.isVirtual=!1,o.content="?",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.LeftParen){let o=new Xt;o.isVirtual=!1,o.content="(",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.RightParent){let o=new zt;o.isVirtual=!1,o.content=")",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==D.Punctuation_Colon){if(this.runtimeNodes.length>0&&this.runtimeNodes[this.runtimeNodes.length-1]instanceof Mt){let u=new Li;u.isVirtual=!1,u.content=":",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+1),u.parent=this.activeNode,this.runtimeNodes.push(u),this.isInModifierParameterValue==!1?this.isInModifierParameterValue=!0:this.isInModifierParameterValue=!1;continue}let o=new Ft;o.isVirtual=!1,o.content=":",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.isParsingModifierName=!1;continue}}a&&this.appendContent(this.cur)}}let s=this.runtimeNodes.length-1;for(let a=0;a<this.runtimeNodes.length;a++){let o=null,l=null;a>0&&(o=this.runtimeNodes[a-1]),a!=s&&(l=this.runtimeNodes[a+1]);let u=this.runtimeNodes[a];u.prev=o,u.next=l}return this.runtimeNodes}};var Yt=class{constructor(){this.chars=[];this.currentIndex=0;this.lastIndex=0;this.inputLength=0;this.prev=null;this.cur=null;this.next=null;this.isParsingString=!1;this.isStringKeyPath=!1;this.antlersErrors=[];this._recusriveEntryCheck=new Map}isValidChar(e){return!(this.isParsingString==!1&&K.ctypeSpace(e)||this.isParsingString==!1&&e==Yt.LeftBracket||this.isParsingString==!1&&e==Yt.RightBracket)}normalizePath(e){return e=e.replace(":","_"),e=e.replace(".","_"),e=e.replace("[","_"),e=e.replace("]","_"),e.replace("]","_")}getAntlersErrors(){return this.antlersErrors}mergeErrors(e){e.forEach(i=>{this.antlersErrors.push(i)})}parse(e){this.antlersErrors=[],this._recusriveEntryCheck.clear();let i=e,r=!1,n=!1,s=!1,a=!1;e.startsWith(D.AtChar)&&(s=!0,e=e.substr(1)),e.startsWith(D.Punctuation_Caret)?(a=!0,e=e.substr(1)):(e.startsWith(D.Punctuation_Dollar)&&(r=!0,e=e.substr(1)),e.startsWith(D.Punctuation_Dollar)&&(n=!0,e=e.substr(1))),this.chars=[],this.currentIndex=0,this.lastIndex=0,this.inputLength=0,this.cur=null,this.prev=null,this.next=null,this.chars=e.split(""),this.inputLength=this.chars.length,this.lastIndex=this.inputLength-1;let o=[],l=!1,u=[],c=Yt.ColonSeparator,f=!1,d=null,p=!1,m=!0;if(this.isParsingString=!1,this.inputLength==0){let g=new Nn;return g._isFromEmptyFailState=!0,g}for(this.currentIndex;this.currentIndex<this.inputLength;this.currentIndex+=1){if(this.cur=this.chars[this.currentIndex],this.next=null,f?(f=!1,this.prev=""):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLength&&(this.next=this.chars[this.currentIndex+1]),this.isParsingString==!1&&this.cur==Yt.ColonSeparator&&(c=Yt.ColonSeparator),this.isParsingString==!1&&this.cur==Yt.DotPathSeparator&&(c=Yt.DotPathSeparator),this.isParsingString&&this.cur==D.String_EscapeCharacter&&this.next==d){d!=null&&o.push(d),this.currentIndex+=1;continue}if(this.cur==D.String_Terminator_SingleQuote||this.cur==D.String_Terminator_DoubleQuote)if(this.isParsingString)if(this.cur==d)if(this.prev==D.String_EscapeCharacter){o.push(this.cur);continue}else this.isParsingString=!1,m=!1;else{o.push(this.cur);continue}else{this.prev!=null&&this.prev!=D.LeftBracket&&(K.ctypeAlpha(this.prev)||K.ctypeDigit(this.prev))&&this.antlersErrors.push(k.makeSyntaxError(I.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR,null,"Unexpected string start while parsing variable path. String literals must be within array accessors.")),this.isParsingString=!0,p=!0,d=this.cur,this.isStringKeyPath=!0;continue}if(this.isParsingString){if(K.ctypeSpace(this.cur)){o.push(this.cur);continue}else if(this.cur==D.String_EscapeCharacter){if(this.next==D.String_EscapeCharacter){o.push(D.String_EscapeCharacter),this.currentIndex+=1,f=!0;continue}else if(this.next=="n"){o.push(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){o.push("	"),this.currentIndex+=1;continue}else if(this.next=="r"){o.push("\r"),this.currentIndex+=1;continue}}}if(this.isParsingString==!1&&this.cur==Yt.LeftBracket){if(o.length>0){let y=new ai;y.name=o.join(""),y.delimiter=c,u.push(y),o=[]}if(this.next==null||K.ctypeSpace(this.next)){this.antlersErrors.push(k.makeSyntaxError(I.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT,null,"Unexpected end of input or whitespace while parsing variable accessor path."));continue}let g=this.locateEndOfAccessor();this.currentIndex=g.foundOn;let T=new Yt;if(u.push(T.parse(g.nestedContent)),this.mergeErrors(T.getAntlersErrors()),l=!0,this.currentIndex==-1){this.antlersErrors.push(k.makeSyntaxError(I.PARSER_CANNOT_PARSE_PATH_RECURSIVE,null,"Cannot parse variable path.")),l=!1;break}continue}if(this.isParsingString==!1&&this.next==Yt.RightBracket&&l){m?o.push(this.cur):m=!0;let g=new hm;g.name=o.join(""),u.push(g),o=[],c=Yt.ColonSeparator,this.currentIndex+=1,l=!1;continue}if(this.isParsingString==!1&&(this.cur==Yt.LeftBracket||this.cur==Yt.ColonSeparator||this.cur==Yt.DotPathSeparator||this.currentIndex==this.lastIndex)){if(this.next==null||K.ctypeSpace(this.next)){if(this.cur==Yt.ColonSeparator){if(o.length==0){this.antlersErrors.push(k.makeSyntaxError(I.TYPE_UNEXPECTED_BRANCH_SEPARATOR,null,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}this.antlersErrors.push(k.makeSyntaxError(I.TYPE_ILLEGAL_VARPATH_RIGHT,null,'Variable paths cannot end with the ":" character.'));continue}if(this.cur==Yt.LeftBracket){this.antlersErrors.push(k.makeSyntaxError(I.TYPE_ILLEGAL_VARPATH_SUBPATH_START,null,"Illegal variable sub-path start."));continue}}this.currentIndex==this.lastIndex&&this.isValidChar(this.cur)&&(m?o.push(this.cur):m=!0);let g=new ai;g.delimiter=c,g.name=o.join(""),p&&(g.isStringVar=p,g.name=i.substr(1),g.name=g.name.slice(0,-1),p=!1),u.push(g),o=[];continue}else{o.push(this.cur);continue}}let _=u.length;if(_>0){let g=u[_-1];(g instanceof ai||g instanceof Nn)&&(g.isFinal=!0)}let P=new Nn;return P.isStrictTagReference=a,P.isStrictVariableReference=r,P.isExplicitVariableReference=n,P.pathParts=u,P.originalContent=e,P.isVariableVariable=s,P.normalizedReference=e.replace(":","."),P}locateEndOfAccessor(){let e=[],i=1,r=-1,n="",s=!1,a=null;if(this._recusriveEntryCheck.has(this.currentIndex+1)==!1)this._recusriveEntryCheck.set(this.currentIndex+1,!0);else return{foundOn:r,nestedContent:""};for(let o=this.currentIndex+1;o<this.inputLength;o++){let l=this.chars[o],u=null,c=null;if(o>0&&(c=this.chars[o-1]),o+1<this.inputLength&&(u=this.chars[o+1]),s==!1&&(l==D.String_Terminator_SingleQuote||l==D.String_Terminator_DoubleQuote)){s=!0,a=l,e.push(l);continue}if(s==!1&&l==Yt.LeftBracket){i+=1,e.push(l);continue}if(s&&l==a&&c!=D.String_EscapeCharacter){e.push(l),s=!1,a=null;continue}if(s==!1&&l==Yt.RightBracket)if(i-=1,i==0){r=o,n=e.join("");break}else{e.push(l);continue}else e.push(l);s==!1&&K.ctypeSpace(u)&&this.antlersErrors.push(k.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path.")),u==null&&this.antlersErrors.push(k.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path."))}return{foundOn:r,nestedContent:n}}},Kn=Yt;Kn.ColonSeparator=":",Kn.LeftBracket="[",Kn.RightBracket="]",Kn.DotPathSeparator=".";var ah=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.cur=null;this.prev=null;this.pathParser=new Kn;this.lexer=new sh;this.activeNode=null}reset(){this.chars=[],this.inputLen=0,this.currentIndex=0,this.cur=null,this.prev=null}canBeClosingTag(e){var r;let i=(r=e.name)==null?void 0:r.name;return i=="elseif"||i=="else"?!0:e.name==null?!1:e.name.content.startsWith("/")}parseNode(e){var c,f,d,p;if(this.activeNode=e,this.reset(),e.content.startsWith("*subrecursive")){let m=e.content;m=m.trim(),m=K.trimRight(m,"*"),m=m.substr(13);let _=new br;return e.copyBasicDetailsTo(_),_.originalNode=e,_.name=new Yi,_.name.name=m,_.isNestedRecursive=!0,_.pathReference=this.pathParser.parse(m),_.mergeErrors(this.pathParser.getAntlersErrors()),_.content=m,_.runtimeContent=m,_}if(e.content.trim().startsWith("*recursive")){let m=e.content;m=m.trim(),m=K.trimRight(m,"*"),m=m.substr(10).trim();let _=new br;return e.copyBasicDetailsTo(_),_.originalNode=e,_.name=new Yi,_.name.name=m,_.pathReference=this.pathParser.parse(m),_.mergeErrors(this.pathParser.getAntlersErrors()),_.content=m,_.runtimeContent=m,_}this.chars=e.content.split(""),this.inputLen=this.chars.length;let i=[],r=!1,n="",s=!1,a=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.cur=this.chars[this.currentIndex],this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),r==!1){if(s==!1&&(this.cur==D.String_Terminator_DoubleQuote||this.cur==D.String_Terminator_SingleQuote)){a=this.cur,s=!0,i.push(this.cur);continue}if(s&&K.ctypeSpace(this.cur)){i.push(this.cur);continue}if(s&&this.cur==a&&this.prev!=D.String_EscapeCharacter){a=null,s=!1,i.push(this.cur);continue}if(K.ctypeSpace(this.cur)||this.currentIndex==this.inputLen-1||this.cur==D.Punctuation_Pipe){if(i.length==0)continue;K.ctypeSpace(this.cur)||this.cur!=D.Punctuation_Pipe&&i.push(this.cur),n=i.join(""),r=!0;break}i.push(this.cur)}let o=e.getContentRelativeStartIndex();if(e.nameStartsOn=e.relativeOffset(o,o),e.nameStartsOn!=null&&(e.nameEndsOn=e.nameStartsOn.shiftRight(n.length-1),n.includes(D.Punctuation_Colon))){let m=n.indexOf(D.Punctuation_Colon);e.nameMethodPartStartsOn=e.nameStartsOn.shiftRight(m+1)}e.name=nh.getIdentifier(n),rh.analyzeNode(e),e.parameters=this.getParameters(e),e.hasParameters=e.parameters.length>0,e.hasParameters&&(rh.analyzeParametersForModifiers(e),e.resetContentCache()),e.pathReference=this.pathParser.parse(n),e.mergeErrors(this.pathParser.getAntlersErrors()),e.pathReference!=null&&e.pathReference.isStrictTagReference&&(e.name.name=e.name.name.substr(1),e.name.content=e.name.content.substr(1)),e.isClosingTag=this.canBeClosingTag(e);let l=[];e.isClosingTag==!1&&(l=this.lexer.tokenize(e,e.getContent())),e.runtimeNodes=l;let u=e.content.trim();if(oi.isConditionalStructure(e)&&e.name.name!="else"&&l.length==0&&u!="/if"&&u!="/unless"&&u!="/endunless"&&u!="endif"&&u!="endunless"&&u!="/endif"&&e.getContent().trim().length==0&&this.pushConditionWithoutExpression(e),e.name.name=="endif"){let m=e.copyBasicDetails(),_=e.getParser();return _!=null&&m.withParser(_),m.name=new Yi,m.name.name="if",m.name.compound="if",m.isClosingTag=!0,m.content=" /if ",m.originalNode=e,m}if(e.name.name=="unless"){let m=e.copyBasicDetails(),_=e.getParser();if(_!=null&&m.withParser(_),m.name=new Yi,m.name.name="if",m.name.compound="if",e.isClosingTag==!1){let P=(c=e.getContent())!=null?c:"",g=" if !("+P+") ";m.content=g,m.originalNode=e,m.resetContentCache(),m.runtimeNodes=this.lexer.tokenize(m,(f=m.getContent())!=null?f:""),this.testUnlessContent(m)}else m.originalNode=e,m.content=" /if ";return m}else if(e.name.name=="elseunless"){let m=e.copyBasicDetails(),_=e.getParser();_!=null&&m.withParser(_),m.name=new Yi,m.name.name="elseif",m.name.compound="elseif";let P=(d=e.getContent())!=null?d:"",g=" elseif !("+P+") ";return m.content=g,m.originalNode=e,m.resetContentCache(),m.runtimeNodes=this.lexer.tokenize(m,(p=m.getContent())!=null?p:""),this.testUnlessContent(m),m}else if(e.name.name=="endunless"){let m=e.copyBasicDetails(),_=e.getParser();return _!=null&&m.withParser(_),m.name=new Yi,m.name.name="if",m.name.compound="if",m.isClosingTag=!0,m.content=" /if ",m.originalNode=e,m}return e}pushError(e){this.activeNode!=null&&this.activeNode.pushError(e)}testUnlessContent(e){var r;let i=(r=e.getContent())!=null?r:"";if(i=i.replace("!",""),i=i.replace("(",""),i=i.replace(")","").trim(),i.length==0){this.pushConditionWithoutExpression(e);return}}pushConditionWithoutExpression(e){this.pushError(k.makeSyntaxError(I.TYPE_PARSE_EMPTY_CONDITIONAL,e,"Condition structure lacks comparison expression."))}getParameters(e){var U,V,w,$,le,j,Z,ce,se;let i=(U=e.getContent())!=null?U:"",r=i.split(""),n=[],s=[],a=r.length,o=0;if(e.name!=null){let X=K.trimLeft(e.content," "),Ue=e.content.length-X.length,dt=e.name.content.length;Ue>0?o=Ue+dt:o=dt}let l=!1,u=[],c="",f=0,d=0,p=!1,m=null,_=-1,P=-1,g=-1,T=-1,y=-1,A=-1,N=null;for(let X=0;X<a;X++){let Ue=r[X],dt=null,ii=null;if(X+1<a&&(ii=r[X+1]),p?(dt="",p=!1):X>0&&(dt=r[X-1]),l==!1&&K.ctypeSpace(Ue)){u=[],_=-1,P=-1,g=-1,T=-1,y=-1,A=-1;continue}if(l==!1&&Ue==D.Punctuation_Equals){if(u.length>0&&(K.ctypeAlpha(u[0])||K.ctypeDigit(u[0])||u[0]==D.Punctuation_Colon||u[0]==D.AtChar)==!1){u=[];continue}if(X+1>=a){this.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_END_OF_INPUT,e,"Unexpected end of input"));continue}let ot=null;if(X+1<a&&(ot=r[X+1]),dt==D.Punctuation_Equals){u=[],_=-1,P=-1,g=-1,T=-1,y=-1,A=-1;continue}if(K.ctypeSpace(ot)||ot==D.Punctuation_Equals){u=[],_=-1,P=-1,g=-1,T=-1,y=-1,A=-1;continue}u.length>0&&(T=X,y=X,c=u.join(""),f=d,l=!0,u=[]),ii==D.String_Terminator_DoubleQuote&&(m=D.String_Terminator_DoubleQuote,N=D.String_Terminator_DoubleQuote,X+=1),ii==D.String_Terminator_SingleQuote&&(m=D.String_Terminator_SingleQuote,N=D.String_Terminator_SingleQuote,X+=1);continue}if(l&&Ue==D.String_EscapeCharacter){let ot=null;if(X+1<a&&(ot=r[X+1]),ot==D.String_EscapeCharacter){u.push(D.String_EscapeCharacter),X+=1,p=!0;continue}if(ot==D.String_Terminator_DoubleQuote){u.push(D.String_Terminator_DoubleQuote),X+=1;continue}if(ot==D.String_Terminator_SingleQuote){u.push(D.String_Terminator_SingleQuote),X+=1;continue}if(ot=="n"){u.push(`
`),X+=1;continue}if(ot=="r"){u.push("\r"),X+=1;continue}}if(l==!1&&(m!=null&&Ue==m||m==null&&K.ctypeSpace(Ue))&&n.push(u.join("")),l&&(m!=null&&Ue==m||m==null&&K.ctypeSpace(Ue))){let ot=u.join("");A=X,P=X,l=!1,m=null,u=[];let Xe=new Zs;if(c.startsWith(D.Punctuation_Colon)&&(Xe.isVariableReference=!0,c=c.substr(1)),Xe.nameDelimiter=N,Xe.name=c,Xe.value=ot,Xe.nameDelimiter==null&&(Xe.hasValidValueDelimiter=!1,Xe.nameDelimiter='"'),Xe.startPosition=(V=e.relativePositionFromOffset(d,f))!=null?V:null,X+1>a){this.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER,e,"Unexpected end of input while parsing parameter content.")),Xe.parent=e,s.push(Xe),c="";continue}Xe.endPosition=(w=e.relativePositionFromOffset(X+1,X+1))!=null?w:null,Xe.parent=e,Xe.blockPosition={start:($=e.relativeOffset(_,_))!=null?$:null,end:(le=e.relativeOffset(P,P))!=null?le:null},Xe.namePosition={start:(j=e.relativeOffset(g,g))!=null?j:null,end:(Z=e.relativeOffset(T,T))!=null?Z:null},Xe.valuePosition={start:(ce=e.relativeOffset(y+2,y+2))!=null?ce:null,end:(se=e.relativeOffset(A,A))!=null?se:null},s.push(Xe),c="",_=-1,P=-1,g=-1,T=-1,y=-1,A=-1;continue}if(l==!1&&(Ue==D.String_Terminator_DoubleQuote||Ue==D.String_Terminator_SingleQuote)&&X>o)break;u.push(Ue),_==-1&&(_=X),g==-1&&(g=X),u.length==1&&(d=X+1)}if(m!=null){let X=e;if(n.length>0){let Ue=n[n.length-1],dt=e.content.indexOf(Ue);if(dt>=0){let ii=new re;ii.startPosition=e.relativeOffset(dt-2,dt-2),ii.endPosition=e.relativeOffset(dt+Ue.length,dt+Ue.length),X=ii}}this.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_END_OF_INPUT,X,"Unexpected string literal while parsing parameters."))}return s}};function Ul(t){return t.length==0?null:t[0].startPosition}var IP=te(uc()),df=class{static regions(){return this.noParseRegions}static clear(){this.noParseRegions.clear()}static registerNoParseContent(e){let i=IP.Md5.hashStr(e);return this.noParseRegions.set(i,e),i}};df.noParseRegions=new Map;function oh(t,e){let i=new Set(t),r=new Set(e),n=new Set([...i].filter(s=>r.has(s)));return Array.from(n)}var lh=class{constructor(){this.closingTagIndex=new Map;this.closingTagIndexCount=new Map;this.openTagIndexCount=new Map;this.closingTagNames=new Map;this.parentNode=null;this.stackCount=0;this.createdExecutionBranches=[];this.document=null}getClosingCandidates(e){var i,r;if((e instanceof G||e instanceof bt)&&e.isClosingTag==!1){let n=(r=(i=e.name)==null?void 0:i.compound)!=null?r:"";return n=="if"?["if","elseif","else"]:n=="elseif"?["elseif","else","if"]:n=="else"?["if"]:[n]}return[]}buildCloseIndex(e){var i,r,n;e.forEach(s=>{var a,o,l,u,c,f,d,p,m,_;if(!(s instanceof br)&&!((s instanceof G||s instanceof bt)&&s.isSelfClosing)&&(s instanceof G||s instanceof bt)&&s.isClosingTag){this.closingTagIndex.has(this.stackCount)==!1&&this.closingTagIndex.set(this.stackCount,new Map),this.closingTagIndexCount.has(this.stackCount)==!1&&this.closingTagIndexCount.set(this.stackCount,new Map);let P=(o=(a=s.name)==null?void 0:a.compound)!=null?o:"";((l=this.closingTagIndex.get(this.stackCount))==null?void 0:l.has(P))==!1&&((u=this.closingTagIndex.get(this.stackCount))==null||u.set(P,[]),(c=this.closingTagIndexCount.get(this.stackCount))==null||c.set(P,0)),(d=(f=this.closingTagIndex.get(this.stackCount))==null?void 0:f.get(P))==null||d.push(s);let g=(m=(p=this.closingTagIndexCount.get(this.stackCount))==null?void 0:p.get(P))!=null?m:0;(_=this.closingTagIndexCount.get(this.stackCount))==null||_.set(P,g+1)}}),this.closingTagNames.has(this.stackCount)==!1&&this.closingTagNames.set(this.stackCount,[]),this.closingTagIndex.has(this.stackCount)&&(this.closingTagNames.set(this.stackCount,Array.from((r=(i=this.closingTagIndex.get(this.stackCount))==null?void 0:i.keys())!=null?r:[])),(n=this.closingTagIndex.get(this.stackCount))==null||n.forEach((s,a)=>{var u,c,f,d,p,m,_;let o=s.length;if(o==0)return;let l=s[o-1];for(let P=0;P<o;P++){let g=e[P];if(g instanceof G||g instanceof bt){if(g instanceof br)continue;if(g.index>=l.index)break;let T=(c=(u=g.name)==null?void 0:u.compound)!=null?c:"";if(g.isClosingTag==!1&&a==T&&!g.isSelfClosing){this.openTagIndexCount.has(this.stackCount)==!1&&this.openTagIndexCount.set(this.stackCount,new Map),((f=this.openTagIndexCount.get(this.stackCount))==null?void 0:f.has(a))==!1&&((d=this.openTagIndexCount.get(this.stackCount))==null||d.set(a,0));let y=(m=(p=this.openTagIndexCount.get(this.stackCount))==null?void 0:p.get(a))!=null?m:0;(_=this.openTagIndexCount.get(this.stackCount))==null||_.set(a,y+1)}}}}))}getScanForList(e){var i;if(e instanceof G||e instanceof bt){let r=(i=e.name)==null?void 0:i.compound;if(r=="else")return["if"];if(r=="elseif")return["elseif","else","if"];if(e.isClosingTag==!1){let n=this.getClosingCandidates(e),s=this.closingTagNames.get(this.stackCount);return oh(n,s)}}return[]}canPossiblyClose(e){var i,r;if(e instanceof br)return!1;if(e instanceof bt||e instanceof G){if(e.isComment||e.isSelfClosing)return!1;let n=(r=(i=e.name)==null?void 0:i.compound)!=null?r:"";if(n=="else"||n=="elseif")return!0;if(e.isClosingTag==!1){let s=this.getClosingCandidates(e),a=this.closingTagNames.get(this.stackCount);return oh(s,a).length>0}}return!1}findClosingPair(e,i,r){var o,l,u,c;let n=i.runtimeNodes.length,s=e.length,a=0;for(let f=0;f<s;f++){let d=e[f];if(d instanceof G||d instanceof bt)if(i.endPosition!=null&&d.startPosition!=null){if(i.endPosition.isBefore(d.startPosition)){if(d.isClosingTag&&d.isOpenedBy!=null||d.isSelfClosing)continue;let p=(l=(o=d.name)==null?void 0:o.compound)!=null?l:"";if(d.isClosingTag==!1){if(r.includes(p)){let m=(u=this.openTagIndexCount.get(this.stackCount))==null?void 0:u.get(p),_=(c=this.closingTagIndexCount.get(this.stackCount))==null?void 0:c.get(p);m!=_&&d.runtimeNodes.length>=n,a+=1}continue}if(r.includes(p)&&a>0){a-=1;continue}if(a==0&&r.includes(p)){d.isOpenedBy=i,i.isClosedBy=d;break}}}else continue}}associate(e,i){var s,a,o,l,u,c,f;this.document=i;let r=[{documentNodes:e,parent:null}],n=[];for(;r.length>0;){let d=r.pop();if(d==null)continue;let p=d.documentNodes;this.parentNode=d.parent,this.stackCount+=1,this.buildCloseIndex(p),p=oi.pairConditionals(p),p.forEach(g=>{if((g instanceof G||g instanceof bt)&&this.canPossiblyClose(g)){if(oi.isConditionalStructure(g))return;let T=this.getScanForList(g);this.findClosingPair(p,g,T)}});let m=p.length;for(let g=0;g<m;g++){let T=p[g];if((T instanceof G||T instanceof bt)&&T.isClosedBy!=null)for(let y=g+1;y<m;y++){let A=p[y];if(A.index>T.isClosedBy.index)break;if(A.parent=T,T.children.push(A),A instanceof G&&A.index==T.index){A.parent=T;break}}}p.forEach(g=>{if((g instanceof G||g instanceof bt)&&g.children.length>0){let T=[];g.children.forEach(y=>{y.parent!=null&&y.parent.index==g.index&&(y.parent=g,T.push(y))}),r.push({documentNodes:T,parent:g})}});let _=[];p.forEach(g=>{this.parentNode==null?g.parent==null&&_.push(g):g.parent==this.parentNode&&_.push(g)}),_=this.reduceConditionals(_,i);let P=new Map;p.forEach(g=>{var T,y,A,N;if((g instanceof G||g instanceof bt)&&g.isClosedBy!=null&&this.document!=null){let U=this.document.getText(((y=(T=g.endPosition)==null?void 0:T.index)!=null?y:0)+1,(N=(A=g.isClosedBy.startPosition)==null?void 0:A.index)!=null?N:0);g.runtimeContent=U}});for(let g=0;g<_.length;g++){let T=_[g],y=(s=T.refId)!=null?s:"";if(P.set(y,1),(T instanceof G||T instanceof bt)&&T.isComment==!1&&((a=T.name)==null?void 0:a.name)=="noparse"&&!(T instanceof pi)&&T.isClosingTag==!1){if(T.isClosedBy==null){T.pushError(k.makeSyntaxError(I.TYPE_NO_PARSE_UNASSOCIATED,T,"Encountered noparse region without a closing tag. All noparse regions must be closed."));continue}let A=T.content;this.document!=null&&(A=this.document.getText(((l=(o=T.endPosition)==null?void 0:o.index)!=null?l:0)+1,(f=(c=(u=T.isClosedBy)==null?void 0:u.startPosition)==null?void 0:c.index)!=null?f:0));let N=new pi,U=T.getParser();U!=null&&N.withParser(U),T.copyBasicDetailsTo(N),N.name=new Yi,N.name.name="noparse",N.name.compound="noparse",N.content=df.registerNoParseContent(A),N.originalNode=T,N.isClosedBy=T.isClosedBy,N.parent=T.parent,_[g]=N}}if(this.parentNode!=null&&(this.parentNode instanceof bt||this.parentNode instanceof G)&&(this.parentNode.children=this.cleanNodes(_),this.parentNode.parent!=null&&this.parentNode.parent instanceof G)){let g=this.parentNode.parent.children,T=[];g.forEach(y=>{var A;P.has((A=y.refId)!=null?A:"")==!1&&T.push(y)}),this.parentNode.parent.children=this.cleanNodes(T)}this.stackCount<=1&&(n=_)}return this.createdExecutionBranches.length>0&&this.createdExecutionBranches.forEach(d=>{d.head!=null&&(d.nodes=d.head.children)}),n}cleanNodes(e){let i=[],r=[];for(let n=0;n<e.length;n++){let s=e[n],a=s.refId;if(r.includes(a))break;i.push(s),r.push(a)}return i}findEndOfBranch(e,i,r){let n=[],s=r,a=null;for(let o=0;o<e.length;o++){let l=e[o];if((l instanceof G||l instanceof bt)&&l.isOpenedBy!=null&&l.isOpenedBy==i){a=l;break}else n.push(l)}return{children:n,tail:a,offset:s}}reduceConditionals(e,i){var n,s,a,o,l,u,c,f,d,p,m,_;let r=[];for(let P=0;P<e.length;P++){let g=e[P];if((g instanceof G||g instanceof bt)&&g.isComment==!1&&g.isClosingTag==!1&&g.isClosedBy!=null)if(((s=(n=g.name)==null?void 0:n.compound)!=null?s:"")=="if"){let y=new st;y.index=g.index,y.chain.push(g.index),y.fragment=g.fragment,y.fragmentPosition=g.fragmentPosition,y.containsAnyFragments=g.containsAnyFragments,y.containsChildStructures=g.containsChildStructures;let A=(o=(a=g.startPosition)==null?void 0:a.offset)!=null?o:0,N=g.getFinalClosingTag(),U=((u=(l=N.endPosition)==null?void 0:l.offset)!=null?u:0)+1;y.nodeContent=i.getText(A,U),this.parentNode!=null&&(y.parent=this.parentNode);let V=null,w=!0,$=0;for(;w;){if($+=1,$>lh.ForceBreakLimit){w=!1;break}if(g instanceof G||g instanceof bt){let le=this.findEndOfBranch(e.slice(P+1),g,P),j=new cm,Z=le.tail;j.head=g,j.tail=Z,j.nodes=this.cleanNodes(g.children);let ce=((f=(c=g.endPosition)==null?void 0:c.offset)!=null?f:0)+1,se=(m=(p=(d=g.isClosedBy)==null?void 0:d.startPosition)==null?void 0:p.offset)!=null?m:0,X=i.getText(ce,se);if(j.documentText=X,i.shouldParseChildDocument()&&(j.childDocument=Pt.childFromText(j.documentText,Ul(j.nodes))),Z==null&&(Z=j.head.isClosedBy),Z!=null&&Z.startPosition!=null&&(j.startPosition=Z.startPosition),Z!=null&&(j.index=Z.index),j.nodes.length>0){let Ue=j.nodes[j.nodes.length-1];Ue.endPosition!=null&&(j.endPosition=Ue.endPosition)}else Z!=null&&Z.endPosition!=null&&(j.endPosition=Z.endPosition);if(this.createdExecutionBranches.push(j),y.logicBranches.push(j),(Z==null?void 0:Z.isClosingTag)&&((_=Z.name)==null?void 0:_.compound)=="if"){V=le.offset,w=!1;break}else Z!=null&&y.chain.push(Z.index),P=le.offset,Z instanceof G&&(g=Z)}else w=!1}if(y.logicBranches.length>0){let le=y.logicBranches[0],j=y.logicBranches[y.logicBranches.length-1];le.startPosition!=null&&(y.startPosition=le.startPosition),j.endPosition!=null&&(y.endPosition=j.endPosition)}if(r.push(y),V!=null&&V==e.length)break}else r.push(g);else r.push(g)}return r}},Mo=lh;Mo.ForceBreakLimit=1e5;var uh=class{static associateRecursiveParent(e){var i,r;for(let n=0;n<e.length;n++){let s=e[n];if(s instanceof br){let a="*recursive "+((i=s.name)==null?void 0:i.name);if(n-1<0){s.pushError(k.makeSyntaxError(I.TYPE_RECURSIVE_NODE_INVALID_POSITION,s,"Unpaired recursive node. All recursive nodes must have a parent node introducing them."));continue}let o=null;for(let l=n-1;l>=0;l-=1){let u=e[l];if(!(u instanceof Qe)&&u instanceof G&&u.isClosedBy!=null){if(s.isNestedRecursive){if(u.content.trim()==((r=s.name)==null?void 0:r.name)){o=u;break}}else if(u.runtimeContent.includes(a)&&K.substringCount(s.runtimeContent,"*recursive")==1){o=u;continue}else if(o!=null)break}}if(o==null)continue;s.isNestedRecursive?(o.hasRecursiveNode=!0,s.recursiveParent=o,o.recursiveReference=s):o.parent!=null?o.parent instanceof G&&(o.parent.hasRecursiveNode=!0,o.parent.recursiveReference=s,s.recursiveParent=o.parent):(o.hasRecursiveNode=!0,s.recursiveParent=o,o.recursiveReference=s)}}}};var qo=class{static getNearText(e){var r,n,s,a;if(e instanceof ue)return e.name;if(e instanceof Wt)return(n=(r=e.value)==null?void 0:r.toString())!=null?n:"";if(e instanceof At)return e.value;if(e instanceof Mt)return e.name;if(e instanceof Qt)return e.value;if(e instanceof Cr||e instanceof In||e instanceof vr||e instanceof Yr||e instanceof Hr||e instanceof hi||e instanceof nn||e instanceof kt||e instanceof mi||e instanceof Kr||e instanceof tr||e instanceof vn||e instanceof Fi||e instanceof Tn||e instanceof Xr||e instanceof rr||e instanceof $r||e instanceof ir||e instanceof zr||e instanceof bn||e instanceof tn||e instanceof Jr||e instanceof Qr||e instanceof Un||e instanceof Ir||e instanceof nr||e instanceof rn||e instanceof Oi||e instanceof Pr||e instanceof Ni||e instanceof Nr||e instanceof en||e instanceof Zr||e instanceof Gn||e instanceof Sr||e instanceof sn||e instanceof Xt||e instanceof zt||e instanceof Li||e instanceof Ft||e instanceof fs||e instanceof ki||e instanceof Pn||e instanceof li)return e.content;let i="";return e instanceof G?e.originalNode!=null?i=e.originalNode.getContent():i=(a=(s=e.startPosition)==null?void 0:s.line.toString())!=null?a:"":e.originalAbstractNode!=null?i=e.originalAbstractNode.rawContent():i=e.rawContent(),i.length>15&&(i=i.substr(0,-15)),i}};var Vo=class{};Vo.deferredCoreLibraries=["arr","array","str","string","method","math","sys","convert","scope","stopwatch","file","path","url","request","json","datetime"];var Nt=class{};Nt.ARR_PLUCK="pluck",Nt.ARR_TAKE="take",Nt.ARR_SKIP="skip",Nt.ARR_MAKE="arr",Nt.ARR_ORDERBY="orderby",Nt.ARR_GROUPBY="groupby",Nt.ARR_MERGE="merge",Nt.QUERY_WHERE="where",Nt.STRUCT_SWITCH="switch",Nt.BITWISE_AND="bwa",Nt.BITWISE_OR="bwo",Nt.BITWISE_XOR="bxor",Nt.BITWISE_NOT="bnot",Nt.BITWISE_SHIFT_LEFT="bsl",Nt.BITWISE_SHIFT_RIGHT="bsr",Nt.operators=["pluck","take","arr","skip","orderby","groupby","merge","where","switch","bwa","bwo","bxor","bsl","bsr"];var qt=class{constructor(){this.pathParser=new Kn;this.tokens=[];this.createdVariables=[];this.createdModifierChains=[];this.createdLanguageOperators=[];this.createdArrays=[];this.tracedAssignments=[];this.mergedVariablePaths=[];this.mergedComponents=new Map;this.modifierNameMapping=new Map;this.isRealModifierSeparator=new Map;this.isRoot=!0;this.retriggerNonVirtualGroupMembers=[]}hasModifierConstruct(e){return this.modifierNameMapping.has(e)}getModifierConstruct(e){return this.modifierNameMapping.get(e)}isActualModifierSeparator(e){return this.isRealModifierSeparator.has(e)}isMergedVariableComponent(e){return this.mergedComponents.has(e)}getMergedVariable(e){return this.mergedComponents.get(e)}getMergedVariablePaths(){return this.mergedVariablePaths}getCreatedModifierChains(){return this.createdModifierChains}getCreatedLangaugeOperators(){return this.createdLanguageOperators}getCreatedArrays(){return this.createdArrays}getCreatedVariables(){return this.createdVariables}getRuntimeAssignments(){return this.tracedAssignments}getAssignedVariables(){let e=[],i=[];for(let r=0;r<this.tracedAssignments.length;r++){let n=this.tracedAssignments[r];n.target instanceof ue&&i.includes(n.target.name)==!1&&(i.push(n.target.name),e.push(n.target))}return e}getAssignedVariableNames(){let e=[];for(let i=0;i<this.tracedAssignments.length;i++){let r=this.tracedAssignments[i];r.target instanceof ue&&e.includes(r.target.name)==!1&&e.push(r.target.name)}return e}reset(){this.tokens=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.createdArrays=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.tracedAssignments=[],this.createdArrays=[],this.mergedVariablePaths=[],this.mergedComponents.clear(),this.modifierNameMapping.clear()}parse(e){return this.tokens=e,this.tokens=this.combineVariablePaths(this.tokens),this.tokens=this.createLanguageOperators(this.tokens),this.tokens=this.createLogicalGroups(this.tokens),this.tokens=this.associateMethodCalls(this.tokens),this.tokens=this.createTupleLists(this.tokens),this.tokens=this.createLibraryInvocations(this.tokens),this.tokens=this.associateModifiers(this.tokens),this.tokens=this.createNullCoalescenceGroups(this.tokens),this.tokens=this.correctTypes(this.tokens),this.tokens=this.createTernaryGroups(this.tokens),this.tokens=this.applyOperationOrder(this.tokens),this.validateNeighboringOperators(this.tokens),this.tokens=this.createLogicGroupsToRemoveMethodInvocationAmbiguity(this.tokens),this.tokens=this.createLogicGroupsToResolveOperatorAmbiguity(this.tokens),this.validateNoDanglingLogicGroupEnds(this.tokens),this.isRoot&&(this.tokens=this.insertAutomaticStatementSeparators(this.tokens),this.retriggerNonVirtualGroupMembers.length>0&&this.retriggerNonVirtualGroupMembers.forEach(i=>{this.markAllNonVirtualAsListGroupMember(i)})),this.createSemanticGroups(this.tokens)}setIsRoot(e){return this.isRoot=e,this}validateNeighboringOperators(e){let i=e.length;for(let r=0;r<i;r++){let n=e[r];if(qt.isOperatorType(n)){if(r+1>=i){n.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_OPERATOR,n,"Unexpected operator while parsing input text."));return}let s=e[r+1];if(qt.isOperatorType(s)){s.pushError(k.makeSyntaxError(I.TYPE_OPERATOR_INVALID_ON_RIGHT,s,"Unexpected operator while parsing input text."));continue}}}}static isAssignmentOperator(e){return e instanceof Kr||e instanceof $r||e instanceof nr||e instanceof zr||e instanceof Xr||e instanceof vn}static isOperatorType(e){return e instanceof Kr||e instanceof $r||e instanceof nr||e instanceof zr||e instanceof Xr||e instanceof vn||e instanceof Gn||e instanceof nn||e instanceof Pr||e instanceof hi||e instanceof Nr||e instanceof In||e instanceof Sr||e instanceof Pn||e instanceof tr||e instanceof ir||e instanceof Tn||e instanceof bn||e instanceof rr||e instanceof Fi||e instanceof Oi||e instanceof Ir||e instanceof Un||e instanceof Qr||e instanceof Jr||e instanceof Zr||e instanceof en||e instanceof tn||e instanceof rn}markAllNonVirtualAsListGroupMember(e){e.forEach(i=>{if(i instanceof We||i instanceof Rr||i instanceof Hn){i.start!=null&&i.start.isVirtual==!1&&(i.start.isListGroupMember=!0),i.end!=null&&i.end.isVirtual==!1&&(i.end.isListGroupMember=!0),i.scopeOperator!=null&&(i.scopeOperator.isListGroupMember=!0),i.nodes.forEach(r=>{this.markAllNonVirtualAsListGroupMember([r])});return}else i instanceof Gt&&(i.separatorToken!=null&&i.separatorToken.isVirtual==!1&&(i.separatorToken.isListGroupMember=!0),this.markAllNonVirtualAsListGroupMember(i.nodes));i.isVirtual==!1&&(i.isListGroupMember=!0),i.originalAbstractNode!=null&&i.originalAbstractNode!=i&&this.markAllNonVirtualAsListGroupMember([i.originalAbstractNode])})}markAllNonVirtualAsSwitch(e){e.forEach(i=>{if(i instanceof We||i instanceof Rr||i instanceof Hn){i.start!=null&&i.start.isVirtual==!1&&(i.start.isSwitchGroupMember=!0),i.end!=null&&i.end.isVirtual==!1&&(i.end.isSwitchGroupMember=!0),i.scopeOperator!=null&&(i.scopeOperator.isSwitchGroupMember=!0),i.nodes.forEach(r=>{this.markAllNonVirtualAsSwitch([r])});return}else i instanceof Gt&&(i.separatorToken!=null&&i.separatorToken.isVirtual==!1&&(i.separatorToken.isSwitchGroupMember=!0),this.markAllNonVirtualAsSwitch(i.nodes));i.isVirtual==!1&&(i.isSwitchGroupMember=!0),i.originalAbstractNode!=null&&i.originalAbstractNode!=i&&this.markAllNonVirtualAsSwitch([i.originalAbstractNode])})}validateNoDanglingLogicGroupEnds(e){e.forEach(i=>{i instanceof zt&&i.pushError(k.makeSyntaxError(I.TYPE_LOGIC_GROUP_NO_START,i,"Unexpected [T_LOGIC_END] while parsing input text."))})}isValidModifierValue(e){return e instanceof Qt||e instanceof ue||e instanceof Yr||e instanceof Hr||e instanceof vr||e instanceof Wt||e instanceof At}wrapNumberInVariable(e){var r,n,s,a;let i=new ue;return i.startPosition=e.startPosition,i.endPosition=e.endPosition,i.name=(n=(r=e.value)==null?void 0:r.toString())!=null?n:"",i.content=(a=(s=e.value)==null?void 0:s.toString())!=null?a:"",i.originalAbstractNode=e,i.refId=e.refId,i.modifierChain=e.modifierChain,i.index=e.index,this.createdVariables.push(i),i}wrapArithmeticModifier(e,i){let r=new Mt;return r.startPosition=e.startPosition,r.endPosition=e.endPosition,r.originalAbstractNode=e,r.content=i,r.name=i,r.index=e.index,r}combineVariablePaths(e){let i=[],r=e.length;for(let n=0;n<r;n++){let s=e[n],a=i.length;if(s instanceof Ft){if(a==0){s.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE,s,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}if(n+1>r){let u="";if(n>0){let c=e[n-1];u=qo.getNearText(c)}s.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP,s,'Unexpected end of input while parsing input text near "'+u+qo.getNearText(s)+'".'));continue}let o=i[a-1],l=e[n+1];if(l instanceof Wt&&pt.distance(o,l)==1&&(l=this.wrapNumberInVariable(l)),o instanceof ue&&l instanceof ue&&pt.distance(o,l)==1){i.pop(),pt.mergeVarContentRight(":",s,l),pt.mergeVarRight(o,l),i.push(l),this.createdVariables.push(l),this.mergedVariablePaths.push(l),this.mergedComponents.set(s,l),this.mergedComponents.set(o,l),this.mergedComponents.set(l,l),n+=1;continue}else{i.push(s);continue}}else if(s instanceof At&&a>0){if(n+1>=r){i.push(s);continue}let o=i[a-1],l=e[n+1];if(o instanceof ue&&l instanceof ue&&pt.distance(o,s)<=1&&pt.distance(s,l)<=1){i.pop(),pt.mergeVarContentLeft(s.sourceTerminator+s.value+s.sourceTerminator,s,o),pt.mergeVarContentLeft(l.name,l,o),this.createdVariables.push(o),i.push(o),this.mergedVariablePaths.push(o),this.mergedComponents.set(s,o),this.mergedComponents.set(o,o),this.mergedComponents.set(l,o),n+=1;continue}else i.push(s)}else if(s instanceof Fi&&a>0){let o=i[a-1],l=e[n+1];if(o instanceof ue&&(l instanceof ue||l instanceof Nr)){let u=pt.distance(o,s),c=pt.distance(s,l);u<=1&&c<=1?(o.endPosition=l.endPosition,this.mergedComponents.set(s,o),this.mergedComponents.set(o,o),this.mergedComponents.set(l,o),n+=1):i.push(s)}else i.push(s)}else i.push(s)}return i.forEach(n=>{n instanceof ue&&(n.variableReference=this.pathParser.parse(n.name),n.mergeErrors(this.pathParser.getAntlersErrors()))}),i}convertVarNodeToOperator(e){let i=new nn;return i.content=e.name,i.startPosition=e.startPosition,i.endPosition=e.endPosition,i.originalAbstractNode=e,e.convertedToOperator=!0,this.createdLanguageOperators.push(i),i}convertOperatorToVarNode(e){let i=new ue;return i.startPosition=e.startPosition,i.endPosition=e.endPosition,i.content=e.content,i.name=e.content,i.originalAbstractNode=e,this.createdVariables.push(i),i}createLanguageOperators(e){let i=e.length;for(let r=0;r<i;r++){let n=e[r];if(n instanceof ue){if(n.name.includes(D.Punctuation_FullStop)){let s=n.name.split(D.Punctuation_FullStop);if(Nt.operators.includes(s[0])||Vo.deferredCoreLibraries.includes(s[0])){e[r]=this.convertVarNodeToOperator(n);continue}}if(Nt.operators.includes(n.name)){e[r]=this.convertVarNodeToOperator(n);continue}}if(n instanceof nn){if(r+1>=i){e[r]=this.convertOperatorToVarNode(n);continue}if(e[r+1]instanceof mi){e[r]=this.convertOperatorToVarNode(n);continue}}}return e}createLogicalGroups(e){let i=[],r=e.length,n=[];for(let a=0;a<r;a++){let o=e[a];if(o instanceof hi){let l=this.countTypeRight(e,a,hi);if(n.length==0&&e.length==l){o.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR,o,"Unexpected [T_LOGIC_INVERSE] while parsing input text."));continue}if(a>0&&n.length>0){let f=n[n.length-1];if(f instanceof Wt||f instanceof zt||f instanceof We){if(f instanceof We&&f.start instanceof hi){f.start.pushError(k.makeSyntaxError(I.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED,f.start,"[T_AOP_FACTORIAL] operand will always materialize boolean type."));continue}let d=new fs;d.startPosition=o.startPosition,d.endPosition=o.endPosition,d.content="!".repeat(l),d.originalAbstractNode=o,d.repeat=l,n.push(d),l>0&&(a+=l-1);continue}}if(l%2==0){a+=l-1;continue}let u=e[a+l];if(u instanceof Xt){let f=a+l+1;if(f>=r){u.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET,u,"Unexpected end of input while parsing input text."));continue}let d=this.findLogicalGroupEnd(e[a+l],e.slice(f));if(d.found){let p=d.logicalGroup,m=new We;m.start=o,m.end=p,m.nodes.push(o),m.nodes.push(p),m.startPosition=o.startPosition,m.endPosition=p.endPosition,n.push(m),a+=d.skipCount+l}continue}let c=this.resolveValueRight(e,a);c.value!=null&&n.push(c.value),a+=c.negationCount}else n.push(o)}let s=n.length;for(let a=0;a<s;a++){let o=n[a];if(o instanceof Xt){if(a+1>=s){o.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION,o,"Unexpected end of input while parsing input text."));continue}let l=this.findLogicalGroupEnd(o,n.slice(a+1));l.found&&l.logicalGroup!=null&&i.push(l.logicalGroup),a+=l.skipCount}else if(o instanceof fs){if(i.length==0){o.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS,o,"Unexpected [T_AOP_FACTORIAL] while parsing input text."));continue}let l=i[i.length-1];if(!(l instanceof We)&&!(l instanceof Wt)){o.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_FACTORIAL_OPERAND,o,"Unexpected left operand encountered for [T_AOP_FACTORIAL] while parsing input text."));continue}l=i.pop();let u=new We;u.startPosition=l.startPosition,u.endPosition=o.endPosition,u.originalAbstractNode=o,u.nodes.push(l),u.nodes.push(o),i.push(u)}else i.push(o)}return i}makeArgGroup(e){let i=new ro,r=e.length;for(let s=0;s<r;s++){let a=e[s];if(this.isOperand(a)==!1){a.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD,a,"Unexpected ["+z.getPrettyTypeName(a)+"] while parsing argument group."));continue}let o=null;if(s+1<r&&(o=e[s+1]),o==null||o instanceof kt){i.args.push(e[s]),s+=1;continue}else if(o instanceof Ft){if(s+2>=r){a.pushError(k.makeSyntaxError(I.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT,a,"Unexpected end of input while parsing named argument."));continue}let l=e[s+2],u=new fc;u.startPosition=a.startPosition,u.endPosition=l.endPosition,u.content=a.content+l.content,u.name=a,u.value=l,a instanceof ue||a.pushError(k.makeSyntaxError(I.TYPE_INVALID_NAMED_ARG_IDENTIFIER,a,"Invalid type ["+z.getPrettyTypeName(a)+"] supplied for named argument name.")),i.hasNamedArguments=!0,i.numberOfNamedArguments+=1,i.args.push(u),s+3<r&&e[s+3]instanceof kt?s+=3:s+=2;continue}}let n=!1;return i.args.forEach(s=>{s instanceof fc?n=!0:n&&s.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT,s,"Unnamed arguments are not allowed to appear after a named argument."))}),i}cleanVariableForMethodInvocation(e){(e.name.startsWith(":")||e.name.startsWith("."))&&(e.name=e.name.substr(1),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(1),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(1)),e.startPosition!=null&&(e.startPosition.offset+=1,e.startPosition.char+=1))}reduceVariableReferenceForObjectAccessor(e){var s;let i=(s=e.variableReference)==null?void 0:s.pathParts.pop(),r=i.name,n=r.length+1;return e.name=e.name.substr(0,-n),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(0,-n),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(0,-n),e.variableReference.pathParts[e.variableReference.pathParts.length-1].isFinal=!0),e.endPosition!=null&&(e.endPosition.offset-=n,e.endPosition.char-=n),{accessor:r,accessorLen:n}}associateMethodCalls(e){var n,s;let i=[],r=e.length;for(let a=0;a<r;a++){let o=e[a],l=null,u=null;if(i.length>0&&(l=i[i.length-1]),a+1<r&&(u=e[a+1]),o instanceof ue&&u instanceof We&&l!=null&&(this.isProperMethodChainTargetStrict(l)||l instanceof Ft)){let c=u,f=[];c.nodes.length>0&&(c.nodes[0]instanceof Gt?f=c.nodes[0].nodes:f=c.nodes);let d=new li;if(d.startPosition=o.startPosition,l instanceof Ft){let p=i.pop();d.startPosition=p.startPosition}this.cleanVariableForMethodInvocation(o),d.endPosition=c.endPosition,d.args=this.makeArgGroup(f),d.method=o,l.methodTarget=d,l instanceof ue&&l.mergeRefName.length>0&&(l.name=pt.getUnrefName(l.mergeRefName)),i.push(d),a+=1;continue}else if(o instanceof We&&l instanceof ue&&l.variableReference!=null&&l.variableReference.pathParts.length>=2){let c=[];if(o.nodes.length>0&&(o.nodes[0]instanceof Gt?c=o.nodes[0].nodes:c=o.nodes),l.variableReference.pathParts[0]instanceof ai&&Vo.deferredCoreLibraries.includes(l.variableReference.pathParts[0].name)){let _=i.pop(),P=new ds;P.startPosition=_.startPosition,P.endPosition=o.endPosition,P.content=_.content,P.originalAbstractNode=o;let T=((n=_.variableReference)==null?void 0:n.pathParts.shift()).name,y=(s=_.variableReference)==null?void 0:s.implodePaths();P.libraryName=T,P.methodName=y,P.arguments=this.makeArgGroup(c),i.push(P),a+=1;continue}let f=this.reduceVariableReferenceForObjectAccessor(l),d=new li;d.startPosition=o.startPosition,d.endPosition=o.endPosition,l.methodTarget=d,l instanceof ue&&l.mergeRefName.length>0&&(l.name=pt.getUnrefName(l.mergeRefName)),o.start!=null&&(o.start.isPartOfMethodChain=!0),o.end!=null&&(o.end.isPartOfMethodChain=!0);let p=new ue;p.name=f.accessor,p.isPartOfMethodChain=!0;let m=this.makeArgGroup(c);if(d.startPosition!=null&&(d.startPosition.offset-=f.accessorLen,d.startPosition.char-=f.accessorLen),d.method=p,d.args=m,K.isNumeric(l.name)){let _=i.pop();i.push(this.convertOperatorToVarNode(_))}i.push(d);continue}else if(o instanceof ue&&l instanceof li){if(this.cleanVariableForMethodInvocation(o),a+1>r){o.pushError(k.makeSyntaxError(I.TYPE_METHOD_CALL_MISSING_ARG_GROUP,o,"Unexpected end of input while parsing method call."));continue}let c=e[a+1];if(!(c instanceof We)){o.pushError(k.makeSyntaxError(I.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected ["+z.getPrettyTypeName(c)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let f=c,d=[];f.nodes.length>0&&(f.nodes[0]instanceof Gt?d=f.nodes[0].nodes:d=f.nodes);let p=new li;p.startPosition=o.startPosition,p.endPosition=f.endPosition,p.args=this.makeArgGroup(d),p.method=o,l.methodTarget=p,i.push(p),a+=1;continue}else if(o instanceof Ft&&l instanceof li){if(a+1>r){o.pushError(k.makeSyntaxError(I.TYPE_METHOD_CALL_MISSING_METHOD,o,"Unexpected end of input while parsing method call."));continue}let c=e[a+1];if(a+2>r){o.pushError(k.makeSyntaxError(I.TYPE_METHOD_CALL_MISSING_ARG_GROUP,o,"Unexpected end of input while parsing method call."));continue}let f=e[a+2];if(!(f instanceof We)){o.pushError(k.makeSyntaxError(I.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected ["+z.getPrettyTypeName(f)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let d=f,p=[];d.nodes.length>0&&(d.nodes[0]instanceof Gt?p=d.nodes[0].nodes:p=d.nodes);let m=new li;m.startPosition=o.startPosition,m.endPosition=f.endPosition,m.args=this.makeArgGroup(p),m.method=c,l.methodTarget=m,i.push(m),a+=2;continue}else if(o instanceof li){if(a+1>r){o.pushError(k.makeSyntaxError(I.TYPE_METHOD_CALL_MISSING_METHOD,o,"Unexpected end of input while parsing method call."));continue}let c=e[a+1];if(a+2>r){o.pushError(k.makeSyntaxError(I.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected end of input while parsing method call."));continue}let f=e[a+2];if(!(f instanceof We)){o.pushError(k.makeSyntaxError(I.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected ["+z.getPrettyTypeName(f)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let d=f,p=[];d.nodes.length>0&&(d.nodes[0]instanceof Gt?p=d.nodes[0].nodes:p=d.nodes);let m=this.makeArgGroup(p);if(l instanceof ue&&Vo.deferredCoreLibraries.includes(l.name)){let _=i.pop(),P=new ds;P.startPosition=_.startPosition,P.endPosition=d.endPosition,P.libraryName=_.name,P.methodName=c.name,P.content=P.libraryName+"->"+P.methodName,P.arguments=m,l.libraryTarget=P,i.push(P),a+=2;continue}o.method=c,o.args=m,i.length>0&&(i[i.length-1].methodTarget=o),a+=2,i.push(o);continue}else i.push(o)}return i}convertVariableToStringNode(e){let i=new At;return i.content=e.name,i.value=e.name,i.originalAbstractNode=e,i.startPosition=e.startPosition,i.endPosition=e.endPosition,i.index=e.index,i}createTupleLists(e){let i=e.length,r=[];for(let n=0;n<i;n++){let s=e[n];if(s instanceof Cr){if(s.isListGroupMember=!0,n+1>=i){s.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST,s,"Unexpected end of input while parsing tuple list."));continue}let a=e[n+1];if(!(a instanceof We)){a.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST,a,"Unexpected ["+z.getPrettyTypeName(a)+"] while parsing tuple list."));continue}let o=a;if(this.markAllNonVirtualAsListGroupMember([o]),this.retriggerNonVirtualGroupMembers.push([o]),o.nodes.length==0){o.pushError(k.makeSyntaxError(I.TYPE_MISSING_BODY_TUPLE_LIST,o,"Missing tuple list body while parsing tuple list."));continue}let u=o.nodes.shift(),c=u.nodes.length,f=[];for(let m=0;m<c;m++){let _=u.nodes[m];if(!(_ instanceof kt)){let P=!1;if(_ instanceof ue&&(_.variableReference==null&&(P=!0),_.variableReference!=null&&_.variableReference.pathParts.length>1&&(P=!0),_.name.trim().length==0&&(P=!0)),P||!(_ instanceof ue)){o.pushError(k.makeSyntaxError(I.TYPE_INVALID_TUPLE_LIST_NAME_TYPE,o,"Invalid ["+z.getPrettyTypeName(_)+"] name type found while parsing tuple list."));continue}let g=_;f.push(this.convertVariableToStringNode(g))}}let d=f.length;if(d==0){o.pushError(k.makeSyntaxError(I.TYPE_INVALID_MANIFESTED_NAME_GROUP,o,"Invalid Name expression produced an invalid name group while parsing tuple list."));continue}let p=new Wn;this.createdArrays.push(p),p.startPosition=s.startPosition,p.endPosition=s.endPosition,o.nodes.forEach(m=>{if(!(m instanceof Gt)){m.pushError(k.makeSyntaxError(I.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP,m,"Invalid ["+z.getPrettyTypeName(m)+"] name type found while parsing tuple list value expression."));return}let _=m,P=new Wn;this.createdArrays.push(P),P.startPosition=_.startPosition;let g=[];for(let T=0;T<c;T++){let y=_.nodes[T];if(typeof y=="undefined"||y==null)break;if(!(y instanceof kt)){if(this.isOperand(y)==!1){y.pushError(k.makeSyntaxError(I.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE,y,"Unexpected ["+z.getPrettyTypeName(y)+"]  while parsing tuple list value."));continue}g.push(y)}}for(let T=0;T<d&&!(T>g.length);T++){let y=g[T],A=new Ol;A.startPosition=y.startPosition,A.endPosition=y.endPosition,A.name=f[T],A.value=y,P.nodes.push(A),p.endPosition=y.endPosition,P.endPosition=y.endPosition}p.nodes.push(P)}),r.push(p),n+=1;continue}else r.push(s)}return e}makeOrderGroup(e){let i=[],r=e.length,n=0;for(let s=0;s<r;s++){let a=e[s],o=null;if(s+1<r&&(o=e[s+1]),s>0&&(o==null||o instanceof kt)){n+=1;let l=new xl;l.order=n,l.name=e[s-1],l.directionNode=a,this.isOperand(l.name)==!1&&l.name.pushError(k.makeSyntaxError(I.TYPE_INVALID_ORDER_BY_NAME_VALUE,l.name,"Invalid value or expression supplied for order by name.")),this.isOperand(l.directionNode)==!1&&l.directionNode.pushError(k.makeSyntaxError(I.TYPE_INVALID_ORDER_BY_SORT_VALUE,l.directionNode,"Invalid value or expression supplied for order by direction.")),l.startPosition=l.name.startPosition,l.endPosition=l.directionNode.endPosition,i.push(l),s+=1;continue}}return i}getValues(e){let i=new to,r=e.length,n=[];for(let s=0;s<r;s++){let a=e[s],o=null;if(s+1<r&&(o=e[s+1]),o==null||o instanceof kt){n.push(a),s+=1;continue}}return i.values=n,i}createLibraryInvocations(e){let i=[],r=e.length;for(let n=0;n<r;n++){let s=e[n];if(s instanceof nn)if(s.content.includes(".")){let a=s.content.split("."),o=a.shift(),l=a.join("."),u=new ds;if(u.startPosition=s.startPosition,u.endPosition=s.endPosition,u.content=s.content,u.libraryName=o,u.methodName=l,u.originalAbstractNode=s,n+1>=r){s.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP,s,"Unexpected end of input while parsing argument group."));continue}if(!(e[n+1]instanceof We)){s.pushError(k.makeSyntaxError(I.TYPE_EXPECTING_ARGUMENT_GROUP,s,"Unexpected token while parsing method call. Expecting [T_ARG_SEPARATOR] got ["+z.getPrettyTypeName(s)+"]."));continue}let c=e[n+1],f=null;if(c.nodes.length>0){let d=c.nodes[0];f=this.makeArgGroup(d.nodes)}f==null&&(f=new ro,f.startPosition=c.startPosition,f.endPosition=c.endPosition,f.originalAbstractNode=c),u.arguments=f,i.push(u),n+=1;continue}else if(s.content==Nt.ARR_ORDERBY){if(n+1>=r){s.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP,s,"Unexpected end of input while parsing order group."));continue}let a=e[n+1];if(!(a instanceof We)){a.pushError(k.makeSyntaxError(I.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND,a,"Unexpected ["+z.getPrettyTypeName(a)+"] while parsing order group."));continue}let l=a.nodes;l[0]instanceof Gt&&(l=l[0].nodes);let u=this.makeOrderGroup(l);u.length==0&&s.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP,s,"Unexpected empty [T_DIRECTION_GROUP]. Must have at least one order clause, and each property must have a direction specified."));let c=new ea;if(c.orderClauses=u,u.length>0){u[0].directionNode!=null&&(c.startPosition=u[0].directionNode.startPosition);let f=u[u.length-1].directionNode;f!=null&&(c.endPosition=f.endPosition)}i.push(s),i.push(c),n+=1;continue}else if(s.content==Nt.ARR_GROUPBY){if(n+1>=r){s.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY,s,"Unexpected end of input while parsing group by clause."));continue}let a=e[n+1];if(a instanceof Hn||a instanceof Rr){a.pushError(k.makeSyntaxError(I.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED,a,"Type ["+z.getPrettyTypeName(a)+"] must be enclosed with parenthesis to be used with groupby."));continue}if(!(a instanceof We)){a.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY,a,"Unexpected ["+z.getPrettyTypeName(a)+"] while parsing group by."));continue}let l=a.nodes;l[0]instanceof Gt&&(l=l[0].nodes);let u=this.getValues(l);if(i.push(s),i.push(u),n+2<r&&n+3<r){let c=e[n+2],f=e[n+3];if(pt.isVariableMatching(c,at.ScopeAs))if(f instanceof At){u.isNamedNode=!0,u.parsedName=f,n+=3;continue}else f.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE,f,"Expecting [T_STRING] for group by collection alias; got ["+z.getPrettyTypeName(f)+"]."))}n+=1;continue}else if(s.content==Nt.STRUCT_SWITCH){if(n+1>=r){s.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP,s,"Unexpected end of input while parsing [T_SWITCH_GROUP]."));continue}let a=e[n+1];if(!(a instanceof Rr)){a.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP,a,"Unexpected ["+z.getPrettyTypeName(a)+"] while parsing [T_SWITCH_GROUP]."));continue}let o=a;if(this.markAllNonVirtualAsSwitch([a]),o.scope==null||!(o.scope instanceof We)){o.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_SWITCH_START_VALUE,o,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let l=o.scope;if(l.nodes.length==0||!(l.nodes[0]instanceof Gt)){o.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,o,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let u=l.nodes[0];if(this.markAllNonVirtualAsSwitch([l]),u.nodes.length==0||!(u.nodes[0]instanceof We)){s.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}this.markAllNonVirtualAsSwitch([s]),this.markAllNonVirtualAsSwitch(u.nodes);let c=u.nodes;if(o.nodes.length==0&&s.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP].")),!(l.nodes[0]instanceof Gt)){s.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let d=l.nodes[0];this.markAllNonVirtualAsSwitch(d.nodes);let p=d.nodes,m=new ta,_=new We;_.nodes=c,_.startPosition=_.nodes[0].startPosition,_.endPosition=_.nodes[_.nodes.length-1].endPosition;let P=new io;P.condition=_;let g=new We;g.nodes.push(p.shift()),g.startPosition=g.nodes[0].startPosition,g.endPosition=g.nodes[g.nodes.length-1].endPosition,P.expression=g,P.startPosition=P.condition.startPosition,P.endPosition=P.expression.nodes[P.expression.nodes.length-1].endPosition,p.shift(),m.cases.push(P);let T=p.length;if(T>0){if(!(p[0]instanceof We)){s.pushError(k.makeSyntaxError(I.TYPE_PARSER_INVALID_SWITCH_TOKEN,s,"Invalid ["+z.getPrettyTypeName(p[0])+"] while parsing case statement."));continue}for(let y=0;y<T;y++){let A=p[y],N=null;if(A instanceof kt){A.isSwitchGroupMember=!0;continue}if(y+1<T&&(N=p[y+1]),N instanceof ki){N.isSwitchGroupMember=!0;let U=new io;U.condition=A,this.markAllNonVirtualAsSwitch([U.condition]);let V=new We;if(V.nodes.push(p[y+2]),V.startPosition=V.nodes[0].startPosition,V.endPosition=V.nodes[V.nodes.length-1].endPosition,U.expression=V,this.markAllNonVirtualAsSwitch([V]),U.startPosition=U.condition.startPosition,U.endPosition=U.expression.nodes[U.expression.nodes.length-1].endPosition,m.cases.push(U),y+3<T&&!(p[y+3]instanceof kt)){p[y+3].pushError(k.makeSyntaxError(I.TYPE_PARSER_INVALID_SWITCH_TOKEN,p[y+3],"Invalid ["+z.getPrettyTypeName(p[y+3])+"] while parsing case statement; expecting [T_ARG_SEPARATOR]."));continue}p[y+3].isSwitchGroupMember=!0,y+=2;continue}}}i.push(new vr),i.push(s),i.push(m),n+=1;continue}else if(s.content==Nt.ARR_MAKE){if(n+1>=r){s.pushError(k.makeSyntaxError(I.TYPE_ARR_MAKE_MISSING_TARGET,s,"Missing target variable for arr operator."));continue}let a=e[n+1];if(!(a instanceof We)){a.pushError(k.makeSyntaxError(I.TYPE_ARR_MAKE_UNEXPECTED_TYPE,a,"Unexpected ["+z.getPrettyTypeName(a)+"] while parsing array."));continue}let o=a instanceof Rr,l=a,u=l.nodes;if(u[0]instanceof Gt&&(u=u[0].nodes),o){let p=a;u.unshift(new ki),u.unshift(p.scope)}let c=this.getArrayValues(u),f=new Wn;f.startPosition=s.startPosition;let d=c.values.length;d>0?f.endPosition=c.values[d-1].endPosition:f.endPosition=s.endPosition,l.end!=null&&(f.endPosition=l.end.endPosition),f.nodes=c.values,this.createdArrays.push(f),i.push(f),n+=1}else i.push(s);else i.push(s)}return i}getArrayValues(e){let i=new to,r=e.length,n=[];for(let s=0;s<r;s++){let a=e[s];if(a instanceof kt){a.pushError(k.makeSyntaxError(I.TYPE_ARR_UNEXPECT_ARG_SEPARATOR,a,"Unexpected [T_ARG_SEPARATOR] while parsing array."));continue}if(a instanceof ki){if(s==0){a.pushError(k.makeSyntaxError(I.TYPE_ARR_KEY_PAIR_MISSING_KEY,a,"Missing key for key/value pair while parsing array."));continue}else if(e[s-1]instanceof kt){a.pushError(k.makeSyntaxError(I.TYPE_ARR_KEY_PAIR_MISSING_KEY,a,"Missing key for key/value pair while parsing array."));continue}}let o=null;if(s+1<r&&(o=e[s+1]),o instanceof ki){if(s+2>=r){o.pushError(k.makeSyntaxError(I.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE,o,"Missing key/pair value while parsing array."));continue}let l=e[s+2],u=new Ol;if(this.isValidArrayKeyNode(a)==!1){a.pushError(k.makeSyntaxError(I.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE,a,"Invalid ["+z.getPrettyTypeName(a)+"] type for key/value key."));continue}u.name=a,u.value=l,u.startPosition=a.startPosition,u.endPosition=l.endPosition,n.push(u),s+=3;continue}if(o==null||o instanceof kt){let l=new Ol;l.value=a,l.startPosition=a.startPosition,l.endPosition=a.endPosition,n.push(l),s+=1;continue}}return i.values=n,i}isValidArrayKeyNode(e){return e instanceof Wt||e instanceof At}associateModifiers(e){let i=[],r=e.length,n=null;for(let s=0;s<r;s++){let a=e[s];if(a instanceof Ni){let o=i.length;if(o==0){a.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_MODIFIER_SEPARATOR,a,"Unexpected [T_MODIFIER_SEPARATOR] while parsing input text."));continue}if(this.isRealModifierSeparator.set(a,!0),n=i[o-1],n.modifierChain==null&&(n.modifierChain=new wl,n.modifierChain.modifierTarget=n,this.createdModifierChains.push(n.modifierChain)),s+1>=r){a.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS,a,"Unexpected end of input while preparing to gather modifier details."));continue}let l=this.scanToEndOfModifier(e.slice(s+1)),u=l.length;if(u>1&&l[1]instanceof Ft){this.isRealModifierSeparator.set(l[1],!0);let f=l[0];f instanceof tr?l[0]=this.wrapArithmeticModifier(f,"add"):f instanceof Fi?l[0]=this.wrapArithmeticModifier(f,"subtract"):f instanceof ir?l[0]=this.wrapArithmeticModifier(f,"divide"):f instanceof rr?l[0]=this.wrapArithmeticModifier(f,"multiply"):f instanceof bn&&(l[0]=this.wrapArithmeticModifier(f,"mod"))}if(u==0){a.pushError(k.makeSyntaxError(I.TYPE_UNSET_MODIFIER_DETAILS,a,"Invalid or missing modifier details."));continue}if(!(l[0]instanceof Mt)){a.pushError(k.makeSyntaxError(I.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS,a,"Invalid ["+z.getPrettyTypeName(l[0])+"]; expecting [T_MODIFIER_NAME]"));continue}let c=this.createModifier(l);c.nameNode!=null&&this.modifierNameMapping.set(c.nameNode,c),s+=u,n.modifierChain.modifierChain.push(c),n.modifierChain.updateValues();continue}else i.push(a)}return i}createNullCoalescenceGroups(e){let i=[],r=e.length;for(let n=0;n<r;n++){let s=e[n];if(s instanceof Sr){let a=i.pop();if(n+1>=r){s.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP,s,"Unexpected end of input while parsing input text."));continue}let o=e[n+1],l=new Dl;l.left=a,l.right=o,i.push(l),n+=1;continue}else i.push(s)}return i}isOperand(e){return e instanceof ue||e instanceof We||e instanceof At||e instanceof Wt||e instanceof Hr||e instanceof vr||e instanceof Yr||e instanceof ds||e instanceof ea||e instanceof to||e instanceof ta||e instanceof Wn||e instanceof Cr}isProperMethodChainTargetStrict(e){return e instanceof We||e instanceof At||e instanceof Wt||e instanceof Hr||e instanceof vr||e instanceof Yr||e instanceof ds||e instanceof ea||e instanceof to||e instanceof ta||e instanceof Wn}assertOperandRight(e,i){if(i+1>e.length-1)return e[i].pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_END_OF_INPUT,e[i],"Unexpected end of input; expecting operand for operator "+z.getPrettyTypeName(e[i])+' near "'+qo.getNearText(e[i])+'".')),!1;let r=e[i+1];return this.isOperand(r)?!0:(r.pushError(k.makeSyntaxError(I.TYPE_EXPECTING_OPERAND,e[i],"Expecting operand, found "+z.getPrettyTypeName(r)+' near "'+qo.getNearText(e[i])+'".')),!1)}resolveValueRight(e,i){let r=null,n=0,s=null;if(e.length>0){let a=!0;for(;a;){let o=e[i];if(o instanceof hi){s=o,n+=1,i+=1,a=!1;continue}else if(this.isOperand(o)){r=o,a=!1;break}else{a=!1;break}}}if(n%2!=0){let a=new We;return a.nodes=[],s!=null&&r!=null&&(a.nodes.push(s),a.nodes.push(r)),{value:a,negationCount:n}}return{value:r,negationCount:n}}correctTypes(e){let i=[];return e.forEach(r=>{if(r instanceof Li){let n=new Ft;n.startPosition=r.startPosition,n.endPosition=r.endPosition,n.originalAbstractNode=r,i.push(n)}else if(r instanceof Qt){let n=new ue;n.name=r.value,n.startPosition=r.startPosition,n.endPosition=r.endPosition,n.modifierChain=r.modifierChain,n.originalAbstractNode=r,this.createdVariables.push(n),i.push(n)}else i.push(r)}),i}createTernaryGroups(e){var n,s,a,o;let i=[],r=e.length;for(let l=0;l<r;l++){let u=e[l];if(u instanceof sn){let c=this.seek(Ft,l+1);if(((n=c.node)==null?void 0:n.originalAbstractNode)!=null&&c.node.originalAbstractNode instanceof Li&&(c.node.originalAbstractNode.isTenaryBranchSeparator=!0),c.found==!1){u.pushError(k.makeSyntaxError(I.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR,u,"Unexpected end of input; expecting [T_BRANCH_SEPARATOR]."));continue}let f=this.collectUntil(i);i=f.tokens;let d=f.collectedTokens[0],p=(s=c.foundAt)!=null?s:0;if(p>=r){u.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP,u,"Unexpected end of input while parsing ternary group."));continue}let m=e.slice(l+1,p);if(m.length>1||m.length==0){u.pushError(k.makeSyntaxError(I.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH,u,"Unexpected number of operations within ternary truth branch."));continue}let _=m[0],P=((a=c.foundAt)!=null?a:0)+1;if(P>=r){u.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH,u,"Unexpected end of input while parsing ternary false execution branch."));continue}let g=e[P],T=new Fl;T.head=d,T.truthBranch=_,T.falseBranch=g,i.push(T),l=((o=c.foundAt)!=null?o:0)+1;continue}else i.push(u)}return i}groupNodesByType(e,i){let r=[],n=e.length;for(let s=0;s<n;s++){let a=e[s];if(s>0&&a instanceof i){let o=[],l=r.pop();if(o.push(l),!this.assertOperandRight(e,s))continue;if(s+1>=n){a.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,a,"Unexpected end of input while parsing input text."));continue}let u=e[s+1];typeof u!="undefined"&&(u.isVirtualGroupMember=!0),typeof l!="undefined"&&(l.isVirtualGroupMember=!0),a.isVirtualGroupMember=!0;let c=new We;c.nodes=o,c.nodes.push(a),c.nodes.push(u),s+=1,r.push(c);continue}else r.push(a)}return r}flagNodeAsOperatorResolve(e){if(e instanceof We){if(e.nodes.length==0)return;this.flagNodeAsOperatorResolve(e.nodes[e.nodes.length-1])}e.isVirtualGroupOperatorResolve=!0,e.next instanceof mi||(e.producesVirtualStatementTerminator=!0)}groupNodesByOperatorType(e){let i=[],r=e.length;for(let n=0;n<r;n++){let s=e[n];if(n>0&&qt.isOperatorType(s)){let a=[],o=i.pop();if(a.push(o),!this.assertOperandRight(e,n))continue;if(n+1>=r){s.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,s,"Unexpected end of input while parsing input text."));continue}let l=e[n+1];this.flagNodeAsOperatorResolve(l),qt.isAssignmentOperator(s)&&this.tracedAssignments.push(new gm(o,l,s)),typeof o!="undefined"&&(o.isVirtualGroupMember=!0),typeof l!="undefined"&&(l.isVirtualGroupMember=!0),s.isVirtualGroupMember=!0;let u=new We;u.nodes=a,u.nodes.push(s),u.nodes.push(l),n+=1,i.push(u);continue}else i.push(s)}return i}applyOperationOrder(e){return e=this.groupNodesByType(e,Tn),e=this.groupNodesByType(e,rr),e=this.groupNodesByType(e,ir),e=this.groupNodesByType(e,tr),e=this.groupNodesByType(e,Fi),e}createLogicGroupsToRemoveMethodInvocationAmbiguity(e){let i=[],r=e.length,n=r-1;for(let s=0;s<r;s++){let a=e[s];if(a instanceof li){let o=i.pop(),l=new We;if(l.startPosition=o.startPosition,typeof o!="undefined"&&(o.isVirtualGroupMember=!0),typeof a!="undefined"&&(a.isVirtualGroupMember=!0),l.nodes.push(o),l.nodes.push(a),s!=n)for(let u=s+1;u<r;u++)if(e[u]instanceof li){if(typeof e[u]=="undefined")continue;if(e[u].isVirtualGroupMember=!0,l.nodes.push(e[u]),u==n){u+=1;break}}else{if(u==n){u+=1;break}s=u-1;break}l.endPosition=l.nodes[l.nodes.length-1].endPosition,i.push(l)}else i.push(a)}return i}countTypeRight(e,i,r){let n=0;for(let s=i;s<e.length&&e[s]instanceof r;s++)n+=1;return n}createLogicGroupsToResolveOperatorAmbiguity(e){return e=this.groupNodesByType(e,Un),e=this.groupNodesByType(e,Ir),e=this.groupNodesByType(e,Jr),e=this.groupNodesByType(e,Qr),e=this.groupNodesByType(e,rn),e=this.groupNodesByType(e,Oi),e=this.groupNodesByType(e,en),e=this.groupNodesByType(e,Zr),e=this.groupNodesByType(e,tn),e=this.groupNodesByOperatorType(e),e}createModifier(e){let i=e.shift(),r=[],n=e.length;if(e.length>0&&e[0]instanceof We){let a=this.unpack(e[0].nodes),o=this.makeArgGroup(a),l=new eo;if(l.nameNode=i,l.methodStyleArguments=o,e.length>1)for(let u=1;u<n;u++)e[u].pushError(k.makeSyntaxError(I.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX,e[u],"Unexpected ["+z.getPrettyTypeName(e[u])+"] while parsing modifier argument group. Expecting [T_MODIFIER_SEPARATOR] or end of current expression."));return l}for(let a=0;a<n;a++)if(e[a]instanceof Li||e[a]instanceof Ft){if(a+1>=n)return e[a].pushError(k.makeSyntaxError(I.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST,e[a],"Unexpected end of modifier value list while parsing modifier.")),e;let o=e[a+1];if(this.isValidModifierValue(o)){if(o instanceof ue)if(o.variableReference!=null&&o.variableReference.pathParts.length>0)o.variableReference.pathParts.forEach(l=>{if(l instanceof ai){let u=new Qt;u.startPosition=l.startPosition,u.endPosition=l.endPosition,u.value=l.name,u.name=l.name,u.originalAbstractNode=l,u.endPosition==null&&u.startPosition==null&&(u.startPosition=o.startPosition,u.endPosition=o.endPosition),r.push(u)}});else{let l=new Qt;l.startPosition=o.startPosition,l.endPosition=o.endPosition,l.value=o.name,l.name=o.name,l.originalAbstractNode=o,r.push(l)}else r.push(o);a+=1;continue}else return o.pushError(k.makeSyntaxError(I.TYPE_MODIFIER_UNEXPECTED_VALUE,o,"Unexpected ["+z.getPrettyTypeName(o)+"] while parsing modifier value.")),e}let s=new eo;return s.nameNode=i,s.valueNodes=r,s.startPosition=s.nameNode.startPosition,s.valueNodes.length>0?s.endPosition=s.valueNodes[s.valueNodes.length-1].endPosition:s.endPosition=s.nameNode.endPosition,s}scanToEndOfModifier(e){let i=[],r=e.length;for(let n=0;n<r;n++){let s=e[n];if(s instanceof Li){let a=i.length;if(a==0){s.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE,s,"Unexpected end of input while parsing modifier value."));continue}this.isRealModifierSeparator.set(s,!0);let o=i[a-1];if(pt.distance(o,s)>1)break}if(s instanceof At||s instanceof ue||s instanceof Wt){let a=i.length;if(a>0&&i[a-1]instanceof We)break}if(s instanceof Ni||s instanceof zt||s instanceof Xt||s instanceof Oi||s instanceof Ir||s instanceof Un||s instanceof Qr||s instanceof Jr||s instanceof Zr||s instanceof en||s instanceof tn||s instanceof rn||s instanceof Pr||s instanceof Nr||s instanceof In||s instanceof Sr||s instanceof Pn||s instanceof nn||s instanceof ds||s instanceof li||s instanceof hi)break;i.push(s)}return i}static isAssignmentOperatorNode(e){return e instanceof Kr||e instanceof $r||e instanceof nr||e instanceof zr||e instanceof Xr||e instanceof Fi}insertAutomaticStatementSeparators(e){let i=e.length,r=[];for(let n=0;n<i;n++){let s=e[n];if(qt.isAssignmentOperatorNode(s))if(n+2<i)if(e[n+2]instanceof mi){r.push(s),r.push(e[n+1]),r.push(e[n+2]),n+=2;continue}else{r.push(s),r.push(e[n+1]),r.push(new mi),n+=1;continue}else{r.push(s),r.push(e[n+1]),r.push(new mi);break}else r.push(s)}return e}createSemanticGroups(e){let i=[],r=e.length,n=[];for(let s=0;s<r;s++)if(e[s]instanceof mi){let a=new Gt;a.nodes=n,a.separatorToken=e[s],i.push(a),n=[];continue}else if(n.push(e[s]),s+1>=r){let a=new Gt;a.nodes=n,i.push(a);break}return i}findLogicalGroupEnd(e,i){let r=[],n=i.length,s=null,a=0,o=0;for(o;o<n;o++){let c=i[o];if(a+=1,c instanceof zt){s=c;break}else if(c instanceof Xt){if(o+1>=n)return c.pushError(k.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END,c,"Unexpected end of input while parsing input text.")),{found:!1,logicalGroup:null,skipCount:a};let f=this.findLogicalGroupEnd(c,i.slice(o+1));if(f.found){f.logicalGroup!=null&&r.push(f.logicalGroup),a+=f.skipCount,o+=f.skipCount;continue}else continue}else r.push(c)}if(s==null)return e.pushError(k.makeSyntaxError(I.TYPE_LOGIC_GROUP_NO_END,e,"Unexpected end of input while parsing logic group.")),{found:!1,logicalGroup:null,skipCount:a};let l=new qt;l.setIsRoot(!1);let u=new We;if(r.length>=2&&r[1]instanceof ki){if(u=new Rr,u.scopeOperator=r[1],o+2<n&&i[o+1]instanceof ue&&i[o+2]instanceof At&&i[o+1].name==at.ScopeAs){let d=i[o+2];u=new Hn,u instanceof Hn&&(u.alias=d),a+=2}let c=r.splice(0,2);(u instanceof Rr||u instanceof Hn)&&(u.scope=c[0])}return u.nodes=l.parse(r),u.start=e,u.end=s,u.startPosition=e.startPosition,u.endPosition=s.endPosition,u instanceof Hn&&u.alias!=null&&(u.endPosition=u.alias.endPosition),{found:!0,logicalGroup:u,skipCount:a}}unpack(e){if(e.length==0)return[];if(e[0]instanceof Gt){let i=e[0];return this.unpack(i.nodes)}return e}collectUntil(e){let i=e.length,r=[];for(let n=i-1;n>=0&&!qt.isAssignmentOperator(e[n]);n--){let s=e.pop();r.push(s)}if(r=r.reverse(),r.length>=3){let n=new qt;return n.setIsRoot(!1),{collectedTokens:this.unpack(n.parse(r)),tokens:e}}return{collectedTokens:r,tokens:e}}seek(e,i){for(let r=i;r<this.tokens.length;r++)if(this.tokens[r]instanceof e)return{found:!0,foundAt:r,node:this.tokens[r]};return{found:!1,foundAt:null,node:null}}};var $n=class{static findRightBeighboringNextPunctuation(e,i,r=4){i=i.replace("	"," ".repeat(r));let n=!1;for(let s=e+1;s<i.length;s++){let a=i[s];if(K.ctypeSpace(a)&&(n=!0),n&&(K.ctypeAlpha(a)||K.ctypeDigit(a)))return null;if(K.ctypePunct(a)||a==D.String_Terminator_SingleQuote||a==D.String_Terminator_DoubleQuote)return a}return null}static findRightNeighboringNextAlphaNumeric(e,i,r=4){i=i.replace("	"," ".repeat(r));let n=!1;for(let s=e+1;s<i.length;s++){let a=i[s];if((K.ctypeSpace(a)||K.ctypePunct(a)&&a!=D.Punctuation_Underscore)&&(n=!0),n&&(K.ctypeAlpha(a)||K.ctypeDigit(a)))return s+1}return null}static findLeftNeighboringNextPunctuation(e,i,r=4){i=i.replace("	"," ".repeat(r));let n=!1;for(let s=e-2;s>=0;s--){let a=i[s];if(K.ctypeSpace(a)&&(n=!0),n&&(K.ctypeAlpha(a)||K.ctypeDigit(a)))return null;if(K.ctypePunct(a))return a}return null}static findLeftNeighboringNextAlphaNumeric(e,i,r=4){i=i.replace("	"," ".repeat(r));let n=!1;for(let s=e-1;s>=0;s--){let a=i[s];if((K.ctypeSpace(a)||K.ctypePunct(a)&&a!=D.Punctuation_Underscore)&&(n=!0),n&&(K.ctypeAlpha(a)||K.ctypeDigit(a)))return s+1}return null}static scanWordAt(e,i,r=4){if(i=i.replace("	"," ".repeat(r)),e<0||e>i.length)return null;let n=[],s=[];for(let a=e-1;a>=0;a--){let o=i[a];if(K.ctypePunct(o)&&o!=D.Punctuation_Underscore||K.ctypeSpace(o))break;n.push(o)}for(let a=e;a<i.length;a++){let o=i[a];if(K.ctypePunct(o)&&o!=D.Punctuation_Underscore||K.ctypeSpace(o))break;s.push(o)}return n.reverse().join("")+s.join("")}};var ch=class{constructor(e){this.parser=e}findParentWithName(e,i){let r=i.parent;for(;r!=null;){if(r instanceof G&&r.nameMatches(e))return r;if(r.parent==r)break;r=r.parent}return null}};var fh=class{static analyzeModifierNodeParameters(e){var r,n,s,a;if(e.parameters.forEach(o=>{var l,u,c,f;o.isModifierParameter=(u=(l=je.instance)==null?void 0:l.hasModifier(o.name))!=null?u:!1,o.isModifierParameter&&(e.modifiers.parameterModifiers.push(o),o.modifier=(f=(c=je.instance)==null?void 0:c.getModifier(o.name))!=null?f:null,e.modifiers.modifierNames.includes(o.name)==!1&&e.modifiers.modifierNames.push(o.name))}),e.modifierChain!=null&&e.modifierChain.modifierChain.length>0){let o=null;e.modifierChain.modifierChain.forEach(l=>{var u,c;l.nameNode!=null&&(l.modifier=(c=(u=je.instance)==null?void 0:u.getModifier(l.nameNode.content))!=null?c:null,e.modifiers.modifierNames.includes(l.nameNode.content)==!1&&e.modifiers.modifierNames.push(l.nameNode.content),l.modifier!=null&&(o=l.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=l)))}),e.modifierChain.lastModifier=o,e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}e.runtimeNodes.length>0&&e.runtimeNodes.forEach(o=>{if(o.modifierChain!=null&&o.modifierChain.modifierChain.length>0){let l=null;o.modifierChain.modifierChain.forEach(u=>{var c,f;u.nameNode!=null&&(u.modifier=(f=(c=je.instance)==null?void 0:c.getModifier(u.nameNode.content))!=null?f:null,e.modifiers.modifierNames.includes(u.nameNode.content)==!1&&e.modifiers.modifierNames.push(u.nameNode.content),u.modifier!=null&&(l=u.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=u)))}),e.modifierChain!=null&&(e.modifierChain.lastModifier=l),e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}});let i=e.modifiers.getLastManifestedModifier();if(i!=null)if(i.name=="macro"){let o=e.modifiers.getLastManifestedModifierValue();e.manifestType=(n=(r=je.instance)==null?void 0:r.getMacroManifestingType(o))!=null?n:""}else e.manifestType=(a=(s=je.instance)==null?void 0:s.getProbableReturnType(i,e.isPaired()))!=null?a:""}};function dh(t){return t==null?!1:t=='"'||t=="'"}function PP(t,e){for(t.getCurrentIndex();t.getCurrentIndex()<t.inputLength()&&(t.checkCurrentOffsets(),e&&t.pushChar(t.getCurrent()),t.getCurrent()!=D.NewLine);t.incrementIndex());}function NP(t,e){for(t.getCurrentIndex();t.getCurrentIndex()<t.inputLength();t.incrementIndex())if(t.checkCurrentOffsets(),e&&t.pushChar(t.getCurrent()),t.getCurrent()==D.Punctuation_Asterisk&&t.getNext()==D.Punctuation_ForwardSlash){e&&t.pushChar(D.Punctuation_ForwardSlash),t.incrementIndex(),t.checkCurrentOffsets();break}}function ph(t){let e=t.getCurrent();for(t.incrementIndex(),t.getCurrentIndex();t.getCurrentIndex()<t.inputLength()&&(t.checkCurrentOffsets(),!(t.getCurrent()==e&&t.getPrev()!=D.String_EscapeCharacter));t.incrementIndex());}var mh=class{constructor(){this.content="";this.nodeIndex=[];this.fragmentStartIndex=[];this.charLen=0;this.documentOffsets=new Map;this.inputLen=0;this.seedOffset=0;this.shiftLine=0;this.chars=[];this.currentIndex=0;this.lastDocumentOffsetKey=null;this.cur=null;this.next=null;this.prev=null;this.chunkSize=5;this.currentChunkOffset=0;this.fragments=[];this.isScript=!1;this.fragmentOpeningIndex=new Map;this.indexedFragments=new Map;this.embeddedIndexedFragments=new Map}updateIndex(e){this.currentIndex=e}inputLength(){return this.inputLen}incrementIndex(){this.currentIndex+=1}getCurrentIndex(){return this.currentIndex}getCurrent(){return this.cur}getNext(){return this.next}getPrev(){return this.prev}pushChar(e){}getChar(e){return this.chars[e]}getSeedOffset(){return this.seedOffset}setDocumentOffsets(e,i){return this.documentOffsets=e,this.lastDocumentOffsetKey=i,this}getClosingFragmentAfter(e){if(typeof e=="undefined")return null;let i=e.name.toLowerCase();for(let r=0;r<this.fragments.length;r++){let n=this.fragments[r];if(n.isClosingFragment&&!n.isSelfClosing&&n.name.toLowerCase()==i&&n.index>e.index)return n}return null}getContentSubstring(e,i){return this.content.substr(e,i)}resetState(){return this.fragments=[],this.inputLen=0,this.fragmentStartIndex=[],this.fragmentOpeningIndex.clear(),this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.seedOffset=0,this.cur=null,this.next=null,this.prev=null}positionFromOffset(e,i,r=!1){let n=0,s=0;if(this.documentOffsets.has(e)){let o=this.documentOffsets.get(e);n=o.line,s=o.char}else if(this.documentOffsets.size==0)n=1,s=e+1;else{let o=null,l=null,u=null,c=null;for(let f of this.documentOffsets.keys()){if(f>=e){c!=null&&e>c?(o=u,l=c):(o=this.documentOffsets.get(f),l=f);break}u=this.documentOffsets.get(f),c=f}o==null&&(o=u,l=c),o!=null?(s=e-(l!=null?l:0),n=o.line,e<=(l!=null?l:0)?(n=o.line,s=e+1):n=o.line+1):this.lastDocumentOffsetKey!=null&&(n=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new $t;return a.index=i,a.offset=e,a.line=n+this.shiftLine,a.char=s,a}getFragments(){return this.fragments}getFragmentsBetween(e,i){let r=[];return this.fragments.forEach(n=>{var o,l,u,c;let s=(l=(o=n.startPosition)==null?void 0:o.index)!=null?l:0,a=(c=(u=n.endPosition)==null?void 0:u.index)!=null?c:0;s>e&&a<i&&r.push(n)}),r}getFragmentContaining(e){var i,r,n,s;for(let a=0;a<this.fragments.length;a++){let o=this.fragments[a];if(((r=(i=o.startPosition)==null?void 0:i.index)!=null?r:0)<e.index&&((s=(n=o.endPosition)==null?void 0:n.index)!=null?s:0)>e.index)return o}return null}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let i=K.split(K.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),i.forEach(r=>{this.chars.push(r),this.charLen+=1})}e&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}}processInputText(e){this.content=e,this.inputLen=this.content.length;let i=[...this.content.matchAll(/(<(?!\?[php|?=]))/gm)],r=[];i.forEach(n=>{var a;let s=(a=n.index)!=null?a:0;for(let o=0;o<this.nodeIndex.length;o++){let l=this.nodeIndex[o];if(s>=l.start&&s<=l.end)return}r.push(s)}),this.fragmentStartIndex=r}setIndexRanges(e){return this.nodeIndex=e,this}fetchAt(e,i){return this.content.substr(e,i)}getFragmentsContainingStructures(){let e=[];return this.fragments.forEach(i=>{let r=i.name.toLowerCase();if(!(r!="script"&&r!="style")&&!i.isClosingFragment&&!i.isSelfClosing&&i.containsStructures){let n=this.getClosingFragmentAfter(i);n!=null&&e.push({start:i,end:n})}}),e}parse(e){if(this.resetState().processInputText(e),this.fragmentStartIndex.length==0)return[];for(let s=0;s<this.fragmentStartIndex.length;s++){let a=this.fragmentStartIndex[s];if(this.resetIntermediateState(),this.seedOffset=a,this.currentChunkOffset=a,this.parseIntermediateText(),this.isScript){let o=!1;for(let l=s+1;l<this.fragmentStartIndex.length;l++){let u=this.fragmentStartIndex[l];if(this.fetchAt(u,8).toLowerCase()=="<\/script"){s=l-1,this.isScript=!1,o=!0;break}}if(!o)break}}let r=0,n=0;return this.fragments.forEach(s=>{let a=s.name.toLowerCase();(a=="script"||a=="style")&&(s.embeddedIndex=n,this.embeddedIndexedFragments.set(n,s),n+=1),s.index=r,this.indexedFragments.set(r,s),r+=1}),this.fragments}getFragment(e){return this.indexedFragments.get(e)}getEmbeddedFragment(e){return this.embeddedIndexedFragments.has(e)?this.embeddedIndexedFragments.get(e):null}hasFragments(){return this.fragments.length>0}skipToEndOfPhp(){for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),dh(this.cur)&&ph(this),this.cur==D.Punctuation_ForwardSlash&&this.next==D.Punctuation_ForwardSlash){PP(this,!0);continue}if(this.cur==D.Punctuation_ForwardSlash&&this.next==D.Punctuation_Asterisk){NP(this,!0);continue}if(this.cur==D.Punctuation_Question&&this.next==D.Punctuation_GreaterThan||this.next==null)break}}parseIntermediateText(){this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length;let e=this.currentIndex,i=[],r=[],n=!1,s=!1;for(this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),K.ctypeSpace(this.cur)&&(n=!0),this.next==D.Punctuation_LessThan){let a=1;this.cur==D.Punctuation_ForwardSlash&&(a=2);let o=this.fetchAt(this.currentChunkOffset+a,5);if(o.toLowerCase()=="<?php"||o.startsWith("<?=")){this.skipToEndOfPhp();continue}}if(this.currentIndex>0&&this.cur==D.Punctuation_LessThan||this.next==null&&this.cur!=D.Punctuation_GreaterThan)break;if(!n&&this.cur==D.Punctuation_LessThan&&this.next==D.Punctuation_ForwardSlash&&(s=!0),!n&&this.cur!=D.Punctuation_LessThan&&this.cur!=D.Punctuation_ForwardSlash&&this.cur!=D.Punctuation_GreaterThan&&r.push(this.cur),dh(this.cur)){let a=this.currentIndex;ph(this);let o=new um;o.startPosition=this.positionFromOffset(a+this.seedOffset,a+this.seedOffset),o.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset);let l=a+this.seedOffset,u=this.currentIndex+this.seedOffset+1;o.content=this.content.substr(l,u-l);let c=[];for(let f=a-2;f>=0;f--){let d=this.chars[f];if(K.ctypeSpace(d))break;c.push(d)}o.name=c.reverse().join(""),i.push(o);continue}if(this.cur==D.Punctuation_ForwardSlash&&this.next==D.Punctuation_GreaterThan){let a=new cc;a.startPosition=this.positionFromOffset(e+this.seedOffset,e+this.seedOffset),a.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset+1,this.currentIndex+this.seedOffset+1),a.parameters=i,a.isSelfClosing=!0,a.name=r.join(""),a.isClosingFragment=s,this.fragments.push(a),s?this.fragmentOpeningIndex.set(a.startPosition.index+1,1):this.fragmentOpeningIndex.set(a.startPosition.index,1);break}if(this.cur==D.Punctuation_GreaterThan){let a=new cc;a.startPosition=this.positionFromOffset(e+this.seedOffset,e+this.seedOffset),a.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),a.parameters=i,a.name=r.join(""),a.isClosingFragment=s,this.fragments.push(a),s?this.fragmentOpeningIndex.set(a.startPosition.index+1,1):this.fragmentOpeningIndex.set(a.startPosition.index,1),a.name.toLowerCase()=="script"&&a.isClosingFragment==!1&&(this.isScript=!0);break}}}};var hh=class{constructor(e,i){this.documentParser=e,this.fragmentsParser=i}doesContainFragments(e){var n,s,a,o,l;let i=(s=(n=e.endPosition)==null?void 0:n.index)!=null?s:0,r=(l=(o=(a=e.isClosedBy)==null?void 0:a.startPosition)==null?void 0:o.index)!=null?l:0;return this.fragmentsParser.getFragmentsBetween(i,r).length>0}analyze(){let e=this.documentParser.getNodes();!this.fragmentsParser.hasFragments()||(this.fragmentsParser.getFragments().forEach(i=>{let r=i.name.toLowerCase();if(i.isClosingFragment==!1&&i.isSelfClosing==!1&&(r=="script"||r=="style")){let n=this.fragmentsParser.getClosingFragmentAfter(i);if(n==null)return;i.endPosition!=null&&n.startPosition!=null&&this.documentParser.getNodesBetween(i.endPosition,n.startPosition).forEach(a=>{(a instanceof st||a instanceof G&&a.isClosedBy!=null)&&(i.containsStructures=!0),r=="style"?a.isInStyleTag=!0:a.isInScriptTag=!0})}}),e.forEach(i=>{var a,o,l,u,c,f;if(i instanceof Qe||i.startPosition==null)return;i instanceof G&&(oi.isConditionalStructure(i)||!i.isClosingTag)&&i.isClosedBy!=null&&(i.containsAnyFragments=this.doesContainFragments(i));let r=this.fragmentsParser.getFragmentContaining(i.startPosition);if(r==null){i.fragmentPosition=3;return}if(i.fragment=r,i.startPosition.index-((o=(a=r.startPosition)==null?void 0:a.index)!=null?o:0)<=3){i.fragmentPosition=0;return}if(r.parameters.length==0){i.fragmentPosition=2;return}let s=!1;for(let d=0;d<r.parameters.length;d++){let p=r.parameters[d];if(((u=(l=p.startPosition)==null?void 0:l.index)!=null?u:0)<i.startPosition.index&&((f=(c=p.endPosition)==null?void 0:c.index)!=null?f:0)>i.startPosition.index){i.fragmentPosition=1,i.fragmentParameter=p,s=!0;break}}s||(i.fragmentPosition=2)}))}};var gh=class{static analyze(e){e.forEach(i=>{var r,n,s,a,o,l;if(i instanceof G){if(i.prev instanceof G&&i.isPaired()&&i.prev.isInlineAntlers==!0){i.isInlineAntlers=!1,i.isClosedBy!=null&&(i.isClosedBy.isInlineAntlers=!1);return}let u=!1,c=!1;if(i.next==null)u=!0;else if(i.next instanceof Qe){let f=K.getFirstLine(i.next.content);(i.next.next==null&&f.trim().length==0||K.trimLeft(f," 	").startsWith(`
`)==!1&&f.trim().length>0||i.next.next instanceof pi||i.next.next instanceof G&&(i.next.next.isPaired()==!1||((n=(r=i.next.next.startPosition)==null?void 0:r.line)!=null?n:0)!=((a=(s=i.startPosition)==null?void 0:s.line)!=null?a:0)))&&(u=!0)}else i.next instanceof G&&i.next.isPaired()&&(u=!0);if(i.prev==null)c=!0;else if(i.prev instanceof Qe){let f=K.getLastLine(i.prev.content);K.trimRight(f," 	").endsWith(`
`)==!1&&f.trim().length>0||i.prev.prev instanceof pi?c=!0:i.prev.prev instanceof G&&(i.prev.prev.isInlineAntlers&&((o=i.prev.prev.endPosition)==null?void 0:o.line)==((l=i.startPosition)==null?void 0:l.line)?c=!0:i.prev.prev.isClosingTag&&i.prev.prev.isOpenedBy!=null&&(i.prev.prev.isOpenedBy instanceof pi||i.prev.prev.runtimeName()=="noparse")&&(i.prev.prev.isInlineAntlers=!0,c=!0))}else i.prev instanceof G&&i.prev.isPaired()&&(c=!0);i.isInlineAntlers=u&&c}})}};var Be=class{constructor(){this.interpolationRegions=new Map;this.nodeParser=new ah;this.chars=[];this.charLen=0;this.lastAntlersNode=null;this.content="";this.originalContent="";this.currentIndex=0;this.currentContent=[];this.sourceContent=[];this.startIndex=0;this._recoveryStartIndex=0;this.cur=null;this.next=null;this.prev=null;this.nodes=[];this.renderNodes=[];this.isInterpolatedParser=!1;this.inputLen=0;this.documentOffsets=new Map;this.lineIndex=new Map;this.lastDocumentOffsetKey=null;this.isDoubleBrace=!1;this.interpolationEndOffsets=new Map;this.isScanningInterpolations=!1;this.seedStartLine=1;this.seedStartchar=1;this.frontMatterEndLine=-1;this.lastAntlersEndIndex=-1;this.seedOffset=0;this.antlersStartIndex=[];this.antlersStartPositionIndex=new Map;this.chunkSize=5;this.maxLine=1;this.currentChunkOffset=0;this.isNoParse=!1;this.antlersErrors=[];this.structureErrors=[];this.languageParser=new qt;this.documentPath=null;this.pushedErrors=new Map;this.frontMatter="";this.shiftLine=0;this.doesHaveUncloseIfStructures=!1;this.doesHaveUnclosedStructures=!1;this.parseChildDocuments=!1;this.structuralErrorCodes=[I.TYPE_PARSE_UNCLOSED_CONDITIONAL,I.TYPE_PARSE_UNPAIRED_CONDITIONAL,I.TYPE_RECURSIVE_UNPAIRED_NODE,I.TYPE_RUNTIME_FATAL_UNPAIRED_LOOP_END,I.TYPE_UNPAIRED_CLOSING_TAG];this.structure=new ch(this);this.fragmentsParser=new mh,this.fragmentsAnalyzer=new hh(this,this.fragmentsParser)}withChildDocuments(e){return this.parseChildDocuments=e,this}shouldParseChildDocument(){return this.parseChildDocuments}hasUnclosedIfStructures(){return this.doesHaveUncloseIfStructures}hasUnclosedStructures(){return this.doesHaveUnclosedStructures}getFrontMatter(){return this.frontMatter}setDocumentPath(e){this.documentPath=e}getFrontMatterEndLine(){return this.frontMatterEndLine}pushError(e){(e.errorCode==I.TYPE_PARSE_UNCLOSED_CONDITIONAL||e.errorCode==I.TYPE_PARSE_UNPAIRED_CONDITIONAL)&&(this.doesHaveUncloseIfStructures=!0);let i=e.hash();this.pushedErrors.has(i)||(this.pushedErrors.set(i,e),this.antlersErrors.push(e),this.structuralErrorCodes.includes(e.errorCode)&&this.structureErrors.push(e))}getInterpolationRegions(){return this.interpolationRegions}getDocumentPath(){return this.documentPath}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let i=K.split(K.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),i.forEach(r=>{this.chars.push(r),this.charLen+=1})}e&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}}charLeftAt(e){return e==null||e.char<=1?null:this.charAt(this.positionFromCursor(e.line,e.char-1))}charLeftAtCursor(e,i){return this.charLeftAt(this.positionFromCursor(e,i))}charRightAt(e){return e==null?null:this.charAt(this.positionFromCursor(e.line,e.char+1))}charRightAtCursor(e,i){return this.charRightAt(this.positionFromCursor(e,i))}punctuationLeftAt(e,i=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:$n.findLeftNeighboringNextPunctuation(e.char,r,i)}punctuationLeftAtCursor(e,i,r=4){return this.punctuationLeftAt(this.positionFromCursor(e,i),r)}punctuationRightAt(e,i=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:$n.findRightBeighboringNextPunctuation(e.char,r,i)}punctuationRightAtCursor(e,i,r=4){return this.punctuationRightAt(this.positionFromCursor(e,i),r)}wordRightAt(e,i=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let n=$n.findRightNeighboringNextAlphaNumeric(e.char,r,i);return n==null?null:$n.scanWordAt(n,r,i)}wordRightAtCursor(e,i,r=4){return this.wordRightAt(this.positionFromCursor(e,i),r)}wordLeftAt(e,i=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let n=$n.findLeftNeighboringNextAlphaNumeric(e.char,r,i);return n==null?null:$n.scanWordAt(n,r,i)}wordLeftAtCursor(e,i,r=4){return this.wordLeftAt(this.positionFromCursor(e,i),r)}wordAt(e,i=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:$n.scanWordAt(e.char,r,i)}getLineText(e){let i=this.getLineIndex(e);return i!=null?K.trimRight(this.getContent().substring(i.start,i.end+1)):null}wordAtCursor(e,i,r=4){return this.wordAt(this.positionFromCursor(e,i),r)}charAt(e){return e==null?null:this.content.substr(e.offset,1)}getLinesAround(e){var s;let i=new Map,r=e-3,n=e+3;r<1&&(r=1),n>this.maxLine&&(n=this.maxLine);for(let a=r;a<=n;a++)i.set(a,(s=this.getLineText(a))!=null?s:"");return i}charAtCursor(e,i){return this.charAt(this.positionFromCursor(e,i))}getLineIndex(e){if(e==this.maxLine){let r=this.lineIndex.get(e-1);if(r!=null){let n=r.endIndex+1;return{end:this.inputLen-1,start:n}}return null}let i=this.lineIndex.get(e);return i!=null?{start:i.startIndex,end:i.endIndex}:null}positionFromCursor(e,i){if(e==this.maxLine){let n=this.lineIndex.get(e-1);if(n!=null){let s=n.endIndex+1,a=s+(i-1),o=new $t;return o.offset=a,o.line=e,o.char=i,o.index=a,o}return null}let r=this.lineIndex.get(e);if(r!=null){let n=new $t;return n.offset=r.startIndex+(i-1),n.line=r.line,n.char=i,n.index=r.startIndex+(i-1),n}return null}parse(e){var u,c,f,d,p,m,_,P,g,T;if(this.resetState(),!this.processInputText(e))return[];let i=this.antlersStartIndex.length,r=i-1;if(i==0&&!this.isNoParse){let y=new Qe;y.withParser(this),y.content=this.prepareLiteralContent(this.content),y.startPosition=this.positionFromOffset(0,0),y.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1),y.sourceContent=this.content,this.nodes.push(y)}else for(let y=0;y<i;y+=1){let A=this.antlersStartIndex[y];if(this.seedOffset=A,y==0&&A>0&&!this.isNoParse){let U=new Qe;if(U.withParser(this),U.content=this.prepareLiteralContent(this.content.substr(0,A)),U.content.length>0){U.startPosition=this.positionFromOffset(0,0),U.endPosition=this.positionFromOffset(A,A-1);let V=(u=U.startPosition.index)!=null?u:0,w=U.endPosition.index+1;U.sourceContent=this.content.substr(V,w-V),this.nodes.push(U)}}if(A<this.lastAntlersEndIndex)continue;if(this.currentChunkOffset=A,this.resetIntermediateState(),this.parseIntermediateText(),this.lastAntlersNode!=null&&!(this.lastAntlersNode instanceof Js)&&this.lastAntlersNode.isComment&&!(this.lastAntlersNode instanceof El)&&y+1<i){let U=this.antlersStartPositionIndex.get(y+1);if(this.lastAntlersNode.endPosition!=null&&U<this.lastAntlersNode.endPosition.offset){let V=null;for(let w=y+1;w<i;w++)if(this.antlersStartIndex[w]>this.lastAntlersNode.endPosition.offset){V=w;break}if(V==null){let w=this.prepareLiteralContent(this.content.substr(this.lastAntlersNode.endPosition.offset+1));if(w.length>0&&!this.isNoParse){let $=new Qe;$.withParser(this),$.content=w;let le=this.lastAntlersNode.endPosition.offset+1;$.startPosition=this.positionFromOffset(le,le),$.endPosition=this.positionFromOffset(this.inputLen,this.inputLen);let j=(c=$.startPosition.index)!=null?c:0,Z=$.endPosition.index+1;$.sourceContent=this.content.substr(j,Z-j),this.nodes.push($)}break}else{let w=this.antlersStartIndex[V],$=w-this.lastAntlersNode.endPosition.offset-1;if($>0){let le=this.lastAntlersNode.endPosition.offset,j=w-1;le+=1,j-=1;let Z=this.content.substr(le,$);if(Z.length>0&&!this.isNoParse){let ce=new Qe;ce.withParser(this),ce.content=Z,ce.startPosition=this.positionFromOffset(le,le),ce.endPosition=this.positionFromOffset(j,j);let se=(f=ce.startPosition.index)!=null?f:0,X=ce.endPosition.index+1;ce.sourceContent=this.content.substr(se,X-se),this.nodes.push(ce)}continue}y=V-1;continue}}}let N=!1;if(this.antlersStartPositionIndex.has(this.currentChunkOffset)?this.lastAntlersEndIndex<this.currentChunkOffset&&(N=!0):N=!0,N){if(y+1<i){let U=this.antlersStartIndex[y+1],V=this.lastAntlersEndIndex+1;if(U<V)if(this.lastAntlersEndIndex>U)y+2<i&&(U=this.antlersStartIndex[y+2]);else continue;if(y+1==r&&U<=this.lastAntlersEndIndex){if(this.isNoParse)break;let w=this.currentChunkOffset,$=this.content.substr(V),le=new Qe;if(le.withParser(this),le.content=this.prepareLiteralContent($),le.content.length>0){le.startPosition=this.positionFromOffset(w,w),le.endPosition=this.positionFromOffset(U,U-1);let j=(d=le.startPosition.index)!=null?d:0,Z=le.endPosition.index+1;le.sourceContent=this.content.substr(j+2,this.inputLen-j+2),this.nodes.push(le)}break}else{let w=U-this.lastAntlersEndIndex-1;if(w==0||this.isNoParse)continue;let le=this.currentChunkOffset;this.lastAntlersNode instanceof El&&(V=((m=(p=this.lastAntlersNode.endPosition)==null?void 0:p.offset)!=null?m:0)+1,w-=((P=(_=this.lastAntlersNode.endPosition)==null?void 0:_.offset)!=null?P:0)+1,le=V),this.lastAntlersNode instanceof Js&&(V-=1,w+=1);let j=this.content.substr(V,w),Z=new Qe;if(Z.withParser(this),Z.content=this.prepareLiteralContent(j),Z.content.length>0){Z.startPosition=this.positionFromOffset(V,V),Z.endPosition=this.positionFromOffset(U,U-1);let ce=(g=Z.startPosition.index)!=null?g:0,se=Z.endPosition.index+1;Z.sourceContent=this.content.substr(ce,se-ce),this.nodes.push(Z)}}continue}if(y!==r&&this.lastAntlersNode!=null&&this.lastAntlersNode.endPosition!=null&&this.positionFromOffset(A,A).isBefore(this.lastAntlersNode.endPosition)){if(y+1<i){if(this.antlersStartIndex[y+1]<this.lastAntlersNode.endPosition.offset)continue}else if(y+1!=r)continue}if(y==r){let U=this.currentIndex+A;if(U<this.inputLen&&!this.isNoParse){let V=new Qe;if(V.withParser(this),V.content=this.prepareLiteralContent(this.content.substr(U)),V.content.length>0){V.startPosition=this.positionFromOffset(U,U),V.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1);let w=(T=V.startPosition.index)!=null?T:0,$=V.endPosition.index+1;V.sourceContent=this.content.substr(w,$-w),this.nodes.push(V)}break}}}}let n=0;this.nodes.forEach(y=>{y.index=n,n+=1}),this.nodes.length>500&&(this.parseChildDocuments=!1),this.nodes.forEach(y=>{y instanceof G&&y.isComment||y instanceof G&&y.interpolationRegions.size>0&&(y.interpolationRegions.forEach((A,N)=>{let U=new Be;U.withChildDocuments(this.parseChildDocuments),U.setIsInterpolatedParser(!0);let V=U.parse(A.parseContent);V.length>1&&V[1]instanceof G&&(V=[V[1]]),U.hasUnclosedIfStructures()&&(this.doesHaveUncloseIfStructures=!0),U.hasUnclosedStructures()&&(this.doesHaveUnclosedStructures=!0),y.processedInterpolationRegions.set(N,V),this.mergeErrors(U.getAntlersErrors())}),y.hasProcessedInterpolationRegions=!0)}),this.content.length>0&&this.fragmentsParser.setIndexRanges(this.getNodeIndexRanges()).parse(this.content);let s=new Mo;this.renderNodes=s.associate(this.nodes,this),this.createChildDocuments(this.renderNodes);let a=null,o=null;for(let y=0;y<this.nodes.length;y++){let A=this.nodes[y];y+1<this.nodes.length?o=this.nodes[y+1]:o=null,A.next=o,A.prev=a,a=A}this.fragmentsAnalyzer.analyze(),gh.analyze(this.nodes),this.nodes.forEach(y=>{if(y instanceof G&&y.isClosedBy!=null){let A=y.getImmediateChildren();for(let N=0;N<A.length;N++){let U=A[N];if(U instanceof G&&U.isClosedBy!=null){y.containsChildStructures=!0;break}else if(U instanceof st){y.containsChildStructures=!0;break}}}}),this.nodes.forEach(y=>{if(y instanceof G&&y.isClosingTag&&y.isOpenedBy==null){let A="Unpaired closing tag.";y.isInterpolationNode&&(A+=" Tag pairs are not supported within Antlers tags."),y.pushError(k.makeSyntaxError(I.TYPE_UNPAIRED_CLOSING_TAG,y,A))}}),uh.associateRecursiveParent(this.nodes),this.nodes.forEach(y=>{var A;if(!(y instanceof G&&y.isComment)&&((y instanceof G||y instanceof bt)&&(y.isInterpolationNode=this.isInterpolatedParser),(y instanceof G||y instanceof bt)&&y.interpolationRegions.size>0&&y.runtimeNodes.forEach(N=>{N instanceof ue&&y.interpolationRegions.has(N.name)&&(N.isInterpolationReference=!0,N.interpolationNodes=y.processedInterpolationRegions.get(N.name))}),(y instanceof G||y instanceof bt)&&y.hasParameters&&y.interpolationRegions.size>0&&y.parameters.forEach(N=>{y.interpolationRegions.forEach((U,V)=>{N.value.includes(V)&&N.interpolations.push(V)})}),y instanceof G&&y.runtimeNodes.length>0&&y.isClosingTag==!1&&!y.isComment&&(y.parsedRuntimeNodes=this.languageParser.parse(y.runtimeNodes),y.hasParsedRuntimeNodes=!0,!y.isTagNode&&y.parsedRuntimeNodes.length>0))){let N=y.nodeAtIndex(0);N!=null&&N instanceof ue&&N.name==((A=y.name)==null?void 0:A.name)&&(y.modifierChain=N.modifierChain)}}),this.languageParser.getCreatedModifierChains().forEach(y=>{y.modifierChain.length>0&&y.modifierChain.forEach(A=>{var N,U;A.nameNode!=null&&je.instance!=null&&je.instance.hasModifier((N=A.nameNode)==null?void 0:N.name)&&(A.modifier=(U=je.instance)==null?void 0:U.getModifier(A.nameNode.name))})});let l=1;return this.nodes.forEach(y=>{var A,N;if(y instanceof G){if(y.isComment)return;y.isTagNode=(N=(A=Le.instance)==null?void 0:A.isKnownTag(y.runtimeName()))!=null?N:!1,y.scopeName=y.findParameterValue("scope",""),y.antlersNodeIndex=l,l+=1,fh.analyzeModifierNodeParameters(y)}}),this.nodes.forEach(y=>{var A,N,U,V,w,$,le,j;if(y instanceof G&&y.isClosedBy!=null){let Z=((N=(A=y.endPosition)==null?void 0:A.offset)!=null?N:0)+1,ce=(V=(U=y.isClosedBy.startPosition)==null?void 0:U.offset)!=null?V:0,se=($=(w=y.startPosition)==null?void 0:w.offset)!=null?$:0,X=((j=(le=y.isClosedBy.endPosition)==null?void 0:le.offset)!=null?j:0)+1;y.documentText=this.content.substr(Z,ce-Z),y.nodeContent=this.content.substr(se,X-se),this.parseChildDocuments&&(y.childDocument=Pt.childFromText(y.documentText,Ul(y.children)))}}),this.renderNodes}createChildDocuments(e){e.forEach(i=>{var r,n,s,a,o,l,u,c;if(i instanceof G&&i.isClosedBy!=null){let f=i.isClosedBy,d=((n=(r=i.startPosition)==null?void 0:r.index)!=null?n:0)-1,p=((a=(s=f.endPosition)==null?void 0:s.index)!=null?a:0)-d;if(i.documentText=this.content.substr(d,p),this.parseChildDocuments){let m=(l=(o=i.endPosition)==null?void 0:o.index)!=null?l:0,_=((c=(u=f.startPosition)==null?void 0:u.index)!=null?c:0)-1-m,P=this.content.substr(m,_);i.childDocument=Pt.childFromText(P,Ul(i.getChildren()))}}})}getNodeIndexRanges(){let e=[];return this.nodes.forEach(i=>{var r,n,s,a;i instanceof Qe||e.push({start:(n=(r=i.startPosition)==null?void 0:r.index)!=null?n:0,end:(a=(s=i.endPosition)==null?void 0:s.index)!=null?a:0})}),e}positionFromOffset(e,i,r=!1){let n=0,s=0;if(this.documentOffsets.has(e)){let o=this.documentOffsets.get(e);n=o.line,s=o.char}else if(this.documentOffsets.size==0)n=1,s=e+1;else{let o=null,l=null,u=null,c=null;for(let f of this.documentOffsets.keys()){if(f>=e){c!=null&&e>c?(o=u,l=c):(o=this.documentOffsets.get(f),l=f);break}u=this.documentOffsets.get(f),c=f}if(o==null&&(o=u,l=c),o!=null)if(r){let f=this.content.split(""),d=e-(l!=null?l:0),p=o.char-(l!=null?l:0)+e;s=d,n=o.line,e<=(l!=null?l:0)?(n=o.line,s=e+1):n=o.line+1}else{let f=this.content.split(""),d=e-(l!=null?l:0),p=o.char-(l!=null?l:0)+e;s=d,n=o.line,e<=(l!=null?l:0)?(n=o.line,s=e+1):n=o.line+1}else this.lastDocumentOffsetKey!=null&&(n=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new $t;return a.index=i,a.offset=e,a.line=n+this.shiftLine,a.char=s,a}getLanguageParser(){return this.languageParser}getText(e,i){return this.content.substr(e,i-e)}getOriginalContent(){return this.originalContent}getContent(){return this.content}getFragments(){return this.fragmentsParser.getFragments()}getFragmentsParser(){return this.fragmentsParser}getFragmentsContainingStructures(){return this.fragmentsParser.getFragmentsContainingStructures()}setIsInterpolatedParser(e){return this.isInterpolatedParser=e,this}setStartLineSeed(e){return this.seedStartLine=e,this}setSeedStartChar(e){return this.seedStartchar=e,this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.currentContent=[],this.sourceContent=[],this.cur=null,this.next=null,this.prev=null}setSeedPosition(e){return e==null?this.shiftLine=0:this.shiftLine=e.line,this}resetState(){if(this.languageParser.reset(),this.charLen=0,this.antlersStartIndex=[],this.antlersErrors=[],this.pushedErrors.clear(),this.antlersStartPositionIndex.clear(),this.lastAntlersEndIndex=-1,this.renderNodes=[],this.nodes=[],Ns.globalTagEnterStack.length>0){let e=Ns.globalTagEnterStack[Ns.length-1];e!=null&&e.endPosition!=null&&this.setStartLineSeed(e.endPosition.line)}this.seedOffset=0,this.isScanningInterpolations=!1,this.content="",this.chars=[],this.currentIndex=0,this.startIndex=0,this._recoveryStartIndex=0,this.cur=null,this.next=null,this.prev=null,this.inputLen=0,this.documentOffsets.clear(),this.isDoubleBrace=!1,this.interpolationRegions.clear(),this.interpolationEndOffsets.clear()}fetch(e){let i=this.currentChunkOffset+this.chunkSize-this.chars.length;return K.substring(this.content,i,e)}getParsedContent(){return this.content}peek(e){if(e==this.charLen){let i=K.split(K.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,i.forEach(r=>{this.chars.push(r),this.charLen+=1})}return this.chars[e]}parseIntermediateText(){for(this.currentContent=[],this.sourceContent=[],this.startIndex=0,this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length,this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==Be.LeftBrace&&this.next==Be.LeftBrace&&this.prev==Be.AtChar){this.dumpLiteralNode(this.currentIndex);let e=new pi;e.withParser(this),e.name=new Yi,e.name.name="noparse",e.content="{{",e.startPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),e.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),this.nodes.push(e),this.currentContent=[],this.sourceContent=[],this.currentIndex+=1;continue}if((this.prev==null||this.prev!=null&&this.prev!=Be.AtChar)&&this.next!=null&&this.cur==Be.LeftBrace&&this.next==Be.LeftBrace){this.dumpLiteralNode(this.currentIndex);let e=null;if(this.currentIndex+2<this.inputLen&&(e=this.peek(this.currentIndex+2)),e==Be.Punctuation_Question&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(Be.Punctuation_Question),this.isDoubleBrace=!1;break}if(e==Be.Punctuation_Dollar&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(Be.Punctuation_Dollar),this.isDoubleBrace=!1;break}if(e==Be.Punctuation_Octothorp&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersCommentRegion(),this.isDoubleBrace=!1;break}if(!this.isNoParse)this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1;else if(this.fetch(11).replace(" ","").toLocaleLowerCase().startsWith("{{/noparse")){this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1,this.isNoParse=!1;break}else{this.currentContent.push(this.cur);continue}break}if(this.cur==Be.AtChar&&this.next!=null&&this.next==Be.LeftBrace){if(this.currentIndex+2>=this.inputLen){this.appendContent(this.next),this.dumpLiteralNode(this.currentIndex+1);break}let e=0;for(let i=this.currentIndex+1;i<this.inputLen&&this.chars[i]==Be.LeftBrace;i+=1)e+=1;this.currentContent=this.currentContent.concat(Be.LeftBrace.repeat(e).split("")),this.sourceContent=this.currentContent.concat(Be.LeftBrace.repeat(e).split("")),this.currentIndex+=e}this.appendContent(this.cur),this.next==null&&this.currentContent.length>0&&this.dumpLiteralNode(this.currentIndex)}}getRenderNodes(){return this.renderNodes}processInputText(e){var f;if(this.originalContent=e,this.content=K.normalizeLineEndings(e),this.inputLen=this.content.length,this.content.startsWith("---")){let d=this.content.split(`
`),p=[],m=[];m.push("");for(let _=1;_<d.length;_++){let P=d[_];if(P.startsWith("---")){m.push(""),m=m.concat(d.slice(_+1)),this.content=m.join(`
`),this.frontMatter=p.join(`
`),this.frontMatterEndLine=_+1;break}else p.push(P),m.push("")}}let i=[...this.content.matchAll(/(\n)/gm)],r=i.length,n=this.seedStartLine,s=null,a=0,o=0;for(let d=0;d<r;d++){let p=i[d],m=(f=p.index)!=null?f:0,_=m;s!=null?_=m-s:_=_+1,this.documentOffsets.set(m,{char:_,line:n});let P=0,g=0;d==0?(g=_-1,P=0):(P=o+1,g=m),this.lineIndex.set(n,{char:_,line:n,startIndex:P,endIndex:g}),this.lastDocumentOffsetKey=m,this.maxLine=n,n+=1,s=m,o=g,a=P}this.maxLine+=1;let l=[...this.content.matchAll(/@?{{/gm)],u=0,c=!1;return l.forEach(d=>{let p=d[0];if(p.startsWith(Be.AtChar)){u=this.content.indexOf(p,u)+2,c=!0;return}let m=this.content.indexOf(p,u);if(c&&u==m){u=m;return}this.antlersStartIndex.push(m),this.antlersStartPositionIndex.set(m,1),u=m+2,c=!1}),!0}prepareLiteralContent(e){return e.replace("@{{","{{")}scanToEndOfPhpRegion(e){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==e&&this.next!=null&&this.next==Be.RightBrace&&this.peek(this.currentIndex+2)==Be.RightBrace){let r=this.makeAntlersPhpNode(this.currentIndex,e==Be.Punctuation_Dollar);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.startIndex=this.currentIndex,this._recoveryStartIndex=this.startIndex,this.nodes.push(r),this.lastAntlersNode=r;break}if(this.appendContent(this.cur),this.next==null){let i=this.makeAntlersPhpFailedNode(this.currentIndex);this.nodes.push(i),this.lastAntlersNode=i,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(k.makeSyntaxError(I.TYPE_INCOMPLETE_PHP_EVALUATION_REGION,i,"Unexpected end of input while parsing Antlers PHP region."));break}}}appendContent(e){e!=null&&(this.currentContent.push(e),this.sourceContent.push(e))}scanToEndOfAntlersCommentRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==Be.Punctuation_Octothorp&&this.next!=null&&this.next==Be.RightBrace&&this.peek(this.currentIndex+2)==Be.RightBrace){let i=this.makeAntlersTagNode(this.currentIndex,!0);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.nodes.push(i),this.lastAntlersNode=i;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersCommentFailedNode(this.currentIndex);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(k.makeSyntaxError(I.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION,e,"Unexpected end of input while parsing Antlers comment region."));break}}}scanToEndOfInterpolatedRegion(){this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0);let e=[];this.isScanningInterpolations=!0;let i=0;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.checkCurrentOffsets(),this.cur==Be.LeftBrace){if(this.prev==Be.AtChar){e.push(this.cur);continue}i+=1,e.push(this.cur)}else if(this.cur==Be.RightBrace){if(this.prev==Be.AtChar){e.push(this.cur);continue}if(i-=1,e.push(this.cur),i==0){this.interpolationEndOffsets.set(this.currentIndex,1);break}}else this.cur!=null&&e.push(this.cur);let r=e.join(""),s=("int_"+RP.Md5.hashStr(r)).substr(0,r.length),a=s.length,o=r.length;if(a<o){let l=o-a;s+="x".repeat(l)}return this.isScanningInterpolations=!1,{content:r,varContent:s}}bordersInterpolationRegion(e){if(this.interpolationEndOffsets.size==0)return!1;let i=e.offset-1;return i<=0?!1:this.interpolationEndOffsets.has(i)}getParseableContent(e){let i="";for(let r=0;r<=e;r++)this.content[r]==Be.LeftBrace||this.content[r]==Be.RightBrace?i+="~":i+=this.content[r];return i}scanToEndOfAntlersRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==Be.LeftBrace&&this.prev==Be.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.isInterpolatedParser&&this.cur==Be.RightBrace&&this.prev==Be.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.cur==Be.LeftBrace){let e=this.scanToEndOfInterpolatedRegion(),i=this.currentIndex+this.seedOffset,r=i-e.content.length,n=this.getParseableContent(r-1);Ns.interpolatedVariables.push(e.varContent),this.currentContent=this.currentContent.concat(e.varContent.split("")),this.sourceContent=this.sourceContent.concat(e.content.split(""));let s=n+"{"+e.content+"}";this.interpolationRegions.set(e.varContent,{content:e.content,parseContent:s,varContent:e.varContent,startOffset:r,endOffset:i});continue}if(this.cur==Be.RightBrace&&this.next!=null&&this.next==Be.RightBrace){let e=this.makeAntlersTagNode(this.currentIndex,!1);e.name!=null&&e.name.name=="noparse"&&(this.isNoParse=!0),this.currentIndex+=2,this.nodes.push(e),this.lastAntlersNode=e;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersFailedNode(this.currentIndex,!1);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0;let i="Unexpected end of input while parsing Antlers region.";this.isScanningInterpolations&&(i="Unexpected end of input wihle parsing interpolated Antlers region."),this.antlersErrors.push(k.makeSyntaxError(I.TYPE_INCOMPLETE_ANTLERS_REGION,e,i));break}}}makeAntlersPhpNode(e,i){let r=new Js;return i?(r.rawStart="{{$",r.rawEnd="$}}"):(r.rawStart="{{?",r.rawEnd="?}}"),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+3>this.inputLen?(r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(k.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r):(this.lastAntlersEndIndex=e+3+this.seedOffset,r.endPosition=this.positionFromOffset(e+this.seedOffset,e+3+this.seedOffset),r)}makeAntlersPhpFailedNode(e){let i=new fm;i.rawStart="{{$",i.rawEnd="$}}",i._isEndVirtual=!0,i.content=this.currentContent.join(""),i.sourceContent=this.sourceContent.join(""),i.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let r=this.getLineText(i.startPosition.line),n=this.getLineIndex(i.startPosition.line);if(r!=null){let a=r.substr(this._recoveryStartIndex);i.content=a,i.sourceContent=a}let s=e+this.seedOffset;return n!=null&&(this.currentIndex=n.end,s=n.end),i.endPosition=this.positionFromOffset(s,s),i}makeAntlersCommentFailedNode(e){let i=new El;this.isDoubleBrace?(i.rawStart="{{",i.rawEnd="}}"):(i.rawStart="{",i.rawEnd="}"),i._isEndVirtual=!0;let r=!1,n=this.currentContent.length;n>0&&this.currentContent[n-1]==Be.Punctuation_ForwardSlash&&(this.currentContent.pop(),r=!0),i.isComment=!0,i.isSelfClosing=r,i.withParser(this),i.content=this.currentContent.join(""),i.sourceContent=this.sourceContent.join(""),i.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let s=this.getLineText(i.startPosition.line),a=this.getLineIndex(i.startPosition.line);if(s!=null){let l=s.substr(this._recoveryStartIndex);i.content=l,i.sourceContent=l}let o=e+this.seedOffset;return a!=null&&(this.currentIndex=a.end,o=a.end),i.endPosition=this.positionFromOffset(o,o),i.interpolationRegions=new Map,this.interpolationRegions.forEach((l,u)=>{i.content.includes(u)&&i.interpolationRegions.set(u,l)}),i}makeAntlersFailedNode(e,i){let r=new bt;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}"),r._isEndVirtual=!0;let n=!1,s=this.currentContent.length;s>0&&this.currentContent[s-1]==Be.Punctuation_ForwardSlash&&(this.currentContent.pop(),n=!0),r.isComment=i,r.isSelfClosing=n,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let a=this.getLineText(r.startPosition.line),o=this.getLineIndex(r.startPosition.line);if(a!=null){let c=K.trimLeft(this.content.substring(r.startPosition.offset+r.rawStart.length-1,o==null?void 0:o.end),"{");r.content=c,r.sourceContent=c}let l=e+this.seedOffset;o!=null&&(this.currentIndex=o.end,l=o.end),r.endPosition=this.positionFromOffset(l,l),r.interpolationRegions=new Map,this.interpolationRegions.forEach((c,f)=>{r.content.includes(f)&&r.interpolationRegions.set(f,c)});let u=this.nodeParser.parseNode(r);return this.mergeErrors(u.getErrors()),u}makeAntlersTagNode(e,i){let r=new G;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}");let n=!1,s=this.currentContent.length;if(s>0&&this.currentContent[s-1]==Be.Punctuation_ForwardSlash&&(this.currentContent.pop(),n=!0),r.isInterpolationNode=this.isInterpolatedParser,r.isComment=i,r.isSelfClosing=n,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+2>this.inputLen)return r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(k.makeSyntaxError(I.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r;if(i?this.lastAntlersEndIndex=e+2+this.seedOffset:this.lastAntlersEndIndex=e+1+this.seedOffset,r.endPosition=this.positionFromOffset(this.lastAntlersEndIndex,this.lastAntlersEndIndex),r.interpolationRegions=new Map,this.interpolationRegions.forEach((o,l)=>{r.content.includes(l)&&r.interpolationRegions.set(l,o)}),r.isComment)return r;let a=this.nodeParser.parseNode(r);return this.mergeErrors(a.getErrors()),a}mergeErrors(e){e.forEach(i=>{this.antlersErrors.push(i)})}getNodes(){return this.nodes}getNodesBetween(e,i){let r=[];return this.nodes.forEach(n=>{var s,a,o,l;((a=(s=n.startPosition)==null?void 0:s.offset)!=null?a:0)>e.offset&&((l=(o=n.endPosition)==null?void 0:o.offset)!=null?l:0)<i.offset&&r.push(n)}),r}antlersNodes(){return this.nodes.filter(function(e){return e instanceof G})}dumpLiteralNode(e){this.isNoParse||(this.currentContent.length>0&&this.nodes.push(this.makeLiteralNode(this.currentContent,this.startIndex,e)),this.currentContent=[],this.sourceContent=[])}makeLiteralNode(e,i,r){let n=new Qe;return n.content=e.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(i,i),n.endPosition=this.positionFromOffset(r,r),n.sourceContent=this.content.substr(i,r),n.withParser(this),n}addAntlersError(e){this.antlersErrors.push(e)}getAntlersErrors(){return this.antlersErrors}getStructureErrors(){return this.structureErrors}},D=Be;D.K_CHAR="char",D.K_LINE="line",D.NewLine=`
`,D.AtChar="@",D.LeftBrace="{",D.RightBrace="}",D.LeftBracket="[",D.RightBracket="]",D.String_EscapeCharacter="\\",D.String_Terminator_DoubleQuote='"',D.String_Terminator_SingleQuote="'",D.Punctuation_Question="?",D.Punctuation_Equals="=",D.Punctuation_Comma=",",D.Punctuation_Colon=":",D.Punctuation_Semicolon=";",D.Punctuation_Exclamation="!",D.Punctuation_Pipe="|",D.Punctuation_Ampersand="&",D.Punctuation_LessThan="<",D.Punctuation_GreaterThan=">",D.Punctuation_Octothorp="#",D.Punctuation_Tilde="~",D.Punctuation_FullStop=".",D.Punctuation_Dollar="$",D.Punctuation_Asterisk="*",D.Punctuation_Percent="%",D.Punctuation_Plus="+",D.Punctuation_Minus="-",D.Punctuation_Underscore="_",D.Punctuation_ForwardSlash="/",D.Punctuation_Caret="^",D.LeftParen="(",D.RightParent=")";var St=class{static findAssignmentNodes(e){let i=[];for(let r=0;r<e.length;r++)qt.isAssignmentOperatorNode(e[r])&&i.push(e[r]);return i}static findAbstractNodesBefore(e,i){return this.findAbstractNodesBeforePosition(e.startPosition,i)}static findAbstractNodesBeforePosition(e,i){if(e==null)return[];let r=[];for(let n=0;n<i.length;n++){let s=i[n];if(s.startPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static isBefore(e,i){return e.startPosition==null?!1:e.startPosition.index<i.index}static isAfter(e,i){return e.startPosition==null?!1:e.startPosition.index>i.index}static findNodesBeforePosition(e,i){let r=[];if(e==null)return r;for(let n=0;n<i.length;n++){let s=i[n];if(!St.isLiteralType(s)&&s.startPosition!=null&&s.endPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static findNodesAfterPosition(e,i){let r=[];if(e==null)return r;for(let n=0;n<i.length;n++){let s=i[n];St.isLiteralType(s)||s.startPosition!=null&&s.startPosition.index>e.index&&r.push(s)}return r}static findNodeBeforePosition(e,i){if(e==null)return null;let r=null;for(let n=0;n<i.length;n++){let s=i[n];if(!St.isLiteralType(s)&&s.startPosition!=null){if(s.startPosition.index>e.index)break;r=s}}return r}static findNodeAfterPosition(e,i){if(e==null)return null;for(let r=0;r<i.length;r++){let n=i[r];if(!St.isLiteralType(n)&&n.startPosition!=null&&n.startPosition.index>e.index)return n}return null}static findNodeAtPosition(e,i){if(e==null)return null;for(let r=0;r<i.length;r++){let n=i[r];if(!St.isLiteralType(n)&&n.startPosition!=null&&n.endPosition!=null&&e.index>=n.startPosition.index&&e.index<=n.endPosition.index)return n}return null}static isLiteralType(e){return e instanceof pi||e instanceof Qe}};var Gl=class{static isModifierLeftOf(e,i){return Gl.isModifierLeftOfPosition(e.startPosition,i)}static isModifierLeftOfPosition(e,i){let r=St.findAbstractNodesBeforePosition(e,i);for(let n=r.length-1;n>=0;n--){let s=r[n];if(s instanceof Xt&&n-1>0&&r[n-1]instanceof Mt)return!0;if(s instanceof Xt||s instanceof zt)return!1;if(s instanceof Ni)return!0}return!1}};var Wl=class{constructor(){this.isRightOfOperator=!1;this.isLeftOfOperator=!1}static resolveContext(e,i,r){let n=new Wl;return r!=null&&(r.prev!=null&&qt.isOperatorType(r.prev)&&(n.isRightOfOperator=!0),r.next!=null&&qt.isOperatorType(r.next)&&(n.isLeftOfOperator=!0)),n}};var _h=class{constructor(){this.inTagPart=!1;this.inMethodPart=!1}};var Hl=class{constructor(){this.modifierChain=null;this.activeModifier=null;this.name="";this.inModifierName=!1;this.inModifierParameter=!1;this.valueCount=0;this.activeValueIndex=-1;this.activeValue=null}static resolveContext(e,i,r,n){var c;let s=i.getParser(),a=new Hl,o=s.getLanguageParser().getCreatedModifierChains(),l=null;for(let f=0;f<o.length;f++){let d=o[f];if(e.isWithin(d.startPosition,d.endPosition,2)){for(let p=0;p<d.modifierChain.length;p++){let m=d.modifierChain[p];if(e.isWithin(m.startPosition,m.endPosition,2)){l=m;break}}if(l!=null)break}}l==null&&r instanceof Mt&&n.getDocumentParser().getLanguageParser().hasModifierConstruct(r)&&(l=n.getDocumentParser().getLanguageParser().getModifierConstruct(r));let u=n.wordLeftAt(e);if(l==null&&u!=null&&((c=je.instance)==null?void 0:c.hasModifier(u))&&i.modifierChain!=null&&i.modifierChain.modifierChain.length>0)for(let f=0;f<i.modifierChain.modifierChain.length;f++){let d=i.modifierChain.modifierChain[f];if(d.modifier!=null&&d.modifier.name==u){l=d;break}}if(l!=null)if(a.activeModifier=l,a.valueCount=l.valueNodes.length,l.nameNode!=null&&(a.name=l.nameNode.name),l.nameNode!=null&&e.isWithin(l.nameNode.startPosition,l.nameNode.endPosition,1))a.inModifierName=!0;else for(let f=0;f<l.valueNodes.length;f++){let d=l.valueNodes[f];if(e.isWithin(d.startPosition,d.endPosition,1)){a.activeValueIndex=f,a.activeValue=d;break}}return a}};var Yl=class{constructor(){this.parameter=null;this.isInName=!1;this.isInValue=!1}static resolveContext(e,i){let r=new Yl;return r.parameter=i,e.isWithinRange(i.namePosition)?r.isInName=!0:e.isWithinRange(i.valuePosition)&&(r.isInValue=!0),r}};var yh=class{constructor(){this.refId="";this.node=null;this.leftPunctuation=null;this.rightPunctuation=null;this.leftChar=null;this.rightChar=null;this.word=null;this.char=null;this.interpolatedContext=!1;this.leftWord=null;this.rightWord=null;this.isCursorInIdentifier=!1;this.root=null;this.identifierContext=null;this.position=null;this.feature=null;this.isInParameter=!1;this.subContext=null;this.parameterContext=null;this.modifierContext=null;this.generalContext=null;this.variableContext=null;this.cursorContext=Th.Unknown;this.refId=Za()}},Th=(a=>(a[a.Unknown=0]="Unknown",a[a.Variable=1]="Variable",a[a.Modifier=2]="Modifier",a[a.Parameter=3]="Parameter",a[a.General=4]="General",a[a.LanguageOperator=5]="LanguageOperator",a))(Th||{});var Kl=class{constructor(){this.variableNode=null;this.varPathText=""}static resolveContext(e,i,r,n){var f;if(r==null)return null;let s=r,a=n.getDocumentParser().getLanguageParser(),o=new Kl,l=(f=n.wordAt(e))!=null?f:"";r instanceof Ft&&a.isMergedVariableComponent(r)==!1&&r.prev instanceof ue&&(s=r.prev);let u="";if(a.isMergedVariableComponent(s)){let d=a.getMergedVariable(s);d.startPosition!=null&&(u=n.getText(d.startPosition.index,e.index).trim()),o.variableNode=d}else s instanceof ue&&(o.variableNode=s,u=s.name,s.variableReference!=null&&(u=s.variableReference.normalizedReference));u.length>0&&(u=Dt(u,"\\.",":"));let c=u.split(":");return l.trim().length>0&&c.pop(),u=c.join(":"),u.endsWith(":")&&(u=Wr(u,":")),o.varPathText=u,o}};var zn=class{static resolveIdentifierContext(e,i){let r=new _h;return i.nameMethodPartStartsOn!=null?e.char<i.nameMethodPartStartsOn.char?(r.inTagPart=!0,r.inMethodPart=!1):(r.inTagPart=!1,r.inMethodPart=!0):(r.inMethodPart=!1,r.inTagPart=!0),r}static resolveContext(e,i,r,n=!1,s=null){var a,o,l,u,c,f;if(i==null||e==null)return null;if(i instanceof er||i instanceof G){let d=new yh;if(i.nameStartsOn!=null&&e.line==i.nameStartsOn.line){let _=!1;e.char>=i.nameStartsOn.char&&(_=!0),i.nameEndsOn!=null&&e.char>i.nameEndsOn.char&&(_=!1),_&&(d.isCursorInIdentifier=!0,d.identifierContext=zn.resolveIdentifierContext(e,i))}i.addContext(d),s!=null&&s.addContext(d),d.interpolatedContext=n,d.node=i,d.position=e,d.root=s,d.leftPunctuation=r.punctuationLeftAt(e),d.rightPunctuation=r.punctuationRightAt(e),d.leftChar=r.charLeftAt(e),d.rightChar=r.charRightAt(e),d.isCursorInIdentifier==!0&&d.leftChar==" "&&(d.leftChar=":"),d.word=r.wordAt(e),d.char=r.charAt(e),d.leftWord=r.wordLeftAt(e),d.rightWord=r.wordRightAt(e);let p=!1;if(i.parameters.length>0)for(let _=0;_<i.parameters.length;_++){let P=i.parameters[_];if(P.blockPosition!=null&&P.blockPosition.start!=null&&P.blockPosition.end!=null&&e.char>P.blockPosition.start.char&&e.char<=P.blockPosition.end.char+1&&e.line>=((l=(o=(a=P.namePosition)==null?void 0:a.start)==null?void 0:o.line)!=null?l:P.blockPosition.start.line)&&e.line<=((f=(c=(u=P.valuePosition)==null?void 0:u.end)==null?void 0:c.line)!=null?f:P.blockPosition.end.line)){d.cursorContext=3,d.parameterContext=Yl.resolveContext(e,P),d.isInParameter=!0,d.feature=P,p=!0;break}}if(p||i.runtimeNodes.forEach(_=>{_.startPosition!=null&&_.endPosition!=null&&e.isWithin(_.startPosition,_.endPosition,1)&&(d.feature=_)}),p&&i.interpolationRegions.size>0){let _=Array.from(i.interpolationRegions,([P,g])=>g);for(let P=0;P<_.length;P++){let g=_[P];if(e.index>=g.startOffset&&e.index<=g.endOffset){let T=i.getInterpolationNode(g.varContent);return zn.resolveContext(e,T,r,!0,s)}}}return d.feature instanceof ue&&d.feature.isInterpolationReference&&d.feature.parent!=null&&d.feature.parent instanceof G&&d.feature.parent.processedInterpolationRegions.has(d.feature.name)?zn.resolveContext(e,d.feature.parent.getInterpolationNode(d.feature.name),r,!0,s):(Gl.isModifierLeftOfPosition(e,i.runtimeNodes)?(d.cursorContext=2,d.modifierContext=Hl.resolveContext(e,i,d.feature,r)):p||(d.cursorContext=4,d.generalContext=Wl.resolveContext(e,i,d.feature)),d.variableContext=Kl.resolveContext(e,i,d.feature,r),d)}return null}};var pa=class{static isPairedNode(e){return e instanceof st?!0:e instanceof er||e instanceof G?e.isClosedBy!=null:!1}static findAncestorsBeforePosition(e,i){var o,l,u,c,f,d;let r=[],n=[],s=-1,a=-1;for(let p=0;p<i.length;p++){let m=i[p];if(m.isClosedBy!=null&&((o=m.isClosedBy.endPosition)==null?void 0:o.isBefore(e))&&(n.push(m),n.push(m.isClosedBy),s=m.isClosedBy.endPosition.line,a=m.isClosedBy.endPosition.char),!(s>-1&&m.endPosition!=null&&(m.endPosition.line<s||m.endPosition.line==s&&a>-1&&m.endPosition.char<a))){if(m.startPosition!=null){if(e.isBefore(m.startPosition))break;if(m.startPosition.line==e.line&&e.char<=m.startPosition.char){n.push(m);continue}}if(((l=Le.instance)==null?void 0:l.requiresClose(m))&&m.isClosedBy!=null){let _=m.isClosedBy;if((u=_.startPosition)==null?void 0:u.isBefore(e)){n.push(m),n.push(_);continue}else((c=_.startPosition)==null?void 0:c.line)==e.line&&((f=_.startPosition)==null?void 0:f.char)<e.char?n.push(m):r.push(m)}else if(m.parent!=null){let _=m.parent;if(n.includes(_)){n.push(m);continue}else((d=m.endPosition)==null?void 0:d.isBefore(e))?r.push(m):n.push(m)}else r.push(m)}}return r}};var bh=class{constructor(e){this.doc=e}getAncestorsAt(e,i){let r=this.position(e,i);return r==null?[]:pa.findAncestorsBeforePosition(r,this.doc.getAllAntlersNodes())}getNameAt(e,i){let r=this.getNodeAt(e,i);return r instanceof G?r.name:null}getScopeAt(e,i){let r=this.getNodeAt(e,i);return r instanceof G&&r.currentScope!=null?r.currentScope:null}getFeaturesAt(e,i){let r=this.position(e,i),n=this.getNodeAt(e,i);return zn.resolveContext(r,n,this.doc,!1,n)}getNodeAt(e,i){return St.findNodeAtPosition(this.position(e,i),this.doc.getDocumentParser().getNodes())}getNodeBefore(e,i){return St.findNodeBeforePosition(this.position(e,i),this.doc.getDocumentParser().getNodes())}getNodeAfter(e,i){return St.findNodeAfterPosition(this.position(e,i),this.doc.getDocumentParser().getNodes())}getNodesBefore(e,i){return St.findNodesBeforePosition(this.position(e,i),this.doc.getDocumentParser().getNodes())}getAssignmentsBefore(e,i){let r=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),n=[],s=this.position(e,i);return s!=null&&r.forEach(a=>{St.isBefore(a.target,s)&&n.push(a)}),n}getAssignmentsAfter(e,i){let r=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),n=[],s=this.position(e,i);return s!=null&&r.forEach(a=>{St.isAfter(a.target,s)&&n.push(a)}),n}getNodesAfter(e,i){return St.findNodesAfterPosition(this.position(e,i),this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e,i){let r=this.getNodeBefore(e,i);return r==null?!1:pa.isPairedNode(r)}position(e,i){return this.doc.getDocumentParser().positionFromCursor(e,i)}charLeftAt(e,i){return this.doc.getDocumentParser().charLeftAtCursor(e,i)}charAt(e,i){return this.doc.getDocumentParser().charAtCursor(e,i)}charRightAt(e,i){return this.doc.getDocumentParser().charRightAtCursor(e,i)}wordLeftAt(e,i,r=4){return this.doc.getDocumentParser().wordLeftAtCursor(e,i,r)}wordRightAt(e,i,r=4){return this.doc.getDocumentParser().wordRightAtCursor(e,i,r)}wordAt(e,i,r=4){return this.doc.getDocumentParser().wordAtCursor(e,i,r)}punctuationLeftAt(e,i,r=4){return this.doc.getDocumentParser().punctuationLeftAtCursor(e,i,r)}punctuationRightAt(e,i,r=4){return this.doc.getDocumentParser().punctuationRightAtCursor(e,i,r)}};var vh=class{constructor(e){this.doc=e}hasStructureErrors(){return this.doc.getDocumentParser().getStructureErrors().length>0}getFirstStructureError(){return this.doc.getDocumentParser().getStructureErrors()[0]}hasAny(){return this.all().length>0}all(){let e=[],i=[];return this.doc.getAllAntlersNodes().forEach(r=>{r.getErrors().forEach(n=>{e.includes(n.hash())==!1&&(e.push(n.hash()),i.push(n))})}),this.doc.getDocumentParser().getAntlersErrors().forEach(r=>{e.includes(r.hash())==!1&&(e.push(r.hash()),i.push(r))}),i}};var IN=te(cn());var ji=te(bN(),1),cte=ji.default.binaryOptions,fte=ji.default.boolOptions,dte=ji.default.intOptions,pte=ji.default.nullOptions,mte=ji.default.strOptions,hte=ji.default.Schema,gte=ji.default.Alias,_te=ji.default.Collection,yte=ji.default.Merge,Tte=ji.default.Node,vN=ji.default.Pair,tu=ji.default.Scalar,iu=ji.default.YAMLMap,Xo=ji.default.YAMLSeq;var kh=class{constructor(e){this.documentScope=null;this.project=e}getKeyValue(e){return e instanceof tu?e.value:""}getNodeValue(e){return e instanceof tu?e.value:e instanceof iu?this.analyzeDocument(e.items):e instanceof Xo?this.analyzeDocument(e.items):""}getScalarRuntimeType(e){return parseFloat(e).toString()==e||parseInt(e).toString()==e?"number":"string"}analyzeDocument(e){let i=new lr(this.project);return e.forEach(r=>{if(r instanceof vN){let n=this.getKeyValue(r.key),s=this.getNodeValue(r.value);if(r.value instanceof tu)i.addVariable({dataType:this.getScalarRuntimeType(s),introducedBy:null,name:n,sourceField:null,sourceName:"*frontmatter"});else if(r.value instanceof Xo&&r.key instanceof tu){let a=new lr(this.project);r.value.items.forEach(o=>{let l=this.getNodeValue(o);a.addVariable({dataType:this.getScalarRuntimeType(l),introducedBy:null,name:o.value,sourceField:null,sourceName:"*frontmatter"})}),i.addScopeList(r.key.value,a)}else i.addScopeList(n,s)}}),i}parse(e){try{let i=IN.parseDocument(e);i.contents instanceof iu&&(this.documentScope=this.analyzeDocument(i.contents.items))}catch{this.documentScope=null}}hasScope(){return this.documentScope!=null}getScope(){return this.documentScope}};var Mh=class{constructor(e){this.doc=e}getAncestors(e){return pa.findAncestorsBeforePosition(e,this.doc.getAllAntlersNodes())}getNodeAt(e){return St.findNodeAtPosition(e,this.doc.getDocumentParser().getNodes())}getNodesBefore(e){return St.findNodesBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeBefore(e){return St.findNodeBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeAfter(e){return St.findNodeAfterPosition(e,this.doc.getDocumentParser().getNodes())}getNodesAfter(e){return St.findNodesAfterPosition(e,this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e){let i=this.getNodeBefore(e);return i==null?!1:pa.isPairedNode(i)}filter(e){return this.doc.getDocumentParser().getNodes().filter(e)}getComments(){let e=[];return this.doc.getAllNodes().forEach(i=>{i instanceof G&&i.isComment&&e.push(i)}),e}getMultilineNodes(){let e=[];return this.doc.getAllNodes().forEach(i=>{var r,n;i instanceof G&&!i.isComment&&((r=i.startPosition)==null?void 0:r.line)!=((n=i.endPosition)==null?void 0:n.line)&&e.push(i)}),e}getMultiLineComments(){let e=[];return this.getComments().forEach(i=>{var r,n;((r=i.startPosition)==null?void 0:r.line)!=((n=i.endPosition)==null?void 0:n.line)&&e.push(i)}),e}getAllLiteralNodes(){let e=[];return this.doc.getAllNodes().forEach(i=>{(i instanceof Qe||i instanceof pi)&&e.push(i)}),e}getStructuralNodes(){let e=[];return this.doc.getDocumentParser().getRenderNodes().forEach(i=>{i instanceof G?e.push(i):i instanceof st&&i.logicBranches.length>0&&i.logicBranches.forEach(r=>{if(r.head!=null){let n=r.head;n.originalNode!=null?e.push(n.originalNode):e.push(n)}})}),e}getAllRuntimeNodes(){let e=[];return this.doc.getAllNodes().forEach(i=>{(i instanceof er||i instanceof G)&&i.runtimeNodes.length>0&&i.runtimeNodes.forEach(r=>{e.push(r)})}),e}getAllParameterNodes(){let e=[];return this.doc.getAllNodes().forEach(i=>{(i instanceof er||i instanceof G)&&i.hasParameters&&i.parameters.forEach(r=>{e.push(r)})}),e}getAssignmentNodes(){return St.findAssignmentNodes(this.getAllRuntimeNodes())}};var qh=class{constructor(e){this.doc=e}getAllSelfClosingNodes(){let e=[];return this.doc.getAllNodes().forEach(i=>{i instanceof G&&i.isSelfClosing&&e.push(i)}),e}getAllPairedNodes(){let e=[];return this.doc.getAllNodes().forEach(i=>{(i instanceof G||i instanceof bt)&&i.isClosedBy!=null&&!i.isSelfClosing&&e.push(i)}),e}};var Lf=class{static printComment(e,i,r){let n=e.getContent(),s=n.trim();if(s.includes(`
`)){let a=K.breakByNewLine(n.trim()),o=[];a.forEach(c=>{o.push(" ".repeat(i+r)+c.trim())});let l=o.join(`
`),u=`{{#
`;return u+=l,u+=`
`+" ".repeat(r)+"#}}",u}return"{{# "+s+" #}}"}};var va=class{static indentRelative(e,i){let r=K.breakByNewLine(e),n=[];for(let o=0;o<r.length;o++)if(r[o].trim().length>0){n=r.slice(o);break}for(let o=n.length-1;o>=0&&n[o].trim().length==0;o--)n.pop();let s=-1,a="";for(let o=0;o<n.length;o++){let l=n[o],u=l.trimLeft(),c=l.length-u.length;(o==0||c<s)&&(s=c,a=l)}if(s>=0){let o=" ".repeat(i);for(let l=0;l<n.length;l++){let u=n[l];if(u.trim().length==0){n[l]="";continue}let c=u.substring(s);if(l==0){n[l]=u.trimLeft();continue}else n[l]=o+c.trimLeft()}}return n.join(`
`)}static shiftIndent(e,i,r=!1,n=4,s=!0){i<0&&(i=0);let a=K.breakByNewLine(e.trim()),o=[];for(let u=0;u<a.length;u++){if(u==0&&r){o.push(a[u]);continue}let c=a[u];o.push(" ".repeat(i)+c)}let l=o.join(`
`);if(s&&o.length>0&&i-n>n&&o[o.length-1].trim()==") }}"){a=K.breakByNewLine(l.trim()),o=[];for(let u=0;u<a.length;u++){if(u==0&&r){o.push(a[u]);continue}let c=a[u];if(u==a.length-1){o.push(c);break}o.push(" ".repeat(n)+c)}l=o.join(`
`)}return l}static shiftClean(e,i){let r=K.breakByNewLine(e),n=[],s=" ".repeat(i),a=!1;return r.forEach(o=>{o.trim().length>0&&(a=!0),!!a&&n.push(s+o)}),n.join(`
`)}static inferIndentLevel(e,i,r){let n=0,s=-1;for(let a=0;a<e.length;a++){let o=e[a];if(o.includes(i)){let l=o.trimLeft();n=o.length-l.length,s=a;break}}if(s>0)for(let a=s-1;a>=0;a--){let o=e[a],l=o.trim(),u=o.trimLeft(),c=o.length-l.length;if(u.length!=0&&c!=n&&c<n){let f=n-c;return{targetLevel:n,referenceLevel:c,sourceTabSize:f}}}return{targetLevel:n,referenceLevel:n,sourceTabSize:r}}static indent(e,i,r){let n=va.inferIndentLevel(e,i,r);return" ".repeat(n.targetLevel)}};var Vh=class{constructor(e,i,r){this.buffer="";this.closeString="";this.relativeIndentSize=0;this.indentSeed=0;this.baseIndent=i,e.isInterpolationNode?(this.buffer="{",this.closeString="}"):(this.buffer="{{ ",e.isSelfClosing?this.closeString=" /}}":this.closeString=" }}"),r!=null&&r.trim().length>0&&(this.buffer+=r+" ")}setIndentSeed(e){return this.indentSeed=e,this}close(){return this.closeString==" }}"?this.buffer.endsWith(" ")?this.buffer+="}}":this.buffer+=this.closeString:this.buffer+=this.closeString,this}appendT(e){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer+=e,this}appendTS(e,i=!1){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer.endsWith("{")&&!i&&(e=e.trimStart()),this.buffer+=e,this}append(e){return this.buffer+=e,this}appendOS(e){return this.buffer.endsWith(" ")==!1&&this.buffer.endsWith("(")==!1&&this.buffer.endsWith("{")==!1&&this.buffer.endsWith("[")==!1&&this.buffer.endsWith(":")==!1&&(this.buffer+=" "),this.append(e)}appendS(e){let i="";return this.buffer.endsWith(" ")==!1&&(i+=" "),i+=e+" ",this.buffer+=i,this}indent(){let e=this.baseIndent;return e==0?e=1:e+=2,this.relativeIndentSize>0&&(e+=this.relativeIndentSize),this.buffer+=" ".repeat(e),this}addIndent(e){return e<=0?this:(this.buffer+=" ".repeat(e),this)}paramS(e){let i=" ";return e.isVariableReference&&(i+=":"),i+=e.name+"="+e.nameDelimiter+e.value+e.nameDelimiter,this.append(i),this}replace(e,i){return this.buffer=Dt(this.buffer,e,i),this}relativeIndent(e){let i=this.buffer.split(`
`);if(i.length==0)return this;let r=i[i.length-1].trimEnd();return r.endsWith("(")&&(r=r.slice(0,-1)),r.endsWith(e)==!1?this:(this.relativeIndentSize=r.lastIndexOf(e),this)}newlineIndent(){return this.newLine(),this.indent(),this}newlineNDIndent(){return this.buffer=this.buffer.trimEnd(),this.newLine(),this.indent(),this}newLine(){return this.buffer+=`
`,this}getContent(){return this.buffer}endsWith(e){return this.buffer.endsWith(e)}};var ru=class{static prettyPrintNode(e,i,r,n,s,a){var c,f,d,p,m,_,P;let o=e.getTrueRuntimeNodes(),l=0,u=0;if(o.length>0){let g=new Vh(e,r,s);a!=null&&g.setIndentSeed(a);let T=null;for(let A=0;A<o.length;A++){let N=o[A];if(T!=null&&((c=N.endPosition)==null?void 0:c.isBefore(T.startPosition)))continue;let U=!1;if(N instanceof zt?!(N.next instanceof zt)&&N.next!=null&&(!qt.isOperatorType(N.next)||!qt.isAssignmentOperator(N.next))&&(!(N.next instanceof mi)&&!(N.next instanceof Ft)&&!N.isSwitchGroupMember&&!qt.isOperatorType(N.next)&&(U=!0,N.next instanceof ue&&N.next.name=="as"&&(U=!1)),N.next instanceof Ni&&(U=!1)):!((f=N.prev)==null?void 0:f.isVirtual)&&((d=N.prev)==null?void 0:d.isVirtualGroupOperatorResolve)&&N.prev.producesVirtualStatementTerminator&&N.next!=null&&(N.prev instanceof ue||g.newlineIndent()),N instanceof ue){if(N.convertedToOperator){if(N.name=="arr")g.appendT(" arr");else if(N.name=="switch"||N.name=="list")if(g.appendTS(" "+N.name,!0),A+1<o.length){if(!(o[A+1]instanceof Xt))break;g.append("("),N.name!="list"&&g.relativeIndent(N.name).newLine().indent(),A+=1,T=o[A+1];continue}else break;else if(u+=1,u>1)g.newlineNDIndent().indent().addIndent(6).appendS(N.name);else{if(i.getDocumentParser().getLanguageParser().isMergedVariableComponent(N)){g.append(N.name);continue}g.appendS(N.name)}T=N;continue}N.mergeRefName!=null&&N.mergeRefName.trim().length>0&&N.mergeRefName!=N.name?g.append(N.mergeRefName.trim()):N.name=="as"?g.appendOS("as"):g.append(N.name.trim())}else if(N instanceof Cr)if(g.appendTS(" list"),A+1<o.length){if(!(o[A+1]instanceof Xt))break;g.append("("),A+=1,T=o[A+1];continue}else break;else if(N instanceof Ni)g.appendS("|");else if(N instanceof Ft){if(T!=null&&((p=N.startPosition)==null?void 0:p.isBefore(T.endPosition))||N.next instanceof ue&&N.next.mergeRefName.startsWith(":"))continue;if(i.getDocumentParser().getLanguageParser().isMergedVariableComponent(N)){g.endsWith(":")||g.append(":");continue}if(N.prev!=null&&N.next!=null&&pt.distance(N.prev,N)<=1&&pt.distance(N.next,N)<=1){g.append(":"),T=N;continue}if(i.getDocumentParser().getLanguageParser().isActualModifierSeparator(N)){g.append(":"),T=N;continue}if(T instanceof Mt||T instanceof Qt){g.append(":"),T=N;continue}g.appendS(":")}else if(N instanceof Mt)g.append(N.name);else if(N instanceof sn)g.appendS("?");else if(N instanceof Li){if(i.getDocumentParser().getLanguageParser().isMergedVariableComponent(N))continue;if(N.isTenaryBranchSeparator){g.appendS(":"),T=N;continue}if(i.getDocumentParser().getLanguageParser().isActualModifierSeparator(N)){g.append(":"),T=N;continue}g.append(":")}else if(N instanceof Qt)g.append(N.value.trim());else if(N instanceof Xt)g.append("(");else if(N instanceof zt)g.append(")");else if(N instanceof At){if(i.getDocumentParser().getLanguageParser().isMergedVariableComponent(N))continue;N.sourceContent!=""?g.appendOS(N.sourceContent):g.appendOS(N.sourceTerminator+N.value+N.sourceTerminator)}else if(N instanceof kt)N.isSwitchGroupMember?g.append(",").newlineIndent():g.append(", ");else if(N instanceof Wt){if(T=N,i.getDocumentParser().getLanguageParser().isMergedVariableComponent(N))continue;let V=(_=(m=N.value)==null?void 0:m.toString())!=null?_:"";N.rawLexContent!=null&&N.rawLexContent.trim().length>0&&(V=N.rawLexContent.trim()),g.append(V)}else if(N instanceof nr)g.appendS("=");else if(N instanceof ki)g.appendS("=>");else if(N instanceof tr)g.appendS("+");else if(N instanceof Fi){if(i.getDocumentParser().getLanguageParser().isMergedVariableComponent(N)){g.append("-");continue}if(N.prev!=null&&N.next!=null&&pt.distance(N.prev,N)<=1&&pt.distance(N.next,N)<=1){N.next instanceof Wt&&N.prev instanceof Wt?g.appendS("-"):g.append("-"),T=N;continue}g.appendS("-")}else if(N instanceof rr)g.appendS("*");else if(N instanceof ir){if(T=N,(P=N.startPosition)==null?void 0:P.isBefore(e.nameEndsOn)){g.append("/");continue}if(i.getDocumentParser().getLanguageParser().isMergedVariableComponent(N))continue;g.appendS("/");continue}else N instanceof mi?N.isListGroupMember?(g.append(";").newlineIndent().indent().addIndent(7),A+1<o.length&&!(o[A+1]instanceof zt)&&g.indent()):(l+=1,l<n.maxAntlersStatementsPerLine?g.appendT("; "):(g.appendT(";").newlineIndent(),l=0)):N instanceof hi?N.content=="not"?g.appendS("not"):g.append("!"):g.appendS(N.rawContent());U&&g.newlineIndent(),T=N}e.hasParameters&&e.parameters.forEach(A=>{g.paramS(A)}),g.close();let y=g.getContent();return e.processedInterpolationRegions.size>0&&e.processedInterpolationRegions.forEach((A,N)=>{let U=ru.prettyPrintNode(A[0],i,r,n,null,null);y=Dt(y,N,U)}),y}return e.getTrueRawContent()}};var nu=class{constructor(e){this.htmlFormatter=null;this.yamlFormatter=null;this.phpFormatter=null;this.slugs=[];this.removeLines=[];this.virtualStructureOpens=[];this.virtualStructureClose=[];this.structureLines=[];this.parentTransformer=null;this.tagPairs=new Map;this.conditions=[];this.inlineIfs=new Map;this.createExraStructuralPairs=!1;this.spanNodes=new Map;this.inlineNodes=new Map;this.virtualBlocks=[];this.inlineComments=new Map;this.blockComments=[];this.extractedEmbeddedDocuments=new Map;this.dynamicElementAntlers=new Map;this.dynamicElementAntlersNodes=new Map;this.dynamicElementPairedAntlers=new Map;this.dynamicElementPairedAntlersNodes=new Map;this.dynamicElementConditionAntlers=new Map;this.dynamicElementConditionAntlersNodes=new Map;this.noParses=new Map;this.forceBreaks=[];this.forceCleanLines=["{{ if ","{{ /if","{{ /unless","{{ /noparse","{{ else","{{ unless"];this.doc=e,this.options={tabSize:4,newlinesAfterFrontMatter:1,maxAntlersStatementsPerLine:3,endNewline:!0}}produceExtraStructuralPairs(e){return this.createExraStructuralPairs=e,this}withHtmlFormatter(e){return this.htmlFormatter=e,this}withYamlFormatter(e){return this.yamlFormatter=e,this}withPhpFormatter(e){return this.phpFormatter=e,this}withOptions(e){return this.options=e,this.options.tabSize<=0&&(this.options.tabSize=4),this.options.newlinesAfterFrontMatter<0&&(this.options.newlinesAfterFrontMatter=1),this}setParentTransformer(e){return this.parentTransformer=e,this}close(e){return"</"+e+">"}open(e){return"<"+e+">"}selfClosing(e){return"<"+e+" />"}pair(e,i=""){return"<"+e+">"+i+"</"+e+">"}makeSlug(e){e<=2&&(e=7);let i="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=r.length;for(let a=0;a<e-1;a++)i+=r.charAt(Math.floor(Math.random()*n));let s="A"+i+"A";return this.slugs.includes(s)?this.makeSlug(e+1):(this.slugs.push(s),s)}transformInlineConditions(e){let i=e;return this.inlineIfs.forEach((r,n)=>{i=i.replace(n,r.nodeContent)}),i}registerCondition(e){this.parentTransformer!=null?this.parentTransformer.registerCondition(e):this.conditions.push(e)}registerInlineCondition(e,i){this.parentTransformer!=null?this.parentTransformer.registerInlineCondition(e,i):this.inlineIfs.set(e,i)}registerVirtualBlock(e){this.parentTransformer!=null?this.parentTransformer.registerVirtualBlock(e):this.virtualBlocks.push(e)}registerNoParse(e,i){this.parentTransformer!=null?this.parentTransformer.registerNoParse(e,i):this.noParses.set(e,i)}prepareNoParse(e){let i=this.makeSlug(35);return this.registerNoParse(i,e),i}registerForcedBreak(){if(this.parentTransformer!=null)return this.parentTransformer.registerForcedBreak();{let e=this.makeSlug(15),i=this.makeSlug(10);return this.forceBreaks.push(e),this.forceBreaks.push(i),this.removeLines.push(this.open(e)),this.removeLines.push(this.close(e)),this.removeLines.push(this.selfClosing(i)),this.pair(e,this.selfClosing(i))}}transformVirtualStructures(e){let i=e;return this.virtualBlocks.forEach(r=>{var s;this.removeLines.push(r.pairClose);let n=this.indentLevel(r.pairOpen);if(r.virtualElement.length>0&&(this.removeLines.push(this.open(r.virtualElement)),this.removeLines.push(this.close(r.virtualElement))),r.node instanceof pi){let a="{{ noparse }}"+r.node.getInnerDocumentText();i=i.replace(r.pairOpen,a)}if(r.node instanceof G){let a=r.node;i=i.replace(r.pairClose,(s=a.isClosedBy)==null?void 0:s.getOriginalContent())}else this.removeLines.push(r.pairClose)}),this.noParses.forEach((r,n)=>{i=i.replace(n,`{{ noparse }}${r.getInnerDocumentText()}{{ /noparse }}`)}),i}printNode(e,i=null){var l,u;let r=e.getTrueNode();if((r.rawStart=="{{?"||r.rawStart=="{{$")&&this.phpFormatter!=null)try{let c=this.phpFormatter(r.content);return`${r.rawStart} ${c} ${r.rawEnd}`}catch{}let n=this.doc;e.childDocument!=null&&(n=e.childDocument.document);let s=null;if(oi.isConditionalStructure(e)&&(s=r.runtimeName(),e.isClosingTag&&(s=="if"||s=="unless")))return`{{ /${s} }}`;if(e.isClosingTag)return r.runtimeName()=="endunless"?"{{ /unless }}":`{{ ${r.content.trim()} }}`;let a=ru.prettyPrintNode(r,n,0,this.options,s,null),o=["switch","list"];return i!=null&&a.includes(`
`)&&(e.isVirtual&&(((l=e.name)==null?void 0:l.name)=="switch"||((u=e.name)==null?void 0:u.name)=="list")?a=va.shiftIndent(a,i+this.options.tabSize,!0):a=va.shiftIndent(a,i-this.options.tabSize*2,!0)),a}transformConditions(e){let i=e;return this.conditions.forEach(r=>{r.structures.forEach(n=>{let s=n.branch.head;if(n.virtualBreakOpen.length>0&&this.removeLines.push(n.virtualBreakOpen),n.virtualBreakClose.length>0&&(i=i.replace(n.virtualBreakClose,n.virtualBreakClose+`
`),this.removeLines.push(n.virtualBreakClose)),this.virtualStructureOpens.push(n.virtualOpen),this.removeLines.push(n.virtualOpen),this.removeLines.push(n.virtualClose),n.isLast){let a=this.selfClosing(n.virtualSlug);i.includes(a)&&(i=i.replace(a,n.doc.trim())),i=i.replace(n.pairOpen,this.printNode(s,this.indentLevel(n.pairOpen))),i=i.replace(n.pairClose,this.printNode(s.isClosedBy))}else{let a=this.selfClosing(n.virtualSlug);i.includes(a)&&(i=i.replace(a,n.doc.trim())),this.removeLines.push(n.pairClose),i=i.replace(n.pairOpen,this.printNode(s,this.indentLevel(n.pairOpen)))}})}),i}transformExtractedDocuments(e){let i=e;return this.extractedEmbeddedDocuments.forEach((r,n)=>{let s="",a=0;if(r.isScript?s="//"+n:s="/*"+n+"*/",a=this.indentLevel(s),i.includes(s)){let o="";r.content.includes("{{ /")||r.content.includes("{{/")?o=r.content.trim():o=va.indentRelative(r.content,a),i=i.replace(s,o)}}),i}getAntlersChildDoc(e){return e.childDocument!=null?e.childDocument.document.transform().setParentTransformer(this).toStructure():this.clone().toStructure(e.getImmediateChildren())}prepareCondition(e){let i=e.logicBranches[0].head;if(i.fragmentPosition==2||i.fragmentPosition==1){let l=this.makeSlug(e.nodeContent.length);return this.registerInlineCondition(l,e),l}if(i.fragmentPosition==0)return this.prepareDynamicCondition(e);let r=[],n="";i.prev instanceof G&&i.prev.isInlineAntlers&&(n+=this.registerForcedBreak()),e.logicBranches.forEach((l,u)=>{var _,P,g,T;let c=l.head,f=this.getAntlersChildDoc(l),d=this.makeSlug(c.sourceContent.length),p=this.makeSlug(10),m={branch:l,slug:d,doc:f,pairOpen:this.open(d),pairClose:this.close(d),virtualOpen:this.open(p),virtualClose:this.close(p),virtualSlug:p,isFirst:u==0,isLast:u==e.logicBranches.length-1,virtualBreakClose:"",virtualBreakOpen:""};if(((P=(_=l.head)==null?void 0:_.name)==null?void 0:P.getCompoundTagName())=="else"){n+=`
`+m.pairOpen;let y=this.makeSlug(25);this.createExraStructuralPairs&&l.head.containsChildStructures==!1&&l.head.containsAnyFragments==!1?(m.virtualBreakOpen=this.open(y),m.virtualBreakClose=this.close(y),m.virtualSlug=y,n+=`
`+this.selfClosing(y),n+=m.pairClose+`
`):(m.virtualBreakOpen=this.selfClosing(y),n+=m.virtualBreakOpen+`
`,n+=f,n+=`
`+m.pairClose)}else if(this.createExraStructuralPairs&&((g=l.head)==null?void 0:g.containsAnyFragments)==!1&&((T=l.head)==null?void 0:T.containsChildStructures)==!1){let y=this.makeSlug(25);m.virtualBreakOpen=this.open(y),m.virtualBreakClose=this.close(y),m.virtualSlug=y,n+=`
`+m.pairOpen,n+=`
`+this.selfClosing(y),n+=m.pairClose+`
`}else n+=m.pairOpen,n+=`
`,n+=f,n+=`
`,n+=m.pairClose;r.push(m)});let s=r[0].pairOpen,a=r[r.length-1].pairClose,o={pairOpen:s,pairClose:a,structures:r,condition:e};return this.registerCondition(o),n}registerPairedAntlers(e,i){this.parentTransformer!=null?this.parentTransformer.registerPairedAntlers(e,i):this.tagPairs.set(e,i)}preparePairedAntlers(e){let i=this.makeSlug(e.getOriginalContent().length),r=this.getAntlersChildDoc(e);if(e.fragmentPosition!=0){let n="",s="";if(e.prev instanceof G&&e.prev.isPaired()==!1&&(s+=this.registerForcedBreak()),s+=`${this.open(i)}
`,e.containsChildStructures==!1&&e.containsAnyFragments==!1){let a=!1,o=!0,l=!0,u=0;for(let f=0;f<e.children.length;f++){let d=e.children[f];if(d instanceof Qe&&d.sourceContent.trim().length>0){a=!0,o=!1;break}}e.children.length==2&&e.children[0]instanceof G&&(a=!0);let c=0;for(let f=0;f<e.children.length-1;f++){let d=e.children[f];d instanceof G&&(u+=1,d.isInlineAntlers?c+=1:l=!1)}c==0&&(a=!0),l==!1&&(a=!1),o==!1&&u==0&&(a=!1),a?(n=this.makeSlug(15),s+=this.pair(n,r)):s+=r}else s+=r;return s+=`
${this.close(i)}
`,this.virtualStructureOpens.push(this.open(n)),this.virtualStructureClose.push(this.close(n)),this.virtualStructureClose.push(this.close(i)),this.registerPairedAntlers(i,{innerDoc:r,slug:i,tag:e,virtualElementSlug:n,isInline:!1}),s}return this.prepareConditionalAntlersPair(e)}registerInlineAntlers(e){if(this.parentTransformer!=null)return this.parentTransformer.registerInlineAntlers(e);{let i=this.makeSlug(e.getOriginalContent().length);return e.isInlineAntlers?(this.spanNodes.set(i,e),i):(this.inlineNodes.set(i,e),this.selfClosing(i))}}registerVirtualComment(e){this.parentTransformer!=null?this.parentTransformer.registerVirtualComment(e):this.blockComments.push(e)}registerComment(e,i){this.parentTransformer!=null?this.parentTransformer.registerComment(e,i):this.inlineComments.set(e,i)}prepareComment(e){let i=e.getContent();if(i.trim().includes(`
`)){let s=this.makeSlug(10),a=this.makeSlug(10),o={node:e,pairOpen:this.open(s),pairClose:this.close(s),virtualElement:this.selfClosing(a)};return this.registerVirtualComment(o),o.pairOpen+`
`+o.virtualElement+`
`+o.pairClose}let n=this.makeSlug(i.length);return this.registerComment(n,e),this.selfClosing(n)}registerDynamicAntlersPair(e,i){this.parentTransformer!=null?(this.dynamicElementPairedAntlers.set(i.nodeContent,e),this.parentTransformer.registerDynamicAntlersPair(e,i)):(this.dynamicElementPairedAntlers.set(i.nodeContent,e),this.dynamicElementPairedAntlersNodes.set(e,i))}prepareConditionalAntlersPair(e){if(this.dynamicElementPairedAntlers.has(e.nodeContent))return this.dynamicElementPairedAntlers.get(e.nodeContent);let i=this.makeSlug(e.nodeContent.length);return this.registerDynamicAntlersPair(i,e),i}registerDynamicCondition(e,i){this.parentTransformer!=null?(this.dynamicElementConditionAntlers.set(i.nodeContent,e),this.parentTransformer.registerDynamicCondition(e,i)):(this.dynamicElementConditionAntlers.set(i.nodeContent,e),this.dynamicElementConditionAntlersNodes.set(e,i))}prepareDynamicCondition(e){if(this.dynamicElementConditionAntlers.has(e.nodeContent))return this.dynamicElementConditionAntlers.get(e.nodeContent);let i=this.makeSlug(e.nodeContent.length);return this.registerDynamicCondition(i,e),i}registerDynamicAntlers(e,i){this.parentTransformer!=null?(this.dynamicElementAntlers.set(i.content,e),this.parentTransformer.registerDynamicAntlers(e,i)):(this.dynamicElementAntlers.set(i.content,e),this.dynamicElementAntlersNodes.set(e,i))}prepareConditionalAntlers(e){if(this.dynamicElementAntlers.has(e.content))return this.dynamicElementAntlers.get(e.content);let i=this.makeSlug(e.content.length);return this.registerDynamicAntlers(i,e),i}prepareAntlers(e){return e.isClosedBy!=null?this.preparePairedAntlers(e):e.fragmentPosition==0?this.prepareConditionalAntlers(e):this.registerInlineAntlers(e)}transformDynamicAntlers(e){let i=e;return this.dynamicElementAntlersNodes.forEach((r,n)=>{let s=this.printNode(r);i=Dt(i,n,s)}),this.dynamicElementPairedAntlersNodes.forEach((r,n)=>{let s=r.nodeContent;i=Dt(i,n,s)}),this.dynamicElementConditionAntlersNodes.forEach((r,n)=>{let s=r.nodeContent;i=Dt(i,n,s)}),i}transformPairedAntlers(e){let i=e;return this.tagPairs.forEach((r,n)=>{let s=r.tag;if(r.virtualElementSlug.length>0){let l=this.open(r.virtualElementSlug),u=this.close(r.virtualElementSlug);this.virtualStructureOpens.push(l),this.removeLines.push(l),this.removeLines.push(u)}let a=this.open(n),o=this.close(n);i=i.replace(a,this.printNode(s,this.indentLevel(a))),i=i.replace(o,this.printNode(s.isClosedBy))}),i}transformInlineAntlers(e){let i=e;return this.inlineNodes.forEach((r,n)=>{let s=this.selfClosing(n),a=this.indentLevel(s);i=i.replace(s,this.printNode(r,this.indentLevel(s)))}),this.spanNodes.forEach((r,n)=>{var a,o;let s=0;r.isVirtual&&(((a=r.name)==null?void 0:a.name)=="switch"||((o=r.name)==null?void 0:o.name)=="list")&&(s=this.indentLevel(n,!0)),i=i.replace(n,this.printNode(r,s))}),i}transformComments(e){let i=e;return this.inlineComments.forEach((r,n)=>{let s=this.selfClosing(n);i=i.replace(s,Lf.printComment(r,this.options.tabSize,0))}),this.blockComments.forEach(r=>{let n=r.node;i=i.replace(r.pairOpen,Lf.printComment(n,this.options.tabSize,this.indentLevel(r.pairOpen))),this.removeLines.push(r.pairClose),this.removeLines.push(r.virtualElement)}),i}registerEmbeddedDocument(e,i,r){return this.parentTransformer!=null?this.parentTransformer.registerEmbeddedDocument(e,i,r):(this.extractedEmbeddedDocuments.set(e,{slug:e,content:i,isScript:r}),e)}clone(){let e=new nu(this.doc);return e.withOptions(this.options).setParentTransformer(this),e}toStructure(e=null){let i="";e==null&&(e=this.doc.getDocumentParser().getRenderNodes()),e.forEach(n=>{n instanceof Qe?n.sourceContent==""?i+=n.content:i+=n.sourceContent:n instanceof st?i+=this.prepareCondition(n):n instanceof pi?i+=this.prepareNoParse(n):n instanceof G&&(n.isComment?i+=this.prepareComment(n):i+=this.prepareAntlers(n))});let r=this.doc.getDocumentParser().getFragmentsContainingStructures();if(r.length>0){let n=new Pt;n.loadString(i),r.forEach(s=>{var p,m,_,P,g,T,y,A;let a=this.doc.getDocumentParser().getText(((m=(p=s.start.endPosition)==null?void 0:p.offset)!=null?m:0)+1,(P=(_=s.end.startPosition)==null?void 0:_.offset)!=null?P:0),o=n.getDocumentParser().getFragmentsParser().getEmbeddedFragment(s.start.embeddedIndex);if(o==null)return;let l=n.getDocumentParser().getFragmentsParser().getClosingFragmentAfter(o);if(l==null)return;let u=n.getDocumentParser().getText(((T=(g=o.endPosition)==null?void 0:g.offset)!=null?T:0)+1,(A=(y=l==null?void 0:l.startPosition)==null?void 0:y.offset)!=null?A:0),c=this.makeSlug(16),f=s.start.name.toLowerCase()=="script",d=c;f?d="//"+c:d="/*"+c+"*/",i=i.replace(u,d),this.registerEmbeddedDocument(c,a,f)})}return i}removeVirtualStructures(e){let i=e;return this.removeLines.forEach(r=>{i=i.replace(r,"")}),i}indentLevel(e,i=!1){for(let r=0;r<this.structureLines.length;r++){let n=this.structureLines[r];if(n.includes(e)){let s=n.trimLeft(),a=n.length-s.length;return i&&(a+=n.indexOf(e)),a}}return 0}shouldCleanAfter(e){for(let i=0;i<this.removeLines.length;i++)if(e.startsWith(this.removeLines[i]))return!0;for(let i=0;i<this.forceCleanLines.length;i++)if(e.startsWith(this.forceCleanLines[i]))return!0;return!1}shouldCleanLine(e){for(let i=0;i<this.forceCleanLines.length;i++){let r=e.trim();if(e.startsWith(this.forceCleanLines[i])||r.startsWith("{{ /")&&r.endsWith("}}"))return!0}return!1}cleanVirtualStructures(e){let i=[],r=K.breakByNewLine(e),n=!1;for(let s=0;s<r.length;s++){let a=r[s].trim();if(n){if(a.length==0)continue;n=!1}else n=this.shouldCleanAfter(a);if(this.shouldCleanLine(a))for(let o=i.length-1;o>0&&i[o].trim().length==0;o--)i.pop();if(!this.removeLines.includes(a)){let o=r[s];this.removeLines.forEach(l=>{o.includes(l)&&(o=o.replace(l,""))}),i.push(o)}}return i.join(`
`)}cleanStructuralNewLines(e){let i=K.breakByNewLine(e),r=[],n=!1;return i.forEach(s=>{let a=s.trim();if(a.startsWith("{{")&&a.endsWith("}}")){r.push(s),n=!0;return}n&&a.length>0&&(n=!1),n||r.push(s)}),r.join(`
`)}reflowSlugs(e){let i=e;return this.slugs.forEach(r=>{let n=this.open(r),s=this.close(r),a=this.selfClosing(r),o="/<"+r+"(.*?)>/gms",l="/</"+r+"(.*?)>/gms",u="/<"+r+"(.*?)/>/gms";i=i.replace(o,n),i=i.replace(l,s),i=i.replace(u,a)}),i}cleanLines(e){let i=K.breakByNewLine(e),r=[],n=!1,s=0,a=!1;for(let o=0;o<i.length;o++){let l=i[o].trim(),u=i[o];if(l.startsWith("{{")&&l.endsWith("}}")){n&&(s=0),l.startsWith("{{ /")==!1?a=!0:a=!1,n=!0,r.push(u);continue}if(!n)r.push(u);else if(l.length==0){if(a==!1){s=0,n=!1;continue}s+=1;continue}else a&&s>1&&r.push(""),s=0,r.push(u),n=!1}return r.join(`
`)}fromStructure(e){let i=this.reflowSlugs(e);this.structureLines=K.breakByNewLine(i);let r=this.transformInlineConditions(i);if(r=this.transformConditions(r),r=this.transformInlineAntlers(r),r=this.transformComments(r),r=this.transformVirtualStructures(r),r=this.transformDynamicAntlers(r),r=this.transformPairedAntlers(r),r=this.transformExtractedDocuments(r),r=this.cleanVirtualStructures(r),r=this.cleanLines(r),this.doc.hasFrontMatter()){let n=this.doc.getFrontMatter(),s=this.doc.getFrontMatterDoc();s!=null&&s.isValid&&this.yamlFormatter!=null&&(n=this.yamlFormatter(n)),r=`---
${n}
---
`+`
`.repeat(this.options.newlinesAfterFrontMatter)+r.trimLeft()}return r=r.trimRight(),this.options.endNewline&&(r+=`
`),r}};var PN=te(cn());var Bh=class{constructor(){this.content="";this.ranges=[];this.lastDocumentOffsetKey=null;this.documentOffsets=new Map;this.lineIndex=new Map;this.keys=[];this.values=[];this.isValid=!1;this.parseError=null}loadString(e){var c;this.content=K.normalizeLineEndings(e);let i=null;try{i=PN.parseDocument(this.content),this.isValid=!0}catch(f){this.isValid=!1,this.parseError=f}if(i==null)return;let r=[...this.content.matchAll(/(\n)/gm)],n=r.length,s=2,a=null,o=0,l=0;for(let f=0;f<n;f++){let d=r[f],p=(c=d.index)!=null?c:0,m=p;a!=null?m=p-a:m=m+1,this.documentOffsets.set(p,{char:m,line:s});let _=0,P=0;f==0?(P=m-1,_=0):(_=l+1,P=p),this.lineIndex.set(s,{char:m,line:s,startIndex:_,endIndex:P}),this.lastDocumentOffsetKey=p,s+=1,a=p,l=P,o=_}let u=i.contents;this.processMap(u)}processMap(e){typeof e.items!="undefined"&&e.items.forEach(i=>{this.processItem(i)})}processItem(e){if(e.type=="PAIR"){if(e.value instanceof iu||e.value instanceof Xo){let s=e.key;if(s.range!=null){let a=this.positionFromOffset(s.range[0],s.range[0]),o=this.positionFromOffset(s.range[1],s.range[1]);this.ranges.push({start:a,end:o,length:o.char-a.char+1,content:"property"}),this.keys.push({start:a,end:o,length:o.char-a.char+1,content:s.value}),e.value instanceof Xo?this.processMap(e.value.items[0]):this.processMap(e.value);return}}let i=e,r=i.key,n=i.value;if(r.range!=null&&n.range!=null){let s=this.positionFromOffset(r.range[0],r.range[0]),a=this.positionFromOffset(r.range[1],r.range[1]),o=this.positionFromOffset(n.range[0],n.range[0]),l=this.positionFromOffset(n.range[1],n.range[1]),u="string";parseInt(n.value)==n.value&&(u="number"),this.ranges.push({start:s,end:a,length:a.char-s.char+1,content:"property"}),this.keys.push({start:s,end:a,length:a.char-s.char+1,content:r.value}),this.ranges.push({start:o,end:l,length:l.char-o.char+1,content:u}),this.values.push({start:o,end:l,length:l.char-o.char+1,content:n.value})}}}positionFromOffset(e,i,r=!1){let n=0,s=0;if(this.documentOffsets.has(e)){let o=this.documentOffsets.get(e);n=o.line,s=o.char}else if(this.documentOffsets.size==0)n=1,s=e+1;else{let o=null,l=null,u=null,c=null;for(let f of this.documentOffsets.keys()){if(f>=e){c!=null&&e>c?(o=u,l=c):(o=this.documentOffsets.get(f),l=f);break}u=this.documentOffsets.get(f),c=f}if(o==null&&(o=u,l=c),o!=null)if(r){let f=this.content.split(""),d=e-(l!=null?l:0),p=o.char-(l!=null?l:0)+e;s=d,n=o.line,e<=(l!=null?l:0)?(n=o.line,s=e+1):n=o.line+1}else{let f=this.content.split(""),d=e-(l!=null?l:0),p=o.char-(l!=null?l:0)+e;s=d,n=o.line,e<=(l!=null?l:0)?(n=o.line,s=e+1):n=o.line+1}else this.lastDocumentOffsetKey!=null&&(n=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new $t;return a.index=i,a.offset=e,a.line=n,a.char=s,a}getRanges(){return this.ranges}getKeys(){return this.keys}getValues(){return this.values}};var Pt=class{constructor(){this.documentParser=new D;this.transformer=null;this.originalText="";this.ranges=new qh(this);this.nodes=new Mh(this);this.cursor=new bh(this);this.errors=new vh(this);this.project=null;this.documentUri=""}static fromText(e,i){let r=new Pt;return typeof i!="undefined"&&(r.project=i),r.loadString(e)}static childFromText(e,i=null){let r=new Pt;return i!=null&&r.getDocumentParser().setSeedPosition(i),r.getDocumentParser().withChildDocuments(!0),r.loadString(e),{renderNodes:r.getDocumentParser().getRenderNodes(),content:e,document:r}}isValid(){return!(this.hasInvalidControlFlowStructures()||this.hasUnclosedStructures())}getDocumentOptions(){let e=this.getAllNodes();if(e.length==0||!(e[0]instanceof G))return null;let i=e[0];return i.isComment==!1?null:Cl(this.documentUri,i)}isFormattingEnabled(){let e=this.getDocumentOptions();return e==null?!0:e.formatterEnabled}hasInvalidControlFlowStructures(){return this.documentParser.hasUnclosedIfStructures()}hasUnclosedStructures(){return this.documentParser.hasUnclosedStructures()}getFrontMatterDoc(){if(this.hasFrontMatter()){let e=new Bh;return e.loadString(this.getFrontMatter()),e}return null}hasFrontMatter(){return this.documentParser.getFrontMatter().trim().length>0}getFrontMatter(){return this.documentParser.getFrontMatter()}getFrontMatterScope(){if(this.project==null)return null;let e=new kh(this.project);return e.parse(this.getFrontMatter()),e.getScope()}updateProject(e){this.project=e,this.updateProjectDetails()}updateProjectDetails(){try{if(this.project!=null){let e=new th(this.project,this.documentUri,this),i=this.documentParser.antlersNodes();i.forEach(r=>{var n,s;if(this.project!=null&&((n=Le.instance)==null?void 0:n.canResolveSpecialTypes(r.getTagName()))){let a=(s=Le.instance)==null?void 0:s.resolveSpecialType(r.getTagName(),r,this.project);a.context!=null&&(r.reference=a.context)}}),e.analyzeScope(i);for(let r=0;r<i.length;r++){let n=i[r];if(n.hasParameters)for(let s=0;s<n.parameters.length;s++){let a=n.parameters[s];if(a.hasInterpolations())for(let o=0;o<a.interpolations.length;o++){let l=a.interpolations[o];n.processedInterpolationRegions.has(l)&&n.processedInterpolationRegions.get(l).forEach(c=>{c instanceof G&&(c.currentScope=n.currentScope)})}}}Iv(this)}}catch(e){console.log(e)}}loadString(e){return this.originalText=e,this.documentParser.parse(e),this.updateProjectDetails(),this}getDocumentParser(){return this.documentParser}getParsedContent(){return this.documentParser.getParsedContent()}getAllNodes(){return this.documentParser.getNodes()}getAllAntlersNodes(){return this.documentParser.antlersNodes()}extractText(){let e=[];return this.nodes.getAllLiteralNodes().forEach(i=>{e.push(i.content)}),e.join("")}getNameAt(e){let i=this.nodes.getNodeAt(e);return i instanceof G?i.name:null}getLinesAround(e){return this.documentParser.getLinesAround(e)}getContent(){return this.documentParser.getContent()}getOriginalContent(){return this.documentParser.getOriginalContent()}reloadDocument(){this.loadString(this.originalText)}getFeaturesAt(e){let i=this.nodes.getNodeAt(e);return zn.resolveContext(e,i,this,!1,i)}getText(e,i){return this.documentParser.getText(e,i)}charLeftAt(e){return this.documentParser.charLeftAt(e)}charAt(e){return this.documentParser.charAt(e)}charRightAt(e){return this.documentParser.charRightAt(e)}getLineIndex(e){return this.documentParser.getLineIndex(e)}getLineText(e){return this.documentParser.getLineText(e)}wordAt(e,i=4){return this.documentParser.wordAt(e,i)}wordLeftAt(e,i=4){return this.documentParser.wordLeftAt(e,i)}wordRightAt(e,i=4){return this.documentParser.wordRightAt(e,i)}punctuationLeftAt(e,i=4){return this.documentParser.punctuationLeftAt(e,i)}punctuationRightAt(e,i=4){return this.documentParser.punctuationRightAt(e,i)}getLineChars(e){let i=this.getLineText(e);return i!=null?i.split(""):null}transform(){return this.transformer==null&&(this.transformer=new nu(this)),this.transformer}};var Ia=class{constructor(){this.loadedDocuments=new Map;this.activeProject=null}getDocuments(){let e=[];return this.loadedDocuments.forEach(i=>{e.push(i)}),e}setProject(e){this.activeProject=e,this.loadedDocuments.forEach(i=>{this.activeProject!=null&&i.updateProject(this.activeProject)})}refreshDocumentState(){this.activeProject!=null&&this.setProject(this.activeProject)}hasDocument(e){return this.loadedDocuments.has(e)}createDocument(e){if(!this.loadedDocuments.has(e)){let i=new Pt;i.documentUri=e,this.loadedDocuments.set(e,i)}}loadDocument(e,i){this.loadedDocuments.set(e,Pt.fromText(i))}getDocument(e){return this.loadedDocuments.get(e)}updateDocument(e,i){var r,n;if(this.loadedDocuments.has(e)){let s=this.loadedDocuments.get(e);s.loadString(i);let a=(n=(r=de.instance)==null?void 0:r.getStructure())==null?void 0:n.findView(e);a!=null&&(a.document=s)}}createOrUpdate(e,i){this.createDocument(e),this.updateDocument(e,i)}getDocumentErrors(e){return this.loadedDocuments.has(e)?this.loadedDocuments.get(e).errors.all():[]}};Ia.instance=null;(typeof Ia.instance=="undefined"||Ia.instance==null)&&(Ia.instance=new Ia);var NN=Ia;var fn=new Map,we=new NN;function SN(t,e){let i=[];return t.processedInterpolationRegions.size>0&&t.processedInterpolationRegions.forEach((r,n)=>{var s;for(let a=0;a<r.length;a++){let o=r[a];if(o instanceof G&&e.isWithin(o.startPosition,o.endPosition)){o.currentScope==null&&(((s=t.parent)==null?void 0:s.currentScope)!=null?o.currentScope=t.parent.currentScope:o.currentScope=t.currentScope),i.push(o),o.processedInterpolationRegions.size>0&&(i=i.concat(SN(o,e)));break}}}),i}function $i(t,e,i=!0){var d,p,m,_,P,g,T,y,A,N,U;if(!we.hasDocument(e)||de.instance==null||de.instance.hasStructure()==!1)return null;let r=we.getDocument(e),n=t.line+1,s=t.character+1,a=r.cursor.getFeaturesAt(n,s),o=r.cursor.position(n,s),l=de.instance.getStructure(),u=r.cursor.getAncestorsAt(n,s);if(o!=null&&u.length>0){let V=u[u.length-1];SN(V,o).forEach(w=>{u.push(w)})}let c=(a==null?void 0:a.isCursorInIdentifier)==!1;return c==!1&&((d=a==null?void 0:a.leftChar)!=null?d:"")==" "&&(c=!0),{hasFrontMatter:r.hasFrontMatter(),antlersDocument:r,frontMatterEndsOn:r.getDocumentParser().getFrontMatterEndLine(),document:e,leftMeaningfulWord:(p=a==null?void 0:a.leftWord)!=null?p:null,leftChar:(m=a==null?void 0:a.leftChar)!=null?m:"",leftWord:(P=(_=a==null?void 0:a.leftWord)==null?void 0:_.trim())!=null?P:"",originalLeftWord:(g=a==null?void 0:a.leftWord)!=null?g:"",rightWord:(T=a==null?void 0:a.rightWord)!=null?T:"",rightChar:(y=a==null?void 0:a.rightChar)!=null?y:"",context:a,position:t,project:l,nodesInScope:u,isInDoubleBraces:((A=a==null?void 0:a.node)==null?void 0:A.rawStart)=="{{",isInVariableInterpolation:(N=a==null?void 0:a.interpolatedContext)!=null?N:!1,interpolationStartsOn:null,currentNode:(U=a==null?void 0:a.node)!=null?U:null,isCaretInTag:(a==null?void 0:a.node)!=null,isPastTagPart:c,showGeneralSnippets:i}}var Qo=te(si());var $L=`{{ collection:$1 $2 }}

{{ /collection:$1 }}`,RN=$L;var zL='&copy; {{ now format="Y"  }}',CN=zL;var XL=`{{ form:set in="$1" }}

{{ if {form:errors} }}
	{{ form:errors }}

	{{ /form:errors }}
{{ /if }}

{{ if {form:success} }}

{{ /if }}

{{ form:create }}
	$2
{{ /form:create }}

{{ /form:set }}`,AN=XL;var EN=`{{# Displays your site's current locale. #}}
<span>{{ site:short_locale }}</span>

{{# Displays all available locales. #}}
<ul>
    {{ locales all="true" self="false" }}
    <li>
        <a href="{{ permalink }}" aria-label="{{ locale:name }}">{{ locale:short }}</a>
    </li>    
    {{ /locales }}
</ul>`;var QL=`<ul>
{{ nav }}
	{{ if depth == 1 }}
		$1
		{{ if children }}
			<ul>{{ *recursive children* }}</ul>
		{{ /if }}
	{{ elseif depth == 2 }}
		
	{{ /if }}
{{ /nav }}
</ul>`,wN=QL;function su(t,e,i,r){return{label:t,detail:e,insertTextFormat:Qo.InsertTextFormat.Snippet,kind:Qo.CompletionItemKind.Snippet,textEdit:Qo.TextEdit.replace(r,i),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}}function JL(t){var l,u,c,f,d;let e=[];if(t.showGeneralSnippets==!1)return e;let i={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position},r=(l=fr.instance)==null?void 0:l.getContent("collection"),n=(u=fr.instance)==null?void 0:u.getContent("formset"),s=(c=fr.instance)==null?void 0:c.getContent("nav_depth2"),a=(f=fr.instance)==null?void 0:f.getContent("copyright_year"),o=(d=fr.instance)==null?void 0:d.getContent("multisite_lang_generic");return r!=null&&e.push(su("coll","Statamic Collection",r,i)),n!=null&&e.push(su("formset","Statamic Form Set",n,i)),s!=null&&e.push(su("nav-depth2","Statamic Nav with Depth Two",s,i)),a!=null&&e.push(su("copyright_year","Copyright year using Antlers tags.",a,i)),o!=null&&e.push(su("multisite_locales","Displays the current locale, and a list of all available locales.",o,i)),e}var fr=class{constructor(){this.registeredSnippets=new Map}loadCoreSnippets(){this.registeredSnippets.set("collection",RN),this.registeredSnippets.set("formset",AN),this.registeredSnippets.set("nav_depth2",wN),this.registeredSnippets.set("copyright_year",CN),this.registeredSnippets.set("multisite_lang_generic",EN)}getContent(e){return this.registeredSnippets.has(e)?this.registeredSnippets.get(e):""}getSnippets(e){let i=[];return e==null||(i=i.concat(JL(e))),i}};fr.instance=null;(typeof fr.instance=="undefined"||fr.instance==null)&&(fr.instance=new fr,fr.instance.loadCoreSnippets());var xN=fr;var DN=new Map;function FN(t){var a,o,l;if(((a=de.instance)==null?void 0:a.hasStructure())==!1)return[];we.refreshDocumentState();let e=decodeURIComponent(t.textDocument.uri);if(we.hasDocument(e)==!1)return[];let i=$i(t.position,e,Pa.showGeneralSnippetCompletions);if(i==null)return[];if(i.hasFrontMatter&&i.frontMatterEndsOn>-1&&i.position.line<i.frontMatterEndsOn)return[];let r=(l=(o=xN.instance)==null?void 0:o.getSnippets(i))!=null?l:[],n=Nm.getSuggestions(i);r.length>0&&(i.isInDoubleBraces==!1||i.nodesInScope.length==0)&&(n=n.concat(r));let s=[];return n.filter(u=>s.includes(u.label)?!1:(s.push(u.label),!0))}function ON(t){if(DN.has(t.data)){let e=DN.get(t.data);e!=null&&(t.detail=e.detail,t.documentation=e.docs)}return t}var au=te(xp());var jh=te(gt());function Na(t){let e=[];return t.forEach(i=>{let r=null;i.lsRange!=null?r=i.lsRange:i.node!=null?r=Sa(i.node):i.range!=null?r={start:_t(i.range.start),end:_t(i.range.end)}:r={start:{line:1,character:1},end:{line:1,character:1}};let n=1;i.level==1&&(n=2),e.push({severity:n,range:r,message:"["+i.errorCode+"] "+i.message,source:"antlers",code:i.errorCode})}),e}function _t(t){return t==null?{character:0,line:0}:{character:t.char,line:t.line-1}}function Sa(t){var e,i,r,n,s,a,o,l;if(t instanceof Zs){let u=_t((n=(r=(e=t.valuePosition)==null?void 0:e.end)!=null?r:(i=t.blockPosition)==null?void 0:i.end)!=null?n:t.endPosition);return t.namePosition!=null&&t.namePosition.start!=null?{start:{line:t.namePosition.start.line-1,character:t.namePosition.start.char-1},end:{character:u.character-1,line:u.line}}:{start:_t((l=(o=(s=t.namePosition)==null?void 0:s.start)!=null?o:(a=t.blockPosition)==null?void 0:a.start)!=null?l:t.startPosition),end:{character:u.character+1,line:u.line}}}else if(t instanceof st&&t.logicBranches.length>0){let u=t.logicBranches[0],c=t.logicBranches[t.logicBranches.length-1];if(u.head!=null&&c.head!=null&&c.head.isClosedBy!=null)return{start:_t(u.head.startPosition),end:_t(c.head.isClosedBy.endPosition)}}return{start:_t(t.startPosition),end:_t(t.endPosition)}}function LN(t){if(t.isClosedBy==null)return null;let e=-1,i=-1,r=-1,n=-1;return t.startPosition!=null&&(e=t.startPosition.line-1,i=t.startPosition.char),t.isClosedBy.endPosition!=null?(r=t.isClosedBy.endPosition.char,n=t.isClosedBy.endPosition.line-1):t.isClosedBy.startPosition!=null&&(r=t.isClosedBy.startPosition.char,n=t.isClosedBy.startPosition.line-1),e==-1||n==-1||i==-1||r==-1?null:{kind:jh.FoldingRangeKind.Region,startLine:e,endLine:n,startCharacter:i,endCharacter:r}}function Uh(t){let e=-1,i=-1,r=-1,n=-1;return t.startPosition!=null&&(e=t.startPosition.line-1,i=t.startPosition.char),t.endPosition!=null&&(r=t.endPosition.char,n=t.endPosition.line-1),e==-1||i==-1||r==-1||n==-1?null:{kind:jh.FoldingRangeKind.Comment,startLine:e,endLine:n,startCharacter:i,endCharacter:r}}function kN(t){let e=decodeURIComponent(t.textDocument.uri);if(we.hasDocument(e)){let i=we.getDocument(e),r=i.ranges.getAllPairedNodes(),n=i.nodes.getMultiLineComments(),s=i.nodes.getMultilineNodes(),a=[];if(i.hasFrontMatter()){let o=i.getDocumentParser().getFrontMatterEndLine();a.push({startLine:0,endLine:o-1,kind:au.FoldingRangeKind.Imports})}return r.length>0&&r.forEach(o=>{var u,c,f;if(((u=o.startPosition)==null?void 0:u.line)==((f=(c=o.isClosedBy)==null?void 0:c.startPosition)==null?void 0:f.line))return;let l=LN(o);l!=null&&(l.kind=au.FoldingRangeKind.Region,a.push(l))}),n.length>0&&n.forEach(o=>{let l=Uh(o);l!=null&&(l.kind=au.FoldingRangeKind.Comment,a.push(l))}),s.length>0&&s.forEach(o=>{if(o.isClosedBy!=null)return;let l=Uh(o);l!=null&&(l.kind=au.FoldingRangeKind.Region,a.push(l))}),a}return[]}function MN(t){return typeof t=="undefined"||t===null}function ZL(t){return typeof t=="object"&&t!==null}function ek(t){return Array.isArray(t)?t:MN(t)?[]:[t]}function tk(t,e){var i,r,n,s;if(e)for(s=Object.keys(e),i=0,r=s.length;i<r;i+=1)n=s[i],t[n]=e[n];return t}function ik(t,e){var i="",r;for(r=0;r<e;r+=1)i+=t;return i}function rk(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var nk=MN,sk=ZL,ak=ek,ok=ik,lk=rk,uk=tk,Zt={isNothing:nk,isObject:sk,toArray:ak,repeat:ok,isNegativeZero:lk,extend:uk};function qN(t,e){var i="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(i+='in "'+t.mark.name+'" '),i+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(i+=`

`+t.mark.snippet),r+" "+i):r}function ou(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=qN(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ou.prototype=Object.create(Error.prototype);ou.prototype.constructor=ou;ou.prototype.toString=function(e){return this.name+": "+qN(this,e)};var Ui=ou;function Gh(t,e,i,r,n){var s="",a="",o=Math.floor(n/2)-1;return r-e>o&&(s=" ... ",e=r-o+s.length),i-r>o&&(a=" ...",i=r+o-a.length),{str:s+t.slice(e,i).replace(/\t/g,"\u2192")+a,pos:r-e+s.length}}function Wh(t,e){return Zt.repeat(" ",e-t.length)+t}function ck(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var i=/\r?\n|\r|\0/g,r=[0],n=[],s,a=-1;s=i.exec(t.buffer);)n.push(s.index),r.push(s.index+s[0].length),t.position<=s.index&&a<0&&(a=r.length-2);a<0&&(a=r.length-1);var o="",l,u,c=Math.min(t.line+e.linesAfter,n.length).toString().length,f=e.maxLength-(e.indent+c+3);for(l=1;l<=e.linesBefore&&!(a-l<0);l++)u=Gh(t.buffer,r[a-l],n[a-l],t.position-(r[a]-r[a-l]),f),o=Zt.repeat(" ",e.indent)+Wh((t.line-l+1).toString(),c)+" | "+u.str+`
`+o;for(u=Gh(t.buffer,r[a],n[a],t.position,f),o+=Zt.repeat(" ",e.indent)+Wh((t.line+1).toString(),c)+" | "+u.str+`
`,o+=Zt.repeat("-",e.indent+c+3+u.pos)+`^
`,l=1;l<=e.linesAfter&&!(a+l>=n.length);l++)u=Gh(t.buffer,r[a+l],n[a+l],t.position-(r[a]-r[a+l]),f),o+=Zt.repeat(" ",e.indent)+Wh((t.line+l+1).toString(),c)+" | "+u.str+`
`;return o.replace(/\n$/,"")}var fk=ck,dk=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],pk=["scalar","sequence","mapping"];function mk(t){var e={};return t!==null&&Object.keys(t).forEach(function(i){t[i].forEach(function(r){e[String(r)]=i})}),e}function hk(t,e){if(e=e||{},Object.keys(e).forEach(function(i){if(dk.indexOf(i)===-1)throw new Ui('Unknown option "'+i+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(i){return i},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=mk(e.styleAliases||null),pk.indexOf(this.kind)===-1)throw new Ui('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var Ri=hk;function VN(t,e){var i=[];return t[e].forEach(function(r){var n=i.length;i.forEach(function(s,a){s.tag===r.tag&&s.kind===r.kind&&s.multi===r.multi&&(n=a)}),i[n]=r}),i}function gk(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,i;function r(n){n.multi?(t.multi[n.kind].push(n),t.multi.fallback.push(n)):t[n.kind][n.tag]=t.fallback[n.tag]=n}for(e=0,i=arguments.length;e<i;e+=1)arguments[e].forEach(r);return t}function Hh(t){return this.extend(t)}Hh.prototype.extend=function(e){var i=[],r=[];if(e instanceof Ri)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(i=i.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new Ui("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");i.forEach(function(s){if(!(s instanceof Ri))throw new Ui("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Ui("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Ui("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(s){if(!(s instanceof Ri))throw new Ui("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var n=Object.create(Hh.prototype);return n.implicit=(this.implicit||[]).concat(i),n.explicit=(this.explicit||[]).concat(r),n.compiledImplicit=VN(n,"implicit"),n.compiledExplicit=VN(n,"explicit"),n.compiledTypeMap=gk(n.compiledImplicit,n.compiledExplicit),n};var _k=Hh,yk=new Ri("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),Tk=new Ri("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),bk=new Ri("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),vk=new _k({explicit:[yk,Tk,bk]});function Ik(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function Pk(){return null}function Nk(t){return t===null}var Sk=new Ri("tag:yaml.org,2002:null",{kind:"scalar",resolve:Ik,construct:Pk,predicate:Nk,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Rk(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function Ck(t){return t==="true"||t==="True"||t==="TRUE"}function Ak(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var Ek=new Ri("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Rk,construct:Ck,predicate:Ak,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function wk(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function xk(t){return 48<=t&&t<=55}function Dk(t){return 48<=t&&t<=57}function Fk(t){if(t===null)return!1;var e=t.length,i=0,r=!1,n;if(!e)return!1;if(n=t[i],(n==="-"||n==="+")&&(n=t[++i]),n==="0"){if(i+1===e)return!0;if(n=t[++i],n==="b"){for(i++;i<e;i++)if(n=t[i],n!=="_"){if(n!=="0"&&n!=="1")return!1;r=!0}return r&&n!=="_"}if(n==="x"){for(i++;i<e;i++)if(n=t[i],n!=="_"){if(!wk(t.charCodeAt(i)))return!1;r=!0}return r&&n!=="_"}if(n==="o"){for(i++;i<e;i++)if(n=t[i],n!=="_"){if(!xk(t.charCodeAt(i)))return!1;r=!0}return r&&n!=="_"}}if(n==="_")return!1;for(;i<e;i++)if(n=t[i],n!=="_"){if(!Dk(t.charCodeAt(i)))return!1;r=!0}return!(!r||n==="_")}function Ok(t){var e=t,i=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(i=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return i*parseInt(e.slice(2),2);if(e[1]==="x")return i*parseInt(e.slice(2),16);if(e[1]==="o")return i*parseInt(e.slice(2),8)}return i*parseInt(e,10)}function Lk(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Zt.isNegativeZero(t)}var kk=new Ri("tag:yaml.org,2002:int",{kind:"scalar",resolve:Fk,construct:Ok,predicate:Lk,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Mk=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function qk(t){return!(t===null||!Mk.test(t)||t[t.length-1]==="_")}function Vk(t){var e,i;return e=t.replace(/_/g,"").toLowerCase(),i=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?i===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:i*parseFloat(e,10)}var Bk=/^[-+]?[0-9]+e/;function jk(t,e){var i;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Zt.isNegativeZero(t))return"-0.0";return i=t.toString(10),Bk.test(i)?i.replace("e",".e"):i}function Uk(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Zt.isNegativeZero(t))}var Gk=new Ri("tag:yaml.org,2002:float",{kind:"scalar",resolve:qk,construct:Vk,predicate:Uk,represent:jk,defaultStyle:"lowercase"}),Wk=vk.extend({implicit:[Sk,Ek,kk,Gk]}),Hk=Wk,BN=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),jN=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Yk(t){return t===null?!1:BN.exec(t)!==null||jN.exec(t)!==null}function Kk(t){var e,i,r,n,s,a,o,l=0,u=null,c,f,d;if(e=BN.exec(t),e===null&&(e=jN.exec(t)),e===null)throw new Error("Date resolve error");if(i=+e[1],r=+e[2]-1,n=+e[3],!e[4])return new Date(Date.UTC(i,r,n));if(s=+e[4],a=+e[5],o=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(c=+e[10],f=+(e[11]||0),u=(c*60+f)*6e4,e[9]==="-"&&(u=-u)),d=new Date(Date.UTC(i,r,n,s,a,o,l)),u&&d.setTime(d.getTime()-u),d}function $k(t){return t.toISOString()}var zk=new Ri("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Yk,construct:Kk,instanceOf:Date,represent:$k});function Xk(t){return t==="<<"||t===null}var Qk=new Ri("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Xk}),Yh=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Jk(t){if(t===null)return!1;var e,i,r=0,n=t.length,s=Yh;for(i=0;i<n;i++)if(e=s.indexOf(t.charAt(i)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}function Zk(t){var e,i,r=t.replace(/[\r\n=]/g,""),n=r.length,s=Yh,a=0,o=[];for(e=0;e<n;e++)e%4===0&&e&&(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)),a=a<<6|s.indexOf(r.charAt(e));return i=n%4*6,i===0?(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)):i===18?(o.push(a>>10&255),o.push(a>>2&255)):i===12&&o.push(a>>4&255),new Uint8Array(o)}function eM(t){var e="",i=0,r,n,s=t.length,a=Yh;for(r=0;r<s;r++)r%3===0&&r&&(e+=a[i>>18&63],e+=a[i>>12&63],e+=a[i>>6&63],e+=a[i&63]),i=(i<<8)+t[r];return n=s%3,n===0?(e+=a[i>>18&63],e+=a[i>>12&63],e+=a[i>>6&63],e+=a[i&63]):n===2?(e+=a[i>>10&63],e+=a[i>>4&63],e+=a[i<<2&63],e+=a[64]):n===1&&(e+=a[i>>2&63],e+=a[i<<4&63],e+=a[64],e+=a[64]),e}function tM(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var iM=new Ri("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Jk,construct:Zk,predicate:tM,represent:eM}),rM=Object.prototype.hasOwnProperty,nM=Object.prototype.toString;function sM(t){if(t===null)return!0;var e=[],i,r,n,s,a,o=t;for(i=0,r=o.length;i<r;i+=1){if(n=o[i],a=!1,nM.call(n)!=="[object Object]")return!1;for(s in n)if(rM.call(n,s))if(!a)a=!0;else return!1;if(!a)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function aM(t){return t!==null?t:[]}var oM=new Ri("tag:yaml.org,2002:omap",{kind:"sequence",resolve:sM,construct:aM}),lM=Object.prototype.toString;function uM(t){if(t===null)return!0;var e,i,r,n,s,a=t;for(s=new Array(a.length),e=0,i=a.length;e<i;e+=1){if(r=a[e],lM.call(r)!=="[object Object]"||(n=Object.keys(r),n.length!==1))return!1;s[e]=[n[0],r[n[0]]]}return!0}function cM(t){if(t===null)return[];var e,i,r,n,s,a=t;for(s=new Array(a.length),e=0,i=a.length;e<i;e+=1)r=a[e],n=Object.keys(r),s[e]=[n[0],r[n[0]]];return s}var fM=new Ri("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:uM,construct:cM}),dM=Object.prototype.hasOwnProperty;function pM(t){if(t===null)return!0;var e,i=t;for(e in i)if(dM.call(i,e)&&i[e]!==null)return!1;return!0}function mM(t){return t!==null?t:{}}var hM=new Ri("tag:yaml.org,2002:set",{kind:"mapping",resolve:pM,construct:mM}),UN=Hk.extend({implicit:[zk,Qk],explicit:[iM,oM,fM,hM]}),ws=Object.prototype.hasOwnProperty,kf=1,GN=2,WN=3,Mf=4,Kh=1,gM=2,HN=3,_M=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,yM=/[\x85\u2028\u2029]/,TM=/[,\[\]\{\}]/,YN=/^(?:!|!!|![a-z\-]+!)$/i,KN=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function $N(t){return Object.prototype.toString.call(t)}function An(t){return t===10||t===13}function Ra(t){return t===9||t===32}function zi(t){return t===9||t===32||t===10||t===13}function Jo(t){return t===44||t===91||t===93||t===123||t===125}function bM(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function vM(t){return t===120?2:t===117?4:t===85?8:0}function IM(t){return 48<=t&&t<=57?t-48:-1}function zN(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function PM(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var XN=new Array(256),QN=new Array(256);for(Ca=0;Ca<256;Ca++)XN[Ca]=zN(Ca)?1:0,QN[Ca]=zN(Ca);var Ca;function NM(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||UN,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function JN(t,e){var i={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return i.snippet=fk(i),new Ui(e,i)}function _e(t,e){throw JN(t,e)}function qf(t,e){t.onWarning&&t.onWarning.call(null,JN(t,e))}var ZN={YAML:function(e,i,r){var n,s,a;e.version!==null&&_e(e,"duplication of %YAML directive"),r.length!==1&&_e(e,"YAML directive accepts exactly one argument"),n=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),n===null&&_e(e,"ill-formed argument of the YAML directive"),s=parseInt(n[1],10),a=parseInt(n[2],10),s!==1&&_e(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=a<2,a!==1&&a!==2&&qf(e,"unsupported YAML version of the document")},TAG:function(e,i,r){var n,s;r.length!==2&&_e(e,"TAG directive accepts exactly two arguments"),n=r[0],s=r[1],YN.test(n)||_e(e,"ill-formed tag handle (first argument) of the TAG directive"),ws.call(e.tagMap,n)&&_e(e,'there is a previously declared suffix for "'+n+'" tag handle'),KN.test(s)||_e(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{_e(e,"tag prefix is malformed: "+s)}e.tagMap[n]=s}};function xs(t,e,i,r){var n,s,a,o;if(e<i){if(o=t.input.slice(e,i),r)for(n=0,s=o.length;n<s;n+=1)a=o.charCodeAt(n),a===9||32<=a&&a<=1114111||_e(t,"expected valid JSON character");else _M.test(o)&&_e(t,"the stream contains non-printable characters");t.result+=o}}function eS(t,e,i,r){var n,s,a,o;for(Zt.isObject(i)||_e(t,"cannot merge mappings; the provided source object is unacceptable"),n=Object.keys(i),a=0,o=n.length;a<o;a+=1)s=n[a],ws.call(e,s)||(e[s]=i[s],r[s]=!0)}function Zo(t,e,i,r,n,s,a,o,l){var u,c;if(Array.isArray(n))for(n=Array.prototype.slice.call(n),u=0,c=n.length;u<c;u+=1)Array.isArray(n[u])&&_e(t,"nested arrays are not supported inside keys"),typeof n=="object"&&$N(n[u])==="[object Object]"&&(n[u]="[object Object]");if(typeof n=="object"&&$N(n)==="[object Object]"&&(n="[object Object]"),n=String(n),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,c=s.length;u<c;u+=1)eS(t,e,s[u],i);else eS(t,e,s,i);else!t.json&&!ws.call(i,n)&&ws.call(e,n)&&(t.line=a||t.line,t.lineStart=o||t.lineStart,t.position=l||t.position,_e(t,"duplicated mapping key")),n==="__proto__"?Object.defineProperty(e,n,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[n]=s,delete i[n];return e}function $h(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):_e(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function Kt(t,e,i){for(var r=0,n=t.input.charCodeAt(t.position);n!==0;){for(;Ra(n);)n===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),n=t.input.charCodeAt(++t.position);if(e&&n===35)do n=t.input.charCodeAt(++t.position);while(n!==10&&n!==13&&n!==0);if(An(n))for($h(t),n=t.input.charCodeAt(t.position),r++,t.lineIndent=0;n===32;)t.lineIndent++,n=t.input.charCodeAt(++t.position);else break}return i!==-1&&r!==0&&t.lineIndent<i&&qf(t,"deficient indentation"),r}function Vf(t){var e=t.position,i;return i=t.input.charCodeAt(e),!!((i===45||i===46)&&i===t.input.charCodeAt(e+1)&&i===t.input.charCodeAt(e+2)&&(e+=3,i=t.input.charCodeAt(e),i===0||zi(i)))}function zh(t,e){e===1?t.result+=" ":e>1&&(t.result+=Zt.repeat(`
`,e-1))}function SM(t,e,i){var r,n,s,a,o,l,u,c,f=t.kind,d=t.result,p;if(p=t.input.charCodeAt(t.position),zi(p)||Jo(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(n=t.input.charCodeAt(t.position+1),zi(n)||i&&Jo(n)))return!1;for(t.kind="scalar",t.result="",s=a=t.position,o=!1;p!==0;){if(p===58){if(n=t.input.charCodeAt(t.position+1),zi(n)||i&&Jo(n))break}else if(p===35){if(r=t.input.charCodeAt(t.position-1),zi(r))break}else{if(t.position===t.lineStart&&Vf(t)||i&&Jo(p))break;if(An(p))if(l=t.line,u=t.lineStart,c=t.lineIndent,Kt(t,!1,-1),t.lineIndent>=e){o=!0,p=t.input.charCodeAt(t.position);continue}else{t.position=a,t.line=l,t.lineStart=u,t.lineIndent=c;break}}o&&(xs(t,s,a,!1),zh(t,t.line-l),s=a=t.position,o=!1),Ra(p)||(a=t.position+1),p=t.input.charCodeAt(++t.position)}return xs(t,s,a,!1),t.result?!0:(t.kind=f,t.result=d,!1)}function RM(t,e){var i,r,n;if(i=t.input.charCodeAt(t.position),i!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=n=t.position;(i=t.input.charCodeAt(t.position))!==0;)if(i===39)if(xs(t,r,t.position,!0),i=t.input.charCodeAt(++t.position),i===39)r=t.position,t.position++,n=t.position;else return!0;else An(i)?(xs(t,r,n,!0),zh(t,Kt(t,!1,e)),r=n=t.position):t.position===t.lineStart&&Vf(t)?_e(t,"unexpected end of the document within a single quoted scalar"):(t.position++,n=t.position);_e(t,"unexpected end of the stream within a single quoted scalar")}function CM(t,e){var i,r,n,s,a,o;if(o=t.input.charCodeAt(t.position),o!==34)return!1;for(t.kind="scalar",t.result="",t.position++,i=r=t.position;(o=t.input.charCodeAt(t.position))!==0;){if(o===34)return xs(t,i,t.position,!0),t.position++,!0;if(o===92){if(xs(t,i,t.position,!0),o=t.input.charCodeAt(++t.position),An(o))Kt(t,!1,e);else if(o<256&&XN[o])t.result+=QN[o],t.position++;else if((a=vM(o))>0){for(n=a,s=0;n>0;n--)o=t.input.charCodeAt(++t.position),(a=bM(o))>=0?s=(s<<4)+a:_e(t,"expected hexadecimal character");t.result+=PM(s),t.position++}else _e(t,"unknown escape sequence");i=r=t.position}else An(o)?(xs(t,i,r,!0),zh(t,Kt(t,!1,e)),i=r=t.position):t.position===t.lineStart&&Vf(t)?_e(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}_e(t,"unexpected end of the stream within a double quoted scalar")}function AM(t,e){var i=!0,r,n,s,a=t.tag,o,l=t.anchor,u,c,f,d,p,m=Object.create(null),_,P,g,T;if(T=t.input.charCodeAt(t.position),T===91)c=93,p=!1,o=[];else if(T===123)c=125,p=!0,o={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),T=t.input.charCodeAt(++t.position);T!==0;){if(Kt(t,!0,e),T=t.input.charCodeAt(t.position),T===c)return t.position++,t.tag=a,t.anchor=l,t.kind=p?"mapping":"sequence",t.result=o,!0;i?T===44&&_e(t,"expected the node content, but found ','"):_e(t,"missed comma between flow collection entries"),P=_=g=null,f=d=!1,T===63&&(u=t.input.charCodeAt(t.position+1),zi(u)&&(f=d=!0,t.position++,Kt(t,!0,e))),r=t.line,n=t.lineStart,s=t.position,el(t,e,kf,!1,!0),P=t.tag,_=t.result,Kt(t,!0,e),T=t.input.charCodeAt(t.position),(d||t.line===r)&&T===58&&(f=!0,T=t.input.charCodeAt(++t.position),Kt(t,!0,e),el(t,e,kf,!1,!0),g=t.result),p?Zo(t,o,m,P,_,g,r,n,s):f?o.push(Zo(t,null,m,P,_,g,r,n,s)):o.push(_),Kt(t,!0,e),T=t.input.charCodeAt(t.position),T===44?(i=!0,T=t.input.charCodeAt(++t.position)):i=!1}_e(t,"unexpected end of the stream within a flow collection")}function EM(t,e){var i,r,n=Kh,s=!1,a=!1,o=e,l=0,u=!1,c,f;if(f=t.input.charCodeAt(t.position),f===124)r=!1;else if(f===62)r=!0;else return!1;for(t.kind="scalar",t.result="";f!==0;)if(f=t.input.charCodeAt(++t.position),f===43||f===45)Kh===n?n=f===43?HN:gM:_e(t,"repeat of a chomping mode identifier");else if((c=IM(f))>=0)c===0?_e(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?_e(t,"repeat of an indentation width identifier"):(o=e+c-1,a=!0);else break;if(Ra(f)){do f=t.input.charCodeAt(++t.position);while(Ra(f));if(f===35)do f=t.input.charCodeAt(++t.position);while(!An(f)&&f!==0)}for(;f!==0;){for($h(t),t.lineIndent=0,f=t.input.charCodeAt(t.position);(!a||t.lineIndent<o)&&f===32;)t.lineIndent++,f=t.input.charCodeAt(++t.position);if(!a&&t.lineIndent>o&&(o=t.lineIndent),An(f)){l++;continue}if(t.lineIndent<o){n===HN?t.result+=Zt.repeat(`
`,s?1+l:l):n===Kh&&s&&(t.result+=`
`);break}for(r?Ra(f)?(u=!0,t.result+=Zt.repeat(`
`,s?1+l:l)):u?(u=!1,t.result+=Zt.repeat(`
`,l+1)):l===0?s&&(t.result+=" "):t.result+=Zt.repeat(`
`,l):t.result+=Zt.repeat(`
`,s?1+l:l),s=!0,a=!0,l=0,i=t.position;!An(f)&&f!==0;)f=t.input.charCodeAt(++t.position);xs(t,i,t.position,!1)}return!0}function tS(t,e){var i,r=t.tag,n=t.anchor,s=[],a,o=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,_e(t,"tab characters must not be used in indentation")),!(l!==45||(a=t.input.charCodeAt(t.position+1),!zi(a))));){if(o=!0,t.position++,Kt(t,!0,-1)&&t.lineIndent<=e){s.push(null),l=t.input.charCodeAt(t.position);continue}if(i=t.line,el(t,e,WN,!1,!0),s.push(t.result),Kt(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===i||t.lineIndent>e)&&l!==0)_e(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return o?(t.tag=r,t.anchor=n,t.kind="sequence",t.result=s,!0):!1}function wM(t,e,i){var r,n,s,a,o,l,u=t.tag,c=t.anchor,f={},d=Object.create(null),p=null,m=null,_=null,P=!1,g=!1,T;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=f),T=t.input.charCodeAt(t.position);T!==0;){if(!P&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,_e(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),s=t.line,(T===63||T===58)&&zi(r))T===63?(P&&(Zo(t,f,d,p,m,null,a,o,l),p=m=_=null),g=!0,P=!0,n=!0):P?(P=!1,n=!0):_e(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,T=r;else{if(a=t.line,o=t.lineStart,l=t.position,!el(t,i,GN,!1,!0))break;if(t.line===s){for(T=t.input.charCodeAt(t.position);Ra(T);)T=t.input.charCodeAt(++t.position);if(T===58)T=t.input.charCodeAt(++t.position),zi(T)||_e(t,"a whitespace character is expected after the key-value separator within a block mapping"),P&&(Zo(t,f,d,p,m,null,a,o,l),p=m=_=null),g=!0,P=!1,n=!1,p=t.tag,m=t.result;else if(g)_e(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=u,t.anchor=c,!0}else if(g)_e(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=u,t.anchor=c,!0}if((t.line===s||t.lineIndent>e)&&(P&&(a=t.line,o=t.lineStart,l=t.position),el(t,e,Mf,!0,n)&&(P?m=t.result:_=t.result),P||(Zo(t,f,d,p,m,_,a,o,l),p=m=_=null),Kt(t,!0,-1),T=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&T!==0)_e(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return P&&Zo(t,f,d,p,m,null,a,o,l),g&&(t.tag=u,t.anchor=c,t.kind="mapping",t.result=f),g}function xM(t){var e,i=!1,r=!1,n,s,a;if(a=t.input.charCodeAt(t.position),a!==33)return!1;if(t.tag!==null&&_e(t,"duplication of a tag property"),a=t.input.charCodeAt(++t.position),a===60?(i=!0,a=t.input.charCodeAt(++t.position)):a===33?(r=!0,n="!!",a=t.input.charCodeAt(++t.position)):n="!",e=t.position,i){do a=t.input.charCodeAt(++t.position);while(a!==0&&a!==62);t.position<t.length?(s=t.input.slice(e,t.position),a=t.input.charCodeAt(++t.position)):_e(t,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!zi(a);)a===33&&(r?_e(t,"tag suffix cannot contain exclamation marks"):(n=t.input.slice(e-1,t.position+1),YN.test(n)||_e(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),a=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),TM.test(s)&&_e(t,"tag suffix cannot contain flow indicator characters")}s&&!KN.test(s)&&_e(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{_e(t,"tag name is malformed: "+s)}return i?t.tag=s:ws.call(t.tagMap,n)?t.tag=t.tagMap[n]+s:n==="!"?t.tag="!"+s:n==="!!"?t.tag="tag:yaml.org,2002:"+s:_e(t,'undeclared tag handle "'+n+'"'),!0}function DM(t){var e,i;if(i=t.input.charCodeAt(t.position),i!==38)return!1;for(t.anchor!==null&&_e(t,"duplication of an anchor property"),i=t.input.charCodeAt(++t.position),e=t.position;i!==0&&!zi(i)&&!Jo(i);)i=t.input.charCodeAt(++t.position);return t.position===e&&_e(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function FM(t){var e,i,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!zi(r)&&!Jo(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&_e(t,"name of an alias node must contain at least one character"),i=t.input.slice(e,t.position),ws.call(t.anchorMap,i)||_e(t,'unidentified alias "'+i+'"'),t.result=t.anchorMap[i],Kt(t,!0,-1),!0}function el(t,e,i,r,n){var s,a,o,l=1,u=!1,c=!1,f,d,p,m,_,P;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=a=o=Mf===i||WN===i,r&&Kt(t,!0,-1)&&(u=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;xM(t)||DM(t);)Kt(t,!0,-1)?(u=!0,o=s,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):o=!1;if(o&&(o=u||n),(l===1||Mf===i)&&(kf===i||GN===i?_=e:_=e+1,P=t.position-t.lineStart,l===1?o&&(tS(t,P)||wM(t,P,_))||AM(t,_)?c=!0:(a&&EM(t,_)||RM(t,_)||CM(t,_)?c=!0:FM(t)?(c=!0,(t.tag!==null||t.anchor!==null)&&_e(t,"alias node should not have any properties")):SM(t,_,kf===i)&&(c=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(c=o&&tS(t,P))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&_e(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),f=0,d=t.implicitTypes.length;f<d;f+=1)if(m=t.implicitTypes[f],m.resolve(t.result)){t.result=m.construct(t.result),t.tag=m.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(ws.call(t.typeMap[t.kind||"fallback"],t.tag))m=t.typeMap[t.kind||"fallback"][t.tag];else for(m=null,p=t.typeMap.multi[t.kind||"fallback"],f=0,d=p.length;f<d;f+=1)if(t.tag.slice(0,p[f].tag.length)===p[f].tag){m=p[f];break}m||_e(t,"unknown tag !<"+t.tag+">"),t.result!==null&&m.kind!==t.kind&&_e(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+m.kind+'", not "'+t.kind+'"'),m.resolve(t.result,t.tag)?(t.result=m.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):_e(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||c}function OM(t){var e=t.position,i,r,n,s=!1,a;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(a=t.input.charCodeAt(t.position))!==0&&(Kt(t,!0,-1),a=t.input.charCodeAt(t.position),!(t.lineIndent>0||a!==37));){for(s=!0,a=t.input.charCodeAt(++t.position),i=t.position;a!==0&&!zi(a);)a=t.input.charCodeAt(++t.position);for(r=t.input.slice(i,t.position),n=[],r.length<1&&_e(t,"directive name must not be less than one character in length");a!==0;){for(;Ra(a);)a=t.input.charCodeAt(++t.position);if(a===35){do a=t.input.charCodeAt(++t.position);while(a!==0&&!An(a));break}if(An(a))break;for(i=t.position;a!==0&&!zi(a);)a=t.input.charCodeAt(++t.position);n.push(t.input.slice(i,t.position))}a!==0&&$h(t),ws.call(ZN,r)?ZN[r](t,r,n):qf(t,'unknown document directive "'+r+'"')}if(Kt(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,Kt(t,!0,-1)):s&&_e(t,"directives end mark is expected"),el(t,t.lineIndent-1,Mf,!1,!0),Kt(t,!0,-1),t.checkLineBreaks&&yM.test(t.input.slice(e,t.position))&&qf(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Vf(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,Kt(t,!0,-1));return}if(t.position<t.length-1)_e(t,"end of the stream or a document separator is expected");else return}function iS(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var i=new NM(t,e),r=t.indexOf("\0");for(r!==-1&&(i.position=r,_e(i,"null byte is not allowed in input")),i.input+="\0";i.input.charCodeAt(i.position)===32;)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)OM(i);return i.documents}function LM(t,e,i){e!==null&&typeof e=="object"&&typeof i=="undefined"&&(i=e,e=null);var r=iS(t,i);if(typeof e!="function")return r;for(var n=0,s=r.length;n<s;n+=1)e(r[n])}function kM(t,e){var i=iS(t,e);if(i.length!==0){if(i.length===1)return i[0];throw new Ui("expected a single document in the stream, but found more")}}var MM=LM,qM=kM,rS={loadAll:MM,load:qM},nS=Object.prototype.toString,sS=Object.prototype.hasOwnProperty,Xh=65279,VM=9,lu=10,BM=13,jM=32,UM=33,GM=34,Qh=35,WM=37,HM=38,YM=39,KM=42,aS=44,$M=45,Bf=58,zM=61,XM=62,QM=63,JM=64,oS=91,lS=93,ZM=96,uS=123,e1=124,cS=125,Ci={};Ci[0]="\\0";Ci[7]="\\a";Ci[8]="\\b";Ci[9]="\\t";Ci[10]="\\n";Ci[11]="\\v";Ci[12]="\\f";Ci[13]="\\r";Ci[27]="\\e";Ci[34]='\\"';Ci[92]="\\\\";Ci[133]="\\N";Ci[160]="\\_";Ci[8232]="\\L";Ci[8233]="\\P";var t1=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],i1=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function r1(t,e){var i,r,n,s,a,o,l;if(e===null)return{};for(i={},r=Object.keys(e),n=0,s=r.length;n<s;n+=1)a=r[n],o=String(e[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),l=t.compiledTypeMap.fallback[a],l&&sS.call(l.styleAliases,o)&&(o=l.styleAliases[o]),i[a]=o;return i}function n1(t){var e,i,r;if(e=t.toString(16).toUpperCase(),t<=255)i="x",r=2;else if(t<=65535)i="u",r=4;else if(t<=4294967295)i="U",r=8;else throw new Ui("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+i+Zt.repeat("0",r-e.length)+e}var s1=1,uu=2;function a1(t){this.schema=t.schema||UN,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=Zt.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=r1(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?uu:s1,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function fS(t,e){for(var i=Zt.repeat(" ",e),r=0,n=-1,s="",a,o=t.length;r<o;)n=t.indexOf(`
`,r),n===-1?(a=t.slice(r),r=o):(a=t.slice(r,n+1),r=n+1),a.length&&a!==`
`&&(s+=i),s+=a;return s}function Jh(t,e){return`
`+Zt.repeat(" ",t.indent*e)}function o1(t,e){var i,r,n;for(i=0,r=t.implicitTypes.length;i<r;i+=1)if(n=t.implicitTypes[i],n.resolve(e))return!0;return!1}function jf(t){return t===jM||t===VM}function cu(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==Xh||65536<=t&&t<=1114111}function dS(t){return cu(t)&&t!==Xh&&t!==BM&&t!==lu}function pS(t,e,i){var r=dS(t),n=r&&!jf(t);return(i?r:r&&t!==aS&&t!==oS&&t!==lS&&t!==uS&&t!==cS)&&t!==Qh&&!(e===Bf&&!n)||dS(e)&&!jf(e)&&t===Qh||e===Bf&&n}function l1(t){return cu(t)&&t!==Xh&&!jf(t)&&t!==$M&&t!==QM&&t!==Bf&&t!==aS&&t!==oS&&t!==lS&&t!==uS&&t!==cS&&t!==Qh&&t!==HM&&t!==KM&&t!==UM&&t!==e1&&t!==zM&&t!==XM&&t!==YM&&t!==GM&&t!==WM&&t!==JM&&t!==ZM}function u1(t){return!jf(t)&&t!==Bf}function fu(t,e){var i=t.charCodeAt(e),r;return i>=55296&&i<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(i-55296)*1024+r-56320+65536:i}function mS(t){var e=/^\n* /;return e.test(t)}var hS=1,Zh=2,gS=3,_S=4,tl=5;function c1(t,e,i,r,n,s,a,o){var l,u=0,c=null,f=!1,d=!1,p=r!==-1,m=-1,_=l1(fu(t,0))&&u1(fu(t,t.length-1));if(e||a)for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=fu(t,l),!cu(u))return tl;_=_&&pS(u,c,o),c=u}else{for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=fu(t,l),u===lu)f=!0,p&&(d=d||l-m-1>r&&t[m+1]!==" ",m=l);else if(!cu(u))return tl;_=_&&pS(u,c,o),c=u}d=d||p&&l-m-1>r&&t[m+1]!==" "}return!f&&!d?_&&!a&&!n(t)?hS:s===uu?tl:Zh:i>9&&mS(t)?tl:a?s===uu?tl:Zh:d?_S:gS}function f1(t,e,i,r,n){t.dump=function(){if(e.length===0)return t.quotingType===uu?'""':"''";if(!t.noCompatMode&&(t1.indexOf(e)!==-1||i1.test(e)))return t.quotingType===uu?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,i),a=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),o=r||t.flowLevel>-1&&i>=t.flowLevel;function l(u){return o1(t,u)}switch(c1(e,o,t.indent,a,l,t.quotingType,t.forceQuotes&&!r,n)){case hS:return e;case Zh:return"'"+e.replace(/'/g,"''")+"'";case gS:return"|"+yS(e,t.indent)+TS(fS(e,s));case _S:return">"+yS(e,t.indent)+TS(fS(d1(e,a),s));case tl:return'"'+p1(e)+'"';default:throw new Ui("impossible error: invalid scalar style")}}()}function yS(t,e){var i=mS(t)?String(e):"",r=t[t.length-1]===`
`,n=r&&(t[t.length-2]===`
`||t===`
`),s=n?"+":r?"":"-";return i+s+`
`}function TS(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function d1(t,e){for(var i=/(\n+)([^\n]*)/g,r=function(){var u=t.indexOf(`
`);return u=u!==-1?u:t.length,i.lastIndex=u,bS(t.slice(0,u),e)}(),n=t[0]===`
`||t[0]===" ",s,a;a=i.exec(t);){var o=a[1],l=a[2];s=l[0]===" ",r+=o+(!n&&!s&&l!==""?`
`:"")+bS(l,e),n=s}return r}function bS(t,e){if(t===""||t[0]===" ")return t;for(var i=/ [^ ]/g,r,n=0,s,a=0,o=0,l="";r=i.exec(t);)o=r.index,o-n>e&&(s=a>n?a:o,l+=`
`+t.slice(n,s),n=s+1),a=o;return l+=`
`,t.length-n>e&&a>n?l+=t.slice(n,a)+`
`+t.slice(a+1):l+=t.slice(n),l.slice(1)}function p1(t){for(var e="",i=0,r,n=0;n<t.length;i>=65536?n+=2:n++)i=fu(t,n),r=Ci[i],!r&&cu(i)?(e+=t[n],i>=65536&&(e+=t[n+1])):e+=r||n1(i);return e}function m1(t,e,i){var r="",n=t.tag,s,a,o;for(s=0,a=i.length;s<a;s+=1)o=i[s],t.replacer&&(o=t.replacer.call(i,String(s),o)),(Qn(t,e,o,!1,!1)||typeof o=="undefined"&&Qn(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=n,t.dump="["+r+"]"}function vS(t,e,i,r){var n="",s=t.tag,a,o,l;for(a=0,o=i.length;a<o;a+=1)l=i[a],t.replacer&&(l=t.replacer.call(i,String(a),l)),(Qn(t,e+1,l,!0,!0,!1,!0)||typeof l=="undefined"&&Qn(t,e+1,null,!0,!0,!1,!0))&&((!r||n!=="")&&(n+=Jh(t,e)),t.dump&&lu===t.dump.charCodeAt(0)?n+="-":n+="- ",n+=t.dump);t.tag=s,t.dump=n||"[]"}function h1(t,e,i){var r="",n=t.tag,s=Object.keys(i),a,o,l,u,c;for(a=0,o=s.length;a<o;a+=1)c="",r!==""&&(c+=", "),t.condenseFlow&&(c+='"'),l=s[a],u=i[l],t.replacer&&(u=t.replacer.call(i,l,u)),!!Qn(t,e,l,!1,!1)&&(t.dump.length>1024&&(c+="? "),c+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),!!Qn(t,e,u,!1,!1)&&(c+=t.dump,r+=c));t.tag=n,t.dump="{"+r+"}"}function g1(t,e,i,r){var n="",s=t.tag,a=Object.keys(i),o,l,u,c,f,d;if(t.sortKeys===!0)a.sort();else if(typeof t.sortKeys=="function")a.sort(t.sortKeys);else if(t.sortKeys)throw new Ui("sortKeys must be a boolean or a function");for(o=0,l=a.length;o<l;o+=1)d="",(!r||n!=="")&&(d+=Jh(t,e)),u=a[o],c=i[u],t.replacer&&(c=t.replacer.call(i,u,c)),!!Qn(t,e+1,u,!0,!0,!0)&&(f=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,f&&(t.dump&&lu===t.dump.charCodeAt(0)?d+="?":d+="? "),d+=t.dump,f&&(d+=Jh(t,e)),!!Qn(t,e+1,c,!0,f)&&(t.dump&&lu===t.dump.charCodeAt(0)?d+=":":d+=": ",d+=t.dump,n+=d));t.tag=s,t.dump=n||"{}"}function IS(t,e,i){var r,n,s,a,o,l;for(n=i?t.explicitTypes:t.implicitTypes,s=0,a=n.length;s<a;s+=1)if(o=n[s],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof e=="object"&&e instanceof o.instanceOf)&&(!o.predicate||o.predicate(e))){if(i?o.multi&&o.representName?t.tag=o.representName(e):t.tag=o.tag:t.tag="?",o.represent){if(l=t.styleMap[o.tag]||o.defaultStyle,nS.call(o.represent)==="[object Function]")r=o.represent(e,l);else if(sS.call(o.represent,l))r=o.represent[l](e,l);else throw new Ui("!<"+o.tag+'> tag resolver accepts not "'+l+'" style');t.dump=r}return!0}return!1}function Qn(t,e,i,r,n,s,a){t.tag=null,t.dump=i,IS(t,i,!1)||IS(t,i,!0);var o=nS.call(t.dump),l=r,u;r&&(r=t.flowLevel<0||t.flowLevel>e);var c=o==="[object Object]"||o==="[object Array]",f,d;if(c&&(f=t.duplicates.indexOf(i),d=f!==-1),(t.tag!==null&&t.tag!=="?"||d||t.indent!==2&&e>0)&&(n=!1),d&&t.usedDuplicates[f])t.dump="*ref_"+f;else{if(c&&d&&!t.usedDuplicates[f]&&(t.usedDuplicates[f]=!0),o==="[object Object]")r&&Object.keys(t.dump).length!==0?(g1(t,e,t.dump,n),d&&(t.dump="&ref_"+f+t.dump)):(h1(t,e,t.dump),d&&(t.dump="&ref_"+f+" "+t.dump));else if(o==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!a&&e>0?vS(t,e-1,t.dump,n):vS(t,e,t.dump,n),d&&(t.dump="&ref_"+f+t.dump)):(m1(t,e,t.dump),d&&(t.dump="&ref_"+f+" "+t.dump));else if(o==="[object String]")t.tag!=="?"&&f1(t,t.dump,e,s,l);else{if(o==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new Ui("unacceptable kind of an object to dump "+o)}t.tag!==null&&t.tag!=="?"&&(u=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",t.dump=u+" "+t.dump)}return!0}function _1(t,e){var i=[],r=[],n,s;for(eg(t,i,r),n=0,s=r.length;n<s;n+=1)e.duplicates.push(i[r[n]]);e.usedDuplicates=new Array(s)}function eg(t,e,i){var r,n,s;if(t!==null&&typeof t=="object")if(n=e.indexOf(t),n!==-1)i.indexOf(n)===-1&&i.push(n);else if(e.push(t),Array.isArray(t))for(n=0,s=t.length;n<s;n+=1)eg(t[n],e,i);else for(r=Object.keys(t),n=0,s=r.length;n<s;n+=1)eg(t[r[n]],e,i)}function y1(t,e){e=e||{};var i=new a1(e);i.noRefs||_1(t,i);var r=t;return i.replacer&&(r=i.replacer.call({"":r},"",r)),Qn(i,0,r,!0,!0)?i.dump+`
`:""}var T1=y1,b1={dump:T1};function tg(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var il=rS.load,fre=rS.loadAll,PS=b1.dump,NS=Ui;var dre=tg("safeLoad","load"),pre=tg("safeLoadAll","loadAll"),mre=tg("safeDump","dump");var rg=class{constructor(){this.yamlData=null}isInClassParmaeter(e){let i=null;return e instanceof st&&e.logicBranches.length>0&&e.logicBranches[0].head!=null?i=e.logicBranches[0].head:e instanceof G&&(i=e),i!=null&&i.fragmentPosition==1&&i.fragmentParameter!=null&&i.fragmentParameter.name.toLowerCase()=="class"}getPrefix(e){if(e.prev==null||!(e.prev instanceof Qe)||e.prev.content.trimRight().length!=e.prev.content.length)return"";let i=e.prev.content.split('"');if(i.length==0)return"";let r=i[i.length-1].split(" ");return r.length==0?"":r[r.length-1].trim()}getSuffix(e){if(e.next==null||!(e.next instanceof Qe)||e.next.content.trimLeft().length!=e.next.content.length)return"";let i=e.next.content.split('"');if(i.length==0)return"";let r=i[0].split(" ");return r.length==0?"":r[0].trim()}analyze(e){let i=e.getDocumentParser().getRenderNodes();if(e.hasFrontMatter())try{this.yamlData=il(e.getFrontMatter())}catch{}return this.analyzeNodes(i)}analyzeNodes(e){let i=[];return e.forEach(r=>{var l;let n=[],s=[],a="",o="";if(this.isInClassParmaeter(r)){let u=[];if(r instanceof st){if(r.logicBranches.length==0)return;let c=r.logicBranches[0],f=r.logicBranches[r.logicBranches.length-1];if(c.head==null||f.head==null||f.head.isClosedBy==null)return;let d=f.head.isClosedBy,p=c.head;a=this.getPrefix(p),o=this.getSuffix(d),r.logicBranches.forEach(m=>{if(m.head==null||m.head.children.length!=2||!(m.head.children[0]instanceof Qe))return;let _=m.head.children[0].content;_.trim().length==_.length&&(u.includes(_)||u.push(_))})}else if(r instanceof G){if(r.isPaired()){i=i.concat(this.analyzeNodes(r.getStructuralChildren()));return}a=this.getPrefix(r),o=this.getSuffix(r)}if(this.yamlData!=null&&u.length==0&&a.length+o.length>0&&((l=r.getParser())==null?void 0:l.getLanguageParser()).getCreatedVariables().forEach(d=>{if(d.variableReference==null||d.variableReference.pathParts.length!=3||!(d.variableReference.pathParts[0]instanceof ai)||!(d.variableReference.pathParts[1]instanceof ai)||!(d.variableReference.pathParts[2]instanceof Nn))return;let p=d.variableReference.pathParts[0],m=d.variableReference.pathParts[1];if(p.name!="view"||typeof this.yamlData[m.name]=="undefined")return;let _=this.yamlData[m.name],P=[],g=Object.keys(_),T=!0;for(let y=0;y<g.length;y++){let A=_[g[y]];if(typeof A!="string"){T=!1;break}P.push(A)}T&&P.forEach(y=>{u.includes(y)||u.push(y)})}),u.length==0&&a.length+o.length>0){let c="/";a.length>0&&(c+=a),c+="(.*)",o.length>0&&(c+=o),c+="/",s.push(c)}else u.length>0&&u.forEach(c=>{let f=`${a}${c}${o}`;n.push(f)})}else r instanceof G&&r.isPaired()&&(i=i.concat(this.analyzeNodes(r.getImmediateChildren())));(o.length>0||a.length>0)&&(n.length>0||s.length>0)&&i.push({classNames:n,patterns:s,node:r,suffix:o,prefix:a})}),i}};var Uf=te(require("fs")),v1={checkDocument(t,e){var s;if(e.diagnostics.warnOnDynamicCssClassNames==!1)return[];let i=[],r=new rg().analyze(t);if(r.length==0)return i;let n="";if((s=de.instance)==null?void 0:s.hasStructure()){let a=de.instance.getStructure().getProjectRoot(),o=[];o.push(a+"tailwind.config.js"),o.push(a+"webpack.mix.js"),o.push(a+"webpack.config.js");for(let l=0;l<o.length;l++)if(Uf.existsSync(o[l])){n=Uf.readFileSync(o[l],{encoding:"utf8"});break}}return r.forEach(a=>{let o=a.classNames.concat(a.patterns),l=k.makeSyntaxError(I.LINT_DYNAMIC_CLASS_NAMES_POSSIBLE_PURGE,a.node,`Dynamic CSS class name generation detected. Some build tools, like PurgeCSS, may not be able to find these classes. It is recommended to use full class names, or configure a class safelist.
    
Possible Classes: ${o.join(", ")}`,1),u=!0;if(n.trim().length>0){u=!1;for(let d=0;d<o.length;d++)if(n.includes(o[d])==!1){u=!0;break}}if(!u)return;let c=_t(a.node.startPosition),f=_t(a.node.endPosition);if(a.node instanceof st){if(a.node.logicBranches.length>0){let d=a.node.logicBranches[0],p=a.node.logicBranches[a.node.logicBranches.length-1];d.head!=null&&p.head!=null&&p.head.isClosedBy!=null&&(c=_t(d.head.startPosition),f=_t(p.head.isClosedBy.endPosition))}}else a.node instanceof G&&(c=_t(a.node.startPosition),f=_t(a.node.endPosition));c.character=c.character-a.prefix.length-1,f.character=f.character+a.suffix.length,l.lsRange={start:c,end:f},l.data=a,i.push(l)}),i}},SS=v1;var I1={checkDocument(t){let e=[];return t.hasFrontMatter()&&t.getContent().trim().length==0&&e.push(k.makeSyntaxError(I.LINT_FRONT_MATTER_EMPTY_DOCUMENT,null,'Empty document content with Front Matter will result in "[ErrorException] Undefined index: content".')),e}},RS=I1;function CS(t){let e=t.split(/\r?\n/),i=[];return e.forEach(r=>{let n=r.split("|");if(n.length==1)i.push(r);else if(n.length>1){let s=n[0];if(parseInt(s.trim()).toString()==s.trim()){let a=parseInt(s)+1;n.shift();let o=n.join("|"),l=" ".repeat(s.length-a.toString().length);i.push(l+a.toString()+"|"+o)}else i.push(r)}}),i.join(`
`)}var P1={checkDocument(t){let e=[];if(t.hasFrontMatter()){let i=t.getFrontMatter();try{il(i,{onWarning:r=>{let n=new $t,s=new $t;n.line=r.mark.line+2,n.char=r.mark.column,s.line=r.mark.line+2,s.char=r.mark.snippet.length+r.mark.column;let a={start:n,end:s},o=new k;o.errorCode=I.LINT_INVALID_FRONT_MATTER,o.level=1,o.message=CS(r.message),o.range=a,e.push(o)}})}catch(r){if(r instanceof NS){let n=new $t,s=new $t;n.line=r.mark.line+2,n.char=r.mark.column,s.line=r.mark.line+2,s.char=r.mark.snippet.length+r.mark.column;let a={start:n,end:s},o=new k;o.errorCode=I.LINT_INVALID_FRONT_MATTER,o.level=0,o.message=CS(r.message),o.range=a,e.push(o)}}}return e}},AS=P1;var N1={checkDocument(t){let e=[];return t.getAllAntlersNodes().forEach(i=>{var r,n;if(i.isTagNode&&i.name!=null&&i.getTagName()=="partial"){let s=yo(i);if(s==null)return;let a=(n=(r=de.instance)==null?void 0:r.getStructure())==null?void 0:n.findRelativeView(s);if(typeof a=="undefined"||a==null)return;a.documentUri==t.documentUri&&i.findParentOfType(["if","elseif","else"])==null&&e.push(k.makeSyntaxError(I.LINT_POSSIBLE_PARTIAL_RECURSION,i,"Possible partial recursion detected",1))}}),e}},ES=N1;var wS=[RS,AS,ES,SS];var S1=["dump","dd","ddd"],R1={checkNode(t){let e=t.getTagName(),i=[];return S1.includes(e)&&i.push(k.makeSyntaxError(I.LINT_DEBUG_DATA_EXPOSED,t,e+" exposes data and should be removed after debugging.",1)),t.modifiers.hasModifier("dump")&&i.push(k.makeSyntaxError(I.LINT_DEBUG_DATA_EXPOSED,t,"dump modifier exposes data and should be removed after debugging.",1)),i}},xS=R1;var C1={checkNode(t){let e=[];if(t.modifiers==null)return e;let i=[];if(t.modifiers.hasParameterModifiers())for(let r=0;r<t.modifiers.parameterModifiers.length;r++){let n=t.modifiers.parameterModifiers[r];n.refId!=null&&i.includes(n.refId)==!1&&n.modifier!=null&&n.modifier.isDeprecated&&(e.push(k.makeSyntaxError(I.LINT_DEPRECATED_MODIFIER,t.modifiers.parameterModifiers[r],ng(n.modifier),1)),i.push(n.refId))}if(t.modifiers.hasShorthandModifiers()&&t.modifierChain!=null)for(let r=0;r<t.modifierChain.modifierChain.length;r++){let n=t.modifierChain.modifierChain[r];n.refId!=null&&i.includes(n.refId)==!1&&n.modifier!=null&&n.modifier.isDeprecated&&(e.push(k.makeSyntaxError(I.LINT_DEPRECATED_MODIFIER,n,ng(n.modifier),1)),i.push(n.refId))}if(t.runtimeNodes!=null&&t.runtimeNodes.length>0)for(let r=0;r<t.runtimeNodes.length;r++){let n=t.runtimeNodes[r];if(n.modifierChain!=null)for(let s=0;s<n.modifierChain.modifierChain.length;s++){let a=n.modifierChain.modifierChain[s];a.refId!=null&&i.includes(a.refId)==!1&&a.modifier!=null&&a.modifier.isDeprecated&&(e.push(k.makeSyntaxError(I.LINT_DEPRECATED_MODIFIER,a,ng(a.modifier),1)),i.push(a.refId))}}return e}};function ng(t){return t.getDeprecatedMessage!=null?t.getDeprecatedMessage():`${t.name} is deprecated.`}var DS=C1;var A1={checkNode(t){let e=[];return t.runtimeName().includes("::")&&e.push(k.makeSyntaxError(I.LINT_DOUBLE_COLON_IN_TAG_IDENTIFIER,t,":: in tag part leads to ErrorException call_user_func() runtime exception.",1)),e}},FS=A1;var E1={checkNode(t){let e=[];if(t.scopeVariable==null||t.scopeVariable.sourceField==null||t.modifierChain==null||t.modifierChain.modifierChain.length==0)return e;let i=t.scopeVariable.sourceField.type,r=t.modifierChain.modifierChain[0];return r.modifier==null||i=="select_multiple"&&(r.modifier.name=="join"||r.modifier.name=="joinplode")&&e.push(k.makeSyntaxError(I.LINT_SELECT_FIELD_JOIN_RAW,t,"To join a select field, add the raw modifier: "+w1(t,"join"),1)),e}};function w1(t,e){var i,r;return"{{ "+((r=(i=t.name)==null?void 0:i.name)!=null?r:"field_name")+" | raw | "+e+" ... }}"}var OS=E1;var x1={checkNode(t){var n;let e=[];if(t.isClosedBy==null||t.parent==null||!(t.parent instanceof G))return e;let i=t.parent;if(i.isClosedBy==null)return e;let r=t.runtimeName();return r=="if"||r=="if:index"||r=="else"||r=="else:index"||r=="elseif"||r=="elseif:index"||r=="elseunless"||r=="elseunless:index"||((n=i.isClosedBy.startPosition)==null?void 0:n.isBefore(t.isClosedBy.endPosition))&&(e.push(k.makeSyntaxError(I.LINT_INTERLEAVED_TAG_PAIRS,t,"Closing tag cannot appear after parent closing tag.")),e.push(k.makeSyntaxError(I.LINT_INTERLEAVED_TAG_PAIRS,t.isClosedBy,"Closing tag cannot appear after parent closing tag."))),e}},Gf=x1;var D1={checkNode(t){let e=[];return t.hasParameters==!1||t.parameters.forEach(i=>{i.hasValidValueDelimiter==!1&&e.push(k.makeSyntaxError(I.LINT_INVALID_PARAMETER_VALUE_DELIMITER,i,"Parameter values must be enclosed in single or double quotes.",1))}),e}},LS=D1;var F1=["assets","entries","form_multiple","sites_multiple","structures_multiple","taxonomies_multiple","terms_multiple","user_groups_multiple","user_roles_multiple","users_multiple"],O1=["as","on_each_side","order_by","sort","query_scope","filter","reverse"],rl=class{static isQueryBuilderType(e){return F1.includes(e)}static isIgnoredParameterName(e){return O1.includes(e)}};var L1={checkNode(t){let e=[];if(t.scopeVariable!=null&&t.isTagNode==!1){if(t.runtimeNodes.length==0)return e;let i=t.runtimeNodes[0];if(i instanceof ue&&t.scopeVariable.sourceField!=null&&i.variableReference!=null&&i.variableReference.pathParts.length>1&&i.variableReference.pathParts[1]instanceof ai){let r=parseInt(i.variableReference.pathParts[1].name);if(!isNaN(r)||i.variableReference.pathParts[1].name.startsWith("int_"))return e;rl.isQueryBuilderType(t.scopeVariable.sourceField.type)&&t.scopeVariable.sourceField.maxItems!=1&&e.push(k.makeSyntaxError(I.LINT_INVALID_VARIABLE_ACCESS,t,"Incorrect variable access for field not configured with max_items: 1",1))}}return e}},kS=L1;var k1={checkNode(t){let e=[];return t.modifiers!=null&&t.modifiers.hasMixedModifierStyles&&e.push(k.makeSyntaxError(I.LINT_MIXED_MODIFIERS,t,"Mixed modifier styles is not supported",0)),e}},MS=k1;var M1={checkNode(t){let e=[];if(t.modifiers==null)return e;let i=[];if(t.modifiers.hasParameterModifiers()){let r=null;for(let n=0;n<t.modifiers.parameterModifiers.length;n++){let s=t.modifiers.parameterModifiers[n];if(r==null){r=s;continue}if(r!=null&&r.modifier!=null&&s.modifier!=null){if(r.modifier.returnsType.includes("*")||s.modifier.acceptsType.includes("*"))continue;{let a=r.modifier.returnsType,o="void",l="void",u=s.modifier.acceptsType.some(c=>a.includes(c));if(a.length>0&&(o=a[a.length-1]),s.modifier.acceptsType.length>0&&(l=s.modifier.acceptsType[0]),!u){e.push(k.makeSyntaxError(I.LINT_MODIFIER_UNEXPECTED_TYPE,s,"Unexpected type supplied to modifier "+s.name+". Expected "+l+" got "+o+".",1));break}}}}}if(t.modifiers.hasShorthandModifiers()&&t.modifierChain!=null){let r=null;for(let n=0;n<t.modifierChain.modifierChain.length;n++){let s=t.modifierChain.modifierChain[n];if(r==null){r=s;continue}if(r!=null&&r.modifier!=null&&s.modifier!=null){if(r.modifier.returnsType.includes("*")||s.modifier.acceptsType.includes("*"))continue;{let a=r.modifier.returnsType,o="void",l="void",u=s.modifier.acceptsType.some(c=>a.includes(c));if(a.length>0&&(o=a[a.length-1]),s.modifier.acceptsType.length>0&&(l=s.modifier.acceptsType[0]),!u){s.refId!=null&&!i.includes(s.refId)&&(e.push(k.makeSyntaxError(I.LINT_MODIFIER_UNEXPECTED_TYPE,s,"Unexpected type supplied to modifier "+s.name+". Expected "+l+" got "+o+".",1)),i.push(s.refId));break}}}}}if(t.runtimeNodes!=null&&t.runtimeNodes.length>0)for(let r=0;r<t.runtimeNodes.length;r++){let n=t.runtimeNodes[r],s=null;if(n.modifierChain!=null)for(let a=0;a<n.modifierChain.modifierChain.length;a++){let o=n.modifierChain.modifierChain[a];if(s==null){s=o;continue}if(s!=null&&s.modifier!=null&&o.modifier!=null){if(s.modifier.returnsType.includes("*")||o.modifier.acceptsType.includes("*"))continue;{let l=s.modifier.returnsType,u="void",c="void",f=o.modifier.acceptsType.some(d=>l.includes(d));if(l.length>0&&(u=l[l.length-1]),o.modifier.acceptsType.length>0&&(c=o.modifier.acceptsType[0]),!f){o.refId!=null&&i.includes(o.refId)==!1&&(e.push(k.makeSyntaxError(I.LINT_MODIFIER_UNEXPECTED_TYPE,o,"Unexpected type supplied to modifier "+o.name+". Expected "+c+" got "+u+".",1)),i.push(o.refId));break}}}}}return e}},qS=M1;var VS={warnUnknownParameters:!1};var sg=class{static validateInteger(e){return parseInt(e).toString()!==e?{isValid:!1,message:'"'+e+'" is not a valid integer.'}:{isValid:!0,message:""}}static validateBoolean(e){return e=="true"||e=="false"?{isValid:!0,message:""}:{isValid:!1,message:'"'+e+'" is not a valid value. Expecting true/false.'}}static validateParameters(e){var r,n,s,a,o;let i=[];if(e.isTagNode&&((r=Le.instance)==null?void 0:r.isKnownTag(e.runtimeName()))){let l=(n=Le.instance)==null?void 0:n.findTag(e.runtimeName());if(e.hasParameters)for(let u=0;u<e.parameters.length;u++){let c=e.parameters[u],f=null,d=!1,p=c.name.trim();if(!c.isVariableReference)if(p=Tr(p,":"),((s=Le.instance)==null?void 0:s.canResolveDynamicParameter(e.runtimeName()))&&typeof l.resolveDynamicParameter!="undefined"&&l.resolveDynamicParameter!=null?(f=l.resolveDynamicParameter(e,p),d=!0):f=(a=Le.instance)==null?void 0:a.getParameter(e.runtimeName(),p),d&&f==null&&(f=(o=Le.instance)==null?void 0:o.getParameter(e.runtimeName(),p)),f==null){if(VS.warnUnknownParameters){let m="";if(l.suggestAlternativeParams!=null){let P=l.suggestAlternativeParams(p);P.length==1?m='. Did you mean "'+P[0]+'"?':P.length>1&&(m=". Try one of the following: "+P.join(", "))}let _='Unknown parameter name: "'+p+'"'+m;i.push(k.makeSyntaxError(I.LINT_UNKNOWN_PARAMETER,e,_,1))}}else if(f.validate!=null){let m=f.validate(e,c);m.length>0&&m.forEach(_=>{i.push(k.makeSyntaxError(I.LINT_GENERAL_INVALID_PARAMETER_CONTENTS,c,_.message,1))})}else{if(c.hasInterpolations())continue;for(let m=0;m<f.expectsTypes.length;m++){let _=f.expectsTypes[m];if(_=="integer"){let P=this.validateInteger(c.value);P.isValid||i.push(k.makeSyntaxError(I.LINT_PARAMETER_CONTENT_INVALID_INTEGER,c,P.message,1))}else if(_=="boolean"){let P=this.validateBoolean(c.value);if(f.name=="paginate"){if(c.value=="true"||c.value=="false")continue;if(parseInt(c.value).toString()!=c.value){let g='Unexpected "'+c.value+'". Expecting a numeric value, or true/false.';i.push(k.makeSyntaxError(I.LINT_PAGINATE_INVALID_VALUE,c,g,0))}}else P.isValid||i.push(k.makeSyntaxError(I.LINT_PARAMETER_CONTENT_INVALID_BOOLEAN,c,P.message,1))}}}}}return i}};var q1={checkNode(t,e){return e.diagnostics.validateTagParameters==!1?[]:sg.validateParameters(t)}},BS=q1;var V1={checkNode(t){var i,r;let e=[];if(t.isTagNode&&t.name!=null&&t.getTagName()=="partial"){let n=yo(t);if(n==null)return e;let s=(r=(i=de.instance)==null?void 0:i.getStructure())==null?void 0:r.findRelativeView(n);if(typeof s=="undefined"||s==null)return e;s.injectsParameters.length>0&&s.injectsParameters.forEach(a=>{a.isRequired&&!t.hasParameter(a.name)&&e.push(k.makeSyntaxError(I.LINT_MISSING_REQUIRED_PARAMETER,t,"Missing required parameter: "+a.name,0))})}return e}},jS=V1;var US="Query builder fields must use an alias in order to use modifiers",B1={checkNode(t){let e=[];if(t.scopeVariable!=null&&t.isTagNode==!1){if(t.runtimeNodes.length==0)return e;if(t.runtimeNodes[0]instanceof ue&&t.scopeVariable.sourceField!=null){if(t.hasParameter("as"))return e;if(rl.isQueryBuilderType(t.scopeVariable.sourceField.type)){if(t.modifierChain!=null&&t.modifierChain.modifierChain.length>0)return e.push(k.makeSyntaxError(I.LINT_MODIFIERS_ON_QUERY_BUILDERS_REQUIRE_AS,t,US,1)),e;if(t.hasParameters)for(let r=0;r<t.parameters.length;r++){let n=t.parameters[r];if(n.modifier!=null&&!rl.isIgnoredParameterName(n.modifier.name))return e.push(k.makeSyntaxError(I.LINT_MODIFIERS_ON_QUERY_BUILDERS_REQUIRE_AS,t,US,1)),e}}}}return e}},GS=B1;var j1={checkNode(t){let e=[];return t.isTagNode&&t.name!=null&&t.getTagName()=="relate"&&e.push(k.makeSyntaxError(I.LINT_REMOVE_RELATE_TAG,t,"The `relate` tag is not necessary here, and can be removed.",1)),e}},WS=j1;var U1={checkNode(t,e){let i=[];if(e.languageVersion=="runtime")return[];if(t.isClosedBy!=null&&t.modifierChain!=null){let r=t.content.trim(),n=t.isClosedBy.content.trim(),s="/"+r;n!=s&&(i.push(k.makeSyntaxError(I.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH,t,"Closing tags must match exactly when using shorthand modifiers in tag pairs.",0)),i.push(k.makeSyntaxError(I.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH,t.isClosedBy,'Closing tags must match exactly when using shorthand modifiers in tag pairs. Expecting: "'+s+'".',0)))}return i}},HS=U1;var lR=te(Pg()),Nq={checkNode(t){var n,s,a;let e=[];if(t.isOpenedBy!=null||!((n=de.instance)==null?void 0:n.hasStructure()))return e;let i=de.instance.getStructure().getStatamicVersion();if(i==null||i.trim().length==0||!((s=Le.instance)==null?void 0:s.isKnownTag(t.runtimeName())))return e;let r=(a=Le.instance)==null?void 0:a.findTag(t.runtimeName());if((r==null?void 0:r.introducedIn)==null)return e;try{lR.lt(i,r.introducedIn)&&e.push(k.makeSyntaxError(I.LINT_VERSION_NOT_COMPATIBLE,t,t.runtimeName()+" requires at least Statamic "+r.introducedIn+". Current project version: "+i,1))}catch{}return e}},uR=Nq;var Sq={checkNode(t){let e=[];return t.isTagNode&&t.getTagName()=="set"&&e.push(k.makeSyntaxError(I.LINT_SET_PRODUCES_RUNTIME_ERROR,t,'`set` tag will produce "array_merge(): Expected parameter 1 to be an array, object given" runtime exception.')),e}},cR=Sq;var Rq=[xS,MS,qS,OS,DS,FS,WS,cR,HS,uR,Gf,LS,jS,BS,kS,GS],fR=Rq;var Fs=class{constructor(){this.fileDiagnostics=new Map;this.handlers=[];this.docHandlers=[]}registerHandler(e){this.handlers.push(e)}registerDocumentHandler(e){this.docHandlers.push(e)}registerDocumentHandlers(e){for(let i=0;i<e.length;i++)this.registerDocumentHandler(e[i])}registerHandlers(e){for(let i=0;i<e.length;i++)this.registerHandler(e[i])}registerCoreHandlers(){this.registerHandlers(fR),this.registerDocumentHandlers(wS)}hasDiagnosticsIssues(e){return this.fileDiagnostics.has(e)==!1?!1:this.fileDiagnostics.get(e).length>0}registerDiagnostics(e,i){this.fileDiagnostics.set(e,i)}clearIssues(e){this.fileDiagnostics.set(e,[])}getDiagnostics(e){return this.hasDiagnosticsIssues(e)?this.fileDiagnostics.get(e):[]}checkDocument(e){let i=[],r=dr();return this.docHandlers.forEach(n=>{n.checkDocument(e,r).forEach(s=>{i.push(s)})}),i}checkNode(e){let i=[];if(e.isComment)return i;let r=dr();return this.handlers.forEach(n=>{n.checkNode(e,r).forEach(s=>{i.push(s)})}),i}getAllDiagnostics(){let e=[];return this.fileDiagnostics.forEach((i,r)=>{for(let n=0;n<i.length;n++)e.push(i[n])}),e}};Fs.instance=null;(typeof Fs.instance=="undefined"||Fs.instance==null)&&(Fs.instance=new Fs,Fs.instance.registerCoreHandlers());var Wi=Fs;var vR=te(si());var ul=te(si());var Aq=Ng();function Zn(t){return t.split("\\").join("/")}function pR(t){let e=Aq(decodeURIComponent(t));return Zn(e)}var mR=te(require("fs")),hR=te(require("path"));var Rg=class{constructor(){this.activeRequest=null}getName(e){return"Extract to Partial"}canHandle(e){return e.selectedText.trim().length>0}refactor(e){this.activeRequest=e,Rg.currentAction=this;let i=this.getName(e);return[ul.CodeAction.create(i+"...",ul.Command.create(i,"antlers.extractToPartial",e.documentUri),ul.CodeActionKind.RefactorExtract)]}completeRefactor(e){var r;let i=(r=de.instance)==null?void 0:r.getStructure();if(i!=null&&this.activeRequest!=null){let n=Zn(i.getViewPath()),s=Zn(e.fsPath);if(s.startsWith(n)){mR.writeFileSync(e.fsPath,this.activeRequest.selectedText);let a=s.substring(n.length),o=hR.basename(s);o.startsWith("_")&&(o=o.substr(1)),a=a.substr(0,a.length-o.length),o.endsWith(".antlers.html")?o=o.substring(0,o.length-13):o.endsWith(".antlers.xml")||o.endsWith("antlers.php")?o=o.substring(0,o.length-12):o.endsWith(".blade.php")?o=o.substring(0,o.length-10):o.endsWith(".html")&&(o=o.substring(0,o.length-5)),a.length>1&&a.endsWith("/")==!1&&(a=a+"/");let l="{{ partial:"+a+o+" }}",u={range:this.activeRequest.actionParams.range,newText:l},c={changes:{[this.activeRequest.actionParams.textDocument.uri]:[u]}};Cg(c)}}}},Sg=Rg;Sg.currentAction=null;var gu=Sg;var gR=te(si());var td=class{static isFlatCondition(e){var n;if(e.chain.length>1&&((n=e.logicBranches[1].head)==null?void 0:n.getTagName())!="else")return!1;let i=e.logicBranches[0].nodes,r=!1;for(let s=0;s<i.length;s++)if(i[s]instanceof st){r=!0;break}if(r)for(let s=0;s<i.length;s++){let a=i[s];if(a instanceof Qe&&a.content.trim().length!=0)return!1}for(let s=0;s<i.length;s++){let a=i[s];if(a instanceof st&&!td.isFlatCondition(a)||a instanceof G&&!oi.isConditionalStructure(a)&&a.isClosingTag)return!1}return!0}static getCleanChildren(e){let i=[],r=[];for(let n=0;n<e.nodes.length;n++){let s=e.nodes[n];if(s.startPosition==null)break;if(!r.includes(s.startPosition.index))s instanceof Qe?s.content.trim().length>0&&i.push(s):i.push(s),r.push(s.startPosition.index);else break}return i.pop(),i}static unwrapFlattenedConditions(e){let i={body:[],conditions:[]};return e.logicBranches.forEach(r=>{if(r.head==null)return;i.conditions.push(r.head);let n=this.getCleanChildren(r);if(n.length==1&&n[0]instanceof st){let s=this.unwrapFlattenedConditions(n[0]);i.conditions=i.conditions.concat(s.conditions),i.body=i.body.concat(s.body)}else n.length==1?i.body.push(n[0]):n.forEach(s=>{if(s instanceof st){let a=this.unwrapFlattenedConditions(s);i.conditions=i.conditions.concat(a.conditions),i.body=i.body.concat(a.body)}else{if(s instanceof G&&oi.isConditionalStructure(s))return;i.body.push(s)}})}),i}},id=td;var rd=class{constructor(e){this.refactoredStyle=0;this.params=e}isSimpleElse(e){var i;return e.logicBranches.length==2&&((i=e.logicBranches[1].head)==null?void 0:i.getTagName())=="else"}getRefactorMode(){return this.refactoredStyle}refactor(e){let i="";return this.params.refactorNested?(i=this.createdNestedGatekeeper(e),this.refactoredStyle=1):e.logicBranches.length==1?(i=this.createGatekeeper(e),this.refactoredStyle=1):this.isSimpleElse(e)&&(i=this.createTernary(e),this.refactoredStyle=0),this.params.isInInterpolation?"{"+i+"}":"{{ "+i+" }}"}createdNestedGatekeeper(e){let i=id.unwrapFlattenedConditions(e),r=[],n=[];i.conditions.forEach(o=>{let l=o.getContent().trim();o.runtimeNodes.length>1&&(l.startsWith("(")==!1&&(l="("+l),l.endsWith(")")==!1&&(l=l+")"),this.shouldAddEndingParenthesis(o)&&(l+=")")),r.push(l)}),i.body.forEach(o=>{o instanceof G?n.push(o.getNodeDocumentText()):o instanceof Qe&&n.push(o.content)}),n.length>0&&(n[0]=n[0].trimLeft(),n[n.length-1]=n[n.length-1].trimRight());let s=r.join(" && "),a=n.join("");return"("+s+") ?= "+this.convertToString(a)}convertToString(e){let i=e;return i=Dt(i,"{{","{"),i=Dt(i,"}}","}"),"'"+Dt(i,"'","\\'")+"'"}createTernary(e){var l;let i=e.logicBranches[0].head,r=e.logicBranches[1].head,n=this.convertToString((l=i.getInnerDocumentText())!=null?l:""),s=this.convertToString(r.getInnerDocumentText()),o=i.getContent().trim();return o.startsWith("(")==!1&&(o="("+o),o.endsWith(")")==!1&&(o=o+")"),this.shouldAddEndingParenthesis(i)&&(o+=")"),o+" ? "+n+" : "+s}shouldAddEndingParenthesis(e){return e.originalNode==null?!1:e.originalNode.getTagName()=="unless"}createGatekeeper(e){var a;let i=e.logicBranches[0].head,r=(a=i.getInnerDocumentText())!=null?a:"",n=this.convertToString(r),s="";return i.runtimeNodes.length>1?s="("+i.getContent().trim()+")":s=i.getContent(),s.trim()+" ?= "+n}};var _R=class{constructor(){this.condition=null;this.isNestedConditions=!1;this.refactorStyle=0}getName(e){return this.refactorStyle==1?"Convert Condition to Gatekeeper operator":"Convert Condition to Ternary"}canHandle(e){if(e.selectedDocument.hasUnclosedStructures()||e.selectedDocument.hasUnclosedStructures()||e.selectedDocument.errors.hasAny())return!1;let i=e.selectedDocument.getAllAntlersNodes(),r=new Mo,n=0,s=0;for(let o=0;o<i.length;o++)if(i[o].isClosingTag){if(oi.isConditionalStructure(i[o])){s+=1;continue}if(n+=1,n>1)return!1}let a=r.associate(i,e.ownerDocument.getDocumentParser());if(a.length==1&&a[0]instanceof st){if(this.condition=a[0],this.isNestedConditions=!1,s>2){if(!id.isFlatCondition(this.condition))return this.isNestedConditions=!1,!1;this.isNestedConditions=!0}return!0}return!1}refactor(e){if(this.condition==null)return[];let i=[],r=!1;e.params.currentNode!=null&&e.params.currentNode.getTagName()!="if"&&(r=!0);let n=new rd({isInInterpolation:r,refactorNested:this.isNestedConditions}),s=n.refactor(this.condition);this.refactorStyle=n.getRefactorMode();let a={range:e.actionParams.range,newText:s};return i.push({title:this.getName(e),kind:gR.CodeActionKind.RefactorRewrite,edit:{changes:{[e.documentUri]:[a]}}}),i}},yR=_R;var TR=class{static getRefactors(e){let i=[],r=[];return r.push(new gu),r.push(new yR),r.forEach(n=>{n.canHandle(e)&&n.refactor(e).forEach(s=>{i.push(s)})}),i}},bR=TR;var Ag=[];function IR(t){Ag=t}function PR(t){var f,d;if(((f=de.instance)==null?void 0:f.hasStructure())==!1)return[];we.refreshDocumentState();let e=decodeURIComponent(t.textDocument.uri);if(we.hasDocument(e)==!1)return[];if(!fn.has(e))return[];let i=t.range.start,r=$i(i,e,Pa.showGeneralSnippetCompletions);if(r==null)return[];let n=fn.get(e),s=n.getText(t.range),a=Pt.fromText(s.trim()),o={params:r,selectedText:s,selectedDocument:a,ownerDocument:we.getDocument(e),documentUri:t.textDocument.uri,actionParams:t},l=bR.getRefactors(o),u=(d=Wi.instance)==null?void 0:d.getDiagnostics(e),c=[];return u!=null&&u.length>0&&(u==null||u.forEach(p=>{var m,_,P,g,T,y;if(p.errorCode==I.LINT_DYNAMIC_CLASS_NAMES_POSSIBLE_PURGE){let A=p.data;if(p.node instanceof st){let N="";for(let $=0;$<p.node.logicBranches.length;$++){let le=p.node.logicBranches[$];$==p.node.logicBranches.length-1?(N+=`{{${(m=le.head)==null?void 0:m.getTrueNode().sourceContent}}}`,N+=`${A.prefix}${(_=le.head)==null?void 0:_.documentText}${A.suffix}`,N+=`{{${(g=(P=le.head)==null?void 0:P.isClosedBy)==null?void 0:g.getTrueNode().sourceContent}}}`):(N+=`{{${(T=le.head)==null?void 0:T.getTrueNode().sourceContent}}}`,N+=`${A.prefix}${(y=le.head)==null?void 0:y.documentText}${A.suffix}`)}let U={range:p.lsRange,newText:N},V=[];Ag.length>0&&Ag.forEach($=>{$.range==p.lsRange&&V.push($)});let w="";A.suffix.length>0&&A.prefix.length>0?w=`${A.prefix}...${A.suffix}`:A.suffix.length>0?w=`...${A.suffix}`:A.prefix.length>0&&(w=`${A.prefix}...`),A.classNames.length==1&&A.patterns.length==0&&(w=A.classNames[0]),l.push({title:"Dynamic CSS Class: "+w,kind:vR.CodeActionKind.QuickFix,diagnostics:V,edit:{changes:{[t.textDocument.uri]:[U]}}})}}})),l}function NR(t,e){let i=decodeURIComponent(t);we.createOrUpdate(i,e)}function Eg(t){let e=decodeURIComponent(t.uri);we.createOrUpdate(decodeURIComponent(t.uri),t.getText()),fn.set(e,t)}async function wg(t,e){var s;let i=decodeURIComponent(t.uri);we.createOrUpdate(i,t.getText());let r=[];if(we.hasDocument(i)){let a=we.getDocument(i);if(Na(a.errors.all()).forEach(o=>{r.push(o)}),(s=Wi.instance)==null?void 0:s.hasDiagnosticsIssues(i)){let o=Wi.instance.getDiagnostics(i);Na(o).forEach(l=>{r.push(l)})}}dr().diagnostics.reportDiagnostics!=!1&&(IR(r),e.sendDiagnostics({uri:t.uri,diagnostics:r}),Eq(t.uri,e))}function SR(t){var e,i,r;if((e=de.instance)==null?void 0:e.hasStructure()){let n=de.instance.getStructure().getViews();for(let s=0;s<n.length;s++){let a=decodeURIComponent(n[s].documentUri),o=[];if(we.hasDocument(a)){let l=we.getDocument(a);l.reloadDocument(),Na(l.errors.all()).forEach(u=>{o.push(u)}),Na((r=(i=Wi.instance)==null?void 0:i.checkDocument(l))!=null?r:[]).forEach(u=>{o.push(u)}),l.getAllAntlersNodes().forEach(u=>{var f,d;let c=(d=(f=Wi.instance)==null?void 0:f.checkNode(u))!=null?d:[];c.length>0&&Na(c).forEach(p=>{o.push(p)})})}t.sendDiagnostics({uri:n[s].originalDocumentUri,diagnostics:o})}}}function Eq(t,e){var r,n,s;if(dr().diagnostics.reportDiagnostics!=!1&&((r=de.instance)==null?void 0:r.hasStructure())){let a=de.instance.getStructure().getViews();for(let o=0;o<a.length;o++)if(a[o].documentUri!=t){let l=decodeURIComponent(a[o].documentUri);if((n=Wi.instance)==null?void 0:n.hasDiagnosticsIssues(l)){let u=[],c=(s=Wi.instance)==null?void 0:s.getDiagnostics(l);Na(c).forEach(f=>{u.push(f)}),e.sendDiagnostics({uri:a[o].originalDocumentUri,diagnostics:u})}}}}var AC=te(Pi());var _u=null;function xg(t){_u=t}var Dg=class{constructor(){this.htmlFormatter=null;this.yamlFormatter=null;this.phpFormatter=null;this.preFormatter=null;this.transformOptions=null;this.createExtraVirtualStructures=!1}withTransformOptions(e){return this.transformOptions=e,this}withPreFormatter(e){return this.preFormatter=e,this}withHtmlFormatter(e){return this.htmlFormatter=e,this}withYamlFormatter(e){return this.yamlFormatter=e,this}withPhpFormatter(e){return this.phpFormatter=e,this}formatText(e,i){let r=new Pt;return r.getDocumentParser().withChildDocuments(!0),r.loadString(e),this.formatDocument(r,i)}formatDocument(e,i){if(!e.isFormattingEnabled())return e.getOriginalContent();if(this.preFormatter!=null){let a=this.preFormatter(e);if(a!=null)return a}let r=e.getAllAntlersNodes();for(let a=0;a<r.length;a++)if(Gf.checkNode(r[a],i).length>0)return e.getOriginalContent();if(this.htmlFormatter==null||e.isValid()==!1)return e.getOriginalContent();e.transform().produceExtraStructuralPairs(this.createExtraVirtualStructures).withHtmlFormatter(this.htmlFormatter).withPhpFormatter(this.phpFormatter).withYamlFormatter(this.yamlFormatter),this.transformOptions!=null&&e.transform().withOptions(this.transformOptions);let n=e.transform().toStructure(),s=this.htmlFormatter(n);return e.transform().fromStructure(s)}};var Fg=class{static formatFrontMatter(e){try{let i=il(e,{}),r=PS(i,{indent:2,noArrayIndent:!1,condenseFlow:!1,forceQuotes:!0,noRefs:!0,skipInvalid:!0});return r.endsWith(`
`)&&(r=r.trimEnd()),r}catch{return e}}};function Xi(t,e,i){if(t&&t.hasOwnProperty(e)){let r=t[e];if(r!==null)return r}return i}function RR(t,e,i){let r=Xi(t,e,null);return typeof r=="string"?r.length>0?r.split(",").map(n=>n.trim().toLowerCase()):[]:i}var FV=CC().html,Eu=class extends Dg{constructor(e){super();this.options=e,this.withHtmlFormatter(this.formatHtml).withYamlFormatter(Fg.formatFrontMatter).withTransformOptions({endNewline:Xi(e.htmlOptions,"endWithNewline",!1),maxAntlersStatementsPerLine:e.maxStatementsPerLine,newlinesAfterFrontMatter:1,tabSize:e.tabSize})}formatHtml(e){var i;return FV(e,{indent_size:this.options.tabSize,indent_char:this.options.insertSpaces?" ":"	",indent_empty_lines:Xi(this.options.htmlOptions,"indentEmptyLines",!1),wrap_line_length:Xi(this.options.htmlOptions,"wrapLineLength",120),unformatted:(i=RR(this.options.htmlOptions,"unformatted",[]))!=null?i:[],content_unformatted:[],indent_inner_html:Xi(this.options.htmlOptions,"indentInnerHtml",!1),preserve_newlines:Xi(this.options.htmlOptions,"preserveNewLines",!0),max_preserve_newlines:Xi(this.options.htmlOptions,"maxPreserveNewLines",32786),indent_handlebars:Xi(this.options.htmlOptions,"indentHandlebars",!1),end_with_newline:Xi(this.options.htmlOptions,"endWithNewline",!1),extra_liners:[],wrap_attributes:Xi(this.options.htmlOptions,"wrapAttributes","auto"),wrap_attributes_indent_size:Xi(this.options.htmlOptions,"wrapAttributesIndentSize",void 0),eol:`
`,indent_scripts:Xi(this.options.htmlOptions,"indentScripts","normal"),unformatted_content_delimiter:Xi(this.options.htmlOptions,"unformattedContentDelimiter","")})}};function EC(t){let e=dr(),i=decodeURIComponent(t.textDocument.uri),r=_u.format;if(e.formatterIgnoreExtensions.length>0){for(let n=0;n<e.formatterIgnoreExtensions.length;n++)if(i.toLowerCase().endsWith(e.formatterIgnoreExtensions[n].toLowerCase()))return null}if(we.hasDocument(i)&&fn.has(i)){let n=fn.get(i),s=n.getText(),a=Pt.fromText(s),o={htmlOptions:r,formatFrontMatter:e.formatFrontMatter,insertSpaces:t.options.insertSpaces,tabSize:t.options.tabSize,maxStatementsPerLine:3,formatExtensions:[]},l=new Eu(o),u=l.formatDocument(a,dr()),c=n.positionAt(s.length);return[{range:{start:AC.Position.create(0,0),end:c},newText:u}]}return null}var wC=te(Pi());var OV={activeSignature:null,activeParameter:null,signatures:[]};function xC(t){var r;let e=decodeURIComponent(t.textDocument.uri),i=$i(t.position,e);if(i!=null&&i.context!=null&&i.context.modifierContext!=null&&((r=je.instance)==null?void 0:r.hasModifier(i.context.modifierContext.name))){let n=i.context.modifierContext.name,s=je.instance.getModifier(n),a=[];s!=null&&s.parameters.forEach(l=>{a.push({label:l.name,documentation:l.description})});let o=i.context.modifierContext.activeValueIndex;return o>a.length&&(o=a.length-1),(o<0||a.length==0)&&(o=0),{signatures:[{label:s.name,documentation:{kind:wC.MarkupKind.Markdown,value:s.description},parameters:a,activeParameter:o}],activeParameter:o,activeSignature:0}}return OV}var Fa=te(gt());var t_=class{static getTypedHeader(e,i){let r="";return i.length>0&&(r=i.join(", ")),"**"+e+"** `"+r+"`  \n"}static formatParameterHover(e){let i=this.getTypedHeader(e.name,e.expectsTypes);if(i+=e.description,e.documentationLink!=null&&e.documentationLink.trim().length>0){i+=`  

`;let r="Documentation Reference]";e.docLinkName!=null&&e.docLinkName.trim().length>0&&(r=e.docLinkName.trim()),i+="["+r+"]("+e.documentationLink+")"}return{contents:{kind:Fa.MarkupKind.Markdown,value:i}}}static formatModifierHover(e){let i=this.getTypedHeader(e.name,e.acceptsType),r="";if(e.parameters.length>0){let s=[];e.parameters.forEach(a=>{s.push("$"+a.name)}),r=s.join(", ")}let n="";if(e.returnsType.length==1)n=e.returnsType[0];else{let s=[];e.returnsType.forEach(a=>{s.push(a)}),n=s.join(", ")}return typeof e.hoverDescription!="undefined"&&e.hoverDescription!=null?i+=e.hoverDescription+`
`:i+=e.description+`
`,i+="```js\n",i+="function "+e.name+"("+r+"):"+n,i+="\n```",e.docLink!=null&&e.docLink.trim().length>0&&(i+=`  

`,i+="[Documentation Reference]("+e.docLink+")"),{contents:{kind:Fa.MarkupKind.Markdown,value:i}}}static formatBlueprintHover(e,i){let r="";return e.displayName!=null&&e.displayName.trim().length>0?r="**"+e.displayName+"** ("+e.name+`)

`:r="**"+e.name+`**

`,e.instructionText!=null&&(r+=e.instructionText+`

`),r+="**Blueprint**: "+e.blueprintName+`

`,r+="**Type**: "+e.type,e.maxItems!=null&&(r+=`

**Max Items**: `+e.maxItems),i!=null&&(r+=`

**From**: `+i.runtimeName()),{contents:{kind:Fa.MarkupKind.Markdown,value:r}}}static formatScopeVariableHover(e){if(e.sourceField!=null)return this.formatBlueprintHover(e.sourceField,e.introducedBy);let i="**"+e.name+`**

`;return i+="**Type**: "+e.dataType,e.introducedBy!=null&&(i+=`
**From**: `+e.introducedBy.runtimeName()),{contents:{kind:Fa.MarkupKind.Markdown,value:i}}}static getHover(e){var r,n,s,a,o,l,u,c,f;if(e==null||e.nodesInScope.length==0)return null;let i=e.nodesInScope[e.nodesInScope.length-1];if(e.context!=null&&e.context.node!=null&&(i=e.context.node),i!=null){if((r=Le.instance)==null?void 0:r.isKnownTag(i.runtimeName())){let _=(n=Le.instance)==null?void 0:n.findTag(i.runtimeName());if(e.context!=null&&e.context.isCursorInIdentifier&&typeof(_==null?void 0:_.resolveDocumentation)!="undefined"){let P=_.resolveDocumentation(e);if(P.trim().length>0)return{contents:{kind:Fa.MarkupKind.Markdown,value:P},range:{start:_t(i.startPosition),end:_t(i.endPosition)}}}if(_!=null&&((a=(s=e.context)==null?void 0:s.parameterContext)==null?void 0:a.parameter)!=null){let P=e.context.parameterContext.parameter,g=Le.instance.getParameter(_.tagName,P.name);if(g!=null){if(typeof g.providesDocumentation!="undefined"){let T=g.providesDocumentation(e);if(T.trim().length>0)return{contents:{kind:Fa.MarkupKind.Markdown,value:T},range:{start:_t(i.startPosition),end:_t(i.endPosition)}}}return this.formatParameterHover(g)}else if(P.isModifierParameter&&P.modifier!=null)return this.formatModifierHover(P.modifier)}}if(((o=e.context)==null?void 0:o.parameterContext)!=null&&((u=(l=e.context)==null?void 0:l.parameterContext.parameter)==null?void 0:u.modifier)!=null)return this.formatModifierHover(e.context.parameterContext.parameter.modifier);if(((c=e.context)==null?void 0:c.modifierContext)!=null){let _=(f=je.instance)==null?void 0:f.getModifier(e.context.modifierContext.name);if(_!=null)return this.formatModifierHover(_)}let d=e.position.line+1,p=e.position.character+1,m=e.antlersDocument.cursor.position(d,p);return i.scopeVariable!=null&&m!=null&&m.isWithin(i.startPosition,i.endPosition)?this.formatScopeVariableHover(i.scopeVariable):null}return null}};function DC(t){var r;if(((r=de.instance)==null?void 0:r.hasStructure())==!1)return null;let e=decodeURIComponent(t.textDocument.uri);if(we.hasDocument(e)==!1)return null;let i=$i(t.position,e);return t_.getHover(i)}var i_=class{static findLocations(e,i){if(e==null||e.nodesInScope.length==0)return null;let r=e.nodesInScope[e.nodesInScope.length-1];if(e.context!=null&&e.context.node!=null&&(r=e.context.node),r!=null&&r.scopeVariable!=null&&r.scopeVariable.introducedBy!=null){let n=[];return n.push({uri:i.textDocument.uri,range:{start:_t(r.scopeVariable.introducedBy.startPosition),end:_t(r.scopeVariable.introducedBy.endPosition)}}),n}return null}};function FC(t){var r;if(((r=de.instance)==null?void 0:r.hasStructure())==!1)return null;let e=decodeURIComponent(t.textDocument.uri);if(we.hasDocument(e)==!1)return null;let i=$i(t.position,e);return i_.findLocations(i,t)}var OC=te(si());var md=new Map,hd=new Map;function r_(){let t={types:["comment","string","keyword","number","regexp","operator","namespace","type","struct","class","interface","enum","typeParameter","function","method","macro","variable","parameter","property","label","antlersAttribute"],modifiers:["declaration","documentation","readonly","static","abstract","deprecated","modification","async"]};return t.types.forEach((e,i)=>md.set(e,i)),t.modifiers.forEach((e,i)=>hd.set(e,i)),{legend:t,async getSemanticTokens(e,i){let r=decodeURIComponent(e.uri),n=new OC.SemanticTokensBuilder,s=[];if(we.hasDocument(r)){let a=we.getDocument(r);a.nodes.getAllRuntimeNodes().forEach(p=>{p instanceof Mt&&s.push(p)});let l=new Map;s.forEach(p=>{var m;p.startPosition!=null&&(l.has(p.startPosition.line)||l.set(p.startPosition.line,[]),(m=l.get(p.startPosition.line))==null||m.push(p))});let u=[];Array.from(l.keys()).sort((p,m)=>p-m).forEach(p=>{l.get(p).sort((P,g)=>{var T,y,A,N;return((y=(T=P.startPosition)==null?void 0:T.char)!=null?y:0)-((N=(A=g.startPosition)==null?void 0:A.char)!=null?N:0)}).forEach(P=>{u.push(P)})}),u.forEach(p=>{p instanceof Mt&&p.startPosition!=null&&p.endPosition!=null&&n.push(p.startPosition.line-1,p.startPosition.char,p.endPosition.char-p.startPosition.char,kC("function"),LC([]))}),a.nodes.getAllParameterNodes().forEach(p=>{p.namePosition!=null&&p.namePosition.start!=null&&p.namePosition.end!=null&&n.push(p.namePosition.start.line-1,p.namePosition.start.char-1,p.namePosition.end.char-p.namePosition.start.char,kC("antlersAttribute"),LC([]))})}return n.build().data}}}function LC(t){let e=0;for(let i=0;i<t.length;i++){let r=t[i];hd.has(r)?e=e|1<<hd.get(r):r==="notInLegend"&&(e=e|1<<hd.size+2)}return e}function kC(t){return md.has(t)?md.get(t):t==="notInLegend"?md.size+2:0}var gd=te(si());function MC(t){let e=[];return t.forEach(i=>{if(i.isComment||i.isClosingTag&&!i.isConditionNode||i.isConditionNode&&i.name!=null&&i.isClosingTag&&(i.name.name=="if"||i.name.name=="unless"))return;let r=Sa(i),n=[];if(i.children.length>0){let u=i.getStructuralChildren();u.length>0&&(n=MC(u))}let s=gd.SymbolKind.Field;i.isTagNode&&(s=gd.SymbolKind.Class);let a=i.getNameContent().trim(),o=i.getContent().trim(),l=a+" "+o;a==o&&(l=o),l=i.sourceContent,i.name!=null&&i.name.name=="partial"&&(s=gd.SymbolKind.File),e.push({range:r,kind:s,name:l,selectionRange:r,children:n})}),e}function qC(t){let e=decodeURIComponent(t.textDocument.uri);if(we.hasDocument(e)){let i=we.getDocument(e),r=i.nodes.getStructuralNodes();return MC(r)}return[]}var n_=class{static getDocumentLinks(e){var r,n,s;let i=[];if((r=de.instance)==null?void 0:r.hasStructure()){let a=(s=(n=Gr.instance)==null?void 0:n.getPartialReferences(e))!=null?s:[];for(let o=0;o<a.length;o++){let l=a[o];if(l.hasMethodPart()){let u=de.instance.getStructure().findRelativeView(l.getMethodNameValue());if(u!=null){let c=_t(l.nameEndsOn);i.push({range:{start:_t(l.startPosition),end:{character:c.character-2,line:c.line}},tooltip:"Partial: "+u.displayName,target:decodeURIComponent(u.documentUri)})}}}}return i}};var ei=te(require("path")),Ot=te(require("fs")),Ms=te(cn()),cA=require("path");var xn=te(require("fs")),VC=te(Pg());function LV(t){let e=JSON.parse(xn.readFileSync(t,{encoding:"utf8"}));return typeof e.extra!="undefined"&&typeof e.extra.statamic!="undefined"}var s_=class{static getInstalledPackages(e,i,r){let n=[];if(xn.existsSync(e)){let s=JSON.parse(xn.readFileSync(e,{encoding:"utf8"}));if(typeof s!="undefined"&&typeof s.packages!="undefined")for(let a=0;a<s.packages.length;a++){let o=s.packages[a];if(typeof o.name!="undefined"&&typeof o.version!="undefined"){let l=r+Wr(o.name,"/")+"/composer.json",u=r+Wr(o.name,"/")+"/.antlers-ls/",c=!1;if(typeof o.dist!="undefined"){let m=o.dist;typeof m.type!="undefined"&&typeof m.url!="undefined"&&m.type==="path"&&(l=i+Wr(o.dist.url,"/")+"/composer.json",u=r+Wr(o.name,"/")+"/.antlers-ls/")}let f=null;if(xn.existsSync(l)&&(c=LV(l),c&&xn.existsSync(u))){f={fieldtypesFile:null,modifiersFile:null,tagsFile:null};let m=u+"tags.json",_=u+"modifiers.json",P=u+"types.json";xn.existsSync(m)&&(f.tagsFile=m),xn.existsSync(_)&&(f.modifiersFile=_),xn.existsSync(P)&&(f.fieldtypesFile=P)}let d=Tr(o.version,"v"),p=VC.clean(d);p!=null&&(d=p),n.push({name:o.name,version:d,vendorPath:l,isStatamicAddon:c,antlersExtension:f})}}}return n}};var BC=te(require("path"));function a_(t){let e=BC.resolve(t).replace(/\\/g,"/");return e[0]!=="/"&&(e="/"+e),encodeURI("file://"+e)}function pr(t){return!t.toLowerCase().endsWith(".gitkeep")}var jC=te(cn()),UC=te(require("fs"));function wu(t,e,i,r,n){let s=[],a=[];for(let o of Object.keys(t[i])){let l=t[i][o],u="",c="",f="",d="",p=null,m=null,_=null;if(typeof l.prefix!="undefined"&&l.prefix!==null&&(d=l.prefix),typeof l.import!="undefined"&&n.has(l.import)){let P=n.get(l.import);for(let g=0;g<P.length;g++)a.includes(P[g].handle)==!1&&(s.push(Tm(P[g],d)),a.push(P[g].handle));continue}if(typeof l.import!="undefined"&&(_=l.import),typeof l.field!="undefined"&&(typeof l.field.type!="undefined"&&(u=l.field.type),typeof l.field.display!="undefined"&&(c=l.field.display),typeof l.field.instructions!="undefined"&&(f=l.field.instructions),typeof l.field.max_items!="undefined"&&(p=l.field.max_items),u=Fb(u,l,p),Db.includes(u)&&typeof l.field.sets!="undefined")){m=[];for(let P of Object.keys(l.field.sets)){let g=l.field.sets[P],T=wu(g,e,"fields","set:"+P,n),y="";typeof g.display!="undefined"&&(y=g.display),m.push({handle:P,displayName:y,fields:T})}}s.push({blueprintName:e,name:l.handle,type:u,displayName:c,instructionText:f,maxItems:p,refFieldSetField:null,sets:m,import:_})}return s}function Oa(t,e,i,r){let n=[],s={fields:[],handle:"",title:"",filePath:"",type:i};try{let a=UC.readFileSync(t,{encoding:"utf8"}),o=jC.parse(a),l=o.sections;if(s.filePath=t,s.handle=e,s.title=e,typeof o.title!="undefined"&&(s.title=o.title),typeof l!="undefined")for(let u of Object.keys(l)){let c=l[u];if(typeof c.fields!="undefined"){let f=wu(c,e,"fields",e,r);f.length>0&&(n=n.concat(f))}}else if(typeof o.fields!="undefined"){let u=wu(o,e,"fields",e,r);u.length>0&&(n=n.concat(u))}}catch{}return s.fields=n,s}var GC=te(cn()),WC=te(require("fs"));function HC(t,e){let i=[];try{let r=WC.readFileSync(t,{encoding:"utf8"}),n=GC.parse(r);if(typeof n=="undefined"||n===null)return[];if(typeof n.fields!="undefined")for(let s of Object.keys(n.fields)){let a=n.fields[s],o=a.handle,l="",u="",c="",f=null,d=null,p=null;if(typeof a.import!="undefined"&&(p=a.import),typeof a.field!="undefined"&&(typeof a.field.display!="undefined"&&(l=a.field.display),typeof a.field.type!="undefined"&&(c=a.field.type),typeof a.field.instructions!="undefined"&&(u=a.field.instructions),typeof a.field.max_items!="undefined"&&(f=a.field.max_items),typeof a.field.sets!="undefined")){d=[];for(let m of Object.keys(a.field.sets)){let _=a.field.sets[m],P=wu(_,e,"fields","set:"+m,new Map),g="";typeof _.display!="undefined"&&(g=_.display),d.push({handle:m,displayName:g,fields:P})}}i.push({handle:o,instructionText:u,name:l,type:c,maxItems:f,sets:d,import:p})}}catch{}return i}var YC=te(require("path")),KC=te(require("fs")),$C=te(cn());function zC(t){let e=YC.basename(t).split(".").slice(0,-1).join("."),i=e;try{let r=KC.readFileSync(t,{encoding:"utf8"}),n=$C.parse(r);typeof n.title!="undefined"&&n.title!==null&&(i=n.title)}catch(r){console.error(r)}return{handle:e,title:i}}var XC=te(require("path")),QC=te(require("fs")),JC=te(cn());function ZC(t){let e=XC.basename(t).split(".").slice(0,-1).join("."),i=e,r="";try{let n=QC.readFileSync(t,{encoding:"utf8"}),s=JC.parse(n);typeof s!="undefined"&&s!==null&&(typeof s.title!="undefined"&&s.title!==null&&(i=s.title),typeof s.disk!="undefined"&&s.disk!==null&&(r=s.disk))}catch(n){console.error(n)}return{handle:e,title:i,diskName:r}}var eA=te(require("path")),tA=te(require("fs")),iA=te(cn());function rA(t){let e=eA.basename(t).split(".").slice(0,-1).join("."),i=tA.readFileSync(t,{encoding:"utf8"}),r="",n="",s="",a=!1,o=[],l=null,u=null,c=[];try{let f=iA.parse(i);if(typeof f!="undefined"&&f!==null){if(typeof f.title!="undefined"&&f.title!==null&&(r=f.title),typeof f.inject!="undefined"&&f.inject!==null){let d=Object.keys(f.inject);for(let p=0;p<d.length;p++){let m=d[p];m=="view_model"?u=f.inject.view_model:c.push(m)}}if(typeof f.template!="undefined"&&f.template!==null&&(n=f.template),typeof f.layout!="undefined"&&f.layout!==null&&(s=f.layout),typeof f.taxonomies!="undefined"&&f.taxonomies!==null&&(o=Object.keys(f.taxonomies)),typeof f.structure!="undefined"&&f.structure!==null){a=!0;let d=f.structure,p=-1,m=!1;typeof d.root!="undefined"&&d.root!==null&&(m=d.root),typeof d.max_depth!="undefined"&&d.max_depth!==null&&(p=d.max_depth),l={root:m,maxDepth:p}}}}catch(f){console.error(f)}return{handle:e,title:r,template:n,layout:s,taxonomies:o,isStructure:a,structure:l,viewModel:u,injectFields:c}}var o_=te(require("fs")),l_=te(cn());function nA(t){let e=[],i=o_.readFileSync(t,{encoding:"utf8"});try{let r=l_.parse(i);if(typeof r=="undefined"||r===null)return[];let n=Object.keys(r);for(let s=0;s<n.length;s++){let a=n[s],o=r[a],l=a;typeof o!="undefined"&&o!==null&&typeof o.title!="undefined"&&o.title!==null&&(l=o.title),e.push({handle:a,title:l})}}catch(r){console.error(r)}return e}function sA(t){let e=[],i=o_.readFileSync(t,{encoding:"utf8"});try{let r=l_.parse(i);if(typeof r=="undefined"||r===null)return[];let n=Object.keys(r);for(let s=0;s<n.length;s++){let a=n[s],o=r[a],l=a;typeof o!="undefined"&&o!==null&&typeof o.title!="undefined"&&o.title!==null&&(l=o.title),e.push({handle:a,title:l})}}catch(r){console.error(r)}return e}var aA=te(require("fs")),oA=te(cn());function lA(t){var r,n,s,a;let e=aA.readFileSync(t,{encoding:"utf8"}),i=[];try{let o=oA.parse(e);if(typeof o=="undefined"||o===null)return[];let l=Object.keys(o);for(let u=0;u<l.length;u++){let c=l[u],f=o[c],d=[],p="";if(typeof f!="undefined"&&f!==null){let m=Object.keys(f);for(let _=0;_<m.length;_++){let P=m[_],g=(n=(r=je.instance)==null?void 0:r.getModifier(P))!=null?n:null,T=!1,y="";g!=null?(T=!0,y=(a=(s=je.instance)==null?void 0:s.getProbableReturnType(g,!1))!=null?a:"",p=y):p="",d.push({hasReference:T,manifestsType:y,name:P,ref:g})}}i.push({name:c,manifestsType:p,modifiers:d})}}catch{}return i}function u_(t,e,i){return{blueprintName:t,displayName:"",import:null,instructionText:"",maxItems:null,name:e,refFieldSetField:null,sets:null,type:i}}var c_=class{constructor(e,i){this.isMocked=!1;this.rootPath="";this.fieldsetsPath="";this.viewsPath="";this.collectionBlueprintsPath="";this.formBlueprintsPath="";this.globalBlueprintsPath="";this.miscBlueprintsPath="";this.taxonomiesBlueprintsPath="";this.globalFiles=[];this.blueprintFiles=[];this.collectionNames=[];this.speculativeFields=new Map;this.collections=new Map;this.fieldsets=new Map;this.forms=new Map;this.globals=new Map;this.taxonomies=new Map;this.fields=new Map;this.miscFields=new Map;this.blueprintRef=new Map;this.blueprintCollectionRef=new Map;this.templates=[];this.views=[];this.partialCache=[];this.partialViewNames=[];this.taxonomyNames=[];this.hasMacroFile=!1;this.macroFilePath="";this.collectionQueryScopes=[];this.taxonomyTerms=new Map;this.assets=new Map;this.userGroups=new Map;this.userRoles=new Map;this.navigationMenus=new Map;this.blueprints=[];this.viewMap=new Map;this.routeNames=[];this.translationKeys=[];this.uniqueFormNames=[];this.uniquePartialViewNames=[];this.uniqueCollectionNames=[];this.uniqueTaxonomyNames=[];this.uniqueUserGroups=[];this.uniqueUserRoles=[];this.uniqueGlobalSettingNames=[];this.uniqueNavigationNames=[];this.uniqueAssetNames=[];this.publicAssets=[];this.packageMapping=new Map;this.statamicAddonMapping=new Map;this.blueprintFieldReference=[];this.baseResourcePath=i,this.sourceStructure=e,this.rootPath="",this.isMocked=e.isMocked,this.rootPath=e.rootPath,this.fieldsetsPath=e.fieldsetsPath,this.viewsPath=e.viewsPath,this.collectionBlueprintsPath=e.collectionBlueprintsPath,this.formBlueprintsPath=e.formBlueprintsPath,this.globalBlueprintsPath=e.globalBlueprintsPath,this.miscBlueprintsPath=e.miscBlueprintsPath,this.taxonomiesBlueprintsPath=e.taxonomiesBlueprintsPath,this.globalFiles=e.globalFiles,this.blueprintFiles=e.blueprintFiles,this.collectionNames=e.collectionNames,this.blueprints=e.blueprints,this.collections=e.collections,this.assets=e.assets,this.fieldsets=e.fieldsets,this.forms=e.forms,this.globals=e.globals,this.taxonomies=e.taxonomies,this.fields=e.fields,this.miscFields=e.miscFields,this.templates=e.templates,this.views=e.views,this.partialCache=e.partialCache,this.partialViewNames=e.partialViewNames,this.taxonomyNames=e.taxonomyNames,this.macroFilePath=e.macroFilePath,this.hasMacroFile=e.hasMacrosFile,this.collectionQueryScopes=e.collectionScopes,this.taxonomyTerms=e.taxonomyTerms,this.navigationMenus=e.navigationMenus,this.rootPath=e.workingDirectory,this.speculativeFields=e.namedBluePrintFields,this.buildDetails(),typeof this.sourceStructure.restoreProperties!="undefined"&&this.sourceStructure.restoreProperties!=null&&(this.assets=this.sourceStructure.restoreProperties.assets,this.blueprintCollectionRef=this.sourceStructure.restoreProperties.blueprintCollectionRef,this.blueprintFieldReference=this.sourceStructure.restoreProperties.blueprintFieldReference,this.blueprintFiles=this.sourceStructure.restoreProperties.blueprintFiles,this.blueprintRef=this.sourceStructure.restoreProperties.blueprintRef,this.collectionNames=this.sourceStructure.restoreProperties.collectionNames,this.collectionQueryScopes=this.sourceStructure.restoreProperties.collectionQueryScopes,this.collections=this.sourceStructure.restoreProperties.collections,this.fields=this.sourceStructure.restoreProperties.fields,this.fieldsets=this.sourceStructure.restoreProperties.fieldsets,this.blueprints=this.sourceStructure.restoreProperties.blueprints,this.forms=this.sourceStructure.restoreProperties.forms,this.globalFiles=this.sourceStructure.restoreProperties.globalFiles,this.globals=this.sourceStructure.restoreProperties.globals,this.miscFields=this.sourceStructure.restoreProperties.miscFields,this.navigationMenus=this.sourceStructure.restoreProperties.navigationMenus,this.packageMapping=this.sourceStructure.restoreProperties.packageMapping,this.partialCache=this.sourceStructure.restoreProperties.partialCache,this.partialViewNames=this.sourceStructure.restoreProperties.partialViewNames,this.publicAssets=this.sourceStructure.restoreProperties.publicAssets,this.routeNames=this.sourceStructure.restoreProperties.routeNames,this.statamicAddonMapping=this.sourceStructure.restoreProperties.statamicAddonMapping,this.taxonomies=this.sourceStructure.restoreProperties.taxonomies,this.taxonomyNames=this.sourceStructure.restoreProperties.taxonomyNames,this.taxonomyTerms=this.sourceStructure.restoreProperties.taxonomyTerms,this.templates=this.sourceStructure.restoreProperties.templates,this.translationKeys=this.sourceStructure.restoreProperties.translationKeys,this.uniqueAssetNames=this.sourceStructure.restoreProperties.uniqueAssetNames,this.uniqueCollectionNames=this.sourceStructure.restoreProperties.uniqueCollectionNames,this.uniqueFormNames=this.sourceStructure.restoreProperties.uniqueFormNames,this.uniqueGlobalSettingNames=this.sourceStructure.restoreProperties.uniqueGlobalSettingNames,this.uniqueNavigationNames=this.sourceStructure.restoreProperties.uniqueNavigationNames,this.uniquePartialViewNames=this.sourceStructure.restoreProperties.uniquePartialViewNames,this.uniqueTaxonomyNames=this.sourceStructure.restoreProperties.uniqueTaxonomyNames,this.uniqueUserGroups=this.sourceStructure.restoreProperties.uniqueUserGroups,this.uniqueUserRoles=this.sourceStructure.restoreProperties.uniqueUserRoles,this.userGroups=this.sourceStructure.restoreProperties.userGroups,this.userRoles=this.sourceStructure.restoreProperties.userRoles,this.viewMap=this.sourceStructure.restoreProperties.viewMap,this.views=this.sourceStructure.restoreProperties.views)}getViewPath(){return this.viewsPath}getProjectRoot(){return this.rootPath}export(){let e=this.sourceStructure;return e.restoreProperties=this.getRestoreRecords(),e}getRestoreRecords(){return{assets:this.assets,baseResourcePath:this.baseResourcePath,blueprintCollectionRef:this.blueprintCollectionRef,blueprintFieldReference:this.blueprintFieldReference,blueprintFiles:this.blueprintFiles,blueprintRef:this.blueprintRef,collectionNames:this.collectionNames,collectionQueryScopes:this.collectionQueryScopes,blueprints:this.blueprints,collections:this.collections,fields:this.fields,fieldsets:this.fieldsets,forms:this.forms,globalFiles:this.globalFiles,globals:this.globals,miscFields:this.miscFields,navigationMenus:this.navigationMenus,packageMapping:this.packageMapping,partialCache:this.partialCache,partialViewNames:this.partialViewNames,publicAssets:this.publicAssets,routeNames:this.routeNames,statamicAddonMapping:this.statamicAddonMapping,taxonomies:this.taxonomies,taxonomyNames:this.taxonomyNames,taxonomyTerms:this.taxonomyTerms,templates:this.templates,translationKeys:this.translationKeys,uniqueAssetNames:this.uniqueAssetNames,uniqueCollectionNames:this.uniqueCollectionNames,uniqueFormNames:this.uniqueFormNames,uniqueGlobalSettingNames:this.uniqueGlobalSettingNames,uniqueNavigationNames:this.uniqueNavigationNames,uniquePartialViewNames:this.uniquePartialViewNames,uniqueTaxonomyNames:this.uniqueTaxonomyNames,uniqueUserGroups:this.uniqueUserGroups,uniqueUserRoles:this.uniqueUserRoles,userGroups:this.userGroups,userRoles:this.userRoles,viewMap:this.viewMap,views:this.views}}reloadDetails(){return this}findAnyBlueprintField(e){return this.speculativeFields.has(e)?this.speculativeFields.get(e):null}buildImportRefernece(e){if(e.sets!=null)for(let i=0;i<e.sets.length;i++){let r=e.sets[i];for(let n=0;n<r.fields.length;n++){let s=r.fields[n];if(s.import!=null){let a=s.import;if(this.sourceStructure.fieldsets.has(a)){let o=this.sourceStructure.fieldsets.get(a),l=Ob(o);for(let u=0;u<l.length;u++)this.buildImportRefernece(l[u]);r.fields.splice(n,1),r.fields=r.fields.concat(l)}}}}}buildDetails(){var s,a;let e=[],i=[],r=[],n=[];if(typeof this.sourceStructure.assets.forEach!="undefined"&&this.sourceStructure.assets.forEach((o,l)=>{n.push(l)}),typeof this.sourceStructure.forms.forEach!="undefined"&&this.sourceStructure.forms.forEach((o,l)=>{o.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l)}),e.push(l),this.blueprintRef.set(l,o)}),typeof this.sourceStructure.globals.forEach!="undefined"&&this.sourceStructure.globals.forEach((o,l)=>{o.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l)}),i.push(l),this.blueprintRef.set(l,o)}),typeof this.sourceStructure.miscFields.forEach!="undefined"&&this.sourceStructure.miscFields.forEach((o,l)=>{o.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l)}),this.blueprintRef.set(l,o)}),typeof this.sourceStructure.taxonomies.forEach!="undefined"&&this.sourceStructure.taxonomies.forEach((o,l)=>{o.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l)}),this.blueprintRef.set(l,o)}),typeof this.sourceStructure.fields.forEach!="undefined"&&this.sourceStructure.fields.forEach((o,l)=>{o.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l)}),this.blueprintRef.set(l,o)}),typeof this.sourceStructure.navigationMenus.forEach!="undefined"&&this.sourceStructure.navigationMenus.forEach((o,l)=>{r.push(l)}),typeof this.sourceStructure.views.forEach!="undefined"&&this.sourceStructure.views.forEach((o,l)=>{this.viewMap.set(o.documentUri,o)}),typeof this.sourceStructure.composerPackages.forEach!="undefined"&&this.sourceStructure.composerPackages.forEach(o=>{o.isStatamicAddon&&this.statamicAddonMapping.set(o.name,o),this.packageMapping.set(o.name,o)}),this.uniqueAssetNames=[...new Set(n)],this.uniqueNavigationNames=[...new Set(r)],this.uniqueGlobalSettingNames=[...new Set(i)],this.uniqueFormNames=[...new Set(e)],this.uniqueCollectionNames=[...new Set(this.collectionNames)],this.uniquePartialViewNames=[...new Set(this.partialViewNames)],this.uniqueTaxonomyNames=[...new Set(this.taxonomyNames)],(s=je.instance)==null||s.resetMacros(),this.hasMacroFile){let o=lA(this.macroFilePath);o.length>0&&((a=je.instance)==null||a.registerMacros(o))}this.uniqueUserRoles=[...new Set(this.sourceStructure.userRoleNames)],this.uniqueUserGroups=[...new Set(this.sourceStructure.userGroupNames)],this.sourceStructure.searchIndexes.length==0&&this.sourceStructure.searchIndexes.push("default");for(let o=0;o<this.sourceStructure.internalFieldReference.length;o++)this.buildImportRefernece(this.sourceStructure.internalFieldReference[o])}getWorkingDirectory(){return this.sourceStructure.workingDirectory}getOAuthProviders(){return[]}getSiteNames(){return[]}getSearchIndexes(){return this.sourceStructure.searchIndexes}getStatamicVersion(){return this.sourceStructure.statamicPackage!=null?this.sourceStructure.statamicPackage.version:""}hasComposerPackage(e){return this.packageMapping.has(e)}hasStatamicAddon(e){return this.statamicAddonMapping.has(e)}getAddonDetails(e){return this.hasStatamicAddon(e)?this.statamicAddonMapping.get(e):null}getComposerPackages(){return this.packageMapping}getComposerPackageDetails(e){return this.hasComposerPackage(e)?this.packageMapping.get(e):null}getPartials(){return this.sourceStructure.partialCache}getBlueprintNames(){let e=[];return this.blueprintRef.forEach((i,r)=>{r.startsWith("*")==!1&&e.includes(r)==!1&&e.push(r)}),e}getBlueprintDetails(e){if(this.blueprintRef.has(e)==!1){let i=[];return i.push(u_(e,"title","text")),i.push(u_(e,"content","markdown")),i.push(u_(e,"slug","slug")),i}return this.blueprintRef.get(e)}hasViewCollectionInjections(e){return this.viewMap.has(e)==!1?!1:this.viewMap.get(e).injectsCollections.length>0}getCollectionNames(){return this.collectionNames}getCollectionNamesForView(e){return this.viewMap.has(e)==!1?[]:this.viewMap.get(e).injectsCollections}getPublicAssetPaths(){return this.publicAssets}getTaxonomyTerms(e){return this.hasTaxonomy(e)?this.taxonomyTerms.get(e):[]}hasTaxonomy(e){return this.taxonomyNames.includes(e)}getCollectionQueryScopes(){return this.collectionQueryScopes}getBlueprintFields(e){let i=[];for(let r=0;r<e.length;r++){let n=e[r],s=this.getCollectionDetails(n);if(s!=null&&s.injectFields!=null)for(let a=0;a<s.injectFields.length;a++)i.push({blueprintName:"*inject",displayName:s.injectFields[a],import:null,instructionText:null,maxItems:null,name:s.injectFields[r],refFieldSetField:null,sets:null,type:"*"});if(this.fields.has(n)){let a=this.fields.get(n);typeof a!="undefined"&&a!==null&&(i=i.concat(a))}}return i}getBlueprintField(e,i){let r=e;if(this.blueprintCollectionRef.has(r)&&(r=this.blueprintCollectionRef.get(r)),this.fields.has(r)){let n=this.fields.get(r);for(let s=0;s<n.length;s++)if(n[s].name==i)return n[s]}return null}getFields(){return this.fields}getTaxonomyBlueprintFields(e){let i=[];for(let r=0;r<e.length;r++){let n=e[r];if(this.taxonomies.has(n)){let s=this.taxonomies.get(n);typeof s!="undefined"&&s!==null&&(i=i.concat(s))}}return i}getUserFields(){return this.miscFields.has("user")?this.miscFields.get("user"):[]}getAssetBlueprintFields(e){return this.sourceStructure.assetFields.has(e)?this.sourceStructure.assetFields.get(e):[]}getUniqueTaxonomyNames(){return this.uniqueTaxonomyNames}getUniqueCollectionNames(){return this.uniqueCollectionNames}getUniquePartialNames(){return this.uniquePartialViewNames}getUniqueUserGroupNames(){return this.uniqueUserGroups}getUniqueUserRoleNames(){return this.uniqueUserRoles}getUniqueFormNames(){return this.uniqueFormNames}getAssetPresets(){return[]}getUniqueGlobalsNames(){return this.uniqueGlobalSettingNames}getUniqueNavigationMenuNames(){return this.uniqueNavigationNames}getUniqueAssetNames(){return this.uniqueAssetNames}getCollectionDetails(e){return this.collections.has(e)?this.collections.get(e):null}getFormBlueprintFields(e){if(this.forms.has(e)){let i=this.forms.get(e);return typeof i=="undefined"||i===null?[]:i}return[]}getRouteNames(){return this.routeNames}getTranslationKeys(){return this.translationKeys}getTemplateNames(){let e=[];return this.views.forEach(i=>{let r=Dt(i.relativeDisplayName,"/",".");e.includes(r)==!1&&e.push(r)}),e}getViews(){return this.views}findView(e){if(e.trim()=="")return null;let i=pR(e);for(let r=0;r<this.views.length;r++)if(this.views[r].path==i)return this.views[r];return null}findRelativeView(e){e=Dt(e,"\\.","/");for(let i=0;i<this.views.length;i++)if(this.views[i].relativeDisplayName==e)return this.views[i];return null}findPartial(e){e=Dt(e,"\\.","/");for(let i=0;i<this.views.length;i++)if(this.views[i].isPartial&&this.views[i].relativeDisplayName==e)return this.views[i];return null}};function kV(t,e){for(let i=0;i<e.allFields.length;i++)if(e.allFields[i].handle==t)return e.allFields[i];return null}function MV(t,e){let i=[];return e.allFields.forEach(r=>{try{let n=r.handle;t!=null&&(n=t+n),i.push({...r,handle:n,isLinked:!0,linkedFrom:e.handle+"."+r.handle})}catch{}}),i}function h(t,e,i){if(typeof t[e]!="undefined")try{return t[e]}catch{}return i}var uA=class{constructor(){this.fieldSets=new Map}setFieldSets(e){this.fieldSets=e}_parseArrayFieldType(e){let i=h(e.field,"mode","dynamic"),r=h(e.field,"keys",null),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation","");return{mode:i,keys:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,internalIcon:"array"}}_parseAssetContainerFieldType(e){let i=h(e.field,"max_items",null),r=h(e.field,"mode","default"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation","");return{maxItems:i,mode:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,internalIcon:"asset_container"}}_parseAssetFolderFieldType(e){let i=h(e.field,"max_items",null),r=h(e.field,"mode","default"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation","");return{maxItems:i,mode:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,internalIcon:"asset_folder"}}_parseAssetsFieldType(e){let i=h(e.field,"mode","list"),r=h(e.field,"container","assets"),n=h(e.field,"folder",null),s=h(e.field,"restrict",null),a=h(e.field,"allow_uploads",!0),o=h(e.field,"show_filename",!0),l=h(e.field,"max_files",null),u=[],c=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(u=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(c=this.parseFields(e.field));let f=h(e.field,"required",!1),d=h(e.field,"type","text"),p=h(e.field,"unless",[]),m=h(e.field,"validate",[]),_=h(e.field,"display",""),P=h(e.field,"__documentation","");return{mode:i,container:r,folder:n,restrict:s,allowUploads:a,showFilename:o,maxFiles:l,required:f,type:d,validate:m,unless:p,display:_,handle:"temp_handle",sets:u,fields:c,isLinked:!1,linkedFrom:"",developerDocumentation:P,internalIcon:"assets"}}_parseBardFieldType(e){let i=h(e.field,"collapse",null),r=h(e.field,"always_show_set_button",null),n=h(e.field,"previews",!0),s=h(e.field,"buttons",["h2","h3","bold","italic","unorderedlist","orderedlist","removeformat","quote","anchor","image","table"]),a=h(e.field,"container",null),o=h(e.field,"save_html",null),l=h(e.field,"toolbar_mode","fixed"),u=h(e.field,"link_noopener",null),c=h(e.field,"link_noreferrer",null),f=h(e.field,"target_blank",null),d=h(e.field,"link_collections",null),p=h(e.field,"reading_time",null),m=h(e.field,"fullscreen",!0),_=h(e.field,"allow_source",!0),P=h(e.field,"enable_input_rules",!0),g=h(e.field,"enable_paste_rules",!0),T=h(e.field,"antlers",null),y=h(e.field,"remove_empty_nodes","false"),A=[],N=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(A=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(N=this.parseFields(e.field));let U=h(e.field,"required",!1),V=h(e.field,"type","text"),w=h(e.field,"unless",[]),$=h(e.field,"validate",[]),le=h(e.field,"display",""),j=h(e.field,"__documentation","");return{collapse:i,alwaysShowSetButton:r,previews:n,buttons:s,container:a,saveHtml:o,toolbarMode:l,linkNoopener:u,linkNoreferrer:c,targetBlank:f,linkCollections:d,readingTime:p,fullscreen:m,allowSource:_,enableInputRules:P,enablePasteRules:g,antlers:T,removeEmptyNodes:y,required:U,type:V,validate:$,unless:w,display:le,handle:"temp_handle",sets:A,fields:N,isLinked:!1,linkedFrom:"",developerDocumentation:j,internalIcon:"bard"}}_parseReplicatorFieldType(e){let i=h(e.field,"collapse",null),r=h(e.field,"previews",!0),n=h(e.field,"max_sets",null),s=[],a=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(s=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(a=this.parseFields(e.field));let o=h(e.field,"required",!1),l=h(e.field,"type","text"),u=h(e.field,"unless",[]),c=h(e.field,"validate",[]),f=h(e.field,"display",""),d=h(e.field,"__documentation","");return{collapse:i,previews:r,maxSets:n,required:o,type:l,validate:c,unless:u,display:f,handle:"temp_handle",sets:s,fields:a,isLinked:!1,linkedFrom:"",developerDocumentation:d,internalIcon:"replicator"}}_parseBardButtonsSettingFieldType(e){let i=[],r=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(i=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(r=this.parseFields(e.field));let n=h(e.field,"required",!1),s=h(e.field,"type","text"),a=h(e.field,"unless",[]),o=h(e.field,"validate",[]),l=h(e.field,"display",""),u=h(e.field,"__documentation","");return{required:n,type:s,validate:o,unless:a,display:l,handle:"temp_handle",sets:i,fields:r,isLinked:!1,linkedFrom:"",developerDocumentation:u,internalIcon:"bard_buttons_setting"}}_parseButtonGroupFieldType(e){let i=h(e.field,"options",null),r=h(e.field,"default",null),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation","");return{options:i,default:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,internalIcon:"button_group"}}_parseCheckboxesFieldType(e){let i=h(e.field,"inline",null),r=h(e.field,"options",null),n=h(e.field,"default",null),s=[],a=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(s=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(a=this.parseFields(e.field));let o=h(e.field,"required",!1),l=h(e.field,"type","text"),u=h(e.field,"unless",[]),c=h(e.field,"validate",[]),f=h(e.field,"display",""),d=h(e.field,"__documentation","");return{inline:i,options:r,default:n,required:o,type:l,validate:c,unless:u,display:f,handle:"temp_handle",sets:s,fields:a,isLinked:!1,linkedFrom:"",developerDocumentation:d,internalIcon:"checkboxes"}}_parseCodeFieldType(e){let i=h(e.field,"theme","material"),r=h(e.field,"mode","htmlmixed"),n=h(e.field,"mode_selectable",null),s=h(e.field,"indent_type","tabs"),a=h(e.field,"indent_size",4),o=h(e.field,"key_map","default"),l=h(e.field,"line_numbers",!0),u=h(e.field,"line_wrapping",!0),c=[],f=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(c=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(f=this.parseFields(e.field));let d=h(e.field,"required",!1),p=h(e.field,"type","text"),m=h(e.field,"unless",[]),_=h(e.field,"validate",[]),P=h(e.field,"display",""),g=h(e.field,"__documentation","");return{theme:i,mode:r,modeSelectable:n,indentType:s,indentSize:a,keyMap:o,lineNumbers:l,lineWrapping:u,required:d,type:p,validate:_,unless:m,display:P,handle:"temp_handle",sets:c,fields:f,isLinked:!1,linkedFrom:"",developerDocumentation:g,internalIcon:"code"}}_parseCollectionRoutesFieldType(e){let i=[],r=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(i=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(r=this.parseFields(e.field));let n=h(e.field,"required",!1),s=h(e.field,"type","text"),a=h(e.field,"unless",[]),o=h(e.field,"validate",[]),l=h(e.field,"display",""),u=h(e.field,"__documentation","");return{required:n,type:s,validate:o,unless:a,display:l,handle:"temp_handle",sets:i,fields:r,isLinked:!1,linkedFrom:"",developerDocumentation:u,internalIcon:"collection_routes"}}_parseCollectionTitleFormatsFieldType(e){let i=[],r=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(i=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(r=this.parseFields(e.field));let n=h(e.field,"required",!1),s=h(e.field,"type","text"),a=h(e.field,"unless",[]),o=h(e.field,"validate",[]),l=h(e.field,"display",""),u=h(e.field,"__documentation","");return{required:n,type:s,validate:o,unless:a,display:l,handle:"temp_handle",sets:i,fields:r,isLinked:!1,linkedFrom:"",developerDocumentation:u,internalIcon:"collection_title_formats"}}_parseCollectionsFieldType(e){let i=h(e.field,"max_items",null),r=h(e.field,"mode","default"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation","");return{maxItems:i,mode:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,internalIcon:"collections"}}_parseColorFieldType(e){let i=h(e.field,"swatches",null),r=h(e.field,"theme","classic"),n=h(e.field,"lock_opacity",null),s=h(e.field,"default_color_mode","HEXA"),a=h(e.field,"color_modes",["HEXA","RGBA","HSLA","HSVA","CMYK"]),o=[],l=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(o=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(l=this.parseFields(e.field));let u=h(e.field,"required",!1),c=h(e.field,"type","text"),f=h(e.field,"unless",[]),d=h(e.field,"validate",[]),p=h(e.field,"display",""),m=h(e.field,"__documentation","");return{swatches:i,theme:r,lockOpacity:n,defaultColorMode:s,colorModes:a,required:u,type:c,validate:d,unless:f,display:p,handle:"temp_handle",sets:o,fields:l,isLinked:!1,linkedFrom:"",developerDocumentation:m,internalIcon:"color"}}_parseDateFieldType(e){let i=h(e.field,"mode","single"),r=h(e.field,"format",null),n=h(e.field,"earliest_date",null),s=h(e.field,"latest_date",null),a=h(e.field,"time_enabled",null),o=h(e.field,"time_seconds_enabled",null),l=h(e.field,"full_width",null),u=h(e.field,"inline",null),c=h(e.field,"columns",1),f=h(e.field,"rows",1),d=[],p=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(d=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(p=this.parseFields(e.field));let m=h(e.field,"required",!1),_=h(e.field,"type","text"),P=h(e.field,"unless",[]),g=h(e.field,"validate",[]),T=h(e.field,"display",""),y=h(e.field,"__documentation","");return{mode:i,format:r,earliestDate:n,latestDate:s,timeEnabled:a,timeSecondsEnabled:o,fullWidth:l,inline:u,columns:c,rows:f,required:m,type:_,validate:g,unless:P,display:T,handle:"temp_handle",sets:d,fields:p,isLinked:!1,linkedFrom:"",developerDocumentation:y,internalIcon:"date"}}_parseEntriesFieldType(e){let i=h(e.field,"max_items",null),r=h(e.field,"mode","default"),n=h(e.field,"create",!0),s=h(e.field,"collections",null),a=[],o=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(a=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(o=this.parseFields(e.field));let l=h(e.field,"required",!1),u=h(e.field,"type","text"),c=h(e.field,"unless",[]),f=h(e.field,"validate",[]),d=h(e.field,"display",""),p=h(e.field,"__documentation","");return{maxItems:i,mode:r,create:n,collections:s,required:l,type:u,validate:f,unless:c,display:d,handle:"temp_handle",sets:a,fields:o,isLinked:!1,linkedFrom:"",developerDocumentation:p,internalIcon:"entries"}}_parseFilesFieldType(e){let i=h(e.field,"max_files",null),r=[],n=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(r=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(n=this.parseFields(e.field));let s=h(e.field,"required",!1),a=h(e.field,"type","text"),o=h(e.field,"unless",[]),l=h(e.field,"validate",[]),u=h(e.field,"display",""),c=h(e.field,"__documentation","");return{maxFiles:i,required:s,type:a,validate:l,unless:o,display:u,handle:"temp_handle",sets:r,fields:n,isLinked:!1,linkedFrom:"",developerDocumentation:c,internalIcon:"files"}}_parseFloatFieldType(e){let i=h(e.field,"default",null),r=[],n=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(r=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(n=this.parseFields(e.field));let s=h(e.field,"required",!1),a=h(e.field,"type","text"),o=h(e.field,"unless",[]),l=h(e.field,"validate",[]),u=h(e.field,"display",""),c=h(e.field,"__documentation","");return{default:i,required:s,type:a,validate:l,unless:o,display:u,handle:"temp_handle",sets:r,fields:n,isLinked:!1,linkedFrom:"",developerDocumentation:c,internalIcon:"float"}}_parseGlobalSetSitesFieldType(e){let i=[],r=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(i=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(r=this.parseFields(e.field));let n=h(e.field,"required",!1),s=h(e.field,"type","text"),a=h(e.field,"unless",[]),o=h(e.field,"validate",[]),l=h(e.field,"display",""),u=h(e.field,"__documentation","");return{required:n,type:s,validate:o,unless:a,display:l,handle:"temp_handle",sets:i,fields:r,isLinked:!1,linkedFrom:"",developerDocumentation:u,internalIcon:"global_set_sites"}}_parseGridFieldType(e){let i=h(e.field,"mode","table"),r=h(e.field,"max_rows",null),n=h(e.field,"min_rows",null),s=h(e.field,"add_row",null),a=h(e.field,"reorderable",!0),o=[],l=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(o=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(l=this.parseFields(e.field));let u=h(e.field,"required",!1),c=h(e.field,"type","text"),f=h(e.field,"unless",[]),d=h(e.field,"validate",[]),p=h(e.field,"display",""),m=h(e.field,"__documentation","");return{mode:i,maxRows:r,minRows:n,addRow:s,reorderable:a,required:u,type:c,validate:d,unless:f,display:p,handle:"temp_handle",sets:o,fields:l,isLinked:!1,linkedFrom:"",developerDocumentation:m,internalIcon:"grid"}}_parseHiddenFieldType(e){let i=h(e.field,"default",null),r=[],n=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(r=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(n=this.parseFields(e.field));let s=h(e.field,"required",!1),a=h(e.field,"type","text"),o=h(e.field,"unless",[]),l=h(e.field,"validate",[]),u=h(e.field,"display",""),c=h(e.field,"__documentation","");return{default:i,required:s,type:a,validate:l,unless:o,display:u,handle:"temp_handle",sets:r,fields:n,isLinked:!1,linkedFrom:"",developerDocumentation:c,internalIcon:"hidden"}}_parseHtmlFieldType(e){let i=h(e.field,"html",null),r=[],n=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(r=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(n=this.parseFields(e.field));let s=h(e.field,"required",!1),a=h(e.field,"type","text"),o=h(e.field,"unless",[]),l=h(e.field,"validate",[]),u=h(e.field,"display",""),c=h(e.field,"__documentation","");return{html:i,required:s,type:a,validate:l,unless:o,display:u,handle:"temp_handle",sets:r,fields:n,isLinked:!1,linkedFrom:"",developerDocumentation:c,internalIcon:"html"}}_parseIntegerFieldType(e){let i=h(e.field,"default",null),r=[],n=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(r=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(n=this.parseFields(e.field));let s=h(e.field,"required",!1),a=h(e.field,"type","text"),o=h(e.field,"unless",[]),l=h(e.field,"validate",[]),u=h(e.field,"display",""),c=h(e.field,"__documentation","");return{default:i,required:s,type:a,validate:l,unless:o,display:u,handle:"temp_handle",sets:r,fields:n,isLinked:!1,linkedFrom:"",developerDocumentation:c,internalIcon:"integer"}}_parseLinkFieldType(e){let i=h(e.field,"collections",null),r=h(e.field,"container",null),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation","");return{collections:i,container:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,internalIcon:"link"}}_parseListFieldType(e){let i=h(e.field,"default",null),r=[],n=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(r=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(n=this.parseFields(e.field));let s=h(e.field,"required",!1),a=h(e.field,"type","text"),o=h(e.field,"unless",[]),l=h(e.field,"validate",[]),u=h(e.field,"display",""),c=h(e.field,"__documentation","");return{default:i,required:s,type:a,validate:l,unless:o,display:u,handle:"temp_handle",sets:r,fields:n,isLinked:!1,linkedFrom:"",developerDocumentation:c,internalIcon:"list"}}_parseMarkdownFieldType(e){let i=h(e.field,"container",null),r=h(e.field,"folder",null),n=h(e.field,"restrict",null),s=h(e.field,"automatic_line_breaks",!0),a=h(e.field,"automatic_links",null),o=h(e.field,"escape_markup",null),l=h(e.field,"smartypants",null),u=h(e.field,"parser",null),c=h(e.field,"antlers",null),f=h(e.field,"default",null),d=[],p=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(d=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(p=this.parseFields(e.field));let m=h(e.field,"required",!1),_=h(e.field,"type","text"),P=h(e.field,"unless",[]),g=h(e.field,"validate",[]),T=h(e.field,"display",""),y=h(e.field,"__documentation","");return{container:i,folder:r,restrict:n,automaticLineBreaks:s,automaticLinks:a,escapeMarkup:o,smartypants:l,parser:u,antlers:c,default:f,required:m,type:_,validate:g,unless:P,display:T,handle:"temp_handle",sets:d,fields:p,isLinked:!1,linkedFrom:"",developerDocumentation:y,internalIcon:"markdown"}}_parseFieldsFieldType(e){let i=[],r=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(i=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(r=this.parseFields(e.field));let n=h(e.field,"required",!1),s=h(e.field,"type","text"),a=h(e.field,"unless",[]),o=h(e.field,"validate",[]),l=h(e.field,"display",""),u=h(e.field,"__documentation","");return{required:n,type:s,validate:o,unless:a,display:l,handle:"temp_handle",sets:i,fields:r,isLinked:!1,linkedFrom:"",developerDocumentation:u,internalIcon:"fields"}}_parseRadioFieldType(e){let i=h(e.field,"options",null),r=h(e.field,"inline",null),n=h(e.field,"cast_booleans",null),s=h(e.field,"default",null),a=[],o=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(a=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(o=this.parseFields(e.field));let l=h(e.field,"required",!1),u=h(e.field,"type","text"),c=h(e.field,"unless",[]),f=h(e.field,"validate",[]),d=h(e.field,"display",""),p=h(e.field,"__documentation","");return{options:i,inline:r,castBooleans:n,default:s,required:l,type:u,validate:f,unless:c,display:d,handle:"temp_handle",sets:a,fields:o,isLinked:!1,linkedFrom:"",developerDocumentation:p,internalIcon:"radio"}}_parseRangeFieldType(e){let i=h(e.field,"hidden",null),r=h(e.field,"min",null),n=h(e.field,"max",100),s=h(e.field,"step",1),a=h(e.field,"default",null),o=h(e.field,"prepend",null),l=h(e.field,"append",null),u=[],c=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(u=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(c=this.parseFields(e.field));let f=h(e.field,"required",!1),d=h(e.field,"type","text"),p=h(e.field,"unless",[]),m=h(e.field,"validate",[]),_=h(e.field,"display",""),P=h(e.field,"__documentation","");return{hidden:i,min:r,max:n,step:s,default:a,prepend:o,append:l,required:f,type:d,validate:m,unless:p,display:_,handle:"temp_handle",sets:u,fields:c,isLinked:!1,linkedFrom:"",developerDocumentation:P,internalIcon:"range"}}_parseRevealerFieldType(e){let i=h(e.field,"mode","button"),r=h(e.field,"input_label",""),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation","");return{mode:i,inputLabel:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,internalIcon:"revealer"}}_parseSectionFieldType(e){let i=[],r=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(i=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(r=this.parseFields(e.field));let n=h(e.field,"required",!1),s=h(e.field,"type","text"),a=h(e.field,"unless",[]),o=h(e.field,"validate",[]),l=h(e.field,"display",""),u=h(e.field,"__documentation","");return{required:n,type:s,validate:o,unless:a,display:l,handle:"temp_handle",sets:i,fields:r,isLinked:!1,linkedFrom:"",developerDocumentation:u,internalIcon:"section"}}_parseSelectFieldType(e){let i=h(e.field,"placeholder",""),r=h(e.field,"options",null),n=h(e.field,"multiple",null),s=h(e.field,"max_items",null),a=h(e.field,"clearable",null),o=h(e.field,"searchable",!0),l=h(e.field,"taggable",null),u=h(e.field,"push_tags",null),c=h(e.field,"cast_booleans",null),f=h(e.field,"default",null),d=[],p=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(d=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(p=this.parseFields(e.field));let m=h(e.field,"required",!1),_=h(e.field,"type","text"),P=h(e.field,"unless",[]),g=h(e.field,"validate",[]),T=h(e.field,"display",""),y=h(e.field,"__documentation","");return{placeholder:i,options:r,multiple:n,maxItems:s,clearable:a,searchable:o,taggable:l,pushTags:u,castBooleans:c,default:f,required:m,type:_,validate:g,unless:P,display:T,handle:"temp_handle",sets:d,fields:p,isLinked:!1,linkedFrom:"",developerDocumentation:y,internalIcon:"select"}}_parseSetsFieldType(e){let i=[],r=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(i=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(r=this.parseFields(e.field));let n=h(e.field,"required",!1),s=h(e.field,"type","text"),a=h(e.field,"unless",[]),o=h(e.field,"validate",[]),l=h(e.field,"display",""),u=h(e.field,"__documentation","");return{required:n,type:s,validate:o,unless:a,display:l,handle:"temp_handle",sets:i,fields:r,isLinked:!1,linkedFrom:"",developerDocumentation:u,internalIcon:"sets"}}_parseSitesFieldType(e){let i=h(e.field,"max_items",null),r=h(e.field,"mode","default"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation","");return{maxItems:i,mode:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,internalIcon:"sites"}}_parseStructuresFieldType(e){let i=h(e.field,"max_items",null),r=h(e.field,"mode","default"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation","");return{maxItems:i,mode:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,internalIcon:"structures"}}_parseSlugFieldType(e){let i=h(e.field,"from","title"),r=h(e.field,"generate",!0),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation","");return{from:i,generate:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,internalIcon:"slug"}}_parseTextFieldType(e){let i=h(e.field,"placeholder",null),r=h(e.field,"input_type","text"),n=h(e.field,"character_limit",null),s=h(e.field,"prepend",null),a=h(e.field,"append",null),o=h(e.field,"antlers",null),l=h(e.field,"default",null),u=[],c=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(u=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(c=this.parseFields(e.field));let f=h(e.field,"required",!1),d=h(e.field,"type","text"),p=h(e.field,"unless",[]),m=h(e.field,"validate",[]),_=h(e.field,"display",""),P=h(e.field,"__documentation","");return{placeholder:i,inputType:r,characterLimit:n,prepend:s,append:a,antlers:o,default:l,required:f,type:d,validate:m,unless:p,display:_,handle:"temp_handle",sets:u,fields:c,isLinked:!1,linkedFrom:"",developerDocumentation:P,internalIcon:"text"}}_parseTableFieldType(e){let i=[],r=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(i=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(r=this.parseFields(e.field));let n=h(e.field,"required",!1),s=h(e.field,"type","text"),a=h(e.field,"unless",[]),o=h(e.field,"validate",[]),l=h(e.field,"display",""),u=h(e.field,"__documentation","");return{required:n,type:s,validate:o,unless:a,display:l,handle:"temp_handle",sets:i,fields:r,isLinked:!1,linkedFrom:"",developerDocumentation:u,internalIcon:"table"}}_parseTaggableFieldType(e){let i=h(e.field,"placeholder",""),r=[],n=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(r=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(n=this.parseFields(e.field));let s=h(e.field,"required",!1),a=h(e.field,"type","text"),o=h(e.field,"unless",[]),l=h(e.field,"validate",[]),u=h(e.field,"display",""),c=h(e.field,"__documentation","");return{placeholder:i,required:s,type:a,validate:l,unless:o,display:u,handle:"temp_handle",sets:r,fields:n,isLinked:!1,linkedFrom:"",developerDocumentation:c,internalIcon:"tags"}}_parseTermsFieldType(e){let i=h(e.field,"max_items",null),r=h(e.field,"mode","default"),n=h(e.field,"create",!0),s=h(e.field,"taxonomies",null),a=[],o=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(a=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(o=this.parseFields(e.field));let l=h(e.field,"required",!1),u=h(e.field,"type","text"),c=h(e.field,"unless",[]),f=h(e.field,"validate",[]),d=h(e.field,"display",""),p=h(e.field,"__documentation","");return{maxItems:i,mode:r,create:n,taxonomies:s,required:l,type:u,validate:f,unless:c,display:d,handle:"temp_handle",sets:a,fields:o,isLinked:!1,linkedFrom:"",developerDocumentation:p,internalIcon:"taxonomy"}}_parseTaxonomiesFieldType(e){let i=h(e.field,"max_items",null),r=h(e.field,"mode","default"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation","");return{maxItems:i,mode:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,internalIcon:"taxonomy"}}_parseTemplateFieldType(e){let i=h(e.field,"hide_partials",!0),r=h(e.field,"blueprint",null),n=h(e.field,"folder",null),s=[],a=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(s=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(a=this.parseFields(e.field));let o=h(e.field,"required",!1),l=h(e.field,"type","text"),u=h(e.field,"unless",[]),c=h(e.field,"validate",[]),f=h(e.field,"display",""),d=h(e.field,"__documentation","");return{hidePartials:i,blueprint:r,folder:n,required:o,type:l,validate:c,unless:u,display:f,handle:"temp_handle",sets:s,fields:a,isLinked:!1,linkedFrom:"",developerDocumentation:d,internalIcon:"template"}}_parseTemplateFolderFieldType(e){let i=h(e.field,"max_items",null),r=h(e.field,"mode","default"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation","");return{maxItems:i,mode:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,internalIcon:"template_folder"}}_parseTextareaFieldType(e){let i=h(e.field,"placeholder",null),r=h(e.field,"character_limit",null),n=h(e.field,"antlers",null),s=h(e.field,"default",null),a=[],o=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(a=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(o=this.parseFields(e.field));let l=h(e.field,"required",!1),u=h(e.field,"type","text"),c=h(e.field,"unless",[]),f=h(e.field,"validate",[]),d=h(e.field,"display",""),p=h(e.field,"__documentation","");return{placeholder:i,characterLimit:r,antlers:n,default:s,required:l,type:u,validate:f,unless:c,display:d,handle:"temp_handle",sets:a,fields:o,isLinked:!1,linkedFrom:"",developerDocumentation:p,internalIcon:"textarea"}}_parseTimeFieldType(e){let i=h(e.field,"seconds_enabled",null),r=h(e.field,"default",null),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation","");return{secondsEnabled:i,default:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,internalIcon:"time"}}_parseToggleFieldType(e){let i=h(e.field,"inline_label",""),r=h(e.field,"default",null),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation","");return{inlineLabel:i,default:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,internalIcon:"toggle"}}_parseUserGroupsFieldType(e){let i=h(e.field,"max_items",null),r=h(e.field,"mode","default"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation","");return{maxItems:i,mode:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,internalIcon:"user_groups"}}_parseUserRolesFieldType(e){let i=h(e.field,"max_items",null),r=h(e.field,"mode","default"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation","");return{maxItems:i,mode:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,internalIcon:"user_roles"}}_parseUsersFieldType(e){let i=h(e.field,"max_items",null),r=h(e.field,"mode","select"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation","");return{maxItems:i,mode:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,internalIcon:"users"}}_parseVideoFieldType(e){let i=h(e.field,"default",null),r=h(e.field,"placeholder",null),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation","");return{default:i,placeholder:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,internalIcon:"video"}}_parseYamlFieldType(e){let i=h(e.field,"default",null),r=[],n=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(r=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(n=this.parseFields(e.field));let s=h(e.field,"required",!1),a=h(e.field,"type","text"),o=h(e.field,"unless",[]),l=h(e.field,"validate",[]),u=h(e.field,"display",""),c=h(e.field,"__documentation","");return{default:i,required:s,type:a,validate:l,unless:o,display:u,handle:"temp_handle",sets:r,fields:n,isLinked:!1,linkedFrom:"",developerDocumentation:c,internalIcon:"yaml"}}_parseFormFieldType(e){let i=h(e.field,"placeholder",null),r=h(e.field,"max_items",1),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let a=h(e.field,"required",!1),o=h(e.field,"type","text"),l=h(e.field,"unless",[]),u=h(e.field,"validate",[]),c=h(e.field,"display",""),f=h(e.field,"__documentation","");return{placeholder:i,maxItems:r,required:a,type:o,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,internalIcon:"form"}}parse(e){let i=[];if(typeof e.field!="undefined"&&typeof e.field.type!="undefined"){let r=e.field.type;r=="array"&&i.push(this._parseArrayFieldType(e)),r=="asset_container"&&i.push(this._parseAssetContainerFieldType(e)),r=="asset_folder"&&i.push(this._parseAssetFolderFieldType(e)),r=="assets"&&i.push(this._parseAssetsFieldType(e)),r=="bard"&&i.push(this._parseBardFieldType(e)),r=="replicator"&&i.push(this._parseReplicatorFieldType(e)),r=="bard_buttons_setting"&&i.push(this._parseBardButtonsSettingFieldType(e)),r=="button_group"&&i.push(this._parseButtonGroupFieldType(e)),r=="checkboxes"&&i.push(this._parseCheckboxesFieldType(e)),r=="code"&&i.push(this._parseCodeFieldType(e)),r=="collection_routes"&&i.push(this._parseCollectionRoutesFieldType(e)),r=="collection_title_formats"&&i.push(this._parseCollectionTitleFormatsFieldType(e)),r=="collections"&&i.push(this._parseCollectionsFieldType(e)),r=="color"&&i.push(this._parseColorFieldType(e)),r=="date"&&i.push(this._parseDateFieldType(e)),r=="entries"&&i.push(this._parseEntriesFieldType(e)),r=="files"&&i.push(this._parseFilesFieldType(e)),r=="float"&&i.push(this._parseFloatFieldType(e)),r=="global_set_sites"&&i.push(this._parseGlobalSetSitesFieldType(e)),r=="grid"&&i.push(this._parseGridFieldType(e)),r=="hidden"&&i.push(this._parseHiddenFieldType(e)),r=="html"&&i.push(this._parseHtmlFieldType(e)),r=="integer"&&i.push(this._parseIntegerFieldType(e)),r=="link"&&i.push(this._parseLinkFieldType(e)),r=="list"&&i.push(this._parseListFieldType(e)),r=="markdown"&&i.push(this._parseMarkdownFieldType(e)),r=="fields"&&i.push(this._parseFieldsFieldType(e)),r=="radio"&&i.push(this._parseRadioFieldType(e)),r=="range"&&i.push(this._parseRangeFieldType(e)),r=="revealer"&&i.push(this._parseRevealerFieldType(e)),r=="section"&&i.push(this._parseSectionFieldType(e)),r=="select"&&i.push(this._parseSelectFieldType(e)),r=="sets"&&i.push(this._parseSetsFieldType(e)),r=="sites"&&i.push(this._parseSitesFieldType(e)),r=="structures"&&i.push(this._parseStructuresFieldType(e)),r=="slug"&&i.push(this._parseSlugFieldType(e)),r=="text"&&i.push(this._parseTextFieldType(e)),r=="table"&&i.push(this._parseTableFieldType(e)),r=="taggable"&&i.push(this._parseTaggableFieldType(e)),r=="terms"&&i.push(this._parseTermsFieldType(e)),r=="taxonomies"&&i.push(this._parseTaxonomiesFieldType(e)),r=="template"&&i.push(this._parseTemplateFieldType(e)),r=="template_folder"&&i.push(this._parseTemplateFolderFieldType(e)),r=="textarea"&&i.push(this._parseTextareaFieldType(e)),r=="time"&&i.push(this._parseTimeFieldType(e)),r=="toggle"&&i.push(this._parseToggleFieldType(e)),r=="user_groups"&&i.push(this._parseUserGroupsFieldType(e)),r=="user_roles"&&i.push(this._parseUserRolesFieldType(e)),r=="users"&&i.push(this._parseUsersFieldType(e)),r=="video"&&i.push(this._parseVideoFieldType(e)),r=="yaml"&&i.push(this._parseYamlFieldType(e)),r=="form"&&i.push(this._parseFormFieldType(e))}return i.length==1?i[0]:null}parseFields(e){let i=[];return typeof e.fields=="undefined"||e.fields==null||typeof e.fields=="object"&&!Array.isArray(e.fields)||e.fields.forEach(n=>{try{if(typeof n.field=="string"){let a=this.getFieldsetName(n.field);if(a==null||!this.fieldSets.has(a))return;let o=this.fieldSets.get(a),l=kV(this.getFieldName(n.field),o);if(l==null)return;let u=n.handle,c={...l,handle:u,isLinked:!0,linkedFrom:n.field};i.push(c);return}if(typeof n.import=="string"){if(this.fieldSets.has(n.import)==!1)return;let a=this.fieldSets.get(n.import),o=null;if(typeof n.prefix=="string"){let u=n.prefix;u.trim().length>0&&(o=u.trim())}let l=MV(o,a);if(l.length>0)try{l.forEach(u=>{i.push(u)})}catch{}return}let s=this.parse(n);s!=null&&(s.handle=n.handle,i.push(s))}catch{}}),i}getFieldsetName(e){return e.includes(".")==!1?null:e.split(".")[0]}getFieldName(e){return e.includes(".")==!1?e:e.split(".")[1]}parseSets(e){let i=[];return Object.keys(e).forEach(n=>{var s;try{let a=e[n],o=this.parseFields(a);i.push({display:(s=a.display)!=null?s:"",handle:n,fields:o})}catch{}}),i}},_d=class{constructor(){this.fieldParser=new uA;this.parsedBlueprints=[]}setParsedFieldSet(e){this.fieldParser.setFieldSets(e)}parseSections(e){let i=[];return Object.keys(e).forEach(n=>{var s;try{let a=e[n],o=(s=a.display)!=null?s:"",l=this.fieldParser.parseFields(a);i.push({display:o,handle:n,fields:l})}catch{}}),i}parseBlueprint(e,i,r,n,s,a){var d;let o=(d=e.title)!=null?d:"",l=[],u=[],c=[];typeof e.sections!="undefined"&&(l=this.parseSections(e.sections)),typeof e.fields!="undefined"&&(u=this.fieldParser.parseFields(e)),c=u.concat([]),l.forEach(p=>{try{c=c.concat(p.fields)}catch{}});let f={allFields:c,fields:u,handle:i,collection:n,sections:l,title:o,type:r,fileName:s,contents:a};return this.parsedBlueprints.push(f),f}getBlueprints(){return this.parsedBlueprints}},f_=class{constructor(){this.blueprintParser=new _d;this.parsedFieldsets=new Map;this.fieldsetArray=[]}parseFieldset(e,i){let r=this.blueprintParser.parseBlueprint(e,i,"","");if(r==null)return null;let n=[];r.allFields.forEach(a=>{try{n.push({field:a,prefixedHandle:i+"."+a.handle})}catch{}});let s={...r,prefixedFields:n};return this.parsedFieldsets.has(i)==!1&&(this.parsedFieldsets.set(i,s),this.fieldsetArray.push(s)),s}getFieldsets(){return this.parsedFieldsets}getParsedFieldsets(){return this.fieldsetArray}};function qV(t){let e=Zn(t).split("/"),i=[],r=null;for(let n=0;n<e.length;n++){if(n==0){r=e[n],i.push(e[n]);continue}if(e[n]=="views"&&r=="resources")break;i.push(e[n]),r=e[n]}return i.join("/")}function VV(t){return t.endsWith("/")==!1&&(t=t+"/"),t+"../"}function BV(t){return t+"composer.lock"}function jV(t){return t+"vendor/"}function UV(t){return t+"/blueprints/collections/"}function GV(t){return t+"/blueprints/taxonomies/"}function WV(t){return t+"/blueprints/assets/"}function HV(t){return t+"/blueprints/globals/"}function YV(t){return t+"/blueprints/forms/"}function KV(t){return t+"/blueprints/"}function $V(t){return t+"/macros.yaml"}function zV(t){return t+"/views/"}function XV(t){return t+"/users/"}function QV(t){return t+"/forms/"}function JV(t){return t+"/fieldsets"}function xu(t){return t+"/../content/"}function ZV(t){return xu(t)+"assets/"}function eB(t){return xu(t)+"collections/"}function tB(t){return xu(t)+"taxonomies/"}function iB(t){return xu(t)+"navigation/"}function Du(t,e,i){if(!Ot.existsSync(t))return[];let r=i||[],n=Ot.readdirSync(t);for(let s=0;s<n.length;s++){let a=ei.join(t,n[s]);Ot.lstatSync(a).isDirectory()?r=r.concat(Du(a,e,i)):a.indexOf(e)>=0&&r.push(a)}return[...new Set(r)]}function is(t,e){if(!Ot.existsSync(t))return[];let i=[],r=Ot.readdirSync(t);for(let n=0;n<r.length;n++){let s=ei.join(t,r[n]);Ot.lstatSync(s).isDirectory()==!1&&i.push(s)}return[...new Set(i)]}function rB(t){let e=Du(t,".html",[]),i=t.length,r=[];for(let n=0;n<e.length;n++){let s=e[n],a=s.substr(i),o=Zn(ei.dirname(a)),l=ei.basename(a),u=l,c=!1,f=!1,d=!1,p="";l.startsWith("_")&&(c=!0,u=u.substr(1)),l.endsWith(".antlers.html")?(f=!0,u=u.substr(0,u.length-13)):l.endsWith(".blade.php")?(f=!1,d=!0):(f=!1,d=!1),o!="."?p=o+"/"+u:p=u,r.push({displayName:u,fileName:l,documentUri:a_(s),originalDocumentUri:a_(s),isAntlers:f,isBlade:d,isPartial:c,path:Zn(s),relativeDisplayName:p,relativeFileName:l,relativePath:a,injectsCollections:[],injectsParameters:[],templateName:Dt(p,"/","."),varReferenceNames:new Map,document:null})}return r}function d_(t){let e=qV(t),i=UV(e),r=zV(e),n=QV(e),s=YV(e),a=JV(e),o=GV(e),l=HV(e),u=KV(e),c=xu(e),f=iB(e),d=tB(e),p=XV(e),m=eB(e),_=ZV(e),P=WV(e),g=Du(i,".yaml",[]),T=rB(r),y=$V(e),A=VV(e),N=BV(A),U=jV(A),V=!1,w=null,$=s_.getInstalledPackages(N,A,U);for(let O=0;O<$.length;O++)if($[O].name=="statamic/cms"){w=$[O];break}let le=[],j=new Map,Z=new Map,ce=new Map,se=new Map,X=new Map,Ue=new Map,dt=[],ii=new Map,ot=[],Xe=[],Dn=[],Fn=[],he=[],pe=new Map,be=new Map,fe=new Map,De=[],xt=new Map,pn=[],qa=new Map,Vs=new Map,On=new Map,Va=new Map;y.trim().length>0&&(V=Ot.existsSync(y));for(let O=0;O<T.length;O++)T[O].isPartial&&(Dn.push(T[O]),Fn.push(T[O].relativeDisplayName));let Bs=is(_,".yaml");for(let O=0;O<Bs.length;O++)if(pr(Bs[O])){let ee=ZC(Bs[O]);On.set(ee.handle,ee)}let js=is(m,".yaml");for(let O=0;O<js.length;O++)if(pr(js[O])){let ee=rA(js[O]);Vs.set(ee.handle,ee)}let Lr=p+"roles.yaml",mn=p+"groups.yaml";if(Ot.existsSync(Lr)){let O=nA(Lr);for(let ee=0;ee<O.length;ee++)xt.set(O[ee].handle,O[ee]),pn.push(O[ee].handle)}if(Ot.existsSync(mn)){let O=sA(mn);for(let ee=0;ee<O.length;ee++)fe.set(O[ee].handle,O[ee]),De.push(O[ee].handle)}let Us=new f_,Ln=Du(a,".yaml",[]),Lt=[];for(let O=0;O<Ln.length;O++)if(pr(Ln[O])){let ee=ei.basename(Ln[O]).split(".").slice(0,-1).join("."),Te=Ot.readFileSync(Ln[O]).toString();try{Us.parseFieldset(Ms.parse(Te),ee)}catch{}if(ee!=null&&ee.trim().length>0){let ye=HC(Ln[O],ee);j.set(ee,ye)}}let Qi=new _d;Qi.setParsedFieldSet(Us.getFieldsets());let hn=Du(o,".yaml",[]);for(let O=0;O<hn.length;O++)if(pr(hn[O])){let ee=ei.basename(hn[O]).split(".").slice(0,-1).join("."),Te=ei.basename(ei.dirname(hn[O]));if(ee!=null&&ee.trim().length>0){Z.set(ee,Te);let ye=Oa(hn[O],ee,"taxonomy",j);le.push(ye),X.set(ee,ye.fields),Lt=Lt.concat(ye.fields),Xe.includes(ee)==!1&&Xe.push(ee)}}if(Xe.length>0){for(let O=0;O<Xe.length;O++)if(Z.has(Xe[O])){let ee=Z.get(Xe[O]);if(typeof ee!="undefined"&&ee!==null){let Te=d+ee+"/";if(Ot.existsSync(Te)){let ye=is(Te,".yaml"),Ie=[];for(let fi=0;fi<ye.length;fi++)if(pr(ye[fi])){let Ba=ei.basename(ye[fi]).split(".").slice(0,-1).join(".");Ie.push(Ba)}pe.set(Xe[O],Ie)}}}}let mr=is(u,".yaml");for(let O=0;O<mr.length;O++)if(pr(mr[O])){let ee=Ot.readFileSync(mr[O]).toString(),Te=ei.basename(mr[O]).split(".").slice(0,-1).join(".");try{Qi.parseBlueprint(Ms.parse(ee),Te,"misc",Te,mr[O])}catch{}if(Te!=null&&Te.trim().length>0){let ye=Oa(mr[O],Te,"misc",j);le.push(ye),Ue.set(Te,ye.fields),Lt=Lt.concat(ye.fields)}}for(let O=0;O<g.length;O++)if(pr(g[O])){let ee=Ot.readFileSync(g[O]).toString(),Te=ei.basename(g[O]).split(".").slice(0,-1).join("."),ye=Oa(g[O],Te,"collection",j),Ie=Zn((0,cA.dirname)(g[O])).split("/").pop();try{Qi.parseBlueprint(Ms.parse(ee),Te,"collection",Ie,g[O])}catch{}le.push(ye),Lt=Lt.concat(ye.fields),Ie!=null&&Ie.trim().length>0&&(Te=Ie,ot.includes(Ie)==!1&&ot.push(Ie)),ye.fields.forEach(fi=>{be.has(fi.name)||be.set(fi.name,fi)}),ii.set(Te,ye.fields)}let kr=is(f,".yaml");for(let O=0;O<kr.length;O++)if(pr(kr[O])){let ee=Ot.readFileSync(kr[O]).toString(),Te=zC(kr[O]),ye=ei.basename(kr[O]).split(".").slice(0,-1).join(".");try{Qi.parseBlueprint(Ms.parse(ee),ye,"nav",ye,kr[O])}catch{}qa.set(Te.handle,Te)}let Ei=is(l,".yaml");for(let O=0;O<Ei.length;O++)if(pr(Ei[O])){let ee=Ot.readFileSync(Ei[O]).toString(),Te=ei.basename(Ei[O]).split(".").slice(0,-1).join("."),ye=Oa(Ei[O],Te,"global",j);try{Qi.parseBlueprint(Ms.parse(ee),Te,"global",Te,Ei[O])}catch{}le.push(ye),Lt=Lt.concat(ye.fields),se.set(Te,ye.fields)}if(Ot.existsSync(P)){let O=is(P,".yaml");for(let ee=0;ee<O.length;ee++)if(pr(O[ee])){let Te=Ot.readFileSync(O[ee]).toString(),ye=ei.basename(O[ee]).split(".").slice(0,-1).join("."),Ie=Oa(O[ee],ye,"asset",j);try{Qi.parseBlueprint(Ms.parse(Te),ye,"asset",ye,O[ee])}catch{}le.push(Ie),Lt=Lt.concat(Ie.fields),Va.set(ye,Ie.fields)}}let x=is(s,".yaml"),C=is(n,".yaml"),v=[];for(let O=0;O<C.length;O++)if(pr(C[O])){let ee=ei.basename(C[O]).split(".").slice(0,-1).join(".");v.includes(ee)||v.push(ee)}for(let O=0;O<x.length;O++)if(pr(x[O])){let ee=Ot.readFileSync(x[O]).toString(),Te=ei.basename(x[O]).split(".").slice(0,-1).join("."),ye=Oa(x[O],Te,"form",j);try{Qi.parseBlueprint(Ms.parse(ee),Te,"form",Te,x[O])}catch{}le.push(ye),Lt=Lt.concat(ye.fields),ce.set(Te,ye.fields)}for(let O=0;O<v.length;O++)ce.has(v[O])||ce.set(v[O],[]);let E=new Map;for(let O=0;O<T.length;O++)E.set(T[O].relativeDisplayName,T[O]);Vs.forEach((O,ee)=>{O.template.trim().length>0&&E.has(O.template)&&E.get(O.template).injectsCollections.push(O.handle)});let F=[],S=[],b=[],L=[],B=[],oe=[],ge=[];return Qi.getBlueprints().forEach(O=>{O.type=="misc"?oe.push(O):O.type=="collection"?S.push(O):O.type=="nav"?L.push(O):O.type=="global"?ge.push(O):O.type=="asset"?F.push(O):O.type=="form"&&B.push(O)}),Us.getParsedFieldsets(),new fA({composerPackages:$,statamicPackage:w,isMocked:!1,workingDirectory:A,taxonomyPluralizedMapping:Z,collectionScopes:he,blueprintFiles:g,collectionBlueprintsPath:i,collections:Vs,rootPath:e,fields:ii,fieldsetsPath:a,fieldsets:j,collectionNames:ot,formBlueprintsPath:n,taxonomiesBlueprintsPath:o,globalBlueprintsPath:l,miscBlueprintsPath:u,viewsPath:r,views:T,globalFiles:[],forms:ce,globals:se,miscFields:Ue,taxonomies:X,taxonomyNames:Xe,templates:dt,partialCache:Dn,partialViewNames:Fn,macroFilePath:y,hasMacrosFile:V,contentDirectory:c,taxonomyContentDirectory:d,taxonomyTerms:pe,blueprints:le,assets:On,assetFields:Va,oauthProviders:[],navigationMenus:qa,userPermissionsPath:p,userGroupNames:De,userGroups:fe,userRoleNames:pn,userRoles:xt,searchIndexes:[],internalFieldReference:Lt,restoreProperties:null,namedBluePrintFields:be},t)}var fA=class extends c_{reloadDetails(){return d_(this.baseResourcePath)}};var p_=class{static getReferences(e){var i;if(e==null)return null;if(((i=e.context)==null?void 0:i.feature)instanceof ue){let r=e.context.feature;if(r.scopeVariable==null||r.scopeVariable.sourceField==null)return null;let n=new Map;we.getDocuments().forEach(a=>{let o=a.getAllAntlersNodes(),l=[];o.forEach(u=>{u.runtimeNodes.forEach(c=>{var f;(c.scopeVariable!=null&&c.scopeVariable==r.scopeVariable||c.scopeVariable!=null&&c.scopeVariable.sourceName==((f=r.scopeVariable)==null?void 0:f.sourceName)&&c instanceof ue&&c.name==r.name)&&l.push(c)})}),n.set(a.documentUri,l)});let s=[];return n.forEach((a,o)=>{a.forEach(l=>{s.push({uri:o,range:Sa(l)})})}),s}return[]}};function pA(t){var r;if(((r=de.instance)==null?void 0:r.hasStructure())==!1)return null;let e=decodeURIComponent(t.textDocument.uri);if(we.hasDocument(e)==!1)return null;let i=$i(t.position,e);return p_.getReferences(i)}function mA(t){var r;let e=decodeURIComponent(t.textDocument.uri),i=$i(t.position,e);if(i==null)return null;if(((r=i.context)==null?void 0:r.feature)instanceof ue){let n=i.context.feature,s=i.antlersDocument.getAllAntlersNodes();if(n.scopeVariable==null||n.scopeVariable.sourceField==null)return null;let a=[],o=[];return s.forEach(l=>{l.runtimeNodes.forEach(u=>{var c;(u.scopeVariable!=null&&u.scopeVariable==n.scopeVariable||u.scopeVariable!=null&&u.scopeVariable.sourceName==((c=n.scopeVariable)==null?void 0:c.sourceName)&&u instanceof ue&&u.name==n.name)&&a.push(u)})}),a.length>0&&a.push(n),a.forEach(l=>{o.push({range:Sa(l)})}),o}return[]}var hA=class{constructor(){this._nodes=[];this._extractedAntlers=new Map;this._buffer="";this._shouldFormat=!0}load(e){let i=new Pt;return i.getDocumentParser().withChildDocuments(!0),i.loadString(e),this._nodes=i.getAllNodes(),this._buffer=i.getParsedContent(),(!i.isValid()||!i.isFormattingEnabled())&&(this._shouldFormat=!1),this._nodes.forEach(r=>{if(r instanceof G){let n=r.getNodeDocumentText(),s="ANTLERS:"+r.refId;this._buffer=this._buffer.replace(n,s),this._extractedAntlers.set(s,n)}}),this}getShouldFormat(){return this._shouldFormat}getBuffer(){return this._buffer}getMapping(){return this._extractedAntlers}transform(e){return this._buffer=e(this._buffer),this}getTemplate(){let e=this._buffer;return this._extractedAntlers.forEach((i,r)=>{e=e.replace(r,i)}),e}},gA=hA;var SA=te(yA());var Ee=class{static getDocLink(e){return e=e.toLowerCase(),e=="array"?"https://statamic.dev/fieldtypes/array":e=="assets"?"https://statamic.dev/fieldtypes/assets":e=="bard"?"https://statamic.dev/fieldtypes/bard":e=="button_group"?"https://statamic.dev/fieldtypes/button_group":e=="checkboxes"?"https://statamic.dev/fieldtypes/checkboxes":e=="code"?"https://statamic.dev/fieldtypes/code":e=="collections"?"https://statamic.dev/fieldtypes/collections":e=="color"?"https://statamic.dev/fieldtypes/color":e=="date"?"https://statamic.dev/fieldtypes/date":e=="entries"?"https://statamic.dev/fieldtypes/entries":e=="form"?"https://statamic.dev/fieldtypes/form":e=="grid"?"https://statamic.dev/fieldtypes/grid":e=="integer"?"https://statamic.dev/fieldtypes/integer":e=="link"?"https://statamic.dev/fieldtypes/link":e=="list"?"https://statamic.dev/fieldtypes/list":e=="markdown"?"https://statamic.dev/fieldtypes/markdown":e=="radio"?"https://statamic.dev/fieldtypes/radio":e=="range"?"https://statamic.dev/fieldtypes/range":e=="replicator"?"https://statamic.dev/fieldtypes/replicator":e=="select"?"https://statamic.dev/fieldtypes/select":e=="sites"?"https://statamic.dev/fieldtypes/sites":e=="structures"?"https://statamic.dev/fieldtypes/structures":e=="table"?"https://statamic.dev/fieldtypes/table":e=="taggable"?"https://statamic.dev/fieldtypes/taggable":e=="taxonomies"?"https://statamic.dev/fieldtypes/taxonomies":e=="template"?"https://statamic.dev/fieldtypes/template":e=="terms"?"https://statamic.dev/fieldtypes/terms":e=="text"?"https://statamic.dev/fieldtypes/text":e=="textarea"?"https://statamic.dev/fieldtypes/textarea":e=="time"?"https://statamic.dev/fieldtypes/time":e=="toggle"?"https://statamic.dev/fieldtypes/toggle":e=="user_groups"?"https://statamic.dev/fieldtypes/user-groups":e=="user_roles"?"https://statamic.dev/fieldtypes/user-roles":e=="users"?"https://statamic.dev/fieldtypes/users":e=="video"?"https://statamic.dev/fieldtypes/video":e=="yaml"?"https://statamic.dev/fieldtypes/yaml":null}};function yd(t){return{resolved:!0,documentation:{handle:t.type,field:t,injects:[],stringable:!0,rawReturns:"string",augmentsTo:"string",canBeTagPair:!1,exampleSnippets:[],overviewProperties:[],overviewSnippets:[],modifiers:[],officialDocumentation:Ee.getDocLink(t.type),stringableReturns:"The field's value"}}}function TA(t){let e=[],i=h(t,"default",null),r=t.validate.includes("required");return i===null||r===!1?e.push({overview:`Using ${t.handle} in an operation`,snippet:`{{# Use null coalescence to account for a possible null value. #}}
{{ _result = (${t.handle} ?? 0) + 1; }}`}):isNaN(i)?e.push({overview:`Using ${t.handle} in an operation`,snippet:`{{#
    This field has a non-numeric default value of '${i}',
    which may cause issues with operations and comparisons.
#}}
{{ _result = ${t.handle} + 1; }}`}):e.push({overview:`Using ${t.handle} in an operation`,snippet:`{{ _result = ${t.handle} + 1; }}`}),e.push({overview:`Using ${t.handle} in a condition`,snippet:`{{ if ${t.handle} > 0 }}

{{ /if }}`}),{resolved:!0,documentation:{handle:t.type,field:t,injects:[],stringable:!0,rawReturns:"number",augmentsTo:"number",canBeTagPair:!1,exampleSnippets:[],overviewProperties:[],overviewSnippets:e,modifiers:[],officialDocumentation:Ee.getDocLink(t.type),stringableReturns:"The field's value"}}}function bA(t){let e=[];return e.push({overview:`Using the ${t.handle} field in a condition`,snippet:`{{ if ${t.handle} }}

{{ /if }}`}),e.push({overview:`Using the ${t.handle} field in a ternary expression`,snippet:`{{ ${t.handle} ? 'true' : 'false' }}`}),e.push({overview:`Using the ${t.handle} field with the Gatekeeper operator to conditionally render a partial`,snippet:`{{ ${t.handle} ?= {partial:partial/name} }}`}),{resolved:!0,documentation:{handle:t.type,field:t,injects:[],stringable:!0,rawReturns:"boolean",augmentsTo:"boolean",canBeTagPair:!1,exampleSnippets:[],overviewProperties:[],overviewSnippets:e,modifiers:[],officialDocumentation:Ee.getDocLink(t.type),stringableReturns:"The field's value"}}}var m_={resolved:!1,documentation:null};var Pe=class{static getInternalIcon(e){return e=="array"?"array":e=="asset_container"?"asset_container":e=="asset_folder"?"asset_folder":e=="assets"?"assets":e=="bard"?"bard":e=="replicator"?"replicator":e=="bard_buttons_setting"?"bard_buttons_setting":e=="button_group"?"button_group":e=="checkboxes"?"checkboxes":e=="code"?"code":e=="collection_routes"?"collection_routes":e=="collection_title_formats"?"collection_title_formats":e=="collections"?"collections":e=="color"?"color":e=="date"?"date":e=="entries"?"entries":e=="files"?"files":e=="float"?"float":e=="global_set_sites"?"global_set_sites":e=="grid"?"grid":e=="hidden"?"hidden":e=="html"?"html":e=="integer"?"integer":e=="link"?"link":e=="list"?"list":e=="markdown"?"markdown":e=="fields"?"fields":e=="radio"?"radio":e=="range"?"range":e=="revealer"?"revealer":e=="section"?"section":e=="select"?"select":e=="sets"?"sets":e=="sites"?"sites":e=="structures"?"structures":e=="slug"?"slug":e=="text"?"text":e=="table"?"table":e=="taggable"?"tags":e=="terms"||e=="taxonomies"?"taxonomy":e=="template"?"template":e=="template_folder"?"template_folder":e=="textarea"?"textarea":e=="time"?"time":e=="toggle"?"toggle":e=="user_groups"?"user_groups":e=="user_roles"?"user_roles":e=="users"?"users":e=="video"?"video":e=="yaml"?"yaml":e=="form"?"form":""}static baseField(e,i){return{validate:[],unless:[],type:i,sets:[],required:!0,linkedFrom:"",isLinked:!1,internalIcon:Pe.getInternalIcon(i),handle:e,fields:[],display:"",developerDocumentation:""}}static textField(e){return{...this.baseField(e,"text")}}static injectedTextField(e){return{name:e,type:"string",field:this.textField(e)}}static boolField(e){return{...this.baseField(e,"toggle"),inlineLabel:"",default:!1}}static injectedBoolField(e){return{name:e,type:"boolean",field:this.boolField(e)}}static integerField(e){return{...this.baseField(e,"integer"),default:""}}static injectedIntegerField(e){return{name:e,type:"integer",field:this.integerField(e)}}static floatField(e){return{...this.baseField(e,"float"),default:""}}static injectedFloatField(e){return{name:e,type:"float",field:this.floatField(e)}}static arrayField(e){return{...this.baseField(e,"array"),mode:"dynamic",keys:[]}}static injectedArrayField(e){return{name:e,type:"array",field:this.arrayField(e)}}static dateField(e){return{...this.baseField(e,"date"),mode:"",format:null,earliestDate:null,latestDate:null,timeEnabled:null,timeSecondsEnabled:null,fullWidth:null,inline:null,columns:0,rows:0}}static injectedDateField(e){return{name:e,type:"date",field:this.dateField(e)}}};var Ye=class{static getKeys(e){if(typeof e.keys=="undefined")return[];let i=e.keys;return i===null?[]:Object.keys(i)}static keysToInjectedField(e){let i=[];return e.forEach(r=>{i.push(Pe.injectedTextField(r))}),i}static massageInjectedType(e){return e=="user_roles"||e=="user_groups"?"array":e=="toggle"?"boolean":e}static fieldsToInjectedFields(e){let i=[];return e.forEach(r=>{i.push({name:r.handle,type:this.massageInjectedType(r.type),field:r})}),i}};var h_=class{static generate(e){let i=[];return i.push({overview:"Alternating between even and odd rows, starting at the second row",snippet:`<ul>
    {{ ${e} }}
    <li class="{ (count % 2 == 0) ? 'even' : 'odd' }">
        {{ value }}
    </li>
    {{ /${e} }}
</ul>`}),i.push({overview:"Alternating between even and odd rows, starting at the first row",snippet:`<ul>
    {{ ${e} }}
    <li class="{ (count % 2 == 0) ? 'odd' : 'even' }">
        {{ value }}
    </li>
    {{ /${e} }}
</ul>`}),i}};var La=class{constructor(e){this.buffer="";this.tabSize=4;this.tabSize=e}opening(e){return this.buffer+="{{ "+e+" }}",this}append(e){return this.buffer+=e,this}space(){return this.append(" ")}singleField(e){return this.append("{{ "+e+" }}")}nestedFieldsComment(){return this.append("{{# Nested fields. #}}")}nl(){return this.buffer+=`
`,this}indent(){return this.buffer+=" ".repeat(this.tabSize),this}indentedField(e){return this.buffer+=`
`+" ".repeat(this.tabSize)+"{{ "+e+" }}",this}indentedClosing(e){return this.buffer+=`
`+" ".repeat(this.tabSize)+"{{/ "+e+" }}",this}fieldAccess(e,i){return this.buffer+="{{ "+e+"."+i+" /}}",this.nl()}pairedFieldAccess(e,i){return this.buffer+="{{ "+e+"."+i+" }}",this.nl()}closingFieldAccess(e,i){return this.buffer+="{{ /"+e+"."+i+" }}",this.nl()}accessorFieldAccess(e,i,r){return this.buffer+="{{ "+e+"."+i+"."+r+" /}}",this.nl()}pairedAccessorFieldAccess(e,i,r){return this.buffer+="{{ "+e+"."+i+"."+r+" }}",this.nl()}closingAccessorFieldAccess(e,i,r){return this.buffer+="{{ /"+e+"."+i+"."+r+" }}",this.nl()}closing(e){return this.buffer+="{{ /"+e+" }}",this}toString(){return this.buffer}};var ka=class{static generate(e,i=4){let r=new La(i);return r.opening("foreach:"+e),r.nl().indent().singleField("key").space().singleField("value"),r.nl().closing("foreach:"+e),{overview:"Iterate the "+e+" as a key/value pair",snippet:r.toString()}}};function g_(t){return t==="array"||t=="entry"||t=="builder"||t=="entries"}var Ne=class{static generate(e,i,r=4){let n=[];return i.length==0?(n.push(Ne.generateNestedFields(e,[Pe.injectedTextField("value")],r)),n):(n.push(Ne.generateNestedFields(e,i,r)),n.push(Ne.generateDotAccessFields(e,i,r)),n)}static generateArrayFields(e,i,r=4){let n=[];return i.length==0?(n.push(Ne.generateNestedFields(e,[Pe.injectedTextField("value")],r)),n):(n.push(Ne.generateNestedFields(e,i,r)),n.push(Ne.generateNestedDotAccessFields(e,"0",i,r)),n)}static generateDotAccessFields(e,i,r){let n=new La(r);return i.forEach(s=>{g_(s.type)?n.pairedFieldAccess(e,s.name).indent().nestedFieldsComment().nl().closingFieldAccess(e,s.name):n.fieldAccess(e,s.name)}),{overview:"Accessing the nested values of the "+e+' field using "dot" syntax',snippet:n.toString().trimEnd()}}static generateNestedDotAccessFields(e,i,r,n){let s=new La(n);return r.forEach(a=>{g_(a.type)?(s.pairedAccessorFieldAccess(e,i,a.name),s.indent().nestedFieldsComment(),s.nl().closingAccessorFieldAccess(e,i,a.name)):s.accessorFieldAccess(e,i,a.name)}),{overview:"Accessing the nested values of the "+e+' field using "dot" syntax',snippet:s.toString().trimEnd()}}static generateNestedFields(e,i,r){let n=new La(r);return n.opening(e),i.forEach(s=>{g_(s.type)?n.indentedField(s.name).nl().indent().indent().nestedFieldsComment().indentedClosing(s.name):n.indentedField(s.name)}),n.nl().closing(e),{overview:"Accessing the nested fields of the "+e+" field within a tag pair.",snippet:n.toString()}}};var qs=class{resolve(e,i){let r=Ye.getKeys(e),n=Ee.getDocLink(e.type),s=Ye.keysToInjectedField(r),a=[],o=Ne.generate(e.handle,s);return e.mode=="keyed"?o.push(ka.generate(e.handle)):h_.generate(e.handle).forEach(l=>o.push(l)),a.push({mono:!1,name:"Mode",value:e.mode}),{resolved:!0,documentation:{handle:e.type,field:e,injects:s,stringable:!1,rawReturns:"array",augmentsTo:"array",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:o,officialDocumentation:n,overviewProperties:a,stringableReturns:null,modifiers:[]}}}};var Ma=class{resolve(e,i){let r=Ee.getDocLink(e.type),n=[],s=[];return s.push({overview:`Using modifiers on the ${e.handle} field`,snippet:`{{ ${e.handle} as="${e.handle}_alias" }}
    {{ ${e.handle}_alias | reverse }}

    {{ /${e.handle}_alias }}
{{ /${e.handle} }}`}),{resolved:!0,documentation:{handle:e.type,field:e,injects:[],stringable:!1,rawReturns:"builder",augmentsTo:"builder",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:s,officialDocumentation:r,overviewProperties:n,stringableReturns:"",modifiers:[]}}}};var nB=[Pe.injectedTextField("id"),Pe.injectedTextField("title"),Pe.injectedTextField("path"),Pe.injectedTextField("filename"),Pe.injectedTextField("basename"),Pe.injectedTextField("extension"),Pe.injectedBoolField("is_asset"),Pe.injectedBoolField("is_audio"),Pe.injectedBoolField("is_previewable"),Pe.injectedBoolField("is_image"),Pe.injectedBoolField("is_video"),Pe.injectedArrayField("blueprint"),Pe.injectedTextField("edit_url"),Pe.injectedArrayField("container"),Pe.injectedTextField("folder"),Pe.injectedTextField("url"),Pe.injectedTextField("permalink"),Pe.injectedTextField("size"),Pe.injectedFloatField("size_bytes"),Pe.injectedFloatField("size_kilobytes"),Pe.injectedFloatField("size_megabytes"),Pe.injectedFloatField("size_gigabytes"),Pe.injectedFloatField("size_b"),Pe.injectedFloatField("size_kb"),Pe.injectedFloatField("size_mb"),Pe.injectedFloatField("size_gb"),Pe.injectedDateField("last_modified"),Pe.injectedFloatField("last_modified_timestamp"),Pe.injectedDateField("last_modified_instance"),Pe.injectedTextField("focus"),Pe.injectedBoolField("has_focus"),Pe.injectedTextField("focus_css"),Pe.injectedFloatField("height"),Pe.injectedFloatField("width"),Pe.injectedTextField("orientation"),Pe.injectedFloatField("ratio"),Pe.injectedTextField("mime_type"),Pe.injectedFloatField("duration"),Pe.injectedFloatField("duration_seconds"),Pe.injectedFloatField("duration_sec"),Pe.injectedTextField("playtime")],Td=class{resolve(e,i){var l;if(e.maxFiles!==1)return new Ma().resolve(e,i);let r=null;for(let u=0;u<i.assets.length;u++)if(i.assets[u].handle==e.container){r=i.assets[u];break}let n=Ye.fieldsToInjectedFields((l=r==null?void 0:r.allFields)!=null?l:[]);n=n.concat(nB);let s=Ee.getDocLink(e.type),a=[],o=Ne.generate(e.handle,n);return{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!0,rawReturns:"asset",augmentsTo:"asset",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:o,officialDocumentation:s,overviewProperties:a,stringableReturns:"The asset's path",modifiers:[]}}}};var Fu=class{static generate(e,i){let r=[],n="";if(i.length==1)n=`    {{ if type == '${i[0].handle}' }}

    {{ /if }}`;else if(i.length>1){let a=i.slice(1);n=`    {{ if type == '${i[0].handle}' }}

`,a.forEach(o=>{n+=`    {{ elseif type == '${o.handle}' }}

`}),n+="    {{ /if }}"}let s=`{{ ${e} }}
${n}
{{ /${e} }}`;return r.push({overview:"Conditionally rendering content based on the current set",snippet:s}),r}};var Ou=class{static getSnippets(e){let i=[];return i.push({overview:"Retrieving the augmented value of the field",snippet:`{{ ${e.handle} /}}`}),i}};var bi=class{resolve(e,i){var a,o;let r=[],n=Ou.getSnippets(e),s={...yd(e)};return typeof e.characterLimit!="undefined"&&r.push({mono:!1,name:"Character Limit",value:(o=(a=e.characterLimit)==null?void 0:a.toString())!=null?o:"None"}),s.documentation!=null&&(s.documentation.overviewProperties=r,s.documentation.overviewSnippets=n),s}};var cl=class extends bi{};var bd=class{resolve(e,i){if(e.sets.length==0)return new cl().resolve(e,i);let r=Ee.getDocLink(e.type),n=[],s=[],a=Fu.generate(e.handle,e.sets);return{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!1,rawReturns:"array",augmentsTo:"array",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:a,officialDocumentation:r,overviewProperties:s,stringableReturns:null,modifiers:[]}}}};var Lu=class{resolve(e,i){let r=Ee.getDocLink(e.type),n=["value","label","key"],s=Ye.keysToInjectedField(n),a=[],o=Ne.generate(e.handle,s);return o.push(ka.generate(e.handle)),{resolved:!0,documentation:{handle:e.type,field:e,injects:s,stringable:!0,rawReturns:"string",augmentsTo:"labeledValue",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:o,officialDocumentation:r,overviewProperties:a,stringableReturns:"The field's value",modifiers:[]}}}};var vd=class extends Lu{};var Id=class{resolve(e,i){let r=["key","value","label"],n=Ee.getDocLink(e.type),s=Ye.keysToInjectedField(r),a=[],o=Ne.generateArrayFields(e.handle,s);return{resolved:!0,documentation:{handle:e.type,field:e,injects:s,stringable:!1,rawReturns:"array",augmentsTo:"array",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:o,officialDocumentation:n,overviewProperties:a,stringableReturns:null,modifiers:[]}}}};var Pd=class{resolve(e,i){var l,u;let r=["code","mode","value"],n=Ee.getDocLink(e.type),s=Ye.keysToInjectedField(r),a=[],o=Ne.generate(e.handle,s);return a.push({mono:!0,name:"Mode",value:e.mode}),a.push({mono:!1,name:"Indent Type",value:((l=e.indentType)!=null?l:"tabs")+"("+((u=e.indentSize)!=null?u:4)+")"}),o.unshift({overview:`Rendering a <code /> element using the details of the ${e.handle} field`,snippet:`{{ ${e.handle} }}
    <pre><code class="language-{{ mode }}">{{ code }}</code></pre>
{{ /${e.handle} }}`}),{resolved:!0,documentation:{handle:e.type,field:e,injects:s,stringable:!1,rawReturns:"string",augmentsTo:"arrayableString",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:o,officialDocumentation:n,overviewProperties:a,stringableReturns:"The code field's value",modifiers:[]}}}};var vi=class{static generate(e,i,r){return{overview:`Use the values of the ${r} field to retrieve items using the ${e} tag`,snippet:`{{ ${e} ${i}="{${r}|piped}" }}

{{ /${e} }}`}}static generateSingle(e,i,r){return{overview:`Use the value of the ${r} field to retrieve items using the ${e} tag`,snippet:`{{ ${e} :${i}="${r}.handle" }}

{{ /${e} }}`}}static generateCondition(e,i,r){return{overview:`Use the values of the ${r} field with the ${e} tag in a condition`,snippet:`{{ if {${e} ${i}="{${r}|piped}"} }}

{{ /if }}`}}static generateSingleCondition(e,i,r){return{overview:`Use the value of the ${r} field with the ${e} tag in a condition`,snippet:`{{ if {${e} :${i}="${r}.handle"} }}

{{ /if }}`}}};var Nd=class{constructor(){this.injectsKeys=["title","handle"]}resolve(e,i){let r=Ee.getDocLink(e.type),n=Ye.keysToInjectedField(this.injectsKeys),s=[],a="collectionArray",o="collectionArray",l=[],u=!1;return e.maxItems===1?(a="collection",o="collection",u=!0,l.push(vi.generateSingle("collection","from",e.handle)),l=l.concat(Ne.generate(e.handle,n))):(l.push(vi.generate("collection","from",e.handle)),l=l.concat(Ne.generateArrayFields(e.handle,n))),{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!0,rawReturns:a,augmentsTo:o,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:l,officialDocumentation:r,overviewProperties:s,stringableReturns:"The collection's handle",modifiers:[]}}}};var Sd=class{resolve(e,i){var n;let r=new bi().resolve(e,i);return r.documentation!=null&&r.documentation.overviewProperties.unshift({mono:!0,name:"Color Mode",value:(n=e.defaultColorMode)!=null?n:"hex"}),r}};var __=class{static generate(e){let i=[];return i.push({overview:"Formatting: Atom/ISO-8601 Full Extended (2022-11-19T16:59:46+00:00)",snippet:`{{ ${e.handle} | format('Y-m-d\\TH:i:sP') /}}`}),i.push({overview:"Formatting: ISO-8601 (2022-11-19T16:59:46+0000)",snippet:`{{ ${e.handle} | format('Y-m-d\\TH:i:sO') /}}`}),i.push({overview:"Formatting: Cookie (Saturday, 19-Nov-2022 16:59:46 UTC)",snippet:`{{ ${e.handle} | format('l, d-M-Y H:i:s T') /}}`}),i.push({overview:"Formatting: RFC-822 (Sat, 19 Nov 22 16:59:46 +0000)",snippet:`{{ ${e.handle} | format('D, d M y H:i:s O') /}}`}),i.push({overview:"Formatting: RFC-850 (Saturday, 19-Nov-22 16:59:46 UTC)",snippet:`{{ ${e.handle} | format('l, d-M-y H:i:s T') /}}`}),i.push({overview:"Formatting: RFC-1036 (Sat, 19 Nov 22 16:59:46 +0000)",snippet:`{{ ${e.handle} | format('D, d M y H:i:s O') /}}`}),i.push({overview:"Formatting: RFC-1123 (Sat, 19 Nov 2022 16:59:46 +0000)",snippet:`{{ ${e.handle} | format('D, d M Y H:i:s O') /}}`}),i.push({overview:"Formatting: RFC-2822 (Sat, 19 Nov 2022 16:59:46 +0000)",snippet:`{{ ${e.handle} | format('D, d M Y H:i:s O') /}}`}),i.push({overview:"Formatting: RFC-3339 (2022-11-19T16:59:46+00:00)",snippet:`{{ ${e.handle} | format('Y-m-d\\TH:i:sP') /}}`}),i.push({overview:"Formatting: RFC-3339 Extended (2022-11-19T16:59:46.954+00:00)",snippet:`{{ ${e.handle} | format('Y-m-d\\TH:i:s.vP') /}}`}),i.push({overview:"Formatting: RFC-7231 (Sat, 19 Nov 2022 16:59:46 GMT)",snippet:`{{ ${e.handle} | format('D, d M Y H:i:s \\G\\M\\T') /}}`}),i.push({overview:"Formatting: RSS (Sat, 19 Nov 2022 16:59:46 +0000)",snippet:`{{ ${e.handle} | format('D, d M Y H:i:s O') /}}`}),i.push({overview:"Formatting: W3C (2022-11-19T16:59:46+00:00)",snippet:`{{ ${e.handle} | format('Y-m-d\\TH:i:sP') /}}`}),i}};var Rd=class{resolve(e,i){var n,s;let r=new bi().resolve(e,i);return r.documentation!=null&&(__.generate(e).forEach(a=>{var o;(o=r.documentation)==null||o.overviewSnippets.unshift(a)}),r.documentation.overviewProperties.unshift({name:"Time Enabled",mono:!1,value:K.boolLabel((n=e.timeEnabled)!=null?n:!1)}),r.documentation.overviewProperties.unshift({name:"Format",mono:!0,value:(s=e.format)!=null?s:"None"}),r.documentation.augmentsTo="date",r.documentation.stringableReturns="The formatted date"),r}};var Cd=class{resolve(e,i){if(e.maxItems!==1){let o=new Ma().resolve(e,i);if(o.resolved&&o.documentation!=null){let l=[],u=[];if(e.collections!=null&&e.collections.length>0){let c=[],f=[];i.collections.forEach(d=>{var p;((p=e.collections)==null?void 0:p.includes(d.collection))&&typeof d.allFields!="undefined"&&d.allFields!=null&&d.allFields.forEach(m=>{f.includes(m.handle)==!1&&(f.push(m.handle),c.push(m))})}),l=Ye.fieldsToInjectedFields(c),u=[Ne.generateNestedFields(e.handle,l,4)]}u.forEach(c=>{var f;(f=o.documentation)==null||f.overviewSnippets.unshift(c)}),o.documentation.injects=l}return o}let r=Ee.getDocLink(e.type),n=[],s=[],a=[];if(e.collections!=null&&e.collections.length>0){let o=[],l=[];i.collections.forEach(u=>{var c;((c=e.collections)==null?void 0:c.includes(u.collection))&&typeof u.allFields!="undefined"&&u.allFields!=null&&u.allFields.forEach(f=>{l.includes(f.handle)==!1&&(l.push(f.handle),o.push(f))})}),s=Ye.fieldsToInjectedFields(o),a=[Ne.generateNestedFields(e.handle,s,4)]}return{resolved:!0,documentation:{handle:e.type,field:e,injects:s,stringable:!1,rawReturns:"entry",augmentsTo:"entry",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:a,officialDocumentation:r,overviewProperties:n,stringableReturns:"",modifiers:[]}}}};var rs=class{resolve(e,i){return TA(e)}};var Ad=class extends rs{};var Ed=class{constructor(){this.injectsKeys=["handle","title","api_url","honeypot"]}resolve(e,i){let r=Ee.getDocLink(e.type),n=Ye.keysToInjectedField(this.injectsKeys),s=[],a="formArray",o="formArray",l=[],u=!1;return e.maxItems===1?(a="form",o="form",u=!0,l=Ne.generate(e.handle,n),l.unshift({overview:`Using the value of the ${e.handle} field to create a form`,snippet:`{{ form:create :in="${e.handle}.handle" }}
    {{ fields }}
        {{# Render the fields. #}}
    {{ /fields }}

    <button type="submit">The Submit Button</button>
{{ /form:create }}`})):l=Ne.generateArrayFields(e.handle,n),{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!0,rawReturns:a,augmentsTo:o,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:l,officialDocumentation:r,overviewProperties:s,stringableReturns:"The form's handle",modifiers:[]}}}};var wd=class{resolve(e,i){let r=Ee.getDocLink(e.type),n=Ye.fieldsToInjectedFields(e.fields),s=[],a=Ne.generate(e.handle,n);return{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!1,rawReturns:"array",augmentsTo:"array",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:a,officialDocumentation:r,overviewProperties:s,stringableReturns:null,modifiers:[]}}}};var xd=class extends rs{};var Dd=class extends bi{};var Fd=class extends qs{};var Od=class extends bi{resolve(e,i){let r=super.resolve(e,i);return r.documentation!=null&&r.documentation.overviewSnippets.unshift({overview:"Using a custom Markdown parser to render the content",snippet:`{{ ${e.handle} | raw | markdown('parser_name') /}}`}),r}};var Ld=class extends Lu{};var kd=class extends rs{resolve(e,i){var n,s,a,o;let r=super.resolve(e,i);return r.documentation!=null&&(r.documentation.overviewProperties.unshift({name:"Max",value:(s=(n=e.max)==null?void 0:n.toString())!=null?s:"None",mono:!1}),r.documentation.overviewProperties.unshift({name:"Min",value:(o=(a=e.min)==null?void 0:a.toString())!=null?o:"None",mono:!1})),r}};var Md=class{resolve(e,i){let r=Ee.getDocLink(e.type),n=[],s=[],a=Fu.generate(e.handle,e.sets);return{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!1,rawReturns:"array",augmentsTo:"array",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:a,officialDocumentation:r,overviewProperties:s,stringableReturns:null,modifiers:[]}}}};var qd=class{resolve(e,i){let r=Ee.getDocLink(e.type),n=["value","label","key"],s=Ye.keysToInjectedField(n),a=[],o="string",l="labeledValueArray",u=[];return e.multiple!==!0?(o="string",l="labeledValue",u=Ne.generate(e.handle,s),u.push(ka.generate(e.handle))):u=Ne.generateArrayFields(e.handle,s),{resolved:!0,documentation:{handle:e.type,field:e,injects:s,stringable:!0,rawReturns:o,augmentsTo:l,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:u,officialDocumentation:r,overviewProperties:a,stringableReturns:"The field's value",modifiers:[]}}}};var Vd=class{constructor(){this.injectsKeys=["handle","name","lang","locale","short_locale","url","direction"]}resolve(e,i){let r=Ee.getDocLink(e.type),n=Ye.keysToInjectedField(this.injectsKeys).concat([Pe.injectedArrayField("attributes")]),s=[],a="siteArray",o="siteArray",l=[],u=!1;return e.maxItems===1?(a="site",o="site",u=!0,l=Ne.generate(e.handle,n)):l=Ne.generateArrayFields(e.handle,n),{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!0,rawReturns:a,augmentsTo:o,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:l,officialDocumentation:r,overviewProperties:s,stringableReturns:"The site's handle",modifiers:[]}}}};var Bd=class extends bi{};var jd=class{static getSnippets(e){let i=[];return e.maxItems===1?i.push({overview:"Navigate the structure hierarchy using the nav tag",snippet:`{{ nav :from="${e.handle}.handle" }}

{{ /nav }}`}):i.push({overview:"Navigate the structure hierarchies using the nav tag",snippet:`{{ ${e.handle} }}
    {{ nav :from="handle" }}

    {{ /nav }}
{{ /${e.handle} }}`}),i}};var Ud=class{constructor(){this.injectsKeys=["title","handle"]}resolve(e,i){let r=Ee.getDocLink(e.type),n=Ye.keysToInjectedField(this.injectsKeys),s=[],a="structureArray",o="structureArray",l=jd.getSnippets(e),u=!1;return e.maxItems===1?(a="structure",o="structure",u=!0,Ne.generate(e.handle,n).forEach(c=>{l.push(c)})):Ne.generateArrayFields(e.handle,n).forEach(c=>{l.push(c)}),{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!0,rawReturns:a,augmentsTo:o,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:l,officialDocumentation:r,overviewProperties:s,stringableReturns:"The structure's handle",modifiers:[]}}}};var Gd=class{resolve(e,i){let r=Ee.getDocLink(e.type),n=[],s=[],a="array",o="array",l=[];return l.push({overview:`Using the table modifier to conver the ${e.handle} to HTML`,snippet:`{{ ${e.handle} | table /}}`}),l.push({overview:"Iterating the table and render the contents",snippet:`<table>
  {{ ${e.handle} }}
    <tr>
      {{ cells }}
        <td>{{ value /}}</td>
      {{ /cells }}
    </tr>
  {{ /${e.handle} }}
</table>`}),l.push({overview:'Using the "as" modifier to access individual rows',snippet:`{{ ${e.handle} as="rows" }}
    <thead>
        <tr>
        {{ rows.0.cells }}
            <th>{{ value /}}</th>
        {{ /rows.0.cells }}
        </tr>
    </thead>
    <tbody>
    {{ rows offset="1" }}
        <tr>
        {{ cells }}
            <td>{{ value /}}</td>
        {{ /cells }}
        </tr>
    {{ /rows }}
    </tbody>
{{ /${e.handle} }}`}),l.push({overview:"Using a variable to conditionally render a table header element",snippet:`<table>
  {{ ${e.handle} }}
    {{ if first && first_row_headers }}
      <thead>
        <tr>
          {{ cells }}
            <th>{{ value /}}</th>
          {{ /cells }}
        </tr>
      </thead>
      <tbody>
    {{ /if }}
    {{ if !first && first_row_headers || !first_row_headers }}
      {{ if first }}
        <tbody>
      {{ /if }}
        <tr>
          {{ cells }}
            <td>{{ value /}}</td>
          {{ /cells }}
        </tr>
      {{ if last }}
        </tbody>
      {{ /if }}
    {{ /if }}
  {{ /${e.handle} }}
</table>`}),l.push({overview:"Using a variable to conditionally render a table header element; using ternary conditions to render the body",snippet:`<table>
  {{ ${e.handle} }}
    {{ if first && first_row_headers }}
      <thead>
        <tr>
          {{ cells }}
            <th>{{ value /}}</th>
          {{ /cells }}
        </tr>
      </thead>
      <tbody>
    {{ /if }}
    {{ if !first && first_row_headers || !first_row_headers }}
      {{ first ?= '<tbody>' }}
      <tr>
          {{ cells }}
          <td>{{ value /}}</td>
          {{ /cells }}
      </tr>      
      {{ last ?= '</tbody>' }}
    {{ /if }}
  {{ /${e.handle} }}
</table>`}),{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!1,rawReturns:a,augmentsTo:o,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:l,officialDocumentation:r,overviewProperties:s,stringableReturns:"",modifiers:[]}}}};var Wd=class extends qs{};var Hd=class{constructor(){this.injectsKeys=["title","handle"]}resolve(e,i){let r=Ee.getDocLink(e.type),n=Ye.keysToInjectedField(this.injectsKeys),s=[],a="taxonomyArray",o="taxonomyArray",l=[],u=!1;return e.maxItems===1?(a="taxonomy",o="taxonomy",u=!0,l.push(vi.generateSingle("taxonomy","from",e.handle)),l=l.concat(Ne.generate(e.handle,n))):(l.push(vi.generate("taxonomy","from",e.handle)),l=l.concat(Ne.generateArrayFields(e.handle,n))),{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!0,rawReturns:a,augmentsTo:o,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:l,officialDocumentation:r,overviewProperties:s,stringableReturns:"The taxonomy's handle",modifiers:[]}}}};var Yd=class extends bi{};var Kd=class{constructor(){this.injectsKeys=["api_url","edit_url","entries_count","id","is_term","locale","permalink","slug","taxonomy","title","updated_at","updated_by","uri","url"]}resolve(e,i){let r=Ee.getDocLink(e.type),n=Ye.keysToInjectedField(this.injectsKeys),s=[],a="termArray",o="termArray",l=[],u=!1;return e.maxItems===1?(a="taxonomy",o="taxonomy",u=!0,l=l.concat(Ne.generate(e.handle,n))):l=l.concat(Ne.generateArrayFields(e.handle,n)),{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!1,rawReturns:a,augmentsTo:o,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:l,officialDocumentation:r,overviewProperties:s,stringableReturns:null,modifiers:[]}}}};var $d=class extends bi{};var zd=class extends rs{};var y_=class{resolve(e,i){return bA(e)}};var Xd=class extends y_{};var Qd=class{constructor(){this.injectsKeys=["title","handle"]}resolve(e,i){let r=Ee.getDocLink(e.type),n=Ye.keysToInjectedField(this.injectsKeys),s=[],a="userGroupArray",o="userGroupArray",l=[],u=!1;return e.maxItems===1?(a="userGroup",o="userGroup",u=!0,l.push(vi.generateSingle("user:in","group",e.handle)),l.push(vi.generateSingleCondition("user:in","group",e.handle)),l=l.concat(Ne.generate(e.handle,n))):(l.push(vi.generate("user:in","group",e.handle)),l.push(vi.generateCondition("user:in","group",e.handle)),l=l.concat(Ne.generateArrayFields(e.handle,n))),{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!0,rawReturns:a,augmentsTo:o,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:l,officialDocumentation:r,overviewProperties:s,stringableReturns:"The user group's handle",modifiers:[]}}}};var Jd=class{constructor(){this.injectsKeys=["title","handle"]}resolve(e,i){let r=Ee.getDocLink(e.type),n=Ye.keysToInjectedField(this.injectsKeys),s=[],a="userRoleArray",o="userRoleArray",l=[],u=!1;return e.maxItems===1?(a="userRole",o="userRole",u=!0,l.push(vi.generateSingle("user:is","role",e.handle)),l.push(vi.generateSingleCondition("user:is","role",e.handle)),l=l.concat(Ne.generate(e.handle,n))):(l.push(vi.generate("user:is","role",e.handle)),l.push(vi.generateCondition("user:is","role",e.handle)),l=l.concat(Ne.generateArrayFields(e.handle,n))),{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!0,rawReturns:a,augmentsTo:o,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:l,officialDocumentation:r,overviewProperties:s,stringableReturns:"The user role's handle",modifiers:[]}}}};var Zd=class{resolve(e,i){var l;if(e.maxItems!==1)return new Ma().resolve(e,i);let r=null;for(let u=0;u<i.general.length;u++)if(i.general[u].handle=="user"){r=i.general[u];break}let n=Ee.getDocLink(e.type),s=Ye.fieldsToInjectedFields((l=r==null?void 0:r.allFields)!=null?l:[]),a=[],o=Ne.generate(e.handle,s);return{resolved:!0,documentation:{handle:e.type,field:e,injects:s,stringable:!1,rawReturns:"user",augmentsTo:"user",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:o,officialDocumentation:n,overviewProperties:a,stringableReturns:null,modifiers:[]}}}};var ep=class{resolve(e,i){let r=[],n=Ou.getSnippets(e),s={...yd(e)};return n.unshift({overview:"Condtionally output the appropriate video player element",snippet:`{{ if ${e.handle} | is_embeddable }}
    <!-- Youtube and Vimeo -->
    <iframe src="{{ ${e.handle} | embed_url }}" ...></iframe>
{{ else }}
    <!-- Other HTML5 video types -->
    <video src="{{ ${e.handle} | embed_url }}" ...></video>
{{ /if }}`}),s.documentation!=null&&(s.documentation.overviewProperties=r,s.documentation.overviewSnippets=n),s}};var vA=null;function IA(t){vA=t}var T_=class{constructor(){this.providers=new Map;this.providers.set("array",new qs),this.providers.set("assets",new Td),this.providers.set("bard",new bd),this.providers.set("button_group",new vd),this.providers.set("checkboxes",new Id),this.providers.set("code",new Pd),this.providers.set("collections",new Nd),this.providers.set("color",new Sd),this.providers.set("date",new Rd),this.providers.set("entries",new Cd),this.providers.set("float",new Ad),this.providers.set("form",new Ed),this.providers.set("grid",new wd),this.providers.set("integer",new xd),this.providers.set("link",new Dd),this.providers.set("list",new Fd),this.providers.set("markdown",new Od),this.providers.set("radio",new Ld),this.providers.set("range",new kd),this.providers.set("replicator",new Md),this.providers.set("select",new qd),this.providers.set("sites",new Vd),this.providers.set("slug",new Bd),this.providers.set("structures",new Ud),this.providers.set("table",new Gd),this.providers.set("taggable",new Wd),this.providers.set("taxonomies",new Hd),this.providers.set("template",new Yd),this.providers.set("terms",new Kd),this.providers.set("text",new cl),this.providers.set("textarea",new $d),this.providers.set("time",new zd),this.providers.set("toggle",new Xd),this.providers.set("user_groups",new Qd),this.providers.set("user_roles",new Jd),this.providers.set("users",new Zd),this.providers.set("video",new ep)}massageAugmentType(e){return e=="builder"?"array":e=="asset"?"assets":e}getDocumentationModifiers(e){var a,o;let i=[],r=(a=je.instance)==null?void 0:a.getModifiersForType(this.massageAugmentType(e.augmentsTo)),n=[],s=[];return r==null||r.forEach(l=>{l.isDeprecated||l.forFieldType.length>0&&!l.forFieldType.includes(e.field.type)||(e.augmentsTo=="asset"||e.augmentsTo=="entry")&&l.acceptsType.length==1&&l.acceptsType[0]=="array"||(s.push(l),n.push(l.name))}),e.augmentsTo=="asset"&&((o=je.instance)==null||o.getRegisteredModifiers().forEach(l=>{l.forFieldType.includes("assets")&&!n.includes(l.name)&&(s.push(l),n.push(l.name))})),s.forEach(l=>{i.push({acceptsTypes:l.acceptsType,description:l.description,docLink:l.docLink,name:l.name,returnsTypes:l.returnsType,parameters:l.parameters})}),i}getDocumentation(e){if(typeof e.type!="string")return m_;let i=e.type.toLowerCase();if(!this.providers.has(i))return m_;let r=this.providers.get(i).resolve(e,vA);return r.resolved==!1||r.documentation!=null&&(r.documentation.overviewProperties.unshift({name:"Type",value:i,mono:!0}),r.documentation.overviewProperties.push({name:"Stringable",value:K.boolLabel(r.documentation.stringable),mono:!1}),r.documentation.overviewProperties.push({name:"Arrayable",value:K.boolLabel(r.documentation.canBeTagPair),mono:!1}),r.documentation.overviewProperties.push({name:"Augments To",value:r.documentation.augmentsTo,mono:!0}),r.documentation.modifiers=this.getDocumentationModifiers(r.documentation)),r}};var b_=class{static handle(e){return new T_().getDocumentation(e.context)}};var aB=Ng(),v_={formatFrontMatter:!1,showGeneralSnippetCompletions:!0,diagnostics:{warnOnDynamicCssClassNames:!0,validateTagParameters:!0,reportDiagnostics:!0},trace:{server:"off"},formatterIgnoreExtensions:["xml"],languageVersion:"runtime"},Pa=v_;function tp(t){Pa=t}function dr(){return Pa}var Ke=(0,ti.createConnection)(ti.ProposedFeatures.all),fl=new ti.TextDocuments(NA.TextDocument),RA=!1,CA=!1,oB=!1,I_;(e=>e.type=new ti.RequestType("antlers/generateHelp"))(I_||(I_={}));var P_;(e=>e.type=new ti.RequestType("antlers/lockedits"))(P_||(P_={}));var N_;(e=>e.type=new ti.RequestType("antlers/forcedFormat"))(N_||(N_={}));var S_;(e=>e.type=new ti.RequestType("antlers/projectUpdate"))(S_||(S_={}));var R_;(e=>e.type=new ti.RequestType("antlers/transform"))(R_||(R_={}));var C_;(e=>e.type=new ti.RequestType0("antlers/semanticTokenLegend"))(C_||(C_={}));var A_;(e=>e.type=new ti.RequestType("antlers/semanticTokens"))(A_||(A_={}));Ke.onInitialize(t=>{let e=t.capabilities;RA=!!(e.workspace&&!!e.workspace.configuration),CA=!!(e.workspace&&!!e.workspace.workspaceFolders),oB=!!(e.textDocument&&e.textDocument.publishDiagnostics&&e.textDocument.publishDiagnostics.relatedInformation);let i={capabilities:{textDocumentSync:ti.TextDocumentSyncKind.Full,completionProvider:{resolveProvider:!0,triggerCharacters:[":",'"',"'","{","/","|","@"," "]},documentFormattingProvider:{},foldingRangeProvider:{},signatureHelpProvider:{triggerCharacters:[","]},documentLinkProvider:{},hoverProvider:{},definitionProvider:{},documentSymbolProvider:{},referencesProvider:{},documentHighlightProvider:{},codeActionProvider:{},executeCommandProvider:{commands:["antlers.extractToPartial"]}}};return CA&&(i.capabilities.workspace={workspaceFolders:{supported:!0}}),i});Ke.onInitialized(()=>{RA&&Ke.client.register(ti.DidChangeConfigurationNotification.type,void 0),Ke.workspace.getConfiguration("html").then(function(t){xg(t)}),Ke.workspace.getConfiguration("antlersLanguageServer").then(function(t){t!=null?tp(t):tp(v_)})});Ke.onExecuteCommand(async t=>{var e;t.command=="antlers.extractToPartial"&&gu.currentAction!=null&&((e=t.arguments)==null?void 0:e.length)==3&&gu.currentAction.completeRefactor({path:t.arguments[1],fsPath:t.arguments[2]})});Ke.onDidChangeConfiguration(t=>{Ke.workspace.getConfiguration("html").then(function(e){xg(e)}),Ke.workspace.getConfiguration("antlersLanguageServer").then(function(e){var i;if(e!=null){let r=dr(),n=e;if(tp(n),n.diagnostics.reportDiagnostics==!1&&((i=de.instance)==null?void 0:i.hasStructure())){let s=de.instance.getStructure().getViews();for(let a=0;a<s.length;a++)Ke.sendDiagnostics({uri:s[a].originalDocumentUri,diagnostics:[]})}r.languageVersion!=n.languageVersion&&SR(Ke)}else tp(v_)}),fl.all().forEach(AA),fl.all().forEach(Eg),fl.all().forEach(e=>{w_(encodeURIComponent(e.uri))}),fl.all().forEach(e=>{wg(e,Ke)})});Ke.onDocumentLinks(t=>{let e=decodeURIComponent(t.textDocument.uri);return n_.getDocumentLinks(e)});var E_=!1;Ke.onRequest(P_.type,()=>{E_=!0});function lB(t){if(E_){E_=!1;return}AA(t.document),Eg(t.document),w_(decodeURIComponent(t.document.uri)),wg(t.document,Ke)}var uB=(0,SA.debounce)(FN,97);fl.onDidChangeContent(lB);Ke.onDidChangeWatchedFiles(t=>{});Ke.onHover(t=>DC(t));Ke.onDocumentSymbol(t=>qC(t));Ke.onDocumentHighlight(mA);Ke.onReferences(pA);Ke.onDefinition(FC);Ke.onFoldingRanges(kN);Ke.onSignatureHelp(xC);Ke.onDocumentFormatting(EC);Ke.onCompletion(uB);Ke.onCompletionResolve(ON);fl.listen(Ke);Ke.onRequest(C_.type,t=>r_().legend);Ke.onRequest(N_.type,t=>{let e=dr(),i=_u.format;return new Eu({tabSize:t.tabSize,formatFrontMatter:e.formatFrontMatter,insertSpaces:t.insertSpaces,formatExtensions:[],maxStatementsPerLine:3,htmlOptions:i}).formatDocument(Pt.fromText(t.content),dr())});Ke.onRequest(I_.type,t=>({didGenerate:!0,result:b_.handle(t)}));Ke.onRequest(R_.type,t=>{let e=new gA;e.load(t.content);let i=[];return e.getMapping().forEach((n,s)=>{i.push({find:s,replace:n})}),{shouldParse:e.getShouldFormat(),transformedText:e.getBuffer(),replacements:i}});Ke.onCodeAction(PR);Ke.onRequest(S_.type,()=>{var t,e,i,r,n;if((t=de.instance)==null||t.setDirtyState(!0),(e=de.instance)==null||e.reloadDetails(),(i=de.instance)==null?void 0:i.hasStructure()){let s=(r=de.instance)==null?void 0:r.getStructure();we.setProject(s),(n=da.instance)==null||n.updateProject(s)}});Ke.onRequest(A_.type,(t,e)=>{let i=decodeURIComponent(t.textDocument.uri);if(fn.has(i)){let r=fn.get(i);return r_().getSemanticTokens(r,t.ranges)}return null});async function AA(t){var n,s,a,o,l,u,c,f,d;if((n=de.instance)==null?void 0:n.hasStructure()){de.instance.reloadDetails(),we.setProject(de.instance.getStructure());return}let e=decodeURIComponent(t.uri),i=aB(e),r=d_(i);if((s=de.instance)==null||s.setActiveProject(r),((a=de.instance)==null?void 0:a.hasStructure())&&(we.setProject((o=de.instance)==null?void 0:o.getStructure()),(u=da.instance)==null||u.updateProject((l=de.instance)==null?void 0:l.getStructure())),(c=Gr.instance)==null||c.clearPartialReferences(e),(f=Wi.instance)==null||f.clearIssues(e),(d=de.instance)==null?void 0:d.hasStructure()){let p=de.instance.getStructure().getViews();for(let m=0;m<p.length;m++){let _=p[m];NR(_.documentUri,PA.readFileSync(_.path,{encoding:"utf8"})),w_(_.documentUri)}}}function Cg(t){let e={edit:t};Ke.sendRequest("workspace/applyEdit",e)}function dA(t){}function w_(t){var e,i,r,n,s,a,o,l,u,c,f,d,p,m,_,P;if(t=decodeURIComponent(t),we.hasDocument(t)){let g=we.getDocument(t),T=g.getAllAntlersNodes();(e=Wi.instance)==null||e.clearIssues(t),(i=Gr.instance)==null||i.clearAllReferences(t),ia.clear(t);let y=[],A=[],N=[],U=[],V=[],w=[];for(let le=0;le<T.length;le++){let j=T[le],Z=j.getTagName();if(Z==="yield"||Z=="yields"){let se=j.reference;se!=null&&se instanceof Ml&&y.push(se)}else if(Z==="partial")N.push(j);else if(Z==="cache")U.push(j);else if(j.runtimeName()=="session:set"||j.runtimeName()=="session:flash"){let se=j.reference;se!=null&&se instanceof sa&&A.push(se)}if(j.modifiers!=null){let se=j.modifiers.getModifierValue("partial");if(se!=null){let X=(r=de.instance)==null?void 0:r.getStructure().findPartial(se);X!=null&&((n=Gr.instance)==null||n.clearRemovesPageScope(X.originalDocumentUri),(s=Gr.instance)==null||s.setRemovesPageScope(X.originalDocumentUri,j))}}if(j.isTagNode){let se=(a=Le.instance)==null?void 0:a.findTag(j.runtimeName());se!=null&&se.requiresClose&&j.isClosedBy==null&&j.isClosingTag==!1&&j.isSelfClosing==!1&&V.push(j)}else j.manifestType==="array"&&j.isClosedBy==null&&V.push(j);let ce=(l=(o=Wi.instance)==null?void 0:o.checkNode(j))!=null?l:[];ce.length>0&&(w=w.concat(ce))}let $=(c=(u=Wi.instance)==null?void 0:u.checkDocument(g))!=null?c:[];$.length>0&&(w=w.concat($)),V.length>0&&ia.registerNodes(t,V),(f=da.instance)==null||f.registerInjections(t,N),(d=Vc.instance)==null||d.registerDocumentSections(t,y),(p=Gr.instance)==null||p.registerPartialReferences(t,N),(m=Gr.instance)==null||m.registerCacheReferences(t,U),(_=Wi.instance)==null||_.registerDiagnostics(t,w),(P=oa.instance)==null||P.registerDocumentSessionVariables(t,A)}}Ke.listen();module.exports=LA(cB);0&&(module.exports={getAntlersSettings,globalSettings,requestEdits,sendProjectDetails});
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
