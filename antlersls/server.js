#!/usr/bin/env node
var kC=Object.create;var fu=Object.defineProperty;var MC=Object.getOwnPropertyDescriptor;var FC=Object.getOwnPropertyNames;var VC=Object.getPrototypeOf,qC=Object.prototype.hasOwnProperty;var lg=t=>fu(t,"__esModule",{value:!0});var K=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),BC=(t,e)=>{for(var n in e)fu(t,n,{get:e[n],enumerable:!0})},ug=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of FC(e))!qC.call(t,i)&&(n||i!=="default")&&fu(t,i,{get:()=>e[i],enumerable:!(r=MC(e,i))||r.enumerable});return t},Q=(t,e)=>ug(lg(fu(t!=null?kC(VC(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),jC=(t=>(e,n)=>t&&t.get(e)||(n=ug(lg({}),e,1),t&&t.set(e,n),n))(typeof WeakMap!="undefined"?new WeakMap:0);var fg=K((cg,pu)=>{(function(t){if(typeof pu=="object"&&typeof pu.exports=="object"){var e=t(require,cg);e!==void 0&&(pu.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function l(u,c,f,m){this._uri=u,this._languageId=c,this._version=f,this._content=m,this._lineOffsets=void 0}return Object.defineProperty(l.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),l.prototype.getText=function(u){if(u){var c=this.offsetAt(u.start),f=this.offsetAt(u.end);return this._content.substring(c,f)}return this._content},l.prototype.update=function(u,c){for(var f=0,m=u;f<m.length;f++){var d=m[f];if(l.isIncremental(d)){var p=o(d.range),_=this.offsetAt(p.start),C=this.offsetAt(p.end);this._content=this._content.substring(0,_)+d.text+this._content.substring(C,this._content.length);var h=Math.max(p.start.line,0),b=Math.max(p.end.line,0),g=this._lineOffsets,N=s(d.text,!1,_);if(b-h===N.length)for(var S=0,V=N.length;S<V;S++)g[S+h+1]=N[S];else N.length<1e4?g.splice.apply(g,[h+1,b-h].concat(N)):this._lineOffsets=g=g.slice(0,h+1).concat(N,g.slice(b+1));var O=d.text.length-(C-_);if(O!==0)for(var S=h+1+N.length,V=g.length;S<V;S++)g[S]=g[S]+O}else if(l.isFull(d))this._content=d.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received")}this._version=c},l.prototype.getLineOffsets=function(){return this._lineOffsets===void 0&&(this._lineOffsets=s(this._content,!0)),this._lineOffsets},l.prototype.positionAt=function(u){u=Math.max(Math.min(u,this._content.length),0);var c=this.getLineOffsets(),f=0,m=c.length;if(m===0)return{line:0,character:u};for(;f<m;){var d=Math.floor((f+m)/2);c[d]>u?m=d:f=d+1}var p=f-1;return{line:p,character:u-c[p]}},l.prototype.offsetAt=function(u){var c=this.getLineOffsets();if(u.line>=c.length)return this._content.length;if(u.line<0)return 0;var f=c[u.line],m=u.line+1<c.length?c[u.line+1]:this._content.length;return Math.max(Math.min(f+u.character,m),f)},Object.defineProperty(l.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),l.isIncremental=function(u){var c=u;return c!=null&&typeof c.text=="string"&&c.range!==void 0&&(c.rangeLength===void 0||typeof c.rangeLength=="number")},l.isFull=function(u){var c=u;return c!=null&&typeof c.text=="string"&&c.range===void 0&&c.rangeLength===void 0},l}(),r;(function(l){function u(m,d,p,_){return new n(m,d,p,_)}l.create=u;function c(m,d,p){if(m instanceof n)return m.update(d,p),m;throw new Error("TextDocument.update: document must be created by TextDocument.create")}l.update=c;function f(m,d){for(var p=m.getText(),_=i(d.map(a),function(V,O){var $=V.range.start.line-O.range.start.line;return $===0?V.range.start.character-O.range.start.character:$}),C=0,h=[],b=0,g=_;b<g.length;b++){var N=g[b],S=m.offsetAt(N.range.start);if(S<C)throw new Error("Overlapping edit");S>C&&h.push(p.substring(C,S)),N.newText.length&&h.push(N.newText),C=m.offsetAt(N.range.end)}return h.push(p.substr(C)),h.join("")}l.applyEdits=f})(r=e.TextDocument||(e.TextDocument={}));function i(l,u){if(l.length<=1)return l;var c=l.length/2|0,f=l.slice(0,c),m=l.slice(c);i(f,u),i(m,u);for(var d=0,p=0,_=0;d<f.length&&p<m.length;){var C=u(f[d],m[p]);C<=0?l[_++]=f[d++]:l[_++]=m[p++]}for(;d<f.length;)l[_++]=f[d++];for(;p<m.length;)l[_++]=m[p++];return l}function s(l,u,c){c===void 0&&(c=0);for(var f=u?[c]:[],m=0;m<l.length;m++){var d=l.charCodeAt(m);(d===13||d===10)&&(d===13&&m+1<l.length&&l.charCodeAt(m+1)===10&&m++,f.push(c+m+1))}return f}function o(l){var u=l.start,c=l.end;return u.line>c.line||u.line===c.line&&u.character>c.character?{start:c,end:u}:l}function a(l){var u=o(l.range);return u!==l.range?{newText:l.newText,range:u}:l}})});var du=K(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.thenable=xt.typedArray=xt.stringArray=xt.array=xt.func=xt.error=xt.number=xt.string=xt.boolean=void 0;function UC(t){return t===!0||t===!1}xt.boolean=UC;function pg(t){return typeof t=="string"||t instanceof String}xt.string=pg;function GC(t){return typeof t=="number"||t instanceof Number}xt.number=GC;function WC(t){return t instanceof Error}xt.error=WC;function dg(t){return typeof t=="function"}xt.func=dg;function mg(t){return Array.isArray(t)}xt.array=mg;function HC(t){return mg(t)&&t.every(e=>pg(e))}xt.stringArray=HC;function YC(t,e){return Array.isArray(t)&&t.every(e)}xt.typedArray=YC;function KC(t){return t&&dg(t.then)}xt.thenable=KC});var Ii=K($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});var Yf;function Kf(){if(Yf===void 0)throw new Error("No runtime abstraction layer installed");return Yf}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Yf=n}t.install=e})(Kf||(Kf={}));$f.default=Kf});var zf=K(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.Disposable=void 0;var $C;(function(t){function e(n){return{dispose:n}}t.create=e})($C=Ga.Disposable||(Ga.Disposable={}))});var gg=K(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.AbstractMessageBuffer=void 0;var zC=13,XC=10,QC=`\r
`,hg=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,n=0,r=0,i=0;e:for(;n<this._chunks.length;){let l=this._chunks[n];r=0;t:for(;r<l.length;){switch(l[r]){case zC:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case XC:switch(e){case 1:e=2;break;case 3:e=4,r++;break e;default:e=0}break;default:e=0}r++}i+=l.byteLength,n++}if(e!==4)return;let s=this._read(i+r),o=new Map,a=this.toString(s,"ascii").split(QC);if(a.length<2)return o;for(let l=0;l<a.length-2;l++){let u=a[l],c=u.indexOf(":");if(c===-1)throw new Error("Message header must separate key and value using :");let f=u.substr(0,c),m=u.substr(c+1).trim();o.set(f,m)}return o}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],o=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,o}let n=this.allocNative(e),r=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let o=s.slice(0,e);n.set(o,r),r+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};mu.AbstractMessageBuffer=hg});var Ng=K(Qf=>{"use strict";Object.defineProperty(Qf,"__esModule",{value:!0});var JC=Ii(),_g=require("util"),As=zf(),ZC=gg(),Wa=class extends ZC.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return Wa.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new _g.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};Wa.emptyBuffer=Buffer.allocUnsafe(0);var yg=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),As.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),As.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),As.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),As.Disposable.create(()=>this.stream.off("data",e))}},bg=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),As.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),As.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),As.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,i)=>{let s=o=>{o==null?r():i(o)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},Tg=Object.freeze({messageBuffer:Object.freeze({create:t=>new Wa(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new _g.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new yg(t),asWritableStream:t=>new bg(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){return setTimeout(t,e,...n)},clearTimeout(t){clearTimeout(t)},setImmediate(t,...e){return setImmediate(t,...e)},clearImmediate(t){clearImmediate(t)}})});function Xf(){return Tg}(function(t){function e(){JC.default.install(Tg)}t.install=e})(Xf||(Xf={}));Qf.default=Xf});var Po=K(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.stringArray=fn.array=fn.func=fn.error=fn.number=fn.string=fn.boolean=void 0;function eR(t){return t===!0||t===!1}fn.boolean=eR;function vg(t){return typeof t=="string"||t instanceof String}fn.string=vg;function tR(t){return typeof t=="number"||t instanceof Number}fn.number=tR;function nR(t){return t instanceof Error}fn.error=nR;function rR(t){return typeof t=="function"}fn.func=rR;function Pg(t){return Array.isArray(t)}fn.array=Pg;function iR(t){return Pg(t)&&t.every(e=>vg(e))}fn.stringArray=iR});var Jf=K(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.isResponseMessage=ae.isNotificationMessage=ae.isRequestMessage=ae.NotificationType9=ae.NotificationType8=ae.NotificationType7=ae.NotificationType6=ae.NotificationType5=ae.NotificationType4=ae.NotificationType3=ae.NotificationType2=ae.NotificationType1=ae.NotificationType0=ae.NotificationType=ae.RequestType9=ae.RequestType8=ae.RequestType7=ae.RequestType6=ae.RequestType5=ae.RequestType4=ae.RequestType3=ae.RequestType2=ae.RequestType1=ae.RequestType=ae.RequestType0=ae.AbstractMessageSignature=ae.ParameterStructures=ae.ResponseError=ae.ErrorCodes=void 0;var xs=Po(),Ig;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=t.jsonrpcReservedErrorRangeStart,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=t.jsonrpcReservedErrorRangeEnd})(Ig=ae.ErrorCodes||(ae.ErrorCodes={}));var hu=class extends Error{constructor(e,n,r){super(n);this.code=xs.number(e)?e:Ig.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,hu.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};ae.ResponseError=hu;var tn=class{constructor(e){this.kind=e}static is(e){return e===tn.auto||e===tn.byName||e===tn.byPosition}toString(){return this.kind}};ae.ParameterStructures=tn;tn.auto=new tn("auto");tn.byPosition=new tn("byPosition");tn.byName=new tn("byName");var dt=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return tn.auto}};ae.AbstractMessageSignature=dt;var Sg=class extends dt{constructor(e){super(e,0)}};ae.RequestType0=Sg;var Cg=class extends dt{constructor(e,n=tn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ae.RequestType=Cg;var Rg=class extends dt{constructor(e,n=tn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ae.RequestType1=Rg;var Ag=class extends dt{constructor(e){super(e,2)}};ae.RequestType2=Ag;var xg=class extends dt{constructor(e){super(e,3)}};ae.RequestType3=xg;var Eg=class extends dt{constructor(e){super(e,4)}};ae.RequestType4=Eg;var wg=class extends dt{constructor(e){super(e,5)}};ae.RequestType5=wg;var Og=class extends dt{constructor(e){super(e,6)}};ae.RequestType6=Og;var Lg=class extends dt{constructor(e){super(e,7)}};ae.RequestType7=Lg;var Dg=class extends dt{constructor(e){super(e,8)}};ae.RequestType8=Dg;var kg=class extends dt{constructor(e){super(e,9)}};ae.RequestType9=kg;var Mg=class extends dt{constructor(e,n=tn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ae.NotificationType=Mg;var Fg=class extends dt{constructor(e){super(e,0)}};ae.NotificationType0=Fg;var Vg=class extends dt{constructor(e,n=tn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ae.NotificationType1=Vg;var qg=class extends dt{constructor(e){super(e,2)}};ae.NotificationType2=qg;var Bg=class extends dt{constructor(e){super(e,3)}};ae.NotificationType3=Bg;var jg=class extends dt{constructor(e){super(e,4)}};ae.NotificationType4=jg;var Ug=class extends dt{constructor(e){super(e,5)}};ae.NotificationType5=Ug;var Gg=class extends dt{constructor(e){super(e,6)}};ae.NotificationType6=Gg;var Wg=class extends dt{constructor(e){super(e,7)}};ae.NotificationType7=Wg;var Hg=class extends dt{constructor(e){super(e,8)}};ae.NotificationType8=Hg;var Yg=class extends dt{constructor(e){super(e,9)}};ae.NotificationType9=Yg;function sR(t){let e=t;return e&&xs.string(e.method)&&(xs.string(e.id)||xs.number(e.id))}ae.isRequestMessage=sR;function oR(t){let e=t;return e&&xs.string(e.method)&&t.id===void 0}ae.isNotificationMessage=oR;function aR(t){let e=t;return e&&(e.result!==void 0||!!e.error)&&(xs.string(e.id)||xs.number(e.id)||e.id===null)}ae.isResponseMessage=aR});var Io=K(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.Emitter=Es.Event=void 0;var lR=Ii(),uR;(function(t){let e={dispose(){}};t.None=function(){return e}})(uR=Es.Event||(Es.Event={}));var Kg=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,o=r.length;s<o;s++)try{n.push(r[s].apply(i[s],e))}catch(a){lR.default().console.error(a)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Ha=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new Kg),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:()=>{!this._callbacks||(this._callbacks.remove(e,n),i.dispose=Ha._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Es.Emitter=Ha;Ha._noop=function(){}});var np=K(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.CancellationTokenSource=ws.CancellationToken=void 0;var $g=Ii(),cR=Po(),Zf=Io(),ep;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Zf.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Zf.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||cR.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(ep=ws.CancellationToken||(ws.CancellationToken={}));var fR=Object.freeze(function(t,e){let n=$g.default().timer.setTimeout(t.bind(e),0);return{dispose(){$g.default().timer.clearTimeout(n)}}}),tp=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?fR:(this._emitter||(this._emitter=new Zf.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},zg=class{get token(){return this._token||(this._token=new tp),this._token}cancel(){this._token?this._token.cancel():this._token=ep.Cancelled}dispose(){this._token?this._token instanceof tp&&this._token.dispose():this._token=ep.None}};ws.CancellationTokenSource=zg});var Qg=K(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.ReadableStreamMessageReader=Si.AbstractMessageReader=Si.MessageReader=void 0;var gu=Ii(),So=Po(),rp=Io(),pR;(function(t){function e(n){let r=n;return r&&So.func(r.listen)&&So.func(r.dispose)&&So.func(r.onError)&&So.func(r.onClose)&&So.func(r.onPartialMessage)}t.is=e})(pR=Si.MessageReader||(Si.MessageReader={}));var ip=class{constructor(){this.errorEmitter=new rp.Emitter,this.closeEmitter=new rp.Emitter,this.partialMessageEmitter=new rp.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${So.string(e.message)?e.message:"unknown"}`)}};Si.AbstractMessageReader=ip;var sp;(function(t){function e(n){var r;let i,s,o,a=new Map,l,u=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=(r=n.charset)!==null&&r!==void 0?r:"utf-8",n.contentDecoder!==void 0&&(o=n.contentDecoder,a.set(o.name,o)),n.contentDecoders!==void 0)for(let c of n.contentDecoders)a.set(c.name,c);if(n.contentTypeDecoder!==void 0&&(l=n.contentTypeDecoder,u.set(l.name,l)),n.contentTypeDecoders!==void 0)for(let c of n.contentTypeDecoders)u.set(c.name,c)}return l===void 0&&(l=gu.default().applicationJson.decoder,u.set(l.name,l)),{charset:i,contentDecoder:o,contentDecoders:a,contentTypeDecoder:l,contentTypeDecoders:u}}t.fromOptions=e})(sp||(sp={}));var Xg=class extends ip{constructor(e,n){super();this.readable=e,this.options=sp.fromOptions(n),this.buffer=gu.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let s=i.get("Content-Length");if(!s)throw new Error("Header must provide a Content-Length property.");let o=parseInt(s);if(isNaN(o))throw new Error("Content-Length value must be a number.");this.nextMessageLength=o}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(n):r=Promise.resolve(n),r.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(s=>{this.callback(s)},s=>{this.fireError(s)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(gu.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=gu.default().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Si.ReadableStreamMessageReader=Xg});var Zg=K(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.Semaphore=void 0;var dR=Ii(),Jg=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||dR.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};_u.Semaphore=Jg});var i_=K(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.WriteableStreamMessageWriter=Ci.AbstractMessageWriter=Ci.MessageWriter=void 0;var e_=Ii(),Ya=Po(),mR=Zg(),t_=Io(),hR="Content-Length: ",n_=`\r
`,gR;(function(t){function e(n){let r=n;return r&&Ya.func(r.dispose)&&Ya.func(r.onClose)&&Ya.func(r.onError)&&Ya.func(r.write)}t.is=e})(gR=Ci.MessageWriter||(Ci.MessageWriter={}));var op=class{constructor(){this.errorEmitter=new t_.Emitter,this.closeEmitter=new t_.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Ya.string(e.message)?e.message:"unknown"}`)}};Ci.AbstractMessageWriter=op;var ap;(function(t){function e(n){var r,i;return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:e_.default().applicationJson.encoder}:{charset:(r=n.charset)!==null&&r!==void 0?r:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(i=n.contentTypeEncoder)!==null&&i!==void 0?i:e_.default().applicationJson.encoder}}t.fromOptions=e})(ap||(ap={}));var r_=class extends op{constructor(e,n){super();this.writable=e,this.options=ap.fromOptions(n),this.errorCount=0,this.writeSemaphore=new mR.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(hR,r.byteLength.toString(),n_),i.push(n_),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};Ci.WriteableStreamMessageWriter=r_});var o_=K(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.LRUCache=Ri.LinkedMap=Ri.Touch=void 0;var _n;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(_n=Ri.Touch||(Ri.Touch={}));var lp=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,n=_n.None){let r=this._map.get(e);if(!!r)return n!==_n.None&&this.touch(r,n),r.value}set(e,n,r=_n.None){let i=this._map.get(e);if(i)i.value=n,r!==_n.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case _n.None:this.addItemLast(i);break;case _n.First:this.addItemFirst(i);break;case _n.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(!!n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.key,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}values(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.value,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}entries(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:[r.key,r.value],done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==_n.First&&n!==_n.Last)){if(n===_n.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===_n.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};Ri.LinkedMap=lp;var s_=class extends lp{constructor(e,n=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=_n.AsNew){return super.get(e,n)}peek(e){return super.get(e,_n.None)}set(e,n){return super.set(e,n,_n.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Ri.LRUCache=s_});var p_=K(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.createMessageConnection=ve.ConnectionOptions=ve.CancellationStrategy=ve.CancellationSenderStrategy=ve.CancellationReceiverStrategy=ve.ConnectionStrategy=ve.ConnectionError=ve.ConnectionErrors=ve.LogTraceNotification=ve.SetTraceNotification=ve.TraceFormat=ve.Trace=ve.NullLogger=ve.ProgressType=void 0;var a_=Ii(),Yt=Po(),ye=Jf(),l_=o_(),Ka=Io(),up=np(),$a;(function(t){t.type=new ye.NotificationType("$/cancelRequest")})($a||($a={}));var yu;(function(t){t.type=new ye.NotificationType("$/progress")})(yu||(yu={}));var u_=class{constructor(){}};ve.ProgressType=u_;var cp;(function(t){function e(n){return Yt.func(n)}t.is=e})(cp||(cp={}));ve.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Et;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose"})(Et=ve.Trace||(ve.Trace={}));(function(t){function e(r){if(!Yt.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(Et=ve.Trace||(ve.Trace={}));var Pr;(function(t){t.Text="text",t.JSON="json"})(Pr=ve.TraceFormat||(ve.TraceFormat={}));(function(t){function e(n){return n=n.toLowerCase(),n==="json"?t.JSON:t.Text}t.fromString=e})(Pr=ve.TraceFormat||(ve.TraceFormat={}));var c_;(function(t){t.type=new ye.NotificationType("$/setTrace")})(c_=ve.SetTraceNotification||(ve.SetTraceNotification={}));var fp;(function(t){t.type=new ye.NotificationType("$/logTrace")})(fp=ve.LogTraceNotification||(ve.LogTraceNotification={}));var bu;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(bu=ve.ConnectionErrors||(ve.ConnectionErrors={}));var Os=class extends Error{constructor(e,n){super(n);this.code=e,Object.setPrototypeOf(this,Os.prototype)}};ve.ConnectionError=Os;var f_;(function(t){function e(n){let r=n;return r&&Yt.func(r.cancelUndispatched)}t.is=e})(f_=ve.ConnectionStrategy||(ve.ConnectionStrategy={}));var pp;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new up.CancellationTokenSource}});function e(n){let r=n;return r&&Yt.func(r.createCancellationTokenSource)}t.is=e})(pp=ve.CancellationReceiverStrategy||(ve.CancellationReceiverStrategy={}));var dp;(function(t){t.Message=Object.freeze({sendCancellation(n,r){n.sendNotification($a.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&Yt.func(r.sendCancellation)&&Yt.func(r.cleanup)}t.is=e})(dp=ve.CancellationSenderStrategy||(ve.CancellationSenderStrategy={}));var mp;(function(t){t.Message=Object.freeze({receiver:pp.Message,sender:dp.Message});function e(n){let r=n;return r&&pp.is(r.receiver)&&dp.is(r.sender)}t.is=e})(mp=ve.CancellationStrategy||(ve.CancellationStrategy={}));var _R;(function(t){function e(n){let r=n;return r&&(mp.is(r.cancellationStrategy)||f_.is(r.connectionStrategy))}t.is=e})(_R=ve.ConnectionOptions||(ve.ConnectionOptions={}));var Ir;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(Ir||(Ir={}));function yR(t,e,n,r){let i=n!==void 0?n:ve.NullLogger,s=0,o=0,a=0,l="2.0",u,c=Object.create(null),f,m=Object.create(null),d=new Map,p,_=new l_.LinkedMap,C=Object.create(null),h=Object.create(null),b=Et.Off,g=Pr.Text,N,S=Ir.New,V=new Ka.Emitter,O=new Ka.Emitter,$=new Ka.Emitter,X=new Ka.Emitter,ee=new Ka.Emitter,Y=r&&r.cancellationStrategy?r.cancellationStrategy:mp.Message;function ne(v){if(v===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+v.toString()}function Le(v){return v===null?"res-unknown-"+(++a).toString():"res-"+v.toString()}function de(){return"not-"+(++o).toString()}function Z(v,I){ye.isRequestMessage(I)?v.set(ne(I.id),I):ye.isResponseMessage(I)?v.set(Le(I.id),I):v.set(de(),I)}function Ge(v){}function lt(){return S===Ir.Listening}function Ft(){return S===Ir.Closed}function Ve(){return S===Ir.Disposed}function ut(){(S===Ir.New||S===Ir.Listening)&&(S=Ir.Closed,O.fire(void 0))}function bi(v){V.fire([v,void 0,void 0])}function Yi(v){V.fire(v)}t.onClose(ut),t.onError(bi),e.onClose(ut),e.onError(Yi);function le(){p||_.size===0||(p=a_.default().timer.setImmediate(()=>{p=void 0,ue()}))}function ue(){if(_.size===0)return;let v=_.shift();try{ye.isRequestMessage(v)?se(v):ye.isNotificationMessage(v)?Nt(v):ye.isResponseMessage(v)?Ne(v):Nr(v)}finally{le()}}let me=v=>{try{if(ye.isNotificationMessage(v)&&v.method===$a.type.method){let I=ne(v.params.id),y=_.get(I);if(ye.isRequestMessage(y)){let x=r==null?void 0:r.connectionStrategy,w=x&&x.cancelUndispatched?x.cancelUndispatched(y,Ge):void 0;if(w&&(w.error!==void 0||w.result!==void 0)){_.delete(I),w.id=y.id,ti(w,v.method,Date.now()),e.write(w);return}}}Z(_,v)}finally{le()}};function se(v){if(Ve())return;function I(F,ie,pe){let we={jsonrpc:l,id:v.id};F instanceof ye.ResponseError?we.error=F.toJson():we.result=F===void 0?null:F,ti(we,ie,pe),e.write(we)}function y(F,ie,pe){let we={jsonrpc:l,id:v.id,error:F.toJson()};ti(we,ie,pe),e.write(we)}function x(F,ie,pe){F===void 0&&(F=null);let we={jsonrpc:l,id:v.id,result:F};ti(we,ie,pe),e.write(we)}Rs(v);let w=c[v.method],R,T;w&&(R=w.type,T=w.handler);let L=Date.now();if(T||u){let F=String(v.id),ie=Y.receiver.createCancellationTokenSource(F);h[F]=ie;try{let pe;if(T)if(v.params===void 0){if(R!==void 0&&R.numberOfParams!==0){y(new ye.ResponseError(ye.ErrorCodes.InvalidParams,`Request ${v.method} defines ${R.numberOfParams} params but recevied none.`),v.method,L);return}pe=T(ie.token)}else if(Array.isArray(v.params)){if(R!==void 0&&R.parameterStructures===ye.ParameterStructures.byName){y(new ye.ResponseError(ye.ErrorCodes.InvalidParams,`Request ${v.method} defines parameters by name but received parameters by position`),v.method,L);return}pe=T(...v.params,ie.token)}else{if(R!==void 0&&R.parameterStructures===ye.ParameterStructures.byPosition){y(new ye.ResponseError(ye.ErrorCodes.InvalidParams,`Request ${v.method} defines parameters by position but received parameters by name`),v.method,L);return}pe=T(v.params,ie.token)}else u&&(pe=u(v.method,v.params,ie.token));let we=pe;pe?we.then?we.then(st=>{delete h[F],I(st,v.method,L)},st=>{delete h[F],st instanceof ye.ResponseError?y(st,v.method,L):st&&Yt.string(st.message)?y(new ye.ResponseError(ye.ErrorCodes.InternalError,`Request ${v.method} failed with message: ${st.message}`),v.method,L):y(new ye.ResponseError(ye.ErrorCodes.InternalError,`Request ${v.method} failed unexpectedly without providing any details.`),v.method,L)}):(delete h[F],I(pe,v.method,L)):(delete h[F],x(pe,v.method,L))}catch(pe){delete h[F],pe instanceof ye.ResponseError?I(pe,v.method,L):pe&&Yt.string(pe.message)?y(new ye.ResponseError(ye.ErrorCodes.InternalError,`Request ${v.method} failed with message: ${pe.message}`),v.method,L):y(new ye.ResponseError(ye.ErrorCodes.InternalError,`Request ${v.method} failed unexpectedly without providing any details.`),v.method,L)}}else y(new ye.ResponseError(ye.ErrorCodes.MethodNotFound,`Unhandled method ${v.method}`),v.method,L)}function Ne(v){if(!Ve())if(v.id===null)v.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(v.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let I=String(v.id),y=C[I];if(No(v,y),y){delete C[I];try{if(v.error){let x=v.error;y.reject(new ye.ResponseError(x.code,x.message,x.data))}else if(v.result!==void 0)y.resolve(v.result);else throw new Error("Should never happen.")}catch(x){x.message?i.error(`Response handler '${y.method}' failed with message: ${x.message}`):i.error(`Response handler '${y.method}' failed unexpectedly.`)}}}}function Nt(v){if(Ve())return;let I,y;if(v.method===$a.type.method)y=x=>{let w=x.id,R=h[String(w)];R&&R.cancel()};else{let x=m[v.method];x&&(y=x.handler,I=x.type)}if(y||f)try{To(v),y?v.params===void 0?(I!==void 0&&I.numberOfParams!==0&&I.parameterStructures!==ye.ParameterStructures.byName&&i.error(`Notification ${v.method} defines ${I.numberOfParams} params but recevied none.`),y()):Array.isArray(v.params)?(I!==void 0&&(I.parameterStructures===ye.ParameterStructures.byName&&i.error(`Notification ${v.method} defines parameters by name but received parameters by position`),I.numberOfParams!==v.params.length&&i.error(`Notification ${v.method} defines ${I.numberOfParams} params but received ${v.params.length} argumennts`)),y(...v.params)):(I!==void 0&&I.parameterStructures===ye.ParameterStructures.byPosition&&i.error(`Notification ${v.method} defines parameters by position but received parameters by name`),y(v.params)):f&&f(v.method,v.params)}catch(x){x.message?i.error(`Notification handler '${v.method}' failed with message: ${x.message}`):i.error(`Notification handler '${v.method}' failed unexpectedly.`)}else $.fire(v)}function Nr(v){if(!v){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(v,null,4)}`);let I=v;if(Yt.string(I.id)||Yt.number(I.id)){let y=String(I.id),x=C[y];x&&x.reject(new Error("The received response has neither a result nor an error property."))}}function yo(v){if(!(b===Et.Off||!N))if(g===Pr.Text){let I;b===Et.Verbose&&v.params&&(I=`Params: ${JSON.stringify(v.params,null,4)}

`),N.log(`Sending request '${v.method} - (${v.id})'.`,I)}else qn("send-request",v)}function bo(v){if(!(b===Et.Off||!N))if(g===Pr.Text){let I;b===Et.Verbose&&(v.params?I=`Params: ${JSON.stringify(v.params,null,4)}

`:I=`No parameters provided.

`),N.log(`Sending notification '${v.method}'.`,I)}else qn("send-notification",v)}function ti(v,I,y){if(!(b===Et.Off||!N))if(g===Pr.Text){let x;b===Et.Verbose&&(v.error&&v.error.data?x=`Error data: ${JSON.stringify(v.error.data,null,4)}

`:v.result?x=`Result: ${JSON.stringify(v.result,null,4)}

`:v.error===void 0&&(x=`No result returned.

`)),N.log(`Sending response '${I} - (${v.id})'. Processing request took ${Date.now()-y}ms`,x)}else qn("send-response",v)}function Rs(v){if(!(b===Et.Off||!N))if(g===Pr.Text){let I;b===Et.Verbose&&v.params&&(I=`Params: ${JSON.stringify(v.params,null,4)}

`),N.log(`Received request '${v.method} - (${v.id})'.`,I)}else qn("receive-request",v)}function To(v){if(!(b===Et.Off||!N||v.method===fp.type.method))if(g===Pr.Text){let I;b===Et.Verbose&&(v.params?I=`Params: ${JSON.stringify(v.params,null,4)}

`:I=`No parameters provided.

`),N.log(`Received notification '${v.method}'.`,I)}else qn("receive-notification",v)}function No(v,I){if(!(b===Et.Off||!N))if(g===Pr.Text){let y;if(b===Et.Verbose&&(v.error&&v.error.data?y=`Error data: ${JSON.stringify(v.error.data,null,4)}

`:v.result?y=`Result: ${JSON.stringify(v.result,null,4)}

`:v.error===void 0&&(y=`No result returned.

`)),I){let x=v.error?` Request failed: ${v.error.message} (${v.error.code}).`:"";N.log(`Received response '${I.method} - (${v.id})' in ${Date.now()-I.timerStart}ms.${x}`,y)}else N.log(`Received response ${v.id} without active response promise.`,y)}else qn("receive-response",v)}function qn(v,I){if(!N||b===Et.Off)return;let y={isLSPMessage:!0,type:v,message:I,timestamp:Date.now()};N.log(y)}function St(){if(Ft())throw new Os(bu.Closed,"Connection is closed.");if(Ve())throw new Os(bu.Disposed,"Connection is disposed.")}function Ti(){if(lt())throw new Os(bu.AlreadyListening,"Connection is already listening")}function Ki(){if(!lt())throw new Error("Call listen() first.")}function vr(v){return v===void 0?null:v}function Ni(v){if(v!==null)return v}function vi(v){return v!=null&&!Array.isArray(v)&&typeof v=="object"}function Pi(v,I){switch(v){case ye.ParameterStructures.auto:return vi(I)?Ni(I):[vr(I)];case ye.ParameterStructures.byName:if(!vi(I))throw new Error("Recevied parameters by name but param is not an object literal.");return Ni(I);case ye.ParameterStructures.byPosition:return[vr(I)];default:throw new Error(`Unknown parameter structure ${v.toString()}`)}}function ni(v,I){let y,x=v.numberOfParams;switch(x){case 0:y=void 0;break;case 1:y=Pi(v.parameterStructures,I[0]);break;default:y=[];for(let w=0;w<I.length&&w<x;w++)y.push(vr(I[w]));if(I.length<x)for(let w=I.length;w<x;w++)y.push(null);break}return y}let nr={sendNotification:(v,...I)=>{St();let y,x;if(Yt.string(v)){y=v;let R=I[0],T=0,L=ye.ParameterStructures.auto;ye.ParameterStructures.is(R)&&(T=1,L=R);let F=I.length,ie=F-T;switch(ie){case 0:x=void 0;break;case 1:x=Pi(L,I[T]);break;default:if(L===ye.ParameterStructures.byName)throw new Error(`Recevied ${ie} parameters for 'by Name' notification parameter structure.`);x=I.slice(T,F).map(pe=>vr(pe));break}}else{let R=I;y=v.method,x=ni(v,R)}let w={jsonrpc:l,method:y,params:x};bo(w),e.write(w)},onNotification:(v,I)=>{St();let y;return Yt.func(v)?f=v:I&&(Yt.string(v)?(y=v,m[v]={type:void 0,handler:I}):(y=v.method,m[v.method]={type:v,handler:I})),{dispose:()=>{y!==void 0?delete m[y]:f=void 0}}},onProgress:(v,I,y)=>{if(d.has(I))throw new Error(`Progress handler for token ${I} already registered`);return d.set(I,y),{dispose:()=>{d.delete(I)}}},sendProgress:(v,I,y)=>{nr.sendNotification(yu.type,{token:I,value:y})},onUnhandledProgress:X.event,sendRequest:(v,...I)=>{St(),Ki();let y,x,w;if(Yt.string(v)){y=v;let F=I[0],ie=I[I.length-1],pe=0,we=ye.ParameterStructures.auto;ye.ParameterStructures.is(F)&&(pe=1,we=F);let st=I.length;up.CancellationToken.is(ie)&&(st=st-1,w=ie);let Vt=st-pe;switch(Vt){case 0:x=void 0;break;case 1:x=Pi(we,I[pe]);break;default:if(we===ye.ParameterStructures.byName)throw new Error(`Recevied ${Vt} parameters for 'by Name' request parameter structure.`);x=I.slice(pe,st).map(Ht=>vr(Ht));break}}else{let F=I;y=v.method,x=ni(v,F);let ie=v.numberOfParams;w=up.CancellationToken.is(F[ie])?F[ie]:void 0}let R=s++,T;return w&&(T=w.onCancellationRequested(()=>{Y.sender.sendCancellation(nr,R)})),new Promise((F,ie)=>{let pe={jsonrpc:l,id:R,method:y,params:x},we=Ht=>{F(Ht),Y.sender.cleanup(R),T==null||T.dispose()},st=Ht=>{ie(Ht),Y.sender.cleanup(R),T==null||T.dispose()},Vt={method:y,timerStart:Date.now(),resolve:we,reject:st};yo(pe);try{e.write(pe)}catch(Ht){Vt.reject(new ye.ResponseError(ye.ErrorCodes.MessageWriteError,Ht.message?Ht.message:"Unknown reason")),Vt=null}Vt&&(C[String(R)]=Vt)})},onRequest:(v,I)=>{St();let y=null;return cp.is(v)?(y=void 0,u=v):Yt.string(v)?(y=null,I!==void 0&&(y=v,c[v]={handler:I,type:void 0})):I!==void 0&&(y=v.method,c[v.method]={type:v,handler:I}),{dispose:()=>{y!==null&&(y!==void 0?delete c[y]:u=void 0)}}},trace:(v,I,y)=>{let x=!1,w=Pr.Text;y!==void 0&&(Yt.boolean(y)?x=y:(x=y.sendNotification||!1,w=y.traceFormat||Pr.Text)),b=v,g=w,b===Et.Off?N=void 0:N=I,x&&!Ft()&&!Ve()&&nr.sendNotification(c_.type,{value:Et.toString(v)})},onError:V.event,onClose:O.event,onUnhandledNotification:$.event,onDispose:ee.event,end:()=>{e.end()},dispose:()=>{if(Ve())return;S=Ir.Disposed,ee.fire(void 0);let v=new Error("Connection got disposed.");Object.keys(C).forEach(I=>{C[I].reject(v)}),C=Object.create(null),h=Object.create(null),_=new l_.LinkedMap,Yt.func(e.dispose)&&e.dispose(),Yt.func(t.dispose)&&t.dispose()},listen:()=>{St(),Ti(),S=Ir.Listening,t.listen(me)},inspect:()=>{a_.default().console.log("inspect")}};return nr.onNotification(fp.type,v=>{b===Et.Off||!N||N.log(v.message,b===Et.Verbose?v.verbose:void 0)}),nr.onNotification(yu.type,v=>{let I=d.get(v.token);I?I(v.value):X.fire(v)}),nr}ve.createMessageConnection=yR});var _p=K(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.CancellationSenderStrategy=U.CancellationReceiverStrategy=U.ConnectionError=U.ConnectionErrors=U.LogTraceNotification=U.SetTraceNotification=U.TraceFormat=U.Trace=U.ProgressType=U.createMessageConnection=U.NullLogger=U.ConnectionOptions=U.ConnectionStrategy=U.WriteableStreamMessageWriter=U.AbstractMessageWriter=U.MessageWriter=U.ReadableStreamMessageReader=U.AbstractMessageReader=U.MessageReader=U.CancellationToken=U.CancellationTokenSource=U.Emitter=U.Event=U.Disposable=U.ParameterStructures=U.NotificationType9=U.NotificationType8=U.NotificationType7=U.NotificationType6=U.NotificationType5=U.NotificationType4=U.NotificationType3=U.NotificationType2=U.NotificationType1=U.NotificationType0=U.NotificationType=U.ErrorCodes=U.ResponseError=U.RequestType9=U.RequestType8=U.RequestType7=U.RequestType6=U.RequestType5=U.RequestType4=U.RequestType3=U.RequestType2=U.RequestType1=U.RequestType0=U.RequestType=U.RAL=void 0;U.CancellationStrategy=void 0;var ct=Jf();Object.defineProperty(U,"RequestType",{enumerable:!0,get:function(){return ct.RequestType}});Object.defineProperty(U,"RequestType0",{enumerable:!0,get:function(){return ct.RequestType0}});Object.defineProperty(U,"RequestType1",{enumerable:!0,get:function(){return ct.RequestType1}});Object.defineProperty(U,"RequestType2",{enumerable:!0,get:function(){return ct.RequestType2}});Object.defineProperty(U,"RequestType3",{enumerable:!0,get:function(){return ct.RequestType3}});Object.defineProperty(U,"RequestType4",{enumerable:!0,get:function(){return ct.RequestType4}});Object.defineProperty(U,"RequestType5",{enumerable:!0,get:function(){return ct.RequestType5}});Object.defineProperty(U,"RequestType6",{enumerable:!0,get:function(){return ct.RequestType6}});Object.defineProperty(U,"RequestType7",{enumerable:!0,get:function(){return ct.RequestType7}});Object.defineProperty(U,"RequestType8",{enumerable:!0,get:function(){return ct.RequestType8}});Object.defineProperty(U,"RequestType9",{enumerable:!0,get:function(){return ct.RequestType9}});Object.defineProperty(U,"ResponseError",{enumerable:!0,get:function(){return ct.ResponseError}});Object.defineProperty(U,"ErrorCodes",{enumerable:!0,get:function(){return ct.ErrorCodes}});Object.defineProperty(U,"NotificationType",{enumerable:!0,get:function(){return ct.NotificationType}});Object.defineProperty(U,"NotificationType0",{enumerable:!0,get:function(){return ct.NotificationType0}});Object.defineProperty(U,"NotificationType1",{enumerable:!0,get:function(){return ct.NotificationType1}});Object.defineProperty(U,"NotificationType2",{enumerable:!0,get:function(){return ct.NotificationType2}});Object.defineProperty(U,"NotificationType3",{enumerable:!0,get:function(){return ct.NotificationType3}});Object.defineProperty(U,"NotificationType4",{enumerable:!0,get:function(){return ct.NotificationType4}});Object.defineProperty(U,"NotificationType5",{enumerable:!0,get:function(){return ct.NotificationType5}});Object.defineProperty(U,"NotificationType6",{enumerable:!0,get:function(){return ct.NotificationType6}});Object.defineProperty(U,"NotificationType7",{enumerable:!0,get:function(){return ct.NotificationType7}});Object.defineProperty(U,"NotificationType8",{enumerable:!0,get:function(){return ct.NotificationType8}});Object.defineProperty(U,"NotificationType9",{enumerable:!0,get:function(){return ct.NotificationType9}});Object.defineProperty(U,"ParameterStructures",{enumerable:!0,get:function(){return ct.ParameterStructures}});var bR=zf();Object.defineProperty(U,"Disposable",{enumerable:!0,get:function(){return bR.Disposable}});var d_=Io();Object.defineProperty(U,"Event",{enumerable:!0,get:function(){return d_.Event}});Object.defineProperty(U,"Emitter",{enumerable:!0,get:function(){return d_.Emitter}});var m_=np();Object.defineProperty(U,"CancellationTokenSource",{enumerable:!0,get:function(){return m_.CancellationTokenSource}});Object.defineProperty(U,"CancellationToken",{enumerable:!0,get:function(){return m_.CancellationToken}});var hp=Qg();Object.defineProperty(U,"MessageReader",{enumerable:!0,get:function(){return hp.MessageReader}});Object.defineProperty(U,"AbstractMessageReader",{enumerable:!0,get:function(){return hp.AbstractMessageReader}});Object.defineProperty(U,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return hp.ReadableStreamMessageReader}});var gp=i_();Object.defineProperty(U,"MessageWriter",{enumerable:!0,get:function(){return gp.MessageWriter}});Object.defineProperty(U,"AbstractMessageWriter",{enumerable:!0,get:function(){return gp.AbstractMessageWriter}});Object.defineProperty(U,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return gp.WriteableStreamMessageWriter}});var On=p_();Object.defineProperty(U,"ConnectionStrategy",{enumerable:!0,get:function(){return On.ConnectionStrategy}});Object.defineProperty(U,"ConnectionOptions",{enumerable:!0,get:function(){return On.ConnectionOptions}});Object.defineProperty(U,"NullLogger",{enumerable:!0,get:function(){return On.NullLogger}});Object.defineProperty(U,"createMessageConnection",{enumerable:!0,get:function(){return On.createMessageConnection}});Object.defineProperty(U,"ProgressType",{enumerable:!0,get:function(){return On.ProgressType}});Object.defineProperty(U,"Trace",{enumerable:!0,get:function(){return On.Trace}});Object.defineProperty(U,"TraceFormat",{enumerable:!0,get:function(){return On.TraceFormat}});Object.defineProperty(U,"SetTraceNotification",{enumerable:!0,get:function(){return On.SetTraceNotification}});Object.defineProperty(U,"LogTraceNotification",{enumerable:!0,get:function(){return On.LogTraceNotification}});Object.defineProperty(U,"ConnectionErrors",{enumerable:!0,get:function(){return On.ConnectionErrors}});Object.defineProperty(U,"ConnectionError",{enumerable:!0,get:function(){return On.ConnectionError}});Object.defineProperty(U,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return On.CancellationReceiverStrategy}});Object.defineProperty(U,"CancellationSenderStrategy",{enumerable:!0,get:function(){return On.CancellationSenderStrategy}});Object.defineProperty(U,"CancellationStrategy",{enumerable:!0,get:function(){return On.CancellationStrategy}});var TR=Ii();U.RAL=TR.default});var xo=K($e=>{"use strict";var NR=$e&&$e.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),vR=$e&&$e.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&NR(e,t,n)};Object.defineProperty($e,"__esModule",{value:!0});$e.createMessageConnection=$e.createServerSocketTransport=$e.createClientSocketTransport=$e.createServerPipeTransport=$e.createClientPipeTransport=$e.generateRandomPipeName=$e.StreamMessageWriter=$e.StreamMessageReader=$e.SocketMessageWriter=$e.SocketMessageReader=$e.IPCMessageWriter=$e.IPCMessageReader=void 0;var Co=Ng();Co.default.install();var ri=_p(),h_=require("path"),PR=require("os"),IR=require("crypto"),Tu=require("net");vR(_p(),$e);var g_=class extends ri.AbstractMessageReader{constructor(e){super();this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),ri.Disposable.create(()=>this.process.off("message",e))}};$e.IPCMessageReader=g_;var __=class extends ri.AbstractMessageWriter{constructor(e){super();this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};$e.IPCMessageWriter=__;var Ro=class extends ri.ReadableStreamMessageReader{constructor(e,n="utf-8"){super(Co.default().stream.asReadableStream(e),n)}};$e.SocketMessageReader=Ro;var Ao=class extends ri.WriteableStreamMessageWriter{constructor(e,n){super(Co.default().stream.asWritableStream(e),n);this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};$e.SocketMessageWriter=Ao;var yp=class extends ri.ReadableStreamMessageReader{constructor(e,n){super(Co.default().stream.asReadableStream(e),n)}};$e.StreamMessageReader=yp;var bp=class extends ri.WriteableStreamMessageWriter{constructor(e,n){super(Co.default().stream.asWritableStream(e),n)}};$e.StreamMessageWriter=bp;var y_=process.env.XDG_RUNTIME_DIR,SR=new Map([["linux",107],["darwin",103]]);function CR(){let t=IR.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;y_?e=h_.join(y_,`vscode-ipc-${t}.sock`):e=h_.join(PR.tmpdir(),`vscode-${t}.sock`);let n=SR.get(process.platform);return n!==void 0&&e.length>=n&&Co.default().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}$e.generateRandomPipeName=CR;function RR(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let o=Tu.createServer(a=>{o.close(),n([new Ro(a,e),new Ao(a,e)])});o.on("error",s),o.listen(t,()=>{o.removeListener("error",s),i({onConnected:()=>r})})})}$e.createClientPipeTransport=RR;function AR(t,e="utf-8"){let n=Tu.createConnection(t);return[new Ro(n,e),new Ao(n,e)]}$e.createServerPipeTransport=AR;function xR(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let o=Tu.createServer(a=>{o.close(),n([new Ro(a,e),new Ao(a,e)])});o.on("error",s),o.listen(t,"127.0.0.1",()=>{o.removeListener("error",s),i({onConnected:()=>r})})})}$e.createClientSocketTransport=xR;function ER(t,e="utf-8"){let n=Tu.createConnection(t,"127.0.0.1");return[new Ro(n,e),new Ao(n,e)]}$e.createServerSocketTransport=ER;function wR(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function OR(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function LR(t,e,n,r){n||(n=ri.NullLogger);let i=wR(t)?new yp(t):t,s=OR(e)?new bp(e):e;return ri.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),ri.createMessageConnection(i,s,n,r)}$e.createMessageConnection=LR});var Tp=K((lV,b_)=>{"use strict";b_.exports=xo()});var ot=K((T_,Nu)=>{(function(t){if(typeof Nu=="object"&&typeof Nu.exports=="object"){var e=t(require,T_);e!==void 0&&(Nu.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=void 0;var n;(function(y){y.MIN_VALUE=-2147483648,y.MAX_VALUE=2147483647})(n=e.integer||(e.integer={}));var r;(function(y){y.MIN_VALUE=0,y.MAX_VALUE=2147483647})(r=e.uinteger||(e.uinteger={}));var i;(function(y){function x(R,T){return R===Number.MAX_VALUE&&(R=r.MAX_VALUE),T===Number.MAX_VALUE&&(T=r.MAX_VALUE),{line:R,character:T}}y.create=x;function w(R){var T=R;return I.objectLiteral(T)&&I.uinteger(T.line)&&I.uinteger(T.character)}y.is=w})(i=e.Position||(e.Position={}));var s;(function(y){function x(R,T,L,F){if(I.uinteger(R)&&I.uinteger(T)&&I.uinteger(L)&&I.uinteger(F))return{start:i.create(R,T),end:i.create(L,F)};if(i.is(R)&&i.is(T))return{start:R,end:T};throw new Error("Range#create called with invalid arguments["+R+", "+T+", "+L+", "+F+"]")}y.create=x;function w(R){var T=R;return I.objectLiteral(T)&&i.is(T.start)&&i.is(T.end)}y.is=w})(s=e.Range||(e.Range={}));var o;(function(y){function x(R,T){return{uri:R,range:T}}y.create=x;function w(R){var T=R;return I.defined(T)&&s.is(T.range)&&(I.string(T.uri)||I.undefined(T.uri))}y.is=w})(o=e.Location||(e.Location={}));var a;(function(y){function x(R,T,L,F){return{targetUri:R,targetRange:T,targetSelectionRange:L,originSelectionRange:F}}y.create=x;function w(R){var T=R;return I.defined(T)&&s.is(T.targetRange)&&I.string(T.targetUri)&&(s.is(T.targetSelectionRange)||I.undefined(T.targetSelectionRange))&&(s.is(T.originSelectionRange)||I.undefined(T.originSelectionRange))}y.is=w})(a=e.LocationLink||(e.LocationLink={}));var l;(function(y){function x(R,T,L,F){return{red:R,green:T,blue:L,alpha:F}}y.create=x;function w(R){var T=R;return I.numberRange(T.red,0,1)&&I.numberRange(T.green,0,1)&&I.numberRange(T.blue,0,1)&&I.numberRange(T.alpha,0,1)}y.is=w})(l=e.Color||(e.Color={}));var u;(function(y){function x(R,T){return{range:R,color:T}}y.create=x;function w(R){var T=R;return s.is(T.range)&&l.is(T.color)}y.is=w})(u=e.ColorInformation||(e.ColorInformation={}));var c;(function(y){function x(R,T,L){return{label:R,textEdit:T,additionalTextEdits:L}}y.create=x;function w(R){var T=R;return I.string(T.label)&&(I.undefined(T.textEdit)||g.is(T))&&(I.undefined(T.additionalTextEdits)||I.typedArray(T.additionalTextEdits,g.is))}y.is=w})(c=e.ColorPresentation||(e.ColorPresentation={}));var f;(function(y){y.Comment="comment",y.Imports="imports",y.Region="region"})(f=e.FoldingRangeKind||(e.FoldingRangeKind={}));var m;(function(y){function x(R,T,L,F,ie){var pe={startLine:R,endLine:T};return I.defined(L)&&(pe.startCharacter=L),I.defined(F)&&(pe.endCharacter=F),I.defined(ie)&&(pe.kind=ie),pe}y.create=x;function w(R){var T=R;return I.uinteger(T.startLine)&&I.uinteger(T.startLine)&&(I.undefined(T.startCharacter)||I.uinteger(T.startCharacter))&&(I.undefined(T.endCharacter)||I.uinteger(T.endCharacter))&&(I.undefined(T.kind)||I.string(T.kind))}y.is=w})(m=e.FoldingRange||(e.FoldingRange={}));var d;(function(y){function x(R,T){return{location:R,message:T}}y.create=x;function w(R){var T=R;return I.defined(T)&&o.is(T.location)&&I.string(T.message)}y.is=w})(d=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var p;(function(y){y.Error=1,y.Warning=2,y.Information=3,y.Hint=4})(p=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var _;(function(y){y.Unnecessary=1,y.Deprecated=2})(_=e.DiagnosticTag||(e.DiagnosticTag={}));var C;(function(y){function x(w){var R=w;return R!=null&&I.string(R.href)}y.is=x})(C=e.CodeDescription||(e.CodeDescription={}));var h;(function(y){function x(R,T,L,F,ie,pe){var we={range:R,message:T};return I.defined(L)&&(we.severity=L),I.defined(F)&&(we.code=F),I.defined(ie)&&(we.source=ie),I.defined(pe)&&(we.relatedInformation=pe),we}y.create=x;function w(R){var T,L=R;return I.defined(L)&&s.is(L.range)&&I.string(L.message)&&(I.number(L.severity)||I.undefined(L.severity))&&(I.integer(L.code)||I.string(L.code)||I.undefined(L.code))&&(I.undefined(L.codeDescription)||I.string((T=L.codeDescription)===null||T===void 0?void 0:T.href))&&(I.string(L.source)||I.undefined(L.source))&&(I.undefined(L.relatedInformation)||I.typedArray(L.relatedInformation,d.is))}y.is=w})(h=e.Diagnostic||(e.Diagnostic={}));var b;(function(y){function x(R,T){for(var L=[],F=2;F<arguments.length;F++)L[F-2]=arguments[F];var ie={title:R,command:T};return I.defined(L)&&L.length>0&&(ie.arguments=L),ie}y.create=x;function w(R){var T=R;return I.defined(T)&&I.string(T.title)&&I.string(T.command)}y.is=w})(b=e.Command||(e.Command={}));var g;(function(y){function x(L,F){return{range:L,newText:F}}y.replace=x;function w(L,F){return{range:{start:L,end:L},newText:F}}y.insert=w;function R(L){return{range:L,newText:""}}y.del=R;function T(L){var F=L;return I.objectLiteral(F)&&I.string(F.newText)&&s.is(F.range)}y.is=T})(g=e.TextEdit||(e.TextEdit={}));var N;(function(y){function x(R,T,L){var F={label:R};return T!==void 0&&(F.needsConfirmation=T),L!==void 0&&(F.description=L),F}y.create=x;function w(R){var T=R;return T!==void 0&&I.objectLiteral(T)&&I.string(T.label)&&(I.boolean(T.needsConfirmation)||T.needsConfirmation===void 0)&&(I.string(T.description)||T.description===void 0)}y.is=w})(N=e.ChangeAnnotation||(e.ChangeAnnotation={}));var S;(function(y){function x(w){var R=w;return typeof R=="string"}y.is=x})(S=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var V;(function(y){function x(L,F,ie){return{range:L,newText:F,annotationId:ie}}y.replace=x;function w(L,F,ie){return{range:{start:L,end:L},newText:F,annotationId:ie}}y.insert=w;function R(L,F){return{range:L,newText:"",annotationId:F}}y.del=R;function T(L){var F=L;return g.is(F)&&(N.is(F.annotationId)||S.is(F.annotationId))}y.is=T})(V=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var O;(function(y){function x(R,T){return{textDocument:R,edits:T}}y.create=x;function w(R){var T=R;return I.defined(T)&&lt.is(T.textDocument)&&Array.isArray(T.edits)}y.is=w})(O=e.TextDocumentEdit||(e.TextDocumentEdit={}));var $;(function(y){function x(R,T,L){var F={kind:"create",uri:R};return T!==void 0&&(T.overwrite!==void 0||T.ignoreIfExists!==void 0)&&(F.options=T),L!==void 0&&(F.annotationId=L),F}y.create=x;function w(R){var T=R;return T&&T.kind==="create"&&I.string(T.uri)&&(T.options===void 0||(T.options.overwrite===void 0||I.boolean(T.options.overwrite))&&(T.options.ignoreIfExists===void 0||I.boolean(T.options.ignoreIfExists)))&&(T.annotationId===void 0||S.is(T.annotationId))}y.is=w})($=e.CreateFile||(e.CreateFile={}));var X;(function(y){function x(R,T,L,F){var ie={kind:"rename",oldUri:R,newUri:T};return L!==void 0&&(L.overwrite!==void 0||L.ignoreIfExists!==void 0)&&(ie.options=L),F!==void 0&&(ie.annotationId=F),ie}y.create=x;function w(R){var T=R;return T&&T.kind==="rename"&&I.string(T.oldUri)&&I.string(T.newUri)&&(T.options===void 0||(T.options.overwrite===void 0||I.boolean(T.options.overwrite))&&(T.options.ignoreIfExists===void 0||I.boolean(T.options.ignoreIfExists)))&&(T.annotationId===void 0||S.is(T.annotationId))}y.is=w})(X=e.RenameFile||(e.RenameFile={}));var ee;(function(y){function x(R,T,L){var F={kind:"delete",uri:R};return T!==void 0&&(T.recursive!==void 0||T.ignoreIfNotExists!==void 0)&&(F.options=T),L!==void 0&&(F.annotationId=L),F}y.create=x;function w(R){var T=R;return T&&T.kind==="delete"&&I.string(T.uri)&&(T.options===void 0||(T.options.recursive===void 0||I.boolean(T.options.recursive))&&(T.options.ignoreIfNotExists===void 0||I.boolean(T.options.ignoreIfNotExists)))&&(T.annotationId===void 0||S.is(T.annotationId))}y.is=w})(ee=e.DeleteFile||(e.DeleteFile={}));var Y;(function(y){function x(w){var R=w;return R&&(R.changes!==void 0||R.documentChanges!==void 0)&&(R.documentChanges===void 0||R.documentChanges.every(function(T){return I.string(T.kind)?$.is(T)||X.is(T)||ee.is(T):O.is(T)}))}y.is=x})(Y=e.WorkspaceEdit||(e.WorkspaceEdit={}));var ne=function(){function y(x,w){this.edits=x,this.changeAnnotations=w}return y.prototype.insert=function(x,w,R){var T,L;if(R===void 0?T=g.insert(x,w):S.is(R)?(L=R,T=V.insert(x,w,R)):(this.assertChangeAnnotations(this.changeAnnotations),L=this.changeAnnotations.manage(R),T=V.insert(x,w,L)),this.edits.push(T),L!==void 0)return L},y.prototype.replace=function(x,w,R){var T,L;if(R===void 0?T=g.replace(x,w):S.is(R)?(L=R,T=V.replace(x,w,R)):(this.assertChangeAnnotations(this.changeAnnotations),L=this.changeAnnotations.manage(R),T=V.replace(x,w,L)),this.edits.push(T),L!==void 0)return L},y.prototype.delete=function(x,w){var R,T;if(w===void 0?R=g.del(x):S.is(w)?(T=w,R=V.del(x,w)):(this.assertChangeAnnotations(this.changeAnnotations),T=this.changeAnnotations.manage(w),R=V.del(x,T)),this.edits.push(R),T!==void 0)return T},y.prototype.add=function(x){this.edits.push(x)},y.prototype.all=function(){return this.edits},y.prototype.clear=function(){this.edits.splice(0,this.edits.length)},y.prototype.assertChangeAnnotations=function(x){if(x===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},y}(),Le=function(){function y(x){this._annotations=x===void 0?Object.create(null):x,this._counter=0,this._size=0}return y.prototype.all=function(){return this._annotations},Object.defineProperty(y.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),y.prototype.manage=function(x,w){var R;if(S.is(x)?R=x:(R=this.nextId(),w=x),this._annotations[R]!==void 0)throw new Error("Id "+R+" is already in use.");if(w===void 0)throw new Error("No annotation provided for id "+R);return this._annotations[R]=w,this._size++,R},y.prototype.nextId=function(){return this._counter++,this._counter.toString()},y}(),de=function(){function y(x){var w=this;this._textEditChanges=Object.create(null),x!==void 0?(this._workspaceEdit=x,x.documentChanges?(this._changeAnnotations=new Le(x.changeAnnotations),x.changeAnnotations=this._changeAnnotations.all(),x.documentChanges.forEach(function(R){if(O.is(R)){var T=new ne(R.edits,w._changeAnnotations);w._textEditChanges[R.textDocument.uri]=T}})):x.changes&&Object.keys(x.changes).forEach(function(R){var T=new ne(x.changes[R]);w._textEditChanges[R]=T})):this._workspaceEdit={}}return Object.defineProperty(y.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),y.prototype.getTextEditChange=function(x){if(lt.is(x)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var w={uri:x.uri,version:x.version},R=this._textEditChanges[w.uri];if(!R){var T=[],L={textDocument:w,edits:T};this._workspaceEdit.documentChanges.push(L),R=new ne(T,this._changeAnnotations),this._textEditChanges[w.uri]=R}return R}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var R=this._textEditChanges[x];if(!R){var T=[];this._workspaceEdit.changes[x]=T,R=new ne(T),this._textEditChanges[x]=R}return R}},y.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Le,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},y.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},y.prototype.createFile=function(x,w,R){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var T;N.is(w)||S.is(w)?T=w:R=w;var L,F;if(T===void 0?L=$.create(x,R):(F=S.is(T)?T:this._changeAnnotations.manage(T),L=$.create(x,R,F)),this._workspaceEdit.documentChanges.push(L),F!==void 0)return F},y.prototype.renameFile=function(x,w,R,T){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var L;N.is(R)||S.is(R)?L=R:T=R;var F,ie;if(L===void 0?F=X.create(x,w,T):(ie=S.is(L)?L:this._changeAnnotations.manage(L),F=X.create(x,w,T,ie)),this._workspaceEdit.documentChanges.push(F),ie!==void 0)return ie},y.prototype.deleteFile=function(x,w,R){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var T;N.is(w)||S.is(w)?T=w:R=w;var L,F;if(T===void 0?L=ee.create(x,R):(F=S.is(T)?T:this._changeAnnotations.manage(T),L=ee.create(x,R,F)),this._workspaceEdit.documentChanges.push(L),F!==void 0)return F},y}();e.WorkspaceChange=de;var Z;(function(y){function x(R){return{uri:R}}y.create=x;function w(R){var T=R;return I.defined(T)&&I.string(T.uri)}y.is=w})(Z=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var Ge;(function(y){function x(R,T){return{uri:R,version:T}}y.create=x;function w(R){var T=R;return I.defined(T)&&I.string(T.uri)&&I.integer(T.version)}y.is=w})(Ge=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var lt;(function(y){function x(R,T){return{uri:R,version:T}}y.create=x;function w(R){var T=R;return I.defined(T)&&I.string(T.uri)&&(T.version===null||I.integer(T.version))}y.is=w})(lt=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var Ft;(function(y){function x(R,T,L,F){return{uri:R,languageId:T,version:L,text:F}}y.create=x;function w(R){var T=R;return I.defined(T)&&I.string(T.uri)&&I.string(T.languageId)&&I.integer(T.version)&&I.string(T.text)}y.is=w})(Ft=e.TextDocumentItem||(e.TextDocumentItem={}));var Ve;(function(y){y.PlainText="plaintext",y.Markdown="markdown"})(Ve=e.MarkupKind||(e.MarkupKind={})),function(y){function x(w){var R=w;return R===y.PlainText||R===y.Markdown}y.is=x}(Ve=e.MarkupKind||(e.MarkupKind={}));var ut;(function(y){function x(w){var R=w;return I.objectLiteral(w)&&Ve.is(R.kind)&&I.string(R.value)}y.is=x})(ut=e.MarkupContent||(e.MarkupContent={}));var bi;(function(y){y.Text=1,y.Method=2,y.Function=3,y.Constructor=4,y.Field=5,y.Variable=6,y.Class=7,y.Interface=8,y.Module=9,y.Property=10,y.Unit=11,y.Value=12,y.Enum=13,y.Keyword=14,y.Snippet=15,y.Color=16,y.File=17,y.Reference=18,y.Folder=19,y.EnumMember=20,y.Constant=21,y.Struct=22,y.Event=23,y.Operator=24,y.TypeParameter=25})(bi=e.CompletionItemKind||(e.CompletionItemKind={}));var Yi;(function(y){y.PlainText=1,y.Snippet=2})(Yi=e.InsertTextFormat||(e.InsertTextFormat={}));var le;(function(y){y.Deprecated=1})(le=e.CompletionItemTag||(e.CompletionItemTag={}));var ue;(function(y){function x(R,T,L){return{newText:R,insert:T,replace:L}}y.create=x;function w(R){var T=R;return T&&I.string(T.newText)&&s.is(T.insert)&&s.is(T.replace)}y.is=w})(ue=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var me;(function(y){y.asIs=1,y.adjustIndentation=2})(me=e.InsertTextMode||(e.InsertTextMode={}));var se;(function(y){function x(w){return{label:w}}y.create=x})(se=e.CompletionItem||(e.CompletionItem={}));var Ne;(function(y){function x(w,R){return{items:w||[],isIncomplete:!!R}}y.create=x})(Ne=e.CompletionList||(e.CompletionList={}));var Nt;(function(y){function x(R){return R.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}y.fromPlainText=x;function w(R){var T=R;return I.string(T)||I.objectLiteral(T)&&I.string(T.language)&&I.string(T.value)}y.is=w})(Nt=e.MarkedString||(e.MarkedString={}));var Nr;(function(y){function x(w){var R=w;return!!R&&I.objectLiteral(R)&&(ut.is(R.contents)||Nt.is(R.contents)||I.typedArray(R.contents,Nt.is))&&(w.range===void 0||s.is(w.range))}y.is=x})(Nr=e.Hover||(e.Hover={}));var yo;(function(y){function x(w,R){return R?{label:w,documentation:R}:{label:w}}y.create=x})(yo=e.ParameterInformation||(e.ParameterInformation={}));var bo;(function(y){function x(w,R){for(var T=[],L=2;L<arguments.length;L++)T[L-2]=arguments[L];var F={label:w};return I.defined(R)&&(F.documentation=R),I.defined(T)?F.parameters=T:F.parameters=[],F}y.create=x})(bo=e.SignatureInformation||(e.SignatureInformation={}));var ti;(function(y){y.Text=1,y.Read=2,y.Write=3})(ti=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var Rs;(function(y){function x(w,R){var T={range:w};return I.number(R)&&(T.kind=R),T}y.create=x})(Rs=e.DocumentHighlight||(e.DocumentHighlight={}));var To;(function(y){y.File=1,y.Module=2,y.Namespace=3,y.Package=4,y.Class=5,y.Method=6,y.Property=7,y.Field=8,y.Constructor=9,y.Enum=10,y.Interface=11,y.Function=12,y.Variable=13,y.Constant=14,y.String=15,y.Number=16,y.Boolean=17,y.Array=18,y.Object=19,y.Key=20,y.Null=21,y.EnumMember=22,y.Struct=23,y.Event=24,y.Operator=25,y.TypeParameter=26})(To=e.SymbolKind||(e.SymbolKind={}));var No;(function(y){y.Deprecated=1})(No=e.SymbolTag||(e.SymbolTag={}));var qn;(function(y){function x(w,R,T,L,F){var ie={name:w,kind:R,location:{uri:L,range:T}};return F&&(ie.containerName=F),ie}y.create=x})(qn=e.SymbolInformation||(e.SymbolInformation={}));var St;(function(y){function x(R,T,L,F,ie,pe){var we={name:R,detail:T,kind:L,range:F,selectionRange:ie};return pe!==void 0&&(we.children=pe),we}y.create=x;function w(R){var T=R;return T&&I.string(T.name)&&I.number(T.kind)&&s.is(T.range)&&s.is(T.selectionRange)&&(T.detail===void 0||I.string(T.detail))&&(T.deprecated===void 0||I.boolean(T.deprecated))&&(T.children===void 0||Array.isArray(T.children))&&(T.tags===void 0||Array.isArray(T.tags))}y.is=w})(St=e.DocumentSymbol||(e.DocumentSymbol={}));var Ti;(function(y){y.Empty="",y.QuickFix="quickfix",y.Refactor="refactor",y.RefactorExtract="refactor.extract",y.RefactorInline="refactor.inline",y.RefactorRewrite="refactor.rewrite",y.Source="source",y.SourceOrganizeImports="source.organizeImports",y.SourceFixAll="source.fixAll"})(Ti=e.CodeActionKind||(e.CodeActionKind={}));var Ki;(function(y){function x(R,T){var L={diagnostics:R};return T!=null&&(L.only=T),L}y.create=x;function w(R){var T=R;return I.defined(T)&&I.typedArray(T.diagnostics,h.is)&&(T.only===void 0||I.typedArray(T.only,I.string))}y.is=w})(Ki=e.CodeActionContext||(e.CodeActionContext={}));var vr;(function(y){function x(R,T,L){var F={title:R},ie=!0;return typeof T=="string"?(ie=!1,F.kind=T):b.is(T)?F.command=T:F.edit=T,ie&&L!==void 0&&(F.kind=L),F}y.create=x;function w(R){var T=R;return T&&I.string(T.title)&&(T.diagnostics===void 0||I.typedArray(T.diagnostics,h.is))&&(T.kind===void 0||I.string(T.kind))&&(T.edit!==void 0||T.command!==void 0)&&(T.command===void 0||b.is(T.command))&&(T.isPreferred===void 0||I.boolean(T.isPreferred))&&(T.edit===void 0||Y.is(T.edit))}y.is=w})(vr=e.CodeAction||(e.CodeAction={}));var Ni;(function(y){function x(R,T){var L={range:R};return I.defined(T)&&(L.data=T),L}y.create=x;function w(R){var T=R;return I.defined(T)&&s.is(T.range)&&(I.undefined(T.command)||b.is(T.command))}y.is=w})(Ni=e.CodeLens||(e.CodeLens={}));var vi;(function(y){function x(R,T){return{tabSize:R,insertSpaces:T}}y.create=x;function w(R){var T=R;return I.defined(T)&&I.uinteger(T.tabSize)&&I.boolean(T.insertSpaces)}y.is=w})(vi=e.FormattingOptions||(e.FormattingOptions={}));var Pi;(function(y){function x(R,T,L){return{range:R,target:T,data:L}}y.create=x;function w(R){var T=R;return I.defined(T)&&s.is(T.range)&&(I.undefined(T.target)||I.string(T.target))}y.is=w})(Pi=e.DocumentLink||(e.DocumentLink={}));var ni;(function(y){function x(R,T){return{range:R,parent:T}}y.create=x;function w(R){var T=R;return T!==void 0&&s.is(T.range)&&(T.parent===void 0||y.is(T.parent))}y.is=w})(ni=e.SelectionRange||(e.SelectionRange={})),e.EOL=[`
`,`\r
`,"\r"];var nr;(function(y){function x(L,F,ie,pe){return new v(L,F,ie,pe)}y.create=x;function w(L){var F=L;return!!(I.defined(F)&&I.string(F.uri)&&(I.undefined(F.languageId)||I.string(F.languageId))&&I.uinteger(F.lineCount)&&I.func(F.getText)&&I.func(F.positionAt)&&I.func(F.offsetAt))}y.is=w;function R(L,F){for(var ie=L.getText(),pe=T(F,function(vo,cu){var ag=vo.range.start.line-cu.range.start.line;return ag===0?vo.range.start.character-cu.range.start.character:ag}),we=ie.length,st=pe.length-1;st>=0;st--){var Vt=pe[st],Ht=L.offsetAt(Vt.range.start),qe=L.offsetAt(Vt.range.end);if(qe<=we)ie=ie.substring(0,Ht)+Vt.newText+ie.substring(qe,ie.length);else throw new Error("Overlapping edit");we=Ht}return ie}y.applyEdits=R;function T(L,F){if(L.length<=1)return L;var ie=L.length/2|0,pe=L.slice(0,ie),we=L.slice(ie);T(pe,F),T(we,F);for(var st=0,Vt=0,Ht=0;st<pe.length&&Vt<we.length;){var qe=F(pe[st],we[Vt]);qe<=0?L[Ht++]=pe[st++]:L[Ht++]=we[Vt++]}for(;st<pe.length;)L[Ht++]=pe[st++];for(;Vt<we.length;)L[Ht++]=we[Vt++];return L}})(nr=e.TextDocument||(e.TextDocument={}));var v=function(){function y(x,w,R,T){this._uri=x,this._languageId=w,this._version=R,this._content=T,this._lineOffsets=void 0}return Object.defineProperty(y.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),y.prototype.getText=function(x){if(x){var w=this.offsetAt(x.start),R=this.offsetAt(x.end);return this._content.substring(w,R)}return this._content},y.prototype.update=function(x,w){this._content=x.text,this._version=w,this._lineOffsets=void 0},y.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var x=[],w=this._content,R=!0,T=0;T<w.length;T++){R&&(x.push(T),R=!1);var L=w.charAt(T);R=L==="\r"||L===`
`,L==="\r"&&T+1<w.length&&w.charAt(T+1)===`
`&&T++}R&&w.length>0&&x.push(w.length),this._lineOffsets=x}return this._lineOffsets},y.prototype.positionAt=function(x){x=Math.max(Math.min(x,this._content.length),0);var w=this.getLineOffsets(),R=0,T=w.length;if(T===0)return i.create(0,x);for(;R<T;){var L=Math.floor((R+T)/2);w[L]>x?T=L:R=L+1}var F=R-1;return i.create(F,x-w[F])},y.prototype.offsetAt=function(x){var w=this.getLineOffsets();if(x.line>=w.length)return this._content.length;if(x.line<0)return 0;var R=w[x.line],T=x.line+1<w.length?w[x.line+1]:this._content.length;return Math.max(Math.min(R+x.character,T),R)},Object.defineProperty(y.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),y}(),I;(function(y){var x=Object.prototype.toString;function w(qe){return typeof qe!="undefined"}y.defined=w;function R(qe){return typeof qe=="undefined"}y.undefined=R;function T(qe){return qe===!0||qe===!1}y.boolean=T;function L(qe){return x.call(qe)==="[object String]"}y.string=L;function F(qe){return x.call(qe)==="[object Number]"}y.number=F;function ie(qe,vo,cu){return x.call(qe)==="[object Number]"&&vo<=qe&&qe<=cu}y.numberRange=ie;function pe(qe){return x.call(qe)==="[object Number]"&&-2147483648<=qe&&qe<=2147483647}y.integer=pe;function we(qe){return x.call(qe)==="[object Number]"&&0<=qe&&qe<=2147483647}y.uinteger=we;function st(qe){return x.call(qe)==="[object Function]"}y.func=st;function Vt(qe){return qe!==null&&typeof qe=="object"}y.objectLiteral=Vt;function Ht(qe,vo){return Array.isArray(qe)&&qe.every(vo)}y.typedArray=Ht})(I||(I={}))})});var Kt=K(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.ProtocolNotificationType=rr.ProtocolNotificationType0=rr.ProtocolRequestType=rr.ProtocolRequestType0=rr.RegistrationType=void 0;var Eo=xo(),N_=class{constructor(e){this.method=e}};rr.RegistrationType=N_;var v_=class extends Eo.RequestType0{constructor(e){super(e)}};rr.ProtocolRequestType0=v_;var P_=class extends Eo.RequestType{constructor(e){super(e,Eo.ParameterStructures.byName)}};rr.ProtocolRequestType=P_;var I_=class extends Eo.NotificationType0{constructor(e){super(e)}};rr.ProtocolNotificationType0=I_;var S_=class extends Eo.NotificationType{constructor(e){super(e,Eo.ParameterStructures.byName)}};rr.ProtocolNotificationType=S_});var A_=K(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.objectLiteral=wt.typedArray=wt.stringArray=wt.array=wt.func=wt.error=wt.number=wt.string=wt.boolean=void 0;function DR(t){return t===!0||t===!1}wt.boolean=DR;function C_(t){return typeof t=="string"||t instanceof String}wt.string=C_;function kR(t){return typeof t=="number"||t instanceof Number}wt.number=kR;function MR(t){return t instanceof Error}wt.error=MR;function FR(t){return typeof t=="function"}wt.func=FR;function R_(t){return Array.isArray(t)}wt.array=R_;function VR(t){return R_(t)&&t.every(e=>C_(e))}wt.stringArray=VR;function qR(t,e){return Array.isArray(t)&&t.every(e)}wt.typedArray=qR;function BR(t){return t!==null&&typeof t=="object"}wt.objectLiteral=BR});var x_=K(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});za.ImplementationRequest=void 0;var jR=Kt(),UR;(function(t){t.method="textDocument/implementation",t.type=new jR.ProtocolRequestType(t.method)})(UR=za.ImplementationRequest||(za.ImplementationRequest={}))});var E_=K(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.TypeDefinitionRequest=void 0;var GR=Kt(),WR;(function(t){t.method="textDocument/typeDefinition",t.type=new GR.ProtocolRequestType(t.method)})(WR=Xa.TypeDefinitionRequest||(Xa.TypeDefinitionRequest={}))});var O_=K($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});$i.DidChangeWorkspaceFoldersNotification=$i.WorkspaceFoldersRequest=void 0;var w_=Kt(),HR;(function(t){t.type=new w_.ProtocolRequestType0("workspace/workspaceFolders")})(HR=$i.WorkspaceFoldersRequest||($i.WorkspaceFoldersRequest={}));var YR;(function(t){t.type=new w_.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(YR=$i.DidChangeWorkspaceFoldersNotification||($i.DidChangeWorkspaceFoldersNotification={}))});var L_=K(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.ConfigurationRequest=void 0;var KR=Kt(),$R;(function(t){t.type=new KR.ProtocolRequestType("workspace/configuration")})($R=Qa.ConfigurationRequest||(Qa.ConfigurationRequest={}))});var k_=K(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.ColorPresentationRequest=zi.DocumentColorRequest=void 0;var D_=Kt(),zR;(function(t){t.method="textDocument/documentColor",t.type=new D_.ProtocolRequestType(t.method)})(zR=zi.DocumentColorRequest||(zi.DocumentColorRequest={}));var XR;(function(t){t.type=new D_.ProtocolRequestType("textDocument/colorPresentation")})(XR=zi.ColorPresentationRequest||(zi.ColorPresentationRequest={}))});var Np=K(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.FoldingRangeRequest=Xi.FoldingRangeKind=void 0;var QR=Kt(),JR;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(JR=Xi.FoldingRangeKind||(Xi.FoldingRangeKind={}));var ZR;(function(t){t.method="textDocument/foldingRange",t.type=new QR.ProtocolRequestType(t.method)})(ZR=Xi.FoldingRangeRequest||(Xi.FoldingRangeRequest={}))});var M_=K(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});Ja.DeclarationRequest=void 0;var eA=Kt(),tA;(function(t){t.method="textDocument/declaration",t.type=new eA.ProtocolRequestType(t.method)})(tA=Ja.DeclarationRequest||(Ja.DeclarationRequest={}))});var F_=K(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.SelectionRangeRequest=void 0;var nA=Kt(),rA;(function(t){t.method="textDocument/selectionRange",t.type=new nA.ProtocolRequestType(t.method)})(rA=Za.SelectionRangeRequest||(Za.SelectionRangeRequest={}))});var q_=K(Sr=>{"use strict";Object.defineProperty(Sr,"__esModule",{value:!0});Sr.WorkDoneProgressCancelNotification=Sr.WorkDoneProgressCreateRequest=Sr.WorkDoneProgress=void 0;var iA=xo(),V_=Kt(),sA;(function(t){t.type=new iA.ProgressType;function e(n){return n===t.type}t.is=e})(sA=Sr.WorkDoneProgress||(Sr.WorkDoneProgress={}));var oA;(function(t){t.type=new V_.ProtocolRequestType("window/workDoneProgress/create")})(oA=Sr.WorkDoneProgressCreateRequest||(Sr.WorkDoneProgressCreateRequest={}));var aA;(function(t){t.type=new V_.ProtocolNotificationType("window/workDoneProgress/cancel")})(aA=Sr.WorkDoneProgressCancelNotification||(Sr.WorkDoneProgressCancelNotification={}))});var B_=K(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.CallHierarchyOutgoingCallsRequest=Cr.CallHierarchyIncomingCallsRequest=Cr.CallHierarchyPrepareRequest=void 0;var vp=Kt(),lA;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new vp.ProtocolRequestType(t.method)})(lA=Cr.CallHierarchyPrepareRequest||(Cr.CallHierarchyPrepareRequest={}));var uA;(function(t){t.method="callHierarchy/incomingCalls",t.type=new vp.ProtocolRequestType(t.method)})(uA=Cr.CallHierarchyIncomingCallsRequest||(Cr.CallHierarchyIncomingCallsRequest={}));var cA;(function(t){t.method="callHierarchy/outgoingCalls",t.type=new vp.ProtocolRequestType(t.method)})(cA=Cr.CallHierarchyOutgoingCallsRequest||(Cr.CallHierarchyOutgoingCallsRequest={}))});var j_=K(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.SemanticTokensRefreshRequest=Je.SemanticTokensRangeRequest=Je.SemanticTokensDeltaRequest=Je.SemanticTokensRequest=Je.SemanticTokensRegistrationType=Je.TokenFormat=Je.SemanticTokens=Je.SemanticTokenModifiers=Je.SemanticTokenTypes=void 0;var el=Kt(),fA;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator"})(fA=Je.SemanticTokenTypes||(Je.SemanticTokenTypes={}));var pA;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(pA=Je.SemanticTokenModifiers||(Je.SemanticTokenModifiers={}));var dA;(function(t){function e(n){let r=n;return r!==void 0&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(dA=Je.SemanticTokens||(Je.SemanticTokens={}));var mA;(function(t){t.Relative="relative"})(mA=Je.TokenFormat||(Je.TokenFormat={}));var hA;(function(t){t.method="textDocument/semanticTokens",t.type=new el.RegistrationType(t.method)})(hA=Je.SemanticTokensRegistrationType||(Je.SemanticTokensRegistrationType={}));var gA;(function(t){t.method="textDocument/semanticTokens/full",t.type=new el.ProtocolRequestType(t.method)})(gA=Je.SemanticTokensRequest||(Je.SemanticTokensRequest={}));var _A;(function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new el.ProtocolRequestType(t.method)})(_A=Je.SemanticTokensDeltaRequest||(Je.SemanticTokensDeltaRequest={}));var yA;(function(t){t.method="textDocument/semanticTokens/range",t.type=new el.ProtocolRequestType(t.method)})(yA=Je.SemanticTokensRangeRequest||(Je.SemanticTokensRangeRequest={}));var bA;(function(t){t.method="workspace/semanticTokens/refresh",t.type=new el.ProtocolRequestType0(t.method)})(bA=Je.SemanticTokensRefreshRequest||(Je.SemanticTokensRefreshRequest={}))});var U_=K(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.ShowDocumentRequest=void 0;var TA=Kt(),NA;(function(t){t.method="window/showDocument",t.type=new TA.ProtocolRequestType(t.method)})(NA=tl.ShowDocumentRequest||(tl.ShowDocumentRequest={}))});var G_=K(nl=>{"use strict";Object.defineProperty(nl,"__esModule",{value:!0});nl.LinkedEditingRangeRequest=void 0;var vA=Kt(),PA;(function(t){t.method="textDocument/linkedEditingRange",t.type=new vA.ProtocolRequestType(t.method)})(PA=nl.LinkedEditingRangeRequest||(nl.LinkedEditingRangeRequest={}))});var W_=K(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.WillDeleteFilesRequest=yt.DidDeleteFilesNotification=yt.DidRenameFilesNotification=yt.WillRenameFilesRequest=yt.DidCreateFilesNotification=yt.WillCreateFilesRequest=yt.FileOperationPatternKind=void 0;var wo=Kt(),IA;(function(t){t.file="file",t.folder="folder"})(IA=yt.FileOperationPatternKind||(yt.FileOperationPatternKind={}));var SA;(function(t){t.method="workspace/willCreateFiles",t.type=new wo.ProtocolRequestType(t.method)})(SA=yt.WillCreateFilesRequest||(yt.WillCreateFilesRequest={}));var CA;(function(t){t.method="workspace/didCreateFiles",t.type=new wo.ProtocolNotificationType(t.method)})(CA=yt.DidCreateFilesNotification||(yt.DidCreateFilesNotification={}));var RA;(function(t){t.method="workspace/willRenameFiles",t.type=new wo.ProtocolRequestType(t.method)})(RA=yt.WillRenameFilesRequest||(yt.WillRenameFilesRequest={}));var AA;(function(t){t.method="workspace/didRenameFiles",t.type=new wo.ProtocolNotificationType(t.method)})(AA=yt.DidRenameFilesNotification||(yt.DidRenameFilesNotification={}));var xA;(function(t){t.method="workspace/didDeleteFiles",t.type=new wo.ProtocolNotificationType(t.method)})(xA=yt.DidDeleteFilesNotification||(yt.DidDeleteFilesNotification={}));var EA;(function(t){t.method="workspace/willDeleteFiles",t.type=new wo.ProtocolRequestType(t.method)})(EA=yt.WillDeleteFilesRequest||(yt.WillDeleteFilesRequest={}))});var H_=K(Rr=>{"use strict";Object.defineProperty(Rr,"__esModule",{value:!0});Rr.MonikerRequest=Rr.MonikerKind=Rr.UniquenessLevel=void 0;var wA=Kt(),OA;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(OA=Rr.UniquenessLevel||(Rr.UniquenessLevel={}));var LA;(function(t){t.import="import",t.export="export",t.local="local"})(LA=Rr.MonikerKind||(Rr.MonikerKind={}));var DA;(function(t){t.method="textDocument/moniker",t.type=new wA.ProtocolRequestType(t.method)})(DA=Rr.MonikerRequest||(Rr.MonikerRequest={}))});var X_=K(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.DocumentLinkRequest=A.CodeLensRefreshRequest=A.CodeLensResolveRequest=A.CodeLensRequest=A.WorkspaceSymbolRequest=A.CodeActionResolveRequest=A.CodeActionRequest=A.DocumentSymbolRequest=A.DocumentHighlightRequest=A.ReferencesRequest=A.DefinitionRequest=A.SignatureHelpRequest=A.SignatureHelpTriggerKind=A.HoverRequest=A.CompletionResolveRequest=A.CompletionRequest=A.CompletionTriggerKind=A.PublishDiagnosticsNotification=A.WatchKind=A.FileChangeType=A.DidChangeWatchedFilesNotification=A.WillSaveTextDocumentWaitUntilRequest=A.WillSaveTextDocumentNotification=A.TextDocumentSaveReason=A.DidSaveTextDocumentNotification=A.DidCloseTextDocumentNotification=A.DidChangeTextDocumentNotification=A.TextDocumentContentChangeEvent=A.DidOpenTextDocumentNotification=A.TextDocumentSyncKind=A.TelemetryEventNotification=A.LogMessageNotification=A.ShowMessageRequest=A.ShowMessageNotification=A.MessageType=A.DidChangeConfigurationNotification=A.ExitNotification=A.ShutdownRequest=A.InitializedNotification=A.InitializeError=A.InitializeRequest=A.WorkDoneProgressOptions=A.TextDocumentRegistrationOptions=A.StaticRegistrationOptions=A.FailureHandlingKind=A.ResourceOperationKind=A.UnregistrationRequest=A.RegistrationRequest=A.DocumentSelector=A.DocumentFilter=void 0;A.MonikerRequest=A.MonikerKind=A.UniquenessLevel=A.WillDeleteFilesRequest=A.DidDeleteFilesNotification=A.WillRenameFilesRequest=A.DidRenameFilesNotification=A.WillCreateFilesRequest=A.DidCreateFilesNotification=A.FileOperationPatternKind=A.LinkedEditingRangeRequest=A.ShowDocumentRequest=A.SemanticTokensRegistrationType=A.SemanticTokensRefreshRequest=A.SemanticTokensRangeRequest=A.SemanticTokensDeltaRequest=A.SemanticTokensRequest=A.TokenFormat=A.SemanticTokens=A.SemanticTokenModifiers=A.SemanticTokenTypes=A.CallHierarchyPrepareRequest=A.CallHierarchyOutgoingCallsRequest=A.CallHierarchyIncomingCallsRequest=A.WorkDoneProgressCancelNotification=A.WorkDoneProgressCreateRequest=A.WorkDoneProgress=A.SelectionRangeRequest=A.DeclarationRequest=A.FoldingRangeRequest=A.ColorPresentationRequest=A.DocumentColorRequest=A.ConfigurationRequest=A.DidChangeWorkspaceFoldersNotification=A.WorkspaceFoldersRequest=A.TypeDefinitionRequest=A.ImplementationRequest=A.ApplyWorkspaceEditRequest=A.ExecuteCommandRequest=A.PrepareRenameRequest=A.RenameRequest=A.PrepareSupportDefaultBehavior=A.DocumentOnTypeFormattingRequest=A.DocumentRangeFormattingRequest=A.DocumentFormattingRequest=A.DocumentLinkResolveRequest=void 0;var Qi=A_(),Re=Kt(),kA=x_();Object.defineProperty(A,"ImplementationRequest",{enumerable:!0,get:function(){return kA.ImplementationRequest}});var MA=E_();Object.defineProperty(A,"TypeDefinitionRequest",{enumerable:!0,get:function(){return MA.TypeDefinitionRequest}});var Y_=O_();Object.defineProperty(A,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return Y_.WorkspaceFoldersRequest}});Object.defineProperty(A,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return Y_.DidChangeWorkspaceFoldersNotification}});var FA=L_();Object.defineProperty(A,"ConfigurationRequest",{enumerable:!0,get:function(){return FA.ConfigurationRequest}});var K_=k_();Object.defineProperty(A,"DocumentColorRequest",{enumerable:!0,get:function(){return K_.DocumentColorRequest}});Object.defineProperty(A,"ColorPresentationRequest",{enumerable:!0,get:function(){return K_.ColorPresentationRequest}});var VA=Np();Object.defineProperty(A,"FoldingRangeRequest",{enumerable:!0,get:function(){return VA.FoldingRangeRequest}});var qA=M_();Object.defineProperty(A,"DeclarationRequest",{enumerable:!0,get:function(){return qA.DeclarationRequest}});var BA=F_();Object.defineProperty(A,"SelectionRangeRequest",{enumerable:!0,get:function(){return BA.SelectionRangeRequest}});var Pp=q_();Object.defineProperty(A,"WorkDoneProgress",{enumerable:!0,get:function(){return Pp.WorkDoneProgress}});Object.defineProperty(A,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Pp.WorkDoneProgressCreateRequest}});Object.defineProperty(A,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Pp.WorkDoneProgressCancelNotification}});var Ip=B_();Object.defineProperty(A,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Ip.CallHierarchyIncomingCallsRequest}});Object.defineProperty(A,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Ip.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(A,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Ip.CallHierarchyPrepareRequest}});var Ai=j_();Object.defineProperty(A,"SemanticTokenTypes",{enumerable:!0,get:function(){return Ai.SemanticTokenTypes}});Object.defineProperty(A,"SemanticTokenModifiers",{enumerable:!0,get:function(){return Ai.SemanticTokenModifiers}});Object.defineProperty(A,"SemanticTokens",{enumerable:!0,get:function(){return Ai.SemanticTokens}});Object.defineProperty(A,"TokenFormat",{enumerable:!0,get:function(){return Ai.TokenFormat}});Object.defineProperty(A,"SemanticTokensRequest",{enumerable:!0,get:function(){return Ai.SemanticTokensRequest}});Object.defineProperty(A,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Ai.SemanticTokensDeltaRequest}});Object.defineProperty(A,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Ai.SemanticTokensRangeRequest}});Object.defineProperty(A,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Ai.SemanticTokensRefreshRequest}});Object.defineProperty(A,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Ai.SemanticTokensRegistrationType}});var jA=U_();Object.defineProperty(A,"ShowDocumentRequest",{enumerable:!0,get:function(){return jA.ShowDocumentRequest}});var UA=G_();Object.defineProperty(A,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return UA.LinkedEditingRangeRequest}});var Ls=W_();Object.defineProperty(A,"FileOperationPatternKind",{enumerable:!0,get:function(){return Ls.FileOperationPatternKind}});Object.defineProperty(A,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Ls.DidCreateFilesNotification}});Object.defineProperty(A,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Ls.WillCreateFilesRequest}});Object.defineProperty(A,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Ls.DidRenameFilesNotification}});Object.defineProperty(A,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Ls.WillRenameFilesRequest}});Object.defineProperty(A,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Ls.DidDeleteFilesNotification}});Object.defineProperty(A,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Ls.WillDeleteFilesRequest}});var Sp=H_();Object.defineProperty(A,"UniquenessLevel",{enumerable:!0,get:function(){return Sp.UniquenessLevel}});Object.defineProperty(A,"MonikerKind",{enumerable:!0,get:function(){return Sp.MonikerKind}});Object.defineProperty(A,"MonikerRequest",{enumerable:!0,get:function(){return Sp.MonikerRequest}});var $_;(function(t){function e(n){let r=n;return Qi.string(r.language)||Qi.string(r.scheme)||Qi.string(r.pattern)}t.is=e})($_=A.DocumentFilter||(A.DocumentFilter={}));var z_;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!Qi.string(r)&&!$_.is(r))return!1;return!0}t.is=e})(z_=A.DocumentSelector||(A.DocumentSelector={}));var GA;(function(t){t.type=new Re.ProtocolRequestType("client/registerCapability")})(GA=A.RegistrationRequest||(A.RegistrationRequest={}));var WA;(function(t){t.type=new Re.ProtocolRequestType("client/unregisterCapability")})(WA=A.UnregistrationRequest||(A.UnregistrationRequest={}));var HA;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(HA=A.ResourceOperationKind||(A.ResourceOperationKind={}));var YA;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(YA=A.FailureHandlingKind||(A.FailureHandlingKind={}));var KA;(function(t){function e(n){let r=n;return r&&Qi.string(r.id)&&r.id.length>0}t.hasId=e})(KA=A.StaticRegistrationOptions||(A.StaticRegistrationOptions={}));var $A;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||z_.is(r.documentSelector))}t.is=e})($A=A.TextDocumentRegistrationOptions||(A.TextDocumentRegistrationOptions={}));var zA;(function(t){function e(r){let i=r;return Qi.objectLiteral(i)&&(i.workDoneProgress===void 0||Qi.boolean(i.workDoneProgress))}t.is=e;function n(r){let i=r;return i&&Qi.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=n})(zA=A.WorkDoneProgressOptions||(A.WorkDoneProgressOptions={}));var XA;(function(t){t.type=new Re.ProtocolRequestType("initialize")})(XA=A.InitializeRequest||(A.InitializeRequest={}));var QA;(function(t){t.unknownProtocolVersion=1})(QA=A.InitializeError||(A.InitializeError={}));var JA;(function(t){t.type=new Re.ProtocolNotificationType("initialized")})(JA=A.InitializedNotification||(A.InitializedNotification={}));var ZA;(function(t){t.type=new Re.ProtocolRequestType0("shutdown")})(ZA=A.ShutdownRequest||(A.ShutdownRequest={}));var ex;(function(t){t.type=new Re.ProtocolNotificationType0("exit")})(ex=A.ExitNotification||(A.ExitNotification={}));var tx;(function(t){t.type=new Re.ProtocolNotificationType("workspace/didChangeConfiguration")})(tx=A.DidChangeConfigurationNotification||(A.DidChangeConfigurationNotification={}));var nx;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(nx=A.MessageType||(A.MessageType={}));var rx;(function(t){t.type=new Re.ProtocolNotificationType("window/showMessage")})(rx=A.ShowMessageNotification||(A.ShowMessageNotification={}));var ix;(function(t){t.type=new Re.ProtocolRequestType("window/showMessageRequest")})(ix=A.ShowMessageRequest||(A.ShowMessageRequest={}));var sx;(function(t){t.type=new Re.ProtocolNotificationType("window/logMessage")})(sx=A.LogMessageNotification||(A.LogMessageNotification={}));var ox;(function(t){t.type=new Re.ProtocolNotificationType("telemetry/event")})(ox=A.TelemetryEventNotification||(A.TelemetryEventNotification={}));var ax;(function(t){t.None=0,t.Full=1,t.Incremental=2})(ax=A.TextDocumentSyncKind||(A.TextDocumentSyncKind={}));var lx;(function(t){t.method="textDocument/didOpen",t.type=new Re.ProtocolNotificationType(t.method)})(lx=A.DidOpenTextDocumentNotification||(A.DidOpenTextDocumentNotification={}));var ux;(function(t){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=n})(ux=A.TextDocumentContentChangeEvent||(A.TextDocumentContentChangeEvent={}));var cx;(function(t){t.method="textDocument/didChange",t.type=new Re.ProtocolNotificationType(t.method)})(cx=A.DidChangeTextDocumentNotification||(A.DidChangeTextDocumentNotification={}));var fx;(function(t){t.method="textDocument/didClose",t.type=new Re.ProtocolNotificationType(t.method)})(fx=A.DidCloseTextDocumentNotification||(A.DidCloseTextDocumentNotification={}));var px;(function(t){t.method="textDocument/didSave",t.type=new Re.ProtocolNotificationType(t.method)})(px=A.DidSaveTextDocumentNotification||(A.DidSaveTextDocumentNotification={}));var dx;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(dx=A.TextDocumentSaveReason||(A.TextDocumentSaveReason={}));var mx;(function(t){t.method="textDocument/willSave",t.type=new Re.ProtocolNotificationType(t.method)})(mx=A.WillSaveTextDocumentNotification||(A.WillSaveTextDocumentNotification={}));var hx;(function(t){t.method="textDocument/willSaveWaitUntil",t.type=new Re.ProtocolRequestType(t.method)})(hx=A.WillSaveTextDocumentWaitUntilRequest||(A.WillSaveTextDocumentWaitUntilRequest={}));var gx;(function(t){t.type=new Re.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(gx=A.DidChangeWatchedFilesNotification||(A.DidChangeWatchedFilesNotification={}));var _x;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(_x=A.FileChangeType||(A.FileChangeType={}));var yx;(function(t){t.Create=1,t.Change=2,t.Delete=4})(yx=A.WatchKind||(A.WatchKind={}));var bx;(function(t){t.type=new Re.ProtocolNotificationType("textDocument/publishDiagnostics")})(bx=A.PublishDiagnosticsNotification||(A.PublishDiagnosticsNotification={}));var Tx;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(Tx=A.CompletionTriggerKind||(A.CompletionTriggerKind={}));var Nx;(function(t){t.method="textDocument/completion",t.type=new Re.ProtocolRequestType(t.method)})(Nx=A.CompletionRequest||(A.CompletionRequest={}));var vx;(function(t){t.method="completionItem/resolve",t.type=new Re.ProtocolRequestType(t.method)})(vx=A.CompletionResolveRequest||(A.CompletionResolveRequest={}));var Px;(function(t){t.method="textDocument/hover",t.type=new Re.ProtocolRequestType(t.method)})(Px=A.HoverRequest||(A.HoverRequest={}));var Ix;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(Ix=A.SignatureHelpTriggerKind||(A.SignatureHelpTriggerKind={}));var Sx;(function(t){t.method="textDocument/signatureHelp",t.type=new Re.ProtocolRequestType(t.method)})(Sx=A.SignatureHelpRequest||(A.SignatureHelpRequest={}));var Cx;(function(t){t.method="textDocument/definition",t.type=new Re.ProtocolRequestType(t.method)})(Cx=A.DefinitionRequest||(A.DefinitionRequest={}));var Rx;(function(t){t.method="textDocument/references",t.type=new Re.ProtocolRequestType(t.method)})(Rx=A.ReferencesRequest||(A.ReferencesRequest={}));var Ax;(function(t){t.method="textDocument/documentHighlight",t.type=new Re.ProtocolRequestType(t.method)})(Ax=A.DocumentHighlightRequest||(A.DocumentHighlightRequest={}));var xx;(function(t){t.method="textDocument/documentSymbol",t.type=new Re.ProtocolRequestType(t.method)})(xx=A.DocumentSymbolRequest||(A.DocumentSymbolRequest={}));var Ex;(function(t){t.method="textDocument/codeAction",t.type=new Re.ProtocolRequestType(t.method)})(Ex=A.CodeActionRequest||(A.CodeActionRequest={}));var wx;(function(t){t.method="codeAction/resolve",t.type=new Re.ProtocolRequestType(t.method)})(wx=A.CodeActionResolveRequest||(A.CodeActionResolveRequest={}));var Ox;(function(t){t.method="workspace/symbol",t.type=new Re.ProtocolRequestType(t.method)})(Ox=A.WorkspaceSymbolRequest||(A.WorkspaceSymbolRequest={}));var Lx;(function(t){t.method="textDocument/codeLens",t.type=new Re.ProtocolRequestType(t.method)})(Lx=A.CodeLensRequest||(A.CodeLensRequest={}));var Dx;(function(t){t.method="codeLens/resolve",t.type=new Re.ProtocolRequestType(t.method)})(Dx=A.CodeLensResolveRequest||(A.CodeLensResolveRequest={}));var kx;(function(t){t.method="workspace/codeLens/refresh",t.type=new Re.ProtocolRequestType0(t.method)})(kx=A.CodeLensRefreshRequest||(A.CodeLensRefreshRequest={}));var Mx;(function(t){t.method="textDocument/documentLink",t.type=new Re.ProtocolRequestType(t.method)})(Mx=A.DocumentLinkRequest||(A.DocumentLinkRequest={}));var Fx;(function(t){t.method="documentLink/resolve",t.type=new Re.ProtocolRequestType(t.method)})(Fx=A.DocumentLinkResolveRequest||(A.DocumentLinkResolveRequest={}));var Vx;(function(t){t.method="textDocument/formatting",t.type=new Re.ProtocolRequestType(t.method)})(Vx=A.DocumentFormattingRequest||(A.DocumentFormattingRequest={}));var qx;(function(t){t.method="textDocument/rangeFormatting",t.type=new Re.ProtocolRequestType(t.method)})(qx=A.DocumentRangeFormattingRequest||(A.DocumentRangeFormattingRequest={}));var Bx;(function(t){t.method="textDocument/onTypeFormatting",t.type=new Re.ProtocolRequestType(t.method)})(Bx=A.DocumentOnTypeFormattingRequest||(A.DocumentOnTypeFormattingRequest={}));var jx;(function(t){t.Identifier=1})(jx=A.PrepareSupportDefaultBehavior||(A.PrepareSupportDefaultBehavior={}));var Ux;(function(t){t.method="textDocument/rename",t.type=new Re.ProtocolRequestType(t.method)})(Ux=A.RenameRequest||(A.RenameRequest={}));var Gx;(function(t){t.method="textDocument/prepareRename",t.type=new Re.ProtocolRequestType(t.method)})(Gx=A.PrepareRenameRequest||(A.PrepareRenameRequest={}));var Wx;(function(t){t.type=new Re.ProtocolRequestType("workspace/executeCommand")})(Wx=A.ExecuteCommandRequest||(A.ExecuteCommandRequest={}));var Hx;(function(t){t.type=new Re.ProtocolRequestType("workspace/applyEdit")})(Hx=A.ApplyWorkspaceEditRequest||(A.ApplyWorkspaceEditRequest={}))});var J_=K(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.createProtocolConnection=void 0;var Q_=xo();function Yx(t,e,n,r){return Q_.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),Q_.createMessageConnection(t,e,n,r)}vu.createProtocolConnection=Yx});var Z_=K(yn=>{"use strict";var Kx=yn&&yn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Pu=yn&&yn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Kx(e,t,n)};Object.defineProperty(yn,"__esModule",{value:!0});yn.LSPErrorCodes=yn.createProtocolConnection=void 0;Pu(xo(),yn);Pu(ot(),yn);Pu(Kt(),yn);Pu(X_(),yn);var $x=J_();Object.defineProperty(yn,"createProtocolConnection",{enumerable:!0,get:function(){return $x.createProtocolConnection}});var zx;(function(t){t.lspReservedErrorRangeStart=-32899,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(zx=yn.LSPErrorCodes||(yn.LSPErrorCodes={}))});var pn=K(ii=>{"use strict";var Xx=ii&&ii.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),ey=ii&&ii.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Xx(e,t,n)};Object.defineProperty(ii,"__esModule",{value:!0});ii.createProtocolConnection=void 0;var Qx=Tp();ey(Tp(),ii);ey(Z_(),ii);function Jx(t,e,n,r){return Qx.createMessageConnection(t,e,n,r)}ii.createProtocolConnection=Jx});var Cp=K(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.generateUuid=ir.parse=ir.isUUID=ir.v4=ir.empty=void 0;var Iu=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Oe=class extends Iu{constructor(){super([Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),"-",Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),"-","4",Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),"-",Oe._oneOf(Oe._timeHighBits),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),"-",Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex(),Oe._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return Oe._oneOf(Oe._chars)}};Oe._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Oe._timeHighBits=["8","9","a","b"];ir.empty=new Iu("00000000-0000-0000-0000-000000000000");function ty(){return new Oe}ir.v4=ty;var Zx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function ny(t){return Zx.test(t)}ir.isUUID=ny;function e0(t){if(!ny(t))throw new Error("invalid uuid");return new Iu(t)}ir.parse=e0;function t0(){return ty().asHex()}ir.generateUuid=t0});var iy=K(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.attachPartialResult=Zi.ProgressFeature=Zi.attachWorkDone=void 0;var Ji=pn(),n0=Cp(),xi=class{constructor(e,n){this._connection=e,this._token=n,xi.Instances.set(this._token,this)}begin(e,n,r,i){let s={kind:"begin",title:e,percentage:n,message:r,cancellable:i};this._connection.sendProgress(Ji.WorkDoneProgress.type,this._token,s)}report(e,n){let r={kind:"report"};typeof e=="number"?(r.percentage=e,n!==void 0&&(r.message=n)):r.message=e,this._connection.sendProgress(Ji.WorkDoneProgress.type,this._token,r)}done(){xi.Instances.delete(this._token),this._connection.sendProgress(Ji.WorkDoneProgress.type,this._token,{kind:"end"})}};xi.Instances=new Map;var Rp=class extends xi{constructor(e,n){super(e,n);this._source=new Ji.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},Su=class{constructor(){}begin(){}report(){}done(){}},Ap=class extends Su{constructor(){super();this._source=new Ji.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function r0(t,e){if(e===void 0||e.workDoneToken===void 0)return new Su;let n=e.workDoneToken;return delete e.workDoneToken,new xi(t,n)}Zi.attachWorkDone=r0;var i0=t=>class extends t{constructor(){super();this._progressSupported=!1}initialize(e){var n;((n=e==null?void 0:e.window)===null||n===void 0?void 0:n.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(Ji.WorkDoneProgressCancelNotification.type,r=>{let i=xi.Instances.get(r.token);(i instanceof Rp||i instanceof Ap)&&i.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new Su:new xi(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){let e=n0.generateUuid();return this.connection.sendRequest(Ji.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new Rp(this.connection,e))}else return Promise.resolve(new Ap)}};Zi.ProgressFeature=i0;var xp;(function(t){t.type=new Ji.ProgressType})(xp||(xp={}));var ry=class{constructor(e,n){this._connection=e,this._token=n}report(e){this._connection.sendProgress(xp.type,this._token,e)}};function s0(t,e){if(e===void 0||e.partialResultToken===void 0)return;let n=e.partialResultToken;return delete e.partialResultToken,new ry(t,n)}Zi.attachPartialResult=s0});var sy=K(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.ConfigurationFeature=void 0;var o0=pn(),a0=du(),l0=t=>class extends t{getConfiguration(e){return e?a0.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let n={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(o0.ConfigurationRequest.type,n).then(r=>Array.isArray(e)?r:r[0])}};Cu.ConfigurationFeature=l0});var oy=K(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.WorkspaceFoldersFeature=void 0;var Ru=pn(),u0=t=>class extends t{initialize(e){let n=e.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Ru.Emitter,this.connection.onNotification(Ru.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(Ru.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(Ru.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};Au.WorkspaceFoldersFeature=u0});var ay=K(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.CallHierarchyFeature=void 0;var Ep=pn(),c0=t=>class extends t{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest(Ep.CallHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))},onIncomingCalls:e=>{let n=Ep.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:e=>{let n=Ep.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};xu.CallHierarchyFeature=c0});var Op=K(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.SemanticTokensBuilder=Oo.SemanticTokensFeature=void 0;var wp=pn(),f0=t=>class extends t{get semanticTokens(){return{on:e=>{let n=wp.SemanticTokensRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:e=>{let n=wp.SemanticTokensDeltaRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:e=>{let n=wp.SemanticTokensRangeRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Oo.SemanticTokensFeature=f0;var ly=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,n,r,i,s){let o=e,a=n;this._dataLen>0&&(o-=this._prevLine,o===0&&(a-=this._prevChar)),this._data[this._dataLen++]=o,this._data[this._dataLen++]=a,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=e,this._prevChar=n}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){let e=this._prevData.length,n=this._data.length,r=0;for(;r<n&&r<e&&this._prevData[r]===this._data[r];)r++;if(r<n&&r<e){let i=0;for(;i<n&&i<e&&this._prevData[e-1-i]===this._data[n-1-i];)i++;let s=this._data.slice(r,n-i);return{resultId:this.id,edits:[{start:r,deleteCount:e-i-r,data:s}]}}else return r<n?{resultId:this.id,edits:[{start:r,deleteCount:0,data:this._data.slice(r)}]}:r<e?{resultId:this.id,edits:[{start:r,deleteCount:e-r}]}:{resultId:this.id,edits:[]}}else return this.build()}};Oo.SemanticTokensBuilder=ly});var uy=K(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.ShowDocumentFeature=void 0;var p0=pn(),d0=t=>class extends t{showDocument(e){return this.connection.sendRequest(p0.ShowDocumentRequest.type,e)}};Eu.ShowDocumentFeature=d0});var cy=K(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.FileOperationsFeature=void 0;var Lo=pn(),m0=t=>class extends t{onDidCreateFiles(e){this.connection.onNotification(Lo.DidCreateFilesNotification.type,n=>{e(n)})}onDidRenameFiles(e){this.connection.onNotification(Lo.DidRenameFilesNotification.type,n=>{e(n)})}onDidDeleteFiles(e){this.connection.onNotification(Lo.DidDeleteFilesNotification.type,n=>{e(n)})}onWillCreateFiles(e){return this.connection.onRequest(Lo.WillCreateFilesRequest.type,(n,r)=>e(n,r))}onWillRenameFiles(e){return this.connection.onRequest(Lo.WillRenameFilesRequest.type,(n,r)=>e(n,r))}onWillDeleteFiles(e){return this.connection.onRequest(Lo.WillDeleteFilesRequest.type,(n,r)=>e(n,r))}};wu.FileOperationsFeature=m0});var fy=K(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.LinkedEditingRangeFeature=void 0;var h0=pn(),g0=t=>class extends t{onLinkedEditingRange(e){this.connection.onRequest(h0.LinkedEditingRangeRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))}};Ou.LinkedEditingRangeFeature=g0});var py=K(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.MonikerFeature=void 0;var _0=pn(),y0=t=>class extends t{get moniker(){return{on:e=>{let n=_0.MonikerRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Lu.MonikerFeature=y0});var jp=K(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.createConnection=He.combineFeatures=He.combineLanguagesFeatures=He.combineWorkspaceFeatures=He.combineWindowFeatures=He.combineClientFeatures=He.combineTracerFeatures=He.combineTelemetryFeatures=He.combineConsoleFeatures=He._LanguagesImpl=He.BulkUnregistration=He.BulkRegistration=He.ErrorMessageTracker=He.TextDocuments=void 0;var z=pn(),sr=du(),Lp=Cp(),Ae=iy(),b0=sy(),T0=oy(),N0=ay(),v0=Op(),P0=uy(),I0=cy(),S0=fy(),C0=py();function Dp(t){if(t!==null)return t}var dy=class{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new z.Emitter,this._onDidOpen=new z.Emitter,this._onDidClose=new z.Emitter,this._onDidSave=new z.Emitter,this._onWillSave=new z.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map(e=>this._documents[e])}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=z.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(n=>{let r=n.textDocument,i=this._configuration.create(r.uri,r.languageId,r.version,r.text);this._documents[r.uri]=i;let s=Object.freeze({document:i});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)}),e.onDidChangeTextDocument(n=>{let r=n.textDocument,i=n.contentChanges;if(i.length===0)return;let s=this._documents[r.uri],{version:o}=r;if(o==null)throw new Error(`Received document change event for ${r.uri} without valid version identifier`);s=this._configuration.update(s,i,o),this._documents[r.uri]=s,this._onDidChangeContent.fire(Object.freeze({document:s}))}),e.onDidCloseTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&(delete this._documents[n.textDocument.uri],this._onDidClose.fire(Object.freeze({document:r})))}),e.onWillSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onWillSave.fire(Object.freeze({document:r,reason:n.reason}))}),e.onWillSaveTextDocumentWaitUntil((n,r)=>{let i=this._documents[n.textDocument.uri];return i&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:i,reason:n.reason}),r):[]}),e.onDidSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onDidSave.fire(Object.freeze({document:r}))})}};He.TextDocuments=dy;var my=class{constructor(){this._messages=Object.create(null)}add(e){let n=this._messages[e];n||(n=0),n++,this._messages[e]=n}sendErrors(e){Object.keys(this._messages).forEach(n=>{e.window.showErrorMessage(n)})}};He.ErrorMessageTracker=my;var kp=class{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(z.MessageType.Error,e)}warn(e){this.send(z.MessageType.Warning,e)}info(e){this.send(z.MessageType.Info,e)}log(e){this.send(z.MessageType.Log,e)}send(e,n){this._rawConnection&&this._rawConnection.sendNotification(z.LogMessageNotification.type,{type:e,message:n})}},hy=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...n){let r={type:z.MessageType.Error,message:e,actions:n};return this.connection.sendRequest(z.ShowMessageRequest.type,r).then(Dp)}showWarningMessage(e,...n){let r={type:z.MessageType.Warning,message:e,actions:n};return this.connection.sendRequest(z.ShowMessageRequest.type,r).then(Dp)}showInformationMessage(e,...n){let r={type:z.MessageType.Info,message:e,actions:n};return this.connection.sendRequest(z.ShowMessageRequest.type,r).then(Dp)}},gy=P0.ShowDocumentFeature(Ae.ProgressFeature(hy)),R0;(function(t){function e(){return new Mp}t.create=e})(R0=He.BulkRegistration||(He.BulkRegistration={}));var Mp=class{constructor(){this._registrations=[],this._registered=new Set}add(e,n){let r=sr.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let i=Lp.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},A0;(function(t){function e(){return new Du(void 0,[])}t.create=e})(A0=He.BulkUnregistration||(He.BulkUnregistration={}));var Du=class{constructor(e,n){this._connection=e,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let n={unregisterations:e};this._connection.sendRequest(z.UnregistrationRequest.type,n).then(void 0,r=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){let n=sr.string(e)?e:e.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(z.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},s=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},Fp=class{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,n,r){return e instanceof Mp?this.registerMany(e):e instanceof Du?this.registerSingle1(e,n,r):this.registerSingle2(e,n)}registerSingle1(e,n,r){let i=sr.string(n)?n:n.method,s=Lp.generateUuid(),o={registrations:[{id:s,method:i,registerOptions:r||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(z.RegistrationRequest.type,o).then(a=>(e.add({id:s,method:i}),e),a=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(a)))}registerSingle2(e,n){let r=sr.string(e)?e:e.method,i=Lp.generateUuid(),s={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(z.RegistrationRequest.type,s).then(o=>z.Disposable.create(()=>{this.unregisterSingle(i,r)}),o=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(o)))}unregisterSingle(e,n){let r={unregisterations:[{id:e,method:n}]};return this.connection.sendRequest(z.UnregistrationRequest.type,r).then(void 0,i=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let n=e.asRegistrationParams();return this.connection.sendRequest(z.RegistrationRequest.type,n).then(()=>new Du(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},_y=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function n(i){return i&&!!i.edit}let r=n(e)?e:{edit:e};return this.connection.sendRequest(z.ApplyWorkspaceEditRequest.type,r)}},yy=I0.FileOperationsFeature(T0.WorkspaceFoldersFeature(b0.ConfigurationFeature(_y))),Vp=class{constructor(){this._trace=z.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,n){this._trace!==z.Trace.Off&&this.connection.sendNotification(z.LogTraceNotification.type,{message:e,verbose:this._trace===z.Trace.Verbose?n:void 0})}},qp=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(z.TelemetryEventNotification.type,e)}},Bp=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return Ae.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,n){return Ae.attachPartialResult(this.connection,n)}};He._LanguagesImpl=Bp;var by=C0.MonikerFeature(S0.LinkedEditingRangeFeature(v0.SemanticTokensFeature(N0.CallHierarchyFeature(Bp))));function Ty(t,e){return function(n){return e(t(n))}}He.combineConsoleFeatures=Ty;function Ny(t,e){return function(n){return e(t(n))}}He.combineTelemetryFeatures=Ny;function vy(t,e){return function(n){return e(t(n))}}He.combineTracerFeatures=vy;function Py(t,e){return function(n){return e(t(n))}}He.combineClientFeatures=Py;function Iy(t,e){return function(n){return e(t(n))}}He.combineWindowFeatures=Iy;function Sy(t,e){return function(n){return e(t(n))}}He.combineWorkspaceFeatures=Sy;function x0(t,e){return function(n){return e(t(n))}}He.combineLanguagesFeatures=x0;function E0(t,e){function n(i,s,o){return i&&s?o(i,s):i||s}return{__brand:"features",console:n(t.console,e.console,Ty),tracer:n(t.tracer,e.tracer,vy),telemetry:n(t.telemetry,e.telemetry,Ny),client:n(t.client,e.client,Py),window:n(t.window,e.window,Iy),workspace:n(t.workspace,e.workspace,Sy)}}He.combineFeatures=E0;function w0(t,e,n){let r=n&&n.console?new(n.console(kp)):new kp,i=t(r);r.rawAttach(i);let s=n&&n.tracer?new(n.tracer(Vp)):new Vp,o=n&&n.telemetry?new(n.telemetry(qp)):new qp,a=n&&n.client?new(n.client(Fp)):new Fp,l=n&&n.window?new(n.window(gy)):new gy,u=n&&n.workspace?new(n.workspace(yy)):new yy,c=n&&n.languages?new(n.languages(by)):new by,f=[r,s,o,a,l,u,c];function m(h){return h instanceof Promise?h:sr.thenable(h)?new Promise((b,g)=>{h.then(N=>b(N),N=>g(N))}):Promise.resolve(h)}let d,p,_,C={listen:()=>i.listen(),sendRequest:(h,...b)=>i.sendRequest(sr.string(h)?h:h.method,...b),onRequest:(h,b)=>i.onRequest(h,b),sendNotification:(h,b)=>{let g=sr.string(h)?h:h.method;arguments.length===1?i.sendNotification(g):i.sendNotification(g,b)},onNotification:(h,b)=>i.onNotification(h,b),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:h=>p=h,onInitialized:h=>i.onNotification(z.InitializedNotification.type,h),onShutdown:h=>d=h,onExit:h=>_=h,get console(){return r},get telemetry(){return o},get tracer(){return s},get client(){return a},get window(){return l},get workspace(){return u},get languages(){return c},onDidChangeConfiguration:h=>i.onNotification(z.DidChangeConfigurationNotification.type,h),onDidChangeWatchedFiles:h=>i.onNotification(z.DidChangeWatchedFilesNotification.type,h),__textDocumentSync:void 0,onDidOpenTextDocument:h=>i.onNotification(z.DidOpenTextDocumentNotification.type,h),onDidChangeTextDocument:h=>i.onNotification(z.DidChangeTextDocumentNotification.type,h),onDidCloseTextDocument:h=>i.onNotification(z.DidCloseTextDocumentNotification.type,h),onWillSaveTextDocument:h=>i.onNotification(z.WillSaveTextDocumentNotification.type,h),onWillSaveTextDocumentWaitUntil:h=>i.onRequest(z.WillSaveTextDocumentWaitUntilRequest.type,h),onDidSaveTextDocument:h=>i.onNotification(z.DidSaveTextDocumentNotification.type,h),sendDiagnostics:h=>i.sendNotification(z.PublishDiagnosticsNotification.type,h),onHover:h=>i.onRequest(z.HoverRequest.type,(b,g)=>h(b,g,Ae.attachWorkDone(i,b),void 0)),onCompletion:h=>i.onRequest(z.CompletionRequest.type,(b,g)=>h(b,g,Ae.attachWorkDone(i,b),Ae.attachPartialResult(i,b))),onCompletionResolve:h=>i.onRequest(z.CompletionResolveRequest.type,h),onSignatureHelp:h=>i.onRequest(z.SignatureHelpRequest.type,(b,g)=>h(b,g,Ae.attachWorkDone(i,b),void 0)),onDeclaration:h=>i.onRequest(z.DeclarationRequest.type,(b,g)=>h(b,g,Ae.attachWorkDone(i,b),Ae.attachPartialResult(i,b))),onDefinition:h=>i.onRequest(z.DefinitionRequest.type,(b,g)=>h(b,g,Ae.attachWorkDone(i,b),Ae.attachPartialResult(i,b))),onTypeDefinition:h=>i.onRequest(z.TypeDefinitionRequest.type,(b,g)=>h(b,g,Ae.attachWorkDone(i,b),Ae.attachPartialResult(i,b))),onImplementation:h=>i.onRequest(z.ImplementationRequest.type,(b,g)=>h(b,g,Ae.attachWorkDone(i,b),Ae.attachPartialResult(i,b))),onReferences:h=>i.onRequest(z.ReferencesRequest.type,(b,g)=>h(b,g,Ae.attachWorkDone(i,b),Ae.attachPartialResult(i,b))),onDocumentHighlight:h=>i.onRequest(z.DocumentHighlightRequest.type,(b,g)=>h(b,g,Ae.attachWorkDone(i,b),Ae.attachPartialResult(i,b))),onDocumentSymbol:h=>i.onRequest(z.DocumentSymbolRequest.type,(b,g)=>h(b,g,Ae.attachWorkDone(i,b),Ae.attachPartialResult(i,b))),onWorkspaceSymbol:h=>i.onRequest(z.WorkspaceSymbolRequest.type,(b,g)=>h(b,g,Ae.attachWorkDone(i,b),Ae.attachPartialResult(i,b))),onCodeAction:h=>i.onRequest(z.CodeActionRequest.type,(b,g)=>h(b,g,Ae.attachWorkDone(i,b),Ae.attachPartialResult(i,b))),onCodeActionResolve:h=>i.onRequest(z.CodeActionResolveRequest.type,(b,g)=>h(b,g)),onCodeLens:h=>i.onRequest(z.CodeLensRequest.type,(b,g)=>h(b,g,Ae.attachWorkDone(i,b),Ae.attachPartialResult(i,b))),onCodeLensResolve:h=>i.onRequest(z.CodeLensResolveRequest.type,(b,g)=>h(b,g)),onDocumentFormatting:h=>i.onRequest(z.DocumentFormattingRequest.type,(b,g)=>h(b,g,Ae.attachWorkDone(i,b),void 0)),onDocumentRangeFormatting:h=>i.onRequest(z.DocumentRangeFormattingRequest.type,(b,g)=>h(b,g,Ae.attachWorkDone(i,b),void 0)),onDocumentOnTypeFormatting:h=>i.onRequest(z.DocumentOnTypeFormattingRequest.type,(b,g)=>h(b,g)),onRenameRequest:h=>i.onRequest(z.RenameRequest.type,(b,g)=>h(b,g,Ae.attachWorkDone(i,b),void 0)),onPrepareRename:h=>i.onRequest(z.PrepareRenameRequest.type,(b,g)=>h(b,g)),onDocumentLinks:h=>i.onRequest(z.DocumentLinkRequest.type,(b,g)=>h(b,g,Ae.attachWorkDone(i,b),Ae.attachPartialResult(i,b))),onDocumentLinkResolve:h=>i.onRequest(z.DocumentLinkResolveRequest.type,(b,g)=>h(b,g)),onDocumentColor:h=>i.onRequest(z.DocumentColorRequest.type,(b,g)=>h(b,g,Ae.attachWorkDone(i,b),Ae.attachPartialResult(i,b))),onColorPresentation:h=>i.onRequest(z.ColorPresentationRequest.type,(b,g)=>h(b,g,Ae.attachWorkDone(i,b),Ae.attachPartialResult(i,b))),onFoldingRanges:h=>i.onRequest(z.FoldingRangeRequest.type,(b,g)=>h(b,g,Ae.attachWorkDone(i,b),Ae.attachPartialResult(i,b))),onSelectionRanges:h=>i.onRequest(z.SelectionRangeRequest.type,(b,g)=>h(b,g,Ae.attachWorkDone(i,b),Ae.attachPartialResult(i,b))),onExecuteCommand:h=>i.onRequest(z.ExecuteCommandRequest.type,(b,g)=>h(b,g,Ae.attachWorkDone(i,b),void 0)),dispose:()=>i.dispose()};for(let h of f)h.attach(C);return i.onRequest(z.InitializeRequest.type,h=>{e.initialize(h),sr.string(h.trace)&&(s.trace=z.Trace.fromString(h.trace));for(let b of f)b.initialize(h.capabilities);if(p){let b=p(h,new z.CancellationTokenSource().token,Ae.attachWorkDone(i,h),void 0);return m(b).then(g=>{if(g instanceof z.ResponseError)return g;let N=g;N||(N={capabilities:{}});let S=N.capabilities;S||(S={},N.capabilities=S),S.textDocumentSync===void 0||S.textDocumentSync===null?S.textDocumentSync=sr.number(C.__textDocumentSync)?C.__textDocumentSync:z.TextDocumentSyncKind.None:!sr.number(S.textDocumentSync)&&!sr.number(S.textDocumentSync.change)&&(S.textDocumentSync.change=sr.number(C.__textDocumentSync)?C.__textDocumentSync:z.TextDocumentSyncKind.None);for(let V of f)V.fillServerCapabilities(S);return N})}else{let b={capabilities:{textDocumentSync:z.TextDocumentSyncKind.None}};for(let g of f)g.fillServerCapabilities(b.capabilities);return b}}),i.onRequest(z.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,d)return d(new z.CancellationTokenSource().token)}),i.onNotification(z.ExitNotification.type,()=>{try{_&&_()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),i.onNotification(z.SetTraceNotification.type,h=>{s.trace=z.Trace.fromString(h.value)}),C}He.createConnection=w0});var Ry=K(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.resolveModulePath=bn.FileSystem=bn.resolveGlobalYarnPath=bn.resolveGlobalNodePath=bn.resolve=bn.uriToFilePath=void 0;var O0=require("url"),Ar=require("path"),Up=require("fs"),Gp=require("child_process");function L0(t){let e=O0.parse(t);if(e.protocol!=="file:"||!e.path)return;let n=e.path.split("/");for(var r=0,i=n.length;r<i;r++)n[r]=decodeURIComponent(n[r]);if(process.platform==="win32"&&n.length>1){let s=n[0],o=n[1];s.length===0&&o.length>1&&o[1]===":"&&n.shift()}return Ar.normalize(n.join("/"))}bn.uriToFilePath=L0;function Wp(){return process.platform==="win32"}function ku(t,e,n,r){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((o,a)=>{let l=process.env,u=Object.create(null);Object.keys(l).forEach(c=>u[c]=l[c]),e&&Up.existsSync(e)&&(u[i]?u[i]=e+Ar.delimiter+u[i]:u[i]=e,r&&r(`NODE_PATH value is: ${u[i]}`)),u.ELECTRON_RUN_AS_NODE="1";try{let c=Gp.fork("",[],{cwd:n,env:u,execArgv:["-e",s]});if(c.pid===void 0){a(new Error(`Starting process to resolve node module  ${t} failed`));return}c.on("error",m=>{a(m)}),c.on("message",m=>{m.c==="r"&&(c.send({c:"e"}),m.s?o(m.r):a(new Error(`Failed to resolve module: ${t}`)))});let f={c:"rs",a:t};c.send(f)}catch(c){a(c)}})}bn.resolve=ku;function Hp(t){let e="npm",n=Object.create(null);Object.keys(process.env).forEach(s=>n[s]=process.env[s]),n.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:n};Wp()&&(e="npm.cmd",r.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let s=Gp.spawnSync(e,["config","get","prefix"],r).stdout;if(!s){t&&t("'npm config get prefix' didn't return a value.");return}let o=s.trim();return t&&t(`'npm config get prefix' value is: ${o}`),o.length>0?Wp()?Ar.join(o,"node_modules"):Ar.join(o,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}bn.resolveGlobalNodePath=Hp;function D0(t){let e="yarn",n={encoding:"utf8"};Wp()&&(e="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let i=Gp.spawnSync(e,["global","dir","--json"],n),s=i.stdout;if(!s){t&&(t("'yarn global dir' didn't return a value."),i.stderr&&t(i.stderr));return}let o=s.trim().split(/\r?\n/);for(let a of o)try{let l=JSON.parse(a);if(l.type==="log")return Ar.join(l.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}bn.resolveGlobalYarnPath=D0;var Cy;(function(t){let e;function n(){return e!==void 0||(process.platform==="win32"?e=!1:e=!Up.existsSync(__filename.toUpperCase())||!Up.existsSync(__filename.toLowerCase())),e}t.isCaseSensitive=n;function r(i,s){return n()?Ar.normalize(s).indexOf(Ar.normalize(i))===0:Ar.normalize(s).toLowerCase().indexOf(Ar.normalize(i).toLowerCase())===0}t.isParent=r})(Cy=bn.FileSystem||(bn.FileSystem={}));function k0(t,e,n,r){return n?(Ar.isAbsolute(n)||(n=Ar.join(t,n)),ku(e,n,n,r).then(i=>Cy.isParent(n,i)?i:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,i=>ku(e,Hp(r),t,r))):ku(e,Hp(r),t,r)}bn.resolveModulePath=k0});var Yp=K((UV,Ay)=>{"use strict";Ay.exports=pn()});var Ey=K(Bn=>{"use strict";var M0=Bn&&Bn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),xy=Bn&&Bn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&M0(e,t,n)};Object.defineProperty(Bn,"__esModule",{value:!0});Bn.ProposedFeatures=Bn.SemanticTokensBuilder=void 0;var F0=Op();Object.defineProperty(Bn,"SemanticTokensBuilder",{enumerable:!0,get:function(){return F0.SemanticTokensBuilder}});xy(pn(),Bn);xy(jp(),Bn);var V0;(function(t){t.all={__brand:"features"}})(V0=Bn.ProposedFeatures||(Bn.ProposedFeatures={}))});var nn=K(jn=>{"use strict";var q0=jn&&jn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),wy=jn&&jn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&q0(e,t,n)};Object.defineProperty(jn,"__esModule",{value:!0});jn.createConnection=jn.Files=void 0;var Kp=du(),B0=jp(),rl=Ry(),Ds=Yp();wy(Yp(),jn);wy(Ey(),jn);var j0;(function(t){t.uriToFilePath=rl.uriToFilePath,t.resolveGlobalNodePath=rl.resolveGlobalNodePath,t.resolveGlobalYarnPath=rl.resolveGlobalYarnPath,t.resolve=rl.resolve,t.resolveModulePath=rl.resolveModulePath})(j0=jn.Files||(jn.Files={}));var Oy;function Mu(){if(Oy!==void 0)try{Oy.end()}catch{}}var Do=!1,Ly;function U0(){let t="--clientProcessId";function e(n){try{let r=parseInt(n);isNaN(r)||(Ly=setInterval(()=>{try{process.kill(r,0)}catch{Mu(),process.exit(Do?0:1)}},3e3))}catch{}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===t&&n+1<process.argv.length){e(process.argv[n+1]);return}else{let i=r.split("=");i[0]===t&&e(i[1])}}}U0();var G0={initialize:t=>{let e=t.processId;Kp.number(e)&&Ly===void 0&&setInterval(()=>{try{process.kill(e,0)}catch{process.exit(Do?0:1)}},3e3)},get shutdownReceived(){return Do},set shutdownReceived(t){Do=t},exit:t=>{Mu(),process.exit(t)}};function W0(t,e,n,r){let i,s,o,a;return t!==void 0&&t.__brand==="features"&&(i=t,t=e,e=n,n=r),Ds.ConnectionStrategy.is(t)||Ds.ConnectionOptions.is(t)?a=t:(s=t,o=e,a=n),H0(s,o,a,i)}jn.createConnection=W0;function H0(t,e,n,r){if(!t&&!e&&process.argv.length>2){let a,l,u=process.argv.slice(2);for(let c=0;c<u.length;c++){let f=u[c];if(f==="--node-ipc"){t=new Ds.IPCMessageReader(process),e=new Ds.IPCMessageWriter(process);break}else if(f==="--stdio"){t=process.stdin,e=process.stdout;break}else if(f==="--socket"){a=parseInt(u[c+1]);break}else if(f==="--pipe"){l=u[c+1];break}else{var i=f.split("=");if(i[0]==="--socket"){a=parseInt(i[1]);break}else if(i[0]==="--pipe"){l=i[1];break}}}if(a){let c=Ds.createServerSocketTransport(a);t=c[0],e=c[1]}else if(l){let c=Ds.createServerPipeTransport(l);t=c[0],e=c[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+s);if(!e)throw new Error("Connection output stream is not set. "+s);if(Kp.func(t.read)&&Kp.func(t.on)){let a=t;a.on("end",()=>{Mu(),process.exit(Do?0:1)}),a.on("close",()=>{Mu(),process.exit(Do?0:1)})}let o=a=>Ds.createProtocolConnection(t,e,a,n);return B0.createConnection(o,G0,r)}});var ky=K((HV,Dy)=>{"use strict";Dy.exports=nn()});var Vu=K(Jp=>{"use strict";Object.defineProperty(Jp,"__esModule",{value:!0});var sb=function(){function t(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return t.hashStr=function(e,n){return n===void 0&&(n=!1),this.onePassHasher.start().appendStr(e).end(n)},t.hashAsciiStr=function(e,n){return n===void 0&&(n=!1),this.onePassHasher.start().appendAsciiStr(e).end(n)},t._hex=function(e){var n=t.hexChars,r=t.hexOut,i,s,o,a;for(a=0;a<4;a+=1)for(s=a*8,i=e[a],o=0;o<8;o+=2)r[s+1+o]=n.charAt(i&15),i>>>=4,r[s+0+o]=n.charAt(i&15),i>>>=4;return r.join("")},t._md5cycle=function(e,n){var r=e[0],i=e[1],s=e[2],o=e[3];r+=(i&s|~i&o)+n[0]-680876936|0,r=(r<<7|r>>>25)+i|0,o+=(r&i|~r&s)+n[1]-389564586|0,o=(o<<12|o>>>20)+r|0,s+=(o&r|~o&i)+n[2]+606105819|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&r)+n[3]-1044525330|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&o)+n[4]-176418897|0,r=(r<<7|r>>>25)+i|0,o+=(r&i|~r&s)+n[5]+1200080426|0,o=(o<<12|o>>>20)+r|0,s+=(o&r|~o&i)+n[6]-1473231341|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&r)+n[7]-45705983|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&o)+n[8]+1770035416|0,r=(r<<7|r>>>25)+i|0,o+=(r&i|~r&s)+n[9]-1958414417|0,o=(o<<12|o>>>20)+r|0,s+=(o&r|~o&i)+n[10]-42063|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&r)+n[11]-1990404162|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&o)+n[12]+1804603682|0,r=(r<<7|r>>>25)+i|0,o+=(r&i|~r&s)+n[13]-40341101|0,o=(o<<12|o>>>20)+r|0,s+=(o&r|~o&i)+n[14]-1502002290|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&r)+n[15]+1236535329|0,i=(i<<22|i>>>10)+s|0,r+=(i&o|s&~o)+n[1]-165796510|0,r=(r<<5|r>>>27)+i|0,o+=(r&s|i&~s)+n[6]-1069501632|0,o=(o<<9|o>>>23)+r|0,s+=(o&i|r&~i)+n[11]+643717713|0,s=(s<<14|s>>>18)+o|0,i+=(s&r|o&~r)+n[0]-373897302|0,i=(i<<20|i>>>12)+s|0,r+=(i&o|s&~o)+n[5]-701558691|0,r=(r<<5|r>>>27)+i|0,o+=(r&s|i&~s)+n[10]+38016083|0,o=(o<<9|o>>>23)+r|0,s+=(o&i|r&~i)+n[15]-660478335|0,s=(s<<14|s>>>18)+o|0,i+=(s&r|o&~r)+n[4]-405537848|0,i=(i<<20|i>>>12)+s|0,r+=(i&o|s&~o)+n[9]+568446438|0,r=(r<<5|r>>>27)+i|0,o+=(r&s|i&~s)+n[14]-1019803690|0,o=(o<<9|o>>>23)+r|0,s+=(o&i|r&~i)+n[3]-187363961|0,s=(s<<14|s>>>18)+o|0,i+=(s&r|o&~r)+n[8]+1163531501|0,i=(i<<20|i>>>12)+s|0,r+=(i&o|s&~o)+n[13]-1444681467|0,r=(r<<5|r>>>27)+i|0,o+=(r&s|i&~s)+n[2]-51403784|0,o=(o<<9|o>>>23)+r|0,s+=(o&i|r&~i)+n[7]+1735328473|0,s=(s<<14|s>>>18)+o|0,i+=(s&r|o&~r)+n[12]-1926607734|0,i=(i<<20|i>>>12)+s|0,r+=(i^s^o)+n[5]-378558|0,r=(r<<4|r>>>28)+i|0,o+=(r^i^s)+n[8]-2022574463|0,o=(o<<11|o>>>21)+r|0,s+=(o^r^i)+n[11]+1839030562|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^r)+n[14]-35309556|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^o)+n[1]-1530992060|0,r=(r<<4|r>>>28)+i|0,o+=(r^i^s)+n[4]+1272893353|0,o=(o<<11|o>>>21)+r|0,s+=(o^r^i)+n[7]-155497632|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^r)+n[10]-1094730640|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^o)+n[13]+681279174|0,r=(r<<4|r>>>28)+i|0,o+=(r^i^s)+n[0]-358537222|0,o=(o<<11|o>>>21)+r|0,s+=(o^r^i)+n[3]-722521979|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^r)+n[6]+76029189|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^o)+n[9]-640364487|0,r=(r<<4|r>>>28)+i|0,o+=(r^i^s)+n[12]-421815835|0,o=(o<<11|o>>>21)+r|0,s+=(o^r^i)+n[15]+530742520|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^r)+n[2]-995338651|0,i=(i<<23|i>>>9)+s|0,r+=(s^(i|~o))+n[0]-198630844|0,r=(r<<6|r>>>26)+i|0,o+=(i^(r|~s))+n[7]+1126891415|0,o=(o<<10|o>>>22)+r|0,s+=(r^(o|~i))+n[14]-1416354905|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~r))+n[5]-57434055|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~o))+n[12]+1700485571|0,r=(r<<6|r>>>26)+i|0,o+=(i^(r|~s))+n[3]-1894986606|0,o=(o<<10|o>>>22)+r|0,s+=(r^(o|~i))+n[10]-1051523|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~r))+n[1]-2054922799|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~o))+n[8]+1873313359|0,r=(r<<6|r>>>26)+i|0,o+=(i^(r|~s))+n[15]-30611744|0,o=(o<<10|o>>>22)+r|0,s+=(r^(o|~i))+n[6]-1560198380|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~r))+n[13]+1309151649|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~o))+n[4]-145523070|0,r=(r<<6|r>>>26)+i|0,o+=(i^(r|~s))+n[11]-1120210379|0,o=(o<<10|o>>>22)+r|0,s+=(r^(o|~i))+n[2]+718787259|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~r))+n[9]-343485551|0,i=(i<<21|i>>>11)+s|0,e[0]=r+e[0]|0,e[1]=i+e[1]|0,e[2]=s+e[2]|0,e[3]=o+e[3]|0},t.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this},t.prototype.appendStr=function(e){var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,o;for(o=0;o<e.length;o+=1){if(s=e.charCodeAt(o),s<128)n[i++]=s;else if(s<2048)n[i++]=(s>>>6)+192,n[i++]=s&63|128;else if(s<55296||s>56319)n[i++]=(s>>>12)+224,n[i++]=s>>>6&63|128,n[i++]=s&63|128;else{if(s=(s-55296)*1024+(e.charCodeAt(++o)-56320)+65536,s>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");n[i++]=(s>>>18)+240,n[i++]=s>>>12&63|128,n[i++]=s>>>6&63|128,n[i++]=s&63|128}i>=64&&(this._dataLength+=64,t._md5cycle(this._state,r),i-=64,r[0]=r[16])}return this._bufferLength=i,this},t.prototype.appendAsciiStr=function(e){for(var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,o=0;;){for(s=Math.min(e.length-o,64-i);s--;)n[i++]=e.charCodeAt(o++);if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,r),i=0}return this._bufferLength=i,this},t.prototype.appendByteArray=function(e){for(var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,o=0;;){for(s=Math.min(e.length-o,64-i);s--;)n[i++]=e[o++];if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,r),i=0}return this._bufferLength=i,this},t.prototype.getState=function(){var e=this,n=e._state;return{buffer:String.fromCharCode.apply(null,e._buffer8),buflen:e._bufferLength,length:e._dataLength,state:[n[0],n[1],n[2],n[3]]}},t.prototype.setState=function(e){var n=e.buffer,r=e.state,i=this._state,s;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],s=0;s<n.length;s+=1)this._buffer8[s]=n.charCodeAt(s)},t.prototype.end=function(e){e===void 0&&(e=!1);var n=this._bufferLength,r=this._buffer8,i=this._buffer32,s=(n>>2)+1,o;if(this._dataLength+=n,r[n]=128,r[n+1]=r[n+2]=r[n+3]=0,i.set(t.buffer32Identity.subarray(s),s),n>55&&(t._md5cycle(this._state,i),i.set(t.buffer32Identity)),o=this._dataLength*8,o<=4294967295)i[14]=o;else{var a=o.toString(16).match(/(.*?)(.{0,8})$/);if(a===null)return;var l=parseInt(a[2],16),u=parseInt(a[1],16)||0;i[14]=l,i[15]=u}return t._md5cycle(this._state,i),e?this._state:t._hex(this._state)},t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,t}();Jp.Md5=sb;sb.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592"&&console.error("Md5 self test failed.")});var hs=K(Dn=>{"use strict";var Vi={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},Sl={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"},IO="tag:yaml.org,2002:",SO={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};function ZN(t){let e=[0],n=t.indexOf(`
`);for(;n!==-1;)n+=1,e.push(n),n=t.indexOf(`
`,n);return e}function ev(t){let e,n;return typeof t=="string"?(e=ZN(t),n=t):(Array.isArray(t)&&(t=t[0]),t&&t.context&&(t.lineStarts||(t.lineStarts=ZN(t.context.src)),e=t.lineStarts,n=t.context.src)),{lineStarts:e,src:n}}function pm(t,e){if(typeof t!="number"||t<0)return null;let{lineStarts:n,src:r}=ev(e);if(!n||!r||t>r.length)return null;for(let s=0;s<n.length;++s){let o=n[s];if(t<o)return{line:s,col:t-n[s-1]+1};if(t===o)return{line:s+1,col:1}}let i=n.length;return{line:i,col:t-n[i-1]+1}}function CO(t,e){let{lineStarts:n,src:r}=ev(e);if(!n||!(t>=1)||t>n.length)return null;let i=n[t-1],s=n[t];for(;s&&s>i&&r[s-1]===`
`;)--s;return r.slice(i,s)}function RO({start:t,end:e},n,r=80){let i=CO(t.line,n);if(!i)return null;let{col:s}=t;if(i.length>r)if(s<=r-10)i=i.substr(0,r-1)+"\u2026";else{let c=Math.round(r/2);i.length>s+c&&(i=i.substr(0,s+c-1)+"\u2026"),s-=i.length-r,i="\u2026"+i.substr(1-r)}let o=1,a="";e&&(e.line===t.line&&s+(e.col-t.col)<=r+1?o=e.col-t.col:(o=Math.min(i.length+1,r)-s,a="\u2026"));let l=s>1?" ".repeat(s-1):"",u="^".repeat(o);return`${i}
${l}${u}${a}`}var Zs=class{static copy(e){return new Zs(e.start,e.end)}constructor(e,n){this.start=e,this.end=n||e}isEmpty(){return typeof this.start!="number"||!this.end||this.end<=this.start}setOrigRange(e,n){let{start:r,end:i}=this;if(e.length===0||i<=e[0])return this.origStart=r,this.origEnd=i,n;let s=n;for(;s<e.length&&!(e[s]>r);)++s;this.origStart=r+s;let o=s;for(;s<e.length&&!(e[s]>=i);)++s;return this.origEnd=i+s,o}},an=class{static addStringTerminator(e,n,r){if(r[r.length-1]===`
`)return r;let i=an.endOfWhiteSpace(e,n);return i>=e.length||e[i]===`
`?r+`
`:r}static atDocumentBoundary(e,n,r){let i=e[n];if(!i)return!0;let s=e[n-1];if(s&&s!==`
`)return!1;if(r){if(i!==r)return!1}else if(i!==Vi.DIRECTIVES_END&&i!==Vi.DOCUMENT_END)return!1;let o=e[n+1],a=e[n+2];if(o!==i||a!==i)return!1;let l=e[n+3];return!l||l===`
`||l==="	"||l===" "}static endOfIdentifier(e,n){let r=e[n],i=r==="<",s=i?[`
`,"	"," ",">"]:[`
`,"	"," ","[","]","{","}",","];for(;r&&s.indexOf(r)===-1;)r=e[n+=1];return i&&r===">"&&(n+=1),n}static endOfIndent(e,n){let r=e[n];for(;r===" ";)r=e[n+=1];return n}static endOfLine(e,n){let r=e[n];for(;r&&r!==`
`;)r=e[n+=1];return n}static endOfWhiteSpace(e,n){let r=e[n];for(;r==="	"||r===" ";)r=e[n+=1];return n}static startOfLine(e,n){let r=e[n-1];if(r===`
`)return n;for(;r&&r!==`
`;)r=e[n-=1];return n+1}static endOfBlockIndent(e,n,r){let i=an.endOfIndent(e,r);if(i>r+n)return i;{let s=an.endOfWhiteSpace(e,i),o=e[s];if(!o||o===`
`)return s}return null}static atBlank(e,n,r){let i=e[n];return i===`
`||i==="	"||i===" "||r&&!i}static nextNodeIsIndented(e,n,r){return!e||n<0?!1:n>0?!0:r&&e==="-"}static normalizeOffset(e,n){let r=e[n];return r?r!==`
`&&e[n-1]===`
`?n-1:an.endOfWhiteSpace(e,n):n}static foldNewline(e,n,r){let i=0,s=!1,o="",a=e[n+1];for(;a===" "||a==="	"||a===`
`;){switch(a){case`
`:i=0,n+=1,o+=`
`;break;case"	":i<=r&&(s=!0),n=an.endOfWhiteSpace(e,n+2)-1;break;case" ":i+=1,n+=1;break}a=e[n+1]}return o||(o=" "),a&&i<=r&&(s=!0),{fold:o,offset:n,error:s}}constructor(e,n,r){Object.defineProperty(this,"context",{value:r||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=n||[],this.type=e,this.value=null}getPropValue(e,n,r){if(!this.context)return null;let{src:i}=this.context,s=this.props[e];return s&&i[s.start]===n?i.slice(s.start+(r?1:0),s.end):null}get anchor(){for(let e=0;e<this.props.length;++e){let n=this.getPropValue(e,Vi.ANCHOR,!0);if(n!=null)return n}return null}get comment(){let e=[];for(let n=0;n<this.props.length;++n){let r=this.getPropValue(n,Vi.COMMENT,!0);r!=null&&e.push(r)}return e.length>0?e.join(`
`):null}commentHasRequiredWhitespace(e){let{src:n}=this.context;if(this.header&&e===this.header.end||!this.valueRange)return!1;let{end:r}=this.valueRange;return e!==r||an.atBlank(n,r-1)}get hasComment(){if(this.context){let{src:e}=this.context;for(let n=0;n<this.props.length;++n)if(e[this.props[n].start]===Vi.COMMENT)return!0}return!1}get hasProps(){if(this.context){let{src:e}=this.context;for(let n=0;n<this.props.length;++n)if(e[this.props[n].start]!==Vi.COMMENT)return!0}return!1}get includesTrailingLines(){return!1}get jsonLike(){return[Sl.FLOW_MAP,Sl.FLOW_SEQ,Sl.QUOTE_DOUBLE,Sl.QUOTE_SINGLE].indexOf(this.type)!==-1}get rangeAsLinePos(){if(!this.range||!this.context)return;let e=pm(this.range.start,this.context.root);if(!e)return;let n=pm(this.range.end,this.context.root);return{start:e,end:n}}get rawValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange;return this.context.src.slice(e,n)}get tag(){for(let e=0;e<this.props.length;++e){let n=this.getPropValue(e,Vi.TAG,!1);if(n!=null){if(n[1]==="<")return{verbatim:n.slice(2,-1)};{let[r,i,s]=n.match(/^(.*!)([^!]*)$/);return{handle:i,suffix:s}}}}return null}get valueRangeContainsNewline(){if(!this.valueRange||!this.context)return!1;let{start:e,end:n}=this.valueRange,{src:r}=this.context;for(let i=e;i<n;++i)if(r[i]===`
`)return!0;return!1}parseComment(e){let{src:n}=this.context;if(n[e]===Vi.COMMENT){let r=an.endOfLine(n,e+1),i=new Zs(e,r);return this.props.push(i),r}return e}setOrigRanges(e,n){return this.range&&(n=this.range.setOrigRange(e,n)),this.valueRange&&this.valueRange.setOrigRange(e,n),this.props.forEach(r=>r.setOrigRange(e,n)),n}toString(){let{context:{src:e},range:n,value:r}=this;if(r!=null)return r;let i=e.slice(n.start,n.end);return an.addStringTerminator(e,n.end,i)}},ba=class extends Error{constructor(e,n,r){if(!r||!(n instanceof an))throw new Error(`Invalid arguments for new ${e}`);super();this.name=e,this.message=r,this.source=n}makePretty(){if(!this.source)return;this.nodeType=this.source.type;let e=this.source.context&&this.source.context.root;if(typeof this.offset=="number"){this.range=new Zs(this.offset,this.offset+1);let n=e&&pm(this.offset,e);if(n){let r={line:n.line,col:n.col+1};this.linePos={start:n,end:r}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){let{line:n,col:r}=this.linePos.start;this.message+=` at line ${n}, column ${r}`;let i=e&&RO(this.linePos,e);i&&(this.message+=`:

${i}
`)}delete this.source}},tv=class extends ba{constructor(e,n){super("YAMLReferenceError",e,n)}},Vc=class extends ba{constructor(e,n){super("YAMLSemanticError",e,n)}},nv=class extends ba{constructor(e,n){super("YAMLSyntaxError",e,n)}},rv=class extends ba{constructor(e,n){super("YAMLWarning",e,n)}};function AO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Cl=class extends an{static endOfLine(e,n,r){let i=e[n],s=n;for(;i&&i!==`
`&&!(r&&(i==="["||i==="]"||i==="{"||i==="}"||i===","));){let o=e[s+1];if(i===":"&&(!o||o===`
`||o==="	"||o===" "||r&&o===",")||(i===" "||i==="	")&&o==="#")break;s+=1,i=o}return s}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange,{src:r}=this.context,i=r[n-1];for(;e<n&&(i===`
`||i==="	"||i===" ");)i=r[--n-1];let s="";for(let a=e;a<n;++a){let l=r[a];if(l===`
`){let{fold:u,offset:c}=an.foldNewline(r,a,-1);s+=u,a=c}else if(l===" "||l==="	"){let u=a,c=r[a+1];for(;a<n&&(c===" "||c==="	");)a+=1,c=r[a+1];c!==`
`&&(s+=a>u?r.slice(u,a+1):l)}else s+=l}let o=r[e];switch(o){case"	":{let a="Plain value cannot start with a tab character";return{errors:[new Vc(this,a)],str:s}}case"@":case"`":{let a=`Plain value cannot start with reserved character ${o}`;return{errors:[new Vc(this,a)],str:s}}default:return s}}parseBlockValue(e){let{indent:n,inFlow:r,src:i}=this.context,s=e,o=e;for(let a=i[s];a===`
`&&!an.atDocumentBoundary(i,s+1);a=i[s]){let l=an.endOfBlockIndent(i,n,s+1);if(l===null||i[l]==="#")break;i[l]===`
`?s=l:(o=Cl.endOfLine(i,l,r),s=o)}return this.valueRange.isEmpty()&&(this.valueRange.start=e),this.valueRange.end=o,o}parse(e,n){this.context=e;let{inFlow:r,src:i}=e,s=n,o=i[s];return o&&o!=="#"&&o!==`
`&&(s=Cl.endOfLine(i,n,r)),this.valueRange=new Zs(n,s),s=an.endOfWhiteSpace(i,s),s=this.parseComment(s),(!this.hasComment||this.valueRange.isEmpty())&&(s=this.parseBlockValue(s)),s}};Dn.Char=Vi;Dn.Node=an;Dn.PlainValue=Cl;Dn.Range=Zs;Dn.Type=Sl;Dn.YAMLError=ba;Dn.YAMLReferenceError=tv;Dn.YAMLSemanticError=Vc;Dn.YAMLSyntaxError=nv;Dn.YAMLWarning=rv;Dn._defineProperty=AO;Dn.defaultTagPrefix=IO;Dn.defaultTags=SO});var uv=K(lv=>{"use strict";var D=hs(),Ta=class extends D.Node{constructor(){super(D.Type.BLANK_LINE)}get includesTrailingLines(){return!0}parse(e,n){return this.context=e,this.range=new D.Range(n,n+1),n+1}},qc=class extends D.Node{constructor(e,n){super(e,n);this.node=null}get includesTrailingLines(){return!!this.node&&this.node.includesTrailingLines}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,{atLineStart:s,lineStart:o}=e;!s&&this.type===D.Type.SEQ_ITEM&&(this.error=new D.YAMLSemanticError(this,"Sequence items must not have preceding content on the same line"));let a=s?n-o:e.indent,l=D.Node.endOfWhiteSpace(i,n+1),u=i[l],c=u==="#",f=[],m=null;for(;u===`
`||u==="#";){if(u==="#"){let p=D.Node.endOfLine(i,l+1);f.push(new D.Range(l,p)),l=p}else{s=!0,o=l+1;let p=D.Node.endOfWhiteSpace(i,o);i[p]===`
`&&f.length===0&&(m=new Ta,o=m.parse({src:i},o)),l=D.Node.endOfIndent(i,o)}u=i[l]}if(D.Node.nextNodeIsIndented(u,l-(o+a),this.type!==D.Type.SEQ_ITEM)?this.node=r({atLineStart:s,inCollection:!1,indent:a,lineStart:o,parent:this},l):u&&o>n+1&&(l=o-1),this.node){if(m){let p=e.parent.items||e.parent.contents;p&&p.push(m)}f.length&&Array.prototype.push.apply(this.props,f),l=this.node.range.end}else if(c){let p=f[0];this.props.push(p),l=p.end}else l=D.Node.endOfLine(i,n+1);let d=this.node?this.node.valueRange.end:l;return this.valueRange=new D.Range(n,d),l}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.node?this.node.setOrigRanges(e,n):n}toString(){let{context:{src:e},node:n,range:r,value:i}=this;if(i!=null)return i;let s=n?e.slice(r.start,n.range.start)+String(n):e.slice(r.start,r.end);return D.Node.addStringTerminator(e,r.end,s)}},Na=class extends D.Node{constructor(){super(D.Type.COMMENT)}parse(e,n){this.context=e;let r=this.parseComment(n);return this.range=new D.Range(n,r),r}};function dm(t){let e=t;for(;e instanceof qc;)e=e.node;if(!(e instanceof va))return null;let n=e.items.length,r=-1;for(let o=n-1;o>=0;--o){let a=e.items[o];if(a.type===D.Type.COMMENT){let{indent:l,lineStart:u}=a.context;if(l>0&&a.range.start>=u+l)break;r=o}else if(a.type===D.Type.BLANK_LINE)r=o;else break}if(r===-1)return null;let i=e.items.splice(r,n-r),s=i[0].range.start;for(;e.range.end=s,e.valueRange&&e.valueRange.end>s&&(e.valueRange.end=s),e!==t;)e=e.context.parent;return i}var va=class extends D.Node{static nextContentHasIndent(e,n,r){let i=D.Node.endOfLine(e,n)+1;n=D.Node.endOfWhiteSpace(e,i);let s=e[n];return s?n>=i+r?!0:s!=="#"&&s!==`
`?!1:va.nextContentHasIndent(e,n,r):!1}constructor(e){super(e.type===D.Type.SEQ_ITEM?D.Type.SEQ:D.Type.MAP);for(let r=e.props.length-1;r>=0;--r)if(e.props[r].start<e.context.lineStart){this.props=e.props.slice(0,r+1),e.props=e.props.slice(r+1);let i=e.props[0]||e.valueRange;e.range.start=i.start;break}this.items=[e];let n=dm(e);n&&Array.prototype.push.apply(this.items,n)}get includesTrailingLines(){return this.items.length>0}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,s=D.Node.startOfLine(i,n),o=this.items[0];o.context.parent=this,this.valueRange=D.Range.copy(o.valueRange);let a=o.range.start-o.context.lineStart,l=n;l=D.Node.normalizeOffset(i,l);let u=i[l],c=D.Node.endOfWhiteSpace(i,s)===l,f=!1;for(;u;){for(;u===`
`||u==="#";){if(c&&u===`
`&&!f){let p=new Ta;if(l=p.parse({src:i},l),this.valueRange.end=l,l>=i.length){u=null;break}this.items.push(p),l-=1}else if(u==="#"){if(l<s+a&&!va.nextContentHasIndent(i,l,a))return l;let p=new Na;if(l=p.parse({indent:a,lineStart:s,src:i},l),this.items.push(p),this.valueRange.end=l,l>=i.length){u=null;break}}if(s=l+1,l=D.Node.endOfIndent(i,s),D.Node.atBlank(i,l)){let p=D.Node.endOfWhiteSpace(i,l),_=i[p];(!_||_===`
`||_==="#")&&(l=p)}u=i[l],c=!0}if(!u)break;if(l!==s+a&&(c||u!==":")){if(l<s+a){s>n&&(l=s);break}else if(!this.error){let p="All collection items must start at the same column";this.error=new D.YAMLSyntaxError(this,p)}}if(o.type===D.Type.SEQ_ITEM){if(u!=="-"){s>n&&(l=s);break}}else if(u==="-"&&!this.error){let p=i[l+1];if(!p||p===`
`||p==="	"||p===" "){let _="A collection cannot be both a mapping and a sequence";this.error=new D.YAMLSyntaxError(this,_)}}let m=r({atLineStart:c,inCollection:!0,indent:a,lineStart:s,parent:this},l);if(!m)return l;if(this.items.push(m),this.valueRange.end=m.valueRange.end,l=D.Node.normalizeOffset(i,m.range.end),u=i[l],c=!1,f=m.includesTrailingLines,u){let p=l-1,_=i[p];for(;_===" "||_==="	";)_=i[--p];_===`
`&&(s=p+1,c=!0)}let d=dm(m);d&&Array.prototype.push.apply(this.items,d)}return l}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.items.forEach(r=>{n=r.setOrigRanges(e,n)}),n}toString(){let{context:{src:e},items:n,range:r,value:i}=this;if(i!=null)return i;let s=e.slice(r.start,n[0].range.start)+String(n[0]);for(let o=1;o<n.length;++o){let a=n[o],{atLineStart:l,indent:u}=a.context;if(l)for(let c=0;c<u;++c)s+=" ";s+=String(a)}return D.Node.addStringTerminator(e,r.end,s)}},iv=class extends D.Node{constructor(){super(D.Type.DIRECTIVE);this.name=null}get parameters(){let e=this.rawValue;return e?e.trim().split(/[ \t]+/):[]}parseName(e){let{src:n}=this.context,r=e,i=n[r];for(;i&&i!==`
`&&i!=="	"&&i!==" ";)i=n[r+=1];return this.name=n.slice(e,r),r}parseParameters(e){let{src:n}=this.context,r=e,i=n[r];for(;i&&i!==`
`&&i!=="#";)i=n[r+=1];return this.valueRange=new D.Range(e,r),r}parse(e,n){this.context=e;let r=this.parseName(n+1);return r=this.parseParameters(r),r=this.parseComment(r),this.range=new D.Range(n,r),r}},Rl=class extends D.Node{static startCommentOrEndBlankLine(e,n){let r=D.Node.endOfWhiteSpace(e,n),i=e[r];return i==="#"||i===`
`?r:n}constructor(){super(D.Type.DOCUMENT);this.directives=null,this.contents=null,this.directivesEndMarker=null,this.documentEndMarker=null}parseDirectives(e){let{src:n}=this.context;this.directives=[];let r=!0,i=!1,s=e;for(;!D.Node.atDocumentBoundary(n,s,D.Char.DIRECTIVES_END);)switch(s=Rl.startCommentOrEndBlankLine(n,s),n[s]){case`
`:if(r){let o=new Ta;s=o.parse({src:n},s),s<n.length&&this.directives.push(o)}else s+=1,r=!0;break;case"#":{let o=new Na;s=o.parse({src:n},s),this.directives.push(o),r=!1}break;case"%":{let o=new iv;s=o.parse({parent:this,src:n},s),this.directives.push(o),i=!0,r=!1}break;default:return i?this.error=new D.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s}return n[s]?(this.directivesEndMarker=new D.Range(s,s+3),s+3):(i?this.error=new D.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s)}parseContents(e){let{parseNode:n,src:r}=this.context;this.contents||(this.contents=[]);let i=e;for(;r[i-1]==="-";)i-=1;let s=D.Node.endOfWhiteSpace(r,e),o=i===e;for(this.valueRange=new D.Range(s);!D.Node.atDocumentBoundary(r,s,D.Char.DOCUMENT_END);){switch(r[s]){case`
`:if(o){let a=new Ta;s=a.parse({src:r},s),s<r.length&&this.contents.push(a)}else s+=1,o=!0;i=s;break;case"#":{let a=new Na;s=a.parse({src:r},s),this.contents.push(a),o=!1}break;default:{let a=D.Node.endOfIndent(r,s),u=n({atLineStart:o,indent:-1,inFlow:!1,inCollection:!1,lineStart:i,parent:this},a);if(!u)return this.valueRange.end=a;this.contents.push(u),s=u.range.end,o=!1;let c=dm(u);c&&Array.prototype.push.apply(this.contents,c)}}s=Rl.startCommentOrEndBlankLine(r,s)}if(this.valueRange.end=s,r[s]&&(this.documentEndMarker=new D.Range(s,s+3),s+=3,r[s])){if(s=D.Node.endOfWhiteSpace(r,s),r[s]==="#"){let a=new Na;s=a.parse({src:r},s),this.contents.push(a)}switch(r[s]){case`
`:s+=1;break;case void 0:break;default:this.error=new D.YAMLSyntaxError(this,"Document end marker line cannot have a non-comment suffix")}}return s}parse(e,n){e.root=this,this.context=e;let{src:r}=e,i=r.charCodeAt(n)===65279?n+1:n;return i=this.parseDirectives(i),i=this.parseContents(i),i}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.directives.forEach(r=>{n=r.setOrigRanges(e,n)}),this.directivesEndMarker&&(n=this.directivesEndMarker.setOrigRange(e,n)),this.contents.forEach(r=>{n=r.setOrigRanges(e,n)}),this.documentEndMarker&&(n=this.documentEndMarker.setOrigRange(e,n)),n}toString(){let{contents:e,directives:n,value:r}=this;if(r!=null)return r;let i=n.join("");return e.length>0&&((n.length>0||e[0].type===D.Type.COMMENT)&&(i+=`---
`),i+=e.join("")),i[i.length-1]!==`
`&&(i+=`
`),i}},sv=class extends D.Node{parse(e,n){this.context=e;let{src:r}=e,i=D.Node.endOfIdentifier(r,n+1);return this.valueRange=new D.Range(n+1,i),i=D.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}},gs={CLIP:"CLIP",KEEP:"KEEP",STRIP:"STRIP"},ov=class extends D.Node{constructor(e,n){super(e,n);this.blockIndent=null,this.chomping=gs.CLIP,this.header=null}get includesTrailingLines(){return this.chomping===gs.KEEP}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange,{indent:r,src:i}=this.context;if(this.valueRange.isEmpty())return"";let s=null,o=i[n-1];for(;o===`
`||o==="	"||o===" ";){if(n-=1,n<=e){if(this.chomping===gs.KEEP)break;return""}o===`
`&&(s=n),o=i[n-1]}let a=n+1;s&&(this.chomping===gs.KEEP?(a=s,n=this.valueRange.end):n=s);let l=r+this.blockIndent,u=this.type===D.Type.BLOCK_FOLDED,c=!0,f="",m="",d=!1;for(let p=e;p<n;++p){for(let C=0;C<l&&i[p]===" ";++C)p+=1;let _=i[p];if(_===`
`)m===`
`?f+=`
`:m=`
`;else{let C=D.Node.endOfLine(i,p),h=i.slice(p,C);p=C,u&&(_===" "||_==="	")&&p<a?(m===" "?m=`
`:!d&&!c&&m===`
`&&(m=`

`),f+=m+h,m=C<n&&i[C]||"",d=!0):(f+=m+h,m=u&&p<a?" ":`
`,d=!1),c&&h!==""&&(c=!1)}}return this.chomping===gs.STRIP?f:f+`
`}parseBlockHeader(e){let{src:n}=this.context,r=e+1,i="";for(;;){let s=n[r];switch(s){case"-":this.chomping=gs.STRIP;break;case"+":this.chomping=gs.KEEP;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i+=s;break;default:return this.blockIndent=Number(i)||null,this.header=new D.Range(e,r),r}r+=1}}parseBlockValue(e){let{indent:n,src:r}=this.context,i=!!this.blockIndent,s=e,o=e,a=1;for(let l=r[s];l===`
`&&(s+=1,!D.Node.atDocumentBoundary(r,s));l=r[s]){let u=D.Node.endOfBlockIndent(r,n,s);if(u===null)break;let c=r[u],f=u-(s+n);if(this.blockIndent){if(c&&c!==`
`&&f<this.blockIndent){if(r[u]==="#")break;if(!this.error){let d=`Block scalars must not be less indented than their ${i?"explicit indentation indicator":"first line"}`;this.error=new D.YAMLSemanticError(this,d)}}}else if(r[u]!==`
`){if(f<a){let m="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";this.error=new D.YAMLSemanticError(this,m)}this.blockIndent=f}else f>a&&(a=f);r[u]===`
`?s=u:s=o=D.Node.endOfLine(r,u)}return this.chomping!==gs.KEEP&&(s=r[o]?o+1:o),this.valueRange=new D.Range(e+1,s),s}parse(e,n){this.context=e;let{src:r}=e,i=this.parseBlockHeader(n);return i=D.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i=this.parseBlockValue(i),i}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.header?this.header.setOrigRange(e,n):n}},av=class extends D.Node{constructor(e,n){super(e,n);this.items=null}prevNodeIsJsonLike(e=this.items.length){let n=this.items[e-1];return!!n&&(n.jsonLike||n.type===D.Type.COMMENT&&this.prevNodeIsJsonLike(e-1))}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,{indent:s,lineStart:o}=e,a=i[n];this.items=[{char:a,offset:n}];let l=D.Node.endOfWhiteSpace(i,n+1);for(a=i[l];a&&a!=="]"&&a!=="}";){switch(a){case`
`:{o=l+1;let u=D.Node.endOfWhiteSpace(i,o);if(i[u]===`
`){let c=new Ta;o=c.parse({src:i},o),this.items.push(c)}if(l=D.Node.endOfIndent(i,o),l<=o+s&&(a=i[l],l<o+s||a!=="]"&&a!=="}")){let c="Insufficient indentation in flow collection";this.error=new D.YAMLSemanticError(this,c)}}break;case",":this.items.push({char:a,offset:l}),l+=1;break;case"#":{let u=new Na;l=u.parse({src:i},l),this.items.push(u)}break;case"?":case":":{let u=i[l+1];if(u===`
`||u==="	"||u===" "||u===","||a===":"&&this.prevNodeIsJsonLike()){this.items.push({char:a,offset:l}),l+=1;break}}default:{let u=r({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:o,parent:this},l);if(!u)return this.valueRange=new D.Range(n,l),l;this.items.push(u),l=D.Node.normalizeOffset(i,u.range.end)}}l=D.Node.endOfWhiteSpace(i,l),a=i[l]}return this.valueRange=new D.Range(n,l+1),a&&(this.items.push({char:a,offset:l}),l=D.Node.endOfWhiteSpace(i,l+1),l=this.parseComment(l)),l}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.items.forEach(r=>{if(r instanceof D.Node)n=r.setOrigRanges(e,n);else if(e.length===0)r.origOffset=r.offset;else{let i=n;for(;i<e.length&&!(e[i]>r.offset);)++i;r.origOffset=r.offset+i,n=i}}),n}toString(){let{context:{src:e},items:n,range:r,value:i}=this;if(i!=null)return i;let s=n.filter(l=>l instanceof D.Node),o="",a=r.start;return s.forEach(l=>{let u=e.slice(a,l.range.start);a=l.range.end,o+=u+String(l),o[o.length-1]===`
`&&e[a-1]!==`
`&&e[a]===`
`&&(a+=1)}),o+=e.slice(a,r.end),D.Node.addStringTerminator(e,r.end,o)}},Bc=class extends D.Node{static endOfQuote(e,n){let r=e[n];for(;r&&r!=='"';)n+=r==="\\"?2:1,r=e[n];return n+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:n,end:r}=this.valueRange,{indent:i,src:s}=this.context;s[r-1]!=='"'&&e.push(new D.YAMLSyntaxError(this,'Missing closing "quote'));let o="";for(let a=n+1;a<r-1;++a){let l=s[a];if(l===`
`){D.Node.atDocumentBoundary(s,a+1)&&e.push(new D.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:u,offset:c,error:f}=D.Node.foldNewline(s,a,i);o+=u,a=c,f&&e.push(new D.YAMLSemanticError(this,"Multi-line double-quoted string needs to be sufficiently indented"))}else if(l==="\\")switch(a+=1,s[a]){case"0":o+="\0";break;case"a":o+="\x07";break;case"b":o+="\b";break;case"e":o+="\x1B";break;case"f":o+="\f";break;case"n":o+=`
`;break;case"r":o+="\r";break;case"t":o+="	";break;case"v":o+="\v";break;case"N":o+="\x85";break;case"_":o+="\xA0";break;case"L":o+="\u2028";break;case"P":o+="\u2029";break;case" ":o+=" ";break;case'"':o+='"';break;case"/":o+="/";break;case"\\":o+="\\";break;case"	":o+="	";break;case"x":o+=this.parseCharCode(a+1,2,e),a+=2;break;case"u":o+=this.parseCharCode(a+1,4,e),a+=4;break;case"U":o+=this.parseCharCode(a+1,8,e),a+=8;break;case`
`:for(;s[a+1]===" "||s[a+1]==="	";)a+=1;break;default:e.push(new D.YAMLSyntaxError(this,`Invalid escape sequence ${s.substr(a-1,2)}`)),o+="\\"+s[a]}else if(l===" "||l==="	"){let u=a,c=s[a+1];for(;c===" "||c==="	";)a+=1,c=s[a+1];c!==`
`&&(o+=a>u?s.slice(u,a+1):l)}else o+=l}return e.length>0?{errors:e,str:o}:o}parseCharCode(e,n,r){let{src:i}=this.context,s=i.substr(e,n),a=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;return isNaN(a)?(r.push(new D.YAMLSyntaxError(this,`Invalid escape sequence ${i.substr(e-2,n+2)}`)),i.substr(e-2,n+2)):String.fromCodePoint(a)}parse(e,n){this.context=e;let{src:r}=e,i=Bc.endOfQuote(r,n+1);return this.valueRange=new D.Range(n,i),i=D.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}},jc=class extends D.Node{static endOfQuote(e,n){let r=e[n];for(;r;)if(r==="'"){if(e[n+1]!=="'")break;r=e[n+=2]}else r=e[n+=1];return n+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:n,end:r}=this.valueRange,{indent:i,src:s}=this.context;s[r-1]!=="'"&&e.push(new D.YAMLSyntaxError(this,"Missing closing 'quote"));let o="";for(let a=n+1;a<r-1;++a){let l=s[a];if(l===`
`){D.Node.atDocumentBoundary(s,a+1)&&e.push(new D.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:u,offset:c,error:f}=D.Node.foldNewline(s,a,i);o+=u,a=c,f&&e.push(new D.YAMLSemanticError(this,"Multi-line single-quoted string needs to be sufficiently indented"))}else if(l==="'")o+=l,a+=1,s[a]!=="'"&&e.push(new D.YAMLSyntaxError(this,"Unescaped single quote? This should not happen."));else if(l===" "||l==="	"){let u=a,c=s[a+1];for(;c===" "||c==="	";)a+=1,c=s[a+1];c!==`
`&&(o+=a>u?s.slice(u,a+1):l)}else o+=l}return e.length>0?{errors:e,str:o}:o}parse(e,n){this.context=e;let{src:r}=e,i=jc.endOfQuote(r,n+1);return this.valueRange=new D.Range(n,i),i=D.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}};function xO(t,e){switch(t){case D.Type.ALIAS:return new sv(t,e);case D.Type.BLOCK_FOLDED:case D.Type.BLOCK_LITERAL:return new ov(t,e);case D.Type.FLOW_MAP:case D.Type.FLOW_SEQ:return new av(t,e);case D.Type.MAP_KEY:case D.Type.MAP_VALUE:case D.Type.SEQ_ITEM:return new qc(t,e);case D.Type.COMMENT:case D.Type.PLAIN:return new D.PlainValue(t,e);case D.Type.QUOTE_DOUBLE:return new Bc(t,e);case D.Type.QUOTE_SINGLE:return new jc(t,e);default:return null}}var Pa=class{static parseType(e,n,r){switch(e[n]){case"*":return D.Type.ALIAS;case">":return D.Type.BLOCK_FOLDED;case"|":return D.Type.BLOCK_LITERAL;case"{":return D.Type.FLOW_MAP;case"[":return D.Type.FLOW_SEQ;case"?":return!r&&D.Node.atBlank(e,n+1,!0)?D.Type.MAP_KEY:D.Type.PLAIN;case":":return!r&&D.Node.atBlank(e,n+1,!0)?D.Type.MAP_VALUE:D.Type.PLAIN;case"-":return!r&&D.Node.atBlank(e,n+1,!0)?D.Type.SEQ_ITEM:D.Type.PLAIN;case'"':return D.Type.QUOTE_DOUBLE;case"'":return D.Type.QUOTE_SINGLE;default:return D.Type.PLAIN}}constructor(e={},{atLineStart:n,inCollection:r,inFlow:i,indent:s,lineStart:o,parent:a}={}){D._defineProperty(this,"parseNode",(l,u)=>{if(D.Node.atDocumentBoundary(this.src,u))return null;let c=new Pa(this,l),{props:f,type:m,valueStart:d}=c.parseProps(u),p=xO(m,f),_=p.parse(c,d);if(p.range=new D.Range(u,_),_<=u&&(p.error=new Error("Node#parse consumed no characters"),p.error.parseEnd=_,p.error.source=p,p.range.end=u+1),c.nodeStartsCollection(p)){!p.error&&!c.atLineStart&&c.parent.type===D.Type.DOCUMENT&&(p.error=new D.YAMLSyntaxError(p,"Block collection must not have preceding content here (e.g. directives-end indicator)"));let C=new va(p);return _=C.parse(new Pa(c),_),C.range=new D.Range(u,_),C}return p}),this.atLineStart=n??(e.atLineStart||!1),this.inCollection=r??(e.inCollection||!1),this.inFlow=i??(e.inFlow||!1),this.indent=s??e.indent,this.lineStart=o??e.lineStart,this.parent=a??(e.parent||{}),this.root=e.root,this.src=e.src}nodeStartsCollection(e){let{inCollection:n,inFlow:r,src:i}=this;if(n||r)return!1;if(e instanceof qc)return!0;let s=e.range.end;return i[s]===`
`||i[s-1]===`
`?!1:(s=D.Node.endOfWhiteSpace(i,s),i[s]===":")}parseProps(e){let{inFlow:n,parent:r,src:i}=this,s=[],o=!1;e=this.atLineStart?D.Node.endOfIndent(i,e):D.Node.endOfWhiteSpace(i,e);let a=i[e];for(;a===D.Char.ANCHOR||a===D.Char.COMMENT||a===D.Char.TAG||a===`
`;){if(a===`
`){let u=e,c;do c=u+1,u=D.Node.endOfIndent(i,c);while(i[u]===`
`);let f=u-(c+this.indent),m=r.type===D.Type.SEQ_ITEM&&r.context.atLineStart;if(i[u]!=="#"&&!D.Node.nextNodeIsIndented(i[u],f,!m))break;this.atLineStart=!0,this.lineStart=c,o=!1,e=u}else if(a===D.Char.COMMENT){let u=D.Node.endOfLine(i,e+1);s.push(new D.Range(e,u)),e=u}else{let u=D.Node.endOfIdentifier(i,e+1);a===D.Char.TAG&&i[u]===","&&/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+,\d\d\d\d(-\d\d){0,2}\/\S/.test(i.slice(e+1,u+13))&&(u=D.Node.endOfIdentifier(i,u+5)),s.push(new D.Range(e,u)),o=!0,e=D.Node.endOfWhiteSpace(i,u)}a=i[e]}o&&a===":"&&D.Node.atBlank(i,e+1,!0)&&(e-=1);let l=Pa.parseType(i,e,n);return{props:s,type:l,valueStart:e}}};function EO(t){let e=[];t.indexOf("\r")!==-1&&(t=t.replace(/\r\n?/g,(i,s)=>(i.length>1&&e.push(s),`
`)));let n=[],r=0;do{let i=new Rl,s=new Pa({src:t});r=i.parse(s,r),n.push(i)}while(r<t.length);return n.setOrigRanges=()=>{if(e.length===0)return!1;for(let s=1;s<e.length;++s)e[s]-=s;let i=0;for(let s=0;s<n.length;++s)i=n[s].setOrigRanges(e,i);return e.splice(0,e.length),!0},n.toString=()=>n.join(`...
`),n}lv.parse=EO});var Sa=K(_t=>{"use strict";var j=hs();function wO(t,e,n){return n?`#${n.replace(/[\s\S]^/gm,`$&${e}#`)}
${e}${t}`:t}function Ia(t,e,n){return n?n.indexOf(`
`)===-1?`${t} #${n}`:`${t}
`+n.replace(/^/gm,`${e||""}#`):t}var hr=class{};function _s(t,e,n){if(Array.isArray(t))return t.map((r,i)=>_s(r,String(i),n));if(t&&typeof t.toJSON=="function"){let r=n&&n.anchors&&n.anchors.get(t);r&&(n.onCreate=s=>{r.res=s,delete n.onCreate});let i=t.toJSON(e,n);return r&&n.onCreate&&n.onCreate(i),i}return(!n||!n.keep)&&typeof t=="bigint"?Number(t):t}var Sn=class extends hr{constructor(e){super();this.value=e}toJSON(e,n){return n&&n.keep?this.value:_s(this.value,e,n)}toString(){return String(this.value)}};function cv(t,e,n){let r=n;for(let i=e.length-1;i>=0;--i){let s=e[i];if(Number.isInteger(s)&&s>=0){let o=[];o[s]=r,r=o}else{let o={};Object.defineProperty(o,s,{value:r,writable:!0,enumerable:!0,configurable:!0}),r=o}}return t.createNode(r,!1)}var fv=t=>t==null||typeof t=="object"&&t[Symbol.iterator]().next().done,Gt=class extends hr{constructor(e){super();j._defineProperty(this,"items",[]),this.schema=e}addIn(e,n){if(fv(e))this.add(n);else{let[r,...i]=e,s=this.get(r,!0);if(s instanceof Gt)s.addIn(i,n);else if(s===void 0&&this.schema)this.set(r,cv(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn([e,...n]){if(n.length===0)return this.delete(e);let r=this.get(e,!0);if(r instanceof Gt)return r.deleteIn(n);throw new Error(`Expected YAML collection at ${e}. Remaining path: ${n}`)}getIn([e,...n],r){let i=this.get(e,!0);return n.length===0?!r&&i instanceof Sn?i.value:i:i instanceof Gt?i.getIn(n,r):void 0}hasAllNullValues(){return this.items.every(e=>{if(!e||e.type!=="PAIR")return!1;let n=e.value;return n==null||n instanceof Sn&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn([e,...n]){if(n.length===0)return this.has(e);let r=this.get(e,!0);return r instanceof Gt?r.hasIn(n):!1}setIn([e,...n],r){if(n.length===0)this.set(e,r);else{let i=this.get(e,!0);if(i instanceof Gt)i.setIn(n,r);else if(i===void 0&&this.schema)this.set(e,cv(this.schema,n,r));else throw new Error(`Expected YAML collection at ${e}. Remaining path: ${n}`)}}toJSON(){return null}toString(e,{blockItem:n,flowChars:r,isMap:i,itemIndent:s},o,a){let{indent:l,indentStep:u,stringify:c}=e,f=this.type===j.Type.FLOW_MAP||this.type===j.Type.FLOW_SEQ||e.inFlow;f&&(s+=u);let m=i&&this.hasAllNullValues();e=Object.assign({},e,{allNullValues:m,indent:s,inFlow:f,type:null});let d=!1,p=!1,_=this.items.reduce((h,b,g)=>{let N;b&&(!d&&b.spaceBefore&&h.push({type:"comment",str:""}),b.commentBefore&&b.commentBefore.match(/^.*$/gm).forEach(V=>{h.push({type:"comment",str:`#${V}`})}),b.comment&&(N=b.comment),f&&(!d&&b.spaceBefore||b.commentBefore||b.comment||b.key&&(b.key.commentBefore||b.key.comment)||b.value&&(b.value.commentBefore||b.value.comment))&&(p=!0)),d=!1;let S=c(b,e,()=>N=null,()=>d=!0);return f&&!p&&S.includes(`
`)&&(p=!0),f&&g<this.items.length-1&&(S+=","),S=Ia(S,s,N),d&&(N||f)&&(d=!1),h.push({type:"item",str:S}),h},[]),C;if(_.length===0)C=r.start+r.end;else if(f){let{start:h,end:b}=r,g=_.map(N=>N.str);if(p||g.reduce((N,S)=>N+S.length+2,2)>Gt.maxFlowStringSingleLineLength){C=h;for(let N of g)C+=N?`
${u}${l}${N}`:`
`;C+=`
${l}${b}`}else C=`${h} ${g.join(" ")} ${b}`}else{let h=_.map(n);C=h.shift();for(let b of h)C+=b?`
${l}${b}`:`
`}return this.comment?(C+=`
`+this.comment.replace(/^/gm,`${l}#`),o&&o()):d&&a&&a(),C}};j._defineProperty(Gt,"maxFlowStringSingleLineLength",60);function Uc(t){let e=t instanceof Sn?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),Number.isInteger(e)&&e>=0?e:null}var eo=class extends Gt{add(e){this.items.push(e)}delete(e){let n=Uc(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){let r=Uc(e);if(typeof r!="number")return;let i=this.items[r];return!n&&i instanceof Sn?i.value:i}has(e){let n=Uc(e);return typeof n=="number"&&n<this.items.length}set(e,n){let r=Uc(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);this.items[r]=n}toJSON(e,n){let r=[];n&&n.onCreate&&n.onCreate(r);let i=0;for(let s of this.items)r.push(_s(s,String(i++),n));return r}toString(e,n,r){return e?super.toString(e,{blockItem:i=>i.type==="comment"?i.str:`- ${i.str}`,flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(e.indent||"")+"  "},n,r):JSON.stringify(this)}},OO=(t,e,n)=>e===null?"":typeof e!="object"?String(e):t instanceof hr&&n&&n.doc?t.toString({anchors:Object.create(null),doc:n.doc,indent:"",indentStep:n.indentStep,inFlow:!0,inStringifyKey:!0,stringify:n.stringify}):JSON.stringify(e),rt=class extends hr{constructor(e,n=null){super();this.key=e,this.value=n,this.type=rt.Type.PAIR}get commentBefore(){return this.key instanceof hr?this.key.commentBefore:void 0}set commentBefore(e){if(this.key==null&&(this.key=new Sn(null)),this.key instanceof hr)this.key.commentBefore=e;else{let n="Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.";throw new Error(n)}}addToJSMap(e,n){let r=_s(this.key,"",e);if(n instanceof Map){let i=_s(this.value,r,e);n.set(r,i)}else if(n instanceof Set)n.add(r);else{let i=OO(this.key,r,e),s=_s(this.value,i,e);i in n?Object.defineProperty(n,i,{value:s,writable:!0,enumerable:!0,configurable:!0}):n[i]=s}return n}toJSON(e,n){let r=n&&n.mapAsMap?new Map:{};return this.addToJSMap(n,r)}toString(e,n,r){if(!e||!e.doc)return JSON.stringify(this);let{indent:i,indentSeq:s,simpleKeys:o}=e.doc.options,{key:a,value:l}=this,u=a instanceof hr&&a.comment;if(o){if(u)throw new Error("With simple keys, key nodes cannot have comments");if(a instanceof Gt){let S="With simple keys, collection cannot be used as a key value";throw new Error(S)}}let c=!o&&(!a||u||(a instanceof hr?a instanceof Gt||a.type===j.Type.BLOCK_FOLDED||a.type===j.Type.BLOCK_LITERAL:typeof a=="object")),{doc:f,indent:m,indentStep:d,stringify:p}=e;e=Object.assign({},e,{implicitKey:!c,indent:m+d});let _=!1,C=p(a,e,()=>u=null,()=>_=!0);if(C=Ia(C,e.indent,u),!c&&C.length>1024){if(o)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");c=!0}if(e.allNullValues&&!o)return this.comment?(C=Ia(C,e.indent,this.comment),n&&n()):_&&!u&&r&&r(),e.inFlow&&!c?C:`? ${C}`;C=c?`? ${C}
${m}:`:`${C}:`,this.comment&&(C=Ia(C,e.indent,this.comment),n&&n());let h="",b=null;l instanceof hr?(l.spaceBefore&&(h=`
`),l.commentBefore&&(h+=`
${l.commentBefore.replace(/^/gm,`${e.indent}#`)}`),b=l.comment):l&&typeof l=="object"&&(l=f.schema.createNode(l,!0)),e.implicitKey=!1,!c&&!this.comment&&l instanceof Sn&&(e.indentAtStart=C.length+1),_=!1,!s&&i>=2&&!e.inFlow&&!c&&l instanceof eo&&l.type!==j.Type.FLOW_SEQ&&!l.tag&&!f.anchors.getName(l)&&(e.indent=e.indent.substr(2));let g=p(l,e,()=>b=null,()=>_=!0),N=" ";return h||this.comment?N=`${h}
${e.indent}`:!c&&l instanceof Gt?(!(g[0]==="["||g[0]==="{")||g.includes(`
`))&&(N=`
${e.indent}`):g[0]===`
`&&(N=""),_&&!b&&r&&r(),Ia(C+N+g,e.indent,b)}};j._defineProperty(rt,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var Gc=(t,e)=>{if(t instanceof ys){let n=e.get(t.source);return n.count*n.aliasCount}else if(t instanceof Gt){let n=0;for(let r of t.items){let i=Gc(r,e);i>n&&(n=i)}return n}else if(t instanceof rt){let n=Gc(t.key,e),r=Gc(t.value,e);return Math.max(n,r)}return 1},ys=class extends hr{static stringify({range:e,source:n},{anchors:r,doc:i,implicitKey:s,inStringifyKey:o}){let a=Object.keys(r).find(u=>r[u]===n);if(!a&&o&&(a=i.anchors.getName(n)||i.anchors.newName()),a)return`*${a}${s?" ":""}`;let l=i.anchors.getName(n)?"Alias node must be after source node":"Source node not found for alias node";throw new Error(`${l} [${e}]`)}constructor(e){super();this.source=e,this.type=j.Type.ALIAS}set tag(e){throw new Error("Alias nodes cannot have tags")}toJSON(e,n){if(!n)return _s(this.source,e,n);let{anchors:r,maxAliasCount:i}=n,s=r.get(this.source);if(!s||s.res===void 0){let o="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new j.YAMLReferenceError(this.cstNode,o):new ReferenceError(o)}if(i>=0&&(s.count+=1,s.aliasCount===0&&(s.aliasCount=Gc(this.source,r)),s.count*s.aliasCount>i)){let o="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new j.YAMLReferenceError(this.cstNode,o):new ReferenceError(o)}return s.res}toString(e){return ys.stringify(this,e)}};j._defineProperty(ys,"default",!0);function Al(t,e){let n=e instanceof Sn?e.value:e;for(let r of t)if(r instanceof rt&&(r.key===e||r.key===n||r.key&&r.key.value===n))return r}var Wc=class extends Gt{add(e,n){e?e instanceof rt||(e=new rt(e.key||e,e.value)):e=new rt(e);let r=Al(this.items,e.key),i=this.schema&&this.schema.sortMapEntries;if(r)if(n)r.value=e.value;else throw new Error(`Key ${e.key} already set`);else if(i){let s=this.items.findIndex(o=>i(e,o)<0);s===-1?this.items.push(e):this.items.splice(s,0,e)}else this.items.push(e)}delete(e){let n=Al(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){let r=Al(this.items,e),i=r&&r.value;return!n&&i instanceof Sn?i.value:i}has(e){return!!Al(this.items,e)}set(e,n){this.add(new rt(e,n),!0)}toJSON(e,n,r){let i=r?new r:n&&n.mapAsMap?new Map:{};n&&n.onCreate&&n.onCreate(i);for(let s of this.items)s.addToJSMap(n,i);return i}toString(e,n,r){if(!e)return JSON.stringify(this);for(let i of this.items)if(!(i instanceof rt))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return super.toString(e,{blockItem:i=>i.str,flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:e.indent||""},n,r)}},pv="<<",mm=class extends rt{constructor(e){if(e instanceof rt){let n=e.value;n instanceof eo||(n=new eo,n.items.push(e.value),n.range=e.value.range);super(e.key,n);this.range=e.range}else super(new Sn(pv),new eo);this.type=rt.Type.MERGE_PAIR}addToJSMap(e,n){for(let{source:r}of this.value.items){if(!(r instanceof Wc))throw new Error("Merge sources must be maps");let i=r.toJSON(null,e,Map);for(let[s,o]of i)n instanceof Map?n.has(s)||n.set(s,o):n instanceof Set?n.add(s):Object.prototype.hasOwnProperty.call(n,s)||Object.defineProperty(n,s,{value:o,writable:!0,enumerable:!0,configurable:!0})}return n}toString(e,n){let r=this.value;if(r.items.length>1)return super.toString(e,n);this.value=r.items[0];let i=super.toString(e,n);return this.value=r,i}},LO={defaultType:j.Type.BLOCK_LITERAL,lineWidth:76},DO={trueStr:"true",falseStr:"false"},kO={asBigInt:!1},MO={nullStr:"null"},to={defaultType:j.Type.PLAIN,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function hm(t,e,n){for(let{format:r,test:i,resolve:s}of e)if(i){let o=t.match(i);if(o){let a=s.apply(null,o);return a instanceof Sn||(a=new Sn(a)),r&&(a.format=r),a}}return n&&(t=n(t)),new Sn(t)}var dv="flow",gm="block",Hc="quoted",mv=(t,e)=>{let n=t[e+1];for(;n===" "||n==="	";){do n=t[e+=1];while(n&&n!==`
`);n=t[e+1]}return e};function Yc(t,e,n,{indentAtStart:r,lineWidth:i=80,minContentWidth:s=20,onFold:o,onOverflow:a}){if(!i||i<0)return t;let l=Math.max(1+s,1+i-e.length);if(t.length<=l)return t;let u=[],c={},f=i-e.length;typeof r=="number"&&(r>i-Math.max(2,s)?u.push(0):f=i-r);let m,d,p=!1,_=-1,C=-1,h=-1;n===gm&&(_=mv(t,_),_!==-1&&(f=_+l));for(let g;g=t[_+=1];){if(n===Hc&&g==="\\"){switch(C=_,t[_+1]){case"x":_+=3;break;case"u":_+=5;break;case"U":_+=9;break;default:_+=1}h=_}if(g===`
`)n===gm&&(_=mv(t,_)),f=_+l,m=void 0;else{if(g===" "&&d&&d!==" "&&d!==`
`&&d!=="	"){let N=t[_+1];N&&N!==" "&&N!==`
`&&N!=="	"&&(m=_)}if(_>=f)if(m)u.push(m),f=m+l,m=void 0;else if(n===Hc){for(;d===" "||d==="	";)d=g,g=t[_+=1],p=!0;let N=_>h+1?_-2:C-1;if(c[N])return t;u.push(N),c[N]=!0,f=N+l,m=void 0}else p=!0}d=g}if(p&&a&&a(),u.length===0)return t;o&&o();let b=t.slice(0,u[0]);for(let g=0;g<u.length;++g){let N=u[g],S=u[g+1]||t.length;N===0?b=`
${e}${t.slice(0,S)}`:(n===Hc&&c[N]&&(b+=`${t[N]}\\`),b+=`
${e}${t.slice(N+1,S)}`)}return b}var _m=({indentAtStart:t})=>t?Object.assign({indentAtStart:t},to.fold):to.fold,Kc=t=>/^(%|---|\.\.\.)/m.test(t);function FO(t,e,n){if(!e||e<0)return!1;let r=e-n,i=t.length;if(i<=r)return!1;for(let s=0,o=0;s<i;++s)if(t[s]===`
`){if(s-o>r)return!0;if(o=s+1,i-o<=r)return!1}return!0}function no(t,e){let{implicitKey:n}=e,{jsonEncoding:r,minMultiLineLength:i}=to.doubleQuoted,s=JSON.stringify(t);if(r)return s;let o=e.indent||(Kc(t)?"  ":""),a="",l=0;for(let u=0,c=s[u];c;c=s[++u])if(c===" "&&s[u+1]==="\\"&&s[u+2]==="n"&&(a+=s.slice(l,u)+"\\ ",u+=1,l=u,c="\\"),c==="\\")switch(s[u+1]){case"u":{a+=s.slice(l,u);let f=s.substr(u+2,4);switch(f){case"0000":a+="\\0";break;case"0007":a+="\\a";break;case"000b":a+="\\v";break;case"001b":a+="\\e";break;case"0085":a+="\\N";break;case"00a0":a+="\\_";break;case"2028":a+="\\L";break;case"2029":a+="\\P";break;default:f.substr(0,2)==="00"?a+="\\x"+f.substr(2):a+=s.substr(u,6)}u+=5,l=u+1}break;case"n":if(n||s[u+2]==='"'||s.length<i)u+=1;else{for(a+=s.slice(l,u)+`

`;s[u+2]==="\\"&&s[u+3]==="n"&&s[u+4]!=='"';)a+=`
`,u+=2;a+=o,s[u+2]===" "&&(a+="\\"),u+=1,l=u+1}break;default:u+=1}return a=l?a+s.slice(l):s,n?a:Yc(a,o,Hc,_m(e))}function hv(t,e){if(e.implicitKey){if(/\n/.test(t))return no(t,e)}else if(/[ \t]\n|\n[ \t]/.test(t))return no(t,e);let n=e.indent||(Kc(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:Yc(r,n,dv,_m(e))}function $c({comment:t,type:e,value:n},r,i,s){if(/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return no(n,r);let o=r.indent||(r.forceBlockIndent||Kc(n)?"  ":""),a=o?"2":"1",l=e===j.Type.BLOCK_FOLDED?!1:e===j.Type.BLOCK_LITERAL?!0:!FO(n,to.fold.lineWidth,o.length),u=l?"|":">";if(!n)return u+`
`;let c="",f="";if(n=n.replace(/[\n\t ]*$/,d=>{let p=d.indexOf(`
`);return p===-1?u+="-":(n===d||p!==d.length-1)&&(u+="+",s&&s()),f=d.replace(/\n$/,""),""}).replace(/^[\n ]*/,d=>{d.indexOf(" ")!==-1&&(u+=a);let p=d.match(/ +$/);return p?(c=d.slice(0,-p[0].length),p[0]):(c=d,"")}),f&&(f=f.replace(/\n+(?!\n|$)/g,`$&${o}`)),c&&(c=c.replace(/\n+/g,`$&${o}`)),t&&(u+=" #"+t.replace(/ ?[\r\n]+/g," "),i&&i()),!n)return`${u}${a}
${o}${f}`;if(l)return n=n.replace(/\n+/g,`$&${o}`),`${u}
${o}${c}${n}${f}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${o}`);let m=Yc(`${c}${n}${f}`,o,gm,to.fold);return`${u}
${o}${m}`}function VO(t,e,n,r){let{comment:i,type:s,value:o}=t,{actualString:a,implicitKey:l,indent:u,inFlow:c}=e;if(l&&/[\n[\]{},]/.test(o)||c&&/[[\]{},]/.test(o))return no(o,e);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return l||c||o.indexOf(`
`)===-1?o.indexOf('"')!==-1&&o.indexOf("'")===-1?hv(o,e):no(o,e):$c(t,e,n,r);if(!l&&!c&&s!==j.Type.PLAIN&&o.indexOf(`
`)!==-1)return $c(t,e,n,r);if(u===""&&Kc(o))return e.forceBlockIndent=!0,$c(t,e,n,r);let f=o.replace(/\n+/g,`$&
${u}`);if(a){let{tags:d}=e.doc.schema;if(typeof hm(f,d,d.scalarFallback).value!="string")return no(o,e)}let m=l?f:Yc(f,u,dv,_m(e));return i&&!c&&(m.indexOf(`
`)!==-1||i.indexOf(`
`)!==-1)?(n&&n(),wO(m,u,i)):m}function qO(t,e,n,r){let{defaultType:i}=to,{implicitKey:s,inFlow:o}=e,{type:a,value:l}=t;typeof l!="string"&&(l=String(l),t=Object.assign({},t,{value:l}));let u=f=>{switch(f){case j.Type.BLOCK_FOLDED:case j.Type.BLOCK_LITERAL:return $c(t,e,n,r);case j.Type.QUOTE_DOUBLE:return no(l,e);case j.Type.QUOTE_SINGLE:return hv(l,e);case j.Type.PLAIN:return VO(t,e,n,r);default:return null}};(a!==j.Type.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(l)||(s||o)&&(a===j.Type.BLOCK_FOLDED||a===j.Type.BLOCK_LITERAL))&&(a=j.Type.QUOTE_DOUBLE);let c=u(a);if(c===null&&(c=u(i),c===null))throw new Error(`Unsupported default string type ${i}`);return c}function BO({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let i=JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let s=i.indexOf(".");s<0&&(s=i.length,i+=".");let o=e-(i.length-s-1);for(;o-- >0;)i+="0"}return i}function gv(t,e){let n,r;switch(e.type){case j.Type.FLOW_MAP:n="}",r="flow map";break;case j.Type.FLOW_SEQ:n="]",r="flow sequence";break;default:t.push(new j.YAMLSemanticError(e,"Not a flow collection!?"));return}let i;for(let s=e.items.length-1;s>=0;--s){let o=e.items[s];if(!o||o.type!==j.Type.COMMENT){i=o;break}}if(i&&i.char!==n){let s=`Expected ${r} to end with ${n}`,o;typeof i.offset=="number"?(o=new j.YAMLSemanticError(e,s),o.offset=i.offset+1):(o=new j.YAMLSemanticError(i,s),i.range&&i.range.end&&(o.offset=i.range.end-i.range.start)),t.push(o)}}function _v(t,e){let n=e.context.src[e.range.start-1];if(n!==`
`&&n!=="	"&&n!==" "){let r="Comments must be separated from other tokens by white space characters";t.push(new j.YAMLSemanticError(e,r))}}function yv(t,e){let n=String(e),r=n.substr(0,8)+"..."+n.substr(-8);return new j.YAMLSemanticError(t,`The "${r}" key is too long`)}function bv(t,e){for(let{afterKey:n,before:r,comment:i}of e){let s=t.items[r];s?(n&&s.value&&(s=s.value),i===void 0?(n||!s.commentBefore)&&(s.spaceBefore=!0):s.commentBefore?s.commentBefore+=`
`+i:s.commentBefore=i):i!==void 0&&(t.comment?t.comment+=`
`+i:t.comment=i)}}function ym(t,e){let n=e.strValue;return n?typeof n=="string"?n:(n.errors.forEach(r=>{r.source||(r.source=e),t.errors.push(r)}),n.str):""}function jO(t,e){let{handle:n,suffix:r}=e.tag,i=t.tagPrefixes.find(s=>s.handle===n);if(!i){let s=t.getDefaults().tagPrefixes;if(s&&(i=s.find(o=>o.handle===n)),!i)throw new j.YAMLSemanticError(e,`The ${n} tag handle is non-default and was not declared.`)}if(!r)throw new j.YAMLSemanticError(e,`The ${n} tag has no suffix.`);if(n==="!"&&(t.version||t.options.version)==="1.0"){if(r[0]==="^")return t.warnings.push(new j.YAMLWarning(e,"YAML 1.0 ^ tag expansion is not supported")),r;if(/[:/]/.test(r)){let s=r.match(/^([a-z0-9-]+)\/(.*)/i);return s?`tag:${s[1]}.yaml.org,2002:${s[2]}`:`tag:${r}`}}return i.prefix+decodeURIComponent(r)}function UO(t,e){let{tag:n,type:r}=e,i=!1;if(n){let{handle:s,suffix:o,verbatim:a}=n;if(a){if(a!=="!"&&a!=="!!")return a;let l=`Verbatim tags aren't resolved, so ${a} is invalid.`;t.errors.push(new j.YAMLSemanticError(e,l))}else if(s==="!"&&!o)i=!0;else try{return jO(t,e)}catch(l){t.errors.push(l)}}switch(r){case j.Type.BLOCK_FOLDED:case j.Type.BLOCK_LITERAL:case j.Type.QUOTE_DOUBLE:case j.Type.QUOTE_SINGLE:return j.defaultTags.STR;case j.Type.FLOW_MAP:case j.Type.MAP:return j.defaultTags.MAP;case j.Type.FLOW_SEQ:case j.Type.SEQ:return j.defaultTags.SEQ;case j.Type.PLAIN:return i?j.defaultTags.STR:null;default:return null}}function Tv(t,e,n){let{tags:r}=t.schema,i=[];for(let o of r)if(o.tag===n)if(o.test)i.push(o);else{let a=o.resolve(t,e);return a instanceof Gt?a:new Sn(a)}let s=ym(t,e);return typeof s=="string"&&i.length>0?hm(s,i,r.scalarFallback):null}function GO({type:t}){switch(t){case j.Type.FLOW_MAP:case j.Type.MAP:return j.defaultTags.MAP;case j.Type.FLOW_SEQ:case j.Type.SEQ:return j.defaultTags.SEQ;default:return j.defaultTags.STR}}function WO(t,e,n){try{let r=Tv(t,e,n);if(r)return n&&e.tag&&(r.tag=n),r}catch(r){return r.source||(r.source=e),t.errors.push(r),null}try{let r=GO(e);if(!r)throw new Error(`The tag ${n} is unavailable`);let i=`The tag ${n} is unavailable, falling back to ${r}`;t.warnings.push(new j.YAMLWarning(e,i));let s=Tv(t,e,r);return s.tag=n,s}catch(r){let i=new j.YAMLReferenceError(e,r.message);return i.stack=r.stack,t.errors.push(i),null}}var HO=t=>{if(!t)return!1;let{type:e}=t;return e===j.Type.MAP_KEY||e===j.Type.MAP_VALUE||e===j.Type.SEQ_ITEM};function YO(t,e){let n={before:[],after:[]},r=!1,i=!1,s=HO(e.context.parent)?e.context.parent.props.concat(e.props):e.props;for(let{start:o,end:a}of s)switch(e.context.src[o]){case j.Char.COMMENT:{if(!e.commentHasRequiredWhitespace(o)){let f="Comments must be separated from other tokens by white space characters";t.push(new j.YAMLSemanticError(e,f))}let{header:l,valueRange:u}=e;(u&&(o>u.start||l&&o>l.start)?n.after:n.before).push(e.context.src.slice(o+1,a));break}case j.Char.ANCHOR:if(r){let l="A node can have at most one anchor";t.push(new j.YAMLSemanticError(e,l))}r=!0;break;case j.Char.TAG:if(i){let l="A node can have at most one tag";t.push(new j.YAMLSemanticError(e,l))}i=!0;break}return{comments:n,hasAnchor:r,hasTag:i}}function KO(t,e){let{anchors:n,errors:r,schema:i}=t;if(e.type===j.Type.ALIAS){let o=e.rawValue,a=n.getNode(o);if(!a){let u=`Aliased anchor not found: ${o}`;return r.push(new j.YAMLReferenceError(e,u)),null}let l=new ys(a);return n._cstAliases.push(l),l}let s=UO(t,e);if(s)return WO(t,e,s);if(e.type!==j.Type.PLAIN){let o=`Failed to resolve ${e.type} node here`;return r.push(new j.YAMLSyntaxError(e,o)),null}try{let o=ym(t,e);return hm(o,i.tags,i.tags.scalarFallback)}catch(o){return o.source||(o.source=e),r.push(o),null}}function bs(t,e){if(!e)return null;e.error&&t.errors.push(e.error);let{comments:n,hasAnchor:r,hasTag:i}=YO(t.errors,e);if(r){let{anchors:o}=t,a=e.anchor,l=o.getNode(a);l&&(o.map[o.newName(a)]=l),o.map[a]=e}if(e.type===j.Type.ALIAS&&(r||i)){let o="An alias node must not specify any properties";t.errors.push(new j.YAMLSemanticError(e,o))}let s=KO(t,e);if(s){s.range=[e.range.start,e.range.end],t.options.keepCstNodes&&(s.cstNode=e),t.options.keepNodeTypes&&(s.type=e.type);let o=n.before.join(`
`);o&&(s.commentBefore=s.commentBefore?`${s.commentBefore}
${o}`:o);let a=n.after.join(`
`);a&&(s.comment=s.comment?`${s.comment}
${a}`:a)}return e.resolved=s}function $O(t,e){if(e.type!==j.Type.MAP&&e.type!==j.Type.FLOW_MAP){let o=`A ${e.type} node cannot be resolved as a mapping`;return t.errors.push(new j.YAMLSyntaxError(e,o)),null}let{comments:n,items:r}=e.type===j.Type.FLOW_MAP?JO(t,e):QO(t,e),i=new Wc;i.items=r,bv(i,n);let s=!1;for(let o=0;o<r.length;++o){let{key:a}=r[o];if(a instanceof Gt&&(s=!0),t.schema.merge&&a&&a.value===pv){r[o]=new mm(r[o]);let l=r[o].value.items,u=null;l.some(c=>{if(c instanceof ys){let{type:f}=c.source;return f===j.Type.MAP||f===j.Type.FLOW_MAP?!1:u="Merge nodes aliases can only point to maps"}return u="Merge nodes can only have Alias nodes as values"}),u&&t.errors.push(new j.YAMLSemanticError(e,u))}else for(let l=o+1;l<r.length;++l){let{key:u}=r[l];if(a===u||a&&u&&Object.prototype.hasOwnProperty.call(a,"value")&&a.value===u.value){let c=`Map keys must be unique; "${a}" is repeated`;t.errors.push(new j.YAMLSemanticError(e,c));break}}}if(s&&!t.options.mapAsMap){let o="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new j.YAMLWarning(e,o))}return e.resolved=i,i}var zO=({context:{lineStart:t,node:e,src:n},props:r})=>{if(r.length===0)return!1;let{start:i}=r[0];if(e&&i>e.valueRange.start||n[i]!==j.Char.COMMENT)return!1;for(let s=t;s<i;++s)if(n[s]===`
`)return!1;return!0};function XO(t,e){if(!zO(t))return;let n=t.getPropValue(0,j.Char.COMMENT,!0),r=!1,i=e.value.commentBefore;if(i&&i.startsWith(n))e.value.commentBefore=i.substr(n.length+1),r=!0;else{let s=e.value.comment;!t.node&&s&&s.startsWith(n)&&(e.value.comment=s.substr(n.length+1),r=!0)}r&&(e.comment=n)}function QO(t,e){let n=[],r=[],i,s=null;for(let o=0;o<e.items.length;++o){let a=e.items[o];switch(a.type){case j.Type.BLANK_LINE:n.push({afterKey:!!i,before:r.length});break;case j.Type.COMMENT:n.push({afterKey:!!i,before:r.length,comment:a.comment});break;case j.Type.MAP_KEY:i!==void 0&&r.push(new rt(i)),a.error&&t.errors.push(a.error),i=bs(t,a.node),s=null;break;case j.Type.MAP_VALUE:{if(i===void 0&&(i=null),a.error&&t.errors.push(a.error),!a.context.atLineStart&&a.node&&a.node.type===j.Type.MAP&&!a.node.context.atLineStart){let c="Nested mappings are not allowed in compact mappings";t.errors.push(new j.YAMLSemanticError(a.node,c))}let l=a.node;if(!l&&a.props.length>0){l=new j.PlainValue(j.Type.PLAIN,[]),l.context={parent:a,src:a.context.src};let c=a.range.start+1;if(l.range={start:c,end:c},l.valueRange={start:c,end:c},typeof a.range.origStart=="number"){let f=a.range.origStart+1;l.range.origStart=l.range.origEnd=f,l.valueRange.origStart=l.valueRange.origEnd=f}}let u=new rt(i,bs(t,l));XO(a,u),r.push(u),i&&typeof s=="number"&&a.range.start>s+1024&&t.errors.push(yv(e,i)),i=void 0,s=null}break;default:i!==void 0&&r.push(new rt(i)),i=bs(t,a),s=a.range.start,a.error&&t.errors.push(a.error);e:for(let l=o+1;;++l){let u=e.items[l];switch(u&&u.type){case j.Type.BLANK_LINE:case j.Type.COMMENT:continue e;case j.Type.MAP_VALUE:break e;default:{let c="Implicit map keys need to be followed by map values";t.errors.push(new j.YAMLSemanticError(a,c));break e}}}if(a.valueRangeContainsNewline){let l="Implicit map keys need to be on a single line";t.errors.push(new j.YAMLSemanticError(a,l))}}}return i!==void 0&&r.push(new rt(i)),{comments:n,items:r}}function JO(t,e){let n=[],r=[],i,s=!1,o="{";for(let a=0;a<e.items.length;++a){let l=e.items[a];if(typeof l.char=="string"){let{char:u,offset:c}=l;if(u==="?"&&i===void 0&&!s){s=!0,o=":";continue}if(u===":"){if(i===void 0&&(i=null),o===":"){o=",";continue}}else if(s&&(i===void 0&&u!==","&&(i=null),s=!1),i!==void 0&&(r.push(new rt(i)),i=void 0,u===",")){o=":";continue}if(u==="}"){if(a===e.items.length-1)continue}else if(u===o){o=":";continue}let f=`Flow map contains an unexpected ${u}`,m=new j.YAMLSyntaxError(e,f);m.offset=c,t.errors.push(m)}else l.type===j.Type.BLANK_LINE?n.push({afterKey:!!i,before:r.length}):l.type===j.Type.COMMENT?(_v(t.errors,l),n.push({afterKey:!!i,before:r.length,comment:l.comment})):i===void 0?(o===","&&t.errors.push(new j.YAMLSemanticError(l,"Separator , missing in flow map")),i=bs(t,l)):(o!==","&&t.errors.push(new j.YAMLSemanticError(l,"Indicator : missing in flow map entry")),r.push(new rt(i,bs(t,l))),i=void 0,s=!1)}return gv(t.errors,e),i!==void 0&&r.push(new rt(i)),{comments:n,items:r}}function ZO(t,e){if(e.type!==j.Type.SEQ&&e.type!==j.Type.FLOW_SEQ){let s=`A ${e.type} node cannot be resolved as a sequence`;return t.errors.push(new j.YAMLSyntaxError(e,s)),null}let{comments:n,items:r}=e.type===j.Type.FLOW_SEQ?tL(t,e):eL(t,e),i=new eo;if(i.items=r,bv(i,n),!t.options.mapAsMap&&r.some(s=>s instanceof rt&&s.key instanceof Gt)){let s="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new j.YAMLWarning(e,s))}return e.resolved=i,i}function eL(t,e){let n=[],r=[];for(let i=0;i<e.items.length;++i){let s=e.items[i];switch(s.type){case j.Type.BLANK_LINE:n.push({before:r.length});break;case j.Type.COMMENT:n.push({comment:s.comment,before:r.length});break;case j.Type.SEQ_ITEM:if(s.error&&t.errors.push(s.error),r.push(bs(t,s.node)),s.hasProps){let o="Sequence items cannot have tags or anchors before the - indicator";t.errors.push(new j.YAMLSemanticError(s,o))}break;default:s.error&&t.errors.push(s.error),t.errors.push(new j.YAMLSyntaxError(s,`Unexpected ${s.type} node in sequence`))}}return{comments:n,items:r}}function tL(t,e){let n=[],r=[],i=!1,s,o=null,a="[",l=null;for(let u=0;u<e.items.length;++u){let c=e.items[u];if(typeof c.char=="string"){let{char:f,offset:m}=c;if(f!==":"&&(i||s!==void 0)&&(i&&s===void 0&&(s=a?r.pop():null),r.push(new rt(s)),i=!1,s=void 0,o=null),f===a)a=null;else if(!a&&f==="?")i=!0;else if(a!=="["&&f===":"&&s===void 0){if(a===","){if(s=r.pop(),s instanceof rt){let d="Chaining flow sequence pairs is invalid",p=new j.YAMLSemanticError(e,d);p.offset=m,t.errors.push(p)}if(!i&&typeof o=="number"){let d=c.range?c.range.start:c.offset;d>o+1024&&t.errors.push(yv(e,s));let{src:p}=l.context;for(let _=o;_<d;++_)if(p[_]===`
`){let C="Implicit keys of flow sequence pairs need to be on a single line";t.errors.push(new j.YAMLSemanticError(l,C));break}}}else s=null;o=null,i=!1,a=null}else if(a==="["||f!=="]"||u<e.items.length-1){let d=`Flow sequence contains an unexpected ${f}`,p=new j.YAMLSyntaxError(e,d);p.offset=m,t.errors.push(p)}}else if(c.type===j.Type.BLANK_LINE)n.push({before:r.length});else if(c.type===j.Type.COMMENT)_v(t.errors,c),n.push({comment:c.comment,before:r.length});else{if(a){let m=`Expected a ${a} in flow sequence`;t.errors.push(new j.YAMLSemanticError(c,m))}let f=bs(t,c);s===void 0?(r.push(f),l=c):(r.push(new rt(s,f)),s=void 0),o=c.range.start,a=","}}return gv(t.errors,e),s!==void 0&&r.push(new rt(s)),{comments:n,items:r}}_t.Alias=ys;_t.Collection=Gt;_t.Merge=mm;_t.Node=hr;_t.Pair=rt;_t.Scalar=Sn;_t.YAMLMap=Wc;_t.YAMLSeq=eo;_t.addComment=Ia;_t.binaryOptions=LO;_t.boolOptions=DO;_t.findPair=Al;_t.intOptions=kO;_t.isEmptyPath=fv;_t.nullOptions=MO;_t.resolveMap=$O;_t.resolveNode=bs;_t.resolveSeq=ZO;_t.resolveString=ym;_t.strOptions=to;_t.stringifyNumber=BO;_t.stringifyString=qO;_t.toJSON=_s});var zc=K(Qr=>{"use strict";var Jn=hs(),Ue=Sa(),nL={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve:(t,e)=>{let n=Ue.resolveString(t,e);if(typeof Buffer=="function")return Buffer.from(n,"base64");if(typeof atob=="function"){let r=atob(n.replace(/[\n\r]/g,"")),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}else{let r="This environment does not support reading binary tags; either Buffer or atob is required";return t.errors.push(new Jn.YAMLReferenceError(e,r)),null}},options:Ue.binaryOptions,stringify:({comment:t,type:e,value:n},r,i,s)=>{let o;if(typeof Buffer=="function")o=n instanceof Buffer?n.toString("base64"):Buffer.from(n.buffer).toString("base64");else if(typeof btoa=="function"){let a="";for(let l=0;l<n.length;++l)a+=String.fromCharCode(n[l]);o=btoa(a)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=Ue.binaryOptions.defaultType),e===Jn.Type.QUOTE_DOUBLE)n=o;else{let{lineWidth:a}=Ue.binaryOptions,l=Math.ceil(o.length/a),u=new Array(l);for(let c=0,f=0;c<l;++c,f+=a)u[c]=o.substr(f,a);n=u.join(e===Jn.Type.BLOCK_LITERAL?`
`:" ")}return Ue.stringifyString({comment:t,type:e,value:n},r,i,s)}};function Nv(t,e){let n=Ue.resolveSeq(t,e);for(let r=0;r<n.items.length;++r){let i=n.items[r];if(!(i instanceof Ue.Pair)){if(i instanceof Ue.YAMLMap){if(i.items.length>1){let o="Each pair must have its own sequence indicator";throw new Jn.YAMLSemanticError(e,o)}let s=i.items[0]||new Ue.Pair;i.commentBefore&&(s.commentBefore=s.commentBefore?`${i.commentBefore}
${s.commentBefore}`:i.commentBefore),i.comment&&(s.comment=s.comment?`${i.comment}
${s.comment}`:i.comment),i=s}n.items[r]=i instanceof Ue.Pair?i:new Ue.Pair(i)}}return n}function vv(t,e,n){let r=new Ue.YAMLSeq(t);r.tag="tag:yaml.org,2002:pairs";for(let i of e){let s,o;if(Array.isArray(i))if(i.length===2)s=i[0],o=i[1];else throw new TypeError(`Expected [key, value] tuple: ${i}`);else if(i&&i instanceof Object){let l=Object.keys(i);if(l.length===1)s=l[0],o=i[s];else throw new TypeError(`Expected { key: value } tuple: ${i}`)}else s=i;let a=t.createPair(s,o,n);r.items.push(a)}return r}var rL={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Nv,createNode:vv},ro=class extends Ue.YAMLSeq{constructor(){super();Jn._defineProperty(this,"add",Ue.YAMLMap.prototype.add.bind(this)),Jn._defineProperty(this,"delete",Ue.YAMLMap.prototype.delete.bind(this)),Jn._defineProperty(this,"get",Ue.YAMLMap.prototype.get.bind(this)),Jn._defineProperty(this,"has",Ue.YAMLMap.prototype.has.bind(this)),Jn._defineProperty(this,"set",Ue.YAMLMap.prototype.set.bind(this)),this.tag=ro.tag}toJSON(e,n){let r=new Map;n&&n.onCreate&&n.onCreate(r);for(let i of this.items){let s,o;if(i instanceof Ue.Pair?(s=Ue.toJSON(i.key,"",n),o=Ue.toJSON(i.value,s,n)):s=Ue.toJSON(i,"",n),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,o)}return r}};Jn._defineProperty(ro,"tag","tag:yaml.org,2002:omap");function iL(t,e){let n=Nv(t,e),r=[];for(let{key:i}of n.items)if(i instanceof Ue.Scalar)if(r.includes(i.value)){let s="Ordered maps must not include duplicate keys";throw new Jn.YAMLSemanticError(e,s)}else r.push(i.value);return Object.assign(new ro,n)}function sL(t,e,n){let r=vv(t,e,n),i=new ro;return i.items=r.items,i}var oL={identify:t=>t instanceof Map,nodeClass:ro,default:!1,tag:"tag:yaml.org,2002:omap",resolve:iL,createNode:sL},io=class extends Ue.YAMLMap{constructor(){super();this.tag=io.tag}add(e){let n=e instanceof Ue.Pair?e:new Ue.Pair(e);Ue.findPair(this.items,n.key)||this.items.push(n)}get(e,n){let r=Ue.findPair(this.items,e);return!n&&r instanceof Ue.Pair?r.key instanceof Ue.Scalar?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);let r=Ue.findPair(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Ue.Pair(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues())return super.toString(e,n,r);throw new Error("Set items must all have null values")}};Jn._defineProperty(io,"tag","tag:yaml.org,2002:set");function aL(t,e){let n=Ue.resolveMap(t,e);if(!n.hasAllNullValues())throw new Jn.YAMLSemanticError(e,"Set items must all have null values");return Object.assign(new io,n)}function lL(t,e,n){let r=new io;for(let i of e)r.items.push(t.createPair(i,null,n));return r}var uL={identify:t=>t instanceof Set,nodeClass:io,default:!1,tag:"tag:yaml.org,2002:set",resolve:aL,createNode:lL},bm=(t,e)=>{let n=e.split(":").reduce((r,i)=>r*60+Number(i),0);return t==="-"?-n:n},Pv=({value:t})=>{if(isNaN(t)||!isFinite(t))return Ue.stringifyNumber(t);let e="";t<0&&(e="-",t=Math.abs(t));let n=[t%60];return t<60?n.unshift(0):(t=Math.round((t-n[0])/60),n.unshift(t%60),t>=60&&(t=Math.round((t-n[0])/60),n.unshift(t))),e+n.map(r=>r<10?"0"+String(r):String(r)).join(":").replace(/000000\d*$/,"")},cL={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:(t,e,n)=>bm(e,n.replace(/_/g,"")),stringify:Pv},fL={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:(t,e,n)=>bm(e,n.replace(/_/g,"")),stringify:Pv},pL={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:(t,e,n,r,i,s,o,a,l)=>{a&&(a=(a+"00").substr(1,3));let u=Date.UTC(e,n-1,r,i||0,s||0,o||0,a||0);if(l&&l!=="Z"){let c=bm(l[0],l.slice(1));Math.abs(c)<30&&(c*=60),u-=6e4*c}return new Date(u)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};function Tm(t){let e=typeof process!="undefined"&&process.env||{};return t?typeof YAML_SILENCE_DEPRECATION_WARNINGS!="undefined"?!YAML_SILENCE_DEPRECATION_WARNINGS:!e.YAML_SILENCE_DEPRECATION_WARNINGS:typeof YAML_SILENCE_WARNINGS!="undefined"?!YAML_SILENCE_WARNINGS:!e.YAML_SILENCE_WARNINGS}function Nm(t,e){if(Tm(!1)){let n=typeof process!="undefined"&&process.emitWarning;n?n(t,e):console.warn(e?`${e}: ${t}`:t)}}function dL(t){if(Tm(!0)){let e=t.replace(/.*yaml[/\\]/i,"").replace(/\.js$/,"").replace(/\\/g,"/");Nm(`The endpoint 'yaml/${e}' will be removed in a future release.`,"DeprecationWarning")}}var Iv={};function mL(t,e){if(!Iv[t]&&Tm(!0)){Iv[t]=!0;let n=`The option '${t}' will be removed in a future release`;n+=e?`, use '${e}' instead.`:".",Nm(n,"DeprecationWarning")}}Qr.binary=nL;Qr.floatTime=fL;Qr.intTime=cL;Qr.omap=oL;Qr.pairs=rL;Qr.set=uL;Qr.timestamp=pL;Qr.warn=Nm;Qr.warnFileDeprecation=dL;Qr.warnOptionDeprecation=mL});var tf=K(Fv=>{"use strict";var Xc=hs(),Te=Sa(),Cn=zc();function hL(t,e,n){let r=new Te.YAMLMap(t);if(e instanceof Map)for(let[i,s]of e)r.items.push(t.createPair(i,s,n));else if(e&&typeof e=="object")for(let i of Object.keys(e))r.items.push(t.createPair(i,e[i],n));return typeof t.sortMapEntries=="function"&&r.items.sort(t.sortMapEntries),r}var xl={createNode:hL,default:!0,nodeClass:Te.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:Te.resolveMap};function gL(t,e,n){let r=new Te.YAMLSeq(t);if(e&&e[Symbol.iterator])for(let i of e){let s=t.createNode(i,n.wrapScalars,null,n);r.items.push(s)}return r}var Qc={createNode:gL,default:!0,nodeClass:Te.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:Te.resolveSeq},_L={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:Te.resolveString,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),Te.stringifyString(t,e,n,r)},options:Te.strOptions},vm=[xl,Qc,_L],Jc=t=>typeof t=="bigint"||Number.isInteger(t),Pm=(t,e,n)=>Te.intOptions.asBigInt?BigInt(t):parseInt(e,n);function Sv(t,e,n){let{value:r}=t;return Jc(r)&&r>=0?n+r.toString(e):Te.stringifyNumber(t)}var Cv={identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new Te.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:Te.nullOptions,stringify:()=>Te.nullOptions.nullStr},Rv={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>t[0]==="t"||t[0]==="T",options:Te.boolOptions,stringify:({value:t})=>t?Te.boolOptions.trueStr:Te.boolOptions.falseStr},Av={identify:t=>Jc(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:(t,e)=>Pm(t,e,8),options:Te.intOptions,stringify:t=>Sv(t,8,"0o")},xv={identify:Jc,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:t=>Pm(t,t,10),options:Te.intOptions,stringify:Te.stringifyNumber},Ev={identify:t=>Jc(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:(t,e)=>Pm(t,e,16),options:Te.intOptions,stringify:t=>Sv(t,16,"0x")},wv={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Te.stringifyNumber},Ov={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify:({value:t})=>Number(t).toExponential()},Lv={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve(t,e,n){let r=e||n,i=new Te.Scalar(parseFloat(t));return r&&r[r.length-1]==="0"&&(i.minFractionDigits=r.length),i},stringify:Te.stringifyNumber},yL=vm.concat([Cv,Rv,Av,xv,Ev,wv,Ov,Lv]),Dv=t=>typeof t=="bigint"||Number.isInteger(t),Zc=({value:t})=>JSON.stringify(t),kv=[xl,Qc,{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:Te.resolveString,stringify:Zc},{identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new Te.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Zc},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:Zc},{identify:Dv,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:t=>Te.intOptions.asBigInt?BigInt(t):parseInt(t,10),stringify:({value:t})=>Dv(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:Zc}];kv.scalarFallback=t=>{throw new SyntaxError(`Unresolved plain scalar ${JSON.stringify(t)}`)};var Mv=({value:t})=>t?Te.boolOptions.trueStr:Te.boolOptions.falseStr,El=t=>typeof t=="bigint"||Number.isInteger(t);function ef(t,e,n){let r=e.replace(/_/g,"");if(Te.intOptions.asBigInt){switch(n){case 2:r=`0b${r}`;break;case 8:r=`0o${r}`;break;case 16:r=`0x${r}`;break}let s=BigInt(r);return t==="-"?BigInt(-1)*s:s}let i=parseInt(r,n);return t==="-"?-1*i:i}function Im(t,e,n){let{value:r}=t;if(El(r)){let i=r.toString(e);return r<0?"-"+n+i.substr(1):n+i}return Te.stringifyNumber(t)}var bL=vm.concat([{identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new Te.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:Te.nullOptions,stringify:()=>Te.nullOptions.nullStr},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>!0,options:Te.boolOptions,stringify:Mv},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>!1,options:Te.boolOptions,stringify:Mv},{identify:El,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:(t,e,n)=>ef(e,n,2),stringify:t=>Im(t,2,"0b")},{identify:El,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:(t,e,n)=>ef(e,n,8),stringify:t=>Im(t,8,"0")},{identify:El,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:(t,e,n)=>ef(e,n,10),stringify:Te.stringifyNumber},{identify:El,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:(t,e,n)=>ef(e,n,16),stringify:t=>Im(t,16,"0x")},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Te.stringifyNumber},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify:({value:t})=>Number(t).toExponential()},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve(t,e){let n=new Te.Scalar(parseFloat(t.replace(/_/g,"")));if(e){let r=e.replace(/_/g,"");r[r.length-1]==="0"&&(n.minFractionDigits=r.length)}return n},stringify:Te.stringifyNumber}],Cn.binary,Cn.omap,Cn.pairs,Cn.set,Cn.intTime,Cn.floatTime,Cn.timestamp),TL={core:yL,failsafe:vm,json:kv,yaml11:bL},NL={binary:Cn.binary,bool:Rv,float:Lv,floatExp:Ov,floatNaN:wv,floatTime:Cn.floatTime,int:xv,intHex:Ev,intOct:Av,intTime:Cn.intTime,map:xl,null:Cv,omap:Cn.omap,pairs:Cn.pairs,seq:Qc,set:Cn.set,timestamp:Cn.timestamp};function vL(t,e,n){if(e){let r=n.filter(s=>s.tag===e),i=r.find(s=>!s.format)||r[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return n.find(r=>(r.identify&&r.identify(t)||r.class&&t instanceof r.class)&&!r.format)}function PL(t,e,n){if(t instanceof Te.Node)return t;let{defaultPrefix:r,onTagObj:i,prevObjects:s,schema:o,wrapScalars:a}=n;e&&e.startsWith("!!")&&(e=r+e.slice(2));let l=vL(t,e,o.tags);if(!l){if(typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object")return a?new Te.Scalar(t):t;l=t instanceof Map?xl:t[Symbol.iterator]?Qc:xl}i&&(i(l),delete n.onTagObj);let u={value:void 0,node:void 0};if(t&&typeof t=="object"&&s){let c=s.get(t);if(c){let f=new Te.Alias(c);return n.aliasNodes.push(f),f}u.value=t,s.set(t,u)}return u.node=l.createNode?l.createNode(n.schema,t,n):a?new Te.Scalar(t):t,e&&u.node instanceof Te.Node&&(u.node.tag=e),u.node}function IL(t,e,n,r){let i=t[r.replace(/\W/g,"")];if(!i){let s=Object.keys(t).map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${r}"; use one of ${s}`)}if(Array.isArray(n))for(let s of n)i=i.concat(s);else typeof n=="function"&&(i=n(i.slice()));for(let s=0;s<i.length;++s){let o=i[s];if(typeof o=="string"){let a=e[o];if(!a){let l=Object.keys(e).map(u=>JSON.stringify(u)).join(", ");throw new Error(`Unknown custom tag "${o}"; use one of ${l}`)}i[s]=a}}return i}var SL=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,Ca=class{constructor({customTags:e,merge:n,schema:r,sortMapEntries:i,tags:s}){this.merge=!!n,this.name=r,this.sortMapEntries=i===!0?SL:i||null,!e&&s&&Cn.warnOptionDeprecation("tags","customTags"),this.tags=IL(TL,NL,e||s,r)}createNode(e,n,r,i){let s={defaultPrefix:Ca.defaultPrefix,schema:this,wrapScalars:n},o=i?Object.assign(i,s):s;return PL(e,r,o)}createPair(e,n,r){r||(r={wrapScalars:!0});let i=this.createNode(e,r.wrapScalars,null,r),s=this.createNode(n,r.wrapScalars,null,r);return new Te.Pair(i,s)}};Xc._defineProperty(Ca,"defaultPrefix",Xc.defaultTagPrefix);Xc._defineProperty(Ca,"defaultTags",Xc.defaultTags);Fv.Schema=Ca});var jv=K(of=>{"use strict";var Rn=hs(),Pe=Sa(),Vv=tf(),CL={anchorPrefix:"a",customTags:null,indent:2,indentSeq:!0,keepCstNodes:!1,keepNodeTypes:!0,keepBlobsInJSON:!0,mapAsMap:!1,maxAliasCount:100,prettyErrors:!1,simpleKeys:!1,version:"1.2"},RL={get binary(){return Pe.binaryOptions},set binary(t){Object.assign(Pe.binaryOptions,t)},get bool(){return Pe.boolOptions},set bool(t){Object.assign(Pe.boolOptions,t)},get int(){return Pe.intOptions},set int(t){Object.assign(Pe.intOptions,t)},get null(){return Pe.nullOptions},set null(t){Object.assign(Pe.nullOptions,t)},get str(){return Pe.strOptions},set str(t){Object.assign(Pe.strOptions,t)}},qv={"1.0":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:Rn.defaultTagPrefix},{handle:"!!",prefix:"tag:private.yaml.org,2002:"}]},1.1:{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:Rn.defaultTagPrefix}]},1.2:{schema:"core",merge:!1,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:Rn.defaultTagPrefix}]}};function Bv(t,e){if((t.version||t.options.version)==="1.0"){let i=e.match(/^tag:private\.yaml\.org,2002:([^:/]+)$/);if(i)return"!"+i[1];let s=e.match(/^tag:([a-zA-Z0-9-]+)\.yaml\.org,2002:(.*)/);return s?`!${s[1]}/${s[2]}`:`!${e.replace(/^tag:/,"")}`}let n=t.tagPrefixes.find(i=>e.indexOf(i.prefix)===0);if(!n){let i=t.getDefaults().tagPrefixes;n=i&&i.find(s=>e.indexOf(s.prefix)===0)}if(!n)return e[0]==="!"?e:`!<${e}>`;let r=e.substr(n.prefix.length).replace(/[!,[\]{}]/g,i=>({"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"})[i]);return n.handle+r}function AL(t,e){if(e instanceof Pe.Alias)return Pe.Alias;if(e.tag){let i=t.filter(s=>s.tag===e.tag);if(i.length>0)return i.find(s=>s.format===e.format)||i[0]}let n,r;if(e instanceof Pe.Scalar){r=e.value;let i=t.filter(s=>s.identify&&s.identify(r)||s.class&&r instanceof s.class);n=i.find(s=>s.format===e.format)||i.find(s=>!s.format)}else r=e,n=t.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){let i=r&&r.constructor?r.constructor.name:typeof r;throw new Error(`Tag not resolved for ${i} value`)}return n}function xL(t,e,{anchors:n,doc:r}){let i=[],s=r.anchors.getName(t);return s&&(n[s]=t,i.push(`&${s}`)),t.tag?i.push(Bv(r,t.tag)):e.default||i.push(Bv(r,e.tag)),i.join(" ")}function nf(t,e,n,r){let{anchors:i,schema:s}=e.doc,o;if(!(t instanceof Pe.Node)){let u={aliasNodes:[],onTagObj:c=>o=c,prevObjects:new Map};t=s.createNode(t,!0,null,u);for(let c of u.aliasNodes){c.source=c.source.node;let f=i.getName(c.source);f||(f=i.newName(),i.map[f]=c.source)}}if(t instanceof Pe.Pair)return t.toString(e,n,r);o||(o=AL(s.tags,t));let a=xL(t,o,e);a.length>0&&(e.indentAtStart=(e.indentAtStart||0)+a.length+1);let l=typeof o.stringify=="function"?o.stringify(t,e,n,r):t instanceof Pe.Scalar?Pe.stringifyString(t,e,n,r):t.toString(e,n,r);return a?t instanceof Pe.Scalar||l[0]==="{"||l[0]==="["?`${a} ${l}`:`${a}
${e.indent}${l}`:l}var rf=class{static validAnchorNode(e){return e instanceof Pe.Scalar||e instanceof Pe.YAMLSeq||e instanceof Pe.YAMLMap}constructor(e){Rn._defineProperty(this,"map",Object.create(null)),this.prefix=e}createAlias(e,n){return this.setAnchor(e,n),new Pe.Alias(e)}createMergePair(...e){let n=new Pe.Merge;return n.value.items=e.map(r=>{if(r instanceof Pe.Alias){if(r.source instanceof Pe.YAMLMap)return r}else if(r instanceof Pe.YAMLMap)return this.createAlias(r);throw new Error("Merge sources must be Map nodes or their Aliases")}),n}getName(e){let{map:n}=this;return Object.keys(n).find(r=>n[r]===e)}getNames(){return Object.keys(this.map)}getNode(e){return this.map[e]}newName(e){e||(e=this.prefix);let n=Object.keys(this.map);for(let r=1;;++r){let i=`${e}${r}`;if(!n.includes(i))return i}}resolveNodes(){let{map:e,_cstAliases:n}=this;Object.keys(e).forEach(r=>{e[r]=e[r].resolved}),n.forEach(r=>{r.source=r.source.resolved}),delete this._cstAliases}setAnchor(e,n){if(e!=null&&!rf.validAnchorNode(e))throw new Error("Anchors may only be set for Scalar, Seq and Map nodes");if(n&&/[\x00-\x19\s,[\]{}]/.test(n))throw new Error("Anchor names must not contain whitespace or control characters");let{map:r}=this,i=e&&Object.keys(r).find(s=>r[s]===e);if(i)if(n)i!==n&&(delete r[i],r[n]=e);else return i;else{if(!n){if(!e)return null;n=this.newName()}r[n]=e}return n}},sf=(t,e)=>{if(t&&typeof t=="object"){let{tag:n}=t;t instanceof Pe.Collection?(n&&(e[n]=!0),t.items.forEach(r=>sf(r,e))):t instanceof Pe.Pair?(sf(t.key,e),sf(t.value,e)):t instanceof Pe.Scalar&&n&&(e[n]=!0)}return e},EL=t=>Object.keys(sf(t,{}));function wL(t,e){let n={before:[],after:[]},r,i=!1;for(let s of e)if(s.valueRange){if(r!==void 0){let a="Document contains trailing content not separated by a ... or --- line";t.errors.push(new Rn.YAMLSyntaxError(s,a));break}let o=Pe.resolveNode(t,s);i&&(o.spaceBefore=!0,i=!1),r=o}else s.comment!==null?(r===void 0?n.before:n.after).push(s.comment):s.type===Rn.Type.BLANK_LINE&&(i=!0,r===void 0&&n.before.length>0&&!t.commentBefore&&(t.commentBefore=n.before.join(`
`),n.before=[]));if(t.contents=r||null,!r)t.comment=n.before.concat(n.after).join(`
`)||null;else{let s=n.before.join(`
`);if(s){let o=r instanceof Pe.Collection&&r.items[0]?r.items[0]:r;o.commentBefore=o.commentBefore?`${s}
${o.commentBefore}`:s}t.comment=n.after.join(`
`)||null}}function OL({tagPrefixes:t},e){let[n,r]=e.parameters;if(!n||!r){let i="Insufficient parameters given for %TAG directive";throw new Rn.YAMLSemanticError(e,i)}if(t.some(i=>i.handle===n)){let i="The %TAG directive must only be given at most once per handle in the same document.";throw new Rn.YAMLSemanticError(e,i)}return{handle:n,prefix:r}}function LL(t,e){let[n]=e.parameters;if(e.name==="YAML:1.0"&&(n="1.0"),!n){let r="Insufficient parameters given for %YAML directive";throw new Rn.YAMLSemanticError(e,r)}if(!qv[n]){let i=`Document will be parsed as YAML ${t.version||t.options.version} rather than YAML ${n}`;t.warnings.push(new Rn.YAMLWarning(e,i))}return n}function DL(t,e,n){let r=[],i=!1;for(let s of e){let{comment:o,name:a}=s;switch(a){case"TAG":try{t.tagPrefixes.push(OL(t,s))}catch(l){t.errors.push(l)}i=!0;break;case"YAML":case"YAML:1.0":if(t.version){let l="The %YAML directive must only be given at most once per document.";t.errors.push(new Rn.YAMLSemanticError(s,l))}try{t.version=LL(t,s)}catch(l){t.errors.push(l)}i=!0;break;default:if(a){let l=`YAML only supports %TAG and %YAML directives, and not %${a}`;t.warnings.push(new Rn.YAMLWarning(s,l))}}o&&r.push(o)}if(n&&!i&&(t.version||n.version||t.options.version)==="1.1"){let s=({handle:o,prefix:a})=>({handle:o,prefix:a});t.tagPrefixes=n.tagPrefixes.map(s),t.version=n.version}t.commentBefore=r.join(`
`)||null}function Ra(t){if(t instanceof Pe.Collection)return!0;throw new Error("Expected a YAML collection as document contents")}var Aa=class{constructor(e){this.anchors=new rf(e.anchorPrefix),this.commentBefore=null,this.comment=null,this.contents=null,this.directivesEndMarker=null,this.errors=[],this.options=e,this.schema=null,this.tagPrefixes=[],this.version=null,this.warnings=[]}add(e){return Ra(this.contents),this.contents.add(e)}addIn(e,n){Ra(this.contents),this.contents.addIn(e,n)}delete(e){return Ra(this.contents),this.contents.delete(e)}deleteIn(e){return Pe.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):(Ra(this.contents),this.contents.deleteIn(e))}getDefaults(){return Aa.defaults[this.version]||Aa.defaults[this.options.version]||{}}get(e,n){return this.contents instanceof Pe.Collection?this.contents.get(e,n):void 0}getIn(e,n){return Pe.isEmptyPath(e)?!n&&this.contents instanceof Pe.Scalar?this.contents.value:this.contents:this.contents instanceof Pe.Collection?this.contents.getIn(e,n):void 0}has(e){return this.contents instanceof Pe.Collection?this.contents.has(e):!1}hasIn(e){return Pe.isEmptyPath(e)?this.contents!==void 0:this.contents instanceof Pe.Collection?this.contents.hasIn(e):!1}set(e,n){Ra(this.contents),this.contents.set(e,n)}setIn(e,n){Pe.isEmptyPath(e)?this.contents=n:(Ra(this.contents),this.contents.setIn(e,n))}setSchema(e,n){if(!e&&!n&&this.schema)return;typeof e=="number"&&(e=e.toFixed(1)),e==="1.0"||e==="1.1"||e==="1.2"?(this.version?this.version=e:this.options.version=e,delete this.options.schema):e&&typeof e=="string"&&(this.options.schema=e),Array.isArray(n)&&(this.options.customTags=n);let r=Object.assign({},this.getDefaults(),this.options);this.schema=new Vv.Schema(r)}parse(e,n){this.options.keepCstNodes&&(this.cstNode=e),this.options.keepNodeTypes&&(this.type="DOCUMENT");let{directives:r=[],contents:i=[],directivesEndMarker:s,error:o,valueRange:a}=e;if(o&&(o.source||(o.source=this),this.errors.push(o)),DL(this,r,n),s&&(this.directivesEndMarker=!0),this.range=a?[a.start,a.end]:null,this.setSchema(),this.anchors._cstAliases=[],wL(this,i),this.anchors.resolveNodes(),this.options.prettyErrors){for(let l of this.errors)l instanceof Rn.YAMLError&&l.makePretty();for(let l of this.warnings)l instanceof Rn.YAMLError&&l.makePretty()}return this}listNonDefaultTags(){return EL(this.contents).filter(e=>e.indexOf(Vv.Schema.defaultPrefix)!==0)}setTagPrefix(e,n){if(e[0]!=="!"||e[e.length-1]!=="!")throw new Error("Handle must start and end with !");if(n){let r=this.tagPrefixes.find(i=>i.handle===e);r?r.prefix=n:this.tagPrefixes.push({handle:e,prefix:n})}else this.tagPrefixes=this.tagPrefixes.filter(r=>r.handle!==e)}toJSON(e,n){let{keepBlobsInJSON:r,mapAsMap:i,maxAliasCount:s}=this.options,o=r&&(typeof e!="string"||!(this.contents instanceof Pe.Scalar)),a={doc:this,indentStep:"  ",keep:o,mapAsMap:o&&!!i,maxAliasCount:s,stringify:nf},l=Object.keys(this.anchors.map);l.length>0&&(a.anchors=new Map(l.map(c=>[this.anchors.map[c],{alias:[],aliasCount:0,count:1}])));let u=Pe.toJSON(this.contents,e,a);if(typeof n=="function"&&a.anchors)for(let{count:c,res:f}of a.anchors.values())n(f,c);return u}toString(){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");let e=this.options.indent;if(!Number.isInteger(e)||e<=0){let l=JSON.stringify(e);throw new Error(`"indent" option must be a positive integer, not ${l}`)}this.setSchema();let n=[],r=!1;if(this.version){let l="%YAML 1.2";this.schema.name==="yaml-1.1"&&(this.version==="1.0"?l="%YAML:1.0":this.version==="1.1"&&(l="%YAML 1.1")),n.push(l),r=!0}let i=this.listNonDefaultTags();this.tagPrefixes.forEach(({handle:l,prefix:u})=>{i.some(c=>c.indexOf(u)===0)&&(n.push(`%TAG ${l} ${u}`),r=!0)}),(r||this.directivesEndMarker)&&n.push("---"),this.commentBefore&&((r||!this.directivesEndMarker)&&n.unshift(""),n.unshift(this.commentBefore.replace(/^/gm,"#")));let s={anchors:Object.create(null),doc:this,indent:"",indentStep:" ".repeat(e),stringify:nf},o=!1,a=null;if(this.contents){this.contents instanceof Pe.Node&&(this.contents.spaceBefore&&(r||this.directivesEndMarker)&&n.push(""),this.contents.commentBefore&&n.push(this.contents.commentBefore.replace(/^/gm,"#")),s.forceBlockIndent=!!this.comment,a=this.contents.comment);let l=a?null:()=>o=!0,u=nf(this.contents,s,()=>a=null,l);n.push(Pe.addComment(u,"",a))}else this.contents!==void 0&&n.push(nf(this.contents,s));return this.comment&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(this.comment.replace(/^/gm,"#"))),n.join(`
`)+`
`}};Rn._defineProperty(Aa,"defaults",qv);of.Document=Aa;of.defaultOptions=CL;of.scalarOptions=RL});var Wv=K(Gv=>{"use strict";var Sm=uv(),so=jv(),kL=tf(),ML=hs(),FL=zc();Sa();function VL(t,e=!0,n){n===void 0&&typeof e=="string"&&(n=e,e=!0);let r=Object.assign({},so.Document.defaults[so.defaultOptions.version],so.defaultOptions);return new kL.Schema(r).createNode(t,e,n)}var wl=class extends so.Document{constructor(e){super(Object.assign({},so.defaultOptions,e))}};function qL(t,e){let n=[],r;for(let i of Sm.parse(t)){let s=new wl(e);s.parse(i,r),n.push(s),r=s}return n}function Uv(t,e){let n=Sm.parse(t),r=new wl(e).parse(n[0]);if(n.length>1){let i="Source contains multiple documents; please use YAML.parseAllDocuments()";r.errors.unshift(new ML.YAMLSemanticError(n[1],i))}return r}function BL(t,e){let n=Uv(t,e);if(n.warnings.forEach(r=>FL.warn(r)),n.errors.length>0)throw n.errors[0];return n.toJSON()}function jL(t,e){let n=new wl(e);return n.contents=t,String(n)}var UL={createNode:VL,defaultOptions:so.defaultOptions,Document:wl,parse:BL,parseAllDocuments:qL,parseCST:Sm.parse,parseDocument:Uv,scalarOptions:so.scalarOptions,stringify:jL};Gv.YAML=UL});var mi=K((cJ,Hv)=>{Hv.exports=Wv().YAML});var Yv=K(An=>{"use strict";var Zn=Sa(),GL=tf();hs();zc();An.Alias=Zn.Alias;An.Collection=Zn.Collection;An.Merge=Zn.Merge;An.Node=Zn.Node;An.Pair=Zn.Pair;An.Scalar=Zn.Scalar;An.YAMLMap=Zn.YAMLMap;An.YAMLSeq=Zn.YAMLSeq;An.binaryOptions=Zn.binaryOptions;An.boolOptions=Zn.boolOptions;An.intOptions=Zn.intOptions;An.nullOptions=Zn.nullOptions;An.strOptions=Zn.strOptions;An.Schema=GL.Schema});var uh=K((Ce,SI)=>{Ce=SI.exports=Be;var Ze;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?Ze=function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:Ze=function(){};Ce.SEMVER_SPEC_VERSION="2.0.0";var Ym=256,_f=Number.MAX_SAFE_INTEGER||9007199254740991,Km=16,it=Ce.re=[],H=Ce.src=[],Fe=0,Ma=Fe++;H[Ma]="0|[1-9]\\d*";var Fa=Fe++;H[Fa]="[0-9]+";var $m=Fe++;H[$m]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var cI=Fe++;H[cI]="("+H[Ma]+")\\.("+H[Ma]+")\\.("+H[Ma]+")";var fI=Fe++;H[fI]="("+H[Fa]+")\\.("+H[Fa]+")\\.("+H[Fa]+")";var zm=Fe++;H[zm]="(?:"+H[Ma]+"|"+H[$m]+")";var Xm=Fe++;H[Xm]="(?:"+H[Fa]+"|"+H[$m]+")";var Qm=Fe++;H[Qm]="(?:-("+H[zm]+"(?:\\."+H[zm]+")*))";var Jm=Fe++;H[Jm]="(?:-?("+H[Xm]+"(?:\\."+H[Xm]+")*))";var Zm=Fe++;H[Zm]="[0-9A-Za-z-]+";var Gl=Fe++;H[Gl]="(?:\\+("+H[Zm]+"(?:\\."+H[Zm]+")*))";var eh=Fe++,pI="v?"+H[cI]+H[Qm]+"?"+H[Gl]+"?";H[eh]="^"+pI+"$";var th="[v=\\s]*"+H[fI]+H[Jm]+"?"+H[Gl]+"?",nh=Fe++;H[nh]="^"+th+"$";var Va=Fe++;H[Va]="((?:<|>)?=?)";var yf=Fe++;H[yf]=H[Fa]+"|x|X|\\*";var bf=Fe++;H[bf]=H[Ma]+"|x|X|\\*";var co=Fe++;H[co]="[v=\\s]*("+H[bf]+")(?:\\.("+H[bf]+")(?:\\.("+H[bf]+")(?:"+H[Qm]+")?"+H[Gl]+"?)?)?";var qa=Fe++;H[qa]="[v=\\s]*("+H[yf]+")(?:\\.("+H[yf]+")(?:\\.("+H[yf]+")(?:"+H[Jm]+")?"+H[Gl]+"?)?)?";var dI=Fe++;H[dI]="^"+H[Va]+"\\s*"+H[co]+"$";var mI=Fe++;H[mI]="^"+H[Va]+"\\s*"+H[qa]+"$";var hI=Fe++;H[hI]="(?:^|[^\\d])(\\d{1,"+Km+"})(?:\\.(\\d{1,"+Km+"}))?(?:\\.(\\d{1,"+Km+"}))?(?:$|[^\\d])";var Tf=Fe++;H[Tf]="(?:~>?)";var Nf=Fe++;H[Nf]="(\\s*)"+H[Tf]+"\\s+";it[Nf]=new RegExp(H[Nf],"g");var x1="$1~",gI=Fe++;H[gI]="^"+H[Tf]+H[co]+"$";var _I=Fe++;H[_I]="^"+H[Tf]+H[qa]+"$";var vf=Fe++;H[vf]="(?:\\^)";var Pf=Fe++;H[Pf]="(\\s*)"+H[vf]+"\\s+";it[Pf]=new RegExp(H[Pf],"g");var E1="$1^",yI=Fe++;H[yI]="^"+H[vf]+H[co]+"$";var bI=Fe++;H[bI]="^"+H[vf]+H[qa]+"$";var rh=Fe++;H[rh]="^"+H[Va]+"\\s*("+th+")$|^$";var ih=Fe++;H[ih]="^"+H[Va]+"\\s*("+pI+")$|^$";var Wl=Fe++;H[Wl]="(\\s*)"+H[Va]+"\\s*("+th+"|"+H[co]+")";it[Wl]=new RegExp(H[Wl],"g");var w1="$1$2$3",TI=Fe++;H[TI]="^\\s*("+H[co]+")\\s+-\\s+("+H[co]+")\\s*$";var NI=Fe++;H[NI]="^\\s*("+H[qa]+")\\s+-\\s+("+H[qa]+")\\s*$";var vI=Fe++;H[vI]="(<|>)?=?\\s*\\*";for(vs=0;vs<Fe;vs++)Ze(vs,H[vs]),it[vs]||(it[vs]=new RegExp(H[vs]));var vs;Ce.parse=fo;function fo(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof Be)return t;if(typeof t!="string"||t.length>Ym)return null;var n=e.loose?it[nh]:it[eh];if(!n.test(t))return null;try{return new Be(t,e)}catch{return null}}Ce.valid=O1;function O1(t,e){var n=fo(t,e);return n?n.version:null}Ce.clean=L1;function L1(t,e){var n=fo(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null}Ce.SemVer=Be;function Be(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof Be){if(t.loose===e.loose)return t;t=t.version}else if(typeof t!="string")throw new TypeError("Invalid Version: "+t);if(t.length>Ym)throw new TypeError("version is longer than "+Ym+" characters");if(!(this instanceof Be))return new Be(t,e);Ze("SemVer",t,e),this.options=e,this.loose=!!e.loose;var n=t.trim().match(e.loose?it[nh]:it[eh]);if(!n)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>_f||this.major<0)throw new TypeError("Invalid major version");if(this.minor>_f||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>_f||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(function(r){if(/^[0-9]+$/.test(r)){var i=+r;if(i>=0&&i<_f)return i}return r}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}Be.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};Be.prototype.toString=function(){return this.version};Be.prototype.compare=function(t){return Ze("SemVer.compare",this.version,this.options,t),t instanceof Be||(t=new Be(t,this.options)),this.compareMain(t)||this.comparePre(t)};Be.prototype.compareMain=function(t){return t instanceof Be||(t=new Be(t,this.options)),Ba(this.major,t.major)||Ba(this.minor,t.minor)||Ba(this.patch,t.patch)};Be.prototype.comparePre=function(t){if(t instanceof Be||(t=new Be(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var n=this.prerelease[e],r=t.prerelease[e];if(Ze("prerelease compare",e,n,r),n===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(n===void 0)return-1;if(n===r)continue;return Ba(n,r)}while(++e)};Be.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e),this.inc("pre",e);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this};Ce.inc=D1;function D1(t,e,n,r){typeof n=="string"&&(r=n,n=void 0);try{return new Be(t,n).inc(e,r).version}catch{return null}}Ce.diff=k1;function k1(t,e){if(sh(t,e))return null;var n=fo(t),r=fo(e),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var s="prerelease"}for(var o in n)if((o==="major"||o==="minor"||o==="patch")&&n[o]!==r[o])return i+o;return s}Ce.compareIdentifiers=Ba;var PI=/^[0-9]+$/;function Ba(t,e){var n=PI.test(t),r=PI.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1}Ce.rcompareIdentifiers=M1;function M1(t,e){return Ba(e,t)}Ce.major=F1;function F1(t,e){return new Be(t,e).major}Ce.minor=V1;function V1(t,e){return new Be(t,e).minor}Ce.patch=q1;function q1(t,e){return new Be(t,e).patch}Ce.compare=ji;function ji(t,e,n){return new Be(t,n).compare(new Be(e,n))}Ce.compareLoose=B1;function B1(t,e){return ji(t,e,!0)}Ce.rcompare=j1;function j1(t,e,n){return ji(e,t,n)}Ce.sort=U1;function U1(t,e){return t.sort(function(n,r){return Ce.compare(n,r,e)})}Ce.rsort=G1;function G1(t,e){return t.sort(function(n,r){return Ce.rcompare(n,r,e)})}Ce.gt=Hl;function Hl(t,e,n){return ji(t,e,n)>0}Ce.lt=If;function If(t,e,n){return ji(t,e,n)<0}Ce.eq=sh;function sh(t,e,n){return ji(t,e,n)===0}Ce.neq=II;function II(t,e,n){return ji(t,e,n)!==0}Ce.gte=oh;function oh(t,e,n){return ji(t,e,n)>=0}Ce.lte=ah;function ah(t,e,n){return ji(t,e,n)<=0}Ce.cmp=Sf;function Sf(t,e,n,r){switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return sh(t,n,r);case"!=":return II(t,n,r);case">":return Hl(t,n,r);case">=":return oh(t,n,r);case"<":return If(t,n,r);case"<=":return ah(t,n,r);default:throw new TypeError("Invalid operator: "+e)}}Ce.Comparator=gr;function gr(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof gr){if(t.loose===!!e.loose)return t;t=t.value}if(!(this instanceof gr))return new gr(t,e);Ze("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===Yl?this.value="":this.value=this.operator+this.semver.version,Ze("comp",this)}var Yl={};gr.prototype.parse=function(t){var e=this.options.loose?it[rh]:it[ih],n=t.match(e);if(!n)throw new TypeError("Invalid comparator: "+t);this.operator=n[1],this.operator==="="&&(this.operator=""),n[2]?this.semver=new Be(n[2],this.options.loose):this.semver=Yl};gr.prototype.toString=function(){return this.value};gr.prototype.test=function(t){return Ze("Comparator.test",t,this.options.loose),this.semver===Yl?!0:(typeof t=="string"&&(t=new Be(t,this.options)),Sf(t,this.operator,this.semver,this.options))};gr.prototype.intersects=function(t,e){if(!(t instanceof gr))throw new TypeError("a Comparator is required");(!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1});var n;if(this.operator==="")return n=new Tt(t.value,e),Cf(this.value,n,e);if(t.operator==="")return n=new Tt(this.value,e),Cf(t.semver,n,e);var r=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<"),s=this.semver.version===t.semver.version,o=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<="),a=Sf(this.semver,"<",t.semver,e)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"),l=Sf(this.semver,">",t.semver,e)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return r||i||s&&o||a||l};Ce.Range=Tt;function Tt(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof Tt)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new Tt(t.raw,e);if(t instanceof gr)return new Tt(t.value,e);if(!(this instanceof Tt))return new Tt(t,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(function(n){return this.parseRange(n.trim())},this).filter(function(n){return n.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}Tt.prototype.format=function(){return this.range=this.set.map(function(t){return t.join(" ").trim()}).join("||").trim(),this.range};Tt.prototype.toString=function(){return this.range};Tt.prototype.parseRange=function(t){var e=this.options.loose;t=t.trim();var n=e?it[NI]:it[TI];t=t.replace(n,Z1),Ze("hyphen replace",t),t=t.replace(it[Wl],w1),Ze("comparator trim",t,it[Wl]),t=t.replace(it[Nf],x1),t=t.replace(it[Pf],E1),t=t.split(/\s+/).join(" ");var r=e?it[rh]:it[ih],i=t.split(" ").map(function(s){return H1(s,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(s){return!!s.match(r)})),i=i.map(function(s){return new gr(s,this.options)},this),i};Tt.prototype.intersects=function(t,e){if(!(t instanceof Tt))throw new TypeError("a Range is required");return this.set.some(function(n){return n.every(function(r){return t.set.some(function(i){return i.every(function(s){return r.intersects(s,e)})})})})};Ce.toComparators=W1;function W1(t,e){return new Tt(t,e).set.map(function(n){return n.map(function(r){return r.value}).join(" ").trim().split(" ")})}function H1(t,e){return Ze("comp",t,e),t=$1(t,e),Ze("caret",t),t=Y1(t,e),Ze("tildes",t),t=X1(t,e),Ze("xrange",t),t=J1(t,e),Ze("stars",t),t}function wn(t){return!t||t.toLowerCase()==="x"||t==="*"}function Y1(t,e){return t.trim().split(/\s+/).map(function(n){return K1(n,e)}).join(" ")}function K1(t,e){var n=e.loose?it[_I]:it[gI];return t.replace(n,function(r,i,s,o,a){Ze("tilde",t,r,i,s,o,a);var l;return wn(i)?l="":wn(s)?l=">="+i+".0.0 <"+(+i+1)+".0.0":wn(o)?l=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":a?(Ze("replaceTilde pr",a),l=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+(+s+1)+".0"):l=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0",Ze("tilde return",l),l})}function $1(t,e){return t.trim().split(/\s+/).map(function(n){return z1(n,e)}).join(" ")}function z1(t,e){Ze("caret",t,e);var n=e.loose?it[bI]:it[yI];return t.replace(n,function(r,i,s,o,a){Ze("caret",t,r,i,s,o,a);var l;return wn(i)?l="":wn(s)?l=">="+i+".0.0 <"+(+i+1)+".0.0":wn(o)?i==="0"?l=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":l=">="+i+"."+s+".0 <"+(+i+1)+".0.0":a?(Ze("replaceCaret pr",a),i==="0"?s==="0"?l=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+s+"."+(+o+1):l=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+(+s+1)+".0":l=">="+i+"."+s+"."+o+"-"+a+" <"+(+i+1)+".0.0"):(Ze("no pr"),i==="0"?s==="0"?l=">="+i+"."+s+"."+o+" <"+i+"."+s+"."+(+o+1):l=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0":l=">="+i+"."+s+"."+o+" <"+(+i+1)+".0.0"),Ze("caret return",l),l})}function X1(t,e){return Ze("replaceXRanges",t,e),t.split(/\s+/).map(function(n){return Q1(n,e)}).join(" ")}function Q1(t,e){t=t.trim();var n=e.loose?it[mI]:it[dI];return t.replace(n,function(r,i,s,o,a,l){Ze("xRange",t,r,i,s,o,a,l);var u=wn(s),c=u||wn(o),f=c||wn(a),m=f;return i==="="&&m&&(i=""),u?i===">"||i==="<"?r="<0.0.0":r="*":i&&m?(c&&(o=0),a=0,i===">"?(i=">=",c?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",c?s=+s+1:o=+o+1),r=i+s+"."+o+"."+a):c?r=">="+s+".0.0 <"+(+s+1)+".0.0":f&&(r=">="+s+"."+o+".0 <"+s+"."+(+o+1)+".0"),Ze("xRange return",r),r})}function J1(t,e){return Ze("replaceStars",t,e),t.trim().replace(it[vI],"")}function Z1(t,e,n,r,i,s,o,a,l,u,c,f,m){return wn(n)?e="":wn(r)?e=">="+n+".0.0":wn(i)?e=">="+n+"."+r+".0":e=">="+e,wn(l)?a="":wn(u)?a="<"+(+l+1)+".0.0":wn(c)?a="<"+l+"."+(+u+1)+".0":f?a="<="+l+"."+u+"."+c+"-"+f:a="<="+a,(e+" "+a).trim()}Tt.prototype.test=function(t){if(!t)return!1;typeof t=="string"&&(t=new Be(t,this.options));for(var e=0;e<this.set.length;e++)if(eM(this.set[e],t,this.options))return!0;return!1};function eM(t,e,n){for(var r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(r=0;r<t.length;r++)if(Ze(t[r].semver),t[r].semver!==Yl&&t[r].semver.prerelease.length>0){var i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}Ce.satisfies=Cf;function Cf(t,e,n){try{e=new Tt(e,n)}catch{return!1}return e.test(t)}Ce.maxSatisfying=tM;function tM(t,e,n){var r=null,i=null;try{var s=new Tt(e,n)}catch{return null}return t.forEach(function(o){s.test(o)&&(!r||i.compare(o)===-1)&&(r=o,i=new Be(r,n))}),r}Ce.minSatisfying=nM;function nM(t,e,n){var r=null,i=null;try{var s=new Tt(e,n)}catch{return null}return t.forEach(function(o){s.test(o)&&(!r||i.compare(o)===1)&&(r=o,i=new Be(r,n))}),r}Ce.minVersion=rM;function rM(t,e){t=new Tt(t,e);var n=new Be("0.0.0");if(t.test(n)||(n=new Be("0.0.0-0"),t.test(n)))return n;n=null;for(var r=0;r<t.set.length;++r){var i=t.set[r];i.forEach(function(s){var o=new Be(s.semver.version);switch(s.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!n||Hl(n,o))&&(n=o);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+s.operator)}})}return n&&t.test(n)?n:null}Ce.validRange=iM;function iM(t,e){try{return new Tt(t,e).range||"*"}catch{return null}}Ce.ltr=sM;function sM(t,e,n){return lh(t,e,"<",n)}Ce.gtr=oM;function oM(t,e,n){return lh(t,e,">",n)}Ce.outside=lh;function lh(t,e,n,r){t=new Be(t,r),e=new Tt(e,r);var i,s,o,a,l;switch(n){case">":i=Hl,s=ah,o=If,a=">",l=">=";break;case"<":i=If,s=oh,o=Hl,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Cf(t,e,r))return!1;for(var u=0;u<e.set.length;++u){var c=e.set[u],f=null,m=null;if(c.forEach(function(d){d.semver===Yl&&(d=new gr(">=0.0.0")),f=f||d,m=m||d,i(d.semver,f.semver,r)?f=d:o(d.semver,m.semver,r)&&(m=d)}),f.operator===a||f.operator===l||(!m.operator||m.operator===a)&&s(t,m.semver))return!1;if(m.operator===l&&o(t,m.semver))return!1}return!0}Ce.prerelease=aM;function aM(t,e){var n=fo(t,e);return n&&n.prerelease.length?n.prerelease:null}Ce.intersects=lM;function lM(t,e,n){return t=new Tt(t,n),e=new Tt(e,n),t.intersects(e)}Ce.coerce=uM;function uM(t){if(t instanceof Be)return t;if(typeof t!="string")return null;var e=t.match(it[hI]);return e==null?null:fo(e[1]+"."+(e[2]||"0")+"."+(e[3]||"0"))}});var Rf=K((jte,OI)=>{"use strict";function Qt(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}Qt.prototype.clone_empty=function(){var t=new Qt(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t};Qt.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]};Qt.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1};Qt.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))};Qt.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)};Qt.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count};Qt.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,t.__items[0]===" "&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1};Qt.prototype.is_empty=function(){return this.__items.length===0};Qt.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]};Qt.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf(`
`);e!==-1?this.__character_count=t.length-e:this.__character_count+=t.length};Qt.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t};Qt.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)};Qt.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)};Qt.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1};Qt.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t};function $l(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}$l.prototype.get_indent_size=function(t,e){var n=this.__base_string_length;return e=e||0,t<0&&(n=0),n+=t*this.__indent_size,n+=e,n};$l.prototype.get_indent_string=function(t,e){var n=this.__base_string;return e=e||0,t<0&&(t=0,n=""),e+=t*this.__indent_size,this.__ensure_cache(e),n+=this.__cache[e],n};$l.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column()};$l.prototype.__add_column=function(){var t=this.__cache.length,e=0,n="";this.__indent_size&&t>=this.__indent_size&&(e=Math.floor(t/this.__indent_size),t-=e*this.__indent_size,n=new Array(e+1).join(this.__indent_string)),t&&(n+=new Array(t+1).join(" ")),this.__cache.push(n)};function Jt(t,e){this.__indent_cache=new $l(t,e),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new Qt(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}Jt.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)};Jt.prototype.get_line_number=function(){return this.__lines.length};Jt.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)};Jt.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)};Jt.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()};Jt.prototype.add_new_line=function(t){return this.is_empty()||!t&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)};Jt.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&(e[e.length-1]===`
`&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join(`
`);return t!==`
`&&(n=n.replace(/[\n]/g,t)),n};Jt.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()};Jt.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)};Jt.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1};Jt.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()};Jt.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))};Jt.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()};Jt.prototype.trim=function(t){for(t=t===void 0?!1:t,this.current_line.trim();t&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null};Jt.prototype.just_added_newline=function(){return this.current_line.is_empty()};Jt.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()};Jt.prototype.ensure_empty_line_above=function(t,e){for(var n=this.__lines.length-2;n>=0;){var r=this.__lines[n];if(r.is_empty())break;if(r.item(0).indexOf(t)!==0&&r.item(-1)!==e){this.__lines.splice(n+1,0,new Qt(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}};OI.exports.Output=Jt});var hh=K((Ute,LI)=>{"use strict";function mM(t,e,n,r){this.type=t,this.text=e,this.comments_before=null,this.newlines=n||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}LI.exports.Token=mM});var _h=K(Ui=>{"use strict";var hM="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",DI="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",gh="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",kI="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",MI="(?:\\\\u[0-9a-fA-F]{4}|["+hM+gh+"])",gM="(?:\\\\u[0-9a-fA-F]{4}|["+DI+gh+kI+"])*";Ui.identifier=new RegExp(MI+gM,"g");Ui.identifierStart=new RegExp(MI);Ui.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+DI+gh+kI+"])+");Ui.newline=/[\n\r\u2028\u2029]/;Ui.lineBreak=new RegExp(`\r
|`+Ui.newline.source);Ui.allLineBreaks=new RegExp(Ui.lineBreak.source,"g")});var xf=K((Wte,Af)=>{"use strict";function Is(t,e){this.raw_options=FI(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}Is.prototype._get_array=function(t,e){var n=this.raw_options[t],r=e||[];return typeof n=="object"?n!==null&&typeof n.concat=="function"&&(r=n.concat()):typeof n=="string"&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r};Is.prototype._get_boolean=function(t,e){var n=this.raw_options[t],r=n===void 0?!!e:!!n;return r};Is.prototype._get_characters=function(t,e){var n=this.raw_options[t],r=e||"";return typeof n=="string"&&(r=n.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),r};Is.prototype._get_number=function(t,e){var n=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var r=parseInt(n,10);return isNaN(r)&&(r=e),r};Is.prototype._get_selection=function(t,e,n){var r=this._get_selection_list(t,e,n);if(r.length!==1)throw new Error("Invalid Option Value: The option '"+t+`' can only be one of the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return r[0]};Is.prototype._get_selection_list=function(t,e,n){if(!e||e.length===0)throw new Error("Selection list cannot be empty.");if(n=n||[e[0]],!this._is_valid_selection(n,e))throw new Error("Invalid Default Value!");var r=this._get_array(t,n);if(!this._is_valid_selection(r,e))throw new Error("Invalid Option Value: The option '"+t+`' can contain only the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return r};Is.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some(function(n){return e.indexOf(n)===-1})};function FI(t,e){var n={};t=VI(t);var r;for(r in t)r!==e&&(n[r]=t[r]);if(e&&t[e])for(r in t[e])n[r]=t[e][r];return n}function VI(t){var e={},n;for(n in t){var r=n.replace(/-/g,"_");e[r]=t[n]}return e}Af.exports.Options=Is;Af.exports.normalizeOpts=VI;Af.exports.mergeOpts=FI});var yh=K((Hte,jI)=>{"use strict";var qI=xf().Options,_M=["before-newline","after-newline","preserve-newline"];function BI(t){qI.call(this,t,"js");var e=this.raw_options.brace_style||null;e==="expand-strict"?this.raw_options.brace_style="expand":e==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var r=0;r<n.length;r++)n[r]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=n[r];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",_M),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}BI.prototype=new qI;jI.exports.Options=BI});var Ef=K((Yte,GI)=>{"use strict";var UI=RegExp.prototype.hasOwnProperty("sticky");function un(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}un.prototype.restart=function(){this.__position=0};un.prototype.back=function(){this.__position>0&&(this.__position-=1)};un.prototype.hasNext=function(){return this.__position<this.__input_length};un.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t};un.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e};un.prototype.__match=function(t,e){t.lastIndex=e;var n=t.exec(this.__input);return n&&!(UI&&t.sticky)&&n.index!==e&&(n=null),n};un.prototype.test=function(t,e){return e=e||0,e+=this.__position,e>=0&&e<this.__input_length?!!this.__match(t,e):!1};un.prototype.testChar=function(t,e){var n=this.peek(e);return t.lastIndex=0,n!==null&&t.test(n)};un.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e};un.prototype.read=function(t,e,n){var r="",i;return t&&(i=this.match(t),i&&(r+=i[0])),e&&(i||!t)&&(r+=this.readUntil(e,n)),r};un.prototype.readUntil=function(t,e){var n="",r=this.__position;t.lastIndex=this.__position;var i=t.exec(this.__input);return i?(r=i.index,e&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n};un.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)};un.prototype.get_regexp=function(t,e){var n=null,r="g";return e&&UI&&(r="y"),typeof t=="string"&&t!==""?n=new RegExp(t,r):t&&(n=new RegExp(t.source,r)),n};un.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))};un.prototype.peekUntilAfter=function(t){var e=this.__position,n=this.readUntilAfter(t);return this.__position=e,n};un.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t};GI.exports.InputScanner=un});var HI=K((Kte,WI)=>{"use strict";function po(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}po.prototype.restart=function(){this.__position=0};po.prototype.isEmpty=function(){return this.__tokens_length===0};po.prototype.hasNext=function(){return this.__position<this.__tokens_length};po.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t};po.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__tokens_length&&(e=this.__tokens[t]),e};po.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1};WI.exports.TokenStream=po});var zl=K(($te,YI)=>{"use strict";function gi(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after)}gi.prototype.read=function(){var t=this._input.read(this._starting_pattern);return(!this._starting_pattern||t)&&(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t};gi.prototype.read_match=function(){return this._input.match(this._match_pattern)};gi.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e};gi.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e};gi.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e};gi.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e};gi.prototype._create=function(){return new gi(this._input,this)};gi.prototype._update=function(){};YI.exports.Pattern=gi});var zI=K((zte,$I)=>{"use strict";var KI=zl().Pattern;function Ss(t,e){KI.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}Ss.prototype=new KI;Ss.prototype.__set_whitespace_patterns=function(t,e){t+="\\t ",e+="\\n\\r",this._match_pattern=this._input.get_regexp("["+t+e+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]")};Ss.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(t===" ")this.whitespace_before_token=" ";else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1,this.whitespace_before_token=e[this.newline_count]}return t};Ss.prototype.matching=function(t,e){var n=this._create();return n.__set_whitespace_patterns(t,e),n._update(),n};Ss.prototype._create=function(){return new Ss(this._input,this)};Ss.prototype.__split=function(t,e){t.lastIndex=0;for(var n=0,r=[],i=t.exec(e);i;)r.push(e.substring(n,i.index)),n=i.index+i[0].length,i=t.exec(e);return n<e.length?r.push(e.substring(n,e.length)):r.push(""),r};$I.exports.WhitespacePattern=Ss});var Ql=K((Xte,Th)=>{"use strict";var yM=Ef().InputScanner,XI=hh().Token,bh=HI().TokenStream,bM=zI().WhitespacePattern,Xl={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},_i=function(t,e){this._input=new yM(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new bM(this._input)};_i.prototype.tokenize=function(){this._input.restart(),this.__tokens=new bh,this._reset();for(var t,e=new XI(Xl.START,""),n=null,r=[],i=new bh;e.type!==Xl.EOF;){for(t=this._get_next_token(e,n);this._is_comment(t);)i.add(t),t=this._get_next_token(e,n);i.isEmpty()||(t.comments_before=i,i=new bh),t.parent=n,this._is_opening(t)?(r.push(n),n=t):n&&this._is_closing(t,n)&&(t.opened=n,n.closed=t,n=r.pop(),t.parent=n),t.previous=e,e.next=t,this.__tokens.add(t),e=t}return this.__tokens};_i.prototype._is_first_token=function(){return this.__tokens.isEmpty()};_i.prototype._reset=function(){};_i.prototype._get_next_token=function(t,e){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(Xl.RAW,n):this._create_token(Xl.EOF,"")};_i.prototype._is_comment=function(t){return!1};_i.prototype._is_opening=function(t){return!1};_i.prototype._is_closing=function(t,e){return!1};_i.prototype._create_token=function(t,e){var n=new XI(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return n};_i.prototype._readWhitespace=function(){return this._patterns.whitespace.read()};Th.exports.Tokenizer=_i;Th.exports.TOKEN=Xl});var wf=K((Qte,QI)=>{"use strict";function Nh(t,e){t=typeof t=="string"?t:t.source,e=typeof e=="string"?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}Nh.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(t);n;)e[n[1]]=n[2],n=this.__directive_pattern.exec(t);return e};Nh.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)};QI.exports.Directives=Nh});var Ih=K((Jte,JI)=>{"use strict";var vh=zl().Pattern,Ph={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function ei(t,e){vh.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},Ph),this._excluded=Object.assign({},Ph),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var n=new vh(t);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/),smarty:n.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:n.starting_with(/{\*/).until_after(/\*}/),smarty_literal:n.starting_with(/{literal}/).until_after(/{\/literal}/)}}ei.prototype=new vh;ei.prototype._create=function(){return new ei(this._input,this)};ei.prototype._update=function(){this.__set_templated_pattern()};ei.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e};ei.prototype.read_options=function(t){var e=this._create();for(var n in Ph)e._disabled[n]=t.templating.indexOf(n)===-1;return e._update(),e};ei.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e};ei.prototype.read=function(){var t="";this._match_pattern?t=this._input.read(this._starting_pattern):t=this._input.read(this._starting_pattern,this.__template_pattern);for(var e=this._read_template();e;)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t};ei.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||t.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")};ei.prototype._read_template=function(){var t="",e=this._input.peek();if(e==="<"){var n=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&n==="?"&&(t=t||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&n==="%"&&(t=t||this.__patterns.erb.read())}else e==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(t=t||this.__patterns.handlebars_comment.read(),t=t||this.__patterns.handlebars_unescaped.read(),t=t||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(t=t||this.__patterns.django_value.read()),this._excluded.django||(t=t||this.__patterns.django_comment.read(),t=t||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(t=t||this.__patterns.smarty_comment.read(),t=t||this.__patterns.smarty_literal.read(),t=t||this.__patterns.smarty.read()));return t};JI.exports.TemplatablePattern=ei});var Zl=K((Zte,Jl)=>{"use strict";var TM=Ef().InputScanner,ZI=Ql().Tokenizer,Sh=Ql().TOKEN,NM=wf().Directives,_r=_h(),vM=zl().Pattern,PM=Ih().TemplatablePattern;function Ch(t,e){return e.indexOf(t)!==-1}var ge={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:Sh.START,RAW:Sh.RAW,EOF:Sh.EOF},eS=new NM(/\/\*/,/\*\//),IM=/0[xX][0123456789abcdefABCDEF]*|0[oO][01234567]*|0[bB][01]*|\d+n|(?:\.\d+|\d+\.?\d*)(?:[eE][+-]?\d+)?/,SM=/[0-9]/,CM=/[^\d\.]/,RM=">>> === !== << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),mo=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";mo=mo.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");mo="\\?\\.(?!\\d) "+mo;mo=mo.replace(/ /g,"|");var AM=new RegExp(mo),tS="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),xM=tS.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),EM=new RegExp("^(?:"+xM.join("|")+")$"),Of,cn=function(t,e){ZI.call(this,t,e),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var n=new vM(this._input),r=new PM(this._input).read_options(this._options);this.__patterns={template:r,identifier:r.starting_with(_r.identifier).matching(_r.identifierMatch),number:n.matching(IM),punct:n.matching(AM),comment:n.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:n.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:n.matching(/<!--/),html_comment_end:n.matching(/-->/),include:n.starting_with(/#include/).until_after(_r.lineBreak),shebang:n.starting_with(/#!/).until_after(_r.lineBreak),xml:n.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\]|)(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:r.until(/['\\\n\r\u2028\u2029]/),double_quote:r.until(/["\\\n\r\u2028\u2029]/),template_text:r.until(/[`\\$]/),template_expression:r.until(/[`}\\]/)}};cn.prototype=new ZI;cn.prototype._is_comment=function(t){return t.type===ge.COMMENT||t.type===ge.BLOCK_COMMENT||t.type===ge.UNKNOWN};cn.prototype._is_opening=function(t){return t.type===ge.START_BLOCK||t.type===ge.START_EXPR};cn.prototype._is_closing=function(t,e){return(t.type===ge.END_BLOCK||t.type===ge.END_EXPR)&&e&&(t.text==="]"&&e.text==="["||t.text===")"&&e.text==="("||t.text==="}"&&e.text==="{")};cn.prototype._reset=function(){Of=!1};cn.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(ge.EOF,""):(n=n||this._read_non_javascript(r),n=n||this._read_string(r),n=n||this._read_word(t),n=n||this._read_singles(r),n=n||this._read_comment(r),n=n||this._read_regexp(r,t),n=n||this._read_xml(r,t),n=n||this._read_punctuation(),n=n||this._create_token(ge.UNKNOWN,this._input.next()),n)};cn.prototype._read_word=function(t){var e;if(e=this.__patterns.identifier.read(),e!=="")return e=e.replace(_r.allLineBreaks,`
`),!(t.type===ge.DOT||t.type===ge.RESERVED&&(t.text==="set"||t.text==="get"))&&EM.test(e)?e==="in"||e==="of"?this._create_token(ge.OPERATOR,e):this._create_token(ge.RESERVED,e):this._create_token(ge.WORD,e);if(e=this.__patterns.number.read(),e!=="")return this._create_token(ge.WORD,e)};cn.prototype._read_singles=function(t){var e=null;return t==="("||t==="["?e=this._create_token(ge.START_EXPR,t):t===")"||t==="]"?e=this._create_token(ge.END_EXPR,t):t==="{"?e=this._create_token(ge.START_BLOCK,t):t==="}"?e=this._create_token(ge.END_BLOCK,t):t===";"?e=this._create_token(ge.SEMICOLON,t):t==="."&&CM.test(this._input.peek(1))?e=this._create_token(ge.DOT,t):t===","&&(e=this._create_token(ge.COMMA,t)),e&&this._input.next(),e};cn.prototype._read_punctuation=function(){var t=this.__patterns.punct.read();if(t!=="")return t==="="?this._create_token(ge.EQUALS,t):t==="?."?this._create_token(ge.DOT,t):this._create_token(ge.OPERATOR,t)};cn.prototype._read_non_javascript=function(t){var e="";if(t==="#"){if(this._is_first_token()&&(e=this.__patterns.shebang.read(),e))return this._create_token(ge.UNKNOWN,e.trim()+`
`);if(e=this.__patterns.include.read(),e)return this._create_token(ge.UNKNOWN,e.trim()+`
`);t=this._input.next();var n="#";if(this._input.hasNext()&&this._input.testChar(SM)){do t=this._input.next(),n+=t;while(this._input.hasNext()&&t!=="#"&&t!=="=");return t==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(n+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(n+="{}",this._input.next(),this._input.next())),this._create_token(ge.WORD,n)}this._input.back()}else if(t==="<"&&this._is_first_token()){if(e=this.__patterns.html_comment_start.read(),e){for(;this._input.hasNext()&&!this._input.testChar(_r.newline);)e+=this._input.next();return Of=!0,this._create_token(ge.COMMENT,e)}}else if(Of&&t==="-"&&(e=this.__patterns.html_comment_end.read(),e))return Of=!1,this._create_token(ge.COMMENT,e);return null};cn.prototype._read_comment=function(t){var e=null;if(t==="/"){var n="";if(this._input.peek(1)==="*"){n=this.__patterns.block_comment.read();var r=eS.get_directives(n);r&&r.ignore==="start"&&(n+=eS.readIgnored(this._input)),n=n.replace(_r.allLineBreaks,`
`),e=this._create_token(ge.BLOCK_COMMENT,n),e.directives=r}else this._input.peek(1)==="/"&&(n=this.__patterns.comment.read(),e=this._create_token(ge.COMMENT,n))}return e};cn.prototype._read_string=function(t){if(t==="`"||t==="'"||t==='"'){var e=this._input.next();return this.has_char_escapes=!1,t==="`"?e+=this._read_string_recursive("`",!0,"${"):e+=this._read_string_recursive(t),this.has_char_escapes&&this._options.unescape_strings&&(e=wM(e)),this._input.peek()===t&&(e+=this._input.next()),e=e.replace(_r.allLineBreaks,`
`),this._create_token(ge.STRING,e)}return null};cn.prototype._allow_regexp_or_xml=function(t){return t.type===ge.RESERVED&&Ch(t.text,["return","case","throw","else","do","typeof","yield"])||t.type===ge.END_EXPR&&t.text===")"&&t.opened.previous.type===ge.RESERVED&&Ch(t.opened.previous.text,["if","while","for"])||Ch(t.type,[ge.COMMENT,ge.START_EXPR,ge.START_BLOCK,ge.START,ge.END_BLOCK,ge.OPERATOR,ge.EQUALS,ge.EOF,ge.SEMICOLON,ge.COMMA])};cn.prototype._read_regexp=function(t,e){if(t==="/"&&this._allow_regexp_or_xml(e)){for(var n=this._input.next(),r=!1,i=!1;this._input.hasNext()&&(r||i||this._input.peek()!==t)&&!this._input.testChar(_r.newline);)n+=this._input.peek(),r?r=!1:(r=this._input.peek()==="\\",this._input.peek()==="["?i=!0:this._input.peek()==="]"&&(i=!1)),this._input.next();return this._input.peek()===t&&(n+=this._input.next(),n+=this._input.read(_r.identifier)),this._create_token(ge.STRING,n)}return null};cn.prototype._read_xml=function(t,e){if(this._options.e4x&&t==="<"&&this._allow_regexp_or_xml(e)){var n="",r=this.__patterns.xml.read_match();if(r){for(var i=r[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),s=i.indexOf("{")===0,o=0;r;){var a=!!r[1],l=r[2],u=!!r[r.length-1]||l.slice(0,8)==="![CDATA[";if(!u&&(l===i||s&&l.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(a?--o:++o),n+=r[0],o<=0)break;r=this.__patterns.xml.read_match()}return r||(n+=this._input.match(/[\s\S]*/g)[0]),n=n.replace(_r.allLineBreaks,`
`),this._create_token(ge.STRING,n)}}return null};function wM(t){for(var e="",n=0,r=new TM(t),i=null;r.hasNext();)if(i=r.match(/([\s]|[^\\]|\\\\)+/g),i&&(e+=i[0]),r.peek()==="\\"){if(r.next(),r.peek()==="x")i=r.match(/x([0-9A-Fa-f]{2})/g);else if(r.peek()==="u")i=r.match(/u([0-9A-Fa-f]{4})/g);else{e+="\\",r.hasNext()&&(e+=r.next());continue}if(!i||(n=parseInt(i[1],16),n>126&&n<=255&&i[0].indexOf("x")===0))return t;if(n>=0&&n<32){e+="\\"+i[0];continue}else n===34||n===39||n===92?e+="\\"+String.fromCharCode(n):e+=String.fromCharCode(n)}return e}cn.prototype._read_string_recursive=function(t,e,n){var r,i;t==="'"?i=this.__patterns.single_quote:t==='"'?i=this.__patterns.double_quote:t==="`"?i=this.__patterns.template_text:t==="}"&&(i=this.__patterns.template_expression);for(var s=i.read(),o="";this._input.hasNext();){if(o=this._input.next(),o===t||!e&&_r.newline.test(o)){this._input.back();break}else o==="\\"&&this._input.hasNext()?(r=this._input.peek(),r==="x"||r==="u"?this.has_char_escapes=!0:r==="\r"&&this._input.peek(1)===`
`&&this._input.next(),o+=this._input.next()):n&&(n==="${"&&o==="$"&&this._input.peek()==="{"&&(o+=this._input.next()),n===o&&(t==="`"?o+=this._read_string_recursive("}",e,"`"):o+=this._read_string_recursive("`",e,"${"),this._input.hasNext()&&(o+=this._input.next())));o+=i.read(),s+=o}return s};Jl.exports.Tokenizer=cn;Jl.exports.TOKEN=ge;Jl.exports.positionable_operators=RM.slice();Jl.exports.line_starters=tS.slice()});var sS=K((ene,iS)=>{"use strict";var OM=Rf().Output,LM=hh().Token,Lf=_h(),DM=yh().Options,kM=Zl().Tokenizer,eu=Zl().line_starters,tu=Zl().positionable_operators,q=Zl().TOKEN;function ke(t,e){return e.indexOf(t)!==-1}function MM(t){return t.replace(/^\s+/g,"")}function FM(t){for(var e={},n=0;n<t.length;n++)e[t[n].replace(/-/g,"_")]=t[n];return e}function yr(t,e){return t&&t.type===q.RESERVED&&t.text===e}function at(t,e){return t&&t.type===q.RESERVED&&ke(t.text,e)}var Df=["case","return","do","if","throw","else","await","break","continue","async"],VM=["before-newline","after-newline","preserve-newline"],nu=FM(VM),nS=[nu.before_newline,nu.preserve_newline],_e={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function rS(t,e){e.multiline_frame||e.mode===_e.ForInitializer||e.mode===_e.Conditional||t.remove_indent(e.start_line_index)}function qM(t){t=t.replace(Lf.allLineBreaks,`
`);for(var e=[],n=t.indexOf(`
`);n!==-1;)e.push(t.substring(0,n)),t=t.substring(n+1),n=t.indexOf(`
`);return t.length&&e.push(t),e}function Cs(t){return t===_e.ArrayLiteral}function ru(t){return ke(t,[_e.Expression,_e.ForInitializer,_e.Conditional])}function BM(t,e){for(var n=0;n<t.length;n++){var r=t[n].trim();if(r.charAt(0)!==e)return!1}return!0}function jM(t,e){for(var n=0,r=t.length,i;n<r;n++)if(i=t[n],i&&i.indexOf(e)!==0)return!1;return!0}function Ke(t,e){e=e||{},this._source_text=t||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new DM(e)}Ke.prototype.create_flags=function(t,e){var n=0;t&&(n=t.indentation_level,!this._output.just_added_newline()&&t.line_indent_level>n&&(n=t.line_indent_level));var r={mode:e,parent:t,last_token:t?t.last_token:new LM(q.START_BLOCK,""),last_word:t?t.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,alignment:0,line_indent_level:t?t.line_indent_level:n,start_line_index:this._output.get_line_number(),ternary_depth:0};return r};Ke.prototype._reset=function(t){var e=t.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new OM(this._options,e),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(_e.BlockStatement);var n=new kM(t,this._options);return this._tokens=n.tokenize(),t};Ke.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t,e=this._reset(this._source_text),n=this._options.eol;this._options.eol==="auto"&&(n=`
`,e&&Lf.lineBreak.test(e||"")&&(n=e.match(Lf.lineBreak)[0]));for(var r=this._tokens.next();r;)this.handle_token(r),this._last_last_text=this._flags.last_token.text,this._flags.last_token=r,r=this._tokens.next();return t=this._output.get_code(n),t};Ke.prototype.handle_token=function(t,e){t.type===q.START_EXPR?this.handle_start_expr(t):t.type===q.END_EXPR?this.handle_end_expr(t):t.type===q.START_BLOCK?this.handle_start_block(t):t.type===q.END_BLOCK?this.handle_end_block(t):t.type===q.WORD?this.handle_word(t):t.type===q.RESERVED?this.handle_word(t):t.type===q.SEMICOLON?this.handle_semicolon(t):t.type===q.STRING?this.handle_string(t):t.type===q.EQUALS?this.handle_equals(t):t.type===q.OPERATOR?this.handle_operator(t):t.type===q.COMMA?this.handle_comma(t):t.type===q.BLOCK_COMMENT?this.handle_block_comment(t,e):t.type===q.COMMENT?this.handle_comment(t,e):t.type===q.DOT?this.handle_dot(t):t.type===q.EOF?this.handle_eof(t):t.type===q.UNKNOWN?this.handle_unknown(t,e):this.handle_unknown(t,e)};Ke.prototype.handle_whitespace_and_comments=function(t,e){var n=t.newlines,r=this._options.keep_array_indentation&&Cs(this._flags.mode);if(t.comments_before)for(var i=t.comments_before.next();i;)this.handle_whitespace_and_comments(i,e),this.handle_token(i,e),i=t.comments_before.next();if(r)for(var s=0;s<n;s+=1)this.print_newline(s>0,e);else if(this._options.max_preserve_newlines&&n>this._options.max_preserve_newlines&&(n=this._options.max_preserve_newlines),this._options.preserve_newlines&&n>1){this.print_newline(!1,e);for(var o=1;o<n;o+=1)this.print_newline(!0,e)}};var Rh=["async","break","continue","return","throw","yield"];Ke.prototype.allow_wrap_or_preserved_newline=function(t,e){if(e=e===void 0?!1:e,!this._output.just_added_newline()){var n=this._options.preserve_newlines&&t.newlines||e,r=ke(this._flags.last_token.text,tu)||ke(t.text,tu);if(r){var i=ke(this._flags.last_token.text,tu)&&ke(this._options.operator_position,nS)||ke(t.text,tu);n=n&&i}if(n)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(at(this._flags.last_token,Rh))return;this._output.set_wrap_point()}}};Ke.prototype.print_newline=function(t,e){if(!e&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==q.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var n=this._tokens.peek();this._flags.mode===_e.Statement&&!(this._flags.if_block&&yr(n,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(t)&&(this._flags.multiline_frame=!0)};Ke.prototype.print_token_line_indentation=function(t){this._output.just_added_newline()&&(this._options.keep_array_indentation&&t.newlines&&(t.text==="["||Cs(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(t.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))};Ke.prototype.print_token=function(t){if(this._output.raw){this._output.add_raw_token(t);return}if(this._options.comma_first&&t.previous&&t.previous.type===q.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var e=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(e),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(t),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(t),this._output.non_breaking_space=!0,this._output.add_token(t.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)};Ke.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};Ke.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};Ke.prototype.set_mode=function(t){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,t),this._flags=this.create_flags(this._previous_flags,t),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};Ke.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===_e.Statement&&rS(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};Ke.prototype.start_of_object_property=function(){return this._flags.parent.mode===_e.ObjectLiteral&&this._flags.mode===_e.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||at(this._flags.last_token,["get","set"]))};Ke.prototype.start_of_statement=function(t){var e=!1;return e=e||at(this._flags.last_token,["var","let","const"])&&t.type===q.WORD,e=e||yr(this._flags.last_token,"do"),e=e||!(this._flags.parent.mode===_e.ObjectLiteral&&this._flags.mode===_e.Statement)&&at(this._flags.last_token,Rh)&&!t.newlines,e=e||yr(this._flags.last_token,"else")&&!(yr(t,"if")&&!t.comments_before),e=e||this._flags.last_token.type===q.END_EXPR&&(this._previous_flags.mode===_e.ForInitializer||this._previous_flags.mode===_e.Conditional),e=e||this._flags.last_token.type===q.WORD&&this._flags.mode===_e.BlockStatement&&!this._flags.in_case&&!(t.text==="--"||t.text==="++")&&this._last_last_text!=="function"&&t.type!==q.WORD&&t.type!==q.RESERVED,e=e||this._flags.mode===_e.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||at(this._flags.last_token,["get","set"])),e?(this.set_mode(_e.Statement),this.indent(),this.handle_whitespace_and_comments(t,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t,at(t,["do","for","if","while"])),!0):!1};Ke.prototype.handle_start_expr=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t);var e=_e.Expression;if(t.text==="["){if(this._flags.last_token.type===q.WORD||this._flags.last_token.text===")"){at(this._flags.last_token,eu)&&(this._output.space_before_token=!0),this.print_token(t),this.set_mode(e),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}e=_e.ArrayLiteral,Cs(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),ke(this._flags.last_token.type,[q.START_EXPR,q.END_EXPR,q.WORD,q.OPERATOR,q.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===q.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,e=_e.ForInitializer):ke(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,e=_e.Conditional):ke(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&t.whitespace_before===""?this._output.space_before_token=!1:(ke(this._flags.last_token.text,eu)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===q.EQUALS||this._flags.last_token.type===q.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t);else if(this._flags.last_token.type===q.WORD){this._output.space_before_token=!1;var n=this._tokens.peek(-3);if(this._options.space_after_named_function&&n){var r=this._tokens.peek(-4);at(n,["async","function"])||n.text==="*"&&at(r,["async","function"])?this._output.space_before_token=!0:this._flags.mode===_e.ObjectLiteral&&(n.text==="{"||n.text===","||n.text==="*"&&(r.text==="{"||r.text===","))&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(t);(this._flags.last_token.type===q.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(ke(this._last_last_text,["function","yield"])||this._flags.mode===_e.ObjectLiteral&&ke(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===q.START_BLOCK?this.print_newline():(this._flags.last_token.type===q.END_EXPR||this._flags.last_token.type===q.START_EXPR||this._flags.last_token.type===q.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===q.COMMA)&&this.allow_wrap_or_preserved_newline(t,t.newlines),this.print_token(t),this.set_mode(e),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()};Ke.prototype.handle_end_expr=function(t){for(;this._flags.mode===_e.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(t,t.text==="]"&&Cs(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===q.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(t),this.restore_mode(),rS(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===_e.Conditional&&(this._previous_flags.mode=_e.Expression,this._flags.do_block=!1,this._flags.do_while=!1)};Ke.prototype.handle_start_block=function(t){this.handle_whitespace_and_comments(t);var e=this._tokens.peek(),n=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===q.END_EXPR?(this.set_mode(_e.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(_e.BlockStatement):n&&(ke(n.text,[":",","])&&ke(e.type,[q.STRING,q.WORD,q.RESERVED])||ke(e.text,["get","set","..."])&&ke(n.type,[q.WORD,q.RESERVED]))?ke(this._last_last_text,["class","interface"])?this.set_mode(_e.BlockStatement):this.set_mode(_e.ObjectLiteral):this._flags.last_token.type===q.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(_e.BlockStatement):ke(this._flags.last_token.type,[q.EQUALS,q.START_EXPR,q.COMMA,q.OPERATOR])||at(this._flags.last_token,["return","throw","import","default"])?this.set_mode(_e.ObjectLiteral):this.set_mode(_e.BlockStatement);var r=!e.comments_before&&e.text==="}",i=r&&this._flags.last_word==="function"&&this._flags.last_token.type===q.END_EXPR;if(this._options.brace_preserve_inline){var s=0,o=null;this._flags.inline_frame=!0;do if(s+=1,o=this._tokens.peek(s-1),o.newlines){this._flags.inline_frame=!1;break}while(o.type!==q.EOF&&!(o.type===q.END_BLOCK&&o.opened===t))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==q.OPERATOR&&(i||this._flags.last_token.type===q.EQUALS||at(this._flags.last_token,Df)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(Cs(this._previous_flags.mode)&&(this._flags.last_token.type===q.START_EXPR||this._flags.last_token.type===q.COMMA)&&((this._flags.last_token.type===q.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===q.COMMA||this._flags.last_token.type===q.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(t),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==q.OPERATOR&&this._flags.last_token.type!==q.START_EXPR&&(this._flags.last_token.type===q.START_BLOCK&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(t),this.indent(),!r&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()};Ke.prototype.handle_end_block=function(t){for(this.handle_whitespace_and_comments(t);this._flags.mode===_e.Statement;)this.restore_mode();var e=this._flags.last_token.type===q.START_BLOCK;this._flags.inline_frame&&!e?this._output.space_before_token=!0:this._options.brace_style==="expand"?e||this.print_newline():e||(Cs(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(t)};Ke.prototype.handle_word=function(t){if(t.type===q.RESERVED){if(ke(t.text,["set","get"])&&this._flags.mode!==_e.ObjectLiteral)t.type=q.WORD;else if(t.text==="import"&&this._tokens.peek().text==="(")t.type=q.WORD;else if(ke(t.text,["as","from"])&&!this._flags.import_block)t.type=q.WORD;else if(this._flags.mode===_e.ObjectLiteral){var e=this._tokens.peek();e.text===":"&&(t.type=q.WORD)}}if(this.start_of_statement(t)?at(this._flags.last_token,["var","let","const"])&&t.type===q.WORD&&(this._flags.declaration_statement=!0):t.newlines&&!ru(this._flags.mode)&&(this._flags.last_token.type!==q.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==q.EQUALS&&(this._options.preserve_newlines||!at(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(t),this.print_newline()):this.handle_whitespace_and_comments(t),this._flags.do_block&&!this._flags.do_while)if(yr(t,"while")){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&yr(t,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===_e.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&at(t,["case","default"])){this.print_newline(),this._flags.last_token.type!==q.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(t),this._flags.in_case=!0;return}if((this._flags.last_token.type===q.COMMA||this._flags.last_token.type===q.START_EXPR||this._flags.last_token.type===q.EQUALS||this._flags.last_token.type===q.OPERATOR)&&(this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t)),yr(t,"function")){(ke(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(ke(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===q.OPERATOR))&&!this._output.just_added_blankline()&&!t.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===q.RESERVED||this._flags.last_token.type===q.WORD?at(this._flags.last_token,["get","set","new","export"])||at(this._flags.last_token,Rh)?this._output.space_before_token=!0:yr(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===q.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(ru(this._flags.mode)||Cs(this._flags.mode))||this.print_newline(),this.print_token(t),this._flags.last_word=t.text;return}var n="NONE";if(this._flags.last_token.type===q.END_BLOCK?this._previous_flags.inline_frame?n="SPACE":at(t,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines?n="NEWLINE":(n="SPACE",this._output.space_before_token=!0):n="NEWLINE":this._flags.last_token.type===q.SEMICOLON&&this._flags.mode===_e.BlockStatement?n="NEWLINE":this._flags.last_token.type===q.SEMICOLON&&ru(this._flags.mode)?n="SPACE":this._flags.last_token.type===q.STRING?n="NEWLINE":this._flags.last_token.type===q.RESERVED||this._flags.last_token.type===q.WORD||this._flags.last_token.text==="*"&&(ke(this._last_last_text,["function","yield"])||this._flags.mode===_e.ObjectLiteral&&ke(this._last_last_text,["{",","]))?n="SPACE":this._flags.last_token.type===q.START_BLOCK?this._flags.inline_frame?n="SPACE":n="NEWLINE":this._flags.last_token.type===q.END_EXPR&&(this._output.space_before_token=!0,n="NEWLINE"),at(t,eu)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?n="SPACE":n="NEWLINE"),at(t,["else","catch","finally"]))if((!(this._flags.last_token.type===q.END_BLOCK&&this._previous_flags.mode===_e.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var r=this._output.current_line;r.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else n==="NEWLINE"?at(this._flags.last_token,Df)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&at(t,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==q.END_EXPR?(this._flags.last_token.type!==q.START_EXPR||!at(t,["var","let","const"]))&&this._flags.last_token.text!==":"&&(yr(t,"if")&&yr(t.previous,"else")?this._output.space_before_token=!0:this.print_newline()):at(t,eu)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&Cs(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():n==="SPACE"&&(this._output.space_before_token=!0);t.previous&&(t.previous.type===q.WORD||t.previous.type===q.RESERVED)&&(this._output.space_before_token=!0),this.print_token(t),this._flags.last_word=t.text,t.type===q.RESERVED&&(t.text==="do"?this._flags.do_block=!0:t.text==="if"?this._flags.if_block=!0:t.text==="import"?this._flags.import_block=!0:this._flags.import_block&&yr(t,"from")&&(this._flags.import_block=!1))};Ke.prototype.handle_semicolon=function(t){this.start_of_statement(t)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(t);for(var e=this._tokens.peek();this._flags.mode===_e.Statement&&!(this._flags.if_block&&yr(e,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(t)};Ke.prototype.handle_string=function(t){t.text.startsWith("`")&&t.newlines===0&&t.whitespace_before===""&&(t.previous.text===")"||this._flags.last_token.type===q.WORD)||(this.start_of_statement(t)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(t),this._flags.last_token.type===q.RESERVED||this._flags.last_token.type===q.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===q.COMMA||this._flags.last_token.type===q.START_EXPR||this._flags.last_token.type===q.EQUALS||this._flags.last_token.type===q.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t):t.text.startsWith("`")&&this._flags.last_token.type===q.END_EXPR&&(t.previous.text==="]"||t.previous.text===")")&&t.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(t)};Ke.prototype.handle_equals=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0};Ke.prototype.handle_comma=function(t){this.handle_whitespace_and_comments(t,!0),this.print_token(t),this._output.space_before_token=!0,this._flags.declaration_statement?(ru(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)):this._flags.mode===_e.ObjectLiteral||this._flags.mode===_e.Statement&&this._flags.parent.mode===_e.ObjectLiteral?(this._flags.mode===_e.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)};Ke.prototype.handle_operator=function(t){var e=t.text==="*"&&(at(this._flags.last_token,["function","yield"])||ke(this._flags.last_token.type,[q.START_BLOCK,q.COMMA,q.END_BLOCK,q.SEMICOLON])),n=ke(t.text,["-","+"])&&(ke(this._flags.last_token.type,[q.START_BLOCK,q.START_EXPR,q.EQUALS,q.OPERATOR])||ke(this._flags.last_token.text,eu)||this._flags.last_token.text===",");if(!this.start_of_statement(t)){var r=!e;this.handle_whitespace_and_comments(t,r)}if(at(this._flags.last_token,Df)){this._output.space_before_token=!0,this.print_token(t);return}if(t.text==="*"&&this._flags.last_token.type===q.DOT){this.print_token(t);return}if(t.text==="::"){this.print_token(t);return}if(this._flags.last_token.type===q.OPERATOR&&ke(this._options.operator_position,nS)&&this.allow_wrap_or_preserved_newline(t),t.text===":"&&this._flags.in_case){this.print_token(t),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==q.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0;return}var i=!0,s=!0,o=!1;if(t.text===":"?this._flags.ternary_depth===0?i=!1:(this._flags.ternary_depth-=1,o=!0):t.text==="?"&&(this._flags.ternary_depth+=1),!n&&!e&&this._options.preserve_newlines&&ke(t.text,tu)){var a=t.text===":",l=a&&o,u=a&&!o;switch(this._options.operator_position){case nu.before_newline:this._output.space_before_token=!u,this.print_token(t),(!a||l)&&this.allow_wrap_or_preserved_newline(t),this._output.space_before_token=!0;return;case nu.after_newline:this._output.space_before_token=!0,!a||l?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(t):this._output.space_before_token=!1,this.print_token(t),this._output.space_before_token=!0;return;case nu.preserve_newline:u||this.allow_wrap_or_preserved_newline(t),i=!(this._output.just_added_newline()||u),this._output.space_before_token=i,this.print_token(t),this._output.space_before_token=!0;return}}if(e){this.allow_wrap_or_preserved_newline(t),i=!1;var c=this._tokens.peek();s=c&&ke(c.type,[q.WORD,q.RESERVED])}else t.text==="..."?(this.allow_wrap_or_preserved_newline(t),i=this._flags.last_token.type===q.START_BLOCK,s=!1):(ke(t.text,["--","++","!","~"])||n)&&((this._flags.last_token.type===q.COMMA||this._flags.last_token.type===q.START_EXPR)&&this.allow_wrap_or_preserved_newline(t),i=!1,s=!1,t.newlines&&(t.text==="--"||t.text==="++")&&this.print_newline(!1,!0),this._flags.last_token.text===";"&&ru(this._flags.mode)&&(i=!0),this._flags.last_token.type===q.RESERVED?i=!0:this._flags.last_token.type===q.END_EXPR?i=!(this._flags.last_token.text==="]"&&(t.text==="--"||t.text==="++")):this._flags.last_token.type===q.OPERATOR&&(i=ke(t.text,["--","-","++","+"])&&ke(this._flags.last_token.text,["--","-","++","+"]),ke(t.text,["+","-"])&&ke(this._flags.last_token.text,["--","++"])&&(s=!0)),(this._flags.mode===_e.BlockStatement&&!this._flags.inline_frame||this._flags.mode===_e.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline());this._output.space_before_token=this._output.space_before_token||i,this.print_token(t),this._output.space_before_token=s};Ke.prototype.handle_block_comment=function(t,e){if(this._output.raw){this._output.add_raw_token(t),t.directives&&t.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(t.directives){this.print_newline(!1,e),this.print_token(t),t.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!Lf.newline.test(t.text)&&!t.newlines){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0;return}else this.print_block_commment(t,e)};Ke.prototype.print_block_commment=function(t,e){var n=qM(t.text),r,i=!1,s=!1,o=t.whitespace_before,a=o.length;if(this.print_newline(!1,e),this.print_token_line_indentation(t),this._output.add_token(n[0]),this.print_newline(!1,e),n.length>1){for(n=n.slice(1),i=BM(n,"*"),s=jM(n,o),i&&(this._flags.alignment=1),r=0;r<n.length;r++)i?(this.print_token_line_indentation(t),this._output.add_token(MM(n[r]))):s&&n[r]?(this.print_token_line_indentation(t),this._output.add_token(n[r].substring(a))):(this._output.current_line.set_indent(-1),this._output.add_token(n[r])),this.print_newline(!1,e);this._flags.alignment=0}};Ke.prototype.handle_comment=function(t,e){t.newlines?this.print_newline(!1,e):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(t),this.print_newline(!1,e)};Ke.prototype.handle_dot=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t,!0),at(this._flags.last_token,Df)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(t,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(t)};Ke.prototype.handle_unknown=function(t,e){this.print_token(t),t.text[t.text.length-1]===`
`&&this.print_newline(!1,e)};Ke.prototype.handle_eof=function(t){for(;this._flags.mode===_e.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t)};iS.exports.Beautifier=Ke});var oS=K((tne,Ah)=>{"use strict";var UM=sS().Beautifier,GM=yh().Options;function WM(t,e){var n=new UM(t,e);return n.beautify()}Ah.exports=WM;Ah.exports.defaultOptions=function(){return new GM}});var xh=K((nne,uS)=>{"use strict";var aS=xf().Options;function lS(t){aS.call(this,t,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var e=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||e;var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var r=0;r<n.length;r++)n[r]!=="expand"?this.brace_style="collapse":this.brace_style=n[r]}lS.prototype=new aS;uS.exports.Options=lS});var dS=K((rne,pS)=>{"use strict";var HM=xh().Options,YM=Rf().Output,KM=Ef().InputScanner,$M=wf().Directives,cS=new $M(/\/\*/,/\*\//),fS=/\r\n|[\r\n]/,zM=/\r\n|[\r\n]/g,kf=/\s/,XM=/(?:\s|\n)+/g,QM=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,JM=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function Gi(t,e){this._source_text=t||"",this._options=new HM(e),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}Gi.prototype.eatString=function(t){var e="";for(this._ch=this._input.next();this._ch;){if(e+=this._ch,this._ch==="\\")e+=this._input.next();else if(t.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return e};Gi.prototype.eatWhitespace=function(t){for(var e=kf.test(this._input.peek()),n=0;kf.test(this._input.peek());)this._ch=this._input.next(),t&&this._ch===`
`&&(n===0||n<this._options.max_preserve_newlines)&&(n++,this._output.add_new_line(!0));return e};Gi.prototype.foundNestedPseudoClass=function(){for(var t=0,e=1,n=this._input.peek(e);n;){if(n==="{")return!0;if(n==="(")t+=1;else if(n===")"){if(t===0)return!1;t-=1}else if(n===";"||n==="}")return!1;e++,n=this._input.peek(e)}return!1};Gi.prototype.print_string=function(t){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(t)};Gi.prototype.preserveSingleSpace=function(t){t&&(this._output.space_before_token=!0)};Gi.prototype.indent=function(){this._indentLevel++};Gi.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--};Gi.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;e==="auto"&&(e=`
`,t&&fS.test(t||"")&&(e=t.match(fS)[0])),t=t.replace(zM,`
`);var n=t.match(/^[\t ]*/)[0];this._output=new YM(this._options,n),this._input=new KM(t),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var r=0,i=!1,s=!1,o=!1,a=!1,l=!1,u=this._ch,c,f,m;c=this._input.read(XM),f=c!=="",m=u,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),u=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var d=this._input.read(QM),p=cS.get_directives(d);p&&p.ignore==="start"&&(d+=cS.readIgnored(this._input)),this.print_string(d),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(JM)),this.eatWhitespace(!0);else if(this._ch==="@")if(this.preserveSingleSpace(f),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var _=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);_.match(/[ :]$/)&&(_=this.eatString(": ").replace(/\s$/,""),this.print_string(_),this._output.space_before_token=!0),_=_.replace(/\s$/,""),_==="extend"?a=!0:_==="import"&&(l=!0),_ in this.NESTED_AT_RULE?(this._nestedLevel+=1,_ in this.CONDITIONAL_GROUP_RULE&&(o=!0)):!i&&r===0&&_.indexOf(":")!==-1&&(s=!0,this.indent())}else this._ch==="#"&&this._input.peek()==="{"?(this.preserveSingleSpace(f),this.print_string(this._ch+this.eatString("}"))):this._ch==="{"?(s&&(s=!1,this.outdent()),o?(o=!1,i=this._indentLevel>=this._nestedLevel):i=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&i&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line()):this._ch==="}"?(this.outdent(),this._output.add_new_line(),m==="{"&&this._output.trim(!0),l=!1,a=!1,s&&(this.outdent(),s=!1),this.print_string(this._ch),i=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0)):this._ch===":"?(i||o)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!a&&r===0?(this.print_string(":"),s||(s=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):this._ch==='"'||this._ch==="'"?(this.preserveSingleSpace(f),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):this._ch===";"?r===0?(s&&(this.outdent(),s=!1),a=!1,l=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):this._ch==="("?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),r++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),r&&(r--,this.outdent()))):(this.preserveSingleSpace(f),this.print_string(this._ch),this.eatWhitespace(),r++,this.indent()):this._ch===")"?(r&&(r--,this.outdent()),this.print_string(this._ch)):this._ch===","?(this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&!s&&r===0&&!l?this._output.add_new_line():this._output.space_before_token=!0):(this._ch===">"||this._ch==="+"||this._ch==="~")&&!s&&r===0?this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&kf.test(this._ch)&&(this._ch="")):this._ch==="]"?this.print_string(this._ch):this._ch==="["?(this.preserveSingleSpace(f),this.print_string(this._ch)):this._ch==="="?(this.eatWhitespace(),this.print_string("="),kf.test(this._ch)&&(this._ch="")):this._ch==="!"&&!this._input.lookBack("\\")?(this.print_string(" "),this.print_string(this._ch)):(this.preserveSingleSpace(f),this.print_string(this._ch));var C=this._output.get_code(e);return C};pS.exports.Beautifier=Gi});var mS=K((ine,Eh)=>{"use strict";var ZM=dS().Beautifier,eF=xh().Options;function tF(t,e){var n=new ZM(t,e);return n.beautify()}Eh.exports=tF;Eh.exports.defaultOptions=function(){return new eF}});var wh=K((sne,_S)=>{"use strict";var hS=xf().Options;function gS(t){hS.call(this,t,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}gS.prototype=new hS;_S.exports.Options=gS});var Dh=K((one,Lh)=>{"use strict";var yS=Ql().Tokenizer,Oh=Ql().TOKEN,nF=wf().Directives,rF=Ih().TemplatablePattern,iF=zl().Pattern,At={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:Oh.START,RAW:Oh.RAW,EOF:Oh.EOF},bS=new nF(/<\!--/,/-->/),gn=function(t,e){yS.call(this,t,e),this._current_tag_name="";var n=new rF(this._input).read_options(this._options),r=new iF(this._input);if(this.__patterns={word:n.until(/[\n\r\t <]/),single_quote:n.until_after(/'/),double_quote:n.until_after(/"/),attribute:n.until(/[\n\r\t =>]|\/>/),element_name:n.until(/[\n\r\t >\/]/),handlebars_comment:r.starting_with(/{{!--/).until_after(/--}}/),handlebars:r.starting_with(/{{/).until_after(/}}/),handlebars_open:r.until(/[\n\r\t }]/),handlebars_raw_close:r.until(/}}/),comment:r.starting_with(/<!--/).until_after(/-->/),cdata:r.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:r.starting_with(/<!\[/).until_after(/]>/),processing:r.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var i=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=r.matching(i).until_after(i)}};gn.prototype=new yS;gn.prototype._is_comment=function(t){return!1};gn.prototype._is_opening=function(t){return t.type===At.TAG_OPEN};gn.prototype._is_closing=function(t,e){return t.type===At.TAG_CLOSE&&e&&((t.text===">"||t.text==="/>")&&e.text[0]==="<"||t.text==="}}"&&e.text[0]==="{"&&e.text[1]==="{")};gn.prototype._reset=function(){this._current_tag_name=""};gn.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(At.EOF,""):(n=n||this._read_open_handlebars(r,e),n=n||this._read_attribute(r,t,e),n=n||this._read_close(r,e),n=n||this._read_raw_content(r,t,e),n=n||this._read_content_word(r),n=n||this._read_comment_or_cdata(r),n=n||this._read_processing(r),n=n||this._read_open(r,e),n=n||this._create_token(At.UNKNOWN,this._input.next()),n)};gn.prototype._read_comment_or_cdata=function(t){var e=null,n=null,r=null;if(t==="<"){var i=this._input.peek(1);i==="!"&&(n=this.__patterns.comment.read(),n?(r=bS.get_directives(n),r&&r.ignore==="start"&&(n+=bS.readIgnored(this._input))):n=this.__patterns.cdata.read()),n&&(e=this._create_token(At.COMMENT,n),e.directives=r)}return e};gn.prototype._read_processing=function(t){var e=null,n=null,r=null;if(t==="<"){var i=this._input.peek(1);(i==="!"||i==="?")&&(n=this.__patterns.conditional_comment.read(),n=n||this.__patterns.processing.read()),n&&(e=this._create_token(At.COMMENT,n),e.directives=r)}return e};gn.prototype._read_open=function(t,e){var n=null,r=null;return e||t==="<"&&(n=this._input.next(),this._input.peek()==="/"&&(n+=this._input.next()),n+=this.__patterns.element_name.read(),r=this._create_token(At.TAG_OPEN,n)),r};gn.prototype._read_open_handlebars=function(t,e){var n=null,r=null;return e||this._options.indent_handlebars&&t==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(n=this.__patterns.handlebars_comment.read(),n=n||this.__patterns.handlebars.read(),r=this._create_token(At.COMMENT,n)):(n=this.__patterns.handlebars_open.read(),r=this._create_token(At.TAG_OPEN,n))),r};gn.prototype._read_close=function(t,e){var n=null,r=null;return e&&(e.text[0]==="<"&&(t===">"||t==="/"&&this._input.peek(1)===">")?(n=this._input.next(),t==="/"&&(n+=this._input.next()),r=this._create_token(At.TAG_CLOSE,n)):e.text[0]==="{"&&t==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),r=this._create_token(At.TAG_CLOSE,"}}"))),r};gn.prototype._read_attribute=function(t,e,n){var r=null,i="";if(n&&n.text[0]==="<")if(t==="=")r=this._create_token(At.EQUALS,this._input.next());else if(t==='"'||t==="'"){var s=this._input.next();t==='"'?s+=this.__patterns.double_quote.read():s+=this.__patterns.single_quote.read(),r=this._create_token(At.VALUE,s)}else i=this.__patterns.attribute.read(),i&&(e.type===At.EQUALS?r=this._create_token(At.VALUE,i):r=this._create_token(At.ATTRIBUTE,i));return r};gn.prototype._is_content_unformatted=function(t){return this._options.void_elements.indexOf(t)===-1&&(this._options.content_unformatted.indexOf(t)!==-1||this._options.unformatted.indexOf(t)!==-1)};gn.prototype._read_raw_content=function(t,e,n){var r="";if(n&&n.text[0]==="{")r=this.__patterns.handlebars_raw_close.read();else if(e.type===At.TAG_CLOSE&&e.opened.text[0]==="<"&&e.text[0]!=="/"){var i=e.opened.text.substr(1).toLowerCase();if(i==="script"||i==="style"){var s=this._read_comment_or_cdata(t);if(s)return s.type=At.TEXT,s;r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(i)&&(r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig")))}return r?this._create_token(At.TEXT,r):null};gn.prototype._read_content_word=function(t){var e="";if(this._options.unformatted_content_delimiter&&t===this._options.unformatted_content_delimiter[0]&&(e=this.__patterns.unformatted_content_delimiter.read()),e||(e=this.__patterns.word.read()),e)return this._create_token(At.TEXT,e)};Lh.exports.Tokenizer=gn;Lh.exports.TOKEN=At});var PS=K((ane,vS)=>{"use strict";var sF=wh().Options,oF=Rf().Output,aF=Dh().Tokenizer,tt=Dh().TOKEN,TS=/\r\n|[\r\n]/,lF=/\r\n|[\r\n]/g,br=function(t,e){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=t.max_preserve_newlines,this.preserve_newlines=t.preserve_newlines,this._output=new oF(t,e)};br.prototype.current_line_has_match=function(t){return this._output.current_line.has_match(t)};br.prototype.set_space_before_token=function(t,e){this._output.space_before_token=t,this._output.non_breaking_space=e};br.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()};br.prototype.add_raw_token=function(t){this._output.add_raw_token(t)};br.prototype.print_preserved_newlines=function(t){var e=0;t.type!==tt.TEXT&&t.previous.type!==tt.TEXT&&(e=t.newlines?1:0),this.preserve_newlines&&(e=t.newlines<this.max_preserve_newlines+1?t.newlines:this.max_preserve_newlines+1);for(var n=0;n<e;n++)this.print_newline(n>0);return e!==0};br.prototype.traverse_whitespace=function(t){return t.whitespace_before||t.newlines?(this.print_preserved_newlines(t)||(this._output.space_before_token=!0),!0):!1};br.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped};br.prototype.print_newline=function(t){this._output.add_new_line(t)};br.prototype.print_token=function(t){t.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(t.text))};br.prototype.indent=function(){this.indent_level++};br.prototype.get_full_indent=function(t){return t=this.indent_level+(t||0),t<1?"":this._output.get_indent_string(t)};var uF=function(t){for(var e=null,n=t.next;n.type!==tt.EOF&&t.closed!==n;){if(n.type===tt.ATTRIBUTE&&n.text==="type"){n.next&&n.next.type===tt.EQUALS&&n.next.next&&n.next.next.type===tt.VALUE&&(e=n.next.next.text);break}n=n.next}return e},cF=function(t,e){var n=null,r=null;return e.closed?(t==="script"?n="text/javascript":t==="style"&&(n="text/css"),n=uF(e)||n,n.search("text/css")>-1?r="css":n.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?r="javascript":n.search(/(text|application|dojo)\/(x-)?(html)/)>-1?r="html":n.search(/test\/null/)>-1&&(r="null"),r):null};function iu(t,e){return e.indexOf(t)!==-1}function fF(t,e,n){this.parent=t||null,this.tag=e?e.tag_name:"",this.indent_level=n||0,this.parser_token=e||null}function ho(t){this._printer=t,this._current_frame=null}ho.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null};ho.prototype.record_tag=function(t){var e=new fF(this._current_frame,t,this._printer.indent_level);this._current_frame=e};ho.prototype._try_pop_frame=function(t){var e=null;return t&&(e=t.parser_token,this._printer.indent_level=t.indent_level,this._current_frame=t.parent),e};ho.prototype._get_frame=function(t,e){for(var n=this._current_frame;n&&t.indexOf(n.tag)===-1;){if(e&&e.indexOf(n.tag)!==-1){n=null;break}n=n.parent}return n};ho.prototype.try_pop=function(t,e){var n=this._get_frame([t],e);return this._try_pop_frame(n)};ho.prototype.indent_to_tag=function(t){var e=this._get_frame(t);e&&(this._printer.indent_level=e.indent_level)};function Tr(t,e,n,r){this._source_text=t||"",e=e||{},this._js_beautify=n,this._css_beautify=r,this._tag_stack=null;var i=new sF(e,"html");this._options=i,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,"force".length)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,"preserve".length)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}Tr.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;this._options.eol==="auto"&&(e=`
`,t&&TS.test(t)&&(e=t.match(TS)[0])),t=t.replace(lF,`
`);var n=t.match(/^[\t ]*/)[0],r={text:"",type:""},i=new NS,s=new br(this._options,n),o=new aF(t,this._options).tokenize();this._tag_stack=new ho(s);for(var a=null,l=o.next();l.type!==tt.EOF;)l.type===tt.TAG_OPEN||l.type===tt.COMMENT?(a=this._handle_tag_open(s,l,i,r),i=a):l.type===tt.ATTRIBUTE||l.type===tt.EQUALS||l.type===tt.VALUE||l.type===tt.TEXT&&!i.tag_complete?a=this._handle_inside_tag(s,l,i,o):l.type===tt.TAG_CLOSE?a=this._handle_tag_close(s,l,i):l.type===tt.TEXT?a=this._handle_text(s,l,i):s.add_raw_token(l),r=a,l=o.next();var u=s._output.get_code(e);return u};Tr.prototype._handle_tag_close=function(t,e,n){var r={text:e.text,type:e.type};return t.alignment_size=0,n.tag_complete=!0,t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),n.is_unformatted?t.add_raw_token(e):(n.tag_start_char==="<"&&(t.set_space_before_token(e.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&n.has_wrapped_attrs&&t.print_newline(!1)),t.print_token(e)),n.indent_content&&!(n.is_unformatted||n.is_content_unformatted)&&(t.indent(),n.indent_content=!1),!n.is_inline_element&&!(n.is_unformatted||n.is_content_unformatted)&&t.set_wrap_point(),r};Tr.prototype._handle_inside_tag=function(t,e,n,r){var i=n.has_wrapped_attrs,s={text:e.text,type:e.type};if(t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),n.is_unformatted)t.add_raw_token(e);else if(n.tag_start_char==="{"&&e.type===tt.TEXT)t.print_preserved_newlines(e)?(e.newlines=0,t.add_raw_token(e)):t.print_token(e);else{if(e.type===tt.ATTRIBUTE?(t.set_space_before_token(!0),n.attr_count+=1):(e.type===tt.EQUALS||e.type===tt.VALUE&&e.previous.type===tt.EQUALS)&&t.set_space_before_token(!1),e.type===tt.ATTRIBUTE&&n.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(t.traverse_whitespace(e),i=i||e.newlines!==0),this._is_wrap_attributes_force)){var o=n.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&n.attr_count===1){var a=!0,l=0,u;do{if(u=r.peek(l),u.type===tt.ATTRIBUTE){a=!1;break}l+=1}while(l<4&&u.type!==tt.EOF&&u.type!==tt.TAG_CLOSE);o=!a}o&&(t.print_newline(!1),i=!0)}t.print_token(e),i=i||t.previous_token_wrapped(),n.has_wrapped_attrs=i}return s};Tr.prototype._handle_text=function(t,e,n){var r={text:e.text,type:"TK_CONTENT"};return n.custom_beautifier_name?this._print_custom_beatifier_text(t,e,n):n.is_unformatted||n.is_content_unformatted?t.add_raw_token(e):(t.traverse_whitespace(e),t.print_token(e)),r};Tr.prototype._print_custom_beatifier_text=function(t,e,n){var r=this;if(e.text!==""){var i=e.text,s,o=1,a="",l="";n.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?s=this._js_beautify:n.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?s=this._css_beautify:n.custom_beautifier_name==="html"&&(s=function(p,_){var C=new Tr(p,_,r._js_beautify,r._css_beautify);return C.beautify()}),this._options.indent_scripts==="keep"?o=0:this._options.indent_scripts==="separate"&&(o=-t.indent_level);var u=t.get_full_indent(o);if(i=i.replace(/\n[ \t]*$/,""),n.custom_beautifier_name!=="html"&&i[0]==="<"&&i.match(/^(<!--|<!\[CDATA\[)/)){var c=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(i);if(!c){t.add_raw_token(e);return}a=u+c[1]+`
`,i=c[4],c[5]&&(l=u+c[5]),i=i.replace(/\n[ \t]*$/,""),(c[2]||c[3].indexOf(`
`)!==-1)&&(c=c[3].match(/[ \t]+$/),c&&(e.whitespace_before=c[0]))}if(i)if(s){var f=function(){this.eol=`
`};f.prototype=this._options.raw_options;var m=new f;i=s(u+i,m)}else{var d=e.whitespace_before;d&&(i=i.replace(new RegExp(`
(`+d+")?","g"),`
`)),i=u+i.replace(/\n/g,`
`+u)}a&&(i?i=a+i+`
`+l:i=a+l),t.print_newline(!1),i&&(e.text=i,e.whitespace_before="",e.newlines=0,t.add_raw_token(e),t.print_newline(!0))}};Tr.prototype._handle_tag_open=function(t,e,n,r){var i=this._get_tag_open_token(e);return(n.is_unformatted||n.is_content_unformatted)&&!n.is_empty_element&&e.type===tt.TAG_OPEN&&e.text.indexOf("</")===0?(t.add_raw_token(e),i.start_tag_token=this._tag_stack.try_pop(i.tag_name)):(t.traverse_whitespace(e),this._set_tag_position(t,e,i,n,r),i.is_inline_element||t.set_wrap_point(),t.print_token(e)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(i.alignment_size=e.text.length+1),!i.tag_complete&&!i.is_unformatted&&(t.alignment_size=i.alignment_size),i};var NS=function(t,e){if(this.parent=t||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!e)this.tag_complete=!0;else{var n;this.tag_start_char=e.text[0],this.text=e.text,this.tag_start_char==="<"?(n=e.text.match(/^<([^\s>]*)/),this.tag_check=n?n[1]:""):(n=e.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=n?n[1]:"",e.text==="{{#>"&&this.tag_check===">"&&e.next!==null&&(this.tag_check=e.next.text)),this.tag_check=this.tag_check.toLowerCase(),e.type===tt.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||e.closed&&e.closed.text==="/>",this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))}};Tr.prototype._get_tag_open_token=function(t){var e=new NS(this._tag_stack.get_parser_token(),t);return e.alignment_size=this._options.wrap_attributes_indent_size,e.is_end_tag=e.is_end_tag||iu(e.tag_check,this._options.void_elements),e.is_empty_element=e.tag_complete||e.is_start_tag&&e.is_end_tag,e.is_unformatted=!e.tag_complete&&iu(e.tag_check,this._options.unformatted),e.is_content_unformatted=!e.is_empty_element&&iu(e.tag_check,this._options.content_unformatted),e.is_inline_element=iu(e.tag_name,this._options.inline)||e.tag_start_char==="{",e};Tr.prototype._set_tag_position=function(t,e,n,r,i){if(n.is_empty_element||(n.is_end_tag?n.start_tag_token=this._tag_stack.try_pop(n.tag_name):(this._do_optional_end_element(n)&&(n.is_inline_element||t.print_newline(!1)),this._tag_stack.record_tag(n),(n.tag_name==="script"||n.tag_name==="style")&&!(n.is_unformatted||n.is_content_unformatted)&&(n.custom_beautifier_name=cF(n.tag_check,e)))),iu(n.tag_check,this._options.extra_liners)&&(t.print_newline(!1),t._output.just_added_blankline()||t.print_newline(!0)),n.is_empty_element){if(n.tag_start_char==="{"&&n.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),n.indent_content=!0;var s=t.current_line_has_match(/{{#if/);s||t.print_newline(!1)}n.tag_name==="!--"&&i.type===tt.TAG_CLOSE&&r.is_end_tag&&n.text.indexOf(`
`)===-1||(n.is_inline_element||n.is_unformatted||t.print_newline(!1),this._calcluate_parent_multiline(t,n))}else if(n.is_end_tag){var o=!1;o=n.start_tag_token&&n.start_tag_token.multiline_content,o=o||!n.is_inline_element&&!(r.is_inline_element||r.is_unformatted)&&!(i.type===tt.TAG_CLOSE&&n.start_tag_token===r)&&i.type!=="TK_CONTENT",(n.is_content_unformatted||n.is_unformatted)&&(o=!1),o&&t.print_newline(!1)}else n.indent_content=!n.custom_beautifier_name,n.tag_start_char==="<"&&(n.tag_name==="html"?n.indent_content=this._options.indent_inner_html:n.tag_name==="head"?n.indent_content=this._options.indent_head_inner_html:n.tag_name==="body"&&(n.indent_content=this._options.indent_body_inner_html)),!(n.is_inline_element||n.is_unformatted)&&(i.type!=="TK_CONTENT"||n.is_content_unformatted)&&t.print_newline(!1),this._calcluate_parent_multiline(t,n)};Tr.prototype._calcluate_parent_multiline=function(t,e){e.parent&&t._output.just_added_newline()&&!((e.is_inline_element||e.is_unformatted)&&e.parent.is_inline_element)&&(e.parent.multiline_content=!0)};var pF=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],dF=["a","audio","del","ins","map","noscript","video"];Tr.prototype._do_optional_end_element=function(t){var e=null;if(!(t.is_empty_element||!t.is_start_tag||!t.parent)){if(t.tag_name==="body")e=e||this._tag_stack.try_pop("head");else if(t.tag_name==="li")e=e||this._tag_stack.try_pop("li",["ol","ul"]);else if(t.tag_name==="dd"||t.tag_name==="dt")e=e||this._tag_stack.try_pop("dt",["dl"]),e=e||this._tag_stack.try_pop("dd",["dl"]);else if(t.parent.tag_name==="p"&&pF.indexOf(t.tag_name)!==-1){var n=t.parent.parent;(!n||dF.indexOf(n.tag_name)===-1)&&(e=e||this._tag_stack.try_pop("p"))}else t.tag_name==="rp"||t.tag_name==="rt"?(e=e||this._tag_stack.try_pop("rt",["ruby","rtc"]),e=e||this._tag_stack.try_pop("rp",["ruby","rtc"])):t.tag_name==="optgroup"?e=e||this._tag_stack.try_pop("optgroup",["select"]):t.tag_name==="option"?e=e||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):t.tag_name==="colgroup"?e=e||this._tag_stack.try_pop("caption",["table"]):t.tag_name==="thead"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"])):t.tag_name==="tbody"||t.tag_name==="tfoot"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("thead",["table"]),e=e||this._tag_stack.try_pop("tbody",["table"])):t.tag_name==="tr"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(t.tag_name==="th"||t.tag_name==="td")&&(e=e||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),e=e||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return t.parent=this._tag_stack.get_parser_token(),e}};vS.exports.Beautifier=Tr});var IS=K((lne,kh)=>{"use strict";var mF=PS().Beautifier,hF=wh().Options;function gF(t,e,n,r){var i=new mF(t,e,n,r);return i.beautify()}kh.exports=gF;kh.exports.defaultOptions=function(){return new hF}});var xS=K((une,Mf)=>{"use strict";var SS=oS(),CS=mS(),RS=IS();function AS(t,e,n,r){return n=n||SS,r=r||CS,RS(t,e,n,r)}AS.defaultOptions=RS.defaultOptions;Mf.exports.js=SS;Mf.exports.css=CS;Mf.exports.html=AS});var OS=K((cne,wS)=>{"use strict";function ES(t,e,n){var r=function(i,s){return t.js_beautify(i,s)};return r.js=t.js_beautify,r.css=e.css_beautify,r.html=n.html_beautify,r.js_beautify=t.js_beautify,r.css_beautify=e.css_beautify,r.html_beautify=n.html_beautify,r}typeof define=="function"&&define.amd?define(["./lib/beautify","./lib/beautify-css","./lib/beautify-html"],function(t,e,n){return ES(t,e,n)}):function(t){var e=xS();e.js_beautify=e.js,e.css_beautify=e.css,e.html_beautify=e.html,t.exports=ES(e,e,e)}(wS)});var Wh=K((Tre,mC)=>{"use strict";var jf=require("path");function TF(t){if(typeof t!="string"||t.length<=7||t.substring(0,7)!=="file://")throw new TypeError("must pass in a file:// URI to convert to a file path");let e=decodeURI(t.substring(7)),n=e.indexOf("/"),r=e.substring(0,n),i=e.substring(n+1);return r==="localhost"&&(r=""),r&&(r=jf.sep+jf.sep+r),i=i.replace(/^(.+)\|/,"$1:"),jf.sep==="\\"&&(i=i.replace(/\//g,"\\")),/^.+:/.test(i)||(i=jf.sep+i),r+i}mC.exports=TF});var WF={};BC(WF,{getAntlersSettings:()=>Ff,globalSettings:()=>qi,requestEdits:()=>Qh});var EC=Q(require("fs")),wC=Q(fg()),en=Q(ky());var ks=class{constructor(){this.currentStructure=null;this.isReloading=!1;this.isDirtyState=!0}setActiveProject(e){this.currentStructure=e}getStructure(){return this.currentStructure}hasStructure(){return this.currentStructure!=null}setDirtyState(e){this.isDirtyState=e}reloadDetails(){this.isReloading||this.isDirtyState!=!1&&this.currentStructure!=null&&(this.isReloading=!0,this.currentStructure=this.currentStructure.reloadDetails(),this.isReloading=!1,this.isDirtyState=!1)}};ks.instance=null;(typeof ks.instance=="undefined"||ks.instance==null)&&(ks.instance=new ks);var ce=ks;var si=class{static registerDetails(e,n){this.documentDetails.set(e,n)}static hasDetails(e){return this.documentDetails.has(e)}};si.documentDetails=new Map;var Y0={documentDescription:"",documentName:"",collectionInjections:[],blueprints:[],variableHelper:null,injectsParameters:[],varReferenceNames:new Map,formatterEnabled:!0},My="@name",Fy="@description",Vy="@desc",qy="@entry",By="@collection",jy="@blueprint",Uy="@var",Gy="@set",Wy="@param",Hy="@param*",K0="@front",Yy="@format";function il(t,e){if(e==null||e.isComment==!1)return Y0;let n=e.content.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`).map(p=>p.trim()),r=[],i=new Map,s="",o="",a=[],l=[],u="",c=null,f=!1,m=!0;for(let p=0;p<n.length;p++){let _=n[p];if(_.startsWith(qy))a=a.concat(_.slice(qy.length).split(",").map(C=>C.trim())),f=!1;else if(_.startsWith(By))a=a.concat(_.slice(By.length).split(",").map(C=>C.trim())),f=!1;else if(_.startsWith(jy))l=l.concat(_.slice(jy.length).split(",").map(C=>C.trim())),f=!1;else if(_.startsWith(My))s=_.slice(My.length).trim(),f=!1;else if(_.startsWith(Fy))o=_.slice(Fy.length).trim(),f=!0;else if(_.startsWith(Vy))o=_.slice(Vy.length).trim(),f=!0;else if(_.startsWith(Uy))u=_.slice(Uy.length).trim(),f=!1;else if(_.startsWith(Gy))u="@page "+_.slice(Gy.length).trim(),f=!1;else if(_.startsWith(Wy)){let C=Wy.length,h=!1;_.startsWith(Hy)&&(C=Hy.length,h=!0);let g=_.slice(C).trim().split(" ");if(g.length>0)if(g[0]==K0&&g.length>=4){g.shift();let N=g.shift(),S=g.shift(),V=g.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:V,expectsTypes:["*"],isDynamic:!0,isRequired:h,name:S}),i.set(S,N)}else{let N=g.shift(),S=g.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:S,expectsTypes:["*"],isDynamic:!0,isRequired:h,name:N})}}else _.startsWith(Yy)?_.slice(Yy.length).trim().toLowerCase()=="true"?m=!0:m=!1:f&&(o+=`
`+_.trim())}if(u.length>0){let p=u.split(" ");if(p.length==2){let _=p[0],C=p[1];if(C.includes(".")){let h=C.split(".");if(h.length==2){let b=h[0],g=h[1];c={variableName:_,collectionName:b,fieldHandle:g,setHandle:""}}else if(h.length==3){let b=h[0],g=h[1],N=h[2];c={variableName:_,collectionName:b,fieldHandle:g,setHandle:N}}}else c={variableName:_,setHandle:"",collectionName:"",fieldHandle:C}}}if(t.trim().length>0&&ce.instance!=null&&ce.instance.hasStructure()){let p=ce.instance.getStructure().findView(t);p!=null&&(p.injectsParameters=r,p.varReferenceNames=i)}let d={documentName:s,documentDescription:o,collectionInjections:a,blueprints:l,variableHelper:c,injectsParameters:r,varReferenceNames:i,formatterEnabled:m};return t.trim().length>0&&e.startPosition!=null&&(e.startPosition.line<=1||e.index<=1)&&si.registerDetails(t,d),d}var $0=["markdown","text","textarea","slug","button_group","code","color","date","form","link","structures","select","taxonomies","terms","template","time","video","users","user_groups","user_roles"],z0=["array","assets","bard","blueprints","collections","entries","list","grid","replicator","structures_multiple","sites","select_multiple","form_multiple","table","tags","terms_multiple","taxonomies_multiple","users_multiple","checkboxes","select_multiple","yaml","user_groups_multiple","user_roles_multiple"],X0=["integer","range"],Q0=["toggle"];function Fu(t){return $0.includes(t)?"string":z0.includes(t)?"array":X0.includes(t)?"number":Q0.includes(t)?"boolean":t}var Ms=class{constructor(){this.partialReferences=new Map;this.cacheReferences=new Map;this.removesPageScope=new Map}clearAllReferences(e){this.clearPartialReferences(e),this.clearCacheReferences(e)}registerPartialReferences(e,n){this.partialReferences.has(e)==!1&&this.partialReferences.set(e,[]),this.partialReferences.set(e,n)}registerCacheReferences(e,n){this.cacheReferences.has(e)==!1&&this.cacheReferences.set(e,[]),this.cacheReferences.set(e,n)}clearPartialReferences(e){this.partialReferences.has(e)&&this.partialReferences.set(e,[])}clearRemovesPageScope(e){this.removesPageScope.has(e)&&this.removesPageScope.delete(e)}pageScopeDisabled(e){return this.removesPageScope.has(e)}clearCacheReferences(e){this.cacheReferences.has(e)&&this.cacheReferences.set(e,[])}setRemovesPageScope(e,n){this.removesPageScope.set(e,n)}getPartialReferences(e){return this.partialReferences.has(e)==!1?[]:this.partialReferences.get(e)}getCacheReferencnes(e){return this.cacheReferences.has(e)==!1?[]:this.cacheReferences.get(e)}hasPartialReferences(e){return this.partialReferences.has(e)}hasCacheReferences(e){return this.cacheReferences.has(e)}};Ms.instance=null;(typeof Ms.instance=="undefined"||Ms.instance==null)&&(Ms.instance=new Ms);var xr=Ms;var qt=class{constructor(){this.index=-1;this.offset=0;this.line=0;this.char=0}shiftRight(e){let n=new qt;return n.offset=this.offset+e,n.index=this.index+e,n.line=this.line,n.char=this.char+e,n}isBefore(e){return e==null?!1:e.line>this.line||e.line==this.line&&this.offset<e.offset}isWithin(e,n,r=0){return e==null||n==null?!1:this.index>=e.index&&this.index<=n.index+r}isWithinRange(e){return e==null?!1:e.start!=null&&e.end!=null?this.isWithin(e.start,e.end):!1}};var $p=class{constructor(){this.start=null;this.end=null}},sl=$p;sl.Empty=new $p;function Ky(t,e){let n=e.copy(),r=e.copy();return r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"group",introducedBy:t}),r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"key",introducedBy:t}),r.addScopeList("items",n),e.addScopeList("groups",r),e}function $y(t,e){let n=e.copy();return e.addScopeList("items",n),e}var zy=[{name:"as",acceptsType:["array"],returnsType:["array"],description:"Alias the array variable with a key.",docLink:"https://statamic.dev/modifiers/as",parameters:[{name:"alias",description:"The alias name."}],canBeParameter:!0},{name:"ampersand_list",acceptsType:["array"],returnsType:["string"],description:"Converts the array into a comma delimited string, with an ampersand before the last item.",docLink:"https://statamic.dev/modifiers/ampersand_list",parameters:[],canBeParameter:!1},{name:"collapse",acceptsType:["array"],returnsType:["array"],description:"Collapses an array of arrays into a single, flat, array.",docLink:"https://statamic.dev/modifiers/collapse",parameters:[],canBeParameter:!1},{name:"contains",acceptsType:["array","string"],returnsType:["boolean"],description:"Tests if the value contains another value.",docLink:"https://statamic.dev/modifiers/contains",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1},{name:"count",acceptsType:["array"],returnsType:["number"],description:"Returns the number of items in the array.",docLink:"https://statamic.dev/modifiers/count",parameters:[],canBeParameter:!1},{name:"dl",acceptsType:["array"],returnsType:["string"],description:"Turns an associative array into an HTML definition list.",docLink:"https://statamic.dev/modifiers/dl",parameters:[],canBeParameter:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],description:"Breaks a string into an array on a given delimiter.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The delimiter to break the string apart on."}],canBeParameter:!0},{name:"flatten",acceptsType:["array"],returnsType:["array"],description:"Flattens a multi-dimensional array.",docLink:"https://statamic.dev/modifiers/flatten",parameters:[],canBeParameter:!1},{name:"flip",acceptsType:["array"],returnsType:["array"],description:"Swaps the array keys with their values.",docLink:"https://statamic.dev/modifiers/flip",parameters:[],canBeParameter:!1},{name:"group_by",acceptsType:["array"],returnsType:["array"],description:"Groups the array items by the given key.",docLink:"https://statamic.dev/modifiers/group_by",parameters:[{name:"key",description:"The key to group by."}],canBeParameter:!0,augmentScope:Ky},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1},{name:"is_empty",acceptsType:["array"],returnsType:["boolean"],description:"Tests if the array is empty.",docLink:"https://statamic.dev/modifiers/is_empty",parameters:[],canBeParameter:!1},{name:"join",acceptsType:["array"],returnsType:["string"],description:"Turn an array into a string by gluing together all the data.",docLink:"https://statamic.dev/modifiers/join",parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0},{name:"joinplode",acceptsType:["array"],returnsType:["string"],description:"Turn an array into a string by gluing together all the data.",docLink:null,parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0},{name:"limit",acceptsType:["array"],returnsType:["array"],description:"Limits the number of items returned in the array",docLink:"https://statamic.dev/modifiers/limit",parameters:[{name:"count",description:"The maximum number of items to return."}],canBeParameter:!0},{name:"list",acceptsType:["array"],returnsType:["string"],description:"Converts the array into a comma-separated string.",docLink:"https://statamic.dev/modifiers/list",parameters:[],canBeParameter:!1},{name:"offset",acceptsType:["array"],returnsType:["array"],description:"Offsets the items returned in the array.",docLink:"https://statamic.dev/modifiers/offset",parameters:[{name:"offset",description:"The one-based index to start retrieving items."}],canBeParameter:!0},{name:"ol",acceptsType:["array"],returnsType:["string"],description:"Turns the array into an HTML ordered list.",docLink:"https://statamic.dev/modifiers/ol",parameters:[],canBeParameter:!1},{name:"option_list",acceptsType:["array"],returnsType:["string"],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/option_list",parameters:[],canBeParameter:!1},{name:"pluck",acceptsType:["array"],returnsType:["array"],description:"Plucks a value from a collection of items.",parameters:[{name:"value",description:"The value to pluck from the array or collection."}],canBeParameter:!0,docLink:null},{name:"pad",acceptsType:["array"],returnsType:["array"],description:"Pads the array to a specified length with the given value.",docLink:"https://statamic.dev/modifiers/pad",parameters:[{name:"length",description:"The desired length of the array."},{name:"value",description:"The value to pad the array with."}],canBeParameter:!0},{name:"piped",acceptsType:["array"],returnsType:["string"],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/piped",parameters:[],canBeParameter:!1},{name:"sentence_list",acceptsType:["array"],returnsType:["string"],description:'Turns the array into a comma-delimited list, with the word "and" before the last item.',docLink:"https://statamic.dev/modifiers/sentence_list",parameters:[],canBeParameter:!1},{name:"shuffle",acceptsType:["array"],returnsType:["array"],description:"Randomizes the order of array elements.",docLink:"https://statamic.dev/modifiers/shuffle",parameters:[],canBeParameter:!1},{name:"sort",acceptsType:["array"],returnsType:["array"],description:"Sorts the array by a key in ascending or descending order.",docLink:"https://statamic.dev/modifiers/sort",parameters:[{name:"key",description:"The key to sort by."},{name:"order",description:"The sort direction. `asc` or `desc`."}],canBeParameter:!0},{name:"sum",acceptsType:["array"],returnsType:["number"],description:"Returns the sum of all items in the array.",docLink:"https://statamic.dev/modifiers/sum",parameters:[{name:"key",description:"The value to sum."}],canBeParameter:!1},{name:"ul",acceptsType:["array"],returnsType:["string"],description:"Turns the array into an HTML unordered list.",docLink:"https://statamic.dev/modifiers/ul",parameters:[],canBeParameter:!1},{name:"unique",acceptsType:["array"],returnsType:["array"],description:"Returns all unique items in the array.",docLink:"https://statamic.dev/modifiers/unique",parameters:[],canBeParameter:!1},{name:"where",acceptsType:["array"],returnsType:["array"],description:"Filters the array by a given key and value.",docLink:"https://statamic.dev/modifiers/where",parameters:[{name:"key",description:"The property to filter by."},{name:"value",description:"The value to compare to."}],canBeParameter:!0},{name:"split",acceptsType:["array"],returnsType:["array"],description:"Splits an array into smaller arrays with the provided size.",canBeParameter:!0,docLink:"",parameters:[{name:"size",description:"The size of each new array"}],augmentScope:$y},{name:"compact",acceptsType:["string"],returnsType:["array"],description:"Accepts a comma-delimited list of variable names and return an array with their values.",canBeParameter:!0,docLink:"",parameters:[{name:"variables",description:"A comma-delimited list of variable names."}]}];var Xy=[{name:"background_position",acceptsType:["string"],returnsType:["string"],description:"Converts an asset focal point into a background-position CSS property.",docLink:"https://statamic.dev/modifiers/background_position",parameters:[],canBeParameter:!1},{name:"image",acceptsType:["string"],returnsType:["string"],description:"Generates an HTML image element with the variable's value as the src.",docLink:"https://statamic.dev/modifiers/image",parameters:[],canBeParameter:!1},{name:"output",acceptsType:["string"],returnsType:["string"],description:"Returns the string output of an Asset file's contents.",docLink:"https://statamic.dev/modifiers/output",parameters:[],canBeParameter:!1}];var Qy=[{name:"contains_all",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_all",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1},{name:"contains_any",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_any",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1},{name:"ends_with",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string ends with another string.",docLink:"https://statamic.dev/modifiers/ends_with",parameters:[{name:"value",description:"The value to check against."}],canBeParameter:!1},{name:"has_lower_case",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains any lowercase characters.",docLink:"https://statamic.dev/modifiers/has_lower_case",parameters:[],canBeParameter:!1},{name:"has_upper_case",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains any uppercase characters.",docLink:"https://statamic.dev/modifiers/has_upper_case",parameters:[],canBeParameter:!1},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value(s) to search for."}],canBeParameter:!1},{name:"is_after",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the string contains only alphanumeric characters.",docLink:"https://statamic.dev/modifiers/is_after",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1},{name:"is_alphanumeric",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only alphanumeric characters.",docLink:"https://statamic.dev/modifiers/is_alphanumeric",parameters:[],canBeParameter:!1},{name:"is_before",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if a date is before another date.",docLink:"https://statamic.dev/modifiers/is_before",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1},{name:"is_between",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if a date is between two other dates.",docLink:"https://statamic.dev/modifiers/is_between",parameters:[{name:"start_date",description:"The start date to compare."},{name:"end_date",description:"The end date to compare."}],canBeParameter:!1},{name:"is_blank",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only whitespace characters.",docLink:"https://statamic.dev/modifiers/is_blank",parameters:[],canBeParameter:!1},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1},{name:"is_future",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is in the future.",docLink:"https://statamic.dev/modifiers/is_future",parameters:[],canBeParameter:!1},{name:"is_json",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is valid JSON.",docLink:"https://statamic.dev/modifiers/is_json",parameters:[],canBeParameter:!1},{name:"is_leap_year",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a leap year.",docLink:"https://statamic.dev/modifiers/is_leap_year",parameters:[],canBeParameter:!1},{name:"is_numeric",acceptsType:["string","number"],returnsType:["boolean"],description:"Tests if the value is a number or numeric string.",docLink:"https://statamic.dev/modifiers/is_numeric",parameters:[],canBeParameter:!1},{name:"is_past",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is in the past.",docLink:"https://statamic.dev/modifiers/is_past",parameters:[],canBeParameter:!1},{name:"is_today",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is today.",docLink:"https://statamic.dev/modifiers/is_today",parameters:[],canBeParameter:!1},{name:"is_uppercase",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only uppercase characters.",docLink:"https://statamic.dev/modifiers/is_uppercase",parameters:[],canBeParameter:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1},{name:"is_weekday",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a week day.",docLink:"https://statamic.dev/modifiers/is_weekday",parameters:[],canBeParameter:!1},{name:"is_weekend",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a weekend day.",docLink:"https://statamic.dev/modifiers/is_weekend",parameters:[],canBeParameter:!1},{name:"is_yesterday",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is yesterday.",docLink:"https://statamic.dev/modifiers/is_yesterday",parameters:[],canBeParameter:!1},{name:"is_tomorrow",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is tomorrow.",docLink:null,parameters:[],canBeParameter:!1},{name:"starts_with",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a value starts with the provided value.",docLink:"https://statamic.dev/modifiers/starts_with",parameters:[{name:"value",description:"The value to test for."}],canBeParameter:!1}];var Jy=[{name:"days_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of days since a given date.",docLink:"https://statamic.dev/modifiers/days_ago",parameters:[],canBeParameter:!1},{name:"format_translated",acceptsType:["string","date"],returnsType:["string","date"],description:"Returns a formatted Carbon datetime/string.",docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0},{name:"format",acceptsType:["string","date"],returnsType:["string","date"],description:"Formats the date using the provided format using PHP's [date variables](https://www.php.net/date).",docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0},{name:"format_localized",acceptsType:["string","date"],returnsType:["string","date"],description:"Forms the date using server's locale, using PHP's [strftime format variables](https://www.php.net/strftime).",docLink:"https://statamic.dev/modifiers/format_localized",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0},{name:"hours_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of hours since the date.",docLink:"https://statamic.dev/modifiers/hours_ago",parameters:[],canBeParameter:!1},{name:"iso_format",acceptsType:["string","date"],returnsType:["string","date"],description:"Formats the date using an ISO format.",docLink:"https://statamic.dev/modifiers/iso_format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!1},{name:"minutes_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of minutes since the date.",docLink:"https://statamic.dev/modifiers/minutes_ago",parameters:[],canBeParameter:!1},{name:"modify_date",acceptsType:["string","date"],returnsType:["string","date"],description:"Alters the date by incrementing or decrementing it in a format accepted by PHP's [strtotime](https://www.php.net/strtotime) function.",docLink:"https://statamic.dev/modifiers/modify_date",parameters:[],canBeParameter:!0},{name:"months_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of months since the date.",docLink:"https://statamic.dev/modifiers/months_ago",parameters:[],canBeParameter:!1},{name:"relative",acceptsType:["string","date"],returnsType:["string"],description:"Returns a human readable date difference.",docLink:"https://statamic.dev/modifiers/relative",parameters:[{name:"add_ago",description:"Whether to add the relative suffix words at the end of the string."}],canBeParameter:!1},{name:"seconds_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of seconds since the date.",docLink:"https://statamic.dev/modifiers/seconds_ago",parameters:[],canBeParameter:!1},{name:"timezone",acceptsType:["string","date"],returnsType:["string","date"],description:"Applies a timezone to the date.",docLink:"https://statamic.dev/modifiers/timezone",parameters:[{name:"timezone",description:"The timezone to apply."}],canBeParameter:!1},{name:"weeks_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of weeks since the date.",docLink:"https://statamic.dev/modifiers/weeks_ago",parameters:[],canBeParameter:!1},{name:"years_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of years since the date.",docLink:"https://statamic.dev/modifiers/years_ago",parameters:[],canBeParameter:!1}];var Zy=[{name:"chunk",acceptsType:["array"],returnsType:["array"],description:"Breaks the array or collection into smaller arrays of a given size.",docLink:"https://statamic.dev/modifiers/chunk",parameters:[{name:"chunk_size",description:"The maximum length of each new chunk."}],canBeParameter:!0},{name:"favicon",acceptsType:["string"],returnsType:["string"],description:"Generates a favicon HTML meta tag for the given value.",docLink:"https://statamic.dev/modifiers/favicon",parameters:[],canBeParameter:!1},{name:"first",acceptsType:["string","array"],returnsType:["*"],description:"Returns the specified number of characters from the beginning of the string.",docLink:"https://statamic.dev/modifiers/first",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0},{name:"last",acceptsType:["string","array"],returnsType:["*"],description:"Returns the specified number of characters from the end of the string.",docLink:"https://statamic.dev/modifiers/last",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0},{name:"link",acceptsType:["string"],returnsType:["string"],description:"Generates an HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/link",parameters:[],canBeParameter:!1},{name:"mailto",acceptsType:["string"],returnsType:["string"],description:"Generates a mailto HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/mailto",parameters:[],canBeParameter:!1},{name:"markdown",acceptsType:["string"],returnsType:["string"],description:"Parses the value as Markdown and returns the HTML.",docLink:"https://statamic.dev/modifiers/markdown",parameters:[],canBeParameter:!1},{name:"nl2br",acceptsType:["string"],returnsType:["string"],description:"Replaces line breaks with HTML `<br>` tags.",docLink:"https://statamic.dev/modifiers/nl2br",parameters:[],canBeParameter:!1},{name:"obfuscate",acceptsType:["string"],returnsType:["string"],description:"Modifies the input string by replacing it with special characters, making it harder for bots but remains readable to site visitors.",docLink:"https://statamic.dev/modifiers/obfuscate",parameters:[],canBeParameter:!1},{name:"obfuscate_email",acceptsType:["string"],returnsType:["string"],description:"Obfuscates an email address with special HTML characters.",docLink:"https://statamic.dev/modifiers/obfuscate_email",parameters:[],canBeParameter:!1},{name:"strip_tags",acceptsType:["string"],returnsType:["string"],description:"Removes HTML tags from the string.",docLink:"https://statamic.dev/modifiers/strip_tags",parameters:[{name:"tags",description:"The HTML tag(s) to remove from the string."}],canBeParameter:!1},{name:"table",acceptsType:["array"],returnsType:["string"],description:"Turns a [Table FieldType](https://statamic.dev/fieldtypes/table) array into an HTML table.",docLink:"https://statamic.dev/modifiers/table",parameters:[{name:"content_markdown",description:"Whether to parse cell contents as Markdown."}],canBeParameter:!1},{name:"textile",acceptsType:["string"],returnsType:["string"],description:"Parses a string with [Textile](http://demo.textilewiki.com/theme-default/) and returns the HTML.",docLink:"https://statamic.dev/modifiers/textile",parameters:[],canBeParameter:!1},{name:"wrap",acceptsType:["string"],returnsType:["string"],description:"Wraps a string with a given HTML tag.",docLink:"https://statamic.dev/modifiers/wrap",parameters:[{name:"expression",description:"The HTML tag or Emmet-style expression to wrap the value in."}],canBeParameter:!1}];var eb=[{name:"add",acceptsType:["number"],returnsType:["number"],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!0},{name:"+",acceptsType:["number"],returnsType:["number"],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!1},{name:"ceil",acceptsType:["number"],returnsType:["number"],description:"Rounds the value to the next whole number.",docLink:"https://statamic.dev/modifiers/ceil",parameters:[],canBeParameter:!1},{name:"divide",acceptsType:["number"],returnsType:["number"],description:"Divides two values.",docLink:"https://statamic.dev/modifiers/divide",parameters:[{name:"value",description:"The value to divide."}],canBeParameter:!0},{name:"floor",acceptsType:["number"],returnsType:["number"],description:"Rounds a number down to the next whole number.",docLink:"https://statamic.dev/modifiers/floor",parameters:[],canBeParameter:!0},{name:"format_number",acceptsType:["number"],returnsType:["string"],description:"Formats a number.",docLink:"https://statamic.dev/modifiers/format_number",parameters:[{name:"precision",description:"Number of decimal places before rounding."},{name:"decimal_separator",description:"The decimal separator (defaults to `.`)."},{name:"thousands_separator",description:"The thousands separator (default `,`)."}],canBeParameter:!0},{name:"mode",acceptsType:["number"],returnsType:["number"],description:"",docLink:"",parameters:[],canBeParameter:!0},{name:"multiply",acceptsType:["number"],returnsType:["number"],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!0},{name:"*",acceptsType:["number"],returnsType:["number"],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!1},{name:"round",acceptsType:["number"],returnsType:["number"],description:"Rounds a number to a specified precision.",docLink:"https://statamic.dev/modifiers/round",parameters:[{name:"precision",description:"The number of digits after the decimal point."}],canBeParameter:!0},{name:"subtract",acceptsType:["number"],returnsType:["number"],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!0},{name:"-",acceptsType:["number"],returnsType:["number"],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!1}];var tb=[{name:"partial",acceptsType:["*"],returnsType:["*view*"],description:"Injects data into a partial and renders it.",docLink:"https://statamic.dev/modifiers/partial",parameters:[{name:"partial",description:"The name of the partial."}],canBeParameter:!1},{name:"macro",acceptsType:["*"],returnsType:["*"],description:"Runs a pre-configured macro on the data.",docLink:"https://statamic.dev/modifiers/macro",parameters:[{name:"macro",description:"The macro name."}],canBeParameter:!1},{name:"url",acceptsType:["string","*"],returnsType:["string"],description:"Locates the URL of an asset, page, entry, or taxonomy term based on the variable contents.",docLink:"https://statamic.dev/modifiers/url",parameters:[],canBeParameter:!1}];var nb=[{name:"ascii",acceptsType:["string"],returnsType:["string"],description:"Replaces all non-ASCII characters with their closest ASCII counterparts.",docLink:"https://statamic.dev/modifiers/ascii",parameters:[],canBeParameter:!1},{name:"at",acceptsType:["string"],returnsType:["string"],description:"Returns the character at a given zero-based position.",docLink:"https://statamic.dev/modifiers/at",parameters:[{name:"position",description:"The zero-based position to retrieve a character from."}],canBeParameter:!0},{name:"backspace",acceptsType:["string"],returnsType:["string"],description:"Removes a specified number of characters from the end of a string.",docLink:"https://statamic.dev/modifiers/backspace",parameters:[{name:"character_count",description:"The number of characters to remove from the end of the string."}],canBeParameter:!0},{name:"camelize",acceptsType:["string"],returnsType:["string"],description:"Converts the string into camelCase.",docLink:"https://statamic.dev/modifiers/camelize",parameters:[],canBeParameter:!1},{name:"cdata",acceptsType:["string"],returnsType:["string"],description:"Wraps the string in CDATA XML tags.",docLink:"https://statamic.dev/modifiers/cdata",parameters:[],canBeParameter:!1},{name:"collapse_whitespace",acceptsType:["string"],returnsType:["string"],description:"Trims a string and replaces consecutive whitespace characters with a single space.",docLink:"https://statamic.dev/modifiers/collapse_whitespace",parameters:[],canBeParameter:!1},{name:"count_substring",acceptsType:["string"],returnsType:["number"],description:"Counts the number of occurrences of a term within the string.",docLink:"https://statamic.dev/modifiers/count_substring",parameters:[{name:"term",description:"The sub-string to search for"}],canBeParameter:!0},{name:"dashify",acceptsType:["string"],returnsType:["string"],description:"Returns a lower-cased and trimmed string, separated by dashes.",docLink:"https://statamic.dev/modifiers/dashify",parameters:[],canBeParameter:!1},{name:"deslugify",acceptsType:["string"],returnsType:["string"],description:"Replaces all hyphens and underscores with spaces.",docLink:"https://statamic.dev/modifiers/deslugify",parameters:[],canBeParameter:!1},{name:"embed_url",acceptsType:["string"],returnsType:["string"],description:"Converts a YouTube or Viemo link into their embed URLs.",docLink:"https://statamic.dev/modifiers/embed_url",parameters:[],canBeParameter:!1},{name:"trackable_embed_url",acceptsType:["string"],returnsType:["string"],description:"Get the embed URL when given a youtube or vimeo link that's direct to the page.",docLink:null,parameters:[],canBeParameter:!1},{name:"ensure_left",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string begins with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_left",parameters:[{name:"start_string",description:"The value that should be at the start of the string."}],canBeParameter:!0},{name:"ensure_right",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string ends with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_right",parameters:[{name:"end_string",description:"The value that should be at the end of the string."}],canBeParameter:!0},{name:"entities",acceptsType:["string"],returnsType:["string"],description:"Encode a string with HTML entities.",docLink:"https://statamic.dev/modifiers/entities",parameters:[],canBeParameter:!1},{name:"excerpt",acceptsType:["string"],returnsType:["string"],description:"Breaks a string at a given marker.",docLink:"https://statamic.dev/modifiers/excerpt",parameters:[{name:"marker",description:"The string to break by."}],canBeParameter:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],description:"Breaks a string into an array of strings.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The string to split the larger string by."}],canBeParameter:!0},{name:"gravatar",acceptsType:["string"],returnsType:["string"],description:"Converts an email string to a Gravatar image URL.",docLink:"https://statamic.dev/modifiers/gravatar",parameters:[{name:"image size",description:"The desired image size."}],canBeParameter:!0},{name:"insert",acceptsType:["string"],returnsType:["string"],description:"Inserts a string at the position provided.",docLink:"https://statamic.dev/modifiers/insert",parameters:[{name:"value",description:"The value to insert."},{name:"position",description:"The zero based position to insert the text at."}],canBeParameter:!0},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1},{name:"is_embeddable",acceptsType:["string"],returnsType:["boolean"],description:"Checks to see if a video URL is embeddable.",docLink:"https://statamic.dev/modifiers/is_embeddable",parameters:[],canBeParameter:!1},{name:"is_lowercase",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if the string contains only lowercase characters.",docLink:"https://statamic.dev/modifiers/is_lowercase",parameters:[],canBeParameter:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if a string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1},{name:"lcfirst",acceptsType:["string"],returnsType:["string"],description:"Converts the first character of the value to lower case.",docLink:"https://statamic.dev/modifiers/lcfirst",parameters:[],canBeParameter:!1},{name:"length",acceptsType:["string"],returnsType:["number"],description:"Returns the number of items in an array or number of characters in a string.",docLink:"https://statamic.dev/modifiers/length",parameters:[],canBeParameter:!1},{name:"lower",acceptsType:["string"],returnsType:["string"],description:"Converts all characters to lowercase.",docLink:"https://statamic.dev/modifiers/lower",parameters:[],canBeParameter:!1},{name:"md5",acceptsType:["string"],returnsType:["string"],description:"Creates an MD5 hash of the variable.",docLink:"https://statamic.dev/modifiers/md5",parameters:[],canBeParameter:!1},{name:"rawurlencode",acceptsType:["string"],returnsType:["string"],description:"URL-encode a variable according to RFC-3986.",docLink:"https://statamic.dev/modifiers/rawurlencode",parameters:[],canBeParameter:!1},{name:"read_time",acceptsType:["string"],returnsType:["string"],description:"Returns an estimated read time, in minutes.",docLink:"https://statamic.dev/modifiers/read_time",parameters:[{name:"words per minute",description:"The words per minute to use as an estimate."}],canBeParameter:!0},{name:"regex_replace",acceptsType:["string"],returnsType:["string"],description:"Replaces all regex matches with a string.",docLink:"https://statamic.dev/modifiers/regex_replace",parameters:[{name:"pattern",description:"The regex pattern."},{name:"replace",description:"The replacement value."}],canBeParameter:!0},{name:"remove_left",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string never begins with a specified string.",docLink:"https://statamic.dev/modifiers/remove_left/",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0},{name:"remove_right",acceptsType:["string"],returnsType:["string"],description:"Ensures that a string never ends with a specified string.",docLink:"https://statamic.dev/modifiers/remove_right",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0},{name:"replace",acceptsType:["string"],returnsType:["string"],description:"Replaces all occurrences of a string with a different value.",docLink:"https://statamic.dev/modifiers/replace",parameters:[{name:"needle",description:"The string to search for."},{name:"value",description:"The value to replace all occurrences with."}],canBeParameter:!0},{name:"reverse",acceptsType:["string","array"],returnsType:["string","array"],description:"Reverses all characters in a string, or all items in an array.",docLink:"https://statamic.dev/modifiers/reverse",parameters:[],canBeParameter:!1},{name:"safe_truncate",acceptsType:["string"],returnsType:["string"],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/safe_truncate",parameters:[{name:"length",description:"The desired string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1},{name:"sanitize",acceptsType:["string"],returnsType:["string"],description:"Converts special characters to HTML entities.",docLink:"https://statamic.dev/modifiers/sanitize",parameters:[],canBeParameter:!1},{name:"segment",acceptsType:["string"],returnsType:["string"],description:"Returns a segment by number from any valid URL or URI.",docLink:"https://statamic.dev/modifiers/segment",parameters:[{name:"segment",description:"The one-based segment to return."}],canBeParameter:!0},{name:"singular",acceptsType:["string"],returnsType:["string"],description:"Returns the singular form of an English word.",docLink:"https://statamic.dev/modifiers/singular",parameters:[],canBeParameter:!1},{name:"slugify",acceptsType:["string"],returnsType:["string"],description:"Converts the string into an URL slug.",docLink:"https://statamic.dev/modifiers/slugify",parameters:[],canBeParameter:!1},{name:"smartypants",acceptsType:["string"],returnsType:["string"],description:"Translates plain ASCII punctuation characters into typographic punctuation HTML entities.",docLink:"https://statamic.dev/modifiers/smartypants",parameters:[],canBeParameter:!1},{name:"spaceless",acceptsType:["string"],returnsType:["string"],description:"Removes excess whitespace and line breaks from a string.",docLink:"https://statamic.dev/modifiers/spaceless",parameters:[],canBeParameter:!1},{name:"substr",acceptsType:["string"],returnsType:["string"],description:"Returns a portion of a string based on provided a start index, and optional length.",docLink:"https://statamic.dev/modifiers/substr",parameters:[{name:"start",description:"The 0-based index to start searching."},{name:"length",description:"An optional length for the string to find."}],canBeParameter:!1},{name:"surround",acceptsType:["string"],returnsType:["string"],description:"Surrounds a string with another string.",docLink:"https://statamic.dev/modifiers/surround",parameters:[{name:"value",description:"The value to surround the string with."}],canBeParameter:!1},{name:"swap_case",acceptsType:["string"],returnsType:["string"],description:"Returns a case swapped version of the string.",docLink:"https://statamic.dev/modifiers/swap_case",parameters:[],canBeParameter:!1},{name:"tidy",acceptsType:["string"],returnsType:["string"],description:"Returns a string with smart quotes, ellipsis characters, and dashes from Windows-1252 replaced by ASCII equivalents.",docLink:"https://statamic.dev/modifiers/tidy",parameters:[],canBeParameter:!1},{name:"title",acceptsType:["string"],returnsType:["string"],description:"Returns a Title Cased version of the string.",docLink:"https://statamic.dev/modifiers/title",parameters:[],canBeParameter:!1},{name:"trim",acceptsType:["string"],returnsType:["string"],description:"Removes whitespace from the start and end of the string.",docLink:"https://statamic.dev/modifiers/trim",parameters:[],canBeParameter:!1},{name:"truncate",acceptsType:["string"],returnsType:["string"],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/truncate",parameters:[{name:"length",description:"The maximum string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1},{name:"ucfirst",acceptsType:["string"],returnsType:["string"],description:"Upper cases the first character in the string.",docLink:"https://statamic.dev/modifiers/ucfirst",parameters:[],canBeParameter:!1},{name:"underscored",acceptsType:["string"],returnsType:["string"],description:"Returns a lower-cased and trimmed version of the string, separated by underscores.",docLink:"https://statamic.dev/modifiers/underscored",parameters:[],canBeParameter:!1},{name:"upper",acceptsType:["string"],returnsType:["string"],description:"Transforms the string to uppercase.",docLink:"https://statamic.dev/modifiers/upper",parameters:[],canBeParameter:!1},{name:"urldecode",acceptsType:["string"],returnsType:["string"],description:"URL-decodes the string.",docLink:"https://statamic.dev/modifiers/urldecode",parameters:[],canBeParameter:!1},{name:"urlencode",acceptsType:["string"],returnsType:["string"],description:"URL-encodes the string.",docLink:"https://statamic.dev/modifiers/urlencode",parameters:[],canBeParameter:!1},{name:"widont",acceptsType:["string"],returnsType:["string"],description:"Attempts to prevent lines with single words.",docLink:"https://statamic.dev/modifiers/widont",parameters:[],canBeParameter:!1},{name:"word_count",acceptsType:["string"],returnsType:["number"],description:"Returns the number of words in the string.",docLink:"https://statamic.dev/modifiers/word_count",parameters:[],canBeParameter:!1},{name:"add_slashes",acceptsType:["string"],returnsType:["string"],description:"Adds slashes before characters that need to be escaped.",docLink:"https://statamic.dev/modifiers/add_slashes",canBeParameter:!1,parameters:[]}];var rb=[{name:"console_log",acceptsType:["*"],returnsType:["null"],description:"Displays variable data in the browser's JavaScript console.",docLink:"https://statamic.dev/modifiers/console_log",parameters:[],canBeParameter:!1},{name:"decode",acceptsType:["string"],returnsType:["string"],description:"Converts all HTML entities to their applicable character codes.",docLink:"https://statamic.dev/modifiers/decode",parameters:[],canBeParameter:!1},{name:"dump",acceptsType:["*"],returnsType:["null"],description:"Displays variable data in the browser.",docLink:"https://statamic.dev/modifiers/dump",parameters:[],canBeParameter:!1},{name:"full_urls",acceptsType:["string"],returnsType:["string"],description:"Replaces root-relative URLs with absolute URLs.",docLink:"https://statamic.dev/modifiers/full_urls",parameters:[],canBeParameter:!1},{name:"repeat",acceptsType:["string"],returnsType:["string"],description:"Repeats a value a given number of times.",docLink:"https://statamic.dev/modifiers/repeat",parameters:[{name:"repeat_count",description:"The number of times to repeat the value."}],canBeParameter:!0},{name:"to_spaces",acceptsType:["string"],returnsType:["string"],description:"Converts all tabs to spaces.",docLink:"https://statamic.dev/modifiers/to_spaces",parameters:[{name:"space_count",description:"The number of spaces to replace tabs with."}],canBeParameter:!1},{name:"to_tabs",acceptsType:["string"],returnsType:["string"],description:"Converts spaces to tabs.",docLink:"https://statamic.dev/modifiers/to_tabs",parameters:[{name:"space_count",description:"The number of spaces to convert to tabs."}],canBeParameter:!1},{name:"to_json",acceptsType:["*"],returnsType:["string"],description:"Converts the data to JSON.",docLink:"https://statamic.dev/modifiers/to_json",parameters:[],canBeParameter:!1},{name:"to_bool",acceptsType:["*"],returnsType:["boolean"],description:"Converst the data to a boolean",parameters:[],canBeParameter:!1,docLink:null}];var es=class{constructor(){this.registeredModifiers=new Map;this.acceptTypedModifierReference=new Map;this.returnTypeModifierReference=new Map;this.macros=new Map;this.modifierNameCache=[]}reset(){this.modifierNameCache=[],this.registeredModifiers.clear(),this.acceptTypedModifierReference.clear(),this.returnTypeModifierReference.clear()}getRegisteredModifiers(){return this.registeredModifiers}resetMacros(){this.macros.clear()}loadCoreModifiers(){this.registerModifiers(zy),this.registerModifiers(Xy),this.registerModifiers(Qy),this.registerModifiers(Jy),this.registerModifiers(Zy),this.registerModifiers(eb),this.registerModifiers(rb),this.registerModifiers(nb),this.registerModifiers(tb)}getModifierNames(){return this.modifierNameCache}registerMacro(e){this.macros.set(e.name,e)}registerMacros(e){for(let n=0;n<e.length;n++)this.registerMacro(e[n])}hasMacro(e){if(this.macros.has(e)){let n=this.macros.get(e);return!(typeof n=="undefined"||n===null)}return!1}getMacro(e){if(this.macros.has(e)){let n=this.macros.get(e);return typeof n=="undefined"||n===null?null:n}return null}getMacroManifestingType(e){let n=this.getMacro(e);return n==null?"":n.manifestsType}getRegisteredModifier(e){return this.registeredModifiers.has(e)?this.registeredModifiers.get(e):null}getModifiersForType(e){let n=Fu(e);return this.acceptTypedModifierReference.has(n)?this.acceptTypedModifierReference.get(n):[]}getProbableReturnType(e,n){return e==null||e.returnsType.length==0?"":n&&e.returnsType.includes("array")?"array":e.returnsType[0]}registerModifiers(e){var n,r;for(let i=0;i<e.length;i++){let s=e[i];this.modifierNameCache.push(s.name);for(let o=0;o<s.acceptsType.length;o++){let a=s.acceptsType[o];this.acceptTypedModifierReference.has(a)==!1&&this.acceptTypedModifierReference.set(a,[]),(n=this.acceptTypedModifierReference.get(a))==null||n.push(s)}for(let o=0;o<s.returnsType.length;o++){let a=s.returnsType[o];this.returnTypeModifierReference.has(a)==!1&&this.returnTypeModifierReference.set(a,[]),(r=this.returnTypeModifierReference.get(a))==null||r.push(s)}this.registeredModifiers.set(e[i].name,e[i])}}registerModifier(e){let n=[];n.push(e),this.registerModifiers(n)}getModifier(e){if(this.registeredModifiers.has(e)==!1)return null;let n=this.registeredModifiers.get(e);return typeof n=="undefined"||n==null?null:n}hasModifier(e){if(!this.registeredModifiers.has(e))return!1;let n=this.registeredModifiers.get(e);return!(typeof n=="undefined"||n==null)}};es.instance=null;(typeof es.instance=="undefined"||es.instance==null)&&(es.instance=new es,es.instance.loadCoreModifiers());var Me=es;var zp=class{constructor(e){this.parameterModifiers=[];this.hasMixedModifierStyles=!1;this.modifierNames=[];this.node=e}isPaired(){return this.node instanceof B?this.node.isPaired():!1}getModifierValue(e){var n;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let i=this.node.modifierChain.modifierChain[r];if(((n=i.nameNode)==null?void 0:n.name)==e)return i.valueNodes.length>0?i.valueNodes[0].content:""}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let i=this.parameterModifiers[r];if(i.name==e)return i.value}return null}getModifierRange(e){var n;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let i=this.node.modifierChain.modifierChain[r];if(((n=i.nameNode)==null?void 0:n.name)==e)return i.valueNodes.length>0?{start:i.startPosition,end:i.endPosition}:null}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let i=this.parameterModifiers[r];if(i.name==e&&i.namePosition!=null&&i.valuePosition!=null)return{start:i.namePosition.start,end:i.valuePosition.end}}return null}getLastManifestedModifierRuntimeType(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null){if(this.node.modifierChain.lastManifestedModifier.parameters.length>0&&this.node.modifierChain.lastManifestedModifier.modifier!=null&&Me.instance!=null){let e=this.node.modifierChain.lastManifestedModifier.modifier;return Me.instance.getProbableReturnType(e,this.isPaired())}return"*"}if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null&&Me.instance!=null){let r=e[n].modifier;return Me.instance.getProbableReturnType(r,this.isPaired())}}return"*"}getLastManifestedModifierValue(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null)return this.node.modifierChain.lastManifestedModifier.parameters.length>0?this.node.modifierChain.lastManifestedModifier.parameters[0].value:"";if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null)return e[n].value}return""}getLastManifestedModifier(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastModifier!=null)return this.node.modifierChain.lastModifier;if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null)return e[n].modifier}return null}hasModifiers(){return this.node.modifierChain==null||this.node.modifierChain.modifierChain.length==0?this.parameterModifiers.length>0:!0}hasParameterModifiers(){return this.parameterModifiers.length>0}hasShorthandModifiers(){return this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0}hasModifier(e){return this.modifierNames.includes(e)}};function Xp(t){let e=[];return t.forEach(n=>{n instanceof B?e.push(n):n instanceof vt&&n.logicBranches.length>0&&n.logicBranches.forEach(r=>{if(r.head!=null){let i=r.head;i.originalNode!=null?e.push(i.originalNode):e.push(i)}})}),e}var J0=[" ",`
`,"\r","	","\f","\v","\xA0","\u2000","\u2001","\u2002","\u2003","\u2004","\u2005","\u2006","\u2007","\u2008","\u2009","\u200A","\u200B","\u2028","\u2029","\u3000"].join("");function ib(t){return(typeof t=="number"||typeof t=="string"&&J0.indexOf(t.slice(-1))===-1)&&t!==""&&!isNaN(t)}var G=class{static normalizeLineEndings(e,n=`
`){return e.replace(/\r?\n/g,n)}static breakByNewLine(e){return e.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`)}static split(e){return e.split("")}static substring(e,n,r){return e.substr(n,r)}static ctypeSpace(e){return(e==null?void 0:e.search(/^[\f\n\r\t\v ]+$/g))!==-1}static ctypeAlpha(e){return(e==null?void 0:e.search(/^[A-Za-z]+$/g))!==-1}static ctypeDigit(e){return(e==null?void 0:e.search(/^[\d]+$/g))!==-1}static ctypePunct(e){return(e==null?void 0:e.search(/^[\u0021-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007E]+$/g))!==-1}static trimLeft(e,n="\\s"){return e.replace(new RegExp("^["+n+"]+"),"")}static trimRight(e,n="\\s"){return e.replace(new RegExp("["+n+"]+$"),"")}static isNumeric(e){return ib(e)}static substringCount(e,n){let r=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return(e.match(new RegExp(r,"gi"))||[]).length}static getLastLine(e){let n=G.breakByNewLine(e);return n.length==0?"":n[n.length-1]}static getFirstLine(e){let n=G.breakByNewLine(e);return n.length==0?"":n[0]}};var Qp=class{constructor(e){this.node=e}findParentWithName(e){let n=this.node.getParser();return n==null?null:n.structure.findParentWithName(e,this.node)}};var ob=Q(Vu());var M=class{constructor(){this.node=null;this.errorCode="";this.message="";this.level=0;this.range=null}hash(){var n,r,i,s;let e="";return this.node!=null&&(e=((r=(n=this.node.endPosition)==null?void 0:n.offset)!=null?r:0).toString()+"|"+((s=(i=this.node.startPosition)==null?void 0:i.offset)!=null?s:0).toString()+"|"),ob.Md5.hashStr(e+"|"+this.errorCode)}static makeSyntaxError(e,n,r,i){i==null&&(i=0);let s=new M;return s.errorCode=e,s.node=n,s.message=r,s.level=i,s}};var P=class{};P.TYPE_EXPECTING_OPERAND="ANTLR_001",P.TYPE_UNEXPECTED_END_OF_INPUT="ANTLR_002",P.TYPE_RUNTIME_TYPE_MISMATCH="ANTLR_003",P.TYPE_RUNTIME_DIVIDE_BY_ZERO="ANTLR_004",P.TYPE_RUNTIME_UNKNOWN_LANG_OPERATOR="ANTLR_005",P.TYPE_RUNTIME_UNEXPECTED_STACK_CONDITION="ANTLR_006",P.TYPE_RUNTIME_PARSE_VALUE_VIOLATION="ANTLR_007",P.TYPE_PARSE_UNCLOSED_CONDITIONAL="ANTLR_008",P.TYPE_PARSE_EMPTY_CONDITIONAL="ANTLR_009",P.TYPE_PARSE_UNPAIRED_CONDITIONAL="ANTLR_008",P.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE="ANTLR_009",P.TYPE_INCOMPLETE_ANTLERS_REGION="ANTLR_010",P.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION="ANTLR_011",P.TYPE_ILLEGAL_VARPATH_RIGHT="ANTLR_012",P.TYPE_ILLEGAL_DOTVARPATH_RIGHT="ANTLR_013",P.TYPE_ILLEGAL_VARPATH_SUBPATH_START="ANTLR_014",P.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT="ANTLR_015",P.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR="ANTLR_016",P.TYPE_ILLEGAL_VARIABLE_NAME="ANTLR_017",P.TYPE_UNSET_MODIFIER_DETAILS="ANTLR_018",P.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS="ANTLR_019",P.TYPE_MODIFIER_UNEXPECTED_VALUE="ANTLR_020",P.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST="ANTLR_021",P.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR="ANTLR_022",P.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH="ANTLR_023",P.TYPE_RECURSIVE_UNPAIRED_NODE="ANTLR_024",P.TYPE_RECURSIVE_NODE_INVALID_POSITION="ANTLR_025",P.TYPE_NO_PARSE_UNASSOCIATED="ANTLR_026",P.TYPE_RECURSIVE_NODE_UNASSOCIATED_PARENT="ANTLR_027",P.TYPE_LOGIC_GROUP_NO_END="ANTLR_028",P.TYPE_LOGIC_GROUP_NO_START="ANTLR_029",P.TYPE_UNEXPECTED_BRANCH_SEPARATOR="ANTLR_030",P.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE="ANTLR_031",P.TYPE_UNEXPECTED_MODIFIER_SEPARATOR="ANTLR_032",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS="ANTLR_033",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE="ANTLR_034",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER="ANTLR_035",P.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE="ANTLR_036",P.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS="ANTLR_037",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SEMANTIC_GROUP="ANTLR_038",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP="ANTLR_039",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP="ANTLR_040",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH="ANTLR_041",P.TYPE_UNEXPECTED_EOI_WHILE_EXITING_TERNARY_GROUP="ANTLR_042",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET="ANTLR_043",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION="ANTLR_044",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END="ANTLR_045",P.TYPE_RUNTIME_UNKNOWN_LIBRARY="ANTLR_046",P.TYPE_RUNTIME_LIBRARY_BAD_METHOD_CALL="ANTLR_047",P.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS="ANTLR_048",P.TYPE_UNEXPECTED_FACTORIAL_OPERAND="ANTLR_049",P.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR="ANTLR_050",P.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED="ANTLR_051",P.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT="ANTLR_052",P.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP="ANTLR_053",P.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT="ANTLR_054",P.TYPE_LIBRARY_CALL_NO_ARGS_PROVIDED="ANTLR_055",P.TYPE_LIBRARY_CALL_MISSING_REQUIRED_FORMAL_ARG="ANTLR_056",P.TYPE_LIBRARY_CALL_RUNTIME_TYPE_MISMATCH="ANTLR_057",P.TYPE_LIBRARY_CALL_UNEXPECTED_ARG_RESOLVE_FAULT="ANTLR_058",P.TYPE_LIBRARY_CALL_TOO_MANY_ARGUMENTS="ANTLR_059",P.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD="ANTLR_060",P.TYPE_INVALID_NAMED_ARG_IDENTIFIER="ANTLR_061",P.TYPE_LIBRARY_CALL_INVALID_ARGUMENT_NAME="ANTLR_062",P.TYPE_RUNTIME_ATTEMPT_TO_OVERWRITE_LOADED_LIBRARY="ANTLR_063",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP="ANTLR_064",P.TYPE_EXPECTING_ARGUMENT_GROUP="ANTLR_065",P.TYPE_RUNTIME_PROTECTED_LIBRARY_ACCESS_VIOLATION="ANTLR_066",P.TYPE_RUNTIME_FATAL_UNPAIRED_LOOP_END="ANTLR_067",P.TYPE_UNEXPECTED_OPERATOR="ANTLR_068",P.TYPE_OPERATOR_INVALID_ON_RIGHT="ANTLR_069",P.TYPE_INVALID_ASSIGNMENT_LOOP_PAIR="ANTLR_070",P.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP="ANTLR_071",P.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND="ANTLR_072",P.TYPE_QUERY_UNSUPPORTED_VALUE_TYPE="ANTLR_073",P.TYPE_UNEXPECTED_RUNTIME_RESULT_FOR_ORDER_BY_CLAUSE="ANTLR_074",P.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP="ANTLR_075",P.TYPE_INVALID_ORDER_BY_NAME_VALUE="ANTLR_076",P.TYPE_INVALID_ORDER_BY_SORT_VALUE="ANTLR_077",P.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY="ANTLR_78",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY="ANTLR_079",P.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE="ANTLR_080",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP="ANTLR_081",P.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP="ANTLR_082",P.TYPE_UNEXPECTED_SWITCH_START_VALUE="ANTLR_083",P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE="ANTLR_084",P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_SEMANTIC_VALUE="ANTLR_085",P.TYPE_SWITCH_DEFAULT_MUST_BE_LAST="ANTLR_086",P.TYPE_PARSER_INVALID_SWITCH_TOKEN="ANTLR_087",P.TYPE_ORDER_BY_INVALID_RETURN_TYPE="ANTLR_088",P.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED="ANTLR_089",P.TYPE_PLUCK_INTO_MISSING_VARIABLE_TARGET="ANTLR_090",P.TYPE_PLUCK_INTO_INVALID_VARIABLE_TARGET="ANTLR_091",P.TYPE_PLUCK_INTO_NO_PREDICATE="ANTLR_092",P.TYPE_PLUCK_INTO_INVALID_PREDICATE_VALUE="ANTLR_093",P.TYPE_PLUCK_INTO_EMPTY_LOGIC_GROUP="ANTLR_094",P.TYPE_PLUCK_INTO_INVALID_NUMBER_OF_TUPLE_VARIABLES="ANTLR_095",P.TYPE_PLUCK_INTO_UNKNOWN_ALIAS_VARNAME="ANTLR_096",P.TYPE_PLUCK_INTO_UNEXPECTED_EMPTY_T_LOGIC_GROUP="ANTLR_097",P.TYPE_PLUCK_INTO_REFERENCE_TYPE_DYNAMIC="ANTLR_098",P.TYPE_PLUCK_INTO_REFERENCE_AMBIGUOUS="ANTLR_099",P.TYPE_RUNTIME_ASSIGNMENT_TO_NON_VAR="ANTLR_100",P.TYPE_ARR_MAKE_MISSING_TARGET="ANTLR_101",P.TYPE_ARR_MAKE_UNEXPECTED_TYPE="ANTLR_102",P.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE="ANTLR_103",P.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE="ANTLR_104",P.TYPE_ARR_UNEXPECT_ARG_SEPARATOR="ANTLR_105",P.TYPE_ARR_KEY_PAIR_MISSING_KEY="ANTLR_106",P.RUNTIME_PROTECTED_VAR_ACCESS="ANTLR_107",P.RUNTIME_PROTECTED_TAG_ACCESS="ANTLR_108",P.RUNTIME_PROTECTED_MODIFIER_ACCESS="ANTLR_109",P.TYPE_INCOMPLETE_PHP_EVALUATION_REGION="ANTLR_110",P.RUNTIME_PHP_NODE_WHEN_PHP_DISABLED="ANTLR_111",P.RUNTIME_PHP_NODE_USER_CONTENT_TAG="ANTLR_112",P.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST="ANTLR_113",P.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST="ANTLR_114",P.TYPE_MISSING_BODY_TUPLE_LIST="ANTLR_115",P.TYPE_MISSING_NAMES_TUPLE_LIST="ANTLR_116",P.TYPE_VALUE_NAME_LENGTH_MISMATCH_TUPLE_LIST="ANTLR_117",P.TYPE_INVALID_TUPLE_LIST_NAME_TYPE="ANTLR_118",P.TYPE_INVALID_MANIFESTED_NAME_GROUP="ANTLR_119",P.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP="ANTLR_120",P.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE="ANTLR_121",P.TYPE_RUNTIME_BAD_METHOD_CALL="ANTLR_122",P.TYPE_METHOD_CALL_MISSING_ARG_GROUP="ANTLR_123",P.TYPE_INVALID_METHOD_CALL_ARG_GROUP="ANTLR_124",P.TYPE_METHOD_CALL_MISSING_METHOD="ANTLR_125",P.TYPE_MODIFIER_NOT_FOUND="ANTLR_126",P.TYPE_RUNTIME_GENERAL_FAULT="ANTLR_127",P.TYPE_MODIFIER_INCORRECT_VALUE_POSITION="ANTLR_128",P.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX="ANTLR_129",P.TYPE_RUNTIME_ATTEMPTING_TO_RENDER_OBJECT_AS_STRING="ANTLR_130",P.TYPE_UNPAIRED_CLOSING_TAG="ANTLR_131",P.PARSER_CANNOT_PARSE_PATH_RECURSIVE="ANTLR_200",P.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR="ANTLR_201",P.LINT_UNKNOWN_PARAMETER="ANTLR_500",P.LINT_GENERAL_INVALID_PARAMETER_CONTENTS="ANTLR_501",P.LINT_PARAMETER_CONTENT_INVALID_INTEGER="ANTLR_502",P.LINT_PARAMETER_CONTENT_INVALID_BOOLEAN="ANT LR_503",P.LINT_PAGINATE_INVALID_VALUE="ANTLR_504",P.LINT_DEBUG_DATA_EXPOSED="ANTLR_505",P.LINT_DOUBLE_COLON_IN_TAG_IDENTIFIER="ANTLR_506",P.LINT_MIXED_MODIFIERS="ANTLR_507",P.LINT_MODIFIER_UNEXPECTED_TYPE="ANTLR_508",P.LINT_REMOVE_RELATE_TAG="ANTLR_509",P.LINT_SET_PRODUCES_RUNTIME_ERROR="ANTLR_510",P.LINT_FRONT_MATTER_EMPTY_DOCUMENT="ANTLR_511",P.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH="ANTLR_512",P.LINT_INVALID_FRONT_MATTER="ANTLR_513",P.LINT_DUPLICATE_CODE="ANTLR_514",P.LINT_VERSION_NOT_COMPATIBLE="ANTLR_515",P.LINT_INTERLEAVED_TAG_PAIRS="ANTLR_516",P.LINT_MISSING_REQUIRED_PARAMETER="ANTLR_517",P.LINT_POSSIBLE_PARTIAL_RECURSION="ANTLR_518";var nt=class{static distance(e,n){return e.endPosition==null||n.startPosition==null?this.DistMax:n.startPosition.index-e.endPosition.index}static getTrueName(e){var n,r,i,s;return e.originalNode!=null?(r=(n=e.originalNode.name)==null?void 0:n.name)!=null?r:"":(s=(i=e.name)==null?void 0:i.name)!=null?s:""}static getSimpleVarName(e){return e.variableReference!=null&&e.variableReference.pathParts.length==1&&e.variableReference.pathParts[0]instanceof Un?e.variableReference.pathParts[0].name:""}static isVariableMatching(e,n){return e instanceof oe?e.name==n:!1}static mergeVarContentLeft(e,n,r){return r.mergeRefName=r.name,r.endPosition=n.endPosition,r.name=r.name+e,r}static mergeVarContentRight(e,n,r){return r.mergeRefName=r.name,r.startPosition=n.startPosition,r.name=e+r.name,r}static mergeVarRight(e,n){return n.mergeRefName=n.name,n.startPosition=e.startPosition,n.name=e.name+n.name,n}static getUnrefName(e){return G.trimLeft(e,":.")}};nt.DistMax=65e3;var or=class{static isConditionalStructure(e){var r,i;if(e.isComment)return!1;let n=(i=(r=e.name)==null?void 0:r.name)!=null?i:"";return n=="if"||n=="elseif"||n=="else"}static requiresClose(e){var r,i;let n=(i=(r=e.name)==null?void 0:r.name)!=null?i:"";return n=="elseif"||n=="else"?e.isClosedBy==null:!(e.isClosingTag||e.isClosedBy!=null)}static getValidClosingPairs(e){return e=="if"||e=="elseif"?or.conditionClosingPairs:[]}static findClosestStructurePair(e,n,r){var u,c,f,m,d,p,_,C;let i=[],s=e.length,o=new Map,a=null;i.push({node:n,index:r});for(let h=0;h<s;h+=1){let b=e[h];if(b instanceof B){let g=(c=(u=b.name)==null?void 0:u.name)!=null?c:"";if(b.isClosingTag&&g=="if"){o.set(h,h);continue}else if(g=="elseif"||g=="else"){o.set(h,h);continue}}}let l=o.size;for(;i.length>0;){let h=i.pop();if(h==null)continue;if(h.node._conditionParserAbandonPairing)break;let b=h.node,g=or.getValidClosingPairs((m=(f=b.name)==null?void 0:f.name)!=null?m:""),N=h.index,S=!1;if(l>50&&a!=null){for(let[V,O]of o)if(V>N){N=V;break}}for(let V=N;V<s;V++){let O=e[V];if(O instanceof B&&or.isConditionalStructure(O)){if(or.requiresClose(O)){i.push(h),i.push({node:O,index:V+1}),S=!0;break}if(b.isClosedBy!=null)continue;let $=(p=(d=O.name)==null?void 0:d.name)!=null?p:"",X=!1;if(O.ref==0&&(O.isClosingTag&&$=="if"||g.includes($))&&(X=!0),O.refId==b.refId&&(X=!1),X){a=V,o.delete(V),b.isClosedBy=O,O.isOpenedBy=b,O.ref+=1,S=!0;break}}}if(!S&&b instanceof B){let V=(C=(_=b.name)==null?void 0:_.name)!=null?C:"";if((V=="elseif"||V=="else")&&b.isOpenedBy==null){let O='Unpaired "'+nt.getTrueName(b)+'" control structure.';b.isInterpolationNode&&(O+=" Tag pairs are not supported within Antlers tags."),b.pushError(M.makeSyntaxError(P.TYPE_PARSE_UNPAIRED_CONDITIONAL,b,O)),b._conditionParserAbandonPairing=!0}if(b.isClosedBy==null&&or.requiresClose(b)){let O='Unclosed "'+nt.getTrueName(b)+'" control structure.';b.isInterpolationNode&&(O+=" Tag pairs are not supported within Antlers tags."),b.pushError(M.makeSyntaxError(P.TYPE_PARSE_UNCLOSED_CONDITIONAL,b,O)),b._conditionParserAbandonPairing=!0}}}}static pairConditionals(e){for(let n=0;n<e.length;n+=1){let r=e[n];r instanceof B&&or.isConditionalStructure(r)&&or.requiresClose(r)&&or.findClosestStructurePair(e,r,n+1)}return e.forEach(n=>{var r,i;if(n instanceof B&&or.isConditionalStructure(n)){let s=(i=(r=n.name)==null?void 0:r.name)!=null?i:"";if((s=="elseif"||s=="else")&&n.isOpenedBy==null){n.pushError(M.makeSyntaxError(P.TYPE_PARSE_UNPAIRED_CONDITIONAL,n,'Unpaired "'+nt.getTrueName(n)+'" control structure.'));return}if(n.isClosedBy==null&&or.requiresClose(n)){n.pushError(M.makeSyntaxError(P.TYPE_PARSE_UNCLOSED_CONDITIONAL,n,"Unclosed "+nt.getTrueName(n)+" control structure."));return}}}),e}},$t=or;$t.conditionClosingPairs=["elseif","else"];function ar(t,e){return e==null&&(e="s"),t.replace(new RegExp("^["+e+"]+"),"")}function Pt(t,e,n){return t.replace(new RegExp(e,"g"),n)}function Er(t,e){return e==null&&(e="s"),t.replace(new RegExp("["+e+"]+$"),"")}function ko(){return(Date.now().toString(32)+Math.random().toString(16)).replace(/\./g,"")}function ab(){return Pt(ko(),"-","_")}var qu=class{constructor(){this.startPosition=null;this.endPosition=null;this.index=0;this.embeddedIndex=0;this.refId=null;this.parameters=[];this.isSelfClosing=!1;this.isClosingFragment=!1;this.name="";this.containsStructures=!1;this.refId=ab()}},Zp=class{constructor(){this.startPosition=null;this.endPosition=null}};function Z0(t){let e=[],n=[];for(let r=0;r<t.length;r++){let i=t[r],s=i.refId;if(n.includes(s))break;e.push(i),n.push(s)}return e}var J=class{constructor(){this.refId=null;this.index=0;this.parent=null;this.content="";this.rawLexContent="";this.sourceContent="";this.startPosition=null;this.endPosition=null;this.modifierChain=null;this.originalAbstractNode=null;this.positionContexts=[];this.addedContexts=new Map;this.fragment=null;this.fragmentPosition=3;this.containsAnyFragments=!1;this.containsChildStructures=!1;this.isInScriptTag=!1;this.isInStyleTag=!1;this.isVirtual=!0;this.isPartOfMethodChain=!1;this.isVirtualGroupMember=!1;this.isVirtualGroupOperatorResolve=!1;this.isSwitchGroupMember=!1;this.isListGroupMember=!1;this.producesVirtualStatementTerminator=!1;this.convertedToOperator=!1;this.scopeVariable=null;this.currentScope=null;this.manifestType="";this.scopeName=null;this.sourceType="";this.runtimeType=null;this.modifiers=new zp(this);this.prev=null;this.next=null;this.methodTarget=null;this.libraryTarget=null;this.antlersErrors=[];this.parser=null;this.refId=ab()}isEmbedded(){return this.isInScriptTag||this.isInStyleTag}getContexts(){return this.positionContexts}addContext(e){this.addedContexts.has(e.refId)==!1&&(this.addedContexts.set(e.refId,!0),this.positionContexts.push(e))}getRange(){if(this.originalAbstractNode!=null)return this.originalAbstractNode.getRange();if(this.startPosition==null||this.endPosition==null)return sl.Empty;let e=new sl;return e.start=this.startPosition,e.end=this.endPosition,e}withParser(e){this.parser=e}getParser(){return this.parser}pushError(e){this.parent!=null&&this.parent.pushError(e),this.antlersErrors.push(e),this.parent==null&&this.parser!=null&&this.parser.pushError(e)}mergeErrors(e){e.forEach(n=>{n.node==null&&(n.node=this),this.antlersErrors.push(n)})}getErrors(){return this.antlersErrors}innerContent(){return this.content}rawContent(){return this.content}},ed=class extends J{constructor(){super(...arguments);this.head=null;this.tail=null;this.nodes=[];this.documentText="";this.childDocument=null}getImmediateChildren(){return this.head==null?[]:this.head.getImmediateChildren()}},vt=class extends J{constructor(){super(...arguments);this.logicBranches=[];this.chain=[];this.nodeContent="";this.fragment=null;this.fragmentPosition=3;this.containsAnyFragments=!1;this.containsChildStructures=!1}},B=class extends J{constructor(){super(...arguments);this.isNodeAbanonded=!1;this.isComment=!1;this.isTagNode=!1;this.isConditionNode=!1;this.runtimeContent="";this.name=null;this.pathReference=null;this.isClosingTag=!1;this.isInterpolationNode=!1;this.isOpenedBy=null;this.isClosedBy=null;this.isSelfClosing=!1;this.children=[];this.runtimeNodes=[];this.parsedRuntimeNodes=[];this.hasParsedRuntimeNodes=!1;this.parameters=[];this.hasParameters=!1;this.contentOffset=null;this.cachedContent=null;this.cachedInnerContent=null;this.hasRecursiveNode=!1;this.recursiveReference=null;this.rawStart="";this.rawEnd="";this.originalNode=null;this.interpolationRegions=new Map;this.processedInterpolationRegions=new Map;this.hasProcessedInterpolationRegions=!1;this.ref=0;this.contentStartRelativeIndex=null;this.antlersNodeIndex=0;this.nameStartsOn=null;this.nameEndsOn=null;this.nameMethodPartStartsOn=null;this.documentText="";this.nodeContent="";this.childDocument=null;this.structure=new Qp(this);this.isInlineAntlers=!1;this.mustClose=!1;this.reference=null;this._conditionParserAbandonPairing=!1;this._isEndVirtual=!1}getOriginalContent(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.isClosedBy!=null?this.isClosedBy.startPosition==null||this.isClosedBy.endPosition==null?"":this.parser.getText(this.startPosition.index,this.isClosedBy.endPosition.index+1):this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getNodeDocumentText(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getImmediateChildren(){let e=[];for(let n=0;n<this.children.length;n++){let r=this.children[n];if(r.parent==this){if(r==this.isClosedBy)break;e.push(r)}}return Z0(e)}getChildren(){if(this.isClosedBy==null)return[];let e=[];for(let n=0;n<this.children.length;n++){let r=this.children[n];if(r instanceof B&&r.refId==this.isClosedBy.refId)break;e.push(r)}return e}getInnerDocumentText(){if(this.startPosition==null||this.endPosition==null||this.parser==null)return"";if(this.isClosedBy==null)return this.getNodeDocumentText();let e=this.isClosedBy.startPosition;return e==null?"":this.parser.getText(this.endPosition.index+1,e.index)}nodeAtIndex(e){if(this.runtimeNodes.length==0)return null;for(let n=0;n<this.runtimeNodes.length;n++)if(this.runtimeNodes[n].index==e)return this.runtimeNodes[n];return null}getDepthCount(){if(this.parent==null)return 1;let e=this.parent,n=1;for(;e!=null;){if(n+=1,e.parent===e){e=null;break}e=e.parent}return n}isEmpty(){return this.content.trim().length==0}nameMatches(e){return this.name==null?!1:this.name.content==e}copyBasicDetails(){return this.copyBasicDetailsTo(new B)}copyBasicDetailsTo(e){return e.refId=this.refId,e.isComment=this.isComment,e.isTagNode=this.isTagNode,e.children=this.children,e.parent=this.parent,e.parameters=this.parameters,e.isClosingTag=this.isClosingTag,e.rawStart=this.rawStart,e.rawEnd=this.rawEnd,e.startPosition=this.startPosition,e.endPosition=this.endPosition,e.originalAbstractNode=this,e.containsAnyFragments=this.containsAnyFragments,e.containsChildStructures=this.containsChildStructures,e.isInScriptTag=this.isInScriptTag,e.isInStyleTag=this.isInStyleTag,e}id(){return this.refId}innerContent(){return this.cachedInnerContent==null&&(this.cachedInnerContent=this.content.replace('"','\\"')),this.cachedInnerContent}resetContentCache(){this.cachedContent=null,this.cachedInnerContent=null}hasMethodPart(){return this.name==null?!1:this.name.getMethodName()!=null}runtimeName(){return this.name==null?"":this.name.getCompoundTagName()}getTagName(){return this.name==null?"":this.name.name}getNameContent(){return this.name==null?"":this.name.content}getMethodNameValue(){if(this.name==null)return"";let e=this.name.getMethodName();return e!=null?e:""}methodIsEmptyOrMatches(e){return this.getMethodNameValue()==e}hasParameter(e){return this.findParameter(e)!=null}hasParameterWithValue(e,n){let r=this.findParameter(e);return r==null?!1:r.value==n}findParameterValue(e,n){let r=this.findParameter(e);return r==null?n:r.value}findParameterValueOrNull(e){let n=this.findParameter(e);return n==null?null:n.value}findParameter(e){if(this.parameters.length==0)return null;for(let n=0;n<this.parameters.length;n++)if(this.parameters[n].name==e)return this.parameters[n];return null}findAnyParameter(e){for(let n=0;n<e.length;n++){let r=this.findParameter(e[n]);if(r!=null)return r}return null}getContentRelativeStartIndex(){if(this.contentStartRelativeIndex==null){let e=this.content.split("");for(let n=0;n<e.length;n++)if(!G.ctypeSpace(e[n])){this.contentStartRelativeIndex=n;break}this.contentStartRelativeIndex==null&&(this.contentStartRelativeIndex=e.length),this.contentStartRelativeIndex+=this.rawStart.length}return this.contentStartRelativeIndex}getContentAfterName(){let e=0;return this.nameEndsOn!=null&&(e=this.nameEndsOn.char-this.rawStart.length-1),this.content.substring(e)}getContent(){if(this.cachedContent==null)if(this.isComment)this.cachedContent=this.content,this.contentOffset=this.startPosition;else if(this.isTagNode){let e=this.content;e=G.trimLeft(e);let n=0;if(this.name!=null&&(n=this.name.compound.length),this.parameters.length>0){let o=0,a=this.parameters[0];a.startPosition!=null&&(o=a.startPosition.index-1);let l=e,u=l.trimLeft(),c=l.length-u.length,f=n;e=e.substr(0,o)}let r=e.trimLeft(),i=e.length-r.length,s=n+i+2;if(this.parser!=null){let o=0;this.startPosition!=null&&(o=this.startPosition.offset),this.contentOffset==this.parser.positionFromOffset(o+s,0)}this.name!=null?this.name.name=="if"||this.name.name=="elseif"||this.name.name=="unless"||this.name.name=="elseunless"?(e=" "+e.trimLeft(),this.cachedContent=e.substr(this.name.compound.length+1)):this.cachedContent=e:this.cachedContent=e}else if(this.parameters.length>0){let e=this.parameters[0],n=0;e.startPosition!=null&&(n=e.startPosition.index-1),this.contentOffset=this.startPosition,this.cachedContent=this.content.substr(0,n)}else this.contentOffset=this.startPosition,this.cachedContent=this.content;return this.cachedContent}relativePositionFromOffset(e,n){var r,i;return this.parser==null?null:this.parser.positionFromOffset(((i=(r=this.contentOffset)==null?void 0:r.offset)!=null?i:0)+e,n)}getInterpolationNode(e){if(this.processedInterpolationRegions.has(e)){let n=this.processedInterpolationRegions.get(e);if(n.length>0&&n[0]instanceof B)return n[0]}return null}_lexerRelativeOffset(e,n=null){var o,a;let r=e;if(n!=null&&(r=n),this.parser==null){let l=new qt;return l.index=e,l.offset=e,l}let i=e+this.rawStart.length+((a=(o=this.startPosition)==null?void 0:o.index)!=null?a:0);return this.isTagNode&&this.nameStartsOn!=null&&(i=this.nameStartsOn.index+e,$t.isConditionalStructure(this)||(i-=this.rawStart.length)),this.parser.positionFromOffset(i,i,!0)}relativeOffset(e,n=null){var o,a;let r=e;if(n!=null&&(r=n),this.parser==null){let l=new qt;return l.index=e,l.offset=e,l}let i=e+this.rawStart.length+((a=(o=this.startPosition)==null?void 0:o.index)!=null?a:0);return this.parser.positionFromOffset(i,i,!0)}isPaired(){return this.isClosingTag&&this.isSelfClosing==!1&&this.isOpenedBy!=null?!0:!(this.isClosedBy==null||this.isSelfClosing)}getFinalClosingTag(){return this.isClosedBy==null?this:this.isClosedBy.getFinalClosingTag()}rawContent(){return this.rawStart+this.content+this.rawEnd}getTrueRuntimeNodes(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRuntimeNodes():this.runtimeNodes}getTrueRawContent(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRawContent():this.rawContent()}getTrueNode(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueNode():this}getStructuralChildren(){return this.isClosedBy!=null?Xp(this.children.slice(0,-1)):Xp(this.children)}findParentOfType(e){return this.parent==null?null:this.parent instanceof B?this.parent.name!=null&&e.includes(this.parent.getTagName())?this.parent:this.parent.findParentOfType(e):null}},Gn=class extends B{static makeWithStartPosition(e){let n=new Gn;return n.startPosition=e,n.endPosition=e,n}},ft=class extends Gn{},lr=class extends B{constructor(){super(...arguments);this.recursiveParent=null;this.isNestedRecursive=!1}},Fs=class extends B{constructor(){super(...arguments);this.isEchoNode=!1}},ol=class extends Gn{},td=class extends Gn{},rn=class extends B{constructor(){super(...arguments);this.isNoParseRegion=!1}},Vs=class extends J{constructor(){super(...arguments);this.modifier=null;this.isModifierParameter=!1;this.nameDelimiter='"';this.isVariableReference=!1;this.name="";this.value="";this.interpolations=[];this.parent=null;this.blockPosition=null;this.namePosition=null;this.valuePosition=null}containsSimpleValue(){return this.hasInterpolations()==!1&&this.isVariableReference==!1}hasInterpolations(){return this.interpolations.length>0}getArrayValue(){return this.value.split("|")}getValue(){return this.value}},al=class{constructor(){this.modifierTarget=null;this.modifierChain=[];this.startPosition=null;this.endPosition=null;this.lastManifestedModifier=null;this.lastModifier=null}updateValues(){if(this.modifierChain.length==0)this.startPosition=null,this.endPosition=null;else{let e=this.modifierChain[0],n=this.modifierChain[this.modifierChain.length-1];this.startPosition=e.startPosition,this.endPosition=n.endPosition}}},Mo=class extends J{constructor(){super(...arguments);this.modifier=null;this.methodStyleArguments=null;this.nameNode=null;this.name="";this.valueNodes=[];this.parameters=[]}getParameterValues(){let e=[];return this.parameters.forEach(n=>{e.push(n.value)}),e}},ll=class extends J{constructor(){super(...arguments);this.order=0;this.name=null;this.directionNode=null}},nd=class extends J{constructor(){super(...arguments);this.value=""}},wr=class extends J{},ur=class extends J{},Or=class extends J{},Wn=class extends J{},Hn=class extends J{},oi=class extends J{},ts=class extends J{constructor(){super(...arguments);this.repeat=1}},ai=class extends J{},Yn=class extends J{},Tn=class extends J{},Lr=class extends J{},Dr=class extends J{},Kn=class extends J{},kr=class extends J{},Mr=class extends J{},li=class extends J{},Nn=class extends J{},cr=class extends J{},Ei=class extends J{},Fr=class extends J{},Vr=class extends J{},qr=class extends J{},Br=class extends J{},jr=class extends J{},Ur=class extends J{},wi=class extends J{},Gr=class extends J{},sn=class extends J{},qs=class extends J{constructor(){super(...arguments);this.orderClauses=[]}},It=class extends J{},vn=class extends J{},ul=class extends J{constructor(){super(...arguments);this.left=null;this.right=null}},Pn=class extends J{constructor(){super(...arguments);this.isTenaryBranchSeparator=!1}},Wr=class extends J{},fr=class extends J{},on=class extends J{},Hr=class extends J{},ui=class extends J{},pr=class extends J{},In=class extends J{},ci=class extends J{},Bt=class extends J{},zt=class extends J{},Fo=class extends J{constructor(){super(...arguments);this.values=[];this.isNamedNode=!1;this.parsedName=null}},De=class extends J{constructor(){super(...arguments);this.start=null;this.end=null;this.nodes=[];this.scopeOperator=null}},Vo=class extends J{constructor(){super(...arguments);this.condition=null;this.expression=null}},Bs=class extends J{constructor(){super(...arguments);this.cases=[]}},rd=class extends J{constructor(){super(...arguments);this.left=null;this.right=null}},Oi=class extends J{constructor(){super(...arguments);this.nodes=[]}},cl=class extends J{constructor(){super(...arguments);this.head=null;this.truthBranch=null;this.falseBranch=null}},Ct=class extends J{},Ot=class extends J{constructor(){super(...arguments);this.nodes=[];this.separatorToken=null}},dr=class extends De{constructor(){super(...arguments);this.scope=null}extract(){let e=null;this.scope!=null&&(e=this.scope.name);let n=this.nodes[0];return[e,n.nodes]}},Li=class extends dr{constructor(){super(...arguments);this.alias=null}},qo=class extends J{constructor(){super(...arguments);this.args=[];this.hasNamedArguments=!1;this.numberOfNamedArguments=0}},Yr=class extends J{},id=class extends J{};var ns=class extends J{constructor(){super(...arguments);this.libraryName="";this.methodName="";this.arguments=null}},Qe=class extends J{constructor(){super(...arguments);this.sourceContent=""}},Xt=class extends J{constructor(){super(...arguments);this.method=null;this.args=null}},jt=class extends J{constructor(){super(...arguments);this.name=""}},Ut=class extends J{constructor(){super(...arguments);this.value="";this.name=""}},Bu=class extends J{constructor(){super(...arguments);this.name=null;this.value=null}},fl=class extends J{constructor(){super(...arguments);this.name=null;this.value=null}},Lt=class extends J{constructor(){super(...arguments);this.value=null}},bt=class extends J{constructor(){super(...arguments);this.value="";this.sourceTerminator="";this.sourceContent=""}},oe=class extends J{constructor(){super(...arguments);this.name="";this.mergeRefName="";this.variableReference=null;this.interpolationNodes=[];this.isInterpolationReference=!1}},sd=class extends J{constructor(){super(...arguments);this.name=""}},Un=class extends J{constructor(){super(...arguments);this.delimiter="";this.name="";this.isStringVar=!1;this.isFinal=!1}},rs=class{constructor(){this.originalContent="";this.normalizedReference="";this.isStrictTagReference=!1;this.isStrictVariableReference=!1;this.isExplicitVariableReference=!1;this.isVariableVariable=!1;this.pathParts=[];this.isFinal=!1;this._isFromEmptyFailState=!1}clone(){let e=new rs;return e.originalContent=this.originalContent,e.normalizedReference=this.normalizedReference,e.isStrictVariableReference=this.isStrictVariableReference,e.isExplicitVariableReference=this.isExplicitVariableReference,e.pathParts=this.pathParts,e.isFinal=this.isFinal,e}implodePaths(){let e=[];return this.pathParts.forEach(n=>{n instanceof Un?e.push(n.name):n instanceof rs&&e.push(n.implodePaths())}),e.join(".")}},od=class{constructor(e,n,r){this.target=e,this.value=n,this.operator=r}};var HN=Q(nn());var Bo=Q(ot());function ad(t,e){let n=[];if(t.currentNode==null)return n;let r={start:{line:t.position.line,character:t.position.character-0},end:t.position};for(let i=0;i<e.length;i++){let s=e[i];if(!t.currentNode.hasParameter(s.name)){let o=s.name+'="$1"';n.push({label:s.name,kind:Bo.CompletionItemKind.Value,insertTextFormat:Bo.InsertTextFormat.Snippet,textEdit:Bo.TextEdit.replace(r,o),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return n}var jo=Q(ot());function is(t,e,n){return{label:t,insertText:t,kind:jo.CompletionItemKind.Field,detail:n+": "+e}}function eE(t,e){let n="";return e.length>0&&(n=e.join(", ")),"**"+t+"** `"+n+"`  \n"}function ju(t){let e=eE(t.name,t.acceptsType),n="";if(t.parameters.length>0){let s=[];t.parameters.forEach(o=>{s.push("$"+o.name)}),n=s.join(", ")}let r="";if(t.returnsType.length==1)r=t.returnsType[0];else{let s=[];t.returnsType.forEach(o=>{s.push(o)}),r=s.join(", ")}return e+=t.description+`
`,e+="```js\n",e+="function "+t.name+"("+n+"):"+r,e+="\n```",t.docLink!=null&&t.docLink.trim().length>0&&(e+=`  

`,e+="[Documentation Reference]("+t.docLink+")"),{label:t.name,insertText:t.name,documentation:{kind:jo.MarkupKind.Markdown,value:e},kind:jo.CompletionItemKind.Function}}function Uu(t){let e=[];for(let n=0;n<t.length;n++)typeof t[n].name!="undefined"&&e.push(ld(t[n]));return e}function ld(t){let e="",n=t.name;return t.instructionText!=null&&(e=t.instructionText),t.displayName!=null&&(n=t.displayName+" ("+t.name+")"),t.blueprintName!=null&&(e.trim().length>0&&(e+=`
`),e+="Blueprint: "+t.blueprintName),t.type!=null&&(n+=": "+t.type),{label:t.name,insertText:t.name,kind:jo.CompletionItemKind.Field,documentation:e,detail:n}}function Ee(t,e,n,r){let i="**"+t+"**  ";return i+=`
`,i+=e+"  ",i+="\n```antlers\n",i+=n,i+="\n```",r!=null&&(i+=`

`,i+="[Documentation Reference]("+r+")"),i}function k(t,e,n){let r="**"+t+"**  ";return r+=`
`,r+=e+"  ",n!=null&&(r+=`

`,r+="[Documentation Reference]("+n+")"),r}function Uo(t){let e=[];return t=="order"&&e.push("sort"),e}var lb=["replicator","bard"];function tE(t){return{blueprintName:t.sourceName,displayName:t.name,instructionText:"",maxItems:-1,name:t.name,refFieldSetField:null,type:t.dataType,sets:null,import:null}}function Gu(t){let e=[];for(let n=0;n<t.length;n++)e.push(tE(t[n]));return e}function ud(t,e=""){return{blueprintName:"fieldset",displayName:e+t.name,instructionText:t.instructionText,maxItems:t.maxItems,name:e+t.handle,type:t.type,refFieldSetField:t,sets:t.sets,import:t.import}}function ub(t,e,n){return t=="select"&&typeof e.field.multiple!="undefined"&&e.field.multiple===!0&&(t="select_multiple"),(typeof e.field.multiple=="undefined"||n>1)&&(t=="form"?t="form_multiple":t=="sites"?t="sites_multiple":t=="taxonomies"?t="taxonomies_multiple":t=="user_groups"?t="user_groups_multiple":t=="user_roles"?t="user_roles_multiple":t=="terms"?t="terms_multiple":t=="users"?t="users_multiple":t=="structures"&&(t="structures_multiple")),t}function cb(t){let e=[];for(let n=0;n<t.length;n++)e.push(ud(t[n]));return e}function Ye(t){return[{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"order",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t}]}function fb(t,e,n){if(typeof n=="undefined"||n===null)return;let r=t.findParameter("as"),i=t.findParameter("scope");n=n.concat(Gu(Ye(t))),r!=null&&i!=null?e.introduceScopedAliasScope(t,i.value,r.value,n):r!=null?e.introduceAliasScope(t,r.value,n):i!=null?e.introduceDynamicScopeList(t,i.value,n):e.addBlueprintFields(t,n)}function pb(t){return[{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t},{name:"total_results",dataType:"integer",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t}]}var Kr=Q(ot());var ss=[{isRequired:!1,name:"from",description:"The collection name to retrieve entries from",aliases:["folder","use"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"not_from",aliases:["not_folder","dont_use"],description:"The collections to exclude when retrieving entries",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"show_unpublished",aliases:null,description:"Controls whether unpbulished entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_published",aliases:null,description:"Controls whether published entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_past",aliases:null,description:"Controls whether to display entries with a past date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"since",aliases:null,description:"Sets the minimum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"until",aliases:null,description:"Sets the maximum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the entry sort order",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",aliases:null,description:"Sets the maximum number of entries to return",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["integer"],isDynamic:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope",expectsTypes:["string"],isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets the amount that entry results should be offset by",expectsTypes:["integer"],isRequired:!1,name:"offset",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether not to paginate entry results",expectsTypes:["boolean","number"],isRequired:!1,name:"paginate",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies a name to give to a new entries array variable",expectsTypes:["string"],isRequired:!1,name:"as",isDynamic:!1},{name:"scope",aliases:null,acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Sets a prefix on all entry variables",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"locale",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the locale in which to retrieve entry content",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"redirects",aliases:["links"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Controls whether entries with redirects are returned",expectsTypes:["boolean"],isRequired:!1,isDynamic:!1}],db=["from","folder","use"],mb=["not_from","not_folder","dont_use"],hb=["draft","scheduled","expired","published"];function gb(t){let e=[];if(t.project!=null){let n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position},r=t.project.getUniqueTaxonomyNames();for(let i=0;i<r.length;i++){let s=r[i],o=t.originalLeftWord+s+'="$1"';e.push({label:t.originalLeftWord+s,insertTextFormat:Kr.InsertTextFormat.Snippet,kind:Kr.CompletionItemKind.Field,textEdit:Kr.TextEdit.replace(n,o),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return e}function Go(t,e){let n=[];if(t.reference!=null){let r=t.reference,i=e.statamicProject.getBlueprintFields(r.collectionNames);typeof i!="undefined"&&i!=null&&(n=i)}return n}function _b(t){let e=[],n=hb.filter(r=>!t.includes(r));for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Kr.CompletionItemKind.Variable});return e}function yb(t,e,n){let r=[],i=n.getTaxonomyTerms(e),s=i.filter(o=>!t.includes(o));for(let o=0;o<s.length;o++)r.push({label:s[o],kind:Kr.CompletionItemKind.Variable});return r}function bb(t){let e=[],n=t.getCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Kr.CompletionItemKind.Variable});return e}function Wo(t,e){let n=[],r=e.getCollectionNames().filter(i=>!t.includes(i));for(let i=0;i<r.length;i++)n.push({label:r[i],kind:Kr.CompletionItemKind.Variable});return n}function Wu(t){let e=[],n=t.getCollectionQueryScopes();for(let r=0;r<n.length;r++)e.push({label:n[r].name,detail:n[r].description,kind:Kr.CompletionItemKind.Variable});return e}function Ho(t,e){if(t.isClosingTag)return e;if(t.hasMethodPart()&&t.getMethodNameValue()!="count"&&e.addVariables(pb(t)),t.reference!=null){let n=Go(t,e);fb(t,e,n)}return e}var pl=Q(nn());var Hu=Q(ot());var cd=[{name:"is",description:"Tests if a field is equal to a value"},{name:"equals",description:"Tests if a field is equal to a value"},{name:"not",description:"Tests if a field is not equal to a value"},{name:"isnt",description:"Tests if a field is not equal to a value"},{name:"exists",description:"Tests if a field exists"},{name:"isset",description:"Tests if a field exists"},{name:"doesnt_exist",description:"Tests if a field does not exist"},{name:"is_empty",description:"Tests if a field does not exist"},{name:"null",description:"Tests if a field does not exist"},{name:"contains",description:"Tests if a field contains a value"},{name:"doesnt_contain",description:"Tests if a field does not contain a value"},{name:"in",description:"Tests if a value is in an array"},{name:"not_in",description:"Tests if an array does not contain a value"},{name:"starts_with",description:"Tests if a field starts with a value"},{name:"doesnt_start_with",description:"Tests if a field does not start with a value"},{name:"ends_with",description:"Tests if a field ends with a value"},{name:"doesnt_end_with",description:"Tests if a field does not end with a value"},{name:"gt",description:"Tests if a field is greater than a value"},{name:"lt",description:"Tests if a field is less than a value"},{name:"gte",description:"Tests if a field is greater than or equal to a value"},{name:"lte",description:"Tests if a field is less than or equal to a value"},{name:"matches",description:"Tests if a field matches a case insensitive regex"},{name:"regex",description:"Tests if a field matches a case insensitive regex"},{name:"doesnt_match",description:"Tests if a field does not match a case insensitive regex"},{name:"is_alpha",description:"Tests if a field contains only alphabetical characters"},{name:"is_numeric",description:"Tests if a field contains only numeric characters"},{name:"is_alpha_numeric",description:"Tests if a field contains only alpha-numeric characters"},{name:"is_url",description:"Tests if a field is a valid URL"},{name:"is_embeddable",description:"Tests if a field is an embeddable video URL"},{name:"is_email",description:"Tests if a field is a valid email address"},{name:"is_after",description:"Tests if a field is after a given date"},{name:"is_before",description:"Tests if a field is before a given date"}];function os(t){let e=[],n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};for(let r=0;r<cd.length;r++){let i=cd[r],s=t.originalLeftWord+i.name+'="$1"';e.push({label:i.name,insertTextFormat:Hu.InsertTextFormat.PlainText,kind:Hu.CompletionItemKind.Field})}return e}var Dt=Q(pn());var js=class{static clear(e){this.unclosedNodes.delete(e)}static registerNodes(e,n){this.unclosedNodes.set(e,n)}static getUnclosedTags(e,n){var o,a,l;let r=[];if(this.unclosedNodes.has(e)==!1)return r;let i=this.unclosedNodes.get(e);if(i.length==0)return r;let s=n.line+1;for(let u=0;u<i.length;u++){let c=i[u];(((o=c.endPosition)==null?void 0:o.line)==s&&n.character>c.endPosition.char||s>((l=(a=c.endPosition)==null?void 0:a.line)!=null?l:0))&&r.push(c)}return r}static hasUnclosedTags(e,n){return this.unclosedNodes.has(e)==!1?!1:this.getUnclosedTags(e,n).length>0}};js.unclosedNodes=new Map;var Tb=["edit_url","id","last_modified","permalink","published","slug","template","url"];function as(t){return[{name:"edit_url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"id",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"last_modified",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"permalink",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"published",dataType:"boolean",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"slug",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"template",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t}]}var $n=Q(nn()),Nb=[{label:"name",kind:$n.CompletionItemKind.Property},{label:"description",kind:$n.CompletionItemKind.Property},{label:"desc",kind:$n.CompletionItemKind.Property},{label:"entry",kind:$n.CompletionItemKind.Property},{label:"collection",kind:$n.CompletionItemKind.Property},{label:"blueprint",kind:$n.CompletionItemKind.Property},{label:"var",kind:$n.CompletionItemKind.Property},{label:"set",kind:$n.CompletionItemKind.Property},{label:"param",kind:$n.CompletionItemKind.Property},{label:"param*",kind:$n.CompletionItemKind.Property},{label:"front",kind:$n.CompletionItemKind.Property},{label:"format",kind:$n.CompletionItemKind.Property}];var Yu=Q(ot()),nE=[{label:"if",kind:Yu.CompletionItemKind.Keyword},{label:"elseif",kind:Yu.CompletionItemKind.Keyword},{label:"else",kind:Yu.CompletionItemKind.Keyword}],vb=nE;var Yo=Q(nn()),Pb=Q(ot());var fd=class{static getCompletions(e,n){var o;let r=[],i=0;e.leftWord!=e.leftMeaningfulWord&&(i=e.leftWord.length);let s={start:{line:e.position.line,character:e.position.character-i},end:e.position};return(o=Me.instance)==null||o.getModifiersForType(n.dataType).filter(a=>a.canBeParameter).forEach(a=>{r.push({label:a.name,documentation:{kind:Pb.MarkupKind.Markdown,value:a.description},insertTextFormat:Yo.InsertTextFormat.Snippet,kind:Yo.CompletionItemKind.Value,textEdit:Yo.TextEdit.replace(s,a.name+'="$1" '),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}),r}};var pd=Q(ot()),Ko=[];Ko.push({label:"true",kind:pd.CompletionItemKind.Keyword});Ko.push({label:"false",kind:pd.CompletionItemKind.Keyword});function Ib(t){let e=[];for(let n=0;n<t.expectsTypes.length;n++)t.expectsTypes[n]=="boolean"&&(e=e.concat(Ko));return e}function ze(t){return[{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"value",introducedBy:t},{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"key",introducedBy:t}]}var rE={name:"array",augmentScope:(t,e)=>{e.addVariables(ze(t)),e.addVariables(Ye(t))}},Sb=rE;var iE={name:"bard",augmentScope:(t,e)=>{e.addVariable({name:"type",dataType:"string",sourceField:null,sourceName:"*internal.bard",introducedBy:t})},injectCompletions:(t,e,n)=>[]},Cb=iE;var sE={name:"form_multiple",augmentScope:(t,e)=>{e.addVariables(ze(t)),e.addVariables(Ye(t))}},Rb=sE;var oE={name:"list",augmentScope:(t,e)=>{e.addVariables(ze(t)),e.addVariables(Ye(t))}},Ab=oE;function xb(t){return[{name:"type",dataType:"string",sourceName:"*internal.replicator",sourceField:null,introducedBy:t}]}var aE={name:"replicator",augmentScope:(t,e)=>{e.addVariables(xb(t)),e.addVariables(Ye(t))},injectCompletions:(t,e,n)=>[]},Eb=aE;var lE={name:"select_multiple",augmentScope:(t,e)=>{e.addVariables(ze(t)),e.addVariables(Ye(t))}},wb=lE;var uE={name:"sites_multiple",augmentScope:(t,e)=>{e.addVariables(ze(t)),e.addVariables(Ye(t))}},Ob=uE;var cE={name:"structures_multiple",augmentScope:(t,e)=>{e.addVariables(ze(t)),e.addVariables(Ye(t))}},Lb=cE;var fE={name:"table",augmentScope:(t,e)=>{e.addVariable({name:"cells",dataType:"array",sourceName:"*internal.fieldtype.table",sourceField:null,introducedBy:t})}},Db=fE;var pE={name:"tags",augmentScope:(t,e)=>{e.addVariables(ze(t)),e.addVariables(Ye(t))}},kb=pE;function Ku(t){return as(t).concat([{name:"entries_count",dataType:"number",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"is_term",dataType:"boolean",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"taxonomy",dataType:"string",sourceName:"*internal.term",sourceField:null,introducedBy:t}])}var dE={name:"taxonomies_multiple",augmentScope:(t,e)=>{e.addVariables(ze(t)),e.addVariables(Ye(t)),e.addVariables(Ku(t))}},Mb=dE;var mE={name:"terms_multiple",augmentScope:(t,e)=>{e.addVariables(ze(t)),e.addVariables(Ye(t)),e.addVariables(Ku(t))}},Fb=mE;var hE={name:"user_groups_multiple",augmentScope:(t,e)=>{e.addVariables(ze(t)),e.addVariables(Ye(t))}},Vb=hE;var gE={name:"user_roles_multiple",augmentScope:(t,e)=>{e.addVariables(ze(t)),e.addVariables(Ye(t))}},qb=gE;var _E={name:"users_multiple",augmentScope:(t,e)=>{e.addVariables(ze(t)),e.addVariables(Ye(t)),e.injectBlueprint(t,"user")}},Bb=_E;var yE={name:"yaml",augmentScope:(t,e)=>{e.addVariables(ze(t)),e.addVariables(Ye(t))}},jb=yE;var bE=[Sb,Cb,Rb,Ab,Eb,wb,Ob,Lb,jb,Db,Mb,kb,Fb,Bb,Vb,qb],Ub=bE;var ls=class{constructor(){this.fieldTypes=new Map}getFieldTypes(){return this.fieldTypes}getFieldType(e){return this.fieldTypes.get(e)}registerFieldtypes(e){for(let n=0;n<e.length;n++)this.fieldTypes.set(e[n].name,e[n])}loadCoreFieldtypes(){this.registerFieldtypes(Ub)}hasFieldtype(e){return this.fieldTypes.has(e)}};ls.instance=null;(typeof ls.instance=="undefined"||ls.instance==null)&&(ls.instance=new ls,ls.instance.loadCoreFieldtypes());var $o=ls;var dd=class{static getVariableSuggestions(e,n){var i,s;let r=[];if(n.scopeVariable!=null&&n.scopeVariable.sourceField!=null&&((i=$o.instance)==null?void 0:i.hasFieldtype(n.scopeVariable.sourceField.type))){let o=(s=$o.instance)==null?void 0:s.getFieldType(n.scopeVariable.sourceField.type);o.injectCompletions!=null&&(r=o.injectCompletions(e,n.scopeVariable.sourceField,n))}return r}};var TE=["if","elseif","unless","elseunless"],NE=["else","/if"];function Gb(t,e){var l,u,c,f,m,d,p,_;let n=(u=(l=t.startPosition)==null?void 0:l.line)!=null?u:-1,r=(f=(c=t.endPosition)==null?void 0:c.line)!=null?f:1,i=(d=(m=t.startPosition)==null?void 0:m.char)!=null?d:-1,s=(_=(p=t.endPosition)==null?void 0:p.char)!=null?_:-1,o=e.line+1,a=e.character+1;return n==r&&o==n+1&&a>i&&a<=s||o==n&&a>i&&a<=s||o==r&&a<s||o>n&&o<r}function $u(t){let e="";return t.currentNode!=null&&(e=t.currentNode.getMethodNameValue()),e}function Di(t){if(t.includes(":")==!1)return t;let e=t.split(":");return e.length>1?e[e.length-1]:e[0].trim()}function zu(t){return t.includes(":")==!1?t:t.split(":")[0]}function Wb(t){var n;if(t.nodesInScope.length==0)return[];let e=t.nodesInScope[t.nodesInScope.length-1];return((n=t.context)==null?void 0:n.node)!=null&&(e=t.context.node),e.currentScope==null?[]:Us(t,e.currentScope)}function Us(t,e){let n=[];return e.values.forEach(r=>{var i;if(r.sourceField!=null?n.push({label:r.name,detail:r.sourceField.blueprintName,documentation:(i=r.sourceField.instructionText)!=null?i:"",kind:Dt.CompletionItemKind.Field}):n.push(is(r.name,"","")),r.dataType.trim().length>0&&r.dataType=="array"){let s=r.name+` }}
    $1
{{ /`+r.name+" ",o={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};n.push({label:r.name+" loop",insertTextFormat:Dt.InsertTextFormat.Snippet,kind:Dt.CompletionItemKind.Snippet,textEdit:Dt.TextEdit.replace(o,s),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}),e.lists.forEach((r,i)=>{n.push(is(i,"",""))}),n}function vE(){var e;let t=[];return(e=Me.instance)==null||e.getRegisteredModifiers().forEach(n=>{t.push(ju(n))}),t}var md=class{static getSuggestions(e){var s,o,a,l,u,c,f,m,d,p,_,C,h,b,g,N,S,V,O,$,X,ee,Y,ne,Le,de,Z,Ge,lt,Ft,Ve,ut,bi,Yi;if(e==null)return[];if(e.context!=null&&e.context.node!=null&&e.context.node.isComment)return e.context.node.antlersNodeIndex==1?Nb:[];if(e.nodesInScope.length==0)return[];if(e.leftMeaningfulWord==null&&e.leftChar=="/"){let le=js.getUnclosedTags(e.document,e.position);if(le.length>0){let ue=[],me="";e.rightChar=="}"&&(me=" ");for(let se=0;se<le.length;se++)ue.push({label:le[se].runtimeName()+me,kind:Dt.CompletionItemKind.Text});return ue}}let n=e.nodesInScope[e.nodesInScope.length-1];if(n instanceof Fs)return[];let r=[],i=!0;if(n.currentScope!=null&&((s=e.context)==null?void 0:s.variableContext)!=null&&e.context.variableContext.varPathText.length>0){if(n.currentScope.hasListInHistory(e.context.variableContext.varPathText)){let le=n.currentScope.getList(e.context.variableContext.varPathText);le!=null&&Us(e,le).forEach(ue=>{r.push({...ue,sortText:"00"})})}else if(n.currentScope.containsPath(e.context.variableContext.varPathText)){let le=n.currentScope.findNestedScope(e.context.variableContext.varPathText);le!=null&&Us(e,le).forEach(ue=>{r.push({...ue,sortText:"00"})})}}if(((o=e.context)==null?void 0:o.modifierContext)!=null&&(e.context.modifierContext.inModifierName||e.context.modifierContext.inModifierName==!1&&e.context.modifierContext.inModifierParameter==!1||e.context.feature==null||e.leftChar=="|"&&e.context.char==" ")&&(r=r.concat(vE())),e.nodesInScope.length>=2){let le=e.nodesInScope.length-2,ue=[];for(let me=le;me>=0;me--){let se=e.nodesInScope[me];ue=ue.concat(dd.getVariableSuggestions(e,se))}ue.length>0&&(r=r.concat(ue))}if((((a=e.currentNode)==null?void 0:a.isEmpty())||((l=e.context)==null?void 0:l.isCursorInIdentifier)&&e.leftChar!=":"&&e.leftChar!=" ")&&((u=e.context)==null?void 0:u.modifierContext)==null){let le=(f=(c=Ie.instance)==null?void 0:c.getVisibleTagsWithDocumentation())!=null?f:[],ue=[],me=[];for(let se=0;se<le.length;se++){let Ne="000";if(e.leftWord!=null&&le[se].label.startsWith(e.leftWord)==!1&&(Ne="001"),((m=e.context)==null?void 0:m.node)!=null&&((d=e.context)==null?void 0:d.node.parent)!=null&&(Ne=void 0),le[se].label.includes(":")==!1)ue.includes(le[se].label)==!1&&(me.push({label:le[se].label,kind:Dt.CompletionItemKind.Text,documentation:{kind:"markdown",value:le[se].documentation},sortText:Ne}),ue.push(le[se].label));else{let Nt=le[se].label.split(":")[0];ue.includes(Nt)==!1&&(me.push({label:Nt,kind:Dt.CompletionItemKind.Text,documentation:{kind:"markdown",value:le[se].documentation},sortText:Ne}),ue.push(Nt))}}r=r.concat(me)}if(n!=null&&n.currentScope!=null){if(NE.includes(n.getTagName()))return[];if(((p=e.context)==null?void 0:p.node)==null)return[];if(e.antlersDocument!=null){let le=e.antlersDocument.cursor.getAssignmentsBefore(e.position.line,e.position.character);le.length>0&&le.forEach(ue=>{ue.target instanceof oe&&r.push({label:ue.target.name,kind:Dt.CompletionItemKind.Variable})})}if(TE.includes(n.getTagName())&&e.context.feature!=null&&e.context.feature instanceof bt&&e.context.feature.prev instanceof Nn&&e.context.feature.prev.prev instanceof oe){let le=n.getParser();if(le!=null&&e.project!=null&&le.getLanguageParser().isMergedVariableComponent(e.context.feature.prev.prev)){let me=le.getLanguageParser().getMergedVariable(e.context.feature.prev.prev),se=[];return me.name=="collection:handle"?se=e.project.getUniqueCollectionNames():me.name=="site:handle"?se=e.project.getSiteNames():me.name=="blueprint:handle"&&(se=e.project.getBlueprintNames()),se.forEach(Ne=>{r.push({label:Ne,sortText:Ne,kind:Dt.CompletionItemKind.EnumMember})}),r}if(["collection","current_template","status","blueprint","response_code"].includes(e.context.feature.prev.prev.name)){if(e.project!=null){let me=e.context.feature.prev.prev.name,se=[];return me=="collection"?se=e.project.getUniqueCollectionNames():me=="current_template"?se=e.project.getTemplateNames():me=="status"?se=["draft","scheduled","expired","published"]:me=="blueprint"?se=e.project.getBlueprintNames():me=="response_code"&&(se=["404","200"]),se.forEach(Ne=>{r.push({label:Ne,sortText:Ne,kind:Dt.CompletionItemKind.EnumMember})}),r}}else if(e.context.feature.prev.prev.scopeVariable!=null){let me=e.context.feature.prev.prev.scopeVariable.dataType;if(me=="replicator"||me=="bard"){let se=e.context.feature.prev.prev.scopeVariable.sourceField;return(_=se.sets)==null||_.forEach(Ne=>{let Nt="**"+Ne.displayName+"** `"+Ne.handle+"`  ";Nt+=`

 Blueprint: \``+se.blueprintName+"`  \n",Ne.fields.forEach(Nr=>{Nt+=`
 * `+Nr.displayName+" `"+Nr.name+":"+Nr.type+"`  "}),me=="replicator"?Nt+=`

 [Replicator Templating Documentation](https://statamic.dev/fieldtypes/replicator#templating)`:Nt+=`

 [Bard Templating Documentation](https://statamic.dev/fieldtypes/bard#with-sets)`,r.push({label:Ne.displayName,insertText:Ne.handle,sortText:"000",documentation:{kind:"markdown",value:Nt},kind:Dt.CompletionItemKind.EnumMember})}),r}}}if(n.isTagNode==!1){r=r.concat(vb);let le={start:{line:e.position.line,character:e.position.character-e.originalLeftWord.length},end:e.position},ue=`if $1 }}
    $2
{{ else }}

{{ /if `;r.push({label:"ifelse",insertTextFormat:Dt.InsertTextFormat.Snippet,kind:Dt.CompletionItemKind.Snippet,textEdit:Dt.TextEdit.replace(le,ue),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}),n.scopeVariable!=null&&(r=r.concat(fd.getCompletions(e,n.scopeVariable)))}if(n.currentScope.hasListInHistory(n.runtimeName())==!1&&n.currentScope.hasPristineReference(n.runtimeName())==!1?i=(h=(C=Ie.instance)==null?void 0:C.injectParentScope(n.runtimeName()))!=null?h:!1:i=!1,((b=e.context)==null?void 0:b.parameterContext)!=null&&e.context.parameterContext.parameter!=null&&(e.context.parameterContext.parameter.isVariableReference==!1?i=!1:i=!0),e.currentNode!=null&&(e.currentNode.isEmpty()||e.currentNode.parent!=null)&&(i=!0),n.runtimeName().includes(":")&&n.currentScope.containsPath(Er(n.runtimeName(),":"))){let le=Er(n.runtimeName(),":"),ue=ar(Er(e.leftWord,":"),"{");if(le==ue){let me=n.currentScope.findNestedScope(le);if(me!=null)return me.lists.forEach((se,Ne)=>{r.push(is(Ne,"",""))}),me.values.forEach(se=>{var Ne;se.sourceField!=null?r.push({label:se.name,detail:se.sourceField.blueprintName,documentation:(Ne=se.sourceField.instructionText)!=null?Ne:"",kind:Dt.CompletionItemKind.Field}):r.push(is(se.name,"",""))}),r}}if(n.isTagNode){if(e.isInVariableInterpolation&&e.currentNode==null)r=r.concat(Us(e,n.currentScope.ancestor()));else if(((g=e.context)==null?void 0:g.parameterContext)!=null&&e.context.parameterContext.parameter!=null){let le=e.context.parameterContext.parameter;if(le.isVariableReference&&e.position.character<=((V=(S=(N=le.valuePosition)==null?void 0:N.end)==null?void 0:S.char)!=null?V:-1)){if(r=r.concat(Us(e,n.currentScope.ancestor())),Ie.instance!=null){let ue=Ie.instance.getCompletionItems(e);r=r.concat(ue.items)}}else if(e.position.character<=((X=($=(O=le.valuePosition)==null?void 0:O.end)==null?void 0:$.char)!=null?X:-1)){let ue=null,me=!1;if((ee=Ie.instance)==null?void 0:ee.canResolveDynamicParameter(n.runtimeName())){let se=Ie.instance.findTag(n.runtimeName());typeof se!="undefined"&&typeof se.resolveDynamicParameter!="undefined"&&se.resolveDynamicParameter!=null&&(ue=se.resolveDynamicParameter(n,le.name),me=!0)}else ue=(ne=(Y=Ie.instance)==null?void 0:Y.getParameter(n.runtimeName(),le.name))!=null?ne:null;if(ue==null&&me&&(ue=(de=(Le=Ie.instance)==null?void 0:Le.getParameter(n.runtimeName(),le.name))!=null?de:null),typeof ue!="undefined"&&ue!==null){let se=(Ge=(Z=Ie.instance)==null?void 0:Z.resolveParameterCompletions(n.runtimeName(),ue,e))!=null?Ge:null;se!==null&&se.items.length>0?se.items.forEach(Ne=>{Ne.sortText="000",r.push(Ne)}):Ib(ue).forEach(Ne=>{Ne.sortText="000",r.push(Ne)})}if(le.hasInterpolations()&&e.isInVariableInterpolation&&n.isTagNode){let se=(lt=Ie.instance)==null?void 0:lt.findTag(n.runtimeName());if(se.resolveCompletionItems!=null){let Ne=se.resolveCompletionItems(e);Ne.items.length>0&&(r=Ne.items)}}}}else if(e.isInVariableInterpolation==!1||e.currentNode==n){let le=Gb(n,e.position);if(e.isCaretInTag=le,e.currentNode=n,Ie.instance!=null){let ue=Ie.instance.getCompletionItems(e);ue.isExclusive?r=ue.items:r=r.concat(ue.items)}}}else e.isInVariableInterpolation&&e.currentNode==null&&(r=r.concat(Us(e,n.currentScope.ancestor())));if(i){e.context.node!=null&&e.context.node.currentScope!=null&&(e.context.modifierContext==null||e.context.modifierContext.activeModifier==null)&&(r=r.concat(Us(e,e.context.node.currentScope)));let le=decodeURIComponent(e.document);if(e.project.hasViewCollectionInjections(le)){let ue=e.project.getCollectionNamesForView(le);for(let me=0;me<ue.length;me++){let se=e.project.getBlueprintFields(ue);if(se.length>0)for(let Ne=0;Ne<se.length;Ne++){let Nt=se[Ne];r.push({label:Nt.name,detail:Nt.blueprintName,documentation:(Ft=Nt.instructionText)!=null?Ft:"",kind:Dt.CompletionItemKind.Field})}}Tb.forEach(me=>{r.push({label:me,kind:Dt.CompletionItemKind.Field})})}}return e.context.node!=null&&(e.context.node.manifestType=="array"&&e.context.node.isClosedBy!=null?e.context.modifierContext!=null&&((ut=(Ve=Me.instance)==null?void 0:Ve.getModifiersForType("array"))!=null?ut:[]).forEach(ue=>{let me=ju(ue);me.sortText="000",r.push(me)}):e.context.modifierContext!=null&&((Yi=(bi=Me.instance)==null?void 0:bi.getModifiersForType(e.context.node.manifestType))!=null?Yi:[]).forEach(ue=>{let me=ju(ue);me.sortText="000",r.push(me)})),r}for(let le=0;le<e.nodesInScope.length;le++){let ue=e.nodesInScope[le],me=!0;if(e.isInVariableInterpolation&&e.currentNode!==null&&ue.currentScope!=null&&e.currentNode.currentScope!=null&&ue.currentScope.generation>e.currentNode.currentScope.generation&&(me=!1),ue.isTagNode&&me){let se=Gb(ue,e.position);if(e.isCaretInTag=se,e.currentNode=ue,Ie.instance!=null){let Ne=Ie.instance.getCompletionItems(e);if(Ne.isExclusive){r=Ne.items;break}r=r.concat(Ne.items)}continue}}return r}};var Hb=Q(nn());function be(t){let e="";typeof t!="undefined"&&typeof t.resolveDocumentation!="undefined"&&t.resolveDocumentation!=null&&(e=t.resolveDocumentation());let n=t.tagName;if(n.includes(":")){let r=n.split(":");n=r[r.length-1]}return{label:n,kind:Hb.CompletionItemKind.Text,sortText:"1",documentation:{kind:"markdown",value:e}}}var hd=Q(ot());function Yb(t,e,n){return{name:t,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:e,expectsTypes:["string"],isDynamic:!0,isRequired:!1,documentationLink:n,docLinkName:"MDN Reference"}}var Kb=Yb("class","A space-separated list of the classes of the element.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/class"),$b=Yb("style","Contains CSS styling declarations to be applied to the element. Note that it is recommended for styles to be defined in a separate file or files.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/style");function Xu(t){return t=="class"?Kb:t=="style"?$b:{name:t,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"",expectsTypes:["string","number","array"],isRequired:!1,isDynamic:!0}}function zb(t){let e=[];for(let n=0;n<t.length;n++)e.push({label:t[n],kind:hd.CompletionItemKind.Field});return te(e)}function pt(t){let e=[];for(let n=0;n<t.length;n++)e.push({label:t[n],kind:hd.CompletionItemKind.Field});return te(e)}function te(t){return{items:t,isExclusiveResult:!0,analyzeDefaults:!1}}function dn(t){return{items:t,isExclusiveResult:!1,analyzeDefaults:!0}}var he={items:[],isExclusiveResult:!1,analyzeDefaults:!0};function et(t,e){let n=PE(t);return n.tagName=e,n}function PE(t){return{allowsArbitraryParameters:t.allowsArbitraryParameters,allowsContentClose:t.allowsContentClose,injectParentScope:t.injectParentScope,parameters:t.parameters,requiresClose:t.requiresClose,tagName:t.tagName,introducedIn:t.introducedIn,hideFromCompletions:t.hideFromCompletions,augmentScope:t.augmentScope,requiresCloseResolver:t.requiresCloseResolver,resolveCompletionItems:t.resolveCompletionItems,resolveDynamicParameter:t.resolveDynamicParameter,resolveSpecialType:t.resolveSpecialType,resovleParameterCompletionItems:t.resovleParameterCompletionItems,suggestAlternativeParams:t.suggestAlternativeParams,resolveDocumentation:t.resolveDocumentation}}function Xb(t){return t.findParameterValueOrNull("scope")}function Qb(t){t.getAllNodes().forEach(n=>{n instanceof B&&n.manifestType==="array"&&(n.mustClose=!0)})}function IE(t){return t.findParameterValueOrNull("as")}var SE=["count","next","previous"];function CE(t,e){let n=[];if(t.hasMethodPart()){let a=t.getMethodNameValue();if(SE.includes(a)==!1)return n.push(a),n}let r=t.findAnyParameter(db),i=t.findAnyParameter(mb),s=[],o=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueCollectionNames(),typeof i!="undefined"&&i!==null&&i.isVariableReference==!1&&i.hasInterpolations()==!1&&(o=i.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),o.length>0?n=s.filter(function(a){return o.includes(a)==!1}):n=s,n}function us(t,e){var u,c,f,m,d,p;let n=CE(t,e),r=!1,i=!1,s=!1,o=null,a="";if(t.isClosingTag==!1){let _=IE(t),C=Xb(t);_!=null&&(r=!0,a=_),C!=null&&(s=!0,o=C),i=t.hasParameter("paginate")}return{context:{collectionNames:n!=null?n:[],endPosition:(c=(u=t.endPosition)==null?void 0:u.char)!=null?c:0,aliasName:a,isAliased:r,isScoped:s,scopeName:o,isStartOfScope:!t.isClosingTag,line:(m=(f=t.startPosition)==null?void 0:f.line)!=null?m:0,startPosition:(p=(d=t.startPosition)==null?void 0:d.char)!=null?p:0,isPaginated:i,excludeCollections:[],includeCollections:[]},issues:[]}}function zo(t,e){if(t==null)return null;let n=ar(e,":");return n.includes(":")&&(n=n.split(":")[0]),n=="status"||n=="taxonomy"||t.currentScope!=null&&t.currentScope.containsReference(n)?Xu(e):null}var RE=["from","folder","use","not_from","not_folder"],AE=["previous","next"],xE=["in","collection"];function cs(t,e){var n,r,i,s,o,a,l,u,c,f;if(t.isDynamic){let m=zu(t.name);if(e.nodesInScope.length>0){let d=e.nodesInScope[e.nodesInScope.length-1];if(d!=null&&d.currentScope!=null){let p=Go(d,d.currentScope),_=p.map(h=>h.name),C=Di(e.leftWord);if(_.includes(C))return te(os(e))}}if(m=="status"&&((n=e.context)==null?void 0:n.parameterContext)!=null)return te(_b((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[]));if(m=="taxonomy"){let d=Di(t.name);if(e.project.hasTaxonomy(d)&&((s=e.context)==null?void 0:s.parameterContext)!=null)return te(yb((a=(o=e.context.parameterContext.parameter)==null?void 0:o.getArrayValue())!=null?a:[],d,e.project))}}if(t.name=="filter"||t.name=="query_scope")return te(Wu(e.project));if(e.nodesInScope.length>0){let m=e.nodesInScope[e.nodesInScope.length-1];if(m.hasMethodPart()&&AE.includes(m.getMethodNameValue())&&xE.includes(t.name))return te(bb(e.project))}return RE.includes(t.name)&&((l=e.context)==null?void 0:l.parameterContext)!=null?te(Wo((f=(c=(u=e.context)==null?void 0:u.parameterContext.parameter)==null?void 0:c.getArrayValue())!=null?f:[],e.project)):null}var EE={tagName:"collection:previous",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...ss,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:Ho,resolveDynamicParameter:zo,resolveSpecialType:us,suggestAlternativeParams:Uo,resovleParameterCompletionItems:cs,resolveCompletionItems:Xo,resolveDocumentation:t=>Ee("collection:previous Tag","The `collection:previous` tag is used to show the entries that appear before the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the previous two entries, based on dates in ascending order. #}}
{{ collection:previous in="articles" limit="2" sort="date:asc" }}

{{ /collection:previous }}`,"https://statamic.dev/tags/collection-previous")},Gs=EE;var Qu=et(Gs,"collection:older"),Ju=et(Gs,"collection:newer");var wE={tagName:"collection:count",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...ss,{isRequired:!0,name:"in",aliases:["from"],description:"The collection from which to count entries",acceptsVariableInterpolation:!0,allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:us,resovleParameterCompletionItems:cs,resolveDocumentation:t=>Ee("collection:count Tag","The `collection:count` tag returns the total number of entries in the specified collection(s). The collection count tag accepts the same parameters as the collection tag, allowing developers to count entries that meet specific conditions.",`Total entry count: {{ collection:count in="collection-name" }}
Draft count: {{ collection:count in="collection-name" status:in="draft" }}`,"https://statamic.dev/tags/collection-count")},Zu=wE;var OE={tagName:"collection:next",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...ss,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:Ho,resolveDynamicParameter:zo,resolveSpecialType:us,suggestAlternativeParams:Uo,resovleParameterCompletionItems:cs,resolveCompletionItems:Xo,resolveDocumentation:t=>Ee("collection:next Tag","The `collection:next` tag is used to show the entries that will appear after the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the next two entries, based on dates in ascending order. #}}
{{ collection:next in="articles" limit="2" sort="date:asc" }}

{{ /collection:next }}`,"https://statamic.dev/tags/collection-next")},ec=OE;function Xo(t){var n,r;let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="collection"||t.leftWord=="/collection")&&t.leftChar==":"){let i=t.project.getCollectionNames();for(let s=0;s<i.length;s++)e.push({label:i[s],kind:pl.CompletionItemKind.Field,sortText:"0"});return e.push(be(Zu)),e.push(be(ec)),e.push(be(Gs)),e.push(be(Qu)),e.push(be(Ju)),{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}if(t.currentNode!=null&&t.currentNode.currentScope!=null){let i=Go(t.currentNode,t.currentNode.currentScope),s=i.map(a=>a.name),o=Di(t.leftWord);if(o==="taxonomy")return te(gb(t));if(s.includes(o))return e=os(t),te(e);if(t.isCaretInTag&&!((n=t.context)==null?void 0:n.isInParameter)&&["collection","/collection"].includes(t.leftWord)==!1&&t.leftChar!=" "){let a=[];for(let l=0;l<i.length;l++){let u=i[l];a.includes(u.name)==!1&&(e.push({label:u.name,detail:u.blueprintName,documentation:(r=u.instructionText)!=null?r:"",kind:pl.CompletionItemKind.Field}),a.push(u.name))}if(e.push({label:"taxonomy",insertText:"taxonomy:",kind:pl.CompletionItemKind.Field}),e.push({label:"status",insertText:"status:",kind:pl.CompletionItemKind.Field}),e.length>0)return dn(e)}}return he}var LE={tagName:"collection",hideFromCompletions:!1,introducedIn:null,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:ss,augmentScope:Ho,resolveDynamicParameter:zo,resolveSpecialType:us,suggestAlternativeParams:Uo,resovleParameterCompletionItems:cs,resolveCompletionItems:Xo,resolveDocumentation:t=>Ee("collection Tag","The `collection` tag provides access to entry data such as blog posts, products, etc.",`{{ collection:articles as="posts" }}

	{{ posts }}
		{{ title }}
	{{ /posts }}

{{ /collection:articles }}`,"https://statamic.dev/tags/collection")},Jb=LE;var DE={tagName:"cache",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,allowsContentClose:!1,allowsArbitraryParameters:!1,resovleParameterCompletionItems:(t,e)=>t.name=="scope"?pt(["page","site"]):null,parameters:[{isRequired:!1,name:"for",description:"The duration the cache is valid for",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"key",description:"An arbitrary name the cache entry may be referenced by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"scope",description:" The scope of the cached value. Either site or page.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:(t,e)=>{let n=t.findParameter("key"),r=null;if(n!=null){let i=n.value;i.trim().length>0&&(r={key:i,reference:t})}return{context:r,issues:[]}},resolveDocumentation:t=>Ee("cache Tag","The `cache` tag can be used to save the results of an expensive template operation. The duration of the cache can be configured.",`{{ cache for="10 minutes" }}
    {{# Template code that won't be re-rendered for at least 10 minutes. #}}
{{ /cache }}`,"https://statamic.dev/tags/cache")},Zb=DE;var kE={tagName:"dump",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.leftWord=="dump"&&t.leftChar==":"?te(Wb(t)):he,resolveDocumentation:t=>Ee("dump Tag","The `dump` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered.",`{{ collection:articles }}
	{{# View all data available, for each entry. #}}
    {{ dump }}
{{ /collection:articles }}`,"https://statamic.dev/tags/dump")},eT=kE;var ME={tagName:"404",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Ee("404 (Not Found) Tag","The `404` (Not Found) tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ 404 }}
{{ /unless }}`,"https://statamic.dev/tags/404")},tT=ME;var FE={tagName:"link",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The relative path",expectsTypes:["string"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!0,isDynamic:!1},{name:"absolute",description:"Whether to generate absolute URLs. Default false",expectsTypes:["boolean"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1},{name:"id",description:"The ID of the entry to link to",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1},{name:"in",description:"The handle of the site to link to.",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>k("link Tag","The `link` tag accepts relative URLs or entry IDs and generates fully-qualified URLs to the desired content.","https://statamic.dev/tags/link")},nT=FE;var rT={tagName:"loop",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>k("loop Tag","The `loop` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")},iT={tagName:"range",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>k("range Tag","The `range` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")};var zn=Q(nn());function je(t,e){return e.trim().length>0?Xu(e):null}var Qo=[{isRequired:!1,name:"src",description:"The name of the partial view",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1}];var dl=Q(nn());function Jo(t,e){var n;if(t.isDynamic&&e.currentNode!=null&&e.currentNode.getTagName()=="partial"&&e.currentNode.hasMethodPart()){let r=e.currentNode.getMethodNameValue();if(r.trim().length>0&&((n=ce.instance)==null?void 0:n.hasStructure())){let i=ce.instance.getStructure().findRelativeView(r);if(i!=null&&i.varReferenceNames.has(t.name)){let s=i.varReferenceNames.get(t.name);if(i.document!=null&&i.document.hasFrontMatter()){let o=i.document.getFrontMatterScope();if(o!=null){let a=o.getList(s);if(a!=null)return zb(a.getVariableNames())}}}}}if(t.name=="src"){let r=e.project.getViews(),i=[];return r.forEach(s=>{if(si.hasDetails(s.documentUri)){let o=si.documentDetails.get(s.documentUri);i.push({label:o.documentName+"("+s.relativeDisplayName+")",insertText:s.relativeDisplayName,detail:o.documentName,documentation:{kind:dl.MarkupKind.Markdown,value:o.documentDescription},kind:dl.CompletionItemKind.File})}else i.push({label:s.relativeDisplayName,kind:dl.CompletionItemKind.File})}),te(i)}return null}var VE={tagName:"partial:exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:Qo,introducedIn:"3.2.7",resovleParameterCompletionItems:Jo,resolveDocumentation:t=>k("partial:exists Tag","The `partial:exists` can be used within conditional statements to test if a partial exists.","https://statamic.dev/tags/partial-exists")},tc=VE;var qE={tagName:"partial:if_exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:Qo,introducedIn:"3.2.7",resovleParameterCompletionItems:Jo,resolveDocumentation:t=>k("partial:if_exists Tag","The `partial:if_exists` can be used to output the contents of a partial if it exists.","https://statamic.dev/tags/partial-if-exists")},nc=qE;function Zo(t){if(t.getTagName()!="partial")return null;let e="";if(t.hasMethodPart())e=t.getMethodNameValue();else{let n=t.findParameter("src");n!=null&&(e=n.value)}return e}var BE=[be(tc),be(nc)],jE={tagName:"partial",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!0,parameters:Qo,requiresClose:!1,allowsContentClose:!0,introducedIn:null,resolveDocumentation:t=>`**Partial Tag**  
Includes another view into the current template.  

[Documentation Reference](https://statamic.dev/tags/partial)
`,resolveDynamicParameter:je,resovleParameterCompletionItems:Jo,resolveCompletionItems:t=>{let e=[];if(t.leftChar=='"'&&t.leftWord==':src="')return{items:[],analyzeDefaults:!0,isExclusiveResult:!1};if((t.leftWord=="partial"||t.leftWord=="/partial")&&t.leftChar==":"||t.leftWord=='src="'&&t.leftChar=='"')return t.project.getViews().forEach(r=>{let i=decodeURIComponent(r.documentUri);if(si.hasDetails(i)){let s=si.documentDetails.get(i);e.push({label:s.documentName+"("+r.relativeDisplayName+")",insertText:r.relativeDisplayName,detail:s.documentName,documentation:{kind:zn.MarkupKind.Markdown,value:s.documentDescription},kind:zn.CompletionItemKind.File})}else e.push({label:r.relativeDisplayName,kind:zn.CompletionItemKind.File})}),t.leftWord!='src="'&&(e=e.concat(BE)),{analyzeDefaults:!1,isExclusiveResult:!0,items:e};if(t.currentNode!=null&&t.project!=null){let n=Zo(t.currentNode);if(n!=null&&n.trim().length>0){let r=t.project.findRelativeView(n);if(r!=null&&Se.hasDocument(r.documentUri)){let i=Se.getDocument(r.documentUri);if(i!=null){let s=i.getAllAntlersNodes(),o=UE(s),a=[];r.varReferenceNames!=null&&r.varReferenceNames.forEach((u,c)=>{o.push(c)});let l=[];if(r.injectsParameters.length>0){let u={start:{line:t.position.line,character:t.position.character-0},end:t.position};r.injectsParameters.forEach(c=>{let f=c.name+'="$1"';a.includes(c.name)||(a.push(c.name),l.push({label:c.name,kind:zn.CompletionItemKind.Value,insertTextFormat:zn.InsertTextFormat.Snippet,textEdit:zn.TextEdit.replace(u,f),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}if(o.length>0){let u={start:{line:t.position.line,character:t.position.character-0},end:t.position};o.forEach(c=>{let f=c+'="$1"';a.includes(c)||(a.push(c),l.push({label:c,kind:zn.CompletionItemKind.Value,insertTextFormat:zn.InsertTextFormat.Snippet,textEdit:zn.TextEdit.replace(u,f),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}return dn(l)}}}}return{analyzeDefaults:!0,isExclusiveResult:!1,items:[]}}};function UE(t){let e=[];return t.forEach(n=>{if(n.isTagNode||n.isClosingTag||n.isComment||n.hasMethodPart()&&n.getMethodNameValue().length>0||n.name!=null&&n.name.content.includes("["))return;let r=n.getTagName();!e.includes(r)&&r!="#"&&r!="slot"&&e.push(r)}),e}var sT=jE;var GE={tagName:"increment:reset",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:"3.2.28",parameters:[{isRequired:!0,name:"counter",aliases:[],description:"The incrementing counter to reset",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"to",aliases:[],description:"An optional value to reset the counter to before incrementing starts again",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveDocumentation:t=>Ee("increment:reset Tag","The `increment:reset` tag can be used to reset the value of an incrementing counter.",`{{ array_variable }}
    {{ increment:counter_name }}
{{ /array_variable }}

{{ increment:reset counter="counter_name" }}
`,null)},rc=GE;var WE=[be(rc)],HE={tagName:"increment",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!1,name:"from",aliases:[],description:"The number to start incrementing by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"by",aliases:[],description:"The number to increment by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveCompletionItems:t=>t.leftWord=="increment"||t.leftWord=="/increment"&&t.leftChar==":"?te(WE):he,resolveDocumentation:t=>k("increment Tag","The `increment` tag can be used to increment a value each time the tag is encountered.","https://statamic.dev/tags/increment")},oT=HE;var ml=class{constructor(e){this.node=e}},aT={tagName:"yields",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new ml(t),issues:[]})},lT={tagName:"yield",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new ml(t),issues:[]}),resolveDocumentation:t=>k("yield Tag","The `yield` tag may be used to push rendered content to named regions within a template's structure.","https://statamic.dev/tags/yield")};var ic=Q(ot());var uT=[{handle:"access cp"},{handle:"configure collections"},{handle:"[view edit create delete publish reorder] {collection} entries"},{handle:"configure structures"},{handle:"[view edit] {structure} structure"},{handle:"edit {global} globals"},{handle:"[view upload edit move rename delete] {container} assets"},{handle:"[view perform] updates"},{handle:"[view edit create delete] users"},{handle:"change passwords"},{handle:"edit roles"},{handle:"configure forms"},{handle:"[view delete] {form} submissions"}];var fs=class{constructor(){this.contextItems=new Map;this.triggerNames=[];this.collectionTriggers=[];this.collectionTriggerCaps=[];this.globalTriggers=[];this.globalTriggerCaps=[];this.formTriggers=[];this.formTriggerCaps=[];this.structureTriggers=[];this.structureTriggerCaps=[];this.assetTriggers=[];this.assetTriggerCaps=[]}getCollectionTriggerCaps(){return this.collectionTriggerCaps}getGlobalTriggerCaps(){return this.globalTriggerCaps}getFormTriggerCaps(){return this.formTriggerCaps}getStructureTriggerCaps(){return this.structureTriggerCaps}getAssetTriggerCaps(){return this.assetTriggerCaps}loadCorePermissions(){this.registerPermissions(uT)}getTriggerNames(){return this.triggerNames}isCollectionTrigger(e){return this.collectionTriggers.includes(e)}isGlobalTrigger(e){return this.globalTriggers.includes(e)}isFormTrigger(e){return this.formTriggers.includes(e)}isStructureTrigger(e){return this.structureTriggers.includes(e)}isAssetTrigger(e){return this.assetTriggers.includes(e)}getTriggerContextItems(e){return this.contextItems.has(e)?this.contextItems.get(e):[]}registerSpecialTrigger(e,n,r){n=="{collection}"?(this.collectionTriggerCaps.includes(r)==!1&&this.collectionTriggerCaps.push(r),this.collectionTriggers.includes(e)==!1&&this.collectionTriggers.push(e)):n=="{structure}"?(this.structureTriggerCaps.includes(r)==!1&&this.structureTriggerCaps.push(r),this.structureTriggers.includes(e)==!1&&this.structureTriggers.push(e)):n=="{container}"?(this.assetTriggerCaps.includes(r)==!1&&this.assetTriggerCaps.push(r),this.assetTriggers.includes(e)==!1&&this.assetTriggers.push(e)):n=="{global}"?(this.globalTriggerCaps.includes(r)==!1&&this.globalTriggerCaps.push(r),this.globalTriggers.includes(e)==!1&&this.globalTriggers.push(e)):n=="{form}"&&(this.formTriggerCaps.includes(r)==!1&&this.formTriggerCaps.push(r),this.formTriggers.includes(e)==!1&&this.formTriggers.push(e))}addContextToTrigger(e,n){var r;this.triggerNames.includes(e)==!1&&this.triggerNames.push(e),this.contextItems.has(e)==!1?this.contextItems.set(e,[n]):(r=this.contextItems.get(e))==null||r.push(n)}registerPermissions(e){for(let n=0;n<e.length;n++){let r=e[n],i=[],s="",o="";if(r.handle.includes("[")&&r.handle.includes("]")){let a=r.handle.indexOf("["),l=r.handle.indexOf("]"),u=l-a,c=r.handle.substr(a+1,u-1).split(" ").filter(m=>m.trim().length>0),f=r.handle.substr(l+1).split(" ").filter(m=>m.trim().length>0);i=c,f.length==2?(s=f[0],o=f[1]):f.length==1&&(s="",o=f[0])}else{let a=r.handle.split(" ").filter(l=>l.trim().length>0);a.length==2&&(i=[a[0]],o=a[1])}for(let a=0;a<i.length;a++){let l=i[a];s.trim().length>0?this.registerSpecialTrigger(l,s,o):this.addContextToTrigger(l,o)}}}};fs.instance=null;(typeof fs.instance=="undefined"||fs.instance==null)&&(fs.instance=new fs,fs.instance.loadCorePermissions());var Xn=fs;function cT(t,e){var r,i,s,o,a,l,u,c,f,m,d,p,_,C,h,b,g,N,S;let n=[];if(t.trim().length==0){let V=(i=(r=Xn.instance)==null?void 0:r.getTriggerNames())!=null?i:[];for(let O=0;O<V.length;O++)n.push({label:V[O],kind:ic.CompletionItemKind.Value})}else{let V=t.split(" ").filter(Z=>Z.trim().length>0),O=V[0],$=(o=(s=Xn.instance)==null?void 0:s.getTriggerContextItems(O))!=null?o:[],X=(a=Xn.instance)==null?void 0:a.isCollectionTrigger(O),ee=(l=Xn.instance)==null?void 0:l.isGlobalTrigger(O),Y=(u=Xn.instance)==null?void 0:u.isFormTrigger(O),ne=(c=Xn.instance)==null?void 0:c.isStructureTrigger(O),Le=(f=Xn.instance)==null?void 0:f.isAssetTrigger(O),de=[];if(V.length<=2){X?de=de.concat(e.project.getUniqueCollectionNames()):ee?de=de.concat(e.project.getUniqueGlobalsNames()):Y?de=de.concat(e.project.getUniqueFormNames()):ne?de=de.concat(e.project.getUniqueNavigationMenuNames()):Le&&(de=de.concat(e.project.getUniqueAssetNames())),$.length>0&&(de=de.concat($)),de=[...new Set(de)];for(let Z=0;Z<de.length;Z++)n.push({label:de[Z],kind:ic.CompletionItemKind.Value})}else{let Z=[];X?Z=Z.concat((d=(m=Xn.instance)==null?void 0:m.getCollectionTriggerCaps())!=null?d:[]):ee?Z=Z.concat((_=(p=Xn.instance)==null?void 0:p.getGlobalTriggerCaps())!=null?_:[]):Y?Z=Z.concat((h=(C=Xn.instance)==null?void 0:C.getFormTriggerCaps())!=null?h:[]):ne?Z=Z.concat((g=(b=Xn.instance)==null?void 0:b.getStructureTriggerCaps())!=null?g:[]):Le&&(Z=Z.concat((S=(N=Xn.instance)==null?void 0:N.getAssetTriggerCaps())!=null?S:[])),Z=[...new Set(Z)];for(let Ge=0;Ge<Z.length;Ge++)n.push({label:Z[Ge],kind:ic.CompletionItemKind.Value})}}return n}function sc(t,e){var r,i,s,o;let n=zu(t.name);return((r=e.context)==null?void 0:r.parameterContext)!=null&&["do","permission"].includes(n)?te(cT((o=(s=(i=e.context)==null?void 0:i.parameterContext.parameter)==null?void 0:s.value)!=null?o:"",e)):null}var YE={tagName:"user:can",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:sc,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>k("user:can Tag","The `user:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can")},ea=YE;var KE={tagName:"user:logout",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>k("user:logout Tag","The `user:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout")},ta=KE;var $E={tagName:"user:logout_url",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>Ee("user:logout_url","The `user:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ user:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url")},na=$E;var fT={tagName:"switch",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>k("switch Tag","The `switch` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")},pT={tagName:"rotate",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,introducedIn:null,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>k("rotate Tag","The `rotate` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")};var zE={tagName:"oauth",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"provider",description:"The OAuth provider to be used",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]},{name:"redirect",description:"The URL to be taken to after authenticating",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resovleParameterCompletionItems:(t,e)=>t.name=="provider"?pt(e.project.getOAuthProviders()):null,resolveDocumentation:t=>Ee("oauth Tag","The `oauth` tag can be used to generate login URls for various third-party services.",'<a href="{{ oauth provider="github" }}">Sign In with Github</a>',"https://statamic.dev/tags/oauth")},dT=zE;var XE={tagName:"session:dump",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>k("session:dump Tag","The `session:dump` tag will display the contents of the user's session to the browser. This tag behaves similarly to the `dd` helper functions, but returns just the session data.","https://statamic.dev/tags/session-dump")},oc=XE;var Ws=class{constructor(e){this.node=e}};var QE={tagName:"session:set",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:null,resolveDynamicParameter:je,resolveSpecialType:(t,e)=>({context:new Ws(t),issues:[]}),resolveDocumentation:t=>k("session:set Tag","The `session:set` tag is used to add new data to the user's session.","https://statamic.dev/tags/session-set")},ac=QE;var Hs=class{constructor(){this.knownVariables=new Map}registerDocumentSessionVariables(e,n){this.knownVariables.has(e)||this.knownVariables.set(e,new Map);let r=this.knownVariables.get(e);r.clear();for(let i=0;i<n.length;i++){let s=n[i].node;if(s.hasParameters)for(let o=0;o<s.parameters.length;o++){let a=s.parameters[o];r.set(a.name,n[i])}}}getKnownSessionVariableNames(){let e=[];return this.knownVariables.forEach(n=>{n.forEach((r,i)=>{e.includes(i)==!1&&e.push(i)})}),e}};Hs.instance=null;(typeof Hs.instance=="undefined"||Hs.instance==null)&&(Hs.instance=new Hs);var Ys=Hs;var mT=Q(ot());function hT(t,e){let n=[],r=t.getArrayValue(),i=e.filter(s=>!r.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:mT.CompletionItemKind.Variable});return te(n)}var JE={tagName:"session:forget",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"keys",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The session keys to clear",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;if(t.name=="keys"&&((n=e.context)==null?void 0:n.parameterContext)!=null){let s=(i=(r=Ys.instance)==null?void 0:r.getKnownSessionVariableNames())!=null?i:[];if(e.context.parameterContext.parameter!=null)return hT(e.context.parameterContext.parameter,s)}return null},resolveDocumentation:t=>k("session:forget Tag","The `session:forget` tag is used to remove variables from the user's session.","https://statamic.dev/tags/session-forget")},lc=JE;var ZE={tagName:"session:flush",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>k("session:flush Tag","The `session:flush` tag will clear all values from the visitor's session. If the visitor is currently signed in they will also be signed out.","https://statamic.dev/tags/session-flush")},uc=ZE;var ew={tagName:"session:flash",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:je,resolveSpecialType:(t,e)=>({context:new Ws(t),issues:[]}),resolveDocumentation:t=>k("session:flash Tag","The `session:flash` tag can be used to add a value to the user's session. Flashed values only persist for a single request, and are then removed.","https://statamic.dev/tags/session-flash")},cc=ew;var tw={tagName:"markdown:indent",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>k("markdown:indent Tag","The `markdown:indent` tag is similar to the markdown tag, but will ignore leading whitepsace while rendering the tag's content as markdown.","https://statamic.dev/tags/markdown-indent")},fc=tw;var nw=[be(fc)],rw={tagName:"markdown",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="markdown"||t.leftWord=="/markdown")&&t.leftChar==":"?te(nw):he,resolveDocumentation:t=>k("markdown Tag","The `markdown` tag can be used to render the tags contents as markdown.","https://statamic.dev/tags/markdown")},gT=rw;var _T=Q(nn());function pc(t,e){let n=[],r=e;if(t.trim().length>0&&t.includes(".")&&t.endsWith(".")){let i=t.substr(0,t.length-1);r=r.filter(s=>s.startsWith(i))}for(let i=0;i<r.length;i++){let s=r[i],o=!0;t.includes(".")&&(s.startsWith(t)==!1?o=!1:s=s.substr(t.length)),o&&n.push({label:s,insertText:s,kind:_T.CompletionItemKind.Text})}return n}function yT(t,e){return pc(t,e.getRouteNames())}var iw={tagName:"route",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:je,resolveCompletionItems:t=>{if(t.leftMeaningfulWord=="route"){let e=$u(t);return te(yT(e,t.project))}return he},resolveDocumentation:t=>k("route Tag","The `route` tag can be used to generate a full URL [to a named route](https://laravel.com/docs/8.x/routing#named-routes), including any defined route parameters.","https://statamic.dev/tags/route")},bT=iw;var dc=Q(ot()),TT=[{label:"301 Permanent",insertText:"301",kind:dc.CompletionItemKind.EnumMember},{label:"302 Temporary",insertText:"302",kind:dc.CompletionItemKind.EnumMember},{label:"404 Not Found",insertText:"404",kind:dc.CompletionItemKind.EnumMember}];var sw={tagName:"redirect",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The destination URL",aliases:["url"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!0},{name:"response",description:"The HTTP response code to use",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:t=>t.name=="response"?te(TT):he,resolveDocumentation:t=>k("redirect Tag","The `redirect` tag can be used to redirect the site visitor to a URL or named route. An optional HTTP status code can also be specified on the response using the `response` parameter.","https://statamic.dev/tags/redirect")},NT=sw;var vT=Q(ot());var Ks=class{constructor(){this.knownSections=new Map}registerDocumentSections(e,n){this.knownSections.has(e)||this.knownSections.set(e,new Map);let r=this.knownSections.get(e);r.clear();for(let i=0;i<n.length;i++){let s=n[i];s.node.hasMethodPart()&&r.set(s.node.getMethodNameValue(),s)}}getKnownSectionNames(){let e=[];return this.knownSections.forEach(n=>{n.forEach((r,i)=>{e.includes(i)==!1&&e.push(i)})}),e}};Ks.instance=null;(typeof Ks.instance=="undefined"||Ks.instance==null)&&(Ks.instance=new Ks);var mc=Ks;var ow={tagName:"section",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>{var e,n;if((t.leftWord=="section"||t.leftWord=="/section")&&t.leftChar==":"){let r=[],i=(n=(e=mc.instance)==null?void 0:e.getKnownSectionNames())!=null?n:[];for(let s=0;s<i.length;s++)r.push({label:i[s],kind:vT.CompletionItemKind.Field});return dn(r)}return he},resolveDocumentation:t=>k("section Tag","The `section` tag is used to push content to a named region defined by the `yield` tag.","https://statamic.dev/tags/section")},PT=ow;var aw={tagName:"obfuscate",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>k("obfuscate Tag","The `obfuscate` tag converts the tags's content into a format that is difficult for bots to read, but can easily be viewed by users within their browser.","https://statamic.dev/tags/obfuscate")},IT=aw;var lw={tagName:"parent",hideFromCompletions:!1,requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>k("parent Tag","The `parent` tag provides access to data from the current page's parent (the URL one level above the current page).","https://statamic.dev/tags/parent")},ST=lw;function gd(t,e){return pc(t,e.getTranslationKeys())}var uw=["translate","trans","trans_choice"],hc={tagName:"translate",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!0,parameters:[{isRequired:!1,name:"key",description:"The key of the translation string to find",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"locale",description:"The locale to be used when translating",acceptsVariableInterpolation:!1,aliases:["site"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"count",description:"The number of items to use for pluralization",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n;if(t.name=="key"){let r="";return((n=e.context)==null?void 0:n.parameterContext)!=null&&e.context.parameterContext.parameter!=null&&(r=e.context.parameterContext.parameter.value),te(gd(r,e.project))}return he},resolveDynamicParameter:je,resolveCompletionItems:t=>{if(t.leftMeaningfulWord!=null&&uw.includes(t.leftMeaningfulWord)){let e=$u(t);return te(gd(e,t.project))}return he},resolveDocumentation:t=>k("trans Tag","The `trans` tag can be used to retrieve a string for the current locale's language file.","https://statamic.dev/tags/trans")},CT=et(hc,"trans"),_d=et(hc,"trans_choice");_d.resolveDocumentation=t=>k("trans_choice Tag","The `trans_choice` tag can be used to retrieve a pluralized string for the current locale's language file.","https://statamic.dev/tags/trans#pluralization");var cw={tagName:"svg",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The SVG filename relative to the project root",expectsTypes:["string"],isDynamic:!1}],resolveDynamicParameter:je,resolveDocumentation:t=>k("svg Tag","The `svg` tag can be used to render inline SVGs, as well as set attributes on the rendered `<svg>` element.","https://statamic.dev/tags/svg")},RT=cw;function gc(t){return[{name:"basename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus_css",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_asset",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"path",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"width",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t}]}var fw={tagName:"asset",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The path to the file",expectsTypes:["string"],isDynamic:!1,name:"url"}],augmentScope:(t,e)=>(e.addVariables(gc(t)),e),resolveDocumentation:t=>Ee("asset Tag","The `asset` tag can be used to retrive Assets by supplying a URL.",`{{ asset url="/url/for/asset.png" }}
    <img src="{{ url }}" alt="{{ alt }}" />
{{ /asset }}`,"https://statamic.dev/tags/asset")},AT=fw;var xT=Q(ot());function yd(t){let e=[],n=t.getUniqueAssetNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:xT.CompletionItemKind.Field});return e}var ET=["container","id","handle"],pw={tagName:"assets",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"container",aliases:["id","handle"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The handle of the asset container",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"folder",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Filters the resulting assets by specific folder",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"recursive",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Returns all assets in all subdirectories",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"limit",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Limits the total results",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sort entries by any asset variable",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>ET.includes(t.name)?te(yd(e.project)):he,augmentScope:(t,e)=>{e.addVariables(gc(t));let n="";if(t.name!=null&&t.name.getMethodName()!=null)n=t.name.getMethodName();else{let r=t.findAnyParameter(ET);r!=null&&r.containsSimpleValue()&&(n=r.value)}return n.length>0&&e.injectAssetContainer(t,n),e},resolveCompletionItems:t=>(t.leftWord=="assets"||t.leftWord=="/assets")&&t.leftChar==":"?te(yd(t.project)):he,resolveDocumentation:t=>Ee("assets Tag","The `assets` tag can be used to retrieve multiple Assets from an Asset container.",`{{ assets container="container-name" }}
    {{# Loop over all assets in the container. #}}
	<img src="{{ url }}" alt="{{ alt }}" />
{{ /assets }}`,"https://statamic.dev/tags/assets")},wT=pw;var dw={tagName:"get_content",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!1,parameters:[{isRequired:!1,name:"from",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"The ID to retrieve data for",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"locale",aliases:["site"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The locale to show the content in",expectsTypes:["string"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="locale"||t.name=="site"?pt(e.project.getSiteNames()):null,resolveDocumentation:t=>Ee("get_content Tag","The `get_content` tag can be used to retrieve content from other entries. This tag accepts the ID of another entry, and will return access to all data for that entry.",`{{ get_content from="the-entry-id" }}
{{ /get_content }}`,"https://statamic.dev/tags/get_content")},OT=dw;function LT(t){return[{name:"basename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"last_modified",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_b",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_mb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t}]}var mw={tagName:"get_files",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"in",aliases:["from"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The directory to find files in relative to the public directory",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"depth",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The depth of the subdirectories",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"not_in",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"The subdirectories or pattern to exclude",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_size",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],description:"The file size filter to use",isDynamic:!1},{isRequired:!1,name:"ext",aliases:["extension"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The extension(s) to filter by",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"include",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:["match"],description:"Filter files by a regular expression",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"exclude",description:"Excludes files by a regular expression",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_date",description:"Filters files by last modified date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",description:"Limits the total number of results",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"offset",description:"The number of entries the results should be offset by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sorts the listing by extension, size, last_modified, or random",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>(e.addVariables(LT(t)),e),resolveDocumentation:t=>k("get_files Tag","The `get_files` tag can be used to display information about files on the site's local filesystem.","https://statamic.dev/tags/get_files")},DT=mw;function _c(t){return[{name:"width",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.glide",sourceField:null,introducedBy:t}]}var kT=Q(ot());function $r(t,e,n){var r,i,s,o,a,l,u,c,f,m,d,p;return{endLine:(s=(i=(r=n.valuePosition)==null?void 0:r.end)==null?void 0:i.line)!=null?s:0,startLine:(l=(a=(o=n.namePosition)==null?void 0:o.start)==null?void 0:a.line)!=null?l:0,endPos:(f=(c=(u=n.valuePosition)==null?void 0:u.end)==null?void 0:c.char)!=null?f:0,startPos:(p=(d=(m=n.namePosition)==null?void 0:m.start)==null?void 0:d.char)!=null?p:0,message:t,severity:kT.DiagnosticSeverity.Error}}var bd=["greyscale","sepia"],Td=["jpg","pjpg","png","gif","webp","avif","tif","bmp","psd"],MT=["auto","0","90","180","270"],yc=[{isRequired:!1,name:"src",aliases:["path","id"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The URL of the image when not using shorthand syntax",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"tag",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Outputs an image tag when set to true",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"alt",description:"The alt attribute value to use when generating tags",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"absolute",description:"Whether to output full URLs",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{name:"width",expectsTypes:["number"],isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The width of the image, in pixels",isDynamic:!1},{name:"height",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],description:"The height of the image, in pixels",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"square",expectsTypes:["number"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets both then height and width of the iamge",isDynamic:!1,isRequired:!1},{name:"fit",expectsTypes:["string"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"How the image is fitted to its target dimensions",isDynamic:!1,isRequired:!1},{name:"crop",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Crops the image to the specific dimensions",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"orient",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Rotates the image",expectsTypes:["*"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!MT.includes(e.value)&&n.push($r("Invalid orient value",t,e)),n}},{name:"quality",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Defines the quality of the image",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"dpr",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"Defines the device pixel ratio",expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<1||n>8)&&r.push($r("dpr must be an integer between 1 and 8.",t,e)),r}},{name:"format",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Encodes the image to a specific format",expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!Td.includes(e.value)&&n.push($r("Format must be one of: "+Td.join(","),t,e)),n}},{name:"bg",description:"Sets the background color for transparent images",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"blur",description:"Adds a blur effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push($r("blur must be a value between 0 and 100.",t,e)),r}},{name:"brightness",description:"Adjusts the image brightness",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<-100||n>100)&&r.push($r("brightness must be a value between -100 and 100.",t,e)),r}},{name:"contrast",description:"Adjusts the image contrast",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<-100||n>100)&&r.push($r("contrast must be a value between -100 and 100.",t,e)),r}},{name:"gamma",description:"Adjusts the image gamma",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseFloat(e.value),r=[];return e.containsSimpleValue()&&(n<.1||n>9.99)&&r.push($r("gamma must be a value between 0.1 and 9.99.",t,e)),r}},{name:"sharpen",description:"Sharpens the iamge",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push($r("sharpen must be a value between 0 and 100.",t,e)),r}},{name:"pixelate",description:"Applies a pixelation effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push($r("pixelate must be a value between 0 and 100.",t,e)),r}},{name:"filter",description:"Applies a filter effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!bd.includes(e.value)&&n.push($r("Filter must be one of: "+bd.join(","),t,e)),n}},{name:"preset",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],description:"A collection of pre-configured image manipulation parameters.",isDynamic:!1,isRequired:!1}];function bc(t,e){return t.name=="orient"?pt(MT):t.name=="format"?pt(Td):t.name=="filter"?pt(bd):t.name=="preset"?pt(e.project.getAssetPresets()):he}var hw={tagName:"glide:batch",hideFromCompletions:!1,requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,injectParentScope:!1,parameters:yc,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(_c(t)),e),resovleParameterCompletionItems:bc,resolveDocumentation:t=>k("glide:batch Tag","The `glide:batch` tag is similar to the glide tag, but can be used to apply image manipulations to multiple images within a piece of content.","https://statamic.dev/tags/glide-batch")},Tc=hw;var gw=[be(Tc)],_w={tagName:"glide",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!1,parameters:yc,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(_c(t)),e),resovleParameterCompletionItems:bc,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="glide"||t.leftWord=="/glide")&&t.leftChar==":"?te(gw):he,resolveDocumentation:t=>k("glide Tag","The `glide` tag is used to manipulate images on the fly. Image manipulations may include resizing, cropping, or adjusting sharpness and constrast, amongst many others.","https://statamic.dev/tags/glide")},FT=_w;var VT={tagName:"iterate",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>k("iterate Tag","The `iterate` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")},qT={tagName:"foreach",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>k("foreach Tag","The `foreach` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")};function BT(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t},{name:"name",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}]}var Nc=[{isRequired:!1,name:"id",description:"The ID of the content to localize",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"sort",description:"Sort by a sites key",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"current_first",description:"When true, ensures that the current locale is first",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"all",description:"When true, all locale data will be returned.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!0,name:"self",description:"When true, the current locale will be included.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1}];var yw={tagName:"locales:count",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:Nc,introducedIn:"3.0.36",resolveDocumentation:t=>k("locales:count Tag","The `locales:count` tag can be used to count the number of locales the current content is available in.","https://statamic.dev/tags/locales-count")},vc=yw;var bw=[be(vc)],Tw={tagName:"locales",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:Nc,introducedIn:null,augmentScope:(t,e)=>(e.addVariableArray("locale",BT(t)),e.addVariable({name:"current",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"exists",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"permalink",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e),resolveDocumentation:t=>k("locales Tag","The `locales` tag can be used to access all the locales the current content is available in.","https://statamic.dev/tags/locales"),resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="locale"||t.leftWord=="/locale")&&t.leftChar==":"?te(bw):he},jT=Tw;var Nw={tagName:"mix",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",description:"The path to the versioned file, relative to the public directory",acceptsVariableInterpolation:!1,aliases:["path"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"in",description:"The location of the mix manifest file",acceptsVariableInterpolation:!1,aliases:["from"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>k("mix Tag","The `mix` tag is used to return the path of CSS and JavaScript files versioned with [Laravel Mix](https://laravel.com/docs/8.x/mix).","https://statamic.dev/tags/mix")},UT=Nw;var hl=Q(ot());function GT(t){let e=[],n=t.getUniqueUserGroupNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:hl.CompletionItemKind.Field});return e}function WT(t){let e=[],n=t.getUniqueUserRoleNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:hl.CompletionItemKind.Field});return e}function ra(t,e){let n=[],r=e.getUniqueUserGroupNames(),i=r.filter(s=>!t.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:hl.CompletionItemKind.Field});return n}function ia(t,e){let n=[],r=e.getUniqueUserRoleNames(),i=r.filter(s=>!t.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:hl.CompletionItemKind.Field});return n}var vw={tagName:"user:in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?te(ra((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>k("user:in Tag","The `user:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in")},Pc=vw;var Pw={tagName:"user:not_in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?te(ra((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>k("user:not_in Tag","The `user:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in")},sa=Pw;var Iw={tagName:"user:is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?te(ia((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>k("user:is Tag","The `user:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is")},oa=Iw;var Sw={tagName:"user:isnt",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?te(ia((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>k("user:isnt Tag","The `user:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt")},aa=Sw;var Cw={tagName:"in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?te(ra((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="in"||t.leftWord=="/in")&&t.leftChar==":"?te(GT(t.project)):he,resolveDocumentation:t=>k("in Tag","The `in` tag can be used to check if the authenticated user belongs to one or more groups. This tag operates similarly to the `user:in` tag.","https://statamic.dev/tags/user-in")},HT=Cw;var Rw={tagName:"not_found",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>Ee("404 (Not Found) Tag","The `not_found` tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ not_found }}
{{ /unless }}`,"https://statamic.dev/tags/404")},YT=Rw;var Aw={tagName:"is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?te(ia((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="is"||t.leftWord=="/is")&&t.leftChar==":"?te(WT(t.project)):he,resolveDocumentation:t=>k("is Tag","The `is` tag can be used to check whether the currently authenticated user has one or more roles. This tag behaves the same as the `user:is` tag.","https://statamic.dev/tags/user-is")},KT=Aw;var xw={tagName:"widont",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Ee("widont Tag","The `widont` tag is similar to the [widont modifier](https://statamic.dev/modifiers/widont), and will attempt to prevent lines with a single word from appearing within the tags rendered output.",`{{ widont }}
    {{ content }}
{{ /widont }}`,null)},$T=xw;var Ic=[{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"id",description:"The user ID to fetch",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"email",description:"The email address to find the user by",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"field",description:"The field to fetch the user by",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"value",description:"The value to search for",expectsTypes:["string"],isDynamic:!1}];var Ew={tagName:"user:profile",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:Ic,introducedIn:null,augmentScope:(t,e)=>(e.injectBlueprint(t,"user"),e),resovleParameterCompletionItems:(t,e)=>t.name=="field"?te(Uu(e.project.getUserFields())):he,resolveDocumentation:t=>k("user:profile Tag","The `user:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null)},la=Ew;var zT={tagName:"dd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Ee("dd Tag","The `dd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the dd tag.
	#}}
    {{ dd }}
{{ /collection:articles }}`,null)},XT={tagName:"ddd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Ee("ddd Tag","The `ddd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the ddd tag.
	#}}
    {{ ddd }}
{{ /collection:articles }}`,null)};var ww={tagName:"path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["src"],allowsVariableReference:!0,description:"The path source",name:"to",isDynamic:!1,expectsTypes:["string"]},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],description:"Whether to generate absolute paths",expectsTypes:["boolean"],isDynamic:!1,name:"absolute"}],resolveDocumentation:t=>k("path Tag","The `path` tag can be used to generate URLs from relative URLs, or an entry ID.",null)},QT=ww;var Ow={tagName:"user:cant",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:sc,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>k("user:cant Tag","The `user:cant` tag is used to check if the currently authenticated user does not have a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user does not have the specified permissions.","https://statamic.dev/tags/user-can#cant")},Sc=Ow;var Lw={tagName:"query",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,parameters:[{name:"builder",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The query to evaluate",expectsTypes:["string"],isRequired:!0,isDynamic:!1}]},JT=Lw;var $s=Q(ot());var fi=[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"src",description:"The relative path to the file",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"cache_bust",description:"Whether to output the last modified date",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"version",description:"Whether to check a versioning manifest to produce the final URL",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"absolute",description:"Generate absolute URLs or not",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"locale",description:"The locale the path should be generated in",expectsTypes:["string"],isDynamic:!1}];var Dw=[{label:"asset",kind:$s.CompletionItemKind.Text},{label:"css",kind:$s.CompletionItemKind.Text},{label:"img",kind:$s.CompletionItemKind.Text},{label:"js",kind:$s.CompletionItemKind.Text},{label:"output",kind:$s.CompletionItemKind.Text},{label:"path",kind:$s.CompletionItemKind.Text}],kw={tagName:"theme",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,introducedIn:null,injectParentScope:!1,parameters:fi,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="theme"||t.leftWord=="/theme")&&t.leftChar==":"?te(Dw):he},ZT=kw;var Nd={tagName:"theme:path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:fi,resolveDocumentation:t=>k("theme:path Tag","The `theme:path` tag may be used to generate URLs for public assets. This tag may also optionally add the current locale, generate relative URLs, or add cache busting URL parameters to the end of the generated URL.",null)},eN=et(Nd,"theme:asset");var Mw={tagName:"theme:css",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...fi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>k("theme:css Tag","The `theme:css` tag may be used to generate a CSS path relative to a public `css/` directory for any arbitrary file path. This tag may also optionally create the HTML `link` tag.",null)},tN=Mw;var Fw={tagName:"theme:img",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...fi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]},{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"alt",description:"The alt text to use when generating the HTML tag",expectsTypes:["string"]}],resolveDocumentation:t=>k("theme:img Tag","The `theme:img` tag may be used to generate an image path relative to a public `img/` directory for any arbitrary file path. This tag may also optionally create the HTML `img` tag.",null)},nN=Fw;var Vw={tagName:"theme:js",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...fi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>k("theme:js Tag","The `theme:js` tag may be used to generate a JavaScript path relative to a public `js/` directory for any arbitrary file path. This tag may also optionally create the HTML `script` tag.",null)},rN=Vw;var qw={tagName:"theme:output",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"src",description:"The path to the file",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"as",description:"An optional alias for the contents variable",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>{if(t.isClosedBy!=null){let n=t.findParameter("as");n!=null?e.addVariable({name:n.value,dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t}):e.addVariable({name:"output_contents",dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t})}return e},resolveDocumentation:t=>k("theme:output Tag","The `theme:output` tag may be used to output the contents of any arbitrary file, relative to the site's `resources/` directory.",null)},iN=qw;var Bw={tagName:"scope",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Ee("scope Tag","The `scope` tag creates a copy of all available variables, and saves them to a new  *array* variable defined by the tag's method part.",`{{ scope:scope_name }}
    {{ scope_name:title }}
{{ /scope:scope_name }}
`,null)},sN=Bw;var jw={tagName:"if",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:je,resolveDocumentation:t=>k("if Conditional Control Structure","The contents of the `if` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},oN=jw;var Uw={tagName:"elseif",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:je,resolveDocumentation:t=>k("elseif Conditional Control Structure","The contents of the `elseif` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},aN=Uw;var Gw={tagName:"else",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>k("else Conditional Control Structure","The contents of the `else` control structure will be evaluated when all previous conditional branch conditions were not met.","https://statamic.dev/antlers#conditions")},lN=Gw;var uN=Q(ot());var Ww={tagName:"session:has",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:"3.1.28",resolveDynamicParameter:je,resolveDocumentation:t=>k("session:has Tag","The `session:has` tag can be used to determine of the user's session contains a specific variable.","https://statamic.dev/tags/session-has")},Cc=Ww;var Hw=[be(ac),be(cc),be(lc),be(uc),be(Cc),be(oc)],Yw={tagName:"session",requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",description:"An optional alias for the session data",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveCompletionItems:t=>{var e,n;if(t.isPastTagPart==!1&&(t.leftWord=="session"||t.leftWord=="/session")&&t.leftChar==":"){let r=(n=(e=Ys.instance)==null?void 0:e.getKnownSessionVariableNames())!=null?n:[],i=[];i=i.concat(Hw);for(let s=0;s<r.length;s++)i.push({label:r[s],kind:uN.CompletionItemKind.Variable});return te(i)}return he},augmentScope:(t,e)=>{var s,o;let n=t.findParameter("as"),r=(o=(s=Ys.instance)==null?void 0:s.getKnownSessionVariableNames())!=null?o:[],i=[];for(let a=0;a<r.length;a++)i.push({dataType:"*",name:r[a],sourceField:null,sourceName:"project.session",introducedBy:t});return n==null?e.addVariables(i):e.addVariableArray(n.value,i),e}},cN=Yw;var gl={tagName:"user:forgot_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:je,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t}]),e),resolveDocumentation:t=>k("user:forgot_password_form Tag",'The `user:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form")},vd=et(gl,"member:forgot_password_form");vd.resolveDocumentation=t=>k("member:forgot_password_form Tag",'The `member:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form");var _l={tagName:"user:reset_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:je,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t}]),e),resolveDocumentation:t=>k("user:reset_password_form Tag","The `user:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form")},Pd=et(_l,"member:reset_password_form");Pd.resolveDocumentation=t=>k("member:reset_password_form Tag","The `member:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form");function fN(t,e){return{sourceName:e.blueprintName,dataType:e.type,name:e.name,sourceField:e,introducedBy:t}}function pN(t){let e=new Map;for(let n=0;n<t.length;n++)e.set(t[n].name,t[n]);return e}function ua(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push({sourceName:i.blueprintName,dataType:i.type,name:i.name,sourceField:i,introducedBy:t})}return n}function Rc(t){return[{name:"handle",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"display",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"type",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"field",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"error",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"instructions",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"old",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t}]}var yl={tagName:"user:register_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after registering",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed registration attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:je,augmentScope:(t,e)=>{e.addVariableArray("fields",Rc(t)),e.addVariable({name:"errors",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"old",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"error",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"success",dataType:"string",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t});let n=e.statamicProject.getUserFields();if(n.length>0){let r=ua(t,n);e.addVariableArray("old",r),e.addVariableArray("error",r)}return e},resolveDocumentation:t=>k("user:register_form  Form Tag","The `user:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form")},Id=et(yl,"member:register_form");Id.resolveDocumentation=t=>k("member:register_form Tag","The `member:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form");var Kw=[be(oa),be(sa),be(aa),be(la),be(ea),be(Sc),be(gl),be(ta),be(na),be(yl),be(_l)],$w={tagName:"user",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:Ic,introducedIn:null,resovleParameterCompletionItems:(t,e)=>e.isPastTagPart==!1&&e.currentNode!=null&&e.currentNode.methodIsEmptyOrMatches("profile")&&t.name=="field"?te(Uu(e.project.getUserFields())):he,augmentScope:(t,e)=>(t.methodIsEmptyOrMatches("profile")&&e.injectUserFields(t),e),resolveCompletionItems:t=>(t.leftWord=="user"||t.leftWord=="/user"||t.leftWord=="member"||t.leftWord=="/member")&&t.leftChar==":"?te(Kw):he,resolveDocumentation:t=>k("user Tag","The `user` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null)},Ac=$w;var xc=et(Ac,"member"),Sd=et(oa,"member:is"),Cd=et(aa,"member:isnt"),Rd=et(la,"member:profile"),Ad=et(ea,"member:can"),xd=et(ta,"member:logout"),Ed=et(na,"member:logout_url"),wd=et(Pc,"member:in"),Od=et(sa,"member:not_in");xc.hideFromCompletions=!0;xc.resolveDocumentation=t=>k("member Tag","The `member` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);Sd.resolveDocumentation=t=>k("member:is Tag","The `member:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is");Cd.resolveDocumentation=t=>k("member:isnt Tag","The `member:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt");Rd.resolveDocumentation=t=>k("member:profile Tag","The `member:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);Ad.resolveDocumentation=t=>k("member:can Tag","The `member:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can");xd.resolveDocumentation=t=>k("member:logout Tag","The `member:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout");Ed.resolveDocumentation=t=>Ee("member:logout_url","The `member:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ member:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url");wd.resolveDocumentation=t=>k("member:in Tag","The `member:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in");Od.resolveDocumentation=t=>k("member:not_in Tag","The `member:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in");function ps(t){return[{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t},{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t}]}var hN=Q(ot());var Ld=["from","taxonomy","is","use","folder"],Dd=["not_from","not_in","dont_use","not_taxonomy"];var kd=Ld;kd=kd.concat(Dd);function dN(t,e){var n,r,i,s,o,a,l,u;if(e.nodesInScope.length>0){let c=e.nodesInScope[e.nodesInScope.length-1];if(c!=null&&c.currentScope!=null){let f=ca(c,e.project),m=e.project.getTaxonomyBlueprintFields(f),d=m.map(_=>_.name),p=Di(e.leftWord);if(d.includes(p))return te(os(e))}}return t.name=="collection"&&((n=e.context)==null?void 0:n.parameterContext)!=null?te(Wo((s=(i=(r=e.context)==null?void 0:r.parameterContext.parameter)==null?void 0:i.getArrayValue())!=null?s:[],e.project)):t.name=="filter"||t.name=="query_scope"?te(Wu(e.project)):kd.includes(t.name)&&((o=e.context)==null?void 0:o.parameterContext)!=null?te(mN((u=(l=(a=e.context)==null?void 0:a.parameterContext.parameter)==null?void 0:l.getArrayValue())!=null?u:[],e.project)):null}function ca(t,e){let n=[];if(t.hasMethodPart())return n.push(t.getMethodNameValue()),n;let r=t.findAnyParameter(Ld),i=t.findAnyParameter(Dd),s=[],o=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueTaxonomyNames(),typeof i!="undefined"&&i!==null&&i.isVariableReference==!1&&i.hasInterpolations()==!1&&(o=i.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),o.length>0?n=s.filter(function(a){return o.includes(a)==!1}):n=s,n}function mN(t,e){let n=[],r=e.getUniqueTaxonomyNames().filter(i=>!t.includes(i));for(let i=0;i<r.length;i++)n.push({label:r[i],kind:hN.CompletionItemKind.Variable});return n}function gN(t,e){let n=ca(t,e.statamicProject),r=e.statamicProject.getTaxonomyBlueprintFields(n),i=t.findParameter("collection");if(e.addBlueprintFields(t,r),e.addVariables([{name:"first",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"last",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"index",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"total_results",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"entries_count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t}]),e.addVariables(ps(t)),typeof i!="undefined"&&i!==null){let s=i.getArrayValue();if(s.length>0){let o=e.statamicProject.getBlueprintFields(s);e.introduceScopedAliasScope(t,"entries","entries",o).addVariables(as(t))}else e.addVariableArray("entries",ps(t).concat(as(t)))}else e.addVariableArray("entries",ps(t).concat(as(t)));return e}var zw=[{name:"from",description:"The taxonomy to use",aliases:["taxonomy","is","use","folder"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"not_from",description:"Taxonomies to exclude",aliases:["not_in","not_folder","dont_use","not_taxonomy"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string","array"],isRequired:!1,isDynamic:!1},{name:"min_count",description:"The minimum number of entries a taxonomy term must have to be returned",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"collection",description:"Filter the terms to those that appear in the specified collections",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"sort",description:"The field to sort terms by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope",expectsTypes:["string"],isDynamic:!1}],_N=zw;var Md=Q(ot());function yN(t){var n,r;let e=[];if(t.currentNode!=null&&t.currentNode.currentScope!=null){let i=ca(t.currentNode,t.project),s=t.project.getTaxonomyBlueprintFields(i),o=s.map(l=>l.name),a=Di(t.leftWord);if(o.includes(a))return te(os(t));if(t.isCaretInTag&&!((n=t.context)==null?void 0:n.interpolatedContext)&&["taxonomy","/taxonomy"].includes(t.leftWord)==!1){let l=[];for(let u=0;u<s.length;u++){let c=s[u];l.includes(c.name)==!1&&(e.push({label:c.name,detail:c.blueprintName,documentation:(r=c.instructionText)!=null?r:"",kind:Md.CompletionItemKind.Field}),l.push(c.name))}if(e.length>0)return dn(e)}}if((t.leftWord=="taxonomy"||t.leftWord=="/taxonomy")&&t.leftChar==":"){let i=t.project.getUniqueTaxonomyNames();for(let s=0;s<i.length;s++)e.push({label:i[s],kind:Md.CompletionItemKind.Field});return dn(e)}return he}var Xw={tagName:"taxonomy",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:_N,resolveDynamicParameter:je,resolveCompletionItems:yN,resovleParameterCompletionItems:dN,augmentScope:gN,resolveDocumentation:t=>k("taxonomy Tag","The `taxonomy` tag may be used to retrieve taxonomy entries. The taxonomy tag can also be used to access entries associated with any given taxonomy term.","https://statamic.dev/tags/taxonomy")},bN=Xw;var Fd=Q(ot());function TN(t,e){e.addVariables([{name:"is_published",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_page",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"has_entries",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_parent",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_external",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"depth",dataType:"number",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"children",dataType:"array",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t}]);let n=e.statamicProject.getUniqueCollectionNames(),r=[],i=!1;if(t.hasMethodPart()){let s=t.getMethodNameValue().trim().toLowerCase();if(s.startsWith("collection:")){let o=s.split(":").pop();i=!0,r.push(o)}else s=="pages"?(i=!0,r.push("pages")):(i=!1,r.push(s))}else{let s=t.findParameter("handle");s!=null&&(n.includes(s.value)?i=!0:i=!1,r.push(s.value))}if(i){let s=e.statamicProject.getBlueprintFields(r);e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}else{let s=Gu(ps(t));e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}return e}var Qw={tagName:"nav:breadcrumbs",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:[{name:"include_home",description:"Whether to include the home page in the first level",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"reverse",description:"Whether to reverse the order of links",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isRequired:!1,isDynamic:!1},{name:"trim",description:"Whether to trim the whitespace after each iteration of the loop",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],augmentScope:(t,e)=>(e.addVariables([{name:"is_current",dataType:"boolean",sourceName:"*internal.nav.breadcrumbs",sourceField:null,introducedBy:t}]),e.addVariables(ps(t)),e),resolveDocumentation:t=>k("nav:breadcrumbs Tag","The `nav:breadcrumbs` tag can be used to retrieve the URLs of all pages that make up the current URL back to the site's home page.","https://statamic.dev/tags/nav-breadcrumbs")},Ec=Qw;function NN(t,e){if(t.name=="handle"){let n=e.project.getUniqueCollectionNames(),r=e.project.getUniqueNavigationMenuNames(),i=[];return i=n,i=i.concat(r),i=[...new Set(i)],pt(i)}return null}var Jw=[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["handle"],allowsVariableReference:!1,name:"for",description:"The navigation or collection to use",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],name:"from",description:"The starting point for the navigation",allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"show_unpublished",description:"Whether to include unpublished content",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"include_home",description:"Whether to include the home page in the tree",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"max_depth",description:"The maximum depth of the navigation or structure",expectsTypes:["number"],isDynamic:!1}],vN=Jw;var Vd={tagName:"structure",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,injectParentScope:!1,parameters:vN,augmentScope:TN,resovleParameterCompletionItems:NN,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="nav"||t.leftWord=="/nav"||t.leftWord=="structure"||t.leftWord=="/structure")&&t.leftChar==":"){let n=t.project.getUniqueNavigationMenuNames();for(let r=0;r<n.length;r++)e.push(is(n[r],"",""));return(t.leftWord=="nav"||t.leftWord=="/nav")&&e.push(be(Ec)),e.push(is("collection","","")),e.push({label:"collection",kind:Fd.CompletionItemKind.Text}),dn(e)}if((t.leftWord=="nav:collection"||t.leftWord=="/nav:collection"||t.leftWord=="collection"||t.leftWord=="/collection"||t.leftWord=="structure:collection"||t.leftWord=="/structure:collection")&&t.leftChar==":"){let n=t.project.getUniqueCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Fd.CompletionItemKind.Field});return dn(e)}return he},resolveDocumentation:t=>k("nav Tag","The `nav` tag can be used to iterate structured collections or navigation menus.","https://statamic.dev/tags/nav")},PN=et(Vd,"nav");var CN=Q(ot());function IN(t){return[{name:"success",dataType:"string",sourceField:null,sourceName:"*internal.forms",introducedBy:t},{name:"submission_created",dataType:"boolean",sourceField:null,sourceName:"*internal.forms",introducedBy:t}]}var Zw={name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},pi=Zw;var qd=Q(ot()),eO=[{label:"GET",kind:qd.CompletionItemKind.EnumMember},{label:"POST",kind:qd.CompletionItemKind.EnumMember}],SN=eO;var zr=["in","handle","is","form","formset"];function fa(t,e){return zr.includes(t.name)?pt(e.project.getUniqueFormNames()):t.name=="method"?te(SN):t.name=="files"?te(Ko):null}function di(t,e){let n=t.structure.findParentWithName("form:set");return n!=null?{context:n,issues:[]}:{context:null,issues:[]}}var tO=["set","create","errors","success","submissions","submission"];function zs(t){if(t.reference!=null&&"tagPart"in t.reference){let r=t.reference;if(r.nameMatches("form:set"))return zs(r)}let e=t.findAnyParameter(zr),n=t.getMethodNameValue();return n!=null&&tO.includes(n)==!1?n:typeof e!="undefined"&&e!==null&&e.containsSimpleValue()?e.value:""}var nO={tagName:"form:create",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[pi,{name:"method",description:"The HTTP method to use",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"files",description:"Indicates if the form sends file data",aliases:[],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"redirect",description:"The location to redirect users after a successful form submission",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",description:"The location to redirect users to after a failed form submission",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override redirect or error_redirect",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveSpecialType:di,resovleParameterCompletionItems:fa,resolveDynamicParameter:je,augmentScope:(t,e)=>{e.addVariables(IN(t)),e.addVariable({dataType:"array",name:"errors",sourceField:null,sourceName:"*internal.forms",introducedBy:t}),e.addVariableArray("fields",Rc(t));let n=zs(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n),i=ua(t,r);e.addVariableArray("old",i),e.addVariableArray("error",i)}return e},resolveDocumentation:t=>k("form:create Tag","The `form:create` tag can be used to access form data, generate field HTML markup, and handle form validation errors.","https://statamic.dev/tags/form-create")},wc=nO;var rO={tagName:"form:errors",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[pi],resolveSpecialType:di,resovleParameterCompletionItems:(t,e)=>zr.includes(t.name)?pt(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>k("form:errors Tag","The `form:errors` tag can be used to retrieve validation errors after a user has submitted a form.","https://statamic.dev/tags/form-errors")},Oc=rO;var iO={tagName:"form:set",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!0}],resovleParameterCompletionItems:fa,resolveDocumentation:t=>k("form:set Tag","The `form:set` tag can be used to set the form handle on all nested form tags.","https://statamic.dev/tags/form-set")},Lc=iO;var sO={tagName:"form:submission",requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[pi],resolveSpecialType:di,resovleParameterCompletionItems:(t,e)=>zr.includes(t.name)?pt(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{let n=zs(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n);e.addBlueprintFields(t,r)}return e},resolveDocumentation:t=>k("form:submission Tag","The `form:submission` tag can be used to access the form submission submitted by the current user.","https://statamic.dev/tags/form-submission")},Dc=sO;var oO={tagName:"form:submissions",allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[pi],resolveSpecialType:di,resovleParameterCompletionItems:(t,e)=>zr.includes(t.name)?pt(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let n=zs(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n);e.addBlueprintFields(t,r)}return e.addVariable({name:"date",dataType:"date",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e},resolveDocumentation:t=>k("form:submissions Tag","The `form:submissions` tag can be used to fetch previously saved submissions for a form.","https://statamic.dev/tags/form-submissions")},kc=oO;var aO={tagName:"form:success",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[pi],resolveSpecialType:di,resovleParameterCompletionItems:(t,e)=>zr.includes(t.name)?pt(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>k("form:success Tag","The `form:success` tag can be used to check if a form submission was successful or not.","https://statamic.dev/tags/form-success")},Mc=aO;var lO=[be(Lc),be(wc),be(Oc),be(Mc),be(kc),be(Dc)],uO={tagName:"form",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resovleParameterCompletionItems:fa,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="form"||t.leftWord=="/form")&&t.leftChar==":"){let n=t.project.getUniqueFormNames();e=e.concat(lO);for(let r=0;r<n.length;r++)e.push({label:n[r],kind:CN.CompletionItemKind.Field});return dn(e)}return he}},RN=uO;var Bd={tagName:"search:results",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"index",description:"The index to search in",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"query",description:"The query string parameter to use",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"limit",description:"The maximum number of search results to return",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{name:"offset",description:"The number of results to skip",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether not to paginate entry results",expectsTypes:["boolean"],isRequired:!1,name:"paginate",isDynamic:!1},{name:"as",description:"Specifies an alias for search results",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"supplement_data",description:"Controls whether non-indexed fields are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="index"?pt(e.project.getSearchIndexes()):null,augmentScope:(t,e)=>{e.addVariables([{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]);let n=t.findParameter("as");return n!=null&&n.value.trim().length>0?e.addVariableArray(n.value,AN(t)):e.addVariables(AN(t)),e},resolveDocumentation:t=>k("search:results Tag","The `search:results` tag provides access to all data that was returned as a result of a user's search.","https://statamic.dev/tags/search")},cO=[be(Bd)];function AN(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"content",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_term",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"count",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"index",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"search_score",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"_highlightResult",dataType:"array",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]}var xN={tagName:"search",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="search"||t.leftWord=="/search")&&t.leftChar==":"?dn(cO):he};function jd(t){return[{name:"email",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"password",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]}var Ud={tagName:"user:login_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after logging in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed login attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:je,augmentScope:(t,e)=>(e.addVariables([{name:"errors",dataType:"array",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"success",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]),e.addVariables(jd(t)),e.addVariableArray("old",jd(t)),e.addVariableArray("error",jd(t)),e),resolveDocumentation:t=>k("user:login_form Tag","The `user:login_form` tag can be used to quickly create a form that users can use to authenticate with the site.","https://statamic.dev/tags/user-login_form")},EN=et(Ud,"member:login_form");var fO={tagName:"noparse",requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>k("noparse Tag","The `noparse` tag is used prevent blocks of Antlers code from being parsed, removing the need to escape individual Antlers code regions.","https://statamic.dev/antlers#the-noparse-tag")},wN=fO;var pO={tagName:"unless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:je,resolveDocumentation:t=>k("unless Conditional Control Structure","The `unless` control structure operates the same as an `if` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},ON=pO;var dO={tagName:"elseunless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:je,resolveDocumentation:t=>k("elseunless Conditional Control Structure","The `elseunless` control structure operates the same as an `elseif` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},LN=dO;var DN=Q(nn());var kN={tagName:"installed",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!0,introducedIn:"3.1.19",parameters:[],resolveCompletionItems:t=>{if(t.project!=null){let e=t.project.getComposerPackages(),n=[];return e.forEach((r,i)=>{n.push({label:r.name,kind:DN.CompletionItemKind.Text})}),te(n)}return he},resolveDocumentation:t=>Ee("installed Tag","The `installed` tag is used to check if the site has a specific Composer package available.",`{{ if {installed:composer/package-name} }}
    {{# Package is availabl.e #}}
{{ else }}
    {{# Something else. #}}
{{ /if }}`,"https://statamic.dev/tags/installed")};var mO={tagName:"relate",hideFromCompletions:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[]},MN=mO;var pa=[{name:"bag",description:"The error message bag to retrieve errors from.",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}];var hO={tagName:"get_errors",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:pa,introducedIn:"3.2.23",augmentScope:(t,e)=>{var n;if(t.isClosingTag)return e;if(((n=t.name)==null?void 0:n.methodPart)==null){let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"field",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"field",refFieldSetField:null,sets:null,type:"string"}});let i=r.copy();i.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),r.addScopeList("messages",i),e.addScopeList("fields",r)}else{let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",r)}return e},resolveDocumentation:t=>k("get_errors Tag","The `get_errors` tag can be used to retrieve form validation errors.","https://statamic.dev/tags/get_errors")},FN=hO;var gO={tagName:"get_errors:all",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:pa,introducedIn:null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let n=e.copy();return n.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors.all",sourceField:{blueprintName:"*internal.tag.get_errors.all",displayName:"get_errors:all",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",n),e},resolveDocumentation:t=>k("get_errors:all Tag","The `get_errors:all` tag can be used to retrieve all form validation errors.","https://statamic.dev/tags/get_errors#list-all-validation-errors")},VN=gO;var _O={tagName:"get_error",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:pa,introducedIn:null,augmentScope:(t,e)=>(t.isClosingTag||e.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_error",sourceField:{blueprintName:"*internal.tag.get_error",displayName:"get_error",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e),resolveDocumentation:t=>k("get_error Tag","The `get_error` tag can be used to retrieve the first error message for a specific field.","https://statamic.dev/tags/get_errors#get-the-first-error-for-a-specific-field")},qN=_O;var yO={tagName:"set",hideFromCompletions:!0,allowsArbitraryParameters:!0,requiresClose:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[]},BN=yO;var jN=Q(nn());var bO={tagName:"mount_url",hideFromCompletions:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:"3.3.15",parameters:[{isRequired:!1,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The collection handle",name:"handle",isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>k("mount Tag","The `mount` tag can be used to retrieve the mount URL for a given collection.",null),resovleParameterCompletionItems:(t,e)=>{var n,r,i,s;return t.name=="handle"&&((n=e.context)==null?void 0:n.parameterContext)!=null?te(Wo((s=(i=(r=e.context)==null?void 0:r.parameterContext.parameter)==null?void 0:i.getArrayValue())!=null?s:[],e.project)):null},resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="mount_url"||t.leftWord=="/mount_url")&&t.leftChar==":"){let n=t.project.getCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:jN.CompletionItemKind.Field,sortText:"0"})}return{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}},UN=bO;var TO={tagName:"vite",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"src",description:"The entry point",expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>Ee("vite Tag","Generates Vite tags for an entrypoint.",'{{ vite src="entry/point" }}',null)},GN=TO;var WN=[oN,aN,lN,ON,LN,AT,wT,Jb,Zu,Gs,ec,Ju,Qu,MN,RN,wc,Dc,kc,Lc,Mc,Oc,BN,FN,qN,VN,xN,Bd,sT,tc,nc,tT,YT,eT,XT,zT,Zb,OT,DT,FT,Tc,nT,rT,iT,VT,qT,oT,rc,jT,vc,UT,UN,PN,Vd,Ec,lT,aT,Pc,HT,sa,oa,KT,kN,Ac,aa,ea,Sc,ta,na,la,Ud,_l,gl,yl,xc,Sd,Cd,Rd,Ad,xd,Ed,wd,Od,EN,Pd,vd,Id,wN,fT,pT,dT,IT,ST,QT,NT,bT,sN,PT,cN,cc,uc,lc,ac,Cc,oc,RT,bN,ZT,Nd,eN,tN,nN,rN,iN,hc,CT,_d,JT,gT,fc,$T,GN];var ds=class{constructor(){this.tags=new Map;this.parameters=new Map}reset(){this.tags.clear(),this.parameters.clear(),this.loadCoreTags()}getVisibleTagsWithDocumentation(){let e=[];return this.tags.forEach((n,r)=>{if(n.hideFromCompletions==!1){let i="";n.resolveDocumentation!=null&&(i=n.resolveDocumentation()),e.push({label:r,documentation:i})}}),e}getVisibleTagNames(){let e=[];return this.tags.forEach((n,r)=>{n.hideFromCompletions==!1&&e.push(r)}),[...new Set(e)]}getPossibleTagMethods(e){let n=[],r=e.length+1;return this.tags.forEach((i,s)=>{if(s.startsWith(e)){let o=s.substr(r).trim();o.length>0&&n.push(o)}}),[...new Set(n)]}getTagNames(){let e=[];return this.tags.forEach((n,r)=>{e.push(r)}),[...new Set(e)]}loadCoreTags(){this.registerTags(WN)}cleanTagName(e){return ar(e,"/")}findTag(e){return this.tags.get(this.resolveTagName(e))}isKnownTag(e){return this.tags.has(this.resolveTagName(e))}isSymbolKnownTag(e){return this.isKnownTag(e.runtimeName())}resolveTagName(e){return e=this.cleanTagName(e.trim()),this.tags.has(e)||e.includes(":")&&(e=e.split(":")[0]),e}canResolveSpecialTypes(e){e=this.resolveTagName(e);let n=this.tags.get(e);return!(typeof n=="undefined"||n==null||n.resolveSpecialType==null)}resolveSpecialType(e,n,r){e=this.resolveTagName(e);let i=this.findTag(e);if(i.resolveSpecialType==null)throw new Error(e+" does not support special types.");return i.resolveSpecialType(n,r)}getCompletionItems(e){var s;let n=null,r=[],i=!0;if(e.nodesInScope.length>0&&(n=e.nodesInScope[e.nodesInScope.length-1]),e.currentNode!=null&&this.isKnownTag(e.currentNode.runtimeName())){let o=this.findTag(e.currentNode.runtimeName());if(typeof o=="undefined")return{isExclusive:!1,items:[]};let a=[];if(o.resolveCompletionItems!=null){let l=o.resolveCompletionItems(e);if(l.isExclusiveResult)return{isExclusive:!0,items:l.items};i=l.analyzeDefaults,r=r.concat(l.items)}if(e.isPastTagPart==!1){let l=this.getPossibleTagMethods(o.tagName);for(let u=0;u<l.length;u++)r.push({label:l[u],kind:HN.CompletionItemKind.Text})}if(i){if(e.isCaretInTag==!0&&o.parameters.length>0&&(r=r.concat(ad(e,o.parameters)),o.tagName=="partial"&&(n==null?void 0:n.hasMethodPart()))){let l=n.getMethodNameValue();if(l.trim().length>0&&((s=ce.instance)==null?void 0:s.hasStructure())){let u=ce.instance.getStructure().findPartial(l);u!=null&&u.injectsParameters.length>0&&(r=r.concat(ad(e,u.injectsParameters)))}}for(let l=0;l<e.nodesInScope.length;l++)if(e.nodesInScope[l].runtimeType!==null){let u=e.nodesInScope[l].runtimeType;if(u!=null&&u.assumedType=="structure_ref"&&u.supplementedFields!=null)for(let c=0;c<u.supplementedFields.length;c++)r.push(ld(u.supplementedFields[c]))}}return{items:r,isExclusive:!1}}return{items:r,isExclusive:!1}}injectParentScope(e){let n=this.findTag(e);return typeof n=="undefined"||n==null?!0:n.injectParentScope}resolveParameterCompletions(e,n,r){let i=this.findTag(e);return typeof i!="undefined"&&i!==null&&typeof i.resovleParameterCompletionItems!="undefined"&&i.resovleParameterCompletionItems!==null?i.resovleParameterCompletionItems(n,r):null}canResolveDynamicParameter(e){let n=this.resolveTagName(e);if(this.isKnownTag(n)){let r=this.tags.get(n);if(typeof r=="undefined")return!1;if(typeof r.resolveDynamicParameter!="undefined"&&r.resolveDynamicParameter!=null)return!0}return!1}getParameter(e,n){let r=this.resolveTagName(e);if(this.parameters.has(r)==!1)return null;let i=this.parameters.get(r);if(i==null)return null;if(i.has(n)==!1){let o=this.findTag(e);if(o!=null&&typeof o.resolveDynamicParameter!="undefined"&&o.resolveDynamicParameter!=null){let a=o.resolveDynamicParameter(null,n);if(a!==null)return a}return null}let s=i.get(n);return typeof s=="undefined"||i==null?null:s}registerTags(e){for(let n=0;n<e.length;n++)this.registerTag(e[n])}registerTag(e){if(this.tags.set(e.tagName,e),this.parameters.has(e.tagName)==!1&&this.parameters.set(e.tagName,new Map),e.parameters.length>0){let n=this.parameters.get(e.tagName);for(let r=0;r<e.parameters.length;r++){let i=e.parameters[r];n==null||n.set(i.name,i)}}}requiresClose(e){let n=e.getTagName();if(this.tags.has(n)){let r=this.findTag(n);if(r!=null)return r.requiresCloseResolver!=null?r.requiresCloseResolver(e):r.requiresClose}return!1}};ds.instance=null;(typeof ds.instance=="undefined"||ds.instance==null)&&(ds.instance=new ds,ds.instance.loadCoreTags());var Ie=ds;var mr=class{constructor(e){this.generation=0;this.id="";this.name="";this.values=new Map;this.lists=new Map;this.pristine=new Map;this.parentScope=null;this.statamicProject=e,mr.generationCounter+=1,this.generation=mr.generationCounter,this.id=ko()}makeNew(){return new mr(this.statamicProject)}ancestor(){return this.parentScope!=null?this.parentScope:this}canShiftScope(e){return!!this.pristine.has(e)}shiftScope(e,n,r){if(this.pristine.has(n)){let i=this.pristine.get(n),s=i.parentCopy.copy();return s.introduceAliasScope(e,r,i.introducedFields),s}return this}containsPath(e){if(e.includes(":")){let n=e.split(":"),r=n.shift(),i=n.join(":");if(typeof r=="undefined")return!1;let s=this.lists.get(r);return typeof s=="undefined"?!1:s.containsPath(i)}return!!this.lists.has(e)}findReference(e){if(e.includes(":")){let n=e.split(":"),r=n.pop(),i=n.join(":"),s=this.findNestedScope(i);if(s!=null)return s.findReference(r)}return this.values.has(e)?this.values.get(e):null}findReferenceWithField(e){if(e.includes(":")){let n=e.split(":"),r=n.pop(),i=n.join(":"),s=this.findNestedScope(i);if(s!=null)return s.findReference(r)}if(this.values.has(e)){let n=this.values.get(e);if(n.sourceField==null){if(n.introducedBy!=null&&n.introducedBy.currentScope!=null&&n.introducedBy.currentScope!=this)return n.introducedBy.currentScope.findReferenceWithField(n.introducedBy.getTagName());if(this.parentScope!=null&&this.parentScope!=this)return this.parentScope.findReferenceWithField(e)}return n}return null}containsReference(e){return this.findReference(e)!=null}findNestedScope(e){if(e.includes(":")){let n=e.split(":"),r=n.shift(),i=n.join(":");if(typeof r=="undefined")return null;let s=this.lists.get(r);return typeof s=="undefined"?null:s.findNestedScope(i)}return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this&&this.parentScope.hasList(e)?this.parentScope.lists.get(e):null}liftList(e){if(this.lists.has(e)){let n=this.lists.get(e);return typeof n=="undefined"||n===null?null:(this.lists.delete(e),n)}return null}hasPristineReference(e){return!!this.pristine.has(e)}hasListInHistory(e){return this.hasList(e)?!0:this.parentScope!=null?this.name=="*root*"?!1:this.parentScope.hasList(e):!1}hasList(e){if(this.lists.has(e)){let n=this.lists.get(e);return!(typeof n=="undefined"||n===null)}return!1}bringListIntoMainScope(e){if(e.includes(":")){let r=e.split(":"),i=r.shift(),s=r.join(":");if(typeof i=="undefined")return this;let o=this.lists.get(i);return typeof o=="undefined"?this:o.bringListIntoMainScope(s)}let n=this.lists.get(e);return this.lists.delete(e),this.mergeScope(n)}getListNames(){let e=[];return this.lists.forEach((n,r)=>{e.push(r)}),e}getVariableNames(){let e=[];return this.values.forEach(n=>{e.push(n.name)}),e}getList(e){return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this?this.parentScope.getList(e):null}hasValue(e){return this.values.has(e)}findAncestorWithList(e){return this.hasList(e)?this:this.parentScope!=null&&this.parentScope!=this?this.parentScope.findAncestorWithList(e):null}findReferenceNotIntroducedBy(e,n){if(this.hasValue(e)){let r=this.values.get(e);if(r.introducedBy!=null&&r.introducedBy!=n)return r}return this.parentScope!=null&&this.parentScope!=this?this.parentScope.findReferenceNotIntroducedBy(e,n):null}removeThroughIntroduction(e,n){if(this.values.delete(e),this.parentScope!=null){let r=this.findReferenceNotIntroducedBy(e,n);r!=null&&this.addVariable(r)}}wasIntroducedBySymbol(e,n){if(this.values.has(e)==!1)return!1;let r=this.values.get(e);return r.introducedBy!=null?r.introducedBy==n:!1}referencesArray(e){return this.values.has(e)==!1?!1:this.values.get(e).dataType=="array"}addScopeList(e,n){return this.lists.set(e,n),this}mergeAndList(e,n){let r=new mr(this.statamicProject);return r.values=pN(n),this.lists.set(e,r),this.mergeVariableScope(n),this}mergeScope(e){return e==this||e==null?this:(typeof e.values!="undefined"&&e.values!==null&&e.values.forEach((n,r)=>{this.values.set(r,n)}),typeof e.lists!="undefined"&&e.lists!==null&&e.lists.forEach((n,r)=>{this.lists.set(r,n)}),this)}mergeVariableScope(e){for(let n=0;n<e.length;n++)this.values.set(e[n].name,e[n]);return this}addVariable(e){this.values.set(e.name,e)}addVariables(e){for(let n=0;n<e.length;n++)this.addVariable(e[n])}addVariableArray(e,n){this.values.has(e)&&this.values.delete(e);let r=new mr(this.statamicProject);r.addVariables(n),this.addScopeList(e,r)}injectAssetContainer(e,n){this.addBlueprintFields(e,this.statamicProject.getAssetBlueprintFields(n))}injectUserFields(e){this.addBlueprintFields(e,this.statamicProject.getUserFields())}addBlueprintField(e,n){this.addVariable({dataType:n.type,name:n.name,sourceField:n,sourceName:n.blueprintName,introducedBy:e})}introduceScopedAliasScope(e,n,r,i){this.pristine.set(r,{introducedFields:i,introducedScope:r,parentCopy:this.copy()});let s=new mr(this.statamicProject),o=new mr(this.statamicProject);return o.addBlueprintFields(e,i),s.name=r,s.addScopeList(n,o),this.addScopeList(r,s),s}expandScopedAliasScope(e,n,r,i){this.lists.has(r)==!1?this.introduceScopedAliasScope(e,n,r,i):this.lists.get(r).addBlueprintFields(e,i)}introduceAliasScope(e,n,r){this.pristine.set(n,{introducedFields:r,introducedScope:n,parentCopy:this.copy()});let i=new mr(this.statamicProject);i.addBlueprintFields(e,r),i.name=n,this.addScopeList(n,i)}introduceDynamicScopeList(e,n,r){this.pristine.set(n,{introducedFields:r,introducedScope:n,parentCopy:this.copy()});let i=new mr(this.statamicProject);i.name=n,i.addBlueprintFields(e,r),this.addScopeList(n,i)}addBlueprintFields(e,n){for(let r=0;r<n.length;r++)this.addBlueprintField(e,n[r])}injectBlueprint(e,n){let r=this.statamicProject.getBlueprintDetails(n);r.length>0&&this.addBlueprintFields(e,r)}copy(){let e=new mr(this.statamicProject);return e.pristine=new Map(this.pristine),e.values=new Map(this.values),e.lists=new Map(this.lists),e.parentScope=this,e}},Qn=mr;Qn.generationCounter=0;function Gd(t){let e=new Qn(t);return e.addVariable({dataType:"string",name:"handle",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"name",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"short_locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e}function YN(){let t=[];return t.push({dataType:"number",name:"response_code",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_field",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_token",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"environment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"xml_header",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"last_segment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_uri",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"amp_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"api_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_full_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_in",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_out",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"is_homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"now",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"today",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"current_date",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get_post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"old",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t}function KN(t,e){let n=t.findParameter("paginate");if(n!=null&&(n.value.toLowerCase()=="true"||parseInt(n.value).toString()==n.value)){let r=e.makeNew(),i=e.makeNew(),s=e.makeNew(),o=e.makeNew();r.addVariable({name:"next_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"prev_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_items",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_pages",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"current_page",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"auto_links",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),s.addVariable({name:"url",dataType:"string",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),s.addVariable({name:"page",dataType:"integer",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),o.addVariable({name:"first",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),o.addVariable({name:"last",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),o.addVariable({name:"slider",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),i.addScopeList("all",s),i.addScopeList("segments",o),r.addScopeList("links",i),e.addScopeList("paginate",r)}}var Xs=class{constructor(){this.fileInjections=new Map;this.project=null}updateProject(e){this.project=e}registerInjections(e,n){if(n.length==0)return;let r=[];for(let i=0;i<n.length;i++){let s=n[i];s.hasParameters&&r.push(s)}if(r.length>0){let i=r[0].getMethodNameValue();if(i!=null&&this.project!=null){let s=this.project.findPartial(i);s!=null&&(this.fileInjections.has(s.documentUri)||this.fileInjections.set(s.documentUri,new Map),this.fileInjections.get(s.documentUri).set(e,r))}}}hasAvailableInjections(e){return this.fileInjections.has(e)}getScopeInjection(e,n){let r=new Qn(n);return r.name="*injection*",this.fileInjections.get(e).forEach((s,o)=>{for(let a=0;a<s.length;a++){let l=s[a];if(l.hasParameters)for(let u=0;u<l.parameters.length;u++){let c=l.parameters[u];if(c.containsSimpleValue())r.addVariable({dataType:"string",name:c.name,sourceField:null,sourceName:"scope.injection",introducedBy:l});else if(c.isVariableReference&&l.currentScope!=null&&l.currentScope.hasListInHistory(c.value)){let f=l.currentScope.findNestedScope(c.value);if(f!=null){let m=ar(c.name,":"),d=f.copy();d.name=m,r.addScopeList(m,f)}}}}}),r}};Xs.instance=null;(typeof Xs.instance=="undefined"||Xs.instance==null)&&(Xs.instance=new Xs);var Qs=Xs;var NO=["collection"],vO=["if","elseif","unless","elseunless"],Wd=class{constructor(e,n,r){this.pageVars=[];this.viewDataVars=null;this.documentUri="";this.lastSymbolId="";this.ideHelperMap=new Map;this.statamicProject=e,this.documentUri=n,this.document=r,this.makePageScope(),this.makeViewDataScope()}makeViewDataScope(){this.document.hasFrontMatter()&&(this.viewDataVars=this.document.getFrontMatterScope())}makePageScope(){let e=[],n=this.statamicProject.getFields();if(n.has("pages")){let r=n.get("pages");for(let i=0;i<r.length;i++){let s=r[i];e.push({name:s.name,dataType:s.type,sourceField:s,sourceName:s.blueprintName,introducedBy:null})}}this.pageVars=e}analyzeScope(e){var c,f,m,d,p,_,C,h,b;let n=new Qn(this.statamicProject);n.name="*root*",n.parentScope=n,n.addScopeList("site",Gd(this.statamicProject)),n.addScopeList("sites",Gd(this.statamicProject)),n.addVariables(YN());let r=new Qn(this.statamicProject);r.name="*root_user*",r.parentScope=n,this.statamicProject.getUserFields().forEach(g=>{r.addBlueprintField(null,g)}),n.addScopeList("current_user",r),((c=xr.instance)==null?void 0:c.pageScopeDisabled(this.documentUri))?this.viewDataVars!=null&&n.addScopeList("view",this.viewDataVars):this.viewDataVars!=null?n.mergeAndList("page",this.pageVars).addScopeList("view",this.viewDataVars):n.mergeAndList("page",this.pageVars);let i=null;e.length>0&&e[0].isComment&&(i=il(this.documentUri,e[0]));for(let g=0;g<e.length;g++)if(e[g].isComment){let N=il(this.documentUri,e[g]);N.variableHelper!=null&&this.ideHelperMap.set(e[g].id(),N.variableHelper)}let s=this.statamicProject.getCollectionNamesForView(this.documentUri);if(i!=null&&(i.collectionInjections.length>0&&(s=s.concat(i.collectionInjections)),i.blueprints.length>0&&(s=s.concat(i.blueprints)),i.variableHelper!=null&&i.variableHelper.variableName=="@page")){let g=this.statamicProject.getBlueprintField(i.variableHelper.collectionName,i.variableHelper.fieldHandle);if(g!=null)if(i.variableHelper.setHandle.length>0){if(g.sets!=null){for(let N=0;N<g.sets.length;N++)if(g.sets[N].handle==i.variableHelper.setHandle){n.addVariables(ua(e[0],g.sets[N].fields));break}}}else n.addBlueprintField(e[0],g)}if(s.length>0){for(let g=0;g<s.length;g++)n.injectBlueprint(e[0],s[g]);n.addVariables(as(e[0]))}((f=Qs.instance)==null?void 0:f.hasAvailableInjections(this.documentUri))&&n.mergeScope((m=Qs.instance)==null?void 0:m.getScopeInjection(this.documentUri,this.statamicProject));let o=[],a=[],l=[],u=[];u.push(n);for(let g=0;g<e.length;g++){let N=e[g];this.lastSymbolId.length>0&&a.includes(N.id())&&(o.pop(),u.pop(),u.length==0&&u.push(n));let S=u[u.length-1];if(N.hasParameters){for(let O=0;O<N.parameters.length;O++)if(N.parameters[O].interpolations.length>0)for(let $=0;$<N.parameters[O].interpolations.length;$++){let X=N.parameters[O].interpolations[$];N.processedInterpolationRegions.has(X)&&N.processedInterpolationRegions.get(X).forEach(Y=>{Y instanceof B&&(Y.currentScope=S)})}}if(((d=Ie.instance)==null?void 0:d.isKnownTag(N.getTagName()))==!1){if(N.scopeVariable=S.findReference(N.runtimeName()),g>0){let O=e[g-1];if(O.isComment&&this.ideHelperMap.has(O.id())&&!O.isClosingTag&&!N.isClosingTag){let $=this.ideHelperMap.get(O.id());if($.variableName==N.getTagName()){let X=this.statamicProject.getBlueprintField($.collectionName,$.fieldHandle);X!=null&&(N.scopeVariable=fN(N,X))}}}if(N.scopeVariable==null){let O=N.runtimeName().trim();if(S.hasList(O)||((p=N.currentScope)==null?void 0:p.hasListInHistory(O))){N.sourceType="array";let $=S.getList(O);if($!=null&&$.values.size>0){let X=$.values.entries().next().value[1];N.scopeVariable={dataType:"array",introducedBy:X.introducedBy,name:O,sourceField:null,sourceName:X.sourceName}}}}else N.sourceType=Fu(N.scopeVariable.dataType),N.scopeVariable.sourceField!=null&&((_=$o.instance)==null?void 0:_.hasFieldtype(N.scopeVariable.sourceField.type))&&((C=$o.instance)==null?void 0:C.getFieldType(N.scopeVariable.sourceField.type)).augmentScope(N,S)}if(N.hasParameters&&KN(N,S),N.modifiers!=null&&N.modifiers.hasModifiers()?N.manifestType=N.modifiers.getLastManifestedModifierRuntimeType():N.manifestType=N.sourceType,N.isClosedBy!=null&&(o.push(N.id()),a.push(N.isClosedBy.id()),S=S.copy(),u.push(S)),N.getTagName()=="scope"&&N.hasMethodPart()){let O=u[u.length-2].copy();S.addScopeList(N.getMethodNameValue(),O)}if(S.containsPath(N.runtimeName())&&(o.push(N.id()),N.isClosedBy!=null&&a.push(N.isClosedBy.id()),S=S.copy().bringListIntoMainScope(N.runtimeName()),u.push(S)),N.currentScope=S,N.getTagName()!="cache"){let O=N.findParameter("scope");O!=null&&S.canShiftScope(N.runtimeName())&&(S=S.shiftScope(N,N.runtimeName(),O.value),N.currentScope=S,u.pop(),u.push(S))}if((h=Ie.instance)==null?void 0:h.isKnownTag(N.runtimeName())){let O=(b=Ie.instance)==null?void 0:b.findTag(N.runtimeName());typeof O!="undefined"&&O.augmentScope!=null&&O.augmentScope(N,S)}if(N.modifierChain!=null&&N.modifierChain.modifierChain.length>0&&N.modifierChain.modifierChain.forEach(O=>{O.modifier!=null&&typeof O.modifier.augmentScope!="undefined"&&O.modifier.augmentScope!=null&&O.modifier.augmentScope(N,S)}),N.modifiers.hasParameterModifiers()&&N.modifiers.parameterModifiers.forEach(O=>{O.modifier!=null&&typeof O.modifier.augmentScope!="undefined"&&O.modifier.augmentScope!=null&&O.modifier.augmentScope(N,S)}),N.sourceType=="array"){let O=N.findParameter("chunk"),$=!0;if(N.parent!=null&&N.parent instanceof B&&NO.includes(N.parent.runtimeName())&&($=!1),typeof O!="undefined"&&O!==null)if(N.currentScope.parentScope!=null&&(N.currentScope.parentScope.hasList(N.runtimeName())||S.referencesArray(N.runtimeName()))){let X=N.currentScope.parentScope.copy(),ee=X.liftList(N.runtimeName());if(ee==null&&S.referencesArray(N.runtimeName())){if(ee=new Qn(S.statamicProject),$){let Y=ze(N);for(let ne=0;ne<Y.length;ne++){let Le=Y[ne];X.wasIntroducedBySymbol(Le.name,N)&&X.removeThroughIntroduction(Le.name,N)}ee.addVariables(Y)}}else $&&X.addVariables(ze(N));X.addScopeList("chunk",ee),S=X,u.pop(),u.push(S),N.currentScope=X}else{let X=N.findParameter("scope");if(typeof X!="undefined"&&X!==null&&N.currentScope!=null&&N.currentScope.hasList(X.value)&&N.scopeName!=null){let ee=N.currentScope.copy(),Y=ee.ancestor().copy(),ne=ee.liftList(N.scopeName);$&&ee.addVariables(ze(N)),Y.liftList(N.scopeName),ee.addScopeList(N.scopeName,ne),Y.addScopeList("chunk",ee),S=Y,u.pop(),u.push(S),N.currentScope=Y}}else N.scopeVariable!=null&&N.scopeVariable.sourceField==null&&$&&(S.addVariables(ze(N)),S.addVariables(Ye(N)))}if(a.includes(N.id())&&N.parent!=null&&N.parent instanceof B){let O=N.currentScope.findAncestorWithList(N.getTagName());O!=null?(N.currentScope=O,S=O.copy(),u.pop(),u.length==0&&u.push(n),u.push(S)):N.parent.parent!=null?N.currentScope=N.parent.parent.currentScope:N.currentScope=N.parent.currentScope}if(N.currentScope!=null&&N.runtimeNodes.length>0&&N.runtimeNodes.forEach(O=>{var $;if(O instanceof oe&&(($=N.currentScope)==null?void 0:$.hasValue(O.name))){let X=N.currentScope.findReferenceWithField(O.name);O.currentScope=N.currentScope,O.scopeName=N.scopeName,O.scopeVariable=X}}),vO.includes(N.runtimeName())&&N.runtimeNodes.length==3&&N.runtimeNodes[0]instanceof oe&&N.runtimeNodes[1]instanceof Nn&&N.runtimeNodes[2]instanceof bt&&N.runtimeNodes[0].scopeVariable!=null&&N.runtimeNodes[0].scopeVariable.sourceField!=null){let O=N.runtimeNodes[0].scopeVariable,$=N.runtimeNodes[2].value,X=O.sourceField;if(X.sets!=null)for(let ee=0;ee<X.sets.length;ee++){let Y=X.sets[ee];if(Y.handle==$&&Y.fields!=null){S=S.copy(),S.addBlueprintFields(N,Y.fields),N.isClosedBy!=null&&!N.isSelfClosing&&(o.push(N.id()),a.push(N.isClosedBy.id()),u.push(S));break}}}this.lastSymbolId=N.id();let V=o.join("/");l.push(V)}}};var ms=class{};ms.globalTagEnterStack=[],ms.interpolatedVariables=[];var JN=Q(Vu());var Ln=class{constructor(){this.name="";this.compound="";this.methodPart="";this.content="";this.cachedCompoundTagName=null}tagPartIs(e){return e=e.toLowerCase().trim(),this.name.toLowerCase().trim()==e}isCompound(){return this.methodPart==null?!1:this.methodPart.length>0}getMethodName(){return this.methodPart==""?"index":this.methodPart=="null"?"":this.methodPart}getRuntimeMethodName(){}getCompoundTagName(){if(this.cachedCompoundTagName==null){let e=this.getMethodName();this.cachedCompoundTagName=this.name,e!=null&&e!=""&&(this.cachedCompoundTagName=this.cachedCompoundTagName+":"+e)}return this.cachedCompoundTagName}};var Hd=class{constructor(){this.tagNames=[];this.modifierNames=[]}getModifierNames(){var e,n;return this.modifierNames.concat((n=(e=Me.instance)==null?void 0:e.getModifierNames())!=null?n:[])}getTagNames(){var e,n;return this.tagNames.concat((n=(e=Ie.instance)==null?void 0:e.getTagNames())!=null?n:[])}setTagNames(e){this.tagNames=e}setModifierNames(e){this.modifierNames=e}isTag(e){var n;return Hd.alwaysLikeTag.includes(e)||((n=Ie.instance)==null?void 0:n.isKnownTag(e))?!0:this.tagNames.includes(e)}isModifier(e){var n;return((n=Me.instance)==null?void 0:n.hasModifier(e))?!0:this.modifierNames.includes(e)}},da=Hd;da.alwaysLikeTag=["if","endif","elseif","else","unless","elseunless"];var ha=class{static analyze(e,n){e.forEach(r=>{if(r instanceof B){if(r.pathReference!=null&&r.pathReference.isStrictVariableReference){r.isTagNode=!1;return}r.name!=null&&(r.isTagNode=n.isTag(r.name.name))}})}static analyzeNode(e){if(e.pathReference!=null&&e.pathReference.isStrictVariableReference){e.isTagNode=!1;return}ha.environmentDetails!=null&&e.name!=null&&(e.isTagNode=ha.environmentDetails.isTag(e.name.name)),e.name!=null&&(e.isConditionNode=da.alwaysLikeTag.includes(e.name.name))}static analyzeParametersForModifiers(e){e.parameters.forEach(n=>{ha.environmentDetails!=null&&(n.isModifierParameter=ha.environmentDetails.isModifier(n.name))})}},ma=ha;ma.environmentDetails=null;(typeof ma.environmentDetails=="undefined"||ma.environmentDetails==null)&&(ma.environmentDetails=new da);var Yd=ma;var Kd=class{static getIdentifier(e){var i;let n=new Ln;n.content=e.trim();let r=e.split(":");if(r.length==1)n.name=r[0].trim(),n.methodPart=null,n.compound=n.name;else if(r.length>1){let s=(i=r.shift())!=null?i:"",o=r.join(":");n.name=s.trim(),n.methodPart=o.trim(),n.compound=n.name+":"+n.methodPart}else n.name=e.trim(),n.methodPart="";return n.name.startsWith("/")&&(n.name=n.name.substr(1),n.compound=n.compound.substr(1)),n}};var re=class{static getPrettyTypeName(e){return e instanceof Gr?re.TOKEN_LANG_OPERATOR:e instanceof Wn?re.TOKEN_OP_A_ADD:e instanceof oe?re.TOKEN_VARIABLE:e instanceof bt?re.TOKEN_STRING:e instanceof Lt?re.TOKEN_NUMBER:e instanceof wr?re.TOKEN_CONSTANT_FALSE:e instanceof ur?re.TOKEN_CONSTANT_NULL:e instanceof Or?re.TOKEN_CONSTANT_TRUE:e instanceof Mo?re.TOKEN_MODIFIER_NODE:e instanceof al?re.TOKEN_MODIFIER_CHAIN:e instanceof nd?re.TOKEN_MODIFIER_PARAMETER:e instanceof Hn?re.TOKEN_OP_A_DIVIDE:e instanceof oi?re.TOKEN_OP_A_EXPONENTIATION:e instanceof ai?re.TOKEN_OP_A_MODULUS:e instanceof Yn?re.TOKEN_OP_A_MULTIPLY:e instanceof Tn?re.TOKEN_OP_A_SUBTRACT:e instanceof Lr?re.TOKEN_ASG_ADD:e instanceof Dr?re.TOKEN_ASG_DIVIDE:e instanceof kr?re.TOKEN_ASG_MODULUS:e instanceof Mr?re.TOKEN_ASG_MULTIPLY:e instanceof Kn?re.TOKEN_ASG_ASSIGN:e instanceof li?re.TOKEN_ASG_SUBTRACT:e instanceof Nn?re.TOKEN_CMP_EQUAL:e instanceof Ur?re.TOKEN_CMP_SEQUAL:e instanceof cr?re.TOKEN_CMP_GT:e instanceof Ei?re.TOKEN_CMP_GTE:e instanceof Fr?re.TOKEN_CMP_LT:e instanceof Vr?re.TOKEN_CMP_LTE:e instanceof qr?re.TOKEN_CMP_NEQ:e instanceof Br?re.TOKEN_CMP_SNEQ:e instanceof jr?re.TOKEN_CMP_SPACESHIP:e instanceof wi?re.TOKEN_OP_VARIABLE_FALLBACK:e instanceof rd?re.TOKEN_COND_FALLBACK_GROUP:e instanceof It?re.TOKEN_BRANCH_SEPARATOR:e instanceof Wr?re.TOKEN_TERNARY_SEPARATOR:e instanceof zt?re.TOKEN_GROUP_BEGIN:e instanceof Bt?re.TOKEN_GROUP_END:e instanceof vn?re.TOKEN_MODIFIER_SEPARATOR:e instanceof jt?re.TOKEN_MODIFIER_NAME:e instanceof Ut?re.TOKEN_MODIFIER_VALUE:e instanceof Pn?re.TOKEN_MODIFIER_VALUE_SEPARATOR:e instanceof ul?re.TOKEN_NULL_COALESCE_GROUP:e instanceof Ot?re.TOKEN_SEMANTIC_GROUP:e instanceof sn?re.TOKEN_STATEMENT_SEPARATOR:e instanceof cl?re.TOKEN_TERNARY_CONDITION:e instanceof fr?re.TOKEN_OP_AND:e instanceof on?re.TOKEN_OP_LOGIC_NEGATION:e instanceof Hr?re.TOKEN_OP_OR:e instanceof ui?re.TOKEN_OP_XOR:e instanceof pr?re.TOKEN_OP_NULL_COALESCE:e instanceof Vs?re.TOKEN_PARAM:e instanceof Un?re.TOKEN_PATH_ACCESSOR:e instanceof ts?re.TOKEN_OP_A_FACTORIAL:e instanceof lr?re.TOKEN_RECURSIVE:e instanceof qo?re.TOKEN_ARG_GROUP:e instanceof Ct?re.TOKEN_ARG_SEPARATOR:e instanceof ci?re.TOKEN_OP_STRING_CONCAT:e instanceof In?re.TOKEN_OP_SCOPE_REASSIGNMENT:e instanceof Vo?re.TOKEN_STRUCT_SWITCH_CASE:e instanceof Bs?re.TOKEN_STRUCT_SWITCH_GROUP:e instanceof qs?re.TOKEN_STRUCT_DIRECTION_GROUP:e instanceof dr?re.TOKEN_STRUCT_SCOPED_LOGIC_GROUP:e instanceof De?re.TOKEN_STRUCT_LOGIC_GROUP:e instanceof ll?re.TOKEN_STRUCT_VALUE_DIRECTION:e instanceof Oi?re.TOKEN_STRUCT_ARRAY:e instanceof Yr?re.TOKEN_STRUCT_T_LIST_START:e instanceof id?re.TOKEN_STRUCT_TUPLE_LIST:e instanceof Xt?re.TOKEN_STRUCT_METHOD_CALL:typeof e}},W=re;W.TOKEN_LANG_OPERATOR="T_LANG_OPERATOR",W.TOKEN_VARIABLE="T_VAR",W.TOKEN_NUMBER="T_NUMERIC",W.TOKEN_STRING="T_STRING",W.TOKEN_RECURSIVE="T_RECURSIVE",W.TOKEN_CONSTANT_FALSE="T_FALSE",W.TOKEN_CONSTANT_NULL="T_NULL",W.TOKEN_CONSTANT_TRUE="T_TRUE",W.TOKEN_MODIFIER_NODE="T_MODIFIER",W.TOKEN_MODIFIER_CHAIN="T_MODIFIER_CHAIN",W.TOKEN_MODIFIER_PARAMETER="T_MODIFIER_PARAM",W.TOKEN_OP_A_ADD="T_AOP_ADD",W.TOKEN_OP_A_DIVIDE="T_AOP_DIVIDE",W.TOKEN_OP_A_EXPONENTIATION="T_AOP_EXP",W.TOKEN_OP_A_MODULUS="T_AOP_MOD",W.TOKEN_OP_A_MULTIPLY="T_AOP_MULTIPLY",W.TOKEN_OP_A_SUBTRACT="T_AOP_SUBTRACT",W.TOKEN_OP_A_FACTORIAL="T_AOP_FACTORIAL",W.TOKEN_ASG_ADD="T_ASG_ADD",W.TOKEN_ASG_DIVIDE="T_ASG_DIVIDE",W.TOKEN_ASG_ASSIGN="T_ASG",W.TOKEN_ASG_MODULUS="T_ASG_MODULUS",W.TOKEN_ASG_MULTIPLY="T_ASG_MULTIPLY",W.TOKEN_ASG_SUBTRACT="T_ASG_SUBTRACT",W.TOKEN_CMP_EQUAL="T_CMP_EQ",W.TOKEN_CMP_SEQUAL="T_CMP_SEQ",W.TOKEN_CMP_GT="T_CMP_GT",W.TOKEN_CMP_GTE="T_CMP_GTE",W.TOKEN_CMP_LT="T_CMP_LT",W.TOKEN_CMP_LTE="T_CMP_LTE",W.TOKEN_CMP_NEQ="T_CMP_NEQ",W.TOKEN_CMP_SNEQ="T_CMP_SNEQ",W.TOKEN_CMP_SPACESHIP="T_CMP_SPSHP",W.TOKEN_OP_VARIABLE_FALLBACK="T_VFBK",W.TOKEN_COND_FALLBACK_GROUP="T_VFBK_GROUP",W.TOKEN_BRANCH_SEPARATOR="T_BRANCH_SEPARATOR",W.TOKEN_TERNARY_SEPARATOR="T_TERNARY_SEPARATOR",W.TOKEN_GROUP_BEGIN="T_LOGIC_BEGIN",W.TOKEN_GROUP_END="T_LOGIC_END",W.TOKEN_MODIFIER_SEPARATOR="T_MODIFIER_SEPARATOR",W.TOKEN_MODIFIER_NAME="T_MODIFIER_NAME",W.TOKEN_MODIFIER_VALUE="T_MODIFIER_VALUE",W.TOKEN_MODIFIER_VALUE_SEPARATOR="T_MODIFIER_VALUE_SEPARATOR",W.TOKEN_NULL_COALESCE_GROUP="T_NULL_COALESCE_GROUP",W.TOKEN_SEMANTIC_GROUP="T_SEMANTIC_GROUP",W.TOKEN_STATEMENT_SEPARATOR="T_STATEMENT_SEPARATOR",W.TOKEN_TERNARY_CONDITION="T_TERNARY_CONDITION",W.TOKEN_OP_AND="T_AND",W.TOKEN_OP_LOGIC_NEGATION="T_LOGIC_INVERSE",W.TOKEN_OP_OR="T_OR",W.TOKEN_OP_XOR="T_XOR",W.TOKEN_OP_NULL_COALESCE="T_NULL_COALESCE",W.TOKEN_PARAM="T_PARAM",W.TOKEN_PATH_ACCESSOR="T_VAR_SEPARATOR",W.TOKEN_ARG_GROUP="T_ARG_GROUP",W.TOKEN_ARG_SEPARATOR="T_ARG_SEPARATOR",W.TOKEN_OP_STRING_CONCAT="T_STR_CONCAT",W.TOKEN_OP_SCOPE_REASSIGNMENT="T_SCOPE_ASSIGNMENT",W.TOKEN_STRUCT_SWITCH_CASE="T_SWITCH_CASE",W.TOKEN_STRUCT_SWITCH_GROUP="T_SWITCH_GROUP",W.TOKEN_STRUCT_DIRECTION_GROUP="T_DIRECTION_GROUP",W.TOKEN_STRUCT_VALUE_DIRECTION="T_ORDER_DIRECTION",W.TOKEN_STRUCT_SCOPED_LOGIC_GROUP="T_SCOPED_LOGIC_GROUP",W.TOKEN_STRUCT_LOGIC_GROUP="T_LOGIC_GROUP",W.TOKEN_STRUCT_ARRAY="T_ARRAY",W.TOKEN_STRUCT_T_LIST_START="T_LIST_START",W.TOKEN_STRUCT_TUPLE_LIST="T_LIST",W.TOKEN_STRUCT_METHOD_CALL="T_METHOD_CALL";var Xe=class{static isLanguageLogicalKeyword(e){return e==this.LogicalAnd||e==this.LogicalNot||e==this.LogicalOr||e==this.LogicalXor}};Xe.LogicalAnd="and",Xe.LogicalNot="not",Xe.LogicalOr="or",Xe.LogicalXor="xor",Xe.ConstTrue="true",Xe.ConstFalse="false",Xe.ConstNull="null",Xe.ArrList="list",Xe.ScopeAs="as";var $d=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.currentContent=[];this.rawContent=[];this.startIndex=0;this.cur=null;this.next=null;this.prev=null;this.isParsingString=!1;this.isParsingModifierName=!1;this.isInModifierParameterValue=!1;this.runtimeNodes=[];this.ignorePrevious=!1;this.lastNode=null;this.referenceParser=null;this.activeNode=null}reset(){this.ignorePrevious=!1,this.runtimeNodes=[],this.chars=[],this.inputLen=0,this.currentIndex=0,this.currentContent=[],this.rawContent=[],this.startIndex=0,this.cur=null,this.next=null,this.prev=null,this.isParsingString=!1,this.isParsingModifierName=!1,this.isInModifierParameterValue=!1,this.referenceParser=null,this.activeNode=null}checkCurrentOffsets(){this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.ignorePrevious?(this.prev="",this.ignorePrevious=!1):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen&&(this.next=this.chars[this.currentIndex+1])}isValidChar(e){return e==null||e==E.Punctuation_Semicolon?!1:this.isParsingString==!1&&e=="]"?!0:this.isParsingString==!1&&e==")"?!1:(e=="["||e=="]")&&e==this.cur||(e=="_"||e=="."||e=="["||e=="]")&&(!(this.currentContent.length>0)||G.ctypeAlpha(this.cur)||G.ctypeDigit(this.cur))?!0:G.ctypeSpace(e)?!1:this.isParsingModifierName&&(e==E.Punctuation_Minus||e==E.Punctuation_Underscore)?!0:!G.ctypePunct(e)}isRightOfInterpolationRegion(){if(this.activeNode==null||this.referenceParser==null)return!1;let e=this.activeNode._lexerRelativeOffset(this.currentIndex);return this.referenceParser.bordersInterpolationRegion(e)}scanForwardTo(e,n=0){let r=[];for(let i=this.currentIndex+1+n;i<this.inputLen;i++){let s=this.chars[i];if(s==e){r.push(s);break}else r.push(s)}return r}nextNonWhitespace(){for(let e=this.currentIndex+1;e<this.inputLen;e++){let n=this.chars[e];if(!G.ctypeSpace(n))return n}return null}pushError(e){this.referenceParser!=null&&this.referenceParser.addAntlersError(e)}guardAgainstNeighboringTypesInModifier(e){return this.lastNode instanceof Ut&&this.pushError(M.makeSyntaxError(P.TYPE_MODIFIER_INCORRECT_VALUE_POSITION,this.lastNode,"Incorrect type ["+W.getPrettyTypeName(e)+"] near ["+W.getPrettyTypeName(this.lastNode)+"]")),!1}appendContent(e){e!=null&&this.currentContent.push(e)}tokenize(e,n){this.reset(),this.referenceParser=e.getParser(),this.activeNode=e,this.chars=n.split(""),this.inputLen=this.chars.length,this.runtimeNodes=[],this.lastNode=null;let r=null;this.isParsingString=!1,this.isParsingModifierName=!1;let i=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){this.checkCurrentOffsets();let o=!0;if(this.cur!=null&&this.rawContent.push(this.cur),this.isParsingString==!1&&(this.cur==E.String_Terminator_DoubleQuote||this.cur==E.String_Terminator_SingleQuote)){if(this.prev==E.String_EscapeCharacter){this.pushError(M.makeSyntaxError(P.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE,e,"Illegal string escape sequence outside string parsing."));continue}this.rawContent=[],this.rawContent.push(this.cur),i=this.cur,this.isParsingString=!0,r=this.currentIndex;continue}if(this.isInModifierParameterValue&&!this.isParsingString){let a=!1;if(!this.isParsingString&&G.ctypeSpace(this.next)){let l=this.scanForwardTo(" ",1).join("").trim().toLowerCase();l.length>0&&Xe.isLanguageLogicalKeyword(l)&&(a=!0)}if(this.next==E.String_Terminator_SingleQuote||this.next==E.String_Terminator_DoubleQuote||this.next==null||a){this.appendContent(this.cur);let l=this.currentContent.join("");if(l.length>0){let u=l;if(this.currentContent=[],this.rawContent=[],u.trimRight().length==0){let f=this.nextNonWhitespace();if(f==E.String_Terminator_SingleQuote||f==E.String_Terminator_DoubleQuote){this.currentContent=[],this.rawContent=[];continue}}let c=new Ut;c.isVirtual=!1,c.name=u,c.value=u.trimRight(),c.startPosition=e._lexerRelativeOffset(this.currentIndex-u.length),c.endPosition=e._lexerRelativeOffset(this.currentIndex),c.parent=this.activeNode,this.guardAgainstNeighboringTypesInModifier(c),this.runtimeNodes.push(c),this.lastNode=c}if(l.length==0)continue;this.currentContent=[],this.rawContent=[],this.isInModifierParameterValue=!1;continue}if(this.next==E.Punctuation_Pipe||this.next==E.Punctuation_Colon||this.next==E.RightParent){this.isInModifierParameterValue=!1,this.appendContent(this.cur);let l=0,u=!1;if(this.currentContent[0]==E.String_Terminator_SingleQuote||this.currentContent[0]==E.String_Terminator_DoubleQuote){let m=this.scanForwardTo(this.currentContent[0]);m.length>0&&(this.currentContent=this.currentContent.concat(m),l=m.length,u=!0)}let c=this.currentContent.join("");u&&(c=c.substr(1),c=c.slice(0,-1)),this.currentContent=[],this.rawContent=[];let f=new Ut;f.isVirtual=!1,f.name=c,f.value=c,f.startPosition=e._lexerRelativeOffset(this.currentIndex-c.length),f.endPosition=e._lexerRelativeOffset(this.currentIndex),f.parent=this.activeNode,this.runtimeNodes.push(f),this.guardAgainstNeighboringTypesInModifier(f),this.lastNode=f,this.currentIndex+=l}else this.appendContent(this.cur);continue}if(this.isParsingString&&this.cur==i){if(this.prev==E.String_EscapeCharacter)this.appendContent(i);else{if(this.isInModifierParameterValue){let l=this.currentContent.join(""),u=new Ut;u.isVirtual=!1,u.name=l,u.value=l,u.startPosition=e._lexerRelativeOffset(r!=null?r:0),u.endPosition=e._lexerRelativeOffset(this.currentIndex),u.parent=this.activeNode,this.runtimeNodes.push(u),this.guardAgainstNeighboringTypesInModifier(u),this.lastNode=u,this.currentContent=[],this.rawContent=[],this.isParsingString=!1,this.isInModifierParameterValue=!1;continue}let a=new bt;a.isVirtual=!1,a.startPosition=e._lexerRelativeOffset(r!=null?r:0),a.endPosition=e._lexerRelativeOffset(this.currentIndex),this.referenceParser!=null&&(a.sourceContent=this.referenceParser.getText(a.startPosition.index,a.endPosition.index+1)),a.parent=this.activeNode,i!=null&&(a.sourceTerminator=i),i=null,this.isParsingString=!1,a.value=this.currentContent.join(""),a.rawLexContent=this.rawContent.join("").trim(),this.currentContent=[],this.rawContent=[],this.guardAgainstNeighboringTypesInModifier(a),this.runtimeNodes.push(a),this.lastNode=a}continue}if(this.isParsingString&&this.cur==E.String_EscapeCharacter){if(this.next==E.String_EscapeCharacter){this.appendContent(E.String_EscapeCharacter),this.ignorePrevious=!0,this.currentIndex+=1;continue}else if(this.next==E.String_Terminator_SingleQuote){this.appendContent(E.String_Terminator_SingleQuote),this.currentIndex+=1;continue}else if(this.next==E.String_Terminator_DoubleQuote){this.appendContent(E.String_Terminator_DoubleQuote),this.currentIndex+=1;continue}else if(this.next=="n"){this.appendContent(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){this.appendContent("	"),this.currentIndex+=1;continue}else if(this.next=="r"){this.appendContent("\r"),this.currentIndex+=1;continue}}if(this.isParsingString==!1){if(this.isValidChar(this.cur)&&this.isValidChar(this.next)==!1&&this.currentContent.length==0&&(this.appendContent(this.cur),o=!1),(this.next==null||this.isValidChar(this.next)==!1)&&this.currentContent.length>0){o&&this.appendContent(this.cur);let a=this.currentContent.join("").trim(),l=a.length,u=this.currentIndex-l,c=e._lexerRelativeOffset(u),f=e._lexerRelativeOffset(this.currentIndex);if(this.currentContent=[],this.rawContent=[],a==Xe.LogicalAnd){let d=new fr;d.isVirtual=!1,d.content=Xe.LogicalAnd,d.startPosition=c,d.endPosition=f,d.parent=this.activeNode,this.runtimeNodes.push(d),this.lastNode=d;continue}else if(a==Xe.LogicalOr){let d=new Hr;d.isVirtual=!1,d.content=Xe.LogicalOr,d.startPosition=c,d.endPosition=f,d.parent=this.activeNode,this.runtimeNodes.push(d),this.lastNode=d;continue}else if(a==Xe.LogicalXor){let d=new ui;d.isVirtual=!1,d.content=Xe.LogicalXor,d.startPosition=c,d.endPosition=f,d.parent=this.activeNode,this.runtimeNodes.push(d),this.lastNode=d;continue}else if(a==Xe.ConstNull){let d=new ur;d.isVirtual=!1,d.content=Xe.ConstNull,d.startPosition=c,d.endPosition=f,d.parent=this.activeNode,this.runtimeNodes.push(d),this.lastNode=d;continue}else if(a==Xe.ConstTrue){let d=new Or;d.isVirtual=!1,d.content=Xe.ConstTrue,d.startPosition=c,d.endPosition=f,d.parent=this.activeNode,this.runtimeNodes.push(d),this.lastNode=d;continue}else if(a==Xe.ConstFalse){let d=new wr;d.isVirtual=!1,d.content=Xe.ConstFalse,d.startPosition=c,d.endPosition=f,d.parent=this.activeNode,this.runtimeNodes.push(d),this.lastNode=d;continue}else if(a==Xe.LogicalNot){let d=new on;d.isVirtual=!1,d.content=Xe.LogicalNot,d.startPosition=c,d.endPosition=f,d.parent=this.activeNode,this.runtimeNodes.push(d),this.lastNode=d;continue}else if(a==Xe.ArrList&&this.next==E.LeftParen){let d=new Yr;d.isVirtual=!1,d.content=Xe.ArrList,d.startPosition=c,d.endPosition=f,d.parent=this.activeNode,this.runtimeNodes.push(d),this.lastNode=d;continue}if(G.isNumeric(a)){let d=new Lt;d.isVirtual=!1,d.startPosition=c,d.endPosition=f,d.parent=this.activeNode,a.includes(".")?d.value=parseFloat(a):d.value=parseInt(a),d.rawLexContent=a,this.guardAgainstNeighboringTypesInModifier(d),this.runtimeNodes.push(d),this.lastNode=d;continue}if(this.runtimeNodes.length>0){let d=this.runtimeNodes[this.runtimeNodes.length-1];if(d instanceof vn){let p=new jt;p.isVirtual=!1,p.name=a,p.content=a,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(d instanceof Pn){let p=new Ut;p.isVirtual=!1,p.name=a,p.value=a,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p,this.isParsingModifierName=!1;continue}}let m=new oe;m.isVirtual=!1,m.name=a,m.startPosition=c,m.endPosition=f,m.parent=this.activeNode,this.runtimeNodes.push(m),this.lastNode=m;continue}}else{this.appendContent(this.cur);continue}if(!G.ctypeSpace(this.cur)){if(this.isParsingString==!1){if(this.cur==E.Punctuation_Equals&&this.next==E.Punctuation_GreaterThan){let a=new In;a.isVirtual=!1,a.content="=>",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.currentContent=[],this.rawContent=[],this.currentIndex+=1;continue}if(this.cur==E.Punctuation_Comma){let a=new Ct;a.isVirtual=!1,a.content=E.Punctuation_Comma,a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==E.Punctuation_Semicolon){let a=new sn;a.isVirtual=!1,a.content=E.Punctuation_Semicolon,a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==E.Punctuation_Plus){if(this.next==E.Punctuation_Equals){let l=new Lr;l.isVirtual=!1,l.content="+=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let a=new Wn;a.isVirtual=!1,a.content="+",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.isParsingModifierName==!1&&this.cur==E.Punctuation_Minus){if(G.ctypeDigit(this.next)&&G.ctypeDigit(this.prev)==!1&&this.prev!=E.RightParent&&this.isRightOfInterpolationRegion()==!1){this.appendContent(this.cur);continue}if(this.next==E.Punctuation_Equals){let l=new li;l.isVirtual=!1,l.content="-=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}else if(this.next==E.Punctuation_GreaterThan){let l=new Xt;l.isVirtual=!1,l.content="->",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let a=new Tn;a.isVirtual=!1,a.content="-",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==E.Punctuation_Asterisk){if(this.next==E.Punctuation_Asterisk){let l=new oi;l.isVirtual=!1,l.content="**",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}else if(this.next==E.Punctuation_Equals){let l=new Mr;l.isVirtual=!1,l.content="*=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let a=new Yn;a.isVirtual=!1,a.content="*",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==E.Punctuation_ForwardSlash){if(this.next==E.Punctuation_Equals){let l=new Dr;l.isVirtual=!1,l.content="/=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let a=new Hn;a.isVirtual=!1,a.content="/",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==E.Punctuation_Percent){if(this.next==E.Punctuation_Equals){let l=new kr;l.isVirtual=!1,l.content="%=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let a=new ai;a.isVirtual=!1,a.content="%",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==E.Punctuation_LessThan){if(this.next==E.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==E.Punctuation_GreaterThan){let c=new jr;c.isVirtual=!1,c.content="<=>",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+3),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=2;continue}let u=new Vr;u.isVirtual=!1,u.content="<=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let a=new Fr;a.isVirtual=!1,a.content="<",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==E.Punctuation_GreaterThan){if(this.next==E.Punctuation_Equals){let l=new cr;l.isVirtual=!1,l.content=">=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let a=new cr;a.isVirtual=!1,a.content=">",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==E.Punctuation_Equals&&this.next!=E.Punctuation_Equals){let a=new Kn;a.isVirtual=!1,a.content="=",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==E.Punctuation_Equals&&this.next==E.Punctuation_Equals){let a=null;if(this.currentIndex+2<this.inputLen&&(a=this.chars[this.currentIndex+2]),a==E.Punctuation_Equals){let l=new Ur;l.isVirtual=!1,l.content="===",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+3),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=2}else{let l=new Nn;l.isVirtual=!1,l.content="==",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1}continue}if(this.cur==E.Punctuation_Ampersand){if(this.next==E.Punctuation_Ampersand){let l=new fr;l.isVirtual=!1,l.content="&&",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}if(this.next==E.Punctuation_Equals){let l=new ci;l.isVirtual=!1,l.content="&=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}let a=new fr;a.isVirtual=!1,a.content="&",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==E.Punctuation_Pipe&&this.next!=E.Punctuation_Pipe){let a=new vn;a.isVirtual=!1,a.content="|",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.isParsingModifierName=!0;continue}if(this.cur==E.Punctuation_Pipe&&this.next==E.Punctuation_Pipe){let a=new Hr;a.isVirtual=!1,a.content="||",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+2),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.currentIndex+=1;continue}if(this.cur==E.Punctuation_Exclamation){if(this.next==E.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==E.Punctuation_Equals){let c=new Br;c.isVirtual=!1,c.content="!==",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+3),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=2;continue}let u=new qr;u.isVirtual=!1,u.content="!=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let a=new on;a.isVirtual=!1,a.content="!",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==E.Punctuation_Question&&this.next==E.Punctuation_Equals){let a=new wi;a.isVirtual=!1,a.content="?=",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+2),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.currentIndex+=1;continue}if(this.cur==E.Punctuation_Question&&this.next==E.Punctuation_Question){let a=new pr;a.isVirtual=!1,a.content="??",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+2),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.currentIndex+=1;continue}if(this.cur==E.Punctuation_Question&&this.next==E.Punctuation_Colon){let a=new pr;a.isVirtual=!1,a.content="?:",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+2),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.currentIndex+=1;continue}if(this.cur==E.Punctuation_Question){let a=new Wr;a.isVirtual=!1,a.content="?",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==E.LeftParen){let a=new zt;a.isVirtual=!1,a.content="(",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==E.RightParent){let a=new Bt;a.isVirtual=!1,a.content=")",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==E.Punctuation_Colon){if(this.runtimeNodes.length>0&&this.runtimeNodes[this.runtimeNodes.length-1]instanceof jt){let u=new Pn;u.isVirtual=!1,u.content=":",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+1),u.parent=this.activeNode,this.runtimeNodes.push(u),this.isInModifierParameterValue==!1?this.isInModifierParameterValue=!0:this.isInModifierParameterValue=!1;continue}let a=new It;a.isVirtual=!1,a.content=":",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.isParsingModifierName=!1;continue}}o&&this.appendContent(this.cur)}}let s=this.runtimeNodes.length-1;for(let o=0;o<this.runtimeNodes.length;o++){let a=null,l=null;o>0&&(a=this.runtimeNodes[o-1]),o!=s&&(l=this.runtimeNodes[o+1]);let u=this.runtimeNodes[o];u.prev=a,u.next=l}return this.runtimeNodes}};var kt=class{constructor(){this.chars=[];this.currentIndex=0;this.lastIndex=0;this.inputLength=0;this.prev=null;this.cur=null;this.next=null;this.isParsingString=!1;this.isStringKeyPath=!1;this.antlersErrors=[];this._recusriveEntryCheck=new Map}isValidChar(e){return!(this.isParsingString==!1&&G.ctypeSpace(e)||this.isParsingString==!1&&e==kt.LeftBracket||this.isParsingString==!1&&e==kt.RightBracket)}normalizePath(e){return e=e.replace(":","_"),e=e.replace(".","_"),e=e.replace("[","_"),e=e.replace("]","_"),e.replace("]","_")}getAntlersErrors(){return this.antlersErrors}mergeErrors(e){e.forEach(n=>{this.antlersErrors.push(n)})}parse(e){this.antlersErrors=[],this._recusriveEntryCheck.clear();let n=e,r=!1,i=!1,s=!1,o=!1;e.startsWith(E.AtChar)&&(s=!0,e=e.substr(1)),e.startsWith(E.Punctuation_Caret)?(o=!0,e=e.substr(1)):(e.startsWith(E.Punctuation_Dollar)&&(r=!0,e=e.substr(1)),e.startsWith(E.Punctuation_Dollar)&&(i=!0,e=e.substr(1))),this.chars=[],this.currentIndex=0,this.lastIndex=0,this.inputLength=0,this.cur=null,this.prev=null,this.next=null,this.chars=e.split(""),this.inputLength=this.chars.length,this.lastIndex=this.inputLength-1;let a=[],l=!1,u=[],c=kt.ColonSeparator,f=!1,m=null,d=!1,p=!0;if(this.isParsingString=!1,this.inputLength==0){let h=new rs;return h._isFromEmptyFailState=!0,h}for(this.currentIndex;this.currentIndex<this.inputLength;this.currentIndex+=1){if(this.cur=this.chars[this.currentIndex],this.next=null,f?(f=!1,this.prev=""):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLength&&(this.next=this.chars[this.currentIndex+1]),this.isParsingString==!1&&this.cur==kt.ColonSeparator&&(c=kt.ColonSeparator),this.isParsingString==!1&&this.cur==kt.DotPathSeparator&&(c=kt.DotPathSeparator),this.isParsingString&&this.cur==E.String_EscapeCharacter&&this.next==m){m!=null&&a.push(m),this.currentIndex+=1;continue}if(this.cur==E.String_Terminator_SingleQuote||this.cur==E.String_Terminator_DoubleQuote)if(this.isParsingString)if(this.cur==m)if(this.prev==E.String_EscapeCharacter){a.push(this.cur);continue}else this.isParsingString=!1,p=!1;else{a.push(this.cur);continue}else{this.prev!=E.LeftBracket&&(G.ctypeAlpha(this.prev)||G.ctypeDigit(this.prev))&&this.antlersErrors.push(M.makeSyntaxError(P.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR,null,"Unexpected string start while parsing variable path. String literals must be within array accessors.")),this.isParsingString=!0,d=!0,m=this.cur,this.isStringKeyPath=!0;continue}if(this.isParsingString){if(G.ctypeSpace(this.cur)){a.push(this.cur);continue}else if(this.cur==E.String_EscapeCharacter){if(this.next==E.String_EscapeCharacter){a.push(E.String_EscapeCharacter),this.currentIndex+=1,f=!0;continue}else if(this.next=="n"){a.push(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){a.push("	"),this.currentIndex+=1;continue}else if(this.next=="r"){a.push("\r"),this.currentIndex+=1;continue}}}if(this.isParsingString==!1&&this.cur==kt.LeftBracket){if(a.length>0){let g=new Un;g.name=a.join(""),g.delimiter=c,u.push(g),a=[]}if(this.next==null||G.ctypeSpace(this.next)){this.antlersErrors.push(M.makeSyntaxError(P.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT,null,"Unexpected end of input or whitespace while parsing variable accessor path."));continue}let h=this.locateEndOfAccessor();this.currentIndex=h.foundOn;let b=new kt;if(u.push(b.parse(h.nestedContent)),this.mergeErrors(b.getAntlersErrors()),l=!0,this.currentIndex==-1){this.antlersErrors.push(M.makeSyntaxError(P.PARSER_CANNOT_PARSE_PATH_RECURSIVE,null,"Cannot parse variable path.")),l=!1;break}continue}if(this.isParsingString==!1&&this.next==kt.RightBracket&&l){p?a.push(this.cur):p=!0;let h=new sd;h.name=a.join(""),u.push(h),a=[],c=kt.ColonSeparator,this.currentIndex+=1,l=!1;continue}if(this.isParsingString==!1&&(this.cur==kt.LeftBracket||this.cur==kt.ColonSeparator||this.cur==kt.DotPathSeparator||this.currentIndex==this.lastIndex)){if(this.next==null||G.ctypeSpace(this.next)){if(this.cur==kt.ColonSeparator){if(a.length==0){this.antlersErrors.push(M.makeSyntaxError(P.TYPE_UNEXPECTED_BRANCH_SEPARATOR,null,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}this.antlersErrors.push(M.makeSyntaxError(P.TYPE_ILLEGAL_VARPATH_RIGHT,null,'Variable paths cannot end with the ":" character.'));continue}if(this.cur==kt.LeftBracket){this.antlersErrors.push(M.makeSyntaxError(P.TYPE_ILLEGAL_VARPATH_SUBPATH_START,null,"Illegal variable sub-path start."));continue}}this.currentIndex==this.lastIndex&&this.isValidChar(this.cur)&&(p?a.push(this.cur):p=!0);let h=new Un;h.delimiter=c,h.name=a.join(""),d&&(h.isStringVar=d,h.name=n.substr(1),h.name=h.name.slice(0,-1),d=!1),u.push(h),a=[];continue}else{a.push(this.cur);continue}}let _=u.length;if(_>0){let h=u[_-1];(h instanceof Un||h instanceof rs)&&(h.isFinal=!0)}let C=new rs;return C.isStrictTagReference=o,C.isStrictVariableReference=r,C.isExplicitVariableReference=i,C.pathParts=u,C.originalContent=e,C.isVariableVariable=s,C.normalizedReference=e.replace(":","."),C}locateEndOfAccessor(){let e=[],n=1,r=-1,i="",s=!1,o=null;if(this._recusriveEntryCheck.has(this.currentIndex+1)==!1)this._recusriveEntryCheck.set(this.currentIndex+1,!0);else return{foundOn:r,nestedContent:""};for(let a=this.currentIndex+1;a<this.inputLength;a++){let l=this.chars[a],u=null,c=null;if(a>0&&(c=this.chars[a-1]),a+1<this.inputLength&&(u=this.chars[a+1]),s==!1&&(l==E.String_Terminator_SingleQuote||l==E.String_Terminator_DoubleQuote)){s=!0,o=l,e.push(l);continue}if(s==!1&&l==kt.LeftBracket){n+=1,e.push(l);continue}if(s&&l==o&&c!=E.String_EscapeCharacter){e.push(l),s=!1,o=null;continue}if(s==!1&&l==kt.RightBracket)if(n-=1,n==0){r=a,i=e.join("");break}else{e.push(l);continue}else e.push(l);s==!1&&G.ctypeSpace(u)&&this.antlersErrors.push(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path.")),u==null&&this.antlersErrors.push(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path."))}return{foundOn:r,nestedContent:i}}},ki=kt;ki.ColonSeparator=":",ki.LeftBracket="[",ki.RightBracket="]",ki.DotPathSeparator=".";var zd=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.cur=null;this.prev=null;this.pathParser=new ki;this.lexer=new $d;this.activeNode=null}reset(){this.chars=[],this.inputLen=0,this.currentIndex=0,this.cur=null,this.prev=null}canBeClosingTag(e){var r;let n=(r=e.name)==null?void 0:r.name;return n=="elseif"||n=="else"?!0:e.name==null?!1:e.name.content.startsWith("/")}parseNode(e){var c,f,m,d;if(this.activeNode=e,this.reset(),e.content.startsWith("*subrecursive")){let p=e.content;p=p.trim(),p=G.trimRight(p,"*"),p=p.substr(13);let _=new lr;return e.copyBasicDetailsTo(_),_.originalNode=e,_.name=new Ln,_.name.name=p,_.isNestedRecursive=!0,_.pathReference=this.pathParser.parse(p),_.mergeErrors(this.pathParser.getAntlersErrors()),_.content=p,_.runtimeContent=p,_}if(e.content.trim().startsWith("*recursive")){let p=e.content;p=p.trim(),p=G.trimRight(p,"*"),p=p.substr(10).trim();let _=new lr;return e.copyBasicDetailsTo(_),_.originalNode=e,_.name=new Ln,_.name.name=p,_.pathReference=this.pathParser.parse(p),_.mergeErrors(this.pathParser.getAntlersErrors()),_.content=p,_.runtimeContent=p,_}this.chars=e.content.split(""),this.inputLen=this.chars.length;let n=[],r=!1,i="",s=!1,o=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.cur=this.chars[this.currentIndex],this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),r==!1){if(s==!1&&(this.cur==E.String_Terminator_DoubleQuote||this.cur==E.String_Terminator_SingleQuote)){o=this.cur,s=!0,n.push(this.cur);continue}if(s&&G.ctypeSpace(this.cur)){n.push(this.cur);continue}if(s&&this.cur==o&&this.prev!=E.String_EscapeCharacter){o=null,s=!1,n.push(this.cur);continue}if(G.ctypeSpace(this.cur)||this.currentIndex==this.inputLen-1||this.cur==E.Punctuation_Pipe){if(n.length==0)continue;G.ctypeSpace(this.cur)||this.cur!=E.Punctuation_Pipe&&n.push(this.cur),i=n.join(""),r=!0;break}n.push(this.cur)}let a=e.getContentRelativeStartIndex();if(e.nameStartsOn=e.relativeOffset(a,a),e.nameStartsOn!=null&&(e.nameEndsOn=e.nameStartsOn.shiftRight(i.length-1),i.includes(E.Punctuation_Colon))){let p=i.indexOf(E.Punctuation_Colon);e.nameMethodPartStartsOn=e.nameStartsOn.shiftRight(p+1)}e.name=Kd.getIdentifier(i),Yd.analyzeNode(e),e.parameters=this.getParameters(e),e.hasParameters=e.parameters.length>0,e.hasParameters&&(Yd.analyzeParametersForModifiers(e),e.resetContentCache()),e.pathReference=this.pathParser.parse(i),e.mergeErrors(this.pathParser.getAntlersErrors()),e.pathReference!=null&&e.pathReference.isStrictTagReference&&(e.name.name=e.name.name.substr(1),e.name.content=e.name.content.substr(1)),e.isClosingTag=this.canBeClosingTag(e);let l=[];e.isClosingTag==!1&&(l=this.lexer.tokenize(e,e.getContent())),e.runtimeNodes=l;let u=e.content.trim();if($t.isConditionalStructure(e)&&e.name.name!="else"&&l.length==0&&u!="/if"&&u!="/unless"&&u!="/endunless"&&u!="endif"&&u!="endunless"&&u!="/endif"&&e.getContent().trim().length==0&&this.pushConditionWithoutExpression(e),e.name.name=="endif"){let p=e.copyBasicDetails(),_=e.getParser();return _!=null&&p.withParser(_),p.name=new Ln,p.name.name="if",p.name.compound="if",p.isClosingTag=!0,p.content=" /if ",p.originalNode=e,p}if(e.name.name=="unless"){let p=e.copyBasicDetails(),_=e.getParser();if(_!=null&&p.withParser(_),p.name=new Ln,p.name.name="if",p.name.compound="if",e.isClosingTag==!1){let C=(c=e.getContent())!=null?c:"",h=" if !("+C+") ";p.content=h,p.originalNode=e,p.resetContentCache(),p.runtimeNodes=this.lexer.tokenize(p,(f=p.getContent())!=null?f:""),this.testUnlessContent(p)}else p.originalNode=e,p.content=" /if ";return p}else if(e.name.name=="elseunless"){let p=e.copyBasicDetails(),_=e.getParser();_!=null&&p.withParser(_),p.name=new Ln,p.name.name="elseif",p.name.compound="elseif";let C=(m=e.getContent())!=null?m:"",h=" elseif !("+C+") ";return p.content=h,p.originalNode=e,p.resetContentCache(),p.runtimeNodes=this.lexer.tokenize(p,(d=p.getContent())!=null?d:""),this.testUnlessContent(p),p}else if(e.name.name=="endunless"){let p=e.copyBasicDetails(),_=e.getParser();return _!=null&&p.withParser(_),p.name=new Ln,p.name.name="if",p.name.compound="if",p.isClosingTag=!0,p.content=" /if ",p.originalNode=e,p}return e}pushError(e){this.activeNode!=null&&this.activeNode.pushError(e)}testUnlessContent(e){var r;let n=(r=e.getContent())!=null?r:"";if(n=n.replace("!",""),n=n.replace("(",""),n=n.replace(")","").trim(),n.length==0){this.pushConditionWithoutExpression(e);return}}pushConditionWithoutExpression(e){this.pushError(M.makeSyntaxError(P.TYPE_PARSE_EMPTY_CONDITIONAL,e,"Condition structure lacks comparison expression."))}getParameters(e){var V,O,$,X,ee,Y,ne,Le,de;let n=(V=e.getContent())!=null?V:"",r=n.split(""),i=[],s=[],o=r.length,a=0;if(e.name!=null){let Z=G.trimLeft(e.content," "),Ge=e.content.length-Z.length,lt=e.name.content.length;Ge>0?a=Ge+lt:a=lt}let l=!1,u=[],c="",f=0,m=0,d=!1,p=null,_=-1,C=-1,h=-1,b=-1,g=-1,N=-1,S='"';for(let Z=0;Z<o;Z++){let Ge=r[Z],lt=null,Ft=null;if(Z+1<o&&(Ft=r[Z+1]),d?(lt="",d=!1):Z>0&&(lt=r[Z-1]),l==!1&&G.ctypeSpace(Ge)){u=[],_=-1,C=-1,h=-1,b=-1,g=-1,N=-1;continue}if(l==!1&&Ge==E.Punctuation_Equals){if(u.length>0&&(G.ctypeAlpha(u[0])||G.ctypeDigit(u[0])||u[0]==E.Punctuation_Colon||u[0]==E.AtChar)==!1){u=[];continue}if(Z+1>=o){this.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_END_OF_INPUT,e,"Unexpected end of input"));continue}let Ve=null;if(Z+1<o&&(Ve=r[Z+1]),lt==E.Punctuation_Equals){u=[],_=-1,C=-1,h=-1,b=-1,g=-1,N=-1;continue}if(G.ctypeSpace(Ve)||Ve==E.Punctuation_Equals){u=[],_=-1,C=-1,h=-1,b=-1,g=-1,N=-1;continue}u.length>0&&(b=Z,g=Z,c=u.join(""),f=m,l=!0,u=[]),Ft==E.String_Terminator_DoubleQuote&&(p=E.String_Terminator_DoubleQuote,S=E.String_Terminator_DoubleQuote,Z+=1),Ft==E.String_Terminator_SingleQuote&&(p=E.String_Terminator_SingleQuote,S=E.String_Terminator_SingleQuote,Z+=1);continue}if(l&&Ge==E.String_EscapeCharacter){let Ve=null;if(Z+1<o&&(Ve=r[Z+1]),Ve==E.String_EscapeCharacter){u.push(E.String_EscapeCharacter),Z+=1,d=!0;continue}if(Ve==E.String_Terminator_DoubleQuote){u.push(E.String_Terminator_DoubleQuote),Z+=1;continue}if(Ve==E.String_Terminator_SingleQuote){u.push(E.String_Terminator_SingleQuote),Z+=1;continue}if(Ve=="n"){u.push(`
`),Z+=1;continue}if(Ve=="r"){u.push("\r"),Z+=1;continue}}if(l==!1&&(p!=null&&Ge==p||p==null&&G.ctypeSpace(Ge))&&i.push(u.join("")),l&&(p!=null&&Ge==p||p==null&&G.ctypeSpace(Ge))){let Ve=u.join("");N=Z,C=Z,l=!1,p=null,u=[];let ut=new Vs;if(c.startsWith(E.Punctuation_Colon)&&(ut.isVariableReference=!0,c=c.substr(1)),ut.nameDelimiter=S,ut.name=c,ut.value=Ve,ut.startPosition=(O=e.relativePositionFromOffset(m,f))!=null?O:null,Z+1>o){this.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER,e,"Unexpected end of input while parsing parameter content.")),ut.parent=e,s.push(ut),c="";continue}ut.endPosition=($=e.relativePositionFromOffset(Z+1,Z+1))!=null?$:null,ut.parent=e,ut.blockPosition={start:(X=e.relativeOffset(_,_))!=null?X:null,end:(ee=e.relativeOffset(C,C))!=null?ee:null},ut.namePosition={start:(Y=e.relativeOffset(h,h))!=null?Y:null,end:(ne=e.relativeOffset(b,b))!=null?ne:null},ut.valuePosition={start:(Le=e.relativeOffset(g+2,g+2))!=null?Le:null,end:(de=e.relativeOffset(N,N))!=null?de:null},s.push(ut),c="",_=-1,C=-1,h=-1,b=-1,g=-1,N=-1;continue}if(l==!1&&(Ge==E.String_Terminator_DoubleQuote||Ge==E.String_Terminator_SingleQuote)&&Z>a)break;u.push(Ge),_==-1&&(_=Z),h==-1&&(h=Z),u.length==1&&(m=Z+1)}if(p!=null){let Z=e;if(i.length>0){let Ge=i[i.length-1],lt=e.content.indexOf(Ge);if(lt>=0){let Ft=new J;Ft.startPosition=e.relativeOffset(lt-2,lt-2),Ft.endPosition=e.relativeOffset(lt+Ge.length,lt+Ge.length),Z=Ft}}this.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_END_OF_INPUT,Z,"Unexpected string literal while parsing parameters."))}return s}};function bl(t){return t.length==0?null:t[0].startPosition}var $N=Q(Vu()),Fc=class{static regions(){return this.noParseRegions}static clear(){this.noParseRegions.clear()}static registerNoParseContent(e){let n=$N.Md5.hashStr(e);return this.noParseRegions.set(n,e),n}};Fc.noParseRegions=new Map;function Xd(t,e){let n=new Set(t),r=new Set(e),i=new Set([...n].filter(s=>r.has(s)));return Array.from(i)}var Qd=class{constructor(){this.closingTagIndex=new Map;this.closingTagIndexCount=new Map;this.openTagIndexCount=new Map;this.closingTagNames=new Map;this.parentNode=null;this.stackCount=0;this.createdExecutionBranches=[];this.document=null}getClosingCandidates(e){var n,r;if((e instanceof B||e instanceof ft)&&e.isClosingTag==!1){let i=(r=(n=e.name)==null?void 0:n.compound)!=null?r:"";return i=="if"?["if","elseif","else"]:i=="elseif"?["elseif","else","if"]:i=="else"?["if"]:[i]}return[]}buildCloseIndex(e){var n,r,i;e.forEach(s=>{var o,a,l,u,c,f,m,d,p,_;if(!(s instanceof lr)&&!((s instanceof B||s instanceof ft)&&s.isSelfClosing)&&(s instanceof B||s instanceof ft)&&s.isClosingTag){this.closingTagIndex.has(this.stackCount)==!1&&this.closingTagIndex.set(this.stackCount,new Map),this.closingTagIndexCount.has(this.stackCount)==!1&&this.closingTagIndexCount.set(this.stackCount,new Map);let C=(a=(o=s.name)==null?void 0:o.compound)!=null?a:"";((l=this.closingTagIndex.get(this.stackCount))==null?void 0:l.has(C))==!1&&((u=this.closingTagIndex.get(this.stackCount))==null||u.set(C,[]),(c=this.closingTagIndexCount.get(this.stackCount))==null||c.set(C,0)),(m=(f=this.closingTagIndex.get(this.stackCount))==null?void 0:f.get(C))==null||m.push(s);let h=(p=(d=this.closingTagIndexCount.get(this.stackCount))==null?void 0:d.get(C))!=null?p:0;(_=this.closingTagIndexCount.get(this.stackCount))==null||_.set(C,h+1)}}),this.closingTagNames.has(this.stackCount)==!1&&this.closingTagNames.set(this.stackCount,[]),this.closingTagIndex.has(this.stackCount)&&(this.closingTagNames.set(this.stackCount,Array.from((r=(n=this.closingTagIndex.get(this.stackCount))==null?void 0:n.keys())!=null?r:[])),(i=this.closingTagIndex.get(this.stackCount))==null||i.forEach((s,o)=>{var u,c,f,m,d,p,_;let a=s.length;if(a==0)return;let l=s[a-1];for(let C=0;C<a;C++){let h=e[C];if(h instanceof B||h instanceof ft){if(h instanceof lr)continue;if(h.index>=l.index)break;let b=(c=(u=h.name)==null?void 0:u.compound)!=null?c:"";if(h.isClosingTag==!1&&o==b&&!h.isSelfClosing){this.openTagIndexCount.has(this.stackCount)==!1&&this.openTagIndexCount.set(this.stackCount,new Map),((f=this.openTagIndexCount.get(this.stackCount))==null?void 0:f.has(o))==!1&&((m=this.openTagIndexCount.get(this.stackCount))==null||m.set(o,0));let g=(p=(d=this.openTagIndexCount.get(this.stackCount))==null?void 0:d.get(o))!=null?p:0;(_=this.openTagIndexCount.get(this.stackCount))==null||_.set(o,g+1)}}}}))}getScanForList(e){var n;if(e instanceof B||e instanceof ft){let r=(n=e.name)==null?void 0:n.compound;if(r=="else")return["if"];if(r=="elseif")return["elseif","else","if"];if(e.isClosingTag==!1){let i=this.getClosingCandidates(e),s=this.closingTagNames.get(this.stackCount);return Xd(i,s)}}return[]}canPossiblyClose(e){var n,r;if(e instanceof lr)return!1;if(e instanceof ft||e instanceof B){if(e.isComment||e.isSelfClosing)return!1;let i=(r=(n=e.name)==null?void 0:n.compound)!=null?r:"";if(i=="else"||i=="elseif")return!0;if(e.isClosingTag==!1){let s=this.getClosingCandidates(e),o=this.closingTagNames.get(this.stackCount);return Xd(s,o).length>0}}return!1}findClosingPair(e,n,r){var a,l,u,c;let i=n.runtimeNodes.length,s=e.length,o=0;for(let f=0;f<s;f++){let m=e[f];if(m instanceof B||m instanceof ft)if(n.endPosition!=null&&m.startPosition!=null){if(n.endPosition.isBefore(m.startPosition)){if(m.isClosingTag&&m.isOpenedBy!=null||m.isSelfClosing)continue;let d=(l=(a=m.name)==null?void 0:a.compound)!=null?l:"";if(m.isClosingTag==!1){if(r.includes(d)){let p=(u=this.openTagIndexCount.get(this.stackCount))==null?void 0:u.get(d),_=(c=this.closingTagIndexCount.get(this.stackCount))==null?void 0:c.get(d);p!=_&&m.runtimeNodes.length>=i,o+=1}continue}if(r.includes(d)&&o>0){o-=1;continue}if(o==0&&r.includes(d)){m.isOpenedBy=n,n.isClosedBy=m;break}}}else continue}}associate(e,n){var s,o,a,l,u,c,f;this.document=n;let r=[{documentNodes:e,parent:null}],i=[];for(;r.length>0;){let m=r.pop();if(m==null)continue;let d=m.documentNodes;this.parentNode=m.parent,this.stackCount+=1,this.buildCloseIndex(d),d=$t.pairConditionals(d),d.forEach(h=>{if((h instanceof B||h instanceof ft)&&this.canPossiblyClose(h)){if($t.isConditionalStructure(h))return;let b=this.getScanForList(h);this.findClosingPair(d,h,b)}});let p=d.length;for(let h=0;h<p;h++){let b=d[h];if((b instanceof B||b instanceof ft)&&b.isClosedBy!=null)for(let g=h+1;g<p;g++){let N=d[g];if(N.index>b.isClosedBy.index)break;if(N.parent=b,b.children.push(N),N instanceof B&&N.index==b.index){N.parent=b;break}}}d.forEach(h=>{if((h instanceof B||h instanceof ft)&&h.children.length>0){let b=[];h.children.forEach(g=>{g.parent!=null&&g.parent.index==h.index&&(g.parent=h,b.push(g))}),r.push({documentNodes:b,parent:h})}});let _=[];d.forEach(h=>{this.parentNode==null?h.parent==null&&_.push(h):h.parent==this.parentNode&&_.push(h)}),_=this.reduceConditionals(_,n);let C=new Map;d.forEach(h=>{var b,g,N,S;if((h instanceof B||h instanceof ft)&&h.isClosedBy!=null&&this.document!=null){let V=this.document.getText(((g=(b=h.endPosition)==null?void 0:b.index)!=null?g:0)+1,(S=(N=h.isClosedBy.startPosition)==null?void 0:N.index)!=null?S:0);h.runtimeContent=V}});for(let h=0;h<_.length;h++){let b=_[h],g=(s=b.refId)!=null?s:"";if(C.set(g,1),(b instanceof B||b instanceof ft)&&b.isComment==!1&&((o=b.name)==null?void 0:o.name)=="noparse"&&!(b instanceof rn)&&b.isClosingTag==!1){if(b.isClosedBy==null){b.pushError(M.makeSyntaxError(P.TYPE_NO_PARSE_UNASSOCIATED,b,"Encountered noparse region without a closing tag. All noparse regions must be closed."));continue}let N=b.content;this.document!=null&&(N=this.document.getText(((l=(a=b.endPosition)==null?void 0:a.index)!=null?l:0)+1,(f=(c=(u=b.isClosedBy)==null?void 0:u.startPosition)==null?void 0:c.index)!=null?f:0));let S=new rn,V=b.getParser();V!=null&&S.withParser(V),b.copyBasicDetailsTo(S),S.name=new Ln,S.name.name="noparse",S.name.compound="noparse",S.content=Fc.registerNoParseContent(N),S.originalNode=b,S.isClosedBy=b.isClosedBy,S.parent=b.parent,_[h]=S}}if(this.parentNode!=null&&(this.parentNode instanceof ft||this.parentNode instanceof B)&&(this.parentNode.children=this.cleanNodes(_),this.parentNode.parent!=null&&this.parentNode.parent instanceof B)){let h=this.parentNode.parent.children,b=[];h.forEach(g=>{var N;C.has((N=g.refId)!=null?N:"")==!1&&b.push(g)}),this.parentNode.parent.children=this.cleanNodes(b)}this.stackCount<=1&&(i=_)}return this.createdExecutionBranches.length>0&&this.createdExecutionBranches.forEach(m=>{m.head!=null&&(m.nodes=m.head.children)}),i}cleanNodes(e){let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i],o=s.refId;if(r.includes(o))break;n.push(s),r.push(o)}return n}findEndOfBranch(e,n,r){let i=[],s=r,o=null;for(let a=0;a<e.length;a++){let l=e[a];if((l instanceof B||l instanceof ft)&&l.isOpenedBy!=null&&l.isOpenedBy==n){o=l;break}else i.push(l)}return{children:i,tail:o,offset:s}}reduceConditionals(e,n){var i,s,o,a,l,u,c,f,m,d,p,_;let r=[];for(let C=0;C<e.length;C++){let h=e[C];if((h instanceof B||h instanceof ft)&&h.isComment==!1&&h.isClosingTag==!1&&h.isClosedBy!=null)if(((s=(i=h.name)==null?void 0:i.compound)!=null?s:"")=="if"){let g=new vt;g.index=h.index,g.chain.push(h.index),g.fragment=h.fragment,g.fragmentPosition=h.fragmentPosition,g.containsAnyFragments=h.containsAnyFragments,g.containsChildStructures=h.containsChildStructures;let N=(a=(o=h.startPosition)==null?void 0:o.offset)!=null?a:0,S=h.getFinalClosingTag(),V=((u=(l=S.endPosition)==null?void 0:l.offset)!=null?u:0)+1;g.nodeContent=n.getText(N,V),this.parentNode!=null&&(g.parent=this.parentNode);let O=null,$=!0,X=0;for(;$;){if(X+=1,X>Qd.ForceBreakLimit){$=!1;break}if(h instanceof B||h instanceof ft){let ee=this.findEndOfBranch(e.slice(C+1),h,C),Y=new ed,ne=ee.tail;Y.head=h,Y.tail=ne,Y.nodes=this.cleanNodes(h.children);let Le=((f=(c=h.endPosition)==null?void 0:c.offset)!=null?f:0)+1,de=(p=(d=(m=h.isClosedBy)==null?void 0:m.startPosition)==null?void 0:d.offset)!=null?p:0,Z=n.getText(Le,de);if(Y.documentText=Z,n.shouldParseChildDocument()&&(Y.childDocument=mt.childFromText(Y.documentText,bl(Y.nodes))),ne==null&&(ne=Y.head.isClosedBy),ne!=null&&ne.startPosition!=null&&(Y.startPosition=ne.startPosition),ne!=null&&(Y.index=ne.index),Y.nodes.length>0){let Ge=Y.nodes[Y.nodes.length-1];Ge.endPosition!=null&&(Y.endPosition=Ge.endPosition)}else ne!=null&&ne.endPosition!=null&&(Y.endPosition=ne.endPosition);if(this.createdExecutionBranches.push(Y),g.logicBranches.push(Y),(ne==null?void 0:ne.isClosingTag)&&((_=ne.name)==null?void 0:_.compound)=="if"){O=ee.offset,$=!1;break}else ne!=null&&g.chain.push(ne.index),C=ee.offset,ne instanceof B&&(h=ne)}else $=!1}if(g.logicBranches.length>0){let ee=g.logicBranches[0],Y=g.logicBranches[g.logicBranches.length-1];ee.startPosition!=null&&(g.startPosition=ee.startPosition),Y.endPosition!=null&&(g.endPosition=Y.endPosition)}if(r.push(g),O!=null&&O==e.length)break}else r.push(h);else r.push(h)}return r}},ga=Qd;ga.ForceBreakLimit=1e5;var Jd=class{static associateRecursiveParent(e){var n,r;for(let i=0;i<e.length;i++){let s=e[i];if(s instanceof lr){let o="*recursive "+((n=s.name)==null?void 0:n.name);if(i-1<0){s.pushError(M.makeSyntaxError(P.TYPE_RECURSIVE_NODE_INVALID_POSITION,s,"Unpaired recursive node. All recursive nodes must have a parent node introducing them."));continue}let a=null;for(let l=i-1;l>=0;l-=1){let u=e[l];if(!(u instanceof Qe)&&u instanceof B&&u.isClosedBy!=null){if(s.isNestedRecursive){if(u.content.trim()==((r=s.name)==null?void 0:r.name)){a=u;break}}else if(u.runtimeContent.includes(o)&&G.substringCount(s.runtimeContent,"*recursive")==1){a=u;continue}else if(a!=null)break}}if(a==null)continue;s.isNestedRecursive?(a.hasRecursiveNode=!0,s.recursiveParent=a,a.recursiveReference=s):a.parent!=null?a.parent instanceof B&&(a.parent.hasRecursiveNode=!0,a.parent.recursiveReference=s,s.recursiveParent=a.parent):(a.hasRecursiveNode=!0,s.recursiveParent=a,a.recursiveReference=s)}}}};var _a=class{static getNearText(e){var r,i,s,o;if(e instanceof oe)return e.name;if(e instanceof Lt)return(i=(r=e.value)==null?void 0:r.toString())!=null?i:"";if(e instanceof bt)return e.value;if(e instanceof jt)return e.name;if(e instanceof Ut)return e.value;if(e instanceof Yr||e instanceof ui||e instanceof ur||e instanceof Or||e instanceof wr||e instanceof on||e instanceof Gr||e instanceof Ct||e instanceof sn||e instanceof Lr||e instanceof Wn||e instanceof li||e instanceof Tn||e instanceof oi||e instanceof Mr||e instanceof Yn||e instanceof Dr||e instanceof Hn||e instanceof kr||e instanceof ai||e instanceof jr||e instanceof Vr||e instanceof Fr||e instanceof Ei||e instanceof cr||e instanceof Kn||e instanceof Ur||e instanceof Nn||e instanceof fr||e instanceof vn||e instanceof Hr||e instanceof Br||e instanceof qr||e instanceof wi||e instanceof pr||e instanceof Wr||e instanceof zt||e instanceof Bt||e instanceof Pn||e instanceof It||e instanceof ts||e instanceof In||e instanceof ci||e instanceof Xt)return e.content;let n="";return e instanceof B?e.originalNode!=null?n=e.originalNode.getContent():n=(o=(s=e.startPosition)==null?void 0:s.line.toString())!=null?o:"":e.originalAbstractNode!=null?n=e.originalAbstractNode.rawContent():n=e.rawContent(),n.length>15&&(n=n.substr(0,-15)),n}};var ya=class{};ya.deferredCoreLibraries=["arr","array","str","string","method","math","sys","convert","scope","stopwatch","file","path","url","request","json","datetime"];var ht=class{};ht.ARR_PLUCK="pluck",ht.ARR_TAKE="take",ht.ARR_SKIP="skip",ht.ARR_MAKE="arr",ht.ARR_ORDERBY="orderby",ht.ARR_GROUPBY="groupby",ht.ARR_MERGE="merge",ht.QUERY_WHERE="where",ht.STRUCT_SWITCH="switch",ht.BITWISE_AND="bwa",ht.BITWISE_OR="bwo",ht.BITWISE_XOR="bxor",ht.BITWISE_NOT="bnot",ht.BITWISE_SHIFT_LEFT="bsl",ht.BITWISE_SHIFT_RIGHT="bsr",ht.operators=["pluck","take","arr","skip","orderby","groupby","merge","where","switch","bwa","bwo","bxor","bsl","bsr"];var Rt=class{constructor(){this.pathParser=new ki;this.tokens=[];this.createdModifierChains=[];this.createdLanguageOperators=[];this.createdArrays=[];this.tracedAssignments=[];this.mergedVariablePaths=[];this.mergedComponents=new Map;this.modifierNameMapping=new Map;this.isRealModifierSeparator=new Map;this.isRoot=!0;this.retriggerNonVirtualGroupMembers=[]}hasModifierConstruct(e){return this.modifierNameMapping.has(e)}getModifierConstruct(e){return this.modifierNameMapping.get(e)}isActualModifierSeparator(e){return this.isRealModifierSeparator.has(e)}isMergedVariableComponent(e){return this.mergedComponents.has(e)}getMergedVariable(e){return this.mergedComponents.get(e)}getMergedVariablePaths(){return this.mergedVariablePaths}getCreatedModifierChains(){return this.createdModifierChains}getCreatedLangaugeOperators(){return this.createdLanguageOperators}getCreatedArrays(){return this.createdArrays}getRuntimeAssignments(){return this.tracedAssignments}getAssignedVariables(){let e=[],n=[];for(let r=0;r<this.tracedAssignments.length;r++){let i=this.tracedAssignments[r];i.target instanceof oe&&n.includes(i.target.name)==!1&&(n.push(i.target.name),e.push(i.target))}return e}getAssignedVariableNames(){let e=[];for(let n=0;n<this.tracedAssignments.length;n++){let r=this.tracedAssignments[n];r.target instanceof oe&&e.includes(r.target.name)==!1&&e.push(r.target.name)}return e}reset(){this.tokens=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.createdArrays=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.tracedAssignments=[],this.createdArrays=[],this.mergedVariablePaths=[],this.mergedComponents.clear(),this.modifierNameMapping.clear()}parse(e){return this.tokens=e,this.tokens=this.combineVariablePaths(this.tokens),this.tokens=this.createLanguageOperators(this.tokens),this.tokens=this.createLogicalGroups(this.tokens),this.tokens=this.associateMethodCalls(this.tokens),this.tokens=this.createTupleLists(this.tokens),this.tokens=this.createLibraryInvocations(this.tokens),this.tokens=this.associateModifiers(this.tokens),this.tokens=this.createNullCoalescenceGroups(this.tokens),this.tokens=this.correctTypes(this.tokens),this.tokens=this.createTernaryGroups(this.tokens),this.tokens=this.applyOperationOrder(this.tokens),this.validateNeighboringOperators(this.tokens),this.tokens=this.createLogicGroupsToRemoveMethodInvocationAmbiguity(this.tokens),this.tokens=this.createLogicGroupsToResolveOperatorAmbiguity(this.tokens),this.validateNoDanglingLogicGroupEnds(this.tokens),this.isRoot&&(this.tokens=this.insertAutomaticStatementSeparators(this.tokens),this.retriggerNonVirtualGroupMembers.length>0&&this.retriggerNonVirtualGroupMembers.forEach(n=>{this.markAllNonVirtualAsListGroupMember(n)})),this.createSemanticGroups(this.tokens)}setIsRoot(e){return this.isRoot=e,this}validateNeighboringOperators(e){let n=e.length;for(let r=0;r<n;r++){let i=e[r];if(Rt.isOperatorType(i)){if(r+1>=n){i.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_OPERATOR,i,"Unexpected operator while parsing input text."));return}let s=e[r+1];if(Rt.isOperatorType(s)){s.pushError(M.makeSyntaxError(P.TYPE_OPERATOR_INVALID_ON_RIGHT,s,"Unexpected operator while parsing input text."));continue}}}}static isAssignmentOperator(e){return e instanceof Lr||e instanceof Dr||e instanceof Kn||e instanceof kr||e instanceof Mr||e instanceof li}static isOperatorType(e){return e instanceof Lr||e instanceof Dr||e instanceof Kn||e instanceof kr||e instanceof Mr||e instanceof li||e instanceof wi||e instanceof Gr||e instanceof fr||e instanceof on||e instanceof Hr||e instanceof ui||e instanceof pr||e instanceof ci||e instanceof Wn||e instanceof Hn||e instanceof oi||e instanceof ai||e instanceof Yn||e instanceof Tn||e instanceof Nn||e instanceof cr||e instanceof Ei||e instanceof Fr||e instanceof Vr||e instanceof qr||e instanceof Br||e instanceof jr||e instanceof Ur}markAllNonVirtualAsListGroupMember(e){e.forEach(n=>{if(n instanceof De||n instanceof dr||n instanceof Li){n.start!=null&&n.start.isVirtual==!1&&(n.start.isListGroupMember=!0),n.end!=null&&n.end.isVirtual==!1&&(n.end.isListGroupMember=!0),n.scopeOperator!=null&&(n.scopeOperator.isListGroupMember=!0),n.nodes.forEach(r=>{this.markAllNonVirtualAsListGroupMember([r])});return}else n instanceof Ot&&(n.separatorToken!=null&&n.separatorToken.isVirtual==!1&&(n.separatorToken.isListGroupMember=!0),this.markAllNonVirtualAsListGroupMember(n.nodes));n.isVirtual==!1&&(n.isListGroupMember=!0),n.originalAbstractNode!=null&&n.originalAbstractNode!=n&&this.markAllNonVirtualAsListGroupMember([n.originalAbstractNode])})}markAllNonVirtualAsSwitch(e){e.forEach(n=>{if(n instanceof De||n instanceof dr||n instanceof Li){n.start!=null&&n.start.isVirtual==!1&&(n.start.isSwitchGroupMember=!0),n.end!=null&&n.end.isVirtual==!1&&(n.end.isSwitchGroupMember=!0),n.scopeOperator!=null&&(n.scopeOperator.isSwitchGroupMember=!0),n.nodes.forEach(r=>{this.markAllNonVirtualAsSwitch([r])});return}else n instanceof Ot&&(n.separatorToken!=null&&n.separatorToken.isVirtual==!1&&(n.separatorToken.isSwitchGroupMember=!0),this.markAllNonVirtualAsSwitch(n.nodes));n.isVirtual==!1&&(n.isSwitchGroupMember=!0),n.originalAbstractNode!=null&&n.originalAbstractNode!=n&&this.markAllNonVirtualAsSwitch([n.originalAbstractNode])})}validateNoDanglingLogicGroupEnds(e){e.forEach(n=>{n instanceof Bt&&n.pushError(M.makeSyntaxError(P.TYPE_LOGIC_GROUP_NO_START,n,"Unexpected [T_LOGIC_END] while parsing input text."))})}isValidModifierValue(e){return e instanceof Ut||e instanceof oe||e instanceof Or||e instanceof wr||e instanceof ur||e instanceof Lt||e instanceof bt}wrapNumberInVariable(e){var r,i,s,o;let n=new oe;return n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.name=(i=(r=e.value)==null?void 0:r.toString())!=null?i:"",n.content=(o=(s=e.value)==null?void 0:s.toString())!=null?o:"",n.originalAbstractNode=e,n.refId=e.refId,n.modifierChain=e.modifierChain,n.index=e.index,n}wrapArithmeticModifier(e,n){let r=new jt;return r.startPosition=e.startPosition,r.endPosition=e.endPosition,r.originalAbstractNode=e,r.content=n,r.name=n,r.index=e.index,r}combineVariablePaths(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i],o=n.length;if(s instanceof It){if(o==0){s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE,s,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}if(i+1>r){let u="";if(i>0){let c=e[i-1];u=_a.getNearText(c)}s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP,s,'Unexpected end of input while parsing input text near "'+u+_a.getNearText(s)+'".'));continue}let a=n[o-1],l=e[i+1];if(l instanceof Lt&&nt.distance(a,l)==1&&(l=this.wrapNumberInVariable(l)),a instanceof oe&&l instanceof oe&&nt.distance(a,l)==1){n.pop(),nt.mergeVarContentRight(":",s,l),nt.mergeVarRight(a,l),n.push(l),this.mergedVariablePaths.push(l),this.mergedComponents.set(s,l),this.mergedComponents.set(a,l),this.mergedComponents.set(l,l),i+=1;continue}else{n.push(s);continue}}else if(s instanceof bt&&o>0){if(i+1>=r){n.push(s);continue}let a=n[o-1],l=e[i+1];if(a instanceof oe&&l instanceof oe&&nt.distance(a,s)<=1&&nt.distance(s,l)<=1){n.pop(),nt.mergeVarContentLeft(s.sourceTerminator+s.value+s.sourceTerminator,s,a),nt.mergeVarContentLeft(l.name,l,a),n.push(a),this.mergedVariablePaths.push(a),this.mergedComponents.set(s,a),this.mergedComponents.set(a,a),this.mergedComponents.set(l,a),i+=1;continue}else n.push(s)}else if(s instanceof Tn&&o>0){let a=n[o-1],l=e[i+1];if(a instanceof oe&&l instanceof oe){let u=nt.distance(a,s),c=nt.distance(s,l);u<=1&&c<=1?(a.endPosition=l.endPosition,this.mergedComponents.set(s,a),this.mergedComponents.set(a,a),this.mergedComponents.set(l,a),i+=1):n.push(s)}else n.push(s)}else n.push(s)}return n.forEach(i=>{i instanceof oe&&(i.variableReference=this.pathParser.parse(i.name),i.mergeErrors(this.pathParser.getAntlersErrors()))}),n}convertVarNodeToOperator(e){let n=new Gr;return n.content=e.name,n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.originalAbstractNode=e,e.convertedToOperator=!0,this.createdLanguageOperators.push(n),n}convertOperatorToVarNode(e){let n=new oe;return n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.content=e.content,n.name=e.content,n.originalAbstractNode=e,n}createLanguageOperators(e){let n=e.length;for(let r=0;r<n;r++){let i=e[r];if(i instanceof oe){if(i.name.includes(E.Punctuation_FullStop)){let s=i.name.split(E.Punctuation_FullStop);if(ht.operators.includes(s[0])||ya.deferredCoreLibraries.includes(s[0])){e[r]=this.convertVarNodeToOperator(i);continue}}if(ht.operators.includes(i.name)){e[r]=this.convertVarNodeToOperator(i);continue}}if(i instanceof Gr){if(r+1>=n){e[r]=this.convertOperatorToVarNode(i);continue}if(e[r+1]instanceof sn){e[r]=this.convertOperatorToVarNode(i);continue}}}return e}createLogicalGroups(e){let n=[],r=e.length,i=[];for(let o=0;o<r;o++){let a=e[o];if(a instanceof on){let l=this.countTypeRight(e,o,on);if(i.length==0&&e.length==l){a.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR,a,"Unexpected [T_LOGIC_INVERSE] while parsing input text."));continue}if(o>0&&i.length>0){let f=i[i.length-1];if(f instanceof Lt||f instanceof Bt||f instanceof De){if(f instanceof De&&f.start instanceof on){f.start.pushError(M.makeSyntaxError(P.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED,f.start,"[T_AOP_FACTORIAL] operand will always materialize boolean type."));continue}let m=new ts;m.startPosition=a.startPosition,m.endPosition=a.endPosition,m.content="!".repeat(l),m.originalAbstractNode=a,m.repeat=l,i.push(m),l>0&&(o+=l-1);continue}}if(l%2==0){o+=l-1;continue}let u=e[o+l];if(u instanceof zt){let f=o+l+1;if(f>=r){u.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET,u,"Unexpected end of input while parsing input text."));continue}let m=this.findLogicalGroupEnd(e[o+l],e.slice(f));if(m.found){let d=m.logicalGroup,p=new De;p.start=a,p.end=d,p.nodes.push(a),p.nodes.push(d),p.startPosition=a.startPosition,p.endPosition=d.endPosition,i.push(p),o+=m.skipCount+l}continue}let c=this.resolveValueRight(e,o);c.value!=null&&i.push(c.value),o+=c.negationCount}else i.push(a)}let s=i.length;for(let o=0;o<s;o++){let a=i[o];if(a instanceof zt){if(o+1>=s){a.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION,a,"Unexpected end of input while parsing input text."));continue}let l=this.findLogicalGroupEnd(a,i.slice(o+1));l.found&&l.logicalGroup!=null&&n.push(l.logicalGroup),o+=l.skipCount}else if(a instanceof ts){if(n.length==0){a.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS,a,"Unexpected [T_AOP_FACTORIAL] while parsing input text."));continue}let l=n[n.length-1];if(!(l instanceof De)&&!(l instanceof Lt)){a.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_FACTORIAL_OPERAND,a,"Unexpected left operand encountered for [T_AOP_FACTORIAL] while parsing input text."));continue}l=n.pop();let u=new De;u.startPosition=l.startPosition,u.endPosition=a.endPosition,u.originalAbstractNode=a,u.nodes.push(l),u.nodes.push(a),n.push(u)}else n.push(a)}return n}makeArgGroup(e){let n=new qo,r=e.length;for(let s=0;s<r;s++){let o=e[s];if(this.isOperand(o)==!1){o.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD,o,"Unexpected ["+W.getPrettyTypeName(o)+"] while parsing argument group."));continue}let a=null;if(s+1<r&&(a=e[s+1]),a==null||a instanceof Ct){n.args.push(e[s]),s+=1;continue}else if(a instanceof It){if(s+2>=r){o.pushError(M.makeSyntaxError(P.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT,o,"Unexpected end of input while parsing named argument."));continue}let l=e[s+2],u=new Bu;u.startPosition=o.startPosition,u.endPosition=l.endPosition,u.content=o.content+l.content,u.name=o,u.value=l,o instanceof oe||o.pushError(M.makeSyntaxError(P.TYPE_INVALID_NAMED_ARG_IDENTIFIER,o,"Invalid type ["+W.getPrettyTypeName(o)+"] supplied for named argument name.")),n.hasNamedArguments=!0,n.numberOfNamedArguments+=1,n.args.push(u),s+3<r&&e[s+3]instanceof Ct?s+=3:s+=2;continue}}let i=!1;return n.args.forEach(s=>{s instanceof Bu?i=!0:i&&s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT,s,"Unnamed arguments are not allowed to appear after a named argument."))}),n}cleanVariableForMethodInvocation(e){(e.name.startsWith(":")||e.name.startsWith("."))&&(e.name=e.name.substr(1),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(1),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(1)),e.startPosition!=null&&(e.startPosition.offset+=1,e.startPosition.char+=1))}reduceVariableReferenceForObjectAccessor(e){var s;let n=(s=e.variableReference)==null?void 0:s.pathParts.pop(),r=n.name,i=r.length+1;return e.name=e.name.substr(0,-i),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(0,-i),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(0,-i),e.variableReference.pathParts[e.variableReference.pathParts.length-1].isFinal=!0),e.endPosition!=null&&(e.endPosition.offset-=i,e.endPosition.char-=i),{accessor:r,accessorLen:i}}associateMethodCalls(e){var i,s;let n=[],r=e.length;for(let o=0;o<r;o++){let a=e[o],l=null,u=null;if(n.length>0&&(l=n[n.length-1]),o+1<r&&(u=e[o+1]),a instanceof oe&&u instanceof De&&l!=null&&(this.isProperMethodChainTargetStrict(l)||l instanceof It)){let c=u,f=[];c.nodes.length>0&&(c.nodes[0]instanceof Ot?f=c.nodes[0].nodes:f=c.nodes);let m=new Xt;if(m.startPosition=a.startPosition,l instanceof It){let d=n.pop();m.startPosition=d.startPosition}this.cleanVariableForMethodInvocation(a),m.endPosition=c.endPosition,m.args=this.makeArgGroup(f),m.method=a,l.methodTarget=m,l instanceof oe&&l.mergeRefName.length>0&&(l.name=nt.getUnrefName(l.mergeRefName)),n.push(m),o+=1;continue}else if(a instanceof De&&l instanceof oe&&l.variableReference!=null&&l.variableReference.pathParts.length>=2){let c=[];if(a.nodes.length>0&&(a.nodes[0]instanceof Ot?c=a.nodes[0].nodes:c=a.nodes),l.variableReference.pathParts[0]instanceof Un&&ya.deferredCoreLibraries.includes(l.variableReference.pathParts[0].name)){let _=n.pop(),C=new ns;C.startPosition=_.startPosition,C.endPosition=a.endPosition,C.content=_.content,C.originalAbstractNode=a;let b=((i=_.variableReference)==null?void 0:i.pathParts.shift()).name,g=(s=_.variableReference)==null?void 0:s.implodePaths();C.libraryName=b,C.methodName=g,C.arguments=this.makeArgGroup(c),n.push(C),o+=1;continue}let f=this.reduceVariableReferenceForObjectAccessor(l),m=new Xt;m.startPosition=a.startPosition,m.endPosition=a.endPosition,l.methodTarget=m,l instanceof oe&&l.mergeRefName.length>0&&(l.name=nt.getUnrefName(l.mergeRefName)),a.start!=null&&(a.start.isPartOfMethodChain=!0),a.end!=null&&(a.end.isPartOfMethodChain=!0);let d=new oe;d.name=f.accessor,d.isPartOfMethodChain=!0;let p=this.makeArgGroup(c);if(m.startPosition!=null&&(m.startPosition.offset-=f.accessorLen,m.startPosition.char-=f.accessorLen),m.method=d,m.args=p,G.isNumeric(l.name)){let _=n.pop();n.push(this.convertOperatorToVarNode(_))}n.push(m);continue}else if(a instanceof oe&&l instanceof Xt){if(this.cleanVariableForMethodInvocation(a),o+1>r){a.pushError(M.makeSyntaxError(P.TYPE_METHOD_CALL_MISSING_ARG_GROUP,a,"Unexpected end of input while parsing method call."));continue}let c=e[o+1];if(!(c instanceof De)){a.pushError(M.makeSyntaxError(P.TYPE_INVALID_METHOD_CALL_ARG_GROUP,a,"Unexpected ["+W.getPrettyTypeName(c)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let f=c,m=[];f.nodes.length>0&&(f.nodes[0]instanceof Ot?m=f.nodes[0].nodes:m=f.nodes);let d=new Xt;d.startPosition=a.startPosition,d.endPosition=f.endPosition,d.args=this.makeArgGroup(m),d.method=a,l.methodTarget=d,n.push(d),o+=1;continue}else if(a instanceof It&&l instanceof Xt){if(o+1>r){a.pushError(M.makeSyntaxError(P.TYPE_METHOD_CALL_MISSING_METHOD,a,"Unexpected end of input while parsing method call."));continue}let c=e[o+1];if(o+2>r){a.pushError(M.makeSyntaxError(P.TYPE_METHOD_CALL_MISSING_ARG_GROUP,a,"Unexpected end of input while parsing method call."));continue}let f=e[o+2];if(!(f instanceof De)){a.pushError(M.makeSyntaxError(P.TYPE_INVALID_METHOD_CALL_ARG_GROUP,a,"Unexpected ["+W.getPrettyTypeName(f)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let m=f,d=[];m.nodes.length>0&&(m.nodes[0]instanceof Ot?d=m.nodes[0].nodes:d=m.nodes);let p=new Xt;p.startPosition=a.startPosition,p.endPosition=f.endPosition,p.args=this.makeArgGroup(d),p.method=c,l.methodTarget=p,n.push(p),o+=2;continue}else if(a instanceof Xt){if(o+1>r){a.pushError(M.makeSyntaxError(P.TYPE_METHOD_CALL_MISSING_METHOD,a,"Unexpected end of input while parsing method call."));continue}let c=e[o+1];if(o+2>r){a.pushError(M.makeSyntaxError(P.TYPE_INVALID_METHOD_CALL_ARG_GROUP,a,"Unexpected end of input while parsing method call."));continue}let f=e[o+2];if(!(f instanceof De)){a.pushError(M.makeSyntaxError(P.TYPE_INVALID_METHOD_CALL_ARG_GROUP,a,"Unexpected ["+W.getPrettyTypeName(f)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let m=f,d=[];m.nodes.length>0&&(m.nodes[0]instanceof Ot?d=m.nodes[0].nodes:d=m.nodes);let p=this.makeArgGroup(d);if(l instanceof oe&&ya.deferredCoreLibraries.includes(l.name)){let _=n.pop(),C=new ns;C.startPosition=_.startPosition,C.endPosition=m.endPosition,C.libraryName=_.name,C.methodName=c.name,C.content=C.libraryName+"->"+C.methodName,C.arguments=p,l.libraryTarget=C,n.push(C),o+=2;continue}a.method=c,a.args=p,n.length>0&&(n[n.length-1].methodTarget=a),o+=2,n.push(a);continue}else n.push(a)}return n}convertVariableToStringNode(e){let n=new bt;return n.content=e.name,n.value=e.name,n.originalAbstractNode=e,n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.index=e.index,n}createTupleLists(e){let n=e.length,r=[];for(let i=0;i<n;i++){let s=e[i];if(s instanceof Yr){if(s.isListGroupMember=!0,i+1>=n){s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST,s,"Unexpected end of input while parsing tuple list."));continue}let o=e[i+1];if(!(o instanceof De)){o.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST,o,"Unexpected ["+W.getPrettyTypeName(o)+"] while parsing tuple list."));continue}let a=o;if(this.markAllNonVirtualAsListGroupMember([a]),this.retriggerNonVirtualGroupMembers.push([a]),a.nodes.length==0){a.pushError(M.makeSyntaxError(P.TYPE_MISSING_BODY_TUPLE_LIST,a,"Missing tuple list body while parsing tuple list."));continue}let u=a.nodes.shift(),c=u.nodes.length,f=[];for(let p=0;p<c;p++){let _=u.nodes[p];if(!(_ instanceof Ct)){let C=!1;if(_ instanceof oe&&(_.variableReference==null&&(C=!0),_.variableReference!=null&&_.variableReference.pathParts.length>1&&(C=!0),_.name.trim().length==0&&(C=!0)),C||!(_ instanceof oe)){a.pushError(M.makeSyntaxError(P.TYPE_INVALID_TUPLE_LIST_NAME_TYPE,a,"Invalid ["+W.getPrettyTypeName(_)+"] name type found while parsing tuple list."));continue}let h=_;f.push(this.convertVariableToStringNode(h))}}let m=f.length;if(m==0){a.pushError(M.makeSyntaxError(P.TYPE_INVALID_MANIFESTED_NAME_GROUP,a,"Invalid Name expression produced an invalid name group while parsing tuple list."));continue}let d=new Oi;this.createdArrays.push(d),d.startPosition=s.startPosition,d.endPosition=s.endPosition,a.nodes.forEach(p=>{if(!(p instanceof Ot)){p.pushError(M.makeSyntaxError(P.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP,p,"Invalid ["+W.getPrettyTypeName(p)+"] name type found while parsing tuple list value expression."));return}let _=p,C=new Oi;this.createdArrays.push(C),C.startPosition=_.startPosition;let h=[];for(let b=0;b<c;b++){let g=_.nodes[b];if(!(g instanceof Ct)){if(this.isOperand(g)==!1){g.pushError(M.makeSyntaxError(P.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE,g,"Unexpected ["+W.getPrettyTypeName(g)+"]  while parsing tuple list value."));continue}h.push(g)}}for(let b=0;b<m&&!(b>h.length);b++){let g=h[b],N=new fl;N.startPosition=g.startPosition,N.endPosition=g.endPosition,N.name=f[b],N.value=g,C.nodes.push(N),d.endPosition=g.endPosition,C.endPosition=g.endPosition}d.nodes.push(C)}),r.push(d),i+=1;continue}else r.push(s)}return e}makeOrderGroup(e){let n=[],r=e.length,i=0;for(let s=0;s<r;s++){let o=e[s],a=null;if(s+1<r&&(a=e[s+1]),s>0&&(a==null||a instanceof Ct)){i+=1;let l=new ll;l.order=i,l.name=e[s-1],l.directionNode=o,this.isOperand(l.name)==!1&&l.name.pushError(M.makeSyntaxError(P.TYPE_INVALID_ORDER_BY_NAME_VALUE,l.name,"Invalid value or expression supplied for order by name.")),this.isOperand(l.directionNode)==!1&&l.directionNode.pushError(M.makeSyntaxError(P.TYPE_INVALID_ORDER_BY_SORT_VALUE,l.directionNode,"Invalid value or expression supplied for order by direction.")),l.startPosition=l.name.startPosition,l.endPosition=l.directionNode.endPosition,n.push(l),s+=1;continue}}return n}getValues(e){let n=new Fo,r=e.length,i=[];for(let s=0;s<r;s++){let o=e[s],a=null;if(s+1<r&&(a=e[s+1]),a==null||a instanceof Ct){i.push(o),s+=1;continue}}return n.values=i,n}createLibraryInvocations(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof Gr)if(s.content.includes(".")){let o=s.content.split("."),a=o.shift(),l=o.join("."),u=new ns;if(u.startPosition=s.startPosition,u.endPosition=s.endPosition,u.content=s.content,u.libraryName=a,u.methodName=l,u.originalAbstractNode=s,i+1>=r){s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP,s,"Unexpected end of input while parsing argument group."));continue}if(!(e[i+1]instanceof De)){s.pushError(M.makeSyntaxError(P.TYPE_EXPECTING_ARGUMENT_GROUP,s,"Unexpected token while parsing method call. Expecting [T_ARG_SEPARATOR] got ["+W.getPrettyTypeName(s)+"]."));continue}let c=e[i+1],f=null;if(c.nodes.length>0){let m=c.nodes[0];f=this.makeArgGroup(m.nodes)}f==null&&(f=new qo,f.startPosition=c.startPosition,f.endPosition=c.endPosition,f.originalAbstractNode=c),u.arguments=f,n.push(u),i+=1;continue}else if(s.content==ht.ARR_ORDERBY){if(i+1>=r){s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP,s,"Unexpected end of input while parsing order group."));continue}let o=e[i+1];if(!(o instanceof De)){o.pushError(M.makeSyntaxError(P.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND,o,"Unexpected ["+W.getPrettyTypeName(o)+"] while parsing order group."));continue}let l=o.nodes;l[0]instanceof Ot&&(l=l[0].nodes);let u=this.makeOrderGroup(l);u.length==0&&s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP,s,"Unexpected empty [T_DIRECTION_GROUP]. Must have at least one order clause, and each property must have a direction specified."));let c=new qs;if(c.orderClauses=u,u.length>0){u[0].directionNode!=null&&(c.startPosition=u[0].directionNode.startPosition);let f=u[u.length-1].directionNode;f!=null&&(c.endPosition=f.endPosition)}n.push(s),n.push(c),i+=1;continue}else if(s.content==ht.ARR_GROUPBY){if(i+1>=r){s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY,s,"Unexpected end of input while parsing group by clause."));continue}let o=e[i+1];if(o instanceof Li||o instanceof dr){o.pushError(M.makeSyntaxError(P.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED,o,"Type ["+W.getPrettyTypeName(o)+"] must be enclosed with parenthesis to be used with groupby."));continue}if(!(o instanceof De)){o.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY,o,"Unexpected ["+W.getPrettyTypeName(o)+"] while parsing group by."));continue}let l=o.nodes;l[0]instanceof Ot&&(l=l[0].nodes);let u=this.getValues(l);if(n.push(s),n.push(u),i+2<r&&i+3<r){let c=e[i+2],f=e[i+3];if(nt.isVariableMatching(c,Xe.ScopeAs))if(f instanceof bt){u.isNamedNode=!0,u.parsedName=f,i+=3;continue}else f.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE,f,"Expecting [T_STRING] for group by collection alias; got ["+W.getPrettyTypeName(f)+"]."))}i+=1;continue}else if(s.content==ht.STRUCT_SWITCH){if(i+1>=r){s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP,s,"Unexpected end of input while parsing [T_SWITCH_GROUP]."));continue}let o=e[i+1];if(!(o instanceof dr)){o.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP,o,"Unexpected ["+W.getPrettyTypeName(o)+"] while parsing [T_SWITCH_GROUP]."));continue}let a=o;if(this.markAllNonVirtualAsSwitch([o]),a.scope==null||!(a.scope instanceof De)){a.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE,a,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let l=a.scope;if(l.nodes.length==0||!(l.nodes[0]instanceof Ot)){a.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,a,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let u=l.nodes[0];if(this.markAllNonVirtualAsSwitch([l]),u.nodes.length==0||!(u.nodes[0]instanceof De)){s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}this.markAllNonVirtualAsSwitch([s]),this.markAllNonVirtualAsSwitch(u.nodes);let c=u.nodes;if(a.nodes.length==0&&s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP].")),!(l.nodes[0]instanceof Ot)){s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let m=l.nodes[0];this.markAllNonVirtualAsSwitch(m.nodes);let d=m.nodes,p=new Bs,_=new De;_.nodes=c,_.startPosition=_.nodes[0].startPosition,_.endPosition=_.nodes[_.nodes.length-1].endPosition;let C=new Vo;C.condition=_;let h=new De;h.nodes.push(d.shift()),h.startPosition=h.nodes[0].startPosition,h.endPosition=h.nodes[h.nodes.length-1].endPosition,C.expression=h,C.startPosition=C.condition.startPosition,C.endPosition=C.expression.nodes[C.expression.nodes.length-1].endPosition,d.shift(),p.cases.push(C);let b=d.length;if(b>0){if(!(d[0]instanceof De)){s.pushError(M.makeSyntaxError(P.TYPE_PARSER_INVALID_SWITCH_TOKEN,s,"Invalid ["+W.getPrettyTypeName(d[0])+"] while parsing case statement."));continue}for(let g=0;g<b;g++){let N=d[g],S=null;if(N instanceof Ct){N.isSwitchGroupMember=!0;continue}if(g+1<b&&(S=d[g+1]),S instanceof In){S.isSwitchGroupMember=!0;let V=new Vo;V.condition=N,this.markAllNonVirtualAsSwitch([V.condition]);let O=new De;if(O.nodes.push(d[g+2]),O.startPosition=O.nodes[0].startPosition,O.endPosition=O.nodes[O.nodes.length-1].endPosition,V.expression=O,this.markAllNonVirtualAsSwitch([O]),V.startPosition=V.condition.startPosition,V.endPosition=V.expression.nodes[V.expression.nodes.length-1].endPosition,p.cases.push(V),g+3<b&&!(d[g+3]instanceof Ct)){d[g+3].pushError(M.makeSyntaxError(P.TYPE_PARSER_INVALID_SWITCH_TOKEN,d[g+3],"Invalid ["+W.getPrettyTypeName(d[g+3])+"] while parsing case statement; expecting [T_ARG_SEPARATOR]."));continue}d[g+3].isSwitchGroupMember=!0,g+=2;continue}}}n.push(new ur),n.push(s),n.push(p),i+=1;continue}else if(s.content==ht.ARR_MAKE){if(i+1>=r){s.pushError(M.makeSyntaxError(P.TYPE_ARR_MAKE_MISSING_TARGET,s,"Missing target variable for arr operator."));continue}let o=e[i+1];if(!(o instanceof De)){o.pushError(M.makeSyntaxError(P.TYPE_ARR_MAKE_UNEXPECTED_TYPE,o,"Unexpected ["+W.getPrettyTypeName(o)+"] while parsing array."));continue}let a=o instanceof dr,l=o,u=l.nodes;if(u[0]instanceof Ot&&(u=u[0].nodes),a){let d=o;u.unshift(new In),u.unshift(d.scope)}let c=this.getArrayValues(u),f=new Oi;f.startPosition=s.startPosition;let m=c.values.length;m>0?f.endPosition=c.values[m-1].endPosition:f.endPosition=s.endPosition,l.end!=null&&(f.endPosition=l.end.endPosition),f.nodes=c.values,this.createdArrays.push(f),n.push(f),i+=1}else n.push(s);else n.push(s)}return n}getArrayValues(e){let n=new Fo,r=e.length,i=[];for(let s=0;s<r;s++){let o=e[s];if(o instanceof Ct){o.pushError(M.makeSyntaxError(P.TYPE_ARR_UNEXPECT_ARG_SEPARATOR,o,"Unexpected [T_ARG_SEPARATOR] while parsing array."));continue}if(o instanceof In){if(s==0){o.pushError(M.makeSyntaxError(P.TYPE_ARR_KEY_PAIR_MISSING_KEY,o,"Missing key for key/value pair while parsing array."));continue}else if(e[s-1]instanceof Ct){o.pushError(M.makeSyntaxError(P.TYPE_ARR_KEY_PAIR_MISSING_KEY,o,"Missing key for key/value pair while parsing array."));continue}}let a=null;if(s+1<r&&(a=e[s+1]),a instanceof In){if(s+2>=r){a.pushError(M.makeSyntaxError(P.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE,a,"Missing key/pair value while parsing array."));continue}let l=e[s+2],u=new fl;if(this.isValidArrayKeyNode(o)==!1){o.pushError(M.makeSyntaxError(P.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE,o,"Invalid ["+W.getPrettyTypeName(o)+"] type for key/value key."));continue}u.name=o,u.value=l,u.startPosition=o.startPosition,u.endPosition=l.endPosition,i.push(u),s+=3;continue}if(a==null||a instanceof Ct){let l=new fl;l.value=o,l.startPosition=o.startPosition,l.endPosition=o.endPosition,i.push(l),s+=1;continue}}return n.values=i,n}isValidArrayKeyNode(e){return e instanceof Lt||e instanceof bt}associateModifiers(e){let n=[],r=e.length,i=null;for(let s=0;s<r;s++){let o=e[s];if(o instanceof vn){let a=n.length;if(a==0){o.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_MODIFIER_SEPARATOR,o,"Unexpected [T_MODIFIER_SEPARATOR] while parsing input text."));continue}if(this.isRealModifierSeparator.set(o,!0),i=n[a-1],i.modifierChain==null&&(i.modifierChain=new al,i.modifierChain.modifierTarget=i,this.createdModifierChains.push(i.modifierChain)),s+1>=r){o.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS,o,"Unexpected end of input while preparing to gather modifier details."));continue}let l=this.scanToEndOfModifier(e.slice(s+1)),u=l.length;if(u>1&&l[1]instanceof It){this.isRealModifierSeparator.set(l[1],!0);let f=l[0];f instanceof Wn?l[0]=this.wrapArithmeticModifier(f,"add"):f instanceof Tn?l[0]=this.wrapArithmeticModifier(f,"subtract"):f instanceof Hn?l[0]=this.wrapArithmeticModifier(f,"divide"):f instanceof Yn?l[0]=this.wrapArithmeticModifier(f,"multiply"):f instanceof ai&&(l[0]=this.wrapArithmeticModifier(f,"mod"))}if(u==0){o.pushError(M.makeSyntaxError(P.TYPE_UNSET_MODIFIER_DETAILS,o,"Invalid or missing modifier details."));continue}if(!(l[0]instanceof jt)){o.pushError(M.makeSyntaxError(P.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS,o,"Invalid ["+W.getPrettyTypeName(l[0])+"]; expecting [T_MODIFIER_NAME]"));continue}let c=this.createModifier(l);c.nameNode!=null&&this.modifierNameMapping.set(c.nameNode,c),s+=u,i.modifierChain.modifierChain.push(c),i.modifierChain.updateValues();continue}else n.push(o)}return n}createNullCoalescenceGroups(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof pr){let o=n.pop();if(i+1>=r){s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP,s,"Unexpected end of input while parsing input text."));continue}let a=e[i+1],l=new ul;l.left=o,l.right=a,n.push(l),i+=1;continue}else n.push(s)}return n}isOperand(e){return e instanceof oe||e instanceof De||e instanceof bt||e instanceof Lt||e instanceof wr||e instanceof ur||e instanceof Or||e instanceof ns||e instanceof qs||e instanceof Fo||e instanceof Bs||e instanceof Oi}isProperMethodChainTargetStrict(e){return e instanceof De||e instanceof bt||e instanceof Lt||e instanceof wr||e instanceof ur||e instanceof Or||e instanceof ns||e instanceof qs||e instanceof Fo||e instanceof Bs||e instanceof Oi}assertOperandRight(e,n){if(n+1>e.length-1)return e[n].pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_END_OF_INPUT,e[n],"Unexpected end of input; expecting operand for operator "+W.getPrettyTypeName(e[n])+' near "'+_a.getNearText(e[n])+'".')),!1;let r=e[n+1];return this.isOperand(r)?!0:(r.pushError(M.makeSyntaxError(P.TYPE_EXPECTING_OPERAND,e[n],"Expecting operand, found "+W.getPrettyTypeName(r)+' near "'+_a.getNearText(e[n])+'".')),!1)}resolveValueRight(e,n){let r=null,i=0,s=null;if(e.length>0){let o=!0;for(;o;){let a=e[n];if(a instanceof on){s=a,i+=1,n+=1,o=!1;continue}else if(this.isOperand(a)){r=a,o=!1;break}else{o=!1;break}}}if(i%2!=0){let o=new De;return o.nodes=[],s!=null&&r!=null&&(o.nodes.push(s),o.nodes.push(r)),{value:o,negationCount:i}}return{value:r,negationCount:i}}correctTypes(e){let n=[];return e.forEach(r=>{if(r instanceof Pn){let i=new It;i.startPosition=r.startPosition,i.endPosition=r.endPosition,i.originalAbstractNode=r,n.push(i)}else if(r instanceof Ut){let i=new oe;i.name=r.value,i.startPosition=r.startPosition,i.endPosition=r.endPosition,i.modifierChain=r.modifierChain,i.originalAbstractNode=r,n.push(i)}else n.push(r)}),n}createTernaryGroups(e){var i,s,o,a;let n=[],r=e.length;for(let l=0;l<r;l++){let u=e[l];if(u instanceof Wr){let c=this.seek(It,l+1);if(((i=c.node)==null?void 0:i.originalAbstractNode)!=null&&c.node.originalAbstractNode instanceof Pn&&(c.node.originalAbstractNode.isTenaryBranchSeparator=!0),c.found==!1){u.pushError(M.makeSyntaxError(P.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR,u,"Unexpected end of input; expecting [T_BRANCH_SEPARATOR]."));continue}let f=this.collectUntil(n);n=f.tokens;let m=f.collectedTokens[0],d=(s=c.foundAt)!=null?s:0;if(d>=r){u.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP,u,"Unexpected end of input while parsing ternary group."));continue}let p=e.slice(l+1,d);if(p.length>1||p.length==0){u.pushError(M.makeSyntaxError(P.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH,u,"Unexpected number of operations within ternary truth branch."));continue}let _=p[0],C=((o=c.foundAt)!=null?o:0)+1;if(C>=r){u.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH,u,"Unexpected end of input while parsing ternary false execution branch."));continue}let h=e[C],b=new cl;b.head=m,b.truthBranch=_,b.falseBranch=h,n.push(b),l=((a=c.foundAt)!=null?a:0)+1;continue}else n.push(u)}return n}groupNodesByType(e,n){let r=[],i=e.length;for(let s=0;s<i;s++){let o=e[s];if(s>0&&o instanceof n){let a=[],l=r.pop();if(a.push(l),!this.assertOperandRight(e,s))continue;if(s+1>=i){o.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,o,"Unexpected end of input while parsing input text."));continue}let u=e[s+1];typeof u!="undefined"&&(u.isVirtualGroupMember=!0),typeof l!="undefined"&&(l.isVirtualGroupMember=!0),o.isVirtualGroupMember=!0;let c=new De;c.nodes=a,c.nodes.push(o),c.nodes.push(u),s+=1,r.push(c);continue}else r.push(o)}return r}flagNodeAsOperatorResolve(e){if(e instanceof De){if(e.nodes.length==0)return;this.flagNodeAsOperatorResolve(e.nodes[e.nodes.length-1])}e.isVirtualGroupOperatorResolve=!0,e.next instanceof sn||(e.producesVirtualStatementTerminator=!0)}groupNodesByOperatorType(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(i>0&&Rt.isOperatorType(s)){let o=[],a=n.pop();if(o.push(a),!this.assertOperandRight(e,i))continue;if(i+1>=r){s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,s,"Unexpected end of input while parsing input text."));continue}let l=e[i+1];this.flagNodeAsOperatorResolve(l),Rt.isAssignmentOperator(s)&&this.tracedAssignments.push(new od(a,l,s)),typeof a!="undefined"&&(a.isVirtualGroupMember=!0),typeof l!="undefined"&&(l.isVirtualGroupMember=!0),s.isVirtualGroupMember=!0;let u=new De;u.nodes=o,u.nodes.push(s),u.nodes.push(l),i+=1,n.push(u);continue}else n.push(s)}return n}applyOperationOrder(e){return e=this.groupNodesByType(e,oi),e=this.groupNodesByType(e,Yn),e=this.groupNodesByType(e,Hn),e=this.groupNodesByType(e,Wn),e=this.groupNodesByType(e,Tn),e}createLogicGroupsToRemoveMethodInvocationAmbiguity(e){let n=[],r=e.length,i=r-1;for(let s=0;s<r;s++){let o=e[s];if(o instanceof Xt){let a=n.pop(),l=new De;if(l.startPosition=a.startPosition,typeof a!="undefined"&&(a.isVirtualGroupMember=!0),typeof o!="undefined"&&(o.isVirtualGroupMember=!0),l.nodes.push(a),l.nodes.push(o),s!=i)for(let u=s+1;u<r;u++)if(e[u]instanceof Xt){if(typeof e[u]=="undefined")continue;if(e[u].isVirtualGroupMember=!0,l.nodes.push(e[u]),u==i){u+=1;break}}else{if(u==i){u+=1;break}s=u-1;break}l.endPosition=l.nodes[l.nodes.length-1].endPosition,n.push(l)}else n.push(o)}return n}countTypeRight(e,n,r){let i=0;for(let s=n;s<e.length&&e[s]instanceof r;s++)i+=1;return i}createLogicGroupsToResolveOperatorAmbiguity(e){return e=this.groupNodesByType(e,Ei),e=this.groupNodesByType(e,cr),e=this.groupNodesByType(e,Vr),e=this.groupNodesByType(e,Fr),e=this.groupNodesByType(e,Ur),e=this.groupNodesByType(e,Nn),e=this.groupNodesByType(e,Br),e=this.groupNodesByType(e,qr),e=this.groupNodesByType(e,jr),e=this.groupNodesByOperatorType(e),e}createModifier(e){let n=e.shift(),r=[],i=e.length;if(e.length>0&&e[0]instanceof De){let o=this.unpack(e[0].nodes),a=this.makeArgGroup(o),l=new Mo;if(l.nameNode=n,l.methodStyleArguments=a,e.length>1)for(let u=1;u<i;u++)e[u].pushError(M.makeSyntaxError(P.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX,e[u],"Unexpected ["+W.getPrettyTypeName(e[u])+"] while parsing modifier argument group. Expecting [T_MODIFIER_SEPARATOR] or end of current expression."));return l}for(let o=0;o<i;o++)if(e[o]instanceof Pn||e[o]instanceof It){if(o+1>=i)return e[o].pushError(M.makeSyntaxError(P.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST,e[o],"Unexpected end of modifier value list while parsing modifier.")),e;let a=e[o+1];if(this.isValidModifierValue(a)){if(a instanceof oe)if(a.variableReference!=null&&a.variableReference.pathParts.length>0)a.variableReference.pathParts.forEach(l=>{if(l instanceof Un){let u=new Ut;u.startPosition=l.startPosition,u.endPosition=l.endPosition,u.value=l.name,u.name=l.name,u.originalAbstractNode=l,u.endPosition==null&&u.startPosition==null&&(u.startPosition=a.startPosition,u.endPosition=a.endPosition),r.push(u)}});else{let l=new Ut;l.startPosition=a.startPosition,l.endPosition=a.endPosition,l.value=a.name,l.name=a.name,l.originalAbstractNode=a,r.push(l)}else r.push(a);o+=1;continue}else return a.pushError(M.makeSyntaxError(P.TYPE_MODIFIER_UNEXPECTED_VALUE,a,"Unexpected ["+W.getPrettyTypeName(a)+"] while parsing modifier value.")),e}let s=new Mo;return s.nameNode=n,s.valueNodes=r,s.startPosition=s.nameNode.startPosition,s.valueNodes.length>0?s.endPosition=s.valueNodes[s.valueNodes.length-1].endPosition:s.endPosition=s.nameNode.endPosition,s}scanToEndOfModifier(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof Pn){let o=n.length;if(o==0){s.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE,s,"Unexpected end of input while parsing modifier value."));continue}this.isRealModifierSeparator.set(s,!0);let a=n[o-1];if(nt.distance(a,s)>1)break}if(s instanceof bt||s instanceof oe||s instanceof Lt){let o=n.length;if(o>0&&n[o-1]instanceof De)break}if(s instanceof vn||s instanceof Bt||s instanceof zt||s instanceof Nn||s instanceof cr||s instanceof Ei||s instanceof Fr||s instanceof Vr||s instanceof qr||s instanceof Br||s instanceof jr||s instanceof Ur||s instanceof fr||s instanceof Hr||s instanceof ui||s instanceof pr||s instanceof ci||s instanceof Gr||s instanceof ns||s instanceof Xt||s instanceof on)break;n.push(s)}return n}static isAssignmentOperatorNode(e){return e instanceof Lr||e instanceof Dr||e instanceof Kn||e instanceof kr||e instanceof Mr||e instanceof Tn}insertAutomaticStatementSeparators(e){let n=e.length,r=[];for(let i=0;i<n;i++){let s=e[i];if(Rt.isAssignmentOperatorNode(s))if(i+2<n)if(e[i+2]instanceof sn){r.push(s),r.push(e[i+1]),r.push(e[i+2]),i+=2;continue}else{r.push(s),r.push(e[i+1]),r.push(new sn),i+=1;continue}else{r.push(s),r.push(e[i+1]),r.push(new sn);break}else r.push(s)}return e}createSemanticGroups(e){let n=[],r=e.length,i=[];for(let s=0;s<r;s++)if(e[s]instanceof sn){let o=new Ot;o.nodes=i,o.separatorToken=e[s],n.push(o),i=[];continue}else if(i.push(e[s]),s+1>=r){let o=new Ot;o.nodes=i,n.push(o);break}return n}findLogicalGroupEnd(e,n){let r=[],i=n.length,s=null,o=0,a=0;for(a;a<i;a++){let c=n[a];if(o+=1,c instanceof Bt){s=c;break}else if(c instanceof zt){if(a+1>=i)return c.pushError(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END,c,"Unexpected end of input while parsing input text.")),{found:!1,logicalGroup:null,skipCount:o};let f=this.findLogicalGroupEnd(c,n.slice(a+1));if(f.found){f.logicalGroup!=null&&r.push(f.logicalGroup),o+=f.skipCount,a+=f.skipCount;continue}else continue}else r.push(c)}if(s==null)return e.pushError(M.makeSyntaxError(P.TYPE_LOGIC_GROUP_NO_END,e,"Unexpected end of input while parsing logic group.")),{found:!1,logicalGroup:null,skipCount:o};let l=new Rt;l.setIsRoot(!1);let u=new De;if(r.length>=2&&r[1]instanceof In){if(u=new dr,u.scopeOperator=r[1],a+2<i&&n[a+1]instanceof oe&&n[a+2]instanceof bt&&n[a+1].name==Xe.ScopeAs){let m=n[a+2];u=new Li,u instanceof Li&&(u.alias=m),o+=2}let c=r.splice(0,2);(u instanceof dr||u instanceof Li)&&(u.scope=c[0])}return u.nodes=l.parse(r),u.start=e,u.end=s,u.startPosition=e.startPosition,u.endPosition=s.endPosition,u instanceof Li&&u.alias!=null&&(u.endPosition=u.alias.endPosition),{found:!0,logicalGroup:u,skipCount:o}}unpack(e){if(e.length==0)return[];if(e[0]instanceof Ot){let n=e[0];return this.unpack(n.nodes)}return e}collectUntil(e){let n=e.length,r=[];for(let i=n-1;i>=0&&!Rt.isAssignmentOperator(e[i]);i--){let s=e.pop();r.push(s)}if(r=r.reverse(),r.length>=3){let i=new Rt;return i.setIsRoot(!1),{collectedTokens:this.unpack(i.parse(r)),tokens:e}}return{collectedTokens:r,tokens:e}}seek(e,n){for(let r=n;r<this.tokens.length;r++)if(this.tokens[r]instanceof e)return{found:!0,foundAt:r,node:this.tokens[r]};return{found:!1,foundAt:null,node:null}}};var Mi=class{static findRightBeighboringNextPunctuation(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e+1;s<n.length;s++){let o=n[s];if(G.ctypeSpace(o)&&(i=!0),i&&(G.ctypeAlpha(o)||G.ctypeDigit(o)))return null;if(G.ctypePunct(o)||o==E.String_Terminator_SingleQuote||o==E.String_Terminator_DoubleQuote)return o}return null}static findRightNeighboringNextAlphaNumeric(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e+1;s<n.length;s++){let o=n[s];if((G.ctypeSpace(o)||G.ctypePunct(o)&&o!=E.Punctuation_Underscore)&&(i=!0),i&&(G.ctypeAlpha(o)||G.ctypeDigit(o)))return s+1}return null}static findLeftNeighboringNextPunctuation(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e-2;s>=0;s--){let o=n[s];if(G.ctypeSpace(o)&&(i=!0),i&&(G.ctypeAlpha(o)||G.ctypeDigit(o)))return null;if(G.ctypePunct(o))return o}return null}static findLeftNeighboringNextAlphaNumeric(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e-1;s>=0;s--){let o=n[s];if((G.ctypeSpace(o)||G.ctypePunct(o)&&o!=E.Punctuation_Underscore)&&(i=!0),i&&(G.ctypeAlpha(o)||G.ctypeDigit(o)))return s+1}return null}static scanWordAt(e,n,r=4){if(n=n.replace("	"," ".repeat(r)),e<0||e>n.length)return null;let i=[],s=[];for(let o=e-1;o>=0;o--){let a=n[o];if(G.ctypePunct(a)&&a!=E.Punctuation_Underscore||G.ctypeSpace(a))break;i.push(a)}for(let o=e;o<n.length;o++){let a=n[o];if(G.ctypePunct(a)&&a!=E.Punctuation_Underscore||G.ctypeSpace(a))break;s.push(a)}return i.reverse().join("")+s.join("")}};var Zd=class{constructor(e){this.parser=e}findParentWithName(e,n){let r=n.parent;for(;r!=null;){if(r instanceof B&&r.nameMatches(e))return r;if(r.parent==r)break;r=r.parent}return null}};var em=class{static analyzeModifierNodeParameters(e){var r,i,s,o;if(e.parameters.forEach(a=>{var l,u,c,f;a.isModifierParameter=(u=(l=Me.instance)==null?void 0:l.hasModifier(a.name))!=null?u:!1,a.isModifierParameter&&(e.modifiers.parameterModifiers.push(a),a.modifier=(f=(c=Me.instance)==null?void 0:c.getModifier(a.name))!=null?f:null,e.modifiers.modifierNames.includes(a.name)==!1&&e.modifiers.modifierNames.push(a.name))}),e.modifierChain!=null&&e.modifierChain.modifierChain.length>0){let a=null;e.modifierChain.modifierChain.forEach(l=>{var u,c;l.nameNode!=null&&(l.modifier=(c=(u=Me.instance)==null?void 0:u.getModifier(l.nameNode.content))!=null?c:null,e.modifiers.modifierNames.includes(l.nameNode.content)==!1&&e.modifiers.modifierNames.push(l.nameNode.content),l.modifier!=null&&(a=l.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=l)))}),e.modifierChain.lastModifier=a,e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}e.runtimeNodes.length>0&&e.runtimeNodes.forEach(a=>{if(a.modifierChain!=null&&a.modifierChain.modifierChain.length>0){let l=null;a.modifierChain.modifierChain.forEach(u=>{var c,f;u.nameNode!=null&&(u.modifier=(f=(c=Me.instance)==null?void 0:c.getModifier(u.nameNode.content))!=null?f:null,e.modifiers.modifierNames.includes(u.nameNode.content)==!1&&e.modifiers.modifierNames.push(u.nameNode.content),u.modifier!=null&&(l=u.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=u)))}),e.modifierChain!=null&&(e.modifierChain.lastModifier=l),e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}});let n=e.modifiers.getLastManifestedModifier();if(n!=null)if(n.name=="macro"){let a=e.modifiers.getLastManifestedModifierValue();e.manifestType=(i=(r=Me.instance)==null?void 0:r.getMacroManifestingType(a))!=null?i:""}else e.manifestType=(o=(s=Me.instance)==null?void 0:s.getProbableReturnType(n,e.isPaired()))!=null?o:""}};var zN={warnUnknownParameters:!1};var tm=class{static validateInteger(e){return parseInt(e).toString()!==e?{isValid:!1,message:'"'+e+'" is not a valid integer.'}:{isValid:!0,message:""}}static validateBoolean(e){return e=="true"||e=="false"?{isValid:!0,message:""}:{isValid:!1,message:'"'+e+'" is not a valid value. Expecting true/false.'}}static validateParameters(e){var n,r,i,s,o;if(e.isTagNode&&((n=Ie.instance)==null?void 0:n.isKnownTag(e.runtimeName()))){let a=(r=Ie.instance)==null?void 0:r.findTag(e.runtimeName());if(e.hasParameters)for(let l=0;l<e.parameters.length;l++){let u=e.parameters[l],c=null,f=!1,m=u.name.trim();if(!u.isVariableReference)if(m=ar(m,":"),((i=Ie.instance)==null?void 0:i.canResolveDynamicParameter(e.runtimeName()))&&typeof a.resolveDynamicParameter!="undefined"&&a.resolveDynamicParameter!=null?(c=a.resolveDynamicParameter(e,m),f=!0):c=(s=Ie.instance)==null?void 0:s.getParameter(e.runtimeName(),m),f&&c==null&&(c=(o=Ie.instance)==null?void 0:o.getParameter(e.runtimeName(),m)),c==null){if(zN.warnUnknownParameters){let d="";if(a.suggestAlternativeParams!=null){let _=a.suggestAlternativeParams(m);_.length==1?d='. Did you mean "'+_[0]+'"?':_.length>1&&(d=". Try one of the following: "+_.join(", "))}let p='Unknown parameter name: "'+m+'"'+d;e.pushError(M.makeSyntaxError(P.LINT_UNKNOWN_PARAMETER,e,p,1))}}else if(c.validate!=null){let d=c.validate(e,u);d.length>0&&d.forEach(p=>{e.pushError(M.makeSyntaxError(P.LINT_GENERAL_INVALID_PARAMETER_CONTENTS,u,p.message,1))})}else{if(u.hasInterpolations())continue;for(let d=0;d<c.expectsTypes.length;d++){let p=c.expectsTypes[d];if(p=="integer"){let _=this.validateInteger(u.value);_.isValid||e.pushError(M.makeSyntaxError(P.LINT_PARAMETER_CONTENT_INVALID_INTEGER,u,_.message,1))}else if(p=="boolean"){let _=this.validateBoolean(u.value);if(c.name=="paginate"){if(u.value=="true"||u.value=="false")continue;if(parseInt(u.value).toString()!=u.value){let C='Unexpected "'+u.value+'". Expecting a numeric value, or true/false.';e.pushError(M.makeSyntaxError(P.LINT_PAGINATE_INVALID_VALUE,u,C,0))}}else _.isValid||e.pushError(M.makeSyntaxError(P.LINT_PARAMETER_CONTENT_INVALID_BOOLEAN,u,_.message,1))}}}}}}};function nm(t){return t==null?!1:t=='"'||t=="'"}function XN(t,e){for(t.getCurrentIndex();t.getCurrentIndex()<t.inputLength()&&(t.checkCurrentOffsets(),e&&t.pushChar(t.getCurrent()),t.getCurrent()!=E.NewLine);t.incrementIndex());}function QN(t,e){for(t.getCurrentIndex();t.getCurrentIndex()<t.inputLength();t.incrementIndex())if(t.checkCurrentOffsets(),e&&t.pushChar(t.getCurrent()),t.getCurrent()==E.Punctuation_Asterisk&&t.getNext()==E.Punctuation_ForwardSlash){e&&t.pushChar(E.Punctuation_ForwardSlash),t.incrementIndex(),t.checkCurrentOffsets();break}}function rm(t){let e=t.getCurrent();for(t.incrementIndex(),t.getCurrentIndex();t.getCurrentIndex()<t.inputLength()&&(t.checkCurrentOffsets(),!(t.getCurrent()==e&&t.getPrev()!=E.String_EscapeCharacter));t.incrementIndex());}var im=class{constructor(){this.content="";this.nodeIndex=[];this.fragmentStartIndex=[];this.charLen=0;this.documentOffsets=new Map;this.inputLen=0;this.seedOffset=0;this.shiftLine=0;this.chars=[];this.currentIndex=0;this.lastDocumentOffsetKey=null;this.cur=null;this.next=null;this.prev=null;this.chunkSize=5;this.currentChunkOffset=0;this.fragments=[];this.isScript=!1;this.fragmentOpeningIndex=new Map;this.indexedFragments=new Map;this.embeddedIndexedFragments=new Map}updateIndex(e){this.currentIndex=e}inputLength(){return this.inputLen}incrementIndex(){this.currentIndex+=1}getCurrentIndex(){return this.currentIndex}getCurrent(){return this.cur}getNext(){return this.next}getPrev(){return this.prev}pushChar(e){}getChar(e){return this.chars[e]}getSeedOffset(){return this.seedOffset}setDocumentOffsets(e,n){return this.documentOffsets=e,this.lastDocumentOffsetKey=n,this}getClosingFragmentAfter(e){if(typeof e=="undefined")return null;let n=e.name.toLowerCase();for(let r=0;r<this.fragments.length;r++){let i=this.fragments[r];if(i.isClosingFragment&&!i.isSelfClosing&&i.name.toLowerCase()==n&&i.index>e.index)return i}return null}getContentSubstring(e,n){return this.content.substr(e,n)}resetState(){return this.fragments=[],this.inputLen=0,this.fragmentStartIndex=[],this.fragmentOpeningIndex.clear(),this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.seedOffset=0,this.cur=null,this.next=null,this.prev=null}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let a=this.documentOffsets.get(e);i=a.line,s=a.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let a=null,l=null,u=null,c=null;for(let f of this.documentOffsets.keys()){if(f>=e){c!=null&&e>c?(a=u,l=c):(a=this.documentOffsets.get(f),l=f);break}u=this.documentOffsets.get(f),c=f}a==null&&(a=u,l=c),a!=null?(s=e-(l!=null?l:0),i=a.line,e<=(l!=null?l:0)?(i=a.line,s=e+1):i=a.line+1):this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let o=new qt;return o.index=n,o.offset=e,o.line=i+this.shiftLine,o.char=s,o}getFragments(){return this.fragments}getFragmentsBetween(e,n){let r=[];return this.fragments.forEach(i=>{var a,l,u,c;let s=(l=(a=i.startPosition)==null?void 0:a.index)!=null?l:0,o=(c=(u=i.endPosition)==null?void 0:u.index)!=null?c:0;s>e&&o<n&&r.push(i)}),r}getFragmentContaining(e){var n,r,i,s;for(let o=0;o<this.fragments.length;o++){let a=this.fragments[o];if(((r=(n=a.startPosition)==null?void 0:n.index)!=null?r:0)<e.index&&((s=(i=a.endPosition)==null?void 0:i.index)!=null?s:0)>e.index)return a}return null}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let n=G.split(G.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),n.forEach(r=>{this.chars.push(r),this.charLen+=1})}e&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}}processInputText(e){this.content=e,this.inputLen=this.content.length;let n=[...this.content.matchAll(/(<(?!\?[php|?=]))/gm)],r=[];n.forEach(i=>{var o;let s=(o=i.index)!=null?o:0;for(let a=0;a<this.nodeIndex.length;a++){let l=this.nodeIndex[a];if(s>=l.start&&s<=l.end)return}r.push(s)}),this.fragmentStartIndex=r}setIndexRanges(e){return this.nodeIndex=e,this}fetchAt(e,n){return this.content.substr(e,n)}getFragmentsContainingStructures(){let e=[];return this.fragments.forEach(n=>{let r=n.name.toLowerCase();if(!(r!="script"&&r!="style")&&!n.isClosingFragment&&!n.isSelfClosing&&n.containsStructures){let i=this.getClosingFragmentAfter(n);i!=null&&e.push({start:n,end:i})}}),e}parse(e){if(this.resetState().processInputText(e),this.fragmentStartIndex.length==0)return[];for(let s=0;s<this.fragmentStartIndex.length;s++){let o=this.fragmentStartIndex[s];if(this.resetIntermediateState(),this.seedOffset=o,this.currentChunkOffset=o,this.parseIntermediateText(),this.isScript){let a=!1;for(let l=s+1;l<this.fragmentStartIndex.length;l++){let u=this.fragmentStartIndex[l];if(this.fetchAt(u,8).toLowerCase()=="<\/script"){s=l-1,this.isScript=!1,a=!0;break}}if(!a)break}}let r=0,i=0;return this.fragments.forEach(s=>{let o=s.name.toLowerCase();(o=="script"||o=="style")&&(s.embeddedIndex=i,this.embeddedIndexedFragments.set(i,s),i+=1),s.index=r,this.indexedFragments.set(r,s),r+=1}),this.fragments}getFragment(e){return this.indexedFragments.get(e)}getEmbeddedFragment(e){return this.embeddedIndexedFragments.has(e)?this.embeddedIndexedFragments.get(e):null}hasFragments(){return this.fragments.length>0}skipToEndOfPhp(){for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),nm(this.cur)&&rm(this),this.cur==E.Punctuation_ForwardSlash&&this.next==E.Punctuation_ForwardSlash){XN(this,!0);continue}if(this.cur==E.Punctuation_ForwardSlash&&this.next==E.Punctuation_Asterisk){QN(this,!0);continue}if(this.cur==E.Punctuation_Question&&this.next==E.Punctuation_GreaterThan||this.next==null)break}}parseIntermediateText(){this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length;let e=this.currentIndex,n=[],r=[],i=!1,s=!1;for(this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),G.ctypeSpace(this.cur)&&(i=!0),this.next==E.Punctuation_LessThan){let o=1;this.cur==E.Punctuation_ForwardSlash&&(o=2);let a=this.fetchAt(this.currentChunkOffset+o,5);if(a.toLowerCase()=="<?php"||a.startsWith("<?=")){this.skipToEndOfPhp();continue}}if(this.currentIndex>0&&this.cur==E.Punctuation_LessThan||this.next==null&&this.cur!=E.Punctuation_GreaterThan)break;if(!i&&this.cur==E.Punctuation_LessThan&&this.next==E.Punctuation_ForwardSlash&&(s=!0),!i&&this.cur!=E.Punctuation_LessThan&&this.cur!=E.Punctuation_ForwardSlash&&this.cur!=E.Punctuation_GreaterThan&&r.push(this.cur),nm(this.cur)){let o=this.currentIndex;rm(this);let a=new Zp;a.startPosition=this.positionFromOffset(o+this.seedOffset,o+this.seedOffset),a.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),n.push(a);continue}if(this.cur==E.Punctuation_ForwardSlash&&this.next==E.Punctuation_GreaterThan){let o=new qu;o.startPosition=this.positionFromOffset(e+this.seedOffset,e+this.seedOffset),o.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset+1,this.currentIndex+this.seedOffset+1),o.parameters=n,o.isSelfClosing=!0,o.name=r.join(""),o.isClosingFragment=s,this.fragments.push(o),s?this.fragmentOpeningIndex.set(o.startPosition.index+1,1):this.fragmentOpeningIndex.set(o.startPosition.index,1);break}if(this.cur==E.Punctuation_GreaterThan){let o=new qu;o.startPosition=this.positionFromOffset(e+this.seedOffset,e+this.seedOffset),o.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),o.parameters=n,o.name=r.join(""),o.isClosingFragment=s,this.fragments.push(o),s?this.fragmentOpeningIndex.set(o.startPosition.index+1,1):this.fragmentOpeningIndex.set(o.startPosition.index,1),o.name.toLowerCase()=="script"&&o.isClosingFragment==!1&&(this.isScript=!0);break}}}};var sm=class{constructor(e,n){this.documentParser=e,this.fragmentsParser=n}doesContainFragments(e){var i,s,o,a,l;let n=(s=(i=e.endPosition)==null?void 0:i.index)!=null?s:0,r=(l=(a=(o=e.isClosedBy)==null?void 0:o.startPosition)==null?void 0:a.index)!=null?l:0;return this.fragmentsParser.getFragmentsBetween(n,r).length>0}analyze(){let e=this.documentParser.getNodes();!this.fragmentsParser.hasFragments()||(this.fragmentsParser.getFragments().forEach(n=>{let r=n.name.toLowerCase();if(n.isClosingFragment==!1&&n.isSelfClosing==!1&&(r=="script"||r=="style")){let i=this.fragmentsParser.getClosingFragmentAfter(n);if(i==null)return;n.endPosition!=null&&i.startPosition!=null&&this.documentParser.getNodesBetween(n.endPosition,i.startPosition).forEach(o=>{(o instanceof vt||o instanceof B&&o.isClosedBy!=null)&&(n.containsStructures=!0),r=="style"?o.isInStyleTag=!0:o.isInScriptTag=!0})}}),e.forEach(n=>{var o,a,l,u,c,f;if(n instanceof Qe||n.startPosition==null)return;n instanceof B&&($t.isConditionalStructure(n)||!n.isClosingTag)&&n.isClosedBy!=null&&(n.containsAnyFragments=this.doesContainFragments(n));let r=this.fragmentsParser.getFragmentContaining(n.startPosition);if(r==null)return;if(n.fragment=r,n.startPosition.index-((a=(o=r.startPosition)==null?void 0:o.index)!=null?a:0)<=3){n.fragmentPosition=0;return}if(r.parameters.length==0){n.fragmentPosition=2;return}let s=!1;for(let m=0;m<r.parameters.length;m++){let d=r.parameters[m];if(((u=(l=d.startPosition)==null?void 0:l.index)!=null?u:0)<n.startPosition.index&&((f=(c=d.endPosition)==null?void 0:c.index)!=null?f:0)>n.startPosition.index){n.fragmentPosition=1,s=!0;break}}s||(n.fragmentPosition=2)}))}};var om=class{static analyze(e){e.forEach(n=>{var r,i,s,o;if(n instanceof B){if(n.prev instanceof B&&n.isPaired()&&n.prev.isInlineAntlers==!0){n.isInlineAntlers=!1,n.isClosedBy!=null&&(n.isClosedBy.isInlineAntlers=!1);return}let a=!1,l=!1;if(n.next==null)a=!0;else if(n.next instanceof Qe){let u=G.getFirstLine(n.next.content);(n.next.next==null&&u.trim().length==0||G.trimLeft(u," 	").startsWith(`
`)==!1&&u.trim().length>0||n.next.next instanceof rn||n.next.next instanceof B&&(n.next.next.isPaired()==!1||((i=(r=n.next.next.startPosition)==null?void 0:r.line)!=null?i:0)!=((o=(s=n.startPosition)==null?void 0:s.line)!=null?o:0)))&&(a=!0)}else n.next instanceof B&&n.next.isPaired()&&(a=!0);if(n.prev==null)l=!0;else if(n.prev instanceof Qe){let u=G.getLastLine(n.prev.content);G.trimRight(u," 	").endsWith(`
`)==!1&&u.trim().length>0||n.prev.prev instanceof rn?l=!0:n.prev.prev instanceof B&&(n.prev.prev.isInlineAntlers?l=!0:n.prev.prev.isClosingTag&&n.prev.prev.isOpenedBy!=null&&(n.prev.prev.isOpenedBy instanceof rn||n.prev.prev.runtimeName()=="noparse")&&(n.prev.prev.isInlineAntlers=!0,l=!0))}else n.prev instanceof B&&n.prev.isPaired()&&(l=!0);n.isInlineAntlers=a&&l}})}};var xe=class{constructor(){this.interpolationRegions=new Map;this.nodeParser=new zd;this.chars=[];this.charLen=0;this.lastAntlersNode=null;this.content="";this.originalContent="";this.currentIndex=0;this.currentContent=[];this.sourceContent=[];this.startIndex=0;this._recoveryStartIndex=0;this.cur=null;this.next=null;this.prev=null;this.nodes=[];this.renderNodes=[];this.isInterpolatedParser=!1;this.inputLen=0;this.documentOffsets=new Map;this.lineIndex=new Map;this.lastDocumentOffsetKey=null;this.isDoubleBrace=!1;this.interpolationEndOffsets=new Map;this.isScanningInterpolations=!1;this.seedStartLine=1;this.seedStartchar=1;this.frontMatterEndLine=-1;this.lastAntlersEndIndex=-1;this.seedOffset=0;this.antlersStartIndex=[];this.antlersStartPositionIndex=new Map;this.chunkSize=5;this.maxLine=1;this.currentChunkOffset=0;this.isNoParse=!1;this.antlersErrors=[];this.languageParser=new Rt;this.documentPath=null;this.pushedErrors=new Map;this.frontMatter="";this.shiftLine=0;this.doesHaveUncloseIfStructures=!1;this.doesHaveUnclosedStructures=!1;this.parseChildDocuments=!1;this.structure=new Zd(this);this.fragmentsParser=new im,this.fragmentsAnalyzer=new sm(this,this.fragmentsParser)}withChildDocuments(e){return this.parseChildDocuments=e,this}shouldParseChildDocument(){return this.parseChildDocuments}hasUnclosedIfStructures(){return this.doesHaveUncloseIfStructures}hasUnclosedStructures(){return this.doesHaveUnclosedStructures}getFrontMatter(){return this.frontMatter}setDocumentPath(e){this.documentPath=e}getFrontMatterEndLine(){return this.frontMatterEndLine}pushError(e){(e.errorCode==P.TYPE_PARSE_UNCLOSED_CONDITIONAL||e.errorCode==P.TYPE_PARSE_UNPAIRED_CONDITIONAL)&&(this.doesHaveUncloseIfStructures=!0);let n=e.hash();this.pushedErrors.has(n)||(this.pushedErrors.set(n,e),this.antlersErrors.push(e))}getInterpolationRegions(){return this.interpolationRegions}getDocumentPath(){return this.documentPath}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let n=G.split(G.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),n.forEach(r=>{this.chars.push(r),this.charLen+=1})}e&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}}charLeftAt(e){return e==null||e.char<=1?null:this.charAt(this.positionFromCursor(e.line,e.char-1))}charLeftAtCursor(e,n){return this.charLeftAt(this.positionFromCursor(e,n))}charRightAt(e){return e==null?null:this.charAt(this.positionFromCursor(e.line,e.char+1))}charRightAtCursor(e,n){return this.charRightAt(this.positionFromCursor(e,n))}punctuationLeftAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:Mi.findLeftNeighboringNextPunctuation(e.char,r,n)}punctuationLeftAtCursor(e,n,r=4){return this.punctuationLeftAt(this.positionFromCursor(e,n),r)}punctuationRightAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:Mi.findRightBeighboringNextPunctuation(e.char,r,n)}punctuationRightAtCursor(e,n,r=4){return this.punctuationRightAt(this.positionFromCursor(e,n),r)}wordRightAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let i=Mi.findRightNeighboringNextAlphaNumeric(e.char,r,n);return i==null?null:Mi.scanWordAt(i,r,n)}wordRightAtCursor(e,n,r=4){return this.wordRightAt(this.positionFromCursor(e,n),r)}wordLeftAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let i=Mi.findLeftNeighboringNextAlphaNumeric(e.char,r,n);return i==null?null:Mi.scanWordAt(i,r,n)}wordLeftAtCursor(e,n,r=4){return this.wordLeftAt(this.positionFromCursor(e,n),r)}wordAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:Mi.scanWordAt(e.char,r,n)}getLineText(e){let n=this.getLineIndex(e);return n!=null?G.trimRight(this.getContent().substring(n.start,n.end+1)):null}wordAtCursor(e,n,r=4){return this.wordAt(this.positionFromCursor(e,n),r)}charAt(e){return e==null?null:this.content.substr(e.offset,1)}charAtCursor(e,n){return this.charAt(this.positionFromCursor(e,n))}getLineIndex(e){if(e==this.maxLine){let r=this.lineIndex.get(e-1);if(r!=null){let i=r.endIndex+1;return{end:this.inputLen-1,start:i}}return null}let n=this.lineIndex.get(e);return n!=null?{start:n.startIndex,end:n.endIndex}:null}positionFromCursor(e,n){if(e==this.maxLine){let i=this.lineIndex.get(e-1);if(i!=null){let s=i.endIndex+1,o=s+(n-1),a=new qt;return a.offset=o,a.line=e,a.char=n,a.index=o,a}return null}let r=this.lineIndex.get(e);if(r!=null){let i=new qt;return i.offset=r.startIndex+(n-1),i.line=r.line,i.char=n,i.index=r.startIndex+(n-1),i}return null}parse(e){var u,c,f,m,d,p,_,C,h,b;if(this.resetState(),!this.processInputText(e))return[];let n=this.antlersStartIndex.length,r=n-1;if(n==0&&!this.isNoParse){let g=new Qe;g.withParser(this),g.content=this.prepareLiteralContent(this.content),g.startPosition=this.positionFromOffset(0,0),g.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1),g.sourceContent=this.content,this.nodes.push(g)}else for(let g=0;g<n;g+=1){let N=this.antlersStartIndex[g];if(this.seedOffset=N,g==0&&N>0&&!this.isNoParse){let V=new Qe;if(V.withParser(this),V.content=this.prepareLiteralContent(this.content.substr(0,N)),V.content.length>0){V.startPosition=this.positionFromOffset(0,0),V.endPosition=this.positionFromOffset(N,N-1);let O=(u=V.startPosition.index)!=null?u:0,$=V.endPosition.index+1;V.sourceContent=this.content.substr(O,$-O),this.nodes.push(V)}}if(N<this.lastAntlersEndIndex)continue;if(this.currentChunkOffset=N,this.resetIntermediateState(),this.parseIntermediateText(),this.lastAntlersNode!=null&&!(this.lastAntlersNode instanceof Fs)&&this.lastAntlersNode.isComment&&!(this.lastAntlersNode instanceof ol)&&g+1<n){let V=this.antlersStartPositionIndex.get(g+1);if(this.lastAntlersNode.endPosition!=null&&V<this.lastAntlersNode.endPosition.offset){let O=null;for(let $=g+1;$<n;$++)if(this.antlersStartIndex[$]>this.lastAntlersNode.endPosition.offset){O=$;break}if(O==null){let $=this.prepareLiteralContent(this.content.substr(this.lastAntlersNode.endPosition.offset+1));if($.length>0&&!this.isNoParse){let X=new Qe;X.withParser(this),X.content=$;let ee=this.lastAntlersNode.endPosition.offset+1;X.startPosition=this.positionFromOffset(ee,ee),X.endPosition=this.positionFromOffset(this.inputLen,this.inputLen);let Y=(c=X.startPosition.index)!=null?c:0,ne=X.endPosition.index+1;X.sourceContent=this.content.substr(Y,ne-Y),this.nodes.push(X)}break}else{let $=this.antlersStartIndex[O],X=$-this.lastAntlersNode.endPosition.offset-1;if(X>0){let ee=this.lastAntlersNode.endPosition.offset,Y=$-1;ee+=1,Y-=1;let ne=this.content.substr(ee,X);if(ne.length>0&&!this.isNoParse){let Le=new Qe;Le.withParser(this),Le.content=ne,Le.startPosition=this.positionFromOffset(ee,ee),Le.endPosition=this.positionFromOffset(Y,Y);let de=(f=Le.startPosition.index)!=null?f:0,Z=Le.endPosition.index+1;Le.sourceContent=this.content.substr(de,Z-de),this.nodes.push(Le)}continue}g=O-1;continue}}}let S=!1;if(this.antlersStartPositionIndex.has(this.currentChunkOffset)?this.lastAntlersEndIndex<this.currentChunkOffset&&(S=!0):S=!0,S){if(g+1<n){let V=this.antlersStartIndex[g+1],O=this.lastAntlersEndIndex+1;if(V<O)if(this.lastAntlersEndIndex>V)g+2<n&&(V=this.antlersStartIndex[g+2]);else continue;if(g+1==r&&V<=this.lastAntlersEndIndex){if(this.isNoParse)break;let $=this.currentChunkOffset,X=this.content.substr(O),ee=new Qe;if(ee.withParser(this),ee.content=this.prepareLiteralContent(X),ee.content.length>0){ee.startPosition=this.positionFromOffset($,$),ee.endPosition=this.positionFromOffset(V,V-1);let Y=(m=ee.startPosition.index)!=null?m:0,ne=ee.endPosition.index+1;ee.sourceContent=this.content.substr(Y,ne-Y),this.nodes.push(ee)}break}else{let $=V-this.lastAntlersEndIndex-1;if($==0||this.isNoParse)continue;let ee=this.currentChunkOffset;this.lastAntlersNode instanceof ol&&(O=((p=(d=this.lastAntlersNode.endPosition)==null?void 0:d.offset)!=null?p:0)+1,$-=((C=(_=this.lastAntlersNode.endPosition)==null?void 0:_.offset)!=null?C:0)+1,ee=O),this.lastAntlersNode instanceof Fs&&(O-=1,$+=1);let Y=this.content.substr(O,$),ne=new Qe;if(ne.withParser(this),ne.content=this.prepareLiteralContent(Y),ne.content.length>0){ne.startPosition=this.positionFromOffset(O,O),ne.endPosition=this.positionFromOffset(V,V-1);let Le=(h=ne.startPosition.index)!=null?h:0,de=ne.endPosition.index+1;ne.sourceContent=this.content.substr(Le,de-Le),this.nodes.push(ne)}}continue}if(g!==r&&this.lastAntlersNode!=null&&this.lastAntlersNode.endPosition!=null&&this.positionFromOffset(N,N).isBefore(this.lastAntlersNode.endPosition)){if(g+1<n){if(this.antlersStartIndex[g+1]<this.lastAntlersNode.endPosition.offset)continue}else if(g+1!=r)continue}if(g==r){let V=this.currentIndex+N;if(V<this.inputLen&&!this.isNoParse){let O=new Qe;if(O.withParser(this),O.content=this.prepareLiteralContent(this.content.substr(V)),O.content.length>0){O.startPosition=this.positionFromOffset(V,V),O.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1);let $=(b=O.startPosition.index)!=null?b:0,X=O.endPosition.index+1;O.sourceContent=this.content.substr($,X-$),this.nodes.push(O)}break}}}}let i=0;this.nodes.forEach(g=>{g.index=i,i+=1}),this.nodes.length>500&&(this.parseChildDocuments=!1),this.nodes.forEach(g=>{g instanceof B&&g.isComment||g instanceof B&&g.interpolationRegions.size>0&&(g.interpolationRegions.forEach((N,S)=>{let V=new xe;V.withChildDocuments(this.parseChildDocuments),V.setIsInterpolatedParser(!0);let O=V.parse(N.parseContent);O.length>1&&O[1]instanceof B&&(O=[O[1]]),V.hasUnclosedIfStructures()&&(this.doesHaveUncloseIfStructures=!0),V.hasUnclosedStructures()&&(this.doesHaveUnclosedStructures=!0),g.processedInterpolationRegions.set(S,O),this.mergeErrors(V.getAntlersErrors())}),g.hasProcessedInterpolationRegions=!0)}),this.content.length>0&&this.fragmentsParser.setIndexRanges(this.getNodeIndexRanges()).parse(this.content);let s=new ga;this.renderNodes=s.associate(this.nodes,this),this.createChildDocuments(this.renderNodes);let o=null,a=null;for(let g=0;g<this.nodes.length;g++){let N=this.nodes[g];g+1<this.nodes.length?a=this.nodes[g+1]:a=null,N.next=a,N.prev=o,o=N}this.fragmentsAnalyzer.analyze(),om.analyze(this.nodes),this.nodes.forEach(g=>{if(g instanceof B&&g.isClosedBy!=null){let N=g.getImmediateChildren();for(let S=0;S<N.length;S++){let V=N[S];if(V instanceof B&&V.isClosedBy!=null){g.containsChildStructures=!0;break}else if(V instanceof vt){g.containsChildStructures=!0;break}}}}),this.nodes.forEach(g=>{if(g instanceof B&&g.isClosingTag&&g.isOpenedBy==null){let N="Unpaired closing tag.";g.isInterpolationNode&&(N+=" Tag pairs are not supported within Antlers tags."),g.pushError(M.makeSyntaxError(P.TYPE_UNPAIRED_CLOSING_TAG,g,N))}}),Jd.associateRecursiveParent(this.nodes),this.nodes.forEach(g=>{var N;if(!(g instanceof B&&g.isComment)&&((g instanceof B||g instanceof ft)&&(g.isInterpolationNode=this.isInterpolatedParser),(g instanceof B||g instanceof ft)&&g.interpolationRegions.size>0&&g.runtimeNodes.forEach(S=>{S instanceof oe&&g.interpolationRegions.has(S.name)&&(S.isInterpolationReference=!0,S.interpolationNodes=g.processedInterpolationRegions.get(S.name))}),(g instanceof B||g instanceof ft)&&g.hasParameters&&g.interpolationRegions.size>0&&g.parameters.forEach(S=>{g.interpolationRegions.forEach((V,O)=>{S.value.includes(O)&&S.interpolations.push(O)})}),g instanceof B&&g.runtimeNodes.length>0&&g.isClosingTag==!1&&!g.isComment&&(g.parsedRuntimeNodes=this.languageParser.parse(g.runtimeNodes),g.hasParsedRuntimeNodes=!0,!g.isTagNode&&g.parsedRuntimeNodes.length>0))){let S=g.nodeAtIndex(0);S!=null&&S instanceof oe&&S.name==((N=g.name)==null?void 0:N.name)&&(g.modifierChain=S.modifierChain)}}),this.languageParser.getCreatedModifierChains().forEach(g=>{g.modifierChain.length>0&&g.modifierChain.forEach(N=>{var S,V;N.nameNode!=null&&Me.instance!=null&&Me.instance.hasModifier((S=N.nameNode)==null?void 0:S.name)&&(N.modifier=(V=Me.instance)==null?void 0:V.getModifier(N.nameNode.name))})});let l=1;return this.nodes.forEach(g=>{var N,S;if(g instanceof B){if(g.isComment)return;g.isTagNode=(S=(N=Ie.instance)==null?void 0:N.isKnownTag(g.runtimeName()))!=null?S:!1,g.scopeName=g.findParameterValue("scope",""),g.antlersNodeIndex=l,l+=1,em.analyzeModifierNodeParameters(g),tm.validateParameters(g)}}),this.nodes.forEach(g=>{var N,S,V,O,$,X,ee,Y;if(g instanceof B&&g.isClosedBy!=null){let ne=((S=(N=g.endPosition)==null?void 0:N.offset)!=null?S:0)+1,Le=(O=(V=g.isClosedBy.startPosition)==null?void 0:V.offset)!=null?O:0,de=(X=($=g.startPosition)==null?void 0:$.offset)!=null?X:0,Z=((Y=(ee=g.isClosedBy.endPosition)==null?void 0:ee.offset)!=null?Y:0)+1;g.documentText=this.content.substr(ne,Le-ne),g.nodeContent=this.content.substr(de,Z-de),this.parseChildDocuments&&(g.childDocument=mt.childFromText(g.documentText,bl(g.children)))}}),this.renderNodes}createChildDocuments(e){e.forEach(n=>{var r,i,s,o,a,l,u,c;if(n instanceof B&&n.isClosedBy!=null){let f=n.isClosedBy,m=((i=(r=n.startPosition)==null?void 0:r.index)!=null?i:0)-1,d=((o=(s=f.endPosition)==null?void 0:s.index)!=null?o:0)-m;if(n.documentText=this.content.substr(m,d),this.parseChildDocuments){let p=(l=(a=n.endPosition)==null?void 0:a.index)!=null?l:0,_=((c=(u=f.startPosition)==null?void 0:u.index)!=null?c:0)-1-p,C=this.content.substr(p,_);n.childDocument=mt.childFromText(C,bl(n.getChildren()))}}})}getNodeIndexRanges(){let e=[];return this.nodes.forEach(n=>{var r,i,s,o;n instanceof Qe||e.push({start:(i=(r=n.startPosition)==null?void 0:r.index)!=null?i:0,end:(o=(s=n.endPosition)==null?void 0:s.index)!=null?o:0})}),e}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let a=this.documentOffsets.get(e);i=a.line,s=a.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let a=null,l=null,u=null,c=null;for(let f of this.documentOffsets.keys()){if(f>=e){c!=null&&e>c?(a=u,l=c):(a=this.documentOffsets.get(f),l=f);break}u=this.documentOffsets.get(f),c=f}if(a==null&&(a=u,l=c),a!=null)if(r){let f=this.content.split(""),m=e-(l!=null?l:0),d=a.char-(l!=null?l:0)+e;s=m,i=a.line,e<=(l!=null?l:0)?(i=a.line,s=e+1):i=a.line+1}else{let f=this.content.split(""),m=e-(l!=null?l:0),d=a.char-(l!=null?l:0)+e;s=m,i=a.line,e<=(l!=null?l:0)?(i=a.line,s=e+1):i=a.line+1}else this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let o=new qt;return o.index=n,o.offset=e,o.line=i+this.shiftLine,o.char=s,o}getLanguageParser(){return this.languageParser}getText(e,n){return this.content.substr(e,n-e)}getOriginalContent(){return this.originalContent}getContent(){return this.content}getFragments(){return this.fragmentsParser.getFragments()}getFragmentsParser(){return this.fragmentsParser}getFragmentsContainingStructures(){return this.fragmentsParser.getFragmentsContainingStructures()}setIsInterpolatedParser(e){return this.isInterpolatedParser=e,this}setStartLineSeed(e){return this.seedStartLine=e,this}setSeedStartChar(e){return this.seedStartchar=e,this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.currentContent=[],this.sourceContent=[],this.cur=null,this.next=null,this.prev=null}setSeedPosition(e){return e==null?this.shiftLine=0:this.shiftLine=e.line,this}resetState(){if(this.languageParser.reset(),this.charLen=0,this.antlersStartIndex=[],this.antlersErrors=[],this.pushedErrors.clear(),this.antlersStartPositionIndex.clear(),this.lastAntlersEndIndex=-1,this.renderNodes=[],this.nodes=[],ms.globalTagEnterStack.length>0){let e=ms.globalTagEnterStack[ms.length-1];e!=null&&e.endPosition!=null&&this.setStartLineSeed(e.endPosition.line)}this.seedOffset=0,this.isScanningInterpolations=!1,this.content="",this.chars=[],this.currentIndex=0,this.startIndex=0,this._recoveryStartIndex=0,this.cur=null,this.next=null,this.prev=null,this.inputLen=0,this.documentOffsets.clear(),this.isDoubleBrace=!1,this.interpolationRegions.clear(),this.interpolationEndOffsets.clear()}fetch(e){let n=this.currentChunkOffset+this.chunkSize-this.chars.length;return G.substring(this.content,n,e)}getParsedContent(){return this.content}peek(e){if(e==this.charLen){let n=G.split(G.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,n.forEach(r=>{this.chars.push(r),this.charLen+=1})}return this.chars[e]}parseIntermediateText(){for(this.currentContent=[],this.sourceContent=[],this.startIndex=0,this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length,this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==xe.LeftBrace&&this.next==xe.LeftBrace&&this.prev==xe.AtChar){this.dumpLiteralNode(this.currentIndex);let e=new rn;e.withParser(this),e.name=new Ln,e.name.name="noparse",e.content="{{",e.startPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),e.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),this.nodes.push(e),this.currentContent=[],this.sourceContent=[],this.currentIndex+=1;continue}if((this.prev==null||this.prev!=null&&this.prev!=xe.AtChar)&&this.next!=null&&this.cur==xe.LeftBrace&&this.next==xe.LeftBrace){this.dumpLiteralNode(this.currentIndex);let e=null;if(this.currentIndex+2<this.inputLen&&(e=this.peek(this.currentIndex+2)),e==xe.Punctuation_Question&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(xe.Punctuation_Question),this.isDoubleBrace=!1;break}if(e==xe.Punctuation_Dollar&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(xe.Punctuation_Dollar),this.isDoubleBrace=!1;break}if(e==xe.Punctuation_Octothorp&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersCommentRegion(),this.isDoubleBrace=!1;break}if(!this.isNoParse)this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1;else if(this.fetch(11).replace(" ","").toLocaleLowerCase().startsWith("{{/noparse")){this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1,this.isNoParse=!1;break}else{this.currentContent.push(this.cur);continue}break}if(this.cur==xe.AtChar&&this.next!=null&&this.next==xe.LeftBrace){if(this.currentIndex+2>=this.inputLen){this.appendContent(this.next),this.dumpLiteralNode(this.currentIndex+1);break}let e=0;for(let n=this.currentIndex+1;n<this.inputLen&&this.chars[n]==xe.LeftBrace;n+=1)e+=1;this.currentContent=this.currentContent.concat(xe.LeftBrace.repeat(e).split("")),this.sourceContent=this.currentContent.concat(xe.LeftBrace.repeat(e).split("")),this.currentIndex+=e}this.appendContent(this.cur),this.next==null&&this.currentContent.length>0&&this.dumpLiteralNode(this.currentIndex)}}getRenderNodes(){return this.renderNodes}processInputText(e){var f;if(this.originalContent=e,this.content=G.normalizeLineEndings(e),this.inputLen=this.content.length,this.content.startsWith("---")){let m=this.content.split(`
`),d=[],p=[];p.push("");for(let _=1;_<m.length;_++){let C=m[_];if(C.startsWith("---")){p.push(""),p=p.concat(m.slice(_+1)),this.content=p.join(`
`),this.frontMatter=d.join(`
`),this.frontMatterEndLine=_+1;break}else d.push(C),p.push("")}}let n=[...this.content.matchAll(/(\n)/gm)],r=n.length,i=this.seedStartLine,s=null,o=0,a=0;for(let m=0;m<r;m++){let d=n[m],p=(f=d.index)!=null?f:0,_=p;s!=null?_=p-s:_=_+1,this.documentOffsets.set(p,{char:_,line:i});let C=0,h=0;m==0?(h=_-1,C=0):(C=a+1,h=p),this.lineIndex.set(i,{char:_,line:i,startIndex:C,endIndex:h}),this.lastDocumentOffsetKey=p,this.maxLine=i,i+=1,s=p,a=h,o=C}this.maxLine+=1;let l=[...this.content.matchAll(/@?{{/gm)],u=0,c=!1;return l.forEach(m=>{let d=m[0];if(d.startsWith(xe.AtChar)){u=this.content.indexOf(d,u)+2,c=!0;return}let p=this.content.indexOf(d,u);if(c&&u==p){u=p;return}this.antlersStartIndex.push(p),this.antlersStartPositionIndex.set(p,1),u=p+2,c=!1}),!0}prepareLiteralContent(e){return e.replace("@{{","{{")}scanToEndOfPhpRegion(e){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==e&&this.next!=null&&this.next==xe.RightBrace&&this.peek(this.currentIndex+2)==xe.RightBrace){let r=this.makeAntlersPhpNode(this.currentIndex,e==xe.Punctuation_Dollar);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.startIndex=this.currentIndex,this._recoveryStartIndex=this.startIndex,this.nodes.push(r),this.lastAntlersNode=r;break}if(this.appendContent(this.cur),this.next==null){let n=this.makeAntlersPhpFailedNode(this.currentIndex);this.nodes.push(n),this.lastAntlersNode=n,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(M.makeSyntaxError(P.TYPE_INCOMPLETE_PHP_EVALUATION_REGION,n,"Unexpected end of input while parsing Antlers PHP region."));break}}}appendContent(e){e!=null&&(this.currentContent.push(e),this.sourceContent.push(e))}scanToEndOfAntlersCommentRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==xe.Punctuation_Octothorp&&this.next!=null&&this.next==xe.RightBrace&&this.peek(this.currentIndex+2)==xe.RightBrace){let n=this.makeAntlersTagNode(this.currentIndex,!0);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.nodes.push(n),this.lastAntlersNode=n;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersCommentFailedNode(this.currentIndex);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(M.makeSyntaxError(P.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION,e,"Unexpected end of input while parsing Antlers comment region."));break}}}scanToEndOfInterpolatedRegion(){this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0);let e=[];this.isScanningInterpolations=!0;let n=0;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.checkCurrentOffsets(),this.cur==xe.LeftBrace){if(this.prev==xe.AtChar){e.push(this.cur);continue}n+=1,e.push(this.cur)}else if(this.cur==xe.RightBrace){if(this.prev==xe.AtChar){e.push(this.cur);continue}if(n-=1,e.push(this.cur),n==0){this.interpolationEndOffsets.set(this.currentIndex,1);break}}else this.cur!=null&&e.push(this.cur);let r=e.join(""),s=("int_"+JN.Md5.hashStr(r)).substr(0,r.length),o=s.length,a=r.length;if(o<a){let l=a-o;s+="x".repeat(l)}return this.isScanningInterpolations=!1,{content:r,varContent:s}}bordersInterpolationRegion(e){if(this.interpolationEndOffsets.size==0)return!1;let n=e.offset-1;return n<=0?!1:this.interpolationEndOffsets.has(n)}getParseableContent(e){let n="";for(let r=0;r<=e;r++)this.content[r]==xe.LeftBrace||this.content[r]==xe.RightBrace?n+="~":n+=this.content[r];return n}scanToEndOfAntlersRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==xe.LeftBrace&&this.prev==xe.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.isInterpolatedParser&&this.cur==xe.RightBrace&&this.prev==xe.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.cur==xe.LeftBrace){let e=this.scanToEndOfInterpolatedRegion(),n=this.currentIndex+this.seedOffset,r=n-e.content.length,i=this.getParseableContent(r-1);ms.interpolatedVariables.push(e.varContent),this.currentContent=this.currentContent.concat(e.varContent.split("")),this.sourceContent=this.sourceContent.concat(e.content.split(""));let s=i+"{"+e.content+"}";this.interpolationRegions.set(e.varContent,{content:e.content,parseContent:s,varContent:e.varContent,startOffset:r,endOffset:n});continue}if(this.cur==xe.RightBrace&&this.next!=null&&this.next==xe.RightBrace){let e=this.makeAntlersTagNode(this.currentIndex,!1);e.name!=null&&e.name.name=="noparse"&&(this.isNoParse=!0),this.currentIndex+=2,this.nodes.push(e),this.lastAntlersNode=e;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersFailedNode(this.currentIndex,!1);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0;let n="Unexpected end of input while parsing Antlers region.";this.isScanningInterpolations&&(n="Unexpected end of input wihle parsing interpolated Antlers region."),this.antlersErrors.push(M.makeSyntaxError(P.TYPE_INCOMPLETE_ANTLERS_REGION,e,n));break}}}makeAntlersPhpNode(e,n){let r=new Fs;return n?(r.rawStart="{{$",r.rawEnd="$}}"):(r.rawStart="{{?",r.rawEnd="?}}"),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+3>this.inputLen?(r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r):(this.lastAntlersEndIndex=e+3+this.seedOffset,r.endPosition=this.positionFromOffset(e+this.seedOffset,e+3+this.seedOffset),r)}makeAntlersPhpFailedNode(e){let n=new td;n.rawStart="{{$",n.rawEnd="$}}",n._isEndVirtual=!0,n.content=this.currentContent.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let r=this.getLineText(n.startPosition.line),i=this.getLineIndex(n.startPosition.line);if(r!=null){let o=r.substr(this._recoveryStartIndex);n.content=o,n.sourceContent=o}let s=e+this.seedOffset;return i!=null&&(this.currentIndex=i.end,s=i.end),n.endPosition=this.positionFromOffset(s,s),n}makeAntlersCommentFailedNode(e){let n=new ol;this.isDoubleBrace?(n.rawStart="{{",n.rawEnd="}}"):(n.rawStart="{",n.rawEnd="}"),n._isEndVirtual=!0;let r=!1,i=this.currentContent.length;i>0&&this.currentContent[i-1]==xe.Punctuation_ForwardSlash&&(this.currentContent.pop(),r=!0),n.isComment=!0,n.isSelfClosing=r,n.withParser(this),n.content=this.currentContent.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let s=this.getLineText(n.startPosition.line),o=this.getLineIndex(n.startPosition.line);if(s!=null){let l=s.substr(this._recoveryStartIndex);n.content=l,n.sourceContent=l}let a=e+this.seedOffset;return o!=null&&(this.currentIndex=o.end,a=o.end),n.endPosition=this.positionFromOffset(a,a),n.interpolationRegions=new Map,this.interpolationRegions.forEach((l,u)=>{n.content.includes(u)&&n.interpolationRegions.set(u,l)}),n}makeAntlersFailedNode(e,n){let r=new ft;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}"),r._isEndVirtual=!0;let i=!1,s=this.currentContent.length;s>0&&this.currentContent[s-1]==xe.Punctuation_ForwardSlash&&(this.currentContent.pop(),i=!0),r.isComment=n,r.isSelfClosing=i,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let o=this.getLineText(r.startPosition.line),a=this.getLineIndex(r.startPosition.line);if(o!=null){let c=G.trimLeft(this.content.substring(r.startPosition.offset+r.rawStart.length-1,a==null?void 0:a.end),"{");r.content=c,r.sourceContent=c}let l=e+this.seedOffset;a!=null&&(this.currentIndex=a.end,l=a.end),r.endPosition=this.positionFromOffset(l,l),r.interpolationRegions=new Map,this.interpolationRegions.forEach((c,f)=>{r.content.includes(f)&&r.interpolationRegions.set(f,c)});let u=this.nodeParser.parseNode(r);return this.mergeErrors(u.getErrors()),u}makeAntlersTagNode(e,n){let r=new B;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}");let i=!1,s=this.currentContent.length;if(s>0&&this.currentContent[s-1]==xe.Punctuation_ForwardSlash&&(this.currentContent.pop(),i=!0),r.isInterpolationNode=this.isInterpolatedParser,r.isComment=n,r.isSelfClosing=i,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+2>this.inputLen)return r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(M.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r;if(n?this.lastAntlersEndIndex=e+2+this.seedOffset:this.lastAntlersEndIndex=e+1+this.seedOffset,r.endPosition=this.positionFromOffset(this.lastAntlersEndIndex,this.lastAntlersEndIndex),r.interpolationRegions=new Map,this.interpolationRegions.forEach((a,l)=>{r.content.includes(l)&&r.interpolationRegions.set(l,a)}),r.isComment)return r;let o=this.nodeParser.parseNode(r);return this.mergeErrors(o.getErrors()),o}mergeErrors(e){e.forEach(n=>{this.antlersErrors.push(n)})}getNodes(){return this.nodes}getNodesBetween(e,n){let r=[];return this.nodes.forEach(i=>{var s,o,a,l;((o=(s=i.startPosition)==null?void 0:s.offset)!=null?o:0)>e.offset&&((l=(a=i.endPosition)==null?void 0:a.offset)!=null?l:0)<n.offset&&r.push(i)}),r}antlersNodes(){return this.nodes.filter(function(e){return e instanceof B})}dumpLiteralNode(e){this.isNoParse||(this.currentContent.length>0&&this.nodes.push(this.makeLiteralNode(this.currentContent,this.startIndex,e)),this.currentContent=[],this.sourceContent=[])}makeLiteralNode(e,n,r){let i=new Qe;return i.content=e.join(""),i.sourceContent=this.sourceContent.join(""),i.startPosition=this.positionFromOffset(n,n),i.endPosition=this.positionFromOffset(r,r),i.sourceContent=this.content.substr(n,r),i.withParser(this),i}addAntlersError(e){this.antlersErrors.push(e)}getAntlersErrors(){return this.antlersErrors}},E=xe;E.K_CHAR="char",E.K_LINE="line",E.NewLine=`
`,E.AtChar="@",E.LeftBrace="{",E.RightBrace="}",E.LeftBracket="[",E.RightBracket="]",E.String_EscapeCharacter="\\",E.String_Terminator_DoubleQuote='"',E.String_Terminator_SingleQuote="'",E.Punctuation_Question="?",E.Punctuation_Equals="=",E.Punctuation_Comma=",",E.Punctuation_Colon=":",E.Punctuation_Semicolon=";",E.Punctuation_Exclamation="!",E.Punctuation_Pipe="|",E.Punctuation_Ampersand="&",E.Punctuation_LessThan="<",E.Punctuation_GreaterThan=">",E.Punctuation_Octothorp="#",E.Punctuation_Tilde="~",E.Punctuation_FullStop=".",E.Punctuation_Dollar="$",E.Punctuation_Asterisk="*",E.Punctuation_Percent="%",E.Punctuation_Plus="+",E.Punctuation_Minus="-",E.Punctuation_Underscore="_",E.Punctuation_ForwardSlash="/",E.Punctuation_Caret="^",E.LeftParen="(",E.RightParent=")";var gt=class{static findAssignmentNodes(e){let n=[];for(let r=0;r<e.length;r++)Rt.isAssignmentOperatorNode(e[r])&&n.push(e[r]);return n}static findAbstractNodesBefore(e,n){return this.findAbstractNodesBeforePosition(e.startPosition,n)}static findAbstractNodesBeforePosition(e,n){if(e==null)return[];let r=[];for(let i=0;i<n.length;i++){let s=n[i];if(s.startPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static isBefore(e,n){return e.startPosition==null?!1:e.startPosition.index<n.index}static isAfter(e,n){return e.startPosition==null?!1:e.startPosition.index>n.index}static findNodesBeforePosition(e,n){let r=[];if(e==null)return r;for(let i=0;i<n.length;i++){let s=n[i];if(!gt.isLiteralType(s)&&s.startPosition!=null&&s.endPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static findNodesAfterPosition(e,n){let r=[];if(e==null)return r;for(let i=0;i<n.length;i++){let s=n[i];gt.isLiteralType(s)||s.startPosition!=null&&s.startPosition.index>e.index&&r.push(s)}return r}static findNodeBeforePosition(e,n){if(e==null)return null;let r=null;for(let i=0;i<n.length;i++){let s=n[i];if(!gt.isLiteralType(s)&&s.startPosition!=null){if(s.startPosition.index>e.index)break;r=s}}return r}static findNodeAfterPosition(e,n){if(e==null)return null;for(let r=0;r<n.length;r++){let i=n[r];if(!gt.isLiteralType(i)&&i.startPosition!=null&&i.startPosition.index>e.index)return i}return null}static findNodeAtPosition(e,n){if(e==null)return null;for(let r=0;r<n.length;r++){let i=n[r];if(!gt.isLiteralType(i)&&i.startPosition!=null&&i.endPosition!=null&&e.index>=i.startPosition.index&&e.index<=i.endPosition.index)return i}return null}static isLiteralType(e){return e instanceof rn||e instanceof Qe}};var Tl=class{static isModifierLeftOf(e,n){return Tl.isModifierLeftOfPosition(e.startPosition,n)}static isModifierLeftOfPosition(e,n){let r=gt.findAbstractNodesBeforePosition(e,n);for(let i=r.length-1;i>=0;i--){let s=r[i];if(s instanceof zt||s instanceof Bt)return!1;if(s instanceof vn)return!0}return!1}};var Nl=class{constructor(){this.isRightOfOperator=!1;this.isLeftOfOperator=!1}static resolveContext(e,n,r){let i=new Nl;return r!=null&&(r.prev!=null&&Rt.isOperatorType(r.prev)&&(i.isRightOfOperator=!0),r.next!=null&&Rt.isOperatorType(r.next)&&(i.isLeftOfOperator=!0)),i}};var am=class{constructor(){this.inTagPart=!1;this.inMethodPart=!1}};var vl=class{constructor(){this.modifierChain=null;this.activeModifier=null;this.name="";this.inModifierName=!1;this.inModifierParameter=!1;this.valueCount=0;this.activeValueIndex=-1;this.activeValue=null}static resolveContext(e,n,r,i){let s=n.getParser(),o=new vl,a=s.getLanguageParser().getCreatedModifierChains(),l=null;for(let u=0;u<a.length;u++){let c=a[u];if(e.isWithin(c.startPosition,c.endPosition)){for(let f=0;f<c.modifierChain.length;f++){let m=c.modifierChain[f];if(e.isWithin(m.startPosition,m.endPosition)){l=m;break}}if(l!=null)break}}if(l==null&&r instanceof jt&&i.getDocumentParser().getLanguageParser().hasModifierConstruct(r)&&(l=i.getDocumentParser().getLanguageParser().getModifierConstruct(r)),l!=null)if(o.activeModifier=l,o.valueCount=l.valueNodes.length,l.nameNode!=null&&(o.name=l.nameNode.name),l.nameNode!=null&&e.isWithin(l.nameNode.startPosition,l.nameNode.endPosition,1))o.inModifierName=!0;else for(let u=0;u<l.valueNodes.length;u++){let c=l.valueNodes[u];if(e.isWithin(c.startPosition,c.endPosition,1)){o.activeValueIndex=u,o.inModifierParameter=!0,o.activeValue=c;break}}return o}};var Pl=class{constructor(){this.parameter=null;this.isInName=!1;this.isInValue=!1}static resolveContext(e,n){let r=new Pl;return r.parameter=n,e.isWithinRange(n.namePosition)?r.isInName=!0:e.isWithinRange(n.valuePosition)&&(r.isInValue=!0),r}};var lm=class{constructor(){this.refId="";this.node=null;this.leftPunctuation=null;this.rightPunctuation=null;this.leftChar=null;this.rightChar=null;this.word=null;this.char=null;this.interpolatedContext=!1;this.leftWord=null;this.rightWord=null;this.isCursorInIdentifier=!1;this.root=null;this.identifierContext=null;this.position=null;this.feature=null;this.isInParameter=!1;this.subContext=null;this.parameterContext=null;this.modifierContext=null;this.generalContext=null;this.variableContext=null;this.cursorContext=um.Unknown;this.refId=ko()}},um=(o=>(o[o.Unknown=0]="Unknown",o[o.Variable=1]="Variable",o[o.Modifier=2]="Modifier",o[o.Parameter=3]="Parameter",o[o.General=4]="General",o[o.LanguageOperator=5]="LanguageOperator",o))(um||{});var Il=class{constructor(){this.variableNode=null;this.varPathText=""}static resolveContext(e,n,r,i){var f;if(r==null)return null;let s=r,o=i.getDocumentParser().getLanguageParser(),a=new Il,l=(f=i.wordAt(e))!=null?f:"";r instanceof It&&o.isMergedVariableComponent(r)==!1&&r.prev instanceof oe&&(s=r.prev);let u="";if(o.isMergedVariableComponent(s)){let m=o.getMergedVariable(s);m.startPosition!=null&&(u=i.getText(m.startPosition.index,e.index).trim()),a.variableNode=m}else s instanceof oe&&(a.variableNode=s,u=s.name,s.variableReference!=null&&(u=s.variableReference.normalizedReference));u.length>0&&(u=Pt(u,"\\.",":"));let c=u.split(":");return l.trim().length>0&&c.pop(),u=c.join(":"),u.endsWith(":")&&(u=Er(u,":")),a.varPathText=u,a}};var Fi=class{static resolveIdentifierContext(e,n){let r=new am;return n.nameMethodPartStartsOn!=null?e.char<n.nameMethodPartStartsOn.char?(r.inTagPart=!0,r.inMethodPart=!1):(r.inTagPart=!1,r.inMethodPart=!0):(r.inMethodPart=!1,r.inTagPart=!0),r}static resolveContext(e,n,r,i=!1,s=null){var o,a,l,u,c,f;if(n==null||e==null)return null;if(n instanceof Gn||n instanceof B){let m=new lm;if(n.nameStartsOn!=null&&e.line==n.nameStartsOn.line){let _=!1;e.char>=n.nameStartsOn.char&&(_=!0),n.nameEndsOn!=null&&e.char>n.nameEndsOn.char&&(_=!1),_&&(m.isCursorInIdentifier=!0,m.identifierContext=Fi.resolveIdentifierContext(e,n))}n.addContext(m),s!=null&&s.addContext(m),m.interpolatedContext=i,m.node=n,m.position=e,m.root=s,m.leftPunctuation=r.punctuationLeftAt(e),m.rightPunctuation=r.punctuationRightAt(e),m.leftChar=r.charLeftAt(e),m.rightChar=r.charRightAt(e),m.word=r.wordAt(e),m.char=r.charAt(e),m.leftWord=r.wordLeftAt(e),m.rightWord=r.wordRightAt(e);let d=!1;if(n.parameters.length>0)for(let _=0;_<n.parameters.length;_++){let C=n.parameters[_];if(C.blockPosition!=null&&C.blockPosition.start!=null&&C.blockPosition.end!=null&&e.char>C.blockPosition.start.char&&e.char<=C.blockPosition.end.char+1&&e.line>=((l=(a=(o=C.namePosition)==null?void 0:o.start)==null?void 0:a.line)!=null?l:C.blockPosition.start.line)&&e.line<=((f=(c=(u=C.valuePosition)==null?void 0:u.end)==null?void 0:c.line)!=null?f:C.blockPosition.end.line)){m.cursorContext=3,m.parameterContext=Pl.resolveContext(e,C),m.isInParameter=!0,m.feature=C,d=!0;break}}if(d||n.runtimeNodes.forEach(_=>{_.startPosition!=null&&_.endPosition!=null&&e.isWithin(_.startPosition,_.endPosition,1)&&(m.feature=_)}),d&&n.interpolationRegions.size>0){let _=Array.from(n.interpolationRegions,([C,h])=>h);for(let C=0;C<_.length;C++){let h=_[C];if(e.index>=h.startOffset&&e.index<=h.endOffset){let b=n.getInterpolationNode(h.varContent);return Fi.resolveContext(e,b,r,!0,s)}}}return m.feature instanceof oe&&m.feature.isInterpolationReference&&m.feature.parent!=null&&m.feature.parent instanceof B&&m.feature.parent.processedInterpolationRegions.has(m.feature.name)?Fi.resolveContext(e,m.feature.parent.getInterpolationNode(m.feature.name),r,!0,s):(Tl.isModifierLeftOfPosition(e,n.runtimeNodes)?(m.cursorContext=2,m.modifierContext=vl.resolveContext(e,n,m.feature,r)):d||(m.cursorContext=4,m.generalContext=Nl.resolveContext(e,n,m.feature)),m.variableContext=Il.resolveContext(e,n,m.feature,r),m)}return null}};var Js=class{static isPairedNode(e){return e instanceof vt?!0:e instanceof Gn||e instanceof B?e.isClosedBy!=null:!1}static findAncestorsBeforePosition(e,n){var a,l,u,c,f,m;let r=[],i=[],s=-1,o=-1;for(let d=0;d<n.length;d++){let p=n[d];if(p.isClosedBy!=null&&((a=p.isClosedBy.endPosition)==null?void 0:a.isBefore(e))&&(i.push(p),i.push(p.isClosedBy),s=p.isClosedBy.endPosition.line,o=p.isClosedBy.endPosition.char),!(s>-1&&p.endPosition!=null&&(p.endPosition.line<s||p.endPosition.line==s&&o>-1&&p.endPosition.char<o))){if(p.startPosition!=null){if(e.isBefore(p.startPosition))break;if(p.startPosition.line==e.line&&e.char<=p.startPosition.char){i.push(p);continue}}if(((l=Ie.instance)==null?void 0:l.requiresClose(p))&&p.isClosedBy!=null){let _=p.isClosedBy;if((u=_.startPosition)==null?void 0:u.isBefore(e)){i.push(p),i.push(_);continue}else((c=_.startPosition)==null?void 0:c.line)==e.line&&((f=_.startPosition)==null?void 0:f.char)<e.char?i.push(p):r.push(p)}else if(p.parent!=null){let _=p.parent;if(i.includes(_)){i.push(p);continue}else((m=p.endPosition)==null?void 0:m.isBefore(e))?r.push(p):i.push(p)}else r.push(p)}}return r}};var cm=class{constructor(e){this.doc=e}getAncestorsAt(e,n){let r=this.position(e,n);return r==null?[]:Js.findAncestorsBeforePosition(r,this.doc.getAllAntlersNodes())}getNameAt(e,n){let r=this.getNodeAt(e,n);return r instanceof B?r.name:null}getScopeAt(e,n){let r=this.getNodeAt(e,n);return r instanceof B&&r.currentScope!=null?r.currentScope:null}getFeaturesAt(e,n){let r=this.position(e,n),i=this.getNodeAt(e,n);return Fi.resolveContext(r,i,this.doc,!1,i)}getNodeAt(e,n){return gt.findNodeAtPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodeBefore(e,n){return gt.findNodeBeforePosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodeAfter(e,n){return gt.findNodeAfterPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodesBefore(e,n){return gt.findNodesBeforePosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getAssignmentsBefore(e,n){let r=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),i=[],s=this.position(e,n);return s!=null&&r.forEach(o=>{gt.isBefore(o.target,s)&&i.push(o)}),i}getAssignmentsAfter(e,n){let r=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),i=[],s=this.position(e,n);return s!=null&&r.forEach(o=>{gt.isAfter(o.target,s)&&i.push(o)}),i}getNodesAfter(e,n){return gt.findNodesAfterPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e,n){let r=this.getNodeBefore(e,n);return r==null?!1:Js.isPairedNode(r)}position(e,n){return this.doc.getDocumentParser().positionFromCursor(e,n)}charLeftAt(e,n){return this.doc.getDocumentParser().charLeftAtCursor(e,n)}charAt(e,n){return this.doc.getDocumentParser().charAtCursor(e,n)}charRightAt(e,n){return this.doc.getDocumentParser().charRightAtCursor(e,n)}wordLeftAt(e,n,r=4){return this.doc.getDocumentParser().wordLeftAtCursor(e,n,r)}wordRightAt(e,n,r=4){return this.doc.getDocumentParser().wordRightAtCursor(e,n,r)}wordAt(e,n,r=4){return this.doc.getDocumentParser().wordAtCursor(e,n,r)}punctuationLeftAt(e,n,r=4){return this.doc.getDocumentParser().punctuationLeftAtCursor(e,n,r)}punctuationRightAt(e,n,r=4){return this.doc.getDocumentParser().punctuationRightAtCursor(e,n,r)}};var fm=class{constructor(e){this.doc=e}hasAny(){return this.all().length>0}all(){let e=[],n=[];return this.doc.getAllAntlersNodes().forEach(r=>{r.getErrors().forEach(i=>{e.includes(i.hash())==!1&&(e.push(i.hash()),n.push(i))})}),this.doc.getDocumentParser().getAntlersErrors().forEach(r=>{e.includes(r.hash())==!1&&(e.push(r.hash()),n.push(r))}),n}};var $v=Q(mi());var xn=Q(Yv(),1),pJ=xn.default.binaryOptions,dJ=xn.default.boolOptions,mJ=xn.default.intOptions,hJ=xn.default.nullOptions,gJ=xn.default.strOptions,_J=xn.default.Schema,yJ=xn.default.Alias,bJ=xn.default.Collection,TJ=xn.default.Merge,NJ=xn.default.Node,Kv=xn.default.Pair,Ol=xn.default.Scalar,Ll=xn.default.YAMLMap,xa=xn.default.YAMLSeq;var Cm=class{constructor(e){this.documentScope=null;this.project=e}getKeyValue(e){return e instanceof Ol?e.value:""}getNodeValue(e){return e instanceof Ol?e.value:e instanceof Ll?this.analyzeDocument(e.items):e instanceof xa?this.analyzeDocument(e.items):""}getScalarRuntimeType(e){return parseFloat(e).toString()==e||parseInt(e).toString()==e?"number":"string"}analyzeDocument(e){let n=new Qn(this.project);return e.forEach(r=>{if(r instanceof Kv){let i=this.getKeyValue(r.key),s=this.getNodeValue(r.value);if(r.value instanceof Ol)n.addVariable({dataType:this.getScalarRuntimeType(s),introducedBy:null,name:i,sourceField:null,sourceName:"*frontmatter"});else if(r.value instanceof xa&&r.key instanceof Ol){let o=new Qn(this.project);r.value.items.forEach(a=>{let l=this.getNodeValue(a);o.addVariable({dataType:this.getScalarRuntimeType(l),introducedBy:null,name:a.value,sourceField:null,sourceName:"*frontmatter"})}),n.addScopeList(r.key.value,o)}else n.addScopeList(i,s)}}),n}parse(e){let n=$v.parseDocument(e);try{n.contents instanceof Ll&&(this.documentScope=this.analyzeDocument(n.contents.items))}catch{this.documentScope=null}}hasScope(){return this.documentScope!=null}getScope(){return this.documentScope}};var Rm=class{constructor(e){this.doc=e}getAncestors(e){return Js.findAncestorsBeforePosition(e,this.doc.getAllAntlersNodes())}getNodeAt(e){return gt.findNodeAtPosition(e,this.doc.getDocumentParser().getNodes())}getNodesBefore(e){return gt.findNodesBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeBefore(e){return gt.findNodeBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeAfter(e){return gt.findNodeAfterPosition(e,this.doc.getDocumentParser().getNodes())}getNodesAfter(e){return gt.findNodesAfterPosition(e,this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e){let n=this.getNodeBefore(e);return n==null?!1:Js.isPairedNode(n)}filter(e){return this.doc.getDocumentParser().getNodes().filter(e)}getComments(){let e=[];return this.doc.getAllNodes().forEach(n=>{n instanceof B&&n.isComment&&e.push(n)}),e}getMultilineNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{var r,i;n instanceof B&&!n.isComment&&((r=n.startPosition)==null?void 0:r.line)!=((i=n.endPosition)==null?void 0:i.line)&&e.push(n)}),e}getMultiLineComments(){let e=[];return this.getComments().forEach(n=>{var r,i;((r=n.startPosition)==null?void 0:r.line)!=((i=n.endPosition)==null?void 0:i.line)&&e.push(n)}),e}getAllLiteralNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof Qe||n instanceof rn)&&e.push(n)}),e}getStructuralNodes(){let e=[];return this.doc.getDocumentParser().getRenderNodes().forEach(n=>{n instanceof B?e.push(n):n instanceof vt&&n.logicBranches.length>0&&n.logicBranches.forEach(r=>{if(r.head!=null){let i=r.head;i.originalNode!=null?e.push(i.originalNode):e.push(i)}})}),e}getAllRuntimeNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof Gn||n instanceof B)&&n.runtimeNodes.length>0&&n.runtimeNodes.forEach(r=>{e.push(r)})}),e}getAllParameterNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof Gn||n instanceof B)&&n.hasParameters&&n.parameters.forEach(r=>{e.push(r)})}),e}getAssignmentNodes(){return gt.findAssignmentNodes(this.getAllRuntimeNodes())}};var Am=class{constructor(e){this.doc=e}getAllSelfClosingNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{n instanceof B&&n.isSelfClosing&&e.push(n)}),e}getAllPairedNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof B||n instanceof ft)&&n.isClosedBy!=null&&!n.isSelfClosing&&e.push(n)}),e}};var af=class{static printComment(e,n,r){let i=e.getContent(),s=i.trim();if(s.includes(`
`)){let o=G.breakByNewLine(i.trim()),a=[];o.forEach(c=>{a.push(" ".repeat(n+r)+c.trim())});let l=a.join(`
`),u=`{{#
`;return u+=l,u+=`
`+" ".repeat(r)+"#}}",u}return"{{# "+s+" #}}"}};var Ea=class{static indentRelative(e,n){let r=G.breakByNewLine(e),i=[];for(let a=0;a<r.length;a++)if(r[a].trim().length>0){i=r.slice(a);break}for(let a=i.length-1;a>=0&&i[a].trim().length==0;a--)i.pop();let s=-1,o="";for(let a=0;a<i.length;a++){let l=i[a],u=l.trimLeft(),c=l.length-u.length;(a==0||c<s)&&(s=c,o=l)}if(s>=0){let a=" ".repeat(n);for(let l=0;l<i.length;l++){let u=i[l];if(u.trim().length==0){i[l]="";continue}let c=u.substring(s);if(l==0){i[l]=u.trimLeft();continue}else i[l]=a+c}}return i.join(`
`)}static shiftIndent(e,n,r=!1,i=4,s=!0){n<0&&(n=0);let o=G.breakByNewLine(e.trim()),a=[];for(let u=0;u<o.length;u++){if(u==0&&r){a.push(o[u]);continue}let c=o[u];a.push(" ".repeat(n)+c)}let l=a.join(`
`);if(s&&a.length>0&&n-i>i&&a[a.length-1].trim()==") }}"){o=G.breakByNewLine(l.trim()),a=[];for(let u=0;u<o.length;u++){if(u==0&&r){a.push(o[u]);continue}let c=o[u];if(u==o.length-1){a.push(c);break}a.push(" ".repeat(i)+c)}l=a.join(`
`)}return l}static shiftClean(e,n){let r=G.breakByNewLine(e),i=[],s=" ".repeat(n),o=!1;return r.forEach(a=>{a.trim().length>0&&(o=!0),!!o&&i.push(s+a)}),i.join(`
`)}static inferIndentLevel(e,n,r){let i=0,s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.includes(n)){let l=a.trimLeft();i=a.length-l.length,s=o;break}}if(s>0)for(let o=s-1;o>=0;o--){let a=e[o],l=a.trim(),u=a.trimLeft(),c=a.length-l.length;if(u.length!=0&&c!=i&&c<i){let f=i-c;return{targetLevel:i,referenceLevel:c,sourceTabSize:f}}}return{targetLevel:i,referenceLevel:i,sourceTabSize:r}}static indent(e,n,r){let i=Ea.inferIndentLevel(e,n,r);return" ".repeat(i.targetLevel)}};var xm=class{constructor(e,n,r){this.buffer="";this.closeString="";this.relativeIndentSize=0;this.indentSeed=0;this.baseIndent=n,e.isInterpolationNode?(this.buffer="{",this.closeString="}"):(this.buffer="{{ ",e.isSelfClosing?this.closeString=" /}}":this.closeString=" }}"),r!=null&&r.trim().length>0&&(this.buffer+=r+" ")}setIndentSeed(e){return this.indentSeed=e,this}close(){return this.closeString==" }}"?this.buffer.endsWith(" ")?this.buffer+="}}":this.buffer+=this.closeString:this.buffer+=this.closeString,this}appendT(e){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer+=e,this}appendTS(e){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer.endsWith("{")&&(e=e.trimStart()),this.buffer+=e,this}append(e){return this.buffer+=e,this}appendOS(e){return this.buffer.endsWith(" ")==!1&&this.buffer.endsWith("(")==!1&&this.buffer.endsWith("{")==!1&&this.buffer.endsWith("[")==!1&&this.buffer.endsWith(":")==!1&&(this.buffer+=" "),this.append(e)}appendS(e){let n="";return this.buffer.endsWith(" ")==!1&&(n+=" "),n+=e+" ",this.buffer+=n,this}indent(){let e=this.baseIndent;return e==0?e=1:e+=2,this.relativeIndentSize>0&&(e+=this.relativeIndentSize),this.buffer+=" ".repeat(e),this}addIndent(e){return e<=0?this:(this.buffer+=" ".repeat(e),this)}paramS(e){let n=" ";return e.isVariableReference&&(n+=":"),n+=e.name+"="+e.nameDelimiter+e.value+e.nameDelimiter,this.append(n),this}replace(e,n){return this.buffer=Pt(this.buffer,e,n),this}relativeIndent(e){let n=this.buffer.split(`
`);if(n.length==0)return this;let r=n[n.length-1].trimEnd();return r.endsWith("(")&&(r=r.slice(0,-1)),r.endsWith(e)==!1?this:(this.relativeIndentSize=r.lastIndexOf(e),this)}newlineIndent(){return this.newLine(),this.indent(),this}newlineNDIndent(){return this.buffer=this.buffer.trimEnd(),this.newLine(),this.indent(),this}newLine(){return this.buffer+=`
`,this}getContent(){return this.buffer}endsWith(e){return this.buffer.endsWith(e)}};var Dl=class{static prettyPrintNode(e,n,r,i,s,o){var c,f,m,d,p,_,C;let a=e.getTrueRuntimeNodes(),l=0,u=0;if(a.length>0){let h=new xm(e,r,s);o!=null&&h.setIndentSeed(o);let b=null;for(let N=0;N<a.length;N++){let S=a[N];if(b!=null&&((c=S.endPosition)==null?void 0:c.isBefore(b.startPosition)))continue;let V=!1;if(S instanceof Bt?!(S.next instanceof Bt)&&S.next!=null&&(!Rt.isOperatorType(S.next)||!Rt.isAssignmentOperator(S.next))&&!(S.next instanceof sn)&&!(S.next instanceof It)&&!S.isSwitchGroupMember&&!Rt.isOperatorType(S.next)&&(V=!0,S.next instanceof oe&&S.next.name=="as"&&(V=!1)):!((f=S.prev)==null?void 0:f.isVirtual)&&((m=S.prev)==null?void 0:m.isVirtualGroupOperatorResolve)&&S.prev.producesVirtualStatementTerminator&&S.next!=null&&(S.prev instanceof oe||h.newlineIndent()),S instanceof oe){if(S.convertedToOperator){if(S.name=="arr")h.appendT(" arr");else if(S.name=="switch"||S.name=="list")if(h.appendTS(" "+S.name),N+1<a.length){if(!(a[N+1]instanceof zt))break;h.append("("),S.name!="list"&&h.relativeIndent(S.name).newLine().indent(),N+=1,b=a[N+1];continue}else break;else u+=1,u>1?h.newlineNDIndent().indent().addIndent(6).appendS(S.name):h.appendS(S.name);b=S;continue}S.mergeRefName!=null&&S.mergeRefName.trim().length>0&&S.mergeRefName!=S.name?h.append(S.mergeRefName.trim()):S.name=="as"?h.appendOS("as"):h.append(S.name.trim())}else if(S instanceof Yr)if(h.appendTS(" list"),N+1<a.length){if(!(a[N+1]instanceof zt))break;h.append("("),N+=1,b=a[N+1];continue}else break;else if(S instanceof vn)h.appendS("|");else if(S instanceof It){if(b!=null&&((d=S.startPosition)==null?void 0:d.isBefore(b.endPosition))||S.next instanceof oe&&S.next.mergeRefName.startsWith(":"))continue;if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(S)){h.endsWith(":")||h.append(":");continue}if(S.prev!=null&&S.next!=null&&nt.distance(S.prev,S)<=1&&nt.distance(S.next,S)<=1){h.append(":"),b=S;continue}if(n.getDocumentParser().getLanguageParser().isActualModifierSeparator(S)){h.append(":"),b=S;continue}if(b instanceof jt||b instanceof Ut){h.append(":"),b=S;continue}h.appendS(":")}else if(S instanceof jt)h.append(S.name);else if(S instanceof Wr)h.appendS("?");else if(S instanceof Pn){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(S))continue;if(S.isTenaryBranchSeparator){h.appendS(":"),b=S;continue}if(n.getDocumentParser().getLanguageParser().isActualModifierSeparator(S)){h.append(":"),b=S;continue}h.append(":")}else if(S instanceof Ut)h.append(S.value.trim());else if(S instanceof zt)h.append("(");else if(S instanceof Bt)h.append(")");else if(S instanceof bt){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(S))continue;S.sourceContent!=""?h.appendOS(S.sourceContent):h.appendOS(S.sourceTerminator+S.value+S.sourceTerminator)}else if(S instanceof Ct)S.isSwitchGroupMember?h.append(",").newlineIndent():h.append(", ");else if(S instanceof Lt){if(b=S,n.getDocumentParser().getLanguageParser().isMergedVariableComponent(S))continue;let O=(_=(p=S.value)==null?void 0:p.toString())!=null?_:"";S.rawLexContent!=null&&S.rawLexContent.trim().length>0&&(O=S.rawLexContent.trim()),h.append(O)}else if(S instanceof Kn)h.appendS("=");else if(S instanceof In)h.appendS("=>");else if(S instanceof Wn)h.appendS("+");else if(S instanceof Tn){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(S)){h.append("-");continue}if(S.prev!=null&&S.next!=null&&nt.distance(S.prev,S)<=1&&nt.distance(S.next,S)<=1){S.next instanceof Lt&&S.prev instanceof Lt?h.appendS("-"):h.append("-"),b=S;continue}h.appendS("-")}else if(S instanceof Yn)h.appendS("*");else if(S instanceof Hn){if(b=S,(C=S.startPosition)==null?void 0:C.isBefore(e.nameEndsOn)){h.append("/");continue}if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(S))continue;h.appendS("/");continue}else S instanceof sn?S.isListGroupMember?(h.append(";").newlineIndent().indent().addIndent(7),N+1<a.length&&!(a[N+1]instanceof Bt)&&h.indent()):(l+=1,l<i.maxAntlersStatementsPerLine?h.appendT("; "):(h.appendT(";").newlineIndent(),l=0)):S instanceof on?S.content=="not"?h.appendS("not"):h.append("!"):h.appendS(S.rawContent());V&&h.newlineIndent(),b=S}e.hasParameters&&e.parameters.forEach(N=>{h.paramS(N)}),h.close();let g=h.getContent();return e.processedInterpolationRegions.size>0&&e.processedInterpolationRegions.forEach((N,S)=>{let V=Dl.prettyPrintNode(N[0],n,r,i,null,null);g=Pt(g,S,V)}),g}return e.getTrueRawContent()}};var kl=class{constructor(e){this.htmlFormatter=null;this.yamlFormatter=null;this.phpFormatter=null;this.slugs=[];this.removeLines=[];this.virtualStructureOpens=[];this.virtualStructureClose=[];this.structureLines=[];this.parentTransformer=null;this.tagPairs=new Map;this.conditions=[];this.inlineIfs=new Map;this.createExraStructuralPairs=!1;this.spanNodes=new Map;this.inlineNodes=new Map;this.virtualBlocks=[];this.inlineComments=new Map;this.blockComments=[];this.extractedEmbeddedDocuments=new Map;this.dynamicElementAntlers=new Map;this.dynamicElementAntlersNodes=new Map;this.dynamicElementPairedAntlers=new Map;this.dynamicElementPairedAntlersNodes=new Map;this.dynamicElementConditionAntlers=new Map;this.dynamicElementConditionAntlersNodes=new Map;this.noParses=new Map;this.forceBreaks=[];this.forceCleanLines=["{{ /if","{{ /unless","{{ /noparse","{{ else","{{ unless"];this.doc=e,this.options={tabSize:4,newlinesAfterFrontMatter:1,maxAntlersStatementsPerLine:3,endNewline:!0}}withHtmlFormatter(e){return this.htmlFormatter=e,this}withYamlFormatter(e){return this.yamlFormatter=e,this}withPhpFormatter(e){return this.phpFormatter=e,this}withOptions(e){return this.options=e,this.options.tabSize<=0&&(this.options.tabSize=4),this.options.newlinesAfterFrontMatter<0&&(this.options.newlinesAfterFrontMatter=1),this}setParentTransformer(e){return this.parentTransformer=e,this}close(e){return"</"+e+">"}open(e){return"<"+e+">"}selfClosing(e){return"<"+e+" />"}pair(e,n=""){return"<"+e+">"+n+"</"+e+">"}makeSlug(e){e<=2&&(e=7);let n="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=r.length;for(let o=0;o<e-1;o++)n+=r.charAt(Math.floor(Math.random()*i));let s="A"+n+"A";return this.slugs.includes(s)?this.makeSlug(e+1):(this.slugs.push(s),s)}transformInlineConditions(e){let n=e;return this.inlineIfs.forEach((r,i)=>{n=n.replace(i,r.nodeContent)}),n}registerCondition(e){this.parentTransformer!=null?this.parentTransformer.registerCondition(e):this.conditions.push(e)}registerInlineCondition(e,n){this.parentTransformer!=null?this.parentTransformer.registerInlineCondition(e,n):this.inlineIfs.set(e,n)}registerVirtualBlock(e){this.parentTransformer!=null?this.parentTransformer.registerVirtualBlock(e):this.virtualBlocks.push(e)}registerNoParse(e,n){this.parentTransformer!=null?this.parentTransformer.registerNoParse(e,n):this.noParses.set(e,n)}prepareNoParse(e){let n=this.makeSlug(35);return this.registerNoParse(n,e),n}registerForcedBreak(){if(this.parentTransformer!=null)return this.parentTransformer.registerForcedBreak();{let e=this.makeSlug(15),n=this.makeSlug(10);return this.forceBreaks.push(e),this.forceBreaks.push(n),this.removeLines.push(this.open(e)),this.removeLines.push(this.close(e)),this.removeLines.push(this.selfClosing(n)),this.pair(e,this.selfClosing(n))}}transformVirtualStructures(e){let n=e;return this.virtualBlocks.forEach(r=>{var s;this.removeLines.push(r.pairClose);let i=this.indentLevel(r.pairOpen);if(r.virtualElement.length>0&&(this.removeLines.push(this.open(r.virtualElement)),this.removeLines.push(this.close(r.virtualElement))),r.node instanceof rn){let o="{{ noparse }}"+r.node.getInnerDocumentText();n=n.replace(r.pairOpen,o)}if(r.node instanceof B){let o=r.node;n=n.replace(r.pairClose,(s=o.isClosedBy)==null?void 0:s.getOriginalContent())}else this.removeLines.push(r.pairClose)}),this.noParses.forEach((r,i)=>{n=n.replace(i,`{{ noparse }}${r.getInnerDocumentText()}{{ /noparse }}`)}),n}printNode(e,n=null){let r=e.getTrueNode(),i=this.doc;e.childDocument!=null&&(i=e.childDocument.document);let s=null;if($t.isConditionalStructure(e)&&(s=r.runtimeName(),e.isClosingTag&&(s=="if"||s=="unless")))return`{{ /${s} }}`;if(e.isClosingTag)return r.runtimeName()=="endunless"?"{{ /unless }}":`{{ ${r.content.trim()} }}`;let o=Dl.prettyPrintNode(r,i,0,this.options,s,null);return n!=null&&o.includes(`
`)&&(o=Ea.shiftIndent(o,n-this.options.tabSize*2,!0)),o}transformConditions(e){let n=e;return this.conditions.forEach(r=>{r.structures.forEach(i=>{let s=i.branch.head;i.virtualBreakOpen.length>0&&this.removeLines.push(i.virtualBreakOpen),i.virtualBreakClose.length>0&&(n=n.replace(i.virtualBreakClose,i.virtualBreakClose+`
`),this.removeLines.push(i.virtualBreakClose)),this.virtualStructureOpens.push(i.virtualOpen),this.removeLines.push(i.virtualOpen),this.removeLines.push(i.virtualClose),i.isLast?(n=n.replace(i.pairOpen,this.printNode(s,this.indentLevel(i.pairOpen))),n=n.replace(i.pairClose,this.printNode(s.isClosedBy))):(this.removeLines.push(i.pairClose),n=n.replace(i.pairOpen,this.printNode(s,this.indentLevel(i.pairOpen))))})}),n}transformExtractedDocuments(e){let n=e;return this.extractedEmbeddedDocuments.forEach((r,i)=>{let s="",o=0;r.isScript?s="//"+i:s="/*"+i+"*/",o=this.indentLevel(s),n.includes(s)&&(n=n.replace(s,Ea.indentRelative(r.content,o)))}),n}getAntlersChildDoc(e){return e.childDocument!=null?e.childDocument.document.transform().setParentTransformer(this).toStructure():this.clone().toStructure(e.getImmediateChildren())}prepareCondition(e){let n=e.logicBranches[0].head;if(n.fragmentPosition==2||n.fragmentPosition==1){let l=this.makeSlug(e.nodeContent.length);return this.registerInlineCondition(l,e),l}if(n.fragmentPosition==0)return this.prepareDynamicCondition(e);let r=[],i="";n.prev instanceof B&&n.prev.isInlineAntlers&&(i+=this.registerForcedBreak()),e.logicBranches.forEach((l,u)=>{var _,C,h,b;let c=l.head,f=this.getAntlersChildDoc(l),m=this.makeSlug(c.sourceContent.length),d=this.makeSlug(10),p={branch:l,slug:m,doc:f,pairOpen:this.open(m),pairClose:this.close(m),virtualOpen:this.open(d),virtualClose:this.close(d),isFirst:u==0,isLast:u==e.logicBranches.length-1,virtualBreakClose:"",virtualBreakOpen:""};if(((C=(_=l.head)==null?void 0:_.name)==null?void 0:C.getCompoundTagName())=="else"){i+=`
`+p.pairOpen;let g=this.makeSlug(25);this.createExraStructuralPairs&&l.head.containsChildStructures==!1&&l.head.containsAnyFragments==!1?(p.virtualBreakOpen=this.open(g),p.virtualBreakClose=this.close(g),i+=p.virtualBreakOpen+`
`,i+=f,i+=`
`+p.virtualBreakClose+`
`+p.pairClose):(p.virtualBreakOpen=this.selfClosing(g),i+=p.virtualBreakOpen+`
`,i+=f,i+=`
`+p.pairClose)}else if(this.createExraStructuralPairs&&((h=l.head)==null?void 0:h.containsAnyFragments)==!1&&((b=l.head)==null?void 0:b.containsChildStructures)==!1){let g=this.makeSlug(25);p.virtualBreakOpen=this.open(g),p.virtualBreakClose=this.close(g),i+=p.pairOpen,i+=`
`+p.virtualBreakOpen,i+=f,i+=`
`+p.virtualBreakClose,i+=p.pairClose}else i+=p.pairOpen,i+=`
`,i+=f,i+=`
`,i+=p.pairClose;r.push(p)});let s=r[0].pairOpen,o=r[r.length-1].pairClose,a={pairOpen:s,pairClose:o,structures:r,condition:e};return this.registerCondition(a),i}registerPairedAntlers(e,n){this.parentTransformer!=null?this.parentTransformer.registerPairedAntlers(e,n):this.tagPairs.set(e,n)}preparePairedAntlers(e){let n=this.makeSlug(e.getOriginalContent().length),r=this.getAntlersChildDoc(e);if(e.fragmentPosition!=0){let i="",s="";if(e.prev instanceof B&&e.prev.isPaired()==!1&&(s+=this.registerForcedBreak()),s+=`${this.open(n)}
`,e.containsChildStructures==!1&&e.containsAnyFragments==!1){let o=!1,a=!0,l=!0,u=0;for(let f=0;f<e.children.length;f++){let m=e.children[f];if(m instanceof Qe&&m.sourceContent.trim().length>0){o=!0,a=!1;break}}e.children.length==2&&e.children[0]instanceof B&&(o=!0);let c=0;for(let f=0;f<e.children.length-1;f++){let m=e.children[f];m instanceof B&&(u+=1,m.isInlineAntlers?c+=1:l=!1)}c==0&&(o=!0),l==!1&&(o=!1),a==!1&&u==0&&(o=!1),o?(i=this.makeSlug(15),s+=this.pair(i,r)):s+=r}else s+=r;return s+=`
${this.close(n)}
`,this.virtualStructureOpens.push(this.open(i)),this.virtualStructureClose.push(this.close(i)),this.virtualStructureClose.push(this.close(n)),this.registerPairedAntlers(n,{innerDoc:r,slug:n,tag:e,virtualElementSlug:i,isInline:!1}),s}return this.prepareConditionalAntlersPair(e)}registerInlineAntlers(e){if(this.parentTransformer!=null)return this.parentTransformer.registerInlineAntlers(e);{let n=this.makeSlug(e.getOriginalContent().length);return e.isInlineAntlers?(this.spanNodes.set(n,e),n):(this.inlineNodes.set(n,e),this.selfClosing(n))}}registerVirtualComment(e){this.parentTransformer!=null?this.parentTransformer.registerVirtualComment(e):this.blockComments.push(e)}registerComment(e,n){this.parentTransformer!=null?this.parentTransformer.registerComment(e,n):this.inlineComments.set(e,n)}prepareComment(e){let n=e.getContent();if(n.trim().includes(`
`)){let s=this.makeSlug(10),o=this.makeSlug(10),a={node:e,pairOpen:this.open(s),pairClose:this.close(s),virtualElement:this.selfClosing(o)};return this.registerVirtualComment(a),a.pairOpen+`
`+a.virtualElement+`
`+a.pairClose}let i=this.makeSlug(n.length);return this.registerComment(i,e),this.selfClosing(i)}registerDynamicAntlersPair(e,n){this.parentTransformer!=null?(this.dynamicElementPairedAntlers.set(n.nodeContent,e),this.parentTransformer.registerDynamicAntlersPair(e,n)):(this.dynamicElementPairedAntlers.set(n.nodeContent,e),this.dynamicElementPairedAntlersNodes.set(e,n))}prepareConditionalAntlersPair(e){if(this.dynamicElementPairedAntlers.has(e.nodeContent))return this.dynamicElementPairedAntlers.get(e.nodeContent);let n=this.makeSlug(e.nodeContent.length);return this.registerDynamicAntlersPair(n,e),n}registerDynamicCondition(e,n){this.parentTransformer!=null?(this.dynamicElementConditionAntlers.set(n.nodeContent,e),this.parentTransformer.registerDynamicCondition(e,n)):(this.dynamicElementConditionAntlers.set(n.nodeContent,e),this.dynamicElementConditionAntlersNodes.set(e,n))}prepareDynamicCondition(e){if(this.dynamicElementConditionAntlers.has(e.nodeContent))return this.dynamicElementConditionAntlers.get(e.nodeContent);let n=this.makeSlug(e.nodeContent.length);return this.registerDynamicCondition(n,e),n}registerDynamicAntlers(e,n){this.parentTransformer!=null?(this.dynamicElementAntlers.set(n.content,e),this.parentTransformer.registerDynamicAntlers(e,n)):(this.dynamicElementAntlers.set(n.content,e),this.dynamicElementAntlersNodes.set(e,n))}prepareConditionalAntlers(e){if(this.dynamicElementAntlers.has(e.content))return this.dynamicElementAntlers.get(e.content);let n=this.makeSlug(e.content.length);return this.registerDynamicAntlers(n,e),n}prepareAntlers(e){return e.isClosedBy!=null?this.preparePairedAntlers(e):e.fragmentPosition==0?this.prepareConditionalAntlers(e):this.registerInlineAntlers(e)}transformDynamicAntlers(e){let n=e;return this.dynamicElementAntlersNodes.forEach((r,i)=>{let s=this.printNode(r);n=Pt(n,i,s)}),this.dynamicElementPairedAntlersNodes.forEach((r,i)=>{let s=r.nodeContent;n=Pt(n,i,s)}),this.dynamicElementConditionAntlersNodes.forEach((r,i)=>{let s=r.nodeContent;n=Pt(n,i,s)}),n}transformPairedAntlers(e){let n=e;return this.tagPairs.forEach((r,i)=>{let s=r.tag;if(r.virtualElementSlug.length>0){let l=this.open(r.virtualElementSlug),u=this.close(r.virtualElementSlug);this.virtualStructureOpens.push(l),this.removeLines.push(l),this.removeLines.push(u)}let o=this.open(i),a=this.close(i);n=n.replace(o,this.printNode(s,this.indentLevel(o))),n=n.replace(a,this.printNode(s.isClosedBy))}),n}transformInlineAntlers(e){let n=e;return this.inlineNodes.forEach((r,i)=>{let s=this.selfClosing(i);n=n.replace(s,this.printNode(r,this.indentLevel(s)))}),this.spanNodes.forEach((r,i)=>{n=n.replace(i,this.printNode(r))}),n}transformComments(e){let n=e;return this.inlineComments.forEach((r,i)=>{let s=this.selfClosing(i);n=n.replace(s,af.printComment(r,this.options.tabSize,0))}),this.blockComments.forEach(r=>{let i=r.node;n=n.replace(r.pairOpen,af.printComment(i,this.options.tabSize,this.indentLevel(r.pairOpen))),this.removeLines.push(r.pairClose),this.removeLines.push(r.virtualElement)}),n}registerEmbeddedDocument(e,n,r){return this.parentTransformer!=null?this.parentTransformer.registerEmbeddedDocument(e,n,r):(this.extractedEmbeddedDocuments.set(e,{slug:e,content:n,isScript:r}),e)}clone(){let e=new kl(this.doc);return e.withOptions(this.options).setParentTransformer(this),e}toStructure(e=null){let n="";e==null&&(e=this.doc.getDocumentParser().getRenderNodes()),e.forEach(i=>{i instanceof Qe?n+=i.sourceContent:i instanceof vt?n+=this.prepareCondition(i):i instanceof rn?n+=this.prepareNoParse(i):i instanceof B&&(i.isComment?n+=this.prepareComment(i):n+=this.prepareAntlers(i))});let r=this.doc.getDocumentParser().getFragmentsContainingStructures();if(r.length>0){let i=new mt;i.loadString(n),r.forEach(s=>{var d,p,_,C,h,b,g,N;let o=this.doc.getDocumentParser().getText(((p=(d=s.start.endPosition)==null?void 0:d.offset)!=null?p:0)+1,(C=(_=s.end.startPosition)==null?void 0:_.offset)!=null?C:0),a=i.getDocumentParser().getFragmentsParser().getEmbeddedFragment(s.start.embeddedIndex);if(a==null)return;let l=i.getDocumentParser().getFragmentsParser().getClosingFragmentAfter(a);if(l==null)return;let u=i.getDocumentParser().getText(((b=(h=a.endPosition)==null?void 0:h.offset)!=null?b:0)+1,(N=(g=l==null?void 0:l.startPosition)==null?void 0:g.offset)!=null?N:0),c=this.makeSlug(16),f=s.start.name.toLowerCase()=="script",m=c;f?m="//"+c:m="/*"+c+"*/",n=n.replace(u,m),this.registerEmbeddedDocument(c,o,f)})}return n}removeVirtualStructures(e){let n=e;return this.removeLines.forEach(r=>{n=n.replace(r,"")}),n}indentLevel(e){for(let n=0;n<this.structureLines.length;n++){let r=this.structureLines[n];if(r.includes(e)){let i=r.trimLeft();return r.length-i.length}}return 0}shouldCleanAfter(e){for(let n=0;n<this.removeLines.length;n++)if(e.startsWith(this.removeLines[n]))return!0;for(let n=0;n<this.forceCleanLines.length;n++)if(e.startsWith(this.forceCleanLines[n]))return!0;return!1}shouldCleanLine(e){for(let n=0;n<this.forceCleanLines.length;n++){let r=e.trim();if(e.startsWith(this.forceCleanLines[n])||r.startsWith("{{ /")&&r.endsWith("}}"))return!0}return!1}cleanVirtualStructures(e){let n=[],r=G.breakByNewLine(e),i=!1;for(let s=0;s<r.length;s++){let o=r[s].trim();if(i){if(o.length==0)continue;i=!1}else i=this.shouldCleanAfter(o);if(this.shouldCleanLine(o))for(let a=n.length-1;a>0&&n[a].trim().length==0;a--)n.pop();if(!this.removeLines.includes(o)){let a=r[s];this.removeLines.forEach(l=>{a.includes(l)&&(a=a.replace(l,""))}),n.push(a)}}return n.join(`
`)}cleanStructuralNewLines(e){let n=G.breakByNewLine(e),r=[],i=!1;return n.forEach(s=>{let o=s.trim();if(o.startsWith("{{")&&o.endsWith("}}")){r.push(s),i=!0;return}i&&o.length>0&&(i=!1),i||r.push(s)}),r.join(`
`)}reflowSlugs(e){let n=e;return this.slugs.forEach(r=>{let i=this.open(r),s=this.close(r),o=this.selfClosing(r),a="/<"+r+"(.*?)>/gms",l="/</"+r+"(.*?)>/gms",u="/<"+r+"(.*?)/>/gms";n=n.replace(a,i),n=n.replace(l,s),n=n.replace(u,o)}),n}fromStructure(e){let n=this.reflowSlugs(e);this.structureLines=G.breakByNewLine(n);let r=this.transformInlineConditions(n);if(r=this.transformConditions(r),r=this.transformInlineAntlers(r),r=this.transformComments(r),r=this.transformVirtualStructures(r),r=this.transformDynamicAntlers(r),r=this.transformPairedAntlers(r),r=this.transformExtractedDocuments(r),r=this.cleanVirtualStructures(r),r=this.removeVirtualStructures(r),r=this.cleanStructuralNewLines(r),this.doc.hasFrontMatter()){let i=this.doc.getFrontMatter(),s=this.doc.getFrontMatterDoc();s!=null&&s.isValid&&this.yamlFormatter!=null&&(i=this.yamlFormatter(i)),r=`---
${i}
---
`+`
`.repeat(this.options.newlinesAfterFrontMatter)+r.trimLeft()}return r=r.trimRight(),this.options.endNewline&&(r+=`
`),r}};var zv=Q(mi());var Em=class{constructor(){this.content="";this.ranges=[];this.lastDocumentOffsetKey=null;this.documentOffsets=new Map;this.lineIndex=new Map;this.keys=[];this.values=[];this.isValid=!1;this.parseError=null}loadString(e){var c;this.content=G.normalizeLineEndings(e);let n=null;try{n=zv.parseDocument(this.content),this.isValid=!0}catch(f){this.isValid=!1,this.parseError=f}if(n==null)return;let r=[...this.content.matchAll(/(\n)/gm)],i=r.length,s=2,o=null,a=0,l=0;for(let f=0;f<i;f++){let m=r[f],d=(c=m.index)!=null?c:0,p=d;o!=null?p=d-o:p=p+1,this.documentOffsets.set(d,{char:p,line:s});let _=0,C=0;f==0?(C=p-1,_=0):(_=l+1,C=d),this.lineIndex.set(s,{char:p,line:s,startIndex:_,endIndex:C}),this.lastDocumentOffsetKey=d,s+=1,o=d,l=C,a=_}let u=n.contents;this.processMap(u)}processMap(e){e.items.forEach(n=>{this.processItem(n)})}processItem(e){if(e.type=="PAIR"){if(e.value instanceof Ll||e.value instanceof xa){let s=e.key;if(s.range!=null){let o=this.positionFromOffset(s.range[0],s.range[0]),a=this.positionFromOffset(s.range[1],s.range[1]);this.ranges.push({start:o,end:a,length:a.char-o.char+1,content:"property"}),this.keys.push({start:o,end:a,length:a.char-o.char+1,content:s.value}),e.value instanceof xa?this.processMap(e.value.items[0]):this.processMap(e.value);return}}let n=e,r=n.key,i=n.value;if(r.range!=null&&i.range!=null){let s=this.positionFromOffset(r.range[0],r.range[0]),o=this.positionFromOffset(r.range[1],r.range[1]),a=this.positionFromOffset(i.range[0],i.range[0]),l=this.positionFromOffset(i.range[1],i.range[1]),u="string";parseInt(i.value)==i.value&&(u="number"),this.ranges.push({start:s,end:o,length:o.char-s.char+1,content:"property"}),this.keys.push({start:s,end:o,length:o.char-s.char+1,content:r.value}),this.ranges.push({start:a,end:l,length:l.char-a.char+1,content:u}),this.values.push({start:a,end:l,length:l.char-a.char+1,content:i.value})}}}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let a=this.documentOffsets.get(e);i=a.line,s=a.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let a=null,l=null,u=null,c=null;for(let f of this.documentOffsets.keys()){if(f>=e){c!=null&&e>c?(a=u,l=c):(a=this.documentOffsets.get(f),l=f);break}u=this.documentOffsets.get(f),c=f}if(a==null&&(a=u,l=c),a!=null)if(r){let f=this.content.split(""),m=e-(l!=null?l:0),d=a.char-(l!=null?l:0)+e;s=m,i=a.line,e<=(l!=null?l:0)?(i=a.line,s=e+1):i=a.line+1}else{let f=this.content.split(""),m=e-(l!=null?l:0),d=a.char-(l!=null?l:0)+e;s=m,i=a.line,e<=(l!=null?l:0)?(i=a.line,s=e+1):i=a.line+1}else this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let o=new qt;return o.index=n,o.offset=e,o.line=i,o.char=s,o}getRanges(){return this.ranges}getKeys(){return this.keys}getValues(){return this.values}};var mt=class{constructor(){this.documentParser=new E;this.transformer=null;this.ranges=new Am(this);this.nodes=new Rm(this);this.cursor=new cm(this);this.errors=new fm(this);this.project=null;this.documentUri=""}static fromText(e,n){let r=new mt;return typeof n!="undefined"&&(r.project=n),r.loadString(e)}static childFromText(e,n=null){let r=new mt;return n!=null&&r.getDocumentParser().setSeedPosition(n),r.getDocumentParser().withChildDocuments(!0),r.loadString(e),{renderNodes:r.getDocumentParser().getRenderNodes(),content:e,document:r}}isValid(){return!(this.hasInvalidControlFlowStructures()||this.hasUnclosedStructures())}getDocumentOptions(){let e=this.getAllNodes();if(e.length==0||!(e[0]instanceof B))return null;let n=e[0];return n.isComment==!1?null:il(this.documentUri,n)}isFormattingEnabled(){let e=this.getDocumentOptions();return e==null?!0:e.formatterEnabled}hasInvalidControlFlowStructures(){return this.documentParser.hasUnclosedIfStructures()}hasUnclosedStructures(){return this.documentParser.hasUnclosedStructures()}getFrontMatterDoc(){if(this.hasFrontMatter()){let e=new Em;return e.loadString(this.getFrontMatter()),e}return null}hasFrontMatter(){return this.documentParser.getFrontMatter().trim().length>0}getFrontMatter(){return this.documentParser.getFrontMatter()}getFrontMatterScope(){if(this.project==null)return null;let e=new Cm(this.project);return e.parse(this.getFrontMatter()),e.getScope()}updateProject(e){this.project=e,this.updateProjectDetails()}updateProjectDetails(){try{if(this.project!=null){let e=new Wd(this.project,this.documentUri,this),n=this.documentParser.antlersNodes();n.forEach(r=>{var i,s;if(this.project!=null&&((i=Ie.instance)==null?void 0:i.canResolveSpecialTypes(r.getTagName()))){let o=(s=Ie.instance)==null?void 0:s.resolveSpecialType(r.getTagName(),r,this.project);o.context!=null&&(r.reference=o.context)}}),e.analyzeScope(n);for(let r=0;r<n.length;r++){let i=n[r];if(i.hasParameters)for(let s=0;s<i.parameters.length;s++){let o=i.parameters[s];if(o.hasInterpolations())for(let a=0;a<o.interpolations.length;a++){let l=o.interpolations[a];i.processedInterpolationRegions.has(l)&&i.processedInterpolationRegions.get(l).forEach(c=>{c instanceof B&&(c.currentScope=i.currentScope)})}}}Qb(this)}}catch(e){console.log(e)}}loadString(e){return this.documentParser.parse(e),this.updateProjectDetails(),this}getDocumentParser(){return this.documentParser}getParsedContent(){return this.documentParser.getParsedContent()}getAllNodes(){return this.documentParser.getNodes()}getAllAntlersNodes(){return this.documentParser.antlersNodes()}extractText(){let e=[];return this.nodes.getAllLiteralNodes().forEach(n=>{e.push(n.content)}),e.join("")}getNameAt(e){let n=this.nodes.getNodeAt(e);return n instanceof B?n.name:null}getContent(){return this.documentParser.getContent()}getOriginalContent(){return this.documentParser.getOriginalContent()}getFeaturesAt(e){let n=this.nodes.getNodeAt(e);return Fi.resolveContext(e,n,this,!1,n)}getText(e,n){return this.documentParser.getText(e,n)}charLeftAt(e){return this.documentParser.charLeftAt(e)}charAt(e){return this.documentParser.charAt(e)}charRightAt(e){return this.documentParser.charRightAt(e)}getLineIndex(e){return this.documentParser.getLineIndex(e)}getLineText(e){return this.documentParser.getLineText(e)}wordAt(e,n=4){return this.documentParser.wordAt(e,n)}wordLeftAt(e,n=4){return this.documentParser.wordLeftAt(e,n)}wordRightAt(e,n=4){return this.documentParser.wordRightAt(e,n)}punctuationLeftAt(e,n=4){return this.documentParser.punctuationLeftAt(e,n)}punctuationRightAt(e,n=4){return this.documentParser.punctuationRightAt(e,n)}getLineChars(e){let n=this.getLineText(e);return n!=null?n.split(""):null}transform(){return this.transformer==null&&(this.transformer=new kl(this)),this.transformer}};var oo=class{constructor(){this.loadedDocuments=new Map;this.activeProject=null}getDocuments(){let e=[];return this.loadedDocuments.forEach(n=>{e.push(n)}),e}setProject(e){this.activeProject=e,this.loadedDocuments.forEach(n=>{this.activeProject!=null&&n.updateProject(this.activeProject)})}refreshDocumentState(){this.activeProject!=null&&this.setProject(this.activeProject)}hasDocument(e){return this.loadedDocuments.has(e)}createDocument(e){if(!this.loadedDocuments.has(e)){let n=new mt;n.documentUri=e,this.loadedDocuments.set(e,n)}}loadDocument(e,n){this.loadedDocuments.set(e,mt.fromText(n))}getDocument(e){return this.loadedDocuments.get(e)}updateDocument(e,n){var r,i;if(this.loadedDocuments.has(e)){let s=this.loadedDocuments.get(e);s.loadString(n);let o=(i=(r=ce.instance)==null?void 0:r.getStructure())==null?void 0:i.findView(e);o!=null&&(o.document=s)}}createOrUpdate(e,n){this.createDocument(e),this.updateDocument(e,n)}getDocumentErrors(e){return this.loadedDocuments.has(e)?this.loadedDocuments.get(e).errors.all():[]}};oo.instance=null;(typeof oo.instance=="undefined"||oo.instance)&&(oo.instance=new oo);var Xv=oo;var Jr=new Map,Se=new Xv;function Qv(t,e){let n=[];return t.processedInterpolationRegions.size>0&&t.processedInterpolationRegions.forEach((r,i)=>{var s;for(let o=0;o<r.length;o++){let a=r[o];if(a instanceof B&&e.isWithin(a.startPosition,a.endPosition)){a.currentScope==null&&(((s=t.parent)==null?void 0:s.currentScope)!=null?a.currentScope=t.parent.currentScope:a.currentScope=t.currentScope),n.push(a),a.processedInterpolationRegions.size>0&&(n=n.concat(Qv(a,e)));break}}}),n}function kn(t,e,n=!0){var m,d,p,_,C,h,b,g,N,S,V;if(!Se.hasDocument(e)||ce.instance==null||ce.instance.hasStructure()==!1)return null;let r=Se.getDocument(e),i=t.line+1,s=t.character+1,o=r.cursor.getFeaturesAt(i,s),a=r.cursor.position(i,s),l=ce.instance.getStructure(),u=r.cursor.getAncestorsAt(i,s);if(a!=null&&u.length>0){let O=u[u.length-1];Qv(O,a).forEach($=>{u.push($)})}let c=(o==null?void 0:o.isCursorInIdentifier)==!1;return c==!1&&((m=o==null?void 0:o.leftChar)!=null?m:"")==" "&&(c=!0),{hasFrontMatter:r.hasFrontMatter(),antlersDocument:r,frontMatterEndsOn:r.getDocumentParser().getFrontMatterEndLine(),document:e,leftMeaningfulWord:(d=o==null?void 0:o.leftWord)!=null?d:null,leftChar:(p=o==null?void 0:o.leftChar)!=null?p:"",leftWord:(C=(_=o==null?void 0:o.leftWord)==null?void 0:_.trim())!=null?C:"",originalLeftWord:(h=o==null?void 0:o.leftWord)!=null?h:"",rightWord:(b=o==null?void 0:o.rightWord)!=null?b:"",rightChar:(g=o==null?void 0:o.rightChar)!=null?g:"",context:o,position:t,project:l,nodesInScope:u,isInDoubleBraces:((N=o==null?void 0:o.node)==null?void 0:N.rawStart)=="{{",isInVariableInterpolation:(S=o==null?void 0:o.interpolatedContext)!=null?S:!1,interpolationStartsOn:null,currentNode:(V=o==null?void 0:o.node)!=null?V:null,isCaretInTag:(o==null?void 0:o.node)!=null,isPastTagPart:c,showGeneralSnippets:n}}var wa=Q(nn());var WL=`{{ collection:$1 $2 }}

{{ /collection:$1 }}`,Jv=WL;var HL='&copy; {{ now format="Y"  }}',Zv=HL;var YL=`{{ form:set in="$1" }}

{{ if {form:errors} }}
	{{ form:errors }}

	{{ /form:errors }}
{{ /if }}

{{ if {form:success} }}

{{ /if }}

{{ form:create }}
	$2
{{ /form:create }}

{{ /form:set }}`,eP=YL;var tP=`{{# Displays your site's current locale. #}}
<span>{{ site:short_locale }}</span>

{{# Displays all available locales. #}}
<ul>
    {{ locales all="true" self="false" }}
    <li>
        <a href="{{ permalink }}" aria-label="{{ locale:name }}">{{ locale:short }}</a>
    </li>    
    {{ /locales }}
</ul>`;var KL=`<ul>
{{ nav }}
	{{ if depth == 1 }}
		$1
		{{ if children }}
			<ul>{{ *recursive children* }}</ul>
		{{ /if }}
	{{ elseif depth == 2 }}
		
	{{ /if }}
{{ /nav }}
</ul>`,nP=KL;function Ml(t,e,n,r){return{label:t,detail:e,insertTextFormat:wa.InsertTextFormat.Snippet,kind:wa.CompletionItemKind.Snippet,textEdit:wa.TextEdit.replace(r,n),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}}function $L(t){var l,u,c,f,m;let e=[];if(t.showGeneralSnippets==!1)return e;let n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position},r=(l=er.instance)==null?void 0:l.getContent("collection"),i=(u=er.instance)==null?void 0:u.getContent("formset"),s=(c=er.instance)==null?void 0:c.getContent("nav_depth2"),o=(f=er.instance)==null?void 0:f.getContent("copyright_year"),a=(m=er.instance)==null?void 0:m.getContent("multisite_lang_generic");return r!=null&&e.push(Ml("coll","Statamic Collection",r,n)),i!=null&&e.push(Ml("formset","Statamic Form Set",i,n)),s!=null&&e.push(Ml("nav-depth2","Statamic Nav with Depth Two",s,n)),o!=null&&e.push(Ml("copyright_year","Copyright year using Antlers tags.",o,n)),a!=null&&e.push(Ml("multisite_locales","Displays the current locale, and a list of all available locales.",a,n)),e}var er=class{constructor(){this.registeredSnippets=new Map}loadCoreSnippets(){this.registeredSnippets.set("collection",Jv),this.registeredSnippets.set("formset",eP),this.registeredSnippets.set("nav_depth2",nP),this.registeredSnippets.set("copyright_year",Zv),this.registeredSnippets.set("multisite_lang_generic",tP)}getContent(e){return this.registeredSnippets.has(e)?this.registeredSnippets.get(e):""}getSnippets(e){let n=[];return e==null||(n=n.concat($L(e))),n}};er.instance=null;(typeof er.instance=="undefined"||er.instance==null)&&(er.instance=new er,er.instance.loadCoreSnippets());var rP=er;var iP=new Map;function sP(t){var o,a,l;if(((o=ce.instance)==null?void 0:o.hasStructure())==!1)return[];Se.refreshDocumentState();let e=decodeURIComponent(t.textDocument.uri);if(Se.hasDocument(e)==!1)return[];let n=kn(t.position,e,qi.showGeneralSnippetCompletions);if(n==null)return[];if(n.hasFrontMatter&&n.frontMatterEndsOn>-1&&n.position.line<n.frontMatterEndsOn)return[];let r=(l=(a=rP.instance)==null?void 0:a.getSnippets(n))!=null?l:[],i=md.getSuggestions(n);r.length>0&&(n.isInDoubleBraces==!1||n.nodesInScope.length==0)&&(i=i.concat(r));let s=[];return i.filter(u=>s.includes(u.label)?!1:(s.push(u.label),!0))}function oP(t){if(iP.has(t.data)){let e=iP.get(t.data);e!=null&&(t.detail=e.detail,t.documentation=e.docs)}return t}var Fl=Q(Np());var wm=Q(ot());function lf(t){let e=[];return t.forEach(n=>{let r=null;n.node!=null?r=ao(n.node):n.range!=null?r={start:ln(n.range.start),end:ln(n.range.end)}:r={start:{line:1,character:1},end:{line:1,character:1}};let i=1;n.level==1&&(i=2),e.push({severity:i,range:r,message:"["+n.errorCode+"] "+n.message,source:"antlers"})}),e}function ln(t){return t==null?{character:0,line:0}:{character:t.char,line:t.line-1}}function ao(t){var e,n,r,i,s,o,a,l;if(t instanceof Vs){let u=ln((i=(r=(e=t.valuePosition)==null?void 0:e.end)!=null?r:(n=t.blockPosition)==null?void 0:n.end)!=null?i:t.endPosition);return{start:ln((l=(a=(s=t.namePosition)==null?void 0:s.start)!=null?a:(o=t.blockPosition)==null?void 0:o.start)!=null?l:t.startPosition),end:{character:u.character+1,line:u.line}}}return{start:ln(t.startPosition),end:ln(t.endPosition)}}function aP(t){if(t.isClosedBy==null)return null;let e=-1,n=-1,r=-1,i=-1;return t.startPosition!=null&&(e=t.startPosition.line-1,n=t.startPosition.char),t.isClosedBy.endPosition!=null?(r=t.isClosedBy.endPosition.char,i=t.isClosedBy.endPosition.line-1):t.isClosedBy.startPosition!=null&&(r=t.isClosedBy.startPosition.char,i=t.isClosedBy.startPosition.line-1),e==-1||i==-1||n==-1||r==-1?null:{kind:wm.FoldingRangeKind.Region,startLine:e,endLine:i,startCharacter:n,endCharacter:r}}function Om(t){let e=-1,n=-1,r=-1,i=-1;return t.startPosition!=null&&(e=t.startPosition.line-1,n=t.startPosition.char),t.endPosition!=null&&(r=t.endPosition.char,i=t.endPosition.line-1),e==-1||n==-1||r==-1||i==-1?null:{kind:wm.FoldingRangeKind.Comment,startLine:e,endLine:i,startCharacter:n,endCharacter:r}}function lP(t){let e=decodeURIComponent(t.textDocument.uri);if(Se.hasDocument(e)){let n=Se.getDocument(e),r=n.ranges.getAllPairedNodes(),i=n.nodes.getMultiLineComments(),s=n.nodes.getMultilineNodes(),o=[];if(n.hasFrontMatter()){let a=n.getDocumentParser().getFrontMatterEndLine();o.push({startLine:0,endLine:a-1,kind:Fl.FoldingRangeKind.Imports})}return r.length>0&&r.forEach(a=>{var u,c,f;if(((u=a.startPosition)==null?void 0:u.line)==((f=(c=a.isClosedBy)==null?void 0:c.startPosition)==null?void 0:f.line))return;let l=aP(a);l!=null&&(l.kind=Fl.FoldingRangeKind.Region,o.push(l))}),i.length>0&&i.forEach(a=>{let l=Om(a);l!=null&&(l.kind=Fl.FoldingRangeKind.Comment,o.push(l))}),s.length>0&&s.forEach(a=>{if(a.isClosedBy!=null)return;let l=Om(a);l!=null&&(l.kind=Fl.FoldingRangeKind.Region,o.push(l))}),o}return[]}var zL={checkDocument(t){let e=[];return t.hasFrontMatter()&&t.getContent().trim().length==0&&e.push(M.makeSyntaxError(P.LINT_FRONT_MATTER_EMPTY_DOCUMENT,null,'Empty document content with Front Matter will result in "[ErrorException] Undefined index: content".')),e}},uP=zL;function cP(t){return typeof t=="undefined"||t===null}function XL(t){return typeof t=="object"&&t!==null}function QL(t){return Array.isArray(t)?t:cP(t)?[]:[t]}function JL(t,e){var n,r,i,s;if(e)for(s=Object.keys(e),n=0,r=s.length;n<r;n+=1)i=s[n],t[i]=e[i];return t}function ZL(t,e){var n="",r;for(r=0;r<e;r+=1)n+=t;return n}function eD(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var tD=cP,nD=XL,rD=QL,iD=ZL,sD=eD,oD=JL,Wt={isNothing:tD,isObject:nD,toArray:rD,repeat:iD,isNegativeZero:sD,extend:oD};function fP(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),r+" "+n):r}function Vl(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=fP(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Vl.prototype=Object.create(Error.prototype);Vl.prototype.constructor=Vl;Vl.prototype.toString=function(e){return this.name+": "+fP(this,e)};var En=Vl;function Lm(t,e,n,r,i){var s="",o="",a=Math.floor(i/2)-1;return r-e>a&&(s=" ... ",e=r-a+s.length),n-r>a&&(o=" ...",n=r+a-o.length),{str:s+t.slice(e,n).replace(/\t/g,"\u2192")+o,pos:r-e+s.length}}function Dm(t,e){return Wt.repeat(" ",e-t.length)+t}function aD(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],s,o=-1;s=n.exec(t.buffer);)i.push(s.index),r.push(s.index+s[0].length),t.position<=s.index&&o<0&&(o=r.length-2);o<0&&(o=r.length-1);var a="",l,u,c=Math.min(t.line+e.linesAfter,i.length).toString().length,f=e.maxLength-(e.indent+c+3);for(l=1;l<=e.linesBefore&&!(o-l<0);l++)u=Lm(t.buffer,r[o-l],i[o-l],t.position-(r[o]-r[o-l]),f),a=Wt.repeat(" ",e.indent)+Dm((t.line-l+1).toString(),c)+" | "+u.str+`
`+a;for(u=Lm(t.buffer,r[o],i[o],t.position,f),a+=Wt.repeat(" ",e.indent)+Dm((t.line+1).toString(),c)+" | "+u.str+`
`,a+=Wt.repeat("-",e.indent+c+3+u.pos)+`^
`,l=1;l<=e.linesAfter&&!(o+l>=i.length);l++)u=Lm(t.buffer,r[o+l],i[o+l],t.position-(r[o]-r[o+l]),f),a+=Wt.repeat(" ",e.indent)+Dm((t.line+l+1).toString(),c)+" | "+u.str+`
`;return a.replace(/\n$/,"")}var lD=aD,uD=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],cD=["scalar","sequence","mapping"];function fD(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(r){e[String(r)]=n})}),e}function pD(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(uD.indexOf(n)===-1)throw new En('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=fD(e.styleAliases||null),cD.indexOf(this.kind)===-1)throw new En('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var mn=pD;function pP(t,e){var n=[];return t[e].forEach(function(r){var i=n.length;n.forEach(function(s,o){s.tag===r.tag&&s.kind===r.kind&&s.multi===r.multi&&(i=o)}),n[i]=r}),n}function dD(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function r(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(r);return t}function km(t){return this.extend(t)}km.prototype.extend=function(e){var n=[],r=[];if(e instanceof mn)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new En("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof mn))throw new En("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new En("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new En("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(s){if(!(s instanceof mn))throw new En("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(km.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=pP(i,"implicit"),i.compiledExplicit=pP(i,"explicit"),i.compiledTypeMap=dD(i.compiledImplicit,i.compiledExplicit),i};var mD=km,hD=new mn("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),gD=new mn("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),_D=new mn("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),yD=new mD({explicit:[hD,gD,_D]});function bD(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function TD(){return null}function ND(t){return t===null}var vD=new mn("tag:yaml.org,2002:null",{kind:"scalar",resolve:bD,construct:TD,predicate:ND,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function PD(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function ID(t){return t==="true"||t==="True"||t==="TRUE"}function SD(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var CD=new mn("tag:yaml.org,2002:bool",{kind:"scalar",resolve:PD,construct:ID,predicate:SD,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function RD(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function AD(t){return 48<=t&&t<=55}function xD(t){return 48<=t&&t<=57}function ED(t){if(t===null)return!1;var e=t.length,n=0,r=!1,i;if(!e)return!1;if(i=t[n],(i==="-"||i==="+")&&(i=t[++n]),i==="0"){if(n+1===e)return!0;if(i=t[++n],i==="b"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!RD(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!AD(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<e;n++)if(i=t[n],i!=="_"){if(!xD(t.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function wD(t){var e=t,n=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function OD(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Wt.isNegativeZero(t)}var LD=new mn("tag:yaml.org,2002:int",{kind:"scalar",resolve:ED,construct:wD,predicate:OD,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),DD=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function kD(t){return!(t===null||!DD.test(t)||t[t.length-1]==="_")}function MD(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}var FD=/^[-+]?[0-9]+e/;function VD(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Wt.isNegativeZero(t))return"-0.0";return n=t.toString(10),FD.test(n)?n.replace("e",".e"):n}function qD(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Wt.isNegativeZero(t))}var BD=new mn("tag:yaml.org,2002:float",{kind:"scalar",resolve:kD,construct:MD,predicate:qD,represent:VD,defaultStyle:"lowercase"}),jD=yD.extend({implicit:[vD,CD,LD,BD]}),UD=jD,dP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),mP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function GD(t){return t===null?!1:dP.exec(t)!==null||mP.exec(t)!==null}function WD(t){var e,n,r,i,s,o,a,l=0,u=null,c,f,m;if(e=dP.exec(t),e===null&&(e=mP.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(s=+e[4],o=+e[5],a=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(c=+e[10],f=+(e[11]||0),u=(c*60+f)*6e4,e[9]==="-"&&(u=-u)),m=new Date(Date.UTC(n,r,i,s,o,a,l)),u&&m.setTime(m.getTime()-u),m}function HD(t){return t.toISOString()}var YD=new mn("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:GD,construct:WD,instanceOf:Date,represent:HD});function KD(t){return t==="<<"||t===null}var $D=new mn("tag:yaml.org,2002:merge",{kind:"scalar",resolve:KD}),Mm=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function zD(t){if(t===null)return!1;var e,n,r=0,i=t.length,s=Mm;for(n=0;n<i;n++)if(e=s.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}function XD(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,s=Mm,o=0,a=[];for(e=0;e<i;e++)e%4===0&&e&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(r.charAt(e));return n=i%4*6,n===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):n===18?(a.push(o>>10&255),a.push(o>>2&255)):n===12&&a.push(o>>4&255),new Uint8Array(a)}function QD(t){var e="",n=0,r,i,s=t.length,o=Mm;for(r=0;r<s;r++)r%3===0&&r&&(e+=o[n>>18&63],e+=o[n>>12&63],e+=o[n>>6&63],e+=o[n&63]),n=(n<<8)+t[r];return i=s%3,i===0?(e+=o[n>>18&63],e+=o[n>>12&63],e+=o[n>>6&63],e+=o[n&63]):i===2?(e+=o[n>>10&63],e+=o[n>>4&63],e+=o[n<<2&63],e+=o[64]):i===1&&(e+=o[n>>2&63],e+=o[n<<4&63],e+=o[64],e+=o[64]),e}function JD(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var ZD=new mn("tag:yaml.org,2002:binary",{kind:"scalar",resolve:zD,construct:XD,predicate:JD,represent:QD}),ek=Object.prototype.hasOwnProperty,tk=Object.prototype.toString;function nk(t){if(t===null)return!0;var e=[],n,r,i,s,o,a=t;for(n=0,r=a.length;n<r;n+=1){if(i=a[n],o=!1,tk.call(i)!=="[object Object]")return!1;for(s in i)if(ek.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function rk(t){return t!==null?t:[]}var ik=new mn("tag:yaml.org,2002:omap",{kind:"sequence",resolve:nk,construct:rk}),sk=Object.prototype.toString;function ok(t){if(t===null)return!0;var e,n,r,i,s,o=t;for(s=new Array(o.length),e=0,n=o.length;e<n;e+=1){if(r=o[e],sk.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;s[e]=[i[0],r[i[0]]]}return!0}function ak(t){if(t===null)return[];var e,n,r,i,s,o=t;for(s=new Array(o.length),e=0,n=o.length;e<n;e+=1)r=o[e],i=Object.keys(r),s[e]=[i[0],r[i[0]]];return s}var lk=new mn("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:ok,construct:ak}),uk=Object.prototype.hasOwnProperty;function ck(t){if(t===null)return!0;var e,n=t;for(e in n)if(uk.call(n,e)&&n[e]!==null)return!1;return!0}function fk(t){return t!==null?t:{}}var pk=new mn("tag:yaml.org,2002:set",{kind:"mapping",resolve:ck,construct:fk}),hP=UD.extend({implicit:[YD,$D],explicit:[ZD,ik,lk,pk]}),Ts=Object.prototype.hasOwnProperty,uf=1,gP=2,_P=3,cf=4,Fm=1,dk=2,yP=3,mk=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,hk=/[\x85\u2028\u2029]/,gk=/[,\[\]\{\}]/,bP=/^(?:!|!!|![a-z\-]+!)$/i,TP=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function NP(t){return Object.prototype.toString.call(t)}function hi(t){return t===10||t===13}function lo(t){return t===9||t===32}function Mn(t){return t===9||t===32||t===10||t===13}function Oa(t){return t===44||t===91||t===93||t===123||t===125}function _k(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function yk(t){return t===120?2:t===117?4:t===85?8:0}function bk(t){return 48<=t&&t<=57?t-48:-1}function vP(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function Tk(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var PP=new Array(256),IP=new Array(256);for(uo=0;uo<256;uo++)PP[uo]=vP(uo)?1:0,IP[uo]=vP(uo);var uo;function Nk(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||hP,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function SP(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=lD(n),new En(e,n)}function fe(t,e){throw SP(t,e)}function ff(t,e){t.onWarning&&t.onWarning.call(null,SP(t,e))}var CP={YAML:function(e,n,r){var i,s,o;e.version!==null&&fe(e,"duplication of %YAML directive"),r.length!==1&&fe(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&fe(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&fe(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&ff(e,"unsupported YAML version of the document")},TAG:function(e,n,r){var i,s;r.length!==2&&fe(e,"TAG directive accepts exactly two arguments"),i=r[0],s=r[1],bP.test(i)||fe(e,"ill-formed tag handle (first argument) of the TAG directive"),Ts.call(e.tagMap,i)&&fe(e,'there is a previously declared suffix for "'+i+'" tag handle'),TP.test(s)||fe(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{fe(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s}};function Ns(t,e,n,r){var i,s,o,a;if(e<n){if(a=t.input.slice(e,n),r)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||fe(t,"expected valid JSON character");else mk.test(a)&&fe(t,"the stream contains non-printable characters");t.result+=a}}function RP(t,e,n,r){var i,s,o,a;for(Wt.isObject(n)||fe(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),o=0,a=i.length;o<a;o+=1)s=i[o],Ts.call(e,s)||(e[s]=n[s],r[s]=!0)}function La(t,e,n,r,i,s,o,a,l){var u,c;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,c=i.length;u<c;u+=1)Array.isArray(i[u])&&fe(t,"nested arrays are not supported inside keys"),typeof i=="object"&&NP(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&NP(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,c=s.length;u<c;u+=1)RP(t,e,s[u],n);else RP(t,e,s,n);else!t.json&&!Ts.call(n,i)&&Ts.call(e,i)&&(t.line=o||t.line,t.lineStart=a||t.lineStart,t.position=l||t.position,fe(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[i]=s,delete n[i];return e}function Vm(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):fe(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function Mt(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);i!==0;){for(;lo(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(hi(i))for(Vm(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return n!==-1&&r!==0&&t.lineIndent<n&&ff(t,"deficient indentation"),r}function pf(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||Mn(n)))}function qm(t,e){e===1?t.result+=" ":e>1&&(t.result+=Wt.repeat(`
`,e-1))}function vk(t,e,n){var r,i,s,o,a,l,u,c,f=t.kind,m=t.result,d;if(d=t.input.charCodeAt(t.position),Mn(d)||Oa(d)||d===35||d===38||d===42||d===33||d===124||d===62||d===39||d===34||d===37||d===64||d===96||(d===63||d===45)&&(i=t.input.charCodeAt(t.position+1),Mn(i)||n&&Oa(i)))return!1;for(t.kind="scalar",t.result="",s=o=t.position,a=!1;d!==0;){if(d===58){if(i=t.input.charCodeAt(t.position+1),Mn(i)||n&&Oa(i))break}else if(d===35){if(r=t.input.charCodeAt(t.position-1),Mn(r))break}else{if(t.position===t.lineStart&&pf(t)||n&&Oa(d))break;if(hi(d))if(l=t.line,u=t.lineStart,c=t.lineIndent,Mt(t,!1,-1),t.lineIndent>=e){a=!0,d=t.input.charCodeAt(t.position);continue}else{t.position=o,t.line=l,t.lineStart=u,t.lineIndent=c;break}}a&&(Ns(t,s,o,!1),qm(t,t.line-l),s=o=t.position,a=!1),lo(d)||(o=t.position+1),d=t.input.charCodeAt(++t.position)}return Ns(t,s,o,!1),t.result?!0:(t.kind=f,t.result=m,!1)}function Pk(t,e){var n,r,i;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(Ns(t,r,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)r=t.position,t.position++,i=t.position;else return!0;else hi(n)?(Ns(t,r,i,!0),qm(t,Mt(t,!1,e)),r=i=t.position):t.position===t.lineStart&&pf(t)?fe(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);fe(t,"unexpected end of the stream within a single quoted scalar")}function Ik(t,e){var n,r,i,s,o,a;if(a=t.input.charCodeAt(t.position),a!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;(a=t.input.charCodeAt(t.position))!==0;){if(a===34)return Ns(t,n,t.position,!0),t.position++,!0;if(a===92){if(Ns(t,n,t.position,!0),a=t.input.charCodeAt(++t.position),hi(a))Mt(t,!1,e);else if(a<256&&PP[a])t.result+=IP[a],t.position++;else if((o=yk(a))>0){for(i=o,s=0;i>0;i--)a=t.input.charCodeAt(++t.position),(o=_k(a))>=0?s=(s<<4)+o:fe(t,"expected hexadecimal character");t.result+=Tk(s),t.position++}else fe(t,"unknown escape sequence");n=r=t.position}else hi(a)?(Ns(t,n,r,!0),qm(t,Mt(t,!1,e)),n=r=t.position):t.position===t.lineStart&&pf(t)?fe(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}fe(t,"unexpected end of the stream within a double quoted scalar")}function Sk(t,e){var n=!0,r,i,s,o=t.tag,a,l=t.anchor,u,c,f,m,d,p=Object.create(null),_,C,h,b;if(b=t.input.charCodeAt(t.position),b===91)c=93,d=!1,a=[];else if(b===123)c=125,d=!0,a={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),b=t.input.charCodeAt(++t.position);b!==0;){if(Mt(t,!0,e),b=t.input.charCodeAt(t.position),b===c)return t.position++,t.tag=o,t.anchor=l,t.kind=d?"mapping":"sequence",t.result=a,!0;n?b===44&&fe(t,"expected the node content, but found ','"):fe(t,"missed comma between flow collection entries"),C=_=h=null,f=m=!1,b===63&&(u=t.input.charCodeAt(t.position+1),Mn(u)&&(f=m=!0,t.position++,Mt(t,!0,e))),r=t.line,i=t.lineStart,s=t.position,Da(t,e,uf,!1,!0),C=t.tag,_=t.result,Mt(t,!0,e),b=t.input.charCodeAt(t.position),(m||t.line===r)&&b===58&&(f=!0,b=t.input.charCodeAt(++t.position),Mt(t,!0,e),Da(t,e,uf,!1,!0),h=t.result),d?La(t,a,p,C,_,h,r,i,s):f?a.push(La(t,null,p,C,_,h,r,i,s)):a.push(_),Mt(t,!0,e),b=t.input.charCodeAt(t.position),b===44?(n=!0,b=t.input.charCodeAt(++t.position)):n=!1}fe(t,"unexpected end of the stream within a flow collection")}function Ck(t,e){var n,r,i=Fm,s=!1,o=!1,a=e,l=0,u=!1,c,f;if(f=t.input.charCodeAt(t.position),f===124)r=!1;else if(f===62)r=!0;else return!1;for(t.kind="scalar",t.result="";f!==0;)if(f=t.input.charCodeAt(++t.position),f===43||f===45)Fm===i?i=f===43?yP:dk:fe(t,"repeat of a chomping mode identifier");else if((c=bk(f))>=0)c===0?fe(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?fe(t,"repeat of an indentation width identifier"):(a=e+c-1,o=!0);else break;if(lo(f)){do f=t.input.charCodeAt(++t.position);while(lo(f));if(f===35)do f=t.input.charCodeAt(++t.position);while(!hi(f)&&f!==0)}for(;f!==0;){for(Vm(t),t.lineIndent=0,f=t.input.charCodeAt(t.position);(!o||t.lineIndent<a)&&f===32;)t.lineIndent++,f=t.input.charCodeAt(++t.position);if(!o&&t.lineIndent>a&&(a=t.lineIndent),hi(f)){l++;continue}if(t.lineIndent<a){i===yP?t.result+=Wt.repeat(`
`,s?1+l:l):i===Fm&&s&&(t.result+=`
`);break}for(r?lo(f)?(u=!0,t.result+=Wt.repeat(`
`,s?1+l:l)):u?(u=!1,t.result+=Wt.repeat(`
`,l+1)):l===0?s&&(t.result+=" "):t.result+=Wt.repeat(`
`,l):t.result+=Wt.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,n=t.position;!hi(f)&&f!==0;)f=t.input.charCodeAt(++t.position);Ns(t,n,t.position,!1)}return!0}function AP(t,e){var n,r=t.tag,i=t.anchor,s=[],o,a=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,fe(t,"tab characters must not be used in indentation")),!(l!==45||(o=t.input.charCodeAt(t.position+1),!Mn(o))));){if(a=!0,t.position++,Mt(t,!0,-1)&&t.lineIndent<=e){s.push(null),l=t.input.charCodeAt(t.position);continue}if(n=t.line,Da(t,e,_P,!1,!0),s.push(t.result),Mt(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&l!==0)fe(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return a?(t.tag=r,t.anchor=i,t.kind="sequence",t.result=s,!0):!1}function Rk(t,e,n){var r,i,s,o,a,l,u=t.tag,c=t.anchor,f={},m=Object.create(null),d=null,p=null,_=null,C=!1,h=!1,b;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=f),b=t.input.charCodeAt(t.position);b!==0;){if(!C&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,fe(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),s=t.line,(b===63||b===58)&&Mn(r))b===63?(C&&(La(t,f,m,d,p,null,o,a,l),d=p=_=null),h=!0,C=!0,i=!0):C?(C=!1,i=!0):fe(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,b=r;else{if(o=t.line,a=t.lineStart,l=t.position,!Da(t,n,gP,!1,!0))break;if(t.line===s){for(b=t.input.charCodeAt(t.position);lo(b);)b=t.input.charCodeAt(++t.position);if(b===58)b=t.input.charCodeAt(++t.position),Mn(b)||fe(t,"a whitespace character is expected after the key-value separator within a block mapping"),C&&(La(t,f,m,d,p,null,o,a,l),d=p=_=null),h=!0,C=!1,i=!1,d=t.tag,p=t.result;else if(h)fe(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=u,t.anchor=c,!0}else if(h)fe(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=u,t.anchor=c,!0}if((t.line===s||t.lineIndent>e)&&(C&&(o=t.line,a=t.lineStart,l=t.position),Da(t,e,cf,!0,i)&&(C?p=t.result:_=t.result),C||(La(t,f,m,d,p,_,o,a,l),d=p=_=null),Mt(t,!0,-1),b=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&b!==0)fe(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return C&&La(t,f,m,d,p,null,o,a,l),h&&(t.tag=u,t.anchor=c,t.kind="mapping",t.result=f),h}function Ak(t){var e,n=!1,r=!1,i,s,o;if(o=t.input.charCodeAt(t.position),o!==33)return!1;if(t.tag!==null&&fe(t,"duplication of a tag property"),o=t.input.charCodeAt(++t.position),o===60?(n=!0,o=t.input.charCodeAt(++t.position)):o===33?(r=!0,i="!!",o=t.input.charCodeAt(++t.position)):i="!",e=t.position,n){do o=t.input.charCodeAt(++t.position);while(o!==0&&o!==62);t.position<t.length?(s=t.input.slice(e,t.position),o=t.input.charCodeAt(++t.position)):fe(t,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Mn(o);)o===33&&(r?fe(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),bP.test(i)||fe(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),o=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),gk.test(s)&&fe(t,"tag suffix cannot contain flow indicator characters")}s&&!TP.test(s)&&fe(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{fe(t,"tag name is malformed: "+s)}return n?t.tag=s:Ts.call(t.tagMap,i)?t.tag=t.tagMap[i]+s:i==="!"?t.tag="!"+s:i==="!!"?t.tag="tag:yaml.org,2002:"+s:fe(t,'undeclared tag handle "'+i+'"'),!0}function xk(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&fe(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!Mn(n)&&!Oa(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&fe(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function Ek(t){var e,n,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!Mn(r)&&!Oa(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&fe(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),Ts.call(t.anchorMap,n)||fe(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],Mt(t,!0,-1),!0}function Da(t,e,n,r,i){var s,o,a,l=1,u=!1,c=!1,f,m,d,p,_,C;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=o=a=cf===n||_P===n,r&&Mt(t,!0,-1)&&(u=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;Ak(t)||xk(t);)Mt(t,!0,-1)?(u=!0,a=s,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):a=!1;if(a&&(a=u||i),(l===1||cf===n)&&(uf===n||gP===n?_=e:_=e+1,C=t.position-t.lineStart,l===1?a&&(AP(t,C)||Rk(t,C,_))||Sk(t,_)?c=!0:(o&&Ck(t,_)||Pk(t,_)||Ik(t,_)?c=!0:Ek(t)?(c=!0,(t.tag!==null||t.anchor!==null)&&fe(t,"alias node should not have any properties")):vk(t,_,uf===n)&&(c=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(c=a&&AP(t,C))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&fe(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),f=0,m=t.implicitTypes.length;f<m;f+=1)if(p=t.implicitTypes[f],p.resolve(t.result)){t.result=p.construct(t.result),t.tag=p.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Ts.call(t.typeMap[t.kind||"fallback"],t.tag))p=t.typeMap[t.kind||"fallback"][t.tag];else for(p=null,d=t.typeMap.multi[t.kind||"fallback"],f=0,m=d.length;f<m;f+=1)if(t.tag.slice(0,d[f].tag.length)===d[f].tag){p=d[f];break}p||fe(t,"unknown tag !<"+t.tag+">"),t.result!==null&&p.kind!==t.kind&&fe(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+p.kind+'", not "'+t.kind+'"'),p.resolve(t.result,t.tag)?(t.result=p.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):fe(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||c}function wk(t){var e=t.position,n,r,i,s=!1,o;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(o=t.input.charCodeAt(t.position))!==0&&(Mt(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||o!==37));){for(s=!0,o=t.input.charCodeAt(++t.position),n=t.position;o!==0&&!Mn(o);)o=t.input.charCodeAt(++t.position);for(r=t.input.slice(n,t.position),i=[],r.length<1&&fe(t,"directive name must not be less than one character in length");o!==0;){for(;lo(o);)o=t.input.charCodeAt(++t.position);if(o===35){do o=t.input.charCodeAt(++t.position);while(o!==0&&!hi(o));break}if(hi(o))break;for(n=t.position;o!==0&&!Mn(o);)o=t.input.charCodeAt(++t.position);i.push(t.input.slice(n,t.position))}o!==0&&Vm(t),Ts.call(CP,r)?CP[r](t,r,i):ff(t,'unknown document directive "'+r+'"')}if(Mt(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,Mt(t,!0,-1)):s&&fe(t,"directives end mark is expected"),Da(t,t.lineIndent-1,cf,!1,!0),Mt(t,!0,-1),t.checkLineBreaks&&hk.test(t.input.slice(e,t.position))&&ff(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&pf(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,Mt(t,!0,-1));return}if(t.position<t.length-1)fe(t,"end of the stream or a document separator is expected");else return}function xP(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new Nk(t,e),r=t.indexOf("\0");for(r!==-1&&(n.position=r,fe(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)wk(n);return n.documents}function Ok(t,e,n){e!==null&&typeof e=="object"&&typeof n=="undefined"&&(n=e,e=null);var r=xP(t,n);if(typeof e!="function")return r;for(var i=0,s=r.length;i<s;i+=1)e(r[i])}function Lk(t,e){var n=xP(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new En("expected a single document in the stream, but found more")}}var Dk=Ok,kk=Lk,EP={loadAll:Dk,load:kk},wP=Object.prototype.toString,OP=Object.prototype.hasOwnProperty,Bm=65279,Mk=9,ql=10,Fk=13,Vk=32,qk=33,Bk=34,jm=35,jk=37,Uk=38,Gk=39,Wk=42,LP=44,Hk=45,df=58,Yk=61,Kk=62,$k=63,zk=64,DP=91,kP=93,Xk=96,MP=123,Qk=124,FP=125,hn={};hn[0]="\\0";hn[7]="\\a";hn[8]="\\b";hn[9]="\\t";hn[10]="\\n";hn[11]="\\v";hn[12]="\\f";hn[13]="\\r";hn[27]="\\e";hn[34]='\\"';hn[92]="\\\\";hn[133]="\\N";hn[160]="\\_";hn[8232]="\\L";hn[8233]="\\P";var Jk=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Zk=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function e1(t,e){var n,r,i,s,o,a,l;if(e===null)return{};for(n={},r=Object.keys(e),i=0,s=r.length;i<s;i+=1)o=r[i],a=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=t.compiledTypeMap.fallback[o],l&&OP.call(l.styleAliases,a)&&(a=l.styleAliases[a]),n[o]=a;return n}function t1(t){var e,n,r;if(e=t.toString(16).toUpperCase(),t<=255)n="x",r=2;else if(t<=65535)n="u",r=4;else if(t<=4294967295)n="U",r=8;else throw new En("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+Wt.repeat("0",r-e.length)+e}var n1=1,Bl=2;function r1(t){this.schema=t.schema||hP,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=Wt.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=e1(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?Bl:n1,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function VP(t,e){for(var n=Wt.repeat(" ",e),r=0,i=-1,s="",o,a=t.length;r<a;)i=t.indexOf(`
`,r),i===-1?(o=t.slice(r),r=a):(o=t.slice(r,i+1),r=i+1),o.length&&o!==`
`&&(s+=n),s+=o;return s}function Um(t,e){return`
`+Wt.repeat(" ",t.indent*e)}function i1(t,e){var n,r,i;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(i=t.implicitTypes[n],i.resolve(e))return!0;return!1}function mf(t){return t===Vk||t===Mk}function jl(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==Bm||65536<=t&&t<=1114111}function qP(t){return jl(t)&&t!==Bm&&t!==Fk&&t!==ql}function BP(t,e,n){var r=qP(t),i=r&&!mf(t);return(n?r:r&&t!==LP&&t!==DP&&t!==kP&&t!==MP&&t!==FP)&&t!==jm&&!(e===df&&!i)||qP(e)&&!mf(e)&&t===jm||e===df&&i}function s1(t){return jl(t)&&t!==Bm&&!mf(t)&&t!==Hk&&t!==$k&&t!==df&&t!==LP&&t!==DP&&t!==kP&&t!==MP&&t!==FP&&t!==jm&&t!==Uk&&t!==Wk&&t!==qk&&t!==Qk&&t!==Yk&&t!==Kk&&t!==Gk&&t!==Bk&&t!==jk&&t!==zk&&t!==Xk}function o1(t){return!mf(t)&&t!==df}function Ul(t,e){var n=t.charCodeAt(e),r;return n>=55296&&n<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function jP(t){var e=/^\n* /;return e.test(t)}var UP=1,Gm=2,GP=3,WP=4,ka=5;function a1(t,e,n,r,i,s,o,a){var l,u=0,c=null,f=!1,m=!1,d=r!==-1,p=-1,_=s1(Ul(t,0))&&o1(Ul(t,t.length-1));if(e||o)for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=Ul(t,l),!jl(u))return ka;_=_&&BP(u,c,a),c=u}else{for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=Ul(t,l),u===ql)f=!0,d&&(m=m||l-p-1>r&&t[p+1]!==" ",p=l);else if(!jl(u))return ka;_=_&&BP(u,c,a),c=u}m=m||d&&l-p-1>r&&t[p+1]!==" "}return!f&&!m?_&&!o&&!i(t)?UP:s===Bl?ka:Gm:n>9&&jP(t)?ka:o?s===Bl?ka:Gm:m?WP:GP}function l1(t,e,n,r,i){t.dump=function(){if(e.length===0)return t.quotingType===Bl?'""':"''";if(!t.noCompatMode&&(Jk.indexOf(e)!==-1||Zk.test(e)))return t.quotingType===Bl?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,n),o=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),a=r||t.flowLevel>-1&&n>=t.flowLevel;function l(u){return i1(t,u)}switch(a1(e,a,t.indent,o,l,t.quotingType,t.forceQuotes&&!r,i)){case UP:return e;case Gm:return"'"+e.replace(/'/g,"''")+"'";case GP:return"|"+HP(e,t.indent)+YP(VP(e,s));case WP:return">"+HP(e,t.indent)+YP(VP(u1(e,o),s));case ka:return'"'+c1(e)+'"';default:throw new En("impossible error: invalid scalar style")}}()}function HP(t,e){var n=jP(t)?String(e):"",r=t[t.length-1]===`
`,i=r&&(t[t.length-2]===`
`||t===`
`),s=i?"+":r?"":"-";return n+s+`
`}function YP(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function u1(t,e){for(var n=/(\n+)([^\n]*)/g,r=function(){var u=t.indexOf(`
`);return u=u!==-1?u:t.length,n.lastIndex=u,KP(t.slice(0,u),e)}(),i=t[0]===`
`||t[0]===" ",s,o;o=n.exec(t);){var a=o[1],l=o[2];s=l[0]===" ",r+=a+(!i&&!s&&l!==""?`
`:"")+KP(l,e),i=s}return r}function KP(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,r,i=0,s,o=0,a=0,l="";r=n.exec(t);)a=r.index,a-i>e&&(s=o>i?o:a,l+=`
`+t.slice(i,s),i=s+1),o=a;return l+=`
`,t.length-i>e&&o>i?l+=t.slice(i,o)+`
`+t.slice(o+1):l+=t.slice(i),l.slice(1)}function c1(t){for(var e="",n=0,r,i=0;i<t.length;n>=65536?i+=2:i++)n=Ul(t,i),r=hn[n],!r&&jl(n)?(e+=t[i],n>=65536&&(e+=t[i+1])):e+=r||t1(n);return e}function f1(t,e,n){var r="",i=t.tag,s,o,a;for(s=0,o=n.length;s<o;s+=1)a=n[s],t.replacer&&(a=t.replacer.call(n,String(s),a)),(Bi(t,e,a,!1,!1)||typeof a=="undefined"&&Bi(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=i,t.dump="["+r+"]"}function $P(t,e,n,r){var i="",s=t.tag,o,a,l;for(o=0,a=n.length;o<a;o+=1)l=n[o],t.replacer&&(l=t.replacer.call(n,String(o),l)),(Bi(t,e+1,l,!0,!0,!1,!0)||typeof l=="undefined"&&Bi(t,e+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=Um(t,e)),t.dump&&ql===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=s,t.dump=i||"[]"}function p1(t,e,n){var r="",i=t.tag,s=Object.keys(n),o,a,l,u,c;for(o=0,a=s.length;o<a;o+=1)c="",r!==""&&(c+=", "),t.condenseFlow&&(c+='"'),l=s[o],u=n[l],t.replacer&&(u=t.replacer.call(n,l,u)),!!Bi(t,e,l,!1,!1)&&(t.dump.length>1024&&(c+="? "),c+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),!!Bi(t,e,u,!1,!1)&&(c+=t.dump,r+=c));t.tag=i,t.dump="{"+r+"}"}function d1(t,e,n,r){var i="",s=t.tag,o=Object.keys(n),a,l,u,c,f,m;if(t.sortKeys===!0)o.sort();else if(typeof t.sortKeys=="function")o.sort(t.sortKeys);else if(t.sortKeys)throw new En("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)m="",(!r||i!=="")&&(m+=Um(t,e)),u=o[a],c=n[u],t.replacer&&(c=t.replacer.call(n,u,c)),!!Bi(t,e+1,u,!0,!0,!0)&&(f=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,f&&(t.dump&&ql===t.dump.charCodeAt(0)?m+="?":m+="? "),m+=t.dump,f&&(m+=Um(t,e)),!!Bi(t,e+1,c,!0,f)&&(t.dump&&ql===t.dump.charCodeAt(0)?m+=":":m+=": ",m+=t.dump,i+=m));t.tag=s,t.dump=i||"{}"}function zP(t,e,n){var r,i,s,o,a,l;for(i=n?t.explicitTypes:t.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof e=="object"&&e instanceof a.instanceOf)&&(!a.predicate||a.predicate(e))){if(n?a.multi&&a.representName?t.tag=a.representName(e):t.tag=a.tag:t.tag="?",a.represent){if(l=t.styleMap[a.tag]||a.defaultStyle,wP.call(a.represent)==="[object Function]")r=a.represent(e,l);else if(OP.call(a.represent,l))r=a.represent[l](e,l);else throw new En("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');t.dump=r}return!0}return!1}function Bi(t,e,n,r,i,s,o){t.tag=null,t.dump=n,zP(t,n,!1)||zP(t,n,!0);var a=wP.call(t.dump),l=r,u;r&&(r=t.flowLevel<0||t.flowLevel>e);var c=a==="[object Object]"||a==="[object Array]",f,m;if(c&&(f=t.duplicates.indexOf(n),m=f!==-1),(t.tag!==null&&t.tag!=="?"||m||t.indent!==2&&e>0)&&(i=!1),m&&t.usedDuplicates[f])t.dump="*ref_"+f;else{if(c&&m&&!t.usedDuplicates[f]&&(t.usedDuplicates[f]=!0),a==="[object Object]")r&&Object.keys(t.dump).length!==0?(d1(t,e,t.dump,i),m&&(t.dump="&ref_"+f+t.dump)):(p1(t,e,t.dump),m&&(t.dump="&ref_"+f+" "+t.dump));else if(a==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!o&&e>0?$P(t,e-1,t.dump,i):$P(t,e,t.dump,i),m&&(t.dump="&ref_"+f+t.dump)):(f1(t,e,t.dump),m&&(t.dump="&ref_"+f+" "+t.dump));else if(a==="[object String]")t.tag!=="?"&&l1(t,t.dump,e,s,l);else{if(a==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new En("unacceptable kind of an object to dump "+a)}t.tag!==null&&t.tag!=="?"&&(u=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",t.dump=u+" "+t.dump)}return!0}function m1(t,e){var n=[],r=[],i,s;for(Wm(t,n,r),i=0,s=r.length;i<s;i+=1)e.duplicates.push(n[r[i]]);e.usedDuplicates=new Array(s)}function Wm(t,e,n){var r,i,s;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(e.push(t),Array.isArray(t))for(i=0,s=t.length;i<s;i+=1)Wm(t[i],e,n);else for(r=Object.keys(t),i=0,s=r.length;i<s;i+=1)Wm(t[r[i]],e,n)}function h1(t,e){e=e||{};var n=new r1(e);n.noRefs||m1(t,n);var r=t;return n.replacer&&(r=n.replacer.call({"":r},"",r)),Bi(n,0,r,!0,!0)?n.dump+`
`:""}var g1=h1,_1={dump:g1};function Hm(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var hf=EP.load,gee=EP.loadAll,XP=_1.dump,QP=En;var _ee=Hm("safeLoad","load"),yee=Hm("safeLoadAll","loadAll"),bee=Hm("safeDump","dump");function ZP(t){let e=t.split(/\r?\n/),n=[];return e.forEach(r=>{let i=r.split("|");if(i.length==1)n.push(r);else if(i.length>1){let s=i[0];if(parseInt(s.trim()).toString()==s.trim()){let o=parseInt(s)+1;i.shift();let a=i.join("|"),l=" ".repeat(s.length-o.toString().length);n.push(l+o.toString()+"|"+a)}else n.push(r)}}),n.join(`
`)}var y1={checkDocument(t){let e=[];if(t.hasFrontMatter()){let n=t.getFrontMatter();try{hf(n,{onWarning:r=>{let i=new qt,s=new qt;i.line=r.mark.line+2,i.char=r.mark.column,s.line=r.mark.line+2,s.char=r.mark.snippet.length+r.mark.column;let o={start:i,end:s},a=new M;a.errorCode=P.LINT_INVALID_FRONT_MATTER,a.level=1,a.message=ZP(r.message),a.range=o,e.push(a)}})}catch(r){if(r instanceof QP){let i=new qt,s=new qt;i.line=r.mark.line+2,i.char=r.mark.column,s.line=r.mark.line+2,s.char=r.mark.snippet.length+r.mark.column;let o={start:i,end:s},a=new M;a.errorCode=P.LINT_INVALID_FRONT_MATTER,a.level=0,a.message=ZP(r.message),a.range=o,e.push(a)}}}return e}},eI=y1;var b1={checkDocument(t){let e=[];return t.getAllAntlersNodes().forEach(n=>{var r,i;if(n.isTagNode&&n.name!=null&&n.getTagName()=="partial"){let s=Zo(n);if(s==null)return;let o=(i=(r=ce.instance)==null?void 0:r.getStructure())==null?void 0:i.findRelativeView(s);if(typeof o=="undefined"||o==null)return;o.documentUri==t.documentUri&&n.findParentOfType(["if","elseif","else"])==null&&e.push(M.makeSyntaxError(P.LINT_POSSIBLE_PARTIAL_RECURSION,n,"Possible partial recursion detected",1))}}),e}},tI=b1;var nI=[uP,eI,tI];var T1=["dump","dd","ddd"],N1={checkNode(t){let e=t.getTagName(),n=[];return T1.includes(e)&&n.push(M.makeSyntaxError(P.LINT_DEBUG_DATA_EXPOSED,t,e+" exposes data and should be removed after debugging.",1)),t.modifiers.hasModifier("dump")&&n.push(M.makeSyntaxError(P.LINT_DEBUG_DATA_EXPOSED,t,"dump modifier exposes data and should be removed after debugging.",1)),n}},rI=N1;var v1={checkNode(t){let e=[];return t.runtimeName().includes("::")&&e.push(M.makeSyntaxError(P.LINT_DOUBLE_COLON_IN_TAG_IDENTIFIER,t,":: in tag part leads to ErrorException call_user_func() runtime exception.",1)),e}},iI=v1;var P1={checkNode(t){var i;let e=[];if(t.isClosedBy==null||t.parent==null||!(t.parent instanceof B))return e;let n=t.parent;if(n.isClosedBy==null)return e;let r=t.runtimeName();return r=="if"||r=="if:index"||r=="else"||r=="else:index"||r=="elseif"||r=="elseif:index"||r=="elseunless"||r=="elseunless:index"||((i=n.isClosedBy.startPosition)==null?void 0:i.isBefore(t.isClosedBy.endPosition))&&(e.push(M.makeSyntaxError(P.LINT_INTERLEAVED_TAG_PAIRS,t,"Closing tag cannot appear after parent closing tag.")),e.push(M.makeSyntaxError(P.LINT_INTERLEAVED_TAG_PAIRS,t.isClosedBy,"Closing tag cannot appear after parent closing tag."))),e}},gf=P1;var I1={checkNode(t){let e=[];return t.modifiers!=null&&t.modifiers.hasMixedModifierStyles&&e.push(M.makeSyntaxError(P.LINT_MIXED_MODIFIERS,t,"Mixed modifier styles is not supported",0)),e}},sI=I1;var S1={checkNode(t){let e=[];if(t.modifiers==null)return e;let n=[];if(t.modifiers.hasParameterModifiers()){let r=null;for(let i=0;i<t.modifiers.parameterModifiers.length;i++){let s=t.modifiers.parameterModifiers[i];if(r==null){r=s;continue}if(r!=null&&r.modifier!=null&&s.modifier!=null){if(r.modifier.returnsType.includes("*")||s.modifier.acceptsType.includes("*"))continue;{let o=r.modifier.returnsType,a="void",l="void",u=s.modifier.acceptsType.some(c=>o.includes(c));if(o.length>0&&(a=o[o.length-1]),s.modifier.acceptsType.length>0&&(l=s.modifier.acceptsType[0]),!u){e.push(M.makeSyntaxError(P.LINT_MODIFIER_UNEXPECTED_TYPE,s,"Unexpected type supplied to modifier "+s.name+". Expected "+l+" got "+a+".",1));break}}}}}if(t.modifiers.hasShorthandModifiers()&&t.modifierChain!=null){let r=null;for(let i=0;i<t.modifierChain.modifierChain.length;i++){let s=t.modifierChain.modifierChain[i];if(r==null){r=s;continue}if(r!=null&&r.modifier!=null&&s.modifier!=null){if(r.modifier.returnsType.includes("*")||s.modifier.acceptsType.includes("*"))continue;{let o=r.modifier.returnsType,a="void",l="void",u=s.modifier.acceptsType.some(c=>o.includes(c));if(o.length>0&&(a=o[o.length-1]),s.modifier.acceptsType.length>0&&(l=s.modifier.acceptsType[0]),!u){s.refId!=null&&!n.includes(s.refId)&&(e.push(M.makeSyntaxError(P.LINT_MODIFIER_UNEXPECTED_TYPE,s,"Unexpected type supplied to modifier "+s.name+". Expected "+l+" got "+a+".",1)),n.push(s.refId));break}}}}}if(t.runtimeNodes!=null&&t.runtimeNodes.length>0)for(let r=0;r<t.runtimeNodes.length;r++){let i=t.runtimeNodes[r],s=null;if(i.modifierChain!=null)for(let o=0;o<i.modifierChain.modifierChain.length;o++){let a=i.modifierChain.modifierChain[o];if(s==null){s=a;continue}if(s!=null&&s.modifier!=null&&a.modifier!=null){if(s.modifier.returnsType.includes("*")||a.modifier.acceptsType.includes("*"))continue;{let l=s.modifier.returnsType,u="void",c="void",f=a.modifier.acceptsType.some(m=>l.includes(m));if(l.length>0&&(u=l[l.length-1]),a.modifier.acceptsType.length>0&&(c=a.modifier.acceptsType[0]),!f){a.refId!=null&&n.includes(a.refId)==!1&&(e.push(M.makeSyntaxError(P.LINT_MODIFIER_UNEXPECTED_TYPE,a,"Unexpected type supplied to modifier "+a.name+". Expected "+c+" got "+u+".",1)),n.push(a.refId));break}}}}}return e}},oI=S1;var C1={checkNode(t){var n,r;let e=[];if(t.isTagNode&&t.name!=null&&t.getTagName()=="partial"){let i=Zo(t);if(i==null)return e;let s=(r=(n=ce.instance)==null?void 0:n.getStructure())==null?void 0:r.findRelativeView(i);if(typeof s=="undefined"||s==null)return e;s.injectsParameters.length>0&&s.injectsParameters.forEach(o=>{o.isRequired&&!t.hasParameter(o.name)&&e.push(M.makeSyntaxError(P.LINT_MISSING_REQUIRED_PARAMETER,t,"Missing required parameter: "+o.name,0))})}return e}},aI=C1;var R1={checkNode(t){let e=[];return t.isTagNode&&t.name!=null&&t.getTagName()=="relate"&&e.push(M.makeSyntaxError(P.LINT_REMOVE_RELATE_TAG,t,"The `relate` tag is not necessary here, and can be removed.",1)),e}},lI=R1;var A1={checkNode(t){let e=[];if(qi.languageVersion=="runtime")return[];if(t.isClosedBy!=null&&t.modifierChain!=null){let n=t.content.trim(),r=t.isClosedBy.content.trim(),i="/"+n;r!=i&&(e.push(M.makeSyntaxError(P.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH,t,"Closing tags must match exactly when using shorthand modifiers in tag pairs.",0)),e.push(M.makeSyntaxError(P.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH,t.isClosedBy,'Closing tags must match exactly when using shorthand modifiers in tag pairs. Expecting: "'+i+'".',0)))}return e}},uI=A1;var CI=Q(uh()),cM={checkNode(t){var i,s,o;let e=[];if(t.isOpenedBy!=null||!((i=ce.instance)==null?void 0:i.hasStructure()))return e;let n=ce.instance.getStructure().getStatamicVersion();if(n==null||n.trim().length==0||!((s=Ie.instance)==null?void 0:s.isKnownTag(t.runtimeName())))return e;let r=(o=Ie.instance)==null?void 0:o.findTag(t.runtimeName());if((r==null?void 0:r.introducedIn)==null)return e;try{CI.lt(n,r.introducedIn)&&e.push(M.makeSyntaxError(P.LINT_VERSION_NOT_COMPATIBLE,t,t.runtimeName()+" requires at least Statamic "+r.introducedIn+". Current project version: "+n,1))}catch{}return e}},RI=cM;var fM={checkNode(t){let e=[];return t.isTagNode&&t.getTagName()=="set"&&e.push(M.makeSyntaxError(P.LINT_SET_PRODUCES_RUNTIME_ERROR,t,'`set` tag will produce "array_merge(): Expected parameter 1 to be an array, object given" runtime exception.')),e}},AI=fM;var pM=[rI,sI,oI,iI,lI,AI,uI,RI,gf,aI],xI=pM;var Ps=class{constructor(){this.fileDiagnostics=new Map;this.handlers=[];this.docHandlers=[]}registerHandler(e){this.handlers.push(e)}registerDocumentHandler(e){this.docHandlers.push(e)}registerDocumentHandlers(e){for(let n=0;n<e.length;n++)this.registerDocumentHandler(e[n])}registerHandlers(e){for(let n=0;n<e.length;n++)this.registerHandler(e[n])}registerCoreHandlers(){this.registerHandlers(xI),this.registerDocumentHandlers(nI)}hasDiagnosticsIssues(e){return this.fileDiagnostics.has(e)==!1?!1:this.fileDiagnostics.get(e).length>0}registerDiagnostics(e,n){this.fileDiagnostics.set(e,n)}clearIssues(e){this.fileDiagnostics.set(e,[])}getDiagnostics(e){return this.hasDiagnosticsIssues(e)?this.fileDiagnostics.get(e):[]}checkDocument(e){let n=[];return this.docHandlers.forEach(r=>{r.checkDocument(e).forEach(i=>{n.push(i)})}),n}checkNode(e){let n=[];return e.isComment||this.handlers.forEach(r=>{r.checkNode(e).forEach(i=>{n.push(i)})}),n}getAllDiagnostics(){let e=[];return this.fileDiagnostics.forEach((n,r)=>{for(let i=0;i<n.length;i++)e.push(n[i])}),e}};Ps.instance=null;(typeof Ps.instance=="undefined"||Ps.instance==null)&&(Ps.instance=new Ps,Ps.instance.registerCoreHandlers());var Zr=Ps;function EI(t,e){let n=decodeURIComponent(t);Se.createOrUpdate(n,e)}function ch(t){let e=decodeURIComponent(t.uri);Se.createOrUpdate(decodeURIComponent(t.uri),t.getText()),Jr.set(e,t)}async function fh(t,e){var s;let n=decodeURIComponent(t.uri);Se.createOrUpdate(n,t.getText());let r=0,i=[];if(Se.hasDocument(n)){let o=Se.getDocument(n),a=o.errors.all();lf(o.errors.all()).forEach(l=>{i.push(l)}),((s=Zr.instance)==null?void 0:s.hasDiagnosticsIssues(n))&&lf(Zr.instance.getDiagnostics(n)).forEach(l=>{i.push(l)})}e.sendDiagnostics({uri:t.uri,diagnostics:i}),dM(t.uri,e)}function dM(t,e){var n,r,i;if((n=ce.instance)==null?void 0:n.hasStructure()){let s=ce.instance.getStructure().getViews();for(let o=0;o<s.length;o++)if(s[o].documentUri!=t){let a=decodeURIComponent(s[o].documentUri);if((r=Zr.instance)==null?void 0:r.hasDiagnosticsIssues(a)){let l=[],u=(i=Zr.instance)==null?void 0:i.getDiagnostics(a);lf(u).forEach(c=>{l.push(c)}),e.sendDiagnostics({uri:s[o].originalDocumentUri,diagnostics:l})}}}}var LS=Q(pn());var Kl=null;function ph(t){Kl=t}var dh=class{constructor(){this.htmlFormatter=null;this.yamlFormatter=null;this.phpFormatter=null;this.preFormatter=null;this.transformOptions=null}withTransformOptions(e){return this.transformOptions=e,this}withPreFormatter(e){return this.preFormatter=e,this}withHtmlFormatter(e){return this.htmlFormatter=e,this}withYamlFormatter(e){return this.yamlFormatter=e,this}withPhpFormatter(e){return this.phpFormatter=e,this}formatText(e){let n=new mt;return n.getDocumentParser().withChildDocuments(!0),n.loadString(e),this.formatDocument(n)}formatDocument(e){if(!e.isFormattingEnabled())return e.getOriginalContent();if(this.preFormatter!=null){let s=this.preFormatter(e);if(s!=null)return s}let n=e.getAllAntlersNodes();for(let s=0;s<n.length;s++)if(gf.checkNode(n[s]).length>0)return e.getOriginalContent();if(this.htmlFormatter==null||e.isValid()==!1)return e.getOriginalContent();e.transform().withHtmlFormatter(this.htmlFormatter).withPhpFormatter(this.phpFormatter).withYamlFormatter(this.yamlFormatter),this.transformOptions!=null&&e.transform().withOptions(this.transformOptions);let r=e.transform().toStructure(),i=this.htmlFormatter(r);return e.transform().fromStructure(i)}};var mh=class{static formatFrontMatter(e){try{let n=hf(e,{}),r=XP(n,{indent:2,noArrayIndent:!1,condenseFlow:!1,forceQuotes:!0,noRefs:!0,skipInvalid:!0});return r.endsWith(`
`)&&(r=r.trimEnd()),r}catch{return e}}};function Fn(t,e,n){if(t&&t.hasOwnProperty(e)){let r=t[e];if(r!==null)return r}return n}function wI(t,e,n){let r=Fn(t,e,null);return typeof r=="string"?r.length>0?r.split(",").map(i=>i.trim().toLowerCase()):[]:n}var _F=OS().html,su=class extends dh{constructor(e){super();this.options=e,this.withHtmlFormatter(this.formatHtml).withYamlFormatter(mh.formatFrontMatter).withTransformOptions({endNewline:Fn(e.htmlOptions,"endWithNewline",!1),maxAntlersStatementsPerLine:e.maxStatementsPerLine,newlinesAfterFrontMatter:1,tabSize:e.tabSize})}formatHtml(e){var n;return _F(e,{indent_size:this.options.tabSize,indent_char:this.options.insertSpaces?" ":"	",indent_empty_lines:Fn(this.options.htmlOptions,"indentEmptyLines",!1),wrap_line_length:Fn(this.options.htmlOptions,"wrapLineLength",120),unformatted:(n=wI(this.options.htmlOptions,"unformatted",[]))!=null?n:[],content_unformatted:[],indent_inner_html:Fn(this.options.htmlOptions,"indentInnerHtml",!1),preserve_newlines:Fn(this.options.htmlOptions,"preserveNewLines",!0),max_preserve_newlines:Fn(this.options.htmlOptions,"maxPreserveNewLines",32786),indent_handlebars:Fn(this.options.htmlOptions,"indentHandlebars",!1),end_with_newline:Fn(this.options.htmlOptions,"endWithNewline",!1),extra_liners:[],wrap_attributes:Fn(this.options.htmlOptions,"wrapAttributes","auto"),wrap_attributes_indent_size:Fn(this.options.htmlOptions,"wrapAttributesIndentSize",void 0),eol:`
`,indent_scripts:Fn(this.options.htmlOptions,"indentScripts","normal"),unformatted_content_delimiter:Fn(this.options.htmlOptions,"unformattedContentDelimiter","")})}};function DS(t){let e=Ff(),n=decodeURIComponent(t.textDocument.uri),r=Kl.format;if(e.formatterIgnoreExtensions.length>0){for(let i=0;i<e.formatterIgnoreExtensions.length;i++)if(n.toLowerCase().endsWith(e.formatterIgnoreExtensions[i].toLowerCase()))return null}if(Se.hasDocument(n)&&Jr.has(n)){let i=Jr.get(n),s=i.getText(),o=mt.fromText(s),a={htmlOptions:r,formatFrontMatter:e.formatFrontMatter,insertSpaces:t.options.insertSpaces,tabSize:t.options.tabSize,maxStatementsPerLine:3,formatExtensions:[]},l=new su(a),u=l.formatDocument(o),c=i.positionAt(s.length);return[{range:{start:LS.Position.create(0,0),end:c},newText:u}]}return null}var kS=Q(pn());var yF={activeSignature:null,activeParameter:null,signatures:[]};function MS(t){var r;let e=decodeURIComponent(t.textDocument.uri),n=kn(t.position,e);if(n!=null&&n.context!=null&&n.context.modifierContext!=null&&((r=Me.instance)==null?void 0:r.hasModifier(n.context.modifierContext.name))){let i=n.context.modifierContext.name,s=Me.instance.getModifier(i),o=[];s!=null&&s.parameters.forEach(l=>{o.push({label:l.name,documentation:l.description})});let a=n.context.modifierContext.activeValueIndex;return a>o.length&&(a=o.length-1),(a<0||o.length==0)&&(a=0),{signatures:[{label:s.name,documentation:{kind:kS.MarkupKind.Markdown,value:s.description},parameters:o,activeParameter:a}],activeParameter:a,activeSignature:0}}return yF}var go=Q(ot());var Mh=class{static getTypedHeader(e,n){let r="";return n.length>0&&(r=n.join(", ")),"**"+e+"** `"+r+"`  \n"}static formatParameterHover(e){let n=this.getTypedHeader(e.name,e.expectsTypes);if(n+=e.description,e.documentationLink!=null&&e.documentationLink.trim().length>0){n+=`  

`;let r="Documentation Reference]";e.docLinkName!=null&&e.docLinkName.trim().length>0&&(r=e.docLinkName.trim()),n+="["+r+"]("+e.documentationLink+")"}return{contents:{kind:go.MarkupKind.Markdown,value:n}}}static formatModifierHover(e){let n=this.getTypedHeader(e.name,e.acceptsType),r="";if(e.parameters.length>0){let s=[];e.parameters.forEach(o=>{s.push("$"+o.name)}),r=s.join(", ")}let i="";if(e.returnsType.length==1)i=e.returnsType[0];else{let s=[];e.returnsType.forEach(o=>{s.push(o)}),i=s.join(", ")}return n+=e.description+`
`,n+="```js\n",n+="function "+e.name+"("+r+"):"+i,n+="\n```",e.docLink!=null&&e.docLink.trim().length>0&&(n+=`  

`,n+="[Documentation Reference]("+e.docLink+")"),{contents:{kind:go.MarkupKind.Markdown,value:n}}}static formatBlueprintHover(e,n){let r="";return e.displayName!=null&&e.displayName.trim().length>0?r="**"+e.displayName+"** ("+e.name+`)

`:r="**"+e.name+`**

`,e.instructionText!=null&&(r+=e.instructionText+`

`),r+="**Blueprint**: "+e.blueprintName+`

`,r+="**Type**: "+e.type,e.maxItems!=null&&(r+=`

**Max Items**: `+e.maxItems),n!=null&&(r+=`

**From**: `+n.runtimeName()),{contents:{kind:go.MarkupKind.Markdown,value:r}}}static formatScopeVariableHover(e){if(e.sourceField!=null)return this.formatBlueprintHover(e.sourceField,e.introducedBy);let n="**"+e.name+`**

`;return n+="**Type**: "+e.dataType,e.introducedBy!=null&&(n+=`
**From**: `+e.introducedBy.runtimeName()),{contents:{kind:go.MarkupKind.Markdown,value:n}}}static getHover(e){var r,i,s,o,a,l,u,c,f;if(e==null||e.nodesInScope.length==0)return null;let n=e.nodesInScope[e.nodesInScope.length-1];if(e.context!=null&&e.context.node!=null&&(n=e.context.node),n!=null){if((r=Ie.instance)==null?void 0:r.isKnownTag(n.runtimeName())){let _=(i=Ie.instance)==null?void 0:i.findTag(n.runtimeName());if(e.context!=null&&e.context.isCursorInIdentifier&&typeof(_==null?void 0:_.resolveDocumentation)!="undefined"){let C=_.resolveDocumentation(e);if(C.trim().length>0)return{contents:{kind:go.MarkupKind.Markdown,value:C},range:{start:ln(n.startPosition),end:ln(n.endPosition)}}}if(_!=null&&((o=(s=e.context)==null?void 0:s.parameterContext)==null?void 0:o.parameter)!=null){let C=e.context.parameterContext.parameter,h=Ie.instance.getParameter(_.tagName,C.name);if(h!=null){if(typeof h.providesDocumentation!="undefined"){let b=h.providesDocumentation(e);if(b.trim().length>0)return{contents:{kind:go.MarkupKind.Markdown,value:b},range:{start:ln(n.startPosition),end:ln(n.endPosition)}}}return this.formatParameterHover(h)}else if(C.isModifierParameter&&C.modifier!=null)return this.formatModifierHover(C.modifier)}}if(((a=e.context)==null?void 0:a.parameterContext)!=null&&((u=(l=e.context)==null?void 0:l.parameterContext.parameter)==null?void 0:u.modifier)!=null)return this.formatModifierHover(e.context.parameterContext.parameter.modifier);if(((c=e.context)==null?void 0:c.modifierContext)!=null){let _=(f=Me.instance)==null?void 0:f.getModifier(e.context.modifierContext.name);if(_!=null)return this.formatModifierHover(_)}let m=e.position.line+1,d=e.position.character+1,p=e.antlersDocument.cursor.position(m,d);return n.scopeVariable!=null&&p!=null&&p.isWithin(n.startPosition,n.endPosition)?this.formatScopeVariableHover(n.scopeVariable):null}return null}};function FS(t){var r;if(((r=ce.instance)==null?void 0:r.hasStructure())==!1)return null;let e=decodeURIComponent(t.textDocument.uri);if(Se.hasDocument(e)==!1)return null;let n=kn(t.position,e);return Mh.getHover(n)}var Fh=class{static findLocations(e,n){if(e==null||e.nodesInScope.length==0)return null;let r=e.nodesInScope[e.nodesInScope.length-1];if(e.context!=null&&e.context.node!=null&&(r=e.context.node),r!=null&&r.scopeVariable!=null&&r.scopeVariable.introducedBy!=null){let i=[];return i.push({uri:n.textDocument.uri,range:{start:ln(r.scopeVariable.introducedBy.startPosition),end:ln(r.scopeVariable.introducedBy.endPosition)}}),i}return null}};function VS(t){var r;if(((r=ce.instance)==null?void 0:r.hasStructure())==!1)return null;let e=decodeURIComponent(t.textDocument.uri);if(Se.hasDocument(e)==!1)return null;let n=kn(t.position,e);return Fh.findLocations(n,t)}var qS=Q(nn());var Vf=new Map,qf=new Map;function Vh(){let t={types:["comment","string","keyword","number","regexp","operator","namespace","type","struct","class","interface","enum","typeParameter","function","method","macro","variable","parameter","property","label","antlersAttribute"],modifiers:["declaration","documentation","readonly","static","abstract","deprecated","modification","async"]};return t.types.forEach((e,n)=>Vf.set(e,n)),t.modifiers.forEach((e,n)=>qf.set(e,n)),{legend:t,async getSemanticTokens(e,n){let r=decodeURIComponent(e.uri),i=new qS.SemanticTokensBuilder,s=[];if(Se.hasDocument(r)){let o=Se.getDocument(r);o.nodes.getAllRuntimeNodes().forEach(d=>{d instanceof jt&&s.push(d)});let l=new Map;s.forEach(d=>{var p;d.startPosition!=null&&(l.has(d.startPosition.line)||l.set(d.startPosition.line,[]),(p=l.get(d.startPosition.line))==null||p.push(d))});let u=[];Array.from(l.keys()).sort((d,p)=>d-p).forEach(d=>{l.get(d).sort((C,h)=>{var b,g,N,S;return((g=(b=C.startPosition)==null?void 0:b.char)!=null?g:0)-((S=(N=h.startPosition)==null?void 0:N.char)!=null?S:0)}).forEach(C=>{u.push(C)})}),u.forEach(d=>{d instanceof jt&&d.startPosition!=null&&d.endPosition!=null&&i.push(d.startPosition.line-1,d.startPosition.char,d.endPosition.char-d.startPosition.char,jS("function"),BS([]))}),o.nodes.getAllParameterNodes().forEach(d=>{d.namePosition!=null&&d.namePosition.start!=null&&d.namePosition.end!=null&&i.push(d.namePosition.start.line-1,d.namePosition.start.char-1,d.namePosition.end.char-d.namePosition.start.char,jS("antlersAttribute"),BS([]))})}return i.build().data}}}function BS(t){let e=0;for(let n=0;n<t.length;n++){let r=t[n];qf.has(r)?e=e|1<<qf.get(r):r==="notInLegend"&&(e=e|1<<qf.size+2)}return e}function jS(t){return Vf.has(t)?Vf.get(t):t==="notInLegend"?Vf.size+2:0}var Bf=Q(nn());function US(t){let e=[];return t.forEach(n=>{if(n.isComment||n.isClosingTag&&!n.isConditionNode||n.isConditionNode&&n.name!=null&&n.isClosingTag&&(n.name.name=="if"||n.name.name=="unless"))return;let r=ao(n),i=[];if(n.children.length>0){let u=n.getStructuralChildren();u.length>0&&(i=US(u))}let s=Bf.SymbolKind.Field;n.isTagNode&&(s=Bf.SymbolKind.Class);let o=n.getNameContent().trim(),a=n.getContent().trim(),l=o+" "+a;o==a&&(l=a),l=n.sourceContent,n.name!=null&&n.name.name=="partial"&&(s=Bf.SymbolKind.File),e.push({range:r,kind:s,name:l,selectionRange:r,children:i})}),e}function GS(t){let e=decodeURIComponent(t.textDocument.uri);if(Se.hasDocument(e)){let n=Se.getDocument(e),r=n.nodes.getStructuralNodes();return US(r)}return[]}var qh=class{static getDocumentLinks(e){var r,i,s;let n=[];if((r=ce.instance)==null?void 0:r.hasStructure()){let o=(s=(i=xr.instance)==null?void 0:i.getPartialReferences(e))!=null?s:[];for(let a=0;a<o.length;a++){let l=o[a];if(l.hasMethodPart()){let u=ce.instance.getStructure().findRelativeView(l.getMethodNameValue());if(u!=null){let c=ln(l.nameEndsOn);n.push({range:{start:ln(l.startPosition),end:{character:c.character-2,line:c.line}},tooltip:"Partial: "+u.displayName,target:decodeURIComponent(u.documentUri)})}}}}return n}};var Zt=Q(require("path")),Vn=Q(require("fs")),gC=require("path");var yi=Q(require("fs")),WS=Q(uh());function bF(t){let e=JSON.parse(yi.readFileSync(t,{encoding:"utf8"}));return typeof e.extra!="undefined"&&typeof e.extra.statamic!="undefined"}var Bh=class{static getInstalledPackages(e,n,r){let i=[];if(yi.existsSync(e)){let s=JSON.parse(yi.readFileSync(e,{encoding:"utf8"}));if(typeof s!="undefined"&&typeof s.packages!="undefined")for(let o=0;o<s.packages.length;o++){let a=s.packages[o];if(typeof a.name!="undefined"&&typeof a.version!="undefined"){let l=r+Er(a.name,"/")+"/composer.json",u=r+Er(a.name,"/")+"/.antlers-ls/",c=!1;if(typeof a.dist!="undefined"){let p=a.dist;typeof p.type!="undefined"&&typeof p.url!="undefined"&&p.type==="path"&&(l=n+Er(a.dist.url,"/")+"/composer.json",u=r+Er(a.name,"/")+"/.antlers-ls/")}let f=null;if(yi.existsSync(l)&&(c=bF(l),c&&yi.existsSync(u))){f={fieldtypesFile:null,modifiersFile:null,tagsFile:null};let p=u+"tags.json",_=u+"modifiers.json",C=u+"types.json";yi.existsSync(p)&&(f.tagsFile=p),yi.existsSync(_)&&(f.modifiersFile=_),yi.existsSync(C)&&(f.fieldtypesFile=C)}let m=ar(a.version,"v"),d=WS.clean(m);d!=null&&(m=d),i.push({name:a.name,version:m,vendorPath:l,isStatamicAddon:c,antlersExtension:f})}}}return i}};var HS=Q(require("path"));function jh(t){let e=HS.resolve(t).replace(/\\/g,"/");return e[0]!=="/"&&(e="/"+e),encodeURI("file://"+e)}function tr(t){return!t.toLowerCase().endsWith(".gitkeep")}var YS=Q(mi()),KS=Q(require("fs"));function ou(t,e,n,r,i){let s=[],o=[];for(let a of Object.keys(t[n])){let l=t[n][a],u="",c="",f="",m="",d=null,p=null,_=null;if(typeof l.prefix!="undefined"&&l.prefix!==null&&(m=l.prefix),typeof l.import!="undefined"&&i.has(l.import)){let C=i.get(l.import);for(let h=0;h<C.length;h++)o.includes(C[h].handle)==!1&&(s.push(ud(C[h],m)),o.push(C[h].handle));continue}if(typeof l.import!="undefined"&&(_=l.import),typeof l.field!="undefined"&&(typeof l.field.type!="undefined"&&(u=l.field.type),typeof l.field.display!="undefined"&&(c=l.field.display),typeof l.field.instructions!="undefined"&&(f=l.field.instructions),typeof l.field.max_items!="undefined"&&(d=l.field.max_items),u=ub(u,l,d),lb.includes(u)&&typeof l.field.sets!="undefined")){p=[];for(let C of Object.keys(l.field.sets)){let h=l.field.sets[C],b=ou(h,e,"fields","set:"+C,i),g="";typeof h.display!="undefined"&&(g=h.display),p.push({handle:C,displayName:g,fields:b})}}s.push({blueprintName:e,name:l.handle,type:u,displayName:c,instructionText:f,maxItems:d,refFieldSetField:null,sets:p,import:_})}return s}function _o(t,e,n){let r=KS.readFileSync(t,{encoding:"utf8"}),i=YS.parse(r),s=i.sections,o=[];if(typeof s!="undefined")for(let a of Object.keys(s)){let l=s[a];if(typeof l.fields!="undefined"){let u=ou(l,e,"fields",e,n);u.length>0&&(o=o.concat(u))}}else if(typeof i.fields!="undefined"){let a=ou(i,e,"fields",e,n);a.length>0&&(o=o.concat(a))}return o}var $S=Q(mi()),zS=Q(require("fs"));function XS(t,e){let n=zS.readFileSync(t,{encoding:"utf8"}),r=$S.parse(n);if(typeof r=="undefined"||r===null)return[];let i=[];if(typeof r.fields!="undefined")for(let s of Object.keys(r.fields)){let o=r.fields[s],a=o.handle,l="",u="",c="",f=null,m=null,d=null;if(typeof o.import!="undefined"&&(d=o.import),typeof o.field!="undefined"&&(typeof o.field.display!="undefined"&&(l=o.field.display),typeof o.field.type!="undefined"&&(c=o.field.type),typeof o.field.instructions!="undefined"&&(u=o.field.instructions),typeof o.field.max_items!="undefined"&&(f=o.field.max_items),typeof o.field.sets!="undefined")){m=[];for(let p of Object.keys(o.field.sets)){let _=o.field.sets[p],C=ou(_,e,"fields","set:"+p,new Map),h="";typeof _.display!="undefined"&&(h=_.display),m.push({handle:p,displayName:h,fields:C})}}i.push({handle:a,instructionText:u,name:l,type:c,maxItems:f,sets:m,import:d})}return i}var QS=Q(require("path")),JS=Q(require("fs")),ZS=Q(mi());function eC(t){let e=QS.basename(t).split(".").slice(0,-1).join("."),n=e;try{let r=JS.readFileSync(t,{encoding:"utf8"}),i=ZS.parse(r);typeof i.title!="undefined"&&i.title!==null&&(n=i.title)}catch(r){console.error(r)}return{handle:e,title:n}}var tC=Q(require("path")),nC=Q(require("fs")),rC=Q(mi());function iC(t){let e=tC.basename(t).split(".").slice(0,-1).join("."),n=e,r="";try{let i=nC.readFileSync(t,{encoding:"utf8"}),s=rC.parse(i);typeof s!="undefined"&&s!==null&&(typeof s.title!="undefined"&&s.title!==null&&(n=s.title),typeof s.disk!="undefined"&&s.disk!==null&&(r=s.disk))}catch(i){console.error(i)}return{handle:e,title:n,diskName:r}}var sC=Q(require("path")),oC=Q(require("fs")),aC=Q(mi());function lC(t){let e=sC.basename(t).split(".").slice(0,-1).join("."),n=oC.readFileSync(t,{encoding:"utf8"}),r="",i="",s="",o=!1,a=[],l=null,u=null,c=[];try{let f=aC.parse(n);if(typeof f!="undefined"&&f!==null){if(typeof f.title!="undefined"&&f.title!==null&&(r=f.title),typeof f.inject!="undefined"&&f.inject!==null){let m=Object.keys(f.inject);for(let d=0;d<m.length;d++){let p=m[d];p=="view_model"?u=f.inject.view_model:c.push(p)}}if(typeof f.template!="undefined"&&f.template!==null&&(i=f.template),typeof f.layout!="undefined"&&f.layout!==null&&(s=f.layout),typeof f.taxonomies!="undefined"&&f.taxonomies!==null&&(a=Object.keys(f.taxonomies)),typeof f.structure!="undefined"&&f.structure!==null){o=!0;let m=f.structure,d=-1,p=!1;typeof m.root!="undefined"&&m.root!==null&&(p=m.root),typeof m.max_depth!="undefined"&&m.max_depth!==null&&(d=m.max_depth),l={root:p,maxDepth:d}}}}catch(f){console.error(f)}return{handle:e,title:r,template:i,layout:s,taxonomies:a,isStructure:o,structure:l,viewModel:u,injectFields:c}}var Uh=Q(require("fs")),Gh=Q(mi());function uC(t){let e=[],n=Uh.readFileSync(t,{encoding:"utf8"});try{let r=Gh.parse(n);if(typeof r=="undefined"||r===null)return[];let i=Object.keys(r);for(let s=0;s<i.length;s++){let o=i[s],a=r[o],l=o;typeof a!="undefined"&&a!==null&&typeof a.title!="undefined"&&a.title!==null&&(l=a.title),e.push({handle:o,title:l})}}catch(r){console.error(r)}return e}function cC(t){let e=[],n=Uh.readFileSync(t,{encoding:"utf8"});try{let r=Gh.parse(n);if(typeof r=="undefined"||r===null)return[];let i=Object.keys(r);for(let s=0;s<i.length;s++){let o=i[s],a=r[o],l=o;typeof a!="undefined"&&a!==null&&typeof a.title!="undefined"&&a.title!==null&&(l=a.title),e.push({handle:o,title:l})}}catch(r){console.error(r)}return e}var fC=Q(require("fs")),pC=Q(mi());function dC(t){var r,i,s,o;let e=fC.readFileSync(t,{encoding:"utf8"}),n=[];try{let a=pC.parse(e);if(typeof a=="undefined"||a===null)return[];let l=Object.keys(a);for(let u=0;u<l.length;u++){let c=l[u],f=a[c],m=[],d="";if(typeof f!="undefined"&&f!==null){let p=Object.keys(f);for(let _=0;_<p.length;_++){let C=p[_],h=(i=(r=Me.instance)==null?void 0:r.getModifier(C))!=null?i:null,b=!1,g="";h!=null?(b=!0,g=(o=(s=Me.instance)==null?void 0:s.getProbableReturnType(h,!1))!=null?o:"",d=g):d="",m.push({hasReference:b,manifestsType:g,name:C,ref:h})}}n.push({name:c,manifestsType:d,modifiers:m})}}catch{}return n}var NF=Wh();function Wi(t){return t.split("\\").join("/")}function hC(t){let e=NF(decodeURIComponent(t));return Wi(e)}function Hh(t,e,n){return{blueprintName:t,displayName:"",import:null,instructionText:"",maxItems:null,name:e,refFieldSetField:null,sets:null,type:n}}var Yh=class{constructor(e,n){this.isMocked=!1;this.rootPath="";this.fieldsetsPath="";this.viewsPath="";this.collectionBlueprintsPath="";this.formBlueprintsPath="";this.globalBlueprintsPath="";this.miscBlueprintsPath="";this.taxonomiesBlueprintsPath="";this.globalFiles=[];this.blueprintFiles=[];this.collectionNames=[];this.collections=new Map;this.fieldsets=new Map;this.forms=new Map;this.globals=new Map;this.taxonomies=new Map;this.fields=new Map;this.miscFields=new Map;this.blueprintRef=new Map;this.blueprintCollectionRef=new Map;this.templates=[];this.views=[];this.partialCache=[];this.partialViewNames=[];this.taxonomyNames=[];this.hasMacroFile=!1;this.macroFilePath="";this.collectionQueryScopes=[];this.taxonomyTerms=new Map;this.assets=new Map;this.userGroups=new Map;this.userRoles=new Map;this.navigationMenus=new Map;this.viewMap=new Map;this.routeNames=[];this.translationKeys=[];this.uniqueFormNames=[];this.uniquePartialViewNames=[];this.uniqueCollectionNames=[];this.uniqueTaxonomyNames=[];this.uniqueUserGroups=[];this.uniqueUserRoles=[];this.uniqueGlobalSettingNames=[];this.uniqueNavigationNames=[];this.uniqueAssetNames=[];this.publicAssets=[];this.packageMapping=new Map;this.statamicAddonMapping=new Map;this.blueprintFieldReference=[];this.baseResourcePath=n,this.sourceStructure=e,this.isMocked=e.isMocked,this.rootPath=e.rootPath,this.fieldsetsPath=e.fieldsetsPath,this.viewsPath=e.viewsPath,this.collectionBlueprintsPath=e.collectionBlueprintsPath,this.formBlueprintsPath=e.formBlueprintsPath,this.globalBlueprintsPath=e.globalBlueprintsPath,this.miscBlueprintsPath=e.miscBlueprintsPath,this.taxonomiesBlueprintsPath=e.taxonomiesBlueprintsPath,this.globalFiles=e.globalFiles,this.blueprintFiles=e.blueprintFiles,this.collectionNames=e.collectionNames,this.collections=e.collections,this.assets=e.assets,this.fieldsets=e.fieldsets,this.forms=e.forms,this.globals=e.globals,this.taxonomies=e.taxonomies,this.fields=e.fields,this.miscFields=e.miscFields,this.templates=e.templates,this.views=e.views,this.partialCache=e.partialCache,this.partialViewNames=e.partialViewNames,this.taxonomyNames=e.taxonomyNames,this.macroFilePath=e.macroFilePath,this.hasMacroFile=e.hasMacrosFile,this.collectionQueryScopes=e.collectionScopes,this.taxonomyTerms=e.taxonomyTerms,this.navigationMenus=e.navigationMenus,this.buildDetails(),typeof this.sourceStructure.restoreProperties!="undefined"&&this.sourceStructure.restoreProperties!=null&&(this.assets=this.sourceStructure.restoreProperties.assets,this.blueprintCollectionRef=this.sourceStructure.restoreProperties.blueprintCollectionRef,this.blueprintFieldReference=this.sourceStructure.restoreProperties.blueprintFieldReference,this.blueprintFiles=this.sourceStructure.restoreProperties.blueprintFiles,this.blueprintRef=this.sourceStructure.restoreProperties.blueprintRef,this.collectionNames=this.sourceStructure.restoreProperties.collectionNames,this.collectionQueryScopes=this.sourceStructure.restoreProperties.collectionQueryScopes,this.collections=this.sourceStructure.restoreProperties.collections,this.fields=this.sourceStructure.restoreProperties.fields,this.fieldsets=this.sourceStructure.restoreProperties.fieldsets,this.forms=this.sourceStructure.restoreProperties.forms,this.globalFiles=this.sourceStructure.restoreProperties.globalFiles,this.globals=this.sourceStructure.restoreProperties.globals,this.miscFields=this.sourceStructure.restoreProperties.miscFields,this.navigationMenus=this.sourceStructure.restoreProperties.navigationMenus,this.packageMapping=this.sourceStructure.restoreProperties.packageMapping,this.partialCache=this.sourceStructure.restoreProperties.partialCache,this.partialViewNames=this.sourceStructure.restoreProperties.partialViewNames,this.publicAssets=this.sourceStructure.restoreProperties.publicAssets,this.routeNames=this.sourceStructure.restoreProperties.routeNames,this.statamicAddonMapping=this.sourceStructure.restoreProperties.statamicAddonMapping,this.taxonomies=this.sourceStructure.restoreProperties.taxonomies,this.taxonomyNames=this.sourceStructure.restoreProperties.taxonomyNames,this.taxonomyTerms=this.sourceStructure.restoreProperties.taxonomyTerms,this.templates=this.sourceStructure.restoreProperties.templates,this.translationKeys=this.sourceStructure.restoreProperties.translationKeys,this.uniqueAssetNames=this.sourceStructure.restoreProperties.uniqueAssetNames,this.uniqueCollectionNames=this.sourceStructure.restoreProperties.uniqueCollectionNames,this.uniqueFormNames=this.sourceStructure.restoreProperties.uniqueFormNames,this.uniqueGlobalSettingNames=this.sourceStructure.restoreProperties.uniqueGlobalSettingNames,this.uniqueNavigationNames=this.sourceStructure.restoreProperties.uniqueNavigationNames,this.uniquePartialViewNames=this.sourceStructure.restoreProperties.uniquePartialViewNames,this.uniqueTaxonomyNames=this.sourceStructure.restoreProperties.uniqueTaxonomyNames,this.uniqueUserGroups=this.sourceStructure.restoreProperties.uniqueUserGroups,this.uniqueUserRoles=this.sourceStructure.restoreProperties.uniqueUserRoles,this.userGroups=this.sourceStructure.restoreProperties.userGroups,this.userRoles=this.sourceStructure.restoreProperties.userRoles,this.viewMap=this.sourceStructure.restoreProperties.viewMap,this.views=this.sourceStructure.restoreProperties.views)}getViewPath(){return this.viewsPath}export(){let e=this.sourceStructure;return e.restoreProperties=this.getRestoreRecords(),e}getRestoreRecords(){return{assets:this.assets,baseResourcePath:this.baseResourcePath,blueprintCollectionRef:this.blueprintCollectionRef,blueprintFieldReference:this.blueprintFieldReference,blueprintFiles:this.blueprintFiles,blueprintRef:this.blueprintRef,collectionNames:this.collectionNames,collectionQueryScopes:this.collectionQueryScopes,collections:this.collections,fields:this.fields,fieldsets:this.fieldsets,forms:this.forms,globalFiles:this.globalFiles,globals:this.globals,miscFields:this.miscFields,navigationMenus:this.navigationMenus,packageMapping:this.packageMapping,partialCache:this.partialCache,partialViewNames:this.partialViewNames,publicAssets:this.publicAssets,routeNames:this.routeNames,statamicAddonMapping:this.statamicAddonMapping,taxonomies:this.taxonomies,taxonomyNames:this.taxonomyNames,taxonomyTerms:this.taxonomyTerms,templates:this.templates,translationKeys:this.translationKeys,uniqueAssetNames:this.uniqueAssetNames,uniqueCollectionNames:this.uniqueCollectionNames,uniqueFormNames:this.uniqueFormNames,uniqueGlobalSettingNames:this.uniqueGlobalSettingNames,uniqueNavigationNames:this.uniqueNavigationNames,uniquePartialViewNames:this.uniquePartialViewNames,uniqueTaxonomyNames:this.uniqueTaxonomyNames,uniqueUserGroups:this.uniqueUserGroups,uniqueUserRoles:this.uniqueUserRoles,userGroups:this.userGroups,userRoles:this.userRoles,viewMap:this.viewMap,views:this.views}}reloadDetails(){return this}buildImportRefernece(e){if(e.sets!=null)for(let n=0;n<e.sets.length;n++){let r=e.sets[n];for(let i=0;i<r.fields.length;i++){let s=r.fields[i];if(s.import!=null){let o=s.import;if(this.sourceStructure.fieldsets.has(o)){let a=this.sourceStructure.fieldsets.get(o),l=cb(a);for(let u=0;u<l.length;u++)this.buildImportRefernece(l[u]);r.fields.splice(i,1),r.fields=r.fields.concat(l)}}}}}buildDetails(){var s,o;let e=[],n=[],r=[],i=[];if(typeof this.sourceStructure.assets.forEach!="undefined"&&this.sourceStructure.assets.forEach((a,l)=>{i.push(l)}),typeof this.sourceStructure.forms.forEach!="undefined"&&this.sourceStructure.forms.forEach((a,l)=>{a.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l)}),e.push(l),this.blueprintRef.set(l,a)}),typeof this.sourceStructure.globals.forEach!="undefined"&&this.sourceStructure.globals.forEach((a,l)=>{a.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l)}),n.push(l),this.blueprintRef.set(l,a)}),typeof this.sourceStructure.miscFields.forEach!="undefined"&&this.sourceStructure.miscFields.forEach((a,l)=>{a.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l)}),this.blueprintRef.set(l,a)}),typeof this.sourceStructure.taxonomies.forEach!="undefined"&&this.sourceStructure.taxonomies.forEach((a,l)=>{a.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l)}),this.blueprintRef.set(l,a)}),typeof this.sourceStructure.fields.forEach!="undefined"&&this.sourceStructure.fields.forEach((a,l)=>{a.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l)}),this.blueprintRef.set(l,a)}),typeof this.sourceStructure.navigationMenus.forEach!="undefined"&&this.sourceStructure.navigationMenus.forEach((a,l)=>{r.push(l)}),typeof this.sourceStructure.views.forEach!="undefined"&&this.sourceStructure.views.forEach((a,l)=>{this.viewMap.set(a.documentUri,a)}),typeof this.sourceStructure.composerPackages.forEach!="undefined"&&this.sourceStructure.composerPackages.forEach(a=>{a.isStatamicAddon&&this.statamicAddonMapping.set(a.name,a),this.packageMapping.set(a.name,a)}),this.uniqueAssetNames=[...new Set(i)],this.uniqueNavigationNames=[...new Set(r)],this.uniqueGlobalSettingNames=[...new Set(n)],this.uniqueFormNames=[...new Set(e)],this.uniqueCollectionNames=[...new Set(this.collectionNames)],this.uniquePartialViewNames=[...new Set(this.partialViewNames)],this.uniqueTaxonomyNames=[...new Set(this.taxonomyNames)],(s=Me.instance)==null||s.resetMacros(),this.hasMacroFile){let a=dC(this.macroFilePath);a.length>0&&((o=Me.instance)==null||o.registerMacros(a))}this.uniqueUserRoles=[...new Set(this.sourceStructure.userRoleNames)],this.uniqueUserGroups=[...new Set(this.sourceStructure.userGroupNames)],this.sourceStructure.searchIndexes.length==0&&this.sourceStructure.searchIndexes.push("default");for(let a=0;a<this.sourceStructure.internalFieldReference.length;a++)this.buildImportRefernece(this.sourceStructure.internalFieldReference[a])}getWorkingDirectory(){return this.sourceStructure.workingDirectory}getOAuthProviders(){return[]}getSiteNames(){return[]}getSearchIndexes(){return this.sourceStructure.searchIndexes}getStatamicVersion(){return this.sourceStructure.statamicPackage!=null?this.sourceStructure.statamicPackage.version:""}hasComposerPackage(e){return this.packageMapping.has(e)}hasStatamicAddon(e){return this.statamicAddonMapping.has(e)}getAddonDetails(e){return this.hasStatamicAddon(e)?this.statamicAddonMapping.get(e):null}getComposerPackages(){return this.packageMapping}getComposerPackageDetails(e){return this.hasComposerPackage(e)?this.packageMapping.get(e):null}getPartials(){return this.sourceStructure.partialCache}getBlueprintNames(){let e=[];return this.blueprintRef.forEach((n,r)=>{r.startsWith("*")==!1&&e.includes(r)==!1&&e.push(r)}),e}getBlueprintDetails(e){if(this.blueprintRef.has(e)==!1){let n=[];return n.push(Hh(e,"title","text")),n.push(Hh(e,"content","markdown")),n.push(Hh(e,"slug","slug")),n}return this.blueprintRef.get(e)}hasViewCollectionInjections(e){return this.viewMap.has(e)==!1?!1:this.viewMap.get(e).injectsCollections.length>0}getCollectionNames(){return this.collectionNames}getCollectionNamesForView(e){return this.viewMap.has(e)==!1?[]:this.viewMap.get(e).injectsCollections}getPublicAssetPaths(){return this.publicAssets}getTaxonomyTerms(e){return this.hasTaxonomy(e)?this.taxonomyTerms.get(e):[]}hasTaxonomy(e){return this.taxonomyNames.includes(e)}getCollectionQueryScopes(){return this.collectionQueryScopes}getBlueprintFields(e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=this.getCollectionDetails(i);if(s!=null&&s.injectFields!=null)for(let o=0;o<s.injectFields.length;o++)n.push({blueprintName:"*inject",displayName:s.injectFields[o],import:null,instructionText:null,maxItems:null,name:s.injectFields[r],refFieldSetField:null,sets:null,type:"*"});if(this.fields.has(i)){let o=this.fields.get(i);typeof o!="undefined"&&o!==null&&(n=n.concat(o))}}return n}getBlueprintField(e,n){let r=e;if(this.blueprintCollectionRef.has(r)&&(r=this.blueprintCollectionRef.get(r)),this.fields.has(r)){let i=this.fields.get(r);for(let s=0;s<i.length;s++)if(i[s].name==n)return i[s]}return null}getFields(){return this.fields}getTaxonomyBlueprintFields(e){let n=[];for(let r=0;r<e.length;r++){let i=e[r];if(this.taxonomies.has(i)){let s=this.taxonomies.get(i);typeof s!="undefined"&&s!==null&&(n=n.concat(s))}}return n}getUserFields(){return this.miscFields.has("user")?this.miscFields.get("user"):[]}getAssetBlueprintFields(e){return this.sourceStructure.assetFields.has(e)?this.sourceStructure.assetFields.get(e):[]}getUniqueTaxonomyNames(){return this.uniqueTaxonomyNames}getUniqueCollectionNames(){return this.uniqueCollectionNames}getUniquePartialNames(){return this.uniquePartialViewNames}getUniqueUserGroupNames(){return this.uniqueUserGroups}getUniqueUserRoleNames(){return this.uniqueUserRoles}getUniqueFormNames(){return this.uniqueFormNames}getAssetPresets(){return[]}getUniqueGlobalsNames(){return this.uniqueGlobalSettingNames}getUniqueNavigationMenuNames(){return this.uniqueNavigationNames}getUniqueAssetNames(){return this.uniqueAssetNames}getCollectionDetails(e){return this.collections.has(e)?this.collections.get(e):null}getFormBlueprintFields(e){if(this.forms.has(e)){let n=this.forms.get(e);return typeof n=="undefined"||n===null?[]:n}return[]}getRouteNames(){return this.routeNames}getTranslationKeys(){return this.translationKeys}getTemplateNames(){let e=[];return this.views.forEach(n=>{let r=Pt(n.relativeDisplayName,"/",".");e.includes(r)==!1&&e.push(r)}),e}getViews(){return this.views}findView(e){if(e.trim()=="")return null;let n=hC(e);for(let r=0;r<this.views.length;r++)if(this.views[r].path==n)return this.views[r];return null}findRelativeView(e){e=Pt(e,"\\.","/");for(let n=0;n<this.views.length;n++)if(this.views[n].relativeDisplayName==e)return this.views[n];return null}findPartial(e){e=Pt(e,"\\.","/");for(let n=0;n<this.views.length;n++)if(this.views[n].isPartial&&this.views[n].relativeDisplayName==e)return this.views[n];return null}};function vF(t){let e=Wi(t).split("/"),n=[],r=null;for(let i=0;i<e.length;i++){if(i==0){r=e[i],n.push(e[i]);continue}if(e[i]=="views"&&r=="resources")break;n.push(e[i]),r=e[i]}return n.join("/")}function PF(t){return t.endsWith("/")==!1&&(t=t+"/"),t+"../"}function IF(t){return t+"composer.lock"}function SF(t){return t+"vendor/"}function CF(t){return t+"/blueprints/collections/"}function RF(t){return t+"/blueprints/taxonomies/"}function AF(t){return t+"/blueprints/assets/"}function xF(t){return t+"/blueprints/globals/"}function EF(t){return t+"/blueprints/forms/"}function wF(t){return t+"/blueprints/"}function OF(t){return t+"/macros.yaml"}function LF(t){return t+"/views/"}function DF(t){return t+"/users/"}function kF(t){return t+"/forms/"}function MF(t){return t+"/fieldsets"}function au(t){return t+"/../content/"}function FF(t){return au(t)+"assets/"}function VF(t){return au(t)+"collections/"}function qF(t){return au(t)+"taxonomies/"}function BF(t){return au(t)+"navigation/"}function lu(t,e,n){if(!Vn.existsSync(t))return[];let r=n||[],i=Vn.readdirSync(t);for(let s=0;s<i.length;s++){let o=Zt.join(t,i[s]);Vn.lstatSync(o).isDirectory()?r=r.concat(lu(o,e,n)):o.indexOf(e)>=0&&r.push(o)}return[...new Set(r)]}function Hi(t,e){if(!Vn.existsSync(t))return[];let n=[],r=Vn.readdirSync(t);for(let i=0;i<r.length;i++){let s=Zt.join(t,r[i]);Vn.lstatSync(s).isDirectory()==!1&&n.push(s)}return[...new Set(n)]}function jF(t){let e=lu(t,".html",[]),n=t.length,r=[];for(let i=0;i<e.length;i++){let s=e[i],o=s.substr(n),a=Wi(Zt.dirname(o)),l=Zt.basename(o),u=l,c=!1,f=!1,m=!1,d="";l.startsWith("_")&&(c=!0,u=u.substr(1)),l.endsWith(".antlers.html")?(f=!0,u=u.substr(0,u.length-13)):l.endsWith(".blade.php")?(f=!1,m=!0):(f=!1,m=!1),a!="."?d=a+"/"+u:d=u,r.push({displayName:u,fileName:l,documentUri:jh(s),originalDocumentUri:jh(s),isAntlers:f,isBlade:m,isPartial:c,path:Wi(s),relativeDisplayName:d,relativeFileName:l,relativePath:o,injectsCollections:[],injectsParameters:[],templateName:Pt(d,"/","."),varReferenceNames:new Map,document:null})}return r}function Kh(t){let e=vF(t),n=CF(e),r=LF(e),i=kF(e),s=EF(e),o=MF(e),a=RF(e),l=xF(e),u=wF(e),c=au(e),f=BF(e),m=qF(e),d=DF(e),p=VF(e),_=FF(e),C=AF(e),h=lu(n,".yaml",[]),b=jF(r),g=OF(e),N=PF(e),S=IF(N),V=SF(N),O=!1,$=null,X=Bh.getInstalledPackages(S,N,V);for(let v=0;v<X.length;v++)if(X[v].name=="statamic/cms"){$=X[v];break}let ee=new Map,Y=new Map,ne=new Map,Le=new Map,de=new Map,Z=new Map,Ge=[],lt=new Map,Ft=[],Ve=[],ut=[],bi=[],Yi=[],le=new Map,ue=new Map,me=[],se=new Map,Ne=[],Nt=new Map,Nr=new Map,yo=new Map,bo=new Map;g.trim().length>0&&(O=Vn.existsSync(g));for(let v=0;v<b.length;v++)b[v].isPartial&&(ut.push(b[v]),bi.push(b[v].relativeDisplayName));let ti=Hi(_,".yaml");for(let v=0;v<ti.length;v++)if(tr(ti[v])){let I=iC(ti[v]);yo.set(I.handle,I)}let Rs=Hi(p,".yaml");for(let v=0;v<Rs.length;v++)if(tr(Rs[v])){let I=lC(Rs[v]);Nr.set(I.handle,I)}let To=d+"roles.yaml",No=d+"groups.yaml";if(Vn.existsSync(To)){let v=uC(To);for(let I=0;I<v.length;I++)se.set(v[I].handle,v[I]),Ne.push(v[I].handle)}if(Vn.existsSync(No)){let v=cC(No);for(let I=0;I<v.length;I++)ue.set(v[I].handle,v[I]),me.push(v[I].handle)}let qn=lu(o,".yaml",[]),St=[];for(let v=0;v<qn.length;v++)if(tr(qn[v])){let I=Zt.basename(qn[v]).split(".").slice(0,-1).join(".");if(I!=null&&I.trim().length>0){let y=XS(qn[v],I);ee.set(I,y)}}let Ti=lu(a,".yaml",[]);for(let v=0;v<Ti.length;v++)if(tr(Ti[v])){let I=Zt.basename(Ti[v]).split(".").slice(0,-1).join("."),y=Zt.basename(Zt.dirname(Ti[v]));if(I!=null&&I.trim().length>0){Y.set(I,y);let x=_o(Ti[v],I,ee);de.set(I,x),St=St.concat(x),Ve.includes(I)==!1&&Ve.push(I)}}if(Ve.length>0){for(let v=0;v<Ve.length;v++)if(Y.has(Ve[v])){let I=Y.get(Ve[v]);if(typeof I!="undefined"&&I!==null){let y=m+I+"/";if(Vn.existsSync(y)){let x=Hi(y,".yaml"),w=[];for(let R=0;R<x.length;R++)if(tr(x[R])){let T=Zt.basename(x[R]).split(".").slice(0,-1).join(".");w.push(T)}le.set(Ve[v],w)}}}}let Ki=Hi(u,".yaml");for(let v=0;v<Ki.length;v++)if(tr(Ki[v])){let I=Zt.basename(Ki[v]).split(".").slice(0,-1).join(".");if(I!=null&&I.trim().length>0){let y=_o(Ki[v],I,ee);Z.set(I,y),St=St.concat(y)}}for(let v=0;v<h.length;v++)if(tr(h[v])){let I=Zt.basename(h[v]).split(".").slice(0,-1).join("."),y=_o(h[v],I,ee),x=Wi((0,gC.dirname)(h[v])).split("/").pop();St=St.concat(y),x!=null&&x.trim().length>0&&(I=x,Ft.includes(x)==!1&&Ft.push(x)),lt.set(I,y)}let vr=Hi(f,".yaml");for(let v=0;v<vr.length;v++)if(tr(vr[v])){let I=eC(vr[v]);Nt.set(I.handle,I)}let Ni=Hi(l,".yaml");for(let v=0;v<Ni.length;v++)if(tr(Ni[v])){let I=Zt.basename(Ni[v]).split(".").slice(0,-1).join("."),y=_o(Ni[v],I,ee);St=St.concat(y),Le.set(I,y)}if(Vn.existsSync(C)){let v=Hi(C,".yaml");for(let I=0;I<v.length;I++)if(tr(v[I])){let y=Zt.basename(v[I]).split(".").slice(0,-1).join("."),x=_o(v[I],y,ee);St=St.concat(x),bo.set(y,x)}}let vi=Hi(s,".yaml"),Pi=Hi(i,".yaml"),ni=[];for(let v=0;v<Pi.length;v++)if(tr(Pi[v])){let I=Zt.basename(Pi[v]).split(".").slice(0,-1).join(".");ni.includes(I)||ni.push(I)}for(let v=0;v<vi.length;v++)if(tr(vi[v])){let I=Zt.basename(vi[v]).split(".").slice(0,-1).join("."),y=_o(vi[v],I,ee);St=St.concat(y),ne.set(I,y)}for(let v=0;v<ni.length;v++)ne.has(ni[v])||ne.set(ni[v],[]);let nr=new Map;for(let v=0;v<b.length;v++)nr.set(b[v].relativeDisplayName,b[v]);return Nr.forEach((v,I)=>{v.template.trim().length>0&&nr.has(v.template)&&nr.get(v.template).injectsCollections.push(v.handle)}),new _C({composerPackages:X,statamicPackage:$,isMocked:!1,workingDirectory:N,taxonomyPluralizedMapping:Y,collectionScopes:Yi,blueprintFiles:h,collectionBlueprintsPath:n,collections:Nr,rootPath:e,fields:lt,fieldsetsPath:o,fieldsets:ee,collectionNames:Ft,formBlueprintsPath:i,taxonomiesBlueprintsPath:a,globalBlueprintsPath:l,miscBlueprintsPath:u,viewsPath:r,views:b,globalFiles:[],forms:ne,globals:Le,miscFields:Z,taxonomies:de,taxonomyNames:Ve,templates:Ge,partialCache:ut,partialViewNames:bi,macroFilePath:g,hasMacrosFile:O,contentDirectory:c,taxonomyContentDirectory:m,taxonomyTerms:le,assets:yo,assetFields:bo,oauthProviders:[],navigationMenus:Nt,userPermissionsPath:d,userGroupNames:me,userGroups:ue,userRoleNames:Ne,userRoles:se,searchIndexes:[],internalFieldReference:St,restoreProperties:null},t)}var _C=class extends Yh{reloadDetails(){return Kh(this.baseResourcePath)}};var $h=class{static getReferences(e){var n;if(e==null)return null;if(((n=e.context)==null?void 0:n.feature)instanceof oe){let r=e.context.feature;if(r.scopeVariable==null||r.scopeVariable.sourceField==null)return null;let i=new Map;Se.getDocuments().forEach(o=>{let a=o.getAllAntlersNodes(),l=[];a.forEach(u=>{u.runtimeNodes.forEach(c=>{var f;(c.scopeVariable!=null&&c.scopeVariable==r.scopeVariable||c.scopeVariable!=null&&c.scopeVariable.sourceName==((f=r.scopeVariable)==null?void 0:f.sourceName)&&c instanceof oe&&c.name==r.name)&&l.push(c)})}),i.set(o.documentUri,l)});let s=[];return i.forEach((o,a)=>{o.forEach(l=>{s.push({uri:a,range:ao(l)})})}),s}return[]}};function yC(t){var r;if(((r=ce.instance)==null?void 0:r.hasStructure())==!1)return null;let e=decodeURIComponent(t.textDocument.uri);if(Se.hasDocument(e)==!1)return null;let n=kn(t.position,e);return $h.getReferences(n)}function bC(t){var r;let e=decodeURIComponent(t.textDocument.uri),n=kn(t.position,e);if(n==null)return null;if(((r=n.context)==null?void 0:r.feature)instanceof oe){let i=n.context.feature,s=n.antlersDocument.getAllAntlersNodes();if(i.scopeVariable==null||i.scopeVariable.sourceField==null)return null;let o=[],a=[];return s.forEach(l=>{l.runtimeNodes.forEach(u=>{var c;(u.scopeVariable!=null&&u.scopeVariable==i.scopeVariable||u.scopeVariable!=null&&u.scopeVariable.sourceName==((c=i.scopeVariable)==null?void 0:c.sourceName)&&u instanceof oe&&u.name==i.name)&&o.push(u)})}),o.length>0&&o.push(i),o.forEach(l=>{a.push({range:ao(l)})}),a}return[]}var TC=class{constructor(){this._nodes=[];this._extractedAntlers=new Map;this._buffer="";this._shouldFormat=!0}load(e){let n=new mt;return n.getDocumentParser().withChildDocuments(!0),n.loadString(e),this._nodes=n.getAllNodes(),this._buffer=n.getParsedContent(),(!n.isValid()||!n.isFormattingEnabled())&&(this._shouldFormat=!1),this._nodes.forEach(r=>{if(r instanceof B){let i=r.getNodeDocumentText(),s="ANTLERS:"+r.refId;this._buffer=this._buffer.replace(i,s),this._extractedAntlers.set(s,i)}}),this}getShouldFormat(){return this._shouldFormat}getBuffer(){return this._buffer}getMapping(){return this._extractedAntlers}transform(e){return this._buffer=e(this._buffer),this}getTemplate(){let e=this._buffer;return this._extractedAntlers.forEach((n,r)=>{e=e.replace(r,n)}),e}},NC=TC;var ja=Q(nn());var vC=Q(require("fs")),PC=Q(require("path"));var Xh=class{constructor(){this.activeRequest=null}getName(e){return"Extract to Partial"}canHandle(e){return e.selectedText.trim().length>0}refactor(e){this.activeRequest=e,Xh.currentAction=this;let n=this.getName(e);return[ja.CodeAction.create(n+"...",ja.Command.create(n,"antlers.extractToPartial",e.documentUri),ja.CodeActionKind.RefactorExtract)]}completeRefactor(e){var r;let n=(r=ce.instance)==null?void 0:r.getStructure();if(n!=null&&this.activeRequest!=null){let i=Wi(n.getViewPath()),s=Wi(e.fsPath);if(s.startsWith(i)){vC.writeFileSync(e.fsPath,this.activeRequest.selectedText);let o=s.substring(i.length),a=PC.basename(s);a.startsWith("_")&&(a=a.substr(1)),o=o.substr(0,o.length-a.length),a.endsWith(".antlers.html")?a=a.substring(0,a.length-13):a.endsWith(".antlers.xml")||a.endsWith("antlers.php")?a=a.substring(0,a.length-12):a.endsWith(".blade.php")?a=a.substring(0,a.length-10):a.endsWith(".html")&&(a=a.substring(0,a.length-5)),o.length>1&&o.endsWith("/")==!1&&(o=o+"/");let l="{{ partial:"+o+a+" }}",u={range:this.activeRequest.actionParams.range,newText:l},c={changes:{[this.activeRequest.actionParams.textDocument.uri]:[u]}};Qh(c)}}}},zh=Xh;zh.currentAction=null;var uu=zh;var IC=Q(nn());var Uf=class{static isFlatCondition(e){var i;if(e.chain.length>1&&((i=e.logicBranches[1].head)==null?void 0:i.getTagName())!="else")return!1;let n=e.logicBranches[0].nodes,r=!1;for(let s=0;s<n.length;s++)if(n[s]instanceof vt){r=!0;break}if(r)for(let s=0;s<n.length;s++){let o=n[s];if(o instanceof Qe&&o.content.trim().length!=0)return!1}for(let s=0;s<n.length;s++){let o=n[s];if(o instanceof vt&&!Uf.isFlatCondition(o)||o instanceof B&&!$t.isConditionalStructure(o)&&o.isClosingTag)return!1}return!0}static getCleanChildren(e){let n=[],r=[];for(let i=0;i<e.nodes.length;i++){let s=e.nodes[i];if(s.startPosition==null)break;if(!r.includes(s.startPosition.index))s instanceof Qe?s.content.trim().length>0&&n.push(s):n.push(s),r.push(s.startPosition.index);else break}return n.pop(),n}static unwrapFlattenedConditions(e){let n={body:[],conditions:[]};return e.logicBranches.forEach(r=>{if(r.head==null)return;n.conditions.push(r.head);let i=this.getCleanChildren(r);if(i.length==1&&i[0]instanceof vt){let s=this.unwrapFlattenedConditions(i[0]);n.conditions=n.conditions.concat(s.conditions),n.body=n.body.concat(s.body)}else i.length==1?n.body.push(i[0]):i.forEach(s=>{if(s instanceof vt){let o=this.unwrapFlattenedConditions(s);n.conditions=n.conditions.concat(o.conditions),n.body=n.body.concat(o.body)}else{if(s instanceof B&&$t.isConditionalStructure(s))return;n.body.push(s)}})}),n}},Gf=Uf;var Wf=class{constructor(e){this.refactoredStyle=0;this.params=e}isSimpleElse(e){var n;return e.logicBranches.length==2&&((n=e.logicBranches[1].head)==null?void 0:n.getTagName())=="else"}getRefactorMode(){return this.refactoredStyle}refactor(e){let n="";return this.params.refactorNested?(n=this.createdNestedGatekeeper(e),this.refactoredStyle=1):e.logicBranches.length==1?(n=this.createGatekeeper(e),this.refactoredStyle=1):this.isSimpleElse(e)&&(n=this.createTernary(e),this.refactoredStyle=0),this.params.isInInterpolation?"{"+n+"}":"{{ "+n+" }}"}createdNestedGatekeeper(e){let n=Gf.unwrapFlattenedConditions(e),r=[],i=[];n.conditions.forEach(a=>{let l=a.getContent().trim();a.runtimeNodes.length>1&&(l.startsWith("(")==!1&&(l="("+l),l.endsWith(")")==!1&&(l=l+")"),this.shouldAddEndingParenthesis(a)&&(l+=")")),r.push(l)}),n.body.forEach(a=>{a instanceof B?i.push(a.getNodeDocumentText()):a instanceof Qe&&i.push(a.content)}),i.length>0&&(i[0]=i[0].trimLeft(),i[i.length-1]=i[i.length-1].trimRight());let s=r.join(" && "),o=i.join("");return"("+s+") ?= "+this.convertToString(o)}convertToString(e){let n=e;return n=Pt(n,"{{","{"),n=Pt(n,"}}","}"),"'"+Pt(n,"'","\\'")+"'"}createTernary(e){var l;let n=e.logicBranches[0].head,r=e.logicBranches[1].head,i=this.convertToString((l=n.getInnerDocumentText())!=null?l:""),s=this.convertToString(r.getInnerDocumentText()),a=n.getContent().trim();return a.startsWith("(")==!1&&(a="("+a),a.endsWith(")")==!1&&(a=a+")"),this.shouldAddEndingParenthesis(n)&&(a+=")"),a+" ? "+i+" : "+s}shouldAddEndingParenthesis(e){return e.originalNode==null?!1:e.originalNode.getTagName()=="unless"}createGatekeeper(e){var o;let n=e.logicBranches[0].head,r=(o=n.getInnerDocumentText())!=null?o:"",i=this.convertToString(r),s="";return n.runtimeNodes.length>1?s="("+n.getContent().trim()+")":s=n.getContent(),s.trim()+" ?= "+i}};var SC=class{constructor(){this.condition=null;this.isNestedConditions=!1;this.refactorStyle=0}getName(e){return this.refactorStyle==1?"Convert Condition to Gatekeeper operator":"Convert Condition to Ternary"}canHandle(e){if(e.selectedDocument.hasUnclosedStructures()||e.selectedDocument.hasUnclosedStructures()||e.selectedDocument.errors.hasAny())return!1;let n=e.selectedDocument.getAllAntlersNodes(),r=new ga,i=0,s=0;for(let a=0;a<n.length;a++)if(n[a].isClosingTag){if($t.isConditionalStructure(n[a])){s+=1;continue}if(i+=1,i>1)return!1}let o=r.associate(n,e.ownerDocument.getDocumentParser());if(o.length==1&&o[0]instanceof vt){if(this.condition=o[0],this.isNestedConditions=!1,s>2){if(!Gf.isFlatCondition(this.condition))return this.isNestedConditions=!1,!1;this.isNestedConditions=!0}return!0}return!1}refactor(e){if(this.condition==null)return[];let n=[],r=!1;e.params.currentNode!=null&&e.params.currentNode.getTagName()!="if"&&(r=!0);let i=new Wf({isInInterpolation:r,refactorNested:this.isNestedConditions}),s=i.refactor(this.condition);this.refactorStyle=i.getRefactorMode();let o={range:e.actionParams.range,newText:s};return n.push({title:this.getName(e),kind:IC.CodeActionKind.RefactorRewrite,edit:{changes:{[e.documentUri]:[o]}}}),n}},CC=SC;var RC=class{static getRefactors(e){let n=[],r=[];return r.push(new uu),r.push(new CC),r.forEach(i=>{i.canHandle(e)&&i.refactor(e).forEach(s=>{n.push(s)})}),n}},AC=RC;function xC(t){var l;if(((l=ce.instance)==null?void 0:l.hasStructure())==!1)return[];Se.refreshDocumentState();let e=decodeURIComponent(t.textDocument.uri);if(Se.hasDocument(e)==!1)return[];if(!Jr.has(e))return[];let n=t.range.start,r=kn(n,e,qi.showGeneralSnippetCompletions);if(r==null)return[];let i=Jr.get(e),s=i.getText(t.range),o=mt.fromText(s.trim()),a={params:r,selectedText:s,selectedDocument:o,ownerDocument:Se.getDocument(e),documentUri:t.textDocument.uri,actionParams:t};return AC.getRefactors(a)}var UF=Wh(),Jh={formatFrontMatter:!1,showGeneralSnippetCompletions:!0,trace:{server:"off"},formatterIgnoreExtensions:["xml"],languageVersion:"runtime"},qi=Jh;function Hf(t){qi=t}function Ff(){return qi}var We=(0,en.createConnection)(en.ProposedFeatures.all),Ua=new en.TextDocuments(wC.TextDocument),OC=!1,LC=!1,GF=!1,Zh;(e=>e.type=new en.RequestType("antlers/lockedits"))(Zh||(Zh={}));var eg;(e=>e.type=new en.RequestType("antlers/forcedFormat"))(eg||(eg={}));var tg;(e=>e.type=new en.RequestType("antlers/projectUpdate"))(tg||(tg={}));var ng;(e=>e.type=new en.RequestType("antlers/transform"))(ng||(ng={}));var rg;(e=>e.type=new en.RequestType0("antlers/semanticTokenLegend"))(rg||(rg={}));var ig;(e=>e.type=new en.RequestType("antlers/semanticTokens"))(ig||(ig={}));We.onInitialize(t=>{let e=t.capabilities;OC=!!(e.workspace&&!!e.workspace.configuration),LC=!!(e.workspace&&!!e.workspace.workspaceFolders),GF=!!(e.textDocument&&e.textDocument.publishDiagnostics&&e.textDocument.publishDiagnostics.relatedInformation);let n={capabilities:{textDocumentSync:en.TextDocumentSyncKind.Full,completionProvider:{resolveProvider:!0,triggerCharacters:[":",'"',"'","{","/","|","@"," "]},documentFormattingProvider:{},foldingRangeProvider:{},signatureHelpProvider:{triggerCharacters:[":",","]},documentLinkProvider:{},hoverProvider:{},definitionProvider:{},documentSymbolProvider:{},referencesProvider:{},documentHighlightProvider:{},codeActionProvider:{},executeCommandProvider:{commands:["antlers.extractToPartial"]}}};return LC&&(n.capabilities.workspace={workspaceFolders:{supported:!0}}),n});We.onInitialized(()=>{OC&&We.client.register(en.DidChangeConfigurationNotification.type,void 0);let t=We.workspace.getConfiguration("html").then(function(n){ph(n)}),e=We.workspace.getConfiguration("antlersLanguageServer").then(function(n){n!=null?Hf(n):Hf(Jh)})});We.onExecuteCommand(async t=>{var e;t.command=="antlers.extractToPartial"&&uu.currentAction!=null&&((e=t.arguments)==null?void 0:e.length)==3&&uu.currentAction.completeRefactor({path:t.arguments[1],fsPath:t.arguments[2]})});We.onDidChangeConfiguration(t=>{let e=We.workspace.getConfiguration("html").then(function(r){ph(r)}),n=We.workspace.getConfiguration("antlersLanguageServer").then(function(r){r!=null?Hf(r):Hf(Jh)});Ua.all().forEach(DC),Ua.all().forEach(ch),Ua.all().forEach(r=>{og(encodeURIComponent(r.uri))}),Ua.all().forEach(r=>{fh(r,We)})});We.onDocumentLinks(t=>{let e=decodeURIComponent(t.textDocument.uri);return qh.getDocumentLinks(e)});var sg=!1;We.onRequest(Zh.type,()=>{sg=!0});Ua.onDidChangeContent(t=>{if(sg){sg=!1;return}DC(t.document),ch(t.document),og(decodeURIComponent(t.document.uri)),fh(t.document,We)});We.onDidChangeWatchedFiles(t=>{});We.onHover(t=>FS(t));We.onDocumentSymbol(t=>GS(t));We.onDocumentHighlight(bC);We.onReferences(yC);We.onDefinition(VS);We.onFoldingRanges(lP);We.onSignatureHelp(MS);We.onDocumentFormatting(DS);We.onCompletion(sP);We.onCompletionResolve(oP);Ua.listen(We);We.onRequest(rg.type,t=>Vh().legend);We.onRequest(eg.type,t=>{let e=Ff(),n=Kl.format;return new su({tabSize:t.tabSize,formatFrontMatter:e.formatFrontMatter,insertSpaces:t.insertSpaces,formatExtensions:[],maxStatementsPerLine:3,htmlOptions:n}).formatDocument(mt.fromText(t.content))});We.onRequest(ng.type,t=>{let e=new NC;e.load(t.content);let n=[];return e.getMapping().forEach((i,s)=>{n.push({find:s,replace:i})}),{shouldParse:e.getShouldFormat(),transformedText:e.getBuffer(),replacements:n}});We.onCodeAction(xC);We.onRequest(tg.type,()=>{var t,e,n,r,i;if((t=ce.instance)==null||t.setDirtyState(!0),(e=ce.instance)==null||e.reloadDetails(),(n=ce.instance)==null?void 0:n.hasStructure()){let s=(r=ce.instance)==null?void 0:r.getStructure();Se.setProject(s),(i=Qs.instance)==null||i.updateProject(s)}});We.onRequest(ig.type,(t,e)=>{let n=decodeURIComponent(t.textDocument.uri);if(Jr.has(n)){let r=Jr.get(n);return Vh().getSemanticTokens(r,t.ranges)}return null});async function DC(t){var i,s,o,a,l,u,c,f,m;if((i=ce.instance)==null?void 0:i.hasStructure()){ce.instance.reloadDetails(),Se.setProject(ce.instance.getStructure());return}let e=decodeURIComponent(t.uri),n=UF(e),r=Kh(n);if((s=ce.instance)==null||s.setActiveProject(r),((o=ce.instance)==null?void 0:o.hasStructure())&&(Se.setProject((a=ce.instance)==null?void 0:a.getStructure()),(u=Qs.instance)==null||u.updateProject((l=ce.instance)==null?void 0:l.getStructure())),(c=xr.instance)==null||c.clearPartialReferences(e),(f=Zr.instance)==null||f.clearIssues(e),(m=ce.instance)==null?void 0:m.hasStructure()){let d=ce.instance.getStructure().getViews();for(let p=0;p<d.length;p++){let _=d[p];EI(_.documentUri,EC.readFileSync(_.path,{encoding:"utf8"})),og(_.documentUri)}}}function Qh(t){let e={edit:t};We.sendRequest("workspace/applyEdit",e)}function og(t){var e,n,r,i,s,o,a,l,u,c,f,m,d,p,_,C;if(t=decodeURIComponent(t),Se.hasDocument(t)){let h=Se.getDocument(t),b=h.getAllAntlersNodes();(e=Zr.instance)==null||e.clearIssues(t),(n=xr.instance)==null||n.clearAllReferences(t),js.clear(t);let g=[],N=[],S=[],V=[],O=[],$=[];for(let ee=0;ee<b.length;ee++){let Y=b[ee],ne=Y.getTagName();if(ne==="yield"||ne=="yields"){let de=Y.reference;de!=null&&de instanceof ml&&g.push(de)}else if(ne==="partial")S.push(Y);else if(ne==="cache")V.push(Y);else if(Y.runtimeName()=="session:set"||Y.runtimeName()=="session:flash"){let de=Y.reference;de!=null&&de instanceof Ws&&N.push(de)}if(Y.modifiers!=null){let de=Y.modifiers.getModifierValue("partial");if(de!=null){let Z=(r=ce.instance)==null?void 0:r.getStructure().findPartial(de);Z!=null&&((i=xr.instance)==null||i.clearRemovesPageScope(Z.originalDocumentUri),(s=xr.instance)==null||s.setRemovesPageScope(Z.originalDocumentUri,Y))}}if(Y.isTagNode){let de=(o=Ie.instance)==null?void 0:o.findTag(Y.runtimeName());de!=null&&de.requiresClose&&Y.isClosedBy==null&&Y.isClosingTag==!1&&Y.isSelfClosing==!1&&O.push(Y)}else Y.manifestType==="array"&&Y.isClosedBy==null&&O.push(Y);let Le=(l=(a=Zr.instance)==null?void 0:a.checkNode(Y))!=null?l:[];Le.length>0&&($=$.concat(Le))}let X=(c=(u=Zr.instance)==null?void 0:u.checkDocument(h))!=null?c:[];X.length>0&&($=$.concat(X)),O.length>0&&js.registerNodes(t,O),(f=Qs.instance)==null||f.registerInjections(t,S),(m=mc.instance)==null||m.registerDocumentSections(t,g),(d=xr.instance)==null||d.registerPartialReferences(t,S),(p=xr.instance)==null||p.registerCacheReferences(t,V),(_=Zr.instance)==null||_.registerDiagnostics(t,$),(C=Ys.instance)==null||C.registerDocumentSessionVariables(t,N)}}We.listen();module.exports=jC(WF);0&&(module.exports={getAntlersSettings,globalSettings,requestEdits});
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
