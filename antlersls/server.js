#!/usr/bin/env node
var w0=Object.create;var du=Object.defineProperty;var O0=Object.getOwnPropertyDescriptor;var L0=Object.getOwnPropertyNames;var D0=Object.getPrototypeOf,M0=Object.prototype.hasOwnProperty;var Cg=t=>du(t,"__esModule",{value:!0});var q=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),k0=(t,e)=>{for(var n in e)du(t,n,{get:e[n],enumerable:!0});},xg=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of L0(e))!M0.call(t,i)&&(n||i!=="default")&&du(t,i,{get:()=>e[i],enumerable:!(r=O0(e,i))||r.enumerable});return t;},K=(t,e)=>xg(Cg(du(t!=null?w0(D0(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),F0=(t=>(e,n)=>t&&t.get(e)||(n=xg(Cg({}),e,1),t&&t.set(e,n),n))(typeof WeakMap!="undefined"?new WeakMap:0);var Eg=q((Ag,mu)=>{(function(t){if(typeof mu=="object"&&typeof mu.exports=="object"){var e=t(require,Ag);e!==void 0&&(mu.exports=e);}else typeof define=="function"&&define.amd&&define(["require","exports"],t);})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function l(u,f,c,d){this._uri=u,this._languageId=f,this._version=c,this._content=d,this._lineOffsets=void 0;}return Object.defineProperty(l.prototype,"uri",{get:function(){return this._uri;},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"languageId",{get:function(){return this._languageId;},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"version",{get:function(){return this._version;},enumerable:!0,configurable:!0}),l.prototype.getText=function(u){if(u){var f=this.offsetAt(u.start),c=this.offsetAt(u.end);return this._content.substring(f,c);}return this._content;},l.prototype.update=function(u,f){for(var c=0,d=u;c<d.length;c++){var p=d[c];if(l.isIncremental(p)){var m=o(p.range),h=this.offsetAt(m.start),v=this.offsetAt(m.end);this._content=this._content.substring(0,h)+p.text+this._content.substring(v,this._content.length);var g=Math.max(m.start.line,0),_=Math.max(m.end.line,0),T=this._lineOffsets,I=s(p.text,!1,h);if(_-g===I.length)for(var w=0,$=I.length;w<$;w++)T[w+g+1]=I[w];else I.length<1e4?T.splice.apply(T,[g+1,_-g].concat(I)):this._lineOffsets=T=T.slice(0,g+1).concat(I,T.slice(_+1));var B=p.text.length-(v-h);if(B!==0)for(var w=g+1+I.length,$=T.length;w<$;w++)T[w]=T[w]+B;}else if(l.isFull(p))this._content=p.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");}this._version=f;},l.prototype.getLineOffsets=function(){return this._lineOffsets===void 0&&(this._lineOffsets=s(this._content,!0)),this._lineOffsets;},l.prototype.positionAt=function(u){u=Math.max(Math.min(u,this._content.length),0);var f=this.getLineOffsets(),c=0,d=f.length;if(d===0)return{line:0,character:u};for(;c<d;){var p=Math.floor((c+d)/2);f[p]>u?d=p:c=p+1;}var m=c-1;return{line:m,character:u-f[m]};},l.prototype.offsetAt=function(u){var f=this.getLineOffsets();if(u.line>=f.length)return this._content.length;if(u.line<0)return 0;var c=f[u.line],d=u.line+1<f.length?f[u.line+1]:this._content.length;return Math.max(Math.min(c+u.character,d),c);},Object.defineProperty(l.prototype,"lineCount",{get:function(){return this.getLineOffsets().length;},enumerable:!0,configurable:!0}),l.isIncremental=function(u){var f=u;return f!=null&&typeof f.text=="string"&&f.range!==void 0&&(f.rangeLength===void 0||typeof f.rangeLength=="number");},l.isFull=function(u){var f=u;return f!=null&&typeof f.text=="string"&&f.range===void 0&&f.rangeLength===void 0;},l;}(),r;(function(l){function u(d,p,m,h){return new n(d,p,m,h);}l.create=u;function f(d,p,m){if(d instanceof n)return d.update(p,m),d;throw new Error("TextDocument.update: document must be created by TextDocument.create");}l.update=f;function c(d,p){for(var m=d.getText(),h=i(p.map(a),function($,B){var ue=$.range.start.line-B.range.start.line;return ue===0?$.range.start.character-B.range.start.character:ue;}),v=0,g=[],_=0,T=h;_<T.length;_++){var I=T[_],w=d.offsetAt(I.range.start);if(w<v)throw new Error("Overlapping edit");w>v&&g.push(m.substring(v,w)),I.newText.length&&g.push(I.newText),v=d.offsetAt(I.range.end);}return g.push(m.substr(v)),g.join("");}l.applyEdits=c;})(r=e.TextDocument||(e.TextDocument={}));function i(l,u){if(l.length<=1)return l;var f=l.length/2|0,c=l.slice(0,f),d=l.slice(f);i(c,u),i(d,u);for(var p=0,m=0,h=0;p<c.length&&m<d.length;){var v=u(c[p],d[m]);v<=0?l[h++]=c[p++]:l[h++]=d[m++];}for(;p<c.length;)l[h++]=c[p++];for(;m<d.length;)l[h++]=d[m++];return l;}function s(l,u,f){f===void 0&&(f=0);for(var c=u?[f]:[],d=0;d<l.length;d++){var p=l.charCodeAt(d);(p===13||p===10)&&(p===13&&d+1<l.length&&l.charCodeAt(d+1)===10&&d++,c.push(f+d+1));}return c;}function o(l){var u=l.start,f=l.end;return u.line>f.line||u.line===f.line&&u.character>f.character?{start:f,end:u}:l;}function a(l){var u=o(l.range);return u!==l.range?{newText:l.newText,range:u}:l;}});});var hu=q(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.thenable=St.typedArray=St.stringArray=St.array=St.func=St.error=St.number=St.string=St.boolean=void 0;function q0(t){return t===!0||t===!1;}St.boolean=q0;function wg(t){return typeof t=="string"||t instanceof String;}St.string=wg;function V0(t){return typeof t=="number"||t instanceof Number;}St.number=V0;function B0(t){return t instanceof Error;}St.error=B0;function Og(t){return typeof t=="function";}St.func=Og;function Lg(t){return Array.isArray(t);}St.array=Lg;function j0(t){return Lg(t)&&t.every(e=>wg(e));}St.stringArray=j0;function U0(t,e){return Array.isArray(t)&&t.every(e);}St.typedArray=U0;function G0(t){return t&&Og(t.then);}St.thenable=G0;});var Si=q(fp=>{"use strict";Object.defineProperty(fp,"__esModule",{value:!0});var up;function cp(){if(up===void 0)throw new Error("No runtime abstraction layer installed");return up;}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");up=n;}t.install=e;})(cp||(cp={}));fp.default=cp;});var pp=q(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.Disposable=void 0;var W0;(function(t){function e(n){return{dispose:n};}t.create=e;})(W0=Ka.Disposable||(Ka.Disposable={}));});var Mg=q(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.AbstractMessageBuffer=void 0;var H0=13,Y0=10,K0=`\r
`,Dg=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0;}get encoding(){return this._encoding;}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength;}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,n=0,r=0,i=0;e:for(;n<this._chunks.length;){let l=this._chunks[n];r=0;for(;r<l.length;){switch(l[r]){case H0:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0;}break;case Y0:switch(e){case 1:e=2;break;case 3:e=4,r++;break e;default:e=0;}break;default:e=0;}r++;}i+=l.byteLength,n++;}if(e!==4)return;let s=this._read(i+r),o=new Map,a=this.toString(s,"ascii").split(K0);if(a.length<2)return o;for(let l=0;l<a.length-2;l++){let u=a[l],f=u.indexOf(":");if(f===-1)throw new Error("Message header must separate key and value using :");let c=u.substr(0,f),d=u.substr(f+1).trim();o.set(c,d);}return o;}tryReadBody(e){if(!(this._totalLength<e))return this._read(e);}get numberOfBytes(){return this._totalLength;}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s);}if(this._chunks[0].byteLength>e){let s=this._chunks[0],o=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,o;}let n=this.allocNative(e),r=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let o=s.slice(0,e);n.set(o,r),r+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e;}else n.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength;}return n;}};gu.AbstractMessageBuffer=Dg;});var Bg=q(mp=>{"use strict";Object.defineProperty(mp,"__esModule",{value:!0});var $0=Si(),kg=require("util"),Ls=pp(),z0=Mg(),$a=class extends z0.AbstractMessageBuffer{constructor(e="utf-8"){super(e);}emptyBuffer(){return $a.emptyBuffer;}fromString(e,n){return Buffer.from(e,n);}toString(e,n){return e instanceof Buffer?e.toString(n):new kg.TextDecoder(n).decode(e);}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n);}allocNative(e){return Buffer.allocUnsafe(e);}};$a.emptyBuffer=Buffer.allocUnsafe(0);var Fg=class{constructor(e){this.stream=e;}onClose(e){return this.stream.on("close",e),Ls.Disposable.create(()=>this.stream.off("close",e));}onError(e){return this.stream.on("error",e),Ls.Disposable.create(()=>this.stream.off("error",e));}onEnd(e){return this.stream.on("end",e),Ls.Disposable.create(()=>this.stream.off("end",e));}onData(e){return this.stream.on("data",e),Ls.Disposable.create(()=>this.stream.off("data",e));}},qg=class{constructor(e){this.stream=e;}onClose(e){return this.stream.on("close",e),Ls.Disposable.create(()=>this.stream.off("close",e));}onError(e){return this.stream.on("error",e),Ls.Disposable.create(()=>this.stream.off("error",e));}onEnd(e){return this.stream.on("end",e),Ls.Disposable.create(()=>this.stream.off("end",e));}write(e,n){return new Promise((r,i)=>{let s=o=>{o==null?r():i(o);};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s);});}end(){this.stream.end();}},Vg=Object.freeze({messageBuffer:Object.freeze({create:t=>new $a(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset));}catch(n){return Promise.reject(n);}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new kg.TextDecoder(e.charset).decode(t)));}catch(n){return Promise.reject(n);}}})}),stream:Object.freeze({asReadableStream:t=>new Fg(t),asWritableStream:t=>new qg(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){return setTimeout(t,e,...n);},clearTimeout(t){clearTimeout(t);},setImmediate(t,...e){return setImmediate(t,...e);},clearImmediate(t){clearImmediate(t);}})});function dp(){return Vg;}(function(t){function e(){$0.default.install(Vg);}t.install=e;})(dp||(dp={}));mp.default=dp;});var Lo=q(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.stringArray=an.array=an.func=an.error=an.number=an.string=an.boolean=void 0;function X0(t){return t===!0||t===!1;}an.boolean=X0;function jg(t){return typeof t=="string"||t instanceof String;}an.string=jg;function Q0(t){return typeof t=="number"||t instanceof Number;}an.number=Q0;function J0(t){return t instanceof Error;}an.error=J0;function Z0(t){return typeof t=="function";}an.func=Z0;function Ug(t){return Array.isArray(t);}an.array=Ug;function eC(t){return Ug(t)&&t.every(e=>jg(e));}an.stringArray=eC;});var hp=q(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.isResponseMessage=te.isNotificationMessage=te.isRequestMessage=te.NotificationType9=te.NotificationType8=te.NotificationType7=te.NotificationType6=te.NotificationType5=te.NotificationType4=te.NotificationType3=te.NotificationType2=te.NotificationType1=te.NotificationType0=te.NotificationType=te.RequestType9=te.RequestType8=te.RequestType7=te.RequestType6=te.RequestType5=te.RequestType4=te.RequestType3=te.RequestType2=te.RequestType1=te.RequestType=te.RequestType0=te.AbstractMessageSignature=te.ParameterStructures=te.ResponseError=te.ErrorCodes=void 0;var Ds=Lo(),Gg;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=t.jsonrpcReservedErrorRangeStart,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=t.jsonrpcReservedErrorRangeEnd;})(Gg=te.ErrorCodes||(te.ErrorCodes={}));var _u=class extends Error{constructor(e,n,r){super(n);this.code=Ds.number(e)?e:Gg.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,_u.prototype);}toJson(){return{code:this.code,message:this.message,data:this.data};}};te.ResponseError=_u;var Qt=class{constructor(e){this.kind=e;}static is(e){return e===Qt.auto||e===Qt.byName||e===Qt.byPosition;}toString(){return this.kind;}};te.ParameterStructures=Qt;Qt.auto=new Qt("auto");Qt.byPosition=new Qt("byPosition");Qt.byName=new Qt("byName");var ft=class{constructor(e,n){this.method=e,this.numberOfParams=n;}get parameterStructures(){return Qt.auto;}};te.AbstractMessageSignature=ft;var Wg=class extends ft{constructor(e){super(e,0);}};te.RequestType0=Wg;var Hg=class extends ft{constructor(e,n=Qt.auto){super(e,1);this._parameterStructures=n;}get parameterStructures(){return this._parameterStructures;}};te.RequestType=Hg;var Yg=class extends ft{constructor(e,n=Qt.auto){super(e,1);this._parameterStructures=n;}get parameterStructures(){return this._parameterStructures;}};te.RequestType1=Yg;var Kg=class extends ft{constructor(e){super(e,2);}};te.RequestType2=Kg;var $g=class extends ft{constructor(e){super(e,3);}};te.RequestType3=$g;var zg=class extends ft{constructor(e){super(e,4);}};te.RequestType4=zg;var Xg=class extends ft{constructor(e){super(e,5);}};te.RequestType5=Xg;var Qg=class extends ft{constructor(e){super(e,6);}};te.RequestType6=Qg;var Jg=class extends ft{constructor(e){super(e,7);}};te.RequestType7=Jg;var Zg=class extends ft{constructor(e){super(e,8);}};te.RequestType8=Zg;var e_=class extends ft{constructor(e){super(e,9);}};te.RequestType9=e_;var t_=class extends ft{constructor(e,n=Qt.auto){super(e,1);this._parameterStructures=n;}get parameterStructures(){return this._parameterStructures;}};te.NotificationType=t_;var n_=class extends ft{constructor(e){super(e,0);}};te.NotificationType0=n_;var r_=class extends ft{constructor(e,n=Qt.auto){super(e,1);this._parameterStructures=n;}get parameterStructures(){return this._parameterStructures;}};te.NotificationType1=r_;var i_=class extends ft{constructor(e){super(e,2);}};te.NotificationType2=i_;var s_=class extends ft{constructor(e){super(e,3);}};te.NotificationType3=s_;var o_=class extends ft{constructor(e){super(e,4);}};te.NotificationType4=o_;var a_=class extends ft{constructor(e){super(e,5);}};te.NotificationType5=a_;var l_=class extends ft{constructor(e){super(e,6);}};te.NotificationType6=l_;var u_=class extends ft{constructor(e){super(e,7);}};te.NotificationType7=u_;var c_=class extends ft{constructor(e){super(e,8);}};te.NotificationType8=c_;var f_=class extends ft{constructor(e){super(e,9);}};te.NotificationType9=f_;function tC(t){let e=t;return e&&Ds.string(e.method)&&(Ds.string(e.id)||Ds.number(e.id));}te.isRequestMessage=tC;function nC(t){let e=t;return e&&Ds.string(e.method)&&t.id===void 0;}te.isNotificationMessage=nC;function rC(t){let e=t;return e&&(e.result!==void 0||!!e.error)&&(Ds.string(e.id)||Ds.number(e.id)||e.id===null);}te.isResponseMessage=rC;});var Do=q(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.Emitter=Ms.Event=void 0;var iC=Si(),sC;(function(t){let e={dispose(){}};t.None=function(){return e;};})(sC=Ms.Event||(Ms.Event={}));var p_=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)});}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return;}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context");}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,o=r.length;s<o;s++)try{n.push(r[s].apply(i[s],e));}catch(a){iC.default().console.error(a);}return n;}isEmpty(){return!this._callbacks||this._callbacks.length===0;}dispose(){this._callbacks=void 0,this._contexts=void 0;}},za=class{constructor(e){this._options=e;}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new p_),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:()=>{!this._callbacks||(this._callbacks.remove(e,n),i.dispose=za._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this));}};return Array.isArray(r)&&r.push(i),i;}),this._event;}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e);}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0);}};Ms.Emitter=za;za._noop=function(){};});var Tp=q(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.CancellationTokenSource=ks.CancellationToken=void 0;var d_=Si(),oC=Lo(),gp=Do(),_p;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:gp.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:gp.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||oC.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested);}t.is=e;})(_p=ks.CancellationToken||(ks.CancellationToken={}));var aC=Object.freeze(function(t,e){let n=d_.default().timer.setTimeout(t.bind(e),0);return{dispose(){d_.default().timer.clearTimeout(n);}};}),yp=class{constructor(){this._isCancelled=!1;}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()));}get isCancellationRequested(){return this._isCancelled;}get onCancellationRequested(){return this._isCancelled?aC:(this._emitter||(this._emitter=new gp.Emitter),this._emitter.event);}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0);}},m_=class{get token(){return this._token||(this._token=new yp),this._token;}cancel(){this._token?this._token.cancel():this._token=_p.Cancelled;}dispose(){this._token?this._token instanceof yp&&this._token.dispose():this._token=_p.None;}};ks.CancellationTokenSource=m_;});var g_=q(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.ReadableStreamMessageReader=Ri.AbstractMessageReader=Ri.MessageReader=void 0;var yu=Si(),Mo=Lo(),bp=Do(),lC;(function(t){function e(n){let r=n;return r&&Mo.func(r.listen)&&Mo.func(r.dispose)&&Mo.func(r.onError)&&Mo.func(r.onClose)&&Mo.func(r.onPartialMessage);}t.is=e;})(lC=Ri.MessageReader||(Ri.MessageReader={}));var vp=class{constructor(){this.errorEmitter=new bp.Emitter,this.closeEmitter=new bp.Emitter,this.partialMessageEmitter=new bp.Emitter;}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose();}get onError(){return this.errorEmitter.event;}fireError(e){this.errorEmitter.fire(this.asError(e));}get onClose(){return this.closeEmitter.event;}fireClose(){this.closeEmitter.fire(void 0);}get onPartialMessage(){return this.partialMessageEmitter.event;}firePartialMessage(e){this.partialMessageEmitter.fire(e);}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Mo.string(e.message)?e.message:"unknown"}`);}};Ri.AbstractMessageReader=vp;var Np;(function(t){function e(n){var r;let i,s,o,a=new Map,l,u=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=(r=n.charset)!==null&&r!==void 0?r:"utf-8",n.contentDecoder!==void 0&&(o=n.contentDecoder,a.set(o.name,o)),n.contentDecoders!==void 0)for(let f of n.contentDecoders)a.set(f.name,f);if(n.contentTypeDecoder!==void 0&&(l=n.contentTypeDecoder,u.set(l.name,l)),n.contentTypeDecoders!==void 0)for(let f of n.contentTypeDecoders)u.set(f.name,f);}return l===void 0&&(l=yu.default().applicationJson.decoder,u.set(l.name,l)),{charset:i,contentDecoder:o,contentDecoders:a,contentTypeDecoder:l,contentTypeDecoders:u};}t.fromOptions=e;})(Np||(Np={}));var h_=class extends vp{constructor(e,n){super();this.readable=e,this.options=Np.fromOptions(n),this.buffer=yu.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0;}set partialMessageTimeout(e){this._partialMessageTimeout=e;}get partialMessageTimeout(){return this._partialMessageTimeout;}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r);});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n;}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let s=i.get("Content-Length");if(!s)throw new Error("Header must provide a Content-Length property.");let o=parseInt(s);if(isNaN(o))throw new Error("Content-Length value must be a number.");this.nextMessageLength=o;}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return;}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(n):r=Promise.resolve(n),r.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(s=>{this.callback(s);},s=>{this.fireError(s);});},i=>{this.fireError(i);});}}clearPartialMessageTimer(){this.partialMessageTimer&&(yu.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0);}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=yu.default().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer());},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout));}};Ri.ReadableStreamMessageReader=h_;});var y_=q(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.Semaphore=void 0;var uC=Si(),__=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[];}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext();});}get active(){return this._active;}runNext(){this._waiting.length===0||this._active===this._capacity||uC.default().timer.setImmediate(()=>this.doRunNext());}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext();},r=>{this._active--,e.reject(r),this.runNext();}):(this._active--,e.resolve(n),this.runNext());}catch(n){this._active--,e.reject(n),this.runNext();}}};Tu.Semaphore=__;});var P_=q(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.WriteableStreamMessageWriter=Ci.AbstractMessageWriter=Ci.MessageWriter=void 0;var T_=Si(),Xa=Lo(),cC=y_(),b_=Do(),fC="Content-Length: ",v_=`\r
`,pC;(function(t){function e(n){let r=n;return r&&Xa.func(r.dispose)&&Xa.func(r.onClose)&&Xa.func(r.onError)&&Xa.func(r.write);}t.is=e;})(pC=Ci.MessageWriter||(Ci.MessageWriter={}));var Pp=class{constructor(){this.errorEmitter=new b_.Emitter,this.closeEmitter=new b_.Emitter;}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose();}get onError(){return this.errorEmitter.event;}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r]);}get onClose(){return this.closeEmitter.event;}fireClose(){this.closeEmitter.fire(void 0);}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Xa.string(e.message)?e.message:"unknown"}`);}};Ci.AbstractMessageWriter=Pp;var Ip;(function(t){function e(n){var r,i;return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:T_.default().applicationJson.encoder}:{charset:(r=n.charset)!==null&&r!==void 0?r:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(i=n.contentTypeEncoder)!==null&&i!==void 0?i:T_.default().applicationJson.encoder};}t.fromOptions=e;})(Ip||(Ip={}));var N_=class extends Pp{constructor(e,n){super();this.writable=e,this.options=Ip.fromOptions(n),this.errorCount=0,this.writeSemaphore=new cC.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose());}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(fC,r.byteLength.toString(),v_),i.push(v_),this.doWrite(e,i,r);},r=>{throw this.fireError(r),r;}));}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r);}catch(i){return this.handleError(i,e),Promise.reject(i);}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount);}end(){this.writable.end();}};Ci.WriteableStreamMessageWriter=N_;});var S_=q(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});xi.LRUCache=xi.LinkedMap=xi.Touch=void 0;var dn;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last;})(dn=xi.Touch||(xi.Touch={}));var Sp=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0;}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++;}isEmpty(){return!this._head&&!this._tail;}get size(){return this._size;}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value;}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value;}has(e){return this._map.has(e);}get(e,n=dn.None){let r=this._map.get(e);if(r)return n!==dn.None&&this.touch(r,n),r.value;}set(e,n,r=dn.None){let i=this._map.get(e);if(i)i.value=n,r!==dn.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case dn.None:this.addItemLast(i);break;case dn.First:this.addItemFirst(i);break;case dn.Last:this.addItemLast(i);break;default:this.addItemLast(i);break;}this._map.set(e,i),this._size++;}return this;}delete(e){return!!this.remove(e);}remove(e){let n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value;}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value;}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next;}}keys(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i;},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.key,done:!1};return r=r.next,s;}else return{value:void 0,done:!0};}};return i;}values(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i;},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.value,done:!1};return r=r.next,s;}else return{value:void 0,done:!0};}};return i;}entries(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i;},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:[r.key,r.value],done:!1};return r=r.next,s;}else return{value:void 0,done:!0};}};return i;}[Symbol.iterator](){return this.entries();}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return;}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++;}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++;}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++;}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next;}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous;}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n;}e.next=void 0,e.previous=void 0,this._state++;}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==dn.First&&n!==dn.Last)){if(n===dn.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++;}else if(n===dn.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++;}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n]);}),e;}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r);}};xi.LinkedMap=Sp;var I_=class extends Sp{constructor(e,n=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,n),1);}get limit(){return this._limit;}set limit(e){this._limit=e,this.checkTrim();}get ratio(){return this._ratio;}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim();}get(e,n=dn.AsNew){return super.get(e,n);}peek(e){return super.get(e,dn.None);}set(e,n){return super.set(e,n,dn.Last),this.checkTrim(),this;}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio));}};xi.LRUCache=I_;});var w_=q(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.createMessageConnection=ve.ConnectionOptions=ve.CancellationStrategy=ve.CancellationSenderStrategy=ve.CancellationReceiverStrategy=ve.ConnectionStrategy=ve.ConnectionError=ve.ConnectionErrors=ve.LogTraceNotification=ve.SetTraceNotification=ve.TraceFormat=ve.Trace=ve.NullLogger=ve.ProgressType=void 0;var R_=Si(),Ut=Lo(),ge=hp(),C_=S_(),Qa=Do(),Rp=Tp(),Ja;(function(t){t.type=new ge.NotificationType("$/cancelRequest");})(Ja||(Ja={}));var bu;(function(t){t.type=new ge.NotificationType("$/progress");})(bu||(bu={}));var x_=class{constructor(){}};ve.ProgressType=x_;var Cp;(function(t){function e(n){return Ut.func(n);}t.is=e;})(Cp||(Cp={}));ve.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Rt;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose";})(Rt=ve.Trace||(ve.Trace={}));(function(t){function e(r){if(!Ut.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off;}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off";}}t.toString=n;})(Rt=ve.Trace||(ve.Trace={}));var vr;(function(t){t.Text="text",t.JSON="json";})(vr=ve.TraceFormat||(ve.TraceFormat={}));(function(t){function e(n){return n=n.toLowerCase(),n==="json"?t.JSON:t.Text;}t.fromString=e;})(vr=ve.TraceFormat||(ve.TraceFormat={}));var A_;(function(t){t.type=new ge.NotificationType("$/setTrace");})(A_=ve.SetTraceNotification||(ve.SetTraceNotification={}));var xp;(function(t){t.type=new ge.NotificationType("$/logTrace");})(xp=ve.LogTraceNotification||(ve.LogTraceNotification={}));var vu;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening";})(vu=ve.ConnectionErrors||(ve.ConnectionErrors={}));var Fs=class extends Error{constructor(e,n){super(n);this.code=e,Object.setPrototypeOf(this,Fs.prototype);}};ve.ConnectionError=Fs;var E_;(function(t){function e(n){let r=n;return r&&Ut.func(r.cancelUndispatched);}t.is=e;})(E_=ve.ConnectionStrategy||(ve.ConnectionStrategy={}));var Ap;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new Rp.CancellationTokenSource;}});function e(n){let r=n;return r&&Ut.func(r.createCancellationTokenSource);}t.is=e;})(Ap=ve.CancellationReceiverStrategy||(ve.CancellationReceiverStrategy={}));var Ep;(function(t){t.Message=Object.freeze({sendCancellation(n,r){n.sendNotification(Ja.type,{id:r});},cleanup(n){}});function e(n){let r=n;return r&&Ut.func(r.sendCancellation)&&Ut.func(r.cleanup);}t.is=e;})(Ep=ve.CancellationSenderStrategy||(ve.CancellationSenderStrategy={}));var wp;(function(t){t.Message=Object.freeze({receiver:Ap.Message,sender:Ep.Message});function e(n){let r=n;return r&&Ap.is(r.receiver)&&Ep.is(r.sender);}t.is=e;})(wp=ve.CancellationStrategy||(ve.CancellationStrategy={}));var dC;(function(t){function e(n){let r=n;return r&&(wp.is(r.cancellationStrategy)||E_.is(r.connectionStrategy));}t.is=e;})(dC=ve.ConnectionOptions||(ve.ConnectionOptions={}));var Nr;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed";})(Nr||(Nr={}));function mC(t,e,n,r){let i=n!==void 0?n:ve.NullLogger,s=0,o=0,a=0,l="2.0",u,f=Object.create(null),c,d=Object.create(null),p=new Map,m,h=new C_.LinkedMap,v=Object.create(null),g=Object.create(null),_=Rt.Off,T=vr.Text,I,w=Nr.New,$=new Qa.Emitter,B=new Qa.Emitter,ue=new Qa.Emitter,ae=new Qa.Emitter,Te=new Qa.Emitter,ne=r&&r.cancellationStrategy?r.cancellationStrategy:wp.Message;function je(N){if(N===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+N.toString();}function _t(N){return N===null?"res-unknown-"+(++a).toString():"res-"+N.toString();}function Ie(){return"not-"+(++o).toString();}function Q(N,P){ge.isRequestMessage(P)?N.set(je(P.id),P):ge.isResponseMessage(P)?N.set(_t(P.id),P):N.set(Ie(),P);}function ze(N){}function st(){return w===Nr.Listening;}function Ot(){return w===Nr.Closed;}function ke(){return w===Nr.Disposed;}function ot(){(w===Nr.New||w===Nr.Listening)&&(w=Nr.Closed,B.fire(void 0));}function bi(N){$.fire([N,void 0,void 0]);}function $i(N){$.fire(N);}t.onClose(ot),t.onError(bi),e.onClose(ot),e.onError($i);function re(){m||h.size===0||(m=R_.default().timer.setImmediate(()=>{m=void 0,se();}));}function se(){if(h.size===0)return;let N=h.shift();try{ge.isRequestMessage(N)?ee(N):ge.isNotificationMessage(N)?yt(N):ge.isResponseMessage(N)?be(N):Tr(N);}finally{re();}}let ce=N=>{try{if(ge.isNotificationMessage(N)&&N.method===Ja.type.method){let P=je(N.params.id),y=h.get(P);if(ge.isRequestMessage(y)){let x=r==null?void 0:r.connectionStrategy,A=x&&x.cancelUndispatched?x.cancelUndispatched(y,ze):void 0;if(A&&(A.error!==void 0||A.result!==void 0)){h.delete(P),A.id=y.id,Zr(A,N.method,Date.now()),e.write(A);return;}}}Q(h,N);}finally{re();}};function ee(N){if(ke())return;function P(k,Z,le){let Ee={jsonrpc:l,id:N.id};k instanceof ge.ResponseError?Ee.error=k.toJson():Ee.result=k===void 0?null:k,Zr(Ee,Z,le),e.write(Ee);}function y(k,Z,le){let Ee={jsonrpc:l,id:N.id,error:k.toJson()};Zr(Ee,Z,le),e.write(Ee);}function x(k,Z,le){k===void 0&&(k=null);let Ee={jsonrpc:l,id:N.id,result:k};Zr(Ee,Z,le),e.write(Ee);}Os(N);let A=f[N.method],R,b;A&&(R=A.type,b=A.handler);let E=Date.now();if(b||u){let k=String(N.id),Z=ne.receiver.createCancellationTokenSource(k);g[k]=Z;try{let le;if(b)if(N.params===void 0){if(R!==void 0&&R.numberOfParams!==0){y(new ge.ResponseError(ge.ErrorCodes.InvalidParams,`Request ${N.method} defines ${R.numberOfParams} params but recevied none.`),N.method,E);return;}le=b(Z.token);}else if(Array.isArray(N.params)){if(R!==void 0&&R.parameterStructures===ge.ParameterStructures.byName){y(new ge.ResponseError(ge.ErrorCodes.InvalidParams,`Request ${N.method} defines parameters by name but received parameters by position`),N.method,E);return;}le=b(...N.params,Z.token);}else{if(R!==void 0&&R.parameterStructures===ge.ParameterStructures.byPosition){y(new ge.ResponseError(ge.ErrorCodes.InvalidParams,`Request ${N.method} defines parameters by position but received parameters by name`),N.method,E);return;}le=b(N.params,Z.token);}else u&&(le=u(N.method,N.params,Z.token));let Ee=le;le?Ee.then?Ee.then(nt=>{delete g[k],P(nt,N.method,E);},nt=>{delete g[k],nt instanceof ge.ResponseError?y(nt,N.method,E):nt&&Ut.string(nt.message)?y(new ge.ResponseError(ge.ErrorCodes.InternalError,`Request ${N.method} failed with message: ${nt.message}`),N.method,E):y(new ge.ResponseError(ge.ErrorCodes.InternalError,`Request ${N.method} failed unexpectedly without providing any details.`),N.method,E);}):(delete g[k],P(le,N.method,E)):(delete g[k],x(le,N.method,E));}catch(le){delete g[k],le instanceof ge.ResponseError?P(le,N.method,E):le&&Ut.string(le.message)?y(new ge.ResponseError(ge.ErrorCodes.InternalError,`Request ${N.method} failed with message: ${le.message}`),N.method,E):y(new ge.ResponseError(ge.ErrorCodes.InternalError,`Request ${N.method} failed unexpectedly without providing any details.`),N.method,E);}}else y(new ge.ResponseError(ge.ErrorCodes.MethodNotFound,`Unhandled method ${N.method}`),N.method,E);}function be(N){if(!ke())if(N.id===null)N.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(N.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let P=String(N.id),y=v[P];if(wo(N,y),y){delete v[P];try{if(N.error){let x=N.error;y.reject(new ge.ResponseError(x.code,x.message,x.data));}else if(N.result!==void 0)y.resolve(N.result);else throw new Error("Should never happen.");}catch(x){x.message?i.error(`Response handler '${y.method}' failed with message: ${x.message}`):i.error(`Response handler '${y.method}' failed unexpectedly.`);}}}}function yt(N){if(ke())return;let P,y;if(N.method===Ja.type.method)y=x=>{let A=x.id,R=g[String(A)];R&&R.cancel();};else{let x=d[N.method];x&&(y=x.handler,P=x.type);}if(y||c)try{Eo(N),y?N.params===void 0?(P!==void 0&&P.numberOfParams!==0&&P.parameterStructures!==ge.ParameterStructures.byName&&i.error(`Notification ${N.method} defines ${P.numberOfParams} params but recevied none.`),y()):Array.isArray(N.params)?(P!==void 0&&(P.parameterStructures===ge.ParameterStructures.byName&&i.error(`Notification ${N.method} defines parameters by name but received parameters by position`),P.numberOfParams!==N.params.length&&i.error(`Notification ${N.method} defines ${P.numberOfParams} params but received ${N.params.length} argumennts`)),y(...N.params)):(P!==void 0&&P.parameterStructures===ge.ParameterStructures.byPosition&&i.error(`Notification ${N.method} defines parameters by position but received parameters by name`),y(N.params)):c&&c(N.method,N.params);}catch(x){x.message?i.error(`Notification handler '${N.method}' failed with message: ${x.message}`):i.error(`Notification handler '${N.method}' failed unexpectedly.`);}else ue.fire(N);}function Tr(N){if(!N){i.error("Received empty message.");return;}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(N,null,4)}`);let P=N;if(Ut.string(P.id)||Ut.number(P.id)){let y=String(P.id),x=v[y];x&&x.reject(new Error("The received response has neither a result nor an error property."));}}function xo(N){if(!(_===Rt.Off||!I))if(T===vr.Text){let P;_===Rt.Verbose&&N.params&&(P=`Params: ${JSON.stringify(N.params,null,4)}

`),I.log(`Sending request '${N.method} - (${N.id})'.`,P);}else Mn("send-request",N);}function Ao(N){if(!(_===Rt.Off||!I))if(T===vr.Text){let P;_===Rt.Verbose&&(N.params?P=`Params: ${JSON.stringify(N.params,null,4)}

`:P=`No parameters provided.

`),I.log(`Sending notification '${N.method}'.`,P);}else Mn("send-notification",N);}function Zr(N,P,y){if(!(_===Rt.Off||!I))if(T===vr.Text){let x;_===Rt.Verbose&&(N.error&&N.error.data?x=`Error data: ${JSON.stringify(N.error.data,null,4)}

`:N.result?x=`Result: ${JSON.stringify(N.result,null,4)}

`:N.error===void 0&&(x=`No result returned.

`)),I.log(`Sending response '${P} - (${N.id})'. Processing request took ${Date.now()-y}ms`,x);}else Mn("send-response",N);}function Os(N){if(!(_===Rt.Off||!I))if(T===vr.Text){let P;_===Rt.Verbose&&N.params&&(P=`Params: ${JSON.stringify(N.params,null,4)}

`),I.log(`Received request '${N.method} - (${N.id})'.`,P);}else Mn("receive-request",N);}function Eo(N){if(!(_===Rt.Off||!I||N.method===xp.type.method))if(T===vr.Text){let P;_===Rt.Verbose&&(N.params?P=`Params: ${JSON.stringify(N.params,null,4)}

`:P=`No parameters provided.

`),I.log(`Received notification '${N.method}'.`,P);}else Mn("receive-notification",N);}function wo(N,P){if(!(_===Rt.Off||!I))if(T===vr.Text){let y;if(_===Rt.Verbose&&(N.error&&N.error.data?y=`Error data: ${JSON.stringify(N.error.data,null,4)}

`:N.result?y=`Result: ${JSON.stringify(N.result,null,4)}

`:N.error===void 0&&(y=`No result returned.

`)),P){let x=N.error?` Request failed: ${N.error.message} (${N.error.code}).`:"";I.log(`Received response '${P.method} - (${N.id})' in ${Date.now()-P.timerStart}ms.${x}`,y);}else I.log(`Received response ${N.id} without active response promise.`,y);}else Mn("receive-response",N);}function Mn(N,P){if(!I||_===Rt.Off)return;let y={isLSPMessage:!0,type:N,message:P,timestamp:Date.now()};I.log(y);}function Nt(){if(Ot())throw new Fs(vu.Closed,"Connection is closed.");if(ke())throw new Fs(vu.Disposed,"Connection is disposed.");}function vi(){if(st())throw new Fs(vu.AlreadyListening,"Connection is already listening");}function zi(){if(!st())throw new Error("Call listen() first.");}function br(N){return N===void 0?null:N;}function Ni(N){if(N!==null)return N;}function Pi(N){return N!=null&&!Array.isArray(N)&&typeof N=="object";}function Ii(N,P){switch(N){case ge.ParameterStructures.auto:return Pi(P)?Ni(P):[br(P)];case ge.ParameterStructures.byName:if(!Pi(P))throw new Error("Recevied parameters by name but param is not an object literal.");return Ni(P);case ge.ParameterStructures.byPosition:return[br(P)];default:throw new Error(`Unknown parameter structure ${N.toString()}`);}}function ei(N,P){let y,x=N.numberOfParams;switch(x){case 0:y=void 0;break;case 1:y=Ii(N.parameterStructures,P[0]);break;default:y=[];for(let A=0;A<P.length&&A<x;A++)y.push(br(P[A]));if(P.length<x)for(let A=P.length;A<x;A++)y.push(null);break;}return y;}let Qn={sendNotification:(N,...P)=>{Nt();let y,x;if(Ut.string(N)){y=N;let R=P[0],b=0,E=ge.ParameterStructures.auto;ge.ParameterStructures.is(R)&&(b=1,E=R);let k=P.length,Z=k-b;switch(Z){case 0:x=void 0;break;case 1:x=Ii(E,P[b]);break;default:if(E===ge.ParameterStructures.byName)throw new Error(`Recevied ${Z} parameters for 'by Name' notification parameter structure.`);x=P.slice(b,k).map(le=>br(le));break;}}else{let R=P;y=N.method,x=ei(N,R);}let A={jsonrpc:l,method:y,params:x};Ao(A),e.write(A);},onNotification:(N,P)=>{Nt();let y;return Ut.func(N)?c=N:P&&(Ut.string(N)?(y=N,d[N]={type:void 0,handler:P}):(y=N.method,d[N.method]={type:N,handler:P})),{dispose:()=>{y!==void 0?delete d[y]:c=void 0;}};},onProgress:(N,P,y)=>{if(p.has(P))throw new Error(`Progress handler for token ${P} already registered`);return p.set(P,y),{dispose:()=>{p.delete(P);}};},sendProgress:(N,P,y)=>{Qn.sendNotification(bu.type,{token:P,value:y});},onUnhandledProgress:ae.event,sendRequest:(N,...P)=>{Nt(),zi();let y,x,A;if(Ut.string(N)){y=N;let k=P[0],Z=P[P.length-1],le=0,Ee=ge.ParameterStructures.auto;ge.ParameterStructures.is(k)&&(le=1,Ee=k);let nt=P.length;Rp.CancellationToken.is(Z)&&(nt=nt-1,A=Z);let Lt=nt-le;switch(Lt){case 0:x=void 0;break;case 1:x=Ii(Ee,P[le]);break;default:if(Ee===ge.ParameterStructures.byName)throw new Error(`Recevied ${Lt} parameters for 'by Name' request parameter structure.`);x=P.slice(le,nt).map(jt=>br(jt));break;}}else{let k=P;y=N.method,x=ei(N,k);let Z=N.numberOfParams;A=Rp.CancellationToken.is(k[Z])?k[Z]:void 0;}let R=s++,b;return A&&(b=A.onCancellationRequested(()=>{ne.sender.sendCancellation(Qn,R);})),new Promise((k,Z)=>{let le={jsonrpc:l,id:R,method:y,params:x},Ee=jt=>{k(jt),ne.sender.cleanup(R),b==null||b.dispose();},nt=jt=>{Z(jt),ne.sender.cleanup(R),b==null||b.dispose();},Lt={method:y,timerStart:Date.now(),resolve:Ee,reject:nt};xo(le);try{e.write(le);}catch(jt){Lt.reject(new ge.ResponseError(ge.ErrorCodes.MessageWriteError,jt.message?jt.message:"Unknown reason")),Lt=null;}Lt&&(v[String(R)]=Lt);});},onRequest:(N,P)=>{Nt();let y=null;return Cp.is(N)?(y=void 0,u=N):Ut.string(N)?(y=null,P!==void 0&&(y=N,f[N]={handler:P,type:void 0})):P!==void 0&&(y=N.method,f[N.method]={type:N,handler:P}),{dispose:()=>{y!==null&&(y!==void 0?delete f[y]:u=void 0);}};},trace:(N,P,y)=>{let x=!1,A=vr.Text;y!==void 0&&(Ut.boolean(y)?x=y:(x=y.sendNotification||!1,A=y.traceFormat||vr.Text)),_=N,T=A,_===Rt.Off?I=void 0:I=P,x&&!Ot()&&!ke()&&Qn.sendNotification(A_.type,{value:Rt.toString(N)});},onError:$.event,onClose:B.event,onUnhandledNotification:ue.event,onDispose:Te.event,end:()=>{e.end();},dispose:()=>{if(ke())return;w=Nr.Disposed,Te.fire(void 0);let N=new Error("Connection got disposed.");Object.keys(v).forEach(P=>{v[P].reject(N);}),v=Object.create(null),g=Object.create(null),h=new C_.LinkedMap,Ut.func(e.dispose)&&e.dispose(),Ut.func(t.dispose)&&t.dispose();},listen:()=>{Nt(),vi(),w=Nr.Listening,t.listen(ce);},inspect:()=>{R_.default().console.log("inspect");}};return Qn.onNotification(xp.type,N=>{_===Rt.Off||!I||I.log(N.message,_===Rt.Verbose?N.verbose:void 0);}),Qn.onNotification(bu.type,N=>{let P=p.get(N.token);P?P(N.value):ae.fire(N);}),Qn;}ve.createMessageConnection=mC;});var Dp=q(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.CancellationSenderStrategy=j.CancellationReceiverStrategy=j.ConnectionError=j.ConnectionErrors=j.LogTraceNotification=j.SetTraceNotification=j.TraceFormat=j.Trace=j.ProgressType=j.createMessageConnection=j.NullLogger=j.ConnectionOptions=j.ConnectionStrategy=j.WriteableStreamMessageWriter=j.AbstractMessageWriter=j.MessageWriter=j.ReadableStreamMessageReader=j.AbstractMessageReader=j.MessageReader=j.CancellationToken=j.CancellationTokenSource=j.Emitter=j.Event=j.Disposable=j.ParameterStructures=j.NotificationType9=j.NotificationType8=j.NotificationType7=j.NotificationType6=j.NotificationType5=j.NotificationType4=j.NotificationType3=j.NotificationType2=j.NotificationType1=j.NotificationType0=j.NotificationType=j.ErrorCodes=j.ResponseError=j.RequestType9=j.RequestType8=j.RequestType7=j.RequestType6=j.RequestType5=j.RequestType4=j.RequestType3=j.RequestType2=j.RequestType1=j.RequestType0=j.RequestType=j.RAL=void 0;j.CancellationStrategy=void 0;var at=hp();Object.defineProperty(j,"RequestType",{enumerable:!0,get:function(){return at.RequestType;}});Object.defineProperty(j,"RequestType0",{enumerable:!0,get:function(){return at.RequestType0;}});Object.defineProperty(j,"RequestType1",{enumerable:!0,get:function(){return at.RequestType1;}});Object.defineProperty(j,"RequestType2",{enumerable:!0,get:function(){return at.RequestType2;}});Object.defineProperty(j,"RequestType3",{enumerable:!0,get:function(){return at.RequestType3;}});Object.defineProperty(j,"RequestType4",{enumerable:!0,get:function(){return at.RequestType4;}});Object.defineProperty(j,"RequestType5",{enumerable:!0,get:function(){return at.RequestType5;}});Object.defineProperty(j,"RequestType6",{enumerable:!0,get:function(){return at.RequestType6;}});Object.defineProperty(j,"RequestType7",{enumerable:!0,get:function(){return at.RequestType7;}});Object.defineProperty(j,"RequestType8",{enumerable:!0,get:function(){return at.RequestType8;}});Object.defineProperty(j,"RequestType9",{enumerable:!0,get:function(){return at.RequestType9;}});Object.defineProperty(j,"ResponseError",{enumerable:!0,get:function(){return at.ResponseError;}});Object.defineProperty(j,"ErrorCodes",{enumerable:!0,get:function(){return at.ErrorCodes;}});Object.defineProperty(j,"NotificationType",{enumerable:!0,get:function(){return at.NotificationType;}});Object.defineProperty(j,"NotificationType0",{enumerable:!0,get:function(){return at.NotificationType0;}});Object.defineProperty(j,"NotificationType1",{enumerable:!0,get:function(){return at.NotificationType1;}});Object.defineProperty(j,"NotificationType2",{enumerable:!0,get:function(){return at.NotificationType2;}});Object.defineProperty(j,"NotificationType3",{enumerable:!0,get:function(){return at.NotificationType3;}});Object.defineProperty(j,"NotificationType4",{enumerable:!0,get:function(){return at.NotificationType4;}});Object.defineProperty(j,"NotificationType5",{enumerable:!0,get:function(){return at.NotificationType5;}});Object.defineProperty(j,"NotificationType6",{enumerable:!0,get:function(){return at.NotificationType6;}});Object.defineProperty(j,"NotificationType7",{enumerable:!0,get:function(){return at.NotificationType7;}});Object.defineProperty(j,"NotificationType8",{enumerable:!0,get:function(){return at.NotificationType8;}});Object.defineProperty(j,"NotificationType9",{enumerable:!0,get:function(){return at.NotificationType9;}});Object.defineProperty(j,"ParameterStructures",{enumerable:!0,get:function(){return at.ParameterStructures;}});var hC=pp();Object.defineProperty(j,"Disposable",{enumerable:!0,get:function(){return hC.Disposable;}});var O_=Do();Object.defineProperty(j,"Event",{enumerable:!0,get:function(){return O_.Event;}});Object.defineProperty(j,"Emitter",{enumerable:!0,get:function(){return O_.Emitter;}});var L_=Tp();Object.defineProperty(j,"CancellationTokenSource",{enumerable:!0,get:function(){return L_.CancellationTokenSource;}});Object.defineProperty(j,"CancellationToken",{enumerable:!0,get:function(){return L_.CancellationToken;}});var Op=g_();Object.defineProperty(j,"MessageReader",{enumerable:!0,get:function(){return Op.MessageReader;}});Object.defineProperty(j,"AbstractMessageReader",{enumerable:!0,get:function(){return Op.AbstractMessageReader;}});Object.defineProperty(j,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Op.ReadableStreamMessageReader;}});var Lp=P_();Object.defineProperty(j,"MessageWriter",{enumerable:!0,get:function(){return Lp.MessageWriter;}});Object.defineProperty(j,"AbstractMessageWriter",{enumerable:!0,get:function(){return Lp.AbstractMessageWriter;}});Object.defineProperty(j,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Lp.WriteableStreamMessageWriter;}});var Rn=w_();Object.defineProperty(j,"ConnectionStrategy",{enumerable:!0,get:function(){return Rn.ConnectionStrategy;}});Object.defineProperty(j,"ConnectionOptions",{enumerable:!0,get:function(){return Rn.ConnectionOptions;}});Object.defineProperty(j,"NullLogger",{enumerable:!0,get:function(){return Rn.NullLogger;}});Object.defineProperty(j,"createMessageConnection",{enumerable:!0,get:function(){return Rn.createMessageConnection;}});Object.defineProperty(j,"ProgressType",{enumerable:!0,get:function(){return Rn.ProgressType;}});Object.defineProperty(j,"Trace",{enumerable:!0,get:function(){return Rn.Trace;}});Object.defineProperty(j,"TraceFormat",{enumerable:!0,get:function(){return Rn.TraceFormat;}});Object.defineProperty(j,"SetTraceNotification",{enumerable:!0,get:function(){return Rn.SetTraceNotification;}});Object.defineProperty(j,"LogTraceNotification",{enumerable:!0,get:function(){return Rn.LogTraceNotification;}});Object.defineProperty(j,"ConnectionErrors",{enumerable:!0,get:function(){return Rn.ConnectionErrors;}});Object.defineProperty(j,"ConnectionError",{enumerable:!0,get:function(){return Rn.ConnectionError;}});Object.defineProperty(j,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Rn.CancellationReceiverStrategy;}});Object.defineProperty(j,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Rn.CancellationSenderStrategy;}});Object.defineProperty(j,"CancellationStrategy",{enumerable:!0,get:function(){return Rn.CancellationStrategy;}});var gC=Si();j.RAL=gC.default;});var Vo=q(He=>{"use strict";var _C=He&&He.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n];}});}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n];}),yC=He&&He.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&_C(e,t,n);};Object.defineProperty(He,"__esModule",{value:!0});He.createMessageConnection=He.createServerSocketTransport=He.createClientSocketTransport=He.createServerPipeTransport=He.createClientPipeTransport=He.generateRandomPipeName=He.StreamMessageWriter=He.StreamMessageReader=He.SocketMessageWriter=He.SocketMessageReader=He.IPCMessageWriter=He.IPCMessageReader=void 0;var ko=Bg();ko.default.install();var ti=Dp(),D_=require("path"),TC=require("os"),bC=require("crypto"),Nu=require("net");yC(Dp(),He);var M_=class extends ti.AbstractMessageReader{constructor(e){super();this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose());}listen(e){return this.process.on("message",e),ti.Disposable.create(()=>this.process.off("message",e));}};He.IPCMessageReader=M_;var k_=class extends ti.AbstractMessageWriter{constructor(e){super();this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose);}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0;}),Promise.resolve();}catch(n){return this.handleError(n,e),Promise.reject(n);}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount);}end(){}};He.IPCMessageWriter=k_;var Fo=class extends ti.ReadableStreamMessageReader{constructor(e,n="utf-8"){super(ko.default().stream.asReadableStream(e),n);}};He.SocketMessageReader=Fo;var qo=class extends ti.WriteableStreamMessageWriter{constructor(e,n){super(ko.default().stream.asWritableStream(e),n);this.socket=e;}dispose(){super.dispose(),this.socket.destroy();}};He.SocketMessageWriter=qo;var Mp=class extends ti.ReadableStreamMessageReader{constructor(e,n){super(ko.default().stream.asReadableStream(e),n);}};He.StreamMessageReader=Mp;var kp=class extends ti.WriteableStreamMessageWriter{constructor(e,n){super(ko.default().stream.asWritableStream(e),n);}};He.StreamMessageWriter=kp;var F_=process.env.XDG_RUNTIME_DIR,vC=new Map([["linux",107],["darwin",103]]);function NC(){let t=bC.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;F_?e=D_.join(F_,`vscode-ipc-${t}.sock`):e=D_.join(TC.tmpdir(),`vscode-${t}.sock`);let n=vC.get(process.platform);return n!==void 0&&e.length>=n&&ko.default().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e;}He.generateRandomPipeName=NC;function PC(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i;});return new Promise((i,s)=>{let o=Nu.createServer(a=>{o.close(),n([new Fo(a,e),new qo(a,e)]);});o.on("error",s),o.listen(t,()=>{o.removeListener("error",s),i({onConnected:()=>r});});});}He.createClientPipeTransport=PC;function IC(t,e="utf-8"){let n=Nu.createConnection(t);return[new Fo(n,e),new qo(n,e)];}He.createServerPipeTransport=IC;function SC(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i;});return new Promise((i,s)=>{let o=Nu.createServer(a=>{o.close(),n([new Fo(a,e),new qo(a,e)]);});o.on("error",s),o.listen(t,"127.0.0.1",()=>{o.removeListener("error",s),i({onConnected:()=>r});});});}He.createClientSocketTransport=SC;function RC(t,e="utf-8"){let n=Nu.createConnection(t,"127.0.0.1");return[new Fo(n,e),new qo(n,e)];}He.createServerSocketTransport=RC;function CC(t){let e=t;return e.read!==void 0&&e.addListener!==void 0;}function xC(t){let e=t;return e.write!==void 0&&e.addListener!==void 0;}function AC(t,e,n,r){n||(n=ti.NullLogger);let i=CC(t)?new Mp(t):t,s=xC(e)?new kp(e):e;return ti.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),ti.createMessageConnection(i,s,n,r);}He.createMessageConnection=AC;});var Fp=q((oB,q_)=>{"use strict";q_.exports=Vo();});var rt=q((V_,Pu)=>{(function(t){if(typeof Pu=="object"&&typeof Pu.exports=="object"){var e=t(require,V_);e!==void 0&&(Pu.exports=e);}else typeof define=="function"&&define.amd&&define(["require","exports"],t);})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=void 0;var n;(function(y){y.MIN_VALUE=-2147483648,y.MAX_VALUE=2147483647;})(n=e.integer||(e.integer={}));var r;(function(y){y.MIN_VALUE=0,y.MAX_VALUE=2147483647;})(r=e.uinteger||(e.uinteger={}));var i;(function(y){function x(R,b){return R===Number.MAX_VALUE&&(R=r.MAX_VALUE),b===Number.MAX_VALUE&&(b=r.MAX_VALUE),{line:R,character:b};}y.create=x;function A(R){var b=R;return P.objectLiteral(b)&&P.uinteger(b.line)&&P.uinteger(b.character);}y.is=A;})(i=e.Position||(e.Position={}));var s;(function(y){function x(R,b,E,k){if(P.uinteger(R)&&P.uinteger(b)&&P.uinteger(E)&&P.uinteger(k))return{start:i.create(R,b),end:i.create(E,k)};if(i.is(R)&&i.is(b))return{start:R,end:b};throw new Error("Range#create called with invalid arguments["+R+", "+b+", "+E+", "+k+"]");}y.create=x;function A(R){var b=R;return P.objectLiteral(b)&&i.is(b.start)&&i.is(b.end);}y.is=A;})(s=e.Range||(e.Range={}));var o;(function(y){function x(R,b){return{uri:R,range:b};}y.create=x;function A(R){var b=R;return P.defined(b)&&s.is(b.range)&&(P.string(b.uri)||P.undefined(b.uri));}y.is=A;})(o=e.Location||(e.Location={}));var a;(function(y){function x(R,b,E,k){return{targetUri:R,targetRange:b,targetSelectionRange:E,originSelectionRange:k};}y.create=x;function A(R){var b=R;return P.defined(b)&&s.is(b.targetRange)&&P.string(b.targetUri)&&(s.is(b.targetSelectionRange)||P.undefined(b.targetSelectionRange))&&(s.is(b.originSelectionRange)||P.undefined(b.originSelectionRange));}y.is=A;})(a=e.LocationLink||(e.LocationLink={}));var l;(function(y){function x(R,b,E,k){return{red:R,green:b,blue:E,alpha:k};}y.create=x;function A(R){var b=R;return P.numberRange(b.red,0,1)&&P.numberRange(b.green,0,1)&&P.numberRange(b.blue,0,1)&&P.numberRange(b.alpha,0,1);}y.is=A;})(l=e.Color||(e.Color={}));var u;(function(y){function x(R,b){return{range:R,color:b};}y.create=x;function A(R){var b=R;return s.is(b.range)&&l.is(b.color);}y.is=A;})(u=e.ColorInformation||(e.ColorInformation={}));var f;(function(y){function x(R,b,E){return{label:R,textEdit:b,additionalTextEdits:E};}y.create=x;function A(R){var b=R;return P.string(b.label)&&(P.undefined(b.textEdit)||T.is(b))&&(P.undefined(b.additionalTextEdits)||P.typedArray(b.additionalTextEdits,T.is));}y.is=A;})(f=e.ColorPresentation||(e.ColorPresentation={}));var c;(function(y){y.Comment="comment",y.Imports="imports",y.Region="region";})(c=e.FoldingRangeKind||(e.FoldingRangeKind={}));var d;(function(y){function x(R,b,E,k,Z){var le={startLine:R,endLine:b};return P.defined(E)&&(le.startCharacter=E),P.defined(k)&&(le.endCharacter=k),P.defined(Z)&&(le.kind=Z),le;}y.create=x;function A(R){var b=R;return P.uinteger(b.startLine)&&P.uinteger(b.startLine)&&(P.undefined(b.startCharacter)||P.uinteger(b.startCharacter))&&(P.undefined(b.endCharacter)||P.uinteger(b.endCharacter))&&(P.undefined(b.kind)||P.string(b.kind));}y.is=A;})(d=e.FoldingRange||(e.FoldingRange={}));var p;(function(y){function x(R,b){return{location:R,message:b};}y.create=x;function A(R){var b=R;return P.defined(b)&&o.is(b.location)&&P.string(b.message);}y.is=A;})(p=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var m;(function(y){y.Error=1,y.Warning=2,y.Information=3,y.Hint=4;})(m=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var h;(function(y){y.Unnecessary=1,y.Deprecated=2;})(h=e.DiagnosticTag||(e.DiagnosticTag={}));var v;(function(y){function x(A){var R=A;return R!=null&&P.string(R.href);}y.is=x;})(v=e.CodeDescription||(e.CodeDescription={}));var g;(function(y){function x(R,b,E,k,Z,le){var Ee={range:R,message:b};return P.defined(E)&&(Ee.severity=E),P.defined(k)&&(Ee.code=k),P.defined(Z)&&(Ee.source=Z),P.defined(le)&&(Ee.relatedInformation=le),Ee;}y.create=x;function A(R){var b,E=R;return P.defined(E)&&s.is(E.range)&&P.string(E.message)&&(P.number(E.severity)||P.undefined(E.severity))&&(P.integer(E.code)||P.string(E.code)||P.undefined(E.code))&&(P.undefined(E.codeDescription)||P.string((b=E.codeDescription)===null||b===void 0?void 0:b.href))&&(P.string(E.source)||P.undefined(E.source))&&(P.undefined(E.relatedInformation)||P.typedArray(E.relatedInformation,p.is));}y.is=A;})(g=e.Diagnostic||(e.Diagnostic={}));var _;(function(y){function x(R,b){for(var E=[],k=2;k<arguments.length;k++)E[k-2]=arguments[k];var Z={title:R,command:b};return P.defined(E)&&E.length>0&&(Z.arguments=E),Z;}y.create=x;function A(R){var b=R;return P.defined(b)&&P.string(b.title)&&P.string(b.command);}y.is=A;})(_=e.Command||(e.Command={}));var T;(function(y){function x(E,k){return{range:E,newText:k};}y.replace=x;function A(E,k){return{range:{start:E,end:E},newText:k};}y.insert=A;function R(E){return{range:E,newText:""};}y.del=R;function b(E){var k=E;return P.objectLiteral(k)&&P.string(k.newText)&&s.is(k.range);}y.is=b;})(T=e.TextEdit||(e.TextEdit={}));var I;(function(y){function x(R,b,E){var k={label:R};return b!==void 0&&(k.needsConfirmation=b),E!==void 0&&(k.description=E),k;}y.create=x;function A(R){var b=R;return b!==void 0&&P.objectLiteral(b)&&P.string(b.label)&&(P.boolean(b.needsConfirmation)||b.needsConfirmation===void 0)&&(P.string(b.description)||b.description===void 0);}y.is=A;})(I=e.ChangeAnnotation||(e.ChangeAnnotation={}));var w;(function(y){function x(A){var R=A;return typeof R=="string";}y.is=x;})(w=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var $;(function(y){function x(E,k,Z){return{range:E,newText:k,annotationId:Z};}y.replace=x;function A(E,k,Z){return{range:{start:E,end:E},newText:k,annotationId:Z};}y.insert=A;function R(E,k){return{range:E,newText:"",annotationId:k};}y.del=R;function b(E){var k=E;return T.is(k)&&(I.is(k.annotationId)||w.is(k.annotationId));}y.is=b;})($=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var B;(function(y){function x(R,b){return{textDocument:R,edits:b};}y.create=x;function A(R){var b=R;return P.defined(b)&&st.is(b.textDocument)&&Array.isArray(b.edits);}y.is=A;})(B=e.TextDocumentEdit||(e.TextDocumentEdit={}));var ue;(function(y){function x(R,b,E){var k={kind:"create",uri:R};return b!==void 0&&(b.overwrite!==void 0||b.ignoreIfExists!==void 0)&&(k.options=b),E!==void 0&&(k.annotationId=E),k;}y.create=x;function A(R){var b=R;return b&&b.kind==="create"&&P.string(b.uri)&&(b.options===void 0||(b.options.overwrite===void 0||P.boolean(b.options.overwrite))&&(b.options.ignoreIfExists===void 0||P.boolean(b.options.ignoreIfExists)))&&(b.annotationId===void 0||w.is(b.annotationId));}y.is=A;})(ue=e.CreateFile||(e.CreateFile={}));var ae;(function(y){function x(R,b,E,k){var Z={kind:"rename",oldUri:R,newUri:b};return E!==void 0&&(E.overwrite!==void 0||E.ignoreIfExists!==void 0)&&(Z.options=E),k!==void 0&&(Z.annotationId=k),Z;}y.create=x;function A(R){var b=R;return b&&b.kind==="rename"&&P.string(b.oldUri)&&P.string(b.newUri)&&(b.options===void 0||(b.options.overwrite===void 0||P.boolean(b.options.overwrite))&&(b.options.ignoreIfExists===void 0||P.boolean(b.options.ignoreIfExists)))&&(b.annotationId===void 0||w.is(b.annotationId));}y.is=A;})(ae=e.RenameFile||(e.RenameFile={}));var Te;(function(y){function x(R,b,E){var k={kind:"delete",uri:R};return b!==void 0&&(b.recursive!==void 0||b.ignoreIfNotExists!==void 0)&&(k.options=b),E!==void 0&&(k.annotationId=E),k;}y.create=x;function A(R){var b=R;return b&&b.kind==="delete"&&P.string(b.uri)&&(b.options===void 0||(b.options.recursive===void 0||P.boolean(b.options.recursive))&&(b.options.ignoreIfNotExists===void 0||P.boolean(b.options.ignoreIfNotExists)))&&(b.annotationId===void 0||w.is(b.annotationId));}y.is=A;})(Te=e.DeleteFile||(e.DeleteFile={}));var ne;(function(y){function x(A){var R=A;return R&&(R.changes!==void 0||R.documentChanges!==void 0)&&(R.documentChanges===void 0||R.documentChanges.every(function(b){return P.string(b.kind)?ue.is(b)||ae.is(b)||Te.is(b):B.is(b);}));}y.is=x;})(ne=e.WorkspaceEdit||(e.WorkspaceEdit={}));var je=function(){function y(x,A){this.edits=x,this.changeAnnotations=A;}return y.prototype.insert=function(x,A,R){var b,E;if(R===void 0?b=T.insert(x,A):w.is(R)?(E=R,b=$.insert(x,A,R)):(this.assertChangeAnnotations(this.changeAnnotations),E=this.changeAnnotations.manage(R),b=$.insert(x,A,E)),this.edits.push(b),E!==void 0)return E;},y.prototype.replace=function(x,A,R){var b,E;if(R===void 0?b=T.replace(x,A):w.is(R)?(E=R,b=$.replace(x,A,R)):(this.assertChangeAnnotations(this.changeAnnotations),E=this.changeAnnotations.manage(R),b=$.replace(x,A,E)),this.edits.push(b),E!==void 0)return E;},y.prototype.delete=function(x,A){var R,b;if(A===void 0?R=T.del(x):w.is(A)?(b=A,R=$.del(x,A)):(this.assertChangeAnnotations(this.changeAnnotations),b=this.changeAnnotations.manage(A),R=$.del(x,b)),this.edits.push(R),b!==void 0)return b;},y.prototype.add=function(x){this.edits.push(x);},y.prototype.all=function(){return this.edits;},y.prototype.clear=function(){this.edits.splice(0,this.edits.length);},y.prototype.assertChangeAnnotations=function(x){if(x===void 0)throw new Error("Text edit change is not configured to manage change annotations.");},y;}(),_t=function(){function y(x){this._annotations=x===void 0?Object.create(null):x,this._counter=0,this._size=0;}return y.prototype.all=function(){return this._annotations;},Object.defineProperty(y.prototype,"size",{get:function(){return this._size;},enumerable:!1,configurable:!0}),y.prototype.manage=function(x,A){var R;if(w.is(x)?R=x:(R=this.nextId(),A=x),this._annotations[R]!==void 0)throw new Error("Id "+R+" is already in use.");if(A===void 0)throw new Error("No annotation provided for id "+R);return this._annotations[R]=A,this._size++,R;},y.prototype.nextId=function(){return this._counter++,this._counter.toString();},y;}(),Ie=function(){function y(x){var A=this;this._textEditChanges=Object.create(null),x!==void 0?(this._workspaceEdit=x,x.documentChanges?(this._changeAnnotations=new _t(x.changeAnnotations),x.changeAnnotations=this._changeAnnotations.all(),x.documentChanges.forEach(function(R){if(B.is(R)){var b=new je(R.edits,A._changeAnnotations);A._textEditChanges[R.textDocument.uri]=b;}})):x.changes&&Object.keys(x.changes).forEach(function(R){var b=new je(x.changes[R]);A._textEditChanges[R]=b;})):this._workspaceEdit={};}return Object.defineProperty(y.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit;},enumerable:!1,configurable:!0}),y.prototype.getTextEditChange=function(x){if(st.is(x)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var A={uri:x.uri,version:x.version},R=this._textEditChanges[A.uri];if(!R){var b=[],E={textDocument:A,edits:b};this._workspaceEdit.documentChanges.push(E),R=new je(b,this._changeAnnotations),this._textEditChanges[A.uri]=R;}return R;}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var R=this._textEditChanges[x];if(!R){var b=[];this._workspaceEdit.changes[x]=b,R=new je(b),this._textEditChanges[x]=R;}return R;}},y.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new _t,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all());},y.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null));},y.prototype.createFile=function(x,A,R){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var b;I.is(A)||w.is(A)?b=A:R=A;var E,k;if(b===void 0?E=ue.create(x,R):(k=w.is(b)?b:this._changeAnnotations.manage(b),E=ue.create(x,R,k)),this._workspaceEdit.documentChanges.push(E),k!==void 0)return k;},y.prototype.renameFile=function(x,A,R,b){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var E;I.is(R)||w.is(R)?E=R:b=R;var k,Z;if(E===void 0?k=ae.create(x,A,b):(Z=w.is(E)?E:this._changeAnnotations.manage(E),k=ae.create(x,A,b,Z)),this._workspaceEdit.documentChanges.push(k),Z!==void 0)return Z;},y.prototype.deleteFile=function(x,A,R){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var b;I.is(A)||w.is(A)?b=A:R=A;var E,k;if(b===void 0?E=Te.create(x,R):(k=w.is(b)?b:this._changeAnnotations.manage(b),E=Te.create(x,R,k)),this._workspaceEdit.documentChanges.push(E),k!==void 0)return k;},y;}();e.WorkspaceChange=Ie;var Q;(function(y){function x(R){return{uri:R};}y.create=x;function A(R){var b=R;return P.defined(b)&&P.string(b.uri);}y.is=A;})(Q=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var ze;(function(y){function x(R,b){return{uri:R,version:b};}y.create=x;function A(R){var b=R;return P.defined(b)&&P.string(b.uri)&&P.integer(b.version);}y.is=A;})(ze=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var st;(function(y){function x(R,b){return{uri:R,version:b};}y.create=x;function A(R){var b=R;return P.defined(b)&&P.string(b.uri)&&(b.version===null||P.integer(b.version));}y.is=A;})(st=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var Ot;(function(y){function x(R,b,E,k){return{uri:R,languageId:b,version:E,text:k};}y.create=x;function A(R){var b=R;return P.defined(b)&&P.string(b.uri)&&P.string(b.languageId)&&P.integer(b.version)&&P.string(b.text);}y.is=A;})(Ot=e.TextDocumentItem||(e.TextDocumentItem={}));var ke;(function(y){y.PlainText="plaintext",y.Markdown="markdown";})(ke=e.MarkupKind||(e.MarkupKind={})),function(y){function x(A){var R=A;return R===y.PlainText||R===y.Markdown;}y.is=x;}(ke=e.MarkupKind||(e.MarkupKind={}));var ot;(function(y){function x(A){var R=A;return P.objectLiteral(A)&&ke.is(R.kind)&&P.string(R.value);}y.is=x;})(ot=e.MarkupContent||(e.MarkupContent={}));var bi;(function(y){y.Text=1,y.Method=2,y.Function=3,y.Constructor=4,y.Field=5,y.Variable=6,y.Class=7,y.Interface=8,y.Module=9,y.Property=10,y.Unit=11,y.Value=12,y.Enum=13,y.Keyword=14,y.Snippet=15,y.Color=16,y.File=17,y.Reference=18,y.Folder=19,y.EnumMember=20,y.Constant=21,y.Struct=22,y.Event=23,y.Operator=24,y.TypeParameter=25;})(bi=e.CompletionItemKind||(e.CompletionItemKind={}));var $i;(function(y){y.PlainText=1,y.Snippet=2;})($i=e.InsertTextFormat||(e.InsertTextFormat={}));var re;(function(y){y.Deprecated=1;})(re=e.CompletionItemTag||(e.CompletionItemTag={}));var se;(function(y){function x(R,b,E){return{newText:R,insert:b,replace:E};}y.create=x;function A(R){var b=R;return b&&P.string(b.newText)&&s.is(b.insert)&&s.is(b.replace);}y.is=A;})(se=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var ce;(function(y){y.asIs=1,y.adjustIndentation=2;})(ce=e.InsertTextMode||(e.InsertTextMode={}));var ee;(function(y){function x(A){return{label:A};}y.create=x;})(ee=e.CompletionItem||(e.CompletionItem={}));var be;(function(y){function x(A,R){return{items:A||[],isIncomplete:!!R};}y.create=x;})(be=e.CompletionList||(e.CompletionList={}));var yt;(function(y){function x(R){return R.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&");}y.fromPlainText=x;function A(R){var b=R;return P.string(b)||P.objectLiteral(b)&&P.string(b.language)&&P.string(b.value);}y.is=A;})(yt=e.MarkedString||(e.MarkedString={}));var Tr;(function(y){function x(A){var R=A;return!!R&&P.objectLiteral(R)&&(ot.is(R.contents)||yt.is(R.contents)||P.typedArray(R.contents,yt.is))&&(A.range===void 0||s.is(A.range));}y.is=x;})(Tr=e.Hover||(e.Hover={}));var xo;(function(y){function x(A,R){return R?{label:A,documentation:R}:{label:A};}y.create=x;})(xo=e.ParameterInformation||(e.ParameterInformation={}));var Ao;(function(y){function x(A,R){for(var b=[],E=2;E<arguments.length;E++)b[E-2]=arguments[E];var k={label:A};return P.defined(R)&&(k.documentation=R),P.defined(b)?k.parameters=b:k.parameters=[],k;}y.create=x;})(Ao=e.SignatureInformation||(e.SignatureInformation={}));var Zr;(function(y){y.Text=1,y.Read=2,y.Write=3;})(Zr=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var Os;(function(y){function x(A,R){var b={range:A};return P.number(R)&&(b.kind=R),b;}y.create=x;})(Os=e.DocumentHighlight||(e.DocumentHighlight={}));var Eo;(function(y){y.File=1,y.Module=2,y.Namespace=3,y.Package=4,y.Class=5,y.Method=6,y.Property=7,y.Field=8,y.Constructor=9,y.Enum=10,y.Interface=11,y.Function=12,y.Variable=13,y.Constant=14,y.String=15,y.Number=16,y.Boolean=17,y.Array=18,y.Object=19,y.Key=20,y.Null=21,y.EnumMember=22,y.Struct=23,y.Event=24,y.Operator=25,y.TypeParameter=26;})(Eo=e.SymbolKind||(e.SymbolKind={}));var wo;(function(y){y.Deprecated=1;})(wo=e.SymbolTag||(e.SymbolTag={}));var Mn;(function(y){function x(A,R,b,E,k){var Z={name:A,kind:R,location:{uri:E,range:b}};return k&&(Z.containerName=k),Z;}y.create=x;})(Mn=e.SymbolInformation||(e.SymbolInformation={}));var Nt;(function(y){function x(R,b,E,k,Z,le){var Ee={name:R,detail:b,kind:E,range:k,selectionRange:Z};return le!==void 0&&(Ee.children=le),Ee;}y.create=x;function A(R){var b=R;return b&&P.string(b.name)&&P.number(b.kind)&&s.is(b.range)&&s.is(b.selectionRange)&&(b.detail===void 0||P.string(b.detail))&&(b.deprecated===void 0||P.boolean(b.deprecated))&&(b.children===void 0||Array.isArray(b.children))&&(b.tags===void 0||Array.isArray(b.tags));}y.is=A;})(Nt=e.DocumentSymbol||(e.DocumentSymbol={}));var vi;(function(y){y.Empty="",y.QuickFix="quickfix",y.Refactor="refactor",y.RefactorExtract="refactor.extract",y.RefactorInline="refactor.inline",y.RefactorRewrite="refactor.rewrite",y.Source="source",y.SourceOrganizeImports="source.organizeImports",y.SourceFixAll="source.fixAll";})(vi=e.CodeActionKind||(e.CodeActionKind={}));var zi;(function(y){function x(R,b){var E={diagnostics:R};return b!=null&&(E.only=b),E;}y.create=x;function A(R){var b=R;return P.defined(b)&&P.typedArray(b.diagnostics,g.is)&&(b.only===void 0||P.typedArray(b.only,P.string));}y.is=A;})(zi=e.CodeActionContext||(e.CodeActionContext={}));var br;(function(y){function x(R,b,E){var k={title:R},Z=!0;return typeof b=="string"?(Z=!1,k.kind=b):_.is(b)?k.command=b:k.edit=b,Z&&E!==void 0&&(k.kind=E),k;}y.create=x;function A(R){var b=R;return b&&P.string(b.title)&&(b.diagnostics===void 0||P.typedArray(b.diagnostics,g.is))&&(b.kind===void 0||P.string(b.kind))&&(b.edit!==void 0||b.command!==void 0)&&(b.command===void 0||_.is(b.command))&&(b.isPreferred===void 0||P.boolean(b.isPreferred))&&(b.edit===void 0||ne.is(b.edit));}y.is=A;})(br=e.CodeAction||(e.CodeAction={}));var Ni;(function(y){function x(R,b){var E={range:R};return P.defined(b)&&(E.data=b),E;}y.create=x;function A(R){var b=R;return P.defined(b)&&s.is(b.range)&&(P.undefined(b.command)||_.is(b.command));}y.is=A;})(Ni=e.CodeLens||(e.CodeLens={}));var Pi;(function(y){function x(R,b){return{tabSize:R,insertSpaces:b};}y.create=x;function A(R){var b=R;return P.defined(b)&&P.uinteger(b.tabSize)&&P.boolean(b.insertSpaces);}y.is=A;})(Pi=e.FormattingOptions||(e.FormattingOptions={}));var Ii;(function(y){function x(R,b,E){return{range:R,target:b,data:E};}y.create=x;function A(R){var b=R;return P.defined(b)&&s.is(b.range)&&(P.undefined(b.target)||P.string(b.target));}y.is=A;})(Ii=e.DocumentLink||(e.DocumentLink={}));var ei;(function(y){function x(R,b){return{range:R,parent:b};}y.create=x;function A(R){var b=R;return b!==void 0&&s.is(b.range)&&(b.parent===void 0||y.is(b.parent));}y.is=A;})(ei=e.SelectionRange||(e.SelectionRange={})),e.EOL=[`
`,`\r
`,"\r"];var Qn;(function(y){function x(E,k,Z,le){return new N(E,k,Z,le);}y.create=x;function A(E){var k=E;return!!(P.defined(k)&&P.string(k.uri)&&(P.undefined(k.languageId)||P.string(k.languageId))&&P.uinteger(k.lineCount)&&P.func(k.getText)&&P.func(k.positionAt)&&P.func(k.offsetAt));}y.is=A;function R(E,k){for(var Z=E.getText(),le=b(k,function(Oo,pu){var Rg=Oo.range.start.line-pu.range.start.line;return Rg===0?Oo.range.start.character-pu.range.start.character:Rg;}),Ee=Z.length,nt=le.length-1;nt>=0;nt--){var Lt=le[nt],jt=E.offsetAt(Lt.range.start),Fe=E.offsetAt(Lt.range.end);if(Fe<=Ee)Z=Z.substring(0,jt)+Lt.newText+Z.substring(Fe,Z.length);else throw new Error("Overlapping edit");Ee=jt;}return Z;}y.applyEdits=R;function b(E,k){if(E.length<=1)return E;var Z=E.length/2|0,le=E.slice(0,Z),Ee=E.slice(Z);b(le,k),b(Ee,k);for(var nt=0,Lt=0,jt=0;nt<le.length&&Lt<Ee.length;){var Fe=k(le[nt],Ee[Lt]);Fe<=0?E[jt++]=le[nt++]:E[jt++]=Ee[Lt++];}for(;nt<le.length;)E[jt++]=le[nt++];for(;Lt<Ee.length;)E[jt++]=Ee[Lt++];return E;}})(Qn=e.TextDocument||(e.TextDocument={}));var N=function(){function y(x,A,R,b){this._uri=x,this._languageId=A,this._version=R,this._content=b,this._lineOffsets=void 0;}return Object.defineProperty(y.prototype,"uri",{get:function(){return this._uri;},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"languageId",{get:function(){return this._languageId;},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"version",{get:function(){return this._version;},enumerable:!1,configurable:!0}),y.prototype.getText=function(x){if(x){var A=this.offsetAt(x.start),R=this.offsetAt(x.end);return this._content.substring(A,R);}return this._content;},y.prototype.update=function(x,A){this._content=x.text,this._version=A,this._lineOffsets=void 0;},y.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var x=[],A=this._content,R=!0,b=0;b<A.length;b++){R&&(x.push(b),R=!1);var E=A.charAt(b);R=E==="\r"||E===`
`,E==="\r"&&b+1<A.length&&A.charAt(b+1)===`
`&&b++;}R&&A.length>0&&x.push(A.length),this._lineOffsets=x;}return this._lineOffsets;},y.prototype.positionAt=function(x){x=Math.max(Math.min(x,this._content.length),0);var A=this.getLineOffsets(),R=0,b=A.length;if(b===0)return i.create(0,x);for(;R<b;){var E=Math.floor((R+b)/2);A[E]>x?b=E:R=E+1;}var k=R-1;return i.create(k,x-A[k]);},y.prototype.offsetAt=function(x){var A=this.getLineOffsets();if(x.line>=A.length)return this._content.length;if(x.line<0)return 0;var R=A[x.line],b=x.line+1<A.length?A[x.line+1]:this._content.length;return Math.max(Math.min(R+x.character,b),R);},Object.defineProperty(y.prototype,"lineCount",{get:function(){return this.getLineOffsets().length;},enumerable:!1,configurable:!0}),y;}(),P;(function(y){var x=Object.prototype.toString;function A(Fe){return typeof Fe!="undefined";}y.defined=A;function R(Fe){return typeof Fe=="undefined";}y.undefined=R;function b(Fe){return Fe===!0||Fe===!1;}y.boolean=b;function E(Fe){return x.call(Fe)==="[object String]";}y.string=E;function k(Fe){return x.call(Fe)==="[object Number]";}y.number=k;function Z(Fe,Oo,pu){return x.call(Fe)==="[object Number]"&&Oo<=Fe&&Fe<=pu;}y.numberRange=Z;function le(Fe){return x.call(Fe)==="[object Number]"&&-2147483648<=Fe&&Fe<=2147483647;}y.integer=le;function Ee(Fe){return x.call(Fe)==="[object Number]"&&0<=Fe&&Fe<=2147483647;}y.uinteger=Ee;function nt(Fe){return x.call(Fe)==="[object Function]";}y.func=nt;function Lt(Fe){return Fe!==null&&typeof Fe=="object";}y.objectLiteral=Lt;function jt(Fe,Oo){return Array.isArray(Fe)&&Fe.every(Oo);}y.typedArray=jt;})(P||(P={}));});});var Gt=q(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});Jn.ProtocolNotificationType=Jn.ProtocolNotificationType0=Jn.ProtocolRequestType=Jn.ProtocolRequestType0=Jn.RegistrationType=void 0;var Bo=Vo(),B_=class{constructor(e){this.method=e;}};Jn.RegistrationType=B_;var j_=class extends Bo.RequestType0{constructor(e){super(e);}};Jn.ProtocolRequestType0=j_;var U_=class extends Bo.RequestType{constructor(e){super(e,Bo.ParameterStructures.byName);}};Jn.ProtocolRequestType=U_;var G_=class extends Bo.NotificationType0{constructor(e){super(e);}};Jn.ProtocolNotificationType0=G_;var W_=class extends Bo.NotificationType{constructor(e){super(e,Bo.ParameterStructures.byName);}};Jn.ProtocolNotificationType=W_;});var K_=q(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.objectLiteral=Ct.typedArray=Ct.stringArray=Ct.array=Ct.func=Ct.error=Ct.number=Ct.string=Ct.boolean=void 0;function EC(t){return t===!0||t===!1;}Ct.boolean=EC;function H_(t){return typeof t=="string"||t instanceof String;}Ct.string=H_;function wC(t){return typeof t=="number"||t instanceof Number;}Ct.number=wC;function OC(t){return t instanceof Error;}Ct.error=OC;function LC(t){return typeof t=="function";}Ct.func=LC;function Y_(t){return Array.isArray(t);}Ct.array=Y_;function DC(t){return Y_(t)&&t.every(e=>H_(e));}Ct.stringArray=DC;function MC(t,e){return Array.isArray(t)&&t.every(e);}Ct.typedArray=MC;function kC(t){return t!==null&&typeof t=="object";}Ct.objectLiteral=kC;});var $_=q(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.ImplementationRequest=void 0;var FC=Gt(),qC;(function(t){t.method="textDocument/implementation",t.type=new FC.ProtocolRequestType(t.method);})(qC=Za.ImplementationRequest||(Za.ImplementationRequest={}));});var z_=q(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.TypeDefinitionRequest=void 0;var VC=Gt(),BC;(function(t){t.method="textDocument/typeDefinition",t.type=new VC.ProtocolRequestType(t.method);})(BC=el.TypeDefinitionRequest||(el.TypeDefinitionRequest={}));});var Q_=q(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.DidChangeWorkspaceFoldersNotification=Xi.WorkspaceFoldersRequest=void 0;var X_=Gt(),jC;(function(t){t.type=new X_.ProtocolRequestType0("workspace/workspaceFolders");})(jC=Xi.WorkspaceFoldersRequest||(Xi.WorkspaceFoldersRequest={}));var UC;(function(t){t.type=new X_.ProtocolNotificationType("workspace/didChangeWorkspaceFolders");})(UC=Xi.DidChangeWorkspaceFoldersNotification||(Xi.DidChangeWorkspaceFoldersNotification={}));});var J_=q(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.ConfigurationRequest=void 0;var GC=Gt(),WC;(function(t){t.type=new GC.ProtocolRequestType("workspace/configuration");})(WC=tl.ConfigurationRequest||(tl.ConfigurationRequest={}));});var ey=q(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.ColorPresentationRequest=Qi.DocumentColorRequest=void 0;var Z_=Gt(),HC;(function(t){t.method="textDocument/documentColor",t.type=new Z_.ProtocolRequestType(t.method);})(HC=Qi.DocumentColorRequest||(Qi.DocumentColorRequest={}));var YC;(function(t){t.type=new Z_.ProtocolRequestType("textDocument/colorPresentation");})(YC=Qi.ColorPresentationRequest||(Qi.ColorPresentationRequest={}));});var qp=q(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.FoldingRangeRequest=Ji.FoldingRangeKind=void 0;var KC=Gt(),$C;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region";})($C=Ji.FoldingRangeKind||(Ji.FoldingRangeKind={}));var zC;(function(t){t.method="textDocument/foldingRange",t.type=new KC.ProtocolRequestType(t.method);})(zC=Ji.FoldingRangeRequest||(Ji.FoldingRangeRequest={}));});var ty=q(nl=>{"use strict";Object.defineProperty(nl,"__esModule",{value:!0});nl.DeclarationRequest=void 0;var XC=Gt(),QC;(function(t){t.method="textDocument/declaration",t.type=new XC.ProtocolRequestType(t.method);})(QC=nl.DeclarationRequest||(nl.DeclarationRequest={}));});var ny=q(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.SelectionRangeRequest=void 0;var JC=Gt(),ZC;(function(t){t.method="textDocument/selectionRange",t.type=new JC.ProtocolRequestType(t.method);})(ZC=rl.SelectionRangeRequest||(rl.SelectionRangeRequest={}));});var iy=q(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.WorkDoneProgressCancelNotification=Pr.WorkDoneProgressCreateRequest=Pr.WorkDoneProgress=void 0;var ex=Vo(),ry=Gt(),tx;(function(t){t.type=new ex.ProgressType;function e(n){return n===t.type;}t.is=e;})(tx=Pr.WorkDoneProgress||(Pr.WorkDoneProgress={}));var nx;(function(t){t.type=new ry.ProtocolRequestType("window/workDoneProgress/create");})(nx=Pr.WorkDoneProgressCreateRequest||(Pr.WorkDoneProgressCreateRequest={}));var rx;(function(t){t.type=new ry.ProtocolNotificationType("window/workDoneProgress/cancel");})(rx=Pr.WorkDoneProgressCancelNotification||(Pr.WorkDoneProgressCancelNotification={}));});var sy=q(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.CallHierarchyOutgoingCallsRequest=Ir.CallHierarchyIncomingCallsRequest=Ir.CallHierarchyPrepareRequest=void 0;var Vp=Gt(),ix;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new Vp.ProtocolRequestType(t.method);})(ix=Ir.CallHierarchyPrepareRequest||(Ir.CallHierarchyPrepareRequest={}));var sx;(function(t){t.method="callHierarchy/incomingCalls",t.type=new Vp.ProtocolRequestType(t.method);})(sx=Ir.CallHierarchyIncomingCallsRequest||(Ir.CallHierarchyIncomingCallsRequest={}));var ox;(function(t){t.method="callHierarchy/outgoingCalls",t.type=new Vp.ProtocolRequestType(t.method);})(ox=Ir.CallHierarchyOutgoingCallsRequest||(Ir.CallHierarchyOutgoingCallsRequest={}));});var oy=q(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.SemanticTokensRefreshRequest=Xe.SemanticTokensRangeRequest=Xe.SemanticTokensDeltaRequest=Xe.SemanticTokensRequest=Xe.SemanticTokensRegistrationType=Xe.TokenFormat=Xe.SemanticTokens=Xe.SemanticTokenModifiers=Xe.SemanticTokenTypes=void 0;var il=Gt(),ax;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator";})(ax=Xe.SemanticTokenTypes||(Xe.SemanticTokenTypes={}));var lx;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary";})(lx=Xe.SemanticTokenModifiers||(Xe.SemanticTokenModifiers={}));var ux;(function(t){function e(n){let r=n;return r!==void 0&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number");}t.is=e;})(ux=Xe.SemanticTokens||(Xe.SemanticTokens={}));var cx;(function(t){t.Relative="relative";})(cx=Xe.TokenFormat||(Xe.TokenFormat={}));var fx;(function(t){t.method="textDocument/semanticTokens",t.type=new il.RegistrationType(t.method);})(fx=Xe.SemanticTokensRegistrationType||(Xe.SemanticTokensRegistrationType={}));var px;(function(t){t.method="textDocument/semanticTokens/full",t.type=new il.ProtocolRequestType(t.method);})(px=Xe.SemanticTokensRequest||(Xe.SemanticTokensRequest={}));var dx;(function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new il.ProtocolRequestType(t.method);})(dx=Xe.SemanticTokensDeltaRequest||(Xe.SemanticTokensDeltaRequest={}));var mx;(function(t){t.method="textDocument/semanticTokens/range",t.type=new il.ProtocolRequestType(t.method);})(mx=Xe.SemanticTokensRangeRequest||(Xe.SemanticTokensRangeRequest={}));var hx;(function(t){t.method="workspace/semanticTokens/refresh",t.type=new il.ProtocolRequestType0(t.method);})(hx=Xe.SemanticTokensRefreshRequest||(Xe.SemanticTokensRefreshRequest={}));});var ay=q(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});sl.ShowDocumentRequest=void 0;var gx=Gt(),_x;(function(t){t.method="window/showDocument",t.type=new gx.ProtocolRequestType(t.method);})(_x=sl.ShowDocumentRequest||(sl.ShowDocumentRequest={}));});var ly=q(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.LinkedEditingRangeRequest=void 0;var yx=Gt(),Tx;(function(t){t.method="textDocument/linkedEditingRange",t.type=new yx.ProtocolRequestType(t.method);})(Tx=ol.LinkedEditingRangeRequest||(ol.LinkedEditingRangeRequest={}));});var uy=q(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.WillDeleteFilesRequest=ht.DidDeleteFilesNotification=ht.DidRenameFilesNotification=ht.WillRenameFilesRequest=ht.DidCreateFilesNotification=ht.WillCreateFilesRequest=ht.FileOperationPatternKind=void 0;var jo=Gt(),bx;(function(t){t.file="file",t.folder="folder";})(bx=ht.FileOperationPatternKind||(ht.FileOperationPatternKind={}));var vx;(function(t){t.method="workspace/willCreateFiles",t.type=new jo.ProtocolRequestType(t.method);})(vx=ht.WillCreateFilesRequest||(ht.WillCreateFilesRequest={}));var Nx;(function(t){t.method="workspace/didCreateFiles",t.type=new jo.ProtocolNotificationType(t.method);})(Nx=ht.DidCreateFilesNotification||(ht.DidCreateFilesNotification={}));var Px;(function(t){t.method="workspace/willRenameFiles",t.type=new jo.ProtocolRequestType(t.method);})(Px=ht.WillRenameFilesRequest||(ht.WillRenameFilesRequest={}));var Ix;(function(t){t.method="workspace/didRenameFiles",t.type=new jo.ProtocolNotificationType(t.method);})(Ix=ht.DidRenameFilesNotification||(ht.DidRenameFilesNotification={}));var Sx;(function(t){t.method="workspace/didDeleteFiles",t.type=new jo.ProtocolNotificationType(t.method);})(Sx=ht.DidDeleteFilesNotification||(ht.DidDeleteFilesNotification={}));var Rx;(function(t){t.method="workspace/willDeleteFiles",t.type=new jo.ProtocolRequestType(t.method);})(Rx=ht.WillDeleteFilesRequest||(ht.WillDeleteFilesRequest={}));});var cy=q(Sr=>{"use strict";Object.defineProperty(Sr,"__esModule",{value:!0});Sr.MonikerRequest=Sr.MonikerKind=Sr.UniquenessLevel=void 0;var Cx=Gt(),xx;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global";})(xx=Sr.UniquenessLevel||(Sr.UniquenessLevel={}));var Ax;(function(t){t.import="import",t.export="export",t.local="local";})(Ax=Sr.MonikerKind||(Sr.MonikerKind={}));var Ex;(function(t){t.method="textDocument/moniker",t.type=new Cx.ProtocolRequestType(t.method);})(Ex=Sr.MonikerRequest||(Sr.MonikerRequest={}));});var hy=q(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});C.DocumentLinkRequest=C.CodeLensRefreshRequest=C.CodeLensResolveRequest=C.CodeLensRequest=C.WorkspaceSymbolRequest=C.CodeActionResolveRequest=C.CodeActionRequest=C.DocumentSymbolRequest=C.DocumentHighlightRequest=C.ReferencesRequest=C.DefinitionRequest=C.SignatureHelpRequest=C.SignatureHelpTriggerKind=C.HoverRequest=C.CompletionResolveRequest=C.CompletionRequest=C.CompletionTriggerKind=C.PublishDiagnosticsNotification=C.WatchKind=C.FileChangeType=C.DidChangeWatchedFilesNotification=C.WillSaveTextDocumentWaitUntilRequest=C.WillSaveTextDocumentNotification=C.TextDocumentSaveReason=C.DidSaveTextDocumentNotification=C.DidCloseTextDocumentNotification=C.DidChangeTextDocumentNotification=C.TextDocumentContentChangeEvent=C.DidOpenTextDocumentNotification=C.TextDocumentSyncKind=C.TelemetryEventNotification=C.LogMessageNotification=C.ShowMessageRequest=C.ShowMessageNotification=C.MessageType=C.DidChangeConfigurationNotification=C.ExitNotification=C.ShutdownRequest=C.InitializedNotification=C.InitializeError=C.InitializeRequest=C.WorkDoneProgressOptions=C.TextDocumentRegistrationOptions=C.StaticRegistrationOptions=C.FailureHandlingKind=C.ResourceOperationKind=C.UnregistrationRequest=C.RegistrationRequest=C.DocumentSelector=C.DocumentFilter=void 0;C.MonikerRequest=C.MonikerKind=C.UniquenessLevel=C.WillDeleteFilesRequest=C.DidDeleteFilesNotification=C.WillRenameFilesRequest=C.DidRenameFilesNotification=C.WillCreateFilesRequest=C.DidCreateFilesNotification=C.FileOperationPatternKind=C.LinkedEditingRangeRequest=C.ShowDocumentRequest=C.SemanticTokensRegistrationType=C.SemanticTokensRefreshRequest=C.SemanticTokensRangeRequest=C.SemanticTokensDeltaRequest=C.SemanticTokensRequest=C.TokenFormat=C.SemanticTokens=C.SemanticTokenModifiers=C.SemanticTokenTypes=C.CallHierarchyPrepareRequest=C.CallHierarchyOutgoingCallsRequest=C.CallHierarchyIncomingCallsRequest=C.WorkDoneProgressCancelNotification=C.WorkDoneProgressCreateRequest=C.WorkDoneProgress=C.SelectionRangeRequest=C.DeclarationRequest=C.FoldingRangeRequest=C.ColorPresentationRequest=C.DocumentColorRequest=C.ConfigurationRequest=C.DidChangeWorkspaceFoldersNotification=C.WorkspaceFoldersRequest=C.TypeDefinitionRequest=C.ImplementationRequest=C.ApplyWorkspaceEditRequest=C.ExecuteCommandRequest=C.PrepareRenameRequest=C.RenameRequest=C.PrepareSupportDefaultBehavior=C.DocumentOnTypeFormattingRequest=C.DocumentRangeFormattingRequest=C.DocumentFormattingRequest=C.DocumentLinkResolveRequest=void 0;var Zi=K_(),Se=Gt(),wx=$_();Object.defineProperty(C,"ImplementationRequest",{enumerable:!0,get:function(){return wx.ImplementationRequest;}});var Ox=z_();Object.defineProperty(C,"TypeDefinitionRequest",{enumerable:!0,get:function(){return Ox.TypeDefinitionRequest;}});var fy=Q_();Object.defineProperty(C,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return fy.WorkspaceFoldersRequest;}});Object.defineProperty(C,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return fy.DidChangeWorkspaceFoldersNotification;}});var Lx=J_();Object.defineProperty(C,"ConfigurationRequest",{enumerable:!0,get:function(){return Lx.ConfigurationRequest;}});var py=ey();Object.defineProperty(C,"DocumentColorRequest",{enumerable:!0,get:function(){return py.DocumentColorRequest;}});Object.defineProperty(C,"ColorPresentationRequest",{enumerable:!0,get:function(){return py.ColorPresentationRequest;}});var Dx=qp();Object.defineProperty(C,"FoldingRangeRequest",{enumerable:!0,get:function(){return Dx.FoldingRangeRequest;}});var Mx=ty();Object.defineProperty(C,"DeclarationRequest",{enumerable:!0,get:function(){return Mx.DeclarationRequest;}});var kx=ny();Object.defineProperty(C,"SelectionRangeRequest",{enumerable:!0,get:function(){return kx.SelectionRangeRequest;}});var Bp=iy();Object.defineProperty(C,"WorkDoneProgress",{enumerable:!0,get:function(){return Bp.WorkDoneProgress;}});Object.defineProperty(C,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Bp.WorkDoneProgressCreateRequest;}});Object.defineProperty(C,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Bp.WorkDoneProgressCancelNotification;}});var jp=sy();Object.defineProperty(C,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return jp.CallHierarchyIncomingCallsRequest;}});Object.defineProperty(C,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return jp.CallHierarchyOutgoingCallsRequest;}});Object.defineProperty(C,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return jp.CallHierarchyPrepareRequest;}});var Ai=oy();Object.defineProperty(C,"SemanticTokenTypes",{enumerable:!0,get:function(){return Ai.SemanticTokenTypes;}});Object.defineProperty(C,"SemanticTokenModifiers",{enumerable:!0,get:function(){return Ai.SemanticTokenModifiers;}});Object.defineProperty(C,"SemanticTokens",{enumerable:!0,get:function(){return Ai.SemanticTokens;}});Object.defineProperty(C,"TokenFormat",{enumerable:!0,get:function(){return Ai.TokenFormat;}});Object.defineProperty(C,"SemanticTokensRequest",{enumerable:!0,get:function(){return Ai.SemanticTokensRequest;}});Object.defineProperty(C,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Ai.SemanticTokensDeltaRequest;}});Object.defineProperty(C,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Ai.SemanticTokensRangeRequest;}});Object.defineProperty(C,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Ai.SemanticTokensRefreshRequest;}});Object.defineProperty(C,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Ai.SemanticTokensRegistrationType;}});var Fx=ay();Object.defineProperty(C,"ShowDocumentRequest",{enumerable:!0,get:function(){return Fx.ShowDocumentRequest;}});var qx=ly();Object.defineProperty(C,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return qx.LinkedEditingRangeRequest;}});var qs=uy();Object.defineProperty(C,"FileOperationPatternKind",{enumerable:!0,get:function(){return qs.FileOperationPatternKind;}});Object.defineProperty(C,"DidCreateFilesNotification",{enumerable:!0,get:function(){return qs.DidCreateFilesNotification;}});Object.defineProperty(C,"WillCreateFilesRequest",{enumerable:!0,get:function(){return qs.WillCreateFilesRequest;}});Object.defineProperty(C,"DidRenameFilesNotification",{enumerable:!0,get:function(){return qs.DidRenameFilesNotification;}});Object.defineProperty(C,"WillRenameFilesRequest",{enumerable:!0,get:function(){return qs.WillRenameFilesRequest;}});Object.defineProperty(C,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return qs.DidDeleteFilesNotification;}});Object.defineProperty(C,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return qs.WillDeleteFilesRequest;}});var Up=cy();Object.defineProperty(C,"UniquenessLevel",{enumerable:!0,get:function(){return Up.UniquenessLevel;}});Object.defineProperty(C,"MonikerKind",{enumerable:!0,get:function(){return Up.MonikerKind;}});Object.defineProperty(C,"MonikerRequest",{enumerable:!0,get:function(){return Up.MonikerRequest;}});var dy;(function(t){function e(n){let r=n;return Zi.string(r.language)||Zi.string(r.scheme)||Zi.string(r.pattern);}t.is=e;})(dy=C.DocumentFilter||(C.DocumentFilter={}));var my;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!Zi.string(r)&&!dy.is(r))return!1;return!0;}t.is=e;})(my=C.DocumentSelector||(C.DocumentSelector={}));var Vx;(function(t){t.type=new Se.ProtocolRequestType("client/registerCapability");})(Vx=C.RegistrationRequest||(C.RegistrationRequest={}));var Bx;(function(t){t.type=new Se.ProtocolRequestType("client/unregisterCapability");})(Bx=C.UnregistrationRequest||(C.UnregistrationRequest={}));var jx;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete";})(jx=C.ResourceOperationKind||(C.ResourceOperationKind={}));var Ux;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo";})(Ux=C.FailureHandlingKind||(C.FailureHandlingKind={}));var Gx;(function(t){function e(n){let r=n;return r&&Zi.string(r.id)&&r.id.length>0;}t.hasId=e;})(Gx=C.StaticRegistrationOptions||(C.StaticRegistrationOptions={}));var Wx;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||my.is(r.documentSelector));}t.is=e;})(Wx=C.TextDocumentRegistrationOptions||(C.TextDocumentRegistrationOptions={}));var Hx;(function(t){function e(r){let i=r;return Zi.objectLiteral(i)&&(i.workDoneProgress===void 0||Zi.boolean(i.workDoneProgress));}t.is=e;function n(r){let i=r;return i&&Zi.boolean(i.workDoneProgress);}t.hasWorkDoneProgress=n;})(Hx=C.WorkDoneProgressOptions||(C.WorkDoneProgressOptions={}));var Yx;(function(t){t.type=new Se.ProtocolRequestType("initialize");})(Yx=C.InitializeRequest||(C.InitializeRequest={}));var Kx;(function(t){t.unknownProtocolVersion=1;})(Kx=C.InitializeError||(C.InitializeError={}));var $x;(function(t){t.type=new Se.ProtocolNotificationType("initialized");})($x=C.InitializedNotification||(C.InitializedNotification={}));var zx;(function(t){t.type=new Se.ProtocolRequestType0("shutdown");})(zx=C.ShutdownRequest||(C.ShutdownRequest={}));var Xx;(function(t){t.type=new Se.ProtocolNotificationType0("exit");})(Xx=C.ExitNotification||(C.ExitNotification={}));var Qx;(function(t){t.type=new Se.ProtocolNotificationType("workspace/didChangeConfiguration");})(Qx=C.DidChangeConfigurationNotification||(C.DidChangeConfigurationNotification={}));var Jx;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4;})(Jx=C.MessageType||(C.MessageType={}));var Zx;(function(t){t.type=new Se.ProtocolNotificationType("window/showMessage");})(Zx=C.ShowMessageNotification||(C.ShowMessageNotification={}));var eA;(function(t){t.type=new Se.ProtocolRequestType("window/showMessageRequest");})(eA=C.ShowMessageRequest||(C.ShowMessageRequest={}));var tA;(function(t){t.type=new Se.ProtocolNotificationType("window/logMessage");})(tA=C.LogMessageNotification||(C.LogMessageNotification={}));var nA;(function(t){t.type=new Se.ProtocolNotificationType("telemetry/event");})(nA=C.TelemetryEventNotification||(C.TelemetryEventNotification={}));var rA;(function(t){t.None=0,t.Full=1,t.Incremental=2;})(rA=C.TextDocumentSyncKind||(C.TextDocumentSyncKind={}));var iA;(function(t){t.method="textDocument/didOpen",t.type=new Se.ProtocolNotificationType(t.method);})(iA=C.DidOpenTextDocumentNotification||(C.DidOpenTextDocumentNotification={}));var sA;(function(t){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number");}t.isIncremental=e;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0;}t.isFull=n;})(sA=C.TextDocumentContentChangeEvent||(C.TextDocumentContentChangeEvent={}));var oA;(function(t){t.method="textDocument/didChange",t.type=new Se.ProtocolNotificationType(t.method);})(oA=C.DidChangeTextDocumentNotification||(C.DidChangeTextDocumentNotification={}));var aA;(function(t){t.method="textDocument/didClose",t.type=new Se.ProtocolNotificationType(t.method);})(aA=C.DidCloseTextDocumentNotification||(C.DidCloseTextDocumentNotification={}));var lA;(function(t){t.method="textDocument/didSave",t.type=new Se.ProtocolNotificationType(t.method);})(lA=C.DidSaveTextDocumentNotification||(C.DidSaveTextDocumentNotification={}));var uA;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3;})(uA=C.TextDocumentSaveReason||(C.TextDocumentSaveReason={}));var cA;(function(t){t.method="textDocument/willSave",t.type=new Se.ProtocolNotificationType(t.method);})(cA=C.WillSaveTextDocumentNotification||(C.WillSaveTextDocumentNotification={}));var fA;(function(t){t.method="textDocument/willSaveWaitUntil",t.type=new Se.ProtocolRequestType(t.method);})(fA=C.WillSaveTextDocumentWaitUntilRequest||(C.WillSaveTextDocumentWaitUntilRequest={}));var pA;(function(t){t.type=new Se.ProtocolNotificationType("workspace/didChangeWatchedFiles");})(pA=C.DidChangeWatchedFilesNotification||(C.DidChangeWatchedFilesNotification={}));var dA;(function(t){t.Created=1,t.Changed=2,t.Deleted=3;})(dA=C.FileChangeType||(C.FileChangeType={}));var mA;(function(t){t.Create=1,t.Change=2,t.Delete=4;})(mA=C.WatchKind||(C.WatchKind={}));var hA;(function(t){t.type=new Se.ProtocolNotificationType("textDocument/publishDiagnostics");})(hA=C.PublishDiagnosticsNotification||(C.PublishDiagnosticsNotification={}));var gA;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3;})(gA=C.CompletionTriggerKind||(C.CompletionTriggerKind={}));var _A;(function(t){t.method="textDocument/completion",t.type=new Se.ProtocolRequestType(t.method);})(_A=C.CompletionRequest||(C.CompletionRequest={}));var yA;(function(t){t.method="completionItem/resolve",t.type=new Se.ProtocolRequestType(t.method);})(yA=C.CompletionResolveRequest||(C.CompletionResolveRequest={}));var TA;(function(t){t.method="textDocument/hover",t.type=new Se.ProtocolRequestType(t.method);})(TA=C.HoverRequest||(C.HoverRequest={}));var bA;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3;})(bA=C.SignatureHelpTriggerKind||(C.SignatureHelpTriggerKind={}));var vA;(function(t){t.method="textDocument/signatureHelp",t.type=new Se.ProtocolRequestType(t.method);})(vA=C.SignatureHelpRequest||(C.SignatureHelpRequest={}));var NA;(function(t){t.method="textDocument/definition",t.type=new Se.ProtocolRequestType(t.method);})(NA=C.DefinitionRequest||(C.DefinitionRequest={}));var PA;(function(t){t.method="textDocument/references",t.type=new Se.ProtocolRequestType(t.method);})(PA=C.ReferencesRequest||(C.ReferencesRequest={}));var IA;(function(t){t.method="textDocument/documentHighlight",t.type=new Se.ProtocolRequestType(t.method);})(IA=C.DocumentHighlightRequest||(C.DocumentHighlightRequest={}));var SA;(function(t){t.method="textDocument/documentSymbol",t.type=new Se.ProtocolRequestType(t.method);})(SA=C.DocumentSymbolRequest||(C.DocumentSymbolRequest={}));var RA;(function(t){t.method="textDocument/codeAction",t.type=new Se.ProtocolRequestType(t.method);})(RA=C.CodeActionRequest||(C.CodeActionRequest={}));var CA;(function(t){t.method="codeAction/resolve",t.type=new Se.ProtocolRequestType(t.method);})(CA=C.CodeActionResolveRequest||(C.CodeActionResolveRequest={}));var xA;(function(t){t.method="workspace/symbol",t.type=new Se.ProtocolRequestType(t.method);})(xA=C.WorkspaceSymbolRequest||(C.WorkspaceSymbolRequest={}));var AA;(function(t){t.method="textDocument/codeLens",t.type=new Se.ProtocolRequestType(t.method);})(AA=C.CodeLensRequest||(C.CodeLensRequest={}));var EA;(function(t){t.method="codeLens/resolve",t.type=new Se.ProtocolRequestType(t.method);})(EA=C.CodeLensResolveRequest||(C.CodeLensResolveRequest={}));var wA;(function(t){t.method="workspace/codeLens/refresh",t.type=new Se.ProtocolRequestType0(t.method);})(wA=C.CodeLensRefreshRequest||(C.CodeLensRefreshRequest={}));var OA;(function(t){t.method="textDocument/documentLink",t.type=new Se.ProtocolRequestType(t.method);})(OA=C.DocumentLinkRequest||(C.DocumentLinkRequest={}));var LA;(function(t){t.method="documentLink/resolve",t.type=new Se.ProtocolRequestType(t.method);})(LA=C.DocumentLinkResolveRequest||(C.DocumentLinkResolveRequest={}));var DA;(function(t){t.method="textDocument/formatting",t.type=new Se.ProtocolRequestType(t.method);})(DA=C.DocumentFormattingRequest||(C.DocumentFormattingRequest={}));var MA;(function(t){t.method="textDocument/rangeFormatting",t.type=new Se.ProtocolRequestType(t.method);})(MA=C.DocumentRangeFormattingRequest||(C.DocumentRangeFormattingRequest={}));var kA;(function(t){t.method="textDocument/onTypeFormatting",t.type=new Se.ProtocolRequestType(t.method);})(kA=C.DocumentOnTypeFormattingRequest||(C.DocumentOnTypeFormattingRequest={}));var FA;(function(t){t.Identifier=1;})(FA=C.PrepareSupportDefaultBehavior||(C.PrepareSupportDefaultBehavior={}));var qA;(function(t){t.method="textDocument/rename",t.type=new Se.ProtocolRequestType(t.method);})(qA=C.RenameRequest||(C.RenameRequest={}));var VA;(function(t){t.method="textDocument/prepareRename",t.type=new Se.ProtocolRequestType(t.method);})(VA=C.PrepareRenameRequest||(C.PrepareRenameRequest={}));var BA;(function(t){t.type=new Se.ProtocolRequestType("workspace/executeCommand");})(BA=C.ExecuteCommandRequest||(C.ExecuteCommandRequest={}));var jA;(function(t){t.type=new Se.ProtocolRequestType("workspace/applyEdit");})(jA=C.ApplyWorkspaceEditRequest||(C.ApplyWorkspaceEditRequest={}));});var _y=q(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.createProtocolConnection=void 0;var gy=Vo();function UA(t,e,n,r){return gy.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),gy.createMessageConnection(t,e,n,r);}Iu.createProtocolConnection=UA;});var yy=q(mn=>{"use strict";var GA=mn&&mn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n];}});}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n];}),Su=mn&&mn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&GA(e,t,n);};Object.defineProperty(mn,"__esModule",{value:!0});mn.LSPErrorCodes=mn.createProtocolConnection=void 0;Su(Vo(),mn);Su(rt(),mn);Su(Gt(),mn);Su(hy(),mn);var WA=_y();Object.defineProperty(mn,"createProtocolConnection",{enumerable:!0,get:function(){return WA.createProtocolConnection;}});var HA;(function(t){t.lspReservedErrorRangeStart=-32899,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800;})(HA=mn.LSPErrorCodes||(mn.LSPErrorCodes={}));});var ln=q(ni=>{"use strict";var YA=ni&&ni.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n];}});}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n];}),Ty=ni&&ni.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&YA(e,t,n);};Object.defineProperty(ni,"__esModule",{value:!0});ni.createProtocolConnection=void 0;var KA=Fp();Ty(Fp(),ni);Ty(yy(),ni);function $A(t,e,n,r){return KA.createMessageConnection(t,e,n,r);}ni.createProtocolConnection=$A;});var Gp=q(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});Zn.generateUuid=Zn.parse=Zn.isUUID=Zn.v4=Zn.empty=void 0;var Ru=class{constructor(e){this._value=e;}asHex(){return this._value;}equals(e){return this.asHex()===e.asHex();}},we=class extends Ru{constructor(){super([we._randomHex(),we._randomHex(),we._randomHex(),we._randomHex(),we._randomHex(),we._randomHex(),we._randomHex(),we._randomHex(),"-",we._randomHex(),we._randomHex(),we._randomHex(),we._randomHex(),"-","4",we._randomHex(),we._randomHex(),we._randomHex(),"-",we._oneOf(we._timeHighBits),we._randomHex(),we._randomHex(),we._randomHex(),"-",we._randomHex(),we._randomHex(),we._randomHex(),we._randomHex(),we._randomHex(),we._randomHex(),we._randomHex(),we._randomHex(),we._randomHex(),we._randomHex(),we._randomHex(),we._randomHex()].join(""));}static _oneOf(e){return e[Math.floor(e.length*Math.random())];}static _randomHex(){return we._oneOf(we._chars);}};we._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];we._timeHighBits=["8","9","a","b"];Zn.empty=new Ru("00000000-0000-0000-0000-000000000000");function by(){return new we;}Zn.v4=by;var zA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function vy(t){return zA.test(t);}Zn.isUUID=vy;function XA(t){if(!vy(t))throw new Error("invalid uuid");return new Ru(t);}Zn.parse=XA;function QA(){return by().asHex();}Zn.generateUuid=QA;});var Py=q(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.attachPartialResult=ts.ProgressFeature=ts.attachWorkDone=void 0;var es=ln(),JA=Gp(),Ei=class{constructor(e,n){this._connection=e,this._token=n,Ei.Instances.set(this._token,this);}begin(e,n,r,i){let s={kind:"begin",title:e,percentage:n,message:r,cancellable:i};this._connection.sendProgress(es.WorkDoneProgress.type,this._token,s);}report(e,n){let r={kind:"report"};typeof e=="number"?(r.percentage=e,n!==void 0&&(r.message=n)):r.message=e,this._connection.sendProgress(es.WorkDoneProgress.type,this._token,r);}done(){Ei.Instances.delete(this._token),this._connection.sendProgress(es.WorkDoneProgress.type,this._token,{kind:"end"});}};Ei.Instances=new Map;var Wp=class extends Ei{constructor(e,n){super(e,n);this._source=new es.CancellationTokenSource;}get token(){return this._source.token;}done(){this._source.dispose(),super.done();}cancel(){this._source.cancel();}},Cu=class{constructor(){}begin(){}report(){}done(){}},Hp=class extends Cu{constructor(){super();this._source=new es.CancellationTokenSource;}get token(){return this._source.token;}done(){this._source.dispose();}cancel(){this._source.cancel();}};function ZA(t,e){if(e===void 0||e.workDoneToken===void 0)return new Cu;let n=e.workDoneToken;return delete e.workDoneToken,new Ei(t,n);}ts.attachWorkDone=ZA;var eE=t=>class extends t{constructor(){super();this._progressSupported=!1;}initialize(e){var n;((n=e==null?void 0:e.window)===null||n===void 0?void 0:n.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(es.WorkDoneProgressCancelNotification.type,r=>{let i=Ei.Instances.get(r.token);(i instanceof Wp||i instanceof Hp)&&i.cancel();}));}attachWorkDoneProgress(e){return e===void 0?new Cu:new Ei(this.connection,e);}createWorkDoneProgress(){if(this._progressSupported){let e=JA.generateUuid();return this.connection.sendRequest(es.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new Wp(this.connection,e));}else return Promise.resolve(new Hp);}};ts.ProgressFeature=eE;var Yp;(function(t){t.type=new es.ProgressType;})(Yp||(Yp={}));var Ny=class{constructor(e,n){this._connection=e,this._token=n;}report(e){this._connection.sendProgress(Yp.type,this._token,e);}};function tE(t,e){if(e===void 0||e.partialResultToken===void 0)return;let n=e.partialResultToken;return delete e.partialResultToken,new Ny(t,n);}ts.attachPartialResult=tE;});var Iy=q(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.ConfigurationFeature=void 0;var nE=ln(),rE=hu(),iE=t=>class extends t{getConfiguration(e){return e?rE.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({});}_getConfiguration(e){let n={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(nE.ConfigurationRequest.type,n).then(r=>Array.isArray(e)?r:r[0]);}};xu.ConfigurationFeature=iE;});var Sy=q(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.WorkspaceFoldersFeature=void 0;var Au=ln(),sE=t=>class extends t{initialize(e){let n=e.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Au.Emitter,this.connection.onNotification(Au.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event);}));}getWorkspaceFolders(){return this.connection.sendRequest(Au.WorkspaceFoldersRequest.type);}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(Au.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event;}};Eu.WorkspaceFoldersFeature=sE;});var Ry=q(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.CallHierarchyFeature=void 0;var Kp=ln(),oE=t=>class extends t{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest(Kp.CallHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0));},onIncomingCalls:e=>{let n=Kp.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)));},onOutgoingCalls:e=>{let n=Kp.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)));}};}};wu.CallHierarchyFeature=oE;});var zp=q(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.SemanticTokensBuilder=Uo.SemanticTokensFeature=void 0;var $p=ln(),aE=t=>class extends t{get semanticTokens(){return{on:e=>{let n=$p.SemanticTokensRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)));},onDelta:e=>{let n=$p.SemanticTokensDeltaRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)));},onRange:e=>{let n=$p.SemanticTokensRangeRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)));}};}};Uo.SemanticTokensFeature=aE;var Cy=class{constructor(){this._prevData=void 0,this.initialize();}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0;}push(e,n,r,i,s){let o=e,a=n;this._dataLen>0&&(o-=this._prevLine,o===0&&(a-=this._prevChar)),this._data[this._dataLen++]=o,this._data[this._dataLen++]=a,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=e,this._prevChar=n;}get id(){return this._id.toString();}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize();}build(){return this._prevData=void 0,{resultId:this.id,data:this._data};}canBuildEdits(){return this._prevData!==void 0;}buildEdits(){if(this._prevData!==void 0){let e=this._prevData.length,n=this._data.length,r=0;for(;r<n&&r<e&&this._prevData[r]===this._data[r];)r++;if(r<n&&r<e){let i=0;for(;i<n&&i<e&&this._prevData[e-1-i]===this._data[n-1-i];)i++;let s=this._data.slice(r,n-i);return{resultId:this.id,edits:[{start:r,deleteCount:e-i-r,data:s}]};}else return r<n?{resultId:this.id,edits:[{start:r,deleteCount:0,data:this._data.slice(r)}]}:r<e?{resultId:this.id,edits:[{start:r,deleteCount:e-r}]}:{resultId:this.id,edits:[]};}else return this.build();}};Uo.SemanticTokensBuilder=Cy;});var xy=q(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.ShowDocumentFeature=void 0;var lE=ln(),uE=t=>class extends t{showDocument(e){return this.connection.sendRequest(lE.ShowDocumentRequest.type,e);}};Ou.ShowDocumentFeature=uE;});var Ay=q(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.FileOperationsFeature=void 0;var Go=ln(),cE=t=>class extends t{onDidCreateFiles(e){this.connection.onNotification(Go.DidCreateFilesNotification.type,n=>{e(n);});}onDidRenameFiles(e){this.connection.onNotification(Go.DidRenameFilesNotification.type,n=>{e(n);});}onDidDeleteFiles(e){this.connection.onNotification(Go.DidDeleteFilesNotification.type,n=>{e(n);});}onWillCreateFiles(e){return this.connection.onRequest(Go.WillCreateFilesRequest.type,(n,r)=>e(n,r));}onWillRenameFiles(e){return this.connection.onRequest(Go.WillRenameFilesRequest.type,(n,r)=>e(n,r));}onWillDeleteFiles(e){return this.connection.onRequest(Go.WillDeleteFilesRequest.type,(n,r)=>e(n,r));}};Lu.FileOperationsFeature=cE;});var Ey=q(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.LinkedEditingRangeFeature=void 0;var fE=ln(),pE=t=>class extends t{onLinkedEditingRange(e){this.connection.onRequest(fE.LinkedEditingRangeRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0));}};Du.LinkedEditingRangeFeature=pE;});var wy=q(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.MonikerFeature=void 0;var dE=ln(),mE=t=>class extends t{get moniker(){return{on:e=>{let n=dE.MonikerRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)));}};}};Mu.MonikerFeature=mE;});var id=q(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.createConnection=Ue.combineFeatures=Ue.combineLanguagesFeatures=Ue.combineWorkspaceFeatures=Ue.combineWindowFeatures=Ue.combineClientFeatures=Ue.combineTracerFeatures=Ue.combineTelemetryFeatures=Ue.combineConsoleFeatures=Ue._LanguagesImpl=Ue.BulkUnregistration=Ue.BulkRegistration=Ue.ErrorMessageTracker=Ue.TextDocuments=void 0;var H=ln(),er=hu(),Xp=Gp(),Re=Py(),hE=Iy(),gE=Sy(),_E=Ry(),yE=zp(),TE=xy(),bE=Ay(),vE=Ey(),NE=wy();function Qp(t){if(t!==null)return t;}var Oy=class{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new H.Emitter,this._onDidOpen=new H.Emitter,this._onDidClose=new H.Emitter,this._onDidSave=new H.Emitter,this._onWillSave=new H.Emitter;}get onDidChangeContent(){return this._onDidChangeContent.event;}get onDidOpen(){return this._onDidOpen.event;}get onWillSave(){return this._onWillSave.event;}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e;}get onDidSave(){return this._onDidSave.event;}get onDidClose(){return this._onDidClose.event;}get(e){return this._documents[e];}all(){return Object.keys(this._documents).map(e=>this._documents[e]);}keys(){return Object.keys(this._documents);}listen(e){e.__textDocumentSync=H.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(n=>{let r=n.textDocument,i=this._configuration.create(r.uri,r.languageId,r.version,r.text);this._documents[r.uri]=i;let s=Object.freeze({document:i});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s);}),e.onDidChangeTextDocument(n=>{let r=n.textDocument,i=n.contentChanges;if(i.length===0)return;let s=this._documents[r.uri],{version:o}=r;if(o==null)throw new Error(`Received document change event for ${r.uri} without valid version identifier`);s=this._configuration.update(s,i,o),this._documents[r.uri]=s,this._onDidChangeContent.fire(Object.freeze({document:s}));}),e.onDidCloseTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&(delete this._documents[n.textDocument.uri],this._onDidClose.fire(Object.freeze({document:r})));}),e.onWillSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onWillSave.fire(Object.freeze({document:r,reason:n.reason}));}),e.onWillSaveTextDocumentWaitUntil((n,r)=>{let i=this._documents[n.textDocument.uri];return i&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:i,reason:n.reason}),r):[];}),e.onDidSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onDidSave.fire(Object.freeze({document:r}));});}};Ue.TextDocuments=Oy;var Ly=class{constructor(){this._messages=Object.create(null);}add(e){let n=this._messages[e];n||(n=0),n++,this._messages[e]=n;}sendErrors(e){Object.keys(this._messages).forEach(n=>{e.window.showErrorMessage(n);});}};Ue.ErrorMessageTracker=Ly;var Jp=class{constructor(){}rawAttach(e){this._rawConnection=e;}attach(e){this._connection=e;}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection;}fillServerCapabilities(e){}initialize(e){}error(e){this.send(H.MessageType.Error,e);}warn(e){this.send(H.MessageType.Warning,e);}info(e){this.send(H.MessageType.Info,e);}log(e){this.send(H.MessageType.Log,e);}send(e,n){this._rawConnection&&this._rawConnection.sendNotification(H.LogMessageNotification.type,{type:e,message:n});}},Dy=class{constructor(){}attach(e){this._connection=e;}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection;}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...n){let r={type:H.MessageType.Error,message:e,actions:n};return this.connection.sendRequest(H.ShowMessageRequest.type,r).then(Qp);}showWarningMessage(e,...n){let r={type:H.MessageType.Warning,message:e,actions:n};return this.connection.sendRequest(H.ShowMessageRequest.type,r).then(Qp);}showInformationMessage(e,...n){let r={type:H.MessageType.Info,message:e,actions:n};return this.connection.sendRequest(H.ShowMessageRequest.type,r).then(Qp);}},My=TE.ShowDocumentFeature(Re.ProgressFeature(Dy)),PE;(function(t){function e(){return new Zp;}t.create=e;})(PE=Ue.BulkRegistration||(Ue.BulkRegistration={}));var Zp=class{constructor(){this._registrations=[],this._registered=new Set;}add(e,n){let r=er.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let i=Xp.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r);}asRegistrationParams(){return{registrations:this._registrations};}},IE;(function(t){function e(){return new ku(void 0,[]);}t.create=e;})(IE=Ue.BulkUnregistration||(Ue.BulkUnregistration={}));var ku=class{constructor(e,n){this._connection=e,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r);});}get isAttached(){return!!this._connection;}attach(e){this._connection=e;}add(e){this._unregistrations.set(e.method,e);}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let n={unregisterations:e};this._connection.sendRequest(H.UnregistrationRequest.type,n).then(void 0,r=>{this._connection.console.info("Bulk unregistration failed.");});}disposeSingle(e){let n=er.string(e)?e:e.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(H.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n);},s=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`);}),!0;}},ed=class{attach(e){this._connection=e;}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection;}initialize(e){}fillServerCapabilities(e){}register(e,n,r){return e instanceof Zp?this.registerMany(e):e instanceof ku?this.registerSingle1(e,n,r):this.registerSingle2(e,n);}registerSingle1(e,n,r){let i=er.string(n)?n:n.method,s=Xp.generateUuid(),o={registrations:[{id:s,method:i,registerOptions:r||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(H.RegistrationRequest.type,o).then(a=>(e.add({id:s,method:i}),e),a=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(a)));}registerSingle2(e,n){let r=er.string(e)?e:e.method,i=Xp.generateUuid(),s={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(H.RegistrationRequest.type,s).then(o=>H.Disposable.create(()=>{this.unregisterSingle(i,r);}),o=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(o)));}unregisterSingle(e,n){let r={unregisterations:[{id:e,method:n}]};return this.connection.sendRequest(H.UnregistrationRequest.type,r).then(void 0,i=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`);});}registerMany(e){let n=e.asRegistrationParams();return this.connection.sendRequest(H.RegistrationRequest.type,n).then(()=>new ku(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)));}},ky=class{constructor(){}attach(e){this._connection=e;}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection;}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function n(i){return i&&!!i.edit;}let r=n(e)?e:{edit:e};return this.connection.sendRequest(H.ApplyWorkspaceEditRequest.type,r);}},Fy=bE.FileOperationsFeature(gE.WorkspaceFoldersFeature(hE.ConfigurationFeature(ky))),td=class{constructor(){this._trace=H.Trace.Off;}attach(e){this._connection=e;}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection;}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e;}log(e,n){this._trace!==H.Trace.Off&&this.connection.sendNotification(H.LogTraceNotification.type,{message:e,verbose:this._trace===H.Trace.Verbose?n:void 0});}},nd=class{constructor(){}attach(e){this._connection=e;}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection;}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(H.TelemetryEventNotification.type,e);}},rd=class{constructor(){}attach(e){this._connection=e;}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection;}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return Re.attachWorkDone(this.connection,e);}attachPartialResultProgress(e,n){return Re.attachPartialResult(this.connection,n);}};Ue._LanguagesImpl=rd;var qy=NE.MonikerFeature(vE.LinkedEditingRangeFeature(yE.SemanticTokensFeature(_E.CallHierarchyFeature(rd))));function Vy(t,e){return function(n){return e(t(n));};}Ue.combineConsoleFeatures=Vy;function By(t,e){return function(n){return e(t(n));};}Ue.combineTelemetryFeatures=By;function jy(t,e){return function(n){return e(t(n));};}Ue.combineTracerFeatures=jy;function Uy(t,e){return function(n){return e(t(n));};}Ue.combineClientFeatures=Uy;function Gy(t,e){return function(n){return e(t(n));};}Ue.combineWindowFeatures=Gy;function Wy(t,e){return function(n){return e(t(n));};}Ue.combineWorkspaceFeatures=Wy;function SE(t,e){return function(n){return e(t(n));};}Ue.combineLanguagesFeatures=SE;function RE(t,e){function n(i,s,o){return i&&s?o(i,s):i||s;}return{__brand:"features",console:n(t.console,e.console,Vy),tracer:n(t.tracer,e.tracer,jy),telemetry:n(t.telemetry,e.telemetry,By),client:n(t.client,e.client,Uy),window:n(t.window,e.window,Gy),workspace:n(t.workspace,e.workspace,Wy)};}Ue.combineFeatures=RE;function CE(t,e,n){let r=n&&n.console?new(n.console(Jp)):new Jp,i=t(r);r.rawAttach(i);let s=n&&n.tracer?new(n.tracer(td)):new td,o=n&&n.telemetry?new(n.telemetry(nd)):new nd,a=n&&n.client?new(n.client(ed)):new ed,l=n&&n.window?new(n.window(My)):new My,u=n&&n.workspace?new(n.workspace(Fy)):new Fy,f=n&&n.languages?new(n.languages(qy)):new qy,c=[r,s,o,a,l,u,f];function d(g){return g instanceof Promise?g:er.thenable(g)?new Promise((_,T)=>{g.then(I=>_(I),I=>T(I));}):Promise.resolve(g);}let p,m,h,v={listen:()=>i.listen(),sendRequest:(g,..._)=>i.sendRequest(er.string(g)?g:g.method,..._),onRequest:(g,_)=>i.onRequest(g,_),sendNotification:(g,_)=>{let T=er.string(g)?g:g.method;arguments.length===1?i.sendNotification(T):i.sendNotification(T,_);},onNotification:(g,_)=>i.onNotification(g,_),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:g=>m=g,onInitialized:g=>i.onNotification(H.InitializedNotification.type,g),onShutdown:g=>p=g,onExit:g=>h=g,get console(){return r;},get telemetry(){return o;},get tracer(){return s;},get client(){return a;},get window(){return l;},get workspace(){return u;},get languages(){return f;},onDidChangeConfiguration:g=>i.onNotification(H.DidChangeConfigurationNotification.type,g),onDidChangeWatchedFiles:g=>i.onNotification(H.DidChangeWatchedFilesNotification.type,g),__textDocumentSync:void 0,onDidOpenTextDocument:g=>i.onNotification(H.DidOpenTextDocumentNotification.type,g),onDidChangeTextDocument:g=>i.onNotification(H.DidChangeTextDocumentNotification.type,g),onDidCloseTextDocument:g=>i.onNotification(H.DidCloseTextDocumentNotification.type,g),onWillSaveTextDocument:g=>i.onNotification(H.WillSaveTextDocumentNotification.type,g),onWillSaveTextDocumentWaitUntil:g=>i.onRequest(H.WillSaveTextDocumentWaitUntilRequest.type,g),onDidSaveTextDocument:g=>i.onNotification(H.DidSaveTextDocumentNotification.type,g),sendDiagnostics:g=>i.sendNotification(H.PublishDiagnosticsNotification.type,g),onHover:g=>i.onRequest(H.HoverRequest.type,(_,T)=>g(_,T,Re.attachWorkDone(i,_),void 0)),onCompletion:g=>i.onRequest(H.CompletionRequest.type,(_,T)=>g(_,T,Re.attachWorkDone(i,_),Re.attachPartialResult(i,_))),onCompletionResolve:g=>i.onRequest(H.CompletionResolveRequest.type,g),onSignatureHelp:g=>i.onRequest(H.SignatureHelpRequest.type,(_,T)=>g(_,T,Re.attachWorkDone(i,_),void 0)),onDeclaration:g=>i.onRequest(H.DeclarationRequest.type,(_,T)=>g(_,T,Re.attachWorkDone(i,_),Re.attachPartialResult(i,_))),onDefinition:g=>i.onRequest(H.DefinitionRequest.type,(_,T)=>g(_,T,Re.attachWorkDone(i,_),Re.attachPartialResult(i,_))),onTypeDefinition:g=>i.onRequest(H.TypeDefinitionRequest.type,(_,T)=>g(_,T,Re.attachWorkDone(i,_),Re.attachPartialResult(i,_))),onImplementation:g=>i.onRequest(H.ImplementationRequest.type,(_,T)=>g(_,T,Re.attachWorkDone(i,_),Re.attachPartialResult(i,_))),onReferences:g=>i.onRequest(H.ReferencesRequest.type,(_,T)=>g(_,T,Re.attachWorkDone(i,_),Re.attachPartialResult(i,_))),onDocumentHighlight:g=>i.onRequest(H.DocumentHighlightRequest.type,(_,T)=>g(_,T,Re.attachWorkDone(i,_),Re.attachPartialResult(i,_))),onDocumentSymbol:g=>i.onRequest(H.DocumentSymbolRequest.type,(_,T)=>g(_,T,Re.attachWorkDone(i,_),Re.attachPartialResult(i,_))),onWorkspaceSymbol:g=>i.onRequest(H.WorkspaceSymbolRequest.type,(_,T)=>g(_,T,Re.attachWorkDone(i,_),Re.attachPartialResult(i,_))),onCodeAction:g=>i.onRequest(H.CodeActionRequest.type,(_,T)=>g(_,T,Re.attachWorkDone(i,_),Re.attachPartialResult(i,_))),onCodeActionResolve:g=>i.onRequest(H.CodeActionResolveRequest.type,(_,T)=>g(_,T)),onCodeLens:g=>i.onRequest(H.CodeLensRequest.type,(_,T)=>g(_,T,Re.attachWorkDone(i,_),Re.attachPartialResult(i,_))),onCodeLensResolve:g=>i.onRequest(H.CodeLensResolveRequest.type,(_,T)=>g(_,T)),onDocumentFormatting:g=>i.onRequest(H.DocumentFormattingRequest.type,(_,T)=>g(_,T,Re.attachWorkDone(i,_),void 0)),onDocumentRangeFormatting:g=>i.onRequest(H.DocumentRangeFormattingRequest.type,(_,T)=>g(_,T,Re.attachWorkDone(i,_),void 0)),onDocumentOnTypeFormatting:g=>i.onRequest(H.DocumentOnTypeFormattingRequest.type,(_,T)=>g(_,T)),onRenameRequest:g=>i.onRequest(H.RenameRequest.type,(_,T)=>g(_,T,Re.attachWorkDone(i,_),void 0)),onPrepareRename:g=>i.onRequest(H.PrepareRenameRequest.type,(_,T)=>g(_,T)),onDocumentLinks:g=>i.onRequest(H.DocumentLinkRequest.type,(_,T)=>g(_,T,Re.attachWorkDone(i,_),Re.attachPartialResult(i,_))),onDocumentLinkResolve:g=>i.onRequest(H.DocumentLinkResolveRequest.type,(_,T)=>g(_,T)),onDocumentColor:g=>i.onRequest(H.DocumentColorRequest.type,(_,T)=>g(_,T,Re.attachWorkDone(i,_),Re.attachPartialResult(i,_))),onColorPresentation:g=>i.onRequest(H.ColorPresentationRequest.type,(_,T)=>g(_,T,Re.attachWorkDone(i,_),Re.attachPartialResult(i,_))),onFoldingRanges:g=>i.onRequest(H.FoldingRangeRequest.type,(_,T)=>g(_,T,Re.attachWorkDone(i,_),Re.attachPartialResult(i,_))),onSelectionRanges:g=>i.onRequest(H.SelectionRangeRequest.type,(_,T)=>g(_,T,Re.attachWorkDone(i,_),Re.attachPartialResult(i,_))),onExecuteCommand:g=>i.onRequest(H.ExecuteCommandRequest.type,(_,T)=>g(_,T,Re.attachWorkDone(i,_),void 0)),dispose:()=>i.dispose()};for(let g of c)g.attach(v);return i.onRequest(H.InitializeRequest.type,g=>{e.initialize(g),er.string(g.trace)&&(s.trace=H.Trace.fromString(g.trace));for(let _ of c)_.initialize(g.capabilities);if(m){let _=m(g,new H.CancellationTokenSource().token,Re.attachWorkDone(i,g),void 0);return d(_).then(T=>{if(T instanceof H.ResponseError)return T;let I=T;I||(I={capabilities:{}});let w=I.capabilities;w||(w={},I.capabilities=w),w.textDocumentSync===void 0||w.textDocumentSync===null?w.textDocumentSync=er.number(v.__textDocumentSync)?v.__textDocumentSync:H.TextDocumentSyncKind.None:!er.number(w.textDocumentSync)&&!er.number(w.textDocumentSync.change)&&(w.textDocumentSync.change=er.number(v.__textDocumentSync)?v.__textDocumentSync:H.TextDocumentSyncKind.None);for(let $ of c)$.fillServerCapabilities(w);return I;});}else{let _={capabilities:{textDocumentSync:H.TextDocumentSyncKind.None}};for(let T of c)T.fillServerCapabilities(_.capabilities);return _;}}),i.onRequest(H.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,p)return p(new H.CancellationTokenSource().token);}),i.onNotification(H.ExitNotification.type,()=>{try{h&&h();}finally{e.shutdownReceived?e.exit(0):e.exit(1);}}),i.onNotification(H.SetTraceNotification.type,g=>{s.trace=H.Trace.fromString(g.value);}),v;}Ue.createConnection=CE;});var Yy=q(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.resolveModulePath=hn.FileSystem=hn.resolveGlobalYarnPath=hn.resolveGlobalNodePath=hn.resolve=hn.uriToFilePath=void 0;var xE=require("url"),Rr=require("path"),sd=require("fs"),od=require("child_process");function AE(t){let e=xE.parse(t);if(e.protocol!=="file:"||!e.path)return;let n=e.path.split("/");for(var r=0,i=n.length;r<i;r++)n[r]=decodeURIComponent(n[r]);if(process.platform==="win32"&&n.length>1){let s=n[0],o=n[1];s.length===0&&o.length>1&&o[1]===":"&&n.shift();}return Rr.normalize(n.join("/"));}hn.uriToFilePath=AE;function ad(){return process.platform==="win32";}function Fu(t,e,n,r){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((o,a)=>{let l=process.env,u=Object.create(null);Object.keys(l).forEach(f=>u[f]=l[f]),e&&sd.existsSync(e)&&(u[i]?u[i]=e+Rr.delimiter+u[i]:u[i]=e,r&&r(`NODE_PATH value is: ${u[i]}`)),u.ELECTRON_RUN_AS_NODE="1";try{let f=od.fork("",[],{cwd:n,env:u,execArgv:["-e",s]});if(f.pid===void 0){a(new Error(`Starting process to resolve node module  ${t} failed`));return;}f.on("error",d=>{a(d);}),f.on("message",d=>{d.c==="r"&&(f.send({c:"e"}),d.s?o(d.r):a(new Error(`Failed to resolve module: ${t}`)));});let c={c:"rs",a:t};f.send(c);}catch(f){a(f);}});}hn.resolve=Fu;function ld(t){let e="npm",n=Object.create(null);Object.keys(process.env).forEach(s=>n[s]=process.env[s]),n.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:n};ad()&&(e="npm.cmd",r.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let s=od.spawnSync(e,["config","get","prefix"],r).stdout;if(!s){t&&t("'npm config get prefix' didn't return a value.");return;}let o=s.trim();return t&&t(`'npm config get prefix' value is: ${o}`),o.length>0?ad()?Rr.join(o,"node_modules"):Rr.join(o,"lib","node_modules"):void 0;}catch{return;}finally{process.removeListener("SIGPIPE",i);}}hn.resolveGlobalNodePath=ld;function EE(t){let e="yarn",n={encoding:"utf8"};ad()&&(e="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let i=od.spawnSync(e,["global","dir","--json"],n),s=i.stdout;if(!s){t&&(t("'yarn global dir' didn't return a value."),i.stderr&&t(i.stderr));return;}let o=s.trim().split(/\r?\n/);for(let a of o)try{let l=JSON.parse(a);if(l.type==="log")return Rr.join(l.data,"node_modules");}catch{}return;}catch{return;}finally{process.removeListener("SIGPIPE",r);}}hn.resolveGlobalYarnPath=EE;var Hy;(function(t){let e;function n(){return e!==void 0||(process.platform==="win32"?e=!1:e=!sd.existsSync(__filename.toUpperCase())||!sd.existsSync(__filename.toLowerCase())),e;}t.isCaseSensitive=n;function r(i,s){return n()?Rr.normalize(s).indexOf(Rr.normalize(i))===0:Rr.normalize(s).toLowerCase().indexOf(Rr.normalize(i).toLowerCase())===0;}t.isParent=r;})(Hy=hn.FileSystem||(hn.FileSystem={}));function wE(t,e,n,r){return n?(Rr.isAbsolute(n)||(n=Rr.join(t,n)),Fu(e,n,n,r).then(i=>Hy.isParent(n,i)?i:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,i=>Fu(e,ld(r),t,r))):Fu(e,ld(r),t,r);}hn.resolveModulePath=wE;});var ud=q((BB,Ky)=>{"use strict";Ky.exports=ln();});var zy=q(kn=>{"use strict";var OE=kn&&kn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n];}});}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n];}),$y=kn&&kn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&OE(e,t,n);};Object.defineProperty(kn,"__esModule",{value:!0});kn.ProposedFeatures=kn.SemanticTokensBuilder=void 0;var LE=zp();Object.defineProperty(kn,"SemanticTokensBuilder",{enumerable:!0,get:function(){return LE.SemanticTokensBuilder;}});$y(ln(),kn);$y(id(),kn);var DE;(function(t){t.all={__brand:"features"};})(DE=kn.ProposedFeatures||(kn.ProposedFeatures={}));});var Cn=q(Fn=>{"use strict";var ME=Fn&&Fn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n];}});}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n];}),Xy=Fn&&Fn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&ME(e,t,n);};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.createConnection=Fn.Files=void 0;var cd=hu(),kE=id(),al=Yy(),Vs=ud();Xy(ud(),Fn);Xy(zy(),Fn);var FE;(function(t){t.uriToFilePath=al.uriToFilePath,t.resolveGlobalNodePath=al.resolveGlobalNodePath,t.resolveGlobalYarnPath=al.resolveGlobalYarnPath,t.resolve=al.resolve,t.resolveModulePath=al.resolveModulePath;})(FE=Fn.Files||(Fn.Files={}));var Qy;function qu(){if(Qy!==void 0)try{Qy.end();}catch{}}var Wo=!1,Jy;function qE(){let t="--clientProcessId";function e(n){try{let r=parseInt(n);isNaN(r)||(Jy=setInterval(()=>{try{process.kill(r,0);}catch{qu(),process.exit(Wo?0:1);}},3e3));}catch{}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===t&&n+1<process.argv.length){e(process.argv[n+1]);return;}else{let i=r.split("=");i[0]===t&&e(i[1]);}}}qE();var VE={initialize:t=>{let e=t.processId;cd.number(e)&&Jy===void 0&&setInterval(()=>{try{process.kill(e,0);}catch{process.exit(Wo?0:1);}},3e3);},get shutdownReceived(){return Wo;},set shutdownReceived(t){Wo=t;},exit:t=>{qu(),process.exit(t);}};function BE(t,e,n,r){let i,s,o,a;return t!==void 0&&t.__brand==="features"&&(i=t,t=e,e=n,n=r),Vs.ConnectionStrategy.is(t)||Vs.ConnectionOptions.is(t)?a=t:(s=t,o=e,a=n),jE(s,o,a,i);}Fn.createConnection=BE;function jE(t,e,n,r){if(!t&&!e&&process.argv.length>2){let a,l,u=process.argv.slice(2);for(let f=0;f<u.length;f++){let c=u[f];if(c==="--node-ipc"){t=new Vs.IPCMessageReader(process),e=new Vs.IPCMessageWriter(process);break;}else if(c==="--stdio"){t=process.stdin,e=process.stdout;break;}else if(c==="--socket"){a=parseInt(u[f+1]);break;}else if(c==="--pipe"){l=u[f+1];break;}else{var i=c.split("=");if(i[0]==="--socket"){a=parseInt(i[1]);break;}else if(i[0]==="--pipe"){l=i[1];break;}}}if(a){let f=Vs.createServerSocketTransport(a);t=f[0],e=f[1];}else if(l){let f=Vs.createServerPipeTransport(l);t=f[0],e=f[1];}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+s);if(!e)throw new Error("Connection output stream is not set. "+s);if(cd.func(t.read)&&cd.func(t.on)){let a=t;a.on("end",()=>{qu(),process.exit(Wo?0:1);}),a.on("close",()=>{qu(),process.exit(Wo?0:1);});}let o=a=>Vs.createProtocolConnection(t,e,a,n);return kE.createConnection(o,VE,r);}});var eT=q((GB,Zy)=>{"use strict";Zy.exports=Cn();});var pd=q(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});fd.default=XE;var $E=zE(require("crypto"));function zE(t){return t&&t.__esModule?t:{default:t};}var Bu=new Uint8Array(256),ju=Bu.length;function XE(){return ju>Bu.length-16&&($E.default.randomFillSync(Bu),ju=0),Bu.slice(ju,ju+=16);}});var pT=q(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.default=void 0;var QE=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Uu.default=QE;});var ul=q(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.default=void 0;var JE=ZE(pT());function ZE(t){return t&&t.__esModule?t:{default:t};}function ew(t){return typeof t=="string"&&JE.default.test(t);}var tw=ew;Gu.default=tw;});var cl=q(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.default=void 0;var nw=rw(ul());function rw(t){return t&&t.__esModule?t:{default:t};}var Zt=[];for(let t=0;t<256;++t)Zt.push((t+256).toString(16).substr(1));function iw(t,e=0){let n=(Zt[t[e+0]]+Zt[t[e+1]]+Zt[t[e+2]]+Zt[t[e+3]]+"-"+Zt[t[e+4]]+Zt[t[e+5]]+"-"+Zt[t[e+6]]+Zt[t[e+7]]+"-"+Zt[t[e+8]]+Zt[t[e+9]]+"-"+Zt[t[e+10]]+Zt[t[e+11]]+Zt[t[e+12]]+Zt[t[e+13]]+Zt[t[e+14]]+Zt[t[e+15]]).toLowerCase();if(!(0,nw.default)(n))throw TypeError("Stringified UUID is invalid");return n;}var sw=iw;Wu.default=sw;});var hT=q(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.default=void 0;var ow=dT(pd()),aw=dT(cl());function dT(t){return t&&t.__esModule?t:{default:t};}var mT,dd,md=0,hd=0;function lw(t,e,n){let r=e&&n||0,i=e||new Array(16);t=t||{};let s=t.node||mT,o=t.clockseq!==void 0?t.clockseq:dd;if(s==null||o==null){let d=t.random||(t.rng||ow.default)();s==null&&(s=mT=[d[0]|1,d[1],d[2],d[3],d[4],d[5]]),o==null&&(o=dd=(d[6]<<8|d[7])&16383);}let a=t.msecs!==void 0?t.msecs:Date.now(),l=t.nsecs!==void 0?t.nsecs:hd+1,u=a-md+(l-hd)/1e4;if(u<0&&t.clockseq===void 0&&(o=o+1&16383),(u<0||a>md)&&t.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");md=a,hd=l,dd=o,a+=122192928e5;let f=((a&268435455)*1e4+l)%4294967296;i[r++]=f>>>24&255,i[r++]=f>>>16&255,i[r++]=f>>>8&255,i[r++]=f&255;let c=a/4294967296*1e4&268435455;i[r++]=c>>>8&255,i[r++]=c&255,i[r++]=c>>>24&15|16,i[r++]=c>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(let d=0;d<6;++d)i[r+d]=s[d];return e||(0,aw.default)(i);}var uw=lw;Hu.default=uw;});var gd=q(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.default=void 0;var cw=fw(ul());function fw(t){return t&&t.__esModule?t:{default:t};}function pw(t){if(!(0,cw.default)(t))throw TypeError("Invalid UUID");let e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n;}var dw=pw;Yu.default=dw;});var _d=q(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.default=_w;Us.URL=Us.DNS=void 0;var mw=gT(cl()),hw=gT(gd());function gT(t){return t&&t.__esModule?t:{default:t};}function gw(t){t=unescape(encodeURIComponent(t));let e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e;}var _T="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Us.DNS=_T;var yT="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Us.URL=yT;function _w(t,e,n){function r(i,s,o,a){if(typeof i=="string"&&(i=gw(i)),typeof s=="string"&&(s=(0,hw.default)(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+i.length);if(l.set(s),l.set(i,s.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){a=a||0;for(let u=0;u<16;++u)o[a+u]=l[u];return o;}return(0,mw.default)(l);}try{r.name=t;}catch{}return r.DNS=_T,r.URL=yT,r;}});var TT=q(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.default=void 0;var yw=Tw(require("crypto"));function Tw(t){return t&&t.__esModule?t:{default:t};}function bw(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),yw.default.createHash("md5").update(t).digest();}var vw=bw;Ku.default=vw;});var vT=q($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.default=void 0;var Nw=bT(_d()),Pw=bT(TT());function bT(t){return t&&t.__esModule?t:{default:t};}var Iw=(0,Nw.default)("v3",48,Pw.default),Sw=Iw;$u.default=Sw;});var PT=q(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.default=void 0;var Rw=NT(pd()),Cw=NT(cl());function NT(t){return t&&t.__esModule?t:{default:t};}function xw(t,e,n){t=t||{};let r=t.random||(t.rng||Rw.default)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e;}return(0,Cw.default)(r);}var Aw=xw;zu.default=Aw;});var IT=q(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});Xu.default=void 0;var Ew=ww(require("crypto"));function ww(t){return t&&t.__esModule?t:{default:t};}function Ow(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),Ew.default.createHash("sha1").update(t).digest();}var Lw=Ow;Xu.default=Lw;});var RT=q(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.default=void 0;var Dw=ST(_d()),Mw=ST(IT());function ST(t){return t&&t.__esModule?t:{default:t};}var kw=(0,Dw.default)("v5",80,Mw.default),Fw=kw;Qu.default=Fw;});var CT=q(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.default=void 0;var qw="00000000-0000-0000-0000-000000000000";Ju.default=qw;});var xT=q(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.default=void 0;var Vw=Bw(ul());function Bw(t){return t&&t.__esModule?t:{default:t};}function jw(t){if(!(0,Vw.default)(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16);}var Uw=jw;Zu.default=Uw;});var AT=q(xr=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});Object.defineProperty(xr,"v1",{enumerable:!0,get:function(){return Gw.default;}});Object.defineProperty(xr,"v3",{enumerable:!0,get:function(){return Ww.default;}});Object.defineProperty(xr,"v4",{enumerable:!0,get:function(){return Hw.default;}});Object.defineProperty(xr,"v5",{enumerable:!0,get:function(){return Yw.default;}});Object.defineProperty(xr,"NIL",{enumerable:!0,get:function(){return Kw.default;}});Object.defineProperty(xr,"version",{enumerable:!0,get:function(){return $w.default;}});Object.defineProperty(xr,"validate",{enumerable:!0,get:function(){return zw.default;}});Object.defineProperty(xr,"stringify",{enumerable:!0,get:function(){return Xw.default;}});Object.defineProperty(xr,"parse",{enumerable:!0,get:function(){return Qw.default;}});var Gw=wi(hT()),Ww=wi(vT()),Hw=wi(PT()),Yw=wi(RT()),Kw=wi(CT()),$w=wi(xT()),zw=wi(ul()),Xw=wi(cl()),Qw=wi(gd());function wi(t){return t&&t.__esModule?t:{default:t};}});var UT=q((tU,jT)=>{"use strict";jT.exports=function(e){return typeof process!="undefined"||!process.env||!process.env[e]?!1:process.env[e];};});var tr=q((nU,GT)=>{"use strict";var Jw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t;}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t;};GT.exports=function(e,n){var r=UT(),i="",s=[],o=0,a=function h(v){if(v instanceof RegExp)return new RegExp(v);if(v instanceof Date)return new Date(v);var g={};for(var _ in v)Jw(v[_])==="object"?g[_]=h(v[_]):g[_]=v[_];return g;},l=function(v){return v!==1?1:0;},u=function(v){return v>1?1:0;},f=typeof window!="undefined"?window:global;f.$locutus=f.$locutus||{};var c=f.$locutus;if(c.php=c.php||{},(!c.php.locales||!c.php.locales.fr_CA||!c.php.locales.fr_CA.LC_TIME||!c.php.locales.fr_CA.LC_TIME.x)&&(c.php.locales={},c.php.locales.en={LC_COLLATE:function(v,g){return v===g?0:v>g?1:-1;},LC_CTYPE:{an:/^[A-Za-z\d]+$/g,al:/^[A-Za-z]+$/g,ct:/^[\u0000-\u001F\u007F]+$/g,dg:/^[\d]+$/g,gr:/^[\u0021-\u007E]+$/g,lw:/^[a-z]+$/g,pr:/^[\u0020-\u007E]+$/g,pu:/^[\u0021-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007E]+$/g,sp:/^[\f\n\r\t\v ]+$/g,up:/^[A-Z]+$/g,xd:/^[A-Fa-f\d]+$/g,CODESET:"UTF-8",lower:"abcdefghijklmnopqrstuvwxyz",upper:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"},LC_TIME:{a:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B:["January","February","March","April","May","June","July","August","September","October","November","December"],c:"%a %d %b %Y %r %Z",p:["AM","PM"],P:["am","pm"],r:"%I:%M:%S %p",x:"%m/%d/%Y",X:"%r",alt_digits:"",ERA:"",ERA_YEAR:"",ERA_D_T_FMT:"",ERA_D_FMT:"",ERA_T_FMT:""},LC_MONETARY:{int_curr_symbol:"USD",currency_symbol:"$",mon_decimal_point:".",mon_thousands_sep:",",mon_grouping:[3],positive_sign:"",negative_sign:"-",int_frac_digits:2,frac_digits:2,p_cs_precedes:1,p_sep_by_space:0,n_cs_precedes:1,n_sep_by_space:0,p_sign_posn:3,n_sign_posn:0},LC_NUMERIC:{decimal_point:".",thousands_sep:",",grouping:[3]},LC_MESSAGES:{YESEXPR:"^[yY].*",NOEXPR:"^[nN].*",YESSTR:"",NOSTR:""},nplurals:l},c.php.locales.en_US=a(c.php.locales.en),c.php.locales.en_US.LC_TIME.c="%a %d %b %Y %r %Z",c.php.locales.en_US.LC_TIME.x="%D",c.php.locales.en_US.LC_TIME.X="%r",c.php.locales.en_US.LC_MONETARY.int_curr_symbol="USD ",c.php.locales.en_US.LC_MONETARY.p_sign_posn=1,c.php.locales.en_US.LC_MONETARY.n_sign_posn=1,c.php.locales.en_US.LC_MONETARY.mon_grouping=[3,3],c.php.locales.en_US.LC_NUMERIC.thousands_sep="",c.php.locales.en_US.LC_NUMERIC.grouping=[],c.php.locales.en_GB=a(c.php.locales.en),c.php.locales.en_GB.LC_TIME.r="%l:%M:%S %P %Z",c.php.locales.en_AU=a(c.php.locales.en_GB),c.php.locales.C=a(c.php.locales.en),c.php.locales.C.LC_CTYPE.CODESET="ANSI_X3.4-1968",c.php.locales.C.LC_MONETARY={int_curr_symbol:"",currency_symbol:"",mon_decimal_point:"",mon_thousands_sep:"",mon_grouping:[],p_cs_precedes:127,p_sep_by_space:127,n_cs_precedes:127,n_sep_by_space:127,p_sign_posn:127,n_sign_posn:127,positive_sign:"",negative_sign:"",int_frac_digits:127,frac_digits:127},c.php.locales.C.LC_NUMERIC={decimal_point:".",thousands_sep:"",grouping:[]},c.php.locales.C.LC_TIME.c="%a %b %e %H:%M:%S %Y",c.php.locales.C.LC_TIME.x="%m/%d/%y",c.php.locales.C.LC_TIME.X="%H:%M:%S",c.php.locales.C.LC_MESSAGES.YESEXPR="^[yY]",c.php.locales.C.LC_MESSAGES.NOEXPR="^[nN]",c.php.locales.fr=a(c.php.locales.en),c.php.locales.fr.nplurals=u,c.php.locales.fr.LC_TIME.a=["dim","lun","mar","mer","jeu","ven","sam"],c.php.locales.fr.LC_TIME.A=["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],c.php.locales.fr.LC_TIME.b=["jan","f\xE9v","mar","avr","mai","jun","jui","ao\xFB","sep","oct","nov","d\xE9c"],c.php.locales.fr.LC_TIME.B=["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"],c.php.locales.fr.LC_TIME.c="%a %d %b %Y %T %Z",c.php.locales.fr.LC_TIME.p=["",""],c.php.locales.fr.LC_TIME.P=["",""],c.php.locales.fr.LC_TIME.x="%d.%m.%Y",c.php.locales.fr.LC_TIME.X="%T",c.php.locales.fr_CA=a(c.php.locales.fr),c.php.locales.fr_CA.LC_TIME.x="%Y-%m-%d"),!c.php.locale&&(c.php.locale="en_US",typeof window!="undefined"&&window.document)){var d=window.document,p="https://www.w3.org/1999/xhtml",m="https://www.w3.org/XML/1998/namespace";d.getElementsByTagNameNS&&d.getElementsByTagNameNS(p,"html")[0]?d.getElementsByTagNameNS(p,"html")[0].getAttributeNS&&d.getElementsByTagNameNS(p,"html")[0].getAttributeNS(m,"lang")?c.php.locale=d.getElementsByTagName(p,"html")[0].getAttributeNS(m,"lang"):d.getElementsByTagNameNS(p,"html")[0].lang&&(c.php.locale=d.getElementsByTagNameNS(p,"html")[0].lang):d.getElementsByTagName("html")[0]&&d.getElementsByTagName("html")[0].lang&&(c.php.locale=d.getElementsByTagName("html")[0].lang);}if(c.php.locale=c.php.locale.replace("-","_"),c.php.locale in c.php.locales||c.php.locale.replace(/_[a-zA-Z]+$/,"")in c.php.locales&&(c.php.locale=c.php.locale.replace(/_[a-zA-Z]+$/,"")),c.php.localeCategories||(c.php.localeCategories={LC_COLLATE:c.php.locale,LC_CTYPE:c.php.locale,LC_MONETARY:c.php.locale,LC_NUMERIC:c.php.locale,LC_TIME:c.php.locale,LC_MESSAGES:c.php.locale}),n===null||n==="")n=r(e)||r("LANG");else if(Object.prototype.toString.call(n)==="[object Array]")for(o=0;o<n.length;o++){if(!(n[o]in c.php.locales)){if(o===n.length-1)return!1;continue;}n=n[o];break;}if(n==="0"||n===0){if(e==="LC_ALL"){for(i in c.php.localeCategories)s.push(i+"="+c.php.localeCategories[i]);return s.join(";");}return c.php.localeCategories[e];}if(!(n in c.php.locales))return!1;if(e==="LC_ALL")for(i in c.php.localeCategories)c.php.localeCategories[i]=n;else c.php.localeCategories[e]=n;return n;};});var HT=q((rU,WT)=>{"use strict";WT.exports=function(e){var n=tr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.an)!==-1;};});var KT=q((iU,YT)=>{"use strict";YT.exports=function(e){var n=tr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.al)!==-1;};});var zT=q((sU,$T)=>{"use strict";$T.exports=function(e){var n=tr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.ct)!==-1;};});var QT=q((oU,XT)=>{"use strict";XT.exports=function(e){var n=tr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.dg)!==-1;};});var ZT=q((aU,JT)=>{"use strict";JT.exports=function(e){var n=tr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.gr)!==-1;};});var tb=q((lU,eb)=>{"use strict";eb.exports=function(e){var n=tr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.lw)!==-1;};});var rb=q((uU,nb)=>{"use strict";nb.exports=function(e){var n=tr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.pr)!==-1;};});var sb=q((cU,ib)=>{"use strict";ib.exports=function(e){var n=tr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.pu)!==-1;};});var ab=q((fU,ob)=>{"use strict";ob.exports=function(e){var n=tr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.sp)!==-1;};});var ub=q((pU,lb)=>{"use strict";lb.exports=function(e){var n=tr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.up)!==-1;};});var fb=q((dU,cb)=>{"use strict";cb.exports=function(e){var n=tr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.xd)!==-1;};});var pb=q((mU,nr)=>{"use strict";nr.exports.ctype_alnum=HT();nr.exports.ctype_alpha=KT();nr.exports.ctype_cntrl=zT();nr.exports.ctype_digit=QT();nr.exports.ctype_graph=ZT();nr.exports.ctype_lower=tb();nr.exports.ctype_print=rb();nr.exports.ctype_punct=sb();nr.exports.ctype_space=ab();nr.exports.ctype_upper=ub();nr.exports.ctype_xdigit=fb();});var mb=q((hU,db)=>{"use strict";db.exports=function(e){var n=[" ",`
`,"\r","	","\f","\v","\xA0","\u2000","\u2001","\u2002","\u2003","\u2004","\u2005","\u2006","\u2007","\u2008","\u2009","\u200A","\u200B","\u2028","\u2029","\u3000"].join("");return(typeof e=="number"||typeof e=="string"&&n.indexOf(e.slice(-1))===-1)&&e!==""&&!isNaN(e);};});var tc=q(Nd=>{"use strict";Object.defineProperty(Nd,"__esModule",{value:!0});var hb=function(){function t(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start();}return t.hashStr=function(e,n){return n===void 0&&(n=!1),this.onePassHasher.start().appendStr(e).end(n);},t.hashAsciiStr=function(e,n){return n===void 0&&(n=!1),this.onePassHasher.start().appendAsciiStr(e).end(n);},t._hex=function(e){var n=t.hexChars,r=t.hexOut,i,s,o,a;for(a=0;a<4;a+=1)for(s=a*8,i=e[a],o=0;o<8;o+=2)r[s+1+o]=n.charAt(i&15),i>>>=4,r[s+0+o]=n.charAt(i&15),i>>>=4;return r.join("");},t._md5cycle=function(e,n){var r=e[0],i=e[1],s=e[2],o=e[3];r+=(i&s|~i&o)+n[0]-680876936|0,r=(r<<7|r>>>25)+i|0,o+=(r&i|~r&s)+n[1]-389564586|0,o=(o<<12|o>>>20)+r|0,s+=(o&r|~o&i)+n[2]+606105819|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&r)+n[3]-1044525330|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&o)+n[4]-176418897|0,r=(r<<7|r>>>25)+i|0,o+=(r&i|~r&s)+n[5]+1200080426|0,o=(o<<12|o>>>20)+r|0,s+=(o&r|~o&i)+n[6]-1473231341|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&r)+n[7]-45705983|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&o)+n[8]+1770035416|0,r=(r<<7|r>>>25)+i|0,o+=(r&i|~r&s)+n[9]-1958414417|0,o=(o<<12|o>>>20)+r|0,s+=(o&r|~o&i)+n[10]-42063|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&r)+n[11]-1990404162|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&o)+n[12]+1804603682|0,r=(r<<7|r>>>25)+i|0,o+=(r&i|~r&s)+n[13]-40341101|0,o=(o<<12|o>>>20)+r|0,s+=(o&r|~o&i)+n[14]-1502002290|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&r)+n[15]+1236535329|0,i=(i<<22|i>>>10)+s|0,r+=(i&o|s&~o)+n[1]-165796510|0,r=(r<<5|r>>>27)+i|0,o+=(r&s|i&~s)+n[6]-1069501632|0,o=(o<<9|o>>>23)+r|0,s+=(o&i|r&~i)+n[11]+643717713|0,s=(s<<14|s>>>18)+o|0,i+=(s&r|o&~r)+n[0]-373897302|0,i=(i<<20|i>>>12)+s|0,r+=(i&o|s&~o)+n[5]-701558691|0,r=(r<<5|r>>>27)+i|0,o+=(r&s|i&~s)+n[10]+38016083|0,o=(o<<9|o>>>23)+r|0,s+=(o&i|r&~i)+n[15]-660478335|0,s=(s<<14|s>>>18)+o|0,i+=(s&r|o&~r)+n[4]-405537848|0,i=(i<<20|i>>>12)+s|0,r+=(i&o|s&~o)+n[9]+568446438|0,r=(r<<5|r>>>27)+i|0,o+=(r&s|i&~s)+n[14]-1019803690|0,o=(o<<9|o>>>23)+r|0,s+=(o&i|r&~i)+n[3]-187363961|0,s=(s<<14|s>>>18)+o|0,i+=(s&r|o&~r)+n[8]+1163531501|0,i=(i<<20|i>>>12)+s|0,r+=(i&o|s&~o)+n[13]-1444681467|0,r=(r<<5|r>>>27)+i|0,o+=(r&s|i&~s)+n[2]-51403784|0,o=(o<<9|o>>>23)+r|0,s+=(o&i|r&~i)+n[7]+1735328473|0,s=(s<<14|s>>>18)+o|0,i+=(s&r|o&~r)+n[12]-1926607734|0,i=(i<<20|i>>>12)+s|0,r+=(i^s^o)+n[5]-378558|0,r=(r<<4|r>>>28)+i|0,o+=(r^i^s)+n[8]-2022574463|0,o=(o<<11|o>>>21)+r|0,s+=(o^r^i)+n[11]+1839030562|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^r)+n[14]-35309556|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^o)+n[1]-1530992060|0,r=(r<<4|r>>>28)+i|0,o+=(r^i^s)+n[4]+1272893353|0,o=(o<<11|o>>>21)+r|0,s+=(o^r^i)+n[7]-155497632|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^r)+n[10]-1094730640|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^o)+n[13]+681279174|0,r=(r<<4|r>>>28)+i|0,o+=(r^i^s)+n[0]-358537222|0,o=(o<<11|o>>>21)+r|0,s+=(o^r^i)+n[3]-722521979|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^r)+n[6]+76029189|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^o)+n[9]-640364487|0,r=(r<<4|r>>>28)+i|0,o+=(r^i^s)+n[12]-421815835|0,o=(o<<11|o>>>21)+r|0,s+=(o^r^i)+n[15]+530742520|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^r)+n[2]-995338651|0,i=(i<<23|i>>>9)+s|0,r+=(s^(i|~o))+n[0]-198630844|0,r=(r<<6|r>>>26)+i|0,o+=(i^(r|~s))+n[7]+1126891415|0,o=(o<<10|o>>>22)+r|0,s+=(r^(o|~i))+n[14]-1416354905|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~r))+n[5]-57434055|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~o))+n[12]+1700485571|0,r=(r<<6|r>>>26)+i|0,o+=(i^(r|~s))+n[3]-1894986606|0,o=(o<<10|o>>>22)+r|0,s+=(r^(o|~i))+n[10]-1051523|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~r))+n[1]-2054922799|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~o))+n[8]+1873313359|0,r=(r<<6|r>>>26)+i|0,o+=(i^(r|~s))+n[15]-30611744|0,o=(o<<10|o>>>22)+r|0,s+=(r^(o|~i))+n[6]-1560198380|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~r))+n[13]+1309151649|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~o))+n[4]-145523070|0,r=(r<<6|r>>>26)+i|0,o+=(i^(r|~s))+n[11]-1120210379|0,o=(o<<10|o>>>22)+r|0,s+=(r^(o|~i))+n[2]+718787259|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~r))+n[9]-343485551|0,i=(i<<21|i>>>11)+s|0,e[0]=r+e[0]|0,e[1]=i+e[1]|0,e[2]=s+e[2]|0,e[3]=o+e[3]|0;},t.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this;},t.prototype.appendStr=function(e){var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,o;for(o=0;o<e.length;o+=1){if(s=e.charCodeAt(o),s<128)n[i++]=s;else if(s<2048)n[i++]=(s>>>6)+192,n[i++]=s&63|128;else if(s<55296||s>56319)n[i++]=(s>>>12)+224,n[i++]=s>>>6&63|128,n[i++]=s&63|128;else{if(s=(s-55296)*1024+(e.charCodeAt(++o)-56320)+65536,s>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");n[i++]=(s>>>18)+240,n[i++]=s>>>12&63|128,n[i++]=s>>>6&63|128,n[i++]=s&63|128;}i>=64&&(this._dataLength+=64,t._md5cycle(this._state,r),i-=64,r[0]=r[16]);}return this._bufferLength=i,this;},t.prototype.appendAsciiStr=function(e){for(var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,o=0;;){for(s=Math.min(e.length-o,64-i);s--;)n[i++]=e.charCodeAt(o++);if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,r),i=0;}return this._bufferLength=i,this;},t.prototype.appendByteArray=function(e){for(var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,o=0;;){for(s=Math.min(e.length-o,64-i);s--;)n[i++]=e[o++];if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,r),i=0;}return this._bufferLength=i,this;},t.prototype.getState=function(){var e=this,n=e._state;return{buffer:String.fromCharCode.apply(null,e._buffer8),buflen:e._bufferLength,length:e._dataLength,state:[n[0],n[1],n[2],n[3]]};},t.prototype.setState=function(e){var n=e.buffer,r=e.state,i=this._state,s;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],s=0;s<n.length;s+=1)this._buffer8[s]=n.charCodeAt(s);},t.prototype.end=function(e){e===void 0&&(e=!1);var n=this._bufferLength,r=this._buffer8,i=this._buffer32,s=(n>>2)+1,o;if(this._dataLength+=n,r[n]=128,r[n+1]=r[n+2]=r[n+3]=0,i.set(t.buffer32Identity.subarray(s),s),n>55&&(t._md5cycle(this._state,i),i.set(t.buffer32Identity)),o=this._dataLength*8,o<=4294967295)i[14]=o;else{var a=o.toString(16).match(/(.*?)(.{0,8})$/);if(a===null)return;var l=parseInt(a[2],16),u=parseInt(a[1],16)||0;i[14]=l,i[15]=u;}return t._md5cycle(this._state,i),e?this._state:t._hex(this._state);},t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,t;}();Nd.Md5=hb;hb.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592"&&console.error("Md5 self test failed.");});var _s=q(On=>{"use strict";var Ui={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},El={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"},ND="tag:yaml.org,2002:",PD={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};function rP(t){let e=[0],n=t.indexOf(`
`);for(;n!==-1;)n+=1,e.push(n),n=t.indexOf(`
`,n);return e;}function iP(t){let e,n;return typeof t=="string"?(e=rP(t),n=t):(Array.isArray(t)&&(t=t[0]),t&&t.context&&(t.lineStarts||(t.lineStarts=rP(t.context.src)),e=t.lineStarts,n=t.context.src)),{lineStarts:e,src:n};}function Am(t,e){if(typeof t!="number"||t<0)return null;let{lineStarts:n,src:r}=iP(e);if(!n||!r||t>r.length)return null;for(let s=0;s<n.length;++s){let o=n[s];if(t<o)return{line:s,col:t-n[s-1]+1};if(t===o)return{line:s+1,col:1};}let i=n.length;return{line:i,col:t-n[i-1]+1};}function ID(t,e){let{lineStarts:n,src:r}=iP(e);if(!n||!(t>=1)||t>n.length)return null;let i=n[t-1],s=n[t];for(;s&&s>i&&r[s-1]===`
`;)--s;return r.slice(i,s);}function SD({start:t,end:e},n,r=80){let i=ID(t.line,n);if(!i)return null;let{col:s}=t;if(i.length>r)if(s<=r-10)i=i.substr(0,r-1)+"\u2026";else{let f=Math.round(r/2);i.length>s+f&&(i=i.substr(0,s+f-1)+"\u2026"),s-=i.length-r,i="\u2026"+i.substr(1-r);}let o=1,a="";e&&(e.line===t.line&&s+(e.col-t.col)<=r+1?o=e.col-t.col:(o=Math.min(i.length+1,r)-s,a="\u2026"));let l=s>1?" ".repeat(s-1):"",u="^".repeat(o);return`${i}
${l}${u}${a}`;}var so=class{static copy(e){return new so(e.start,e.end);}constructor(e,n){this.start=e,this.end=n||e;}isEmpty(){return typeof this.start!="number"||!this.end||this.end<=this.start;}setOrigRange(e,n){let{start:r,end:i}=this;if(e.length===0||i<=e[0])return this.origStart=r,this.origEnd=i,n;let s=n;for(;s<e.length&&!(e[s]>r);)++s;this.origStart=r+s;let o=s;for(;s<e.length&&!(e[s]>=i);)++s;return this.origEnd=i+s,o;}},nn=class{static addStringTerminator(e,n,r){if(r[r.length-1]===`
`)return r;let i=nn.endOfWhiteSpace(e,n);return i>=e.length||e[i]===`
`?r+`
`:r;}static atDocumentBoundary(e,n,r){let i=e[n];if(!i)return!0;let s=e[n-1];if(s&&s!==`
`)return!1;if(r){if(i!==r)return!1;}else if(i!==Ui.DIRECTIVES_END&&i!==Ui.DOCUMENT_END)return!1;let o=e[n+1],a=e[n+2];if(o!==i||a!==i)return!1;let l=e[n+3];return!l||l===`
`||l==="	"||l===" ";}static endOfIdentifier(e,n){let r=e[n],i=r==="<",s=i?[`
`,"	"," ",">"]:[`
`,"	"," ","[","]","{","}",","];for(;r&&s.indexOf(r)===-1;)r=e[n+=1];return i&&r===">"&&(n+=1),n;}static endOfIndent(e,n){let r=e[n];for(;r===" ";)r=e[n+=1];return n;}static endOfLine(e,n){let r=e[n];for(;r&&r!==`
`;)r=e[n+=1];return n;}static endOfWhiteSpace(e,n){let r=e[n];for(;r==="	"||r===" ";)r=e[n+=1];return n;}static startOfLine(e,n){let r=e[n-1];if(r===`
`)return n;for(;r&&r!==`
`;)r=e[n-=1];return n+1;}static endOfBlockIndent(e,n,r){let i=nn.endOfIndent(e,r);if(i>r+n)return i;{let s=nn.endOfWhiteSpace(e,i),o=e[s];if(!o||o===`
`)return s;}return null;}static atBlank(e,n,r){let i=e[n];return i===`
`||i==="	"||i===" "||r&&!i;}static nextNodeIsIndented(e,n,r){return!e||n<0?!1:n>0?!0:r&&e==="-";}static normalizeOffset(e,n){let r=e[n];return r?r!==`
`&&e[n-1]===`
`?n-1:nn.endOfWhiteSpace(e,n):n;}static foldNewline(e,n,r){let i=0,s=!1,o="",a=e[n+1];for(;a===" "||a==="	"||a===`
`;){switch(a){case`
`:i=0,n+=1,o+=`
`;break;case"	":i<=r&&(s=!0),n=nn.endOfWhiteSpace(e,n+2)-1;break;case" ":i+=1,n+=1;break;}a=e[n+1];}return o||(o=" "),a&&i<=r&&(s=!0),{fold:o,offset:n,error:s};}constructor(e,n,r){Object.defineProperty(this,"context",{value:r||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=n||[],this.type=e,this.value=null;}getPropValue(e,n,r){if(!this.context)return null;let{src:i}=this.context,s=this.props[e];return s&&i[s.start]===n?i.slice(s.start+(r?1:0),s.end):null;}get anchor(){for(let e=0;e<this.props.length;++e){let n=this.getPropValue(e,Ui.ANCHOR,!0);if(n!=null)return n;}return null;}get comment(){let e=[];for(let n=0;n<this.props.length;++n){let r=this.getPropValue(n,Ui.COMMENT,!0);r!=null&&e.push(r);}return e.length>0?e.join(`
`):null;}commentHasRequiredWhitespace(e){let{src:n}=this.context;if(this.header&&e===this.header.end||!this.valueRange)return!1;let{end:r}=this.valueRange;return e!==r||nn.atBlank(n,r-1);}get hasComment(){if(this.context){let{src:e}=this.context;for(let n=0;n<this.props.length;++n)if(e[this.props[n].start]===Ui.COMMENT)return!0;}return!1;}get hasProps(){if(this.context){let{src:e}=this.context;for(let n=0;n<this.props.length;++n)if(e[this.props[n].start]!==Ui.COMMENT)return!0;}return!1;}get includesTrailingLines(){return!1;}get jsonLike(){return[El.FLOW_MAP,El.FLOW_SEQ,El.QUOTE_DOUBLE,El.QUOTE_SINGLE].indexOf(this.type)!==-1;}get rangeAsLinePos(){if(!this.range||!this.context)return;let e=Am(this.range.start,this.context.root);if(!e)return;let n=Am(this.range.end,this.context.root);return{start:e,end:n};}get rawValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange;return this.context.src.slice(e,n);}get tag(){for(let e=0;e<this.props.length;++e){let n=this.getPropValue(e,Ui.TAG,!1);if(n!=null){if(n[1]==="<")return{verbatim:n.slice(2,-1)};{let[r,i,s]=n.match(/^(.*!)([^!]*)$/);return{handle:i,suffix:s};}}}return null;}get valueRangeContainsNewline(){if(!this.valueRange||!this.context)return!1;let{start:e,end:n}=this.valueRange,{src:r}=this.context;for(let i=e;i<n;++i)if(r[i]===`
`)return!0;return!1;}parseComment(e){let{src:n}=this.context;if(n[e]===Ui.COMMENT){let r=nn.endOfLine(n,e+1),i=new so(e,r);return this.props.push(i),r;}return e;}setOrigRanges(e,n){return this.range&&(n=this.range.setOrigRange(e,n)),this.valueRange&&this.valueRange.setOrigRange(e,n),this.props.forEach(r=>r.setOrigRange(e,n)),n;}toString(){let{context:{src:e},range:n,value:r}=this;if(r!=null)return r;let i=e.slice(n.start,n.end);return nn.addStringTerminator(e,n.end,i);}},Ra=class extends Error{constructor(e,n,r){if(!r||!(n instanceof nn))throw new Error(`Invalid arguments for new ${e}`);super();this.name=e,this.message=r,this.source=n;}makePretty(){if(!this.source)return;this.nodeType=this.source.type;let e=this.source.context&&this.source.context.root;if(typeof this.offset=="number"){this.range=new so(this.offset,this.offset+1);let n=e&&Am(this.offset,e);if(n){let r={line:n.line,col:n.col+1};this.linePos={start:n,end:r};}delete this.offset;}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){let{line:n,col:r}=this.linePos.start;this.message+=` at line ${n}, column ${r}`;let i=e&&SD(this.linePos,e);i&&(this.message+=`:

${i}
`);}delete this.source;}},sP=class extends Ra{constructor(e,n){super("YAMLReferenceError",e,n);}},nf=class extends Ra{constructor(e,n){super("YAMLSemanticError",e,n);}},oP=class extends Ra{constructor(e,n){super("YAMLSyntaxError",e,n);}},aP=class extends Ra{constructor(e,n){super("YAMLWarning",e,n);}};function RD(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t;}var wl=class extends nn{static endOfLine(e,n,r){let i=e[n],s=n;for(;i&&i!==`
`&&!(r&&(i==="["||i==="]"||i==="{"||i==="}"||i===","));){let o=e[s+1];if(i===":"&&(!o||o===`
`||o==="	"||o===" "||r&&o===",")||(i===" "||i==="	")&&o==="#")break;s+=1,i=o;}return s;}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange,{src:r}=this.context,i=r[n-1];for(;e<n&&(i===`
`||i==="	"||i===" ");)i=r[--n-1];let s="";for(let a=e;a<n;++a){let l=r[a];if(l===`
`){let{fold:u,offset:f}=nn.foldNewline(r,a,-1);s+=u,a=f;}else if(l===" "||l==="	"){let u=a,f=r[a+1];for(;a<n&&(f===" "||f==="	");)a+=1,f=r[a+1];f!==`
`&&(s+=a>u?r.slice(u,a+1):l);}else s+=l;}let o=r[e];switch(o){case"	":{let a="Plain value cannot start with a tab character";return{errors:[new nf(this,a)],str:s};}case"@":case"`":{let a=`Plain value cannot start with reserved character ${o}`;return{errors:[new nf(this,a)],str:s};}default:return s;}}parseBlockValue(e){let{indent:n,inFlow:r,src:i}=this.context,s=e,o=e;for(let a=i[s];a===`
`&&!nn.atDocumentBoundary(i,s+1);a=i[s]){let l=nn.endOfBlockIndent(i,n,s+1);if(l===null||i[l]==="#")break;i[l]===`
`?s=l:(o=wl.endOfLine(i,l,r),s=o);}return this.valueRange.isEmpty()&&(this.valueRange.start=e),this.valueRange.end=o,o;}parse(e,n){this.context=e;let{inFlow:r,src:i}=e,s=n,o=i[s];return o&&o!=="#"&&o!==`
`&&(s=wl.endOfLine(i,n,r)),this.valueRange=new so(n,s),s=nn.endOfWhiteSpace(i,s),s=this.parseComment(s),(!this.hasComment||this.valueRange.isEmpty())&&(s=this.parseBlockValue(s)),s;}};On.Char=Ui;On.Node=nn;On.PlainValue=wl;On.Range=so;On.Type=El;On.YAMLError=Ra;On.YAMLReferenceError=sP;On.YAMLSemanticError=nf;On.YAMLSyntaxError=oP;On.YAMLWarning=aP;On._defineProperty=RD;On.defaultTagPrefix=ND;On.defaultTags=PD;});var dP=q(pP=>{"use strict";var L=_s(),Ca=class extends L.Node{constructor(){super(L.Type.BLANK_LINE);}get includesTrailingLines(){return!0;}parse(e,n){return this.context=e,this.range=new L.Range(n,n+1),n+1;}},rf=class extends L.Node{constructor(e,n){super(e,n);this.node=null;}get includesTrailingLines(){return!!this.node&&this.node.includesTrailingLines;}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,{atLineStart:s,lineStart:o}=e;!s&&this.type===L.Type.SEQ_ITEM&&(this.error=new L.YAMLSemanticError(this,"Sequence items must not have preceding content on the same line"));let a=s?n-o:e.indent,l=L.Node.endOfWhiteSpace(i,n+1),u=i[l],f=u==="#",c=[],d=null;for(;u===`
`||u==="#";){if(u==="#"){let m=L.Node.endOfLine(i,l+1);c.push(new L.Range(l,m)),l=m;}else{s=!0,o=l+1;let m=L.Node.endOfWhiteSpace(i,o);i[m]===`
`&&c.length===0&&(d=new Ca,o=d.parse({src:i},o)),l=L.Node.endOfIndent(i,o);}u=i[l];}if(L.Node.nextNodeIsIndented(u,l-(o+a),this.type!==L.Type.SEQ_ITEM)?this.node=r({atLineStart:s,inCollection:!1,indent:a,lineStart:o,parent:this},l):u&&o>n+1&&(l=o-1),this.node){if(d){let m=e.parent.items||e.parent.contents;m&&m.push(d);}c.length&&Array.prototype.push.apply(this.props,c),l=this.node.range.end;}else if(f){let m=c[0];this.props.push(m),l=m.end;}else l=L.Node.endOfLine(i,n+1);let p=this.node?this.node.valueRange.end:l;return this.valueRange=new L.Range(n,p),l;}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.node?this.node.setOrigRanges(e,n):n;}toString(){let{context:{src:e},node:n,range:r,value:i}=this;if(i!=null)return i;let s=n?e.slice(r.start,n.range.start)+String(n):e.slice(r.start,r.end);return L.Node.addStringTerminator(e,r.end,s);}},xa=class extends L.Node{constructor(){super(L.Type.COMMENT);}parse(e,n){this.context=e;let r=this.parseComment(n);return this.range=new L.Range(n,r),r;}};function Em(t){let e=t;for(;e instanceof rf;)e=e.node;if(!(e instanceof Aa))return null;let n=e.items.length,r=-1;for(let o=n-1;o>=0;--o){let a=e.items[o];if(a.type===L.Type.COMMENT){let{indent:l,lineStart:u}=a.context;if(l>0&&a.range.start>=u+l)break;r=o;}else if(a.type===L.Type.BLANK_LINE)r=o;else break;}if(r===-1)return null;let i=e.items.splice(r,n-r),s=i[0].range.start;for(;e.range.end=s,e.valueRange&&e.valueRange.end>s&&(e.valueRange.end=s),e!==t;)e=e.context.parent;return i;}var Aa=class extends L.Node{static nextContentHasIndent(e,n,r){let i=L.Node.endOfLine(e,n)+1;n=L.Node.endOfWhiteSpace(e,i);let s=e[n];return s?n>=i+r?!0:s!=="#"&&s!==`
`?!1:Aa.nextContentHasIndent(e,n,r):!1;}constructor(e){super(e.type===L.Type.SEQ_ITEM?L.Type.SEQ:L.Type.MAP);for(let r=e.props.length-1;r>=0;--r)if(e.props[r].start<e.context.lineStart){this.props=e.props.slice(0,r+1),e.props=e.props.slice(r+1);let i=e.props[0]||e.valueRange;e.range.start=i.start;break;}this.items=[e];let n=Em(e);n&&Array.prototype.push.apply(this.items,n);}get includesTrailingLines(){return this.items.length>0;}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,s=L.Node.startOfLine(i,n),o=this.items[0];o.context.parent=this,this.valueRange=L.Range.copy(o.valueRange);let a=o.range.start-o.context.lineStart,l=n;l=L.Node.normalizeOffset(i,l);let u=i[l],f=L.Node.endOfWhiteSpace(i,s)===l,c=!1;for(;u;){for(;u===`
`||u==="#";){if(f&&u===`
`&&!c){let m=new Ca;if(l=m.parse({src:i},l),this.valueRange.end=l,l>=i.length){u=null;break;}this.items.push(m),l-=1;}else if(u==="#"){if(l<s+a&&!Aa.nextContentHasIndent(i,l,a))return l;let m=new xa;if(l=m.parse({indent:a,lineStart:s,src:i},l),this.items.push(m),this.valueRange.end=l,l>=i.length){u=null;break;}}if(s=l+1,l=L.Node.endOfIndent(i,s),L.Node.atBlank(i,l)){let m=L.Node.endOfWhiteSpace(i,l),h=i[m];(!h||h===`
`||h==="#")&&(l=m);}u=i[l],f=!0;}if(!u)break;if(l!==s+a&&(f||u!==":")){if(l<s+a){s>n&&(l=s);break;}else if(!this.error){let m="All collection items must start at the same column";this.error=new L.YAMLSyntaxError(this,m);}}if(o.type===L.Type.SEQ_ITEM){if(u!=="-"){s>n&&(l=s);break;}}else if(u==="-"&&!this.error){let m=i[l+1];if(!m||m===`
`||m==="	"||m===" "){let h="A collection cannot be both a mapping and a sequence";this.error=new L.YAMLSyntaxError(this,h);}}let d=r({atLineStart:f,inCollection:!0,indent:a,lineStart:s,parent:this},l);if(!d)return l;if(this.items.push(d),this.valueRange.end=d.valueRange.end,l=L.Node.normalizeOffset(i,d.range.end),u=i[l],f=!1,c=d.includesTrailingLines,u){let m=l-1,h=i[m];for(;h===" "||h==="	";)h=i[--m];h===`
`&&(s=m+1,f=!0);}let p=Em(d);p&&Array.prototype.push.apply(this.items,p);}return l;}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.items.forEach(r=>{n=r.setOrigRanges(e,n);}),n;}toString(){let{context:{src:e},items:n,range:r,value:i}=this;if(i!=null)return i;let s=e.slice(r.start,n[0].range.start)+String(n[0]);for(let o=1;o<n.length;++o){let a=n[o],{atLineStart:l,indent:u}=a.context;if(l)for(let f=0;f<u;++f)s+=" ";s+=String(a);}return L.Node.addStringTerminator(e,r.end,s);}},lP=class extends L.Node{constructor(){super(L.Type.DIRECTIVE);this.name=null;}get parameters(){let e=this.rawValue;return e?e.trim().split(/[ \t]+/):[];}parseName(e){let{src:n}=this.context,r=e,i=n[r];for(;i&&i!==`
`&&i!=="	"&&i!==" ";)i=n[r+=1];return this.name=n.slice(e,r),r;}parseParameters(e){let{src:n}=this.context,r=e,i=n[r];for(;i&&i!==`
`&&i!=="#";)i=n[r+=1];return this.valueRange=new L.Range(e,r),r;}parse(e,n){this.context=e;let r=this.parseName(n+1);return r=this.parseParameters(r),r=this.parseComment(r),this.range=new L.Range(n,r),r;}},Ol=class extends L.Node{static startCommentOrEndBlankLine(e,n){let r=L.Node.endOfWhiteSpace(e,n),i=e[r];return i==="#"||i===`
`?r:n;}constructor(){super(L.Type.DOCUMENT);this.directives=null,this.contents=null,this.directivesEndMarker=null,this.documentEndMarker=null;}parseDirectives(e){let{src:n}=this.context;this.directives=[];let r=!0,i=!1,s=e;for(;!L.Node.atDocumentBoundary(n,s,L.Char.DIRECTIVES_END);)switch(s=Ol.startCommentOrEndBlankLine(n,s),n[s]){case`
`:if(r){let o=new Ca;s=o.parse({src:n},s),s<n.length&&this.directives.push(o);}else s+=1,r=!0;break;case"#":{let o=new xa;s=o.parse({src:n},s),this.directives.push(o),r=!1;}break;case"%":{let o=new lP;s=o.parse({parent:this,src:n},s),this.directives.push(o),i=!0,r=!1;}break;default:return i?this.error=new L.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s;}return n[s]?(this.directivesEndMarker=new L.Range(s,s+3),s+3):(i?this.error=new L.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s);}parseContents(e){let{parseNode:n,src:r}=this.context;this.contents||(this.contents=[]);let i=e;for(;r[i-1]==="-";)i-=1;let s=L.Node.endOfWhiteSpace(r,e),o=i===e;for(this.valueRange=new L.Range(s);!L.Node.atDocumentBoundary(r,s,L.Char.DOCUMENT_END);){switch(r[s]){case`
`:if(o){let a=new Ca;s=a.parse({src:r},s),s<r.length&&this.contents.push(a);}else s+=1,o=!0;i=s;break;case"#":{let a=new xa;s=a.parse({src:r},s),this.contents.push(a),o=!1;}break;default:{let a=L.Node.endOfIndent(r,s),u=n({atLineStart:o,indent:-1,inFlow:!1,inCollection:!1,lineStart:i,parent:this},a);if(!u)return this.valueRange.end=a;this.contents.push(u),s=u.range.end,o=!1;let f=Em(u);f&&Array.prototype.push.apply(this.contents,f);}}s=Ol.startCommentOrEndBlankLine(r,s);}if(this.valueRange.end=s,r[s]&&(this.documentEndMarker=new L.Range(s,s+3),s+=3,r[s])){if(s=L.Node.endOfWhiteSpace(r,s),r[s]==="#"){let a=new xa;s=a.parse({src:r},s),this.contents.push(a);}switch(r[s]){case`
`:s+=1;break;case void 0:break;default:this.error=new L.YAMLSyntaxError(this,"Document end marker line cannot have a non-comment suffix");}}return s;}parse(e,n){e.root=this,this.context=e;let{src:r}=e,i=r.charCodeAt(n)===65279?n+1:n;return i=this.parseDirectives(i),i=this.parseContents(i),i;}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.directives.forEach(r=>{n=r.setOrigRanges(e,n);}),this.directivesEndMarker&&(n=this.directivesEndMarker.setOrigRange(e,n)),this.contents.forEach(r=>{n=r.setOrigRanges(e,n);}),this.documentEndMarker&&(n=this.documentEndMarker.setOrigRange(e,n)),n;}toString(){let{contents:e,directives:n,value:r}=this;if(r!=null)return r;let i=n.join("");return e.length>0&&((n.length>0||e[0].type===L.Type.COMMENT)&&(i+=`---
`),i+=e.join("")),i[i.length-1]!==`
`&&(i+=`
`),i;}},uP=class extends L.Node{parse(e,n){this.context=e;let{src:r}=e,i=L.Node.endOfIdentifier(r,n+1);return this.valueRange=new L.Range(n+1,i),i=L.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i;}},ys={CLIP:"CLIP",KEEP:"KEEP",STRIP:"STRIP"},cP=class extends L.Node{constructor(e,n){super(e,n);this.blockIndent=null,this.chomping=ys.CLIP,this.header=null;}get includesTrailingLines(){return this.chomping===ys.KEEP;}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange,{indent:r,src:i}=this.context;if(this.valueRange.isEmpty())return"";let s=null,o=i[n-1];for(;o===`
`||o==="	"||o===" ";){if(n-=1,n<=e){if(this.chomping===ys.KEEP)break;return"";}o===`
`&&(s=n),o=i[n-1];}let a=n+1;s&&(this.chomping===ys.KEEP?(a=s,n=this.valueRange.end):n=s);let l=r+this.blockIndent,u=this.type===L.Type.BLOCK_FOLDED,f=!0,c="",d="",p=!1;for(let m=e;m<n;++m){for(let v=0;v<l&&i[m]===" ";++v)m+=1;let h=i[m];if(h===`
`)d===`
`?c+=`
`:d=`
`;else{let v=L.Node.endOfLine(i,m),g=i.slice(m,v);m=v,u&&(h===" "||h==="	")&&m<a?(d===" "?d=`
`:!p&&!f&&d===`
`&&(d=`

`),c+=d+g,d=v<n&&i[v]||"",p=!0):(c+=d+g,d=u&&m<a?" ":`
`,p=!1),f&&g!==""&&(f=!1);}}return this.chomping===ys.STRIP?c:c+`
`;}parseBlockHeader(e){let{src:n}=this.context,r=e+1,i="";for(;;){let s=n[r];switch(s){case"-":this.chomping=ys.STRIP;break;case"+":this.chomping=ys.KEEP;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i+=s;break;default:return this.blockIndent=Number(i)||null,this.header=new L.Range(e,r),r;}r+=1;}}parseBlockValue(e){let{indent:n,src:r}=this.context,i=!!this.blockIndent,s=e,o=e,a=1;for(let l=r[s];l===`
`&&(s+=1,!L.Node.atDocumentBoundary(r,s));l=r[s]){let u=L.Node.endOfBlockIndent(r,n,s);if(u===null)break;let f=r[u],c=u-(s+n);if(this.blockIndent){if(f&&f!==`
`&&c<this.blockIndent){if(r[u]==="#")break;if(!this.error){let p=`Block scalars must not be less indented than their ${i?"explicit indentation indicator":"first line"}`;this.error=new L.YAMLSemanticError(this,p);}}}else if(r[u]!==`
`){if(c<a){let d="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";this.error=new L.YAMLSemanticError(this,d);}this.blockIndent=c;}else c>a&&(a=c);r[u]===`
`?s=u:s=o=L.Node.endOfLine(r,u);}return this.chomping!==ys.KEEP&&(s=r[o]?o+1:o),this.valueRange=new L.Range(e+1,s),s;}parse(e,n){this.context=e;let{src:r}=e,i=this.parseBlockHeader(n);return i=L.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i=this.parseBlockValue(i),i;}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.header?this.header.setOrigRange(e,n):n;}},fP=class extends L.Node{constructor(e,n){super(e,n);this.items=null;}prevNodeIsJsonLike(e=this.items.length){let n=this.items[e-1];return!!n&&(n.jsonLike||n.type===L.Type.COMMENT&&this.prevNodeIsJsonLike(e-1));}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,{indent:s,lineStart:o}=e,a=i[n];this.items=[{char:a,offset:n}];let l=L.Node.endOfWhiteSpace(i,n+1);for(a=i[l];a&&a!=="]"&&a!=="}";){switch(a){case`
`:{o=l+1;let u=L.Node.endOfWhiteSpace(i,o);if(i[u]===`
`){let f=new Ca;o=f.parse({src:i},o),this.items.push(f);}if(l=L.Node.endOfIndent(i,o),l<=o+s&&(a=i[l],l<o+s||a!=="]"&&a!=="}")){let f="Insufficient indentation in flow collection";this.error=new L.YAMLSemanticError(this,f);}}break;case",":this.items.push({char:a,offset:l}),l+=1;break;case"#":{let u=new xa;l=u.parse({src:i},l),this.items.push(u);}break;case"?":case":":{let u=i[l+1];if(u===`
`||u==="	"||u===" "||u===","||a===":"&&this.prevNodeIsJsonLike()){this.items.push({char:a,offset:l}),l+=1;break;}}default:{let u=r({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:o,parent:this},l);if(!u)return this.valueRange=new L.Range(n,l),l;this.items.push(u),l=L.Node.normalizeOffset(i,u.range.end);}}l=L.Node.endOfWhiteSpace(i,l),a=i[l];}return this.valueRange=new L.Range(n,l+1),a&&(this.items.push({char:a,offset:l}),l=L.Node.endOfWhiteSpace(i,l+1),l=this.parseComment(l)),l;}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.items.forEach(r=>{if(r instanceof L.Node)n=r.setOrigRanges(e,n);else if(e.length===0)r.origOffset=r.offset;else{let i=n;for(;i<e.length&&!(e[i]>r.offset);)++i;r.origOffset=r.offset+i,n=i;}}),n;}toString(){let{context:{src:e},items:n,range:r,value:i}=this;if(i!=null)return i;let s=n.filter(l=>l instanceof L.Node),o="",a=r.start;return s.forEach(l=>{let u=e.slice(a,l.range.start);a=l.range.end,o+=u+String(l),o[o.length-1]===`
`&&e[a-1]!==`
`&&e[a]===`
`&&(a+=1);}),o+=e.slice(a,r.end),L.Node.addStringTerminator(e,r.end,o);}},sf=class extends L.Node{static endOfQuote(e,n){let r=e[n];for(;r&&r!=='"';)n+=r==="\\"?2:1,r=e[n];return n+1;}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:n,end:r}=this.valueRange,{indent:i,src:s}=this.context;s[r-1]!=='"'&&e.push(new L.YAMLSyntaxError(this,'Missing closing "quote'));let o="";for(let a=n+1;a<r-1;++a){let l=s[a];if(l===`
`){L.Node.atDocumentBoundary(s,a+1)&&e.push(new L.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:u,offset:f,error:c}=L.Node.foldNewline(s,a,i);o+=u,a=f,c&&e.push(new L.YAMLSemanticError(this,"Multi-line double-quoted string needs to be sufficiently indented"));}else if(l==="\\")switch(a+=1,s[a]){case"0":o+="\0";break;case"a":o+="\x07";break;case"b":o+="\b";break;case"e":o+="\x1B";break;case"f":o+="\f";break;case"n":o+=`
`;break;case"r":o+="\r";break;case"t":o+="	";break;case"v":o+="\v";break;case"N":o+="\x85";break;case"_":o+="\xA0";break;case"L":o+="\u2028";break;case"P":o+="\u2029";break;case" ":o+=" ";break;case'"':o+='"';break;case"/":o+="/";break;case"\\":o+="\\";break;case"	":o+="	";break;case"x":o+=this.parseCharCode(a+1,2,e),a+=2;break;case"u":o+=this.parseCharCode(a+1,4,e),a+=4;break;case"U":o+=this.parseCharCode(a+1,8,e),a+=8;break;case`
`:for(;s[a+1]===" "||s[a+1]==="	";)a+=1;break;default:e.push(new L.YAMLSyntaxError(this,`Invalid escape sequence ${s.substr(a-1,2)}`)),o+="\\"+s[a];}else if(l===" "||l==="	"){let u=a,f=s[a+1];for(;f===" "||f==="	";)a+=1,f=s[a+1];f!==`
`&&(o+=a>u?s.slice(u,a+1):l);}else o+=l;}return e.length>0?{errors:e,str:o}:o;}parseCharCode(e,n,r){let{src:i}=this.context,s=i.substr(e,n),a=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;return isNaN(a)?(r.push(new L.YAMLSyntaxError(this,`Invalid escape sequence ${i.substr(e-2,n+2)}`)),i.substr(e-2,n+2)):String.fromCodePoint(a);}parse(e,n){this.context=e;let{src:r}=e,i=sf.endOfQuote(r,n+1);return this.valueRange=new L.Range(n,i),i=L.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i;}},of=class extends L.Node{static endOfQuote(e,n){let r=e[n];for(;r;)if(r==="'"){if(e[n+1]!=="'")break;r=e[n+=2];}else r=e[n+=1];return n+1;}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:n,end:r}=this.valueRange,{indent:i,src:s}=this.context;s[r-1]!=="'"&&e.push(new L.YAMLSyntaxError(this,"Missing closing 'quote"));let o="";for(let a=n+1;a<r-1;++a){let l=s[a];if(l===`
`){L.Node.atDocumentBoundary(s,a+1)&&e.push(new L.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:u,offset:f,error:c}=L.Node.foldNewline(s,a,i);o+=u,a=f,c&&e.push(new L.YAMLSemanticError(this,"Multi-line single-quoted string needs to be sufficiently indented"));}else if(l==="'")o+=l,a+=1,s[a]!=="'"&&e.push(new L.YAMLSyntaxError(this,"Unescaped single quote? This should not happen."));else if(l===" "||l==="	"){let u=a,f=s[a+1];for(;f===" "||f==="	";)a+=1,f=s[a+1];f!==`
`&&(o+=a>u?s.slice(u,a+1):l);}else o+=l;}return e.length>0?{errors:e,str:o}:o;}parse(e,n){this.context=e;let{src:r}=e,i=of.endOfQuote(r,n+1);return this.valueRange=new L.Range(n,i),i=L.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i;}};function CD(t,e){switch(t){case L.Type.ALIAS:return new uP(t,e);case L.Type.BLOCK_FOLDED:case L.Type.BLOCK_LITERAL:return new cP(t,e);case L.Type.FLOW_MAP:case L.Type.FLOW_SEQ:return new fP(t,e);case L.Type.MAP_KEY:case L.Type.MAP_VALUE:case L.Type.SEQ_ITEM:return new rf(t,e);case L.Type.COMMENT:case L.Type.PLAIN:return new L.PlainValue(t,e);case L.Type.QUOTE_DOUBLE:return new sf(t,e);case L.Type.QUOTE_SINGLE:return new of(t,e);default:return null;}}var Ea=class{static parseType(e,n,r){switch(e[n]){case"*":return L.Type.ALIAS;case">":return L.Type.BLOCK_FOLDED;case"|":return L.Type.BLOCK_LITERAL;case"{":return L.Type.FLOW_MAP;case"[":return L.Type.FLOW_SEQ;case"?":return!r&&L.Node.atBlank(e,n+1,!0)?L.Type.MAP_KEY:L.Type.PLAIN;case":":return!r&&L.Node.atBlank(e,n+1,!0)?L.Type.MAP_VALUE:L.Type.PLAIN;case"-":return!r&&L.Node.atBlank(e,n+1,!0)?L.Type.SEQ_ITEM:L.Type.PLAIN;case'"':return L.Type.QUOTE_DOUBLE;case"'":return L.Type.QUOTE_SINGLE;default:return L.Type.PLAIN;}}constructor(e={},{atLineStart:n,inCollection:r,inFlow:i,indent:s,lineStart:o,parent:a}={}){L._defineProperty(this,"parseNode",(l,u)=>{if(L.Node.atDocumentBoundary(this.src,u))return null;let f=new Ea(this,l),{props:c,type:d,valueStart:p}=f.parseProps(u),m=CD(d,c),h=m.parse(f,p);if(m.range=new L.Range(u,h),h<=u&&(m.error=new Error("Node#parse consumed no characters"),m.error.parseEnd=h,m.error.source=m,m.range.end=u+1),f.nodeStartsCollection(m)){!m.error&&!f.atLineStart&&f.parent.type===L.Type.DOCUMENT&&(m.error=new L.YAMLSyntaxError(m,"Block collection must not have preceding content here (e.g. directives-end indicator)"));let v=new Aa(m);return h=v.parse(new Ea(f),h),v.range=new L.Range(u,h),v;}return m;}),this.atLineStart=n??(e.atLineStart||!1),this.inCollection=r??(e.inCollection||!1),this.inFlow=i??(e.inFlow||!1),this.indent=s??e.indent,this.lineStart=o??e.lineStart,this.parent=a??(e.parent||{}),this.root=e.root,this.src=e.src;}nodeStartsCollection(e){let{inCollection:n,inFlow:r,src:i}=this;if(n||r)return!1;if(e instanceof rf)return!0;let s=e.range.end;return i[s]===`
`||i[s-1]===`
`?!1:(s=L.Node.endOfWhiteSpace(i,s),i[s]===":");}parseProps(e){let{inFlow:n,parent:r,src:i}=this,s=[],o=!1;e=this.atLineStart?L.Node.endOfIndent(i,e):L.Node.endOfWhiteSpace(i,e);let a=i[e];for(;a===L.Char.ANCHOR||a===L.Char.COMMENT||a===L.Char.TAG||a===`
`;){if(a===`
`){let u=e,f;do f=u+1,u=L.Node.endOfIndent(i,f);while(i[u]===`
`);let c=u-(f+this.indent),d=r.type===L.Type.SEQ_ITEM&&r.context.atLineStart;if(i[u]!=="#"&&!L.Node.nextNodeIsIndented(i[u],c,!d))break;this.atLineStart=!0,this.lineStart=f,o=!1,e=u;}else if(a===L.Char.COMMENT){let u=L.Node.endOfLine(i,e+1);s.push(new L.Range(e,u)),e=u;}else{let u=L.Node.endOfIdentifier(i,e+1);a===L.Char.TAG&&i[u]===","&&/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+,\d\d\d\d(-\d\d){0,2}\/\S/.test(i.slice(e+1,u+13))&&(u=L.Node.endOfIdentifier(i,u+5)),s.push(new L.Range(e,u)),o=!0,e=L.Node.endOfWhiteSpace(i,u);}a=i[e];}o&&a===":"&&L.Node.atBlank(i,e+1,!0)&&(e-=1);let l=Ea.parseType(i,e,n);return{props:s,type:l,valueStart:e};}};function xD(t){let e=[];t.indexOf("\r")!==-1&&(t=t.replace(/\r\n?/g,(i,s)=>(i.length>1&&e.push(s),`
`)));let n=[],r=0;do{let i=new Ol,s=new Ea({src:t});r=i.parse(s,r),n.push(i);}while(r<t.length);return n.setOrigRanges=()=>{if(e.length===0)return!1;for(let s=1;s<e.length;++s)e[s]-=s;let i=0;for(let s=0;s<n.length;++s)i=n[s].setOrigRanges(e,i);return e.splice(0,e.length),!0;},n.toString=()=>n.join(`...
`),n;}pP.parse=xD;});var Oa=q(mt=>{"use strict";var V=_s();function AD(t,e,n){return n?`#${n.replace(/[\s\S]^/gm,`$&${e}#`)}
${e}${t}`:t;}function wa(t,e,n){return n?n.indexOf(`
`)===-1?`${t} #${n}`:`${t}
`+n.replace(/^/gm,`${e||""}#`):t;}var pr=class{};function Ts(t,e,n){if(Array.isArray(t))return t.map((r,i)=>Ts(r,String(i),n));if(t&&typeof t.toJSON=="function"){let r=n&&n.anchors&&n.anchors.get(t);r&&(n.onCreate=s=>{r.res=s,delete n.onCreate;});let i=t.toJSON(e,n);return r&&n.onCreate&&n.onCreate(i),i;}return(!n||!n.keep)&&typeof t=="bigint"?Number(t):t;}var Tn=class extends pr{constructor(e){super();this.value=e;}toJSON(e,n){return n&&n.keep?this.value:Ts(this.value,e,n);}toString(){return String(this.value);}};function mP(t,e,n){let r=n;for(let i=e.length-1;i>=0;--i){let s=e[i];if(Number.isInteger(s)&&s>=0){let o=[];o[s]=r,r=o;}else{let o={};Object.defineProperty(o,s,{value:r,writable:!0,enumerable:!0,configurable:!0}),r=o;}}return t.createNode(r,!1);}var hP=t=>t==null||typeof t=="object"&&t[Symbol.iterator]().next().done,Vt=class extends pr{constructor(e){super();V._defineProperty(this,"items",[]),this.schema=e;}addIn(e,n){if(hP(e))this.add(n);else{let[r,...i]=e,s=this.get(r,!0);if(s instanceof Vt)s.addIn(i,n);else if(s===void 0&&this.schema)this.set(r,mP(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`);}}deleteIn([e,...n]){if(n.length===0)return this.delete(e);let r=this.get(e,!0);if(r instanceof Vt)return r.deleteIn(n);throw new Error(`Expected YAML collection at ${e}. Remaining path: ${n}`);}getIn([e,...n],r){let i=this.get(e,!0);return n.length===0?!r&&i instanceof Tn?i.value:i:i instanceof Vt?i.getIn(n,r):void 0;}hasAllNullValues(){return this.items.every(e=>{if(!e||e.type!=="PAIR")return!1;let n=e.value;return n==null||n instanceof Tn&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag;});}hasIn([e,...n]){if(n.length===0)return this.has(e);let r=this.get(e,!0);return r instanceof Vt?r.hasIn(n):!1;}setIn([e,...n],r){if(n.length===0)this.set(e,r);else{let i=this.get(e,!0);if(i instanceof Vt)i.setIn(n,r);else if(i===void 0&&this.schema)this.set(e,mP(this.schema,n,r));else throw new Error(`Expected YAML collection at ${e}. Remaining path: ${n}`);}}toJSON(){return null;}toString(e,{blockItem:n,flowChars:r,isMap:i,itemIndent:s},o,a){let{indent:l,indentStep:u,stringify:f}=e,c=this.type===V.Type.FLOW_MAP||this.type===V.Type.FLOW_SEQ||e.inFlow;c&&(s+=u);let d=i&&this.hasAllNullValues();e=Object.assign({},e,{allNullValues:d,indent:s,inFlow:c,type:null});let p=!1,m=!1,h=this.items.reduce((g,_,T)=>{let I;_&&(!p&&_.spaceBefore&&g.push({type:"comment",str:""}),_.commentBefore&&_.commentBefore.match(/^.*$/gm).forEach($=>{g.push({type:"comment",str:`#${$}`});}),_.comment&&(I=_.comment),c&&(!p&&_.spaceBefore||_.commentBefore||_.comment||_.key&&(_.key.commentBefore||_.key.comment)||_.value&&(_.value.commentBefore||_.value.comment))&&(m=!0)),p=!1;let w=f(_,e,()=>I=null,()=>p=!0);return c&&!m&&w.includes(`
`)&&(m=!0),c&&T<this.items.length-1&&(w+=","),w=wa(w,s,I),p&&(I||c)&&(p=!1),g.push({type:"item",str:w}),g;},[]),v;if(h.length===0)v=r.start+r.end;else if(c){let{start:g,end:_}=r,T=h.map(I=>I.str);if(m||T.reduce((I,w)=>I+w.length+2,2)>Vt.maxFlowStringSingleLineLength){v=g;for(let I of T)v+=I?`
${u}${l}${I}`:`
`;v+=`
${l}${_}`;}else v=`${g} ${T.join(" ")} ${_}`;}else{let g=h.map(n);v=g.shift();for(let _ of g)v+=_?`
${l}${_}`:`
`;}return this.comment?(v+=`
`+this.comment.replace(/^/gm,`${l}#`),o&&o()):p&&a&&a(),v;}};V._defineProperty(Vt,"maxFlowStringSingleLineLength",60);function af(t){let e=t instanceof Tn?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),Number.isInteger(e)&&e>=0?e:null;}var oo=class extends Vt{add(e){this.items.push(e);}delete(e){let n=af(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0;}get(e,n){let r=af(e);if(typeof r!="number")return;let i=this.items[r];return!n&&i instanceof Tn?i.value:i;}has(e){let n=af(e);return typeof n=="number"&&n<this.items.length;}set(e,n){let r=af(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);this.items[r]=n;}toJSON(e,n){let r=[];n&&n.onCreate&&n.onCreate(r);let i=0;for(let s of this.items)r.push(Ts(s,String(i++),n));return r;}toString(e,n,r){return e?super.toString(e,{blockItem:i=>i.type==="comment"?i.str:`- ${i.str}`,flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(e.indent||"")+"  "},n,r):JSON.stringify(this);}},ED=(t,e,n)=>e===null?"":typeof e!="object"?String(e):t instanceof pr&&n&&n.doc?t.toString({anchors:Object.create(null),doc:n.doc,indent:"",indentStep:n.indentStep,inFlow:!0,inStringifyKey:!0,stringify:n.stringify}):JSON.stringify(e),et=class extends pr{constructor(e,n=null){super();this.key=e,this.value=n,this.type=et.Type.PAIR;}get commentBefore(){return this.key instanceof pr?this.key.commentBefore:void 0;}set commentBefore(e){if(this.key==null&&(this.key=new Tn(null)),this.key instanceof pr)this.key.commentBefore=e;else{let n="Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.";throw new Error(n);}}addToJSMap(e,n){let r=Ts(this.key,"",e);if(n instanceof Map){let i=Ts(this.value,r,e);n.set(r,i);}else if(n instanceof Set)n.add(r);else{let i=ED(this.key,r,e),s=Ts(this.value,i,e);i in n?Object.defineProperty(n,i,{value:s,writable:!0,enumerable:!0,configurable:!0}):n[i]=s;}return n;}toJSON(e,n){let r=n&&n.mapAsMap?new Map:{};return this.addToJSMap(n,r);}toString(e,n,r){if(!e||!e.doc)return JSON.stringify(this);let{indent:i,indentSeq:s,simpleKeys:o}=e.doc.options,{key:a,value:l}=this,u=a instanceof pr&&a.comment;if(o){if(u)throw new Error("With simple keys, key nodes cannot have comments");if(a instanceof Vt){let w="With simple keys, collection cannot be used as a key value";throw new Error(w);}}let f=!o&&(!a||u||(a instanceof pr?a instanceof Vt||a.type===V.Type.BLOCK_FOLDED||a.type===V.Type.BLOCK_LITERAL:typeof a=="object")),{doc:c,indent:d,indentStep:p,stringify:m}=e;e=Object.assign({},e,{implicitKey:!f,indent:d+p});let h=!1,v=m(a,e,()=>u=null,()=>h=!0);if(v=wa(v,e.indent,u),!f&&v.length>1024){if(o)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");f=!0;}if(e.allNullValues&&!o)return this.comment?(v=wa(v,e.indent,this.comment),n&&n()):h&&!u&&r&&r(),e.inFlow&&!f?v:`? ${v}`;v=f?`? ${v}
${d}:`:`${v}:`,this.comment&&(v=wa(v,e.indent,this.comment),n&&n());let g="",_=null;l instanceof pr?(l.spaceBefore&&(g=`
`),l.commentBefore&&(g+=`
${l.commentBefore.replace(/^/gm,`${e.indent}#`)}`),_=l.comment):l&&typeof l=="object"&&(l=c.schema.createNode(l,!0)),e.implicitKey=!1,!f&&!this.comment&&l instanceof Tn&&(e.indentAtStart=v.length+1),h=!1,!s&&i>=2&&!e.inFlow&&!f&&l instanceof oo&&l.type!==V.Type.FLOW_SEQ&&!l.tag&&!c.anchors.getName(l)&&(e.indent=e.indent.substr(2));let T=m(l,e,()=>_=null,()=>h=!0),I=" ";return g||this.comment?I=`${g}
${e.indent}`:!f&&l instanceof Vt?(!(T[0]==="["||T[0]==="{")||T.includes(`
`))&&(I=`
${e.indent}`):T[0]===`
`&&(I=""),h&&!_&&r&&r(),wa(v+I+T,e.indent,_);}};V._defineProperty(et,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var lf=(t,e)=>{if(t instanceof bs){let n=e.get(t.source);return n.count*n.aliasCount;}else if(t instanceof Vt){let n=0;for(let r of t.items){let i=lf(r,e);i>n&&(n=i);}return n;}else if(t instanceof et){let n=lf(t.key,e),r=lf(t.value,e);return Math.max(n,r);}return 1;},bs=class extends pr{static stringify({range:e,source:n},{anchors:r,doc:i,implicitKey:s,inStringifyKey:o}){let a=Object.keys(r).find(u=>r[u]===n);if(!a&&o&&(a=i.anchors.getName(n)||i.anchors.newName()),a)return`*${a}${s?" ":""}`;let l=i.anchors.getName(n)?"Alias node must be after source node":"Source node not found for alias node";throw new Error(`${l} [${e}]`);}constructor(e){super();this.source=e,this.type=V.Type.ALIAS;}set tag(e){throw new Error("Alias nodes cannot have tags");}toJSON(e,n){if(!n)return Ts(this.source,e,n);let{anchors:r,maxAliasCount:i}=n,s=r.get(this.source);if(!s||s.res===void 0){let o="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new V.YAMLReferenceError(this.cstNode,o):new ReferenceError(o);}if(i>=0&&(s.count+=1,s.aliasCount===0&&(s.aliasCount=lf(this.source,r)),s.count*s.aliasCount>i)){let o="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new V.YAMLReferenceError(this.cstNode,o):new ReferenceError(o);}return s.res;}toString(e){return bs.stringify(this,e);}};V._defineProperty(bs,"default",!0);function Ll(t,e){let n=e instanceof Tn?e.value:e;for(let r of t)if(r instanceof et&&(r.key===e||r.key===n||r.key&&r.key.value===n))return r;}var uf=class extends Vt{add(e,n){e?e instanceof et||(e=new et(e.key||e,e.value)):e=new et(e);let r=Ll(this.items,e.key),i=this.schema&&this.schema.sortMapEntries;if(r)if(n)r.value=e.value;else throw new Error(`Key ${e.key} already set`);else if(i){let s=this.items.findIndex(o=>i(e,o)<0);s===-1?this.items.push(e):this.items.splice(s,0,e);}else this.items.push(e);}delete(e){let n=Ll(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1;}get(e,n){let r=Ll(this.items,e),i=r&&r.value;return!n&&i instanceof Tn?i.value:i;}has(e){return!!Ll(this.items,e);}set(e,n){this.add(new et(e,n),!0);}toJSON(e,n,r){let i=r?new r:n&&n.mapAsMap?new Map:{};n&&n.onCreate&&n.onCreate(i);for(let s of this.items)s.addToJSMap(n,i);return i;}toString(e,n,r){if(!e)return JSON.stringify(this);for(let i of this.items)if(!(i instanceof et))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return super.toString(e,{blockItem:i=>i.str,flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:e.indent||""},n,r);}},gP="<<",wm=class extends et{constructor(e){if(e instanceof et){let n=e.value;n instanceof oo||(n=new oo,n.items.push(e.value),n.range=e.value.range);super(e.key,n);this.range=e.range;}else super(new Tn(gP),new oo);this.type=et.Type.MERGE_PAIR;}addToJSMap(e,n){for(let{source:r}of this.value.items){if(!(r instanceof uf))throw new Error("Merge sources must be maps");let i=r.toJSON(null,e,Map);for(let[s,o]of i)n instanceof Map?n.has(s)||n.set(s,o):n instanceof Set?n.add(s):Object.prototype.hasOwnProperty.call(n,s)||Object.defineProperty(n,s,{value:o,writable:!0,enumerable:!0,configurable:!0});}return n;}toString(e,n){let r=this.value;if(r.items.length>1)return super.toString(e,n);this.value=r.items[0];let i=super.toString(e,n);return this.value=r,i;}},wD={defaultType:V.Type.BLOCK_LITERAL,lineWidth:76},OD={trueStr:"true",falseStr:"false"},LD={asBigInt:!1},DD={nullStr:"null"},ao={defaultType:V.Type.PLAIN,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function Om(t,e,n){for(let{format:r,test:i,resolve:s}of e)if(i){let o=t.match(i);if(o){let a=s.apply(null,o);return a instanceof Tn||(a=new Tn(a)),r&&(a.format=r),a;}}return n&&(t=n(t)),new Tn(t);}var _P="flow",Lm="block",cf="quoted",yP=(t,e)=>{let n=t[e+1];for(;n===" "||n==="	";){do n=t[e+=1];while(n&&n!==`
`);n=t[e+1];}return e;};function ff(t,e,n,{indentAtStart:r,lineWidth:i=80,minContentWidth:s=20,onFold:o,onOverflow:a}){if(!i||i<0)return t;let l=Math.max(1+s,1+i-e.length);if(t.length<=l)return t;let u=[],f={},c=i-e.length;typeof r=="number"&&(r>i-Math.max(2,s)?u.push(0):c=i-r);let d,p,m=!1,h=-1,v=-1,g=-1;n===Lm&&(h=yP(t,h),h!==-1&&(c=h+l));for(let T;T=t[h+=1];){if(n===cf&&T==="\\"){switch(v=h,t[h+1]){case"x":h+=3;break;case"u":h+=5;break;case"U":h+=9;break;default:h+=1;}g=h;}if(T===`
`)n===Lm&&(h=yP(t,h)),c=h+l,d=void 0;else{if(T===" "&&p&&p!==" "&&p!==`
`&&p!=="	"){let I=t[h+1];I&&I!==" "&&I!==`
`&&I!=="	"&&(d=h);}if(h>=c)if(d)u.push(d),c=d+l,d=void 0;else if(n===cf){for(;p===" "||p==="	";)p=T,T=t[h+=1],m=!0;let I=h>g+1?h-2:v-1;if(f[I])return t;u.push(I),f[I]=!0,c=I+l,d=void 0;}else m=!0;}p=T;}if(m&&a&&a(),u.length===0)return t;o&&o();let _=t.slice(0,u[0]);for(let T=0;T<u.length;++T){let I=u[T],w=u[T+1]||t.length;I===0?_=`
${e}${t.slice(0,w)}`:(n===cf&&f[I]&&(_+=`${t[I]}\\`),_+=`
${e}${t.slice(I+1,w)}`);}return _;}var Dm=({indentAtStart:t})=>t?Object.assign({indentAtStart:t},ao.fold):ao.fold,pf=t=>/^(%|---|\.\.\.)/m.test(t);function MD(t,e,n){if(!e||e<0)return!1;let r=e-n,i=t.length;if(i<=r)return!1;for(let s=0,o=0;s<i;++s)if(t[s]===`
`){if(s-o>r)return!0;if(o=s+1,i-o<=r)return!1;}return!0;}function lo(t,e){let{implicitKey:n}=e,{jsonEncoding:r,minMultiLineLength:i}=ao.doubleQuoted,s=JSON.stringify(t);if(r)return s;let o=e.indent||(pf(t)?"  ":""),a="",l=0;for(let u=0,f=s[u];f;f=s[++u])if(f===" "&&s[u+1]==="\\"&&s[u+2]==="n"&&(a+=s.slice(l,u)+"\\ ",u+=1,l=u,f="\\"),f==="\\")switch(s[u+1]){case"u":{a+=s.slice(l,u);let c=s.substr(u+2,4);switch(c){case"0000":a+="\\0";break;case"0007":a+="\\a";break;case"000b":a+="\\v";break;case"001b":a+="\\e";break;case"0085":a+="\\N";break;case"00a0":a+="\\_";break;case"2028":a+="\\L";break;case"2029":a+="\\P";break;default:c.substr(0,2)==="00"?a+="\\x"+c.substr(2):a+=s.substr(u,6);}u+=5,l=u+1;}break;case"n":if(n||s[u+2]==='"'||s.length<i)u+=1;else{for(a+=s.slice(l,u)+`

`;s[u+2]==="\\"&&s[u+3]==="n"&&s[u+4]!=='"';)a+=`
`,u+=2;a+=o,s[u+2]===" "&&(a+="\\"),u+=1,l=u+1;}break;default:u+=1;}return a=l?a+s.slice(l):s,n?a:ff(a,o,cf,Dm(e));}function TP(t,e){if(e.implicitKey){if(/\n/.test(t))return lo(t,e);}else if(/[ \t]\n|\n[ \t]/.test(t))return lo(t,e);let n=e.indent||(pf(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:ff(r,n,_P,Dm(e));}function df({comment:t,type:e,value:n},r,i,s){if(/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return lo(n,r);let o=r.indent||(r.forceBlockIndent||pf(n)?"  ":""),a=o?"2":"1",l=e===V.Type.BLOCK_FOLDED?!1:e===V.Type.BLOCK_LITERAL?!0:!MD(n,ao.fold.lineWidth,o.length),u=l?"|":">";if(!n)return u+`
`;let f="",c="";if(n=n.replace(/[\n\t ]*$/,p=>{let m=p.indexOf(`
`);return m===-1?u+="-":(n===p||m!==p.length-1)&&(u+="+",s&&s()),c=p.replace(/\n$/,""),"";}).replace(/^[\n ]*/,p=>{p.indexOf(" ")!==-1&&(u+=a);let m=p.match(/ +$/);return m?(f=p.slice(0,-m[0].length),m[0]):(f=p,"");}),c&&(c=c.replace(/\n+(?!\n|$)/g,`$&${o}`)),f&&(f=f.replace(/\n+/g,`$&${o}`)),t&&(u+=" #"+t.replace(/ ?[\r\n]+/g," "),i&&i()),!n)return`${u}${a}
${o}${c}`;if(l)return n=n.replace(/\n+/g,`$&${o}`),`${u}
${o}${f}${n}${c}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${o}`);let d=ff(`${f}${n}${c}`,o,Lm,ao.fold);return`${u}
${o}${d}`;}function kD(t,e,n,r){let{comment:i,type:s,value:o}=t,{actualString:a,implicitKey:l,indent:u,inFlow:f}=e;if(l&&/[\n[\]{},]/.test(o)||f&&/[[\]{},]/.test(o))return lo(o,e);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return l||f||o.indexOf(`
`)===-1?o.indexOf('"')!==-1&&o.indexOf("'")===-1?TP(o,e):lo(o,e):df(t,e,n,r);if(!l&&!f&&s!==V.Type.PLAIN&&o.indexOf(`
`)!==-1)return df(t,e,n,r);if(u===""&&pf(o))return e.forceBlockIndent=!0,df(t,e,n,r);let c=o.replace(/\n+/g,`$&
${u}`);if(a){let{tags:p}=e.doc.schema;if(typeof Om(c,p,p.scalarFallback).value!="string")return lo(o,e);}let d=l?c:ff(c,u,_P,Dm(e));return i&&!f&&(d.indexOf(`
`)!==-1||i.indexOf(`
`)!==-1)?(n&&n(),AD(d,u,i)):d;}function FD(t,e,n,r){let{defaultType:i}=ao,{implicitKey:s,inFlow:o}=e,{type:a,value:l}=t;typeof l!="string"&&(l=String(l),t=Object.assign({},t,{value:l}));let u=c=>{switch(c){case V.Type.BLOCK_FOLDED:case V.Type.BLOCK_LITERAL:return df(t,e,n,r);case V.Type.QUOTE_DOUBLE:return lo(l,e);case V.Type.QUOTE_SINGLE:return TP(l,e);case V.Type.PLAIN:return kD(t,e,n,r);default:return null;}};(a!==V.Type.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(l)||(s||o)&&(a===V.Type.BLOCK_FOLDED||a===V.Type.BLOCK_LITERAL))&&(a=V.Type.QUOTE_DOUBLE);let f=u(a);if(f===null&&(f=u(i),f===null))throw new Error(`Unsupported default string type ${i}`);return f;}function qD({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let i=JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let s=i.indexOf(".");s<0&&(s=i.length,i+=".");let o=e-(i.length-s-1);for(;o-- >0;)i+="0";}return i;}function bP(t,e){let n,r;switch(e.type){case V.Type.FLOW_MAP:n="}",r="flow map";break;case V.Type.FLOW_SEQ:n="]",r="flow sequence";break;default:t.push(new V.YAMLSemanticError(e,"Not a flow collection!?"));return;}let i;for(let s=e.items.length-1;s>=0;--s){let o=e.items[s];if(!o||o.type!==V.Type.COMMENT){i=o;break;}}if(i&&i.char!==n){let s=`Expected ${r} to end with ${n}`,o;typeof i.offset=="number"?(o=new V.YAMLSemanticError(e,s),o.offset=i.offset+1):(o=new V.YAMLSemanticError(i,s),i.range&&i.range.end&&(o.offset=i.range.end-i.range.start)),t.push(o);}}function vP(t,e){let n=e.context.src[e.range.start-1];if(n!==`
`&&n!=="	"&&n!==" "){let r="Comments must be separated from other tokens by white space characters";t.push(new V.YAMLSemanticError(e,r));}}function NP(t,e){let n=String(e),r=n.substr(0,8)+"..."+n.substr(-8);return new V.YAMLSemanticError(t,`The "${r}" key is too long`);}function PP(t,e){for(let{afterKey:n,before:r,comment:i}of e){let s=t.items[r];s?(n&&s.value&&(s=s.value),i===void 0?(n||!s.commentBefore)&&(s.spaceBefore=!0):s.commentBefore?s.commentBefore+=`
`+i:s.commentBefore=i):i!==void 0&&(t.comment?t.comment+=`
`+i:t.comment=i);}}function Mm(t,e){let n=e.strValue;return n?typeof n=="string"?n:(n.errors.forEach(r=>{r.source||(r.source=e),t.errors.push(r);}),n.str):"";}function VD(t,e){let{handle:n,suffix:r}=e.tag,i=t.tagPrefixes.find(s=>s.handle===n);if(!i){let s=t.getDefaults().tagPrefixes;if(s&&(i=s.find(o=>o.handle===n)),!i)throw new V.YAMLSemanticError(e,`The ${n} tag handle is non-default and was not declared.`);}if(!r)throw new V.YAMLSemanticError(e,`The ${n} tag has no suffix.`);if(n==="!"&&(t.version||t.options.version)==="1.0"){if(r[0]==="^")return t.warnings.push(new V.YAMLWarning(e,"YAML 1.0 ^ tag expansion is not supported")),r;if(/[:/]/.test(r)){let s=r.match(/^([a-z0-9-]+)\/(.*)/i);return s?`tag:${s[1]}.yaml.org,2002:${s[2]}`:`tag:${r}`;}}return i.prefix+decodeURIComponent(r);}function BD(t,e){let{tag:n,type:r}=e,i=!1;if(n){let{handle:s,suffix:o,verbatim:a}=n;if(a){if(a!=="!"&&a!=="!!")return a;let l=`Verbatim tags aren't resolved, so ${a} is invalid.`;t.errors.push(new V.YAMLSemanticError(e,l));}else if(s==="!"&&!o)i=!0;else try{return VD(t,e);}catch(l){t.errors.push(l);}}switch(r){case V.Type.BLOCK_FOLDED:case V.Type.BLOCK_LITERAL:case V.Type.QUOTE_DOUBLE:case V.Type.QUOTE_SINGLE:return V.defaultTags.STR;case V.Type.FLOW_MAP:case V.Type.MAP:return V.defaultTags.MAP;case V.Type.FLOW_SEQ:case V.Type.SEQ:return V.defaultTags.SEQ;case V.Type.PLAIN:return i?V.defaultTags.STR:null;default:return null;}}function IP(t,e,n){let{tags:r}=t.schema,i=[];for(let o of r)if(o.tag===n)if(o.test)i.push(o);else{let a=o.resolve(t,e);return a instanceof Vt?a:new Tn(a);}let s=Mm(t,e);return typeof s=="string"&&i.length>0?Om(s,i,r.scalarFallback):null;}function jD({type:t}){switch(t){case V.Type.FLOW_MAP:case V.Type.MAP:return V.defaultTags.MAP;case V.Type.FLOW_SEQ:case V.Type.SEQ:return V.defaultTags.SEQ;default:return V.defaultTags.STR;}}function UD(t,e,n){try{let r=IP(t,e,n);if(r)return n&&e.tag&&(r.tag=n),r;}catch(r){return r.source||(r.source=e),t.errors.push(r),null;}try{let r=jD(e);if(!r)throw new Error(`The tag ${n} is unavailable`);let i=`The tag ${n} is unavailable, falling back to ${r}`;t.warnings.push(new V.YAMLWarning(e,i));let s=IP(t,e,r);return s.tag=n,s;}catch(r){let i=new V.YAMLReferenceError(e,r.message);return i.stack=r.stack,t.errors.push(i),null;}}var GD=t=>{if(!t)return!1;let{type:e}=t;return e===V.Type.MAP_KEY||e===V.Type.MAP_VALUE||e===V.Type.SEQ_ITEM;};function WD(t,e){let n={before:[],after:[]},r=!1,i=!1,s=GD(e.context.parent)?e.context.parent.props.concat(e.props):e.props;for(let{start:o,end:a}of s)switch(e.context.src[o]){case V.Char.COMMENT:{if(!e.commentHasRequiredWhitespace(o)){let c="Comments must be separated from other tokens by white space characters";t.push(new V.YAMLSemanticError(e,c));}let{header:l,valueRange:u}=e;(u&&(o>u.start||l&&o>l.start)?n.after:n.before).push(e.context.src.slice(o+1,a));break;}case V.Char.ANCHOR:if(r){let l="A node can have at most one anchor";t.push(new V.YAMLSemanticError(e,l));}r=!0;break;case V.Char.TAG:if(i){let l="A node can have at most one tag";t.push(new V.YAMLSemanticError(e,l));}i=!0;break;}return{comments:n,hasAnchor:r,hasTag:i};}function HD(t,e){let{anchors:n,errors:r,schema:i}=t;if(e.type===V.Type.ALIAS){let o=e.rawValue,a=n.getNode(o);if(!a){let u=`Aliased anchor not found: ${o}`;return r.push(new V.YAMLReferenceError(e,u)),null;}let l=new bs(a);return n._cstAliases.push(l),l;}let s=BD(t,e);if(s)return UD(t,e,s);if(e.type!==V.Type.PLAIN){let o=`Failed to resolve ${e.type} node here`;return r.push(new V.YAMLSyntaxError(e,o)),null;}try{let o=Mm(t,e);return Om(o,i.tags,i.tags.scalarFallback);}catch(o){return o.source||(o.source=e),r.push(o),null;}}function vs(t,e){if(!e)return null;e.error&&t.errors.push(e.error);let{comments:n,hasAnchor:r,hasTag:i}=WD(t.errors,e);if(r){let{anchors:o}=t,a=e.anchor,l=o.getNode(a);l&&(o.map[o.newName(a)]=l),o.map[a]=e;}if(e.type===V.Type.ALIAS&&(r||i)){let o="An alias node must not specify any properties";t.errors.push(new V.YAMLSemanticError(e,o));}let s=HD(t,e);if(s){s.range=[e.range.start,e.range.end],t.options.keepCstNodes&&(s.cstNode=e),t.options.keepNodeTypes&&(s.type=e.type);let o=n.before.join(`
`);o&&(s.commentBefore=s.commentBefore?`${s.commentBefore}
${o}`:o);let a=n.after.join(`
`);a&&(s.comment=s.comment?`${s.comment}
${a}`:a);}return e.resolved=s;}function YD(t,e){if(e.type!==V.Type.MAP&&e.type!==V.Type.FLOW_MAP){let o=`A ${e.type} node cannot be resolved as a mapping`;return t.errors.push(new V.YAMLSyntaxError(e,o)),null;}let{comments:n,items:r}=e.type===V.Type.FLOW_MAP?XD(t,e):zD(t,e),i=new uf;i.items=r,PP(i,n);let s=!1;for(let o=0;o<r.length;++o){let{key:a}=r[o];if(a instanceof Vt&&(s=!0),t.schema.merge&&a&&a.value===gP){r[o]=new wm(r[o]);let l=r[o].value.items,u=null;l.some(f=>{if(f instanceof bs){let{type:c}=f.source;return c===V.Type.MAP||c===V.Type.FLOW_MAP?!1:u="Merge nodes aliases can only point to maps";}return u="Merge nodes can only have Alias nodes as values";}),u&&t.errors.push(new V.YAMLSemanticError(e,u));}else for(let l=o+1;l<r.length;++l){let{key:u}=r[l];if(a===u||a&&u&&Object.prototype.hasOwnProperty.call(a,"value")&&a.value===u.value){let f=`Map keys must be unique; "${a}" is repeated`;t.errors.push(new V.YAMLSemanticError(e,f));break;}}}if(s&&!t.options.mapAsMap){let o="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new V.YAMLWarning(e,o));}return e.resolved=i,i;}var KD=({context:{lineStart:t,node:e,src:n},props:r})=>{if(r.length===0)return!1;let{start:i}=r[0];if(e&&i>e.valueRange.start||n[i]!==V.Char.COMMENT)return!1;for(let s=t;s<i;++s)if(n[s]===`
`)return!1;return!0;};function $D(t,e){if(!KD(t))return;let n=t.getPropValue(0,V.Char.COMMENT,!0),r=!1,i=e.value.commentBefore;if(i&&i.startsWith(n))e.value.commentBefore=i.substr(n.length+1),r=!0;else{let s=e.value.comment;!t.node&&s&&s.startsWith(n)&&(e.value.comment=s.substr(n.length+1),r=!0);}r&&(e.comment=n);}function zD(t,e){let n=[],r=[],i,s=null;for(let o=0;o<e.items.length;++o){let a=e.items[o];switch(a.type){case V.Type.BLANK_LINE:n.push({afterKey:!!i,before:r.length});break;case V.Type.COMMENT:n.push({afterKey:!!i,before:r.length,comment:a.comment});break;case V.Type.MAP_KEY:i!==void 0&&r.push(new et(i)),a.error&&t.errors.push(a.error),i=vs(t,a.node),s=null;break;case V.Type.MAP_VALUE:{if(i===void 0&&(i=null),a.error&&t.errors.push(a.error),!a.context.atLineStart&&a.node&&a.node.type===V.Type.MAP&&!a.node.context.atLineStart){let f="Nested mappings are not allowed in compact mappings";t.errors.push(new V.YAMLSemanticError(a.node,f));}let l=a.node;if(!l&&a.props.length>0){l=new V.PlainValue(V.Type.PLAIN,[]),l.context={parent:a,src:a.context.src};let f=a.range.start+1;if(l.range={start:f,end:f},l.valueRange={start:f,end:f},typeof a.range.origStart=="number"){let c=a.range.origStart+1;l.range.origStart=l.range.origEnd=c,l.valueRange.origStart=l.valueRange.origEnd=c;}}let u=new et(i,vs(t,l));$D(a,u),r.push(u),i&&typeof s=="number"&&a.range.start>s+1024&&t.errors.push(NP(e,i)),i=void 0,s=null;}break;default:i!==void 0&&r.push(new et(i)),i=vs(t,a),s=a.range.start,a.error&&t.errors.push(a.error);e:for(let l=o+1;;++l){let u=e.items[l];switch(u&&u.type){case V.Type.BLANK_LINE:case V.Type.COMMENT:continue e;case V.Type.MAP_VALUE:break e;default:{let f="Implicit map keys need to be followed by map values";t.errors.push(new V.YAMLSemanticError(a,f));break e;}}}if(a.valueRangeContainsNewline){let l="Implicit map keys need to be on a single line";t.errors.push(new V.YAMLSemanticError(a,l));}}}return i!==void 0&&r.push(new et(i)),{comments:n,items:r};}function XD(t,e){let n=[],r=[],i,s=!1,o="{";for(let a=0;a<e.items.length;++a){let l=e.items[a];if(typeof l.char=="string"){let{char:u,offset:f}=l;if(u==="?"&&i===void 0&&!s){s=!0,o=":";continue;}if(u===":"){if(i===void 0&&(i=null),o===":"){o=",";continue;}}else if(s&&(i===void 0&&u!==","&&(i=null),s=!1),i!==void 0&&(r.push(new et(i)),i=void 0,u===",")){o=":";continue;}if(u==="}"){if(a===e.items.length-1)continue;}else if(u===o){o=":";continue;}let c=`Flow map contains an unexpected ${u}`,d=new V.YAMLSyntaxError(e,c);d.offset=f,t.errors.push(d);}else l.type===V.Type.BLANK_LINE?n.push({afterKey:!!i,before:r.length}):l.type===V.Type.COMMENT?(vP(t.errors,l),n.push({afterKey:!!i,before:r.length,comment:l.comment})):i===void 0?(o===","&&t.errors.push(new V.YAMLSemanticError(l,"Separator , missing in flow map")),i=vs(t,l)):(o!==","&&t.errors.push(new V.YAMLSemanticError(l,"Indicator : missing in flow map entry")),r.push(new et(i,vs(t,l))),i=void 0,s=!1);}return bP(t.errors,e),i!==void 0&&r.push(new et(i)),{comments:n,items:r};}function QD(t,e){if(e.type!==V.Type.SEQ&&e.type!==V.Type.FLOW_SEQ){let s=`A ${e.type} node cannot be resolved as a sequence`;return t.errors.push(new V.YAMLSyntaxError(e,s)),null;}let{comments:n,items:r}=e.type===V.Type.FLOW_SEQ?ZD(t,e):JD(t,e),i=new oo;if(i.items=r,PP(i,n),!t.options.mapAsMap&&r.some(s=>s instanceof et&&s.key instanceof Vt)){let s="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new V.YAMLWarning(e,s));}return e.resolved=i,i;}function JD(t,e){let n=[],r=[];for(let i=0;i<e.items.length;++i){let s=e.items[i];switch(s.type){case V.Type.BLANK_LINE:n.push({before:r.length});break;case V.Type.COMMENT:n.push({comment:s.comment,before:r.length});break;case V.Type.SEQ_ITEM:if(s.error&&t.errors.push(s.error),r.push(vs(t,s.node)),s.hasProps){let o="Sequence items cannot have tags or anchors before the - indicator";t.errors.push(new V.YAMLSemanticError(s,o));}break;default:s.error&&t.errors.push(s.error),t.errors.push(new V.YAMLSyntaxError(s,`Unexpected ${s.type} node in sequence`));}}return{comments:n,items:r};}function ZD(t,e){let n=[],r=[],i=!1,s,o=null,a="[",l=null;for(let u=0;u<e.items.length;++u){let f=e.items[u];if(typeof f.char=="string"){let{char:c,offset:d}=f;if(c!==":"&&(i||s!==void 0)&&(i&&s===void 0&&(s=a?r.pop():null),r.push(new et(s)),i=!1,s=void 0,o=null),c===a)a=null;else if(!a&&c==="?")i=!0;else if(a!=="["&&c===":"&&s===void 0){if(a===","){if(s=r.pop(),s instanceof et){let p="Chaining flow sequence pairs is invalid",m=new V.YAMLSemanticError(e,p);m.offset=d,t.errors.push(m);}if(!i&&typeof o=="number"){let p=f.range?f.range.start:f.offset;p>o+1024&&t.errors.push(NP(e,s));let{src:m}=l.context;for(let h=o;h<p;++h)if(m[h]===`
`){let v="Implicit keys of flow sequence pairs need to be on a single line";t.errors.push(new V.YAMLSemanticError(l,v));break;}}}else s=null;o=null,i=!1,a=null;}else if(a==="["||c!=="]"||u<e.items.length-1){let p=`Flow sequence contains an unexpected ${c}`,m=new V.YAMLSyntaxError(e,p);m.offset=d,t.errors.push(m);}}else if(f.type===V.Type.BLANK_LINE)n.push({before:r.length});else if(f.type===V.Type.COMMENT)vP(t.errors,f),n.push({comment:f.comment,before:r.length});else{if(a){let d=`Expected a ${a} in flow sequence`;t.errors.push(new V.YAMLSemanticError(f,d));}let c=vs(t,f);s===void 0?(r.push(c),l=f):(r.push(new et(s,c)),s=void 0),o=f.range.start,a=",";}}return bP(t.errors,e),s!==void 0&&r.push(new et(s)),{comments:n,items:r};}mt.Alias=bs;mt.Collection=Vt;mt.Merge=wm;mt.Node=pr;mt.Pair=et;mt.Scalar=Tn;mt.YAMLMap=uf;mt.YAMLSeq=oo;mt.addComment=wa;mt.binaryOptions=wD;mt.boolOptions=OD;mt.findPair=Ll;mt.intOptions=LD;mt.isEmptyPath=hP;mt.nullOptions=DD;mt.resolveMap=YD;mt.resolveNode=vs;mt.resolveSeq=QD;mt.resolveString=Mm;mt.strOptions=ao;mt.stringifyNumber=qD;mt.stringifyString=FD;mt.toJSON=Ts;});var mf=q(Xr=>{"use strict";var Yn=_s(),Be=Oa(),eM={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve:(t,e)=>{let n=Be.resolveString(t,e);if(typeof Buffer=="function")return Buffer.from(n,"base64");if(typeof atob=="function"){let r=atob(n.replace(/[\n\r]/g,"")),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i;}else{let r="This environment does not support reading binary tags; either Buffer or atob is required";return t.errors.push(new Yn.YAMLReferenceError(e,r)),null;}},options:Be.binaryOptions,stringify:({comment:t,type:e,value:n},r,i,s)=>{let o;if(typeof Buffer=="function")o=n instanceof Buffer?n.toString("base64"):Buffer.from(n.buffer).toString("base64");else if(typeof btoa=="function"){let a="";for(let l=0;l<n.length;++l)a+=String.fromCharCode(n[l]);o=btoa(a);}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=Be.binaryOptions.defaultType),e===Yn.Type.QUOTE_DOUBLE)n=o;else{let{lineWidth:a}=Be.binaryOptions,l=Math.ceil(o.length/a),u=new Array(l);for(let f=0,c=0;f<l;++f,c+=a)u[f]=o.substr(c,a);n=u.join(e===Yn.Type.BLOCK_LITERAL?`
`:" ");}return Be.stringifyString({comment:t,type:e,value:n},r,i,s);}};function SP(t,e){let n=Be.resolveSeq(t,e);for(let r=0;r<n.items.length;++r){let i=n.items[r];if(!(i instanceof Be.Pair)){if(i instanceof Be.YAMLMap){if(i.items.length>1){let o="Each pair must have its own sequence indicator";throw new Yn.YAMLSemanticError(e,o);}let s=i.items[0]||new Be.Pair;i.commentBefore&&(s.commentBefore=s.commentBefore?`${i.commentBefore}
${s.commentBefore}`:i.commentBefore),i.comment&&(s.comment=s.comment?`${i.comment}
${s.comment}`:i.comment),i=s;}n.items[r]=i instanceof Be.Pair?i:new Be.Pair(i);}}return n;}function RP(t,e,n){let r=new Be.YAMLSeq(t);r.tag="tag:yaml.org,2002:pairs";for(let i of e){let s,o;if(Array.isArray(i))if(i.length===2)s=i[0],o=i[1];else throw new TypeError(`Expected [key, value] tuple: ${i}`);else if(i&&i instanceof Object){let l=Object.keys(i);if(l.length===1)s=l[0],o=i[s];else throw new TypeError(`Expected { key: value } tuple: ${i}`);}else s=i;let a=t.createPair(s,o,n);r.items.push(a);}return r;}var tM={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:SP,createNode:RP},uo=class extends Be.YAMLSeq{constructor(){super();Yn._defineProperty(this,"add",Be.YAMLMap.prototype.add.bind(this)),Yn._defineProperty(this,"delete",Be.YAMLMap.prototype.delete.bind(this)),Yn._defineProperty(this,"get",Be.YAMLMap.prototype.get.bind(this)),Yn._defineProperty(this,"has",Be.YAMLMap.prototype.has.bind(this)),Yn._defineProperty(this,"set",Be.YAMLMap.prototype.set.bind(this)),this.tag=uo.tag;}toJSON(e,n){let r=new Map;n&&n.onCreate&&n.onCreate(r);for(let i of this.items){let s,o;if(i instanceof Be.Pair?(s=Be.toJSON(i.key,"",n),o=Be.toJSON(i.value,s,n)):s=Be.toJSON(i,"",n),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,o);}return r;}};Yn._defineProperty(uo,"tag","tag:yaml.org,2002:omap");function nM(t,e){let n=SP(t,e),r=[];for(let{key:i}of n.items)if(i instanceof Be.Scalar)if(r.includes(i.value)){let s="Ordered maps must not include duplicate keys";throw new Yn.YAMLSemanticError(e,s);}else r.push(i.value);return Object.assign(new uo,n);}function rM(t,e,n){let r=RP(t,e,n),i=new uo;return i.items=r.items,i;}var iM={identify:t=>t instanceof Map,nodeClass:uo,default:!1,tag:"tag:yaml.org,2002:omap",resolve:nM,createNode:rM},co=class extends Be.YAMLMap{constructor(){super();this.tag=co.tag;}add(e){let n=e instanceof Be.Pair?e:new Be.Pair(e);Be.findPair(this.items,n.key)||this.items.push(n);}get(e,n){let r=Be.findPair(this.items,e);return!n&&r instanceof Be.Pair?r.key instanceof Be.Scalar?r.key.value:r.key:r;}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);let r=Be.findPair(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Be.Pair(e));}toJSON(e,n){return super.toJSON(e,n,Set);}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues())return super.toString(e,n,r);throw new Error("Set items must all have null values");}};Yn._defineProperty(co,"tag","tag:yaml.org,2002:set");function sM(t,e){let n=Be.resolveMap(t,e);if(!n.hasAllNullValues())throw new Yn.YAMLSemanticError(e,"Set items must all have null values");return Object.assign(new co,n);}function oM(t,e,n){let r=new co;for(let i of e)r.items.push(t.createPair(i,null,n));return r;}var aM={identify:t=>t instanceof Set,nodeClass:co,default:!1,tag:"tag:yaml.org,2002:set",resolve:sM,createNode:oM},km=(t,e)=>{let n=e.split(":").reduce((r,i)=>r*60+Number(i),0);return t==="-"?-n:n;},CP=({value:t})=>{if(isNaN(t)||!isFinite(t))return Be.stringifyNumber(t);let e="";t<0&&(e="-",t=Math.abs(t));let n=[t%60];return t<60?n.unshift(0):(t=Math.round((t-n[0])/60),n.unshift(t%60),t>=60&&(t=Math.round((t-n[0])/60),n.unshift(t))),e+n.map(r=>r<10?"0"+String(r):String(r)).join(":").replace(/000000\d*$/,"");},lM={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:(t,e,n)=>km(e,n.replace(/_/g,"")),stringify:CP},uM={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:(t,e,n)=>km(e,n.replace(/_/g,"")),stringify:CP},cM={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:(t,e,n,r,i,s,o,a,l)=>{a&&(a=(a+"00").substr(1,3));let u=Date.UTC(e,n-1,r,i||0,s||0,o||0,a||0);if(l&&l!=="Z"){let f=km(l[0],l.slice(1));Math.abs(f)<30&&(f*=60),u-=6e4*f;}return new Date(u);},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};function Fm(t){let e=typeof process!="undefined"&&process.env||{};return t?typeof YAML_SILENCE_DEPRECATION_WARNINGS!="undefined"?!YAML_SILENCE_DEPRECATION_WARNINGS:!e.YAML_SILENCE_DEPRECATION_WARNINGS:typeof YAML_SILENCE_WARNINGS!="undefined"?!YAML_SILENCE_WARNINGS:!e.YAML_SILENCE_WARNINGS;}function qm(t,e){if(Fm(!1)){let n=typeof process!="undefined"&&process.emitWarning;n?n(t,e):console.warn(e?`${e}: ${t}`:t);}}function fM(t){if(Fm(!0)){let e=t.replace(/.*yaml[/\\]/i,"").replace(/\.js$/,"").replace(/\\/g,"/");qm(`The endpoint 'yaml/${e}' will be removed in a future release.`,"DeprecationWarning");}}var xP={};function pM(t,e){if(!xP[t]&&Fm(!0)){xP[t]=!0;let n=`The option '${t}' will be removed in a future release`;n+=e?`, use '${e}' instead.`:".",qm(n,"DeprecationWarning");}}Xr.binary=eM;Xr.floatTime=uM;Xr.intTime=lM;Xr.omap=iM;Xr.pairs=tM;Xr.set=aM;Xr.timestamp=cM;Xr.warn=qm;Xr.warnFileDeprecation=fM;Xr.warnOptionDeprecation=pM;});var bf=q(jP=>{"use strict";var hf=_s(),ye=Oa(),bn=mf();function dM(t,e,n){let r=new ye.YAMLMap(t);if(e instanceof Map)for(let[i,s]of e)r.items.push(t.createPair(i,s,n));else if(e&&typeof e=="object")for(let i of Object.keys(e))r.items.push(t.createPair(i,e[i],n));return typeof t.sortMapEntries=="function"&&r.items.sort(t.sortMapEntries),r;}var Dl={createNode:dM,default:!0,nodeClass:ye.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:ye.resolveMap};function mM(t,e,n){let r=new ye.YAMLSeq(t);if(e&&e[Symbol.iterator])for(let i of e){let s=t.createNode(i,n.wrapScalars,null,n);r.items.push(s);}return r;}var gf={createNode:mM,default:!0,nodeClass:ye.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:ye.resolveSeq},hM={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:ye.resolveString,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),ye.stringifyString(t,e,n,r);},options:ye.strOptions},Vm=[Dl,gf,hM],_f=t=>typeof t=="bigint"||Number.isInteger(t),Bm=(t,e,n)=>ye.intOptions.asBigInt?BigInt(t):parseInt(e,n);function AP(t,e,n){let{value:r}=t;return _f(r)&&r>=0?n+r.toString(e):ye.stringifyNumber(t);}var EP={identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new ye.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:ye.nullOptions,stringify:()=>ye.nullOptions.nullStr},wP={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>t[0]==="t"||t[0]==="T",options:ye.boolOptions,stringify:({value:t})=>t?ye.boolOptions.trueStr:ye.boolOptions.falseStr},OP={identify:t=>_f(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:(t,e)=>Bm(t,e,8),options:ye.intOptions,stringify:t=>AP(t,8,"0o")},LP={identify:_f,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:t=>Bm(t,t,10),options:ye.intOptions,stringify:ye.stringifyNumber},DP={identify:t=>_f(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:(t,e)=>Bm(t,e,16),options:ye.intOptions,stringify:t=>AP(t,16,"0x")},MP={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:ye.stringifyNumber},kP={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify:({value:t})=>Number(t).toExponential()},FP={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve(t,e,n){let r=e||n,i=new ye.Scalar(parseFloat(t));return r&&r[r.length-1]==="0"&&(i.minFractionDigits=r.length),i;},stringify:ye.stringifyNumber},gM=Vm.concat([EP,wP,OP,LP,DP,MP,kP,FP]),qP=t=>typeof t=="bigint"||Number.isInteger(t),yf=({value:t})=>JSON.stringify(t),VP=[Dl,gf,{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:ye.resolveString,stringify:yf},{identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new ye.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:yf},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:yf},{identify:qP,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:t=>ye.intOptions.asBigInt?BigInt(t):parseInt(t,10),stringify:({value:t})=>qP(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:yf}];VP.scalarFallback=t=>{throw new SyntaxError(`Unresolved plain scalar ${JSON.stringify(t)}`);};var BP=({value:t})=>t?ye.boolOptions.trueStr:ye.boolOptions.falseStr,Ml=t=>typeof t=="bigint"||Number.isInteger(t);function Tf(t,e,n){let r=e.replace(/_/g,"");if(ye.intOptions.asBigInt){switch(n){case 2:r=`0b${r}`;break;case 8:r=`0o${r}`;break;case 16:r=`0x${r}`;break;}let s=BigInt(r);return t==="-"?BigInt(-1)*s:s;}let i=parseInt(r,n);return t==="-"?-1*i:i;}function jm(t,e,n){let{value:r}=t;if(Ml(r)){let i=r.toString(e);return r<0?"-"+n+i.substr(1):n+i;}return ye.stringifyNumber(t);}var _M=Vm.concat([{identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new ye.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:ye.nullOptions,stringify:()=>ye.nullOptions.nullStr},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>!0,options:ye.boolOptions,stringify:BP},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>!1,options:ye.boolOptions,stringify:BP},{identify:Ml,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:(t,e,n)=>Tf(e,n,2),stringify:t=>jm(t,2,"0b")},{identify:Ml,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:(t,e,n)=>Tf(e,n,8),stringify:t=>jm(t,8,"0")},{identify:Ml,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:(t,e,n)=>Tf(e,n,10),stringify:ye.stringifyNumber},{identify:Ml,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:(t,e,n)=>Tf(e,n,16),stringify:t=>jm(t,16,"0x")},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:ye.stringifyNumber},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify:({value:t})=>Number(t).toExponential()},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve(t,e){let n=new ye.Scalar(parseFloat(t.replace(/_/g,"")));if(e){let r=e.replace(/_/g,"");r[r.length-1]==="0"&&(n.minFractionDigits=r.length);}return n;},stringify:ye.stringifyNumber}],bn.binary,bn.omap,bn.pairs,bn.set,bn.intTime,bn.floatTime,bn.timestamp),yM={core:gM,failsafe:Vm,json:VP,yaml11:_M},TM={binary:bn.binary,bool:wP,float:FP,floatExp:kP,floatNaN:MP,floatTime:bn.floatTime,int:LP,intHex:DP,intOct:OP,intTime:bn.intTime,map:Dl,null:EP,omap:bn.omap,pairs:bn.pairs,seq:gf,set:bn.set,timestamp:bn.timestamp};function bM(t,e,n){if(e){let r=n.filter(s=>s.tag===e),i=r.find(s=>!s.format)||r[0];if(!i)throw new Error(`Tag ${e} not found`);return i;}return n.find(r=>(r.identify&&r.identify(t)||r.class&&t instanceof r.class)&&!r.format);}function vM(t,e,n){if(t instanceof ye.Node)return t;let{defaultPrefix:r,onTagObj:i,prevObjects:s,schema:o,wrapScalars:a}=n;e&&e.startsWith("!!")&&(e=r+e.slice(2));let l=bM(t,e,o.tags);if(!l){if(typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object")return a?new ye.Scalar(t):t;l=t instanceof Map?Dl:t[Symbol.iterator]?gf:Dl;}i&&(i(l),delete n.onTagObj);let u={value:void 0,node:void 0};if(t&&typeof t=="object"&&s){let f=s.get(t);if(f){let c=new ye.Alias(f);return n.aliasNodes.push(c),c;}u.value=t,s.set(t,u);}return u.node=l.createNode?l.createNode(n.schema,t,n):a?new ye.Scalar(t):t,e&&u.node instanceof ye.Node&&(u.node.tag=e),u.node;}function NM(t,e,n,r){let i=t[r.replace(/\W/g,"")];if(!i){let s=Object.keys(t).map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${r}"; use one of ${s}`);}if(Array.isArray(n))for(let s of n)i=i.concat(s);else typeof n=="function"&&(i=n(i.slice()));for(let s=0;s<i.length;++s){let o=i[s];if(typeof o=="string"){let a=e[o];if(!a){let l=Object.keys(e).map(u=>JSON.stringify(u)).join(", ");throw new Error(`Unknown custom tag "${o}"; use one of ${l}`);}i[s]=a;}}return i;}var PM=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,La=class{constructor({customTags:e,merge:n,schema:r,sortMapEntries:i,tags:s}){this.merge=!!n,this.name=r,this.sortMapEntries=i===!0?PM:i||null,!e&&s&&bn.warnOptionDeprecation("tags","customTags"),this.tags=NM(yM,TM,e||s,r);}createNode(e,n,r,i){let s={defaultPrefix:La.defaultPrefix,schema:this,wrapScalars:n},o=i?Object.assign(i,s):s;return vM(e,r,o);}createPair(e,n,r){r||(r={wrapScalars:!0});let i=this.createNode(e,r.wrapScalars,null,r),s=this.createNode(n,r.wrapScalars,null,r);return new ye.Pair(i,s);}};hf._defineProperty(La,"defaultPrefix",hf.defaultTagPrefix);hf._defineProperty(La,"defaultTags",hf.defaultTags);jP.Schema=La;});var HP=q(If=>{"use strict";var vn=_s(),Ne=Oa(),UP=bf(),IM={anchorPrefix:"a",customTags:null,indent:2,indentSeq:!0,keepCstNodes:!1,keepNodeTypes:!0,keepBlobsInJSON:!0,mapAsMap:!1,maxAliasCount:100,prettyErrors:!1,simpleKeys:!1,version:"1.2"},SM={get binary(){return Ne.binaryOptions;},set binary(t){Object.assign(Ne.binaryOptions,t);},get bool(){return Ne.boolOptions;},set bool(t){Object.assign(Ne.boolOptions,t);},get int(){return Ne.intOptions;},set int(t){Object.assign(Ne.intOptions,t);},get null(){return Ne.nullOptions;},set null(t){Object.assign(Ne.nullOptions,t);},get str(){return Ne.strOptions;},set str(t){Object.assign(Ne.strOptions,t);}},GP={"1.0":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:vn.defaultTagPrefix},{handle:"!!",prefix:"tag:private.yaml.org,2002:"}]},1.1:{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:vn.defaultTagPrefix}]},1.2:{schema:"core",merge:!1,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:vn.defaultTagPrefix}]}};function WP(t,e){if((t.version||t.options.version)==="1.0"){let i=e.match(/^tag:private\.yaml\.org,2002:([^:/]+)$/);if(i)return"!"+i[1];let s=e.match(/^tag:([a-zA-Z0-9-]+)\.yaml\.org,2002:(.*)/);return s?`!${s[1]}/${s[2]}`:`!${e.replace(/^tag:/,"")}`;}let n=t.tagPrefixes.find(i=>e.indexOf(i.prefix)===0);if(!n){let i=t.getDefaults().tagPrefixes;n=i&&i.find(s=>e.indexOf(s.prefix)===0);}if(!n)return e[0]==="!"?e:`!<${e}>`;let r=e.substr(n.prefix.length).replace(/[!,[\]{}]/g,i=>({"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"})[i]);return n.handle+r;}function RM(t,e){if(e instanceof Ne.Alias)return Ne.Alias;if(e.tag){let i=t.filter(s=>s.tag===e.tag);if(i.length>0)return i.find(s=>s.format===e.format)||i[0];}let n,r;if(e instanceof Ne.Scalar){r=e.value;let i=t.filter(s=>s.identify&&s.identify(r)||s.class&&r instanceof s.class);n=i.find(s=>s.format===e.format)||i.find(s=>!s.format);}else r=e,n=t.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){let i=r&&r.constructor?r.constructor.name:typeof r;throw new Error(`Tag not resolved for ${i} value`);}return n;}function CM(t,e,{anchors:n,doc:r}){let i=[],s=r.anchors.getName(t);return s&&(n[s]=t,i.push(`&${s}`)),t.tag?i.push(WP(r,t.tag)):e.default||i.push(WP(r,e.tag)),i.join(" ");}function vf(t,e,n,r){let{anchors:i,schema:s}=e.doc,o;if(!(t instanceof Ne.Node)){let u={aliasNodes:[],onTagObj:f=>o=f,prevObjects:new Map};t=s.createNode(t,!0,null,u);for(let f of u.aliasNodes){f.source=f.source.node;let c=i.getName(f.source);c||(c=i.newName(),i.map[c]=f.source);}}if(t instanceof Ne.Pair)return t.toString(e,n,r);o||(o=RM(s.tags,t));let a=CM(t,o,e);a.length>0&&(e.indentAtStart=(e.indentAtStart||0)+a.length+1);let l=typeof o.stringify=="function"?o.stringify(t,e,n,r):t instanceof Ne.Scalar?Ne.stringifyString(t,e,n,r):t.toString(e,n,r);return a?t instanceof Ne.Scalar||l[0]==="{"||l[0]==="["?`${a} ${l}`:`${a}
${e.indent}${l}`:l;}var Nf=class{static validAnchorNode(e){return e instanceof Ne.Scalar||e instanceof Ne.YAMLSeq||e instanceof Ne.YAMLMap;}constructor(e){vn._defineProperty(this,"map",Object.create(null)),this.prefix=e;}createAlias(e,n){return this.setAnchor(e,n),new Ne.Alias(e);}createMergePair(...e){let n=new Ne.Merge;return n.value.items=e.map(r=>{if(r instanceof Ne.Alias){if(r.source instanceof Ne.YAMLMap)return r;}else if(r instanceof Ne.YAMLMap)return this.createAlias(r);throw new Error("Merge sources must be Map nodes or their Aliases");}),n;}getName(e){let{map:n}=this;return Object.keys(n).find(r=>n[r]===e);}getNames(){return Object.keys(this.map);}getNode(e){return this.map[e];}newName(e){e||(e=this.prefix);let n=Object.keys(this.map);for(let r=1;;++r){let i=`${e}${r}`;if(!n.includes(i))return i;}}resolveNodes(){let{map:e,_cstAliases:n}=this;Object.keys(e).forEach(r=>{e[r]=e[r].resolved;}),n.forEach(r=>{r.source=r.source.resolved;}),delete this._cstAliases;}setAnchor(e,n){if(e!=null&&!Nf.validAnchorNode(e))throw new Error("Anchors may only be set for Scalar, Seq and Map nodes");if(n&&/[\x00-\x19\s,[\]{}]/.test(n))throw new Error("Anchor names must not contain whitespace or control characters");let{map:r}=this,i=e&&Object.keys(r).find(s=>r[s]===e);if(i)if(n)i!==n&&(delete r[i],r[n]=e);else return i;else{if(!n){if(!e)return null;n=this.newName();}r[n]=e;}return n;}},Pf=(t,e)=>{if(t&&typeof t=="object"){let{tag:n}=t;t instanceof Ne.Collection?(n&&(e[n]=!0),t.items.forEach(r=>Pf(r,e))):t instanceof Ne.Pair?(Pf(t.key,e),Pf(t.value,e)):t instanceof Ne.Scalar&&n&&(e[n]=!0);}return e;},xM=t=>Object.keys(Pf(t,{}));function AM(t,e){let n={before:[],after:[]},r,i=!1;for(let s of e)if(s.valueRange){if(r!==void 0){let a="Document contains trailing content not separated by a ... or --- line";t.errors.push(new vn.YAMLSyntaxError(s,a));break;}let o=Ne.resolveNode(t,s);i&&(o.spaceBefore=!0,i=!1),r=o;}else s.comment!==null?(r===void 0?n.before:n.after).push(s.comment):s.type===vn.Type.BLANK_LINE&&(i=!0,r===void 0&&n.before.length>0&&!t.commentBefore&&(t.commentBefore=n.before.join(`
`),n.before=[]));if(t.contents=r||null,!r)t.comment=n.before.concat(n.after).join(`
`)||null;else{let s=n.before.join(`
`);if(s){let o=r instanceof Ne.Collection&&r.items[0]?r.items[0]:r;o.commentBefore=o.commentBefore?`${s}
${o.commentBefore}`:s;}t.comment=n.after.join(`
`)||null;}}function EM({tagPrefixes:t},e){let[n,r]=e.parameters;if(!n||!r){let i="Insufficient parameters given for %TAG directive";throw new vn.YAMLSemanticError(e,i);}if(t.some(i=>i.handle===n)){let i="The %TAG directive must only be given at most once per handle in the same document.";throw new vn.YAMLSemanticError(e,i);}return{handle:n,prefix:r};}function wM(t,e){let[n]=e.parameters;if(e.name==="YAML:1.0"&&(n="1.0"),!n){let r="Insufficient parameters given for %YAML directive";throw new vn.YAMLSemanticError(e,r);}if(!GP[n]){let i=`Document will be parsed as YAML ${t.version||t.options.version} rather than YAML ${n}`;t.warnings.push(new vn.YAMLWarning(e,i));}return n;}function OM(t,e,n){let r=[],i=!1;for(let s of e){let{comment:o,name:a}=s;switch(a){case"TAG":try{t.tagPrefixes.push(EM(t,s));}catch(l){t.errors.push(l);}i=!0;break;case"YAML":case"YAML:1.0":if(t.version){let l="The %YAML directive must only be given at most once per document.";t.errors.push(new vn.YAMLSemanticError(s,l));}try{t.version=wM(t,s);}catch(l){t.errors.push(l);}i=!0;break;default:if(a){let l=`YAML only supports %TAG and %YAML directives, and not %${a}`;t.warnings.push(new vn.YAMLWarning(s,l));}}o&&r.push(o);}if(n&&!i&&(t.version||n.version||t.options.version)==="1.1"){let s=({handle:o,prefix:a})=>({handle:o,prefix:a});t.tagPrefixes=n.tagPrefixes.map(s),t.version=n.version;}t.commentBefore=r.join(`
`)||null;}function Da(t){if(t instanceof Ne.Collection)return!0;throw new Error("Expected a YAML collection as document contents");}var Ma=class{constructor(e){this.anchors=new Nf(e.anchorPrefix),this.commentBefore=null,this.comment=null,this.contents=null,this.directivesEndMarker=null,this.errors=[],this.options=e,this.schema=null,this.tagPrefixes=[],this.version=null,this.warnings=[];}add(e){return Da(this.contents),this.contents.add(e);}addIn(e,n){Da(this.contents),this.contents.addIn(e,n);}delete(e){return Da(this.contents),this.contents.delete(e);}deleteIn(e){return Ne.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):(Da(this.contents),this.contents.deleteIn(e));}getDefaults(){return Ma.defaults[this.version]||Ma.defaults[this.options.version]||{};}get(e,n){return this.contents instanceof Ne.Collection?this.contents.get(e,n):void 0;}getIn(e,n){return Ne.isEmptyPath(e)?!n&&this.contents instanceof Ne.Scalar?this.contents.value:this.contents:this.contents instanceof Ne.Collection?this.contents.getIn(e,n):void 0;}has(e){return this.contents instanceof Ne.Collection?this.contents.has(e):!1;}hasIn(e){return Ne.isEmptyPath(e)?this.contents!==void 0:this.contents instanceof Ne.Collection?this.contents.hasIn(e):!1;}set(e,n){Da(this.contents),this.contents.set(e,n);}setIn(e,n){Ne.isEmptyPath(e)?this.contents=n:(Da(this.contents),this.contents.setIn(e,n));}setSchema(e,n){if(!e&&!n&&this.schema)return;typeof e=="number"&&(e=e.toFixed(1)),e==="1.0"||e==="1.1"||e==="1.2"?(this.version?this.version=e:this.options.version=e,delete this.options.schema):e&&typeof e=="string"&&(this.options.schema=e),Array.isArray(n)&&(this.options.customTags=n);let r=Object.assign({},this.getDefaults(),this.options);this.schema=new UP.Schema(r);}parse(e,n){this.options.keepCstNodes&&(this.cstNode=e),this.options.keepNodeTypes&&(this.type="DOCUMENT");let{directives:r=[],contents:i=[],directivesEndMarker:s,error:o,valueRange:a}=e;if(o&&(o.source||(o.source=this),this.errors.push(o)),OM(this,r,n),s&&(this.directivesEndMarker=!0),this.range=a?[a.start,a.end]:null,this.setSchema(),this.anchors._cstAliases=[],AM(this,i),this.anchors.resolveNodes(),this.options.prettyErrors){for(let l of this.errors)l instanceof vn.YAMLError&&l.makePretty();for(let l of this.warnings)l instanceof vn.YAMLError&&l.makePretty();}return this;}listNonDefaultTags(){return xM(this.contents).filter(e=>e.indexOf(UP.Schema.defaultPrefix)!==0);}setTagPrefix(e,n){if(e[0]!=="!"||e[e.length-1]!=="!")throw new Error("Handle must start and end with !");if(n){let r=this.tagPrefixes.find(i=>i.handle===e);r?r.prefix=n:this.tagPrefixes.push({handle:e,prefix:n});}else this.tagPrefixes=this.tagPrefixes.filter(r=>r.handle!==e);}toJSON(e,n){let{keepBlobsInJSON:r,mapAsMap:i,maxAliasCount:s}=this.options,o=r&&(typeof e!="string"||!(this.contents instanceof Ne.Scalar)),a={doc:this,indentStep:"  ",keep:o,mapAsMap:o&&!!i,maxAliasCount:s,stringify:vf},l=Object.keys(this.anchors.map);l.length>0&&(a.anchors=new Map(l.map(f=>[this.anchors.map[f],{alias:[],aliasCount:0,count:1}])));let u=Ne.toJSON(this.contents,e,a);if(typeof n=="function"&&a.anchors)for(let{count:f,res:c}of a.anchors.values())n(c,f);return u;}toString(){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");let e=this.options.indent;if(!Number.isInteger(e)||e<=0){let l=JSON.stringify(e);throw new Error(`"indent" option must be a positive integer, not ${l}`);}this.setSchema();let n=[],r=!1;if(this.version){let l="%YAML 1.2";this.schema.name==="yaml-1.1"&&(this.version==="1.0"?l="%YAML:1.0":this.version==="1.1"&&(l="%YAML 1.1")),n.push(l),r=!0;}let i=this.listNonDefaultTags();this.tagPrefixes.forEach(({handle:l,prefix:u})=>{i.some(f=>f.indexOf(u)===0)&&(n.push(`%TAG ${l} ${u}`),r=!0);}),(r||this.directivesEndMarker)&&n.push("---"),this.commentBefore&&((r||!this.directivesEndMarker)&&n.unshift(""),n.unshift(this.commentBefore.replace(/^/gm,"#")));let s={anchors:Object.create(null),doc:this,indent:"",indentStep:" ".repeat(e),stringify:vf},o=!1,a=null;if(this.contents){this.contents instanceof Ne.Node&&(this.contents.spaceBefore&&(r||this.directivesEndMarker)&&n.push(""),this.contents.commentBefore&&n.push(this.contents.commentBefore.replace(/^/gm,"#")),s.forceBlockIndent=!!this.comment,a=this.contents.comment);let l=a?null:()=>o=!0,u=vf(this.contents,s,()=>a=null,l);n.push(Ne.addComment(u,"",a));}else this.contents!==void 0&&n.push(vf(this.contents,s));return this.comment&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(this.comment.replace(/^/gm,"#"))),n.join(`
`)+`
`;}};vn._defineProperty(Ma,"defaults",GP);If.Document=Ma;If.defaultOptions=IM;If.scalarOptions=SM;});var $P=q(KP=>{"use strict";var Um=dP(),fo=HP(),LM=bf(),DM=_s(),MM=mf();Oa();function kM(t,e=!0,n){n===void 0&&typeof e=="string"&&(n=e,e=!0);let r=Object.assign({},fo.Document.defaults[fo.defaultOptions.version],fo.defaultOptions);return new LM.Schema(r).createNode(t,e,n);}var kl=class extends fo.Document{constructor(e){super(Object.assign({},fo.defaultOptions,e));}};function FM(t,e){let n=[],r;for(let i of Um.parse(t)){let s=new kl(e);s.parse(i,r),n.push(s),r=s;}return n;}function YP(t,e){let n=Um.parse(t),r=new kl(e).parse(n[0]);if(n.length>1){let i="Source contains multiple documents; please use YAML.parseAllDocuments()";r.errors.unshift(new DM.YAMLSemanticError(n[1],i));}return r;}function qM(t,e){let n=YP(t,e);if(n.warnings.forEach(r=>MM.warn(r)),n.errors.length>0)throw n.errors[0];return n.toJSON();}function VM(t,e){let n=new kl(e);return n.contents=t,String(n);}var BM={createNode:kM,defaultOptions:fo.defaultOptions,Document:kl,parse:qM,parseAllDocuments:FM,parseCST:Um.parse,parseDocument:YP,scalarOptions:fo.scalarOptions,stringify:VM};KP.YAML=BM;});var hi=q(($Z,zP)=>{zP.exports=$P().YAML;});var XP=q(Nn=>{"use strict";var Kn=Oa(),jM=bf();_s();mf();Nn.Alias=Kn.Alias;Nn.Collection=Kn.Collection;Nn.Merge=Kn.Merge;Nn.Node=Kn.Node;Nn.Pair=Kn.Pair;Nn.Scalar=Kn.Scalar;Nn.YAMLMap=Kn.YAMLMap;Nn.YAMLSeq=Kn.YAMLSeq;Nn.binaryOptions=Kn.binaryOptions;Nn.boolOptions=Kn.boolOptions;Nn.intOptions=Kn.intOptions;Nn.nullOptions=Kn.nullOptions;Nn.strOptions=Kn.strOptions;Nn.Schema=jM.Schema;});var Rh=q((Pe,CS)=>{Pe=CS.exports=qe;var Qe;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?Qe=function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t);}:Qe=function(){};Pe.SEMVER_SPEC_VERSION="2.0.0";var uh=256,Df=Number.MAX_SAFE_INTEGER||9007199254740991,ch=16,tt=Pe.re=[],G=Pe.src=[],Me=0,ja=Me++;G[ja]="0|[1-9]\\d*";var Ua=Me++;G[Ua]="[0-9]+";var fh=Me++;G[fh]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var pS=Me++;G[pS]="("+G[ja]+")\\.("+G[ja]+")\\.("+G[ja]+")";var dS=Me++;G[dS]="("+G[Ua]+")\\.("+G[Ua]+")\\.("+G[Ua]+")";var ph=Me++;G[ph]="(?:"+G[ja]+"|"+G[fh]+")";var dh=Me++;G[dh]="(?:"+G[Ua]+"|"+G[fh]+")";var mh=Me++;G[mh]="(?:-("+G[ph]+"(?:\\."+G[ph]+")*))";var hh=Me++;G[hh]="(?:-?("+G[dh]+"(?:\\."+G[dh]+")*))";var gh=Me++;G[gh]="[0-9A-Za-z-]+";var Yl=Me++;G[Yl]="(?:\\+("+G[gh]+"(?:\\."+G[gh]+")*))";var _h=Me++,mS="v?"+G[pS]+G[mh]+"?"+G[Yl]+"?";G[_h]="^"+mS+"$";var yh="[v=\\s]*"+G[dS]+G[hh]+"?"+G[Yl]+"?",Th=Me++;G[Th]="^"+yh+"$";var Ga=Me++;G[Ga]="((?:<|>)?=?)";var Mf=Me++;G[Mf]=G[Ua]+"|x|X|\\*";var kf=Me++;G[kf]=G[ja]+"|x|X|\\*";var _o=Me++;G[_o]="[v=\\s]*("+G[kf]+")(?:\\.("+G[kf]+")(?:\\.("+G[kf]+")(?:"+G[mh]+")?"+G[Yl]+"?)?)?";var Wa=Me++;G[Wa]="[v=\\s]*("+G[Mf]+")(?:\\.("+G[Mf]+")(?:\\.("+G[Mf]+")(?:"+G[hh]+")?"+G[Yl]+"?)?)?";var hS=Me++;G[hS]="^"+G[Ga]+"\\s*"+G[_o]+"$";var gS=Me++;G[gS]="^"+G[Ga]+"\\s*"+G[Wa]+"$";var _S=Me++;G[_S]="(?:^|[^\\d])(\\d{1,"+ch+"})(?:\\.(\\d{1,"+ch+"}))?(?:\\.(\\d{1,"+ch+"}))?(?:$|[^\\d])";var Ff=Me++;G[Ff]="(?:~>?)";var qf=Me++;G[qf]="(\\s*)"+G[Ff]+"\\s+";tt[qf]=new RegExp(G[qf],"g");var IF="$1~",yS=Me++;G[yS]="^"+G[Ff]+G[_o]+"$";var TS=Me++;G[TS]="^"+G[Ff]+G[Wa]+"$";var Vf=Me++;G[Vf]="(?:\\^)";var Bf=Me++;G[Bf]="(\\s*)"+G[Vf]+"\\s+";tt[Bf]=new RegExp(G[Bf],"g");var SF="$1^",bS=Me++;G[bS]="^"+G[Vf]+G[_o]+"$";var vS=Me++;G[vS]="^"+G[Vf]+G[Wa]+"$";var bh=Me++;G[bh]="^"+G[Ga]+"\\s*("+yh+")$|^$";var vh=Me++;G[vh]="^"+G[Ga]+"\\s*("+mS+")$|^$";var Kl=Me++;G[Kl]="(\\s*)"+G[Ga]+"\\s*("+yh+"|"+G[_o]+")";tt[Kl]=new RegExp(G[Kl],"g");var RF="$1$2$3",NS=Me++;G[NS]="^\\s*("+G[_o]+")\\s+-\\s+("+G[_o]+")\\s*$";var PS=Me++;G[PS]="^\\s*("+G[Wa]+")\\s+-\\s+("+G[Wa]+")\\s*$";var IS=Me++;G[IS]="(<|>)?=?\\s*\\*";for(Rs=0;Rs<Me;Rs++)Qe(Rs,G[Rs]),tt[Rs]||(tt[Rs]=new RegExp(G[Rs]));var Rs;Pe.parse=yo;function yo(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof qe)return t;if(typeof t!="string"||t.length>uh)return null;var n=e.loose?tt[Th]:tt[_h];if(!n.test(t))return null;try{return new qe(t,e);}catch{return null;}}Pe.valid=CF;function CF(t,e){var n=yo(t,e);return n?n.version:null;}Pe.clean=xF;function xF(t,e){var n=yo(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null;}Pe.SemVer=qe;function qe(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof qe){if(t.loose===e.loose)return t;t=t.version;}else if(typeof t!="string")throw new TypeError("Invalid Version: "+t);if(t.length>uh)throw new TypeError("version is longer than "+uh+" characters");if(!(this instanceof qe))return new qe(t,e);Qe("SemVer",t,e),this.options=e,this.loose=!!e.loose;var n=t.trim().match(e.loose?tt[Th]:tt[_h]);if(!n)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Df||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Df||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Df||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(function(r){if(/^[0-9]+$/.test(r)){var i=+r;if(i>=0&&i<Df)return i;}return r;}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format();}qe.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version;};qe.prototype.toString=function(){return this.version;};qe.prototype.compare=function(t){return Qe("SemVer.compare",this.version,this.options,t),t instanceof qe||(t=new qe(t,this.options)),this.compareMain(t)||this.comparePre(t);};qe.prototype.compareMain=function(t){return t instanceof qe||(t=new qe(t,this.options)),Ha(this.major,t.major)||Ha(this.minor,t.minor)||Ha(this.patch,t.patch);};qe.prototype.comparePre=function(t){if(t instanceof qe||(t=new qe(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var n=this.prerelease[e],r=t.prerelease[e];if(Qe("prerelease compare",e,n,r),n===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(n===void 0)return-1;if(n===r)continue;return Ha(n,r);}while(++e);};qe.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e),this.inc("pre",e);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0);}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t);}return this.format(),this.raw=this.version,this;};Pe.inc=AF;function AF(t,e,n,r){typeof n=="string"&&(r=n,n=void 0);try{return new qe(t,n).inc(e,r).version;}catch{return null;}}Pe.diff=EF;function EF(t,e){if(Nh(t,e))return null;var n=yo(t),r=yo(e),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var s="prerelease";}for(var o in n)if((o==="major"||o==="minor"||o==="patch")&&n[o]!==r[o])return i+o;return s;}Pe.compareIdentifiers=Ha;var SS=/^[0-9]+$/;function Ha(t,e){var n=SS.test(t),r=SS.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1;}Pe.rcompareIdentifiers=wF;function wF(t,e){return Ha(e,t);}Pe.major=OF;function OF(t,e){return new qe(t,e).major;}Pe.minor=LF;function LF(t,e){return new qe(t,e).minor;}Pe.patch=DF;function DF(t,e){return new qe(t,e).patch;}Pe.compare=Wi;function Wi(t,e,n){return new qe(t,n).compare(new qe(e,n));}Pe.compareLoose=MF;function MF(t,e){return Wi(t,e,!0);}Pe.rcompare=kF;function kF(t,e,n){return Wi(e,t,n);}Pe.sort=FF;function FF(t,e){return t.sort(function(n,r){return Pe.compare(n,r,e);});}Pe.rsort=qF;function qF(t,e){return t.sort(function(n,r){return Pe.rcompare(n,r,e);});}Pe.gt=$l;function $l(t,e,n){return Wi(t,e,n)>0;}Pe.lt=jf;function jf(t,e,n){return Wi(t,e,n)<0;}Pe.eq=Nh;function Nh(t,e,n){return Wi(t,e,n)===0;}Pe.neq=RS;function RS(t,e,n){return Wi(t,e,n)!==0;}Pe.gte=Ph;function Ph(t,e,n){return Wi(t,e,n)>=0;}Pe.lte=Ih;function Ih(t,e,n){return Wi(t,e,n)<=0;}Pe.cmp=Uf;function Uf(t,e,n,r){switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return Nh(t,n,r);case"!=":return RS(t,n,r);case">":return $l(t,n,r);case">=":return Ph(t,n,r);case"<":return jf(t,n,r);case"<=":return Ih(t,n,r);default:throw new TypeError("Invalid operator: "+e);}}Pe.Comparator=mr;function mr(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof mr){if(t.loose===!!e.loose)return t;t=t.value;}if(!(this instanceof mr))return new mr(t,e);Qe("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===zl?this.value="":this.value=this.operator+this.semver.version,Qe("comp",this);}var zl={};mr.prototype.parse=function(t){var e=this.options.loose?tt[bh]:tt[vh],n=t.match(e);if(!n)throw new TypeError("Invalid comparator: "+t);this.operator=n[1],this.operator==="="&&(this.operator=""),n[2]?this.semver=new qe(n[2],this.options.loose):this.semver=zl;};mr.prototype.toString=function(){return this.value;};mr.prototype.test=function(t){return Qe("Comparator.test",t,this.options.loose),this.semver===zl?!0:(typeof t=="string"&&(t=new qe(t,this.options)),Uf(t,this.operator,this.semver,this.options));};mr.prototype.intersects=function(t,e){if(!(t instanceof mr))throw new TypeError("a Comparator is required");(!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1});var n;if(this.operator==="")return n=new gt(t.value,e),Gf(this.value,n,e);if(t.operator==="")return n=new gt(this.value,e),Gf(t.semver,n,e);var r=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<"),s=this.semver.version===t.semver.version,o=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<="),a=Uf(this.semver,"<",t.semver,e)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"),l=Uf(this.semver,">",t.semver,e)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return r||i||s&&o||a||l;};Pe.Range=gt;function gt(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof gt)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new gt(t.raw,e);if(t instanceof mr)return new gt(t.value,e);if(!(this instanceof gt))return new gt(t,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(function(n){return this.parseRange(n.trim());},this).filter(function(n){return n.length;}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format();}gt.prototype.format=function(){return this.range=this.set.map(function(t){return t.join(" ").trim();}).join("||").trim(),this.range;};gt.prototype.toString=function(){return this.range;};gt.prototype.parseRange=function(t){var e=this.options.loose;t=t.trim();var n=e?tt[PS]:tt[NS];t=t.replace(n,$F),Qe("hyphen replace",t),t=t.replace(tt[Kl],RF),Qe("comparator trim",t,tt[Kl]),t=t.replace(tt[qf],IF),t=t.replace(tt[Bf],SF),t=t.split(/\s+/).join(" ");var r=e?tt[bh]:tt[vh],i=t.split(" ").map(function(s){return BF(s,this.options);},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(s){return!!s.match(r);})),i=i.map(function(s){return new mr(s,this.options);},this),i;};gt.prototype.intersects=function(t,e){if(!(t instanceof gt))throw new TypeError("a Range is required");return this.set.some(function(n){return n.every(function(r){return t.set.some(function(i){return i.every(function(s){return r.intersects(s,e);});});});});};Pe.toComparators=VF;function VF(t,e){return new gt(t,e).set.map(function(n){return n.map(function(r){return r.value;}).join(" ").trim().split(" ");});}function BF(t,e){return Qe("comp",t,e),t=GF(t,e),Qe("caret",t),t=jF(t,e),Qe("tildes",t),t=HF(t,e),Qe("xrange",t),t=KF(t,e),Qe("stars",t),t;}function Sn(t){return!t||t.toLowerCase()==="x"||t==="*";}function jF(t,e){return t.trim().split(/\s+/).map(function(n){return UF(n,e);}).join(" ");}function UF(t,e){var n=e.loose?tt[TS]:tt[yS];return t.replace(n,function(r,i,s,o,a){Qe("tilde",t,r,i,s,o,a);var l;return Sn(i)?l="":Sn(s)?l=">="+i+".0.0 <"+(+i+1)+".0.0":Sn(o)?l=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":a?(Qe("replaceTilde pr",a),l=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+(+s+1)+".0"):l=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0",Qe("tilde return",l),l;});}function GF(t,e){return t.trim().split(/\s+/).map(function(n){return WF(n,e);}).join(" ");}function WF(t,e){Qe("caret",t,e);var n=e.loose?tt[vS]:tt[bS];return t.replace(n,function(r,i,s,o,a){Qe("caret",t,r,i,s,o,a);var l;return Sn(i)?l="":Sn(s)?l=">="+i+".0.0 <"+(+i+1)+".0.0":Sn(o)?i==="0"?l=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":l=">="+i+"."+s+".0 <"+(+i+1)+".0.0":a?(Qe("replaceCaret pr",a),i==="0"?s==="0"?l=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+s+"."+(+o+1):l=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+(+s+1)+".0":l=">="+i+"."+s+"."+o+"-"+a+" <"+(+i+1)+".0.0"):(Qe("no pr"),i==="0"?s==="0"?l=">="+i+"."+s+"."+o+" <"+i+"."+s+"."+(+o+1):l=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0":l=">="+i+"."+s+"."+o+" <"+(+i+1)+".0.0"),Qe("caret return",l),l;});}function HF(t,e){return Qe("replaceXRanges",t,e),t.split(/\s+/).map(function(n){return YF(n,e);}).join(" ");}function YF(t,e){t=t.trim();var n=e.loose?tt[gS]:tt[hS];return t.replace(n,function(r,i,s,o,a,l){Qe("xRange",t,r,i,s,o,a,l);var u=Sn(s),f=u||Sn(o),c=f||Sn(a),d=c;return i==="="&&d&&(i=""),u?i===">"||i==="<"?r="<0.0.0":r="*":i&&d?(f&&(o=0),a=0,i===">"?(i=">=",f?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",f?s=+s+1:o=+o+1),r=i+s+"."+o+"."+a):f?r=">="+s+".0.0 <"+(+s+1)+".0.0":c&&(r=">="+s+"."+o+".0 <"+s+"."+(+o+1)+".0"),Qe("xRange return",r),r;});}function KF(t,e){return Qe("replaceStars",t,e),t.trim().replace(tt[IS],"");}function $F(t,e,n,r,i,s,o,a,l,u,f,c,d){return Sn(n)?e="":Sn(r)?e=">="+n+".0.0":Sn(i)?e=">="+n+"."+r+".0":e=">="+e,Sn(l)?a="":Sn(u)?a="<"+(+l+1)+".0.0":Sn(f)?a="<"+l+"."+(+u+1)+".0":c?a="<="+l+"."+u+"."+f+"-"+c:a="<="+a,(e+" "+a).trim();}gt.prototype.test=function(t){if(!t)return!1;typeof t=="string"&&(t=new qe(t,this.options));for(var e=0;e<this.set.length;e++)if(zF(this.set[e],t,this.options))return!0;return!1;};function zF(t,e,n){for(var r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(r=0;r<t.length;r++)if(Qe(t[r].semver),t[r].semver!==zl&&t[r].semver.prerelease.length>0){var i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0;}return!1;}return!0;}Pe.satisfies=Gf;function Gf(t,e,n){try{e=new gt(e,n);}catch{return!1;}return e.test(t);}Pe.maxSatisfying=XF;function XF(t,e,n){var r=null,i=null;try{var s=new gt(e,n);}catch{return null;}return t.forEach(function(o){s.test(o)&&(!r||i.compare(o)===-1)&&(r=o,i=new qe(r,n));}),r;}Pe.minSatisfying=QF;function QF(t,e,n){var r=null,i=null;try{var s=new gt(e,n);}catch{return null;}return t.forEach(function(o){s.test(o)&&(!r||i.compare(o)===1)&&(r=o,i=new qe(r,n));}),r;}Pe.minVersion=JF;function JF(t,e){t=new gt(t,e);var n=new qe("0.0.0");if(t.test(n)||(n=new qe("0.0.0-0"),t.test(n)))return n;n=null;for(var r=0;r<t.set.length;++r){var i=t.set[r];i.forEach(function(s){var o=new qe(s.semver.version);switch(s.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!n||$l(n,o))&&(n=o);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+s.operator);}});}return n&&t.test(n)?n:null;}Pe.validRange=ZF;function ZF(t,e){try{return new gt(t,e).range||"*";}catch{return null;}}Pe.ltr=eq;function eq(t,e,n){return Sh(t,e,"<",n);}Pe.gtr=tq;function tq(t,e,n){return Sh(t,e,">",n);}Pe.outside=Sh;function Sh(t,e,n,r){t=new qe(t,r),e=new gt(e,r);var i,s,o,a,l;switch(n){case">":i=$l,s=Ih,o=jf,a=">",l=">=";break;case"<":i=jf,s=Ph,o=$l,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"');}if(Gf(t,e,r))return!1;for(var u=0;u<e.set.length;++u){var f=e.set[u],c=null,d=null;if(f.forEach(function(p){p.semver===zl&&(p=new mr(">=0.0.0")),c=c||p,d=d||p,i(p.semver,c.semver,r)?c=p:o(p.semver,d.semver,r)&&(d=p);}),c.operator===a||c.operator===l||(!d.operator||d.operator===a)&&s(t,d.semver))return!1;if(d.operator===l&&o(t,d.semver))return!1;}return!0;}Pe.prerelease=nq;function nq(t,e){var n=yo(t,e);return n&&n.prerelease.length?n.prerelease:null;}Pe.intersects=rq;function rq(t,e,n){return t=new gt(t,n),e=new gt(e,n),t.intersects(e);}Pe.coerce=iq;function iq(t){if(t instanceof qe)return t;if(typeof t!="string")return null;var e=t.match(tt[_S]);return e==null?null:yo(e[1]+"."+(e[2]||"0")+"."+(e[3]||"0"));}});var Hf=q((One,DS)=>{"use strict";function Kt(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[];}Kt.prototype.clone_empty=function(){var t=new Kt(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t;};Kt.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t];};Kt.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1;};Kt.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count));};Kt.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count);};Kt.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count;};Kt.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,t.__items[0]===" "&&(t.__items.splice(0,1),t.__character_count-=1),!0;}return!1;};Kt.prototype.is_empty=function(){return this.__items.length===0;};Kt.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1];};Kt.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf(`
`);e!==-1?this.__character_count=t.length-e:this.__character_count+=t.length;};Kt.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t;};Kt.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size);};Kt.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1);};Kt.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1;};Kt.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t;};function Xl(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length;}Xl.prototype.get_indent_size=function(t,e){var n=this.__base_string_length;return e=e||0,t<0&&(n=0),n+=t*this.__indent_size,n+=e,n;};Xl.prototype.get_indent_string=function(t,e){var n=this.__base_string;return e=e||0,t<0&&(t=0,n=""),e+=t*this.__indent_size,this.__ensure_cache(e),n+=this.__cache[e],n;};Xl.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column();};Xl.prototype.__add_column=function(){var t=this.__cache.length,e=0,n="";this.__indent_size&&t>=this.__indent_size&&(e=Math.floor(t/this.__indent_size),t-=e*this.__indent_size,n=new Array(e+1).join(this.__indent_string)),t&&(n+=new Array(t+1).join(" ")),this.__cache.push(n);};function $t(t,e){this.__indent_cache=new Xl(t,e),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new Kt(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline();}$t.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line);};$t.prototype.get_line_number=function(){return this.__lines.length;};$t.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e);};$t.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e);};$t.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty();};$t.prototype.add_new_line=function(t){return this.is_empty()||!t&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0);};$t.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&(e[e.length-1]===`
`&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join(`
`);return t!==`
`&&(n=n.replace(/[\n]/g,t)),n;};$t.prototype.set_wrap_point=function(){this.current_line._set_wrap_point();};$t.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1);};$t.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1;};$t.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap();};$t.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "));};$t.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent();};$t.prototype.trim=function(t){for(t=t===void 0?!1:t,this.current_line.trim();t&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null;};$t.prototype.just_added_newline=function(){return this.current_line.is_empty();};$t.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty();};$t.prototype.ensure_empty_line_above=function(t,e){for(var n=this.__lines.length-2;n>=0;){var r=this.__lines[n];if(r.is_empty())break;if(r.item(0).indexOf(t)!==0&&r.item(-1)!==e){this.__lines.splice(n+1,0,new Kt(this)),this.previous_line=this.__lines[this.__lines.length-2];break;}n--;}};DS.exports.Output=$t;});var Oh=q((Lne,MS)=>{"use strict";function uq(t,e,n,r){this.type=t,this.text=e,this.comments_before=null,this.newlines=n||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null;}MS.exports.Token=uq;});var Dh=q(Hi=>{"use strict";var cq="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",kS="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",Lh="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",FS="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",qS="(?:\\\\u[0-9a-fA-F]{4}|["+cq+Lh+"])",fq="(?:\\\\u[0-9a-fA-F]{4}|["+kS+Lh+FS+"])*";Hi.identifier=new RegExp(qS+fq,"g");Hi.identifierStart=new RegExp(qS);Hi.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+kS+Lh+FS+"])+");Hi.newline=/[\n\r\u2028\u2029]/;Hi.lineBreak=new RegExp(`\r
|`+Hi.newline.source);Hi.allLineBreaks=new RegExp(Hi.lineBreak.source,"g");});var Kf=q((Mne,Yf)=>{"use strict";function xs(t,e){this.raw_options=VS(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"]);}xs.prototype._get_array=function(t,e){var n=this.raw_options[t],r=e||[];return typeof n=="object"?n!==null&&typeof n.concat=="function"&&(r=n.concat()):typeof n=="string"&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r;};xs.prototype._get_boolean=function(t,e){var n=this.raw_options[t],r=n===void 0?!!e:!!n;return r;};xs.prototype._get_characters=function(t,e){var n=this.raw_options[t],r=e||"";return typeof n=="string"&&(r=n.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),r;};xs.prototype._get_number=function(t,e){var n=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var r=parseInt(n,10);return isNaN(r)&&(r=e),r;};xs.prototype._get_selection=function(t,e,n){var r=this._get_selection_list(t,e,n);if(r.length!==1)throw new Error("Invalid Option Value: The option '"+t+`' can only be one of the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return r[0];};xs.prototype._get_selection_list=function(t,e,n){if(!e||e.length===0)throw new Error("Selection list cannot be empty.");if(n=n||[e[0]],!this._is_valid_selection(n,e))throw new Error("Invalid Default Value!");var r=this._get_array(t,n);if(!this._is_valid_selection(r,e))throw new Error("Invalid Option Value: The option '"+t+`' can contain only the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return r;};xs.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some(function(n){return e.indexOf(n)===-1;});};function VS(t,e){var n={};t=BS(t);var r;for(r in t)r!==e&&(n[r]=t[r]);if(e&&t[e])for(r in t[e])n[r]=t[e][r];return n;}function BS(t){var e={},n;for(n in t){var r=n.replace(/-/g,"_");e[r]=t[n];}return e;}Yf.exports.Options=xs;Yf.exports.normalizeOpts=BS;Yf.exports.mergeOpts=VS;});var Mh=q((kne,GS)=>{"use strict";var jS=Kf().Options,pq=["before-newline","after-newline","preserve-newline"];function US(t){jS.call(this,t,"js");var e=this.raw_options.brace_style||null;e==="expand-strict"?this.raw_options.brace_style="expand":e==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var r=0;r<n.length;r++)n[r]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=n[r];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",pq),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0);}US.prototype=new jS;GS.exports.Options=US;});var $f=q((Fne,HS)=>{"use strict";var WS=RegExp.prototype.hasOwnProperty("sticky");function sn(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0;}sn.prototype.restart=function(){this.__position=0;};sn.prototype.back=function(){this.__position>0&&(this.__position-=1);};sn.prototype.hasNext=function(){return this.__position<this.__input_length;};sn.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t;};sn.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e;};sn.prototype.__match=function(t,e){t.lastIndex=e;var n=t.exec(this.__input);return n&&!(WS&&t.sticky)&&n.index!==e&&(n=null),n;};sn.prototype.test=function(t,e){return e=e||0,e+=this.__position,e>=0&&e<this.__input_length?!!this.__match(t,e):!1;};sn.prototype.testChar=function(t,e){var n=this.peek(e);return t.lastIndex=0,n!==null&&t.test(n);};sn.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e;};sn.prototype.read=function(t,e,n){var r="",i;return t&&(i=this.match(t),i&&(r+=i[0])),e&&(i||!t)&&(r+=this.readUntil(e,n)),r;};sn.prototype.readUntil=function(t,e){var n="",r=this.__position;t.lastIndex=this.__position;var i=t.exec(this.__input);return i?(r=i.index,e&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n;};sn.prototype.readUntilAfter=function(t){return this.readUntil(t,!0);};sn.prototype.get_regexp=function(t,e){var n=null,r="g";return e&&WS&&(r="y"),typeof t=="string"&&t!==""?n=new RegExp(t,r):t&&(n=new RegExp(t.source,r)),n;};sn.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));};sn.prototype.peekUntilAfter=function(t){var e=this.__position,n=this.readUntilAfter(t);return this.__position=e,n;};sn.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t;};HS.exports.InputScanner=sn;});var KS=q((qne,YS)=>{"use strict";function To(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t;}To.prototype.restart=function(){this.__position=0;};To.prototype.isEmpty=function(){return this.__tokens_length===0;};To.prototype.hasNext=function(){return this.__position<this.__tokens_length;};To.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t;};To.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__tokens_length&&(e=this.__tokens[t]),e;};To.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1;};YS.exports.TokenStream=To;});var Ql=q((Vne,$S)=>{"use strict";function _i(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after);}_i.prototype.read=function(){var t=this._input.read(this._starting_pattern);return(!this._starting_pattern||t)&&(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t;};_i.prototype.read_match=function(){return this._input.match(this._match_pattern);};_i.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e;};_i.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e;};_i.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e;};_i.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e;};_i.prototype._create=function(){return new _i(this._input,this);};_i.prototype._update=function(){};$S.exports.Pattern=_i;});var QS=q((Bne,XS)=>{"use strict";var zS=Ql().Pattern;function As(t,e){zS.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token="";}As.prototype=new zS;As.prototype.__set_whitespace_patterns=function(t,e){t+="\\t ",e+="\\n\\r",this._match_pattern=this._input.get_regexp("["+t+e+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]");};As.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(t===" ")this.whitespace_before_token=" ";else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1,this.whitespace_before_token=e[this.newline_count];}return t;};As.prototype.matching=function(t,e){var n=this._create();return n.__set_whitespace_patterns(t,e),n._update(),n;};As.prototype._create=function(){return new As(this._input,this);};As.prototype.__split=function(t,e){t.lastIndex=0;for(var n=0,r=[],i=t.exec(e);i;)r.push(e.substring(n,i.index)),n=i.index+i[0].length,i=t.exec(e);return n<e.length?r.push(e.substring(n,e.length)):r.push(""),r;};XS.exports.WhitespacePattern=As;});var Zl=q((jne,Fh)=>{"use strict";var dq=$f().InputScanner,JS=Oh().Token,kh=KS().TokenStream,mq=QS().WhitespacePattern,Jl={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},yi=function(t,e){this._input=new dq(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new mq(this._input);};yi.prototype.tokenize=function(){this._input.restart(),this.__tokens=new kh,this._reset();for(var t,e=new JS(Jl.START,""),n=null,r=[],i=new kh;e.type!==Jl.EOF;){for(t=this._get_next_token(e,n);this._is_comment(t);)i.add(t),t=this._get_next_token(e,n);i.isEmpty()||(t.comments_before=i,i=new kh),t.parent=n,this._is_opening(t)?(r.push(n),n=t):n&&this._is_closing(t,n)&&(t.opened=n,n.closed=t,n=r.pop(),t.parent=n),t.previous=e,e.next=t,this.__tokens.add(t),e=t;}return this.__tokens;};yi.prototype._is_first_token=function(){return this.__tokens.isEmpty();};yi.prototype._reset=function(){};yi.prototype._get_next_token=function(t,e){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(Jl.RAW,n):this._create_token(Jl.EOF,"");};yi.prototype._is_comment=function(t){return!1;};yi.prototype._is_opening=function(t){return!1;};yi.prototype._is_closing=function(t,e){return!1;};yi.prototype._create_token=function(t,e){var n=new JS(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return n;};yi.prototype._readWhitespace=function(){return this._patterns.whitespace.read();};Fh.exports.Tokenizer=yi;Fh.exports.TOKEN=Jl;});var zf=q((Une,ZS)=>{"use strict";function qh(t,e){t=typeof t=="string"?t:t.source,e=typeof e=="string"?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g");}qh.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(t);n;)e[n[1]]=n[2],n=this.__directive_pattern.exec(t);return e;};qh.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern);};ZS.exports.Directives=qh;});var jh=q((Gne,eR)=>{"use strict";var Vh=Ql().Pattern,Bh={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function Jr(t,e){Vh.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},Bh),this._excluded=Object.assign({},Bh),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var n=new Vh(t);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/),smarty:n.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:n.starting_with(/{\*/).until_after(/\*}/),smarty_literal:n.starting_with(/{literal}/).until_after(/{\/literal}/)};}Jr.prototype=new Vh;Jr.prototype._create=function(){return new Jr(this._input,this);};Jr.prototype._update=function(){this.__set_templated_pattern();};Jr.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e;};Jr.prototype.read_options=function(t){var e=this._create();for(var n in Bh)e._disabled[n]=t.templating.indexOf(n)===-1;return e._update(),e;};Jr.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e;};Jr.prototype.read=function(){var t="";this._match_pattern?t=this._input.read(this._starting_pattern):t=this._input.read(this._starting_pattern,this.__template_pattern);for(var e=this._read_template();e;)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t;};Jr.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||t.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")");};Jr.prototype._read_template=function(){var t="",e=this._input.peek();if(e==="<"){var n=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&n==="?"&&(t=t||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&n==="%"&&(t=t||this.__patterns.erb.read());}else e==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(t=t||this.__patterns.handlebars_comment.read(),t=t||this.__patterns.handlebars_unescaped.read(),t=t||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(t=t||this.__patterns.django_value.read()),this._excluded.django||(t=t||this.__patterns.django_comment.read(),t=t||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(t=t||this.__patterns.smarty_comment.read(),t=t||this.__patterns.smarty_literal.read(),t=t||this.__patterns.smarty.read()));return t;};eR.exports.TemplatablePattern=Jr;});var tu=q((Wne,eu)=>{"use strict";var hq=$f().InputScanner,tR=Zl().Tokenizer,Uh=Zl().TOKEN,gq=zf().Directives,hr=Dh(),_q=Ql().Pattern,yq=jh().TemplatablePattern;function Gh(t,e){return e.indexOf(t)!==-1;}var de={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:Uh.START,RAW:Uh.RAW,EOF:Uh.EOF},nR=new gq(/\/\*/,/\*\//),Tq=/0[xX][0123456789abcdefABCDEF]*|0[oO][01234567]*|0[bB][01]*|\d+n|(?:\.\d+|\d+\.?\d*)(?:[eE][+-]?\d+)?/,bq=/[0-9]/,vq=/[^\d\.]/,Nq=">>> === !== << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),bo=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";bo=bo.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");bo="\\?\\.(?!\\d) "+bo;bo=bo.replace(/ /g,"|");var Pq=new RegExp(bo),rR="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),Iq=rR.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),Sq=new RegExp("^(?:"+Iq.join("|")+")$"),Xf,on=function(t,e){tR.call(this,t,e),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var n=new _q(this._input),r=new yq(this._input).read_options(this._options);this.__patterns={template:r,identifier:r.starting_with(hr.identifier).matching(hr.identifierMatch),number:n.matching(Tq),punct:n.matching(Pq),comment:n.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:n.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:n.matching(/<!--/),html_comment_end:n.matching(/-->/),include:n.starting_with(/#include/).until_after(hr.lineBreak),shebang:n.starting_with(/#!/).until_after(hr.lineBreak),xml:n.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\]|)(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:r.until(/['\\\n\r\u2028\u2029]/),double_quote:r.until(/["\\\n\r\u2028\u2029]/),template_text:r.until(/[`\\$]/),template_expression:r.until(/[`}\\]/)};};on.prototype=new tR;on.prototype._is_comment=function(t){return t.type===de.COMMENT||t.type===de.BLOCK_COMMENT||t.type===de.UNKNOWN;};on.prototype._is_opening=function(t){return t.type===de.START_BLOCK||t.type===de.START_EXPR;};on.prototype._is_closing=function(t,e){return(t.type===de.END_BLOCK||t.type===de.END_EXPR)&&e&&(t.text==="]"&&e.text==="["||t.text===")"&&e.text==="("||t.text==="}"&&e.text==="{");};on.prototype._reset=function(){Xf=!1;};on.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(de.EOF,""):(n=n||this._read_non_javascript(r),n=n||this._read_string(r),n=n||this._read_word(t),n=n||this._read_singles(r),n=n||this._read_comment(r),n=n||this._read_regexp(r,t),n=n||this._read_xml(r,t),n=n||this._read_punctuation(),n=n||this._create_token(de.UNKNOWN,this._input.next()),n);};on.prototype._read_word=function(t){var e;if(e=this.__patterns.identifier.read(),e!=="")return e=e.replace(hr.allLineBreaks,`
`),!(t.type===de.DOT||t.type===de.RESERVED&&(t.text==="set"||t.text==="get"))&&Sq.test(e)?e==="in"||e==="of"?this._create_token(de.OPERATOR,e):this._create_token(de.RESERVED,e):this._create_token(de.WORD,e);if(e=this.__patterns.number.read(),e!=="")return this._create_token(de.WORD,e);};on.prototype._read_singles=function(t){var e=null;return t==="("||t==="["?e=this._create_token(de.START_EXPR,t):t===")"||t==="]"?e=this._create_token(de.END_EXPR,t):t==="{"?e=this._create_token(de.START_BLOCK,t):t==="}"?e=this._create_token(de.END_BLOCK,t):t===";"?e=this._create_token(de.SEMICOLON,t):t==="."&&vq.test(this._input.peek(1))?e=this._create_token(de.DOT,t):t===","&&(e=this._create_token(de.COMMA,t)),e&&this._input.next(),e;};on.prototype._read_punctuation=function(){var t=this.__patterns.punct.read();if(t!=="")return t==="="?this._create_token(de.EQUALS,t):t==="?."?this._create_token(de.DOT,t):this._create_token(de.OPERATOR,t);};on.prototype._read_non_javascript=function(t){var e="";if(t==="#"){if(this._is_first_token()&&(e=this.__patterns.shebang.read(),e))return this._create_token(de.UNKNOWN,e.trim()+`
`);if(e=this.__patterns.include.read(),e)return this._create_token(de.UNKNOWN,e.trim()+`
`);t=this._input.next();var n="#";if(this._input.hasNext()&&this._input.testChar(bq)){do t=this._input.next(),n+=t;while(this._input.hasNext()&&t!=="#"&&t!=="=");return t==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(n+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(n+="{}",this._input.next(),this._input.next())),this._create_token(de.WORD,n);}this._input.back();}else if(t==="<"&&this._is_first_token()){if(e=this.__patterns.html_comment_start.read(),e){for(;this._input.hasNext()&&!this._input.testChar(hr.newline);)e+=this._input.next();return Xf=!0,this._create_token(de.COMMENT,e);}}else if(Xf&&t==="-"&&(e=this.__patterns.html_comment_end.read(),e))return Xf=!1,this._create_token(de.COMMENT,e);return null;};on.prototype._read_comment=function(t){var e=null;if(t==="/"){var n="";if(this._input.peek(1)==="*"){n=this.__patterns.block_comment.read();var r=nR.get_directives(n);r&&r.ignore==="start"&&(n+=nR.readIgnored(this._input)),n=n.replace(hr.allLineBreaks,`
`),e=this._create_token(de.BLOCK_COMMENT,n),e.directives=r;}else this._input.peek(1)==="/"&&(n=this.__patterns.comment.read(),e=this._create_token(de.COMMENT,n));}return e;};on.prototype._read_string=function(t){if(t==="`"||t==="'"||t==='"'){var e=this._input.next();return this.has_char_escapes=!1,t==="`"?e+=this._read_string_recursive("`",!0,"${"):e+=this._read_string_recursive(t),this.has_char_escapes&&this._options.unescape_strings&&(e=Rq(e)),this._input.peek()===t&&(e+=this._input.next()),e=e.replace(hr.allLineBreaks,`
`),this._create_token(de.STRING,e);}return null;};on.prototype._allow_regexp_or_xml=function(t){return t.type===de.RESERVED&&Gh(t.text,["return","case","throw","else","do","typeof","yield"])||t.type===de.END_EXPR&&t.text===")"&&t.opened.previous.type===de.RESERVED&&Gh(t.opened.previous.text,["if","while","for"])||Gh(t.type,[de.COMMENT,de.START_EXPR,de.START_BLOCK,de.START,de.END_BLOCK,de.OPERATOR,de.EQUALS,de.EOF,de.SEMICOLON,de.COMMA]);};on.prototype._read_regexp=function(t,e){if(t==="/"&&this._allow_regexp_or_xml(e)){for(var n=this._input.next(),r=!1,i=!1;this._input.hasNext()&&(r||i||this._input.peek()!==t)&&!this._input.testChar(hr.newline);)n+=this._input.peek(),r?r=!1:(r=this._input.peek()==="\\",this._input.peek()==="["?i=!0:this._input.peek()==="]"&&(i=!1)),this._input.next();return this._input.peek()===t&&(n+=this._input.next(),n+=this._input.read(hr.identifier)),this._create_token(de.STRING,n);}return null;};on.prototype._read_xml=function(t,e){if(this._options.e4x&&t==="<"&&this._allow_regexp_or_xml(e)){var n="",r=this.__patterns.xml.read_match();if(r){for(var i=r[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),s=i.indexOf("{")===0,o=0;r;){var a=!!r[1],l=r[2],u=!!r[r.length-1]||l.slice(0,8)==="![CDATA[";if(!u&&(l===i||s&&l.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(a?--o:++o),n+=r[0],o<=0)break;r=this.__patterns.xml.read_match();}return r||(n+=this._input.match(/[\s\S]*/g)[0]),n=n.replace(hr.allLineBreaks,`
`),this._create_token(de.STRING,n);}}return null;};function Rq(t){for(var e="",n=0,r=new hq(t),i=null;r.hasNext();)if(i=r.match(/([\s]|[^\\]|\\\\)+/g),i&&(e+=i[0]),r.peek()==="\\"){if(r.next(),r.peek()==="x")i=r.match(/x([0-9A-Fa-f]{2})/g);else if(r.peek()==="u")i=r.match(/u([0-9A-Fa-f]{4})/g);else{e+="\\",r.hasNext()&&(e+=r.next());continue;}if(!i||(n=parseInt(i[1],16),n>126&&n<=255&&i[0].indexOf("x")===0))return t;if(n>=0&&n<32){e+="\\"+i[0];continue;}else n===34||n===39||n===92?e+="\\"+String.fromCharCode(n):e+=String.fromCharCode(n);}return e;}on.prototype._read_string_recursive=function(t,e,n){var r,i;t==="'"?i=this.__patterns.single_quote:t==='"'?i=this.__patterns.double_quote:t==="`"?i=this.__patterns.template_text:t==="}"&&(i=this.__patterns.template_expression);for(var s=i.read(),o="";this._input.hasNext();){if(o=this._input.next(),o===t||!e&&hr.newline.test(o)){this._input.back();break;}else o==="\\"&&this._input.hasNext()?(r=this._input.peek(),r==="x"||r==="u"?this.has_char_escapes=!0:r==="\r"&&this._input.peek(1)===`
`&&this._input.next(),o+=this._input.next()):n&&(n==="${"&&o==="$"&&this._input.peek()==="{"&&(o+=this._input.next()),n===o&&(t==="`"?o+=this._read_string_recursive("}",e,"`"):o+=this._read_string_recursive("`",e,"${"),this._input.hasNext()&&(o+=this._input.next())));o+=i.read(),s+=o;}return s;};eu.exports.Tokenizer=on;eu.exports.TOKEN=de;eu.exports.positionable_operators=Nq.slice();eu.exports.line_starters=rR.slice();});var aR=q((Hne,oR)=>{"use strict";var Cq=Hf().Output,xq=Oh().Token,Qf=Dh(),Aq=Mh().Options,Eq=tu().Tokenizer,nu=tu().line_starters,ru=tu().positionable_operators,F=tu().TOKEN;function De(t,e){return e.indexOf(t)!==-1;}function wq(t){return t.replace(/^\s+/g,"");}function Oq(t){for(var e={},n=0;n<t.length;n++)e[t[n].replace(/-/g,"_")]=t[n];return e;}function gr(t,e){return t&&t.type===F.RESERVED&&t.text===e;}function it(t,e){return t&&t.type===F.RESERVED&&De(t.text,e);}var Jf=["case","return","do","if","throw","else","await","break","continue","async"],Lq=["before-newline","after-newline","preserve-newline"],iu=Oq(Lq),iR=[iu.before_newline,iu.preserve_newline],me={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function sR(t,e){e.multiline_frame||e.mode===me.ForInitializer||e.mode===me.Conditional||t.remove_indent(e.start_line_index);}function Dq(t){t=t.replace(Qf.allLineBreaks,`
`);for(var e=[],n=t.indexOf(`
`);n!==-1;)e.push(t.substring(0,n)),t=t.substring(n+1),n=t.indexOf(`
`);return t.length&&e.push(t),e;}function Es(t){return t===me.ArrayLiteral;}function su(t){return De(t,[me.Expression,me.ForInitializer,me.Conditional]);}function Mq(t,e){for(var n=0;n<t.length;n++){var r=t[n].trim();if(r.charAt(0)!==e)return!1;}return!0;}function kq(t,e){for(var n=0,r=t.length,i;n<r;n++)if(i=t[n],i&&i.indexOf(e)!==0)return!1;return!0;}function We(t,e){e=e||{},this._source_text=t||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new Aq(e);}We.prototype.create_flags=function(t,e){var n=0;t&&(n=t.indentation_level,!this._output.just_added_newline()&&t.line_indent_level>n&&(n=t.line_indent_level));var r={mode:e,parent:t,last_token:t?t.last_token:new xq(F.START_BLOCK,""),last_word:t?t.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,alignment:0,line_indent_level:t?t.line_indent_level:n,start_line_index:this._output.get_line_number(),ternary_depth:0};return r;};We.prototype._reset=function(t){var e=t.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new Cq(this._options,e),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(me.BlockStatement);var n=new Eq(t,this._options);return this._tokens=n.tokenize(),t;};We.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t,e=this._reset(this._source_text),n=this._options.eol;this._options.eol==="auto"&&(n=`
`,e&&Qf.lineBreak.test(e||"")&&(n=e.match(Qf.lineBreak)[0]));for(var r=this._tokens.next();r;)this.handle_token(r),this._last_last_text=this._flags.last_token.text,this._flags.last_token=r,r=this._tokens.next();return t=this._output.get_code(n),t;};We.prototype.handle_token=function(t,e){t.type===F.START_EXPR?this.handle_start_expr(t):t.type===F.END_EXPR?this.handle_end_expr(t):t.type===F.START_BLOCK?this.handle_start_block(t):t.type===F.END_BLOCK?this.handle_end_block(t):t.type===F.WORD?this.handle_word(t):t.type===F.RESERVED?this.handle_word(t):t.type===F.SEMICOLON?this.handle_semicolon(t):t.type===F.STRING?this.handle_string(t):t.type===F.EQUALS?this.handle_equals(t):t.type===F.OPERATOR?this.handle_operator(t):t.type===F.COMMA?this.handle_comma(t):t.type===F.BLOCK_COMMENT?this.handle_block_comment(t,e):t.type===F.COMMENT?this.handle_comment(t,e):t.type===F.DOT?this.handle_dot(t):t.type===F.EOF?this.handle_eof(t):t.type===F.UNKNOWN?this.handle_unknown(t,e):this.handle_unknown(t,e);};We.prototype.handle_whitespace_and_comments=function(t,e){var n=t.newlines,r=this._options.keep_array_indentation&&Es(this._flags.mode);if(t.comments_before)for(var i=t.comments_before.next();i;)this.handle_whitespace_and_comments(i,e),this.handle_token(i,e),i=t.comments_before.next();if(r)for(var s=0;s<n;s+=1)this.print_newline(s>0,e);else if(this._options.max_preserve_newlines&&n>this._options.max_preserve_newlines&&(n=this._options.max_preserve_newlines),this._options.preserve_newlines&&n>1){this.print_newline(!1,e);for(var o=1;o<n;o+=1)this.print_newline(!0,e);}};var Wh=["async","break","continue","return","throw","yield"];We.prototype.allow_wrap_or_preserved_newline=function(t,e){if(e=e===void 0?!1:e,!this._output.just_added_newline()){var n=this._options.preserve_newlines&&t.newlines||e,r=De(this._flags.last_token.text,ru)||De(t.text,ru);if(r){var i=De(this._flags.last_token.text,ru)&&De(this._options.operator_position,iR)||De(t.text,ru);n=n&&i;}if(n)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(it(this._flags.last_token,Wh))return;this._output.set_wrap_point();}}};We.prototype.print_newline=function(t,e){if(!e&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==F.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var n=this._tokens.peek();this._flags.mode===me.Statement&&!(this._flags.if_block&&gr(n,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(t)&&(this._flags.multiline_frame=!0);};We.prototype.print_token_line_indentation=function(t){this._output.just_added_newline()&&(this._options.keep_array_indentation&&t.newlines&&(t.text==="["||Es(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(t.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level));};We.prototype.print_token=function(t){if(this._output.raw){this._output.add_raw_token(t);return;}if(this._options.comma_first&&t.previous&&t.previous.type===F.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var e=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(e),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(t),this._output.add_token(","),this._output.space_before_token=!0;}this.print_token_line_indentation(t),this._output.non_breaking_space=!0,this._output.add_token(t.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0);};We.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment);};We.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment));};We.prototype.set_mode=function(t){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,t),this._flags=this.create_flags(this._previous_flags,t),this._output.set_indent(this._flags.indentation_level,this._flags.alignment);};We.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===me.Statement&&sR(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment));};We.prototype.start_of_object_property=function(){return this._flags.parent.mode===me.ObjectLiteral&&this._flags.mode===me.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||it(this._flags.last_token,["get","set"]));};We.prototype.start_of_statement=function(t){var e=!1;return e=e||it(this._flags.last_token,["var","let","const"])&&t.type===F.WORD,e=e||gr(this._flags.last_token,"do"),e=e||!(this._flags.parent.mode===me.ObjectLiteral&&this._flags.mode===me.Statement)&&it(this._flags.last_token,Wh)&&!t.newlines,e=e||gr(this._flags.last_token,"else")&&!(gr(t,"if")&&!t.comments_before),e=e||this._flags.last_token.type===F.END_EXPR&&(this._previous_flags.mode===me.ForInitializer||this._previous_flags.mode===me.Conditional),e=e||this._flags.last_token.type===F.WORD&&this._flags.mode===me.BlockStatement&&!this._flags.in_case&&!(t.text==="--"||t.text==="++")&&this._last_last_text!=="function"&&t.type!==F.WORD&&t.type!==F.RESERVED,e=e||this._flags.mode===me.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||it(this._flags.last_token,["get","set"])),e?(this.set_mode(me.Statement),this.indent(),this.handle_whitespace_and_comments(t,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t,it(t,["do","for","if","while"])),!0):!1;};We.prototype.handle_start_expr=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t);var e=me.Expression;if(t.text==="["){if(this._flags.last_token.type===F.WORD||this._flags.last_token.text===")"){it(this._flags.last_token,nu)&&(this._output.space_before_token=!0),this.print_token(t),this.set_mode(e),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return;}e=me.ArrayLiteral,Es(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),De(this._flags.last_token.type,[F.START_EXPR,F.END_EXPR,F.WORD,F.OPERATOR,F.DOT])||(this._output.space_before_token=!0);}else{if(this._flags.last_token.type===F.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,e=me.ForInitializer):De(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,e=me.Conditional):De(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&t.whitespace_before===""?this._output.space_before_token=!1:(De(this._flags.last_token.text,nu)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===F.EQUALS||this._flags.last_token.type===F.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t);else if(this._flags.last_token.type===F.WORD){this._output.space_before_token=!1;var n=this._tokens.peek(-3);if(this._options.space_after_named_function&&n){var r=this._tokens.peek(-4);it(n,["async","function"])||n.text==="*"&&it(r,["async","function"])?this._output.space_before_token=!0:this._flags.mode===me.ObjectLiteral&&(n.text==="{"||n.text===","||n.text==="*"&&(r.text==="{"||r.text===","))&&(this._output.space_before_token=!0);}}else this.allow_wrap_or_preserved_newline(t);(this._flags.last_token.type===F.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(De(this._last_last_text,["function","yield"])||this._flags.mode===me.ObjectLiteral&&De(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function);}this._flags.last_token.text===";"||this._flags.last_token.type===F.START_BLOCK?this.print_newline():(this._flags.last_token.type===F.END_EXPR||this._flags.last_token.type===F.START_EXPR||this._flags.last_token.type===F.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===F.COMMA)&&this.allow_wrap_or_preserved_newline(t,t.newlines),this.print_token(t),this.set_mode(e),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent();};We.prototype.handle_end_expr=function(t){for(;this._flags.mode===me.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(t,t.text==="]"&&Es(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===F.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(t),this.restore_mode(),sR(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===me.Conditional&&(this._previous_flags.mode=me.Expression,this._flags.do_block=!1,this._flags.do_while=!1);};We.prototype.handle_start_block=function(t){this.handle_whitespace_and_comments(t);var e=this._tokens.peek(),n=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===F.END_EXPR?(this.set_mode(me.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(me.BlockStatement):n&&(De(n.text,[":",","])&&De(e.type,[F.STRING,F.WORD,F.RESERVED])||De(e.text,["get","set","..."])&&De(n.type,[F.WORD,F.RESERVED]))?De(this._last_last_text,["class","interface"])?this.set_mode(me.BlockStatement):this.set_mode(me.ObjectLiteral):this._flags.last_token.type===F.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(me.BlockStatement):De(this._flags.last_token.type,[F.EQUALS,F.START_EXPR,F.COMMA,F.OPERATOR])||it(this._flags.last_token,["return","throw","import","default"])?this.set_mode(me.ObjectLiteral):this.set_mode(me.BlockStatement);var r=!e.comments_before&&e.text==="}",i=r&&this._flags.last_word==="function"&&this._flags.last_token.type===F.END_EXPR;if(this._options.brace_preserve_inline){var s=0,o=null;this._flags.inline_frame=!0;do if(s+=1,o=this._tokens.peek(s-1),o.newlines){this._flags.inline_frame=!1;break;}while(o.type!==F.EOF&&!(o.type===F.END_BLOCK&&o.opened===t));}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==F.OPERATOR&&(i||this._flags.last_token.type===F.EQUALS||it(this._flags.last_token,Jf)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(Es(this._previous_flags.mode)&&(this._flags.last_token.type===F.START_EXPR||this._flags.last_token.type===F.COMMA)&&((this._flags.last_token.type===F.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===F.COMMA||this._flags.last_token.type===F.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(t),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==F.OPERATOR&&this._flags.last_token.type!==F.START_EXPR&&(this._flags.last_token.type===F.START_BLOCK&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(t),this.indent(),!r&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline();};We.prototype.handle_end_block=function(t){for(this.handle_whitespace_and_comments(t);this._flags.mode===me.Statement;)this.restore_mode();var e=this._flags.last_token.type===F.START_BLOCK;this._flags.inline_frame&&!e?this._output.space_before_token=!0:this._options.brace_style==="expand"?e||this.print_newline():e||(Es(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(t);};We.prototype.handle_word=function(t){if(t.type===F.RESERVED){if(De(t.text,["set","get"])&&this._flags.mode!==me.ObjectLiteral)t.type=F.WORD;else if(t.text==="import"&&this._tokens.peek().text==="(")t.type=F.WORD;else if(De(t.text,["as","from"])&&!this._flags.import_block)t.type=F.WORD;else if(this._flags.mode===me.ObjectLiteral){var e=this._tokens.peek();e.text===":"&&(t.type=F.WORD);}}if(this.start_of_statement(t)?it(this._flags.last_token,["var","let","const"])&&t.type===F.WORD&&(this._flags.declaration_statement=!0):t.newlines&&!su(this._flags.mode)&&(this._flags.last_token.type!==F.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==F.EQUALS&&(this._options.preserve_newlines||!it(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(t),this.print_newline()):this.handle_whitespace_and_comments(t),this._flags.do_block&&!this._flags.do_while)if(gr(t,"while")){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0,this._flags.do_while=!0;return;}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&gr(t,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===me.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1;}if(this._flags.in_case_statement&&it(t,["case","default"])){this.print_newline(),this._flags.last_token.type!==F.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(t),this._flags.in_case=!0;return;}if((this._flags.last_token.type===F.COMMA||this._flags.last_token.type===F.START_EXPR||this._flags.last_token.type===F.EQUALS||this._flags.last_token.type===F.OPERATOR)&&(this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t)),gr(t,"function")){(De(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(De(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===F.OPERATOR))&&!this._output.just_added_blankline()&&!t.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===F.RESERVED||this._flags.last_token.type===F.WORD?it(this._flags.last_token,["get","set","new","export"])||it(this._flags.last_token,Wh)?this._output.space_before_token=!0:gr(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===F.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(su(this._flags.mode)||Es(this._flags.mode))||this.print_newline(),this.print_token(t),this._flags.last_word=t.text;return;}var n="NONE";if(this._flags.last_token.type===F.END_BLOCK?this._previous_flags.inline_frame?n="SPACE":it(t,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines?n="NEWLINE":(n="SPACE",this._output.space_before_token=!0):n="NEWLINE":this._flags.last_token.type===F.SEMICOLON&&this._flags.mode===me.BlockStatement?n="NEWLINE":this._flags.last_token.type===F.SEMICOLON&&su(this._flags.mode)?n="SPACE":this._flags.last_token.type===F.STRING?n="NEWLINE":this._flags.last_token.type===F.RESERVED||this._flags.last_token.type===F.WORD||this._flags.last_token.text==="*"&&(De(this._last_last_text,["function","yield"])||this._flags.mode===me.ObjectLiteral&&De(this._last_last_text,["{",","]))?n="SPACE":this._flags.last_token.type===F.START_BLOCK?this._flags.inline_frame?n="SPACE":n="NEWLINE":this._flags.last_token.type===F.END_EXPR&&(this._output.space_before_token=!0,n="NEWLINE"),it(t,nu)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?n="SPACE":n="NEWLINE"),it(t,["else","catch","finally"]))if((!(this._flags.last_token.type===F.END_BLOCK&&this._previous_flags.mode===me.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var r=this._output.current_line;r.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0;}else n==="NEWLINE"?it(this._flags.last_token,Jf)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&it(t,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==F.END_EXPR?(this._flags.last_token.type!==F.START_EXPR||!it(t,["var","let","const"]))&&this._flags.last_token.text!==":"&&(gr(t,"if")&&gr(t.previous,"else")?this._output.space_before_token=!0:this.print_newline()):it(t,nu)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&Es(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():n==="SPACE"&&(this._output.space_before_token=!0);t.previous&&(t.previous.type===F.WORD||t.previous.type===F.RESERVED)&&(this._output.space_before_token=!0),this.print_token(t),this._flags.last_word=t.text,t.type===F.RESERVED&&(t.text==="do"?this._flags.do_block=!0:t.text==="if"?this._flags.if_block=!0:t.text==="import"?this._flags.import_block=!0:this._flags.import_block&&gr(t,"from")&&(this._flags.import_block=!1));};We.prototype.handle_semicolon=function(t){this.start_of_statement(t)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(t);for(var e=this._tokens.peek();this._flags.mode===me.Statement&&!(this._flags.if_block&&gr(e,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(t);};We.prototype.handle_string=function(t){t.text.startsWith("`")&&t.newlines===0&&t.whitespace_before===""&&(t.previous.text===")"||this._flags.last_token.type===F.WORD)||(this.start_of_statement(t)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(t),this._flags.last_token.type===F.RESERVED||this._flags.last_token.type===F.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===F.COMMA||this._flags.last_token.type===F.START_EXPR||this._flags.last_token.type===F.EQUALS||this._flags.last_token.type===F.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t):t.text.startsWith("`")&&this._flags.last_token.type===F.END_EXPR&&(t.previous.text==="]"||t.previous.text===")")&&t.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(t);};We.prototype.handle_equals=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0;};We.prototype.handle_comma=function(t){this.handle_whitespace_and_comments(t,!0),this.print_token(t),this._output.space_before_token=!0,this._flags.declaration_statement?(su(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)):this._flags.mode===me.ObjectLiteral||this._flags.mode===me.Statement&&this._flags.parent.mode===me.ObjectLiteral?(this._flags.mode===me.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t);};We.prototype.handle_operator=function(t){var e=t.text==="*"&&(it(this._flags.last_token,["function","yield"])||De(this._flags.last_token.type,[F.START_BLOCK,F.COMMA,F.END_BLOCK,F.SEMICOLON])),n=De(t.text,["-","+"])&&(De(this._flags.last_token.type,[F.START_BLOCK,F.START_EXPR,F.EQUALS,F.OPERATOR])||De(this._flags.last_token.text,nu)||this._flags.last_token.text===",");if(!this.start_of_statement(t)){var r=!e;this.handle_whitespace_and_comments(t,r);}if(it(this._flags.last_token,Jf)){this._output.space_before_token=!0,this.print_token(t);return;}if(t.text==="*"&&this._flags.last_token.type===F.DOT){this.print_token(t);return;}if(t.text==="::"){this.print_token(t);return;}if(this._flags.last_token.type===F.OPERATOR&&De(this._options.operator_position,iR)&&this.allow_wrap_or_preserved_newline(t),t.text===":"&&this._flags.in_case){this.print_token(t),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==F.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0;return;}var i=!0,s=!0,o=!1;if(t.text===":"?this._flags.ternary_depth===0?i=!1:(this._flags.ternary_depth-=1,o=!0):t.text==="?"&&(this._flags.ternary_depth+=1),!n&&!e&&this._options.preserve_newlines&&De(t.text,ru)){var a=t.text===":",l=a&&o,u=a&&!o;switch(this._options.operator_position){case iu.before_newline:this._output.space_before_token=!u,this.print_token(t),(!a||l)&&this.allow_wrap_or_preserved_newline(t),this._output.space_before_token=!0;return;case iu.after_newline:this._output.space_before_token=!0,!a||l?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(t):this._output.space_before_token=!1,this.print_token(t),this._output.space_before_token=!0;return;case iu.preserve_newline:u||this.allow_wrap_or_preserved_newline(t),i=!(this._output.just_added_newline()||u),this._output.space_before_token=i,this.print_token(t),this._output.space_before_token=!0;return;}}if(e){this.allow_wrap_or_preserved_newline(t),i=!1;var f=this._tokens.peek();s=f&&De(f.type,[F.WORD,F.RESERVED]);}else t.text==="..."?(this.allow_wrap_or_preserved_newline(t),i=this._flags.last_token.type===F.START_BLOCK,s=!1):(De(t.text,["--","++","!","~"])||n)&&((this._flags.last_token.type===F.COMMA||this._flags.last_token.type===F.START_EXPR)&&this.allow_wrap_or_preserved_newline(t),i=!1,s=!1,t.newlines&&(t.text==="--"||t.text==="++")&&this.print_newline(!1,!0),this._flags.last_token.text===";"&&su(this._flags.mode)&&(i=!0),this._flags.last_token.type===F.RESERVED?i=!0:this._flags.last_token.type===F.END_EXPR?i=!(this._flags.last_token.text==="]"&&(t.text==="--"||t.text==="++")):this._flags.last_token.type===F.OPERATOR&&(i=De(t.text,["--","-","++","+"])&&De(this._flags.last_token.text,["--","-","++","+"]),De(t.text,["+","-"])&&De(this._flags.last_token.text,["--","++"])&&(s=!0)),(this._flags.mode===me.BlockStatement&&!this._flags.inline_frame||this._flags.mode===me.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline());this._output.space_before_token=this._output.space_before_token||i,this.print_token(t),this._output.space_before_token=s;};We.prototype.handle_block_comment=function(t,e){if(this._output.raw){this._output.add_raw_token(t),t.directives&&t.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return;}if(t.directives){this.print_newline(!1,e),this.print_token(t),t.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return;}if(!Qf.newline.test(t.text)&&!t.newlines){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0;return;}else this.print_block_commment(t,e);};We.prototype.print_block_commment=function(t,e){var n=Dq(t.text),r,i=!1,s=!1,o=t.whitespace_before,a=o.length;if(this.print_newline(!1,e),this.print_token_line_indentation(t),this._output.add_token(n[0]),this.print_newline(!1,e),n.length>1){for(n=n.slice(1),i=Mq(n,"*"),s=kq(n,o),i&&(this._flags.alignment=1),r=0;r<n.length;r++)i?(this.print_token_line_indentation(t),this._output.add_token(wq(n[r]))):s&&n[r]?(this.print_token_line_indentation(t),this._output.add_token(n[r].substring(a))):(this._output.current_line.set_indent(-1),this._output.add_token(n[r])),this.print_newline(!1,e);this._flags.alignment=0;}};We.prototype.handle_comment=function(t,e){t.newlines?this.print_newline(!1,e):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(t),this.print_newline(!1,e);};We.prototype.handle_dot=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t,!0),it(this._flags.last_token,Jf)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(t,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(t);};We.prototype.handle_unknown=function(t,e){this.print_token(t),t.text[t.text.length-1]===`
`&&this.print_newline(!1,e);};We.prototype.handle_eof=function(t){for(;this._flags.mode===me.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t);};oR.exports.Beautifier=We;});var lR=q((Yne,Hh)=>{"use strict";var Fq=aR().Beautifier,qq=Mh().Options;function Vq(t,e){var n=new Fq(t,e);return n.beautify();}Hh.exports=Vq;Hh.exports.defaultOptions=function(){return new qq;};});var Yh=q((Kne,fR)=>{"use strict";var uR=Kf().Options;function cR(t){uR.call(this,t,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var e=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||e;var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var r=0;r<n.length;r++)n[r]!=="expand"?this.brace_style="collapse":this.brace_style=n[r];}cR.prototype=new uR;fR.exports.Options=cR;});var hR=q(($ne,mR)=>{"use strict";var Bq=Yh().Options,jq=Hf().Output,Uq=$f().InputScanner,Gq=zf().Directives,pR=new Gq(/\/\*/,/\*\//),dR=/\r\n|[\r\n]/,Wq=/\r\n|[\r\n]/g,Zf=/\s/,Hq=/(?:\s|\n)+/g,Yq=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,Kq=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function Yi(t,e){this._source_text=t||"",this._options=new Bq(e),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0};}Yi.prototype.eatString=function(t){var e="";for(this._ch=this._input.next();this._ch;){if(e+=this._ch,this._ch==="\\")e+=this._input.next();else if(t.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next();}return e;};Yi.prototype.eatWhitespace=function(t){for(var e=Zf.test(this._input.peek()),n=0;Zf.test(this._input.peek());)this._ch=this._input.next(),t&&this._ch===`
`&&(n===0||n<this._options.max_preserve_newlines)&&(n++,this._output.add_new_line(!0));return e;};Yi.prototype.foundNestedPseudoClass=function(){for(var t=0,e=1,n=this._input.peek(e);n;){if(n==="{")return!0;if(n==="(")t+=1;else if(n===")"){if(t===0)return!1;t-=1;}else if(n===";"||n==="}")return!1;e++,n=this._input.peek(e);}return!1;};Yi.prototype.print_string=function(t){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(t);};Yi.prototype.preserveSingleSpace=function(t){t&&(this._output.space_before_token=!0);};Yi.prototype.indent=function(){this._indentLevel++;};Yi.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--;};Yi.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;e==="auto"&&(e=`
`,t&&dR.test(t||"")&&(e=t.match(dR)[0])),t=t.replace(Wq,`
`);var n=t.match(/^[\t ]*/)[0];this._output=new jq(this._options,n),this._input=new Uq(t),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var r=0,i=!1,s=!1,o=!1,a=!1,l=!1,u=this._ch,f,c,d;f=this._input.read(Hq),c=f!=="",d=u,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),u=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var p=this._input.read(Yq),m=pR.get_directives(p);m&&m.ignore==="start"&&(p+=pR.readIgnored(this._input)),this.print_string(p),this.eatWhitespace(!0),this._output.add_new_line();}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(Kq)),this.eatWhitespace(!0);else if(this._ch==="@")if(this.preserveSingleSpace(c),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var h=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);h.match(/[ :]$/)&&(h=this.eatString(": ").replace(/\s$/,""),this.print_string(h),this._output.space_before_token=!0),h=h.replace(/\s$/,""),h==="extend"?a=!0:h==="import"&&(l=!0),h in this.NESTED_AT_RULE?(this._nestedLevel+=1,h in this.CONDITIONAL_GROUP_RULE&&(o=!0)):!i&&r===0&&h.indexOf(":")!==-1&&(s=!0,this.indent());}else this._ch==="#"&&this._input.peek()==="{"?(this.preserveSingleSpace(c),this.print_string(this._ch+this.eatString("}"))):this._ch==="{"?(s&&(s=!1,this.outdent()),o?(o=!1,i=this._indentLevel>=this._nestedLevel):i=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&i&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line()):this._ch==="}"?(this.outdent(),this._output.add_new_line(),d==="{"&&this._output.trim(!0),l=!1,a=!1,s&&(this.outdent(),s=!1),this.print_string(this._ch),i=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0)):this._ch===":"?(i||o)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!a&&r===0?(this.print_string(":"),s||(s=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):this._ch==='"'||this._ch==="'"?(this.preserveSingleSpace(c),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):this._ch===";"?r===0?(s&&(this.outdent(),s=!1),a=!1,l=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):this._ch==="("?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),r++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),r&&(r--,this.outdent()))):(this.preserveSingleSpace(c),this.print_string(this._ch),this.eatWhitespace(),r++,this.indent()):this._ch===")"?(r&&(r--,this.outdent()),this.print_string(this._ch)):this._ch===","?(this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&!s&&r===0&&!l?this._output.add_new_line():this._output.space_before_token=!0):(this._ch===">"||this._ch==="+"||this._ch==="~")&&!s&&r===0?this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&Zf.test(this._ch)&&(this._ch="")):this._ch==="]"?this.print_string(this._ch):this._ch==="["?(this.preserveSingleSpace(c),this.print_string(this._ch)):this._ch==="="?(this.eatWhitespace(),this.print_string("="),Zf.test(this._ch)&&(this._ch="")):this._ch==="!"&&!this._input.lookBack("\\")?(this.print_string(" "),this.print_string(this._ch)):(this.preserveSingleSpace(c),this.print_string(this._ch));var v=this._output.get_code(e);return v;};mR.exports.Beautifier=Yi;});var gR=q((zne,Kh)=>{"use strict";var $q=hR().Beautifier,zq=Yh().Options;function Xq(t,e){var n=new $q(t,e);return n.beautify();}Kh.exports=Xq;Kh.exports.defaultOptions=function(){return new zq;};});var $h=q((Xne,TR)=>{"use strict";var _R=Kf().Options;function yR(t){_R.call(this,t,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"]);}yR.prototype=new _R;TR.exports.Options=yR;});var Qh=q((Qne,Xh)=>{"use strict";var bR=Zl().Tokenizer,zh=Zl().TOKEN,Qq=zf().Directives,Jq=jh().TemplatablePattern,Zq=Ql().Pattern,It={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:zh.START,RAW:zh.RAW,EOF:zh.EOF},vR=new Qq(/<\!--/,/-->/),pn=function(t,e){bR.call(this,t,e),this._current_tag_name="";var n=new Jq(this._input).read_options(this._options),r=new Zq(this._input);if(this.__patterns={word:n.until(/[\n\r\t <]/),single_quote:n.until_after(/'/),double_quote:n.until_after(/"/),attribute:n.until(/[\n\r\t =>]|\/>/),element_name:n.until(/[\n\r\t >\/]/),handlebars_comment:r.starting_with(/{{!--/).until_after(/--}}/),handlebars:r.starting_with(/{{/).until_after(/}}/),handlebars_open:r.until(/[\n\r\t }]/),handlebars_raw_close:r.until(/}}/),comment:r.starting_with(/<!--/).until_after(/-->/),cdata:r.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:r.starting_with(/<!\[/).until_after(/]>/),processing:r.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var i=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=r.matching(i).until_after(i);}};pn.prototype=new bR;pn.prototype._is_comment=function(t){return!1;};pn.prototype._is_opening=function(t){return t.type===It.TAG_OPEN;};pn.prototype._is_closing=function(t,e){return t.type===It.TAG_CLOSE&&e&&((t.text===">"||t.text==="/>")&&e.text[0]==="<"||t.text==="}}"&&e.text[0]==="{"&&e.text[1]==="{");};pn.prototype._reset=function(){this._current_tag_name="";};pn.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(It.EOF,""):(n=n||this._read_open_handlebars(r,e),n=n||this._read_attribute(r,t,e),n=n||this._read_close(r,e),n=n||this._read_raw_content(r,t,e),n=n||this._read_content_word(r),n=n||this._read_comment_or_cdata(r),n=n||this._read_processing(r),n=n||this._read_open(r,e),n=n||this._create_token(It.UNKNOWN,this._input.next()),n);};pn.prototype._read_comment_or_cdata=function(t){var e=null,n=null,r=null;if(t==="<"){var i=this._input.peek(1);i==="!"&&(n=this.__patterns.comment.read(),n?(r=vR.get_directives(n),r&&r.ignore==="start"&&(n+=vR.readIgnored(this._input))):n=this.__patterns.cdata.read()),n&&(e=this._create_token(It.COMMENT,n),e.directives=r);}return e;};pn.prototype._read_processing=function(t){var e=null,n=null,r=null;if(t==="<"){var i=this._input.peek(1);(i==="!"||i==="?")&&(n=this.__patterns.conditional_comment.read(),n=n||this.__patterns.processing.read()),n&&(e=this._create_token(It.COMMENT,n),e.directives=r);}return e;};pn.prototype._read_open=function(t,e){var n=null,r=null;return e||t==="<"&&(n=this._input.next(),this._input.peek()==="/"&&(n+=this._input.next()),n+=this.__patterns.element_name.read(),r=this._create_token(It.TAG_OPEN,n)),r;};pn.prototype._read_open_handlebars=function(t,e){var n=null,r=null;return e||this._options.indent_handlebars&&t==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(n=this.__patterns.handlebars_comment.read(),n=n||this.__patterns.handlebars.read(),r=this._create_token(It.COMMENT,n)):(n=this.__patterns.handlebars_open.read(),r=this._create_token(It.TAG_OPEN,n))),r;};pn.prototype._read_close=function(t,e){var n=null,r=null;return e&&(e.text[0]==="<"&&(t===">"||t==="/"&&this._input.peek(1)===">")?(n=this._input.next(),t==="/"&&(n+=this._input.next()),r=this._create_token(It.TAG_CLOSE,n)):e.text[0]==="{"&&t==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),r=this._create_token(It.TAG_CLOSE,"}}"))),r;};pn.prototype._read_attribute=function(t,e,n){var r=null,i="";if(n&&n.text[0]==="<")if(t==="=")r=this._create_token(It.EQUALS,this._input.next());else if(t==='"'||t==="'"){var s=this._input.next();t==='"'?s+=this.__patterns.double_quote.read():s+=this.__patterns.single_quote.read(),r=this._create_token(It.VALUE,s);}else i=this.__patterns.attribute.read(),i&&(e.type===It.EQUALS?r=this._create_token(It.VALUE,i):r=this._create_token(It.ATTRIBUTE,i));return r;};pn.prototype._is_content_unformatted=function(t){return this._options.void_elements.indexOf(t)===-1&&(this._options.content_unformatted.indexOf(t)!==-1||this._options.unformatted.indexOf(t)!==-1);};pn.prototype._read_raw_content=function(t,e,n){var r="";if(n&&n.text[0]==="{")r=this.__patterns.handlebars_raw_close.read();else if(e.type===It.TAG_CLOSE&&e.opened.text[0]==="<"&&e.text[0]!=="/"){var i=e.opened.text.substr(1).toLowerCase();if(i==="script"||i==="style"){var s=this._read_comment_or_cdata(t);if(s)return s.type=It.TEXT,s;r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig"));}else this._is_content_unformatted(i)&&(r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig")));}return r?this._create_token(It.TEXT,r):null;};pn.prototype._read_content_word=function(t){var e="";if(this._options.unformatted_content_delimiter&&t===this._options.unformatted_content_delimiter[0]&&(e=this.__patterns.unformatted_content_delimiter.read()),e||(e=this.__patterns.word.read()),e)return this._create_token(It.TEXT,e);};Xh.exports.Tokenizer=pn;Xh.exports.TOKEN=It;});var SR=q((Jne,IR)=>{"use strict";var eV=$h().Options,tV=Hf().Output,nV=Qh().Tokenizer,Ze=Qh().TOKEN,NR=/\r\n|[\r\n]/,rV=/\r\n|[\r\n]/g,_r=function(t,e){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=t.max_preserve_newlines,this.preserve_newlines=t.preserve_newlines,this._output=new tV(t,e);};_r.prototype.current_line_has_match=function(t){return this._output.current_line.has_match(t);};_r.prototype.set_space_before_token=function(t,e){this._output.space_before_token=t,this._output.non_breaking_space=e;};_r.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point();};_r.prototype.add_raw_token=function(t){this._output.add_raw_token(t);};_r.prototype.print_preserved_newlines=function(t){var e=0;t.type!==Ze.TEXT&&t.previous.type!==Ze.TEXT&&(e=t.newlines?1:0),this.preserve_newlines&&(e=t.newlines<this.max_preserve_newlines+1?t.newlines:this.max_preserve_newlines+1);for(var n=0;n<e;n++)this.print_newline(n>0);return e!==0;};_r.prototype.traverse_whitespace=function(t){return t.whitespace_before||t.newlines?(this.print_preserved_newlines(t)||(this._output.space_before_token=!0),!0):!1;};_r.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped;};_r.prototype.print_newline=function(t){this._output.add_new_line(t);};_r.prototype.print_token=function(t){t.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(t.text));};_r.prototype.indent=function(){this.indent_level++;};_r.prototype.get_full_indent=function(t){return t=this.indent_level+(t||0),t<1?"":this._output.get_indent_string(t);};var iV=function(t){for(var e=null,n=t.next;n.type!==Ze.EOF&&t.closed!==n;){if(n.type===Ze.ATTRIBUTE&&n.text==="type"){n.next&&n.next.type===Ze.EQUALS&&n.next.next&&n.next.next.type===Ze.VALUE&&(e=n.next.next.text);break;}n=n.next;}return e;},sV=function(t,e){var n=null,r=null;return e.closed?(t==="script"?n="text/javascript":t==="style"&&(n="text/css"),n=iV(e)||n,n.search("text/css")>-1?r="css":n.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?r="javascript":n.search(/(text|application|dojo)\/(x-)?(html)/)>-1?r="html":n.search(/test\/null/)>-1&&(r="null"),r):null;};function ou(t,e){return e.indexOf(t)!==-1;}function oV(t,e,n){this.parent=t||null,this.tag=e?e.tag_name:"",this.indent_level=n||0,this.parser_token=e||null;}function vo(t){this._printer=t,this._current_frame=null;}vo.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null;};vo.prototype.record_tag=function(t){var e=new oV(this._current_frame,t,this._printer.indent_level);this._current_frame=e;};vo.prototype._try_pop_frame=function(t){var e=null;return t&&(e=t.parser_token,this._printer.indent_level=t.indent_level,this._current_frame=t.parent),e;};vo.prototype._get_frame=function(t,e){for(var n=this._current_frame;n&&t.indexOf(n.tag)===-1;){if(e&&e.indexOf(n.tag)!==-1){n=null;break;}n=n.parent;}return n;};vo.prototype.try_pop=function(t,e){var n=this._get_frame([t],e);return this._try_pop_frame(n);};vo.prototype.indent_to_tag=function(t){var e=this._get_frame(t);e&&(this._printer.indent_level=e.indent_level);};function yr(t,e,n,r){this._source_text=t||"",e=e||{},this._js_beautify=n,this._css_beautify=r,this._tag_stack=null;var i=new eV(e,"html");this._options=i,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,"force".length)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,"preserve".length)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned";}yr.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;this._options.eol==="auto"&&(e=`
`,t&&NR.test(t)&&(e=t.match(NR)[0])),t=t.replace(rV,`
`);var n=t.match(/^[\t ]*/)[0],r={text:"",type:""},i=new PR,s=new _r(this._options,n),o=new nV(t,this._options).tokenize();this._tag_stack=new vo(s);for(var a=null,l=o.next();l.type!==Ze.EOF;)l.type===Ze.TAG_OPEN||l.type===Ze.COMMENT?(a=this._handle_tag_open(s,l,i,r),i=a):l.type===Ze.ATTRIBUTE||l.type===Ze.EQUALS||l.type===Ze.VALUE||l.type===Ze.TEXT&&!i.tag_complete?a=this._handle_inside_tag(s,l,i,o):l.type===Ze.TAG_CLOSE?a=this._handle_tag_close(s,l,i):l.type===Ze.TEXT?a=this._handle_text(s,l,i):s.add_raw_token(l),r=a,l=o.next();var u=s._output.get_code(e);return u;};yr.prototype._handle_tag_close=function(t,e,n){var r={text:e.text,type:e.type};return t.alignment_size=0,n.tag_complete=!0,t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),n.is_unformatted?t.add_raw_token(e):(n.tag_start_char==="<"&&(t.set_space_before_token(e.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&n.has_wrapped_attrs&&t.print_newline(!1)),t.print_token(e)),n.indent_content&&!(n.is_unformatted||n.is_content_unformatted)&&(t.indent(),n.indent_content=!1),!n.is_inline_element&&!(n.is_unformatted||n.is_content_unformatted)&&t.set_wrap_point(),r;};yr.prototype._handle_inside_tag=function(t,e,n,r){var i=n.has_wrapped_attrs,s={text:e.text,type:e.type};if(t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),n.is_unformatted)t.add_raw_token(e);else if(n.tag_start_char==="{"&&e.type===Ze.TEXT)t.print_preserved_newlines(e)?(e.newlines=0,t.add_raw_token(e)):t.print_token(e);else{if(e.type===Ze.ATTRIBUTE?(t.set_space_before_token(!0),n.attr_count+=1):(e.type===Ze.EQUALS||e.type===Ze.VALUE&&e.previous.type===Ze.EQUALS)&&t.set_space_before_token(!1),e.type===Ze.ATTRIBUTE&&n.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(t.traverse_whitespace(e),i=i||e.newlines!==0),this._is_wrap_attributes_force)){var o=n.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&n.attr_count===1){var a=!0,l=0,u;do{if(u=r.peek(l),u.type===Ze.ATTRIBUTE){a=!1;break;}l+=1;}while(l<4&&u.type!==Ze.EOF&&u.type!==Ze.TAG_CLOSE);o=!a;}o&&(t.print_newline(!1),i=!0);}t.print_token(e),i=i||t.previous_token_wrapped(),n.has_wrapped_attrs=i;}return s;};yr.prototype._handle_text=function(t,e,n){var r={text:e.text,type:"TK_CONTENT"};return n.custom_beautifier_name?this._print_custom_beatifier_text(t,e,n):n.is_unformatted||n.is_content_unformatted?t.add_raw_token(e):(t.traverse_whitespace(e),t.print_token(e)),r;};yr.prototype._print_custom_beatifier_text=function(t,e,n){var r=this;if(e.text!==""){var i=e.text,s,o=1,a="",l="";n.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?s=this._js_beautify:n.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?s=this._css_beautify:n.custom_beautifier_name==="html"&&(s=function(m,h){var v=new yr(m,h,r._js_beautify,r._css_beautify);return v.beautify();}),this._options.indent_scripts==="keep"?o=0:this._options.indent_scripts==="separate"&&(o=-t.indent_level);var u=t.get_full_indent(o);if(i=i.replace(/\n[ \t]*$/,""),n.custom_beautifier_name!=="html"&&i[0]==="<"&&i.match(/^(<!--|<!\[CDATA\[)/)){var f=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(i);if(!f){t.add_raw_token(e);return;}a=u+f[1]+`
`,i=f[4],f[5]&&(l=u+f[5]),i=i.replace(/\n[ \t]*$/,""),(f[2]||f[3].indexOf(`
`)!==-1)&&(f=f[3].match(/[ \t]+$/),f&&(e.whitespace_before=f[0]));}if(i)if(s){var c=function(){this.eol=`
`;};c.prototype=this._options.raw_options;var d=new c;i=s(u+i,d);}else{var p=e.whitespace_before;p&&(i=i.replace(new RegExp(`
(`+p+")?","g"),`
`)),i=u+i.replace(/\n/g,`
`+u);}a&&(i?i=a+i+`
`+l:i=a+l),t.print_newline(!1),i&&(e.text=i,e.whitespace_before="",e.newlines=0,t.add_raw_token(e),t.print_newline(!0));}};yr.prototype._handle_tag_open=function(t,e,n,r){var i=this._get_tag_open_token(e);return(n.is_unformatted||n.is_content_unformatted)&&!n.is_empty_element&&e.type===Ze.TAG_OPEN&&e.text.indexOf("</")===0?(t.add_raw_token(e),i.start_tag_token=this._tag_stack.try_pop(i.tag_name)):(t.traverse_whitespace(e),this._set_tag_position(t,e,i,n,r),i.is_inline_element||t.set_wrap_point(),t.print_token(e)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(i.alignment_size=e.text.length+1),!i.tag_complete&&!i.is_unformatted&&(t.alignment_size=i.alignment_size),i;};var PR=function(t,e){if(this.parent=t||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!e)this.tag_complete=!0;else{var n;this.tag_start_char=e.text[0],this.text=e.text,this.tag_start_char==="<"?(n=e.text.match(/^<([^\s>]*)/),this.tag_check=n?n[1]:""):(n=e.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=n?n[1]:"",e.text==="{{#>"&&this.tag_check===">"&&e.next!==null&&(this.tag_check=e.next.text)),this.tag_check=this.tag_check.toLowerCase(),e.type===Ze.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||e.closed&&e.closed.text==="/>",this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)));}};yr.prototype._get_tag_open_token=function(t){var e=new PR(this._tag_stack.get_parser_token(),t);return e.alignment_size=this._options.wrap_attributes_indent_size,e.is_end_tag=e.is_end_tag||ou(e.tag_check,this._options.void_elements),e.is_empty_element=e.tag_complete||e.is_start_tag&&e.is_end_tag,e.is_unformatted=!e.tag_complete&&ou(e.tag_check,this._options.unformatted),e.is_content_unformatted=!e.is_empty_element&&ou(e.tag_check,this._options.content_unformatted),e.is_inline_element=ou(e.tag_name,this._options.inline)||e.tag_start_char==="{",e;};yr.prototype._set_tag_position=function(t,e,n,r,i){if(n.is_empty_element||(n.is_end_tag?n.start_tag_token=this._tag_stack.try_pop(n.tag_name):(this._do_optional_end_element(n)&&(n.is_inline_element||t.print_newline(!1)),this._tag_stack.record_tag(n),(n.tag_name==="script"||n.tag_name==="style")&&!(n.is_unformatted||n.is_content_unformatted)&&(n.custom_beautifier_name=sV(n.tag_check,e)))),ou(n.tag_check,this._options.extra_liners)&&(t.print_newline(!1),t._output.just_added_blankline()||t.print_newline(!0)),n.is_empty_element){if(n.tag_start_char==="{"&&n.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),n.indent_content=!0;var s=t.current_line_has_match(/{{#if/);s||t.print_newline(!1);}n.tag_name==="!--"&&i.type===Ze.TAG_CLOSE&&r.is_end_tag&&n.text.indexOf(`
`)===-1||(n.is_inline_element||n.is_unformatted||t.print_newline(!1),this._calcluate_parent_multiline(t,n));}else if(n.is_end_tag){var o=!1;o=n.start_tag_token&&n.start_tag_token.multiline_content,o=o||!n.is_inline_element&&!(r.is_inline_element||r.is_unformatted)&&!(i.type===Ze.TAG_CLOSE&&n.start_tag_token===r)&&i.type!=="TK_CONTENT",(n.is_content_unformatted||n.is_unformatted)&&(o=!1),o&&t.print_newline(!1);}else n.indent_content=!n.custom_beautifier_name,n.tag_start_char==="<"&&(n.tag_name==="html"?n.indent_content=this._options.indent_inner_html:n.tag_name==="head"?n.indent_content=this._options.indent_head_inner_html:n.tag_name==="body"&&(n.indent_content=this._options.indent_body_inner_html)),!(n.is_inline_element||n.is_unformatted)&&(i.type!=="TK_CONTENT"||n.is_content_unformatted)&&t.print_newline(!1),this._calcluate_parent_multiline(t,n);};yr.prototype._calcluate_parent_multiline=function(t,e){e.parent&&t._output.just_added_newline()&&!((e.is_inline_element||e.is_unformatted)&&e.parent.is_inline_element)&&(e.parent.multiline_content=!0);};var aV=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],lV=["a","audio","del","ins","map","noscript","video"];yr.prototype._do_optional_end_element=function(t){var e=null;if(!(t.is_empty_element||!t.is_start_tag||!t.parent)){if(t.tag_name==="body")e=e||this._tag_stack.try_pop("head");else if(t.tag_name==="li")e=e||this._tag_stack.try_pop("li",["ol","ul"]);else if(t.tag_name==="dd"||t.tag_name==="dt")e=e||this._tag_stack.try_pop("dt",["dl"]),e=e||this._tag_stack.try_pop("dd",["dl"]);else if(t.parent.tag_name==="p"&&aV.indexOf(t.tag_name)!==-1){var n=t.parent.parent;(!n||lV.indexOf(n.tag_name)===-1)&&(e=e||this._tag_stack.try_pop("p"));}else t.tag_name==="rp"||t.tag_name==="rt"?(e=e||this._tag_stack.try_pop("rt",["ruby","rtc"]),e=e||this._tag_stack.try_pop("rp",["ruby","rtc"])):t.tag_name==="optgroup"?e=e||this._tag_stack.try_pop("optgroup",["select"]):t.tag_name==="option"?e=e||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):t.tag_name==="colgroup"?e=e||this._tag_stack.try_pop("caption",["table"]):t.tag_name==="thead"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"])):t.tag_name==="tbody"||t.tag_name==="tfoot"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("thead",["table"]),e=e||this._tag_stack.try_pop("tbody",["table"])):t.tag_name==="tr"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(t.tag_name==="th"||t.tag_name==="td")&&(e=e||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),e=e||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return t.parent=this._tag_stack.get_parser_token(),e;}};IR.exports.Beautifier=yr;});var RR=q((Zne,Jh)=>{"use strict";var uV=SR().Beautifier,cV=$h().Options;function fV(t,e,n,r){var i=new uV(t,e,n,r);return i.beautify();}Jh.exports=fV;Jh.exports.defaultOptions=function(){return new cV;};});var wR=q((ere,ep)=>{"use strict";var CR=lR(),xR=gR(),AR=RR();function ER(t,e,n,r){return n=n||CR,r=r||xR,AR(t,e,n,r);}ER.defaultOptions=AR.defaultOptions;ep.exports.js=CR;ep.exports.css=xR;ep.exports.html=ER;});var DR=q((tre,LR)=>{"use strict";function OR(t,e,n){var r=function(i,s){return t.js_beautify(i,s);};return r.js=t.js_beautify,r.css=e.css_beautify,r.html=n.html_beautify,r.js_beautify=t.js_beautify,r.css_beautify=e.css_beautify,r.html_beautify=n.html_beautify,r;}typeof define=="function"&&define.amd?define(["./lib/beautify","./lib/beautify-css","./lib/beautify-html"],function(t,e,n){return OR(t,e,n);}):function(t){var e=wR();e.js_beautify=e.js,e.css_beautify=e.css,e.html_beautify=e.html,t.exports=OR(e,e,e);}(LR);});var sg=q((sie,$R)=>{"use strict";var sp=require("path");function mV(t){if(typeof t!="string"||t.length<=7||t.substring(0,7)!=="file://")throw new TypeError("must pass in a file:// URI to convert to a file path");let e=decodeURI(t.substring(7)),n=e.indexOf("/"),r=e.substring(0,n),i=e.substring(n+1);return r==="localhost"&&(r=""),r&&(r=sp.sep+sp.sep+r),i=i.replace(/^(.+)\|/,"$1:"),sp.sep==="\\"&&(i=i.replace(/\//g,"\\")),/^.+:/.test(i)||(i=sp.sep+i),r+i;}$R.exports=mV;});var UV={};k0(UV,{analyzeStructures:()=>lp,collectProjectDetails:()=>Sg,connection:()=>$e,defaultSettings:()=>op,getAntlersSettings:()=>Zh,globalSettings:()=>Hl,hasConfigurationCapability:()=>_g});var x0=K(require("fs")),A0=K(Eg()),Xt=K(eT());var Bs=class{constructor(){this.currentStructure=null;this.isReloading=!1;this.isDirtyState=!0;}setActiveProject(e){this.currentStructure=e;}getStructure(){return this.currentStructure;}hasStructure(){return this.currentStructure!=null;}setDirtyState(e){this.isDirtyState=e;}reloadDetails(){this.isReloading||this.isDirtyState!=!1&&this.currentStructure!=null&&(this.isReloading=!0,this.currentStructure=this.currentStructure.reloadDetails(),this.isReloading=!1,this.isDirtyState=!1);}};Bs.instance=null;(typeof Bs.instance=="undefined"||Bs.instance==null)&&(Bs.instance=new Bs);var fe=Bs;var ri=class{static registerDetails(e,n){this.documentDetails.set(e,n);}static hasDetails(e){return this.documentDetails.has(e);}};ri.documentDetails=new Map;var UE={documentDescription:"",documentName:"",collectionInjections:[],blueprints:[],variableHelper:null,injectsParameters:[],varReferenceNames:new Map,formatterEnabled:!0};var tT="@name",nT="@description",rT="@desc",iT="@entry",sT="@collection",oT="@blueprint",aT="@var",lT="@set",uT="@param",cT="@param*",GE="@front",fT="@format";function ll(t,e){if(e==null||e.isComment==!1)return UE;let n=e.content.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`).map(m=>m.trim()),r=[],i=new Map,s="",o="",a=[],l=[],u="",f=null,c=!1,d=!0;for(let m=0;m<n.length;m++){let h=n[m];if(h.startsWith(iT))a=a.concat(h.slice(iT.length).split(",").map(v=>v.trim())),c=!1;else if(h.startsWith(sT))a=a.concat(h.slice(sT.length).split(",").map(v=>v.trim())),c=!1;else if(h.startsWith(oT))l=l.concat(h.slice(oT.length).split(",").map(v=>v.trim())),c=!1;else if(h.startsWith(tT))s=h.slice(tT.length).trim(),c=!1;else if(h.startsWith(nT))o=h.slice(nT.length).trim(),c=!0;else if(h.startsWith(rT))o=h.slice(rT.length).trim(),c=!0;else if(h.startsWith(aT))u=h.slice(aT.length).trim(),c=!1;else if(h.startsWith(lT))u="@page "+h.slice(lT.length).trim(),c=!1;else if(h.startsWith(uT)){let v=uT.length,g=!1;h.startsWith(cT)&&(v=cT.length,g=!0);let T=h.slice(v).trim().split(" ");if(T.length>0&&T[0]==GE&&T.length>=4){T.shift();let I=T.shift(),w=T.shift(),$=T.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:$,expectsTypes:["*"],isDynamic:!0,isRequired:g,name:w}),i.set(w,I);}}else h.startsWith(fT)?h.slice(fT.length).trim().toLowerCase()=="true"?d=!0:d=!1:c&&(o+=`
`+h.trim());}if(u.length>0){let m=u.split(" ");if(m.length==2){let h=m[0],v=m[1];if(v.includes(".")){let g=v.split(".");if(g.length==2){let _=g[0],T=g[1];f={variableName:h,collectionName:_,fieldHandle:T,setHandle:""};}else if(g.length==3){let _=g[0],T=g[1],I=g[2];f={variableName:h,collectionName:_,fieldHandle:T,setHandle:I};}}else f={variableName:h,setHandle:"",collectionName:"",fieldHandle:v};}}if(t.trim().length>0&&fe.instance!=null&&fe.instance.hasStructure()){let m=fe.instance.getStructure().findView(t);m!=null&&(m.injectsParameters=r,m.varReferenceNames=i);}let p={documentName:s,documentDescription:o,collectionInjections:a,blueprints:l,variableHelper:f,injectsParameters:r,varReferenceNames:i,formatterEnabled:d};return t.trim().length>0&&e.startPosition!=null&&(e.startPosition.line<=1||e.index<=1)&&ri.registerDetails(t,p),p;}var WE=["markdown","text","textarea","slug","button_group","code","color","date","form","link","structures","select","taxonomies","terms","template","time","video","users","user_groups","user_roles"],HE=["array","assets","bard","blueprints","collections","entries","list","grid","replicator","structures_multiple","sites","select_multiple","form_multiple","table","tags","terms_multiple","taxonomies_multiple","users_multiple","checkboxes","select_multiple","yaml","user_groups_multiple","user_roles_multiple"],YE=["integer","range"],KE=["toggle"];function Vu(t){return WE.includes(t)?"string":HE.includes(t)?"array":YE.includes(t)?"number":KE.includes(t)?"boolean":t;}var js=class{constructor(){this.partialReferences=new Map;this.cacheReferences=new Map;this.removesPageScope=new Map;}clearAllReferences(e){this.clearPartialReferences(e),this.clearCacheReferences(e);}registerPartialReferences(e,n){this.partialReferences.has(e)==!1&&this.partialReferences.set(e,[]),this.partialReferences.set(e,n);}registerCacheReferences(e,n){this.cacheReferences.has(e)==!1&&this.cacheReferences.set(e,[]),this.cacheReferences.set(e,n);}clearPartialReferences(e){this.partialReferences.has(e)&&this.partialReferences.set(e,[]);}clearRemovesPageScope(e){this.removesPageScope.has(e)&&this.removesPageScope.delete(e);}pageScopeDisabled(e){return this.removesPageScope.has(e);}clearCacheReferences(e){this.cacheReferences.has(e)&&this.cacheReferences.set(e,[]);}setRemovesPageScope(e,n){this.removesPageScope.set(e,n);}getPartialReferences(e){return this.partialReferences.has(e)==!1?[]:this.partialReferences.get(e);}getCacheReferencnes(e){return this.cacheReferences.has(e)==!1?[]:this.cacheReferences.get(e);}hasPartialReferences(e){return this.partialReferences.has(e);}hasCacheReferences(e){return this.cacheReferences.has(e);}};js.instance=null;(typeof js.instance=="undefined"||js.instance==null)&&(js.instance=new js);var Cr=js;var Jt=class{constructor(){this.index=-1;this.offset=0;this.line=0;this.char=0;}shiftRight(e){let n=new Jt;return n.offset=this.offset+e,n.index=this.index+e,n.line=this.line,n.char=this.char+e,n;}isBefore(e){return e==null?!1:e.line>this.line||e.line==this.line&&this.offset<e.offset;}isWithin(e,n,r=0){return e==null||n==null?!1:this.index>=e.index&&this.index<=n.index+r;}isWithinRange(e){return e==null?!1:e.start!=null&&e.end!=null?this.isWithin(e.start,e.end):!1;}};var ii=K(AT(),1),dj=ii.default.v1,mj=ii.default.v3,Ho=ii.default.v4,hj=ii.default.v5,gj=ii.default.NIL,_j=ii.default.version,yj=ii.default.validate,Tj=ii.default.stringify,bj=ii.default.parse;var yd=class{constructor(){this.start=null;this.end=null;}},fl=yd;fl.Empty=new yd;function ET(t,e){let n=e.copy(),r=e.copy();return r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"group",introducedBy:t}),r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"key",introducedBy:t}),r.addScopeList("items",n),e.addScopeList("groups",r),e;}function wT(t,e){let n=e.copy();return e.addScopeList("items",n),e;}var OT=[{name:"as",acceptsType:["array"],returnsType:["array"],description:"Alias the array variable with a key.",docLink:"https://statamic.dev/modifiers/as",parameters:[{name:"alias",description:"The alias name."}],canBeParameter:!0},{name:"ampersand_list",acceptsType:["array"],returnsType:["string"],description:"Converts the array into a comma delimited string, with an ampersand before the last item.",docLink:"https://statamic.dev/modifiers/ampersand_list",parameters:[],canBeParameter:!1},{name:"collapse",acceptsType:["array"],returnsType:["array"],description:"Collapses an array of arrays into a single, flat, array.",docLink:"https://statamic.dev/modifiers/collapse",parameters:[],canBeParameter:!1},{name:"contains",acceptsType:["array","string"],returnsType:["boolean"],description:"Tests if the value contains another value.",docLink:"https://statamic.dev/modifiers/contains",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1},{name:"count",acceptsType:["array"],returnsType:["number"],description:"Returns the number of items in the array.",docLink:"https://statamic.dev/modifiers/count",parameters:[],canBeParameter:!1},{name:"dl",acceptsType:["array"],returnsType:["string"],description:"Turns an associative array into an HTML definition list.",docLink:"https://statamic.dev/modifiers/dl",parameters:[],canBeParameter:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],description:"Breaks a string into an array on a given delimiter.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The delimiter to break the string apart on."}],canBeParameter:!0},{name:"flatten",acceptsType:["array"],returnsType:["array"],description:"Flattens a multi-dimensional array.",docLink:"https://statamic.dev/modifiers/flatten",parameters:[],canBeParameter:!1},{name:"flip",acceptsType:["array"],returnsType:["array"],description:"Swaps the array keys with their values.",docLink:"https://statamic.dev/modifiers/flip",parameters:[],canBeParameter:!1},{name:"group_by",acceptsType:["array"],returnsType:["array"],description:"Groups the array items by the given key.",docLink:"https://statamic.dev/modifiers/group_by",parameters:[{name:"key",description:"The key to group by."}],canBeParameter:!0,augmentScope:ET},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1},{name:"is_empty",acceptsType:["array"],returnsType:["boolean"],description:"Tests if the array is empty.",docLink:"https://statamic.dev/modifiers/is_empty",parameters:[],canBeParameter:!1},{name:"join",acceptsType:["array"],returnsType:["string"],description:"Turn an array into a string by gluing together all the data.",docLink:"https://statamic.dev/modifiers/join",parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0},{name:"joinplode",acceptsType:["array"],returnsType:["string"],description:"Turn an array into a string by gluing together all the data.",docLink:null,parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0},{name:"limit",acceptsType:["array"],returnsType:["array"],description:"Limits the number of items returned in the array",docLink:"https://statamic.dev/modifiers/limit",parameters:[{name:"count",description:"The maximum number of items to return."}],canBeParameter:!0},{name:"list",acceptsType:["array"],returnsType:["string"],description:"Converts the array into a comma-separated string.",docLink:"https://statamic.dev/modifiers/list",parameters:[],canBeParameter:!1},{name:"offset",acceptsType:["array"],returnsType:["array"],description:"Offsets the items returned in the array.",docLink:"https://statamic.dev/modifiers/offset",parameters:[{name:"offset",description:"The one-based index to start retrieving items."}],canBeParameter:!0},{name:"ol",acceptsType:["array"],returnsType:["string"],description:"Turns the array into an HTML ordered list.",docLink:"https://statamic.dev/modifiers/ol",parameters:[],canBeParameter:!1},{name:"option_list",acceptsType:["array"],returnsType:["string"],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/option_list",parameters:[],canBeParameter:!1},{name:"pluck",acceptsType:["array"],returnsType:["array"],description:"Plucks a value from a collection of items.",parameters:[{name:"value",description:"The value to pluck from the array or collection."}],canBeParameter:!0,docLink:null},{name:"pad",acceptsType:["array"],returnsType:["array"],description:"Pads the array to a specified length with the given value.",docLink:"https://statamic.dev/modifiers/pad",parameters:[{name:"length",description:"The desired length of the array."},{name:"value",description:"The value to pad the array with."}],canBeParameter:!0},{name:"piped",acceptsType:["array"],returnsType:["string"],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/piped",parameters:[],canBeParameter:!1},{name:"sentence_list",acceptsType:["array"],returnsType:["string"],description:'Turns the array into a comma-delimited list, with the word "and" before the last item.',docLink:"https://statamic.dev/modifiers/sentence_list",parameters:[],canBeParameter:!1},{name:"shuffle",acceptsType:["array"],returnsType:["array"],description:"Randomizes the order of array elements.",docLink:"https://statamic.dev/modifiers/shuffle",parameters:[],canBeParameter:!1},{name:"sort",acceptsType:["array"],returnsType:["array"],description:"Sorts the array by a key in ascending or descending order.",docLink:"https://statamic.dev/modifiers/sort",parameters:[{name:"key",description:"The key to sort by."},{name:"order",description:"The sort direction. `asc` or `desc`."}],canBeParameter:!0},{name:"sum",acceptsType:["array"],returnsType:["number"],description:"Returns the sum of all items in the array.",docLink:"https://statamic.dev/modifiers/sum",parameters:[{name:"key",description:"The value to sum."}],canBeParameter:!1},{name:"ul",acceptsType:["array"],returnsType:["string"],description:"Turns the array into an HTML unordered list.",docLink:"https://statamic.dev/modifiers/ul",parameters:[],canBeParameter:!1},{name:"unique",acceptsType:["array"],returnsType:["array"],description:"Returns all unique items in the array.",docLink:"https://statamic.dev/modifiers/unique",parameters:[],canBeParameter:!1},{name:"where",acceptsType:["array"],returnsType:["array"],description:"Filters the array by a given key and value.",docLink:"https://statamic.dev/modifiers/where",parameters:[{name:"key",description:"The property to filter by."},{name:"value",description:"The value to compare to."}],canBeParameter:!0},{name:"split",acceptsType:["array"],returnsType:["array"],description:"Splits an array into smaller arrays with the provided size.",canBeParameter:!0,docLink:"",parameters:[{name:"size",description:"The size of each new array"}],augmentScope:wT},{name:"compact",acceptsType:["string"],returnsType:["array"],description:"Accepts a comma-delimited list of variable names and return an array with their values.",canBeParameter:!0,docLink:"",parameters:[{name:"variables",description:"A comma-delimited list of variable names."}]}];var LT=[{name:"background_position",acceptsType:["string"],returnsType:["string"],description:"Converts an asset focal point into a background-position CSS property.",docLink:"https://statamic.dev/modifiers/background_position",parameters:[],canBeParameter:!1},{name:"image",acceptsType:["string"],returnsType:["string"],description:"Generates an HTML image element with the variable's value as the src.",docLink:"https://statamic.dev/modifiers/image",parameters:[],canBeParameter:!1},{name:"output",acceptsType:["string"],returnsType:["string"],description:"Returns the string output of an Asset file's contents.",docLink:"https://statamic.dev/modifiers/output",parameters:[],canBeParameter:!1}];var DT=[{name:"contains_all",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_all",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1},{name:"contains_any",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_any",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1},{name:"ends_with",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string ends with another string.",docLink:"https://statamic.dev/modifiers/ends_with",parameters:[{name:"value",description:"The value to check against."}],canBeParameter:!1},{name:"has_lower_case",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains any lowercase characters.",docLink:"https://statamic.dev/modifiers/has_lower_case",parameters:[],canBeParameter:!1},{name:"has_upper_case",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains any uppercase characters.",docLink:"https://statamic.dev/modifiers/has_upper_case",parameters:[],canBeParameter:!1},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value(s) to search for."}],canBeParameter:!1},{name:"is_after",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the string contains only alphanumeric characters.",docLink:"https://statamic.dev/modifiers/is_after",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1},{name:"is_alphanumeric",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only alphanumeric characters.",docLink:"https://statamic.dev/modifiers/is_alphanumeric",parameters:[],canBeParameter:!1},{name:"is_before",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if a date is before another date.",docLink:"https://statamic.dev/modifiers/is_before",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1},{name:"is_between",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if a date is between two other dates.",docLink:"https://statamic.dev/modifiers/is_between",parameters:[{name:"start_date",description:"The start date to compare."},{name:"end_date",description:"The end date to compare."}],canBeParameter:!1},{name:"is_blank",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only whitespace characters.",docLink:"https://statamic.dev/modifiers/is_blank",parameters:[],canBeParameter:!1},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1},{name:"is_future",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is in the future.",docLink:"https://statamic.dev/modifiers/is_future",parameters:[],canBeParameter:!1},{name:"is_json",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is valid JSON.",docLink:"https://statamic.dev/modifiers/is_json",parameters:[],canBeParameter:!1},{name:"is_leap_year",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a leap year.",docLink:"https://statamic.dev/modifiers/is_leap_year",parameters:[],canBeParameter:!1},{name:"is_numeric",acceptsType:["string","number"],returnsType:["boolean"],description:"Tests if the value is a number or numeric string.",docLink:"https://statamic.dev/modifiers/is_numeric",parameters:[],canBeParameter:!1},{name:"is_past",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is in the past.",docLink:"https://statamic.dev/modifiers/is_past",parameters:[],canBeParameter:!1},{name:"is_today",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is today.",docLink:"https://statamic.dev/modifiers/is_today",parameters:[],canBeParameter:!1},{name:"is_uppercase",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only uppercase characters.",docLink:"https://statamic.dev/modifiers/is_uppercase",parameters:[],canBeParameter:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1},{name:"is_weekday",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a week day.",docLink:"https://statamic.dev/modifiers/is_weekday",parameters:[],canBeParameter:!1},{name:"is_weekend",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a weekend day.",docLink:"https://statamic.dev/modifiers/is_weekend",parameters:[],canBeParameter:!1},{name:"is_yesterday",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is yesterday.",docLink:"https://statamic.dev/modifiers/is_yesterday",parameters:[],canBeParameter:!1},{name:"is_tomorrow",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is tomorrow.",docLink:null,parameters:[],canBeParameter:!1},{name:"starts_with",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a value starts with the provided value.",docLink:"https://statamic.dev/modifiers/starts_with",parameters:[{name:"value",description:"The value to test for."}],canBeParameter:!1}];var MT=[{name:"days_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of days since a given date.",docLink:"https://statamic.dev/modifiers/days_ago",parameters:[],canBeParameter:!1},{name:"format_translated",acceptsType:["string","date"],returnsType:["string","date"],description:"Returns a formatted Carbon datetime/string.",docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0},{name:"format",acceptsType:["string","date"],returnsType:["string","date"],description:"Formats the date using the provided format using PHP's [date variables](https://www.php.net/date).",docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0},{name:"format_localized",acceptsType:["string","date"],returnsType:["string","date"],description:"Forms the date using server's locale, using PHP's [strftime format variables](https://www.php.net/strftime).",docLink:"https://statamic.dev/modifiers/format_localized",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0},{name:"hours_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of hours since the date.",docLink:"https://statamic.dev/modifiers/hours_ago",parameters:[],canBeParameter:!1},{name:"iso_format",acceptsType:["string","date"],returnsType:["string","date"],description:"Formats the date using an ISO format.",docLink:"https://statamic.dev/modifiers/iso_format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!1},{name:"minutes_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of minutes since the date.",docLink:"https://statamic.dev/modifiers/minutes_ago",parameters:[],canBeParameter:!1},{name:"modify_date",acceptsType:["string","date"],returnsType:["string","date"],description:"Alters the date by incrementing or decrementing it in a format accepted by PHP's [strtotime](https://www.php.net/strtotime) function.",docLink:"https://statamic.dev/modifiers/modify_date",parameters:[],canBeParameter:!0},{name:"months_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of months since the date.",docLink:"https://statamic.dev/modifiers/months_ago",parameters:[],canBeParameter:!1},{name:"relative",acceptsType:["string","date"],returnsType:["string"],description:"Returns a human readable date difference.",docLink:"https://statamic.dev/modifiers/relative",parameters:[{name:"add_ago",description:"Whether to add the relative suffix words at the end of the string."}],canBeParameter:!1},{name:"seconds_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of seconds since the date.",docLink:"https://statamic.dev/modifiers/seconds_ago",parameters:[],canBeParameter:!1},{name:"timezone",acceptsType:["string","date"],returnsType:["string","date"],description:"Applies a timezone to the date.",docLink:"https://statamic.dev/modifiers/timezone",parameters:[{name:"timezone",description:"The timezone to apply."}],canBeParameter:!1},{name:"weeks_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of weeks since the date.",docLink:"https://statamic.dev/modifiers/weeks_ago",parameters:[],canBeParameter:!1},{name:"years_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of years since the date.",docLink:"https://statamic.dev/modifiers/years_ago",parameters:[],canBeParameter:!1}];var kT=[{name:"chunk",acceptsType:["array"],returnsType:["array"],description:"Breaks the array or collection into smaller arrays of a given size.",docLink:"https://statamic.dev/modifiers/chunk",parameters:[{name:"chunk_size",description:"The maximum length of each new chunk."}],canBeParameter:!0},{name:"favicon",acceptsType:["string"],returnsType:["string"],description:"Generates a favicon HTML meta tag for the given value.",docLink:"https://statamic.dev/modifiers/favicon",parameters:[],canBeParameter:!1},{name:"first",acceptsType:["string"],returnsType:["string"],description:"Returns the specified number of characters from the beginning of the string.",docLink:"https://statamic.dev/modifiers/first",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0},{name:"last",acceptsType:["string"],returnsType:["string"],description:"Returns the specified number of characters from the end of the string.",docLink:"https://statamic.dev/modifiers/last",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0},{name:"link",acceptsType:["string"],returnsType:["string"],description:"Generates an HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/link",parameters:[],canBeParameter:!1},{name:"mailto",acceptsType:["string"],returnsType:["string"],description:"Generates a mailto HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/mailto",parameters:[],canBeParameter:!1},{name:"markdown",acceptsType:["string"],returnsType:["string"],description:"Parses the value as Markdown and returns the HTML.",docLink:"https://statamic.dev/modifiers/markdown",parameters:[],canBeParameter:!1},{name:"nl2br",acceptsType:["string"],returnsType:["string"],description:"Replaces line breaks with HTML `<br>` tags.",docLink:"https://statamic.dev/modifiers/nl2br",parameters:[],canBeParameter:!1},{name:"obfuscate",acceptsType:["string"],returnsType:["string"],description:"Modifies the input string by replacing it with special characters, making it harder for bots but remains readable to site visitors.",docLink:"https://statamic.dev/modifiers/obfuscate",parameters:[],canBeParameter:!1},{name:"obfuscate_email",acceptsType:["string"],returnsType:["string"],description:"Obfuscates an email address with special HTML characters.",docLink:"https://statamic.dev/modifiers/obfuscate_email",parameters:[],canBeParameter:!1},{name:"strip_tags",acceptsType:["string"],returnsType:["string"],description:"Removes HTML tags from the string.",docLink:"https://statamic.dev/modifiers/strip_tags",parameters:[{name:"tags",description:"The HTML tag(s) to remove from the string."}],canBeParameter:!1},{name:"table",acceptsType:["array"],returnsType:["string"],description:"Turns a [Table FieldType](https://statamic.dev/fieldtypes/table) array into an HTML table.",docLink:"https://statamic.dev/modifiers/table",parameters:[{name:"content_markdown",description:"Whether to parse cell contents as Markdown."}],canBeParameter:!1},{name:"textile",acceptsType:["string"],returnsType:["string"],description:"Parses a string with [Textile](http://demo.textilewiki.com/theme-default/) and returns the HTML.",docLink:"https://statamic.dev/modifiers/textile",parameters:[],canBeParameter:!1},{name:"wrap",acceptsType:["string"],returnsType:["string"],description:"Wraps a string with a given HTML tag.",docLink:"https://statamic.dev/modifiers/wrap",parameters:[{name:"expression",description:"The HTML tag or Emmet-style expression to wrap the value in."}],canBeParameter:!1}];var FT=[{name:"add",acceptsType:["number"],returnsType:["number"],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!0},{name:"+",acceptsType:["number"],returnsType:["number"],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!1},{name:"ceil",acceptsType:["number"],returnsType:["number"],description:"Rounds the value to the next whole number.",docLink:"https://statamic.dev/modifiers/ceil",parameters:[],canBeParameter:!1},{name:"divide",acceptsType:["number"],returnsType:["number"],description:"Divides two values.",docLink:"https://statamic.dev/modifiers/divide",parameters:[{name:"value",description:"The value to divide."}],canBeParameter:!0},{name:"floor",acceptsType:["number"],returnsType:["number"],description:"Rounds a number down to the next whole number.",docLink:"https://statamic.dev/modifiers/floor",parameters:[],canBeParameter:!0},{name:"format_number",acceptsType:["number"],returnsType:["string"],description:"Formats a number.",docLink:"https://statamic.dev/modifiers/format_number",parameters:[{name:"precision",description:"Number of decimal places before rounding."},{name:"decimal_separator",description:"The decimal separator (defaults to `.`)."},{name:"thousands_separator",description:"The thousands separator (default `,`)."}],canBeParameter:!0},{name:"mode",acceptsType:["number"],returnsType:["number"],description:"",docLink:"",parameters:[],canBeParameter:!0},{name:"multiply",acceptsType:["number"],returnsType:["number"],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!0},{name:"*",acceptsType:["number"],returnsType:["number"],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!1},{name:"round",acceptsType:["number"],returnsType:["number"],description:"Rounds a number to a specified precision.",docLink:"https://statamic.dev/modifiers/round",parameters:[{name:"precision",description:"The number of digits after the decimal point."}],canBeParameter:!0},{name:"subtract",acceptsType:["number"],returnsType:["number"],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!0},{name:"-",acceptsType:["number"],returnsType:["number"],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!1}];var qT=[{name:"partial",acceptsType:["*"],returnsType:["*view*"],description:"Injects data into a partial and renders it.",docLink:"https://statamic.dev/modifiers/partial",parameters:[{name:"partial",description:"The name of the partial."}],canBeParameter:!1},{name:"macro",acceptsType:["*"],returnsType:["*"],description:"Runs a pre-configured macro on the data.",docLink:"https://statamic.dev/modifiers/macro",parameters:[{name:"macro",description:"The macro name."}],canBeParameter:!1},{name:"url",acceptsType:["string"],returnsType:["string"],description:"Locates the URL of an asset, page, entry, or taxonomy term based on the variable contents.",docLink:"https://statamic.dev/modifiers/url",parameters:[],canBeParameter:!1}];var VT=[{name:"ascii",acceptsType:["string"],returnsType:["string"],description:"Replaces all non-ASCII characters with their closest ASCII counterparts.",docLink:"https://statamic.dev/modifiers/ascii",parameters:[],canBeParameter:!1},{name:"at",acceptsType:["string"],returnsType:["string"],description:"Returns the character at a given zero-based position.",docLink:"https://statamic.dev/modifiers/at",parameters:[{name:"position",description:"The zero-based position to retrieve a character from."}],canBeParameter:!0},{name:"backspace",acceptsType:["string"],returnsType:["string"],description:"Removes a specified number of characters from the end of a string.",docLink:"https://statamic.dev/modifiers/backspace",parameters:[{name:"character_count",description:"The number of characters to remove from the end of the string."}],canBeParameter:!0},{name:"camelize",acceptsType:["string"],returnsType:["string"],description:"Converts the string into camelCase.",docLink:"https://statamic.dev/modifiers/camelize",parameters:[],canBeParameter:!1},{name:"cdata",acceptsType:["string"],returnsType:["string"],description:"Wraps the string in CDATA XML tags.",docLink:"https://statamic.dev/modifiers/cdata",parameters:[],canBeParameter:!1},{name:"collapse_whitespace",acceptsType:["string"],returnsType:["string"],description:"Trims a string and replaces consecutive whitespace characters with a single space.",docLink:"https://statamic.dev/modifiers/collapse_whitespace",parameters:[],canBeParameter:!1},{name:"count_substring",acceptsType:["string"],returnsType:["number"],description:"Counts the number of occurrences of a term within the string.",docLink:"https://statamic.dev/modifiers/count_substring",parameters:[{name:"term",description:"The sub-string to search for"}],canBeParameter:!0},{name:"dashify",acceptsType:["string"],returnsType:["string"],description:"Returns a lower-cased and trimmed string, separated by dashes.",docLink:"https://statamic.dev/modifiers/dashify",parameters:[],canBeParameter:!1},{name:"deslugify",acceptsType:["string"],returnsType:["string"],description:"Replaces all hyphens and underscores with spaces.",docLink:"https://statamic.dev/modifiers/deslugify",parameters:[],canBeParameter:!1},{name:"embed_url",acceptsType:["string"],returnsType:["string"],description:"Converts a YouTube or Viemo link into their embed URLs.",docLink:"https://statamic.dev/modifiers/embed_url",parameters:[],canBeParameter:!1},{name:"trackable_embed_url",acceptsType:["string"],returnsType:["string"],description:"Get the embed URL when given a youtube or vimeo link that's direct to the page.",docLink:null,parameters:[],canBeParameter:!1},{name:"ensure_left",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string begins with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_left",parameters:[{name:"start_string",description:"The value that should be at the start of the string."}],canBeParameter:!0},{name:"ensure_right",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string ends with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_right",parameters:[{name:"end_string",description:"The value that should be at the end of the string."}],canBeParameter:!0},{name:"entities",acceptsType:["string"],returnsType:["string"],description:"Encode a string with HTML entities.",docLink:"https://statamic.dev/modifiers/entities",parameters:[],canBeParameter:!1},{name:"excerpt",acceptsType:["string"],returnsType:["string"],description:"Breaks a string at a given marker.",docLink:"https://statamic.dev/modifiers/excerpt",parameters:[{name:"marker",description:"The string to break by."}],canBeParameter:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],description:"Breaks a string into an array of strings.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The string to split the larger string by."}],canBeParameter:!0},{name:"gravatar",acceptsType:["string"],returnsType:["string"],description:"Converts an email string to a Gravatar image URL.",docLink:"https://statamic.dev/modifiers/gravatar",parameters:[{name:"image size",description:"The desired image size."}],canBeParameter:!0},{name:"insert",acceptsType:["string"],returnsType:["string"],description:"Inserts a string at the position provided.",docLink:"https://statamic.dev/modifiers/insert",parameters:[{name:"value",description:"The value to insert."},{name:"position",description:"The zero based position to insert the text at."}],canBeParameter:!0},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1},{name:"is_embeddable",acceptsType:["string"],returnsType:["boolean"],description:"Checks to see if a video URL is embeddable.",docLink:"https://statamic.dev/modifiers/is_embeddable",parameters:[],canBeParameter:!1},{name:"is_lowercase",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if the string contains only lowercase characters.",docLink:"https://statamic.dev/modifiers/is_lowercase",parameters:[],canBeParameter:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if a string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1},{name:"lcfirst",acceptsType:["string"],returnsType:["string"],description:"Converts the first character of the value to lower case.",docLink:"https://statamic.dev/modifiers/lcfirst",parameters:[],canBeParameter:!1},{name:"length",acceptsType:["string"],returnsType:["number"],description:"Returns the number of items in an array or number of characters in a string.",docLink:"https://statamic.dev/modifiers/length",parameters:[],canBeParameter:!1},{name:"lower",acceptsType:["string"],returnsType:["string"],description:"Converts all characters to lowercase.",docLink:"https://statamic.dev/modifiers/lower",parameters:[],canBeParameter:!1},{name:"md5",acceptsType:["string"],returnsType:["string"],description:"Creates an MD5 hash of the variable.",docLink:"https://statamic.dev/modifiers/md5",parameters:[],canBeParameter:!1},{name:"rawurlencode",acceptsType:["string"],returnsType:["string"],description:"URL-encode a variable according to RFC-3986.",docLink:"https://statamic.dev/modifiers/rawurlencode",parameters:[],canBeParameter:!1},{name:"read_time",acceptsType:["string"],returnsType:["string"],description:"Returns an estimated read time, in minutes.",docLink:"https://statamic.dev/modifiers/read_time",parameters:[{name:"words per minute",description:"The words per minute to use as an estimate."}],canBeParameter:!0},{name:"regex_replace",acceptsType:["string"],returnsType:["string"],description:"Replaces all regex matches with a string.",docLink:"https://statamic.dev/modifiers/regex_replace",parameters:[{name:"pattern",description:"The regex pattern."},{name:"replace",description:"The replacement value."}],canBeParameter:!0},{name:"remove_left",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string never begins with a specified string.",docLink:"https://statamic.dev/modifiers/remove_left/",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0},{name:"remove_right",acceptsType:["string"],returnsType:["string"],description:"Ensures that a string never ends with a specified string.",docLink:"https://statamic.dev/modifiers/remove_right",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0},{name:"replace",acceptsType:["string"],returnsType:["string"],description:"Replaces all occurrences of a string with a different value.",docLink:"https://statamic.dev/modifiers/replace",parameters:[{name:"needle",description:"The string to search for."},{name:"value",description:"The value to replace all occurrences with."}],canBeParameter:!0},{name:"reverse",acceptsType:["string","array"],returnsType:["string","array"],description:"Reverses all characters in a string, or all items in an array.",docLink:"https://statamic.dev/modifiers/reverse",parameters:[],canBeParameter:!1},{name:"safe_truncate",acceptsType:["string"],returnsType:["string"],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/safe_truncate",parameters:[{name:"length",description:"The desired string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1},{name:"sanitize",acceptsType:["string"],returnsType:["string"],description:"Converts special characters to HTML entities.",docLink:"https://statamic.dev/modifiers/sanitize",parameters:[],canBeParameter:!1},{name:"segment",acceptsType:["string"],returnsType:["string"],description:"Returns a segment by number from any valid URL or URI.",docLink:"https://statamic.dev/modifiers/segment",parameters:[{name:"segment",description:"The one-based segment to return."}],canBeParameter:!0},{name:"singular",acceptsType:["string"],returnsType:["string"],description:"Returns the singular form of an English word.",docLink:"https://statamic.dev/modifiers/singular",parameters:[],canBeParameter:!1},{name:"slugify",acceptsType:["string"],returnsType:["string"],description:"Converts the string into an URL slug.",docLink:"https://statamic.dev/modifiers/slugify",parameters:[],canBeParameter:!1},{name:"smartypants",acceptsType:["string"],returnsType:["string"],description:"Translates plain ASCII punctuation characters into typographic punctuation HTML entities.",docLink:"https://statamic.dev/modifiers/smartypants",parameters:[],canBeParameter:!1},{name:"spaceless",acceptsType:["string"],returnsType:["string"],description:"Removes excess whitespace and line breaks from a string.",docLink:"https://statamic.dev/modifiers/spaceless",parameters:[],canBeParameter:!1},{name:"substr",acceptsType:["string"],returnsType:["string"],description:"Returns a portion of a string based on provided a start index, and optional length.",docLink:"https://statamic.dev/modifiers/substr",parameters:[{name:"start",description:"The 0-based index to start searching."},{name:"length",description:"An optional length for the string to find."}],canBeParameter:!1},{name:"surround",acceptsType:["string"],returnsType:["string"],description:"Surrounds a string with another string.",docLink:"https://statamic.dev/modifiers/surround",parameters:[{name:"value",description:"The value to surround the string with."}],canBeParameter:!1},{name:"swap_case",acceptsType:["string"],returnsType:["string"],description:"Returns a case swapped version of the string.",docLink:"https://statamic.dev/modifiers/swap_case",parameters:[],canBeParameter:!1},{name:"tidy",acceptsType:["string"],returnsType:["string"],description:"Returns a string with smart quotes, ellipsis characters, and dashes from Windows-1252 replaced by ASCII equivalents.",docLink:"https://statamic.dev/modifiers/tidy",parameters:[],canBeParameter:!1},{name:"title",acceptsType:["string"],returnsType:["string"],description:"Returns a Title Cased version of the string.",docLink:"https://statamic.dev/modifiers/title",parameters:[],canBeParameter:!1},{name:"trim",acceptsType:["string"],returnsType:["string"],description:"Removes whitespace from the start and end of the string.",docLink:"https://statamic.dev/modifiers/trim",parameters:[],canBeParameter:!1},{name:"truncate",acceptsType:["string"],returnsType:["string"],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/truncate",parameters:[{name:"length",description:"The maximum string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1},{name:"ucfirst",acceptsType:["string"],returnsType:["string"],description:"Upper cases the first character in the string.",docLink:"https://statamic.dev/modifiers/ucfirst",parameters:[],canBeParameter:!1},{name:"underscored",acceptsType:["string"],returnsType:["string"],description:"Returns a lower-cased and trimmed version of the string, separated by underscores.",docLink:"https://statamic.dev/modifiers/underscored",parameters:[],canBeParameter:!1},{name:"upper",acceptsType:["string"],returnsType:["string"],description:"Transforms the string to uppercase.",docLink:"https://statamic.dev/modifiers/upper",parameters:[],canBeParameter:!1},{name:"urldecode",acceptsType:["string"],returnsType:["string"],description:"URL-decodes the string.",docLink:"https://statamic.dev/modifiers/urldecode",parameters:[],canBeParameter:!1},{name:"urlencode",acceptsType:["string"],returnsType:["string"],description:"URL-encodes the string.",docLink:"https://statamic.dev/modifiers/urlencode",parameters:[],canBeParameter:!1},{name:"widont",acceptsType:["string"],returnsType:["string"],description:"Attempts to prevent lines with single words.",docLink:"https://statamic.dev/modifiers/widont",parameters:[],canBeParameter:!1},{name:"word_count",acceptsType:["string"],returnsType:["number"],description:"Returns the number of words in the string.",docLink:"https://statamic.dev/modifiers/word_count",parameters:[],canBeParameter:!1},{name:"add_slashes",acceptsType:["string"],returnsType:["string"],description:"Adds slashes before characters that need to be escaped.",docLink:"https://statamic.dev/modifiers/add_slashes",canBeParameter:!1,parameters:[]}];var BT=[{name:"console_log",acceptsType:["*"],returnsType:["null"],description:"Displays variable data in the browser's JavaScript console.",docLink:"https://statamic.dev/modifiers/console_log",parameters:[],canBeParameter:!1},{name:"decode",acceptsType:["string"],returnsType:["string"],description:"Converts all HTML entities to their applicable character codes.",docLink:"https://statamic.dev/modifiers/decode",parameters:[],canBeParameter:!1},{name:"dump",acceptsType:["*"],returnsType:["null"],description:"Displays variable data in the browser.",docLink:"https://statamic.dev/modifiers/dump",parameters:[],canBeParameter:!1},{name:"full_urls",acceptsType:["string"],returnsType:["string"],description:"Replaces root-relative URLs with absolute URLs.",docLink:"https://statamic.dev/modifiers/full_urls",parameters:[],canBeParameter:!1},{name:"repeat",acceptsType:["string"],returnsType:["string"],description:"Repeats a value a given number of times.",docLink:"https://statamic.dev/modifiers/repeat",parameters:[{name:"repeat_count",description:"The number of times to repeat the value."}],canBeParameter:!0},{name:"to_spaces",acceptsType:["string"],returnsType:["string"],description:"Converts all tabs to spaces.",docLink:"https://statamic.dev/modifiers/to_spaces",parameters:[{name:"space_count",description:"The number of spaces to replace tabs with."}],canBeParameter:!1},{name:"to_tabs",acceptsType:["string"],returnsType:["string"],description:"Converts spaces to tabs.",docLink:"https://statamic.dev/modifiers/to_tabs",parameters:[{name:"space_count",description:"The number of spaces to convert to tabs."}],canBeParameter:!1},{name:"to_json",acceptsType:["*"],returnsType:["string"],description:"Converts the data to JSON.",docLink:"https://statamic.dev/modifiers/to_json",parameters:[],canBeParameter:!1}];var ns=class{constructor(){this.registeredModifiers=new Map;this.acceptTypedModifierReference=new Map;this.returnTypeModifierReference=new Map;this.macros=new Map;this.modifierNameCache=[];}reset(){this.modifierNameCache=[],this.registeredModifiers.clear(),this.acceptTypedModifierReference.clear(),this.returnTypeModifierReference.clear();}getRegisteredModifiers(){return this.registeredModifiers;}resetMacros(){this.macros.clear();}loadCoreModifiers(){this.registerModifiers(OT),this.registerModifiers(LT),this.registerModifiers(DT),this.registerModifiers(MT),this.registerModifiers(kT),this.registerModifiers(FT),this.registerModifiers(BT),this.registerModifiers(VT),this.registerModifiers(qT);}getModifierNames(){return this.modifierNameCache;}registerMacro(e){this.macros.set(e.name,e);}registerMacros(e){for(let n=0;n<e.length;n++)this.registerMacro(e[n]);}hasMacro(e){if(this.macros.has(e)){let n=this.macros.get(e);return!(typeof n=="undefined"||n===null);}return!1;}getMacro(e){if(this.macros.has(e)){let n=this.macros.get(e);return typeof n=="undefined"||n===null?null:n;}return null;}getMacroManifestingType(e){let n=this.getMacro(e);return n==null?"":n.manifestsType;}getRegisteredModifier(e){return this.registeredModifiers.has(e)?this.registeredModifiers.get(e):null;}getModifiersForType(e){let n=Vu(e);return this.acceptTypedModifierReference.has(n)?this.acceptTypedModifierReference.get(n):[];}getProbableReturnType(e,n){return e==null||e.returnsType.length==0?"":n&&e.returnsType.includes("array")?"array":e.returnsType[0];}registerModifiers(e){var n,r;for(let i=0;i<e.length;i++){let s=e[i];this.modifierNameCache.push(s.name);for(let o=0;o<s.acceptsType.length;o++){let a=s.acceptsType[o];this.acceptTypedModifierReference.has(a)==!1&&this.acceptTypedModifierReference.set(a,[]),(n=this.acceptTypedModifierReference.get(a))==null||n.push(s);}for(let o=0;o<s.returnsType.length;o++){let a=s.returnsType[o];this.returnTypeModifierReference.has(a)==!1&&this.returnTypeModifierReference.set(a,[]),(r=this.returnTypeModifierReference.get(a))==null||r.push(s);}this.registeredModifiers.set(e[i].name,e[i]);}}registerModifier(e){let n=[];n.push(e),this.registerModifiers(n);}getModifier(e){if(this.registeredModifiers.has(e)==!1)return null;let n=this.registeredModifiers.get(e);return typeof n=="undefined"||n==null?null:n;}hasModifier(e){if(!this.registeredModifiers.has(e))return!1;let n=this.registeredModifiers.get(e);return!(typeof n=="undefined"||n==null);}};ns.instance=null;(typeof ns.instance=="undefined"||ns.instance==null)&&(ns.instance=new ns,ns.instance.loadCoreModifiers());var xe=ns;var Td=class{constructor(e){this.parameterModifiers=[];this.hasMixedModifierStyles=!1;this.modifierNames=[];this.node=e;}isPaired(){return this.node instanceof W?this.node.isPaired():!1;}getModifierValue(e){var n;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let i=this.node.modifierChain.modifierChain[r];if(((n=i.nameNode)==null?void 0:n.name)==e)return i.valueNodes.length>0?i.valueNodes[0].content:"";}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let i=this.parameterModifiers[r];if(i.name==e)return i.value;}return null;}getModifierRange(e){var n;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let i=this.node.modifierChain.modifierChain[r];if(((n=i.nameNode)==null?void 0:n.name)==e)return i.valueNodes.length>0?{start:i.startPosition,end:i.endPosition}:null;}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let i=this.parameterModifiers[r];if(i.name==e&&i.namePosition!=null&&i.valuePosition!=null)return{start:i.namePosition.start,end:i.valuePosition.end};}return null;}getLastManifestedModifierRuntimeType(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null){if(this.node.modifierChain.lastManifestedModifier.parameters.length>0&&this.node.modifierChain.lastManifestedModifier.modifier!=null&&xe.instance!=null){let e=this.node.modifierChain.lastManifestedModifier.modifier;return xe.instance.getProbableReturnType(e,this.isPaired());}return"*";}if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null&&xe.instance!=null){let r=e[n].modifier;return xe.instance.getProbableReturnType(r,this.isPaired());}}return"*";}getLastManifestedModifierValue(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null)return this.node.modifierChain.lastManifestedModifier.parameters.length>0?this.node.modifierChain.lastManifestedModifier.parameters[0].value:"";if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null)return e[n].value;}return"";}getLastManifestedModifier(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastModifier!=null)return this.node.modifierChain.lastModifier;if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null)return e[n].modifier;}return null;}hasModifiers(){return this.node.modifierChain==null||this.node.modifierChain.modifierChain.length==0?this.parameterModifiers.length>0:!0;}hasParameterModifiers(){return this.parameterModifiers.length>0;}hasShorthandModifiers(){return this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0;}hasModifier(e){return this.modifierNames.includes(e);}};function bd(t){let e=[];return t.forEach(n=>{n instanceof W?e.push(n):n instanceof Ar&&n.logicBranches.length>0&&n.logicBranches.forEach(r=>{if(r.head!=null){let i=r.head;i.originalNode!=null?e.push(i.originalNode):e.push(i);}});}),e;}var ec=pb(),Zw=mb(),X=class{static normalizeLineEndings(e,n=`
`){return e.replace(/\r?\n/g,n);}static split(e){return e.split("");}static substring(e,n,r){return e.substr(n,r);}static ctypeSpace(e){return ec.ctype_space(e);}static ctypeAlpha(e){return ec.ctype_alpha(e);}static ctypeDigit(e){return ec.ctype_digit(e);}static ctypePunct(e){return ec.ctype_punct(e);}static trimLeft(e,n="\\s"){return e.replace(new RegExp("^["+n+"]+"),"");}static trimRight(e,n="\\s"){return e.replace(new RegExp("["+n+"]+$"),"");}static isNumeric(e){return Zw(e);}static substringCount(e,n){let r=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return(e.match(new RegExp(r,"gi"))||[]).length;}};var vd=class{constructor(e){this.node=e;}findParentWithName(e){let n=this.node.getParser();return n==null?null:n.structure.findParentWithName(e,this.node);}};var gb=K(tc());var M=class{constructor(){this.node=null;this.errorCode="";this.message="";this.level=0;this.range=null;}hash(){var n,r,i,s;let e="";return this.node!=null&&(e=((r=(n=this.node.endPosition)==null?void 0:n.offset)!=null?r:0).toString()+"|"+((s=(i=this.node.startPosition)==null?void 0:i.offset)!=null?s:0).toString()+"|"),gb.Md5.hashStr(e+"|"+this.errorCode+"|"+this.message);}static makeSyntaxError(e,n,r,i){i==null&&(i=0);let s=new M;return s.errorCode=e,s.node=n,s.message=r,s.level=i,s;}};var S=class{};S.TYPE_EXPECTING_OPERAND="ANTLR_001",S.TYPE_UNEXPECTED_END_OF_INPUT="ANTLR_002",S.TYPE_RUNTIME_TYPE_MISMATCH="ANTLR_003",S.TYPE_RUNTIME_DIVIDE_BY_ZERO="ANTLR_004",S.TYPE_RUNTIME_UNKNOWN_LANG_OPERATOR="ANTLR_005",S.TYPE_RUNTIME_UNEXPECTED_STACK_CONDITION="ANTLR_006",S.TYPE_RUNTIME_PARSE_VALUE_VIOLATION="ANTLR_007",S.TYPE_PARSE_UNCLOSED_CONDITIONAL="ANTLR_008",S.TYPE_PARSE_EMPTY_CONDITIONAL="ANTLR_009",S.TYPE_PARSE_UNPAIRED_CONDITIONAL="ANTLR_008",S.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE="ANTLR_009",S.TYPE_INCOMPLETE_ANTLERS_REGION="ANTLR_010",S.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION="ANTLR_011",S.TYPE_ILLEGAL_VARPATH_RIGHT="ANTLR_012",S.TYPE_ILLEGAL_DOTVARPATH_RIGHT="ANTLR_013",S.TYPE_ILLEGAL_VARPATH_SUBPATH_START="ANTLR_014",S.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT="ANTLR_015",S.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR="ANTLR_016",S.TYPE_ILLEGAL_VARIABLE_NAME="ANTLR_017",S.TYPE_UNSET_MODIFIER_DETAILS="ANTLR_018",S.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS="ANTLR_019",S.TYPE_MODIFIER_UNEXPECTED_VALUE="ANTLR_020",S.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST="ANTLR_021",S.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR="ANTLR_022",S.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH="ANTLR_023",S.TYPE_RECURSIVE_UNPAIRED_NODE="ANTLR_024",S.TYPE_RECURSIVE_NODE_INVALID_POSITION="ANTLR_025",S.TYPE_NO_PARSE_UNASSOCIATED="ANTLR_026",S.TYPE_RECURSIVE_NODE_UNASSOCIATED_PARENT="ANTLR_027",S.TYPE_LOGIC_GROUP_NO_END="ANTLR_028",S.TYPE_LOGIC_GROUP_NO_START="ANTLR_029",S.TYPE_UNEXPECTED_BRANCH_SEPARATOR="ANTLR_030",S.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE="ANTLR_031",S.TYPE_UNEXPECTED_MODIFIER_SEPARATOR="ANTLR_032",S.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS="ANTLR_033",S.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE="ANTLR_034",S.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER="ANTLR_035",S.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE="ANTLR_036",S.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS="ANTLR_037",S.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SEMANTIC_GROUP="ANTLR_038",S.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP="ANTLR_039",S.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP="ANTLR_040",S.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH="ANTLR_041",S.TYPE_UNEXPECTED_EOI_WHILE_EXITING_TERNARY_GROUP="ANTLR_042",S.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET="ANTLR_043",S.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION="ANTLR_044",S.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END="ANTLR_045",S.TYPE_RUNTIME_UNKNOWN_LIBRARY="ANTLR_046",S.TYPE_RUNTIME_LIBRARY_BAD_METHOD_CALL="ANTLR_047",S.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS="ANTLR_048",S.TYPE_UNEXPECTED_FACTORIAL_OPERAND="ANTLR_049",S.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR="ANTLR_050",S.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED="ANTLR_051",S.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT="ANTLR_052",S.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP="ANTLR_053",S.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT="ANTLR_054",S.TYPE_LIBRARY_CALL_NO_ARGS_PROVIDED="ANTLR_055",S.TYPE_LIBRARY_CALL_MISSING_REQUIRED_FORMAL_ARG="ANTLR_056",S.TYPE_LIBRARY_CALL_RUNTIME_TYPE_MISMATCH="ANTLR_057",S.TYPE_LIBRARY_CALL_UNEXPECTED_ARG_RESOLVE_FAULT="ANTLR_058",S.TYPE_LIBRARY_CALL_TOO_MANY_ARGUMENTS="ANTLR_059",S.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD="ANTLR_060",S.TYPE_INVALID_NAMED_ARG_IDENTIFIER="ANTLR_061",S.TYPE_LIBRARY_CALL_INVALID_ARGUMENT_NAME="ANTLR_062",S.TYPE_RUNTIME_ATTEMPT_TO_OVERWRITE_LOADED_LIBRARY="ANTLR_063",S.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP="ANTLR_064",S.TYPE_EXPECTING_ARGUMENT_GROUP="ANTLR_065",S.TYPE_RUNTIME_PROTECTED_LIBRARY_ACCESS_VIOLATION="ANTLR_066",S.TYPE_RUNTIME_FATAL_UNPAIRED_LOOP_END="ANTLR_067",S.TYPE_UNEXPECTED_OPERATOR="ANTLR_068",S.TYPE_OPERATOR_INVALID_ON_RIGHT="ANTLR_069",S.TYPE_INVALID_ASSIGNMENT_LOOP_PAIR="ANTLR_070",S.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP="ANTLR_071",S.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND="ANTLR_072",S.TYPE_QUERY_UNSUPPORTED_VALUE_TYPE="ANTLR_073",S.TYPE_UNEXPECTED_RUNTIME_RESULT_FOR_ORDER_BY_CLAUSE="ANTLR_074",S.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP="ANTLR_075",S.TYPE_INVALID_ORDER_BY_NAME_VALUE="ANTLR_076",S.TYPE_INVALID_ORDER_BY_SORT_VALUE="ANTLR_077",S.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY="ANTLR_78",S.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY="ANTLR_079",S.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE="ANTLR_080",S.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP="ANTLR_081",S.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP="ANTLR_082",S.TYPE_UNEXPECTED_SWITCH_START_VALUE="ANTLR_083",S.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE="ANTLR_084",S.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_SEMANTIC_VALUE="ANTLR_085",S.TYPE_SWITCH_DEFAULT_MUST_BE_LAST="ANTLR_086",S.TYPE_PARSER_INVALID_SWITCH_TOKEN="ANTLR_087",S.TYPE_ORDER_BY_INVALID_RETURN_TYPE="ANTLR_088",S.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED="ANTLR_089",S.TYPE_PLUCK_INTO_MISSING_VARIABLE_TARGET="ANTLR_090",S.TYPE_PLUCK_INTO_INVALID_VARIABLE_TARGET="ANTLR_091",S.TYPE_PLUCK_INTO_NO_PREDICATE="ANTLR_092",S.TYPE_PLUCK_INTO_INVALID_PREDICATE_VALUE="ANTLR_093",S.TYPE_PLUCK_INTO_EMPTY_LOGIC_GROUP="ANTLR_094",S.TYPE_PLUCK_INTO_INVALID_NUMBER_OF_TUPLE_VARIABLES="ANTLR_095",S.TYPE_PLUCK_INTO_UNKNOWN_ALIAS_VARNAME="ANTLR_096",S.TYPE_PLUCK_INTO_UNEXPECTED_EMPTY_T_LOGIC_GROUP="ANTLR_097",S.TYPE_PLUCK_INTO_REFERENCE_TYPE_DYNAMIC="ANTLR_098",S.TYPE_PLUCK_INTO_REFERENCE_AMBIGUOUS="ANTLR_099",S.TYPE_RUNTIME_ASSIGNMENT_TO_NON_VAR="ANTLR_100",S.TYPE_ARR_MAKE_MISSING_TARGET="ANTLR_101",S.TYPE_ARR_MAKE_UNEXPECTED_TYPE="ANTLR_102",S.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE="ANTLR_103",S.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE="ANTLR_104",S.TYPE_ARR_UNEXPECT_ARG_SEPARATOR="ANTLR_105",S.TYPE_ARR_KEY_PAIR_MISSING_KEY="ANTLR_106",S.RUNTIME_PROTECTED_VAR_ACCESS="ANTLR_107",S.RUNTIME_PROTECTED_TAG_ACCESS="ANTLR_108",S.RUNTIME_PROTECTED_MODIFIER_ACCESS="ANTLR_109",S.TYPE_INCOMPLETE_PHP_EVALUATION_REGION="ANTLR_110",S.RUNTIME_PHP_NODE_WHEN_PHP_DISABLED="ANTLR_111",S.RUNTIME_PHP_NODE_USER_CONTENT_TAG="ANTLR_112",S.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST="ANTLR_113",S.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST="ANTLR_114",S.TYPE_MISSING_BODY_TUPLE_LIST="ANTLR_115",S.TYPE_MISSING_NAMES_TUPLE_LIST="ANTLR_116",S.TYPE_VALUE_NAME_LENGTH_MISMATCH_TUPLE_LIST="ANTLR_117",S.TYPE_INVALID_TUPLE_LIST_NAME_TYPE="ANTLR_118",S.TYPE_INVALID_MANIFESTED_NAME_GROUP="ANTLR_119",S.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP="ANTLR_120",S.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE="ANTLR_121",S.TYPE_RUNTIME_BAD_METHOD_CALL="ANTLR_122",S.TYPE_METHOD_CALL_MISSING_ARG_GROUP="ANTLR_123",S.TYPE_INVALID_METHOD_CALL_ARG_GROUP="ANTLR_124",S.TYPE_METHOD_CALL_MISSING_METHOD="ANTLR_125",S.TYPE_MODIFIER_NOT_FOUND="ANTLR_126",S.TYPE_RUNTIME_GENERAL_FAULT="ANTLR_127",S.TYPE_MODIFIER_INCORRECT_VALUE_POSITION="ANTLR_128",S.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX="ANTLR_129",S.PARSER_CANNOT_PARSE_PATH_RECURSIVE="ANTLR_200",S.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR="ANTLR_201",S.LINT_UNKNOWN_PARAMETER="ANTLR_500",S.LINT_GENERAL_INVALID_PARAMETER_CONTENTS="ANTLR_501",S.LINT_PARAMETER_CONTENT_INVALID_INTEGER="ANTLR_502",S.LINT_PARAMETER_CONTENT_INVALID_BOOLEAN="ANT LR_503",S.LINT_PAGINATE_INVALID_VALUE="ANTLR_504",S.LINT_DEBUG_DATA_EXPOSED="ANTLR_505",S.LINT_DOUBLE_COLON_IN_TAG_IDENTIFIER="ANTLR_506",S.LINT_MIXED_MODIFIERS="ANTLER_507",S.LINT_MODIFIER_UNEXPECTED_TYPE="ANTLR_508",S.LINT_REMOVE_RELATE_TAG="ANTLR_509",S.LINT_SET_PRODUCES_RUNTIME_ERROR="ANTLR_510",S.LINT_FRONT_MATTER_EMPTY_DOCUMENT="ANTLR_511",S.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH="ANTLR_512",S.LINT_INVALID_FRONT_MATTER="ANTLR_513",S.LINT_DUPLICATE_CODE="ANTLR_514",S.LINT_VERSION_NOT_COMPATIBLE="ANTLR_515";var lt=class{static distance(e,n){return e.endPosition==null||n.startPosition==null?this.DistMax:n.startPosition.index-e.endPosition.index;}static getTrueName(e){var n,r,i,s;return e.originalNode!=null?(r=(n=e.originalNode.name)==null?void 0:n.name)!=null?r:"":(s=(i=e.name)==null?void 0:i.name)!=null?s:"";}static getSimpleVarName(e){return e.variableReference!=null&&e.variableReference.pathParts.length==1&&e.variableReference.pathParts[0]instanceof qn?e.variableReference.pathParts[0].name:"";}static isVariableMatching(e,n){return e instanceof ie?e.name==n:!1;}static mergeVarContentLeft(e,n,r){return r.mergeRefName=r.name,r.endPosition=n.endPosition,r.name=r.name+e,r;}static mergeVarContentRight(e,n,r){return r.mergeRefName=r.name,r.startPosition=n.startPosition,r.name=e+r.name,r;}static mergeVarRight(e,n){return n.mergeRefName=n.name,n.startPosition=e.startPosition,n.name=e.name+n.name,n;}static getUnrefName(e){return X.trimLeft(e,":.");}};lt.DistMax=65e3;var rr=class{static isConditionalStructure(e){var r,i;if(e.isComment)return!1;let n=(i=(r=e.name)==null?void 0:r.name)!=null?i:"";return n=="if"||n=="elseif"||n=="else";}static requiresClose(e){var r,i;let n=(i=(r=e.name)==null?void 0:r.name)!=null?i:"";return n=="elseif"||n=="else"?e.isClosedBy==null:!(e.isClosingTag||e.isClosedBy!=null);}static getValidClosingPairs(e){return e=="if"||e=="elseif"?rr.conditionClosingPairs:[];}static findClosestStructurePair(e,n,r){var u,f,c,d,p,m,h,v;let i=[],s=e.length,o=new Map,a=null;i.push({node:n,index:r});for(let g=0;g<s;g+=1){let _=e[g];if(_ instanceof W){let T=(f=(u=_.name)==null?void 0:u.name)!=null?f:"";if(_.isClosingTag&&T=="if"){o.set(g,g);continue;}else if(T=="elseif"||T=="else"){o.set(g,g);continue;}}}let l=o.size;for(;i.length>0;){let g=i.pop();if(g==null)continue;if(g.node._conditionParserAbandonPairing)break;let _=g.node,T=rr.getValidClosingPairs((d=(c=_.name)==null?void 0:c.name)!=null?d:""),I=g.index,w=!1;if(l>50&&a!=null){for(let[$,B]of o)if($>I){I=$;break;}}for(let $=I;$<s;$++){let B=e[$];if(B instanceof W&&rr.isConditionalStructure(B)){if(rr.requiresClose(B)){i.push(g),i.push({node:B,index:$+1}),w=!0;break;}if(_.isClosedBy!=null)continue;let ue=(m=(p=B.name)==null?void 0:p.name)!=null?m:"",ae=!1;if(B.ref==0&&(B.isClosingTag&&ue=="if"||T.includes(ue))&&(ae=!0),B.refId==_.refId&&(ae=!1),ae){a=$,o.delete($),_.isClosedBy=B,B.isOpenedBy=_,B.ref+=1,w=!0;break;}}}if(!w&&_ instanceof W){let $=(v=(h=_.name)==null?void 0:h.name)!=null?v:"";($=="elseif"||$=="else")&&_.isOpenedBy==null&&(_.pushError(M.makeSyntaxError(S.TYPE_PARSE_UNPAIRED_CONDITIONAL,_,'Unpaired "'+lt.getTrueName(_)+'" control structure.')),_._conditionParserAbandonPairing=!0),_.isClosedBy==null&&rr.requiresClose(_)&&(_.pushError(M.makeSyntaxError(S.TYPE_PARSE_UNCLOSED_CONDITIONAL,_,'Unclosed "'+lt.getTrueName(_)+'" control structure.')),_._conditionParserAbandonPairing=!0);}}}static pairConditionals(e){for(let n=0;n<e.length;n+=1){let r=e[n];r instanceof W&&rr.isConditionalStructure(r)&&rr.requiresClose(r)&&rr.findClosestStructurePair(e,r,n+1);}return e.forEach(n=>{var r,i;if(n instanceof W&&rr.isConditionalStructure(n)){let s=(i=(r=n.name)==null?void 0:r.name)!=null?i:"";if((s=="elseif"||s=="else")&&n.isOpenedBy==null){n.pushError(M.makeSyntaxError(S.TYPE_PARSE_UNPAIRED_CONDITIONAL,n,'Unpaired "'+lt.getTrueName(n)+'" control structure.'));return;}if(n.isClosedBy==null&&rr.requiresClose(n)){n.pushError(M.makeSyntaxError(S.TYPE_PARSE_UNCLOSED_CONDITIONAL,n,"Unclosed "+lt.getTrueName(n)+" control structure."));return;}}}),e;}},Oi=rr;Oi.conditionClosingPairs=["elseif","else"];var Y=class{constructor(){this.refId=null;this.index=0;this.parent=null;this.content="";this.rawLexContent="";this.sourceContent="";this.startPosition=null;this.endPosition=null;this.modifierChain=null;this.originalAbstractNode=null;this.positionContexts=[];this.addedContexts=new Map;this.isVirtual=!0;this.isPartOfMethodChain=!1;this.isVirtualGroupMember=!1;this.isVirtualGroupOperatorResolve=!1;this.isSwitchGroupMember=!1;this.isListGroupMember=!1;this.producesVirtualStatementTerminator=!1;this.convertedToOperator=!1;this.scopeVariable=null;this.currentScope=null;this.manifestType="";this.scopeName=null;this.sourceType="";this.runtimeType=null;this.modifiers=new Td(this);this.prev=null;this.next=null;this.methodTarget=null;this.libraryTarget=null;this.antlersErrors=[];this.parser=null;this.refId=Ho();}getContexts(){return this.positionContexts;}addContext(e){this.addedContexts.has(e.refId)==!1&&(this.addedContexts.set(e.refId,!0),this.positionContexts.push(e));}getRange(){if(this.originalAbstractNode!=null)return this.originalAbstractNode.getRange();if(this.startPosition==null||this.endPosition==null)return fl.Empty;let e=new fl;return e.start=this.startPosition,e.end=this.endPosition,e;}withParser(e){this.parser=e;}getParser(){return this.parser;}pushError(e){this.parent!=null&&this.parent.pushError(e),this.antlersErrors.push(e),this.parent==null&&this.parser!=null&&this.parser.pushError(e);}mergeErrors(e){e.forEach(n=>{n.node==null&&(n.node=this),this.antlersErrors.push(n);});}getErrors(){return this.antlersErrors;}innerContent(){return this.content;}rawContent(){return this.content;}},Pd=class extends Y{constructor(){super(...arguments);this.head=null;this.tail=null;this.nodes=[];}},Ar=class extends Y{constructor(){super(...arguments);this.logicBranches=[];this.chain=[];}},W=class extends Y{constructor(){super(...arguments);this.isNodeAbanonded=!1;this.isComment=!1;this.isTagNode=!1;this.isConditionNode=!1;this.runtimeContent="";this.name=null;this.pathReference=null;this.isClosingTag=!1;this.isInterpolationNode=!1;this.isOpenedBy=null;this.isClosedBy=null;this.isSelfClosing=!1;this.children=[];this.runtimeNodes=[];this.parsedRuntimeNodes=[];this.hasParsedRuntimeNodes=!1;this.parameters=[];this.hasParameters=!1;this.contentOffset=null;this.cachedContent=null;this.cachedInnerContent=null;this.hasRecursiveNode=!1;this.recursiveReference=null;this.rawStart="";this.rawEnd="";this.originalNode=null;this.interpolationRegions=new Map;this.processedInterpolationRegions=new Map;this.hasProcessedInterpolationRegions=!1;this.ref=0;this.contentStartRelativeIndex=null;this.antlersNodeIndex=0;this.nameStartsOn=null;this.nameEndsOn=null;this.nameMethodPartStartsOn=null;this.structure=new vd(this);this.mustClose=!1;this.reference=null;this._conditionParserAbandonPairing=!1;this._isEndVirtual=!1;}nodeAtIndex(e){if(this.runtimeNodes.length==0)return null;for(let n=0;n<this.runtimeNodes.length;n++)if(this.runtimeNodes[n].index==e)return this.runtimeNodes[n];return null;}isEmpty(){return this.content.trim().length==0;}nameMatches(e){return this.name==null?!1:this.name.content==e;}copyBasicDetails(){return this.copyBasicDetailsTo(new W);}copyBasicDetailsTo(e){return e.refId=this.refId,e.isComment=this.isComment,e.isTagNode=this.isTagNode,e.children=this.children,e.parameters=this.parameters,e.isClosingTag=this.isClosingTag,e.rawStart=this.rawStart,e.rawEnd=this.rawEnd,e.startPosition=this.startPosition,e.endPosition=this.endPosition,e;}id(){return this.refId;}innerContent(){return this.cachedInnerContent==null&&(this.cachedInnerContent=this.content.replace('"','\\"')),this.cachedInnerContent;}resetContentCache(){this.cachedContent=null,this.cachedInnerContent=null;}hasMethodPart(){return this.name==null?!1:this.name.getMethodName()!=null;}runtimeName(){return this.name==null?"":this.name.getCompoundTagName();}getTagName(){return this.name==null?"":this.name.name;}getNameContent(){return this.name==null?"":this.name.content;}getMethodNameValue(){if(this.name==null)return"";let e=this.name.getMethodName();return e!=null?e:"";}methodIsEmptyOrMatches(e){return this.getMethodNameValue()==e;}hasParameter(e){return this.findParameter(e)!=null;}hasParameterWithValue(e,n){let r=this.findParameter(e);return r==null?!1:r.value==n;}findParameterValue(e,n){let r=this.findParameter(e);return r==null?n:r.value;}findParameterValueOrNull(e){let n=this.findParameter(e);return n==null?null:n.value;}findParameter(e){if(this.parameters.length==0)return null;for(let n=0;n<this.parameters.length;n++)if(this.parameters[n].name==e)return this.parameters[n];return null;}findAnyParameter(e){for(let n=0;n<e.length;n++){let r=this.findParameter(e[n]);if(r!=null)return r;}return null;}getContentRelativeStartIndex(){if(this.contentStartRelativeIndex==null){let e=this.content.split("");for(let n=0;n<e.length;n++)if(!X.ctypeSpace(e[n])){this.contentStartRelativeIndex=n;break;}this.contentStartRelativeIndex==null&&(this.contentStartRelativeIndex=e.length),this.contentStartRelativeIndex+=this.rawStart.length;}return this.contentStartRelativeIndex;}getContent(){if(this.cachedContent==null)if(this.isComment)this.cachedContent=this.content,this.contentOffset=this.startPosition;else if(this.isTagNode){let e=this.content;e=X.trimLeft(e);let n=0;if(this.name!=null&&(n=this.name.compound.length),this.parameters.length>0){let o=0,a=this.parameters[0];a.startPosition!=null&&(o=a.startPosition.index-1);let l=e,u=l.trimLeft(),f=l.length-u.length,c=n;e=e.substr(0,o);}let r=e.trimLeft(),i=e.length-r.length,s=n+i+2;if(this.parser!=null){let o=0;this.startPosition!=null&&(o=this.startPosition.offset),this.contentOffset==this.parser.positionFromOffset(o+s,0);}this.name!=null?this.name.name=="if"||this.name.name=="elseif"||this.name.name=="unless"||this.name.name=="elseunless"?(e=" "+e.trimLeft(),this.cachedContent=e.substr(this.name.compound.length+1)):this.cachedContent=e:this.cachedContent=e;}else if(this.parameters.length>0){let e=this.parameters[0],n=0;e.startPosition!=null&&(n=e.startPosition.index-1),this.contentOffset=this.startPosition,this.cachedContent=this.content.substr(0,n);}else this.contentOffset=this.startPosition,this.cachedContent=this.content;return this.cachedContent;}relativePositionFromOffset(e,n){var r,i;return this.parser==null?null:this.parser.positionFromOffset(((i=(r=this.contentOffset)==null?void 0:r.offset)!=null?i:0)+e,n);}getInterpolationNode(e){if(this.processedInterpolationRegions.has(e)){let n=this.processedInterpolationRegions.get(e);if(n.length>0&&n[0]instanceof W)return n[0];}return null;}_lexerRelativeOffset(e,n=null){var o,a;let r=e;if(n!=null&&(r=n),this.parser==null){let l=new Jt;return l.index=e,l.offset=e,l;}let i=e+this.rawStart.length+((a=(o=this.startPosition)==null?void 0:o.index)!=null?a:0);return this.isTagNode&&this.nameStartsOn!=null&&(i=this.nameStartsOn.index+e,Oi.isConditionalStructure(this)||(i-=this.rawStart.length)),this.parser.positionFromOffset(i,i,!0);}relativeOffset(e,n=null){var o,a;let r=e;if(n!=null&&(r=n),this.parser==null){let l=new Jt;return l.index=e,l.offset=e,l;}let i=e+this.rawStart.length+((a=(o=this.startPosition)==null?void 0:o.index)!=null?a:0);return this.parser.positionFromOffset(i,i,!0);}isPaired(){return!(this.isClosedBy==null||this.isSelfClosing);}rawContent(){return this.rawStart+this.content+this.rawEnd;}getTrueRuntimeNodes(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRuntimeNodes():this.runtimeNodes;}getTrueRawContent(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRawContent():this.rawContent();}getTrueNode(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueNode():this;}getStructuralChildren(){return this.isClosedBy!=null?bd(this.children.slice(0,-1)):bd(this.children);}},Vn=class extends W{static makeWithStartPosition(e){let n=new Vn;return n.startPosition=e,n.endPosition=e,n;}},ut=class extends Vn{},ir=class extends W{constructor(){super(...arguments);this.recursiveParent=null;this.isNestedRecursive=!1;}},Gs=class extends W{constructor(){super(...arguments);this.isEchoNode=!1;}},pl=class extends Vn{},Id=class extends Vn{},si=class extends W{constructor(){super(...arguments);this.isNoParseRegion=!1;}},Ws=class extends Y{constructor(){super(...arguments);this.modifier=null;this.isModifierParameter=!1;this.nameDelimiter='"';this.isVariableReference=!1;this.name="";this.value="";this.interpolations=[];this.parent=null;this.blockPosition=null;this.namePosition=null;this.valuePosition=null;}containsSimpleValue(){return this.hasInterpolations()==!1&&this.isVariableReference==!1;}hasInterpolations(){return this.interpolations.length>0;}getArrayValue(){return this.value.split("|");}getValue(){return this.value;}},dl=class{constructor(){this.modifierTarget=null;this.modifierChain=[];this.startPosition=null;this.endPosition=null;this.lastManifestedModifier=null;this.lastModifier=null;}updateValues(){if(this.modifierChain.length==0)this.startPosition=null,this.endPosition=null;else{let e=this.modifierChain[0],n=this.modifierChain[this.modifierChain.length-1];this.startPosition=e.startPosition,this.endPosition=n.endPosition;}}},Yo=class extends Y{constructor(){super(...arguments);this.modifier=null;this.methodStyleArguments=null;this.nameNode=null;this.name="";this.valueNodes=[];this.parameters=[];}getParameterValues(){let e=[];return this.parameters.forEach(n=>{e.push(n.value);}),e;}},ml=class extends Y{constructor(){super(...arguments);this.order=0;this.name=null;this.directionNode=null;}},Sd=class extends Y{constructor(){super(...arguments);this.value="";}},Er=class extends Y{},sr=class extends Y{},wr=class extends Y{},Bn=class extends Y{},jn=class extends Y{},oi=class extends Y{},rs=class extends Y{constructor(){super(...arguments);this.repeat=1;}},ai=class extends Y{},Un=class extends Y{},xn=class extends Y{},Or=class extends Y{},Lr=class extends Y{},Gn=class extends Y{},Dr=class extends Y{},Mr=class extends Y{},li=class extends Y{},gn=class extends Y{},or=class extends Y{},Li=class extends Y{},kr=class extends Y{},Fr=class extends Y{},qr=class extends Y{},Vr=class extends Y{},Br=class extends Y{},jr=class extends Y{},Di=class extends Y{},Ur=class extends Y{},en=class extends Y{},Hs=class extends Y{constructor(){super(...arguments);this.orderClauses=[];}},Tt=class extends Y{},_n=class extends Y{},hl=class extends Y{constructor(){super(...arguments);this.left=null;this.right=null;}},An=class extends Y{},Gr=class extends Y{},ar=class extends Y{},tn=class extends Y{},Wr=class extends Y{},ui=class extends Y{},lr=class extends Y{},yn=class extends Y{},ci=class extends Y{},Dt=class extends Y{},Wt=class extends Y{},Ko=class extends Y{constructor(){super(...arguments);this.values=[];this.isNamedNode=!1;this.parsedName=null;}},Le=class extends Y{constructor(){super(...arguments);this.start=null;this.end=null;this.nodes=[];this.scopeOperator=null;}},$o=class extends Y{constructor(){super(...arguments);this.condition=null;this.expression=null;}},Ys=class extends Y{constructor(){super(...arguments);this.cases=[];}},Rd=class extends Y{constructor(){super(...arguments);this.left=null;this.right=null;}},Mi=class extends Y{constructor(){super(...arguments);this.nodes=[];}},gl=class extends Y{constructor(){super(...arguments);this.head=null;this.truthBranch=null;this.falseBranch=null;}},Pt=class extends Y{},xt=class extends Y{constructor(){super(...arguments);this.nodes=[];this.separatorToken=null;}},ur=class extends Le{constructor(){super(...arguments);this.scope=null;}extract(){let e=null;this.scope!=null&&(e=this.scope.name);let n=this.nodes[0];return[e,n.nodes];}},ki=class extends ur{constructor(){super(...arguments);this.alias=null;}},zo=class extends Y{constructor(){super(...arguments);this.args=[];this.hasNamedArguments=!1;this.numberOfNamedArguments=0;}},Hr=class extends Y{},Cd=class extends Y{};var is=class extends Y{constructor(){super(...arguments);this.libraryName="";this.methodName="";this.arguments=null;}},Ht=class extends Y{},Yt=class extends Y{constructor(){super(...arguments);this.method=null;this.args=null;}},Mt=class extends Y{constructor(){super(...arguments);this.name="";}},kt=class extends Y{constructor(){super(...arguments);this.value="";this.name="";}},nc=class extends Y{constructor(){super(...arguments);this.name=null;this.value=null;}},_l=class extends Y{constructor(){super(...arguments);this.name=null;this.value=null;}},Ft=class extends Y{constructor(){super(...arguments);this.value=null;}},bt=class extends Y{constructor(){super(...arguments);this.value="";this.sourceTerminator="";}},ie=class extends Y{constructor(){super(...arguments);this.name="";this.mergeRefName="";this.variableReference=null;this.interpolationNodes=[];this.isInterpolationReference=!1;}},xd=class extends Y{constructor(){super(...arguments);this.name="";}},qn=class extends Y{constructor(){super(...arguments);this.delimiter="";this.name="";this.isStringVar=!1;this.isFinal=!1;}},ss=class{constructor(){this.originalContent="";this.normalizedReference="";this.isStrictTagReference=!1;this.isStrictVariableReference=!1;this.isExplicitVariableReference=!1;this.isVariableVariable=!1;this.pathParts=[];this.isFinal=!1;this._isFromEmptyFailState=!1;}clone(){let e=new ss;return e.originalContent=this.originalContent,e.normalizedReference=this.normalizedReference,e.isStrictVariableReference=this.isStrictVariableReference,e.isExplicitVariableReference=this.isExplicitVariableReference,e.pathParts=this.pathParts,e.isFinal=this.isFinal,e;}implodePaths(){let e=[];return this.pathParts.forEach(n=>{n instanceof qn?e.push(n.name):n instanceof ss&&e.push(n.implodePaths());}),e.join(".");}};var QN=K(Cn());var Xo=K(rt());function Ad(t,e){let n=[];if(t.currentNode==null)return n;let r={start:{line:t.position.line,character:t.position.character-0},end:t.position};for(let i=0;i<e.length;i++){let s=e[i];if(!t.currentNode.hasParameter(s.name)){let o=s.name+'="$1"';n.push({label:s.name,kind:Xo.CompletionItemKind.Value,insertTextFormat:Xo.InsertTextFormat.Snippet,textEdit:Xo.TextEdit.replace(r,o),command:{title:"Suggest",command:"editor.action.triggerSuggest"}});}}return n;}var Qo=K(rt());function os(t,e,n){return{label:t,insertText:t,kind:Qo.CompletionItemKind.Field,detail:n+": "+e};}function eO(t,e){let n="";return e.length>0&&(n=e.join(", ")),"**"+t+"** `"+n+"`  \n";}function rc(t){let e=eO(t.name,t.acceptsType),n="";if(t.parameters.length>0){let s=[];t.parameters.forEach(o=>{s.push("$"+o.name);}),n=s.join(", ");}let r="";if(t.returnsType.length==1)r=t.returnsType[0];else{let s=[];t.returnsType.forEach(o=>{s.push(o);}),r=s.join(", ");}return e+=t.description+`
`,e+="```js\n",e+="function "+t.name+"("+n+"):"+r,e+="\n```",t.docLink!=null&&t.docLink.trim().length>0&&(e+=`  

`,e+="[Documentation Reference]("+t.docLink+")"),{label:t.name,insertText:t.name,documentation:{kind:Qo.MarkupKind.Markdown,value:e},kind:Qo.CompletionItemKind.Function};}function ic(t){let e=[];for(let n=0;n<t.length;n++)typeof t[n].name!="undefined"&&e.push(Ed(t[n]));return e;}function Ed(t){let e="",n=t.name;return t.instructionText!=null&&(e=t.instructionText),t.displayName!=null&&(n=t.displayName+" ("+t.name+")"),t.blueprintName!=null&&(e.trim().length>0&&(e+=`
`),e+="Blueprint: "+t.blueprintName),t.type!=null&&(n+=": "+t.type),{label:t.name,insertText:t.name,kind:Qo.CompletionItemKind.Field,documentation:e,detail:n};}function En(t,e){return e==null&&(e="s"),t.replace(new RegExp("^["+e+"]+"),"");}function pt(t,e,n){return t.replace(new RegExp(e,"g"),n);}function Yr(t,e){return e==null&&(e="s"),t.replace(new RegExp("["+e+"]+$"),"");}function Oe(t,e,n,r){let i="**"+t+"**  ";return i+=`
`,i+=e+"  ",i+="\n```antlers\n",i+=n,i+="\n```",r!=null&&(i+=`

`,i+="[Documentation Reference]("+r+")"),i;}function D(t,e,n){let r="**"+t+"**  ";return r+=`
`,r+=e+"  ",n!=null&&(r+=`

`,r+="[Documentation Reference]("+n+")"),r;}function Jo(t){let e=[];return t=="order"&&e.push("sort"),e;}var _b=["replicator","bard"];function tO(t){return{blueprintName:t.sourceName,displayName:t.name,instructionText:"",maxItems:-1,name:t.name,refFieldSetField:null,type:t.dataType,sets:null,import:null};}function sc(t){let e=[];for(let n=0;n<t.length;n++)e.push(tO(t[n]));return e;}function wd(t,e=""){return{blueprintName:"fieldset",displayName:e+t.name,instructionText:t.instructionText,maxItems:t.maxItems,name:e+t.handle,type:t.type,refFieldSetField:t,sets:t.sets,import:t.import};}function yb(t,e,n){return t=="select"&&typeof e.field.multiple!="undefined"&&e.field.multiple===!0&&(t="select_multiple"),(typeof e.field.multiple=="undefined"||n>1)&&(t=="form"?t="form_multiple":t=="sites"?t="sites_multiple":t=="taxonomies"?t="taxonomies_multiple":t=="user_groups"?t="user_groups_multiple":t=="user_roles"?t="user_roles_multiple":t=="terms"?t="terms_multiple":t=="users"?t="users_multiple":t=="structures"&&(t="structures_multiple")),t;}function Tb(t){let e=[];for(let n=0;n<t.length;n++)e.push(wd(t[n]));return e;}function Ge(t){return[{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"order",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t}];}function bb(t,e,n){if(typeof n=="undefined"||n===null)return;let r=t.findParameter("as"),i=t.findParameter("scope");n=n.concat(sc(Ge(t))),r!=null&&i!=null?e.introduceScopedAliasScope(t,i.value,r.value,n):r!=null?e.introduceAliasScope(t,r.value,n):i!=null?e.introduceDynamicScopeList(t,i.value,n):e.addBlueprintFields(t,n);}function vb(t){return[{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t},{name:"total_results",dataType:"integer",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t}];}var Kr=K(rt());var as=[{isRequired:!1,name:"from",description:"The collection name to retrieve entries from",aliases:["folder","use"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"not_from",aliases:["not_folder","dont_use"],description:"The collections to exclude when retrieving entries",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"show_unpublished",aliases:null,description:"Controls whether unpbulished entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_published",aliases:null,description:"Controls whether published entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_past",aliases:null,description:"Controls whether to display entries with a past date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"since",aliases:null,description:"Sets the minimum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"until",aliases:null,description:"Sets the maximum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the entry sort order",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",aliases:null,description:"Sets the maximum number of entries to return",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["integer"],isDynamic:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope",expectsTypes:["string"],isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets the amount that entry results should be offset by",expectsTypes:["integer"],isRequired:!1,name:"offset",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether not to paginate entry results",expectsTypes:["boolean","number"],isRequired:!1,name:"paginate",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies a name to give to a new entries array variable",expectsTypes:["string"],isRequired:!1,name:"as",isDynamic:!1},{name:"scope",aliases:null,acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Sets a prefix on all entry variables",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"locale",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the locale in which to retrieve entry content",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"redirects",aliases:["links"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Controls whether entries with redirects are returned",expectsTypes:["boolean"],isRequired:!1,isDynamic:!1}],Nb=["from","folder","use"],Pb=["not_from","not_folder","dont_use"],Ib=["draft","scheduled","expired","published"];function Sb(t){let e=[];if(t.project!=null){let n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position},r=t.project.getUniqueTaxonomyNames();for(let i=0;i<r.length;i++){let s=r[i],o=t.originalLeftWord+s+'="$1"';e.push({label:t.originalLeftWord+s,insertTextFormat:Kr.InsertTextFormat.Snippet,kind:Kr.CompletionItemKind.Field,textEdit:Kr.TextEdit.replace(n,o),command:{title:"Suggest",command:"editor.action.triggerSuggest"}});}}return e;}function Zo(t,e){let n=[];if(t.reference!=null){let r=t.reference,i=e.statamicProject.getBlueprintFields(r.collectionNames);typeof i!="undefined"&&i!=null&&(n=i);}return n;}function Rb(t){let e=[],n=Ib.filter(r=>!t.includes(r));for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Kr.CompletionItemKind.Variable});return e;}function Cb(t,e,n){let r=[],i=n.getTaxonomyTerms(e),s=i.filter(o=>!t.includes(o));for(let o=0;o<s.length;o++)r.push({label:s[o],kind:Kr.CompletionItemKind.Variable});return r;}function xb(t){let e=[],n=t.getCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Kr.CompletionItemKind.Variable});return e;}function oc(t,e){let n=[],r=e.getCollectionNames().filter(i=>!t.includes(i));for(let i=0;i<r.length;i++)n.push({label:r[i],kind:Kr.CompletionItemKind.Variable});return n;}function ac(t){let e=[],n=t.getCollectionQueryScopes();for(let r=0;r<n.length;r++)e.push({label:n[r].name,detail:n[r].description,kind:Kr.CompletionItemKind.Variable});return e;}function ea(t,e){if(t.isClosingTag)return e;if(t.hasMethodPart()&&t.getMethodNameValue()!="count"&&e.addVariables(vb(t)),t.reference!=null){let n=Zo(t,e);bb(t,e,n);}return e;}var yl=K(Cn());var lc=K(rt());var Od=[{name:"is",description:"Tests if a field is equal to a value"},{name:"equals",description:"Tests if a field is equal to a value"},{name:"not",description:"Tests if a field is not equal to a value"},{name:"isnt",description:"Tests if a field is not equal to a value"},{name:"exists",description:"Tests if a field exists"},{name:"isset",description:"Tests if a field exists"},{name:"doesnt_exist",description:"Tests if a field does not exist"},{name:"is_empty",description:"Tests if a field does not exist"},{name:"null",description:"Tests if a field does not exist"},{name:"contains",description:"Tests if a field contains a value"},{name:"doesnt_contain",description:"Tests if a field does not contain a value"},{name:"in",description:"Tests if a value is in an array"},{name:"not_in",description:"Tests if an array does not contain a value"},{name:"starts_with",description:"Tests if a field starts with a value"},{name:"doesnt_start_with",description:"Tests if a field does not start with a value"},{name:"ends_with",description:"Tests if a field ends with a value"},{name:"doesnt_end_with",description:"Tests if a field does not end with a value"},{name:"gt",description:"Tests if a field is greater than a value"},{name:"lt",description:"Tests if a field is less than a value"},{name:"gte",description:"Tests if a field is greater than or equal to a value"},{name:"lte",description:"Tests if a field is less than or equal to a value"},{name:"matches",description:"Tests if a field matches a case insensitive regex"},{name:"regex",description:"Tests if a field matches a case insensitive regex"},{name:"doesnt_match",description:"Tests if a field does not match a case insensitive regex"},{name:"is_alpha",description:"Tests if a field contains only alphabetical characters"},{name:"is_numeric",description:"Tests if a field contains only numeric characters"},{name:"is_alpha_numeric",description:"Tests if a field contains only alpha-numeric characters"},{name:"is_url",description:"Tests if a field is a valid URL"},{name:"is_embeddable",description:"Tests if a field is an embeddable video URL"},{name:"is_email",description:"Tests if a field is a valid email address"},{name:"is_after",description:"Tests if a field is after a given date"},{name:"is_before",description:"Tests if a field is before a given date"}];function ls(t){let e=[],n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};for(let r=0;r<Od.length;r++){let i=Od[r],s=t.originalLeftWord+i.name+'="$1"';e.push({label:i.name,insertTextFormat:lc.InsertTextFormat.PlainText,kind:lc.CompletionItemKind.Field});}return e;}var qt=K(ln());var Ks=class{static clear(e){this.unclosedNodes.delete(e);}static registerNodes(e,n){this.unclosedNodes.set(e,n);}static getUnclosedTags(e,n){var o,a,l;let r=[];if(this.unclosedNodes.has(e)==!1)return r;let i=this.unclosedNodes.get(e);if(i.length==0)return r;let s=n.line+1;for(let u=0;u<i.length;u++){let f=i[u];(((o=f.endPosition)==null?void 0:o.line)==s&&n.character>f.endPosition.char||s>((l=(a=f.endPosition)==null?void 0:a.line)!=null?l:0))&&r.push(f);}return r;}static hasUnclosedTags(e,n){return this.unclosedNodes.has(e)==!1?!1:this.getUnclosedTags(e,n).length>0;}};Ks.unclosedNodes=new Map;var Ab=["edit_url","id","last_modified","permalink","published","slug","template","url"];function us(t){return[{name:"edit_url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"id",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"last_modified",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"permalink",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"published",dataType:"boolean",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"slug",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"template",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t}];}var Wn=K(Cn()),Eb=[{label:"name",kind:Wn.CompletionItemKind.Property},{label:"description",kind:Wn.CompletionItemKind.Property},{label:"desc",kind:Wn.CompletionItemKind.Property},{label:"entry",kind:Wn.CompletionItemKind.Property},{label:"collection",kind:Wn.CompletionItemKind.Property},{label:"blueprint",kind:Wn.CompletionItemKind.Property},{label:"var",kind:Wn.CompletionItemKind.Property},{label:"set",kind:Wn.CompletionItemKind.Property},{label:"param",kind:Wn.CompletionItemKind.Property},{label:"param*",kind:Wn.CompletionItemKind.Property},{label:"front",kind:Wn.CompletionItemKind.Property},{label:"format",kind:Wn.CompletionItemKind.Property}];var uc=K(rt()),nO=[{label:"if",kind:uc.CompletionItemKind.Keyword},{label:"elseif",kind:uc.CompletionItemKind.Keyword},{label:"else",kind:uc.CompletionItemKind.Keyword}],wb=nO;var ta=K(Cn()),Ob=K(rt());var Ld=class{static getCompletions(e,n){var o;let r=[],i=0;e.leftWord!=e.leftMeaningfulWord&&(i=e.leftWord.length);let s={start:{line:e.position.line,character:e.position.character-i},end:e.position};return(o=xe.instance)==null||o.getModifiersForType(n.dataType).filter(a=>a.canBeParameter).forEach(a=>{r.push({label:a.name,documentation:{kind:Ob.MarkupKind.Markdown,value:a.description},insertTextFormat:ta.InsertTextFormat.Snippet,kind:ta.CompletionItemKind.Value,textEdit:ta.TextEdit.replace(s,a.name+'="$1" '),command:{title:"Suggest",command:"editor.action.triggerSuggest"}});}),r;}};var Dd=K(rt()),na=[];na.push({label:"true",kind:Dd.CompletionItemKind.Keyword});na.push({label:"false",kind:Dd.CompletionItemKind.Keyword});function Lb(t){let e=[];for(let n=0;n<t.expectsTypes.length;n++)t.expectsTypes[n]=="boolean"&&(e=e.concat(na));return e;}function Ye(t){return[{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"value",introducedBy:t},{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"key",introducedBy:t}];}var rO={name:"array",augmentScope:(t,e)=>{e.addVariables(Ye(t)),e.addVariables(Ge(t));}},Db=rO;var iO={name:"bard",augmentScope:(t,e)=>{e.addVariable({name:"type",dataType:"string",sourceField:null,sourceName:"*internal.bard",introducedBy:t});},injectCompletions:(t,e,n)=>[]},Mb=iO;var sO={name:"form_multiple",augmentScope:(t,e)=>{e.addVariables(Ye(t)),e.addVariables(Ge(t));}},kb=sO;var oO={name:"list",augmentScope:(t,e)=>{e.addVariables(Ye(t)),e.addVariables(Ge(t));}},Fb=oO;function qb(t){return[{name:"type",dataType:"string",sourceName:"*internal.replicator",sourceField:null,introducedBy:t}];}var aO={name:"replicator",augmentScope:(t,e)=>{e.addVariables(qb(t)),e.addVariables(Ge(t));},injectCompletions:(t,e,n)=>[]},Vb=aO;var lO={name:"select_multiple",augmentScope:(t,e)=>{e.addVariables(Ye(t)),e.addVariables(Ge(t));}},Bb=lO;var uO={name:"sites_multiple",augmentScope:(t,e)=>{e.addVariables(Ye(t)),e.addVariables(Ge(t));}},jb=uO;var cO={name:"structures_multiple",augmentScope:(t,e)=>{e.addVariables(Ye(t)),e.addVariables(Ge(t));}},Ub=cO;var fO={name:"table",augmentScope:(t,e)=>{e.addVariable({name:"cells",dataType:"array",sourceName:"*internal.fieldtype.table",sourceField:null,introducedBy:t});}},Gb=fO;var pO={name:"tags",augmentScope:(t,e)=>{e.addVariables(Ye(t)),e.addVariables(Ge(t));}},Wb=pO;function cc(t){return us(t).concat([{name:"entries_count",dataType:"number",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"is_term",dataType:"boolean",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"taxonomy",dataType:"string",sourceName:"*internal.term",sourceField:null,introducedBy:t}]);}var dO={name:"taxonomies_multiple",augmentScope:(t,e)=>{e.addVariables(Ye(t)),e.addVariables(Ge(t)),e.addVariables(cc(t));}},Hb=dO;var mO={name:"terms_multiple",augmentScope:(t,e)=>{e.addVariables(Ye(t)),e.addVariables(Ge(t)),e.addVariables(cc(t));}},Yb=mO;var hO={name:"user_groups_multiple",augmentScope:(t,e)=>{e.addVariables(Ye(t)),e.addVariables(Ge(t));}},Kb=hO;var gO={name:"user_roles_multiple",augmentScope:(t,e)=>{e.addVariables(Ye(t)),e.addVariables(Ge(t));}},$b=gO;var _O={name:"users_multiple",augmentScope:(t,e)=>{e.addVariables(Ye(t)),e.addVariables(Ge(t)),e.injectBlueprint(t,"user");}},zb=_O;var yO={name:"yaml",augmentScope:(t,e)=>{e.addVariables(Ye(t)),e.addVariables(Ge(t));}},Xb=yO;var TO=[Db,Mb,kb,Fb,Vb,Bb,jb,Ub,Xb,Gb,Hb,Wb,Yb,zb,Kb,$b],Qb=TO;var cs=class{constructor(){this.fieldTypes=new Map;}getFieldTypes(){return this.fieldTypes;}getFieldType(e){return this.fieldTypes.get(e);}registerFieldtypes(e){for(let n=0;n<e.length;n++)this.fieldTypes.set(e[n].name,e[n]);}loadCoreFieldtypes(){this.registerFieldtypes(Qb);}hasFieldtype(e){return this.fieldTypes.has(e);}};cs.instance=null;(typeof cs.instance=="undefined"||cs.instance==null)&&(cs.instance=new cs,cs.instance.loadCoreFieldtypes());var ra=cs;var Md=class{static getVariableSuggestions(e,n){var i,s;let r=[];if(n.scopeVariable!=null&&n.scopeVariable.sourceField!=null&&((i=ra.instance)==null?void 0:i.hasFieldtype(n.scopeVariable.sourceField.type))){let o=(s=ra.instance)==null?void 0:s.getFieldType(n.scopeVariable.sourceField.type);o.injectCompletions!=null&&(r=o.injectCompletions(e,n.scopeVariable.sourceField,n));}return r;}};var bO=["if","elseif","unless","elseunless"],vO=["else","/if"];function Jb(t,e){var l,u,f,c,d,p,m,h;let n=(u=(l=t.startPosition)==null?void 0:l.line)!=null?u:-1,r=(c=(f=t.endPosition)==null?void 0:f.line)!=null?c:1,i=(p=(d=t.startPosition)==null?void 0:d.char)!=null?p:-1,s=(h=(m=t.endPosition)==null?void 0:m.char)!=null?h:-1,o=e.line+1,a=e.character+1;return n==r&&o==n+1&&a>i&&a<=s||o==n&&a>i&&a<=s||o==r&&a<s||o>n&&o<r;}function fc(t){let e="";return t.currentNode!=null&&(e=t.currentNode.getMethodNameValue()),e;}function Fi(t){if(t.includes(":")==!1)return t;let e=t.split(":");return e.length>1?e[e.length-1]:e[0].trim();}function pc(t){return t.includes(":")==!1?t:t.split(":")[0];}function Zb(t){var n;if(t.nodesInScope.length==0)return[];let e=t.nodesInScope[t.nodesInScope.length-1];return((n=t.context)==null?void 0:n.node)!=null&&(e=t.context.node),e.currentScope==null?[]:$s(t,e.currentScope);}function $s(t,e){let n=[];return e.values.forEach(r=>{var i;if(r.sourceField!=null?n.push({label:r.name,detail:r.sourceField.blueprintName,documentation:(i=r.sourceField.instructionText)!=null?i:"",kind:qt.CompletionItemKind.Field}):n.push(os(r.name,"","")),r.dataType.trim().length>0&&r.dataType=="array"){let s=r.name+` }}
    $1
{{ /`+r.name+" ",o={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};n.push({label:r.name+" loop",insertTextFormat:qt.InsertTextFormat.Snippet,kind:qt.CompletionItemKind.Snippet,textEdit:qt.TextEdit.replace(o,s),command:{title:"Suggest",command:"editor.action.triggerSuggest"}});}}),e.lists.forEach((r,i)=>{n.push(os(i,"",""));}),n;}function NO(){var e;let t=[];return(e=xe.instance)==null||e.getRegisteredModifiers().forEach(n=>{t.push(rc(n));}),t;}var kd=class{static getSuggestions(e){var s,o,a,l,u,f,c,d,p,m,h,v,g,_,T,I,w,$,B,ue,ae,Te,ne,je,_t,Ie,Q,ze,st,Ot,ke,ot,bi,$i;if(e==null)return[];if(e.context!=null&&e.context.node!=null&&e.context.node.isComment)return e.context.node.antlersNodeIndex==1?Eb:[];if(e.nodesInScope.length==0)return[];if(e.leftMeaningfulWord==null&&e.leftChar=="/"){let re=Ks.getUnclosedTags(e.document,e.position);if(re.length>0){let se=[],ce="";e.rightChar=="}"&&(ce=" ");for(let ee=0;ee<re.length;ee++)se.push({label:re[ee].runtimeName()+ce,kind:qt.CompletionItemKind.Text});return se;}}let n=e.nodesInScope[e.nodesInScope.length-1];if(n instanceof Gs)return[];let r=[],i=!0;if(n.currentScope!=null&&((s=e.context)==null?void 0:s.variableContext)!=null&&e.context.variableContext.varPathText.length>0){if(n.currentScope.hasListInHistory(e.context.variableContext.varPathText)){let re=n.currentScope.getList(e.context.variableContext.varPathText);re!=null&&$s(e,re).forEach(se=>{r.push({...se,sortText:"00"});});}else if(n.currentScope.containsPath(e.context.variableContext.varPathText)){let re=n.currentScope.findNestedScope(e.context.variableContext.varPathText);re!=null&&$s(e,re).forEach(se=>{r.push({...se,sortText:"00"});});}}if(((o=e.context)==null?void 0:o.modifierContext)!=null&&(e.context.modifierContext.inModifierName||e.context.modifierContext.inModifierName==!1&&e.context.modifierContext.inModifierParameter==!1||e.context.feature==null||e.leftChar=="|"&&e.context.char==" ")&&(r=r.concat(NO())),e.nodesInScope.length>=2){let re=e.nodesInScope.length-2,se=[];for(let ce=re;ce>=0;ce--){let ee=e.nodesInScope[ce];se=se.concat(Md.getVariableSuggestions(e,ee));}se.length>0&&(r=r.concat(se));}if((((a=e.currentNode)==null?void 0:a.isEmpty())||((l=e.context)==null?void 0:l.isCursorInIdentifier)&&e.leftChar!=":"&&e.leftChar!=" ")&&((u=e.context)==null?void 0:u.modifierContext)==null){let re=(c=(f=he.instance)==null?void 0:f.getVisibleTagsWithDocumentation())!=null?c:[],se=[],ce=[];for(let ee=0;ee<re.length;ee++){let be="000";if(e.leftWord!=null&&re[ee].label.startsWith(e.leftWord)==!1&&(be="001"),((d=e.context)==null?void 0:d.node)!=null&&((p=e.context)==null?void 0:p.node.parent)!=null&&(be=void 0),re[ee].label.includes(":")==!1)se.includes(re[ee].label)==!1&&(ce.push({label:re[ee].label,kind:qt.CompletionItemKind.Text,documentation:{kind:"markdown",value:re[ee].documentation},sortText:be}),se.push(re[ee].label));else{let yt=re[ee].label.split(":")[0];se.includes(yt)==!1&&(ce.push({label:yt,kind:qt.CompletionItemKind.Text,documentation:{kind:"markdown",value:re[ee].documentation},sortText:be}),se.push(yt));}}r=r.concat(ce);}if(n!=null&&n.currentScope!=null){if(vO.includes(n.getTagName()))return[];if(((m=e.context)==null?void 0:m.node)==null)return[];if(bO.includes(n.getTagName())&&e.context.feature!=null&&e.context.feature instanceof bt&&e.context.feature.prev instanceof gn&&e.context.feature.prev.prev instanceof ie){let re=n.getParser();if(re!=null&&e.project!=null&&re.getLanguageParser().isMergedVariableComponent(e.context.feature.prev.prev)){let ce=re.getLanguageParser().getMergedVariable(e.context.feature.prev.prev),ee=[];return ce.name=="collection:handle"?ee=e.project.getUniqueCollectionNames():ce.name=="site:handle"?ee=e.project.getSiteNames():ce.name=="blueprint:handle"&&(ee=e.project.getBlueprintNames()),ee.forEach(be=>{r.push({label:be,sortText:be,kind:qt.CompletionItemKind.EnumMember});}),r;}if(["collection","current_template","status","blueprint","response_code"].includes(e.context.feature.prev.prev.name)){if(e.project!=null){let ce=e.context.feature.prev.prev.name,ee=[];return ce=="collection"?ee=e.project.getUniqueCollectionNames():ce=="current_template"?ee=e.project.getTemplateNames():ce=="status"?ee=["draft","scheduled","expired","published"]:ce=="blueprint"?ee=e.project.getBlueprintNames():ce=="response_code"&&(ee=["404","200"]),ee.forEach(be=>{r.push({label:be,sortText:be,kind:qt.CompletionItemKind.EnumMember});}),r;}}else if(e.context.feature.prev.prev.scopeVariable!=null){let ce=e.context.feature.prev.prev.scopeVariable.dataType;if(ce=="replicator"||ce=="bard"){let ee=e.context.feature.prev.prev.scopeVariable.sourceField;return(h=ee.sets)==null||h.forEach(be=>{let yt="**"+be.displayName+"** `"+be.handle+"`  ";yt+=`

 Blueprint: \``+ee.blueprintName+"`  \n",be.fields.forEach(Tr=>{yt+=`
 * `+Tr.displayName+" `"+Tr.name+":"+Tr.type+"`  ";}),ce=="replicator"?yt+=`

 [Replicator Templating Documentation](https://statamic.dev/fieldtypes/replicator#templating)`:yt+=`

 [Bard Templating Documentation](https://statamic.dev/fieldtypes/bard#with-sets)`,r.push({label:be.displayName,insertText:be.handle,sortText:"000",documentation:{kind:"markdown",value:yt},kind:qt.CompletionItemKind.EnumMember});}),r;}}}if(n.isTagNode==!1){r=r.concat(wb);let re={start:{line:e.position.line,character:e.position.character-e.originalLeftWord.length},end:e.position},se=`if $1 }}
    $2
{{ else }}

{{ /if `;r.push({label:"ifelse",insertTextFormat:qt.InsertTextFormat.Snippet,kind:qt.CompletionItemKind.Snippet,textEdit:qt.TextEdit.replace(re,se),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}),n.scopeVariable!=null&&(r=r.concat(Ld.getCompletions(e,n.scopeVariable)));}if(n.currentScope.hasListInHistory(n.runtimeName())==!1&&n.currentScope.hasPristineReference(n.runtimeName())==!1?i=(g=(v=he.instance)==null?void 0:v.injectParentScope(n.runtimeName()))!=null?g:!1:i=!1,((_=e.context)==null?void 0:_.parameterContext)!=null&&e.context.parameterContext.parameter!=null&&(e.context.parameterContext.parameter.isVariableReference==!1?i=!1:i=!0),e.currentNode!=null&&(e.currentNode.isEmpty()||e.currentNode.parent!=null)&&(i=!0),n.runtimeName().includes(":")&&n.currentScope.containsPath(Yr(n.runtimeName(),":"))){let re=Yr(n.runtimeName(),":"),se=En(Yr(e.leftWord,":"),"{");if(re==se){let ce=n.currentScope.findNestedScope(re);if(ce!=null)return ce.lists.forEach((ee,be)=>{r.push(os(be,"",""));}),ce.values.forEach(ee=>{var be;ee.sourceField!=null?r.push({label:ee.name,detail:ee.sourceField.blueprintName,documentation:(be=ee.sourceField.instructionText)!=null?be:"",kind:qt.CompletionItemKind.Field}):r.push(os(ee.name,"",""));}),r;}}if(n.isTagNode){if(e.isInVariableInterpolation&&e.currentNode==null)r=r.concat($s(e,n.currentScope.ancestor()));else if(((T=e.context)==null?void 0:T.parameterContext)!=null&&e.context.parameterContext.parameter!=null){let re=e.context.parameterContext.parameter;if(re.isVariableReference&&e.position.character<=(($=(w=(I=re.valuePosition)==null?void 0:I.end)==null?void 0:w.char)!=null?$:-1)){if(r=r.concat($s(e,n.currentScope.ancestor())),he.instance!=null){let se=he.instance.getCompletionItems(e);r=r.concat(se.items);}}else if(e.position.character<=((ae=(ue=(B=re.valuePosition)==null?void 0:B.end)==null?void 0:ue.char)!=null?ae:-1)){let se=null,ce=!1;if((Te=he.instance)==null?void 0:Te.canResolveDynamicParameter(n.runtimeName())){let ee=he.instance.findTag(n.runtimeName());typeof ee!="undefined"&&typeof ee.resolveDynamicParameter!="undefined"&&ee.resolveDynamicParameter!=null&&(se=ee.resolveDynamicParameter(n,re.name),ce=!0);}else se=(je=(ne=he.instance)==null?void 0:ne.getParameter(n.runtimeName(),re.name))!=null?je:null;if(se==null&&ce&&(se=(Ie=(_t=he.instance)==null?void 0:_t.getParameter(n.runtimeName(),re.name))!=null?Ie:null),typeof se!="undefined"&&se!==null){let ee=(ze=(Q=he.instance)==null?void 0:Q.resolveParameterCompletions(n.runtimeName(),se,e))!=null?ze:null;ee!==null&&ee.items.length>0?ee.items.forEach(be=>{be.sortText="000",r.push(be);}):Lb(se).forEach(be=>{be.sortText="000",r.push(be);});}if(re.hasInterpolations()&&e.isInVariableInterpolation&&n.isTagNode){let ee=(st=he.instance)==null?void 0:st.findTag(n.runtimeName());if(ee.resolveCompletionItems!=null){let be=ee.resolveCompletionItems(e);be.items.length>0&&(r=be.items);}}}}else if(e.isInVariableInterpolation==!1||e.currentNode==n){let re=Jb(n,e.position);if(e.isCaretInTag=re,e.currentNode=n,he.instance!=null){let se=he.instance.getCompletionItems(e);se.isExclusive?r=se.items:r=r.concat(se.items);}}}else e.isInVariableInterpolation&&e.currentNode==null&&(r=r.concat($s(e,n.currentScope.ancestor())));if(i){e.context.node!=null&&e.context.node.currentScope!=null&&(e.context.modifierContext==null||e.context.modifierContext.activeModifier==null)&&(r=r.concat($s(e,e.context.node.currentScope)));let re=decodeURIComponent(e.document);if(e.project.hasViewCollectionInjections(re)){let se=e.project.getCollectionNamesForView(re);for(let ce=0;ce<se.length;ce++){let ee=e.project.getBlueprintFields(se);if(ee.length>0)for(let be=0;be<ee.length;be++){let yt=ee[be];r.push({label:yt.name,detail:yt.blueprintName,documentation:(Ot=yt.instructionText)!=null?Ot:"",kind:qt.CompletionItemKind.Field});}}Ab.forEach(ce=>{r.push({label:ce,kind:qt.CompletionItemKind.Field});});}}return e.context.node!=null&&(e.context.node.manifestType=="array"&&e.context.node.isClosedBy!=null?e.context.modifierContext!=null&&((ot=(ke=xe.instance)==null?void 0:ke.getModifiersForType("array"))!=null?ot:[]).forEach(se=>{let ce=rc(se);ce.sortText="000",r.push(ce);}):e.context.modifierContext!=null&&(($i=(bi=xe.instance)==null?void 0:bi.getModifiersForType(e.context.node.manifestType))!=null?$i:[]).forEach(se=>{let ce=rc(se);ce.sortText="000",r.push(ce);})),r;}for(let re=0;re<e.nodesInScope.length;re++){let se=e.nodesInScope[re],ce=!0;if(e.isInVariableInterpolation&&e.currentNode!==null&&se.currentScope!=null&&e.currentNode.currentScope!=null&&se.currentScope.generation>e.currentNode.currentScope.generation&&(ce=!1),se.isTagNode&&ce){let ee=Jb(se,e.position);if(e.isCaretInTag=ee,e.currentNode=se,he.instance!=null){let be=he.instance.getCompletionItems(e);if(be.isExclusive){r=be.items;break;}r=r.concat(be.items);}continue;}}return r;}};var ev=K(Cn());function _e(t){let e="";typeof t!="undefined"&&typeof t.resolveDocumentation!="undefined"&&t.resolveDocumentation!=null&&(e=t.resolveDocumentation());let n=t.tagName;if(n.includes(":")){let r=n.split(":");n=r[r.length-1];}return{label:n,kind:ev.CompletionItemKind.Text,sortText:"1",documentation:{kind:"markdown",value:e}};}var Fd=K(rt());function tv(t,e,n){return{name:t,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:e,expectsTypes:["string"],isDynamic:!0,isRequired:!1,documentationLink:n,docLinkName:"MDN Reference"};}var nv=tv("class","A space-separated list of the classes of the element.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/class"),rv=tv("style","Contains CSS styling declarations to be applied to the element. Note that it is recommended for styles to be defined in a separate file or files.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/style");function dc(t){return t=="class"?nv:t=="style"?rv:{name:t,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"",expectsTypes:["string","number","array"],isRequired:!1,isDynamic:!0};}function iv(t){let e=[];for(let n=0;n<t.length;n++)e.push({label:t[n],kind:Fd.CompletionItemKind.Field});return z(e);}function ct(t){let e=[];for(let n=0;n<t.length;n++)e.push({label:t[n],kind:Fd.CompletionItemKind.Field});return z(e);}function z(t){return{items:t,isExclusiveResult:!0,analyzeDefaults:!1};}function un(t){return{items:t,isExclusiveResult:!1,analyzeDefaults:!0};}var pe={items:[],isExclusiveResult:!1,analyzeDefaults:!0};function Je(t,e){let n=PO(t);return n.tagName=e,n;}function PO(t){return{allowsArbitraryParameters:t.allowsArbitraryParameters,allowsContentClose:t.allowsContentClose,injectParentScope:t.injectParentScope,parameters:t.parameters,requiresClose:t.requiresClose,tagName:t.tagName,introducedIn:t.introducedIn,hideFromCompletions:t.hideFromCompletions,augmentScope:t.augmentScope,requiresCloseResolver:t.requiresCloseResolver,resolveCompletionItems:t.resolveCompletionItems,resolveDynamicParameter:t.resolveDynamicParameter,resolveSpecialType:t.resolveSpecialType,resovleParameterCompletionItems:t.resovleParameterCompletionItems,suggestAlternativeParams:t.suggestAlternativeParams,resolveDocumentation:t.resolveDocumentation};}function sv(t){return t.findParameterValueOrNull("scope");}function ov(t){t.getAllNodes().forEach(n=>{n instanceof W&&n.manifestType==="array"&&(n.mustClose=!0);});}function IO(t){return t.findParameterValueOrNull("as");}var SO=["count","next","previous"];function RO(t,e){let n=[];if(t.hasMethodPart()){let a=t.getMethodNameValue();if(SO.includes(a)==!1)return n.push(a),n;}let r=t.findAnyParameter(Nb),i=t.findAnyParameter(Pb),s=[],o=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueCollectionNames(),typeof i!="undefined"&&i!==null&&i.isVariableReference==!1&&i.hasInterpolations()==!1&&(o=i.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),o.length>0?n=s.filter(function(a){return o.includes(a)==!1;}):n=s,n;}function fs(t,e){var u,f,c,d,p,m;let n=RO(t,e),r=!1,i=!1,s=!1,o=null,a="";if(t.isClosingTag==!1){let h=IO(t),v=sv(t);h!=null&&(r=!0,a=h),v!=null&&(s=!0,o=v),i=t.hasParameter("paginate");}return{context:{collectionNames:n!=null?n:[],endPosition:(f=(u=t.endPosition)==null?void 0:u.char)!=null?f:0,aliasName:a,isAliased:r,isScoped:s,scopeName:o,isStartOfScope:!t.isClosingTag,line:(d=(c=t.startPosition)==null?void 0:c.line)!=null?d:0,startPosition:(m=(p=t.startPosition)==null?void 0:p.char)!=null?m:0,isPaginated:i,excludeCollections:[],includeCollections:[]},issues:[]};}function ia(t,e){if(t==null)return null;let n=En(e,":");return n.includes(":")&&(n=n.split(":")[0]),n=="status"||n=="taxonomy"||t.currentScope!=null&&t.currentScope.containsReference(n)?dc(e):null;}var CO=["from","folder","use","not_from","not_folder"],xO=["previous","next"],AO=["in","collection"];function ps(t,e){var n,r,i,s,o,a,l,u,f,c;if(t.isDynamic){let d=pc(t.name);if(e.nodesInScope.length>0){let p=e.nodesInScope[e.nodesInScope.length-1];if(p!=null&&p.currentScope!=null){let m=Zo(p,p.currentScope),h=m.map(g=>g.name),v=Fi(e.leftWord);if(h.includes(v))return z(ls(e));}}if(d=="status"&&((n=e.context)==null?void 0:n.parameterContext)!=null)return z(Rb((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[]));if(d=="taxonomy"){let p=Fi(t.name);if(e.project.hasTaxonomy(p)&&((s=e.context)==null?void 0:s.parameterContext)!=null)return z(Cb((a=(o=e.context.parameterContext.parameter)==null?void 0:o.getArrayValue())!=null?a:[],p,e.project));}}if(t.name=="filter"||t.name=="query_scope")return z(ac(e.project));if(e.nodesInScope.length>0){let d=e.nodesInScope[e.nodesInScope.length-1];if(d.hasMethodPart()&&xO.includes(d.getMethodNameValue())&&AO.includes(t.name))return z(xb(e.project));}return CO.includes(t.name)&&((l=e.context)==null?void 0:l.parameterContext)!=null?z(oc((c=(f=(u=e.context)==null?void 0:u.parameterContext.parameter)==null?void 0:f.getArrayValue())!=null?c:[],e.project)):null;}var EO={tagName:"collection:previous",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...as,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:ea,resolveDynamicParameter:ia,resolveSpecialType:fs,suggestAlternativeParams:Jo,resovleParameterCompletionItems:ps,resolveCompletionItems:sa,resolveDocumentation:t=>Oe("collection:previous Tag","The `collection:previous` tag is used to show the entries that appear before the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the previous two entries, based on dates in ascending order. #}}
{{ collection:previous in="articles" limit="2" sort="date:asc" }}

{{ /collection:previous }}`,"https://statamic.dev/tags/collection-previous")},zs=EO;var mc=Je(zs,"collection:older"),hc=Je(zs,"collection:newer");var wO={tagName:"collection:count",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...as,{isRequired:!0,name:"in",aliases:["from"],description:"The collection from which to count entries",acceptsVariableInterpolation:!0,allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:fs,resovleParameterCompletionItems:ps,resolveDocumentation:t=>Oe("collection:count Tag","The `collection:count` tag returns the total number of entries in the specified collection(s). The collection count tag accepts the same parameters as the collection tag, allowing developers to count entries that meet specific conditions.",`Total entry count: {{ collection:count in="collection-name" }}
Draft count: {{ collection:count in="collection-name" status:in="draft" }}`,"https://statamic.dev/tags/collection-count")},gc=wO;var OO={tagName:"collection:next",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...as,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:ea,resolveDynamicParameter:ia,resolveSpecialType:fs,suggestAlternativeParams:Jo,resovleParameterCompletionItems:ps,resolveCompletionItems:sa,resolveDocumentation:t=>Oe("collection:next Tag","The `collection:next` tag is used to show the entries that will appear after the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the next two entries, based on dates in ascending order. #}}
{{ collection:next in="articles" limit="2" sort="date:asc" }}

{{ /collection:next }}`,"https://statamic.dev/tags/collection-next")},_c=OO;function sa(t){var n,r;let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="collection"||t.leftWord=="/collection")&&t.leftChar==":"){let i=t.project.getCollectionNames();for(let s=0;s<i.length;s++)e.push({label:i[s],kind:yl.CompletionItemKind.Field,sortText:"0"});return e.push(_e(gc)),e.push(_e(_c)),e.push(_e(zs)),e.push(_e(mc)),e.push(_e(hc)),{items:e,analyzeDefaults:!1,isExclusiveResult:!1};}if(t.currentNode!=null&&t.currentNode.currentScope!=null){let i=Zo(t.currentNode,t.currentNode.currentScope),s=i.map(a=>a.name),o=Fi(t.leftWord);if(o==="taxonomy")return z(Sb(t));if(s.includes(o))return e=ls(t),z(e);if(t.isCaretInTag&&!((n=t.context)==null?void 0:n.isInParameter)&&["collection","/collection"].includes(t.leftWord)==!1&&t.leftChar!=" "){let a=[];for(let l=0;l<i.length;l++){let u=i[l];a.includes(u.name)==!1&&(e.push({label:u.name,detail:u.blueprintName,documentation:(r=u.instructionText)!=null?r:"",kind:yl.CompletionItemKind.Field}),a.push(u.name));}if(e.push({label:"taxonomy",insertText:"taxonomy:",kind:yl.CompletionItemKind.Field}),e.push({label:"status",insertText:"status:",kind:yl.CompletionItemKind.Field}),e.length>0)return un(e);}}return pe;}var LO={tagName:"collection",hideFromCompletions:!1,introducedIn:null,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:as,augmentScope:ea,resolveDynamicParameter:ia,resolveSpecialType:fs,suggestAlternativeParams:Jo,resovleParameterCompletionItems:ps,resolveCompletionItems:sa,resolveDocumentation:t=>Oe("collection Tag","The `collection` tag provides access to entry data such as blog posts, products, etc.",`{{ collection:articles as="posts" }}

	{{ posts }}
		{{ title }}
	{{ /posts }}

{{ /collection:articles }}`,"https://statamic.dev/tags/collection")},av=LO;var DO={tagName:"cache",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,allowsContentClose:!1,allowsArbitraryParameters:!1,resovleParameterCompletionItems:(t,e)=>t.name=="scope"?ct(["page","site"]):null,parameters:[{isRequired:!1,name:"for",description:"The duration the cache is valid for",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"key",description:"An arbitrary name the cache entry may be referenced by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"scope",description:" The scope of the cached value. Either site or page.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:(t,e)=>{let n=t.findParameter("key"),r=null;if(n!=null){let i=n.value;i.trim().length>0&&(r={key:i,reference:t});}return{context:r,issues:[]};},resolveDocumentation:t=>Oe("cache Tag","The `cache` tag can be used to save the results of an expensive template operation. The duration of the cache can be configured.",`{{ cache for="10 minutes" }}
    {{# Template code that won't be re-rendered for at least 10 minutes. #}}
{{ /cache }}`,"https://statamic.dev/tags/cache")},lv=DO;var MO={tagName:"dump",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.leftWord=="dump"&&t.leftChar==":"?z(Zb(t)):pe,resolveDocumentation:t=>Oe("dump Tag","The `dump` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered.",`{{ collection:articles }}
	{{# View all data available, for each entry. #}}
    {{ dump }}
{{ /collection:articles }}`,"https://statamic.dev/tags/dump")},uv=MO;var kO={tagName:"404",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Oe("404 (Not Found) Tag","The `404` (Not Found) tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ 404 }}
{{ /unless }}`,"https://statamic.dev/tags/404")},cv=kO;var FO={tagName:"link",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The relative path",expectsTypes:["string"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!0,isDynamic:!1},{name:"absolute",description:"Whether to generate absolute URLs. Default false",expectsTypes:["boolean"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1},{name:"id",description:"The ID of the entry to link to",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1},{name:"in",description:"The handle of the site to link to.",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>D("link Tag","The `link` tag accepts relative URLs or entry IDs and generates fully-qualified URLs to the desired content.","https://statamic.dev/tags/link")},fv=FO;var pv={tagName:"loop",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>D("loop Tag","The `loop` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")},dv={tagName:"range",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>D("range Tag","The `range` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")};var fi=K(Cn());function Ve(t,e){return e.trim().length>0?dc(e):null;}var oa=[{isRequired:!1,name:"src",description:"The name of the partial view",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1}];var Tl=K(Cn());function aa(t,e){var n;if(t.isDynamic&&e.currentNode!=null&&e.currentNode.getTagName()=="partial"&&e.currentNode.hasMethodPart()){let r=e.currentNode.getMethodNameValue();if(r.trim().length>0&&((n=fe.instance)==null?void 0:n.hasStructure())){let i=fe.instance.getStructure().findRelativeView(r);if(i!=null&&i.varReferenceNames.has(t.name)){let s=i.varReferenceNames.get(t.name);if(e.antlersDocument.hasFrontMatter()){let o=e.antlersDocument.getFrontMatterScope();if(o!=null)return iv(o.getVariableNames());}}}}if(t.name=="src"){let r=e.project.getViews(),i=[];return r.forEach(s=>{if(ri.hasDetails(s.documentUri)){let o=ri.documentDetails.get(s.documentUri);i.push({label:o.documentName+"("+s.relativeDisplayName+")",insertText:s.relativeDisplayName,detail:o.documentName,documentation:{kind:Tl.MarkupKind.Markdown,value:o.documentDescription},kind:Tl.CompletionItemKind.File});}else i.push({label:s.relativeDisplayName,kind:Tl.CompletionItemKind.File});}),z(i);}return null;}var qO={tagName:"partial:exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:oa,introducedIn:"3.2.7",resovleParameterCompletionItems:aa,resolveDocumentation:t=>D("partial:exists Tag","The `partial:exists` can be used within conditional statements to test if a partial exists.","https://statamic.dev/tags/partial-exists")},yc=qO;var VO={tagName:"partial:if_exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:oa,introducedIn:"3.2.7",resovleParameterCompletionItems:aa,resolveDocumentation:t=>D("partial:if_exists Tag","The `partial:if_exists` can be used to output the contents of a partial if it exists.","https://statamic.dev/tags/partial-if-exists")},Tc=VO;var BO=[_e(yc),_e(Tc)],jO={tagName:"partial",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!0,parameters:oa,requiresClose:!1,allowsContentClose:!0,introducedIn:null,resolveDocumentation:t=>`**Partial Tag**  
Includes another view into the current template.  

[Documentation Reference](https://statamic.dev/tags/partial)
`,resolveDynamicParameter:Ve,resovleParameterCompletionItems:aa,resolveCompletionItems:t=>{let e=[];if(t.leftChar=='"'&&t.leftWord==':src="')return{items:[],analyzeDefaults:!0,isExclusiveResult:!1};if((t.leftWord=="partial"||t.leftWord=="/partial")&&t.leftChar==":"||t.leftWord=='src="'&&t.leftChar=='"')return t.project.getViews().forEach(r=>{let i=decodeURIComponent(r.documentUri);if(ri.hasDetails(i)){let s=ri.documentDetails.get(i);e.push({label:s.documentName+"("+r.relativeDisplayName+")",insertText:r.relativeDisplayName,detail:s.documentName,documentation:{kind:fi.MarkupKind.Markdown,value:s.documentDescription},kind:fi.CompletionItemKind.File});}else e.push({label:r.relativeDisplayName,kind:fi.CompletionItemKind.File});}),t.leftWord!='src="'&&(e=e.concat(BO)),{analyzeDefaults:!1,isExclusiveResult:!0,items:e};if(t.currentNode!=null&&t.project!=null){let n=UO(t.currentNode);if(n!=null&&n.trim().length>0){let r=t.project.findRelativeView(n);if(r!=null&&Ae.hasDocument(r.documentUri)){let i=Ae.getDocument(r.documentUri);if(i!=null){let s=i.getAllAntlersNodes(),o=GO(s),a=[];if(r.varReferenceNames!=null&&r.varReferenceNames.forEach((l,u)=>{o.push(u);}),o.length>0){let l=[],u={start:{line:t.position.line,character:t.position.character-0},end:t.position};return o.forEach(f=>{let c=f+'="$1"';a.includes(f)||(a.push(f),l.push({label:f,kind:fi.CompletionItemKind.Value,insertTextFormat:fi.InsertTextFormat.Snippet,textEdit:fi.TextEdit.replace(u,c),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}));}),un(l);}}}}}return{analyzeDefaults:!0,isExclusiveResult:!1,items:[]};}};function UO(t){if(t.getTagName()!="partial")return null;let e="";if(t.hasMethodPart())e=t.getMethodNameValue();else{let n=t.findParameter("src");n!=null&&(e=n.value);}return e;}function GO(t){let e=[];return t.forEach(n=>{if(n.isTagNode||n.isClosingTag||n.isComment||n.hasMethodPart()&&n.getMethodNameValue().length>0||n.name!=null&&n.name.content.includes("["))return;let r=n.getTagName();!e.includes(r)&&r!="#"&&r!="slot"&&e.push(r);}),e;}var mv=jO;var WO={tagName:"increment:reset",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:"3.2.28",parameters:[{isRequired:!0,name:"counter",aliases:[],description:"The incrementing counter to reset",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"to",aliases:[],description:"An optional value to reset the counter to before incrementing starts again",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveDocumentation:t=>Oe("increment:reset Tag","The `increment:reset` tag can be used to reset the value of an incrementing counter.",`{{ array_variable }}
    {{ increment:counter_name }}
{{ /array_variable }}

{{ increment:reset counter="counter_name" }}
`,null)},bc=WO;var HO=[_e(bc)],YO={tagName:"increment",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!1,name:"from",aliases:[],description:"The number to start incrementing by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"by",aliases:[],description:"The number to increment by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveCompletionItems:t=>t.leftWord=="increment"||t.leftWord=="/increment"&&t.leftChar==":"?z(HO):pe,resolveDocumentation:t=>D("increment Tag","The `increment` tag can be used to increment a value each time the tag is encountered.","https://statamic.dev/tags/increment")},hv=YO;var bl=class{constructor(e){this.node=e;}},gv={tagName:"yields",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new bl(t),issues:[]})},_v={tagName:"yield",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new bl(t),issues:[]}),resolveDocumentation:t=>D("yield Tag","The `yield` tag may be used to push rendered content to named regions within a template's structure.","https://statamic.dev/tags/yield")};var vc=K(rt());var yv=[{handle:"access cp"},{handle:"configure collections"},{handle:"[view edit create delete publish reorder] {collection} entries"},{handle:"configure structures"},{handle:"[view edit] {structure} structure"},{handle:"edit {global} globals"},{handle:"[view upload edit move rename delete] {container} assets"},{handle:"[view perform] updates"},{handle:"[view edit create delete] users"},{handle:"change passwords"},{handle:"edit roles"},{handle:"configure forms"},{handle:"[view delete] {form} submissions"}];var ds=class{constructor(){this.contextItems=new Map;this.triggerNames=[];this.collectionTriggers=[];this.collectionTriggerCaps=[];this.globalTriggers=[];this.globalTriggerCaps=[];this.formTriggers=[];this.formTriggerCaps=[];this.structureTriggers=[];this.structureTriggerCaps=[];this.assetTriggers=[];this.assetTriggerCaps=[];}getCollectionTriggerCaps(){return this.collectionTriggerCaps;}getGlobalTriggerCaps(){return this.globalTriggerCaps;}getFormTriggerCaps(){return this.formTriggerCaps;}getStructureTriggerCaps(){return this.structureTriggerCaps;}getAssetTriggerCaps(){return this.assetTriggerCaps;}loadCorePermissions(){this.registerPermissions(yv);}getTriggerNames(){return this.triggerNames;}isCollectionTrigger(e){return this.collectionTriggers.includes(e);}isGlobalTrigger(e){return this.globalTriggers.includes(e);}isFormTrigger(e){return this.formTriggers.includes(e);}isStructureTrigger(e){return this.structureTriggers.includes(e);}isAssetTrigger(e){return this.assetTriggers.includes(e);}getTriggerContextItems(e){return this.contextItems.has(e)?this.contextItems.get(e):[];}registerSpecialTrigger(e,n,r){n=="{collection}"?(this.collectionTriggerCaps.includes(r)==!1&&this.collectionTriggerCaps.push(r),this.collectionTriggers.includes(e)==!1&&this.collectionTriggers.push(e)):n=="{structure}"?(this.structureTriggerCaps.includes(r)==!1&&this.structureTriggerCaps.push(r),this.structureTriggers.includes(e)==!1&&this.structureTriggers.push(e)):n=="{container}"?(this.assetTriggerCaps.includes(r)==!1&&this.assetTriggerCaps.push(r),this.assetTriggers.includes(e)==!1&&this.assetTriggers.push(e)):n=="{global}"?(this.globalTriggerCaps.includes(r)==!1&&this.globalTriggerCaps.push(r),this.globalTriggers.includes(e)==!1&&this.globalTriggers.push(e)):n=="{form}"&&(this.formTriggerCaps.includes(r)==!1&&this.formTriggerCaps.push(r),this.formTriggers.includes(e)==!1&&this.formTriggers.push(e));}addContextToTrigger(e,n){var r;this.triggerNames.includes(e)==!1&&this.triggerNames.push(e),this.contextItems.has(e)==!1?this.contextItems.set(e,[n]):(r=this.contextItems.get(e))==null||r.push(n);}registerPermissions(e){for(let n=0;n<e.length;n++){let r=e[n],i=[],s="",o="";if(r.handle.includes("[")&&r.handle.includes("]")){let a=r.handle.indexOf("["),l=r.handle.indexOf("]"),u=l-a,f=r.handle.substr(a+1,u-1).split(" ").filter(d=>d.trim().length>0),c=r.handle.substr(l+1).split(" ").filter(d=>d.trim().length>0);i=f,c.length==2?(s=c[0],o=c[1]):c.length==1&&(s="",o=c[0]);}else{let a=r.handle.split(" ").filter(l=>l.trim().length>0);a.length==2&&(i=[a[0]],o=a[1]);}for(let a=0;a<i.length;a++){let l=i[a];s.trim().length>0?this.registerSpecialTrigger(l,s,o):this.addContextToTrigger(l,o);}}}};ds.instance=null;(typeof ds.instance=="undefined"||ds.instance==null)&&(ds.instance=new ds,ds.instance.loadCorePermissions());var Hn=ds;function Tv(t,e){var r,i,s,o,a,l,u,f,c,d,p,m,h,v,g,_,T,I,w;let n=[];if(t.trim().length==0){let $=(i=(r=Hn.instance)==null?void 0:r.getTriggerNames())!=null?i:[];for(let B=0;B<$.length;B++)n.push({label:$[B],kind:vc.CompletionItemKind.Value});}else{let $=t.split(" ").filter(Q=>Q.trim().length>0),B=$[0],ue=(o=(s=Hn.instance)==null?void 0:s.getTriggerContextItems(B))!=null?o:[],ae=(a=Hn.instance)==null?void 0:a.isCollectionTrigger(B),Te=(l=Hn.instance)==null?void 0:l.isGlobalTrigger(B),ne=(u=Hn.instance)==null?void 0:u.isFormTrigger(B),je=(f=Hn.instance)==null?void 0:f.isStructureTrigger(B),_t=(c=Hn.instance)==null?void 0:c.isAssetTrigger(B),Ie=[];if($.length<=2){ae?Ie=Ie.concat(e.project.getUniqueCollectionNames()):Te?Ie=Ie.concat(e.project.getUniqueGlobalsNames()):ne?Ie=Ie.concat(e.project.getUniqueFormNames()):je?Ie=Ie.concat(e.project.getUniqueNavigationMenuNames()):_t&&(Ie=Ie.concat(e.project.getUniqueAssetNames())),ue.length>0&&(Ie=Ie.concat(ue)),Ie=[...new Set(Ie)];for(let Q=0;Q<Ie.length;Q++)n.push({label:Ie[Q],kind:vc.CompletionItemKind.Value});}else{let Q=[];ae?Q=Q.concat((p=(d=Hn.instance)==null?void 0:d.getCollectionTriggerCaps())!=null?p:[]):Te?Q=Q.concat((h=(m=Hn.instance)==null?void 0:m.getGlobalTriggerCaps())!=null?h:[]):ne?Q=Q.concat((g=(v=Hn.instance)==null?void 0:v.getFormTriggerCaps())!=null?g:[]):je?Q=Q.concat((T=(_=Hn.instance)==null?void 0:_.getStructureTriggerCaps())!=null?T:[]):_t&&(Q=Q.concat((w=(I=Hn.instance)==null?void 0:I.getAssetTriggerCaps())!=null?w:[])),Q=[...new Set(Q)];for(let ze=0;ze<Q.length;ze++)n.push({label:Q[ze],kind:vc.CompletionItemKind.Value});}}return n;}function Nc(t,e){var r,i,s,o;let n=pc(t.name);return((r=e.context)==null?void 0:r.parameterContext)!=null&&["do","permission"].includes(n)?z(Tv((o=(s=(i=e.context)==null?void 0:i.parameterContext.parameter)==null?void 0:s.value)!=null?o:"",e)):null;}var KO={tagName:"user:can",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:Nc,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>D("user:can Tag","The `user:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can")},la=KO;var $O={tagName:"user:logout",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>D("user:logout Tag","The `user:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout")},ua=$O;var zO={tagName:"user:logout_url",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>Oe("user:logout_url","The `user:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ user:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url")},ca=zO;var bv={tagName:"switch",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>D("switch Tag","The `switch` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")},vv={tagName:"rotate",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,introducedIn:null,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>D("rotate Tag","The `rotate` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")};var XO={tagName:"oauth",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"provider",description:"The OAuth provider to be used",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]},{name:"redirect",description:"The URL to be taken to after authenticating",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resovleParameterCompletionItems:(t,e)=>t.name=="provider"?ct(e.project.getOAuthProviders()):null,resolveDocumentation:t=>Oe("oauth Tag","The `oauth` tag can be used to generate login URls for various third-party services.",'<a href="{{ oauth provider="github" }}">Sign In with Github</a>',"https://statamic.dev/tags/oauth")},Nv=XO;var QO={tagName:"session:dump",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>D("session:dump Tag","The `session:dump` tag will display the contents of the user's session to the browser. This tag behaves similarly to the `dd` helper functions, but returns just the session data.","https://statamic.dev/tags/session-dump")},Pc=QO;var Xs=class{constructor(e){this.node=e;}};var JO={tagName:"session:set",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:null,resolveDynamicParameter:Ve,resolveSpecialType:(t,e)=>({context:new Xs(t),issues:[]}),resolveDocumentation:t=>D("session:set Tag","The `session:set` tag is used to add new data to the user's session.","https://statamic.dev/tags/session-set")},Ic=JO;var Qs=class{constructor(){this.knownVariables=new Map;}registerDocumentSessionVariables(e,n){this.knownVariables.has(e)||this.knownVariables.set(e,new Map);let r=this.knownVariables.get(e);r.clear();for(let i=0;i<n.length;i++){let s=n[i].node;if(s.hasParameters)for(let o=0;o<s.parameters.length;o++){let a=s.parameters[o];r.set(a.name,n[i]);}}}getKnownSessionVariableNames(){let e=[];return this.knownVariables.forEach(n=>{n.forEach((r,i)=>{e.includes(i)==!1&&e.push(i);});}),e;}};Qs.instance=null;(typeof Qs.instance=="undefined"||Qs.instance==null)&&(Qs.instance=new Qs);var Js=Qs;var Pv=K(rt());function Iv(t,e){let n=[],r=t.getArrayValue(),i=e.filter(s=>!r.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:Pv.CompletionItemKind.Variable});return z(n);}var ZO={tagName:"session:forget",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"keys",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The session keys to clear",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;if(t.name=="keys"&&((n=e.context)==null?void 0:n.parameterContext)!=null){let s=(i=(r=Js.instance)==null?void 0:r.getKnownSessionVariableNames())!=null?i:[];if(e.context.parameterContext.parameter!=null)return Iv(e.context.parameterContext.parameter,s);}return null;},resolveDocumentation:t=>D("session:forget Tag","The `session:forget` tag is used to remove variables from the user's session.","https://statamic.dev/tags/session-forget")},Sc=ZO;var eL={tagName:"session:flush",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>D("session:flush Tag","The `session:flush` tag will clear all values from the visitor's session. If the visitor is currently signed in they will also be signed out.","https://statamic.dev/tags/session-flush")},Rc=eL;var tL={tagName:"session:flash",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:Ve,resolveSpecialType:(t,e)=>({context:new Xs(t),issues:[]}),resolveDocumentation:t=>D("session:flash Tag","The `session:flash` tag can be used to add a value to the user's session. Flashed values only persist for a single request, and are then removed.","https://statamic.dev/tags/session-flash")},Cc=tL;var nL={tagName:"markdown:indent",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>D("markdown:indent Tag","The `markdown:indent` tag is similar to the markdown tag, but will ignore leading whitepsace while rendering the tag's content as markdown.","https://statamic.dev/tags/markdown-indent")},xc=nL;var rL=[_e(xc)],iL={tagName:"markdown",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="markdown"||t.leftWord=="/markdown")&&t.leftChar==":"?z(rL):pe,resolveDocumentation:t=>D("markdown Tag","The `markdown` tag can be used to render the tags contents as markdown.","https://statamic.dev/tags/markdown")},Sv=iL;var Rv=K(Cn());function Ac(t,e){let n=[],r=e;if(t.trim().length>0&&t.includes(".")&&t.endsWith(".")){let i=t.substr(0,t.length-1);r=r.filter(s=>s.startsWith(i));}for(let i=0;i<r.length;i++){let s=r[i],o=!0;t.includes(".")&&(s.startsWith(t)==!1?o=!1:s=s.substr(t.length)),o&&n.push({label:s,insertText:s,kind:Rv.CompletionItemKind.Text});}return n;}function Cv(t,e){return Ac(t,e.getRouteNames());}var sL={tagName:"route",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:Ve,resolveCompletionItems:t=>{if(t.leftMeaningfulWord=="route"){let e=fc(t);return z(Cv(e,t.project));}return pe;},resolveDocumentation:t=>D("route Tag","The `route` tag can be used to generate a full URL [to a named route](https://laravel.com/docs/8.x/routing#named-routes), including any defined route parameters.","https://statamic.dev/tags/route")},xv=sL;var Ec=K(rt()),Av=[{label:"301 Permanent",insertText:"301",kind:Ec.CompletionItemKind.EnumMember},{label:"302 Temporary",insertText:"302",kind:Ec.CompletionItemKind.EnumMember},{label:"404 Not Found",insertText:"404",kind:Ec.CompletionItemKind.EnumMember}];var oL={tagName:"redirect",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The destination URL",aliases:["url"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!0},{name:"response",description:"The HTTP response code to use",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:t=>t.name=="response"?z(Av):pe,resolveDocumentation:t=>D("redirect Tag","The `redirect` tag can be used to redirect the site visitor to a URL or named route. An optional HTTP status code can also be specified on the response using the `response` parameter.","https://statamic.dev/tags/redirect")},Ev=oL;var wv=K(rt());var Zs=class{constructor(){this.knownSections=new Map;}registerDocumentSections(e,n){this.knownSections.has(e)||this.knownSections.set(e,new Map);let r=this.knownSections.get(e);r.clear();for(let i=0;i<n.length;i++){let s=n[i];s.node.hasMethodPart()&&r.set(s.node.getMethodNameValue(),s);}}getKnownSectionNames(){let e=[];return this.knownSections.forEach(n=>{n.forEach((r,i)=>{e.includes(i)==!1&&e.push(i);});}),e;}};Zs.instance=null;(typeof Zs.instance=="undefined"||Zs.instance==null)&&(Zs.instance=new Zs);var wc=Zs;var aL={tagName:"section",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>{var e,n;if((t.leftWord=="section"||t.leftWord=="/section")&&t.leftChar==":"){let r=[],i=(n=(e=wc.instance)==null?void 0:e.getKnownSectionNames())!=null?n:[];for(let s=0;s<i.length;s++)r.push({label:i[s],kind:wv.CompletionItemKind.Field});return un(r);}return pe;},resolveDocumentation:t=>D("section Tag","The `section` tag is used to push content to a named region defined by the `yield` tag.","https://statamic.dev/tags/section")},Ov=aL;var lL={tagName:"obfuscate",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>D("obfuscate Tag","The `obfuscate` tag converts the tags's content into a format that is difficult for bots to read, but can easily be viewed by users within their browser.","https://statamic.dev/tags/obfuscate")},Lv=lL;var uL={tagName:"parent",hideFromCompletions:!1,requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>D("parent Tag","The `parent` tag provides access to data from the current page's parent (the URL one level above the current page).","https://statamic.dev/tags/parent")},Dv=uL;function qd(t,e){return Ac(t,e.getTranslationKeys());}var cL=["translate","trans","trans_choice"],Oc={tagName:"translate",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!0,parameters:[{isRequired:!1,name:"key",description:"The key of the translation string to find",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"locale",description:"The locale to be used when translating",acceptsVariableInterpolation:!1,aliases:["site"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"count",description:"The number of items to use for pluralization",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n;if(t.name=="key"){let r="";return((n=e.context)==null?void 0:n.parameterContext)!=null&&e.context.parameterContext.parameter!=null&&(r=e.context.parameterContext.parameter.value),z(qd(r,e.project));}return pe;},resolveDynamicParameter:Ve,resolveCompletionItems:t=>{if(t.leftMeaningfulWord!=null&&cL.includes(t.leftMeaningfulWord)){let e=fc(t);return z(qd(e,t.project));}return pe;},resolveDocumentation:t=>D("trans Tag","The `trans` tag can be used to retrieve a string for the current locale's language file.","https://statamic.dev/tags/trans")},Mv=Je(Oc,"trans"),Vd=Je(Oc,"trans_choice");Vd.resolveDocumentation=t=>D("trans_choice Tag","The `trans_choice` tag can be used to retrieve a pluralized string for the current locale's language file.","https://statamic.dev/tags/trans#pluralization");var fL={tagName:"svg",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The SVG filename relative to the project root",expectsTypes:["string"],isDynamic:!1}],resolveDynamicParameter:Ve,resolveDocumentation:t=>D("svg Tag","The `svg` tag can be used to render inline SVGs, as well as set attributes on the rendered `<svg>` element.","https://statamic.dev/tags/svg")},kv=fL;function Lc(t){return[{name:"basename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus_css",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_asset",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"path",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"width",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t}];}var pL={tagName:"asset",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The path to the file",expectsTypes:["string"],isDynamic:!1,name:"url"}],augmentScope:(t,e)=>(e.addVariables(Lc(t)),e),resolveDocumentation:t=>Oe("asset Tag","The `asset` tag can be used to retrive Assets by supplying a URL.",`{{ asset url="/url/for/asset.png" }}
    <img src="{{ url }}" alt="{{ alt }}" />
{{ /asset }}`,"https://statamic.dev/tags/asset")},Fv=pL;var qv=K(rt());function Bd(t){let e=[],n=t.getUniqueAssetNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:qv.CompletionItemKind.Field});return e;}var Vv=["container","id","handle"],dL={tagName:"assets",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"container",aliases:["id","handle"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The handle of the asset container",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"folder",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Filters the resulting assets by specific folder",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"recursive",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Returns all assets in all subdirectories",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"limit",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Limits the total results",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sort entries by any asset variable",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>Vv.includes(t.name)?z(Bd(e.project)):pe,augmentScope:(t,e)=>{e.addVariables(Lc(t));let n="";if(t.name!=null&&t.name.getMethodName()!=null)n=t.name.getMethodName();else{let r=t.findAnyParameter(Vv);r!=null&&r.containsSimpleValue()&&(n=r.value);}return n.length>0&&e.injectAssetContainer(t,n),e;},resolveCompletionItems:t=>(t.leftWord=="assets"||t.leftWord=="/assets")&&t.leftChar==":"?z(Bd(t.project)):pe,resolveDocumentation:t=>Oe("assets Tag","The `assets` tag can be used to retrieve multiple Assets from an Asset container.",`{{ assets container="container-name" }}
    {{# Loop over all assets in the container. #}}
	<img src="{{ url }}" alt="{{ alt }}" />
{{ /assets }}`,"https://statamic.dev/tags/assets")},Bv=dL;var mL={tagName:"get_content",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!1,parameters:[{isRequired:!1,name:"from",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"The ID to retrieve data for",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"locale",aliases:["site"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The locale to show the content in",expectsTypes:["string"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="locale"||t.name=="site"?ct(e.project.getSiteNames()):null,resolveDocumentation:t=>Oe("get_content Tag","The `get_content` tag can be used to retrieve content from other entries. This tag accepts the ID of another entry, and will return access to all data for that entry.",`{{ get_content from="the-entry-id" }}
{{ /get_content }}`,"https://statamic.dev/tags/get_content")},jv=mL;function Uv(t){return[{name:"basename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"last_modified",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_b",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_mb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t}];}var hL={tagName:"get_files",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"in",aliases:["from"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The directory to find files in relative to the public directory",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"depth",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The depth of the subdirectories",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"not_in",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"The subdirectories or pattern to exclude",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_size",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],description:"The file size filter to use",isDynamic:!1},{isRequired:!1,name:"ext",aliases:["extension"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The extension(s) to filter by",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"include",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:["match"],description:"Filter files by a regular expression",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"exclude",description:"Excludes files by a regular expression",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_date",description:"Filters files by last modified date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",description:"Limits the total number of results",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"offset",description:"The number of entries the results should be offset by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sorts the listing by extension, size, last_modified, or random",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>(e.addVariables(Uv(t)),e),resolveDocumentation:t=>D("get_files Tag","The `get_files` tag can be used to display information about files on the site's local filesystem.","https://statamic.dev/tags/get_files")},Gv=hL;function Dc(t){return[{name:"width",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.glide",sourceField:null,introducedBy:t}];}var Wv=K(rt());function $r(t,e,n){var r,i,s,o,a,l,u,f,c,d,p,m;return{endLine:(s=(i=(r=n.valuePosition)==null?void 0:r.end)==null?void 0:i.line)!=null?s:0,startLine:(l=(a=(o=n.namePosition)==null?void 0:o.start)==null?void 0:a.line)!=null?l:0,endPos:(c=(f=(u=n.valuePosition)==null?void 0:u.end)==null?void 0:f.char)!=null?c:0,startPos:(m=(p=(d=n.namePosition)==null?void 0:d.start)==null?void 0:p.char)!=null?m:0,message:t,severity:Wv.DiagnosticSeverity.Error};}var jd=["greyscale","sepia"],Ud=["jpg","pjpg","png","gif","webp","tif","bmp","psd"],Hv=["auto","0","90","180","270"],Mc=[{isRequired:!1,name:"src",aliases:["path","id"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The URL of the image when not using shorthand syntax",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"tag",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Outputs an image tag when set to true",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"alt",description:"The alt attribute value to use when generating tags",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"absolute",description:"Whether to output full URLs",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{name:"width",expectsTypes:["number"],isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The width of the image, in pixels",isDynamic:!1},{name:"height",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],description:"The height of the image, in pixels",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"square",expectsTypes:["number"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets both then height and width of the iamge",isDynamic:!1,isRequired:!1},{name:"fit",expectsTypes:["string"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"How the image is fitted to its target dimensions",isDynamic:!1,isRequired:!1},{name:"crop",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Crops the image to the specific dimensions",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"orient",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Rotates the image",expectsTypes:["*"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!Hv.includes(e.value)&&n.push($r("Invalid orient value",t,e)),n;}},{name:"quality",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Defines the quality of the image",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"dpr",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"Defines the device pixel ratio",expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<1||n>8)&&r.push($r("dpr must be an integer between 1 and 8.",t,e)),r;}},{name:"format",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Encodes the image to a specific format",expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!Ud.includes(e.value)&&n.push($r("Format must be one of: "+Ud.join(","),t,e)),n;}},{name:"bg",description:"Sets the background color for transparent images",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"blur",description:"Adds a blur effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push($r("blur must be a value between 0 and 100.",t,e)),r;}},{name:"brightness",description:"Adjusts the image brightness",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<-100||n>100)&&r.push($r("brightness must be a value between -100 and 100.",t,e)),r;}},{name:"contrast",description:"Adjusts the image contrast",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<-100||n>100)&&r.push($r("contrast must be a value between -100 and 100.",t,e)),r;}},{name:"gamma",description:"Adjusts the image gamma",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseFloat(e.value),r=[];return e.containsSimpleValue()&&(n<.1||n>9.99)&&r.push($r("gamma must be a value between 0.1 and 9.99.",t,e)),r;}},{name:"sharpen",description:"Sharpens the iamge",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push($r("sharpen must be a value between 0 and 100.",t,e)),r;}},{name:"pixelate",description:"Applies a pixelation effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push($r("pixelate must be a value between 0 and 100.",t,e)),r;}},{name:"filter",description:"Applies a filter effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!jd.includes(e.value)&&n.push($r("Filter must be one of: "+jd.join(","),t,e)),n;}},{name:"preset",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],description:"A collection of pre-configured image manipulation parameters.",isDynamic:!1,isRequired:!1}];function kc(t,e){return t.name=="orient"?ct(Hv):t.name=="format"?ct(Ud):t.name=="filter"?ct(jd):t.name=="preset"?ct(e.project.getAssetPresets()):pe;}var gL={tagName:"glide:batch",hideFromCompletions:!1,requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,injectParentScope:!1,parameters:Mc,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(Dc(t)),e),resovleParameterCompletionItems:kc,resolveDocumentation:t=>D("glide:batch Tag","The `glide:batch` tag is similar to the glide tag, but can be used to apply image manipulations to multiple images within a piece of content.","https://statamic.dev/tags/glide-batch")},Fc=gL;var _L=[_e(Fc)],yL={tagName:"glide",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!1,parameters:Mc,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(Dc(t)),e),resovleParameterCompletionItems:kc,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="glide"||t.leftWord=="/glide")&&t.leftChar==":"?z(_L):pe,resolveDocumentation:t=>D("glide Tag","The `glide` tag is used to manipulate images on the fly. Image manipulations may include resizing, cropping, or adjusting sharpness and constrast, amongst many others.","https://statamic.dev/tags/glide")},Yv=yL;var Kv={tagName:"iterate",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>D("iterate Tag","The `iterate` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")},$v={tagName:"foreach",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>D("foreach Tag","The `foreach` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")};function zv(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t},{name:"name",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}];}var qc=[{isRequired:!1,name:"id",description:"The ID of the content to localize",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"sort",description:"Sort by a sites key",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"current_first",description:"When true, ensures that the current locale is first",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"all",description:"When true, all locale data will be returned.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!0,name:"self",description:"When true, the current locale will be included.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1}];var TL={tagName:"locales:count",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:qc,introducedIn:"3.0.36",resolveDocumentation:t=>D("locales:count Tag","The `locales:count` tag can be used to count the number of locales the current content is available in.","https://statamic.dev/tags/locales-count")},Vc=TL;var bL=[_e(Vc)],vL={tagName:"locales",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:qc,introducedIn:null,augmentScope:(t,e)=>(e.addVariableArray("locale",zv(t)),e.addVariable({name:"current",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"exists",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"permalink",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e),resolveDocumentation:t=>D("locales Tag","The `locales` tag can be used to access all the locales the current content is available in.","https://statamic.dev/tags/locales"),resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="locale"||t.leftWord=="/locale")&&t.leftChar==":"?z(bL):pe},Xv=vL;var NL={tagName:"mix",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",description:"The path to the versioned file, relative to the public directory",acceptsVariableInterpolation:!1,aliases:["path"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"in",description:"The location of the mix manifest file",acceptsVariableInterpolation:!1,aliases:["from"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>D("mix Tag","The `mix` tag is used to return the path of CSS and JavaScript files versioned with [Laravel Mix](https://laravel.com/docs/8.x/mix).","https://statamic.dev/tags/mix")},Qv=NL;var vl=K(rt());function Jv(t){let e=[],n=t.getUniqueUserGroupNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:vl.CompletionItemKind.Field});return e;}function Zv(t){let e=[],n=t.getUniqueUserRoleNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:vl.CompletionItemKind.Field});return e;}function fa(t,e){let n=[],r=e.getUniqueUserGroupNames(),i=r.filter(s=>!t.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:vl.CompletionItemKind.Field});return n;}function pa(t,e){let n=[],r=e.getUniqueUserRoleNames(),i=r.filter(s=>!t.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:vl.CompletionItemKind.Field});return n;}var PL={tagName:"user:in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?z(fa((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null;},resolveDocumentation:t=>D("user:in Tag","The `user:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in")},Bc=PL;var IL={tagName:"user:not_in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?z(fa((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null;},resolveDocumentation:t=>D("user:not_in Tag","The `user:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in")},da=IL;var SL={tagName:"user:is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?z(pa((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null;},resolveDocumentation:t=>D("user:is Tag","The `user:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is")},ma=SL;var RL={tagName:"user:isnt",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?z(pa((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null;},resolveDocumentation:t=>D("user:isnt Tag","The `user:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt")},ha=RL;var CL={tagName:"in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?z(fa((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null;},resolveCompletionItems:t=>(t.leftWord=="in"||t.leftWord=="/in")&&t.leftChar==":"?z(Jv(t.project)):pe,resolveDocumentation:t=>D("in Tag","The `in` tag can be used to check if the authenticated user belongs to one or more groups. This tag operates similarly to the `user:in` tag.","https://statamic.dev/tags/user-in")},eN=CL;var xL={tagName:"not_found",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>Oe("404 (Not Found) Tag","The `not_found` tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ not_found }}
{{ /unless }}`,"https://statamic.dev/tags/404")},tN=xL;var AL={tagName:"is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?z(pa((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null;},resolveCompletionItems:t=>(t.leftWord=="is"||t.leftWord=="/is")&&t.leftChar==":"?z(Zv(t.project)):pe,resolveDocumentation:t=>D("is Tag","The `is` tag can be used to check whether the currently authenticated user has one or more roles. This tag behaves the same as the `user:is` tag.","https://statamic.dev/tags/user-is")},nN=AL;var EL={tagName:"widont",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Oe("widont Tag","The `widont` tag is similar to the [widont modifier](https://statamic.dev/modifiers/widont), and will attempt to prevent lines with a single word from appearing within the tags rendered output.",`{{ widont }}
    {{ content }}
{{ /widont }}`,null)},rN=EL;var jc=[{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"id",description:"The user ID to fetch",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"email",description:"The email address to find the user by",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"field",description:"The field to fetch the user by",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"value",description:"The value to search for",expectsTypes:["string"],isDynamic:!1}];var wL={tagName:"user:profile",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:jc,introducedIn:null,augmentScope:(t,e)=>(e.injectBlueprint(t,"user"),e),resovleParameterCompletionItems:(t,e)=>t.name=="field"?z(ic(e.project.getUserFields())):pe,resolveDocumentation:t=>D("user:profile Tag","The `user:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null)},ga=wL;var iN={tagName:"dd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Oe("dd Tag","The `dd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the dd tag.
	#}}
    {{ dd }}
{{ /collection:articles }}`,null)},sN={tagName:"ddd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Oe("ddd Tag","The `ddd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the ddd tag.
	#}}
    {{ ddd }}
{{ /collection:articles }}`,null)};var OL={tagName:"path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["src"],allowsVariableReference:!0,description:"The path source",name:"to",isDynamic:!1,expectsTypes:["string"]},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],description:"Whether to generate absolute paths",expectsTypes:["boolean"],isDynamic:!1,name:"absolute"}],resolveDocumentation:t=>D("path Tag","The `path` tag can be used to generate URLs from relative URLs, or an entry ID.",null)},oN=OL;var LL={tagName:"user:cant",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:Nc,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>D("user:cant Tag","The `user:cant` tag is used to check if the currently authenticated user does not have a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user does not have the specified permissions.","https://statamic.dev/tags/user-can#cant")},Uc=LL;var DL={tagName:"query",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,parameters:[{name:"builder",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The query to evaluate",expectsTypes:["string"],isRequired:!0,isDynamic:!1}]},aN=DL;var eo=K(rt());var pi=[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"src",description:"The relative path to the file",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"cache_bust",description:"Whether to output the last modified date",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"version",description:"Whether to check a versioning manifest to produce the final URL",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"absolute",description:"Generate absolute URLs or not",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"locale",description:"The locale the path should be generated in",expectsTypes:["string"],isDynamic:!1}];var ML=[{label:"asset",kind:eo.CompletionItemKind.Text},{label:"css",kind:eo.CompletionItemKind.Text},{label:"img",kind:eo.CompletionItemKind.Text},{label:"js",kind:eo.CompletionItemKind.Text},{label:"output",kind:eo.CompletionItemKind.Text},{label:"path",kind:eo.CompletionItemKind.Text}],kL={tagName:"theme",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,introducedIn:null,injectParentScope:!1,parameters:pi,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="theme"||t.leftWord=="/theme")&&t.leftChar==":"?z(ML):pe},lN=kL;var Gd={tagName:"theme:path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:pi,resolveDocumentation:t=>D("theme:path Tag","The `theme:path` tag may be used to generate URLs for public assets. This tag may also optionally add the current locale, generate relative URLs, or add cache busting URL parameters to the end of the generated URL.",null)},uN=Je(Gd,"theme:asset");var FL={tagName:"theme:css",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...pi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>D("theme:css Tag","The `theme:css` tag may be used to generate a CSS path relative to a public `css/` directory for any arbitrary file path. This tag may also optionally create the HTML `link` tag.",null)},cN=FL;var qL={tagName:"theme:img",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...pi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]},{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"alt",description:"The alt text to use when generating the HTML tag",expectsTypes:["string"]}],resolveDocumentation:t=>D("theme:img Tag","The `theme:img` tag may be used to generate an image path relative to a public `img/` directory for any arbitrary file path. This tag may also optionally create the HTML `img` tag.",null)},fN=qL;var VL={tagName:"theme:js",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...pi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>D("theme:js Tag","The `theme:js` tag may be used to generate a JavaScript path relative to a public `js/` directory for any arbitrary file path. This tag may also optionally create the HTML `script` tag.",null)},pN=VL;var BL={tagName:"theme:output",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"src",description:"The path to the file",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"as",description:"An optional alias for the contents variable",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>{if(t.isClosedBy!=null){let n=t.findParameter("as");n!=null?e.addVariable({name:n.value,dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t}):e.addVariable({name:"output_contents",dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t});}return e;},resolveDocumentation:t=>D("theme:output Tag","The `theme:output` tag may be used to output the contents of any arbitrary file, relative to the site's `resources/` directory.",null)},dN=BL;var jL={tagName:"scope",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Oe("scope Tag","The `scope` tag creates a copy of all available variables, and saves them to a new  *array* variable defined by the tag's method part.",`{{ scope:scope_name }}
    {{ scope_name:title }}
{{ /scope:scope_name }}
`,null)},mN=jL;var UL={tagName:"if",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:Ve,resolveDocumentation:t=>D("if Conditional Control Structure","The contents of the `if` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},hN=UL;var GL={tagName:"elseif",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:Ve,resolveDocumentation:t=>D("elseif Conditional Control Structure","The contents of the `elseif` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},gN=GL;var WL={tagName:"else",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>D("else Conditional Control Structure","The contents of the `else` control structure will be evaluated when all previous conditional branch conditions were not met.","https://statamic.dev/antlers#conditions")},_N=WL;var yN=K(rt());var HL={tagName:"session:has",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:"3.1.28",resolveDynamicParameter:Ve,resolveDocumentation:t=>D("session:has Tag","The `session:has` tag can be used to determine of the user's session contains a specific variable.","https://statamic.dev/tags/session-has")},Gc=HL;var YL=[_e(Ic),_e(Cc),_e(Sc),_e(Rc),_e(Gc),_e(Pc)],KL={tagName:"session",requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",description:"An optional alias for the session data",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveCompletionItems:t=>{var e,n;if(t.isPastTagPart==!1&&(t.leftWord=="session"||t.leftWord=="/session")&&t.leftChar==":"){let r=(n=(e=Js.instance)==null?void 0:e.getKnownSessionVariableNames())!=null?n:[],i=[];i=i.concat(YL);for(let s=0;s<r.length;s++)i.push({label:r[s],kind:yN.CompletionItemKind.Variable});return z(i);}return pe;},augmentScope:(t,e)=>{var s,o;let n=t.findParameter("as"),r=(o=(s=Js.instance)==null?void 0:s.getKnownSessionVariableNames())!=null?o:[],i=[];for(let a=0;a<r.length;a++)i.push({dataType:"*",name:r[a],sourceField:null,sourceName:"project.session",introducedBy:t});return n==null?e.addVariables(i):e.addVariableArray(n.value,i),e;}},TN=KL;var Nl={tagName:"user:forgot_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:Ve,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t}]),e),resolveDocumentation:t=>D("user:forgot_password_form Tag",'The `user:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form")},Wd=Je(Nl,"member:forgot_password_form");Wd.resolveDocumentation=t=>D("member:forgot_password_form Tag",'The `member:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form");var Pl={tagName:"user:reset_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:Ve,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t}]),e),resolveDocumentation:t=>D("user:reset_password_form Tag","The `user:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form")},Hd=Je(Pl,"member:reset_password_form");Hd.resolveDocumentation=t=>D("member:reset_password_form Tag","The `member:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form");function bN(t,e){return{sourceName:e.blueprintName,dataType:e.type,name:e.name,sourceField:e,introducedBy:t};}function vN(t){let e=new Map;for(let n=0;n<t.length;n++)e.set(t[n].name,t[n]);return e;}function _a(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push({sourceName:i.blueprintName,dataType:i.type,name:i.name,sourceField:i,introducedBy:t});}return n;}function Wc(t){return[{name:"handle",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"display",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"type",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"field",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"error",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"instructions",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"old",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t}];}var Il={tagName:"user:register_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after registering",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed registration attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:Ve,augmentScope:(t,e)=>{e.addVariableArray("fields",Wc(t)),e.addVariable({name:"errors",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"old",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"error",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"success",dataType:"string",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t});let n=e.statamicProject.getUserFields();if(n.length>0){let r=_a(t,n);e.addVariableArray("old",r),e.addVariableArray("error",r);}return e;},resolveDocumentation:t=>D("user:register_form  Form Tag","The `user:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form")},Yd=Je(Il,"member:register_form");Yd.resolveDocumentation=t=>D("member:register_form Tag","The `member:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form");var $L=[_e(ma),_e(da),_e(ha),_e(ga),_e(la),_e(Uc),_e(Nl),_e(ua),_e(ca),_e(Il),_e(Pl)],zL={tagName:"user",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:jc,introducedIn:null,resovleParameterCompletionItems:(t,e)=>e.isPastTagPart==!1&&e.currentNode!=null&&e.currentNode.methodIsEmptyOrMatches("profile")&&t.name=="field"?z(ic(e.project.getUserFields())):pe,augmentScope:(t,e)=>(t.methodIsEmptyOrMatches("profile")&&e.injectUserFields(t),e),resolveCompletionItems:t=>(t.leftWord=="user"||t.leftWord=="/user"||t.leftWord=="member"||t.leftWord=="/member")&&t.leftChar==":"?z($L):pe,resolveDocumentation:t=>D("user Tag","The `user` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null)},Hc=zL;var Yc=Je(Hc,"member"),Kd=Je(ma,"member:is"),$d=Je(ha,"member:isnt"),zd=Je(ga,"member:profile"),Xd=Je(la,"member:can"),Qd=Je(ua,"member:logout"),Jd=Je(ca,"member:logout_url"),Zd=Je(Bc,"member:in"),em=Je(da,"member:not_in");Yc.hideFromCompletions=!0;Yc.resolveDocumentation=t=>D("member Tag","The `member` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);Kd.resolveDocumentation=t=>D("member:is Tag","The `member:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is");$d.resolveDocumentation=t=>D("member:isnt Tag","The `member:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt");zd.resolveDocumentation=t=>D("member:profile Tag","The `member:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);Xd.resolveDocumentation=t=>D("member:can Tag","The `member:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can");Qd.resolveDocumentation=t=>D("member:logout Tag","The `member:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout");Jd.resolveDocumentation=t=>Oe("member:logout_url","The `member:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ member:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url");Zd.resolveDocumentation=t=>D("member:in Tag","The `member:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in");em.resolveDocumentation=t=>D("member:not_in Tag","The `member:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in");function ms(t){return[{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t},{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t}];}var IN=K(rt());var tm=["from","taxonomy","is","use","folder"],nm=["not_from","not_in","dont_use","not_taxonomy"];var rm=tm;rm=rm.concat(nm);function NN(t,e){var n,r,i,s,o,a,l,u;if(e.nodesInScope.length>0){let f=e.nodesInScope[e.nodesInScope.length-1];if(f!=null&&f.currentScope!=null){let c=ya(f,e.project),d=e.project.getTaxonomyBlueprintFields(c),p=d.map(h=>h.name),m=Fi(e.leftWord);if(p.includes(m))return z(ls(e));}}return t.name=="collection"&&((n=e.context)==null?void 0:n.parameterContext)!=null?z(oc((s=(i=(r=e.context)==null?void 0:r.parameterContext.parameter)==null?void 0:i.getArrayValue())!=null?s:[],e.project)):t.name=="filter"||t.name=="query_scope"?z(ac(e.project)):rm.includes(t.name)&&((o=e.context)==null?void 0:o.parameterContext)!=null?z(PN((u=(l=(a=e.context)==null?void 0:a.parameterContext.parameter)==null?void 0:l.getArrayValue())!=null?u:[],e.project)):null;}function ya(t,e){let n=[];if(t.hasMethodPart())return n.push(t.getMethodNameValue()),n;let r=t.findAnyParameter(tm),i=t.findAnyParameter(nm),s=[],o=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueTaxonomyNames(),typeof i!="undefined"&&i!==null&&i.isVariableReference==!1&&i.hasInterpolations()==!1&&(o=i.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),o.length>0?n=s.filter(function(a){return o.includes(a)==!1;}):n=s,n;}function PN(t,e){let n=[],r=e.getUniqueTaxonomyNames().filter(i=>!t.includes(i));for(let i=0;i<r.length;i++)n.push({label:r[i],kind:IN.CompletionItemKind.Variable});return n;}function SN(t,e){let n=ya(t,e.statamicProject),r=e.statamicProject.getTaxonomyBlueprintFields(n),i=t.findParameter("collection");if(e.addBlueprintFields(t,r),e.addVariables([{name:"first",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"last",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"index",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"total_results",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"entries_count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t}]),e.addVariables(ms(t)),typeof i!="undefined"&&i!==null){let s=i.getArrayValue();if(s.length>0){let o=e.statamicProject.getBlueprintFields(s);e.introduceScopedAliasScope(t,"entries","entries",o).addVariables(us(t));}else e.addVariableArray("entries",ms(t).concat(us(t)));}else e.addVariableArray("entries",ms(t).concat(us(t)));return e;}var XL=[{name:"from",description:"The taxonomy to use",aliases:["taxonomy","is","use","folder"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"not_from",description:"Taxonomies to exclude",aliases:["not_in","not_folder","dont_use","not_taxonomy"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string","array"],isRequired:!1,isDynamic:!1},{name:"min_count",description:"The minimum number of entries a taxonomy term must have to be returned",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"collection",description:"Filter the terms to those that appear in the specified collections",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"sort",description:"The field to sort terms by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope",expectsTypes:["string"],isDynamic:!1}],RN=XL;var im=K(rt());function CN(t){var n,r;let e=[];if(t.currentNode!=null&&t.currentNode.currentScope!=null){let i=ya(t.currentNode,t.project),s=t.project.getTaxonomyBlueprintFields(i),o=s.map(l=>l.name),a=Fi(t.leftWord);if(o.includes(a))return z(ls(t));if(t.isCaretInTag&&!((n=t.context)==null?void 0:n.interpolatedContext)&&["taxonomy","/taxonomy"].includes(t.leftWord)==!1){let l=[];for(let u=0;u<s.length;u++){let f=s[u];l.includes(f.name)==!1&&(e.push({label:f.name,detail:f.blueprintName,documentation:(r=f.instructionText)!=null?r:"",kind:im.CompletionItemKind.Field}),l.push(f.name));}if(e.length>0)return un(e);}}if((t.leftWord=="taxonomy"||t.leftWord=="/taxonomy")&&t.leftChar==":"){let i=t.project.getUniqueTaxonomyNames();for(let s=0;s<i.length;s++)e.push({label:i[s],kind:im.CompletionItemKind.Field});return un(e);}return pe;}var QL={tagName:"taxonomy",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:RN,resolveDynamicParameter:Ve,resolveCompletionItems:CN,resovleParameterCompletionItems:NN,augmentScope:SN,resolveDocumentation:t=>D("taxonomy Tag","The `taxonomy` tag may be used to retrieve taxonomy entries. The taxonomy tag can also be used to access entries associated with any given taxonomy term.","https://statamic.dev/tags/taxonomy")},xN=QL;var sm=K(rt());function AN(t,e){e.addVariables([{name:"is_published",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_page",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"has_entries",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_parent",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_external",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"depth",dataType:"number",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"children",dataType:"array",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t}]);let n=e.statamicProject.getUniqueCollectionNames(),r=[],i=!1;if(t.hasMethodPart()){let s=t.getMethodNameValue().trim().toLowerCase();if(s.startsWith("collection:")){let o=s.split(":").pop();i=!0,r.push(o);}else s=="pages"?(i=!0,r.push("pages")):(i=!1,r.push(s));}else{let s=t.findParameter("handle");s!=null&&(n.includes(s.value)?i=!0:i=!1,r.push(s.value));}if(i){let s=e.statamicProject.getBlueprintFields(r);e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s);}else{let s=sc(ms(t));e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s);}return e;}var JL={tagName:"nav:breadcrumbs",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:[{name:"include_home",description:"Whether to include the home page in the first level",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"reverse",description:"Whether to reverse the order of links",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isRequired:!1,isDynamic:!1},{name:"trim",description:"Whether to trim the whitespace after each iteration of the loop",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],augmentScope:(t,e)=>(e.addVariables([{name:"is_current",dataType:"boolean",sourceName:"*internal.nav.breadcrumbs",sourceField:null,introducedBy:t}]),e.addVariables(ms(t)),e),resolveDocumentation:t=>D("nav:breadcrumbs Tag","The `nav:breadcrumbs` tag can be used to retrieve the URLs of all pages that make up the current URL back to the site's home page.","https://statamic.dev/tags/nav-breadcrumbs")},Kc=JL;function EN(t,e){if(t.name=="handle"){let n=e.project.getUniqueCollectionNames(),r=e.project.getUniqueNavigationMenuNames(),i=[];return i=n,i=i.concat(r),i=[...new Set(i)],ct(i);}return null;}var ZL=[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["handle"],allowsVariableReference:!1,name:"for",description:"The navigation or collection to use",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],name:"from",description:"The starting point for the navigation",allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"show_unpublished",description:"Whether to include unpublished content",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"include_home",description:"Whether to include the home page in the tree",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"max_depth",description:"The maximum depth of the navigation or structure",expectsTypes:["number"],isDynamic:!1}],wN=ZL;var om={tagName:"structure",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,injectParentScope:!1,parameters:wN,augmentScope:AN,resovleParameterCompletionItems:EN,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="nav"||t.leftWord=="/nav"||t.leftWord=="structure"||t.leftWord=="/structure")&&t.leftChar==":"){let n=t.project.getUniqueNavigationMenuNames();for(let r=0;r<n.length;r++)e.push(os(n[r],"",""));return(t.leftWord=="nav"||t.leftWord=="/nav")&&e.push(_e(Kc)),e.push(os("collection","","")),e.push({label:"collection",kind:sm.CompletionItemKind.Text}),un(e);}if((t.leftWord=="nav:collection"||t.leftWord=="/nav:collection"||t.leftWord=="collection"||t.leftWord=="/collection"||t.leftWord=="structure:collection"||t.leftWord=="/structure:collection")&&t.leftChar==":"){let n=t.project.getUniqueCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:sm.CompletionItemKind.Field});return un(e);}return pe;},resolveDocumentation:t=>D("nav Tag","The `nav` tag can be used to iterate structured collections or navigation menus.","https://statamic.dev/tags/nav")},ON=Je(om,"nav");var MN=K(rt());function LN(t){return[{name:"success",dataType:"string",sourceField:null,sourceName:"*internal.forms",introducedBy:t},{name:"submission_created",dataType:"boolean",sourceField:null,sourceName:"*internal.forms",introducedBy:t}];}var eD={name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},di=eD;var am=K(rt()),tD=[{label:"GET",kind:am.CompletionItemKind.EnumMember},{label:"POST",kind:am.CompletionItemKind.EnumMember}],DN=tD;var zr=["in","handle","is","form","formset"];function Ta(t,e){return zr.includes(t.name)?ct(e.project.getUniqueFormNames()):t.name=="method"?z(DN):t.name=="files"?z(na):null;}function mi(t,e){let n=t.structure.findParentWithName("form:set");return n!=null?{context:n,issues:[]}:{context:null,issues:[]};}var nD=["set","create","errors","success","submissions","submission"];function to(t){if(t.reference!=null&&"tagPart"in t.reference){let r=t.reference;if(r.nameMatches("form:set"))return to(r);}let e=t.findAnyParameter(zr),n=t.getMethodNameValue();return n!=null&&nD.includes(n)==!1?n:typeof e!="undefined"&&e!==null&&e.containsSimpleValue()?e.value:"";}var rD={tagName:"form:create",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[di,{name:"method",description:"The HTTP method to use",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"files",description:"Indicates if the form sends file data",aliases:[],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"redirect",description:"The location to redirect users after a successful form submission",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",description:"The location to redirect users to after a failed form submission",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override redirect or error_redirect",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveSpecialType:mi,resovleParameterCompletionItems:Ta,resolveDynamicParameter:Ve,augmentScope:(t,e)=>{e.addVariables(LN(t)),e.addVariable({dataType:"array",name:"errors",sourceField:null,sourceName:"*internal.forms",introducedBy:t}),e.addVariableArray("fields",Wc(t));let n=to(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n),i=_a(t,r);e.addVariableArray("old",i),e.addVariableArray("error",i);}return e;},resolveDocumentation:t=>D("form:create Tag","The `form:create` tag can be used to access form data, generate field HTML markup, and handle form validation errors.","https://statamic.dev/tags/form-create")},$c=rD;var iD={tagName:"form:errors",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[di],resolveSpecialType:mi,resovleParameterCompletionItems:(t,e)=>zr.includes(t.name)?ct(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>D("form:errors Tag","The `form:errors` tag can be used to retrieve validation errors after a user has submitted a form.","https://statamic.dev/tags/form-errors")},zc=iD;var sD={tagName:"form:set",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!0}],resovleParameterCompletionItems:Ta,resolveDocumentation:t=>D("form:set Tag","The `form:set` tag can be used to set the form handle on all nested form tags.","https://statamic.dev/tags/form-set")},Xc=sD;var oD={tagName:"form:submission",requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[di],resolveSpecialType:mi,resovleParameterCompletionItems:(t,e)=>zr.includes(t.name)?ct(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{let n=to(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n);e.addBlueprintFields(t,r);}return e;},resolveDocumentation:t=>D("form:submission Tag","The `form:submission` tag can be used to access the form submission submitted by the current user.","https://statamic.dev/tags/form-submission")},Qc=oD;var aD={tagName:"form:submissions",allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[di],resolveSpecialType:mi,resovleParameterCompletionItems:(t,e)=>zr.includes(t.name)?ct(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let n=to(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n);e.addBlueprintFields(t,r);}return e.addVariable({name:"date",dataType:"date",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e;},resolveDocumentation:t=>D("form:submissions Tag","The `form:submissions` tag can be used to fetch previously saved submissions for a form.","https://statamic.dev/tags/form-submissions")},Jc=aD;var lD={tagName:"form:success",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[di],resolveSpecialType:mi,resovleParameterCompletionItems:(t,e)=>zr.includes(t.name)?ct(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>D("form:success Tag","The `form:success` tag can be used to check if a form submission was successful or not.","https://statamic.dev/tags/form-success")},Zc=lD;var uD=[_e(Xc),_e($c),_e(zc),_e(Zc),_e(Jc),_e(Qc)],cD={tagName:"form",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resovleParameterCompletionItems:Ta,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="form"||t.leftWord=="/form")&&t.leftChar==":"){let n=t.project.getUniqueFormNames();e=e.concat(uD);for(let r=0;r<n.length;r++)e.push({label:n[r],kind:MN.CompletionItemKind.Field});return un(e);}return pe;}},kN=cD;var lm={tagName:"search:results",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"index",description:"The index to search in",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"query",description:"The query string parameter to use",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"limit",description:"The maximum number of search results to return",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{name:"offset",description:"The number of results to skip",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether not to paginate entry results",expectsTypes:["boolean"],isRequired:!1,name:"paginate",isDynamic:!1},{name:"as",description:"Specifies an alias for search results",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"supplement_data",description:"Controls whether non-indexed fields are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="index"?ct(e.project.getSearchIndexes()):null,augmentScope:(t,e)=>{e.addVariables([{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]);let n=t.findParameter("as");return n!=null&&n.value.trim().length>0?e.addVariableArray(n.value,FN(t)):e.addVariables(FN(t)),e;},resolveDocumentation:t=>D("search:results Tag","The `search:results` tag provides access to all data that was returned as a result of a user's search.","https://statamic.dev/tags/search")},fD=[_e(lm)];function FN(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"content",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_term",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"count",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"index",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"search_score",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"_highlightResult",dataType:"array",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}];}var qN={tagName:"search",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="search"||t.leftWord=="/search")&&t.leftChar==":"?un(fD):pe};function um(t){return[{name:"email",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"password",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}];}var cm={tagName:"user:login_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after logging in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed login attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:Ve,augmentScope:(t,e)=>(e.addVariables([{name:"errors",dataType:"array",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"success",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]),e.addVariables(um(t)),e.addVariableArray("old",um(t)),e.addVariableArray("error",um(t)),e),resolveDocumentation:t=>D("user:login_form Tag","The `user:login_form` tag can be used to quickly create a form that users can use to authenticate with the site.","https://statamic.dev/tags/user-login_form")},VN=Je(cm,"member:login_form");var pD={tagName:"noparse",requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>D("noparse Tag","The `noparse` tag is used prevent blocks of Antlers code from being parsed, removing the need to escape individual Antlers code regions.","https://statamic.dev/antlers#the-noparse-tag")},BN=pD;var dD={tagName:"unless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:Ve,resolveDocumentation:t=>D("unless Conditional Control Structure","The `unless` control structure operates the same as an `if` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},jN=dD;var mD={tagName:"elseunless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:Ve,resolveDocumentation:t=>D("elseunless Conditional Control Structure","The `elseunless` control structure operates the same as an `elseif` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},UN=mD;var GN=K(Cn());var WN={tagName:"installed",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!0,introducedIn:"3.1.19",parameters:[],resolveCompletionItems:t=>{if(t.project!=null){let e=t.project.getComposerPackages(),n=[];return e.forEach((r,i)=>{n.push({label:r.name,kind:GN.CompletionItemKind.Text});}),z(n);}return pe;},resolveDocumentation:t=>Oe("installed Tag","The `installed` tag is used to check if the site has a specific Composer package available.",`{{ if {installed:composer/package-name} }}
    {{# Package is availabl.e #}}
{{ else }}
    {{# Something else. #}}
{{ /if }}`,"https://statamic.dev/tags/installed")};var hD={tagName:"relate",hideFromCompletions:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[]},HN=hD;var ba=[{name:"bag",description:"The error message bag to retrieve errors from.",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}];var gD={tagName:"get_errors",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:ba,introducedIn:"3.2.23",augmentScope:(t,e)=>{var n;if(t.isClosingTag)return e;if(((n=t.name)==null?void 0:n.methodPart)==null){let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"field",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"field",refFieldSetField:null,sets:null,type:"string"}});let i=r.copy();i.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),r.addScopeList("messages",i),e.addScopeList("fields",r);}else{let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",r);}return e;},resolveDocumentation:t=>D("get_errors Tag","The `get_errors` tag can be used to retrieve form validation errors.","https://statamic.dev/tags/get_errors")},YN=gD;var _D={tagName:"get_errors:all",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:ba,introducedIn:null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let n=e.copy();return n.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors.all",sourceField:{blueprintName:"*internal.tag.get_errors.all",displayName:"get_errors:all",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",n),e;},resolveDocumentation:t=>D("get_errors:all Tag","The `get_errors:all` tag can be used to retrieve all form validation errors.","https://statamic.dev/tags/get_errors#list-all-validation-errors")},KN=_D;var yD={tagName:"get_error",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:ba,introducedIn:null,augmentScope:(t,e)=>(t.isClosingTag||e.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_error",sourceField:{blueprintName:"*internal.tag.get_error",displayName:"get_error",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e),resolveDocumentation:t=>D("get_error Tag","The `get_error` tag can be used to retrieve the first error message for a specific field.","https://statamic.dev/tags/get_errors#get-the-first-error-for-a-specific-field")},$N=yD;var TD={tagName:"set",hideFromCompletions:!0,allowsArbitraryParameters:!0,requiresClose:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[]},zN=TD;var XN=[hN,gN,_N,jN,UN,Fv,Bv,av,gc,zs,_c,hc,mc,HN,kN,$c,Qc,Jc,Xc,Zc,zc,zN,YN,$N,KN,qN,lm,mv,yc,Tc,cv,tN,uv,sN,iN,lv,jv,Gv,Yv,Fc,fv,pv,dv,Kv,$v,hv,bc,Xv,Vc,Qv,ON,om,Kc,_v,gv,Bc,eN,da,ma,nN,WN,Hc,ha,la,Uc,ua,ca,ga,cm,Pl,Nl,Il,Yc,Kd,$d,zd,Xd,Qd,Jd,Zd,em,VN,Hd,Wd,Yd,BN,bv,vv,Nv,Lv,Dv,oN,Ev,xv,mN,Ov,TN,Cc,Rc,Sc,Ic,Gc,Pc,kv,xN,lN,Gd,uN,cN,fN,pN,dN,Oc,Mv,Vd,aN,Sv,xc,rN];var hs=class{constructor(){this.tags=new Map;this.parameters=new Map;}reset(){this.tags.clear(),this.parameters.clear(),this.loadCoreTags();}getVisibleTagsWithDocumentation(){let e=[];return this.tags.forEach((n,r)=>{if(n.hideFromCompletions==!1){let i="";n.resolveDocumentation!=null&&(i=n.resolveDocumentation()),e.push({label:r,documentation:i});}}),e;}getVisibleTagNames(){let e=[];return this.tags.forEach((n,r)=>{n.hideFromCompletions==!1&&e.push(r);}),[...new Set(e)];}getPossibleTagMethods(e){let n=[],r=e.length+1;return this.tags.forEach((i,s)=>{if(s.startsWith(e)){let o=s.substr(r).trim();o.length>0&&n.push(o);}}),[...new Set(n)];}getTagNames(){let e=[];return this.tags.forEach((n,r)=>{e.push(r);}),[...new Set(e)];}loadCoreTags(){this.registerTags(XN);}cleanTagName(e){return En(e,"/");}findTag(e){return this.tags.get(this.resolveTagName(e));}isKnownTag(e){return this.tags.has(this.resolveTagName(e));}isSymbolKnownTag(e){return this.isKnownTag(e.runtimeName());}resolveTagName(e){return e=this.cleanTagName(e.trim()),this.tags.has(e)||e.includes(":")&&(e=e.split(":")[0]),e;}canResolveSpecialTypes(e){e=this.resolveTagName(e);let n=this.tags.get(e);return!(typeof n=="undefined"||n==null||n.resolveSpecialType==null);}resolveSpecialType(e,n,r){e=this.resolveTagName(e);let i=this.findTag(e);if(i.resolveSpecialType==null)throw new Error(e+" does not support special types.");return i.resolveSpecialType(n,r);}getCompletionItems(e){var s;let n=null,r=[],i=!0;if(e.nodesInScope.length>0&&(n=e.nodesInScope[e.nodesInScope.length-1]),e.currentNode!=null&&this.isKnownTag(e.currentNode.runtimeName())){let o=this.findTag(e.currentNode.runtimeName());if(typeof o=="undefined")return{isExclusive:!1,items:[]};let a=[];if(o.resolveCompletionItems!=null){let l=o.resolveCompletionItems(e);if(l.isExclusiveResult)return{isExclusive:!0,items:l.items};i=l.analyzeDefaults,r=r.concat(l.items);}if(e.isPastTagPart==!1){let l=this.getPossibleTagMethods(o.tagName);for(let u=0;u<l.length;u++)r.push({label:l[u],kind:QN.CompletionItemKind.Text});}if(i){if(e.isCaretInTag==!0&&o.parameters.length>0&&(r=r.concat(Ad(e,o.parameters)),o.tagName=="partial"&&(n==null?void 0:n.hasMethodPart()))){let l=n.getMethodNameValue();if(l.trim().length>0&&((s=fe.instance)==null?void 0:s.hasStructure())){let u=fe.instance.getStructure().findPartial(l);u!=null&&u.injectsParameters.length>0&&(r=r.concat(Ad(e,u.injectsParameters)));}}for(let l=0;l<e.nodesInScope.length;l++)if(e.nodesInScope[l].runtimeType!==null){let u=e.nodesInScope[l].runtimeType;if(u!=null&&u.assumedType=="structure_ref"&&u.supplementedFields!=null)for(let f=0;f<u.supplementedFields.length;f++)r.push(Ed(u.supplementedFields[f]));}}return{items:r,isExclusive:!1};}return{items:r,isExclusive:!1};}injectParentScope(e){let n=this.findTag(e);return typeof n=="undefined"||n==null?!0:n.injectParentScope;}resolveParameterCompletions(e,n,r){let i=this.findTag(e);return typeof i!="undefined"&&i!==null&&typeof i.resovleParameterCompletionItems!="undefined"&&i.resovleParameterCompletionItems!==null?i.resovleParameterCompletionItems(n,r):null;}canResolveDynamicParameter(e){let n=this.resolveTagName(e);if(this.isKnownTag(n)){let r=this.tags.get(n);if(typeof r=="undefined")return!1;if(typeof r.resolveDynamicParameter!="undefined"&&r.resolveDynamicParameter!=null)return!0;}return!1;}getParameter(e,n){let r=this.resolveTagName(e);if(this.parameters.has(r)==!1)return null;let i=this.parameters.get(r);if(i==null)return null;if(i.has(n)==!1){let o=this.findTag(e);if(o!=null&&typeof o.resolveDynamicParameter!="undefined"&&o.resolveDynamicParameter!=null){let a=o.resolveDynamicParameter(null,n);if(a!==null)return a;}return null;}let s=i.get(n);return typeof s=="undefined"||i==null?null:s;}registerTags(e){for(let n=0;n<e.length;n++)this.registerTag(e[n]);}registerTag(e){if(this.tags.set(e.tagName,e),this.parameters.has(e.tagName)==!1&&this.parameters.set(e.tagName,new Map),e.parameters.length>0){let n=this.parameters.get(e.tagName);for(let r=0;r<e.parameters.length;r++){let i=e.parameters[r];n==null||n.set(i.name,i);}}}requiresClose(e){let n=e.getTagName();if(this.tags.has(n)){let r=this.findTag(n);if(r!=null)return r.requiresCloseResolver!=null?r.requiresCloseResolver(e):r.requiresClose;}return!1;}};hs.instance=null;(typeof hs.instance=="undefined"||hs.instance==null)&&(hs.instance=new hs,hs.instance.loadCoreTags());var he=hs;var fr=class{constructor(e){this.generation=0;this.id="";this.name="";this.values=new Map;this.lists=new Map;this.pristine=new Map;this.parentScope=null;this.statamicProject=e,fr.generationCounter+=1,this.generation=fr.generationCounter,this.id=Ho();}makeNew(){return new fr(this.statamicProject);}ancestor(){return this.parentScope!=null?this.parentScope:this;}canShiftScope(e){return!!this.pristine.has(e);}shiftScope(e,n,r){if(this.pristine.has(n)){let i=this.pristine.get(n),s=i.parentCopy.copy();return s.introduceAliasScope(e,r,i.introducedFields),s;}return this;}containsPath(e){if(e.includes(":")){let n=e.split(":"),r=n.shift(),i=n.join(":");if(typeof r=="undefined")return!1;let s=this.lists.get(r);return typeof s=="undefined"?!1:s.containsPath(i);}return!!this.lists.has(e);}findReference(e){if(e.includes(":")){let n=e.split(":"),r=n.pop(),i=n.join(":"),s=this.findNestedScope(i);if(s!=null)return s.findReference(r);}return this.values.has(e)?this.values.get(e):null;}findReferenceWithField(e){if(e.includes(":")){let n=e.split(":"),r=n.pop(),i=n.join(":"),s=this.findNestedScope(i);if(s!=null)return s.findReference(r);}if(this.values.has(e)){let n=this.values.get(e);if(n.sourceField==null){if(n.introducedBy!=null&&n.introducedBy.currentScope!=null&&n.introducedBy.currentScope!=this)return n.introducedBy.currentScope.findReferenceWithField(n.introducedBy.getTagName());if(this.parentScope!=null&&this.parentScope!=this)return this.parentScope.findReferenceWithField(e);}return n;}return null;}containsReference(e){return this.findReference(e)!=null;}findNestedScope(e){if(e.includes(":")){let n=e.split(":"),r=n.shift(),i=n.join(":");if(typeof r=="undefined")return null;let s=this.lists.get(r);return typeof s=="undefined"?null:s.findNestedScope(i);}return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this&&this.parentScope.hasList(e)?this.parentScope.lists.get(e):null;}liftList(e){if(this.lists.has(e)){let n=this.lists.get(e);return typeof n=="undefined"||n===null?null:(this.lists.delete(e),n);}return null;}hasPristineReference(e){return!!this.pristine.has(e);}hasListInHistory(e){return this.hasList(e)?!0:this.parentScope!=null?this.name=="*root*"?!1:this.parentScope.hasList(e):!1;}hasList(e){if(this.lists.has(e)){let n=this.lists.get(e);return!(typeof n=="undefined"||n===null);}return!1;}bringListIntoMainScope(e){if(e.includes(":")){let r=e.split(":"),i=r.shift(),s=r.join(":");if(typeof i=="undefined")return this;let o=this.lists.get(i);return typeof o=="undefined"?this:o.bringListIntoMainScope(s);}let n=this.lists.get(e);return this.lists.delete(e),this.mergeScope(n);}getListNames(){let e=[];return this.lists.forEach((n,r)=>{e.push(r);}),e;}getVariableNames(){let e=[];return this.values.forEach(n=>{e.push(n.name);}),e;}getList(e){return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this?this.parentScope.getList(e):null;}hasValue(e){return this.values.has(e);}findAncestorWithList(e){return this.hasList(e)?this:this.parentScope!=null&&this.parentScope!=this?this.parentScope.findAncestorWithList(e):null;}findReferenceNotIntroducedBy(e,n){if(this.hasValue(e)){let r=this.values.get(e);if(r.introducedBy!=null&&r.introducedBy!=n)return r;}return this.parentScope!=null&&this.parentScope!=this?this.parentScope.findReferenceNotIntroducedBy(e,n):null;}removeThroughIntroduction(e,n){if(this.values.delete(e),this.parentScope!=null){let r=this.findReferenceNotIntroducedBy(e,n);r!=null&&this.addVariable(r);}}wasIntroducedBySymbol(e,n){if(this.values.has(e)==!1)return!1;let r=this.values.get(e);return r.introducedBy!=null?r.introducedBy==n:!1;}referencesArray(e){return this.values.has(e)==!1?!1:this.values.get(e).dataType=="array";}addScopeList(e,n){return this.lists.set(e,n),this;}mergeAndList(e,n){let r=new fr(this.statamicProject);return r.values=vN(n),this.lists.set(e,r),this.mergeVariableScope(n),this;}mergeScope(e){return e==this||e==null?this:(typeof e.values!="undefined"&&e.values!==null&&e.values.forEach((n,r)=>{this.values.set(r,n);}),typeof e.lists!="undefined"&&e.lists!==null&&e.lists.forEach((n,r)=>{this.lists.set(r,n);}),this);}mergeVariableScope(e){for(let n=0;n<e.length;n++)this.values.set(e[n].name,e[n]);return this;}addVariable(e){this.values.set(e.name,e);}addVariables(e){for(let n=0;n<e.length;n++)this.addVariable(e[n]);}addVariableArray(e,n){this.values.has(e)&&this.values.delete(e);let r=new fr(this.statamicProject);r.addVariables(n),this.addScopeList(e,r);}injectAssetContainer(e,n){this.addBlueprintFields(e,this.statamicProject.getAssetBlueprintFields(n));}injectUserFields(e){this.addBlueprintFields(e,this.statamicProject.getUserFields());}addBlueprintField(e,n){this.addVariable({dataType:n.type,name:n.name,sourceField:n,sourceName:n.blueprintName,introducedBy:e});}introduceScopedAliasScope(e,n,r,i){this.pristine.set(r,{introducedFields:i,introducedScope:r,parentCopy:this.copy()});let s=new fr(this.statamicProject),o=new fr(this.statamicProject);return o.addBlueprintFields(e,i),s.name=r,s.addScopeList(n,o),this.addScopeList(r,s),s;}expandScopedAliasScope(e,n,r,i){this.lists.has(r)==!1?this.introduceScopedAliasScope(e,n,r,i):this.lists.get(r).addBlueprintFields(e,i);}introduceAliasScope(e,n,r){this.pristine.set(n,{introducedFields:r,introducedScope:n,parentCopy:this.copy()});let i=new fr(this.statamicProject);i.addBlueprintFields(e,r),i.name=n,this.addScopeList(n,i);}introduceDynamicScopeList(e,n,r){this.pristine.set(n,{introducedFields:r,introducedScope:n,parentCopy:this.copy()});let i=new fr(this.statamicProject);i.name=n,i.addBlueprintFields(e,r),this.addScopeList(n,i);}addBlueprintFields(e,n){for(let r=0;r<n.length;r++)this.addBlueprintField(e,n[r]);}injectBlueprint(e,n){let r=this.statamicProject.getBlueprintDetails(n);r.length>0&&this.addBlueprintFields(e,r);}copy(){let e=new fr(this.statamicProject);return e.pristine=new Map(this.pristine),e.values=new Map(this.values),e.lists=new Map(this.lists),e.parentScope=this,e;}},cr=fr;cr.generationCounter=0;function fm(t){let e=new cr(t);return e.addVariable({dataType:"string",name:"handle",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"name",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"short_locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e;}function JN(){let t=[];return t.push({dataType:"number",name:"response_code",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_field",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_token",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"environment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"xml_header",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"last_segment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_uri",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"amp_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"api_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_full_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_in",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_out",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"is_homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"now",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"today",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"current_date",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get_post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"old",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t;}function ZN(t,e){let n=t.findParameter("paginate");if(n!=null&&(n.value.toLowerCase()=="true"||parseInt(n.value).toString()==n.value)){let r=e.makeNew(),i=e.makeNew(),s=e.makeNew(),o=e.makeNew();r.addVariable({name:"next_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"prev_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_items",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_pages",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"current_page",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"auto_links",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),s.addVariable({name:"url",dataType:"string",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),s.addVariable({name:"page",dataType:"integer",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),o.addVariable({name:"first",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),o.addVariable({name:"last",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),o.addVariable({name:"slider",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),i.addScopeList("all",s),i.addScopeList("segments",o),r.addScopeList("links",i),e.addScopeList("paginate",r);}}var no=class{constructor(){this.fileInjections=new Map;this.project=null;}updateProject(e){this.project=e;}registerInjections(e,n){if(n.length==0)return;let r=[];for(let i=0;i<n.length;i++){let s=n[i];s.hasParameters&&r.push(s);}if(r.length>0){let i=r[0].getMethodNameValue();if(i!=null&&this.project!=null){let s=this.project.findPartial(i);s!=null&&(this.fileInjections.has(s.documentUri)||this.fileInjections.set(s.documentUri,new Map),this.fileInjections.get(s.documentUri).set(e,r));}}}hasAvailableInjections(e){return this.fileInjections.has(e);}getScopeInjection(e,n){let r=new cr(n);return r.name="*injection*",this.fileInjections.get(e).forEach((s,o)=>{for(let a=0;a<s.length;a++){let l=s[a];if(l.hasParameters)for(let u=0;u<l.parameters.length;u++){let f=l.parameters[u];if(f.containsSimpleValue())r.addVariable({dataType:"string",name:f.name,sourceField:null,sourceName:"scope.injection",introducedBy:l});else if(f.isVariableReference&&l.currentScope!=null&&l.currentScope.hasListInHistory(f.value)){let c=l.currentScope.findNestedScope(f.value);if(c!=null){let d=En(f.name,":"),p=c.copy();p.name=d,r.addScopeList(d,c);}}}}}),r;}};no.instance=null;(typeof no.instance=="undefined"||no.instance==null)&&(no.instance=new no);var ro=no;var bD=["collection"],vD=["if","elseif","unless","elseunless"],pm=class{constructor(e,n,r){this.pageVars=[];this.viewDataVars=null;this.documentUri="";this.lastSymbolId="";this.ideHelperMap=new Map;this.statamicProject=e,this.documentUri=n,this.document=r,this.makePageScope(),this.makeViewDataScope();}makeViewDataScope(){this.document.hasFrontMatter()&&(this.viewDataVars=this.document.getFrontMatterScope());}makePageScope(){let e=[],n=this.statamicProject.getFields();if(n.has("pages")){let r=n.get("pages");for(let i=0;i<r.length;i++){let s=r[i];e.push({name:s.name,dataType:s.type,sourceField:s,sourceName:s.blueprintName,introducedBy:null});}}this.pageVars=e;}analyzeScope(e){var f,c,d,p,m,h,v,g,_;let n=new cr(this.statamicProject);n.name="*root*",n.parentScope=n,n.addScopeList("site",fm(this.statamicProject)),n.addScopeList("sites",fm(this.statamicProject)),n.addVariables(JN());let r=new cr(this.statamicProject);r.name="*root_user*",r.parentScope=n,this.statamicProject.getUserFields().forEach(T=>{r.addBlueprintField(null,T);}),n.addScopeList("current_user",r),((f=Cr.instance)==null?void 0:f.pageScopeDisabled(this.documentUri))?this.viewDataVars!=null&&n.addScopeList("view",this.viewDataVars):this.viewDataVars!=null?n.mergeAndList("page",this.pageVars).addScopeList("view",this.viewDataVars):n.mergeAndList("page",this.pageVars);let i=null;e.length>0&&e[0].isComment&&(i=ll(this.documentUri,e[0]));for(let T=0;T<e.length;T++)if(e[T].isComment){let I=ll(this.documentUri,e[T]);I.variableHelper!=null&&this.ideHelperMap.set(e[T].id(),I.variableHelper);}let s=this.statamicProject.getCollectionNamesForView(this.documentUri);if(i!=null&&(i.collectionInjections.length>0&&(s=s.concat(i.collectionInjections)),i.blueprints.length>0&&(s=s.concat(i.blueprints)),i.variableHelper!=null&&i.variableHelper.variableName=="@page")){let T=this.statamicProject.getBlueprintField(i.variableHelper.collectionName,i.variableHelper.fieldHandle);if(T!=null)if(i.variableHelper.setHandle.length>0){if(T.sets!=null){for(let I=0;I<T.sets.length;I++)if(T.sets[I].handle==i.variableHelper.setHandle){n.addVariables(_a(e[0],T.sets[I].fields));break;}}}else n.addBlueprintField(e[0],T);}if(s.length>0){for(let T=0;T<s.length;T++)n.injectBlueprint(e[0],s[T]);n.addVariables(us(e[0]));}((c=ro.instance)==null?void 0:c.hasAvailableInjections(this.documentUri))&&n.mergeScope((d=ro.instance)==null?void 0:d.getScopeInjection(this.documentUri,this.statamicProject));let o=[],a=[],l=[],u=[];u.push(n);for(let T=0;T<e.length;T++){let I=e[T];this.lastSymbolId.length>0&&a.includes(I.id())&&(o.pop(),u.pop(),u.length==0&&u.push(n));let w=u[u.length-1];if(I.hasParameters){for(let B=0;B<I.parameters.length;B++)if(I.parameters[B].interpolations.length>0)for(let ue=0;ue<I.parameters[B].interpolations.length;ue++){let ae=I.parameters[B].interpolations[ue];I.processedInterpolationRegions.has(ae)&&I.processedInterpolationRegions.get(ae).forEach(ne=>{ne instanceof W&&(ne.currentScope=w);});}}if(((p=he.instance)==null?void 0:p.isKnownTag(I.getTagName()))==!1){if(I.scopeVariable=w.findReference(I.runtimeName()),T>0){let B=e[T-1];if(B.isComment&&this.ideHelperMap.has(B.id())&&!B.isClosingTag&&!I.isClosingTag){let ue=this.ideHelperMap.get(B.id());if(ue.variableName==I.getTagName()){let ae=this.statamicProject.getBlueprintField(ue.collectionName,ue.fieldHandle);ae!=null&&(I.scopeVariable=bN(I,ae));}}}if(I.scopeVariable==null){let B=I.runtimeName().trim();if(w.hasList(B)||((m=I.currentScope)==null?void 0:m.hasListInHistory(B))){I.sourceType="array";let ue=w.getList(B);if(ue!=null&&ue.values.size>0){let ae=ue.values.entries().next().value[1];I.scopeVariable={dataType:"array",introducedBy:ae.introducedBy,name:B,sourceField:null,sourceName:ae.sourceName};}}}else I.sourceType=Vu(I.scopeVariable.dataType),I.scopeVariable.sourceField!=null&&((h=ra.instance)==null?void 0:h.hasFieldtype(I.scopeVariable.sourceField.type))&&((v=ra.instance)==null?void 0:v.getFieldType(I.scopeVariable.sourceField.type)).augmentScope(I,w);}if(I.hasParameters&&ZN(I,w),I.modifiers!=null&&I.modifiers.hasModifiers()?I.manifestType=I.modifiers.getLastManifestedModifierRuntimeType():I.manifestType=I.sourceType,I.isClosedBy!=null&&(o.push(I.id()),a.push(I.isClosedBy.id()),w=w.copy(),u.push(w)),I.getTagName()=="scope"&&I.hasMethodPart()){let B=u[u.length-2].copy();w.addScopeList(I.getMethodNameValue(),B);}if(w.containsPath(I.runtimeName())&&(o.push(I.id()),I.isClosedBy!=null&&a.push(I.isClosedBy.id()),w=w.copy().bringListIntoMainScope(I.runtimeName()),u.push(w)),I.currentScope=w,I.getTagName()!="cache"){let B=I.findParameter("scope");B!=null&&w.canShiftScope(I.runtimeName())&&(w=w.shiftScope(I,I.runtimeName(),B.value),I.currentScope=w,u.pop(),u.push(w));}if((g=he.instance)==null?void 0:g.isKnownTag(I.runtimeName())){let B=(_=he.instance)==null?void 0:_.findTag(I.runtimeName());typeof B!="undefined"&&B.augmentScope!=null&&B.augmentScope(I,w);}if(I.modifierChain!=null&&I.modifierChain.modifierChain.length>0&&I.modifierChain.modifierChain.forEach(B=>{B.modifier!=null&&typeof B.modifier.augmentScope!="undefined"&&B.modifier.augmentScope!=null&&B.modifier.augmentScope(I,w);}),I.modifiers.hasParameterModifiers()&&I.modifiers.parameterModifiers.forEach(B=>{B.modifier!=null&&typeof B.modifier.augmentScope!="undefined"&&B.modifier.augmentScope!=null&&B.modifier.augmentScope(I,w);}),I.sourceType=="array"){let B=I.findParameter("chunk"),ue=!0;if(I.parent!=null&&I.parent instanceof W&&bD.includes(I.parent.runtimeName())&&(ue=!1),typeof B!="undefined"&&B!==null)if(I.currentScope.parentScope!=null&&(I.currentScope.parentScope.hasList(I.runtimeName())||w.referencesArray(I.runtimeName()))){let ae=I.currentScope.parentScope.copy(),Te=ae.liftList(I.runtimeName());if(Te==null&&w.referencesArray(I.runtimeName())){if(Te=new cr(w.statamicProject),ue){let ne=Ye(I);for(let je=0;je<ne.length;je++){let _t=ne[je];ae.wasIntroducedBySymbol(_t.name,I)&&ae.removeThroughIntroduction(_t.name,I);}Te.addVariables(ne);}}else ue&&ae.addVariables(Ye(I));ae.addScopeList("chunk",Te),w=ae,u.pop(),u.push(w),I.currentScope=ae;}else{let ae=I.findParameter("scope");if(typeof ae!="undefined"&&ae!==null&&I.currentScope!=null&&I.currentScope.hasList(ae.value)&&I.scopeName!=null){let Te=I.currentScope.copy(),ne=Te.ancestor().copy(),je=Te.liftList(I.scopeName);ue&&Te.addVariables(Ye(I)),ne.liftList(I.scopeName),Te.addScopeList(I.scopeName,je),ne.addScopeList("chunk",Te),w=ne,u.pop(),u.push(w),I.currentScope=ne;}}else I.scopeVariable!=null&&I.scopeVariable.sourceField==null&&ue&&(w.addVariables(Ye(I)),w.addVariables(Ge(I)));}if(a.includes(I.id())&&I.parent!=null&&I.parent instanceof W){let B=I.currentScope.findAncestorWithList(I.getTagName());B!=null?(I.currentScope=B,w=B.copy(),u.pop(),u.length==0&&u.push(n),u.push(w)):I.parent.parent!=null?I.currentScope=I.parent.parent.currentScope:I.currentScope=I.parent.currentScope;}if(I.currentScope!=null&&I.runtimeNodes.length>0&&I.runtimeNodes.forEach(B=>{var ue;if(B instanceof ie&&((ue=I.currentScope)==null?void 0:ue.hasValue(B.name))){let ae=I.currentScope.findReferenceWithField(B.name);B.currentScope=I.currentScope,B.scopeName=I.scopeName,B.scopeVariable=ae;}}),vD.includes(I.runtimeName())&&I.runtimeNodes.length==3&&I.runtimeNodes[0]instanceof ie&&I.runtimeNodes[1]instanceof gn&&I.runtimeNodes[2]instanceof bt&&I.runtimeNodes[0].scopeVariable!=null&&I.runtimeNodes[0].scopeVariable.sourceField!=null){let B=I.runtimeNodes[0].scopeVariable,ue=I.runtimeNodes[2].value,ae=B.sourceField;if(ae.sets!=null)for(let Te=0;Te<ae.sets.length;Te++){let ne=ae.sets[Te];if(ne.handle==ue&&ne.fields!=null){w=w.copy(),w.addBlueprintFields(I,ne.fields),I.isClosedBy!=null&&!I.isSelfClosing&&(o.push(I.id()),a.push(I.isClosedBy.id()),u.push(w));break;}}}this.lastSymbolId=I.id();let $=o.join("/");l.push($);}}};var gs=class{};gs.globalTagEnterStack=[],gs.interpolatedVariables=[];var nP=K(tc());var wn=class{constructor(){this.name="";this.compound="";this.methodPart="";this.content="";this.cachedCompoundTagName=null;}tagPartIs(e){return e=e.toLowerCase().trim(),this.name.toLowerCase().trim()==e;}isCompound(){return this.methodPart==null?!1:this.methodPart.length>0;}getMethodName(){return this.methodPart==""?"index":this.methodPart=="null"?"":this.methodPart;}getRuntimeMethodName(){}getCompoundTagName(){if(this.cachedCompoundTagName==null){let e=this.getMethodName();this.cachedCompoundTagName=this.name,e!=null&&e!=""&&(this.cachedCompoundTagName=this.cachedCompoundTagName+":"+e);}return this.cachedCompoundTagName;}};var dm=class{constructor(){this.tagNames=[];this.modifierNames=[];}getModifierNames(){var e,n;return this.modifierNames.concat((n=(e=xe.instance)==null?void 0:e.getModifierNames())!=null?n:[]);}getTagNames(){var e,n;return this.tagNames.concat((n=(e=he.instance)==null?void 0:e.getTagNames())!=null?n:[]);}setTagNames(e){this.tagNames=e;}setModifierNames(e){this.modifierNames=e;}isTag(e){var n;return dm.alwaysLikeTag.includes(e)||((n=he.instance)==null?void 0:n.isKnownTag(e))?!0:this.tagNames.includes(e);}isModifier(e){var n;return((n=xe.instance)==null?void 0:n.hasModifier(e))?!0:this.modifierNames.includes(e);}},va=dm;va.alwaysLikeTag=["if","endif","elseif","else","unless","elseunless"];var Pa=class{static analyze(e,n){e.forEach(r=>{if(r instanceof W){if(r.pathReference!=null&&r.pathReference.isStrictVariableReference){r.isTagNode=!1;return;}r.name!=null&&(r.isTagNode=n.isTag(r.name.name));}});}static analyzeNode(e){if(e.pathReference!=null&&e.pathReference.isStrictVariableReference){e.isTagNode=!1;return;}Pa.environmentDetails!=null&&e.name!=null&&(e.isTagNode=Pa.environmentDetails.isTag(e.name.name)),e.name!=null&&(e.isConditionNode=va.alwaysLikeTag.includes(e.name.name));}static analyzeParametersForModifiers(e){e.parameters.forEach(n=>{Pa.environmentDetails!=null&&(n.isModifierParameter=Pa.environmentDetails.isModifier(n.name));});}},Na=Pa;Na.environmentDetails=null;(typeof Na.environmentDetails=="undefined"||Na.environmentDetails==null)&&(Na.environmentDetails=new va);var mm=Na;var hm=class{static getIdentifier(e){var i;let n=new wn;n.content=e.trim();let r=e.split(":");if(r.length==1)n.name=r[0].trim(),n.methodPart=null,n.compound=n.name;else if(r.length>1){let s=(i=r.shift())!=null?i:"",o=r.join(":");n.name=s.trim(),n.methodPart=o.trim(),n.compound=n.name+":"+n.methodPart;}else n.name=e.trim(),n.methodPart="";return n.name.startsWith("/")&&(n.name=n.name.substr(1),n.compound=n.compound.substr(1)),n;}};var J=class{static getPrettyTypeName(e){return e instanceof Ur?J.TOKEN_LANG_OPERATOR:e instanceof Bn?J.TOKEN_OP_A_ADD:e instanceof ie?J.TOKEN_VARIABLE:e instanceof bt?J.TOKEN_STRING:e instanceof Ft?J.TOKEN_NUMBER:e instanceof Er?J.TOKEN_CONSTANT_FALSE:e instanceof sr?J.TOKEN_CONSTANT_NULL:e instanceof wr?J.TOKEN_CONSTANT_TRUE:e instanceof Yo?J.TOKEN_MODIFIER_NODE:e instanceof dl?J.TOKEN_MODIFIER_CHAIN:e instanceof Sd?J.TOKEN_MODIFIER_PARAMETER:e instanceof jn?J.TOKEN_OP_A_DIVIDE:e instanceof oi?J.TOKEN_OP_A_EXPONENTIATION:e instanceof ai?J.TOKEN_OP_A_MODULUS:e instanceof Un?J.TOKEN_OP_A_MULTIPLY:e instanceof xn?J.TOKEN_OP_A_SUBTRACT:e instanceof Or?J.TOKEN_ASG_ADD:e instanceof Lr?J.TOKEN_ASG_DIVIDE:e instanceof Dr?J.TOKEN_ASG_MODULUS:e instanceof Mr?J.TOKEN_ASG_MULTIPLY:e instanceof Gn?J.TOKEN_ASG_ASSIGN:e instanceof li?J.TOKEN_ASG_SUBTRACT:e instanceof gn?J.TOKEN_CMP_EQUAL:e instanceof jr?J.TOKEN_CMP_SEQUAL:e instanceof or?J.TOKEN_CMP_GT:e instanceof Li?J.TOKEN_CMP_GTE:e instanceof kr?J.TOKEN_CMP_LT:e instanceof Fr?J.TOKEN_CMP_LTE:e instanceof qr?J.TOKEN_CMP_NEQ:e instanceof Vr?J.TOKEN_CMP_SNEQ:e instanceof Br?J.TOKEN_CMP_SPACESHIP:e instanceof Di?J.TOKEN_OP_VARIABLE_FALLBACK:e instanceof Rd?J.TOKEN_COND_FALLBACK_GROUP:e instanceof Tt?J.TOKEN_BRANCH_SEPARATOR:e instanceof Gr?J.TOKEN_TERNARY_SEPARATOR:e instanceof Wt?J.TOKEN_GROUP_BEGIN:e instanceof Dt?J.TOKEN_GROUP_END:e instanceof _n?J.TOKEN_MODIFIER_SEPARATOR:e instanceof Mt?J.TOKEN_MODIFIER_NAME:e instanceof kt?J.TOKEN_MODIFIER_VALUE:e instanceof An?J.TOKEN_MODIFIER_VALUE_SEPARATOR:e instanceof hl?J.TOKEN_NULL_COALESCE_GROUP:e instanceof xt?J.TOKEN_SEMANTIC_GROUP:e instanceof en?J.TOKEN_STATEMENT_SEPARATOR:e instanceof gl?J.TOKEN_TERNARY_CONDITION:e instanceof ar?J.TOKEN_OP_AND:e instanceof tn?J.TOKEN_OP_LOGIC_NEGATION:e instanceof Wr?J.TOKEN_OP_OR:e instanceof ui?J.TOKEN_OP_XOR:e instanceof lr?J.TOKEN_OP_NULL_COALESCE:e instanceof Ws?J.TOKEN_PARAM:e instanceof qn?J.TOKEN_PATH_ACCESSOR:e instanceof rs?J.TOKEN_OP_A_FACTORIAL:e instanceof ir?J.TOKEN_RECURSIVE:e instanceof zo?J.TOKEN_ARG_GROUP:e instanceof Pt?J.TOKEN_ARG_SEPARATOR:e instanceof ci?J.TOKEN_OP_STRING_CONCAT:e instanceof yn?J.TOKEN_OP_SCOPE_REASSIGNMENT:e instanceof $o?J.TOKEN_STRUCT_SWITCH_CASE:e instanceof Ys?J.TOKEN_STRUCT_SWITCH_GROUP:e instanceof Hs?J.TOKEN_STRUCT_DIRECTION_GROUP:e instanceof ur?J.TOKEN_STRUCT_SCOPED_LOGIC_GROUP:e instanceof Le?J.TOKEN_STRUCT_LOGIC_GROUP:e instanceof ml?J.TOKEN_STRUCT_VALUE_DIRECTION:e instanceof Mi?J.TOKEN_STRUCT_ARRAY:e instanceof Hr?J.TOKEN_STRUCT_T_LIST_START:e instanceof Cd?J.TOKEN_STRUCT_TUPLE_LIST:e instanceof Yt?J.TOKEN_STRUCT_METHOD_CALL:typeof e;}},U=J;U.TOKEN_LANG_OPERATOR="T_LANG_OPERATOR",U.TOKEN_VARIABLE="T_VAR",U.TOKEN_NUMBER="T_NUMERIC",U.TOKEN_STRING="T_STRING",U.TOKEN_RECURSIVE="T_RECURSIVE",U.TOKEN_CONSTANT_FALSE="T_FALSE",U.TOKEN_CONSTANT_NULL="T_NULL",U.TOKEN_CONSTANT_TRUE="T_TRUE",U.TOKEN_MODIFIER_NODE="T_MODIFIER",U.TOKEN_MODIFIER_CHAIN="T_MODIFIER_CHAIN",U.TOKEN_MODIFIER_PARAMETER="T_MODIFIER_PARAM",U.TOKEN_OP_A_ADD="T_AOP_ADD",U.TOKEN_OP_A_DIVIDE="T_AOP_DIVIDE",U.TOKEN_OP_A_EXPONENTIATION="T_AOP_EXP",U.TOKEN_OP_A_MODULUS="T_AOP_MOD",U.TOKEN_OP_A_MULTIPLY="T_AOP_MULTIPLY",U.TOKEN_OP_A_SUBTRACT="T_AOP_SUBTRACT",U.TOKEN_OP_A_FACTORIAL="T_AOP_FACTORIAL",U.TOKEN_ASG_ADD="T_ASG_ADD",U.TOKEN_ASG_DIVIDE="T_ASG_DIVIDE",U.TOKEN_ASG_ASSIGN="T_ASG",U.TOKEN_ASG_MODULUS="T_ASG_MODULUS",U.TOKEN_ASG_MULTIPLY="T_ASG_MULTIPLY",U.TOKEN_ASG_SUBTRACT="T_ASG_SUBTRACT",U.TOKEN_CMP_EQUAL="T_CMP_EQ",U.TOKEN_CMP_SEQUAL="T_CMP_SEQ",U.TOKEN_CMP_GT="T_CMP_GT",U.TOKEN_CMP_GTE="T_CMP_GTE",U.TOKEN_CMP_LT="T_CMP_LT",U.TOKEN_CMP_LTE="T_CMP_LTE",U.TOKEN_CMP_NEQ="T_CMP_NEQ",U.TOKEN_CMP_SNEQ="T_CMP_SNEQ",U.TOKEN_CMP_SPACESHIP="T_CMP_SPSHP",U.TOKEN_OP_VARIABLE_FALLBACK="T_VFBK",U.TOKEN_COND_FALLBACK_GROUP="T_VFBK_GROUP",U.TOKEN_BRANCH_SEPARATOR="T_BRANCH_SEPARATOR",U.TOKEN_TERNARY_SEPARATOR="T_TERNARY_SEPARATOR",U.TOKEN_GROUP_BEGIN="T_LOGIC_BEGIN",U.TOKEN_GROUP_END="T_LOGIC_END",U.TOKEN_MODIFIER_SEPARATOR="T_MODIFIER_SEPARATOR",U.TOKEN_MODIFIER_NAME="T_MODIFIER_NAME",U.TOKEN_MODIFIER_VALUE="T_MODIFIER_VALUE",U.TOKEN_MODIFIER_VALUE_SEPARATOR="T_MODIFIER_VALUE_SEPARATOR",U.TOKEN_NULL_COALESCE_GROUP="T_NULL_COALESCE_GROUP",U.TOKEN_SEMANTIC_GROUP="T_SEMANTIC_GROUP",U.TOKEN_STATEMENT_SEPARATOR="T_STATEMENT_SEPARATOR",U.TOKEN_TERNARY_CONDITION="T_TERNARY_CONDITION",U.TOKEN_OP_AND="T_AND",U.TOKEN_OP_LOGIC_NEGATION="T_LOGIC_INVERSE",U.TOKEN_OP_OR="T_OR",U.TOKEN_OP_XOR="T_XOR",U.TOKEN_OP_NULL_COALESCE="T_NULL_COALESCE",U.TOKEN_PARAM="T_PARAM",U.TOKEN_PATH_ACCESSOR="T_VAR_SEPARATOR",U.TOKEN_ARG_GROUP="T_ARG_GROUP",U.TOKEN_ARG_SEPARATOR="T_ARG_SEPARATOR",U.TOKEN_OP_STRING_CONCAT="T_STR_CONCAT",U.TOKEN_OP_SCOPE_REASSIGNMENT="T_SCOPE_ASSIGNMENT",U.TOKEN_STRUCT_SWITCH_CASE="T_SWITCH_CASE",U.TOKEN_STRUCT_SWITCH_GROUP="T_SWITCH_GROUP",U.TOKEN_STRUCT_DIRECTION_GROUP="T_DIRECTION_GROUP",U.TOKEN_STRUCT_VALUE_DIRECTION="T_ORDER_DIRECTION",U.TOKEN_STRUCT_SCOPED_LOGIC_GROUP="T_SCOPED_LOGIC_GROUP",U.TOKEN_STRUCT_LOGIC_GROUP="T_LOGIC_GROUP",U.TOKEN_STRUCT_ARRAY="T_ARRAY",U.TOKEN_STRUCT_T_LIST_START="T_LIST_START",U.TOKEN_STRUCT_TUPLE_LIST="T_LIST",U.TOKEN_STRUCT_METHOD_CALL="T_METHOD_CALL";var Ke=class{static isLanguageLogicalKeyword(e){return e==this.LogicalAnd||e==this.LogicalNot||e==this.LogicalOr||e==this.LogicalXor;}};Ke.LogicalAnd="and",Ke.LogicalNot="not",Ke.LogicalOr="or",Ke.LogicalXor="xor",Ke.ConstTrue="true",Ke.ConstFalse="false",Ke.ConstNull="null",Ke.ArrList="list",Ke.ScopeAs="as";var gm=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.currentContent=[];this.rawContent=[];this.startIndex=0;this.cur=null;this.next=null;this.prev=null;this.isParsingString=!1;this.isParsingModifierName=!1;this.isInModifierParameterValue=!1;this.runtimeNodes=[];this.ignorePrevious=!1;this.lastNode=null;this.referenceParser=null;this.activeNode=null;}reset(){this.ignorePrevious=!1,this.runtimeNodes=[],this.chars=[],this.inputLen=0,this.currentIndex=0,this.currentContent=[],this.rawContent=[],this.startIndex=0,this.cur=null,this.next=null,this.prev=null,this.isParsingString=!1,this.isParsingModifierName=!1,this.isInModifierParameterValue=!1,this.referenceParser=null,this.activeNode=null;}checkCurrentOffsets(){this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.ignorePrevious?(this.prev="",this.ignorePrevious=!1):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen&&(this.next=this.chars[this.currentIndex+1]);}isValidChar(e){return e==null||e==O.Punctuation_Semicolon?!1:this.isParsingString==!1&&e=="]"?!0:this.isParsingString==!1&&e==")"?!1:(e=="["||e=="]")&&e==this.cur||(e=="_"||e=="."||e=="["||e=="]")&&(!(this.currentContent.length>0)||X.ctypeAlpha(this.cur)||X.ctypeDigit(this.cur))?!0:X.ctypeSpace(e)?!1:this.isParsingModifierName&&(e==O.Punctuation_Minus||e==O.Punctuation_Underscore)?!0:!X.ctypePunct(e);}isRightOfInterpolationRegion(){if(this.activeNode==null||this.referenceParser==null)return!1;let e=this.activeNode._lexerRelativeOffset(this.currentIndex);return this.referenceParser.bordersInterpolationRegion(e);}scanForwardTo(e,n=0){let r=[];for(let i=this.currentIndex+1+n;i<this.inputLen;i++){let s=this.chars[i];if(s==e){r.push(s);break;}else r.push(s);}return r;}nextNonWhitespace(){for(let e=this.currentIndex+1;e<this.inputLen;e++){let n=this.chars[e];if(!X.ctypeSpace(n))return n;}return null;}pushError(e){this.referenceParser!=null&&this.referenceParser.addAntlersError(e);}guardAgainstNeighboringTypesInModifier(e){return this.lastNode instanceof kt&&this.pushError(M.makeSyntaxError(S.TYPE_MODIFIER_INCORRECT_VALUE_POSITION,this.lastNode,"Incorrect type ["+U.getPrettyTypeName(e)+"] near ["+U.getPrettyTypeName(this.lastNode)+"]")),!1;}appendContent(e){e!=null&&this.currentContent.push(e);}tokenize(e,n){this.reset(),this.referenceParser=e.getParser(),this.activeNode=e,this.chars=n.split(""),this.inputLen=this.chars.length,this.runtimeNodes=[],this.lastNode=null;let r=null;this.isParsingString=!1,this.isParsingModifierName=!1;let i=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){this.checkCurrentOffsets();let o=!0;if(this.cur!=null&&this.rawContent.push(this.cur),this.isParsingString==!1&&(this.cur==O.String_Terminator_DoubleQuote||this.cur==O.String_Terminator_SingleQuote)){if(this.prev==O.String_EscapeCharacter){this.pushError(M.makeSyntaxError(S.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE,e,"Illegal string escape sequence outside string parsing."));continue;}this.rawContent=[],this.rawContent.push(this.cur),i=this.cur,this.isParsingString=!0,r=this.currentIndex;continue;}if(this.isInModifierParameterValue&&!this.isParsingString){let a=!1;if(!this.isParsingString&&X.ctypeSpace(this.next)){let l=this.scanForwardTo(" ",1).join("").trim().toLowerCase();l.length>0&&Ke.isLanguageLogicalKeyword(l)&&(a=!0);}if(this.next==O.String_Terminator_SingleQuote||this.next==O.String_Terminator_DoubleQuote||this.next==null||a){this.appendContent(this.cur);let l=this.currentContent.join("");if(l.length>0){let u=l;if(this.currentContent=[],this.rawContent=[],u.trimRight().length==0){let c=this.nextNonWhitespace();if(c==O.String_Terminator_SingleQuote||c==O.String_Terminator_DoubleQuote){this.currentContent=[],this.rawContent=[];continue;}}let f=new kt;f.isVirtual=!1,f.name=u,f.value=u.trimRight(),f.startPosition=e._lexerRelativeOffset(this.currentIndex-u.length),f.endPosition=e._lexerRelativeOffset(this.currentIndex),f.parent=this.activeNode,this.guardAgainstNeighboringTypesInModifier(f),this.runtimeNodes.push(f),this.lastNode=f;}if(l.length==0)continue;this.currentContent=[],this.rawContent=[],this.isInModifierParameterValue=!1;continue;}if(this.next==O.Punctuation_Pipe||this.next==O.Punctuation_Colon||this.next==O.RightParent){this.isInModifierParameterValue=!1,this.appendContent(this.cur);let l=0,u=!1;if(this.currentContent[0]==O.String_Terminator_SingleQuote||this.currentContent[0]==O.String_Terminator_DoubleQuote){let d=this.scanForwardTo(this.currentContent[0]);d.length>0&&(this.currentContent=this.currentContent.concat(d),l=d.length,u=!0);}let f=this.currentContent.join("");u&&(f=f.substr(1),f=f.slice(0,-1)),this.currentContent=[],this.rawContent=[];let c=new kt;c.isVirtual=!1,c.name=f,c.value=f,c.startPosition=e._lexerRelativeOffset(this.currentIndex-f.length),c.endPosition=e._lexerRelativeOffset(this.currentIndex),c.parent=this.activeNode,this.runtimeNodes.push(c),this.guardAgainstNeighboringTypesInModifier(c),this.lastNode=c,this.currentIndex+=l;}else this.appendContent(this.cur);continue;}if(this.isParsingString&&this.cur==i){if(this.prev==O.String_EscapeCharacter)this.appendContent(i);else{if(this.isInModifierParameterValue){let l=this.currentContent.join(""),u=new kt;u.isVirtual=!1,u.name=l,u.value=l,u.startPosition=e._lexerRelativeOffset(r!=null?r:0),u.endPosition=e._lexerRelativeOffset(this.currentIndex),u.parent=this.activeNode,this.runtimeNodes.push(u),this.guardAgainstNeighboringTypesInModifier(u),this.lastNode=u,this.currentContent=[],this.rawContent=[],this.isParsingString=!1,this.isInModifierParameterValue=!1;continue;}let a=new bt;a.isVirtual=!1,a.startPosition=e._lexerRelativeOffset(r!=null?r:0),a.endPosition=e._lexerRelativeOffset(this.currentIndex),a.parent=this.activeNode,i!=null&&(a.sourceTerminator=i),i=null,this.isParsingString=!1,a.value=this.currentContent.join(""),a.rawLexContent=this.rawContent.join("").trim(),this.currentContent=[],this.rawContent=[],this.guardAgainstNeighboringTypesInModifier(a),this.runtimeNodes.push(a),this.lastNode=a;}continue;}if(this.isParsingString&&this.cur==O.String_EscapeCharacter){if(this.next==O.String_EscapeCharacter){this.appendContent(O.String_EscapeCharacter),this.ignorePrevious=!0,this.currentIndex+=1;continue;}else if(this.next==O.String_Terminator_SingleQuote){this.appendContent(O.String_Terminator_SingleQuote),this.currentIndex+=1;continue;}else if(this.next==O.String_Terminator_DoubleQuote){this.appendContent(O.String_Terminator_DoubleQuote),this.currentIndex+=1;continue;}else if(this.next=="n"){this.appendContent(`
`),this.currentIndex+=1;continue;}else if(this.next=="t"){this.appendContent("	"),this.currentIndex+=1;continue;}else if(this.next=="r"){this.appendContent("\r"),this.currentIndex+=1;continue;}}if(this.isParsingString==!1){if(this.isValidChar(this.cur)&&this.isValidChar(this.next)==!1&&this.currentContent.length==0&&(this.appendContent(this.cur),o=!1),(this.next==null||this.isValidChar(this.next)==!1)&&this.currentContent.length>0){o&&this.appendContent(this.cur);let a=this.currentContent.join("").trim(),l=a.length,u=this.currentIndex-l,f=e._lexerRelativeOffset(u),c=e._lexerRelativeOffset(this.currentIndex);if(this.currentContent=[],this.rawContent=[],a==Ke.LogicalAnd){let p=new ar;p.isVirtual=!1,p.content=Ke.LogicalAnd,p.startPosition=f,p.endPosition=c,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue;}else if(a==Ke.LogicalOr){let p=new Wr;p.isVirtual=!1,p.content=Ke.LogicalOr,p.startPosition=f,p.endPosition=c,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue;}else if(a==Ke.LogicalXor){let p=new ui;p.isVirtual=!1,p.content=Ke.LogicalXor,p.startPosition=f,p.endPosition=c,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue;}else if(a==Ke.ConstNull){let p=new sr;p.isVirtual=!1,p.content=Ke.ConstNull,p.startPosition=f,p.endPosition=c,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue;}else if(a==Ke.ConstTrue){let p=new wr;p.isVirtual=!1,p.content=Ke.ConstTrue,p.startPosition=f,p.endPosition=c,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue;}else if(a==Ke.ConstFalse){let p=new Er;p.isVirtual=!1,p.content=Ke.ConstFalse,p.startPosition=f,p.endPosition=c,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue;}else if(a==Ke.LogicalNot){let p=new tn;p.isVirtual=!1,p.content=Ke.LogicalNot,p.startPosition=f,p.endPosition=c,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue;}else if(a==Ke.ArrList&&this.next==O.LeftParen){let p=new Hr;p.isVirtual=!1,p.content=Ke.ArrList,p.startPosition=f,p.endPosition=c,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue;}if(X.isNumeric(a)){let p=new Ft;p.isVirtual=!1,p.startPosition=f,p.endPosition=c,p.parent=this.activeNode,a.includes(".")?p.value=parseFloat(a):p.value=parseInt(a),p.rawLexContent=a,this.guardAgainstNeighboringTypesInModifier(p),this.runtimeNodes.push(p),this.lastNode=p;continue;}if(this.runtimeNodes.length>0){let p=this.runtimeNodes[this.runtimeNodes.length-1];if(p instanceof _n){let m=new Mt;m.isVirtual=!1,m.name=a,m.content=a,m.startPosition=f,m.endPosition=c,m.parent=this.activeNode,this.runtimeNodes.push(m),this.lastNode=m;continue;}else if(p instanceof An){let m=new kt;m.isVirtual=!1,m.name=a,m.value=a,m.startPosition=f,m.endPosition=c,m.parent=this.activeNode,this.runtimeNodes.push(m),this.lastNode=m,this.isParsingModifierName=!1;continue;}}let d=new ie;d.isVirtual=!1,d.name=a,d.startPosition=f,d.endPosition=c,d.parent=this.activeNode,this.runtimeNodes.push(d),this.lastNode=d;continue;}}else{this.appendContent(this.cur);continue;}if(!X.ctypeSpace(this.cur)){if(this.isParsingString==!1){if(this.cur==O.Punctuation_Equals&&this.next==O.Punctuation_GreaterThan){let a=new yn;a.isVirtual=!1,a.content="=>",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.currentContent=[],this.rawContent=[],this.currentIndex+=1;continue;}if(this.cur==O.Punctuation_Comma){let a=new Pt;a.isVirtual=!1,a.content=O.Punctuation_Comma,a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue;}if(this.cur==O.Punctuation_Semicolon){let a=new en;a.isVirtual=!1,a.content=O.Punctuation_Semicolon,a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue;}if(this.cur==O.Punctuation_Plus){if(this.next==O.Punctuation_Equals){let l=new Or;l.isVirtual=!1,l.content="+=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue;}let a=new Bn;a.isVirtual=!1,a.content="+",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue;}if(this.isParsingModifierName==!1&&this.cur==O.Punctuation_Minus){if(X.ctypeDigit(this.next)&&X.ctypeDigit(this.prev)==!1&&this.prev!=O.RightParent&&this.isRightOfInterpolationRegion()==!1){this.appendContent(this.cur);continue;}if(this.next==O.Punctuation_Equals){let l=new li;l.isVirtual=!1,l.content="-=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue;}else if(this.next==O.Punctuation_GreaterThan){let l=new Yt;l.isVirtual=!1,l.content="->",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue;}let a=new xn;a.isVirtual=!1,a.content="-",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue;}if(this.cur==O.Punctuation_Asterisk){if(this.next==O.Punctuation_Asterisk){let l=new oi;l.isVirtual=!1,l.content="**",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue;}else if(this.next==O.Punctuation_Equals){let l=new Mr;l.isVirtual=!1,l.content="*=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue;}let a=new Un;a.isVirtual=!1,a.content="*",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue;}if(this.cur==O.Punctuation_ForwardSlash){if(this.next==O.Punctuation_Equals){let l=new Lr;l.isVirtual=!1,l.content="/=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue;}let a=new jn;a.isVirtual=!1,a.content="/",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue;}if(this.cur==O.Punctuation_Percent){if(this.next==O.Punctuation_Equals){let l=new Dr;l.isVirtual=!1,l.content="%=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue;}let a=new ai;a.isVirtual=!1,a.content="%",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue;}if(this.cur==O.Punctuation_LessThan){if(this.next==O.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==O.Punctuation_GreaterThan){let f=new Br;f.isVirtual=!1,f.content="<=>",f.startPosition=e._lexerRelativeOffset(this.currentIndex),f.endPosition=e._lexerRelativeOffset(this.currentIndex+3),f.parent=this.activeNode,this.runtimeNodes.push(f),this.lastNode=f,this.currentIndex+=2;continue;}let u=new Fr;u.isVirtual=!1,u.content="<=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue;}let a=new kr;a.isVirtual=!1,a.content="<",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue;}if(this.cur==O.Punctuation_GreaterThan){if(this.next==O.Punctuation_Equals){let l=new or;l.isVirtual=!1,l.content=">=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue;}let a=new or;a.isVirtual=!1,a.content=">",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue;}if(this.cur==O.Punctuation_Equals&&this.next!=O.Punctuation_Equals){let a=new Gn;a.isVirtual=!1,a.content="=",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue;}if(this.cur==O.Punctuation_Equals&&this.next==O.Punctuation_Equals){let a=null;if(this.currentIndex+2<this.inputLen&&(a=this.chars[this.currentIndex+2]),a==O.Punctuation_Equals){let l=new jr;l.isVirtual=!1,l.content="===",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+3),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=2;}else{let l=new gn;l.isVirtual=!1,l.content="==",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;}continue;}if(this.cur==O.Punctuation_Ampersand){if(this.next==O.Punctuation_Ampersand){let l=new ar;l.isVirtual=!1,l.content="&&",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue;}if(this.next==O.Punctuation_Equals){let l=new ci;l.isVirtual=!1,l.content="&=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue;}let a=new ar;a.isVirtual=!1,a.content="&",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue;}if(this.cur==O.Punctuation_Pipe&&this.next!=O.Punctuation_Pipe){let a=new _n;a.isVirtual=!1,a.content="|",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.isParsingModifierName=!0;continue;}if(this.cur==O.Punctuation_Pipe&&this.next==O.Punctuation_Pipe){let a=new Wr;a.isVirtual=!1,a.content="||",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+2),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.currentIndex+=1;continue;}if(this.cur==O.Punctuation_Exclamation){if(this.next==O.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==O.Punctuation_Equals){let f=new Vr;f.isVirtual=!1,f.content="!==",f.startPosition=e._lexerRelativeOffset(this.currentIndex),f.endPosition=e._lexerRelativeOffset(this.currentIndex+3),f.parent=this.activeNode,this.runtimeNodes.push(f),this.lastNode=f,this.currentIndex+=2;continue;}let u=new qr;u.isVirtual=!1,u.content="!=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue;}let a=new tn;a.isVirtual=!1,a.content="!",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue;}if(this.cur==O.Punctuation_Question&&this.next==O.Punctuation_Equals){let a=new Di;a.isVirtual=!1,a.content="?=",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+2),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.currentIndex+=1;continue;}if(this.cur==O.Punctuation_Question&&this.next==O.Punctuation_Question){let a=new lr;a.isVirtual=!1,a.content="??",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+2),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.currentIndex+=1;continue;}if(this.cur==O.Punctuation_Question&&this.next==O.Punctuation_Colon){let a=new lr;a.isVirtual=!1,a.content="?:",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+2),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.currentIndex+=1;continue;}if(this.cur==O.Punctuation_Question){let a=new Gr;a.isVirtual=!1,a.content="?",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue;}if(this.cur==O.LeftParen){let a=new Wt;a.isVirtual=!1,a.content="(",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue;}if(this.cur==O.RightParent){let a=new Dt;a.isVirtual=!1,a.content=")",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue;}if(this.cur==O.Punctuation_Colon){if(this.runtimeNodes.length>0&&this.runtimeNodes[this.runtimeNodes.length-1]instanceof Mt){let u=new An;u.isVirtual=!1,u.content=":",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+1),u.parent=this.activeNode,this.runtimeNodes.push(u),this.isInModifierParameterValue==!1?this.isInModifierParameterValue=!0:this.isInModifierParameterValue=!1;continue;}let a=new Tt;a.isVirtual=!1,a.content=":",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.isParsingModifierName=!1;continue;}}o&&this.appendContent(this.cur);}}let s=this.runtimeNodes.length-1;for(let o=0;o<this.runtimeNodes.length;o++){let a=null,l=null;o>0&&(a=this.runtimeNodes[o-1]),o!=s&&(l=this.runtimeNodes[o+1]);let u=this.runtimeNodes[o];u.prev=a,u.next=l;}return this.runtimeNodes;}};var At=class{constructor(){this.chars=[];this.currentIndex=0;this.lastIndex=0;this.inputLength=0;this.prev=null;this.cur=null;this.next=null;this.isParsingString=!1;this.isStringKeyPath=!1;this.antlersErrors=[];this._recusriveEntryCheck=new Map;}isValidChar(e){return!(this.isParsingString==!1&&X.ctypeSpace(e)||this.isParsingString==!1&&e==At.LeftBracket||this.isParsingString==!1&&e==At.RightBracket);}normalizePath(e){return e=e.replace(":","_"),e=e.replace(".","_"),e=e.replace("[","_"),e=e.replace("]","_"),e.replace("]","_");}getAntlersErrors(){return this.antlersErrors;}mergeErrors(e){e.forEach(n=>{this.antlersErrors.push(n);});}parse(e){this.antlersErrors=[],this._recusriveEntryCheck.clear();let n=e,r=!1,i=!1,s=!1,o=!1;e.startsWith(O.AtChar)&&(s=!0,e=e.substr(1)),e.startsWith(O.Punctuation_Caret)?(o=!0,e=e.substr(1)):(e.startsWith(O.Punctuation_Dollar)&&(r=!0,e=e.substr(1)),e.startsWith(O.Punctuation_Dollar)&&(i=!0,e=e.substr(1))),this.chars=[],this.currentIndex=0,this.lastIndex=0,this.inputLength=0,this.cur=null,this.prev=null,this.next=null,this.chars=e.split(""),this.inputLength=this.chars.length,this.lastIndex=this.inputLength-1;let a=[],l=!1,u=[],f=At.ColonSeparator,c=!1,d=null,p=!1,m=!0;if(this.isParsingString=!1,this.inputLength==0){let g=new ss;return g._isFromEmptyFailState=!0,g;}for(this.currentIndex;this.currentIndex<this.inputLength;this.currentIndex+=1){if(this.cur=this.chars[this.currentIndex],this.next=null,c?(c=!1,this.prev=""):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLength&&(this.next=this.chars[this.currentIndex+1]),this.isParsingString==!1&&this.cur==At.ColonSeparator&&(f=At.ColonSeparator),this.isParsingString==!1&&this.cur==At.DotPathSeparator&&(f=At.DotPathSeparator),this.isParsingString&&this.cur==O.String_EscapeCharacter&&this.next==d){d!=null&&a.push(d),this.currentIndex+=1;continue;}if(this.cur==O.String_Terminator_SingleQuote||this.cur==O.String_Terminator_DoubleQuote)if(this.isParsingString)if(this.cur==d)if(this.prev==O.String_EscapeCharacter){a.push(this.cur);continue;}else this.isParsingString=!1,m=!1;else{a.push(this.cur);continue;}else{this.prev!=O.LeftBracket&&(X.ctypeAlpha(this.prev)||X.ctypeDigit(this.prev))&&this.antlersErrors.push(M.makeSyntaxError(S.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR,null,"Unexpected string start while parsing variable path. String literals must be within array accessors.")),this.isParsingString=!0,p=!0,d=this.cur,this.isStringKeyPath=!0;continue;}if(this.isParsingString){if(X.ctypeSpace(this.cur)){a.push(this.cur);continue;}else if(this.cur==O.String_EscapeCharacter){if(this.next==O.String_EscapeCharacter){a.push(O.String_EscapeCharacter),this.currentIndex+=1,c=!0;continue;}else if(this.next=="n"){a.push(`
`),this.currentIndex+=1;continue;}else if(this.next=="t"){a.push("	"),this.currentIndex+=1;continue;}else if(this.next=="r"){a.push("\r"),this.currentIndex+=1;continue;}}}if(this.isParsingString==!1&&this.cur==At.LeftBracket){if(a.length>0){let T=new qn;T.name=a.join(""),T.delimiter=f,u.push(T),a=[];}if(this.next==null||X.ctypeSpace(this.next)){this.antlersErrors.push(M.makeSyntaxError(S.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT,null,"Unexpected end of input or whitespace while parsing variable accessor path."));continue;}let g=this.locateEndOfAccessor();this.currentIndex=g.foundOn;let _=new At;if(u.push(_.parse(g.nestedContent)),this.mergeErrors(_.getAntlersErrors()),l=!0,this.currentIndex==-1){this.antlersErrors.push(M.makeSyntaxError(S.PARSER_CANNOT_PARSE_PATH_RECURSIVE,null,"Cannot parse variable path.")),l=!1;break;}continue;}if(this.isParsingString==!1&&this.next==At.RightBracket&&l){m?a.push(this.cur):m=!0;let g=new xd;g.name=a.join(""),u.push(g),a=[],f=At.ColonSeparator,this.currentIndex+=1,l=!1;continue;}if(this.isParsingString==!1&&(this.cur==At.LeftBracket||this.cur==At.ColonSeparator||this.cur==At.DotPathSeparator||this.currentIndex==this.lastIndex)){if(this.next==null||X.ctypeSpace(this.next)){if(this.cur==At.ColonSeparator){if(a.length==0){this.antlersErrors.push(M.makeSyntaxError(S.TYPE_UNEXPECTED_BRANCH_SEPARATOR,null,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue;}this.antlersErrors.push(M.makeSyntaxError(S.TYPE_ILLEGAL_VARPATH_RIGHT,null,'Variable paths cannot end with the ":" character.'));continue;}if(this.cur==At.LeftBracket){this.antlersErrors.push(M.makeSyntaxError(S.TYPE_ILLEGAL_VARPATH_SUBPATH_START,null,"Illegal variable sub-path start."));continue;}}this.currentIndex==this.lastIndex&&this.isValidChar(this.cur)&&(m?a.push(this.cur):m=!0);let g=new qn;g.delimiter=f,g.name=a.join(""),p&&(g.isStringVar=p,g.name=n.substr(1),g.name=g.name.slice(0,-1),p=!1),u.push(g),a=[];continue;}else{a.push(this.cur);continue;}}let h=u.length;if(h>0){let g=u[h-1];(g instanceof qn||g instanceof ss)&&(g.isFinal=!0);}let v=new ss;return v.isStrictTagReference=o,v.isStrictVariableReference=r,v.isExplicitVariableReference=i,v.pathParts=u,v.originalContent=e,v.isVariableVariable=s,v.normalizedReference=e.replace(":","."),v;}locateEndOfAccessor(){let e=[],n=1,r=-1,i="",s=!1,o=null;if(this._recusriveEntryCheck.has(this.currentIndex+1)==!1)this._recusriveEntryCheck.set(this.currentIndex+1,!0);else return{foundOn:r,nestedContent:""};for(let a=this.currentIndex+1;a<this.inputLength;a++){let l=this.chars[a],u=null,f=null;if(a>0&&(f=this.chars[a-1]),a+1<this.inputLength&&(u=this.chars[a+1]),s==!1&&(l==O.String_Terminator_SingleQuote||l==O.String_Terminator_DoubleQuote)){s=!0,o=l,e.push(l);continue;}if(s==!1&&l==At.LeftBracket){n+=1,e.push(l);continue;}if(s&&l==o&&f!=O.String_EscapeCharacter){e.push(l),s=!1,o=null;continue;}if(s==!1&&l==At.RightBracket)if(n-=1,n==0){r=a,i=e.join("");break;}else{e.push(l);continue;}else e.push(l);s==!1&&X.ctypeSpace(u)&&this.antlersErrors.push(M.makeSyntaxError(S.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path.")),u==null&&this.antlersErrors.push(M.makeSyntaxError(S.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path."));}return{foundOn:r,nestedContent:i};}},qi=At;qi.ColonSeparator=":",qi.LeftBracket="[",qi.RightBracket="]",qi.DotPathSeparator=".";var _m=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.cur=null;this.prev=null;this.pathParser=new qi;this.lexer=new gm;this.activeNode=null;}reset(){this.chars=[],this.inputLen=0,this.currentIndex=0,this.cur=null,this.prev=null;}canBeClosingTag(e){var r;let n=(r=e.name)==null?void 0:r.name;return n=="elseif"||n=="else"?!0:e.name==null?!1:e.name.content.startsWith("/");}parseNode(e){var f,c,d,p;if(this.activeNode=e,this.reset(),e.content.startsWith("*subrecursive")){let m=e.content;m=m.trim(),m=X.trimRight(m,"*"),m=m.substr(13);let h=new ir;return e.copyBasicDetailsTo(h),h.originalNode=e,h.name=new wn,h.name.name=m,h.isNestedRecursive=!0,h.pathReference=this.pathParser.parse(m),h.mergeErrors(this.pathParser.getAntlersErrors()),h.content=m,h.runtimeContent=m,h;}if(e.content.trim().startsWith("*recursive")){let m=e.content;m=m.trim(),m=X.trimRight(m,"*"),m=m.substr(10).trim();let h=new ir;return e.copyBasicDetailsTo(h),h.originalNode=e,h.name=new wn,h.name.name=m,h.pathReference=this.pathParser.parse(m),h.mergeErrors(this.pathParser.getAntlersErrors()),h.content=m,h.runtimeContent=m,h;}this.chars=e.content.split(""),this.inputLen=this.chars.length;let n=[],r=!1,i="",s=!1,o=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.cur=this.chars[this.currentIndex],this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),r==!1){if(s==!1&&(this.cur==O.String_Terminator_DoubleQuote||this.cur==O.String_Terminator_SingleQuote)){o=this.cur,s=!0,n.push(this.cur);continue;}if(s&&X.ctypeSpace(this.cur)){n.push(this.cur);continue;}if(s&&this.cur==o&&this.prev!=O.String_EscapeCharacter){o=null,s=!1,n.push(this.cur);continue;}if(X.ctypeSpace(this.cur)||this.currentIndex==this.inputLen-1||this.cur==O.Punctuation_Pipe){if(n.length==0)continue;X.ctypeSpace(this.cur)||this.cur!=O.Punctuation_Pipe&&n.push(this.cur),i=n.join(""),r=!0;break;}n.push(this.cur);}let a=e.getContentRelativeStartIndex();if(e.nameStartsOn=e.relativeOffset(a,a),e.nameStartsOn!=null&&(e.nameEndsOn=e.nameStartsOn.shiftRight(i.length-1),i.includes(O.Punctuation_Colon))){let m=i.indexOf(O.Punctuation_Colon);e.nameMethodPartStartsOn=e.nameStartsOn.shiftRight(m+1);}e.name=hm.getIdentifier(i),mm.analyzeNode(e),e.parameters=this.getParameters(e),e.hasParameters=e.parameters.length>0,e.hasParameters&&(mm.analyzeParametersForModifiers(e),e.resetContentCache()),e.pathReference=this.pathParser.parse(i),e.mergeErrors(this.pathParser.getAntlersErrors()),e.pathReference!=null&&e.pathReference.isStrictTagReference&&(e.name.name=e.name.name.substr(1),e.name.content=e.name.content.substr(1)),e.isClosingTag=this.canBeClosingTag(e);let l=[];e.isClosingTag==!1&&(l=this.lexer.tokenize(e,e.getContent())),e.runtimeNodes=l;let u=e.content.trim();if(Oi.isConditionalStructure(e)&&e.name.name!="else"&&l.length==0&&u!="/if"&&u!="/unless"&&u!="/endunless"&&u!="endif"&&u!="endunless"&&u!="/endif"&&e.getContent().trim().length==0&&this.pushConditionWithoutExpression(e),e.name.name=="endif"){let m=e.copyBasicDetails(),h=e.getParser();return h!=null&&m.withParser(h),m.name=new wn,m.name.name="if",m.name.compound="if",m.isClosingTag=!0,m.content=" /if ",m.originalNode=e,m;}if(e.name.name=="unless"){let m=e.copyBasicDetails(),h=e.getParser();if(h!=null&&m.withParser(h),m.name=new wn,m.name.name="if",m.name.compound="if",e.isClosingTag==!1){let v=(f=e.getContent())!=null?f:"",g=" if !("+v+") ";m.content=g,m.originalNode=e,m.resetContentCache(),m.runtimeNodes=this.lexer.tokenize(m,(c=m.getContent())!=null?c:""),this.testUnlessContent(m);}else m.originalNode=e,m.content=" /if ";return m;}else if(e.name.name=="elseunless"){let m=e.copyBasicDetails(),h=e.getParser();h!=null&&m.withParser(h),m.name=new wn,m.name.name="elseif",m.name.compound="elseif";let v=(d=e.getContent())!=null?d:"",g=" elseif !("+v+") ";return m.content=g,m.originalNode=e,m.resetContentCache(),m.runtimeNodes=this.lexer.tokenize(m,(p=m.getContent())!=null?p:""),this.testUnlessContent(m),m;}else if(e.name.name=="endunless"){let m=e.copyBasicDetails(),h=e.getParser();return h!=null&&m.withParser(h),m.name=new wn,m.name.name="if",m.name.compound="if",m.isClosingTag=!0,m.content=" /if ",m.originalNode=e,m;}return e;}pushError(e){this.activeNode!=null&&this.activeNode.pushError(e);}testUnlessContent(e){var r;let n=(r=e.getContent())!=null?r:"";if(n=n.replace("!",""),n=n.replace("(",""),n=n.replace(")","").trim(),n.length==0){this.pushConditionWithoutExpression(e);return;}}pushConditionWithoutExpression(e){this.pushError(M.makeSyntaxError(S.TYPE_PARSE_EMPTY_CONDITIONAL,e,"Condition structure lacks comparison expression."));}getParameters(e){var $,B,ue,ae,Te,ne,je,_t,Ie;let n=($=e.getContent())!=null?$:"",r=n.split(""),i=[],s=[],o=r.length,a=0;if(e.name!=null){let Q=X.trimLeft(e.content," "),ze=e.content.length-Q.length,st=e.name.content.length;ze>0?a=ze+st:a=st;}let l=!1,u=[],f="",c=0,d=0,p=!1,m=null,h=-1,v=-1,g=-1,_=-1,T=-1,I=-1,w='"';for(let Q=0;Q<o;Q++){let ze=r[Q],st=null,Ot=null;if(Q+1<o&&(Ot=r[Q+1]),p?(st="",p=!1):Q>0&&(st=r[Q-1]),l==!1&&X.ctypeSpace(ze)){u=[],h=-1,v=-1,g=-1,_=-1,T=-1,I=-1;continue;}if(l==!1&&ze==O.Punctuation_Equals){if(u.length>0&&(X.ctypeAlpha(u[0])||u[0]==O.Punctuation_Colon||u[0]==O.AtChar)==!1){u=[];continue;}if(Q+1>=o){this.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_END_OF_INPUT,e,"Unexpected end of input"));continue;}let ke=null;if(Q+1<o&&(ke=r[Q+1]),st==O.Punctuation_Equals){u=[],h=-1,v=-1,g=-1,_=-1,T=-1,I=-1;continue;}if(X.ctypeSpace(ke)||ke==O.Punctuation_Equals){u=[],h=-1,v=-1,g=-1,_=-1,T=-1,I=-1;continue;}u.length>0&&(_=Q,T=Q,f=u.join(""),c=d,l=!0,u=[]),Ot==O.String_Terminator_DoubleQuote&&(m=O.String_Terminator_DoubleQuote,w=O.String_Terminator_DoubleQuote,Q+=1),Ot==O.String_Terminator_SingleQuote&&(m=O.String_Terminator_SingleQuote,w=O.String_Terminator_SingleQuote,Q+=1);continue;}if(l&&ze==O.String_EscapeCharacter){let ke=null;if(Q+1<o&&(ke=r[Q+1]),ke==O.String_EscapeCharacter){u.push(O.String_EscapeCharacter),Q+=1,p=!0;continue;}if(ke==O.String_Terminator_DoubleQuote){u.push(O.String_Terminator_DoubleQuote),Q+=1;continue;}if(ke==O.String_Terminator_SingleQuote){u.push(O.String_Terminator_SingleQuote),Q+=1;continue;}if(ke=="n"){u.push(`
`),Q+=1;continue;}if(ke=="r"){u.push("\r"),Q+=1;continue;}}if(l==!1&&(m!=null&&ze==m||m==null&&X.ctypeSpace(ze))&&i.push(u.join("")),l&&(m!=null&&ze==m||m==null&&X.ctypeSpace(ze))){let ke=u.join("");I=Q,v=Q,l=!1,m=null,u=[];let ot=new Ws;if(f.startsWith(O.Punctuation_Colon)&&(ot.isVariableReference=!0,f=f.substr(1)),ot.nameDelimiter=w,ot.name=f,ot.value=ke,ot.startPosition=(B=e.relativePositionFromOffset(d,c))!=null?B:null,Q+1>o){this.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER,e,"Unexpected end of input while parsing parameter content.")),ot.parent=e,s.push(ot),f="";continue;}ot.endPosition=(ue=e.relativePositionFromOffset(Q+1,Q+1))!=null?ue:null,ot.parent=e,ot.blockPosition={start:(ae=e.relativeOffset(h,h))!=null?ae:null,end:(Te=e.relativeOffset(v,v))!=null?Te:null},ot.namePosition={start:(ne=e.relativeOffset(g,g))!=null?ne:null,end:(je=e.relativeOffset(_,_))!=null?je:null},ot.valuePosition={start:(_t=e.relativeOffset(T+2,T+2))!=null?_t:null,end:(Ie=e.relativeOffset(I,I))!=null?Ie:null},s.push(ot),f="",h=-1,v=-1,g=-1,_=-1,T=-1,I=-1;continue;}if(l==!1&&(ze==O.String_Terminator_DoubleQuote||ze==O.String_Terminator_SingleQuote)&&Q>a)break;u.push(ze),h==-1&&(h=Q),g==-1&&(g=Q),u.length==1&&(d=Q+1);}if(m!=null){let Q=e;if(i.length>0){let ze=i[i.length-1],st=e.content.indexOf(ze);if(st>=0){let Ot=new Y;Ot.startPosition=e.relativeOffset(st-2,st-2),Ot.endPosition=e.relativeOffset(st+ze.length,st+ze.length),Q=Ot;}}this.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_END_OF_INPUT,Q,"Unexpected string literal while parsing parameters."));}return s;}};var eP=K(tc()),ef=class{static regions(){return this.noParseRegions;}static clear(){this.noParseRegions.clear();}static registerNoParseContent(e){let n=eP.Md5.hashStr(e);return this.noParseRegions.set(n,e),n;}};ef.noParseRegions=new Map;function ym(t,e){let n=new Set(t),r=new Set(e),i=new Set([...n].filter(s=>r.has(s)));return Array.from(i);}var Tm=class{constructor(){this.closingTagIndex=new Map;this.closingTagIndexCount=new Map;this.openTagIndexCount=new Map;this.closingTagNames=new Map;this.parentNode=null;this.stackCount=0;this.createdExecutionBranches=[];this.document=null;}getClosingCandidates(e){var n,r;if((e instanceof W||e instanceof ut)&&e.isClosingTag==!1){let i=(r=(n=e.name)==null?void 0:n.compound)!=null?r:"";return i=="if"?["if","elseif","else"]:i=="elseif"?["elseif","else","if"]:i=="else"?["if"]:[i];}return[];}buildCloseIndex(e){var n,r,i;e.forEach(s=>{var o,a,l,u,f,c,d,p,m,h;if(!(s instanceof ir)&&!((s instanceof W||s instanceof ut)&&s.isSelfClosing)&&(s instanceof W||s instanceof ut)&&s.isClosingTag){this.closingTagIndex.has(this.stackCount)==!1&&this.closingTagIndex.set(this.stackCount,new Map),this.closingTagIndexCount.has(this.stackCount)==!1&&this.closingTagIndexCount.set(this.stackCount,new Map);let v=(a=(o=s.name)==null?void 0:o.compound)!=null?a:"";((l=this.closingTagIndex.get(this.stackCount))==null?void 0:l.has(v))==!1&&((u=this.closingTagIndex.get(this.stackCount))==null||u.set(v,[]),(f=this.closingTagIndexCount.get(this.stackCount))==null||f.set(v,0)),(d=(c=this.closingTagIndex.get(this.stackCount))==null?void 0:c.get(v))==null||d.push(s);let g=(m=(p=this.closingTagIndexCount.get(this.stackCount))==null?void 0:p.get(v))!=null?m:0;(h=this.closingTagIndexCount.get(this.stackCount))==null||h.set(v,g+1);}}),this.closingTagNames.has(this.stackCount)==!1&&this.closingTagNames.set(this.stackCount,[]),this.closingTagIndex.has(this.stackCount)&&(this.closingTagNames.set(this.stackCount,Array.from((r=(n=this.closingTagIndex.get(this.stackCount))==null?void 0:n.keys())!=null?r:[])),(i=this.closingTagIndex.get(this.stackCount))==null||i.forEach((s,o)=>{var u,f,c,d,p,m,h;let a=s.length;if(a==0)return;let l=s[a-1];for(let v=0;v<a;v++){let g=e[v];if(g instanceof W||g instanceof ut){if(g instanceof ir)continue;if(g.index>=l.index)break;let _=(f=(u=g.name)==null?void 0:u.compound)!=null?f:"";if(g.isClosingTag==!1&&o==_){this.openTagIndexCount.has(this.stackCount)==!1&&this.openTagIndexCount.set(this.stackCount,new Map),((c=this.openTagIndexCount.get(this.stackCount))==null?void 0:c.has(o))==!1&&((d=this.openTagIndexCount.get(this.stackCount))==null||d.set(o,0));let T=(m=(p=this.openTagIndexCount.get(this.stackCount))==null?void 0:p.get(o))!=null?m:0;(h=this.openTagIndexCount.get(this.stackCount))==null||h.set(o,T+1);}}}}));}getScanForList(e){var n;if(e instanceof W||e instanceof ut){let r=(n=e.name)==null?void 0:n.compound;if(r=="else")return["if"];if(r=="elseif")return["elseif","else","if"];if(e.isClosingTag==!1){let i=this.getClosingCandidates(e),s=this.closingTagNames.get(this.stackCount);return ym(i,s);}}return[];}canPossiblyClose(e){var n,r;if(e instanceof ir)return!1;if(e instanceof ut||e instanceof W){if(e.isComment||e.isSelfClosing)return!1;let i=(r=(n=e.name)==null?void 0:n.compound)!=null?r:"";if(i=="else"||i=="elseif")return!0;if(e.isClosingTag==!1){let s=this.getClosingCandidates(e),o=this.closingTagNames.get(this.stackCount);return ym(s,o).length>0;}}return!1;}findClosingPair(e,n,r){var a,l,u,f;let i=n.runtimeNodes.length,s=e.length,o=0;for(let c=0;c<s;c++){let d=e[c];if(d instanceof W||d instanceof ut)if(n.endPosition!=null&&d.startPosition!=null){if(n.endPosition.isBefore(d.startPosition)){if(d.isClosingTag&&d.isOpenedBy!=null||d.isSelfClosing)continue;let p=(l=(a=d.name)==null?void 0:a.compound)!=null?l:"";if(d.isClosingTag==!1){if(r.includes(p)){let m=(u=this.openTagIndexCount.get(this.stackCount))==null?void 0:u.get(p),h=(f=this.closingTagIndexCount.get(this.stackCount))==null?void 0:f.get(p);m!=h&&d.runtimeNodes.length>=i,o+=1;}continue;}if(r.includes(p)&&o>0){o-=1;continue;}if(o==0&&r.includes(p)){d.isOpenedBy=n,n.isClosedBy=d;break;}}}else continue;}}associate(e,n){var s,o,a,l,u,f,c;this.document=n;let r=[{documentNodes:e,parent:null}],i=[];for(;r.length>0;){let d=r.pop();if(d==null)continue;let p=d.documentNodes;this.parentNode=d.parent,this.stackCount+=1,this.buildCloseIndex(p),p=Oi.pairConditionals(p),p.forEach(g=>{if((g instanceof W||g instanceof ut)&&this.canPossiblyClose(g)){if(Oi.isConditionalStructure(g))return;let _=this.getScanForList(g);this.findClosingPair(p,g,_);}});let m=p.length;for(let g=0;g<m;g++){let _=p[g];if((_ instanceof W||_ instanceof ut)&&_.isClosedBy!=null)for(let T=g+1;T<m;T++){let I=p[T];if(I.index>_.isClosedBy.index)break;if(I.parent=_,_.children.push(I),I instanceof W&&I.index==_.index){I.parent=_;break;}}}p.forEach(g=>{if((g instanceof W||g instanceof ut)&&g.children.length>0){let _=[];g.children.forEach(T=>{T.parent!=null&&T.parent.index==g.index&&(T.parent=g,_.push(T));}),r.push({documentNodes:_,parent:g});}});let h=[];p.forEach(g=>{this.parentNode==null?g.parent==null&&h.push(g):g.parent==this.parentNode&&h.push(g);}),h=this.reduceConditionals(h);let v=new Map;p.forEach(g=>{var _,T,I,w;if((g instanceof W||g instanceof ut)&&g.isClosedBy!=null&&this.document!=null){let $=this.document.getText(((T=(_=g.endPosition)==null?void 0:_.index)!=null?T:0)+1,(w=(I=g.isClosedBy.startPosition)==null?void 0:I.index)!=null?w:0);g.runtimeContent=$;}});for(let g=0;g<h.length;g++){let _=h[g],T=(s=_.refId)!=null?s:"";if(v.set(T,1),(_ instanceof W||_ instanceof ut)&&_.isComment==!1&&((o=_.name)==null?void 0:o.name)=="noparse"&&!(_ instanceof si)&&_.isClosingTag==!1){if(_.isClosedBy==null){_.pushError(M.makeSyntaxError(S.TYPE_NO_PARSE_UNASSOCIATED,_,"Encountered noparse region without a closing tag. All noparse regions must be closed."));continue;}let I=_.content;this.document!=null&&(I=this.document.getText(((l=(a=_.endPosition)==null?void 0:a.index)!=null?l:0)+1,(c=(f=(u=_.isClosedBy)==null?void 0:u.startPosition)==null?void 0:f.index)!=null?c:0));let w=new si,$=_.getParser();$!=null&&w.withParser($),_.copyBasicDetailsTo(w),w.name=new wn,w.name.name="noparse",w.name.compound="noparse",w.content=ef.registerNoParseContent(I),w.originalNode=_,h[g]=w;}}if(this.parentNode!=null&&(this.parentNode instanceof ut||this.parentNode instanceof W)&&(this.parentNode.children=h,this.parentNode.parent!=null&&this.parentNode.parent instanceof W)){let g=this.parentNode.parent.children,_=[];g.forEach(T=>{var I;v.has((I=T.refId)!=null?I:"")==!1&&_.push(T);}),this.parentNode.parent.children=_;}this.stackCount<=1&&(i=h);}return this.createdExecutionBranches.length>0&&this.createdExecutionBranches.forEach(d=>{d.head!=null&&(d.nodes=d.head.children);}),i;}findEndOfBranch(e,n,r){let i=[],s=r,o=null;for(let a=0;a<e.length;a++){let l=e[a];if((l instanceof W||l instanceof ut)&&l.isOpenedBy!=null&&l.isOpenedBy==n){o=l;break;}else i.push(l);}return{children:i,tail:o,offset:s};}reduceConditionals(e){var r,i,s;let n=[];for(let o=0;o<e.length;o++){let a=e[o];if((a instanceof W||a instanceof ut)&&a.isComment==!1&&a.isClosingTag==!1&&a.isClosedBy!=null)if(((i=(r=a.name)==null?void 0:r.compound)!=null?i:"")=="if"){let u=new Ar;u.index=a.index,u.chain.push(a.index),this.parentNode!=null&&(u.parent=this.parentNode);let f=null,c=!0,d=0;for(;c;){if(d+=1,d>Tm.ForceBreakLimit){c=!1;break;}if(a instanceof W||a instanceof ut){let p=this.findEndOfBranch(e.slice(o+1),a,o),m=new Pd,h=p.tail;if(m.head=a,m.tail=h,m.nodes=a.children,h==null&&(h=m.head.isClosedBy),h!=null&&h.startPosition!=null&&(m.startPosition=h.startPosition),h!=null&&(m.index=h.index),m.nodes.length>0){let v=m.nodes[m.nodes.length-1];v.endPosition!=null&&(m.endPosition=v.endPosition);}else h!=null&&h.endPosition!=null&&(m.endPosition=h.endPosition);if(this.createdExecutionBranches.push(m),u.logicBranches.push(m),(h==null?void 0:h.isClosingTag)&&((s=h.name)==null?void 0:s.compound)=="if"){f=p.offset,c=!1;break;}else h!=null&&u.chain.push(h.index),o=p.offset,h instanceof W&&(a=h);}else c=!1;}if(u.logicBranches.length>0){let p=u.logicBranches[0],m=u.logicBranches[u.logicBranches.length-1];p.startPosition!=null&&(u.startPosition=p.startPosition),m.endPosition!=null&&(u.endPosition=m.endPosition);}if(n.push(u),f!=null&&f==e.length)break;}else n.push(a);else n.push(a);}return n;}},tf=Tm;tf.ForceBreakLimit=1e5;var bm=class{static associateRecursiveParent(e){var n,r;for(let i=0;i<e.length;i++){let s=e[i];if(s instanceof ir){let o="*recursive "+((n=s.name)==null?void 0:n.name);if(i-1<0){s.pushError(M.makeSyntaxError(S.TYPE_RECURSIVE_NODE_INVALID_POSITION,s,"Unpaired recursive node. All recursive nodes must have a parent node introducing them."));continue;}let a=null;for(let l=i-1;l>=0;l-=1){let u=e[l];if(!(u instanceof Ht)&&u instanceof W&&u.isClosedBy!=null){if(s.isNestedRecursive){if(u.content.trim()==((r=s.name)==null?void 0:r.name)){a=u;break;}}else if(u.runtimeContent.includes(o)&&X.substringCount(s.runtimeContent,"*recursive")==1){a=u;continue;}else if(a!=null)break;}}if(a==null)continue;s.isNestedRecursive?(a.hasRecursiveNode=!0,s.recursiveParent=a,a.recursiveReference=s):a.parent!=null?a.parent instanceof W&&(a.parent.hasRecursiveNode=!0,a.parent.recursiveReference=s,s.recursiveParent=a.parent):(a.hasRecursiveNode=!0,s.recursiveParent=a,a.recursiveReference=s);}}}};var Ia=class{static getNearText(e){var r,i,s,o;if(e instanceof ie)return e.name;if(e instanceof Ft)return(i=(r=e.value)==null?void 0:r.toString())!=null?i:"";if(e instanceof bt)return e.value;if(e instanceof Mt)return e.name;if(e instanceof kt)return e.value;if(e instanceof Hr||e instanceof ui||e instanceof sr||e instanceof wr||e instanceof Er||e instanceof tn||e instanceof Ur||e instanceof Pt||e instanceof en||e instanceof Or||e instanceof Bn||e instanceof li||e instanceof xn||e instanceof oi||e instanceof Mr||e instanceof Un||e instanceof Lr||e instanceof jn||e instanceof Dr||e instanceof ai||e instanceof Br||e instanceof Fr||e instanceof kr||e instanceof Li||e instanceof or||e instanceof Gn||e instanceof jr||e instanceof gn||e instanceof ar||e instanceof _n||e instanceof Wr||e instanceof Vr||e instanceof qr||e instanceof Di||e instanceof lr||e instanceof Gr||e instanceof Wt||e instanceof Dt||e instanceof An||e instanceof Tt||e instanceof rs||e instanceof yn||e instanceof ci||e instanceof Yt)return e.content;let n="";return e instanceof W?e.originalNode!=null?n=e.originalNode.getContent():n=(o=(s=e.startPosition)==null?void 0:s.line.toString())!=null?o:"":e.originalAbstractNode!=null?n=e.originalAbstractNode.rawContent():n=e.rawContent(),n.length>15&&(n=n.substr(0,-15)),n;}};var Sa=class{};Sa.deferredCoreLibraries=["arr","array","str","string","method","math","sys","convert","scope","stopwatch","file","path","url","request","json","datetime"];var dt=class{};dt.ARR_PLUCK="pluck",dt.ARR_TAKE="take",dt.ARR_SKIP="skip",dt.ARR_MAKE="arr",dt.ARR_ORDERBY="orderby",dt.ARR_GROUPBY="groupby",dt.ARR_MERGE="merge",dt.QUERY_WHERE="where",dt.STRUCT_SWITCH="switch",dt.BITWISE_AND="bwa",dt.BITWISE_OR="bwo",dt.BITWISE_XOR="bxor",dt.BITWISE_NOT="bnot",dt.BITWISE_SHIFT_LEFT="bsl",dt.BITWISE_SHIFT_RIGHT="bsr",dt.operators=["pluck","take","arr","skip","orderby","groupby","merge","where","switch","bwa","bwo","bxor","bsl","bsr"];var Et=class{constructor(){this.pathParser=new qi;this.tokens=[];this.createdModifierChains=[];this.createdLanguageOperators=[];this.createdArrays=[];this.mergedVariablePaths=[];this.mergedComponents=new Map;this.modifierNameMapping=new Map;this.isRealModifierSeparator=new Map;this.isRoot=!0;this.retriggerNonVirtualGroupMembers=[];}hasModifierConstruct(e){return this.modifierNameMapping.has(e);}getModifierConstruct(e){return this.modifierNameMapping.get(e);}isActualModifierSeparator(e){return this.isRealModifierSeparator.has(e);}isMergedVariableComponent(e){return this.mergedComponents.has(e);}getMergedVariable(e){return this.mergedComponents.get(e);}getMergedVariablePaths(){return this.mergedVariablePaths;}getCreatedModifierChains(){return this.createdModifierChains;}getCreatedLangaugeOperators(){return this.createdLanguageOperators;}getCreatedArrays(){return this.createdArrays;}reset(){this.tokens=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.createdArrays=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.createdArrays=[],this.mergedVariablePaths=[],this.mergedComponents.clear(),this.modifierNameMapping.clear();}parse(e){return this.tokens=e,this.tokens=this.combineVariablePaths(this.tokens),this.tokens=this.createLanguageOperators(this.tokens),this.tokens=this.createLogicalGroups(this.tokens),this.tokens=this.associateMethodCalls(this.tokens),this.tokens=this.createTupleLists(this.tokens),this.tokens=this.createLibraryInvocations(this.tokens),this.tokens=this.associateModifiers(this.tokens),this.tokens=this.createNullCoalescenceGroups(this.tokens),this.tokens=this.correctTypes(this.tokens),this.tokens=this.createTernaryGroups(this.tokens),this.tokens=this.applyOperationOrder(this.tokens),this.validateNeighboringOperators(this.tokens),this.tokens=this.createLogicGroupsToRemoveMethodInvocationAmbiguity(this.tokens),this.tokens=this.createLogicGroupsToResolveOperatorAmbiguity(this.tokens),this.validateNoDanglingLogicGroupEnds(this.tokens),this.isRoot&&(this.tokens=this.insertAutomaticStatementSeparators(this.tokens),this.retriggerNonVirtualGroupMembers.length>0&&this.retriggerNonVirtualGroupMembers.forEach(n=>{this.markAllNonVirtualAsListGroupMember(n);})),this.createSemanticGroups(this.tokens);}setIsRoot(e){return this.isRoot=e,this;}validateNeighboringOperators(e){let n=e.length;for(let r=0;r<n;r++){let i=e[r];if(Et.isOperatorType(i)){if(r+1>=n){i.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_OPERATOR,i,"Unexpected operator while parsing input text."));return;}let s=e[r+1];if(Et.isOperatorType(s)){s.pushError(M.makeSyntaxError(S.TYPE_OPERATOR_INVALID_ON_RIGHT,s,"Unexpected operator while parsing input text."));continue;}}}}static isAssignmentOperator(e){return e instanceof Or||e instanceof Lr||e instanceof Gn||e instanceof Dr||e instanceof Mr||e instanceof li;}static isOperatorType(e){return e instanceof Or||e instanceof Lr||e instanceof Gn||e instanceof Dr||e instanceof Mr||e instanceof li||e instanceof Di||e instanceof Ur||e instanceof ar||e instanceof tn||e instanceof Wr||e instanceof ui||e instanceof lr||e instanceof ci||e instanceof Bn||e instanceof jn||e instanceof oi||e instanceof ai||e instanceof Un||e instanceof xn||e instanceof gn||e instanceof or||e instanceof Li||e instanceof kr||e instanceof Fr||e instanceof qr||e instanceof Vr||e instanceof Br||e instanceof jr;}markAllNonVirtualAsListGroupMember(e){e.forEach(n=>{if(n instanceof Le||n instanceof ur||n instanceof ki){n.start!=null&&n.start.isVirtual==!1&&(n.start.isListGroupMember=!0),n.end!=null&&n.end.isVirtual==!1&&(n.end.isListGroupMember=!0),n.scopeOperator!=null&&(n.scopeOperator.isListGroupMember=!0),n.nodes.forEach(r=>{this.markAllNonVirtualAsListGroupMember([r]);});return;}else n instanceof xt&&(n.separatorToken!=null&&n.separatorToken.isVirtual==!1&&(n.separatorToken.isListGroupMember=!0),this.markAllNonVirtualAsListGroupMember(n.nodes));n.isVirtual==!1&&(n.isListGroupMember=!0),n.originalAbstractNode!=null&&n.originalAbstractNode!=n&&this.markAllNonVirtualAsListGroupMember([n.originalAbstractNode]);});}markAllNonVirtualAsSwitch(e){e.forEach(n=>{if(n instanceof Le||n instanceof ur||n instanceof ki){n.start!=null&&n.start.isVirtual==!1&&(n.start.isSwitchGroupMember=!0),n.end!=null&&n.end.isVirtual==!1&&(n.end.isSwitchGroupMember=!0),n.scopeOperator!=null&&(n.scopeOperator.isSwitchGroupMember=!0),n.nodes.forEach(r=>{this.markAllNonVirtualAsSwitch([r]);});return;}else n instanceof xt&&(n.separatorToken!=null&&n.separatorToken.isVirtual==!1&&(n.separatorToken.isSwitchGroupMember=!0),this.markAllNonVirtualAsSwitch(n.nodes));n.isVirtual==!1&&(n.isSwitchGroupMember=!0),n.originalAbstractNode!=null&&n.originalAbstractNode!=n&&this.markAllNonVirtualAsSwitch([n.originalAbstractNode]);});}validateNoDanglingLogicGroupEnds(e){e.forEach(n=>{n instanceof Dt&&n.pushError(M.makeSyntaxError(S.TYPE_LOGIC_GROUP_NO_START,n,"Unexpected [T_LOGIC_END] while parsing input text."));});}isValidModifierValue(e){return e instanceof kt||e instanceof ie||e instanceof wr||e instanceof Er||e instanceof sr||e instanceof Ft||e instanceof bt;}wrapNumberInVariable(e){var r,i,s,o;let n=new ie;return n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.name=(i=(r=e.value)==null?void 0:r.toString())!=null?i:"",n.content=(o=(s=e.value)==null?void 0:s.toString())!=null?o:"",n.originalAbstractNode=e,n.refId=e.refId,n.modifierChain=e.modifierChain,n.index=e.index,n;}wrapArithmeticModifier(e,n){let r=new Mt;return r.startPosition=e.startPosition,r.endPosition=e.endPosition,r.originalAbstractNode=e,r.content=n,r.name=n,r.index=e.index,r;}combineVariablePaths(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i],o=n.length;if(s instanceof Tt){if(o==0){s.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE,s,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue;}if(i+1>r){let u="";if(i>0){let f=e[i-1];u=Ia.getNearText(f);}s.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP,s,'Unexpected end of input while parsing input text near "'+u+Ia.getNearText(s)+'".'));continue;}let a=n[o-1],l=e[i+1];if(l instanceof Ft&&lt.distance(a,l)==1&&(l=this.wrapNumberInVariable(l)),a instanceof ie&&l instanceof ie&&lt.distance(a,l)==1){n.pop(),lt.mergeVarContentRight(":",s,l),lt.mergeVarRight(a,l),n.push(l),this.mergedVariablePaths.push(l),this.mergedComponents.set(s,l),this.mergedComponents.set(a,l),this.mergedComponents.set(l,l),i+=1;continue;}else{n.push(s);continue;}}else if(s instanceof bt&&o>0){if(i+1>=r){n.push(s);continue;}let a=n[o-1],l=e[i+1];if(a instanceof ie&&l instanceof ie&&lt.distance(a,s)<=1&&lt.distance(s,l)<=1){n.pop(),lt.mergeVarContentLeft(s.sourceTerminator+s.value+s.sourceTerminator,s,a),lt.mergeVarContentLeft(l.name,l,a),n.push(a),this.mergedVariablePaths.push(a),this.mergedComponents.set(s,a),this.mergedComponents.set(a,a),this.mergedComponents.set(l,a),i+=1;continue;}else n.push(s);}else n.push(s);}return n.forEach(i=>{i instanceof ie&&(i.variableReference=this.pathParser.parse(i.name),i.mergeErrors(this.pathParser.getAntlersErrors()));}),n;}convertVarNodeToOperator(e){let n=new Ur;return n.content=e.name,n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.originalAbstractNode=e,e.convertedToOperator=!0,this.createdLanguageOperators.push(n),n;}convertOperatorToVarNode(e){let n=new ie;return n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.content=e.content,n.name=e.content,n.originalAbstractNode=e,n;}createLanguageOperators(e){let n=e.length;for(let r=0;r<n;r++){let i=e[r];if(i instanceof ie){if(i.name.includes(O.Punctuation_FullStop)){let s=i.name.split(O.Punctuation_FullStop);if(dt.operators.includes(s[0])||Sa.deferredCoreLibraries.includes(s[0])){e[r]=this.convertVarNodeToOperator(i);continue;}}if(dt.operators.includes(i.name)){e[r]=this.convertVarNodeToOperator(i);continue;}}if(i instanceof Ur){if(r+1>=n){e[r]=this.convertOperatorToVarNode(i);continue;}if(e[r+1]instanceof en){e[r]=this.convertOperatorToVarNode(i);continue;}}}return e;}createLogicalGroups(e){let n=[],r=e.length,i=[];for(let o=0;o<r;o++){let a=e[o];if(a instanceof tn){let l=this.countTypeRight(e,o,tn);if(i.length==0&&e.length==l){a.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR,a,"Unexpected [T_LOGIC_INVERSE] while parsing input text."));continue;}if(o>0&&i.length>0){let c=i[i.length-1];if(c instanceof Ft||c instanceof Dt||c instanceof Le){if(c instanceof Le&&c.start instanceof tn){c.start.pushError(M.makeSyntaxError(S.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED,c.start,"[T_AOP_FACTORIAL] operand will always materialize boolean type."));continue;}let d=new rs;d.startPosition=a.startPosition,d.endPosition=a.endPosition,d.content="!".repeat(l),d.originalAbstractNode=a,d.repeat=l,i.push(d),l>0&&(o+=l-1);continue;}}if(l%2==0){o+=l-1;continue;}let u=e[o+l];if(u instanceof Wt){let c=o+l+1;if(c>=r){u.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET,u,"Unexpected end of input while parsing input text."));continue;}let d=this.findLogicalGroupEnd(e[o+l],e.slice(c));if(d.found){let p=d.logicalGroup,m=new Le;m.start=a,m.end=p,m.nodes.push(a),m.nodes.push(p),m.startPosition=a.startPosition,m.endPosition=p.endPosition,i.push(m),o+=d.skipCount+l;}continue;}let f=this.resolveValueRight(e,o);f.value!=null&&i.push(f.value),o+=f.negationCount;}else i.push(a);}let s=i.length;for(let o=0;o<s;o++){let a=i[o];if(a instanceof Wt){if(o+1>=s){a.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION,a,"Unexpected end of input while parsing input text."));continue;}let l=this.findLogicalGroupEnd(a,i.slice(o+1));l.found&&l.logicalGroup!=null&&n.push(l.logicalGroup),o+=l.skipCount;}else if(a instanceof rs){if(n.length==0){a.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS,a,"Unexpected [T_AOP_FACTORIAL] while parsing input text."));continue;}let l=n[n.length-1];if(!(l instanceof Le)&&!(l instanceof Ft)){a.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_FACTORIAL_OPERAND,a,"Unexpected left operand encountered for [T_AOP_FACTORIAL] while parsing input text."));continue;}l=n.pop();let u=new Le;u.startPosition=l.startPosition,u.endPosition=a.endPosition,u.originalAbstractNode=a,u.nodes.push(l),u.nodes.push(a),n.push(u);}else n.push(a);}return n;}makeArgGroup(e){let n=new zo,r=e.length;for(let s=0;s<r;s++){let o=e[s];if(this.isOperand(o)==!1){o.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD,o,"Unexpected ["+U.getPrettyTypeName(o)+"] while parsing argument group."));continue;}let a=null;if(s+1<r&&(a=e[s+1]),a==null||a instanceof Pt){n.args.push(e[s]),s+=1;continue;}else if(a instanceof Tt){if(s+2>=r){o.pushError(M.makeSyntaxError(S.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT,o,"Unexpected end of input while parsing named argument."));continue;}let l=e[s+2],u=new nc;u.startPosition=o.startPosition,u.endPosition=l.endPosition,u.content=o.content+l.content,u.name=o,u.value=l,o instanceof ie||o.pushError(M.makeSyntaxError(S.TYPE_INVALID_NAMED_ARG_IDENTIFIER,o,"Invalid type ["+U.getPrettyTypeName(o)+"] supplied for named argument name.")),n.hasNamedArguments=!0,n.numberOfNamedArguments+=1,n.args.push(u),s+3<r&&e[s+3]instanceof Pt?s+=3:s+=2;continue;}}let i=!1;return n.args.forEach(s=>{s instanceof nc?i=!0:i&&s.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT,s,"Unnamed arguments are not allowed to appear after a named argument."));}),n;}cleanVariableForMethodInvocation(e){(e.name.startsWith(":")||e.name.startsWith("."))&&(e.name=e.name.substr(1),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(1),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(1)),e.startPosition!=null&&(e.startPosition.offset+=1,e.startPosition.char+=1));}reduceVariableReferenceForObjectAccessor(e){var s;let n=(s=e.variableReference)==null?void 0:s.pathParts.pop(),r=n.name,i=r.length+1;return e.name=e.name.substr(0,-i),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(0,-i),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(0,-i),e.variableReference.pathParts[e.variableReference.pathParts.length-1].isFinal=!0),e.endPosition!=null&&(e.endPosition.offset-=i,e.endPosition.char-=i),{accessor:r,accessorLen:i};}associateMethodCalls(e){var i,s;let n=[],r=e.length;for(let o=0;o<r;o++){let a=e[o],l=null,u=null;if(n.length>0&&(l=n[n.length-1]),o+1<r&&(u=e[o+1]),a instanceof ie&&u instanceof Le&&l!=null&&(this.isProperMethodChainTargetStrict(l)||l instanceof Tt)){let f=u,c=[];f.nodes.length>0&&(f.nodes[0]instanceof xt?c=f.nodes[0].nodes:c=f.nodes);let d=new Yt;if(d.startPosition=a.startPosition,l instanceof Tt){let p=n.pop();d.startPosition=p.startPosition;}this.cleanVariableForMethodInvocation(a),d.endPosition=f.endPosition,d.args=this.makeArgGroup(c),d.method=a,l.methodTarget=d,l instanceof ie&&l.mergeRefName.length>0&&(l.name=lt.getUnrefName(l.mergeRefName)),n.push(d),o+=1;continue;}else if(a instanceof Le&&l instanceof ie&&l.variableReference!=null&&l.variableReference.pathParts.length>=2){let f=[];if(a.nodes.length>0&&(a.nodes[0]instanceof xt?f=a.nodes[0].nodes:f=a.nodes),l.variableReference.pathParts[0]instanceof qn&&Sa.deferredCoreLibraries.includes(l.variableReference.pathParts[0].name)){let h=n.pop(),v=new is;v.startPosition=h.startPosition,v.endPosition=a.endPosition,v.content=h.content,v.originalAbstractNode=a;let _=((i=h.variableReference)==null?void 0:i.pathParts.shift()).name,T=(s=h.variableReference)==null?void 0:s.implodePaths();v.libraryName=_,v.methodName=T,v.arguments=this.makeArgGroup(f),n.push(v),o+=1;continue;}let c=this.reduceVariableReferenceForObjectAccessor(l),d=new Yt;d.startPosition=a.startPosition,d.endPosition=a.endPosition,l.methodTarget=d,l instanceof ie&&l.mergeRefName.length>0&&(l.name=lt.getUnrefName(l.mergeRefName)),a.start!=null&&(a.start.isPartOfMethodChain=!0),a.end!=null&&(a.end.isPartOfMethodChain=!0);let p=new ie;p.name=c.accessor,p.isPartOfMethodChain=!0;let m=this.makeArgGroup(f);if(d.startPosition!=null&&(d.startPosition.offset-=c.accessorLen,d.startPosition.char-=c.accessorLen),d.method=p,d.args=m,X.isNumeric(l.name)){let h=n.pop();n.push(this.convertOperatorToVarNode(h));}n.push(d);continue;}else if(a instanceof ie&&l instanceof Yt){if(this.cleanVariableForMethodInvocation(a),o+1>r){a.pushError(M.makeSyntaxError(S.TYPE_METHOD_CALL_MISSING_ARG_GROUP,a,"Unexpected end of input while parsing method call."));continue;}let f=e[o+1];if(!(f instanceof Le)){a.pushError(M.makeSyntaxError(S.TYPE_INVALID_METHOD_CALL_ARG_GROUP,a,"Unexpected ["+U.getPrettyTypeName(f)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue;}let c=f,d=[];c.nodes.length>0&&(c.nodes[0]instanceof xt?d=c.nodes[0].nodes:d=c.nodes);let p=new Yt;p.startPosition=a.startPosition,p.endPosition=c.endPosition,p.args=this.makeArgGroup(d),p.method=a,l.methodTarget=p,n.push(p),o+=1;continue;}else if(a instanceof Tt&&l instanceof Yt){if(o+1>r){a.pushError(M.makeSyntaxError(S.TYPE_METHOD_CALL_MISSING_METHOD,a,"Unexpected end of input while parsing method call."));continue;}let f=e[o+1];if(o+2>r){a.pushError(M.makeSyntaxError(S.TYPE_METHOD_CALL_MISSING_ARG_GROUP,a,"Unexpected end of input while parsing method call."));continue;}let c=e[o+2];if(!(c instanceof Le)){a.pushError(M.makeSyntaxError(S.TYPE_INVALID_METHOD_CALL_ARG_GROUP,a,"Unexpected ["+U.getPrettyTypeName(c)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue;}let d=c,p=[];d.nodes.length>0&&(d.nodes[0]instanceof xt?p=d.nodes[0].nodes:p=d.nodes);let m=new Yt;m.startPosition=a.startPosition,m.endPosition=c.endPosition,m.args=this.makeArgGroup(p),m.method=f,l.methodTarget=m,n.push(m),o+=2;continue;}else if(a instanceof Yt){if(o+1>r){a.pushError(M.makeSyntaxError(S.TYPE_METHOD_CALL_MISSING_METHOD,a,"Unexpected end of input while parsing method call."));continue;}let f=e[o+1];if(o+2>r){a.pushError(M.makeSyntaxError(S.TYPE_INVALID_METHOD_CALL_ARG_GROUP,a,"Unexpected end of input while parsing method call."));continue;}let c=e[o+2];if(!(c instanceof Le)){a.pushError(M.makeSyntaxError(S.TYPE_INVALID_METHOD_CALL_ARG_GROUP,a,"Unexpected ["+U.getPrettyTypeName(c)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue;}let d=c,p=[];d.nodes.length>0&&(d.nodes[0]instanceof xt?p=d.nodes[0].nodes:p=d.nodes);let m=this.makeArgGroup(p);if(l instanceof ie&&Sa.deferredCoreLibraries.includes(l.name)){let h=n.pop(),v=new is;v.startPosition=h.startPosition,v.endPosition=d.endPosition,v.libraryName=h.name,v.methodName=f.name,v.content=v.libraryName+"->"+v.methodName,v.arguments=m,l.libraryTarget=v,n.push(v),o+=2;continue;}a.method=f,a.args=m,n.length>0&&(n[n.length-1].methodTarget=a),o+=2,n.push(a);continue;}else n.push(a);}return n;}convertVariableToStringNode(e){let n=new bt;return n.content=e.name,n.value=e.name,n.originalAbstractNode=e,n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.index=e.index,n;}createTupleLists(e){let n=e.length,r=[];for(let i=0;i<n;i++){let s=e[i];if(s instanceof Hr){if(s.isListGroupMember=!0,i+1>=n){s.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST,s,"Unexpected end of input while parsing tuple list."));continue;}let o=e[i+1];if(!(o instanceof Le)){o.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST,o,"Unexpected ["+U.getPrettyTypeName(o)+"] while parsing tuple list."));continue;}let a=o;if(this.markAllNonVirtualAsListGroupMember([a]),this.retriggerNonVirtualGroupMembers.push([a]),a.nodes.length==0){a.pushError(M.makeSyntaxError(S.TYPE_MISSING_BODY_TUPLE_LIST,a,"Missing tuple list body while parsing tuple list."));continue;}let u=a.nodes.shift(),f=u.nodes.length,c=[];for(let m=0;m<f;m++){let h=u.nodes[m];if(!(h instanceof Pt)){let v=!1;if(h instanceof ie&&(h.variableReference==null&&(v=!0),h.variableReference!=null&&h.variableReference.pathParts.length>1&&(v=!0),h.name.trim().length==0&&(v=!0)),v||!(h instanceof ie)){a.pushError(M.makeSyntaxError(S.TYPE_INVALID_TUPLE_LIST_NAME_TYPE,a,"Invalid ["+U.getPrettyTypeName(h)+"] name type found while parsing tuple list."));continue;}let g=h;c.push(this.convertVariableToStringNode(g));}}let d=c.length;if(d==0){a.pushError(M.makeSyntaxError(S.TYPE_INVALID_MANIFESTED_NAME_GROUP,a,"Invalid Name expression produced an invalid name group while parsing tuple list."));continue;}let p=new Mi;this.createdArrays.push(p),p.startPosition=s.startPosition,p.endPosition=s.endPosition,a.nodes.forEach(m=>{if(!(m instanceof xt)){m.pushError(M.makeSyntaxError(S.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP,m,"Invalid ["+U.getPrettyTypeName(m)+"] name type found while parsing tuple list value expression."));return;}let h=m,v=new Mi;this.createdArrays.push(v),v.startPosition=h.startPosition;let g=[];for(let _=0;_<f;_++){let T=h.nodes[_];if(!(T instanceof Pt)){if(this.isOperand(T)==!1){T.pushError(M.makeSyntaxError(S.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE,T,"Unexpected ["+U.getPrettyTypeName(T)+"]  while parsing tuple list value."));continue;}g.push(T);}}for(let _=0;_<d&&!(_>g.length);_++){let T=g[_],I=new _l;I.startPosition=T.startPosition,I.endPosition=T.endPosition,I.name=c[_],I.value=T,v.nodes.push(I),p.endPosition=T.endPosition,v.endPosition=T.endPosition;}p.nodes.push(v);}),r.push(p),i+=1;continue;}else r.push(s);}return e;}makeOrderGroup(e){let n=[],r=e.length,i=0;for(let s=0;s<r;s++){let o=e[s],a=null;if(s+1<r&&(a=e[s+1]),s>0&&(a==null||a instanceof Pt)){i+=1;let l=new ml;l.order=i,l.name=e[s-1],l.directionNode=o,this.isOperand(l.name)==!1&&l.name.pushError(M.makeSyntaxError(S.TYPE_INVALID_ORDER_BY_NAME_VALUE,l.name,"Invalid value or expression supplied for order by name.")),this.isOperand(l.directionNode)==!1&&l.directionNode.pushError(M.makeSyntaxError(S.TYPE_INVALID_ORDER_BY_SORT_VALUE,l.directionNode,"Invalid value or expression supplied for order by direction.")),l.startPosition=l.name.startPosition,l.endPosition=l.directionNode.endPosition,n.push(l),s+=1;continue;}}return n;}getValues(e){let n=new Ko,r=e.length,i=[];for(let s=0;s<r;s++){let o=e[s],a=null;if(s+1<r&&(a=e[s+1]),a==null||a instanceof Pt){i.push(o),s+=1;continue;}}return n.values=i,n;}createLibraryInvocations(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof Ur)if(s.content.includes(".")){let o=s.content.split("."),a=o.shift(),l=o.join("."),u=new is;if(u.startPosition=s.startPosition,u.endPosition=s.endPosition,u.content=s.content,u.libraryName=a,u.methodName=l,u.originalAbstractNode=s,i+1>=r){s.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP,s,"Unexpected end of input while parsing argument group."));continue;}if(!(e[i+1]instanceof Le)){s.pushError(M.makeSyntaxError(S.TYPE_EXPECTING_ARGUMENT_GROUP,s,"Unexpected token while parsing method call. Expecting [T_ARG_SEPARATOR] got ["+U.getPrettyTypeName(s)+"]."));continue;}let f=e[i+1],c=null;if(f.nodes.length>0){let d=f.nodes[0];c=this.makeArgGroup(d.nodes);}c==null&&(c=new zo,c.startPosition=f.startPosition,c.endPosition=f.endPosition,c.originalAbstractNode=f),u.arguments=c,n.push(u),i+=1;continue;}else if(s.content==dt.ARR_ORDERBY){if(i+1>=r){s.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP,s,"Unexpected end of input while parsing order group."));continue;}let o=e[i+1];if(!(o instanceof Le)){o.pushError(M.makeSyntaxError(S.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND,o,"Unexpected ["+U.getPrettyTypeName(o)+"] while parsing order group."));continue;}let l=o.nodes;l[0]instanceof xt&&(l=l[0].nodes);let u=this.makeOrderGroup(l);u.length==0&&s.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP,s,"Unexpected empty [T_DIRECTION_GROUP]. Must have at least one order clause, and each property must have a direction specified."));let f=new Hs;if(f.orderClauses=u,u.length>0){u[0].directionNode!=null&&(f.startPosition=u[0].directionNode.startPosition);let c=u[u.length-1].directionNode;c!=null&&(f.endPosition=c.endPosition);}n.push(s),n.push(f),i+=1;continue;}else if(s.content==dt.ARR_GROUPBY){if(i+1>=r){s.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY,s,"Unexpected end of input while parsing group by clause."));continue;}let o=e[i+1];if(o instanceof ki||o instanceof ur){o.pushError(M.makeSyntaxError(S.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED,o,"Type ["+U.getPrettyTypeName(o)+"] must be enclosed with parenthesis to be used with groupby."));continue;}if(!(o instanceof Le)){o.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY,o,"Unexpected ["+U.getPrettyTypeName(o)+"] while parsing group by."));continue;}let l=o.nodes;l[0]instanceof xt&&(l=l[0].nodes);let u=this.getValues(l);if(n.push(s),n.push(u),i+2<r&&i+3<r){let f=e[i+2],c=e[i+3];if(lt.isVariableMatching(f,Ke.ScopeAs))if(c instanceof bt){u.isNamedNode=!0,u.parsedName=c,i+=3;continue;}else c.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE,c,"Expecting [T_STRING] for group by collection alias; got ["+U.getPrettyTypeName(c)+"]."));}i+=1;continue;}else if(s.content==dt.STRUCT_SWITCH){if(i+1>=r){s.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP,s,"Unexpected end of input while parsing [T_SWITCH_GROUP]."));continue;}let o=e[i+1];if(!(o instanceof ur)){o.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP,o,"Unexpected ["+U.getPrettyTypeName(o)+"] while parsing [T_SWITCH_GROUP]."));continue;}let a=o;if(this.markAllNonVirtualAsSwitch([o]),a.scope==null||!(a.scope instanceof Le)){a.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_SWITCH_START_VALUE,a,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue;}let l=a.scope;if(l.nodes.length==0||!(l.nodes[0]instanceof xt)){a.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,a,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue;}let u=l.nodes[0];if(this.markAllNonVirtualAsSwitch([l]),u.nodes.length==0||!(u.nodes[0]instanceof Le)){s.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue;}this.markAllNonVirtualAsSwitch([s]),this.markAllNonVirtualAsSwitch(u.nodes);let f=u.nodes;if(a.nodes.length==0&&s.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP].")),!(l.nodes[0]instanceof xt)){s.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue;}let d=l.nodes[0];this.markAllNonVirtualAsSwitch(d.nodes);let p=d.nodes,m=new Ys,h=new Le;h.nodes=f,h.startPosition=h.nodes[0].startPosition,h.endPosition=h.nodes[h.nodes.length-1].endPosition;let v=new $o;v.condition=h;let g=new Le;g.nodes.push(p.shift()),g.startPosition=g.nodes[0].startPosition,g.endPosition=g.nodes[g.nodes.length-1].endPosition,v.expression=g,v.startPosition=v.condition.startPosition,v.endPosition=v.expression.nodes[v.expression.nodes.length-1].endPosition,p.shift(),m.cases.push(v);let _=p.length;if(_>0){if(!(p[0]instanceof Le)){s.pushError(M.makeSyntaxError(S.TYPE_PARSER_INVALID_SWITCH_TOKEN,s,"Invalid ["+U.getPrettyTypeName(p[0])+"] while parsing case statement."));continue;}for(let T=0;T<_;T++){let I=p[T],w=null;if(I instanceof Pt){I.isSwitchGroupMember=!0;continue;}if(T+1<_&&(w=p[T+1]),w instanceof yn){w.isSwitchGroupMember=!0;let $=new $o;$.condition=I,this.markAllNonVirtualAsSwitch([$.condition]);let B=new Le;if(B.nodes.push(p[T+2]),B.startPosition=B.nodes[0].startPosition,B.endPosition=B.nodes[B.nodes.length-1].endPosition,$.expression=B,this.markAllNonVirtualAsSwitch([B]),$.startPosition=$.condition.startPosition,$.endPosition=$.expression.nodes[$.expression.nodes.length-1].endPosition,m.cases.push($),T+3<_&&!(p[T+3]instanceof Pt)){p[T+3].pushError(M.makeSyntaxError(S.TYPE_PARSER_INVALID_SWITCH_TOKEN,p[T+3],"Invalid ["+U.getPrettyTypeName(p[T+3])+"] while parsing case statement; expecting [T_ARG_SEPARATOR]."));continue;}p[T+3].isSwitchGroupMember=!0,T+=2;continue;}}}n.push(new sr),n.push(s),n.push(m),i+=1;continue;}else if(s.content==dt.ARR_MAKE){if(i+1>=r){s.pushError(M.makeSyntaxError(S.TYPE_ARR_MAKE_MISSING_TARGET,s,"Missing target variable for arr operator."));continue;}let o=e[i+1];if(!(o instanceof Le)){o.pushError(M.makeSyntaxError(S.TYPE_ARR_MAKE_UNEXPECTED_TYPE,o,"Unexpected ["+U.getPrettyTypeName(o)+"] while parsing array."));continue;}let a=o instanceof ur,l=o,u=l.nodes;if(u[0]instanceof xt&&(u=u[0].nodes),a){let p=o;u.unshift(new yn),u.unshift(p.scope);}let f=this.getArrayValues(u),c=new Mi;c.startPosition=s.startPosition;let d=f.values.length;d>0?c.endPosition=f.values[d-1].endPosition:c.endPosition=s.endPosition,l.end!=null&&(c.endPosition=l.end.endPosition),c.nodes=f.values,this.createdArrays.push(c),n.push(c),i+=1;}else n.push(s);else n.push(s);}return n;}getArrayValues(e){let n=new Ko,r=e.length,i=[];for(let s=0;s<r;s++){let o=e[s];if(o instanceof Pt){o.pushError(M.makeSyntaxError(S.TYPE_ARR_UNEXPECT_ARG_SEPARATOR,o,"Unexpected [T_ARG_SEPARATOR] while parsing array."));continue;}if(o instanceof yn){if(s==0){o.pushError(M.makeSyntaxError(S.TYPE_ARR_KEY_PAIR_MISSING_KEY,o,"Missing key for key/value pair while parsing array."));continue;}else if(e[s-1]instanceof Pt){o.pushError(M.makeSyntaxError(S.TYPE_ARR_KEY_PAIR_MISSING_KEY,o,"Missing key for key/value pair while parsing array."));continue;}}let a=null;if(s+1<r&&(a=e[s+1]),a instanceof yn){if(s+2>=r){a.pushError(M.makeSyntaxError(S.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE,a,"Missing key/pair value while parsing array."));continue;}let l=e[s+2],u=new _l;if(this.isValidArrayKeyNode(o)==!1){o.pushError(M.makeSyntaxError(S.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE,o,"Invalid ["+U.getPrettyTypeName(o)+"] type for key/value key."));continue;}u.name=o,u.value=l,u.startPosition=o.startPosition,u.endPosition=l.endPosition,i.push(u),s+=3;continue;}if(a==null||a instanceof Pt){let l=new _l;l.value=o,l.startPosition=o.startPosition,l.endPosition=o.endPosition,i.push(l),s+=1;continue;}}return n.values=i,n;}isValidArrayKeyNode(e){return e instanceof Ft||e instanceof bt;}associateModifiers(e){let n=[],r=e.length,i=null;for(let s=0;s<r;s++){let o=e[s];if(o instanceof _n){let a=n.length;if(a==0){o.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_MODIFIER_SEPARATOR,o,"Unexpected [T_MODIFIER_SEPARATOR] while parsing input text."));continue;}if(this.isRealModifierSeparator.set(o,!0),i=n[a-1],i.modifierChain==null&&(i.modifierChain=new dl,i.modifierChain.modifierTarget=i,this.createdModifierChains.push(i.modifierChain)),s+1>=r){o.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS,o,"Unexpected end of input while preparing to gather modifier details."));continue;}let l=this.scanToEndOfModifier(e.slice(s+1)),u=l.length;if(u>1&&l[1]instanceof Tt){this.isRealModifierSeparator.set(l[1],!0);let c=l[0];c instanceof Bn?l[0]=this.wrapArithmeticModifier(c,"add"):c instanceof xn?l[0]=this.wrapArithmeticModifier(c,"subtract"):c instanceof jn?l[0]=this.wrapArithmeticModifier(c,"divide"):c instanceof Un?l[0]=this.wrapArithmeticModifier(c,"multiply"):c instanceof ai&&(l[0]=this.wrapArithmeticModifier(c,"mod"));}if(u==0){o.pushError(M.makeSyntaxError(S.TYPE_UNSET_MODIFIER_DETAILS,o,"Invalid or missing modifier details."));continue;}if(!(l[0]instanceof Mt)){o.pushError(M.makeSyntaxError(S.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS,o,"Invalid ["+U.getPrettyTypeName(l[0])+"]; expecting [T_MODIFIER_NAME]"));continue;}let f=this.createModifier(l);f.nameNode!=null&&this.modifierNameMapping.set(f.nameNode,f),s+=u,i.modifierChain.modifierChain.push(f),i.modifierChain.updateValues();continue;}else n.push(o);}return n;}createNullCoalescenceGroups(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof lr){let o=n.pop();if(i+1>=r){s.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP,s,"Unexpected end of input while parsing input text."));continue;}let a=e[i+1],l=new hl;l.left=o,l.right=a,n.push(l),i+=1;continue;}else n.push(s);}return n;}isOperand(e){return e instanceof ie||e instanceof Le||e instanceof bt||e instanceof Ft||e instanceof Er||e instanceof sr||e instanceof wr||e instanceof is||e instanceof Hs||e instanceof Ko||e instanceof Ys||e instanceof Mi;}isProperMethodChainTargetStrict(e){return e instanceof Le||e instanceof bt||e instanceof Ft||e instanceof Er||e instanceof sr||e instanceof wr||e instanceof is||e instanceof Hs||e instanceof Ko||e instanceof Ys||e instanceof Mi;}assertOperandRight(e,n){if(n+1>e.length-1)return e[n].pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_END_OF_INPUT,e[n],"Unexpected end of input; expecting operand for operator "+U.getPrettyTypeName(e[n])+' near "'+Ia.getNearText(e[n])+'".')),!1;let r=e[n+1];return this.isOperand(r)?!0:(r.pushError(M.makeSyntaxError(S.TYPE_EXPECTING_OPERAND,e[n],"Expecting operand, found "+U.getPrettyTypeName(r)+' near "'+Ia.getNearText(e[n])+'".')),!1);}resolveValueRight(e,n){let r=null,i=0,s=null;if(e.length>0){let o=!0;for(;o;){let a=e[n];if(a instanceof tn){s=a,i+=1,n+=1,o=!1;continue;}else if(this.isOperand(a)){r=a,o=!1;break;}else{o=!1;break;}}}if(i%2!=0){let o=new Le;return o.nodes=[],s!=null&&r!=null&&(o.nodes.push(s),o.nodes.push(r)),{value:o,negationCount:i};}return{value:r,negationCount:i};}correctTypes(e){let n=[];return e.forEach(r=>{if(r instanceof An){let i=new Tt;i.startPosition=r.startPosition,i.endPosition=r.endPosition,i.originalAbstractNode=r,n.push(i);}else if(r instanceof kt){let i=new ie;i.name=r.value,i.startPosition=r.startPosition,i.endPosition=r.endPosition,i.modifierChain=r.modifierChain,i.originalAbstractNode=r,n.push(i);}else n.push(r);}),n;}createTernaryGroups(e){var i,s,o;let n=[],r=e.length;for(let a=0;a<r;a++){let l=e[a];if(l instanceof Gr){let u=this.seek(Tt,a+1);if(u.found==!1){l.pushError(M.makeSyntaxError(S.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR,l,"Unexpected end of input; expecting [T_BRANCH_SEPARATOR]."));continue;}let f=this.collectUntil(n);n=f.tokens;let c=f.collectedTokens[0],d=(i=u.foundAt)!=null?i:0;if(d>=r){l.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP,l,"Unexpected end of input while parsing ternary group."));continue;}let p=e.slice(a+1,d);if(p.length>1||p.length==0){l.pushError(M.makeSyntaxError(S.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH,l,"Unexpected number of operations within ternary truth branch."));continue;}let m=p[0],h=((s=u.foundAt)!=null?s:0)+1;if(h>=r){l.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH,l,"Unexpected end of input while parsing ternary false execution branch."));continue;}let v=e[h],g=new gl;g.head=c,g.truthBranch=m,g.falseBranch=v,n.push(g),a=((o=u.foundAt)!=null?o:0)+1;continue;}else n.push(l);}return n;}groupNodesByType(e,n){let r=[],i=e.length;for(let s=0;s<i;s++){let o=e[s];if(s>0&&o instanceof n){let a=[],l=r.pop();if(a.push(l),!this.assertOperandRight(e,s))continue;if(s+1>=i){o.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,o,"Unexpected end of input while parsing input text."));continue;}let u=e[s+1];typeof u!="undefined"&&(u.isVirtualGroupMember=!0),typeof l!="undefined"&&(l.isVirtualGroupMember=!0),o.isVirtualGroupMember=!0;let f=new Le;f.nodes=a,f.nodes.push(o),f.nodes.push(u),s+=1,r.push(f);continue;}else r.push(o);}return r;}flagNodeAsOperatorResolve(e){if(e instanceof Le){if(e.nodes.length==0)return;this.flagNodeAsOperatorResolve(e.nodes[e.nodes.length-1]);}e.isVirtualGroupOperatorResolve=!0,e.next instanceof en||(e.producesVirtualStatementTerminator=!0);}groupNodesByOperatorType(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(i>0&&Et.isOperatorType(s)){let o=[],a=n.pop();if(o.push(a),!this.assertOperandRight(e,i))continue;if(i+1>=r){s.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,s,"Unexpected end of input while parsing input text."));continue;}let l=e[i+1];this.flagNodeAsOperatorResolve(l),typeof a!="undefined"&&(a.isVirtualGroupMember=!0),typeof l!="undefined"&&(l.isVirtualGroupMember=!0),s.isVirtualGroupMember=!0;let u=new Le;u.nodes=o,u.nodes.push(s),u.nodes.push(l),i+=1,n.push(u);continue;}else n.push(s);}return n;}applyOperationOrder(e){return e=this.groupNodesByType(e,oi),e=this.groupNodesByType(e,Un),e=this.groupNodesByType(e,jn),e=this.groupNodesByType(e,Bn),e=this.groupNodesByType(e,xn),e;}createLogicGroupsToRemoveMethodInvocationAmbiguity(e){let n=[],r=e.length,i=r-1;for(let s=0;s<r;s++){let o=e[s];if(o instanceof Yt){let a=n.pop(),l=new Le;if(l.startPosition=a.startPosition,typeof a!="undefined"&&(a.isVirtualGroupMember=!0),typeof o!="undefined"&&(o.isVirtualGroupMember=!0),l.nodes.push(a),l.nodes.push(o),s!=i)for(let u=s+1;u<r;u++)if(e[u]instanceof Yt){if(typeof e[u]=="undefined")continue;if(e[u].isVirtualGroupMember=!0,l.nodes.push(e[u]),u==i){u+=1;break;}}else{if(u==i){u+=1;break;}s=u-1;break;}l.endPosition=l.nodes[l.nodes.length-1].endPosition,n.push(l);}else n.push(o);}return n;}countTypeRight(e,n,r){let i=0;for(let s=n;s<e.length&&e[s]instanceof r;s++)i+=1;return i;}createLogicGroupsToResolveOperatorAmbiguity(e){return e=this.groupNodesByType(e,Li),e=this.groupNodesByType(e,or),e=this.groupNodesByType(e,Fr),e=this.groupNodesByType(e,kr),e=this.groupNodesByType(e,jr),e=this.groupNodesByType(e,gn),e=this.groupNodesByType(e,Vr),e=this.groupNodesByType(e,qr),e=this.groupNodesByType(e,Br),e=this.groupNodesByOperatorType(e),e;}createModifier(e){let n=e.shift(),r=[],i=e.length;if(e.length>0&&e[0]instanceof Le){let o=this.unpack(e[0].nodes),a=this.makeArgGroup(o),l=new Yo;if(l.nameNode=n,l.methodStyleArguments=a,e.length>1)for(let u=1;u<i;u++)e[u].pushError(M.makeSyntaxError(S.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX,e[u],"Unexpected ["+U.getPrettyTypeName(e[u])+"] while parsing modifier argument group. Expecting [T_MODIFIER_SEPARATOR] or end of current expression."));return l;}for(let o=0;o<i;o++)if(e[o]instanceof An||e[o]instanceof Tt){if(o+1>=i)return e[o].pushError(M.makeSyntaxError(S.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST,e[o],"Unexpected end of modifier value list while parsing modifier.")),e;let a=e[o+1];if(this.isValidModifierValue(a)){if(a instanceof ie)if(a.variableReference!=null&&a.variableReference.pathParts.length>0)a.variableReference.pathParts.forEach(l=>{if(l instanceof qn){let u=new kt;u.startPosition=l.startPosition,u.endPosition=l.endPosition,u.value=l.name,u.name=l.name,u.originalAbstractNode=l,u.endPosition==null&&u.startPosition==null&&(u.startPosition=a.startPosition,u.endPosition=a.endPosition),r.push(u);}});else{let l=new kt;l.startPosition=a.startPosition,l.endPosition=a.endPosition,l.value=a.name,l.name=a.name,l.originalAbstractNode=a,r.push(l);}else r.push(a);o+=1;continue;}else return a.pushError(M.makeSyntaxError(S.TYPE_MODIFIER_UNEXPECTED_VALUE,a,"Unexpected ["+U.getPrettyTypeName(a)+"] while parsing modifier value.")),e;}let s=new Yo;return s.nameNode=n,s.valueNodes=r,s.startPosition=s.nameNode.startPosition,s.valueNodes.length>0?s.endPosition=s.valueNodes[s.valueNodes.length-1].endPosition:s.endPosition=s.nameNode.endPosition,s;}scanToEndOfModifier(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof An){let o=n.length;if(o==0){s.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE,s,"Unexpected end of input while parsing modifier value."));continue;}this.isRealModifierSeparator.set(s,!0);let a=n[o-1];if(lt.distance(a,s)>1)break;}if(s instanceof _n||s instanceof Dt||s instanceof Wt||s instanceof gn||s instanceof or||s instanceof Li||s instanceof kr||s instanceof Fr||s instanceof qr||s instanceof Vr||s instanceof Br||s instanceof jr||s instanceof ar||s instanceof Wr||s instanceof ui||s instanceof lr||s instanceof ci||s instanceof Ur||s instanceof is||s instanceof Yt||s instanceof tn)break;n.push(s);}return n;}static isAssignmentOperatorNode(e){return e instanceof Or||e instanceof Lr||e instanceof Gn||e instanceof Dr||e instanceof Mr||e instanceof xn;}insertAutomaticStatementSeparators(e){let n=e.length,r=[];for(let i=0;i<n;i++){let s=e[i];if(Et.isAssignmentOperatorNode(s))if(i+2<n)if(e[i+2]instanceof en){r.push(s),r.push(e[i+1]),r.push(e[i+2]),i+=2;continue;}else{r.push(s),r.push(e[i+1]),r.push(new en),i+=1;continue;}else{r.push(s),r.push(e[i+1]),r.push(new en);break;}else r.push(s);}return e;}createSemanticGroups(e){let n=[],r=e.length,i=[];for(let s=0;s<r;s++)if(e[s]instanceof en){let o=new xt;o.nodes=i,o.separatorToken=e[s],n.push(o),i=[];continue;}else if(i.push(e[s]),s+1>=r){let o=new xt;o.nodes=i,n.push(o);break;}return n;}findLogicalGroupEnd(e,n){let r=[],i=n.length,s=null,o=0,a=0;for(a;a<i;a++){let f=n[a];if(o+=1,f instanceof Dt){s=f;break;}else if(f instanceof Wt){if(a+1>=i)return f.pushError(M.makeSyntaxError(S.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END,f,"Unexpected end of input while parsing input text.")),{found:!1,logicalGroup:null,skipCount:o};let c=this.findLogicalGroupEnd(f,n.slice(a+1));if(c.found){c.logicalGroup!=null&&r.push(c.logicalGroup),o+=c.skipCount,a+=c.skipCount;continue;}else continue;}else r.push(f);}if(s==null)return e.pushError(M.makeSyntaxError(S.TYPE_LOGIC_GROUP_NO_END,e,"Unexpected end of input while parsing logic group.")),{found:!1,logicalGroup:null,skipCount:o};let l=new Et;l.setIsRoot(!1);let u=new Le;if(r.length>=2&&r[1]instanceof yn){if(u=new ur,u.scopeOperator=r[1],a+2<i&&n[a+1]instanceof ie&&n[a+2]instanceof bt&&n[a+1].name==Ke.ScopeAs){let d=n[a+2];u=new ki,u instanceof ki&&(u.alias=d),o+=2;}let f=r.splice(0,2);(u instanceof ur||u instanceof ki)&&(u.scope=f[0]);}return u.nodes=l.parse(r),u.start=e,u.end=s,u.startPosition=e.startPosition,u.endPosition=s.endPosition,u instanceof ki&&u.alias!=null&&(u.endPosition=u.alias.endPosition),{found:!0,logicalGroup:u,skipCount:o};}unpack(e){if(e.length==0)return[];if(e[0]instanceof xt){let n=e[0];return this.unpack(n.nodes);}return e;}collectUntil(e){let n=e.length,r=[];for(let i=n-1;i>=0&&!Et.isAssignmentOperator(e[i]);i--){let s=e.pop();r.push(s);}if(r=r.reverse(),r.length>=3){let i=new Et;return i.setIsRoot(!1),{collectedTokens:this.unpack(i.parse(r)),tokens:e};}return{collectedTokens:r,tokens:e};}seek(e,n){for(let r=n;r<this.tokens.length;r++)if(this.tokens[r]instanceof e)return{found:!0,foundAt:r,node:this.tokens[r]};return{found:!1,foundAt:null,node:null};}};var Vi=class{static findRightBeighboringNextPunctuation(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e+1;s<n.length;s++){let o=n[s];if(X.ctypeSpace(o)&&(i=!0),i&&(X.ctypeAlpha(o)||X.ctypeDigit(o)))return null;if(X.ctypePunct(o)||o==O.String_Terminator_SingleQuote||o==O.String_Terminator_DoubleQuote)return o;}return null;}static findRightNeighboringNextAlphaNumeric(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e+1;s<n.length;s++){let o=n[s];if((X.ctypeSpace(o)||X.ctypePunct(o)&&o!=O.Punctuation_Underscore)&&(i=!0),i&&(X.ctypeAlpha(o)||X.ctypeDigit(o)))return s+1;}return null;}static findLeftNeighboringNextPunctuation(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e-2;s>=0;s--){let o=n[s];if(X.ctypeSpace(o)&&(i=!0),i&&(X.ctypeAlpha(o)||X.ctypeDigit(o)))return null;if(X.ctypePunct(o))return o;}return null;}static findLeftNeighboringNextAlphaNumeric(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e-1;s>=0;s--){let o=n[s];if((X.ctypeSpace(o)||X.ctypePunct(o)&&o!=O.Punctuation_Underscore)&&(i=!0),i&&(X.ctypeAlpha(o)||X.ctypeDigit(o)))return s+1;}return null;}static scanWordAt(e,n,r=4){if(n=n.replace("	"," ".repeat(r)),e<0||e>n.length)return null;let i=[],s=[];for(let o=e-1;o>=0;o--){let a=n[o];if(X.ctypePunct(a)&&a!=O.Punctuation_Underscore||X.ctypeSpace(a))break;i.push(a);}for(let o=e;o<n.length;o++){let a=n[o];if(X.ctypePunct(a)&&a!=O.Punctuation_Underscore||X.ctypeSpace(a))break;s.push(a);}return i.reverse().join("")+s.join("");}};var vm=class{constructor(e){this.parser=e;}findParentWithName(e,n){let r=n.parent;for(;r!=null;){if(r instanceof W&&r.nameMatches(e))return r;if(r.parent==r)break;r=r.parent;}return null;}};var Nm=class{static analyzeModifierNodeParameters(e){var r,i,s,o;if(e.parameters.forEach(a=>{var l,u,f,c;a.isModifierParameter=(u=(l=xe.instance)==null?void 0:l.hasModifier(a.name))!=null?u:!1,a.isModifierParameter&&(e.modifiers.parameterModifiers.push(a),a.modifier=(c=(f=xe.instance)==null?void 0:f.getModifier(a.name))!=null?c:null,e.modifiers.modifierNames.includes(a.name)==!1&&e.modifiers.modifierNames.push(a.name));}),e.modifierChain!=null&&e.modifierChain.modifierChain.length>0){let a=null;e.modifierChain.modifierChain.forEach(l=>{var u,f;l.nameNode!=null&&(l.modifier=(f=(u=xe.instance)==null?void 0:u.getModifier(l.nameNode.content))!=null?f:null,e.modifiers.modifierNames.includes(l.nameNode.content)==!1&&e.modifiers.modifierNames.push(l.nameNode.content),l.modifier!=null&&(a=l.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=l)));}),e.modifierChain.lastModifier=a,e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0);}e.runtimeNodes.length>0&&e.runtimeNodes.forEach(a=>{if(a.modifierChain!=null&&a.modifierChain.modifierChain.length>0){let l=null;a.modifierChain.modifierChain.forEach(u=>{var f,c;u.nameNode!=null&&(u.modifier=(c=(f=xe.instance)==null?void 0:f.getModifier(u.nameNode.content))!=null?c:null,e.modifiers.modifierNames.includes(u.nameNode.content)==!1&&e.modifiers.modifierNames.push(u.nameNode.content),u.modifier!=null&&(l=u.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=u)));}),e.modifierChain!=null&&(e.modifierChain.lastModifier=l),e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0);}});let n=e.modifiers.getLastManifestedModifier();if(n!=null)if(n.name=="macro"){let a=e.modifiers.getLastManifestedModifierValue();e.manifestType=(i=(r=xe.instance)==null?void 0:r.getMacroManifestingType(a))!=null?i:"";}else e.manifestType=(o=(s=xe.instance)==null?void 0:s.getProbableReturnType(n,e.isPaired()))!=null?o:"";}};var tP={warnUnknownParameters:!1};var Pm=class{static validateInteger(e){return parseInt(e).toString()!==e?{isValid:!1,message:'"'+e+'" is not a valid integer.'}:{isValid:!0,message:""};}static validateBoolean(e){return e=="true"||e=="false"?{isValid:!0,message:""}:{isValid:!1,message:'"'+e+'" is not a valid value. Expecting true/false.'};}static validateParameters(e){var n,r,i,s,o;if(e.isTagNode&&((n=he.instance)==null?void 0:n.isKnownTag(e.runtimeName()))){let a=(r=he.instance)==null?void 0:r.findTag(e.runtimeName());if(e.hasParameters)for(let l=0;l<e.parameters.length;l++){let u=e.parameters[l],f=null,c=!1,d=u.name.trim();if(d=En(d,":"),((i=he.instance)==null?void 0:i.canResolveDynamicParameter(e.runtimeName()))&&typeof a.resolveDynamicParameter!="undefined"&&a.resolveDynamicParameter!=null?(f=a.resolveDynamicParameter(e,d),c=!0):f=(s=he.instance)==null?void 0:s.getParameter(e.runtimeName(),d),c&&f==null&&(f=(o=he.instance)==null?void 0:o.getParameter(e.runtimeName(),d)),f==null){if(tP.warnUnknownParameters){let p="";if(a.suggestAlternativeParams!=null){let h=a.suggestAlternativeParams(d);h.length==1?p='. Did you mean "'+h[0]+'"?':h.length>1&&(p=". Try one of the following: "+h.join(", "));}let m='Unknown parameter name: "'+d+'"'+p;e.pushError(M.makeSyntaxError(S.LINT_UNKNOWN_PARAMETER,e,m,1));}}else if(f.validate!=null){let p=f.validate(e,u);p.length>0&&p.forEach(m=>{e.pushError(M.makeSyntaxError(S.LINT_GENERAL_INVALID_PARAMETER_CONTENTS,u,m.message,1));});}else{if(u.hasInterpolations())continue;for(let p=0;p<f.expectsTypes.length;p++){let m=f.expectsTypes[p];if(m=="integer"){let h=this.validateInteger(u.value);h.isValid||e.pushError(M.makeSyntaxError(S.LINT_PARAMETER_CONTENT_INVALID_INTEGER,u,h.message,1));}else if(m=="boolean"){let h=this.validateBoolean(u.value);if(f.name=="paginate"){if(u.value=="true"||u.value=="false")continue;if(parseInt(u.value).toString()!=u.value){let v='Unexpected "'+u.value+'". Expecting a numeric value, or true/false.';e.pushError(M.makeSyntaxError(S.LINT_PAGINATE_INVALID_VALUE,u,v,0));}}else h.isValid||e.pushError(M.makeSyntaxError(S.LINT_PARAMETER_CONTENT_INVALID_BOOLEAN,u,h.message,1));}}}}}}};var Ce=class{constructor(){this.interpolationRegions=new Map;this.nodeParser=new _m;this.chars=[];this.charLen=0;this.lastAntlersNode=null;this.content="";this.originalContent="";this.currentIndex=0;this.currentContent=[];this.sourceContent=[];this.startIndex=0;this._recoveryStartIndex=0;this.cur=null;this.next=null;this.prev=null;this.nodes=[];this.renderNodes=[];this.isInterpolatedParser=!1;this.inputLen=0;this.documentOffsets=new Map;this.lineIndex=new Map;this.lastDocumentOffsetKey=null;this.isDoubleBrace=!1;this.interpolationEndOffsets=new Map;this.isScanningInterpolations=!1;this.seedStartLine=1;this.seedStartchar=1;this.frontMatterEndLine=-1;this.lastAntlersEndIndex=-1;this.seedOffset=0;this.antlersStartIndex=[];this.antlersStartPositionIndex=new Map;this.chunkSize=5;this.maxLine=1;this.currentChunkOffset=0;this.antlersErrors=[];this.languageParser=new Et;this.documentPath=null;this.pushedErrors=new Map;this.frontMatter="";this.doesHaveUncloseIfStructures=!1;this.doesHaveUnclosedStructures=!1;this.structure=new vm(this);}hasUnclosedIfStructures(){return this.doesHaveUncloseIfStructures;}hasUnclosedStructures(){return this.doesHaveUnclosedStructures;}getFrontMatter(){return this.frontMatter;}setDocumentPath(e){this.documentPath=e;}getFrontMatterEndLine(){return this.frontMatterEndLine;}pushError(e){(e.errorCode==S.TYPE_PARSE_UNCLOSED_CONDITIONAL||e.errorCode==S.TYPE_PARSE_UNPAIRED_CONDITIONAL)&&(this.doesHaveUncloseIfStructures=!0);let n=e.hash();this.pushedErrors.has(n)||(this.pushedErrors.set(n,e),this.antlersErrors.push(e));}getInterpolationRegions(){return this.interpolationRegions;}getDocumentPath(){return this.documentPath;}checkCurrentOffsets(){if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let n=X.split(X.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),n.forEach(r=>{this.chars.push(r),this.charLen+=1;});}e&&(this.next=this.chars[this.currentIndex+1]);}}charLeftAt(e){return e==null||e.char<=1?null:this.charAt(this.positionFromCursor(e.line,e.char-1));}charLeftAtCursor(e,n){return this.charLeftAt(this.positionFromCursor(e,n));}charRightAt(e){return e==null?null:this.charAt(this.positionFromCursor(e.line,e.char+1));}charRightAtCursor(e,n){return this.charRightAt(this.positionFromCursor(e,n));}punctuationLeftAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:Vi.findLeftNeighboringNextPunctuation(e.char,r,n);}punctuationLeftAtCursor(e,n,r=4){return this.punctuationLeftAt(this.positionFromCursor(e,n),r);}punctuationRightAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:Vi.findRightBeighboringNextPunctuation(e.char,r,n);}punctuationRightAtCursor(e,n,r=4){return this.punctuationRightAt(this.positionFromCursor(e,n),r);}wordRightAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let i=Vi.findRightNeighboringNextAlphaNumeric(e.char,r,n);return i==null?null:Vi.scanWordAt(i,r,n);}wordRightAtCursor(e,n,r=4){return this.wordRightAt(this.positionFromCursor(e,n),r);}wordLeftAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let i=Vi.findLeftNeighboringNextAlphaNumeric(e.char,r,n);return i==null?null:Vi.scanWordAt(i,r,n);}wordLeftAtCursor(e,n,r=4){return this.wordLeftAt(this.positionFromCursor(e,n),r);}wordAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:Vi.scanWordAt(e.char,r,n);}getLineText(e){let n=this.getLineIndex(e);return n!=null?X.trimRight(this.getContent().substring(n.start,n.end+1)):null;}wordAtCursor(e,n,r=4){return this.wordAt(this.positionFromCursor(e,n),r);}charAt(e){return e==null?null:this.content.substr(e.offset,1);}charAtCursor(e,n){return this.charAt(this.positionFromCursor(e,n));}getLineIndex(e){if(e==this.maxLine){let r=this.lineIndex.get(e-1);if(r!=null){let i=r.endIndex+1;return{end:this.inputLen-1,start:i};}return null;}let n=this.lineIndex.get(e);return n!=null?{start:n.startIndex,end:n.endIndex}:null;}positionFromCursor(e,n){if(e==this.maxLine){let i=this.lineIndex.get(e-1);if(i!=null){let s=i.endIndex+1,o=s+(n-1),a=new Jt;return a.offset=o,a.line=e,a.char=n,a.index=o,a;}return null;}let r=this.lineIndex.get(e);if(r!=null){let i=new Jt;return i.offset=r.startIndex+(n-1),i.line=r.line,i.char=n,i.index=r.startIndex+(n-1),i;}return null;}parse(e){var a,l,u,f;if(this.resetState(),!this.processInputText(e))return[];let n=this.antlersStartIndex.length,r=n-1;if(n==0){let c=new Ht;c.withParser(this),c.content=this.prepareLiteralContent(this.content),c.startPosition=this.positionFromOffset(0,0),c.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1),this.nodes.push(c);}else for(let c=0;c<n;c+=1){let d=this.antlersStartIndex[c];if(this.seedOffset=d,c==0&&d>0){let m=new Ht;m.withParser(this),m.content=this.prepareLiteralContent(this.content.substr(0,d)),m.content.length>0&&(m.startPosition=this.positionFromOffset(0,0),m.endPosition=this.positionFromOffset(d,d-1),this.nodes.push(m));}if(d<this.lastAntlersEndIndex)continue;if(this.currentChunkOffset=d,this.resetIntermediateState(),this.parseIntermediateText(),this.lastAntlersNode!=null&&!(this.lastAntlersNode instanceof Gs)&&this.lastAntlersNode.isComment&&!(this.lastAntlersNode instanceof pl)&&c+1<n){let m=this.antlersStartPositionIndex.get(c+1);if(this.lastAntlersNode.endPosition!=null&&m<this.lastAntlersNode.endPosition.offset){let h=null;for(let v=c+1;v<n;v++)if(this.antlersStartIndex[v]>this.lastAntlersNode.endPosition.offset){h=v;break;}if(h==null){let v=this.prepareLiteralContent(this.content.substr(this.lastAntlersNode.endPosition.offset+1));if(v.length>0){let g=new Ht;g.withParser(this),g.content=v;let _=this.lastAntlersNode.endPosition.offset+1;g.startPosition=this.positionFromOffset(_,_),g.endPosition=this.positionFromOffset(this.inputLen,this.inputLen),this.nodes.push(g);}break;}else{let v=this.antlersStartIndex[h],g=v-this.lastAntlersNode.endPosition.offset-1;if(g>0){let _=this.lastAntlersNode.endPosition.offset,T=v-1;_+=1,T-=1;let I=this.content.substr(_,g);if(I.length>0){let w=new Ht;w.withParser(this),w.content=I,w.startPosition=this.positionFromOffset(_,_),w.endPosition=this.positionFromOffset(T,T),this.nodes.push(w);}continue;}c=h-1;continue;}}}let p=!1;if(this.antlersStartPositionIndex.has(this.currentChunkOffset)?this.lastAntlersEndIndex<this.currentChunkOffset&&(p=!0):p=!0,p){if(c+1<n){let m=this.antlersStartIndex[c+1],h=this.lastAntlersEndIndex+1;if(m<h)if(this.lastAntlersEndIndex>m)c+2<n&&(m=this.antlersStartIndex[c+2]);else continue;if(c+1==r&&m<=this.lastAntlersEndIndex){let v=this.currentChunkOffset,g=this.content.substr(h),_=new Ht;_.withParser(this),_.content=this.prepareLiteralContent(g),_.content.length>0&&(_.startPosition=this.positionFromOffset(v,v),_.endPosition=this.positionFromOffset(m,m-1),this.nodes.push(_));break;}else{let v=m-this.lastAntlersEndIndex-1;if(v==0)continue;let _=this.currentChunkOffset;this.lastAntlersNode instanceof pl&&(h=((l=(a=this.lastAntlersNode.endPosition)==null?void 0:a.offset)!=null?l:0)+1,v-=((f=(u=this.lastAntlersNode.endPosition)==null?void 0:u.offset)!=null?f:0)+1,_=h),this.lastAntlersNode instanceof Gs&&(h-=1,v+=1);let T=this.content.substr(h,v),I=new Ht;I.withParser(this),I.content=this.prepareLiteralContent(T),I.content.length>0&&(I.startPosition=this.positionFromOffset(h,h),I.endPosition=this.positionFromOffset(m,m-1),this.nodes.push(I));}continue;}if(c!==r&&this.lastAntlersNode!=null&&this.lastAntlersNode.endPosition!=null&&this.positionFromOffset(d,d).isBefore(this.lastAntlersNode.endPosition)){if(c+1<n){if(this.antlersStartIndex[c+1]<this.lastAntlersNode.endPosition.offset)continue;}else if(c+1!=r)continue;}if(c==r){let m=this.currentIndex+d;if(m<this.inputLen){let h=new Ht;h.withParser(this),h.content=this.prepareLiteralContent(this.content.substr(m)),h.content.length>0&&(h.startPosition=this.positionFromOffset(m,m),h.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1),this.nodes.push(h));break;}}}}let i=0;this.nodes.forEach(c=>{c.index=i,i+=1;}),this.nodes.forEach(c=>{c instanceof W&&c.interpolationRegions.size>0&&(c.interpolationRegions.forEach((d,p)=>{let m=new Ce;m.setIsInterpolatedParser(!0);let h=m.parse(d.parseContent);h.length>1&&h[1]instanceof W&&(h=[h[1]]),c.processedInterpolationRegions.set(p,h),this.mergeErrors(m.getAntlersErrors());}),c.hasProcessedInterpolationRegions=!0);});let s=new tf;this.renderNodes=s.associate(this.nodes,this),bm.associateRecursiveParent(this.nodes),this.nodes.forEach(c=>{var d;if((c instanceof W||c instanceof ut)&&(c.isInterpolationNode=this.isInterpolatedParser),(c instanceof W||c instanceof ut)&&c.interpolationRegions.size>0&&c.runtimeNodes.forEach(p=>{p instanceof ie&&c.interpolationRegions.has(p.name)&&(p.isInterpolationReference=!0,p.interpolationNodes=c.processedInterpolationRegions.get(p.name));}),(c instanceof W||c instanceof ut)&&c.hasParameters&&c.interpolationRegions.size>0&&c.parameters.forEach(p=>{c.interpolationRegions.forEach((m,h)=>{p.value.includes(h)&&p.interpolations.push(h);});}),c instanceof W&&c.runtimeNodes.length>0&&c.isClosingTag==!1&&!c.isComment&&(c.parsedRuntimeNodes=this.languageParser.parse(c.runtimeNodes),c.hasParsedRuntimeNodes=!0,!c.isTagNode&&c.parsedRuntimeNodes.length>0)){let p=c.nodeAtIndex(0);p!=null&&p instanceof ie&&p.name==((d=c.name)==null?void 0:d.name)&&(c.modifierChain=p.modifierChain);}}),this.languageParser.getCreatedModifierChains().forEach(c=>{c.modifierChain.length>0&&c.modifierChain.forEach(d=>{var p,m;d.nameNode!=null&&xe.instance!=null&&xe.instance.hasModifier((p=d.nameNode)==null?void 0:p.name)&&(d.modifier=(m=xe.instance)==null?void 0:m.getModifier(d.nameNode.name));});});let o=1;return this.nodes.forEach(c=>{var d,p;c instanceof W&&(c.isTagNode=(p=(d=he.instance)==null?void 0:d.isKnownTag(c.runtimeName()))!=null?p:!1,c.scopeName=c.findParameterValue("scope",""),c.antlersNodeIndex=o,o+=1,Nm.analyzeModifierNodeParameters(c),Pm.validateParameters(c));}),this.renderNodes;}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let a=this.documentOffsets.get(e);i=a.line,s=a.char;}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let a=null,l=null,u=null,f=null;for(let c of this.documentOffsets.keys()){if(c>=e){f!=null&&e>f?(a=u,l=f):(a=this.documentOffsets.get(c),l=c);break;}u=this.documentOffsets.get(c),f=c;}if(a==null&&(a=u,l=f),a!=null)if(r){let c=this.content.split(""),d=e-(l!=null?l:0),p=a.char-(l!=null?l:0)+e;s=d,i=a.line,e<=(l!=null?l:0)?(i=a.line,s=e+1):i=a.line+1;}else{let c=this.content.split(""),d=e-(l!=null?l:0),p=a.char-(l!=null?l:0)+e;s=d,i=a.line,e<=(l!=null?l:0)?(i=a.line,s=e+1):i=a.line+1;}else this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey);}let o=new Jt;return o.index=n,o.offset=e,o.line=i,o.char=s,o;}getLanguageParser(){return this.languageParser;}getText(e,n){return this.content.substr(e,n-e);}getOriginalContent(){return this.originalContent;}getContent(){return this.content;}setIsInterpolatedParser(e){return this.isInterpolatedParser=e,this;}setStartLineSeed(e){return this.seedStartLine=e,this;}setSeedStartChar(e){return this.seedStartchar=e,this;}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.currentContent=[],this.sourceContent=[],this.cur=null,this.next=null,this.prev=null;}resetState(){if(this.languageParser.reset(),this.charLen=0,this.antlersStartIndex=[],this.antlersErrors=[],this.pushedErrors.clear(),this.antlersStartPositionIndex.clear(),this.lastAntlersEndIndex=-1,this.renderNodes=[],this.nodes=[],gs.globalTagEnterStack.length>0){let e=gs.globalTagEnterStack[gs.length-1];e!=null&&e.endPosition!=null&&this.setStartLineSeed(e.endPosition.line);}this.seedOffset=0,this.isScanningInterpolations=!1,this.content="",this.chars=[],this.currentIndex=0,this.startIndex=0,this._recoveryStartIndex=0,this.cur=null,this.next=null,this.prev=null,this.inputLen=0,this.documentOffsets.clear(),this.isDoubleBrace=!1,this.interpolationRegions.clear(),this.interpolationEndOffsets.clear();}peek(e){if(e==this.charLen){let n=X.split(X.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,n.forEach(r=>{this.chars.push(r),this.charLen+=1;});}return this.chars[e];}parseIntermediateText(){for(this.currentContent=[],this.sourceContent=[],this.startIndex=0,this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length,this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==Ce.LeftBrace&&this.next==Ce.LeftBrace&&this.prev==Ce.AtChar){this.dumpLiteralNode(this.currentIndex);let e=new si;e.withParser(this),e.name=new wn,e.name.name="noparse",e.content="{{",e.startPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),e.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),this.nodes.push(e),this.currentContent=[],this.sourceContent=[],this.currentIndex+=1;continue;}if((this.prev==null||this.prev!=null&&this.prev!=Ce.AtChar)&&this.next!=null&&this.cur==Ce.LeftBrace&&this.next==Ce.LeftBrace){this.dumpLiteralNode(this.currentIndex);let e=null;if(this.currentIndex+2<this.inputLen&&(e=this.peek(this.currentIndex+2)),e==Ce.Punctuation_Question){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(Ce.Punctuation_Question),this.isDoubleBrace=!1;break;}if(e==Ce.Punctuation_Dollar){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(Ce.Punctuation_Dollar),this.isDoubleBrace=!1;break;}if(e==Ce.Punctuation_Octothorp){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersCommentRegion(),this.isDoubleBrace=!1;break;}this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1;break;}if(this.cur==Ce.AtChar&&this.next!=null&&this.next==Ce.LeftBrace){if(this.currentIndex+2>=this.inputLen){this.appendContent(this.next),this.dumpLiteralNode(this.currentIndex+1);break;}let e=0;for(let n=this.currentIndex+1;n<this.inputLen&&this.chars[n]==Ce.LeftBrace;n+=1)e+=1;this.currentContent=this.currentContent.concat(Ce.LeftBrace.repeat(e).split("")),this.sourceContent=this.currentContent.concat(Ce.LeftBrace.repeat(e).split("")),this.currentIndex+=e;}this.appendContent(this.cur),this.next==null&&this.currentContent.length>0&&this.dumpLiteralNode(this.currentIndex);}}getRenderNodes(){return this.renderNodes;}processInputText(e){var c;if(this.originalContent=e,this.content=X.normalizeLineEndings(e),this.inputLen=this.content.length,this.content.startsWith("---")){let d=this.content.split(`
`),p=[],m=[];m.push("");for(let h=1;h<d.length;h++){let v=d[h];if(v.startsWith("---")){m.push(""),m=m.concat(d.slice(h+1)),this.content=m.join(`
`),this.frontMatter=p.join(`
`),this.frontMatterEndLine=h+1;break;}else p.push(v),m.push("");}}let n=[...this.content.matchAll(/(\n)/gm)],r=n.length,i=this.seedStartLine,s=null,o=0,a=0;for(let d=0;d<r;d++){let p=n[d],m=(c=p.index)!=null?c:0,h=m;s!=null?h=m-s:h=h+1,this.documentOffsets.set(m,{char:h,line:i});let v=0,g=0;d==0?(g=h-1,v=0):(v=a+1,g=m),this.lineIndex.set(i,{char:h,line:i,startIndex:v,endIndex:g}),this.lastDocumentOffsetKey=m,this.maxLine=i,i+=1,s=m,a=g,o=v;}this.maxLine+=1;let l=[...this.content.matchAll(/@?{{/gm)],u=0,f=!1;return l.forEach(d=>{let p=d[0];if(p.startsWith(Ce.AtChar)){u=this.content.indexOf(p,u)+2,f=!0;return;}let m=this.content.indexOf(p,u);if(f&&u==m){u=m;return;}this.antlersStartIndex.push(m),this.antlersStartPositionIndex.set(m,1),u=m+2,f=!1;}),!0;}prepareLiteralContent(e){return e.replace("@{{","{{");}scanToEndOfPhpRegion(e){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==e&&this.next!=null&&this.next==Ce.RightBrace&&this.peek(this.currentIndex+2)==Ce.RightBrace){let r=this.makeAntlersPhpNode(this.currentIndex,e==Ce.Punctuation_Dollar);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.startIndex=this.currentIndex,this._recoveryStartIndex=this.startIndex,this.nodes.push(r),this.lastAntlersNode=r;break;}if(this.appendContent(this.cur),this.next==null){let n=this.makeAntlersPhpFailedNode(this.currentIndex);this.nodes.push(n),this.lastAntlersNode=n,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(M.makeSyntaxError(S.TYPE_INCOMPLETE_PHP_EVALUATION_REGION,n,"Unexpected end of input while parsing Antlers PHP region."));break;}}}appendContent(e){e!=null&&(this.currentContent.push(e),this.sourceContent.push(e));}scanToEndOfAntlersCommentRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==Ce.Punctuation_Octothorp&&this.next!=null&&this.next==Ce.RightBrace&&this.peek(this.currentIndex+2)==Ce.RightBrace){let n=this.makeAntlersTagNode(this.currentIndex,!0);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.nodes.push(n),this.lastAntlersNode=n;break;}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersCommentFailedNode(this.currentIndex);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(M.makeSyntaxError(S.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION,e,"Unexpected end of input while parsing Antlers comment region."));break;}}}scanToEndOfInterpolatedRegion(){this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0);let e=[];this.isScanningInterpolations=!0;let n=0;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.checkCurrentOffsets(),this.cur==Ce.LeftBrace){if(this.prev==Ce.AtChar){e.push(this.cur);continue;}n+=1,e.push(this.cur);}else if(this.cur==Ce.RightBrace){if(this.prev==Ce.AtChar){e.push(this.cur);continue;}if(n-=1,e.push(this.cur),n==0){this.interpolationEndOffsets.set(this.currentIndex,1);break;}}else this.cur!=null&&e.push(this.cur);let r=e.join(""),s=("int_"+nP.Md5.hashStr(r)).substr(0,r.length),o=s.length,a=r.length;if(o<a){let l=a-o;s+="x".repeat(l);}return this.isScanningInterpolations=!1,{content:r,varContent:s};}bordersInterpolationRegion(e){if(this.interpolationEndOffsets.size==0)return!1;let n=e.offset-1;return n<=0?!1:this.interpolationEndOffsets.has(n);}getParseableContent(e){let n="";for(let r=0;r<=e;r++)this.content[r]==Ce.LeftBrace||this.content[r]==Ce.RightBrace?n+="~":n+=this.content[r];return n;}scanToEndOfAntlersRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==Ce.LeftBrace&&this.prev==Ce.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue;}if(this.isInterpolatedParser&&this.cur==Ce.RightBrace&&this.prev==Ce.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue;}if(this.cur==Ce.LeftBrace){let e=this.scanToEndOfInterpolatedRegion(),n=this.currentIndex+this.seedOffset,r=n-e.content.length,i=this.getParseableContent(r-1);gs.interpolatedVariables.push(e.varContent),this.currentContent=this.currentContent.concat(e.varContent.split("")),this.sourceContent=this.sourceContent.concat(e.content.split(""));let s=i+"{"+e.content+"}";this.interpolationRegions.set(e.varContent,{content:e.content,parseContent:s,varContent:e.varContent,startOffset:r,endOffset:n});continue;}if(this.cur==Ce.RightBrace&&this.next!=null&&this.next==Ce.RightBrace){let e=this.makeAntlersTagNode(this.currentIndex,!1);this.currentIndex+=2,this.nodes.push(e),this.lastAntlersNode=e;break;}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersFailedNode(this.currentIndex,!1);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0;let n="Unexpected end of input while parsing Antlers region.";this.isScanningInterpolations&&(n="Unexpected end of input wihle parsing interpolated Antlers region."),this.antlersErrors.push(M.makeSyntaxError(S.TYPE_INCOMPLETE_ANTLERS_REGION,e,n));break;}}}makeAntlersPhpNode(e,n){let r=new Gs;return n?(r.rawStart="{{$",r.rawEnd="$}}"):(r.rawStart="{{?",r.rawEnd="?}}"),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+3>this.inputLen?(r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(M.makeSyntaxError(S.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r):(this.lastAntlersEndIndex=e+3+this.seedOffset,r.endPosition=this.positionFromOffset(e+this.seedOffset,e+3+this.seedOffset),r);}makeAntlersPhpFailedNode(e){let n=new Id;n.rawStart="{{$",n.rawEnd="$}}",n._isEndVirtual=!0,n.content=this.currentContent.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let r=this.getLineText(n.startPosition.line),i=this.getLineIndex(n.startPosition.line);if(r!=null){let o=r.substr(this._recoveryStartIndex);n.content=o,n.sourceContent=o;}let s=e+this.seedOffset;return i!=null&&(this.currentIndex=i.end,s=i.end),n.endPosition=this.positionFromOffset(s,s),n;}makeAntlersCommentFailedNode(e){let n=new pl;this.isDoubleBrace?(n.rawStart="{{",n.rawEnd="}}"):(n.rawStart="{",n.rawEnd="}"),n._isEndVirtual=!0;let r=!1,i=this.currentContent.length;i>0&&this.currentContent[i-1]==Ce.Punctuation_ForwardSlash&&(this.currentContent.pop(),r=!0),n.isComment=!0,n.isSelfClosing=r,n.withParser(this),n.content=this.currentContent.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let s=this.getLineText(n.startPosition.line),o=this.getLineIndex(n.startPosition.line);if(s!=null){let l=s.substr(this._recoveryStartIndex);n.content=l,n.sourceContent=l;}let a=e+this.seedOffset;return o!=null&&(this.currentIndex=o.end,a=o.end),n.endPosition=this.positionFromOffset(a,a),n.interpolationRegions=new Map,this.interpolationRegions.forEach((l,u)=>{n.content.includes(u)&&n.interpolationRegions.set(u,l);}),n;}makeAntlersFailedNode(e,n){let r=new ut;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}"),r._isEndVirtual=!0;let i=!1,s=this.currentContent.length;s>0&&this.currentContent[s-1]==Ce.Punctuation_ForwardSlash&&(this.currentContent.pop(),i=!0),r.isComment=n,r.isSelfClosing=i,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let o=this.getLineText(r.startPosition.line),a=this.getLineIndex(r.startPosition.line);if(o!=null){let f=X.trimLeft(this.content.substring(r.startPosition.offset+r.rawStart.length-1,a==null?void 0:a.end),"{");r.content=f,r.sourceContent=f;}let l=e+this.seedOffset;a!=null&&(this.currentIndex=a.end,l=a.end),r.endPosition=this.positionFromOffset(l,l),r.interpolationRegions=new Map,this.interpolationRegions.forEach((f,c)=>{r.content.includes(c)&&r.interpolationRegions.set(c,f);});let u=this.nodeParser.parseNode(r);return this.mergeErrors(u.getErrors()),u;}makeAntlersTagNode(e,n){let r=new W;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}");let i=!1,s=this.currentContent.length;s>0&&this.currentContent[s-1]==Ce.Punctuation_ForwardSlash&&(this.currentContent.pop(),i=!0),r.isComment=n,r.isSelfClosing=i,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join("");let o=this.content.split("");if(r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+2>this.inputLen)return r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(M.makeSyntaxError(S.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r;n?this.lastAntlersEndIndex=e+2+this.seedOffset:this.lastAntlersEndIndex=e+1+this.seedOffset,r.endPosition=this.positionFromOffset(this.lastAntlersEndIndex,this.lastAntlersEndIndex),r.interpolationRegions=new Map,this.interpolationRegions.forEach((l,u)=>{r.content.includes(u)&&r.interpolationRegions.set(u,l);});let a=this.nodeParser.parseNode(r);return this.mergeErrors(a.getErrors()),a;}mergeErrors(e){e.forEach(n=>{this.antlersErrors.push(n);});}getNodes(){return this.nodes;}antlersNodes(){return this.nodes.filter(function(e){return e instanceof W;});}dumpLiteralNode(e){this.currentContent.length>0&&this.nodes.push(this.makeLiteralNode(this.currentContent,this.startIndex,e)),this.currentContent=[],this.sourceContent=[];}makeLiteralNode(e,n,r){let i=new Ht;return i.content=e.join(""),i.sourceContent=this.sourceContent.join(""),i.startPosition=this.positionFromOffset(n,n),i.endPosition=this.positionFromOffset(r,r),i.withParser(this),i;}addAntlersError(e){this.antlersErrors.push(e);}getAntlersErrors(){return this.antlersErrors;}},O=Ce;O.K_CHAR="char",O.K_LINE="line",O.NewLine=`
`,O.AtChar="@",O.LeftBrace="{",O.RightBrace="}",O.LeftBracket="[",O.RightBracket="]",O.String_EscapeCharacter="\\",O.String_Terminator_DoubleQuote='"',O.String_Terminator_SingleQuote="'",O.Punctuation_Question="?",O.Punctuation_Equals="=",O.Punctuation_Comma=",",O.Punctuation_Colon=":",O.Punctuation_Semicolon=";",O.Punctuation_Exclamation="!",O.Punctuation_Pipe="|",O.Punctuation_Ampersand="&",O.Punctuation_LessThan="<",O.Punctuation_GreaterThan=">",O.Punctuation_Octothorp="#",O.Punctuation_Tilde="~",O.Punctuation_FullStop=".",O.Punctuation_Dollar="$",O.Punctuation_Asterisk="*",O.Punctuation_Percent="%",O.Punctuation_Plus="+",O.Punctuation_Minus="-",O.Punctuation_Underscore="_",O.Punctuation_ForwardSlash="/",O.Punctuation_Caret="^",O.LeftParen="(",O.RightParent=")";var vt=class{static findAssignmentNodes(e){let n=[];for(let r=0;r<e.length;r++)Et.isAssignmentOperatorNode(e[r])&&n.push(e[r]);return n;}static findAbstractNodesBefore(e,n){return this.findAbstractNodesBeforePosition(e.startPosition,n);}static findAbstractNodesBeforePosition(e,n){if(e==null)return[];let r=[];for(let i=0;i<n.length;i++){let s=n[i];if(s.startPosition!=null){if(s.startPosition.index>e.index)break;r.push(s);}}return r;}static findNodesBeforePosition(e,n){let r=[];if(e==null)return r;for(let i=0;i<n.length;i++){let s=n[i];if(!vt.isLiteralType(s)&&s.startPosition!=null&&s.endPosition!=null){if(s.startPosition.index>e.index)break;r.push(s);}}return r;}static findNodesAfterPosition(e,n){let r=[];if(e==null)return r;for(let i=0;i<n.length;i++){let s=n[i];vt.isLiteralType(s)||s.startPosition!=null&&s.startPosition.index>e.index&&r.push(s);}return r;}static findNodeBeforePosition(e,n){if(e==null)return null;let r=null;for(let i=0;i<n.length;i++){let s=n[i];if(!vt.isLiteralType(s)&&s.startPosition!=null){if(s.startPosition.index>e.index)break;r=s;}}return r;}static findNodeAfterPosition(e,n){if(e==null)return null;for(let r=0;r<n.length;r++){let i=n[r];if(!vt.isLiteralType(i)&&i.startPosition!=null&&i.startPosition.index>e.index)return i;}return null;}static findNodeAtPosition(e,n){if(e==null)return null;for(let r=0;r<n.length;r++){let i=n[r];if(!vt.isLiteralType(i)&&i.startPosition!=null&&i.endPosition!=null&&e.index>=i.startPosition.index&&e.index<=i.endPosition.index)return i;}return null;}static isLiteralType(e){return e instanceof si||e instanceof Ht;}};var Sl=class{static isModifierLeftOf(e,n){return Sl.isModifierLeftOfPosition(e.startPosition,n);}static isModifierLeftOfPosition(e,n){let r=vt.findAbstractNodesBeforePosition(e,n);for(let i=r.length-1;i>=0;i--){let s=r[i];if(s instanceof Wt||s instanceof Dt)return!1;if(s instanceof _n)return!0;}return!1;}};var Rl=class{constructor(){this.isRightOfOperator=!1;this.isLeftOfOperator=!1;}static resolveContext(e,n,r){let i=new Rl;return r!=null&&(r.prev!=null&&Et.isOperatorType(r.prev)&&(i.isRightOfOperator=!0),r.next!=null&&Et.isOperatorType(r.next)&&(i.isLeftOfOperator=!0)),i;}};var Im=class{constructor(){this.inTagPart=!1;this.inMethodPart=!1;}};var Cl=class{constructor(){this.modifierChain=null;this.activeModifier=null;this.name="";this.inModifierName=!1;this.inModifierParameter=!1;this.valueCount=0;this.activeValueIndex=-1;this.activeValue=null;}static resolveContext(e,n,r,i){let s=n.getParser(),o=new Cl,a=s.getLanguageParser().getCreatedModifierChains(),l=null;for(let u=0;u<a.length;u++){let f=a[u];if(e.isWithin(f.startPosition,f.endPosition)){for(let c=0;c<f.modifierChain.length;c++){let d=f.modifierChain[c];if(e.isWithin(d.startPosition,d.endPosition)){l=d;break;}}if(l!=null)break;}}if(l==null&&r instanceof Mt&&i.getDocumentParser().getLanguageParser().hasModifierConstruct(r)&&(l=i.getDocumentParser().getLanguageParser().getModifierConstruct(r)),l!=null)if(o.activeModifier=l,o.valueCount=l.valueNodes.length,l.nameNode!=null&&(o.name=l.nameNode.name),l.nameNode!=null&&e.isWithin(l.nameNode.startPosition,l.nameNode.endPosition,1))o.inModifierName=!0;else for(let u=0;u<l.valueNodes.length;u++){let f=l.valueNodes[u];if(e.isWithin(f.startPosition,f.endPosition,1)){o.activeValueIndex=u,o.inModifierParameter=!0,o.activeValue=f;break;}}return o;}};var xl=class{constructor(){this.parameter=null;this.isInName=!1;this.isInValue=!1;}static resolveContext(e,n){let r=new xl;return r.parameter=n,e.isWithinRange(n.namePosition)?r.isInName=!0:e.isWithinRange(n.valuePosition)&&(r.isInValue=!0),r;}};var Sm=class{constructor(){this.refId="";this.node=null;this.leftPunctuation=null;this.rightPunctuation=null;this.leftChar=null;this.rightChar=null;this.word=null;this.char=null;this.interpolatedContext=!1;this.leftWord=null;this.rightWord=null;this.isCursorInIdentifier=!1;this.root=null;this.identifierContext=null;this.position=null;this.feature=null;this.isInParameter=!1;this.subContext=null;this.parameterContext=null;this.modifierContext=null;this.generalContext=null;this.variableContext=null;this.cursorContext=Rm.Unknown;this.refId=Ho();}},Rm=(o=>(o[o.Unknown=0]="Unknown",o[o.Variable=1]="Variable",o[o.Modifier=2]="Modifier",o[o.Parameter=3]="Parameter",o[o.General=4]="General",o[o.LanguageOperator=5]="LanguageOperator",o))(Rm||{});var Al=class{constructor(){this.variableNode=null;this.varPathText="";}static resolveContext(e,n,r,i){var c;if(r==null)return null;let s=r,o=i.getDocumentParser().getLanguageParser(),a=new Al,l=(c=i.wordAt(e))!=null?c:"";r instanceof Tt&&o.isMergedVariableComponent(r)==!1&&r.prev instanceof ie&&(s=r.prev);let u="";if(o.isMergedVariableComponent(s)){let d=o.getMergedVariable(s);d.startPosition!=null&&(u=i.getText(d.startPosition.index,e.index).trim()),a.variableNode=d;}else s instanceof ie&&(a.variableNode=s,u=s.name,s.variableReference!=null&&(u=s.variableReference.normalizedReference));u.length>0&&(u=pt(u,"\\.",":"));let f=u.split(":");return l.trim().length>0&&f.pop(),u=f.join(":"),u.endsWith(":")&&(u=Yr(u,":")),a.varPathText=u,a;}};var ji=class{static resolveIdentifierContext(e,n){let r=new Im;return n.nameMethodPartStartsOn!=null?e.char<n.nameMethodPartStartsOn.char?(r.inTagPart=!0,r.inMethodPart=!1):(r.inTagPart=!1,r.inMethodPart=!0):(r.inMethodPart=!1,r.inTagPart=!0),r;}static resolveContext(e,n,r,i=!1,s=null){var o,a,l,u,f,c;if(n==null||e==null)return null;if(n instanceof Vn||n instanceof W){let d=new Sm;if(n.nameStartsOn!=null&&e.line==n.nameStartsOn.line){let h=!1;e.char>=n.nameStartsOn.char&&(h=!0),n.nameEndsOn!=null&&e.char>n.nameEndsOn.char&&(h=!1),h&&(d.isCursorInIdentifier=!0,d.identifierContext=ji.resolveIdentifierContext(e,n));}n.addContext(d),s!=null&&s.addContext(d),d.interpolatedContext=i,d.node=n,d.position=e,d.root=s,d.leftPunctuation=r.punctuationLeftAt(e),d.rightPunctuation=r.punctuationRightAt(e),d.leftChar=r.charLeftAt(e),d.rightChar=r.charRightAt(e),d.word=r.wordAt(e),d.char=r.charAt(e),d.leftWord=r.wordLeftAt(e),d.rightWord=r.wordRightAt(e);let p=!1;if(n.parameters.length>0)for(let h=0;h<n.parameters.length;h++){let v=n.parameters[h];if(v.blockPosition!=null&&v.blockPosition.start!=null&&v.blockPosition.end!=null&&e.char>v.blockPosition.start.char&&e.char<=v.blockPosition.end.char+1&&e.line>=((l=(a=(o=v.namePosition)==null?void 0:o.start)==null?void 0:a.line)!=null?l:v.blockPosition.start.line)&&e.line<=((c=(f=(u=v.valuePosition)==null?void 0:u.end)==null?void 0:f.line)!=null?c:v.blockPosition.end.line)){d.cursorContext=3,d.parameterContext=xl.resolveContext(e,v),d.isInParameter=!0,d.feature=v,p=!0;break;}}if(p||n.runtimeNodes.forEach(h=>{h.startPosition!=null&&h.endPosition!=null&&e.isWithin(h.startPosition,h.endPosition,1)&&(d.feature=h);}),p&&n.interpolationRegions.size>0){let h=Array.from(n.interpolationRegions,([v,g])=>g);for(let v=0;v<h.length;v++){let g=h[v];if(e.index>=g.startOffset&&e.index<=g.endOffset){let _=n.getInterpolationNode(g.varContent);return ji.resolveContext(e,_,r,!0,s);}}}return d.feature instanceof ie&&d.feature.isInterpolationReference&&d.feature.parent!=null&&d.feature.parent instanceof W&&d.feature.parent.processedInterpolationRegions.has(d.feature.name)?ji.resolveContext(e,d.feature.parent.getInterpolationNode(d.feature.name),r,!0,s):(Sl.isModifierLeftOfPosition(e,n.runtimeNodes)?(d.cursorContext=2,d.modifierContext=Cl.resolveContext(e,n,d.feature,r)):p||(d.cursorContext=4,d.generalContext=Rl.resolveContext(e,n,d.feature)),d.variableContext=Al.resolveContext(e,n,d.feature,r),d);}return null;}};var io=class{static isPairedNode(e){return e instanceof Ar?!0:e instanceof Vn||e instanceof W?e.isClosedBy!=null:!1;}static findAncestorsBeforePosition(e,n){var a,l,u,f,c,d;let r=[],i=[],s=-1,o=-1;for(let p=0;p<n.length;p++){let m=n[p];if(m.isClosedBy!=null&&((a=m.isClosedBy.endPosition)==null?void 0:a.isBefore(e))&&(i.push(m),i.push(m.isClosedBy),s=m.isClosedBy.endPosition.line,o=m.isClosedBy.endPosition.char),!(s>-1&&m.endPosition!=null&&(m.endPosition.line<s||m.endPosition.line==s&&o>-1&&m.endPosition.char<o))){if(m.startPosition!=null){if(e.isBefore(m.startPosition))break;if(m.startPosition.line==e.line&&e.char<=m.startPosition.char){i.push(m);continue;}}if(((l=he.instance)==null?void 0:l.requiresClose(m))&&m.isClosedBy!=null){let h=m.isClosedBy;if((u=h.startPosition)==null?void 0:u.isBefore(e)){i.push(m),i.push(h);continue;}else((f=h.startPosition)==null?void 0:f.line)==e.line&&((c=h.startPosition)==null?void 0:c.char)<e.char?i.push(m):r.push(m);}else if(m.parent!=null){let h=m.parent;if(i.includes(h)){i.push(m);continue;}else((d=m.endPosition)==null?void 0:d.isBefore(e))?r.push(m):i.push(m);}else r.push(m);}}return r;}};var Cm=class{constructor(e){this.doc=e;}getAncestorsAt(e,n){let r=this.position(e,n);return r==null?[]:io.findAncestorsBeforePosition(r,this.doc.getAllAntlersNodes());}getNameAt(e,n){let r=this.getNodeAt(e,n);return r instanceof W?r.name:null;}getScopeAt(e,n){let r=this.getNodeAt(e,n);return r instanceof W&&r.currentScope!=null?r.currentScope:null;}getFeaturesAt(e,n){let r=this.position(e,n),i=this.getNodeAt(e,n);return ji.resolveContext(r,i,this.doc,!1,i);}getNodeAt(e,n){return vt.findNodeAtPosition(this.position(e,n),this.doc.getDocumentParser().getNodes());}getNodeBefore(e,n){return vt.findNodeBeforePosition(this.position(e,n),this.doc.getDocumentParser().getNodes());}getNodeAfter(e,n){return vt.findNodeAfterPosition(this.position(e,n),this.doc.getDocumentParser().getNodes());}getNodesBefore(e,n){return vt.findNodesBeforePosition(this.position(e,n),this.doc.getDocumentParser().getNodes());}getNodesAfter(e,n){return vt.findNodesAfterPosition(this.position(e,n),this.doc.getDocumentParser().getNodes());}getIsWithinPairedNode(e,n){let r=this.getNodeBefore(e,n);return r==null?!1:io.isPairedNode(r);}position(e,n){return this.doc.getDocumentParser().positionFromCursor(e,n);}charLeftAt(e,n){return this.doc.getDocumentParser().charLeftAtCursor(e,n);}charAt(e,n){return this.doc.getDocumentParser().charAtCursor(e,n);}charRightAt(e,n){return this.doc.getDocumentParser().charRightAtCursor(e,n);}wordLeftAt(e,n,r=4){return this.doc.getDocumentParser().wordLeftAtCursor(e,n,r);}wordRightAt(e,n,r=4){return this.doc.getDocumentParser().wordRightAtCursor(e,n,r);}wordAt(e,n,r=4){return this.doc.getDocumentParser().wordAtCursor(e,n,r);}punctuationLeftAt(e,n,r=4){return this.doc.getDocumentParser().punctuationLeftAtCursor(e,n,r);}punctuationRightAt(e,n,r=4){return this.doc.getDocumentParser().punctuationRightAtCursor(e,n,r);}};var xm=class{constructor(e){this.doc=e;}hasAny(){return this.all().length>0;}all(){let e=[],n=[];return this.doc.getAllAntlersNodes().forEach(r=>{r.getErrors().forEach(i=>{e.includes(i.hash())==!1&&(e.push(i.hash()),n.push(i));});}),n;}};var JP=K(hi());var Pn=K(XP(),1),XZ=Pn.default.binaryOptions,QZ=Pn.default.boolOptions,JZ=Pn.default.intOptions,ZZ=Pn.default.nullOptions,eee=Pn.default.strOptions,tee=Pn.default.Schema,nee=Pn.default.Alias,ree=Pn.default.Collection,iee=Pn.default.Merge,see=Pn.default.Node,QP=Pn.default.Pair,Sf=Pn.default.Scalar,Fl=Pn.default.YAMLMap,Gm=Pn.default.YAMLSeq;var Wm=class{constructor(e){this.documentScope=null;this.project=e;}getKeyValue(e){return e instanceof Sf?e.value:"";}getNodeValue(e){return e instanceof Sf?e.value:e instanceof Fl?this.analyzeDocument(e.items):"";}getScalarRuntimeType(e){return parseFloat(e).toString()==e||parseInt(e).toString()==e?"number":"string";}analyzeDocument(e){let n=new cr(this.project);return e.forEach(r=>{if(r instanceof QP){let i=this.getKeyValue(r.key),s=this.getNodeValue(r.value);r.value instanceof Sf?n.addVariable({dataType:this.getScalarRuntimeType(s),introducedBy:null,name:i,sourceField:null,sourceName:"*frontmatter"}):n.addScopeList(i,s);}}),n;}parse(e){let n=JP.parseDocument(e);try{n.contents instanceof Fl&&(this.documentScope=this.analyzeDocument(n.contents.items));}catch{this.documentScope=null;}}hasScope(){return this.documentScope!=null;}getScope(){return this.documentScope;}};var Hm=class{constructor(e){this.doc=e;}getAncestors(e){return io.findAncestorsBeforePosition(e,this.doc.getAllAntlersNodes());}getNodeAt(e){return vt.findNodeAtPosition(e,this.doc.getDocumentParser().getNodes());}getNodesBefore(e){return vt.findNodesBeforePosition(e,this.doc.getDocumentParser().getNodes());}getNodeBefore(e){return vt.findNodeBeforePosition(e,this.doc.getDocumentParser().getNodes());}getNodeAfter(e){return vt.findNodeAfterPosition(e,this.doc.getDocumentParser().getNodes());}getNodesAfter(e){return vt.findNodesAfterPosition(e,this.doc.getDocumentParser().getNodes());}getIsWithinPairedNode(e){let n=this.getNodeBefore(e);return n==null?!1:io.isPairedNode(n);}filter(e){return this.doc.getDocumentParser().getNodes().filter(e);}getComments(){let e=[];return this.doc.getAllNodes().forEach(n=>{n instanceof W&&n.isComment&&e.push(n);}),e;}getMultilineNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{var r,i;n instanceof W&&!n.isComment&&((r=n.startPosition)==null?void 0:r.line)!=((i=n.endPosition)==null?void 0:i.line)&&e.push(n);}),e;}getMultiLineComments(){let e=[];return this.getComments().forEach(n=>{var r,i;((r=n.startPosition)==null?void 0:r.line)!=((i=n.endPosition)==null?void 0:i.line)&&e.push(n);}),e;}getAllLiteralNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof Ht||n instanceof si)&&e.push(n);}),e;}getStructuralNodes(){let e=[];return this.doc.getDocumentParser().getRenderNodes().forEach(n=>{n instanceof W?e.push(n):n instanceof Ar&&n.logicBranches.length>0&&n.logicBranches.forEach(r=>{if(r.head!=null){let i=r.head;i.originalNode!=null?e.push(i.originalNode):e.push(i);}});}),e;}getAllRuntimeNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof Vn||n instanceof W)&&n.runtimeNodes.length>0&&n.runtimeNodes.forEach(r=>{e.push(r);});}),e;}getAllParameterNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof Vn||n instanceof W)&&n.hasParameters&&n.parameters.forEach(r=>{e.push(r);});}),e;}getAssignmentNodes(){return vt.findAssignmentNodes(this.getAllRuntimeNodes());}};var Ym=class{constructor(e){this.doc=e;}getAllSelfClosingNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{n instanceof W&&n.isSelfClosing&&e.push(n);}),e;}getAllPairedNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof W||n instanceof ut)&&n.isClosedBy!=null&&!n.isSelfClosing&&e.push(n);}),e;}};var ZP=K(hi());var Km=class{constructor(){this.content="";this.ranges=[];this.lastDocumentOffsetKey=null;this.documentOffsets=new Map;this.lineIndex=new Map;this.keys=[];this.values=[];this.isValid=!1;this.parseError=null;}loadString(e){var f;this.content=X.normalizeLineEndings(e);let n=null;try{n=ZP.parseDocument(this.content),this.isValid=!0;}catch(c){this.isValid=!1,this.parseError=c;}if(n==null)return;let r=[...this.content.matchAll(/(\n)/gm)],i=r.length,s=2,o=null,a=0,l=0;for(let c=0;c<i;c++){let d=r[c],p=(f=d.index)!=null?f:0,m=p;o!=null?m=p-o:m=m+1,this.documentOffsets.set(p,{char:m,line:s});let h=0,v=0;c==0?(v=m-1,h=0):(h=l+1,v=p),this.lineIndex.set(s,{char:m,line:s,startIndex:h,endIndex:v}),this.lastDocumentOffsetKey=p,s+=1,o=p,l=v,a=h;}let u=n.contents;this.processMap(u);}processMap(e){e.items.forEach(n=>{this.processItem(n);});}processItem(e){if(e.type=="PAIR"){if(e.value instanceof Fl||e.value instanceof Gm){let s=e.key;if(s.range!=null){let o=this.positionFromOffset(s.range[0],s.range[0]),a=this.positionFromOffset(s.range[1],s.range[1]);this.ranges.push({start:o,end:a,length:a.char-o.char+1,content:"property"}),this.keys.push({start:o,end:a,length:a.char-o.char+1,content:s.value}),e.value instanceof Gm?this.processMap(e.value.items[0]):this.processMap(e.value);return;}}let n=e,r=n.key,i=n.value;if(r.range!=null&&i.range!=null){let s=this.positionFromOffset(r.range[0],r.range[0]),o=this.positionFromOffset(r.range[1],r.range[1]),a=this.positionFromOffset(i.range[0],i.range[0]),l=this.positionFromOffset(i.range[1],i.range[1]),u="string";parseInt(i.value)==i.value&&(u="number"),this.ranges.push({start:s,end:o,length:o.char-s.char+1,content:"property"}),this.keys.push({start:s,end:o,length:o.char-s.char+1,content:r.value}),this.ranges.push({start:a,end:l,length:l.char-a.char+1,content:u}),this.values.push({start:a,end:l,length:l.char-a.char+1,content:i.value});}}}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let a=this.documentOffsets.get(e);i=a.line,s=a.char;}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let a=null,l=null,u=null,f=null;for(let c of this.documentOffsets.keys()){if(c>=e){f!=null&&e>f?(a=u,l=f):(a=this.documentOffsets.get(c),l=c);break;}u=this.documentOffsets.get(c),f=c;}if(a==null&&(a=u,l=f),a!=null)if(r){let c=this.content.split(""),d=e-(l!=null?l:0),p=a.char-(l!=null?l:0)+e;s=d,i=a.line,e<=(l!=null?l:0)?(i=a.line,s=e+1):i=a.line+1;}else{let c=this.content.split(""),d=e-(l!=null?l:0),p=a.char-(l!=null?l:0)+e;s=d,i=a.line,e<=(l!=null?l:0)?(i=a.line,s=e+1):i=a.line+1;}else this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey);}let o=new Jt;return o.index=n,o.offset=e,o.line=i,o.char=s,o;}getRanges(){return this.ranges;}getKeys(){return this.keys;}getValues(){return this.values;}};var Ns=class{constructor(){this.documentParser=new O;this.ranges=new Ym(this);this.nodes=new Hm(this);this.cursor=new Cm(this);this.errors=new xm(this);this.project=null;this.documentUri="";}static fromText(e,n){let r=new Ns;return typeof n!="undefined"&&(r.project=n),r.loadString(e);}getDocumentOptions(){let e=this.getAllNodes();if(e.length==0||!(e[0]instanceof W))return null;let n=e[0];return n.isComment==!1?null:ll(this.documentUri,n);}isFormattingEnabled(){let e=this.getDocumentOptions();return e==null?!0:e.formatterEnabled;}hasInvalidControlFlowStructures(){return this.documentParser.hasUnclosedIfStructures();}hasUnclosedStructures(){return this.documentParser.hasUnclosedStructures();}getFrontMatterDoc(){if(this.hasFrontMatter()){let e=new Km;return e.loadString(this.getFrontMatter()),e;}return null;}hasFrontMatter(){return this.documentParser.getFrontMatter().trim().length>0;}getFrontMatter(){return this.documentParser.getFrontMatter();}getFrontMatterScope(){if(this.project==null)return null;let e=new Wm(this.project);return e.parse(this.getFrontMatter()),e.getScope();}updateProject(e){this.project=e,this.updateProjectDetails();}updateProjectDetails(){try{if(this.project!=null){let e=new pm(this.project,this.documentUri,this),n=this.documentParser.antlersNodes();n.forEach(r=>{var i,s;if(this.project!=null&&((i=he.instance)==null?void 0:i.canResolveSpecialTypes(r.getTagName()))){let o=(s=he.instance)==null?void 0:s.resolveSpecialType(r.getTagName(),r,this.project);o.context!=null&&(r.reference=o.context);}}),e.analyzeScope(n);for(let r=0;r<n.length;r++){let i=n[r];if(i.hasParameters)for(let s=0;s<i.parameters.length;s++){let o=i.parameters[s];if(o.hasInterpolations())for(let a=0;a<o.interpolations.length;a++){let l=o.interpolations[a];i.processedInterpolationRegions.has(l)&&i.processedInterpolationRegions.get(l).forEach(f=>{f instanceof W&&(f.currentScope=i.currentScope);});}}}ov(this);}}catch(e){console.log(e);}}loadString(e){return this.documentParser.parse(e),this.updateProjectDetails(),this;}getDocumentParser(){return this.documentParser;}getAllNodes(){return this.documentParser.getNodes();}getAllAntlersNodes(){return this.documentParser.antlersNodes();}extractText(){let e=[];return this.nodes.getAllLiteralNodes().forEach(n=>{e.push(n.content);}),e.join("");}getNameAt(e){let n=this.nodes.getNodeAt(e);return n instanceof W?n.name:null;}getContent(){return this.documentParser.getContent();}getOriginalContent(){return this.documentParser.getOriginalContent();}getFeaturesAt(e){let n=this.nodes.getNodeAt(e);return ji.resolveContext(e,n,this,!1,n);}getText(e,n){return this.documentParser.getText(e,n);}charLeftAt(e){return this.documentParser.charLeftAt(e);}charAt(e){return this.documentParser.charAt(e);}charRightAt(e){return this.documentParser.charRightAt(e);}getLineIndex(e){return this.documentParser.getLineIndex(e);}getLineText(e){return this.documentParser.getLineText(e);}wordAt(e,n=4){return this.documentParser.wordAt(e,n);}wordLeftAt(e,n=4){return this.documentParser.wordLeftAt(e,n);}wordRightAt(e,n=4){return this.documentParser.wordRightAt(e,n);}punctuationLeftAt(e,n=4){return this.documentParser.punctuationLeftAt(e,n);}punctuationRightAt(e,n=4){return this.documentParser.punctuationRightAt(e,n);}getLineChars(e){let n=this.getLineText(e);return n!=null?n.split(""):null;}};var po=class{constructor(){this.loadedDocuments=new Map;this.activeProject=null;}getDocuments(){let e=[];return this.loadedDocuments.forEach(n=>{e.push(n);}),e;}setProject(e){this.activeProject=e,this.loadedDocuments.forEach(n=>{this.activeProject!=null&&n.updateProject(this.activeProject);});}refreshDocumentState(){this.activeProject!=null&&this.setProject(this.activeProject);}hasDocument(e){return this.loadedDocuments.has(e);}createDocument(e){if(!this.loadedDocuments.has(e)){let n=new Ns;n.documentUri=e,this.loadedDocuments.set(e,n);}}loadDocument(e,n){this.loadedDocuments.set(e,Ns.fromText(n));}getDocument(e){return this.loadedDocuments.get(e);}updateDocument(e,n){this.loadedDocuments.has(e)&&this.loadedDocuments.get(e).loadString(n);}createOrUpdate(e,n){this.createDocument(e),this.updateDocument(e,n);}getDocumentErrors(e){return this.loadedDocuments.has(e)?this.loadedDocuments.get(e).errors.all():[];}};po.instance=null;(typeof po.instance=="undefined"||po.instance)&&(po.instance=new po);var eI=po;var Ps=new Map,Ae=new eI;function tI(t,e){let n=[];return t.processedInterpolationRegions.size>0&&t.processedInterpolationRegions.forEach((r,i)=>{var s;for(let o=0;o<r.length;o++){let a=r[o];if(a instanceof W&&e.isWithin(a.startPosition,a.endPosition)){a.currentScope==null&&(((s=t.parent)==null?void 0:s.currentScope)!=null?a.currentScope=t.parent.currentScope:a.currentScope=t.currentScope),n.push(a),a.processedInterpolationRegions.size>0&&(n=n.concat(tI(a,e)));break;}}}),n;}function dr(t,e){var c,d,p,m,h,v,g,_,T,I,w;if(!Ae.hasDocument(e)||fe.instance==null||fe.instance.hasStructure()==!1)return null;let n=Ae.getDocument(e),r=t.line+1,i=t.character+1,s=n.cursor.getFeaturesAt(r,i),o=n.cursor.position(r,i),a=fe.instance.getStructure(),l=n.cursor.getAncestorsAt(r,i);if(o!=null&&l.length>0){let $=l[l.length-1];tI($,o).forEach(B=>{l.push(B);});}let u=(s==null?void 0:s.isCursorInIdentifier)==!1;return u==!1&&((c=s==null?void 0:s.leftChar)!=null?c:"")==" "&&(u=!0),{hasFrontMatter:n.hasFrontMatter(),antlersDocument:n,frontMatterEndsOn:n.getDocumentParser().getFrontMatterEndLine(),document:e,leftMeaningfulWord:(d=s==null?void 0:s.leftWord)!=null?d:null,leftChar:(p=s==null?void 0:s.leftChar)!=null?p:"",leftWord:(h=(m=s==null?void 0:s.leftWord)==null?void 0:m.trim())!=null?h:"",originalLeftWord:(v=s==null?void 0:s.leftWord)!=null?v:"",rightWord:(g=s==null?void 0:s.rightWord)!=null?g:"",rightChar:(_=s==null?void 0:s.rightChar)!=null?_:"",context:s,position:t,project:a,nodesInScope:l,isInDoubleBraces:((T=s==null?void 0:s.node)==null?void 0:T.rawStart)=="{{",isInVariableInterpolation:(I=s==null?void 0:s.interpolatedContext)!=null?I:!1,interpolationStartsOn:null,currentNode:(w=s==null?void 0:s.node)!=null?w:null,isCaretInTag:(s==null?void 0:s.node)!=null,isPastTagPart:u};}var ka=K(Cn());var UM=`{{ collection:$1 $2 }}

{{ /collection:$1 }}`,nI=UM;var GM='&copy; {{ now format="Y"  }}',rI=GM;var WM=`{{ form:set in="$1" }}

{{ if {form:errors} }}
	{{ form:errors }}

	{{ /form:errors }}
{{ /if }}

{{ if {form:success} }}

{{ /if }}

{{ form:create }}
	$2
{{ /form:create }}

{{ /form:set }}`,iI=WM;var sI=`{{# Displays your site's current locale. #}}
<span>{{ site:short_locale }}</span>

{{# Displays all available locales. #}}
<ul>
    {{ locales all="true" self="false" }}
    <li>
        <a href="{{ permalink }}" aria-label="{{ locale:name }}">{{ locale:short }}</a>
    </li>    
    {{ /locales }}
</ul>`;var HM=`<ul>
{{ nav }}
	{{ if depth == 1 }}
		$1
		{{ if children }}
			<ul>{{ *recursive children* }}</ul>
		{{ /if }}
	{{ elseif depth == 2 }}
		
	{{ /if }}
{{ /nav }}
</ul>`,oI=HM;function ql(t,e,n,r){return{label:t,detail:e,insertTextFormat:ka.InsertTextFormat.Snippet,kind:ka.CompletionItemKind.Snippet,textEdit:ka.TextEdit.replace(r,n),command:{title:"Suggest",command:"editor.action.triggerSuggest"}};}function YM(t){var l,u,f,c,d;let e=[],n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position},r=(l=$n.instance)==null?void 0:l.getContent("collection"),i=(u=$n.instance)==null?void 0:u.getContent("formset"),s=(f=$n.instance)==null?void 0:f.getContent("nav_depth2"),o=(c=$n.instance)==null?void 0:c.getContent("copyright_year"),a=(d=$n.instance)==null?void 0:d.getContent("multisite_lang_generic");return r!=null&&e.push(ql("coll","Statamic Collection",r,n)),i!=null&&e.push(ql("formset","Statamic Form Set",i,n)),s!=null&&e.push(ql("nav-depth2","Statamic Nav with Depth Two",s,n)),o!=null&&e.push(ql("copyright_year","Copyright year using Antlers tags.",o,n)),a!=null&&e.push(ql("multisite_locales","Displays the current locale, and a list of all available locales.",a,n)),e;}var $n=class{constructor(){this.registeredSnippets=new Map;}loadCoreSnippets(){this.registeredSnippets.set("collection",nI),this.registeredSnippets.set("formset",iI),this.registeredSnippets.set("nav_depth2",oI),this.registeredSnippets.set("copyright_year",rI),this.registeredSnippets.set("multisite_lang_generic",sI);}getContent(e){return this.registeredSnippets.has(e)?this.registeredSnippets.get(e):"";}getSnippets(e){let n=[];return e==null||(n=n.concat(YM(e))),n;}};$n.instance=null;(typeof $n.instance=="undefined"||$n.instance==null)&&($n.instance=new $n,$n.instance.loadCoreSnippets());var aI=$n;var lI=new Map;function uI(t){var o,a,l;if(((o=fe.instance)==null?void 0:o.hasStructure())==!1)return[];Ae.refreshDocumentState();let e=decodeURIComponent(t.textDocument.uri);if(Ae.hasDocument(e)==!1)return[];let n=dr(t.position,e);if(n==null)return[];if(n.hasFrontMatter&&n.frontMatterEndsOn>-1&&n.position.line<n.frontMatterEndsOn)return[];let r=(l=(a=aI.instance)==null?void 0:a.getSnippets(n))!=null?l:[],i=kd.getSuggestions(n);r.length>0&&(n.isInDoubleBraces==!1||n.nodesInScope.length==0)&&(i=i.concat(r));let s=[];return i.filter(u=>s.includes(u.label)?!1:(s.push(u.label),!0));}function cI(t){if(lI.has(t.data)){let e=lI.get(t.data);e!=null&&(t.detail=e.detail,t.documentation=e.docs);}return t;}var Vl=K(qp());var $m=K(rt());function Rf(t){let e=[];return t.forEach(n=>{let r=null;n.node!=null?r=mo(n.node):n.range!=null?r={start:rn(n.range.start),end:rn(n.range.end)}:r={start:{line:1,character:1},end:{line:1,character:1}};let i=1;n.level==1&&(i=2),e.push({severity:i,range:r,message:"["+n.errorCode+"] "+n.message,source:"antlers"});}),e;}function rn(t){return t==null?{character:0,line:0}:{character:t.char,line:t.line-1};}function mo(t){var e,n,r,i,s,o,a,l;if(t instanceof Ws){let u=rn((i=(r=(e=t.valuePosition)==null?void 0:e.end)!=null?r:(n=t.blockPosition)==null?void 0:n.end)!=null?i:t.endPosition);return{start:rn((l=(a=(s=t.namePosition)==null?void 0:s.start)!=null?a:(o=t.blockPosition)==null?void 0:o.start)!=null?l:t.startPosition),end:{character:u.character+1,line:u.line}};}return{start:rn(t.startPosition),end:rn(t.endPosition)};}function fI(t){if(t.isClosedBy==null)return null;let e=-1,n=-1,r=-1,i=-1;return t.startPosition!=null&&(e=t.startPosition.line-1,n=t.startPosition.char),t.isClosedBy.endPosition!=null?(r=t.isClosedBy.endPosition.char,i=t.isClosedBy.endPosition.line-1):t.isClosedBy.startPosition!=null&&(r=t.isClosedBy.startPosition.char,i=t.isClosedBy.startPosition.line-1),e==-1||i==-1||n==-1||r==-1?null:{kind:$m.FoldingRangeKind.Region,startLine:e,endLine:i,startCharacter:n,endCharacter:r};}function zm(t){let e=-1,n=-1,r=-1,i=-1;return t.startPosition!=null&&(e=t.startPosition.line-1,n=t.startPosition.char),t.endPosition!=null&&(r=t.endPosition.char,i=t.endPosition.line-1),e==-1||n==-1||r==-1||i==-1?null:{kind:$m.FoldingRangeKind.Comment,startLine:e,endLine:i,startCharacter:n,endCharacter:r};}function pI(t){let e=decodeURIComponent(t.textDocument.uri);if(Ae.hasDocument(e)){let n=Ae.getDocument(e),r=n.ranges.getAllPairedNodes(),i=n.nodes.getMultiLineComments(),s=n.nodes.getMultilineNodes(),o=[];if(n.hasFrontMatter()){let a=n.getDocumentParser().getFrontMatterEndLine();o.push({startLine:0,endLine:a-1,kind:Vl.FoldingRangeKind.Imports});}return r.length>0&&r.forEach(a=>{var u,f,c;if(((u=a.startPosition)==null?void 0:u.line)==((c=(f=a.isClosedBy)==null?void 0:f.startPosition)==null?void 0:c.line))return;let l=fI(a);l!=null&&(l.kind=Vl.FoldingRangeKind.Region,o.push(l));}),i.length>0&&i.forEach(a=>{let l=zm(a);l!=null&&(l.kind=Vl.FoldingRangeKind.Comment,o.push(l));}),s.length>0&&s.forEach(a=>{if(a.isClosedBy!=null)return;let l=zm(a);l!=null&&(l.kind=Vl.FoldingRangeKind.Region,o.push(l));}),o;}return[];}var KM={checkDocument(t){let e=[];return t.hasFrontMatter()&&t.getContent().trim().length==0&&e.push(M.makeSyntaxError(S.LINT_FRONT_MATTER_EMPTY_DOCUMENT,null,'Empty document content with Front Matter will result in "[ErrorException] Undefined index: content".')),e;}},dI=KM;function mI(t){return typeof t=="undefined"||t===null;}function $M(t){return typeof t=="object"&&t!==null;}function zM(t){return Array.isArray(t)?t:mI(t)?[]:[t];}function XM(t,e){var n,r,i,s;if(e)for(s=Object.keys(e),n=0,r=s.length;n<r;n+=1)i=s[n],t[i]=e[i];return t;}function QM(t,e){var n="",r;for(r=0;r<e;r+=1)n+=t;return n;}function JM(t){return t===0&&Number.NEGATIVE_INFINITY===1/t;}var ZM=mI,e1=$M,t1=zM,n1=QM,r1=JM,i1=XM,Bt={isNothing:ZM,isObject:e1,toArray:t1,repeat:n1,isNegativeZero:r1,extend:i1};function hI(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),r+" "+n):r;}function Bl(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=hI(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"";}Bl.prototype=Object.create(Error.prototype);Bl.prototype.constructor=Bl;Bl.prototype.toString=function(e){return this.name+": "+hI(this,e);};var In=Bl;function Xm(t,e,n,r,i){var s="",o="",a=Math.floor(i/2)-1;return r-e>a&&(s=" ... ",e=r-a+s.length),n-r>a&&(o=" ...",n=r+a-o.length),{str:s+t.slice(e,n).replace(/\t/g,"\u2192")+o,pos:r-e+s.length};}function Qm(t,e){return Bt.repeat(" ",e-t.length)+t;}function s1(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],s,o=-1;s=n.exec(t.buffer);)i.push(s.index),r.push(s.index+s[0].length),t.position<=s.index&&o<0&&(o=r.length-2);o<0&&(o=r.length-1);var a="",l,u,f=Math.min(t.line+e.linesAfter,i.length).toString().length,c=e.maxLength-(e.indent+f+3);for(l=1;l<=e.linesBefore&&!(o-l<0);l++)u=Xm(t.buffer,r[o-l],i[o-l],t.position-(r[o]-r[o-l]),c),a=Bt.repeat(" ",e.indent)+Qm((t.line-l+1).toString(),f)+" | "+u.str+`
`+a;for(u=Xm(t.buffer,r[o],i[o],t.position,c),a+=Bt.repeat(" ",e.indent)+Qm((t.line+1).toString(),f)+" | "+u.str+`
`,a+=Bt.repeat("-",e.indent+f+3+u.pos)+`^
`,l=1;l<=e.linesAfter&&!(o+l>=i.length);l++)u=Xm(t.buffer,r[o+l],i[o+l],t.position-(r[o]-r[o+l]),c),a+=Bt.repeat(" ",e.indent)+Qm((t.line+l+1).toString(),f)+" | "+u.str+`
`;return a.replace(/\n$/,"");}var o1=s1,a1=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],l1=["scalar","sequence","mapping"];function u1(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(r){e[String(r)]=n;});}),e;}function c1(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(a1.indexOf(n)===-1)throw new In('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.');}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0;},this.construct=e.construct||function(n){return n;},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=u1(e.styleAliases||null),l1.indexOf(this.kind)===-1)throw new In('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.');}var cn=c1;function gI(t,e){var n=[];return t[e].forEach(function(r){var i=n.length;n.forEach(function(s,o){s.tag===r.tag&&s.kind===r.kind&&s.multi===r.multi&&(i=o);}),n[i]=r;}),n;}function f1(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function r(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i;}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(r);return t;}function Jm(t){return this.extend(t);}Jm.prototype.extend=function(e){var n=[],r=[];if(e instanceof cn)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new In("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof cn))throw new In("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new In("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new In("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.");}),r.forEach(function(s){if(!(s instanceof cn))throw new In("Specified list of YAML types (or a single Type object) contains a non-Type object.");});var i=Object.create(Jm.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=gI(i,"implicit"),i.compiledExplicit=gI(i,"explicit"),i.compiledTypeMap=f1(i.compiledImplicit,i.compiledExplicit),i;};var p1=Jm,d1=new cn("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:"";}}),m1=new cn("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[];}}),h1=new cn("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{};}}),g1=new p1({explicit:[d1,m1,h1]});function _1(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL");}function y1(){return null;}function T1(t){return t===null;}var b1=new cn("tag:yaml.org,2002:null",{kind:"scalar",resolve:_1,construct:y1,predicate:T1,represent:{canonical:function(){return"~";},lowercase:function(){return"null";},uppercase:function(){return"NULL";},camelcase:function(){return"Null";},empty:function(){return"";}},defaultStyle:"lowercase"});function v1(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE");}function N1(t){return t==="true"||t==="True"||t==="TRUE";}function P1(t){return Object.prototype.toString.call(t)==="[object Boolean]";}var I1=new cn("tag:yaml.org,2002:bool",{kind:"scalar",resolve:v1,construct:N1,predicate:P1,represent:{lowercase:function(t){return t?"true":"false";},uppercase:function(t){return t?"TRUE":"FALSE";},camelcase:function(t){return t?"True":"False";}},defaultStyle:"lowercase"});function S1(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102;}function R1(t){return 48<=t&&t<=55;}function C1(t){return 48<=t&&t<=57;}function x1(t){if(t===null)return!1;var e=t.length,n=0,r=!1,i;if(!e)return!1;if(i=t[n],(i==="-"||i==="+")&&(i=t[++n]),i==="0"){if(n+1===e)return!0;if(i=t[++n],i==="b"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0;}return r&&i!=="_";}if(i==="x"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!S1(t.charCodeAt(n)))return!1;r=!0;}return r&&i!=="_";}if(i==="o"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!R1(t.charCodeAt(n)))return!1;r=!0;}return r&&i!=="_";}}if(i==="_")return!1;for(;n<e;n++)if(i=t[n],i!=="_"){if(!C1(t.charCodeAt(n)))return!1;r=!0;}return!(!r||i==="_");}function A1(t){var e=t,n=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8);}return n*parseInt(e,10);}function E1(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Bt.isNegativeZero(t);}var w1=new cn("tag:yaml.org,2002:int",{kind:"scalar",resolve:x1,construct:A1,predicate:E1,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1);},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1);},decimal:function(t){return t.toString(10);},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1);}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),O1=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function L1(t){return!(t===null||!O1.test(t)||t[t.length-1]==="_");}function D1(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10);}var M1=/^[-+]?[0-9]+e/;function k1(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN";}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf";}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf";}else if(Bt.isNegativeZero(t))return"-0.0";return n=t.toString(10),M1.test(n)?n.replace("e",".e"):n;}function F1(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Bt.isNegativeZero(t));}var q1=new cn("tag:yaml.org,2002:float",{kind:"scalar",resolve:L1,construct:D1,predicate:F1,represent:k1,defaultStyle:"lowercase"}),V1=g1.extend({implicit:[b1,I1,w1,q1]}),B1=V1,_I=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),yI=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function j1(t){return t===null?!1:_I.exec(t)!==null||yI.exec(t)!==null;}function U1(t){var e,n,r,i,s,o,a,l=0,u=null,f,c,d;if(e=_I.exec(t),e===null&&(e=yI.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(s=+e[4],o=+e[5],a=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l;}return e[9]&&(f=+e[10],c=+(e[11]||0),u=(f*60+c)*6e4,e[9]==="-"&&(u=-u)),d=new Date(Date.UTC(n,r,i,s,o,a,l)),u&&d.setTime(d.getTime()-u),d;}function G1(t){return t.toISOString();}var W1=new cn("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:j1,construct:U1,instanceOf:Date,represent:G1});function H1(t){return t==="<<"||t===null;}var Y1=new cn("tag:yaml.org,2002:merge",{kind:"scalar",resolve:H1}),Zm=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function K1(t){if(t===null)return!1;var e,n,r=0,i=t.length,s=Zm;for(n=0;n<i;n++)if(e=s.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;r+=6;}return r%8===0;}function $1(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,s=Zm,o=0,a=[];for(e=0;e<i;e++)e%4===0&&e&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(r.charAt(e));return n=i%4*6,n===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):n===18?(a.push(o>>10&255),a.push(o>>2&255)):n===12&&a.push(o>>4&255),new Uint8Array(a);}function z1(t){var e="",n=0,r,i,s=t.length,o=Zm;for(r=0;r<s;r++)r%3===0&&r&&(e+=o[n>>18&63],e+=o[n>>12&63],e+=o[n>>6&63],e+=o[n&63]),n=(n<<8)+t[r];return i=s%3,i===0?(e+=o[n>>18&63],e+=o[n>>12&63],e+=o[n>>6&63],e+=o[n&63]):i===2?(e+=o[n>>10&63],e+=o[n>>4&63],e+=o[n<<2&63],e+=o[64]):i===1&&(e+=o[n>>2&63],e+=o[n<<4&63],e+=o[64],e+=o[64]),e;}function X1(t){return Object.prototype.toString.call(t)==="[object Uint8Array]";}var Q1=new cn("tag:yaml.org,2002:binary",{kind:"scalar",resolve:K1,construct:$1,predicate:X1,represent:z1}),J1=Object.prototype.hasOwnProperty,Z1=Object.prototype.toString;function ek(t){if(t===null)return!0;var e=[],n,r,i,s,o,a=t;for(n=0,r=a.length;n<r;n+=1){if(i=a[n],o=!1,Z1.call(i)!=="[object Object]")return!1;for(s in i)if(J1.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1;}return!0;}function tk(t){return t!==null?t:[];}var nk=new cn("tag:yaml.org,2002:omap",{kind:"sequence",resolve:ek,construct:tk}),rk=Object.prototype.toString;function ik(t){if(t===null)return!0;var e,n,r,i,s,o=t;for(s=new Array(o.length),e=0,n=o.length;e<n;e+=1){if(r=o[e],rk.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;s[e]=[i[0],r[i[0]]];}return!0;}function sk(t){if(t===null)return[];var e,n,r,i,s,o=t;for(s=new Array(o.length),e=0,n=o.length;e<n;e+=1)r=o[e],i=Object.keys(r),s[e]=[i[0],r[i[0]]];return s;}var ok=new cn("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:ik,construct:sk}),ak=Object.prototype.hasOwnProperty;function lk(t){if(t===null)return!0;var e,n=t;for(e in n)if(ak.call(n,e)&&n[e]!==null)return!1;return!0;}function uk(t){return t!==null?t:{};}var ck=new cn("tag:yaml.org,2002:set",{kind:"mapping",resolve:lk,construct:uk}),TI=B1.extend({implicit:[W1,Y1],explicit:[Q1,nk,ok,ck]}),Is=Object.prototype.hasOwnProperty,Cf=1,bI=2,vI=3,xf=4,eh=1,fk=2,NI=3,pk=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,dk=/[\x85\u2028\u2029]/,mk=/[,\[\]\{\}]/,PI=/^(?:!|!!|![a-z\-]+!)$/i,II=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function SI(t){return Object.prototype.toString.call(t);}function gi(t){return t===10||t===13;}function ho(t){return t===9||t===32;}function Ln(t){return t===9||t===32||t===10||t===13;}function Fa(t){return t===44||t===91||t===93||t===123||t===125;}function hk(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1);}function gk(t){return t===120?2:t===117?4:t===85?8:0;}function _k(t){return 48<=t&&t<=57?t-48:-1;}function RI(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":"";}function yk(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320);}var CI=new Array(256),xI=new Array(256);for(go=0;go<256;go++)CI[go]=RI(go)?1:0,xI[go]=RI(go);var go;function Tk(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||TI,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[];}function AI(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=o1(n),new In(e,n);}function oe(t,e){throw AI(t,e);}function Af(t,e){t.onWarning&&t.onWarning.call(null,AI(t,e));}var EI={YAML:function(e,n,r){var i,s,o;e.version!==null&&oe(e,"duplication of %YAML directive"),r.length!==1&&oe(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&oe(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&oe(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&Af(e,"unsupported YAML version of the document");},TAG:function(e,n,r){var i,s;r.length!==2&&oe(e,"TAG directive accepts exactly two arguments"),i=r[0],s=r[1],PI.test(i)||oe(e,"ill-formed tag handle (first argument) of the TAG directive"),Is.call(e.tagMap,i)&&oe(e,'there is a previously declared suffix for "'+i+'" tag handle'),II.test(s)||oe(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s);}catch{oe(e,"tag prefix is malformed: "+s);}e.tagMap[i]=s;}};function Ss(t,e,n,r){var i,s,o,a;if(e<n){if(a=t.input.slice(e,n),r)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||oe(t,"expected valid JSON character");else pk.test(a)&&oe(t,"the stream contains non-printable characters");t.result+=a;}}function wI(t,e,n,r){var i,s,o,a;for(Bt.isObject(n)||oe(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),o=0,a=i.length;o<a;o+=1)s=i[o],Is.call(e,s)||(e[s]=n[s],r[s]=!0);}function qa(t,e,n,r,i,s,o,a,l){var u,f;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,f=i.length;u<f;u+=1)Array.isArray(i[u])&&oe(t,"nested arrays are not supported inside keys"),typeof i=="object"&&SI(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&SI(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,f=s.length;u<f;u+=1)wI(t,e,s[u],n);else wI(t,e,s,n);else!t.json&&!Is.call(n,i)&&Is.call(e,i)&&(t.line=o||t.line,t.lineStart=a||t.lineStart,t.position=l||t.position,oe(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[i]=s,delete n[i];return e;}function th(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):oe(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1;}function wt(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);i!==0;){for(;ho(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(gi(i))for(th(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break;}return n!==-1&&r!==0&&t.lineIndent<n&&Af(t,"deficient indentation"),r;}function Ef(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||Ln(n)));}function nh(t,e){e===1?t.result+=" ":e>1&&(t.result+=Bt.repeat(`
`,e-1));}function bk(t,e,n){var r,i,s,o,a,l,u,f,c=t.kind,d=t.result,p;if(p=t.input.charCodeAt(t.position),Ln(p)||Fa(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=t.input.charCodeAt(t.position+1),Ln(i)||n&&Fa(i)))return!1;for(t.kind="scalar",t.result="",s=o=t.position,a=!1;p!==0;){if(p===58){if(i=t.input.charCodeAt(t.position+1),Ln(i)||n&&Fa(i))break;}else if(p===35){if(r=t.input.charCodeAt(t.position-1),Ln(r))break;}else{if(t.position===t.lineStart&&Ef(t)||n&&Fa(p))break;if(gi(p))if(l=t.line,u=t.lineStart,f=t.lineIndent,wt(t,!1,-1),t.lineIndent>=e){a=!0,p=t.input.charCodeAt(t.position);continue;}else{t.position=o,t.line=l,t.lineStart=u,t.lineIndent=f;break;}}a&&(Ss(t,s,o,!1),nh(t,t.line-l),s=o=t.position,a=!1),ho(p)||(o=t.position+1),p=t.input.charCodeAt(++t.position);}return Ss(t,s,o,!1),t.result?!0:(t.kind=c,t.result=d,!1);}function vk(t,e){var n,r,i;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(Ss(t,r,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)r=t.position,t.position++,i=t.position;else return!0;else gi(n)?(Ss(t,r,i,!0),nh(t,wt(t,!1,e)),r=i=t.position):t.position===t.lineStart&&Ef(t)?oe(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);oe(t,"unexpected end of the stream within a single quoted scalar");}function Nk(t,e){var n,r,i,s,o,a;if(a=t.input.charCodeAt(t.position),a!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;(a=t.input.charCodeAt(t.position))!==0;){if(a===34)return Ss(t,n,t.position,!0),t.position++,!0;if(a===92){if(Ss(t,n,t.position,!0),a=t.input.charCodeAt(++t.position),gi(a))wt(t,!1,e);else if(a<256&&CI[a])t.result+=xI[a],t.position++;else if((o=gk(a))>0){for(i=o,s=0;i>0;i--)a=t.input.charCodeAt(++t.position),(o=hk(a))>=0?s=(s<<4)+o:oe(t,"expected hexadecimal character");t.result+=yk(s),t.position++;}else oe(t,"unknown escape sequence");n=r=t.position;}else gi(a)?(Ss(t,n,r,!0),nh(t,wt(t,!1,e)),n=r=t.position):t.position===t.lineStart&&Ef(t)?oe(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position);}oe(t,"unexpected end of the stream within a double quoted scalar");}function Pk(t,e){var n=!0,r,i,s,o=t.tag,a,l=t.anchor,u,f,c,d,p,m=Object.create(null),h,v,g,_;if(_=t.input.charCodeAt(t.position),_===91)f=93,p=!1,a=[];else if(_===123)f=125,p=!0,a={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),_=t.input.charCodeAt(++t.position);_!==0;){if(wt(t,!0,e),_=t.input.charCodeAt(t.position),_===f)return t.position++,t.tag=o,t.anchor=l,t.kind=p?"mapping":"sequence",t.result=a,!0;n?_===44&&oe(t,"expected the node content, but found ','"):oe(t,"missed comma between flow collection entries"),v=h=g=null,c=d=!1,_===63&&(u=t.input.charCodeAt(t.position+1),Ln(u)&&(c=d=!0,t.position++,wt(t,!0,e))),r=t.line,i=t.lineStart,s=t.position,Va(t,e,Cf,!1,!0),v=t.tag,h=t.result,wt(t,!0,e),_=t.input.charCodeAt(t.position),(d||t.line===r)&&_===58&&(c=!0,_=t.input.charCodeAt(++t.position),wt(t,!0,e),Va(t,e,Cf,!1,!0),g=t.result),p?qa(t,a,m,v,h,g,r,i,s):c?a.push(qa(t,null,m,v,h,g,r,i,s)):a.push(h),wt(t,!0,e),_=t.input.charCodeAt(t.position),_===44?(n=!0,_=t.input.charCodeAt(++t.position)):n=!1;}oe(t,"unexpected end of the stream within a flow collection");}function Ik(t,e){var n,r,i=eh,s=!1,o=!1,a=e,l=0,u=!1,f,c;if(c=t.input.charCodeAt(t.position),c===124)r=!1;else if(c===62)r=!0;else return!1;for(t.kind="scalar",t.result="";c!==0;)if(c=t.input.charCodeAt(++t.position),c===43||c===45)eh===i?i=c===43?NI:fk:oe(t,"repeat of a chomping mode identifier");else if((f=_k(c))>=0)f===0?oe(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?oe(t,"repeat of an indentation width identifier"):(a=e+f-1,o=!0);else break;if(ho(c)){do c=t.input.charCodeAt(++t.position);while(ho(c));if(c===35)do c=t.input.charCodeAt(++t.position);while(!gi(c)&&c!==0);}for(;c!==0;){for(th(t),t.lineIndent=0,c=t.input.charCodeAt(t.position);(!o||t.lineIndent<a)&&c===32;)t.lineIndent++,c=t.input.charCodeAt(++t.position);if(!o&&t.lineIndent>a&&(a=t.lineIndent),gi(c)){l++;continue;}if(t.lineIndent<a){i===NI?t.result+=Bt.repeat(`
`,s?1+l:l):i===eh&&s&&(t.result+=`
`);break;}for(r?ho(c)?(u=!0,t.result+=Bt.repeat(`
`,s?1+l:l)):u?(u=!1,t.result+=Bt.repeat(`
`,l+1)):l===0?s&&(t.result+=" "):t.result+=Bt.repeat(`
`,l):t.result+=Bt.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,n=t.position;!gi(c)&&c!==0;)c=t.input.charCodeAt(++t.position);Ss(t,n,t.position,!1);}return!0;}function OI(t,e){var n,r=t.tag,i=t.anchor,s=[],o,a=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,oe(t,"tab characters must not be used in indentation")),!(l!==45||(o=t.input.charCodeAt(t.position+1),!Ln(o))));){if(a=!0,t.position++,wt(t,!0,-1)&&t.lineIndent<=e){s.push(null),l=t.input.charCodeAt(t.position);continue;}if(n=t.line,Va(t,e,vI,!1,!0),s.push(t.result),wt(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&l!==0)oe(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break;}return a?(t.tag=r,t.anchor=i,t.kind="sequence",t.result=s,!0):!1;}function Sk(t,e,n){var r,i,s,o,a,l,u=t.tag,f=t.anchor,c={},d=Object.create(null),p=null,m=null,h=null,v=!1,g=!1,_;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=c),_=t.input.charCodeAt(t.position);_!==0;){if(!v&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,oe(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),s=t.line,(_===63||_===58)&&Ln(r))_===63?(v&&(qa(t,c,d,p,m,null,o,a,l),p=m=h=null),g=!0,v=!0,i=!0):v?(v=!1,i=!0):oe(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,_=r;else{if(o=t.line,a=t.lineStart,l=t.position,!Va(t,n,bI,!1,!0))break;if(t.line===s){for(_=t.input.charCodeAt(t.position);ho(_);)_=t.input.charCodeAt(++t.position);if(_===58)_=t.input.charCodeAt(++t.position),Ln(_)||oe(t,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(qa(t,c,d,p,m,null,o,a,l),p=m=h=null),g=!0,v=!1,i=!1,p=t.tag,m=t.result;else if(g)oe(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=u,t.anchor=f,!0;}else if(g)oe(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=u,t.anchor=f,!0;}if((t.line===s||t.lineIndent>e)&&(v&&(o=t.line,a=t.lineStart,l=t.position),Va(t,e,xf,!0,i)&&(v?m=t.result:h=t.result),v||(qa(t,c,d,p,m,h,o,a,l),p=m=h=null),wt(t,!0,-1),_=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&_!==0)oe(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break;}return v&&qa(t,c,d,p,m,null,o,a,l),g&&(t.tag=u,t.anchor=f,t.kind="mapping",t.result=c),g;}function Rk(t){var e,n=!1,r=!1,i,s,o;if(o=t.input.charCodeAt(t.position),o!==33)return!1;if(t.tag!==null&&oe(t,"duplication of a tag property"),o=t.input.charCodeAt(++t.position),o===60?(n=!0,o=t.input.charCodeAt(++t.position)):o===33?(r=!0,i="!!",o=t.input.charCodeAt(++t.position)):i="!",e=t.position,n){do o=t.input.charCodeAt(++t.position);while(o!==0&&o!==62);t.position<t.length?(s=t.input.slice(e,t.position),o=t.input.charCodeAt(++t.position)):oe(t,"unexpected end of the stream within a verbatim tag");}else{for(;o!==0&&!Ln(o);)o===33&&(r?oe(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),PI.test(i)||oe(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),o=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),mk.test(s)&&oe(t,"tag suffix cannot contain flow indicator characters");}s&&!II.test(s)&&oe(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s);}catch{oe(t,"tag name is malformed: "+s);}return n?t.tag=s:Is.call(t.tagMap,i)?t.tag=t.tagMap[i]+s:i==="!"?t.tag="!"+s:i==="!!"?t.tag="tag:yaml.org,2002:"+s:oe(t,'undeclared tag handle "'+i+'"'),!0;}function Ck(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&oe(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!Ln(n)&&!Fa(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&oe(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0;}function xk(t){var e,n,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!Ln(r)&&!Fa(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&oe(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),Is.call(t.anchorMap,n)||oe(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],wt(t,!0,-1),!0;}function Va(t,e,n,r,i){var s,o,a,l=1,u=!1,f=!1,c,d,p,m,h,v;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=o=a=xf===n||vI===n,r&&wt(t,!0,-1)&&(u=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;Rk(t)||Ck(t);)wt(t,!0,-1)?(u=!0,a=s,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):a=!1;if(a&&(a=u||i),(l===1||xf===n)&&(Cf===n||bI===n?h=e:h=e+1,v=t.position-t.lineStart,l===1?a&&(OI(t,v)||Sk(t,v,h))||Pk(t,h)?f=!0:(o&&Ik(t,h)||vk(t,h)||Nk(t,h)?f=!0:xk(t)?(f=!0,(t.tag!==null||t.anchor!==null)&&oe(t,"alias node should not have any properties")):bk(t,h,Cf===n)&&(f=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(f=a&&OI(t,v))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&oe(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),c=0,d=t.implicitTypes.length;c<d;c+=1)if(m=t.implicitTypes[c],m.resolve(t.result)){t.result=m.construct(t.result),t.tag=m.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break;}}else if(t.tag!=="!"){if(Is.call(t.typeMap[t.kind||"fallback"],t.tag))m=t.typeMap[t.kind||"fallback"][t.tag];else for(m=null,p=t.typeMap.multi[t.kind||"fallback"],c=0,d=p.length;c<d;c+=1)if(t.tag.slice(0,p[c].tag.length)===p[c].tag){m=p[c];break;}m||oe(t,"unknown tag !<"+t.tag+">"),t.result!==null&&m.kind!==t.kind&&oe(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+m.kind+'", not "'+t.kind+'"'),m.resolve(t.result,t.tag)?(t.result=m.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):oe(t,"cannot resolve a node with !<"+t.tag+"> explicit tag");}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||f;}function Ak(t){var e=t.position,n,r,i,s=!1,o;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(o=t.input.charCodeAt(t.position))!==0&&(wt(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||o!==37));){for(s=!0,o=t.input.charCodeAt(++t.position),n=t.position;o!==0&&!Ln(o);)o=t.input.charCodeAt(++t.position);for(r=t.input.slice(n,t.position),i=[],r.length<1&&oe(t,"directive name must not be less than one character in length");o!==0;){for(;ho(o);)o=t.input.charCodeAt(++t.position);if(o===35){do o=t.input.charCodeAt(++t.position);while(o!==0&&!gi(o));break;}if(gi(o))break;for(n=t.position;o!==0&&!Ln(o);)o=t.input.charCodeAt(++t.position);i.push(t.input.slice(n,t.position));}o!==0&&th(t),Is.call(EI,r)?EI[r](t,r,i):Af(t,'unknown document directive "'+r+'"');}if(wt(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,wt(t,!0,-1)):s&&oe(t,"directives end mark is expected"),Va(t,t.lineIndent-1,xf,!1,!0),wt(t,!0,-1),t.checkLineBreaks&&dk.test(t.input.slice(e,t.position))&&Af(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Ef(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,wt(t,!0,-1));return;}if(t.position<t.length-1)oe(t,"end of the stream or a document separator is expected");else return;}function LI(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new Tk(t,e),r=t.indexOf("\0");for(r!==-1&&(n.position=r,oe(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)Ak(n);return n.documents;}function Ek(t,e,n){e!==null&&typeof e=="object"&&typeof n=="undefined"&&(n=e,e=null);var r=LI(t,n);if(typeof e!="function")return r;for(var i=0,s=r.length;i<s;i+=1)e(r[i]);}function wk(t,e){var n=LI(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new In("expected a single document in the stream, but found more");}}var Ok=Ek,Lk=wk,DI={loadAll:Ok,load:Lk},MI=Object.prototype.toString,kI=Object.prototype.hasOwnProperty,rh=65279,Dk=9,jl=10,Mk=13,kk=32,Fk=33,qk=34,ih=35,Vk=37,Bk=38,jk=39,Uk=42,FI=44,Gk=45,wf=58,Wk=61,Hk=62,Yk=63,Kk=64,qI=91,VI=93,$k=96,BI=123,zk=124,jI=125,fn={};fn[0]="\\0";fn[7]="\\a";fn[8]="\\b";fn[9]="\\t";fn[10]="\\n";fn[11]="\\v";fn[12]="\\f";fn[13]="\\r";fn[27]="\\e";fn[34]='\\"';fn[92]="\\\\";fn[133]="\\N";fn[160]="\\_";fn[8232]="\\L";fn[8233]="\\P";var Xk=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Qk=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Jk(t,e){var n,r,i,s,o,a,l;if(e===null)return{};for(n={},r=Object.keys(e),i=0,s=r.length;i<s;i+=1)o=r[i],a=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=t.compiledTypeMap.fallback[o],l&&kI.call(l.styleAliases,a)&&(a=l.styleAliases[a]),n[o]=a;return n;}function Zk(t){var e,n,r;if(e=t.toString(16).toUpperCase(),t<=255)n="x",r=2;else if(t<=65535)n="u",r=4;else if(t<=4294967295)n="U",r=8;else throw new In("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+Bt.repeat("0",r-e.length)+e;}var eF=1,Ul=2;function tF(t){this.schema=t.schema||TI,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=Bt.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=Jk(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?Ul:eF,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null;}function UI(t,e){for(var n=Bt.repeat(" ",e),r=0,i=-1,s="",o,a=t.length;r<a;)i=t.indexOf(`
`,r),i===-1?(o=t.slice(r),r=a):(o=t.slice(r,i+1),r=i+1),o.length&&o!==`
`&&(s+=n),s+=o;return s;}function sh(t,e){return`
`+Bt.repeat(" ",t.indent*e);}function nF(t,e){var n,r,i;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(i=t.implicitTypes[n],i.resolve(e))return!0;return!1;}function Of(t){return t===kk||t===Dk;}function Gl(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==rh||65536<=t&&t<=1114111;}function GI(t){return Gl(t)&&t!==rh&&t!==Mk&&t!==jl;}function WI(t,e,n){var r=GI(t),i=r&&!Of(t);return(n?r:r&&t!==FI&&t!==qI&&t!==VI&&t!==BI&&t!==jI)&&t!==ih&&!(e===wf&&!i)||GI(e)&&!Of(e)&&t===ih||e===wf&&i;}function rF(t){return Gl(t)&&t!==rh&&!Of(t)&&t!==Gk&&t!==Yk&&t!==wf&&t!==FI&&t!==qI&&t!==VI&&t!==BI&&t!==jI&&t!==ih&&t!==Bk&&t!==Uk&&t!==Fk&&t!==zk&&t!==Wk&&t!==Hk&&t!==jk&&t!==qk&&t!==Vk&&t!==Kk&&t!==$k;}function iF(t){return!Of(t)&&t!==wf;}function Wl(t,e){var n=t.charCodeAt(e),r;return n>=55296&&n<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n;}function HI(t){var e=/^\n* /;return e.test(t);}var YI=1,oh=2,KI=3,$I=4,Ba=5;function sF(t,e,n,r,i,s,o,a){var l,u=0,f=null,c=!1,d=!1,p=r!==-1,m=-1,h=rF(Wl(t,0))&&iF(Wl(t,t.length-1));if(e||o)for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=Wl(t,l),!Gl(u))return Ba;h=h&&WI(u,f,a),f=u;}else{for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=Wl(t,l),u===jl)c=!0,p&&(d=d||l-m-1>r&&t[m+1]!==" ",m=l);else if(!Gl(u))return Ba;h=h&&WI(u,f,a),f=u;}d=d||p&&l-m-1>r&&t[m+1]!==" ";}return!c&&!d?h&&!o&&!i(t)?YI:s===Ul?Ba:oh:n>9&&HI(t)?Ba:o?s===Ul?Ba:oh:d?$I:KI;}function oF(t,e,n,r,i){t.dump=function(){if(e.length===0)return t.quotingType===Ul?'""':"''";if(!t.noCompatMode&&(Xk.indexOf(e)!==-1||Qk.test(e)))return t.quotingType===Ul?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,n),o=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),a=r||t.flowLevel>-1&&n>=t.flowLevel;function l(u){return nF(t,u);}switch(sF(e,a,t.indent,o,l,t.quotingType,t.forceQuotes&&!r,i)){case YI:return e;case oh:return"'"+e.replace(/'/g,"''")+"'";case KI:return"|"+zI(e,t.indent)+XI(UI(e,s));case $I:return">"+zI(e,t.indent)+XI(UI(aF(e,o),s));case Ba:return'"'+lF(e)+'"';default:throw new In("impossible error: invalid scalar style");}}();}function zI(t,e){var n=HI(t)?String(e):"",r=t[t.length-1]===`
`,i=r&&(t[t.length-2]===`
`||t===`
`),s=i?"+":r?"":"-";return n+s+`
`;}function XI(t){return t[t.length-1]===`
`?t.slice(0,-1):t;}function aF(t,e){for(var n=/(\n+)([^\n]*)/g,r=function(){var u=t.indexOf(`
`);return u=u!==-1?u:t.length,n.lastIndex=u,QI(t.slice(0,u),e);}(),i=t[0]===`
`||t[0]===" ",s,o;o=n.exec(t);){var a=o[1],l=o[2];s=l[0]===" ",r+=a+(!i&&!s&&l!==""?`
`:"")+QI(l,e),i=s;}return r;}function QI(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,r,i=0,s,o=0,a=0,l="";r=n.exec(t);)a=r.index,a-i>e&&(s=o>i?o:a,l+=`
`+t.slice(i,s),i=s+1),o=a;return l+=`
`,t.length-i>e&&o>i?l+=t.slice(i,o)+`
`+t.slice(o+1):l+=t.slice(i),l.slice(1);}function lF(t){for(var e="",n=0,r,i=0;i<t.length;n>=65536?i+=2:i++)n=Wl(t,i),r=fn[n],!r&&Gl(n)?(e+=t[i],n>=65536&&(e+=t[i+1])):e+=r||Zk(n);return e;}function uF(t,e,n){var r="",i=t.tag,s,o,a;for(s=0,o=n.length;s<o;s+=1)a=n[s],t.replacer&&(a=t.replacer.call(n,String(s),a)),(Gi(t,e,a,!1,!1)||typeof a=="undefined"&&Gi(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=i,t.dump="["+r+"]";}function JI(t,e,n,r){var i="",s=t.tag,o,a,l;for(o=0,a=n.length;o<a;o+=1)l=n[o],t.replacer&&(l=t.replacer.call(n,String(o),l)),(Gi(t,e+1,l,!0,!0,!1,!0)||typeof l=="undefined"&&Gi(t,e+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=sh(t,e)),t.dump&&jl===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=s,t.dump=i||"[]";}function cF(t,e,n){var r="",i=t.tag,s=Object.keys(n),o,a,l,u,f;for(o=0,a=s.length;o<a;o+=1)f="",r!==""&&(f+=", "),t.condenseFlow&&(f+='"'),l=s[o],u=n[l],t.replacer&&(u=t.replacer.call(n,l,u)),!!Gi(t,e,l,!1,!1)&&(t.dump.length>1024&&(f+="? "),f+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),!!Gi(t,e,u,!1,!1)&&(f+=t.dump,r+=f));t.tag=i,t.dump="{"+r+"}";}function fF(t,e,n,r){var i="",s=t.tag,o=Object.keys(n),a,l,u,f,c,d;if(t.sortKeys===!0)o.sort();else if(typeof t.sortKeys=="function")o.sort(t.sortKeys);else if(t.sortKeys)throw new In("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)d="",(!r||i!=="")&&(d+=sh(t,e)),u=o[a],f=n[u],t.replacer&&(f=t.replacer.call(n,u,f)),!!Gi(t,e+1,u,!0,!0,!0)&&(c=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,c&&(t.dump&&jl===t.dump.charCodeAt(0)?d+="?":d+="? "),d+=t.dump,c&&(d+=sh(t,e)),!!Gi(t,e+1,f,!0,c)&&(t.dump&&jl===t.dump.charCodeAt(0)?d+=":":d+=": ",d+=t.dump,i+=d));t.tag=s,t.dump=i||"{}";}function ZI(t,e,n){var r,i,s,o,a,l;for(i=n?t.explicitTypes:t.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof e=="object"&&e instanceof a.instanceOf)&&(!a.predicate||a.predicate(e))){if(n?a.multi&&a.representName?t.tag=a.representName(e):t.tag=a.tag:t.tag="?",a.represent){if(l=t.styleMap[a.tag]||a.defaultStyle,MI.call(a.represent)==="[object Function]")r=a.represent(e,l);else if(kI.call(a.represent,l))r=a.represent[l](e,l);else throw new In("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');t.dump=r;}return!0;}return!1;}function Gi(t,e,n,r,i,s,o){t.tag=null,t.dump=n,ZI(t,n,!1)||ZI(t,n,!0);var a=MI.call(t.dump),l=r,u;r&&(r=t.flowLevel<0||t.flowLevel>e);var f=a==="[object Object]"||a==="[object Array]",c,d;if(f&&(c=t.duplicates.indexOf(n),d=c!==-1),(t.tag!==null&&t.tag!=="?"||d||t.indent!==2&&e>0)&&(i=!1),d&&t.usedDuplicates[c])t.dump="*ref_"+c;else{if(f&&d&&!t.usedDuplicates[c]&&(t.usedDuplicates[c]=!0),a==="[object Object]")r&&Object.keys(t.dump).length!==0?(fF(t,e,t.dump,i),d&&(t.dump="&ref_"+c+t.dump)):(cF(t,e,t.dump),d&&(t.dump="&ref_"+c+" "+t.dump));else if(a==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!o&&e>0?JI(t,e-1,t.dump,i):JI(t,e,t.dump,i),d&&(t.dump="&ref_"+c+t.dump)):(uF(t,e,t.dump),d&&(t.dump="&ref_"+c+" "+t.dump));else if(a==="[object String]")t.tag!=="?"&&oF(t,t.dump,e,s,l);else{if(a==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new In("unacceptable kind of an object to dump "+a);}t.tag!==null&&t.tag!=="?"&&(u=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",t.dump=u+" "+t.dump);}return!0;}function pF(t,e){var n=[],r=[],i,s;for(ah(t,n,r),i=0,s=r.length;i<s;i+=1)e.duplicates.push(n[r[i]]);e.usedDuplicates=new Array(s);}function ah(t,e,n){var r,i,s;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(e.push(t),Array.isArray(t))for(i=0,s=t.length;i<s;i+=1)ah(t[i],e,n);else for(r=Object.keys(t),i=0,s=r.length;i<s;i+=1)ah(t[r[i]],e,n);}function dF(t,e){e=e||{};var n=new tF(e);n.noRefs||pF(t,n);var r=t;return n.replacer&&(r=n.replacer.call({"":r},"",r)),Gi(n,0,r,!0,!0)?n.dump+`
`:"";}var mF=dF,hF={dump:mF};function lh(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.");};}var Lf=DI.load,Rte=DI.loadAll,eS=hF.dump,tS=In;var Cte=lh("safeLoad","load"),xte=lh("safeLoadAll","loadAll"),Ate=lh("safeDump","dump");function rS(t){let e=t.split(/\r?\n/),n=[];return e.forEach(r=>{let i=r.split("|");if(i.length==1)n.push(r);else if(i.length>1){let s=i[0];if(parseInt(s.trim()).toString()==s.trim()){let o=parseInt(s)+1;i.shift();let a=i.join("|"),l=" ".repeat(s.length-o.toString().length);n.push(l+o.toString()+"|"+a);}else n.push(r);}}),n.join(`
`);}var gF={checkDocument(t){let e=[];if(t.hasFrontMatter()){let n=t.getFrontMatter();try{Lf(n,{onWarning:r=>{let i=new Jt,s=new Jt;i.line=r.mark.line+2,i.char=r.mark.column,s.line=r.mark.line+2,s.char=r.mark.snippet.length+r.mark.column;let o={start:i,end:s},a=new M;a.errorCode=S.LINT_INVALID_FRONT_MATTER,a.level=1,a.message=rS(r.message),a.range=o,e.push(a);}});}catch(r){if(r instanceof tS){let i=new Jt,s=new Jt;i.line=r.mark.line+2,i.char=r.mark.column,s.line=r.mark.line+2,s.char=r.mark.snippet.length+r.mark.column;let o={start:i,end:s},a=new M;a.errorCode=S.LINT_INVALID_FRONT_MATTER,a.level=0,a.message=rS(r.message),a.range=o,e.push(a);}}}return e;}},iS=gF;var sS=[dI,iS];var _F=["dump","dd","ddd"],yF={checkNode(t){let e=t.getTagName(),n=[];return _F.includes(e)&&n.push(M.makeSyntaxError(S.LINT_DEBUG_DATA_EXPOSED,t,e+" exposes data and should be removed after debugging.",1)),t.modifiers.hasModifier("dump")&&n.push(M.makeSyntaxError(S.LINT_DEBUG_DATA_EXPOSED,t,"dump modifier exposes data and should be removed after debugging.",1)),n;}},oS=yF;var TF={checkNode(t){let e=[];return t.runtimeName().includes("::")&&e.push(M.makeSyntaxError(S.LINT_DOUBLE_COLON_IN_TAG_IDENTIFIER,t,":: in tag part leads to ErrorException call_user_func() runtime exception.",1)),e;}},aS=TF;var bF={checkNode(t){let e=[];return t.modifiers!=null&&t.modifiers.hasMixedModifierStyles&&e.push(M.makeSyntaxError(S.LINT_MIXED_MODIFIERS,t,"Mixed modifier styles is not supported",0)),e;}},lS=bF;var vF={checkNode(t){let e=[];if(t.modifiers==null)return e;let n=[];if(t.modifiers.hasParameterModifiers()){let r=null;for(let i=0;i<t.modifiers.parameterModifiers.length;i++){let s=t.modifiers.parameterModifiers[i];if(r==null){r=s;continue;}if(r!=null&&r.modifier!=null&&s.modifier!=null){if(r.modifier.returnsType.includes("*")||s.modifier.acceptsType.includes("*"))continue;{let o=r.modifier.returnsType,a="void",l="void",u=s.modifier.acceptsType.some(f=>o.includes(f));if(o.length>0&&(a=o[o.length-1]),s.modifier.acceptsType.length>0&&(l=s.modifier.acceptsType[0]),!u){e.push(M.makeSyntaxError(S.LINT_MODIFIER_UNEXPECTED_TYPE,s,"Unexpected type supplied to modifier "+s.name+". Expected "+l+" got "+a+".",1));break;}}}}}if(t.modifiers.hasShorthandModifiers()&&t.modifierChain!=null){let r=null;for(let i=0;i<t.modifierChain.modifierChain.length;i++){let s=t.modifierChain.modifierChain[i];if(r==null){r=s;continue;}if(r!=null&&r.modifier!=null&&s.modifier!=null){if(r.modifier.returnsType.includes("*")||s.modifier.acceptsType.includes("*"))continue;{let o=r.modifier.returnsType,a="void",l="void",u=s.modifier.acceptsType.some(f=>o.includes(f));if(o.length>0&&(a=o[o.length-1]),s.modifier.acceptsType.length>0&&(l=s.modifier.acceptsType[0]),!u){s.refId!=null&&!n.includes(s.refId)&&(e.push(M.makeSyntaxError(S.LINT_MODIFIER_UNEXPECTED_TYPE,s,"Unexpected type supplied to modifier "+s.name+". Expected "+l+" got "+a+".",1)),n.push(s.refId));break;}}}}}if(t.runtimeNodes!=null&&t.runtimeNodes.length>0)for(let r=0;r<t.runtimeNodes.length;r++){let i=t.runtimeNodes[r],s=null;if(i.modifierChain!=null)for(let o=0;o<i.modifierChain.modifierChain.length;o++){let a=i.modifierChain.modifierChain[o];if(s==null){s=a;continue;}if(s!=null&&s.modifier!=null&&a.modifier!=null){if(s.modifier.returnsType.includes("*")||a.modifier.acceptsType.includes("*"))continue;{let l=s.modifier.returnsType,u="void",f="void",c=a.modifier.acceptsType.some(d=>l.includes(d));if(l.length>0&&(u=l[l.length-1]),a.modifier.acceptsType.length>0&&(f=a.modifier.acceptsType[0]),!c){a.refId!=null&&n.includes(a.refId)==!1&&(e.push(M.makeSyntaxError(S.LINT_MODIFIER_UNEXPECTED_TYPE,a,"Unexpected type supplied to modifier "+a.name+". Expected "+f+" got "+u+".",1)),n.push(a.refId));break;}}}}}return e;}},uS=vF;var NF={checkNode(t){let e=[];return t.isTagNode&&t.name!=null&&t.getTagName()=="relate"&&e.push(M.makeSyntaxError(S.LINT_REMOVE_RELATE_TAG,t,"The `relate` tag is not necessary here, and can be removed.",1)),e;}},cS=NF;var PF={checkNode(t){let e=[];if(Hl.languageVersion=="runtime")return[];if(t.isClosedBy!=null&&t.modifierChain!=null){let n=t.content.trim(),r=t.isClosedBy.content.trim(),i="/"+n;r!=i&&(e.push(M.makeSyntaxError(S.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH,t,"Closing tags must match exactly when using shorthand modifiers in tag pairs.",0)),e.push(M.makeSyntaxError(S.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH,t.isClosedBy,'Closing tags must match exactly when using shorthand modifiers in tag pairs. Expecting: "'+i+'".',0)));}return e;}},fS=PF;var xS=K(Rh()),sq={checkNode(t){var i,s,o;let e=[];if(t.isOpenedBy!=null||!((i=fe.instance)==null?void 0:i.hasStructure()))return e;let n=fe.instance.getStructure().getStatamicVersion();if(n==null||n.trim().length==0||!((s=he.instance)==null?void 0:s.isKnownTag(t.runtimeName())))return e;let r=(o=he.instance)==null?void 0:o.findTag(t.runtimeName());if((r==null?void 0:r.introducedIn)==null)return e;try{xS.lt(n,r.introducedIn)&&e.push(M.makeSyntaxError(S.LINT_VERSION_NOT_COMPATIBLE,t,t.runtimeName()+" requires at least Statamic "+r.introducedIn+". Current project version: "+n,1));}catch{}return e;}},AS=sq;var oq={checkNode(t){let e=[];return t.isTagNode&&t.getTagName()=="set"&&e.push(M.makeSyntaxError(S.LINT_SET_PRODUCES_RUNTIME_ERROR,t,'`set` tag will produce "array_merge(): Expected parameter 1 to be an array, object given" runtime exception.')),e;}},ES=oq;var aq=[oS,lS,uS,aS,cS,ES,fS,AS],wS=aq;var Cs=class{constructor(){this.fileDiagnostics=new Map;this.handlers=[];this.docHandlers=[];}registerHandler(e){this.handlers.push(e);}registerDocumentHandler(e){this.docHandlers.push(e);}registerDocumentHandlers(e){for(let n=0;n<e.length;n++)this.registerDocumentHandler(e[n]);}registerHandlers(e){for(let n=0;n<e.length;n++)this.registerHandler(e[n]);}registerCoreHandlers(){this.registerHandlers(wS),this.registerDocumentHandlers(sS);}hasDiagnosticsIssues(e){return this.fileDiagnostics.has(e)==!1?!1:this.fileDiagnostics.get(e).length>0;}registerDiagnostics(e,n){this.fileDiagnostics.set(e,n);}clearIssues(e){this.fileDiagnostics.set(e,[]);}getDiagnostics(e){return this.hasDiagnosticsIssues(e)?this.fileDiagnostics.get(e):[];}checkDocument(e){let n=[];return this.docHandlers.forEach(r=>{r.checkDocument(e).forEach(i=>{n.push(i);});}),n;}checkNode(e){let n=[];return this.handlers.forEach(r=>{r.checkNode(e).forEach(i=>{n.push(i);});}),n;}getAllDiagnostics(){let e=[];return this.fileDiagnostics.forEach((n,r)=>{for(let i=0;i<n.length;i++)e.push(n[i]);}),e;}};Cs.instance=null;(typeof Cs.instance=="undefined"||Cs.instance==null)&&(Cs.instance=new Cs,Cs.instance.registerCoreHandlers());var Qr=Cs;function OS(t,e){let n=decodeURIComponent(t);Ae.createOrUpdate(n,e);}function Ch(t){let e=decodeURIComponent(t.uri);Ae.createOrUpdate(decodeURIComponent(t.uri),t.getText()),Ps.set(e,t);}async function xh(t,e){var s;let n=decodeURIComponent(t.uri);Ae.createOrUpdate(n,t.getText());let r=0,i=[];if(Ae.hasDocument(n)){let o=Ae.getDocument(n),a=o.errors.all();Rf(o.errors.all()).forEach(l=>{i.push(l);}),((s=Qr.instance)==null?void 0:s.hasDiagnosticsIssues(n))&&Rf(Qr.instance.getDiagnostics(n)).forEach(l=>{i.push(l);});}e.sendDiagnostics({uri:t.uri,diagnostics:i}),lq(t.uri,e);}function lq(t,e){var n,r,i;if((n=fe.instance)==null?void 0:n.hasStructure()){let s=fe.instance.getStructure().getViews();for(let o=0;o<s.length;o++)if(s[o].documentUri!=t){let a=decodeURIComponent(s[o].documentUri);if((r=Qr.instance)==null?void 0:r.hasDiagnosticsIssues(a)){let l=[],u=(i=Qr.instance)==null?void 0:i.getDiagnostics(a);Rf(u).forEach(f=>{l.push(f);}),e.sendDiagnostics({uri:s[o].originalDocumentUri,diagnostics:l});}}}}var kR=K(ln());var Ah=null;function Eh(t){Ah=t;}var wh=class{static formatFrontMatter(e){try{let n=Lf(e,{}),r=eS(n,{indent:2,noArrayIndent:!1,condenseFlow:!1,forceQuotes:!0,noRefs:!0,skipInvalid:!0});return r.endsWith(`
`)&&(r=r.trimEnd()),r;}catch{return e;}}};function zn(t,e,n){if(t&&t.hasOwnProperty(e)){let r=t[e];if(r!==null)return r;}return n;}function LS(t,e,n){let r=zn(t,e,null);return typeof r=="string"?r.length>0?r.split(",").map(i=>i.trim().toLowerCase()):[]:n;}var Wf=class{static frontMatterBlock(e){return`---
`+e+`
---

`;}};var pV=DR().html;var MR=class{constructor(e,n,r){this.buffer="";this.closeString="";this.baseIndent=n,e.isInterpolationNode?(this.buffer="{",this.closeString="}"):(this.buffer="{{ ",e.isSelfClosing?this.closeString=" /}}":this.closeString=" }}"),r!=null&&r.trim().length>0&&(this.buffer+=r+" ");}close(){return this.closeString==" }}"?this.buffer.endsWith(" ")?this.buffer+="}}":this.buffer+=this.closeString:this.buffer+=this.closeString,this;}appendT(e){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer+=e,this;}appendTS(e){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer.endsWith("{")&&(e=e.trimStart()),this.buffer+=e,this;}append(e){return this.buffer+=e,this;}appendOS(e){return this.buffer.endsWith(" ")==!1&&this.buffer.endsWith("(")==!1&&this.buffer.endsWith("{")==!1&&this.buffer.endsWith("[")==!1&&this.buffer.endsWith(":")==!1&&(this.buffer+=" "),this.append(e);}appendS(e){let n="";return this.buffer.endsWith(" ")==!1&&(n+=" "),n+=e+" ",this.buffer+=n,this;}indent(){let e=this.baseIndent;return e==0?e=1:e+=2,this.buffer+=" ".repeat(e),this;}addIndent(e){return e<=0?this:(this.buffer+=" ".repeat(e),this);}paramS(e){let n=" ";return e.isVariableReference&&(n+=":"),n+=e.name+"="+e.nameDelimiter+e.value+e.nameDelimiter,this.append(n),this;}replace(e,n){return this.buffer=pt(this.buffer,e,n),this;}newlineIndent(){return this.newLine(),this.indent(),this;}newlineNDIndent(){return this.buffer=this.buffer.trimEnd(),this.newLine(),this.indent(),this;}newLine(){return this.buffer+=`
`,this;}getContent(){return this.buffer;}},tp=class{constructor(e){this.antlersRegions=new Map;this.conditionRegions=new Map;this.commentRegions=new Map;this.pruneList=[];this.chopList=[];this.commentCount=0;this.formatOptions=e;}tabIndent(){let e=this.formatOptions.tabSize;return e<=0&&(e=4)," ".repeat(e);}printComment(e){let n=e.getContent().trim();if(n.includes(`
`)){let r=`{{#
`;return n.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`).forEach(s=>{r+=this.tabIndent()+s.trim()+`
`;}),r+="#}}",r;}return"{{# "+n+" #}}";}prettyPrintNode(e,n,r,i){var l,u,f,c,d,p,m;if(e.isComment)return this.printComment(e);let s=e.getTrueRuntimeNodes(),o=0,a=0;if(s.length>0){let h=new MR(e,r,i),v=null;for(let _=0;_<s.length;_++){let T=s[_];if(v!=null&&((l=T.endPosition)==null?void 0:l.isBefore(v.startPosition)))continue;let I=!1;if(T instanceof Dt?!(T.next instanceof Dt)&&T.next!=null&&(!Et.isOperatorType(T.next)||!Et.isAssignmentOperator(T.next))&&!(T.next instanceof en)&&!(T.next instanceof Tt)&&!T.isSwitchGroupMember&&!Et.isOperatorType(T.next)&&(I=!0,T.next instanceof ie&&T.next.name=="as"&&(I=!1)):!((u=T.prev)==null?void 0:u.isVirtual)&&((f=T.prev)==null?void 0:f.isVirtualGroupOperatorResolve)&&T.prev.producesVirtualStatementTerminator&&T.next!=null&&(T.prev instanceof ie||h.newlineIndent()),T instanceof ie){if(T.convertedToOperator){if(T.name=="arr")h.appendT(" arr");else if(T.name=="switch"||T.name=="list")if(h.appendTS(" "+T.name),_+1<s.length){if(!(s[_+1]instanceof Wt))break;h.append("("),T.name!="list"&&h.newlineIndent().indent(),_+=1,v=s[_+1];continue;}else break;else a+=1,a>1?h.newlineNDIndent().indent().addIndent(6).appendS(T.name):h.appendS(T.name);v=T;continue;}T.mergeRefName!=null&&T.mergeRefName.trim().length>0&&T.mergeRefName!=T.name?h.append(T.mergeRefName.trim()):T.name=="as"?h.appendOS("as"):h.append(T.name.trim());}else if(T instanceof Hr)if(h.appendTS(" list"),_+1<s.length){if(!(s[_+1]instanceof Wt))break;h.append("("),_+=1,v=s[_+1];continue;}else break;else if(T instanceof _n)h.appendS("|");else if(T instanceof Tt){if(v!=null&&((c=T.startPosition)==null?void 0:c.isBefore(v.endPosition))||T.next instanceof ie&&T.next.mergeRefName.startsWith(":")||n.getDocumentParser().getLanguageParser().isMergedVariableComponent(T))continue;if(T.prev!=null&&T.next!=null&&lt.distance(T.prev,T)<=1&&lt.distance(T.next,T)<=1){h.append(":"),v=T;continue;}if(n.getDocumentParser().getLanguageParser().isActualModifierSeparator(T)){h.append(":"),v=T;continue;}if(v instanceof Mt||v instanceof kt){h.append(":"),v=T;continue;}h.appendS(":");}else if(T instanceof Mt)h.append(T.name);else if(T instanceof Gr)h.appendS("?");else if(T instanceof An){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(T))continue;if(n.getDocumentParser().getLanguageParser().isActualModifierSeparator(T)){h.append(":"),v=T;continue;}h.append(":");}else if(T instanceof kt)h.append(T.value.trim());else if(T instanceof Wt)h.append("(");else if(T instanceof Dt)h.append(")");else if(T instanceof bt){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(T))continue;if(T.startPosition!=null&&T.endPosition!=null){let w=n.getText(T.startPosition.index,T.endPosition.index+1);h.appendOS(w);}else h.appendOS(T.sourceTerminator+T.value+T.sourceTerminator);}else if(T instanceof Pt)T.isSwitchGroupMember?h.append(",").newlineIndent().indent():h.append(", ");else if(T instanceof Ft){if(v=T,n.getDocumentParser().getLanguageParser().isMergedVariableComponent(T))continue;let w=(p=(d=T.value)==null?void 0:d.toString())!=null?p:"";T.rawLexContent!=null&&T.rawLexContent.trim().length>0&&(w=T.rawLexContent.trim()),h.append(w);}else if(T instanceof Gn)h.appendS("=");else if(T instanceof yn)h.appendS("=>");else if(T instanceof Bn)h.appendS("+");else if(T instanceof xn){if(T.prev!=null&&T.next!=null&&lt.distance(T.prev,T)<=1&&lt.distance(T.next,T)<=1){T.next instanceof Ft&&T.prev instanceof Ft?h.appendS("-"):h.append("-"),v=T;continue;}h.appendS("-");}else if(T instanceof Un)h.appendS("*");else if(T instanceof jn){if(v=T,(m=T.startPosition)==null?void 0:m.isBefore(e.nameEndsOn)){h.append("/");continue;}if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(T))continue;h.appendS("/");continue;}else T instanceof en?T.isListGroupMember?(h.append(";").newlineIndent().indent().addIndent(7),_+1<s.length&&!(s[_+1]instanceof Dt)&&h.indent()):(o+=1,o<this.formatOptions.maxStatementsPerLine?h.appendT("; "):(h.appendT(";").newlineIndent(),o=0)):T instanceof tn?T.content=="not"?h.appendS("not"):h.append("!"):h.appendS(T.rawContent());I&&h.newlineIndent(),v=T;}e.hasParameters&&e.parameters.forEach(_=>{h.paramS(_);}),h.close();let g=h.getContent();return e.processedInterpolationRegions.size>0&&e.processedInterpolationRegions.forEach((_,T)=>{let I=this.formatDocumentNodes(_,n);g=pt(g,T,I);}),g;}return e.getTrueRawContent();}formatDocumentNodes(e,n){var c;let r="",i=(c=LS(this.formatOptions.htmlOptions,"unformatted",[]))!=null?c:[],s=[],o=new Map,a=!1,l=null;e.forEach(d=>{if(d instanceof Ht)d.startPosition!=null&&d.endPosition!=null?r+=n.getText(d.startPosition.index,d.endPosition.index+1):r+=d.rawContent(),l=d;else if(d instanceof W){if(d.isComment){this.commentCount+=1;let p="__ANTLR_COMMENT"+this.commentCount.toString()+"C";this.commentRegions.set(p,d),r+=p;}else if(d.isSelfClosing||d.isClosedBy==null){let p="__ANTLR_"+d.refId;r+=p,o.set(p,d);}else if(d.children.length>0){let p=d.children;p.pop();let m=this.formatDocumentNodes(p,n),h="<ANTLR_"+d.refId+">",v="</ANTLR_"+d.refId+">";this.antlersRegions.set(h,d),r+=h+`
`+m+`
`+v;}}else if(d instanceof Ar)for(let p=0;p<d.logicBranches.length;p++){let m=d.logicBranches[p];if(m.head==null)continue;let h=m.head.children;h.pop();let v=this.formatDocumentNodes(h,n),g="<ANTLER_COND"+m.head.refId+">",_="</ANTLER_COND"+m.head.refId+">";this.conditionRegions.set(g,m.head),r+=g+v+_;}}),r=pt(r,"<{{ as","<ANTLER_COMMON_ALIAS"),r=pt(r,"</{{ as","</ANTLER_COMMON_ALIAS");let u=pV(r,{indent_size:this.formatOptions.tabSize,indent_char:this.formatOptions.insertSpaces?" ":"	",indent_empty_lines:zn(this.formatOptions.htmlOptions,"indentEmptyLines",!1),wrap_line_length:zn(this.formatOptions.htmlOptions,"wrapLineLength",120),unformatted:i,content_unformatted:s,indent_inner_html:zn(this.formatOptions.htmlOptions,"indentInnerHtml",!1),preserve_newlines:zn(this.formatOptions.htmlOptions,"preserveNewLines",!0),max_preserve_newlines:zn(this.formatOptions.htmlOptions,"maxPreserveNewLines",32786),indent_handlebars:zn(this.formatOptions.htmlOptions,"indentHandlebars",!1),end_with_newline:a&&zn(this.formatOptions.htmlOptions,"endWithNewline",!1),extra_liners:[],wrap_attributes:zn(this.formatOptions.htmlOptions,"wrapAttributes","auto"),wrap_attributes_indent_size:zn(this.formatOptions.htmlOptions,"wrapAttributesIndentSize",void 0),eol:`
`,indent_scripts:zn(this.formatOptions.htmlOptions,"indentScripts","normal"),unformatted_content_delimiter:zn(this.formatOptions.htmlOptions,"unformattedContentDelimiter","")}),f=u.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`);return o.forEach((d,p)=>{let m=this.getIndent(p,f);u=pt(u,p,this.prettyPrintNode(d,n,m,null));}),u=pt(u,"<ANTLER_COMMON_ALIAS","<{{ as"),u=pt(u,"</ANTLER_COMMON_ALIAS","</{{ as"),u;}getIndent(e,n){for(let r=0;r<n.length;r++){let i=n[r];if(i.includes(e)){let s=i.indexOf(e);if(s>=0)return s+1;}}return 0;}static applyPositionsFromDocument(e,n){let r=e.getAllAntlersNodes(),i=n.getAllAntlersNodes();if(r.length==i.length)for(let s=0;s<r.length;s++){let o=r[s],a=i[s];if(a.startPosition=o.startPosition,a.endPosition=o.endPosition,a.runtimeNodes.length==o.runtimeNodes.length)for(let l=0;l<a.runtimeNodes.length;l++){let u=o.runtimeNodes[l],f=a.runtimeNodes[l];f.startPosition=u.startPosition,f.endPosition=u.endPosition;}}}formatDocument(e){if(e.hasInvalidControlFlowStructures()||e.hasUnclosedStructures()||e.isFormattingEnabled()==!1)return e.getOriginalContent();let n=e.getDocumentParser().getRenderNodes(),r=this.formatDocumentNodes(n,e),i=r.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`);this.antlersRegions.forEach((a,l)=>{let u=this.getIndent(l,i),f=this.prettyPrintNode(a,e,u,null),c="</ANTLR_"+a.refId+">",d="";a.isClosedBy!=null&&(d=a.isClosedBy.getTrueRawContent().trim()),r=pt(r,l,f),r=pt(r,c,d);}),this.commentRegions.forEach((a,l)=>{let u=this.getIndent(l,i),f=this.prettyPrintNode(a,e,u,null);r=pt(r,l,f);}),this.conditionRegions.forEach((a,l)=>{var h,v;let u="</ANTLER_COND"+a.refId+">",f=!0,c=this.getIndent(l,i),d=a.getTrueNode();if(a.isClosedBy!=null){let g=a.isClosedBy;g.startPosition!=null&&a.endPosition!=null&&g.startPosition.line==a.endPosition.line&&this.chopList.push(u+`
`);}a.isClosedBy!=null&&((h=a.isClosedBy.name)==null?void 0:h.name)!="if"&&(this.pruneList.push(u.toLowerCase()),this.chopList.push(u),f=!1);let p=this.prettyPrintNode(d,e,c,d.runtimeName()),m=!1;if(a.isClosedBy!=null){let g=a.isClosedBy;g.startPosition!=null&&a.endPosition!=null&&g.startPosition.line!=a.endPosition.line&&(p+=`
{{@cond_break@}}`+" ".repeat(c+3),m=!0);}if(r=pt(r,l,p),f){let g="";if(m){let w=c-1;w==1&&(w=0),g=`{{@cond_break@}}
`+" ".repeat(w);}let _=(v=a.isClosedBy)==null?void 0:v.getTrueNode(),T=_==null?void 0:_.runtimeName();(T==null?void 0:T.toLowerCase())=="endunless"&&(T="unless");let I=g+"{{ ";T!="endif"&&(I+="/"),I+=T+" }}",r=pt(r,u,I),r=pt(r,u,"");}}),this.chopList.forEach(a=>{r=pt(r,a,"");});let s=r.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`),o=[];if(s.forEach(a=>{this.pruneList.includes(a.trim().toLowerCase())||a.trim()!="{{@cond_break@}}"&&o.push(a);}),r=o.join(`
`),r=pt(r,"{{@cond_break@}}",""),e.hasFrontMatter()){let a=e.getFrontMatter();this.formatOptions.formatFrontMatter?r=Wf.frontMatterBlock(wh.formatFrontMatter(a))+r:r=Wf.frontMatterBlock(a)+r;}return r;}};function FR(t){let e=Zh(),n=decodeURIComponent(t.textDocument.uri),r=Ah.format;if(e.formatterIgnoreExtensions.length>0){for(let i=0;i<e.formatterIgnoreExtensions.length;i++)if(n.toLowerCase().endsWith(e.formatterIgnoreExtensions[i].toLowerCase()))return null;}if(Ae.hasDocument(n)&&Ps.has(n)){let i=Ps.get(n),s=Ae.getDocument(n),o=i.getText(),a=Ns.fromText(o),l={htmlOptions:r,formatFrontMatter:e.formatFrontMatter,insertSpaces:t.options.insertSpaces,tabSize:t.options.tabSize,maxStatementsPerLine:3,formatExtensions:[]};tp.applyPositionsFromDocument(s,a);let u=new tp(l),f=u.formatDocument(a),c=i.positionAt(o.length);return[{range:{start:kR.Position.create(0,0),end:c},newText:f}];}return null;}var qR=K(ln());var dV={activeSignature:null,activeParameter:null,signatures:[]};function VR(t){var r;let e=decodeURIComponent(t.textDocument.uri),n=dr(t.position,e);if(n!=null&&n.context!=null&&n.context.modifierContext!=null&&((r=xe.instance)==null?void 0:r.hasModifier(n.context.modifierContext.name))){let i=n.context.modifierContext.name,s=xe.instance.getModifier(i),o=[];s!=null&&s.parameters.forEach(l=>{o.push({label:l.name,documentation:l.description});});let a=n.context.modifierContext.activeValueIndex;return a>o.length&&(a=o.length-1),(a<0||o.length==0)&&(a=0),{signatures:[{label:s.name,documentation:{kind:qR.MarkupKind.Markdown,value:s.description},parameters:o,activeParameter:a}],activeParameter:a,activeSignature:0};}return dV;}var No=K(rt());var eg=class{static getTypedHeader(e,n){let r="";return n.length>0&&(r=n.join(", ")),"**"+e+"** `"+r+"`  \n";}static formatParameterHover(e){let n=this.getTypedHeader(e.name,e.expectsTypes);if(n+=e.description,e.documentationLink!=null&&e.documentationLink.trim().length>0){n+=`  

`;let r="Documentation Reference]";e.docLinkName!=null&&e.docLinkName.trim().length>0&&(r=e.docLinkName.trim()),n+="["+r+"]("+e.documentationLink+")";}return{contents:{kind:No.MarkupKind.Markdown,value:n}};}static formatModifierHover(e){let n=this.getTypedHeader(e.name,e.acceptsType),r="";if(e.parameters.length>0){let s=[];e.parameters.forEach(o=>{s.push("$"+o.name);}),r=s.join(", ");}let i="";if(e.returnsType.length==1)i=e.returnsType[0];else{let s=[];e.returnsType.forEach(o=>{s.push(o);}),i=s.join(", ");}return n+=e.description+`
`,n+="```js\n",n+="function "+e.name+"("+r+"):"+i,n+="\n```",e.docLink!=null&&e.docLink.trim().length>0&&(n+=`  

`,n+="[Documentation Reference]("+e.docLink+")"),{contents:{kind:No.MarkupKind.Markdown,value:n}};}static formatBlueprintHover(e,n){let r="";return e.displayName!=null&&e.displayName.trim().length>0?r="**"+e.displayName+"** ("+e.name+`)

`:r="**"+e.name+`**

`,e.instructionText!=null&&(r+=e.instructionText+`

`),r+="**Blueprint**: "+e.blueprintName+`

`,r+="**Type**: "+e.type,e.maxItems!=null&&(r+=`

**Max Items**: `+e.maxItems),n!=null&&(r+=`

**From**: `+n.runtimeName()),{contents:{kind:No.MarkupKind.Markdown,value:r}};}static formatScopeVariableHover(e){if(e.sourceField!=null)return this.formatBlueprintHover(e.sourceField,e.introducedBy);let n="**"+e.name+`**

`;return n+="**Type**: "+e.dataType,e.introducedBy!=null&&(n+=`
**From**: `+e.introducedBy.runtimeName()),{contents:{kind:No.MarkupKind.Markdown,value:n}};}static getHover(e){var r,i,s,o,a,l,u,f,c;if(e==null||e.nodesInScope.length==0)return null;let n=e.nodesInScope[e.nodesInScope.length-1];if(e.context!=null&&e.context.node!=null&&(n=e.context.node),n!=null){if((r=he.instance)==null?void 0:r.isKnownTag(n.runtimeName())){let h=(i=he.instance)==null?void 0:i.findTag(n.runtimeName());if(e.context!=null&&e.context.isCursorInIdentifier&&typeof(h==null?void 0:h.resolveDocumentation)!="undefined"){let v=h.resolveDocumentation(e);if(v.trim().length>0)return{contents:{kind:No.MarkupKind.Markdown,value:v},range:{start:rn(n.startPosition),end:rn(n.endPosition)}};}if(h!=null&&((o=(s=e.context)==null?void 0:s.parameterContext)==null?void 0:o.parameter)!=null){let v=e.context.parameterContext.parameter,g=he.instance.getParameter(h.tagName,v.name);if(g!=null){if(typeof g.providesDocumentation!="undefined"){let _=g.providesDocumentation(e);if(_.trim().length>0)return{contents:{kind:No.MarkupKind.Markdown,value:_},range:{start:rn(n.startPosition),end:rn(n.endPosition)}};}return this.formatParameterHover(g);}else if(v.isModifierParameter&&v.modifier!=null)return this.formatModifierHover(v.modifier);}}if(((a=e.context)==null?void 0:a.parameterContext)!=null&&((u=(l=e.context)==null?void 0:l.parameterContext.parameter)==null?void 0:u.modifier)!=null)return this.formatModifierHover(e.context.parameterContext.parameter.modifier);if(((f=e.context)==null?void 0:f.modifierContext)!=null){let h=(c=xe.instance)==null?void 0:c.getModifier(e.context.modifierContext.name);if(h!=null)return this.formatModifierHover(h);}let d=e.position.line+1,p=e.position.character+1,m=e.antlersDocument.cursor.position(d,p);return n.scopeVariable!=null&&m!=null&&m.isWithin(n.startPosition,n.endPosition)?this.formatScopeVariableHover(n.scopeVariable):null;}return null;}};function BR(t){var r;if(((r=fe.instance)==null?void 0:r.hasStructure())==!1)return null;let e=decodeURIComponent(t.textDocument.uri);if(Ae.hasDocument(e)==!1)return null;let n=dr(t.position,e);return eg.getHover(n);}var tg=class{static findLocations(e,n){if(e==null||e.nodesInScope.length==0)return null;let r=e.nodesInScope[e.nodesInScope.length-1];if(e.context!=null&&e.context.node!=null&&(r=e.context.node),r!=null&&r.scopeVariable!=null&&r.scopeVariable.introducedBy!=null){let i=[];return i.push({uri:n.textDocument.uri,range:{start:rn(r.scopeVariable.introducedBy.startPosition),end:rn(r.scopeVariable.introducedBy.endPosition)}}),i;}return null;}};function jR(t){var r;if(((r=fe.instance)==null?void 0:r.hasStructure())==!1)return null;let e=decodeURIComponent(t.textDocument.uri);if(Ae.hasDocument(e)==!1)return null;let n=dr(t.position,e);return tg.findLocations(n,t);}var UR=K(Cn());var np=new Map,rp=new Map;function ng(){let t={types:["comment","string","keyword","number","regexp","operator","namespace","type","struct","class","interface","enum","typeParameter","function","method","macro","variable","parameter","property","label","antlersAttribute"],modifiers:["declaration","documentation","readonly","static","abstract","deprecated","modification","async"]};return t.types.forEach((e,n)=>np.set(e,n)),t.modifiers.forEach((e,n)=>rp.set(e,n)),{legend:t,async getSemanticTokens(e,n){let r=decodeURIComponent(e.uri),i=new UR.SemanticTokensBuilder,s=[];if(Ae.hasDocument(r)){let o=Ae.getDocument(r);o.nodes.getAllRuntimeNodes().forEach(p=>{p instanceof Mt&&s.push(p);});let l=new Map;s.forEach(p=>{var m;p.startPosition!=null&&(l.has(p.startPosition.line)||l.set(p.startPosition.line,[]),(m=l.get(p.startPosition.line))==null||m.push(p));});let u=[];Array.from(l.keys()).sort((p,m)=>p-m).forEach(p=>{l.get(p).sort((v,g)=>{var _,T,I,w;return((T=(_=v.startPosition)==null?void 0:_.char)!=null?T:0)-((w=(I=g.startPosition)==null?void 0:I.char)!=null?w:0);}).forEach(v=>{u.push(v);});}),u.forEach(p=>{p instanceof Mt&&p.startPosition!=null&&p.endPosition!=null&&i.push(p.startPosition.line-1,p.startPosition.char,p.endPosition.char-p.startPosition.char,WR("function"),GR([]));}),o.nodes.getAllParameterNodes().forEach(p=>{p.namePosition!=null&&p.namePosition.start!=null&&p.namePosition.end!=null&&i.push(p.namePosition.start.line-1,p.namePosition.start.char-1,p.namePosition.end.char-p.namePosition.start.char,WR("antlersAttribute"),GR([]));});}return i.build().data;}};}function GR(t){let e=0;for(let n=0;n<t.length;n++){let r=t[n];rp.has(r)?e=e|1<<rp.get(r):r==="notInLegend"&&(e=e|1<<rp.size+2);}return e;}function WR(t){return np.has(t)?np.get(t):t==="notInLegend"?np.size+2:0;}var ip=K(Cn());function HR(t){let e=[];return t.forEach(n=>{if(n.isComment||n.isClosingTag&&!n.isConditionNode||n.isConditionNode&&n.name!=null&&n.isClosingTag&&(n.name.name=="if"||n.name.name=="unless"))return;let r=mo(n),i=[];if(n.children.length>0){let u=n.getStructuralChildren();u.length>0&&(i=HR(u));}let s=ip.SymbolKind.Field;n.isTagNode&&(s=ip.SymbolKind.Class);let o=n.getNameContent().trim(),a=n.getContent().trim(),l=o+" "+a;o==a&&(l=a),l=n.sourceContent,n.name!=null&&n.name.name=="partial"&&(s=ip.SymbolKind.File),e.push({range:r,kind:s,name:l,selectionRange:r,children:i});}),e;}function YR(t){let e=decodeURIComponent(t.textDocument.uri);if(Ae.hasDocument(e)){let n=Ae.getDocument(e),r=n.nodes.getStructuralNodes();return HR(r);}return[];}var rg=class{static getDocumentLinks(e){var r,i,s;let n=[];if((r=fe.instance)==null?void 0:r.hasStructure()){let o=(s=(i=Cr.instance)==null?void 0:i.getPartialReferences(e))!=null?s:[];for(let a=0;a<o.length;a++){let l=o[a];if(l.hasMethodPart()){let u=fe.instance.getStructure().findRelativeView(l.getMethodNameValue());if(u!=null){let f=rn(l.nameEndsOn);n.push({range:{start:rn(l.startPosition),end:{character:f.character-2,line:f.line}},tooltip:"Partial: "+u.displayName,target:decodeURIComponent(u.documentUri)});}}}}return n;}};var XR=require("child_process"),QR=K(require("fs"));var ig=__dirname;function KR(t){ig=t;}var hV=sg();function Po(t){return t.split("\\").join("/");}function zR(t){let e=hV(decodeURIComponent(t));return Po(e);}var gV="analyzer.phar",og=!1,_V=!1,yV=!1;function ag(){var t;if((t=fe.instance)==null?void 0:t.hasStructure()){let e=fe.instance.getStructure().getWorkingDirectory();}}function JR(){og||(QR.existsSync(ig+"/"+gV)&&(_V=!0,(0,XR.exec)("php -v",(t,e,n)=>{t==null&&e.includes("Zend")&&(yV=!0,og=!0,ag());})),og=!0);}var zt=K(require("path")),Dn=K(require("fs")),I0=require("path");var Ti=K(require("fs")),ZR=K(Rh());function TV(t){let e=JSON.parse(Ti.readFileSync(t,{encoding:"utf8"}));return typeof e.extra!="undefined"&&typeof e.extra.statamic!="undefined";}var lg=class{static getInstalledPackages(e,n,r){let i=[];if(Ti.existsSync(e)){let s=JSON.parse(Ti.readFileSync(e,{encoding:"utf8"}));if(typeof s!="undefined"&&typeof s.packages!="undefined")for(let o=0;o<s.packages.length;o++){let a=s.packages[o];if(typeof a.name!="undefined"&&typeof a.version!="undefined"){let l=r+Yr(a.name,"/")+"/composer.json",u=r+Yr(a.name,"/")+"/.antlers-ls/",f=!1;if(typeof a.dist!="undefined"){let m=a.dist;typeof m.type!="undefined"&&typeof m.url!="undefined"&&m.type==="path"&&(l=n+Yr(a.dist.url,"/")+"/composer.json",u=r+Yr(a.name,"/")+"/.antlers-ls/");}let c=null;if(Ti.existsSync(l)&&(f=TV(l),f&&Ti.existsSync(u))){c={fieldtypesFile:null,modifiersFile:null,tagsFile:null};let m=u+"tags.json",h=u+"modifiers.json",v=u+"types.json";Ti.existsSync(m)&&(c.tagsFile=m),Ti.existsSync(h)&&(c.modifiersFile=h),Ti.existsSync(v)&&(c.fieldtypesFile=v);}let d=En(a.version,"v"),p=ZR.clean(d);p!=null&&(d=p),i.push({name:a.name,version:d,vendorPath:l,isStatamicAddon:f,antlersExtension:c});}}}return i;}};var ug=K(require("path"));function cg(t){let e=ug.resolve(t).replace(/\\/g,"/");return e[0]!=="/"&&(e="/"+e),encodeURI("file://"+e);}function Xn(t){return!t.toLowerCase().endsWith(".gitkeep");}var e0=K(hi()),t0=K(require("fs"));function au(t,e,n,r,i){let s=[],o=[];for(let a of Object.keys(t[n])){let l=t[n][a],u="",f="",c="",d="",p=null,m=null,h=null;if(typeof l.prefix!="undefined"&&l.prefix!==null&&(d=l.prefix),typeof l.import!="undefined"&&i.has(l.import)){let v=i.get(l.import);for(let g=0;g<v.length;g++)o.includes(v[g].handle)==!1&&(s.push(wd(v[g],d)),o.push(v[g].handle));continue;}if(typeof l.import!="undefined"&&(h=l.import),typeof l.field!="undefined"&&(typeof l.field.type!="undefined"&&(u=l.field.type),typeof l.field.display!="undefined"&&(f=l.field.display),typeof l.field.instructions!="undefined"&&(c=l.field.instructions),typeof l.field.max_items!="undefined"&&(p=l.field.max_items),u=yb(u,l,p),_b.includes(u)&&typeof l.field.sets!="undefined")){m=[];for(let v of Object.keys(l.field.sets)){let g=l.field.sets[v],_=au(g,e,"fields","set:"+v,i),T="";typeof g.display!="undefined"&&(T=g.display),m.push({handle:v,displayName:T,fields:_});}}s.push({blueprintName:e,name:l.handle,type:u,displayName:f,instructionText:c,maxItems:p,refFieldSetField:null,sets:m,import:h});}return s;}function Io(t,e,n){let r=t0.readFileSync(t,{encoding:"utf8"}),i=e0.parse(r),s=i.sections,o=[];if(typeof s!="undefined")for(let a of Object.keys(s)){let l=s[a];if(typeof l.fields!="undefined"){let u=au(l,e,"fields",e,n);u.length>0&&(o=o.concat(u));}}else if(typeof i.fields!="undefined"){let a=au(i,e,"fields",e,n);a.length>0&&(o=o.concat(a));}return o;}var n0=K(hi()),r0=K(require("fs"));function i0(t,e){let n=r0.readFileSync(t,{encoding:"utf8"}),r=n0.parse(n);if(typeof r=="undefined"||r===null)return[];let i=[];if(typeof r.fields!="undefined")for(let s of Object.keys(r.fields)){let o=r.fields[s],a=o.handle,l="",u="",f="",c=null,d=null,p=null;if(typeof o.import!="undefined"&&(p=o.import),typeof o.field!="undefined"&&(typeof o.field.display!="undefined"&&(l=o.field.display),typeof o.field.type!="undefined"&&(f=o.field.type),typeof o.field.instructions!="undefined"&&(u=o.field.instructions),typeof o.field.max_items!="undefined"&&(c=o.field.max_items),typeof o.field.sets!="undefined")){d=[];for(let m of Object.keys(o.field.sets)){let h=o.field.sets[m],v=au(h,e,"fields","set:"+m,new Map),g="";typeof h.display!="undefined"&&(g=h.display),d.push({handle:m,displayName:g,fields:v});}}i.push({handle:a,instructionText:u,name:l,type:f,maxItems:c,sets:d,import:p});}return i;}var s0=K(require("path")),o0=K(require("fs")),a0=K(hi());function l0(t){let e=s0.basename(t).split(".").slice(0,-1).join("."),n=e;try{let r=o0.readFileSync(t,{encoding:"utf8"}),i=a0.parse(r);typeof i.title!="undefined"&&i.title!==null&&(n=i.title);}catch(r){console.error(r);}return{handle:e,title:n};}var u0=K(require("path")),c0=K(require("fs")),f0=K(hi());function p0(t){let e=u0.basename(t).split(".").slice(0,-1).join("."),n=e,r="";try{let i=c0.readFileSync(t,{encoding:"utf8"}),s=f0.parse(i);typeof s!="undefined"&&s!==null&&(typeof s.title!="undefined"&&s.title!==null&&(n=s.title),typeof s.disk!="undefined"&&s.disk!==null&&(r=s.disk));}catch(i){console.error(i);}return{handle:e,title:n,diskName:r};}var d0=K(require("path")),m0=K(require("fs")),h0=K(hi());function g0(t){let e=d0.basename(t).split(".").slice(0,-1).join("."),n=m0.readFileSync(t,{encoding:"utf8"}),r="",i="",s="",o=!1,a=[],l=null,u=null,f=[];try{let c=h0.parse(n);if(typeof c!="undefined"&&c!==null){if(typeof c.title!="undefined"&&c.title!==null&&(r=c.title),typeof c.inject!="undefined"&&c.inject!==null){let d=Object.keys(c.inject);for(let p=0;p<d.length;p++){let m=d[p];m=="view_model"?u=c.inject.view_model:f.push(m);}}if(typeof c.template!="undefined"&&c.template!==null&&(i=c.template),typeof c.layout!="undefined"&&c.layout!==null&&(s=c.layout),typeof c.taxonomies!="undefined"&&c.taxonomies!==null&&(a=Object.keys(c.taxonomies)),typeof c.structure!="undefined"&&c.structure!==null){o=!0;let d=c.structure,p=-1,m=!1;typeof d.root!="undefined"&&d.root!==null&&(m=d.root),typeof d.max_depth!="undefined"&&d.max_depth!==null&&(p=d.max_depth),l={root:m,maxDepth:p};}}}catch(c){console.error(c);}return{handle:e,title:r,template:i,layout:s,taxonomies:a,isStructure:o,structure:l,viewModel:u,injectFields:f};}var fg=K(require("fs")),pg=K(hi());function _0(t){let e=[],n=fg.readFileSync(t,{encoding:"utf8"});try{let r=pg.parse(n);if(typeof r=="undefined"||r===null)return[];let i=Object.keys(r);for(let s=0;s<i.length;s++){let o=i[s],a=r[o],l=o;typeof a!="undefined"&&a!==null&&typeof a.title!="undefined"&&a.title!==null&&(l=a.title),e.push({handle:o,title:l});}}catch(r){console.error(r);}return e;}function y0(t){let e=[],n=fg.readFileSync(t,{encoding:"utf8"});try{let r=pg.parse(n);if(typeof r=="undefined"||r===null)return[];let i=Object.keys(r);for(let s=0;s<i.length;s++){let o=i[s],a=r[o],l=o;typeof a!="undefined"&&a!==null&&typeof a.title!="undefined"&&a.title!==null&&(l=a.title),e.push({handle:o,title:l});}}catch(r){console.error(r);}return e;}var T0=K(require("fs")),b0=K(hi());function v0(t){var r,i,s,o;let e=T0.readFileSync(t,{encoding:"utf8"}),n=[];try{let a=b0.parse(e);if(typeof a=="undefined"||a===null)return[];let l=Object.keys(a);for(let u=0;u<l.length;u++){let f=l[u],c=a[f],d=[],p="";if(typeof c!="undefined"&&c!==null){let m=Object.keys(c);for(let h=0;h<m.length;h++){let v=m[h],g=(i=(r=xe.instance)==null?void 0:r.getModifier(v))!=null?i:null,_=!1,T="";g!=null?(_=!0,T=(o=(s=xe.instance)==null?void 0:s.getProbableReturnType(g,!1))!=null?o:"",p=T):p="",d.push({hasReference:_,manifestsType:T,name:v,ref:g});}}n.push({name:f,manifestsType:p,modifiers:d});}}catch{}return n;}var So=class{constructor(){this.blueprintAugmentations=new Map;this.collectionAugmentations=new Map;}reset(){this.blueprintAugmentations.clear(),this.collectionAugmentations.clear();}registerAugmentation(e){var n,r;for(let i=0;i<e.collections.length;i++)this.collectionAugmentations.has(e.collections[i])==!1&&this.collectionAugmentations.set(e.collections[i],[]),(n=this.collectionAugmentations.get(e.collections[i]))==null||n.push(e);for(let i=0;i<e.blueprints.length;i++)this.blueprintAugmentations.has(e.blueprints[i])==!1&&this.blueprintAugmentations.set(e.blueprints[i],[]),(r=this.blueprintAugmentations.get(e.blueprints[i]))==null||r.push(e);}registerAugmentations(e){for(let n=0;n<e.length;n++)this.registerAugmentation(e[n]);}getType(e){return e.length==0?"*":e[0];}makeFields(e){let n=[];for(let r=0;r<e.length;r++){let i=e[r];for(let s=0;s<i.fields.length;s++){let o=i.fields[s];n.push(this.makeField(i.name,o));}}return n;}makeField(e,n){return{blueprintName:e,displayName:n.name,instructionText:n.description,import:null,maxItems:null,name:n.name,refFieldSetField:null,sets:null,type:this.getType(n.returnTypes)};}getCollectionFields(e){if(this.collectionAugmentations.has(e)==!1)return[];let n=this.collectionAugmentations.get(e);return this.makeFields(n);}};So.instance=null;(typeof So.instance=="undefined"||So.instance==null)&&(So.instance=new So);var lu=So;var Ro=class{constructor(){this.viewModels=new Map;}reset(){this.viewModels.clear();}registerViewModel(e){this.viewModels.set(e.fqn,e);}registerViewModels(e){for(let n=0;n<e.length;n++)this.registerViewModel(e[n]);}hasViewModel(e){let n=En(e,"\\");return this.viewModels.has(n);}getViewModelFields(e){let n=e;if(n.startsWith("\\")&&(n=n.substr(1)),n=n.replace("\\\\","\\"),this.viewModels.has(n)==!1)return[];let r=[],i=this.viewModels.get(n);for(let s=0;s<i.fields.length;s++)r.push({blueprintName:n,displayName:i.fields[s],import:null,instructionText:null,maxItems:null,name:i.fields[s],refFieldSetField:null,sets:null,type:"*"});return r;}};Ro.instance=null;(typeof Ro.instance=="undefined"||Ro.instance==null)&&(Ro.instance=new Ro);var uu=Ro;function N0(t){let e=[];for(let n=0;n<t.parameters.length;n++){let r=t.parameters[n];e.push({acceptsVariableInterpolation:!0,aliases:r.aliases,allowsVariableReference:!0,description:r.description,expectsTypes:r.expectsTypes,isDynamic:!1,isRequired:r.isRequired,name:r.name});}return e;}function P0(t){let e=[];for(let n=0;n<t.parameters.length;n++){let r=t.parameters[n];e.push({description:r.description,name:r.name});}return e;}var Co=class{constructor(){this.loadedManifest=null;}hasManifest(){return this.loadedManifest!=null;}getManifest(){return this.loadedManifest;}load(e){var n,r,i,s,o,a,l,u,f,c,d;if(e!=null){(n=he.instance)==null||n.reset(),(r=xe.instance)==null||r.reset();for(let p=0;p<e.tags.length;p++)(i=he.instance)==null||i.registerTag({allowsArbitraryParameters:!0,allowsContentClose:!0,hideFromCompletions:!e.tags[p].showInCompletions,injectParentScope:!1,parameters:N0(e.tags[p]),requiresClose:!1,introducedIn:null,tagName:e.tags[p].compound});(s=uu.instance)==null||s.reset(),(o=lu.instance)==null||o.reset(),(a=xe.instance)==null||a.loadCoreModifiers(),(l=lu.instance)==null||l.registerAugmentations(e.augmentContributions),(u=uu.instance)==null||u.registerViewModels(e.viewModels);for(let p=0;p<e.modifiers.length;p++){let m=e.modifiers[p];if(typeof m!="undefined"){let h=m.expectsTypes,v=m.returnsTypes;(h==null||h.length==0)&&(h=["*"]),(v==null||v.length==0)&&(v=["*"]),(f=xe.instance)==null||f.registerModifier({acceptsType:h,canBeParameter:!0,description:m.description,docLink:"",name:m.name,returnsType:v,parameters:P0(m)});}}for(let p=0;p<e.packageManifests.length;p++){for(let m=0;m<e.packageManifests[p].tags.length;m++)(c=he.instance)==null||c.registerTag({allowsArbitraryParameters:!0,allowsContentClose:!0,hideFromCompletions:!e.packageManifests[p].tags[m].showInCompletions,injectParentScope:!1,introducedIn:null,parameters:N0(e.packageManifests[p].tags[m]),requiresClose:!1,tagName:e.packageManifests[p].tags[m].compound});for(let m=0;m<e.modifiers.length;m++){let h=e.packageManifests[p].modifiers[m];if(typeof h!="undefined"){let v=h.expectsTypes,g=h.returnsTypes;(v==null||v.length==0)&&(v=["*"]),(g==null||g.length==0)&&(g=["*"]),(d=xe.instance)==null||d.registerModifier({acceptsType:v,canBeParameter:!0,description:h.description,docLink:"",name:h.name,returnsType:g,parameters:P0(h)});}}}this.loadedManifest=e;}}};Co.instance=null;(typeof Co.instance=="undefined"||Co.instance==null)&&(Co.instance=new Co);var ws=Co;function dg(t,e,n){return{blueprintName:t,displayName:"",import:null,instructionText:"",maxItems:null,name:e,refFieldSetField:null,sets:null,type:n};}var mg=class{constructor(e,n){this.isMocked=!1;this.rootPath="";this.fieldsetsPath="";this.viewsPath="";this.collectionBlueprintsPath="";this.formBlueprintsPath="";this.globalBlueprintsPath="";this.miscBlueprintsPath="";this.taxonomiesBlueprintsPath="";this.globalFiles=[];this.blueprintFiles=[];this.collectionNames=[];this.collections=new Map;this.fieldsets=new Map;this.forms=new Map;this.globals=new Map;this.taxonomies=new Map;this.fields=new Map;this.miscFields=new Map;this.blueprintRef=new Map;this.blueprintCollectionRef=new Map;this.templates=[];this.views=[];this.partialCache=[];this.partialViewNames=[];this.taxonomyNames=[];this.hasMacroFile=!1;this.macroFilePath="";this.collectionQueryScopes=[];this.taxonomyTerms=new Map;this.assets=new Map;this.userGroups=new Map;this.userRoles=new Map;this.navigationMenus=new Map;this.viewMap=new Map;this.routeNames=[];this.translationKeys=[];this.uniqueFormNames=[];this.uniquePartialViewNames=[];this.uniqueCollectionNames=[];this.uniqueTaxonomyNames=[];this.uniqueUserGroups=[];this.uniqueUserRoles=[];this.uniqueGlobalSettingNames=[];this.uniqueNavigationNames=[];this.uniqueAssetNames=[];this.publicAssets=[];this.packageMapping=new Map;this.statamicAddonMapping=new Map;this.blueprintFieldReference=[];this.baseResourcePath=n,this.sourceStructure=e,this.isMocked=e.isMocked,this.rootPath=e.rootPath,this.fieldsetsPath=e.fieldsetsPath,this.viewsPath=e.viewsPath,this.collectionBlueprintsPath=e.collectionBlueprintsPath,this.formBlueprintsPath=e.formBlueprintsPath,this.globalBlueprintsPath=e.globalBlueprintsPath,this.miscBlueprintsPath=e.miscBlueprintsPath,this.taxonomiesBlueprintsPath=e.taxonomiesBlueprintsPath,this.globalFiles=e.globalFiles,this.blueprintFiles=e.blueprintFiles,this.collectionNames=e.collectionNames,this.collections=e.collections,this.assets=e.assets,this.fieldsets=e.fieldsets,this.forms=e.forms,this.globals=e.globals,this.taxonomies=e.taxonomies,this.fields=e.fields,this.miscFields=e.miscFields,this.templates=e.templates,this.views=e.views,this.partialCache=e.partialCache,this.partialViewNames=e.partialViewNames,this.taxonomyNames=e.taxonomyNames,this.macroFilePath=e.macroFilePath,this.hasMacroFile=e.hasMacrosFile,this.collectionQueryScopes=e.collectionScopes,this.taxonomyTerms=e.taxonomyTerms,this.navigationMenus=e.navigationMenus,this.buildDetails(),typeof this.sourceStructure.restoreProperties!="undefined"&&this.sourceStructure.restoreProperties!=null&&(this.assets=this.sourceStructure.restoreProperties.assets,this.blueprintCollectionRef=this.sourceStructure.restoreProperties.blueprintCollectionRef,this.blueprintFieldReference=this.sourceStructure.restoreProperties.blueprintFieldReference,this.blueprintFiles=this.sourceStructure.restoreProperties.blueprintFiles,this.blueprintRef=this.sourceStructure.restoreProperties.blueprintRef,this.collectionNames=this.sourceStructure.restoreProperties.collectionNames,this.collectionQueryScopes=this.sourceStructure.restoreProperties.collectionQueryScopes,this.collections=this.sourceStructure.restoreProperties.collections,this.fields=this.sourceStructure.restoreProperties.fields,this.fieldsets=this.sourceStructure.restoreProperties.fieldsets,this.forms=this.sourceStructure.restoreProperties.forms,this.globalFiles=this.sourceStructure.restoreProperties.globalFiles,this.globals=this.sourceStructure.restoreProperties.globals,this.miscFields=this.sourceStructure.restoreProperties.miscFields,this.navigationMenus=this.sourceStructure.restoreProperties.navigationMenus,this.packageMapping=this.sourceStructure.restoreProperties.packageMapping,this.partialCache=this.sourceStructure.restoreProperties.partialCache,this.partialViewNames=this.sourceStructure.restoreProperties.partialViewNames,this.publicAssets=this.sourceStructure.restoreProperties.publicAssets,this.routeNames=this.sourceStructure.restoreProperties.routeNames,this.statamicAddonMapping=this.sourceStructure.restoreProperties.statamicAddonMapping,this.taxonomies=this.sourceStructure.restoreProperties.taxonomies,this.taxonomyNames=this.sourceStructure.restoreProperties.taxonomyNames,this.taxonomyTerms=this.sourceStructure.restoreProperties.taxonomyTerms,this.templates=this.sourceStructure.restoreProperties.templates,this.translationKeys=this.sourceStructure.restoreProperties.translationKeys,this.uniqueAssetNames=this.sourceStructure.restoreProperties.uniqueAssetNames,this.uniqueCollectionNames=this.sourceStructure.restoreProperties.uniqueCollectionNames,this.uniqueFormNames=this.sourceStructure.restoreProperties.uniqueFormNames,this.uniqueGlobalSettingNames=this.sourceStructure.restoreProperties.uniqueGlobalSettingNames,this.uniqueNavigationNames=this.sourceStructure.restoreProperties.uniqueNavigationNames,this.uniquePartialViewNames=this.sourceStructure.restoreProperties.uniquePartialViewNames,this.uniqueTaxonomyNames=this.sourceStructure.restoreProperties.uniqueTaxonomyNames,this.uniqueUserGroups=this.sourceStructure.restoreProperties.uniqueUserGroups,this.uniqueUserRoles=this.sourceStructure.restoreProperties.uniqueUserRoles,this.userGroups=this.sourceStructure.restoreProperties.userGroups,this.userRoles=this.sourceStructure.restoreProperties.userRoles,this.viewMap=this.sourceStructure.restoreProperties.viewMap,this.views=this.sourceStructure.restoreProperties.views);}export(){let e=this.sourceStructure;return e.restoreProperties=this.getRestoreRecords(),e;}getRestoreRecords(){return{assets:this.assets,baseResourcePath:this.baseResourcePath,blueprintCollectionRef:this.blueprintCollectionRef,blueprintFieldReference:this.blueprintFieldReference,blueprintFiles:this.blueprintFiles,blueprintRef:this.blueprintRef,collectionNames:this.collectionNames,collectionQueryScopes:this.collectionQueryScopes,collections:this.collections,fields:this.fields,fieldsets:this.fieldsets,forms:this.forms,globalFiles:this.globalFiles,globals:this.globals,miscFields:this.miscFields,navigationMenus:this.navigationMenus,packageMapping:this.packageMapping,partialCache:this.partialCache,partialViewNames:this.partialViewNames,publicAssets:this.publicAssets,routeNames:this.routeNames,statamicAddonMapping:this.statamicAddonMapping,taxonomies:this.taxonomies,taxonomyNames:this.taxonomyNames,taxonomyTerms:this.taxonomyTerms,templates:this.templates,translationKeys:this.translationKeys,uniqueAssetNames:this.uniqueAssetNames,uniqueCollectionNames:this.uniqueCollectionNames,uniqueFormNames:this.uniqueFormNames,uniqueGlobalSettingNames:this.uniqueGlobalSettingNames,uniqueNavigationNames:this.uniqueNavigationNames,uniquePartialViewNames:this.uniquePartialViewNames,uniqueTaxonomyNames:this.uniqueTaxonomyNames,uniqueUserGroups:this.uniqueUserGroups,uniqueUserRoles:this.uniqueUserRoles,userGroups:this.userGroups,userRoles:this.userRoles,viewMap:this.viewMap,views:this.views};}reloadDetails(){return this;}buildImportRefernece(e){if(e.sets!=null)for(let n=0;n<e.sets.length;n++){let r=e.sets[n];for(let i=0;i<r.fields.length;i++){let s=r.fields[i];if(s.import!=null){let o=s.import;if(this.sourceStructure.fieldsets.has(o)){let a=this.sourceStructure.fieldsets.get(o),l=Tb(a);for(let u=0;u<l.length;u++)this.buildImportRefernece(l[u]);r.fields.splice(i,1),r.fields=r.fields.concat(l);}}}}}buildDetails(){var s,o;let e=[],n=[],r=[],i=[];if(typeof this.sourceStructure.assets.forEach!="undefined"&&this.sourceStructure.assets.forEach((a,l)=>{i.push(l);}),typeof this.sourceStructure.forms.forEach!="undefined"&&this.sourceStructure.forms.forEach((a,l)=>{a.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l);}),e.push(l),this.blueprintRef.set(l,a);}),typeof this.sourceStructure.globals.forEach!="undefined"&&this.sourceStructure.globals.forEach((a,l)=>{a.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l);}),n.push(l),this.blueprintRef.set(l,a);}),typeof this.sourceStructure.miscFields.forEach!="undefined"&&this.sourceStructure.miscFields.forEach((a,l)=>{a.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l);}),this.blueprintRef.set(l,a);}),typeof this.sourceStructure.taxonomies.forEach!="undefined"&&this.sourceStructure.taxonomies.forEach((a,l)=>{a.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l);}),this.blueprintRef.set(l,a);}),typeof this.sourceStructure.fields.forEach!="undefined"&&this.sourceStructure.fields.forEach((a,l)=>{a.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l);}),this.blueprintRef.set(l,a);}),typeof this.sourceStructure.navigationMenus.forEach!="undefined"&&this.sourceStructure.navigationMenus.forEach((a,l)=>{r.push(l);}),typeof this.sourceStructure.views.forEach!="undefined"&&this.sourceStructure.views.forEach((a,l)=>{this.viewMap.set(a.documentUri,a);}),typeof this.sourceStructure.composerPackages.forEach!="undefined"&&this.sourceStructure.composerPackages.forEach(a=>{a.isStatamicAddon&&this.statamicAddonMapping.set(a.name,a),this.packageMapping.set(a.name,a);}),this.uniqueAssetNames=[...new Set(i)],this.uniqueNavigationNames=[...new Set(r)],this.uniqueGlobalSettingNames=[...new Set(n)],this.uniqueFormNames=[...new Set(e)],this.uniqueCollectionNames=[...new Set(this.collectionNames)],this.uniquePartialViewNames=[...new Set(this.partialViewNames)],this.uniqueTaxonomyNames=[...new Set(this.taxonomyNames)],(s=xe.instance)==null||s.resetMacros(),this.hasMacroFile){let a=v0(this.macroFilePath);a.length>0&&((o=xe.instance)==null||o.registerMacros(a));}this.uniqueUserRoles=[...new Set(this.sourceStructure.userRoleNames)],this.uniqueUserGroups=[...new Set(this.sourceStructure.userGroupNames)],this.sourceStructure.searchIndexes.length==0&&this.sourceStructure.searchIndexes.push("default");for(let a=0;a<this.sourceStructure.internalFieldReference.length;a++)this.buildImportRefernece(this.sourceStructure.internalFieldReference[a]);}getWorkingDirectory(){return this.sourceStructure.workingDirectory;}getOAuthProviders(){var e,n,r;return(r=(n=(e=ws.instance)==null?void 0:e.getManifest())==null?void 0:n.config.oauthProviders)!=null?r:[];}getSiteNames(){var e,n,r;return(r=(n=(e=ws.instance)==null?void 0:e.getManifest())==null?void 0:n.config.siteNames)!=null?r:["default"];}getSearchIndexes(){var n,r,i;let e=this.sourceStructure.searchIndexes;return((n=ws.instance)==null?void 0:n.hasManifest())&&((i=(r=ws.instance.getManifest())==null?void 0:r.config.searchIndexes)!=null?i:[]).forEach(o=>{e.includes(o)==!1&&e.push(o);}),e;}getStatamicVersion(){return this.sourceStructure.statamicPackage!=null?this.sourceStructure.statamicPackage.version:"";}hasComposerPackage(e){return this.packageMapping.has(e);}hasStatamicAddon(e){return this.statamicAddonMapping.has(e);}getAddonDetails(e){return this.hasStatamicAddon(e)?this.statamicAddonMapping.get(e):null;}getComposerPackages(){return this.packageMapping;}getComposerPackageDetails(e){return this.hasComposerPackage(e)?this.packageMapping.get(e):null;}getPartials(){return this.sourceStructure.partialCache;}getBlueprintNames(){let e=[];return this.blueprintRef.forEach((n,r)=>{r.startsWith("*")==!1&&e.includes(r)==!1&&e.push(r);}),e;}getBlueprintDetails(e){if(this.blueprintRef.has(e)==!1){let n=[];return n.push(dg(e,"title","text")),n.push(dg(e,"content","markdown")),n.push(dg(e,"slug","slug")),n;}return this.blueprintRef.get(e);}hasViewCollectionInjections(e){return this.viewMap.has(e)==!1?!1:this.viewMap.get(e).injectsCollections.length>0;}getCollectionNames(){return this.collectionNames;}getCollectionNamesForView(e){return this.viewMap.has(e)==!1?[]:this.viewMap.get(e).injectsCollections;}getPublicAssetPaths(){return this.publicAssets;}getTaxonomyTerms(e){return this.hasTaxonomy(e)?this.taxonomyTerms.get(e):[];}hasTaxonomy(e){return this.taxonomyNames.includes(e);}getCollectionQueryScopes(){var e,n,r,i;if((e=ws.instance)==null?void 0:e.hasManifest()){let s=[],o=(i=(r=(n=ws.instance)==null?void 0:n.getManifest())==null?void 0:r.queryScopes)!=null?i:[];for(let a=0;a<o.length;a++)s.push({name:o[a].name,description:o[a].description});return this.collectionQueryScopes.concat(o);}return this.collectionQueryScopes;}getBlueprintFields(e){var r,i,s,o;let n=[];for(let a=0;a<e.length;a++){let l=e[a],u=this.getCollectionDetails(l);if(n=n.concat((i=(r=lu.instance)==null?void 0:r.getCollectionFields(l))!=null?i:[]),u!=null&&u.viewModel!=null){let f=(o=(s=uu.instance)==null?void 0:s.getViewModelFields(u.viewModel))!=null?o:[];f.length>0&&(n=n.concat(f));}if(u!=null&&u.injectFields!=null)for(let f=0;f<u.injectFields.length;f++)n.push({blueprintName:"*inject",displayName:u.injectFields[f],import:null,instructionText:null,maxItems:null,name:u.injectFields[a],refFieldSetField:null,sets:null,type:"*"});if(this.fields.has(l)){let f=this.fields.get(l);typeof f!="undefined"&&f!==null&&(n=n.concat(f));}}return n;}getBlueprintField(e,n){let r=e;if(this.blueprintCollectionRef.has(r)&&(r=this.blueprintCollectionRef.get(r)),this.fields.has(r)){let i=this.fields.get(r);for(let s=0;s<i.length;s++)if(i[s].name==n)return i[s];}return null;}getFields(){return this.fields;}getTaxonomyBlueprintFields(e){let n=[];for(let r=0;r<e.length;r++){let i=e[r];if(this.taxonomies.has(i)){let s=this.taxonomies.get(i);typeof s!="undefined"&&s!==null&&(n=n.concat(s));}}return n;}getUserFields(){return this.miscFields.has("user")?this.miscFields.get("user"):[];}getAssetBlueprintFields(e){return this.sourceStructure.assetFields.has(e)?this.sourceStructure.assetFields.get(e):[];}getUniqueTaxonomyNames(){return this.uniqueTaxonomyNames;}getUniqueCollectionNames(){return this.uniqueCollectionNames;}getUniquePartialNames(){return this.uniquePartialViewNames;}getUniqueUserGroupNames(){return this.uniqueUserGroups;}getUniqueUserRoleNames(){return this.uniqueUserRoles;}getUniqueFormNames(){return this.uniqueFormNames;}getAssetPresets(){var e,n,r;return(r=(n=(e=ws.instance)==null?void 0:e.getManifest())==null?void 0:n.config.assetPresets)!=null?r:[];}getUniqueGlobalsNames(){return this.uniqueGlobalSettingNames;}getUniqueNavigationMenuNames(){return this.uniqueNavigationNames;}getUniqueAssetNames(){return this.uniqueAssetNames;}getCollectionDetails(e){return this.collections.has(e)?this.collections.get(e):null;}getFormBlueprintFields(e){if(this.forms.has(e)){let n=this.forms.get(e);return typeof n=="undefined"||n===null?[]:n;}return[];}getRouteNames(){return this.routeNames;}getTranslationKeys(){return this.translationKeys;}getTemplateNames(){let e=[];return this.views.forEach(n=>{let r=pt(n.relativeDisplayName,"/",".");e.includes(r)==!1&&e.push(r);}),e;}getViews(){return this.views;}findView(e){if(e.trim()=="")return null;let n=zR(e);for(let r=0;r<this.views.length;r++)if(this.views[r].path==n)return this.views[r];return null;}findRelativeView(e){e=pt(e,"\\.","/");for(let n=0;n<this.views.length;n++)if(this.views[n].relativeDisplayName==e)return this.views[n];return null;}findPartial(e){e=pt(e,"\\.","/");for(let n=0;n<this.views.length;n++)if(this.views[n].isPartial&&this.views[n].relativeDisplayName==e)return this.views[n];return null;}};function bV(t){let e=Po(t).split("/"),n=[],r=null;for(let i=0;i<e.length;i++){if(i==0){r=e[i],n.push(e[i]);continue;}if(e[i]=="views"&&r=="resources")break;n.push(e[i]),r=e[i];}return n.join("/");}function vV(t){return t.endsWith("/")==!1&&(t=t+"/"),t+"../";}function NV(t){return t+"composer.lock";}function PV(t){return t+"vendor/";}function IV(t){return t+"/blueprints/collections/";}function SV(t){return t+"/blueprints/taxonomies/";}function RV(t){return t+"/blueprints/assets/";}function CV(t){return t+"/blueprints/globals/";}function xV(t){return t+"/blueprints/forms/";}function AV(t){return t+"/blueprints/";}function EV(t){return t+"/macros.yaml";}function wV(t){return t+"/views/";}function OV(t){return t+"/users/";}function LV(t){return t+"/forms/";}function DV(t){return t+"/fieldsets";}function cu(t){return t+"/../content/";}function MV(t){return cu(t)+"assets/";}function kV(t){return cu(t)+"collections/";}function FV(t){return cu(t)+"taxonomies/";}function qV(t){return cu(t)+"navigation/";}function fu(t,e,n){if(!Dn.existsSync(t))return[];let r=n||[],i=Dn.readdirSync(t);for(let s=0;s<i.length;s++){let o=zt.join(t,i[s]);Dn.lstatSync(o).isDirectory()?r=r.concat(fu(o,e,n)):o.indexOf(e)>=0&&r.push(o);}return[...new Set(r)];}function Ki(t,e){if(!Dn.existsSync(t))return[];let n=[],r=Dn.readdirSync(t);for(let i=0;i<r.length;i++){let s=zt.join(t,r[i]);Dn.lstatSync(s).isDirectory()==!1&&n.push(s);}return[...new Set(n)];}function VV(t){let e=fu(t,".html",[]),n=t.length,r=[];for(let i=0;i<e.length;i++){let s=e[i],o=s.substr(n),a=Po(zt.dirname(o)),l=zt.basename(o),u=l,f=!1,c=!1,d=!1,p="";l.startsWith("_")&&(f=!0,u=u.substr(1)),l.endsWith(".antlers.html")?(c=!0,u=u.substr(0,u.length-13)):l.endsWith(".blade.php")?(c=!1,d=!0):(c=!1,d=!1),a!="."?p=a+"/"+u:p=u,r.push({displayName:u,fileName:l,documentUri:cg(s),originalDocumentUri:cg(s),isAntlers:c,isBlade:d,isPartial:f,path:Po(s),relativeDisplayName:p,relativeFileName:l,relativePath:o,injectsCollections:[],injectsParameters:[],templateName:pt(p,"/","."),varReferenceNames:new Map});}return r;}function hg(t){let e=bV(t),n=IV(e),r=wV(e),i=LV(e),s=xV(e),o=DV(e),a=SV(e),l=CV(e),u=AV(e),f=cu(e),c=qV(e),d=FV(e),p=OV(e),m=kV(e),h=MV(e),v=RV(e),g=fu(n,".yaml",[]),_=VV(r),T=EV(e),I=vV(e),w=NV(I),$=PV(I),B=!1,ue=null,ae=lg.getInstalledPackages(w,I,$);for(let N=0;N<ae.length;N++)if(ae[N].name=="statamic/cms"){ue=ae[N];break;}let Te=new Map,ne=new Map,je=new Map,_t=new Map,Ie=new Map,Q=new Map,ze=[],st=new Map,Ot=[],ke=[],ot=[],bi=[],$i=[],re=new Map,se=new Map,ce=[],ee=new Map,be=[],yt=new Map,Tr=new Map,xo=new Map,Ao=new Map;T.trim().length>0&&(B=Dn.existsSync(T));for(let N=0;N<_.length;N++)_[N].isPartial&&(ot.push(_[N]),bi.push(_[N].relativeDisplayName));let Zr=Ki(h,".yaml");for(let N=0;N<Zr.length;N++)if(Xn(Zr[N])){let P=p0(Zr[N]);xo.set(P.handle,P);}let Os=Ki(m,".yaml");for(let N=0;N<Os.length;N++)if(Xn(Os[N])){let P=g0(Os[N]);Tr.set(P.handle,P);}let Eo=p+"roles.yaml",wo=p+"groups.yaml";if(Dn.existsSync(Eo)){let N=_0(Eo);for(let P=0;P<N.length;P++)ee.set(N[P].handle,N[P]),be.push(N[P].handle);}if(Dn.existsSync(wo)){let N=y0(wo);for(let P=0;P<N.length;P++)se.set(N[P].handle,N[P]),ce.push(N[P].handle);}let Mn=fu(o,".yaml",[]),Nt=[];for(let N=0;N<Mn.length;N++)if(Xn(Mn[N])){let P=zt.basename(Mn[N]).split(".").slice(0,-1).join(".");if(P!=null&&P.trim().length>0){let y=i0(Mn[N],P);Te.set(P,y);}}let vi=fu(a,".yaml",[]);for(let N=0;N<vi.length;N++)if(Xn(vi[N])){let P=zt.basename(vi[N]).split(".").slice(0,-1).join("."),y=zt.basename(zt.dirname(vi[N]));if(P!=null&&P.trim().length>0){ne.set(P,y);let x=Io(vi[N],P,Te);Ie.set(P,x),Nt=Nt.concat(x),ke.includes(P)==!1&&ke.push(P);}}if(ke.length>0){for(let N=0;N<ke.length;N++)if(ne.has(ke[N])){let P=ne.get(ke[N]);if(typeof P!="undefined"&&P!==null){let y=d+P+"/";if(Dn.existsSync(y)){let x=Ki(y,".yaml"),A=[];for(let R=0;R<x.length;R++)if(Xn(x[R])){let b=zt.basename(x[R]).split(".").slice(0,-1).join(".");A.push(b);}re.set(ke[N],A);}}}}let zi=Ki(u,".yaml");for(let N=0;N<zi.length;N++)if(Xn(zi[N])){let P=zt.basename(zi[N]).split(".").slice(0,-1).join(".");if(P!=null&&P.trim().length>0){let y=Io(zi[N],P,Te);Q.set(P,y),Nt=Nt.concat(y);}}for(let N=0;N<g.length;N++)if(Xn(g[N])){let P=zt.basename(g[N]).split(".").slice(0,-1).join("."),y=Io(g[N],P,Te),x=Po((0,I0.dirname)(g[N])).split("/").pop();Nt=Nt.concat(y),x!=null&&x.trim().length>0&&(P=x,Ot.includes(x)==!1&&Ot.push(x)),st.set(P,y);}let br=Ki(c,".yaml");for(let N=0;N<br.length;N++)if(Xn(br[N])){let P=l0(br[N]);yt.set(P.handle,P);}let Ni=Ki(l,".yaml");for(let N=0;N<Ni.length;N++)if(Xn(Ni[N])){let P=zt.basename(Ni[N]).split(".").slice(0,-1).join("."),y=Io(Ni[N],P,Te);Nt=Nt.concat(y),_t.set(P,y);}if(Dn.existsSync(v)){let N=Ki(v,".yaml");for(let P=0;P<N.length;P++)if(Xn(N[P])){let y=zt.basename(N[P]).split(".").slice(0,-1).join("."),x=Io(N[P],y,Te);Nt=Nt.concat(x),Ao.set(y,x);}}let Pi=Ki(s,".yaml"),Ii=Ki(i,".yaml"),ei=[];for(let N=0;N<Ii.length;N++)if(Xn(Ii[N])){let P=zt.basename(Ii[N]).split(".").slice(0,-1).join(".");ei.includes(P)||ei.push(P);}for(let N=0;N<Pi.length;N++)if(Xn(Pi[N])){let P=zt.basename(Pi[N]).split(".").slice(0,-1).join("."),y=Io(Pi[N],P,Te);Nt=Nt.concat(y),je.set(P,y);}for(let N=0;N<ei.length;N++)je.has(ei[N])||je.set(ei[N],[]);let Qn=new Map;for(let N=0;N<_.length;N++)Qn.set(_[N].relativeDisplayName,_[N]);return Tr.forEach((N,P)=>{N.template.trim().length>0&&Qn.has(N.template)&&Qn.get(N.template).injectsCollections.push(N.handle);}),new S0({composerPackages:ae,statamicPackage:ue,isMocked:!1,workingDirectory:I,taxonomyPluralizedMapping:ne,collectionScopes:$i,blueprintFiles:g,collectionBlueprintsPath:n,collections:Tr,rootPath:e,fields:st,fieldsetsPath:o,fieldsets:Te,collectionNames:Ot,formBlueprintsPath:i,taxonomiesBlueprintsPath:a,globalBlueprintsPath:l,miscBlueprintsPath:u,viewsPath:r,views:_,globalFiles:[],forms:je,globals:_t,miscFields:Q,taxonomies:Ie,taxonomyNames:ke,templates:ze,partialCache:ot,partialViewNames:bi,macroFilePath:T,hasMacrosFile:B,contentDirectory:f,taxonomyContentDirectory:d,taxonomyTerms:re,assets:xo,assetFields:Ao,oauthProviders:[],navigationMenus:yt,userPermissionsPath:p,userGroupNames:ce,userGroups:se,userRoleNames:be,userRoles:ee,searchIndexes:[],internalFieldReference:Nt,restoreProperties:null},t);}var S0=class extends mg{reloadDetails(){return hg(this.baseResourcePath);}};var gg=class{static getReferences(e){var n;if(e==null)return null;if(((n=e.context)==null?void 0:n.feature)instanceof ie){let r=e.context.feature;if(r.scopeVariable==null||r.scopeVariable.sourceField==null)return null;let i=new Map;Ae.getDocuments().forEach(o=>{let a=o.getAllAntlersNodes(),l=[];a.forEach(u=>{u.runtimeNodes.forEach(f=>{var c;(f.scopeVariable!=null&&f.scopeVariable==r.scopeVariable||f.scopeVariable!=null&&f.scopeVariable.sourceName==((c=r.scopeVariable)==null?void 0:c.sourceName)&&f instanceof ie&&f.name==r.name)&&l.push(f);});}),i.set(o.documentUri,l);});let s=[];return i.forEach((o,a)=>{o.forEach(l=>{s.push({uri:a,range:mo(l)});});}),s;}return[];}};function R0(t){var r;if(((r=fe.instance)==null?void 0:r.hasStructure())==!1)return null;let e=decodeURIComponent(t.textDocument.uri);if(Ae.hasDocument(e)==!1)return null;let n=dr(t.position,e);return gg.getReferences(n);}function C0(t){var r;let e=decodeURIComponent(t.textDocument.uri),n=dr(t.position,e);if(n==null)return null;if(((r=n.context)==null?void 0:r.feature)instanceof ie){let i=n.context.feature,s=n.antlersDocument.getAllAntlersNodes();if(i.scopeVariable==null||i.scopeVariable.sourceField==null)return null;let o=[],a=[];return s.forEach(l=>{l.runtimeNodes.forEach(u=>{var f;(u.scopeVariable!=null&&u.scopeVariable==i.scopeVariable||u.scopeVariable!=null&&u.scopeVariable.sourceName==((f=i.scopeVariable)==null?void 0:f.sourceName)&&u instanceof ie&&u.name==i.name)&&o.push(u);});}),o.length>0&&o.push(i),o.forEach(l=>{a.push({range:mo(l)});}),a;}return[];}var BV=sg();var op={formatFrontMatter:!1,trace:{server:"off"},formatterIgnoreExtensions:["xml"],languageVersion:"regex"},Hl=op;function ap(t){Hl=t;}function Zh(){return Hl;}var $e=(0,Xt.createConnection)(Xt.ProposedFeatures.all),Ya=new Xt.TextDocuments(A0.TextDocument);KR(__dirname);var _g=!1,E0=!1,jV=!1,yg;(e=>e.type=new Xt.RequestType("antlers/loadManifest"))(yg||(yg={}));var Tg;(e=>e.type=new Xt.RequestType("antlers/reindex"))(Tg||(Tg={}));var bg;(e=>e.type=new Xt.RequestType("antlers/lockedits"))(bg||(bg={}));var vg;(e=>e.type=new Xt.RequestType("antlers/projectUpdate"))(vg||(vg={}));var Ng;(e=>e.type=new Xt.RequestType0("antlers/semanticTokenLegend"))(Ng||(Ng={}));var Pg;(e=>e.type=new Xt.RequestType("antlers/semanticTokens"))(Pg||(Pg={}));$e.onInitialize(t=>{let e=t.capabilities;JR(),_g=!!(e.workspace&&!!e.workspace.configuration),E0=!!(e.workspace&&!!e.workspace.workspaceFolders),jV=!!(e.textDocument&&e.textDocument.publishDiagnostics&&e.textDocument.publishDiagnostics.relatedInformation);let n={capabilities:{textDocumentSync:Xt.TextDocumentSyncKind.Full,completionProvider:{resolveProvider:!0,triggerCharacters:[":",'"',"'","{","/","|","@"," "]},documentFormattingProvider:{},foldingRangeProvider:{},signatureHelpProvider:{triggerCharacters:[":",","]},documentLinkProvider:{},hoverProvider:{},definitionProvider:{},documentSymbolProvider:{},referencesProvider:{},documentHighlightProvider:{}}};return E0&&(n.capabilities.workspace={workspaceFolders:{supported:!0}}),n;});$e.onInitialized(()=>{_g&&$e.client.register(Xt.DidChangeConfigurationNotification.type,void 0);let t=$e.workspace.getConfiguration("html").then(function(n){Eh(n);}),e=$e.workspace.getConfiguration("antlersLanguageServer").then(function(n){n!=null?ap(n):ap(op);});});$e.onDidChangeConfiguration(t=>{let e=$e.workspace.getConfiguration("html").then(function(r){Eh(r);}),n=$e.workspace.getConfiguration("antlersLanguageServer").then(function(r){r!=null?ap(r):ap(op);});Ya.all().forEach(Sg),Ya.all().forEach(Ch),Ya.all().forEach(r=>{lp(encodeURIComponent(r.uri));}),Ya.all().forEach(r=>{xh(r,$e);});});$e.onDocumentLinks(t=>{let e=decodeURIComponent(t.textDocument.uri);return rg.getDocumentLinks(e);});var Ig=!1;$e.onRequest(bg.type,()=>{Ig=!0;});Ya.onDidChangeContent(t=>{if(Ig){Ig=!1;return;}Sg(t.document),Ch(t.document),lp(decodeURIComponent(t.document.uri)),xh(t.document,$e);});$e.onDidChangeWatchedFiles(t=>{});$e.onHover(t=>BR(t));$e.onDocumentSymbol(t=>YR(t));$e.onDocumentHighlight(C0);$e.onReferences(R0);$e.onDefinition(jR);$e.onFoldingRanges(pI);$e.onSignatureHelp(VR);$e.onDocumentFormatting(FR);$e.onCompletion(uI);$e.onCompletionResolve(cI);Ya.listen($e);$e.onRequest(Ng.type,t=>ng().legend);$e.onRequest(Tg.type,()=>{ag();});$e.onRequest(vg.type,()=>{var t,e,n,r,i;if((t=fe.instance)==null||t.setDirtyState(!0),(e=fe.instance)==null||e.reloadDetails(),(n=fe.instance)==null?void 0:n.hasStructure()){let s=(r=fe.instance)==null?void 0:r.getStructure();Ae.setProject(s),(i=ro.instance)==null||i.updateProject(s);}});$e.onRequest(yg.type,()=>{});$e.onRequest(Pg.type,(t,e)=>{let n=decodeURIComponent(t.textDocument.uri);if(Ps.has(n)){let r=Ps.get(n);return ng().getSemanticTokens(r,t.ranges);}return null;});async function Sg(t){var i,s,o,a,l,u,f,c,d;if((i=fe.instance)==null?void 0:i.hasStructure()){fe.instance.reloadDetails(),Ae.setProject(fe.instance.getStructure());return;}let e=decodeURIComponent(t.uri),n=BV(e),r=hg(n);if((s=fe.instance)==null||s.setActiveProject(r),((o=fe.instance)==null?void 0:o.hasStructure())&&(Ae.setProject((a=fe.instance)==null?void 0:a.getStructure()),(u=ro.instance)==null||u.updateProject((l=fe.instance)==null?void 0:l.getStructure())),(f=Cr.instance)==null||f.clearPartialReferences(e),(c=Qr.instance)==null||c.clearIssues(e),(d=fe.instance)==null?void 0:d.hasStructure()){let p=fe.instance.getStructure().getViews();for(let m=0;m<p.length;m++){let h=p[m];OS(h.documentUri,x0.readFileSync(h.path,{encoding:"utf8"})),lp(h.documentUri);}}}function lp(t){var e,n,r,i,s,o,a,l,u,f,c,d,p,m,h,v;if(t=decodeURIComponent(t),Ae.hasDocument(t)){let g=Ae.getDocument(t),_=g.getAllAntlersNodes();(e=Qr.instance)==null||e.clearIssues(t),(n=Cr.instance)==null||n.clearAllReferences(t),Ks.clear(t);let T=[],I=[],w=[],$=[],B=[],ue=[];for(let Te=0;Te<_.length;Te++){let ne=_[Te],je=ne.getTagName();if(je==="yield"||je=="yields"){let Ie=ne.reference;Ie!=null&&Ie instanceof bl&&T.push(Ie);}else if(je==="partial")w.push(ne);else if(je==="cache")$.push(ne);else if(ne.runtimeName()=="session:set"||ne.runtimeName()=="session:flash"){let Ie=ne.reference;Ie!=null&&Ie instanceof Xs&&I.push(Ie);}if(ne.modifiers!=null){let Ie=ne.modifiers.getModifierValue("partial");if(Ie!=null){let Q=(r=fe.instance)==null?void 0:r.getStructure().findPartial(Ie);Q!=null&&((i=Cr.instance)==null||i.clearRemovesPageScope(Q.originalDocumentUri),(s=Cr.instance)==null||s.setRemovesPageScope(Q.originalDocumentUri,ne));}}if(ne.isTagNode){let Ie=(o=he.instance)==null?void 0:o.findTag(ne.runtimeName());Ie!=null&&Ie.requiresClose&&ne.isClosedBy==null&&ne.isClosingTag==!1&&ne.isSelfClosing==!1&&B.push(ne);}else ne.manifestType==="array"&&ne.isClosedBy==null&&B.push(ne);let _t=(l=(a=Qr.instance)==null?void 0:a.checkNode(ne))!=null?l:[];_t.length>0&&(ue=ue.concat(_t));}let ae=(f=(u=Qr.instance)==null?void 0:u.checkDocument(g))!=null?f:[];ae.length>0&&(ue=ue.concat(ae)),B.length>0&&Ks.registerNodes(t,B),(c=ro.instance)==null||c.registerInjections(t,w),(d=wc.instance)==null||d.registerDocumentSections(t,T),(p=Cr.instance)==null||p.registerPartialReferences(t,w),(m=Cr.instance)==null||m.registerCacheReferences(t,$),(h=Qr.instance)==null||h.registerDiagnostics(t,ue),(v=Js.instance)==null||v.registerDocumentSessionVariables(t,I);}}$e.listen();module.exports=F0(UV);0&&(module.exports={analyzeStructures,collectProjectDetails,connection,defaultSettings,getAntlersSettings,globalSettings,hasConfigurationCapability});
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
