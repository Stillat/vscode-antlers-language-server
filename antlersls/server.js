#!/usr/bin/env node
"use strict";var z1=Object.create;var mf=Object.defineProperty;var Q1=Object.getOwnPropertyDescriptor;var X1=Object.getOwnPropertyNames;var J1=Object.getPrototypeOf,Z1=Object.prototype.hasOwnProperty;var C=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),eM=(t,e)=>{for(var i in e)mf(t,i,{get:e[i],enumerable:!0})},OT=(t,e,i,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of X1(e))!Z1.call(t,n)&&n!==i&&mf(t,n,{get:()=>e[n],enumerable:!(r=Q1(e,n))||r.enumerable});return t};var ee=(t,e,i)=>(i=t!=null?z1(J1(t)):{},OT(e||!t||!t.__esModule?mf(i,"default",{value:t,enumerable:!0}):i,t)),tM=t=>OT(mf({},"__esModule",{value:!0}),t);var qT=C((MT,gf)=>{(function(t){if(typeof gf=="object"&&typeof gf.exports=="object"){var e=t(require,MT);e!==void 0&&(gf.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function l(u,c,f,d){this._uri=u,this._languageId=c,this._version=f,this._content=d,this._lineOffsets=void 0}return Object.defineProperty(l.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),l.prototype.getText=function(u){if(u){var c=this.offsetAt(u.start),f=this.offsetAt(u.end);return this._content.substring(c,f)}return this._content},l.prototype.update=function(u,c){for(var f=0,d=u;f<d.length;f++){var p=d[f];if(l.isIncremental(p)){var h=o(p.range),T=this.offsetAt(h.start),N=this.offsetAt(h.end);this._content=this._content.substring(0,T)+p.text+this._content.substring(N,this._content.length);var _=Math.max(h.start.line,0),g=Math.max(h.end.line,0),y=this._lineOffsets,x=s(p.text,!1,T);if(g-_===x.length)for(var L=0,E=x.length;L<E;L++)y[L+_+1]=x[L];else x.length<1e4?y.splice.apply(y,[_+1,g-_].concat(x)):this._lineOffsets=y=y.slice(0,_+1).concat(x,y.slice(g+1));var U=p.text.length-(N-T);if(U!==0)for(var L=_+1+x.length,E=y.length;L<E;L++)y[L]=y[L]+U}else if(l.isFull(p))this._content=p.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received")}this._version=c},l.prototype.getLineOffsets=function(){return this._lineOffsets===void 0&&(this._lineOffsets=s(this._content,!0)),this._lineOffsets},l.prototype.positionAt=function(u){u=Math.max(Math.min(u,this._content.length),0);var c=this.getLineOffsets(),f=0,d=c.length;if(d===0)return{line:0,character:u};for(;f<d;){var p=Math.floor((f+d)/2);c[p]>u?d=p:f=p+1}var h=f-1;return{line:h,character:u-c[h]}},l.prototype.offsetAt=function(u){var c=this.getLineOffsets();if(u.line>=c.length)return this._content.length;if(u.line<0)return 0;var f=c[u.line],d=u.line+1<c.length?c[u.line+1]:this._content.length;return Math.max(Math.min(f+u.character,d),f)},Object.defineProperty(l.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),l.isIncremental=function(u){var c=u;return c!=null&&typeof c.text=="string"&&c.range!==void 0&&(c.rangeLength===void 0||typeof c.rangeLength=="number")},l.isFull=function(u){var c=u;return c!=null&&typeof c.text=="string"&&c.range===void 0&&c.rangeLength===void 0},l}(),r;(function(l){function u(d,p,h,T){return new i(d,p,h,T)}l.create=u;function c(d,p,h){if(d instanceof i)return d.update(p,h),d;throw new Error("TextDocument.update: document must be created by TextDocument.create")}l.update=c;function f(d,p){for(var h=d.getText(),T=n(p.map(a),function(E,U){var w=E.range.start.line-U.range.start.line;return w===0?E.range.start.character-U.range.start.character:w}),N=0,_=[],g=0,y=T;g<y.length;g++){var x=y[g],L=d.offsetAt(x.range.start);if(L<N)throw new Error("Overlapping edit");L>N&&_.push(h.substring(N,L)),x.newText.length&&_.push(x.newText),N=d.offsetAt(x.range.end)}return _.push(h.substr(N)),_.join("")}l.applyEdits=f})(r=e.TextDocument||(e.TextDocument={}));function n(l,u){if(l.length<=1)return l;var c=l.length/2|0,f=l.slice(0,c),d=l.slice(c);n(f,u),n(d,u);for(var p=0,h=0,T=0;p<f.length&&h<d.length;){var N=u(f[p],d[h]);N<=0?l[T++]=f[p++]:l[T++]=d[h++]}for(;p<f.length;)l[T++]=f[p++];for(;h<d.length;)l[T++]=d[h++];return l}function s(l,u,c){c===void 0&&(c=0);for(var f=u?[c]:[],d=0;d<l.length;d++){var p=l.charCodeAt(d);(p===13||p===10)&&(p===13&&d+1<l.length&&l.charCodeAt(d+1)===10&&d++,f.push(c+d+1))}return f}function o(l){var u=l.start,c=l.end;return u.line>c.line||u.line===c.line&&u.character>c.character?{start:c,end:u}:l}function a(l){var u=o(l.range);return u!==l.range?{newText:l.newText,range:u}:l}})});var _f=C(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.thenable=Qt.typedArray=Qt.stringArray=Qt.array=Qt.func=Qt.error=Qt.number=Qt.string=Qt.boolean=void 0;function iM(t){return t===!0||t===!1}Qt.boolean=iM;function BT(t){return typeof t=="string"||t instanceof String}Qt.string=BT;function rM(t){return typeof t=="number"||t instanceof Number}Qt.number=rM;function nM(t){return t instanceof Error}Qt.error=nM;function VT(t){return typeof t=="function"}Qt.func=VT;function UT(t){return Array.isArray(t)}Qt.array=UT;function sM(t){return UT(t)&&t.every(e=>BT(e))}Qt.stringArray=sM;function oM(t,e){return Array.isArray(t)&&t.every(e)}Qt.typedArray=oM;function aM(t){return t&&VT(t.then)}Qt.thenable=aM});var ts=C(em=>{"use strict";Object.defineProperty(em,"__esModule",{value:!0});var Jh;function Zh(){if(Jh===void 0)throw new Error("No runtime abstraction layer installed");return Jh}(function(t){function e(i){if(i===void 0)throw new Error("No runtime abstraction layer provided");Jh=i}t.install=e})(Zh||(Zh={}));em.default=Zh});var tm=C(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.Disposable=void 0;var lM;(function(t){function e(i){return{dispose:i}}t.create=e})(lM=fu.Disposable||(fu.Disposable={}))});var jT=C(yf=>{"use strict";Object.defineProperty(yf,"__esModule",{value:!0});yf.AbstractMessageBuffer=void 0;var uM=13,cM=10,fM=`\r
`,im=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let i=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(i),this._totalLength+=i.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,i=0,r=0,n=0;e:for(;i<this._chunks.length;){let l=this._chunks[i];r=0;t:for(;r<l.length;){switch(l[r]){case uM:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case cM:switch(e){case 1:e=2;break;case 3:e=4,r++;break e;default:e=0}break;default:e=0}r++}n+=l.byteLength,i++}if(e!==4)return;let s=this._read(n+r),o=new Map,a=this.toString(s,"ascii").split(fM);if(a.length<2)return o;for(let l=0;l<a.length-2;l++){let u=a[l],c=u.indexOf(":");if(c===-1)throw new Error("Message header must separate key and value using :");let f=u.substr(0,c),d=u.substr(c+1).trim();o.set(f,d)}return o}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],o=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,o}let i=this.allocNative(e),r=0,n=0;for(;e>0;){let s=this._chunks[n];if(s.byteLength>e){let o=s.slice(0,e);i.set(o,r),r+=e,this._chunks[n]=s.slice(e),this._totalLength-=e,e-=e}else i.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return i}};yf.AbstractMessageBuffer=im});var WT=C(om=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});var dM=ts(),GT=require("util"),ko=tm(),pM=jT(),xa=class extends pM.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return xa.emptyBuffer}fromString(e,i){return Buffer.from(e,i)}toString(e,i){return e instanceof Buffer?e.toString(i):new GT.TextDecoder(i).decode(e)}asNative(e,i){return i===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,i):Buffer.from(e,0,i)}allocNative(e){return Buffer.allocUnsafe(e)}};xa.emptyBuffer=Buffer.allocUnsafe(0);var rm=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),ko.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),ko.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),ko.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),ko.Disposable.create(()=>this.stream.off("data",e))}},nm=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),ko.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),ko.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),ko.Disposable.create(()=>this.stream.off("end",e))}write(e,i){return new Promise((r,n)=>{let s=o=>{o==null?r():n(o)};typeof e=="string"?this.stream.write(e,i,s):this.stream.write(e,s)})}end(){this.stream.end()}},HT=Object.freeze({messageBuffer:Object.freeze({create:t=>new xa(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(i){return Promise.reject(i)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new GT.TextDecoder(e.charset).decode(t)))}catch(i){return Promise.reject(i)}}})}),stream:Object.freeze({asReadableStream:t=>new rm(t),asWritableStream:t=>new nm(t)}),console,timer:Object.freeze({setTimeout(t,e,...i){return setTimeout(t,e,...i)},clearTimeout(t){clearTimeout(t)},setImmediate(t,...e){return setImmediate(t,...e)},clearImmediate(t){clearImmediate(t)}})});function sm(){return HT}(function(t){function e(){dM.default.install(HT)}t.install=e})(sm||(sm={}));om.default=sm});var wa=C(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.stringArray=Ri.array=Ri.func=Ri.error=Ri.number=Ri.string=Ri.boolean=void 0;function hM(t){return t===!0||t===!1}Ri.boolean=hM;function YT(t){return typeof t=="string"||t instanceof String}Ri.string=YT;function mM(t){return typeof t=="number"||t instanceof Number}Ri.number=mM;function gM(t){return t instanceof Error}Ri.error=gM;function _M(t){return typeof t=="function"}Ri.func=_M;function KT(t){return Array.isArray(t)}Ri.array=KT;function yM(t){return KT(t)&&t.every(e=>YT(e))}Ri.stringArray=yM});var Rm=C(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.isResponseMessage=me.isNotificationMessage=me.isRequestMessage=me.NotificationType9=me.NotificationType8=me.NotificationType7=me.NotificationType6=me.NotificationType5=me.NotificationType4=me.NotificationType3=me.NotificationType2=me.NotificationType1=me.NotificationType0=me.NotificationType=me.RequestType9=me.RequestType8=me.RequestType7=me.RequestType6=me.RequestType5=me.RequestType4=me.RequestType3=me.RequestType2=me.RequestType1=me.RequestType=me.RequestType0=me.AbstractMessageSignature=me.ParameterStructures=me.ResponseError=me.ErrorCodes=void 0;var Do=wa(),$T;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=t.jsonrpcReservedErrorRangeStart,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=t.jsonrpcReservedErrorRangeEnd})($T=me.ErrorCodes||(me.ErrorCodes={}));var du=class extends Error{constructor(e,i,r){super(i),this.code=Do.number(e)?e:$T.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,du.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};me.ResponseError=du;var hi=class{constructor(e){this.kind=e}static is(e){return e===hi.auto||e===hi.byName||e===hi.byPosition}toString(){return this.kind}};me.ParameterStructures=hi;hi.auto=new hi("auto");hi.byPosition=new hi("byPosition");hi.byName=new hi("byName");var Et=class{constructor(e,i){this.method=e,this.numberOfParams=i}get parameterStructures(){return hi.auto}};me.AbstractMessageSignature=Et;var am=class extends Et{constructor(e){super(e,0)}};me.RequestType0=am;var lm=class extends Et{constructor(e,i=hi.auto){super(e,1),this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};me.RequestType=lm;var um=class extends Et{constructor(e,i=hi.auto){super(e,1),this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};me.RequestType1=um;var cm=class extends Et{constructor(e){super(e,2)}};me.RequestType2=cm;var fm=class extends Et{constructor(e){super(e,3)}};me.RequestType3=fm;var dm=class extends Et{constructor(e){super(e,4)}};me.RequestType4=dm;var pm=class extends Et{constructor(e){super(e,5)}};me.RequestType5=pm;var hm=class extends Et{constructor(e){super(e,6)}};me.RequestType6=hm;var mm=class extends Et{constructor(e){super(e,7)}};me.RequestType7=mm;var gm=class extends Et{constructor(e){super(e,8)}};me.RequestType8=gm;var _m=class extends Et{constructor(e){super(e,9)}};me.RequestType9=_m;var ym=class extends Et{constructor(e,i=hi.auto){super(e,1),this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};me.NotificationType=ym;var Tm=class extends Et{constructor(e){super(e,0)}};me.NotificationType0=Tm;var bm=class extends Et{constructor(e,i=hi.auto){super(e,1),this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};me.NotificationType1=bm;var Im=class extends Et{constructor(e){super(e,2)}};me.NotificationType2=Im;var vm=class extends Et{constructor(e){super(e,3)}};me.NotificationType3=vm;var Nm=class extends Et{constructor(e){super(e,4)}};me.NotificationType4=Nm;var Sm=class extends Et{constructor(e){super(e,5)}};me.NotificationType5=Sm;var Pm=class extends Et{constructor(e){super(e,6)}};me.NotificationType6=Pm;var Am=class extends Et{constructor(e){super(e,7)}};me.NotificationType7=Am;var Em=class extends Et{constructor(e){super(e,8)}};me.NotificationType8=Em;var Cm=class extends Et{constructor(e){super(e,9)}};me.NotificationType9=Cm;function TM(t){let e=t;return e&&Do.string(e.method)&&(Do.string(e.id)||Do.number(e.id))}me.isRequestMessage=TM;function bM(t){let e=t;return e&&Do.string(e.method)&&t.id===void 0}me.isNotificationMessage=bM;function IM(t){let e=t;return e&&(e.result!==void 0||!!e.error)&&(Do.string(e.id)||Do.number(e.id)||e.id===null)}me.isResponseMessage=IM});var Da=C(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.Emitter=Fo.Event=void 0;var vM=ts(),NM;(function(t){let e={dispose(){}};t.None=function(){return e}})(NM=Fo.Event||(Fo.Event={}));var xm=class{add(e,i=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(i),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,i)})}remove(e,i=null){if(!this._callbacks)return;let r=!1;for(let n=0,s=this._callbacks.length;n<s;n++)if(this._callbacks[n]===e)if(this._contexts[n]===i){this._callbacks.splice(n,1),this._contexts.splice(n,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let i=[],r=this._callbacks.slice(0),n=this._contexts.slice(0);for(let s=0,o=r.length;s<o;s++)try{i.push(r[s].apply(n[s],e))}catch(a){vM.default().console.error(a)}return i}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},ka=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,i,r)=>{this._callbacks||(this._callbacks=new xm),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,i);let n={dispose:()=>{!this._callbacks||(this._callbacks.remove(e,i),n.dispose=ka._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(n),n}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Fo.Emitter=ka;ka._noop=function(){}});var Fm=C(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.CancellationTokenSource=Lo.CancellationToken=void 0;var zT=ts(),SM=wa(),wm=Da(),km;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:wm.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:wm.Event.None});function e(i){let r=i;return r&&(r===t.None||r===t.Cancelled||SM.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(km=Lo.CancellationToken||(Lo.CancellationToken={}));var PM=Object.freeze(function(t,e){let i=zT.default().timer.setTimeout(t.bind(e),0);return{dispose(){zT.default().timer.clearTimeout(i)}}}),Tf=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?PM:(this._emitter||(this._emitter=new wm.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Dm=class{get token(){return this._token||(this._token=new Tf),this._token}cancel(){this._token?this._token.cancel():this._token=km.Cancelled}dispose(){this._token?this._token instanceof Tf&&this._token.dispose():this._token=km.None}};Lo.CancellationTokenSource=Dm});var QT=C(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.ReadableStreamMessageReader=is.AbstractMessageReader=is.MessageReader=void 0;var bf=ts(),Fa=wa(),Lm=Da(),AM;(function(t){function e(i){let r=i;return r&&Fa.func(r.listen)&&Fa.func(r.dispose)&&Fa.func(r.onError)&&Fa.func(r.onClose)&&Fa.func(r.onPartialMessage)}t.is=e})(AM=is.MessageReader||(is.MessageReader={}));var If=class{constructor(){this.errorEmitter=new Lm.Emitter,this.closeEmitter=new Lm.Emitter,this.partialMessageEmitter=new Lm.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Fa.string(e.message)?e.message:"unknown"}`)}};is.AbstractMessageReader=If;var Om;(function(t){function e(i){var r;let n,s,o,a=new Map,l,u=new Map;if(i===void 0||typeof i=="string")n=i??"utf-8";else{if(n=(r=i.charset)!==null&&r!==void 0?r:"utf-8",i.contentDecoder!==void 0&&(o=i.contentDecoder,a.set(o.name,o)),i.contentDecoders!==void 0)for(let c of i.contentDecoders)a.set(c.name,c);if(i.contentTypeDecoder!==void 0&&(l=i.contentTypeDecoder,u.set(l.name,l)),i.contentTypeDecoders!==void 0)for(let c of i.contentTypeDecoders)u.set(c.name,c)}return l===void 0&&(l=bf.default().applicationJson.decoder,u.set(l.name,l)),{charset:n,contentDecoder:o,contentDecoders:a,contentTypeDecoder:l,contentTypeDecoders:u}}t.fromOptions=e})(Om||(Om={}));var Mm=class extends If{constructor(e,i){super(),this.readable=e,this.options=Om.fromOptions(i),this.buffer=bf.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let i=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),i}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders();if(!n)return;let s=n.get("Content-Length");if(!s)throw new Error("Header must provide a Content-Length property.");let o=parseInt(s);if(isNaN(o))throw new Error("Content-Length value must be a number.");this.nextMessageLength=o}let i=this.buffer.tryReadBody(this.nextMessageLength);if(i===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(i):r=Promise.resolve(i),r.then(n=>{this.options.contentTypeDecoder.decode(n,this.options).then(s=>{this.callback(s)},s=>{this.fireError(s)})},n=>{this.fireError(n)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(bf.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=bf.default().timer.setTimeout((e,i)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:i}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};is.ReadableStreamMessageReader=Mm});var XT=C(vf=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});vf.Semaphore=void 0;var EM=ts(),qm=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((i,r)=>{this._waiting.push({thunk:e,resolve:i,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||EM.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let i=e.thunk();i instanceof Promise?i.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(i),this.runNext())}catch(i){this._active--,e.reject(i),this.runNext()}}};vf.Semaphore=qm});var tb=C(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.WriteableStreamMessageWriter=rs.AbstractMessageWriter=rs.MessageWriter=void 0;var JT=ts(),pu=wa(),CM=XT(),ZT=Da(),RM="Content-Length: ",eb=`\r
`,xM;(function(t){function e(i){let r=i;return r&&pu.func(r.dispose)&&pu.func(r.onClose)&&pu.func(r.onError)&&pu.func(r.write)}t.is=e})(xM=rs.MessageWriter||(rs.MessageWriter={}));var Nf=class{constructor(){this.errorEmitter=new ZT.Emitter,this.closeEmitter=new ZT.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,i,r){this.errorEmitter.fire([this.asError(e),i,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${pu.string(e.message)?e.message:"unknown"}`)}};rs.AbstractMessageWriter=Nf;var Bm;(function(t){function e(i){var r,n;return i===void 0||typeof i=="string"?{charset:i??"utf-8",contentTypeEncoder:JT.default().applicationJson.encoder}:{charset:(r=i.charset)!==null&&r!==void 0?r:"utf-8",contentEncoder:i.contentEncoder,contentTypeEncoder:(n=i.contentTypeEncoder)!==null&&n!==void 0?n:JT.default().applicationJson.encoder}}t.fromOptions=e})(Bm||(Bm={}));var Vm=class extends Nf{constructor(e,i){super(),this.writable=e,this.options=Bm.fromOptions(i),this.errorCount=0,this.writeSemaphore=new CM.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let n=[];return n.push(RM,r.byteLength.toString(),eb),n.push(eb),this.doWrite(e,n,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,i,r){try{return await this.writable.write(i.join(""),"ascii"),this.writable.write(r)}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,i){this.errorCount++,this.fireError(e,i,this.errorCount)}end(){this.writable.end()}};rs.WriteableStreamMessageWriter=Vm});var ib=C(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.LRUCache=ns.LinkedMap=ns.Touch=void 0;var Gi;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(Gi=ns.Touch||(ns.Touch={}));var Sf=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,i=Gi.None){let r=this._map.get(e);if(!!r)return i!==Gi.None&&this.touch(r,i),r.value}set(e,i,r=Gi.None){let n=this._map.get(e);if(n)n.value=i,r!==Gi.None&&this.touch(n,r);else{switch(n={key:e,value:i,next:void 0,previous:void 0},r){case Gi.None:this.addItemLast(n);break;case Gi.First:this.addItemFirst(n);break;case Gi.Last:this.addItemLast(n);break;default:this.addItemLast(n);break}this._map.set(e,n),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let i=this._map.get(e);if(!!i)return this._map.delete(e),this.removeItem(i),this._size--,i.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,i){let r=this._state,n=this._head;for(;n;){if(i?e.bind(i)(n.value,n.key,this):e(n.value,n.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");n=n.next}}keys(){let e=this,i=this._state,r=this._head,n={[Symbol.iterator](){return n},next(){if(e._state!==i)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.key,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return n}values(){let e=this,i=this._state,r=this._head,n={[Symbol.iterator](){return n},next(){if(e._state!==i)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.value,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return n}entries(){let e=this,i=this._state,r=this._head,n={[Symbol.iterator](){return n},next(){if(e._state!==i)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:[r.key,r.value],done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return n}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let i=this._head,r=this.size;for(;i&&r>e;)this._map.delete(i.key),i=i.next,r--;this._head=i,this._size=r,i&&(i.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let i=e.next,r=e.previous;if(!i||!r)throw new Error("Invalid list");i.previous=r,r.next=i}e.next=void 0,e.previous=void 0,this._state++}touch(e,i){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(i!==Gi.First&&i!==Gi.Last)){if(i===Gi.First){if(e===this._head)return;let r=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(r.previous=n,n.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(i===Gi.Last){if(e===this._tail)return;let r=e.next,n=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=n,n.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((i,r)=>{e.push([r,i])}),e}fromJSON(e){this.clear();for(let[i,r]of e)this.set(i,r)}};ns.LinkedMap=Sf;var Um=class extends Sf{constructor(e,i=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,i),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,i=Gi.AsNew){return super.get(e,i)}peek(e){return super.get(e,Gi.None)}set(e,i){return super.set(e,i,Gi.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};ns.LRUCache=Um});var ab=C(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.createMessageConnection=ke.ConnectionOptions=ke.CancellationStrategy=ke.CancellationSenderStrategy=ke.CancellationReceiverStrategy=ke.ConnectionStrategy=ke.ConnectionError=ke.ConnectionErrors=ke.LogTraceNotification=ke.SetTraceNotification=ke.TraceFormat=ke.Trace=ke.NullLogger=ke.ProgressType=void 0;var rb=ts(),mi=wa(),Ee=Rm(),nb=ib(),hu=Da(),jm=Fm(),mu;(function(t){t.type=new Ee.NotificationType("$/cancelRequest")})(mu||(mu={}));var Af;(function(t){t.type=new Ee.NotificationType("$/progress")})(Af||(Af={}));var Gm=class{constructor(){}};ke.ProgressType=Gm;var Hm;(function(t){function e(i){return mi.func(i)}t.is=e})(Hm||(Hm={}));ke.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Xt;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose"})(Xt=ke.Trace||(ke.Trace={}));(function(t){function e(r){if(!mi.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function i(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off"}}t.toString=i})(Xt=ke.Trace||(ke.Trace={}));var fn;(function(t){t.Text="text",t.JSON="json"})(fn=ke.TraceFormat||(ke.TraceFormat={}));(function(t){function e(i){return i=i.toLowerCase(),i==="json"?t.JSON:t.Text}t.fromString=e})(fn=ke.TraceFormat||(ke.TraceFormat={}));var sb;(function(t){t.type=new Ee.NotificationType("$/setTrace")})(sb=ke.SetTraceNotification||(ke.SetTraceNotification={}));var Wm;(function(t){t.type=new Ee.NotificationType("$/logTrace")})(Wm=ke.LogTraceNotification||(ke.LogTraceNotification={}));var Pf;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(Pf=ke.ConnectionErrors||(ke.ConnectionErrors={}));var Cs=class extends Error{constructor(e,i){super(i),this.code=e,Object.setPrototypeOf(this,Cs.prototype)}};ke.ConnectionError=Cs;var ob;(function(t){function e(i){let r=i;return r&&mi.func(r.cancelUndispatched)}t.is=e})(ob=ke.ConnectionStrategy||(ke.ConnectionStrategy={}));var Ym;(function(t){t.Message=Object.freeze({createCancellationTokenSource(i){return new jm.CancellationTokenSource}});function e(i){let r=i;return r&&mi.func(r.createCancellationTokenSource)}t.is=e})(Ym=ke.CancellationReceiverStrategy||(ke.CancellationReceiverStrategy={}));var Km;(function(t){t.Message=Object.freeze({sendCancellation(i,r){i.sendNotification(mu.type,{id:r})},cleanup(i){}});function e(i){let r=i;return r&&mi.func(r.sendCancellation)&&mi.func(r.cleanup)}t.is=e})(Km=ke.CancellationSenderStrategy||(ke.CancellationSenderStrategy={}));var $m;(function(t){t.Message=Object.freeze({receiver:Ym.Message,sender:Km.Message});function e(i){let r=i;return r&&Ym.is(r.receiver)&&Km.is(r.sender)}t.is=e})($m=ke.CancellationStrategy||(ke.CancellationStrategy={}));var wM;(function(t){function e(i){let r=i;return r&&($m.is(r.cancellationStrategy)||ob.is(r.connectionStrategy))}t.is=e})(wM=ke.ConnectionOptions||(ke.ConnectionOptions={}));var dn;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(dn||(dn={}));function kM(t,e,i,r){let n=i!==void 0?i:ke.NullLogger,s=0,o=0,a=0,l="2.0",u,c=Object.create(null),f,d=Object.create(null),p=new Map,h,T=new nb.LinkedMap,N=Object.create(null),_=Object.create(null),g=Xt.Off,y=fn.Text,x,L=dn.New,E=new hu.Emitter,U=new hu.Emitter,w=new hu.Emitter,z=new hu.Emitter,de=new hu.Emitter,H=r&&r.cancellationStrategy?r.cancellationStrategy:$m.Message;function Z(k){if(k===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+k.toString()}function ue(k){return k===null?"res-unknown-"+(++a).toString():"res-"+k.toString()}function te(){return"not-"+(++o).toString()}function Q(k,A){Ee.isRequestMessage(A)?k.set(Z(A.id),A):Ee.isResponseMessage(A)?k.set(ue(A.id),A):k.set(te(),A)}function qe(k){}function ht(){return L===dn.Listening}function pi(){return L===dn.Closed}function ft(){return L===dn.Disposed}function It(){(L===dn.New||L===dn.Listening)&&(L=dn.Closed,U.fire(void 0))}function Jn(k){E.fire([k,void 0,void 0])}function Lr(k){E.fire(k)}t.onClose(It),t.onError(Jn),e.onClose(It),e.onError(Lr);function ce(){h||T.size===0||(h=rb.default().timer.setImmediate(()=>{h=void 0,he()}))}function he(){if(T.size===0)return;let k=T.shift();try{Ee.isRequestMessage(k)?pe(k):Ee.isNotificationMessage(k)?Lt(k):Ee.isResponseMessage(k)?we(k):kn(k)}finally{ce()}}let Ne=k=>{try{if(Ee.isNotificationMessage(k)&&k.method===mu.type.method){let A=Z(k.params.id),I=T.get(A);if(Ee.isRequestMessage(I)){let R=r?.connectionStrategy,F=R&&R.cancelUndispatched?R.cancelUndispatched(I,qe):void 0;if(F&&(F.error!==void 0||F.result!==void 0)){T.delete(A),F.id=I.id,Zn(F,k.method,Date.now()),e.write(F);return}}}Q(T,k)}finally{ce()}};function pe(k){if(ft())return;function A(j,oe,ge){let Ce={jsonrpc:l,id:k.id};j instanceof Ee.ResponseError?Ce.error=j.toJson():Ce.result=j===void 0?null:j,Zn(Ce,oe,ge),e.write(Ce)}function I(j,oe,ge){let Ce={jsonrpc:l,id:k.id,error:j.toJson()};Zn(Ce,oe,ge),e.write(Ce)}function R(j,oe,ge){j===void 0&&(j=null);let Ce={jsonrpc:l,id:k.id,result:j};Zn(Ce,oe,ge),e.write(Ce)}Ca(k);let F=c[k.method],S,b;F&&(S=F.type,b=F.handler);let O=Date.now();if(b||u){let j=String(k.id),oe=H.receiver.createCancellationTokenSource(j);_[j]=oe;try{let ge;if(b)if(k.params===void 0){if(S!==void 0&&S.numberOfParams!==0){I(new Ee.ResponseError(Ee.ErrorCodes.InvalidParams,`Request ${k.method} defines ${S.numberOfParams} params but recevied none.`),k.method,O);return}ge=b(oe.token)}else if(Array.isArray(k.params)){if(S!==void 0&&S.parameterStructures===Ee.ParameterStructures.byName){I(new Ee.ResponseError(Ee.ErrorCodes.InvalidParams,`Request ${k.method} defines parameters by name but received parameters by position`),k.method,O);return}ge=b(...k.params,oe.token)}else{if(S!==void 0&&S.parameterStructures===Ee.ParameterStructures.byPosition){I(new Ee.ResponseError(Ee.ErrorCodes.InvalidParams,`Request ${k.method} defines parameters by position but received parameters by name`),k.method,O);return}ge=b(k.params,oe.token)}else u&&(ge=u(k.method,k.params,oe.token));let Ce=ge;ge?Ce.then?Ce.then(ut=>{delete _[j],A(ut,k.method,O)},ut=>{delete _[j],ut instanceof Ee.ResponseError?I(ut,k.method,O):ut&&mi.string(ut.message)?I(new Ee.ResponseError(Ee.ErrorCodes.InternalError,`Request ${k.method} failed with message: ${ut.message}`),k.method,O):I(new Ee.ResponseError(Ee.ErrorCodes.InternalError,`Request ${k.method} failed unexpectedly without providing any details.`),k.method,O)}):(delete _[j],A(ge,k.method,O)):(delete _[j],R(ge,k.method,O))}catch(ge){delete _[j],ge instanceof Ee.ResponseError?A(ge,k.method,O):ge&&mi.string(ge.message)?I(new Ee.ResponseError(Ee.ErrorCodes.InternalError,`Request ${k.method} failed with message: ${ge.message}`),k.method,O):I(new Ee.ResponseError(Ee.ErrorCodes.InternalError,`Request ${k.method} failed unexpectedly without providing any details.`),k.method,O)}}else I(new Ee.ResponseError(Ee.ErrorCodes.MethodNotFound,`Unhandled method ${k.method}`),k.method,O)}function we(k){if(!ft())if(k.id===null)k.error?n.error(`Received response message without id: Error is: 
${JSON.stringify(k.error,void 0,4)}`):n.error("Received response message without id. No further error information provided.");else{let A=String(k.id),I=N[A];if(Ra(k,I),I){delete N[A];try{if(k.error){let R=k.error;I.reject(new Ee.ResponseError(R.code,R.message,R.data))}else if(k.result!==void 0)I.resolve(k.result);else throw new Error("Should never happen.")}catch(R){R.message?n.error(`Response handler '${I.method}' failed with message: ${R.message}`):n.error(`Response handler '${I.method}' failed unexpectedly.`)}}}}function Lt(k){if(ft())return;let A,I;if(k.method===mu.type.method)I=R=>{let F=R.id,S=_[String(F)];S&&S.cancel()};else{let R=d[k.method];R&&(I=R.handler,A=R.type)}if(I||f)try{Ps(k),I?k.params===void 0?(A!==void 0&&A.numberOfParams!==0&&A.parameterStructures!==Ee.ParameterStructures.byName&&n.error(`Notification ${k.method} defines ${A.numberOfParams} params but recevied none.`),I()):Array.isArray(k.params)?(A!==void 0&&(A.parameterStructures===Ee.ParameterStructures.byName&&n.error(`Notification ${k.method} defines parameters by name but received parameters by position`),A.numberOfParams!==k.params.length&&n.error(`Notification ${k.method} defines ${A.numberOfParams} params but received ${k.params.length} argumennts`)),I(...k.params)):(A!==void 0&&A.parameterStructures===Ee.ParameterStructures.byPosition&&n.error(`Notification ${k.method} defines parameters by position but received parameters by name`),I(k.params)):f&&f(k.method,k.params)}catch(R){R.message?n.error(`Notification handler '${k.method}' failed with message: ${R.message}`):n.error(`Notification handler '${k.method}' failed unexpectedly.`)}else w.fire(k)}function kn(k){if(!k){n.error("Received empty message.");return}n.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(k,null,4)}`);let A=k;if(mi.string(A.id)||mi.number(A.id)){let I=String(A.id),R=N[I];R&&R.reject(new Error("The received response has neither a result nor an error property."))}}function Aa(k){if(!(g===Xt.Off||!x))if(y===fn.Text){let A;g===Xt.Verbose&&k.params&&(A=`Params: ${JSON.stringify(k.params,null,4)}

`),x.log(`Sending request '${k.method} - (${k.id})'.`,A)}else an("send-request",k)}function Ea(k){if(!(g===Xt.Off||!x))if(y===fn.Text){let A;g===Xt.Verbose&&(k.params?A=`Params: ${JSON.stringify(k.params,null,4)}

`:A=`No parameters provided.

`),x.log(`Sending notification '${k.method}'.`,A)}else an("send-notification",k)}function Zn(k,A,I){if(!(g===Xt.Off||!x))if(y===fn.Text){let R;g===Xt.Verbose&&(k.error&&k.error.data?R=`Error data: ${JSON.stringify(k.error.data,null,4)}

`:k.result?R=`Result: ${JSON.stringify(k.result,null,4)}

`:k.error===void 0&&(R=`No result returned.

`)),x.log(`Sending response '${A} - (${k.id})'. Processing request took ${Date.now()-I}ms`,R)}else an("send-response",k)}function Ca(k){if(!(g===Xt.Off||!x))if(y===fn.Text){let A;g===Xt.Verbose&&k.params&&(A=`Params: ${JSON.stringify(k.params,null,4)}

`),x.log(`Received request '${k.method} - (${k.id})'.`,A)}else an("receive-request",k)}function Ps(k){if(!(g===Xt.Off||!x||k.method===Wm.type.method))if(y===fn.Text){let A;g===Xt.Verbose&&(k.params?A=`Params: ${JSON.stringify(k.params,null,4)}

`:A=`No parameters provided.

`),x.log(`Received notification '${k.method}'.`,A)}else an("receive-notification",k)}function Ra(k,A){if(!(g===Xt.Off||!x))if(y===fn.Text){let I;if(g===Xt.Verbose&&(k.error&&k.error.data?I=`Error data: ${JSON.stringify(k.error.data,null,4)}

`:k.result?I=`Result: ${JSON.stringify(k.result,null,4)}

`:k.error===void 0&&(I=`No result returned.

`)),A){let R=k.error?` Request failed: ${k.error.message} (${k.error.code}).`:"";x.log(`Received response '${A.method} - (${k.id})' in ${Date.now()-A.timerStart}ms.${R}`,I)}else x.log(`Received response ${k.id} without active response promise.`,I)}else an("receive-response",k)}function an(k,A){if(!x||g===Xt.Off)return;let I={isLSPMessage:!0,type:k,message:A,timestamp:Date.now()};x.log(I)}function ln(){if(pi())throw new Cs(Pf.Closed,"Connection is closed.");if(ft())throw new Cs(Pf.Disposed,"Connection is disposed.")}function es(){if(ht())throw new Cs(Pf.AlreadyListening,"Connection is already listening")}function Ro(){if(!ht())throw new Error("Call listen() first.")}function un(k){return k===void 0?null:k}function au(k){if(k!==null)return k}function xo(k){return k!=null&&!Array.isArray(k)&&typeof k=="object"}function As(k,A){switch(k){case Ee.ParameterStructures.auto:return xo(A)?au(A):[un(A)];case Ee.ParameterStructures.byName:if(!xo(A))throw new Error("Recevied parameters by name but param is not an object literal.");return au(A);case Ee.ParameterStructures.byPosition:return[un(A)];default:throw new Error(`Unknown parameter structure ${k.toString()}`)}}function Es(k,A){let I,R=k.numberOfParams;switch(R){case 0:I=void 0;break;case 1:I=As(k.parameterStructures,A[0]);break;default:I=[];for(let F=0;F<A.length&&F<R;F++)I.push(un(A[F]));if(A.length<R)for(let F=A.length;F<R;F++)I.push(null);break}return I}let tr={sendNotification:(k,...A)=>{ln();let I,R;if(mi.string(k)){I=k;let S=A[0],b=0,O=Ee.ParameterStructures.auto;Ee.ParameterStructures.is(S)&&(b=1,O=S);let j=A.length,oe=j-b;switch(oe){case 0:R=void 0;break;case 1:R=As(O,A[b]);break;default:if(O===Ee.ParameterStructures.byName)throw new Error(`Recevied ${oe} parameters for 'by Name' notification parameter structure.`);R=A.slice(b,j).map(ge=>un(ge));break}}else{let S=A;I=k.method,R=Es(k,S)}let F={jsonrpc:l,method:I,params:R};Ea(F),e.write(F)},onNotification:(k,A)=>{ln();let I;return mi.func(k)?f=k:A&&(mi.string(k)?(I=k,d[k]={type:void 0,handler:A}):(I=k.method,d[k.method]={type:k,handler:A})),{dispose:()=>{I!==void 0?delete d[I]:f=void 0}}},onProgress:(k,A,I)=>{if(p.has(A))throw new Error(`Progress handler for token ${A} already registered`);return p.set(A,I),{dispose:()=>{p.delete(A)}}},sendProgress:(k,A,I)=>{tr.sendNotification(Af.type,{token:A,value:I})},onUnhandledProgress:z.event,sendRequest:(k,...A)=>{ln(),Ro();let I,R,F;if(mi.string(k)){I=k;let j=A[0],oe=A[A.length-1],ge=0,Ce=Ee.ParameterStructures.auto;Ee.ParameterStructures.is(j)&&(ge=1,Ce=j);let ut=A.length;jm.CancellationToken.is(oe)&&(ut=ut-1,F=oe);let Vt=ut-ge;switch(Vt){case 0:R=void 0;break;case 1:R=As(Ce,A[ge]);break;default:if(Ce===Ee.ParameterStructures.byName)throw new Error(`Recevied ${Vt} parameters for 'by Name' request parameter structure.`);R=A.slice(ge,ut).map(Ut=>un(Ut));break}}else{let j=A;I=k.method,R=Es(k,j);let oe=k.numberOfParams;F=jm.CancellationToken.is(j[oe])?j[oe]:void 0}let S=s++,b;return F&&(b=F.onCancellationRequested(()=>{H.sender.sendCancellation(tr,S)})),new Promise((j,oe)=>{let ge={jsonrpc:l,id:S,method:I,params:R},Ce=Ut=>{j(Ut),H.sender.cleanup(S),b?.dispose()},ut=Ut=>{oe(Ut),H.sender.cleanup(S),b?.dispose()},Vt={method:I,timerStart:Date.now(),resolve:Ce,reject:ut};Aa(ge);try{e.write(ge)}catch(Ut){Vt.reject(new Ee.ResponseError(Ee.ErrorCodes.MessageWriteError,Ut.message?Ut.message:"Unknown reason")),Vt=null}Vt&&(N[String(S)]=Vt)})},onRequest:(k,A)=>{ln();let I=null;return Hm.is(k)?(I=void 0,u=k):mi.string(k)?(I=null,A!==void 0&&(I=k,c[k]={handler:A,type:void 0})):A!==void 0&&(I=k.method,c[k.method]={type:k,handler:A}),{dispose:()=>{I!==null&&(I!==void 0?delete c[I]:u=void 0)}}},trace:(k,A,I)=>{let R=!1,F=fn.Text;I!==void 0&&(mi.boolean(I)?R=I:(R=I.sendNotification||!1,F=I.traceFormat||fn.Text)),g=k,y=F,g===Xt.Off?x=void 0:x=A,R&&!pi()&&!ft()&&tr.sendNotification(sb.type,{value:Xt.toString(k)})},onError:E.event,onClose:U.event,onUnhandledNotification:w.event,onDispose:de.event,end:()=>{e.end()},dispose:()=>{if(ft())return;L=dn.Disposed,de.fire(void 0);let k=new Error("Connection got disposed.");Object.keys(N).forEach(A=>{N[A].reject(k)}),N=Object.create(null),_=Object.create(null),T=new nb.LinkedMap,mi.func(e.dispose)&&e.dispose(),mi.func(t.dispose)&&t.dispose()},listen:()=>{ln(),es(),L=dn.Listening,t.listen(Ne)},inspect:()=>{rb.default().console.log("inspect")}};return tr.onNotification(Wm.type,k=>{g===Xt.Off||!x||x.log(k.message,g===Xt.Verbose?k.verbose:void 0)}),tr.onNotification(Af.type,k=>{let A=p.get(k.token);A?A(k.value):z.fire(k)}),tr}ke.createMessageConnection=kM});var Xm=C($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.CancellationSenderStrategy=$.CancellationReceiverStrategy=$.ConnectionError=$.ConnectionErrors=$.LogTraceNotification=$.SetTraceNotification=$.TraceFormat=$.Trace=$.ProgressType=$.createMessageConnection=$.NullLogger=$.ConnectionOptions=$.ConnectionStrategy=$.WriteableStreamMessageWriter=$.AbstractMessageWriter=$.MessageWriter=$.ReadableStreamMessageReader=$.AbstractMessageReader=$.MessageReader=$.CancellationToken=$.CancellationTokenSource=$.Emitter=$.Event=$.Disposable=$.ParameterStructures=$.NotificationType9=$.NotificationType8=$.NotificationType7=$.NotificationType6=$.NotificationType5=$.NotificationType4=$.NotificationType3=$.NotificationType2=$.NotificationType1=$.NotificationType0=$.NotificationType=$.ErrorCodes=$.ResponseError=$.RequestType9=$.RequestType8=$.RequestType7=$.RequestType6=$.RequestType5=$.RequestType4=$.RequestType3=$.RequestType2=$.RequestType1=$.RequestType0=$.RequestType=$.RAL=void 0;$.CancellationStrategy=void 0;var Ct=Rm();Object.defineProperty($,"RequestType",{enumerable:!0,get:function(){return Ct.RequestType}});Object.defineProperty($,"RequestType0",{enumerable:!0,get:function(){return Ct.RequestType0}});Object.defineProperty($,"RequestType1",{enumerable:!0,get:function(){return Ct.RequestType1}});Object.defineProperty($,"RequestType2",{enumerable:!0,get:function(){return Ct.RequestType2}});Object.defineProperty($,"RequestType3",{enumerable:!0,get:function(){return Ct.RequestType3}});Object.defineProperty($,"RequestType4",{enumerable:!0,get:function(){return Ct.RequestType4}});Object.defineProperty($,"RequestType5",{enumerable:!0,get:function(){return Ct.RequestType5}});Object.defineProperty($,"RequestType6",{enumerable:!0,get:function(){return Ct.RequestType6}});Object.defineProperty($,"RequestType7",{enumerable:!0,get:function(){return Ct.RequestType7}});Object.defineProperty($,"RequestType8",{enumerable:!0,get:function(){return Ct.RequestType8}});Object.defineProperty($,"RequestType9",{enumerable:!0,get:function(){return Ct.RequestType9}});Object.defineProperty($,"ResponseError",{enumerable:!0,get:function(){return Ct.ResponseError}});Object.defineProperty($,"ErrorCodes",{enumerable:!0,get:function(){return Ct.ErrorCodes}});Object.defineProperty($,"NotificationType",{enumerable:!0,get:function(){return Ct.NotificationType}});Object.defineProperty($,"NotificationType0",{enumerable:!0,get:function(){return Ct.NotificationType0}});Object.defineProperty($,"NotificationType1",{enumerable:!0,get:function(){return Ct.NotificationType1}});Object.defineProperty($,"NotificationType2",{enumerable:!0,get:function(){return Ct.NotificationType2}});Object.defineProperty($,"NotificationType3",{enumerable:!0,get:function(){return Ct.NotificationType3}});Object.defineProperty($,"NotificationType4",{enumerable:!0,get:function(){return Ct.NotificationType4}});Object.defineProperty($,"NotificationType5",{enumerable:!0,get:function(){return Ct.NotificationType5}});Object.defineProperty($,"NotificationType6",{enumerable:!0,get:function(){return Ct.NotificationType6}});Object.defineProperty($,"NotificationType7",{enumerable:!0,get:function(){return Ct.NotificationType7}});Object.defineProperty($,"NotificationType8",{enumerable:!0,get:function(){return Ct.NotificationType8}});Object.defineProperty($,"NotificationType9",{enumerable:!0,get:function(){return Ct.NotificationType9}});Object.defineProperty($,"ParameterStructures",{enumerable:!0,get:function(){return Ct.ParameterStructures}});var DM=tm();Object.defineProperty($,"Disposable",{enumerable:!0,get:function(){return DM.Disposable}});var lb=Da();Object.defineProperty($,"Event",{enumerable:!0,get:function(){return lb.Event}});Object.defineProperty($,"Emitter",{enumerable:!0,get:function(){return lb.Emitter}});var ub=Fm();Object.defineProperty($,"CancellationTokenSource",{enumerable:!0,get:function(){return ub.CancellationTokenSource}});Object.defineProperty($,"CancellationToken",{enumerable:!0,get:function(){return ub.CancellationToken}});var zm=QT();Object.defineProperty($,"MessageReader",{enumerable:!0,get:function(){return zm.MessageReader}});Object.defineProperty($,"AbstractMessageReader",{enumerable:!0,get:function(){return zm.AbstractMessageReader}});Object.defineProperty($,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return zm.ReadableStreamMessageReader}});var Qm=tb();Object.defineProperty($,"MessageWriter",{enumerable:!0,get:function(){return Qm.MessageWriter}});Object.defineProperty($,"AbstractMessageWriter",{enumerable:!0,get:function(){return Qm.AbstractMessageWriter}});Object.defineProperty($,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Qm.WriteableStreamMessageWriter}});var ir=ab();Object.defineProperty($,"ConnectionStrategy",{enumerable:!0,get:function(){return ir.ConnectionStrategy}});Object.defineProperty($,"ConnectionOptions",{enumerable:!0,get:function(){return ir.ConnectionOptions}});Object.defineProperty($,"NullLogger",{enumerable:!0,get:function(){return ir.NullLogger}});Object.defineProperty($,"createMessageConnection",{enumerable:!0,get:function(){return ir.createMessageConnection}});Object.defineProperty($,"ProgressType",{enumerable:!0,get:function(){return ir.ProgressType}});Object.defineProperty($,"Trace",{enumerable:!0,get:function(){return ir.Trace}});Object.defineProperty($,"TraceFormat",{enumerable:!0,get:function(){return ir.TraceFormat}});Object.defineProperty($,"SetTraceNotification",{enumerable:!0,get:function(){return ir.SetTraceNotification}});Object.defineProperty($,"LogTraceNotification",{enumerable:!0,get:function(){return ir.LogTraceNotification}});Object.defineProperty($,"ConnectionErrors",{enumerable:!0,get:function(){return ir.ConnectionErrors}});Object.defineProperty($,"ConnectionError",{enumerable:!0,get:function(){return ir.ConnectionError}});Object.defineProperty($,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return ir.CancellationReceiverStrategy}});Object.defineProperty($,"CancellationSenderStrategy",{enumerable:!0,get:function(){return ir.CancellationSenderStrategy}});Object.defineProperty($,"CancellationStrategy",{enumerable:!0,get:function(){return ir.CancellationStrategy}});var FM=ts();$.RAL=FM.default});var Oa=C(lt=>{"use strict";var LM=lt&&lt.__createBinding||(Object.create?function(t,e,i,r){r===void 0&&(r=i),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,r){r===void 0&&(r=i),t[r]=e[i]}),OM=lt&&lt.__exportStar||function(t,e){for(var i in t)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&LM(e,t,i)};Object.defineProperty(lt,"__esModule",{value:!0});lt.createMessageConnection=lt.createServerSocketTransport=lt.createClientSocketTransport=lt.createServerPipeTransport=lt.createClientPipeTransport=lt.generateRandomPipeName=lt.StreamMessageWriter=lt.StreamMessageReader=lt.SocketMessageWriter=lt.SocketMessageReader=lt.IPCMessageWriter=lt.IPCMessageReader=void 0;var La=WT();La.default.install();var Fn=Xm(),cb=require("path"),MM=require("os"),qM=require("crypto"),Rf=require("net");OM(Xm(),lt);var Jm=class extends Fn.AbstractMessageReader{constructor(e){super(),this.process=e;let i=this.process;i.on("error",r=>this.fireError(r)),i.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Fn.Disposable.create(()=>this.process.off("message",e))}};lt.IPCMessageReader=Jm;var Zm=class extends Fn.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let i=this.process;i.on("error",r=>this.fireError(r)),i.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,i=>{i?(this.errorCount++,this.handleError(i,e)):this.errorCount=0}),Promise.resolve()}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,i){this.errorCount++,this.fireError(e,i,this.errorCount)}end(){}};lt.IPCMessageWriter=Zm;var Oo=class extends Fn.ReadableStreamMessageReader{constructor(e,i="utf-8"){super(La.default().stream.asReadableStream(e),i)}};lt.SocketMessageReader=Oo;var Mo=class extends Fn.WriteableStreamMessageWriter{constructor(e,i){super(La.default().stream.asWritableStream(e),i),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};lt.SocketMessageWriter=Mo;var Ef=class extends Fn.ReadableStreamMessageReader{constructor(e,i){super(La.default().stream.asReadableStream(e),i)}};lt.StreamMessageReader=Ef;var Cf=class extends Fn.WriteableStreamMessageWriter{constructor(e,i){super(La.default().stream.asWritableStream(e),i)}};lt.StreamMessageWriter=Cf;var fb=process.env.XDG_RUNTIME_DIR,BM=new Map([["linux",107],["darwin",103]]);function VM(){let t=qM.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;fb?e=cb.join(fb,`vscode-ipc-${t}.sock`):e=cb.join(MM.tmpdir(),`vscode-${t}.sock`);let i=BM.get(process.platform);return i!==void 0&&e.length>=i&&La.default().console.warn(`WARNING: IPC handle "${e}" is longer than ${i} characters.`),e}lt.generateRandomPipeName=VM;function UM(t,e="utf-8"){let i,r=new Promise((n,s)=>{i=n});return new Promise((n,s)=>{let o=Rf.createServer(a=>{o.close(),i([new Oo(a,e),new Mo(a,e)])});o.on("error",s),o.listen(t,()=>{o.removeListener("error",s),n({onConnected:()=>r})})})}lt.createClientPipeTransport=UM;function jM(t,e="utf-8"){let i=Rf.createConnection(t);return[new Oo(i,e),new Mo(i,e)]}lt.createServerPipeTransport=jM;function GM(t,e="utf-8"){let i,r=new Promise((n,s)=>{i=n});return new Promise((n,s)=>{let o=Rf.createServer(a=>{o.close(),i([new Oo(a,e),new Mo(a,e)])});o.on("error",s),o.listen(t,"127.0.0.1",()=>{o.removeListener("error",s),n({onConnected:()=>r})})})}lt.createClientSocketTransport=GM;function HM(t,e="utf-8"){let i=Rf.createConnection(t,"127.0.0.1");return[new Oo(i,e),new Mo(i,e)]}lt.createServerSocketTransport=HM;function WM(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function YM(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function KM(t,e,i,r){i||(i=Fn.NullLogger);let n=WM(t)?new Ef(t):t,s=YM(e)?new Cf(e):e;return Fn.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),Fn.createMessageConnection(n,s,i,r)}lt.createMessageConnection=KM});var eg=C((Y$,db)=>{"use strict";db.exports=Oa()});var Nt=C((pb,xf)=>{(function(t){if(typeof xf=="object"&&typeof xf.exports=="object"){var e=t(require,pb);e!==void 0&&(xf.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=void 0;var i;(function(I){I.MIN_VALUE=-2147483648,I.MAX_VALUE=2147483647})(i=e.integer||(e.integer={}));var r;(function(I){I.MIN_VALUE=0,I.MAX_VALUE=2147483647})(r=e.uinteger||(e.uinteger={}));var n;(function(I){function R(S,b){return S===Number.MAX_VALUE&&(S=r.MAX_VALUE),b===Number.MAX_VALUE&&(b=r.MAX_VALUE),{line:S,character:b}}I.create=R;function F(S){var b=S;return A.objectLiteral(b)&&A.uinteger(b.line)&&A.uinteger(b.character)}I.is=F})(n=e.Position||(e.Position={}));var s;(function(I){function R(S,b,O,j){if(A.uinteger(S)&&A.uinteger(b)&&A.uinteger(O)&&A.uinteger(j))return{start:n.create(S,b),end:n.create(O,j)};if(n.is(S)&&n.is(b))return{start:S,end:b};throw new Error("Range#create called with invalid arguments["+S+", "+b+", "+O+", "+j+"]")}I.create=R;function F(S){var b=S;return A.objectLiteral(b)&&n.is(b.start)&&n.is(b.end)}I.is=F})(s=e.Range||(e.Range={}));var o;(function(I){function R(S,b){return{uri:S,range:b}}I.create=R;function F(S){var b=S;return A.defined(b)&&s.is(b.range)&&(A.string(b.uri)||A.undefined(b.uri))}I.is=F})(o=e.Location||(e.Location={}));var a;(function(I){function R(S,b,O,j){return{targetUri:S,targetRange:b,targetSelectionRange:O,originSelectionRange:j}}I.create=R;function F(S){var b=S;return A.defined(b)&&s.is(b.targetRange)&&A.string(b.targetUri)&&(s.is(b.targetSelectionRange)||A.undefined(b.targetSelectionRange))&&(s.is(b.originSelectionRange)||A.undefined(b.originSelectionRange))}I.is=F})(a=e.LocationLink||(e.LocationLink={}));var l;(function(I){function R(S,b,O,j){return{red:S,green:b,blue:O,alpha:j}}I.create=R;function F(S){var b=S;return A.numberRange(b.red,0,1)&&A.numberRange(b.green,0,1)&&A.numberRange(b.blue,0,1)&&A.numberRange(b.alpha,0,1)}I.is=F})(l=e.Color||(e.Color={}));var u;(function(I){function R(S,b){return{range:S,color:b}}I.create=R;function F(S){var b=S;return s.is(b.range)&&l.is(b.color)}I.is=F})(u=e.ColorInformation||(e.ColorInformation={}));var c;(function(I){function R(S,b,O){return{label:S,textEdit:b,additionalTextEdits:O}}I.create=R;function F(S){var b=S;return A.string(b.label)&&(A.undefined(b.textEdit)||y.is(b))&&(A.undefined(b.additionalTextEdits)||A.typedArray(b.additionalTextEdits,y.is))}I.is=F})(c=e.ColorPresentation||(e.ColorPresentation={}));var f;(function(I){I.Comment="comment",I.Imports="imports",I.Region="region"})(f=e.FoldingRangeKind||(e.FoldingRangeKind={}));var d;(function(I){function R(S,b,O,j,oe){var ge={startLine:S,endLine:b};return A.defined(O)&&(ge.startCharacter=O),A.defined(j)&&(ge.endCharacter=j),A.defined(oe)&&(ge.kind=oe),ge}I.create=R;function F(S){var b=S;return A.uinteger(b.startLine)&&A.uinteger(b.startLine)&&(A.undefined(b.startCharacter)||A.uinteger(b.startCharacter))&&(A.undefined(b.endCharacter)||A.uinteger(b.endCharacter))&&(A.undefined(b.kind)||A.string(b.kind))}I.is=F})(d=e.FoldingRange||(e.FoldingRange={}));var p;(function(I){function R(S,b){return{location:S,message:b}}I.create=R;function F(S){var b=S;return A.defined(b)&&o.is(b.location)&&A.string(b.message)}I.is=F})(p=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var h;(function(I){I.Error=1,I.Warning=2,I.Information=3,I.Hint=4})(h=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var T;(function(I){I.Unnecessary=1,I.Deprecated=2})(T=e.DiagnosticTag||(e.DiagnosticTag={}));var N;(function(I){function R(F){var S=F;return S!=null&&A.string(S.href)}I.is=R})(N=e.CodeDescription||(e.CodeDescription={}));var _;(function(I){function R(S,b,O,j,oe,ge){var Ce={range:S,message:b};return A.defined(O)&&(Ce.severity=O),A.defined(j)&&(Ce.code=j),A.defined(oe)&&(Ce.source=oe),A.defined(ge)&&(Ce.relatedInformation=ge),Ce}I.create=R;function F(S){var b,O=S;return A.defined(O)&&s.is(O.range)&&A.string(O.message)&&(A.number(O.severity)||A.undefined(O.severity))&&(A.integer(O.code)||A.string(O.code)||A.undefined(O.code))&&(A.undefined(O.codeDescription)||A.string((b=O.codeDescription)===null||b===void 0?void 0:b.href))&&(A.string(O.source)||A.undefined(O.source))&&(A.undefined(O.relatedInformation)||A.typedArray(O.relatedInformation,p.is))}I.is=F})(_=e.Diagnostic||(e.Diagnostic={}));var g;(function(I){function R(S,b){for(var O=[],j=2;j<arguments.length;j++)O[j-2]=arguments[j];var oe={title:S,command:b};return A.defined(O)&&O.length>0&&(oe.arguments=O),oe}I.create=R;function F(S){var b=S;return A.defined(b)&&A.string(b.title)&&A.string(b.command)}I.is=F})(g=e.Command||(e.Command={}));var y;(function(I){function R(O,j){return{range:O,newText:j}}I.replace=R;function F(O,j){return{range:{start:O,end:O},newText:j}}I.insert=F;function S(O){return{range:O,newText:""}}I.del=S;function b(O){var j=O;return A.objectLiteral(j)&&A.string(j.newText)&&s.is(j.range)}I.is=b})(y=e.TextEdit||(e.TextEdit={}));var x;(function(I){function R(S,b,O){var j={label:S};return b!==void 0&&(j.needsConfirmation=b),O!==void 0&&(j.description=O),j}I.create=R;function F(S){var b=S;return b!==void 0&&A.objectLiteral(b)&&A.string(b.label)&&(A.boolean(b.needsConfirmation)||b.needsConfirmation===void 0)&&(A.string(b.description)||b.description===void 0)}I.is=F})(x=e.ChangeAnnotation||(e.ChangeAnnotation={}));var L;(function(I){function R(F){var S=F;return typeof S=="string"}I.is=R})(L=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var E;(function(I){function R(O,j,oe){return{range:O,newText:j,annotationId:oe}}I.replace=R;function F(O,j,oe){return{range:{start:O,end:O},newText:j,annotationId:oe}}I.insert=F;function S(O,j){return{range:O,newText:"",annotationId:j}}I.del=S;function b(O){var j=O;return y.is(j)&&(x.is(j.annotationId)||L.is(j.annotationId))}I.is=b})(E=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var U;(function(I){function R(S,b){return{textDocument:S,edits:b}}I.create=R;function F(S){var b=S;return A.defined(b)&&ht.is(b.textDocument)&&Array.isArray(b.edits)}I.is=F})(U=e.TextDocumentEdit||(e.TextDocumentEdit={}));var w;(function(I){function R(S,b,O){var j={kind:"create",uri:S};return b!==void 0&&(b.overwrite!==void 0||b.ignoreIfExists!==void 0)&&(j.options=b),O!==void 0&&(j.annotationId=O),j}I.create=R;function F(S){var b=S;return b&&b.kind==="create"&&A.string(b.uri)&&(b.options===void 0||(b.options.overwrite===void 0||A.boolean(b.options.overwrite))&&(b.options.ignoreIfExists===void 0||A.boolean(b.options.ignoreIfExists)))&&(b.annotationId===void 0||L.is(b.annotationId))}I.is=F})(w=e.CreateFile||(e.CreateFile={}));var z;(function(I){function R(S,b,O,j){var oe={kind:"rename",oldUri:S,newUri:b};return O!==void 0&&(O.overwrite!==void 0||O.ignoreIfExists!==void 0)&&(oe.options=O),j!==void 0&&(oe.annotationId=j),oe}I.create=R;function F(S){var b=S;return b&&b.kind==="rename"&&A.string(b.oldUri)&&A.string(b.newUri)&&(b.options===void 0||(b.options.overwrite===void 0||A.boolean(b.options.overwrite))&&(b.options.ignoreIfExists===void 0||A.boolean(b.options.ignoreIfExists)))&&(b.annotationId===void 0||L.is(b.annotationId))}I.is=F})(z=e.RenameFile||(e.RenameFile={}));var de;(function(I){function R(S,b,O){var j={kind:"delete",uri:S};return b!==void 0&&(b.recursive!==void 0||b.ignoreIfNotExists!==void 0)&&(j.options=b),O!==void 0&&(j.annotationId=O),j}I.create=R;function F(S){var b=S;return b&&b.kind==="delete"&&A.string(b.uri)&&(b.options===void 0||(b.options.recursive===void 0||A.boolean(b.options.recursive))&&(b.options.ignoreIfNotExists===void 0||A.boolean(b.options.ignoreIfNotExists)))&&(b.annotationId===void 0||L.is(b.annotationId))}I.is=F})(de=e.DeleteFile||(e.DeleteFile={}));var H;(function(I){function R(F){var S=F;return S&&(S.changes!==void 0||S.documentChanges!==void 0)&&(S.documentChanges===void 0||S.documentChanges.every(function(b){return A.string(b.kind)?w.is(b)||z.is(b)||de.is(b):U.is(b)}))}I.is=R})(H=e.WorkspaceEdit||(e.WorkspaceEdit={}));var Z=function(){function I(R,F){this.edits=R,this.changeAnnotations=F}return I.prototype.insert=function(R,F,S){var b,O;if(S===void 0?b=y.insert(R,F):L.is(S)?(O=S,b=E.insert(R,F,S)):(this.assertChangeAnnotations(this.changeAnnotations),O=this.changeAnnotations.manage(S),b=E.insert(R,F,O)),this.edits.push(b),O!==void 0)return O},I.prototype.replace=function(R,F,S){var b,O;if(S===void 0?b=y.replace(R,F):L.is(S)?(O=S,b=E.replace(R,F,S)):(this.assertChangeAnnotations(this.changeAnnotations),O=this.changeAnnotations.manage(S),b=E.replace(R,F,O)),this.edits.push(b),O!==void 0)return O},I.prototype.delete=function(R,F){var S,b;if(F===void 0?S=y.del(R):L.is(F)?(b=F,S=E.del(R,F)):(this.assertChangeAnnotations(this.changeAnnotations),b=this.changeAnnotations.manage(F),S=E.del(R,b)),this.edits.push(S),b!==void 0)return b},I.prototype.add=function(R){this.edits.push(R)},I.prototype.all=function(){return this.edits},I.prototype.clear=function(){this.edits.splice(0,this.edits.length)},I.prototype.assertChangeAnnotations=function(R){if(R===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},I}(),ue=function(){function I(R){this._annotations=R===void 0?Object.create(null):R,this._counter=0,this._size=0}return I.prototype.all=function(){return this._annotations},Object.defineProperty(I.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),I.prototype.manage=function(R,F){var S;if(L.is(R)?S=R:(S=this.nextId(),F=R),this._annotations[S]!==void 0)throw new Error("Id "+S+" is already in use.");if(F===void 0)throw new Error("No annotation provided for id "+S);return this._annotations[S]=F,this._size++,S},I.prototype.nextId=function(){return this._counter++,this._counter.toString()},I}(),te=function(){function I(R){var F=this;this._textEditChanges=Object.create(null),R!==void 0?(this._workspaceEdit=R,R.documentChanges?(this._changeAnnotations=new ue(R.changeAnnotations),R.changeAnnotations=this._changeAnnotations.all(),R.documentChanges.forEach(function(S){if(U.is(S)){var b=new Z(S.edits,F._changeAnnotations);F._textEditChanges[S.textDocument.uri]=b}})):R.changes&&Object.keys(R.changes).forEach(function(S){var b=new Z(R.changes[S]);F._textEditChanges[S]=b})):this._workspaceEdit={}}return Object.defineProperty(I.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),I.prototype.getTextEditChange=function(R){if(ht.is(R)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var F={uri:R.uri,version:R.version},S=this._textEditChanges[F.uri];if(!S){var b=[],O={textDocument:F,edits:b};this._workspaceEdit.documentChanges.push(O),S=new Z(b,this._changeAnnotations),this._textEditChanges[F.uri]=S}return S}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var S=this._textEditChanges[R];if(!S){var b=[];this._workspaceEdit.changes[R]=b,S=new Z(b),this._textEditChanges[R]=S}return S}},I.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new ue,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},I.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},I.prototype.createFile=function(R,F,S){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var b;x.is(F)||L.is(F)?b=F:S=F;var O,j;if(b===void 0?O=w.create(R,S):(j=L.is(b)?b:this._changeAnnotations.manage(b),O=w.create(R,S,j)),this._workspaceEdit.documentChanges.push(O),j!==void 0)return j},I.prototype.renameFile=function(R,F,S,b){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var O;x.is(S)||L.is(S)?O=S:b=S;var j,oe;if(O===void 0?j=z.create(R,F,b):(oe=L.is(O)?O:this._changeAnnotations.manage(O),j=z.create(R,F,b,oe)),this._workspaceEdit.documentChanges.push(j),oe!==void 0)return oe},I.prototype.deleteFile=function(R,F,S){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var b;x.is(F)||L.is(F)?b=F:S=F;var O,j;if(b===void 0?O=de.create(R,S):(j=L.is(b)?b:this._changeAnnotations.manage(b),O=de.create(R,S,j)),this._workspaceEdit.documentChanges.push(O),j!==void 0)return j},I}();e.WorkspaceChange=te;var Q;(function(I){function R(S){return{uri:S}}I.create=R;function F(S){var b=S;return A.defined(b)&&A.string(b.uri)}I.is=F})(Q=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var qe;(function(I){function R(S,b){return{uri:S,version:b}}I.create=R;function F(S){var b=S;return A.defined(b)&&A.string(b.uri)&&A.integer(b.version)}I.is=F})(qe=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var ht;(function(I){function R(S,b){return{uri:S,version:b}}I.create=R;function F(S){var b=S;return A.defined(b)&&A.string(b.uri)&&(b.version===null||A.integer(b.version))}I.is=F})(ht=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var pi;(function(I){function R(S,b,O,j){return{uri:S,languageId:b,version:O,text:j}}I.create=R;function F(S){var b=S;return A.defined(b)&&A.string(b.uri)&&A.string(b.languageId)&&A.integer(b.version)&&A.string(b.text)}I.is=F})(pi=e.TextDocumentItem||(e.TextDocumentItem={}));var ft;(function(I){I.PlainText="plaintext",I.Markdown="markdown"})(ft=e.MarkupKind||(e.MarkupKind={})),function(I){function R(F){var S=F;return S===I.PlainText||S===I.Markdown}I.is=R}(ft=e.MarkupKind||(e.MarkupKind={}));var It;(function(I){function R(F){var S=F;return A.objectLiteral(F)&&ft.is(S.kind)&&A.string(S.value)}I.is=R})(It=e.MarkupContent||(e.MarkupContent={}));var Jn;(function(I){I.Text=1,I.Method=2,I.Function=3,I.Constructor=4,I.Field=5,I.Variable=6,I.Class=7,I.Interface=8,I.Module=9,I.Property=10,I.Unit=11,I.Value=12,I.Enum=13,I.Keyword=14,I.Snippet=15,I.Color=16,I.File=17,I.Reference=18,I.Folder=19,I.EnumMember=20,I.Constant=21,I.Struct=22,I.Event=23,I.Operator=24,I.TypeParameter=25})(Jn=e.CompletionItemKind||(e.CompletionItemKind={}));var Lr;(function(I){I.PlainText=1,I.Snippet=2})(Lr=e.InsertTextFormat||(e.InsertTextFormat={}));var ce;(function(I){I.Deprecated=1})(ce=e.CompletionItemTag||(e.CompletionItemTag={}));var he;(function(I){function R(S,b,O){return{newText:S,insert:b,replace:O}}I.create=R;function F(S){var b=S;return b&&A.string(b.newText)&&s.is(b.insert)&&s.is(b.replace)}I.is=F})(he=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var Ne;(function(I){I.asIs=1,I.adjustIndentation=2})(Ne=e.InsertTextMode||(e.InsertTextMode={}));var pe;(function(I){function R(F){return{label:F}}I.create=R})(pe=e.CompletionItem||(e.CompletionItem={}));var we;(function(I){function R(F,S){return{items:F||[],isIncomplete:!!S}}I.create=R})(we=e.CompletionList||(e.CompletionList={}));var Lt;(function(I){function R(S){return S.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}I.fromPlainText=R;function F(S){var b=S;return A.string(b)||A.objectLiteral(b)&&A.string(b.language)&&A.string(b.value)}I.is=F})(Lt=e.MarkedString||(e.MarkedString={}));var kn;(function(I){function R(F){var S=F;return!!S&&A.objectLiteral(S)&&(It.is(S.contents)||Lt.is(S.contents)||A.typedArray(S.contents,Lt.is))&&(F.range===void 0||s.is(F.range))}I.is=R})(kn=e.Hover||(e.Hover={}));var Aa;(function(I){function R(F,S){return S?{label:F,documentation:S}:{label:F}}I.create=R})(Aa=e.ParameterInformation||(e.ParameterInformation={}));var Ea;(function(I){function R(F,S){for(var b=[],O=2;O<arguments.length;O++)b[O-2]=arguments[O];var j={label:F};return A.defined(S)&&(j.documentation=S),A.defined(b)?j.parameters=b:j.parameters=[],j}I.create=R})(Ea=e.SignatureInformation||(e.SignatureInformation={}));var Zn;(function(I){I.Text=1,I.Read=2,I.Write=3})(Zn=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var Ca;(function(I){function R(F,S){var b={range:F};return A.number(S)&&(b.kind=S),b}I.create=R})(Ca=e.DocumentHighlight||(e.DocumentHighlight={}));var Ps;(function(I){I.File=1,I.Module=2,I.Namespace=3,I.Package=4,I.Class=5,I.Method=6,I.Property=7,I.Field=8,I.Constructor=9,I.Enum=10,I.Interface=11,I.Function=12,I.Variable=13,I.Constant=14,I.String=15,I.Number=16,I.Boolean=17,I.Array=18,I.Object=19,I.Key=20,I.Null=21,I.EnumMember=22,I.Struct=23,I.Event=24,I.Operator=25,I.TypeParameter=26})(Ps=e.SymbolKind||(e.SymbolKind={}));var Ra;(function(I){I.Deprecated=1})(Ra=e.SymbolTag||(e.SymbolTag={}));var an;(function(I){function R(F,S,b,O,j){var oe={name:F,kind:S,location:{uri:O,range:b}};return j&&(oe.containerName=j),oe}I.create=R})(an=e.SymbolInformation||(e.SymbolInformation={}));var ln;(function(I){function R(S,b,O,j,oe,ge){var Ce={name:S,detail:b,kind:O,range:j,selectionRange:oe};return ge!==void 0&&(Ce.children=ge),Ce}I.create=R;function F(S){var b=S;return b&&A.string(b.name)&&A.number(b.kind)&&s.is(b.range)&&s.is(b.selectionRange)&&(b.detail===void 0||A.string(b.detail))&&(b.deprecated===void 0||A.boolean(b.deprecated))&&(b.children===void 0||Array.isArray(b.children))&&(b.tags===void 0||Array.isArray(b.tags))}I.is=F})(ln=e.DocumentSymbol||(e.DocumentSymbol={}));var es;(function(I){I.Empty="",I.QuickFix="quickfix",I.Refactor="refactor",I.RefactorExtract="refactor.extract",I.RefactorInline="refactor.inline",I.RefactorRewrite="refactor.rewrite",I.Source="source",I.SourceOrganizeImports="source.organizeImports",I.SourceFixAll="source.fixAll"})(es=e.CodeActionKind||(e.CodeActionKind={}));var Ro;(function(I){function R(S,b){var O={diagnostics:S};return b!=null&&(O.only=b),O}I.create=R;function F(S){var b=S;return A.defined(b)&&A.typedArray(b.diagnostics,_.is)&&(b.only===void 0||A.typedArray(b.only,A.string))}I.is=F})(Ro=e.CodeActionContext||(e.CodeActionContext={}));var un;(function(I){function R(S,b,O){var j={title:S},oe=!0;return typeof b=="string"?(oe=!1,j.kind=b):g.is(b)?j.command=b:j.edit=b,oe&&O!==void 0&&(j.kind=O),j}I.create=R;function F(S){var b=S;return b&&A.string(b.title)&&(b.diagnostics===void 0||A.typedArray(b.diagnostics,_.is))&&(b.kind===void 0||A.string(b.kind))&&(b.edit!==void 0||b.command!==void 0)&&(b.command===void 0||g.is(b.command))&&(b.isPreferred===void 0||A.boolean(b.isPreferred))&&(b.edit===void 0||H.is(b.edit))}I.is=F})(un=e.CodeAction||(e.CodeAction={}));var au;(function(I){function R(S,b){var O={range:S};return A.defined(b)&&(O.data=b),O}I.create=R;function F(S){var b=S;return A.defined(b)&&s.is(b.range)&&(A.undefined(b.command)||g.is(b.command))}I.is=F})(au=e.CodeLens||(e.CodeLens={}));var xo;(function(I){function R(S,b){return{tabSize:S,insertSpaces:b}}I.create=R;function F(S){var b=S;return A.defined(b)&&A.uinteger(b.tabSize)&&A.boolean(b.insertSpaces)}I.is=F})(xo=e.FormattingOptions||(e.FormattingOptions={}));var As;(function(I){function R(S,b,O){return{range:S,target:b,data:O}}I.create=R;function F(S){var b=S;return A.defined(b)&&s.is(b.range)&&(A.undefined(b.target)||A.string(b.target))}I.is=F})(As=e.DocumentLink||(e.DocumentLink={}));var Es;(function(I){function R(S,b){return{range:S,parent:b}}I.create=R;function F(S){var b=S;return b!==void 0&&s.is(b.range)&&(b.parent===void 0||I.is(b.parent))}I.is=F})(Es=e.SelectionRange||(e.SelectionRange={})),e.EOL=[`
`,`\r
`,"\r"];var tr;(function(I){function R(O,j,oe,ge){return new k(O,j,oe,ge)}I.create=R;function F(O){var j=O;return!!(A.defined(j)&&A.string(j.uri)&&(A.undefined(j.languageId)||A.string(j.languageId))&&A.uinteger(j.lineCount)&&A.func(j.getText)&&A.func(j.positionAt)&&A.func(j.offsetAt))}I.is=F;function S(O,j){for(var oe=O.getText(),ge=b(j,function(Dn,wo){var lu=Dn.range.start.line-wo.range.start.line;return lu===0?Dn.range.start.character-wo.range.start.character:lu}),Ce=oe.length,ut=ge.length-1;ut>=0;ut--){var Vt=ge[ut],Ut=O.offsetAt(Vt.range.start),Ye=O.offsetAt(Vt.range.end);if(Ye<=Ce)oe=oe.substring(0,Ut)+Vt.newText+oe.substring(Ye,oe.length);else throw new Error("Overlapping edit");Ce=Ut}return oe}I.applyEdits=S;function b(O,j){if(O.length<=1)return O;var oe=O.length/2|0,ge=O.slice(0,oe),Ce=O.slice(oe);b(ge,j),b(Ce,j);for(var ut=0,Vt=0,Ut=0;ut<ge.length&&Vt<Ce.length;){var Ye=j(ge[ut],Ce[Vt]);Ye<=0?O[Ut++]=ge[ut++]:O[Ut++]=Ce[Vt++]}for(;ut<ge.length;)O[Ut++]=ge[ut++];for(;Vt<Ce.length;)O[Ut++]=Ce[Vt++];return O}})(tr=e.TextDocument||(e.TextDocument={}));var k=function(){function I(R,F,S,b){this._uri=R,this._languageId=F,this._version=S,this._content=b,this._lineOffsets=void 0}return Object.defineProperty(I.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),I.prototype.getText=function(R){if(R){var F=this.offsetAt(R.start),S=this.offsetAt(R.end);return this._content.substring(F,S)}return this._content},I.prototype.update=function(R,F){this._content=R.text,this._version=F,this._lineOffsets=void 0},I.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var R=[],F=this._content,S=!0,b=0;b<F.length;b++){S&&(R.push(b),S=!1);var O=F.charAt(b);S=O==="\r"||O===`
`,O==="\r"&&b+1<F.length&&F.charAt(b+1)===`
`&&b++}S&&F.length>0&&R.push(F.length),this._lineOffsets=R}return this._lineOffsets},I.prototype.positionAt=function(R){R=Math.max(Math.min(R,this._content.length),0);var F=this.getLineOffsets(),S=0,b=F.length;if(b===0)return n.create(0,R);for(;S<b;){var O=Math.floor((S+b)/2);F[O]>R?b=O:S=O+1}var j=S-1;return n.create(j,R-F[j])},I.prototype.offsetAt=function(R){var F=this.getLineOffsets();if(R.line>=F.length)return this._content.length;if(R.line<0)return 0;var S=F[R.line],b=R.line+1<F.length?F[R.line+1]:this._content.length;return Math.max(Math.min(S+R.character,b),S)},Object.defineProperty(I.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),I}(),A;(function(I){var R=Object.prototype.toString;function F(Ye){return typeof Ye<"u"}I.defined=F;function S(Ye){return typeof Ye>"u"}I.undefined=S;function b(Ye){return Ye===!0||Ye===!1}I.boolean=b;function O(Ye){return R.call(Ye)==="[object String]"}I.string=O;function j(Ye){return R.call(Ye)==="[object Number]"}I.number=j;function oe(Ye,Dn,wo){return R.call(Ye)==="[object Number]"&&Dn<=Ye&&Ye<=wo}I.numberRange=oe;function ge(Ye){return R.call(Ye)==="[object Number]"&&-2147483648<=Ye&&Ye<=2147483647}I.integer=ge;function Ce(Ye){return R.call(Ye)==="[object Number]"&&0<=Ye&&Ye<=2147483647}I.uinteger=Ce;function ut(Ye){return R.call(Ye)==="[object Function]"}I.func=ut;function Vt(Ye){return Ye!==null&&typeof Ye=="object"}I.objectLiteral=Vt;function Ut(Ye,Dn){return Array.isArray(Ye)&&Ye.every(Dn)}I.typedArray=Ut})(A||(A={}))})});var gi=C(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});Or.ProtocolNotificationType=Or.ProtocolNotificationType0=Or.ProtocolRequestType=Or.ProtocolRequestType0=Or.RegistrationType=void 0;var Ma=Oa(),tg=class{constructor(e){this.method=e}};Or.RegistrationType=tg;var ig=class extends Ma.RequestType0{constructor(e){super(e)}};Or.ProtocolRequestType0=ig;var rg=class extends Ma.RequestType{constructor(e){super(e,Ma.ParameterStructures.byName)}};Or.ProtocolRequestType=rg;var ng=class extends Ma.NotificationType0{constructor(e){super(e)}};Or.ProtocolNotificationType0=ng;var sg=class extends Ma.NotificationType{constructor(e){super(e,Ma.ParameterStructures.byName)}};Or.ProtocolNotificationType=sg});var gb=C(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.objectLiteral=Jt.typedArray=Jt.stringArray=Jt.array=Jt.func=Jt.error=Jt.number=Jt.string=Jt.boolean=void 0;function $M(t){return t===!0||t===!1}Jt.boolean=$M;function hb(t){return typeof t=="string"||t instanceof String}Jt.string=hb;function zM(t){return typeof t=="number"||t instanceof Number}Jt.number=zM;function QM(t){return t instanceof Error}Jt.error=QM;function XM(t){return typeof t=="function"}Jt.func=XM;function mb(t){return Array.isArray(t)}Jt.array=mb;function JM(t){return mb(t)&&t.every(e=>hb(e))}Jt.stringArray=JM;function ZM(t,e){return Array.isArray(t)&&t.every(e)}Jt.typedArray=ZM;function eq(t){return t!==null&&typeof t=="object"}Jt.objectLiteral=eq});var _b=C(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.ImplementationRequest=void 0;var tq=gi(),iq;(function(t){t.method="textDocument/implementation",t.type=new tq.ProtocolRequestType(t.method)})(iq=gu.ImplementationRequest||(gu.ImplementationRequest={}))});var yb=C(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.TypeDefinitionRequest=void 0;var rq=gi(),nq;(function(t){t.method="textDocument/typeDefinition",t.type=new rq.ProtocolRequestType(t.method)})(nq=_u.TypeDefinitionRequest||(_u.TypeDefinitionRequest={}))});var bb=C(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.DidChangeWorkspaceFoldersNotification=Rs.WorkspaceFoldersRequest=void 0;var Tb=gi(),sq;(function(t){t.type=new Tb.ProtocolRequestType0("workspace/workspaceFolders")})(sq=Rs.WorkspaceFoldersRequest||(Rs.WorkspaceFoldersRequest={}));var oq;(function(t){t.type=new Tb.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(oq=Rs.DidChangeWorkspaceFoldersNotification||(Rs.DidChangeWorkspaceFoldersNotification={}))});var Ib=C(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.ConfigurationRequest=void 0;var aq=gi(),lq;(function(t){t.type=new aq.ProtocolRequestType("workspace/configuration")})(lq=yu.ConfigurationRequest||(yu.ConfigurationRequest={}))});var Nb=C(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.ColorPresentationRequest=xs.DocumentColorRequest=void 0;var vb=gi(),uq;(function(t){t.method="textDocument/documentColor",t.type=new vb.ProtocolRequestType(t.method)})(uq=xs.DocumentColorRequest||(xs.DocumentColorRequest={}));var cq;(function(t){t.type=new vb.ProtocolRequestType("textDocument/colorPresentation")})(cq=xs.ColorPresentationRequest||(xs.ColorPresentationRequest={}))});var og=C(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.FoldingRangeRequest=ws.FoldingRangeKind=void 0;var fq=gi(),dq;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(dq=ws.FoldingRangeKind||(ws.FoldingRangeKind={}));var pq;(function(t){t.method="textDocument/foldingRange",t.type=new fq.ProtocolRequestType(t.method)})(pq=ws.FoldingRangeRequest||(ws.FoldingRangeRequest={}))});var Sb=C(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.DeclarationRequest=void 0;var hq=gi(),mq;(function(t){t.method="textDocument/declaration",t.type=new hq.ProtocolRequestType(t.method)})(mq=Tu.DeclarationRequest||(Tu.DeclarationRequest={}))});var Pb=C(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.SelectionRangeRequest=void 0;var gq=gi(),_q;(function(t){t.method="textDocument/selectionRange",t.type=new gq.ProtocolRequestType(t.method)})(_q=bu.SelectionRangeRequest||(bu.SelectionRangeRequest={}))});var Eb=C(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.WorkDoneProgressCancelNotification=pn.WorkDoneProgressCreateRequest=pn.WorkDoneProgress=void 0;var yq=Oa(),Ab=gi(),Tq;(function(t){t.type=new yq.ProgressType;function e(i){return i===t.type}t.is=e})(Tq=pn.WorkDoneProgress||(pn.WorkDoneProgress={}));var bq;(function(t){t.type=new Ab.ProtocolRequestType("window/workDoneProgress/create")})(bq=pn.WorkDoneProgressCreateRequest||(pn.WorkDoneProgressCreateRequest={}));var Iq;(function(t){t.type=new Ab.ProtocolNotificationType("window/workDoneProgress/cancel")})(Iq=pn.WorkDoneProgressCancelNotification||(pn.WorkDoneProgressCancelNotification={}))});var Cb=C(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.CallHierarchyOutgoingCallsRequest=hn.CallHierarchyIncomingCallsRequest=hn.CallHierarchyPrepareRequest=void 0;var ag=gi(),vq;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new ag.ProtocolRequestType(t.method)})(vq=hn.CallHierarchyPrepareRequest||(hn.CallHierarchyPrepareRequest={}));var Nq;(function(t){t.method="callHierarchy/incomingCalls",t.type=new ag.ProtocolRequestType(t.method)})(Nq=hn.CallHierarchyIncomingCallsRequest||(hn.CallHierarchyIncomingCallsRequest={}));var Sq;(function(t){t.method="callHierarchy/outgoingCalls",t.type=new ag.ProtocolRequestType(t.method)})(Sq=hn.CallHierarchyOutgoingCallsRequest||(hn.CallHierarchyOutgoingCallsRequest={}))});var Rb=C(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.SemanticTokensRefreshRequest=dt.SemanticTokensRangeRequest=dt.SemanticTokensDeltaRequest=dt.SemanticTokensRequest=dt.SemanticTokensRegistrationType=dt.TokenFormat=dt.SemanticTokens=dt.SemanticTokenModifiers=dt.SemanticTokenTypes=void 0;var Iu=gi(),Pq;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator"})(Pq=dt.SemanticTokenTypes||(dt.SemanticTokenTypes={}));var Aq;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(Aq=dt.SemanticTokenModifiers||(dt.SemanticTokenModifiers={}));var Eq;(function(t){function e(i){let r=i;return r!==void 0&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(Eq=dt.SemanticTokens||(dt.SemanticTokens={}));var Cq;(function(t){t.Relative="relative"})(Cq=dt.TokenFormat||(dt.TokenFormat={}));var Rq;(function(t){t.method="textDocument/semanticTokens",t.type=new Iu.RegistrationType(t.method)})(Rq=dt.SemanticTokensRegistrationType||(dt.SemanticTokensRegistrationType={}));var xq;(function(t){t.method="textDocument/semanticTokens/full",t.type=new Iu.ProtocolRequestType(t.method)})(xq=dt.SemanticTokensRequest||(dt.SemanticTokensRequest={}));var wq;(function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new Iu.ProtocolRequestType(t.method)})(wq=dt.SemanticTokensDeltaRequest||(dt.SemanticTokensDeltaRequest={}));var kq;(function(t){t.method="textDocument/semanticTokens/range",t.type=new Iu.ProtocolRequestType(t.method)})(kq=dt.SemanticTokensRangeRequest||(dt.SemanticTokensRangeRequest={}));var Dq;(function(t){t.method="workspace/semanticTokens/refresh",t.type=new Iu.ProtocolRequestType0(t.method)})(Dq=dt.SemanticTokensRefreshRequest||(dt.SemanticTokensRefreshRequest={}))});var xb=C(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.ShowDocumentRequest=void 0;var Fq=gi(),Lq;(function(t){t.method="window/showDocument",t.type=new Fq.ProtocolRequestType(t.method)})(Lq=vu.ShowDocumentRequest||(vu.ShowDocumentRequest={}))});var wb=C(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.LinkedEditingRangeRequest=void 0;var Oq=gi(),Mq;(function(t){t.method="textDocument/linkedEditingRange",t.type=new Oq.ProtocolRequestType(t.method)})(Mq=Nu.LinkedEditingRangeRequest||(Nu.LinkedEditingRangeRequest={}))});var kb=C(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.WillDeleteFilesRequest=Ot.DidDeleteFilesNotification=Ot.DidRenameFilesNotification=Ot.WillRenameFilesRequest=Ot.DidCreateFilesNotification=Ot.WillCreateFilesRequest=Ot.FileOperationPatternKind=void 0;var qa=gi(),qq;(function(t){t.file="file",t.folder="folder"})(qq=Ot.FileOperationPatternKind||(Ot.FileOperationPatternKind={}));var Bq;(function(t){t.method="workspace/willCreateFiles",t.type=new qa.ProtocolRequestType(t.method)})(Bq=Ot.WillCreateFilesRequest||(Ot.WillCreateFilesRequest={}));var Vq;(function(t){t.method="workspace/didCreateFiles",t.type=new qa.ProtocolNotificationType(t.method)})(Vq=Ot.DidCreateFilesNotification||(Ot.DidCreateFilesNotification={}));var Uq;(function(t){t.method="workspace/willRenameFiles",t.type=new qa.ProtocolRequestType(t.method)})(Uq=Ot.WillRenameFilesRequest||(Ot.WillRenameFilesRequest={}));var jq;(function(t){t.method="workspace/didRenameFiles",t.type=new qa.ProtocolNotificationType(t.method)})(jq=Ot.DidRenameFilesNotification||(Ot.DidRenameFilesNotification={}));var Gq;(function(t){t.method="workspace/didDeleteFiles",t.type=new qa.ProtocolNotificationType(t.method)})(Gq=Ot.DidDeleteFilesNotification||(Ot.DidDeleteFilesNotification={}));var Hq;(function(t){t.method="workspace/willDeleteFiles",t.type=new qa.ProtocolRequestType(t.method)})(Hq=Ot.WillDeleteFilesRequest||(Ot.WillDeleteFilesRequest={}))});var Db=C(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.MonikerRequest=mn.MonikerKind=mn.UniquenessLevel=void 0;var Wq=gi(),Yq;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(Yq=mn.UniquenessLevel||(mn.UniquenessLevel={}));var Kq;(function(t){t.import="import",t.export="export",t.local="local"})(Kq=mn.MonikerKind||(mn.MonikerKind={}));var $q;(function(t){t.method="textDocument/moniker",t.type=new Wq.ProtocolRequestType(t.method)})($q=mn.MonikerRequest||(mn.MonikerRequest={}))});var qb=C(P=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});P.DocumentLinkRequest=P.CodeLensRefreshRequest=P.CodeLensResolveRequest=P.CodeLensRequest=P.WorkspaceSymbolRequest=P.CodeActionResolveRequest=P.CodeActionRequest=P.DocumentSymbolRequest=P.DocumentHighlightRequest=P.ReferencesRequest=P.DefinitionRequest=P.SignatureHelpRequest=P.SignatureHelpTriggerKind=P.HoverRequest=P.CompletionResolveRequest=P.CompletionRequest=P.CompletionTriggerKind=P.PublishDiagnosticsNotification=P.WatchKind=P.FileChangeType=P.DidChangeWatchedFilesNotification=P.WillSaveTextDocumentWaitUntilRequest=P.WillSaveTextDocumentNotification=P.TextDocumentSaveReason=P.DidSaveTextDocumentNotification=P.DidCloseTextDocumentNotification=P.DidChangeTextDocumentNotification=P.TextDocumentContentChangeEvent=P.DidOpenTextDocumentNotification=P.TextDocumentSyncKind=P.TelemetryEventNotification=P.LogMessageNotification=P.ShowMessageRequest=P.ShowMessageNotification=P.MessageType=P.DidChangeConfigurationNotification=P.ExitNotification=P.ShutdownRequest=P.InitializedNotification=P.InitializeError=P.InitializeRequest=P.WorkDoneProgressOptions=P.TextDocumentRegistrationOptions=P.StaticRegistrationOptions=P.FailureHandlingKind=P.ResourceOperationKind=P.UnregistrationRequest=P.RegistrationRequest=P.DocumentSelector=P.DocumentFilter=void 0;P.MonikerRequest=P.MonikerKind=P.UniquenessLevel=P.WillDeleteFilesRequest=P.DidDeleteFilesNotification=P.WillRenameFilesRequest=P.DidRenameFilesNotification=P.WillCreateFilesRequest=P.DidCreateFilesNotification=P.FileOperationPatternKind=P.LinkedEditingRangeRequest=P.ShowDocumentRequest=P.SemanticTokensRegistrationType=P.SemanticTokensRefreshRequest=P.SemanticTokensRangeRequest=P.SemanticTokensDeltaRequest=P.SemanticTokensRequest=P.TokenFormat=P.SemanticTokens=P.SemanticTokenModifiers=P.SemanticTokenTypes=P.CallHierarchyPrepareRequest=P.CallHierarchyOutgoingCallsRequest=P.CallHierarchyIncomingCallsRequest=P.WorkDoneProgressCancelNotification=P.WorkDoneProgressCreateRequest=P.WorkDoneProgress=P.SelectionRangeRequest=P.DeclarationRequest=P.FoldingRangeRequest=P.ColorPresentationRequest=P.DocumentColorRequest=P.ConfigurationRequest=P.DidChangeWorkspaceFoldersNotification=P.WorkspaceFoldersRequest=P.TypeDefinitionRequest=P.ImplementationRequest=P.ApplyWorkspaceEditRequest=P.ExecuteCommandRequest=P.PrepareRenameRequest=P.RenameRequest=P.PrepareSupportDefaultBehavior=P.DocumentOnTypeFormattingRequest=P.DocumentRangeFormattingRequest=P.DocumentFormattingRequest=P.DocumentLinkResolveRequest=void 0;var ks=gb(),Be=gi(),zq=_b();Object.defineProperty(P,"ImplementationRequest",{enumerable:!0,get:function(){return zq.ImplementationRequest}});var Qq=yb();Object.defineProperty(P,"TypeDefinitionRequest",{enumerable:!0,get:function(){return Qq.TypeDefinitionRequest}});var Fb=bb();Object.defineProperty(P,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return Fb.WorkspaceFoldersRequest}});Object.defineProperty(P,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return Fb.DidChangeWorkspaceFoldersNotification}});var Xq=Ib();Object.defineProperty(P,"ConfigurationRequest",{enumerable:!0,get:function(){return Xq.ConfigurationRequest}});var Lb=Nb();Object.defineProperty(P,"DocumentColorRequest",{enumerable:!0,get:function(){return Lb.DocumentColorRequest}});Object.defineProperty(P,"ColorPresentationRequest",{enumerable:!0,get:function(){return Lb.ColorPresentationRequest}});var Jq=og();Object.defineProperty(P,"FoldingRangeRequest",{enumerable:!0,get:function(){return Jq.FoldingRangeRequest}});var Zq=Sb();Object.defineProperty(P,"DeclarationRequest",{enumerable:!0,get:function(){return Zq.DeclarationRequest}});var eB=Pb();Object.defineProperty(P,"SelectionRangeRequest",{enumerable:!0,get:function(){return eB.SelectionRangeRequest}});var lg=Eb();Object.defineProperty(P,"WorkDoneProgress",{enumerable:!0,get:function(){return lg.WorkDoneProgress}});Object.defineProperty(P,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return lg.WorkDoneProgressCreateRequest}});Object.defineProperty(P,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return lg.WorkDoneProgressCancelNotification}});var ug=Cb();Object.defineProperty(P,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return ug.CallHierarchyIncomingCallsRequest}});Object.defineProperty(P,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return ug.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(P,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return ug.CallHierarchyPrepareRequest}});var ss=Rb();Object.defineProperty(P,"SemanticTokenTypes",{enumerable:!0,get:function(){return ss.SemanticTokenTypes}});Object.defineProperty(P,"SemanticTokenModifiers",{enumerable:!0,get:function(){return ss.SemanticTokenModifiers}});Object.defineProperty(P,"SemanticTokens",{enumerable:!0,get:function(){return ss.SemanticTokens}});Object.defineProperty(P,"TokenFormat",{enumerable:!0,get:function(){return ss.TokenFormat}});Object.defineProperty(P,"SemanticTokensRequest",{enumerable:!0,get:function(){return ss.SemanticTokensRequest}});Object.defineProperty(P,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return ss.SemanticTokensDeltaRequest}});Object.defineProperty(P,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return ss.SemanticTokensRangeRequest}});Object.defineProperty(P,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return ss.SemanticTokensRefreshRequest}});Object.defineProperty(P,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return ss.SemanticTokensRegistrationType}});var tB=xb();Object.defineProperty(P,"ShowDocumentRequest",{enumerable:!0,get:function(){return tB.ShowDocumentRequest}});var iB=wb();Object.defineProperty(P,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return iB.LinkedEditingRangeRequest}});var qo=kb();Object.defineProperty(P,"FileOperationPatternKind",{enumerable:!0,get:function(){return qo.FileOperationPatternKind}});Object.defineProperty(P,"DidCreateFilesNotification",{enumerable:!0,get:function(){return qo.DidCreateFilesNotification}});Object.defineProperty(P,"WillCreateFilesRequest",{enumerable:!0,get:function(){return qo.WillCreateFilesRequest}});Object.defineProperty(P,"DidRenameFilesNotification",{enumerable:!0,get:function(){return qo.DidRenameFilesNotification}});Object.defineProperty(P,"WillRenameFilesRequest",{enumerable:!0,get:function(){return qo.WillRenameFilesRequest}});Object.defineProperty(P,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return qo.DidDeleteFilesNotification}});Object.defineProperty(P,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return qo.WillDeleteFilesRequest}});var cg=Db();Object.defineProperty(P,"UniquenessLevel",{enumerable:!0,get:function(){return cg.UniquenessLevel}});Object.defineProperty(P,"MonikerKind",{enumerable:!0,get:function(){return cg.MonikerKind}});Object.defineProperty(P,"MonikerRequest",{enumerable:!0,get:function(){return cg.MonikerRequest}});var Ob;(function(t){function e(i){let r=i;return ks.string(r.language)||ks.string(r.scheme)||ks.string(r.pattern)}t.is=e})(Ob=P.DocumentFilter||(P.DocumentFilter={}));var Mb;(function(t){function e(i){if(!Array.isArray(i))return!1;for(let r of i)if(!ks.string(r)&&!Ob.is(r))return!1;return!0}t.is=e})(Mb=P.DocumentSelector||(P.DocumentSelector={}));var rB;(function(t){t.type=new Be.ProtocolRequestType("client/registerCapability")})(rB=P.RegistrationRequest||(P.RegistrationRequest={}));var nB;(function(t){t.type=new Be.ProtocolRequestType("client/unregisterCapability")})(nB=P.UnregistrationRequest||(P.UnregistrationRequest={}));var sB;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(sB=P.ResourceOperationKind||(P.ResourceOperationKind={}));var oB;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(oB=P.FailureHandlingKind||(P.FailureHandlingKind={}));var aB;(function(t){function e(i){let r=i;return r&&ks.string(r.id)&&r.id.length>0}t.hasId=e})(aB=P.StaticRegistrationOptions||(P.StaticRegistrationOptions={}));var lB;(function(t){function e(i){let r=i;return r&&(r.documentSelector===null||Mb.is(r.documentSelector))}t.is=e})(lB=P.TextDocumentRegistrationOptions||(P.TextDocumentRegistrationOptions={}));var uB;(function(t){function e(r){let n=r;return ks.objectLiteral(n)&&(n.workDoneProgress===void 0||ks.boolean(n.workDoneProgress))}t.is=e;function i(r){let n=r;return n&&ks.boolean(n.workDoneProgress)}t.hasWorkDoneProgress=i})(uB=P.WorkDoneProgressOptions||(P.WorkDoneProgressOptions={}));var cB;(function(t){t.type=new Be.ProtocolRequestType("initialize")})(cB=P.InitializeRequest||(P.InitializeRequest={}));var fB;(function(t){t.unknownProtocolVersion=1})(fB=P.InitializeError||(P.InitializeError={}));var dB;(function(t){t.type=new Be.ProtocolNotificationType("initialized")})(dB=P.InitializedNotification||(P.InitializedNotification={}));var pB;(function(t){t.type=new Be.ProtocolRequestType0("shutdown")})(pB=P.ShutdownRequest||(P.ShutdownRequest={}));var hB;(function(t){t.type=new Be.ProtocolNotificationType0("exit")})(hB=P.ExitNotification||(P.ExitNotification={}));var mB;(function(t){t.type=new Be.ProtocolNotificationType("workspace/didChangeConfiguration")})(mB=P.DidChangeConfigurationNotification||(P.DidChangeConfigurationNotification={}));var gB;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(gB=P.MessageType||(P.MessageType={}));var _B;(function(t){t.type=new Be.ProtocolNotificationType("window/showMessage")})(_B=P.ShowMessageNotification||(P.ShowMessageNotification={}));var yB;(function(t){t.type=new Be.ProtocolRequestType("window/showMessageRequest")})(yB=P.ShowMessageRequest||(P.ShowMessageRequest={}));var TB;(function(t){t.type=new Be.ProtocolNotificationType("window/logMessage")})(TB=P.LogMessageNotification||(P.LogMessageNotification={}));var bB;(function(t){t.type=new Be.ProtocolNotificationType("telemetry/event")})(bB=P.TelemetryEventNotification||(P.TelemetryEventNotification={}));var IB;(function(t){t.None=0,t.Full=1,t.Incremental=2})(IB=P.TextDocumentSyncKind||(P.TextDocumentSyncKind={}));var vB;(function(t){t.method="textDocument/didOpen",t.type=new Be.ProtocolNotificationType(t.method)})(vB=P.DidOpenTextDocumentNotification||(P.DidOpenTextDocumentNotification={}));var NB;(function(t){function e(r){let n=r;return n!=null&&typeof n.text=="string"&&n.range!==void 0&&(n.rangeLength===void 0||typeof n.rangeLength=="number")}t.isIncremental=e;function i(r){let n=r;return n!=null&&typeof n.text=="string"&&n.range===void 0&&n.rangeLength===void 0}t.isFull=i})(NB=P.TextDocumentContentChangeEvent||(P.TextDocumentContentChangeEvent={}));var SB;(function(t){t.method="textDocument/didChange",t.type=new Be.ProtocolNotificationType(t.method)})(SB=P.DidChangeTextDocumentNotification||(P.DidChangeTextDocumentNotification={}));var PB;(function(t){t.method="textDocument/didClose",t.type=new Be.ProtocolNotificationType(t.method)})(PB=P.DidCloseTextDocumentNotification||(P.DidCloseTextDocumentNotification={}));var AB;(function(t){t.method="textDocument/didSave",t.type=new Be.ProtocolNotificationType(t.method)})(AB=P.DidSaveTextDocumentNotification||(P.DidSaveTextDocumentNotification={}));var EB;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(EB=P.TextDocumentSaveReason||(P.TextDocumentSaveReason={}));var CB;(function(t){t.method="textDocument/willSave",t.type=new Be.ProtocolNotificationType(t.method)})(CB=P.WillSaveTextDocumentNotification||(P.WillSaveTextDocumentNotification={}));var RB;(function(t){t.method="textDocument/willSaveWaitUntil",t.type=new Be.ProtocolRequestType(t.method)})(RB=P.WillSaveTextDocumentWaitUntilRequest||(P.WillSaveTextDocumentWaitUntilRequest={}));var xB;(function(t){t.type=new Be.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(xB=P.DidChangeWatchedFilesNotification||(P.DidChangeWatchedFilesNotification={}));var wB;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(wB=P.FileChangeType||(P.FileChangeType={}));var kB;(function(t){t.Create=1,t.Change=2,t.Delete=4})(kB=P.WatchKind||(P.WatchKind={}));var DB;(function(t){t.type=new Be.ProtocolNotificationType("textDocument/publishDiagnostics")})(DB=P.PublishDiagnosticsNotification||(P.PublishDiagnosticsNotification={}));var FB;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(FB=P.CompletionTriggerKind||(P.CompletionTriggerKind={}));var LB;(function(t){t.method="textDocument/completion",t.type=new Be.ProtocolRequestType(t.method)})(LB=P.CompletionRequest||(P.CompletionRequest={}));var OB;(function(t){t.method="completionItem/resolve",t.type=new Be.ProtocolRequestType(t.method)})(OB=P.CompletionResolveRequest||(P.CompletionResolveRequest={}));var MB;(function(t){t.method="textDocument/hover",t.type=new Be.ProtocolRequestType(t.method)})(MB=P.HoverRequest||(P.HoverRequest={}));var qB;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(qB=P.SignatureHelpTriggerKind||(P.SignatureHelpTriggerKind={}));var BB;(function(t){t.method="textDocument/signatureHelp",t.type=new Be.ProtocolRequestType(t.method)})(BB=P.SignatureHelpRequest||(P.SignatureHelpRequest={}));var VB;(function(t){t.method="textDocument/definition",t.type=new Be.ProtocolRequestType(t.method)})(VB=P.DefinitionRequest||(P.DefinitionRequest={}));var UB;(function(t){t.method="textDocument/references",t.type=new Be.ProtocolRequestType(t.method)})(UB=P.ReferencesRequest||(P.ReferencesRequest={}));var jB;(function(t){t.method="textDocument/documentHighlight",t.type=new Be.ProtocolRequestType(t.method)})(jB=P.DocumentHighlightRequest||(P.DocumentHighlightRequest={}));var GB;(function(t){t.method="textDocument/documentSymbol",t.type=new Be.ProtocolRequestType(t.method)})(GB=P.DocumentSymbolRequest||(P.DocumentSymbolRequest={}));var HB;(function(t){t.method="textDocument/codeAction",t.type=new Be.ProtocolRequestType(t.method)})(HB=P.CodeActionRequest||(P.CodeActionRequest={}));var WB;(function(t){t.method="codeAction/resolve",t.type=new Be.ProtocolRequestType(t.method)})(WB=P.CodeActionResolveRequest||(P.CodeActionResolveRequest={}));var YB;(function(t){t.method="workspace/symbol",t.type=new Be.ProtocolRequestType(t.method)})(YB=P.WorkspaceSymbolRequest||(P.WorkspaceSymbolRequest={}));var KB;(function(t){t.method="textDocument/codeLens",t.type=new Be.ProtocolRequestType(t.method)})(KB=P.CodeLensRequest||(P.CodeLensRequest={}));var $B;(function(t){t.method="codeLens/resolve",t.type=new Be.ProtocolRequestType(t.method)})($B=P.CodeLensResolveRequest||(P.CodeLensResolveRequest={}));var zB;(function(t){t.method="workspace/codeLens/refresh",t.type=new Be.ProtocolRequestType0(t.method)})(zB=P.CodeLensRefreshRequest||(P.CodeLensRefreshRequest={}));var QB;(function(t){t.method="textDocument/documentLink",t.type=new Be.ProtocolRequestType(t.method)})(QB=P.DocumentLinkRequest||(P.DocumentLinkRequest={}));var XB;(function(t){t.method="documentLink/resolve",t.type=new Be.ProtocolRequestType(t.method)})(XB=P.DocumentLinkResolveRequest||(P.DocumentLinkResolveRequest={}));var JB;(function(t){t.method="textDocument/formatting",t.type=new Be.ProtocolRequestType(t.method)})(JB=P.DocumentFormattingRequest||(P.DocumentFormattingRequest={}));var ZB;(function(t){t.method="textDocument/rangeFormatting",t.type=new Be.ProtocolRequestType(t.method)})(ZB=P.DocumentRangeFormattingRequest||(P.DocumentRangeFormattingRequest={}));var eV;(function(t){t.method="textDocument/onTypeFormatting",t.type=new Be.ProtocolRequestType(t.method)})(eV=P.DocumentOnTypeFormattingRequest||(P.DocumentOnTypeFormattingRequest={}));var tV;(function(t){t.Identifier=1})(tV=P.PrepareSupportDefaultBehavior||(P.PrepareSupportDefaultBehavior={}));var iV;(function(t){t.method="textDocument/rename",t.type=new Be.ProtocolRequestType(t.method)})(iV=P.RenameRequest||(P.RenameRequest={}));var rV;(function(t){t.method="textDocument/prepareRename",t.type=new Be.ProtocolRequestType(t.method)})(rV=P.PrepareRenameRequest||(P.PrepareRenameRequest={}));var nV;(function(t){t.type=new Be.ProtocolRequestType("workspace/executeCommand")})(nV=P.ExecuteCommandRequest||(P.ExecuteCommandRequest={}));var sV;(function(t){t.type=new Be.ProtocolRequestType("workspace/applyEdit")})(sV=P.ApplyWorkspaceEditRequest||(P.ApplyWorkspaceEditRequest={}))});var Vb=C(wf=>{"use strict";Object.defineProperty(wf,"__esModule",{value:!0});wf.createProtocolConnection=void 0;var Bb=Oa();function oV(t,e,i,r){return Bb.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),Bb.createMessageConnection(t,e,i,r)}wf.createProtocolConnection=oV});var Ub=C(Hi=>{"use strict";var aV=Hi&&Hi.__createBinding||(Object.create?function(t,e,i,r){r===void 0&&(r=i),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,r){r===void 0&&(r=i),t[r]=e[i]}),kf=Hi&&Hi.__exportStar||function(t,e){for(var i in t)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&aV(e,t,i)};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.LSPErrorCodes=Hi.createProtocolConnection=void 0;kf(Oa(),Hi);kf(Nt(),Hi);kf(gi(),Hi);kf(qb(),Hi);var lV=Vb();Object.defineProperty(Hi,"createProtocolConnection",{enumerable:!0,get:function(){return lV.createProtocolConnection}});var uV;(function(t){t.lspReservedErrorRangeStart=-32899,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(uV=Hi.LSPErrorCodes||(Hi.LSPErrorCodes={}))});var xi=C(Ln=>{"use strict";var cV=Ln&&Ln.__createBinding||(Object.create?function(t,e,i,r){r===void 0&&(r=i),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,r){r===void 0&&(r=i),t[r]=e[i]}),jb=Ln&&Ln.__exportStar||function(t,e){for(var i in t)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&cV(e,t,i)};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.createProtocolConnection=void 0;var fV=eg();jb(eg(),Ln);jb(Ub(),Ln);function dV(t,e,i,r){return fV.createMessageConnection(t,e,i,r)}Ln.createProtocolConnection=dV});var fg=C(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.generateUuid=Mr.parse=Mr.isUUID=Mr.v4=Mr.empty=void 0;var Su=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Ge=class extends Su{constructor(){super([Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),"-",Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),"-","4",Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),"-",Ge._oneOf(Ge._timeHighBits),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),"-",Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex(),Ge._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return Ge._oneOf(Ge._chars)}};Ge._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Ge._timeHighBits=["8","9","a","b"];Mr.empty=new Su("00000000-0000-0000-0000-000000000000");function Gb(){return new Ge}Mr.v4=Gb;var pV=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Hb(t){return pV.test(t)}Mr.isUUID=Hb;function hV(t){if(!Hb(t))throw new Error("invalid uuid");return new Su(t)}Mr.parse=hV;function mV(){return Gb().asHex()}Mr.generateUuid=mV});var Wb=C(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.attachPartialResult=Fs.ProgressFeature=Fs.attachWorkDone=void 0;var Ds=xi(),gV=fg(),On=class{constructor(e,i){this._connection=e,this._token=i,On.Instances.set(this._token,this)}begin(e,i,r,n){let s={kind:"begin",title:e,percentage:i,message:r,cancellable:n};this._connection.sendProgress(Ds.WorkDoneProgress.type,this._token,s)}report(e,i){let r={kind:"report"};typeof e=="number"?(r.percentage=e,i!==void 0&&(r.message=i)):r.message=e,this._connection.sendProgress(Ds.WorkDoneProgress.type,this._token,r)}done(){On.Instances.delete(this._token),this._connection.sendProgress(Ds.WorkDoneProgress.type,this._token,{kind:"end"})}};On.Instances=new Map;var Df=class extends On{constructor(e,i){super(e,i),this._source=new Ds.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},Pu=class{constructor(){}begin(){}report(){}done(){}},Ff=class extends Pu{constructor(){super(),this._source=new Ds.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function _V(t,e){if(e===void 0||e.workDoneToken===void 0)return new Pu;let i=e.workDoneToken;return delete e.workDoneToken,new On(t,i)}Fs.attachWorkDone=_V;var yV=t=>class extends t{constructor(){super(),this._progressSupported=!1}initialize(e){var i;((i=e?.window)===null||i===void 0?void 0:i.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(Ds.WorkDoneProgressCancelNotification.type,r=>{let n=On.Instances.get(r.token);(n instanceof Df||n instanceof Ff)&&n.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new Pu:new On(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){let e=gV.generateUuid();return this.connection.sendRequest(Ds.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new Df(this.connection,e))}else return Promise.resolve(new Ff)}};Fs.ProgressFeature=yV;var dg;(function(t){t.type=new Ds.ProgressType})(dg||(dg={}));var pg=class{constructor(e,i){this._connection=e,this._token=i}report(e){this._connection.sendProgress(dg.type,this._token,e)}};function TV(t,e){if(e===void 0||e.partialResultToken===void 0)return;let i=e.partialResultToken;return delete e.partialResultToken,new pg(t,i)}Fs.attachPartialResult=TV});var Yb=C(Lf=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});Lf.ConfigurationFeature=void 0;var bV=xi(),IV=_f(),vV=t=>class extends t{getConfiguration(e){return e?IV.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let i={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(bV.ConfigurationRequest.type,i).then(r=>Array.isArray(e)?r:r[0])}};Lf.ConfigurationFeature=vV});var Kb=C(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});Mf.WorkspaceFoldersFeature=void 0;var Of=xi(),NV=t=>class extends t{initialize(e){let i=e.workspace;i&&i.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Of.Emitter,this.connection.onNotification(Of.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(Of.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(Of.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};Mf.WorkspaceFoldersFeature=NV});var $b=C(qf=>{"use strict";Object.defineProperty(qf,"__esModule",{value:!0});qf.CallHierarchyFeature=void 0;var hg=xi(),SV=t=>class extends t{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest(hg.CallHierarchyPrepareRequest.type,(i,r)=>e(i,r,this.attachWorkDoneProgress(i),void 0))},onIncomingCalls:e=>{let i=hg.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(i,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(i,r)))},onOutgoingCalls:e=>{let i=hg.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(i,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(i,r)))}}}};qf.CallHierarchyFeature=SV});var _g=C(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.SemanticTokensBuilder=Ba.SemanticTokensFeature=void 0;var mg=xi(),PV=t=>class extends t{get semanticTokens(){return{on:e=>{let i=mg.SemanticTokensRequest.type;this.connection.onRequest(i,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(i,r)))},onDelta:e=>{let i=mg.SemanticTokensDeltaRequest.type;this.connection.onRequest(i,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(i,r)))},onRange:e=>{let i=mg.SemanticTokensRangeRequest.type;this.connection.onRequest(i,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(i,r)))}}}};Ba.SemanticTokensFeature=PV;var gg=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,i,r,n,s){let o=e,a=i;this._dataLen>0&&(o-=this._prevLine,o===0&&(a-=this._prevChar)),this._data[this._dataLen++]=o,this._data[this._dataLen++]=a,this._data[this._dataLen++]=r,this._data[this._dataLen++]=n,this._data[this._dataLen++]=s,this._prevLine=e,this._prevChar=i}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){let e=this._prevData.length,i=this._data.length,r=0;for(;r<i&&r<e&&this._prevData[r]===this._data[r];)r++;if(r<i&&r<e){let n=0;for(;n<i&&n<e&&this._prevData[e-1-n]===this._data[i-1-n];)n++;let s=this._data.slice(r,i-n);return{resultId:this.id,edits:[{start:r,deleteCount:e-n-r,data:s}]}}else return r<i?{resultId:this.id,edits:[{start:r,deleteCount:0,data:this._data.slice(r)}]}:r<e?{resultId:this.id,edits:[{start:r,deleteCount:e-r}]}:{resultId:this.id,edits:[]}}else return this.build()}};Ba.SemanticTokensBuilder=gg});var zb=C(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});Bf.ShowDocumentFeature=void 0;var AV=xi(),EV=t=>class extends t{showDocument(e){return this.connection.sendRequest(AV.ShowDocumentRequest.type,e)}};Bf.ShowDocumentFeature=EV});var Qb=C(Vf=>{"use strict";Object.defineProperty(Vf,"__esModule",{value:!0});Vf.FileOperationsFeature=void 0;var Va=xi(),CV=t=>class extends t{onDidCreateFiles(e){this.connection.onNotification(Va.DidCreateFilesNotification.type,i=>{e(i)})}onDidRenameFiles(e){this.connection.onNotification(Va.DidRenameFilesNotification.type,i=>{e(i)})}onDidDeleteFiles(e){this.connection.onNotification(Va.DidDeleteFilesNotification.type,i=>{e(i)})}onWillCreateFiles(e){return this.connection.onRequest(Va.WillCreateFilesRequest.type,(i,r)=>e(i,r))}onWillRenameFiles(e){return this.connection.onRequest(Va.WillRenameFilesRequest.type,(i,r)=>e(i,r))}onWillDeleteFiles(e){return this.connection.onRequest(Va.WillDeleteFilesRequest.type,(i,r)=>e(i,r))}};Vf.FileOperationsFeature=CV});var Xb=C(Uf=>{"use strict";Object.defineProperty(Uf,"__esModule",{value:!0});Uf.LinkedEditingRangeFeature=void 0;var RV=xi(),xV=t=>class extends t{onLinkedEditingRange(e){this.connection.onRequest(RV.LinkedEditingRangeRequest.type,(i,r)=>e(i,r,this.attachWorkDoneProgress(i),void 0))}};Uf.LinkedEditingRangeFeature=xV});var Jb=C(jf=>{"use strict";Object.defineProperty(jf,"__esModule",{value:!0});jf.MonikerFeature=void 0;var wV=xi(),kV=t=>class extends t{get moniker(){return{on:e=>{let i=wV.MonikerRequest.type;this.connection.onRequest(i,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(i,r)))}}}};jf.MonikerFeature=kV});var Sg=C(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.createConnection=rt.combineFeatures=rt.combineLanguagesFeatures=rt.combineWorkspaceFeatures=rt.combineWindowFeatures=rt.combineClientFeatures=rt.combineTracerFeatures=rt.combineTelemetryFeatures=rt.combineConsoleFeatures=rt._LanguagesImpl=rt.BulkUnregistration=rt.BulkRegistration=rt.ErrorMessageTracker=rt.TextDocuments=void 0;var ie=xi(),qr=_f(),Tg=fg(),Ve=Wb(),DV=Yb(),FV=Kb(),LV=$b(),OV=_g(),MV=zb(),qV=Qb(),BV=Xb(),VV=Jb();function yg(t){if(t!==null)return t}var bg=class{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new ie.Emitter,this._onDidOpen=new ie.Emitter,this._onDidClose=new ie.Emitter,this._onDidSave=new ie.Emitter,this._onWillSave=new ie.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map(e=>this._documents[e])}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=ie.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(i=>{let r=i.textDocument,n=this._configuration.create(r.uri,r.languageId,r.version,r.text);this._documents[r.uri]=n;let s=Object.freeze({document:n});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)}),e.onDidChangeTextDocument(i=>{let r=i.textDocument,n=i.contentChanges;if(n.length===0)return;let s=this._documents[r.uri],{version:o}=r;if(o==null)throw new Error(`Received document change event for ${r.uri} without valid version identifier`);s=this._configuration.update(s,n,o),this._documents[r.uri]=s,this._onDidChangeContent.fire(Object.freeze({document:s}))}),e.onDidCloseTextDocument(i=>{let r=this._documents[i.textDocument.uri];r&&(delete this._documents[i.textDocument.uri],this._onDidClose.fire(Object.freeze({document:r})))}),e.onWillSaveTextDocument(i=>{let r=this._documents[i.textDocument.uri];r&&this._onWillSave.fire(Object.freeze({document:r,reason:i.reason}))}),e.onWillSaveTextDocumentWaitUntil((i,r)=>{let n=this._documents[i.textDocument.uri];return n&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:n,reason:i.reason}),r):[]}),e.onDidSaveTextDocument(i=>{let r=this._documents[i.textDocument.uri];r&&this._onDidSave.fire(Object.freeze({document:r}))})}};rt.TextDocuments=bg;var Ig=class{constructor(){this._messages=Object.create(null)}add(e){let i=this._messages[e];i||(i=0),i++,this._messages[e]=i}sendErrors(e){Object.keys(this._messages).forEach(i=>{e.window.showErrorMessage(i)})}};rt.ErrorMessageTracker=Ig;var Gf=class{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(ie.MessageType.Error,e)}warn(e){this.send(ie.MessageType.Warning,e)}info(e){this.send(ie.MessageType.Info,e)}log(e){this.send(ie.MessageType.Log,e)}send(e,i){this._rawConnection&&this._rawConnection.sendNotification(ie.LogMessageNotification.type,{type:e,message:i})}},vg=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...i){let r={type:ie.MessageType.Error,message:e,actions:i};return this.connection.sendRequest(ie.ShowMessageRequest.type,r).then(yg)}showWarningMessage(e,...i){let r={type:ie.MessageType.Warning,message:e,actions:i};return this.connection.sendRequest(ie.ShowMessageRequest.type,r).then(yg)}showInformationMessage(e,...i){let r={type:ie.MessageType.Info,message:e,actions:i};return this.connection.sendRequest(ie.ShowMessageRequest.type,r).then(yg)}},Zb=MV.ShowDocumentFeature(Ve.ProgressFeature(vg)),UV;(function(t){function e(){return new Hf}t.create=e})(UV=rt.BulkRegistration||(rt.BulkRegistration={}));var Hf=class{constructor(){this._registrations=[],this._registered=new Set}add(e,i){let r=qr.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let n=Tg.generateUuid();this._registrations.push({id:n,method:r,registerOptions:i||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},jV;(function(t){function e(){return new Au(void 0,[])}t.create=e})(jV=rt.BulkUnregistration||(rt.BulkUnregistration={}));var Au=class{constructor(e,i){this._connection=e,this._unregistrations=new Map,i.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let i={unregisterations:e};this._connection.sendRequest(ie.UnregistrationRequest.type,i).then(void 0,r=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){let i=qr.string(e)?e:e.method,r=this._unregistrations.get(i);if(!r)return!1;let n={unregisterations:[r]};return this._connection.sendRequest(ie.UnregistrationRequest.type,n).then(()=>{this._unregistrations.delete(i)},s=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},Wf=class{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,i,r){return e instanceof Hf?this.registerMany(e):e instanceof Au?this.registerSingle1(e,i,r):this.registerSingle2(e,i)}registerSingle1(e,i,r){let n=qr.string(i)?i:i.method,s=Tg.generateUuid(),o={registrations:[{id:s,method:n,registerOptions:r||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(ie.RegistrationRequest.type,o).then(a=>(e.add({id:s,method:n}),e),a=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(a)))}registerSingle2(e,i){let r=qr.string(e)?e:e.method,n=Tg.generateUuid(),s={registrations:[{id:n,method:r,registerOptions:i||{}}]};return this.connection.sendRequest(ie.RegistrationRequest.type,s).then(o=>ie.Disposable.create(()=>{this.unregisterSingle(n,r)}),o=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(o)))}unregisterSingle(e,i){let r={unregisterations:[{id:e,method:i}]};return this.connection.sendRequest(ie.UnregistrationRequest.type,r).then(void 0,n=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let i=e.asRegistrationParams();return this.connection.sendRequest(ie.RegistrationRequest.type,i).then(()=>new Au(this._connection,i.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},Ng=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function i(n){return n&&!!n.edit}let r=i(e)?e:{edit:e};return this.connection.sendRequest(ie.ApplyWorkspaceEditRequest.type,r)}},eI=qV.FileOperationsFeature(FV.WorkspaceFoldersFeature(DV.ConfigurationFeature(Ng))),Yf=class{constructor(){this._trace=ie.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,i){this._trace!==ie.Trace.Off&&this.connection.sendNotification(ie.LogTraceNotification.type,{message:e,verbose:this._trace===ie.Trace.Verbose?i:void 0})}},Kf=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(ie.TelemetryEventNotification.type,e)}},$f=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return Ve.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,i){return Ve.attachPartialResult(this.connection,i)}};rt._LanguagesImpl=$f;var tI=VV.MonikerFeature(BV.LinkedEditingRangeFeature(OV.SemanticTokensFeature(LV.CallHierarchyFeature($f))));function iI(t,e){return function(i){return e(t(i))}}rt.combineConsoleFeatures=iI;function rI(t,e){return function(i){return e(t(i))}}rt.combineTelemetryFeatures=rI;function nI(t,e){return function(i){return e(t(i))}}rt.combineTracerFeatures=nI;function sI(t,e){return function(i){return e(t(i))}}rt.combineClientFeatures=sI;function oI(t,e){return function(i){return e(t(i))}}rt.combineWindowFeatures=oI;function aI(t,e){return function(i){return e(t(i))}}rt.combineWorkspaceFeatures=aI;function GV(t,e){return function(i){return e(t(i))}}rt.combineLanguagesFeatures=GV;function HV(t,e){function i(n,s,o){return n&&s?o(n,s):n||s}return{__brand:"features",console:i(t.console,e.console,iI),tracer:i(t.tracer,e.tracer,nI),telemetry:i(t.telemetry,e.telemetry,rI),client:i(t.client,e.client,sI),window:i(t.window,e.window,oI),workspace:i(t.workspace,e.workspace,aI)}}rt.combineFeatures=HV;function WV(t,e,i){let r=i&&i.console?new(i.console(Gf)):new Gf,n=t(r);r.rawAttach(n);let s=i&&i.tracer?new(i.tracer(Yf)):new Yf,o=i&&i.telemetry?new(i.telemetry(Kf)):new Kf,a=i&&i.client?new(i.client(Wf)):new Wf,l=i&&i.window?new(i.window(Zb)):new Zb,u=i&&i.workspace?new(i.workspace(eI)):new eI,c=i&&i.languages?new(i.languages(tI)):new tI,f=[r,s,o,a,l,u,c];function d(_){return _ instanceof Promise?_:qr.thenable(_)?new Promise((g,y)=>{_.then(x=>g(x),x=>y(x))}):Promise.resolve(_)}let p,h,T,N={listen:()=>n.listen(),sendRequest:(_,...g)=>n.sendRequest(qr.string(_)?_:_.method,...g),onRequest:(_,g)=>n.onRequest(_,g),sendNotification:(_,g)=>{let y=qr.string(_)?_:_.method;arguments.length===1?n.sendNotification(y):n.sendNotification(y,g)},onNotification:(_,g)=>n.onNotification(_,g),onProgress:n.onProgress,sendProgress:n.sendProgress,onInitialize:_=>h=_,onInitialized:_=>n.onNotification(ie.InitializedNotification.type,_),onShutdown:_=>p=_,onExit:_=>T=_,get console(){return r},get telemetry(){return o},get tracer(){return s},get client(){return a},get window(){return l},get workspace(){return u},get languages(){return c},onDidChangeConfiguration:_=>n.onNotification(ie.DidChangeConfigurationNotification.type,_),onDidChangeWatchedFiles:_=>n.onNotification(ie.DidChangeWatchedFilesNotification.type,_),__textDocumentSync:void 0,onDidOpenTextDocument:_=>n.onNotification(ie.DidOpenTextDocumentNotification.type,_),onDidChangeTextDocument:_=>n.onNotification(ie.DidChangeTextDocumentNotification.type,_),onDidCloseTextDocument:_=>n.onNotification(ie.DidCloseTextDocumentNotification.type,_),onWillSaveTextDocument:_=>n.onNotification(ie.WillSaveTextDocumentNotification.type,_),onWillSaveTextDocumentWaitUntil:_=>n.onRequest(ie.WillSaveTextDocumentWaitUntilRequest.type,_),onDidSaveTextDocument:_=>n.onNotification(ie.DidSaveTextDocumentNotification.type,_),sendDiagnostics:_=>n.sendNotification(ie.PublishDiagnosticsNotification.type,_),onHover:_=>n.onRequest(ie.HoverRequest.type,(g,y)=>_(g,y,Ve.attachWorkDone(n,g),void 0)),onCompletion:_=>n.onRequest(ie.CompletionRequest.type,(g,y)=>_(g,y,Ve.attachWorkDone(n,g),Ve.attachPartialResult(n,g))),onCompletionResolve:_=>n.onRequest(ie.CompletionResolveRequest.type,_),onSignatureHelp:_=>n.onRequest(ie.SignatureHelpRequest.type,(g,y)=>_(g,y,Ve.attachWorkDone(n,g),void 0)),onDeclaration:_=>n.onRequest(ie.DeclarationRequest.type,(g,y)=>_(g,y,Ve.attachWorkDone(n,g),Ve.attachPartialResult(n,g))),onDefinition:_=>n.onRequest(ie.DefinitionRequest.type,(g,y)=>_(g,y,Ve.attachWorkDone(n,g),Ve.attachPartialResult(n,g))),onTypeDefinition:_=>n.onRequest(ie.TypeDefinitionRequest.type,(g,y)=>_(g,y,Ve.attachWorkDone(n,g),Ve.attachPartialResult(n,g))),onImplementation:_=>n.onRequest(ie.ImplementationRequest.type,(g,y)=>_(g,y,Ve.attachWorkDone(n,g),Ve.attachPartialResult(n,g))),onReferences:_=>n.onRequest(ie.ReferencesRequest.type,(g,y)=>_(g,y,Ve.attachWorkDone(n,g),Ve.attachPartialResult(n,g))),onDocumentHighlight:_=>n.onRequest(ie.DocumentHighlightRequest.type,(g,y)=>_(g,y,Ve.attachWorkDone(n,g),Ve.attachPartialResult(n,g))),onDocumentSymbol:_=>n.onRequest(ie.DocumentSymbolRequest.type,(g,y)=>_(g,y,Ve.attachWorkDone(n,g),Ve.attachPartialResult(n,g))),onWorkspaceSymbol:_=>n.onRequest(ie.WorkspaceSymbolRequest.type,(g,y)=>_(g,y,Ve.attachWorkDone(n,g),Ve.attachPartialResult(n,g))),onCodeAction:_=>n.onRequest(ie.CodeActionRequest.type,(g,y)=>_(g,y,Ve.attachWorkDone(n,g),Ve.attachPartialResult(n,g))),onCodeActionResolve:_=>n.onRequest(ie.CodeActionResolveRequest.type,(g,y)=>_(g,y)),onCodeLens:_=>n.onRequest(ie.CodeLensRequest.type,(g,y)=>_(g,y,Ve.attachWorkDone(n,g),Ve.attachPartialResult(n,g))),onCodeLensResolve:_=>n.onRequest(ie.CodeLensResolveRequest.type,(g,y)=>_(g,y)),onDocumentFormatting:_=>n.onRequest(ie.DocumentFormattingRequest.type,(g,y)=>_(g,y,Ve.attachWorkDone(n,g),void 0)),onDocumentRangeFormatting:_=>n.onRequest(ie.DocumentRangeFormattingRequest.type,(g,y)=>_(g,y,Ve.attachWorkDone(n,g),void 0)),onDocumentOnTypeFormatting:_=>n.onRequest(ie.DocumentOnTypeFormattingRequest.type,(g,y)=>_(g,y)),onRenameRequest:_=>n.onRequest(ie.RenameRequest.type,(g,y)=>_(g,y,Ve.attachWorkDone(n,g),void 0)),onPrepareRename:_=>n.onRequest(ie.PrepareRenameRequest.type,(g,y)=>_(g,y)),onDocumentLinks:_=>n.onRequest(ie.DocumentLinkRequest.type,(g,y)=>_(g,y,Ve.attachWorkDone(n,g),Ve.attachPartialResult(n,g))),onDocumentLinkResolve:_=>n.onRequest(ie.DocumentLinkResolveRequest.type,(g,y)=>_(g,y)),onDocumentColor:_=>n.onRequest(ie.DocumentColorRequest.type,(g,y)=>_(g,y,Ve.attachWorkDone(n,g),Ve.attachPartialResult(n,g))),onColorPresentation:_=>n.onRequest(ie.ColorPresentationRequest.type,(g,y)=>_(g,y,Ve.attachWorkDone(n,g),Ve.attachPartialResult(n,g))),onFoldingRanges:_=>n.onRequest(ie.FoldingRangeRequest.type,(g,y)=>_(g,y,Ve.attachWorkDone(n,g),Ve.attachPartialResult(n,g))),onSelectionRanges:_=>n.onRequest(ie.SelectionRangeRequest.type,(g,y)=>_(g,y,Ve.attachWorkDone(n,g),Ve.attachPartialResult(n,g))),onExecuteCommand:_=>n.onRequest(ie.ExecuteCommandRequest.type,(g,y)=>_(g,y,Ve.attachWorkDone(n,g),void 0)),dispose:()=>n.dispose()};for(let _ of f)_.attach(N);return n.onRequest(ie.InitializeRequest.type,_=>{e.initialize(_),qr.string(_.trace)&&(s.trace=ie.Trace.fromString(_.trace));for(let g of f)g.initialize(_.capabilities);if(h){let g=h(_,new ie.CancellationTokenSource().token,Ve.attachWorkDone(n,_),void 0);return d(g).then(y=>{if(y instanceof ie.ResponseError)return y;let x=y;x||(x={capabilities:{}});let L=x.capabilities;L||(L={},x.capabilities=L),L.textDocumentSync===void 0||L.textDocumentSync===null?L.textDocumentSync=qr.number(N.__textDocumentSync)?N.__textDocumentSync:ie.TextDocumentSyncKind.None:!qr.number(L.textDocumentSync)&&!qr.number(L.textDocumentSync.change)&&(L.textDocumentSync.change=qr.number(N.__textDocumentSync)?N.__textDocumentSync:ie.TextDocumentSyncKind.None);for(let E of f)E.fillServerCapabilities(L);return x})}else{let g={capabilities:{textDocumentSync:ie.TextDocumentSyncKind.None}};for(let y of f)y.fillServerCapabilities(g.capabilities);return g}}),n.onRequest(ie.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,p)return p(new ie.CancellationTokenSource().token)}),n.onNotification(ie.ExitNotification.type,()=>{try{T&&T()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),n.onNotification(ie.SetTraceNotification.type,_=>{s.trace=ie.Trace.fromString(_.value)}),N}rt.createConnection=WV});var uI=C(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.resolveModulePath=Wi.FileSystem=Wi.resolveGlobalYarnPath=Wi.resolveGlobalNodePath=Wi.resolve=Wi.uriToFilePath=void 0;var YV=require("url"),gn=require("path"),Pg=require("fs"),Cg=require("child_process");function KV(t){let e=YV.parse(t);if(e.protocol!=="file:"||!e.path)return;let i=e.path.split("/");for(var r=0,n=i.length;r<n;r++)i[r]=decodeURIComponent(i[r]);if(process.platform==="win32"&&i.length>1){let s=i[0],o=i[1];s.length===0&&o.length>1&&o[1]===":"&&i.shift()}return gn.normalize(i.join("/"))}Wi.uriToFilePath=KV;function Ag(){return process.platform==="win32"}function zf(t,e,i,r){let n="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((o,a)=>{let l=process.env,u=Object.create(null);Object.keys(l).forEach(c=>u[c]=l[c]),e&&Pg.existsSync(e)&&(u[n]?u[n]=e+gn.delimiter+u[n]:u[n]=e,r&&r(`NODE_PATH value is: ${u[n]}`)),u.ELECTRON_RUN_AS_NODE="1";try{let c=Cg.fork("",[],{cwd:i,env:u,execArgv:["-e",s]});if(c.pid===void 0){a(new Error(`Starting process to resolve node module  ${t} failed`));return}c.on("error",d=>{a(d)}),c.on("message",d=>{d.c==="r"&&(c.send({c:"e"}),d.s?o(d.r):a(new Error(`Failed to resolve module: ${t}`)))});let f={c:"rs",a:t};c.send(f)}catch(c){a(c)}})}Wi.resolve=zf;function Eg(t){let e="npm",i=Object.create(null);Object.keys(process.env).forEach(s=>i[s]=process.env[s]),i.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:i};Ag()&&(e="npm.cmd",r.shell=!0);let n=()=>{};try{process.on("SIGPIPE",n);let s=Cg.spawnSync(e,["config","get","prefix"],r).stdout;if(!s){t&&t("'npm config get prefix' didn't return a value.");return}let o=s.trim();return t&&t(`'npm config get prefix' value is: ${o}`),o.length>0?Ag()?gn.join(o,"node_modules"):gn.join(o,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",n)}}Wi.resolveGlobalNodePath=Eg;function $V(t){let e="yarn",i={encoding:"utf8"};Ag()&&(e="yarn.cmd",i.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let n=Cg.spawnSync(e,["global","dir","--json"],i),s=n.stdout;if(!s){t&&(t("'yarn global dir' didn't return a value."),n.stderr&&t(n.stderr));return}let o=s.trim().split(/\r?\n/);for(let a of o)try{let l=JSON.parse(a);if(l.type==="log")return gn.join(l.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}Wi.resolveGlobalYarnPath=$V;var lI;(function(t){let e;function i(){return e!==void 0||(process.platform==="win32"?e=!1:e=!Pg.existsSync(__filename.toUpperCase())||!Pg.existsSync(__filename.toLowerCase())),e}t.isCaseSensitive=i;function r(n,s){return i()?gn.normalize(s).indexOf(gn.normalize(n))===0:gn.normalize(s).toLowerCase().indexOf(gn.normalize(n).toLowerCase())===0}t.isParent=r})(lI=Wi.FileSystem||(Wi.FileSystem={}));function zV(t,e,i,r){return i?(gn.isAbsolute(i)||(i=gn.join(t,i)),zf(e,i,i,r).then(n=>lI.isParent(i,n)?n:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,n=>zf(e,Eg(r),t,r))):zf(e,Eg(r),t,r)}Wi.resolveModulePath=zV});var Rg=C((L8,cI)=>{"use strict";cI.exports=xi()});var dI=C(mr=>{"use strict";var QV=mr&&mr.__createBinding||(Object.create?function(t,e,i,r){r===void 0&&(r=i),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,r){r===void 0&&(r=i),t[r]=e[i]}),fI=mr&&mr.__exportStar||function(t,e){for(var i in t)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&QV(e,t,i)};Object.defineProperty(mr,"__esModule",{value:!0});mr.ProposedFeatures=mr.SemanticTokensBuilder=void 0;var XV=_g();Object.defineProperty(mr,"SemanticTokensBuilder",{enumerable:!0,get:function(){return XV.SemanticTokensBuilder}});fI(xi(),mr);fI(Sg(),mr);var JV;(function(t){t.all={__brand:"features"}})(JV=mr.ProposedFeatures||(mr.ProposedFeatures={}))});var oi=C(gr=>{"use strict";var ZV=gr&&gr.__createBinding||(Object.create?function(t,e,i,r){r===void 0&&(r=i),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,r){r===void 0&&(r=i),t[r]=e[i]}),hI=gr&&gr.__exportStar||function(t,e){for(var i in t)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&ZV(e,t,i)};Object.defineProperty(gr,"__esModule",{value:!0});gr.createConnection=gr.Files=void 0;var xg=_f(),eU=Sg(),Eu=uI(),Bo=Rg();hI(Rg(),gr);hI(dI(),gr);var tU;(function(t){t.uriToFilePath=Eu.uriToFilePath,t.resolveGlobalNodePath=Eu.resolveGlobalNodePath,t.resolveGlobalYarnPath=Eu.resolveGlobalYarnPath,t.resolve=Eu.resolve,t.resolveModulePath=Eu.resolveModulePath})(tU=gr.Files||(gr.Files={}));var pI;function Qf(){if(pI!==void 0)try{pI.end()}catch{}}var Ua=!1,mI;function iU(){let t="--clientProcessId";function e(i){try{let r=parseInt(i);isNaN(r)||(mI=setInterval(()=>{try{process.kill(r,0)}catch{Qf(),process.exit(Ua?0:1)}},3e3))}catch{}}for(let i=2;i<process.argv.length;i++){let r=process.argv[i];if(r===t&&i+1<process.argv.length){e(process.argv[i+1]);return}else{let n=r.split("=");n[0]===t&&e(n[1])}}}iU();var rU={initialize:t=>{let e=t.processId;xg.number(e)&&mI===void 0&&setInterval(()=>{try{process.kill(e,0)}catch{process.exit(Ua?0:1)}},3e3)},get shutdownReceived(){return Ua},set shutdownReceived(t){Ua=t},exit:t=>{Qf(),process.exit(t)}};function nU(t,e,i,r){let n,s,o,a;return t!==void 0&&t.__brand==="features"&&(n=t,t=e,e=i,i=r),Bo.ConnectionStrategy.is(t)||Bo.ConnectionOptions.is(t)?a=t:(s=t,o=e,a=i),sU(s,o,a,n)}gr.createConnection=nU;function sU(t,e,i,r){if(!t&&!e&&process.argv.length>2){let a,l,u=process.argv.slice(2);for(let c=0;c<u.length;c++){let f=u[c];if(f==="--node-ipc"){t=new Bo.IPCMessageReader(process),e=new Bo.IPCMessageWriter(process);break}else if(f==="--stdio"){t=process.stdin,e=process.stdout;break}else if(f==="--socket"){a=parseInt(u[c+1]);break}else if(f==="--pipe"){l=u[c+1];break}else{var n=f.split("=");if(n[0]==="--socket"){a=parseInt(n[1]);break}else if(n[0]==="--pipe"){l=n[1];break}}}if(a){let c=Bo.createServerSocketTransport(a);t=c[0],e=c[1]}else if(l){let c=Bo.createServerPipeTransport(l);t=c[0],e=c[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+s);if(!e)throw new Error("Connection output stream is not set. "+s);if(xg.func(t.read)&&xg.func(t.on)){let a=t;a.on("end",()=>{Qf(),process.exit(Ua?0:1)}),a.on("close",()=>{Qf(),process.exit(Ua?0:1)})}let o=a=>Bo.createProtocolConnection(t,e,a,i);return eU.createConnection(o,rU,r)}});var _I=C((q8,gI)=>{"use strict";gI.exports=oi()});var ed=C(Dg=>{"use strict";Object.defineProperty(Dg,"__esModule",{value:!0});var UI=function(){function t(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return t.hashStr=function(e,i){return i===void 0&&(i=!1),this.onePassHasher.start().appendStr(e).end(i)},t.hashAsciiStr=function(e,i){return i===void 0&&(i=!1),this.onePassHasher.start().appendAsciiStr(e).end(i)},t._hex=function(e){var i=t.hexChars,r=t.hexOut,n,s,o,a;for(a=0;a<4;a+=1)for(s=a*8,n=e[a],o=0;o<8;o+=2)r[s+1+o]=i.charAt(n&15),n>>>=4,r[s+0+o]=i.charAt(n&15),n>>>=4;return r.join("")},t._md5cycle=function(e,i){var r=e[0],n=e[1],s=e[2],o=e[3];r+=(n&s|~n&o)+i[0]-680876936|0,r=(r<<7|r>>>25)+n|0,o+=(r&n|~r&s)+i[1]-389564586|0,o=(o<<12|o>>>20)+r|0,s+=(o&r|~o&n)+i[2]+606105819|0,s=(s<<17|s>>>15)+o|0,n+=(s&o|~s&r)+i[3]-1044525330|0,n=(n<<22|n>>>10)+s|0,r+=(n&s|~n&o)+i[4]-176418897|0,r=(r<<7|r>>>25)+n|0,o+=(r&n|~r&s)+i[5]+1200080426|0,o=(o<<12|o>>>20)+r|0,s+=(o&r|~o&n)+i[6]-1473231341|0,s=(s<<17|s>>>15)+o|0,n+=(s&o|~s&r)+i[7]-45705983|0,n=(n<<22|n>>>10)+s|0,r+=(n&s|~n&o)+i[8]+1770035416|0,r=(r<<7|r>>>25)+n|0,o+=(r&n|~r&s)+i[9]-1958414417|0,o=(o<<12|o>>>20)+r|0,s+=(o&r|~o&n)+i[10]-42063|0,s=(s<<17|s>>>15)+o|0,n+=(s&o|~s&r)+i[11]-1990404162|0,n=(n<<22|n>>>10)+s|0,r+=(n&s|~n&o)+i[12]+1804603682|0,r=(r<<7|r>>>25)+n|0,o+=(r&n|~r&s)+i[13]-40341101|0,o=(o<<12|o>>>20)+r|0,s+=(o&r|~o&n)+i[14]-1502002290|0,s=(s<<17|s>>>15)+o|0,n+=(s&o|~s&r)+i[15]+1236535329|0,n=(n<<22|n>>>10)+s|0,r+=(n&o|s&~o)+i[1]-165796510|0,r=(r<<5|r>>>27)+n|0,o+=(r&s|n&~s)+i[6]-1069501632|0,o=(o<<9|o>>>23)+r|0,s+=(o&n|r&~n)+i[11]+643717713|0,s=(s<<14|s>>>18)+o|0,n+=(s&r|o&~r)+i[0]-373897302|0,n=(n<<20|n>>>12)+s|0,r+=(n&o|s&~o)+i[5]-701558691|0,r=(r<<5|r>>>27)+n|0,o+=(r&s|n&~s)+i[10]+38016083|0,o=(o<<9|o>>>23)+r|0,s+=(o&n|r&~n)+i[15]-660478335|0,s=(s<<14|s>>>18)+o|0,n+=(s&r|o&~r)+i[4]-405537848|0,n=(n<<20|n>>>12)+s|0,r+=(n&o|s&~o)+i[9]+568446438|0,r=(r<<5|r>>>27)+n|0,o+=(r&s|n&~s)+i[14]-1019803690|0,o=(o<<9|o>>>23)+r|0,s+=(o&n|r&~n)+i[3]-187363961|0,s=(s<<14|s>>>18)+o|0,n+=(s&r|o&~r)+i[8]+1163531501|0,n=(n<<20|n>>>12)+s|0,r+=(n&o|s&~o)+i[13]-1444681467|0,r=(r<<5|r>>>27)+n|0,o+=(r&s|n&~s)+i[2]-51403784|0,o=(o<<9|o>>>23)+r|0,s+=(o&n|r&~n)+i[7]+1735328473|0,s=(s<<14|s>>>18)+o|0,n+=(s&r|o&~r)+i[12]-1926607734|0,n=(n<<20|n>>>12)+s|0,r+=(n^s^o)+i[5]-378558|0,r=(r<<4|r>>>28)+n|0,o+=(r^n^s)+i[8]-2022574463|0,o=(o<<11|o>>>21)+r|0,s+=(o^r^n)+i[11]+1839030562|0,s=(s<<16|s>>>16)+o|0,n+=(s^o^r)+i[14]-35309556|0,n=(n<<23|n>>>9)+s|0,r+=(n^s^o)+i[1]-1530992060|0,r=(r<<4|r>>>28)+n|0,o+=(r^n^s)+i[4]+1272893353|0,o=(o<<11|o>>>21)+r|0,s+=(o^r^n)+i[7]-155497632|0,s=(s<<16|s>>>16)+o|0,n+=(s^o^r)+i[10]-1094730640|0,n=(n<<23|n>>>9)+s|0,r+=(n^s^o)+i[13]+681279174|0,r=(r<<4|r>>>28)+n|0,o+=(r^n^s)+i[0]-358537222|0,o=(o<<11|o>>>21)+r|0,s+=(o^r^n)+i[3]-722521979|0,s=(s<<16|s>>>16)+o|0,n+=(s^o^r)+i[6]+76029189|0,n=(n<<23|n>>>9)+s|0,r+=(n^s^o)+i[9]-640364487|0,r=(r<<4|r>>>28)+n|0,o+=(r^n^s)+i[12]-421815835|0,o=(o<<11|o>>>21)+r|0,s+=(o^r^n)+i[15]+530742520|0,s=(s<<16|s>>>16)+o|0,n+=(s^o^r)+i[2]-995338651|0,n=(n<<23|n>>>9)+s|0,r+=(s^(n|~o))+i[0]-198630844|0,r=(r<<6|r>>>26)+n|0,o+=(n^(r|~s))+i[7]+1126891415|0,o=(o<<10|o>>>22)+r|0,s+=(r^(o|~n))+i[14]-1416354905|0,s=(s<<15|s>>>17)+o|0,n+=(o^(s|~r))+i[5]-57434055|0,n=(n<<21|n>>>11)+s|0,r+=(s^(n|~o))+i[12]+1700485571|0,r=(r<<6|r>>>26)+n|0,o+=(n^(r|~s))+i[3]-1894986606|0,o=(o<<10|o>>>22)+r|0,s+=(r^(o|~n))+i[10]-1051523|0,s=(s<<15|s>>>17)+o|0,n+=(o^(s|~r))+i[1]-2054922799|0,n=(n<<21|n>>>11)+s|0,r+=(s^(n|~o))+i[8]+1873313359|0,r=(r<<6|r>>>26)+n|0,o+=(n^(r|~s))+i[15]-30611744|0,o=(o<<10|o>>>22)+r|0,s+=(r^(o|~n))+i[6]-1560198380|0,s=(s<<15|s>>>17)+o|0,n+=(o^(s|~r))+i[13]+1309151649|0,n=(n<<21|n>>>11)+s|0,r+=(s^(n|~o))+i[4]-145523070|0,r=(r<<6|r>>>26)+n|0,o+=(n^(r|~s))+i[11]-1120210379|0,o=(o<<10|o>>>22)+r|0,s+=(r^(o|~n))+i[2]+718787259|0,s=(s<<15|s>>>17)+o|0,n+=(o^(s|~r))+i[9]-343485551|0,n=(n<<21|n>>>11)+s|0,e[0]=r+e[0]|0,e[1]=n+e[1]|0,e[2]=s+e[2]|0,e[3]=o+e[3]|0},t.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this},t.prototype.appendStr=function(e){var i=this._buffer8,r=this._buffer32,n=this._bufferLength,s,o;for(o=0;o<e.length;o+=1){if(s=e.charCodeAt(o),s<128)i[n++]=s;else if(s<2048)i[n++]=(s>>>6)+192,i[n++]=s&63|128;else if(s<55296||s>56319)i[n++]=(s>>>12)+224,i[n++]=s>>>6&63|128,i[n++]=s&63|128;else{if(s=(s-55296)*1024+(e.charCodeAt(++o)-56320)+65536,s>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");i[n++]=(s>>>18)+240,i[n++]=s>>>12&63|128,i[n++]=s>>>6&63|128,i[n++]=s&63|128}n>=64&&(this._dataLength+=64,t._md5cycle(this._state,r),n-=64,r[0]=r[16])}return this._bufferLength=n,this},t.prototype.appendAsciiStr=function(e){for(var i=this._buffer8,r=this._buffer32,n=this._bufferLength,s,o=0;;){for(s=Math.min(e.length-o,64-n);s--;)i[n++]=e.charCodeAt(o++);if(n<64)break;this._dataLength+=64,t._md5cycle(this._state,r),n=0}return this._bufferLength=n,this},t.prototype.appendByteArray=function(e){for(var i=this._buffer8,r=this._buffer32,n=this._bufferLength,s,o=0;;){for(s=Math.min(e.length-o,64-n);s--;)i[n++]=e[o++];if(n<64)break;this._dataLength+=64,t._md5cycle(this._state,r),n=0}return this._bufferLength=n,this},t.prototype.getState=function(){var e=this,i=e._state;return{buffer:String.fromCharCode.apply(null,e._buffer8),buflen:e._bufferLength,length:e._dataLength,state:[i[0],i[1],i[2],i[3]]}},t.prototype.setState=function(e){var i=e.buffer,r=e.state,n=this._state,s;for(this._dataLength=e.length,this._bufferLength=e.buflen,n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],s=0;s<i.length;s+=1)this._buffer8[s]=i.charCodeAt(s)},t.prototype.end=function(e){e===void 0&&(e=!1);var i=this._bufferLength,r=this._buffer8,n=this._buffer32,s=(i>>2)+1,o;if(this._dataLength+=i,r[i]=128,r[i+1]=r[i+2]=r[i+3]=0,n.set(t.buffer32Identity.subarray(s),s),i>55&&(t._md5cycle(this._state,n),n.set(t.buffer32Identity)),o=this._dataLength*8,o<=4294967295)n[14]=o;else{var a=o.toString(16).match(/(.*?)(.{0,8})$/);if(a===null)return;var l=parseInt(a[2],16),u=parseInt(a[1],16)||0;n[14]=l,n[15]=u}return t._md5cycle(this._state,n),e?this._state:t._hex(this._state)},t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,t}();Dg.Md5=UI;UI.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592"&&console.error("Md5 self test failed.")});var no=C(cr=>{"use strict";var hs={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},Bu={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"},Z2="tag:yaml.org,2002:",eG={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};function MS(t){let e=[0],i=t.indexOf(`
`);for(;i!==-1;)i+=1,e.push(i),i=t.indexOf(`
`,i);return e}function qS(t){let e,i;return typeof t=="string"?(e=MS(t),i=t):(Array.isArray(t)&&(t=t[0]),t&&t.context&&(t.lineStarts||(t.lineStarts=MS(t.context.src)),e=t.lineStarts,i=t.context.src)),{lineStarts:e,src:i}}function S_(t,e){if(typeof t!="number"||t<0)return null;let{lineStarts:i,src:r}=qS(e);if(!i||!r||t>r.length)return null;for(let s=0;s<i.length;++s){let o=i[s];if(t<o)return{line:s,col:t-i[s-1]+1};if(t===o)return{line:s+1,col:1}}let n=i.length;return{line:n,col:t-i[n-1]+1}}function tG(t,e){let{lineStarts:i,src:r}=qS(e);if(!i||!(t>=1)||t>i.length)return null;let n=i[t-1],s=i[t];for(;s&&s>n&&r[s-1]===`
`;)--s;return r.slice(n,s)}function iG({start:t,end:e},i,r=80){let n=tG(t.line,i);if(!n)return null;let{col:s}=t;if(n.length>r)if(s<=r-10)n=n.substr(0,r-1)+"\u2026";else{let c=Math.round(r/2);n.length>s+c&&(n=n.substr(0,s+c-1)+"\u2026"),s-=n.length-r,n="\u2026"+n.substr(1-r)}let o=1,a="";e&&(e.line===t.line&&s+(e.col-t.col)<=r+1?o=e.col-t.col:(o=Math.min(n.length+1,r)-s,a="\u2026"));let l=s>1?" ".repeat(s-1):"",u="^".repeat(o);return`${n}
${l}${u}${a}`}var ro=class{static copy(e){return new ro(e.start,e.end)}constructor(e,i){this.start=e,this.end=i||e}isEmpty(){return typeof this.start!="number"||!this.end||this.end<=this.start}setOrigRange(e,i){let{start:r,end:n}=this;if(e.length===0||n<=e[0])return this.origStart=r,this.origEnd=n,i;let s=i;for(;s<e.length&&!(e[s]>r);)++s;this.origStart=r+s;let o=s;for(;s<e.length&&!(e[s]>=n);)++s;return this.origEnd=n+s,o}},Ti=class{static addStringTerminator(e,i,r){if(r[r.length-1]===`
`)return r;let n=Ti.endOfWhiteSpace(e,i);return n>=e.length||e[n]===`
`?r+`
`:r}static atDocumentBoundary(e,i,r){let n=e[i];if(!n)return!0;let s=e[i-1];if(s&&s!==`
`)return!1;if(r){if(n!==r)return!1}else if(n!==hs.DIRECTIVES_END&&n!==hs.DOCUMENT_END)return!1;let o=e[i+1],a=e[i+2];if(o!==n||a!==n)return!1;let l=e[i+3];return!l||l===`
`||l==="	"||l===" "}static endOfIdentifier(e,i){let r=e[i],n=r==="<",s=n?[`
`,"	"," ",">"]:[`
`,"	"," ","[","]","{","}",","];for(;r&&s.indexOf(r)===-1;)r=e[i+=1];return n&&r===">"&&(i+=1),i}static endOfIndent(e,i){let r=e[i];for(;r===" ";)r=e[i+=1];return i}static endOfLine(e,i){let r=e[i];for(;r&&r!==`
`;)r=e[i+=1];return i}static endOfWhiteSpace(e,i){let r=e[i];for(;r==="	"||r===" ";)r=e[i+=1];return i}static startOfLine(e,i){let r=e[i-1];if(r===`
`)return i;for(;r&&r!==`
`;)r=e[i-=1];return i+1}static endOfBlockIndent(e,i,r){let n=Ti.endOfIndent(e,r);if(n>r+i)return n;{let s=Ti.endOfWhiteSpace(e,n),o=e[s];if(!o||o===`
`)return s}return null}static atBlank(e,i,r){let n=e[i];return n===`
`||n==="	"||n===" "||r&&!n}static nextNodeIsIndented(e,i,r){return!e||i<0?!1:i>0?!0:r&&e==="-"}static normalizeOffset(e,i){let r=e[i];return r?r!==`
`&&e[i-1]===`
`?i-1:Ti.endOfWhiteSpace(e,i):i}static foldNewline(e,i,r){let n=0,s=!1,o="",a=e[i+1];for(;a===" "||a==="	"||a===`
`;){switch(a){case`
`:n=0,i+=1,o+=`
`;break;case"	":n<=r&&(s=!0),i=Ti.endOfWhiteSpace(e,i+2)-1;break;case" ":n+=1,i+=1;break}a=e[i+1]}return o||(o=" "),a&&n<=r&&(s=!0),{fold:o,offset:i,error:s}}constructor(e,i,r){Object.defineProperty(this,"context",{value:r||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=i||[],this.type=e,this.value=null}getPropValue(e,i,r){if(!this.context)return null;let{src:n}=this.context,s=this.props[e];return s&&n[s.start]===i?n.slice(s.start+(r?1:0),s.end):null}get anchor(){for(let e=0;e<this.props.length;++e){let i=this.getPropValue(e,hs.ANCHOR,!0);if(i!=null)return i}return null}get comment(){let e=[];for(let i=0;i<this.props.length;++i){let r=this.getPropValue(i,hs.COMMENT,!0);r!=null&&e.push(r)}return e.length>0?e.join(`
`):null}commentHasRequiredWhitespace(e){let{src:i}=this.context;if(this.header&&e===this.header.end||!this.valueRange)return!1;let{end:r}=this.valueRange;return e!==r||Ti.atBlank(i,r-1)}get hasComment(){if(this.context){let{src:e}=this.context;for(let i=0;i<this.props.length;++i)if(e[this.props[i].start]===hs.COMMENT)return!0}return!1}get hasProps(){if(this.context){let{src:e}=this.context;for(let i=0;i<this.props.length;++i)if(e[this.props[i].start]!==hs.COMMENT)return!0}return!1}get includesTrailingLines(){return!1}get jsonLike(){return[Bu.FLOW_MAP,Bu.FLOW_SEQ,Bu.QUOTE_DOUBLE,Bu.QUOTE_SINGLE].indexOf(this.type)!==-1}get rangeAsLinePos(){if(!this.range||!this.context)return;let e=S_(this.range.start,this.context.root);if(!e)return;let i=S_(this.range.end,this.context.root);return{start:e,end:i}}get rawValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:i}=this.valueRange;return this.context.src.slice(e,i)}get tag(){for(let e=0;e<this.props.length;++e){let i=this.getPropValue(e,hs.TAG,!1);if(i!=null){if(i[1]==="<")return{verbatim:i.slice(2,-1)};{let[r,n,s]=i.match(/^(.*!)([^!]*)$/);return{handle:n,suffix:s}}}}return null}get valueRangeContainsNewline(){if(!this.valueRange||!this.context)return!1;let{start:e,end:i}=this.valueRange,{src:r}=this.context;for(let n=e;n<i;++n)if(r[n]===`
`)return!0;return!1}parseComment(e){let{src:i}=this.context;if(i[e]===hs.COMMENT){let r=Ti.endOfLine(i,e+1),n=new ro(e,r);return this.props.push(n),r}return e}setOrigRanges(e,i){return this.range&&(i=this.range.setOrigRange(e,i)),this.valueRange&&this.valueRange.setOrigRange(e,i),this.props.forEach(r=>r.setOrigRange(e,i)),i}toString(){let{context:{src:e},range:i,value:r}=this;if(r!=null)return r;let n=e.slice(i.start,i.end);return Ti.addStringTerminator(e,i.end,n)}},ta=class extends Error{constructor(e,i,r){if(!r||!(i instanceof Ti))throw new Error(`Invalid arguments for new ${e}`);super(),this.name=e,this.message=r,this.source=i}makePretty(){if(!this.source)return;this.nodeType=this.source.type;let e=this.source.context&&this.source.context.root;if(typeof this.offset=="number"){this.range=new ro(this.offset,this.offset+1);let i=e&&S_(this.offset,e);if(i){let r={line:i.line,col:i.col+1};this.linePos={start:i,end:r}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){let{line:i,col:r}=this.linePos.start;this.message+=` at line ${i}, column ${r}`;let n=e&&iG(this.linePos,e);n&&(this.message+=`:

${n}
`)}delete this.source}},P_=class extends ta{constructor(e,i){super("YAMLReferenceError",e,i)}},Vu=class extends ta{constructor(e,i){super("YAMLSemanticError",e,i)}},A_=class extends ta{constructor(e,i){super("YAMLSyntaxError",e,i)}},E_=class extends ta{constructor(e,i){super("YAMLWarning",e,i)}};function rG(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var kl=class extends Ti{static endOfLine(e,i,r){let n=e[i],s=i;for(;n&&n!==`
`&&!(r&&(n==="["||n==="]"||n==="{"||n==="}"||n===","));){let o=e[s+1];if(n===":"&&(!o||o===`
`||o==="	"||o===" "||r&&o===",")||(n===" "||n==="	")&&o==="#")break;s+=1,n=o}return s}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:i}=this.valueRange,{src:r}=this.context,n=r[i-1];for(;e<i&&(n===`
`||n==="	"||n===" ");)n=r[--i-1];let s="";for(let a=e;a<i;++a){let l=r[a];if(l===`
`){let{fold:u,offset:c}=Ti.foldNewline(r,a,-1);s+=u,a=c}else if(l===" "||l==="	"){let u=a,c=r[a+1];for(;a<i&&(c===" "||c==="	");)a+=1,c=r[a+1];c!==`
`&&(s+=a>u?r.slice(u,a+1):l)}else s+=l}let o=r[e];switch(o){case"	":{let a="Plain value cannot start with a tab character";return{errors:[new Vu(this,a)],str:s}}case"@":case"`":{let a=`Plain value cannot start with reserved character ${o}`;return{errors:[new Vu(this,a)],str:s}}default:return s}}parseBlockValue(e){let{indent:i,inFlow:r,src:n}=this.context,s=e,o=e;for(let a=n[s];a===`
`&&!Ti.atDocumentBoundary(n,s+1);a=n[s]){let l=Ti.endOfBlockIndent(n,i,s+1);if(l===null||n[l]==="#")break;n[l]===`
`?s=l:(o=kl.endOfLine(n,l,r),s=o)}return this.valueRange.isEmpty()&&(this.valueRange.start=e),this.valueRange.end=o,o}parse(e,i){this.context=e;let{inFlow:r,src:n}=e,s=i,o=n[s];return o&&o!=="#"&&o!==`
`&&(s=kl.endOfLine(n,i,r)),this.valueRange=new ro(i,s),s=Ti.endOfWhiteSpace(n,s),s=this.parseComment(s),(!this.hasComment||this.valueRange.isEmpty())&&(s=this.parseBlockValue(s)),s}};cr.Char=hs;cr.Node=Ti;cr.PlainValue=kl;cr.Range=ro;cr.Type=Bu;cr.YAMLError=ta;cr.YAMLReferenceError=P_;cr.YAMLSemanticError=Vu;cr.YAMLSyntaxError=A_;cr.YAMLWarning=E_;cr._defineProperty=rG;cr.defaultTagPrefix=Z2;cr.defaultTags=eG});var VS=C(BS=>{"use strict";var B=no(),na=class extends B.Node{constructor(){super(B.Type.BLANK_LINE)}get includesTrailingLines(){return!0}parse(e,i){return this.context=e,this.range=new B.Range(i,i+1),i+1}},Uu=class extends B.Node{constructor(e,i){super(e,i),this.node=null}get includesTrailingLines(){return!!this.node&&this.node.includesTrailingLines}parse(e,i){this.context=e;let{parseNode:r,src:n}=e,{atLineStart:s,lineStart:o}=e;!s&&this.type===B.Type.SEQ_ITEM&&(this.error=new B.YAMLSemanticError(this,"Sequence items must not have preceding content on the same line"));let a=s?i-o:e.indent,l=B.Node.endOfWhiteSpace(n,i+1),u=n[l],c=u==="#",f=[],d=null;for(;u===`
`||u==="#";){if(u==="#"){let h=B.Node.endOfLine(n,l+1);f.push(new B.Range(l,h)),l=h}else{s=!0,o=l+1;let h=B.Node.endOfWhiteSpace(n,o);n[h]===`
`&&f.length===0&&(d=new na,o=d.parse({src:n},o)),l=B.Node.endOfIndent(n,o)}u=n[l]}if(B.Node.nextNodeIsIndented(u,l-(o+a),this.type!==B.Type.SEQ_ITEM)?this.node=r({atLineStart:s,inCollection:!1,indent:a,lineStart:o,parent:this},l):u&&o>i+1&&(l=o-1),this.node){if(d){let h=e.parent.items||e.parent.contents;h&&h.push(d)}f.length&&Array.prototype.push.apply(this.props,f),l=this.node.range.end}else if(c){let h=f[0];this.props.push(h),l=h.end}else l=B.Node.endOfLine(n,i+1);let p=this.node?this.node.valueRange.end:l;return this.valueRange=new B.Range(i,p),l}setOrigRanges(e,i){return i=super.setOrigRanges(e,i),this.node?this.node.setOrigRanges(e,i):i}toString(){let{context:{src:e},node:i,range:r,value:n}=this;if(n!=null)return n;let s=i?e.slice(r.start,i.range.start)+String(i):e.slice(r.start,r.end);return B.Node.addStringTerminator(e,r.end,s)}},ia=class extends B.Node{constructor(){super(B.Type.COMMENT)}parse(e,i){this.context=e;let r=this.parseComment(i);return this.range=new B.Range(i,r),r}};function C_(t){let e=t;for(;e instanceof Uu;)e=e.node;if(!(e instanceof sa))return null;let i=e.items.length,r=-1;for(let o=i-1;o>=0;--o){let a=e.items[o];if(a.type===B.Type.COMMENT){let{indent:l,lineStart:u}=a.context;if(l>0&&a.range.start>=u+l)break;r=o}else if(a.type===B.Type.BLANK_LINE)r=o;else break}if(r===-1)return null;let n=e.items.splice(r,i-r),s=n[0].range.start;for(;e.range.end=s,e.valueRange&&e.valueRange.end>s&&(e.valueRange.end=s),e!==t;)e=e.context.parent;return n}var sa=class extends B.Node{static nextContentHasIndent(e,i,r){let n=B.Node.endOfLine(e,i)+1;i=B.Node.endOfWhiteSpace(e,n);let s=e[i];return s?i>=n+r?!0:s!=="#"&&s!==`
`?!1:sa.nextContentHasIndent(e,i,r):!1}constructor(e){super(e.type===B.Type.SEQ_ITEM?B.Type.SEQ:B.Type.MAP);for(let r=e.props.length-1;r>=0;--r)if(e.props[r].start<e.context.lineStart){this.props=e.props.slice(0,r+1),e.props=e.props.slice(r+1);let n=e.props[0]||e.valueRange;e.range.start=n.start;break}this.items=[e];let i=C_(e);i&&Array.prototype.push.apply(this.items,i)}get includesTrailingLines(){return this.items.length>0}parse(e,i){this.context=e;let{parseNode:r,src:n}=e,s=B.Node.startOfLine(n,i),o=this.items[0];o.context.parent=this,this.valueRange=B.Range.copy(o.valueRange);let a=o.range.start-o.context.lineStart,l=i;l=B.Node.normalizeOffset(n,l);let u=n[l],c=B.Node.endOfWhiteSpace(n,s)===l,f=!1;for(;u;){for(;u===`
`||u==="#";){if(c&&u===`
`&&!f){let h=new na;if(l=h.parse({src:n},l),this.valueRange.end=l,l>=n.length){u=null;break}this.items.push(h),l-=1}else if(u==="#"){if(l<s+a&&!sa.nextContentHasIndent(n,l,a))return l;let h=new ia;if(l=h.parse({indent:a,lineStart:s,src:n},l),this.items.push(h),this.valueRange.end=l,l>=n.length){u=null;break}}if(s=l+1,l=B.Node.endOfIndent(n,s),B.Node.atBlank(n,l)){let h=B.Node.endOfWhiteSpace(n,l),T=n[h];(!T||T===`
`||T==="#")&&(l=h)}u=n[l],c=!0}if(!u)break;if(l!==s+a&&(c||u!==":")){if(l<s+a){s>i&&(l=s);break}else if(!this.error){let h="All collection items must start at the same column";this.error=new B.YAMLSyntaxError(this,h)}}if(o.type===B.Type.SEQ_ITEM){if(u!=="-"){s>i&&(l=s);break}}else if(u==="-"&&!this.error){let h=n[l+1];if(!h||h===`
`||h==="	"||h===" "){let T="A collection cannot be both a mapping and a sequence";this.error=new B.YAMLSyntaxError(this,T)}}let d=r({atLineStart:c,inCollection:!0,indent:a,lineStart:s,parent:this},l);if(!d)return l;if(this.items.push(d),this.valueRange.end=d.valueRange.end,l=B.Node.normalizeOffset(n,d.range.end),u=n[l],c=!1,f=d.includesTrailingLines,u){let h=l-1,T=n[h];for(;T===" "||T==="	";)T=n[--h];T===`
`&&(s=h+1,c=!0)}let p=C_(d);p&&Array.prototype.push.apply(this.items,p)}return l}setOrigRanges(e,i){return i=super.setOrigRanges(e,i),this.items.forEach(r=>{i=r.setOrigRanges(e,i)}),i}toString(){let{context:{src:e},items:i,range:r,value:n}=this;if(n!=null)return n;let s=e.slice(r.start,i[0].range.start)+String(i[0]);for(let o=1;o<i.length;++o){let a=i[o],{atLineStart:l,indent:u}=a.context;if(l)for(let c=0;c<u;++c)s+=" ";s+=String(a)}return B.Node.addStringTerminator(e,r.end,s)}},R_=class extends B.Node{constructor(){super(B.Type.DIRECTIVE),this.name=null}get parameters(){let e=this.rawValue;return e?e.trim().split(/[ \t]+/):[]}parseName(e){let{src:i}=this.context,r=e,n=i[r];for(;n&&n!==`
`&&n!=="	"&&n!==" ";)n=i[r+=1];return this.name=i.slice(e,r),r}parseParameters(e){let{src:i}=this.context,r=e,n=i[r];for(;n&&n!==`
`&&n!=="#";)n=i[r+=1];return this.valueRange=new B.Range(e,r),r}parse(e,i){this.context=e;let r=this.parseName(i+1);return r=this.parseParameters(r),r=this.parseComment(r),this.range=new B.Range(i,r),r}},Dl=class extends B.Node{static startCommentOrEndBlankLine(e,i){let r=B.Node.endOfWhiteSpace(e,i),n=e[r];return n==="#"||n===`
`?r:i}constructor(){super(B.Type.DOCUMENT),this.directives=null,this.contents=null,this.directivesEndMarker=null,this.documentEndMarker=null}parseDirectives(e){let{src:i}=this.context;this.directives=[];let r=!0,n=!1,s=e;for(;!B.Node.atDocumentBoundary(i,s,B.Char.DIRECTIVES_END);)switch(s=Dl.startCommentOrEndBlankLine(i,s),i[s]){case`
`:if(r){let o=new na;s=o.parse({src:i},s),s<i.length&&this.directives.push(o)}else s+=1,r=!0;break;case"#":{let o=new ia;s=o.parse({src:i},s),this.directives.push(o),r=!1}break;case"%":{let o=new R_;s=o.parse({parent:this,src:i},s),this.directives.push(o),n=!0,r=!1}break;default:return n?this.error=new B.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s}return i[s]?(this.directivesEndMarker=new B.Range(s,s+3),s+3):(n?this.error=new B.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s)}parseContents(e){let{parseNode:i,src:r}=this.context;this.contents||(this.contents=[]);let n=e;for(;r[n-1]==="-";)n-=1;let s=B.Node.endOfWhiteSpace(r,e),o=n===e;for(this.valueRange=new B.Range(s);!B.Node.atDocumentBoundary(r,s,B.Char.DOCUMENT_END);){switch(r[s]){case`
`:if(o){let a=new na;s=a.parse({src:r},s),s<r.length&&this.contents.push(a)}else s+=1,o=!0;n=s;break;case"#":{let a=new ia;s=a.parse({src:r},s),this.contents.push(a),o=!1}break;default:{let a=B.Node.endOfIndent(r,s),u=i({atLineStart:o,indent:-1,inFlow:!1,inCollection:!1,lineStart:n,parent:this},a);if(!u)return this.valueRange.end=a;this.contents.push(u),s=u.range.end,o=!1;let c=C_(u);c&&Array.prototype.push.apply(this.contents,c)}}s=Dl.startCommentOrEndBlankLine(r,s)}if(this.valueRange.end=s,r[s]&&(this.documentEndMarker=new B.Range(s,s+3),s+=3,r[s])){if(s=B.Node.endOfWhiteSpace(r,s),r[s]==="#"){let a=new ia;s=a.parse({src:r},s),this.contents.push(a)}switch(r[s]){case`
`:s+=1;break;case void 0:break;default:this.error=new B.YAMLSyntaxError(this,"Document end marker line cannot have a non-comment suffix")}}return s}parse(e,i){e.root=this,this.context=e;let{src:r}=e,n=r.charCodeAt(i)===65279?i+1:i;return n=this.parseDirectives(n),n=this.parseContents(n),n}setOrigRanges(e,i){return i=super.setOrigRanges(e,i),this.directives.forEach(r=>{i=r.setOrigRanges(e,i)}),this.directivesEndMarker&&(i=this.directivesEndMarker.setOrigRange(e,i)),this.contents.forEach(r=>{i=r.setOrigRanges(e,i)}),this.documentEndMarker&&(i=this.documentEndMarker.setOrigRange(e,i)),i}toString(){let{contents:e,directives:i,value:r}=this;if(r!=null)return r;let n=i.join("");return e.length>0&&((i.length>0||e[0].type===B.Type.COMMENT)&&(n+=`---
`),n+=e.join("")),n[n.length-1]!==`
`&&(n+=`
`),n}},x_=class extends B.Node{parse(e,i){this.context=e;let{src:r}=e,n=B.Node.endOfIdentifier(r,i+1);return this.valueRange=new B.Range(i+1,n),n=B.Node.endOfWhiteSpace(r,n),n=this.parseComment(n),n}},so={CLIP:"CLIP",KEEP:"KEEP",STRIP:"STRIP"},w_=class extends B.Node{constructor(e,i){super(e,i),this.blockIndent=null,this.chomping=so.CLIP,this.header=null}get includesTrailingLines(){return this.chomping===so.KEEP}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:i}=this.valueRange,{indent:r,src:n}=this.context;if(this.valueRange.isEmpty())return"";let s=null,o=n[i-1];for(;o===`
`||o==="	"||o===" ";){if(i-=1,i<=e){if(this.chomping===so.KEEP)break;return""}o===`
`&&(s=i),o=n[i-1]}let a=i+1;s&&(this.chomping===so.KEEP?(a=s,i=this.valueRange.end):i=s);let l=r+this.blockIndent,u=this.type===B.Type.BLOCK_FOLDED,c=!0,f="",d="",p=!1;for(let h=e;h<i;++h){for(let N=0;N<l&&n[h]===" ";++N)h+=1;let T=n[h];if(T===`
`)d===`
`?f+=`
`:d=`
`;else{let N=B.Node.endOfLine(n,h),_=n.slice(h,N);h=N,u&&(T===" "||T==="	")&&h<a?(d===" "?d=`
`:!p&&!c&&d===`
`&&(d=`

`),f+=d+_,d=N<i&&n[N]||"",p=!0):(f+=d+_,d=u&&h<a?" ":`
`,p=!1),c&&_!==""&&(c=!1)}}return this.chomping===so.STRIP?f:f+`
`}parseBlockHeader(e){let{src:i}=this.context,r=e+1,n="";for(;;){let s=i[r];switch(s){case"-":this.chomping=so.STRIP;break;case"+":this.chomping=so.KEEP;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n+=s;break;default:return this.blockIndent=Number(n)||null,this.header=new B.Range(e,r),r}r+=1}}parseBlockValue(e){let{indent:i,src:r}=this.context,n=!!this.blockIndent,s=e,o=e,a=1;for(let l=r[s];l===`
`&&(s+=1,!B.Node.atDocumentBoundary(r,s));l=r[s]){let u=B.Node.endOfBlockIndent(r,i,s);if(u===null)break;let c=r[u],f=u-(s+i);if(this.blockIndent){if(c&&c!==`
`&&f<this.blockIndent){if(r[u]==="#")break;if(!this.error){let p=`Block scalars must not be less indented than their ${n?"explicit indentation indicator":"first line"}`;this.error=new B.YAMLSemanticError(this,p)}}}else if(r[u]!==`
`){if(f<a){let d="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";this.error=new B.YAMLSemanticError(this,d)}this.blockIndent=f}else f>a&&(a=f);r[u]===`
`?s=u:s=o=B.Node.endOfLine(r,u)}return this.chomping!==so.KEEP&&(s=r[o]?o+1:o),this.valueRange=new B.Range(e+1,s),s}parse(e,i){this.context=e;let{src:r}=e,n=this.parseBlockHeader(i);return n=B.Node.endOfWhiteSpace(r,n),n=this.parseComment(n),n=this.parseBlockValue(n),n}setOrigRanges(e,i){return i=super.setOrigRanges(e,i),this.header?this.header.setOrigRange(e,i):i}},k_=class extends B.Node{constructor(e,i){super(e,i),this.items=null}prevNodeIsJsonLike(e=this.items.length){let i=this.items[e-1];return!!i&&(i.jsonLike||i.type===B.Type.COMMENT&&this.prevNodeIsJsonLike(e-1))}parse(e,i){this.context=e;let{parseNode:r,src:n}=e,{indent:s,lineStart:o}=e,a=n[i];this.items=[{char:a,offset:i}];let l=B.Node.endOfWhiteSpace(n,i+1);for(a=n[l];a&&a!=="]"&&a!=="}";){switch(a){case`
`:{o=l+1;let u=B.Node.endOfWhiteSpace(n,o);if(n[u]===`
`){let c=new na;o=c.parse({src:n},o),this.items.push(c)}if(l=B.Node.endOfIndent(n,o),l<=o+s&&(a=n[l],l<o+s||a!=="]"&&a!=="}")){let c="Insufficient indentation in flow collection";this.error=new B.YAMLSemanticError(this,c)}}break;case",":this.items.push({char:a,offset:l}),l+=1;break;case"#":{let u=new ia;l=u.parse({src:n},l),this.items.push(u)}break;case"?":case":":{let u=n[l+1];if(u===`
`||u==="	"||u===" "||u===","||a===":"&&this.prevNodeIsJsonLike()){this.items.push({char:a,offset:l}),l+=1;break}}default:{let u=r({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:o,parent:this},l);if(!u)return this.valueRange=new B.Range(i,l),l;this.items.push(u),l=B.Node.normalizeOffset(n,u.range.end)}}l=B.Node.endOfWhiteSpace(n,l),a=n[l]}return this.valueRange=new B.Range(i,l+1),a&&(this.items.push({char:a,offset:l}),l=B.Node.endOfWhiteSpace(n,l+1),l=this.parseComment(l)),l}setOrigRanges(e,i){return i=super.setOrigRanges(e,i),this.items.forEach(r=>{if(r instanceof B.Node)i=r.setOrigRanges(e,i);else if(e.length===0)r.origOffset=r.offset;else{let n=i;for(;n<e.length&&!(e[n]>r.offset);)++n;r.origOffset=r.offset+n,i=n}}),i}toString(){let{context:{src:e},items:i,range:r,value:n}=this;if(n!=null)return n;let s=i.filter(l=>l instanceof B.Node),o="",a=r.start;return s.forEach(l=>{let u=e.slice(a,l.range.start);a=l.range.end,o+=u+String(l),o[o.length-1]===`
`&&e[a-1]!==`
`&&e[a]===`
`&&(a+=1)}),o+=e.slice(a,r.end),B.Node.addStringTerminator(e,r.end,o)}},ju=class extends B.Node{static endOfQuote(e,i){let r=e[i];for(;r&&r!=='"';)i+=r==="\\"?2:1,r=e[i];return i+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:i,end:r}=this.valueRange,{indent:n,src:s}=this.context;s[r-1]!=='"'&&e.push(new B.YAMLSyntaxError(this,'Missing closing "quote'));let o="";for(let a=i+1;a<r-1;++a){let l=s[a];if(l===`
`){B.Node.atDocumentBoundary(s,a+1)&&e.push(new B.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:u,offset:c,error:f}=B.Node.foldNewline(s,a,n);o+=u,a=c,f&&e.push(new B.YAMLSemanticError(this,"Multi-line double-quoted string needs to be sufficiently indented"))}else if(l==="\\")switch(a+=1,s[a]){case"0":o+="\0";break;case"a":o+="\x07";break;case"b":o+="\b";break;case"e":o+="\x1B";break;case"f":o+="\f";break;case"n":o+=`
`;break;case"r":o+="\r";break;case"t":o+="	";break;case"v":o+="\v";break;case"N":o+="\x85";break;case"_":o+="\xA0";break;case"L":o+="\u2028";break;case"P":o+="\u2029";break;case" ":o+=" ";break;case'"':o+='"';break;case"/":o+="/";break;case"\\":o+="\\";break;case"	":o+="	";break;case"x":o+=this.parseCharCode(a+1,2,e),a+=2;break;case"u":o+=this.parseCharCode(a+1,4,e),a+=4;break;case"U":o+=this.parseCharCode(a+1,8,e),a+=8;break;case`
`:for(;s[a+1]===" "||s[a+1]==="	";)a+=1;break;default:e.push(new B.YAMLSyntaxError(this,`Invalid escape sequence ${s.substr(a-1,2)}`)),o+="\\"+s[a]}else if(l===" "||l==="	"){let u=a,c=s[a+1];for(;c===" "||c==="	";)a+=1,c=s[a+1];c!==`
`&&(o+=a>u?s.slice(u,a+1):l)}else o+=l}return e.length>0?{errors:e,str:o}:o}parseCharCode(e,i,r){let{src:n}=this.context,s=n.substr(e,i),a=s.length===i&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;return isNaN(a)?(r.push(new B.YAMLSyntaxError(this,`Invalid escape sequence ${n.substr(e-2,i+2)}`)),n.substr(e-2,i+2)):String.fromCodePoint(a)}parse(e,i){this.context=e;let{src:r}=e,n=ju.endOfQuote(r,i+1);return this.valueRange=new B.Range(i,n),n=B.Node.endOfWhiteSpace(r,n),n=this.parseComment(n),n}},Gu=class extends B.Node{static endOfQuote(e,i){let r=e[i];for(;r;)if(r==="'"){if(e[i+1]!=="'")break;r=e[i+=2]}else r=e[i+=1];return i+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:i,end:r}=this.valueRange,{indent:n,src:s}=this.context;s[r-1]!=="'"&&e.push(new B.YAMLSyntaxError(this,"Missing closing 'quote"));let o="";for(let a=i+1;a<r-1;++a){let l=s[a];if(l===`
`){B.Node.atDocumentBoundary(s,a+1)&&e.push(new B.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:u,offset:c,error:f}=B.Node.foldNewline(s,a,n);o+=u,a=c,f&&e.push(new B.YAMLSemanticError(this,"Multi-line single-quoted string needs to be sufficiently indented"))}else if(l==="'")o+=l,a+=1,s[a]!=="'"&&e.push(new B.YAMLSyntaxError(this,"Unescaped single quote? This should not happen."));else if(l===" "||l==="	"){let u=a,c=s[a+1];for(;c===" "||c==="	";)a+=1,c=s[a+1];c!==`
`&&(o+=a>u?s.slice(u,a+1):l)}else o+=l}return e.length>0?{errors:e,str:o}:o}parse(e,i){this.context=e;let{src:r}=e,n=Gu.endOfQuote(r,i+1);return this.valueRange=new B.Range(i,n),n=B.Node.endOfWhiteSpace(r,n),n=this.parseComment(n),n}};function nG(t,e){switch(t){case B.Type.ALIAS:return new x_(t,e);case B.Type.BLOCK_FOLDED:case B.Type.BLOCK_LITERAL:return new w_(t,e);case B.Type.FLOW_MAP:case B.Type.FLOW_SEQ:return new k_(t,e);case B.Type.MAP_KEY:case B.Type.MAP_VALUE:case B.Type.SEQ_ITEM:return new Uu(t,e);case B.Type.COMMENT:case B.Type.PLAIN:return new B.PlainValue(t,e);case B.Type.QUOTE_DOUBLE:return new ju(t,e);case B.Type.QUOTE_SINGLE:return new Gu(t,e);default:return null}}var ra=class{static parseType(e,i,r){switch(e[i]){case"*":return B.Type.ALIAS;case">":return B.Type.BLOCK_FOLDED;case"|":return B.Type.BLOCK_LITERAL;case"{":return B.Type.FLOW_MAP;case"[":return B.Type.FLOW_SEQ;case"?":return!r&&B.Node.atBlank(e,i+1,!0)?B.Type.MAP_KEY:B.Type.PLAIN;case":":return!r&&B.Node.atBlank(e,i+1,!0)?B.Type.MAP_VALUE:B.Type.PLAIN;case"-":return!r&&B.Node.atBlank(e,i+1,!0)?B.Type.SEQ_ITEM:B.Type.PLAIN;case'"':return B.Type.QUOTE_DOUBLE;case"'":return B.Type.QUOTE_SINGLE;default:return B.Type.PLAIN}}constructor(e={},{atLineStart:i,inCollection:r,inFlow:n,indent:s,lineStart:o,parent:a}={}){B._defineProperty(this,"parseNode",(l,u)=>{if(B.Node.atDocumentBoundary(this.src,u))return null;let c=new ra(this,l),{props:f,type:d,valueStart:p}=c.parseProps(u),h=nG(d,f),T=h.parse(c,p);if(h.range=new B.Range(u,T),T<=u&&(h.error=new Error("Node#parse consumed no characters"),h.error.parseEnd=T,h.error.source=h,h.range.end=u+1),c.nodeStartsCollection(h)){!h.error&&!c.atLineStart&&c.parent.type===B.Type.DOCUMENT&&(h.error=new B.YAMLSyntaxError(h,"Block collection must not have preceding content here (e.g. directives-end indicator)"));let N=new sa(h);return T=N.parse(new ra(c),T),N.range=new B.Range(u,T),N}return h}),this.atLineStart=i??(e.atLineStart||!1),this.inCollection=r??(e.inCollection||!1),this.inFlow=n??(e.inFlow||!1),this.indent=s??e.indent,this.lineStart=o??e.lineStart,this.parent=a??(e.parent||{}),this.root=e.root,this.src=e.src}nodeStartsCollection(e){let{inCollection:i,inFlow:r,src:n}=this;if(i||r)return!1;if(e instanceof Uu)return!0;let s=e.range.end;return n[s]===`
`||n[s-1]===`
`?!1:(s=B.Node.endOfWhiteSpace(n,s),n[s]===":")}parseProps(e){let{inFlow:i,parent:r,src:n}=this,s=[],o=!1;e=this.atLineStart?B.Node.endOfIndent(n,e):B.Node.endOfWhiteSpace(n,e);let a=n[e];for(;a===B.Char.ANCHOR||a===B.Char.COMMENT||a===B.Char.TAG||a===`
`;){if(a===`
`){let u=e,c;do c=u+1,u=B.Node.endOfIndent(n,c);while(n[u]===`
`);let f=u-(c+this.indent),d=r.type===B.Type.SEQ_ITEM&&r.context.atLineStart;if(n[u]!=="#"&&!B.Node.nextNodeIsIndented(n[u],f,!d))break;this.atLineStart=!0,this.lineStart=c,o=!1,e=u}else if(a===B.Char.COMMENT){let u=B.Node.endOfLine(n,e+1);s.push(new B.Range(e,u)),e=u}else{let u=B.Node.endOfIdentifier(n,e+1);a===B.Char.TAG&&n[u]===","&&/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+,\d\d\d\d(-\d\d){0,2}\/\S/.test(n.slice(e+1,u+13))&&(u=B.Node.endOfIdentifier(n,u+5)),s.push(new B.Range(e,u)),o=!0,e=B.Node.endOfWhiteSpace(n,u)}a=n[e]}o&&a===":"&&B.Node.atBlank(n,e+1,!0)&&(e-=1);let l=ra.parseType(n,e,i);return{props:s,type:l,valueStart:e}}};function sG(t){let e=[];t.indexOf("\r")!==-1&&(t=t.replace(/\r\n?/g,(n,s)=>(n.length>1&&e.push(s),`
`)));let i=[],r=0;do{let n=new Dl,s=new ra({src:t});r=n.parse(s,r),i.push(n)}while(r<t.length);return i.setOrigRanges=()=>{if(e.length===0)return!1;for(let s=1;s<e.length;++s)e[s]-=s;let n=0;for(let s=0;s<i.length;++s)n=i[s].setOrigRanges(e,n);return e.splice(0,e.length),!0},i.toString=()=>i.join(`...
`),i}BS.parse=sG});var Ll=C(Ft=>{"use strict";var Y=no();function oG(t,e,i){return i?`#${i.replace(/[\s\S]^/gm,`$&${e}#`)}
${e}${t}`:t}function Fl(t,e,i){return i?i.indexOf(`
`)===-1?`${t} #${i}`:`${t}
`+i.replace(/^/gm,`${e||""}#`):t}var Rr=class{};function oo(t,e,i){if(Array.isArray(t))return t.map((r,n)=>oo(r,String(n),i));if(t&&typeof t.toJSON=="function"){let r=i&&i.anchors&&i.anchors.get(t);r&&(i.onCreate=s=>{r.res=s,delete i.onCreate});let n=t.toJSON(e,i);return r&&i.onCreate&&i.onCreate(n),n}return(!i||!i.keep)&&typeof t=="bigint"?Number(t):t}var Oi=class extends Rr{constructor(e){super(),this.value=e}toJSON(e,i){return i&&i.keep?this.value:oo(this.value,e,i)}toString(){return String(this.value)}};function US(t,e,i){let r=i;for(let n=e.length-1;n>=0;--n){let s=e[n];if(Number.isInteger(s)&&s>=0){let o=[];o[s]=r,r=o}else{let o={};Object.defineProperty(o,s,{value:r,writable:!0,enumerable:!0,configurable:!0}),r=o}}return t.createNode(r,!1)}var HS=t=>t==null||typeof t=="object"&&t[Symbol.iterator]().next().done,ni=class extends Rr{constructor(e){super(),Y._defineProperty(this,"items",[]),this.schema=e}addIn(e,i){if(HS(e))this.add(i);else{let[r,...n]=e,s=this.get(r,!0);if(s instanceof ni)s.addIn(n,i);else if(s===void 0&&this.schema)this.set(r,US(this.schema,n,i));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${n}`)}}deleteIn([e,...i]){if(i.length===0)return this.delete(e);let r=this.get(e,!0);if(r instanceof ni)return r.deleteIn(i);throw new Error(`Expected YAML collection at ${e}. Remaining path: ${i}`)}getIn([e,...i],r){let n=this.get(e,!0);return i.length===0?!r&&n instanceof Oi?n.value:n:n instanceof ni?n.getIn(i,r):void 0}hasAllNullValues(){return this.items.every(e=>{if(!e||e.type!=="PAIR")return!1;let i=e.value;return i==null||i instanceof Oi&&i.value==null&&!i.commentBefore&&!i.comment&&!i.tag})}hasIn([e,...i]){if(i.length===0)return this.has(e);let r=this.get(e,!0);return r instanceof ni?r.hasIn(i):!1}setIn([e,...i],r){if(i.length===0)this.set(e,r);else{let n=this.get(e,!0);if(n instanceof ni)n.setIn(i,r);else if(n===void 0&&this.schema)this.set(e,US(this.schema,i,r));else throw new Error(`Expected YAML collection at ${e}. Remaining path: ${i}`)}}toJSON(){return null}toString(e,{blockItem:i,flowChars:r,isMap:n,itemIndent:s},o,a){let{indent:l,indentStep:u,stringify:c}=e,f=this.type===Y.Type.FLOW_MAP||this.type===Y.Type.FLOW_SEQ||e.inFlow;f&&(s+=u);let d=n&&this.hasAllNullValues();e=Object.assign({},e,{allNullValues:d,indent:s,inFlow:f,type:null});let p=!1,h=!1,T=this.items.reduce((_,g,y)=>{let x;g&&(!p&&g.spaceBefore&&_.push({type:"comment",str:""}),g.commentBefore&&g.commentBefore.match(/^.*$/gm).forEach(E=>{_.push({type:"comment",str:`#${E}`})}),g.comment&&(x=g.comment),f&&(!p&&g.spaceBefore||g.commentBefore||g.comment||g.key&&(g.key.commentBefore||g.key.comment)||g.value&&(g.value.commentBefore||g.value.comment))&&(h=!0)),p=!1;let L=c(g,e,()=>x=null,()=>p=!0);return f&&!h&&L.includes(`
`)&&(h=!0),f&&y<this.items.length-1&&(L+=","),L=Fl(L,s,x),p&&(x||f)&&(p=!1),_.push({type:"item",str:L}),_},[]),N;if(T.length===0)N=r.start+r.end;else if(f){let{start:_,end:g}=r,y=T.map(x=>x.str);if(h||y.reduce((x,L)=>x+L.length+2,2)>ni.maxFlowStringSingleLineLength){N=_;for(let x of y)N+=x?`
${u}${l}${x}`:`
`;N+=`
${l}${g}`}else N=`${_} ${y.join(" ")} ${g}`}else{let _=T.map(i);N=_.shift();for(let g of _)N+=g?`
${l}${g}`:`
`}return this.comment?(N+=`
`+this.comment.replace(/^/gm,`${l}#`),o&&o()):p&&a&&a(),N}};Y._defineProperty(ni,"maxFlowStringSingleLineLength",60);function Ep(t){let e=t instanceof Oi?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),Number.isInteger(e)&&e>=0?e:null}var ao=class extends ni{add(e){this.items.push(e)}delete(e){let i=Ep(e);return typeof i!="number"?!1:this.items.splice(i,1).length>0}get(e,i){let r=Ep(e);if(typeof r!="number")return;let n=this.items[r];return!i&&n instanceof Oi?n.value:n}has(e){let i=Ep(e);return typeof i=="number"&&i<this.items.length}set(e,i){let r=Ep(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);this.items[r]=i}toJSON(e,i){let r=[];i&&i.onCreate&&i.onCreate(r);let n=0;for(let s of this.items)r.push(oo(s,String(n++),i));return r}toString(e,i,r){return e?super.toString(e,{blockItem:n=>n.type==="comment"?n.str:`- ${n.str}`,flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(e.indent||"")+"  "},i,r):JSON.stringify(this)}},aG=(t,e,i)=>e===null?"":typeof e!="object"?String(e):t instanceof Rr&&i&&i.doc?t.toString({anchors:Object.create(null),doc:i.doc,indent:"",indentStep:i.indentStep,inFlow:!0,inStringifyKey:!0,stringify:i.stringify}):JSON.stringify(e),_t=class extends Rr{constructor(e,i=null){super(),this.key=e,this.value=i,this.type=_t.Type.PAIR}get commentBefore(){return this.key instanceof Rr?this.key.commentBefore:void 0}set commentBefore(e){if(this.key==null&&(this.key=new Oi(null)),this.key instanceof Rr)this.key.commentBefore=e;else{let i="Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.";throw new Error(i)}}addToJSMap(e,i){let r=oo(this.key,"",e);if(i instanceof Map){let n=oo(this.value,r,e);i.set(r,n)}else if(i instanceof Set)i.add(r);else{let n=aG(this.key,r,e),s=oo(this.value,n,e);n in i?Object.defineProperty(i,n,{value:s,writable:!0,enumerable:!0,configurable:!0}):i[n]=s}return i}toJSON(e,i){let r=i&&i.mapAsMap?new Map:{};return this.addToJSMap(i,r)}toString(e,i,r){if(!e||!e.doc)return JSON.stringify(this);let{indent:n,indentSeq:s,simpleKeys:o}=e.doc.options,{key:a,value:l}=this,u=a instanceof Rr&&a.comment;if(o){if(u)throw new Error("With simple keys, key nodes cannot have comments");if(a instanceof ni){let L="With simple keys, collection cannot be used as a key value";throw new Error(L)}}let c=!o&&(!a||u||(a instanceof Rr?a instanceof ni||a.type===Y.Type.BLOCK_FOLDED||a.type===Y.Type.BLOCK_LITERAL:typeof a=="object")),{doc:f,indent:d,indentStep:p,stringify:h}=e;e=Object.assign({},e,{implicitKey:!c,indent:d+p});let T=!1,N=h(a,e,()=>u=null,()=>T=!0);if(N=Fl(N,e.indent,u),!c&&N.length>1024){if(o)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");c=!0}if(e.allNullValues&&!o)return this.comment?(N=Fl(N,e.indent,this.comment),i&&i()):T&&!u&&r&&r(),e.inFlow&&!c?N:`? ${N}`;N=c?`? ${N}
${d}:`:`${N}:`,this.comment&&(N=Fl(N,e.indent,this.comment),i&&i());let _="",g=null;l instanceof Rr?(l.spaceBefore&&(_=`
`),l.commentBefore&&(_+=`
${l.commentBefore.replace(/^/gm,`${e.indent}#`)}`),g=l.comment):l&&typeof l=="object"&&(l=f.schema.createNode(l,!0)),e.implicitKey=!1,!c&&!this.comment&&l instanceof Oi&&(e.indentAtStart=N.length+1),T=!1,!s&&n>=2&&!e.inFlow&&!c&&l instanceof ao&&l.type!==Y.Type.FLOW_SEQ&&!l.tag&&!f.anchors.getName(l)&&(e.indent=e.indent.substr(2));let y=h(l,e,()=>g=null,()=>T=!0),x=" ";return _||this.comment?x=`${_}
${e.indent}`:!c&&l instanceof ni?(!(y[0]==="["||y[0]==="{")||y.includes(`
`))&&(x=`
${e.indent}`):y[0]===`
`&&(x=""),T&&!g&&r&&r(),Fl(N+x+y,e.indent,g)}};Y._defineProperty(_t,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var Cp=(t,e)=>{if(t instanceof ms){let i=e.get(t.source);return i.count*i.aliasCount}else if(t instanceof ni){let i=0;for(let r of t.items){let n=Cp(r,e);n>i&&(i=n)}return i}else if(t instanceof _t){let i=Cp(t.key,e),r=Cp(t.value,e);return Math.max(i,r)}return 1},ms=class extends Rr{static stringify({range:e,source:i},{anchors:r,doc:n,implicitKey:s,inStringifyKey:o}){let a=Object.keys(r).find(u=>r[u]===i);if(!a&&o&&(a=n.anchors.getName(i)||n.anchors.newName()),a)return`*${a}${s?" ":""}`;let l=n.anchors.getName(i)?"Alias node must be after source node":"Source node not found for alias node";throw new Error(`${l} [${e}]`)}constructor(e){super(),this.source=e,this.type=Y.Type.ALIAS}set tag(e){throw new Error("Alias nodes cannot have tags")}toJSON(e,i){if(!i)return oo(this.source,e,i);let{anchors:r,maxAliasCount:n}=i,s=r.get(this.source);if(!s||s.res===void 0){let o="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new Y.YAMLReferenceError(this.cstNode,o):new ReferenceError(o)}if(n>=0&&(s.count+=1,s.aliasCount===0&&(s.aliasCount=Cp(this.source,r)),s.count*s.aliasCount>n)){let o="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new Y.YAMLReferenceError(this.cstNode,o):new ReferenceError(o)}return s.res}toString(e){return ms.stringify(this,e)}};Y._defineProperty(ms,"default",!0);function Hu(t,e){let i=e instanceof Oi?e.value:e;for(let r of t)if(r instanceof _t&&(r.key===e||r.key===i||r.key&&r.key.value===i))return r}var Wu=class extends ni{add(e,i){e?e instanceof _t||(e=new _t(e.key||e,e.value)):e=new _t(e);let r=Hu(this.items,e.key),n=this.schema&&this.schema.sortMapEntries;if(r)if(i)r.value=e.value;else throw new Error(`Key ${e.key} already set`);else if(n){let s=this.items.findIndex(o=>n(e,o)<0);s===-1?this.items.push(e):this.items.splice(s,0,e)}else this.items.push(e)}delete(e){let i=Hu(this.items,e);return i?this.items.splice(this.items.indexOf(i),1).length>0:!1}get(e,i){let r=Hu(this.items,e),n=r&&r.value;return!i&&n instanceof Oi?n.value:n}has(e){return!!Hu(this.items,e)}set(e,i){this.add(new _t(e,i),!0)}toJSON(e,i,r){let n=r?new r:i&&i.mapAsMap?new Map:{};i&&i.onCreate&&i.onCreate(n);for(let s of this.items)s.addToJSMap(i,n);return n}toString(e,i,r){if(!e)return JSON.stringify(this);for(let n of this.items)if(!(n instanceof _t))throw new Error(`Map items must all be pairs; found ${JSON.stringify(n)} instead`);return super.toString(e,{blockItem:n=>n.str,flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:e.indent||""},i,r)}},WS="<<",wp=class extends _t{constructor(e){if(e instanceof _t){let i=e.value;i instanceof ao||(i=new ao,i.items.push(e.value),i.range=e.value.range),super(e.key,i),this.range=e.range}else super(new Oi(WS),new ao);this.type=_t.Type.MERGE_PAIR}addToJSMap(e,i){for(let{source:r}of this.value.items){if(!(r instanceof Wu))throw new Error("Merge sources must be maps");let n=r.toJSON(null,e,Map);for(let[s,o]of n)i instanceof Map?i.has(s)||i.set(s,o):i instanceof Set?i.add(s):Object.prototype.hasOwnProperty.call(i,s)||Object.defineProperty(i,s,{value:o,writable:!0,enumerable:!0,configurable:!0})}return i}toString(e,i){let r=this.value;if(r.items.length>1)return super.toString(e,i);this.value=r.items[0];let n=super.toString(e,i);return this.value=r,n}},lG={defaultType:Y.Type.BLOCK_LITERAL,lineWidth:76},uG={trueStr:"true",falseStr:"false"},cG={asBigInt:!1},fG={nullStr:"null"},aa={defaultType:Y.Type.PLAIN,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function F_(t,e,i){for(let{format:r,test:n,resolve:s}of e)if(n){let o=t.match(n);if(o){let a=s.apply(null,o);return a instanceof Oi||(a=new Oi(a)),r&&(a.format=r),a}}return i&&(t=i(t)),new Oi(t)}var YS="flow",D_="block",Rp="quoted",jS=(t,e)=>{let i=t[e+1];for(;i===" "||i==="	";){do i=t[e+=1];while(i&&i!==`
`);i=t[e+1]}return e};function kp(t,e,i,{indentAtStart:r,lineWidth:n=80,minContentWidth:s=20,onFold:o,onOverflow:a}){if(!n||n<0)return t;let l=Math.max(1+s,1+n-e.length);if(t.length<=l)return t;let u=[],c={},f=n-e.length;typeof r=="number"&&(r>n-Math.max(2,s)?u.push(0):f=n-r);let d,p,h=!1,T=-1,N=-1,_=-1;i===D_&&(T=jS(t,T),T!==-1&&(f=T+l));for(let y;y=t[T+=1];){if(i===Rp&&y==="\\"){switch(N=T,t[T+1]){case"x":T+=3;break;case"u":T+=5;break;case"U":T+=9;break;default:T+=1}_=T}if(y===`
`)i===D_&&(T=jS(t,T)),f=T+l,d=void 0;else{if(y===" "&&p&&p!==" "&&p!==`
`&&p!=="	"){let x=t[T+1];x&&x!==" "&&x!==`
`&&x!=="	"&&(d=T)}if(T>=f)if(d)u.push(d),f=d+l,d=void 0;else if(i===Rp){for(;p===" "||p==="	";)p=y,y=t[T+=1],h=!0;let x=T>_+1?T-2:N-1;if(c[x])return t;u.push(x),c[x]=!0,f=x+l,d=void 0}else h=!0}p=y}if(h&&a&&a(),u.length===0)return t;o&&o();let g=t.slice(0,u[0]);for(let y=0;y<u.length;++y){let x=u[y],L=u[y+1]||t.length;x===0?g=`
${e}${t.slice(0,L)}`:(i===Rp&&c[x]&&(g+=`${t[x]}\\`),g+=`
${e}${t.slice(x+1,L)}`)}return g}var L_=({indentAtStart:t})=>t?Object.assign({indentAtStart:t},aa.fold):aa.fold,Dp=t=>/^(%|---|\.\.\.)/m.test(t);function dG(t,e,i){if(!e||e<0)return!1;let r=e-i,n=t.length;if(n<=r)return!1;for(let s=0,o=0;s<n;++s)if(t[s]===`
`){if(s-o>r)return!0;if(o=s+1,n-o<=r)return!1}return!0}function oa(t,e){let{implicitKey:i}=e,{jsonEncoding:r,minMultiLineLength:n}=aa.doubleQuoted,s=JSON.stringify(t);if(r)return s;let o=e.indent||(Dp(t)?"  ":""),a="",l=0;for(let u=0,c=s[u];c;c=s[++u])if(c===" "&&s[u+1]==="\\"&&s[u+2]==="n"&&(a+=s.slice(l,u)+"\\ ",u+=1,l=u,c="\\"),c==="\\")switch(s[u+1]){case"u":{a+=s.slice(l,u);let f=s.substr(u+2,4);switch(f){case"0000":a+="\\0";break;case"0007":a+="\\a";break;case"000b":a+="\\v";break;case"001b":a+="\\e";break;case"0085":a+="\\N";break;case"00a0":a+="\\_";break;case"2028":a+="\\L";break;case"2029":a+="\\P";break;default:f.substr(0,2)==="00"?a+="\\x"+f.substr(2):a+=s.substr(u,6)}u+=5,l=u+1}break;case"n":if(i||s[u+2]==='"'||s.length<n)u+=1;else{for(a+=s.slice(l,u)+`

`;s[u+2]==="\\"&&s[u+3]==="n"&&s[u+4]!=='"';)a+=`
`,u+=2;a+=o,s[u+2]===" "&&(a+="\\"),u+=1,l=u+1}break;default:u+=1}return a=l?a+s.slice(l):s,i?a:kp(a,o,Rp,L_(e))}function KS(t,e){if(e.implicitKey){if(/\n/.test(t))return oa(t,e)}else if(/[ \t]\n|\n[ \t]/.test(t))return oa(t,e);let i=e.indent||(Dp(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${i}`)+"'";return e.implicitKey?r:kp(r,i,YS,L_(e))}function xp({comment:t,type:e,value:i},r,n,s){if(/\n[\t ]+$/.test(i)||/^\s*$/.test(i))return oa(i,r);let o=r.indent||(r.forceBlockIndent||Dp(i)?"  ":""),a=o?"2":"1",l=e===Y.Type.BLOCK_FOLDED?!1:e===Y.Type.BLOCK_LITERAL?!0:!dG(i,aa.fold.lineWidth,o.length),u=l?"|":">";if(!i)return u+`
`;let c="",f="";if(i=i.replace(/[\n\t ]*$/,p=>{let h=p.indexOf(`
`);return h===-1?u+="-":(i===p||h!==p.length-1)&&(u+="+",s&&s()),f=p.replace(/\n$/,""),""}).replace(/^[\n ]*/,p=>{p.indexOf(" ")!==-1&&(u+=a);let h=p.match(/ +$/);return h?(c=p.slice(0,-h[0].length),h[0]):(c=p,"")}),f&&(f=f.replace(/\n+(?!\n|$)/g,`$&${o}`)),c&&(c=c.replace(/\n+/g,`$&${o}`)),t&&(u+=" #"+t.replace(/ ?[\r\n]+/g," "),n&&n()),!i)return`${u}${a}
${o}${f}`;if(l)return i=i.replace(/\n+/g,`$&${o}`),`${u}
${o}${c}${i}${f}`;i=i.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${o}`);let d=kp(`${c}${i}${f}`,o,D_,aa.fold);return`${u}
${o}${d}`}function pG(t,e,i,r){let{comment:n,type:s,value:o}=t,{actualString:a,implicitKey:l,indent:u,inFlow:c}=e;if(l&&/[\n[\]{},]/.test(o)||c&&/[[\]{},]/.test(o))return oa(o,e);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return l||c||o.indexOf(`
`)===-1?o.indexOf('"')!==-1&&o.indexOf("'")===-1?KS(o,e):oa(o,e):xp(t,e,i,r);if(!l&&!c&&s!==Y.Type.PLAIN&&o.indexOf(`
`)!==-1)return xp(t,e,i,r);if(u===""&&Dp(o))return e.forceBlockIndent=!0,xp(t,e,i,r);let f=o.replace(/\n+/g,`$&
${u}`);if(a){let{tags:p}=e.doc.schema;if(typeof F_(f,p,p.scalarFallback).value!="string")return oa(o,e)}let d=l?f:kp(f,u,YS,L_(e));return n&&!c&&(d.indexOf(`
`)!==-1||n.indexOf(`
`)!==-1)?(i&&i(),oG(d,u,n)):d}function hG(t,e,i,r){let{defaultType:n}=aa,{implicitKey:s,inFlow:o}=e,{type:a,value:l}=t;typeof l!="string"&&(l=String(l),t=Object.assign({},t,{value:l}));let u=f=>{switch(f){case Y.Type.BLOCK_FOLDED:case Y.Type.BLOCK_LITERAL:return xp(t,e,i,r);case Y.Type.QUOTE_DOUBLE:return oa(l,e);case Y.Type.QUOTE_SINGLE:return KS(l,e);case Y.Type.PLAIN:return pG(t,e,i,r);default:return null}};(a!==Y.Type.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(l)||(s||o)&&(a===Y.Type.BLOCK_FOLDED||a===Y.Type.BLOCK_LITERAL))&&(a=Y.Type.QUOTE_DOUBLE);let c=u(a);if(c===null&&(c=u(n),c===null))throw new Error(`Unsupported default string type ${n}`);return c}function mG({format:t,minFractionDigits:e,tag:i,value:r}){if(typeof r=="bigint")return String(r);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let n=JSON.stringify(r);if(!t&&e&&(!i||i==="tag:yaml.org,2002:float")&&/^\d/.test(n)){let s=n.indexOf(".");s<0&&(s=n.length,n+=".");let o=e-(n.length-s-1);for(;o-- >0;)n+="0"}return n}function $S(t,e){let i,r;switch(e.type){case Y.Type.FLOW_MAP:i="}",r="flow map";break;case Y.Type.FLOW_SEQ:i="]",r="flow sequence";break;default:t.push(new Y.YAMLSemanticError(e,"Not a flow collection!?"));return}let n;for(let s=e.items.length-1;s>=0;--s){let o=e.items[s];if(!o||o.type!==Y.Type.COMMENT){n=o;break}}if(n&&n.char!==i){let s=`Expected ${r} to end with ${i}`,o;typeof n.offset=="number"?(o=new Y.YAMLSemanticError(e,s),o.offset=n.offset+1):(o=new Y.YAMLSemanticError(n,s),n.range&&n.range.end&&(o.offset=n.range.end-n.range.start)),t.push(o)}}function zS(t,e){let i=e.context.src[e.range.start-1];if(i!==`
`&&i!=="	"&&i!==" "){let r="Comments must be separated from other tokens by white space characters";t.push(new Y.YAMLSemanticError(e,r))}}function QS(t,e){let i=String(e),r=i.substr(0,8)+"..."+i.substr(-8);return new Y.YAMLSemanticError(t,`The "${r}" key is too long`)}function XS(t,e){for(let{afterKey:i,before:r,comment:n}of e){let s=t.items[r];s?(i&&s.value&&(s=s.value),n===void 0?(i||!s.commentBefore)&&(s.spaceBefore=!0):s.commentBefore?s.commentBefore+=`
`+n:s.commentBefore=n):n!==void 0&&(t.comment?t.comment+=`
`+n:t.comment=n)}}function O_(t,e){let i=e.strValue;return i?typeof i=="string"?i:(i.errors.forEach(r=>{r.source||(r.source=e),t.errors.push(r)}),i.str):""}function gG(t,e){let{handle:i,suffix:r}=e.tag,n=t.tagPrefixes.find(s=>s.handle===i);if(!n){let s=t.getDefaults().tagPrefixes;if(s&&(n=s.find(o=>o.handle===i)),!n)throw new Y.YAMLSemanticError(e,`The ${i} tag handle is non-default and was not declared.`)}if(!r)throw new Y.YAMLSemanticError(e,`The ${i} tag has no suffix.`);if(i==="!"&&(t.version||t.options.version)==="1.0"){if(r[0]==="^")return t.warnings.push(new Y.YAMLWarning(e,"YAML 1.0 ^ tag expansion is not supported")),r;if(/[:/]/.test(r)){let s=r.match(/^([a-z0-9-]+)\/(.*)/i);return s?`tag:${s[1]}.yaml.org,2002:${s[2]}`:`tag:${r}`}}return n.prefix+decodeURIComponent(r)}function _G(t,e){let{tag:i,type:r}=e,n=!1;if(i){let{handle:s,suffix:o,verbatim:a}=i;if(a){if(a!=="!"&&a!=="!!")return a;let l=`Verbatim tags aren't resolved, so ${a} is invalid.`;t.errors.push(new Y.YAMLSemanticError(e,l))}else if(s==="!"&&!o)n=!0;else try{return gG(t,e)}catch(l){t.errors.push(l)}}switch(r){case Y.Type.BLOCK_FOLDED:case Y.Type.BLOCK_LITERAL:case Y.Type.QUOTE_DOUBLE:case Y.Type.QUOTE_SINGLE:return Y.defaultTags.STR;case Y.Type.FLOW_MAP:case Y.Type.MAP:return Y.defaultTags.MAP;case Y.Type.FLOW_SEQ:case Y.Type.SEQ:return Y.defaultTags.SEQ;case Y.Type.PLAIN:return n?Y.defaultTags.STR:null;default:return null}}function GS(t,e,i){let{tags:r}=t.schema,n=[];for(let o of r)if(o.tag===i)if(o.test)n.push(o);else{let a=o.resolve(t,e);return a instanceof ni?a:new Oi(a)}let s=O_(t,e);return typeof s=="string"&&n.length>0?F_(s,n,r.scalarFallback):null}function yG({type:t}){switch(t){case Y.Type.FLOW_MAP:case Y.Type.MAP:return Y.defaultTags.MAP;case Y.Type.FLOW_SEQ:case Y.Type.SEQ:return Y.defaultTags.SEQ;default:return Y.defaultTags.STR}}function TG(t,e,i){try{let r=GS(t,e,i);if(r)return i&&e.tag&&(r.tag=i),r}catch(r){return r.source||(r.source=e),t.errors.push(r),null}try{let r=yG(e);if(!r)throw new Error(`The tag ${i} is unavailable`);let n=`The tag ${i} is unavailable, falling back to ${r}`;t.warnings.push(new Y.YAMLWarning(e,n));let s=GS(t,e,r);return s.tag=i,s}catch(r){let n=new Y.YAMLReferenceError(e,r.message);return n.stack=r.stack,t.errors.push(n),null}}var bG=t=>{if(!t)return!1;let{type:e}=t;return e===Y.Type.MAP_KEY||e===Y.Type.MAP_VALUE||e===Y.Type.SEQ_ITEM};function IG(t,e){let i={before:[],after:[]},r=!1,n=!1,s=bG(e.context.parent)?e.context.parent.props.concat(e.props):e.props;for(let{start:o,end:a}of s)switch(e.context.src[o]){case Y.Char.COMMENT:{if(!e.commentHasRequiredWhitespace(o)){let f="Comments must be separated from other tokens by white space characters";t.push(new Y.YAMLSemanticError(e,f))}let{header:l,valueRange:u}=e;(u&&(o>u.start||l&&o>l.start)?i.after:i.before).push(e.context.src.slice(o+1,a));break}case Y.Char.ANCHOR:if(r){let l="A node can have at most one anchor";t.push(new Y.YAMLSemanticError(e,l))}r=!0;break;case Y.Char.TAG:if(n){let l="A node can have at most one tag";t.push(new Y.YAMLSemanticError(e,l))}n=!0;break}return{comments:i,hasAnchor:r,hasTag:n}}function vG(t,e){let{anchors:i,errors:r,schema:n}=t;if(e.type===Y.Type.ALIAS){let o=e.rawValue,a=i.getNode(o);if(!a){let u=`Aliased anchor not found: ${o}`;return r.push(new Y.YAMLReferenceError(e,u)),null}let l=new ms(a);return i._cstAliases.push(l),l}let s=_G(t,e);if(s)return TG(t,e,s);if(e.type!==Y.Type.PLAIN){let o=`Failed to resolve ${e.type} node here`;return r.push(new Y.YAMLSyntaxError(e,o)),null}try{let o=O_(t,e);return F_(o,n.tags,n.tags.scalarFallback)}catch(o){return o.source||(o.source=e),r.push(o),null}}function lo(t,e){if(!e)return null;e.error&&t.errors.push(e.error);let{comments:i,hasAnchor:r,hasTag:n}=IG(t.errors,e);if(r){let{anchors:o}=t,a=e.anchor,l=o.getNode(a);l&&(o.map[o.newName(a)]=l),o.map[a]=e}if(e.type===Y.Type.ALIAS&&(r||n)){let o="An alias node must not specify any properties";t.errors.push(new Y.YAMLSemanticError(e,o))}let s=vG(t,e);if(s){s.range=[e.range.start,e.range.end],t.options.keepCstNodes&&(s.cstNode=e),t.options.keepNodeTypes&&(s.type=e.type);let o=i.before.join(`
`);o&&(s.commentBefore=s.commentBefore?`${s.commentBefore}
${o}`:o);let a=i.after.join(`
`);a&&(s.comment=s.comment?`${s.comment}
${a}`:a)}return e.resolved=s}function NG(t,e){if(e.type!==Y.Type.MAP&&e.type!==Y.Type.FLOW_MAP){let o=`A ${e.type} node cannot be resolved as a mapping`;return t.errors.push(new Y.YAMLSyntaxError(e,o)),null}let{comments:i,items:r}=e.type===Y.Type.FLOW_MAP?EG(t,e):AG(t,e),n=new Wu;n.items=r,XS(n,i);let s=!1;for(let o=0;o<r.length;++o){let{key:a}=r[o];if(a instanceof ni&&(s=!0),t.schema.merge&&a&&a.value===WS){r[o]=new wp(r[o]);let l=r[o].value.items,u=null;l.some(c=>{if(c instanceof ms){let{type:f}=c.source;return f===Y.Type.MAP||f===Y.Type.FLOW_MAP?!1:u="Merge nodes aliases can only point to maps"}return u="Merge nodes can only have Alias nodes as values"}),u&&t.errors.push(new Y.YAMLSemanticError(e,u))}else for(let l=o+1;l<r.length;++l){let{key:u}=r[l];if(a===u||a&&u&&Object.prototype.hasOwnProperty.call(a,"value")&&a.value===u.value){let c=`Map keys must be unique; "${a}" is repeated`;t.errors.push(new Y.YAMLSemanticError(e,c));break}}}if(s&&!t.options.mapAsMap){let o="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new Y.YAMLWarning(e,o))}return e.resolved=n,n}var SG=({context:{lineStart:t,node:e,src:i},props:r})=>{if(r.length===0)return!1;let{start:n}=r[0];if(e&&n>e.valueRange.start||i[n]!==Y.Char.COMMENT)return!1;for(let s=t;s<n;++s)if(i[s]===`
`)return!1;return!0};function PG(t,e){if(!SG(t))return;let i=t.getPropValue(0,Y.Char.COMMENT,!0),r=!1,n=e.value.commentBefore;if(n&&n.startsWith(i))e.value.commentBefore=n.substr(i.length+1),r=!0;else{let s=e.value.comment;!t.node&&s&&s.startsWith(i)&&(e.value.comment=s.substr(i.length+1),r=!0)}r&&(e.comment=i)}function AG(t,e){let i=[],r=[],n,s=null;for(let o=0;o<e.items.length;++o){let a=e.items[o];switch(a.type){case Y.Type.BLANK_LINE:i.push({afterKey:!!n,before:r.length});break;case Y.Type.COMMENT:i.push({afterKey:!!n,before:r.length,comment:a.comment});break;case Y.Type.MAP_KEY:n!==void 0&&r.push(new _t(n)),a.error&&t.errors.push(a.error),n=lo(t,a.node),s=null;break;case Y.Type.MAP_VALUE:{if(n===void 0&&(n=null),a.error&&t.errors.push(a.error),!a.context.atLineStart&&a.node&&a.node.type===Y.Type.MAP&&!a.node.context.atLineStart){let c="Nested mappings are not allowed in compact mappings";t.errors.push(new Y.YAMLSemanticError(a.node,c))}let l=a.node;if(!l&&a.props.length>0){l=new Y.PlainValue(Y.Type.PLAIN,[]),l.context={parent:a,src:a.context.src};let c=a.range.start+1;if(l.range={start:c,end:c},l.valueRange={start:c,end:c},typeof a.range.origStart=="number"){let f=a.range.origStart+1;l.range.origStart=l.range.origEnd=f,l.valueRange.origStart=l.valueRange.origEnd=f}}let u=new _t(n,lo(t,l));PG(a,u),r.push(u),n&&typeof s=="number"&&a.range.start>s+1024&&t.errors.push(QS(e,n)),n=void 0,s=null}break;default:n!==void 0&&r.push(new _t(n)),n=lo(t,a),s=a.range.start,a.error&&t.errors.push(a.error);e:for(let l=o+1;;++l){let u=e.items[l];switch(u&&u.type){case Y.Type.BLANK_LINE:case Y.Type.COMMENT:continue e;case Y.Type.MAP_VALUE:break e;default:{let c="Implicit map keys need to be followed by map values";t.errors.push(new Y.YAMLSemanticError(a,c));break e}}}if(a.valueRangeContainsNewline){let l="Implicit map keys need to be on a single line";t.errors.push(new Y.YAMLSemanticError(a,l))}}}return n!==void 0&&r.push(new _t(n)),{comments:i,items:r}}function EG(t,e){let i=[],r=[],n,s=!1,o="{";for(let a=0;a<e.items.length;++a){let l=e.items[a];if(typeof l.char=="string"){let{char:u,offset:c}=l;if(u==="?"&&n===void 0&&!s){s=!0,o=":";continue}if(u===":"){if(n===void 0&&(n=null),o===":"){o=",";continue}}else if(s&&(n===void 0&&u!==","&&(n=null),s=!1),n!==void 0&&(r.push(new _t(n)),n=void 0,u===",")){o=":";continue}if(u==="}"){if(a===e.items.length-1)continue}else if(u===o){o=":";continue}let f=`Flow map contains an unexpected ${u}`,d=new Y.YAMLSyntaxError(e,f);d.offset=c,t.errors.push(d)}else l.type===Y.Type.BLANK_LINE?i.push({afterKey:!!n,before:r.length}):l.type===Y.Type.COMMENT?(zS(t.errors,l),i.push({afterKey:!!n,before:r.length,comment:l.comment})):n===void 0?(o===","&&t.errors.push(new Y.YAMLSemanticError(l,"Separator , missing in flow map")),n=lo(t,l)):(o!==","&&t.errors.push(new Y.YAMLSemanticError(l,"Indicator : missing in flow map entry")),r.push(new _t(n,lo(t,l))),n=void 0,s=!1)}return $S(t.errors,e),n!==void 0&&r.push(new _t(n)),{comments:i,items:r}}function CG(t,e){if(e.type!==Y.Type.SEQ&&e.type!==Y.Type.FLOW_SEQ){let s=`A ${e.type} node cannot be resolved as a sequence`;return t.errors.push(new Y.YAMLSyntaxError(e,s)),null}let{comments:i,items:r}=e.type===Y.Type.FLOW_SEQ?xG(t,e):RG(t,e),n=new ao;if(n.items=r,XS(n,i),!t.options.mapAsMap&&r.some(s=>s instanceof _t&&s.key instanceof ni)){let s="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new Y.YAMLWarning(e,s))}return e.resolved=n,n}function RG(t,e){let i=[],r=[];for(let n=0;n<e.items.length;++n){let s=e.items[n];switch(s.type){case Y.Type.BLANK_LINE:i.push({before:r.length});break;case Y.Type.COMMENT:i.push({comment:s.comment,before:r.length});break;case Y.Type.SEQ_ITEM:if(s.error&&t.errors.push(s.error),r.push(lo(t,s.node)),s.hasProps){let o="Sequence items cannot have tags or anchors before the - indicator";t.errors.push(new Y.YAMLSemanticError(s,o))}break;default:s.error&&t.errors.push(s.error),t.errors.push(new Y.YAMLSyntaxError(s,`Unexpected ${s.type} node in sequence`))}}return{comments:i,items:r}}function xG(t,e){let i=[],r=[],n=!1,s,o=null,a="[",l=null;for(let u=0;u<e.items.length;++u){let c=e.items[u];if(typeof c.char=="string"){let{char:f,offset:d}=c;if(f!==":"&&(n||s!==void 0)&&(n&&s===void 0&&(s=a?r.pop():null),r.push(new _t(s)),n=!1,s=void 0,o=null),f===a)a=null;else if(!a&&f==="?")n=!0;else if(a!=="["&&f===":"&&s===void 0){if(a===","){if(s=r.pop(),s instanceof _t){let p="Chaining flow sequence pairs is invalid",h=new Y.YAMLSemanticError(e,p);h.offset=d,t.errors.push(h)}if(!n&&typeof o=="number"){let p=c.range?c.range.start:c.offset;p>o+1024&&t.errors.push(QS(e,s));let{src:h}=l.context;for(let T=o;T<p;++T)if(h[T]===`
`){let N="Implicit keys of flow sequence pairs need to be on a single line";t.errors.push(new Y.YAMLSemanticError(l,N));break}}}else s=null;o=null,n=!1,a=null}else if(a==="["||f!=="]"||u<e.items.length-1){let p=`Flow sequence contains an unexpected ${f}`,h=new Y.YAMLSyntaxError(e,p);h.offset=d,t.errors.push(h)}}else if(c.type===Y.Type.BLANK_LINE)i.push({before:r.length});else if(c.type===Y.Type.COMMENT)zS(t.errors,c),i.push({comment:c.comment,before:r.length});else{if(a){let d=`Expected a ${a} in flow sequence`;t.errors.push(new Y.YAMLSemanticError(c,d))}let f=lo(t,c);s===void 0?(r.push(f),l=c):(r.push(new _t(s,f)),s=void 0),o=c.range.start,a=","}}return $S(t.errors,e),s!==void 0&&r.push(new _t(s)),{comments:i,items:r}}Ft.Alias=ms;Ft.Collection=ni;Ft.Merge=wp;Ft.Node=Rr;Ft.Pair=_t;Ft.Scalar=Oi;Ft.YAMLMap=Wu;Ft.YAMLSeq=ao;Ft.addComment=Fl;Ft.binaryOptions=lG;Ft.boolOptions=uG;Ft.findPair=Hu;Ft.intOptions=cG;Ft.isEmptyPath=HS;Ft.nullOptions=fG;Ft.resolveMap=NG;Ft.resolveNode=lo;Ft.resolveSeq=CG;Ft.resolveString=O_;Ft.strOptions=aa;Ft.stringifyNumber=mG;Ft.stringifyString=hG;Ft.toJSON=oo});var Fp=C(Cn=>{"use strict";var xr=no(),et=Ll(),wG={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve:(t,e)=>{let i=et.resolveString(t,e);if(typeof Buffer=="function")return Buffer.from(i,"base64");if(typeof atob=="function"){let r=atob(i.replace(/[\n\r]/g,"")),n=new Uint8Array(r.length);for(let s=0;s<r.length;++s)n[s]=r.charCodeAt(s);return n}else{let r="This environment does not support reading binary tags; either Buffer or atob is required";return t.errors.push(new xr.YAMLReferenceError(e,r)),null}},options:et.binaryOptions,stringify:({comment:t,type:e,value:i},r,n,s)=>{let o;if(typeof Buffer=="function")o=i instanceof Buffer?i.toString("base64"):Buffer.from(i.buffer).toString("base64");else if(typeof btoa=="function"){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);o=btoa(a)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=et.binaryOptions.defaultType),e===xr.Type.QUOTE_DOUBLE)i=o;else{let{lineWidth:a}=et.binaryOptions,l=Math.ceil(o.length/a),u=new Array(l);for(let c=0,f=0;c<l;++c,f+=a)u[c]=o.substr(f,a);i=u.join(e===xr.Type.BLOCK_LITERAL?`
`:" ")}return et.stringifyString({comment:t,type:e,value:i},r,n,s)}};function ZS(t,e){let i=et.resolveSeq(t,e);for(let r=0;r<i.items.length;++r){let n=i.items[r];if(!(n instanceof et.Pair)){if(n instanceof et.YAMLMap){if(n.items.length>1){let o="Each pair must have its own sequence indicator";throw new xr.YAMLSemanticError(e,o)}let s=n.items[0]||new et.Pair;n.commentBefore&&(s.commentBefore=s.commentBefore?`${n.commentBefore}
${s.commentBefore}`:n.commentBefore),n.comment&&(s.comment=s.comment?`${n.comment}
${s.comment}`:n.comment),n=s}i.items[r]=n instanceof et.Pair?n:new et.Pair(n)}}return i}function eP(t,e,i){let r=new et.YAMLSeq(t);r.tag="tag:yaml.org,2002:pairs";for(let n of e){let s,o;if(Array.isArray(n))if(n.length===2)s=n[0],o=n[1];else throw new TypeError(`Expected [key, value] tuple: ${n}`);else if(n&&n instanceof Object){let l=Object.keys(n);if(l.length===1)s=l[0],o=n[s];else throw new TypeError(`Expected { key: value } tuple: ${n}`)}else s=n;let a=t.createPair(s,o,i);r.items.push(a)}return r}var kG={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:ZS,createNode:eP},uo=class extends et.YAMLSeq{constructor(){super(),xr._defineProperty(this,"add",et.YAMLMap.prototype.add.bind(this)),xr._defineProperty(this,"delete",et.YAMLMap.prototype.delete.bind(this)),xr._defineProperty(this,"get",et.YAMLMap.prototype.get.bind(this)),xr._defineProperty(this,"has",et.YAMLMap.prototype.has.bind(this)),xr._defineProperty(this,"set",et.YAMLMap.prototype.set.bind(this)),this.tag=uo.tag}toJSON(e,i){let r=new Map;i&&i.onCreate&&i.onCreate(r);for(let n of this.items){let s,o;if(n instanceof et.Pair?(s=et.toJSON(n.key,"",i),o=et.toJSON(n.value,s,i)):s=et.toJSON(n,"",i),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,o)}return r}};xr._defineProperty(uo,"tag","tag:yaml.org,2002:omap");function DG(t,e){let i=ZS(t,e),r=[];for(let{key:n}of i.items)if(n instanceof et.Scalar)if(r.includes(n.value)){let s="Ordered maps must not include duplicate keys";throw new xr.YAMLSemanticError(e,s)}else r.push(n.value);return Object.assign(new uo,i)}function FG(t,e,i){let r=eP(t,e,i),n=new uo;return n.items=r.items,n}var LG={identify:t=>t instanceof Map,nodeClass:uo,default:!1,tag:"tag:yaml.org,2002:omap",resolve:DG,createNode:FG},co=class extends et.YAMLMap{constructor(){super(),this.tag=co.tag}add(e){let i=e instanceof et.Pair?e:new et.Pair(e);et.findPair(this.items,i.key)||this.items.push(i)}get(e,i){let r=et.findPair(this.items,e);return!i&&r instanceof et.Pair?r.key instanceof et.Scalar?r.key.value:r.key:r}set(e,i){if(typeof i!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof i}`);let r=et.findPair(this.items,e);r&&!i?this.items.splice(this.items.indexOf(r),1):!r&&i&&this.items.push(new et.Pair(e))}toJSON(e,i){return super.toJSON(e,i,Set)}toString(e,i,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues())return super.toString(e,i,r);throw new Error("Set items must all have null values")}};xr._defineProperty(co,"tag","tag:yaml.org,2002:set");function OG(t,e){let i=et.resolveMap(t,e);if(!i.hasAllNullValues())throw new xr.YAMLSemanticError(e,"Set items must all have null values");return Object.assign(new co,i)}function MG(t,e,i){let r=new co;for(let n of e)r.items.push(t.createPair(n,null,i));return r}var qG={identify:t=>t instanceof Set,nodeClass:co,default:!1,tag:"tag:yaml.org,2002:set",resolve:OG,createNode:MG},M_=(t,e)=>{let i=e.split(":").reduce((r,n)=>r*60+Number(n),0);return t==="-"?-i:i},tP=({value:t})=>{if(isNaN(t)||!isFinite(t))return et.stringifyNumber(t);let e="";t<0&&(e="-",t=Math.abs(t));let i=[t%60];return t<60?i.unshift(0):(t=Math.round((t-i[0])/60),i.unshift(t%60),t>=60&&(t=Math.round((t-i[0])/60),i.unshift(t))),e+i.map(r=>r<10?"0"+String(r):String(r)).join(":").replace(/000000\d*$/,"")},BG={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:(t,e,i)=>M_(e,i.replace(/_/g,"")),stringify:tP},VG={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:(t,e,i)=>M_(e,i.replace(/_/g,"")),stringify:tP},UG={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:(t,e,i,r,n,s,o,a,l)=>{a&&(a=(a+"00").substr(1,3));let u=Date.UTC(e,i-1,r,n||0,s||0,o||0,a||0);if(l&&l!=="Z"){let c=M_(l[0],l.slice(1));Math.abs(c)<30&&(c*=60),u-=6e4*c}return new Date(u)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};function q_(t){let e=typeof process<"u"&&process.env||{};return t?typeof YAML_SILENCE_DEPRECATION_WARNINGS<"u"?!YAML_SILENCE_DEPRECATION_WARNINGS:!e.YAML_SILENCE_DEPRECATION_WARNINGS:typeof YAML_SILENCE_WARNINGS<"u"?!YAML_SILENCE_WARNINGS:!e.YAML_SILENCE_WARNINGS}function B_(t,e){if(q_(!1)){let i=typeof process<"u"&&process.emitWarning;i?i(t,e):console.warn(e?`${e}: ${t}`:t)}}function jG(t){if(q_(!0)){let e=t.replace(/.*yaml[/\\]/i,"").replace(/\.js$/,"").replace(/\\/g,"/");B_(`The endpoint 'yaml/${e}' will be removed in a future release.`,"DeprecationWarning")}}var JS={};function GG(t,e){if(!JS[t]&&q_(!0)){JS[t]=!0;let i=`The option '${t}' will be removed in a future release`;i+=e?`, use '${e}' instead.`:".",B_(i,"DeprecationWarning")}}Cn.binary=wG;Cn.floatTime=VG;Cn.intTime=BG;Cn.omap=LG;Cn.pairs=kG;Cn.set=qG;Cn.timestamp=UG;Cn.warn=B_;Cn.warnFileDeprecation=jG;Cn.warnOptionDeprecation=GG});var Vp=C(hP=>{"use strict";var Mp=no(),xe=Ll(),Ki=Fp();function HG(t,e,i){let r=new xe.YAMLMap(t);if(e instanceof Map)for(let[n,s]of e)r.items.push(t.createPair(n,s,i));else if(e&&typeof e=="object")for(let n of Object.keys(e))r.items.push(t.createPair(n,e[n],i));return typeof t.sortMapEntries=="function"&&r.items.sort(t.sortMapEntries),r}var Ku={createNode:HG,default:!0,nodeClass:xe.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:xe.resolveMap};function WG(t,e,i){let r=new xe.YAMLSeq(t);if(e&&e[Symbol.iterator])for(let n of e){let s=t.createNode(n,i.wrapScalars,null,i);r.items.push(s)}return r}var qp={createNode:WG,default:!0,nodeClass:xe.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:xe.resolveSeq},YG={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:xe.resolveString,stringify(t,e,i,r){return e=Object.assign({actualString:!0},e),xe.stringifyString(t,e,i,r)},options:xe.strOptions},U_=[Ku,qp,YG],Bp=t=>typeof t=="bigint"||Number.isInteger(t),j_=(t,e,i)=>xe.intOptions.asBigInt?BigInt(t):parseInt(e,i);function nP(t,e,i){let{value:r}=t;return Bp(r)&&r>=0?i+r.toString(e):xe.stringifyNumber(t)}var sP={identify:t=>t==null,createNode:(t,e,i)=>i.wrapScalars?new xe.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:xe.nullOptions,stringify:()=>xe.nullOptions.nullStr},oP={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>t[0]==="t"||t[0]==="T",options:xe.boolOptions,stringify:({value:t})=>t?xe.boolOptions.trueStr:xe.boolOptions.falseStr},aP={identify:t=>Bp(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:(t,e)=>j_(t,e,8),options:xe.intOptions,stringify:t=>nP(t,8,"0o")},lP={identify:Bp,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:t=>j_(t,t,10),options:xe.intOptions,stringify:xe.stringifyNumber},uP={identify:t=>Bp(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:(t,e)=>j_(t,e,16),options:xe.intOptions,stringify:t=>nP(t,16,"0x")},cP={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:xe.stringifyNumber},fP={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify:({value:t})=>Number(t).toExponential()},dP={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve(t,e,i){let r=e||i,n=new xe.Scalar(parseFloat(t));return r&&r[r.length-1]==="0"&&(n.minFractionDigits=r.length),n},stringify:xe.stringifyNumber},KG=U_.concat([sP,oP,aP,lP,uP,cP,fP,dP]),iP=t=>typeof t=="bigint"||Number.isInteger(t),Lp=({value:t})=>JSON.stringify(t),pP=[Ku,qp,{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:xe.resolveString,stringify:Lp},{identify:t=>t==null,createNode:(t,e,i)=>i.wrapScalars?new xe.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Lp},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:Lp},{identify:iP,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:t=>xe.intOptions.asBigInt?BigInt(t):parseInt(t,10),stringify:({value:t})=>iP(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:Lp}];pP.scalarFallback=t=>{throw new SyntaxError(`Unresolved plain scalar ${JSON.stringify(t)}`)};var rP=({value:t})=>t?xe.boolOptions.trueStr:xe.boolOptions.falseStr,Yu=t=>typeof t=="bigint"||Number.isInteger(t);function Op(t,e,i){let r=e.replace(/_/g,"");if(xe.intOptions.asBigInt){switch(i){case 2:r=`0b${r}`;break;case 8:r=`0o${r}`;break;case 16:r=`0x${r}`;break}let s=BigInt(r);return t==="-"?BigInt(-1)*s:s}let n=parseInt(r,i);return t==="-"?-1*n:n}function V_(t,e,i){let{value:r}=t;if(Yu(r)){let n=r.toString(e);return r<0?"-"+i+n.substr(1):i+n}return xe.stringifyNumber(t)}var $G=U_.concat([{identify:t=>t==null,createNode:(t,e,i)=>i.wrapScalars?new xe.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:xe.nullOptions,stringify:()=>xe.nullOptions.nullStr},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>!0,options:xe.boolOptions,stringify:rP},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>!1,options:xe.boolOptions,stringify:rP},{identify:Yu,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:(t,e,i)=>Op(e,i,2),stringify:t=>V_(t,2,"0b")},{identify:Yu,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:(t,e,i)=>Op(e,i,8),stringify:t=>V_(t,8,"0")},{identify:Yu,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:(t,e,i)=>Op(e,i,10),stringify:xe.stringifyNumber},{identify:Yu,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:(t,e,i)=>Op(e,i,16),stringify:t=>V_(t,16,"0x")},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:xe.stringifyNumber},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify:({value:t})=>Number(t).toExponential()},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve(t,e){let i=new xe.Scalar(parseFloat(t.replace(/_/g,"")));if(e){let r=e.replace(/_/g,"");r[r.length-1]==="0"&&(i.minFractionDigits=r.length)}return i},stringify:xe.stringifyNumber}],Ki.binary,Ki.omap,Ki.pairs,Ki.set,Ki.intTime,Ki.floatTime,Ki.timestamp),zG={core:KG,failsafe:U_,json:pP,yaml11:$G},QG={binary:Ki.binary,bool:oP,float:dP,floatExp:fP,floatNaN:cP,floatTime:Ki.floatTime,int:lP,intHex:uP,intOct:aP,intTime:Ki.intTime,map:Ku,null:sP,omap:Ki.omap,pairs:Ki.pairs,seq:qp,set:Ki.set,timestamp:Ki.timestamp};function XG(t,e,i){if(e){let r=i.filter(s=>s.tag===e),n=r.find(s=>!s.format)||r[0];if(!n)throw new Error(`Tag ${e} not found`);return n}return i.find(r=>(r.identify&&r.identify(t)||r.class&&t instanceof r.class)&&!r.format)}function JG(t,e,i){if(t instanceof xe.Node)return t;let{defaultPrefix:r,onTagObj:n,prevObjects:s,schema:o,wrapScalars:a}=i;e&&e.startsWith("!!")&&(e=r+e.slice(2));let l=XG(t,e,o.tags);if(!l){if(typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object")return a?new xe.Scalar(t):t;l=t instanceof Map?Ku:t[Symbol.iterator]?qp:Ku}n&&(n(l),delete i.onTagObj);let u={value:void 0,node:void 0};if(t&&typeof t=="object"&&s){let c=s.get(t);if(c){let f=new xe.Alias(c);return i.aliasNodes.push(f),f}u.value=t,s.set(t,u)}return u.node=l.createNode?l.createNode(i.schema,t,i):a?new xe.Scalar(t):t,e&&u.node instanceof xe.Node&&(u.node.tag=e),u.node}function ZG(t,e,i,r){let n=t[r.replace(/\W/g,"")];if(!n){let s=Object.keys(t).map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${r}"; use one of ${s}`)}if(Array.isArray(i))for(let s of i)n=n.concat(s);else typeof i=="function"&&(n=i(n.slice()));for(let s=0;s<n.length;++s){let o=n[s];if(typeof o=="string"){let a=e[o];if(!a){let l=Object.keys(e).map(u=>JSON.stringify(u)).join(", ");throw new Error(`Unknown custom tag "${o}"; use one of ${l}`)}n[s]=a}}return n}var eH=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,la=class{constructor({customTags:e,merge:i,schema:r,sortMapEntries:n,tags:s}){this.merge=!!i,this.name=r,this.sortMapEntries=n===!0?eH:n||null,!e&&s&&Ki.warnOptionDeprecation("tags","customTags"),this.tags=ZG(zG,QG,e||s,r)}createNode(e,i,r,n){let s={defaultPrefix:la.defaultPrefix,schema:this,wrapScalars:i},o=n?Object.assign(n,s):s;return JG(e,r,o)}createPair(e,i,r){r||(r={wrapScalars:!0});let n=this.createNode(e,r.wrapScalars,null,r),s=this.createNode(i,r.wrapScalars,null,r);return new xe.Pair(n,s)}};Mp._defineProperty(la,"defaultPrefix",Mp.defaultTagPrefix);Mp._defineProperty(la,"defaultTags",Mp.defaultTags);hP.Schema=la});var yP=C(Gp=>{"use strict";var $i=no(),Fe=Ll(),mP=Vp(),tH={anchorPrefix:"a",customTags:null,indent:2,indentSeq:!0,keepCstNodes:!1,keepNodeTypes:!0,keepBlobsInJSON:!0,mapAsMap:!1,maxAliasCount:100,prettyErrors:!1,simpleKeys:!1,version:"1.2"},iH={get binary(){return Fe.binaryOptions},set binary(t){Object.assign(Fe.binaryOptions,t)},get bool(){return Fe.boolOptions},set bool(t){Object.assign(Fe.boolOptions,t)},get int(){return Fe.intOptions},set int(t){Object.assign(Fe.intOptions,t)},get null(){return Fe.nullOptions},set null(t){Object.assign(Fe.nullOptions,t)},get str(){return Fe.strOptions},set str(t){Object.assign(Fe.strOptions,t)}},_P={"1.0":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:$i.defaultTagPrefix},{handle:"!!",prefix:"tag:private.yaml.org,2002:"}]},1.1:{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:$i.defaultTagPrefix}]},1.2:{schema:"core",merge:!1,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:$i.defaultTagPrefix}]}};function gP(t,e){if((t.version||t.options.version)==="1.0"){let n=e.match(/^tag:private\.yaml\.org,2002:([^:/]+)$/);if(n)return"!"+n[1];let s=e.match(/^tag:([a-zA-Z0-9-]+)\.yaml\.org,2002:(.*)/);return s?`!${s[1]}/${s[2]}`:`!${e.replace(/^tag:/,"")}`}let i=t.tagPrefixes.find(n=>e.indexOf(n.prefix)===0);if(!i){let n=t.getDefaults().tagPrefixes;i=n&&n.find(s=>e.indexOf(s.prefix)===0)}if(!i)return e[0]==="!"?e:`!<${e}>`;let r=e.substr(i.prefix.length).replace(/[!,[\]{}]/g,n=>({"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"})[n]);return i.handle+r}function rH(t,e){if(e instanceof Fe.Alias)return Fe.Alias;if(e.tag){let n=t.filter(s=>s.tag===e.tag);if(n.length>0)return n.find(s=>s.format===e.format)||n[0]}let i,r;if(e instanceof Fe.Scalar){r=e.value;let n=t.filter(s=>s.identify&&s.identify(r)||s.class&&r instanceof s.class);i=n.find(s=>s.format===e.format)||n.find(s=>!s.format)}else r=e,i=t.find(n=>n.nodeClass&&r instanceof n.nodeClass);if(!i){let n=r&&r.constructor?r.constructor.name:typeof r;throw new Error(`Tag not resolved for ${n} value`)}return i}function nH(t,e,{anchors:i,doc:r}){let n=[],s=r.anchors.getName(t);return s&&(i[s]=t,n.push(`&${s}`)),t.tag?n.push(gP(r,t.tag)):e.default||n.push(gP(r,e.tag)),n.join(" ")}function Up(t,e,i,r){let{anchors:n,schema:s}=e.doc,o;if(!(t instanceof Fe.Node)){let u={aliasNodes:[],onTagObj:c=>o=c,prevObjects:new Map};t=s.createNode(t,!0,null,u);for(let c of u.aliasNodes){c.source=c.source.node;let f=n.getName(c.source);f||(f=n.newName(),n.map[f]=c.source)}}if(t instanceof Fe.Pair)return t.toString(e,i,r);o||(o=rH(s.tags,t));let a=nH(t,o,e);a.length>0&&(e.indentAtStart=(e.indentAtStart||0)+a.length+1);let l=typeof o.stringify=="function"?o.stringify(t,e,i,r):t instanceof Fe.Scalar?Fe.stringifyString(t,e,i,r):t.toString(e,i,r);return a?t instanceof Fe.Scalar||l[0]==="{"||l[0]==="["?`${a} ${l}`:`${a}
${e.indent}${l}`:l}var $u=class{static validAnchorNode(e){return e instanceof Fe.Scalar||e instanceof Fe.YAMLSeq||e instanceof Fe.YAMLMap}constructor(e){$i._defineProperty(this,"map",Object.create(null)),this.prefix=e}createAlias(e,i){return this.setAnchor(e,i),new Fe.Alias(e)}createMergePair(...e){let i=new Fe.Merge;return i.value.items=e.map(r=>{if(r instanceof Fe.Alias){if(r.source instanceof Fe.YAMLMap)return r}else if(r instanceof Fe.YAMLMap)return this.createAlias(r);throw new Error("Merge sources must be Map nodes or their Aliases")}),i}getName(e){let{map:i}=this;return Object.keys(i).find(r=>i[r]===e)}getNames(){return Object.keys(this.map)}getNode(e){return this.map[e]}newName(e){e||(e=this.prefix);let i=Object.keys(this.map);for(let r=1;;++r){let n=`${e}${r}`;if(!i.includes(n))return n}}resolveNodes(){let{map:e,_cstAliases:i}=this;Object.keys(e).forEach(r=>{e[r]=e[r].resolved}),i.forEach(r=>{r.source=r.source.resolved}),delete this._cstAliases}setAnchor(e,i){if(e!=null&&!$u.validAnchorNode(e))throw new Error("Anchors may only be set for Scalar, Seq and Map nodes");if(i&&/[\x00-\x19\s,[\]{}]/.test(i))throw new Error("Anchor names must not contain whitespace or control characters");let{map:r}=this,n=e&&Object.keys(r).find(s=>r[s]===e);if(n)if(i)n!==i&&(delete r[n],r[i]=e);else return n;else{if(!i){if(!e)return null;i=this.newName()}r[i]=e}return i}},jp=(t,e)=>{if(t&&typeof t=="object"){let{tag:i}=t;t instanceof Fe.Collection?(i&&(e[i]=!0),t.items.forEach(r=>jp(r,e))):t instanceof Fe.Pair?(jp(t.key,e),jp(t.value,e)):t instanceof Fe.Scalar&&i&&(e[i]=!0)}return e},sH=t=>Object.keys(jp(t,{}));function oH(t,e){let i={before:[],after:[]},r,n=!1;for(let s of e)if(s.valueRange){if(r!==void 0){let a="Document contains trailing content not separated by a ... or --- line";t.errors.push(new $i.YAMLSyntaxError(s,a));break}let o=Fe.resolveNode(t,s);n&&(o.spaceBefore=!0,n=!1),r=o}else s.comment!==null?(r===void 0?i.before:i.after).push(s.comment):s.type===$i.Type.BLANK_LINE&&(n=!0,r===void 0&&i.before.length>0&&!t.commentBefore&&(t.commentBefore=i.before.join(`
`),i.before=[]));if(t.contents=r||null,!r)t.comment=i.before.concat(i.after).join(`
`)||null;else{let s=i.before.join(`
`);if(s){let o=r instanceof Fe.Collection&&r.items[0]?r.items[0]:r;o.commentBefore=o.commentBefore?`${s}
${o.commentBefore}`:s}t.comment=i.after.join(`
`)||null}}function aH({tagPrefixes:t},e){let[i,r]=e.parameters;if(!i||!r){let n="Insufficient parameters given for %TAG directive";throw new $i.YAMLSemanticError(e,n)}if(t.some(n=>n.handle===i)){let n="The %TAG directive must only be given at most once per handle in the same document.";throw new $i.YAMLSemanticError(e,n)}return{handle:i,prefix:r}}function lH(t,e){let[i]=e.parameters;if(e.name==="YAML:1.0"&&(i="1.0"),!i){let r="Insufficient parameters given for %YAML directive";throw new $i.YAMLSemanticError(e,r)}if(!_P[i]){let n=`Document will be parsed as YAML ${t.version||t.options.version} rather than YAML ${i}`;t.warnings.push(new $i.YAMLWarning(e,n))}return i}function uH(t,e,i){let r=[],n=!1;for(let s of e){let{comment:o,name:a}=s;switch(a){case"TAG":try{t.tagPrefixes.push(aH(t,s))}catch(l){t.errors.push(l)}n=!0;break;case"YAML":case"YAML:1.0":if(t.version){let l="The %YAML directive must only be given at most once per document.";t.errors.push(new $i.YAMLSemanticError(s,l))}try{t.version=lH(t,s)}catch(l){t.errors.push(l)}n=!0;break;default:if(a){let l=`YAML only supports %TAG and %YAML directives, and not %${a}`;t.warnings.push(new $i.YAMLWarning(s,l))}}o&&r.push(o)}if(i&&!n&&(t.version||i.version||t.options.version)==="1.1"){let s=({handle:o,prefix:a})=>({handle:o,prefix:a});t.tagPrefixes=i.tagPrefixes.map(s),t.version=i.version}t.commentBefore=r.join(`
`)||null}function Ol(t){if(t instanceof Fe.Collection)return!0;throw new Error("Expected a YAML collection as document contents")}var ua=class{constructor(e){this.anchors=new $u(e.anchorPrefix),this.commentBefore=null,this.comment=null,this.contents=null,this.directivesEndMarker=null,this.errors=[],this.options=e,this.schema=null,this.tagPrefixes=[],this.version=null,this.warnings=[]}add(e){return Ol(this.contents),this.contents.add(e)}addIn(e,i){Ol(this.contents),this.contents.addIn(e,i)}delete(e){return Ol(this.contents),this.contents.delete(e)}deleteIn(e){return Fe.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):(Ol(this.contents),this.contents.deleteIn(e))}getDefaults(){return ua.defaults[this.version]||ua.defaults[this.options.version]||{}}get(e,i){return this.contents instanceof Fe.Collection?this.contents.get(e,i):void 0}getIn(e,i){return Fe.isEmptyPath(e)?!i&&this.contents instanceof Fe.Scalar?this.contents.value:this.contents:this.contents instanceof Fe.Collection?this.contents.getIn(e,i):void 0}has(e){return this.contents instanceof Fe.Collection?this.contents.has(e):!1}hasIn(e){return Fe.isEmptyPath(e)?this.contents!==void 0:this.contents instanceof Fe.Collection?this.contents.hasIn(e):!1}set(e,i){Ol(this.contents),this.contents.set(e,i)}setIn(e,i){Fe.isEmptyPath(e)?this.contents=i:(Ol(this.contents),this.contents.setIn(e,i))}setSchema(e,i){if(!e&&!i&&this.schema)return;typeof e=="number"&&(e=e.toFixed(1)),e==="1.0"||e==="1.1"||e==="1.2"?(this.version?this.version=e:this.options.version=e,delete this.options.schema):e&&typeof e=="string"&&(this.options.schema=e),Array.isArray(i)&&(this.options.customTags=i);let r=Object.assign({},this.getDefaults(),this.options);this.schema=new mP.Schema(r)}parse(e,i){this.options.keepCstNodes&&(this.cstNode=e),this.options.keepNodeTypes&&(this.type="DOCUMENT");let{directives:r=[],contents:n=[],directivesEndMarker:s,error:o,valueRange:a}=e;if(o&&(o.source||(o.source=this),this.errors.push(o)),uH(this,r,i),s&&(this.directivesEndMarker=!0),this.range=a?[a.start,a.end]:null,this.setSchema(),this.anchors._cstAliases=[],oH(this,n),this.anchors.resolveNodes(),this.options.prettyErrors){for(let l of this.errors)l instanceof $i.YAMLError&&l.makePretty();for(let l of this.warnings)l instanceof $i.YAMLError&&l.makePretty()}return this}listNonDefaultTags(){return sH(this.contents).filter(e=>e.indexOf(mP.Schema.defaultPrefix)!==0)}setTagPrefix(e,i){if(e[0]!=="!"||e[e.length-1]!=="!")throw new Error("Handle must start and end with !");if(i){let r=this.tagPrefixes.find(n=>n.handle===e);r?r.prefix=i:this.tagPrefixes.push({handle:e,prefix:i})}else this.tagPrefixes=this.tagPrefixes.filter(r=>r.handle!==e)}toJSON(e,i){let{keepBlobsInJSON:r,mapAsMap:n,maxAliasCount:s}=this.options,o=r&&(typeof e!="string"||!(this.contents instanceof Fe.Scalar)),a={doc:this,indentStep:"  ",keep:o,mapAsMap:o&&!!n,maxAliasCount:s,stringify:Up},l=Object.keys(this.anchors.map);l.length>0&&(a.anchors=new Map(l.map(c=>[this.anchors.map[c],{alias:[],aliasCount:0,count:1}])));let u=Fe.toJSON(this.contents,e,a);if(typeof i=="function"&&a.anchors)for(let{count:c,res:f}of a.anchors.values())i(f,c);return u}toString(){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");let e=this.options.indent;if(!Number.isInteger(e)||e<=0){let l=JSON.stringify(e);throw new Error(`"indent" option must be a positive integer, not ${l}`)}this.setSchema();let i=[],r=!1;if(this.version){let l="%YAML 1.2";this.schema.name==="yaml-1.1"&&(this.version==="1.0"?l="%YAML:1.0":this.version==="1.1"&&(l="%YAML 1.1")),i.push(l),r=!0}let n=this.listNonDefaultTags();this.tagPrefixes.forEach(({handle:l,prefix:u})=>{n.some(c=>c.indexOf(u)===0)&&(i.push(`%TAG ${l} ${u}`),r=!0)}),(r||this.directivesEndMarker)&&i.push("---"),this.commentBefore&&((r||!this.directivesEndMarker)&&i.unshift(""),i.unshift(this.commentBefore.replace(/^/gm,"#")));let s={anchors:Object.create(null),doc:this,indent:"",indentStep:" ".repeat(e),stringify:Up},o=!1,a=null;if(this.contents){this.contents instanceof Fe.Node&&(this.contents.spaceBefore&&(r||this.directivesEndMarker)&&i.push(""),this.contents.commentBefore&&i.push(this.contents.commentBefore.replace(/^/gm,"#")),s.forceBlockIndent=!!this.comment,a=this.contents.comment);let l=a?null:()=>o=!0,u=Up(this.contents,s,()=>a=null,l);i.push(Fe.addComment(u,"",a))}else this.contents!==void 0&&i.push(Up(this.contents,s));return this.comment&&((!o||a)&&i[i.length-1]!==""&&i.push(""),i.push(this.comment.replace(/^/gm,"#"))),i.join(`
`)+`
`}};$i._defineProperty(ua,"defaults",_P);Gp.Document=ua;Gp.defaultOptions=tH;Gp.scalarOptions=iH});var IP=C(bP=>{"use strict";var G_=VS(),ca=yP(),cH=Vp(),fH=no(),dH=Fp();Ll();function pH(t,e=!0,i){i===void 0&&typeof e=="string"&&(i=e,e=!0);let r=Object.assign({},ca.Document.defaults[ca.defaultOptions.version],ca.defaultOptions);return new cH.Schema(r).createNode(t,e,i)}var Ml=class extends ca.Document{constructor(e){super(Object.assign({},ca.defaultOptions,e))}};function hH(t,e){let i=[],r;for(let n of G_.parse(t)){let s=new Ml(e);s.parse(n,r),i.push(s),r=s}return i}function TP(t,e){let i=G_.parse(t),r=new Ml(e).parse(i[0]);if(i.length>1){let n="Source contains multiple documents; please use YAML.parseAllDocuments()";r.errors.unshift(new fH.YAMLSemanticError(i[1],n))}return r}function mH(t,e){let i=TP(t,e);if(i.warnings.forEach(r=>dH.warn(r)),i.errors.length>0)throw i.errors[0];return i.toJSON()}function gH(t,e){let i=new Ml(e);return i.contents=t,String(i)}var _H={createNode:pH,defaultOptions:ca.defaultOptions,Document:Ml,parse:mH,parseAllDocuments:hH,parseCST:G_.parse,parseDocument:TP,scalarOptions:ca.scalarOptions,stringify:gH};bP.YAML=_H});var Rn=C((epe,vP)=>{vP.exports=IP().YAML});var NP=C(zi=>{"use strict";var wr=Ll(),yH=Vp();no();Fp();zi.Alias=wr.Alias;zi.Collection=wr.Collection;zi.Merge=wr.Merge;zi.Node=wr.Node;zi.Pair=wr.Pair;zi.Scalar=wr.Scalar;zi.YAMLMap=wr.YAMLMap;zi.YAMLSeq=wr.YAMLSeq;zi.binaryOptions=wr.binaryOptions;zi.boolOptions=wr.boolOptions;zi.intOptions=wr.intOptions;zi.nullOptions=wr.nullOptions;zi.strOptions=wr.strOptions;zi.Schema=yH.Schema});var Sy=C((Oe,lE)=>{Oe=lE.exports=Je;var pt;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?pt=function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:pt=function(){};Oe.SEMVER_SPEC_VERSION="2.0.0";var ly=256,sh=Number.MAX_SAFE_INTEGER||9007199254740991,ay=16,vt=Oe.re=[],J=Oe.src=[],Xe=0,Kl=Xe++;J[Kl]="0|[1-9]\\d*";var $l=Xe++;J[$l]="[0-9]+";var dy=Xe++;J[dy]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var $A=Xe++;J[$A]="("+J[Kl]+")\\.("+J[Kl]+")\\.("+J[Kl]+")";var zA=Xe++;J[zA]="("+J[$l]+")\\.("+J[$l]+")\\.("+J[$l]+")";var uy=Xe++;J[uy]="(?:"+J[Kl]+"|"+J[dy]+")";var cy=Xe++;J[cy]="(?:"+J[$l]+"|"+J[dy]+")";var py=Xe++;J[py]="(?:-("+J[uy]+"(?:\\."+J[uy]+")*))";var hy=Xe++;J[hy]="(?:-?("+J[cy]+"(?:\\."+J[cy]+")*))";var fy=Xe++;J[fy]="[0-9A-Za-z-]+";var lc=Xe++;J[lc]="(?:\\+("+J[fy]+"(?:\\."+J[fy]+")*))";var my=Xe++,QA="v?"+J[$A]+J[py]+"?"+J[lc]+"?";J[my]="^"+QA+"$";var gy="[v=\\s]*"+J[zA]+J[hy]+"?"+J[lc]+"?",_y=Xe++;J[_y]="^"+gy+"$";var Xl=Xe++;J[Xl]="((?:<|>)?=?)";var oh=Xe++;J[oh]=J[$l]+"|x|X|\\*";var ah=Xe++;J[ah]=J[Kl]+"|x|X|\\*";var ga=Xe++;J[ga]="[v=\\s]*("+J[ah]+")(?:\\.("+J[ah]+")(?:\\.("+J[ah]+")(?:"+J[py]+")?"+J[lc]+"?)?)?";var Ql=Xe++;J[Ql]="[v=\\s]*("+J[oh]+")(?:\\.("+J[oh]+")(?:\\.("+J[oh]+")(?:"+J[hy]+")?"+J[lc]+"?)?)?";var XA=Xe++;J[XA]="^"+J[Xl]+"\\s*"+J[ga]+"$";var JA=Xe++;J[JA]="^"+J[Xl]+"\\s*"+J[Ql]+"$";var ZA=Xe++;J[ZA]="(?:^|[^\\d])(\\d{1,"+ay+"})(?:\\.(\\d{1,"+ay+"}))?(?:\\.(\\d{1,"+ay+"}))?(?:$|[^\\d])";var ph=Xe++;J[ph]="(?:~>?)";var lh=Xe++;J[lh]="(\\s*)"+J[ph]+"\\s+";vt[lh]=new RegExp(J[lh],"g");var d3="$1~",eE=Xe++;J[eE]="^"+J[ph]+J[ga]+"$";var tE=Xe++;J[tE]="^"+J[ph]+J[Ql]+"$";var hh=Xe++;J[hh]="(?:\\^)";var uh=Xe++;J[uh]="(\\s*)"+J[hh]+"\\s+";vt[uh]=new RegExp(J[uh],"g");var p3="$1^",iE=Xe++;J[iE]="^"+J[hh]+J[ga]+"$";var rE=Xe++;J[rE]="^"+J[hh]+J[Ql]+"$";var yy=Xe++;J[yy]="^"+J[Xl]+"\\s*("+gy+")$|^$";var Ty=Xe++;J[Ty]="^"+J[Xl]+"\\s*("+QA+")$|^$";var oc=Xe++;J[oc]="(\\s*)"+J[Xl]+"\\s*("+gy+"|"+J[ga]+")";vt[oc]=new RegExp(J[oc],"g");var h3="$1$2$3",nE=Xe++;J[nE]="^\\s*("+J[ga]+")\\s+-\\s+("+J[ga]+")\\s*$";var sE=Xe++;J[sE]="^\\s*("+J[Ql]+")\\s+-\\s+("+J[Ql]+")\\s*$";var oE=Xe++;J[oE]="(<|>)?=?\\s*\\*";for(go=0;go<Xe;go++)pt(go,J[go]),vt[go]||(vt[go]=new RegExp(J[go]));var go;Oe.parse=_a;function _a(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof Je)return t;if(typeof t!="string"||t.length>ly)return null;var i=e.loose?vt[_y]:vt[my];if(!i.test(t))return null;try{return new Je(t,e)}catch{return null}}Oe.valid=m3;function m3(t,e){var i=_a(t,e);return i?i.version:null}Oe.clean=g3;function g3(t,e){var i=_a(t.trim().replace(/^[=v]+/,""),e);return i?i.version:null}Oe.SemVer=Je;function Je(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof Je){if(t.loose===e.loose)return t;t=t.version}else if(typeof t!="string")throw new TypeError("Invalid Version: "+t);if(t.length>ly)throw new TypeError("version is longer than "+ly+" characters");if(!(this instanceof Je))return new Je(t,e);pt("SemVer",t,e),this.options=e,this.loose=!!e.loose;var i=t.trim().match(e.loose?vt[_y]:vt[my]);if(!i)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>sh||this.major<0)throw new TypeError("Invalid major version");if(this.minor>sh||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>sh||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(function(r){if(/^[0-9]+$/.test(r)){var n=+r;if(n>=0&&n<sh)return n}return r}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}Je.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};Je.prototype.toString=function(){return this.version};Je.prototype.compare=function(t){return pt("SemVer.compare",this.version,this.options,t),t instanceof Je||(t=new Je(t,this.options)),this.compareMain(t)||this.comparePre(t)};Je.prototype.compareMain=function(t){return t instanceof Je||(t=new Je(t,this.options)),zl(this.major,t.major)||zl(this.minor,t.minor)||zl(this.patch,t.patch)};Je.prototype.comparePre=function(t){if(t instanceof Je||(t=new Je(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var i=this.prerelease[e],r=t.prerelease[e];if(pt("prerelease compare",e,i,r),i===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(i===void 0)return-1;if(i===r)continue;return zl(i,r)}while(++e)};Je.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e),this.inc("pre",e);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var i=this.prerelease.length;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);i===-1&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this};Oe.inc=_3;function _3(t,e,i,r){typeof i=="string"&&(r=i,i=void 0);try{return new Je(t,i).inc(e,r).version}catch{return null}}Oe.diff=y3;function y3(t,e){if(by(t,e))return null;var i=_a(t),r=_a(e),n="";if(i.prerelease.length||r.prerelease.length){n="pre";var s="prerelease"}for(var o in i)if((o==="major"||o==="minor"||o==="patch")&&i[o]!==r[o])return n+o;return s}Oe.compareIdentifiers=zl;var KA=/^[0-9]+$/;function zl(t,e){var i=KA.test(t),r=KA.test(e);return i&&r&&(t=+t,e=+e),t===e?0:i&&!r?-1:r&&!i?1:t<e?-1:1}Oe.rcompareIdentifiers=T3;function T3(t,e){return zl(e,t)}Oe.major=b3;function b3(t,e){return new Je(t,e).major}Oe.minor=I3;function I3(t,e){return new Je(t,e).minor}Oe.patch=v3;function v3(t,e){return new Je(t,e).patch}Oe.compare=_s;function _s(t,e,i){return new Je(t,i).compare(new Je(e,i))}Oe.compareLoose=N3;function N3(t,e){return _s(t,e,!0)}Oe.rcompare=S3;function S3(t,e,i){return _s(e,t,i)}Oe.sort=P3;function P3(t,e){return t.sort(function(i,r){return Oe.compare(i,r,e)})}Oe.rsort=A3;function A3(t,e){return t.sort(function(i,r){return Oe.rcompare(i,r,e)})}Oe.gt=ac;function ac(t,e,i){return _s(t,e,i)>0}Oe.lt=ch;function ch(t,e,i){return _s(t,e,i)<0}Oe.eq=by;function by(t,e,i){return _s(t,e,i)===0}Oe.neq=aE;function aE(t,e,i){return _s(t,e,i)!==0}Oe.gte=Iy;function Iy(t,e,i){return _s(t,e,i)>=0}Oe.lte=vy;function vy(t,e,i){return _s(t,e,i)<=0}Oe.cmp=fh;function fh(t,e,i,r){switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof i=="object"&&(i=i.version),t===i;case"!==":return typeof t=="object"&&(t=t.version),typeof i=="object"&&(i=i.version),t!==i;case"":case"=":case"==":return by(t,i,r);case"!=":return aE(t,i,r);case">":return ac(t,i,r);case">=":return Iy(t,i,r);case"<":return ch(t,i,r);case"<=":return vy(t,i,r);default:throw new TypeError("Invalid operator: "+e)}}Oe.Comparator=tn;function tn(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof tn){if(t.loose===!!e.loose)return t;t=t.value}if(!(this instanceof tn))return new tn(t,e);pt("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===uc?this.value="":this.value=this.operator+this.semver.version,pt("comp",this)}var uc={};tn.prototype.parse=function(t){var e=this.options.loose?vt[yy]:vt[Ty],i=t.match(e);if(!i)throw new TypeError("Invalid comparator: "+t);this.operator=i[1],this.operator==="="&&(this.operator=""),i[2]?this.semver=new Je(i[2],this.options.loose):this.semver=uc};tn.prototype.toString=function(){return this.value};tn.prototype.test=function(t){return pt("Comparator.test",t,this.options.loose),this.semver===uc?!0:(typeof t=="string"&&(t=new Je(t,this.options)),fh(t,this.operator,this.semver,this.options))};tn.prototype.intersects=function(t,e){if(!(t instanceof tn))throw new TypeError("a Comparator is required");(!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1});var i;if(this.operator==="")return i=new qt(t.value,e),dh(this.value,i,e);if(t.operator==="")return i=new qt(this.value,e),dh(t.semver,i,e);var r=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">"),n=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<"),s=this.semver.version===t.semver.version,o=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<="),a=fh(this.semver,"<",t.semver,e)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"),l=fh(this.semver,">",t.semver,e)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return r||n||s&&o||a||l};Oe.Range=qt;function qt(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof qt)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new qt(t.raw,e);if(t instanceof tn)return new qt(t.value,e);if(!(this instanceof qt))return new qt(t,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(function(i){return this.parseRange(i.trim())},this).filter(function(i){return i.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}qt.prototype.format=function(){return this.range=this.set.map(function(t){return t.join(" ").trim()}).join("||").trim(),this.range};qt.prototype.toString=function(){return this.range};qt.prototype.parseRange=function(t){var e=this.options.loose;t=t.trim();var i=e?vt[sE]:vt[nE];t=t.replace(i,O3),pt("hyphen replace",t),t=t.replace(vt[oc],h3),pt("comparator trim",t,vt[oc]),t=t.replace(vt[lh],d3),t=t.replace(vt[uh],p3),t=t.split(/\s+/).join(" ");var r=e?vt[yy]:vt[Ty],n=t.split(" ").map(function(s){return C3(s,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(n=n.filter(function(s){return!!s.match(r)})),n=n.map(function(s){return new tn(s,this.options)},this),n};qt.prototype.intersects=function(t,e){if(!(t instanceof qt))throw new TypeError("a Range is required");return this.set.some(function(i){return i.every(function(r){return t.set.some(function(n){return n.every(function(s){return r.intersects(s,e)})})})})};Oe.toComparators=E3;function E3(t,e){return new qt(t,e).set.map(function(i){return i.map(function(r){return r.value}).join(" ").trim().split(" ")})}function C3(t,e){return pt("comp",t,e),t=w3(t,e),pt("caret",t),t=R3(t,e),pt("tildes",t),t=D3(t,e),pt("xrange",t),t=L3(t,e),pt("stars",t),t}function Zi(t){return!t||t.toLowerCase()==="x"||t==="*"}function R3(t,e){return t.trim().split(/\s+/).map(function(i){return x3(i,e)}).join(" ")}function x3(t,e){var i=e.loose?vt[tE]:vt[eE];return t.replace(i,function(r,n,s,o,a){pt("tilde",t,r,n,s,o,a);var l;return Zi(n)?l="":Zi(s)?l=">="+n+".0.0 <"+(+n+1)+".0.0":Zi(o)?l=">="+n+"."+s+".0 <"+n+"."+(+s+1)+".0":a?(pt("replaceTilde pr",a),l=">="+n+"."+s+"."+o+"-"+a+" <"+n+"."+(+s+1)+".0"):l=">="+n+"."+s+"."+o+" <"+n+"."+(+s+1)+".0",pt("tilde return",l),l})}function w3(t,e){return t.trim().split(/\s+/).map(function(i){return k3(i,e)}).join(" ")}function k3(t,e){pt("caret",t,e);var i=e.loose?vt[rE]:vt[iE];return t.replace(i,function(r,n,s,o,a){pt("caret",t,r,n,s,o,a);var l;return Zi(n)?l="":Zi(s)?l=">="+n+".0.0 <"+(+n+1)+".0.0":Zi(o)?n==="0"?l=">="+n+"."+s+".0 <"+n+"."+(+s+1)+".0":l=">="+n+"."+s+".0 <"+(+n+1)+".0.0":a?(pt("replaceCaret pr",a),n==="0"?s==="0"?l=">="+n+"."+s+"."+o+"-"+a+" <"+n+"."+s+"."+(+o+1):l=">="+n+"."+s+"."+o+"-"+a+" <"+n+"."+(+s+1)+".0":l=">="+n+"."+s+"."+o+"-"+a+" <"+(+n+1)+".0.0"):(pt("no pr"),n==="0"?s==="0"?l=">="+n+"."+s+"."+o+" <"+n+"."+s+"."+(+o+1):l=">="+n+"."+s+"."+o+" <"+n+"."+(+s+1)+".0":l=">="+n+"."+s+"."+o+" <"+(+n+1)+".0.0"),pt("caret return",l),l})}function D3(t,e){return pt("replaceXRanges",t,e),t.split(/\s+/).map(function(i){return F3(i,e)}).join(" ")}function F3(t,e){t=t.trim();var i=e.loose?vt[JA]:vt[XA];return t.replace(i,function(r,n,s,o,a,l){pt("xRange",t,r,n,s,o,a,l);var u=Zi(s),c=u||Zi(o),f=c||Zi(a),d=f;return n==="="&&d&&(n=""),u?n===">"||n==="<"?r="<0.0.0":r="*":n&&d?(c&&(o=0),a=0,n===">"?(n=">=",c?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):n==="<="&&(n="<",c?s=+s+1:o=+o+1),r=n+s+"."+o+"."+a):c?r=">="+s+".0.0 <"+(+s+1)+".0.0":f&&(r=">="+s+"."+o+".0 <"+s+"."+(+o+1)+".0"),pt("xRange return",r),r})}function L3(t,e){return pt("replaceStars",t,e),t.trim().replace(vt[oE],"")}function O3(t,e,i,r,n,s,o,a,l,u,c,f,d){return Zi(i)?e="":Zi(r)?e=">="+i+".0.0":Zi(n)?e=">="+i+"."+r+".0":e=">="+e,Zi(l)?a="":Zi(u)?a="<"+(+l+1)+".0.0":Zi(c)?a="<"+l+"."+(+u+1)+".0":f?a="<="+l+"."+u+"."+c+"-"+f:a="<="+a,(e+" "+a).trim()}qt.prototype.test=function(t){if(!t)return!1;typeof t=="string"&&(t=new Je(t,this.options));for(var e=0;e<this.set.length;e++)if(M3(this.set[e],t,this.options))return!0;return!1};function M3(t,e,i){for(var r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!i.includePrerelease){for(r=0;r<t.length;r++)if(pt(t[r].semver),t[r].semver!==uc&&t[r].semver.prerelease.length>0){var n=t[r].semver;if(n.major===e.major&&n.minor===e.minor&&n.patch===e.patch)return!0}return!1}return!0}Oe.satisfies=dh;function dh(t,e,i){try{e=new qt(e,i)}catch{return!1}return e.test(t)}Oe.maxSatisfying=q3;function q3(t,e,i){var r=null,n=null;try{var s=new qt(e,i)}catch{return null}return t.forEach(function(o){s.test(o)&&(!r||n.compare(o)===-1)&&(r=o,n=new Je(r,i))}),r}Oe.minSatisfying=B3;function B3(t,e,i){var r=null,n=null;try{var s=new qt(e,i)}catch{return null}return t.forEach(function(o){s.test(o)&&(!r||n.compare(o)===1)&&(r=o,n=new Je(r,i))}),r}Oe.minVersion=V3;function V3(t,e){t=new qt(t,e);var i=new Je("0.0.0");if(t.test(i)||(i=new Je("0.0.0-0"),t.test(i)))return i;i=null;for(var r=0;r<t.set.length;++r){var n=t.set[r];n.forEach(function(s){var o=new Je(s.semver.version);switch(s.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!i||ac(i,o))&&(i=o);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+s.operator)}})}return i&&t.test(i)?i:null}Oe.validRange=U3;function U3(t,e){try{return new qt(t,e).range||"*"}catch{return null}}Oe.ltr=j3;function j3(t,e,i){return Ny(t,e,"<",i)}Oe.gtr=G3;function G3(t,e,i){return Ny(t,e,">",i)}Oe.outside=Ny;function Ny(t,e,i,r){t=new Je(t,r),e=new qt(e,r);var n,s,o,a,l;switch(i){case">":n=ac,s=vy,o=ch,a=">",l=">=";break;case"<":n=ch,s=Iy,o=ac,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(dh(t,e,r))return!1;for(var u=0;u<e.set.length;++u){var c=e.set[u],f=null,d=null;if(c.forEach(function(p){p.semver===uc&&(p=new tn(">=0.0.0")),f=f||p,d=d||p,n(p.semver,f.semver,r)?f=p:o(p.semver,d.semver,r)&&(d=p)}),f.operator===a||f.operator===l||(!d.operator||d.operator===a)&&s(t,d.semver))return!1;if(d.operator===l&&o(t,d.semver))return!1}return!0}Oe.prerelease=H3;function H3(t,e){var i=_a(t,e);return i&&i.prerelease.length?i.prerelease:null}Oe.intersects=W3;function W3(t,e,i){return t=new qt(t,i),e=new qt(e,i),t.intersects(e)}Oe.coerce=Y3;function Y3(t){if(t instanceof Je)return t;if(typeof t!="string")return null;var e=t.match(vt[ZA]);return e==null?null:_a(e[1]+"."+(e[2]||"0")+"."+(e[3]||"0"))}});var Py=C((s_e,pE)=>{"use strict";var mh=require("path");function Q3(t){if(typeof t!="string"||t.length<=7||t.substring(0,7)!=="file://")throw new TypeError("must pass in a file:// URI to convert to a file path");let e=decodeURI(t.substring(7)),i=e.indexOf("/"),r=e.substring(0,i),n=e.substring(i+1);return r==="localhost"&&(r=""),r&&(r=mh.sep+mh.sep+r),n=n.replace(/^(.+)\|/,"$1:"),mh.sep==="\\"&&(n=n.replace(/\//g,"\\")),/^.+:/.test(n)||(n=mh.sep+n),r+n}pE.exports=Q3});var bh=C((uye,AE)=>{"use strict";function bi(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}bi.prototype.clone_empty=function(){var t=new bi(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t};bi.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]};bi.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1};bi.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))};bi.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)};bi.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count};bi.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,t.__items[0]===" "&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1};bi.prototype.is_empty=function(){return this.__items.length===0};bi.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]};bi.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf(`
`);e!==-1?this.__character_count=t.length-e:this.__character_count+=t.length};bi.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t};bi.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)};bi.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)};bi.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1};bi.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t};function hc(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}hc.prototype.get_indent_size=function(t,e){var i=this.__base_string_length;return e=e||0,t<0&&(i=0),i+=t*this.__indent_size,i+=e,i};hc.prototype.get_indent_string=function(t,e){var i=this.__base_string;return e=e||0,t<0&&(t=0,i=""),e+=t*this.__indent_size,this.__ensure_cache(e),i+=this.__cache[e],i};hc.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column()};hc.prototype.__add_column=function(){var t=this.__cache.length,e=0,i="";this.__indent_size&&t>=this.__indent_size&&(e=Math.floor(t/this.__indent_size),t-=e*this.__indent_size,i=new Array(e+1).join(this.__indent_string)),t&&(i+=new Array(t+1).join(" ")),this.__cache.push(i)};function Ii(t,e){this.__indent_cache=new hc(t,e),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new bi(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}Ii.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)};Ii.prototype.get_line_number=function(){return this.__lines.length};Ii.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)};Ii.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)};Ii.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()};Ii.prototype.add_new_line=function(t){return this.is_empty()||!t&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)};Ii.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&(e[e.length-1]===`
`&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var i=this.__lines.join(`
`);return t!==`
`&&(i=i.replace(/[\n]/g,t)),i};Ii.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()};Ii.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)};Ii.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1};Ii.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()};Ii.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))};Ii.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()};Ii.prototype.trim=function(t){for(t=t===void 0?!1:t,this.current_line.trim();t&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null};Ii.prototype.just_added_newline=function(){return this.current_line.is_empty()};Ii.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()};Ii.prototype.ensure_empty_line_above=function(t,e){for(var i=this.__lines.length-2;i>=0;){var r=this.__lines[i];if(r.is_empty())break;if(r.item(0).indexOf(t)!==0&&r.item(-1)!==e){this.__lines.splice(i+1,0,new bi(this)),this.previous_line=this.__lines[this.__lines.length-2];break}i--}};AE.exports.Output=Ii});var Fy=C((cye,EE)=>{"use strict";function Z3(t,e,i,r){this.type=t,this.text=e,this.comments_before=null,this.newlines=i||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}EE.exports.Token=Z3});var Oy=C(bs=>{"use strict";var eK="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",CE="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",Ly="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",RE="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",xE="(?:\\\\u[0-9a-fA-F]{4}|["+eK+Ly+"])",tK="(?:\\\\u[0-9a-fA-F]{4}|["+CE+Ly+RE+"])*";bs.identifier=new RegExp(xE+tK,"g");bs.identifierStart=new RegExp(xE);bs.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+CE+Ly+RE+"])+");bs.newline=/[\n\r\u2028\u2029]/;bs.lineBreak=new RegExp(`\r
|`+bs.newline.source);bs.allLineBreaks=new RegExp(bs.lineBreak.source,"g")});var vh=C((dye,Ih)=>{"use strict";function _o(t,e){this.raw_options=wE(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}_o.prototype._get_array=function(t,e){var i=this.raw_options[t],r=e||[];return typeof i=="object"?i!==null&&typeof i.concat=="function"&&(r=i.concat()):typeof i=="string"&&(r=i.split(/[^a-zA-Z0-9_\/\-]+/)),r};_o.prototype._get_boolean=function(t,e){var i=this.raw_options[t],r=i===void 0?!!e:!!i;return r};_o.prototype._get_characters=function(t,e){var i=this.raw_options[t],r=e||"";return typeof i=="string"&&(r=i.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),r};_o.prototype._get_number=function(t,e){var i=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var r=parseInt(i,10);return isNaN(r)&&(r=e),r};_o.prototype._get_selection=function(t,e,i){var r=this._get_selection_list(t,e,i);if(r.length!==1)throw new Error("Invalid Option Value: The option '"+t+`' can only be one of the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return r[0]};_o.prototype._get_selection_list=function(t,e,i){if(!e||e.length===0)throw new Error("Selection list cannot be empty.");if(i=i||[e[0]],!this._is_valid_selection(i,e))throw new Error("Invalid Default Value!");var r=this._get_array(t,i);if(!this._is_valid_selection(r,e))throw new Error("Invalid Option Value: The option '"+t+`' can contain only the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return r};_o.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some(function(i){return e.indexOf(i)===-1})};function wE(t,e){var i={};t=kE(t);var r;for(r in t)r!==e&&(i[r]=t[r]);if(e&&t[e])for(r in t[e])i[r]=t[e][r];return i}function kE(t){var e={},i;for(i in t){var r=i.replace(/-/g,"_");e[r]=t[i]}return e}Ih.exports.Options=_o;Ih.exports.normalizeOpts=kE;Ih.exports.mergeOpts=wE});var My=C((pye,LE)=>{"use strict";var DE=vh().Options,iK=["before-newline","after-newline","preserve-newline"];function FE(t){DE.call(this,t,"js");var e=this.raw_options.brace_style||null;e==="expand-strict"?this.raw_options.brace_style="expand":e==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var i=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var r=0;r<i.length;r++)i[r]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=i[r];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",iK),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}FE.prototype=new DE;LE.exports.Options=FE});var Nh=C((hye,ME)=>{"use strict";var OE=RegExp.prototype.hasOwnProperty("sticky");function Ei(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}Ei.prototype.restart=function(){this.__position=0};Ei.prototype.back=function(){this.__position>0&&(this.__position-=1)};Ei.prototype.hasNext=function(){return this.__position<this.__input_length};Ei.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t};Ei.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e};Ei.prototype.__match=function(t,e){t.lastIndex=e;var i=t.exec(this.__input);return i&&!(OE&&t.sticky)&&i.index!==e&&(i=null),i};Ei.prototype.test=function(t,e){return e=e||0,e+=this.__position,e>=0&&e<this.__input_length?!!this.__match(t,e):!1};Ei.prototype.testChar=function(t,e){var i=this.peek(e);return t.lastIndex=0,i!==null&&t.test(i)};Ei.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e};Ei.prototype.read=function(t,e,i){var r="",n;return t&&(n=this.match(t),n&&(r+=n[0])),e&&(n||!t)&&(r+=this.readUntil(e,i)),r};Ei.prototype.readUntil=function(t,e){var i="",r=this.__position;t.lastIndex=this.__position;var n=t.exec(this.__input);return n?(r=n.index,e&&(r+=n[0].length)):r=this.__input_length,i=this.__input.substring(this.__position,r),this.__position=r,i};Ei.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)};Ei.prototype.get_regexp=function(t,e){var i=null,r="g";return e&&OE&&(r="y"),typeof t=="string"&&t!==""?i=new RegExp(t,r):t&&(i=new RegExp(t.source,r)),i};Ei.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))};Ei.prototype.peekUntilAfter=function(t){var e=this.__position,i=this.readUntilAfter(t);return this.__position=e,i};Ei.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t};ME.exports.InputScanner=Ei});var BE=C((mye,qE)=>{"use strict";function ya(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}ya.prototype.restart=function(){this.__position=0};ya.prototype.isEmpty=function(){return this.__tokens_length===0};ya.prototype.hasNext=function(){return this.__position<this.__tokens_length};ya.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t};ya.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__tokens_length&&(e=this.__tokens[t]),e};ya.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1};qE.exports.TokenStream=ya});var mc=C((gye,VE)=>{"use strict";function $n(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after)}$n.prototype.read=function(){var t=this._input.read(this._starting_pattern);return(!this._starting_pattern||t)&&(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t};$n.prototype.read_match=function(){return this._input.match(this._match_pattern)};$n.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e};$n.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e};$n.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e};$n.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e};$n.prototype._create=function(){return new $n(this._input,this)};$n.prototype._update=function(){};VE.exports.Pattern=$n});var GE=C((_ye,jE)=>{"use strict";var UE=mc().Pattern;function yo(t,e){UE.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}yo.prototype=new UE;yo.prototype.__set_whitespace_patterns=function(t,e){t+="\\t ",e+="\\n\\r",this._match_pattern=this._input.get_regexp("["+t+e+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]")};yo.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(t===" ")this.whitespace_before_token=" ";else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1,this.whitespace_before_token=e[this.newline_count]}return t};yo.prototype.matching=function(t,e){var i=this._create();return i.__set_whitespace_patterns(t,e),i._update(),i};yo.prototype._create=function(){return new yo(this._input,this)};yo.prototype.__split=function(t,e){t.lastIndex=0;for(var i=0,r=[],n=t.exec(e);n;)r.push(e.substring(i,n.index)),i=n.index+n[0].length,n=t.exec(e);return i<e.length?r.push(e.substring(i,e.length)):r.push(""),r};jE.exports.WhitespacePattern=yo});var _c=C((yye,By)=>{"use strict";var rK=Nh().InputScanner,HE=Fy().Token,qy=BE().TokenStream,nK=GE().WhitespacePattern,gc={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},zn=function(t,e){this._input=new rK(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new nK(this._input)};zn.prototype.tokenize=function(){this._input.restart(),this.__tokens=new qy,this._reset();for(var t,e=new HE(gc.START,""),i=null,r=[],n=new qy;e.type!==gc.EOF;){for(t=this._get_next_token(e,i);this._is_comment(t);)n.add(t),t=this._get_next_token(e,i);n.isEmpty()||(t.comments_before=n,n=new qy),t.parent=i,this._is_opening(t)?(r.push(i),i=t):i&&this._is_closing(t,i)&&(t.opened=i,i.closed=t,i=r.pop(),t.parent=i),t.previous=e,e.next=t,this.__tokens.add(t),e=t}return this.__tokens};zn.prototype._is_first_token=function(){return this.__tokens.isEmpty()};zn.prototype._reset=function(){};zn.prototype._get_next_token=function(t,e){this._readWhitespace();var i=this._input.read(/.+/g);return i?this._create_token(gc.RAW,i):this._create_token(gc.EOF,"")};zn.prototype._is_comment=function(t){return!1};zn.prototype._is_opening=function(t){return!1};zn.prototype._is_closing=function(t,e){return!1};zn.prototype._create_token=function(t,e){var i=new HE(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return i};zn.prototype._readWhitespace=function(){return this._patterns.whitespace.read()};By.exports.Tokenizer=zn;By.exports.TOKEN=gc});var Sh=C((Tye,WE)=>{"use strict";function Vy(t,e){t=typeof t=="string"?t:t.source,e=typeof e=="string"?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}Vy.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var i=this.__directive_pattern.exec(t);i;)e[i[1]]=i[2],i=this.__directive_pattern.exec(t);return e};Vy.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)};WE.exports.Directives=Vy});var Gy=C((bye,YE)=>{"use strict";var Uy=mc().Pattern,jy={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function wn(t,e){Uy.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},jy),this._excluded=Object.assign({},jy),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var i=new Uy(t);this.__patterns={handlebars_comment:i.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:i.starting_with(/{{{/).until_after(/}}}/),handlebars:i.starting_with(/{{/).until_after(/}}/),php:i.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:i.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:i.starting_with(/{%/).until_after(/%}/),django_value:i.starting_with(/{{/).until_after(/}}/),django_comment:i.starting_with(/{#/).until_after(/#}/),smarty:i.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:i.starting_with(/{\*/).until_after(/\*}/),smarty_literal:i.starting_with(/{literal}/).until_after(/{\/literal}/)}}wn.prototype=new Uy;wn.prototype._create=function(){return new wn(this._input,this)};wn.prototype._update=function(){this.__set_templated_pattern()};wn.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e};wn.prototype.read_options=function(t){var e=this._create();for(var i in jy)e._disabled[i]=t.templating.indexOf(i)===-1;return e._update(),e};wn.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e};wn.prototype.read=function(){var t="";this._match_pattern?t=this._input.read(this._starting_pattern):t=this._input.read(this._starting_pattern,this.__template_pattern);for(var e=this._read_template();e;)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t};wn.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||t.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")};wn.prototype._read_template=function(){var t="",e=this._input.peek();if(e==="<"){var i=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&i==="?"&&(t=t||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&i==="%"&&(t=t||this.__patterns.erb.read())}else e==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(t=t||this.__patterns.handlebars_comment.read(),t=t||this.__patterns.handlebars_unescaped.read(),t=t||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(t=t||this.__patterns.django_value.read()),this._excluded.django||(t=t||this.__patterns.django_comment.read(),t=t||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(t=t||this.__patterns.smarty_comment.read(),t=t||this.__patterns.smarty_literal.read(),t=t||this.__patterns.smarty.read()));return t};YE.exports.TemplatablePattern=wn});var Tc=C((Iye,yc)=>{"use strict";var sK=Nh().InputScanner,$E=_c().Tokenizer,Hy=_c().TOKEN,oK=Sh().Directives,rn=Oy(),aK=mc().Pattern,lK=Gy().TemplatablePattern;function Wy(t,e){return e.indexOf(t)!==-1}var Se={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:Hy.START,RAW:Hy.RAW,EOF:Hy.EOF},KE=new oK(/\/\*/,/\*\//),uK=/0[xX][0123456789abcdefABCDEF]*|0[oO][01234567]*|0[bB][01]*|\d+n|(?:\.\d+|\d+\.?\d*)(?:[eE][+-]?\d+)?/,cK=/[0-9]/,fK=/[^\d\.]/,dK=">>> === !== << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),Ta=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";Ta=Ta.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");Ta="\\?\\.(?!\\d) "+Ta;Ta=Ta.replace(/ /g,"|");var pK=new RegExp(Ta),zE="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),hK=zE.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),mK=new RegExp("^(?:"+hK.join("|")+")$"),Ph,Ci=function(t,e){$E.call(this,t,e),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var i=new aK(this._input),r=new lK(this._input).read_options(this._options);this.__patterns={template:r,identifier:r.starting_with(rn.identifier).matching(rn.identifierMatch),number:i.matching(uK),punct:i.matching(pK),comment:i.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:i.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:i.matching(/<!--/),html_comment_end:i.matching(/-->/),include:i.starting_with(/#include/).until_after(rn.lineBreak),shebang:i.starting_with(/#!/).until_after(rn.lineBreak),xml:i.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\]|)(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:r.until(/['\\\n\r\u2028\u2029]/),double_quote:r.until(/["\\\n\r\u2028\u2029]/),template_text:r.until(/[`\\$]/),template_expression:r.until(/[`}\\]/)}};Ci.prototype=new $E;Ci.prototype._is_comment=function(t){return t.type===Se.COMMENT||t.type===Se.BLOCK_COMMENT||t.type===Se.UNKNOWN};Ci.prototype._is_opening=function(t){return t.type===Se.START_BLOCK||t.type===Se.START_EXPR};Ci.prototype._is_closing=function(t,e){return(t.type===Se.END_BLOCK||t.type===Se.END_EXPR)&&e&&(t.text==="]"&&e.text==="["||t.text===")"&&e.text==="("||t.text==="}"&&e.text==="{")};Ci.prototype._reset=function(){Ph=!1};Ci.prototype._get_next_token=function(t,e){var i=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(Se.EOF,""):(i=i||this._read_non_javascript(r),i=i||this._read_string(r),i=i||this._read_word(t),i=i||this._read_singles(r),i=i||this._read_comment(r),i=i||this._read_regexp(r,t),i=i||this._read_xml(r,t),i=i||this._read_punctuation(),i=i||this._create_token(Se.UNKNOWN,this._input.next()),i)};Ci.prototype._read_word=function(t){var e;if(e=this.__patterns.identifier.read(),e!=="")return e=e.replace(rn.allLineBreaks,`
`),!(t.type===Se.DOT||t.type===Se.RESERVED&&(t.text==="set"||t.text==="get"))&&mK.test(e)?e==="in"||e==="of"?this._create_token(Se.OPERATOR,e):this._create_token(Se.RESERVED,e):this._create_token(Se.WORD,e);if(e=this.__patterns.number.read(),e!=="")return this._create_token(Se.WORD,e)};Ci.prototype._read_singles=function(t){var e=null;return t==="("||t==="["?e=this._create_token(Se.START_EXPR,t):t===")"||t==="]"?e=this._create_token(Se.END_EXPR,t):t==="{"?e=this._create_token(Se.START_BLOCK,t):t==="}"?e=this._create_token(Se.END_BLOCK,t):t===";"?e=this._create_token(Se.SEMICOLON,t):t==="."&&fK.test(this._input.peek(1))?e=this._create_token(Se.DOT,t):t===","&&(e=this._create_token(Se.COMMA,t)),e&&this._input.next(),e};Ci.prototype._read_punctuation=function(){var t=this.__patterns.punct.read();if(t!=="")return t==="="?this._create_token(Se.EQUALS,t):t==="?."?this._create_token(Se.DOT,t):this._create_token(Se.OPERATOR,t)};Ci.prototype._read_non_javascript=function(t){var e="";if(t==="#"){if(this._is_first_token()&&(e=this.__patterns.shebang.read(),e))return this._create_token(Se.UNKNOWN,e.trim()+`
`);if(e=this.__patterns.include.read(),e)return this._create_token(Se.UNKNOWN,e.trim()+`
`);t=this._input.next();var i="#";if(this._input.hasNext()&&this._input.testChar(cK)){do t=this._input.next(),i+=t;while(this._input.hasNext()&&t!=="#"&&t!=="=");return t==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(i+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(i+="{}",this._input.next(),this._input.next())),this._create_token(Se.WORD,i)}this._input.back()}else if(t==="<"&&this._is_first_token()){if(e=this.__patterns.html_comment_start.read(),e){for(;this._input.hasNext()&&!this._input.testChar(rn.newline);)e+=this._input.next();return Ph=!0,this._create_token(Se.COMMENT,e)}}else if(Ph&&t==="-"&&(e=this.__patterns.html_comment_end.read(),e))return Ph=!1,this._create_token(Se.COMMENT,e);return null};Ci.prototype._read_comment=function(t){var e=null;if(t==="/"){var i="";if(this._input.peek(1)==="*"){i=this.__patterns.block_comment.read();var r=KE.get_directives(i);r&&r.ignore==="start"&&(i+=KE.readIgnored(this._input)),i=i.replace(rn.allLineBreaks,`
`),e=this._create_token(Se.BLOCK_COMMENT,i),e.directives=r}else this._input.peek(1)==="/"&&(i=this.__patterns.comment.read(),e=this._create_token(Se.COMMENT,i))}return e};Ci.prototype._read_string=function(t){if(t==="`"||t==="'"||t==='"'){var e=this._input.next();return this.has_char_escapes=!1,t==="`"?e+=this._read_string_recursive("`",!0,"${"):e+=this._read_string_recursive(t),this.has_char_escapes&&this._options.unescape_strings&&(e=gK(e)),this._input.peek()===t&&(e+=this._input.next()),e=e.replace(rn.allLineBreaks,`
`),this._create_token(Se.STRING,e)}return null};Ci.prototype._allow_regexp_or_xml=function(t){return t.type===Se.RESERVED&&Wy(t.text,["return","case","throw","else","do","typeof","yield"])||t.type===Se.END_EXPR&&t.text===")"&&t.opened.previous.type===Se.RESERVED&&Wy(t.opened.previous.text,["if","while","for"])||Wy(t.type,[Se.COMMENT,Se.START_EXPR,Se.START_BLOCK,Se.START,Se.END_BLOCK,Se.OPERATOR,Se.EQUALS,Se.EOF,Se.SEMICOLON,Se.COMMA])};Ci.prototype._read_regexp=function(t,e){if(t==="/"&&this._allow_regexp_or_xml(e)){for(var i=this._input.next(),r=!1,n=!1;this._input.hasNext()&&(r||n||this._input.peek()!==t)&&!this._input.testChar(rn.newline);)i+=this._input.peek(),r?r=!1:(r=this._input.peek()==="\\",this._input.peek()==="["?n=!0:this._input.peek()==="]"&&(n=!1)),this._input.next();return this._input.peek()===t&&(i+=this._input.next(),i+=this._input.read(rn.identifier)),this._create_token(Se.STRING,i)}return null};Ci.prototype._read_xml=function(t,e){if(this._options.e4x&&t==="<"&&this._allow_regexp_or_xml(e)){var i="",r=this.__patterns.xml.read_match();if(r){for(var n=r[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),s=n.indexOf("{")===0,o=0;r;){var a=!!r[1],l=r[2],u=!!r[r.length-1]||l.slice(0,8)==="![CDATA[";if(!u&&(l===n||s&&l.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(a?--o:++o),i+=r[0],o<=0)break;r=this.__patterns.xml.read_match()}return r||(i+=this._input.match(/[\s\S]*/g)[0]),i=i.replace(rn.allLineBreaks,`
`),this._create_token(Se.STRING,i)}}return null};function gK(t){for(var e="",i=0,r=new sK(t),n=null;r.hasNext();)if(n=r.match(/([\s]|[^\\]|\\\\)+/g),n&&(e+=n[0]),r.peek()==="\\"){if(r.next(),r.peek()==="x")n=r.match(/x([0-9A-Fa-f]{2})/g);else if(r.peek()==="u")n=r.match(/u([0-9A-Fa-f]{4})/g);else{e+="\\",r.hasNext()&&(e+=r.next());continue}if(!n||(i=parseInt(n[1],16),i>126&&i<=255&&n[0].indexOf("x")===0))return t;if(i>=0&&i<32){e+="\\"+n[0];continue}else i===34||i===39||i===92?e+="\\"+String.fromCharCode(i):e+=String.fromCharCode(i)}return e}Ci.prototype._read_string_recursive=function(t,e,i){var r,n;t==="'"?n=this.__patterns.single_quote:t==='"'?n=this.__patterns.double_quote:t==="`"?n=this.__patterns.template_text:t==="}"&&(n=this.__patterns.template_expression);for(var s=n.read(),o="";this._input.hasNext();){if(o=this._input.next(),o===t||!e&&rn.newline.test(o)){this._input.back();break}else o==="\\"&&this._input.hasNext()?(r=this._input.peek(),r==="x"||r==="u"?this.has_char_escapes=!0:r==="\r"&&this._input.peek(1)===`
`&&this._input.next(),o+=this._input.next()):i&&(i==="${"&&o==="$"&&this._input.peek()==="{"&&(o+=this._input.next()),i===o&&(t==="`"?o+=this._read_string_recursive("}",e,"`"):o+=this._read_string_recursive("`",e,"${"),this._input.hasNext()&&(o+=this._input.next())));o+=n.read(),s+=o}return s};yc.exports.Tokenizer=Ci;yc.exports.TOKEN=Se;yc.exports.positionable_operators=dK.slice();yc.exports.line_starters=zE.slice()});var ZE=C((vye,JE)=>{"use strict";var _K=bh().Output,yK=Fy().Token,Ah=Oy(),TK=My().Options,bK=Tc().Tokenizer,Nc=Tc().line_starters,bc=Tc().positionable_operators,W=Tc().TOKEN;function $e(t,e){return e.indexOf(t)!==-1}function IK(t){return t.replace(/^\s+/g,"")}function vK(t){for(var e={},i=0;i<t.length;i++)e[t[i].replace(/-/g,"_")]=t[i];return e}function nn(t,e){return t&&t.type===W.RESERVED&&t.text===e}function At(t,e){return t&&t.type===W.RESERVED&&$e(t.text,e)}var Eh=["case","return","do","if","throw","else","await","break","continue","async"],NK=["before-newline","after-newline","preserve-newline"],Ic=vK(NK),QE=[Ic.before_newline,Ic.preserve_newline],Pe={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function XE(t,e){e.multiline_frame||e.mode===Pe.ForInitializer||e.mode===Pe.Conditional||t.remove_indent(e.start_line_index)}function SK(t){t=t.replace(Ah.allLineBreaks,`
`);for(var e=[],i=t.indexOf(`
`);i!==-1;)e.push(t.substring(0,i)),t=t.substring(i+1),i=t.indexOf(`
`);return t.length&&e.push(t),e}function To(t){return t===Pe.ArrayLiteral}function vc(t){return $e(t,[Pe.Expression,Pe.ForInitializer,Pe.Conditional])}function PK(t,e){for(var i=0;i<t.length;i++){var r=t[i].trim();if(r.charAt(0)!==e)return!1}return!0}function AK(t,e){for(var i=0,r=t.length,n;i<r;i++)if(n=t[i],n&&n.indexOf(e)!==0)return!1;return!0}function ot(t,e){e=e||{},this._source_text=t||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new TK(e)}ot.prototype.create_flags=function(t,e){var i=0;t&&(i=t.indentation_level,!this._output.just_added_newline()&&t.line_indent_level>i&&(i=t.line_indent_level));var r={mode:e,parent:t,last_token:t?t.last_token:new yK(W.START_BLOCK,""),last_word:t?t.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:i,alignment:0,line_indent_level:t?t.line_indent_level:i,start_line_index:this._output.get_line_number(),ternary_depth:0};return r};ot.prototype._reset=function(t){var e=t.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new _K(this._options,e),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(Pe.BlockStatement);var i=new bK(t,this._options);return this._tokens=i.tokenize(),t};ot.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t,e=this._reset(this._source_text),i=this._options.eol;this._options.eol==="auto"&&(i=`
`,e&&Ah.lineBreak.test(e||"")&&(i=e.match(Ah.lineBreak)[0]));for(var r=this._tokens.next();r;)this.handle_token(r),this._last_last_text=this._flags.last_token.text,this._flags.last_token=r,r=this._tokens.next();return t=this._output.get_code(i),t};ot.prototype.handle_token=function(t,e){t.type===W.START_EXPR?this.handle_start_expr(t):t.type===W.END_EXPR?this.handle_end_expr(t):t.type===W.START_BLOCK?this.handle_start_block(t):t.type===W.END_BLOCK?this.handle_end_block(t):t.type===W.WORD?this.handle_word(t):t.type===W.RESERVED?this.handle_word(t):t.type===W.SEMICOLON?this.handle_semicolon(t):t.type===W.STRING?this.handle_string(t):t.type===W.EQUALS?this.handle_equals(t):t.type===W.OPERATOR?this.handle_operator(t):t.type===W.COMMA?this.handle_comma(t):t.type===W.BLOCK_COMMENT?this.handle_block_comment(t,e):t.type===W.COMMENT?this.handle_comment(t,e):t.type===W.DOT?this.handle_dot(t):t.type===W.EOF?this.handle_eof(t):t.type===W.UNKNOWN?this.handle_unknown(t,e):this.handle_unknown(t,e)};ot.prototype.handle_whitespace_and_comments=function(t,e){var i=t.newlines,r=this._options.keep_array_indentation&&To(this._flags.mode);if(t.comments_before)for(var n=t.comments_before.next();n;)this.handle_whitespace_and_comments(n,e),this.handle_token(n,e),n=t.comments_before.next();if(r)for(var s=0;s<i;s+=1)this.print_newline(s>0,e);else if(this._options.max_preserve_newlines&&i>this._options.max_preserve_newlines&&(i=this._options.max_preserve_newlines),this._options.preserve_newlines&&i>1){this.print_newline(!1,e);for(var o=1;o<i;o+=1)this.print_newline(!0,e)}};var Yy=["async","break","continue","return","throw","yield"];ot.prototype.allow_wrap_or_preserved_newline=function(t,e){if(e=e===void 0?!1:e,!this._output.just_added_newline()){var i=this._options.preserve_newlines&&t.newlines||e,r=$e(this._flags.last_token.text,bc)||$e(t.text,bc);if(r){var n=$e(this._flags.last_token.text,bc)&&$e(this._options.operator_position,QE)||$e(t.text,bc);i=i&&n}if(i)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(At(this._flags.last_token,Yy))return;this._output.set_wrap_point()}}};ot.prototype.print_newline=function(t,e){if(!e&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==W.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var i=this._tokens.peek();this._flags.mode===Pe.Statement&&!(this._flags.if_block&&nn(i,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(t)&&(this._flags.multiline_frame=!0)};ot.prototype.print_token_line_indentation=function(t){this._output.just_added_newline()&&(this._options.keep_array_indentation&&t.newlines&&(t.text==="["||To(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(t.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))};ot.prototype.print_token=function(t){if(this._output.raw){this._output.add_raw_token(t);return}if(this._options.comma_first&&t.previous&&t.previous.type===W.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var e=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(e),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(t),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(t),this._output.non_breaking_space=!0,this._output.add_token(t.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)};ot.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};ot.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};ot.prototype.set_mode=function(t){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,t),this._flags=this.create_flags(this._previous_flags,t),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};ot.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===Pe.Statement&&XE(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};ot.prototype.start_of_object_property=function(){return this._flags.parent.mode===Pe.ObjectLiteral&&this._flags.mode===Pe.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||At(this._flags.last_token,["get","set"]))};ot.prototype.start_of_statement=function(t){var e=!1;return e=e||At(this._flags.last_token,["var","let","const"])&&t.type===W.WORD,e=e||nn(this._flags.last_token,"do"),e=e||!(this._flags.parent.mode===Pe.ObjectLiteral&&this._flags.mode===Pe.Statement)&&At(this._flags.last_token,Yy)&&!t.newlines,e=e||nn(this._flags.last_token,"else")&&!(nn(t,"if")&&!t.comments_before),e=e||this._flags.last_token.type===W.END_EXPR&&(this._previous_flags.mode===Pe.ForInitializer||this._previous_flags.mode===Pe.Conditional),e=e||this._flags.last_token.type===W.WORD&&this._flags.mode===Pe.BlockStatement&&!this._flags.in_case&&!(t.text==="--"||t.text==="++")&&this._last_last_text!=="function"&&t.type!==W.WORD&&t.type!==W.RESERVED,e=e||this._flags.mode===Pe.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||At(this._flags.last_token,["get","set"])),e?(this.set_mode(Pe.Statement),this.indent(),this.handle_whitespace_and_comments(t,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t,At(t,["do","for","if","while"])),!0):!1};ot.prototype.handle_start_expr=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t);var e=Pe.Expression;if(t.text==="["){if(this._flags.last_token.type===W.WORD||this._flags.last_token.text===")"){At(this._flags.last_token,Nc)&&(this._output.space_before_token=!0),this.print_token(t),this.set_mode(e),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}e=Pe.ArrayLiteral,To(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),$e(this._flags.last_token.type,[W.START_EXPR,W.END_EXPR,W.WORD,W.OPERATOR,W.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===W.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,e=Pe.ForInitializer):$e(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,e=Pe.Conditional):$e(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&t.whitespace_before===""?this._output.space_before_token=!1:($e(this._flags.last_token.text,Nc)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===W.EQUALS||this._flags.last_token.type===W.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t);else if(this._flags.last_token.type===W.WORD){this._output.space_before_token=!1;var i=this._tokens.peek(-3);if(this._options.space_after_named_function&&i){var r=this._tokens.peek(-4);At(i,["async","function"])||i.text==="*"&&At(r,["async","function"])?this._output.space_before_token=!0:this._flags.mode===Pe.ObjectLiteral&&(i.text==="{"||i.text===","||i.text==="*"&&(r.text==="{"||r.text===","))&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(t);(this._flags.last_token.type===W.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&($e(this._last_last_text,["function","yield"])||this._flags.mode===Pe.ObjectLiteral&&$e(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===W.START_BLOCK?this.print_newline():(this._flags.last_token.type===W.END_EXPR||this._flags.last_token.type===W.START_EXPR||this._flags.last_token.type===W.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===W.COMMA)&&this.allow_wrap_or_preserved_newline(t,t.newlines),this.print_token(t),this.set_mode(e),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()};ot.prototype.handle_end_expr=function(t){for(;this._flags.mode===Pe.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(t,t.text==="]"&&To(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===W.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(t),this.restore_mode(),XE(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===Pe.Conditional&&(this._previous_flags.mode=Pe.Expression,this._flags.do_block=!1,this._flags.do_while=!1)};ot.prototype.handle_start_block=function(t){this.handle_whitespace_and_comments(t);var e=this._tokens.peek(),i=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===W.END_EXPR?(this.set_mode(Pe.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(Pe.BlockStatement):i&&($e(i.text,[":",","])&&$e(e.type,[W.STRING,W.WORD,W.RESERVED])||$e(e.text,["get","set","..."])&&$e(i.type,[W.WORD,W.RESERVED]))?$e(this._last_last_text,["class","interface"])?this.set_mode(Pe.BlockStatement):this.set_mode(Pe.ObjectLiteral):this._flags.last_token.type===W.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(Pe.BlockStatement):$e(this._flags.last_token.type,[W.EQUALS,W.START_EXPR,W.COMMA,W.OPERATOR])||At(this._flags.last_token,["return","throw","import","default"])?this.set_mode(Pe.ObjectLiteral):this.set_mode(Pe.BlockStatement);var r=!e.comments_before&&e.text==="}",n=r&&this._flags.last_word==="function"&&this._flags.last_token.type===W.END_EXPR;if(this._options.brace_preserve_inline){var s=0,o=null;this._flags.inline_frame=!0;do if(s+=1,o=this._tokens.peek(s-1),o.newlines){this._flags.inline_frame=!1;break}while(o.type!==W.EOF&&!(o.type===W.END_BLOCK&&o.opened===t))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==W.OPERATOR&&(n||this._flags.last_token.type===W.EQUALS||At(this._flags.last_token,Eh)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(To(this._previous_flags.mode)&&(this._flags.last_token.type===W.START_EXPR||this._flags.last_token.type===W.COMMA)&&((this._flags.last_token.type===W.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===W.COMMA||this._flags.last_token.type===W.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(t),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==W.OPERATOR&&this._flags.last_token.type!==W.START_EXPR&&(this._flags.last_token.type===W.START_BLOCK&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(t),this.indent(),!r&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()};ot.prototype.handle_end_block=function(t){for(this.handle_whitespace_and_comments(t);this._flags.mode===Pe.Statement;)this.restore_mode();var e=this._flags.last_token.type===W.START_BLOCK;this._flags.inline_frame&&!e?this._output.space_before_token=!0:this._options.brace_style==="expand"?e||this.print_newline():e||(To(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(t)};ot.prototype.handle_word=function(t){if(t.type===W.RESERVED){if($e(t.text,["set","get"])&&this._flags.mode!==Pe.ObjectLiteral)t.type=W.WORD;else if(t.text==="import"&&this._tokens.peek().text==="(")t.type=W.WORD;else if($e(t.text,["as","from"])&&!this._flags.import_block)t.type=W.WORD;else if(this._flags.mode===Pe.ObjectLiteral){var e=this._tokens.peek();e.text===":"&&(t.type=W.WORD)}}if(this.start_of_statement(t)?At(this._flags.last_token,["var","let","const"])&&t.type===W.WORD&&(this._flags.declaration_statement=!0):t.newlines&&!vc(this._flags.mode)&&(this._flags.last_token.type!==W.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==W.EQUALS&&(this._options.preserve_newlines||!At(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(t),this.print_newline()):this.handle_whitespace_and_comments(t),this._flags.do_block&&!this._flags.do_while)if(nn(t,"while")){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&nn(t,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===Pe.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&At(t,["case","default"])){this.print_newline(),this._flags.last_token.type!==W.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(t),this._flags.in_case=!0;return}if((this._flags.last_token.type===W.COMMA||this._flags.last_token.type===W.START_EXPR||this._flags.last_token.type===W.EQUALS||this._flags.last_token.type===W.OPERATOR)&&(this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t)),nn(t,"function")){($e(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!($e(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===W.OPERATOR))&&!this._output.just_added_blankline()&&!t.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===W.RESERVED||this._flags.last_token.type===W.WORD?At(this._flags.last_token,["get","set","new","export"])||At(this._flags.last_token,Yy)?this._output.space_before_token=!0:nn(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===W.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(vc(this._flags.mode)||To(this._flags.mode))||this.print_newline(),this.print_token(t),this._flags.last_word=t.text;return}var i="NONE";if(this._flags.last_token.type===W.END_BLOCK?this._previous_flags.inline_frame?i="SPACE":At(t,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines?i="NEWLINE":(i="SPACE",this._output.space_before_token=!0):i="NEWLINE":this._flags.last_token.type===W.SEMICOLON&&this._flags.mode===Pe.BlockStatement?i="NEWLINE":this._flags.last_token.type===W.SEMICOLON&&vc(this._flags.mode)?i="SPACE":this._flags.last_token.type===W.STRING?i="NEWLINE":this._flags.last_token.type===W.RESERVED||this._flags.last_token.type===W.WORD||this._flags.last_token.text==="*"&&($e(this._last_last_text,["function","yield"])||this._flags.mode===Pe.ObjectLiteral&&$e(this._last_last_text,["{",","]))?i="SPACE":this._flags.last_token.type===W.START_BLOCK?this._flags.inline_frame?i="SPACE":i="NEWLINE":this._flags.last_token.type===W.END_EXPR&&(this._output.space_before_token=!0,i="NEWLINE"),At(t,Nc)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?i="SPACE":i="NEWLINE"),At(t,["else","catch","finally"]))if((!(this._flags.last_token.type===W.END_BLOCK&&this._previous_flags.mode===Pe.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var r=this._output.current_line;r.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else i==="NEWLINE"?At(this._flags.last_token,Eh)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&At(t,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==W.END_EXPR?(this._flags.last_token.type!==W.START_EXPR||!At(t,["var","let","const"]))&&this._flags.last_token.text!==":"&&(nn(t,"if")&&nn(t.previous,"else")?this._output.space_before_token=!0:this.print_newline()):At(t,Nc)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&To(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():i==="SPACE"&&(this._output.space_before_token=!0);t.previous&&(t.previous.type===W.WORD||t.previous.type===W.RESERVED)&&(this._output.space_before_token=!0),this.print_token(t),this._flags.last_word=t.text,t.type===W.RESERVED&&(t.text==="do"?this._flags.do_block=!0:t.text==="if"?this._flags.if_block=!0:t.text==="import"?this._flags.import_block=!0:this._flags.import_block&&nn(t,"from")&&(this._flags.import_block=!1))};ot.prototype.handle_semicolon=function(t){this.start_of_statement(t)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(t);for(var e=this._tokens.peek();this._flags.mode===Pe.Statement&&!(this._flags.if_block&&nn(e,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(t)};ot.prototype.handle_string=function(t){t.text.startsWith("`")&&t.newlines===0&&t.whitespace_before===""&&(t.previous.text===")"||this._flags.last_token.type===W.WORD)||(this.start_of_statement(t)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(t),this._flags.last_token.type===W.RESERVED||this._flags.last_token.type===W.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===W.COMMA||this._flags.last_token.type===W.START_EXPR||this._flags.last_token.type===W.EQUALS||this._flags.last_token.type===W.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t):t.text.startsWith("`")&&this._flags.last_token.type===W.END_EXPR&&(t.previous.text==="]"||t.previous.text===")")&&t.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(t)};ot.prototype.handle_equals=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0};ot.prototype.handle_comma=function(t){this.handle_whitespace_and_comments(t,!0),this.print_token(t),this._output.space_before_token=!0,this._flags.declaration_statement?(vc(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)):this._flags.mode===Pe.ObjectLiteral||this._flags.mode===Pe.Statement&&this._flags.parent.mode===Pe.ObjectLiteral?(this._flags.mode===Pe.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)};ot.prototype.handle_operator=function(t){var e=t.text==="*"&&(At(this._flags.last_token,["function","yield"])||$e(this._flags.last_token.type,[W.START_BLOCK,W.COMMA,W.END_BLOCK,W.SEMICOLON])),i=$e(t.text,["-","+"])&&($e(this._flags.last_token.type,[W.START_BLOCK,W.START_EXPR,W.EQUALS,W.OPERATOR])||$e(this._flags.last_token.text,Nc)||this._flags.last_token.text===",");if(!this.start_of_statement(t)){var r=!e;this.handle_whitespace_and_comments(t,r)}if(At(this._flags.last_token,Eh)){this._output.space_before_token=!0,this.print_token(t);return}if(t.text==="*"&&this._flags.last_token.type===W.DOT){this.print_token(t);return}if(t.text==="::"){this.print_token(t);return}if(this._flags.last_token.type===W.OPERATOR&&$e(this._options.operator_position,QE)&&this.allow_wrap_or_preserved_newline(t),t.text===":"&&this._flags.in_case){this.print_token(t),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==W.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0;return}var n=!0,s=!0,o=!1;if(t.text===":"?this._flags.ternary_depth===0?n=!1:(this._flags.ternary_depth-=1,o=!0):t.text==="?"&&(this._flags.ternary_depth+=1),!i&&!e&&this._options.preserve_newlines&&$e(t.text,bc)){var a=t.text===":",l=a&&o,u=a&&!o;switch(this._options.operator_position){case Ic.before_newline:this._output.space_before_token=!u,this.print_token(t),(!a||l)&&this.allow_wrap_or_preserved_newline(t),this._output.space_before_token=!0;return;case Ic.after_newline:this._output.space_before_token=!0,!a||l?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(t):this._output.space_before_token=!1,this.print_token(t),this._output.space_before_token=!0;return;case Ic.preserve_newline:u||this.allow_wrap_or_preserved_newline(t),n=!(this._output.just_added_newline()||u),this._output.space_before_token=n,this.print_token(t),this._output.space_before_token=!0;return}}if(e){this.allow_wrap_or_preserved_newline(t),n=!1;var c=this._tokens.peek();s=c&&$e(c.type,[W.WORD,W.RESERVED])}else t.text==="..."?(this.allow_wrap_or_preserved_newline(t),n=this._flags.last_token.type===W.START_BLOCK,s=!1):($e(t.text,["--","++","!","~"])||i)&&((this._flags.last_token.type===W.COMMA||this._flags.last_token.type===W.START_EXPR)&&this.allow_wrap_or_preserved_newline(t),n=!1,s=!1,t.newlines&&(t.text==="--"||t.text==="++")&&this.print_newline(!1,!0),this._flags.last_token.text===";"&&vc(this._flags.mode)&&(n=!0),this._flags.last_token.type===W.RESERVED?n=!0:this._flags.last_token.type===W.END_EXPR?n=!(this._flags.last_token.text==="]"&&(t.text==="--"||t.text==="++")):this._flags.last_token.type===W.OPERATOR&&(n=$e(t.text,["--","-","++","+"])&&$e(this._flags.last_token.text,["--","-","++","+"]),$e(t.text,["+","-"])&&$e(this._flags.last_token.text,["--","++"])&&(s=!0)),(this._flags.mode===Pe.BlockStatement&&!this._flags.inline_frame||this._flags.mode===Pe.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline());this._output.space_before_token=this._output.space_before_token||n,this.print_token(t),this._output.space_before_token=s};ot.prototype.handle_block_comment=function(t,e){if(this._output.raw){this._output.add_raw_token(t),t.directives&&t.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(t.directives){this.print_newline(!1,e),this.print_token(t),t.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!Ah.newline.test(t.text)&&!t.newlines){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0;return}else this.print_block_commment(t,e)};ot.prototype.print_block_commment=function(t,e){var i=SK(t.text),r,n=!1,s=!1,o=t.whitespace_before,a=o.length;if(this.print_newline(!1,e),this.print_token_line_indentation(t),this._output.add_token(i[0]),this.print_newline(!1,e),i.length>1){for(i=i.slice(1),n=PK(i,"*"),s=AK(i,o),n&&(this._flags.alignment=1),r=0;r<i.length;r++)n?(this.print_token_line_indentation(t),this._output.add_token(IK(i[r]))):s&&i[r]?(this.print_token_line_indentation(t),this._output.add_token(i[r].substring(a))):(this._output.current_line.set_indent(-1),this._output.add_token(i[r])),this.print_newline(!1,e);this._flags.alignment=0}};ot.prototype.handle_comment=function(t,e){t.newlines?this.print_newline(!1,e):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(t),this.print_newline(!1,e)};ot.prototype.handle_dot=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t,!0),At(this._flags.last_token,Eh)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(t,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(t)};ot.prototype.handle_unknown=function(t,e){this.print_token(t),t.text[t.text.length-1]===`
`&&this.print_newline(!1,e)};ot.prototype.handle_eof=function(t){for(;this._flags.mode===Pe.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t)};JE.exports.Beautifier=ot});var eC=C((Nye,Ky)=>{"use strict";var EK=ZE().Beautifier,CK=My().Options;function RK(t,e){var i=new EK(t,e);return i.beautify()}Ky.exports=RK;Ky.exports.defaultOptions=function(){return new CK}});var $y=C((Sye,rC)=>{"use strict";var tC=vh().Options;function iC(t){tC.call(this,t,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var e=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||e;var i=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var r=0;r<i.length;r++)i[r]!=="expand"?this.brace_style="collapse":this.brace_style=i[r]}iC.prototype=new tC;rC.exports.Options=iC});var aC=C((Pye,oC)=>{"use strict";var xK=$y().Options,wK=bh().Output,kK=Nh().InputScanner,DK=Sh().Directives,nC=new DK(/\/\*/,/\*\//),sC=/\r\n|[\r\n]/,FK=/\r\n|[\r\n]/g,Ch=/\s/,LK=/(?:\s|\n)+/g,OK=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,MK=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function Is(t,e){this._source_text=t||"",this._options=new xK(e),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}Is.prototype.eatString=function(t){var e="";for(this._ch=this._input.next();this._ch;){if(e+=this._ch,this._ch==="\\")e+=this._input.next();else if(t.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return e};Is.prototype.eatWhitespace=function(t){for(var e=Ch.test(this._input.peek()),i=0;Ch.test(this._input.peek());)this._ch=this._input.next(),t&&this._ch===`
`&&(i===0||i<this._options.max_preserve_newlines)&&(i++,this._output.add_new_line(!0));return e};Is.prototype.foundNestedPseudoClass=function(){for(var t=0,e=1,i=this._input.peek(e);i;){if(i==="{")return!0;if(i==="(")t+=1;else if(i===")"){if(t===0)return!1;t-=1}else if(i===";"||i==="}")return!1;e++,i=this._input.peek(e)}return!1};Is.prototype.print_string=function(t){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(t)};Is.prototype.preserveSingleSpace=function(t){t&&(this._output.space_before_token=!0)};Is.prototype.indent=function(){this._indentLevel++};Is.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--};Is.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;e==="auto"&&(e=`
`,t&&sC.test(t||"")&&(e=t.match(sC)[0])),t=t.replace(FK,`
`);var i=t.match(/^[\t ]*/)[0];this._output=new wK(this._options,i),this._input=new kK(t),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var r=0,n=!1,s=!1,o=!1,a=!1,l=!1,u=this._ch,c,f,d;c=this._input.read(LK),f=c!=="",d=u,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),u=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var p=this._input.read(OK),h=nC.get_directives(p);h&&h.ignore==="start"&&(p+=nC.readIgnored(this._input)),this.print_string(p),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(MK)),this.eatWhitespace(!0);else if(this._ch==="@")if(this.preserveSingleSpace(f),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var T=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);T.match(/[ :]$/)&&(T=this.eatString(": ").replace(/\s$/,""),this.print_string(T),this._output.space_before_token=!0),T=T.replace(/\s$/,""),T==="extend"?a=!0:T==="import"&&(l=!0),T in this.NESTED_AT_RULE?(this._nestedLevel+=1,T in this.CONDITIONAL_GROUP_RULE&&(o=!0)):!n&&r===0&&T.indexOf(":")!==-1&&(s=!0,this.indent())}else this._ch==="#"&&this._input.peek()==="{"?(this.preserveSingleSpace(f),this.print_string(this._ch+this.eatString("}"))):this._ch==="{"?(s&&(s=!1,this.outdent()),o?(o=!1,n=this._indentLevel>=this._nestedLevel):n=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&n&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line()):this._ch==="}"?(this.outdent(),this._output.add_new_line(),d==="{"&&this._output.trim(!0),l=!1,a=!1,s&&(this.outdent(),s=!1),this.print_string(this._ch),n=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0)):this._ch===":"?(n||o)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!a&&r===0?(this.print_string(":"),s||(s=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):this._ch==='"'||this._ch==="'"?(this.preserveSingleSpace(f),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):this._ch===";"?r===0?(s&&(this.outdent(),s=!1),a=!1,l=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):this._ch==="("?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),r++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),r&&(r--,this.outdent()))):(this.preserveSingleSpace(f),this.print_string(this._ch),this.eatWhitespace(),r++,this.indent()):this._ch===")"?(r&&(r--,this.outdent()),this.print_string(this._ch)):this._ch===","?(this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&!s&&r===0&&!l?this._output.add_new_line():this._output.space_before_token=!0):(this._ch===">"||this._ch==="+"||this._ch==="~")&&!s&&r===0?this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&Ch.test(this._ch)&&(this._ch="")):this._ch==="]"?this.print_string(this._ch):this._ch==="["?(this.preserveSingleSpace(f),this.print_string(this._ch)):this._ch==="="?(this.eatWhitespace(),this.print_string("="),Ch.test(this._ch)&&(this._ch="")):this._ch==="!"&&!this._input.lookBack("\\")?(this.print_string(" "),this.print_string(this._ch)):(this.preserveSingleSpace(f),this.print_string(this._ch));var N=this._output.get_code(e);return N};oC.exports.Beautifier=Is});var lC=C((Aye,zy)=>{"use strict";var qK=aC().Beautifier,BK=$y().Options;function VK(t,e){var i=new qK(t,e);return i.beautify()}zy.exports=VK;zy.exports.defaultOptions=function(){return new BK}});var Qy=C((Eye,fC)=>{"use strict";var uC=vh().Options;function cC(t){uC.call(this,t,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}cC.prototype=new uC;fC.exports.Options=cC});var Zy=C((Cye,Jy)=>{"use strict";var pC=_c().Tokenizer,Xy=_c().TOKEN,UK=Sh().Directives,jK=Gy().TemplatablePattern,GK=mc().Pattern,zt={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:Xy.START,RAW:Xy.RAW,EOF:Xy.EOF},dC=new UK(/<\!--/,/-->/),Bi=function(t,e){pC.call(this,t,e),this._current_tag_name="";var i=new jK(this._input).read_options(this._options),r=new GK(this._input);if(this.__patterns={word:i.until(/[\n\r\t <]/),single_quote:i.until_after(/'/),double_quote:i.until_after(/"/),attribute:i.until(/[\n\r\t =>]|\/>/),element_name:i.until(/[\n\r\t >\/]/),handlebars_comment:r.starting_with(/{{!--/).until_after(/--}}/),handlebars:r.starting_with(/{{/).until_after(/}}/),handlebars_open:r.until(/[\n\r\t }]/),handlebars_raw_close:r.until(/}}/),comment:r.starting_with(/<!--/).until_after(/-->/),cdata:r.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:r.starting_with(/<!\[/).until_after(/]>/),processing:r.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var n=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=r.matching(n).until_after(n)}};Bi.prototype=new pC;Bi.prototype._is_comment=function(t){return!1};Bi.prototype._is_opening=function(t){return t.type===zt.TAG_OPEN};Bi.prototype._is_closing=function(t,e){return t.type===zt.TAG_CLOSE&&e&&((t.text===">"||t.text==="/>")&&e.text[0]==="<"||t.text==="}}"&&e.text[0]==="{"&&e.text[1]==="{")};Bi.prototype._reset=function(){this._current_tag_name=""};Bi.prototype._get_next_token=function(t,e){var i=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(zt.EOF,""):(i=i||this._read_open_handlebars(r,e),i=i||this._read_attribute(r,t,e),i=i||this._read_close(r,e),i=i||this._read_raw_content(r,t,e),i=i||this._read_content_word(r),i=i||this._read_comment_or_cdata(r),i=i||this._read_processing(r),i=i||this._read_open(r,e),i=i||this._create_token(zt.UNKNOWN,this._input.next()),i)};Bi.prototype._read_comment_or_cdata=function(t){var e=null,i=null,r=null;if(t==="<"){var n=this._input.peek(1);n==="!"&&(i=this.__patterns.comment.read(),i?(r=dC.get_directives(i),r&&r.ignore==="start"&&(i+=dC.readIgnored(this._input))):i=this.__patterns.cdata.read()),i&&(e=this._create_token(zt.COMMENT,i),e.directives=r)}return e};Bi.prototype._read_processing=function(t){var e=null,i=null,r=null;if(t==="<"){var n=this._input.peek(1);(n==="!"||n==="?")&&(i=this.__patterns.conditional_comment.read(),i=i||this.__patterns.processing.read()),i&&(e=this._create_token(zt.COMMENT,i),e.directives=r)}return e};Bi.prototype._read_open=function(t,e){var i=null,r=null;return e||t==="<"&&(i=this._input.next(),this._input.peek()==="/"&&(i+=this._input.next()),i+=this.__patterns.element_name.read(),r=this._create_token(zt.TAG_OPEN,i)),r};Bi.prototype._read_open_handlebars=function(t,e){var i=null,r=null;return e||this._options.indent_handlebars&&t==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(i=this.__patterns.handlebars_comment.read(),i=i||this.__patterns.handlebars.read(),r=this._create_token(zt.COMMENT,i)):(i=this.__patterns.handlebars_open.read(),r=this._create_token(zt.TAG_OPEN,i))),r};Bi.prototype._read_close=function(t,e){var i=null,r=null;return e&&(e.text[0]==="<"&&(t===">"||t==="/"&&this._input.peek(1)===">")?(i=this._input.next(),t==="/"&&(i+=this._input.next()),r=this._create_token(zt.TAG_CLOSE,i)):e.text[0]==="{"&&t==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),r=this._create_token(zt.TAG_CLOSE,"}}"))),r};Bi.prototype._read_attribute=function(t,e,i){var r=null,n="";if(i&&i.text[0]==="<")if(t==="=")r=this._create_token(zt.EQUALS,this._input.next());else if(t==='"'||t==="'"){var s=this._input.next();t==='"'?s+=this.__patterns.double_quote.read():s+=this.__patterns.single_quote.read(),r=this._create_token(zt.VALUE,s)}else n=this.__patterns.attribute.read(),n&&(e.type===zt.EQUALS?r=this._create_token(zt.VALUE,n):r=this._create_token(zt.ATTRIBUTE,n));return r};Bi.prototype._is_content_unformatted=function(t){return this._options.void_elements.indexOf(t)===-1&&(this._options.content_unformatted.indexOf(t)!==-1||this._options.unformatted.indexOf(t)!==-1)};Bi.prototype._read_raw_content=function(t,e,i){var r="";if(i&&i.text[0]==="{")r=this.__patterns.handlebars_raw_close.read();else if(e.type===zt.TAG_CLOSE&&e.opened.text[0]==="<"&&e.text[0]!=="/"){var n=e.opened.text.substr(1).toLowerCase();if(n==="script"||n==="style"){var s=this._read_comment_or_cdata(t);if(s)return s.type=zt.TEXT,s;r=this._input.readUntil(new RegExp("</"+n+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(n)&&(r=this._input.readUntil(new RegExp("</"+n+"[\\n\\r\\t ]*?>","ig")))}return r?this._create_token(zt.TEXT,r):null};Bi.prototype._read_content_word=function(t){var e="";if(this._options.unformatted_content_delimiter&&t===this._options.unformatted_content_delimiter[0]&&(e=this.__patterns.unformatted_content_delimiter.read()),e||(e=this.__patterns.word.read()),e)return this._create_token(zt.TEXT,e)};Jy.exports.Tokenizer=Bi;Jy.exports.TOKEN=zt});var _C=C((Rye,gC)=>{"use strict";var HK=Qy().Options,WK=bh().Output,YK=Zy().Tokenizer,yt=Zy().TOKEN,hC=/\r\n|[\r\n]/,KK=/\r\n|[\r\n]/g,on=function(t,e){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=t.max_preserve_newlines,this.preserve_newlines=t.preserve_newlines,this._output=new WK(t,e)};on.prototype.current_line_has_match=function(t){return this._output.current_line.has_match(t)};on.prototype.set_space_before_token=function(t,e){this._output.space_before_token=t,this._output.non_breaking_space=e};on.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()};on.prototype.add_raw_token=function(t){this._output.add_raw_token(t)};on.prototype.print_preserved_newlines=function(t){var e=0;t.type!==yt.TEXT&&t.previous.type!==yt.TEXT&&(e=t.newlines?1:0),this.preserve_newlines&&(e=t.newlines<this.max_preserve_newlines+1?t.newlines:this.max_preserve_newlines+1);for(var i=0;i<e;i++)this.print_newline(i>0);return e!==0};on.prototype.traverse_whitespace=function(t){return t.whitespace_before||t.newlines?(this.print_preserved_newlines(t)||(this._output.space_before_token=!0),!0):!1};on.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped};on.prototype.print_newline=function(t){this._output.add_new_line(t)};on.prototype.print_token=function(t){t.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(t.text))};on.prototype.indent=function(){this.indent_level++};on.prototype.get_full_indent=function(t){return t=this.indent_level+(t||0),t<1?"":this._output.get_indent_string(t)};var $K=function(t){for(var e=null,i=t.next;i.type!==yt.EOF&&t.closed!==i;){if(i.type===yt.ATTRIBUTE&&i.text==="type"){i.next&&i.next.type===yt.EQUALS&&i.next.next&&i.next.next.type===yt.VALUE&&(e=i.next.next.text);break}i=i.next}return e},zK=function(t,e){var i=null,r=null;return e.closed?(t==="script"?i="text/javascript":t==="style"&&(i="text/css"),i=$K(e)||i,i.search("text/css")>-1?r="css":i.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?r="javascript":i.search(/(text|application|dojo)\/(x-)?(html)/)>-1?r="html":i.search(/test\/null/)>-1&&(r="null"),r):null};function Sc(t,e){return e.indexOf(t)!==-1}function QK(t,e,i){this.parent=t||null,this.tag=e?e.tag_name:"",this.indent_level=i||0,this.parser_token=e||null}function ba(t){this._printer=t,this._current_frame=null}ba.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null};ba.prototype.record_tag=function(t){var e=new QK(this._current_frame,t,this._printer.indent_level);this._current_frame=e};ba.prototype._try_pop_frame=function(t){var e=null;return t&&(e=t.parser_token,this._printer.indent_level=t.indent_level,this._current_frame=t.parent),e};ba.prototype._get_frame=function(t,e){for(var i=this._current_frame;i&&t.indexOf(i.tag)===-1;){if(e&&e.indexOf(i.tag)!==-1){i=null;break}i=i.parent}return i};ba.prototype.try_pop=function(t,e){var i=this._get_frame([t],e);return this._try_pop_frame(i)};ba.prototype.indent_to_tag=function(t){var e=this._get_frame(t);e&&(this._printer.indent_level=e.indent_level)};function sn(t,e,i,r){this._source_text=t||"",e=e||{},this._js_beautify=i,this._css_beautify=r,this._tag_stack=null;var n=new HK(e,"html");this._options=n,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}sn.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;this._options.eol==="auto"&&(e=`
`,t&&hC.test(t)&&(e=t.match(hC)[0])),t=t.replace(KK,`
`);var i=t.match(/^[\t ]*/)[0],r={text:"",type:""},n=new mC,s=new on(this._options,i),o=new YK(t,this._options).tokenize();this._tag_stack=new ba(s);for(var a=null,l=o.next();l.type!==yt.EOF;)l.type===yt.TAG_OPEN||l.type===yt.COMMENT?(a=this._handle_tag_open(s,l,n,r),n=a):l.type===yt.ATTRIBUTE||l.type===yt.EQUALS||l.type===yt.VALUE||l.type===yt.TEXT&&!n.tag_complete?a=this._handle_inside_tag(s,l,n,o):l.type===yt.TAG_CLOSE?a=this._handle_tag_close(s,l,n):l.type===yt.TEXT?a=this._handle_text(s,l,n):s.add_raw_token(l),r=a,l=o.next();var u=s._output.get_code(e);return u};sn.prototype._handle_tag_close=function(t,e,i){var r={text:e.text,type:e.type};return t.alignment_size=0,i.tag_complete=!0,t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),i.is_unformatted?t.add_raw_token(e):(i.tag_start_char==="<"&&(t.set_space_before_token(e.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&i.has_wrapped_attrs&&t.print_newline(!1)),t.print_token(e)),i.indent_content&&!(i.is_unformatted||i.is_content_unformatted)&&(t.indent(),i.indent_content=!1),!i.is_inline_element&&!(i.is_unformatted||i.is_content_unformatted)&&t.set_wrap_point(),r};sn.prototype._handle_inside_tag=function(t,e,i,r){var n=i.has_wrapped_attrs,s={text:e.text,type:e.type};if(t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),i.is_unformatted)t.add_raw_token(e);else if(i.tag_start_char==="{"&&e.type===yt.TEXT)t.print_preserved_newlines(e)?(e.newlines=0,t.add_raw_token(e)):t.print_token(e);else{if(e.type===yt.ATTRIBUTE?(t.set_space_before_token(!0),i.attr_count+=1):(e.type===yt.EQUALS||e.type===yt.VALUE&&e.previous.type===yt.EQUALS)&&t.set_space_before_token(!1),e.type===yt.ATTRIBUTE&&i.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(t.traverse_whitespace(e),n=n||e.newlines!==0),this._is_wrap_attributes_force)){var o=i.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&i.attr_count===1){var a=!0,l=0,u;do{if(u=r.peek(l),u.type===yt.ATTRIBUTE){a=!1;break}l+=1}while(l<4&&u.type!==yt.EOF&&u.type!==yt.TAG_CLOSE);o=!a}o&&(t.print_newline(!1),n=!0)}t.print_token(e),n=n||t.previous_token_wrapped(),i.has_wrapped_attrs=n}return s};sn.prototype._handle_text=function(t,e,i){var r={text:e.text,type:"TK_CONTENT"};return i.custom_beautifier_name?this._print_custom_beatifier_text(t,e,i):i.is_unformatted||i.is_content_unformatted?t.add_raw_token(e):(t.traverse_whitespace(e),t.print_token(e)),r};sn.prototype._print_custom_beatifier_text=function(t,e,i){var r=this;if(e.text!==""){var n=e.text,s,o=1,a="",l="";i.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?s=this._js_beautify:i.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?s=this._css_beautify:i.custom_beautifier_name==="html"&&(s=function(h,T){var N=new sn(h,T,r._js_beautify,r._css_beautify);return N.beautify()}),this._options.indent_scripts==="keep"?o=0:this._options.indent_scripts==="separate"&&(o=-t.indent_level);var u=t.get_full_indent(o);if(n=n.replace(/\n[ \t]*$/,""),i.custom_beautifier_name!=="html"&&n[0]==="<"&&n.match(/^(<!--|<!\[CDATA\[)/)){var c=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(n);if(!c){t.add_raw_token(e);return}a=u+c[1]+`
`,n=c[4],c[5]&&(l=u+c[5]),n=n.replace(/\n[ \t]*$/,""),(c[2]||c[3].indexOf(`
`)!==-1)&&(c=c[3].match(/[ \t]+$/),c&&(e.whitespace_before=c[0]))}if(n)if(s){var f=function(){this.eol=`
`};f.prototype=this._options.raw_options;var d=new f;n=s(u+n,d)}else{var p=e.whitespace_before;p&&(n=n.replace(new RegExp(`
(`+p+")?","g"),`
`)),n=u+n.replace(/\n/g,`
`+u)}a&&(n?n=a+n+`
`+l:n=a+l),t.print_newline(!1),n&&(e.text=n,e.whitespace_before="",e.newlines=0,t.add_raw_token(e),t.print_newline(!0))}};sn.prototype._handle_tag_open=function(t,e,i,r){var n=this._get_tag_open_token(e);return(i.is_unformatted||i.is_content_unformatted)&&!i.is_empty_element&&e.type===yt.TAG_OPEN&&e.text.indexOf("</")===0?(t.add_raw_token(e),n.start_tag_token=this._tag_stack.try_pop(n.tag_name)):(t.traverse_whitespace(e),this._set_tag_position(t,e,n,i,r),n.is_inline_element||t.set_wrap_point(),t.print_token(e)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(n.alignment_size=e.text.length+1),!n.tag_complete&&!n.is_unformatted&&(t.alignment_size=n.alignment_size),n};var mC=function(t,e){if(this.parent=t||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!e)this.tag_complete=!0;else{var i;this.tag_start_char=e.text[0],this.text=e.text,this.tag_start_char==="<"?(i=e.text.match(/^<([^\s>]*)/),this.tag_check=i?i[1]:""):(i=e.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=i?i[1]:"",e.text==="{{#>"&&this.tag_check===">"&&e.next!==null&&(this.tag_check=e.next.text)),this.tag_check=this.tag_check.toLowerCase(),e.type===yt.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||e.closed&&e.closed.text==="/>",this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))}};sn.prototype._get_tag_open_token=function(t){var e=new mC(this._tag_stack.get_parser_token(),t);return e.alignment_size=this._options.wrap_attributes_indent_size,e.is_end_tag=e.is_end_tag||Sc(e.tag_check,this._options.void_elements),e.is_empty_element=e.tag_complete||e.is_start_tag&&e.is_end_tag,e.is_unformatted=!e.tag_complete&&Sc(e.tag_check,this._options.unformatted),e.is_content_unformatted=!e.is_empty_element&&Sc(e.tag_check,this._options.content_unformatted),e.is_inline_element=Sc(e.tag_name,this._options.inline)||e.tag_start_char==="{",e};sn.prototype._set_tag_position=function(t,e,i,r,n){if(i.is_empty_element||(i.is_end_tag?i.start_tag_token=this._tag_stack.try_pop(i.tag_name):(this._do_optional_end_element(i)&&(i.is_inline_element||t.print_newline(!1)),this._tag_stack.record_tag(i),(i.tag_name==="script"||i.tag_name==="style")&&!(i.is_unformatted||i.is_content_unformatted)&&(i.custom_beautifier_name=zK(i.tag_check,e)))),Sc(i.tag_check,this._options.extra_liners)&&(t.print_newline(!1),t._output.just_added_blankline()||t.print_newline(!0)),i.is_empty_element){if(i.tag_start_char==="{"&&i.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),i.indent_content=!0;var s=t.current_line_has_match(/{{#if/);s||t.print_newline(!1)}i.tag_name==="!--"&&n.type===yt.TAG_CLOSE&&r.is_end_tag&&i.text.indexOf(`
`)===-1||(i.is_inline_element||i.is_unformatted||t.print_newline(!1),this._calcluate_parent_multiline(t,i))}else if(i.is_end_tag){var o=!1;o=i.start_tag_token&&i.start_tag_token.multiline_content,o=o||!i.is_inline_element&&!(r.is_inline_element||r.is_unformatted)&&!(n.type===yt.TAG_CLOSE&&i.start_tag_token===r)&&n.type!=="TK_CONTENT",(i.is_content_unformatted||i.is_unformatted)&&(o=!1),o&&t.print_newline(!1)}else i.indent_content=!i.custom_beautifier_name,i.tag_start_char==="<"&&(i.tag_name==="html"?i.indent_content=this._options.indent_inner_html:i.tag_name==="head"?i.indent_content=this._options.indent_head_inner_html:i.tag_name==="body"&&(i.indent_content=this._options.indent_body_inner_html)),!(i.is_inline_element||i.is_unformatted)&&(n.type!=="TK_CONTENT"||i.is_content_unformatted)&&t.print_newline(!1),this._calcluate_parent_multiline(t,i)};sn.prototype._calcluate_parent_multiline=function(t,e){e.parent&&t._output.just_added_newline()&&!((e.is_inline_element||e.is_unformatted)&&e.parent.is_inline_element)&&(e.parent.multiline_content=!0)};var XK=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],JK=["a","audio","del","ins","map","noscript","video"];sn.prototype._do_optional_end_element=function(t){var e=null;if(!(t.is_empty_element||!t.is_start_tag||!t.parent)){if(t.tag_name==="body")e=e||this._tag_stack.try_pop("head");else if(t.tag_name==="li")e=e||this._tag_stack.try_pop("li",["ol","ul"]);else if(t.tag_name==="dd"||t.tag_name==="dt")e=e||this._tag_stack.try_pop("dt",["dl"]),e=e||this._tag_stack.try_pop("dd",["dl"]);else if(t.parent.tag_name==="p"&&XK.indexOf(t.tag_name)!==-1){var i=t.parent.parent;(!i||JK.indexOf(i.tag_name)===-1)&&(e=e||this._tag_stack.try_pop("p"))}else t.tag_name==="rp"||t.tag_name==="rt"?(e=e||this._tag_stack.try_pop("rt",["ruby","rtc"]),e=e||this._tag_stack.try_pop("rp",["ruby","rtc"])):t.tag_name==="optgroup"?e=e||this._tag_stack.try_pop("optgroup",["select"]):t.tag_name==="option"?e=e||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):t.tag_name==="colgroup"?e=e||this._tag_stack.try_pop("caption",["table"]):t.tag_name==="thead"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"])):t.tag_name==="tbody"||t.tag_name==="tfoot"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("thead",["table"]),e=e||this._tag_stack.try_pop("tbody",["table"])):t.tag_name==="tr"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(t.tag_name==="th"||t.tag_name==="td")&&(e=e||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),e=e||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return t.parent=this._tag_stack.get_parser_token(),e}};gC.exports.Beautifier=sn});var yC=C((xye,eT)=>{"use strict";var ZK=_C().Beautifier,e9=Qy().Options;function t9(t,e,i,r){var n=new ZK(t,e,i,r);return n.beautify()}eT.exports=t9;eT.exports.defaultOptions=function(){return new e9}});var NC=C((wye,Rh)=>{"use strict";var TC=eC(),bC=lC(),IC=yC();function vC(t,e,i,r){return i=i||TC,r=r||bC,IC(t,e,i,r)}vC.defaultOptions=IC.defaultOptions;Rh.exports.js=TC;Rh.exports.css=bC;Rh.exports.html=vC});var AC=C((kye,PC)=>{"use strict";function SC(t,e,i){var r=function(n,s){return t.js_beautify(n,s)};return r.js=t.js_beautify,r.css=e.css_beautify,r.html=i.html_beautify,r.js_beautify=t.js_beautify,r.css_beautify=e.css_beautify,r.html_beautify=i.html_beautify,r}typeof define=="function"&&define.amd?define(["./lib/beautify","./lib/beautify-css","./lib/beautify-html"],function(t,e,i){return SC(t,e,i)}):function(t){var e=NC();e.js_beautify=e.js,e.css_beautify=e.css,e.html_beautify=e.html,t.exports=SC(e,e,e)}(PC)});var cR=C((ibe,uR)=>{"use strict";uR.exports={matchST_ATTRIBUTE:function(){let t=0,e=this.input();if(this.is_WHITESPACE()){do e=this.input();while(this.is_WHITESPACE());return this.unput(1),null}switch(e){case"]":return t===0?this.popState():t--,"]";case"(":case")":case":":case"=":return this.consume_TOKEN();case"[":return t++,"[";case",":return",";case'"':return this.ST_DOUBLE_QUOTES();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case"/":if(this._input[this.offset]==="/")return this.T_COMMENT();if(this._input[this.offset]==="*")return this.input(),this.T_DOC_COMMENT()}if(this.is_LABEL_START()||e==="\\"){for(;this.offset<this.size;){let i=this.input();if(!(this.is_LABEL()||i==="\\")){i&&this.unput(1);break}}return this.tok.T_STRING}else if(this.is_NUM())return this.consume_NUM();throw new Error(`Bad terminal sequence "${e}" at line ${this.yylineno} (offset ${this.offset})`)}}});var dR=C((rbe,fR)=>{"use strict";fR.exports={T_COMMENT:function(){for(;this.offset<this.size;){let t=this.input();if(t===`
`||t==="\r")return this.tok.T_COMMENT;if(t==="?"&&!this.aspTagMode&&this._input[this.offset]===">")return this.unput(1),this.tok.T_COMMENT;if(t==="%"&&this.aspTagMode&&this._input[this.offset]===">")return this.unput(1),this.tok.T_COMMENT}return this.tok.T_COMMENT},T_DOC_COMMENT:function(){let t=this.input(),e=this.tok.T_COMMENT;if(t==="*"){if(t=this.input(),this.is_WHITESPACE()&&(e=this.tok.T_DOC_COMMENT),t==="/")return e;this.unput(1)}for(;this.offset<this.size;)if(t=this.input(),t==="*"&&this._input[this.offset]==="/"){this.input();break}return e}}});var hR=C((nbe,pR)=>{"use strict";pR.exports={nextINITIAL:function(){return this.conditionStack.length>1&&this.conditionStack[this.conditionStack.length-1]==="INITIAL"?this.popState():this.begin("ST_IN_SCRIPTING"),this},matchINITIAL:function(){for(;this.offset<this.size;){let t=this.input();if(t=="<"){if(t=this.ahead(1),t=="?"){if(this.tryMatch("?=")){this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}else if(this.tryMatchCaseless("?php")&&(t=this._input[this.offset+4],t===" "||t==="	"||t===`
`||t==="\r")){this.unput(1).appendToken(this.tok.T_OPEN_TAG,6).nextINITIAL();break}if(this.short_tags){this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}else if(this.asp_tags&&t=="%")if(this.tryMatch("%=")){this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}else{this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}}return this.yytext.length>0?this.tok.T_INLINE_HTML:!1}}});var _R=C((sbe,gR)=>{"use strict";var Vh=10,mR="2147483648";process.arch=="x64"&&(Vh=19,mR="9223372036854775808");gR.exports={consume_NUM:function(){let t=this.yytext[0],e=t===".";if(t==="0")if(t=this.input(),t==="x"||t==="X"){if(t=this.input(),t!=="_"&&this.is_HEX())return this.consume_HNUM();this.unput(t?2:1)}else if(t==="b"||t==="B"){if(t=this.input(),t!=="_"&&t==="0"||t==="1")return this.consume_BNUM();this.unput(t?2:1)}else this.is_NUM()||t&&this.unput(1);for(;this.offset<this.size;){let i=t;if(t=this.input(),t==="_"){if(i==="_"){this.unput(2);break}if(i==="."){this.unput(1);break}if(i==="e"||i==="E"){this.unput(2);break}}else if(t==="."){if(e){this.unput(1);break}if(i==="_"){this.unput(2);break}e=!0;continue}else if(t==="e"||t==="E"){if(i==="_"){this.unput(1);break}let r=2;if(t=this.input(),(t==="+"||t==="-")&&(r=3,t=this.input()),this.is_NUM_START())return this.consume_LNUM(),this.tok.T_DNUMBER;this.unput(t?r:r-1);break}if(!this.is_NUM()){t&&this.unput(1);break}}return e?this.tok.T_DNUMBER:this.yytext.length<Vh-1?this.tok.T_LNUMBER:this.yytext.length<Vh||this.yytext.length==Vh&&this.yytext<mR?this.tok.T_LNUMBER:this.tok.T_DNUMBER},consume_HNUM:function(){for(;this.offset<this.size;){let t=this.input();if(!this.is_HEX()){t&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_LNUM:function(){for(;this.offset<this.size;){let t=this.input();if(!this.is_NUM()){t&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_BNUM:function(){let t;for(;this.offset<this.size;)if(t=this.input(),t!=="0"&&t!=="1"&&t!=="_"){t&&this.unput(1);break}return this.tok.T_LNUMBER}}});var TR=C((obe,yR)=>{"use strict";yR.exports={matchST_LOOKING_FOR_PROPERTY:function(){let t=this.input();if(t==="-"){if(t=this.input(),t===">")return this.tok.T_OBJECT_OPERATOR;t&&this.unput(1)}else{if(this.is_WHITESPACE())return this.tok.T_WHITESPACE;if(this.is_LABEL_START())return this.consume_LABEL(),this.popState(),this.tok.T_STRING}return this.popState(),t&&this.unput(1),!1},matchST_LOOKING_FOR_VARNAME:function(){let t=this.input();if(this.popState(),this.begin("ST_IN_SCRIPTING"),this.is_LABEL_START()){if(this.consume_LABEL(),t=this.input(),t==="["||t==="}")return this.unput(1),this.tok.T_STRING_VARNAME;this.unput(this.yytext.length)}else t&&this.unput(1);return!1},matchST_VAR_OFFSET:function(){let t=this.input();if(this.is_NUM_START())return this.consume_NUM(),this.tok.T_NUM_STRING;if(t==="]")return this.popState(),"]";if(t==="$"){if(this.input(),this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_VARIABLE;throw new Error("Unexpected terminal")}else{if(this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_STRING;if(this.is_WHITESPACE()||t==="\\"||t==="'"||t==="#")return this.tok.T_ENCAPSED_AND_WHITESPACE;if(t==="["||t==="{"||t==="}"||t==='"'||t==="`"||this.is_TOKEN())return t;throw new Error("Unexpected terminal")}}}});var IR=C((abe,bR)=>{"use strict";bR.exports={matchST_IN_SCRIPTING:function(){let t=this.input();switch(t){case" ":case"	":case`
`:case"\r":case`\r
`:return this.T_WHITESPACE();case"#":return this._input[this.offset]==="["?(this.input(),this.begin("ST_ATTRIBUTE"),this.tok.T_ATTRIBUTE):this.T_COMMENT();case"/":return this._input[this.offset]==="/"?this.T_COMMENT():this._input[this.offset]==="*"?(this.input(),this.T_DOC_COMMENT()):this.consume_TOKEN();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case'"':return this.ST_DOUBLE_QUOTES();case"`":return this.begin("ST_BACKQUOTE"),"`";case"?":if(!this.aspTagMode&&this.tryMatch(">")){this.input();let e=this._input[this.offset];return(e===`
`||e==="\r")&&this.input(),this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG}return this.consume_TOKEN();case"%":return this.aspTagMode&&this._input[this.offset]===">"?(this.input(),t=this._input[this.offset],(t===`
`||t==="\r")&&this.input(),this.aspTagMode=!1,this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG):this.consume_TOKEN();case"{":return this.begin("ST_IN_SCRIPTING"),"{";case"}":return this.conditionStack.length>2&&this.popState(),"}";default:if(t==="."){if(t=this.input(),this.is_NUM_START())return this.consume_NUM();t&&this.unput(1)}if(this.is_NUM_START())return this.consume_NUM();if(this.is_LABEL_START())return this.consume_LABEL().T_STRING();if(this.is_TOKEN())return this.consume_TOKEN()}throw new Error('Bad terminal sequence "'+t+'" at line '+this.yylineno+" (offset "+this.offset+")")},T_WHITESPACE:function(){for(;this.offset<this.size;){let t=this.input();if(!(t===" "||t==="	"||t===`
`||t==="\r")){t&&this.unput(1);break}}return this.tok.T_WHITESPACE}}});var SR=C((lbe,NR)=>{"use strict";var bo=[`
`,"\r"],vR=[`
`,"\r",";"],l9=vR.concat(["	"," ",",","]",")","/","=","!"]);NR.exports={T_CONSTANT_ENCAPSED_STRING:function(){let t;for(;this.offset<this.size;)if(t=this.input(),t=="\\")this.input();else if(t=="'")break;return this.tok.T_CONSTANT_ENCAPSED_STRING},is_HEREDOC:function(){let t=this.offset;if(this._input[this.offset-1]==="<"&&this._input[this.offset]==="<"&&this._input[this.offset+1]==="<"){if(this.offset+=3,this.is_TABSPACE())for(;this.offset<this.size&&(this.offset++,!!this.is_TABSPACE()););let e=this._input[this.offset-1];if(e==="'"||e==='"'?this.offset++:e=null,this.is_LABEL_START()){let i=this.offset-1;for(;this.offset<this.size&&(this.offset++,!!this.is_LABEL()););let r=this._input.substring(i,this.offset-1);if((!e||e===this._input[this.offset-1])&&(e&&this.offset++,bo.includes(this._input[this.offset-1])))return this.heredoc_label.label=r,this.heredoc_label.length=r.length,this.heredoc_label.finished=!1,i=this.offset-t,this.offset=t,this.consume(i),e==="'"?this.begin("ST_NOWDOC"):this.begin("ST_HEREDOC"),this.prematch_ENDOFDOC(),this.tok.T_START_HEREDOC}}return this.offset=t,!1},ST_DOUBLE_QUOTES:function(){let t;for(;this.offset<this.size;)if(t=this.input(),t=="\\")this.input();else{if(t=='"')break;if(t=="$"){if(t=this.input(),t=="{"||this.is_LABEL_START()){this.unput(2);break}t&&this.unput(1)}else if(t=="{"){if(t=this.input(),t=="$"){this.unput(2);break}t&&this.unput(1)}}if(t=='"')return this.tok.T_CONSTANT_ENCAPSED_STRING;{let e=1;return(this.yytext[0]==="b"||this.yytext[0]==="B")&&(e=2),this.yytext.length>2&&this.appendToken(this.tok.T_ENCAPSED_AND_WHITESPACE,this.yytext.length-e),this.unput(this.yytext.length-e),this.begin("ST_DOUBLE_QUOTES"),this.yytext}},isDOC_MATCH:function(t,e){let i=this._input[t-2];if(!bo.includes(i))return!1;let r=!1,n=!1,s=0,o=this._input[t-1];if(this.version>=703){for(;o==="	"||o===" ";)o===" "?r=!0:o==="	"&&(n=!0),o=this._input[t+s],s++;if(t=t+s,bo.includes(this._input[t-1]))return!1}if(this._input.substring(t-1,t-1+this.heredoc_label.length)===this.heredoc_label.label){let a=this._input[t-1+this.heredoc_label.length];if((this.version>=703?l9:vR).includes(a)){if(e){if(this.consume(s),r&&n)throw new Error("Parse error:  mixing spaces and tabs in ending marker at line "+this.yylineno+" (offset "+this.offset+")")}else this.heredoc_label.indentation=s,this.heredoc_label.indentation_uses_spaces=r,this.heredoc_label.first_encaps_node=!0;return!0}}return!1},prematch_ENDOFDOC:function(){this.heredoc_label.indentation_uses_spaces=!1,this.heredoc_label.indentation=0,this.heredoc_label.first_encaps_node=!0;let t=this.offset+1;for(;t<this._input.length;){if(this.isDOC_MATCH(t,!1))return;if(!bo.includes(this._input[t-1]))for(;!bo.includes(this._input[t++])&&t<this._input.length;);t++}},matchST_NOWDOC:function(){if(this.isDOC_MATCH(this.offset,!0))return this.consume(this.heredoc_label.length),this.popState(),this.tok.T_END_HEREDOC;let t=this._input[this.offset-1];for(;this.offset<this.size;)if(bo.includes(t)){if(t=this.input(),this.isDOC_MATCH(this.offset,!0))return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else t=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_HEREDOC:function(){let t=this.input();if(this.isDOC_MATCH(this.offset,!0))return this.consume(this.heredoc_label.length-1),this.popState(),this.tok.T_END_HEREDOC;for(;this.offset<this.size;)if(t==="\\"&&(t=this.input(),bo.includes(t)||(t=this.input())),bo.includes(t)){if(t=this.input(),this.isDOC_MATCH(this.offset,!0))return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else if(t==="$"){if(t=this.input(),t==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){let e=this.offset,i=this.consume_VARIABLE();return this.yytext.length>this.offset-e+2?(this.appendToken(i,this.offset-e+2),this.unput(this.offset-e+2),this.tok.T_ENCAPSED_AND_WHITESPACE):i}}else if(t==="{"){if(t=this.input(),t==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN)}else t=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},consume_VARIABLE:function(){this.consume_LABEL();let t=this.input();if(t=="[")return this.unput(1),this.begin("ST_VAR_OFFSET"),this.tok.T_VARIABLE;if(t==="-"){if(this.input()===">")return this.input(),this.is_LABEL_START()&&this.begin("ST_LOOKING_FOR_PROPERTY"),this.unput(3),this.tok.T_VARIABLE;this.unput(2)}else t&&this.unput(1);return this.tok.T_VARIABLE},matchST_BACKQUOTE:function(){let t=this.input();if(t==="$"){if(t=this.input(),t==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if(t==="{"){if(this._input[this.offset]==="$")return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if(t==="`")return this.popState(),"`";for(;this.offset<this.size;){if(t==="\\")this.input();else if(t==="`"){this.unput(1),this.popState(),this.appendToken("`",1);break}else if(t==="$"){if(t=this.input(),t==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){let e=this.offset,i=this.consume_VARIABLE();return this.yytext.length>this.offset-e+2?(this.appendToken(i,this.offset-e+2),this.unput(this.offset-e+2),this.tok.T_ENCAPSED_AND_WHITESPACE):i}continue}else if(t==="{"){if(t=this.input(),t==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);continue}t=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_DOUBLE_QUOTES:function(){let t=this.input();if(t==="$"){if(t=this.input(),t==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if(t==="{"){if(this._input[this.offset]==="$")return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if(t==='"')return this.popState(),'"';for(;this.offset<this.size;){if(t==="\\")this.input();else if(t==='"'){this.unput(1),this.popState(),this.appendToken('"',1);break}else if(t==="$"){if(t=this.input(),t==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){let e=this.offset,i=this.consume_VARIABLE();return this.yytext.length>this.offset-e+2?(this.appendToken(i,this.offset-e+2),this.unput(this.offset-e+2),this.tok.T_ENCAPSED_AND_WHITESPACE):i}t&&this.unput(1)}else if(t==="{"){if(t=this.input(),t==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);t&&this.unput(1)}t=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE}}});var AR=C((ube,PR)=>{"use strict";PR.exports={T_STRING:function(){let t=this.yytext.toLowerCase(),e=this.keywords[t];if(typeof e!="number"){if(t==="yield")this.version>=700&&this.tryMatch(" from")?(this.consume(5),e=this.tok.T_YIELD_FROM):e=this.tok.T_YIELD;else if(e=this.tok.T_STRING,t==="b"||t==="B"){let i=this.input(1);if(i==='"')return this.ST_DOUBLE_QUOTES();if(i==="'")return this.T_CONSTANT_ENCAPSED_STRING();i&&this.unput(1)}}return e},consume_TOKEN:function(){let t=this._input[this.offset-1],e=this.tokenTerminals[t];return e?e.apply(this,[]):this.yytext},tokenTerminals:{$:function(){return this.offset++,this.is_LABEL_START()?(this.offset--,this.consume_LABEL(),this.tok.T_VARIABLE):(this.offset--,"$")},"-":function(){let t=this._input[this.offset];return t===">"?(this.begin("ST_LOOKING_FOR_PROPERTY").input(),this.tok.T_OBJECT_OPERATOR):t==="-"?(this.input(),this.tok.T_DEC):t==="="?(this.input(),this.tok.T_MINUS_EQUAL):"-"},"\\":function(){return this.tok.T_NS_SEPARATOR},"/":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_DIV_EQUAL):"/"},":":function(){return this._input[this.offset]===":"?(this.input(),this.tok.T_DOUBLE_COLON):":"},"(":function(){let t=this.offset;if(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),this.is_LABEL_START()){let e=this.yytext.length;this.consume_LABEL();let i=this.yytext.substring(e-1).toLowerCase(),r=this.castKeywords[i];if(typeof r=="number"&&(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),this._input[this.offset-1]===")"))return r}return this.unput(this.offset-t),"("},"=":function(){let t=this._input[this.offset];return t===">"?(this.input(),this.tok.T_DOUBLE_ARROW):t==="="?this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_IS_IDENTICAL):(this.input(),this.tok.T_IS_EQUAL):"="},"+":function(){let t=this._input[this.offset];return t==="+"?(this.input(),this.tok.T_INC):t==="="?(this.input(),this.tok.T_PLUS_EQUAL):"+"},"!":function(){return this._input[this.offset]==="="?this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_IS_NOT_IDENTICAL):(this.input(),this.tok.T_IS_NOT_EQUAL):"!"},"?":function(){return this.version>=700&&this._input[this.offset]==="?"?this.version>=704&&this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_COALESCE_EQUAL):(this.input(),this.tok.T_COALESCE):this.version>=800&&this._input[this.offset]==="-"&&this._input[this.offset+1]===">"?(this.consume(2),this.tok.T_NULLSAFE_OBJECT_OPERATOR):"?"},"<":function(){let t=this._input[this.offset];return t==="<"?(t=this._input[this.offset+1],t==="="?(this.consume(2),this.tok.T_SL_EQUAL):t==="<"&&this.is_HEREDOC()?this.tok.T_START_HEREDOC:(this.input(),this.tok.T_SL)):t==="="?(this.input(),this.version>=700&&this._input[this.offset]===">"?(this.input(),this.tok.T_SPACESHIP):this.tok.T_IS_SMALLER_OR_EQUAL):t===">"?(this.input(),this.tok.T_IS_NOT_EQUAL):"<"},">":function(){let t=this._input[this.offset];return t==="="?(this.input(),this.tok.T_IS_GREATER_OR_EQUAL):t===">"?(t=this._input[this.offset+1],t==="="?(this.consume(2),this.tok.T_SR_EQUAL):(this.input(),this.tok.T_SR)):">"},"*":function(){let t=this._input[this.offset];return t==="="?(this.input(),this.tok.T_MUL_EQUAL):t==="*"?(this.input(),this._input[this.offset]==="="?(this.input(),this.tok.T_POW_EQUAL):this.tok.T_POW):"*"},".":function(){let t=this._input[this.offset];return t==="="?(this.input(),this.tok.T_CONCAT_EQUAL):t==="."&&this._input[this.offset+1]==="."?(this.consume(2),this.tok.T_ELLIPSIS):"."},"%":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_MOD_EQUAL):"%"},"&":function(){let t=this._input[this.offset];return t==="="?(this.input(),this.tok.T_AND_EQUAL):t==="&"?(this.input(),this.tok.T_BOOLEAN_AND):"&"},"|":function(){let t=this._input[this.offset];return t==="="?(this.input(),this.tok.T_OR_EQUAL):t==="|"?(this.input(),this.tok.T_BOOLEAN_OR):"|"},"^":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_XOR_EQUAL):"^"}}}});var CR=C((cbe,ER)=>{"use strict";var u9=";:,.\\[]()|^&+-/*=%!~$<>?@";ER.exports={is_NUM:function(){let t=this._input.charCodeAt(this.offset-1);return t>47&&t<58||t===95},is_NUM_START:function(){let t=this._input.charCodeAt(this.offset-1);return t>47&&t<58},is_LABEL:function(){let t=this._input.charCodeAt(this.offset-1);return t>96&&t<123||t>64&&t<91||t===95||t>47&&t<58||t>126},is_LABEL_START:function(){let t=this._input.charCodeAt(this.offset-1);return t>64&&t<91||t>96&&t<123||t===95||t>126},consume_LABEL:function(){for(;this.offset<this.size;){let t=this.input();if(!this.is_LABEL()){t&&this.unput(1);break}}return this},is_TOKEN:function(){let t=this._input[this.offset-1];return u9.indexOf(t)!==-1},is_WHITESPACE:function(){let t=this._input[this.offset-1];return t===" "||t==="	"||t===`
`||t==="\r"},is_TABSPACE:function(){let t=this._input[this.offset-1];return t===" "||t==="	"},consume_TABSPACE:function(){for(;this.offset<this.size;){let t=this.input();if(!this.is_TABSPACE()){t&&this.unput(1);break}}return this},is_HEX:function(){let t=this._input.charCodeAt(this.offset-1);return t>47&&t<58||t>64&&t<71||t>96&&t<103||t===95}}});var xR=C((fbe,RR)=>{"use strict";var Vi=function(t){this.engine=t,this.tok=this.engine.tokens.names,this.EOF=1,this.debug=!1,this.all_tokens=!0,this.comment_tokens=!1,this.mode_eval=!1,this.asp_tags=!1,this.short_tags=!1,this.version=800,this.yyprevcol=0,this.keywords={__class__:this.tok.T_CLASS_C,__trait__:this.tok.T_TRAIT_C,__function__:this.tok.T_FUNC_C,__method__:this.tok.T_METHOD_C,__line__:this.tok.T_LINE,__file__:this.tok.T_FILE,__dir__:this.tok.T_DIR,__namespace__:this.tok.T_NS_C,exit:this.tok.T_EXIT,die:this.tok.T_EXIT,function:this.tok.T_FUNCTION,const:this.tok.T_CONST,return:this.tok.T_RETURN,try:this.tok.T_TRY,catch:this.tok.T_CATCH,finally:this.tok.T_FINALLY,throw:this.tok.T_THROW,if:this.tok.T_IF,elseif:this.tok.T_ELSEIF,endif:this.tok.T_ENDIF,else:this.tok.T_ELSE,while:this.tok.T_WHILE,endwhile:this.tok.T_ENDWHILE,do:this.tok.T_DO,for:this.tok.T_FOR,endfor:this.tok.T_ENDFOR,foreach:this.tok.T_FOREACH,endforeach:this.tok.T_ENDFOREACH,declare:this.tok.T_DECLARE,enddeclare:this.tok.T_ENDDECLARE,instanceof:this.tok.T_INSTANCEOF,as:this.tok.T_AS,switch:this.tok.T_SWITCH,endswitch:this.tok.T_ENDSWITCH,case:this.tok.T_CASE,default:this.tok.T_DEFAULT,break:this.tok.T_BREAK,continue:this.tok.T_CONTINUE,goto:this.tok.T_GOTO,echo:this.tok.T_ECHO,print:this.tok.T_PRINT,class:this.tok.T_CLASS,interface:this.tok.T_INTERFACE,trait:this.tok.T_TRAIT,extends:this.tok.T_EXTENDS,implements:this.tok.T_IMPLEMENTS,new:this.tok.T_NEW,clone:this.tok.T_CLONE,var:this.tok.T_VAR,eval:this.tok.T_EVAL,include:this.tok.T_INCLUDE,include_once:this.tok.T_INCLUDE_ONCE,require:this.tok.T_REQUIRE,require_once:this.tok.T_REQUIRE_ONCE,namespace:this.tok.T_NAMESPACE,use:this.tok.T_USE,insteadof:this.tok.T_INSTEADOF,global:this.tok.T_GLOBAL,isset:this.tok.T_ISSET,empty:this.tok.T_EMPTY,__halt_compiler:this.tok.T_HALT_COMPILER,static:this.tok.T_STATIC,abstract:this.tok.T_ABSTRACT,final:this.tok.T_FINAL,private:this.tok.T_PRIVATE,protected:this.tok.T_PROTECTED,public:this.tok.T_PUBLIC,unset:this.tok.T_UNSET,list:this.tok.T_LIST,array:this.tok.T_ARRAY,callable:this.tok.T_CALLABLE,or:this.tok.T_LOGICAL_OR,and:this.tok.T_LOGICAL_AND,xor:this.tok.T_LOGICAL_XOR,match:this.tok.T_MATCH},this.castKeywords={int:this.tok.T_INT_CAST,integer:this.tok.T_INT_CAST,real:this.tok.T_DOUBLE_CAST,double:this.tok.T_DOUBLE_CAST,float:this.tok.T_DOUBLE_CAST,string:this.tok.T_STRING_CAST,binary:this.tok.T_STRING_CAST,array:this.tok.T_ARRAY_CAST,object:this.tok.T_OBJECT_CAST,bool:this.tok.T_BOOL_CAST,boolean:this.tok.T_BOOL_CAST,unset:this.tok.T_UNSET_CAST}};Vi.prototype.setInput=function(t){return this._input=t,this.size=t.length,this.yylineno=1,this.offset=0,this.yyprevcol=0,this.yytext="",this.yylloc={first_offset:0,first_line:1,first_column:0,prev_offset:0,prev_line:1,prev_column:0,last_line:1,last_column:0},this.tokens=[],this.version>703?this.keywords.fn=this.tok.T_FN:delete this.keywords.fn,this.done=this.offset>=this.size,!this.all_tokens&&this.mode_eval?(this.conditionStack=["INITIAL"],this.begin("ST_IN_SCRIPTING")):(this.conditionStack=[],this.begin("INITIAL")),this.heredoc_label={label:"",length:0,indentation:0,indentation_uses_spaces:!1,finished:!1,first_encaps_node:!1,toString:function(){this.label}},this};Vi.prototype.input=function(){let t=this._input[this.offset];return t?(this.yytext+=t,this.offset++,t==="\r"&&this._input[this.offset]===`
`&&(this.yytext+=`
`,this.offset++),t===`
`||t==="\r"?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++,t):""};Vi.prototype.unput=function(t){if(t===1)this.offset--,this._input[this.offset]===`
`&&this._input[this.offset-1]==="\r"&&(this.offset--,t++),this._input[this.offset]==="\r"||this._input[this.offset]===`
`?(this.yylloc.last_line--,this.yylineno--,this.yylloc.last_column=this.yyprevcol):this.yylloc.last_column--,this.yytext=this.yytext.substring(0,this.yytext.length-t);else if(t>0)if(this.offset-=t,t<this.yytext.length){this.yytext=this.yytext.substring(0,this.yytext.length-t),this.yylloc.last_line=this.yylloc.first_line,this.yylloc.last_column=this.yyprevcol=this.yylloc.first_column;for(let e=0;e<this.yytext.length;e++){let i=this.yytext[e];i==="\r"?(i=this.yytext[++e],this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0,i!==`
`&&(i==="\r"?this.yylloc.last_line++:this.yylloc.last_column++)):i===`
`?(this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++}this.yylineno=this.yylloc.last_line}else this.yytext="",this.yylloc.last_line=this.yylineno=this.yylloc.first_line,this.yylloc.last_column=this.yylloc.first_column;return this};Vi.prototype.tryMatch=function(t){return t===this.ahead(t.length)};Vi.prototype.tryMatchCaseless=function(t){return t===this.ahead(t.length).toLowerCase()};Vi.prototype.ahead=function(t){let e=this._input.substring(this.offset,this.offset+t);return e[e.length-1]==="\r"&&this._input[this.offset+t+1]===`
`&&(e+=`
`),e};Vi.prototype.consume=function(t){for(let e=0;e<t;e++){let i=this._input[this.offset];if(!i)break;this.yytext+=i,this.offset++,i==="\r"&&this._input[this.offset]===`
`&&(this.yytext+=`
`,this.offset++,e++),i===`
`||i==="\r"?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++}return this};Vi.prototype.getState=function(){return{yytext:this.yytext,offset:this.offset,yylineno:this.yylineno,yyprevcol:this.yyprevcol,yylloc:{first_offset:this.yylloc.first_offset,first_line:this.yylloc.first_line,first_column:this.yylloc.first_column,last_line:this.yylloc.last_line,last_column:this.yylloc.last_column},heredoc_label:this.heredoc_label}};Vi.prototype.setState=function(t){return this.yytext=t.yytext,this.offset=t.offset,this.yylineno=t.yylineno,this.yyprevcol=t.yyprevcol,this.yylloc=t.yylloc,t.heredoc_label&&(this.heredoc_label=t.heredoc_label),this};Vi.prototype.appendToken=function(t,e){return this.tokens.push([t,e]),this};Vi.prototype.lex=function(){this.yylloc.prev_offset=this.offset,this.yylloc.prev_line=this.yylloc.last_line,this.yylloc.prev_column=this.yylloc.last_column;let t=this.next()||this.lex();if(!this.all_tokens){for(;t===this.tok.T_WHITESPACE||!this.comment_tokens&&(t===this.tok.T_COMMENT||t===this.tok.T_DOC_COMMENT)||t===this.tok.T_OPEN_TAG;)t=this.next()||this.lex();if(t==this.tok.T_OPEN_TAG_WITH_ECHO)return this.tok.T_ECHO;if(t===this.tok.T_CLOSE_TAG)return";"}return this.yylloc.prev_offset||(this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column),t};Vi.prototype.begin=function(t){if(this.conditionStack.push(t),this.curCondition=t,this.stateCb=this["match"+t],typeof this.stateCb!="function")throw new Error('Undefined condition state "'+t+'"');return this};Vi.prototype.popState=function(){let e=this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0];if(this.curCondition=this.conditionStack[this.conditionStack.length-1],this.stateCb=this["match"+this.curCondition],typeof this.stateCb!="function")throw new Error('Undefined condition state "'+this.curCondition+'"');return e};Vi.prototype.next=function(){let t;if(this._input||(this.done=!0),this.yylloc.first_offset=this.offset,this.yylloc.first_line=this.yylloc.last_line,this.yylloc.first_column=this.yylloc.last_column,this.yytext="",this.done)return this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column,this.EOF;if(this.tokens.length>0?(t=this.tokens.shift(),typeof t[1]=="object"?this.setState(t[1]):this.consume(t[1]),t=t[0]):t=this.stateCb.apply(this,[]),this.offset>=this.size&&this.tokens.length===0&&(this.done=!0),this.debug){let e=t;typeof e=="number"?e=this.engine.tokens.values[e]:e='"'+e+'"';let i=new Error(e+"	from "+this.yylloc.first_line+","+this.yylloc.first_column+"	 - to "+this.yylloc.last_line+","+this.yylloc.last_column+'	"'+this.yytext+'"');console.error(i.stack)}return t};[cR(),dR(),hR(),_R(),TR(),IR(),SR(),AR(),CR()].forEach(function(t){for(let e in t)Vi.prototype[e]=t[e]});RR.exports=Vi});var oT=C((dbe,wR)=>{"use strict";var c9=function(t,e,i){this.line=t,this.column=e,this.offset=i};wR.exports=c9});var DR=C((pbe,kR)=>{"use strict";kR.exports={read_array:function(){let t=null,e=!1,i=this.node("array");this.token===this.tok.T_ARRAY?(this.next().expect("("),t=")"):(e=!0,t="]");let r=[];return this.next().token!==t&&(r=this.read_array_pair_list(e)),this.expect(t),this.next(),i(e,r)},read_array_pair_list:function(t){let e=this;return this.read_list(function(){return e.read_array_pair(t)},",",!0)},read_array_pair:function(t){if(!t&&this.token===")"||t&&this.token==="]")return;if(this.token===",")return this.node("noop")();let e=this.node("entry"),i=null,r=null,n=!1,s=!1;if(this.token==="&")this.next(),n=!0,r=this.read_variable(!0,!1);else if(this.token===this.tok.T_ELLIPSIS&&this.version>=704)this.next(),this.token==="&"&&this.error(),s=!0,r=this.read_expr();else{let o=this.read_expr();this.token===this.tok.T_DOUBLE_ARROW?(this.next(),i=o,this.token==="&"?(this.next(),n=!0,r=this.read_variable(!0,!1)):r=this.read_expr()):r=o}return e(i,r,n,s)}}});var LR=C((hbe,FR)=>{"use strict";FR.exports={read_class_declaration_statement:function(t){let e=this.node("class"),i=this.read_class_modifiers();if(this.token!==this.tok.T_CLASS)return this.error(this.tok.T_CLASS),this.next(),null;this.next().expect(this.tok.T_STRING);let r=this.node("identifier"),n=this.text();this.next(),r=r(n);let s=this.read_extends_from(),o=this.read_implements_list();this.expect("{");let a=this.next().read_class_body(),l=e(r,s,o,a,i);return t&&(l.attrGroups=t),l},read_class_modifiers:function(){return[0,0,this.read_class_modifier()]},read_class_modifier:function(){return this.token===this.tok.T_ABSTRACT?(this.next(),1):this.token===this.tok.T_FINAL?(this.next(),2):0},read_class_body:function(){let t=[],e=[];for(;this.token!==this.EOF&&this.token!=="}";){if(this.token===this.tok.T_COMMENT){t.push(this.read_comment());continue}if(this.token===this.tok.T_DOC_COMMENT){t.push(this.read_doc_comment());continue}if(this.token===this.tok.T_USE){t=t.concat(this.read_trait_use_statement());continue}this.token===this.tok.T_ATTRIBUTE&&(e=this.read_attr_list());let i=this.position(),r=this.read_member_flags(!1);if(this.token===this.tok.T_CONST){let n=this.read_constant_list(r,e);this.expect(";")&&this.next(),t=t.concat(n);continue}if(this.token===this.tok.T_VAR&&(this.next().expect(this.tok.T_VARIABLE),r[0]=null,r[1]=0),this.token===this.tok.T_FUNCTION)t.push(this.read_function(!1,r,e,i)),e=[];else if(this.token===this.tok.T_VARIABLE||this.version>=704&&(this.token==="?"||this.token===this.tok.T_CALLABLE||this.token===this.tok.T_ARRAY||this.token===this.tok.T_NS_SEPARATOR||this.token===this.tok.T_STRING||this.token===this.tok.T_NAMESPACE)){let n=this.read_variable_list(r,e);e=[],this.expect(";"),this.next(),t=t.concat(n)}else this.error([this.tok.T_CONST,this.tok.T_VARIABLE,this.tok.T_FUNCTION]),this.next()}return this.expect("}"),this.next(),t},read_variable_list:function(t,e){let i=this.node("propertystatement"),r=this.read_list(function(){let s=this.node("property"),[o,a]=this.read_optional_type();this.expect(this.tok.T_VARIABLE);let l=this.node("identifier"),u=this.text().substring(1);return this.next(),l=l(u),this.token===";"||this.token===","?s(l,null,o,a,e||[]):this.token==="="?s(l,this.next().read_expr(),o,a,e||[]):(this.expect([",",";","="]),s(l,null,o,a,e||[]))},",");return i(null,r,t)},read_constant_list:function(t,e){this.expect(this.tok.T_CONST)&&this.next();let i=this.node("classconstant"),r=this.read_list(function(){let s=this.node("constant"),o=null,a=null;if(this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){o=this.node("identifier");let l=this.text();this.next(),o=o(l)}else this.expect("IDENTIFIER");return this.expect("=")&&(a=this.next().read_expr()),s(o,a)},",");return i(null,r,t,e||[])},read_member_flags:function(t){let e=[-1,-1,-1];if(this.is("T_MEMBER_FLAGS")){let i=0,r=0;do{switch(this.token){case this.tok.T_PUBLIC:i=0,r=0;break;case this.tok.T_PROTECTED:i=0,r=1;break;case this.tok.T_PRIVATE:i=0,r=2;break;case this.tok.T_STATIC:i=1,r=1;break;case this.tok.T_ABSTRACT:i=2,r=1;break;case this.tok.T_FINAL:i=2,r=2;break}t&&(i==0&&r==2?(this.expect([this.tok.T_PUBLIC,this.tok.T_PROTECTED]),r=-1):i==2&&r==1&&(this.error(),r=-1)),e[i]!==-1?this.error():r!==-1&&(e[i]=r)}while(this.next().is("T_MEMBER_FLAGS"))}return e[1]==-1&&(e[1]=0),e[2]==-1&&(e[2]=0),e},read_optional_type:function(){let t=!1;this.token==="?"&&(t=!0,this.next());let e=this.read_types();if(t&&!e&&this.raiseError("Expecting a type definition combined with nullable operator"),!t&&!e)return[!1,null];if(this.token==="|"){e=[e];do{this.next();let i=this.read_type();if(!i){this.raiseError("Expecting a type definition");break}e.push(i)}while(this.token==="|")}return[t,e]},read_interface_declaration_statement:function(t){let e=this.node("interface");if(this.token!==this.tok.T_INTERFACE)return this.error(this.tok.T_INTERFACE),this.next(),null;this.next().expect(this.tok.T_STRING);let i=this.node("identifier"),r=this.text();this.next(),i=i(r);let n=this.read_interface_extends_list();this.expect("{");let s=this.next().read_interface_body();return e(i,n,s,t||[])},read_interface_body:function(){let t=[],e=[];for(;this.token!==this.EOF&&this.token!=="}";){if(this.token===this.tok.T_COMMENT){t.push(this.read_comment());continue}if(this.token===this.tok.T_DOC_COMMENT){t.push(this.read_doc_comment());continue}let i=this.position();e=this.read_attr_list();let r=this.read_member_flags(!0);if(this.token==this.tok.T_CONST){let n=this.read_constant_list(r,e);this.expect(";")&&this.next(),t=t.concat(n),e=[]}else if(this.token===this.tok.T_FUNCTION){let n=this.read_function_declaration(2,r,e,i);n.parseFlags(r),t.push(n),this.expect(";")&&this.next(),e=[]}else this.error([this.tok.T_CONST,this.tok.T_FUNCTION]),this.next()}return this.expect("}")&&this.next(),t},read_trait_declaration_statement:function(){let t=this.node("trait");if(this.token!==this.tok.T_TRAIT)return this.error(this.tok.T_TRAIT),this.next(),null;this.next().expect(this.tok.T_STRING);let e=this.node("identifier"),i=this.text();this.next(),e=e(i),this.expect("{");let r=this.next().read_class_body();return t(e,r)},read_trait_use_statement:function(){let t=this.node("traituse");this.expect(this.tok.T_USE)&&this.next();let e=[this.read_namespace_name()],i=null;for(;this.token===",";)e.push(this.next().read_namespace_name());if(this.token==="{"){for(i=[];this.next().token!==this.EOF&&this.token!=="}";)i.push(this.read_trait_use_alias()),this.expect(";");this.expect("}")&&this.next()}else this.expect(";")&&this.next();return t(e,i)},read_trait_use_alias:function(){let t=this.node(),e=null,i;if(this.is("IDENTIFIER")){i=this.node("identifier");let r=this.text();this.next(),i=i(r)}else if(i=this.read_namespace_name(),this.token===this.tok.T_DOUBLE_COLON)if(this.next(),this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){e=i,i=this.node("identifier");let r=this.text();this.next(),i=i(r)}else this.expect(this.tok.T_STRING);else i=i.name;if(this.token===this.tok.T_INSTEADOF)return t("traitprecedence",e,i,this.next().read_name_list());if(this.token===this.tok.T_AS){let r=null,n=null;if(this.next().is("T_MEMBER_FLAGS")&&(r=this.read_member_flags()),this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){n=this.node("identifier");let s=this.text();this.next(),n=n(s)}else r===!1&&this.expect(this.tok.T_STRING);return t("traitalias",e,i,n,r)}return this.expect([this.tok.T_AS,this.tok.T_INSTEADOF]),t("traitalias",e,i,null,null)}}});var MR=C((mbe,OR)=>{"use strict";OR.exports={read_comment:function(){let t=this.text(),e=this.ast.prepare(t.substring(0,2)==="/*"?"commentblock":"commentline",null,this),i=this.lexer.yylloc.first_offset,r=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),e=e(t),e.offset=i,this.prev=r,e},read_doc_comment:function(){let t=this.ast.prepare("commentblock",null,this),e=this.lexer.yylloc.first_offset,i=this.text(),r=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),t=t(i),t.offset=e,this.prev=r,t}}});var BR=C((gbe,qR)=>{"use strict";qR.exports={read_expr:function(t){let e=this.node();if(this.token==="@")return t||(t=this.next().read_expr()),e("silent",t);if(t||(t=this.read_expr_item()),this.token==="|")return e("bin","|",t,this.next().read_expr());if(this.token==="&")return e("bin","&",t,this.next().read_expr());if(this.token==="^")return e("bin","^",t,this.next().read_expr());if(this.token===".")return e("bin",".",t,this.next().read_expr());if(this.token==="+")return e("bin","+",t,this.next().read_expr());if(this.token==="-")return e("bin","-",t,this.next().read_expr());if(this.token==="*")return e("bin","*",t,this.next().read_expr());if(this.token==="/")return e("bin","/",t,this.next().read_expr());if(this.token==="%")return e("bin","%",t,this.next().read_expr());if(this.token===this.tok.T_POW)return e("bin","**",t,this.next().read_expr());if(this.token===this.tok.T_SL)return e("bin","<<",t,this.next().read_expr());if(this.token===this.tok.T_SR)return e("bin",">>",t,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_OR)return e("bin","||",t,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_OR)return e("bin","or",t,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_AND)return e("bin","&&",t,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_AND)return e("bin","and",t,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_XOR)return e("bin","xor",t,this.next().read_expr());if(this.token===this.tok.T_IS_IDENTICAL)return e("bin","===",t,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_IDENTICAL)return e("bin","!==",t,this.next().read_expr());if(this.token===this.tok.T_IS_EQUAL)return e("bin","==",t,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_EQUAL)return e("bin","!=",t,this.next().read_expr());if(this.token==="<")return e("bin","<",t,this.next().read_expr());if(this.token===">")return e("bin",">",t,this.next().read_expr());if(this.token===this.tok.T_IS_SMALLER_OR_EQUAL)return e("bin","<=",t,this.next().read_expr());if(this.token===this.tok.T_IS_GREATER_OR_EQUAL)return e("bin",">=",t,this.next().read_expr());if(this.token===this.tok.T_SPACESHIP)return e("bin","<=>",t,this.next().read_expr());if(this.token===this.tok.T_INSTANCEOF&&(t=e("bin","instanceof",t,this.next().read_class_name_reference()),this.token!==";"&&this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF&&(t=this.read_expr(t))),this.token===this.tok.T_COALESCE)return e("bin","??",t,this.next().read_expr());if(this.token==="?"){let i=null;return this.next().token!==":"&&(i=this.read_expr()),this.expect(":")&&this.next(),e("retif",t,i,this.read_expr())}else e.destroy(t);return t},read_expr_cast:function(t){return this.node("cast")(t,this.text(),this.next().read_expr())},read_isset_variable:function(){return this.read_expr()},read_isset_variables:function(){return this.read_function_list(this.read_isset_variable,",")},read_internal_functions_in_yacc:function(){let t=null;switch(this.token){case this.tok.T_ISSET:{t=this.node("isset"),this.next().expect("(")&&this.next();let e=this.read_isset_variables();this.expect(")")&&this.next(),t=t(e)}break;case this.tok.T_EMPTY:{t=this.node("empty"),this.next().expect("(")&&this.next();let e=this.read_expr();this.expect(")")&&this.next(),t=t(e)}break;case this.tok.T_INCLUDE:t=this.node("include")(!1,!1,this.next().read_expr());break;case this.tok.T_INCLUDE_ONCE:t=this.node("include")(!0,!1,this.next().read_expr());break;case this.tok.T_EVAL:{t=this.node("eval"),this.next().expect("(")&&this.next();let e=this.read_expr();this.expect(")")&&this.next(),t=t(e)}break;case this.tok.T_REQUIRE:t=this.node("include")(!1,!0,this.next().read_expr());break;case this.tok.T_REQUIRE_ONCE:t=this.node("include")(!0,!0,this.next().read_expr());break}return t},read_optional_expr:function(t){return this.token!==t?this.read_expr():null},read_exit_expr:function(){let t=null;return this.token==="("&&(this.next(),t=this.read_optional_expr(")"),this.expect(")")&&this.next()),t},read_expr_item:function(){let t,e,i=[];if(this.token==="+")return this.node("unary")("+",this.next().read_expr());if(this.token==="-")return this.node("unary")("-",this.next().read_expr());if(this.token==="!")return this.node("unary")("!",this.next().read_expr());if(this.token==="~")return this.node("unary")("~",this.next().read_expr());if(this.token==="(")return e=this.next().read_expr(),e.parenthesizedExpression=!0,this.expect(")")&&this.next(),this.handleDereferencable(e);if(this.token==="`")return this.read_encapsed_string("`");if(this.token===this.tok.T_LIST){let r=null,n=this.innerList;t=this.node("list"),n||(r=this.node("assign")),this.next().expect("(")&&this.next(),this.innerList||(this.innerList=!0);let s=this.read_array_pair_list(!1);this.expect(")")&&this.next();let o=!1;for(let a=0;a<s.length;a++)if(s[a]!==null&&s[a].kind!=="noop"){o=!0;break}return o||this.raiseError("Fatal Error :  Cannot use empty list on line "+this.lexer.yylloc.first_line),n?t(s,!1):(this.innerList=!1,this.expect("=")?r(t(s,!1),this.next().read_expr(),"="):t(s,!1))}if(this.token===this.tok.T_ATTRIBUTE&&(i=this.read_attr_list()),this.token===this.tok.T_CLONE)return this.node("clone")(this.next().read_expr());switch(this.token){case this.tok.T_INC:return this.node("pre")("+",this.next().read_variable(!1,!1));case this.tok.T_DEC:return this.node("pre")("-",this.next().read_variable(!1,!1));case this.tok.T_NEW:return this.read_new_expr();case this.tok.T_ISSET:case this.tok.T_EMPTY:case this.tok.T_INCLUDE:case this.tok.T_INCLUDE_ONCE:case this.tok.T_EVAL:case this.tok.T_REQUIRE:case this.tok.T_REQUIRE_ONCE:return this.read_internal_functions_in_yacc();case this.tok.T_MATCH:return this.read_match_expression();case this.tok.T_INT_CAST:return this.read_expr_cast("int");case this.tok.T_DOUBLE_CAST:return this.read_expr_cast("float");case this.tok.T_STRING_CAST:return this.read_expr_cast(this.text().indexOf("binary")!==-1?"binary":"string");case this.tok.T_ARRAY_CAST:return this.read_expr_cast("array");case this.tok.T_OBJECT_CAST:return this.read_expr_cast("object");case this.tok.T_BOOL_CAST:return this.read_expr_cast("bool");case this.tok.T_UNSET_CAST:return this.read_expr_cast("unset");case this.tok.T_THROW:{this.version<800&&this.raiseError("PHP 8+ is required to use throw as an expression");let r=this.node("throw"),n=this.next().read_expr();return r(n)}case this.tok.T_EXIT:{let r=this.lexer.yytext.toLowerCase()==="die";t=this.node("exit"),this.next();let n=this.read_exit_expr();return t(n,r)}case this.tok.T_PRINT:return this.node("print")(this.next().read_expr());case this.tok.T_YIELD:{let r=null,n=null;return t=this.node("yield"),this.next().is("EXPR")&&(r=this.read_expr(),this.token===this.tok.T_DOUBLE_ARROW&&(n=r,r=this.next().read_expr())),t(r,n)}case this.tok.T_YIELD_FROM:return t=this.node("yieldfrom"),e=this.next().read_expr(),t(e);case this.tok.T_FN:case this.tok.T_FUNCTION:return this.read_inline_function(void 0,i);case this.tok.T_STATIC:{let r=[this.token,this.lexer.getState()];if(this.next(),this.token===this.tok.T_FUNCTION||this.version>=704&&this.token===this.tok.T_FN)return this.read_inline_function([0,1,0],i);this.lexer.tokens.push(r),this.next()}}if(this.is("VARIABLE")){t=this.node(),e=this.read_variable(!1,!1);let r=e.kind==="identifier"||e.kind==="staticlookup"&&e.offset.kind==="identifier";switch(this.token){case"=":return r&&this.error("VARIABLE"),this.next().token=="&"?this.read_assignref(t,e):t("assign",e,this.read_expr(),"=");case this.tok.T_PLUS_EQUAL:return r&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"+=");case this.tok.T_MINUS_EQUAL:return r&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"-=");case this.tok.T_MUL_EQUAL:return r&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"*=");case this.tok.T_POW_EQUAL:return r&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"**=");case this.tok.T_DIV_EQUAL:return r&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"/=");case this.tok.T_CONCAT_EQUAL:return r&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),".=");case this.tok.T_MOD_EQUAL:return r&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"%=");case this.tok.T_AND_EQUAL:return r&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"&=");case this.tok.T_OR_EQUAL:return r&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"|=");case this.tok.T_XOR_EQUAL:return r&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"^=");case this.tok.T_SL_EQUAL:return r&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"<<=");case this.tok.T_SR_EQUAL:return r&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),">>=");case this.tok.T_COALESCE_EQUAL:return r&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"??=");case this.tok.T_INC:return r&&this.error("VARIABLE"),this.next(),t("post","+",e);case this.tok.T_DEC:return r&&this.error("VARIABLE"),this.next(),t("post","-",e);default:t.destroy(e)}}else if(this.is("SCALAR")){if(t=this.node(),e=this.read_scalar(),e.kind==="array"&&e.shortForm&&this.token==="="){let r=this.convertToList(e);e.loc&&(r.loc=e.loc);let n=this.next().read_expr();return t("assign",r,n,"=")}else t.destroy(e);return this.handleDereferencable(e)}else this.error("EXPR"),this.next();return e},convertToList:function(t){let e=t.items.map(r=>(r.value&&r.value.kind==="array"&&r.value.shortForm&&(r.value=this.convertToList(r.value)),r)),i=this.node("list")(e,!0);return t.loc&&(i.loc=t.loc),t.leadingComments&&(i.leadingComments=t.leadingComments),t.trailingComments&&(i.trailingComments=t.trailingComments),i},read_assignref:function(t,e){this.next();let i;return this.token===this.tok.T_NEW?(this.version>=700&&this.error(),i=this.read_new_expr()):i=this.read_variable(!1,!1),t("assignref",e,i)},read_inline_function:function(t,e){if(this.token===this.tok.T_FUNCTION){let u=this.read_function(!0,t,e);return u.attrGroups=e,u}!this.version>=704&&this.raiseError("Arrow Functions are not allowed");let i=this.node("arrowfunc");this.expect(this.tok.T_FN)&&this.next();let r=this.is_reference();this.expect("(")&&this.next();let n=this.read_parameter_list();this.expect(")")&&this.next();let s=!1,o=null;this.token===":"&&(this.next().token==="?"&&(s=!0,this.next()),o=this.read_types()),this.expect(this.tok.T_DOUBLE_ARROW)&&this.next();let a=this.read_expr(),l=i(n,r,a,o,s,!!t);return l.attrGroups=e,l},read_match_expression:function(){let t=this.node("match");this.expect(this.tok.T_MATCH)&&this.next(),this.version<800&&this.raiseError("Match statements are not allowed before PHP 8");let e=null,i=[];return this.expect("(")&&this.next(),e=this.read_expr(),this.expect(")")&&this.next(),this.expect("{")&&this.next(),i=this.read_match_arms(),this.expect("}")&&this.next(),t(e,i)},read_match_arms:function(){return this.read_list(()=>this.read_match_arm(),",",!0)},read_match_arm:function(){if(this.token!=="}")return this.node("matcharm")(this.read_match_arm_conds(),this.read_expr())},read_match_arm_conds:function(){let t=[];if(this.token===this.tok.T_DEFAULT)t=null,this.next();else for(t.push(this.read_expr());this.token===",";){if(this.next(),this.token===this.tok.T_DOUBLE_ARROW)return this.next(),t;t.push(this.read_expr())}return this.expect(this.tok.T_DOUBLE_ARROW)&&this.next(),t},read_attribute(){let t=this.text(),e=[];return this.next(),this.token==="("&&(e=this.read_argument_list()),this.node("attribute")(t,e)},read_attr_list(){let t=[];if(this.token===this.tok.T_ATTRIBUTE)do{let e=this.node("attrgroup")([]);for(this.next(),e.attrs.push(this.read_attribute());this.token===",";)this.next(),this.token!=="]"&&e.attrs.push(this.read_attribute());t.push(e),this.expect("]"),this.next()}while(this.token===this.tok.T_ATTRIBUTE);return t},read_new_expr:function(){let t=this.node("new");this.expect(this.tok.T_NEW)&&this.next();let e=[],i=this.read_attr_list();if(this.token===this.tok.T_CLASS){let n=this.node("class");this.next().token==="("&&(e=this.read_argument_list());let s=this.read_extends_from(),o=this.read_implements_list(),a=null;this.expect("{")&&(a=this.next().read_class_body());let l=n(null,s,o,a,[0,0,0]);return l.attrGroups=i,t(l,e)}let r=this.read_new_class_name();return this.token==="("&&(e=this.read_argument_list()),t(r,e)},read_new_class_name:function(){if(this.token===this.tok.T_NS_SEPARATOR||this.token===this.tok.T_STRING||this.token===this.tok.T_NAMESPACE){let t=this.read_namespace_name(!0);return this.token===this.tok.T_DOUBLE_COLON&&(t=this.read_static_getter(t)),t}else{if(this.is("VARIABLE"))return this.read_variable(!0,!1);this.expect([this.tok.T_STRING,"VARIABLE"])}},handleDereferencable:function(t){for(;this.token!==this.EOF;)if(this.token===this.tok.T_OBJECT_OPERATOR||this.token===this.tok.T_DOUBLE_COLON)t=this.recursive_variable_chain_scan(t,!1,!1,!0);else if(this.token===this.tok.T_CURLY_OPEN||this.token==="[")t=this.read_dereferencable(t);else if(this.token==="(")t=this.node("call")(t,this.read_argument_list());else return t;return t}}});var UR=C((_be,VR)=>{"use strict";VR.exports={is_reference:function(){return this.token=="&"?(this.next(),!0):!1},is_variadic:function(){return this.token===this.tok.T_ELLIPSIS?(this.next(),!0):!1},read_function:function(t,e,i,r){let n=this.read_function_declaration(t?1:e?2:0,e&&e[1]===1,i||[],r);return e&&e[2]==1?(n.parseFlags(e),this.expect(";")&&this.next()):(this.expect("{")&&(n.body=this.read_code_block(!1),n.loc&&n.body.loc&&(n.loc.end=n.body.loc.end)),!t&&e&&n.parseFlags(e)),n},read_function_declaration:function(t,e,i,r){let n="function";t===1?n="closure":t===2&&(n="method");let s=this.node(n);this.expect(this.tok.T_FUNCTION)&&this.next();let o=this.is_reference(),a=!1,l=[],u=null,c=!1;if(t!==1){let p=this.node("identifier");t===2?this.version>=700?this.token===this.tok.T_STRING||this.is("IDENTIFIER")?(a=this.text(),this.next()):this.version<704&&this.error("IDENTIFIER"):this.token===this.tok.T_STRING?(a=this.text(),this.next()):this.error("IDENTIFIER"):this.version>=700?this.token===this.tok.T_STRING?(a=this.text(),this.next()):this.version>=704?this.expect("(")||this.next():(this.error(this.tok.T_STRING),this.next()):(this.expect(this.tok.T_STRING)&&(a=this.text()),this.next()),a=p(a)}this.expect("(")&&this.next();let f=this.read_parameter_list();this.expect(")")&&this.next(),t===1&&(l=this.read_lexical_vars()),this.token===":"&&(this.next().token==="?"&&(c=!0,this.next()),u=this.read_types());let d=p=>(p.attrGroups=i||[],r&&p.loc&&(p.loc.start=r,p.loc.source&&(p.loc.source=this.lexer._input.substr(p.loc.start.offset,p.loc.end.offset-p.loc.start.offset))),p);return d(t===1?s(f,o,l,u,c,e):s(a,f,o,u,c))},read_lexical_vars:function(){let t=[];return this.token===this.tok.T_USE&&(this.next(),this.expect("(")&&this.next(),t=this.read_lexical_var_list(),this.expect(")")&&this.next()),t},read_list_with_dangling_comma:function(t){let e=[];for(;this.token!=this.EOF;)if(e.push(t()),this.token==","){if(this.next(),this.version>=800&&this.token===")")return e}else{if(this.token==")")break;this.error([",",")"]);break}return e},read_lexical_var_list:function(){return this.read_list_with_dangling_comma(this.read_lexical_var.bind(this))},read_lexical_var:function(){if(this.token==="&")return this.read_byref(this.read_lexical_var.bind(this));let t=this.node("variable");this.expect(this.tok.T_VARIABLE);let e=this.text().substring(1);return this.next(),t(e,!1)},read_parameter_list:function(){return this.token!=")"?this.read_list_with_dangling_comma(this.read_parameter.bind(this)):[]},read_parameter:function(){let t=this.node("parameter"),e=null,i=null,r=null,n=!1,s=[];this.token===this.tok.T_ATTRIBUTE&&(s=this.read_attr_list());let o=this.read_promoted();this.token==="?"&&(this.next(),n=!0),r=this.read_types(),n&&!r&&this.raiseError("Expecting a type definition combined with nullable operator");let a=this.is_reference(),l=this.is_variadic();if(this.expect(this.tok.T_VARIABLE)){e=this.node("identifier");let c=this.text().substring(1);this.next(),e=e(c)}this.token=="="&&(i=this.next().read_expr());let u=t(e,r,i,a,l,n,o);return s&&(u.attrGroups=s),u},read_types(){let t=[],e=this.node("uniontype"),i=this.read_type();if(!i)return null;for(t.push(i);this.token==="|";)this.next(),i=this.read_type(),t.push(i);return t.length===1?t[0]:e(t)},read_promoted(){return this.token===this.tok.T_PUBLIC?(this.next(),1):this.token===this.tok.T_PROTECTED?(this.next(),2):this.token===this.tok.T_PRIVATE?(this.next(),4):0},read_argument_list:function(){let t=[];return this.expect("(")&&this.next(),this.token!==")"&&(t=this.read_non_empty_argument_list()),this.expect(")")&&this.next(),t},read_non_empty_argument_list:function(){let t=!1;return this.read_function_list(function(){let e=this.read_argument();return e&&(t&&this.raiseError("Unexpected argument after a variadic argument"),e.kind==="variadic"&&(t=!0)),e}.bind(this),",")},read_argument:function(){if(this.token===this.tok.T_ELLIPSIS)return this.node("variadic")(this.next().read_expr());if(this.token===this.tok.T_STRING||Object.values(this.lexer.keywords).includes(this.token)){let t=this.lexer.getState(),e=this.lexer.lex();if(this.lexer.setState(t),e===":")return this.version<800&&this.raiseError("PHP 8+ is required to use named arguments"),this.node("namedargument")(this.text(),this.next().next().read_expr())}return this.read_expr()},read_type:function(){let t=this.node();if(this.token===this.tok.T_ARRAY||this.token===this.tok.T_CALLABLE){let e=this.text();return this.next(),t("typereference",e.toLowerCase(),e)}else if(this.token===this.tok.T_STRING||this.token===this.tok.T_STATIC){let e=this.text(),i=[this.token,this.lexer.getState()];return this.next(),this.token!==this.tok.T_NS_SEPARATOR&&this.ast.typereference.types.indexOf(e.toLowerCase())>-1?t("typereference",e.toLowerCase(),e):(this.lexer.tokens.push(i),this.next(),t.destroy(),this.read_namespace_name())}else if(this.token===this.tok.T_NAMESPACE||this.token===this.tok.T_NS_SEPARATOR)return t.destroy(),this.read_namespace_name();return t.destroy(),null}}});var GR=C((ybe,jR)=>{"use strict";jR.exports={read_if:function(){let t=this.node("if"),e=this.next().read_if_expr(),i=null,r=null,n=!1;if(this.token===":"){n=!0,this.next(),i=this.node("block");let s=[];for(;this.token!==this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){r=this.read_elseif_short();break}else if(this.token===this.tok.T_ELSE){r=this.read_else_short();break}s.push(this.read_inner_statement())}i=i(null,s),this.expect(this.tok.T_ENDIF)&&this.next(),this.expectEndOfStatement()}else i=this.read_statement(),this.token===this.tok.T_ELSEIF?r=this.read_if():this.token===this.tok.T_ELSE&&(r=this.next().read_statement());return t(e,i,r,n)},read_if_expr:function(){this.expect("(")&&this.next();let t=this.read_expr();return this.expect(")")&&this.next(),t},read_elseif_short:function(){let t=null,e=this.node("if"),i=this.next().read_if_expr();this.expect(":")&&this.next();let r=this.node("block"),n=[];for(;this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){t=this.read_elseif_short();break}else if(this.token===this.tok.T_ELSE){t=this.read_else_short();break}n.push(this.read_inner_statement())}return e(i,r(null,n),t,!0)},read_else_short:function(){this.next().expect(":")&&this.next();let t=this.node("block"),e=[];for(;this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;)e.push(this.read_inner_statement());return t(null,e)}}});var WR=C((Tbe,HR)=>{"use strict";HR.exports={read_while:function(){let t=this.node("while");this.expect(this.tok.T_WHILE)&&this.next();let e=null,i=null,r=!1;return this.expect("(")&&this.next(),e=this.read_expr(),this.expect(")")&&this.next(),this.token===":"?(r=!0,i=this.read_short_form(this.tok.T_ENDWHILE)):i=this.read_statement(),t(e,i,r)},read_do:function(){let t=this.node("do");this.expect(this.tok.T_DO)&&this.next();let e=null,i=null;return i=this.read_statement(),this.expect(this.tok.T_WHILE)&&(this.next().expect("(")&&this.next(),e=this.read_expr(),this.expect(")")&&this.next(),this.expect(";")&&this.next()),t(e,i)},read_for:function(){let t=this.node("for");this.expect(this.tok.T_FOR)&&this.next();let e=[],i=[],r=[],n=null,s=!1;return this.expect("(")&&this.next(),this.token!==";"?(e=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),this.token!==";"?(i=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),this.token!==")"?(r=this.read_list(this.read_expr,","),this.expect(")")&&this.next()):this.next(),this.token===":"?(s=!0,n=this.read_short_form(this.tok.T_ENDFOR)):n=this.read_statement(),t(e,i,r,n,s)},read_foreach:function(){let t=this.node("foreach");this.expect(this.tok.T_FOREACH)&&this.next();let e=null,i=null,r=null,n=null,s=!1;return this.expect("(")&&this.next(),e=this.read_expr(),this.expect(this.tok.T_AS)&&(this.next(),r=this.read_foreach_variable(),this.token===this.tok.T_DOUBLE_ARROW&&(i=r,r=this.next().read_foreach_variable())),i&&i.kind==="list"&&this.raiseError("Fatal Error : Cannot use list as key element"),this.expect(")")&&this.next(),this.token===":"?(s=!0,n=this.read_short_form(this.tok.T_ENDFOREACH)):n=this.read_statement(),t(e,i,r,n,s)},read_foreach_variable:function(){if(this.token===this.tok.T_LIST||this.token==="["){let t=this.token==="[",e=this.node("list");this.next(),!t&&this.expect("(")&&this.next();let i=this.read_array_pair_list(t);return this.expect(t?"]":")")&&this.next(),e(i,t)}else return this.read_variable(!1,!1)}}});var KR=C((bbe,YR)=>{"use strict";YR.exports={read_start:function(){return this.token==this.tok.T_NAMESPACE?this.read_namespace():this.read_top_statement()}}});var zR=C((Ibe,$R)=>{"use strict";$R.exports={read_namespace:function(){let t=this.node("namespace"),e;this.expect(this.tok.T_NAMESPACE)&&this.next();let i;return this.token=="{"?i={name:[""]}:i=this.read_namespace_name(),this.currentNamespace=i,this.token==";"?(this.currentNamespace=i,e=this.next().read_top_statements(),this.expect(this.EOF),t(i.name,e,!1)):this.token=="{"?(this.currentNamespace=i,e=this.next().read_top_statements(),this.expect("}")&&this.next(),e.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&e.push(this.node("noop")()),t(i.name,e,!0)):this.token==="("?(i.resolution=this.ast.reference.RELATIVE_NAME,i.name=i.name.substring(1),t.destroy(),this.node("call")(i,this.read_argument_list())):(this.error(["{",";"]),this.currentNamespace=i,e=this.read_top_statements(),this.expect(this.EOF),t(i,e,!1))},read_namespace_name:function(t){let e=this.node(),i=!1;this.token===this.tok.T_NAMESPACE&&(this.next().expect(this.tok.T_NS_SEPARATOR)&&this.next(),i=!0);let r=this.read_list(this.tok.T_STRING,this.tok.T_NS_SEPARATOR,!0);if(!i&&r.length===1&&(t||this.token!=="(")){if(r[0].toLowerCase()==="parent")return e("parentreference",r[0]);if(r[0].toLowerCase()==="self")return e("selfreference",r[0])}return e("name",r,i)},read_use_statement:function(){let t=this.node("usegroup"),e=[],i=null;this.expect(this.tok.T_USE)&&this.next();let r=this.read_use_type();return e.push(this.read_use_declaration(!1)),this.token===","?e=e.concat(this.next().read_use_declarations(!1)):this.token==="{"&&(i=e[0].name,e=this.next().read_use_declarations(r===null),this.expect("}")&&this.next()),t=t(i,r,e),this.expect(";")&&this.next(),t},read_class_name_reference:function(){return this.read_variable(!0,!1)},read_use_declaration:function(t){let e=this.node("useitem"),i=null;t&&(i=this.read_use_type());let r=this.read_namespace_name(),n=this.read_use_alias();return e(r.name,n,i)},read_use_declarations:function(t){let e=[this.read_use_declaration(t)];for(;this.token===",";){if(this.next(),t){if(this.token!==this.tok.T_FUNCTION&&this.token!==this.tok.T_CONST&&this.token!==this.tok.T_STRING)break}else if(this.token!==this.tok.T_STRING&&this.token!==this.tok.T_NS_SEPARATOR)break;e.push(this.read_use_declaration(t))}return e},read_use_alias:function(){let t=null;if(this.token===this.tok.T_AS&&this.next().expect(this.tok.T_STRING)){let e=this.node("identifier"),i=this.text();this.next(),t=e(i)}return t},read_use_type:function(){return this.token===this.tok.T_FUNCTION?(this.next(),this.ast.useitem.TYPE_FUNCTION):this.token===this.tok.T_CONST?(this.next(),this.ast.useitem.TYPE_CONST):null}}});var JR=C((vbe,XR)=>{"use strict";var QR={"\\":"\\",$:"$",n:`
`,r:"\r",t:"	",f:String.fromCharCode(12),v:String.fromCharCode(11),e:String.fromCharCode(27)};XR.exports={resolve_special_chars:function(t,e){return e?t.replace(/\\"/,'"').replace(/\\([\\$nrtfve]|[xX][0-9a-fA-F]{1,2}|[0-7]{1,3}|u{([0-9a-fA-F]+)})/g,(i,r,n)=>QR[r]?QR[r]:r[0]==="x"||r[0]==="X"?String.fromCodePoint(parseInt(r.substr(1),16)):r[0]==="u"?String.fromCodePoint(parseInt(n,16)):String.fromCodePoint(parseInt(r,8))):t.replace(/\\\\/g,"\\").replace(/\\'/g,"'")},remove_heredoc_leading_whitespace_chars:function(t,e,i,r){if(e===0)return t;this.check_heredoc_indentation_level(t,e,i,r);let n=i?" ":"	",s=new RegExp(`\\n${n}{${e}}`,"g"),o=new RegExp(`^${n}{${e}}`);return r&&(t=t.replace(o,"")),t.replace(s,`
`)},check_heredoc_indentation_level:function(t,e,i,r){let n=t.length,s=0,o=0,a=!0,l=i?" ":"	",u=!1;if(!r){if(s=t.indexOf(`
`),s===-1)return;s++}for(;s<n;)a?t[s]===l?o++:u=!0:a=!1,t[s]!==`
`&&u&&o<e?this.raiseError(`Invalid body indentation level (expecting an indentation at least ${e})`):u=!1,t[s]===`
`&&(a=!0,o=0),s++},read_dereferencable_scalar:function(){let t=null;switch(this.token){case this.tok.T_CONSTANT_ENCAPSED_STRING:{let e=this.node("string"),i=this.text(),r=0;(i[0]==="b"||i[0]==="B")&&(r=1);let n=i[r]==='"';this.next();let s=this.resolve_special_chars(i.substring(r+1,i.length-1),n);e=e(n,s,r===1,i),this.token===this.tok.T_DOUBLE_COLON?t=this.read_static_getter(e):t=e}break;case this.tok.T_ARRAY:t=this.read_array();break;case"[":t=this.read_array();break}return t},read_scalar:function(){if(this.is("T_MAGIC_CONST"))return this.get_magic_constant();{let t,e;switch(this.token){case this.tok.T_LNUMBER:case this.tok.T_DNUMBER:{let i=this.node("number");return t=this.text(),this.next(),i(t,null)}case this.tok.T_START_HEREDOC:if(this.lexer.curCondition==="ST_NOWDOC"){let i=this.lexer.yylloc.first_offset;e=this.node("nowdoc"),t=this.next().text(),this.lexer.heredoc_label.indentation>0&&(t=t.substring(0,t.length-this.lexer.heredoc_label.indentation));let r=t[t.length-1];r===`
`?t[t.length-2]==="\r"?t=t.substring(0,t.length-2):t=t.substring(0,t.length-1):r==="\r"&&(t=t.substring(0,t.length-1)),this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE)&&this.next(),this.expect(this.tok.T_END_HEREDOC)&&this.next();let n=this.lexer._input.substring(i,this.lexer.yylloc.first_offset);return e=e(this.remove_heredoc_leading_whitespace_chars(t,this.lexer.heredoc_label.indentation,this.lexer.heredoc_label.indentation_uses_spaces,this.lexer.heredoc_label.first_encaps_node),n,this.lexer.heredoc_label.label),e}else return this.read_encapsed_string(this.tok.T_END_HEREDOC);case'"':return this.read_encapsed_string('"');case'b"':case'B"':return this.read_encapsed_string('"',!0);case this.tok.T_CONSTANT_ENCAPSED_STRING:case this.tok.T_ARRAY:case"[":return this.read_dereferencable_scalar();default:{let i=this.error("SCALAR");return this.next(),i}}}},read_dereferencable:function(t){let e,i,r=this.node("offsetlookup");return this.token==="["?(i=this.next().read_expr(),this.expect("]")&&this.next(),e=r(t,i)):this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES&&(i=this.read_encapsed_string_item(!1),e=r(t,i)),e},read_encapsed_string_item:function(t){let e=this.node("encapsedpart"),i=null,r=!1,n=this.node(),s,o,a;if(this.token===this.tok.T_ENCAPSED_AND_WHITESPACE){let l=this.text();this.next(),n=n("string",!1,this.version>=703&&!this.lexer.heredoc_label.finished?this.remove_heredoc_leading_whitespace_chars(this.resolve_special_chars(l,t),this.lexer.heredoc_label.indentation,this.lexer.heredoc_label.indentation_uses_spaces,this.lexer.heredoc_label.first_encaps_node):l,!1,l)}else if(this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES){if(i="simple",r=!0,a=null,this.next().token===this.tok.T_STRING_VARNAME){a=this.node("variable");let l=this.text();this.next(),this.token==="["?(a=a(l,!1),o=this.node("offsetlookup"),s=this.next().read_expr(),this.expect("]")&&this.next(),n=o(a,s)):n=a(l,!1)}else n=n("variable",this.read_expr(),!1);this.expect("}")&&this.next()}else if(this.token===this.tok.T_CURLY_OPEN)i="complex",n.destroy(),n=this.next().read_variable(!1,!1),this.expect("}")&&this.next();else if(this.token===this.tok.T_VARIABLE){if(i="simple",n.destroy(),n=this.read_simple_variable(),this.token==="["&&(o=this.node("offsetlookup"),s=this.next().read_encaps_var_offset(),this.expect("]")&&this.next(),n=o(n,s)),this.token===this.tok.T_OBJECT_OPERATOR){o=this.node("propertylookup"),this.next().expect(this.tok.T_STRING);let l=this.node("identifier");a=this.text(),this.next(),n=o(n,l(a))}}else{this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE);let l=this.text();this.next(),n.destroy(),n=n("string",!1,l,!1,l)}return this.lexer.heredoc_label.first_encaps_node=!1,e(n,i,r)},read_encapsed_string:function(t,e=!1){let i=this.lexer.yylloc.first_offset,r=this.node("encapsed");this.next();let n=this.lexer.yylloc.prev_offset-(e?1:0),s=[],o=null;for(t==="`"?o=this.ast.encapsed.TYPE_SHELL:t==='"'?o=this.ast.encapsed.TYPE_STRING:o=this.ast.encapsed.TYPE_HEREDOC;this.token!==t&&this.token!==this.EOF;)s.push(this.read_encapsed_string_item(!0));if(s.length>0&&s[s.length-1].kind==="encapsedpart"&&s[s.length-1].expression.kind==="string"){let l=s[s.length-1].expression,u=l.value[l.value.length-1];u===`
`?l.value[l.value.length-2]==="\r"?l.value=l.value.substring(0,l.value.length-2):l.value=l.value.substring(0,l.value.length-1):u==="\r"&&(l.value=l.value.substring(0,l.value.length-1))}this.expect(t)&&this.next();let a=this.lexer._input.substring(o==="heredoc"?i:n-1,this.lexer.yylloc.first_offset);return r=r(s,a,o),t===this.tok.T_END_HEREDOC&&(r.label=this.lexer.heredoc_label.label,this.lexer.heredoc_label.finished=!0),r},get_magic_constant:function(){let t=this.node("magic"),e=this.text();return this.next(),t(e.toUpperCase(),e)}}});var ex=C((Nbe,ZR)=>{"use strict";ZR.exports={read_top_statements:function(){let t=[];for(;this.token!==this.EOF&&this.token!=="}";){let e=this.read_top_statement();e&&(Array.isArray(e)?t=t.concat(e):t.push(e))}return t},read_top_statement:function(){let t=[];switch(this.token===this.tok.T_ATTRIBUTE&&(t=this.read_attr_list()),this.token){case this.tok.T_FUNCTION:return this.read_function(!1,!1,t);case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_CLASS:return this.read_class_declaration_statement(t);case this.tok.T_INTERFACE:return this.read_interface_declaration_statement(t);case this.tok.T_TRAIT:return this.read_trait_declaration_statement();case this.tok.T_USE:return this.read_use_statement();case this.tok.T_CONST:{let e=this.node("constantstatement"),i=this.next().read_const_list();return this.expectEndOfStatement(),e(null,i)}case this.tok.T_NAMESPACE:return this.read_namespace();case this.tok.T_HALT_COMPILER:{let e=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),this.expect(";"),this.lexer.done=!0,e(this.lexer._input.substring(this.lexer.offset))}default:return this.read_statement()}},read_inner_statements:function(){let t=[];for(;this.token!=this.EOF&&this.token!=="}";){let e=this.read_inner_statement();e&&(Array.isArray(e)?t=t.concat(e):t.push(e))}return t},read_const_list:function(){return this.read_list(function(){this.expect(this.tok.T_STRING);let t=this.node("constant"),e=this.node("identifier"),i=this.text();return this.next(),e=e(i),this.expect("=")?t(e,this.next().read_expr()):t(e,null)},",",!1)},read_declare_list:function(){let t=[];for(;this.token!=this.EOF&&this.token!==")";){this.expect(this.tok.T_STRING);let e=this.node("declaredirective"),i=this.node("identifier"),r=this.text();this.next(),i=i(r);let n=null;if(this.expect("=")&&(n=this.next().read_expr()),t.push(e(i,n)),this.token!==",")break;this.next()}return t},read_inner_statement:function(){let t=[];switch(this.token===this.tok.T_ATTRIBUTE&&(t=this.read_attr_list()),this.token){case this.tok.T_FUNCTION:{let e=this.read_function(!1,!1);return e.attrGroups=t,e}case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_CLASS:return this.read_class_declaration_statement();case this.tok.T_INTERFACE:return this.read_interface_declaration_statement();case this.tok.T_TRAIT:return this.read_trait_declaration_statement();case this.tok.T_HALT_COMPILER:{this.raiseError("__HALT_COMPILER() can only be used from the outermost scope");let e=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),e=e(this.lexer._input.substring(this.lexer.offset)),this.expect(";")&&this.next(),e}default:return this.read_statement()}},read_statement:function(){switch(this.token){case"{":return this.read_code_block(!1);case this.tok.T_IF:return this.read_if();case this.tok.T_SWITCH:return this.read_switch();case this.tok.T_FOR:return this.read_for();case this.tok.T_FOREACH:return this.read_foreach();case this.tok.T_WHILE:return this.read_while();case this.tok.T_DO:return this.read_do();case this.tok.T_COMMENT:return this.read_comment();case this.tok.T_DOC_COMMENT:return this.read_doc_comment();case this.tok.T_RETURN:{let t=this.node("return");this.next();let e=this.read_optional_expr(";");return this.expectEndOfStatement(),t(e)}case this.tok.T_BREAK:case this.tok.T_CONTINUE:{let t=this.node(this.token===this.tok.T_CONTINUE?"continue":"break");this.next();let e=this.read_optional_expr(";");return this.expectEndOfStatement(),t(e)}case this.tok.T_GLOBAL:{let t=this.node("global"),e=this.next().read_list(this.read_simple_variable,",");return this.expectEndOfStatement(),t(e)}case this.tok.T_STATIC:{let t=[this.token,this.lexer.getState()],e=this.node();if(this.next().token===this.tok.T_DOUBLE_COLON){this.lexer.tokens.push(t);let r=this.next().read_expr();return this.expectEndOfStatement(r),e("expressionstatement",r)}if(this.token===this.tok.T_FUNCTION)return this.read_function(!0,[0,1,0]);let i=this.read_variable_declarations();return this.expectEndOfStatement(),e("static",i)}case this.tok.T_ECHO:{let t=this.node("echo"),e=this.text(),i=e==="<?="||e==="<%=",r=this.next().read_function_list(this.read_expr,",");return this.expectEndOfStatement(),t(r,i)}case this.tok.T_INLINE_HTML:{let t=this.text(),e=this.lexer.yylloc.first_offset>0?this.lexer._input[this.lexer.yylloc.first_offset-1]:null,i=e==="\r"||e===`
`;i&&e===`
`&&this.lexer.yylloc.first_offset>1&&this.lexer._input[this.lexer.yylloc.first_offset-2]==="\r"&&(e=`\r
`);let r=this.node("inline");return this.next(),r(t,i?e+t:t)}case this.tok.T_UNSET:{let t=this.node("unset");this.next().expect("(")&&this.next();let e=this.read_function_list(this.read_variable,",");return this.expect(")")&&this.next(),this.expect(";")&&this.next(),t(e)}case this.tok.T_DECLARE:{let t=this.node("declare"),e=[],i;this.next().expect("(")&&this.next();let r=this.read_declare_list();if(this.expect(")")&&this.next(),this.token===":"){for(this.next();this.token!=this.EOF&&this.token!==this.tok.T_ENDDECLARE;)e.push(this.read_top_statement());e.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&e.push(this.node("noop")()),this.expect(this.tok.T_ENDDECLARE)&&this.next(),this.expectEndOfStatement(),i=this.ast.declare.MODE_SHORT}else if(this.token==="{"){for(this.next();this.token!=this.EOF&&this.token!=="}";)e.push(this.read_top_statement());e.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&e.push(this.node("noop")()),this.expect("}")&&this.next(),i=this.ast.declare.MODE_BLOCK}else this.expect(";")&&this.next(),i=this.ast.declare.MODE_NONE;return t(r,e,i)}case this.tok.T_TRY:return this.read_try();case this.tok.T_THROW:{let t=this.node("throw"),e=this.next().read_expr();return this.expectEndOfStatement(),t(e)}case";":return this.next(),null;case this.tok.T_STRING:{let t=this.node(),e=[this.token,this.lexer.getState()],i=this.text(),r=this.node("identifier");if(this.next().token===":")return r=r(i),this.next(),t("label",r);r.destroy(),t.destroy(),this.lexer.tokens.push(e);let n=this.node("expressionstatement"),s=this.next().read_expr();return this.expectEndOfStatement(s),n(s)}case this.tok.T_GOTO:{let t=this.node("goto"),e=null;if(this.next().expect(this.tok.T_STRING)){e=this.node("identifier");let i=this.text();this.next(),e=e(i),this.expectEndOfStatement()}return t(e)}default:{let t=this.node("expressionstatement"),e=this.read_expr();return this.expectEndOfStatement(e),t(e)}}},read_code_block:function(t){let e=this.node("block");this.expect("{")&&this.next();let i=t?this.read_top_statements():this.read_inner_statements();return i.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&i.push(this.node("noop")()),this.expect("}")&&this.next(),e(null,i)}}});var ix=C((Sbe,tx)=>{"use strict";tx.exports={read_switch:function(){let t=this.node("switch");this.expect(this.tok.T_SWITCH)&&this.next(),this.expect("(")&&this.next();let e=this.read_expr();this.expect(")")&&this.next();let i=this.token===":",r=this.read_switch_case_list();return t(e,r,i)},read_switch_case_list:function(){let t=null,e=this.node("block"),i=[];for(this.token==="{"?t="}":this.token===":"?t=this.tok.T_ENDSWITCH:this.expect(["{",":"]),this.next(),this.token===";"&&this.next();this.token!==this.EOF&&this.token!==t;)i.push(this.read_case_list(t));return i.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&i.push(this.node("noop")()),this.expect(t)&&this.next(),t===this.tok.T_ENDSWITCH&&this.expectEndOfStatement(),e(null,i)},read_case_list:function(t){let e=this.node("case"),i=null;this.token===this.tok.T_CASE?i=this.next().read_expr():this.token===this.tok.T_DEFAULT?this.next():this.expect([this.tok.T_CASE,this.tok.T_DEFAULT]),this.expect([":",";"])&&this.next();let r=this.node("block"),n=[];for(;this.token!==this.EOF&&this.token!==t&&this.token!==this.tok.T_CASE&&this.token!==this.tok.T_DEFAULT;)n.push(this.read_inner_statement());return e(i,r(null,n))}}});var nx=C((Pbe,rx)=>{"use strict";rx.exports={read_try:function(){this.expect(this.tok.T_TRY);let t=this.node("try"),e=null,i=[],r=this.next().read_statement();for(;this.token===this.tok.T_CATCH;){let n=this.node("catch");this.next().expect("(")&&this.next();let s=this.read_list(this.read_namespace_name,"|",!1),o=null;this.token===this.tok.T_VARIABLE&&(o=this.read_variable(!0,!1)),this.expect(")"),i.push(n(this.next().read_statement(),s,o))}return this.token===this.tok.T_FINALLY&&(e=this.next().read_statement()),t(r,i,e)}}});var ox=C((Abe,sx)=>{"use strict";sx.exports={read_short_form:function(t){let e=this.node("block"),i=[];for(this.expect(":")&&this.next();this.token!=this.EOF&&this.token!==t;)i.push(this.read_inner_statement());return i.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&i.push(this.node("noop")()),this.expect(t)&&this.next(),this.expectEndOfStatement(),e(null,i)},read_function_list:function(t,e){let i=[];do{if(this.token==e&&this.version>=703&&i.length>0){i.push(this.node("noop")());break}if(i.push(t.apply(this,[])),this.token!=e||this.next().token==")"&&this.version>=703)break}while(this.token!=this.EOF);return i},read_list:function(t,e,i){let r=[];if(this.token==e&&(i&&r.push(typeof t=="function"?this.node("noop")():null),this.next()),typeof t=="function")do{let n=t.apply(this,[]);if(n&&r.push(n),this.token!=e)break}while(this.next().token!=this.EOF);else{if(this.expect(t))r.push(this.text());else return[];for(;this.next().token!=this.EOF&&!(this.token!=e||this.next().token!=t);)r.push(this.text())}return r},read_name_list:function(){return this.read_list(this.read_namespace_name,",",!1)},read_byref:function(t){let e=this.node("byref");this.next(),e=e(null);let i=t();return i&&(this.ast.swapLocations(i,e,i,this),i.byref=!0),i},read_variable_declarations:function(){return this.read_list(function(){let t=this.node("staticvariable"),e=this.node("variable");if(this.expect(this.tok.T_VARIABLE)){let i=this.text().substring(1);this.next(),e=e(i,!1)}else e=e("#ERR",!1);return this.token==="="?t(e,this.next().read_expr()):e},",")},read_extends_from:function(){return this.token===this.tok.T_EXTENDS?this.next().read_namespace_name():null},read_interface_extends_list:function(){return this.token===this.tok.T_EXTENDS?this.next().read_name_list():null},read_implements_list:function(){return this.token===this.tok.T_IMPLEMENTS?this.next().read_name_list():null}}});var lx=C((Ebe,ax)=>{"use strict";ax.exports={read_variable:function(t,e){let i;if(this.token==="&")return this.read_byref(this.read_variable.bind(this,t,e));if(this.is([this.tok.T_VARIABLE,"$"]))i=this.read_reference_variable(e);else if(this.is([this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAMESPACE])){i=this.node();let r=this.read_namespace_name();if(this.token!=this.tok.T_DOUBLE_COLON&&this.token!="("&&["parentreference","selfreference"].indexOf(r.kind)===-1){let n=r.name.toLowerCase();n==="true"?i=r.destroy(i("boolean",!0,r.name)):n==="false"?i=r.destroy(i("boolean",!1,r.name)):n==="null"?i=r.destroy(i("nullkeyword",r.name)):(i.destroy(r),i=r)}else i.destroy(r),i=r}else if(this.token===this.tok.T_STATIC){i=this.node("staticreference");let r=this.text();this.next(),i=i(r)}else this.expect("VARIABLE");return this.token===this.tok.T_DOUBLE_COLON&&(i=this.read_static_getter(i,e)),this.recursive_variable_chain_scan(i,t,e)},read_static_getter:function(t,e){let i=this.node("staticlookup"),r,n;return this.next().is([this.tok.T_VARIABLE,"$"])?r=this.read_reference_variable(e):this.token===this.tok.T_STRING||this.token===this.tok.T_CLASS||this.version>=700&&this.is("IDENTIFIER")?(r=this.node("identifier"),n=this.text(),this.next(),r=r(n)):this.token==="{"?(r=this.node("literal"),n=this.next().read_expr(),this.expect("}")&&this.next(),r=r("literal",n,null),this.expect("(")):(this.error([this.tok.T_VARIABLE,this.tok.T_STRING]),r=this.node("identifier"),n=this.text(),this.next(),r=r(n)),i(t,r)},read_what:function(t=!1){let e=null,i=null;switch(this.next().token){case this.tok.T_STRING:e=this.node("identifier"),i=this.text(),this.next(),e=e(i),t&&this.token===this.tok.T_OBJECT_OPERATOR&&this.error();break;case this.tok.T_VARIABLE:e=this.node("variable"),i=this.text().substring(1),this.next(),e=e(i,!1);break;case"$":e=this.node(),this.next().expect(["$","{",this.tok.T_VARIABLE]),this.token==="{"?(i=this.next().read_expr(),this.expect("}")&&this.next(),e=e("variable",i,!0)):(i=this.read_expr(),e=e("variable",i,!1));break;case"{":e=this.node("encapsedpart"),i=this.next().read_expr(),this.expect("}")&&this.next(),e=e(i,"complex",!1);break;default:this.error([this.tok.T_STRING,this.tok.T_VARIABLE,"$","{"]),e=this.node("identifier"),i=this.text(),this.next(),e=e(i);break}return e},recursive_variable_chain_scan:function(t,e,i){let r,n;e:for(;this.token!=this.EOF;)switch(this.token){case"(":if(e)return t;t=this.node("call")(t,this.read_argument_list());break;case"[":case"{":{let o=this.token==="[";r=this.node("offsetlookup"),this.next(),n=!1,i?(n=this.read_encaps_var_offset(),this.expect(o?"]":"}")&&this.next()):(o?this.token!=="]":this.token!=="}")?(n=this.read_expr(),this.expect(o?"]":"}")&&this.next()):this.next(),t=r(t,n);break}case this.tok.T_DOUBLE_COLON:t.kind==="staticlookup"&&t.offset.kind==="identifier"&&this.error(),r=this.node("staticlookup"),t=r(t,this.read_what(!0));break;case this.tok.T_OBJECT_OPERATOR:{r=this.node("propertylookup"),t=r(t,this.read_what());break}case this.tok.T_NULLSAFE_OBJECT_OPERATOR:{r=this.node("nullsafepropertylookup"),t=r(t,this.read_what());break}default:break e}return t},read_encaps_var_offset:function(){let t=this.node();if(this.token===this.tok.T_STRING){let e=this.text();this.next(),t=t("identifier",e)}else if(this.token===this.tok.T_NUM_STRING){let e=this.text();this.next(),t=t("number",e,null)}else if(this.token==="-"){this.next();let e=-1*this.text();this.expect(this.tok.T_NUM_STRING)&&this.next(),t=t("number",e,null)}else if(this.token===this.tok.T_VARIABLE){let e=this.text().substring(1);this.next(),t=t("variable",e,!1)}else{this.expect([this.tok.T_STRING,this.tok.T_NUM_STRING,"-",this.tok.T_VARIABLE]);let e=this.text();this.next(),t=t("identifier",e)}return t},read_reference_variable:function(t){let e=this.read_simple_variable(),i;for(;this.token!=this.EOF;){let r=this.node();if(this.token=="{"&&!t)i=this.next().read_expr(),this.expect("}")&&this.next(),e=r("offsetlookup",e,i);else{r.destroy();break}}return e},read_simple_variable:function(){let t=this.node("variable"),e;if(this.expect([this.tok.T_VARIABLE,"$"])&&this.token===this.tok.T_VARIABLE)e=this.text().substring(1),this.next(),t=t(e,!1);else switch(this.token==="$"&&this.next(),this.token){case"{":{let i=this.next().read_expr();this.expect("}")&&this.next(),t=t(i,!0);break}case"$":t=t(this.read_simple_variable(),!1);break;case this.tok.T_VARIABLE:{e=this.text().substring(1);let i=this.node("variable");this.next(),t=t(i(e,!1),!1);break}default:this.error(["{","$",this.tok.T_VARIABLE]),e=this.text(),this.next(),t=t(e,!1)}return t}}});var cx=C((Cbe,ux)=>{"use strict";var f9=oT();function lT(t){return t!="."&&t!=","&&!isNaN(parseFloat(t))&&isFinite(t)}var Ui=function(t,e){this.lexer=t,this.ast=e,this.tok=t.tok,this.EOF=t.EOF,this.token=null,this.prev=null,this.debug=!1,this.version=800,this.extractDoc=!1,this.extractTokens=!1,this.suppressErrors=!1;let i=function(r){return[r,null]};this.entries={IDENTIFIER:new Map([this.tok.T_ABSTRACT,this.tok.T_ARRAY,this.tok.T_AS,this.tok.T_BREAK,this.tok.T_CALLABLE,this.tok.T_CASE,this.tok.T_CATCH,this.tok.T_CLASS,this.tok.T_CLASS_C,this.tok.T_CLONE,this.tok.T_CONST,this.tok.T_CONTINUE,this.tok.T_DECLARE,this.tok.T_DEFAULT,this.tok.T_DIR,this.tok.T_DO,this.tok.T_ECHO,this.tok.T_ELSE,this.tok.T_ELSEIF,this.tok.T_EMPTY,this.tok.T_ENDDECLARE,this.tok.T_ENDFOR,this.tok.T_ENDFOREACH,this.tok.T_ENDIF,this.tok.T_ENDSWITCH,this.tok.T_ENDWHILE,this.tok.T_EVAL,this.tok.T_EXIT,this.tok.T_EXTENDS,this.tok.T_FILE,this.tok.T_FINAL,this.tok.T_FINALLY,this.tok.T_FN,this.tok.T_FOR,this.tok.T_FOREACH,this.tok.T_FUNC_C,this.tok.T_FUNCTION,this.tok.T_GLOBAL,this.tok.T_GOTO,this.tok.T_IF,this.tok.T_IMPLEMENTS,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_INSTANCEOF,this.tok.T_INSTEADOF,this.tok.T_INTERFACE,this.tok.T_ISSET,this.tok.T_LINE,this.tok.T_LIST,this.tok.T_LOGICAL_AND,this.tok.T_LOGICAL_OR,this.tok.T_LOGICAL_XOR,this.tok.T_MATCH,this.tok.T_METHOD_C,this.tok.T_NAMESPACE,this.tok.T_NEW,this.tok.T_NS_C,this.tok.T_PRINT,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_PUBLIC,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_RETURN,this.tok.T_STATIC,this.tok.T_SWITCH,this.tok.T_THROW,this.tok.T_TRAIT,this.tok.T_TRY,this.tok.T_UNSET,this.tok.T_USE,this.tok.T_VAR,this.tok.T_WHILE,this.tok.T_YIELD].map(i)),VARIABLE:new Map([this.tok.T_VARIABLE,"$","&",this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAMESPACE,this.tok.T_STATIC].map(i)),SCALAR:new Map([this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C,'"','b"','B"',"-",this.tok.T_NS_SEPARATOR].map(i)),T_MAGIC_CONST:new Map([this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C].map(i)),T_MEMBER_FLAGS:new Map([this.tok.T_PUBLIC,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_STATIC,this.tok.T_ABSTRACT,this.tok.T_FINAL].map(i)),EOS:new Map([";",this.EOF,this.tok.T_INLINE_HTML].map(i)),EXPR:new Map(["@","-","+","!","~","(","`",this.tok.T_LIST,this.tok.T_CLONE,this.tok.T_INC,this.tok.T_DEC,this.tok.T_NEW,this.tok.T_ISSET,this.tok.T_EMPTY,this.tok.T_MATCH,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_EVAL,this.tok.T_INT_CAST,this.tok.T_DOUBLE_CAST,this.tok.T_STRING_CAST,this.tok.T_ARRAY_CAST,this.tok.T_OBJECT_CAST,this.tok.T_BOOL_CAST,this.tok.T_UNSET_CAST,this.tok.T_EXIT,this.tok.T_PRINT,this.tok.T_YIELD,this.tok.T_STATIC,this.tok.T_FUNCTION,this.tok.T_FN,this.tok.T_VARIABLE,"$",this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_STRING,this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C,'"','b"','B"',"-",this.tok.T_NS_SEPARATOR].map(i))}};Ui.prototype.getTokenName=function(t){return lT(t)?t==this.EOF?"the end of file (EOF)":this.lexer.engine.tokens.values[t]:"'"+t+"'"};Ui.prototype.parse=function(t,e){this._errors=[],this.filename=e||"eval",this.currentNamespace=[""],this.extractDoc?this._docs=[]:this._docs=null,this.extractTokens?this._tokens=[]:this._tokens=null,this._docIndex=0,this._lastNode=null,this.lexer.setInput(t),this.lexer.all_tokens=this.extractTokens,this.lexer.comment_tokens=this.extractDoc,this.length=this.lexer._input.length,this.innerList=!1,this.innerListForm=!1;let i=this.node("program"),r=[];for(this.next();this.token!=this.EOF;)r.push(this.read_start());r.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&r.push(this.node("noop")()),this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset];let n=i(r,this._errors,this._docs,this._tokens);if(this.debug){let s=this.ast.checkNodes();if(s.length>0)throw s.forEach(function(o){o.position&&console.log("Node at line "+o.position.line+", column "+o.position.column),console.log(o.stack.join(`
`))}),new Error("Some nodes are not closed")}return n};Ui.prototype.raiseError=function(t,e,i,r){if(t+=" on line "+this.lexer.yylloc.first_line,!this.suppressErrors){let s=new SyntaxError(t,this.filename,this.lexer.yylloc.first_line);throw s.lineNumber=this.lexer.yylloc.first_line,s.fileName=this.filename,s.columnNumber=this.lexer.yylloc.first_column,s}let n=this.ast.prepare("error",null,this)(t,r,this.lexer.yylloc.first_line,i);return this._errors.push(n),n};Ui.prototype.error=function(t){let e="Parse Error : syntax error",i=this.getTokenName(this.token),r="";if(this.token!==this.EOF){if(lT(this.token)){let n=this.text();n.length>10&&(n=n.substring(0,7)+"..."),i="'"+n+"' ("+i+")"}e+=", unexpected "+i}return t&&!Array.isArray(t)&&((lT(t)||t.length===1)&&(r=", expecting "+this.getTokenName(t)),e+=r),this.raiseError(e,r,t,i)};Ui.prototype.position=function(){return new f9(this.lexer.yylloc.first_line,this.lexer.yylloc.first_column,this.lexer.yylloc.first_offset)};Ui.prototype.node=function(t){if(this.extractDoc){let e=null;this._docIndex<this._docs.length&&(e=this._docs.slice(this._docIndex),this._docIndex=this._docs.length,this.debug&&(console.log(new Error("Append docs on "+t)),console.log(e)));let i=this.ast.prepare(t,e,this);return i.postBuild=function(r){if(this._docIndex<this._docs.length)if(this._lastNode){let n=this.prev[2],s=this._docIndex;for(;s<this._docs.length&&!(this._docs[s].offset>n);s++);s>this._docIndex&&(this._lastNode.setTrailingComments(this._docs.slice(this._docIndex,s)),this._docIndex=s)}else this.token===this.EOF&&(r.setTrailingComments(this._docs.slice(this._docIndex)),this._docIndex=this._docs.length);this._lastNode=r}.bind(this),i}return this.ast.prepare(t,null,this)};Ui.prototype.expectEndOfStatement=function(t){if(this.token===";")t&&this.lexer.yytext===";"&&t.includeToken(this);else if(this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF)return this.error(";"),!1;return this.next(),!0};var aT=["parser.next","parser.node","parser.showlog"];Ui.prototype.showlog=function(){let t=new Error().stack.split(`
`),e;for(let i=2;i<t.length;i++){e=t[i].trim();let r=!1;for(let n=0;n<aT.length;n++)if(e.substring(3,3+aT[n].length)===aT[n]){r=!0;break}if(!r)break}return console.log("Line "+this.lexer.yylloc.first_line+" : "+this.getTokenName(this.token)+">"+this.lexer.yytext+"< @-->"+e),this};Ui.prototype.expect=function(t){if(Array.isArray(t)){if(t.indexOf(this.token)===-1)return this.error(t),!1}else if(this.token!=t)return this.error(t),!1;return!0};Ui.prototype.text=function(){return this.lexer.yytext};Ui.prototype.next=function(){if((this.token!==";"||this.lexer.yytext===";")&&(this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset]),this.lex(),this.debug&&this.showlog(),this.extractDoc)for(;this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT;)this.token===this.tok.T_COMMENT?this._docs.push(this.read_comment()):this._docs.push(this.read_doc_comment());return this};Ui.prototype.lex=function(){if(this.extractTokens)do{if(this.token=this.lexer.lex()||this.EOF,this.token===this.EOF)return this;let t=this.lexer.yytext;if(this.lexer.engine.tokens.values.hasOwnProperty(this.token)?t=[this.lexer.engine.tokens.values[this.token],t,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset]:t=[null,t,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset],this._tokens.push(t),this.token===this.tok.T_CLOSE_TAG)return this.token=";",this;if(this.token===this.tok.T_OPEN_TAG_WITH_ECHO)return this.token=this.tok.T_ECHO,this}while(this.token===this.tok.T_WHITESPACE||!this.extractDoc&&(this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT)||this.token===this.tok.T_OPEN_TAG);else this.token=this.lexer.lex()||this.EOF;return this};Ui.prototype.is=function(t){return Array.isArray(t)?t.indexOf(this.token)!==-1:this.entries[t].has(this.token)};[DR(),LR(),MR(),BR(),UR(),GR(),WR(),KR(),zR(),JR(),ex(),ix(),nx(),ox(),lx()].forEach(function(t){for(let e in t){if(Ui.prototype.hasOwnProperty(e))throw new Error("Function "+e+" is already defined - collision");Ui.prototype[e]=t[e]}});ux.exports=Ui});var dx=C((Rbe,fx)=>{"use strict";fx.exports={values:{101:"T_HALT_COMPILER",102:"T_USE",103:"T_ENCAPSED_AND_WHITESPACE",104:"T_OBJECT_OPERATOR",105:"T_STRING",106:"T_DOLLAR_OPEN_CURLY_BRACES",107:"T_STRING_VARNAME",108:"T_CURLY_OPEN",109:"T_NUM_STRING",110:"T_ISSET",111:"T_EMPTY",112:"T_INCLUDE",113:"T_INCLUDE_ONCE",114:"T_EVAL",115:"T_REQUIRE",116:"T_REQUIRE_ONCE",117:"T_NAMESPACE",118:"T_NS_SEPARATOR",119:"T_AS",120:"T_IF",121:"T_ENDIF",122:"T_WHILE",123:"T_DO",124:"T_FOR",125:"T_SWITCH",126:"T_BREAK",127:"T_CONTINUE",128:"T_RETURN",129:"T_GLOBAL",130:"T_STATIC",131:"T_ECHO",132:"T_INLINE_HTML",133:"T_UNSET",134:"T_FOREACH",135:"T_DECLARE",136:"T_TRY",137:"T_THROW",138:"T_GOTO",139:"T_FINALLY",140:"T_CATCH",141:"T_ENDDECLARE",142:"T_LIST",143:"T_CLONE",144:"T_PLUS_EQUAL",145:"T_MINUS_EQUAL",146:"T_MUL_EQUAL",147:"T_DIV_EQUAL",148:"T_CONCAT_EQUAL",149:"T_MOD_EQUAL",150:"T_AND_EQUAL",151:"T_OR_EQUAL",152:"T_XOR_EQUAL",153:"T_SL_EQUAL",154:"T_SR_EQUAL",155:"T_INC",156:"T_DEC",157:"T_BOOLEAN_OR",158:"T_BOOLEAN_AND",159:"T_LOGICAL_OR",160:"T_LOGICAL_AND",161:"T_LOGICAL_XOR",162:"T_SL",163:"T_SR",164:"T_IS_IDENTICAL",165:"T_IS_NOT_IDENTICAL",166:"T_IS_EQUAL",167:"T_IS_NOT_EQUAL",168:"T_IS_SMALLER_OR_EQUAL",169:"T_IS_GREATER_OR_EQUAL",170:"T_INSTANCEOF",171:"T_INT_CAST",172:"T_DOUBLE_CAST",173:"T_STRING_CAST",174:"T_ARRAY_CAST",175:"T_OBJECT_CAST",176:"T_BOOL_CAST",177:"T_UNSET_CAST",178:"T_EXIT",179:"T_PRINT",180:"T_YIELD",181:"T_YIELD_FROM",182:"T_FUNCTION",183:"T_DOUBLE_ARROW",184:"T_DOUBLE_COLON",185:"T_ARRAY",186:"T_CALLABLE",187:"T_CLASS",188:"T_ABSTRACT",189:"T_TRAIT",190:"T_FINAL",191:"T_EXTENDS",192:"T_INTERFACE",193:"T_IMPLEMENTS",194:"T_VAR",195:"T_PUBLIC",196:"T_PROTECTED",197:"T_PRIVATE",198:"T_CONST",199:"T_NEW",200:"T_INSTEADOF",201:"T_ELSEIF",202:"T_ELSE",203:"T_ENDSWITCH",204:"T_CASE",205:"T_DEFAULT",206:"T_ENDFOR",207:"T_ENDFOREACH",208:"T_ENDWHILE",209:"T_CONSTANT_ENCAPSED_STRING",210:"T_LNUMBER",211:"T_DNUMBER",212:"T_LINE",213:"T_FILE",214:"T_DIR",215:"T_TRAIT_C",216:"T_METHOD_C",217:"T_FUNC_C",218:"T_NS_C",219:"T_START_HEREDOC",220:"T_END_HEREDOC",221:"T_CLASS_C",222:"T_VARIABLE",223:"T_OPEN_TAG",224:"T_OPEN_TAG_WITH_ECHO",225:"T_CLOSE_TAG",226:"T_WHITESPACE",227:"T_COMMENT",228:"T_DOC_COMMENT",229:"T_ELLIPSIS",230:"T_COALESCE",231:"T_POW",232:"T_POW_EQUAL",233:"T_SPACESHIP",234:"T_COALESCE_EQUAL",235:"T_FN",236:"T_NULLSAFE_OBJECT_OPERATOR",237:"T_MATCH",238:"T_ATTRIBUTE"},names:{T_HALT_COMPILER:101,T_USE:102,T_ENCAPSED_AND_WHITESPACE:103,T_OBJECT_OPERATOR:104,T_STRING:105,T_DOLLAR_OPEN_CURLY_BRACES:106,T_STRING_VARNAME:107,T_CURLY_OPEN:108,T_NUM_STRING:109,T_ISSET:110,T_EMPTY:111,T_INCLUDE:112,T_INCLUDE_ONCE:113,T_EVAL:114,T_REQUIRE:115,T_REQUIRE_ONCE:116,T_NAMESPACE:117,T_NS_SEPARATOR:118,T_AS:119,T_IF:120,T_ENDIF:121,T_WHILE:122,T_DO:123,T_FOR:124,T_SWITCH:125,T_BREAK:126,T_CONTINUE:127,T_RETURN:128,T_GLOBAL:129,T_STATIC:130,T_ECHO:131,T_INLINE_HTML:132,T_UNSET:133,T_FOREACH:134,T_DECLARE:135,T_TRY:136,T_THROW:137,T_GOTO:138,T_FINALLY:139,T_CATCH:140,T_ENDDECLARE:141,T_LIST:142,T_CLONE:143,T_PLUS_EQUAL:144,T_MINUS_EQUAL:145,T_MUL_EQUAL:146,T_DIV_EQUAL:147,T_CONCAT_EQUAL:148,T_MOD_EQUAL:149,T_AND_EQUAL:150,T_OR_EQUAL:151,T_XOR_EQUAL:152,T_SL_EQUAL:153,T_SR_EQUAL:154,T_INC:155,T_DEC:156,T_BOOLEAN_OR:157,T_BOOLEAN_AND:158,T_LOGICAL_OR:159,T_LOGICAL_AND:160,T_LOGICAL_XOR:161,T_SL:162,T_SR:163,T_IS_IDENTICAL:164,T_IS_NOT_IDENTICAL:165,T_IS_EQUAL:166,T_IS_NOT_EQUAL:167,T_IS_SMALLER_OR_EQUAL:168,T_IS_GREATER_OR_EQUAL:169,T_INSTANCEOF:170,T_INT_CAST:171,T_DOUBLE_CAST:172,T_STRING_CAST:173,T_ARRAY_CAST:174,T_OBJECT_CAST:175,T_BOOL_CAST:176,T_UNSET_CAST:177,T_EXIT:178,T_PRINT:179,T_YIELD:180,T_YIELD_FROM:181,T_FUNCTION:182,T_DOUBLE_ARROW:183,T_DOUBLE_COLON:184,T_ARRAY:185,T_CALLABLE:186,T_CLASS:187,T_ABSTRACT:188,T_TRAIT:189,T_FINAL:190,T_EXTENDS:191,T_INTERFACE:192,T_IMPLEMENTS:193,T_VAR:194,T_PUBLIC:195,T_PROTECTED:196,T_PRIVATE:197,T_CONST:198,T_NEW:199,T_INSTEADOF:200,T_ELSEIF:201,T_ELSE:202,T_ENDSWITCH:203,T_CASE:204,T_DEFAULT:205,T_ENDFOR:206,T_ENDFOREACH:207,T_ENDWHILE:208,T_CONSTANT_ENCAPSED_STRING:209,T_LNUMBER:210,T_DNUMBER:211,T_LINE:212,T_FILE:213,T_DIR:214,T_TRAIT_C:215,T_METHOD_C:216,T_FUNC_C:217,T_NS_C:218,T_START_HEREDOC:219,T_END_HEREDOC:220,T_CLASS_C:221,T_VARIABLE:222,T_OPEN_TAG:223,T_OPEN_TAG_WITH_ECHO:224,T_CLOSE_TAG:225,T_WHITESPACE:226,T_COMMENT:227,T_DOC_COMMENT:228,T_ELLIPSIS:229,T_COALESCE:230,T_POW:231,T_POW_EQUAL:232,T_SPACESHIP:233,T_COALESCE_EQUAL:234,T_FN:235,T_NULLSAFE_OBJECT_OPERATOR:236,T_MATCH:237,T_ATTRIBUTE:238}}});var hx=C((xbe,px)=>{"use strict";var d9=function(t,e,i){this.source=t,this.start=e,this.end=i};px.exports=d9});var vi=C((wbe,mx)=>{"use strict";var Ec=function(e,i,r){this.kind=e,i&&(this.leadingComments=i),r&&(this.loc=r)};Ec.prototype.setTrailingComments=function(t){this.trailingComments=t};Ec.prototype.destroy=function(t){if(!t)throw new Error("Node already initialized, you must swap with another node");return this.leadingComments&&(t.leadingComments?t.leadingComments=Array.concat(this.leadingComments,t.leadingComments):t.leadingComments=this.leadingComments),this.trailingComments&&(t.trailingComments?t.trailingComments=Array.concat(this.trailingComments,t.trailingComments):t.trailingComments=this.trailingComments),t};Ec.prototype.includeToken=function(t){return this.loc&&(this.loc.end&&(this.loc.end.line=t.lexer.yylloc.last_line,this.loc.end.column=t.lexer.yylloc.last_column,this.loc.end.offset=t.lexer.offset),t.ast.withSource&&(this.loc.source=t.lexer._input.substring(this.loc.start.offset,t.lexer.offset))),this};Ec.extends=function(t,e){return e.prototype=Object.create(this.prototype),e.extends=this.extends,e.prototype.constructor=e,e.kind=t,e};mx.exports=Ec});var at=C((kbe,yx)=>{"use strict";var gx=vi(),_x="expression";yx.exports=gx.extends(_x,function(e,i,r){gx.apply(this,[e||_x,i,r])})});var vx=C((Dbe,Ix)=>{"use strict";var Tx=at(),bx="array";Ix.exports=Tx.extends(bx,function(e,i,r,n){Tx.apply(this,[bx,r,n]),this.items=i,this.shortForm=e})});var Ax=C((Fbe,Px)=>{"use strict";var Nx=at(),Sx="arrowfunc";Px.exports=Nx.extends(Sx,function(e,i,r,n,s,o,a,l){Nx.apply(this,[Sx,a,l]),this.arguments=e,this.byref=i,this.body=r,this.type=n,this.nullable=s,this.isStatic=o||!1})});var xx=C((Lbe,Rx)=>{"use strict";var Ex=at(),Cx="assign";Rx.exports=Ex.extends(Cx,function(e,i,r,n,s){Ex.apply(this,[Cx,n,s]),this.left=e,this.right=i,this.operator=r})});var Fx=C((Obe,Dx)=>{"use strict";var wx=at(),kx="assignref";Dx.exports=wx.extends(kx,function(e,i,r,n){wx.apply(this,[kx,r,n]),this.left=e,this.right=i})});var qx=C((Mbe,Mx)=>{"use strict";var Lx=vi(),Ox="attribute";Mx.exports=Lx.extends(Ox,function(e,i,r,n){Lx.apply(this,[Ox,r,n]),this.name=e,this.args=i})});var jx=C((qbe,Ux)=>{"use strict";var Bx=vi(),Vx="attrgroup";Ux.exports=Bx.extends(Vx,function(e,i,r){Bx.apply(this,[Vx,i,r]),this.attrs=e||[]})});var Na=C((Bbe,Wx)=>{"use strict";var Gx=at(),Hx="operation";Wx.exports=Gx.extends(Hx,function(e,i,r){Gx.apply(this,[e||Hx,i,r])})});var zx=C((Vbe,$x)=>{"use strict";var Yx=Na(),Kx="bin";$x.exports=Yx.extends(Kx,function(e,i,r,n,s){Yx.apply(this,[Kx,n,s]),this.type=e,this.left=i,this.right=r})});var ct=C((Ube,Jx)=>{"use strict";var Qx=vi(),Xx="statement";Jx.exports=Qx.extends(Xx,function(e,i,r){Qx.apply(this,[e||Xx,i,r])})});var Cc=C((jbe,t0)=>{"use strict";var Zx=ct(),e0="block";t0.exports=Zx.extends(e0,function(e,i,r,n){Zx.apply(this,[e||e0,r,n]),this.children=i.filter(Boolean)})});var vs=C((Gbe,n0)=>{"use strict";var i0=at(),r0="literal";n0.exports=i0.extends(r0,function(e,i,r,n,s){i0.apply(this,[e||r0,n,s]),this.value=i,r&&(this.raw=r)})});var l0=C((Hbe,a0)=>{"use strict";var s0=vs(),o0="boolean";a0.exports=s0.extends(o0,function(e,i,r,n){s0.apply(this,[o0,e,i,r,n])})});var d0=C((Wbe,f0)=>{"use strict";var u0=ct(),c0="break";f0.exports=u0.extends(c0,function(e,i,r){u0.apply(this,[c0,i,r]),this.level=e})});var g0=C((Ybe,m0)=>{"use strict";var p0=at(),h0="byref";m0.exports=p0.extends(h0,function(e,i,r){p0.apply(this,[h0,i,r]),this.what=e})});var b0=C((Kbe,T0)=>{"use strict";var _0=at(),y0="call";T0.exports=_0.extends(y0,function(e,i,r,n){_0.apply(this,[y0,r,n]),this.what=e,this.arguments=i})});var S0=C(($be,N0)=>{"use strict";var I0=ct(),v0="case";N0.exports=I0.extends(v0,function(e,i,r,n){I0.apply(this,[v0,r,n]),this.test=e,this.body=i})});var C0=C((zbe,E0)=>{"use strict";var P0=Na(),A0="cast";E0.exports=P0.extends(A0,function(e,i,r,n,s){P0.apply(this,[A0,n,s]),this.type=e,this.raw=i,this.expr=r})});var k0=C((Qbe,w0)=>{"use strict";var R0=ct(),x0="catch";w0.exports=R0.extends(x0,function(e,i,r,n,s){R0.apply(this,[x0,n,s]),this.body=e,this.what=i,this.variable=r})});var Io=C((Xbe,O0)=>{"use strict";var D0=ct(),F0="declaration",p9="",h9="public",m9="protected",g9="private",L0=D0.extends(F0,function(e,i,r,n){D0.apply(this,[e||F0,r,n]),this.name=i});L0.prototype.parseFlags=function(t){this.isAbstract=t[2]===1,this.isFinal=t[2]===2,this.kind!=="class"&&(t[0]===-1?this.visibility=p9:t[0]===null?this.visibility=null:t[0]===0?this.visibility=h9:t[0]===1?this.visibility=m9:t[0]===2&&(this.visibility=g9),this.isStatic=t[1]===1)};O0.exports=L0});var V0=C((Jbe,B0)=>{"use strict";var M0=Io(),q0="class";B0.exports=M0.extends(q0,function(e,i,r,n,s,o,a){M0.apply(this,[q0,e,o,a]),this.isAnonymous=!e,this.extends=i,this.implements=r,this.body=n,this.attrGroups=[],this.parseFlags(s)})});var uT=C((Zbe,G0)=>{"use strict";var U0=ct(),j0="constantstatement";G0.exports=U0.extends(j0,function(e,i,r,n){U0.apply(this,[e||j0,r,n]),this.constants=i})});var $0=C((eIe,K0)=>{"use strict";var H0=uT(),W0="classconstant",_9="",y9="public",T9="protected",b9="private",Y0=H0.extends(W0,function(e,i,r,n,s,o){H0.apply(this,[e||W0,i,s,o]),this.parseFlags(r),this.attrGroups=n});Y0.prototype.parseFlags=function(t){t[0]===-1?this.visibility=_9:t[0]===null?this.visibility=null:t[0]===0?this.visibility=y9:t[0]===1?this.visibility=T9:t[0]===2&&(this.visibility=b9)};K0.exports=Y0});var J0=C((tIe,X0)=>{"use strict";var z0=at(),Q0="clone";X0.exports=z0.extends(Q0,function(e,i,r){z0.apply(this,[Q0,i,r]),this.what=e})});var iw=C((iIe,tw)=>{"use strict";var Z0=at(),ew="closure";tw.exports=Z0.extends(ew,function(e,i,r,n,s,o,a,l){Z0.apply(this,[ew,a,l]),this.uses=r,this.arguments=e,this.byref=i,this.type=n,this.nullable=s,this.isStatic=o||!1,this.body=null,this.attrGroups=[]})});var Uh=C((rIe,nw)=>{"use strict";var rw=vi();nw.exports=rw.extends("comment",function(e,i,r,n){rw.apply(this,[e,r,n]),this.value=i})});var lw=C((nIe,aw)=>{"use strict";var sw=Uh(),ow="commentblock";aw.exports=sw.extends(ow,function(e,i,r){sw.apply(this,[ow,e,i,r])})});var dw=C((sIe,fw)=>{"use strict";var uw=Uh(),cw="commentline";fw.exports=uw.extends(cw,function(e,i,r){uw.apply(this,[cw,e,i,r])})});var gw=C((oIe,mw)=>{"use strict";var pw=vi(),hw="constant";mw.exports=pw.extends(hw,function(e,i,r,n){pw.apply(this,[hw,r,n]),this.name=e,this.value=i})});var bw=C((aIe,Tw)=>{"use strict";var _w=ct(),yw="continue";Tw.exports=_w.extends(yw,function(e,i,r){_w.apply(this,[yw,i,r]),this.level=e})});var Sw=C((lIe,Nw)=>{"use strict";var Iw=Cc(),vw="declare",jh=Iw.extends(vw,function(e,i,r,n,s){Iw.apply(this,[vw,i,n,s]),this.directives=e,this.mode=r});jh.MODE_SHORT="short";jh.MODE_BLOCK="block";jh.MODE_NONE="none";Nw.exports=jh});var Cw=C((uIe,Ew)=>{"use strict";var Pw=vi(),Aw="declaredirective";Ew.exports=Pw.extends(Aw,function(e,i,r,n){Pw.apply(this,[Aw,r,n]),this.key=e,this.value=i})});var kw=C((cIe,ww)=>{"use strict";var Rw=ct(),xw="do";ww.exports=Rw.extends(xw,function(e,i,r,n){Rw.apply(this,[xw,r,n]),this.test=e,this.body=i})});var Ow=C((fIe,Lw)=>{"use strict";var Dw=ct(),Fw="echo";Lw.exports=Dw.extends(Fw,function(e,i,r,n){Dw.apply(this,[Fw,r,n]),this.shortForm=i,this.expressions=e})});var Vw=C((dIe,Bw)=>{"use strict";var Mw=at(),qw="empty";Bw.exports=Mw.extends(qw,function(e,i,r){Mw.apply(this,[qw,i,r]),this.expression=e})});var Hw=C((pIe,Gw)=>{"use strict";var Uw=vs(),jw="encapsed",Rc=Uw.extends(jw,function(e,i,r,n,s){Uw.apply(this,[jw,e,i,n,s]),this.type=r});Rc.TYPE_STRING="string";Rc.TYPE_SHELL="shell";Rc.TYPE_HEREDOC="heredoc";Rc.TYPE_OFFSET="offset";Gw.exports=Rc});var $w=C((hIe,Kw)=>{"use strict";var Ww=at(),Yw="encapsedpart";Kw.exports=Ww.extends(Yw,function(e,i,r,n,s){Ww.apply(this,[Yw,n,s]),this.expression=e,this.syntax=i,this.curly=r})});var Jw=C((mIe,Xw)=>{"use strict";var zw=at(),Qw="entry";Xw.exports=zw.extends(Qw,function(e,i,r,n,s,o){zw.apply(this,[Qw,s,o]),this.key=e,this.value=i,this.byRef=r,this.unpack=n})});var ik=C((gIe,tk)=>{"use strict";var Zw=vi(),ek="error";tk.exports=Zw.extends(ek,function(e,i,r,n,s,o){Zw.apply(this,[ek,s,o]),this.message=e,this.token=i,this.line=r,this.expected=n})});var ok=C((_Ie,sk)=>{"use strict";var rk=at(),nk="eval";sk.exports=rk.extends(nk,function(e,i,r){rk.apply(this,[nk,i,r]),this.source=e})});var ck=C((yIe,uk)=>{"use strict";var ak=at(),lk="exit";uk.exports=ak.extends(lk,function(e,i,r,n){ak.apply(this,[lk,r,n]),this.expression=e,this.useDie=i})});var hk=C((TIe,pk)=>{"use strict";var fk=ct(),dk="expressionstatement";pk.exports=fk.extends(dk,function(e,i,r){fk.apply(this,[dk,i,r]),this.expression=e})});var yk=C((bIe,_k)=>{"use strict";var mk=ct(),gk="for";_k.exports=mk.extends(gk,function(e,i,r,n,s,o,a){mk.apply(this,[gk,o,a]),this.init=e,this.test=i,this.increment=r,this.shortForm=s,this.body=n})});var vk=C((IIe,Ik)=>{"use strict";var Tk=ct(),bk="foreach";Ik.exports=Tk.extends(bk,function(e,i,r,n,s,o,a){Tk.apply(this,[bk,o,a]),this.source=e,this.key=i,this.value=r,this.shortForm=s,this.body=n})});var cT=C((vIe,Pk)=>{"use strict";var Nk=Io(),Sk="function";Pk.exports=Nk.extends(Sk,function(e,i,r,n,s,o,a){Nk.apply(this,[Sk,e,o,a]),this.arguments=i,this.byref=r,this.type=n,this.nullable=s,this.body=null,this.attrGroups=[]})});var Rk=C((NIe,Ck)=>{"use strict";var Ak=ct(),Ek="global";Ck.exports=Ak.extends(Ek,function(e,i,r){Ak.apply(this,[Ek,i,r]),this.items=e})});var Dk=C((SIe,kk)=>{"use strict";var xk=ct(),wk="goto";kk.exports=xk.extends(wk,function(e,i,r){xk.apply(this,[wk,i,r]),this.label=e})});var Mk=C((PIe,Ok)=>{"use strict";var Fk=ct(),Lk="halt";Ok.exports=Fk.extends(Lk,function(e,i,r){Fk.apply(this,[Lk,i,r]),this.after=e})});var Uk=C((AIe,Vk)=>{"use strict";var qk=vi(),Bk="identifier",I9=qk.extends(Bk,function(e,i,r){qk.apply(this,[Bk,i,r]),this.name=e});Vk.exports=I9});var Wk=C((EIe,Hk)=>{"use strict";var jk=ct(),Gk="if";Hk.exports=jk.extends(Gk,function(e,i,r,n,s,o){jk.apply(this,[Gk,s,o]),this.test=e,this.body=i,this.alternate=r,this.shortForm=n})});var zk=C((CIe,$k)=>{"use strict";var Yk=at(),Kk="include";$k.exports=Yk.extends(Kk,function(e,i,r,n,s){Yk.apply(this,[Kk,n,s]),this.once=e,this.require=i,this.target=r})});var Zk=C((RIe,Jk)=>{"use strict";var Qk=vs(),Xk="inline";Jk.exports=Qk.extends(Xk,function(e,i,r,n){Qk.apply(this,[Xk,e,i,r,n])})});var rD=C((xIe,iD)=>{"use strict";var eD=Io(),tD="interface";iD.exports=eD.extends(tD,function(e,i,r,n,s,o){eD.apply(this,[tD,e,s,o]),this.extends=i,this.body=r,this.attrGroups=n})});var aD=C((wIe,oD)=>{"use strict";var nD=at(),sD="isset";oD.exports=nD.extends(sD,function(e,i,r){nD.apply(this,[sD,i,r]),this.variables=e})});var fD=C((kIe,cD)=>{"use strict";var lD=ct(),uD="label";cD.exports=lD.extends(uD,function(e,i,r){lD.apply(this,[uD,i,r]),this.name=e})});var mD=C((DIe,hD)=>{"use strict";var dD=at(),pD="list";hD.exports=dD.extends(pD,function(e,i,r,n){dD.apply(this,[pD,r,n]),this.items=e,this.shortForm=i})});var tu=C((FIe,yD)=>{"use strict";var gD=at(),_D="lookup";yD.exports=gD.extends(_D,function(e,i,r,n,s){gD.apply(this,[e||_D,n,s]),this.what=i,this.offset=r})});var vD=C((LIe,ID)=>{"use strict";var TD=vs(),bD="magic";ID.exports=TD.extends(bD,function(e,i,r,n){TD.apply(this,[bD,e,i,r,n])})});var AD=C((OIe,PD)=>{"use strict";var ND=at(),SD="match";PD.exports=ND.extends(SD,function(e,i,r,n){ND.apply(this,[SD,r,n]),this.cond=e,this.arms=i})});var xD=C((MIe,RD)=>{"use strict";var ED=at(),CD="matcharm";RD.exports=ED.extends(CD,function(e,i,r,n){ED.apply(this,[CD,r,n]),this.conds=e,this.body=i})});var FD=C((qIe,DD)=>{"use strict";var wD=cT(),kD="method";DD.exports=wD.extends(kD,function(){wD.apply(this,arguments),this.kind=kD})});var Sa=C((BIe,MD)=>{"use strict";var LD=vi(),OD="reference",v9=LD.extends(OD,function(e,i,r){LD.apply(this,[e||OD,i,r])});MD.exports=v9});var UD=C((VIe,VD)=>{"use strict";var qD=Sa(),BD="name",xc=qD.extends(BD,function t(e,i,r,n){qD.apply(this,[BD,r,n]),i?this.resolution=t.RELATIVE_NAME:e.length===1?this.resolution=t.UNQUALIFIED_NAME:e[0]?this.resolution=t.QUALIFIED_NAME:this.resolution=t.FULL_QUALIFIED_NAME,this.name=e.join("\\")});xc.UNQUALIFIED_NAME="uqn";xc.QUALIFIED_NAME="qn";xc.FULL_QUALIFIED_NAME="fqn";xc.RELATIVE_NAME="rn";VD.exports=xc});var WD=C((UIe,HD)=>{"use strict";var jD=Cc(),GD="namespace";HD.exports=jD.extends(GD,function(e,i,r,n,s){jD.apply(this,[GD,i,n,s]),this.name=e,this.withBrackets=r||!1})});var zD=C((jIe,$D)=>{"use strict";var YD=at(),KD="namedargument";$D.exports=YD.extends(KD,function(e,i,r,n){YD.apply(this,[KD,r,n]),this.name=e,this.value=i})});var ZD=C((GIe,JD)=>{"use strict";var QD=at(),XD="new";JD.exports=QD.extends(XD,function(e,i,r,n){QD.apply(this,[XD,r,n]),this.what=e,this.arguments=i})});var rF=C((HIe,iF)=>{"use strict";var eF=vi(),tF="noop";iF.exports=eF.extends(tF,function(e,i){eF.apply(this,[tF,e,i])})});var aF=C((WIe,oF)=>{"use strict";var nF=vs(),sF="nowdoc";oF.exports=nF.extends(sF,function(e,i,r,n,s){nF.apply(this,[sF,e,i,n,s]),this.label=r})});var fF=C((YIe,cF)=>{"use strict";var lF=vi(),uF="nullkeyword";cF.exports=lF.extends(uF,function(e,i,r){lF.apply(this,[uF,i,r]),this.raw=e})});var mF=C((KIe,hF)=>{"use strict";var dF=tu(),pF="nullsafepropertylookup";hF.exports=dF.extends(pF,function(e,i,r,n){dF.apply(this,[pF,e,i,r,n])})});var TF=C(($Ie,yF)=>{"use strict";var gF=vs(),_F="number";yF.exports=gF.extends(_F,function(e,i,r,n){gF.apply(this,[_F,e,i,r,n])})});var NF=C((zIe,vF)=>{"use strict";var bF=tu(),IF="offsetlookup";vF.exports=bF.extends(IF,function(e,i,r,n){bF.apply(this,[IF,e,i,r,n])})});var EF=C((QIe,AF)=>{"use strict";var SF=Io(),PF="parameter";AF.exports=SF.extends(PF,function(e,i,r,n,s,o,a,l,u){SF.apply(this,[PF,e,l,u]),this.value=r,this.type=i,this.byref=n,this.variadic=s,this.nullable=o,this.flags=a||0,this.attrGroups=[]})});var wF=C((XIe,xF)=>{"use strict";var CF=Sa(),RF="parentreference",N9=CF.extends(RF,function(e,i,r){CF.apply(this,[RF,i,r]),this.raw=e});xF.exports=N9});var LF=C((JIe,FF)=>{"use strict";var kF=Na(),DF="post";FF.exports=kF.extends(DF,function(e,i,r,n){kF.apply(this,[DF,r,n]),this.type=e,this.what=i})});var BF=C((ZIe,qF)=>{"use strict";var OF=Na(),MF="pre";qF.exports=OF.extends(MF,function(e,i,r,n){OF.apply(this,[MF,r,n]),this.type=e,this.what=i})});var GF=C((eve,jF)=>{"use strict";var VF=at(),UF="print";jF.exports=VF.extends(UF,function(e,i,r){VF.apply(this,[UF,i,r]),this.expression=e})});var KF=C((tve,YF)=>{"use strict";var HF=Cc(),WF="program";YF.exports=HF.extends(WF,function(e,i,r,n,s,o){HF.apply(this,[WF,e,s,o]),this.errors=i,r&&(this.comments=r),n&&(this.tokens=n)})});var XF=C((ive,QF)=>{"use strict";var $F=ct(),zF="property";QF.exports=$F.extends(zF,function(e,i,r,n,s,o,a){$F.apply(this,[zF,o,a]),this.name=e,this.value=i,this.nullable=r,this.type=n,this.attrGroups=s})});var tL=C((rve,eL)=>{"use strict";var JF=tu(),ZF="propertylookup";eL.exports=JF.extends(ZF,function(e,i,r,n){JF.apply(this,[ZF,e,i,r,n])})});var oL=C((nve,sL)=>{"use strict";var iL=ct(),rL="propertystatement",S9="",P9="public",A9="protected",E9="private",nL=iL.extends(rL,function(e,i,r,n,s){iL.apply(this,[rL,n,s]),this.properties=i,this.parseFlags(r)});nL.prototype.parseFlags=function(t){t[0]===-1?this.visibility=S9:t[0]===null?this.visibility=null:t[0]===0?this.visibility=P9:t[0]===1?this.visibility=A9:t[0]===2&&(this.visibility=E9),this.isStatic=t[1]===1};sL.exports=nL});var cL=C((sve,uL)=>{"use strict";var aL=at(),lL="retif";uL.exports=aL.extends(lL,function(e,i,r,n,s){aL.apply(this,[lL,n,s]),this.test=e,this.trueExpr=i,this.falseExpr=r})});var hL=C((ove,pL)=>{"use strict";var fL=ct(),dL="return";pL.exports=fL.extends(dL,function(e,i,r){fL.apply(this,[dL,i,r]),this.expr=e})});var yL=C((ave,_L)=>{"use strict";var mL=Sa(),gL="selfreference",C9=mL.extends(gL,function(e,i,r){mL.apply(this,[gL,i,r]),this.raw=e});_L.exports=C9});var vL=C((lve,IL)=>{"use strict";var TL=at(),bL="silent";IL.exports=TL.extends(bL,function(e,i,r){TL.apply(this,[bL,i,r]),this.expr=e})});var AL=C((uve,PL)=>{"use strict";var NL=ct(),SL="static";PL.exports=NL.extends(SL,function(e,i,r){NL.apply(this,[SL,i,r]),this.variables=e})});var xL=C((cve,RL)=>{"use strict";var EL=vi(),CL="staticvariable";RL.exports=EL.extends(CL,function(e,i,r,n){EL.apply(this,[CL,r,n]),this.variable=e,this.defaultValue=i})});var FL=C((fve,DL)=>{"use strict";var wL=tu(),kL="staticlookup";DL.exports=wL.extends(kL,function(e,i,r,n){wL.apply(this,[kL,e,i,r,n])})});var qL=C((dve,ML)=>{"use strict";var LL=Sa(),OL="staticreference",R9=LL.extends(OL,function(e,i,r){LL.apply(this,[OL,i,r]),this.raw=e});ML.exports=R9});var jL=C((pve,UL)=>{"use strict";var BL=vs(),VL="string";UL.exports=BL.extends(VL,function(e,i,r,n,s,o){BL.apply(this,[VL,i,n,s,o]),this.unicode=r,this.isDoubleQuote=e})});var YL=C((hve,WL)=>{"use strict";var GL=ct(),HL="switch";WL.exports=GL.extends(HL,function(e,i,r,n,s){GL.apply(this,[HL,n,s]),this.test=e,this.body=i,this.shortForm=r})});var QL=C((mve,zL)=>{"use strict";var KL=ct(),$L="throw";zL.exports=KL.extends($L,function(e,i,r){KL.apply(this,[$L,i,r]),this.what=e})});var eO=C((gve,ZL)=>{"use strict";var XL=Io(),JL="trait";ZL.exports=XL.extends(JL,function(e,i,r,n){XL.apply(this,[JL,e,r,n]),this.body=i})});var nO=C((_ve,rO)=>{"use strict";var tO=vi(),iO="traitalias",x9="",w9="public",k9="protected",D9="private";rO.exports=tO.extends(iO,function(e,i,r,n,s,o){tO.apply(this,[iO,s,o]),this.trait=e,this.method=i,this.as=r,this.visibility=x9,n&&(n[0]===0?this.visibility=w9:n[0]===1?this.visibility=k9:n[0]===2&&(this.visibility=D9))})});var lO=C((yve,aO)=>{"use strict";var sO=vi(),oO="traitprecedence";aO.exports=sO.extends(oO,function(e,i,r,n,s){sO.apply(this,[oO,n,s]),this.trait=e,this.method=i,this.instead=r})});var dO=C((Tve,fO)=>{"use strict";var uO=vi(),cO="traituse";fO.exports=uO.extends(cO,function(e,i,r,n){uO.apply(this,[cO,r,n]),this.traits=e,this.adaptations=i})});var gO=C((bve,mO)=>{"use strict";var pO=ct(),hO="try";mO.exports=pO.extends(hO,function(e,i,r,n,s){pO.apply(this,[hO,n,s]),this.body=e,this.catches=i,this.always=r})});var IO=C((Ive,bO)=>{"use strict";var _O=Sa(),yO="typereference",TO=_O.extends(yO,function(e,i,r,n){_O.apply(this,[yO,r,n]),this.name=e,this.raw=i});TO.types=["int","float","string","bool","object","array","callable","iterable","void","static"];bO.exports=TO});var PO=C((vve,SO)=>{"use strict";var vO=Na(),NO="unary";SO.exports=vO.extends(NO,function(e,i,r,n){vO.apply(this,[NO,r,n]),this.type=e,this.what=i})});var RO=C((Nve,CO)=>{"use strict";var AO=Io(),EO="uniontype";CO.exports=AO.extends(EO,function(e,i,r){AO.apply(this,[EO,null,i,r]),this.types=e})});var DO=C((Sve,kO)=>{"use strict";var xO=ct(),wO="unset";kO.exports=xO.extends(wO,function(e,i,r){xO.apply(this,[wO,i,r]),this.variables=e})});var MO=C((Pve,OO)=>{"use strict";var FO=ct(),LO="usegroup";OO.exports=FO.extends(LO,function(e,i,r,n,s){FO.apply(this,[LO,n,s]),this.name=e,this.type=i,this.items=r})});var UO=C((Ave,VO)=>{"use strict";var qO=ct(),BO="useitem",fT=qO.extends(BO,function(e,i,r,n,s){qO.apply(this,[BO,n,s]),this.name=e,this.alias=i,this.type=r});fT.TYPE_CONST="const";fT.TYPE_FUNCTION="function";VO.exports=fT});var WO=C((Eve,HO)=>{"use strict";var jO=at(),GO="variable";HO.exports=jO.extends(GO,function(e,i,r,n){jO.apply(this,[GO,r,n]),this.name=e,this.curly=i||!1})});var zO=C((Cve,$O)=>{"use strict";var YO=at(),KO="variadic";$O.exports=YO.extends(KO,function(e,i,r){YO.apply(this,[KO,i,r]),this.what=e})});var ZO=C((Rve,JO)=>{"use strict";var QO=ct(),XO="while";JO.exports=QO.extends(XO,function(e,i,r,n,s){QO.apply(this,[XO,n,s]),this.test=e,this.body=i,this.shortForm=r})});var r1=C((xve,i1)=>{"use strict";var e1=at(),t1="yield";i1.exports=e1.extends(t1,function(e,i,r,n){e1.apply(this,[t1,r,n]),this.value=e,this.key=i})});var a1=C((wve,o1)=>{"use strict";var n1=at(),s1="yieldfrom";o1.exports=n1.extends(s1,function(e,i,r){n1.apply(this,[s1,i,r]),this.value=e})});var u1=C((kve,l1)=>{"use strict";var F9=hx(),L9=oT(),Tt=function(t,e){this.withPositions=t,this.withSource=e};Tt.precedence={};[["or"],["xor"],["and"],["="],["?"],["??"],["||"],["&&"],["|"],["^"],["&"],["==","!=","===","!==","<=>"],["<","<=",">",">="],["<<",">>"],["+","-","."],["*","/","%"],["!"],["instanceof"],["cast","silent"],["**"]].forEach(function(t,e){t.forEach(function(i){Tt.precedence[i]=e+1})});Tt.prototype.isRightAssociative=function(t){return t==="**"||t==="??"};Tt.prototype.swapLocations=function(t,e,i,r){this.withPositions&&(t.loc.start=e.loc.start,t.loc.end=i.loc.end,this.withSource&&(t.loc.source=r.lexer._input.substring(t.loc.start.offset,t.loc.end.offset)))};Tt.prototype.resolveLocations=function(t,e,i,r){this.withPositions&&(t.loc.start.offset>e.loc.start.offset&&(t.loc.start=e.loc.start),t.loc.end.offset<i.loc.end.offset&&(t.loc.end=i.loc.end),this.withSource&&(t.loc.source=r.lexer._input.substring(t.loc.start.offset,t.loc.end.offset)))};Tt.prototype.resolvePrecedence=function(t,e){let i,r,n;return t.kind==="call"?this.resolveLocations(t,t.what,t,e):t.kind==="propertylookup"||t.kind==="staticlookup"||t.kind==="offsetlookup"&&t.offset?this.resolveLocations(t,t.what,t.offset,e):t.kind==="bin"?t.right&&!t.right.parenthesizedExpression&&(t.right.kind==="bin"?(r=Tt.precedence[t.type],n=Tt.precedence[t.right.type],r&&n&&n<=r&&(t.type!==t.right.type||!this.isRightAssociative(t.type))&&(i=t.right,t.right=t.right.left,this.swapLocations(t,t.left,t.right,e),i.left=this.resolvePrecedence(t,e),this.swapLocations(i,i.left,i.right,e),t=i)):t.right.kind==="retif"&&(r=Tt.precedence[t.type],n=Tt.precedence["?"],r&&n&&n<=r&&(i=t.right,t.right=t.right.test,this.swapLocations(t,t.left,t.right,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i))):(t.kind==="silent"||t.kind==="cast")&&t.expr&&!t.expr.parenthesizedExpression?t.expr.kind==="bin"?(i=t.expr,t.expr=t.expr.left,this.swapLocations(t,t,t.expr,e),i.left=this.resolvePrecedence(t,e),this.swapLocations(i,i.left,i.right,e),t=i):t.expr.kind==="retif"&&(i=t.expr,t.expr=t.expr.test,this.swapLocations(t,t,t.expr,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i):t.kind==="unary"?t.what&&!t.what.parenthesizedExpression&&(t.what.kind==="bin"?(i=t.what,t.what=t.what.left,this.swapLocations(t,t,t.what,e),i.left=this.resolvePrecedence(t,e),this.swapLocations(i,i.left,i.right,e),t=i):t.what.kind==="retif"&&(i=t.what,t.what=t.what.test,this.swapLocations(t,t,t.what,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i)):t.kind==="retif"?t.falseExpr&&t.falseExpr.kind==="retif"&&!t.falseExpr.parenthesizedExpression&&(i=t.falseExpr,t.falseExpr=i.test,this.swapLocations(t,t.test,t.falseExpr,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i):t.kind==="assign"?t.right&&t.right.kind==="bin"&&!t.right.parenthesizedExpression&&(r=Tt.precedence["="],n=Tt.precedence[t.right.type],r&&n&&n<r&&(i=t.right,t.right=t.right.left,i.left=t,this.swapLocations(i,i.left,t.right,e),t=i)):t.kind==="expressionstatement"&&this.swapLocations(t,t.expression,t,e),t};Tt.prototype.prepare=function(t,e,i){let r=null;(this.withPositions||this.withSource)&&(r=i.position());let n=this,s=function(){let o=null,a=Array.prototype.slice.call(arguments);if(a.push(e),n.withPositions||n.withSource){let c=null;n.withSource&&(c=i.lexer._input.substring(r.offset,i.prev[2])),o=new F9(c,r,new L9(i.prev[0],i.prev[1],i.prev[2])),a.push(o)}t||(t=a.shift());let l=n[t];if(typeof l!="function")throw new Error('Undefined node "'+t+'"');let u=Object.create(l.prototype);return l.apply(u,a),s.instance=u,s.trailingComments&&(u.trailingComments=s.trailingComments),typeof s.postBuild=="function"&&s.postBuild(u),i.debug&&delete Tt.stack[s.stackUid],n.resolvePrecedence(u,i)};return i.debug&&(Tt.stack||(Tt.stack={},Tt.stackUid=1),Tt.stack[++Tt.stackUid]={position:r,stack:new Error().stack.split(`
`).slice(3,5)},s.stackUid=Tt.stackUid),s.setTrailingComments=function(o){s.instance?s.instance.setTrailingComments(o):s.trailingComments=o},s.destroy=function(o){e&&(o?o.leadingComments?o.leadingComments=e.concat(o.leadingComments):o.leadingComments=e:i._docIndex=i._docs.length-e.length),i.debug&&delete Tt.stack[s.stackUid]},s};Tt.prototype.checkNodes=function(){let t=[];for(let e in Tt.stack)Tt.stack.hasOwnProperty(e)&&t.push(Tt.stack[e]);return Tt.stack={},t};[vx(),Ax(),xx(),Fx(),qx(),jx(),zx(),Cc(),l0(),d0(),g0(),b0(),S0(),C0(),k0(),V0(),$0(),J0(),iw(),Uh(),lw(),dw(),gw(),uT(),bw(),Io(),Sw(),Cw(),kw(),Ow(),Vw(),Hw(),$w(),Jw(),ik(),ok(),ck(),at(),hk(),yk(),vk(),cT(),Rk(),Dk(),Mk(),Uk(),Wk(),zk(),Zk(),rD(),aD(),fD(),mD(),vs(),tu(),vD(),AD(),xD(),FD(),UD(),WD(),zD(),ZD(),vi(),rF(),aF(),fF(),mF(),TF(),NF(),Na(),EF(),wF(),LF(),BF(),GF(),KF(),XF(),tL(),oL(),Sa(),cL(),hL(),yL(),vL(),ct(),AL(),xL(),FL(),qL(),jL(),YL(),QL(),eO(),nO(),lO(),dO(),gO(),IO(),PO(),RO(),DO(),MO(),UO(),WO(),zO(),ZO(),r1(),a1()].forEach(function(t){Tt.prototype[t.kind]=t});l1.exports=Tt});var h1=C((Dve,vo)=>{"use strict";var c1=xR(),f1=cx(),d1=dx(),p1=u1();function dT(t,e){let i=Object.keys(t),r=i.length;for(;r--;){let n=i[r],s=t[n];s===null?delete e[n]:typeof s=="function"?e[n]=s.bind(e):Array.isArray(s)?e[n]=Array.isArray(e[n])?e[n].concat(s):s:typeof s=="object"?e[n]=typeof e[n]=="object"?dT(s,e[n]):s:e[n]=s}return e}var Fr=function(t){if(typeof this=="function")return new this(t);if(this.tokens=d1,this.lexer=new c1(this),this.ast=new p1,this.parser=new f1(this.lexer,this.ast),t&&typeof t=="object"){if(t.parser&&(t.lexer||(t.lexer={}),t.parser.version)){if(typeof t.parser.version=="string"){let e=t.parser.version.split(".");if(e=parseInt(e[0])*100+parseInt(e[1]),isNaN(e))throw new Error("Bad version number : "+t.parser.version);t.parser.version=e}else if(typeof t.parser.version!="number")throw new Error("Expecting a number for version");if(t.parser.version<500||t.parser.version>900)throw new Error("Can only handle versions between 5.x to 8.x")}dT(t,this),this.lexer.version=this.parser.version}},pT=function(t){return typeof t.write=="function"?t.toString():t};Fr.create=function(t){return new Fr(t)};Fr.parseEval=function(t,e){return new Fr(e).parseEval(t)};Fr.prototype.parseEval=function(t){return this.lexer.mode_eval=!0,this.lexer.all_tokens=!1,t=pT(t),this.parser.parse(t,"eval")};Fr.parseCode=function(t,e,i){return typeof e=="object"&&!i&&(i=e,e="unknown"),new Fr(i).parseCode(t,e)};Fr.prototype.parseCode=function(t,e){return this.lexer.mode_eval=!1,this.lexer.all_tokens=!1,t=pT(t),this.parser.parse(t,e)};Fr.tokenGetAll=function(t,e){return new Fr(e).tokenGetAll(t)};Fr.prototype.tokenGetAll=function(t){this.lexer.mode_eval=!1,this.lexer.all_tokens=!0,t=pT(t);let e=this.lexer.EOF,i=this.tokens.values;this.lexer.setInput(t);let r=this.lexer.lex()||e,n=[];for(;r!=e;){let s=this.lexer.yytext;i.hasOwnProperty(r)&&(s=[i[r],s,this.lexer.yylloc.first_line]),n.push(s),r=this.lexer.lex()||e}return n};vo.exports=Fr;vo.exports.tokens=d1;vo.exports.lexer=c1;vo.exports.AST=p1;vo.exports.parser=f1;vo.exports.combine=dT;vo.exports.default=Fr});var M1=C(O1=>{O1.debounce=function(t,e,i){var r,n,s;e===void 0&&(e=50),i===void 0&&(i={});var o=(r=i.isImmediate)!=null&&r,a=(n=i.callback)!=null&&n,l=i.maxWait,u=Date.now(),c=[];function f(){if(l!==void 0){var p=Date.now()-u;if(p+e>=l)return l-p}return e}var d=function(){var p=[].slice.call(arguments),h=this;return new Promise(function(T,N){var _=o&&s===void 0;if(s!==void 0&&clearTimeout(s),s=setTimeout(function(){if(s=void 0,u=Date.now(),!o){var y=t.apply(h,p);a&&a(y),c.forEach(function(x){return(0,x.resolve)(y)}),c=[]}},f()),_){var g=t.apply(h,p);return a&&a(g),T(g)}c.push({resolve:T,reject:N})})};return d.cancel=function(p){s!==void 0&&clearTimeout(s),c.forEach(function(h){return(0,h.reject)(p)}),c=[]},d}});var C$={};eM(C$,{getAntlersSettings:()=>kr,globalSettings:()=>fa,requestEdits:()=>Ey,sendProjectDetails:()=>yT});module.exports=tM(C$);var G1=ee(require("fs")),H1=ee(qT()),di=ee(_I());var Ls=class{constructor(){this.currentStructure=null;this.isReloading=!1;this.isDirtyState=!0;this.structuredProject=null}setStructuredProject(e){this.structuredProject=e}hasStructuredBlueprints(){return this.structuredProject!=null}getAllStructuredBlueprints(){return this.structuredProject==null?[]:this.structuredProject.assets.concat(this.structuredProject.collections).concat(this.structuredProject.forms).concat(this.structuredProject.general).concat(this.structuredProject.navigations).concat(this.structuredProject.taxonomies)}getStructuredProject(){return this.structuredProject}setActiveProject(e){this.currentStructure=e}getStructure(){return this.currentStructure}hasStructure(){return this.currentStructure!=null}setDirtyState(e){this.isDirtyState=e}reloadDetails(){this.isReloading||this.isDirtyState!=!1&&this.currentStructure!=null&&(this.isReloading=!0,this.currentStructure=this.currentStructure.reloadDetails(),this.isReloading=!1,this.isDirtyState=!1)}};Ls.instance=null;(typeof Ls.instance=="undefined"||Ls.instance==null)&&(Ls.instance=new Ls);var ae=Ls;var _n=class{static registerDetails(e,i){this.documentDetails.set(e,i)}static hasDetails(e){return this.documentDetails.has(e)}};_n.documentDetails=new Map;var oU={documentDescription:"",documentName:"",collectionInjections:[],blueprints:[],variableHelper:null,injectsParameters:[],varReferenceNames:new Map,formatterEnabled:!0},yI="@name",TI="@description",bI="@desc",II="@entry",vI="@collection",NI="@blueprint",SI="@var",PI="@set",AI="@param",EI="@param*",aU="@front",CI="@format";function Cu(t,e){if(e==null||e.isComment==!1)return oU;let i=e.content.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`).map(h=>h.trim()),r=[],n=new Map,s="",o="",a=[],l=[],u="",c=null,f=!1,d=!0;for(let h=0;h<i.length;h++){let T=i[h];if(T.startsWith(II))a=a.concat(T.slice(II.length).split(",").map(N=>N.trim())),f=!1;else if(T.startsWith(vI))a=a.concat(T.slice(vI.length).split(",").map(N=>N.trim())),f=!1;else if(T.startsWith(NI))l=l.concat(T.slice(NI.length).split(",").map(N=>N.trim())),f=!1;else if(T.startsWith(yI))s=T.slice(yI.length).trim(),f=!1;else if(T.startsWith(TI))o=T.slice(TI.length).trim(),f=!0;else if(T.startsWith(bI))o=T.slice(bI.length).trim(),f=!0;else if(T.startsWith(SI))u=T.slice(SI.length).trim(),f=!1;else if(T.startsWith(PI))u="@page "+T.slice(PI.length).trim(),f=!1;else if(T.startsWith(AI)){let N=AI.length,_=!1;T.startsWith(EI)&&(N=EI.length,_=!0);let y=T.slice(N).trim().split(" ");if(y.length>0)if(y[0]==aU&&y.length>=4){y.shift();let x=y.shift(),L=y.shift(),E=y.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:E,expectsTypes:["*"],isDynamic:!0,isRequired:_,name:L}),n.set(L,x)}else{let x=y.shift(),L=y.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:L,expectsTypes:["*"],isDynamic:!0,isRequired:_,name:x})}}else T.startsWith(CI)?T.slice(CI.length).trim().toLowerCase()=="true"?d=!0:d=!1:f&&(o+=`
`+T.trim())}if(u.length>0){let h=u.split(" ");if(h.length==2){let T=h[0],N=h[1];if(N.includes(".")){let _=N.split(".");if(_.length==2){let g=_[0],y=_[1];c={variableName:T,collectionName:g,fieldHandle:y,setHandle:""}}else if(_.length==3){let g=_[0],y=_[1],x=_[2];c={variableName:T,collectionName:g,fieldHandle:y,setHandle:x}}}else c={variableName:T,setHandle:"",collectionName:"",fieldHandle:N}}}if(t.trim().length>0&&ae.instance!=null&&ae.instance.hasStructure()){let h=ae.instance.getStructure().findView(t);h!=null&&(h.injectsParameters=r,h.varReferenceNames=n)}let p={documentName:s,documentDescription:o,collectionInjections:a,blueprints:l,variableHelper:c,injectsParameters:r,varReferenceNames:n,formatterEnabled:d};return t.trim().length>0&&e.startPosition!=null&&(e.startPosition.line<=1||e.index<=1)&&_n.registerDetails(t,p),p}var lU=["markdown","text","textarea","slug","button_group","code","color","date","form","link","structures","select","taxonomies","terms","template","time","video","users","user_groups","user_roles"],uU=["array","assets","bard","blueprints","collections","entries","list","grid","replicator","structures_multiple","sites","select_multiple","form_multiple","table","tags","terms_multiple","taxonomies_multiple","users_multiple","checkboxes","select_multiple","yaml","user_groups_multiple","user_roles_multiple"],cU=["integer","range"],fU=["toggle"];function Xf(t){return lU.includes(t)?"string":uU.includes(t)?"array":cU.includes(t)?"number":fU.includes(t)?"boolean":t}var Os=class{constructor(){this.partialReferences=new Map;this.cacheReferences=new Map;this.removesPageScope=new Map}clearAllReferences(e){this.clearPartialReferences(e),this.clearCacheReferences(e)}registerPartialReferences(e,i){this.partialReferences.has(e)==!1&&this.partialReferences.set(e,[]),this.partialReferences.set(e,i)}registerCacheReferences(e,i){this.cacheReferences.has(e)==!1&&this.cacheReferences.set(e,[]),this.cacheReferences.set(e,i)}clearPartialReferences(e){this.partialReferences.has(e)&&this.partialReferences.set(e,[])}clearRemovesPageScope(e){this.removesPageScope.has(e)&&this.removesPageScope.delete(e)}pageScopeDisabled(e){return this.removesPageScope.has(e)}clearCacheReferences(e){this.cacheReferences.has(e)&&this.cacheReferences.set(e,[])}setRemovesPageScope(e,i){this.removesPageScope.set(e,i)}getPartialReferences(e){return this.partialReferences.has(e)==!1?[]:this.partialReferences.get(e)}getCacheReferencnes(e){return this.cacheReferences.has(e)==!1?[]:this.cacheReferences.get(e)}hasPartialReferences(e){return this.partialReferences.has(e)}hasCacheReferences(e){return this.cacheReferences.has(e)}};Os.instance=null;(typeof Os.instance=="undefined"||Os.instance==null)&&(Os.instance=new Os);var yn=Os;var Zt=class{constructor(){this.index=-1;this.offset=0;this.line=0;this.char=0}shiftRight(e){let i=new Zt;return i.offset=this.offset+e,i.index=this.index+e,i.line=this.line,i.char=this.char+e,i}isBefore(e){return e==null?!1:e.line>this.line||e.line==this.line&&this.offset<e.offset}isWithin(e,i,r=0){return e==null||i==null?!1:this.index>=e.index&&this.index<=i.index+r}isWithinRange(e){return e==null?!1:e.start!=null&&e.end!=null?this.isWithin(e.start,e.end):!1}};var wg=class{constructor(){this.start=null;this.end=null}},ja=wg;ja.Empty=new wg;function RI(t,e){let i=e.copy(),r=e.copy();return r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"group",introducedBy:t}),r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"key",introducedBy:t}),r.addScopeList("items",i),e.addScopeList("groups",r),e}function xI(t,e){let i=e.copy();return e.addScopeList("items",i),e}var wI=[{name:"key_by",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Re-keys the array or collection using the provided field name.",docLink:null,parameters:[{name:"field",description:"The field to re-key the array or collection by."}],canBeParameter:!0,isDeprecated:!1},{name:"as",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Alias the array variable with a key.",docLink:"https://statamic.dev/modifiers/as",parameters:[{name:"alias",description:"The alias name."}],canBeParameter:!0,isDeprecated:!1},{name:"ampersand_list",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Converts the array into a comma delimited string, with an ampersand before the last item.",docLink:"https://statamic.dev/modifiers/ampersand_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"collapse",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Collapses an array of arrays into a single, flat, array.",docLink:"https://statamic.dev/modifiers/collapse",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"contains",acceptsType:["array","string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the value contains another value.",docLink:"https://statamic.dev/modifiers/contains",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1,isDeprecated:!1},{name:"count",acceptsType:["array"],returnsType:["number"],forFieldType:[],description:"Returns the number of items in the array.",docLink:"https://statamic.dev/modifiers/count",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"dl",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns an associative array into an HTML definition list.",docLink:"https://statamic.dev/modifiers/dl",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],forFieldType:[],description:"Breaks a string into an array on a given delimiter.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The delimiter to break the string apart on."}],canBeParameter:!0,isDeprecated:!1},{name:"flatten",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Flattens a multi-dimensional array.",docLink:"https://statamic.dev/modifiers/flatten",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"flip",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Swaps the array keys with their values.",docLink:"https://statamic.dev/modifiers/flip",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"group_by",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Groups the array items by the given key.",docLink:"https://statamic.dev/modifiers/group_by",parameters:[{name:"key",description:"The key to group by."}],canBeParameter:!0,augmentScope:RI,isDeprecated:!1},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],forFieldType:[],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1,isDeprecated:!1},{name:"is_empty",acceptsType:["array"],returnsType:["boolean"],forFieldType:[],description:"Tests if the array is empty.",docLink:"https://statamic.dev/modifiers/is_empty",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"join",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turn an array into a string by gluing together all the data.",docLink:"https://statamic.dev/modifiers/join",parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0,isDeprecated:!1},{name:"joinplode",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turn an array into a string by gluing together all the data.",docLink:null,parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0,isDeprecated:!1},{name:"limit",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Limits the number of items returned in the array",docLink:"https://statamic.dev/modifiers/limit",parameters:[{name:"count",description:"The maximum number of items to return."}],canBeParameter:!0,isDeprecated:!1},{name:"list",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Converts the array into a comma-separated string.",docLink:"https://statamic.dev/modifiers/list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"offset",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Offsets the items returned in the array.",docLink:"https://statamic.dev/modifiers/offset",parameters:[{name:"offset",description:"The one-based index to start retrieving items."}],canBeParameter:!0,isDeprecated:!1},{name:"ol",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns the array into an HTML ordered list.",docLink:"https://statamic.dev/modifiers/ol",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"option_list",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/option_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"pluck",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Plucks a value from a collection of items.",parameters:[{name:"value",description:"The value to pluck from the array or collection."}],canBeParameter:!0,docLink:null,isDeprecated:!1},{name:"pad",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Pads the array to a specified length with the given value.",docLink:"https://statamic.dev/modifiers/pad",parameters:[{name:"length",description:"The desired length of the array."},{name:"value",description:"The value to pad the array with."}],canBeParameter:!0,isDeprecated:!1},{name:"piped",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/piped",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"sentence_list",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:'Turns the array into a comma-delimited list, with the word "and" before the last item.',docLink:"https://statamic.dev/modifiers/sentence_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"shuffle",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Randomizes the order of array elements.",docLink:"https://statamic.dev/modifiers/shuffle",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"sort",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Sorts the array by a key in ascending or descending order.",docLink:"https://statamic.dev/modifiers/sort",parameters:[{name:"key",description:"The key to sort by."},{name:"order",description:"The sort direction. `asc` or `desc`."}],canBeParameter:!0,isDeprecated:!1},{name:"sum",acceptsType:["array"],returnsType:["number"],forFieldType:[],description:"Returns the sum of all items in the array.",docLink:"https://statamic.dev/modifiers/sum",parameters:[{name:"key",description:"The value to sum."}],canBeParameter:!1,isDeprecated:!1},{name:"ul",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns the array into an HTML unordered list.",docLink:"https://statamic.dev/modifiers/ul",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"unique",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Returns all unique items in the array.",docLink:"https://statamic.dev/modifiers/unique",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"where",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Filters the array by a given key and value.",docLink:"https://statamic.dev/modifiers/where",parameters:[{name:"key",description:"The property to filter by."},{name:"value",description:"The value to compare to."}],canBeParameter:!0,isDeprecated:!1},{name:"split",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Splits an array into smaller arrays with the provided size.",canBeParameter:!0,docLink:"",parameters:[{name:"size",description:"The size of each new array"}],augmentScope:xI,isDeprecated:!1},{name:"compact",acceptsType:["string"],returnsType:["array"],forFieldType:[],description:"Accepts a comma-delimited list of variable names and return an array with their values.",canBeParameter:!0,docLink:"",parameters:[{name:"variables",description:"A comma-delimited list of variable names."}],isDeprecated:!1}];var kI=[{name:"background_position",acceptsType:["string"],returnsType:["string"],forFieldType:["assets"],description:"Converts an asset focal point into a background-position CSS property.",docLink:"https://statamic.dev/modifiers/background_position",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"image",acceptsType:["string"],returnsType:["string"],forFieldType:["assets"],description:"Generates an HTML image element with the variable's value as the src.",docLink:"https://statamic.dev/modifiers/image",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"output",acceptsType:["string"],returnsType:["string"],forFieldType:["assets"],description:"Returns the string output of an Asset file's contents.",docLink:"https://statamic.dev/modifiers/output",parameters:[],canBeParameter:!1,isDeprecated:!1}];var DI=[{name:"contains_all",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_all",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"contains_any",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_any",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"ends_with",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if a string ends with another string.",docLink:"https://statamic.dev/modifiers/ends_with",parameters:[{name:"value",description:"The value to check against."}],canBeParameter:!1,isDeprecated:!1},{name:"has_lower_case",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains any lowercase characters.",docLink:"https://statamic.dev/modifiers/has_lower_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"has_upper_case",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains any uppercase characters.",docLink:"https://statamic.dev/modifiers/has_upper_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],forFieldType:[],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"is_after",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is after another date.",docLink:"https://statamic.dev/modifiers/is_after",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1,isDeprecated:!1},{name:"is_alphanumeric",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains only alphanumeric characters.",docLink:"https://statamic.dev/modifiers/is_alphanumeric",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_before",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if a date is before another date.",docLink:"https://statamic.dev/modifiers/is_before",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1,isDeprecated:!1},{name:"is_between",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if a date is between two other dates.",docLink:"https://statamic.dev/modifiers/is_between",parameters:[{name:"start_date",description:"The start date to compare."},{name:"end_date",description:"The end date to compare."}],canBeParameter:!1,isDeprecated:!1},{name:"is_blank",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains only whitespace characters.",docLink:"https://statamic.dev/modifiers/is_blank",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],forFieldType:["text","textarea"],description:"Tests if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_future",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is in the future.",docLink:"https://statamic.dev/modifiers/is_future",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_json",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string is valid JSON.",docLink:"https://statamic.dev/modifiers/is_json",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_leap_year",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is a leap year.",docLink:"https://statamic.dev/modifiers/is_leap_year",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_numeric",acceptsType:["string","number"],returnsType:["boolean"],forFieldType:[],description:"Tests if the value is a number or numeric string.",docLink:"https://statamic.dev/modifiers/is_numeric",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_past",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is in the past.",docLink:"https://statamic.dev/modifiers/is_past",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_today",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is today.",docLink:"https://statamic.dev/modifiers/is_today",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_uppercase",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains only uppercase characters.",docLink:"https://statamic.dev/modifiers/is_uppercase",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_weekday",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is a week day.",docLink:"https://statamic.dev/modifiers/is_weekday",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_weekend",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is a weekend day.",docLink:"https://statamic.dev/modifiers/is_weekend",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_yesterday",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is yesterday.",docLink:"https://statamic.dev/modifiers/is_yesterday",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_tomorrow",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is tomorrow.",docLink:null,parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"starts_with",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if a value starts with the provided value.",docLink:"https://statamic.dev/modifiers/starts_with",parameters:[{name:"value",description:"The value to test for."}],canBeParameter:!1,isDeprecated:!1}];var FI=[{name:"days_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of days since a given date.",docLink:"https://statamic.dev/modifiers/days_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"format_translated",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Returns a formatted Carbon datetime/string.",docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!1},{name:"format",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Formats the date using the provided format using PHP's [date variables](https://www.php.net/date).",hoverDescription:`Formats the date using the provided format using PHP's [date variables](https://www.php.net/date).

## Formatting Options

See [PHP: DateTimeInterface::format](https://www.php.net/manual/en/datetime.format.php) for all available options.

| Format Character | Description | Example |
|:----|----|---|
| Day | --- | --- |
| d | Day of the month, 2 digits with leading zeros | 01 to 31 |
| D |A textual representation of a day | Mon - Sun |
| j | Day of the month, without leading zeros | 1 - 31 |
| l | The day of the week | Sunday - Saturday |
| N | ISO 8601 representation of the day of the week | 1 (Monday) - 7 (Sunday) |
| S | English ordinal suffix for the day | st, nd, rt, or th |
| w | Numeric day of the week | 0 (Sunday) - 6 (Saturday) |
| z | Day of the year, starting at 0 | 0 - 365 |
| Week | --- | --- |
| W | ISO 8601 week number of the year, starting on Monday | 42 |
| Month | --- | --- |
| F | Text representation of the month | January - December |
| m | Numeric representation of the month, with leading zeros | 01 - 12 |
| M | A short text representation of the month | Jan - Dec |
| n | Numeric representation of the month | 1 - 12 |
| t | Number of days in the month | 28 - 31 |
| Year | --- | --- |
| L | Indicates if it's a leap year | 1 if true, 0 otherwise |
| Y | Four digit representation of the year | 2022 |
| y | Two digit representation of the year | 22 |
| Time | --- | --- |
| a | Lowercase Anti meridiem and Post meridiem | am or pm |
| A | Uppercase Anti meridiem and Post meridiem | AM or PM |
| g | 12-hour hour format without leading zeros | 1 - 12 |
| G | 24-hour hour format without leading zeros | 0 - 23 |
| h | 12-hour hour format with leading zeros | 01 - 12 |
| H | 24-hour hour format with leading zeros | 00 - 23 |
| i | Minutes with leading zeros | 00 - 59 |
| s | Seconds with leading zeros | 00 - 59 |
| Timezone | --- | --- |
| e | Timezone identifier | UTC, GMT |
| I | Indicates if date is in daylight saving time | 1 if true, 0 otherwise |
| T | Timezone appreviation | EST, MDT, +05 |
`,docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!1},{name:"format_localized",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Formats the date using server's locale, using PHP's [strftime format variables](https://www.php.net/strftime).",docLink:"https://statamic.dev/modifiers/format_localized",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!0,getDeprecatedMessage(){return"The format_localized modifier is deprecated. Alternatives, such as the iso_format modifier, should be used instead."}},{name:"hours_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of hours since the date.",docLink:"https://statamic.dev/modifiers/hours_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"iso_format",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Formats the date using an ISO format.",docLink:"https://statamic.dev/modifiers/iso_format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!1,isDeprecated:!1},{name:"minutes_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of minutes since the date.",docLink:"https://statamic.dev/modifiers/minutes_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"modify_date",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Alters the date by incrementing or decrementing it in a format accepted by PHP's [strtotime](https://www.php.net/strtotime) function.",docLink:"https://statamic.dev/modifiers/modify_date",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"months_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of months since the date.",docLink:"https://statamic.dev/modifiers/months_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"relative",acceptsType:["string","date"],returnsType:["string"],forFieldType:["date"],description:"Returns a human readable date difference.",docLink:"https://statamic.dev/modifiers/relative",parameters:[{name:"add_ago",description:"Whether to add the relative suffix words at the end of the string."}],canBeParameter:!1,isDeprecated:!1},{name:"seconds_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of seconds since the date.",docLink:"https://statamic.dev/modifiers/seconds_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"timezone",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Applies a timezone to the date.",docLink:"https://statamic.dev/modifiers/timezone",parameters:[{name:"timezone",description:"The timezone to apply."}],canBeParameter:!1,isDeprecated:!1},{name:"weeks_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of weeks since the date.",docLink:"https://statamic.dev/modifiers/weeks_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"years_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of years since the date.",docLink:"https://statamic.dev/modifiers/years_ago",parameters:[],canBeParameter:!1,isDeprecated:!1}];var LI=[{name:"chunk",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Breaks the array or collection into smaller arrays of a given size.",docLink:"https://statamic.dev/modifiers/chunk",parameters:[{name:"chunk_size",description:"The maximum length of each new chunk."}],canBeParameter:!0,isDeprecated:!1},{name:"favicon",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Generates a favicon HTML meta tag for the given value.",docLink:"https://statamic.dev/modifiers/favicon",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"first",acceptsType:["string","array"],returnsType:["*"],forFieldType:[],description:"Returns the specified number of characters/items from the beginning of the string/array.",docLink:"https://statamic.dev/modifiers/first",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0,isDeprecated:!1},{name:"last",acceptsType:["string","array"],returnsType:["*"],forFieldType:[],description:"Returns the specified number of characters/items from the end of the string/array.",docLink:"https://statamic.dev/modifiers/last",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0,isDeprecated:!1},{name:"link",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Generates an HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/link",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"mailto",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Generates a mailto HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/mailto",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"markdown",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Parses the value as Markdown and returns the HTML.",docLink:"https://statamic.dev/modifiers/markdown",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"nl2br",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces line breaks with HTML `<br>` tags.",docLink:"https://statamic.dev/modifiers/nl2br",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"obfuscate",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Modifies the input string by replacing it with special characters, making it harder for bots but remains readable to site visitors.",docLink:"https://statamic.dev/modifiers/obfuscate",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"obfuscate_email",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Obfuscates an email address with special HTML characters.",docLink:"https://statamic.dev/modifiers/obfuscate_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"strip_tags",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Removes HTML tags from the string.",docLink:"https://statamic.dev/modifiers/strip_tags",parameters:[{name:"tags",description:"The HTML tag(s) to remove from the string."}],canBeParameter:!1,isDeprecated:!1},{name:"table",acceptsType:["array"],returnsType:["string"],forFieldType:["table"],description:"Turns a [Table FieldType](https://statamic.dev/fieldtypes/table) array into an HTML table.",docLink:"https://statamic.dev/modifiers/table",parameters:[{name:"content_markdown",description:"Whether to parse cell contents as Markdown."}],canBeParameter:!1,isDeprecated:!1},{name:"textile",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Parses a string with [Textile](http://demo.textilewiki.com/theme-default/) and returns the HTML.",docLink:"https://statamic.dev/modifiers/textile",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"wrap",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Wraps a string with a given HTML tag.",docLink:"https://statamic.dev/modifiers/wrap",parameters:[{name:"expression",description:"The HTML tag or Emmet-style expression to wrap the value in."}],canBeParameter:!1,isDeprecated:!1}];var OI=[{name:"add",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!0,isDeprecated:!1},{name:"+",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!1,isDeprecated:!1},{name:"ceil",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Rounds the value to the next whole number.",docLink:"https://statamic.dev/modifiers/ceil",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"divide",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Divides two values.",docLink:"https://statamic.dev/modifiers/divide",parameters:[{name:"value",description:"The value to divide."}],canBeParameter:!0,isDeprecated:!1},{name:"floor",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Rounds a number down to the next whole number.",docLink:"https://statamic.dev/modifiers/floor",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"format_number",acceptsType:["number"],returnsType:["string"],forFieldType:[],description:"Formats a number.",docLink:"https://statamic.dev/modifiers/format_number",parameters:[{name:"precision",description:"Number of decimal places before rounding."},{name:"decimal_separator",description:"The decimal separator (defaults to `.`)."},{name:"thousands_separator",description:"The thousands separator (default `,`)."}],canBeParameter:!0,isDeprecated:!1},{name:"mode",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"",docLink:"",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"multiply",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!0,isDeprecated:!1},{name:"*",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!1,isDeprecated:!1},{name:"round",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Rounds a number to a specified precision.",docLink:"https://statamic.dev/modifiers/round",parameters:[{name:"precision",description:"The number of digits after the decimal point."}],canBeParameter:!0,isDeprecated:!1},{name:"subtract",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!0,isDeprecated:!1},{name:"-",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!1,isDeprecated:!1}];var MI=[{name:"partial",acceptsType:["*"],returnsType:["*view*"],forFieldType:[],description:"Injects data into a partial and renders it.",docLink:"https://statamic.dev/modifiers/partial",parameters:[{name:"partial",description:"The name of the partial."}],canBeParameter:!1,isDeprecated:!1},{name:"macro",acceptsType:["*"],returnsType:["*"],forFieldType:[],description:"Runs a pre-configured macro on the data.",docLink:"https://statamic.dev/modifiers/macro",parameters:[{name:"macro",description:"The macro name."}],canBeParameter:!1,isDeprecated:!1},{name:"url",acceptsType:["string","*"],returnsType:["string"],forFieldType:[],description:"Locates the URL of an asset, page, entry, or taxonomy term based on the variable contents.",docLink:"https://statamic.dev/modifiers/url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"bool_string",acceptsType:["boolean","*"],returnsType:["string"],canBeParameter:!1,description:'Converts the provided value to a "true" or "false" string',docLink:null,forFieldType:["toggle"],isDeprecated:!1,parameters:[{name:"value",description:"The truthy value to convert to a string."}]}];var qI=[{name:"ascii",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces all non-ASCII characters with their closest ASCII counterparts.",docLink:"https://statamic.dev/modifiers/ascii",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"at",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns the character at a given zero-based position.",docLink:"https://statamic.dev/modifiers/at",parameters:[{name:"position",description:"The zero-based position to retrieve a character from."}],canBeParameter:!0,isDeprecated:!1},{name:"backspace",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Removes a specified number of characters from the end of a string.",docLink:"https://statamic.dev/modifiers/backspace",parameters:[{name:"character_count",description:"The number of characters to remove from the end of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"camelize",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts the string into camelCase.",docLink:"https://statamic.dev/modifiers/camelize",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"cdata",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Wraps the string in CDATA XML tags.",docLink:"https://statamic.dev/modifiers/cdata",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"collapse_whitespace",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Trims a string and replaces consecutive whitespace characters with a single space.",docLink:"https://statamic.dev/modifiers/collapse_whitespace",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"count_substring",acceptsType:["string"],returnsType:["number"],forFieldType:[],description:"Counts the number of occurrences of a term within the string.",docLink:"https://statamic.dev/modifiers/count_substring",parameters:[{name:"term",description:"The sub-string to search for."}],canBeParameter:!0,isDeprecated:!1},{name:"dashify",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a lower-cased and trimmed string, separated by dashes.",docLink:"https://statamic.dev/modifiers/dashify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"deslugify",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces all hyphens and underscores with spaces.",docLink:"https://statamic.dev/modifiers/deslugify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"embed_url",acceptsType:["string"],returnsType:["string"],forFieldType:["video"],description:"Converts a YouTube or Viemo link into their embed URLs.",docLink:"https://statamic.dev/modifiers/embed_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"trackable_embed_url",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Get the embed URL when given a YouTube or Vimeo link that's direct to the page.",docLink:null,parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"ensure_left",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Ensures that the string begins with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_left",parameters:[{name:"start_string",description:"The value that should be at the start of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"ensure_right",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Ensures that the string ends with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_right",parameters:[{name:"end_string",description:"The value that should be at the end of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"entities",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Encode a string with HTML entities.",docLink:"https://statamic.dev/modifiers/entities",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"excerpt",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Breaks a string at a given marker.",docLink:"https://statamic.dev/modifiers/excerpt",parameters:[{name:"marker",description:"The substring to break on."}],canBeParameter:!1,isDeprecated:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],forFieldType:[],description:"Breaks a string into an array of strings.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The string to split the larger string by."}],canBeParameter:!0,isDeprecated:!1},{name:"gravatar",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts an email string to a Gravatar image URL.",docLink:"https://statamic.dev/modifiers/gravatar",parameters:[{name:"image size",description:"The desired image size."}],canBeParameter:!0,isDeprecated:!1},{name:"insert",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Inserts a string at the position provided.",docLink:"https://statamic.dev/modifiers/insert",parameters:[{name:"value",description:"The value to insert."},{name:"position",description:"The zero based position to insert the text at."}],canBeParameter:!0,isDeprecated:!1},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Returns true if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_embeddable",acceptsType:["string"],returnsType:["boolean"],forFieldType:["video"],description:"Checks to see if a video URL is embeddable.",docLink:"https://statamic.dev/modifiers/is_embeddable",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_lowercase",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Returns true if the string contains only lowercase characters.",docLink:"https://statamic.dev/modifiers/is_lowercase",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Returns true if a string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"lcfirst",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts the first character of the value to lower case.",docLink:"https://statamic.dev/modifiers/lcfirst",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"length",acceptsType:["string"],returnsType:["number"],forFieldType:[],description:"Returns the number of items in an array or number of characters in a string.",docLink:"https://statamic.dev/modifiers/length",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"lower",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts all characters to lowercase.",docLink:"https://statamic.dev/modifiers/lower",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"md5",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Creates an MD5 hash of the variable.",docLink:"https://statamic.dev/modifiers/md5",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"rawurlencode",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"URL-encode a variable according to RFC-3986.",docLink:"https://statamic.dev/modifiers/rawurlencode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"read_time",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns an estimated read time, in minutes.",docLink:"https://statamic.dev/modifiers/read_time",parameters:[{name:"words per minute",description:"The words per minute to use as an estimate."}],canBeParameter:!0,isDeprecated:!1},{name:"regex_replace",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces all regex matches within a string.",docLink:"https://statamic.dev/modifiers/regex_replace",parameters:[{name:"pattern",description:"The regex pattern."},{name:"replace",description:"The replacement value."}],canBeParameter:!0,isDeprecated:!1},{name:"remove_left",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Ensures that the string never begins with a specified string.",docLink:"https://statamic.dev/modifiers/remove_left/",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0,isDeprecated:!1},{name:"remove_right",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Ensures that a string never ends with a specified string.",docLink:"https://statamic.dev/modifiers/remove_right",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0,isDeprecated:!1},{name:"replace",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces all occurrences of a string with a different value.",docLink:"https://statamic.dev/modifiers/replace",parameters:[{name:"needle",description:"The string to search for."},{name:"value",description:"The value to replace all occurrences with."}],canBeParameter:!0,isDeprecated:!1},{name:"reverse",acceptsType:["string","array"],returnsType:["string","array"],forFieldType:[],description:"Reverses all characters in a string, or all items in an array.",docLink:"https://statamic.dev/modifiers/reverse",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"safe_truncate",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/safe_truncate",parameters:[{name:"length",description:"The desired string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1,isDeprecated:!1},{name:"sanitize",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts special characters to HTML entities.",docLink:"https://statamic.dev/modifiers/sanitize",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"segment",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a segment by number from any valid URL or URI.",docLink:"https://statamic.dev/modifiers/segment",parameters:[{name:"segment",description:"The one-based segment to return."}],canBeParameter:!0,isDeprecated:!1},{name:"singular",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns the singular form of an English word.",docLink:"https://statamic.dev/modifiers/singular",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"slugify",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts the string into an URL slug.",docLink:"https://statamic.dev/modifiers/slugify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"smartypants",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Translates plain ASCII punctuation characters into typographic punctuation HTML entities.",docLink:"https://statamic.dev/modifiers/smartypants",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"spaceless",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Removes excess whitespace and line breaks from a string.",docLink:"https://statamic.dev/modifiers/spaceless",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"substr",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a portion of a string based on provided a start index, and optional length.",docLink:"https://statamic.dev/modifiers/substr",parameters:[{name:"start",description:"The 0-based index to start searching."},{name:"length",description:"An optional length for the string to find."}],canBeParameter:!1,isDeprecated:!1},{name:"surround",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Surrounds a string with another string.",docLink:"https://statamic.dev/modifiers/surround",parameters:[{name:"value",description:"The value to surround the string with."}],canBeParameter:!1,isDeprecated:!1},{name:"swap_case",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a case swapped version of the string.",docLink:"https://statamic.dev/modifiers/swap_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"tidy",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a string with smart quotes, ellipsis characters, and dashes from Windows-1252 replaced by ASCII equivalents.",docLink:"https://statamic.dev/modifiers/tidy",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"title",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a Title Cased version of the string.",docLink:"https://statamic.dev/modifiers/title",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"trim",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Removes whitespace from the start and end of the string.",docLink:"https://statamic.dev/modifiers/trim",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"truncate",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/truncate",parameters:[{name:"length",description:"The maximum string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1,isDeprecated:!1},{name:"ucfirst",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Upper cases the first character in the string.",docLink:"https://statamic.dev/modifiers/ucfirst",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"underscored",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a lower-cased and trimmed version of the string, separated by underscores.",docLink:"https://statamic.dev/modifiers/underscored",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"upper",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Transforms the string to uppercase.",docLink:"https://statamic.dev/modifiers/upper",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"urldecode",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"URL-decodes the string.",docLink:"https://statamic.dev/modifiers/urldecode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"urlencode",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"URL-encodes the string.",docLink:"https://statamic.dev/modifiers/urlencode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"widont",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Attempts to prevent lines with single words.",docLink:"https://statamic.dev/modifiers/widont",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"word_count",acceptsType:["string"],returnsType:["number"],forFieldType:[],description:"Returns the number of words in the string.",docLink:"https://statamic.dev/modifiers/word_count",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"add_slashes",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Adds slashes before characters that need to be escaped.",docLink:"https://statamic.dev/modifiers/add_slashes",canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"antlers",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Parses the provided value as Antlers, and returns the result.",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"bard_items",acceptsType:["string"],returnsType:["array"],forFieldType:["bard"],description:"Converts a Bard value to a flat array of nodes and marks.",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"bard_text",acceptsType:["array","string"],returnsType:["string"],forFieldType:["bard"],description:"Converts a Bard value to plain text (excluding sets).",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"bard_html",acceptsType:["array","string"],returnsType:["string"],forFieldType:["bard"],description:"Converts a Bard value to HTML (excluding sets).",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"mark",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Wraps matched words and phrases in <mark> tags.",docLink:null,canBeParameter:!1,parameters:[{name:"search",description:"The search word or phrase to wrap in <mark> tags."}],isDeprecated:!1},{name:"regex_mark",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Wraps matched words and phrases in <mark> tags using regular expressions.",docLink:null,canBeParameter:!1,parameters:[{name:"pattern",description:"The search pattern used to wrap content in <mark> tags."}],isDeprecated:!1}];var BI=[{name:"console_log",acceptsType:["*"],returnsType:["null"],forFieldType:[],description:"Displays variable data in the browser's JavaScript console.",docLink:"https://statamic.dev/modifiers/console_log",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"decode",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts all HTML entities to their character codes.",docLink:"https://statamic.dev/modifiers/decode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"dump",acceptsType:["*"],returnsType:["null"],forFieldType:[],description:"Displays variable data in the browser.",docLink:"https://statamic.dev/modifiers/dump",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"full_urls",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces root-relative URLs with absolute URLs.",docLink:"https://statamic.dev/modifiers/full_urls",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"repeat",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Repeats a value a given number of times.",docLink:"https://statamic.dev/modifiers/repeat",parameters:[{name:"times",description:"The number of times to repeat the value."}],canBeParameter:!0,isDeprecated:!1},{name:"to_spaces",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts all tabs to spaces.",docLink:"https://statamic.dev/modifiers/to_spaces",parameters:[{name:"space_count",description:"The number of spaces to replace tabs with."}],canBeParameter:!1,isDeprecated:!1},{name:"to_tabs",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts spaces to tabs.",docLink:"https://statamic.dev/modifiers/to_tabs",parameters:[{name:"space_count",description:"The number of spaces to convert to tabs."}],canBeParameter:!1,isDeprecated:!1},{name:"to_json",acceptsType:["*"],returnsType:["string"],forFieldType:[],description:"Converts the data to JSON",docLink:"https://statamic.dev/modifiers/to_json",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"to_bool",acceptsType:["*"],returnsType:["boolean"],forFieldType:[],description:"Converts the data to a boolean/truthy value.",parameters:[],canBeParameter:!1,docLink:null,isDeprecated:!1}];var os=class{constructor(){this.registeredModifiers=new Map;this.acceptTypedModifierReference=new Map;this.returnTypeModifierReference=new Map;this.macros=new Map;this.modifierNameCache=[]}reset(){this.modifierNameCache=[],this.registeredModifiers.clear(),this.acceptTypedModifierReference.clear(),this.returnTypeModifierReference.clear()}getRegisteredModifiers(){return this.registeredModifiers}resetMacros(){this.macros.clear()}loadCoreModifiers(){this.registerModifiers(wI),this.registerModifiers(kI),this.registerModifiers(DI),this.registerModifiers(FI),this.registerModifiers(LI),this.registerModifiers(OI),this.registerModifiers(BI),this.registerModifiers(qI),this.registerModifiers(MI)}getModifierNames(){return this.modifierNameCache}registerMacro(e){this.macros.set(e.name,e)}registerMacros(e){for(let i=0;i<e.length;i++)this.registerMacro(e[i])}hasMacro(e){if(this.macros.has(e)){let i=this.macros.get(e);return!(typeof i=="undefined"||i===null)}return!1}getMacro(e){if(this.macros.has(e)){let i=this.macros.get(e);return typeof i=="undefined"||i===null?null:i}return null}getMacroManifestingType(e){let i=this.getMacro(e);return i==null?"":i.manifestsType}getRegisteredModifier(e){return this.registeredModifiers.has(e)?this.registeredModifiers.get(e):null}getModifiersForType(e){let i=Xf(e);return this.acceptTypedModifierReference.has(i)?this.acceptTypedModifierReference.get(i):[]}getProbableReturnType(e,i){return e==null||e.returnsType.length==0?"":i&&e.returnsType.includes("array")?"array":e.returnsType[0]}registerModifiers(e){var i,r;for(let n=0;n<e.length;n++){let s=e[n];this.modifierNameCache.push(s.name);for(let o=0;o<s.acceptsType.length;o++){let a=s.acceptsType[o];this.acceptTypedModifierReference.has(a)==!1&&this.acceptTypedModifierReference.set(a,[]),(i=this.acceptTypedModifierReference.get(a))==null||i.push(s)}for(let o=0;o<s.returnsType.length;o++){let a=s.returnsType[o];this.returnTypeModifierReference.has(a)==!1&&this.returnTypeModifierReference.set(a,[]),(r=this.returnTypeModifierReference.get(a))==null||r.push(s)}this.registeredModifiers.set(e[n].name,e[n])}}registerModifier(e){let i=[];i.push(e),this.registerModifiers(i)}getModifier(e){if(this.registeredModifiers.has(e)==!1)return null;let i=this.registeredModifiers.get(e);return typeof i=="undefined"||i==null?null:i}hasModifier(e){if(!this.registeredModifiers.has(e))return!1;let i=this.registeredModifiers.get(e);return!(typeof i=="undefined"||i==null)}};os.instance=null;(typeof os.instance=="undefined"||os.instance==null)&&(os.instance=new os,os.instance.loadCoreModifiers());var je=os;var Jf=class{constructor(e){this.parameterModifiers=[];this.hasMixedModifierStyles=!1;this.modifierNames=[];this.node=e}isPaired(){return this.node instanceof G?this.node.isPaired():!1}getModifierValue(e){var i;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let n=this.node.modifierChain.modifierChain[r];if(((i=n.nameNode)==null?void 0:i.name)==e)return n.valueNodes.length>0?n.valueNodes[0].content:""}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let n=this.parameterModifiers[r];if(n.name==e)return n.value}return null}getModifierRange(e){var i;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let n=this.node.modifierChain.modifierChain[r];if(((i=n.nameNode)==null?void 0:i.name)==e)return n.valueNodes.length>0?{start:n.startPosition,end:n.endPosition}:null}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let n=this.parameterModifiers[r];if(n.name==e&&n.namePosition!=null&&n.valuePosition!=null)return{start:n.namePosition.start,end:n.valuePosition.end}}return null}getLastManifestedModifierRuntimeType(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null){if(this.node.modifierChain.lastManifestedModifier.parameters.length>0&&this.node.modifierChain.lastManifestedModifier.modifier!=null&&je.instance!=null){let e=this.node.modifierChain.lastManifestedModifier.modifier;return je.instance.getProbableReturnType(e,this.isPaired())}return"*"}if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let i=0;i<e.length;i++)if(e[i].modifier!=null&&je.instance!=null){let r=e[i].modifier;return je.instance.getProbableReturnType(r,this.isPaired())}}return"*"}getLastManifestedModifierValue(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null)return this.node.modifierChain.lastManifestedModifier.parameters.length>0?this.node.modifierChain.lastManifestedModifier.parameters[0].value:"";if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let i=0;i<e.length;i++)if(e[i].modifier!=null)return e[i].value}return""}getLastManifestedModifier(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastModifier!=null)return this.node.modifierChain.lastModifier;if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let i=0;i<e.length;i++)if(e[i].modifier!=null)return e[i].modifier}return null}hasModifiers(){return this.node.modifierChain==null||this.node.modifierChain.modifierChain.length==0?this.parameterModifiers.length>0:!0}hasParameterModifiers(){return this.parameterModifiers.length>0}hasShorthandModifiers(){return this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0}hasModifier(e){return this.modifierNames.includes(e)}};function kg(t){let e=[];return t.forEach(i=>{i instanceof G?e.push(i):i instanceof tt&&i.logicBranches.length>0&&i.logicBranches.forEach(r=>{if(r.head!=null){let n=r.head;n.originalNode!=null?e.push(n.originalNode):e.push(n)}})}),e}var dU=[" ",`
`,"\r","	","\f","\v","\xA0","\u2000","\u2001","\u2002","\u2003","\u2004","\u2005","\u2006","\u2007","\u2008","\u2009","\u200A","\u200B","\u2028","\u2029","\u3000"].join("");function VI(t){return(typeof t=="number"||typeof t=="string"&&dU.indexOf(t.slice(-1))===-1)&&t!==""&&!isNaN(t)}var K=class{static boolLabel(e){return e?"true":"false"}static normalizeLineEndings(e,i=`
`){return e.replace(/\r?\n/g,i)}static breakByNewLine(e){return e.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`)}static split(e){return e.split("")}static substring(e,i,r){return e.substr(i,r)}static ctypeSpace(e){return(e==null?void 0:e.search(/^[\f\n\r\t\v ]+$/g))!==-1}static ctypeAlpha(e){return(e==null?void 0:e.search(/^[A-Za-z]+$/g))!==-1}static ctypeDigit(e){return(e==null?void 0:e.search(/^[\d]+$/g))!==-1}static ctypePunct(e){return(e==null?void 0:e.search(/^[\u0021-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007E]+$/g))!==-1}static trimLeft(e,i="\\s"){return e.replace(new RegExp("^["+i+"]+"),"")}static trimRight(e,i="\\s"){return e.replace(new RegExp("["+i+"]+$"),"")}static isNumeric(e){return VI(e)}static substringCount(e,i){let r=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return(e.match(new RegExp(r,"gi"))||[]).length}static getLastLine(e){let i=K.breakByNewLine(e);return i.length==0?"":i[i.length-1]}static getFirstLine(e){let i=K.breakByNewLine(e);return i.length==0?"":i[0]}static snakeCase(e){return e.replace(/([A-Z])/g,i=>`_${i.toLowerCase()}`).replace(/^_/,"")}};var Zf=class{constructor(e){this.node=e}findParentWithName(e){let i=this.node.getParser();return i==null?null:i.structure.findParentWithName(e,this.node)}};var jI=ee(ed());var M=class{constructor(){this.node=null;this.errorCode="";this.message="";this.level=0;this.range=null;this.actions=[];this.lsRange=null;this.data=null}hash(){var i,r,n,s;let e="";return this.node!=null&&(e=((r=(i=this.node.endPosition)==null?void 0:i.offset)!=null?r:0).toString()+"|"+((s=(n=this.node.startPosition)==null?void 0:n.offset)!=null?s:0).toString()+"|"),jI.Md5.hashStr(e+"|"+this.errorCode)}static makeSyntaxError(e,i,r,n){n==null&&(n=0);let s=new M;return s.errorCode=e,s.node=i,s.message=r,s.level=n,s}};var v=class{};v.TYPE_EXPECTING_OPERAND="ANTLR_001",v.TYPE_UNEXPECTED_END_OF_INPUT="ANTLR_002",v.TYPE_RUNTIME_TYPE_MISMATCH="ANTLR_003",v.TYPE_RUNTIME_DIVIDE_BY_ZERO="ANTLR_004",v.TYPE_RUNTIME_UNKNOWN_LANG_OPERATOR="ANTLR_005",v.TYPE_RUNTIME_UNEXPECTED_STACK_CONDITION="ANTLR_006",v.TYPE_RUNTIME_PARSE_VALUE_VIOLATION="ANTLR_007",v.TYPE_PARSE_UNCLOSED_CONDITIONAL="ANTLR_008",v.TYPE_PARSE_EMPTY_CONDITIONAL="ANTLR_009",v.TYPE_PARSE_UNPAIRED_CONDITIONAL="ANTLR_008",v.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE="ANTLR_009",v.TYPE_INCOMPLETE_ANTLERS_REGION="ANTLR_010",v.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION="ANTLR_011",v.TYPE_ILLEGAL_VARPATH_RIGHT="ANTLR_012",v.TYPE_ILLEGAL_DOTVARPATH_RIGHT="ANTLR_013",v.TYPE_ILLEGAL_VARPATH_SUBPATH_START="ANTLR_014",v.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT="ANTLR_015",v.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR="ANTLR_016",v.TYPE_ILLEGAL_VARIABLE_NAME="ANTLR_017",v.TYPE_UNSET_MODIFIER_DETAILS="ANTLR_018",v.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS="ANTLR_019",v.TYPE_MODIFIER_UNEXPECTED_VALUE="ANTLR_020",v.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST="ANTLR_021",v.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR="ANTLR_022",v.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH="ANTLR_023",v.TYPE_RECURSIVE_UNPAIRED_NODE="ANTLR_024",v.TYPE_RECURSIVE_NODE_INVALID_POSITION="ANTLR_025",v.TYPE_NO_PARSE_UNASSOCIATED="ANTLR_026",v.TYPE_RECURSIVE_NODE_UNASSOCIATED_PARENT="ANTLR_027",v.TYPE_LOGIC_GROUP_NO_END="ANTLR_028",v.TYPE_LOGIC_GROUP_NO_START="ANTLR_029",v.TYPE_UNEXPECTED_BRANCH_SEPARATOR="ANTLR_030",v.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE="ANTLR_031",v.TYPE_UNEXPECTED_MODIFIER_SEPARATOR="ANTLR_032",v.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS="ANTLR_033",v.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE="ANTLR_034",v.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER="ANTLR_035",v.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE="ANTLR_036",v.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS="ANTLR_037",v.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SEMANTIC_GROUP="ANTLR_038",v.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP="ANTLR_039",v.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP="ANTLR_040",v.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH="ANTLR_041",v.TYPE_UNEXPECTED_EOI_WHILE_EXITING_TERNARY_GROUP="ANTLR_042",v.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET="ANTLR_043",v.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION="ANTLR_044",v.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END="ANTLR_045",v.TYPE_RUNTIME_UNKNOWN_LIBRARY="ANTLR_046",v.TYPE_RUNTIME_LIBRARY_BAD_METHOD_CALL="ANTLR_047",v.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS="ANTLR_048",v.TYPE_UNEXPECTED_FACTORIAL_OPERAND="ANTLR_049",v.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR="ANTLR_050",v.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED="ANTLR_051",v.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT="ANTLR_052",v.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP="ANTLR_053",v.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT="ANTLR_054",v.TYPE_LIBRARY_CALL_NO_ARGS_PROVIDED="ANTLR_055",v.TYPE_LIBRARY_CALL_MISSING_REQUIRED_FORMAL_ARG="ANTLR_056",v.TYPE_LIBRARY_CALL_RUNTIME_TYPE_MISMATCH="ANTLR_057",v.TYPE_LIBRARY_CALL_UNEXPECTED_ARG_RESOLVE_FAULT="ANTLR_058",v.TYPE_LIBRARY_CALL_TOO_MANY_ARGUMENTS="ANTLR_059",v.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD="ANTLR_060",v.TYPE_INVALID_NAMED_ARG_IDENTIFIER="ANTLR_061",v.TYPE_LIBRARY_CALL_INVALID_ARGUMENT_NAME="ANTLR_062",v.TYPE_RUNTIME_ATTEMPT_TO_OVERWRITE_LOADED_LIBRARY="ANTLR_063",v.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP="ANTLR_064",v.TYPE_EXPECTING_ARGUMENT_GROUP="ANTLR_065",v.TYPE_RUNTIME_PROTECTED_LIBRARY_ACCESS_VIOLATION="ANTLR_066",v.TYPE_RUNTIME_FATAL_UNPAIRED_LOOP_END="ANTLR_067",v.TYPE_UNEXPECTED_OPERATOR="ANTLR_068",v.TYPE_OPERATOR_INVALID_ON_RIGHT="ANTLR_069",v.TYPE_INVALID_ASSIGNMENT_LOOP_PAIR="ANTLR_070",v.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP="ANTLR_071",v.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND="ANTLR_072",v.TYPE_QUERY_UNSUPPORTED_VALUE_TYPE="ANTLR_073",v.TYPE_UNEXPECTED_RUNTIME_RESULT_FOR_ORDER_BY_CLAUSE="ANTLR_074",v.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP="ANTLR_075",v.TYPE_INVALID_ORDER_BY_NAME_VALUE="ANTLR_076",v.TYPE_INVALID_ORDER_BY_SORT_VALUE="ANTLR_077",v.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY="ANTLR_78",v.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY="ANTLR_079",v.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE="ANTLR_080",v.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP="ANTLR_081",v.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP="ANTLR_082",v.TYPE_UNEXPECTED_SWITCH_START_VALUE="ANTLR_083",v.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE="ANTLR_084",v.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_SEMANTIC_VALUE="ANTLR_085",v.TYPE_SWITCH_DEFAULT_MUST_BE_LAST="ANTLR_086",v.TYPE_PARSER_INVALID_SWITCH_TOKEN="ANTLR_087",v.TYPE_ORDER_BY_INVALID_RETURN_TYPE="ANTLR_088",v.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED="ANTLR_089",v.TYPE_PLUCK_INTO_MISSING_VARIABLE_TARGET="ANTLR_090",v.TYPE_PLUCK_INTO_INVALID_VARIABLE_TARGET="ANTLR_091",v.TYPE_PLUCK_INTO_NO_PREDICATE="ANTLR_092",v.TYPE_PLUCK_INTO_INVALID_PREDICATE_VALUE="ANTLR_093",v.TYPE_PLUCK_INTO_EMPTY_LOGIC_GROUP="ANTLR_094",v.TYPE_PLUCK_INTO_INVALID_NUMBER_OF_TUPLE_VARIABLES="ANTLR_095",v.TYPE_PLUCK_INTO_UNKNOWN_ALIAS_VARNAME="ANTLR_096",v.TYPE_PLUCK_INTO_UNEXPECTED_EMPTY_T_LOGIC_GROUP="ANTLR_097",v.TYPE_PLUCK_INTO_REFERENCE_TYPE_DYNAMIC="ANTLR_098",v.TYPE_PLUCK_INTO_REFERENCE_AMBIGUOUS="ANTLR_099",v.TYPE_RUNTIME_ASSIGNMENT_TO_NON_VAR="ANTLR_100",v.TYPE_ARR_MAKE_MISSING_TARGET="ANTLR_101",v.TYPE_ARR_MAKE_UNEXPECTED_TYPE="ANTLR_102",v.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE="ANTLR_103",v.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE="ANTLR_104",v.TYPE_ARR_UNEXPECT_ARG_SEPARATOR="ANTLR_105",v.TYPE_ARR_KEY_PAIR_MISSING_KEY="ANTLR_106",v.RUNTIME_PROTECTED_VAR_ACCESS="ANTLR_107",v.RUNTIME_PROTECTED_TAG_ACCESS="ANTLR_108",v.RUNTIME_PROTECTED_MODIFIER_ACCESS="ANTLR_109",v.TYPE_INCOMPLETE_PHP_EVALUATION_REGION="ANTLR_110",v.RUNTIME_PHP_NODE_WHEN_PHP_DISABLED="ANTLR_111",v.RUNTIME_PHP_NODE_USER_CONTENT_TAG="ANTLR_112",v.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST="ANTLR_113",v.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST="ANTLR_114",v.TYPE_MISSING_BODY_TUPLE_LIST="ANTLR_115",v.TYPE_MISSING_NAMES_TUPLE_LIST="ANTLR_116",v.TYPE_VALUE_NAME_LENGTH_MISMATCH_TUPLE_LIST="ANTLR_117",v.TYPE_INVALID_TUPLE_LIST_NAME_TYPE="ANTLR_118",v.TYPE_INVALID_MANIFESTED_NAME_GROUP="ANTLR_119",v.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP="ANTLR_120",v.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE="ANTLR_121",v.TYPE_RUNTIME_BAD_METHOD_CALL="ANTLR_122",v.TYPE_METHOD_CALL_MISSING_ARG_GROUP="ANTLR_123",v.TYPE_INVALID_METHOD_CALL_ARG_GROUP="ANTLR_124",v.TYPE_METHOD_CALL_MISSING_METHOD="ANTLR_125",v.TYPE_MODIFIER_NOT_FOUND="ANTLR_126",v.TYPE_RUNTIME_GENERAL_FAULT="ANTLR_127",v.TYPE_MODIFIER_INCORRECT_VALUE_POSITION="ANTLR_128",v.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX="ANTLR_129",v.TYPE_RUNTIME_ATTEMPTING_TO_RENDER_OBJECT_AS_STRING="ANTLR_130",v.TYPE_UNPAIRED_CLOSING_TAG="ANTLR_131",v.PARSER_CANNOT_PARSE_PATH_RECURSIVE="ANTLR_200",v.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR="ANTLR_201",v.LINT_UNKNOWN_PARAMETER="ANTLR_500",v.LINT_GENERAL_INVALID_PARAMETER_CONTENTS="ANTLR_501",v.LINT_PARAMETER_CONTENT_INVALID_INTEGER="ANTLR_502",v.LINT_PARAMETER_CONTENT_INVALID_BOOLEAN="ANT LR_503",v.LINT_PAGINATE_INVALID_VALUE="ANTLR_504",v.LINT_DEBUG_DATA_EXPOSED="ANTLR_505",v.LINT_DOUBLE_COLON_IN_TAG_IDENTIFIER="ANTLR_506",v.LINT_MIXED_MODIFIERS="ANTLR_507",v.LINT_MODIFIER_UNEXPECTED_TYPE="ANTLR_508",v.LINT_REMOVE_RELATE_TAG="ANTLR_509",v.LINT_SET_PRODUCES_RUNTIME_ERROR="ANTLR_510",v.LINT_FRONT_MATTER_EMPTY_DOCUMENT="ANTLR_511",v.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH="ANTLR_512",v.LINT_INVALID_FRONT_MATTER="ANTLR_513",v.LINT_DUPLICATE_CODE="ANTLR_514",v.LINT_VERSION_NOT_COMPATIBLE="ANTLR_515",v.LINT_INTERLEAVED_TAG_PAIRS="ANTLR_516",v.LINT_MISSING_REQUIRED_PARAMETER="ANTLR_517",v.LINT_POSSIBLE_PARTIAL_RECURSION="ANTLR_518",v.LINT_URL_VARIABLE_WITHOUT_SANITIZE="ANTLR_519",v.LINT_DYNAMIC_CLASS_NAMES_POSSIBLE_PURGE="ANTLER_520",v.LINT_DEPRECATED_MODIFIER="ANTLER_521",v.LINT_INVALID_VARIABLE_ACCESS="ANTLR_522",v.LINT_SELECT_FIELD_JOIN_RAW="ANTLR_523",v.LINT_INVALID_PARAMETER_VALUE_DELIMITER="ANTLR_524",v.LINT_MODIFIERS_ON_QUERY_BUILDERS_REQUIRE_AS="ANTLR_525";var mt=class{static distance(e,i){return e.endPosition==null||i.startPosition==null?this.DistMax:i.startPosition.index-e.endPosition.index}static getTrueName(e){var i,r,n,s;return e.originalNode!=null?(r=(i=e.originalNode.name)==null?void 0:i.name)!=null?r:"":(s=(n=e.name)==null?void 0:n.name)!=null?s:""}static getSimpleVarName(e){return e.variableReference!=null&&e.variableReference.pathParts.length==1&&e.variableReference.pathParts[0]instanceof Pi?e.variableReference.pathParts[0].name:""}static isVariableMatching(e,i){return e instanceof fe?e.name==i:!1}static mergeVarContentLeft(e,i,r){return r.mergeRefName=r.name,r.endPosition=i.endPosition,r.name=r.name+e,r}static mergeVarContentRight(e,i,r){return r.mergeRefName=r.name,r.startPosition=i.startPosition,r.name=e+r.name,r}static mergeVarRight(e,i){return i.mergeRefName=i.name,i.startPosition=e.startPosition,i.name=e.name+i.name,i}static getUnrefName(e){return K.trimLeft(e,":.")}};mt.DistMax=65e3;var Br=class{static isConditionalStructure(e){var r,n;if(e.isComment)return!1;let i=(n=(r=e.name)==null?void 0:r.name)!=null?n:"";return i=="if"||i=="elseif"||i=="else"}static requiresClose(e){var r,n;let i=(n=(r=e.name)==null?void 0:r.name)!=null?n:"";return i=="elseif"||i=="else"?e.isClosedBy==null:!(e.isClosingTag||e.isClosedBy!=null)}static getValidClosingPairs(e){return e=="if"||e=="elseif"?Br.conditionClosingPairs:[]}static findClosestStructurePair(e,i,r){var u,c,f,d,p,h,T,N;let n=[],s=e.length,o=new Map,a=null;n.push({node:i,index:r});for(let _=0;_<s;_+=1){let g=e[_];if(g instanceof G){let y=(c=(u=g.name)==null?void 0:u.name)!=null?c:"";if(g.isClosingTag&&y=="if"){o.set(_,_);continue}else if(y=="elseif"||y=="else"){o.set(_,_);continue}}}let l=o.size;for(;n.length>0;){let _=n.pop();if(_==null)continue;if(_.node._conditionParserAbandonPairing)break;let g=_.node,y=Br.getValidClosingPairs((d=(f=g.name)==null?void 0:f.name)!=null?d:""),x=_.index,L=!1;if(l>50&&a!=null){for(let[E,U]of o)if(E>x){x=E;break}}for(let E=x;E<s;E++){let U=e[E];if(U instanceof G&&Br.isConditionalStructure(U)){if(Br.requiresClose(U)){n.push(_),n.push({node:U,index:E+1}),L=!0;break}if(g.isClosedBy!=null)continue;let w=(h=(p=U.name)==null?void 0:p.name)!=null?h:"",z=!1;if(U.ref==0&&(U.isClosingTag&&w=="if"||y.includes(w))&&(z=!0),U.refId==g.refId&&(z=!1),z){a=E,o.delete(E),g.isClosedBy=U,U.isOpenedBy=g,U.ref+=1,L=!0;break}}}if(!L&&g instanceof G){let E=(N=(T=g.name)==null?void 0:T.name)!=null?N:"";if((E=="elseif"||E=="else")&&g.isOpenedBy==null){let U='Unpaired "'+mt.getTrueName(g)+'" control structure.';g.isInterpolationNode&&(U+=" Tag pairs are not supported within Antlers tags."),g.pushError(M.makeSyntaxError(v.TYPE_PARSE_UNPAIRED_CONDITIONAL,g,U)),g._conditionParserAbandonPairing=!0}if(g.isClosedBy==null&&Br.requiresClose(g)){let U='Unclosed "'+mt.getTrueName(g)+'" control structure.';g.isInterpolationNode&&(U+=" Tag pairs are not supported within Antlers tags."),g.pushError(M.makeSyntaxError(v.TYPE_PARSE_UNCLOSED_CONDITIONAL,g,U)),g._conditionParserAbandonPairing=!0}}}}static pairConditionals(e){for(let i=0;i<e.length;i+=1){let r=e[i];r instanceof G&&Br.isConditionalStructure(r)&&Br.requiresClose(r)&&Br.findClosestStructurePair(e,r,i+1)}return e.forEach(i=>{var r,n;if(i instanceof G&&Br.isConditionalStructure(i)){let s=(n=(r=i.name)==null?void 0:r.name)!=null?n:"";if((s=="elseif"||s=="else")&&i.isOpenedBy==null){i.pushError(M.makeSyntaxError(v.TYPE_PARSE_UNPAIRED_CONDITIONAL,i,'Unpaired "'+mt.getTrueName(i)+'" control structure.'));return}if(i.isClosedBy==null&&Br.requiresClose(i)){i.pushError(M.makeSyntaxError(v.TYPE_PARSE_UNCLOSED_CONDITIONAL,i,"Unclosed "+mt.getTrueName(i)+" control structure."));return}}}),e}},ai=Br;ai.conditionClosingPairs=["elseif","else"];function Vr(t,e){return e==null&&(e="s"),t.replace(new RegExp("^["+e+"]+"),"")}function jt(t,e,i){return t.replace(new RegExp(e,"g"),i)}function Tn(t,e){return e==null&&(e="s"),t.replace(new RegExp("["+e+"]+$"),"")}function Ga(){return(Date.now().toString(32)+Math.random().toString(16)).replace(/\./g,"")}function GI(){return jt(Ga(),"-","_")}var Ru=class{constructor(){this.startPosition=null;this.endPosition=null;this.index=0;this.embeddedIndex=0;this.refId=null;this.parameters=[];this.isSelfClosing=!1;this.isClosingFragment=!1;this.name="";this.containsStructures=!1;this.refId=GI()}},td=class{constructor(){this.startPosition=null;this.endPosition=null;this.content="";this.name=""}};function pU(t){let e=[],i=[];for(let r=0;r<t.length;r++){let n=t[r],s=n.refId;if(i.includes(s))break;e.push(n),i.push(s)}return e}var ne=class{constructor(){this.refId=null;this.index=0;this.parent=null;this.content="";this.rawLexContent="";this.sourceContent="";this.startPosition=null;this.endPosition=null;this.modifierChain=null;this.originalAbstractNode=null;this.positionContexts=[];this.addedContexts=new Map;this.fragment=null;this.fragmentParameter=null;this.fragmentPosition=3;this.containsAnyFragments=!1;this.containsChildStructures=!1;this.isInScriptTag=!1;this.isInStyleTag=!1;this.isVirtual=!0;this.isPartOfMethodChain=!1;this.isVirtualGroupMember=!1;this.isVirtualGroupOperatorResolve=!1;this.isSwitchGroupMember=!1;this.isListGroupMember=!1;this.producesVirtualStatementTerminator=!1;this.convertedToOperator=!1;this.scopeVariable=null;this.currentScope=null;this.manifestType="";this.scopeName=null;this.sourceType="";this.runtimeType=null;this.modifiers=new Jf(this);this.prev=null;this.next=null;this.methodTarget=null;this.libraryTarget=null;this.antlersErrors=[];this.parser=null;this.refId=GI()}isEmbedded(){return this.isInScriptTag||this.isInStyleTag}getContexts(){return this.positionContexts}addContext(e){this.addedContexts.has(e.refId)==!1&&(this.addedContexts.set(e.refId,!0),this.positionContexts.push(e))}getRange(){if(this.originalAbstractNode!=null)return this.originalAbstractNode.getRange();if(this.startPosition==null||this.endPosition==null)return ja.Empty;let e=new ja;return e.start=this.startPosition,e.end=this.endPosition,e}withParser(e){this.parser=e}getParser(){return this.parser}pushError(e){this.parent!=null&&this.parent.pushError(e),this.antlersErrors.push(e),this.parent==null&&this.parser!=null&&this.parser.pushError(e)}mergeErrors(e){e.forEach(i=>{i.node==null&&(i.node=this),this.antlersErrors.push(i)})}getErrors(){return this.antlersErrors}innerContent(){return this.content}rawContent(){return this.content}},id=class extends ne{constructor(){super(...arguments);this.head=null;this.tail=null;this.nodes=[];this.documentText="";this.childDocument=null}getImmediateChildren(){return this.head==null?[]:this.head.getImmediateChildren()}},tt=class extends ne{constructor(){super(...arguments);this.logicBranches=[];this.chain=[];this.nodeContent="";this.fragment=null;this.fragmentParameter=null;this.fragmentPosition=3;this.containsAnyFragments=!1;this.containsChildStructures=!1}},G=class extends ne{constructor(){super(...arguments);this.isNodeAbanonded=!1;this.isComment=!1;this.isTagNode=!1;this.isConditionNode=!1;this.runtimeContent="";this.name=null;this.pathReference=null;this.isClosingTag=!1;this.isInterpolationNode=!1;this.isOpenedBy=null;this.isClosedBy=null;this.isSelfClosing=!1;this.children=[];this.runtimeNodes=[];this.parsedRuntimeNodes=[];this.hasParsedRuntimeNodes=!1;this.parameters=[];this.hasParameters=!1;this.contentOffset=null;this.cachedContent=null;this.cachedInnerContent=null;this.hasRecursiveNode=!1;this.recursiveReference=null;this.rawStart="";this.rawEnd="";this.originalNode=null;this.interpolationRegions=new Map;this.processedInterpolationRegions=new Map;this.hasProcessedInterpolationRegions=!1;this.ref=0;this.contentStartRelativeIndex=null;this.antlersNodeIndex=0;this.nameStartsOn=null;this.nameEndsOn=null;this.nameMethodPartStartsOn=null;this.documentText="";this.nodeContent="";this.childDocument=null;this.structure=new Zf(this);this.isInlineAntlers=!1;this.mustClose=!1;this.reference=null;this._conditionParserAbandonPairing=!1;this._isEndVirtual=!1}getOriginalContent(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.isClosedBy!=null?this.isClosedBy.startPosition==null||this.isClosedBy.endPosition==null?"":this.parser.getText(this.startPosition.index,this.isClosedBy.endPosition.index+1):this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getNodeDocumentText(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getImmediateChildren(){let i=[];for(let r=0;r<this.children.length;r++){let n=this.children[r];if(n.parent==this){if(n==this.isClosedBy)break;i.push(n)}}return pU(i)}getChildren(){if(this.isClosedBy==null)return[];let i=[];for(let r=0;r<this.children.length;r++){let n=this.children[r];if(n instanceof G&&n.refId==this.isClosedBy.refId)break;i.push(n)}return i}getInnerDocumentText(){if(this.startPosition==null||this.endPosition==null||this.parser==null)return"";if(this.isClosedBy==null)return this.getNodeDocumentText();let i=this.isClosedBy.startPosition;return i==null?"":this.parser.getText(this.endPosition.index+1,i.index)}nodeAtIndex(i){if(this.runtimeNodes.length==0)return null;for(let r=0;r<this.runtimeNodes.length;r++)if(this.runtimeNodes[r].index==i)return this.runtimeNodes[r];return null}getDepthCount(){if(this.parent==null)return 1;let i=this.parent,r=1;for(;i!=null;){if(r+=1,i.parent===i){i=null;break}i=i.parent}return r}isEmpty(){return this.content.trim().length==0}nameMatches(i){return this.name==null?!1:this.name.content==i}copyBasicDetails(){return this.copyBasicDetailsTo(new G)}copyBasicDetailsTo(i){return i.refId=this.refId,i.isComment=this.isComment,i.isTagNode=this.isTagNode,i.children=this.children,i.parent=this.parent,i.parameters=this.parameters,i.isClosingTag=this.isClosingTag,i.rawStart=this.rawStart,i.rawEnd=this.rawEnd,i.startPosition=this.startPosition,i.endPosition=this.endPosition,i.originalAbstractNode=this,i.containsAnyFragments=this.containsAnyFragments,i.containsChildStructures=this.containsChildStructures,i.isInScriptTag=this.isInScriptTag,i.isInStyleTag=this.isInStyleTag,i}id(){return this.refId}innerContent(){return this.cachedInnerContent==null&&(this.cachedInnerContent=this.content.replace('"','\\"')),this.cachedInnerContent}resetContentCache(){this.cachedContent=null,this.cachedInnerContent=null}hasMethodPart(){return this.name==null?!1:this.name.getMethodName()!=null}runtimeName(){return this.name==null?"":this.name.getCompoundTagName()}getTagName(){return this.name==null?"":this.name.name}getNameContent(){return this.name==null?"":this.name.content}getMethodNameValue(){if(this.name==null)return"";let i=this.name.getMethodName();return i!=null?i:""}methodIsEmptyOrMatches(i){return this.getMethodNameValue()==i}hasParameter(i){return this.findParameter(i)!=null}hasParameterWithValue(i,r){let n=this.findParameter(i);return n==null?!1:n.value==r}findParameterValue(i,r){let n=this.findParameter(i);return n==null?r:n.value}findParameterValueOrNull(i){let r=this.findParameter(i);return r==null?null:r.value}findParameter(i){if(this.parameters.length==0)return null;for(let r=0;r<this.parameters.length;r++)if(this.parameters[r].name==i)return this.parameters[r];return null}findAnyParameter(i){for(let r=0;r<i.length;r++){let n=this.findParameter(i[r]);if(n!=null)return n}return null}getContentRelativeStartIndex(){if(this.contentStartRelativeIndex==null){let i=this.content.split("");for(let r=0;r<i.length;r++)if(!K.ctypeSpace(i[r])){this.contentStartRelativeIndex=r;break}this.contentStartRelativeIndex==null&&(this.contentStartRelativeIndex=i.length),this.contentStartRelativeIndex+=this.rawStart.length}return this.contentStartRelativeIndex}getContentAfterName(){let i=0;return this.nameEndsOn!=null&&(i=this.nameEndsOn.char-this.rawStart.length-1),this.content.substring(i)}getContent(){if(this.cachedContent==null)if(this.isComment)this.cachedContent=this.content,this.contentOffset=this.startPosition;else if(this.isTagNode){let i=this.content;i=K.trimLeft(i);let r=0;if(this.name!=null&&(r=this.name.compound.length),this.parameters.length>0){let a=0,l=this.parameters[0];l.startPosition!=null&&(a=l.startPosition.index-1);let u=i,c=u.trimLeft(),f=u.length-c.length,d=r;i=i.substr(0,a)}let n=i.trimLeft(),s=i.length-n.length,o=r+s+2;if(this.parser!=null){let a=0;this.startPosition!=null&&(a=this.startPosition.offset),this.contentOffset==this.parser.positionFromOffset(a+o,0)}this.name!=null?this.name.name=="if"||this.name.name=="elseif"||this.name.name=="unless"||this.name.name=="elseunless"?(i=" "+i.trimLeft(),this.cachedContent=i.substr(this.name.compound.length+1)):this.cachedContent=i:this.cachedContent=i}else if(this.parameters.length>0){let i=this.parameters[0],r=0;i.startPosition!=null&&(r=i.startPosition.index-1),this.contentOffset=this.startPosition,this.cachedContent=this.content.substr(0,r)}else this.contentOffset=this.startPosition,this.cachedContent=this.content;return this.cachedContent}relativePositionFromOffset(i,r){var n,s;return this.parser==null?null:this.parser.positionFromOffset(((s=(n=this.contentOffset)==null?void 0:n.offset)!=null?s:0)+i,r)}getInterpolationNode(i){if(this.processedInterpolationRegions.has(i)){let r=this.processedInterpolationRegions.get(i);if(r.length>0&&r[0]instanceof G)return r[0]}return null}_lexerRelativeOffset(i,r=null){var a,l,u;let n=i;if(r!=null&&(n=r),this.parser==null){let c=new Zt;return c.index=i,c.offset=i,c}let s=i+this.rawStart.length+((l=(a=this.startPosition)==null?void 0:a.index)!=null?l:0);return this.isTagNode&&this.nameStartsOn!=null&&(s=this.nameStartsOn.index+i,ai.isConditionalStructure(this)||(s-=this.rawStart.length),((u=this.name)==null?void 0:u.name)=="unless"&&(s+=6)),this.parser.positionFromOffset(s,s,!0)}relativeOffset(i,r=null){var a,l;let n=i;if(r!=null&&(n=r),this.parser==null){let u=new Zt;return u.index=i,u.offset=i,u}let s=i+this.rawStart.length+((l=(a=this.startPosition)==null?void 0:a.index)!=null?l:0);return this.parser.positionFromOffset(s,s,!0)}isPaired(){return this.isClosingTag&&this.isSelfClosing==!1&&this.isOpenedBy!=null?!0:!(this.isClosedBy==null||this.isSelfClosing)}getFinalClosingTag(){return this.isClosedBy==null?this:this.isClosedBy.getFinalClosingTag()}rawContent(){return this.rawStart+this.content+this.rawEnd}getTrueRuntimeNodes(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRuntimeNodes():this.runtimeNodes}getTrueRawContent(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRawContent():this.rawContent()}getTrueNode(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueNode():this}getStructuralChildren(){return this.isClosedBy!=null?kg(this.children.slice(0,-1)):kg(this.children)}findParentOfType(i){return this.parent==null?null:this.parent instanceof G?this.parent.name!=null&&i.includes(this.parent.getTagName())?this.parent:this.parent.findParentOfType(i):null}},rr=class extends G{static makeWithStartPosition(e){let i=new rr;return i.startPosition=e,i.endPosition=e,i}},St=class extends rr{},_r=class extends G{constructor(){super(...arguments);this.recursiveParent=null;this.isNestedRecursive=!1}},Ms=class extends G{constructor(){super(...arguments);this.isEchoNode=!1}},Ha=class extends rr{},rd=class extends rr{},li=class extends G{constructor(){super(...arguments);this.isNoParseRegion=!1}},qs=class extends ne{constructor(){super(...arguments);this.modifier=null;this.isModifierParameter=!1;this.nameDelimiter='"';this.isVariableReference=!1;this.name="";this.value="";this.interpolations=[];this.parent=null;this.blockPosition=null;this.namePosition=null;this.valuePosition=null;this.hasValidValueDelimiter=!0}containsSimpleValue(){return this.hasInterpolations()==!1&&this.isVariableReference==!1}hasInterpolations(){return this.interpolations.length>0}getArrayValue(){return this.value.split("|")}getValue(){return this.value}},Wa=class{constructor(){this.modifierTarget=null;this.modifierChain=[];this.startPosition=null;this.endPosition=null;this.lastManifestedModifier=null;this.lastModifier=null}updateValues(){if(this.modifierChain.length==0)this.startPosition=null,this.endPosition=null;else{let e=this.modifierChain[0],i=this.modifierChain[this.modifierChain.length-1];this.startPosition=e.startPosition,this.endPosition=i.endPosition}}},Vo=class extends ne{constructor(){super(...arguments);this.modifier=null;this.methodStyleArguments=null;this.nameNode=null;this.name="";this.valueNodes=[];this.parameters=[]}getParameterValues(){let i=[];return this.parameters.forEach(r=>{i.push(r.value)}),i}},Ya=class extends ne{constructor(){super(...arguments);this.order=0;this.name=null;this.directionNode=null}},nd=class extends ne{constructor(){super(...arguments);this.value=""}},Ur=class extends ne{},yr=class extends ne{},jr=class extends ne{},nr=class extends ne{},sr=class extends ne{},bn=class extends ne{},as=class extends ne{constructor(){super(...arguments);this.repeat=1}},Tr=class extends ne{},or=class extends ne{},wi=class extends ne{},Gr=class extends ne{},Hr=class extends ne{},ar=class extends ne{},Wr=class extends ne{},Yr=class extends ne{},In=class extends ne{},ki=class extends ne{},br=class extends ne{},Mn=class extends ne{},Kr=class extends ne{},$r=class extends ne{},zr=class extends ne{},Qr=class extends ne{},Xr=class extends ne{},Jr=class extends ne{},qn=class extends ne{},Zr=class extends ne{},_i=class extends ne{},Bs=class extends ne{constructor(){super(...arguments);this.orderClauses=[]}},Mt=class extends ne{},Ai=class extends ne{},Ka=class extends ne{constructor(){super(...arguments);this.left=null;this.right=null}},Di=class extends ne{constructor(){super(...arguments);this.isTenaryBranchSeparator=!1}},lr=class extends ne{},Ir=class extends ne{},yi=class extends ne{},vr=class extends ne{},vn=class extends ne{},Nr=class extends ne{},Fi=class extends ne{},Nn=class extends ne{},ei=class extends ne{},ti=class extends ne{},Uo=class extends ne{constructor(){super(...arguments);this.values=[];this.isNamedNode=!1;this.parsedName=null}},He=class extends ne{constructor(){super(...arguments);this.start=null;this.end=null;this.nodes=[];this.scopeOperator=null}},jo=class extends ne{constructor(){super(...arguments);this.condition=null;this.expression=null}},Vs=class extends ne{constructor(){super(...arguments);this.cases=[]}},sd=class extends ne{constructor(){super(...arguments);this.left=null;this.right=null}},Bn=class extends ne{constructor(){super(...arguments);this.nodes=[]}},$a=class extends ne{constructor(){super(...arguments);this.head=null;this.truthBranch=null;this.falseBranch=null}},Gt=class extends ne{},Yt=class extends ne{constructor(){super(...arguments);this.nodes=[];this.separatorToken=null}},Sr=class extends He{constructor(){super(...arguments);this.scope=null}extract(){let i=null;this.scope!=null&&(i=this.scope.name);let r=this.nodes[0];return[i,r.nodes]}},Vn=class extends Sr{constructor(){super(...arguments);this.alias=null}},Go=class extends ne{constructor(){super(...arguments);this.args=[];this.hasNamedArguments=!1;this.numberOfNamedArguments=0}},Pr=class extends ne{},od=class extends ne{};var ls=class extends ne{constructor(){super(...arguments);this.libraryName="";this.methodName="";this.arguments=null}},Qe=class extends ne{constructor(){super(...arguments);this.sourceContent=""}},ui=class extends ne{constructor(){super(...arguments);this.method=null;this.args=null}},Ht=class extends ne{constructor(){super(...arguments);this.name=""}},ii=class extends ne{constructor(){super(...arguments);this.value="";this.name=""}},xu=class extends ne{constructor(){super(...arguments);this.name=null;this.value=null}},za=class extends ne{constructor(){super(...arguments);this.name=null;this.value=null}},Kt=class extends ne{constructor(){super(...arguments);this.value=null}},Dt=class extends ne{constructor(){super(...arguments);this.value="";this.sourceTerminator="";this.sourceContent=""}},fe=class extends ne{constructor(){super(...arguments);this.name="";this.mergeRefName="";this.variableReference=null;this.interpolationNodes=[];this.isInterpolationReference=!1}},ad=class extends ne{constructor(){super(...arguments);this.name=""}},Pi=class extends ne{constructor(){super(...arguments);this.delimiter="";this.name="";this.isStringVar=!1;this.isFinal=!1}},Sn=class{constructor(){this.originalContent="";this.normalizedReference="";this.isStrictTagReference=!1;this.isStrictVariableReference=!1;this.isExplicitVariableReference=!1;this.isVariableVariable=!1;this.pathParts=[];this.isFinal=!1;this._isFromEmptyFailState=!1}clone(){let e=new Sn;return e.originalContent=this.originalContent,e.normalizedReference=this.normalizedReference,e.isStrictVariableReference=this.isStrictVariableReference,e.isExplicitVariableReference=this.isExplicitVariableReference,e.pathParts=this.pathParts,e.isFinal=this.isFinal,e}implodePaths(){let e=[];return this.pathParts.forEach(i=>{i instanceof Pi?e.push(i.name):i instanceof Sn&&e.push(i.implodePaths())}),e.join(".")}},ld=class{constructor(e,i,r){this.target=e,this.value=i,this.operator=r}};var m_=ee(oi());var Qa=ee(Nt());function Fg(t,e){let i=[];if(t.currentNode==null)return i;let r={start:{line:t.position.line,character:t.position.character-0},end:t.position};for(let n=0;n<e.length;n++){let s=e[n];if(!t.currentNode.hasParameter(s.name)){let o=s.name;t.leftWord!=null&&o.startsWith(t.leftWord)&&(o=o.substring(t.leftWord.length));let a=o+'="$1"';i.push({label:s.name,kind:Qa.CompletionItemKind.Value,insertTextFormat:Qa.InsertTextFormat.Snippet,textEdit:Qa.TextEdit.replace(r,a),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return i}var Xa=ee(Nt());function Us(t,e,i){return{label:t,insertText:t,kind:Xa.CompletionItemKind.Field,detail:i+": "+e}}function hU(t,e){let i="";return e.length>0&&(i=e.join(", ")),"**"+t+"** `"+i+"`  \n"}function ud(t){let e=hU(t.name,t.acceptsType),i="";if(t.parameters.length>0){let s=[];t.parameters.forEach(o=>{s.push("$"+o.name)}),i=s.join(", ")}let r="";if(t.returnsType.length==1)r=t.returnsType[0];else{let s=[];t.returnsType.forEach(o=>{s.push(o)}),r=s.join(", ")}return e+=t.description+`
`,e+="```js\n",e+="function "+t.name+"("+i+"):"+r,e+="\n```",t.docLink!=null&&t.docLink.trim().length>0&&(e+=`  

`,e+="[Documentation Reference]("+t.docLink+")"),{label:t.name,insertText:t.name,documentation:{kind:Xa.MarkupKind.Markdown,value:e},kind:Xa.CompletionItemKind.Function}}function cd(t){let e=[];for(let i=0;i<t.length;i++)typeof t[i].name!="undefined"&&e.push(Lg(t[i]));return e}function Lg(t){let e="",i=t.name;return t.instructionText!=null&&(e=t.instructionText),t.displayName!=null&&(i=t.displayName+" ("+t.name+")"),t.blueprintName!=null&&(e.trim().length>0&&(e+=`
`),e+="Blueprint: "+t.blueprintName),t.type!=null&&(i+=": "+t.type),{label:t.name,insertText:t.name,kind:Xa.CompletionItemKind.Field,documentation:e,detail:i}}function De(t,e,i,r){let n="**"+t+"**  ";return n+=`
`,n+=e+"  ",n+="\n```antlers\n",n+=i,n+="\n```",r!=null&&(n+=`

`,n+="[Documentation Reference]("+r+")"),n}function q(t,e,i){let r="**"+t+"**  ";return r+=`
`,r+=e+"  ",i!=null&&(r+=`

`,r+="[Documentation Reference]("+i+")"),r}function Ja(t){let e=[];return t=="order"&&e.push("sort"),e}var HI=["replicator","bard"];function mU(t){return{blueprintName:t.sourceName,displayName:t.name,instructionText:"",maxItems:-1,name:t.name,refFieldSetField:null,type:t.dataType,sets:null,import:null}}function fd(t){let e=[];for(let i=0;i<t.length;i++)e.push(mU(t[i]));return e}function Og(t,e=""){return{blueprintName:"fieldset",displayName:e+t.name,instructionText:t.instructionText,maxItems:t.maxItems,name:e+t.handle,type:t.type,refFieldSetField:t,sets:t.sets,import:t.import}}function WI(t,e,i){return t=="select"&&typeof e.field.multiple!="undefined"&&e.field.multiple===!0&&(t="select_multiple"),(typeof e.field.multiple=="undefined"||i>1)&&(t=="form"?t="form_multiple":t=="sites"?t="sites_multiple":t=="taxonomies"?t="taxonomies_multiple":t=="user_groups"?t="user_groups_multiple":t=="user_roles"?t="user_roles_multiple":t=="terms"?t="terms_multiple":t=="users"?t="users_multiple":t=="structures"&&(t="structures_multiple")),t}function YI(t){let e=[];for(let i=0;i<t.length;i++)e.push(Og(t[i]));return e}function nt(t){return[{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"order",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t}]}function KI(t,e,i){if(typeof i=="undefined"||i===null)return;let r=t.findParameter("as"),n=t.findParameter("scope");i=i.concat(fd(nt(t))),r!=null&&n!=null?e.introduceScopedAliasScope(t,n.value,r.value,i):r!=null?e.introduceAliasScope(t,r.value,i):n!=null?e.introduceDynamicScopeList(t,n.value,i):e.addBlueprintFields(t,i)}function $I(t){return[{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t},{name:"total_results",dataType:"integer",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t}]}var Pn=ee(Nt());var js=[{isRequired:!1,name:"from",description:"The collection name to retrieve entries from",aliases:["folder","use"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"not_from",aliases:["not_folder","dont_use"],description:"The collections to exclude when retrieving entries",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"show_unpublished",aliases:null,description:"Controls whether unpbulished entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_published",aliases:null,description:"Controls whether published entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_past",aliases:null,description:"Controls whether to display entries with a past date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"since",aliases:null,description:"Sets the minimum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"until",aliases:null,description:"Sets the maximum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the entry sort order",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",aliases:null,description:"Sets the maximum number of entries to return",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["integer"],isDynamic:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope",expectsTypes:["string"],isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets the amount that entry results should be offset by",expectsTypes:["integer"],isRequired:!1,name:"offset",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether not to paginate entry results",expectsTypes:["boolean","number"],isRequired:!1,name:"paginate",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies a name to give to a new entries array variable",expectsTypes:["string"],isRequired:!1,name:"as",isDynamic:!1},{name:"scope",aliases:null,acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Sets a prefix on all entry variables",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"locale",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the locale in which to retrieve entry content",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"redirects",aliases:["links"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Controls whether entries with redirects are returned",expectsTypes:["boolean"],isRequired:!1,isDynamic:!1},{name:"page_name",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"Allows you to customise the name of the URL query parameter used for pagination.",expectsTypes:["string"],isRequired:!1,isDynamic:!1}],zI=["from","folder","use"],QI=["not_from","not_folder","dont_use"],XI=["draft","scheduled","expired","published"];function JI(t){let e=[];if(t.project!=null){let i={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position},r=t.project.getUniqueTaxonomyNames();for(let n=0;n<r.length;n++){let s=r[n],o=t.originalLeftWord+s+'="$1"';e.push({label:t.originalLeftWord+s,insertTextFormat:Pn.InsertTextFormat.Snippet,kind:Pn.CompletionItemKind.Field,textEdit:Pn.TextEdit.replace(i,o),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return e}function Za(t,e){let i=[];if(t.reference!=null){let r=t.reference,n=e.statamicProject.getBlueprintFields(r.collectionNames);typeof n!="undefined"&&n!=null&&(i=n)}return i}function ZI(t){let e=[],i=XI.filter(r=>!t.includes(r));for(let r=0;r<i.length;r++)e.push({label:i[r],kind:Pn.CompletionItemKind.Variable});return e}function ev(t,e,i){let r=[],n=i.getTaxonomyTerms(e),s=n.filter(o=>!t.includes(o));for(let o=0;o<s.length;o++)r.push({label:s[o],kind:Pn.CompletionItemKind.Variable});return r}function tv(t){let e=[],i=t.getCollectionNames();for(let r=0;r<i.length;r++)e.push({label:i[r],kind:Pn.CompletionItemKind.Variable});return e}function el(t,e){let i=[],r=e.getCollectionNames().filter(n=>!t.includes(n));for(let n=0;n<r.length;n++)i.push({label:r[n],kind:Pn.CompletionItemKind.Variable});return i}function dd(t){let e=[],i=t.getCollectionQueryScopes();for(let r=0;r<i.length;r++)e.push({label:`${i[r].handle} (${i[r].name})`,detail:i[r].description,insertText:i[r].handle,kind:Pn.CompletionItemKind.EnumMember});return e}function tl(t,e){if(t.isClosingTag)return e;if(t.hasMethodPart()&&t.getMethodNameValue()!="count"&&e.addVariables($I(t)),t.reference!=null){let i=Za(t,e),r=t.reference;i.length==0&&r.collectionNames.length>0&&(i.push({blueprintName:r.collectionNames[0],displayName:"Title",import:null,instructionText:"",maxItems:null,name:"title",type:"string",refFieldSetField:null,sets:[]}),i.push({blueprintName:r.collectionNames[0],displayName:"Slug",import:null,instructionText:"",maxItems:null,name:"slug",type:"string",refFieldSetField:null,sets:[]}),i.push({blueprintName:r.collectionNames[0],displayName:"Date",import:null,instructionText:"",maxItems:null,name:"date",type:"string",refFieldSetField:null,sets:[]})),KI(t,e,i)}return e}var wu=ee(oi());var pd=ee(Nt());var Mg=[{name:"is",description:"Tests if a field is equal to a value"},{name:"equals",description:"Tests if a field is equal to a value"},{name:"not",description:"Tests if a field is not equal to a value"},{name:"isnt",description:"Tests if a field is not equal to a value"},{name:"exists",description:"Tests if a field exists"},{name:"isset",description:"Tests if a field exists"},{name:"doesnt_exist",description:"Tests if a field does not exist"},{name:"is_empty",description:"Tests if a field does not exist"},{name:"null",description:"Tests if a field does not exist"},{name:"contains",description:"Tests if a field contains a value"},{name:"doesnt_contain",description:"Tests if a field does not contain a value"},{name:"in",description:"Tests if a value is in an array"},{name:"not_in",description:"Tests if an array does not contain a value"},{name:"starts_with",description:"Tests if a field starts with a value"},{name:"doesnt_start_with",description:"Tests if a field does not start with a value"},{name:"ends_with",description:"Tests if a field ends with a value"},{name:"doesnt_end_with",description:"Tests if a field does not end with a value"},{name:"gt",description:"Tests if a field is greater than a value"},{name:"lt",description:"Tests if a field is less than a value"},{name:"gte",description:"Tests if a field is greater than or equal to a value"},{name:"lte",description:"Tests if a field is less than or equal to a value"},{name:"matches",description:"Tests if a field matches a case insensitive regex"},{name:"regex",description:"Tests if a field matches a case insensitive regex"},{name:"doesnt_match",description:"Tests if a field does not match a case insensitive regex"},{name:"is_alpha",description:"Tests if a field contains only alphabetical characters"},{name:"is_numeric",description:"Tests if a field contains only numeric characters"},{name:"is_alpha_numeric",description:"Tests if a field contains only alpha-numeric characters"},{name:"is_url",description:"Tests if a field is a valid URL"},{name:"is_embeddable",description:"Tests if a field is an embeddable video URL"},{name:"is_email",description:"Tests if a field is a valid email address"},{name:"is_after",description:"Tests if a field is after a given date"},{name:"is_before",description:"Tests if a field is before a given date"}];function Gs(t){let e=[],i={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};for(let r=0;r<Mg.length;r++){let n=Mg[r],s=t.originalLeftWord+n.name+'="$1"';e.push({label:n.name,insertTextFormat:pd.InsertTextFormat.PlainText,kind:pd.CompletionItemKind.Field})}return e}var $t=ee(xi());var Hs=class{static clear(e){this.unclosedNodes.delete(e)}static registerNodes(e,i){this.unclosedNodes.set(e,i)}static getUnclosedTags(e,i){var o,a,l;let r=[];if(this.unclosedNodes.has(e)==!1)return r;let n=this.unclosedNodes.get(e);if(n.length==0)return r;let s=i.line+1;for(let u=0;u<n.length;u++){let c=n[u];(((o=c.endPosition)==null?void 0:o.line)==s&&i.character>c.endPosition.char||s>((l=(a=c.endPosition)==null?void 0:a.line)!=null?l:0))&&r.push(c)}return r}static hasUnclosedTags(e,i){return this.unclosedNodes.has(e)==!1?!1:this.getUnclosedTags(e,i).length>0}};Hs.unclosedNodes=new Map;var iv=["edit_url","id","last_modified","permalink","published","slug","template","url"];function Ws(t){return[{name:"edit_url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"id",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"last_modified",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"permalink",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"published",dataType:"boolean",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"slug",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"template",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t}]}var Ar=ee(oi()),rv=[{label:"name",kind:Ar.CompletionItemKind.Property},{label:"description",kind:Ar.CompletionItemKind.Property},{label:"desc",kind:Ar.CompletionItemKind.Property},{label:"entry",kind:Ar.CompletionItemKind.Property},{label:"collection",kind:Ar.CompletionItemKind.Property},{label:"blueprint",kind:Ar.CompletionItemKind.Property},{label:"var",kind:Ar.CompletionItemKind.Property},{label:"set",kind:Ar.CompletionItemKind.Property},{label:"param",kind:Ar.CompletionItemKind.Property},{label:"param*",kind:Ar.CompletionItemKind.Property},{label:"front",kind:Ar.CompletionItemKind.Property},{label:"format",kind:Ar.CompletionItemKind.Property}];var hd=ee(Nt()),gU=[{label:"if",kind:hd.CompletionItemKind.Keyword},{label:"elseif",kind:hd.CompletionItemKind.Keyword},{label:"else",kind:hd.CompletionItemKind.Keyword}],nv=gU;var il=ee(oi()),sv=ee(Nt());var md=class{static getCompletions(e,i){var o;let r=[],n=0;e.leftWord!=e.leftMeaningfulWord&&(n=e.leftWord.length);let s={start:{line:e.position.line,character:e.position.character-n},end:e.position};return(o=je.instance)==null||o.getModifiersForType(i.dataType).filter(a=>a.canBeParameter).forEach(a=>{r.push({label:a.name,documentation:{kind:sv.MarkupKind.Markdown,value:a.description},insertTextFormat:il.InsertTextFormat.Snippet,kind:il.CompletionItemKind.Value,textEdit:il.TextEdit.replace(s,a.name+'="$1" '),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}),r}};var qg=ee(Nt()),rl=[];rl.push({label:"true",kind:qg.CompletionItemKind.Keyword});rl.push({label:"false",kind:qg.CompletionItemKind.Keyword});function ov(t){let e=[];for(let i=0;i<t.expectsTypes.length;i++)t.expectsTypes[i]=="boolean"&&(e=e.concat(rl));return e}function it(t){return[{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"value",introducedBy:t},{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"key",introducedBy:t}]}var _U={name:"array",augmentScope:(t,e)=>{e.addVariables(it(t)),e.addVariables(nt(t))}},av=_U;function nl(t){return[{name:"id",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"title",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"path",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"basename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_asset",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_audio",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_previewable",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_video",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"edit_url",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"permalink",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_b",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_kb",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_mb",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_gb",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus_css",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"width",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"orientation",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"ratio",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"mime_type",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"duration",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"duration_seconds",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"duration_sec",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"playtime",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t}]}var yU={name:"assets",augmentScope:(t,e)=>{e.addVariables(it(t)),e.addVariables(nl(t))}},lv=yU;var TU={name:"bard",augmentScope:(t,e)=>{e.addVariable({name:"type",dataType:"string",sourceField:null,sourceName:"*internal.bard",introducedBy:t})},injectCompletions:(t,e,i)=>[]},uv=TU;var bU={name:"form_multiple",augmentScope:(t,e)=>{e.addVariables(it(t)),e.addVariables(nt(t))}},cv=bU;var IU={name:"list",augmentScope:(t,e)=>{e.addVariables(it(t)),e.addVariables(nt(t))}},fv=IU;function dv(t){return[{name:"type",dataType:"string",sourceName:"*internal.replicator",sourceField:null,introducedBy:t}]}var vU={name:"replicator",augmentScope:(t,e)=>{e.addVariables(dv(t)),e.addVariables(nt(t))},injectCompletions:(t,e,i)=>[]},pv=vU;var NU={name:"select_multiple",augmentScope:(t,e)=>{e.addVariables(it(t)),e.addVariables(nt(t))}},hv=NU;var SU={name:"sites_multiple",augmentScope:(t,e)=>{e.addVariables(it(t)),e.addVariables(nt(t))}},mv=SU;var PU={name:"structures_multiple",augmentScope:(t,e)=>{e.addVariables(it(t)),e.addVariables(nt(t))}},gv=PU;var AU={name:"table",augmentScope:(t,e)=>{e.addVariable({name:"cells",dataType:"array",sourceName:"*internal.fieldtype.table",sourceField:null,introducedBy:t})}},_v=AU;var EU={name:"tags",augmentScope:(t,e)=>{e.addVariables(it(t)),e.addVariables(nt(t))}},yv=EU;function gd(t){return Ws(t).concat([{name:"entries_count",dataType:"number",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"is_term",dataType:"boolean",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"taxonomy",dataType:"string",sourceName:"*internal.term",sourceField:null,introducedBy:t}])}var CU={name:"taxonomies_multiple",augmentScope:(t,e)=>{e.addVariables(it(t)),e.addVariables(nt(t)),e.addVariables(gd(t))}},Tv=CU;var RU={name:"terms_multiple",augmentScope:(t,e)=>{e.addVariables(it(t)),e.addVariables(nt(t)),e.addVariables(gd(t))}},bv=RU;var xU={name:"user_groups_multiple",augmentScope:(t,e)=>{e.addVariables(it(t)),e.addVariables(nt(t))}},Iv=xU;var wU={name:"user_roles_multiple",augmentScope:(t,e)=>{e.addVariables(it(t)),e.addVariables(nt(t))}},vv=wU;var kU={name:"users_multiple",augmentScope:(t,e)=>{e.addVariables(it(t)),e.addVariables(nt(t)),e.injectBlueprint(t,"user")}},Nv=kU;var DU={name:"yaml",augmentScope:(t,e)=>{e.addVariables(it(t)),e.addVariables(nt(t))}},Sv=DU;var FU=[av,lv,uv,cv,fv,pv,hv,mv,gv,Sv,_v,Tv,yv,bv,Nv,Iv,vv],Pv=FU;var us=class{constructor(){this.fieldTypes=new Map}getFieldTypes(){return this.fieldTypes}getFieldType(e){return this.fieldTypes.get(e)}registerFieldtypes(e){for(let i=0;i<e.length;i++)this.fieldTypes.set(e[i].name,e[i])}loadCoreFieldtypes(){this.registerFieldtypes(Pv)}hasFieldtype(e){return this.fieldTypes.has(e)}};us.instance=null;(typeof us.instance=="undefined"||us.instance==null)&&(us.instance=new us,us.instance.loadCoreFieldtypes());var Ys=us;var _d=class{static getVariableSuggestions(e,i){var n,s;let r=[];if(i.scopeVariable!=null&&i.scopeVariable.sourceField!=null&&(n=Ys.instance)!=null&&n.hasFieldtype(i.scopeVariable.sourceField.type)){let o=(s=Ys.instance)==null?void 0:s.getFieldType(i.scopeVariable.sourceField.type);o.injectCompletions!=null&&(r=o.injectCompletions(e,i.scopeVariable.sourceField,i))}return r}};var LU=["if","elseif","unless","elseunless"],OU=["else","/if"];function Av(t,e){var l,u,c,f,d,p,h,T;let i=(u=(l=t.startPosition)==null?void 0:l.line)!=null?u:-1,r=(f=(c=t.endPosition)==null?void 0:c.line)!=null?f:1,n=(p=(d=t.startPosition)==null?void 0:d.char)!=null?p:-1,s=(T=(h=t.endPosition)==null?void 0:h.char)!=null?T:-1,o=e.line+1,a=e.character+1;return i==r&&o==i+1&&a>n&&a<=s||o==i&&a>n&&a<=s||o==r&&a<s||o>i&&o<r}function Td(t){let e="";return t.currentNode!=null&&(e=t.currentNode.getMethodNameValue()),e}function cs(t){if(t.includes(":")==!1)return t;let e=t.split(":");return e.length>1?e[e.length-1]:e[0].trim()}function bd(t){return t.includes(":")==!1?t:t.split(":")[0]}function Ev(t){var i;if(t.nodesInScope.length==0)return[];let e=t.nodesInScope[t.nodesInScope.length-1];return((i=t.context)==null?void 0:i.node)!=null&&(e=t.context.node),e.currentScope==null?[]:Ho(t,e.currentScope)}function Ho(t,e){let i=[];return e.values.forEach(r=>{var n;if(r.sourceField!=null?i.push({label:r.name,detail:r.sourceField.blueprintName,documentation:(n=r.sourceField.instructionText)!=null?n:"",kind:$t.CompletionItemKind.Field}):i.push(Us(r.name,"","")),r.dataType.trim().length>0&&r.dataType=="array"){let s=r.name+` }}
    $1
{{ /`+r.name+" ",o={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};i.push({label:r.name+" loop",insertTextFormat:$t.InsertTextFormat.Snippet,kind:$t.CompletionItemKind.Snippet,textEdit:$t.TextEdit.replace(o,s),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}),e.lists.forEach((r,n)=>{i.push(Us(n,"",""))}),i}function Bg(t){var e;(e=ae.instance)==null||e.getStructure().getCustomModifierNames().forEach(i=>{t.push({kind:$t.CompletionItemKind.Function,label:i,insertText:i})})}function MU(){var e;let t=[];return(e=je.instance)==null||e.getRegisteredModifiers().forEach(i=>{i.isDeprecated||t.push(ud(i))}),Bg(t),t}var yd=class{static getSuggestions(e){var s,o,a,l,u,c,f,d,p,h,T,N,_,g,y,x,L,E,U,w,z,de,H,Z,ue,te,Q,qe,ht,pi,ft,It,Jn,Lr;if(e==null)return[];if(e.context!=null&&e.context.node!=null&&e.context.node.isComment)return e.context.node.antlersNodeIndex==1?rv:[];if(e.nodesInScope.length==0)return[];if(e.leftMeaningfulWord==null&&e.leftChar=="/"){let ce=Hs.getUnclosedTags(e.document,e.position);if(ce.length>0){let he=[],Ne="";e.rightChar=="}"&&(Ne=" ");for(let pe=0;pe<ce.length;pe++)he.push({label:ce[pe].runtimeName()+Ne,kind:$t.CompletionItemKind.Text});return he}}let i=e.nodesInScope[e.nodesInScope.length-1];if(i instanceof Ms)return[];let r=[],n=!0;if(i.currentScope!=null&&((s=e.context)==null?void 0:s.variableContext)!=null&&e.context.variableContext.varPathText.length>0){if(i.currentScope.hasListInHistory(e.context.variableContext.varPathText)){let ce=i.currentScope.getList(e.context.variableContext.varPathText);ce!=null&&Ho(e,ce).forEach(he=>{r.push({...he,sortText:"00"})})}else if(i.currentScope.containsPath(e.context.variableContext.varPathText)){let ce=i.currentScope.findNestedScope(e.context.variableContext.varPathText);ce!=null&&Ho(e,ce).forEach(he=>{r.push({...he,sortText:"00"})})}}if(((o=e.context)==null?void 0:o.modifierContext)!=null&&(e.context.modifierContext.inModifierName||e.context.modifierContext.inModifierName==!1&&e.context.modifierContext.inModifierParameter==!1||e.context.feature==null||e.leftChar=="|"&&e.context.char==" ")&&(r=r.concat(MU())),e.nodesInScope.length>=2){let ce=e.nodesInScope.length-2,he=[];for(let Ne=ce;Ne>=0;Ne--){let pe=e.nodesInScope[Ne];he=he.concat(_d.getVariableSuggestions(e,pe))}he.length>0&&(r=r.concat(he))}if((((a=e.currentNode)==null?void 0:a.isEmpty())||((l=e.context)==null?void 0:l.isCursorInIdentifier)&&e.leftChar!=":"&&e.leftChar!=" ")&&((u=e.context)==null?void 0:u.modifierContext)==null){let ce=(f=(c=Le.instance)==null?void 0:c.getVisibleTagsWithDocumentation())!=null?f:[],he=[],Ne=[];for(let pe=0;pe<ce.length;pe++){let we="000";if(e.leftWord!=null&&ce[pe].label.startsWith(e.leftWord)==!1&&(we="001"),((d=e.context)==null?void 0:d.node)!=null&&((p=e.context)==null?void 0:p.node.parent)!=null&&(we=void 0),ce[pe].label.includes(":")==!1)he.includes(ce[pe].label)==!1&&(Ne.push({label:ce[pe].label,kind:$t.CompletionItemKind.Text,documentation:{kind:"markdown",value:ce[pe].documentation},sortText:we}),he.push(ce[pe].label));else{let Lt=ce[pe].label.split(":")[0];he.includes(Lt)==!1&&(Ne.push({label:Lt,kind:$t.CompletionItemKind.Text,documentation:{kind:"markdown",value:ce[pe].documentation},sortText:we}),he.push(Lt))}}r=r.concat(Ne)}if(i!=null&&i.currentScope!=null){if(OU.includes(i.getTagName()))return[];if(((h=e.context)==null?void 0:h.node)==null)return[];if(e.antlersDocument!=null){let ce=e.antlersDocument.cursor.getAssignmentsBefore(e.position.line,e.position.character);ce.length>0&&ce.forEach(he=>{he.target instanceof fe&&r.push({label:he.target.name,kind:$t.CompletionItemKind.Variable})})}if(LU.includes(i.getTagName())&&e.context.feature!=null&&e.context.feature instanceof Dt&&e.context.feature.prev instanceof ki&&e.context.feature.prev.prev instanceof fe){let ce=i.getParser();if(ce!=null&&e.project!=null&&ce.getLanguageParser().isMergedVariableComponent(e.context.feature.prev.prev)){let Ne=ce.getLanguageParser().getMergedVariable(e.context.feature.prev.prev),pe=[];return Ne.name=="collection:handle"?pe=e.project.getUniqueCollectionNames():Ne.name=="site:handle"?pe=e.project.getSiteNames():Ne.name=="blueprint:handle"&&(pe=e.project.getBlueprintNames()),pe.forEach(we=>{r.push({label:we,sortText:we,kind:$t.CompletionItemKind.EnumMember})}),r}if(["collection","current_template","status","blueprint","response_code"].includes(e.context.feature.prev.prev.name)){if(e.project!=null){let Ne=e.context.feature.prev.prev.name,pe=[];return Ne=="collection"?pe=e.project.getUniqueCollectionNames():Ne=="current_template"?pe=e.project.getTemplateNames():Ne=="status"?pe=["draft","scheduled","expired","published"]:Ne=="blueprint"?pe=e.project.getBlueprintNames():Ne=="response_code"&&(pe=["404","200"]),pe.forEach(we=>{r.push({label:we,sortText:we,kind:$t.CompletionItemKind.EnumMember})}),r}}else if(e.context.feature.prev.prev.scopeVariable!=null){let Ne=e.context.feature.prev.prev.scopeVariable.dataType;if(Ne=="replicator"||Ne=="bard"){let pe=e.context.feature.prev.prev.scopeVariable.sourceField;return(T=pe.sets)==null||T.forEach(we=>{let Lt="**"+we.displayName+"** `"+we.handle+"`  ";Lt+=`

 Blueprint: \``+pe.blueprintName+"`  \n",we.fields.forEach(kn=>{Lt+=`
 * `+kn.displayName+" `"+kn.name+":"+kn.type+"`  "}),Ne=="replicator"?Lt+=`

 [Replicator Templating Documentation](https://statamic.dev/fieldtypes/replicator#templating)`:Lt+=`

 [Bard Templating Documentation](https://statamic.dev/fieldtypes/bard#with-sets)`,r.push({label:we.displayName,insertText:we.handle,sortText:"000",documentation:{kind:"markdown",value:Lt},kind:$t.CompletionItemKind.EnumMember})}),r}}}if(i.isTagNode==!1){r=r.concat(nv);let ce={start:{line:e.position.line,character:e.position.character-e.originalLeftWord.length},end:e.position},he=`if $1 }}
    $2
{{ else }}

{{ /if `;r.push({label:"ifelse",insertTextFormat:$t.InsertTextFormat.Snippet,kind:$t.CompletionItemKind.Snippet,textEdit:$t.TextEdit.replace(ce,he),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}),i.scopeVariable!=null&&(r=r.concat(md.getCompletions(e,i.scopeVariable)))}if(i.currentScope.hasListInHistory(i.runtimeName())==!1&&i.currentScope.hasPristineReference(i.runtimeName())==!1?n=(_=(N=Le.instance)==null?void 0:N.injectParentScope(i.runtimeName()))!=null?_:!1:n=!1,((g=e.context)==null?void 0:g.parameterContext)!=null&&e.context.parameterContext.parameter!=null&&(e.context.parameterContext.parameter.isVariableReference==!1?n=!1:n=!0),e.currentNode!=null&&(e.currentNode.isEmpty()||e.currentNode.parent!=null)&&(n=!0),i.runtimeName().includes(":")&&i.currentScope.containsPath(Tn(i.runtimeName(),":"))){let ce=Tn(i.runtimeName(),":"),he=Vr(Tn(e.leftWord,":"),"{");if(ce==he){let Ne=i.currentScope.findNestedScope(ce);if(Ne!=null)return Ne.lists.forEach((pe,we)=>{r.push(Us(we,"",""))}),Ne.values.forEach(pe=>{var we;pe.sourceField!=null?r.push({label:pe.name,detail:pe.sourceField.blueprintName,documentation:(we=pe.sourceField.instructionText)!=null?we:"",kind:$t.CompletionItemKind.Field}):r.push(Us(pe.name,"",""))}),r}}if(i.isTagNode){if(e.isInVariableInterpolation&&e.currentNode==null)r=r.concat(Ho(e,i.currentScope.ancestor()));else if(((y=e.context)==null?void 0:y.parameterContext)!=null&&e.context.parameterContext.parameter!=null){let ce=e.context.parameterContext.parameter;if(ce.isVariableReference&&e.position.character<=((E=(L=(x=ce.valuePosition)==null?void 0:x.end)==null?void 0:L.char)!=null?E:-1)){if(r=r.concat(Ho(e,i.currentScope.ancestor())),Le.instance!=null){let he=Le.instance.getCompletionItems(e);r=r.concat(he.items)}}else if(e.position.character<=((z=(w=(U=ce.valuePosition)==null?void 0:U.end)==null?void 0:w.char)!=null?z:-1)){let he=null,Ne=!1;if((de=Le.instance)!=null&&de.canResolveDynamicParameter(i.runtimeName())){let pe=Le.instance.findTag(i.runtimeName());typeof pe!="undefined"&&typeof pe.resolveDynamicParameter!="undefined"&&pe.resolveDynamicParameter!=null&&(he=pe.resolveDynamicParameter(i,ce.name),Ne=!0)}else he=(Z=(H=Le.instance)==null?void 0:H.getParameter(i.runtimeName(),ce.name))!=null?Z:null;if(he==null&&Ne&&(he=(te=(ue=Le.instance)==null?void 0:ue.getParameter(i.runtimeName(),ce.name))!=null?te:null),typeof he!="undefined"&&he!==null){let pe=(qe=(Q=Le.instance)==null?void 0:Q.resolveParameterCompletions(i.runtimeName(),he,e))!=null?qe:null;pe!==null&&pe.items.length>0?pe.items.forEach(we=>{we.sortText="000",r.push(we)}):ov(he).forEach(we=>{we.sortText="000",r.push(we)})}if(ce.hasInterpolations()&&e.isInVariableInterpolation&&i.isTagNode){let pe=(ht=Le.instance)==null?void 0:ht.findTag(i.runtimeName());if(pe.resolveCompletionItems!=null){let we=pe.resolveCompletionItems(e);we.items.length>0&&(r=we.items)}}}}else if(e.isInVariableInterpolation==!1||e.currentNode==i){let ce=Av(i,e.position);if(e.isCaretInTag=ce,e.currentNode=i,Le.instance!=null){let he=Le.instance.getCompletionItems(e);he.isExclusive?r=he.items:r=r.concat(he.items)}}}else e.isInVariableInterpolation&&e.currentNode==null&&(r=r.concat(Ho(e,i.currentScope.ancestor())));if(n){e.context.node!=null&&e.context.node.currentScope!=null&&(e.context.modifierContext==null||e.context.modifierContext.activeModifier==null)&&(r=r.concat(Ho(e,e.context.node.currentScope)));let ce=decodeURIComponent(e.document);if(e.project.hasViewCollectionInjections(ce)){let he=e.project.getCollectionNamesForView(ce);for(let Ne=0;Ne<he.length;Ne++){let pe=e.project.getBlueprintFields(he);if(pe.length>0)for(let we=0;we<pe.length;we++){let Lt=pe[we];r.push({label:Lt.name,detail:Lt.blueprintName,documentation:(pi=Lt.instructionText)!=null?pi:"",kind:$t.CompletionItemKind.Field})}}iv.forEach(Ne=>{r.push({label:Ne,kind:$t.CompletionItemKind.Field})})}}return e.context.node!=null&&(e.context.node.manifestType=="array"&&e.context.node.isClosedBy!=null?e.context.modifierContext!=null&&(((It=(ft=je.instance)==null?void 0:ft.getModifiersForType("array"))!=null?It:[]).forEach(he=>{if(he.isDeprecated)return;let Ne=ud(he);Ne.sortText="000",r.push(Ne)}),Bg(r)):e.context.modifierContext!=null&&(((Lr=(Jn=je.instance)==null?void 0:Jn.getModifiersForType(e.context.node.manifestType))!=null?Lr:[]).forEach(he=>{if(he.isDeprecated)return;let Ne=ud(he);Ne.sortText="000",r.push(Ne)}),Bg(r))),r}for(let ce=0;ce<e.nodesInScope.length;ce++){let he=e.nodesInScope[ce],Ne=!0;if(e.isInVariableInterpolation&&e.currentNode!==null&&he.currentScope!=null&&e.currentNode.currentScope!=null&&he.currentScope.generation>e.currentNode.currentScope.generation&&(Ne=!1),he.isTagNode&&Ne){let pe=Av(he,e.position);if(e.isCaretInTag=pe,e.currentNode=he,Le.instance!=null){let we=Le.instance.getCompletionItems(e);if(we.isExclusive){r=we.items;break}r=r.concat(we.items)}continue}}return r}};var Cv=ee(oi());function Te(t){let e="";typeof t!="undefined"&&typeof t.resolveDocumentation!="undefined"&&t.resolveDocumentation!=null&&(e=t.resolveDocumentation());let i=t.tagName;if(i.includes(":")){let r=i.split(":");i=r[r.length-1]}return{label:i,kind:Cv.CompletionItemKind.Text,sortText:"1",documentation:{kind:"markdown",value:e}}}var Vg=ee(Nt());function Rv(t,e,i){return{name:t,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:e,expectsTypes:["string"],isDynamic:!0,isRequired:!1,documentationLink:i,docLinkName:"MDN Reference"}}var xv=Rv("class","A space-separated list of the classes of the element.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/class"),wv=Rv("style","Contains CSS styling declarations to be applied to the element. Note that it is recommended for styles to be defined in a separate file or files.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/style");function Id(t){return t=="class"?xv:t=="style"?wv:{name:t,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"",expectsTypes:["string","number","array"],isRequired:!1,isDynamic:!0}}function kv(t){let e=[];for(let i=0;i<t.length;i++)e.push({label:t[i],kind:Vg.CompletionItemKind.Field});return re(e)}function Rt(t){let e=[];for(let i=0;i<t.length;i++)e.push({label:t[i],kind:Vg.CompletionItemKind.Field});return re(e)}function re(t){return{items:t,isExclusiveResult:!0,analyzeDefaults:!1}}function Li(t){return{items:t,isExclusiveResult:!1,analyzeDefaults:!0}}var Ie={items:[],isExclusiveResult:!1,analyzeDefaults:!0};function gt(t,e){let i=qU(t);return i.tagName=e,i}function qU(t){return{allowsArbitraryParameters:t.allowsArbitraryParameters,allowsContentClose:t.allowsContentClose,injectParentScope:t.injectParentScope,parameters:t.parameters,requiresClose:t.requiresClose,tagName:t.tagName,introducedIn:t.introducedIn,hideFromCompletions:t.hideFromCompletions,augmentScope:t.augmentScope,requiresCloseResolver:t.requiresCloseResolver,resolveCompletionItems:t.resolveCompletionItems,resolveDynamicParameter:t.resolveDynamicParameter,resolveSpecialType:t.resolveSpecialType,resovleParameterCompletionItems:t.resovleParameterCompletionItems,suggestAlternativeParams:t.suggestAlternativeParams,resolveDocumentation:t.resolveDocumentation}}function Dv(t){return t.findParameterValueOrNull("scope")}function Fv(t){t.getAllNodes().forEach(i=>{i instanceof G&&i.manifestType==="array"&&(i.mustClose=!0)})}function BU(t){return t.findParameterValueOrNull("as")}var VU=["count","next","previous"];function UU(t,e){let i=[];if(t.hasMethodPart()){let a=t.getMethodNameValue();if(VU.includes(a)==!1)return i.push(a),i}let r=t.findAnyParameter(zI),n=t.findAnyParameter(QI),s=[],o=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueCollectionNames(),typeof n!="undefined"&&n!==null&&n.isVariableReference==!1&&n.hasInterpolations()==!1&&(o=n.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),o.length>0?i=s.filter(function(a){return o.includes(a)==!1}):i=s,i}function Ks(t,e){var u,c,f,d,p,h;let i=UU(t,e),r=!1,n=!1,s=!1,o=null,a="";if(t.isClosingTag==!1){let T=BU(t),N=Dv(t);T!=null&&(r=!0,a=T),N!=null&&(s=!0,o=N),n=t.hasParameter("paginate")}return{context:{collectionNames:i!=null?i:[],endPosition:(c=(u=t.endPosition)==null?void 0:u.char)!=null?c:0,aliasName:a,isAliased:r,isScoped:s,scopeName:o,isStartOfScope:!t.isClosingTag,line:(d=(f=t.startPosition)==null?void 0:f.line)!=null?d:0,startPosition:(h=(p=t.startPosition)==null?void 0:p.char)!=null?h:0,isPaginated:n,excludeCollections:[],includeCollections:[]},issues:[]}}function sl(t,e){if(t==null)return null;let i=Vr(e,":");return i.includes(":")&&(i=i.split(":")[0]),i=="status"||i=="taxonomy"||t.currentScope!=null&&t.currentScope.containsReference(i)?Id(e):null}var jU=["from","folder","use","not_from","not_folder"],GU=["previous","next"],HU=["in","collection"];function $s(t,e){var i,r,n,s,o,a,l,u,c,f;if(t.isDynamic){let d=bd(t.name);if(e.nodesInScope.length>0){let p=e.nodesInScope[e.nodesInScope.length-1];if(p!=null&&p.currentScope!=null){let h=Za(p,p.currentScope),T=h.map(_=>_.name),N=cs(e.leftWord);if(T.includes(N))return re(Gs(e))}}if(d=="status"&&((i=e.context)==null?void 0:i.parameterContext)!=null)return re(ZI((n=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?n:[]));if(d=="taxonomy"){let p=cs(t.name);if(e.project.hasTaxonomy(p)&&((s=e.context)==null?void 0:s.parameterContext)!=null)return re(ev((a=(o=e.context.parameterContext.parameter)==null?void 0:o.getArrayValue())!=null?a:[],p,e.project))}}if(t.name=="filter"||t.name=="query_scope")return re(dd(e.project));if(e.nodesInScope.length>0){let d=e.nodesInScope[e.nodesInScope.length-1];if(d.hasMethodPart()&&GU.includes(d.getMethodNameValue())&&HU.includes(t.name))return re(tv(e.project))}return jU.includes(t.name)&&((l=e.context)==null?void 0:l.parameterContext)!=null?re(el((f=(c=(u=e.context)==null?void 0:u.parameterContext.parameter)==null?void 0:c.getArrayValue())!=null?f:[],e.project)):null}var WU={tagName:"collection:previous",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...js,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:tl,resolveDynamicParameter:sl,resolveSpecialType:Ks,suggestAlternativeParams:Ja,resovleParameterCompletionItems:$s,resolveCompletionItems:ol,resolveDocumentation:t=>De("collection:previous Tag","The `collection:previous` tag is used to show the entries that appear before the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the previous two entries, based on dates in ascending order. #}}
{{ collection:previous in="articles" limit="2" sort="date:asc" }}

{{ /collection:previous }}`,"https://statamic.dev/tags/collection-previous")},Wo=WU;var vd=gt(Wo,"collection:older"),Nd=gt(Wo,"collection:newer");var YU={tagName:"collection:count",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...js,{isRequired:!0,name:"in",aliases:["from"],description:"The collection from which to count entries",acceptsVariableInterpolation:!0,allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:Ks,resovleParameterCompletionItems:$s,resolveDocumentation:t=>De("collection:count Tag","The `collection:count` tag returns the total number of entries in the specified collection(s). The collection count tag accepts the same parameters as the collection tag, allowing developers to count entries that meet specific conditions.",`Total entry count: {{ collection:count in="collection-name" }}
Draft count: {{ collection:count in="collection-name" status:in="draft" }}`,"https://statamic.dev/tags/collection-count")},Sd=YU;var KU={tagName:"collection:next",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...js,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:tl,resolveDynamicParameter:sl,resolveSpecialType:Ks,suggestAlternativeParams:Ja,resovleParameterCompletionItems:$s,resolveCompletionItems:ol,resolveDocumentation:t=>De("collection:next Tag","The `collection:next` tag is used to show the entries that will appear after the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the next two entries, based on dates in ascending order. #}}
{{ collection:next in="articles" limit="2" sort="date:asc" }}

{{ /collection:next }}`,"https://statamic.dev/tags/collection-next")},Pd=KU;function ol(t){var i,r;let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="collection"||t.leftWord=="/collection")&&t.leftChar==":"){let n=t.project.getCollectionNames();for(let s=0;s<n.length;s++)e.push({label:n[s],kind:wu.CompletionItemKind.Field,sortText:"0"});return e.push(Te(Sd)),e.push(Te(Pd)),e.push(Te(Wo)),e.push(Te(vd)),e.push(Te(Nd)),{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}if(t.currentNode!=null&&t.currentNode.currentScope!=null){let n=Za(t.currentNode,t.currentNode.currentScope),s=n.map(a=>a.name),o=cs(t.leftWord);if(o==="taxonomy")return re(JI(t));if(s.includes(o))return e=Gs(t),re(e);if(t.isCaretInTag&&!((i=t.context)!=null&&i.isInParameter)&&["collection","/collection"].includes(t.leftWord)==!1&&t.leftChar!=" "){let a=[];for(let l=0;l<n.length;l++){let u=n[l];a.includes(u.name)==!1&&(e.push({label:u.name,detail:u.blueprintName,documentation:(r=u.instructionText)!=null?r:"",kind:wu.CompletionItemKind.Field}),a.push(u.name))}if(e.push({label:"taxonomy",insertText:"taxonomy:",kind:wu.CompletionItemKind.Field}),e.push({label:"status",insertText:"status:",kind:wu.CompletionItemKind.Field}),e.length>0)return Li(e)}}return Ie}var $U={tagName:"collection",hideFromCompletions:!1,introducedIn:null,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:js,augmentScope:tl,resolveDynamicParameter:sl,resolveSpecialType:Ks,suggestAlternativeParams:Ja,resovleParameterCompletionItems:$s,resolveCompletionItems:ol,resolveDocumentation:t=>De("collection Tag","The `collection` tag provides access to entry data such as blog posts, products, etc.",`{{ collection:articles as="posts" }}

	{{ posts }}
		{{ title }}
	{{ /posts }}

{{ /collection:articles }}`,"https://statamic.dev/tags/collection")},Lv=$U;var zU={tagName:"cache",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,allowsContentClose:!1,allowsArbitraryParameters:!1,resovleParameterCompletionItems:(t,e)=>t.name=="scope"?Rt(["page","site","user"]):null,parameters:[{isRequired:!1,name:"for",description:"The duration the cache is valid for.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"key",description:"An arbitrary name the cache entry may be referenced by.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"scope",description:" The scope of the cached value. Either site or page.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:(t,e)=>{let i=t.findParameter("key"),r=null;if(i!=null){let n=i.value;n.trim().length>0&&(r={key:n,reference:t})}return{context:r,issues:[]}},resolveDocumentation:t=>De("cache Tag","The `cache` tag can be used to save the results of an expensive template operation. The duration of the cache can be configured.",`{{ cache for="10 minutes" }}
    {{# Template code that won't be re-rendered for at least 10 minutes. #}}
{{ /cache }}`,"https://statamic.dev/tags/cache")},Ov=zU;var QU={tagName:"dump",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.leftWord=="dump"&&t.leftChar==":"?re(Ev(t)):Ie,resolveDocumentation:t=>De("dump Tag","The `dump` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered.",`{{ collection:articles }}
	{{# View all data available, for each entry. #}}
    {{ dump }}
{{ /collection:articles }}`,"https://statamic.dev/tags/dump")},Mv=QU;var XU={tagName:"404",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>De("404 (Not Found) Tag","The `404` (Not Found) tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ 404 }}
{{ /unless }}`,"https://statamic.dev/tags/404")},qv=XU;var JU={tagName:"link",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The relative path",expectsTypes:["string"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!0,isDynamic:!1},{name:"absolute",description:"Whether to generate absolute URLs. Default false",expectsTypes:["boolean"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1},{name:"id",description:"The ID of the entry to link to",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1},{name:"in",description:"The handle of the site to link to.",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>q("link Tag","The `link` tag accepts relative URLs or entry IDs and generates fully-qualified URLs to the desired content.","https://statamic.dev/tags/link")},Bv=JU;var Vv={tagName:"loop",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>q("loop Tag","The `loop` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")},Uv={tagName:"range",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>q("range Tag","The `range` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")};var Er=ee(oi());function Ze(t,e){return e.trim().length>0?Id(e):null}var al=[{isRequired:!1,name:"src",description:"The name of the partial view.",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"when",description:"A condition to control whether the partial renders. The partial will not render unless it receives a truthy value.",allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["*"],isDynamic:!1},{isRequired:!1,name:"unless",description:"A condition to control whether the partial renders. The partial will not render unless it receives a falsey value.",allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["*"],isDynamic:!1}];var ku=ee(oi());function ll(t,e){var i;if(t.isDynamic&&e.currentNode!=null&&e.currentNode.getTagName()=="partial"&&e.currentNode.hasMethodPart()){let r=e.currentNode.getMethodNameValue();if(r.trim().length>0&&(i=ae.instance)!=null&&i.hasStructure()){let n=ae.instance.getStructure().findRelativeView(r);if(n!=null&&n.varReferenceNames.has(t.name)){let s=n.varReferenceNames.get(t.name);if(n.document!=null&&n.document.hasFrontMatter()){let o=n.document.getFrontMatterScope();if(o!=null){let a=o.getList(s);if(a!=null)return kv(a.getVariableNames())}}}}}if(t.name=="src"){let r=e.project.getViews(),n=[];return r.forEach(s=>{if(_n.hasDetails(s.documentUri)){let o=_n.documentDetails.get(s.documentUri);n.push({label:o.documentName+"("+s.relativeDisplayName+")",insertText:s.relativeDisplayName,detail:o.documentName,documentation:{kind:ku.MarkupKind.Markdown,value:o.documentDescription},kind:ku.CompletionItemKind.File})}else n.push({label:s.relativeDisplayName,kind:ku.CompletionItemKind.File})}),re(n)}return null}var ZU={tagName:"partial:exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:al,introducedIn:"3.2.7",resovleParameterCompletionItems:ll,resolveDocumentation:t=>q("partial:exists Tag","The `partial:exists` can be used within conditional statements to test if a partial exists.","https://statamic.dev/tags/partial-exists")},Ad=ZU;var ej={tagName:"partial:if_exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:al,introducedIn:"3.2.7",resovleParameterCompletionItems:ll,resolveDocumentation:t=>q("partial:if_exists Tag","The `partial:if_exists` can be used to output the contents of a partial if it exists.","https://statamic.dev/tags/partial-if-exists")},Ed=ej;function ul(t){if(t.getTagName()!="partial")return null;let e="";if(t.hasMethodPart())e=t.getMethodNameValue();else{let i=t.findParameter("src");i!=null&&(e=i.value)}return e}var tj=[Te(Ad),Te(Ed)],ij={tagName:"partial",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!0,parameters:al,requiresClose:!1,allowsContentClose:!0,introducedIn:null,resolveDocumentation:t=>`**Partial Tag**  
Includes another view into the current template.  

[Documentation Reference](https://statamic.dev/tags/partial)
`,resolveDynamicParameter:Ze,resovleParameterCompletionItems:ll,resolveCompletionItems:t=>{let e=[];if(t.leftChar=='"'&&t.leftWord==':src="')return{items:[],analyzeDefaults:!0,isExclusiveResult:!1};if((t.leftWord=="partial"||t.leftWord=="/partial")&&t.leftChar==":"||t.leftWord=='src="'&&t.leftChar=='"')return t.project.getViews().forEach(r=>{let n=decodeURIComponent(r.documentUri);if(_n.hasDetails(n)){let s=_n.documentDetails.get(n);e.push({label:s.documentName+"("+r.relativeDisplayName+")",insertText:r.relativeDisplayName,detail:s.documentName,documentation:{kind:Er.MarkupKind.Markdown,value:s.documentDescription},kind:Er.CompletionItemKind.File})}else e.push({label:r.relativeDisplayName,kind:Er.CompletionItemKind.File})}),t.leftWord!='src="'&&(e=e.concat(tj)),{analyzeDefaults:!1,isExclusiveResult:!0,items:e};if(t.currentNode!=null&&t.project!=null){let i=ul(t.currentNode);if(i!=null&&i.trim().length>0){let r=t.project.findRelativeView(i);if(r!=null&&Re.hasDocument(r.documentUri)){let n=Re.getDocument(r.documentUri);if(n!=null){let s=n.getAllAntlersNodes(),o=rj(s),a=[];r.varReferenceNames!=null&&r.varReferenceNames.forEach((u,c)=>{o.push(c)});let l=[];if(r.injectsParameters.length>0){let u={start:{line:t.position.line,character:t.position.character-0},end:t.position};r.injectsParameters.forEach(c=>{let f=c.name+'="$1"';a.includes(c.name)||(a.push(c.name),l.push({label:c.name,kind:Er.CompletionItemKind.Value,insertTextFormat:Er.InsertTextFormat.Snippet,textEdit:Er.TextEdit.replace(u,f),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}if(o.length>0){let u={start:{line:t.position.line,character:t.position.character-0},end:t.position};o.forEach(c=>{let f=c+'="$1"';a.includes(c)||(a.push(c),l.push({label:c,kind:Er.CompletionItemKind.Value,insertTextFormat:Er.InsertTextFormat.Snippet,textEdit:Er.TextEdit.replace(u,f),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}return Li(l)}}}}return{analyzeDefaults:!0,isExclusiveResult:!1,items:[]}}};function rj(t){let e=[];return t.forEach(i=>{if(i.isTagNode||i.isClosingTag||i.isComment||i.hasMethodPart()&&i.getMethodNameValue().length>0||i.name!=null&&i.name.content.includes("["))return;let r=i.getTagName();!e.includes(r)&&r!="#"&&r!="slot"&&e.push(r)}),e}var jv=ij;var nj={tagName:"increment:reset",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:"3.2.28",parameters:[{isRequired:!0,name:"counter",aliases:[],description:"The incrementing counter to reset",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"to",aliases:[],description:"An optional value to reset the counter to before incrementing starts again",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveDocumentation:t=>De("increment:reset Tag","The `increment:reset` tag can be used to reset the value of an incrementing counter.",`{{ array_variable }}
    {{ increment:counter_name }}
{{ /array_variable }}

{{ increment:reset counter="counter_name" }}
`,null)},Cd=nj;var sj=[Te(Cd)],oj={tagName:"increment",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!1,name:"from",aliases:[],description:"The number to start incrementing by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"by",aliases:[],description:"The number to increment by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveCompletionItems:t=>t.leftWord=="increment"||t.leftWord=="/increment"&&t.leftChar==":"?re(sj):Ie,resolveDocumentation:t=>q("increment Tag","The `increment` tag can be used to increment a value each time the tag is encountered.","https://statamic.dev/tags/increment")},Gv=oj;var cl=class{constructor(e){this.node=e}},Hv={tagName:"yields",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new cl(t),issues:[]})},Wv={tagName:"yield",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new cl(t),issues:[]}),resolveDocumentation:t=>q("yield Tag","The `yield` tag may be used to push rendered content to named regions within a template's structure.","https://statamic.dev/tags/yield")};var Rd=ee(Nt());var Yv=[{handle:"access cp"},{handle:"configure collections"},{handle:"[view edit create delete publish reorder] {collection} entries"},{handle:"configure structures"},{handle:"[view edit] {structure} structure"},{handle:"edit {global} globals"},{handle:"[view upload edit move rename delete] {container} assets"},{handle:"[view perform] updates"},{handle:"[view edit create delete] users"},{handle:"change passwords"},{handle:"edit roles"},{handle:"configure forms"},{handle:"[view delete] {form} submissions"}];var fs=class{constructor(){this.contextItems=new Map;this.triggerNames=[];this.collectionTriggers=[];this.collectionTriggerCaps=[];this.globalTriggers=[];this.globalTriggerCaps=[];this.formTriggers=[];this.formTriggerCaps=[];this.structureTriggers=[];this.structureTriggerCaps=[];this.assetTriggers=[];this.assetTriggerCaps=[]}getCollectionTriggerCaps(){return this.collectionTriggerCaps}getGlobalTriggerCaps(){return this.globalTriggerCaps}getFormTriggerCaps(){return this.formTriggerCaps}getStructureTriggerCaps(){return this.structureTriggerCaps}getAssetTriggerCaps(){return this.assetTriggerCaps}loadCorePermissions(){this.registerPermissions(Yv)}getTriggerNames(){return this.triggerNames}isCollectionTrigger(e){return this.collectionTriggers.includes(e)}isGlobalTrigger(e){return this.globalTriggers.includes(e)}isFormTrigger(e){return this.formTriggers.includes(e)}isStructureTrigger(e){return this.structureTriggers.includes(e)}isAssetTrigger(e){return this.assetTriggers.includes(e)}getTriggerContextItems(e){return this.contextItems.has(e)?this.contextItems.get(e):[]}registerSpecialTrigger(e,i,r){i=="{collection}"?(this.collectionTriggerCaps.includes(r)==!1&&this.collectionTriggerCaps.push(r),this.collectionTriggers.includes(e)==!1&&this.collectionTriggers.push(e)):i=="{structure}"?(this.structureTriggerCaps.includes(r)==!1&&this.structureTriggerCaps.push(r),this.structureTriggers.includes(e)==!1&&this.structureTriggers.push(e)):i=="{container}"?(this.assetTriggerCaps.includes(r)==!1&&this.assetTriggerCaps.push(r),this.assetTriggers.includes(e)==!1&&this.assetTriggers.push(e)):i=="{global}"?(this.globalTriggerCaps.includes(r)==!1&&this.globalTriggerCaps.push(r),this.globalTriggers.includes(e)==!1&&this.globalTriggers.push(e)):i=="{form}"&&(this.formTriggerCaps.includes(r)==!1&&this.formTriggerCaps.push(r),this.formTriggers.includes(e)==!1&&this.formTriggers.push(e))}addContextToTrigger(e,i){var r;this.triggerNames.includes(e)==!1&&this.triggerNames.push(e),this.contextItems.has(e)==!1?this.contextItems.set(e,[i]):(r=this.contextItems.get(e))==null||r.push(i)}registerPermissions(e){for(let i=0;i<e.length;i++){let r=e[i],n=[],s="",o="";if(r.handle.includes("[")&&r.handle.includes("]")){let a=r.handle.indexOf("["),l=r.handle.indexOf("]"),u=l-a,c=r.handle.substr(a+1,u-1).split(" ").filter(d=>d.trim().length>0),f=r.handle.substr(l+1).split(" ").filter(d=>d.trim().length>0);n=c,f.length==2?(s=f[0],o=f[1]):f.length==1&&(s="",o=f[0])}else{let a=r.handle.split(" ").filter(l=>l.trim().length>0);a.length==2&&(n=[a[0]],o=a[1])}for(let a=0;a<n.length;a++){let l=n[a];s.trim().length>0?this.registerSpecialTrigger(l,s,o):this.addContextToTrigger(l,o)}}}};fs.instance=null;(typeof fs.instance=="undefined"||fs.instance==null)&&(fs.instance=new fs,fs.instance.loadCorePermissions());var Cr=fs;function Kv(t,e){var r,n,s,o,a,l,u,c,f,d,p,h,T,N,_,g,y,x,L;let i=[];if(t.trim().length==0){let E=(n=(r=Cr.instance)==null?void 0:r.getTriggerNames())!=null?n:[];for(let U=0;U<E.length;U++)i.push({label:E[U],kind:Rd.CompletionItemKind.Value})}else{let E=t.split(" ").filter(Q=>Q.trim().length>0),U=E[0],w=(o=(s=Cr.instance)==null?void 0:s.getTriggerContextItems(U))!=null?o:[],z=(a=Cr.instance)==null?void 0:a.isCollectionTrigger(U),de=(l=Cr.instance)==null?void 0:l.isGlobalTrigger(U),H=(u=Cr.instance)==null?void 0:u.isFormTrigger(U),Z=(c=Cr.instance)==null?void 0:c.isStructureTrigger(U),ue=(f=Cr.instance)==null?void 0:f.isAssetTrigger(U),te=[];if(E.length<=2){z?te=te.concat(e.project.getUniqueCollectionNames()):de?te=te.concat(e.project.getUniqueGlobalsNames()):H?te=te.concat(e.project.getUniqueFormNames()):Z?te=te.concat(e.project.getUniqueNavigationMenuNames()):ue&&(te=te.concat(e.project.getUniqueAssetNames())),w.length>0&&(te=te.concat(w)),te=[...new Set(te)];for(let Q=0;Q<te.length;Q++)i.push({label:te[Q],kind:Rd.CompletionItemKind.Value})}else{let Q=[];z?Q=Q.concat((p=(d=Cr.instance)==null?void 0:d.getCollectionTriggerCaps())!=null?p:[]):de?Q=Q.concat((T=(h=Cr.instance)==null?void 0:h.getGlobalTriggerCaps())!=null?T:[]):H?Q=Q.concat((_=(N=Cr.instance)==null?void 0:N.getFormTriggerCaps())!=null?_:[]):Z?Q=Q.concat((y=(g=Cr.instance)==null?void 0:g.getStructureTriggerCaps())!=null?y:[]):ue&&(Q=Q.concat((L=(x=Cr.instance)==null?void 0:x.getAssetTriggerCaps())!=null?L:[])),Q=[...new Set(Q)];for(let qe=0;qe<Q.length;qe++)i.push({label:Q[qe],kind:Rd.CompletionItemKind.Value})}}return i}function xd(t,e){var r,n,s,o;let i=bd(t.name);return((r=e.context)==null?void 0:r.parameterContext)!=null&&["do","permission"].includes(i)?re(Kv((o=(s=(n=e.context)==null?void 0:n.parameterContext.parameter)==null?void 0:s.value)!=null?o:"",e)):null}var aj={tagName:"user:can",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:xd,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>q("user:can Tag","The `user:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can")},fl=aj;var lj={tagName:"user:logout",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>q("user:logout Tag","The `user:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout")},dl=lj;var uj={tagName:"user:logout_url",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>De("user:logout_url","The `user:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ user:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url")},pl=uj;var $v={tagName:"switch",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>q("switch Tag","The `switch` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")},zv={tagName:"rotate",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,introducedIn:null,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>q("rotate Tag","The `rotate` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")};var cj={tagName:"oauth",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"provider",description:"The OAuth provider to be used.",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]},{name:"redirect",description:"The URL to be redirected to after authenticating.",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resovleParameterCompletionItems:(t,e)=>t.name=="provider"?Rt(e.project.getOAuthProviders()):null,resolveDocumentation:t=>De("oauth Tag","The `oauth` tag can be used to generate login URls for various third-party services.",'<a href="{{ oauth provider="github" }}">Sign In with Github</a>',"https://statamic.dev/tags/oauth")},Qv=cj;var fj={tagName:"session:dump",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>q("session:dump Tag","The `session:dump` tag will display the contents of the user's session to the browser. This tag behaves similarly to the `dd` helper functions, but returns just the session data.","https://statamic.dev/tags/session-dump")},wd=fj;var zs=class{constructor(e){this.node=e}};var dj={tagName:"session:set",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:null,resolveDynamicParameter:Ze,resolveSpecialType:(t,e)=>({context:new zs(t),issues:[]}),resolveDocumentation:t=>q("session:set Tag","The `session:set` tag is used to add new data to the user's session.","https://statamic.dev/tags/session-set")},kd=dj;var Qs=class{constructor(){this.knownVariables=new Map}registerDocumentSessionVariables(e,i){this.knownVariables.has(e)||this.knownVariables.set(e,new Map);let r=this.knownVariables.get(e);r.clear();for(let n=0;n<i.length;n++){let s=i[n].node;if(s.hasParameters)for(let o=0;o<s.parameters.length;o++){let a=s.parameters[o];r.set(a.name,i[n])}}}getKnownSessionVariableNames(){let e=[];return this.knownVariables.forEach(i=>{i.forEach((r,n)=>{e.includes(n)==!1&&e.push(n)})}),e}};Qs.instance=null;(typeof Qs.instance=="undefined"||Qs.instance==null)&&(Qs.instance=new Qs);var Yo=Qs;var Xv=ee(Nt());function Jv(t,e){let i=[],r=t.getArrayValue(),n=e.filter(s=>!r.includes(s));for(let s=0;s<n.length;s++)i.push({label:n[s],kind:Xv.CompletionItemKind.Variable});return re(i)}var pj={tagName:"session:forget",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"keys",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The session keys to clear",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var i,r,n;if(t.name=="keys"&&((i=e.context)==null?void 0:i.parameterContext)!=null){let s=(n=(r=Yo.instance)==null?void 0:r.getKnownSessionVariableNames())!=null?n:[];if(e.context.parameterContext.parameter!=null)return Jv(e.context.parameterContext.parameter,s)}return null},resolveDocumentation:t=>q("session:forget Tag","The `session:forget` tag is used to remove variables from the user's session.","https://statamic.dev/tags/session-forget")},Dd=pj;var hj={tagName:"session:flush",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>q("session:flush Tag","The `session:flush` tag will clear all values from the visitor's session. If the visitor is currently signed in they will also be signed out.","https://statamic.dev/tags/session-flush")},Fd=hj;var mj={tagName:"session:flash",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:Ze,resolveSpecialType:(t,e)=>({context:new zs(t),issues:[]}),resolveDocumentation:t=>q("session:flash Tag","The `session:flash` tag can be used to add a value to the user's session. Flashed values only persist for a single request, and are then removed.","https://statamic.dev/tags/session-flash")},Ld=mj;var gj={tagName:"markdown:indent",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>q("markdown:indent Tag","The `markdown:indent` tag is similar to the markdown tag, but will ignore leading whitepsace while rendering the tag's content as markdown.","https://statamic.dev/tags/markdown-indent")},Od=gj;var _j=[Te(Od)],yj={tagName:"markdown",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="markdown"||t.leftWord=="/markdown")&&t.leftChar==":"?re(_j):Ie,resolveDocumentation:t=>q("markdown Tag","The `markdown` tag can be used to render the tags contents as markdown.","https://statamic.dev/tags/markdown")},Zv=yj;var eN=ee(oi());function Md(t,e){let i=[],r=e;if(t.trim().length>0&&t.includes(".")&&t.endsWith(".")){let n=t.substr(0,t.length-1);r=r.filter(s=>s.startsWith(n))}for(let n=0;n<r.length;n++){let s=r[n],o=!0;t.includes(".")&&(s.startsWith(t)==!1?o=!1:s=s.substr(t.length)),o&&i.push({label:s,insertText:s,kind:eN.CompletionItemKind.Text})}return i}function tN(t,e){return Md(t,e.getRouteNames())}var Tj={tagName:"route",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:Ze,resolveCompletionItems:t=>{if(t.leftMeaningfulWord=="route"){let e=Td(t);return re(tN(e,t.project))}return Ie},resolveDocumentation:t=>q("route Tag","The `route` tag can be used to generate a full URL [to a named route](https://laravel.com/docs/8.x/routing#named-routes), including any defined route parameters.","https://statamic.dev/tags/route")},iN=Tj;var qd=ee(Nt()),rN=[{label:"301 Permanent",insertText:"301",kind:qd.CompletionItemKind.EnumMember},{label:"302 Temporary",insertText:"302",kind:qd.CompletionItemKind.EnumMember},{label:"404 Not Found",insertText:"404",kind:qd.CompletionItemKind.EnumMember}];var bj={tagName:"redirect",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The destination URL.",aliases:["url"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!0},{name:"response",description:"The HTTP response code to use.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:t=>t.name=="response"?re(rN):Ie,resolveDocumentation:t=>q("redirect Tag","The `redirect` tag can be used to redirect the site visitor to a URL or named route. An optional HTTP status code can also be specified on the response using the `response` parameter.","https://statamic.dev/tags/redirect")},nN=bj;var sN=ee(Nt());var Xs=class{constructor(){this.knownSections=new Map}registerDocumentSections(e,i){this.knownSections.has(e)||this.knownSections.set(e,new Map);let r=this.knownSections.get(e);r.clear();for(let n=0;n<i.length;n++){let s=i[n];s.node.hasMethodPart()&&r.set(s.node.getMethodNameValue(),s)}}getKnownSectionNames(){let e=[];return this.knownSections.forEach(i=>{i.forEach((r,n)=>{e.includes(n)==!1&&e.push(n)})}),e}};Xs.instance=null;(typeof Xs.instance=="undefined"||Xs.instance==null)&&(Xs.instance=new Xs);var Bd=Xs;var Ij={tagName:"section",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>{var e,i;if((t.leftWord=="section"||t.leftWord=="/section")&&t.leftChar==":"){let r=[],n=(i=(e=Bd.instance)==null?void 0:e.getKnownSectionNames())!=null?i:[];for(let s=0;s<n.length;s++)r.push({label:n[s],kind:sN.CompletionItemKind.Field});return Li(r)}return Ie},resolveDocumentation:t=>q("section Tag","The `section` tag is used to push content to a named region defined by the `yield` tag.","https://statamic.dev/tags/section")},oN=Ij;var vj={tagName:"obfuscate",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>q("obfuscate Tag","The `obfuscate` tag converts the tags's content into a format that is difficult for bots to read, but can easily be viewed by users within their browser.","https://statamic.dev/tags/obfuscate")},aN=vj;var Nj={tagName:"parent",hideFromCompletions:!1,requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>q("parent Tag","The `parent` tag provides access to data from the current page's parent (the URL one level above the current page).","https://statamic.dev/tags/parent")},lN=Nj;function Ug(t,e){return Md(t,e.getTranslationKeys())}var Sj=["translate","trans","trans_choice"],Vd={tagName:"translate",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!0,parameters:[{isRequired:!1,name:"key",description:"The key of the translation string to find.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"locale",description:"The locale to be used when translating.",acceptsVariableInterpolation:!1,aliases:["site"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"count",description:"The number of items to use for pluralization.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var i;if(t.name=="key"){let r="";return((i=e.context)==null?void 0:i.parameterContext)!=null&&e.context.parameterContext.parameter!=null&&(r=e.context.parameterContext.parameter.value),re(Ug(r,e.project))}return Ie},resolveDynamicParameter:Ze,resolveCompletionItems:t=>{if(t.leftMeaningfulWord!=null&&Sj.includes(t.leftMeaningfulWord)){let e=Td(t);return re(Ug(e,t.project))}return Ie},resolveDocumentation:t=>q("trans Tag","The `trans` tag can be used to retrieve a string for the current locale's language file.","https://statamic.dev/tags/trans")},uN=gt(Vd,"trans"),jg=gt(Vd,"trans_choice");jg.resolveDocumentation=t=>q("trans_choice Tag","The `trans_choice` tag can be used to retrieve a pluralized string for the current locale's language file.","https://statamic.dev/tags/trans#pluralization");var Pj={tagName:"svg",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The SVG filename relative to the project root",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"title",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"desc",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"",expectsTypes:["string"],isDynamic:!1}],resolveDynamicParameter:Ze,resolveDocumentation:t=>q("svg Tag","The `svg` tag can be used to render inline SVGs, as well as set attributes on the rendered `<svg>` element.","https://statamic.dev/tags/svg")},cN=Pj;var Aj={tagName:"asset",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The path to the file",expectsTypes:["string"],isDynamic:!1,name:"url"}],augmentScope:(t,e)=>(e.addVariables(nl(t)),e),resolveDocumentation:t=>De("asset Tag","The `asset` tag can be used to retrive Assets by supplying a URL.",`{{ asset url="/url/for/asset.png" }}
    <img src="{{ url }}" alt="{{ alt }}" />
{{ /asset }}`,"https://statamic.dev/tags/asset")},fN=Aj;var dN=ee(Nt());function Gg(t){let e=[],i=t.getUniqueAssetNames();for(let r=0;r<i.length;r++)e.push({label:i[r],kind:dN.CompletionItemKind.Field});return e}var pN=["container","id","handle"],Ej={tagName:"assets",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"container",aliases:["id","handle"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The handle of the asset container.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"folder",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Filters the resulting assets by specific folder.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"recursive",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Returns all assets in all subdirectories.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"limit",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Limits the total results",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sort entries by any asset variable.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>pN.includes(t.name)?re(Gg(e.project)):Ie,augmentScope:(t,e)=>{e.addVariables(nl(t));let i="";if(t.name!=null&&t.name.getMethodName()!=null)i=t.name.getMethodName();else{let r=t.findAnyParameter(pN);r!=null&&r.containsSimpleValue()&&(i=r.value)}return i.length>0&&e.injectAssetContainer(t,i),e},resolveCompletionItems:t=>(t.leftWord=="assets"||t.leftWord=="/assets")&&t.leftChar==":"?re(Gg(t.project)):Ie,resolveDocumentation:t=>De("assets Tag","The `assets` tag can be used to retrieve multiple Assets from an Asset container.",`{{ assets container="container-name" }}
    {{# Loop over all assets in the container. #}}
	<img src="{{ url }}" alt="{{ alt }}" />
{{ /assets }}`,"https://statamic.dev/tags/assets")},hN=Ej;var Cj={tagName:"get_content",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!1,parameters:[{isRequired:!1,name:"from",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"The ID to retrieve data for.",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"locale",aliases:["site"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The locale to show the content in.",expectsTypes:["string"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="locale"||t.name=="site"?Rt(e.project.getSiteNames()):null,resolveDocumentation:t=>De("get_content Tag","The `get_content` tag can be used to retrieve content from other entries. This tag accepts the ID of another entry, and will return access to all data for that entry.",`{{ get_content from="the-entry-id" }}
{{ /get_content }}`,"https://statamic.dev/tags/get_content")},mN=Cj;function gN(t){return[{name:"basename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"last_modified",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_b",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_mb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t}]}var Rj={tagName:"get_files",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"in",aliases:["from"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The directory to find files in relative to the public directory",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"depth",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The depth of the subdirectories",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"not_in",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"The subdirectories or pattern to exclude",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_size",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],description:"The file size filter to use",isDynamic:!1},{isRequired:!1,name:"ext",aliases:["extension"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The extension(s) to filter by",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"include",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:["match"],description:"Filter files by a regular expression",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"exclude",description:"Excludes files by a regular expression",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_date",description:"Filters files by last modified date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",description:"Limits the total number of results",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"offset",description:"The number of entries the results should be offset by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sorts the listing by extension, size, last_modified, or random",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>(e.addVariables(gN(t)),e),resolveDocumentation:t=>q("get_files Tag","The `get_files` tag can be used to display information about files on the site's local filesystem.","https://statamic.dev/tags/get_files")},_N=Rj;function Ud(t){return[{name:"width",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.glide",sourceField:null,introducedBy:t}]}var yN=ee(Nt());function An(t,e,i){var r,n,s,o,a,l,u,c,f,d,p,h;return{endLine:(s=(n=(r=i.valuePosition)==null?void 0:r.end)==null?void 0:n.line)!=null?s:0,startLine:(l=(a=(o=i.namePosition)==null?void 0:o.start)==null?void 0:a.line)!=null?l:0,endPos:(f=(c=(u=i.valuePosition)==null?void 0:u.end)==null?void 0:c.char)!=null?f:0,startPos:(h=(p=(d=i.namePosition)==null?void 0:d.start)==null?void 0:p.char)!=null?h:0,message:t,severity:yN.DiagnosticSeverity.Error}}var Hg=["greyscale","sepia"],Wg=["jpg","pjpg","png","gif","webp","avif","tif","bmp","psd"],TN=["auto","0","90","180","270"],hl=[{isRequired:!1,name:"src",aliases:["path","id"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The URL of the image when not using shorthand syntax.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"tag",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Outputs an image tag when set to true.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"alt",description:"The alt attribute value to use when generating tags.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"absolute",description:"Whether to output full URLs.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{name:"width",expectsTypes:["number"],isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The width of the image, in pixels.",isDynamic:!1},{name:"height",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],description:"The height of the image, in pixels.",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"square",expectsTypes:["number"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets both then height and width of the image.",isDynamic:!1,isRequired:!1},{name:"fit",expectsTypes:["string"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"How the image is fitted to its target dimensions.",isDynamic:!1,isRequired:!1},{name:"crop",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Crops the image to the specific dimensions.",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"orient",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Rotates the image.",expectsTypes:["*"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!TN.includes(e.value)&&i.push(An("Invalid orient value",t,e)),i}},{name:"quality",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Defines the quality of the image",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"dpr",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"Defines the device pixel ratio.",expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=parseInt(e.value),r=[];return e.containsSimpleValue()&&(i<1||i>8)&&r.push(An("dpr must be an integer between 1 and 8.",t,e)),r}},{name:"format",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Encodes the image to a specific format.",expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!Wg.includes(e.value)&&i.push(An("Format must be one of: "+Wg.join(","),t,e)),i}},{name:"bg",description:"Sets the background color for transparent images.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"blur",description:"Adds a blur effect to the image.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=parseInt(e.value),r=[];return e.containsSimpleValue()&&(i<0||i>100)&&r.push(An("blur must be a value between 0 and 100.",t,e)),r}},{name:"brightness",description:"Adjusts the image brightness.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=parseInt(e.value),r=[];return e.containsSimpleValue()&&(i<-100||i>100)&&r.push(An("brightness must be a value between -100 and 100.",t,e)),r}},{name:"contrast",description:"Adjusts the image contrast.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=parseInt(e.value),r=[];return e.containsSimpleValue()&&(i<-100||i>100)&&r.push(An("contrast must be a value between -100 and 100.",t,e)),r}},{name:"gamma",description:"Adjusts the image gamma.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=parseFloat(e.value),r=[];return e.containsSimpleValue()&&(i<.1||i>9.99)&&r.push(An("gamma must be a value between 0.1 and 9.99.",t,e)),r}},{name:"sharpen",description:"Sharpens the image.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=parseInt(e.value),r=[];return e.containsSimpleValue()&&(i<0||i>100)&&r.push(An("sharpen must be a value between 0 and 100.",t,e)),r}},{name:"pixelate",description:"Applies a pixelation effect to the image.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=parseInt(e.value),r=[];return e.containsSimpleValue()&&(i<0||i>100)&&r.push(An("pixelate must be a value between 0 and 100.",t,e)),r}},{name:"filter",description:"Applies a filter effect to the image.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let i=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!Hg.includes(e.value)&&i.push(An("Filter must be one of: "+Hg.join(","),t,e)),i}},{name:"preset",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],description:"A collection of pre-configured image manipulation parameters.",isDynamic:!1,isRequired:!1}];function ml(t,e){return t.name=="orient"?Rt(TN):t.name=="format"?Rt(Wg):t.name=="filter"?Rt(Hg):t.name=="preset"?Rt(e.project.getAssetPresets()):Ie}var xj={tagName:"glide:batch",hideFromCompletions:!1,requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,injectParentScope:!1,parameters:hl,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(Ud(t)),e),resovleParameterCompletionItems:ml,resolveDocumentation:t=>q("glide:batch Tag","The `glide:batch` tag is similar to the glide tag, but can be used to apply image manipulations to multiple images within a piece of content.","https://statamic.dev/tags/glide-batch")},jd=xj;var wj={tagName:"glide:data_url",hideFromCompletions:!1,requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,injectParentScope:!1,parameters:hl,introducedIn:null,resovleParameterCompletionItems:ml,resolveDocumentation:t=>q("glide:data_url Tag","The `glide:data_url` tag returns manipulated image datas as a data URI.",null)},Gd=wj;var kj=[Te(jd),Te(Gd)],Dj={tagName:"glide",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!1,parameters:hl,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(Ud(t)),e),resovleParameterCompletionItems:ml,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="glide"||t.leftWord=="/glide")&&t.leftChar==":"?re(kj):Ie,resolveDocumentation:t=>q("glide Tag","The `glide` tag is used to manipulate images on the fly. Image manipulations may include resizing, cropping, or adjusting sharpness and constrast, amongst many others.","https://statamic.dev/tags/glide")},bN=Dj;var IN={tagName:"iterate",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>q("iterate Tag","The `iterate` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")},vN={tagName:"foreach",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>q("foreach Tag","The `foreach` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")};function NN(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t},{name:"name",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}]}var Hd=[{isRequired:!1,name:"id",description:"The ID of the content to localize.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"sort",description:"Sort by a site's key.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"current_first",description:"When true, ensures that the current locale is first.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"all",description:"When true, all locale data will be returned.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!0,name:"self",description:"When true, the current locale will be included.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"collection_term_workaround",description:"Disables the behavior introduced in https://github.com/statamic/cms/pull/6466.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1}];var Fj={tagName:"locales:count",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:Hd,introducedIn:"3.0.36",resolveDocumentation:t=>q("locales:count Tag","The `locales:count` tag can be used to count the number of locales the current content is available in.","https://statamic.dev/tags/locales-count")},Wd=Fj;var Lj=[Te(Wd)],Oj={tagName:"locales",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:Hd,introducedIn:null,augmentScope:(t,e)=>(e.addVariableArray("locale",NN(t)),e.addVariable({name:"current",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"exists",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"permalink",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e),resolveDocumentation:t=>q("locales Tag","The `locales` tag can be used to access all the locales the current content is available in.","https://statamic.dev/tags/locales"),resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="locale"||t.leftWord=="/locale")&&t.leftChar==":"?re(Lj):Ie},SN=Oj;var Mj={tagName:"mix",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",description:"The path to the versioned file, relative to the public directory",acceptsVariableInterpolation:!1,aliases:["path"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"in",description:"The location of the mix manifest file",acceptsVariableInterpolation:!1,aliases:["from"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>q("mix Tag","The `mix` tag is used to return the path of CSS and JavaScript files versioned with [Laravel Mix](https://laravel.com/docs/8.x/mix).","https://statamic.dev/tags/mix")},PN=Mj;var Du=ee(Nt());function AN(t){let e=[],i=t.getUniqueUserGroupNames();for(let r=0;r<i.length;r++)e.push({label:i[r],kind:Du.CompletionItemKind.Field});return e}function EN(t){let e=[],i=t.getUniqueUserRoleNames();for(let r=0;r<i.length;r++)e.push({label:i[r],kind:Du.CompletionItemKind.Field});return e}function gl(t,e){let i=[],r=e.getUniqueUserGroupNames(),n=r.filter(s=>!t.includes(s));for(let s=0;s<n.length;s++)i.push({label:n[s],kind:Du.CompletionItemKind.Field});return i}function _l(t,e){let i=[],r=e.getUniqueUserRoleNames(),n=r.filter(s=>!t.includes(s));for(let s=0;s<n.length;s++)i.push({label:n[s],kind:Du.CompletionItemKind.Field});return i}var qj={tagName:"user:in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var i,r,n;return(t.name=="groups"||t.name=="group")&&((i=e.context)==null?void 0:i.parameterContext)!=null?re(gl((n=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?n:[],e.project)):null},resolveDocumentation:t=>q("user:in Tag","The `user:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in")},Yd=qj;var Bj={tagName:"user:not_in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var i,r,n;return(t.name=="groups"||t.name=="group")&&((i=e.context)==null?void 0:i.parameterContext)!=null?re(gl((n=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?n:[],e.project)):null},resolveDocumentation:t=>q("user:not_in Tag","The `user:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in")},yl=Bj;var Vj={tagName:"user:is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var i,r,n;return(t.name=="roles"||t.name=="role")&&((i=e.context)==null?void 0:i.parameterContext)!=null?re(_l((n=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?n:[],e.project)):null},resolveDocumentation:t=>q("user:is Tag","The `user:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is")},Tl=Vj;var Uj={tagName:"user:isnt",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var i,r,n;return(t.name=="roles"||t.name=="role")&&((i=e.context)==null?void 0:i.parameterContext)!=null?re(_l((n=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?n:[],e.project)):null},resolveDocumentation:t=>q("user:isnt Tag","The `user:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt")},bl=Uj;var jj={tagName:"in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var i,r,n;return(t.name=="groups"||t.name=="group")&&((i=e.context)==null?void 0:i.parameterContext)!=null?re(gl((n=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?n:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="in"||t.leftWord=="/in")&&t.leftChar==":"?re(AN(t.project)):Ie,resolveDocumentation:t=>q("in Tag","The `in` tag can be used to check if the authenticated user belongs to one or more groups. This tag operates similarly to the `user:in` tag.","https://statamic.dev/tags/user-in")},CN=jj;var Gj={tagName:"not_found",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>De("404 (Not Found) Tag","The `not_found` tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ not_found }}
{{ /unless }}`,"https://statamic.dev/tags/404")},RN=Gj;var Hj={tagName:"is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var i,r,n;return(t.name=="roles"||t.name=="role")&&((i=e.context)==null?void 0:i.parameterContext)!=null?re(_l((n=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?n:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="is"||t.leftWord=="/is")&&t.leftChar==":"?re(EN(t.project)):Ie,resolveDocumentation:t=>q("is Tag","The `is` tag can be used to check whether the currently authenticated user has one or more roles. This tag behaves the same as the `user:is` tag.","https://statamic.dev/tags/user-is")},xN=Hj;var Wj={tagName:"widont",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>De("widont Tag","The `widont` tag is similar to the [widont modifier](https://statamic.dev/modifiers/widont), and will attempt to prevent lines with a single word from appearing within the tags rendered output.",`{{ widont }}
    {{ content }}
{{ /widont }}`,null)},wN=Wj;var Kd=[{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"id",description:"The user ID to fetch.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"email",description:"The email address to find the user by.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"field",description:"The field to fetch the user by",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"value",description:"The value to search for.",expectsTypes:["string"],isDynamic:!1}];var Yj={tagName:"user:profile",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:Kd,introducedIn:null,augmentScope:(t,e)=>(e.injectBlueprint(t,"user"),e),resovleParameterCompletionItems:(t,e)=>t.name=="field"?re(cd(e.project.getUserFields())):Ie,resolveDocumentation:t=>q("user:profile Tag","The `user:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter.",null)},Il=Yj;var kN={tagName:"dd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>De("dd Tag","The `dd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the dd tag.
	#}}
    {{ dd }}
{{ /collection:articles }}`,null)},DN={tagName:"ddd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>De("ddd Tag","The `ddd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the ddd tag.
	#}}
    {{ ddd }}
{{ /collection:articles }}`,null)};var Kj={tagName:"path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["src"],allowsVariableReference:!0,description:"The path source",name:"to",isDynamic:!1,expectsTypes:["string"]},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],description:"Whether to generate absolute paths",expectsTypes:["boolean"],isDynamic:!1,name:"absolute"}],resolveDocumentation:t=>q("path Tag","The `path` tag can be used to generate URLs from relative URLs, or an entry ID.",null)},FN=Kj;var $j={tagName:"user:cant",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:xd,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>q("user:cant Tag","The `user:cant` tag is used to check if the currently authenticated user does not have a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user does not have the specified permissions.","https://statamic.dev/tags/user-can#cant")},$d=$j;var zj={tagName:"query",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,parameters:[{name:"builder",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The query to evaluate",expectsTypes:["string"],isRequired:!0,isDynamic:!1}]},LN=zj;var Ko=ee(Nt());var Un=[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"src",description:"The relative path to the file.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"cache_bust",description:"Whether to output the last modified date.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"version",description:"Whether to check a versioning manifest to produce the final URL.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"absolute",description:"Generate absolute URLs or not.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"locale",description:"The locale the path should be generated in.",expectsTypes:["string"],isDynamic:!1}];var Qj=[{label:"asset",kind:Ko.CompletionItemKind.Text},{label:"css",kind:Ko.CompletionItemKind.Text},{label:"img",kind:Ko.CompletionItemKind.Text},{label:"js",kind:Ko.CompletionItemKind.Text},{label:"output",kind:Ko.CompletionItemKind.Text},{label:"path",kind:Ko.CompletionItemKind.Text}],Xj={tagName:"theme",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,introducedIn:null,injectParentScope:!1,parameters:Un,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="theme"||t.leftWord=="/theme")&&t.leftChar==":"?re(Qj):Ie},ON=Xj;var Yg={tagName:"theme:path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:Un,resolveDocumentation:t=>q("theme:path Tag","The `theme:path` tag may be used to generate URLs for public assets. This tag may also optionally add the current locale, generate relative URLs, or add cache busting URL parameters to the end of the generated URL.",null)},MN=gt(Yg,"theme:asset");var Jj={tagName:"theme:css",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...Un,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>q("theme:css Tag","The `theme:css` tag may be used to generate a CSS path relative to a public `css/` directory for any arbitrary file path. This tag may also optionally create the HTML `link` tag.",null)},qN=Jj;var Zj={tagName:"theme:img",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...Un,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]},{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"alt",description:"The alt text to use when generating the HTML tag",expectsTypes:["string"]}],resolveDocumentation:t=>q("theme:img Tag","The `theme:img` tag may be used to generate an image path relative to a public `img/` directory for any arbitrary file path. This tag may also optionally create the HTML `img` tag.",null)},BN=Zj;var e2={tagName:"theme:js",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...Un,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>q("theme:js Tag","The `theme:js` tag may be used to generate a JavaScript path relative to a public `js/` directory for any arbitrary file path. This tag may also optionally create the HTML `script` tag.",null)},VN=e2;var t2={tagName:"theme:output",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"src",description:"The path to the file",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"as",description:"An optional alias for the contents variable",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>{if(t.isClosedBy!=null){let i=t.findParameter("as");i!=null?e.addVariable({name:i.value,dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t}):e.addVariable({name:"output_contents",dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t})}return e},resolveDocumentation:t=>q("theme:output Tag","The `theme:output` tag may be used to output the contents of any arbitrary file, relative to the site's `resources/` directory.",null)},UN=t2;var i2={tagName:"scope",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>De("scope Tag","The `scope` tag creates a copy of all available variables, and saves them to a new  *array* variable defined by the tag's method part.",`{{ scope:scope_name }}
    {{ scope_name:title }}
{{ /scope:scope_name }}
`,null)},jN=i2;var r2={tagName:"if",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:Ze,resolveDocumentation:t=>q("if Conditional Control Structure","The contents of the `if` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},GN=r2;var n2={tagName:"elseif",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:Ze,resolveDocumentation:t=>q("elseif Conditional Control Structure","The contents of the `elseif` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},HN=n2;var s2={tagName:"else",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>q("else Conditional Control Structure","The contents of the `else` control structure will be evaluated when all previous conditional branch conditions were not met.","https://statamic.dev/antlers#conditions")},WN=s2;var YN=ee(Nt());var o2={tagName:"session:has",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:"3.1.28",resolveDynamicParameter:Ze,resolveDocumentation:t=>q("session:has Tag","The `session:has` tag can be used to determine of the user's session contains a specific variable.","https://statamic.dev/tags/session-has")},zd=o2;var a2=[Te(kd),Te(Ld),Te(Dd),Te(Fd),Te(zd),Te(wd)],l2={tagName:"session",requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",description:"An optional alias for the session data",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveCompletionItems:t=>{var e,i;if(t.isPastTagPart==!1&&(t.leftWord=="session"||t.leftWord=="/session")&&t.leftChar==":"){let r=(i=(e=Yo.instance)==null?void 0:e.getKnownSessionVariableNames())!=null?i:[],n=[];n=n.concat(a2);for(let s=0;s<r.length;s++)n.push({label:r[s],kind:YN.CompletionItemKind.Variable});return re(n)}return Ie},augmentScope:(t,e)=>{var s,o;let i=t.findParameter("as"),r=(o=(s=Yo.instance)==null?void 0:s.getKnownSessionVariableNames())!=null?o:[],n=[];for(let a=0;a<r.length;a++)n.push({dataType:"*",name:r[a],sourceField:null,sourceName:"project.session",introducedBy:t});return i==null?e.addVariables(n):e.addVariableArray(i.value,n),e}},KN=l2;var Fu={tagName:"user:forgot_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:Ze,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t}]),e),resolveDocumentation:t=>q("user:forgot_password_form Tag",'The `user:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form")},Kg=gt(Fu,"member:forgot_password_form");Kg.resolveDocumentation=t=>q("member:forgot_password_form Tag",'The `member:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form");function Js(t){return[{name:"handle",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"display",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"type",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"field",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"error",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"instructions",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"old",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t}]}function vl(t){return[{name:"success",dataType:"string",sourceField:null,sourceName:"*internal.forms",introducedBy:t},{name:"submission_created",dataType:"boolean",sourceField:null,sourceName:"*internal.forms",introducedBy:t}]}function u2(t){return[{name:"current_password",dataType:"string",sourceName:"*internal.user_password_form",sourceField:null,introducedBy:t},{name:"password",dataType:"string",sourceName:"*internal.user_password_form",sourceField:null,introducedBy:t},{name:"password_confirmation",dataType:"string",sourceName:"*internal.user_password_form",sourceField:null,introducedBy:t}]}var c2={tagName:"user:password_form",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!0,parameters:[{name:"redirect",description:"The location to redirect users after a successful form submission",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",description:"The location to redirect users to after a failed form submission",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override redirect or error_redirect",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],introducedIn:"3.3.61",allowsArbitraryParameters:!0,augmentScope:(t,e)=>{e.addVariables(vl(t)),e.addVariable({dataType:"array",name:"errors",sourceField:null,sourceName:"*internal.forms",introducedBy:t}),e.addVariableArray("fields",Js(t));let i=u2(t);return e.addVariableArray("old",i),e.addVariableArray("error",i),e}},Qd=c2;var Lu={tagName:"user:reset_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:Ze,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t}]),e),resolveDocumentation:t=>q("user:reset_password_form Tag","The `user:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form")},$g=gt(Lu,"member:reset_password_form");$g.resolveDocumentation=t=>q("member:reset_password_form Tag","The `member:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form");function zg(t,e){return{sourceName:e.blueprintName,dataType:e.type,name:e.name,sourceField:e,introducedBy:t}}function $N(t){let e=new Map;for(let i=0;i<t.length;i++)e.set(t[i].name,t[i]);return e}function Zs(t,e){let i=[];for(let r=0;r<e.length;r++){let n=e[r];i.push({sourceName:n.blueprintName,dataType:n.type,name:n.name,sourceField:n,introducedBy:t})}return i}var f2={tagName:"user:profile_form",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!0,parameters:[{name:"redirect",description:"The location to redirect users after a successful form submission",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",description:"The location to redirect users to after a failed form submission",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override redirect or error_redirect",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],introducedIn:"3.3.61",allowsArbitraryParameters:!0,augmentScope:(t,e)=>{e.addVariables(vl(t)),e.addVariable({dataType:"array",name:"errors",sourceField:null,sourceName:"*internal.forms",introducedBy:t}),e.addVariableArray("fields",Js(t));let i=e.statamicProject.getUserFields(),r=Zs(t,i);return e.addVariableArray("old",r),e.addVariableArray("error",r),e}},Xd=f2;var Ou={tagName:"user:register_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after registering",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed registration attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:Ze,augmentScope:(t,e)=>{e.addVariableArray("fields",Js(t)),e.addVariable({name:"errors",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"old",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"error",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"success",dataType:"string",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t});let i=e.statamicProject.getUserFields();if(i.length>0){let r=Zs(t,i);e.addVariableArray("old",r),e.addVariableArray("error",r)}return e},resolveDocumentation:t=>q("user:register_form  Form Tag","The `user:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form")},Qg=gt(Ou,"member:register_form");Qg.resolveDocumentation=t=>q("member:register_form Tag","The `member:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form");var d2=[Te(Tl),Te(yl),Te(bl),Te(Il),Te(fl),Te($d),Te(Fu),Te(dl),Te(pl),Te(Ou),Te(Lu),Te(Xd),Te(Qd)],p2={tagName:"user",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:Kd,introducedIn:null,resovleParameterCompletionItems:(t,e)=>e.isPastTagPart==!1&&e.currentNode!=null&&e.currentNode.methodIsEmptyOrMatches("profile")&&t.name=="field"?re(cd(e.project.getUserFields())):Ie,augmentScope:(t,e)=>(t.methodIsEmptyOrMatches("profile")&&e.injectUserFields(t),e),resolveCompletionItems:t=>(t.leftWord=="user"||t.leftWord=="/user"||t.leftWord=="member"||t.leftWord=="/member")&&t.leftChar==":"?re(d2):Ie,resolveDocumentation:t=>q("user Tag","The `user` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter.",null)},Jd=p2;var Zd=gt(Jd,"member"),Xg=gt(Tl,"member:is"),Jg=gt(bl,"member:isnt"),Zg=gt(Il,"member:profile"),e_=gt(fl,"member:can"),t_=gt(dl,"member:logout"),i_=gt(pl,"member:logout_url"),r_=gt(Yd,"member:in"),n_=gt(yl,"member:not_in");Zd.hideFromCompletions=!0;Zd.resolveDocumentation=t=>q("member Tag","The `member` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);Xg.resolveDocumentation=t=>q("member:is Tag","The `member:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is");Jg.resolveDocumentation=t=>q("member:isnt Tag","The `member:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt");Zg.resolveDocumentation=t=>q("member:profile Tag","The `member:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);e_.resolveDocumentation=t=>q("member:can Tag","The `member:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can");t_.resolveDocumentation=t=>q("member:logout Tag","The `member:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout");i_.resolveDocumentation=t=>De("member:logout_url","The `member:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ member:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url");r_.resolveDocumentation=t=>q("member:in Tag","The `member:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in");n_.resolveDocumentation=t=>q("member:not_in Tag","The `member:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in");function eo(t){return[{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t},{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t}]}var XN=ee(Nt());var o_=["from","taxonomy","is","use","folder"],a_=["not_from","not_in","dont_use","not_taxonomy"];var s_=o_;s_=s_.concat(a_);function zN(t,e){var i,r,n,s,o,a,l,u;if(e.nodesInScope.length>0){let c=e.nodesInScope[e.nodesInScope.length-1];if(c!=null&&c.currentScope!=null){let f=Nl(c,e.project),d=e.project.getTaxonomyBlueprintFields(f),p=d.map(T=>T.name),h=cs(e.leftWord);if(p.includes(h))return re(Gs(e))}}return t.name=="collection"&&((i=e.context)==null?void 0:i.parameterContext)!=null?re(el((s=(n=(r=e.context)==null?void 0:r.parameterContext.parameter)==null?void 0:n.getArrayValue())!=null?s:[],e.project)):t.name=="filter"||t.name=="query_scope"?re(dd(e.project)):s_.includes(t.name)&&((o=e.context)==null?void 0:o.parameterContext)!=null?re(QN((u=(l=(a=e.context)==null?void 0:a.parameterContext.parameter)==null?void 0:l.getArrayValue())!=null?u:[],e.project)):null}function Nl(t,e){let i=[];if(t.hasMethodPart())return i.push(t.getMethodNameValue()),i;let r=t.findAnyParameter(o_),n=t.findAnyParameter(a_),s=[],o=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueTaxonomyNames(),typeof n!="undefined"&&n!==null&&n.isVariableReference==!1&&n.hasInterpolations()==!1&&(o=n.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),o.length>0?i=s.filter(function(a){return o.includes(a)==!1}):i=s,i}function QN(t,e){let i=[],r=e.getUniqueTaxonomyNames().filter(n=>!t.includes(n));for(let n=0;n<r.length;n++)i.push({label:r[n],kind:XN.CompletionItemKind.Variable});return i}function JN(t,e){let i=Nl(t,e.statamicProject),r=e.statamicProject.getTaxonomyBlueprintFields(i),n=t.findParameter("collection");if(e.addBlueprintFields(t,r),e.addVariables([{name:"first",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"last",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"index",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"total_results",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"entries_count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t}]),e.addVariables(eo(t)),typeof n!="undefined"&&n!==null){let s=n.getArrayValue();if(s.length>0){let o=e.statamicProject.getBlueprintFields(s);e.introduceScopedAliasScope(t,"entries","entries",o).addVariables(Ws(t))}else e.addVariableArray("entries",eo(t).concat(Ws(t)))}else e.addVariableArray("entries",eo(t).concat(Ws(t)));return e}var h2=[{name:"from",description:"The taxonomy to use.",aliases:["taxonomy","is","use","folder"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"not_from",description:"Taxonomies to exclude.",aliases:["not_in","not_folder","dont_use","not_taxonomy"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string","array"],isRequired:!1,isDynamic:!1},{name:"min_count",description:"The minimum number of entries a taxonomy term must have to be returned.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"collection",description:"Filter the terms to those that appear in the specified collections.",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"sort",description:"The field to sort the terms by.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope.",expectsTypes:["string"],isDynamic:!1}],ZN=h2;var l_=ee(Nt());function eS(t){var i,r;let e=[];if(t.currentNode!=null&&t.currentNode.currentScope!=null){let n=Nl(t.currentNode,t.project),s=t.project.getTaxonomyBlueprintFields(n),o=s.map(l=>l.name),a=cs(t.leftWord);if(o.includes(a))return re(Gs(t));if(t.isCaretInTag&&!((i=t.context)!=null&&i.interpolatedContext)&&["taxonomy","/taxonomy"].includes(t.leftWord)==!1){let l=[];for(let u=0;u<s.length;u++){let c=s[u];l.includes(c.name)==!1&&(e.push({label:c.name,detail:c.blueprintName,documentation:(r=c.instructionText)!=null?r:"",kind:l_.CompletionItemKind.Field}),l.push(c.name))}if(e.length>0)return Li(e)}}if((t.leftWord=="taxonomy"||t.leftWord=="/taxonomy")&&t.leftChar==":"){let n=t.project.getUniqueTaxonomyNames();for(let s=0;s<n.length;s++)e.push({label:n[s],kind:l_.CompletionItemKind.Field});return Li(e)}return Ie}var m2={tagName:"taxonomy",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:ZN,resolveDynamicParameter:Ze,resolveCompletionItems:eS,resovleParameterCompletionItems:zN,augmentScope:JN,resolveDocumentation:t=>q("taxonomy Tag","The `taxonomy` tag may be used to retrieve taxonomy entries. The taxonomy tag can also be used to access entries associated with any given taxonomy term.","https://statamic.dev/tags/taxonomy")},tS=m2;var u_=ee(Nt());function iS(t,e){e.addVariables([{name:"is_published",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_page",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"has_entries",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_parent",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_external",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"depth",dataType:"number",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"children",dataType:"array",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t}]);let i=e.statamicProject.getUniqueCollectionNames(),r=[],n=!1;if(t.hasMethodPart()){let s=t.getMethodNameValue().trim().toLowerCase();if(s.startsWith("collection:")){let o=s.split(":").pop();n=!0,r.push(o)}else s=="pages"?(n=!0,r.push("pages")):(n=!1,r.push(s))}else{let s=t.findParameter("handle");s!=null&&(i.includes(s.value)?n=!0:n=!1,r.push(s.value))}if(n){let s=e.statamicProject.getBlueprintFields(r);e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}else{let s=fd(eo(t));e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}return e}var g2={tagName:"nav:breadcrumbs",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:[{name:"include_home",description:"Whether to include the home page in the first level",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"reverse",description:"Whether to reverse the order of links",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isRequired:!1,isDynamic:!1},{name:"trim",description:"Whether to trim the whitespace after each iteration of the loop",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],augmentScope:(t,e)=>(e.addVariables([{name:"is_current",dataType:"boolean",sourceName:"*internal.nav.breadcrumbs",sourceField:null,introducedBy:t}]),e.addVariables(eo(t)),e),resolveDocumentation:t=>q("nav:breadcrumbs Tag","The `nav:breadcrumbs` tag can be used to retrieve the URLs of all pages that make up the current URL back to the site's home page.","https://statamic.dev/tags/nav-breadcrumbs")},ep=g2;function rS(t,e){if(t.name=="handle"){let i=e.project.getUniqueCollectionNames(),r=e.project.getUniqueNavigationMenuNames(),n=[];return n=i,n=n.concat(r),n=[...new Set(n)],Rt(n)}return null}var _2=[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["handle"],allowsVariableReference:!1,name:"for",description:"The navigation or collection to use.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],name:"from",description:"The starting point for the navigation.",allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"show_unpublished",description:"Whether to include unpublished content.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"include_home",description:"Whether to include the home page in the tree.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"max_depth",description:"The maximum depth of the navigation or structure.",expectsTypes:["number"],isDynamic:!1}],nS=_2;var c_={tagName:"structure",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,injectParentScope:!1,parameters:nS,augmentScope:iS,resovleParameterCompletionItems:rS,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="nav"||t.leftWord=="/nav"||t.leftWord=="structure"||t.leftWord=="/structure")&&t.leftChar==":"){let i=t.project.getUniqueNavigationMenuNames();for(let r=0;r<i.length;r++)e.push(Us(i[r],"",""));return(t.leftWord=="nav"||t.leftWord=="/nav")&&e.push(Te(ep)),e.push(Us("collection","","")),e.push({label:"collection",kind:u_.CompletionItemKind.Text}),Li(e)}if((t.leftWord=="nav:collection"||t.leftWord=="/nav:collection"||t.leftWord=="collection"||t.leftWord=="/collection"||t.leftWord=="structure:collection"||t.leftWord=="/structure:collection")&&t.leftChar==":"){let i=t.project.getUniqueCollectionNames();for(let r=0;r<i.length;r++)e.push({label:i[r],kind:u_.CompletionItemKind.Field});return Li(e)}return Ie},resolveDocumentation:t=>q("nav Tag","The `nav` tag can be used to iterate structured collections or navigation menus.","https://statamic.dev/tags/nav")},sS=gt(c_,"nav");var aS=ee(Nt());var y2={name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},jn=y2;var f_=ee(Nt()),T2=[{label:"GET",kind:f_.CompletionItemKind.EnumMember},{label:"POST",kind:f_.CompletionItemKind.EnumMember}],oS=T2;var En=["in","handle","is","form","formset"];function Sl(t,e){return En.includes(t.name)?Rt(e.project.getUniqueFormNames()):t.name=="method"?re(oS):t.name=="files"?re(rl):null}function Gn(t,e){let i=t.structure.findParentWithName("form:set");return i!=null?{context:i,issues:[]}:{context:null,issues:[]}}var b2=["set","create","errors","success","submissions","submission"];function $o(t){if(t.reference!=null&&"tagPart"in t.reference){let r=t.reference;if(r.nameMatches("form:set"))return $o(r)}let e=t.findAnyParameter(En),i=t.getMethodNameValue();return i!=null&&b2.includes(i)==!1?i:typeof e!="undefined"&&e!==null&&e.containsSimpleValue()?e.value:""}var I2={tagName:"form:create",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[jn,{name:"method",description:"The HTTP method to use",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"files",description:"Indicates if the form sends file data",aliases:[],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"redirect",description:"The location to redirect users after a successful form submission",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",description:"The location to redirect users to after a failed form submission",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override redirect or error_redirect",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveSpecialType:Gn,resovleParameterCompletionItems:Sl,resolveDynamicParameter:Ze,augmentScope:(t,e)=>{e.addVariables(vl(t)),e.addVariable({dataType:"array",name:"errors",sourceField:null,sourceName:"*internal.forms",introducedBy:t}),e.addVariableArray("fields",Js(t));let i=$o(t);if(i.length>0){let r=e.statamicProject.getFormBlueprintFields(i),n=Zs(t,r);e.addVariableArray("old",n),e.addVariableArray("error",n)}return e},resolveDocumentation:t=>q("form:create Tag","The `form:create` tag can be used to access form data, generate field HTML markup, and handle form validation errors.","https://statamic.dev/tags/form-create")},tp=I2;var v2={tagName:"form:errors",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[jn],resolveSpecialType:Gn,resovleParameterCompletionItems:(t,e)=>En.includes(t.name)?Rt(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>q("form:errors Tag","The `form:errors` tag can be used to retrieve validation errors after a user has submitted a form.","https://statamic.dev/tags/form-errors")},ip=v2;var N2={tagName:"form:set",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!0}],resovleParameterCompletionItems:Sl,resolveDocumentation:t=>q("form:set Tag","The `form:set` tag can be used to set the form handle on all nested form tags.","https://statamic.dev/tags/form-set")},rp=N2;var S2={tagName:"form:submission",requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[jn],resolveSpecialType:Gn,resovleParameterCompletionItems:(t,e)=>En.includes(t.name)?Rt(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{let i=$o(t);if(i.length>0){let r=e.statamicProject.getFormBlueprintFields(i);e.addBlueprintFields(t,r)}return e},resolveDocumentation:t=>q("form:submission Tag","The `form:submission` tag can be used to access the form submission submitted by the current user.","https://statamic.dev/tags/form-submission")},np=S2;var P2={tagName:"form:submissions",allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[jn],resolveSpecialType:Gn,resovleParameterCompletionItems:(t,e)=>En.includes(t.name)?Rt(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let i=$o(t);if(i.length>0){let r=e.statamicProject.getFormBlueprintFields(i);e.addBlueprintFields(t,r)}return e.addVariable({name:"date",dataType:"date",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e},resolveDocumentation:t=>q("form:submissions Tag","The `form:submissions` tag can be used to fetch previously saved submissions for a form.","https://statamic.dev/tags/form-submissions")},sp=P2;var A2={tagName:"form:success",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[jn],resolveSpecialType:Gn,resovleParameterCompletionItems:(t,e)=>En.includes(t.name)?Rt(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>q("form:success Tag","The `form:success` tag can be used to check if a form submission was successful or not.","https://statamic.dev/tags/form-success")},op=A2;var E2=[Te(rp),Te(tp),Te(ip),Te(op),Te(sp),Te(np)],C2={tagName:"form",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resovleParameterCompletionItems:Sl,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="form"||t.leftWord=="/form")&&t.leftChar==":"){let i=t.project.getUniqueFormNames();e=e.concat(E2);for(let r=0;r<i.length;r++)e.push({label:i[r],kind:aS.CompletionItemKind.Field});return Li(e)}return Ie}},lS=C2;var d_={tagName:"search:results",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"index",description:"The index to search in.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"query",description:"The query string parameter to use.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"limit",description:"The maximum number of search results to return.",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{name:"offset",description:"The number of results to skip.",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether or not to paginate entry results.",expectsTypes:["boolean"],isRequired:!1,name:"paginate",isDynamic:!1},{name:"as",description:"Specifies an alias for search results.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"supplement_data",description:"Controls whether non-indexed fields are returned.",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="index"?Rt(e.project.getSearchIndexes()):null,augmentScope:(t,e)=>{e.addVariables([{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]);let i=t.findParameter("as");return i!=null&&i.value.trim().length>0?e.addVariableArray(i.value,uS(t)):e.addVariables(uS(t)),e},resolveDocumentation:t=>q("search:results Tag","The `search:results` tag provides access to all data that was returned as a result of a user's search.","https://statamic.dev/tags/search")},R2=[Te(d_)];function uS(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"content",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_term",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"count",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"index",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"search_score",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"_highlightResult",dataType:"array",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]}var cS={tagName:"search",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="search"||t.leftWord=="/search")&&t.leftChar==":"?Li(R2):Ie};function p_(t){return[{name:"email",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"password",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]}var h_={tagName:"user:login_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after logging in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed login attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:Ze,augmentScope:(t,e)=>(e.addVariables([{name:"errors",dataType:"array",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"success",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]),e.addVariables(p_(t)),e.addVariableArray("old",p_(t)),e.addVariableArray("error",p_(t)),e),resolveDocumentation:t=>q("user:login_form Tag","The `user:login_form` tag can be used to quickly create a form that users can use to authenticate with the site.","https://statamic.dev/tags/user-login_form")},fS=gt(h_,"member:login_form");var x2={tagName:"noparse",requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>q("noparse Tag","The `noparse` tag is used prevent blocks of Antlers code from being parsed, removing the need to escape individual Antlers code regions.","https://statamic.dev/antlers#the-noparse-tag")},dS=x2;var w2={tagName:"unless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:Ze,resolveDocumentation:t=>q("unless Conditional Control Structure","The `unless` control structure operates the same as an `if` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},pS=w2;var k2={tagName:"elseunless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:Ze,resolveDocumentation:t=>q("elseunless Conditional Control Structure","The `elseunless` control structure operates the same as an `elseif` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},hS=k2;var mS=ee(oi());var gS={tagName:"installed",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!0,introducedIn:"3.1.19",parameters:[],resolveCompletionItems:t=>{if(t.project!=null){let e=t.project.getComposerPackages(),i=[];return e.forEach((r,n)=>{i.push({label:r.name,kind:mS.CompletionItemKind.Text})}),re(i)}return Ie},resolveDocumentation:t=>De("installed Tag","The `installed` tag is used to check if the site has a specific Composer package available.",`{{ if {installed:composer/package-name} }}
    {{# Package is availabl.e #}}
{{ else }}
    {{# Something else. #}}
{{ /if }}`,"https://statamic.dev/tags/installed")};var D2={tagName:"relate",hideFromCompletions:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[]},_S=D2;var Pl=[{name:"bag",description:"The error message bag to retrieve errors from.",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}];var F2={tagName:"get_errors",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:Pl,introducedIn:"3.2.23",augmentScope:(t,e)=>{var i;if(t.isClosingTag)return e;if(((i=t.name)==null?void 0:i.methodPart)==null){let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"field",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"field",refFieldSetField:null,sets:null,type:"string"}});let n=r.copy();n.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),r.addScopeList("messages",n),e.addScopeList("fields",r)}else{let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",r)}return e},resolveDocumentation:t=>q("get_errors Tag","The `get_errors` tag can be used to retrieve form validation errors.","https://statamic.dev/tags/get_errors")},yS=F2;var L2={tagName:"get_errors:all",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:Pl,introducedIn:null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let i=e.copy();return i.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors.all",sourceField:{blueprintName:"*internal.tag.get_errors.all",displayName:"get_errors:all",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",i),e},resolveDocumentation:t=>q("get_errors:all Tag","The `get_errors:all` tag can be used to retrieve all form validation errors.","https://statamic.dev/tags/get_errors#list-all-validation-errors")},TS=L2;var O2={tagName:"get_error",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:Pl,introducedIn:null,augmentScope:(t,e)=>(t.isClosingTag||e.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_error",sourceField:{blueprintName:"*internal.tag.get_error",displayName:"get_error",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e),resolveDocumentation:t=>q("get_error Tag","The `get_error` tag can be used to retrieve the first error message for a specific field.","https://statamic.dev/tags/get_errors#get-the-first-error-for-a-specific-field")},bS=O2;var M2={tagName:"set",hideFromCompletions:!0,allowsArbitraryParameters:!0,requiresClose:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[]},IS=M2;var vS=ee(oi());var q2={tagName:"mount_url",hideFromCompletions:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:"3.3.15",parameters:[{isRequired:!1,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The collection handle.",name:"handle",isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>q("mount Tag","The `mount` tag can be used to retrieve the mount URL for a given collection.",null),resovleParameterCompletionItems:(t,e)=>{var i,r,n,s;return t.name=="handle"&&((i=e.context)==null?void 0:i.parameterContext)!=null?re(el((s=(n=(r=e.context)==null?void 0:r.parameterContext.parameter)==null?void 0:n.getArrayValue())!=null?s:[],e.project)):null},resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="mount_url"||t.leftWord=="/mount_url")&&t.leftChar==":"){let i=t.project.getCollectionNames();for(let r=0;r<i.length;r++)e.push({label:i[r],kind:vS.CompletionItemKind.Field,sortText:"0"})}return{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}},NS=q2;var B2={tagName:"vite:asset",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:"3.4.4",parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"src",description:"The asset's path",expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>De("vite Tag","Generates Vite asset URL for the provided resource.",'<img src="{{ vite:asset src="resources/images/logo.svg" /}}" />',null)},ap=B2;var V2=[Te(ap)],U2={tagName:"vite",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"src",description:"The entry point",expectsTypes:["string"],isDynamic:!1}],resolveCompletionItems:t=>(t.leftWord=="vite"||t.leftWord=="/vite")&&t.leftChar==":"?re(V2):Ie,resolveDocumentation:t=>De("vite Tag","Generates Vite tags for an entrypoint.",'{{ vite src="entry/point" }}',null)},SS=U2;var j2={tagName:"nocache",requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>De("nocache Tag","The `nocache` tag is used to mark regions of a template. These regions will continue to update even when using caching strategies such as the full or half-measure cache.",`{{ nocache }} 
    <!-- This content will remain dynamic. -->
{{ /nocache }}`,"https://statamic.dev/tags/nocache")},PS=j2;function lp(t){return[{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.user.permissions",introducedBy:t},{name:"total_results",dataType:"integer",sourceField:null,sourceName:"*internal.user.permissions",introducedBy:t},{name:"handle",dataType:"string",sourceField:null,sourceName:"*internal.user.permissions",introducedBy:t}]}var G2={tagName:"user_roles",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,injectParentScope:!1,introducedIn:"3.3.31",requiresClose:!1,parameters:[{name:"handle",description:"A list of role handles to include",aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1,acceptsVariableInterpolation:!0}],augmentScope:(t,e)=>(t.isClosingTag||e.addVariables(lp(t)),e),resolveDocumentation:t=>q("user_roles Tag","The `user_roles` tag can be used to return information about a site's user roles.",null)},AS=G2;var H2={tagName:"user_groups",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,injectParentScope:!1,introducedIn:"3.3.31",requiresClose:!1,parameters:[{name:"handle",description:"A list of group handles to include",aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1,acceptsVariableInterpolation:!0}],augmentScope:(t,e)=>(t.isClosingTag||e.addVariables(lp(t)),e),resolveDocumentation:t=>q("user_groups Tag","The `user_groups` tag can be used to return information about a site's user groups.",null)},ES=H2;var W2={tagName:"cookie:forget",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"keys",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The keys to forget",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},up=W2;var Y2={tagName:"cookie:has",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"key",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The cookie name to check for existence",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},cp=Y2;var K2={tagName:"cookie:set",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"minutes",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The lifetime of the cookie, in minutes",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},fp=K2;var $2={tagName:"cookie:value",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"key",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The cookie name to retrieve the value for",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},dp=$2;var z2=[Te(up),Te(dp),Te(fp),Te(cp)],Q2={tagName:"cookie",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[],resolveCompletionItems:t=>(t.leftWord=="cookie"||t.leftWord=="/cookie")&&t.leftChar==":"?re(z2):Ie},CS=Q2;var RS=[GN,HN,WN,pS,hS,fN,hN,Lv,Sd,Wo,Pd,Nd,vd,CS,up,cp,fp,dp,_S,lS,tp,np,sp,rp,op,ip,IS,yS,bS,TS,cS,d_,jv,Ad,Ed,qv,RN,Mv,DN,kN,Ov,mN,_N,bN,jd,Gd,Bv,Vv,Uv,IN,vN,Gv,Cd,SN,Wd,PN,NS,sS,c_,ep,Wv,Hv,Yd,CN,yl,Tl,xN,gS,AS,ES,Jd,bl,fl,$d,dl,pl,Il,h_,Lu,Fu,Xd,Qd,Ou,Zd,Xg,Jg,Zg,e_,t_,i_,r_,n_,fS,$g,Kg,Qg,dS,PS,$v,zv,Qv,aN,lN,FN,nN,iN,jN,oN,KN,Ld,Fd,Dd,kd,zd,wd,cN,tS,ON,Yg,MN,qN,BN,VN,UN,Vd,uN,jg,LN,Zv,Od,wN,SS,ap];var ds=class{constructor(){this.tags=new Map;this.parameters=new Map}reset(){this.tags.clear(),this.parameters.clear(),this.loadCoreTags()}getVisibleTagsWithDocumentation(){var i,r;let e=[];return this.tags.forEach((n,s)=>{if(n.hideFromCompletions==!1){let o="";n.resolveDocumentation!=null&&(o=n.resolveDocumentation()),e.push({label:s,documentation:o})}}),(r=(i=ae.instance)==null?void 0:i.getStructure())==null||r.getCustomAntlersTags().forEach(n=>{e.push({label:n.tagName,documentation:""})}),e}getCustomTagMethodsForTag(e){var n,s;let i=[],r=e.length+1;return(s=(n=ae.instance)==null?void 0:n.getStructure())==null||s.getCustomAntlersTags().forEach(o=>{if(o.tagName.startsWith(`${e}:`)){let a=o.tagName.substr(r).trim();a.length>0&&i.push(a)}}),i}getVisibleTagNames(){var i,r;let e=[];return this.tags.forEach((n,s)=>{n.hideFromCompletions==!1&&e.push(s)}),(r=(i=ae.instance)==null?void 0:i.getStructure())==null||r.getCustomAntlersTags().forEach(n=>{e.push(n.tagName)}),[...new Set(e)]}getPossibleTagMethods(e){var n,s;let i=[],r=e.length+1;return this.tags.forEach((o,a)=>{if(a.startsWith(e)){let l=a.substr(r).trim();l.length>0&&i.push(l)}}),(s=(n=ae.instance)==null?void 0:n.getStructure())==null||s.getCustomAntlersTags().forEach(o=>{if(o.tagName.startsWith(`${e}:`)){let a=e.substr(r).trim();a.length>0&&i.push(a)}}),[...new Set(i)]}getTagNames(){var i,r;let e=[];return this.tags.forEach((n,s)=>{e.push(s)}),(r=(i=ae.instance)==null?void 0:i.getStructure())==null||r.getCustomAntlersTags().forEach(n=>{e.push(n.tagName)}),[...new Set(e)]}loadCoreTags(){this.registerTags(RS)}cleanTagName(e){return Vr(e,"/")}findTag(e){return this.tags.get(this.resolveTagName(e))}findCustomTag(e){var r,n,s;let i=(s=(n=(r=ae.instance)==null?void 0:r.getStructure())==null?void 0:n.getCustomAntlersTags())!=null?s:[];for(let o=0;o<i.length;o++)if(i[o].tagName==e)return i[o]}isKnownTag(e){return this.tags.has(this.resolveTagName(e))||this.isCustomTag(e)}isSymbolKnownTag(e){return this.isKnownTag(e.runtimeName())}resolveTagName(e){return e=this.cleanTagName(e.trim()),this.tags.has(e)||e.includes(":")&&(e=e.split(":")[0]),e}canResolveSpecialTypes(e){e=this.resolveTagName(e);let i=this.tags.get(e);return!(typeof i=="undefined"||i==null||i.resolveSpecialType==null)}resolveSpecialType(e,i,r){e=this.resolveTagName(e);let n=this.findTag(e);if(n.resolveSpecialType==null)throw new Error(e+" does not support special types.");return n.resolveSpecialType(i,r)}isCustomTag(e){var n,s,o;let i=(o=(s=(n=ae.instance)==null?void 0:n.getStructure())==null?void 0:s.getCustomAntlersTags())!=null?o:[];for(var r=0;r<i.length;r++)if(i[r].tagName==e)return!0;return!1}getCompletionItems(e){var s;let i=null,r=[],n=!0;if(e.context!=null&&e.context.node!=null&&(e.currentNode=e.context.node),e.nodesInScope.length>0&&(i=e.nodesInScope[e.nodesInScope.length-1]),e.currentNode!=null&&(this.isKnownTag(e.currentNode.runtimeName())||this.isCustomTag(e.currentNode.getTagName()))){let o=this.findTag(e.currentNode.runtimeName());if(typeof o=="undefined"&&(o=this.findCustomTag(e.currentNode.getTagName()),typeof o=="undefined"))return{isExclusive:!1,items:[]};let a=[];if(o.resolveCompletionItems!=null){let l=o.resolveCompletionItems(e),u=this.getCustomTagMethodsForTag(o.tagName);if(u.length>0&&u.forEach(c=>{l.items.push({label:c,kind:m_.CompletionItemKind.Text,insertText:c})}),l.isExclusiveResult)return{isExclusive:!0,items:l.items};n=l.analyzeDefaults,r=r.concat(l.items)}if(e.isPastTagPart==!1){let l=this.getPossibleTagMethods(o.tagName);for(let u=0;u<l.length;u++)r.push({label:l[u],kind:m_.CompletionItemKind.Text})}if(n){if(e.isCaretInTag==!0&&o.parameters.length>0&&(r=r.concat(Fg(e,o.parameters)),o.tagName=="partial"&&i!=null&&i.hasMethodPart())){let l=i.getMethodNameValue();if(l.trim().length>0&&(s=ae.instance)!=null&&s.hasStructure()){let u=ae.instance.getStructure().findPartial(l);u!=null&&u.injectsParameters.length>0&&(r=r.concat(Fg(e,u.injectsParameters)))}}for(let l=0;l<e.nodesInScope.length;l++)if(e.nodesInScope[l].runtimeType!==null){let u=e.nodesInScope[l].runtimeType;if(u!=null&&u.assumedType=="structure_ref"&&u.supplementedFields!=null)for(let c=0;c<u.supplementedFields.length;c++)r.push(Lg(u.supplementedFields[c]))}}return{items:r,isExclusive:!1}}return{items:r,isExclusive:!1}}injectParentScope(e){let i=this.findTag(e);return typeof i=="undefined"||i==null?!0:i.injectParentScope}resolveParameterCompletions(e,i,r){let n=this.findTag(e);return typeof n!="undefined"&&n!==null&&typeof n.resovleParameterCompletionItems!="undefined"&&n.resovleParameterCompletionItems!==null?n.resovleParameterCompletionItems(i,r):null}canResolveDynamicParameter(e){let i=this.resolveTagName(e);if(this.isKnownTag(i)){let r=this.tags.get(i);if(typeof r=="undefined")return!1;if(typeof r.resolveDynamicParameter!="undefined"&&r.resolveDynamicParameter!=null)return!0}return!1}getParameter(e,i){let r=this.resolveTagName(e);if(this.parameters.has(r)==!1)return null;let n=this.parameters.get(r);if(n==null)return null;if(n.has(i)==!1){let o=this.findTag(e);if(o!=null&&typeof o.resolveDynamicParameter!="undefined"&&o.resolveDynamicParameter!=null){let a=o.resolveDynamicParameter(null,i);if(a!==null)return a}return null}let s=n.get(i);return typeof s=="undefined"||n==null?null:s}registerTags(e){for(let i=0;i<e.length;i++)this.registerTag(e[i])}registerTag(e){if(this.tags.set(e.tagName,e),this.parameters.has(e.tagName)==!1&&this.parameters.set(e.tagName,new Map),e.parameters.length>0){let i=this.parameters.get(e.tagName);for(let r=0;r<e.parameters.length;r++){let n=e.parameters[r];i==null||i.set(n.name,n)}}}requiresClose(e){let i=e.getTagName();if(this.tags.has(i)){let r=this.findTag(i);if(r!=null)return r.requiresCloseResolver!=null?r.requiresCloseResolver(e):r.requiresClose}return!1}};ds.instance=null;(typeof ds.instance=="undefined"||ds.instance==null)&&(ds.instance=new ds,ds.instance.loadCoreTags());var Le=ds;var en=class{constructor(e){this.generation=0;this.id="";this.name="";this.values=new Map;this.lists=new Map;this.pristine=new Map;this.parentScope=null;this.statamicProject=e,en.generationCounter+=1,this.generation=en.generationCounter,this.id=Ga()}makeNew(){return new en(this.statamicProject)}ancestor(){return this.parentScope!=null?this.parentScope:this}canShiftScope(e){return!!this.pristine.has(e)}shiftScope(e,i,r){if(this.pristine.has(i)){let n=this.pristine.get(i),s=n.parentCopy.copy();return s.introduceAliasScope(e,r,n.introducedFields),s}return this}containsPath(e){if(e.includes(":")){let i=e.split(":"),r=i.shift(),n=i.join(":");if(typeof r=="undefined")return!1;let s=this.lists.get(r);return typeof s=="undefined"?!1:s.containsPath(n)}return!!this.lists.has(e)}findReference(e){if(e.includes(":")){let i=e.split(":"),r=i.pop(),n=i.join(":"),s=this.findNestedScope(n);if(s!=null)return s.findReference(r)}return this.values.has(e)?this.values.get(e):null}findReferenceWithField(e){if(e.includes(":")){let i=e.split(":"),r=i.pop(),n=i.join(":"),s=this.findNestedScope(n);if(s!=null)return s.findReference(r)}if(this.values.has(e)){let i=this.values.get(e);if(i.sourceField==null){if(i.introducedBy!=null&&i.introducedBy.currentScope!=null&&i.introducedBy.currentScope!=this)return i.introducedBy.currentScope.findReferenceWithField(i.introducedBy.getTagName());if(this.parentScope!=null&&this.parentScope!=this)return this.parentScope.findReferenceWithField(e)}return i}return null}containsReference(e){return this.findReference(e)!=null}findNestedScope(e){if(e.includes(":")){let i=e.split(":"),r=i.shift(),n=i.join(":");if(typeof r=="undefined")return null;let s=this.lists.get(r);return typeof s=="undefined"?null:s.findNestedScope(n)}return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this&&this.parentScope.hasList(e)?this.parentScope.lists.get(e):null}liftList(e){if(this.lists.has(e)){let i=this.lists.get(e);return typeof i=="undefined"||i===null?null:(this.lists.delete(e),i)}return null}hasPristineReference(e){return!!this.pristine.has(e)}hasListInHistory(e){return this.hasList(e)?!0:this.parentScope!=null?this.name=="*root*"?!1:this.parentScope.hasList(e):!1}hasList(e){if(this.lists.has(e)){let i=this.lists.get(e);return!(typeof i=="undefined"||i===null)}return!1}bringListIntoMainScope(e){if(e.includes(":")){let r=e.split(":"),n=r.shift(),s=r.join(":");if(typeof n=="undefined")return this;let o=this.lists.get(n);return typeof o=="undefined"?this:o.bringListIntoMainScope(s)}let i=this.lists.get(e);return this.lists.delete(e),this.mergeScope(i)}getListNames(){let e=[];return this.lists.forEach((i,r)=>{e.push(r)}),e}getVariableNames(){let e=[];return this.values.forEach(i=>{e.push(i.name)}),e}getList(e){return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this?this.parentScope.getList(e):null}hasValue(e){return this.values.has(e)}findAncestorWithList(e){return this.hasList(e)?this:this.parentScope!=null&&this.parentScope!=this?this.parentScope.findAncestorWithList(e):null}findReferenceNotIntroducedBy(e,i){if(this.hasValue(e)){let r=this.values.get(e);if(r.introducedBy!=null&&r.introducedBy!=i)return r}return this.parentScope!=null&&this.parentScope!=this?this.parentScope.findReferenceNotIntroducedBy(e,i):null}removeThroughIntroduction(e,i){if(this.values.delete(e),this.parentScope!=null){let r=this.findReferenceNotIntroducedBy(e,i);r!=null&&this.addVariable(r)}}wasIntroducedBySymbol(e,i){if(this.values.has(e)==!1)return!1;let r=this.values.get(e);return r.introducedBy!=null?r.introducedBy==i:!1}referencesArray(e){return this.values.has(e)==!1?!1:this.values.get(e).dataType=="array"}addScopeList(e,i){return this.lists.set(e,i),this}mergeAndList(e,i){let r=new en(this.statamicProject);return r.values=$N(i),this.lists.set(e,r),this.mergeVariableScope(i),this}mergeScope(e){return e==this||e==null?this:(typeof e.values!="undefined"&&e.values!==null&&e.values.forEach((i,r)=>{this.values.set(r,i)}),typeof e.lists!="undefined"&&e.lists!==null&&e.lists.forEach((i,r)=>{this.lists.set(r,i)}),this)}mergeVariableScope(e){for(let i=0;i<e.length;i++)this.values.set(e[i].name,e[i]);return this}addVariable(e){this.values.set(e.name,e)}addVariables(e){for(let i=0;i<e.length;i++)this.addVariable(e[i])}addVariableArray(e,i){this.values.has(e)&&this.values.delete(e);let r=new en(this.statamicProject);r.addVariables(i),this.addScopeList(e,r)}injectAssetContainer(e,i){this.addBlueprintFields(e,this.statamicProject.getAssetBlueprintFields(i))}injectUserFields(e){this.addBlueprintFields(e,this.statamicProject.getUserFields())}addBlueprintField(e,i){this.addVariable({dataType:i.type,name:i.name,sourceField:i,sourceName:i.blueprintName,introducedBy:e})}introduceScopedAliasScope(e,i,r,n){this.pristine.set(r,{introducedFields:n,introducedScope:r,parentCopy:this.copy()});let s=new en(this.statamicProject),o=new en(this.statamicProject);return o.addBlueprintFields(e,n),s.name=r,s.addScopeList(i,o),this.addScopeList(r,s),s}expandScopedAliasScope(e,i,r,n){this.lists.has(r)==!1?this.introduceScopedAliasScope(e,i,r,n):this.lists.get(r).addBlueprintFields(e,n)}introduceAliasScope(e,i,r){this.pristine.set(i,{introducedFields:r,introducedScope:i,parentCopy:this.copy()});let n=new en(this.statamicProject);n.addBlueprintFields(e,r),n.name=i,this.addScopeList(i,n)}introduceDynamicScopeList(e,i,r){this.pristine.set(i,{introducedFields:r,introducedScope:i,parentCopy:this.copy()});let n=new en(this.statamicProject);n.name=i,n.addBlueprintFields(e,r),this.addScopeList(i,n)}addBlueprintFields(e,i){for(let r=0;r<i.length;r++)this.addBlueprintField(e,i[r])}injectBlueprint(e,i){let r=this.statamicProject.getBlueprintDetails(i);r.length>0&&this.addBlueprintFields(e,r)}copy(){let e=new en(this.statamicProject);return e.pristine=new Map(this.pristine),e.values=new Map(this.values),e.lists=new Map(this.lists),e.parentScope=this,e}},ur=en;ur.generationCounter=0;function g_(t){let e=new ur(t);return e.addVariable({dataType:"string",name:"handle",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"name",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"short_locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e}function xS(){let t=[];return t.push({dataType:"number",name:"response_code",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_field",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_token",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"environment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"xml_header",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"last_segment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_uri",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"amp_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"api_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_full_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"template_contents",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_layout",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_in",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_out",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"is_homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"now",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"today",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"current_date",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get_post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"old",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t}function wS(t,e){let i=t.findParameter("paginate");if(i!=null&&(i.value.toLowerCase()=="true"||parseInt(i.value).toString()==i.value)){let r=e.makeNew(),n=e.makeNew(),s=e.makeNew(),o=e.makeNew();r.addVariable({name:"next_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"prev_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_items",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_pages",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"current_page",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"auto_links",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),s.addVariable({name:"url",dataType:"string",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),s.addVariable({name:"page",dataType:"integer",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),o.addVariable({name:"first",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),o.addVariable({name:"last",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),o.addVariable({name:"slider",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),n.addScopeList("all",s),n.addScopeList("segments",o),r.addScopeList("links",n),e.addScopeList("paginate",r)}}var to=class{constructor(){this.fileInjections=new Map;this.project=null}updateProject(e){this.project=e}registerInjections(e,i){if(i.length==0)return;let r=[];for(let n=0;n<i.length;n++){let s=i[n];s.hasParameters&&r.push(s)}if(r.length>0){let n=r[0].getMethodNameValue();if(n!=null&&this.project!=null){let s=this.project.findPartial(n);s!=null&&(this.fileInjections.has(s.documentUri)||this.fileInjections.set(s.documentUri,new Map),this.fileInjections.get(s.documentUri).set(e,r))}}}hasAvailableInjections(e){return this.fileInjections.has(e)}getScopeInjection(e,i){let r=new ur(i);return r.name="*injection*",this.fileInjections.get(e).forEach((s,o)=>{for(let a=0;a<s.length;a++){let l=s[a];if(l.hasParameters)for(let u=0;u<l.parameters.length;u++){let c=l.parameters[u];if(c.containsSimpleValue())r.addVariable({dataType:"string",name:c.name,sourceField:null,sourceName:"scope.injection",introducedBy:l});else if(c.isVariableReference&&l.currentScope!=null&&l.currentScope.hasListInHistory(c.value)){let f=l.currentScope.findNestedScope(c.value);if(f!=null){let d=Vr(c.name,":"),p=f.copy();p.name=d,r.addScopeList(d,f)}}}}}),r}};to.instance=null;(typeof to.instance=="undefined"||to.instance==null)&&(to.instance=new to);var zo=to;var X2=["collection"],J2=["if","elseif","unless","elseunless"],pp=class{constructor(e,i,r){this.pageVars=[];this.viewDataVars=null;this.documentUri="";this.lastSymbolId="";this.ideHelperMap=new Map;this.statamicProject=e,this.documentUri=i,this.document=r,this.makePageScope(),this.makeViewDataScope()}makeViewDataScope(){this.document.hasFrontMatter()&&(this.viewDataVars=this.document.getFrontMatterScope())}makePageScope(){let e=[],i=this.statamicProject.getFields();if(i.has("pages")){let r=i.get("pages");for(let n=0;n<r.length;n++){let s=r[n];e.push({name:s.name,dataType:s.type,sourceField:s,sourceName:s.blueprintName,introducedBy:null})}}this.pageVars=e}analyzeScope(e){var c,f,d,p,h,T,N,_,g,y,x,L,E;let i=new ur(this.statamicProject);i.name="*root*",i.parentScope=i,i.addScopeList("site",g_(this.statamicProject)),i.addScopeList("sites",g_(this.statamicProject)),i.addVariables(xS());let r=new ur(this.statamicProject);r.name="*root_user*",r.parentScope=i,this.statamicProject.getUserFields().forEach(U=>{r.addBlueprintField(null,U)}),i.addScopeList("current_user",r),(c=yn.instance)!=null&&c.pageScopeDisabled(this.documentUri)?this.viewDataVars!=null&&i.addScopeList("view",this.viewDataVars):this.viewDataVars!=null?i.mergeAndList("page",this.pageVars).addScopeList("view",this.viewDataVars):i.mergeAndList("page",this.pageVars);let n=null;e.length>0&&e[0].isComment&&(n=Cu(this.documentUri,e[0]));for(let U=0;U<e.length;U++)if(e[U].isComment){let w=Cu(this.documentUri,e[U]);w.variableHelper!=null&&this.ideHelperMap.set(e[U].id(),w.variableHelper)}let s=this.statamicProject.getCollectionNamesForView(this.documentUri);if(n!=null&&(n.collectionInjections.length>0&&(s=s.concat(n.collectionInjections)),n.blueprints.length>0&&(s=s.concat(n.blueprints)),n.variableHelper!=null&&n.variableHelper.variableName=="@page")){let U=this.statamicProject.getBlueprintField(n.variableHelper.collectionName,n.variableHelper.fieldHandle);if(U!=null)if(n.variableHelper.setHandle.length>0){if(U.sets!=null){for(let w=0;w<U.sets.length;w++)if(U.sets[w].handle==n.variableHelper.setHandle){i.addVariables(Zs(e[0],U.sets[w].fields));break}}}else i.addBlueprintField(e[0],U)}if(s.length>0){for(let U=0;U<s.length;U++)i.injectBlueprint(e[0],s[U]);i.addVariables(Ws(e[0]))}(f=zo.instance)!=null&&f.hasAvailableInjections(this.documentUri)&&i.mergeScope((d=zo.instance)==null?void 0:d.getScopeInjection(this.documentUri,this.statamicProject));let o=[],a=[],l=[],u=[];u.push(i);for(let U=0;U<e.length;U++){let w=e[U];this.lastSymbolId.length>0&&a.includes(w.id())&&(o.pop(),u.pop(),u.length==0&&u.push(i));let z=u[u.length-1];if(w.hasParameters){for(let H=0;H<w.parameters.length;H++)if(w.parameters[H].interpolations.length>0)for(let Z=0;Z<w.parameters[H].interpolations.length;Z++){let ue=w.parameters[H].interpolations[Z];w.processedInterpolationRegions.has(ue)&&w.processedInterpolationRegions.get(ue).forEach(Q=>{Q instanceof G&&(Q.currentScope=z)})}}if(((p=Le.instance)==null?void 0:p.isKnownTag(w.getTagName()))==!1){if(w.scopeVariable=z.findReference(w.runtimeName()),U>0){let H=e[U-1];if(H.isComment&&this.ideHelperMap.has(H.id())&&!H.isClosingTag&&!w.isClosingTag){let Z=this.ideHelperMap.get(H.id());if(Z.variableName==w.getTagName()){let ue=this.statamicProject.getBlueprintField(Z.collectionName,Z.fieldHandle);ue!=null&&(w.scopeVariable=zg(w,ue))}}}if(w.scopeVariable==null){let H=w.runtimeName().trim();if(z.hasList(H)||((h=w.currentScope)==null?void 0:h.hasListInHistory(H))){w.sourceType="array";let te=z.getList(H);if(te!=null&&te.values.size>0){let Q=te.values.entries().next().value[1];w.scopeVariable={dataType:"array",introducedBy:Q.introducedBy,name:H,sourceField:null,sourceName:Q.sourceName}}}let Z=(N=(T=w.name)==null?void 0:T.name)!=null?N:"";Z.includes(".")?Z=Z.split(".")[0]:Z.includes(":")&&(Z=Z.split(":")[0]);let ue=this.statamicProject.findAnyBlueprintField(Z);if(ue!=null){let te=zg(w,ue);w.scopeVariable=te,w.scopeVariable.sourceField!=null&&(_=Ys.instance)!=null&&_.hasFieldtype(w.scopeVariable.sourceField.type)&&((g=Ys.instance)==null?void 0:g.getFieldType(w.scopeVariable.sourceField.type)).augmentScope(w,z)}}else w.sourceType=Xf(w.scopeVariable.dataType),w.scopeVariable.sourceField!=null&&(y=Ys.instance)!=null&&y.hasFieldtype(w.scopeVariable.sourceField.type)&&((x=Ys.instance)==null?void 0:x.getFieldType(w.scopeVariable.sourceField.type)).augmentScope(w,z)}if(w.hasParameters&&wS(w,z),w.modifiers!=null&&w.modifiers.hasModifiers()?w.manifestType=w.modifiers.getLastManifestedModifierRuntimeType():w.manifestType=w.sourceType,w.isClosedBy!=null&&(o.push(w.id()),a.push(w.isClosedBy.id()),z=z.copy(),u.push(z)),w.getTagName()=="scope"&&w.hasMethodPart()&&u.length>2){let H=u[u.length-2].copy();z.addScopeList(w.getMethodNameValue(),H)}if(z.containsPath(w.runtimeName())&&(o.push(w.id()),w.isClosedBy!=null&&a.push(w.isClosedBy.id()),z=z.copy().bringListIntoMainScope(w.runtimeName()),u.push(z)),w.currentScope=z,w.getTagName()!="cache"){let H=w.findParameter("scope");H!=null&&z.canShiftScope(w.runtimeName())&&(z=z.shiftScope(w,w.runtimeName(),H.value),w.currentScope=z,u.pop(),u.push(z))}if((L=Le.instance)!=null&&L.isKnownTag(w.runtimeName())){let H=(E=Le.instance)==null?void 0:E.findTag(w.runtimeName());typeof H!="undefined"&&H.augmentScope!=null&&H.augmentScope(w,z)}if(w.modifierChain!=null&&w.modifierChain.modifierChain.length>0&&w.modifierChain.modifierChain.forEach(H=>{H.modifier!=null&&typeof H.modifier.augmentScope!="undefined"&&H.modifier.augmentScope!=null&&H.modifier.augmentScope(w,z)}),w.modifiers.hasParameterModifiers()&&w.modifiers.parameterModifiers.forEach(H=>{H.modifier!=null&&typeof H.modifier.augmentScope!="undefined"&&H.modifier.augmentScope!=null&&H.modifier.augmentScope(w,z)}),w.sourceType=="array"){let H=w.findParameter("chunk"),Z=!0;if(w.parent!=null&&w.parent instanceof G&&X2.includes(w.parent.runtimeName())&&(Z=!1),typeof H!="undefined"&&H!==null)if(w.currentScope.parentScope!=null&&(w.currentScope.parentScope.hasList(w.runtimeName())||z.referencesArray(w.runtimeName()))){let ue=w.currentScope.parentScope.copy(),te=ue.liftList(w.runtimeName());if(te==null&&z.referencesArray(w.runtimeName())){if(te=new ur(z.statamicProject),Z){let Q=it(w);for(let qe=0;qe<Q.length;qe++){let ht=Q[qe];ue.wasIntroducedBySymbol(ht.name,w)&&ue.removeThroughIntroduction(ht.name,w)}te.addVariables(Q)}}else Z&&ue.addVariables(it(w));ue.addScopeList("chunk",te),z=ue,u.pop(),u.push(z),w.currentScope=ue}else{let ue=w.findParameter("scope");if(typeof ue!="undefined"&&ue!==null&&w.currentScope!=null&&w.currentScope.hasList(ue.value)&&w.scopeName!=null){let te=w.currentScope.copy(),Q=te.ancestor().copy(),qe=te.liftList(w.scopeName);Z&&te.addVariables(it(w)),Q.liftList(w.scopeName),te.addScopeList(w.scopeName,qe),Q.addScopeList("chunk",te),z=Q,u.pop(),u.push(z),w.currentScope=Q}}else w.scopeVariable!=null&&w.scopeVariable.sourceField==null&&Z&&(z.addVariables(it(w)),z.addVariables(nt(w)))}if(a.includes(w.id())&&w.parent!=null&&w.parent instanceof G){let H=w.currentScope.findAncestorWithList(w.getTagName());H!=null?(w.currentScope=H,z=H.copy(),u.pop(),u.length==0&&u.push(i),u.push(z)):w.parent.parent!=null?w.currentScope=w.parent.parent.currentScope:w.currentScope=w.parent.currentScope}if(w.currentScope!=null&&w.runtimeNodes.length>0&&w.runtimeNodes.forEach(H=>{var Z;if(H instanceof fe&&(Z=w.currentScope)!=null&&Z.hasValue(H.name)){let ue=w.currentScope.findReferenceWithField(H.name);H.currentScope=w.currentScope,H.scopeName=w.scopeName,H.scopeVariable=ue}}),J2.includes(w.runtimeName())&&w.runtimeNodes.length==3&&w.runtimeNodes[0]instanceof fe&&w.runtimeNodes[1]instanceof ki&&w.runtimeNodes[2]instanceof Dt&&w.runtimeNodes[0].scopeVariable!=null&&w.runtimeNodes[0].scopeVariable.sourceField!=null){let H=w.runtimeNodes[0].scopeVariable,Z=w.runtimeNodes[2].value,ue=H.sourceField;if(ue.sets!=null)for(let te=0;te<ue.sets.length;te++){let Q=ue.sets[te];if(Q.handle==Z&&Q.fields!=null){z=z.copy(),z.addBlueprintFields(w,Q.fields),w.isClosedBy!=null&&!w.isSelfClosing&&(o.push(w.id()),a.push(w.isClosedBy.id()),u.push(z));break}}}this.lastSymbolId=w.id();let de=o.join("/");l.push(de)}}};var ps=class{};ps.globalTagEnterStack=[],ps.interpolatedVariables=[];var OS=ee(ed());var Yi=class{constructor(){this.name="";this.compound="";this.methodPart="";this.content="";this.cachedCompoundTagName=null}tagPartIs(e){return e=e.toLowerCase().trim(),this.name.toLowerCase().trim()==e}isCompound(){return this.methodPart==null?!1:this.methodPart.length>0}getMethodName(){return this.methodPart==""?"index":this.methodPart=="null"?"":this.methodPart}getRuntimeMethodName(){}getCompoundTagName(){if(this.cachedCompoundTagName==null){let e=this.getMethodName();this.cachedCompoundTagName=this.name,e!=null&&e!=""&&(this.cachedCompoundTagName=this.cachedCompoundTagName+":"+e)}return this.cachedCompoundTagName}};var __=class{constructor(){this.tagNames=[];this.modifierNames=[]}getModifierNames(){var e,i;return this.modifierNames.concat((i=(e=je.instance)==null?void 0:e.getModifierNames())!=null?i:[])}getTagNames(){var e,i;return this.tagNames.concat((i=(e=Le.instance)==null?void 0:e.getTagNames())!=null?i:[])}setTagNames(e){this.tagNames=e}setModifierNames(e){this.modifierNames=e}isTag(e){var i;return __.alwaysLikeTag.includes(e)||(i=Le.instance)!=null&&i.isKnownTag(e)?!0:this.tagNames.includes(e)}isModifier(e){var i;return(i=je.instance)!=null&&i.hasModifier(e)?!0:this.modifierNames.includes(e)}},Qo=__;Qo.alwaysLikeTag=["if","endif","elseif","else","unless","elseunless"];var Al=class{static analyze(e,i){e.forEach(r=>{if(r instanceof G){if(r.pathReference!=null&&r.pathReference.isStrictVariableReference){r.isTagNode=!1;return}r.name!=null&&(r.isTagNode=i.isTag(r.name.name))}})}static analyzeNode(e){if(e.pathReference!=null&&e.pathReference.isStrictVariableReference){e.isTagNode=!1;return}Al.environmentDetails!=null&&e.name!=null&&(e.isTagNode=Al.environmentDetails.isTag(e.name.name)),e.name!=null&&(e.isConditionNode=Qo.alwaysLikeTag.includes(e.name.name))}static analyzeParametersForModifiers(e){e.parameters.forEach(i=>{Al.environmentDetails!=null&&(i.isModifierParameter=Al.environmentDetails.isModifier(i.name))})}},Xo=Al;Xo.environmentDetails=null;(typeof Xo.environmentDetails=="undefined"||Xo.environmentDetails==null)&&(Xo.environmentDetails=new Qo);var y_=Xo;var hp=class{static getIdentifier(e){var n;let i=new Yi;i.content=e.trim();let r=e.split(":");if(r.length==1)i.name=r[0].trim(),i.methodPart=null,i.compound=i.name;else if(r.length>1){let s=(n=r.shift())!=null?n:"",o=r.join(":");i.name=s.trim(),i.methodPart=o.trim(),i.compound=i.name+":"+i.methodPart}else i.name=e.trim(),i.methodPart="";return i.name.startsWith("/")&&(i.name=i.name.substr(1),i.compound=i.compound.substr(1)),i}};var le=class{static getPrettyTypeName(e){return e instanceof Zr?le.TOKEN_LANG_OPERATOR:e instanceof nr?le.TOKEN_OP_A_ADD:e instanceof fe?le.TOKEN_VARIABLE:e instanceof Dt?le.TOKEN_STRING:e instanceof Kt?le.TOKEN_NUMBER:e instanceof Ur?le.TOKEN_CONSTANT_FALSE:e instanceof yr?le.TOKEN_CONSTANT_NULL:e instanceof jr?le.TOKEN_CONSTANT_TRUE:e instanceof Vo?le.TOKEN_MODIFIER_NODE:e instanceof Wa?le.TOKEN_MODIFIER_CHAIN:e instanceof nd?le.TOKEN_MODIFIER_PARAMETER:e instanceof sr?le.TOKEN_OP_A_DIVIDE:e instanceof bn?le.TOKEN_OP_A_EXPONENTIATION:e instanceof Tr?le.TOKEN_OP_A_MODULUS:e instanceof or?le.TOKEN_OP_A_MULTIPLY:e instanceof wi?le.TOKEN_OP_A_SUBTRACT:e instanceof Gr?le.TOKEN_ASG_ADD:e instanceof Hr?le.TOKEN_ASG_DIVIDE:e instanceof Wr?le.TOKEN_ASG_MODULUS:e instanceof Yr?le.TOKEN_ASG_MULTIPLY:e instanceof ar?le.TOKEN_ASG_ASSIGN:e instanceof In?le.TOKEN_ASG_SUBTRACT:e instanceof ki?le.TOKEN_CMP_EQUAL:e instanceof Jr?le.TOKEN_CMP_SEQUAL:e instanceof br?le.TOKEN_CMP_GT:e instanceof Mn?le.TOKEN_CMP_GTE:e instanceof Kr?le.TOKEN_CMP_LT:e instanceof $r?le.TOKEN_CMP_LTE:e instanceof zr?le.TOKEN_CMP_NEQ:e instanceof Qr?le.TOKEN_CMP_SNEQ:e instanceof Xr?le.TOKEN_CMP_SPACESHIP:e instanceof qn?le.TOKEN_OP_VARIABLE_FALLBACK:e instanceof sd?le.TOKEN_COND_FALLBACK_GROUP:e instanceof Mt?le.TOKEN_BRANCH_SEPARATOR:e instanceof lr?le.TOKEN_TERNARY_SEPARATOR:e instanceof ti?le.TOKEN_GROUP_BEGIN:e instanceof ei?le.TOKEN_GROUP_END:e instanceof Ai?le.TOKEN_MODIFIER_SEPARATOR:e instanceof Ht?le.TOKEN_MODIFIER_NAME:e instanceof ii?le.TOKEN_MODIFIER_VALUE:e instanceof Di?le.TOKEN_MODIFIER_VALUE_SEPARATOR:e instanceof Ka?le.TOKEN_NULL_COALESCE_GROUP:e instanceof Yt?le.TOKEN_SEMANTIC_GROUP:e instanceof _i?le.TOKEN_STATEMENT_SEPARATOR:e instanceof $a?le.TOKEN_TERNARY_CONDITION:e instanceof Ir?le.TOKEN_OP_AND:e instanceof yi?le.TOKEN_OP_LOGIC_NEGATION:e instanceof vr?le.TOKEN_OP_OR:e instanceof vn?le.TOKEN_OP_XOR:e instanceof Nr?le.TOKEN_OP_NULL_COALESCE:e instanceof qs?le.TOKEN_PARAM:e instanceof Pi?le.TOKEN_PATH_ACCESSOR:e instanceof as?le.TOKEN_OP_A_FACTORIAL:e instanceof _r?le.TOKEN_RECURSIVE:e instanceof Go?le.TOKEN_ARG_GROUP:e instanceof Gt?le.TOKEN_ARG_SEPARATOR:e instanceof Nn?le.TOKEN_OP_STRING_CONCAT:e instanceof Fi?le.TOKEN_OP_SCOPE_REASSIGNMENT:e instanceof jo?le.TOKEN_STRUCT_SWITCH_CASE:e instanceof Vs?le.TOKEN_STRUCT_SWITCH_GROUP:e instanceof Bs?le.TOKEN_STRUCT_DIRECTION_GROUP:e instanceof Sr?le.TOKEN_STRUCT_SCOPED_LOGIC_GROUP:e instanceof He?le.TOKEN_STRUCT_LOGIC_GROUP:e instanceof Ya?le.TOKEN_STRUCT_VALUE_DIRECTION:e instanceof Bn?le.TOKEN_STRUCT_ARRAY:e instanceof Pr?le.TOKEN_STRUCT_T_LIST_START:e instanceof od?le.TOKEN_STRUCT_TUPLE_LIST:e instanceof ui?le.TOKEN_STRUCT_METHOD_CALL:typeof e}},X=le;X.TOKEN_LANG_OPERATOR="T_LANG_OPERATOR",X.TOKEN_VARIABLE="T_VAR",X.TOKEN_NUMBER="T_NUMERIC",X.TOKEN_STRING="T_STRING",X.TOKEN_RECURSIVE="T_RECURSIVE",X.TOKEN_CONSTANT_FALSE="T_FALSE",X.TOKEN_CONSTANT_NULL="T_NULL",X.TOKEN_CONSTANT_TRUE="T_TRUE",X.TOKEN_MODIFIER_NODE="T_MODIFIER",X.TOKEN_MODIFIER_CHAIN="T_MODIFIER_CHAIN",X.TOKEN_MODIFIER_PARAMETER="T_MODIFIER_PARAM",X.TOKEN_OP_A_ADD="T_AOP_ADD",X.TOKEN_OP_A_DIVIDE="T_AOP_DIVIDE",X.TOKEN_OP_A_EXPONENTIATION="T_AOP_EXP",X.TOKEN_OP_A_MODULUS="T_AOP_MOD",X.TOKEN_OP_A_MULTIPLY="T_AOP_MULTIPLY",X.TOKEN_OP_A_SUBTRACT="T_AOP_SUBTRACT",X.TOKEN_OP_A_FACTORIAL="T_AOP_FACTORIAL",X.TOKEN_ASG_ADD="T_ASG_ADD",X.TOKEN_ASG_DIVIDE="T_ASG_DIVIDE",X.TOKEN_ASG_ASSIGN="T_ASG",X.TOKEN_ASG_MODULUS="T_ASG_MODULUS",X.TOKEN_ASG_MULTIPLY="T_ASG_MULTIPLY",X.TOKEN_ASG_SUBTRACT="T_ASG_SUBTRACT",X.TOKEN_CMP_EQUAL="T_CMP_EQ",X.TOKEN_CMP_SEQUAL="T_CMP_SEQ",X.TOKEN_CMP_GT="T_CMP_GT",X.TOKEN_CMP_GTE="T_CMP_GTE",X.TOKEN_CMP_LT="T_CMP_LT",X.TOKEN_CMP_LTE="T_CMP_LTE",X.TOKEN_CMP_NEQ="T_CMP_NEQ",X.TOKEN_CMP_SNEQ="T_CMP_SNEQ",X.TOKEN_CMP_SPACESHIP="T_CMP_SPSHP",X.TOKEN_OP_VARIABLE_FALLBACK="T_VFBK",X.TOKEN_COND_FALLBACK_GROUP="T_VFBK_GROUP",X.TOKEN_BRANCH_SEPARATOR="T_BRANCH_SEPARATOR",X.TOKEN_TERNARY_SEPARATOR="T_TERNARY_SEPARATOR",X.TOKEN_GROUP_BEGIN="T_LOGIC_BEGIN",X.TOKEN_GROUP_END="T_LOGIC_END",X.TOKEN_MODIFIER_SEPARATOR="T_MODIFIER_SEPARATOR",X.TOKEN_MODIFIER_NAME="T_MODIFIER_NAME",X.TOKEN_MODIFIER_VALUE="T_MODIFIER_VALUE",X.TOKEN_MODIFIER_VALUE_SEPARATOR="T_MODIFIER_VALUE_SEPARATOR",X.TOKEN_NULL_COALESCE_GROUP="T_NULL_COALESCE_GROUP",X.TOKEN_SEMANTIC_GROUP="T_SEMANTIC_GROUP",X.TOKEN_STATEMENT_SEPARATOR="T_STATEMENT_SEPARATOR",X.TOKEN_TERNARY_CONDITION="T_TERNARY_CONDITION",X.TOKEN_OP_AND="T_AND",X.TOKEN_OP_LOGIC_NEGATION="T_LOGIC_INVERSE",X.TOKEN_OP_OR="T_OR",X.TOKEN_OP_XOR="T_XOR",X.TOKEN_OP_NULL_COALESCE="T_NULL_COALESCE",X.TOKEN_PARAM="T_PARAM",X.TOKEN_PATH_ACCESSOR="T_VAR_SEPARATOR",X.TOKEN_ARG_GROUP="T_ARG_GROUP",X.TOKEN_ARG_SEPARATOR="T_ARG_SEPARATOR",X.TOKEN_OP_STRING_CONCAT="T_STR_CONCAT",X.TOKEN_OP_SCOPE_REASSIGNMENT="T_SCOPE_ASSIGNMENT",X.TOKEN_STRUCT_SWITCH_CASE="T_SWITCH_CASE",X.TOKEN_STRUCT_SWITCH_GROUP="T_SWITCH_GROUP",X.TOKEN_STRUCT_DIRECTION_GROUP="T_DIRECTION_GROUP",X.TOKEN_STRUCT_VALUE_DIRECTION="T_ORDER_DIRECTION",X.TOKEN_STRUCT_SCOPED_LOGIC_GROUP="T_SCOPED_LOGIC_GROUP",X.TOKEN_STRUCT_LOGIC_GROUP="T_LOGIC_GROUP",X.TOKEN_STRUCT_ARRAY="T_ARRAY",X.TOKEN_STRUCT_T_LIST_START="T_LIST_START",X.TOKEN_STRUCT_TUPLE_LIST="T_LIST",X.TOKEN_STRUCT_METHOD_CALL="T_METHOD_CALL";var st=class{static isLanguageLogicalKeyword(e){return e==this.LogicalAnd||e==this.LogicalNot||e==this.LogicalOr||e==this.LogicalXor}};st.LogicalAnd="and",st.LogicalNot="not",st.LogicalOr="or",st.LogicalXor="xor",st.ConstTrue="true",st.ConstFalse="false",st.ConstNull="null",st.ArrList="list",st.ScopeAs="as";var mp=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.currentContent=[];this.rawContent=[];this.startIndex=0;this.cur=null;this.next=null;this.prev=null;this.isParsingString=!1;this.isParsingModifierName=!1;this.isInModifierParameterValue=!1;this.runtimeNodes=[];this.ignorePrevious=!1;this.lastNode=null;this.referenceParser=null;this.activeNode=null}reset(){this.ignorePrevious=!1,this.runtimeNodes=[],this.chars=[],this.inputLen=0,this.currentIndex=0,this.currentContent=[],this.rawContent=[],this.startIndex=0,this.cur=null,this.next=null,this.prev=null,this.isParsingString=!1,this.isParsingModifierName=!1,this.isInModifierParameterValue=!1,this.referenceParser=null,this.activeNode=null}checkCurrentOffsets(){this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.ignorePrevious?(this.prev="",this.ignorePrevious=!1):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen&&(this.next=this.chars[this.currentIndex+1])}isValidChar(e){return e==null||e==D.Punctuation_Semicolon?!1:this.isParsingString==!1&&e=="]"?!0:this.isParsingString==!1&&e==")"?!1:(e=="["||e=="]")&&e==this.cur||(e=="_"||e=="."||e=="["||e=="]")&&(!(this.currentContent.length>0)||K.ctypeAlpha(this.cur)||K.ctypeDigit(this.cur))?!0:K.ctypeSpace(e)?!1:this.isParsingModifierName&&(e==D.Punctuation_Minus||e==D.Punctuation_Underscore)?!0:!K.ctypePunct(e)}isRightOfInterpolationRegion(){if(this.activeNode==null||this.referenceParser==null)return!1;let e=this.activeNode._lexerRelativeOffset(this.currentIndex);return this.referenceParser.bordersInterpolationRegion(e)}scanForwardTo(e,i=0){let r=[];for(let n=this.currentIndex+1+i;n<this.inputLen;n++){let s=this.chars[n];if(s==e){r.push(s);break}else r.push(s)}return r}nextNonWhitespace(){for(let e=this.currentIndex+1;e<this.inputLen;e++){let i=this.chars[e];if(!K.ctypeSpace(i))return i}return null}pushError(e){this.referenceParser!=null&&this.referenceParser.addAntlersError(e)}guardAgainstNeighboringTypesInModifier(e){return this.lastNode instanceof ii&&this.pushError(M.makeSyntaxError(v.TYPE_MODIFIER_INCORRECT_VALUE_POSITION,this.lastNode,"Incorrect type ["+X.getPrettyTypeName(e)+"] near ["+X.getPrettyTypeName(this.lastNode)+"]")),!1}appendContent(e){e!=null&&this.currentContent.push(e)}tokenize(e,i){this.reset(),this.referenceParser=e.getParser(),this.activeNode=e,this.chars=i.split(""),this.inputLen=this.chars.length,this.runtimeNodes=[],this.lastNode=null;let r=null;this.isParsingString=!1,this.isParsingModifierName=!1;let n=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){this.checkCurrentOffsets();let o=!0;if(this.cur!=null&&this.rawContent.push(this.cur),this.isParsingString==!1&&(this.cur==D.String_Terminator_DoubleQuote||this.cur==D.String_Terminator_SingleQuote)){if(this.prev==D.String_EscapeCharacter){this.pushError(M.makeSyntaxError(v.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE,e,"Illegal string escape sequence outside string parsing."));continue}this.rawContent=[],this.rawContent.push(this.cur),n=this.cur,this.isParsingString=!0,r=this.currentIndex;continue}if(this.isInModifierParameterValue&&!this.isParsingString){let a=!1;if(!this.isParsingString&&K.ctypeSpace(this.next)){let l=this.scanForwardTo(" ",1).join("").trim().toLowerCase();l.length>0&&st.isLanguageLogicalKeyword(l)&&(a=!0)}if(this.next==D.String_Terminator_SingleQuote||this.next==D.String_Terminator_DoubleQuote||this.next==null||a){this.appendContent(this.cur);let l=this.currentContent.join("");if(l.length>0){let u=l;if(this.currentContent=[],this.rawContent=[],u.trimRight().length==0){let f=this.nextNonWhitespace();if(f==D.String_Terminator_SingleQuote||f==D.String_Terminator_DoubleQuote){this.currentContent=[],this.rawContent=[];continue}}let c=new ii;c.isVirtual=!1,c.name=u,c.value=u.trimRight(),c.startPosition=e._lexerRelativeOffset(this.currentIndex-u.length),c.endPosition=e._lexerRelativeOffset(this.currentIndex),c.parent=this.activeNode,this.guardAgainstNeighboringTypesInModifier(c),this.runtimeNodes.push(c),this.lastNode=c}if(l.length==0)continue;this.currentContent=[],this.rawContent=[],this.isInModifierParameterValue=!1;continue}if(this.next==D.Punctuation_Pipe||this.next==D.Punctuation_Colon||this.next==D.RightParent){this.isInModifierParameterValue=!1,this.appendContent(this.cur);let l=0,u=!1;if(this.currentContent[0]==D.String_Terminator_SingleQuote||this.currentContent[0]==D.String_Terminator_DoubleQuote){let d=this.scanForwardTo(this.currentContent[0]);d.length>0&&(this.currentContent=this.currentContent.concat(d),l=d.length,u=!0)}let c=this.currentContent.join("");u&&(c=c.substr(1),c=c.slice(0,-1)),this.currentContent=[],this.rawContent=[];let f=new ii;f.isVirtual=!1,f.name=c,f.value=c,f.startPosition=e._lexerRelativeOffset(this.currentIndex-c.length),f.endPosition=e._lexerRelativeOffset(this.currentIndex),f.parent=this.activeNode,this.runtimeNodes.push(f),this.guardAgainstNeighboringTypesInModifier(f),this.lastNode=f,this.currentIndex+=l}else this.appendContent(this.cur);continue}if(this.isParsingString&&this.cur==n){if(this.prev==D.String_EscapeCharacter)this.appendContent(n);else{if(this.isInModifierParameterValue){let l=this.currentContent.join(""),u=new ii;u.isVirtual=!1,u.name=l,u.value=l,u.startPosition=e._lexerRelativeOffset(r!=null?r:0),u.endPosition=e._lexerRelativeOffset(this.currentIndex),u.parent=this.activeNode,this.runtimeNodes.push(u),this.guardAgainstNeighboringTypesInModifier(u),this.lastNode=u,this.currentContent=[],this.rawContent=[],this.isParsingString=!1,this.isInModifierParameterValue=!1;continue}let a=new Dt;a.isVirtual=!1,a.startPosition=e._lexerRelativeOffset(r!=null?r:0),a.endPosition=e._lexerRelativeOffset(this.currentIndex),this.referenceParser!=null&&(a.sourceContent=this.referenceParser.getText(a.startPosition.index,a.endPosition.index+1)),a.parent=this.activeNode,n!=null&&(a.sourceTerminator=n),n=null,this.isParsingString=!1,a.value=this.currentContent.join(""),a.rawLexContent=this.rawContent.join("").trim(),this.currentContent=[],this.rawContent=[],this.guardAgainstNeighboringTypesInModifier(a),this.runtimeNodes.push(a),this.lastNode=a}continue}if(this.isParsingString&&this.cur==D.String_EscapeCharacter){if(this.next==D.String_EscapeCharacter){this.appendContent(D.String_EscapeCharacter),this.ignorePrevious=!0,this.currentIndex+=1;continue}else if(this.next==D.String_Terminator_SingleQuote){this.appendContent(D.String_Terminator_SingleQuote),this.rawContent.push(D.String_EscapeCharacter),this.rawContent.push(D.String_Terminator_SingleQuote),this.currentIndex+=1;continue}else if(this.next==D.String_Terminator_DoubleQuote){this.appendContent(D.String_Terminator_DoubleQuote),this.rawContent.push(D.String_EscapeCharacter),this.rawContent.push(D.String_Terminator_DoubleQuote),this.currentIndex+=1;continue}else if(this.next=="n"){this.appendContent(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){this.appendContent("	"),this.currentIndex+=1;continue}else if(this.next=="r"){this.appendContent("\r"),this.currentIndex+=1;continue}}if(this.isParsingString==!1){if(this.isValidChar(this.cur)&&this.isValidChar(this.next)==!1&&this.currentContent.length==0&&(this.appendContent(this.cur),o=!1),(this.next==null||this.isValidChar(this.next)==!1)&&this.currentContent.length>0){o&&this.appendContent(this.cur);let a=this.currentContent.join("").trim(),l=a.length,u=this.currentIndex-l,c=e._lexerRelativeOffset(u),f=e._lexerRelativeOffset(this.currentIndex);if(this.currentContent=[],this.rawContent=[],a==st.LogicalAnd){let p=new Ir;p.isVirtual=!1,p.content=st.LogicalAnd,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(a==st.LogicalOr){let p=new vr;p.isVirtual=!1,p.content=st.LogicalOr,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(a==st.LogicalXor){let p=new vn;p.isVirtual=!1,p.content=st.LogicalXor,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(a==st.ConstNull){let p=new yr;p.isVirtual=!1,p.content=st.ConstNull,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(a==st.ConstTrue){let p=new jr;p.isVirtual=!1,p.content=st.ConstTrue,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(a==st.ConstFalse){let p=new Ur;p.isVirtual=!1,p.content=st.ConstFalse,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(a==st.LogicalNot){let p=new yi;p.isVirtual=!1,p.content=st.LogicalNot,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(a==st.ArrList&&this.next==D.LeftParen){let p=new Pr;p.isVirtual=!1,p.content=st.ArrList,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}if(K.isNumeric(a)){let p=new Kt;p.isVirtual=!1,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,a.includes(".")?p.value=parseFloat(a):p.value=parseInt(a),p.rawLexContent=a,this.guardAgainstNeighboringTypesInModifier(p),this.runtimeNodes.push(p),this.lastNode=p;continue}if(this.runtimeNodes.length>0){let p=this.runtimeNodes[this.runtimeNodes.length-1];if(p instanceof Ai){let h=new Ht;h.isVirtual=!1,h.name=a,h.content=a,h.startPosition=c,h.endPosition=f,h.parent=this.activeNode,this.runtimeNodes.push(h),this.lastNode=h;continue}else if(p instanceof Di){let h=new ii;h.isVirtual=!1,h.name=a,h.value=a,h.startPosition=c,h.endPosition=f,h.parent=this.activeNode,this.runtimeNodes.push(h),this.lastNode=h,this.isParsingModifierName=!1;continue}}let d=new fe;d.isVirtual=!1,d.name=a,d.startPosition=c,d.endPosition=f,d.parent=this.activeNode,this.runtimeNodes.push(d),this.lastNode=d;continue}}else{this.appendContent(this.cur);continue}if(!K.ctypeSpace(this.cur)){if(this.isParsingString==!1){if(this.cur==D.Punctuation_Equals&&this.next==D.Punctuation_GreaterThan){let a=new Fi;a.isVirtual=!1,a.content="=>",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.currentContent=[],this.rawContent=[],this.currentIndex+=1;continue}if(this.cur==D.Punctuation_Comma){let a=new Gt;a.isVirtual=!1,a.content=D.Punctuation_Comma,a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==D.Punctuation_Semicolon){let a=new _i;a.isVirtual=!1,a.content=D.Punctuation_Semicolon,a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==D.Punctuation_Plus){if(this.next==D.Punctuation_Equals){let l=new Gr;l.isVirtual=!1,l.content="+=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let a=new nr;a.isVirtual=!1,a.content="+",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.isParsingModifierName==!1&&this.cur==D.Punctuation_Minus){if(K.ctypeDigit(this.next)&&K.ctypeDigit(this.prev)==!1&&this.prev!=D.RightParent&&this.isRightOfInterpolationRegion()==!1){this.appendContent(this.cur);continue}if(this.next==D.Punctuation_Equals){let l=new In;l.isVirtual=!1,l.content="-=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}else if(this.next==D.Punctuation_GreaterThan){let l=new ui;l.isVirtual=!1,l.content="->",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let a=new wi;a.isVirtual=!1,a.content="-",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==D.Punctuation_Asterisk){if(this.next==D.Punctuation_Asterisk){let l=new bn;l.isVirtual=!1,l.content="**",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}else if(this.next==D.Punctuation_Equals){let l=new Yr;l.isVirtual=!1,l.content="*=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let a=new or;a.isVirtual=!1,a.content="*",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==D.Punctuation_ForwardSlash){if(this.next==D.Punctuation_Equals){let l=new Hr;l.isVirtual=!1,l.content="/=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let a=new sr;a.isVirtual=!1,a.content="/",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==D.Punctuation_Percent){if(this.next==D.Punctuation_Equals){let l=new Wr;l.isVirtual=!1,l.content="%=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let a=new Tr;a.isVirtual=!1,a.content="%",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==D.Punctuation_LessThan){if(this.next==D.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==D.Punctuation_GreaterThan){let c=new Xr;c.isVirtual=!1,c.content="<=>",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+3),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=2;continue}let u=new $r;u.isVirtual=!1,u.content="<=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let a=new Kr;a.isVirtual=!1,a.content="<",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==D.Punctuation_GreaterThan){if(this.next==D.Punctuation_Equals){let l=new br;l.isVirtual=!1,l.content=">=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let a=new br;a.isVirtual=!1,a.content=">",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==D.Punctuation_Equals&&this.next!=D.Punctuation_Equals){let a=new ar;a.isVirtual=!1,a.content="=",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==D.Punctuation_Equals&&this.next==D.Punctuation_Equals){let a=null;if(this.currentIndex+2<this.inputLen&&(a=this.chars[this.currentIndex+2]),a==D.Punctuation_Equals){let l=new Jr;l.isVirtual=!1,l.content="===",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+3),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=2}else{let l=new ki;l.isVirtual=!1,l.content="==",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1}continue}if(this.cur==D.Punctuation_Ampersand){if(this.next==D.Punctuation_Ampersand){let l=new Ir;l.isVirtual=!1,l.content="&&",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}if(this.next==D.Punctuation_Equals){let l=new Nn;l.isVirtual=!1,l.content="&=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}let a=new Ir;a.isVirtual=!1,a.content="&",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==D.Punctuation_Pipe&&this.next!=D.Punctuation_Pipe){let a=new Ai;a.isVirtual=!1,a.content="|",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.isParsingModifierName=!0;continue}if(this.cur==D.Punctuation_Pipe&&this.next==D.Punctuation_Pipe){let a=new vr;a.isVirtual=!1,a.content="||",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+2),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.currentIndex+=1;continue}if(this.cur==D.Punctuation_Exclamation){if(this.next==D.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==D.Punctuation_Equals){let c=new Qr;c.isVirtual=!1,c.content="!==",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+3),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=2;continue}let u=new zr;u.isVirtual=!1,u.content="!=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let a=new yi;a.isVirtual=!1,a.content="!",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==D.Punctuation_Question&&this.next==D.Punctuation_Equals){let a=new qn;a.isVirtual=!1,a.content="?=",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+2),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.currentIndex+=1;continue}if(this.cur==D.Punctuation_Question&&this.next==D.Punctuation_Question){let a=new Nr;a.isVirtual=!1,a.content="??",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+2),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.currentIndex+=1;continue}if(this.cur==D.Punctuation_Question&&this.next==D.Punctuation_Colon){let a=new Nr;a.isVirtual=!1,a.content="?:",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+2),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.currentIndex+=1;continue}if(this.cur==D.Punctuation_Question){let a=new lr;a.isVirtual=!1,a.content="?",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==D.LeftParen){let a=new ti;a.isVirtual=!1,a.content="(",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==D.RightParent){let a=new ei;a.isVirtual=!1,a.content=")",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a;continue}if(this.cur==D.Punctuation_Colon){if(this.runtimeNodes.length>0&&this.runtimeNodes[this.runtimeNodes.length-1]instanceof Ht){let u=new Di;u.isVirtual=!1,u.content=":",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+1),u.parent=this.activeNode,this.runtimeNodes.push(u),this.isInModifierParameterValue==!1?this.isInModifierParameterValue=!0:this.isInModifierParameterValue=!1;continue}let a=new Mt;a.isVirtual=!1,a.content=":",a.startPosition=e._lexerRelativeOffset(this.currentIndex),a.endPosition=e._lexerRelativeOffset(this.currentIndex+1),a.parent=this.activeNode,this.runtimeNodes.push(a),this.lastNode=a,this.isParsingModifierName=!1;continue}}o&&this.appendContent(this.cur)}}let s=this.runtimeNodes.length-1;for(let o=0;o<this.runtimeNodes.length;o++){let a=null,l=null;o>0&&(a=this.runtimeNodes[o-1]),o!=s&&(l=this.runtimeNodes[o+1]);let u=this.runtimeNodes[o];u.prev=a,u.next=l}return this.runtimeNodes}};var ri=class{constructor(){this.chars=[];this.currentIndex=0;this.lastIndex=0;this.inputLength=0;this.prev=null;this.cur=null;this.next=null;this.isParsingString=!1;this.isStringKeyPath=!1;this.antlersErrors=[];this._recusriveEntryCheck=new Map}isValidChar(e){return!(this.isParsingString==!1&&K.ctypeSpace(e)||this.isParsingString==!1&&e==ri.LeftBracket||this.isParsingString==!1&&e==ri.RightBracket)}normalizePath(e){return e=e.replace(":","_"),e=e.replace(".","_"),e=e.replace("[","_"),e=e.replace("]","_"),e.replace("]","_")}getAntlersErrors(){return this.antlersErrors}mergeErrors(e){e.forEach(i=>{this.antlersErrors.push(i)})}parse(e){this.antlersErrors=[],this._recusriveEntryCheck.clear();let i=e,r=!1,n=!1,s=!1,o=!1;e.startsWith(D.AtChar)&&(s=!0,e=e.substr(1)),e.startsWith(D.Punctuation_Percent)?(o=!0,e=e.substr(1)):(e.startsWith(D.Punctuation_Dollar)&&(r=!0,e=e.substr(1)),e.startsWith(D.Punctuation_Dollar)&&(n=!0,e=e.substr(1))),this.chars=[],this.currentIndex=0,this.lastIndex=0,this.inputLength=0,this.cur=null,this.prev=null,this.next=null,this.chars=e.split(""),this.inputLength=this.chars.length,this.lastIndex=this.inputLength-1;let a=[],l=!1,u=[],c=ri.ColonSeparator,f=!1,d=null,p=!1,h=!0;if(this.isParsingString=!1,this.inputLength==0){let _=new Sn;return _._isFromEmptyFailState=!0,_}for(this.currentIndex;this.currentIndex<this.inputLength;this.currentIndex+=1){if(this.cur=this.chars[this.currentIndex],this.next=null,f?(f=!1,this.prev=""):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLength&&(this.next=this.chars[this.currentIndex+1]),this.isParsingString==!1&&this.cur==ri.ColonSeparator&&(c=ri.ColonSeparator),this.isParsingString==!1&&this.cur==ri.DotPathSeparator&&(c=ri.DotPathSeparator),this.isParsingString&&this.cur==D.String_EscapeCharacter&&this.next==d){d!=null&&a.push(d),this.currentIndex+=1;continue}if(this.cur==D.String_Terminator_SingleQuote||this.cur==D.String_Terminator_DoubleQuote)if(this.isParsingString)if(this.cur==d)if(this.prev==D.String_EscapeCharacter){a.push(this.cur);continue}else this.isParsingString=!1,h=!1;else{a.push(this.cur);continue}else{this.prev!=null&&this.prev!=D.LeftBracket&&(K.ctypeAlpha(this.prev)||K.ctypeDigit(this.prev))&&this.antlersErrors.push(M.makeSyntaxError(v.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR,null,"Unexpected string start while parsing variable path. String literals must be within array accessors.")),this.isParsingString=!0,p=!0,d=this.cur,this.isStringKeyPath=!0;continue}if(this.isParsingString){if(K.ctypeSpace(this.cur)){a.push(this.cur);continue}else if(this.cur==D.String_EscapeCharacter){if(this.next==D.String_EscapeCharacter){a.push(D.String_EscapeCharacter),this.currentIndex+=1,f=!0;continue}else if(this.next=="n"){a.push(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){a.push("	"),this.currentIndex+=1;continue}else if(this.next=="r"){a.push("\r"),this.currentIndex+=1;continue}}}if(this.isParsingString==!1&&this.cur==ri.LeftBracket){if(a.length>0){let y=new Pi;y.name=a.join(""),y.delimiter=c,u.push(y),a=[]}if(this.next==null||K.ctypeSpace(this.next)){this.antlersErrors.push(M.makeSyntaxError(v.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT,null,"Unexpected end of input or whitespace while parsing variable accessor path."));continue}let _=this.locateEndOfAccessor();this.currentIndex=_.foundOn;let g=new ri;if(u.push(g.parse(_.nestedContent)),this.mergeErrors(g.getAntlersErrors()),l=!0,this.currentIndex==-1){this.antlersErrors.push(M.makeSyntaxError(v.PARSER_CANNOT_PARSE_PATH_RECURSIVE,null,"Cannot parse variable path.")),l=!1;break}continue}if(this.isParsingString==!1&&this.next==ri.RightBracket&&l){h?a.push(this.cur):h=!0;let _=new ad;_.name=a.join(""),u.push(_),a=[],c=ri.ColonSeparator,this.currentIndex+=1,l=!1;continue}if(this.isParsingString==!1&&(this.cur==ri.LeftBracket||this.cur==ri.ColonSeparator||this.cur==ri.DotPathSeparator||this.currentIndex==this.lastIndex)){if(this.next==null||K.ctypeSpace(this.next)){if(this.cur==ri.ColonSeparator){if(a.length==0){this.antlersErrors.push(M.makeSyntaxError(v.TYPE_UNEXPECTED_BRANCH_SEPARATOR,null,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}this.antlersErrors.push(M.makeSyntaxError(v.TYPE_ILLEGAL_VARPATH_RIGHT,null,'Variable paths cannot end with the ":" character.'));continue}if(this.cur==ri.LeftBracket){this.antlersErrors.push(M.makeSyntaxError(v.TYPE_ILLEGAL_VARPATH_SUBPATH_START,null,"Illegal variable sub-path start."));continue}}this.currentIndex==this.lastIndex&&this.isValidChar(this.cur)&&(h?a.push(this.cur):h=!0);let _=new Pi;_.delimiter=c,_.name=a.join(""),p&&(_.isStringVar=p,_.name=i.substr(1),_.name=_.name.slice(0,-1),p=!1),u.push(_),a=[];continue}else{a.push(this.cur);continue}}let T=u.length;if(T>0){let _=u[T-1];(_ instanceof Pi||_ instanceof Sn)&&(_.isFinal=!0)}let N=new Sn;return N.isStrictTagReference=o,N.isStrictVariableReference=r,N.isExplicitVariableReference=n,N.pathParts=u,N.originalContent=e,N.isVariableVariable=s,N.normalizedReference=e.replace(":","."),N}locateEndOfAccessor(){let e=[],i=1,r=-1,n="",s=!1,o=null;if(this._recusriveEntryCheck.has(this.currentIndex+1)==!1)this._recusriveEntryCheck.set(this.currentIndex+1,!0);else return{foundOn:r,nestedContent:""};for(let a=this.currentIndex+1;a<this.inputLength;a++){let l=this.chars[a],u=null,c=null;if(a>0&&(c=this.chars[a-1]),a+1<this.inputLength&&(u=this.chars[a+1]),s==!1&&(l==D.String_Terminator_SingleQuote||l==D.String_Terminator_DoubleQuote)){s=!0,o=l,e.push(l);continue}if(s==!1&&l==ri.LeftBracket){i+=1,e.push(l);continue}if(s&&l==o&&c!=D.String_EscapeCharacter){e.push(l),s=!1,o=null;continue}if(s==!1&&l==ri.RightBracket)if(i-=1,i==0){r=a,n=e.join("");break}else{e.push(l);continue}else e.push(l);s==!1&&K.ctypeSpace(u)&&this.antlersErrors.push(M.makeSyntaxError(v.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path.")),u==null&&this.antlersErrors.push(M.makeSyntaxError(v.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path."))}return{foundOn:r,nestedContent:n}}},Hn=ri;Hn.ColonSeparator=":",Hn.LeftBracket="[",Hn.RightBracket="]",Hn.DotPathSeparator=".";var gp=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.cur=null;this.prev=null;this.pathParser=new Hn;this.lexer=new mp;this.activeNode=null}reset(){this.chars=[],this.inputLen=0,this.currentIndex=0,this.cur=null,this.prev=null}canBeClosingTag(e){var r;let i=(r=e.name)==null?void 0:r.name;return i=="elseif"||i=="else"?!0:e.name==null?!1:e.name.content.startsWith("/")}parseNode(e){var c,f,d,p;if(this.activeNode=e,this.reset(),e.content.startsWith("*subrecursive")){let h=e.content;h=h.trim(),h=K.trimRight(h,"*"),h=h.substr(13);let T=new _r;return e.copyBasicDetailsTo(T),T.originalNode=e,T.name=new Yi,T.name.name=h,T.isNestedRecursive=!0,h.trim().startsWith("[")||(T.pathReference=this.pathParser.parse(h)),T.mergeErrors(this.pathParser.getAntlersErrors()),T.content=h,T.runtimeContent=h,T}if(e.content.trim().startsWith("*recursive")){let h=e.content;h=h.trim(),h=K.trimRight(h,"*"),h=h.substr(10).trim();let T=new _r;return e.copyBasicDetailsTo(T),T.originalNode=e,T.name=new Yi,T.name.name=h,T.pathReference=this.pathParser.parse(h),T.mergeErrors(this.pathParser.getAntlersErrors()),T.content=h,T.runtimeContent=h,T}this.chars=e.content.split(""),this.inputLen=this.chars.length;let i=[],r=!1,n="",s=!1,o=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.cur=this.chars[this.currentIndex],this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),r==!1){if(s==!1&&(this.cur==D.String_Terminator_DoubleQuote||this.cur==D.String_Terminator_SingleQuote)){o=this.cur,s=!0,i.push(this.cur);continue}if(s&&K.ctypeSpace(this.cur)){i.push(this.cur);continue}if(s&&this.cur==o&&this.prev!=D.String_EscapeCharacter){o=null,s=!1,i.push(this.cur);continue}if(K.ctypeSpace(this.cur)||this.currentIndex==this.inputLen-1||this.cur==D.Punctuation_Pipe){if(i.length==0)continue;K.ctypeSpace(this.cur)||this.cur!=D.Punctuation_Pipe&&i.push(this.cur),n=i.join(""),r=!0;break}i.push(this.cur)}let a=e.getContentRelativeStartIndex();if(e.nameStartsOn=e.relativeOffset(a,a),e.nameStartsOn!=null&&(e.nameEndsOn=e.nameStartsOn.shiftRight(n.length-1),n.includes(D.Punctuation_Colon))){let h=n.indexOf(D.Punctuation_Colon);e.nameMethodPartStartsOn=e.nameStartsOn.shiftRight(h+1)}e.name=hp.getIdentifier(n),y_.analyzeNode(e),e.parameters=this.getParameters(e),e.hasParameters=e.parameters.length>0,e.hasParameters&&(y_.analyzeParametersForModifiers(e),e.resetContentCache()),e.pathReference=this.pathParser.parse(n),e.mergeErrors(this.pathParser.getAntlersErrors()),e.pathReference!=null&&e.pathReference.isStrictTagReference&&(e.name.name=e.name.name.substr(1),e.name.content=e.name.content.substr(1)),e.isClosingTag=this.canBeClosingTag(e);let l=[];e.isClosingTag==!1&&(l=this.lexer.tokenize(e,e.getContent())),e.runtimeNodes=l;let u=e.content.trim();if(ai.isConditionalStructure(e)&&e.name.name!="else"&&l.length==0&&u!="/if"&&u!="/unless"&&u!="/endunless"&&u!="endif"&&u!="endunless"&&u!="/endif"&&e.getContent().trim().length==0&&this.pushConditionWithoutExpression(e),e.name.name=="endif"){let h=e.copyBasicDetails(),T=e.getParser();return T!=null&&h.withParser(T),h.name=new Yi,h.name.name="if",h.name.compound="if",h.isClosingTag=!0,h.content=" /if ",h.originalNode=e,h}if(e.name.name=="unless"){let h=e.copyBasicDetails(),T=e.getParser();if(T!=null&&h.withParser(T),h.name=new Yi,h.name.name="if",h.name.compound="if",e.isClosingTag==!1){let N=(c=e.getContent())!=null?c:"",_=" if !("+N+") ";h.content=_,h.originalNode=e,h.resetContentCache(),h.runtimeNodes=this.lexer.tokenize(h,(f=h.getContent())!=null?f:""),this.testUnlessContent(h)}else h.originalNode=e,h.content=" /if ";return h}else if(e.name.name=="elseunless"){let h=e.copyBasicDetails(),T=e.getParser();T!=null&&h.withParser(T),h.name=new Yi,h.name.name="elseif",h.name.compound="elseif";let N=(d=e.getContent())!=null?d:"",_=" elseif !("+N+") ";return h.content=_,h.originalNode=e,h.resetContentCache(),h.runtimeNodes=this.lexer.tokenize(h,(p=h.getContent())!=null?p:""),this.testUnlessContent(h),h}else if(e.name.name=="endunless"){let h=e.copyBasicDetails(),T=e.getParser();return T!=null&&h.withParser(T),h.name=new Yi,h.name.name="if",h.name.compound="if",h.isClosingTag=!0,h.content=" /if ",h.originalNode=e,h}return e}pushError(e){this.activeNode!=null&&this.activeNode.pushError(e)}testUnlessContent(e){var r;let i=(r=e.getContent())!=null?r:"";if(i=i.replace("!",""),i=i.replace("(",""),i=i.replace(")","").trim(),i.length==0){this.pushConditionWithoutExpression(e);return}}pushConditionWithoutExpression(e){this.pushError(M.makeSyntaxError(v.TYPE_PARSE_EMPTY_CONDITIONAL,e,"Condition structure lacks comparison expression."))}getParameters(e){var E,U,w,z,de,H,Z,ue,te;let i=(E=e.getContent())!=null?E:"",r=i.split(""),n=[],s=[],o=r.length,a=0;if(e.name!=null){let Q=K.trimLeft(e.content," "),qe=e.content.length-Q.length,ht=e.name.content.length;qe>0?a=qe+ht:a=ht}let l=!1,u=[],c="",f=0,d=0,p=!1,h=null,T=-1,N=-1,_=-1,g=-1,y=-1,x=-1,L=null;for(let Q=0;Q<o;Q++){let qe=r[Q],ht=null,pi=null;if(Q+1<o&&(pi=r[Q+1]),p?(ht="",p=!1):Q>0&&(ht=r[Q-1]),l==!1&&K.ctypeSpace(qe)){u=[],T=-1,N=-1,_=-1,g=-1,y=-1,x=-1;continue}if(l==!1&&qe==D.Punctuation_Equals){if(u.length>0&&(K.ctypeAlpha(u[0])||K.ctypeDigit(u[0])||u[0]==D.Punctuation_Colon||u[0]==D.AtChar)==!1){u=[];continue}if(Q+1>=o){this.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_END_OF_INPUT,e,"Unexpected end of input"));continue}let ft=null;if(Q+1<o&&(ft=r[Q+1]),ht==D.Punctuation_Equals){u=[],T=-1,N=-1,_=-1,g=-1,y=-1,x=-1;continue}if(K.ctypeSpace(ft)||ft==D.Punctuation_Equals){u=[],T=-1,N=-1,_=-1,g=-1,y=-1,x=-1;continue}u.length>0&&(g=Q,y=Q,c=u.join(""),f=d,l=!0,u=[]),pi==D.String_Terminator_DoubleQuote&&(h=D.String_Terminator_DoubleQuote,L=D.String_Terminator_DoubleQuote,Q+=1),pi==D.String_Terminator_SingleQuote&&(h=D.String_Terminator_SingleQuote,L=D.String_Terminator_SingleQuote,Q+=1);continue}if(l&&qe==D.String_EscapeCharacter){let ft=null;if(Q+1<o&&(ft=r[Q+1]),ft==D.String_EscapeCharacter){u.push(D.String_EscapeCharacter),Q+=1,p=!0;continue}if(ft==D.String_Terminator_DoubleQuote){u.push(D.String_Terminator_DoubleQuote),Q+=1;continue}if(ft==D.String_Terminator_SingleQuote){u.push(D.String_Terminator_SingleQuote),Q+=1;continue}if(ft=="n"){u.push(`
`),Q+=1;continue}if(ft=="r"){u.push("\r"),Q+=1;continue}}if(l==!1&&(h!=null&&qe==h||h==null&&K.ctypeSpace(qe))&&n.push(u.join("")),l&&(h!=null&&qe==h||h==null&&K.ctypeSpace(qe))){let ft=u.join("");x=Q,N=Q,l=!1,h=null,u=[];let It=new qs;if(c.startsWith(D.Punctuation_Colon)&&(It.isVariableReference=!0,c=c.substr(1)),It.nameDelimiter=L,It.name=c,It.value=ft,It.nameDelimiter==null&&(It.hasValidValueDelimiter=!1,It.nameDelimiter='"'),It.startPosition=(U=e.relativePositionFromOffset(d,f))!=null?U:null,Q+1>o){this.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER,e,"Unexpected end of input while parsing parameter content.")),It.parent=e,s.push(It),c="";continue}It.endPosition=(w=e.relativePositionFromOffset(Q+1,Q+1))!=null?w:null,It.parent=e,It.blockPosition={start:(z=e.relativeOffset(T,T))!=null?z:null,end:(de=e.relativeOffset(N,N))!=null?de:null},It.namePosition={start:(H=e.relativeOffset(_,_))!=null?H:null,end:(Z=e.relativeOffset(g,g))!=null?Z:null},It.valuePosition={start:(ue=e.relativeOffset(y+2,y+2))!=null?ue:null,end:(te=e.relativeOffset(x,x))!=null?te:null},s.push(It),c="",T=-1,N=-1,_=-1,g=-1,y=-1,x=-1;continue}if(l==!1&&(qe==D.String_Terminator_DoubleQuote||qe==D.String_Terminator_SingleQuote)&&Q>a)break;u.push(qe),T==-1&&(T=Q),_==-1&&(_=Q),u.length==1&&(d=Q+1)}if(h!=null){let Q=e;if(n.length>0){let qe=n[n.length-1],ht=e.content.indexOf(qe);if(ht>=0){let pi=new ne;pi.startPosition=e.relativeOffset(ht-2,ht-2),pi.endPosition=e.relativeOffset(ht+qe.length,ht+qe.length),Q=pi}}this.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_END_OF_INPUT,Q,"Unexpected string literal while parsing parameters."))}return s}};function Mu(t){return t.length==0?null:t[0].startPosition}var kS=ee(ed()),qu=class{static regions(){return this.noParseRegions}static clear(){this.noParseRegions.clear()}static registerNoParseContent(e){let i=kS.Md5.hashStr(e);return this.noParseRegions.set(i,e),i}};qu.noParseRegions=new Map;function T_(t,e){let i=new Set(t),r=new Set(e),n=new Set([...i].filter(s=>r.has(s)));return Array.from(n)}var b_=class{constructor(){this.closingTagIndex=new Map;this.closingTagIndexCount=new Map;this.openTagIndexCount=new Map;this.closingTagNames=new Map;this.parentNode=null;this.stackCount=0;this.createdExecutionBranches=[];this.document=null}getClosingCandidates(e){var i,r;if((e instanceof G||e instanceof St)&&e.isClosingTag==!1){let n=(r=(i=e.name)==null?void 0:i.compound)!=null?r:"";return n=="if"?["if","elseif","else"]:n=="elseif"?["elseif","else","if"]:n=="else"?["if"]:[n]}return[]}buildCloseIndex(e){var i,r,n;e.forEach(s=>{var o,a,l,u,c,f,d,p,h,T;if(!(s instanceof _r)&&!((s instanceof G||s instanceof St)&&s.isSelfClosing)&&(s instanceof G||s instanceof St)&&s.isClosingTag){this.closingTagIndex.has(this.stackCount)==!1&&this.closingTagIndex.set(this.stackCount,new Map),this.closingTagIndexCount.has(this.stackCount)==!1&&this.closingTagIndexCount.set(this.stackCount,new Map);let N=(a=(o=s.name)==null?void 0:o.compound)!=null?a:"";((l=this.closingTagIndex.get(this.stackCount))==null?void 0:l.has(N))==!1&&((u=this.closingTagIndex.get(this.stackCount))==null||u.set(N,[]),(c=this.closingTagIndexCount.get(this.stackCount))==null||c.set(N,0)),(d=(f=this.closingTagIndex.get(this.stackCount))==null?void 0:f.get(N))==null||d.push(s);let _=(h=(p=this.closingTagIndexCount.get(this.stackCount))==null?void 0:p.get(N))!=null?h:0;(T=this.closingTagIndexCount.get(this.stackCount))==null||T.set(N,_+1)}}),this.closingTagNames.has(this.stackCount)==!1&&this.closingTagNames.set(this.stackCount,[]),this.closingTagIndex.has(this.stackCount)&&(this.closingTagNames.set(this.stackCount,Array.from((r=(i=this.closingTagIndex.get(this.stackCount))==null?void 0:i.keys())!=null?r:[])),(n=this.closingTagIndex.get(this.stackCount))==null||n.forEach((s,o)=>{var u,c,f,d,p,h,T;let a=s.length;if(a==0)return;let l=s[a-1];for(let N=0;N<a;N++){let _=e[N];if(_ instanceof G||_ instanceof St){if(_ instanceof _r)continue;if(_.index>=l.index)break;let g=(c=(u=_.name)==null?void 0:u.compound)!=null?c:"";if(_.isClosingTag==!1&&o==g&&!_.isSelfClosing){this.openTagIndexCount.has(this.stackCount)==!1&&this.openTagIndexCount.set(this.stackCount,new Map),((f=this.openTagIndexCount.get(this.stackCount))==null?void 0:f.has(o))==!1&&((d=this.openTagIndexCount.get(this.stackCount))==null||d.set(o,0));let y=(h=(p=this.openTagIndexCount.get(this.stackCount))==null?void 0:p.get(o))!=null?h:0;(T=this.openTagIndexCount.get(this.stackCount))==null||T.set(o,y+1)}}}}))}getScanForList(e){var i;if(e instanceof G||e instanceof St){let r=(i=e.name)==null?void 0:i.compound;if(r=="else")return["if"];if(r=="elseif")return["elseif","else","if"];if(e.isClosingTag==!1){let n=this.getClosingCandidates(e),s=this.closingTagNames.get(this.stackCount);return T_(n,s)}}return[]}canPossiblyClose(e){var i,r;if(e instanceof _r)return!1;if(e instanceof St||e instanceof G){if(e.isComment||e.isSelfClosing)return!1;let n=(r=(i=e.name)==null?void 0:i.compound)!=null?r:"";if(n=="else"||n=="elseif")return!0;if(e.isClosingTag==!1){let s=this.getClosingCandidates(e),o=this.closingTagNames.get(this.stackCount);return T_(s,o).length>0}}return!1}findClosingPair(e,i,r){var a,l,u,c;let n=i.runtimeNodes.length,s=e.length,o=0;for(let f=0;f<s;f++){let d=e[f];if(d instanceof G||d instanceof St)if(i.endPosition!=null&&d.startPosition!=null){if(i.endPosition.isBefore(d.startPosition)){if(d.isClosingTag&&d.isOpenedBy!=null||d.isSelfClosing)continue;let p=(l=(a=d.name)==null?void 0:a.compound)!=null?l:"";if(d.isClosingTag==!1){if(r.includes(p)){let h=(u=this.openTagIndexCount.get(this.stackCount))==null?void 0:u.get(p),T=(c=this.closingTagIndexCount.get(this.stackCount))==null?void 0:c.get(p);h!=T&&d.runtimeNodes.length>=n,o+=1}continue}if(r.includes(p)&&o>0){o-=1;continue}if(o==0&&r.includes(p)){d.isOpenedBy=i,i.isClosedBy=d;break}}}else continue}}associate(e,i){var s,o,a,l,u,c,f;this.document=i;let r=[{documentNodes:e,parent:null}],n=[];for(;r.length>0;){let d=r.pop();if(d==null)continue;let p=d.documentNodes;this.parentNode=d.parent,this.stackCount+=1,this.buildCloseIndex(p),p=ai.pairConditionals(p),p.forEach(_=>{if((_ instanceof G||_ instanceof St)&&this.canPossiblyClose(_)){if(ai.isConditionalStructure(_))return;let g=this.getScanForList(_);this.findClosingPair(p,_,g)}});let h=p.length;for(let _=0;_<h;_++){let g=p[_];if((g instanceof G||g instanceof St)&&g.isClosedBy!=null)for(let y=_+1;y<h;y++){let x=p[y];if(x.index>g.isClosedBy.index)break;if(x.parent=g,g.children.push(x),x instanceof G&&x.index==g.index){x.parent=g;break}}}p.forEach(_=>{if((_ instanceof G||_ instanceof St)&&_.children.length>0){let g=[];_.children.forEach(y=>{y.parent!=null&&y.parent.index==_.index&&(y.parent=_,g.push(y))}),r.push({documentNodes:g,parent:_})}});let T=[];p.forEach(_=>{this.parentNode==null?_.parent==null&&T.push(_):_.parent==this.parentNode&&T.push(_)}),T=this.reduceConditionals(T,i);let N=new Map;p.forEach(_=>{var g,y,x,L;if((_ instanceof G||_ instanceof St)&&_.isClosedBy!=null&&this.document!=null){let E=this.document.getText(((y=(g=_.endPosition)==null?void 0:g.index)!=null?y:0)+1,(L=(x=_.isClosedBy.startPosition)==null?void 0:x.index)!=null?L:0);_.runtimeContent=E}});for(let _=0;_<T.length;_++){let g=T[_],y=(s=g.refId)!=null?s:"";if(N.set(y,1),(g instanceof G||g instanceof St)&&g.isComment==!1&&((o=g.name)==null?void 0:o.name)=="noparse"&&!(g instanceof li)&&g.isClosingTag==!1){if(g.isClosedBy==null){g.pushError(M.makeSyntaxError(v.TYPE_NO_PARSE_UNASSOCIATED,g,"Encountered noparse region without a closing tag. All noparse regions must be closed."));continue}let x=g.content;this.document!=null&&(x=this.document.getText(((l=(a=g.endPosition)==null?void 0:a.index)!=null?l:0)+1,(f=(c=(u=g.isClosedBy)==null?void 0:u.startPosition)==null?void 0:c.index)!=null?f:0));let L=new li,E=g.getParser();E!=null&&L.withParser(E),g.copyBasicDetailsTo(L),L.name=new Yi,L.name.name="noparse",L.name.compound="noparse",L.content=qu.registerNoParseContent(x),L.originalNode=g,L.isClosedBy=g.isClosedBy,L.parent=g.parent,T[_]=L}}if(this.parentNode!=null&&(this.parentNode instanceof St||this.parentNode instanceof G)&&(this.parentNode.children=this.cleanNodes(T),this.parentNode.parent!=null&&this.parentNode.parent instanceof G)){let _=this.parentNode.parent.children,g=[];_.forEach(y=>{var x;N.has((x=y.refId)!=null?x:"")==!1&&g.push(y)}),this.parentNode.parent.children=this.cleanNodes(g)}this.stackCount<=1&&(n=T)}return this.createdExecutionBranches.length>0&&this.createdExecutionBranches.forEach(d=>{d.head!=null&&(d.nodes=d.head.children)}),n}cleanNodes(e){let i=[],r=[];for(let n=0;n<e.length;n++){let s=e[n],o=s.refId;if(r.includes(o))break;i.push(s),r.push(o)}return i}findEndOfBranch(e,i,r){let n=[],s=r,o=null;for(let a=0;a<e.length;a++){let l=e[a];if((l instanceof G||l instanceof St)&&l.isOpenedBy!=null&&l.isOpenedBy==i){o=l;break}else n.push(l)}return{children:n,tail:o,offset:s}}reduceConditionals(e,i){var n,s,o,a,l,u,c,f,d,p,h,T;let r=[];for(let N=0;N<e.length;N++){let _=e[N];if((_ instanceof G||_ instanceof St)&&_.isComment==!1&&_.isClosingTag==!1&&_.isClosedBy!=null)if(((s=(n=_.name)==null?void 0:n.compound)!=null?s:"")=="if"){let y=new tt;y.index=_.index,y.chain.push(_.index),y.fragment=_.fragment,y.fragmentPosition=_.fragmentPosition,y.containsAnyFragments=_.containsAnyFragments,y.containsChildStructures=_.containsChildStructures;let x=(a=(o=_.startPosition)==null?void 0:o.offset)!=null?a:0,L=_.getFinalClosingTag(),E=((u=(l=L.endPosition)==null?void 0:l.offset)!=null?u:0)+1;y.nodeContent=i.getText(x,E),this.parentNode!=null&&(y.parent=this.parentNode);let U=null,w=!0,z=0;for(;w;){if(z+=1,z>b_.ForceBreakLimit){w=!1;break}if(_ instanceof G||_ instanceof St){let de=this.findEndOfBranch(e.slice(N+1),_,N),H=new id,Z=de.tail;H.head=_,H.tail=Z,H.nodes=this.cleanNodes(_.children);let ue=((f=(c=_.endPosition)==null?void 0:c.offset)!=null?f:0)+1,te=(h=(p=(d=_.isClosedBy)==null?void 0:d.startPosition)==null?void 0:p.offset)!=null?h:0,Q=i.getText(ue,te);if(H.documentText=Q,i.shouldParseChildDocument()&&(H.childDocument=xt.childFromText(H.documentText,Mu(H.nodes))),Z==null&&(Z=H.head.isClosedBy),Z!=null&&Z.startPosition!=null&&(H.startPosition=Z.startPosition),Z!=null&&(H.index=Z.index),H.nodes.length>0){let qe=H.nodes[H.nodes.length-1];qe.endPosition!=null&&(H.endPosition=qe.endPosition)}else Z!=null&&Z.endPosition!=null&&(H.endPosition=Z.endPosition);if(this.createdExecutionBranches.push(H),y.logicBranches.push(H),(Z==null?void 0:Z.isClosingTag)&&((T=Z.name)==null?void 0:T.compound)=="if"){U=de.offset,w=!1;break}else Z!=null&&y.chain.push(Z.index),N=de.offset,Z instanceof G&&(_=Z)}else w=!1}if(y.logicBranches.length>0){let de=y.logicBranches[0],H=y.logicBranches[y.logicBranches.length-1];de.startPosition!=null&&(y.startPosition=de.startPosition),H.endPosition!=null&&(y.endPosition=H.endPosition)}if(r.push(y),U!=null&&U==e.length)break}else r.push(_);else r.push(_)}return r}},Jo=b_;Jo.ForceBreakLimit=1e5;var _p=class{static associateRecursiveParent(e){var i,r;for(let n=0;n<e.length;n++){let s=e[n];if(s instanceof _r){let o="*recursive "+((i=s.name)==null?void 0:i.name);if(n-1<0){s.pushError(M.makeSyntaxError(v.TYPE_RECURSIVE_NODE_INVALID_POSITION,s,"Unpaired recursive node. All recursive nodes must have a parent node introducing them."));continue}let a=null;for(let l=n-1;l>=0;l-=1){let u=e[l];if(!(u instanceof Qe)&&u instanceof G&&u.isClosedBy!=null){if(s.isNestedRecursive){if(u.content.trim()==((r=s.name)==null?void 0:r.name)){a=u;break}}else if(u.runtimeContent.includes(o)&&K.substringCount(s.runtimeContent,"*recursive")==1){a=u;continue}else if(a!=null)break}}if(a==null)continue;s.isNestedRecursive?(a.hasRecursiveNode=!0,s.recursiveParent=a,a.recursiveReference=s):a.parent!=null?a.parent instanceof G&&(a.parent.hasRecursiveNode=!0,a.parent.recursiveReference=s,s.recursiveParent=a.parent):(a.hasRecursiveNode=!0,s.recursiveParent=a,a.recursiveReference=s)}}}};var Zo=class{static getNearText(e){var r,n,s,o;if(e instanceof fe)return e.name;if(e instanceof Kt)return(n=(r=e.value)==null?void 0:r.toString())!=null?n:"";if(e instanceof Dt)return e.value;if(e instanceof Ht)return e.name;if(e instanceof ii)return e.value;if(e instanceof Pr||e instanceof vn||e instanceof yr||e instanceof jr||e instanceof Ur||e instanceof yi||e instanceof Zr||e instanceof Gt||e instanceof _i||e instanceof Gr||e instanceof nr||e instanceof In||e instanceof wi||e instanceof bn||e instanceof Yr||e instanceof or||e instanceof Hr||e instanceof sr||e instanceof Wr||e instanceof Tr||e instanceof Xr||e instanceof $r||e instanceof Kr||e instanceof Mn||e instanceof br||e instanceof ar||e instanceof Jr||e instanceof ki||e instanceof Ir||e instanceof Ai||e instanceof vr||e instanceof Qr||e instanceof zr||e instanceof qn||e instanceof Nr||e instanceof lr||e instanceof ti||e instanceof ei||e instanceof Di||e instanceof Mt||e instanceof as||e instanceof Fi||e instanceof Nn||e instanceof ui)return e.content;let i="";return e instanceof G?e.originalNode!=null?i=e.originalNode.getContent():i=(o=(s=e.startPosition)==null?void 0:s.line.toString())!=null?o:"":e.originalAbstractNode!=null?i=e.originalAbstractNode.rawContent():i=e.rawContent(),i.length>15&&(i=i.substr(0,-15)),i}};var ea=class{};ea.deferredCoreLibraries=["arr","array","str","string","method","math","sys","convert","scope","stopwatch","file","path","url","request","json","datetime"];var wt=class{};wt.ARR_PLUCK="pluck",wt.ARR_TAKE="take",wt.ARR_SKIP="skip",wt.ARR_MAKE="arr",wt.ARR_ORDERBY="orderby",wt.ARR_GROUPBY="groupby",wt.ARR_MERGE="merge",wt.QUERY_WHERE="where",wt.STRUCT_SWITCH="switch",wt.BITWISE_AND="bwa",wt.BITWISE_OR="bwo",wt.BITWISE_XOR="bxor",wt.BITWISE_NOT="bnot",wt.BITWISE_SHIFT_LEFT="bsl",wt.BITWISE_SHIFT_RIGHT="bsr",wt.operators=["pluck","take","arr","skip","orderby","groupby","merge","where","switch","bwa","bwo","bxor","bsl","bsr"];var Wt=class{constructor(){this.pathParser=new Hn;this.tokens=[];this.createdVariables=[];this.createdModifierChains=[];this.createdLanguageOperators=[];this.createdArrays=[];this.tracedAssignments=[];this.mergedVariablePaths=[];this.mergedComponents=new Map;this.modifierNameMapping=new Map;this.isRealModifierSeparator=new Map;this.isRoot=!0;this.retriggerNonVirtualGroupMembers=[]}hasModifierConstruct(e){return this.modifierNameMapping.has(e)}getModifierConstruct(e){return this.modifierNameMapping.get(e)}isActualModifierSeparator(e){return this.isRealModifierSeparator.has(e)}isMergedVariableComponent(e){return this.mergedComponents.has(e)}getMergedVariable(e){return this.mergedComponents.get(e)}getMergedVariablePaths(){return this.mergedVariablePaths}getCreatedModifierChains(){return this.createdModifierChains}getCreatedLangaugeOperators(){return this.createdLanguageOperators}getCreatedArrays(){return this.createdArrays}getCreatedVariables(){return this.createdVariables}getRuntimeAssignments(){return this.tracedAssignments}getAssignedVariables(){let e=[],i=[];for(let r=0;r<this.tracedAssignments.length;r++){let n=this.tracedAssignments[r];n.target instanceof fe&&i.includes(n.target.name)==!1&&(i.push(n.target.name),e.push(n.target))}return e}getAssignedVariableNames(){let e=[];for(let i=0;i<this.tracedAssignments.length;i++){let r=this.tracedAssignments[i];r.target instanceof fe&&e.includes(r.target.name)==!1&&e.push(r.target.name)}return e}reset(){this.tokens=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.createdArrays=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.tracedAssignments=[],this.createdArrays=[],this.mergedVariablePaths=[],this.mergedComponents.clear(),this.modifierNameMapping.clear()}parse(e){return this.tokens=e,this.tokens=this.combineVariablePaths(this.tokens),this.tokens=this.createLanguageOperators(this.tokens),this.tokens=this.createLogicalGroups(this.tokens),this.tokens=this.associateMethodCalls(this.tokens),this.tokens=this.createTupleLists(this.tokens),this.tokens=this.createLibraryInvocations(this.tokens),this.tokens=this.associateModifiers(this.tokens),this.tokens=this.createNullCoalescenceGroups(this.tokens),this.tokens=this.correctTypes(this.tokens),this.tokens=this.createTernaryGroups(this.tokens),this.tokens=this.applyOperationOrder(this.tokens),this.validateNeighboringOperators(this.tokens),this.tokens=this.createLogicGroupsToRemoveMethodInvocationAmbiguity(this.tokens),this.tokens=this.createLogicGroupsToResolveOperatorAmbiguity(this.tokens),this.validateNoDanglingLogicGroupEnds(this.tokens),this.isRoot&&(this.tokens=this.insertAutomaticStatementSeparators(this.tokens),this.retriggerNonVirtualGroupMembers.length>0&&this.retriggerNonVirtualGroupMembers.forEach(i=>{this.markAllNonVirtualAsListGroupMember(i)})),this.createSemanticGroups(this.tokens)}setIsRoot(e){return this.isRoot=e,this}validateNeighboringOperators(e){let i=e.length;for(let r=0;r<i;r++){let n=e[r];if(Wt.isOperatorType(n)){if(r+1>=i){n.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_OPERATOR,n,"Unexpected operator while parsing input text."));return}let s=e[r+1];if(Wt.isOperatorType(s)){s.pushError(M.makeSyntaxError(v.TYPE_OPERATOR_INVALID_ON_RIGHT,s,"Unexpected operator while parsing input text."));continue}}}}static isAssignmentOperator(e){return e instanceof Gr||e instanceof Hr||e instanceof ar||e instanceof Wr||e instanceof Yr||e instanceof In}static isOperatorType(e){return e instanceof Gr||e instanceof Hr||e instanceof ar||e instanceof Wr||e instanceof Yr||e instanceof In||e instanceof qn||e instanceof Zr||e instanceof Ir||e instanceof yi||e instanceof vr||e instanceof vn||e instanceof Nr||e instanceof Nn||e instanceof nr||e instanceof sr||e instanceof bn||e instanceof Tr||e instanceof or||e instanceof wi||e instanceof ki||e instanceof br||e instanceof Mn||e instanceof Kr||e instanceof $r||e instanceof zr||e instanceof Qr||e instanceof Xr||e instanceof Jr}markAllNonVirtualAsListGroupMember(e){e.forEach(i=>{if(i instanceof He||i instanceof Sr||i instanceof Vn){i.start!=null&&i.start.isVirtual==!1&&(i.start.isListGroupMember=!0),i.end!=null&&i.end.isVirtual==!1&&(i.end.isListGroupMember=!0),i.scopeOperator!=null&&(i.scopeOperator.isListGroupMember=!0),i.nodes.forEach(r=>{this.markAllNonVirtualAsListGroupMember([r])});return}else i instanceof Yt&&(i.separatorToken!=null&&i.separatorToken.isVirtual==!1&&(i.separatorToken.isListGroupMember=!0),this.markAllNonVirtualAsListGroupMember(i.nodes));i.isVirtual==!1&&(i.isListGroupMember=!0),i.originalAbstractNode!=null&&i.originalAbstractNode!=i&&this.markAllNonVirtualAsListGroupMember([i.originalAbstractNode])})}markAllNonVirtualAsSwitch(e){e.forEach(i=>{if(i instanceof He||i instanceof Sr||i instanceof Vn){i.start!=null&&i.start.isVirtual==!1&&(i.start.isSwitchGroupMember=!0),i.end!=null&&i.end.isVirtual==!1&&(i.end.isSwitchGroupMember=!0),i.scopeOperator!=null&&(i.scopeOperator.isSwitchGroupMember=!0),i.nodes.forEach(r=>{this.markAllNonVirtualAsSwitch([r])});return}else i instanceof Yt&&(i.separatorToken!=null&&i.separatorToken.isVirtual==!1&&(i.separatorToken.isSwitchGroupMember=!0),this.markAllNonVirtualAsSwitch(i.nodes));i.isVirtual==!1&&(i.isSwitchGroupMember=!0),i.originalAbstractNode!=null&&i.originalAbstractNode!=i&&this.markAllNonVirtualAsSwitch([i.originalAbstractNode])})}validateNoDanglingLogicGroupEnds(e){e.forEach(i=>{i instanceof ei&&i.pushError(M.makeSyntaxError(v.TYPE_LOGIC_GROUP_NO_START,i,"Unexpected [T_LOGIC_END] while parsing input text."))})}isValidModifierValue(e){return e instanceof ii||e instanceof fe||e instanceof jr||e instanceof Ur||e instanceof yr||e instanceof Kt||e instanceof Dt}wrapNumberInVariable(e){var r,n,s,o;let i=new fe;return i.startPosition=e.startPosition,i.endPosition=e.endPosition,i.name=(n=(r=e.value)==null?void 0:r.toString())!=null?n:"",i.content=(o=(s=e.value)==null?void 0:s.toString())!=null?o:"",i.originalAbstractNode=e,i.refId=e.refId,i.modifierChain=e.modifierChain,i.index=e.index,this.createdVariables.push(i),i}wrapArithmeticModifier(e,i){let r=new Ht;return r.startPosition=e.startPosition,r.endPosition=e.endPosition,r.originalAbstractNode=e,r.content=i,r.name=i,r.index=e.index,r}combineVariablePaths(e){let i=[],r=e.length;for(let n=0;n<r;n++){let s=e[n],o=i.length;if(s instanceof Mt){if(o==0){s.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE,s,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}if(n+1>r){let u="";if(n>0){let c=e[n-1];u=Zo.getNearText(c)}s.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP,s,'Unexpected end of input while parsing input text near "'+u+Zo.getNearText(s)+'".'));continue}let a=i[o-1],l=e[n+1];if(l instanceof Kt&&mt.distance(a,l)==1&&(l=this.wrapNumberInVariable(l)),a instanceof fe&&l instanceof fe&&mt.distance(a,l)==1){i.pop(),mt.mergeVarContentRight(":",s,l),mt.mergeVarRight(a,l),i.push(l),this.createdVariables.push(l),this.mergedVariablePaths.push(l),this.mergedComponents.set(s,l),this.mergedComponents.set(a,l),this.mergedComponents.set(l,l),n+=1;continue}else{i.push(s);continue}}else if(s instanceof Dt&&o>0){if(n+1>=r){i.push(s);continue}let a=i[o-1],l=e[n+1];if(a instanceof fe&&l instanceof fe&&mt.distance(a,s)<=1&&mt.distance(s,l)<=1){i.pop(),mt.mergeVarContentLeft(s.sourceTerminator+s.value+s.sourceTerminator,s,a),mt.mergeVarContentLeft(l.name,l,a),this.createdVariables.push(a),i.push(a),this.mergedVariablePaths.push(a),this.mergedComponents.set(s,a),this.mergedComponents.set(a,a),this.mergedComponents.set(l,a),n+=1;continue}else i.push(s)}else if(s instanceof wi&&o>0){let a=i[o-1],l=e[n+1];if(a instanceof fe&&(l instanceof fe||l instanceof vr)){let u=mt.distance(a,s),c=mt.distance(s,l);u<=1&&c<=1?(a.endPosition=l.endPosition,this.mergedComponents.set(s,a),this.mergedComponents.set(a,a),this.mergedComponents.set(l,a),n+=1):i.push(s)}else i.push(s)}else i.push(s)}return i.forEach(n=>{n instanceof fe&&!n.name.trim().startsWith("[")&&(n.variableReference=this.pathParser.parse(n.name),n.mergeErrors(this.pathParser.getAntlersErrors()))}),i}convertVarNodeToOperator(e){let i=new Zr;return i.content=e.name,i.startPosition=e.startPosition,i.endPosition=e.endPosition,i.originalAbstractNode=e,e.convertedToOperator=!0,this.createdLanguageOperators.push(i),i}convertOperatorToVarNode(e){let i=new fe;return i.startPosition=e.startPosition,i.endPosition=e.endPosition,i.content=e.content,i.name=e.content,i.originalAbstractNode=e,this.createdVariables.push(i),i}createLanguageOperators(e){let i=e.length;for(let r=0;r<i;r++){let n=e[r];if(n instanceof fe){if(n.name.includes(D.Punctuation_FullStop)){let s=n.name.split(D.Punctuation_FullStop);if(wt.operators.includes(s[0])||ea.deferredCoreLibraries.includes(s[0])){e[r]=this.convertVarNodeToOperator(n);continue}}if(wt.operators.includes(n.name)){e[r]=this.convertVarNodeToOperator(n);continue}}if(n instanceof Zr){if(r+1>=i){e[r]=this.convertOperatorToVarNode(n);continue}if(e[r+1]instanceof _i){e[r]=this.convertOperatorToVarNode(n);continue}}}return e}createLogicalGroups(e){let i=[],r=e.length,n=[];for(let o=0;o<r;o++){let a=e[o];if(a instanceof yi){let l=this.countTypeRight(e,o,yi);if(n.length==0&&e.length==l){a.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR,a,"Unexpected [T_LOGIC_INVERSE] while parsing input text."));continue}if(o>0&&n.length>0){let f=n[n.length-1];if(f instanceof Kt||f instanceof ei||f instanceof He){if(f instanceof He&&f.start instanceof yi){f.start.pushError(M.makeSyntaxError(v.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED,f.start,"[T_AOP_FACTORIAL] operand will always materialize boolean type."));continue}let d=new as;d.startPosition=a.startPosition,d.endPosition=a.endPosition,d.content="!".repeat(l),d.originalAbstractNode=a,d.repeat=l,n.push(d),l>0&&(o+=l-1);continue}}if(l%2==0){o+=l-1;continue}let u=e[o+l];if(u instanceof ti){let f=o+l+1;if(f>=r){u.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET,u,"Unexpected end of input while parsing input text."));continue}let d=this.findLogicalGroupEnd(e[o+l],e.slice(f));if(d.found){let p=d.logicalGroup,h=new He;h.start=a,h.end=p,h.nodes.push(a),h.nodes.push(p),h.startPosition=a.startPosition,h.endPosition=p.endPosition,n.push(h),o+=d.skipCount+l}continue}let c=this.resolveValueRight(e,o);c.value!=null&&n.push(c.value),o+=c.negationCount}else n.push(a)}let s=n.length;for(let o=0;o<s;o++){let a=n[o];if(a instanceof ti){if(o+1>=s){a.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION,a,"Unexpected end of input while parsing input text."));continue}let l=this.findLogicalGroupEnd(a,n.slice(o+1));l.found&&l.logicalGroup!=null&&i.push(l.logicalGroup),o+=l.skipCount}else if(a instanceof as){if(i.length==0){a.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS,a,"Unexpected [T_AOP_FACTORIAL] while parsing input text."));continue}let l=i[i.length-1];if(!(l instanceof He)&&!(l instanceof Kt)){a.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_FACTORIAL_OPERAND,a,"Unexpected left operand encountered for [T_AOP_FACTORIAL] while parsing input text."));continue}l=i.pop();let u=new He;u.startPosition=l.startPosition,u.endPosition=a.endPosition,u.originalAbstractNode=a,u.nodes.push(l),u.nodes.push(a),i.push(u)}else i.push(a)}return i}makeArgGroup(e){let i=new Go,r=e.length;for(let s=0;s<r;s++){let o=e[s];if(this.isOperand(o)==!1){o.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD,o,"Unexpected ["+X.getPrettyTypeName(o)+"] while parsing argument group."));continue}let a=null;if(s+1<r&&(a=e[s+1]),a==null||a instanceof Gt){i.args.push(e[s]),s+=1;continue}else if(a instanceof Mt){if(s+2>=r){o.pushError(M.makeSyntaxError(v.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT,o,"Unexpected end of input while parsing named argument."));continue}let l=e[s+2],u=new xu;u.startPosition=o.startPosition,u.endPosition=l.endPosition,u.content=o.content+l.content,u.name=o,u.value=l,o instanceof fe||o.pushError(M.makeSyntaxError(v.TYPE_INVALID_NAMED_ARG_IDENTIFIER,o,"Invalid type ["+X.getPrettyTypeName(o)+"] supplied for named argument name.")),i.hasNamedArguments=!0,i.numberOfNamedArguments+=1,i.args.push(u),s+3<r&&e[s+3]instanceof Gt?s+=3:s+=2;continue}}let n=!1;return i.args.forEach(s=>{s instanceof xu?n=!0:n&&s.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT,s,"Unnamed arguments are not allowed to appear after a named argument."))}),i.args.length>0&&(i.startPosition=i.args[0].startPosition,i.endPosition=i.args[i.args.length-1].endPosition),i}cleanVariableForMethodInvocation(e){(e.name.startsWith(":")||e.name.startsWith("."))&&(e.name=e.name.substr(1),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(1),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(1)),e.startPosition!=null&&(e.startPosition.offset+=1,e.startPosition.char+=1))}reduceVariableReferenceForObjectAccessor(e){var s;let i=(s=e.variableReference)==null?void 0:s.pathParts.pop(),r=i.name,n=r.length+1;return e.name=e.name.substr(0,-n),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(0,-n),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(0,-n),e.variableReference.pathParts[e.variableReference.pathParts.length-1].isFinal=!0),e.endPosition!=null&&(e.endPosition.offset-=n,e.endPosition.char-=n),{accessor:r,accessorLen:n}}associateMethodCalls(e){var n,s;let i=[],r=e.length;for(let o=0;o<r;o++){let a=e[o],l=null,u=null;if(i.length>0&&(l=i[i.length-1]),o+1<r&&(u=e[o+1]),a instanceof fe&&u instanceof He&&l!=null&&(this.isProperMethodChainTargetStrict(l)||l instanceof Mt)){let c=u,f=[];c.nodes.length>0&&(c.nodes[0]instanceof Yt?f=c.nodes[0].nodes:f=c.nodes);let d=new ui;if(d.startPosition=a.startPosition,l instanceof Mt){let p=i.pop();d.startPosition=p.startPosition}this.cleanVariableForMethodInvocation(a),d.endPosition=c.endPosition,d.args=this.makeArgGroup(f),d.method=a,l.methodTarget=d,l instanceof fe&&l.mergeRefName.length>0&&(l.name=mt.getUnrefName(l.mergeRefName)),i.push(d),o+=1;continue}else if(a instanceof He&&l instanceof fe&&l.variableReference!=null&&l.variableReference.pathParts.length>=2){let c=[];if(a.nodes.length>0&&(a.nodes[0]instanceof Yt?c=a.nodes[0].nodes:c=a.nodes),l.variableReference.pathParts[0]instanceof Pi&&ea.deferredCoreLibraries.includes(l.variableReference.pathParts[0].name)){let T=i.pop(),N=new ls;N.startPosition=T.startPosition,N.endPosition=a.endPosition,N.content=T.content,N.originalAbstractNode=a;let g=((n=T.variableReference)==null?void 0:n.pathParts.shift()).name,y=(s=T.variableReference)==null?void 0:s.implodePaths();N.libraryName=g,N.methodName=y,N.arguments=this.makeArgGroup(c),i.push(N),o+=1;continue}let f=this.reduceVariableReferenceForObjectAccessor(l),d=new ui;d.startPosition=a.startPosition,d.endPosition=a.endPosition,l.methodTarget=d,l instanceof fe&&l.mergeRefName.length>0&&(l.name=mt.getUnrefName(l.mergeRefName)),a.start!=null&&(a.start.isPartOfMethodChain=!0),a.end!=null&&(a.end.isPartOfMethodChain=!0);let p=new fe;p.name=f.accessor,p.isPartOfMethodChain=!0;let h=this.makeArgGroup(c);if(d.startPosition!=null&&(d.startPosition.offset-=f.accessorLen,d.startPosition.char-=f.accessorLen),d.method=p,d.args=h,K.isNumeric(l.name)){let T=i.pop();i.push(this.convertOperatorToVarNode(T))}i.push(d);continue}else if(a instanceof fe&&l instanceof ui){if(this.cleanVariableForMethodInvocation(a),o+1>r){a.pushError(M.makeSyntaxError(v.TYPE_METHOD_CALL_MISSING_ARG_GROUP,a,"Unexpected end of input while parsing method call."));continue}let c=e[o+1];if(!(c instanceof He)){a.pushError(M.makeSyntaxError(v.TYPE_INVALID_METHOD_CALL_ARG_GROUP,a,"Unexpected ["+X.getPrettyTypeName(c)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let f=c,d=[];f.nodes.length>0&&(f.nodes[0]instanceof Yt?d=f.nodes[0].nodes:d=f.nodes);let p=new ui;p.startPosition=a.startPosition,p.endPosition=f.endPosition,p.args=this.makeArgGroup(d),p.method=a,l.methodTarget=p,i.push(p),o+=1;continue}else if(a instanceof Mt&&l instanceof ui){if(o+1>r){a.pushError(M.makeSyntaxError(v.TYPE_METHOD_CALL_MISSING_METHOD,a,"Unexpected end of input while parsing method call."));continue}let c=e[o+1];if(o+2>r){a.pushError(M.makeSyntaxError(v.TYPE_METHOD_CALL_MISSING_ARG_GROUP,a,"Unexpected end of input while parsing method call."));continue}let f=e[o+2];if(!(f instanceof He)){a.pushError(M.makeSyntaxError(v.TYPE_INVALID_METHOD_CALL_ARG_GROUP,a,"Unexpected ["+X.getPrettyTypeName(f)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let d=f,p=[];d.nodes.length>0&&(d.nodes[0]instanceof Yt?p=d.nodes[0].nodes:p=d.nodes);let h=new ui;h.startPosition=a.startPosition,h.endPosition=f.endPosition,h.args=this.makeArgGroup(p),h.method=c,l.methodTarget=h,i.push(h),o+=2;continue}else if(a instanceof ui){if(o+1>r){a.pushError(M.makeSyntaxError(v.TYPE_METHOD_CALL_MISSING_METHOD,a,"Unexpected end of input while parsing method call."));continue}let c=e[o+1];if(o+2>r){a.pushError(M.makeSyntaxError(v.TYPE_INVALID_METHOD_CALL_ARG_GROUP,a,"Unexpected end of input while parsing method call."));continue}let f=e[o+2];if(!(f instanceof He)){a.pushError(M.makeSyntaxError(v.TYPE_INVALID_METHOD_CALL_ARG_GROUP,a,"Unexpected ["+X.getPrettyTypeName(f)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let d=f,p=[];d.nodes.length>0&&(d.nodes[0]instanceof Yt?p=d.nodes[0].nodes:p=d.nodes);let h=this.makeArgGroup(p);if(l instanceof fe&&ea.deferredCoreLibraries.includes(l.name)){let T=i.pop(),N=new ls;N.startPosition=T.startPosition,N.endPosition=d.endPosition,N.libraryName=T.name,N.methodName=c.name,N.content=N.libraryName+"->"+N.methodName,N.arguments=h,l.libraryTarget=N,i.push(N),o+=2;continue}a.method=c,a.args=h,i.length>0&&(i[i.length-1].methodTarget=a),o+=2,i.push(a);continue}else i.push(a)}return i}convertVariableToStringNode(e){let i=new Dt;return i.content=e.name,i.value=e.name,i.originalAbstractNode=e,i.startPosition=e.startPosition,i.endPosition=e.endPosition,i.index=e.index,i}createTupleLists(e){let i=e.length,r=[];for(let n=0;n<i;n++){let s=e[n];if(s instanceof Pr){if(s.isListGroupMember=!0,n+1>=i){s.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST,s,"Unexpected end of input while parsing tuple list."));continue}let o=e[n+1];if(!(o instanceof He)){o.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST,o,"Unexpected ["+X.getPrettyTypeName(o)+"] while parsing tuple list."));continue}let a=o;if(this.markAllNonVirtualAsListGroupMember([a]),this.retriggerNonVirtualGroupMembers.push([a]),a.nodes.length==0){a.pushError(M.makeSyntaxError(v.TYPE_MISSING_BODY_TUPLE_LIST,a,"Missing tuple list body while parsing tuple list."));continue}let u=a.nodes.shift(),c=u.nodes.length,f=[];for(let h=0;h<c;h++){let T=u.nodes[h];if(!(T instanceof Gt)){let N=!1;if(T instanceof fe&&(T.variableReference==null&&(N=!0),T.variableReference!=null&&T.variableReference.pathParts.length>1&&(N=!0),T.name.trim().length==0&&(N=!0)),N||!(T instanceof fe)){a.pushError(M.makeSyntaxError(v.TYPE_INVALID_TUPLE_LIST_NAME_TYPE,a,"Invalid ["+X.getPrettyTypeName(T)+"] name type found while parsing tuple list."));continue}let _=T;f.push(this.convertVariableToStringNode(_))}}let d=f.length;if(d==0){a.pushError(M.makeSyntaxError(v.TYPE_INVALID_MANIFESTED_NAME_GROUP,a,"Invalid Name expression produced an invalid name group while parsing tuple list."));continue}let p=new Bn;this.createdArrays.push(p),p.startPosition=s.startPosition,p.endPosition=s.endPosition,a.nodes.forEach(h=>{if(!(h instanceof Yt)){h.pushError(M.makeSyntaxError(v.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP,h,"Invalid ["+X.getPrettyTypeName(h)+"] name type found while parsing tuple list value expression."));return}let T=h,N=new Bn;this.createdArrays.push(N),N.startPosition=T.startPosition;let _=[];for(let g=0;g<c;g++){let y=T.nodes[g];if(typeof y=="undefined"||y==null)break;if(!(y instanceof Gt)){if(this.isOperand(y)==!1){y.pushError(M.makeSyntaxError(v.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE,y,"Unexpected ["+X.getPrettyTypeName(y)+"]  while parsing tuple list value."));continue}_.push(y)}}for(let g=0;g<d&&!(g>_.length);g++){let y=_[g],x=new za;x.startPosition=y.startPosition,x.endPosition=y.endPosition,x.name=f[g],x.value=y,N.nodes.push(x),p.endPosition=y.endPosition,N.endPosition=y.endPosition}p.nodes.push(N)}),r.push(p),n+=1;continue}else r.push(s)}return e}makeOrderGroup(e){let i=[],r=e.length,n=0;for(let s=0;s<r;s++){let o=e[s],a=null;if(s+1<r&&(a=e[s+1]),s>0&&(a==null||a instanceof Gt)){n+=1;let l=new Ya;l.order=n,l.name=e[s-1],l.directionNode=o,this.isOperand(l.name)==!1&&l.name.pushError(M.makeSyntaxError(v.TYPE_INVALID_ORDER_BY_NAME_VALUE,l.name,"Invalid value or expression supplied for order by name.")),this.isOperand(l.directionNode)==!1&&l.directionNode.pushError(M.makeSyntaxError(v.TYPE_INVALID_ORDER_BY_SORT_VALUE,l.directionNode,"Invalid value or expression supplied for order by direction.")),l.startPosition=l.name.startPosition,l.endPosition=l.directionNode.endPosition,i.push(l),s+=1;continue}}return i}getValues(e){let i=new Uo,r=e.length,n=[];for(let s=0;s<r;s++){let o=e[s],a=null;if(s+1<r&&(a=e[s+1]),a==null||a instanceof Gt){n.push(o),s+=1;continue}}return i.values=n,i}createLibraryInvocations(e){let i=[],r=e.length;for(let n=0;n<r;n++){let s=e[n];if(s instanceof Zr)if(s.content.includes(".")){let o=s.content.split("."),a=o.shift(),l=o.join("."),u=new ls;if(u.startPosition=s.startPosition,u.endPosition=s.endPosition,u.content=s.content,u.libraryName=a,u.methodName=l,u.originalAbstractNode=s,n+1>=r){s.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP,s,"Unexpected end of input while parsing argument group."));continue}if(!(e[n+1]instanceof He)){s.pushError(M.makeSyntaxError(v.TYPE_EXPECTING_ARGUMENT_GROUP,s,"Unexpected token while parsing method call. Expecting [T_ARG_SEPARATOR] got ["+X.getPrettyTypeName(s)+"]."));continue}let c=e[n+1],f=null;if(c.nodes.length>0){let d=c.nodes[0];f=this.makeArgGroup(d.nodes)}f==null&&(f=new Go,f.startPosition=c.startPosition,f.endPosition=c.endPosition,f.originalAbstractNode=c),u.arguments=f,i.push(u),n+=1;continue}else if(s.content==wt.ARR_ORDERBY){if(n+1>=r){s.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP,s,"Unexpected end of input while parsing order group."));continue}let o=e[n+1];if(!(o instanceof He)){o.pushError(M.makeSyntaxError(v.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND,o,"Unexpected ["+X.getPrettyTypeName(o)+"] while parsing order group."));continue}let l=o.nodes;l[0]instanceof Yt&&(l=l[0].nodes);let u=this.makeOrderGroup(l);u.length==0&&s.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP,s,"Unexpected empty [T_DIRECTION_GROUP]. Must have at least one order clause, and each property must have a direction specified."));let c=new Bs;if(c.orderClauses=u,u.length>0){u[0].directionNode!=null&&(c.startPosition=u[0].directionNode.startPosition);let f=u[u.length-1].directionNode;f!=null&&(c.endPosition=f.endPosition)}i.push(s),i.push(c),n+=1;continue}else if(s.content==wt.ARR_GROUPBY){if(n+1>=r){s.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY,s,"Unexpected end of input while parsing group by clause."));continue}let o=e[n+1];if(o instanceof Vn||o instanceof Sr){o.pushError(M.makeSyntaxError(v.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED,o,"Type ["+X.getPrettyTypeName(o)+"] must be enclosed with parenthesis to be used with groupby."));continue}if(!(o instanceof He)){o.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY,o,"Unexpected ["+X.getPrettyTypeName(o)+"] while parsing group by."));continue}let l=o.nodes;l[0]instanceof Yt&&(l=l[0].nodes);let u=this.getValues(l);if(i.push(s),i.push(u),n+2<r&&n+3<r){let c=e[n+2],f=e[n+3];if(mt.isVariableMatching(c,st.ScopeAs))if(f instanceof Dt){u.isNamedNode=!0,u.parsedName=f,n+=3;continue}else f.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE,f,"Expecting [T_STRING] for group by collection alias; got ["+X.getPrettyTypeName(f)+"]."))}n+=1;continue}else if(s.content==wt.STRUCT_SWITCH){if(n+1>=r){s.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP,s,"Unexpected end of input while parsing [T_SWITCH_GROUP]."));continue}let o=e[n+1];if(!(o instanceof Sr)){o.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP,o,"Unexpected ["+X.getPrettyTypeName(o)+"] while parsing [T_SWITCH_GROUP]."));continue}let a=o;if(this.markAllNonVirtualAsSwitch([o]),a.scope==null||!(a.scope instanceof He)){a.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_SWITCH_START_VALUE,a,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let l=a.scope;if(l.nodes.length==0||!(l.nodes[0]instanceof Yt)){a.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,a,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let u=l.nodes[0];if(this.markAllNonVirtualAsSwitch([l]),u.nodes.length==0||!(u.nodes[0]instanceof He)){s.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}this.markAllNonVirtualAsSwitch([s]),this.markAllNonVirtualAsSwitch(u.nodes);let c=u.nodes;if(a.nodes.length==0&&s.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP].")),!(l.nodes[0]instanceof Yt)){s.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let d=l.nodes[0];this.markAllNonVirtualAsSwitch(d.nodes);let p=d.nodes,h=new Vs,T=new He;T.nodes=c,T.startPosition=T.nodes[0].startPosition,T.endPosition=T.nodes[T.nodes.length-1].endPosition;let N=new jo;N.condition=T;let _=new He;_.nodes.push(p.shift()),_.startPosition=_.nodes[0].startPosition,_.endPosition=_.nodes[_.nodes.length-1].endPosition,N.expression=_,N.startPosition=N.condition.startPosition,N.endPosition=N.expression.nodes[N.expression.nodes.length-1].endPosition,p.shift(),h.cases.push(N);let g=p.length;if(g>0){if(!(p[0]instanceof He)){s.pushError(M.makeSyntaxError(v.TYPE_PARSER_INVALID_SWITCH_TOKEN,s,"Invalid ["+X.getPrettyTypeName(p[0])+"] while parsing case statement."));continue}for(let y=0;y<g;y++){let x=p[y],L=null;if(x instanceof Gt){x.isSwitchGroupMember=!0;continue}if(y+1<g&&(L=p[y+1]),L instanceof Fi){L.isSwitchGroupMember=!0;let E=new jo;E.condition=x,this.markAllNonVirtualAsSwitch([E.condition]);let U=new He;if(U.nodes.push(p[y+2]),U.startPosition=U.nodes[0].startPosition,U.endPosition=U.nodes[U.nodes.length-1].endPosition,E.expression=U,this.markAllNonVirtualAsSwitch([U]),E.startPosition=E.condition.startPosition,E.endPosition=E.expression.nodes[E.expression.nodes.length-1].endPosition,h.cases.push(E),y+3<g&&!(p[y+3]instanceof Gt)){p[y+3].pushError(M.makeSyntaxError(v.TYPE_PARSER_INVALID_SWITCH_TOKEN,p[y+3],"Invalid ["+X.getPrettyTypeName(p[y+3])+"] while parsing case statement; expecting [T_ARG_SEPARATOR]."));continue}p[y+3].isSwitchGroupMember=!0,y+=2;continue}}}i.push(new yr),i.push(s),i.push(h),n+=1;continue}else if(s.content==wt.ARR_MAKE){if(n+1>=r){s.pushError(M.makeSyntaxError(v.TYPE_ARR_MAKE_MISSING_TARGET,s,"Missing target variable for arr operator."));continue}let o=e[n+1];if(!(o instanceof He)){o.pushError(M.makeSyntaxError(v.TYPE_ARR_MAKE_UNEXPECTED_TYPE,o,"Unexpected ["+X.getPrettyTypeName(o)+"] while parsing array."));continue}let a=o instanceof Sr,l=o,u=l.nodes;if(u[0]instanceof Yt&&(u=u[0].nodes),a){let p=o;u.unshift(new Fi),u.unshift(p.scope)}let c=this.getArrayValues(u),f=new Bn;f.startPosition=s.startPosition;let d=c.values.length;d>0?f.endPosition=c.values[d-1].endPosition:f.endPosition=s.endPosition,l.end!=null&&(f.endPosition=l.end.endPosition),f.nodes=c.values,this.createdArrays.push(f),i.push(f),n+=1}else i.push(s);else i.push(s)}return i}getArrayValues(e){let i=new Uo,r=e.length,n=[];for(let s=0;s<r;s++){let o=e[s];if(o instanceof Gt){o.pushError(M.makeSyntaxError(v.TYPE_ARR_UNEXPECT_ARG_SEPARATOR,o,"Unexpected [T_ARG_SEPARATOR] while parsing array."));continue}if(o instanceof Fi){if(s==0){o.pushError(M.makeSyntaxError(v.TYPE_ARR_KEY_PAIR_MISSING_KEY,o,"Missing key for key/value pair while parsing array."));continue}else if(e[s-1]instanceof Gt){o.pushError(M.makeSyntaxError(v.TYPE_ARR_KEY_PAIR_MISSING_KEY,o,"Missing key for key/value pair while parsing array."));continue}}let a=null;if(s+1<r&&(a=e[s+1]),a instanceof Fi){if(s+2>=r){a.pushError(M.makeSyntaxError(v.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE,a,"Missing key/pair value while parsing array."));continue}let l=e[s+2],u=new za;if(this.isValidArrayKeyNode(o)==!1){o.pushError(M.makeSyntaxError(v.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE,o,"Invalid ["+X.getPrettyTypeName(o)+"] type for key/value key."));continue}u.name=o,u.value=l,u.startPosition=o.startPosition,u.endPosition=l.endPosition,n.push(u),s+=3;continue}if(a==null||a instanceof Gt){let l=new za;l.value=o,l.startPosition=o.startPosition,l.endPosition=o.endPosition,n.push(l),s+=1;continue}}return i.values=n,i}isValidArrayKeyNode(e){return e instanceof Kt||e instanceof Dt}associateModifiers(e){let i=[],r=e.length,n=null;for(let s=0;s<r;s++){let o=e[s];if(o instanceof Ai){let a=i.length;if(a==0){o.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_MODIFIER_SEPARATOR,o,"Unexpected [T_MODIFIER_SEPARATOR] while parsing input text."));continue}if(this.isRealModifierSeparator.set(o,!0),n=i[a-1],n.modifierChain==null&&(n.modifierChain=new Wa,n.modifierChain.modifierTarget=n,this.createdModifierChains.push(n.modifierChain)),s+1>=r){o.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS,o,"Unexpected end of input while preparing to gather modifier details."));continue}let l=this.scanToEndOfModifier(e.slice(s+1)),u=l.length;if(u>1&&l[1]instanceof Mt){this.isRealModifierSeparator.set(l[1],!0);let f=l[0];f instanceof nr?l[0]=this.wrapArithmeticModifier(f,"add"):f instanceof wi?l[0]=this.wrapArithmeticModifier(f,"subtract"):f instanceof sr?l[0]=this.wrapArithmeticModifier(f,"divide"):f instanceof or?l[0]=this.wrapArithmeticModifier(f,"multiply"):f instanceof Tr&&(l[0]=this.wrapArithmeticModifier(f,"mod"))}if(u==0){o.pushError(M.makeSyntaxError(v.TYPE_UNSET_MODIFIER_DETAILS,o,"Invalid or missing modifier details."));continue}if(!(l[0]instanceof Ht)){o.pushError(M.makeSyntaxError(v.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS,o,"Invalid ["+X.getPrettyTypeName(l[0])+"]; expecting [T_MODIFIER_NAME]"));continue}let c=this.createModifier(l);c.nameNode!=null&&this.modifierNameMapping.set(c.nameNode,c),s+=u,n.modifierChain.modifierChain.push(c),n.modifierChain.updateValues();continue}else i.push(o)}return i}createNullCoalescenceGroups(e){let i=[],r=e.length;for(let n=0;n<r;n++){let s=e[n];if(s instanceof Nr){let o=i.pop();if(n+1>=r){s.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP,s,"Unexpected end of input while parsing input text."));continue}let a=e[n+1],l=new Ka;l.left=o,l.right=a,i.push(l),n+=1;continue}else i.push(s)}return i}isOperand(e){return e instanceof fe||e instanceof He||e instanceof Dt||e instanceof Kt||e instanceof Ur||e instanceof yr||e instanceof jr||e instanceof ls||e instanceof Bs||e instanceof Uo||e instanceof Vs||e instanceof Bn||e instanceof Pr}isProperMethodChainTargetStrict(e){return e instanceof He||e instanceof Dt||e instanceof Kt||e instanceof Ur||e instanceof yr||e instanceof jr||e instanceof ls||e instanceof Bs||e instanceof Uo||e instanceof Vs||e instanceof Bn}assertOperandRight(e,i){if(i+1>e.length-1)return e[i].pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_END_OF_INPUT,e[i],"Unexpected end of input; expecting operand for operator "+X.getPrettyTypeName(e[i])+' near "'+Zo.getNearText(e[i])+'".')),!1;let r=e[i+1];return this.isOperand(r)?!0:(r.pushError(M.makeSyntaxError(v.TYPE_EXPECTING_OPERAND,e[i],"Expecting operand, found "+X.getPrettyTypeName(r)+' near "'+Zo.getNearText(e[i])+'".')),!1)}resolveValueRight(e,i){let r=null,n=0,s=null;if(e.length>0){let o=!0;for(;o;){let a=e[i];if(a instanceof yi){s=a,n+=1,i+=1,o=!1;continue}else if(this.isOperand(a)){r=a,o=!1;break}else{o=!1;break}}}if(n%2!=0){let o=new He;return o.nodes=[],s!=null&&r!=null&&(o.nodes.push(s),o.nodes.push(r)),{value:o,negationCount:n}}return{value:r,negationCount:n}}correctTypes(e){let i=[];return e.forEach(r=>{if(r instanceof Di){let n=new Mt;n.startPosition=r.startPosition,n.endPosition=r.endPosition,n.originalAbstractNode=r,i.push(n)}else if(r instanceof ii){let n=new fe;n.name=r.value,n.startPosition=r.startPosition,n.endPosition=r.endPosition,n.modifierChain=r.modifierChain,n.originalAbstractNode=r,this.createdVariables.push(n),i.push(n)}else i.push(r)}),i}createTernaryGroups(e){var n,s,o,a;let i=[],r=e.length;for(let l=0;l<r;l++){let u=e[l];if(u instanceof lr){let c=this.seek(Mt,l+1);if(((n=c.node)==null?void 0:n.originalAbstractNode)!=null&&c.node.originalAbstractNode instanceof Di&&(c.node.originalAbstractNode.isTenaryBranchSeparator=!0),c.found==!1){u.pushError(M.makeSyntaxError(v.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR,u,"Unexpected end of input; expecting [T_BRANCH_SEPARATOR]."));continue}let f=this.collectUntil(i);i=f.tokens;let d=f.collectedTokens[0],p=(s=c.foundAt)!=null?s:0;if(p>=r){u.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP,u,"Unexpected end of input while parsing ternary group."));continue}let h=e.slice(l+1,p);if(h.length>1||h.length==0){u.pushError(M.makeSyntaxError(v.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH,u,"Unexpected number of operations within ternary truth branch."));continue}let T=h[0],N=((o=c.foundAt)!=null?o:0)+1;if(N>=r){u.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH,u,"Unexpected end of input while parsing ternary false execution branch."));continue}let _=e[N],g=new $a;g.head=d,g.truthBranch=T,g.falseBranch=_,i.push(g),l=((a=c.foundAt)!=null?a:0)+1;continue}else i.push(u)}return i}groupNodesByType(e,i){let r=[],n=e.length;for(let s=0;s<n;s++){let o=e[s];if(s>0&&o instanceof i){let a=[],l=r.pop();if(a.push(l),!this.assertOperandRight(e,s))continue;if(s+1>=n){o.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,o,"Unexpected end of input while parsing input text."));continue}let u=e[s+1];typeof u!="undefined"&&(u.isVirtualGroupMember=!0),typeof l!="undefined"&&(l.isVirtualGroupMember=!0),o.isVirtualGroupMember=!0;let c=new He;c.nodes=a,c.nodes.push(o),c.nodes.push(u),s+=1,r.push(c);continue}else r.push(o)}return r}flagNodeAsOperatorResolve(e){if(e instanceof He){if(e.nodes.length==0)return;this.flagNodeAsOperatorResolve(e.nodes[e.nodes.length-1])}e.isVirtualGroupOperatorResolve=!0,e.next instanceof _i||(e.producesVirtualStatementTerminator=!0)}groupNodesByOperatorType(e){let i=[],r=e.length;for(let n=0;n<r;n++){let s=e[n];if(n>0&&Wt.isOperatorType(s)){let o=[],a=i.pop();if(o.push(a),!this.assertOperandRight(e,n))continue;if(n+1>=r){s.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,s,"Unexpected end of input while parsing input text."));continue}let l=e[n+1];this.flagNodeAsOperatorResolve(l),Wt.isAssignmentOperator(s)&&this.tracedAssignments.push(new ld(a,l,s)),typeof a!="undefined"&&(a.isVirtualGroupMember=!0),typeof l!="undefined"&&(l.isVirtualGroupMember=!0),s.isVirtualGroupMember=!0;let u=new He;u.nodes=o,u.nodes.push(s),u.nodes.push(l),n+=1,i.push(u);continue}else i.push(s)}return i}applyOperationOrder(e){return e=this.groupNodesByType(e,bn),e=this.groupNodesByType(e,or),e=this.groupNodesByType(e,sr),e=this.groupNodesByType(e,nr),e=this.groupNodesByType(e,wi),e}createLogicGroupsToRemoveMethodInvocationAmbiguity(e){let i=[],r=e.length,n=r-1;for(let s=0;s<r;s++){let o=e[s];if(o instanceof ui){let a=i.pop(),l=new He;if(l.startPosition=a.startPosition,typeof a!="undefined"&&(a.isVirtualGroupMember=!0),typeof o!="undefined"&&(o.isVirtualGroupMember=!0),l.nodes.push(a),l.nodes.push(o),s!=n)for(let u=s+1;u<r;u++)if(e[u]instanceof ui){if(typeof e[u]=="undefined")continue;if(e[u].isVirtualGroupMember=!0,l.nodes.push(e[u]),u==n){u+=1;break}}else{if(u==n){u+=1;break}s=u-1;break}l.endPosition=l.nodes[l.nodes.length-1].endPosition,i.push(l)}else i.push(o)}return i}countTypeRight(e,i,r){let n=0;for(let s=i;s<e.length&&e[s]instanceof r;s++)n+=1;return n}createLogicGroupsToResolveOperatorAmbiguity(e){return e=this.groupNodesByType(e,Mn),e=this.groupNodesByType(e,br),e=this.groupNodesByType(e,$r),e=this.groupNodesByType(e,Kr),e=this.groupNodesByType(e,Jr),e=this.groupNodesByType(e,ki),e=this.groupNodesByType(e,Qr),e=this.groupNodesByType(e,zr),e=this.groupNodesByType(e,Xr),e=this.groupNodesByOperatorType(e),e}createModifier(e){let i=e.shift(),r=[],n=e.length;if(e.length>0&&e[0]instanceof He){let o=this.unpack(e[0].nodes),a=this.makeArgGroup(o);a.endPosition=e[0].endPosition;let l=new Vo;if(l.nameNode=i,l.methodStyleArguments=a,e.length>1)for(let u=1;u<n;u++)e[u].pushError(M.makeSyntaxError(v.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX,e[u],"Unexpected ["+X.getPrettyTypeName(e[u])+"] while parsing modifier argument group. Expecting [T_MODIFIER_SEPARATOR] or end of current expression."));return l.startPosition=i.startPosition,l.endPosition=a.endPosition,l}for(let o=0;o<n;o++)if(e[o]instanceof Di||e[o]instanceof Mt){if(o+1>=n)return e[o].pushError(M.makeSyntaxError(v.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST,e[o],"Unexpected end of modifier value list while parsing modifier.")),e;let a=e[o+1];if(this.isValidModifierValue(a)){if(a instanceof fe)if(a.variableReference!=null&&a.variableReference.pathParts.length>0)a.variableReference.pathParts.forEach(l=>{if(l instanceof Pi){let u=new ii;u.startPosition=l.startPosition,u.endPosition=l.endPosition,u.value=l.name,u.name=l.name,u.originalAbstractNode=l,u.endPosition==null&&u.startPosition==null&&(u.startPosition=a.startPosition,u.endPosition=a.endPosition),r.push(u)}});else{let l=new ii;l.startPosition=a.startPosition,l.endPosition=a.endPosition,l.value=a.name,l.name=a.name,l.originalAbstractNode=a,r.push(l)}else r.push(a);o+=1;continue}else return a.pushError(M.makeSyntaxError(v.TYPE_MODIFIER_UNEXPECTED_VALUE,a,"Unexpected ["+X.getPrettyTypeName(a)+"] while parsing modifier value.")),e}let s=new Vo;return s.nameNode=i,s.valueNodes=r,s.startPosition=s.nameNode.startPosition,s.valueNodes.length>0?s.endPosition=s.valueNodes[s.valueNodes.length-1].endPosition:s.endPosition=s.nameNode.endPosition,s}scanToEndOfModifier(e){let i=[],r=e.length;for(let n=0;n<r;n++){let s=e[n];if(s instanceof Di){let o=i.length;if(o==0){s.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE,s,"Unexpected end of input while parsing modifier value."));continue}this.isRealModifierSeparator.set(s,!0);let a=i[o-1];if(mt.distance(a,s)>1)break}if(s instanceof Dt||s instanceof fe||s instanceof Kt){let o=i.length;if(o>0&&i[o-1]instanceof He)break}if(s instanceof Ai||s instanceof ei||s instanceof ti||s instanceof ki||s instanceof br||s instanceof Mn||s instanceof Kr||s instanceof $r||s instanceof zr||s instanceof Qr||s instanceof Xr||s instanceof Jr||s instanceof Ir||s instanceof vr||s instanceof vn||s instanceof Nr||s instanceof Nn||s instanceof Zr||s instanceof ls||s instanceof ui||s instanceof yi)break;i.push(s)}return i}static isAssignmentOperatorNode(e){return e instanceof Gr||e instanceof Hr||e instanceof ar||e instanceof Wr||e instanceof Yr||e instanceof wi}insertAutomaticStatementSeparators(e){let i=e.length,r=[];for(let n=0;n<i;n++){let s=e[n];if(Wt.isAssignmentOperatorNode(s))if(n+2<i)if(e[n+2]instanceof _i){r.push(s),r.push(e[n+1]),r.push(e[n+2]),n+=2;continue}else{r.push(s),r.push(e[n+1]),r.push(new _i),n+=1;continue}else{r.push(s),r.push(e[n+1]),r.push(new _i);break}else r.push(s)}return e}createSemanticGroups(e){let i=[],r=e.length,n=[];for(let s=0;s<r;s++)if(e[s]instanceof _i){let o=new Yt;o.nodes=n,o.separatorToken=e[s],i.push(o),n=[];continue}else if(n.push(e[s]),s+1>=r){let o=new Yt;o.nodes=n,i.push(o);break}return i}findLogicalGroupEnd(e,i){let r=[],n=i.length,s=null,o=0,a=0;for(a;a<n;a++){let c=i[a];if(o+=1,c instanceof ei){s=c;break}else if(c instanceof ti){if(a+1>=n)return c.pushError(M.makeSyntaxError(v.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END,c,"Unexpected end of input while parsing input text.")),{found:!1,logicalGroup:null,skipCount:o};let f=this.findLogicalGroupEnd(c,i.slice(a+1));if(f.found){f.logicalGroup!=null&&r.push(f.logicalGroup),o+=f.skipCount,a+=f.skipCount;continue}else continue}else r.push(c)}if(s==null)return e.pushError(M.makeSyntaxError(v.TYPE_LOGIC_GROUP_NO_END,e,"Unexpected end of input while parsing logic group.")),{found:!1,logicalGroup:null,skipCount:o};let l=new Wt;l.setIsRoot(!1);let u=new He;if(r.length>=2&&r[1]instanceof Fi){if(u=new Sr,u.scopeOperator=r[1],a+2<n&&i[a+1]instanceof fe&&i[a+2]instanceof Dt&&i[a+1].name==st.ScopeAs){let d=i[a+2];u=new Vn,u instanceof Vn&&(u.alias=d),o+=2}let c=r.splice(0,2);(u instanceof Sr||u instanceof Vn)&&(u.scope=c[0])}return u.nodes=l.parse(r),u.start=e,u.end=s,u.startPosition=e.startPosition,u.endPosition=s.endPosition,u instanceof Vn&&u.alias!=null&&(u.endPosition=u.alias.endPosition),{found:!0,logicalGroup:u,skipCount:o}}unpack(e){if(e.length==0)return[];if(e[0]instanceof Yt){let i=e[0];return this.unpack(i.nodes)}return e}collectUntil(e){let i=e.length,r=[];for(let n=i-1;n>=0&&!Wt.isAssignmentOperator(e[n]);n--){let s=e.pop();r.push(s)}if(r=r.reverse(),r.length>=3){let n=new Wt;return n.setIsRoot(!1),{collectedTokens:this.unpack(n.parse(r)),tokens:e}}return{collectedTokens:r,tokens:e}}seek(e,i){for(let r=i;r<this.tokens.length;r++)if(this.tokens[r]instanceof e)return{found:!0,foundAt:r,node:this.tokens[r]};return{found:!1,foundAt:null,node:null}}};var Wn=class{static findRightBeighboringNextPunctuation(e,i,r=4){i=i.replace("	"," ".repeat(r));let n=!1;for(let s=e+1;s<i.length;s++){let o=i[s];if(K.ctypeSpace(o)&&(n=!0),n&&(K.ctypeAlpha(o)||K.ctypeDigit(o)))return null;if(K.ctypePunct(o)||o==D.String_Terminator_SingleQuote||o==D.String_Terminator_DoubleQuote)return o}return null}static findRightNeighboringNextAlphaNumeric(e,i,r=4){i=i.replace("	"," ".repeat(r));let n=!1;for(let s=e+1;s<i.length;s++){let o=i[s];if((K.ctypeSpace(o)||K.ctypePunct(o)&&o!=D.Punctuation_Underscore)&&(n=!0),n&&(K.ctypeAlpha(o)||K.ctypeDigit(o)))return s+1}return null}static findLeftNeighboringNextPunctuation(e,i,r=4){i=i.replace("	"," ".repeat(r));let n=!1;for(let s=e-2;s>=0;s--){let o=i[s];if(K.ctypeSpace(o)&&(n=!0),n&&(K.ctypeAlpha(o)||K.ctypeDigit(o)))return null;if(K.ctypePunct(o))return o}return null}static findLeftNeighboringNextAlphaNumeric(e,i,r=4){i=i.replace("	"," ".repeat(r));let n=!1;for(let s=e-1;s>=0;s--){let o=i[s];if((K.ctypeSpace(o)||K.ctypePunct(o)&&o!=D.Punctuation_Underscore)&&(n=!0),n&&(K.ctypeAlpha(o)||K.ctypeDigit(o)))return s+1}return null}static scanWordAt(e,i,r=4){if(i=i.replace("	"," ".repeat(r)),e<0||e>i.length)return null;let n=[],s=[];for(let o=e-1;o>=0;o--){let a=i[o];if(K.ctypePunct(a)&&a!=D.Punctuation_Underscore||K.ctypeSpace(a))break;n.push(a)}for(let o=e;o<i.length;o++){let a=i[o];if(K.ctypePunct(a)&&a!=D.Punctuation_Underscore||K.ctypeSpace(a))break;s.push(a)}return n.reverse().join("")+s.join("")}};var yp=class{constructor(e){this.parser=e}findParentWithName(e,i){let r=i.parent;for(;r!=null;){if(r instanceof G&&r.nameMatches(e))return r;if(r.parent==r)break;r=r.parent}return null}};var Tp=class{static analyzeModifierNodeParameters(e){var r,n,s,o;if(e.parameters.forEach(a=>{var l,u,c,f;a.isModifierParameter=(u=(l=je.instance)==null?void 0:l.hasModifier(a.name))!=null?u:!1,a.isModifierParameter&&(e.modifiers.parameterModifiers.push(a),a.modifier=(f=(c=je.instance)==null?void 0:c.getModifier(a.name))!=null?f:null,e.modifiers.modifierNames.includes(a.name)==!1&&e.modifiers.modifierNames.push(a.name))}),e.modifierChain!=null&&e.modifierChain.modifierChain.length>0){let a=null;e.modifierChain.modifierChain.forEach(l=>{var u,c;l.nameNode!=null&&(l.modifier=(c=(u=je.instance)==null?void 0:u.getModifier(l.nameNode.content))!=null?c:null,e.modifiers.modifierNames.includes(l.nameNode.content)==!1&&e.modifiers.modifierNames.push(l.nameNode.content),l.modifier!=null&&(a=l.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=l)))}),e.modifierChain.lastModifier=a,e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}e.runtimeNodes.length>0&&e.runtimeNodes.forEach(a=>{if(a.modifierChain!=null&&a.modifierChain.modifierChain.length>0){let l=null;a.modifierChain.modifierChain.forEach(u=>{var c,f;u.nameNode!=null&&(u.modifier=(f=(c=je.instance)==null?void 0:c.getModifier(u.nameNode.content))!=null?f:null,e.modifiers.modifierNames.includes(u.nameNode.content)==!1&&e.modifiers.modifierNames.push(u.nameNode.content),u.modifier!=null&&(l=u.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=u)))}),e.modifierChain!=null&&(e.modifierChain.lastModifier=l),e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}});let i=e.modifiers.getLastManifestedModifier();if(i!=null)if(i.name=="macro"){let a=e.modifiers.getLastManifestedModifierValue();e.manifestType=(n=(r=je.instance)==null?void 0:r.getMacroManifestingType(a))!=null?n:""}else e.manifestType=(o=(s=je.instance)==null?void 0:s.getProbableReturnType(i,e.isPaired()))!=null?o:""}};function I_(t){return t==null?!1:t=='"'||t=="'"}function DS(t,e){for(t.getCurrentIndex();t.getCurrentIndex()<t.inputLength()&&(t.checkCurrentOffsets(),e&&t.pushChar(t.getCurrent()),t.getCurrent()!=D.NewLine);t.incrementIndex());}function FS(t,e){for(t.getCurrentIndex();t.getCurrentIndex()<t.inputLength();t.incrementIndex())if(t.checkCurrentOffsets(),e&&t.pushChar(t.getCurrent()),t.getCurrent()==D.Punctuation_Asterisk&&t.getNext()==D.Punctuation_ForwardSlash){e&&t.pushChar(D.Punctuation_ForwardSlash),t.incrementIndex(),t.checkCurrentOffsets();break}}function v_(t){let e=t.getCurrent();for(t.incrementIndex(),t.getCurrentIndex();t.getCurrentIndex()<t.inputLength()&&(t.checkCurrentOffsets(),!(t.getCurrent()==e&&t.getPrev()!=D.String_EscapeCharacter));t.incrementIndex());}var bp=class{constructor(){this.content="";this.nodeIndex=[];this.fragmentStartIndex=[];this.charLen=0;this.documentOffsets=new Map;this.inputLen=0;this.seedOffset=0;this.shiftLine=0;this.chars=[];this.currentIndex=0;this.lastDocumentOffsetKey=null;this.cur=null;this.next=null;this.prev=null;this.chunkSize=5;this.currentChunkOffset=0;this.fragments=[];this.isScript=!1;this.fragmentOpeningIndex=new Map;this.indexedFragments=new Map;this.embeddedIndexedFragments=new Map}updateIndex(e){this.currentIndex=e}inputLength(){return this.inputLen}incrementIndex(){this.currentIndex+=1}getCurrentIndex(){return this.currentIndex}getCurrent(){return this.cur}getNext(){return this.next}getPrev(){return this.prev}pushChar(e){}getChar(e){return this.chars[e]}getSeedOffset(){return this.seedOffset}setDocumentOffsets(e,i){return this.documentOffsets=e,this.lastDocumentOffsetKey=i,this}getClosingFragmentAfter(e){if(typeof e=="undefined")return null;let i=e.name.toLowerCase();for(let r=0;r<this.fragments.length;r++){let n=this.fragments[r];if(n.isClosingFragment&&!n.isSelfClosing&&n.name.toLowerCase()==i&&n.index>e.index)return n}return null}getContentSubstring(e,i){return this.content.substr(e,i)}resetState(){return this.fragments=[],this.inputLen=0,this.fragmentStartIndex=[],this.fragmentOpeningIndex.clear(),this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.seedOffset=0,this.cur=null,this.next=null,this.prev=null}positionFromOffset(e,i,r=!1){let n=0,s=0;if(this.documentOffsets.has(e)){let a=this.documentOffsets.get(e);n=a.line,s=a.char}else if(this.documentOffsets.size==0)n=1,s=e+1;else{let a=null,l=null,u=null,c=null;for(let f of this.documentOffsets.keys()){if(f>=e){c!=null&&e>c?(a=u,l=c):(a=this.documentOffsets.get(f),l=f);break}u=this.documentOffsets.get(f),c=f}a==null&&(a=u,l=c),a!=null?(s=e-(l!=null?l:0),n=a.line,e<=(l!=null?l:0)?(n=a.line,s=e+1):n=a.line+1):this.lastDocumentOffsetKey!=null&&(n=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let o=new Zt;return o.index=i,o.offset=e,o.line=n+this.shiftLine,o.char=s,o}getFragments(){return this.fragments}getFragmentsBetween(e,i){let r=[];return this.fragments.forEach(n=>{var a,l,u,c;let s=(l=(a=n.startPosition)==null?void 0:a.index)!=null?l:0,o=(c=(u=n.endPosition)==null?void 0:u.index)!=null?c:0;s>e&&o<i&&r.push(n)}),r}getFragmentContaining(e){var i,r,n,s;for(let o=0;o<this.fragments.length;o++){let a=this.fragments[o];if(((r=(i=a.startPosition)==null?void 0:i.index)!=null?r:0)<e.index&&((s=(n=a.endPosition)==null?void 0:n.index)!=null?s:0)>e.index)return a}return null}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let i=K.split(K.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),i.forEach(r=>{this.chars.push(r),this.charLen+=1})}e&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}}processInputText(e){this.content=e,this.inputLen=this.content.length;let i=[...this.content.matchAll(/(<(?!\?[php|?=]))/gm)],r=[];i.forEach(n=>{var o;let s=(o=n.index)!=null?o:0;for(let a=0;a<this.nodeIndex.length;a++){let l=this.nodeIndex[a];if(s>=l.start&&s<=l.end)return}r.push(s)}),this.fragmentStartIndex=r}setIndexRanges(e){return this.nodeIndex=e,this}fetchAt(e,i){return this.content.substr(e,i)}getFragmentsContainingStructures(){let e=[];return this.fragments.forEach(i=>{let r=i.name.toLowerCase();if(!(r!="script"&&r!="style")&&!i.isClosingFragment&&!i.isSelfClosing&&i.containsStructures){let n=this.getClosingFragmentAfter(i);n!=null&&e.push({start:i,end:n})}}),e}parse(e){if(this.resetState().processInputText(e),this.fragmentStartIndex.length==0)return[];for(let s=0;s<this.fragmentStartIndex.length;s++){let o=this.fragmentStartIndex[s];if(this.resetIntermediateState(),this.seedOffset=o,this.currentChunkOffset=o,this.parseIntermediateText(),this.isScript){let a=!1;for(let l=s+1;l<this.fragmentStartIndex.length;l++){let u=this.fragmentStartIndex[l];if(this.fetchAt(u,8).toLowerCase()=="<\/script"){s=l-1,this.isScript=!1,a=!0;break}}if(!a)break}}let r=0,n=0;return this.fragments.forEach(s=>{let o=s.name.toLowerCase();(o=="script"||o=="style")&&(s.embeddedIndex=n,this.embeddedIndexedFragments.set(n,s),n+=1),s.index=r,this.indexedFragments.set(r,s),r+=1}),this.fragments}getFragment(e){return this.indexedFragments.get(e)}getEmbeddedFragment(e){return this.embeddedIndexedFragments.has(e)?this.embeddedIndexedFragments.get(e):null}hasFragments(){return this.fragments.length>0}skipToEndOfPhp(){for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),I_(this.cur)&&v_(this),this.cur==D.Punctuation_ForwardSlash&&this.next==D.Punctuation_ForwardSlash){DS(this,!0);continue}if(this.cur==D.Punctuation_ForwardSlash&&this.next==D.Punctuation_Asterisk){FS(this,!0);continue}if(this.cur==D.Punctuation_Question&&this.next==D.Punctuation_GreaterThan||this.next==null)break}}parseIntermediateText(){this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length;let e=this.currentIndex,i=[],r=[],n=!1,s=!1;for(this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),K.ctypeSpace(this.cur)&&(n=!0),this.next==D.Punctuation_LessThan){let o=1;this.cur==D.Punctuation_ForwardSlash&&(o=2);let a=this.fetchAt(this.currentChunkOffset+o,5);if(a.toLowerCase()=="<?php"||a.startsWith("<?=")){this.skipToEndOfPhp();continue}}if(this.currentIndex>0&&this.cur==D.Punctuation_LessThan||this.next==null&&this.cur!=D.Punctuation_GreaterThan)break;if(!n&&this.cur==D.Punctuation_LessThan&&this.next==D.Punctuation_ForwardSlash&&(s=!0),!n&&this.cur!=D.Punctuation_LessThan&&this.cur!=D.Punctuation_ForwardSlash&&this.cur!=D.Punctuation_GreaterThan&&r.push(this.cur),I_(this.cur)){let o=this.currentIndex;v_(this);let a=new td;a.startPosition=this.positionFromOffset(o+this.seedOffset,o+this.seedOffset),a.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset);let l=o+this.seedOffset,u=this.currentIndex+this.seedOffset+1;a.content=this.content.substr(l,u-l);let c=[];for(let f=o-2;f>=0;f--){let d=this.chars[f];if(K.ctypeSpace(d))break;c.push(d)}a.name=c.reverse().join(""),i.push(a);continue}if(this.cur==D.Punctuation_ForwardSlash&&this.next==D.Punctuation_GreaterThan){let o=new Ru;o.startPosition=this.positionFromOffset(e+this.seedOffset,e+this.seedOffset),o.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset+1,this.currentIndex+this.seedOffset+1),o.parameters=i,o.isSelfClosing=!0,o.name=r.join(""),o.isClosingFragment=s,this.fragments.push(o),s?this.fragmentOpeningIndex.set(o.startPosition.index+1,1):this.fragmentOpeningIndex.set(o.startPosition.index,1);break}if(this.cur==D.Punctuation_GreaterThan){let o=new Ru;o.startPosition=this.positionFromOffset(e+this.seedOffset,e+this.seedOffset),o.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),o.parameters=i,o.name=r.join(""),o.isClosingFragment=s,this.fragments.push(o),s?this.fragmentOpeningIndex.set(o.startPosition.index+1,1):this.fragmentOpeningIndex.set(o.startPosition.index,1),o.name.toLowerCase()=="script"&&o.isClosingFragment==!1&&(this.isScript=!0);break}}}};var Ip=class{constructor(e,i){this.documentParser=e,this.fragmentsParser=i}doesContainFragments(e){var n,s,o,a,l;let i=(s=(n=e.endPosition)==null?void 0:n.index)!=null?s:0,r=(l=(a=(o=e.isClosedBy)==null?void 0:o.startPosition)==null?void 0:a.index)!=null?l:0;return this.fragmentsParser.getFragmentsBetween(i,r).length>0}analyze(){let e=this.documentParser.getNodes();!this.fragmentsParser.hasFragments()||(this.fragmentsParser.getFragments().forEach(i=>{let r=i.name.toLowerCase();if(i.isClosingFragment==!1&&i.isSelfClosing==!1&&(r=="script"||r=="style")){let n=this.fragmentsParser.getClosingFragmentAfter(i);if(n==null)return;i.endPosition!=null&&n.startPosition!=null&&this.documentParser.getNodesBetween(i.endPosition,n.startPosition).forEach(o=>{(o instanceof tt||o instanceof G&&o.isClosedBy!=null)&&(i.containsStructures=!0),r=="style"?o.isInStyleTag=!0:o.isInScriptTag=!0})}}),e.forEach(i=>{var o,a,l,u,c,f;if(i instanceof Qe||i.startPosition==null)return;i instanceof G&&(ai.isConditionalStructure(i)||!i.isClosingTag)&&i.isClosedBy!=null&&(i.containsAnyFragments=this.doesContainFragments(i));let r=this.fragmentsParser.getFragmentContaining(i.startPosition);if(r==null){i.fragmentPosition=3;return}if(i.fragment=r,i.startPosition.index-((a=(o=r.startPosition)==null?void 0:o.index)!=null?a:0)<=3){i.fragmentPosition=0;return}if(r.parameters.length==0){i.fragmentPosition=2;return}let s=!1;for(let d=0;d<r.parameters.length;d++){let p=r.parameters[d];if(((u=(l=p.startPosition)==null?void 0:l.index)!=null?u:0)<i.startPosition.index&&((f=(c=p.endPosition)==null?void 0:c.index)!=null?f:0)>i.startPosition.index){i.fragmentPosition=1,i.fragmentParameter=p,s=!0;break}}s||(i.fragmentPosition=2)}))}};var vp=class{static analyze(e){e.forEach(i=>{var r,n,s,o,a,l;if(i instanceof G){if(i.prev instanceof G&&i.isPaired()&&i.prev.isInlineAntlers==!0){i.isInlineAntlers=!1,i.isClosedBy!=null&&(i.isClosedBy.isInlineAntlers=!1);return}let u=!1,c=!1;if(i.next==null)u=!0;else if(i.next instanceof Qe){let f=K.getFirstLine(i.next.content);(i.next.next==null&&f.trim().length==0||K.trimLeft(f," 	").startsWith(`
`)==!1&&f.trim().length>0||i.next.next instanceof li||i.next.next instanceof G&&(i.next.next.isPaired()==!1||((n=(r=i.next.next.startPosition)==null?void 0:r.line)!=null?n:0)!=((o=(s=i.startPosition)==null?void 0:s.line)!=null?o:0)))&&(u=!0)}else i.next instanceof G&&i.next.isPaired()&&(u=!0);if(i.prev==null)c=!0;else if(i.prev instanceof Qe){let f=K.getLastLine(i.prev.content);K.trimRight(f," 	").endsWith(`
`)==!1&&f.trim().length>0||i.prev.prev instanceof li?c=!0:i.prev.prev instanceof G&&(i.prev.prev.isInlineAntlers&&((a=i.prev.prev.endPosition)==null?void 0:a.line)==((l=i.startPosition)==null?void 0:l.line)?c=!0:i.prev.prev.isClosingTag&&i.prev.prev.isOpenedBy!=null&&(i.prev.prev.isOpenedBy instanceof li||i.prev.prev.runtimeName()=="noparse")&&(i.prev.prev.isInlineAntlers=!0,c=!0))}else i.prev instanceof G&&i.prev.isPaired()&&(c=!0);i.isInlineAntlers=u&&c}})}};var Ue=class{constructor(){this.interpolationRegions=new Map;this.nodeParser=new gp;this.chars=[];this.charLen=0;this.lastAntlersNode=null;this.content="";this.originalContent="";this.currentIndex=0;this.currentContent=[];this.sourceContent=[];this.startIndex=0;this._recoveryStartIndex=0;this.cur=null;this.next=null;this.prev=null;this.nodes=[];this.renderNodes=[];this.isInterpolatedParser=!1;this.inputLen=0;this.documentOffsets=new Map;this.lineIndex=new Map;this.lastDocumentOffsetKey=null;this.isDoubleBrace=!1;this.interpolationEndOffsets=new Map;this.isScanningInterpolations=!1;this.seedStartLine=1;this.seedStartchar=1;this.frontMatterEndLine=-1;this.lastAntlersEndIndex=-1;this.seedOffset=0;this.antlersStartIndex=[];this.antlersStartPositionIndex=new Map;this.chunkSize=5;this.maxLine=1;this.currentChunkOffset=0;this.isNoParse=!1;this.antlersErrors=[];this.structureErrors=[];this.languageParser=new Wt;this.documentPath=null;this.pushedErrors=new Map;this.frontMatter="";this.shiftLine=0;this.doesHaveUncloseIfStructures=!1;this.doesHaveUnclosedStructures=!1;this.parseChildDocuments=!1;this.structuralErrorCodes=[v.TYPE_PARSE_UNCLOSED_CONDITIONAL,v.TYPE_PARSE_UNPAIRED_CONDITIONAL,v.TYPE_RECURSIVE_UNPAIRED_NODE,v.TYPE_RUNTIME_FATAL_UNPAIRED_LOOP_END,v.TYPE_UNPAIRED_CLOSING_TAG];this.structure=new yp(this);this.fragmentsParser=new bp,this.fragmentsAnalyzer=new Ip(this,this.fragmentsParser)}withChildDocuments(e){return this.parseChildDocuments=e,this}shouldParseChildDocument(){return this.parseChildDocuments}hasUnclosedIfStructures(){return this.doesHaveUncloseIfStructures}hasUnclosedStructures(){return this.doesHaveUnclosedStructures}getFrontMatter(){return this.frontMatter}setDocumentPath(e){this.documentPath=e}getFrontMatterEndLine(){return this.frontMatterEndLine}pushError(e){(e.errorCode==v.TYPE_PARSE_UNCLOSED_CONDITIONAL||e.errorCode==v.TYPE_PARSE_UNPAIRED_CONDITIONAL)&&(this.doesHaveUncloseIfStructures=!0);let i=e.hash();this.pushedErrors.has(i)||(this.pushedErrors.set(i,e),this.antlersErrors.push(e),this.structuralErrorCodes.includes(e.errorCode)&&this.structureErrors.push(e))}getInterpolationRegions(){return this.interpolationRegions}getDocumentPath(){return this.documentPath}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let i=K.split(K.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),i.forEach(r=>{this.chars.push(r),this.charLen+=1})}e&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}}charLeftAt(e){return e==null||e.char<=1?null:this.charAt(this.positionFromCursor(e.line,e.char-1))}charLeftAtCursor(e,i){return this.charLeftAt(this.positionFromCursor(e,i))}charRightAt(e){return e==null?null:this.charAt(this.positionFromCursor(e.line,e.char+1))}charRightAtCursor(e,i){return this.charRightAt(this.positionFromCursor(e,i))}punctuationLeftAt(e,i=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:Wn.findLeftNeighboringNextPunctuation(e.char,r,i)}punctuationLeftAtCursor(e,i,r=4){return this.punctuationLeftAt(this.positionFromCursor(e,i),r)}punctuationRightAt(e,i=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:Wn.findRightBeighboringNextPunctuation(e.char,r,i)}punctuationRightAtCursor(e,i,r=4){return this.punctuationRightAt(this.positionFromCursor(e,i),r)}wordRightAt(e,i=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let n=Wn.findRightNeighboringNextAlphaNumeric(e.char,r,i);return n==null?null:Wn.scanWordAt(n,r,i)}wordRightAtCursor(e,i,r=4){return this.wordRightAt(this.positionFromCursor(e,i),r)}wordLeftAt(e,i=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let n=Wn.findLeftNeighboringNextAlphaNumeric(e.char,r,i);return n==null?null:Wn.scanWordAt(n,r,i)}wordLeftAtCursor(e,i,r=4){return this.wordLeftAt(this.positionFromCursor(e,i),r)}wordAt(e,i=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:Wn.scanWordAt(e.char,r,i)}getLineText(e){let i=this.getLineIndex(e);return i!=null?K.trimRight(this.getContent().substring(i.start,i.end+1)):null}wordAtCursor(e,i,r=4){return this.wordAt(this.positionFromCursor(e,i),r)}charAt(e){return e==null?null:this.content.substr(e.offset,1)}getLinesAround(e){var s;let i=new Map,r=e-3,n=e+3;r<1&&(r=1),n>this.maxLine&&(n=this.maxLine);for(let o=r;o<=n;o++)i.set(o,(s=this.getLineText(o))!=null?s:"");return i}charAtCursor(e,i){return this.charAt(this.positionFromCursor(e,i))}getLineIndex(e){if(e==this.maxLine){let r=this.lineIndex.get(e-1);if(r!=null){let n=r.endIndex+1;return{end:this.inputLen-1,start:n}}return null}let i=this.lineIndex.get(e);return i!=null?{start:i.startIndex,end:i.endIndex}:null}positionFromCursor(e,i){if(e==this.maxLine){let n=this.lineIndex.get(e-1);if(n!=null){let s=n.endIndex+1,o=s+(i-1),a=new Zt;return a.offset=o,a.line=e,a.char=i,a.index=o,a}return null}let r=this.lineIndex.get(e);if(r!=null){let n=new Zt;return n.offset=r.startIndex+(i-1),n.line=r.line,n.char=i,n.index=r.startIndex+(i-1),n}return null}parse(e){var u,c,f,d,p,h,T,N,_,g;if(this.resetState(),!this.processInputText(e))return[];let i=this.antlersStartIndex.length,r=i-1;if(i==0&&!this.isNoParse){let y=new Qe;y.withParser(this),y.content=this.prepareLiteralContent(this.content),y.startPosition=this.positionFromOffset(0,0),y.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1),y.sourceContent=this.content,this.nodes.push(y)}else for(let y=0;y<i;y+=1){let x=this.antlersStartIndex[y];if(this.seedOffset=x,y==0&&x>0&&!this.isNoParse){let E=new Qe;if(E.withParser(this),E.content=this.prepareLiteralContent(this.content.substr(0,x)),E.content.length>0){E.startPosition=this.positionFromOffset(0,0),E.endPosition=this.positionFromOffset(x,x-1);let U=(u=E.startPosition.index)!=null?u:0,w=E.endPosition.index+1;E.sourceContent=this.content.substr(U,w-U),this.nodes.push(E)}}if(x<this.lastAntlersEndIndex)continue;if(this.currentChunkOffset=x,this.resetIntermediateState(),this.parseIntermediateText(),this.lastAntlersNode!=null&&!(this.lastAntlersNode instanceof Ms)&&this.lastAntlersNode.isComment&&!(this.lastAntlersNode instanceof Ha)&&y+1<i){let E=this.antlersStartPositionIndex.get(y+1);if(this.lastAntlersNode.endPosition!=null&&E<this.lastAntlersNode.endPosition.offset){let U=null;for(let w=y+1;w<i;w++)if(this.antlersStartIndex[w]>this.lastAntlersNode.endPosition.offset){U=w;break}if(U==null){let w=this.prepareLiteralContent(this.content.substr(this.lastAntlersNode.endPosition.offset+1));if(w.length>0&&!this.isNoParse){let z=new Qe;z.withParser(this),z.content=w;let de=this.lastAntlersNode.endPosition.offset+1;z.startPosition=this.positionFromOffset(de,de),z.endPosition=this.positionFromOffset(this.inputLen,this.inputLen);let H=(c=z.startPosition.index)!=null?c:0,Z=z.endPosition.index+1;z.sourceContent=this.content.substr(H,Z-H),this.nodes.push(z)}break}else{let w=this.antlersStartIndex[U],z=w-this.lastAntlersNode.endPosition.offset-1;if(z>0){let de=this.lastAntlersNode.endPosition.offset,H=w-1;de+=1,H-=1;let Z=this.content.substr(de,z);if(Z.length>0&&!this.isNoParse){let ue=new Qe;ue.withParser(this),ue.content=Z,ue.startPosition=this.positionFromOffset(de,de),ue.endPosition=this.positionFromOffset(H,H);let te=(f=ue.startPosition.index)!=null?f:0,Q=ue.endPosition.index+1;ue.sourceContent=this.content.substr(te,Q-te),this.nodes.push(ue)}continue}y=U-1;continue}}}let L=!1;if(this.antlersStartPositionIndex.has(this.currentChunkOffset)?this.lastAntlersEndIndex<this.currentChunkOffset&&(L=!0):L=!0,L){if(y+1<i){let E=this.antlersStartIndex[y+1],U=this.lastAntlersEndIndex+1;if(E<U)if(this.lastAntlersEndIndex>E)y+2<i&&(E=this.antlersStartIndex[y+2]);else continue;if(y+1==r&&E<=this.lastAntlersEndIndex){if(this.isNoParse)break;let w=this.currentChunkOffset,z=this.content.substr(U),de=new Qe;if(de.withParser(this),de.content=this.prepareLiteralContent(z),de.content.length>0){de.startPosition=this.positionFromOffset(U,w),de.endPosition=this.positionFromOffset(E,E-1);let H=(d=de.startPosition.index)!=null?d:0,Z=de.endPosition.index+1;de.sourceContent=this.content.substr(U,this.inputLen-H+2),this.nodes.push(de)}break}else{let w=E-this.lastAntlersEndIndex-1;if(w==0||this.isNoParse)continue;let de=this.currentChunkOffset;this.lastAntlersNode instanceof Ha&&(U=((h=(p=this.lastAntlersNode.endPosition)==null?void 0:p.offset)!=null?h:0)+1,w-=((N=(T=this.lastAntlersNode.endPosition)==null?void 0:T.offset)!=null?N:0)+1,de=U),this.lastAntlersNode instanceof Ms&&(U-=1,w+=1);let H=this.content.substr(U,w),Z=new Qe;if(Z.withParser(this),Z.content=this.prepareLiteralContent(H),Z.content.length>0){Z.startPosition=this.positionFromOffset(U,U),Z.endPosition=this.positionFromOffset(E,E-1);let ue=(_=Z.startPosition.index)!=null?_:0,te=Z.endPosition.index+1;Z.sourceContent=this.content.substr(ue,te-ue),this.nodes.push(Z)}}continue}if(y!==r&&this.lastAntlersNode!=null&&this.lastAntlersNode.endPosition!=null&&this.positionFromOffset(x,x).isBefore(this.lastAntlersNode.endPosition)){if(y+1<i){if(this.antlersStartIndex[y+1]<this.lastAntlersNode.endPosition.offset)continue}else if(y+1!=r)continue}if(y==r){let E=this.currentIndex+x;if(E<this.inputLen&&!this.isNoParse){let U=new Qe;if(U.withParser(this),U.content=this.prepareLiteralContent(this.content.substr(E)),U.content.length>0){U.startPosition=this.positionFromOffset(E,E),U.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1);let w=(g=U.startPosition.index)!=null?g:0,z=U.endPosition.index+1;U.sourceContent=this.content.substr(w,z-w),this.nodes.push(U)}break}}}}let n=0;this.nodes.forEach(y=>{y.index=n,n+=1}),this.nodes.length>500&&(this.parseChildDocuments=!1),this.nodes.forEach(y=>{y instanceof G&&y.isComment||y instanceof G&&y.interpolationRegions.size>0&&(y.interpolationRegions.forEach((x,L)=>{let E=new Ue;E.withChildDocuments(this.parseChildDocuments),E.setIsInterpolatedParser(!0);let U=E.parse(x.parseContent);U.length>1&&U[1]instanceof G&&(U=[U[1]]),E.hasUnclosedIfStructures()&&(this.doesHaveUncloseIfStructures=!0),E.hasUnclosedStructures()&&(this.doesHaveUnclosedStructures=!0),y.processedInterpolationRegions.set(L,U),this.mergeErrors(E.getAntlersErrors())}),y.hasProcessedInterpolationRegions=!0)}),this.content.length>0&&this.fragmentsParser.setIndexRanges(this.getNodeIndexRanges()).parse(this.content);let s=new Jo;this.renderNodes=s.associate(this.nodes,this),this.createChildDocuments(this.renderNodes);let o=null,a=null;for(let y=0;y<this.nodes.length;y++){let x=this.nodes[y];y+1<this.nodes.length?a=this.nodes[y+1]:a=null,x.next=a,x.prev=o,o=x}this.fragmentsAnalyzer.analyze(),vp.analyze(this.nodes),this.nodes.forEach(y=>{if(y instanceof G&&y.isClosedBy!=null){let x=y.getImmediateChildren();for(let L=0;L<x.length;L++){let E=x[L];if(E instanceof G&&E.isClosedBy!=null){y.containsChildStructures=!0;break}else if(E instanceof tt){y.containsChildStructures=!0;break}}}}),this.nodes.forEach(y=>{if(y instanceof G&&y.isClosingTag&&y.isOpenedBy==null){let x="Unpaired closing tag.";y.isInterpolationNode&&(x+=" Tag pairs are not supported within Antlers tags."),y.pushError(M.makeSyntaxError(v.TYPE_UNPAIRED_CLOSING_TAG,y,x))}}),_p.associateRecursiveParent(this.nodes),this.nodes.forEach(y=>{var x;if(!(y instanceof G&&y.isComment)&&((y instanceof G||y instanceof St)&&(y.isInterpolationNode=this.isInterpolatedParser),(y instanceof G||y instanceof St)&&y.interpolationRegions.size>0&&y.runtimeNodes.forEach(L=>{L instanceof fe&&y.interpolationRegions.has(L.name)&&(L.isInterpolationReference=!0,L.interpolationNodes=y.processedInterpolationRegions.get(L.name))}),(y instanceof G||y instanceof St)&&y.hasParameters&&y.interpolationRegions.size>0&&y.parameters.forEach(L=>{y.interpolationRegions.forEach((E,U)=>{L.value.includes(U)&&L.interpolations.push(U)})}),y instanceof G&&y.runtimeNodes.length>0&&y.isClosingTag==!1&&!y.isComment&&(y.parsedRuntimeNodes=this.languageParser.parse(y.runtimeNodes),y.hasParsedRuntimeNodes=!0,!y.isTagNode&&y.parsedRuntimeNodes.length>0))){let L=y.nodeAtIndex(0);L!=null&&L instanceof fe&&L.name==((x=y.name)==null?void 0:x.name)&&(y.modifierChain=L.modifierChain)}}),this.languageParser.getCreatedModifierChains().forEach(y=>{y.modifierChain.length>0&&y.modifierChain.forEach(x=>{var L,E;x.nameNode!=null&&je.instance!=null&&je.instance.hasModifier((L=x.nameNode)==null?void 0:L.name)&&(x.modifier=(E=je.instance)==null?void 0:E.getModifier(x.nameNode.name))})});let l=1;return this.nodes.forEach(y=>{var x,L;if(y instanceof G){if(y.isComment)return;y.isTagNode=(L=(x=Le.instance)==null?void 0:x.isKnownTag(y.getTagName()))!=null?L:!1,y.scopeName=y.findParameterValue("scope",""),y.antlersNodeIndex=l,l+=1,Tp.analyzeModifierNodeParameters(y)}}),this.nodes.forEach(y=>{var x,L,E,U,w,z,de,H;if(y instanceof G&&y.isClosedBy!=null){let Z=((L=(x=y.endPosition)==null?void 0:x.offset)!=null?L:0)+1,ue=(U=(E=y.isClosedBy.startPosition)==null?void 0:E.offset)!=null?U:0,te=(z=(w=y.startPosition)==null?void 0:w.offset)!=null?z:0,Q=((H=(de=y.isClosedBy.endPosition)==null?void 0:de.offset)!=null?H:0)+1;y.documentText=this.content.substr(Z,ue-Z),y.nodeContent=this.content.substr(te,Q-te),this.parseChildDocuments&&(y.childDocument=xt.childFromText(y.documentText,Mu(y.children)))}}),this.renderNodes}createChildDocuments(e){e.forEach(i=>{var r,n,s,o,a,l,u,c;if(i instanceof G&&i.isClosedBy!=null){let f=i.isClosedBy,d=((n=(r=i.startPosition)==null?void 0:r.index)!=null?n:0)-1,p=((o=(s=f.endPosition)==null?void 0:s.index)!=null?o:0)-d;if(i.documentText=this.content.substr(d,p),this.parseChildDocuments){let h=(l=(a=i.endPosition)==null?void 0:a.index)!=null?l:0,T=((c=(u=f.startPosition)==null?void 0:u.index)!=null?c:0)-1-h,N=this.content.substr(h,T);i.childDocument=xt.childFromText(N,Mu(i.getChildren()))}}})}getNodeIndexRanges(){let e=[];return this.nodes.forEach(i=>{var r,n,s,o;i instanceof Qe||e.push({start:(n=(r=i.startPosition)==null?void 0:r.index)!=null?n:0,end:(o=(s=i.endPosition)==null?void 0:s.index)!=null?o:0})}),e}positionFromOffset(e,i,r=!1){let n=0,s=0;if(this.documentOffsets.has(e)){let a=this.documentOffsets.get(e);n=a.line,s=a.char}else if(this.documentOffsets.size==0)n=1,s=e+1;else{let a=null,l=null,u=null,c=null;for(let f of this.documentOffsets.keys()){if(f>=e){c!=null&&e>c?(a=u,l=c):(a=this.documentOffsets.get(f),l=f);break}u=this.documentOffsets.get(f),c=f}if(a==null&&(a=u,l=c),a!=null)if(r){let f=this.content.split(""),d=e-(l!=null?l:0),p=a.char-(l!=null?l:0)+e;s=d,n=a.line,e<=(l!=null?l:0)?(n=a.line,s=e+1):n=a.line+1}else{let f=this.content.split(""),d=e-(l!=null?l:0),p=a.char-(l!=null?l:0)+e;s=d,n=a.line,e<=(l!=null?l:0)?(n=a.line,s=e+1):n=a.line+1}else this.lastDocumentOffsetKey!=null&&(n=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let o=new Zt;return o.index=i,o.offset=e,o.line=n+this.shiftLine,o.char=s,o}getLanguageParser(){return this.languageParser}getText(e,i){return this.content.substr(e,i-e)}getOriginalContent(){return this.originalContent}getContent(){return this.content}getFragments(){return this.fragmentsParser.getFragments()}getFragmentsParser(){return this.fragmentsParser}getFragmentsContainingStructures(){return this.fragmentsParser.getFragmentsContainingStructures()}setIsInterpolatedParser(e){return this.isInterpolatedParser=e,this}setStartLineSeed(e){return this.seedStartLine=e,this}setSeedStartChar(e){return this.seedStartchar=e,this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.currentContent=[],this.sourceContent=[],this.cur=null,this.next=null,this.prev=null}setSeedPosition(e){return e==null?this.shiftLine=0:this.shiftLine=e.line,this}resetState(){if(this.languageParser.reset(),this.charLen=0,this.antlersStartIndex=[],this.antlersErrors=[],this.pushedErrors.clear(),this.antlersStartPositionIndex.clear(),this.lastAntlersEndIndex=-1,this.renderNodes=[],this.nodes=[],ps.globalTagEnterStack.length>0){let e=ps.globalTagEnterStack[ps.length-1];e!=null&&e.endPosition!=null&&this.setStartLineSeed(e.endPosition.line)}this.seedOffset=0,this.isScanningInterpolations=!1,this.content="",this.chars=[],this.currentIndex=0,this.startIndex=0,this._recoveryStartIndex=0,this.cur=null,this.next=null,this.prev=null,this.inputLen=0,this.documentOffsets.clear(),this.isDoubleBrace=!1,this.interpolationRegions.clear(),this.interpolationEndOffsets.clear()}fetch(e){let i=this.currentChunkOffset+this.chunkSize-this.chars.length;return K.substring(this.content,i,e)}getParsedContent(){return this.content}peek(e){if(e==this.charLen){let i=K.split(K.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,i.forEach(r=>{this.chars.push(r),this.charLen+=1})}return this.chars[e]}parseIntermediateText(){for(this.currentContent=[],this.sourceContent=[],this.startIndex=0,this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length,this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==Ue.LeftBrace&&this.next==Ue.LeftBrace&&this.prev==Ue.AtChar){this.dumpLiteralNode(this.currentIndex);let e=new li;e.withParser(this),e.name=new Yi,e.name.name="noparse",e.content="{{",e.startPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),e.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),this.nodes.push(e),this.currentContent=[],this.sourceContent=[],this.currentIndex+=1;continue}if((this.prev==null||this.prev!=null&&this.prev!=Ue.AtChar)&&this.next!=null&&this.cur==Ue.LeftBrace&&this.next==Ue.LeftBrace){this.dumpLiteralNode(this.currentIndex);let e=null;if(this.currentIndex+2<this.inputLen&&(e=this.peek(this.currentIndex+2)),e==Ue.Punctuation_Question&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(Ue.Punctuation_Question),this.isDoubleBrace=!1;break}if(e==Ue.Punctuation_Dollar&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(Ue.Punctuation_Dollar),this.isDoubleBrace=!1;break}if(e==Ue.Punctuation_Octothorp&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersCommentRegion(),this.isDoubleBrace=!1;break}if(!this.isNoParse)this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1;else if(this.fetch(11).replace(" ","").toLocaleLowerCase().startsWith("{{/noparse")){this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1,this.isNoParse=!1;break}else{this.currentContent.push(this.cur);continue}break}if(this.cur==Ue.AtChar&&this.next!=null&&this.next==Ue.LeftBrace){if(this.currentIndex+2>=this.inputLen){this.appendContent(this.next),this.dumpLiteralNode(this.currentIndex+1);break}let e=0;for(let i=this.currentIndex+1;i<this.inputLen&&this.chars[i]==Ue.LeftBrace;i+=1)e+=1;this.currentContent=this.currentContent.concat(Ue.LeftBrace.repeat(e).split("")),this.sourceContent=this.currentContent.concat(Ue.LeftBrace.repeat(e).split("")),this.currentIndex+=e}this.appendContent(this.cur),this.next==null&&this.currentContent.length>0&&this.dumpLiteralNode(this.currentIndex)}}getRenderNodes(){return this.renderNodes}processInputText(e){var f;if(this.originalContent=e,this.content=K.normalizeLineEndings(e),this.inputLen=this.content.length,this.content.startsWith("---")){let d=this.content.split(`
`),p=[],h=[];h.push("");for(let T=1;T<d.length;T++){let N=d[T];if(N.startsWith("---")){h.push(""),h=h.concat(d.slice(T+1)),this.content=h.join(`
`),this.frontMatter=p.join(`
`),this.frontMatterEndLine=T+1;break}else p.push(N),h.push("")}}let i=[...this.content.matchAll(/(\n)/gm)],r=i.length,n=this.seedStartLine,s=null,o=0,a=0;for(let d=0;d<r;d++){let p=i[d],h=(f=p.index)!=null?f:0,T=h;s!=null?T=h-s:T=T+1,this.documentOffsets.set(h,{char:T,line:n});let N=0,_=0;d==0?(_=T-1,N=0):(N=a+1,_=h),this.lineIndex.set(n,{char:T,line:n,startIndex:N,endIndex:_}),this.lastDocumentOffsetKey=h,this.maxLine=n,n+=1,s=h,a=_,o=N}this.maxLine+=1;let l=[...this.content.matchAll(/@?{{/gm)],u=0,c=!1;return l.forEach(d=>{let p=d[0];if(p.startsWith(Ue.AtChar)){u=this.content.indexOf(p,u)+2,c=!0;return}let h=this.content.indexOf(p,u);if(c&&u==h){u=h;return}this.antlersStartIndex.push(h),this.antlersStartPositionIndex.set(h,1),u=h+2,c=!1}),!0}prepareLiteralContent(e){return e.replace("@{{","{{")}scanToEndOfPhpRegion(e){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==e&&this.next!=null&&this.next==Ue.RightBrace&&this.peek(this.currentIndex+2)==Ue.RightBrace){let r=this.makeAntlersPhpNode(this.currentIndex,e==Ue.Punctuation_Dollar);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.startIndex=this.currentIndex,this._recoveryStartIndex=this.startIndex,this.nodes.push(r),this.lastAntlersNode=r;break}if(this.appendContent(this.cur),this.next==null){let i=this.makeAntlersPhpFailedNode(this.currentIndex);this.nodes.push(i),this.lastAntlersNode=i,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(M.makeSyntaxError(v.TYPE_INCOMPLETE_PHP_EVALUATION_REGION,i,"Unexpected end of input while parsing Antlers PHP region."));break}}}appendContent(e){e!=null&&(this.currentContent.push(e),this.sourceContent.push(e))}scanToEndOfAntlersCommentRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==Ue.Punctuation_Octothorp&&this.next!=null&&this.next==Ue.RightBrace&&this.peek(this.currentIndex+2)==Ue.RightBrace){let i=this.makeAntlersTagNode(this.currentIndex,!0);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.nodes.push(i),this.lastAntlersNode=i;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersCommentFailedNode(this.currentIndex);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(M.makeSyntaxError(v.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION,e,"Unexpected end of input while parsing Antlers comment region."));break}}}scanToEndOfInterpolatedRegion(){this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0);let e=[];this.isScanningInterpolations=!0;let i=0;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.checkCurrentOffsets(),this.cur==Ue.LeftBrace){if(this.prev==Ue.AtChar){e.push(this.cur);continue}i+=1,e.push(this.cur)}else if(this.cur==Ue.RightBrace){if(this.prev==Ue.AtChar){e.push(this.cur);continue}if(i-=1,e.push(this.cur),i==0){this.interpolationEndOffsets.set(this.currentIndex,1);break}}else this.cur!=null&&e.push(this.cur);let r=e.join(""),s=("int_"+OS.Md5.hashStr(r)).substr(0,r.length),o=s.length,a=r.length;if(o<a){let l=a-o;s+="x".repeat(l)}return this.isScanningInterpolations=!1,{content:r,varContent:s}}bordersInterpolationRegion(e){if(this.interpolationEndOffsets.size==0)return!1;let i=e.offset-1;return i<=0?!1:this.interpolationEndOffsets.has(i)}getParseableContent(e){let i="";for(let r=0;r<=e;r++)this.content[r]==Ue.LeftBrace||this.content[r]==Ue.RightBrace?i+="~":i+=this.content[r];return i}scanToEndOfAntlersRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==Ue.LeftBrace&&this.prev==Ue.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.isInterpolatedParser&&this.cur==Ue.RightBrace&&this.prev==Ue.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.cur==Ue.LeftBrace){let e=this.scanToEndOfInterpolatedRegion(),i=this.currentIndex+this.seedOffset,r=i-e.content.length,n=this.getParseableContent(r-1);ps.interpolatedVariables.push(e.varContent),this.currentContent=this.currentContent.concat(e.varContent.split("")),this.sourceContent=this.sourceContent.concat(e.content.split(""));let s=n+"{"+e.content+"}";this.interpolationRegions.set(e.varContent,{content:e.content,parseContent:s,varContent:e.varContent,startOffset:r,endOffset:i});continue}if(this.cur==Ue.RightBrace&&this.next!=null&&this.next==Ue.RightBrace){let e=this.makeAntlersTagNode(this.currentIndex,!1);e.name!=null&&e.name.name=="noparse"&&(this.isNoParse=!0),this.currentIndex+=2,this.nodes.push(e),this.lastAntlersNode=e;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersFailedNode(this.currentIndex,!1);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0;let i="Unexpected end of input while parsing Antlers region.";this.isScanningInterpolations&&(i="Unexpected end of input wihle parsing interpolated Antlers region."),this.antlersErrors.push(M.makeSyntaxError(v.TYPE_INCOMPLETE_ANTLERS_REGION,e,i));break}}}makeAntlersPhpNode(e,i){let r=new Ms;return i?(r.rawStart="{{$",r.rawEnd="$}}"):(r.rawStart="{{?",r.rawEnd="?}}"),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+3>this.inputLen?(r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(M.makeSyntaxError(v.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r):(this.lastAntlersEndIndex=e+3+this.seedOffset,r.endPosition=this.positionFromOffset(e+this.seedOffset,e+3+this.seedOffset),r)}makeAntlersPhpFailedNode(e){let i=new rd;i.rawStart="{{$",i.rawEnd="$}}",i._isEndVirtual=!0,i.content=this.currentContent.join(""),i.sourceContent=this.sourceContent.join(""),i.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let r=this.getLineText(i.startPosition.line),n=this.getLineIndex(i.startPosition.line);if(r!=null){let o=r.substr(this._recoveryStartIndex);i.content=o,i.sourceContent=o}let s=e+this.seedOffset;return n!=null&&(this.currentIndex=n.end,s=n.end),i.endPosition=this.positionFromOffset(s,s),i}makeAntlersCommentFailedNode(e){let i=new Ha;this.isDoubleBrace?(i.rawStart="{{",i.rawEnd="}}"):(i.rawStart="{",i.rawEnd="}"),i._isEndVirtual=!0;let r=!1,n=this.currentContent.length;n>0&&this.currentContent[n-1]==Ue.Punctuation_ForwardSlash&&(this.currentContent.pop(),r=!0),i.isComment=!0,i.isSelfClosing=r,i.withParser(this),i.content=this.currentContent.join(""),i.sourceContent=this.sourceContent.join(""),i.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let s=this.getLineText(i.startPosition.line),o=this.getLineIndex(i.startPosition.line);if(s!=null){let l=s.substr(this._recoveryStartIndex);i.content=l,i.sourceContent=l}let a=e+this.seedOffset;return o!=null&&(this.currentIndex=o.end,a=o.end),i.endPosition=this.positionFromOffset(a,a),i.interpolationRegions=new Map,this.interpolationRegions.forEach((l,u)=>{i.content.includes(u)&&i.interpolationRegions.set(u,l)}),i}makeAntlersFailedNode(e,i){let r=new St;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}"),r._isEndVirtual=!0;let n=!1,s=this.currentContent.length;s>0&&this.currentContent[s-1]==Ue.Punctuation_ForwardSlash&&(this.currentContent.pop(),n=!0),r.isComment=i,r.isSelfClosing=n,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let o=this.getLineText(r.startPosition.line),a=this.getLineIndex(r.startPosition.line);if(o!=null){let c=K.trimLeft(this.content.substring(r.startPosition.offset+r.rawStart.length-1,a==null?void 0:a.end),"{");r.content=c,r.sourceContent=c}let l=e+this.seedOffset;a!=null&&(this.currentIndex=a.end,l=a.end),r.endPosition=this.positionFromOffset(l,l),r.interpolationRegions=new Map,this.interpolationRegions.forEach((c,f)=>{r.content.includes(f)&&r.interpolationRegions.set(f,c)});let u=this.nodeParser.parseNode(r);return this.mergeErrors(u.getErrors()),u}makeAntlersTagNode(e,i){let r=new G;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}");let n=!1,s=this.currentContent.length;if(s>0&&this.currentContent[s-1]==Ue.Punctuation_ForwardSlash&&(this.currentContent.pop(),n=!0),r.isInterpolationNode=this.isInterpolatedParser,r.isComment=i,r.isSelfClosing=n,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+2>this.inputLen)return r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(M.makeSyntaxError(v.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r;if(i?this.lastAntlersEndIndex=e+2+this.seedOffset:this.lastAntlersEndIndex=e+1+this.seedOffset,r.endPosition=this.positionFromOffset(this.lastAntlersEndIndex,this.lastAntlersEndIndex),r.interpolationRegions=new Map,this.interpolationRegions.forEach((a,l)=>{r.content.includes(l)&&r.interpolationRegions.set(l,a)}),r.isComment)return r;let o=this.nodeParser.parseNode(r);return this.mergeErrors(o.getErrors()),o}mergeErrors(e){e.forEach(i=>{this.antlersErrors.push(i)})}getNodes(){return this.nodes}getNodesBetween(e,i){let r=[];return this.nodes.forEach(n=>{var s,o,a,l;((o=(s=n.startPosition)==null?void 0:s.offset)!=null?o:0)>e.offset&&((l=(a=n.endPosition)==null?void 0:a.offset)!=null?l:0)<i.offset&&r.push(n)}),r}antlersNodes(){return this.nodes.filter(function(e){return e instanceof G})}dumpLiteralNode(e){this.isNoParse||(this.currentContent.length>0&&this.nodes.push(this.makeLiteralNode(this.currentContent,this.startIndex,e)),this.currentContent=[],this.sourceContent=[])}makeLiteralNode(e,i,r){let n=new Qe;return n.content=e.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(i,i),n.endPosition=this.positionFromOffset(r,r),n.sourceContent=this.content.substr(i,r),n.withParser(this),n}addAntlersError(e){this.antlersErrors.push(e)}getAntlersErrors(){return this.antlersErrors}getStructureErrors(){return this.structureErrors}},D=Ue;D.K_CHAR="char",D.K_LINE="line",D.NewLine=`
`,D.AtChar="@",D.LeftBrace="{",D.RightBrace="}",D.LeftBracket="[",D.RightBracket="]",D.String_EscapeCharacter="\\",D.String_Terminator_DoubleQuote='"',D.String_Terminator_SingleQuote="'",D.Punctuation_Question="?",D.Punctuation_Equals="=",D.Punctuation_Comma=",",D.Punctuation_Colon=":",D.Punctuation_Semicolon=";",D.Punctuation_Exclamation="!",D.Punctuation_Pipe="|",D.Punctuation_Ampersand="&",D.Punctuation_LessThan="<",D.Punctuation_GreaterThan=">",D.Punctuation_Octothorp="#",D.Punctuation_Tilde="~",D.Punctuation_FullStop=".",D.Punctuation_Dollar="$",D.Punctuation_Asterisk="*",D.Punctuation_Percent="%",D.Punctuation_Plus="+",D.Punctuation_Minus="-",D.Punctuation_Underscore="_",D.Punctuation_ForwardSlash="/",D.Punctuation_Caret="^",D.LeftParen="(",D.RightParent=")";var kt=class{static findAssignmentNodes(e){let i=[];for(let r=0;r<e.length;r++)Wt.isAssignmentOperatorNode(e[r])&&i.push(e[r]);return i}static findAbstractNodesBefore(e,i){return this.findAbstractNodesBeforePosition(e.startPosition,i)}static findAbstractNodesBeforePosition(e,i){if(e==null)return[];let r=[];for(let n=0;n<i.length;n++){let s=i[n];if(s.startPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static isBefore(e,i){return e.startPosition==null?!1:e.startPosition.index<i.index}static isAfter(e,i){return e.startPosition==null?!1:e.startPosition.index>i.index}static findNodesBeforePosition(e,i){let r=[];if(e==null)return r;for(let n=0;n<i.length;n++){let s=i[n];if(!kt.isLiteralType(s)&&s.startPosition!=null&&s.endPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static findNodesAfterPosition(e,i){let r=[];if(e==null)return r;for(let n=0;n<i.length;n++){let s=i[n];kt.isLiteralType(s)||s.startPosition!=null&&s.startPosition.index>e.index&&r.push(s)}return r}static findNodeBeforePosition(e,i){if(e==null)return null;let r=null;for(let n=0;n<i.length;n++){let s=i[n];if(!kt.isLiteralType(s)&&s.startPosition!=null){if(s.startPosition.index>e.index)break;r=s}}return r}static findNodeAfterPosition(e,i){if(e==null)return null;for(let r=0;r<i.length;r++){let n=i[r];if(!kt.isLiteralType(n)&&n.startPosition!=null&&n.startPosition.index>e.index)return n}return null}static findNodeAtPosition(e,i){if(e==null)return null;for(let r=0;r<i.length;r++){let n=i[r];if(!kt.isLiteralType(n)&&n.startPosition!=null&&n.endPosition!=null&&e.index>=n.startPosition.index&&e.index<=n.endPosition.index)return n}return null}static isLiteralType(e){return e instanceof li||e instanceof Qe}};var El=class{static isModifierLeftOf(e,i){return El.isModifierLeftOfPosition(e.startPosition,i)}static isModifierLeftOfPosition(e,i){let r=kt.findAbstractNodesBeforePosition(e,i);for(let n=r.length-1;n>=0;n--){let s=r[n];if(s instanceof ti&&n-1>0&&r[n-1]instanceof Ht)return!0;if(s instanceof ei){if(n==r.length-1)continue;return!1}if(s instanceof ti)return!1;if(s instanceof Ai)return!0}return!1}};var Cl=class{constructor(){this.isRightOfOperator=!1;this.isLeftOfOperator=!1}static resolveContext(e,i,r){let n=new Cl;return r!=null&&(r.prev!=null&&Wt.isOperatorType(r.prev)&&(n.isRightOfOperator=!0),r.next!=null&&Wt.isOperatorType(r.next)&&(n.isLeftOfOperator=!0)),n}};var Np=class{constructor(){this.inTagPart=!1;this.inMethodPart=!1}};var Rl=class{constructor(){this.modifierChain=null;this.activeModifier=null;this.name="";this.inModifierName=!1;this.inModifierParameter=!1;this.valueCount=0;this.activeValueIndex=-1;this.activeValue=null}static resolveContext(e,i,r,n){var c;let s=i.getParser(),o=new Rl,a=s.getLanguageParser().getCreatedModifierChains(),l=null;for(let f=0;f<a.length;f++){let d=a[f];if(e.isWithin(d.startPosition,d.endPosition,2)){for(let p=0;p<d.modifierChain.length;p++){let h=d.modifierChain[p];if(e.isWithin(h.startPosition,h.endPosition,2)){l=h;break}}if(l!=null)break}}l==null&&r instanceof Ht&&n.getDocumentParser().getLanguageParser().hasModifierConstruct(r)&&(l=n.getDocumentParser().getLanguageParser().getModifierConstruct(r));let u=n.wordLeftAt(e);if(l==null&&u!=null&&((c=je.instance)==null?void 0:c.hasModifier(u))&&i.modifierChain!=null&&i.modifierChain.modifierChain.length>0)for(let f=0;f<i.modifierChain.modifierChain.length;f++){let d=i.modifierChain.modifierChain[f];if(d.modifier!=null&&d.modifier.name==u){l=d;break}}if(l!=null){if(o.activeModifier=l,l.nameNode!=null&&(o.name=l.nameNode.name),l.nameNode!=null&&e.isWithin(l.nameNode.startPosition,l.nameNode.endPosition,1)&&(o.inModifierName=!0),l.methodStyleArguments!=null){if(o.valueCount=l.methodStyleArguments.args.length,!o.inModifierName){for(let f=0;f<l.methodStyleArguments.args.length;f++){let d=l.methodStyleArguments.args[f];e.isWithin(d.startPosition,d.endPosition,1)&&(o.activeValueIndex=f,o.activeValue=d)}o.activeValueIndex===-1&&e.isWithin(l.methodStyleArguments.startPosition,l.methodStyleArguments.endPosition)&&(o.valueCount+=1,o.activeValueIndex=o.valueCount-1)}}else if(o.valueCount=l.valueNodes.length,!o.inModifierName)for(let f=0;f<l.valueNodes.length;f++){let d=l.valueNodes[f];if(e.isWithin(d.startPosition,d.endPosition,1)){o.activeValueIndex=f,o.activeValue=d;break}}}return o}};var xl=class{constructor(){this.parameter=null;this.isInName=!1;this.isInValue=!1}static resolveContext(e,i){let r=new xl;return r.parameter=i,e.isWithinRange(i.namePosition)?r.isInName=!0:e.isWithinRange(i.valuePosition)&&(r.isInValue=!0),r}};var Sp=class{constructor(){this.refId="";this.node=null;this.leftPunctuation=null;this.rightPunctuation=null;this.leftChar=null;this.rightChar=null;this.word=null;this.char=null;this.interpolatedContext=!1;this.leftWord=null;this.rightWord=null;this.isCursorInIdentifier=!1;this.root=null;this.identifierContext=null;this.position=null;this.feature=null;this.isInParameter=!1;this.subContext=null;this.parameterContext=null;this.modifierContext=null;this.generalContext=null;this.variableContext=null;this.cursorContext=N_.Unknown;this.refId=Ga()}},N_=(o=>(o[o.Unknown=0]="Unknown",o[o.Variable=1]="Variable",o[o.Modifier=2]="Modifier",o[o.Parameter=3]="Parameter",o[o.General=4]="General",o[o.LanguageOperator=5]="LanguageOperator",o))(N_||{});var wl=class{constructor(){this.variableNode=null;this.varPathText=""}static resolveContext(e,i,r,n){var f;if(r==null)return null;let s=r,o=n.getDocumentParser().getLanguageParser(),a=new wl,l=(f=n.wordAt(e))!=null?f:"";r instanceof Mt&&o.isMergedVariableComponent(r)==!1&&r.prev instanceof fe&&(s=r.prev);let u="";if(o.isMergedVariableComponent(s)){let d=o.getMergedVariable(s);d.startPosition!=null&&(u=n.getText(d.startPosition.index,e.index).trim()),a.variableNode=d}else s instanceof fe&&(a.variableNode=s,u=s.name,s.variableReference!=null&&(u=s.variableReference.normalizedReference));u.length>0&&(u=jt(u,"\\.",":"));let c=u.split(":");return l.trim().length>0&&c.pop(),u=c.join(":"),u.endsWith(":")&&(u=Tn(u,":")),a.varPathText=u,a}};var Yn=class{static resolveIdentifierContext(e,i){let r=new Np;return i.nameMethodPartStartsOn!=null?e.char<i.nameMethodPartStartsOn.char?(r.inTagPart=!0,r.inMethodPart=!1):(r.inTagPart=!1,r.inMethodPart=!0):(r.inMethodPart=!1,r.inTagPart=!0),r}static resolveContext(e,i,r,n=!1,s=null){var o,a,l,u,c,f;if(i==null||e==null)return null;if(i instanceof rr||i instanceof G){let d=new Sp;if(i.nameStartsOn!=null&&e.line==i.nameStartsOn.line){let T=!1;e.char>=i.nameStartsOn.char&&(T=!0),i.nameEndsOn!=null&&e.char>i.nameEndsOn.char&&(T=!1),T&&(d.isCursorInIdentifier=!0,d.identifierContext=Yn.resolveIdentifierContext(e,i))}i.addContext(d),s!=null&&s.addContext(d),d.interpolatedContext=n,d.node=i,d.position=e,d.root=s,d.leftPunctuation=r.punctuationLeftAt(e),d.rightPunctuation=r.punctuationRightAt(e),d.leftChar=r.charLeftAt(e),d.rightChar=r.charRightAt(e),d.isCursorInIdentifier==!0&&d.leftChar==" "&&(d.leftChar=":"),d.word=r.wordAt(e),d.char=r.charAt(e),d.leftWord=r.wordLeftAt(e),d.rightWord=r.wordRightAt(e);let p=!1;if(i.parameters.length>0)for(let T=0;T<i.parameters.length;T++){let N=i.parameters[T];if(N.blockPosition!=null&&N.blockPosition.start!=null&&N.blockPosition.end!=null&&e.char>N.blockPosition.start.char&&e.char<=N.blockPosition.end.char+1&&e.line>=((l=(a=(o=N.namePosition)==null?void 0:o.start)==null?void 0:a.line)!=null?l:N.blockPosition.start.line)&&e.line<=((f=(c=(u=N.valuePosition)==null?void 0:u.end)==null?void 0:c.line)!=null?f:N.blockPosition.end.line)){d.cursorContext=3,d.parameterContext=xl.resolveContext(e,N),d.isInParameter=!0,d.feature=N,p=!0;break}}if(p||i.runtimeNodes.forEach(T=>{T.startPosition!=null&&T.endPosition!=null&&e.isWithin(T.startPosition,T.endPosition,1)&&(d.feature=T)}),p&&i.interpolationRegions.size>0){let T=Array.from(i.interpolationRegions,([N,_])=>_);for(let N=0;N<T.length;N++){let _=T[N];if(e.index>=_.startOffset&&e.index<=_.endOffset){let g=i.getInterpolationNode(_.varContent);return Yn.resolveContext(e,g,r,!0,s)}}}return d.feature instanceof fe&&d.feature.isInterpolationReference&&d.feature.parent!=null&&d.feature.parent instanceof G&&d.feature.parent.processedInterpolationRegions.has(d.feature.name)?Yn.resolveContext(e,d.feature.parent.getInterpolationNode(d.feature.name),r,!0,s):(El.isModifierLeftOfPosition(e,i.runtimeNodes)?(d.cursorContext=2,d.modifierContext=Rl.resolveContext(e,i,d.feature,r)):p||(d.cursorContext=4,d.generalContext=Cl.resolveContext(e,i,d.feature)),d.variableContext=wl.resolveContext(e,i,d.feature,r),d)}return null}};var io=class{static isPairedNode(e){return e instanceof tt?!0:e instanceof rr||e instanceof G?e.isClosedBy!=null:!1}static findAncestorsBeforePosition(e,i){var a,l,u,c,f,d;let r=[],n=[],s=-1,o=-1;for(let p=0;p<i.length;p++){let h=i[p];if(h.isClosedBy!=null&&(a=h.isClosedBy.endPosition)!=null&&a.isBefore(e)&&(n.push(h),n.push(h.isClosedBy),s=h.isClosedBy.endPosition.line,o=h.isClosedBy.endPosition.char),!(s>-1&&h.endPosition!=null&&(h.endPosition.line<s||h.endPosition.line==s&&o>-1&&h.endPosition.char<o))){if(h.startPosition!=null){if(e.isBefore(h.startPosition))break;if(h.startPosition.line==e.line&&e.char<=h.startPosition.char){n.push(h);continue}}if(((l=Le.instance)==null?void 0:l.requiresClose(h))&&h.isClosedBy!=null){let T=h.isClosedBy;if((u=T.startPosition)!=null&&u.isBefore(e)){n.push(h),n.push(T);continue}else((c=T.startPosition)==null?void 0:c.line)==e.line&&((f=T.startPosition)==null?void 0:f.char)<e.char?n.push(h):r.push(h)}else if(h.parent!=null){let T=h.parent;if(n.includes(T)){n.push(h);continue}else(d=h.endPosition)!=null&&d.isBefore(e)?r.push(h):n.push(h)}else r.push(h)}}return r}};var Pp=class{constructor(e){this.doc=e}getAncestorsAt(e,i){let r=this.position(e,i);return r==null?[]:io.findAncestorsBeforePosition(r,this.doc.getAllAntlersNodes())}getNameAt(e,i){let r=this.getNodeAt(e,i);return r instanceof G?r.name:null}getScopeAt(e,i){let r=this.getNodeAt(e,i);return r instanceof G&&r.currentScope!=null?r.currentScope:null}getFeaturesAt(e,i){let r=this.position(e,i),n=this.getNodeAt(e,i);return Yn.resolveContext(r,n,this.doc,!1,n)}getNodeAt(e,i){return kt.findNodeAtPosition(this.position(e,i),this.doc.getDocumentParser().getNodes())}getNodeBefore(e,i){return kt.findNodeBeforePosition(this.position(e,i),this.doc.getDocumentParser().getNodes())}getNodeAfter(e,i){return kt.findNodeAfterPosition(this.position(e,i),this.doc.getDocumentParser().getNodes())}getNodesBefore(e,i){return kt.findNodesBeforePosition(this.position(e,i),this.doc.getDocumentParser().getNodes())}getAssignmentsBefore(e,i){let r=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),n=[],s=this.position(e,i);return s!=null&&r.forEach(o=>{kt.isBefore(o.target,s)&&n.push(o)}),n}getAssignmentsAfter(e,i){let r=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),n=[],s=this.position(e,i);return s!=null&&r.forEach(o=>{kt.isAfter(o.target,s)&&n.push(o)}),n}getNodesAfter(e,i){return kt.findNodesAfterPosition(this.position(e,i),this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e,i){let r=this.getNodeBefore(e,i);return r==null?!1:io.isPairedNode(r)}position(e,i){return this.doc.getDocumentParser().positionFromCursor(e,i)}charLeftAt(e,i){return this.doc.getDocumentParser().charLeftAtCursor(e,i)}charAt(e,i){return this.doc.getDocumentParser().charAtCursor(e,i)}charRightAt(e,i){return this.doc.getDocumentParser().charRightAtCursor(e,i)}wordLeftAt(e,i,r=4){return this.doc.getDocumentParser().wordLeftAtCursor(e,i,r)}wordRightAt(e,i,r=4){return this.doc.getDocumentParser().wordRightAtCursor(e,i,r)}wordAt(e,i,r=4){return this.doc.getDocumentParser().wordAtCursor(e,i,r)}punctuationLeftAt(e,i,r=4){return this.doc.getDocumentParser().punctuationLeftAtCursor(e,i,r)}punctuationRightAt(e,i,r=4){return this.doc.getDocumentParser().punctuationRightAtCursor(e,i,r)}};var Ap=class{constructor(e){this.doc=e}hasStructureErrors(){return this.doc.getDocumentParser().getStructureErrors().length>0}getFirstStructureError(){return this.doc.getDocumentParser().getStructureErrors()[0]}hasAny(){return this.all().length>0}all(){let e=[],i=[];return this.doc.getAllAntlersNodes().forEach(r=>{r.getErrors().forEach(n=>{e.includes(n.hash())==!1&&(e.push(n.hash()),i.push(n))})}),this.doc.getDocumentParser().getAntlersErrors().forEach(r=>{e.includes(r.hash())==!1&&(e.push(r.hash()),i.push(r))}),i}};var PP=ee(Rn());var Qi=ee(NP(),1),ipe=Qi.default.binaryOptions,rpe=Qi.default.boolOptions,npe=Qi.default.intOptions,spe=Qi.default.nullOptions,ope=Qi.default.strOptions,ape=Qi.default.Schema,lpe=Qi.default.Alias,upe=Qi.default.Collection,cpe=Qi.default.Merge,fpe=Qi.default.Node,SP=Qi.default.Pair,zu=Qi.default.Scalar,Qu=Qi.default.YAMLMap,ql=Qi.default.YAMLSeq;var Hp=class{constructor(e){this.documentScope=null;this.project=e}getKeyValue(e){return e instanceof zu?e.value:""}getNodeValue(e){return e instanceof zu?e.value:e instanceof Qu?this.analyzeDocument(e.items):e instanceof ql?this.analyzeDocument(e.items):""}getScalarRuntimeType(e){return parseFloat(e).toString()==e||parseInt(e).toString()==e?"number":"string"}analyzeDocument(e){let i=new ur(this.project);return e.forEach(r=>{if(r instanceof SP){let n=this.getKeyValue(r.key),s=this.getNodeValue(r.value);if(r.value instanceof zu)i.addVariable({dataType:this.getScalarRuntimeType(s),introducedBy:null,name:n,sourceField:null,sourceName:"*frontmatter"});else if(r.value instanceof ql&&r.key instanceof zu){let o=new ur(this.project);r.value.items.forEach(a=>{let l=this.getNodeValue(a);o.addVariable({dataType:this.getScalarRuntimeType(l),introducedBy:null,name:a.value,sourceField:null,sourceName:"*frontmatter"})}),i.addScopeList(r.key.value,o)}else i.addScopeList(n,s)}}),i}parse(e){try{let i=PP.parseDocument(e);i.contents instanceof Qu&&(this.documentScope=this.analyzeDocument(i.contents.items))}catch{this.documentScope=null}}hasScope(){return this.documentScope!=null}getScope(){return this.documentScope}};var Wp=class{constructor(e){this.doc=e}getAncestors(e){return io.findAncestorsBeforePosition(e,this.doc.getAllAntlersNodes())}getNodeAt(e){return kt.findNodeAtPosition(e,this.doc.getDocumentParser().getNodes())}getNodesBefore(e){return kt.findNodesBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeBefore(e){return kt.findNodeBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeAfter(e){return kt.findNodeAfterPosition(e,this.doc.getDocumentParser().getNodes())}getNodesAfter(e){return kt.findNodesAfterPosition(e,this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e){let i=this.getNodeBefore(e);return i==null?!1:io.isPairedNode(i)}filter(e){return this.doc.getDocumentParser().getNodes().filter(e)}getComments(){let e=[];return this.doc.getAllNodes().forEach(i=>{i instanceof G&&i.isComment&&e.push(i)}),e}getMultilineNodes(){let e=[];return this.doc.getAllNodes().forEach(i=>{var r,n;i instanceof G&&!i.isComment&&((r=i.startPosition)==null?void 0:r.line)!=((n=i.endPosition)==null?void 0:n.line)&&e.push(i)}),e}getMultiLineComments(){let e=[];return this.getComments().forEach(i=>{var r,n;((r=i.startPosition)==null?void 0:r.line)!=((n=i.endPosition)==null?void 0:n.line)&&e.push(i)}),e}getAllLiteralNodes(){let e=[];return this.doc.getAllNodes().forEach(i=>{(i instanceof Qe||i instanceof li)&&e.push(i)}),e}getStructuralNodes(){let e=[];return this.doc.getDocumentParser().getRenderNodes().forEach(i=>{i instanceof G?e.push(i):i instanceof tt&&i.logicBranches.length>0&&i.logicBranches.forEach(r=>{if(r.head!=null){let n=r.head;n.originalNode!=null?e.push(n.originalNode):e.push(n)}})}),e}getAllRuntimeNodes(){let e=[];return this.doc.getAllNodes().forEach(i=>{(i instanceof rr||i instanceof G)&&i.runtimeNodes.length>0&&i.runtimeNodes.forEach(r=>{e.push(r)})}),e}getAllParameterNodes(){let e=[];return this.doc.getAllNodes().forEach(i=>{(i instanceof rr||i instanceof G)&&i.hasParameters&&i.parameters.forEach(r=>{e.push(r)})}),e}getAssignmentNodes(){return kt.findAssignmentNodes(this.getAllRuntimeNodes())}};var Yp=class{constructor(e){this.doc=e}getAllSelfClosingNodes(){let e=[];return this.doc.getAllNodes().forEach(i=>{i instanceof G&&i.isSelfClosing&&e.push(i)}),e}getAllPairedNodes(){let e=[];return this.doc.getAllNodes().forEach(i=>{(i instanceof G||i instanceof St)&&i.isClosedBy!=null&&!i.isSelfClosing&&e.push(i)}),e}};var Xu=class{static printCommentLines(e,i,r){let n=e.getContent(),s=n.trim();if(s.includes(`
`)){let o=K.breakByNewLine(n),a=[];o.forEach(c=>{if(c.trim().length==0){a.push(" ".repeat(i+r)+c.trim());return}let f=c.length-c.trim().length,d=c.trim();(d.startsWith("@desc")||d.startsWith("@set")||d.startsWith("@name"))&&(f=i),a.push(" ".repeat(i+r+f-i)+c.trim())}),a.length>0&&a[a.length-1].trim().length==0&&a.pop();let l=a.join(`
`),u=`{{#
`;return u+=l,u+=`
`+" ".repeat(r)+"#}}",u}return"{{# "+s+" #}}"}static printComment(e,i,r,n){let s=e.getContent(),o=s.trim();if(o.includes(`
`)&&!(o.includes("@desc")||o.includes("@set")||o.includes("@name")))try{let a=o;n!=null&&(a=n(a));let l=K.breakByNewLine(a),u=[];return l.forEach(c=>{if(c.trim().length==0){u.push(" ".repeat(i+r)+c.trim());return}let f=c.length-c.trim().length;u.push(" ".repeat(i+r+f)+c.trim())}),u.length>0&&u[u.length-1].trim().length==0&&u.pop(),`{{#
`+u.join(`
`)+`
`+" ".repeat(r)+"#}}"}catch{}return this.printCommentLines(e,i,r)}};var fo=class{static indentRelative(e,i){let r=K.breakByNewLine(e),n=[];for(let a=0;a<r.length;a++)if(r[a].trim().length>0){n=r.slice(a);break}for(let a=n.length-1;a>=0&&n[a].trim().length==0;a--)n.pop();let s=-1,o="";for(let a=0;a<n.length;a++){let l=n[a],u=l.trimLeft(),c=l.length-u.length;(a==0||c<s)&&(s=c,o=l)}if(s>=0){let a=" ".repeat(i);for(let l=0;l<n.length;l++){let u=n[l];if(u.trim().length==0){n[l]="";continue}let c=u.substring(s);if(l==0){n[l]=u.trimLeft();continue}else n[l]=a+c.trimLeft()}}return n.join(`
`)}static shiftIndent(e,i,r=!1,n=4,s=!0){i<0&&(i=0);let o=K.breakByNewLine(e.trim()),a=[];for(let u=0;u<o.length;u++){if(u==0&&r){a.push(o[u]);continue}let c=o[u];a.push(" ".repeat(i)+c)}let l=a.join(`
`);if(s&&a.length>0&&i-n>n&&a[a.length-1].trim()==") }}"){o=K.breakByNewLine(l.trim()),a=[];for(let u=0;u<o.length;u++){if(u==0&&r){a.push(o[u]);continue}let c=o[u];if(u==o.length-1){a.push(c);break}a.push(" ".repeat(n)+c)}l=a.join(`
`)}return l}static shiftClean(e,i){let r=K.breakByNewLine(e),n=[],s=" ".repeat(i),o=!1;return r.forEach(a=>{a.trim().length>0&&(o=!0),o&&n.push(s+a)}),n.join(`
`)}static inferIndentLevel(e,i,r){let n=0,s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.includes(i)){let l=a.trimLeft();n=a.length-l.length,s=o;break}}if(s>0)for(let o=s-1;o>=0;o--){let a=e[o],l=a.trim(),u=a.trimLeft(),c=a.length-l.length;if(u.length!=0&&c!=n&&c<n){let f=n-c;return{targetLevel:n,referenceLevel:c,sourceTabSize:f}}}return{targetLevel:n,referenceLevel:n,sourceTabSize:r}}static indent(e,i,r){let n=fo.inferIndentLevel(e,i,r);return" ".repeat(n.targetLevel)}};var Kp=class{constructor(e,i,r){this.buffer="";this.closeString="";this.relativeIndentSize=0;this.indentSeed=0;var n;this.baseIndent=i,e.isInterpolationNode?(this.buffer="{",this.closeString="}"):(this.buffer="{{ ",e.isSelfClosing?this.closeString=" /}}":this.closeString=" }}"),(n=e.pathReference)!=null&&n.isStrictTagReference&&(this.buffer+="%"),r!=null&&r.trim().length>0&&(this.buffer+=r+" ")}setIndentSeed(e){return this.indentSeed=e,this}close(){return this.closeString==" }}"?this.buffer.endsWith(" ")?this.buffer+="}}":this.buffer+=this.closeString:this.buffer+=this.closeString,this}appendT(e){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer+=e,this}appendTS(e,i=!1){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer.endsWith("{")&&!i&&(e=e.trimStart()),this.buffer+=e,this}append(e){return this.buffer+=e,this}appendOS(e){return this.buffer.endsWith(" ")==!1&&this.buffer.endsWith("(")==!1&&this.buffer.endsWith("{")==!1&&this.buffer.endsWith("[")==!1&&this.buffer.endsWith(":")==!1&&(this.buffer+=" "),this.append(e)}appendS(e){let i="";return this.buffer.endsWith(" ")==!1&&(i+=" "),i+=e+" ",this.buffer+=i,this}indent(){let e=this.baseIndent;return e==0?e=1:e+=2,this.relativeIndentSize>0&&(e+=this.relativeIndentSize),this.buffer+=" ".repeat(e),this}addIndent(e){return e<=0?this:(this.buffer+=" ".repeat(e),this)}paramS(e){let i=" ";return e.isVariableReference&&(i+=":"),i+=e.name+"="+e.nameDelimiter+e.value+e.nameDelimiter,this.append(i),this}replace(e,i){return this.buffer=jt(this.buffer,e,i),this}relativeIndent(e){let i=this.buffer.split(`
`);if(i.length==0)return this;let r=i[i.length-1].trimEnd();return r.endsWith("(")&&(r=r.slice(0,-1)),r.endsWith(e)==!1?this:(this.relativeIndentSize=r.lastIndexOf(e),this)}newlineIndent(){return this.newLine(),this.indent(),this}newlineNDIndent(){return this.buffer=this.buffer.trimEnd(),this.newLine(),this.indent(),this}newLine(){return this.buffer+=`
`,this}getContent(){return this.buffer}endsWith(e){return this.buffer.endsWith(e)}};var Bl=class{static prettyPrintNode(e,i,r,n,s,o){var c,f,d,p,h,T,N,_;let a=e.getTrueRuntimeNodes(),l=0,u=0;if(a.length>0){let g=new Kp(e,r,s);o!=null&&g.setIndentSeed(o);let y=null;for(let L=0;L<a.length;L++){let E=a[L];if(y!=null&&(c=E.endPosition)!=null&&c.isBefore(y.startPosition))continue;let U=!1;if(E instanceof ei?!(E.next instanceof ei)&&E.next!=null&&(!Wt.isOperatorType(E.next)||!Wt.isAssignmentOperator(E.next))&&(!(E.next instanceof _i)&&!(E.next instanceof Mt)&&!E.isSwitchGroupMember&&!Wt.isOperatorType(E.next)&&(U=!0,E.next instanceof fe&&E.next.name=="as"&&(U=!1)),E.next instanceof Ai&&(U=!1)):!((f=E.prev)!=null&&f.isVirtual)&&((d=E.prev)==null?void 0:d.isVirtualGroupOperatorResolve)&&E.prev.producesVirtualStatementTerminator&&E.next!=null&&!(E.prev instanceof fe)&&!(E.next instanceof lr)&&!(E instanceof lr)&&g.newlineIndent(),E instanceof fe){if(E.convertedToOperator){if(E.name=="arr")g.appendT(" arr");else if(E.name=="switch"||E.name=="list")if(g.appendTS(" "+E.name,!0),L+1<a.length){if(!(a[L+1]instanceof ti))break;g.append("("),E.name!="list"&&g.relativeIndent(E.name).newLine().indent(),L+=1,y=a[L+1];continue}else break;else if(u+=1,u>1)g.newlineNDIndent().indent().addIndent(6).appendS(E.name);else{if(i.getDocumentParser().getLanguageParser().isMergedVariableComponent(E)){g.append(E.name);continue}g.appendS(E.name)}y=E;continue}E.mergeRefName!=null&&E.mergeRefName.trim().length>0&&E.mergeRefName!=E.name?g.append(E.mergeRefName.trim()):E.name=="as"?g.appendOS("as"):g.append(E.name.trim())}else if(E instanceof Pr)if(g.appendTS(" list"),L+1<a.length){if(!(a[L+1]instanceof ti))break;g.append("("),L+=1,y=a[L+1];continue}else break;else if(E instanceof Ai)g.appendS("|");else if(E instanceof Mt){if(y!=null&&(p=E.startPosition)!=null&&p.isBefore(y.endPosition)||E.next instanceof fe&&E.next.mergeRefName.startsWith(":"))continue;if(i.getDocumentParser().getLanguageParser().isMergedVariableComponent(E)){g.endsWith(":")||g.append(":");continue}if(E.prev!=null&&E.next!=null&&mt.distance(E.prev,E)<=1&&mt.distance(E.next,E)<=1){g.append(":"),y=E;continue}if(i.getDocumentParser().getLanguageParser().isActualModifierSeparator(E)){g.append(":"),y=E;continue}if(y instanceof Ht||y instanceof ii){g.append(":"),y=E;continue}g.appendS(":")}else if(E instanceof Ht)g.append(E.name);else if(E instanceof lr)g.appendS("?");else if(E instanceof Di){if(i.getDocumentParser().getLanguageParser().isMergedVariableComponent(E))continue;if(E.isTenaryBranchSeparator){g.appendS(":"),y=E;continue}if(i.getDocumentParser().getLanguageParser().isActualModifierSeparator(E)){g.append(":"),y=E;continue}g.append(":")}else if(E instanceof ii)g.append(E.value.trim());else if(E instanceof ti)g.append("(");else if(E instanceof ei)g.append(")");else if(E instanceof Dt){if(i.getDocumentParser().getLanguageParser().isMergedVariableComponent(E))continue;E.sourceContent!=""?g.appendOS(E.sourceContent):g.appendOS(E.sourceTerminator+E.value+E.sourceTerminator)}else if(E instanceof Gt)E.isSwitchGroupMember?g.append(",").newlineIndent():g.append(", ");else if(E instanceof Kt){if(y=E,i.getDocumentParser().getLanguageParser().isMergedVariableComponent(E))continue;let w=(T=(h=E.value)==null?void 0:h.toString())!=null?T:"";E.rawLexContent!=null&&E.rawLexContent.trim().length>0&&(w=E.rawLexContent.trim()),g.append(w)}else if(E instanceof ar)g.appendS("=");else if(E instanceof Fi)g.appendS("=>");else if(E instanceof nr)g.appendS("+");else if(E instanceof wi){if(i.getDocumentParser().getLanguageParser().isMergedVariableComponent(E)){g.append("-");continue}if(E.prev!=null&&E.next!=null&&mt.distance(E.prev,E)<=1&&mt.distance(E.next,E)<=1){E.next instanceof Kt&&E.prev instanceof Kt?g.appendS("-"):g.append("-"),y=E;continue}g.appendS("-")}else if(E instanceof or)g.appendS("*");else if(E instanceof sr){if(y=E,(N=E.startPosition)!=null&&N.isBefore(e.nameEndsOn)){g.append("/");continue}if(i.getDocumentParser().getLanguageParser().isMergedVariableComponent(E))continue;g.appendS("/");continue}else E instanceof _i?E.isListGroupMember?(g.append(";").newlineIndent().indent().addIndent(7),L+1<a.length&&!(a[L+1]instanceof ei)&&g.indent()):(l+=1,l<n.maxAntlersStatementsPerLine?g.appendT("; "):(g.appendT(";").newlineIndent(),l=0)):E instanceof yi?E.content=="not"?g.appendS("not"):g.append("!"):E instanceof Tr&&L==0&&((_=e.pathReference)==null?void 0:_.isStrictTagReference)||g.appendS(E.rawContent());U&&g.newlineIndent(),y=E}e.hasParameters&&e.parameters.forEach(L=>{g.paramS(L)}),g.close();let x=g.getContent();return e.processedInterpolationRegions.size>0&&new Map([...e.processedInterpolationRegions.entries()].sort().reverse()).forEach((E,U)=>{let w=Bl.prettyPrintNode(E[0],i,r,n,null,null);x=jt(x,U,w)}),x}return e.getTrueRawContent()}};var Vl=class{constructor(e){this.formatIgnoreStart="format-ignore-start";this.formatIgnoreEnd="format-ignore-end";this.htmlFormatter=null;this.yamlFormatter=null;this.phpFormatter=null;this.slugs=[];this.removeLines=[];this.virtualStructureOpens=[];this.virtualStructureClose=[];this.structureLines=[];this.parentTransformer=null;this.tagPairs=new Map;this.conditions=[];this.inlineIfs=new Map;this.createExraStructuralPairs=!1;this.spanNodes=new Map;this.inlineNodes=new Map;this.virtualBlocks=[];this.inlineComments=new Map;this.blockComments=[];this.extractedEmbeddedDocuments=new Map;this.dynamicElementAntlers=new Map;this.dynamicElementAntlersNodes=new Map;this.dynamicElementPairedAntlers=new Map;this.dynamicElementPairedAntlersNodes=new Map;this.dynamicElementConditionAntlers=new Map;this.dynamicElementConditionAntlersNodes=new Map;this.noParses=new Map;this.forceBreaks=[];this.inlineFormatter=null;this.ignoredLiteralBlocks=new Map;this.activeLiteralSlug="";this.isInsideIgnoreFormatter=!1;this.forceCleanLines=["{{ if ","{{ /if","{{ /unless","{{ /noparse","{{ else","{{ unless"];this.doc=e,this.options={tabSize:4,newlinesAfterFrontMatter:1,maxAntlersStatementsPerLine:3,endNewline:!0}}withInlineFormatter(e){return this.inlineFormatter=e,this}produceExtraStructuralPairs(e){return this.createExraStructuralPairs=e,this}withHtmlFormatter(e){return this.htmlFormatter=e,this}withYamlFormatter(e){return this.yamlFormatter=e,this}withPhpFormatter(e){return this.phpFormatter=e,this}withOptions(e){return this.options=e,this.options.tabSize<=0&&(this.options.tabSize=4),this.options.newlinesAfterFrontMatter<0&&(this.options.newlinesAfterFrontMatter=1),this}setParentTransformer(e){return this.parentTransformer=e,this}close(e){return"</"+e+">"}open(e){return"<"+e+">"}selfClosing(e){return"<"+e+" />"}selfClosingNs(e){return"<"+e+"/>"}pair(e,i=""){return"<"+e+">"+i+"</"+e+">"}makeSlug(e){e<=2&&(e=7);let i="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=r.length;for(let o=0;o<e-1;o++)i+=r.charAt(Math.floor(Math.random()*n));let s="A"+i+"A";return s=s.toLowerCase(),this.slugs.includes(s)?this.makeSlug(e+1):(this.slugs.push(s.toLowerCase()),s.toLowerCase())}transformInlineConditions(e){let i=e;return this.inlineIfs.forEach((r,n)=>{i=i.replace(n,r.nodeContent)}),i}registerCondition(e){this.parentTransformer!=null?this.parentTransformer.registerCondition(e):this.conditions.push(e)}registerInlineCondition(e,i){this.parentTransformer!=null?this.parentTransformer.registerInlineCondition(e,i):this.inlineIfs.set(e,i)}registerVirtualBlock(e){this.parentTransformer!=null?this.parentTransformer.registerVirtualBlock(e):this.virtualBlocks.push(e)}registerNoParse(e,i){this.parentTransformer!=null?this.parentTransformer.registerNoParse(e,i):this.noParses.set(e,i)}prepareNoParse(e){let i=this.makeSlug(35);return this.registerNoParse(i,e),i}registerForcedBreak(){if(this.parentTransformer!=null)return this.parentTransformer.registerForcedBreak();{let e=this.makeSlug(15),i=this.makeSlug(10);return this.forceBreaks.push(e),this.forceBreaks.push(i),this.removeLines.push(this.open(e)),this.removeLines.push(this.close(e)),this.removeLines.push(this.selfClosing(i)),this.pair(e,this.selfClosing(i))}}transformVirtualStructures(e){let i=e;return this.virtualBlocks.forEach(r=>{var s;this.removeLines.push(r.pairClose);let n=this.indentLevel(r.pairOpen);if(r.virtualElement.length>0&&(this.removeLines.push(this.open(r.virtualElement)),this.removeLines.push(this.close(r.virtualElement))),r.node instanceof li){let o="{{ noparse }}"+r.node.getInnerDocumentText();i=i.replace(r.pairOpen,o)}if(r.node instanceof G){let o=r.node;i=i.replace(r.pairClose,(s=o.isClosedBy)==null?void 0:s.getOriginalContent())}else this.removeLines.push(r.pairClose)}),this.noParses.forEach((r,n)=>{i=i.replace(n,`{{ noparse }}${r.getInnerDocumentText()}{{ /noparse }}`)}),i}printNode(e,i=null){var l,u;let r=e.getTrueNode();if((r.rawStart=="{{?"||r.rawStart=="{{$")&&this.phpFormatter!=null)try{let c=this.phpFormatter(r.content);return`${r.rawStart} ${c} ${r.rawEnd}`}catch{}let n=this.doc;e.childDocument!=null&&(n=e.childDocument.document);let s=null;if(ai.isConditionalStructure(e)&&(s=r.runtimeName(),e.isClosingTag&&(s=="if"||s=="unless")))return`{{ /${s} }}`;if(e.isClosingTag)return r.runtimeName()=="endunless"?"{{ /unless }}":`{{ ${r.sourceContent.trim()} }}`;let o=Bl.prettyPrintNode(r,n,0,this.options,s,null),a=["switch","list"];return i!=null&&o.includes(`
`)&&(e.isVirtual&&(((l=e.name)==null?void 0:l.name)=="switch"||((u=e.name)==null?void 0:u.name)=="list")?o=fo.shiftIndent(o,i+this.options.tabSize,!0):o=fo.shiftIndent(o,i-this.options.tabSize*2,!0)),o}transformConditions(e){let i=e;return this.conditions.forEach(r=>{r.structures.forEach(n=>{let s=n.branch.head;if(n.virtualBreakOpen.length>0&&this.removeLines.push(n.virtualBreakOpen),n.virtualBreakClose.length>0&&(i=i.replace(n.virtualBreakClose,n.virtualBreakClose+`
`),this.removeLines.push(n.virtualBreakClose)),this.virtualStructureOpens.push(n.virtualOpen),this.removeLines.push(n.virtualOpen),this.removeLines.push(n.virtualClose),n.isLast){let o=this.selfClosing(n.virtualSlug);if(!i.includes(o)){let a="<"+n.virtualSlug+"(\\s)+\\/>",l=new RegExp(a,"gm");i=i.replace(l,o)}i.includes(o)&&(i=i.replace(o,n.doc.trim())),i=i.replace(n.pairOpen,this.printNode(s,this.indentLevel(n.pairOpen))),i=i.replace(n.pairClose,this.printNode(s.isClosedBy))}else{let o=this.selfClosing(n.virtualSlug);if(!i.includes(o)){let a="<"+n.virtualSlug+"(\\s)+\\/>",l=new RegExp(a,"gm");i=i.replace(l,o)}i.includes(o)&&(i=i.replace(o,n.doc.trim())),this.removeLines.push(n.pairClose),i=i.replace(n.pairOpen,this.printNode(s,this.indentLevel(n.pairOpen)))}})}),i}transformExtractedDocuments(e){let i=e;return this.extractedEmbeddedDocuments.forEach((r,n)=>{let s="",o=0;if(r.isScript?s="//"+n:s="/*"+n+"*/",o=this.indentLevel(s),i.includes(s)){let a="";r.content.includes("{{ /")||r.content.includes("{{/")?a=r.content.trim():a=fo.indentRelative(r.content,o),i=i.replace(s,a)}}),i}getAntlersChildDoc(e){return e.childDocument!=null?e.childDocument.document.transform().setParentTransformer(this).toStructure():this.clone().toStructure(e.getImmediateChildren())}prepareCondition(e){let i=e.logicBranches[0].head;if(i.fragmentPosition==2||i.fragmentPosition==1){let l=this.makeSlug(e.nodeContent.length);return this.registerInlineCondition(l,e),l}if(i.fragmentPosition==0)return this.prepareDynamicCondition(e);let r=[],n="";i.prev instanceof G&&i.prev.isInlineAntlers&&(n+=this.registerForcedBreak()),e.logicBranches.forEach((l,u)=>{var T,N,_,g;let c=l.head,f=this.getAntlersChildDoc(l),d=this.makeSlug(c.sourceContent.length),p=this.makeSlug(10),h={branch:l,slug:d,doc:f,pairOpen:this.open(d),pairClose:this.close(d),virtualOpen:this.open(p),virtualClose:this.close(p),virtualSlug:p,isFirst:u==0,isLast:u==e.logicBranches.length-1,virtualBreakClose:"",virtualBreakOpen:""};if(((N=(T=l.head)==null?void 0:T.name)==null?void 0:N.getCompoundTagName())=="else"){n+=`
`+h.pairOpen;let y=this.makeSlug(25);this.createExraStructuralPairs&&l.head.containsChildStructures==!1&&l.head.containsAnyFragments==!1?(h.virtualBreakOpen=this.open(y),h.virtualBreakClose=this.close(y),h.virtualSlug=y,n+=`
`+this.selfClosing(y),n+=h.pairClose+`
`):(h.virtualBreakOpen=this.selfClosing(y),n+=h.virtualBreakOpen+`
`,n+=f,n+=`
`+h.pairClose)}else if(this.createExraStructuralPairs&&((_=l.head)==null?void 0:_.containsAnyFragments)==!1&&((g=l.head)==null?void 0:g.containsChildStructures)==!1){let y=this.makeSlug(25);h.virtualBreakOpen=this.open(y),h.virtualBreakClose=this.close(y),h.virtualSlug=y,n+=`
`+h.pairOpen,n+=`
`+this.selfClosing(y),n+=h.pairClose+`
`}else n+=h.pairOpen,n+=`
`,n+=f,n+=`
`,n+=h.pairClose;r.push(h)});let s=r[0].pairOpen,o=r[r.length-1].pairClose,a={pairOpen:s,pairClose:o,structures:r,condition:e};return this.registerCondition(a),n}registerPairedAntlers(e,i){this.parentTransformer!=null?this.parentTransformer.registerPairedAntlers(e,i):this.tagPairs.set(e,i)}preparePairedAntlers(e){let i=this.makeSlug(e.getOriginalContent().length),r=this.getAntlersChildDoc(e);if(e.fragmentPosition!=0){let n="",s="";if(e.prev instanceof G&&e.prev.isPaired()==!1&&(s+=this.registerForcedBreak()),s+=`${this.open(i)}
`,e.containsChildStructures==!1&&e.containsAnyFragments==!1){let o=!1,a=!0,l=!0,u=0;for(let f=0;f<e.children.length;f++){let d=e.children[f];if(d instanceof Qe&&d.sourceContent.trim().length>0){o=!0,a=!1;break}}e.children.length==2&&e.children[0]instanceof G&&(o=!0);let c=0;for(let f=0;f<e.children.length-1;f++){let d=e.children[f];d instanceof G&&(u+=1,d.isInlineAntlers?c+=1:l=!1)}c==0&&(o=!0),l==!1&&(o=!1),a==!1&&u==0&&(o=!1),o?(n=this.makeSlug(15),s+=this.pair(n,r)):s+=r}else s+=r;return s+=`
${this.close(i)}
`,this.virtualStructureOpens.push(this.open(n)),this.virtualStructureClose.push(this.close(n)),this.virtualStructureClose.push(this.close(i)),this.registerPairedAntlers(i,{innerDoc:r,slug:i,tag:e,virtualElementSlug:n,isInline:!1}),s}return this.prepareConditionalAntlersPair(e)}registerInlineAntlers(e){if((e.fragmentPosition==2||e.fragmentPosition==1)&&(e.isInlineAntlers=!0),this.parentTransformer!=null)return this.parentTransformer.registerInlineAntlers(e);{let i=this.makeSlug(e.getOriginalContent().length);return e.isInlineAntlers?(this.spanNodes.set(i,e),i):(this.inlineNodes.set(i,e),this.selfClosing(i))}}registerVirtualComment(e){this.parentTransformer!=null?this.parentTransformer.registerVirtualComment(e):this.blockComments.push(e)}registerComment(e,i){this.parentTransformer!=null?this.parentTransformer.registerComment(e,i):this.inlineComments.set(e,i)}prepareComment(e){let i=e.getContent();if(i.trim().includes(`
`)){let s=this.makeSlug(10),o=this.makeSlug(10),a={node:e,pairOpen:this.open(s),pairClose:this.close(s),virtualElement:this.selfClosing(o)};return this.registerVirtualComment(a),a.pairOpen+`
`+a.virtualElement+`
`+a.pairClose}let n=this.makeSlug(i.length);return this.registerComment(n,e),this.selfClosing(n)}registerDynamicAntlersPair(e,i){this.parentTransformer!=null?(this.dynamicElementPairedAntlers.set(i.nodeContent,e),this.parentTransformer.registerDynamicAntlersPair(e,i)):(this.dynamicElementPairedAntlers.set(i.nodeContent,e),this.dynamicElementPairedAntlersNodes.set(e,i))}prepareConditionalAntlersPair(e){if(this.dynamicElementPairedAntlers.has(e.nodeContent))return this.dynamicElementPairedAntlers.get(e.nodeContent);let i=this.makeSlug(e.nodeContent.length);return this.registerDynamicAntlersPair(i,e),i}registerDynamicCondition(e,i){this.parentTransformer!=null?(this.dynamicElementConditionAntlers.set(i.nodeContent,e),this.parentTransformer.registerDynamicCondition(e,i)):(this.dynamicElementConditionAntlers.set(i.nodeContent,e),this.dynamicElementConditionAntlersNodes.set(e,i))}prepareDynamicCondition(e){if(this.dynamicElementConditionAntlers.has(e.nodeContent))return this.dynamicElementConditionAntlers.get(e.nodeContent);let i=this.makeSlug(e.nodeContent.length);return this.registerDynamicCondition(i,e),i}registerDynamicAntlers(e,i){this.parentTransformer!=null?(this.dynamicElementAntlers.set(i.content,e),this.parentTransformer.registerDynamicAntlers(e,i)):(this.dynamicElementAntlers.set(i.content,e),this.dynamicElementAntlersNodes.set(e,i))}prepareConditionalAntlers(e){if(this.dynamicElementAntlers.has(e.content))return this.dynamicElementAntlers.get(e.content);let i=this.makeSlug(e.content.length);return this.registerDynamicAntlers(i,e),i}prepareAntlers(e){return e.isClosedBy!=null?this.preparePairedAntlers(e):e.fragmentPosition==0?this.prepareConditionalAntlers(e):this.registerInlineAntlers(e)}transformDynamicAntlers(e){let i=e;return this.dynamicElementAntlersNodes.forEach((r,n)=>{let s=this.printNode(r);i=jt(i,n,s)}),this.dynamicElementPairedAntlersNodes.forEach((r,n)=>{let s=r.nodeContent;i=jt(i,n,s)}),this.dynamicElementConditionAntlersNodes.forEach((r,n)=>{let s=r.nodeContent;i=jt(i,n,s)}),i}transformPairedAntlers(e){let i=e;return this.tagPairs.forEach((r,n)=>{let s=r.tag;if(r.virtualElementSlug.length>0){let l=this.open(r.virtualElementSlug),u=this.close(r.virtualElementSlug);this.virtualStructureOpens.push(l),this.removeLines.push(l),this.removeLines.push(u)}let o=this.open(n),a=this.close(n);i=i.replace(o,this.printNode(s,this.indentLevel(o))),i=i.replace(a,this.printNode(s.isClosedBy))}),i}transformInlineAntlers(e){let i=e;return this.inlineNodes.forEach((r,n)=>{let s=this.selfClosing(n),o=this.selfClosingNs(n),a=this.printNode(r,this.indentLevel(s));i=i.replace(s,a),i=i.replace(o,a)}),this.spanNodes.forEach((r,n)=>{var l,u;let s=0;r.isVirtual&&(((l=r.name)==null?void 0:l.name)=="switch"||((u=r.name)==null?void 0:u.name)=="list")&&(s=this.indentLevel(n,!0));let o=this.printNode(r,s),a=this.selfClosingNs(n);i=i.replace(n,o),i=i.replace(a,o)}),i}transformComments(e){let i=e;return this.inlineComments.forEach((r,n)=>{let s=this.selfClosing(n),o=Xu.printComment(r,this.options.tabSize,0,this.inlineFormatter);i=i.replace(s,o)}),this.blockComments.forEach(r=>{let n=r.node,s=Xu.printComment(n,this.options.tabSize,this.indentLevel(r.pairOpen),this.inlineFormatter);i=i.replace(r.pairOpen,s),this.removeLines.push(r.pairClose),this.removeLines.push(r.virtualElement)}),i}registerEmbeddedDocument(e,i,r){return this.parentTransformer!=null?this.parentTransformer.registerEmbeddedDocument(e,i,r):(this.extractedEmbeddedDocuments.set(e,{slug:e,content:i,isScript:r}),e)}clone(){let e=new Vl(this.doc);return e.withOptions(this.options).setParentTransformer(this),e}toStructure(e=null){let i="";e==null&&(e=this.doc.getDocumentParser().getRenderNodes()),e.forEach(n=>{var s,o;if(this.isInsideIgnoreFormatter){if((s=this.ignoredLiteralBlocks.get(this.activeLiteralSlug))==null||s.push(n),n instanceof G&&n.isComment&&n.content.trim().toLowerCase()==this.formatIgnoreEnd){this.isInsideIgnoreFormatter=!1;return}return}n instanceof Qe?n.sourceContent==""?i+=n.content:i+=n.sourceContent:n instanceof tt?i+=this.prepareCondition(n):n instanceof li?i+=this.prepareNoParse(n):n instanceof G&&(n.isComment?n.content.trim()==this.formatIgnoreStart?(this.isInsideIgnoreFormatter=!0,this.activeLiteralSlug=this.makeSlug(16),this.ignoredLiteralBlocks.set(this.activeLiteralSlug,[]),(o=this.ignoredLiteralBlocks.get(this.activeLiteralSlug))==null||o.push(n),i+=this.selfClosing(this.activeLiteralSlug)):i+=this.prepareComment(n):i+=this.prepareAntlers(n))});let r=this.doc.getDocumentParser().getFragmentsContainingStructures();if(r.length>0){let n=new xt;n.loadString(i),r.forEach(s=>{var p,h,T,N,_,g,y,x;let o=this.doc.getDocumentParser().getText(((h=(p=s.start.endPosition)==null?void 0:p.offset)!=null?h:0)+1,(N=(T=s.end.startPosition)==null?void 0:T.offset)!=null?N:0),a=n.getDocumentParser().getFragmentsParser().getEmbeddedFragment(s.start.embeddedIndex);if(a==null)return;let l=n.getDocumentParser().getFragmentsParser().getClosingFragmentAfter(a);if(l==null)return;let u=n.getDocumentParser().getText(((g=(_=a.endPosition)==null?void 0:_.offset)!=null?g:0)+1,(x=(y=l==null?void 0:l.startPosition)==null?void 0:y.offset)!=null?x:0),c=this.makeSlug(16),f=s.start.name.toLowerCase()=="script",d=c;f?d="//"+c:d="/*"+c+"*/",i=i.replace(u,d),this.registerEmbeddedDocument(c,o,f)})}return i}removeVirtualStructures(e){let i=e;return this.removeLines.forEach(r=>{i=i.replace(r,"")}),i}indentLevel(e,i=!1){for(let r=0;r<this.structureLines.length;r++){let n=this.structureLines[r];if(n.includes(e)){let s=n.trimLeft(),o=n.length-s.length;return i&&(o+=n.indexOf(e)),o}}return 0}shouldCleanAfter(e){for(let i=0;i<this.removeLines.length;i++)if(e.startsWith(this.removeLines[i]))return!0;for(let i=0;i<this.forceCleanLines.length;i++)if(e.startsWith(this.forceCleanLines[i]))return!0;return!1}shouldCleanLine(e){for(let i=0;i<this.forceCleanLines.length;i++){let r=e.trim();if(e.startsWith(this.forceCleanLines[i])||r.startsWith("{{ /")&&r.endsWith("}}"))return!0}return!1}cleanVirtualStructures(e){let i=[],r=K.breakByNewLine(e),n=!1;for(let s=0;s<r.length;s++){let o=r[s].trim();if(n){if(o.length==0)continue;n=!1}else n=this.shouldCleanAfter(o);if(this.shouldCleanLine(o))for(let a=i.length-1;a>0&&i[a].trim().length==0;a--)i.pop();if(!this.removeLines.includes(o)){let a=r[s];this.removeLines.forEach(l=>{a.includes(l)&&(a=a.replace(l,""))}),i.push(a)}}return i.join(`
`)}cleanStructuralNewLines(e){let i=K.breakByNewLine(e),r=[],n=!1;return i.forEach(s=>{let o=s.trim();if(o.startsWith("{{")&&o.endsWith("}}")){r.push(s),n=!0;return}n&&o.length>0&&(n=!1),n||r.push(s)}),r.join(`
`)}reflowSlugs(e){let i=e;return this.slugs.forEach(r=>{let n=this.open(r),s=this.close(r),o=this.selfClosing(r),a="/<"+r+"(.*?)>/gms",l="/</"+r+"(.*?)>/gms",u="/<"+r+"(.*?)/>/gms";i=i.replace(a,n),i=i.replace(l,s),i=i.replace(u,o)}),i}cleanLines(e){let i=K.breakByNewLine(e),r=[],n=!1,s=0,o=!1,a=!1;for(let l=0;l<i.length;l++){let u=i[l].trim(),c=i[l];if(u.startsWith("{{")){u.endsWith("}}")?a=!1:a=!0,u.startsWith("{{#")&&(a=!1),n&&(s=0),u.startsWith("{{ /")==!1?o=!0:o=!1,n=!0,r.push(c);continue}if(!n)r.push(c);else{if(a){r.push(c),c.trim().endsWith("}}")&&(a=!1);continue}if(u.length==0){if(o==!1){s=0,n=!1;continue}s+=1;continue}else o&&s>1&&r.push(""),s=0,r.push(c),n=!1}}return r.join(`
`)}fromStructure(e){let i=this.reflowSlugs(e);this.structureLines=K.breakByNewLine(i);let r=this.transformInlineConditions(i);if(r=this.transformConditions(r),r=this.transformInlineAntlers(r),r=this.transformComments(r),r=this.transformVirtualStructures(r),r=this.transformDynamicAntlers(r),r=this.transformPairedAntlers(r),r=this.transformExtractedDocuments(r),r=this.cleanVirtualStructures(r),r=this.cleanLines(r),this.doc.hasFrontMatter()){let n=this.doc.getFrontMatter(),s=this.doc.getFrontMatterDoc();s!=null&&s.isValid&&this.yamlFormatter!=null&&(n=this.yamlFormatter(n)),r=`---
${n}
---
`+`
`.repeat(this.options.newlinesAfterFrontMatter)+r.trimLeft()}return r=r.trimRight(),this.ignoredLiteralBlocks.forEach((n,s)=>{let o=this.selfClosing(s),a=this.indentLevel(o);r=r.replace(o,this.dumpPreservedNodes(n,a))}),this.options.endNewline&&(r+=`
`),r}dumpPreservedNodes(e,i){let r="";return e.forEach(n=>{if(n instanceof Qe)r+=n.sourceContent;else if(n instanceof tt)r+=n.nodeContent;else if(n instanceof li)r+=n.documentText;else if(n instanceof G){if(n.isComment){if(n.content.trim().toLowerCase()==this.formatIgnoreEnd){let s=r.split(`
`);s.length>0&&s[s.length-1].trim().length==0&&(s.pop(),s.push(""),r=s.join(`
`)),r+=" ".repeat(i)+"{{#"+n.content+"#}}"}else r+="{{#"+n.content+"#}}";return}n.isPaired()?r+=n.nodeContent:r+="{{"+n.content+"}}"}}),r}};var AP=ee(Rn());var $p=class{constructor(){this.content="";this.ranges=[];this.lastDocumentOffsetKey=null;this.documentOffsets=new Map;this.lineIndex=new Map;this.keys=[];this.values=[];this.isValid=!1;this.parseError=null}loadString(e){var c;this.content=K.normalizeLineEndings(e);let i=null;try{i=AP.parseDocument(this.content),this.isValid=!0}catch(f){this.isValid=!1,this.parseError=f}if(i==null)return;let r=[...this.content.matchAll(/(\n)/gm)],n=r.length,s=2,o=null,a=0,l=0;for(let f=0;f<n;f++){let d=r[f],p=(c=d.index)!=null?c:0,h=p;o!=null?h=p-o:h=h+1,this.documentOffsets.set(p,{char:h,line:s});let T=0,N=0;f==0?(N=h-1,T=0):(T=l+1,N=p),this.lineIndex.set(s,{char:h,line:s,startIndex:T,endIndex:N}),this.lastDocumentOffsetKey=p,s+=1,o=p,l=N,a=T}let u=i.contents;this.processMap(u)}processMap(e){typeof e.items!="undefined"&&e.items.forEach(i=>{this.processItem(i)})}processItem(e){if(e.type=="PAIR"){if(e.value instanceof Qu||e.value instanceof ql){let s=e.key;if(s.range!=null){let o=this.positionFromOffset(s.range[0],s.range[0]),a=this.positionFromOffset(s.range[1],s.range[1]);this.ranges.push({start:o,end:a,length:a.char-o.char+1,content:"property"}),this.keys.push({start:o,end:a,length:a.char-o.char+1,content:s.value}),e.value instanceof ql?this.processMap(e.value.items[0]):this.processMap(e.value);return}}let i=e,r=i.key,n=i.value;if(r.range!=null&&n.range!=null){let s=this.positionFromOffset(r.range[0],r.range[0]),o=this.positionFromOffset(r.range[1],r.range[1]),a=this.positionFromOffset(n.range[0],n.range[0]),l=this.positionFromOffset(n.range[1],n.range[1]),u="string";parseInt(n.value)==n.value&&(u="number"),this.ranges.push({start:s,end:o,length:o.char-s.char+1,content:"property"}),this.keys.push({start:s,end:o,length:o.char-s.char+1,content:r.value}),this.ranges.push({start:a,end:l,length:l.char-a.char+1,content:u}),this.values.push({start:a,end:l,length:l.char-a.char+1,content:n.value})}}}positionFromOffset(e,i,r=!1){let n=0,s=0;if(this.documentOffsets.has(e)){let a=this.documentOffsets.get(e);n=a.line,s=a.char}else if(this.documentOffsets.size==0)n=1,s=e+1;else{let a=null,l=null,u=null,c=null;for(let f of this.documentOffsets.keys()){if(f>=e){c!=null&&e>c?(a=u,l=c):(a=this.documentOffsets.get(f),l=f);break}u=this.documentOffsets.get(f),c=f}if(a==null&&(a=u,l=c),a!=null)if(r){let f=this.content.split(""),d=e-(l!=null?l:0),p=a.char-(l!=null?l:0)+e;s=d,n=a.line,e<=(l!=null?l:0)?(n=a.line,s=e+1):n=a.line+1}else{let f=this.content.split(""),d=e-(l!=null?l:0),p=a.char-(l!=null?l:0)+e;s=d,n=a.line,e<=(l!=null?l:0)?(n=a.line,s=e+1):n=a.line+1}else this.lastDocumentOffsetKey!=null&&(n=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let o=new Zt;return o.index=i,o.offset=e,o.line=n,o.char=s,o}getRanges(){return this.ranges}getKeys(){return this.keys}getValues(){return this.values}};var xt=class{constructor(){this.documentParser=new D;this.transformer=null;this.originalText="";this.ranges=new Yp(this);this.nodes=new Wp(this);this.cursor=new Pp(this);this.errors=new Ap(this);this.project=null;this.documentUri=""}static fromText(e,i){let r=new xt;return typeof i!="undefined"&&(r.project=i),r.loadString(e)}static childFromText(e,i=null){let r=new xt;return i!=null&&r.getDocumentParser().setSeedPosition(i),r.getDocumentParser().withChildDocuments(!0),r.loadString(e),{renderNodes:r.getDocumentParser().getRenderNodes(),content:e,document:r}}isValid(){return!(this.hasInvalidControlFlowStructures()||this.hasUnclosedStructures())}getDocumentOptions(){let e=this.getAllNodes();if(e.length==0||!(e[0]instanceof G))return null;let i=e[0];return i.isComment==!1?null:Cu(this.documentUri,i)}isFormattingEnabled(){let e=this.getDocumentOptions();return e==null?!0:e.formatterEnabled}hasInvalidControlFlowStructures(){return this.documentParser.hasUnclosedIfStructures()}hasUnclosedStructures(){return this.documentParser.hasUnclosedStructures()}getFrontMatterDoc(){if(this.hasFrontMatter()){let e=new $p;return e.loadString(this.getFrontMatter()),e}return null}hasFrontMatter(){return this.documentParser.getFrontMatter().trim().length>0}getFrontMatter(){return this.documentParser.getFrontMatter()}getFrontMatterScope(){if(this.project==null)return null;let e=new Hp(this.project);return e.parse(this.getFrontMatter()),e.getScope()}updateProject(e){this.project=e,this.updateProjectDetails()}updateProjectDetails(){try{if(this.project!=null){let e=new pp(this.project,this.documentUri,this),i=this.documentParser.antlersNodes();i.forEach(r=>{var n,s;if(this.project!=null&&((n=Le.instance)==null?void 0:n.canResolveSpecialTypes(r.getTagName()))){let o=(s=Le.instance)==null?void 0:s.resolveSpecialType(r.getTagName(),r,this.project);o.context!=null&&(r.reference=o.context)}}),e.analyzeScope(i);for(let r=0;r<i.length;r++){let n=i[r];if(n.hasParameters)for(let s=0;s<n.parameters.length;s++){let o=n.parameters[s];if(o.hasInterpolations())for(let a=0;a<o.interpolations.length;a++){let l=o.interpolations[a];n.processedInterpolationRegions.has(l)&&n.processedInterpolationRegions.get(l).forEach(c=>{c instanceof G&&(c.currentScope=n.currentScope)})}}}Fv(this)}}catch(e){console.log(e)}}loadString(e){return this.originalText=e,this.documentParser.parse(e),this.updateProjectDetails(),this}getDocumentParser(){return this.documentParser}getParsedContent(){return this.documentParser.getParsedContent()}getAllNodes(){return this.documentParser.getNodes()}getAllAntlersNodes(){return this.documentParser.antlersNodes()}extractText(){let e=[];return this.nodes.getAllLiteralNodes().forEach(i=>{e.push(i.content)}),e.join("")}getNameAt(e){let i=this.nodes.getNodeAt(e);return i instanceof G?i.name:null}getLinesAround(e){return this.documentParser.getLinesAround(e)}getContent(){return this.documentParser.getContent()}getOriginalContent(){return this.documentParser.getOriginalContent()}reloadDocument(){this.loadString(this.originalText)}getFeaturesAt(e){let i=this.nodes.getNodeAt(e);return Yn.resolveContext(e,i,this,!1,i)}getText(e,i){return this.documentParser.getText(e,i)}charLeftAt(e){return this.documentParser.charLeftAt(e)}charAt(e){return this.documentParser.charAt(e)}charRightAt(e){return this.documentParser.charRightAt(e)}getLineIndex(e){return this.documentParser.getLineIndex(e)}getLineText(e){return this.documentParser.getLineText(e)}wordAt(e,i=4){return this.documentParser.wordAt(e,i)}wordLeftAt(e,i=4){return this.documentParser.wordLeftAt(e,i)}wordRightAt(e,i=4){return this.documentParser.wordRightAt(e,i)}punctuationLeftAt(e,i=4){return this.documentParser.punctuationLeftAt(e,i)}punctuationRightAt(e,i=4){return this.documentParser.punctuationRightAt(e,i)}getLineChars(e){let i=this.getLineText(e);return i!=null?i.split(""):null}transform(){return this.transformer==null&&(this.transformer=new Vl(this)),this.transformer}};var po=class{constructor(){this.loadedDocuments=new Map;this.activeProject=null}getDocuments(){let e=[];return this.loadedDocuments.forEach(i=>{e.push(i)}),e}setProject(e){this.activeProject=e,this.loadedDocuments.forEach(i=>{this.activeProject!=null&&i.updateProject(this.activeProject)})}refreshDocumentState(){this.activeProject!=null&&this.setProject(this.activeProject)}hasDocument(e){return this.loadedDocuments.has(e)}createDocument(e){if(!this.loadedDocuments.has(e)){let i=new xt;i.documentUri=e,this.loadedDocuments.set(e,i)}}loadDocument(e,i){this.loadedDocuments.set(e,xt.fromText(i))}getDocument(e){return this.loadedDocuments.get(e)}updateDocument(e,i){var r,n;if(this.loadedDocuments.has(e)){let s=this.loadedDocuments.get(e);s.loadString(i);let o=(n=(r=ae.instance)==null?void 0:r.getStructure())==null?void 0:n.findView(e);o!=null&&(o.document=s)}}createOrUpdate(e,i){this.createDocument(e),this.updateDocument(e,i)}getDocumentErrors(e){return this.loadedDocuments.has(e)?this.loadedDocuments.get(e).errors.all():[]}};po.instance=null;(typeof po.instance=="undefined"||po.instance==null)&&(po.instance=new po);var EP=po;var xn=new Map,Re=new EP;function CP(t,e){let i=[];return t.processedInterpolationRegions.size>0&&t.processedInterpolationRegions.forEach((r,n)=>{var s;for(let o=0;o<r.length;o++){let a=r[o];if(a instanceof G&&e.isWithin(a.startPosition,a.endPosition)){a.currentScope==null&&(((s=t.parent)==null?void 0:s.currentScope)!=null?a.currentScope=t.parent.currentScope:a.currentScope=t.currentScope),i.push(a),a.processedInterpolationRegions.size>0&&(i=i.concat(CP(a,e)));break}}}),i}function fr(t,e,i=!0){var d,p,h,T,N,_,g,y,x,L,E;if(!Re.hasDocument(e)||ae.instance==null||ae.instance.hasStructure()==!1)return null;let r=Re.getDocument(e),n=t.line+1,s=t.character+1,o=r.cursor.getFeaturesAt(n,s),a=r.cursor.position(n,s),l=ae.instance.getStructure(),u=r.cursor.getAncestorsAt(n,s);if(a!=null&&u.length>0){let U=u[u.length-1];CP(U,a).forEach(w=>{u.push(w)})}let c=(o==null?void 0:o.isCursorInIdentifier)==!1;return c==!1&&((d=o==null?void 0:o.leftChar)!=null?d:"")==" "&&(c=!0),{hasFrontMatter:r.hasFrontMatter(),antlersDocument:r,frontMatterEndsOn:r.getDocumentParser().getFrontMatterEndLine(),document:e,leftMeaningfulWord:(p=o==null?void 0:o.leftWord)!=null?p:null,leftChar:(h=o==null?void 0:o.leftChar)!=null?h:"",leftWord:(N=(T=o==null?void 0:o.leftWord)==null?void 0:T.trim())!=null?N:"",originalLeftWord:(_=o==null?void 0:o.leftWord)!=null?_:"",rightWord:(g=o==null?void 0:o.rightWord)!=null?g:"",rightChar:(y=o==null?void 0:o.rightChar)!=null?y:"",context:o,position:t,project:l,nodesInScope:u,isInDoubleBraces:((x=o==null?void 0:o.node)==null?void 0:x.rawStart)=="{{",isInVariableInterpolation:(L=o==null?void 0:o.interpolatedContext)!=null?L:!1,interpolationStartsOn:null,currentNode:(E=o==null?void 0:o.node)!=null?E:null,isCaretInTag:(o==null?void 0:o.node)!=null,isPastTagPart:c,showGeneralSnippets:i}}var Ul=ee(oi());var TH=`{{ collection:$1 $2 }}

{{ /collection:$1 }}`,RP=TH;var bH='&copy; {{ now format="Y"  }}',xP=bH;var IH=`{{ form:set in="$1" }}

{{ if {form:errors} }}
	{{ form:errors }}

	{{ /form:errors }}
{{ /if }}

{{ if {form:success} }}

{{ /if }}

{{ form:create }}
	$2
{{ /form:create }}

{{ /form:set }}`,wP=IH;var kP=`{{# Displays your site's current locale. #}}
<span>{{ site:short_locale }}</span>

{{# Displays all available locales. #}}
<ul>
    {{ locales all="true" self="false" }}
    <li>
        <a href="{{ permalink }}" aria-label="{{ locale:name }}">{{ locale:short }}</a>
    </li>    
    {{ /locales }}
</ul>`;var vH=`<ul>
{{ nav }}
	{{ if depth == 1 }}
		$1
		{{ if children }}
			<ul>{{ *recursive children* }}</ul>
		{{ /if }}
	{{ elseif depth == 2 }}
		
	{{ /if }}
{{ /nav }}
</ul>`,DP=vH;function Ju(t,e,i,r){return{label:t,detail:e,insertTextFormat:Ul.InsertTextFormat.Snippet,kind:Ul.CompletionItemKind.Snippet,textEdit:Ul.TextEdit.replace(r,i),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}}function NH(t){var l,u,c,f,d;let e=[];if(t.showGeneralSnippets==!1)return e;let i={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position},r=(l=dr.instance)==null?void 0:l.getContent("collection"),n=(u=dr.instance)==null?void 0:u.getContent("formset"),s=(c=dr.instance)==null?void 0:c.getContent("nav_depth2"),o=(f=dr.instance)==null?void 0:f.getContent("copyright_year"),a=(d=dr.instance)==null?void 0:d.getContent("multisite_lang_generic");return r!=null&&e.push(Ju("coll","Statamic Collection",r,i)),n!=null&&e.push(Ju("formset","Statamic Form Set",n,i)),s!=null&&e.push(Ju("nav-depth2","Statamic Nav with Depth Two",s,i)),o!=null&&e.push(Ju("copyright_year","Copyright year using Antlers tags.",o,i)),a!=null&&e.push(Ju("multisite_locales","Displays the current locale, and a list of all available locales.",a,i)),e}var dr=class{constructor(){this.registeredSnippets=new Map}loadCoreSnippets(){this.registeredSnippets.set("collection",RP),this.registeredSnippets.set("formset",wP),this.registeredSnippets.set("nav_depth2",DP),this.registeredSnippets.set("copyright_year",xP),this.registeredSnippets.set("multisite_lang_generic",kP)}getContent(e){return this.registeredSnippets.has(e)?this.registeredSnippets.get(e):""}getSnippets(e){let i=[];return e==null||(i=i.concat(NH(e))),i}};dr.instance=null;(typeof dr.instance=="undefined"||dr.instance==null)&&(dr.instance=new dr,dr.instance.loadCoreSnippets());var FP=dr;var LP=new Map;function OP(t){var o,a,l;if(((o=ae.instance)==null?void 0:o.hasStructure())==!1)return[];Re.refreshDocumentState();let e=decodeURIComponent(t.textDocument.uri);if(Re.hasDocument(e)==!1)return[];let i=fr(t.position,e,fa.showGeneralSnippetCompletions);if(i==null)return[];if(i.hasFrontMatter&&i.frontMatterEndsOn>-1&&i.position.line<i.frontMatterEndsOn)return[];let r=(l=(a=FP.instance)==null?void 0:a.getSnippets(i))!=null?l:[],n=yd.getSuggestions(i);r.length>0&&(i.isInDoubleBraces==!1||i.nodesInScope.length==0)&&(n=n.concat(r));let s=[];return n.filter(u=>s.includes(u.label)?!1:(s.push(u.label),!0))}function MP(t){if(LP.has(t.data)){let e=LP.get(t.data);e!=null&&(t.detail=e.detail,t.documentation=e.docs)}return t}var Zu=ee(og());var H_=ee(Nt());function da(t){let e=[];return t.forEach(i=>{let r=null;i.lsRange!=null?r=i.lsRange:i.node!=null?r=pa(i.node):i.range!=null?r={start:Pt(i.range.start),end:Pt(i.range.end)}:r={start:{line:1,character:1},end:{line:1,character:1}};let n=1;i.level==1&&(n=2),e.push({severity:n,range:r,message:"["+i.errorCode+"] "+i.message,source:"antlers",code:i.errorCode})}),e}function Pt(t){return t==null?{character:0,line:0}:{character:t.char,line:t.line-1}}function pa(t){var e,i,r,n,s,o,a,l;if(t instanceof qs){let u=Pt((n=(r=(e=t.valuePosition)==null?void 0:e.end)!=null?r:(i=t.blockPosition)==null?void 0:i.end)!=null?n:t.endPosition);return t.namePosition!=null&&t.namePosition.start!=null?{start:{line:t.namePosition.start.line-1,character:t.namePosition.start.char-1},end:{character:u.character-1,line:u.line}}:{start:Pt((l=(a=(s=t.namePosition)==null?void 0:s.start)!=null?a:(o=t.blockPosition)==null?void 0:o.start)!=null?l:t.startPosition),end:{character:u.character+1,line:u.line}}}else if(t instanceof tt&&t.logicBranches.length>0){let u=t.logicBranches[0],c=t.logicBranches[t.logicBranches.length-1];if(u.head!=null&&c.head!=null&&c.head.isClosedBy!=null)return{start:Pt(u.head.startPosition),end:Pt(c.head.isClosedBy.endPosition)}}return{start:Pt(t.startPosition),end:Pt(t.endPosition)}}function qP(t){if(t.isClosedBy==null)return null;let e=-1,i=-1,r=-1,n=-1;return t.startPosition!=null&&(e=t.startPosition.line-1,i=t.startPosition.char),t.isClosedBy.endPosition!=null?(r=t.isClosedBy.endPosition.char,n=t.isClosedBy.endPosition.line-1):t.isClosedBy.startPosition!=null&&(r=t.isClosedBy.startPosition.char,n=t.isClosedBy.startPosition.line-1),e==-1||n==-1||i==-1||r==-1?null:{kind:H_.FoldingRangeKind.Region,startLine:e,endLine:n,startCharacter:i,endCharacter:r}}function W_(t){let e=-1,i=-1,r=-1,n=-1;return t.startPosition!=null&&(e=t.startPosition.line-1,i=t.startPosition.char),t.endPosition!=null&&(r=t.endPosition.char,n=t.endPosition.line-1),e==-1||i==-1||r==-1||n==-1?null:{kind:H_.FoldingRangeKind.Comment,startLine:e,endLine:n,startCharacter:i,endCharacter:r}}function BP(t){let e=decodeURIComponent(t.textDocument.uri);if(Re.hasDocument(e)){let i=Re.getDocument(e),r=i.ranges.getAllPairedNodes(),n=i.nodes.getMultiLineComments(),s=i.nodes.getMultilineNodes(),o=[];if(i.hasFrontMatter()){let a=i.getDocumentParser().getFrontMatterEndLine();o.push({startLine:0,endLine:a-1,kind:Zu.FoldingRangeKind.Imports})}return r.length>0&&r.forEach(a=>{var u,c,f;if(((u=a.startPosition)==null?void 0:u.line)==((f=(c=a.isClosedBy)==null?void 0:c.startPosition)==null?void 0:f.line))return;let l=qP(a);l!=null&&(l.kind=Zu.FoldingRangeKind.Region,o.push(l))}),n.length>0&&n.forEach(a=>{let l=W_(a);l!=null&&(l.kind=Zu.FoldingRangeKind.Comment,o.push(l))}),s.length>0&&s.forEach(a=>{if(a.isClosedBy!=null)return;let l=W_(a);l!=null&&(l.kind=Zu.FoldingRangeKind.Region,o.push(l))}),o}return[]}function tA(t){return typeof t>"u"||t===null}function SH(t){return typeof t=="object"&&t!==null}function PH(t){return Array.isArray(t)?t:tA(t)?[]:[t]}function AH(t,e){var i,r,n,s;if(e)for(s=Object.keys(e),i=0,r=s.length;i<r;i+=1)n=s[i],t[n]=e[n];return t}function EH(t,e){var i="",r;for(r=0;r<e;r+=1)i+=t;return i}function CH(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var RH=tA,xH=SH,wH=PH,kH=EH,DH=CH,FH=AH,ci={isNothing:RH,isObject:xH,toArray:wH,repeat:kH,isNegativeZero:DH,extend:FH};function iA(t,e){var i="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(i+='in "'+t.mark.name+'" '),i+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(i+=`

`+t.mark.snippet),r+" "+i):r}function tc(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=iA(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}tc.prototype=Object.create(Error.prototype);tc.prototype.constructor=tc;tc.prototype.toString=function(e){return this.name+": "+iA(this,e)};var Ji=tc;function Y_(t,e,i,r,n){var s="",o="",a=Math.floor(n/2)-1;return r-e>a&&(s=" ... ",e=r-a+s.length),i-r>a&&(o=" ...",i=r+a-o.length),{str:s+t.slice(e,i).replace(/\t/g,"\u2192")+o,pos:r-e+s.length}}function K_(t,e){return ci.repeat(" ",e-t.length)+t}function LH(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var i=/\r?\n|\r|\0/g,r=[0],n=[],s,o=-1;s=i.exec(t.buffer);)n.push(s.index),r.push(s.index+s[0].length),t.position<=s.index&&o<0&&(o=r.length-2);o<0&&(o=r.length-1);var a="",l,u,c=Math.min(t.line+e.linesAfter,n.length).toString().length,f=e.maxLength-(e.indent+c+3);for(l=1;l<=e.linesBefore&&!(o-l<0);l++)u=Y_(t.buffer,r[o-l],n[o-l],t.position-(r[o]-r[o-l]),f),a=ci.repeat(" ",e.indent)+K_((t.line-l+1).toString(),c)+" | "+u.str+`
`+a;for(u=Y_(t.buffer,r[o],n[o],t.position,f),a+=ci.repeat(" ",e.indent)+K_((t.line+1).toString(),c)+" | "+u.str+`
`,a+=ci.repeat("-",e.indent+c+3+u.pos)+`^
`,l=1;l<=e.linesAfter&&!(o+l>=n.length);l++)u=Y_(t.buffer,r[o+l],n[o+l],t.position-(r[o]-r[o+l]),f),a+=ci.repeat(" ",e.indent)+K_((t.line+l+1).toString(),c)+" | "+u.str+`
`;return a.replace(/\n$/,"")}var OH=LH,MH=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],qH=["scalar","sequence","mapping"];function BH(t){var e={};return t!==null&&Object.keys(t).forEach(function(i){t[i].forEach(function(r){e[String(r)]=i})}),e}function VH(t,e){if(e=e||{},Object.keys(e).forEach(function(i){if(MH.indexOf(i)===-1)throw new Ji('Unknown option "'+i+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(i){return i},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=BH(e.styleAliases||null),qH.indexOf(this.kind)===-1)throw new Ji('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var Mi=VH;function VP(t,e){var i=[];return t[e].forEach(function(r){var n=i.length;i.forEach(function(s,o){s.tag===r.tag&&s.kind===r.kind&&s.multi===r.multi&&(n=o)}),i[n]=r}),i}function UH(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,i;function r(n){n.multi?(t.multi[n.kind].push(n),t.multi.fallback.push(n)):t[n.kind][n.tag]=t.fallback[n.tag]=n}for(e=0,i=arguments.length;e<i;e+=1)arguments[e].forEach(r);return t}function z_(t){return this.extend(t)}z_.prototype.extend=function(e){var i=[],r=[];if(e instanceof Mi)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(i=i.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new Ji("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");i.forEach(function(s){if(!(s instanceof Mi))throw new Ji("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Ji("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Ji("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(s){if(!(s instanceof Mi))throw new Ji("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var n=Object.create(z_.prototype);return n.implicit=(this.implicit||[]).concat(i),n.explicit=(this.explicit||[]).concat(r),n.compiledImplicit=VP(n,"implicit"),n.compiledExplicit=VP(n,"explicit"),n.compiledTypeMap=UH(n.compiledImplicit,n.compiledExplicit),n};var jH=z_,GH=new Mi("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),HH=new Mi("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),WH=new Mi("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),YH=new jH({explicit:[GH,HH,WH]});function KH(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function $H(){return null}function zH(t){return t===null}var QH=new Mi("tag:yaml.org,2002:null",{kind:"scalar",resolve:KH,construct:$H,predicate:zH,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function XH(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function JH(t){return t==="true"||t==="True"||t==="TRUE"}function ZH(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var eW=new Mi("tag:yaml.org,2002:bool",{kind:"scalar",resolve:XH,construct:JH,predicate:ZH,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function tW(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function iW(t){return 48<=t&&t<=55}function rW(t){return 48<=t&&t<=57}function nW(t){if(t===null)return!1;var e=t.length,i=0,r=!1,n;if(!e)return!1;if(n=t[i],(n==="-"||n==="+")&&(n=t[++i]),n==="0"){if(i+1===e)return!0;if(n=t[++i],n==="b"){for(i++;i<e;i++)if(n=t[i],n!=="_"){if(n!=="0"&&n!=="1")return!1;r=!0}return r&&n!=="_"}if(n==="x"){for(i++;i<e;i++)if(n=t[i],n!=="_"){if(!tW(t.charCodeAt(i)))return!1;r=!0}return r&&n!=="_"}if(n==="o"){for(i++;i<e;i++)if(n=t[i],n!=="_"){if(!iW(t.charCodeAt(i)))return!1;r=!0}return r&&n!=="_"}}if(n==="_")return!1;for(;i<e;i++)if(n=t[i],n!=="_"){if(!rW(t.charCodeAt(i)))return!1;r=!0}return!(!r||n==="_")}function sW(t){var e=t,i=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(i=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return i*parseInt(e.slice(2),2);if(e[1]==="x")return i*parseInt(e.slice(2),16);if(e[1]==="o")return i*parseInt(e.slice(2),8)}return i*parseInt(e,10)}function oW(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!ci.isNegativeZero(t)}var aW=new Mi("tag:yaml.org,2002:int",{kind:"scalar",resolve:nW,construct:sW,predicate:oW,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),lW=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function uW(t){return!(t===null||!lW.test(t)||t[t.length-1]==="_")}function cW(t){var e,i;return e=t.replace(/_/g,"").toLowerCase(),i=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?i===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:i*parseFloat(e,10)}var fW=/^[-+]?[0-9]+e/;function dW(t,e){var i;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ci.isNegativeZero(t))return"-0.0";return i=t.toString(10),fW.test(i)?i.replace("e",".e"):i}function pW(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||ci.isNegativeZero(t))}var hW=new Mi("tag:yaml.org,2002:float",{kind:"scalar",resolve:uW,construct:cW,predicate:pW,represent:dW,defaultStyle:"lowercase"}),mW=YH.extend({implicit:[QH,eW,aW,hW]}),gW=mW,rA=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),nA=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function _W(t){return t===null?!1:rA.exec(t)!==null||nA.exec(t)!==null}function yW(t){var e,i,r,n,s,o,a,l=0,u=null,c,f,d;if(e=rA.exec(t),e===null&&(e=nA.exec(t)),e===null)throw new Error("Date resolve error");if(i=+e[1],r=+e[2]-1,n=+e[3],!e[4])return new Date(Date.UTC(i,r,n));if(s=+e[4],o=+e[5],a=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(c=+e[10],f=+(e[11]||0),u=(c*60+f)*6e4,e[9]==="-"&&(u=-u)),d=new Date(Date.UTC(i,r,n,s,o,a,l)),u&&d.setTime(d.getTime()-u),d}function TW(t){return t.toISOString()}var bW=new Mi("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:_W,construct:yW,instanceOf:Date,represent:TW});function IW(t){return t==="<<"||t===null}var vW=new Mi("tag:yaml.org,2002:merge",{kind:"scalar",resolve:IW}),ey=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function NW(t){if(t===null)return!1;var e,i,r=0,n=t.length,s=ey;for(i=0;i<n;i++)if(e=s.indexOf(t.charAt(i)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}function SW(t){var e,i,r=t.replace(/[\r\n=]/g,""),n=r.length,s=ey,o=0,a=[];for(e=0;e<n;e++)e%4===0&&e&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(r.charAt(e));return i=n%4*6,i===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):i===18?(a.push(o>>10&255),a.push(o>>2&255)):i===12&&a.push(o>>4&255),new Uint8Array(a)}function PW(t){var e="",i=0,r,n,s=t.length,o=ey;for(r=0;r<s;r++)r%3===0&&r&&(e+=o[i>>18&63],e+=o[i>>12&63],e+=o[i>>6&63],e+=o[i&63]),i=(i<<8)+t[r];return n=s%3,n===0?(e+=o[i>>18&63],e+=o[i>>12&63],e+=o[i>>6&63],e+=o[i&63]):n===2?(e+=o[i>>10&63],e+=o[i>>4&63],e+=o[i<<2&63],e+=o[64]):n===1&&(e+=o[i>>2&63],e+=o[i<<4&63],e+=o[64],e+=o[64]),e}function AW(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var EW=new Mi("tag:yaml.org,2002:binary",{kind:"scalar",resolve:NW,construct:SW,predicate:AW,represent:PW}),CW=Object.prototype.hasOwnProperty,RW=Object.prototype.toString;function xW(t){if(t===null)return!0;var e=[],i,r,n,s,o,a=t;for(i=0,r=a.length;i<r;i+=1){if(n=a[i],o=!1,RW.call(n)!=="[object Object]")return!1;for(s in n)if(CW.call(n,s))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function wW(t){return t!==null?t:[]}var kW=new Mi("tag:yaml.org,2002:omap",{kind:"sequence",resolve:xW,construct:wW}),DW=Object.prototype.toString;function FW(t){if(t===null)return!0;var e,i,r,n,s,o=t;for(s=new Array(o.length),e=0,i=o.length;e<i;e+=1){if(r=o[e],DW.call(r)!=="[object Object]"||(n=Object.keys(r),n.length!==1))return!1;s[e]=[n[0],r[n[0]]]}return!0}function LW(t){if(t===null)return[];var e,i,r,n,s,o=t;for(s=new Array(o.length),e=0,i=o.length;e<i;e+=1)r=o[e],n=Object.keys(r),s[e]=[n[0],r[n[0]]];return s}var OW=new Mi("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:FW,construct:LW}),MW=Object.prototype.hasOwnProperty;function qW(t){if(t===null)return!0;var e,i=t;for(e in i)if(MW.call(i,e)&&i[e]!==null)return!1;return!0}function BW(t){return t!==null?t:{}}var VW=new Mi("tag:yaml.org,2002:set",{kind:"mapping",resolve:qW,construct:BW}),sA=gW.extend({implicit:[bW,vW],explicit:[EW,kW,OW,VW]}),mo=Object.prototype.hasOwnProperty,zp=1,oA=2,aA=3,Qp=4,$_=1,UW=2,UP=3,jW=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,GW=/[\x85\u2028\u2029]/,HW=/[,\[\]\{\}]/,lA=/^(?:!|!!|![a-z\-]+!)$/i,uA=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function jP(t){return Object.prototype.toString.call(t)}function Kn(t){return t===10||t===13}function ma(t){return t===9||t===32}function pr(t){return t===9||t===32||t===10||t===13}function Gl(t){return t===44||t===91||t===93||t===123||t===125}function WW(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function YW(t){return t===120?2:t===117?4:t===85?8:0}function KW(t){return 48<=t&&t<=57?t-48:-1}function GP(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function $W(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var cA=new Array(256),fA=new Array(256);for(ha=0;ha<256;ha++)cA[ha]=GP(ha)?1:0,fA[ha]=GP(ha);var ha;function zW(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||sA,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function dA(t,e){var i={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return i.snippet=OH(i),new Ji(e,i)}function be(t,e){throw dA(t,e)}function Xp(t,e){t.onWarning&&t.onWarning.call(null,dA(t,e))}var HP={YAML:function(e,i,r){var n,s,o;e.version!==null&&be(e,"duplication of %YAML directive"),r.length!==1&&be(e,"YAML directive accepts exactly one argument"),n=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),n===null&&be(e,"ill-formed argument of the YAML directive"),s=parseInt(n[1],10),o=parseInt(n[2],10),s!==1&&be(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&Xp(e,"unsupported YAML version of the document")},TAG:function(e,i,r){var n,s;r.length!==2&&be(e,"TAG directive accepts exactly two arguments"),n=r[0],s=r[1],lA.test(n)||be(e,"ill-formed tag handle (first argument) of the TAG directive"),mo.call(e.tagMap,n)&&be(e,'there is a previously declared suffix for "'+n+'" tag handle'),uA.test(s)||be(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{be(e,"tag prefix is malformed: "+s)}e.tagMap[n]=s}};function ho(t,e,i,r){var n,s,o,a;if(e<i){if(a=t.input.slice(e,i),r)for(n=0,s=a.length;n<s;n+=1)o=a.charCodeAt(n),o===9||32<=o&&o<=1114111||be(t,"expected valid JSON character");else jW.test(a)&&be(t,"the stream contains non-printable characters");t.result+=a}}function WP(t,e,i,r){var n,s,o,a;for(ci.isObject(i)||be(t,"cannot merge mappings; the provided source object is unacceptable"),n=Object.keys(i),o=0,a=n.length;o<a;o+=1)s=n[o],mo.call(e,s)||(e[s]=i[s],r[s]=!0)}function Hl(t,e,i,r,n,s,o,a,l){var u,c;if(Array.isArray(n))for(n=Array.prototype.slice.call(n),u=0,c=n.length;u<c;u+=1)Array.isArray(n[u])&&be(t,"nested arrays are not supported inside keys"),typeof n=="object"&&jP(n[u])==="[object Object]"&&(n[u]="[object Object]");if(typeof n=="object"&&jP(n)==="[object Object]"&&(n="[object Object]"),n=String(n),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,c=s.length;u<c;u+=1)WP(t,e,s[u],i);else WP(t,e,s,i);else!t.json&&!mo.call(i,n)&&mo.call(e,n)&&(t.line=o||t.line,t.lineStart=a||t.lineStart,t.position=l||t.position,be(t,"duplicated mapping key")),n==="__proto__"?Object.defineProperty(e,n,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[n]=s,delete i[n];return e}function ty(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):be(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function si(t,e,i){for(var r=0,n=t.input.charCodeAt(t.position);n!==0;){for(;ma(n);)n===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),n=t.input.charCodeAt(++t.position);if(e&&n===35)do n=t.input.charCodeAt(++t.position);while(n!==10&&n!==13&&n!==0);if(Kn(n))for(ty(t),n=t.input.charCodeAt(t.position),r++,t.lineIndent=0;n===32;)t.lineIndent++,n=t.input.charCodeAt(++t.position);else break}return i!==-1&&r!==0&&t.lineIndent<i&&Xp(t,"deficient indentation"),r}function eh(t){var e=t.position,i;return i=t.input.charCodeAt(e),!!((i===45||i===46)&&i===t.input.charCodeAt(e+1)&&i===t.input.charCodeAt(e+2)&&(e+=3,i=t.input.charCodeAt(e),i===0||pr(i)))}function iy(t,e){e===1?t.result+=" ":e>1&&(t.result+=ci.repeat(`
`,e-1))}function QW(t,e,i){var r,n,s,o,a,l,u,c,f=t.kind,d=t.result,p;if(p=t.input.charCodeAt(t.position),pr(p)||Gl(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(n=t.input.charCodeAt(t.position+1),pr(n)||i&&Gl(n)))return!1;for(t.kind="scalar",t.result="",s=o=t.position,a=!1;p!==0;){if(p===58){if(n=t.input.charCodeAt(t.position+1),pr(n)||i&&Gl(n))break}else if(p===35){if(r=t.input.charCodeAt(t.position-1),pr(r))break}else{if(t.position===t.lineStart&&eh(t)||i&&Gl(p))break;if(Kn(p))if(l=t.line,u=t.lineStart,c=t.lineIndent,si(t,!1,-1),t.lineIndent>=e){a=!0,p=t.input.charCodeAt(t.position);continue}else{t.position=o,t.line=l,t.lineStart=u,t.lineIndent=c;break}}a&&(ho(t,s,o,!1),iy(t,t.line-l),s=o=t.position,a=!1),ma(p)||(o=t.position+1),p=t.input.charCodeAt(++t.position)}return ho(t,s,o,!1),t.result?!0:(t.kind=f,t.result=d,!1)}function XW(t,e){var i,r,n;if(i=t.input.charCodeAt(t.position),i!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=n=t.position;(i=t.input.charCodeAt(t.position))!==0;)if(i===39)if(ho(t,r,t.position,!0),i=t.input.charCodeAt(++t.position),i===39)r=t.position,t.position++,n=t.position;else return!0;else Kn(i)?(ho(t,r,n,!0),iy(t,si(t,!1,e)),r=n=t.position):t.position===t.lineStart&&eh(t)?be(t,"unexpected end of the document within a single quoted scalar"):(t.position++,n=t.position);be(t,"unexpected end of the stream within a single quoted scalar")}function JW(t,e){var i,r,n,s,o,a;if(a=t.input.charCodeAt(t.position),a!==34)return!1;for(t.kind="scalar",t.result="",t.position++,i=r=t.position;(a=t.input.charCodeAt(t.position))!==0;){if(a===34)return ho(t,i,t.position,!0),t.position++,!0;if(a===92){if(ho(t,i,t.position,!0),a=t.input.charCodeAt(++t.position),Kn(a))si(t,!1,e);else if(a<256&&cA[a])t.result+=fA[a],t.position++;else if((o=YW(a))>0){for(n=o,s=0;n>0;n--)a=t.input.charCodeAt(++t.position),(o=WW(a))>=0?s=(s<<4)+o:be(t,"expected hexadecimal character");t.result+=$W(s),t.position++}else be(t,"unknown escape sequence");i=r=t.position}else Kn(a)?(ho(t,i,r,!0),iy(t,si(t,!1,e)),i=r=t.position):t.position===t.lineStart&&eh(t)?be(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}be(t,"unexpected end of the stream within a double quoted scalar")}function ZW(t,e){var i=!0,r,n,s,o=t.tag,a,l=t.anchor,u,c,f,d,p,h=Object.create(null),T,N,_,g;if(g=t.input.charCodeAt(t.position),g===91)c=93,p=!1,a=[];else if(g===123)c=125,p=!0,a={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),g=t.input.charCodeAt(++t.position);g!==0;){if(si(t,!0,e),g=t.input.charCodeAt(t.position),g===c)return t.position++,t.tag=o,t.anchor=l,t.kind=p?"mapping":"sequence",t.result=a,!0;i?g===44&&be(t,"expected the node content, but found ','"):be(t,"missed comma between flow collection entries"),N=T=_=null,f=d=!1,g===63&&(u=t.input.charCodeAt(t.position+1),pr(u)&&(f=d=!0,t.position++,si(t,!0,e))),r=t.line,n=t.lineStart,s=t.position,Wl(t,e,zp,!1,!0),N=t.tag,T=t.result,si(t,!0,e),g=t.input.charCodeAt(t.position),(d||t.line===r)&&g===58&&(f=!0,g=t.input.charCodeAt(++t.position),si(t,!0,e),Wl(t,e,zp,!1,!0),_=t.result),p?Hl(t,a,h,N,T,_,r,n,s):f?a.push(Hl(t,null,h,N,T,_,r,n,s)):a.push(T),si(t,!0,e),g=t.input.charCodeAt(t.position),g===44?(i=!0,g=t.input.charCodeAt(++t.position)):i=!1}be(t,"unexpected end of the stream within a flow collection")}function eY(t,e){var i,r,n=$_,s=!1,o=!1,a=e,l=0,u=!1,c,f;if(f=t.input.charCodeAt(t.position),f===124)r=!1;else if(f===62)r=!0;else return!1;for(t.kind="scalar",t.result="";f!==0;)if(f=t.input.charCodeAt(++t.position),f===43||f===45)$_===n?n=f===43?UP:UW:be(t,"repeat of a chomping mode identifier");else if((c=KW(f))>=0)c===0?be(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?be(t,"repeat of an indentation width identifier"):(a=e+c-1,o=!0);else break;if(ma(f)){do f=t.input.charCodeAt(++t.position);while(ma(f));if(f===35)do f=t.input.charCodeAt(++t.position);while(!Kn(f)&&f!==0)}for(;f!==0;){for(ty(t),t.lineIndent=0,f=t.input.charCodeAt(t.position);(!o||t.lineIndent<a)&&f===32;)t.lineIndent++,f=t.input.charCodeAt(++t.position);if(!o&&t.lineIndent>a&&(a=t.lineIndent),Kn(f)){l++;continue}if(t.lineIndent<a){n===UP?t.result+=ci.repeat(`
`,s?1+l:l):n===$_&&s&&(t.result+=`
`);break}for(r?ma(f)?(u=!0,t.result+=ci.repeat(`
`,s?1+l:l)):u?(u=!1,t.result+=ci.repeat(`
`,l+1)):l===0?s&&(t.result+=" "):t.result+=ci.repeat(`
`,l):t.result+=ci.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,i=t.position;!Kn(f)&&f!==0;)f=t.input.charCodeAt(++t.position);ho(t,i,t.position,!1)}return!0}function YP(t,e){var i,r=t.tag,n=t.anchor,s=[],o,a=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,be(t,"tab characters must not be used in indentation")),!(l!==45||(o=t.input.charCodeAt(t.position+1),!pr(o))));){if(a=!0,t.position++,si(t,!0,-1)&&t.lineIndent<=e){s.push(null),l=t.input.charCodeAt(t.position);continue}if(i=t.line,Wl(t,e,aA,!1,!0),s.push(t.result),si(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===i||t.lineIndent>e)&&l!==0)be(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return a?(t.tag=r,t.anchor=n,t.kind="sequence",t.result=s,!0):!1}function tY(t,e,i){var r,n,s,o,a,l,u=t.tag,c=t.anchor,f={},d=Object.create(null),p=null,h=null,T=null,N=!1,_=!1,g;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=f),g=t.input.charCodeAt(t.position);g!==0;){if(!N&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,be(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),s=t.line,(g===63||g===58)&&pr(r))g===63?(N&&(Hl(t,f,d,p,h,null,o,a,l),p=h=T=null),_=!0,N=!0,n=!0):N?(N=!1,n=!0):be(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,g=r;else{if(o=t.line,a=t.lineStart,l=t.position,!Wl(t,i,oA,!1,!0))break;if(t.line===s){for(g=t.input.charCodeAt(t.position);ma(g);)g=t.input.charCodeAt(++t.position);if(g===58)g=t.input.charCodeAt(++t.position),pr(g)||be(t,"a whitespace character is expected after the key-value separator within a block mapping"),N&&(Hl(t,f,d,p,h,null,o,a,l),p=h=T=null),_=!0,N=!1,n=!1,p=t.tag,h=t.result;else if(_)be(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=u,t.anchor=c,!0}else if(_)be(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=u,t.anchor=c,!0}if((t.line===s||t.lineIndent>e)&&(N&&(o=t.line,a=t.lineStart,l=t.position),Wl(t,e,Qp,!0,n)&&(N?h=t.result:T=t.result),N||(Hl(t,f,d,p,h,T,o,a,l),p=h=T=null),si(t,!0,-1),g=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&g!==0)be(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return N&&Hl(t,f,d,p,h,null,o,a,l),_&&(t.tag=u,t.anchor=c,t.kind="mapping",t.result=f),_}function iY(t){var e,i=!1,r=!1,n,s,o;if(o=t.input.charCodeAt(t.position),o!==33)return!1;if(t.tag!==null&&be(t,"duplication of a tag property"),o=t.input.charCodeAt(++t.position),o===60?(i=!0,o=t.input.charCodeAt(++t.position)):o===33?(r=!0,n="!!",o=t.input.charCodeAt(++t.position)):n="!",e=t.position,i){do o=t.input.charCodeAt(++t.position);while(o!==0&&o!==62);t.position<t.length?(s=t.input.slice(e,t.position),o=t.input.charCodeAt(++t.position)):be(t,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!pr(o);)o===33&&(r?be(t,"tag suffix cannot contain exclamation marks"):(n=t.input.slice(e-1,t.position+1),lA.test(n)||be(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),o=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),HW.test(s)&&be(t,"tag suffix cannot contain flow indicator characters")}s&&!uA.test(s)&&be(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{be(t,"tag name is malformed: "+s)}return i?t.tag=s:mo.call(t.tagMap,n)?t.tag=t.tagMap[n]+s:n==="!"?t.tag="!"+s:n==="!!"?t.tag="tag:yaml.org,2002:"+s:be(t,'undeclared tag handle "'+n+'"'),!0}function rY(t){var e,i;if(i=t.input.charCodeAt(t.position),i!==38)return!1;for(t.anchor!==null&&be(t,"duplication of an anchor property"),i=t.input.charCodeAt(++t.position),e=t.position;i!==0&&!pr(i)&&!Gl(i);)i=t.input.charCodeAt(++t.position);return t.position===e&&be(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function nY(t){var e,i,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!pr(r)&&!Gl(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&be(t,"name of an alias node must contain at least one character"),i=t.input.slice(e,t.position),mo.call(t.anchorMap,i)||be(t,'unidentified alias "'+i+'"'),t.result=t.anchorMap[i],si(t,!0,-1),!0}function Wl(t,e,i,r,n){var s,o,a,l=1,u=!1,c=!1,f,d,p,h,T,N;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=o=a=Qp===i||aA===i,r&&si(t,!0,-1)&&(u=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;iY(t)||rY(t);)si(t,!0,-1)?(u=!0,a=s,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):a=!1;if(a&&(a=u||n),(l===1||Qp===i)&&(zp===i||oA===i?T=e:T=e+1,N=t.position-t.lineStart,l===1?a&&(YP(t,N)||tY(t,N,T))||ZW(t,T)?c=!0:(o&&eY(t,T)||XW(t,T)||JW(t,T)?c=!0:nY(t)?(c=!0,(t.tag!==null||t.anchor!==null)&&be(t,"alias node should not have any properties")):QW(t,T,zp===i)&&(c=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(c=a&&YP(t,N))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&be(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),f=0,d=t.implicitTypes.length;f<d;f+=1)if(h=t.implicitTypes[f],h.resolve(t.result)){t.result=h.construct(t.result),t.tag=h.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(mo.call(t.typeMap[t.kind||"fallback"],t.tag))h=t.typeMap[t.kind||"fallback"][t.tag];else for(h=null,p=t.typeMap.multi[t.kind||"fallback"],f=0,d=p.length;f<d;f+=1)if(t.tag.slice(0,p[f].tag.length)===p[f].tag){h=p[f];break}h||be(t,"unknown tag !<"+t.tag+">"),t.result!==null&&h.kind!==t.kind&&be(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+h.kind+'", not "'+t.kind+'"'),h.resolve(t.result,t.tag)?(t.result=h.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):be(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||c}function sY(t){var e=t.position,i,r,n,s=!1,o;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(o=t.input.charCodeAt(t.position))!==0&&(si(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||o!==37));){for(s=!0,o=t.input.charCodeAt(++t.position),i=t.position;o!==0&&!pr(o);)o=t.input.charCodeAt(++t.position);for(r=t.input.slice(i,t.position),n=[],r.length<1&&be(t,"directive name must not be less than one character in length");o!==0;){for(;ma(o);)o=t.input.charCodeAt(++t.position);if(o===35){do o=t.input.charCodeAt(++t.position);while(o!==0&&!Kn(o));break}if(Kn(o))break;for(i=t.position;o!==0&&!pr(o);)o=t.input.charCodeAt(++t.position);n.push(t.input.slice(i,t.position))}o!==0&&ty(t),mo.call(HP,r)?HP[r](t,r,n):Xp(t,'unknown document directive "'+r+'"')}if(si(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,si(t,!0,-1)):s&&be(t,"directives end mark is expected"),Wl(t,t.lineIndent-1,Qp,!1,!0),si(t,!0,-1),t.checkLineBreaks&&GW.test(t.input.slice(e,t.position))&&Xp(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&eh(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,si(t,!0,-1));return}if(t.position<t.length-1)be(t,"end of the stream or a document separator is expected");else return}function pA(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var i=new zW(t,e),r=t.indexOf("\0");for(r!==-1&&(i.position=r,be(i,"null byte is not allowed in input")),i.input+="\0";i.input.charCodeAt(i.position)===32;)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)sY(i);return i.documents}function oY(t,e,i){e!==null&&typeof e=="object"&&typeof i>"u"&&(i=e,e=null);var r=pA(t,i);if(typeof e!="function")return r;for(var n=0,s=r.length;n<s;n+=1)e(r[n])}function aY(t,e){var i=pA(t,e);if(i.length!==0){if(i.length===1)return i[0];throw new Ji("expected a single document in the stream, but found more")}}var lY=oY,uY=aY,hA={loadAll:lY,load:uY},mA=Object.prototype.toString,gA=Object.prototype.hasOwnProperty,ry=65279,cY=9,ic=10,fY=13,dY=32,pY=33,hY=34,Q_=35,mY=37,gY=38,_Y=39,yY=42,_A=44,TY=45,Jp=58,bY=61,IY=62,vY=63,NY=64,yA=91,TA=93,SY=96,bA=123,PY=124,IA=125,qi={};qi[0]="\\0";qi[7]="\\a";qi[8]="\\b";qi[9]="\\t";qi[10]="\\n";qi[11]="\\v";qi[12]="\\f";qi[13]="\\r";qi[27]="\\e";qi[34]='\\"';qi[92]="\\\\";qi[133]="\\N";qi[160]="\\_";qi[8232]="\\L";qi[8233]="\\P";var AY=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],EY=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function CY(t,e){var i,r,n,s,o,a,l;if(e===null)return{};for(i={},r=Object.keys(e),n=0,s=r.length;n<s;n+=1)o=r[n],a=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=t.compiledTypeMap.fallback[o],l&&gA.call(l.styleAliases,a)&&(a=l.styleAliases[a]),i[o]=a;return i}function RY(t){var e,i,r;if(e=t.toString(16).toUpperCase(),t<=255)i="x",r=2;else if(t<=65535)i="u",r=4;else if(t<=4294967295)i="U",r=8;else throw new Ji("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+i+ci.repeat("0",r-e.length)+e}var xY=1,rc=2;function wY(t){this.schema=t.schema||sA,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=ci.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=CY(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?rc:xY,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function KP(t,e){for(var i=ci.repeat(" ",e),r=0,n=-1,s="",o,a=t.length;r<a;)n=t.indexOf(`
`,r),n===-1?(o=t.slice(r),r=a):(o=t.slice(r,n+1),r=n+1),o.length&&o!==`
`&&(s+=i),s+=o;return s}function X_(t,e){return`
`+ci.repeat(" ",t.indent*e)}function kY(t,e){var i,r,n;for(i=0,r=t.implicitTypes.length;i<r;i+=1)if(n=t.implicitTypes[i],n.resolve(e))return!0;return!1}function Zp(t){return t===dY||t===cY}function nc(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==ry||65536<=t&&t<=1114111}function $P(t){return nc(t)&&t!==ry&&t!==fY&&t!==ic}function zP(t,e,i){var r=$P(t),n=r&&!Zp(t);return(i?r:r&&t!==_A&&t!==yA&&t!==TA&&t!==bA&&t!==IA)&&t!==Q_&&!(e===Jp&&!n)||$P(e)&&!Zp(e)&&t===Q_||e===Jp&&n}function DY(t){return nc(t)&&t!==ry&&!Zp(t)&&t!==TY&&t!==vY&&t!==Jp&&t!==_A&&t!==yA&&t!==TA&&t!==bA&&t!==IA&&t!==Q_&&t!==gY&&t!==yY&&t!==pY&&t!==PY&&t!==bY&&t!==IY&&t!==_Y&&t!==hY&&t!==mY&&t!==NY&&t!==SY}function FY(t){return!Zp(t)&&t!==Jp}function ec(t,e){var i=t.charCodeAt(e),r;return i>=55296&&i<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(i-55296)*1024+r-56320+65536:i}function vA(t){var e=/^\n* /;return e.test(t)}var NA=1,J_=2,SA=3,PA=4,jl=5;function LY(t,e,i,r,n,s,o,a){var l,u=0,c=null,f=!1,d=!1,p=r!==-1,h=-1,T=DY(ec(t,0))&&FY(ec(t,t.length-1));if(e||o)for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=ec(t,l),!nc(u))return jl;T=T&&zP(u,c,a),c=u}else{for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=ec(t,l),u===ic)f=!0,p&&(d=d||l-h-1>r&&t[h+1]!==" ",h=l);else if(!nc(u))return jl;T=T&&zP(u,c,a),c=u}d=d||p&&l-h-1>r&&t[h+1]!==" "}return!f&&!d?T&&!o&&!n(t)?NA:s===rc?jl:J_:i>9&&vA(t)?jl:o?s===rc?jl:J_:d?PA:SA}function OY(t,e,i,r,n){t.dump=function(){if(e.length===0)return t.quotingType===rc?'""':"''";if(!t.noCompatMode&&(AY.indexOf(e)!==-1||EY.test(e)))return t.quotingType===rc?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,i),o=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),a=r||t.flowLevel>-1&&i>=t.flowLevel;function l(u){return kY(t,u)}switch(LY(e,a,t.indent,o,l,t.quotingType,t.forceQuotes&&!r,n)){case NA:return e;case J_:return"'"+e.replace(/'/g,"''")+"'";case SA:return"|"+QP(e,t.indent)+XP(KP(e,s));case PA:return">"+QP(e,t.indent)+XP(KP(MY(e,o),s));case jl:return'"'+qY(e)+'"';default:throw new Ji("impossible error: invalid scalar style")}}()}function QP(t,e){var i=vA(t)?String(e):"",r=t[t.length-1]===`
`,n=r&&(t[t.length-2]===`
`||t===`
`),s=n?"+":r?"":"-";return i+s+`
`}function XP(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function MY(t,e){for(var i=/(\n+)([^\n]*)/g,r=function(){var u=t.indexOf(`
`);return u=u!==-1?u:t.length,i.lastIndex=u,JP(t.slice(0,u),e)}(),n=t[0]===`
`||t[0]===" ",s,o;o=i.exec(t);){var a=o[1],l=o[2];s=l[0]===" ",r+=a+(!n&&!s&&l!==""?`
`:"")+JP(l,e),n=s}return r}function JP(t,e){if(t===""||t[0]===" ")return t;for(var i=/ [^ ]/g,r,n=0,s,o=0,a=0,l="";r=i.exec(t);)a=r.index,a-n>e&&(s=o>n?o:a,l+=`
`+t.slice(n,s),n=s+1),o=a;return l+=`
`,t.length-n>e&&o>n?l+=t.slice(n,o)+`
`+t.slice(o+1):l+=t.slice(n),l.slice(1)}function qY(t){for(var e="",i=0,r,n=0;n<t.length;i>=65536?n+=2:n++)i=ec(t,n),r=qi[i],!r&&nc(i)?(e+=t[n],i>=65536&&(e+=t[n+1])):e+=r||RY(i);return e}function BY(t,e,i){var r="",n=t.tag,s,o,a;for(s=0,o=i.length;s<o;s+=1)a=i[s],t.replacer&&(a=t.replacer.call(i,String(s),a)),(gs(t,e,a,!1,!1)||typeof a>"u"&&gs(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=n,t.dump="["+r+"]"}function ZP(t,e,i,r){var n="",s=t.tag,o,a,l;for(o=0,a=i.length;o<a;o+=1)l=i[o],t.replacer&&(l=t.replacer.call(i,String(o),l)),(gs(t,e+1,l,!0,!0,!1,!0)||typeof l>"u"&&gs(t,e+1,null,!0,!0,!1,!0))&&((!r||n!=="")&&(n+=X_(t,e)),t.dump&&ic===t.dump.charCodeAt(0)?n+="-":n+="- ",n+=t.dump);t.tag=s,t.dump=n||"[]"}function VY(t,e,i){var r="",n=t.tag,s=Object.keys(i),o,a,l,u,c;for(o=0,a=s.length;o<a;o+=1)c="",r!==""&&(c+=", "),t.condenseFlow&&(c+='"'),l=s[o],u=i[l],t.replacer&&(u=t.replacer.call(i,l,u)),gs(t,e,l,!1,!1)&&(t.dump.length>1024&&(c+="? "),c+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),gs(t,e,u,!1,!1)&&(c+=t.dump,r+=c));t.tag=n,t.dump="{"+r+"}"}function UY(t,e,i,r){var n="",s=t.tag,o=Object.keys(i),a,l,u,c,f,d;if(t.sortKeys===!0)o.sort();else if(typeof t.sortKeys=="function")o.sort(t.sortKeys);else if(t.sortKeys)throw new Ji("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)d="",(!r||n!=="")&&(d+=X_(t,e)),u=o[a],c=i[u],t.replacer&&(c=t.replacer.call(i,u,c)),gs(t,e+1,u,!0,!0,!0)&&(f=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,f&&(t.dump&&ic===t.dump.charCodeAt(0)?d+="?":d+="? "),d+=t.dump,f&&(d+=X_(t,e)),gs(t,e+1,c,!0,f)&&(t.dump&&ic===t.dump.charCodeAt(0)?d+=":":d+=": ",d+=t.dump,n+=d));t.tag=s,t.dump=n||"{}"}function eA(t,e,i){var r,n,s,o,a,l;for(n=i?t.explicitTypes:t.implicitTypes,s=0,o=n.length;s<o;s+=1)if(a=n[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof e=="object"&&e instanceof a.instanceOf)&&(!a.predicate||a.predicate(e))){if(i?a.multi&&a.representName?t.tag=a.representName(e):t.tag=a.tag:t.tag="?",a.represent){if(l=t.styleMap[a.tag]||a.defaultStyle,mA.call(a.represent)==="[object Function]")r=a.represent(e,l);else if(gA.call(a.represent,l))r=a.represent[l](e,l);else throw new Ji("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');t.dump=r}return!0}return!1}function gs(t,e,i,r,n,s,o){t.tag=null,t.dump=i,eA(t,i,!1)||eA(t,i,!0);var a=mA.call(t.dump),l=r,u;r&&(r=t.flowLevel<0||t.flowLevel>e);var c=a==="[object Object]"||a==="[object Array]",f,d;if(c&&(f=t.duplicates.indexOf(i),d=f!==-1),(t.tag!==null&&t.tag!=="?"||d||t.indent!==2&&e>0)&&(n=!1),d&&t.usedDuplicates[f])t.dump="*ref_"+f;else{if(c&&d&&!t.usedDuplicates[f]&&(t.usedDuplicates[f]=!0),a==="[object Object]")r&&Object.keys(t.dump).length!==0?(UY(t,e,t.dump,n),d&&(t.dump="&ref_"+f+t.dump)):(VY(t,e,t.dump),d&&(t.dump="&ref_"+f+" "+t.dump));else if(a==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!o&&e>0?ZP(t,e-1,t.dump,n):ZP(t,e,t.dump,n),d&&(t.dump="&ref_"+f+t.dump)):(BY(t,e,t.dump),d&&(t.dump="&ref_"+f+" "+t.dump));else if(a==="[object String]")t.tag!=="?"&&OY(t,t.dump,e,s,l);else{if(a==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new Ji("unacceptable kind of an object to dump "+a)}t.tag!==null&&t.tag!=="?"&&(u=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",t.dump=u+" "+t.dump)}return!0}function jY(t,e){var i=[],r=[],n,s;for(Z_(t,i,r),n=0,s=r.length;n<s;n+=1)e.duplicates.push(i[r[n]]);e.usedDuplicates=new Array(s)}function Z_(t,e,i){var r,n,s;if(t!==null&&typeof t=="object")if(n=e.indexOf(t),n!==-1)i.indexOf(n)===-1&&i.push(n);else if(e.push(t),Array.isArray(t))for(n=0,s=t.length;n<s;n+=1)Z_(t[n],e,i);else for(r=Object.keys(t),n=0,s=r.length;n<s;n+=1)Z_(t[r[n]],e,i)}function GY(t,e){e=e||{};var i=new wY(e);i.noRefs||jY(t,i);var r=t;return i.replacer&&(r=i.replacer.call({"":r},"",r)),gs(i,0,r,!0,!0)?i.dump+`
`:""}var HY=GY,WY={dump:HY};function ny(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var Yl=hA.load,rme=hA.loadAll,AA=WY.dump,EA=Ji;var nme=ny("safeLoad","load"),sme=ny("safeLoadAll","loadAll"),ome=ny("safeDump","dump");var th=class{constructor(){this.yamlData=null}isInClassParmaeter(e){let i=null;return e instanceof tt&&e.logicBranches.length>0&&e.logicBranches[0].head!=null?i=e.logicBranches[0].head:e instanceof G&&(i=e),i!=null&&i.fragmentPosition==1&&i.fragmentParameter!=null&&i.fragmentParameter.name.toLowerCase()=="class"}getPrefix(e){if(e.prev==null||!(e.prev instanceof Qe)||e.prev.content.trimRight().length!=e.prev.content.length)return"";let i=e.prev.content.split('"');if(i.length==0)return"";let r=i[i.length-1].split(" ");return r.length==0?"":r[r.length-1].trim()}getSuffix(e){if(e.next==null||!(e.next instanceof Qe)||e.next.content.trimLeft().length!=e.next.content.length)return"";let i=e.next.content.split('"');if(i.length==0)return"";let r=i[0].split(" ");return r.length==0?"":r[0].trim()}analyze(e){let i=e.getDocumentParser().getRenderNodes();if(e.hasFrontMatter())try{this.yamlData=Yl(e.getFrontMatter())}catch{}return this.analyzeNodes(i)}analyzeNodes(e){let i=[];return e.forEach(r=>{let n=[],s=[],o="",a="";if(this.isInClassParmaeter(r)){let l=[];if(r instanceof tt){if(r.logicBranches.length==0)return;let u=r.logicBranches[0],c=r.logicBranches[r.logicBranches.length-1];if(u.head==null||c.head==null||c.head.isClosedBy==null)return;let f=c.head.isClosedBy,d=u.head;o=this.getPrefix(d),a=this.getSuffix(f),r.logicBranches.forEach(p=>{if(p.head==null||p.head.children.length!=2||!(p.head.children[0]instanceof Qe))return;let h=p.head.children[0].content;h.trim().length==h.length&&(l.includes(h)||l.push(h))})}else if(r instanceof G){if(r.isPaired()){i=i.concat(this.analyzeNodes(r.getStructuralChildren()));return}o=this.getPrefix(r),a=this.getSuffix(r)}if(this.yamlData!=null&&l.length==0&&o.length+a.length>0){let u=r.getParser();if(typeof u!="undefined"&&u!==null){let c=u.getLanguageParser();typeof c!="undefined"&&c!==null&&c.getCreatedVariables().forEach(d=>{if(d.variableReference==null||d.variableReference.pathParts.length!=3||!(d.variableReference.pathParts[0]instanceof Pi)||!(d.variableReference.pathParts[1]instanceof Pi)||!(d.variableReference.pathParts[2]instanceof Sn))return;let p=d.variableReference.pathParts[0],h=d.variableReference.pathParts[1];if(p.name!="view"||typeof this.yamlData[h.name]=="undefined")return;let T=this.yamlData[h.name],N=[],_=Object.keys(T),g=!0;for(let y=0;y<_.length;y++){let x=T[_[y]];if(typeof x!="string"){g=!1;break}N.push(x)}g&&N.forEach(y=>{l.includes(y)||l.push(y)})})}}if(l.length==0&&o.length+a.length>0){let u="/";o.length>0&&(u+=o),u+="(.*)",a.length>0&&(u+=a),u+="/",s.push(u)}else l.length>0&&l.forEach(u=>{let c=`${o}${u}${a}`;n.push(c)})}else r instanceof G&&r.isPaired()&&(i=i.concat(this.analyzeNodes(r.getImmediateChildren())));(a.length>0||o.length>0)&&(n.length>0||s.length>0)&&i.push({classNames:n,patterns:s,node:r,suffix:a,prefix:o})}),i}};var ih=ee(require("fs")),YY={checkDocument(t,e){var s;if(e.diagnostics.warnOnDynamicCssClassNames==!1)return[];let i=[],r=new th().analyze(t);if(r.length==0)return i;let n="";if((s=ae.instance)!=null&&s.hasStructure()){let o=ae.instance.getStructure().getProjectRoot(),a=[];a.push(o+"tailwind.config.js"),a.push(o+"webpack.mix.js"),a.push(o+"webpack.config.js");for(let l=0;l<a.length;l++)if(ih.existsSync(a[l])){n=ih.readFileSync(a[l],{encoding:"utf8"});break}}return r.forEach(o=>{let a=o.classNames.concat(o.patterns),l=M.makeSyntaxError(v.LINT_DYNAMIC_CLASS_NAMES_POSSIBLE_PURGE,o.node,`Dynamic CSS class name generation detected. Some build tools, like PurgeCSS, may not be able to find these classes. It is recommended to use full class names, or configure a class safelist.
    
Possible Classes: ${a.join(", ")}`,1),u=!0;if(n.trim().length>0){u=!1;for(let d=0;d<a.length;d++)if(n.includes(a[d])==!1){u=!0;break}}if(!u)return;let c=Pt(o.node.startPosition),f=Pt(o.node.endPosition);if(o.node instanceof tt){if(o.node.logicBranches.length>0){let d=o.node.logicBranches[0],p=o.node.logicBranches[o.node.logicBranches.length-1];d.head!=null&&p.head!=null&&p.head.isClosedBy!=null&&(c=Pt(d.head.startPosition),f=Pt(p.head.isClosedBy.endPosition))}}else o.node instanceof G&&(c=Pt(o.node.startPosition),f=Pt(o.node.endPosition));c.character=c.character-o.prefix.length-1,f.character=f.character+o.suffix.length,l.lsRange={start:c,end:f},l.data=o,i.push(l)}),i}},CA=YY;var KY={checkDocument(t){let e=[];return t.hasFrontMatter()&&t.getContent().trim().length==0&&e.push(M.makeSyntaxError(v.LINT_FRONT_MATTER_EMPTY_DOCUMENT,null,'Empty document content with Front Matter will result in "[ErrorException] Undefined index: content".')),e}},RA=KY;function xA(t){let e=t.split(/\r?\n/),i=[];return e.forEach(r=>{let n=r.split("|");if(n.length==1)i.push(r);else if(n.length>1){let s=n[0];if(parseInt(s.trim()).toString()==s.trim()){let o=parseInt(s)+1;n.shift();let a=n.join("|"),l=" ".repeat(s.length-o.toString().length);i.push(l+o.toString()+"|"+a)}else i.push(r)}}),i.join(`
`)}var $Y={checkDocument(t){let e=[];if(t.hasFrontMatter()){let i=t.getFrontMatter();try{Yl(i,{onWarning:r=>{let n=new Zt,s=new Zt;n.line=r.mark.line+2,n.char=r.mark.column,s.line=r.mark.line+2,s.char=r.mark.snippet.length+r.mark.column;let o={start:n,end:s},a=new M;a.errorCode=v.LINT_INVALID_FRONT_MATTER,a.level=1,a.message=xA(r.message),a.range=o,e.push(a)}})}catch(r){if(r instanceof EA){let n=new Zt,s=new Zt;n.line=r.mark.line+2,n.char=r.mark.column,s.line=r.mark.line+2,s.char=r.mark.snippet.length+r.mark.column;let o={start:n,end:s},a=new M;a.errorCode=v.LINT_INVALID_FRONT_MATTER,a.level=0,a.message=xA(r.message),a.range=o,e.push(a)}}}return e}},wA=$Y;var zY={checkDocument(t){let e=[];return t.getAllAntlersNodes().forEach(i=>{var r,n;if(i.isTagNode&&i.name!=null&&i.getTagName()=="partial"){let s=ul(i);if(s==null)return;let o=(n=(r=ae.instance)==null?void 0:r.getStructure())==null?void 0:n.findRelativeView(s);if(typeof o=="undefined"||o==null)return;o.documentUri==t.documentUri&&i.findParentOfType(["if","elseif","else"])==null&&e.push(M.makeSyntaxError(v.LINT_POSSIBLE_PARTIAL_RECURSION,i,"Possible partial recursion detected",1))}}),e}},kA=zY;var DA=[RA,wA,kA,CA];var QY=["dump","dd","ddd"],XY={checkNode(t){let e=t.getTagName(),i=[];return QY.includes(e)&&i.push(M.makeSyntaxError(v.LINT_DEBUG_DATA_EXPOSED,t,e+" exposes data and should be removed after debugging.",1)),t.modifiers.hasModifier("dump")&&i.push(M.makeSyntaxError(v.LINT_DEBUG_DATA_EXPOSED,t,"dump modifier exposes data and should be removed after debugging.",1)),i}},FA=XY;var JY={checkNode(t){let e=[];if(t.modifiers==null)return e;let i=[];if(t.modifiers.hasParameterModifiers())for(let r=0;r<t.modifiers.parameterModifiers.length;r++){let n=t.modifiers.parameterModifiers[r];n.refId!=null&&i.includes(n.refId)==!1&&n.modifier!=null&&n.modifier.isDeprecated&&(e.push(M.makeSyntaxError(v.LINT_DEPRECATED_MODIFIER,t.modifiers.parameterModifiers[r],oy(n.modifier),1)),i.push(n.refId))}if(t.modifiers.hasShorthandModifiers()&&t.modifierChain!=null)for(let r=0;r<t.modifierChain.modifierChain.length;r++){let n=t.modifierChain.modifierChain[r];n.refId!=null&&i.includes(n.refId)==!1&&n.modifier!=null&&n.modifier.isDeprecated&&(e.push(M.makeSyntaxError(v.LINT_DEPRECATED_MODIFIER,n,oy(n.modifier),1)),i.push(n.refId))}if(t.runtimeNodes!=null&&t.runtimeNodes.length>0)for(let r=0;r<t.runtimeNodes.length;r++){let n=t.runtimeNodes[r];if(n.modifierChain!=null)for(let s=0;s<n.modifierChain.modifierChain.length;s++){let o=n.modifierChain.modifierChain[s];o.refId!=null&&i.includes(o.refId)==!1&&o.modifier!=null&&o.modifier.isDeprecated&&(e.push(M.makeSyntaxError(v.LINT_DEPRECATED_MODIFIER,o,oy(o.modifier),1)),i.push(o.refId))}}return e}};function oy(t){return t.getDeprecatedMessage!=null?t.getDeprecatedMessage():`${t.name} is deprecated.`}var LA=JY;var ZY={checkNode(t){let e=[];if(t.scopeVariable==null||t.scopeVariable.sourceField==null||t.modifierChain==null||t.modifierChain.modifierChain.length==0)return e;let i=t.scopeVariable.sourceField.type,r=t.modifierChain.modifierChain[0];return r.modifier==null||i=="select_multiple"&&(r.modifier.name=="join"||r.modifier.name=="joinplode")&&e.push(M.makeSyntaxError(v.LINT_SELECT_FIELD_JOIN_RAW,t,"To join a select field, add the raw modifier: "+e3(t,"join"),1)),e}};function e3(t,e){var i,r;return"{{ "+((r=(i=t.name)==null?void 0:i.name)!=null?r:"field_name")+" | raw | "+e+" ... }}"}var OA=ZY;var t3={checkNode(t){var n;let e=[];if(t.isClosedBy==null||t.parent==null||!(t.parent instanceof G))return e;let i=t.parent;if(i.isClosedBy==null)return e;let r=t.runtimeName();return r=="if"||r=="if:index"||r=="else"||r=="else:index"||r=="elseif"||r=="elseif:index"||r=="elseunless"||r=="elseunless:index"||(n=i.isClosedBy.startPosition)!=null&&n.isBefore(t.isClosedBy.endPosition)&&(e.push(M.makeSyntaxError(v.LINT_INTERLEAVED_TAG_PAIRS,t,"Closing tag cannot appear after parent closing tag.")),e.push(M.makeSyntaxError(v.LINT_INTERLEAVED_TAG_PAIRS,t.isClosedBy,"Closing tag cannot appear after parent closing tag."))),e}},rh=t3;var i3={checkNode(t){let e=[];return t.hasParameters==!1||t.parameters.forEach(i=>{i.hasValidValueDelimiter==!1&&e.push(M.makeSyntaxError(v.LINT_INVALID_PARAMETER_VALUE_DELIMITER,i,"Parameter values must be enclosed in single or double quotes.",1))}),e}},MA=i3;var r3={checkNode(t){let e=[];return t.modifiers!=null&&t.modifiers.hasMixedModifierStyles&&e.push(M.makeSyntaxError(v.LINT_MIXED_MODIFIERS,t,"Mixed modifier styles is not supported",0)),e}},qA=r3;var n3={checkNode(t){let e=[];if(t.modifiers==null)return e;let i=[];if(t.modifiers.hasParameterModifiers()){let r=null;for(let n=0;n<t.modifiers.parameterModifiers.length;n++){let s=t.modifiers.parameterModifiers[n];if(r==null){r=s;continue}if(r!=null&&r.modifier!=null&&s.modifier!=null){if(r.modifier.returnsType.includes("*")||s.modifier.acceptsType.includes("*"))continue;{let o=r.modifier.returnsType,a="void",l="void",u=s.modifier.acceptsType.some(c=>o.includes(c));if(o.length>0&&(a=o[o.length-1]),s.modifier.acceptsType.length>0&&(l=s.modifier.acceptsType[0]),!u){e.push(M.makeSyntaxError(v.LINT_MODIFIER_UNEXPECTED_TYPE,s,"Unexpected type supplied to modifier "+s.name+". Expected "+l+" got "+a+".",1));break}}}}}if(t.modifiers.hasShorthandModifiers()&&t.modifierChain!=null){let r=null;for(let n=0;n<t.modifierChain.modifierChain.length;n++){let s=t.modifierChain.modifierChain[n];if(r==null){r=s;continue}if(r!=null&&r.modifier!=null&&s.modifier!=null)if(r.modifier.returnsType.includes("*")||s.modifier.acceptsType.includes("*")){r=s;continue}else{let o=r.modifier.returnsType,a="void",l="void",u=s.modifier.acceptsType.some(c=>o.includes(c));if(o.length>0&&(a=o[o.length-1]),s.modifier.acceptsType.length>0&&(l=s.modifier.acceptsType[0]),!u){s.refId!=null&&!i.includes(s.refId)&&(e.push(M.makeSyntaxError(v.LINT_MODIFIER_UNEXPECTED_TYPE,s,"Unexpected type supplied to modifier "+s.name+". Expected "+l+" got "+a+".",1)),i.push(s.refId));break}r=s}}}if(t.runtimeNodes!=null&&t.runtimeNodes.length>0)for(let r=0;r<t.runtimeNodes.length;r++){let n=t.runtimeNodes[r],s=null;if(n.modifierChain!=null)for(let o=0;o<n.modifierChain.modifierChain.length;o++){let a=n.modifierChain.modifierChain[o];if(s==null){s=a;continue}if(s!=null&&s.modifier!=null&&a.modifier!=null)if(s.modifier.returnsType.includes("*")||a.modifier.acceptsType.includes("*")){s=a;continue}else{let l=s.modifier.returnsType,u="void",c="void",f=a.modifier.acceptsType.some(d=>l.includes(d));if(l.length>0&&(u=l[l.length-1]),a.modifier.acceptsType.length>0&&(c=a.modifier.acceptsType[0]),!f){a.refId!=null&&i.includes(a.refId)==!1&&(e.push(M.makeSyntaxError(v.LINT_MODIFIER_UNEXPECTED_TYPE,a,"Unexpected type supplied to modifier "+a.name+". Expected "+c+" got "+u+".",1)),i.push(a.refId));break}s=a}}}return e}},BA=n3;var VA={warnUnknownParameters:!1};var nh=class{static validateInteger(e){return parseInt(e).toString()!==e?{isValid:!1,message:'"'+e+'" is not a valid integer.'}:{isValid:!0,message:""}}static validateBoolean(e){return e=="true"||e=="false"?{isValid:!0,message:""}:{isValid:!1,message:'"'+e+'" is not a valid value. Expecting true/false.'}}static validateParameters(e){var r,n,s,o,a;let i=[];if(e.isTagNode&&((r=Le.instance)==null?void 0:r.isKnownTag(e.runtimeName()))){let l=(n=Le.instance)==null?void 0:n.findTag(e.runtimeName());if(e.hasParameters)for(let u=0;u<e.parameters.length;u++){let c=e.parameters[u],f=null,d=!1,p=c.name.trim();if(!c.isVariableReference)if(p=Vr(p,":"),((s=Le.instance)==null?void 0:s.canResolveDynamicParameter(e.runtimeName()))&&typeof l.resolveDynamicParameter!="undefined"&&l.resolveDynamicParameter!=null?(f=l.resolveDynamicParameter(e,p),d=!0):f=(o=Le.instance)==null?void 0:o.getParameter(e.runtimeName(),p),d&&f==null&&(f=(a=Le.instance)==null?void 0:a.getParameter(e.runtimeName(),p)),f==null){if(VA.warnUnknownParameters){let h="";if(l.suggestAlternativeParams!=null){let N=l.suggestAlternativeParams(p);N.length==1?h='. Did you mean "'+N[0]+'"?':N.length>1&&(h=". Try one of the following: "+N.join(", "))}let T='Unknown parameter name: "'+p+'"'+h;i.push(M.makeSyntaxError(v.LINT_UNKNOWN_PARAMETER,e,T,1))}}else if(f.validate!=null){let h=f.validate(e,c);h.length>0&&h.forEach(T=>{i.push(M.makeSyntaxError(v.LINT_GENERAL_INVALID_PARAMETER_CONTENTS,c,T.message,1))})}else{if(c.hasInterpolations())continue;for(let h=0;h<f.expectsTypes.length;h++){let T=f.expectsTypes[h];if(T=="integer"){let N=this.validateInteger(c.value);N.isValid||i.push(M.makeSyntaxError(v.LINT_PARAMETER_CONTENT_INVALID_INTEGER,c,N.message,1))}else if(T=="boolean"){let N=this.validateBoolean(c.value);if(f.name=="paginate"){if(c.value=="true"||c.value=="false")continue;if(parseInt(c.value).toString()!=c.value){let _='Unexpected "'+c.value+'". Expecting a numeric value, or true/false.';i.push(M.makeSyntaxError(v.LINT_PAGINATE_INVALID_VALUE,c,_,0))}}else N.isValid||i.push(M.makeSyntaxError(v.LINT_PARAMETER_CONTENT_INVALID_BOOLEAN,c,N.message,1))}}}}}return i}};var s3={checkNode(t,e){return e.diagnostics.validateTagParameters==!1?[]:nh.validateParameters(t)}},UA=s3;var o3={checkNode(t){var i,r;let e=[];if(t.isTagNode&&t.name!=null&&t.getTagName()=="partial"){let n=ul(t);if(n==null)return e;let s=(r=(i=ae.instance)==null?void 0:i.getStructure())==null?void 0:r.findRelativeView(n);if(typeof s=="undefined"||s==null)return e;s.injectsParameters.length>0&&s.injectsParameters.forEach(o=>{o.isRequired&&!t.hasParameter(o.name)&&e.push(M.makeSyntaxError(v.LINT_MISSING_REQUIRED_PARAMETER,t,"Missing required parameter: "+o.name,0))})}return e}},jA=o3;var a3=["assets","entries","form_multiple","sites_multiple","structures_multiple","taxonomies_multiple","terms_multiple","user_groups_multiple","user_roles_multiple","users_multiple"],l3=["as","on_each_side","order_by","sort","query_scope","filter","reverse","paginate","limit","offset","page_name"],sc=class{static isQueryBuilderType(e){return a3.includes(e)}static isIgnoredParameterName(e){return l3.includes(e)}};var GA="Query builder fields must use an alias in order to use modifiers",u3={checkNode(t){let e=[];if(t.scopeVariable!=null&&t.isTagNode==!1){if(t.runtimeNodes.length==0)return e;if(t.runtimeNodes[0]instanceof fe&&t.scopeVariable.sourceField!=null){if(t.hasParameter("as"))return e;if(sc.isQueryBuilderType(t.scopeVariable.sourceField.type)){if(t.modifierChain!=null&&t.modifierChain.modifierChain.length>0)return e.push(M.makeSyntaxError(v.LINT_MODIFIERS_ON_QUERY_BUILDERS_REQUIRE_AS,t,GA,1)),e;if(t.hasParameters)for(let r=0;r<t.parameters.length;r++){let n=t.parameters[r];if(n.modifier!=null&&!sc.isIgnoredParameterName(n.modifier.name))return e.push(M.makeSyntaxError(v.LINT_MODIFIERS_ON_QUERY_BUILDERS_REQUIRE_AS,t,GA,1)),e}}}}return e}},HA=u3;var c3={checkNode(t){let e=[];return t.isTagNode&&t.name!=null&&t.getTagName()=="relate"&&e.push(M.makeSyntaxError(v.LINT_REMOVE_RELATE_TAG,t,"The `relate` tag is not necessary here, and can be removed.",1)),e}},WA=c3;var f3={checkNode(t,e){let i=[];if(e.languageVersion=="runtime")return[];if(t.isClosedBy!=null&&t.modifierChain!=null){let r=t.content.trim(),n=t.isClosedBy.content.trim(),s="/"+r;n!=s&&(i.push(M.makeSyntaxError(v.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH,t,"Closing tags must match exactly when using shorthand modifiers in tag pairs.",0)),i.push(M.makeSyntaxError(v.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH,t.isClosedBy,'Closing tags must match exactly when using shorthand modifiers in tag pairs. Expecting: "'+s+'".',0)))}return i}},YA=f3;var uE=ee(Sy()),K3={checkNode(t){var n,s,o;let e=[];if(t.isOpenedBy!=null||!((n=ae.instance)!=null&&n.hasStructure()))return e;let i=ae.instance.getStructure().getStatamicVersion();if(i==null||i.trim().length==0||!((s=Le.instance)!=null&&s.isKnownTag(t.runtimeName())))return e;let r=(o=Le.instance)==null?void 0:o.findTag(t.runtimeName());if((r==null?void 0:r.introducedIn)==null)return e;try{uE.lt(i,r.introducedIn)&&e.push(M.makeSyntaxError(v.LINT_VERSION_NOT_COMPATIBLE,t,t.runtimeName()+" requires at least Statamic "+r.introducedIn+". Current project version: "+i,1))}catch{}return e}},cE=K3;var $3={checkNode(t){let e=[];return t.isTagNode&&t.getTagName()=="set"&&e.push(M.makeSyntaxError(v.LINT_SET_PRODUCES_RUNTIME_ERROR,t,'`set` tag will produce "array_merge(): Expected parameter 1 to be an array, object given" runtime exception.')),e}},fE=$3;var z3=[FA,qA,BA,OA,LA,WA,fE,YA,cE,rh,MA,jA,UA,HA],dE=z3;var ys=class{constructor(){this.fileDiagnostics=new Map;this.handlers=[];this.docHandlers=[]}registerHandler(e){this.handlers.push(e)}registerDocumentHandler(e){this.docHandlers.push(e)}registerDocumentHandlers(e){for(let i=0;i<e.length;i++)this.registerDocumentHandler(e[i])}registerHandlers(e){for(let i=0;i<e.length;i++)this.registerHandler(e[i])}registerCoreHandlers(){this.registerHandlers(dE),this.registerDocumentHandlers(DA)}hasDiagnosticsIssues(e){return this.fileDiagnostics.has(e)==!1?!1:this.fileDiagnostics.get(e).length>0}registerDiagnostics(e,i){this.fileDiagnostics.set(e,i)}clearIssues(e){this.fileDiagnostics.set(e,[])}getDiagnostics(e){return this.hasDiagnosticsIssues(e)?this.fileDiagnostics.get(e):[]}checkDocument(e){let i=[],r=kr();return this.docHandlers.forEach(n=>{n.checkDocument(e,r).forEach(s=>{i.push(s)})}),i}checkNode(e){let i=[];if(e.isComment)return i;let r=kr();return this.handlers.forEach(n=>{n.checkNode(e,r).forEach(s=>{i.push(s)})}),i}getAllDiagnostics(){let e=[];return this.fileDiagnostics.forEach((i,r)=>{for(let n=0;n<i.length;n++)e.push(i[n])}),e}};ys.instance=null;(typeof ys.instance=="undefined"||ys.instance==null)&&(ys.instance=new ys,ys.instance.registerCoreHandlers());var er=ys;var bE=ee(oi());var Jl=ee(oi());var X3=Py();function Ts(t){return t.split("\\").join("/")}function hE(t){let e=X3(decodeURIComponent(t));return Ts(e)}var mE=ee(require("fs")),gE=ee(require("path"));var Ay=class{constructor(){this.activeRequest=null}getName(e){return"Extract to Partial"}canHandle(e){return e.selectedText.trim().length>0}refactor(e){this.activeRequest=e,Ay.currentAction=this;let i=this.getName(e);return[Jl.CodeAction.create(i+"...",Jl.Command.create(i,"antlers.extractToPartial",e.documentUri),Jl.CodeActionKind.RefactorExtract)]}completeRefactor(e){var r;let i=(r=ae.instance)==null?void 0:r.getStructure();if(i!=null&&this.activeRequest!=null){let n=Ts(i.getViewPath()),s=Ts(e.fsPath);if(s.startsWith(n)){mE.writeFileSync(e.fsPath,this.activeRequest.selectedText);let o=s.substring(n.length),a=gE.basename(s);a.startsWith("_")&&(a=a.substr(1)),o=o.substr(0,o.length-a.length),a.endsWith(".antlers.html")?a=a.substring(0,a.length-13):a.endsWith(".antlers.xml")||a.endsWith("antlers.php")?a=a.substring(0,a.length-12):a.endsWith(".blade.php")?a=a.substring(0,a.length-10):a.endsWith(".html")&&(a=a.substring(0,a.length-5)),o.length>1&&o.endsWith("/")==!1&&(o=o+"/");let l="{{ partial:"+o+a+" }}",u={range:this.activeRequest.actionParams.range,newText:l},c={changes:{[this.activeRequest.actionParams.textDocument.uri]:[u]}};Ey(c)}}}},gh=Ay;gh.currentAction=null;var cc=gh;var _E=ee(oi());var fc=class{static isFlatCondition(e){var n;if(e.chain.length>1&&((n=e.logicBranches[1].head)==null?void 0:n.getTagName())!="else")return!1;let i=e.logicBranches[0].nodes,r=!1;for(let s=0;s<i.length;s++)if(i[s]instanceof tt){r=!0;break}if(r)for(let s=0;s<i.length;s++){let o=i[s];if(o instanceof Qe&&o.content.trim().length!=0)return!1}for(let s=0;s<i.length;s++){let o=i[s];if(o instanceof tt&&!fc.isFlatCondition(o)||o instanceof G&&!ai.isConditionalStructure(o)&&o.isClosingTag)return!1}return!0}static getCleanChildren(e){let i=[],r=[];for(let n=0;n<e.nodes.length;n++){let s=e.nodes[n];if(s.startPosition==null)break;if(!r.includes(s.startPosition.index))s instanceof Qe?s.content.trim().length>0&&i.push(s):i.push(s),r.push(s.startPosition.index);else break}return i.pop(),i}static unwrapFlattenedConditions(e){let i={body:[],conditions:[]};return e.logicBranches.forEach(r=>{if(r.head==null)return;i.conditions.push(r.head);let n=this.getCleanChildren(r);if(n.length==1&&n[0]instanceof tt){let s=this.unwrapFlattenedConditions(n[0]);i.conditions=i.conditions.concat(s.conditions),i.body=i.body.concat(s.body)}else n.length==1?i.body.push(n[0]):n.forEach(s=>{if(s instanceof tt){let o=this.unwrapFlattenedConditions(s);i.conditions=i.conditions.concat(o.conditions),i.body=i.body.concat(o.body)}else{if(s instanceof G&&ai.isConditionalStructure(s))return;i.body.push(s)}})}),i}},_h=fc;var dc=class{constructor(e){this.refactoredStyle=0;this.params=e}isSimpleElse(e){var i;return e.logicBranches.length==2&&((i=e.logicBranches[1].head)==null?void 0:i.getTagName())=="else"}getRefactorMode(){return this.refactoredStyle}refactor(e){let i="";return this.params.refactorNested?(i=this.createdNestedGatekeeper(e),this.refactoredStyle=1):e.logicBranches.length==1?(i=this.createGatekeeper(e),this.refactoredStyle=1):this.isSimpleElse(e)&&(i=this.createTernary(e),this.refactoredStyle=0),this.params.isInInterpolation?"{"+i+"}":"{{ "+i+" }}"}createdNestedGatekeeper(e){let i=_h.unwrapFlattenedConditions(e),r=[],n=[];i.conditions.forEach(a=>{let l=a.getContent().trim();a.runtimeNodes.length>1&&(l.startsWith("(")==!1&&(l="("+l),l.endsWith(")")==!1&&(l=l+")"),this.shouldAddEndingParenthesis(a)&&(l+=")")),r.push(l)}),i.body.forEach(a=>{a instanceof G?n.push(a.getNodeDocumentText()):a instanceof Qe&&n.push(a.content)}),n.length>0&&(n[0]=n[0].trimLeft(),n[n.length-1]=n[n.length-1].trimRight());let s=r.join(" && "),o=n.join("");return"("+s+") ?= "+this.convertToString(o)}convertToString(e){let i=e;return i=jt(i,"{{","{"),i=jt(i,"}}","}"),"'"+jt(i,"'","\\'")+"'"}createTernary(e){var l;let i=e.logicBranches[0].head,r=e.logicBranches[1].head,n=this.convertToString((l=i.getInnerDocumentText())!=null?l:""),s=this.convertToString(r.getInnerDocumentText()),a=i.getContent().trim();return a.startsWith("(")==!1&&(a="("+a),a.endsWith(")")==!1&&(a=a+")"),this.shouldAddEndingParenthesis(i)&&(a+=")"),a+" ? "+n+" : "+s}shouldAddEndingParenthesis(e){return e.originalNode==null?!1:e.originalNode.getTagName()=="unless"}createGatekeeper(e){var o;let i=e.logicBranches[0].head,r=(o=i.getInnerDocumentText())!=null?o:"",n=this.convertToString(r),s="";return i.runtimeNodes.length>1?s="("+i.getContent().trim()+")":s=i.getContent(),s.trim()+" ?= "+n}};var Cy=class{constructor(){this.condition=null;this.isNestedConditions=!1;this.refactorStyle=0}getName(e){return this.refactorStyle==1?"Convert Condition to Gatekeeper operator":"Convert Condition to Ternary"}canHandle(e){if(e.selectedDocument.hasUnclosedStructures()||e.selectedDocument.hasUnclosedStructures()||e.selectedDocument.errors.hasAny())return!1;let i=e.selectedDocument.getAllAntlersNodes(),r=new Jo,n=0,s=0;for(let a=0;a<i.length;a++)if(i[a].isClosingTag){if(ai.isConditionalStructure(i[a])){s+=1;continue}if(n+=1,n>1)return!1}let o=r.associate(i,e.ownerDocument.getDocumentParser());if(o.length==1&&o[0]instanceof tt){if(this.condition=o[0],this.isNestedConditions=!1,s>2){if(!_h.isFlatCondition(this.condition))return this.isNestedConditions=!1,!1;this.isNestedConditions=!0}return!0}return!1}refactor(e){if(this.condition==null)return[];let i=[],r=!1;e.params.currentNode!=null&&e.params.currentNode.getTagName()!="if"&&(r=!0);let n=new dc({isInInterpolation:r,refactorNested:this.isNestedConditions}),s=n.refactor(this.condition);this.refactorStyle=n.getRefactorMode();let o={range:e.actionParams.range,newText:s};return i.push({title:this.getName(e),kind:_E.CodeActionKind.RefactorRewrite,edit:{changes:{[e.documentUri]:[o]}}}),i}},yE=Cy;var Ry=class{static getRefactors(e){let i=[],r=[];return r.push(new cc),r.push(new yE),r.forEach(n=>{n.canHandle(e)&&n.refactor(e).forEach(s=>{i.push(s)})}),i}},TE=Ry;var xy=[];function IE(t){xy=t}function vE(t){var f,d;if(((f=ae.instance)==null?void 0:f.hasStructure())==!1)return[];Re.refreshDocumentState();let e=decodeURIComponent(t.textDocument.uri);if(Re.hasDocument(e)==!1)return[];if(!xn.has(e))return[];let i=t.range.start,r=fr(i,e,fa.showGeneralSnippetCompletions);if(r==null)return[];let n=xn.get(e),s=n.getText(t.range),o=xt.fromText(s.trim()),a={params:r,selectedText:s,selectedDocument:o,ownerDocument:Re.getDocument(e),documentUri:t.textDocument.uri,actionParams:t},l=TE.getRefactors(a),u=(d=er.instance)==null?void 0:d.getDiagnostics(e),c=[];return u!=null&&u.length>0&&(u==null||u.forEach(p=>{var h,T,N,_,g,y;if(p.errorCode==v.LINT_DYNAMIC_CLASS_NAMES_POSSIBLE_PURGE){let x=p.data;if(p.node instanceof tt){let L="";for(let z=0;z<p.node.logicBranches.length;z++){let de=p.node.logicBranches[z];z==p.node.logicBranches.length-1?(L+=`{{${(h=de.head)==null?void 0:h.getTrueNode().sourceContent}}}`,L+=`${x.prefix}${(T=de.head)==null?void 0:T.documentText}${x.suffix}`,L+=`{{${(_=(N=de.head)==null?void 0:N.isClosedBy)==null?void 0:_.getTrueNode().sourceContent}}}`):(L+=`{{${(g=de.head)==null?void 0:g.getTrueNode().sourceContent}}}`,L+=`${x.prefix}${(y=de.head)==null?void 0:y.documentText}${x.suffix}`)}let E={range:p.lsRange,newText:L},U=[];xy.length>0&&xy.forEach(z=>{z.range==p.lsRange&&U.push(z)});let w="";x.suffix.length>0&&x.prefix.length>0?w=`${x.prefix}...${x.suffix}`:x.suffix.length>0?w=`...${x.suffix}`:x.prefix.length>0&&(w=`${x.prefix}...`),x.classNames.length==1&&x.patterns.length==0&&(w=x.classNames[0]),l.push({title:"Dynamic CSS Class: "+w,kind:bE.CodeActionKind.QuickFix,diagnostics:U,edit:{changes:{[t.textDocument.uri]:[E]}}})}}})),l}function NE(t,e){let i=decodeURIComponent(t);Re.createOrUpdate(i,e)}function wy(t){let e=decodeURIComponent(t.uri);Re.createOrUpdate(decodeURIComponent(t.uri),t.getText()),xn.set(e,t)}async function ky(t,e){var s;let i=decodeURIComponent(t.uri);Re.createOrUpdate(i,t.getText());let r=[];if(Re.hasDocument(i)){let o=Re.getDocument(i);if(da(o.errors.all()).forEach(a=>{r.push(a)}),(s=er.instance)!=null&&s.hasDiagnosticsIssues(i)){let a=er.instance.getDiagnostics(i);da(a).forEach(l=>{r.push(l)})}}kr().diagnostics.reportDiagnostics!=!1&&(IE(r),e.sendDiagnostics({uri:t.uri,diagnostics:r}),J3(t.uri,e))}function SE(t){var e,i,r;if((e=ae.instance)!=null&&e.hasStructure()){let n=ae.instance.getStructure().getViews();for(let s=0;s<n.length;s++){let o=decodeURIComponent(n[s].documentUri),a=[];if(Re.hasDocument(o)){let l=Re.getDocument(o);l.reloadDocument(),da(l.errors.all()).forEach(u=>{a.push(u)}),da((r=(i=er.instance)==null?void 0:i.checkDocument(l))!=null?r:[]).forEach(u=>{a.push(u)}),l.getAllAntlersNodes().forEach(u=>{var f,d;let c=(d=(f=er.instance)==null?void 0:f.checkNode(u))!=null?d:[];c.length>0&&da(c).forEach(p=>{a.push(p)})})}t.sendDiagnostics({uri:n[s].originalDocumentUri,diagnostics:a})}}}function J3(t,e){var r,n,s;if(kr().diagnostics.reportDiagnostics!=!1&&(r=ae.instance)!=null&&r.hasStructure()){let o=ae.instance.getStructure().getViews();for(let a=0;a<o.length;a++)if(o[a].documentUri!=t){let l=decodeURIComponent(o[a].documentUri);if((n=er.instance)!=null&&n.hasDiagnosticsIssues(l)){let u=[],c=(s=er.instance)==null?void 0:s.getDiagnostics(l);da(c).forEach(f=>{u.push(f)}),e.sendDiagnostics({uri:o[a].originalDocumentUri,diagnostics:u})}}}}var EC=ee(xi());var pc=null;function Dy(t){pc=t}var yh=class{constructor(){this.htmlFormatter=null;this.yamlFormatter=null;this.phpFormatter=null;this.preFormatter=null;this.transformOptions=null;this.createExtraVirtualStructures=!1}withTransformOptions(e){return this.transformOptions=e,this}withPreFormatter(e){return this.preFormatter=e,this}withHtmlFormatter(e){return this.htmlFormatter=e,this}withYamlFormatter(e){return this.yamlFormatter=e,this}withPhpFormatter(e){return this.phpFormatter=e,this}formatText(e,i){let r=new xt;return r.getDocumentParser().withChildDocuments(!0),r.loadString(e),this.formatDocument(r,i)}formatDocument(e,i){if(!e.isFormattingEnabled())return e.getOriginalContent();if(this.preFormatter!=null){let o=this.preFormatter(e);if(o!=null)return o}let r=e.getAllAntlersNodes();for(let o=0;o<r.length;o++)if(rh.checkNode(r[o],i).length>0)return e.getOriginalContent();if(this.htmlFormatter==null||e.isValid()==!1)return e.getOriginalContent();e.transform().withInlineFormatter(o=>this.formatText(o,i)).produceExtraStructuralPairs(this.createExtraVirtualStructures).withHtmlFormatter(this.htmlFormatter).withPhpFormatter(this.phpFormatter).withYamlFormatter(this.yamlFormatter),this.transformOptions!=null&&e.transform().withOptions(this.transformOptions);let n=e.transform().toStructure(),s=this.htmlFormatter(n);return e.transform().fromStructure(s)}};var Th=class{static formatFrontMatter(e){try{let i=Yl(e,{}),r=AA(i,{indent:2,noArrayIndent:!1,condenseFlow:!1,forceQuotes:!0,noRefs:!0,skipInvalid:!0});return r.endsWith(`
`)&&(r=r.trimEnd()),r}catch{return e}}};function hr(t,e,i){if(t&&t.hasOwnProperty(e)){let r=t[e];if(r!==null)return r}return i}function PE(t,e,i){let r=hr(t,e,null);return typeof r=="string"?r.length>0?r.split(",").map(n=>n.trim().toLowerCase()):[]:i}var i9=AC().html,Zl=class extends yh{constructor(i){super();this.options=i,this.withHtmlFormatter(this.formatHtml).withYamlFormatter(Th.formatFrontMatter).withTransformOptions({endNewline:hr(i.htmlOptions,"endWithNewline",!1),maxAntlersStatementsPerLine:i.maxStatementsPerLine,newlinesAfterFrontMatter:1,tabSize:i.tabSize})}formatHtml(i){var r;return i9(i,{indent_size:this.options.tabSize,indent_char:this.options.insertSpaces?" ":"	",indent_empty_lines:hr(this.options.htmlOptions,"indentEmptyLines",!1),wrap_line_length:hr(this.options.htmlOptions,"wrapLineLength",120),unformatted:(r=PE(this.options.htmlOptions,"unformatted",[]))!=null?r:[],content_unformatted:[],indent_inner_html:hr(this.options.htmlOptions,"indentInnerHtml",!1),preserve_newlines:hr(this.options.htmlOptions,"preserveNewLines",!0),max_preserve_newlines:hr(this.options.htmlOptions,"maxPreserveNewLines",32786),indent_handlebars:hr(this.options.htmlOptions,"indentHandlebars",!1),end_with_newline:hr(this.options.htmlOptions,"endWithNewline",!1),extra_liners:[],wrap_attributes:hr(this.options.htmlOptions,"wrapAttributes","auto"),wrap_attributes_indent_size:hr(this.options.htmlOptions,"wrapAttributesIndentSize",void 0),eol:`
`,indent_scripts:hr(this.options.htmlOptions,"indentScripts","normal"),unformatted_content_delimiter:hr(this.options.htmlOptions,"unformattedContentDelimiter","")})}};function CC(t){let e=kr(),i=decodeURIComponent(t.textDocument.uri),r=pc.format;if(e.formatterIgnoreExtensions.length>0){for(let n=0;n<e.formatterIgnoreExtensions.length;n++)if(i.toLowerCase().endsWith(e.formatterIgnoreExtensions[n].toLowerCase()))return null}if(Re.hasDocument(i)&&xn.has(i)){let n=xn.get(i),s=n.getText(),o=xt.fromText(s),a={htmlOptions:r,formatFrontMatter:e.formatFrontMatter,insertSpaces:t.options.insertSpaces,tabSize:t.options.tabSize,maxStatementsPerLine:3,formatExtensions:[]},l=new Zl(a),u=l.formatDocument(o,kr()),c=n.positionAt(s.length);return[{range:{start:EC.Position.create(0,0),end:c},newText:u}]}return null}var RC=ee(xi());var r9={activeSignature:null,activeParameter:null,signatures:[]};function xC(t){var r;let e=decodeURIComponent(t.textDocument.uri),i=fr(t.position,e);if(i!=null&&i.context!=null&&i.context.modifierContext!=null&&(r=je.instance)!=null&&r.hasModifier(i.context.modifierContext.name)){let n=i.context.modifierContext.name,s=je.instance.getModifier(n),o=[];s!=null&&s.parameters.forEach(l=>{o.push({label:l.name,documentation:l.description})});let a=i.context.modifierContext.activeValueIndex;return a>o.length&&(a=o.length-1),(a<0||o.length==0)&&(a=0),{signatures:[{label:s.name,documentation:{kind:RC.MarkupKind.Markdown,value:s.description},parameters:o,activeParameter:a}],activeParameter:a,activeSignature:0}}return r9}var Ia=ee(Nt());var xh=class{static getTypedHeader(e,i){let r="";return i.length>0&&(r=i.join(", ")),"**"+e+"** `"+r+"`  \n"}static formatParameterHover(e){let i=this.getTypedHeader(e.name,e.expectsTypes);if(i+=e.description,e.documentationLink!=null&&e.documentationLink.trim().length>0){i+=`  

`;let r="Documentation Reference";e.docLinkName!=null&&e.docLinkName.trim().length>0&&(r=e.docLinkName.trim()),i+="["+r+"]("+e.documentationLink+")"}return{contents:{kind:Ia.MarkupKind.Markdown,value:i}}}static formatModifierHover(e){let i=this.getTypedHeader(e.name,e.acceptsType),r="";if(e.parameters.length>0){let s=[];e.parameters.forEach(o=>{s.push("$"+o.name)}),r=s.join(", ")}let n="";if(e.returnsType.length==1)n=e.returnsType[0];else{let s=[];e.returnsType.forEach(o=>{s.push(o)}),n=s.join(", ")}return typeof e.hoverDescription!="undefined"&&e.hoverDescription!=null?i+=e.hoverDescription+`
`:i+=e.description+`
`,i+="```js\n",i+="function "+e.name+"("+r+"):"+n,i+="\n```",e.docLink!=null&&e.docLink.trim().length>0&&(i+=`  

`,i+="[Documentation Reference]("+e.docLink+")"),{contents:{kind:Ia.MarkupKind.Markdown,value:i}}}static formatBlueprintHover(e,i){let r="";return e.displayName!=null&&e.displayName.trim().length>0?r="**"+e.displayName+"** ("+e.name+`)

`:r="**"+e.name+`**

`,e.instructionText!=null&&(r+=e.instructionText+`

`),r+="**Blueprint**: "+e.blueprintName+`

`,r+="**Type**: "+e.type,e.maxItems!=null&&(r+=`

**Max Items**: `+e.maxItems),i!=null&&(r+=`

**From**: `+i.runtimeName()),{contents:{kind:Ia.MarkupKind.Markdown,value:r}}}static formatScopeVariableHover(e){if(e.sourceField!=null)return this.formatBlueprintHover(e.sourceField,e.introducedBy);let i="**"+e.name+`**

`;return i+="**Type**: "+e.dataType,e.introducedBy!=null&&(i+=`
**From**: `+e.introducedBy.runtimeName()),{contents:{kind:Ia.MarkupKind.Markdown,value:i}}}static getHover(e){var r,n,s,o,a,l,u,c,f;if(e==null||e.nodesInScope.length==0)return null;let i=e.nodesInScope[e.nodesInScope.length-1];if(e.context!=null&&e.context.node!=null&&(i=e.context.node),i!=null){if((r=Le.instance)!=null&&r.isKnownTag(i.runtimeName())){let T=(n=Le.instance)==null?void 0:n.findTag(i.runtimeName());if(e.context!=null&&e.context.isCursorInIdentifier&&typeof(T==null?void 0:T.resolveDocumentation)!="undefined"){let N=T.resolveDocumentation(e);if(N.trim().length>0)return{contents:{kind:Ia.MarkupKind.Markdown,value:N},range:{start:Pt(i.startPosition),end:Pt(i.endPosition)}}}if(T!=null&&((o=(s=e.context)==null?void 0:s.parameterContext)==null?void 0:o.parameter)!=null){let N=e.context.parameterContext.parameter,_=Le.instance.getParameter(T.tagName,N.name);if(_!=null){if(typeof _.providesDocumentation!="undefined"){let g=_.providesDocumentation(e);if(g.trim().length>0)return{contents:{kind:Ia.MarkupKind.Markdown,value:g},range:{start:Pt(i.startPosition),end:Pt(i.endPosition)}}}return this.formatParameterHover(_)}else if(N.isModifierParameter&&N.modifier!=null)return this.formatModifierHover(N.modifier)}}if(((a=e.context)==null?void 0:a.parameterContext)!=null&&((u=(l=e.context)==null?void 0:l.parameterContext.parameter)==null?void 0:u.modifier)!=null)return this.formatModifierHover(e.context.parameterContext.parameter.modifier);if(((c=e.context)==null?void 0:c.modifierContext)!=null){let T=(f=je.instance)==null?void 0:f.getModifier(e.context.modifierContext.name);if(T!=null)return this.formatModifierHover(T)}let d=e.position.line+1,p=e.position.character+1,h=e.antlersDocument.cursor.position(d,p);return i.scopeVariable!=null&&h!=null&&h.isWithin(i.startPosition,i.endPosition)?this.formatScopeVariableHover(i.scopeVariable):null}return null}};function wC(t){var r;if(((r=ae.instance)==null?void 0:r.hasStructure())==!1)return null;let e=decodeURIComponent(t.textDocument.uri);if(Re.hasDocument(e)==!1)return null;let i=fr(t.position,e);return xh.getHover(i)}var wh=class{static findLocations(e,i){if(e==null||e.nodesInScope.length==0)return null;let r=e.nodesInScope[e.nodesInScope.length-1];if(e.context!=null&&e.context.node!=null&&(r=e.context.node),r!=null&&r.scopeVariable!=null&&r.scopeVariable.introducedBy!=null){let n=[];return n.push({uri:i.textDocument.uri,range:{start:Pt(r.scopeVariable.introducedBy.startPosition),end:Pt(r.scopeVariable.introducedBy.endPosition)}}),n}return null}};function kC(t){var r;if(((r=ae.instance)==null?void 0:r.hasStructure())==!1)return null;let e=decodeURIComponent(t.textDocument.uri);if(Re.hasDocument(e)==!1)return null;let i=fr(t.position,e);return wh.findLocations(i,t)}var LC=ee(oi());var kh=new Map,Dh=new Map;function tT(){let t={types:["comment","string","keyword","number","regexp","operator","namespace","type","struct","class","interface","enum","typeParameter","function","method","macro","variable","parameter","property","label","antlersAttribute"],modifiers:["declaration","documentation","readonly","static","abstract","deprecated","modification","async"]};return t.types.forEach((e,i)=>kh.set(e,i)),t.modifiers.forEach((e,i)=>Dh.set(e,i)),{legend:t,async getSemanticTokens(e,i){let r=decodeURIComponent(e.uri),n=new LC.SemanticTokensBuilder,s=[];if(Re.hasDocument(r)){let o=Re.getDocument(r);o.nodes.getAllRuntimeNodes().forEach(p=>{p instanceof Ht&&s.push(p)});let l=new Map;s.forEach(p=>{var h;p.startPosition!=null&&(l.has(p.startPosition.line)||l.set(p.startPosition.line,[]),(h=l.get(p.startPosition.line))==null||h.push(p))});let u=[];Array.from(l.keys()).sort((p,h)=>p-h).forEach(p=>{l.get(p).sort((N,_)=>{var g,y,x,L;return((y=(g=N.startPosition)==null?void 0:g.char)!=null?y:0)-((L=(x=_.startPosition)==null?void 0:x.char)!=null?L:0)}).forEach(N=>{u.push(N)})}),u.forEach(p=>{p instanceof Ht&&p.startPosition!=null&&p.endPosition!=null&&n.push(p.startPosition.line-1,p.startPosition.char,p.endPosition.char-p.startPosition.char,FC("function"),DC([]))}),o.nodes.getAllParameterNodes().forEach(p=>{p.namePosition!=null&&p.namePosition.start!=null&&p.namePosition.end!=null&&n.push(p.namePosition.start.line-1,p.namePosition.start.char-1,p.namePosition.end.char-p.namePosition.start.char,FC("antlersAttribute"),DC([]))})}return n.build().data}}}function DC(t){let e=0;for(let i=0;i<t.length;i++){let r=t[i];Dh.has(r)?e=e|1<<Dh.get(r):r==="notInLegend"&&(e=e|1<<Dh.size+2)}return e}function FC(t){return kh.has(t)?kh.get(t):t==="notInLegend"?kh.size+2:0}var Fh=ee(oi());function OC(t){let e=[];return t.forEach(i=>{if(i.isComment||i.isClosingTag&&!i.isConditionNode||i.isConditionNode&&i.name!=null&&i.isClosingTag&&(i.name.name=="if"||i.name.name=="unless"))return;let r=pa(i),n=[];if(i.children.length>0){let u=i.getStructuralChildren();u.length>0&&(n=OC(u))}let s=Fh.SymbolKind.Field;i.isTagNode&&(s=Fh.SymbolKind.Class);let o=i.getNameContent().trim(),a=i.getContent().trim(),l=o+" "+a;o==a&&(l=a),l=i.sourceContent,i.name!=null&&i.name.name=="partial"&&(s=Fh.SymbolKind.File),e.push({range:r,kind:s,name:l,selectionRange:r,children:n})}),e}function MC(t){let e=decodeURIComponent(t.textDocument.uri);if(Re.hasDocument(e)){let i=Re.getDocument(e),r=i.nodes.getStructuralNodes();return OC(r)}return[]}var Lh=class{static getDocumentLinks(e){var r,n,s;let i=[];if((r=ae.instance)!=null&&r.hasStructure()){let o=(s=(n=yn.instance)==null?void 0:n.getPartialReferences(e))!=null?s:[];for(let a=0;a<o.length;a++){let l=o[a];if(l.hasMethodPart()){let u=ae.instance.getStructure().findRelativeView(l.getMethodNameValue());if(u!=null){let c=Pt(l.nameEndsOn);i.push({range:{start:Pt(l.startPosition),end:{character:c.character-2,line:c.line}},tooltip:"Partial: "+u.displayName,target:decodeURIComponent(u.documentUri)})}}}}return i}};var fi=ee(require("path")),bt=ee(require("fs")),So=ee(Rn()),k1=require("path");var Qn=ee(require("fs")),qC=ee(Sy());function n9(t){let e=JSON.parse(Qn.readFileSync(t,{encoding:"utf8"}));return typeof e.extra!="undefined"&&typeof e.extra.statamic!="undefined"}var Oh=class{static getInstalledPackages(e,i,r){let n=[];if(Qn.existsSync(e)){let s=JSON.parse(Qn.readFileSync(e,{encoding:"utf8"}));if(typeof s!="undefined"&&typeof s.packages!="undefined")for(let o=0;o<s.packages.length;o++){let a=s.packages[o];if(typeof a.name!="undefined"&&typeof a.version!="undefined"){let l=r+Tn(a.name,"/")+"/composer.json",u=r+Tn(a.name,"/")+"/.antlers-ls/",c=!1;if(typeof a.dist!="undefined"){let h=a.dist;typeof h.type!="undefined"&&typeof h.url!="undefined"&&h.type==="path"&&(l=i+Tn(a.dist.url,"/")+"/composer.json",u=r+Tn(a.name,"/")+"/.antlers-ls/")}let f=null;if(Qn.existsSync(l)&&(c=n9(l),c&&Qn.existsSync(u))){f={fieldtypesFile:null,modifiersFile:null,tagsFile:null};let h=u+"tags.json",T=u+"modifiers.json",N=u+"types.json";Qn.existsSync(h)&&(f.tagsFile=h),Qn.existsSync(T)&&(f.modifiersFile=T),Qn.existsSync(N)&&(f.fieldtypesFile=N)}let d=Vr(a.version,"v"),p=qC.clean(d);p!=null&&(d=p),n.push({name:a.name,version:d,vendorPath:l,isStatamicAddon:c,antlersExtension:f})}}}return n}};var BC=ee(require("path"));function Mh(t){let e=BC.resolve(t).replace(/\\/g,"/");return e[0]!=="/"&&(e="/"+e),encodeURI("file://"+e)}function Dr(t){return!t.toLowerCase().endsWith(".gitkeep")}var VC=ee(Rn()),UC=ee(require("fs"));function eu(t,e,i,r,n){let s=[],o=[];for(let a of Object.keys(t[i])){let l=t[i][a],u="",c="",f="",d="",p=null,h=null,T=null;if(typeof l.prefix!="undefined"&&l.prefix!==null&&(d=l.prefix),typeof l.import!="undefined"&&n.has(l.import)){let N=n.get(l.import);for(let _=0;_<N.length;_++)o.includes(N[_].handle)==!1&&(s.push(Og(N[_],d)),o.push(N[_].handle));continue}if(typeof l.import!="undefined"&&(T=l.import),typeof l.field!="undefined"&&(typeof l.field.type!="undefined"&&(u=l.field.type),typeof l.field.display!="undefined"&&(c=l.field.display),typeof l.field.instructions!="undefined"&&(f=l.field.instructions),typeof l.field.max_items!="undefined"&&(p=l.field.max_items),u=WI(u,l,p),HI.includes(u)&&typeof l.field.sets!="undefined")){h=[];for(let N of Object.keys(l.field.sets)){let _=l.field.sets[N],g=eu(_,e,"fields","set:"+N,n),y="";typeof _.display!="undefined"&&(y=_.display),h.push({handle:N,displayName:y,fields:g})}}s.push({blueprintName:e,name:l.handle,type:u,displayName:c,instructionText:f,maxItems:p,refFieldSetField:null,sets:h,import:T})}return s}function va(t,e,i,r){let n=[],s={fields:[],handle:"",title:"",filePath:"",type:i};try{let o=UC.readFileSync(t,{encoding:"utf8"}),a=VC.parse(o),l=a.sections,u=a.tabs;if(s.filePath=t,s.handle=e,s.title=e,typeof a.title!="undefined"&&(s.title=a.title),typeof u!="undefined")for(let c of Object.keys(u)){let f=u[c];if(typeof f.fields!="undefined"){let d=eu(f,e,"fields",e,r);d.length>0&&(n=n.concat(d))}}else if(typeof l!="undefined")for(let c of Object.keys(l)){let f=l[c];if(typeof f.fields!="undefined"){let d=eu(f,e,"fields",e,r);d.length>0&&(n=n.concat(d))}}else if(typeof a.fields!="undefined"){let c=eu(a,e,"fields",e,r);c.length>0&&(n=n.concat(c))}}catch{}return s.fields=n,s}var jC=ee(Rn()),GC=ee(require("fs"));function HC(t,e){let i=[];try{let r=GC.readFileSync(t,{encoding:"utf8"}),n=jC.parse(r);if(typeof n=="undefined"||n===null)return[];if(typeof n.fields!="undefined")for(let s of Object.keys(n.fields)){let o=n.fields[s],a=o.handle,l="",u="",c="",f=null,d=null,p=null;if(typeof o.import!="undefined"&&(p=o.import),typeof o.field!="undefined"&&(typeof o.field.display!="undefined"&&(l=o.field.display),typeof o.field.type!="undefined"&&(c=o.field.type),typeof o.field.instructions!="undefined"&&(u=o.field.instructions),typeof o.field.max_items!="undefined"&&(f=o.field.max_items),typeof o.field.sets!="undefined")){d=[];for(let h of Object.keys(o.field.sets)){let T=o.field.sets[h],N=eu(T,e,"fields","set:"+h,new Map),_="";typeof T.display!="undefined"&&(_=T.display),d.push({handle:h,displayName:_,fields:N})}}i.push({handle:a,instructionText:u,name:l,type:c,maxItems:f,sets:d,import:p})}}catch{}return i}var WC=ee(require("path")),YC=ee(require("fs")),KC=ee(Rn());function $C(t){let e=WC.basename(t).split(".").slice(0,-1).join("."),i=e;try{let r=YC.readFileSync(t,{encoding:"utf8"}),n=KC.parse(r);typeof n.title!="undefined"&&n.title!==null&&(i=n.title)}catch(r){console.error(r)}return{handle:e,title:i}}var zC=ee(require("path")),QC=ee(require("fs")),XC=ee(Rn());function JC(t){let e=zC.basename(t).split(".").slice(0,-1).join("."),i=e,r="";try{let n=QC.readFileSync(t,{encoding:"utf8"}),s=XC.parse(n);typeof s!="undefined"&&s!==null&&(typeof s.title!="undefined"&&s.title!==null&&(i=s.title),typeof s.disk!="undefined"&&s.disk!==null&&(r=s.disk))}catch(n){console.error(n)}return{handle:e,title:i,diskName:r}}var ZC=ee(require("path")),eR=ee(require("fs")),tR=ee(Rn());function iR(t){let e=ZC.basename(t).split(".").slice(0,-1).join("."),i=eR.readFileSync(t,{encoding:"utf8"}),r="",n="",s="",o=!1,a=[],l=null,u=null,c=[];try{let f=tR.parse(i);if(typeof f!="undefined"&&f!==null){if(typeof f.title!="undefined"&&f.title!==null&&(r=f.title),typeof f.inject!="undefined"&&f.inject!==null){let d=Object.keys(f.inject);for(let p=0;p<d.length;p++){let h=d[p];h=="view_model"?u=f.inject.view_model:c.push(h)}}if(typeof f.template!="undefined"&&f.template!==null&&(n=f.template),typeof f.layout!="undefined"&&f.layout!==null&&(s=f.layout),typeof f.taxonomies!="undefined"&&f.taxonomies!==null&&(a=Object.keys(f.taxonomies)),typeof f.structure!="undefined"&&f.structure!==null){o=!0;let d=f.structure,p=-1,h=!1;typeof d.root!="undefined"&&d.root!==null&&(h=d.root),typeof d.max_depth!="undefined"&&d.max_depth!==null&&(p=d.max_depth),l={root:h,maxDepth:p}}}}catch(f){console.error(f)}return{handle:e,title:r,template:n,layout:s,taxonomies:a,isStructure:o,structure:l,viewModel:u,injectFields:c}}var iT=ee(require("fs")),rT=ee(Rn());function rR(t){let e=[],i=iT.readFileSync(t,{encoding:"utf8"});try{let r=rT.parse(i);if(typeof r=="undefined"||r===null)return[];let n=Object.keys(r);for(let s=0;s<n.length;s++){let o=n[s],a=r[o],l=o;typeof a!="undefined"&&a!==null&&typeof a.title!="undefined"&&a.title!==null&&(l=a.title),e.push({handle:o,title:l})}}catch(r){console.error(r)}return e}function nR(t){let e=[],i=iT.readFileSync(t,{encoding:"utf8"});try{let r=rT.parse(i);if(typeof r=="undefined"||r===null)return[];let n=Object.keys(r);for(let s=0;s<n.length;s++){let o=n[s],a=r[o],l=o;typeof a!="undefined"&&a!==null&&typeof a.title!="undefined"&&a.title!==null&&(l=a.title),e.push({handle:o,title:l})}}catch(r){console.error(r)}return e}var sR=ee(require("fs")),oR=ee(Rn());function aR(t){var r,n,s,o;let e=sR.readFileSync(t,{encoding:"utf8"}),i=[];try{let a=oR.parse(e);if(typeof a=="undefined"||a===null)return[];let l=Object.keys(a);for(let u=0;u<l.length;u++){let c=l[u],f=a[c],d=[],p="";if(typeof f!="undefined"&&f!==null){let h=Object.keys(f);for(let T=0;T<h.length;T++){let N=h[T],_=(n=(r=je.instance)==null?void 0:r.getModifier(N))!=null?n:null,g=!1,y="";_!=null?(g=!0,y=(o=(s=je.instance)==null?void 0:s.getProbableReturnType(_,!1))!=null?o:"",p=y):p="",d.push({hasReference:g,manifestsType:y,name:N,ref:_})}}i.push({name:c,manifestsType:p,modifiers:d})}}catch{}return i}function nT(t,e,i){return{blueprintName:t,displayName:"",import:null,instructionText:"",maxItems:null,name:e,refFieldSetField:null,sets:null,type:i}}var qh=class{constructor(e,i){this.isMocked=!1;this.rootPath="";this.fieldsetsPath="";this.viewsPath="";this.collectionBlueprintsPath="";this.formBlueprintsPath="";this.globalBlueprintsPath="";this.miscBlueprintsPath="";this.taxonomiesBlueprintsPath="";this.globalFiles=[];this.blueprintFiles=[];this.collectionNames=[];this.speculativeFields=new Map;this.customModifierNames=[];this.customTags=[];this.collections=new Map;this.fieldsets=new Map;this.forms=new Map;this.globals=new Map;this.taxonomies=new Map;this.fields=new Map;this.miscFields=new Map;this.blueprintRef=new Map;this.blueprintCollectionRef=new Map;this.templates=[];this.views=[];this.partialCache=[];this.partialViewNames=[];this.taxonomyNames=[];this.hasMacroFile=!1;this.macroFilePath="";this.collectionQueryScopes=[];this.taxonomyTerms=new Map;this.assets=new Map;this.userGroups=new Map;this.userRoles=new Map;this.navigationMenus=new Map;this.blueprints=[];this.viewMap=new Map;this.routeNames=[];this.translationKeys=[];this.uniqueFormNames=[];this.uniquePartialViewNames=[];this.uniqueCollectionNames=[];this.uniqueTaxonomyNames=[];this.uniqueUserGroups=[];this.uniqueUserRoles=[];this.uniqueGlobalSettingNames=[];this.uniqueNavigationNames=[];this.uniqueAssetNames=[];this.publicAssets=[];this.packageMapping=new Map;this.statamicAddonMapping=new Map;this.blueprintFieldReference=[];this.baseResourcePath=i,this.sourceStructure=e,this.rootPath="",this.isMocked=e.isMocked,this.rootPath=e.rootPath,this.fieldsetsPath=e.fieldsetsPath,this.viewsPath=e.viewsPath,this.collectionBlueprintsPath=e.collectionBlueprintsPath,this.formBlueprintsPath=e.formBlueprintsPath,this.globalBlueprintsPath=e.globalBlueprintsPath,this.miscBlueprintsPath=e.miscBlueprintsPath,this.taxonomiesBlueprintsPath=e.taxonomiesBlueprintsPath,this.globalFiles=e.globalFiles,this.blueprintFiles=e.blueprintFiles,this.collectionNames=e.collectionNames,this.blueprints=e.blueprints,this.collections=e.collections,this.assets=e.assets,this.fieldsets=e.fieldsets,this.forms=e.forms,this.globals=e.globals,this.taxonomies=e.taxonomies,this.fields=e.fields,this.miscFields=e.miscFields,this.templates=e.templates,this.views=e.views,this.partialCache=e.partialCache,this.partialViewNames=e.partialViewNames,this.taxonomyNames=e.taxonomyNames,this.macroFilePath=e.macroFilePath,this.hasMacroFile=e.hasMacrosFile,this.collectionQueryScopes=e.collectionScopes,this.taxonomyTerms=e.taxonomyTerms,this.navigationMenus=e.navigationMenus,this.rootPath=e.workingDirectory,this.speculativeFields=e.namedBluePrintFields,this.customModifierNames=e.customModifierNames,this.customTags=e.customTags,this.buildDetails(),typeof this.sourceStructure.restoreProperties!="undefined"&&this.sourceStructure.restoreProperties!=null&&(this.assets=this.sourceStructure.restoreProperties.assets,this.blueprintCollectionRef=this.sourceStructure.restoreProperties.blueprintCollectionRef,this.blueprintFieldReference=this.sourceStructure.restoreProperties.blueprintFieldReference,this.blueprintFiles=this.sourceStructure.restoreProperties.blueprintFiles,this.blueprintRef=this.sourceStructure.restoreProperties.blueprintRef,this.collectionNames=this.sourceStructure.restoreProperties.collectionNames,this.collectionQueryScopes=this.sourceStructure.restoreProperties.collectionQueryScopes,this.collections=this.sourceStructure.restoreProperties.collections,this.fields=this.sourceStructure.restoreProperties.fields,this.fieldsets=this.sourceStructure.restoreProperties.fieldsets,this.blueprints=this.sourceStructure.restoreProperties.blueprints,this.forms=this.sourceStructure.restoreProperties.forms,this.globalFiles=this.sourceStructure.restoreProperties.globalFiles,this.globals=this.sourceStructure.restoreProperties.globals,this.miscFields=this.sourceStructure.restoreProperties.miscFields,this.navigationMenus=this.sourceStructure.restoreProperties.navigationMenus,this.packageMapping=this.sourceStructure.restoreProperties.packageMapping,this.partialCache=this.sourceStructure.restoreProperties.partialCache,this.partialViewNames=this.sourceStructure.restoreProperties.partialViewNames,this.publicAssets=this.sourceStructure.restoreProperties.publicAssets,this.routeNames=this.sourceStructure.restoreProperties.routeNames,this.statamicAddonMapping=this.sourceStructure.restoreProperties.statamicAddonMapping,this.taxonomies=this.sourceStructure.restoreProperties.taxonomies,this.taxonomyNames=this.sourceStructure.restoreProperties.taxonomyNames,this.taxonomyTerms=this.sourceStructure.restoreProperties.taxonomyTerms,this.templates=this.sourceStructure.restoreProperties.templates,this.translationKeys=this.sourceStructure.restoreProperties.translationKeys,this.uniqueAssetNames=this.sourceStructure.restoreProperties.uniqueAssetNames,this.uniqueCollectionNames=this.sourceStructure.restoreProperties.uniqueCollectionNames,this.uniqueFormNames=this.sourceStructure.restoreProperties.uniqueFormNames,this.uniqueGlobalSettingNames=this.sourceStructure.restoreProperties.uniqueGlobalSettingNames,this.uniqueNavigationNames=this.sourceStructure.restoreProperties.uniqueNavigationNames,this.uniquePartialViewNames=this.sourceStructure.restoreProperties.uniquePartialViewNames,this.uniqueTaxonomyNames=this.sourceStructure.restoreProperties.uniqueTaxonomyNames,this.uniqueUserGroups=this.sourceStructure.restoreProperties.uniqueUserGroups,this.uniqueUserRoles=this.sourceStructure.restoreProperties.uniqueUserRoles,this.userGroups=this.sourceStructure.restoreProperties.userGroups,this.userRoles=this.sourceStructure.restoreProperties.userRoles,this.viewMap=this.sourceStructure.restoreProperties.viewMap,this.views=this.sourceStructure.restoreProperties.views,this.customModifierNames=this.sourceStructure.restoreProperties.customModifierNames,this.customTags=this.sourceStructure.restoreProperties.customTags)}getViewPath(){return this.viewsPath}getProjectRoot(){return this.rootPath}getCustomModifierNames(){return this.customModifierNames}export(){let e=this.sourceStructure;return e.restoreProperties=this.getRestoreRecords(),e}getRestoreRecords(){return{assets:this.assets,baseResourcePath:this.baseResourcePath,blueprintCollectionRef:this.blueprintCollectionRef,blueprintFieldReference:this.blueprintFieldReference,blueprintFiles:this.blueprintFiles,blueprintRef:this.blueprintRef,collectionNames:this.collectionNames,collectionQueryScopes:this.collectionQueryScopes,blueprints:this.blueprints,collections:this.collections,fields:this.fields,fieldsets:this.fieldsets,forms:this.forms,globalFiles:this.globalFiles,globals:this.globals,miscFields:this.miscFields,navigationMenus:this.navigationMenus,packageMapping:this.packageMapping,partialCache:this.partialCache,partialViewNames:this.partialViewNames,publicAssets:this.publicAssets,routeNames:this.routeNames,statamicAddonMapping:this.statamicAddonMapping,taxonomies:this.taxonomies,taxonomyNames:this.taxonomyNames,taxonomyTerms:this.taxonomyTerms,templates:this.templates,translationKeys:this.translationKeys,uniqueAssetNames:this.uniqueAssetNames,uniqueCollectionNames:this.uniqueCollectionNames,uniqueFormNames:this.uniqueFormNames,uniqueGlobalSettingNames:this.uniqueGlobalSettingNames,uniqueNavigationNames:this.uniqueNavigationNames,uniquePartialViewNames:this.uniquePartialViewNames,uniqueTaxonomyNames:this.uniqueTaxonomyNames,uniqueUserGroups:this.uniqueUserGroups,uniqueUserRoles:this.uniqueUserRoles,userGroups:this.userGroups,userRoles:this.userRoles,viewMap:this.viewMap,views:this.views,customModifierNames:this.customModifierNames,customTags:this.customTags}}reloadDetails(){return this}findQueryScopeByHandle(e){for(let i=0;i<this.collectionQueryScopes.length;i++)if(this.collectionQueryScopes[i].handle===e)return this.collectionQueryScopes[i];return null}getCustomAntlersTags(){return this.customTags}findAnyBlueprintField(e){return this.speculativeFields.has(e)?this.speculativeFields.get(e):null}buildImportRefernece(e){if(e.sets!=null)for(let i=0;i<e.sets.length;i++){let r=e.sets[i];for(let n=0;n<r.fields.length;n++){let s=r.fields[n];if(s.import!=null){let o=s.import;if(this.sourceStructure.fieldsets.has(o)){let a=this.sourceStructure.fieldsets.get(o),l=YI(a);for(let u=0;u<l.length;u++)this.buildImportRefernece(l[u]);r.fields.splice(n,1),r.fields=r.fields.concat(l)}}}}}buildDetails(){var s,o;let e=[],i=[],r=[],n=[];if(typeof this.sourceStructure.assets.forEach!="undefined"&&this.sourceStructure.assets.forEach((a,l)=>{n.push(l)}),typeof this.sourceStructure.forms.forEach!="undefined"&&this.sourceStructure.forms.forEach((a,l)=>{a.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l)}),e.push(l),this.blueprintRef.set(l,a)}),typeof this.sourceStructure.globals.forEach!="undefined"&&this.sourceStructure.globals.forEach((a,l)=>{a.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l)}),i.push(l),this.blueprintRef.set(l,a)}),typeof this.sourceStructure.miscFields.forEach!="undefined"&&this.sourceStructure.miscFields.forEach((a,l)=>{a.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l)}),this.blueprintRef.set(l,a)}),typeof this.sourceStructure.taxonomies.forEach!="undefined"&&this.sourceStructure.taxonomies.forEach((a,l)=>{a.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l)}),this.blueprintRef.set(l,a)}),typeof this.sourceStructure.fields.forEach!="undefined"&&this.sourceStructure.fields.forEach((a,l)=>{a.forEach(u=>{this.blueprintCollectionRef.set(u.blueprintName,l)}),this.blueprintRef.set(l,a)}),typeof this.sourceStructure.navigationMenus.forEach!="undefined"&&this.sourceStructure.navigationMenus.forEach((a,l)=>{r.push(l)}),typeof this.sourceStructure.views.forEach!="undefined"&&this.sourceStructure.views.forEach((a,l)=>{this.viewMap.set(a.documentUri,a)}),typeof this.sourceStructure.composerPackages.forEach!="undefined"&&this.sourceStructure.composerPackages.forEach(a=>{a.isStatamicAddon&&this.statamicAddonMapping.set(a.name,a),this.packageMapping.set(a.name,a)}),this.uniqueAssetNames=[...new Set(n)],this.uniqueNavigationNames=[...new Set(r)],this.uniqueGlobalSettingNames=[...new Set(i)],this.uniqueFormNames=[...new Set(e)],this.uniqueCollectionNames=[...new Set(this.collectionNames)],this.uniquePartialViewNames=[...new Set(this.partialViewNames)],this.uniqueTaxonomyNames=[...new Set(this.taxonomyNames)],(s=je.instance)==null||s.resetMacros(),this.hasMacroFile){let a=aR(this.macroFilePath);a.length>0&&((o=je.instance)==null||o.registerMacros(a))}this.uniqueUserRoles=[...new Set(this.sourceStructure.userRoleNames)],this.uniqueUserGroups=[...new Set(this.sourceStructure.userGroupNames)],this.sourceStructure.searchIndexes.length==0&&this.sourceStructure.searchIndexes.push("default");for(let a=0;a<this.sourceStructure.internalFieldReference.length;a++)this.buildImportRefernece(this.sourceStructure.internalFieldReference[a])}getWorkingDirectory(){return this.sourceStructure.workingDirectory}getOAuthProviders(){return[]}getSiteNames(){return[]}getSearchIndexes(){return this.sourceStructure.searchIndexes}getStatamicVersion(){return this.sourceStructure.statamicPackage!=null?this.sourceStructure.statamicPackage.version:""}hasComposerPackage(e){return this.packageMapping.has(e)}hasStatamicAddon(e){return this.statamicAddonMapping.has(e)}getAddonDetails(e){return this.hasStatamicAddon(e)?this.statamicAddonMapping.get(e):null}getComposerPackages(){return this.packageMapping}getComposerPackageDetails(e){return this.hasComposerPackage(e)?this.packageMapping.get(e):null}getPartials(){return this.sourceStructure.partialCache}getBlueprintNames(){let e=[];return this.blueprintRef.forEach((i,r)=>{r.startsWith("*")==!1&&e.includes(r)==!1&&e.push(r)}),e}getBlueprintDetails(e){if(this.blueprintRef.has(e)==!1){let i=[];return i.push(nT(e,"title","text")),i.push(nT(e,"content","markdown")),i.push(nT(e,"slug","slug")),i}return this.blueprintRef.get(e)}hasViewCollectionInjections(e){return this.viewMap.has(e)==!1?!1:this.viewMap.get(e).injectsCollections.length>0}getCollectionNames(){return this.collectionNames}getCollectionNamesForView(e){return this.viewMap.has(e)==!1?[]:this.viewMap.get(e).injectsCollections}getPublicAssetPaths(){return this.publicAssets}getTaxonomyTerms(e){return this.hasTaxonomy(e)?this.taxonomyTerms.get(e):[]}hasTaxonomy(e){return this.taxonomyNames.includes(e)}getCollectionQueryScopes(){return this.collectionQueryScopes}getBlueprintFields(e){let i=[];for(let r=0;r<e.length;r++){let n=e[r],s=this.getCollectionDetails(n);if(s!=null&&s.injectFields!=null)for(let o=0;o<s.injectFields.length;o++)i.push({blueprintName:"*inject",displayName:s.injectFields[o],import:null,instructionText:null,maxItems:null,name:s.injectFields[r],refFieldSetField:null,sets:null,type:"*"});if(this.fields.has(n)){let o=this.fields.get(n);typeof o!="undefined"&&o!==null&&(i=i.concat(o))}}return i}getBlueprintField(e,i){let r=e;if(this.blueprintCollectionRef.has(r)&&(r=this.blueprintCollectionRef.get(r)),this.fields.has(r)){let n=this.fields.get(r);for(let s=0;s<n.length;s++)if(n[s].name==i)return n[s]}return null}getFields(){return this.fields}getTaxonomyBlueprintFields(e){let i=[];for(let r=0;r<e.length;r++){let n=e[r];if(this.taxonomies.has(n)){let s=this.taxonomies.get(n);typeof s!="undefined"&&s!==null&&(i=i.concat(s))}}return i}getUserFields(){return this.miscFields.has("user")?this.miscFields.get("user"):[]}getAssetBlueprintFields(e){return this.sourceStructure.assetFields.has(e)?this.sourceStructure.assetFields.get(e):[]}getUniqueTaxonomyNames(){return this.uniqueTaxonomyNames}getUniqueCollectionNames(){return this.uniqueCollectionNames}getUniquePartialNames(){return this.uniquePartialViewNames}getUniqueUserGroupNames(){return this.uniqueUserGroups}getUniqueUserRoleNames(){return this.uniqueUserRoles}getUniqueFormNames(){return this.uniqueFormNames}getAssetPresets(){return[]}getUniqueGlobalsNames(){return this.uniqueGlobalSettingNames}getUniqueNavigationMenuNames(){return this.uniqueNavigationNames}getUniqueAssetNames(){return this.uniqueAssetNames}getCollectionDetails(e){return this.collections.has(e)?this.collections.get(e):null}getFormBlueprintFields(e){if(this.forms.has(e)){let i=this.forms.get(e);return typeof i=="undefined"||i===null?[]:i}return[]}getRouteNames(){return this.routeNames}getTranslationKeys(){return this.translationKeys}getTemplateNames(){let e=[];return this.views.forEach(i=>{let r=jt(i.relativeDisplayName,"/",".");e.includes(r)==!1&&e.push(r)}),e}getViews(){return this.views}findView(e){if(e.trim()=="")return null;let i=hE(e);for(let r=0;r<this.views.length;r++)if(this.views[r].path==i)return this.views[r];return null}findRelativeView(e){e=jt(e,"\\.","/");for(let i=0;i<this.views.length;i++)if(this.views[i].relativeDisplayName==e)return this.views[i];return null}findPartial(e){e=jt(e,"\\.","/");for(let i=0;i<this.views.length;i++)if(this.views[i].isPartial&&this.views[i].relativeDisplayName==e)return this.views[i];return null}};function s9(t,e){for(let i=0;i<e.allFields.length;i++)if(e.allFields[i].handle==t)return e.allFields[i];return null}function o9(t,e){let i=[];return e.allFields.forEach(r=>{try{let n=r.handle;t!=null&&(n=t+n),i.push({...r,handle:n,isLinked:!0,linkedFrom:e.handle+"."+r.handle})}catch{}}),i}function m(t,e,i){if(typeof t[e]!="undefined")try{return t[e]}catch{}return i}var sT=class{constructor(){this.fieldSets=new Map}setFieldSets(e){this.fieldSets=e}_parseArrayFieldType(e){let i=m(e.field,"mode","dynamic"),r=m(e.field,"keys",null),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let o=m(e.field,"required",!1),a=m(e.field,"type","text"),l=m(e.field,"unless",[]),u=m(e.field,"validate",[]),c=m(e.field,"display",""),f=m(e.field,"__documentation",""),d=m(e.field,"instructions","");return{mode:i,keys:r,required:o,type:a,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"array"}}_parseAssetContainerFieldType(e){let i=m(e.field,"max_items",null),r=m(e.field,"mode","default"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let o=m(e.field,"required",!1),a=m(e.field,"type","text"),l=m(e.field,"unless",[]),u=m(e.field,"validate",[]),c=m(e.field,"display",""),f=m(e.field,"__documentation",""),d=m(e.field,"instructions","");return{maxItems:i,mode:r,required:o,type:a,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"asset_container"}}_parseAssetFolderFieldType(e){let i=m(e.field,"max_items",null),r=m(e.field,"mode","default"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let o=m(e.field,"required",!1),a=m(e.field,"type","text"),l=m(e.field,"unless",[]),u=m(e.field,"validate",[]),c=m(e.field,"display",""),f=m(e.field,"__documentation",""),d=m(e.field,"instructions","");return{maxItems:i,mode:r,required:o,type:a,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"asset_folder"}}_parseAssetsFieldType(e){let i=m(e.field,"mode","list"),r=m(e.field,"container","assets"),n=m(e.field,"folder",null),s=m(e.field,"restrict",null),o=m(e.field,"allow_uploads",!0),a=m(e.field,"show_filename",!0),l=m(e.field,"max_files",null),u=[],c=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(u=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(c=this.parseFields(e.field));let f=m(e.field,"required",!1),d=m(e.field,"type","text"),p=m(e.field,"unless",[]),h=m(e.field,"validate",[]),T=m(e.field,"display",""),N=m(e.field,"__documentation",""),_=m(e.field,"instructions","");return{mode:i,container:r,folder:n,restrict:s,allowUploads:o,showFilename:a,maxFiles:l,required:f,type:d,validate:h,unless:p,display:T,handle:"temp_handle",sets:u,fields:c,isLinked:!1,linkedFrom:"",developerDocumentation:N,instructionText:_,internalIcon:"assets"}}_parseBardFieldType(e){let i=m(e.field,"collapse",null),r=m(e.field,"always_show_set_button",null),n=m(e.field,"previews",!0),s=m(e.field,"buttons",["h2","h3","bold","italic","unorderedlist","orderedlist","removeformat","quote","anchor","image","table"]),o=m(e.field,"container",null),a=m(e.field,"save_html",null),l=m(e.field,"toolbar_mode","fixed"),u=m(e.field,"link_noopener",null),c=m(e.field,"link_noreferrer",null),f=m(e.field,"target_blank",null),d=m(e.field,"link_collections",null),p=m(e.field,"reading_time",null),h=m(e.field,"fullscreen",!0),T=m(e.field,"allow_source",!0),N=m(e.field,"enable_input_rules",!0),_=m(e.field,"enable_paste_rules",!0),g=m(e.field,"antlers",null),y=m(e.field,"remove_empty_nodes","false"),x=[],L=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(x=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(L=this.parseFields(e.field));let E=m(e.field,"required",!1),U=m(e.field,"type","text"),w=m(e.field,"unless",[]),z=m(e.field,"validate",[]),de=m(e.field,"display",""),H=m(e.field,"__documentation",""),Z=m(e.field,"instructions","");return{collapse:i,alwaysShowSetButton:r,previews:n,buttons:s,container:o,saveHtml:a,toolbarMode:l,linkNoopener:u,linkNoreferrer:c,targetBlank:f,linkCollections:d,readingTime:p,fullscreen:h,allowSource:T,enableInputRules:N,enablePasteRules:_,antlers:g,removeEmptyNodes:y,required:E,type:U,validate:z,unless:w,display:de,handle:"temp_handle",sets:x,fields:L,isLinked:!1,linkedFrom:"",developerDocumentation:H,instructionText:Z,internalIcon:"bard"}}_parseReplicatorFieldType(e){let i=m(e.field,"collapse",null),r=m(e.field,"previews",!0),n=m(e.field,"max_sets",null),s=[],o=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(s=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(o=this.parseFields(e.field));let a=m(e.field,"required",!1),l=m(e.field,"type","text"),u=m(e.field,"unless",[]),c=m(e.field,"validate",[]),f=m(e.field,"display",""),d=m(e.field,"__documentation",""),p=m(e.field,"instructions","");return{collapse:i,previews:r,maxSets:n,required:a,type:l,validate:c,unless:u,display:f,handle:"temp_handle",sets:s,fields:o,isLinked:!1,linkedFrom:"",developerDocumentation:d,instructionText:p,internalIcon:"replicator"}}_parseBardButtonsSettingFieldType(e){let i=[],r=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(i=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(r=this.parseFields(e.field));let n=m(e.field,"required",!1),s=m(e.field,"type","text"),o=m(e.field,"unless",[]),a=m(e.field,"validate",[]),l=m(e.field,"display",""),u=m(e.field,"__documentation",""),c=m(e.field,"instructions","");return{required:n,type:s,validate:a,unless:o,display:l,handle:"temp_handle",sets:i,fields:r,isLinked:!1,linkedFrom:"",developerDocumentation:u,instructionText:c,internalIcon:"bard_buttons_setting"}}_parseButtonGroupFieldType(e){let i=m(e.field,"options",null),r=m(e.field,"default",null),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let o=m(e.field,"required",!1),a=m(e.field,"type","text"),l=m(e.field,"unless",[]),u=m(e.field,"validate",[]),c=m(e.field,"display",""),f=m(e.field,"__documentation",""),d=m(e.field,"instructions","");return{options:i,default:r,required:o,type:a,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"button_group"}}_parseCheckboxesFieldType(e){let i=m(e.field,"inline",null),r=m(e.field,"options",null),n=m(e.field,"default",null),s=[],o=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(s=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(o=this.parseFields(e.field));let a=m(e.field,"required",!1),l=m(e.field,"type","text"),u=m(e.field,"unless",[]),c=m(e.field,"validate",[]),f=m(e.field,"display",""),d=m(e.field,"__documentation",""),p=m(e.field,"instructions","");return{inline:i,options:r,default:n,required:a,type:l,validate:c,unless:u,display:f,handle:"temp_handle",sets:s,fields:o,isLinked:!1,linkedFrom:"",developerDocumentation:d,instructionText:p,internalIcon:"checkboxes"}}_parseCodeFieldType(e){let i=m(e.field,"theme","material"),r=m(e.field,"mode","htmlmixed"),n=m(e.field,"mode_selectable",null),s=m(e.field,"indent_type","tabs"),o=m(e.field,"indent_size",4),a=m(e.field,"key_map","default"),l=m(e.field,"line_numbers",!0),u=m(e.field,"line_wrapping",!0),c=[],f=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(c=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(f=this.parseFields(e.field));let d=m(e.field,"required",!1),p=m(e.field,"type","text"),h=m(e.field,"unless",[]),T=m(e.field,"validate",[]),N=m(e.field,"display",""),_=m(e.field,"__documentation",""),g=m(e.field,"instructions","");return{theme:i,mode:r,modeSelectable:n,indentType:s,indentSize:o,keyMap:a,lineNumbers:l,lineWrapping:u,required:d,type:p,validate:T,unless:h,display:N,handle:"temp_handle",sets:c,fields:f,isLinked:!1,linkedFrom:"",developerDocumentation:_,instructionText:g,internalIcon:"code"}}_parseCollectionRoutesFieldType(e){let i=[],r=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(i=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(r=this.parseFields(e.field));let n=m(e.field,"required",!1),s=m(e.field,"type","text"),o=m(e.field,"unless",[]),a=m(e.field,"validate",[]),l=m(e.field,"display",""),u=m(e.field,"__documentation",""),c=m(e.field,"instructions","");return{required:n,type:s,validate:a,unless:o,display:l,handle:"temp_handle",sets:i,fields:r,isLinked:!1,linkedFrom:"",developerDocumentation:u,instructionText:c,internalIcon:"collection_routes"}}_parseCollectionTitleFormatsFieldType(e){let i=[],r=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(i=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(r=this.parseFields(e.field));let n=m(e.field,"required",!1),s=m(e.field,"type","text"),o=m(e.field,"unless",[]),a=m(e.field,"validate",[]),l=m(e.field,"display",""),u=m(e.field,"__documentation",""),c=m(e.field,"instructions","");return{required:n,type:s,validate:a,unless:o,display:l,handle:"temp_handle",sets:i,fields:r,isLinked:!1,linkedFrom:"",developerDocumentation:u,instructionText:c,internalIcon:"collection_title_formats"}}_parseCollectionsFieldType(e){let i=m(e.field,"max_items",null),r=m(e.field,"mode","default"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let o=m(e.field,"required",!1),a=m(e.field,"type","text"),l=m(e.field,"unless",[]),u=m(e.field,"validate",[]),c=m(e.field,"display",""),f=m(e.field,"__documentation",""),d=m(e.field,"instructions","");return{maxItems:i,mode:r,required:o,type:a,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"collections"}}_parseColorFieldType(e){let i=m(e.field,"swatches",null),r=m(e.field,"theme","classic"),n=m(e.field,"lock_opacity",null),s=m(e.field,"default_color_mode","HEXA"),o=m(e.field,"color_modes",["HEXA","RGBA","HSLA","HSVA","CMYK"]),a=[],l=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(a=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(l=this.parseFields(e.field));let u=m(e.field,"required",!1),c=m(e.field,"type","text"),f=m(e.field,"unless",[]),d=m(e.field,"validate",[]),p=m(e.field,"display",""),h=m(e.field,"__documentation",""),T=m(e.field,"instructions","");return{swatches:i,theme:r,lockOpacity:n,defaultColorMode:s,colorModes:o,required:u,type:c,validate:d,unless:f,display:p,handle:"temp_handle",sets:a,fields:l,isLinked:!1,linkedFrom:"",developerDocumentation:h,instructionText:T,internalIcon:"color"}}_parseDateFieldType(e){let i=m(e.field,"mode","single"),r=m(e.field,"format",null),n=m(e.field,"earliest_date",null),s=m(e.field,"latest_date",null),o=m(e.field,"time_enabled",null),a=m(e.field,"time_seconds_enabled",null),l=m(e.field,"full_width",null),u=m(e.field,"inline",null),c=m(e.field,"columns",1),f=m(e.field,"rows",1),d=[],p=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(d=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(p=this.parseFields(e.field));let h=m(e.field,"required",!1),T=m(e.field,"type","text"),N=m(e.field,"unless",[]),_=m(e.field,"validate",[]),g=m(e.field,"display",""),y=m(e.field,"__documentation",""),x=m(e.field,"instructions","");return{mode:i,format:r,earliestDate:n,latestDate:s,timeEnabled:o,timeSecondsEnabled:a,fullWidth:l,inline:u,columns:c,rows:f,required:h,type:T,validate:_,unless:N,display:g,handle:"temp_handle",sets:d,fields:p,isLinked:!1,linkedFrom:"",developerDocumentation:y,instructionText:x,internalIcon:"date"}}_parseEntriesFieldType(e){let i=m(e.field,"max_items",null),r=m(e.field,"mode","default"),n=m(e.field,"create",!0),s=m(e.field,"collections",null),o=[],a=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(o=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(a=this.parseFields(e.field));let l=m(e.field,"required",!1),u=m(e.field,"type","text"),c=m(e.field,"unless",[]),f=m(e.field,"validate",[]),d=m(e.field,"display",""),p=m(e.field,"__documentation",""),h=m(e.field,"instructions","");return{maxItems:i,mode:r,create:n,collections:s,required:l,type:u,validate:f,unless:c,display:d,handle:"temp_handle",sets:o,fields:a,isLinked:!1,linkedFrom:"",developerDocumentation:p,instructionText:h,internalIcon:"entries"}}_parseFilesFieldType(e){let i=m(e.field,"max_files",null),r=[],n=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(r=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(n=this.parseFields(e.field));let s=m(e.field,"required",!1),o=m(e.field,"type","text"),a=m(e.field,"unless",[]),l=m(e.field,"validate",[]),u=m(e.field,"display",""),c=m(e.field,"__documentation",""),f=m(e.field,"instructions","");return{maxFiles:i,required:s,type:o,validate:l,unless:a,display:u,handle:"temp_handle",sets:r,fields:n,isLinked:!1,linkedFrom:"",developerDocumentation:c,instructionText:f,internalIcon:"files"}}_parseFloatFieldType(e){let i=m(e.field,"default",null),r=[],n=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(r=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(n=this.parseFields(e.field));let s=m(e.field,"required",!1),o=m(e.field,"type","text"),a=m(e.field,"unless",[]),l=m(e.field,"validate",[]),u=m(e.field,"display",""),c=m(e.field,"__documentation",""),f=m(e.field,"instructions","");return{default:i,required:s,type:o,validate:l,unless:a,display:u,handle:"temp_handle",sets:r,fields:n,isLinked:!1,linkedFrom:"",developerDocumentation:c,instructionText:f,internalIcon:"float"}}_parseGlobalSetSitesFieldType(e){let i=[],r=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(i=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(r=this.parseFields(e.field));let n=m(e.field,"required",!1),s=m(e.field,"type","text"),o=m(e.field,"unless",[]),a=m(e.field,"validate",[]),l=m(e.field,"display",""),u=m(e.field,"__documentation",""),c=m(e.field,"instructions","");return{required:n,type:s,validate:a,unless:o,display:l,handle:"temp_handle",sets:i,fields:r,isLinked:!1,linkedFrom:"",developerDocumentation:u,instructionText:c,internalIcon:"global_set_sites"}}_parseGridFieldType(e){let i=m(e.field,"mode","table"),r=m(e.field,"max_rows",null),n=m(e.field,"min_rows",null),s=m(e.field,"add_row",null),o=m(e.field,"reorderable",!0),a=[],l=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(a=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(l=this.parseFields(e.field));let u=m(e.field,"required",!1),c=m(e.field,"type","text"),f=m(e.field,"unless",[]),d=m(e.field,"validate",[]),p=m(e.field,"display",""),h=m(e.field,"__documentation",""),T=m(e.field,"instructions","");return{mode:i,maxRows:r,minRows:n,addRow:s,reorderable:o,required:u,type:c,validate:d,unless:f,display:p,handle:"temp_handle",sets:a,fields:l,isLinked:!1,linkedFrom:"",developerDocumentation:h,instructionText:T,internalIcon:"grid"}}_parseHiddenFieldType(e){let i=m(e.field,"default",null),r=[],n=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(r=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(n=this.parseFields(e.field));let s=m(e.field,"required",!1),o=m(e.field,"type","text"),a=m(e.field,"unless",[]),l=m(e.field,"validate",[]),u=m(e.field,"display",""),c=m(e.field,"__documentation",""),f=m(e.field,"instructions","");return{default:i,required:s,type:o,validate:l,unless:a,display:u,handle:"temp_handle",sets:r,fields:n,isLinked:!1,linkedFrom:"",developerDocumentation:c,instructionText:f,internalIcon:"hidden"}}_parseHtmlFieldType(e){let i=m(e.field,"html",null),r=[],n=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(r=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(n=this.parseFields(e.field));let s=m(e.field,"required",!1),o=m(e.field,"type","text"),a=m(e.field,"unless",[]),l=m(e.field,"validate",[]),u=m(e.field,"display",""),c=m(e.field,"__documentation",""),f=m(e.field,"instructions","");return{html:i,required:s,type:o,validate:l,unless:a,display:u,handle:"temp_handle",sets:r,fields:n,isLinked:!1,linkedFrom:"",developerDocumentation:c,instructionText:f,internalIcon:"html"}}_parseIntegerFieldType(e){let i=m(e.field,"default",null),r=[],n=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(r=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(n=this.parseFields(e.field));let s=m(e.field,"required",!1),o=m(e.field,"type","text"),a=m(e.field,"unless",[]),l=m(e.field,"validate",[]),u=m(e.field,"display",""),c=m(e.field,"__documentation",""),f=m(e.field,"instructions","");return{default:i,required:s,type:o,validate:l,unless:a,display:u,handle:"temp_handle",sets:r,fields:n,isLinked:!1,linkedFrom:"",developerDocumentation:c,instructionText:f,internalIcon:"integer"}}_parseLinkFieldType(e){let i=m(e.field,"collections",null),r=m(e.field,"container",null),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let o=m(e.field,"required",!1),a=m(e.field,"type","text"),l=m(e.field,"unless",[]),u=m(e.field,"validate",[]),c=m(e.field,"display",""),f=m(e.field,"__documentation",""),d=m(e.field,"instructions","");return{collections:i,container:r,required:o,type:a,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"link"}}_parseListFieldType(e){let i=m(e.field,"default",null),r=[],n=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(r=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(n=this.parseFields(e.field));let s=m(e.field,"required",!1),o=m(e.field,"type","text"),a=m(e.field,"unless",[]),l=m(e.field,"validate",[]),u=m(e.field,"display",""),c=m(e.field,"__documentation",""),f=m(e.field,"instructions","");return{default:i,required:s,type:o,validate:l,unless:a,display:u,handle:"temp_handle",sets:r,fields:n,isLinked:!1,linkedFrom:"",developerDocumentation:c,instructionText:f,internalIcon:"list"}}_parseMarkdownFieldType(e){let i=m(e.field,"container",null),r=m(e.field,"folder",null),n=m(e.field,"restrict",null),s=m(e.field,"automatic_line_breaks",!0),o=m(e.field,"automatic_links",null),a=m(e.field,"escape_markup",null),l=m(e.field,"smartypants",null),u=m(e.field,"parser",null),c=m(e.field,"antlers",null),f=m(e.field,"default",null),d=[],p=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(d=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(p=this.parseFields(e.field));let h=m(e.field,"required",!1),T=m(e.field,"type","text"),N=m(e.field,"unless",[]),_=m(e.field,"validate",[]),g=m(e.field,"display",""),y=m(e.field,"__documentation",""),x=m(e.field,"instructions","");return{container:i,folder:r,restrict:n,automaticLineBreaks:s,automaticLinks:o,escapeMarkup:a,smartypants:l,parser:u,antlers:c,default:f,required:h,type:T,validate:_,unless:N,display:g,handle:"temp_handle",sets:d,fields:p,isLinked:!1,linkedFrom:"",developerDocumentation:y,instructionText:x,internalIcon:"markdown"}}_parseFieldsFieldType(e){let i=[],r=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(i=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(r=this.parseFields(e.field));let n=m(e.field,"required",!1),s=m(e.field,"type","text"),o=m(e.field,"unless",[]),a=m(e.field,"validate",[]),l=m(e.field,"display",""),u=m(e.field,"__documentation",""),c=m(e.field,"instructions","");return{required:n,type:s,validate:a,unless:o,display:l,handle:"temp_handle",sets:i,fields:r,isLinked:!1,linkedFrom:"",developerDocumentation:u,instructionText:c,internalIcon:"fields"}}_parseRadioFieldType(e){let i=m(e.field,"options",null),r=m(e.field,"inline",null),n=m(e.field,"cast_booleans",null),s=m(e.field,"default",null),o=[],a=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(o=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(a=this.parseFields(e.field));let l=m(e.field,"required",!1),u=m(e.field,"type","text"),c=m(e.field,"unless",[]),f=m(e.field,"validate",[]),d=m(e.field,"display",""),p=m(e.field,"__documentation",""),h=m(e.field,"instructions","");return{options:i,inline:r,castBooleans:n,default:s,required:l,type:u,validate:f,unless:c,display:d,handle:"temp_handle",sets:o,fields:a,isLinked:!1,linkedFrom:"",developerDocumentation:p,instructionText:h,internalIcon:"radio"}}_parseRangeFieldType(e){let i=m(e.field,"hidden",null),r=m(e.field,"min",null),n=m(e.field,"max",100),s=m(e.field,"step",1),o=m(e.field,"default",null),a=m(e.field,"prepend",null),l=m(e.field,"append",null),u=[],c=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(u=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(c=this.parseFields(e.field));let f=m(e.field,"required",!1),d=m(e.field,"type","text"),p=m(e.field,"unless",[]),h=m(e.field,"validate",[]),T=m(e.field,"display",""),N=m(e.field,"__documentation",""),_=m(e.field,"instructions","");return{hidden:i,min:r,max:n,step:s,default:o,prepend:a,append:l,required:f,type:d,validate:h,unless:p,display:T,handle:"temp_handle",sets:u,fields:c,isLinked:!1,linkedFrom:"",developerDocumentation:N,instructionText:_,internalIcon:"range"}}_parseRevealerFieldType(e){let i=m(e.field,"mode","button"),r=m(e.field,"input_label",""),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let o=m(e.field,"required",!1),a=m(e.field,"type","text"),l=m(e.field,"unless",[]),u=m(e.field,"validate",[]),c=m(e.field,"display",""),f=m(e.field,"__documentation",""),d=m(e.field,"instructions","");return{mode:i,inputLabel:r,required:o,type:a,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"revealer"}}_parseSectionFieldType(e){let i=[],r=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(i=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(r=this.parseFields(e.field));let n=m(e.field,"required",!1),s=m(e.field,"type","text"),o=m(e.field,"unless",[]),a=m(e.field,"validate",[]),l=m(e.field,"display",""),u=m(e.field,"__documentation",""),c=m(e.field,"instructions","");return{required:n,type:s,validate:a,unless:o,display:l,handle:"temp_handle",sets:i,fields:r,isLinked:!1,linkedFrom:"",developerDocumentation:u,instructionText:c,internalIcon:"section"}}_parseSelectFieldType(e){let i=m(e.field,"placeholder",""),r=m(e.field,"options",null),n=m(e.field,"multiple",null),s=m(e.field,"max_items",null),o=m(e.field,"clearable",null),a=m(e.field,"searchable",!0),l=m(e.field,"taggable",null),u=m(e.field,"push_tags",null),c=m(e.field,"cast_booleans",null),f=m(e.field,"default",null),d=[],p=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(d=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(p=this.parseFields(e.field));let h=m(e.field,"required",!1),T=m(e.field,"type","text"),N=m(e.field,"unless",[]),_=m(e.field,"validate",[]),g=m(e.field,"display",""),y=m(e.field,"__documentation",""),x=m(e.field,"instructions","");return{placeholder:i,options:r,multiple:n,maxItems:s,clearable:o,searchable:a,taggable:l,pushTags:u,castBooleans:c,default:f,required:h,type:T,validate:_,unless:N,display:g,handle:"temp_handle",sets:d,fields:p,isLinked:!1,linkedFrom:"",developerDocumentation:y,instructionText:x,internalIcon:"select"}}_parseSetsFieldType(e){let i=[],r=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(i=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(r=this.parseFields(e.field));let n=m(e.field,"required",!1),s=m(e.field,"type","text"),o=m(e.field,"unless",[]),a=m(e.field,"validate",[]),l=m(e.field,"display",""),u=m(e.field,"__documentation",""),c=m(e.field,"instructions","");return{required:n,type:s,validate:a,unless:o,display:l,handle:"temp_handle",sets:i,fields:r,isLinked:!1,linkedFrom:"",developerDocumentation:u,instructionText:c,internalIcon:"sets"}}_parseSitesFieldType(e){let i=m(e.field,"max_items",null),r=m(e.field,"mode","default"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let o=m(e.field,"required",!1),a=m(e.field,"type","text"),l=m(e.field,"unless",[]),u=m(e.field,"validate",[]),c=m(e.field,"display",""),f=m(e.field,"__documentation",""),d=m(e.field,"instructions","");return{maxItems:i,mode:r,required:o,type:a,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"sites"}}_parseStructuresFieldType(e){let i=m(e.field,"max_items",null),r=m(e.field,"mode","default"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let o=m(e.field,"required",!1),a=m(e.field,"type","text"),l=m(e.field,"unless",[]),u=m(e.field,"validate",[]),c=m(e.field,"display",""),f=m(e.field,"__documentation",""),d=m(e.field,"instructions","");return{maxItems:i,mode:r,required:o,type:a,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"structures"}}_parseSlugFieldType(e){let i=m(e.field,"from","title"),r=m(e.field,"generate",!0),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let o=m(e.field,"required",!1),a=m(e.field,"type","text"),l=m(e.field,"unless",[]),u=m(e.field,"validate",[]),c=m(e.field,"display",""),f=m(e.field,"__documentation",""),d=m(e.field,"instructions","");return{from:i,generate:r,required:o,type:a,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"slug"}}_parseTextFieldType(e){let i=m(e.field,"placeholder",null),r=m(e.field,"input_type","text"),n=m(e.field,"character_limit",null),s=m(e.field,"prepend",null),o=m(e.field,"append",null),a=m(e.field,"antlers",null),l=m(e.field,"default",null),u=[],c=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(u=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(c=this.parseFields(e.field));let f=m(e.field,"required",!1),d=m(e.field,"type","text"),p=m(e.field,"unless",[]),h=m(e.field,"validate",[]),T=m(e.field,"display",""),N=m(e.field,"__documentation",""),_=m(e.field,"instructions","");return{placeholder:i,inputType:r,characterLimit:n,prepend:s,append:o,antlers:a,default:l,required:f,type:d,validate:h,unless:p,display:T,handle:"temp_handle",sets:u,fields:c,isLinked:!1,linkedFrom:"",developerDocumentation:N,instructionText:_,internalIcon:"text"}}_parseTableFieldType(e){let i=[],r=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(i=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(r=this.parseFields(e.field));let n=m(e.field,"required",!1),s=m(e.field,"type","text"),o=m(e.field,"unless",[]),a=m(e.field,"validate",[]),l=m(e.field,"display",""),u=m(e.field,"__documentation",""),c=m(e.field,"instructions","");return{required:n,type:s,validate:a,unless:o,display:l,handle:"temp_handle",sets:i,fields:r,isLinked:!1,linkedFrom:"",developerDocumentation:u,instructionText:c,internalIcon:"table"}}_parseTaggableFieldType(e){let i=m(e.field,"placeholder",""),r=[],n=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(r=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(n=this.parseFields(e.field));let s=m(e.field,"required",!1),o=m(e.field,"type","text"),a=m(e.field,"unless",[]),l=m(e.field,"validate",[]),u=m(e.field,"display",""),c=m(e.field,"__documentation",""),f=m(e.field,"instructions","");return{placeholder:i,required:s,type:o,validate:l,unless:a,display:u,handle:"temp_handle",sets:r,fields:n,isLinked:!1,linkedFrom:"",developerDocumentation:c,instructionText:f,internalIcon:"tags"}}_parseTermsFieldType(e){let i=m(e.field,"max_items",null),r=m(e.field,"mode","default"),n=m(e.field,"create",!0),s=m(e.field,"taxonomies",null),o=[],a=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(o=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(a=this.parseFields(e.field));let l=m(e.field,"required",!1),u=m(e.field,"type","text"),c=m(e.field,"unless",[]),f=m(e.field,"validate",[]),d=m(e.field,"display",""),p=m(e.field,"__documentation",""),h=m(e.field,"instructions","");return{maxItems:i,mode:r,create:n,taxonomies:s,required:l,type:u,validate:f,unless:c,display:d,handle:"temp_handle",sets:o,fields:a,isLinked:!1,linkedFrom:"",developerDocumentation:p,instructionText:h,internalIcon:"taxonomy"}}_parseTaxonomiesFieldType(e){let i=m(e.field,"max_items",null),r=m(e.field,"mode","default"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let o=m(e.field,"required",!1),a=m(e.field,"type","text"),l=m(e.field,"unless",[]),u=m(e.field,"validate",[]),c=m(e.field,"display",""),f=m(e.field,"__documentation",""),d=m(e.field,"instructions","");return{maxItems:i,mode:r,required:o,type:a,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"taxonomy"}}_parseTemplateFieldType(e){let i=m(e.field,"hide_partials",!0),r=m(e.field,"blueprint",null),n=m(e.field,"folder",null),s=[],o=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(s=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(o=this.parseFields(e.field));let a=m(e.field,"required",!1),l=m(e.field,"type","text"),u=m(e.field,"unless",[]),c=m(e.field,"validate",[]),f=m(e.field,"display",""),d=m(e.field,"__documentation",""),p=m(e.field,"instructions","");return{hidePartials:i,blueprint:r,folder:n,required:a,type:l,validate:c,unless:u,display:f,handle:"temp_handle",sets:s,fields:o,isLinked:!1,linkedFrom:"",developerDocumentation:d,instructionText:p,internalIcon:"template"}}_parseTemplateFolderFieldType(e){let i=m(e.field,"max_items",null),r=m(e.field,"mode","default"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let o=m(e.field,"required",!1),a=m(e.field,"type","text"),l=m(e.field,"unless",[]),u=m(e.field,"validate",[]),c=m(e.field,"display",""),f=m(e.field,"__documentation",""),d=m(e.field,"instructions","");return{maxItems:i,mode:r,required:o,type:a,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"template_folder"}}_parseTextareaFieldType(e){let i=m(e.field,"placeholder",null),r=m(e.field,"character_limit",null),n=m(e.field,"antlers",null),s=m(e.field,"default",null),o=[],a=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(o=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(a=this.parseFields(e.field));let l=m(e.field,"required",!1),u=m(e.field,"type","text"),c=m(e.field,"unless",[]),f=m(e.field,"validate",[]),d=m(e.field,"display",""),p=m(e.field,"__documentation",""),h=m(e.field,"instructions","");return{placeholder:i,characterLimit:r,antlers:n,default:s,required:l,type:u,validate:f,unless:c,display:d,handle:"temp_handle",sets:o,fields:a,isLinked:!1,linkedFrom:"",developerDocumentation:p,instructionText:h,internalIcon:"textarea"}}_parseTimeFieldType(e){let i=m(e.field,"seconds_enabled",null),r=m(e.field,"default",null),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let o=m(e.field,"required",!1),a=m(e.field,"type","text"),l=m(e.field,"unless",[]),u=m(e.field,"validate",[]),c=m(e.field,"display",""),f=m(e.field,"__documentation",""),d=m(e.field,"instructions","");return{secondsEnabled:i,default:r,required:o,type:a,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"time"}}_parseToggleFieldType(e){let i=m(e.field,"inline_label",""),r=m(e.field,"default",null),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let o=m(e.field,"required",!1),a=m(e.field,"type","text"),l=m(e.field,"unless",[]),u=m(e.field,"validate",[]),c=m(e.field,"display",""),f=m(e.field,"__documentation",""),d=m(e.field,"instructions","");return{inlineLabel:i,default:r,required:o,type:a,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"toggle"}}_parseUserGroupsFieldType(e){let i=m(e.field,"max_items",null),r=m(e.field,"mode","default"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let o=m(e.field,"required",!1),a=m(e.field,"type","text"),l=m(e.field,"unless",[]),u=m(e.field,"validate",[]),c=m(e.field,"display",""),f=m(e.field,"__documentation",""),d=m(e.field,"instructions","");return{maxItems:i,mode:r,required:o,type:a,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"user_groups"}}_parseUserRolesFieldType(e){let i=m(e.field,"max_items",null),r=m(e.field,"mode","default"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let o=m(e.field,"required",!1),a=m(e.field,"type","text"),l=m(e.field,"unless",[]),u=m(e.field,"validate",[]),c=m(e.field,"display",""),f=m(e.field,"__documentation",""),d=m(e.field,"instructions","");return{maxItems:i,mode:r,required:o,type:a,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"user_roles"}}_parseUsersFieldType(e){let i=m(e.field,"max_items",null),r=m(e.field,"mode","select"),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let o=m(e.field,"required",!1),a=m(e.field,"type","text"),l=m(e.field,"unless",[]),u=m(e.field,"validate",[]),c=m(e.field,"display",""),f=m(e.field,"__documentation",""),d=m(e.field,"instructions","");return{maxItems:i,mode:r,required:o,type:a,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"users"}}_parseVideoFieldType(e){let i=m(e.field,"default",null),r=m(e.field,"placeholder",null),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let o=m(e.field,"required",!1),a=m(e.field,"type","text"),l=m(e.field,"unless",[]),u=m(e.field,"validate",[]),c=m(e.field,"display",""),f=m(e.field,"__documentation",""),d=m(e.field,"instructions","");return{default:i,placeholder:r,required:o,type:a,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"video"}}_parseYamlFieldType(e){let i=m(e.field,"default",null),r=[],n=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(r=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(n=this.parseFields(e.field));let s=m(e.field,"required",!1),o=m(e.field,"type","text"),a=m(e.field,"unless",[]),l=m(e.field,"validate",[]),u=m(e.field,"display",""),c=m(e.field,"__documentation",""),f=m(e.field,"instructions","");return{default:i,required:s,type:o,validate:l,unless:a,display:u,handle:"temp_handle",sets:r,fields:n,isLinked:!1,linkedFrom:"",developerDocumentation:c,instructionText:f,internalIcon:"yaml"}}_parseFormFieldType(e){let i=m(e.field,"placeholder",null),r=m(e.field,"max_items",1),n=[],s=[];typeof e.field!="undefined"&&typeof e.field.sets!="undefined"&&(n=this.parseSets(e.field.sets)),typeof e.field!="undefined"&&typeof e.field.fields!="undefined"&&(s=this.parseFields(e.field));let o=m(e.field,"required",!1),a=m(e.field,"type","text"),l=m(e.field,"unless",[]),u=m(e.field,"validate",[]),c=m(e.field,"display",""),f=m(e.field,"__documentation",""),d=m(e.field,"instructions","");return{placeholder:i,maxItems:r,required:o,type:a,validate:u,unless:l,display:c,handle:"temp_handle",sets:n,fields:s,isLinked:!1,linkedFrom:"",developerDocumentation:f,instructionText:d,internalIcon:"form"}}parse(e){let i=[];if(typeof e.field!="undefined"&&typeof e.field.type!="undefined"){let r=e.field.type;r=="array"&&i.push(this._parseArrayFieldType(e)),r=="asset_container"&&i.push(this._parseAssetContainerFieldType(e)),r=="asset_folder"&&i.push(this._parseAssetFolderFieldType(e)),r=="assets"&&i.push(this._parseAssetsFieldType(e)),r=="bard"&&i.push(this._parseBardFieldType(e)),r=="replicator"&&i.push(this._parseReplicatorFieldType(e)),r=="bard_buttons_setting"&&i.push(this._parseBardButtonsSettingFieldType(e)),r=="button_group"&&i.push(this._parseButtonGroupFieldType(e)),r=="checkboxes"&&i.push(this._parseCheckboxesFieldType(e)),r=="code"&&i.push(this._parseCodeFieldType(e)),r=="collection_routes"&&i.push(this._parseCollectionRoutesFieldType(e)),r=="collection_title_formats"&&i.push(this._parseCollectionTitleFormatsFieldType(e)),r=="collections"&&i.push(this._parseCollectionsFieldType(e)),r=="color"&&i.push(this._parseColorFieldType(e)),r=="date"&&i.push(this._parseDateFieldType(e)),r=="entries"&&i.push(this._parseEntriesFieldType(e)),r=="files"&&i.push(this._parseFilesFieldType(e)),r=="float"&&i.push(this._parseFloatFieldType(e)),r=="global_set_sites"&&i.push(this._parseGlobalSetSitesFieldType(e)),r=="grid"&&i.push(this._parseGridFieldType(e)),r=="hidden"&&i.push(this._parseHiddenFieldType(e)),r=="html"&&i.push(this._parseHtmlFieldType(e)),r=="integer"&&i.push(this._parseIntegerFieldType(e)),r=="link"&&i.push(this._parseLinkFieldType(e)),r=="list"&&i.push(this._parseListFieldType(e)),r=="markdown"&&i.push(this._parseMarkdownFieldType(e)),r=="fields"&&i.push(this._parseFieldsFieldType(e)),r=="radio"&&i.push(this._parseRadioFieldType(e)),r=="range"&&i.push(this._parseRangeFieldType(e)),r=="revealer"&&i.push(this._parseRevealerFieldType(e)),r=="section"&&i.push(this._parseSectionFieldType(e)),r=="select"&&i.push(this._parseSelectFieldType(e)),r=="sets"&&i.push(this._parseSetsFieldType(e)),r=="sites"&&i.push(this._parseSitesFieldType(e)),r=="structures"&&i.push(this._parseStructuresFieldType(e)),r=="slug"&&i.push(this._parseSlugFieldType(e)),r=="text"&&i.push(this._parseTextFieldType(e)),r=="table"&&i.push(this._parseTableFieldType(e)),r=="taggable"&&i.push(this._parseTaggableFieldType(e)),r=="terms"&&i.push(this._parseTermsFieldType(e)),r=="taxonomies"&&i.push(this._parseTaxonomiesFieldType(e)),r=="template"&&i.push(this._parseTemplateFieldType(e)),r=="template_folder"&&i.push(this._parseTemplateFolderFieldType(e)),r=="textarea"&&i.push(this._parseTextareaFieldType(e)),r=="time"&&i.push(this._parseTimeFieldType(e)),r=="toggle"&&i.push(this._parseToggleFieldType(e)),r=="user_groups"&&i.push(this._parseUserGroupsFieldType(e)),r=="user_roles"&&i.push(this._parseUserRolesFieldType(e)),r=="users"&&i.push(this._parseUsersFieldType(e)),r=="video"&&i.push(this._parseVideoFieldType(e)),r=="yaml"&&i.push(this._parseYamlFieldType(e)),r=="form"&&i.push(this._parseFormFieldType(e))}return i.length==1?i[0]:null}parseFields(e){let i=[];return typeof e.fields=="undefined"||e.fields==null||typeof e.fields=="object"&&!Array.isArray(e.fields)||e.fields.forEach(n=>{try{if(typeof n.field=="string"){let o=this.getFieldsetName(n.field);if(o==null||!this.fieldSets.has(o))return;let a=this.fieldSets.get(o),l=s9(this.getFieldName(n.field),a);if(l==null)return;let u=n.handle,c={...l,handle:u,isLinked:!0,linkedFrom:n.field};i.push(c);return}if(typeof n.import=="string"){if(this.fieldSets.has(n.import)==!1)return;let o=this.fieldSets.get(n.import),a=null;if(typeof n.prefix=="string"){let u=n.prefix;u.trim().length>0&&(a=u.trim())}let l=o9(a,o);if(l.length>0)try{l.forEach(u=>{i.push(u)})}catch{}return}let s=this.parse(n);s!=null&&(s.handle=n.handle,i.push(s))}catch{}}),i}getFieldsetName(e){return e.includes(".")==!1?null:e.split(".")[0]}getFieldName(e){return e.includes(".")==!1?e:e.split(".")[1]}parseSets(e){let i=[];return Object.keys(e).forEach(n=>{var s;try{let o=e[n],a=this.parseFields(o);i.push({display:(s=o.display)!=null?s:"",handle:n,fields:a})}catch{}}),i}},Pc=class{constructor(){this.fieldParser=new sT;this.parsedBlueprints=[]}setParsedFieldSet(e){this.fieldParser.setFieldSets(e)}parseTabs(e){let i=[];return Object.keys(e).forEach(n=>{var s;try{let o=e[n],a=(s=o.display)!=null?s:"",l=this.fieldParser.parseFields(o);i.push({display:a,handle:n,fields:l})}catch{}}),i}parseBlueprint(e,i,r,n,s,o){var d;let a=(d=e.title)!=null?d:"",l=[],u=[],c=[];typeof e.tabs!="undefined"?l=this.parseTabs(e.tabs):typeof e.sections!="undefined"&&(l=this.parseTabs(e.sections)),typeof e.fields!="undefined"&&(u=this.fieldParser.parseFields(e)),c=u.concat([]),l.forEach(p=>{try{c=c.concat(p.fields)}catch{}});let f={allFields:c,fields:u,handle:i,collection:n,tabs:l,title:a,type:r,fileName:s,contents:o};return this.parsedBlueprints.push(f),f}getBlueprints(){return this.parsedBlueprints}},Bh=class{constructor(){this.blueprintParser=new Pc;this.parsedFieldsets=new Map;this.fieldsetArray=[]}parseFieldset(e,i){let r=this.blueprintParser.parseBlueprint(e,i,"","");if(r==null)return null;let n=[];r.allFields.forEach(o=>{try{n.push({field:o,prefixedHandle:i+"."+o.handle})}catch{}});let s={...r,prefixedFields:n};return this.parsedFieldsets.has(i)==!1&&(this.parsedFieldsets.set(i,s),this.fieldsetArray.push(s)),s}getFieldsets(){return this.parsedFieldsets}getParsedFieldsets(){return this.fieldsetArray}};var _e=class{static getInternalIcon(e){return e=="array"?"array":e=="asset_container"?"asset_container":e=="asset_folder"?"asset_folder":e=="assets"?"assets":e=="bard"?"bard":e=="replicator"?"replicator":e=="bard_buttons_setting"?"bard_buttons_setting":e=="button_group"?"button_group":e=="checkboxes"?"checkboxes":e=="code"?"code":e=="collection_routes"?"collection_routes":e=="collection_title_formats"?"collection_title_formats":e=="collections"?"collections":e=="color"?"color":e=="date"?"date":e=="entries"?"entries":e=="files"?"files":e=="float"?"float":e=="global_set_sites"?"global_set_sites":e=="grid"?"grid":e=="hidden"?"hidden":e=="html"?"html":e=="integer"?"integer":e=="link"?"link":e=="list"?"list":e=="markdown"?"markdown":e=="fields"?"fields":e=="radio"?"radio":e=="range"?"range":e=="revealer"?"revealer":e=="section"?"section":e=="select"?"select":e=="sets"?"sets":e=="sites"?"sites":e=="structures"?"structures":e=="slug"?"slug":e=="text"?"text":e=="table"?"table":e=="taggable"?"tags":e=="terms"||e=="taxonomies"?"taxonomy":e=="template"?"template":e=="template_folder"?"template_folder":e=="textarea"?"textarea":e=="time"?"time":e=="toggle"?"toggle":e=="user_groups"?"user_groups":e=="user_roles"?"user_roles":e=="users"?"users":e=="video"?"video":e=="yaml"?"yaml":e=="form"?"form":""}static baseField(e,i,r){return{validate:[],unless:[],type:i,sets:[],required:!0,linkedFrom:"",isLinked:!1,internalIcon:_e.getInternalIcon(i),handle:e,fields:[],display:"",developerDocumentation:"",instructionText:r}}static textField(e,i){return{...this.baseField(e,"text",i)}}static slugField(e,i){return{...this.baseField(e,"slug",i),from:"",generate:!0}}static injectedTextField(e,i){return{name:e,type:"string",field:this.textField(e,i),description:i}}static boolField(e,i){return{...this.baseField(e,"toggle",i),inlineLabel:"",default:!1}}static injectedBoolField(e,i){return{name:e,type:"boolean",field:this.boolField(e,i),description:i}}static integerField(e,i){return{...this.baseField(e,"integer",i),default:""}}static injectedIntegerField(e,i){return{name:e,type:"integer",field:this.integerField(e,i),description:i}}static floatField(e,i){return{...this.baseField(e,"float",i),default:""}}static injectedFloatField(e,i){return{name:e,type:"float",field:this.floatField(e,i),description:i}}static arrayField(e,i){return{...this.baseField(e,"array",i),mode:"dynamic",keys:[]}}static injectedArrayField(e,i){return{name:e,type:"array",field:this.arrayField(e,i),description:i}}static dateField(e,i){return{...this.baseField(e,"date",i),mode:"",format:null,earliestDate:null,latestDate:null,timeEnabled:null,timeSecondsEnabled:null,fullWidth:null,inline:null,columns:0,rows:0}}static injectedDateField(e,i){return{name:e,type:"date",field:this.dateField(e,i),description:i}}};var Ac=class{static ensureCollectionFields(e){this.ensureFieldPrepended(_e.textField("title","The entry's title"),e),this.ensureField(_e.slugField("slug","The entry's slug"),e),this.ensureField(_e.dateField("date","The date the entry was created"),e)}static ensureNavigationFields(e){this.ensureField(_e.textField("title","The navigation's title"),e),this.ensureField(_e.textField("url","The navigation's URL"),e)}static ensureFieldPrepended(e,i){this.hasField(e.handle,i)||(i.allFields.unshift(e),i.tabs.length>0&&i.tabs[0].fields.unshift(e))}static ensureField(e,i){this.hasField(e.handle,i)||(i.allFields.push(e),i.tabs.length>0&&i.tabs[0].fields.push(e))}static hasField(e,i){for(let r=0;r<i.allFields.length;r++)if(i.allFields[r].handle==e)return!0;return!1}};function lR(t){return typeof t.leadingComments=="undefined"||t.leadingComments.length===0||t.leadingComments[0].kind!=="commentblock"?"":a9(t.leadingComments[0].value)}function a9(t){let e=t.split(`
`),i="";for(let r=1;r<e.length;r++){let n=e[r].trim();if(n.startsWith("*")){let s=n.slice(1).trim();if(s===""||s.startsWith("@class"))break;i+=s+" "}else break}return i.trim()}var O9=h1(),iu=class{static parsePhp(e){let i,r,n="",o=new O9({parser:{extractDoc:!0,php7:!0},ast:{withPositions:!0}}).parseCode(e),a=[];return o.children.forEach(l=>{l.kind==="namespace"&&l.children.forEach(u=>{u.kind==="class"&&(i=u.name.name,n=lR(u),u.body.forEach(c=>{var f,d;c.kind==="propertystatement"&&c.isStatic?c.properties.length>0&&((f=c.properties[0].name)==null?void 0:f.name)==="handle"&&(r=(d=c.properties[0].value)==null?void 0:d.value):c.kind==="method"&&c.visibility==="public"&&!c.isStatic&&a.push(c.name.name)}))})}),typeof r=="undefined"&&typeof i!="undefined"&&(r=K.snakeCase(i)),{className:i,handle:r,description:n,methodNames:a}}};var hT=ee(oi());var M9={packageName:"aerni/social-links",providesTags:["social","social:profile","social:facebook:profile","social:github:profile","social:instagram:profile","social:linkedin:profile","social:mail:profile","social:pinterest:profile","social:telegram:profile","social:twitter:profile","social:github:profile","social:whatsapp:profile","social:xing:profile","social:youtube:profile"],providesModifiers:[]},m1=M9;var q9={packageName:"aerni/advanced-seo",providesTags:["seo","seo:description","seo:site_name","seo:canonical_entry:title","seo:head","seo:body","seo:dump"],providesModifiers:[]},g1=q9;var B9={packageName:"aerni/livewire-forms",providesTags:["livewire","livewire:styles","livewire:scripts","livewire:form"],providesModifiers:[]},_1=B9;var V9={packageName:"anakadote/statamic-recaptcha",providesTags:["recaptcha","recaptcha:terms","recaptcha:checkbox"],providesModifiers:[]},y1=V9;var U9={packageName:"aryehraber/statamic-captcha",providesTags:["captcha","captcha:head","captcha:disclaimer","captcha:sitekey"],providesModifiers:[]},T1=U9;var j9={packageName:"cnj/seotamic",providesTags:["seotamic","seotamic:meta:title","seotamic:meta:description","seotamic:meta:canonical","seotamic:meta:robots","seotamic:og","seotamic:twitter","seotamic:social:title","seotamic:social:description","seotamic:social:image","seotamic:social:site_name"],providesModifiers:[]},b1=j9;var G9={packageName:"ddm-studio/cookie-byte",providesTags:["cookie_modal","cookie_cover","cookie_consent"],providesModifiers:[]},I1=G9;var H9={packageName:"doublethreedigital/simple-commerce",providesTags:["sc","sc:cart","sc:cart:items","sc:cart:has","sc:cart:total","sc:cart:grand_total","sc:cart:items_total","sc:cart:shipping_total","sc:cart:tax_total","sc:cart:tax_total_split","sc:cart:coupon_total","sc:cart:itemsTotalWithTax","sc:cart:raw_grand_total","sc:cart:free","sc:cart:addItem","sc:cart:updateItem","sc:cart:removeItem","sc:cart:update","sc:cart:empty","sc:cart:alreadyExists"],providesModifiers:[]},v1=H9;var W9={packageName:"jonassiewertsen/statamic-livewire",providesTags:["livewire","livewire:styles","livewire:scripts"],providesModifiers:[]},N1=W9;var Y9={packageName:"kolaente/statamic-snippet",providesTags:[],providesModifiers:["snippet"]},S1=Y9;var K9={packageName:"octoper/statamic-inline-assets",providesTags:["inline_assets","inline_assets:css","inline_assets:js"],providesModifiers:[]},P1=K9;var $9={packageName:"parfaitementweb/statamic-fast-seo",providesTags:["fast-seo","fast-seo:title","fast-seo:description","fast-seo:name","fast-seo:og_image","fast-seo:twitter_handle","fast-seo:twitter_image","fast-seo:robots","fast-seo:locale","fast-seo:locales","fast-seo:canonical","fast-seo:extra"],providesModifiers:[]},A1=$9;var z9={packageName:"statamic/seo-pro",providesTags:["seo_pro","seo_pro:meta","seo_pro:meta_data","seo_pro:dump_meta_data"],providesModifiers:[]},E1=z9;var Q9={packageName:"stillat/antlers-layouts",providesTags:["layout","layout:share"],providesModifiers:[]},C1=Q9;var X9={packageName:"visuellverstehen/statamic-classify",providesTags:["classify"],providesModifiers:["classify"]},R1=X9;var J9={packageName:"withcandour/aardvark-seo",providesTags:["aardvark-seo","aardvark-seo:head","aardvark-seo:body","aardvark-seo:footer"],providesModifiers:[]},x1=J9;var w1=[E1,C1,T1,N1,R1,x1,I1,S1,P1,b1,m1,v1,A1,y1,g1,_1];var No=class{constructor(){this.knownPackages=new Map}loadPackages(){this.knownPackages.entries.length>0||w1.forEach(e=>{this.knownPackages.set(e.packageName,e)})}hasPackage(e){return this.knownPackages.has(e)}getPackage(e){return this.knownPackages.get(e)}};No.instance=null;(typeof No.instance=="undefined"||No.instance==null)&&(No.instance=new No);var Gh=No;function Z9(t){let e=Ts(t).split("/"),i=[],r=null;for(let n=0;n<e.length;n++){if(n==0){r=e[n],i.push(e[n]);continue}if(e[n]=="views"&&r=="resources")break;i.push(e[n]),r=e[n]}return i.join("/")}function e$(t){return t.endsWith("/")==!1&&(t=t+"/"),t+"../"}function t$(t){return t+"composer.lock"}function gT(t){return t+"app/"}function i$(t){return gT(t)+"Scopes/"}function r$(t){return gT(t)+"Modifiers/"}function n$(t){return gT(t)+"Tags/"}function s$(t){return t+"vendor/"}function o$(t){return t+"/blueprints/collections/"}function a$(t){return t+"/blueprints/taxonomies/"}function l$(t){return t+"/blueprints/assets/"}function u$(t){return t+"/blueprints/globals/"}function c$(t){return t+"/blueprints/forms/"}function f$(t){return t+"/blueprints/"}function d$(t){return t+"/macros.yaml"}function p$(t){return t+"/views/"}function h$(t){return t+"/users/"}function m$(t){return t+"/forms/"}function g$(t){return t+"/fieldsets"}function wc(t){return t+"/../content/"}function _$(t){return wc(t)+"assets/"}function y$(t){return wc(t)+"collections/"}function T$(t){return wc(t)+"taxonomies/"}function b$(t){return wc(t)+"navigation/"}function Po(t,e,i){if(!bt.existsSync(t))return[];let r=i||[],n=bt.readdirSync(t);for(let s=0;s<n.length;s++){let o=fi.join(t,n[s]);bt.lstatSync(o).isDirectory()?r=r.concat(Po(o,e,i)):o.indexOf(e)>=0&&r.push(o)}return[...new Set(r)]}function Ns(t,e){if(!bt.existsSync(t))return[];let i=[],r=bt.readdirSync(t);for(let n=0;n<r.length;n++){let s=fi.join(t,r[n]);bt.lstatSync(s).isDirectory()==!1&&i.push(s)}return[...new Set(i)]}function I$(t){let e=Po(t,".html",[]),i=t.length,r=[];for(let n=0;n<e.length;n++){let s=e[n],o=s.substr(i),a=Ts(fi.dirname(o)),l=fi.basename(o),u=l,c=!1,f=!1,d=!1,p="";l.startsWith("_")&&(c=!0,u=u.substr(1)),l.endsWith(".antlers.html")?(f=!0,u=u.substr(0,u.length-13)):l.endsWith(".blade.php")?(f=!1,d=!0):(f=!1,d=!1),a!="."?p=a+"/"+u:p=u,r.push({displayName:u,fileName:l,documentUri:Mh(s),originalDocumentUri:Mh(s),isAntlers:f,isBlade:d,isPartial:c,path:Ts(s),relativeDisplayName:p,relativeFileName:l,relativePath:o,injectsCollections:[],injectsParameters:[],templateName:jt(p,"/","."),varReferenceNames:new Map,document:null})}return r}function _T(t){var DT;let e=Z9(t),i=o$(e),r=p$(e),n=m$(e),s=c$(e),o=g$(e),a=a$(e),l=u$(e),u=f$(e),c=wc(e),f=b$(e),d=T$(e),p=h$(e),h=y$(e),T=_$(e),N=l$(e),_=Po(i,".yaml",[]),g=I$(r),y=d$(e),x=e$(e),L=t$(x),E=s$(x),U=i$(x),w=r$(x),z=n$(x),de=!1,H=null,Z=Oh.getInstalledPackages(L,x,E);for(let V=0;V<Z.length;V++)if(Z[V].name=="statamic/cms"){H=Z[V];break}(DT=Gh.instance)==null||DT.loadPackages();let ue=[],te=new Map,Q=new Map,qe=new Map,ht=new Map,pi=new Map,ft=new Map,It=[],Jn=new Map,Lr=[],ce=[],he=[],Ne=[],pe=[],we=new Map,Lt=new Map,kn=new Map,Aa=[],Ea=new Map,Zn=[],Ca=new Map,Ps=new Map,Ra=new Map,an=new Map,ln=[],es=[];y.trim().length>0&&(de=bt.existsSync(y));for(let V=0;V<g.length;V++)g[V].isPartial&&(he.push(g[V]),Ne.push(g[V].relativeDisplayName));if(Z.forEach(V=>{var se,ye;if((se=Gh.instance)!=null&&se.hasPackage(V.name)){let Me=(ye=Gh.instance)==null?void 0:ye.getPackage(V.name);Me.providesModifiers.forEach(Ke=>{ln.push(Ke)}),Me.providesTags.forEach(Ke=>{let ji=Me.providesTags.filter(cn=>cn.startsWith(`${Ke}:`)),uu=Ke.length+1,FT=[];ji.forEach(cn=>{let cu=cn.substr(uu).trim();cu.length>0&&FT.push(cu)});let LT=FT.filter(cn=>cn!="index"&&cn!="wildcard");es.push({tagName:Ke,requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!0,injectParentScope:!0,parameters:[],hideFromCompletions:!1,introducedIn:null,resolveCompletionItems:cn=>{if(cn.leftWord==Ke||cn.leftWord==`/${Ke}`){let cu=[];return LT.forEach($1=>{cu.push({label:$1,kind:hT.CompletionItemKind.Text,sortText:"1"})}),{items:cu,isExclusiveResult:!0,analyzeDefaults:!1}}return{items:[],isExclusiveResult:!1,analyzeDefaults:!0}}}),LT.forEach(cn=>{es.push({tagName:`${Ke}:${cn}`,requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!0,injectParentScope:!0,parameters:[],hideFromCompletions:!1,introducedIn:null})})})}}),bt.existsSync(z)){let V=Po(z,".php",[]);for(let se=0;se<V.length;se++)try{let ye=iu.parsePhp(bt.readFileSync(V[se],{encoding:"utf8"}));if(typeof ye.className!="undefined"&&typeof ye.handle!="undefined"){let Me=ye.methodNames.filter(Ke=>Ke!="index"&&Ke!="wildcard").map(Ke=>K.snakeCase(Ke));es.push({tagName:ye.handle,requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!0,injectParentScope:!0,parameters:[],hideFromCompletions:!1,introducedIn:null,resolveCompletionItems:Ke=>{if(Ke.leftWord==ye.handle||Ke.leftWord==`/${ye.handle}`){let ji=[];return Me.forEach(uu=>{ji.push({label:uu,kind:hT.CompletionItemKind.Text,sortText:"1"})}),{items:ji,isExclusiveResult:!0,analyzeDefaults:!1}}return{items:[],isExclusiveResult:!1,analyzeDefaults:!0}}}),Me.forEach(Ke=>{es.push({tagName:`${ye.handle}:${Ke}`,requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!0,injectParentScope:!0,parameters:[],hideFromCompletions:!1,introducedIn:null})})}}catch{}}if(bt.existsSync(w)){let V=Po(w,".php",[]);for(let se=0;se<V.length;se++)try{let ye=iu.parsePhp(bt.readFileSync(V[se],{encoding:"utf8"}));typeof ye.className!="undefined"&&typeof ye.handle!="undefined"&&ln.push(ye.handle)}catch{}}if(bt.existsSync(U)){let V=Po(U,".php",[]);for(let se=0;se<V.length;se++)try{let ye=iu.parsePhp(bt.readFileSync(V[se],{encoding:"utf8"}));typeof ye.className!="undefined"&&typeof ye.handle!="undefined"&&pe.push({description:ye.description,handle:ye.handle,name:ye.className,path:Mh(V[se])})}catch{}}let Ro=Ns(T,".yaml");for(let V=0;V<Ro.length;V++)if(Dr(Ro[V])){let se=JC(Ro[V]);Ra.set(se.handle,se)}let un=Ns(h,".yaml"),au=[];for(let V=0;V<un.length;V++)if(Dr(un[V])){let se=iR(un[V]);Lr.push(se.handle),Ps.set(se.handle,se)}let xo=p+"roles.yaml",As=p+"groups.yaml";if(bt.existsSync(xo)){let V=rR(xo);for(let se=0;se<V.length;se++)Ea.set(V[se].handle,V[se]),Zn.push(V[se].handle)}if(bt.existsSync(As)){let V=nR(As);for(let se=0;se<V.length;se++)kn.set(V[se].handle,V[se]),Aa.push(V[se].handle)}let Es=new Bh,tr=Po(o,".yaml",[]),k=[];for(let V=0;V<tr.length;V++)if(Dr(tr[V])){let se=fi.basename(tr[V]).split(".").slice(0,-1).join("."),ye=bt.readFileSync(tr[V]).toString();try{Es.parseFieldset(So.parse(ye),se)}catch{}if(se!=null&&se.trim().length>0){let Me=HC(tr[V],se);te.set(se,Me)}}let A=new Pc;A.setParsedFieldSet(Es.getFieldsets());let I=Po(a,".yaml",[]);for(let V=0;V<I.length;V++)if(Dr(I[V])){let se=fi.basename(I[V]).split(".").slice(0,-1).join("."),ye=fi.basename(fi.dirname(I[V]));if(se!=null&&se.trim().length>0){Q.set(se,ye);let Me=va(I[V],se,"taxonomy",te);ue.push(Me),pi.set(se,Me.fields),k=k.concat(Me.fields),ce.includes(se)==!1&&ce.push(se)}}if(ce.length>0){for(let V=0;V<ce.length;V++)if(Q.has(ce[V])){let se=Q.get(ce[V]);if(typeof se!="undefined"&&se!==null){let ye=d+se+"/";if(bt.existsSync(ye)){let Me=Ns(ye,".yaml"),Ke=[];for(let ji=0;ji<Me.length;ji++)if(Dr(Me[ji])){let uu=fi.basename(Me[ji]).split(".").slice(0,-1).join(".");Ke.push(uu)}we.set(ce[V],Ke)}}}}let R=Ns(u,".yaml");for(let V=0;V<R.length;V++)if(Dr(R[V])){let se=bt.readFileSync(R[V]).toString(),ye=fi.basename(R[V]).split(".").slice(0,-1).join(".");try{A.parseBlueprint(So.parse(se),ye,"misc",ye,R[V])}catch{}if(ye!=null&&ye.trim().length>0){let Me=va(R[V],ye,"misc",te);ue.push(Me),ft.set(ye,Me.fields),k=k.concat(Me.fields)}}let F=[];for(let V=0;V<_.length;V++)if(Dr(_[V])){let se=bt.readFileSync(_[V]).toString(),ye=fi.basename(_[V]).split(".").slice(0,-1).join("."),Me=va(_[V],ye,"collection",te),Ke=Ts((0,k1.dirname)(_[V])).split("/").pop();F.includes(Ke)||F.push(Ke);try{A.parseBlueprint(So.parse(se),ye,"collection",Ke,_[V])}catch{}ue.push(Me),k=k.concat(Me.fields),Ke!=null&&Ke.trim().length>0&&(ye=Ke,Lr.includes(Ke)==!1&&Lr.push(Ke)),Me.fields.forEach(ji=>{Lt.has(ji.name)||Lt.set(ji.name,ji)}),Jn.set(ye,Me.fields)}let S=[],b=[];Lr.forEach(V=>{F.includes(V)||(S.push(V),b.push({tabs:[],fields:[],allFields:[],collection:V,type:"collection",handle:V,title:V}))}),S.forEach(V=>{Ps.set(V,{handle:V,injectFields:[],isStructure:!1,title:V,layout:"",viewModel:null,template:"",taxonomies:[],structure:null})});let O=Ns(f,".yaml");for(let V=0;V<O.length;V++)if(Dr(O[V])){let se=bt.readFileSync(O[V]).toString(),ye=$C(O[V]),Me=fi.basename(O[V]).split(".").slice(0,-1).join(".");try{A.parseBlueprint(So.parse(se),Me,"nav",Me,O[V])}catch{}Ca.set(ye.handle,ye)}let j=Ns(l,".yaml");for(let V=0;V<j.length;V++)if(Dr(j[V])){let se=bt.readFileSync(j[V]).toString(),ye=fi.basename(j[V]).split(".").slice(0,-1).join("."),Me=va(j[V],ye,"global",te);try{A.parseBlueprint(So.parse(se),ye,"global",ye,j[V])}catch{}ue.push(Me),k=k.concat(Me.fields),ht.set(ye,Me.fields)}if(bt.existsSync(N)){let V=Ns(N,".yaml");for(let se=0;se<V.length;se++)if(Dr(V[se])){let ye=bt.readFileSync(V[se]).toString(),Me=fi.basename(V[se]).split(".").slice(0,-1).join("."),Ke=va(V[se],Me,"asset",te);try{A.parseBlueprint(So.parse(ye),Me,"asset",Me,V[se])}catch{}ue.push(Ke),k=k.concat(Ke.fields),an.set(Me,Ke.fields)}}let oe=Ns(s,".yaml"),ge=Ns(n,".yaml"),Ce=[];for(let V=0;V<ge.length;V++)if(Dr(ge[V])){let se=fi.basename(ge[V]).split(".").slice(0,-1).join(".");Ce.includes(se)||Ce.push(se)}for(let V=0;V<oe.length;V++)if(Dr(oe[V])){let se=bt.readFileSync(oe[V]).toString(),ye=fi.basename(oe[V]).split(".").slice(0,-1).join("."),Me=va(oe[V],ye,"form",te);try{A.parseBlueprint(So.parse(se),ye,"form",ye,oe[V])}catch{}ue.push(Me),k=k.concat(Me.fields),qe.set(ye,Me.fields)}for(let V=0;V<Ce.length;V++)qe.has(Ce[V])||qe.set(Ce[V],[]);let ut=new Map;for(let V=0;V<g.length;V++)ut.set(g[V].relativeDisplayName,g[V]);Ps.forEach((V,se)=>{V.template.trim().length>0&&ut.has(V.template)&&ut.get(V.template).injectsCollections.push(V.handle)});let Vt=[],Ut=b,Ye=[],Dn=[],wo=[],lu=[],kT=[];return A.getBlueprints().forEach(V=>{V.type=="misc"?lu.push(V):V.type=="collection"?Ut.push(V):V.type=="nav"?Dn.push(V):V.type=="global"?kT.push(V):V.type=="asset"?Vt.push(V):V.type=="form"&&wo.push(V)}),Ut.forEach(V=>{Ac.ensureCollectionFields(V)}),Dn.forEach(V=>{Ac.ensureNavigationFields(V)}),yT({assets:Vt,collections:Ut,fieldsets:Es.getParsedFieldsets(),forms:wo,general:lu,globals:kT,navigations:Dn,taxonomies:Ye}),new mT({composerPackages:Z,statamicPackage:H,isMocked:!1,workingDirectory:x,taxonomyPluralizedMapping:Q,collectionScopes:pe,blueprintFiles:_,collectionBlueprintsPath:i,collections:Ps,rootPath:e,fields:Jn,fieldsetsPath:o,fieldsets:te,collectionNames:Lr,formBlueprintsPath:n,taxonomiesBlueprintsPath:a,globalBlueprintsPath:l,miscBlueprintsPath:u,viewsPath:r,views:g,globalFiles:[],forms:qe,globals:ht,miscFields:ft,taxonomies:pi,taxonomyNames:ce,templates:It,partialCache:he,partialViewNames:Ne,macroFilePath:y,hasMacrosFile:de,contentDirectory:c,taxonomyContentDirectory:d,taxonomyTerms:we,blueprints:ue,assets:Ra,assetFields:an,oauthProviders:[],navigationMenus:Ca,userPermissionsPath:p,userGroupNames:Aa,userGroups:kn,userRoleNames:Zn,userRoles:Ea,searchIndexes:[],internalFieldReference:k,restoreProperties:null,namedBluePrintFields:Lt,customModifierNames:ln,customTags:es},t)}var mT=class extends qh{reloadDetails(){return _T(this.baseResourcePath)}};var Hh=class{static getReferences(e){var i;if(e==null)return null;if(((i=e.context)==null?void 0:i.feature)instanceof fe){let r=e.context.feature;if(r.scopeVariable==null||r.scopeVariable.sourceField==null)return null;let n=new Map;Re.getDocuments().forEach(o=>{let a=o.getAllAntlersNodes(),l=[];a.forEach(u=>{u.runtimeNodes.forEach(c=>{var f;(c.scopeVariable!=null&&c.scopeVariable==r.scopeVariable||c.scopeVariable!=null&&c.scopeVariable.sourceName==((f=r.scopeVariable)==null?void 0:f.sourceName)&&c instanceof fe&&c.name==r.name)&&l.push(c)})}),n.set(o.documentUri,l)});let s=[];return n.forEach((o,a)=>{o.forEach(l=>{s.push({uri:a,range:pa(l)})})}),s}return[]}};function D1(t){var r;if(((r=ae.instance)==null?void 0:r.hasStructure())==!1)return null;let e=decodeURIComponent(t.textDocument.uri);if(Re.hasDocument(e)==!1)return null;let i=fr(t.position,e);return Hh.getReferences(i)}function F1(t){var r;let e=decodeURIComponent(t.textDocument.uri),i=fr(t.position,e);if(i==null)return null;if(((r=i.context)==null?void 0:r.feature)instanceof fe){let n=i.context.feature,s=i.antlersDocument.getAllAntlersNodes();if(n.scopeVariable==null||n.scopeVariable.sourceField==null)return null;let o=[],a=[];return s.forEach(l=>{l.runtimeNodes.forEach(u=>{var c;(u.scopeVariable!=null&&u.scopeVariable==n.scopeVariable||u.scopeVariable!=null&&u.scopeVariable.sourceName==((c=n.scopeVariable)==null?void 0:c.sourceName)&&u instanceof fe&&u.name==n.name)&&o.push(u)})}),o.length>0&&o.push(n),o.forEach(l=>{a.push({range:pa(l)})}),a}return[]}var TT=class{constructor(){this._nodes=[];this._extractedAntlers=new Map;this._buffer="";this._shouldFormat=!0}load(e){let i=new xt;return i.getDocumentParser().withChildDocuments(!0),i.loadString(e),this._nodes=i.getAllNodes(),this._buffer=i.getParsedContent(),(!i.isValid()||!i.isFormattingEnabled())&&(this._shouldFormat=!1),this._nodes.forEach(r=>{if(r instanceof G){let n=r.getNodeDocumentText(),s="ANTLERS:"+r.refId;this._buffer=this._buffer.replace(n,s),this._extractedAntlers.set(s,n)}}),this}getShouldFormat(){return this._shouldFormat}getBuffer(){return this._buffer}getMapping(){return this._extractedAntlers}transform(e){return this._buffer=e(this._buffer),this}getTemplate(){let e=this._buffer;return this._extractedAntlers.forEach((i,r)=>{e=e.replace(r,i)}),e}},L1=TT;var W1=ee(M1());var Ae=class{static getDocLink(e){return e=e.toLowerCase(),e=="array"?"https://statamic.dev/fieldtypes/array":e=="assets"?"https://statamic.dev/fieldtypes/assets":e=="bard"?"https://statamic.dev/fieldtypes/bard":e=="button_group"?"https://statamic.dev/fieldtypes/button_group":e=="checkboxes"?"https://statamic.dev/fieldtypes/checkboxes":e=="code"?"https://statamic.dev/fieldtypes/code":e=="collections"?"https://statamic.dev/fieldtypes/collections":e=="color"?"https://statamic.dev/fieldtypes/color":e=="date"?"https://statamic.dev/fieldtypes/date":e=="entries"?"https://statamic.dev/fieldtypes/entries":e=="form"?"https://statamic.dev/fieldtypes/form":e=="grid"?"https://statamic.dev/fieldtypes/grid":e=="integer"?"https://statamic.dev/fieldtypes/integer":e=="link"?"https://statamic.dev/fieldtypes/link":e=="list"?"https://statamic.dev/fieldtypes/list":e=="markdown"?"https://statamic.dev/fieldtypes/markdown":e=="radio"?"https://statamic.dev/fieldtypes/radio":e=="range"?"https://statamic.dev/fieldtypes/range":e=="replicator"?"https://statamic.dev/fieldtypes/replicator":e=="select"?"https://statamic.dev/fieldtypes/select":e=="sites"?"https://statamic.dev/fieldtypes/sites":e=="structures"?"https://statamic.dev/fieldtypes/structures":e=="table"?"https://statamic.dev/fieldtypes/table":e=="taggable"?"https://statamic.dev/fieldtypes/taggable":e=="taxonomies"?"https://statamic.dev/fieldtypes/taxonomies":e=="template"?"https://statamic.dev/fieldtypes/template":e=="terms"?"https://statamic.dev/fieldtypes/terms":e=="text"?"https://statamic.dev/fieldtypes/text":e=="textarea"?"https://statamic.dev/fieldtypes/textarea":e=="time"?"https://statamic.dev/fieldtypes/time":e=="toggle"?"https://statamic.dev/fieldtypes/toggle":e=="user_groups"?"https://statamic.dev/fieldtypes/user-groups":e=="user_roles"?"https://statamic.dev/fieldtypes/user-roles":e=="users"?"https://statamic.dev/fieldtypes/users":e=="video"?"https://statamic.dev/fieldtypes/video":e=="yaml"?"https://statamic.dev/fieldtypes/yaml":null}};function Wh(t){return{resolved:!0,documentation:{handle:t.type,field:t,injects:[],stringable:!0,rawReturns:"string",augmentsTo:"string",canBeTagPair:!1,exampleSnippets:[],overviewProperties:[],overviewSnippets:[],modifiers:[],officialDocumentation:Ae.getDocLink(t.type),stringableReturns:"The field's value"}}}function q1(t){let e=[],i=m(t,"default",null),r=t.validate.includes("required");return i===null||r===!1?e.push({overview:`Using ${t.handle} in an operation`,snippet:`{{# Use null coalescence to account for a possible null value. #}}
{{ _result = (${t.handle} ?? 0) + 1; }}`}):isNaN(i)?e.push({overview:`Using ${t.handle} in an operation`,snippet:`{{#
    This field has a non-numeric default value of '${i}',
    which may cause issues with operations and comparisons.
#}}
{{ _result = ${t.handle} + 1; }}`}):e.push({overview:`Using ${t.handle} in an operation`,snippet:`{{ _result = ${t.handle} + 1; }}`}),e.push({overview:`Using ${t.handle} in a condition`,snippet:`{{ if ${t.handle} > 0 }}

{{ /if }}`}),{resolved:!0,documentation:{handle:t.type,field:t,injects:[],stringable:!0,rawReturns:"number",augmentsTo:"number",canBeTagPair:!1,exampleSnippets:[],overviewProperties:[],overviewSnippets:e,modifiers:[],officialDocumentation:Ae.getDocLink(t.type),stringableReturns:"The field's value"}}}function B1(t){let e=[];return e.push({overview:`Using the ${t.handle} field in a condition`,snippet:`{{ if ${t.handle} }}

{{ /if }}`}),e.push({overview:`Using the ${t.handle} field in a ternary expression`,snippet:`{{ ${t.handle} ? 'true' : 'false' }}`}),e.push({overview:`Using the ${t.handle} field with the Gatekeeper operator to conditionally render a partial`,snippet:`{{ ${t.handle} ?= {partial:partial/name} }}`}),{resolved:!0,documentation:{handle:t.type,field:t,injects:[],stringable:!0,rawReturns:"boolean",augmentsTo:"boolean",canBeTagPair:!1,exampleSnippets:[],overviewProperties:[],overviewSnippets:e,modifiers:[],officialDocumentation:Ae.getDocLink(t.type),stringableReturns:"The field's value"}}}var bT={resolved:!1,documentation:null};var We=class{static getKeys(e){if(typeof e.keys=="undefined")return[];let i=e.keys;return i===null?[]:Object.keys(i)}static keysToInjectedField(e){let i=[];return e.forEach(r=>{i.push(_e.injectedTextField(r,""))}),i}static massageInjectedType(e){return e=="user_roles"||e=="user_groups"?"array":e=="toggle"?"boolean":e}static fieldsToInjectedFields(e){let i=[];return e.forEach(r=>{i.push({name:r.handle,type:this.massageInjectedType(r.type),field:r,description:r.instructionText})}),i}};var Yh=class{static generate(e){let i=[];return i.push({overview:"Alternating between even and odd rows, starting at the second row",snippet:`<ul>
    {{ ${e} }}
    <li class="{ (count % 2 == 0) ? 'even' : 'odd' }">
        {{ value }}
    </li>
    {{ /${e} }}
</ul>`}),i.push({overview:"Alternating between even and odd rows, starting at the first row",snippet:`<ul>
    {{ ${e} }}
    <li class="{ (count % 2 == 0) ? 'odd' : 'even' }">
        {{ value }}
    </li>
    {{ /${e} }}
</ul>`}),i}};var Ao=class{constructor(e){this.buffer="";this.tabSize=4;this.tabSize=e}opening(e){return this.buffer+="{{ "+e+" }}",this}append(e){return this.buffer+=e,this}space(){return this.append(" ")}singleField(e){return this.append("{{ "+e+" }}")}nestedFieldsComment(){return this.append("{{# Nested fields. #}}")}nl(){return this.buffer+=`
`,this}indent(){return this.buffer+=" ".repeat(this.tabSize),this}indentedField(e){return this.buffer+=`
`+" ".repeat(this.tabSize)+"{{ "+e+" }}",this}indentedClosing(e){return this.buffer+=`
`+" ".repeat(this.tabSize)+"{{/ "+e+" }}",this}fieldAccess(e,i){return this.buffer+="{{ "+e+"."+i+" /}}",this.nl()}pairedFieldAccess(e,i){return this.buffer+="{{ "+e+"."+i+" }}",this.nl()}closingFieldAccess(e,i){return this.buffer+="{{ /"+e+"."+i+" }}",this.nl()}accessorFieldAccess(e,i,r){return this.buffer+="{{ "+e+"."+i+"."+r+" /}}",this.nl()}pairedAccessorFieldAccess(e,i,r){return this.buffer+="{{ "+e+"."+i+"."+r+" }}",this.nl()}closingAccessorFieldAccess(e,i,r){return this.buffer+="{{ /"+e+"."+i+"."+r+" }}",this.nl()}closing(e){return this.buffer+="{{ /"+e+" }}",this}toString(){return this.buffer}};var Eo=class{static generate(e,i=4){let r=new Ao(i);return r.opening("foreach:"+e),r.nl().indent().singleField("key").space().singleField("value"),r.nl().closing("foreach:"+e),{overview:"Iterate the "+e+" as a key/value pair",snippet:r.toString()}}};function IT(t){return t==="array"||t=="entry"||t=="builder"||t=="entries"}var ve=class{static generate(e,i,r=4){let n=[];return i.length==0?(n.push(ve.generateNestedFields(e,[_e.injectedTextField("value","")],r)),n):(n.push(ve.generateNestedFields(e,i,r)),n.push(ve.generateDotAccessFields(e,i,r)),n)}static generateArrayFields(e,i,r=4){let n=[];return i.length==0?(n.push(ve.generateNestedFields(e,[_e.injectedTextField("value","")],r)),n):(n.push(ve.generateNestedFields(e,i,r)),n.push(ve.generateNestedDotAccessFields(e,"0",i,r)),n)}static generateDotAccessFields(e,i,r){let n=new Ao(r);return i.forEach(s=>{IT(s.type)?n.pairedFieldAccess(e,s.name).indent().nestedFieldsComment().nl().closingFieldAccess(e,s.name):n.fieldAccess(e,s.name)}),{overview:"Accessing the nested values of the "+e+' field using "dot" syntax',snippet:n.toString().trimEnd()}}static generateNestedDotAccessFields(e,i,r,n){let s=new Ao(n);return r.forEach(o=>{IT(o.type)?(s.pairedAccessorFieldAccess(e,i,o.name),s.indent().nestedFieldsComment(),s.nl().closingAccessorFieldAccess(e,i,o.name)):s.accessorFieldAccess(e,i,o.name)}),{overview:"Accessing the nested values of the "+e+' field using "dot" syntax',snippet:s.toString().trimEnd()}}static generateNestedFields(e,i,r){let n=new Ao(r);return n.opening(e),i.forEach(s=>{IT(s.type)?n.indentedField(s.name).nl().indent().indent().nestedFieldsComment().indentedClosing(s.name):n.indentedField(s.name)}),n.nl().closing(e),{overview:"Accessing the nested fields of the "+e+" field within a tag pair.",snippet:n.toString()}}};var Ss=class{resolve(e,i){let r=We.getKeys(e),n=Ae.getDocLink(e.type),s=We.keysToInjectedField(r),o=[],a=ve.generate(e.handle,s);return e.mode=="keyed"?a.push(Eo.generate(e.handle)):Yh.generate(e.handle).forEach(l=>a.push(l)),o.push({mono:!1,name:"Mode",value:e.mode}),{resolved:!0,documentation:{handle:e.type,field:e,injects:s,stringable:!1,rawReturns:"array",augmentsTo:"array",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:a,officialDocumentation:n,overviewProperties:o,stringableReturns:null,modifiers:[]}}}};var Co=class{resolve(e,i){let r=Ae.getDocLink(e.type),n=[],s=[];return s.push({overview:`Using modifiers on the ${e.handle} field`,snippet:`{{ ${e.handle} as="${e.handle}_alias" }}
    {{ ${e.handle}_alias | reverse }}

    {{ /${e.handle}_alias }}
{{ /${e.handle} }}`}),{resolved:!0,documentation:{handle:e.type,field:e,injects:[],stringable:!1,rawReturns:"builder",augmentsTo:"builder",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:s,officialDocumentation:r,overviewProperties:n,stringableReturns:"",modifiers:[]}}}};var v$=[_e.injectedTextField("id","The asset's ID"),_e.injectedTextField("title","The asset's title"),_e.injectedTextField("path","The relative asset path"),_e.injectedTextField("filename","The asset's file name, without the extension"),_e.injectedTextField("basename","The asset's file name, with the extension"),_e.injectedTextField("extension","The extension of the asset"),_e.injectedBoolField("is_asset",""),_e.injectedBoolField("is_audio",""),_e.injectedBoolField("is_previewable",""),_e.injectedBoolField("is_image",""),_e.injectedBoolField("is_video",""),_e.injectedArrayField("blueprint",""),_e.injectedTextField("edit_url",""),_e.injectedArrayField("container",""),_e.injectedTextField("folder",""),_e.injectedTextField("url",""),_e.injectedTextField("permalink",""),_e.injectedTextField("size",""),_e.injectedFloatField("size_bytes",""),_e.injectedFloatField("size_kilobytes",""),_e.injectedFloatField("size_megabytes",""),_e.injectedFloatField("size_gigabytes",""),_e.injectedFloatField("size_b",""),_e.injectedFloatField("size_kb",""),_e.injectedFloatField("size_mb",""),_e.injectedFloatField("size_gb",""),_e.injectedDateField("last_modified",""),_e.injectedFloatField("last_modified_timestamp",""),_e.injectedDateField("last_modified_instance",""),_e.injectedTextField("focus",""),_e.injectedBoolField("has_focus",""),_e.injectedTextField("focus_css",""),_e.injectedFloatField("height",""),_e.injectedFloatField("width",""),_e.injectedTextField("orientation",""),_e.injectedFloatField("ratio",""),_e.injectedTextField("mime_type",""),_e.injectedFloatField("duration",""),_e.injectedFloatField("duration_seconds",""),_e.injectedFloatField("duration_sec",""),_e.injectedTextField("playtime","")],kc=class{resolve(e,i){var l;if(e.maxFiles!==1)return new Co().resolve(e,i);let r=null;for(let u=0;u<i.assets.length;u++)if(i.assets[u].handle==e.container){r=i.assets[u];break}let n=We.fieldsToInjectedFields((l=r==null?void 0:r.allFields)!=null?l:[]);n=n.concat(v$);let s=Ae.getDocLink(e.type),o=[],a=ve.generate(e.handle,n);return{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!0,rawReturns:"asset",augmentsTo:"asset",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:a,officialDocumentation:s,overviewProperties:o,stringableReturns:"The asset's path",modifiers:[]}}}};var ru=class{static generate(e,i){let r=[],n="";if(i.length==1)n=`    {{ if type == '${i[0].handle}' }}

    {{ /if }}`;else if(i.length>1){let o=i.slice(1);n=`    {{ if type == '${i[0].handle}' }}

`,o.forEach(a=>{n+=`    {{ elseif type == '${a.handle}' }}

`}),n+="    {{ /if }}"}let s=`{{ ${e} }}
${n}
{{ /${e} }}`;return r.push({overview:"Conditionally rendering content based on the current set",snippet:s}),r}};var nu=class{static getSnippets(e){let i=[];return i.push({overview:"Retrieving the augmented value of the field",snippet:`{{ ${e.handle} /}}`}),i}};var Ni=class{resolve(e,i){var o,a;let r=[],n=nu.getSnippets(e),s={...Wh(e)};return typeof e.characterLimit!="undefined"&&r.push({mono:!1,name:"Character Limit",value:(a=(o=e.characterLimit)==null?void 0:o.toString())!=null?a:"None"}),s.documentation!=null&&(s.documentation.overviewProperties=r,s.documentation.overviewSnippets=n),s}};var Pa=class extends Ni{};var Dc=class{resolve(e,i){if(e.sets.length==0)return new Pa().resolve(e,i);let r=Ae.getDocLink(e.type),n=[],s=[],o=ru.generate(e.handle,e.sets);return{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!1,rawReturns:"array",augmentsTo:"array",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:o,officialDocumentation:r,overviewProperties:s,stringableReturns:null,modifiers:[]}}}};var su=class{resolve(e,i){let r=Ae.getDocLink(e.type),n=["value","label","key"],s=We.keysToInjectedField(n),o=[],a=ve.generate(e.handle,s);return a.push(Eo.generate(e.handle)),{resolved:!0,documentation:{handle:e.type,field:e,injects:s,stringable:!0,rawReturns:"string",augmentsTo:"labeledValue",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:a,officialDocumentation:r,overviewProperties:o,stringableReturns:"The field's value",modifiers:[]}}}};var Fc=class extends su{};var Lc=class{resolve(e,i){let r=["key","value","label"],n=Ae.getDocLink(e.type),s=We.keysToInjectedField(r),o=[],a=ve.generateArrayFields(e.handle,s);return{resolved:!0,documentation:{handle:e.type,field:e,injects:s,stringable:!1,rawReturns:"array",augmentsTo:"array",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:a,officialDocumentation:n,overviewProperties:o,stringableReturns:null,modifiers:[]}}}};var Oc=class{resolve(e,i){var l,u;let r=["code","mode","value"],n=Ae.getDocLink(e.type),s=We.keysToInjectedField(r),o=[],a=ve.generate(e.handle,s);return o.push({mono:!0,name:"Mode",value:e.mode}),o.push({mono:!1,name:"Indent Type",value:((l=e.indentType)!=null?l:"tabs")+"("+((u=e.indentSize)!=null?u:4)+")"}),a.unshift({overview:`Rendering a <code /> element using the details of the ${e.handle} field`,snippet:`{{ ${e.handle} }}
    <pre><code class="language-{{ mode }}">{{ code }}</code></pre>
{{ /${e.handle} }}`}),{resolved:!0,documentation:{handle:e.type,field:e,injects:s,stringable:!1,rawReturns:"string",augmentsTo:"arrayableString",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:a,officialDocumentation:n,overviewProperties:o,stringableReturns:"The code field's value",modifiers:[]}}}};var Si=class{static generate(e,i,r){return{overview:`Use the values of the ${r} field to retrieve items using the ${e} tag`,snippet:`{{ ${e} ${i}="{${r}|piped}" }}

{{ /${e} }}`}}static generateSingle(e,i,r){return{overview:`Use the value of the ${r} field to retrieve items using the ${e} tag`,snippet:`{{ ${e} :${i}="${r}.handle" }}

{{ /${e} }}`}}static generateCondition(e,i,r){return{overview:`Use the values of the ${r} field with the ${e} tag in a condition`,snippet:`{{ if {${e} ${i}="{${r}|piped}"} }}

{{ /if }}`}}static generateSingleCondition(e,i,r){return{overview:`Use the value of the ${r} field with the ${e} tag in a condition`,snippet:`{{ if {${e} :${i}="${r}.handle"} }}

{{ /if }}`}}};var Mc=class{constructor(){this.injectsKeys=["title","handle"]}resolve(e,i){let r=Ae.getDocLink(e.type),n=We.keysToInjectedField(this.injectsKeys),s=[],o="collectionArray",a="collectionArray",l=[],u=!1;return e.maxItems===1?(o="collection",a="collection",u=!0,l.push(Si.generateSingle("collection","from",e.handle)),l=l.concat(ve.generate(e.handle,n))):(l.push(Si.generate("collection","from",e.handle)),l=l.concat(ve.generateArrayFields(e.handle,n))),{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!0,rawReturns:o,augmentsTo:a,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:l,officialDocumentation:r,overviewProperties:s,stringableReturns:"The collection's handle",modifiers:[]}}}};var qc=class{resolve(e,i){var n;let r=new Ni().resolve(e,i);return r.documentation!=null&&r.documentation.overviewProperties.unshift({mono:!0,name:"Color Mode",value:(n=e.defaultColorMode)!=null?n:"hex"}),r}};var Kh=class{static generate(e){let i=[];return i.push({overview:"Formatting: Atom/ISO-8601 Full Extended (2022-11-19T16:59:46+00:00)",snippet:`{{ ${e.handle} | format('Y-m-d\\TH:i:sP') /}}`}),i.push({overview:"Formatting: ISO-8601 (2022-11-19T16:59:46+0000)",snippet:`{{ ${e.handle} | format('Y-m-d\\TH:i:sO') /}}`}),i.push({overview:"Formatting: Cookie (Saturday, 19-Nov-2022 16:59:46 UTC)",snippet:`{{ ${e.handle} | format('l, d-M-Y H:i:s T') /}}`}),i.push({overview:"Formatting: RFC-822 (Sat, 19 Nov 22 16:59:46 +0000)",snippet:`{{ ${e.handle} | format('D, d M y H:i:s O') /}}`}),i.push({overview:"Formatting: RFC-850 (Saturday, 19-Nov-22 16:59:46 UTC)",snippet:`{{ ${e.handle} | format('l, d-M-y H:i:s T') /}}`}),i.push({overview:"Formatting: RFC-1036 (Sat, 19 Nov 22 16:59:46 +0000)",snippet:`{{ ${e.handle} | format('D, d M y H:i:s O') /}}`}),i.push({overview:"Formatting: RFC-1123 (Sat, 19 Nov 2022 16:59:46 +0000)",snippet:`{{ ${e.handle} | format('D, d M Y H:i:s O') /}}`}),i.push({overview:"Formatting: RFC-2822 (Sat, 19 Nov 2022 16:59:46 +0000)",snippet:`{{ ${e.handle} | format('D, d M Y H:i:s O') /}}`}),i.push({overview:"Formatting: RFC-3339 (2022-11-19T16:59:46+00:00)",snippet:`{{ ${e.handle} | format('Y-m-d\\TH:i:sP') /}}`}),i.push({overview:"Formatting: RFC-3339 Extended (2022-11-19T16:59:46.954+00:00)",snippet:`{{ ${e.handle} | format('Y-m-d\\TH:i:s.vP') /}}`}),i.push({overview:"Formatting: RFC-7231 (Sat, 19 Nov 2022 16:59:46 GMT)",snippet:`{{ ${e.handle} | format('D, d M Y H:i:s \\G\\M\\T') /}}`}),i.push({overview:"Formatting: RSS (Sat, 19 Nov 2022 16:59:46 +0000)",snippet:`{{ ${e.handle} | format('D, d M Y H:i:s O') /}}`}),i.push({overview:"Formatting: W3C (2022-11-19T16:59:46+00:00)",snippet:`{{ ${e.handle} | format('Y-m-d\\TH:i:sP') /}}`}),i}};var Bc=class{resolve(e,i){var n,s;let r=new Ni().resolve(e,i);return r.documentation!=null&&(Kh.generate(e).forEach(o=>{var a;(a=r.documentation)==null||a.overviewSnippets.unshift(o)}),r.documentation.overviewProperties.unshift({name:"Time Enabled",mono:!1,value:K.boolLabel((n=e.timeEnabled)!=null?n:!1)}),r.documentation.overviewProperties.unshift({name:"Format",mono:!0,value:(s=e.format)!=null?s:"None"}),r.documentation.augmentsTo="date",r.documentation.stringableReturns="The formatted date"),r}};var Vc=class{resolve(e,i){if(e.maxItems!==1){let a=new Co().resolve(e,i);if(a.resolved&&a.documentation!=null){let l=[],u=[];if(e.collections!=null&&e.collections.length>0){let c=[],f=[];i.collections.forEach(d=>{var p;(p=e.collections)!=null&&p.includes(d.collection)&&typeof d.allFields!="undefined"&&d.allFields!=null&&d.allFields.forEach(h=>{f.includes(h.handle)==!1&&(f.push(h.handle),c.push(h))})}),l=We.fieldsToInjectedFields(c),u=[ve.generateNestedFields(e.handle,l,4)]}u.forEach(c=>{var f;(f=a.documentation)==null||f.overviewSnippets.unshift(c)}),a.documentation.injects=l}return a}let r=Ae.getDocLink(e.type),n=[],s=[],o=[];if(e.collections!=null&&e.collections.length>0){let a=[],l=[];i.collections.forEach(u=>{var c;(c=e.collections)!=null&&c.includes(u.collection)&&typeof u.allFields!="undefined"&&u.allFields!=null&&u.allFields.forEach(f=>{l.includes(f.handle)==!1&&(l.push(f.handle),a.push(f))})}),s=We.fieldsToInjectedFields(a),o=[ve.generateNestedFields(e.handle,s,4)]}return{resolved:!0,documentation:{handle:e.type,field:e,injects:s,stringable:!1,rawReturns:"entry",augmentsTo:"entry",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:o,officialDocumentation:r,overviewProperties:n,stringableReturns:"",modifiers:[]}}}};var Xn=class{resolve(e,i){return q1(e)}};var Uc=class extends Xn{};var jc=class{constructor(){this.injectsKeys=["handle","title","api_url","honeypot"]}resolve(e,i){let r=Ae.getDocLink(e.type),n=We.keysToInjectedField(this.injectsKeys),s=[],o="formArray",a="formArray",l=[],u=!1;return e.maxItems===1?(o="form",a="form",u=!0,l=ve.generate(e.handle,n),l.unshift({overview:`Using the value of the ${e.handle} field to create a form`,snippet:`{{ form:create :in="${e.handle}.handle" }}
    {{ fields }}
        {{# Render the fields. #}}
    {{ /fields }}

    <button type="submit">The Submit Button</button>
{{ /form:create }}`})):l=ve.generateArrayFields(e.handle,n),{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!0,rawReturns:o,augmentsTo:a,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:l,officialDocumentation:r,overviewProperties:s,stringableReturns:"The form's handle",modifiers:[]}}}};var Gc=class{resolve(e,i){let r=Ae.getDocLink(e.type),n=We.fieldsToInjectedFields(e.fields),s=[],o=ve.generate(e.handle,n);return{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!1,rawReturns:"array",augmentsTo:"array",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:o,officialDocumentation:r,overviewProperties:s,stringableReturns:null,modifiers:[]}}}};var Hc=class extends Xn{};var Wc=class extends Ni{};var Yc=class extends Ss{};var Kc=class extends Ni{resolve(e,i){let r=super.resolve(e,i);return r.documentation!=null&&r.documentation.overviewSnippets.unshift({overview:"Using a custom Markdown parser to render the content",snippet:`{{ ${e.handle} | raw | markdown('parser_name') /}}`}),r}};var $c=class extends su{};var zc=class extends Xn{resolve(e,i){var n,s,o,a;let r=super.resolve(e,i);return r.documentation!=null&&(r.documentation.overviewProperties.unshift({name:"Max",value:(s=(n=e.max)==null?void 0:n.toString())!=null?s:"None",mono:!1}),r.documentation.overviewProperties.unshift({name:"Min",value:(a=(o=e.min)==null?void 0:o.toString())!=null?a:"None",mono:!1})),r}};var Qc=class{resolve(e,i){let r=Ae.getDocLink(e.type),n=[],s=[],o=ru.generate(e.handle,e.sets);return{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!1,rawReturns:"array",augmentsTo:"array",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:o,officialDocumentation:r,overviewProperties:s,stringableReturns:null,modifiers:[]}}}};var Xc=class{resolve(e,i){let r=Ae.getDocLink(e.type),n=["value","label","key"],s=We.keysToInjectedField(n),o=[],a="string",l="labeledValueArray",u=[];return e.multiple!==!0?(a="string",l="labeledValue",u=ve.generate(e.handle,s),u.push(Eo.generate(e.handle))):u=ve.generateArrayFields(e.handle,s),{resolved:!0,documentation:{handle:e.type,field:e,injects:s,stringable:!0,rawReturns:a,augmentsTo:l,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:u,officialDocumentation:r,overviewProperties:o,stringableReturns:"The field's value",modifiers:[]}}}};var Jc=class{constructor(){this.injectsKeys=["handle","name","lang","locale","short_locale","url","direction"]}resolve(e,i){let r=Ae.getDocLink(e.type),n=We.keysToInjectedField(this.injectsKeys).concat([_e.injectedArrayField("attributes","")]),s=[],o="siteArray",a="siteArray",l=[],u=!1;return e.maxItems===1?(o="site",a="site",u=!0,l=ve.generate(e.handle,n)):l=ve.generateArrayFields(e.handle,n),{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!0,rawReturns:o,augmentsTo:a,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:l,officialDocumentation:r,overviewProperties:s,stringableReturns:"The site's handle",modifiers:[]}}}};var Zc=class extends Ni{};var ef=class{static getSnippets(e){let i=[];return e.maxItems===1?i.push({overview:"Navigate the structure hierarchy using the nav tag",snippet:`{{ nav :from="${e.handle}.handle" }}

{{ /nav }}`}):i.push({overview:"Navigate the structure hierarchies using the nav tag",snippet:`{{ ${e.handle} }}
    {{ nav :from="handle" }}

    {{ /nav }}
{{ /${e.handle} }}`}),i}};var tf=class{constructor(){this.injectsKeys=["title","handle"]}resolve(e,i){let r=Ae.getDocLink(e.type),n=We.keysToInjectedField(this.injectsKeys),s=[],o="structureArray",a="structureArray",l=ef.getSnippets(e),u=!1;return e.maxItems===1?(o="structure",a="structure",u=!0,ve.generate(e.handle,n).forEach(c=>{l.push(c)})):ve.generateArrayFields(e.handle,n).forEach(c=>{l.push(c)}),{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!0,rawReturns:o,augmentsTo:a,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:l,officialDocumentation:r,overviewProperties:s,stringableReturns:"The structure's handle",modifiers:[]}}}};var rf=class{resolve(e,i){let r=Ae.getDocLink(e.type),n=[],s=[],o="array",a="array",l=[];return l.push({overview:`Using the table modifier to conver the ${e.handle} to HTML`,snippet:`{{ ${e.handle} | table /}}`}),l.push({overview:"Iterating the table and render the contents",snippet:`<table>
  {{ ${e.handle} }}
    <tr>
      {{ cells }}
        <td>{{ value /}}</td>
      {{ /cells }}
    </tr>
  {{ /${e.handle} }}
</table>`}),l.push({overview:'Using the "as" modifier to access individual rows',snippet:`{{ ${e.handle} as="rows" }}
    <thead>
        <tr>
        {{ rows.0.cells }}
            <th>{{ value /}}</th>
        {{ /rows.0.cells }}
        </tr>
    </thead>
    <tbody>
    {{ rows offset="1" }}
        <tr>
        {{ cells }}
            <td>{{ value /}}</td>
        {{ /cells }}
        </tr>
    {{ /rows }}
    </tbody>
{{ /${e.handle} }}`}),l.push({overview:"Using a variable to conditionally render a table header element",snippet:`<table>
  {{ ${e.handle} }}
    {{ if first && first_row_headers }}
      <thead>
        <tr>
          {{ cells }}
            <th>{{ value /}}</th>
          {{ /cells }}
        </tr>
      </thead>
      <tbody>
    {{ /if }}
    {{ if !first && first_row_headers || !first_row_headers }}
      {{ if first }}
        <tbody>
      {{ /if }}
        <tr>
          {{ cells }}
            <td>{{ value /}}</td>
          {{ /cells }}
        </tr>
      {{ if last }}
        </tbody>
      {{ /if }}
    {{ /if }}
  {{ /${e.handle} }}
</table>`}),l.push({overview:"Using a variable to conditionally render a table header element; using ternary conditions to render the body",snippet:`<table>
  {{ ${e.handle} }}
    {{ if first && first_row_headers }}
      <thead>
        <tr>
          {{ cells }}
            <th>{{ value /}}</th>
          {{ /cells }}
        </tr>
      </thead>
      <tbody>
    {{ /if }}
    {{ if !first && first_row_headers || !first_row_headers }}
      {{ first ?= '<tbody>' }}
      <tr>
          {{ cells }}
          <td>{{ value /}}</td>
          {{ /cells }}
      </tr>      
      {{ last ?= '</tbody>' }}
    {{ /if }}
  {{ /${e.handle} }}
</table>`}),{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!1,rawReturns:o,augmentsTo:a,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:l,officialDocumentation:r,overviewProperties:s,stringableReturns:"",modifiers:[]}}}};var nf=class extends Ss{};var sf=class{constructor(){this.injectsKeys=["title","handle"]}resolve(e,i){let r=Ae.getDocLink(e.type),n=We.keysToInjectedField(this.injectsKeys),s=[],o="taxonomyArray",a="taxonomyArray",l=[],u=!1;return e.maxItems===1?(o="taxonomy",a="taxonomy",u=!0,l.push(Si.generateSingle("taxonomy","from",e.handle)),l=l.concat(ve.generate(e.handle,n))):(l.push(Si.generate("taxonomy","from",e.handle)),l=l.concat(ve.generateArrayFields(e.handle,n))),{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!0,rawReturns:o,augmentsTo:a,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:l,officialDocumentation:r,overviewProperties:s,stringableReturns:"The taxonomy's handle",modifiers:[]}}}};var of=class extends Ni{};var af=class{constructor(){this.injectsKeys=["api_url","edit_url","entries_count","id","is_term","locale","permalink","slug","taxonomy","title","updated_at","updated_by","uri","url"]}resolve(e,i){let r=Ae.getDocLink(e.type),n=We.keysToInjectedField(this.injectsKeys),s=[],o="builder",a="builder",l=[],u=!1;return e.maxItems===1?(o="taxonomy",a="taxonomy",u=!0,l=l.concat(ve.generate(e.handle,n))):l=l.concat(ve.generateArrayFields(e.handle,n)),{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!1,rawReturns:o,augmentsTo:a,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:l,officialDocumentation:r,overviewProperties:s,stringableReturns:null,modifiers:[]}}}};var lf=class extends Ni{};var uf=class extends Xn{};var $h=class{resolve(e,i){return B1(e)}};var cf=class extends $h{};var ff=class{constructor(){this.injectsKeys=["title","handle"]}resolve(e,i){let r=Ae.getDocLink(e.type),n=We.keysToInjectedField(this.injectsKeys),s=[],o="userGroupArray",a="userGroupArray",l=[],u=!1;return e.maxItems===1?(o="userGroup",a="userGroup",u=!0,l.push(Si.generateSingle("user:in","group",e.handle)),l.push(Si.generateSingleCondition("user:in","group",e.handle)),l=l.concat(ve.generate(e.handle,n))):(l.push(Si.generate("user:in","group",e.handle)),l.push(Si.generateCondition("user:in","group",e.handle)),l=l.concat(ve.generateArrayFields(e.handle,n))),{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!0,rawReturns:o,augmentsTo:a,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:l,officialDocumentation:r,overviewProperties:s,stringableReturns:"The user group's handle",modifiers:[]}}}};var df=class{constructor(){this.injectsKeys=["title","handle"]}resolve(e,i){let r=Ae.getDocLink(e.type),n=We.keysToInjectedField(this.injectsKeys),s=[],o="userRoleArray",a="userRoleArray",l=[],u=!1;return e.maxItems===1?(o="userRole",a="userRole",u=!0,l.push(Si.generateSingle("user:is","role",e.handle)),l.push(Si.generateSingleCondition("user:is","role",e.handle)),l=l.concat(ve.generate(e.handle,n))):(l.push(Si.generate("user:is","role",e.handle)),l.push(Si.generateCondition("user:is","role",e.handle)),l=l.concat(ve.generateArrayFields(e.handle,n))),{resolved:!0,documentation:{handle:e.type,field:e,injects:n,stringable:!0,rawReturns:o,augmentsTo:a,canBeTagPair:!0,exampleSnippets:[],overviewSnippets:l,officialDocumentation:r,overviewProperties:s,stringableReturns:"The user role's handle",modifiers:[]}}}};var pf=class{resolve(e,i){var l;if(e.maxItems!==1)return new Co().resolve(e,i);let r=null;for(let u=0;u<i.general.length;u++)if(i.general[u].handle=="user"){r=i.general[u];break}let n=Ae.getDocLink(e.type),s=We.fieldsToInjectedFields((l=r==null?void 0:r.allFields)!=null?l:[]),o=[],a=ve.generate(e.handle,s);return{resolved:!0,documentation:{handle:e.type,field:e,injects:s,stringable:!1,rawReturns:"user",augmentsTo:"user",canBeTagPair:!0,exampleSnippets:[],overviewSnippets:a,officialDocumentation:n,overviewProperties:o,stringableReturns:null,modifiers:[]}}}};var hf=class{resolve(e,i){let r=[],n=nu.getSnippets(e),s={...Wh(e)};return n.unshift({overview:"Condtionally output the appropriate video player element",snippet:`{{ if ${e.handle} | is_embeddable }}
    <!-- Youtube and Vimeo -->
    <iframe src="{{ ${e.handle} | embed_url }}" ...></iframe>
{{ else }}
    <!-- Other HTML5 video types -->
    <video src="{{ ${e.handle} | embed_url }}" ...></video>
{{ /if }}`}),s.documentation!=null&&(s.documentation.overviewProperties=r,s.documentation.overviewSnippets=n),s}};var V1=null;function U1(t){V1=t}var zh=class{constructor(){this.providers=new Map;this.providers.set("array",new Ss),this.providers.set("assets",new kc),this.providers.set("bard",new Dc),this.providers.set("button_group",new Fc),this.providers.set("checkboxes",new Lc),this.providers.set("code",new Oc),this.providers.set("collections",new Mc),this.providers.set("color",new qc),this.providers.set("date",new Bc),this.providers.set("entries",new Vc),this.providers.set("float",new Uc),this.providers.set("form",new jc),this.providers.set("grid",new Gc),this.providers.set("integer",new Hc),this.providers.set("link",new Wc),this.providers.set("list",new Yc),this.providers.set("markdown",new Kc),this.providers.set("radio",new $c),this.providers.set("range",new zc),this.providers.set("replicator",new Qc),this.providers.set("select",new Xc),this.providers.set("sites",new Jc),this.providers.set("slug",new Zc),this.providers.set("structures",new tf),this.providers.set("table",new rf),this.providers.set("taggable",new nf),this.providers.set("taxonomies",new sf),this.providers.set("template",new of),this.providers.set("terms",new af),this.providers.set("text",new Pa),this.providers.set("textarea",new lf),this.providers.set("time",new uf),this.providers.set("toggle",new cf),this.providers.set("user_groups",new ff),this.providers.set("user_roles",new df),this.providers.set("users",new pf),this.providers.set("video",new hf)}massageAugmentType(e){return e=="builder"?"array":e=="asset"?"assets":e}getDocumentationModifiers(e){var o,a;let i=[],r=(o=je.instance)==null?void 0:o.getModifiersForType(this.massageAugmentType(e.augmentsTo)),n=[],s=[];return r==null||r.forEach(l=>{l.isDeprecated||l.forFieldType.length>0&&!l.forFieldType.includes(e.field.type)||(e.augmentsTo=="asset"||e.augmentsTo=="entry")&&l.acceptsType.length==1&&l.acceptsType[0]=="array"||(s.push(l),n.push(l.name))}),e.augmentsTo=="asset"&&((a=je.instance)==null||a.getRegisteredModifiers().forEach(l=>{l.forFieldType.includes("assets")&&!n.includes(l.name)&&(s.push(l),n.push(l.name))})),s.forEach(l=>{i.push({acceptsTypes:l.acceptsType,description:l.description,docLink:l.docLink,name:l.name,returnsTypes:l.returnsType,parameters:l.parameters})}),i}getDocumentation(e){if(typeof e.type!="string")return bT;let i=e.type.toLowerCase();if(!this.providers.has(i))return bT;let r=this.providers.get(i).resolve(e,V1);return r.resolved==!1||r.documentation!=null&&(r.documentation.overviewProperties.unshift({name:"Type",value:i,mono:!0}),r.documentation.overviewProperties.push({name:"Stringable",value:K.boolLabel(r.documentation.stringable),mono:!1}),r.documentation.overviewProperties.push({name:"Arrayable",value:K.boolLabel(r.documentation.canBeTagPair),mono:!1}),r.documentation.overviewProperties.push({name:"Augments To",value:r.documentation.augmentsTo,mono:!0}),r.documentation.modifiers=this.getDocumentationModifiers(r.documentation)),r}};var Qh=class{static handle(e){return new zh().getDocumentation(e.context)}};var S$=Py(),xT={formatFrontMatter:!1,showGeneralSnippetCompletions:!0,diagnostics:{warnOnDynamicCssClassNames:!0,validateTagParameters:!0,reportDiagnostics:!0},trace:{server:"off"},formatterIgnoreExtensions:["xml"],languageVersion:"runtime"},fa=xT;function Xh(t){fa=t}function kr(){return fa}var ze=(0,di.createConnection)(di.ProposedFeatures.all),ou=new di.TextDocuments(H1.TextDocument),Y1=!1,j1=!1,P$=!1,vT;(e=>e.type=new di.RequestType("antlers/generateHelp"))(vT||(vT={}));var NT;(e=>e.type=new di.RequestType("antlers/lockedits"))(NT||(NT={}));var ST;(e=>e.type=new di.RequestType("antlers/forcedFormat"))(ST||(ST={}));var PT;(e=>e.type=new di.RequestType("antlers/projectUpdate"))(PT||(PT={}));var AT;(e=>e.type=new di.RequestType("antlers/transform"))(AT||(AT={}));var ET;(e=>e.type=new di.RequestType0("antlers/semanticTokenLegend"))(ET||(ET={}));var CT;(e=>e.type=new di.RequestType("antlers/semanticTokens"))(CT||(CT={}));ze.onInitialize(t=>{let e=t.capabilities;Y1=!!(e.workspace&&!!e.workspace.configuration),j1=!!(e.workspace&&!!e.workspace.workspaceFolders),P$=!!(e.textDocument&&e.textDocument.publishDiagnostics&&e.textDocument.publishDiagnostics.relatedInformation);let i={capabilities:{textDocumentSync:di.TextDocumentSyncKind.Full,completionProvider:{resolveProvider:!0,triggerCharacters:[":",'"',"'","{","/","|","@"," "]},documentFormattingProvider:{},foldingRangeProvider:{},signatureHelpProvider:{triggerCharacters:[","]},documentLinkProvider:{},hoverProvider:{},definitionProvider:{},documentSymbolProvider:{},referencesProvider:{},documentHighlightProvider:{},codeActionProvider:{},executeCommandProvider:{commands:["antlers.extractToPartial"]}}};return j1&&(i.capabilities.workspace={workspaceFolders:{supported:!0}}),i});ze.onInitialized(()=>{Y1&&ze.client.register(di.DidChangeConfigurationNotification.type,void 0),ze.workspace.getConfiguration("html").then(function(t){Dy(t)}),ze.workspace.getConfiguration("antlersLanguageServer").then(function(t){t!=null?Xh(t):Xh(xT)})});ze.onExecuteCommand(async t=>{var e;t.command=="antlers.extractToPartial"&&cc.currentAction!=null&&((e=t.arguments)==null?void 0:e.length)==3&&cc.currentAction.completeRefactor({path:t.arguments[1],fsPath:t.arguments[2]})});ze.onDidChangeConfiguration(t=>{ze.workspace.getConfiguration("html").then(function(e){Dy(e)}),ze.workspace.getConfiguration("antlersLanguageServer").then(function(e){var i;if(e!=null){let r=kr(),n=e;if(Xh(n),n.diagnostics.reportDiagnostics==!1&&(i=ae.instance)!=null&&i.hasStructure()){let s=ae.instance.getStructure().getViews();for(let o=0;o<s.length;o++)ze.sendDiagnostics({uri:s[o].originalDocumentUri,diagnostics:[]})}r.languageVersion!=n.languageVersion&&SE(ze)}else Xh(xT)}),ou.all().forEach(K1),ou.all().forEach(wy),ou.all().forEach(e=>{wT(encodeURIComponent(e.uri))}),ou.all().forEach(e=>{ky(e,ze)})});ze.onDocumentLinks(t=>{let e=decodeURIComponent(t.textDocument.uri);return Lh.getDocumentLinks(e)});var RT=!1;ze.onRequest(NT.type,()=>{RT=!0});function A$(t){if(RT){RT=!1;return}K1(t.document),wy(t.document),wT(decodeURIComponent(t.document.uri)),ky(t.document,ze)}var E$=(0,W1.debounce)(OP,97);ou.onDidChangeContent(A$);ze.onDidChangeWatchedFiles(t=>{});ze.onHover(t=>wC(t));ze.onDocumentSymbol(t=>MC(t));ze.onDocumentHighlight(F1);ze.onReferences(D1);ze.onDefinition(kC);ze.onFoldingRanges(BP);ze.onSignatureHelp(xC);ze.onDocumentFormatting(CC);ze.onCompletion(E$);ze.onCompletionResolve(MP);ou.listen(ze);ze.onRequest(ET.type,t=>tT().legend);ze.onRequest(ST.type,t=>{let e=kr(),i=pc.format;return new Zl({tabSize:t.tabSize,formatFrontMatter:e.formatFrontMatter,insertSpaces:t.insertSpaces,formatExtensions:[],maxStatementsPerLine:3,htmlOptions:i}).formatDocument(xt.fromText(t.content),kr())});ze.onRequest(vT.type,t=>({didGenerate:!0,result:Qh.handle(t)}));ze.onRequest(AT.type,t=>{let e=new L1;e.load(t.content);let i=[];return e.getMapping().forEach((n,s)=>{i.push({find:s,replace:n})}),{shouldParse:e.getShouldFormat(),transformedText:e.getBuffer(),replacements:i}});ze.onCodeAction(vE);ze.onRequest(PT.type,()=>{var t,e,i,r,n;if((t=ae.instance)==null||t.setDirtyState(!0),(e=ae.instance)==null||e.reloadDetails(),(i=ae.instance)!=null&&i.hasStructure()){let s=(r=ae.instance)==null?void 0:r.getStructure();Re.setProject(s),(n=zo.instance)==null||n.updateProject(s)}});ze.onRequest(CT.type,(t,e)=>{let i=decodeURIComponent(t.textDocument.uri);if(xn.has(i)){let r=xn.get(i);return tT().getSemanticTokens(r,t.ranges)}return null});async function K1(t){var n,s,o,a,l,u,c,f,d;if((n=ae.instance)!=null&&n.hasStructure()){ae.instance.reloadDetails(),Re.setProject(ae.instance.getStructure());return}let e=decodeURIComponent(t.uri),i=S$(e),r=_T(i);if((s=ae.instance)==null||s.setActiveProject(r),(o=ae.instance)!=null&&o.hasStructure()&&(Re.setProject((a=ae.instance)==null?void 0:a.getStructure()),(u=zo.instance)==null||u.updateProject((l=ae.instance)==null?void 0:l.getStructure())),(c=yn.instance)==null||c.clearPartialReferences(e),(f=er.instance)==null||f.clearIssues(e),(d=ae.instance)!=null&&d.hasStructure()){let p=ae.instance.getStructure().getViews();for(let h=0;h<p.length;h++){let T=p[h];NE(T.documentUri,G1.readFileSync(T.path,{encoding:"utf8"})),wT(T.documentUri)}}}function Ey(t){let e={edit:t};ze.sendRequest("workspace/applyEdit",e)}function yT(t){var i}function wT(t){var e,i,r,n,s,o,a,l,u,c,f,d,p,h,T,N;if(t=decodeURIComponent(t),Re.hasDocument(t)){let _=Re.getDocument(t),g=_.getAllAntlersNodes();(e=er.instance)==null||e.clearIssues(t),(i=yn.instance)==null||i.clearAllReferences(t),Hs.clear(t);let y=[],x=[],L=[],E=[],U=[],w=[];for(let de=0;de<g.length;de++){let H=g[de],Z=H.getTagName();if(Z==="yield"||Z=="yields"){let te=H.reference;te!=null&&te instanceof cl&&y.push(te)}else if(Z==="partial")L.push(H);else if(Z==="cache")E.push(H);else if(H.runtimeName()=="session:set"||H.runtimeName()=="session:flash"){let te=H.reference;te!=null&&te instanceof zs&&x.push(te)}if(H.modifiers!=null){let te=H.modifiers.getModifierValue("partial");if(te!=null){let Q=(r=ae.instance)==null?void 0:r.getStructure().findPartial(te);Q!=null&&((n=yn.instance)==null||n.clearRemovesPageScope(Q.originalDocumentUri),(s=yn.instance)==null||s.setRemovesPageScope(Q.originalDocumentUri,H))}}if(H.isTagNode){let te=(o=Le.instance)==null?void 0:o.findTag(H.runtimeName());te!=null&&te.requiresClose&&H.isClosedBy==null&&H.isClosingTag==!1&&H.isSelfClosing==!1&&U.push(H)}else H.manifestType==="array"&&H.isClosedBy==null&&U.push(H);let ue=(l=(a=er.instance)==null?void 0:a.checkNode(H))!=null?l:[];ue.length>0&&(w=w.concat(ue))}let z=(c=(u=er.instance)==null?void 0:u.checkDocument(_))!=null?c:[];z.length>0&&(w=w.concat(z)),U.length>0&&Hs.registerNodes(t,U),(f=zo.instance)==null||f.registerInjections(t,L),(d=Bd.instance)==null||d.registerDocumentSections(t,y),(p=yn.instance)==null||p.registerPartialReferences(t,L),(h=yn.instance)==null||h.registerCacheReferences(t,E),(T=er.instance)==null||T.registerDiagnostics(t,w),(N=Yo.instance)==null||N.registerDocumentSessionVariables(t,x)}}ze.listen();0&&(module.exports={getAntlersSettings,globalSettings,requestEdits,sendProjectDetails});
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
