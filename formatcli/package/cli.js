#!/usr/bin/env node
var pD=Object.create;var Xf=Object.defineProperty;var dD=Object.getOwnPropertyDescriptor;var mD=Object.getOwnPropertyNames;var hD=Object.getPrototypeOf,gD=Object.prototype.hasOwnProperty;var _D=t=>Xf(t,"__esModule",{value:!0});var X=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var yD=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of mD(e))!gD.call(t,i)&&(n||i!=="default")&&Xf(t,i,{get:()=>e[i],enumerable:!(r=dD(e,i))||r.enumerable});return t},je=(t,e)=>yD(_D(Xf(t!=null?pD(hD(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var gu=X(tp=>{"use strict";Object.defineProperty(tp,"__esModule",{value:!0});var Pg=function(){function t(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return t.hashStr=function(e,n){return n===void 0&&(n=!1),this.onePassHasher.start().appendStr(e).end(n)},t.hashAsciiStr=function(e,n){return n===void 0&&(n=!1),this.onePassHasher.start().appendAsciiStr(e).end(n)},t._hex=function(e){var n=t.hexChars,r=t.hexOut,i,s,a,o;for(o=0;o<4;o+=1)for(s=o*8,i=e[o],a=0;a<8;a+=2)r[s+1+a]=n.charAt(i&15),i>>>=4,r[s+0+a]=n.charAt(i&15),i>>>=4;return r.join("")},t._md5cycle=function(e,n){var r=e[0],i=e[1],s=e[2],a=e[3];r+=(i&s|~i&a)+n[0]-680876936|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[1]-389564586|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[2]+606105819|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[3]-1044525330|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&a)+n[4]-176418897|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[5]+1200080426|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[6]-1473231341|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[7]-45705983|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&a)+n[8]+1770035416|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[9]-1958414417|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[10]-42063|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[11]-1990404162|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&a)+n[12]+1804603682|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[13]-40341101|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[14]-1502002290|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[15]+1236535329|0,i=(i<<22|i>>>10)+s|0,r+=(i&a|s&~a)+n[1]-165796510|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[6]-1069501632|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[11]+643717713|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[0]-373897302|0,i=(i<<20|i>>>12)+s|0,r+=(i&a|s&~a)+n[5]-701558691|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[10]+38016083|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[15]-660478335|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[4]-405537848|0,i=(i<<20|i>>>12)+s|0,r+=(i&a|s&~a)+n[9]+568446438|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[14]-1019803690|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[3]-187363961|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[8]+1163531501|0,i=(i<<20|i>>>12)+s|0,r+=(i&a|s&~a)+n[13]-1444681467|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[2]-51403784|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[7]+1735328473|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[12]-1926607734|0,i=(i<<20|i>>>12)+s|0,r+=(i^s^a)+n[5]-378558|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[8]-2022574463|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[11]+1839030562|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[14]-35309556|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^a)+n[1]-1530992060|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[4]+1272893353|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[7]-155497632|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[10]-1094730640|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^a)+n[13]+681279174|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[0]-358537222|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[3]-722521979|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[6]+76029189|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^a)+n[9]-640364487|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[12]-421815835|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[15]+530742520|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[2]-995338651|0,i=(i<<23|i>>>9)+s|0,r+=(s^(i|~a))+n[0]-198630844|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[7]+1126891415|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[14]-1416354905|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[5]-57434055|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~a))+n[12]+1700485571|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[3]-1894986606|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[10]-1051523|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[1]-2054922799|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~a))+n[8]+1873313359|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[15]-30611744|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[6]-1560198380|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[13]+1309151649|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~a))+n[4]-145523070|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[11]-1120210379|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[2]+718787259|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[9]-343485551|0,i=(i<<21|i>>>11)+s|0,e[0]=r+e[0]|0,e[1]=i+e[1]|0,e[2]=s+e[2]|0,e[3]=a+e[3]|0},t.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this},t.prototype.appendStr=function(e){var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,a;for(a=0;a<e.length;a+=1){if(s=e.charCodeAt(a),s<128)n[i++]=s;else if(s<2048)n[i++]=(s>>>6)+192,n[i++]=s&63|128;else if(s<55296||s>56319)n[i++]=(s>>>12)+224,n[i++]=s>>>6&63|128,n[i++]=s&63|128;else{if(s=(s-55296)*1024+(e.charCodeAt(++a)-56320)+65536,s>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");n[i++]=(s>>>18)+240,n[i++]=s>>>12&63|128,n[i++]=s>>>6&63|128,n[i++]=s&63|128}i>=64&&(this._dataLength+=64,t._md5cycle(this._state,r),i-=64,r[0]=r[16])}return this._bufferLength=i,this},t.prototype.appendAsciiStr=function(e){for(var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,a=0;;){for(s=Math.min(e.length-a,64-i);s--;)n[i++]=e.charCodeAt(a++);if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,r),i=0}return this._bufferLength=i,this},t.prototype.appendByteArray=function(e){for(var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,a=0;;){for(s=Math.min(e.length-a,64-i);s--;)n[i++]=e[a++];if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,r),i=0}return this._bufferLength=i,this},t.prototype.getState=function(){var e=this,n=e._state;return{buffer:String.fromCharCode.apply(null,e._buffer8),buflen:e._bufferLength,length:e._dataLength,state:[n[0],n[1],n[2],n[3]]}},t.prototype.setState=function(e){var n=e.buffer,r=e.state,i=this._state,s;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],s=0;s<n.length;s+=1)this._buffer8[s]=n.charCodeAt(s)},t.prototype.end=function(e){e===void 0&&(e=!1);var n=this._bufferLength,r=this._buffer8,i=this._buffer32,s=(n>>2)+1,a;if(this._dataLength+=n,r[n]=128,r[n+1]=r[n+2]=r[n+3]=0,i.set(t.buffer32Identity.subarray(s),s),n>55&&(t._md5cycle(this._state,i),i.set(t.buffer32Identity)),a=this._dataLength*8,a<=4294967295)i[14]=a;else{var o=a.toString(16).match(/(.*?)(.{0,8})$/);if(o===null)return;var l=parseInt(o[2],16),u=parseInt(o[1],16)||0;i[14]=l,i[15]=u}return t._md5cycle(this._state,i),e?this._state:t._hex(this._state)},t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,t}();tp.Md5=Pg;Pg.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592"&&console.error("Md5 self test failed.")});var bu=X(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.thenable=Bt.typedArray=Bt.stringArray=Bt.array=Bt.func=Bt.error=Bt.number=Bt.string=Bt.boolean=void 0;function AD(t){return t===!0||t===!1}Bt.boolean=AD;function Ag(t){return typeof t=="string"||t instanceof String}Bt.string=Ag;function ID(t){return typeof t=="number"||t instanceof Number}Bt.number=ID;function ED(t){return t instanceof Error}Bt.error=ED;function Ig(t){return typeof t=="function"}Bt.func=Ig;function Eg(t){return Array.isArray(t)}Bt.array=Eg;function xD(t){return Eg(t)&&t.every(e=>Ag(e))}Bt.stringArray=xD;function RD(t,e){return Array.isArray(t)&&t.every(e)}Bt.typedArray=RD;function wD(t){return t&&Ig(t.then)}Bt.thenable=wD});var Ri=X(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});var fp;function pp(){if(fp===void 0)throw new Error("No runtime abstraction layer installed");return fp}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");fp=n}t.install=e})(pp||(pp={}));dp.default=pp});var mp=X(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.Disposable=void 0;var OD;(function(t){function e(n){return{dispose:n}}t.create=e})(OD=Zo.Disposable||(Zo.Disposable={}))});var Rg=X(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.AbstractMessageBuffer=void 0;var FD=13,LD=10,kD=`\r
`,xg=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,n=0,r=0,i=0;e:for(;n<this._chunks.length;){let l=this._chunks[n];r=0;t:for(;r<l.length;){switch(l[r]){case FD:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case LD:switch(e){case 1:e=2;break;case 3:e=4,r++;break e;default:e=0}break;default:e=0}r++}i+=l.byteLength,n++}if(e!==4)return;let s=this._read(i+r),a=new Map,o=this.toString(s,"ascii").split(kD);if(o.length<2)return a;for(let l=0;l<o.length-2;l++){let u=o[l],c=u.indexOf(":");if(c===-1)throw new Error("Message header must separate key and value using :");let f=u.substr(0,c),d=u.substr(c+1).trim();a.set(f,d)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],a=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,a}let n=this.allocNative(e),r=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let a=s.slice(0,e);n.set(a,r),r+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};Tu.AbstractMessageBuffer=xg});var kg=X(gp=>{"use strict";Object.defineProperty(gp,"__esModule",{value:!0});var MD=Ri(),wg=require("util"),Fs=mp(),BD=Rg(),el=class extends BD.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return el.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new wg.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};el.emptyBuffer=Buffer.allocUnsafe(0);var Og=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Fs.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Fs.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Fs.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),Fs.Disposable.create(()=>this.stream.off("data",e))}},Fg=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Fs.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Fs.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Fs.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,i)=>{let s=a=>{a==null?r():i(a)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},Lg=Object.freeze({messageBuffer:Object.freeze({create:t=>new el(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new wg.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new Og(t),asWritableStream:t=>new Fg(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){return setTimeout(t,e,...n)},clearTimeout(t){clearTimeout(t)},setImmediate(t,...e){return setImmediate(t,...e)},clearImmediate(t){clearImmediate(t)}})});function hp(){return Lg}(function(t){function e(){MD.default.install(Lg)}t.install=e})(hp||(hp={}));gp.default=hp});var Sa=X(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.stringArray=gn.array=gn.func=gn.error=gn.number=gn.string=gn.boolean=void 0;function VD(t){return t===!0||t===!1}gn.boolean=VD;function Mg(t){return typeof t=="string"||t instanceof String}gn.string=Mg;function qD(t){return typeof t=="number"||t instanceof Number}gn.number=qD;function jD(t){return t instanceof Error}gn.error=jD;function UD(t){return typeof t=="function"}gn.func=UD;function Bg(t){return Array.isArray(t)}gn.array=Bg;function WD(t){return Bg(t)&&t.every(e=>Mg(e))}gn.stringArray=WD});var _p=X(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.isResponseMessage=ye.isNotificationMessage=ye.isRequestMessage=ye.NotificationType9=ye.NotificationType8=ye.NotificationType7=ye.NotificationType6=ye.NotificationType5=ye.NotificationType4=ye.NotificationType3=ye.NotificationType2=ye.NotificationType1=ye.NotificationType0=ye.NotificationType=ye.RequestType9=ye.RequestType8=ye.RequestType7=ye.RequestType6=ye.RequestType5=ye.RequestType4=ye.RequestType3=ye.RequestType2=ye.RequestType1=ye.RequestType=ye.RequestType0=ye.AbstractMessageSignature=ye.ParameterStructures=ye.ResponseError=ye.ErrorCodes=void 0;var Ls=Sa(),Vg;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=t.jsonrpcReservedErrorRangeStart,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=t.jsonrpcReservedErrorRangeEnd})(Vg=ye.ErrorCodes||(ye.ErrorCodes={}));var vu=class extends Error{constructor(e,n,r){super(n);this.code=Ls.number(e)?e:Vg.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,vu.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};ye.ResponseError=vu;var fn=class{constructor(e){this.kind=e}static is(e){return e===fn.auto||e===fn.byName||e===fn.byPosition}toString(){return this.kind}};ye.ParameterStructures=fn;fn.auto=new fn("auto");fn.byPosition=new fn("byPosition");fn.byName=new fn("byName");var Tt=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return fn.auto}};ye.AbstractMessageSignature=Tt;var qg=class extends Tt{constructor(e){super(e,0)}};ye.RequestType0=qg;var jg=class extends Tt{constructor(e,n=fn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ye.RequestType=jg;var Ug=class extends Tt{constructor(e,n=fn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ye.RequestType1=Ug;var Wg=class extends Tt{constructor(e){super(e,2)}};ye.RequestType2=Wg;var Gg=class extends Tt{constructor(e){super(e,3)}};ye.RequestType3=Gg;var Yg=class extends Tt{constructor(e){super(e,4)}};ye.RequestType4=Yg;var Hg=class extends Tt{constructor(e){super(e,5)}};ye.RequestType5=Hg;var $g=class extends Tt{constructor(e){super(e,6)}};ye.RequestType6=$g;var Kg=class extends Tt{constructor(e){super(e,7)}};ye.RequestType7=Kg;var zg=class extends Tt{constructor(e){super(e,8)}};ye.RequestType8=zg;var Xg=class extends Tt{constructor(e){super(e,9)}};ye.RequestType9=Xg;var Qg=class extends Tt{constructor(e,n=fn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ye.NotificationType=Qg;var Jg=class extends Tt{constructor(e){super(e,0)}};ye.NotificationType0=Jg;var Zg=class extends Tt{constructor(e,n=fn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ye.NotificationType1=Zg;var e_=class extends Tt{constructor(e){super(e,2)}};ye.NotificationType2=e_;var t_=class extends Tt{constructor(e){super(e,3)}};ye.NotificationType3=t_;var n_=class extends Tt{constructor(e){super(e,4)}};ye.NotificationType4=n_;var r_=class extends Tt{constructor(e){super(e,5)}};ye.NotificationType5=r_;var i_=class extends Tt{constructor(e){super(e,6)}};ye.NotificationType6=i_;var s_=class extends Tt{constructor(e){super(e,7)}};ye.NotificationType7=s_;var a_=class extends Tt{constructor(e){super(e,8)}};ye.NotificationType8=a_;var o_=class extends Tt{constructor(e){super(e,9)}};ye.NotificationType9=o_;function GD(t){let e=t;return e&&Ls.string(e.method)&&(Ls.string(e.id)||Ls.number(e.id))}ye.isRequestMessage=GD;function YD(t){let e=t;return e&&Ls.string(e.method)&&t.id===void 0}ye.isNotificationMessage=YD;function HD(t){let e=t;return e&&(e.result!==void 0||!!e.error)&&(Ls.string(e.id)||Ls.number(e.id)||e.id===null)}ye.isResponseMessage=HD});var Aa=X(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.Emitter=ks.Event=void 0;var $D=Ri(),KD;(function(t){let e={dispose(){}};t.None=function(){return e}})(KD=ks.Event||(ks.Event={}));var l_=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,a=r.length;s<a;s++)try{n.push(r[s].apply(i[s],e))}catch(o){$D.default().console.error(o)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},tl=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new l_),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:()=>{!this._callbacks||(this._callbacks.remove(e,n),i.dispose=tl._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};ks.Emitter=tl;tl._noop=function(){}});var vp=X(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.CancellationTokenSource=Ms.CancellationToken=void 0;var u_=Ri(),zD=Sa(),yp=Aa(),bp;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:yp.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:yp.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||zD.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(bp=Ms.CancellationToken||(Ms.CancellationToken={}));var XD=Object.freeze(function(t,e){let n=u_.default().timer.setTimeout(t.bind(e),0);return{dispose(){u_.default().timer.clearTimeout(n)}}}),Tp=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?XD:(this._emitter||(this._emitter=new yp.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},c_=class{get token(){return this._token||(this._token=new Tp),this._token}cancel(){this._token?this._token.cancel():this._token=bp.Cancelled}dispose(){this._token?this._token instanceof Tp&&this._token.dispose():this._token=bp.None}};Ms.CancellationTokenSource=c_});var p_=X(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.ReadableStreamMessageReader=wi.AbstractMessageReader=wi.MessageReader=void 0;var Nu=Ri(),Ia=Sa(),Np=Aa(),QD;(function(t){function e(n){let r=n;return r&&Ia.func(r.listen)&&Ia.func(r.dispose)&&Ia.func(r.onError)&&Ia.func(r.onClose)&&Ia.func(r.onPartialMessage)}t.is=e})(QD=wi.MessageReader||(wi.MessageReader={}));var Cp=class{constructor(){this.errorEmitter=new Np.Emitter,this.closeEmitter=new Np.Emitter,this.partialMessageEmitter=new Np.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Ia.string(e.message)?e.message:"unknown"}`)}};wi.AbstractMessageReader=Cp;var Pp;(function(t){function e(n){var r;let i,s,a,o=new Map,l,u=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=(r=n.charset)!==null&&r!==void 0?r:"utf-8",n.contentDecoder!==void 0&&(a=n.contentDecoder,o.set(a.name,a)),n.contentDecoders!==void 0)for(let c of n.contentDecoders)o.set(c.name,c);if(n.contentTypeDecoder!==void 0&&(l=n.contentTypeDecoder,u.set(l.name,l)),n.contentTypeDecoders!==void 0)for(let c of n.contentTypeDecoders)u.set(c.name,c)}return l===void 0&&(l=Nu.default().applicationJson.decoder,u.set(l.name,l)),{charset:i,contentDecoder:a,contentDecoders:o,contentTypeDecoder:l,contentTypeDecoders:u}}t.fromOptions=e})(Pp||(Pp={}));var f_=class extends Cp{constructor(e,n){super();this.readable=e,this.options=Pp.fromOptions(n),this.buffer=Nu.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let s=i.get("Content-Length");if(!s)throw new Error("Header must provide a Content-Length property.");let a=parseInt(s);if(isNaN(a))throw new Error("Content-Length value must be a number.");this.nextMessageLength=a}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(n):r=Promise.resolve(n),r.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(s=>{this.callback(s)},s=>{this.fireError(s)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(Nu.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=Nu.default().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};wi.ReadableStreamMessageReader=f_});var m_=X(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.Semaphore=void 0;var JD=Ri(),d_=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||JD.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};Cu.Semaphore=d_});var b_=X(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.WriteableStreamMessageWriter=Oi.AbstractMessageWriter=Oi.MessageWriter=void 0;var h_=Ri(),nl=Sa(),ZD=m_(),g_=Aa(),eS="Content-Length: ",__=`\r
`,tS;(function(t){function e(n){let r=n;return r&&nl.func(r.dispose)&&nl.func(r.onClose)&&nl.func(r.onError)&&nl.func(r.write)}t.is=e})(tS=Oi.MessageWriter||(Oi.MessageWriter={}));var Dp=class{constructor(){this.errorEmitter=new g_.Emitter,this.closeEmitter=new g_.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${nl.string(e.message)?e.message:"unknown"}`)}};Oi.AbstractMessageWriter=Dp;var Sp;(function(t){function e(n){var r,i;return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:h_.default().applicationJson.encoder}:{charset:(r=n.charset)!==null&&r!==void 0?r:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(i=n.contentTypeEncoder)!==null&&i!==void 0?i:h_.default().applicationJson.encoder}}t.fromOptions=e})(Sp||(Sp={}));var y_=class extends Dp{constructor(e,n){super();this.writable=e,this.options=Sp.fromOptions(n),this.errorCount=0,this.writeSemaphore=new ZD.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(eS,r.byteLength.toString(),__),i.push(__),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};Oi.WriteableStreamMessageWriter=y_});var v_=X(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});Fi.LRUCache=Fi.LinkedMap=Fi.Touch=void 0;var Sn;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(Sn=Fi.Touch||(Fi.Touch={}));var Ap=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,n=Sn.None){let r=this._map.get(e);if(!!r)return n!==Sn.None&&this.touch(r,n),r.value}set(e,n,r=Sn.None){let i=this._map.get(e);if(i)i.value=n,r!==Sn.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case Sn.None:this.addItemLast(i);break;case Sn.First:this.addItemFirst(i);break;case Sn.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(!!n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.key,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}values(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.value,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}entries(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:[r.key,r.value],done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==Sn.First&&n!==Sn.Last)){if(n===Sn.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===Sn.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};Fi.LinkedMap=Ap;var T_=class extends Ap{constructor(e,n=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=Sn.AsNew){return super.get(e,n)}peek(e){return super.get(e,Sn.None)}set(e,n){return super.set(e,n,Sn.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Fi.LRUCache=T_});var A_=X(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.createMessageConnection=Oe.ConnectionOptions=Oe.CancellationStrategy=Oe.CancellationSenderStrategy=Oe.CancellationReceiverStrategy=Oe.ConnectionStrategy=Oe.ConnectionError=Oe.ConnectionErrors=Oe.LogTraceNotification=Oe.SetTraceNotification=Oe.TraceFormat=Oe.Trace=Oe.NullLogger=Oe.ProgressType=void 0;var N_=Ri(),nn=Sa(),xe=_p(),C_=v_(),rl=Aa(),Ip=vp(),il;(function(t){t.type=new xe.NotificationType("$/cancelRequest")})(il||(il={}));var Pu;(function(t){t.type=new xe.NotificationType("$/progress")})(Pu||(Pu={}));var P_=class{constructor(){}};Oe.ProgressType=P_;var Ep;(function(t){function e(n){return nn.func(n)}t.is=e})(Ep||(Ep={}));Oe.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Vt;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose"})(Vt=Oe.Trace||(Oe.Trace={}));(function(t){function e(r){if(!nn.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(Vt=Oe.Trace||(Oe.Trace={}));var Kr;(function(t){t.Text="text",t.JSON="json"})(Kr=Oe.TraceFormat||(Oe.TraceFormat={}));(function(t){function e(n){return n=n.toLowerCase(),n==="json"?t.JSON:t.Text}t.fromString=e})(Kr=Oe.TraceFormat||(Oe.TraceFormat={}));var D_;(function(t){t.type=new xe.NotificationType("$/setTrace")})(D_=Oe.SetTraceNotification||(Oe.SetTraceNotification={}));var xp;(function(t){t.type=new xe.NotificationType("$/logTrace")})(xp=Oe.LogTraceNotification||(Oe.LogTraceNotification={}));var Du;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(Du=Oe.ConnectionErrors||(Oe.ConnectionErrors={}));var Bs=class extends Error{constructor(e,n){super(n);this.code=e,Object.setPrototypeOf(this,Bs.prototype)}};Oe.ConnectionError=Bs;var S_;(function(t){function e(n){let r=n;return r&&nn.func(r.cancelUndispatched)}t.is=e})(S_=Oe.ConnectionStrategy||(Oe.ConnectionStrategy={}));var Rp;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new Ip.CancellationTokenSource}});function e(n){let r=n;return r&&nn.func(r.createCancellationTokenSource)}t.is=e})(Rp=Oe.CancellationReceiverStrategy||(Oe.CancellationReceiverStrategy={}));var wp;(function(t){t.Message=Object.freeze({sendCancellation(n,r){n.sendNotification(il.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&nn.func(r.sendCancellation)&&nn.func(r.cleanup)}t.is=e})(wp=Oe.CancellationSenderStrategy||(Oe.CancellationSenderStrategy={}));var Op;(function(t){t.Message=Object.freeze({receiver:Rp.Message,sender:wp.Message});function e(n){let r=n;return r&&Rp.is(r.receiver)&&wp.is(r.sender)}t.is=e})(Op=Oe.CancellationStrategy||(Oe.CancellationStrategy={}));var nS;(function(t){function e(n){let r=n;return r&&(Op.is(r.cancellationStrategy)||S_.is(r.connectionStrategy))}t.is=e})(nS=Oe.ConnectionOptions||(Oe.ConnectionOptions={}));var zr;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(zr||(zr={}));function rS(t,e,n,r){let i=n!==void 0?n:Oe.NullLogger,s=0,a=0,o=0,l="2.0",u,c=Object.create(null),f,d=Object.create(null),_=new Map,p,m=new C_.LinkedMap,g=Object.create(null),h=Object.create(null),b=Vt.Off,y=Kr.Text,x,D=zr.New,G=new rl.Emitter,q=new rl.Emitter,C=new rl.Emitter,U=new rl.Emitter,Z=new rl.Emitter,Y=r&&r.cancellationStrategy?r.cancellationStrategy:Op.Message;function Q(R){if(R===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+R.toString()}function se(R){return R===null?"res-unknown-"+(++o).toString():"res-"+R.toString()}function ce(){return"not-"+(++a).toString()}function re(R,I){xe.isRequestMessage(I)?R.set(Q(I.id),I):xe.isResponseMessage(I)?R.set(se(I.id),I):R.set(ce(),I)}function ve(R){}function rt(){return D===zr.Listening}function Jt(){return D===zr.Closed}function Ze(){return D===zr.Disposed}function it(){(D===zr.New||D===zr.Listening)&&(D=zr.Closed,q.fire(void 0))}function me(R){G.fire([R,void 0,void 0])}function Re(R){G.fire(R)}t.onClose(it),t.onError(me),e.onClose(it),e.onError(Re);function Ge(){p||m.size===0||(p=N_.default().timer.setImmediate(()=>{p=void 0,ee()}))}function ee(){if(m.size===0)return;let R=m.shift();try{xe.isRequestMessage(R)?ot(R):xe.isNotificationMessage(R)?vn(R):xe.isResponseMessage(R)?xt(R):Si(R)}finally{Ge()}}let pt=R=>{try{if(xe.isNotificationMessage(R)&&R.method===il.type.method){let I=Q(R.params.id),v=m.get(I);if(xe.isRequestMessage(v)){let E=r==null?void 0:r.connectionStrategy,F=E&&E.cancelUndispatched?E.cancelUndispatched(v,ve):void 0;if(F&&(F.error!==void 0||F.result!==void 0)){m.delete(I),F.id=v.id,Hi(F,R.method,Date.now()),e.write(F);return}}}re(m,R)}finally{Ge()}};function ot(R){if(Ze())return;function I(j,de,Ce){let qe={jsonrpc:l,id:R.id};j instanceof xe.ResponseError?qe.error=j.toJson():qe.result=j===void 0?null:j,Hi(qe,de,Ce),e.write(qe)}function v(j,de,Ce){let qe={jsonrpc:l,id:R.id,error:j.toJson()};Hi(qe,de,Ce),e.write(qe)}function E(j,de,Ce){j===void 0&&(j=null);let qe={jsonrpc:l,id:R.id,result:j};Hi(qe,de,Ce),e.write(qe)}Gn(R);let F=c[R.method],S,T;F&&(S=F.type,T=F.handler);let L=Date.now();if(T||u){let j=String(R.id),de=Y.receiver.createCancellationTokenSource(j);h[j]=de;try{let Ce;if(T)if(R.params===void 0){if(S!==void 0&&S.numberOfParams!==0){v(new xe.ResponseError(xe.ErrorCodes.InvalidParams,`Request ${R.method} defines ${S.numberOfParams} params but recevied none.`),R.method,L);return}Ce=T(de.token)}else if(Array.isArray(R.params)){if(S!==void 0&&S.parameterStructures===xe.ParameterStructures.byName){v(new xe.ResponseError(xe.ErrorCodes.InvalidParams,`Request ${R.method} defines parameters by name but received parameters by position`),R.method,L);return}Ce=T(...R.params,de.token)}else{if(S!==void 0&&S.parameterStructures===xe.ParameterStructures.byPosition){v(new xe.ResponseError(xe.ErrorCodes.InvalidParams,`Request ${R.method} defines parameters by position but received parameters by name`),R.method,L);return}Ce=T(R.params,de.token)}else u&&(Ce=u(R.method,R.params,de.token));let qe=Ce;Ce?qe.then?qe.then(dt=>{delete h[j],I(dt,R.method,L)},dt=>{delete h[j],dt instanceof xe.ResponseError?v(dt,R.method,L):dt&&nn.string(dt.message)?v(new xe.ResponseError(xe.ErrorCodes.InternalError,`Request ${R.method} failed with message: ${dt.message}`),R.method,L):v(new xe.ResponseError(xe.ErrorCodes.InternalError,`Request ${R.method} failed unexpectedly without providing any details.`),R.method,L)}):(delete h[j],I(Ce,R.method,L)):(delete h[j],E(Ce,R.method,L))}catch(Ce){delete h[j],Ce instanceof xe.ResponseError?I(Ce,R.method,L):Ce&&nn.string(Ce.message)?v(new xe.ResponseError(xe.ErrorCodes.InternalError,`Request ${R.method} failed with message: ${Ce.message}`),R.method,L):v(new xe.ResponseError(xe.ErrorCodes.InternalError,`Request ${R.method} failed unexpectedly without providing any details.`),R.method,L)}}else v(new xe.ResponseError(xe.ErrorCodes.MethodNotFound,`Unhandled method ${R.method}`),R.method,L)}function xt(R){if(!Ze())if(R.id===null)R.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(R.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let I=String(R.id),v=g[I];if(w(R,v),v){delete g[I];try{if(R.error){let E=R.error;v.reject(new xe.ResponseError(E.code,E.message,E.data))}else if(R.result!==void 0)v.resolve(R.result);else throw new Error("Should never happen.")}catch(E){E.message?i.error(`Response handler '${v.method}' failed with message: ${E.message}`):i.error(`Response handler '${v.method}' failed unexpectedly.`)}}}}function vn(R){if(Ze())return;let I,v;if(R.method===il.type.method)v=E=>{let F=E.id,S=h[String(F)];S&&S.cancel()};else{let E=d[R.method];E&&(v=E.handler,I=E.type)}if(v||f)try{Wo(R),v?R.params===void 0?(I!==void 0&&I.numberOfParams!==0&&I.parameterStructures!==xe.ParameterStructures.byName&&i.error(`Notification ${R.method} defines ${I.numberOfParams} params but recevied none.`),v()):Array.isArray(R.params)?(I!==void 0&&(I.parameterStructures===xe.ParameterStructures.byName&&i.error(`Notification ${R.method} defines parameters by name but received parameters by position`),I.numberOfParams!==R.params.length&&i.error(`Notification ${R.method} defines ${I.numberOfParams} params but received ${R.params.length} argumennts`)),v(...R.params)):(I!==void 0&&I.parameterStructures===xe.ParameterStructures.byPosition&&i.error(`Notification ${R.method} defines parameters by position but received parameters by name`),v(R.params)):f&&f(R.method,R.params)}catch(E){E.message?i.error(`Notification handler '${R.method}' failed with message: ${E.message}`):i.error(`Notification handler '${R.method}' failed unexpectedly.`)}else C.fire(R)}function Si(R){if(!R){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(R,null,4)}`);let I=R;if(nn.string(I.id)||nn.number(I.id)){let v=String(I.id),E=g[v];E&&E.reject(new Error("The received response has neither a result nor an error property."))}}function ui(R){if(!(b===Vt.Off||!x))if(y===Kr.Text){let I;b===Vt.Verbose&&R.params&&(I=`Params: ${JSON.stringify(R.params,null,4)}

`),x.log(`Sending request '${R.method} - (${R.id})'.`,I)}else M("send-request",R)}function Uo(R){if(!(b===Vt.Off||!x))if(y===Kr.Text){let I;b===Vt.Verbose&&(R.params?I=`Params: ${JSON.stringify(R.params,null,4)}

`:I=`No parameters provided.

`),x.log(`Sending notification '${R.method}'.`,I)}else M("send-notification",R)}function Hi(R,I,v){if(!(b===Vt.Off||!x))if(y===Kr.Text){let E;b===Vt.Verbose&&(R.error&&R.error.data?E=`Error data: ${JSON.stringify(R.error.data,null,4)}

`:R.result?E=`Result: ${JSON.stringify(R.result,null,4)}

`:R.error===void 0&&(E=`No result returned.

`)),x.log(`Sending response '${I} - (${R.id})'. Processing request took ${Date.now()-v}ms`,E)}else M("send-response",R)}function Gn(R){if(!(b===Vt.Off||!x))if(y===Kr.Text){let I;b===Vt.Verbose&&R.params&&(I=`Params: ${JSON.stringify(R.params,null,4)}

`),x.log(`Received request '${R.method} - (${R.id})'.`,I)}else M("receive-request",R)}function Wo(R){if(!(b===Vt.Off||!x||R.method===xp.type.method))if(y===Kr.Text){let I;b===Vt.Verbose&&(R.params?I=`Params: ${JSON.stringify(R.params,null,4)}

`:I=`No parameters provided.

`),x.log(`Received notification '${R.method}'.`,I)}else M("receive-notification",R)}function w(R,I){if(!(b===Vt.Off||!x))if(y===Kr.Text){let v;if(b===Vt.Verbose&&(R.error&&R.error.data?v=`Error data: ${JSON.stringify(R.error.data,null,4)}

`:R.result?v=`Result: ${JSON.stringify(R.result,null,4)}

`:R.error===void 0&&(v=`No result returned.

`)),I){let E=R.error?` Request failed: ${R.error.message} (${R.error.code}).`:"";x.log(`Received response '${I.method} - (${R.id})' in ${Date.now()-I.timerStart}ms.${E}`,v)}else x.log(`Received response ${R.id} without active response promise.`,v)}else M("receive-response",R)}function M(R,I){if(!x||b===Vt.Off)return;let v={isLSPMessage:!0,type:R,message:I,timestamp:Date.now()};x.log(v)}function ie(){if(Jt())throw new Bs(Du.Closed,"Connection is closed.");if(Ze())throw new Bs(Du.Disposed,"Connection is disposed.")}function H(){if(rt())throw new Bs(Du.AlreadyListening,"Connection is already listening")}function k(){if(!rt())throw new Error("Call listen() first.")}function pe(R){return R===void 0?null:R}function ue(R){if(R!==null)return R}function _e(R){return R!=null&&!Array.isArray(R)&&typeof R=="object"}function bt(R,I){switch(R){case xe.ParameterStructures.auto:return _e(I)?ue(I):[pe(I)];case xe.ParameterStructures.byName:if(!_e(I))throw new Error("Recevied parameters by name but param is not an object literal.");return ue(I);case xe.ParameterStructures.byPosition:return[pe(I)];default:throw new Error(`Unknown parameter structure ${R.toString()}`)}}function Lt(R,I){let v,E=R.numberOfParams;switch(E){case 0:v=void 0;break;case 1:v=bt(R.parameterStructures,I[0]);break;default:v=[];for(let F=0;F<I.length&&F<E;F++)v.push(pe(I[F]));if(I.length<E)for(let F=I.length;F<E;F++)v.push(null);break}return v}let $i={sendNotification:(R,...I)=>{ie();let v,E;if(nn.string(R)){v=R;let S=I[0],T=0,L=xe.ParameterStructures.auto;xe.ParameterStructures.is(S)&&(T=1,L=S);let j=I.length,de=j-T;switch(de){case 0:E=void 0;break;case 1:E=bt(L,I[T]);break;default:if(L===xe.ParameterStructures.byName)throw new Error(`Recevied ${de} parameters for 'by Name' notification parameter structure.`);E=I.slice(T,j).map(Ce=>pe(Ce));break}}else{let S=I;v=R.method,E=Lt(R,S)}let F={jsonrpc:l,method:v,params:E};Uo(F),e.write(F)},onNotification:(R,I)=>{ie();let v;return nn.func(R)?f=R:I&&(nn.string(R)?(v=R,d[R]={type:void 0,handler:I}):(v=R.method,d[R.method]={type:R,handler:I})),{dispose:()=>{v!==void 0?delete d[v]:f=void 0}}},onProgress:(R,I,v)=>{if(_.has(I))throw new Error(`Progress handler for token ${I} already registered`);return _.set(I,v),{dispose:()=>{_.delete(I)}}},sendProgress:(R,I,v)=>{$i.sendNotification(Pu.type,{token:I,value:v})},onUnhandledProgress:U.event,sendRequest:(R,...I)=>{ie(),k();let v,E,F;if(nn.string(R)){v=R;let j=I[0],de=I[I.length-1],Ce=0,qe=xe.ParameterStructures.auto;xe.ParameterStructures.is(j)&&(Ce=1,qe=j);let dt=I.length;Ip.CancellationToken.is(de)&&(dt=dt-1,F=de);let Gt=dt-Ce;switch(Gt){case 0:E=void 0;break;case 1:E=bt(qe,I[Ce]);break;default:if(qe===xe.ParameterStructures.byName)throw new Error(`Recevied ${Gt} parameters for 'by Name' request parameter structure.`);E=I.slice(Ce,dt).map(Zt=>pe(Zt));break}}else{let j=I;v=R.method,E=Lt(R,j);let de=R.numberOfParams;F=Ip.CancellationToken.is(j[de])?j[de]:void 0}let S=s++,T;return F&&(T=F.onCancellationRequested(()=>{Y.sender.sendCancellation($i,S)})),new Promise((j,de)=>{let Ce={jsonrpc:l,id:S,method:v,params:E},qe=Zt=>{j(Zt),Y.sender.cleanup(S),T==null||T.dispose()},dt=Zt=>{de(Zt),Y.sender.cleanup(S),T==null||T.dispose()},Gt={method:v,timerStart:Date.now(),resolve:qe,reject:dt};ui(Ce);try{e.write(Ce)}catch(Zt){Gt.reject(new xe.ResponseError(xe.ErrorCodes.MessageWriteError,Zt.message?Zt.message:"Unknown reason")),Gt=null}Gt&&(g[String(S)]=Gt)})},onRequest:(R,I)=>{ie();let v=null;return Ep.is(R)?(v=void 0,u=R):nn.string(R)?(v=null,I!==void 0&&(v=R,c[R]={handler:I,type:void 0})):I!==void 0&&(v=R.method,c[R.method]={type:R,handler:I}),{dispose:()=>{v!==null&&(v!==void 0?delete c[v]:u=void 0)}}},trace:(R,I,v)=>{let E=!1,F=Kr.Text;v!==void 0&&(nn.boolean(v)?E=v:(E=v.sendNotification||!1,F=v.traceFormat||Kr.Text)),b=R,y=F,b===Vt.Off?x=void 0:x=I,E&&!Jt()&&!Ze()&&$i.sendNotification(D_.type,{value:Vt.toString(R)})},onError:G.event,onClose:q.event,onUnhandledNotification:C.event,onDispose:Z.event,end:()=>{e.end()},dispose:()=>{if(Ze())return;D=zr.Disposed,Z.fire(void 0);let R=new Error("Connection got disposed.");Object.keys(g).forEach(I=>{g[I].reject(R)}),g=Object.create(null),h=Object.create(null),m=new C_.LinkedMap,nn.func(e.dispose)&&e.dispose(),nn.func(t.dispose)&&t.dispose()},listen:()=>{ie(),H(),D=zr.Listening,t.listen(pt)},inspect:()=>{N_.default().console.log("inspect")}};return $i.onNotification(xp.type,R=>{b===Vt.Off||!x||x.log(R.message,b===Vt.Verbose?R.verbose:void 0)}),$i.onNotification(Pu.type,R=>{let I=_.get(R.token);I?I(R.value):U.fire(R)}),$i}Oe.createMessageConnection=rS});var kp=X(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.CancellationSenderStrategy=J.CancellationReceiverStrategy=J.ConnectionError=J.ConnectionErrors=J.LogTraceNotification=J.SetTraceNotification=J.TraceFormat=J.Trace=J.ProgressType=J.createMessageConnection=J.NullLogger=J.ConnectionOptions=J.ConnectionStrategy=J.WriteableStreamMessageWriter=J.AbstractMessageWriter=J.MessageWriter=J.ReadableStreamMessageReader=J.AbstractMessageReader=J.MessageReader=J.CancellationToken=J.CancellationTokenSource=J.Emitter=J.Event=J.Disposable=J.ParameterStructures=J.NotificationType9=J.NotificationType8=J.NotificationType7=J.NotificationType6=J.NotificationType5=J.NotificationType4=J.NotificationType3=J.NotificationType2=J.NotificationType1=J.NotificationType0=J.NotificationType=J.ErrorCodes=J.ResponseError=J.RequestType9=J.RequestType8=J.RequestType7=J.RequestType6=J.RequestType5=J.RequestType4=J.RequestType3=J.RequestType2=J.RequestType1=J.RequestType0=J.RequestType=J.RAL=void 0;J.CancellationStrategy=void 0;var _t=_p();Object.defineProperty(J,"RequestType",{enumerable:!0,get:function(){return _t.RequestType}});Object.defineProperty(J,"RequestType0",{enumerable:!0,get:function(){return _t.RequestType0}});Object.defineProperty(J,"RequestType1",{enumerable:!0,get:function(){return _t.RequestType1}});Object.defineProperty(J,"RequestType2",{enumerable:!0,get:function(){return _t.RequestType2}});Object.defineProperty(J,"RequestType3",{enumerable:!0,get:function(){return _t.RequestType3}});Object.defineProperty(J,"RequestType4",{enumerable:!0,get:function(){return _t.RequestType4}});Object.defineProperty(J,"RequestType5",{enumerable:!0,get:function(){return _t.RequestType5}});Object.defineProperty(J,"RequestType6",{enumerable:!0,get:function(){return _t.RequestType6}});Object.defineProperty(J,"RequestType7",{enumerable:!0,get:function(){return _t.RequestType7}});Object.defineProperty(J,"RequestType8",{enumerable:!0,get:function(){return _t.RequestType8}});Object.defineProperty(J,"RequestType9",{enumerable:!0,get:function(){return _t.RequestType9}});Object.defineProperty(J,"ResponseError",{enumerable:!0,get:function(){return _t.ResponseError}});Object.defineProperty(J,"ErrorCodes",{enumerable:!0,get:function(){return _t.ErrorCodes}});Object.defineProperty(J,"NotificationType",{enumerable:!0,get:function(){return _t.NotificationType}});Object.defineProperty(J,"NotificationType0",{enumerable:!0,get:function(){return _t.NotificationType0}});Object.defineProperty(J,"NotificationType1",{enumerable:!0,get:function(){return _t.NotificationType1}});Object.defineProperty(J,"NotificationType2",{enumerable:!0,get:function(){return _t.NotificationType2}});Object.defineProperty(J,"NotificationType3",{enumerable:!0,get:function(){return _t.NotificationType3}});Object.defineProperty(J,"NotificationType4",{enumerable:!0,get:function(){return _t.NotificationType4}});Object.defineProperty(J,"NotificationType5",{enumerable:!0,get:function(){return _t.NotificationType5}});Object.defineProperty(J,"NotificationType6",{enumerable:!0,get:function(){return _t.NotificationType6}});Object.defineProperty(J,"NotificationType7",{enumerable:!0,get:function(){return _t.NotificationType7}});Object.defineProperty(J,"NotificationType8",{enumerable:!0,get:function(){return _t.NotificationType8}});Object.defineProperty(J,"NotificationType9",{enumerable:!0,get:function(){return _t.NotificationType9}});Object.defineProperty(J,"ParameterStructures",{enumerable:!0,get:function(){return _t.ParameterStructures}});var iS=mp();Object.defineProperty(J,"Disposable",{enumerable:!0,get:function(){return iS.Disposable}});var I_=Aa();Object.defineProperty(J,"Event",{enumerable:!0,get:function(){return I_.Event}});Object.defineProperty(J,"Emitter",{enumerable:!0,get:function(){return I_.Emitter}});var E_=vp();Object.defineProperty(J,"CancellationTokenSource",{enumerable:!0,get:function(){return E_.CancellationTokenSource}});Object.defineProperty(J,"CancellationToken",{enumerable:!0,get:function(){return E_.CancellationToken}});var Fp=p_();Object.defineProperty(J,"MessageReader",{enumerable:!0,get:function(){return Fp.MessageReader}});Object.defineProperty(J,"AbstractMessageReader",{enumerable:!0,get:function(){return Fp.AbstractMessageReader}});Object.defineProperty(J,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Fp.ReadableStreamMessageReader}});var Lp=b_();Object.defineProperty(J,"MessageWriter",{enumerable:!0,get:function(){return Lp.MessageWriter}});Object.defineProperty(J,"AbstractMessageWriter",{enumerable:!0,get:function(){return Lp.AbstractMessageWriter}});Object.defineProperty(J,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Lp.WriteableStreamMessageWriter}});var Mn=A_();Object.defineProperty(J,"ConnectionStrategy",{enumerable:!0,get:function(){return Mn.ConnectionStrategy}});Object.defineProperty(J,"ConnectionOptions",{enumerable:!0,get:function(){return Mn.ConnectionOptions}});Object.defineProperty(J,"NullLogger",{enumerable:!0,get:function(){return Mn.NullLogger}});Object.defineProperty(J,"createMessageConnection",{enumerable:!0,get:function(){return Mn.createMessageConnection}});Object.defineProperty(J,"ProgressType",{enumerable:!0,get:function(){return Mn.ProgressType}});Object.defineProperty(J,"Trace",{enumerable:!0,get:function(){return Mn.Trace}});Object.defineProperty(J,"TraceFormat",{enumerable:!0,get:function(){return Mn.TraceFormat}});Object.defineProperty(J,"SetTraceNotification",{enumerable:!0,get:function(){return Mn.SetTraceNotification}});Object.defineProperty(J,"LogTraceNotification",{enumerable:!0,get:function(){return Mn.LogTraceNotification}});Object.defineProperty(J,"ConnectionErrors",{enumerable:!0,get:function(){return Mn.ConnectionErrors}});Object.defineProperty(J,"ConnectionError",{enumerable:!0,get:function(){return Mn.ConnectionError}});Object.defineProperty(J,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Mn.CancellationReceiverStrategy}});Object.defineProperty(J,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Mn.CancellationSenderStrategy}});Object.defineProperty(J,"CancellationStrategy",{enumerable:!0,get:function(){return Mn.CancellationStrategy}});var sS=Ri();J.RAL=sS.default});var wa=X(et=>{"use strict";var aS=et&&et.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),oS=et&&et.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&aS(e,t,n)};Object.defineProperty(et,"__esModule",{value:!0});et.createMessageConnection=et.createServerSocketTransport=et.createClientSocketTransport=et.createServerPipeTransport=et.createClientPipeTransport=et.generateRandomPipeName=et.StreamMessageWriter=et.StreamMessageReader=et.SocketMessageWriter=et.SocketMessageReader=et.IPCMessageWriter=et.IPCMessageReader=void 0;var Ea=kg();Ea.default.install();var gi=kp(),x_=require("path"),lS=require("os"),uS=require("crypto"),Su=require("net");oS(kp(),et);var R_=class extends gi.AbstractMessageReader{constructor(e){super();this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),gi.Disposable.create(()=>this.process.off("message",e))}};et.IPCMessageReader=R_;var w_=class extends gi.AbstractMessageWriter{constructor(e){super();this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};et.IPCMessageWriter=w_;var xa=class extends gi.ReadableStreamMessageReader{constructor(e,n="utf-8"){super(Ea.default().stream.asReadableStream(e),n)}};et.SocketMessageReader=xa;var Ra=class extends gi.WriteableStreamMessageWriter{constructor(e,n){super(Ea.default().stream.asWritableStream(e),n);this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};et.SocketMessageWriter=Ra;var Mp=class extends gi.ReadableStreamMessageReader{constructor(e,n){super(Ea.default().stream.asReadableStream(e),n)}};et.StreamMessageReader=Mp;var Bp=class extends gi.WriteableStreamMessageWriter{constructor(e,n){super(Ea.default().stream.asWritableStream(e),n)}};et.StreamMessageWriter=Bp;var O_=process.env.XDG_RUNTIME_DIR,cS=new Map([["linux",107],["darwin",103]]);function fS(){let t=uS.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;O_?e=x_.join(O_,`vscode-ipc-${t}.sock`):e=x_.join(lS.tmpdir(),`vscode-${t}.sock`);let n=cS.get(process.platform);return n!==void 0&&e.length>=n&&Ea.default().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}et.generateRandomPipeName=fS;function pS(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let a=Su.createServer(o=>{a.close(),n([new xa(o,e),new Ra(o,e)])});a.on("error",s),a.listen(t,()=>{a.removeListener("error",s),i({onConnected:()=>r})})})}et.createClientPipeTransport=pS;function dS(t,e="utf-8"){let n=Su.createConnection(t);return[new xa(n,e),new Ra(n,e)]}et.createServerPipeTransport=dS;function mS(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let a=Su.createServer(o=>{a.close(),n([new xa(o,e),new Ra(o,e)])});a.on("error",s),a.listen(t,"127.0.0.1",()=>{a.removeListener("error",s),i({onConnected:()=>r})})})}et.createClientSocketTransport=mS;function hS(t,e="utf-8"){let n=Su.createConnection(t,"127.0.0.1");return[new xa(n,e),new Ra(n,e)]}et.createServerSocketTransport=hS;function gS(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function _S(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function yS(t,e,n,r){n||(n=gi.NullLogger);let i=gS(t)?new Mp(t):t,s=_S(e)?new Bp(e):e;return gi.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),gi.createMessageConnection(i,s,n,r)}et.createMessageConnection=yS});var Vp=X((iB,F_)=>{"use strict";F_.exports=wa()});var vt=X((L_,Au)=>{(function(t){if(typeof Au=="object"&&typeof Au.exports=="object"){var e=t(require,L_);e!==void 0&&(Au.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=void 0;var n;(function(v){v.MIN_VALUE=-2147483648,v.MAX_VALUE=2147483647})(n=e.integer||(e.integer={}));var r;(function(v){v.MIN_VALUE=0,v.MAX_VALUE=2147483647})(r=e.uinteger||(e.uinteger={}));var i;(function(v){function E(S,T){return S===Number.MAX_VALUE&&(S=r.MAX_VALUE),T===Number.MAX_VALUE&&(T=r.MAX_VALUE),{line:S,character:T}}v.create=E;function F(S){var T=S;return I.objectLiteral(T)&&I.uinteger(T.line)&&I.uinteger(T.character)}v.is=F})(i=e.Position||(e.Position={}));var s;(function(v){function E(S,T,L,j){if(I.uinteger(S)&&I.uinteger(T)&&I.uinteger(L)&&I.uinteger(j))return{start:i.create(S,T),end:i.create(L,j)};if(i.is(S)&&i.is(T))return{start:S,end:T};throw new Error("Range#create called with invalid arguments["+S+", "+T+", "+L+", "+j+"]")}v.create=E;function F(S){var T=S;return I.objectLiteral(T)&&i.is(T.start)&&i.is(T.end)}v.is=F})(s=e.Range||(e.Range={}));var a;(function(v){function E(S,T){return{uri:S,range:T}}v.create=E;function F(S){var T=S;return I.defined(T)&&s.is(T.range)&&(I.string(T.uri)||I.undefined(T.uri))}v.is=F})(a=e.Location||(e.Location={}));var o;(function(v){function E(S,T,L,j){return{targetUri:S,targetRange:T,targetSelectionRange:L,originSelectionRange:j}}v.create=E;function F(S){var T=S;return I.defined(T)&&s.is(T.targetRange)&&I.string(T.targetUri)&&(s.is(T.targetSelectionRange)||I.undefined(T.targetSelectionRange))&&(s.is(T.originSelectionRange)||I.undefined(T.originSelectionRange))}v.is=F})(o=e.LocationLink||(e.LocationLink={}));var l;(function(v){function E(S,T,L,j){return{red:S,green:T,blue:L,alpha:j}}v.create=E;function F(S){var T=S;return I.numberRange(T.red,0,1)&&I.numberRange(T.green,0,1)&&I.numberRange(T.blue,0,1)&&I.numberRange(T.alpha,0,1)}v.is=F})(l=e.Color||(e.Color={}));var u;(function(v){function E(S,T){return{range:S,color:T}}v.create=E;function F(S){var T=S;return s.is(T.range)&&l.is(T.color)}v.is=F})(u=e.ColorInformation||(e.ColorInformation={}));var c;(function(v){function E(S,T,L){return{label:S,textEdit:T,additionalTextEdits:L}}v.create=E;function F(S){var T=S;return I.string(T.label)&&(I.undefined(T.textEdit)||y.is(T))&&(I.undefined(T.additionalTextEdits)||I.typedArray(T.additionalTextEdits,y.is))}v.is=F})(c=e.ColorPresentation||(e.ColorPresentation={}));var f;(function(v){v.Comment="comment",v.Imports="imports",v.Region="region"})(f=e.FoldingRangeKind||(e.FoldingRangeKind={}));var d;(function(v){function E(S,T,L,j,de){var Ce={startLine:S,endLine:T};return I.defined(L)&&(Ce.startCharacter=L),I.defined(j)&&(Ce.endCharacter=j),I.defined(de)&&(Ce.kind=de),Ce}v.create=E;function F(S){var T=S;return I.uinteger(T.startLine)&&I.uinteger(T.startLine)&&(I.undefined(T.startCharacter)||I.uinteger(T.startCharacter))&&(I.undefined(T.endCharacter)||I.uinteger(T.endCharacter))&&(I.undefined(T.kind)||I.string(T.kind))}v.is=F})(d=e.FoldingRange||(e.FoldingRange={}));var _;(function(v){function E(S,T){return{location:S,message:T}}v.create=E;function F(S){var T=S;return I.defined(T)&&a.is(T.location)&&I.string(T.message)}v.is=F})(_=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var p;(function(v){v.Error=1,v.Warning=2,v.Information=3,v.Hint=4})(p=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var m;(function(v){v.Unnecessary=1,v.Deprecated=2})(m=e.DiagnosticTag||(e.DiagnosticTag={}));var g;(function(v){function E(F){var S=F;return S!=null&&I.string(S.href)}v.is=E})(g=e.CodeDescription||(e.CodeDescription={}));var h;(function(v){function E(S,T,L,j,de,Ce){var qe={range:S,message:T};return I.defined(L)&&(qe.severity=L),I.defined(j)&&(qe.code=j),I.defined(de)&&(qe.source=de),I.defined(Ce)&&(qe.relatedInformation=Ce),qe}v.create=E;function F(S){var T,L=S;return I.defined(L)&&s.is(L.range)&&I.string(L.message)&&(I.number(L.severity)||I.undefined(L.severity))&&(I.integer(L.code)||I.string(L.code)||I.undefined(L.code))&&(I.undefined(L.codeDescription)||I.string((T=L.codeDescription)===null||T===void 0?void 0:T.href))&&(I.string(L.source)||I.undefined(L.source))&&(I.undefined(L.relatedInformation)||I.typedArray(L.relatedInformation,_.is))}v.is=F})(h=e.Diagnostic||(e.Diagnostic={}));var b;(function(v){function E(S,T){for(var L=[],j=2;j<arguments.length;j++)L[j-2]=arguments[j];var de={title:S,command:T};return I.defined(L)&&L.length>0&&(de.arguments=L),de}v.create=E;function F(S){var T=S;return I.defined(T)&&I.string(T.title)&&I.string(T.command)}v.is=F})(b=e.Command||(e.Command={}));var y;(function(v){function E(L,j){return{range:L,newText:j}}v.replace=E;function F(L,j){return{range:{start:L,end:L},newText:j}}v.insert=F;function S(L){return{range:L,newText:""}}v.del=S;function T(L){var j=L;return I.objectLiteral(j)&&I.string(j.newText)&&s.is(j.range)}v.is=T})(y=e.TextEdit||(e.TextEdit={}));var x;(function(v){function E(S,T,L){var j={label:S};return T!==void 0&&(j.needsConfirmation=T),L!==void 0&&(j.description=L),j}v.create=E;function F(S){var T=S;return T!==void 0&&I.objectLiteral(T)&&I.string(T.label)&&(I.boolean(T.needsConfirmation)||T.needsConfirmation===void 0)&&(I.string(T.description)||T.description===void 0)}v.is=F})(x=e.ChangeAnnotation||(e.ChangeAnnotation={}));var D;(function(v){function E(F){var S=F;return typeof S=="string"}v.is=E})(D=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var G;(function(v){function E(L,j,de){return{range:L,newText:j,annotationId:de}}v.replace=E;function F(L,j,de){return{range:{start:L,end:L},newText:j,annotationId:de}}v.insert=F;function S(L,j){return{range:L,newText:"",annotationId:j}}v.del=S;function T(L){var j=L;return y.is(j)&&(x.is(j.annotationId)||D.is(j.annotationId))}v.is=T})(G=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var q;(function(v){function E(S,T){return{textDocument:S,edits:T}}v.create=E;function F(S){var T=S;return I.defined(T)&&rt.is(T.textDocument)&&Array.isArray(T.edits)}v.is=F})(q=e.TextDocumentEdit||(e.TextDocumentEdit={}));var C;(function(v){function E(S,T,L){var j={kind:"create",uri:S};return T!==void 0&&(T.overwrite!==void 0||T.ignoreIfExists!==void 0)&&(j.options=T),L!==void 0&&(j.annotationId=L),j}v.create=E;function F(S){var T=S;return T&&T.kind==="create"&&I.string(T.uri)&&(T.options===void 0||(T.options.overwrite===void 0||I.boolean(T.options.overwrite))&&(T.options.ignoreIfExists===void 0||I.boolean(T.options.ignoreIfExists)))&&(T.annotationId===void 0||D.is(T.annotationId))}v.is=F})(C=e.CreateFile||(e.CreateFile={}));var U;(function(v){function E(S,T,L,j){var de={kind:"rename",oldUri:S,newUri:T};return L!==void 0&&(L.overwrite!==void 0||L.ignoreIfExists!==void 0)&&(de.options=L),j!==void 0&&(de.annotationId=j),de}v.create=E;function F(S){var T=S;return T&&T.kind==="rename"&&I.string(T.oldUri)&&I.string(T.newUri)&&(T.options===void 0||(T.options.overwrite===void 0||I.boolean(T.options.overwrite))&&(T.options.ignoreIfExists===void 0||I.boolean(T.options.ignoreIfExists)))&&(T.annotationId===void 0||D.is(T.annotationId))}v.is=F})(U=e.RenameFile||(e.RenameFile={}));var Z;(function(v){function E(S,T,L){var j={kind:"delete",uri:S};return T!==void 0&&(T.recursive!==void 0||T.ignoreIfNotExists!==void 0)&&(j.options=T),L!==void 0&&(j.annotationId=L),j}v.create=E;function F(S){var T=S;return T&&T.kind==="delete"&&I.string(T.uri)&&(T.options===void 0||(T.options.recursive===void 0||I.boolean(T.options.recursive))&&(T.options.ignoreIfNotExists===void 0||I.boolean(T.options.ignoreIfNotExists)))&&(T.annotationId===void 0||D.is(T.annotationId))}v.is=F})(Z=e.DeleteFile||(e.DeleteFile={}));var Y;(function(v){function E(F){var S=F;return S&&(S.changes!==void 0||S.documentChanges!==void 0)&&(S.documentChanges===void 0||S.documentChanges.every(function(T){return I.string(T.kind)?C.is(T)||U.is(T)||Z.is(T):q.is(T)}))}v.is=E})(Y=e.WorkspaceEdit||(e.WorkspaceEdit={}));var Q=function(){function v(E,F){this.edits=E,this.changeAnnotations=F}return v.prototype.insert=function(E,F,S){var T,L;if(S===void 0?T=y.insert(E,F):D.is(S)?(L=S,T=G.insert(E,F,S)):(this.assertChangeAnnotations(this.changeAnnotations),L=this.changeAnnotations.manage(S),T=G.insert(E,F,L)),this.edits.push(T),L!==void 0)return L},v.prototype.replace=function(E,F,S){var T,L;if(S===void 0?T=y.replace(E,F):D.is(S)?(L=S,T=G.replace(E,F,S)):(this.assertChangeAnnotations(this.changeAnnotations),L=this.changeAnnotations.manage(S),T=G.replace(E,F,L)),this.edits.push(T),L!==void 0)return L},v.prototype.delete=function(E,F){var S,T;if(F===void 0?S=y.del(E):D.is(F)?(T=F,S=G.del(E,F)):(this.assertChangeAnnotations(this.changeAnnotations),T=this.changeAnnotations.manage(F),S=G.del(E,T)),this.edits.push(S),T!==void 0)return T},v.prototype.add=function(E){this.edits.push(E)},v.prototype.all=function(){return this.edits},v.prototype.clear=function(){this.edits.splice(0,this.edits.length)},v.prototype.assertChangeAnnotations=function(E){if(E===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},v}(),se=function(){function v(E){this._annotations=E===void 0?Object.create(null):E,this._counter=0,this._size=0}return v.prototype.all=function(){return this._annotations},Object.defineProperty(v.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),v.prototype.manage=function(E,F){var S;if(D.is(E)?S=E:(S=this.nextId(),F=E),this._annotations[S]!==void 0)throw new Error("Id "+S+" is already in use.");if(F===void 0)throw new Error("No annotation provided for id "+S);return this._annotations[S]=F,this._size++,S},v.prototype.nextId=function(){return this._counter++,this._counter.toString()},v}(),ce=function(){function v(E){var F=this;this._textEditChanges=Object.create(null),E!==void 0?(this._workspaceEdit=E,E.documentChanges?(this._changeAnnotations=new se(E.changeAnnotations),E.changeAnnotations=this._changeAnnotations.all(),E.documentChanges.forEach(function(S){if(q.is(S)){var T=new Q(S.edits,F._changeAnnotations);F._textEditChanges[S.textDocument.uri]=T}})):E.changes&&Object.keys(E.changes).forEach(function(S){var T=new Q(E.changes[S]);F._textEditChanges[S]=T})):this._workspaceEdit={}}return Object.defineProperty(v.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),v.prototype.getTextEditChange=function(E){if(rt.is(E)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var F={uri:E.uri,version:E.version},S=this._textEditChanges[F.uri];if(!S){var T=[],L={textDocument:F,edits:T};this._workspaceEdit.documentChanges.push(L),S=new Q(T,this._changeAnnotations),this._textEditChanges[F.uri]=S}return S}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var S=this._textEditChanges[E];if(!S){var T=[];this._workspaceEdit.changes[E]=T,S=new Q(T),this._textEditChanges[E]=S}return S}},v.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new se,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},v.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},v.prototype.createFile=function(E,F,S){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var T;x.is(F)||D.is(F)?T=F:S=F;var L,j;if(T===void 0?L=C.create(E,S):(j=D.is(T)?T:this._changeAnnotations.manage(T),L=C.create(E,S,j)),this._workspaceEdit.documentChanges.push(L),j!==void 0)return j},v.prototype.renameFile=function(E,F,S,T){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var L;x.is(S)||D.is(S)?L=S:T=S;var j,de;if(L===void 0?j=U.create(E,F,T):(de=D.is(L)?L:this._changeAnnotations.manage(L),j=U.create(E,F,T,de)),this._workspaceEdit.documentChanges.push(j),de!==void 0)return de},v.prototype.deleteFile=function(E,F,S){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var T;x.is(F)||D.is(F)?T=F:S=F;var L,j;if(T===void 0?L=Z.create(E,S):(j=D.is(T)?T:this._changeAnnotations.manage(T),L=Z.create(E,S,j)),this._workspaceEdit.documentChanges.push(L),j!==void 0)return j},v}();e.WorkspaceChange=ce;var re;(function(v){function E(S){return{uri:S}}v.create=E;function F(S){var T=S;return I.defined(T)&&I.string(T.uri)}v.is=F})(re=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var ve;(function(v){function E(S,T){return{uri:S,version:T}}v.create=E;function F(S){var T=S;return I.defined(T)&&I.string(T.uri)&&I.integer(T.version)}v.is=F})(ve=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var rt;(function(v){function E(S,T){return{uri:S,version:T}}v.create=E;function F(S){var T=S;return I.defined(T)&&I.string(T.uri)&&(T.version===null||I.integer(T.version))}v.is=F})(rt=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var Jt;(function(v){function E(S,T,L,j){return{uri:S,languageId:T,version:L,text:j}}v.create=E;function F(S){var T=S;return I.defined(T)&&I.string(T.uri)&&I.string(T.languageId)&&I.integer(T.version)&&I.string(T.text)}v.is=F})(Jt=e.TextDocumentItem||(e.TextDocumentItem={}));var Ze;(function(v){v.PlainText="plaintext",v.Markdown="markdown"})(Ze=e.MarkupKind||(e.MarkupKind={})),function(v){function E(F){var S=F;return S===v.PlainText||S===v.Markdown}v.is=E}(Ze=e.MarkupKind||(e.MarkupKind={}));var it;(function(v){function E(F){var S=F;return I.objectLiteral(F)&&Ze.is(S.kind)&&I.string(S.value)}v.is=E})(it=e.MarkupContent||(e.MarkupContent={}));var me;(function(v){v.Text=1,v.Method=2,v.Function=3,v.Constructor=4,v.Field=5,v.Variable=6,v.Class=7,v.Interface=8,v.Module=9,v.Property=10,v.Unit=11,v.Value=12,v.Enum=13,v.Keyword=14,v.Snippet=15,v.Color=16,v.File=17,v.Reference=18,v.Folder=19,v.EnumMember=20,v.Constant=21,v.Struct=22,v.Event=23,v.Operator=24,v.TypeParameter=25})(me=e.CompletionItemKind||(e.CompletionItemKind={}));var Re;(function(v){v.PlainText=1,v.Snippet=2})(Re=e.InsertTextFormat||(e.InsertTextFormat={}));var Ge;(function(v){v.Deprecated=1})(Ge=e.CompletionItemTag||(e.CompletionItemTag={}));var ee;(function(v){function E(S,T,L){return{newText:S,insert:T,replace:L}}v.create=E;function F(S){var T=S;return T&&I.string(T.newText)&&s.is(T.insert)&&s.is(T.replace)}v.is=F})(ee=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var pt;(function(v){v.asIs=1,v.adjustIndentation=2})(pt=e.InsertTextMode||(e.InsertTextMode={}));var ot;(function(v){function E(F){return{label:F}}v.create=E})(ot=e.CompletionItem||(e.CompletionItem={}));var xt;(function(v){function E(F,S){return{items:F||[],isIncomplete:!!S}}v.create=E})(xt=e.CompletionList||(e.CompletionList={}));var vn;(function(v){function E(S){return S.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}v.fromPlainText=E;function F(S){var T=S;return I.string(T)||I.objectLiteral(T)&&I.string(T.language)&&I.string(T.value)}v.is=F})(vn=e.MarkedString||(e.MarkedString={}));var Si;(function(v){function E(F){var S=F;return!!S&&I.objectLiteral(S)&&(it.is(S.contents)||vn.is(S.contents)||I.typedArray(S.contents,vn.is))&&(F.range===void 0||s.is(F.range))}v.is=E})(Si=e.Hover||(e.Hover={}));var ui;(function(v){function E(F,S){return S?{label:F,documentation:S}:{label:F}}v.create=E})(ui=e.ParameterInformation||(e.ParameterInformation={}));var Uo;(function(v){function E(F,S){for(var T=[],L=2;L<arguments.length;L++)T[L-2]=arguments[L];var j={label:F};return I.defined(S)&&(j.documentation=S),I.defined(T)?j.parameters=T:j.parameters=[],j}v.create=E})(Uo=e.SignatureInformation||(e.SignatureInformation={}));var Hi;(function(v){v.Text=1,v.Read=2,v.Write=3})(Hi=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var Gn;(function(v){function E(F,S){var T={range:F};return I.number(S)&&(T.kind=S),T}v.create=E})(Gn=e.DocumentHighlight||(e.DocumentHighlight={}));var Wo;(function(v){v.File=1,v.Module=2,v.Namespace=3,v.Package=4,v.Class=5,v.Method=6,v.Property=7,v.Field=8,v.Constructor=9,v.Enum=10,v.Interface=11,v.Function=12,v.Variable=13,v.Constant=14,v.String=15,v.Number=16,v.Boolean=17,v.Array=18,v.Object=19,v.Key=20,v.Null=21,v.EnumMember=22,v.Struct=23,v.Event=24,v.Operator=25,v.TypeParameter=26})(Wo=e.SymbolKind||(e.SymbolKind={}));var w;(function(v){v.Deprecated=1})(w=e.SymbolTag||(e.SymbolTag={}));var M;(function(v){function E(F,S,T,L,j){var de={name:F,kind:S,location:{uri:L,range:T}};return j&&(de.containerName=j),de}v.create=E})(M=e.SymbolInformation||(e.SymbolInformation={}));var ie;(function(v){function E(S,T,L,j,de,Ce){var qe={name:S,detail:T,kind:L,range:j,selectionRange:de};return Ce!==void 0&&(qe.children=Ce),qe}v.create=E;function F(S){var T=S;return T&&I.string(T.name)&&I.number(T.kind)&&s.is(T.range)&&s.is(T.selectionRange)&&(T.detail===void 0||I.string(T.detail))&&(T.deprecated===void 0||I.boolean(T.deprecated))&&(T.children===void 0||Array.isArray(T.children))&&(T.tags===void 0||Array.isArray(T.tags))}v.is=F})(ie=e.DocumentSymbol||(e.DocumentSymbol={}));var H;(function(v){v.Empty="",v.QuickFix="quickfix",v.Refactor="refactor",v.RefactorExtract="refactor.extract",v.RefactorInline="refactor.inline",v.RefactorRewrite="refactor.rewrite",v.Source="source",v.SourceOrganizeImports="source.organizeImports",v.SourceFixAll="source.fixAll"})(H=e.CodeActionKind||(e.CodeActionKind={}));var k;(function(v){function E(S,T){var L={diagnostics:S};return T!=null&&(L.only=T),L}v.create=E;function F(S){var T=S;return I.defined(T)&&I.typedArray(T.diagnostics,h.is)&&(T.only===void 0||I.typedArray(T.only,I.string))}v.is=F})(k=e.CodeActionContext||(e.CodeActionContext={}));var pe;(function(v){function E(S,T,L){var j={title:S},de=!0;return typeof T=="string"?(de=!1,j.kind=T):b.is(T)?j.command=T:j.edit=T,de&&L!==void 0&&(j.kind=L),j}v.create=E;function F(S){var T=S;return T&&I.string(T.title)&&(T.diagnostics===void 0||I.typedArray(T.diagnostics,h.is))&&(T.kind===void 0||I.string(T.kind))&&(T.edit!==void 0||T.command!==void 0)&&(T.command===void 0||b.is(T.command))&&(T.isPreferred===void 0||I.boolean(T.isPreferred))&&(T.edit===void 0||Y.is(T.edit))}v.is=F})(pe=e.CodeAction||(e.CodeAction={}));var ue;(function(v){function E(S,T){var L={range:S};return I.defined(T)&&(L.data=T),L}v.create=E;function F(S){var T=S;return I.defined(T)&&s.is(T.range)&&(I.undefined(T.command)||b.is(T.command))}v.is=F})(ue=e.CodeLens||(e.CodeLens={}));var _e;(function(v){function E(S,T){return{tabSize:S,insertSpaces:T}}v.create=E;function F(S){var T=S;return I.defined(T)&&I.uinteger(T.tabSize)&&I.boolean(T.insertSpaces)}v.is=F})(_e=e.FormattingOptions||(e.FormattingOptions={}));var bt;(function(v){function E(S,T,L){return{range:S,target:T,data:L}}v.create=E;function F(S){var T=S;return I.defined(T)&&s.is(T.range)&&(I.undefined(T.target)||I.string(T.target))}v.is=F})(bt=e.DocumentLink||(e.DocumentLink={}));var Lt;(function(v){function E(S,T){return{range:S,parent:T}}v.create=E;function F(S){var T=S;return T!==void 0&&s.is(T.range)&&(T.parent===void 0||v.is(T.parent))}v.is=F})(Lt=e.SelectionRange||(e.SelectionRange={})),e.EOL=[`
`,`\r
`,"\r"];var $i;(function(v){function E(L,j,de,Ce){return new R(L,j,de,Ce)}v.create=E;function F(L){var j=L;return!!(I.defined(j)&&I.string(j.uri)&&(I.undefined(j.languageId)||I.string(j.languageId))&&I.uinteger(j.lineCount)&&I.func(j.getText)&&I.func(j.positionAt)&&I.func(j.offsetAt))}v.is=F;function S(L,j){for(var de=L.getText(),Ce=T(j,function(ba,mu){var Zh=ba.range.start.line-mu.range.start.line;return Zh===0?ba.range.start.character-mu.range.start.character:Zh}),qe=de.length,dt=Ce.length-1;dt>=0;dt--){var Gt=Ce[dt],Zt=L.offsetAt(Gt.range.start),He=L.offsetAt(Gt.range.end);if(He<=qe)de=de.substring(0,Zt)+Gt.newText+de.substring(He,de.length);else throw new Error("Overlapping edit");qe=Zt}return de}v.applyEdits=S;function T(L,j){if(L.length<=1)return L;var de=L.length/2|0,Ce=L.slice(0,de),qe=L.slice(de);T(Ce,j),T(qe,j);for(var dt=0,Gt=0,Zt=0;dt<Ce.length&&Gt<qe.length;){var He=j(Ce[dt],qe[Gt]);He<=0?L[Zt++]=Ce[dt++]:L[Zt++]=qe[Gt++]}for(;dt<Ce.length;)L[Zt++]=Ce[dt++];for(;Gt<qe.length;)L[Zt++]=qe[Gt++];return L}})($i=e.TextDocument||(e.TextDocument={}));var R=function(){function v(E,F,S,T){this._uri=E,this._languageId=F,this._version=S,this._content=T,this._lineOffsets=void 0}return Object.defineProperty(v.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),v.prototype.getText=function(E){if(E){var F=this.offsetAt(E.start),S=this.offsetAt(E.end);return this._content.substring(F,S)}return this._content},v.prototype.update=function(E,F){this._content=E.text,this._version=F,this._lineOffsets=void 0},v.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var E=[],F=this._content,S=!0,T=0;T<F.length;T++){S&&(E.push(T),S=!1);var L=F.charAt(T);S=L==="\r"||L===`
`,L==="\r"&&T+1<F.length&&F.charAt(T+1)===`
`&&T++}S&&F.length>0&&E.push(F.length),this._lineOffsets=E}return this._lineOffsets},v.prototype.positionAt=function(E){E=Math.max(Math.min(E,this._content.length),0);var F=this.getLineOffsets(),S=0,T=F.length;if(T===0)return i.create(0,E);for(;S<T;){var L=Math.floor((S+T)/2);F[L]>E?T=L:S=L+1}var j=S-1;return i.create(j,E-F[j])},v.prototype.offsetAt=function(E){var F=this.getLineOffsets();if(E.line>=F.length)return this._content.length;if(E.line<0)return 0;var S=F[E.line],T=E.line+1<F.length?F[E.line+1]:this._content.length;return Math.max(Math.min(S+E.character,T),S)},Object.defineProperty(v.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),v}(),I;(function(v){var E=Object.prototype.toString;function F(He){return typeof He!="undefined"}v.defined=F;function S(He){return typeof He=="undefined"}v.undefined=S;function T(He){return He===!0||He===!1}v.boolean=T;function L(He){return E.call(He)==="[object String]"}v.string=L;function j(He){return E.call(He)==="[object Number]"}v.number=j;function de(He,ba,mu){return E.call(He)==="[object Number]"&&ba<=He&&He<=mu}v.numberRange=de;function Ce(He){return E.call(He)==="[object Number]"&&-2147483648<=He&&He<=2147483647}v.integer=Ce;function qe(He){return E.call(He)==="[object Number]"&&0<=He&&He<=2147483647}v.uinteger=qe;function dt(He){return E.call(He)==="[object Function]"}v.func=dt;function Gt(He){return He!==null&&typeof He=="object"}v.objectLiteral=Gt;function Zt(He,ba){return Array.isArray(He)&&He.every(ba)}v.typedArray=Zt})(I||(I={}))})});var rn=X(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.ProtocolNotificationType=vr.ProtocolNotificationType0=vr.ProtocolRequestType=vr.ProtocolRequestType0=vr.RegistrationType=void 0;var Oa=wa(),k_=class{constructor(e){this.method=e}};vr.RegistrationType=k_;var M_=class extends Oa.RequestType0{constructor(e){super(e)}};vr.ProtocolRequestType0=M_;var B_=class extends Oa.RequestType{constructor(e){super(e,Oa.ParameterStructures.byName)}};vr.ProtocolRequestType=B_;var V_=class extends Oa.NotificationType0{constructor(e){super(e)}};vr.ProtocolNotificationType0=V_;var q_=class extends Oa.NotificationType{constructor(e){super(e,Oa.ParameterStructures.byName)}};vr.ProtocolNotificationType=q_});var W_=X(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.objectLiteral=qt.typedArray=qt.stringArray=qt.array=qt.func=qt.error=qt.number=qt.string=qt.boolean=void 0;function bS(t){return t===!0||t===!1}qt.boolean=bS;function j_(t){return typeof t=="string"||t instanceof String}qt.string=j_;function TS(t){return typeof t=="number"||t instanceof Number}qt.number=TS;function vS(t){return t instanceof Error}qt.error=vS;function NS(t){return typeof t=="function"}qt.func=NS;function U_(t){return Array.isArray(t)}qt.array=U_;function CS(t){return U_(t)&&t.every(e=>j_(e))}qt.stringArray=CS;function PS(t,e){return Array.isArray(t)&&t.every(e)}qt.typedArray=PS;function DS(t){return t!==null&&typeof t=="object"}qt.objectLiteral=DS});var G_=X(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});sl.ImplementationRequest=void 0;var SS=rn(),AS;(function(t){t.method="textDocument/implementation",t.type=new SS.ProtocolRequestType(t.method)})(AS=sl.ImplementationRequest||(sl.ImplementationRequest={}))});var Y_=X(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});al.TypeDefinitionRequest=void 0;var IS=rn(),ES;(function(t){t.method="textDocument/typeDefinition",t.type=new IS.ProtocolRequestType(t.method)})(ES=al.TypeDefinitionRequest||(al.TypeDefinitionRequest={}))});var $_=X(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.DidChangeWorkspaceFoldersNotification=Ji.WorkspaceFoldersRequest=void 0;var H_=rn(),xS;(function(t){t.type=new H_.ProtocolRequestType0("workspace/workspaceFolders")})(xS=Ji.WorkspaceFoldersRequest||(Ji.WorkspaceFoldersRequest={}));var RS;(function(t){t.type=new H_.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(RS=Ji.DidChangeWorkspaceFoldersNotification||(Ji.DidChangeWorkspaceFoldersNotification={}))});var K_=X(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.ConfigurationRequest=void 0;var wS=rn(),OS;(function(t){t.type=new wS.ProtocolRequestType("workspace/configuration")})(OS=ol.ConfigurationRequest||(ol.ConfigurationRequest={}))});var X_=X(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.ColorPresentationRequest=Zi.DocumentColorRequest=void 0;var z_=rn(),FS;(function(t){t.method="textDocument/documentColor",t.type=new z_.ProtocolRequestType(t.method)})(FS=Zi.DocumentColorRequest||(Zi.DocumentColorRequest={}));var LS;(function(t){t.type=new z_.ProtocolRequestType("textDocument/colorPresentation")})(LS=Zi.ColorPresentationRequest||(Zi.ColorPresentationRequest={}))});var Q_=X(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.FoldingRangeRequest=es.FoldingRangeKind=void 0;var kS=rn(),MS;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(MS=es.FoldingRangeKind||(es.FoldingRangeKind={}));var BS;(function(t){t.method="textDocument/foldingRange",t.type=new kS.ProtocolRequestType(t.method)})(BS=es.FoldingRangeRequest||(es.FoldingRangeRequest={}))});var J_=X(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.DeclarationRequest=void 0;var VS=rn(),qS;(function(t){t.method="textDocument/declaration",t.type=new VS.ProtocolRequestType(t.method)})(qS=ll.DeclarationRequest||(ll.DeclarationRequest={}))});var Z_=X(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.SelectionRangeRequest=void 0;var jS=rn(),US;(function(t){t.method="textDocument/selectionRange",t.type=new jS.ProtocolRequestType(t.method)})(US=ul.SelectionRangeRequest||(ul.SelectionRangeRequest={}))});var ty=X(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.WorkDoneProgressCancelNotification=Xr.WorkDoneProgressCreateRequest=Xr.WorkDoneProgress=void 0;var WS=wa(),ey=rn(),GS;(function(t){t.type=new WS.ProgressType;function e(n){return n===t.type}t.is=e})(GS=Xr.WorkDoneProgress||(Xr.WorkDoneProgress={}));var YS;(function(t){t.type=new ey.ProtocolRequestType("window/workDoneProgress/create")})(YS=Xr.WorkDoneProgressCreateRequest||(Xr.WorkDoneProgressCreateRequest={}));var HS;(function(t){t.type=new ey.ProtocolNotificationType("window/workDoneProgress/cancel")})(HS=Xr.WorkDoneProgressCancelNotification||(Xr.WorkDoneProgressCancelNotification={}))});var ny=X(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.CallHierarchyOutgoingCallsRequest=Qr.CallHierarchyIncomingCallsRequest=Qr.CallHierarchyPrepareRequest=void 0;var qp=rn(),$S;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new qp.ProtocolRequestType(t.method)})($S=Qr.CallHierarchyPrepareRequest||(Qr.CallHierarchyPrepareRequest={}));var KS;(function(t){t.method="callHierarchy/incomingCalls",t.type=new qp.ProtocolRequestType(t.method)})(KS=Qr.CallHierarchyIncomingCallsRequest||(Qr.CallHierarchyIncomingCallsRequest={}));var zS;(function(t){t.method="callHierarchy/outgoingCalls",t.type=new qp.ProtocolRequestType(t.method)})(zS=Qr.CallHierarchyOutgoingCallsRequest||(Qr.CallHierarchyOutgoingCallsRequest={}))});var ry=X(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.SemanticTokensRefreshRequest=st.SemanticTokensRangeRequest=st.SemanticTokensDeltaRequest=st.SemanticTokensRequest=st.SemanticTokensRegistrationType=st.TokenFormat=st.SemanticTokens=st.SemanticTokenModifiers=st.SemanticTokenTypes=void 0;var cl=rn(),XS;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator"})(XS=st.SemanticTokenTypes||(st.SemanticTokenTypes={}));var QS;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(QS=st.SemanticTokenModifiers||(st.SemanticTokenModifiers={}));var JS;(function(t){function e(n){let r=n;return r!==void 0&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(JS=st.SemanticTokens||(st.SemanticTokens={}));var ZS;(function(t){t.Relative="relative"})(ZS=st.TokenFormat||(st.TokenFormat={}));var eA;(function(t){t.method="textDocument/semanticTokens",t.type=new cl.RegistrationType(t.method)})(eA=st.SemanticTokensRegistrationType||(st.SemanticTokensRegistrationType={}));var tA;(function(t){t.method="textDocument/semanticTokens/full",t.type=new cl.ProtocolRequestType(t.method)})(tA=st.SemanticTokensRequest||(st.SemanticTokensRequest={}));var nA;(function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new cl.ProtocolRequestType(t.method)})(nA=st.SemanticTokensDeltaRequest||(st.SemanticTokensDeltaRequest={}));var rA;(function(t){t.method="textDocument/semanticTokens/range",t.type=new cl.ProtocolRequestType(t.method)})(rA=st.SemanticTokensRangeRequest||(st.SemanticTokensRangeRequest={}));var iA;(function(t){t.method="workspace/semanticTokens/refresh",t.type=new cl.ProtocolRequestType0(t.method)})(iA=st.SemanticTokensRefreshRequest||(st.SemanticTokensRefreshRequest={}))});var iy=X(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.ShowDocumentRequest=void 0;var sA=rn(),aA;(function(t){t.method="window/showDocument",t.type=new sA.ProtocolRequestType(t.method)})(aA=fl.ShowDocumentRequest||(fl.ShowDocumentRequest={}))});var sy=X(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.LinkedEditingRangeRequest=void 0;var oA=rn(),lA;(function(t){t.method="textDocument/linkedEditingRange",t.type=new oA.ProtocolRequestType(t.method)})(lA=pl.LinkedEditingRangeRequest||(pl.LinkedEditingRangeRequest={}))});var ay=X(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.WillDeleteFilesRequest=St.DidDeleteFilesNotification=St.DidRenameFilesNotification=St.WillRenameFilesRequest=St.DidCreateFilesNotification=St.WillCreateFilesRequest=St.FileOperationPatternKind=void 0;var Fa=rn(),uA;(function(t){t.file="file",t.folder="folder"})(uA=St.FileOperationPatternKind||(St.FileOperationPatternKind={}));var cA;(function(t){t.method="workspace/willCreateFiles",t.type=new Fa.ProtocolRequestType(t.method)})(cA=St.WillCreateFilesRequest||(St.WillCreateFilesRequest={}));var fA;(function(t){t.method="workspace/didCreateFiles",t.type=new Fa.ProtocolNotificationType(t.method)})(fA=St.DidCreateFilesNotification||(St.DidCreateFilesNotification={}));var pA;(function(t){t.method="workspace/willRenameFiles",t.type=new Fa.ProtocolRequestType(t.method)})(pA=St.WillRenameFilesRequest||(St.WillRenameFilesRequest={}));var dA;(function(t){t.method="workspace/didRenameFiles",t.type=new Fa.ProtocolNotificationType(t.method)})(dA=St.DidRenameFilesNotification||(St.DidRenameFilesNotification={}));var mA;(function(t){t.method="workspace/didDeleteFiles",t.type=new Fa.ProtocolNotificationType(t.method)})(mA=St.DidDeleteFilesNotification||(St.DidDeleteFilesNotification={}));var hA;(function(t){t.method="workspace/willDeleteFiles",t.type=new Fa.ProtocolRequestType(t.method)})(hA=St.WillDeleteFilesRequest||(St.WillDeleteFilesRequest={}))});var oy=X(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.MonikerRequest=Jr.MonikerKind=Jr.UniquenessLevel=void 0;var gA=rn(),_A;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(_A=Jr.UniquenessLevel||(Jr.UniquenessLevel={}));var yA;(function(t){t.import="import",t.export="export",t.local="local"})(yA=Jr.MonikerKind||(Jr.MonikerKind={}));var bA;(function(t){t.method="textDocument/moniker",t.type=new gA.ProtocolRequestType(t.method)})(bA=Jr.MonikerRequest||(Jr.MonikerRequest={}))});var py=X(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.DocumentLinkRequest=A.CodeLensRefreshRequest=A.CodeLensResolveRequest=A.CodeLensRequest=A.WorkspaceSymbolRequest=A.CodeActionResolveRequest=A.CodeActionRequest=A.DocumentSymbolRequest=A.DocumentHighlightRequest=A.ReferencesRequest=A.DefinitionRequest=A.SignatureHelpRequest=A.SignatureHelpTriggerKind=A.HoverRequest=A.CompletionResolveRequest=A.CompletionRequest=A.CompletionTriggerKind=A.PublishDiagnosticsNotification=A.WatchKind=A.FileChangeType=A.DidChangeWatchedFilesNotification=A.WillSaveTextDocumentWaitUntilRequest=A.WillSaveTextDocumentNotification=A.TextDocumentSaveReason=A.DidSaveTextDocumentNotification=A.DidCloseTextDocumentNotification=A.DidChangeTextDocumentNotification=A.TextDocumentContentChangeEvent=A.DidOpenTextDocumentNotification=A.TextDocumentSyncKind=A.TelemetryEventNotification=A.LogMessageNotification=A.ShowMessageRequest=A.ShowMessageNotification=A.MessageType=A.DidChangeConfigurationNotification=A.ExitNotification=A.ShutdownRequest=A.InitializedNotification=A.InitializeError=A.InitializeRequest=A.WorkDoneProgressOptions=A.TextDocumentRegistrationOptions=A.StaticRegistrationOptions=A.FailureHandlingKind=A.ResourceOperationKind=A.UnregistrationRequest=A.RegistrationRequest=A.DocumentSelector=A.DocumentFilter=void 0;A.MonikerRequest=A.MonikerKind=A.UniquenessLevel=A.WillDeleteFilesRequest=A.DidDeleteFilesNotification=A.WillRenameFilesRequest=A.DidRenameFilesNotification=A.WillCreateFilesRequest=A.DidCreateFilesNotification=A.FileOperationPatternKind=A.LinkedEditingRangeRequest=A.ShowDocumentRequest=A.SemanticTokensRegistrationType=A.SemanticTokensRefreshRequest=A.SemanticTokensRangeRequest=A.SemanticTokensDeltaRequest=A.SemanticTokensRequest=A.TokenFormat=A.SemanticTokens=A.SemanticTokenModifiers=A.SemanticTokenTypes=A.CallHierarchyPrepareRequest=A.CallHierarchyOutgoingCallsRequest=A.CallHierarchyIncomingCallsRequest=A.WorkDoneProgressCancelNotification=A.WorkDoneProgressCreateRequest=A.WorkDoneProgress=A.SelectionRangeRequest=A.DeclarationRequest=A.FoldingRangeRequest=A.ColorPresentationRequest=A.DocumentColorRequest=A.ConfigurationRequest=A.DidChangeWorkspaceFoldersNotification=A.WorkspaceFoldersRequest=A.TypeDefinitionRequest=A.ImplementationRequest=A.ApplyWorkspaceEditRequest=A.ExecuteCommandRequest=A.PrepareRenameRequest=A.RenameRequest=A.PrepareSupportDefaultBehavior=A.DocumentOnTypeFormattingRequest=A.DocumentRangeFormattingRequest=A.DocumentFormattingRequest=A.DocumentLinkResolveRequest=void 0;var ts=W_(),Me=rn(),TA=G_();Object.defineProperty(A,"ImplementationRequest",{enumerable:!0,get:function(){return TA.ImplementationRequest}});var vA=Y_();Object.defineProperty(A,"TypeDefinitionRequest",{enumerable:!0,get:function(){return vA.TypeDefinitionRequest}});var ly=$_();Object.defineProperty(A,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return ly.WorkspaceFoldersRequest}});Object.defineProperty(A,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return ly.DidChangeWorkspaceFoldersNotification}});var NA=K_();Object.defineProperty(A,"ConfigurationRequest",{enumerable:!0,get:function(){return NA.ConfigurationRequest}});var uy=X_();Object.defineProperty(A,"DocumentColorRequest",{enumerable:!0,get:function(){return uy.DocumentColorRequest}});Object.defineProperty(A,"ColorPresentationRequest",{enumerable:!0,get:function(){return uy.ColorPresentationRequest}});var CA=Q_();Object.defineProperty(A,"FoldingRangeRequest",{enumerable:!0,get:function(){return CA.FoldingRangeRequest}});var PA=J_();Object.defineProperty(A,"DeclarationRequest",{enumerable:!0,get:function(){return PA.DeclarationRequest}});var DA=Z_();Object.defineProperty(A,"SelectionRangeRequest",{enumerable:!0,get:function(){return DA.SelectionRangeRequest}});var jp=ty();Object.defineProperty(A,"WorkDoneProgress",{enumerable:!0,get:function(){return jp.WorkDoneProgress}});Object.defineProperty(A,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return jp.WorkDoneProgressCreateRequest}});Object.defineProperty(A,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return jp.WorkDoneProgressCancelNotification}});var Up=ny();Object.defineProperty(A,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Up.CallHierarchyIncomingCallsRequest}});Object.defineProperty(A,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Up.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(A,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Up.CallHierarchyPrepareRequest}});var Li=ry();Object.defineProperty(A,"SemanticTokenTypes",{enumerable:!0,get:function(){return Li.SemanticTokenTypes}});Object.defineProperty(A,"SemanticTokenModifiers",{enumerable:!0,get:function(){return Li.SemanticTokenModifiers}});Object.defineProperty(A,"SemanticTokens",{enumerable:!0,get:function(){return Li.SemanticTokens}});Object.defineProperty(A,"TokenFormat",{enumerable:!0,get:function(){return Li.TokenFormat}});Object.defineProperty(A,"SemanticTokensRequest",{enumerable:!0,get:function(){return Li.SemanticTokensRequest}});Object.defineProperty(A,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Li.SemanticTokensDeltaRequest}});Object.defineProperty(A,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Li.SemanticTokensRangeRequest}});Object.defineProperty(A,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Li.SemanticTokensRefreshRequest}});Object.defineProperty(A,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Li.SemanticTokensRegistrationType}});var SA=iy();Object.defineProperty(A,"ShowDocumentRequest",{enumerable:!0,get:function(){return SA.ShowDocumentRequest}});var AA=sy();Object.defineProperty(A,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return AA.LinkedEditingRangeRequest}});var Vs=ay();Object.defineProperty(A,"FileOperationPatternKind",{enumerable:!0,get:function(){return Vs.FileOperationPatternKind}});Object.defineProperty(A,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Vs.DidCreateFilesNotification}});Object.defineProperty(A,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Vs.WillCreateFilesRequest}});Object.defineProperty(A,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Vs.DidRenameFilesNotification}});Object.defineProperty(A,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Vs.WillRenameFilesRequest}});Object.defineProperty(A,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Vs.DidDeleteFilesNotification}});Object.defineProperty(A,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Vs.WillDeleteFilesRequest}});var Wp=oy();Object.defineProperty(A,"UniquenessLevel",{enumerable:!0,get:function(){return Wp.UniquenessLevel}});Object.defineProperty(A,"MonikerKind",{enumerable:!0,get:function(){return Wp.MonikerKind}});Object.defineProperty(A,"MonikerRequest",{enumerable:!0,get:function(){return Wp.MonikerRequest}});var cy;(function(t){function e(n){let r=n;return ts.string(r.language)||ts.string(r.scheme)||ts.string(r.pattern)}t.is=e})(cy=A.DocumentFilter||(A.DocumentFilter={}));var fy;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!ts.string(r)&&!cy.is(r))return!1;return!0}t.is=e})(fy=A.DocumentSelector||(A.DocumentSelector={}));var IA;(function(t){t.type=new Me.ProtocolRequestType("client/registerCapability")})(IA=A.RegistrationRequest||(A.RegistrationRequest={}));var EA;(function(t){t.type=new Me.ProtocolRequestType("client/unregisterCapability")})(EA=A.UnregistrationRequest||(A.UnregistrationRequest={}));var xA;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(xA=A.ResourceOperationKind||(A.ResourceOperationKind={}));var RA;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(RA=A.FailureHandlingKind||(A.FailureHandlingKind={}));var wA;(function(t){function e(n){let r=n;return r&&ts.string(r.id)&&r.id.length>0}t.hasId=e})(wA=A.StaticRegistrationOptions||(A.StaticRegistrationOptions={}));var OA;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||fy.is(r.documentSelector))}t.is=e})(OA=A.TextDocumentRegistrationOptions||(A.TextDocumentRegistrationOptions={}));var FA;(function(t){function e(r){let i=r;return ts.objectLiteral(i)&&(i.workDoneProgress===void 0||ts.boolean(i.workDoneProgress))}t.is=e;function n(r){let i=r;return i&&ts.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=n})(FA=A.WorkDoneProgressOptions||(A.WorkDoneProgressOptions={}));var LA;(function(t){t.type=new Me.ProtocolRequestType("initialize")})(LA=A.InitializeRequest||(A.InitializeRequest={}));var kA;(function(t){t.unknownProtocolVersion=1})(kA=A.InitializeError||(A.InitializeError={}));var MA;(function(t){t.type=new Me.ProtocolNotificationType("initialized")})(MA=A.InitializedNotification||(A.InitializedNotification={}));var BA;(function(t){t.type=new Me.ProtocolRequestType0("shutdown")})(BA=A.ShutdownRequest||(A.ShutdownRequest={}));var VA;(function(t){t.type=new Me.ProtocolNotificationType0("exit")})(VA=A.ExitNotification||(A.ExitNotification={}));var qA;(function(t){t.type=new Me.ProtocolNotificationType("workspace/didChangeConfiguration")})(qA=A.DidChangeConfigurationNotification||(A.DidChangeConfigurationNotification={}));var jA;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(jA=A.MessageType||(A.MessageType={}));var UA;(function(t){t.type=new Me.ProtocolNotificationType("window/showMessage")})(UA=A.ShowMessageNotification||(A.ShowMessageNotification={}));var WA;(function(t){t.type=new Me.ProtocolRequestType("window/showMessageRequest")})(WA=A.ShowMessageRequest||(A.ShowMessageRequest={}));var GA;(function(t){t.type=new Me.ProtocolNotificationType("window/logMessage")})(GA=A.LogMessageNotification||(A.LogMessageNotification={}));var YA;(function(t){t.type=new Me.ProtocolNotificationType("telemetry/event")})(YA=A.TelemetryEventNotification||(A.TelemetryEventNotification={}));var HA;(function(t){t.None=0,t.Full=1,t.Incremental=2})(HA=A.TextDocumentSyncKind||(A.TextDocumentSyncKind={}));var $A;(function(t){t.method="textDocument/didOpen",t.type=new Me.ProtocolNotificationType(t.method)})($A=A.DidOpenTextDocumentNotification||(A.DidOpenTextDocumentNotification={}));var KA;(function(t){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=n})(KA=A.TextDocumentContentChangeEvent||(A.TextDocumentContentChangeEvent={}));var zA;(function(t){t.method="textDocument/didChange",t.type=new Me.ProtocolNotificationType(t.method)})(zA=A.DidChangeTextDocumentNotification||(A.DidChangeTextDocumentNotification={}));var XA;(function(t){t.method="textDocument/didClose",t.type=new Me.ProtocolNotificationType(t.method)})(XA=A.DidCloseTextDocumentNotification||(A.DidCloseTextDocumentNotification={}));var QA;(function(t){t.method="textDocument/didSave",t.type=new Me.ProtocolNotificationType(t.method)})(QA=A.DidSaveTextDocumentNotification||(A.DidSaveTextDocumentNotification={}));var JA;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(JA=A.TextDocumentSaveReason||(A.TextDocumentSaveReason={}));var ZA;(function(t){t.method="textDocument/willSave",t.type=new Me.ProtocolNotificationType(t.method)})(ZA=A.WillSaveTextDocumentNotification||(A.WillSaveTextDocumentNotification={}));var eI;(function(t){t.method="textDocument/willSaveWaitUntil",t.type=new Me.ProtocolRequestType(t.method)})(eI=A.WillSaveTextDocumentWaitUntilRequest||(A.WillSaveTextDocumentWaitUntilRequest={}));var tI;(function(t){t.type=new Me.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(tI=A.DidChangeWatchedFilesNotification||(A.DidChangeWatchedFilesNotification={}));var nI;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(nI=A.FileChangeType||(A.FileChangeType={}));var rI;(function(t){t.Create=1,t.Change=2,t.Delete=4})(rI=A.WatchKind||(A.WatchKind={}));var iI;(function(t){t.type=new Me.ProtocolNotificationType("textDocument/publishDiagnostics")})(iI=A.PublishDiagnosticsNotification||(A.PublishDiagnosticsNotification={}));var sI;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(sI=A.CompletionTriggerKind||(A.CompletionTriggerKind={}));var aI;(function(t){t.method="textDocument/completion",t.type=new Me.ProtocolRequestType(t.method)})(aI=A.CompletionRequest||(A.CompletionRequest={}));var oI;(function(t){t.method="completionItem/resolve",t.type=new Me.ProtocolRequestType(t.method)})(oI=A.CompletionResolveRequest||(A.CompletionResolveRequest={}));var lI;(function(t){t.method="textDocument/hover",t.type=new Me.ProtocolRequestType(t.method)})(lI=A.HoverRequest||(A.HoverRequest={}));var uI;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(uI=A.SignatureHelpTriggerKind||(A.SignatureHelpTriggerKind={}));var cI;(function(t){t.method="textDocument/signatureHelp",t.type=new Me.ProtocolRequestType(t.method)})(cI=A.SignatureHelpRequest||(A.SignatureHelpRequest={}));var fI;(function(t){t.method="textDocument/definition",t.type=new Me.ProtocolRequestType(t.method)})(fI=A.DefinitionRequest||(A.DefinitionRequest={}));var pI;(function(t){t.method="textDocument/references",t.type=new Me.ProtocolRequestType(t.method)})(pI=A.ReferencesRequest||(A.ReferencesRequest={}));var dI;(function(t){t.method="textDocument/documentHighlight",t.type=new Me.ProtocolRequestType(t.method)})(dI=A.DocumentHighlightRequest||(A.DocumentHighlightRequest={}));var mI;(function(t){t.method="textDocument/documentSymbol",t.type=new Me.ProtocolRequestType(t.method)})(mI=A.DocumentSymbolRequest||(A.DocumentSymbolRequest={}));var hI;(function(t){t.method="textDocument/codeAction",t.type=new Me.ProtocolRequestType(t.method)})(hI=A.CodeActionRequest||(A.CodeActionRequest={}));var gI;(function(t){t.method="codeAction/resolve",t.type=new Me.ProtocolRequestType(t.method)})(gI=A.CodeActionResolveRequest||(A.CodeActionResolveRequest={}));var _I;(function(t){t.method="workspace/symbol",t.type=new Me.ProtocolRequestType(t.method)})(_I=A.WorkspaceSymbolRequest||(A.WorkspaceSymbolRequest={}));var yI;(function(t){t.method="textDocument/codeLens",t.type=new Me.ProtocolRequestType(t.method)})(yI=A.CodeLensRequest||(A.CodeLensRequest={}));var bI;(function(t){t.method="codeLens/resolve",t.type=new Me.ProtocolRequestType(t.method)})(bI=A.CodeLensResolveRequest||(A.CodeLensResolveRequest={}));var TI;(function(t){t.method="workspace/codeLens/refresh",t.type=new Me.ProtocolRequestType0(t.method)})(TI=A.CodeLensRefreshRequest||(A.CodeLensRefreshRequest={}));var vI;(function(t){t.method="textDocument/documentLink",t.type=new Me.ProtocolRequestType(t.method)})(vI=A.DocumentLinkRequest||(A.DocumentLinkRequest={}));var NI;(function(t){t.method="documentLink/resolve",t.type=new Me.ProtocolRequestType(t.method)})(NI=A.DocumentLinkResolveRequest||(A.DocumentLinkResolveRequest={}));var CI;(function(t){t.method="textDocument/formatting",t.type=new Me.ProtocolRequestType(t.method)})(CI=A.DocumentFormattingRequest||(A.DocumentFormattingRequest={}));var PI;(function(t){t.method="textDocument/rangeFormatting",t.type=new Me.ProtocolRequestType(t.method)})(PI=A.DocumentRangeFormattingRequest||(A.DocumentRangeFormattingRequest={}));var DI;(function(t){t.method="textDocument/onTypeFormatting",t.type=new Me.ProtocolRequestType(t.method)})(DI=A.DocumentOnTypeFormattingRequest||(A.DocumentOnTypeFormattingRequest={}));var SI;(function(t){t.Identifier=1})(SI=A.PrepareSupportDefaultBehavior||(A.PrepareSupportDefaultBehavior={}));var AI;(function(t){t.method="textDocument/rename",t.type=new Me.ProtocolRequestType(t.method)})(AI=A.RenameRequest||(A.RenameRequest={}));var II;(function(t){t.method="textDocument/prepareRename",t.type=new Me.ProtocolRequestType(t.method)})(II=A.PrepareRenameRequest||(A.PrepareRenameRequest={}));var EI;(function(t){t.type=new Me.ProtocolRequestType("workspace/executeCommand")})(EI=A.ExecuteCommandRequest||(A.ExecuteCommandRequest={}));var xI;(function(t){t.type=new Me.ProtocolRequestType("workspace/applyEdit")})(xI=A.ApplyWorkspaceEditRequest||(A.ApplyWorkspaceEditRequest={}))});var my=X(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.createProtocolConnection=void 0;var dy=wa();function RI(t,e,n,r){return dy.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),dy.createMessageConnection(t,e,n,r)}Iu.createProtocolConnection=RI});var hy=X(An=>{"use strict";var wI=An&&An.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Eu=An&&An.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&wI(e,t,n)};Object.defineProperty(An,"__esModule",{value:!0});An.LSPErrorCodes=An.createProtocolConnection=void 0;Eu(wa(),An);Eu(vt(),An);Eu(rn(),An);Eu(py(),An);var OI=my();Object.defineProperty(An,"createProtocolConnection",{enumerable:!0,get:function(){return OI.createProtocolConnection}});var FI;(function(t){t.lspReservedErrorRangeStart=-32899,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(FI=An.LSPErrorCodes||(An.LSPErrorCodes={}))});var Bn=X(_i=>{"use strict";var LI=_i&&_i.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),gy=_i&&_i.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&LI(e,t,n)};Object.defineProperty(_i,"__esModule",{value:!0});_i.createProtocolConnection=void 0;var kI=Vp();gy(Vp(),_i);gy(hy(),_i);function MI(t,e,n,r){return kI.createMessageConnection(t,e,n,r)}_i.createProtocolConnection=MI});var Gp=X(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.generateUuid=Nr.parse=Nr.isUUID=Nr.v4=Nr.empty=void 0;var xu=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Ue=class extends xu{constructor(){super([Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),"-",Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),"-","4",Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),"-",Ue._oneOf(Ue._timeHighBits),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),"-",Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return Ue._oneOf(Ue._chars)}};Ue._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Ue._timeHighBits=["8","9","a","b"];Nr.empty=new xu("00000000-0000-0000-0000-000000000000");function _y(){return new Ue}Nr.v4=_y;var BI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function yy(t){return BI.test(t)}Nr.isUUID=yy;function VI(t){if(!yy(t))throw new Error("invalid uuid");return new xu(t)}Nr.parse=VI;function qI(){return _y().asHex()}Nr.generateUuid=qI});var Ty=X(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.attachPartialResult=rs.ProgressFeature=rs.attachWorkDone=void 0;var ns=Bn(),jI=Gp(),ki=class{constructor(e,n){this._connection=e,this._token=n,ki.Instances.set(this._token,this)}begin(e,n,r,i){let s={kind:"begin",title:e,percentage:n,message:r,cancellable:i};this._connection.sendProgress(ns.WorkDoneProgress.type,this._token,s)}report(e,n){let r={kind:"report"};typeof e=="number"?(r.percentage=e,n!==void 0&&(r.message=n)):r.message=e,this._connection.sendProgress(ns.WorkDoneProgress.type,this._token,r)}done(){ki.Instances.delete(this._token),this._connection.sendProgress(ns.WorkDoneProgress.type,this._token,{kind:"end"})}};ki.Instances=new Map;var Yp=class extends ki{constructor(e,n){super(e,n);this._source=new ns.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},Ru=class{constructor(){}begin(){}report(){}done(){}},Hp=class extends Ru{constructor(){super();this._source=new ns.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function UI(t,e){if(e===void 0||e.workDoneToken===void 0)return new Ru;let n=e.workDoneToken;return delete e.workDoneToken,new ki(t,n)}rs.attachWorkDone=UI;var WI=t=>class extends t{constructor(){super();this._progressSupported=!1}initialize(e){var n;((n=e==null?void 0:e.window)===null||n===void 0?void 0:n.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(ns.WorkDoneProgressCancelNotification.type,r=>{let i=ki.Instances.get(r.token);(i instanceof Yp||i instanceof Hp)&&i.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new Ru:new ki(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){let e=jI.generateUuid();return this.connection.sendRequest(ns.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new Yp(this.connection,e))}else return Promise.resolve(new Hp)}};rs.ProgressFeature=WI;var $p;(function(t){t.type=new ns.ProgressType})($p||($p={}));var by=class{constructor(e,n){this._connection=e,this._token=n}report(e){this._connection.sendProgress($p.type,this._token,e)}};function GI(t,e){if(e===void 0||e.partialResultToken===void 0)return;let n=e.partialResultToken;return delete e.partialResultToken,new by(t,n)}rs.attachPartialResult=GI});var vy=X(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.ConfigurationFeature=void 0;var YI=Bn(),HI=bu(),$I=t=>class extends t{getConfiguration(e){return e?HI.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let n={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(YI.ConfigurationRequest.type,n).then(r=>Array.isArray(e)?r:r[0])}};wu.ConfigurationFeature=$I});var Ny=X(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.WorkspaceFoldersFeature=void 0;var Ou=Bn(),KI=t=>class extends t{initialize(e){let n=e.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Ou.Emitter,this.connection.onNotification(Ou.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(Ou.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(Ou.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};Fu.WorkspaceFoldersFeature=KI});var Cy=X(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.CallHierarchyFeature=void 0;var Kp=Bn(),zI=t=>class extends t{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest(Kp.CallHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))},onIncomingCalls:e=>{let n=Kp.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:e=>{let n=Kp.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Lu.CallHierarchyFeature=zI});var Xp=X(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.SemanticTokensBuilder=La.SemanticTokensFeature=void 0;var zp=Bn(),XI=t=>class extends t{get semanticTokens(){return{on:e=>{let n=zp.SemanticTokensRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:e=>{let n=zp.SemanticTokensDeltaRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:e=>{let n=zp.SemanticTokensRangeRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};La.SemanticTokensFeature=XI;var Py=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,n,r,i,s){let a=e,o=n;this._dataLen>0&&(a-=this._prevLine,a===0&&(o-=this._prevChar)),this._data[this._dataLen++]=a,this._data[this._dataLen++]=o,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=e,this._prevChar=n}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){let e=this._prevData.length,n=this._data.length,r=0;for(;r<n&&r<e&&this._prevData[r]===this._data[r];)r++;if(r<n&&r<e){let i=0;for(;i<n&&i<e&&this._prevData[e-1-i]===this._data[n-1-i];)i++;let s=this._data.slice(r,n-i);return{resultId:this.id,edits:[{start:r,deleteCount:e-i-r,data:s}]}}else return r<n?{resultId:this.id,edits:[{start:r,deleteCount:0,data:this._data.slice(r)}]}:r<e?{resultId:this.id,edits:[{start:r,deleteCount:e-r}]}:{resultId:this.id,edits:[]}}else return this.build()}};La.SemanticTokensBuilder=Py});var Dy=X(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.ShowDocumentFeature=void 0;var QI=Bn(),JI=t=>class extends t{showDocument(e){return this.connection.sendRequest(QI.ShowDocumentRequest.type,e)}};ku.ShowDocumentFeature=JI});var Sy=X(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.FileOperationsFeature=void 0;var ka=Bn(),ZI=t=>class extends t{onDidCreateFiles(e){this.connection.onNotification(ka.DidCreateFilesNotification.type,n=>{e(n)})}onDidRenameFiles(e){this.connection.onNotification(ka.DidRenameFilesNotification.type,n=>{e(n)})}onDidDeleteFiles(e){this.connection.onNotification(ka.DidDeleteFilesNotification.type,n=>{e(n)})}onWillCreateFiles(e){return this.connection.onRequest(ka.WillCreateFilesRequest.type,(n,r)=>e(n,r))}onWillRenameFiles(e){return this.connection.onRequest(ka.WillRenameFilesRequest.type,(n,r)=>e(n,r))}onWillDeleteFiles(e){return this.connection.onRequest(ka.WillDeleteFilesRequest.type,(n,r)=>e(n,r))}};Mu.FileOperationsFeature=ZI});var Ay=X(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.LinkedEditingRangeFeature=void 0;var eE=Bn(),tE=t=>class extends t{onLinkedEditingRange(e){this.connection.onRequest(eE.LinkedEditingRangeRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))}};Bu.LinkedEditingRangeFeature=tE});var Iy=X(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.MonikerFeature=void 0;var nE=Bn(),rE=t=>class extends t{get moniker(){return{on:e=>{let n=nE.MonikerRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Vu.MonikerFeature=rE});var sd=X(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.createConnection=Xe.combineFeatures=Xe.combineLanguagesFeatures=Xe.combineWorkspaceFeatures=Xe.combineWindowFeatures=Xe.combineClientFeatures=Xe.combineTracerFeatures=Xe.combineTelemetryFeatures=Xe.combineConsoleFeatures=Xe._LanguagesImpl=Xe.BulkUnregistration=Xe.BulkRegistration=Xe.ErrorMessageTracker=Xe.TextDocuments=void 0;var ae=Bn(),Cr=bu(),Qp=Gp(),Be=Ty(),iE=vy(),sE=Ny(),aE=Cy(),oE=Xp(),lE=Dy(),uE=Sy(),cE=Ay(),fE=Iy();function Jp(t){if(t!==null)return t}var Ey=class{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new ae.Emitter,this._onDidOpen=new ae.Emitter,this._onDidClose=new ae.Emitter,this._onDidSave=new ae.Emitter,this._onWillSave=new ae.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map(e=>this._documents[e])}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=ae.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(n=>{let r=n.textDocument,i=this._configuration.create(r.uri,r.languageId,r.version,r.text);this._documents[r.uri]=i;let s=Object.freeze({document:i});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)}),e.onDidChangeTextDocument(n=>{let r=n.textDocument,i=n.contentChanges;if(i.length===0)return;let s=this._documents[r.uri],{version:a}=r;if(a==null)throw new Error(`Received document change event for ${r.uri} without valid version identifier`);s=this._configuration.update(s,i,a),this._documents[r.uri]=s,this._onDidChangeContent.fire(Object.freeze({document:s}))}),e.onDidCloseTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&(delete this._documents[n.textDocument.uri],this._onDidClose.fire(Object.freeze({document:r})))}),e.onWillSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onWillSave.fire(Object.freeze({document:r,reason:n.reason}))}),e.onWillSaveTextDocumentWaitUntil((n,r)=>{let i=this._documents[n.textDocument.uri];return i&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:i,reason:n.reason}),r):[]}),e.onDidSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onDidSave.fire(Object.freeze({document:r}))})}};Xe.TextDocuments=Ey;var xy=class{constructor(){this._messages=Object.create(null)}add(e){let n=this._messages[e];n||(n=0),n++,this._messages[e]=n}sendErrors(e){Object.keys(this._messages).forEach(n=>{e.window.showErrorMessage(n)})}};Xe.ErrorMessageTracker=xy;var Zp=class{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(ae.MessageType.Error,e)}warn(e){this.send(ae.MessageType.Warning,e)}info(e){this.send(ae.MessageType.Info,e)}log(e){this.send(ae.MessageType.Log,e)}send(e,n){this._rawConnection&&this._rawConnection.sendNotification(ae.LogMessageNotification.type,{type:e,message:n})}},Ry=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...n){let r={type:ae.MessageType.Error,message:e,actions:n};return this.connection.sendRequest(ae.ShowMessageRequest.type,r).then(Jp)}showWarningMessage(e,...n){let r={type:ae.MessageType.Warning,message:e,actions:n};return this.connection.sendRequest(ae.ShowMessageRequest.type,r).then(Jp)}showInformationMessage(e,...n){let r={type:ae.MessageType.Info,message:e,actions:n};return this.connection.sendRequest(ae.ShowMessageRequest.type,r).then(Jp)}},wy=lE.ShowDocumentFeature(Be.ProgressFeature(Ry)),pE;(function(t){function e(){return new ed}t.create=e})(pE=Xe.BulkRegistration||(Xe.BulkRegistration={}));var ed=class{constructor(){this._registrations=[],this._registered=new Set}add(e,n){let r=Cr.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let i=Qp.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},dE;(function(t){function e(){return new qu(void 0,[])}t.create=e})(dE=Xe.BulkUnregistration||(Xe.BulkUnregistration={}));var qu=class{constructor(e,n){this._connection=e,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let n={unregisterations:e};this._connection.sendRequest(ae.UnregistrationRequest.type,n).then(void 0,r=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){let n=Cr.string(e)?e:e.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(ae.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},s=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},td=class{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,n,r){return e instanceof ed?this.registerMany(e):e instanceof qu?this.registerSingle1(e,n,r):this.registerSingle2(e,n)}registerSingle1(e,n,r){let i=Cr.string(n)?n:n.method,s=Qp.generateUuid(),a={registrations:[{id:s,method:i,registerOptions:r||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(ae.RegistrationRequest.type,a).then(o=>(e.add({id:s,method:i}),e),o=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(o)))}registerSingle2(e,n){let r=Cr.string(e)?e:e.method,i=Qp.generateUuid(),s={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(ae.RegistrationRequest.type,s).then(a=>ae.Disposable.create(()=>{this.unregisterSingle(i,r)}),a=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(a)))}unregisterSingle(e,n){let r={unregisterations:[{id:e,method:n}]};return this.connection.sendRequest(ae.UnregistrationRequest.type,r).then(void 0,i=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let n=e.asRegistrationParams();return this.connection.sendRequest(ae.RegistrationRequest.type,n).then(()=>new qu(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},Oy=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function n(i){return i&&!!i.edit}let r=n(e)?e:{edit:e};return this.connection.sendRequest(ae.ApplyWorkspaceEditRequest.type,r)}},Fy=uE.FileOperationsFeature(sE.WorkspaceFoldersFeature(iE.ConfigurationFeature(Oy))),nd=class{constructor(){this._trace=ae.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,n){this._trace!==ae.Trace.Off&&this.connection.sendNotification(ae.LogTraceNotification.type,{message:e,verbose:this._trace===ae.Trace.Verbose?n:void 0})}},rd=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(ae.TelemetryEventNotification.type,e)}},id=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return Be.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,n){return Be.attachPartialResult(this.connection,n)}};Xe._LanguagesImpl=id;var Ly=fE.MonikerFeature(cE.LinkedEditingRangeFeature(oE.SemanticTokensFeature(aE.CallHierarchyFeature(id))));function ky(t,e){return function(n){return e(t(n))}}Xe.combineConsoleFeatures=ky;function My(t,e){return function(n){return e(t(n))}}Xe.combineTelemetryFeatures=My;function By(t,e){return function(n){return e(t(n))}}Xe.combineTracerFeatures=By;function Vy(t,e){return function(n){return e(t(n))}}Xe.combineClientFeatures=Vy;function qy(t,e){return function(n){return e(t(n))}}Xe.combineWindowFeatures=qy;function jy(t,e){return function(n){return e(t(n))}}Xe.combineWorkspaceFeatures=jy;function mE(t,e){return function(n){return e(t(n))}}Xe.combineLanguagesFeatures=mE;function hE(t,e){function n(i,s,a){return i&&s?a(i,s):i||s}return{__brand:"features",console:n(t.console,e.console,ky),tracer:n(t.tracer,e.tracer,By),telemetry:n(t.telemetry,e.telemetry,My),client:n(t.client,e.client,Vy),window:n(t.window,e.window,qy),workspace:n(t.workspace,e.workspace,jy)}}Xe.combineFeatures=hE;function gE(t,e,n){let r=n&&n.console?new(n.console(Zp)):new Zp,i=t(r);r.rawAttach(i);let s=n&&n.tracer?new(n.tracer(nd)):new nd,a=n&&n.telemetry?new(n.telemetry(rd)):new rd,o=n&&n.client?new(n.client(td)):new td,l=n&&n.window?new(n.window(wy)):new wy,u=n&&n.workspace?new(n.workspace(Fy)):new Fy,c=n&&n.languages?new(n.languages(Ly)):new Ly,f=[r,s,a,o,l,u,c];function d(h){return h instanceof Promise?h:Cr.thenable(h)?new Promise((b,y)=>{h.then(x=>b(x),x=>y(x))}):Promise.resolve(h)}let _,p,m,g={listen:()=>i.listen(),sendRequest:(h,...b)=>i.sendRequest(Cr.string(h)?h:h.method,...b),onRequest:(h,b)=>i.onRequest(h,b),sendNotification:(h,b)=>{let y=Cr.string(h)?h:h.method;arguments.length===1?i.sendNotification(y):i.sendNotification(y,b)},onNotification:(h,b)=>i.onNotification(h,b),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:h=>p=h,onInitialized:h=>i.onNotification(ae.InitializedNotification.type,h),onShutdown:h=>_=h,onExit:h=>m=h,get console(){return r},get telemetry(){return a},get tracer(){return s},get client(){return o},get window(){return l},get workspace(){return u},get languages(){return c},onDidChangeConfiguration:h=>i.onNotification(ae.DidChangeConfigurationNotification.type,h),onDidChangeWatchedFiles:h=>i.onNotification(ae.DidChangeWatchedFilesNotification.type,h),__textDocumentSync:void 0,onDidOpenTextDocument:h=>i.onNotification(ae.DidOpenTextDocumentNotification.type,h),onDidChangeTextDocument:h=>i.onNotification(ae.DidChangeTextDocumentNotification.type,h),onDidCloseTextDocument:h=>i.onNotification(ae.DidCloseTextDocumentNotification.type,h),onWillSaveTextDocument:h=>i.onNotification(ae.WillSaveTextDocumentNotification.type,h),onWillSaveTextDocumentWaitUntil:h=>i.onRequest(ae.WillSaveTextDocumentWaitUntilRequest.type,h),onDidSaveTextDocument:h=>i.onNotification(ae.DidSaveTextDocumentNotification.type,h),sendDiagnostics:h=>i.sendNotification(ae.PublishDiagnosticsNotification.type,h),onHover:h=>i.onRequest(ae.HoverRequest.type,(b,y)=>h(b,y,Be.attachWorkDone(i,b),void 0)),onCompletion:h=>i.onRequest(ae.CompletionRequest.type,(b,y)=>h(b,y,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onCompletionResolve:h=>i.onRequest(ae.CompletionResolveRequest.type,h),onSignatureHelp:h=>i.onRequest(ae.SignatureHelpRequest.type,(b,y)=>h(b,y,Be.attachWorkDone(i,b),void 0)),onDeclaration:h=>i.onRequest(ae.DeclarationRequest.type,(b,y)=>h(b,y,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onDefinition:h=>i.onRequest(ae.DefinitionRequest.type,(b,y)=>h(b,y,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onTypeDefinition:h=>i.onRequest(ae.TypeDefinitionRequest.type,(b,y)=>h(b,y,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onImplementation:h=>i.onRequest(ae.ImplementationRequest.type,(b,y)=>h(b,y,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onReferences:h=>i.onRequest(ae.ReferencesRequest.type,(b,y)=>h(b,y,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onDocumentHighlight:h=>i.onRequest(ae.DocumentHighlightRequest.type,(b,y)=>h(b,y,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onDocumentSymbol:h=>i.onRequest(ae.DocumentSymbolRequest.type,(b,y)=>h(b,y,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onWorkspaceSymbol:h=>i.onRequest(ae.WorkspaceSymbolRequest.type,(b,y)=>h(b,y,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onCodeAction:h=>i.onRequest(ae.CodeActionRequest.type,(b,y)=>h(b,y,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onCodeActionResolve:h=>i.onRequest(ae.CodeActionResolveRequest.type,(b,y)=>h(b,y)),onCodeLens:h=>i.onRequest(ae.CodeLensRequest.type,(b,y)=>h(b,y,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onCodeLensResolve:h=>i.onRequest(ae.CodeLensResolveRequest.type,(b,y)=>h(b,y)),onDocumentFormatting:h=>i.onRequest(ae.DocumentFormattingRequest.type,(b,y)=>h(b,y,Be.attachWorkDone(i,b),void 0)),onDocumentRangeFormatting:h=>i.onRequest(ae.DocumentRangeFormattingRequest.type,(b,y)=>h(b,y,Be.attachWorkDone(i,b),void 0)),onDocumentOnTypeFormatting:h=>i.onRequest(ae.DocumentOnTypeFormattingRequest.type,(b,y)=>h(b,y)),onRenameRequest:h=>i.onRequest(ae.RenameRequest.type,(b,y)=>h(b,y,Be.attachWorkDone(i,b),void 0)),onPrepareRename:h=>i.onRequest(ae.PrepareRenameRequest.type,(b,y)=>h(b,y)),onDocumentLinks:h=>i.onRequest(ae.DocumentLinkRequest.type,(b,y)=>h(b,y,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onDocumentLinkResolve:h=>i.onRequest(ae.DocumentLinkResolveRequest.type,(b,y)=>h(b,y)),onDocumentColor:h=>i.onRequest(ae.DocumentColorRequest.type,(b,y)=>h(b,y,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onColorPresentation:h=>i.onRequest(ae.ColorPresentationRequest.type,(b,y)=>h(b,y,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onFoldingRanges:h=>i.onRequest(ae.FoldingRangeRequest.type,(b,y)=>h(b,y,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onSelectionRanges:h=>i.onRequest(ae.SelectionRangeRequest.type,(b,y)=>h(b,y,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onExecuteCommand:h=>i.onRequest(ae.ExecuteCommandRequest.type,(b,y)=>h(b,y,Be.attachWorkDone(i,b),void 0)),dispose:()=>i.dispose()};for(let h of f)h.attach(g);return i.onRequest(ae.InitializeRequest.type,h=>{e.initialize(h),Cr.string(h.trace)&&(s.trace=ae.Trace.fromString(h.trace));for(let b of f)b.initialize(h.capabilities);if(p){let b=p(h,new ae.CancellationTokenSource().token,Be.attachWorkDone(i,h),void 0);return d(b).then(y=>{if(y instanceof ae.ResponseError)return y;let x=y;x||(x={capabilities:{}});let D=x.capabilities;D||(D={},x.capabilities=D),D.textDocumentSync===void 0||D.textDocumentSync===null?D.textDocumentSync=Cr.number(g.__textDocumentSync)?g.__textDocumentSync:ae.TextDocumentSyncKind.None:!Cr.number(D.textDocumentSync)&&!Cr.number(D.textDocumentSync.change)&&(D.textDocumentSync.change=Cr.number(g.__textDocumentSync)?g.__textDocumentSync:ae.TextDocumentSyncKind.None);for(let G of f)G.fillServerCapabilities(D);return x})}else{let b={capabilities:{textDocumentSync:ae.TextDocumentSyncKind.None}};for(let y of f)y.fillServerCapabilities(b.capabilities);return b}}),i.onRequest(ae.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,_)return _(new ae.CancellationTokenSource().token)}),i.onNotification(ae.ExitNotification.type,()=>{try{m&&m()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),i.onNotification(ae.SetTraceNotification.type,h=>{s.trace=ae.Trace.fromString(h.value)}),g}Xe.createConnection=gE});var Wy=X(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.resolveModulePath=In.FileSystem=In.resolveGlobalYarnPath=In.resolveGlobalNodePath=In.resolve=In.uriToFilePath=void 0;var _E=require("url"),Zr=require("path"),ad=require("fs"),od=require("child_process");function yE(t){let e=_E.parse(t);if(e.protocol!=="file:"||!e.path)return;let n=e.path.split("/");for(var r=0,i=n.length;r<i;r++)n[r]=decodeURIComponent(n[r]);if(process.platform==="win32"&&n.length>1){let s=n[0],a=n[1];s.length===0&&a.length>1&&a[1]===":"&&n.shift()}return Zr.normalize(n.join("/"))}In.uriToFilePath=yE;function ld(){return process.platform==="win32"}function ju(t,e,n,r){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((a,o)=>{let l=process.env,u=Object.create(null);Object.keys(l).forEach(c=>u[c]=l[c]),e&&ad.existsSync(e)&&(u[i]?u[i]=e+Zr.delimiter+u[i]:u[i]=e,r&&r(`NODE_PATH value is: ${u[i]}`)),u.ELECTRON_RUN_AS_NODE="1";try{let c=od.fork("",[],{cwd:n,env:u,execArgv:["-e",s]});if(c.pid===void 0){o(new Error(`Starting process to resolve node module  ${t} failed`));return}c.on("error",d=>{o(d)}),c.on("message",d=>{d.c==="r"&&(c.send({c:"e"}),d.s?a(d.r):o(new Error(`Failed to resolve module: ${t}`)))});let f={c:"rs",a:t};c.send(f)}catch(c){o(c)}})}In.resolve=ju;function ud(t){let e="npm",n=Object.create(null);Object.keys(process.env).forEach(s=>n[s]=process.env[s]),n.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:n};ld()&&(e="npm.cmd",r.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let s=od.spawnSync(e,["config","get","prefix"],r).stdout;if(!s){t&&t("'npm config get prefix' didn't return a value.");return}let a=s.trim();return t&&t(`'npm config get prefix' value is: ${a}`),a.length>0?ld()?Zr.join(a,"node_modules"):Zr.join(a,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}In.resolveGlobalNodePath=ud;function bE(t){let e="yarn",n={encoding:"utf8"};ld()&&(e="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let i=od.spawnSync(e,["global","dir","--json"],n),s=i.stdout;if(!s){t&&(t("'yarn global dir' didn't return a value."),i.stderr&&t(i.stderr));return}let a=s.trim().split(/\r?\n/);for(let o of a)try{let l=JSON.parse(o);if(l.type==="log")return Zr.join(l.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}In.resolveGlobalYarnPath=bE;var Uy;(function(t){let e;function n(){return e!==void 0||(process.platform==="win32"?e=!1:e=!ad.existsSync(__filename.toUpperCase())||!ad.existsSync(__filename.toLowerCase())),e}t.isCaseSensitive=n;function r(i,s){return n()?Zr.normalize(s).indexOf(Zr.normalize(i))===0:Zr.normalize(s).toLowerCase().indexOf(Zr.normalize(i).toLowerCase())===0}t.isParent=r})(Uy=In.FileSystem||(In.FileSystem={}));function TE(t,e,n,r){return n?(Zr.isAbsolute(n)||(n=Zr.join(t,n)),ju(e,n,n,r).then(i=>Uy.isParent(n,i)?i:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,i=>ju(e,ud(r),t,r))):ju(e,ud(r),t,r)}In.resolveModulePath=TE});var cd=X((BB,Gy)=>{"use strict";Gy.exports=Bn()});var Hy=X(Jn=>{"use strict";var vE=Jn&&Jn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Yy=Jn&&Jn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&vE(e,t,n)};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.ProposedFeatures=Jn.SemanticTokensBuilder=void 0;var NE=Xp();Object.defineProperty(Jn,"SemanticTokensBuilder",{enumerable:!0,get:function(){return NE.SemanticTokensBuilder}});Yy(Bn(),Jn);Yy(sd(),Jn);var CE;(function(t){t.all={__brand:"features"}})(CE=Jn.ProposedFeatures||(Jn.ProposedFeatures={}))});var ei=X(Zn=>{"use strict";var PE=Zn&&Zn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),$y=Zn&&Zn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&PE(e,t,n)};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.createConnection=Zn.Files=void 0;var fd=bu(),DE=sd(),dl=Wy(),qs=cd();$y(cd(),Zn);$y(Hy(),Zn);var SE;(function(t){t.uriToFilePath=dl.uriToFilePath,t.resolveGlobalNodePath=dl.resolveGlobalNodePath,t.resolveGlobalYarnPath=dl.resolveGlobalYarnPath,t.resolve=dl.resolve,t.resolveModulePath=dl.resolveModulePath})(SE=Zn.Files||(Zn.Files={}));var Ky;function Uu(){if(Ky!==void 0)try{Ky.end()}catch{}}var Ma=!1,zy;function AE(){let t="--clientProcessId";function e(n){try{let r=parseInt(n);isNaN(r)||(zy=setInterval(()=>{try{process.kill(r,0)}catch{Uu(),process.exit(Ma?0:1)}},3e3))}catch{}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===t&&n+1<process.argv.length){e(process.argv[n+1]);return}else{let i=r.split("=");i[0]===t&&e(i[1])}}}AE();var IE={initialize:t=>{let e=t.processId;fd.number(e)&&zy===void 0&&setInterval(()=>{try{process.kill(e,0)}catch{process.exit(Ma?0:1)}},3e3)},get shutdownReceived(){return Ma},set shutdownReceived(t){Ma=t},exit:t=>{Uu(),process.exit(t)}};function EE(t,e,n,r){let i,s,a,o;return t!==void 0&&t.__brand==="features"&&(i=t,t=e,e=n,n=r),qs.ConnectionStrategy.is(t)||qs.ConnectionOptions.is(t)?o=t:(s=t,a=e,o=n),xE(s,a,o,i)}Zn.createConnection=EE;function xE(t,e,n,r){if(!t&&!e&&process.argv.length>2){let o,l,u=process.argv.slice(2);for(let c=0;c<u.length;c++){let f=u[c];if(f==="--node-ipc"){t=new qs.IPCMessageReader(process),e=new qs.IPCMessageWriter(process);break}else if(f==="--stdio"){t=process.stdin,e=process.stdout;break}else if(f==="--socket"){o=parseInt(u[c+1]);break}else if(f==="--pipe"){l=u[c+1];break}else{var i=f.split("=");if(i[0]==="--socket"){o=parseInt(i[1]);break}else if(i[0]==="--pipe"){l=i[1];break}}}if(o){let c=qs.createServerSocketTransport(o);t=c[0],e=c[1]}else if(l){let c=qs.createServerPipeTransport(l);t=c[0],e=c[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+s);if(!e)throw new Error("Connection output stream is not set. "+s);if(fd.func(t.read)&&fd.func(t.on)){let o=t;o.on("end",()=>{Uu(),process.exit(Ma?0:1)}),o.on("close",()=>{Uu(),process.exit(Ma?0:1)})}let a=o=>qs.createProtocolConnection(t,e,o,n);return DE.createConnection(a,IE,r)}});var gs=X(qn=>{"use strict";var ji={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},El={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"},dw="tag:yaml.org,2002:",mw={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};function M0(t){let e=[0],n=t.indexOf(`
`);for(;n!==-1;)n+=1,e.push(n),n=t.indexOf(`
`,n);return e}function B0(t){let e,n;return typeof t=="string"?(e=M0(t),n=t):(Array.isArray(t)&&(t=t[0]),t&&t.context&&(t.lineStarts||(t.lineStarts=M0(t.context.src)),e=t.lineStarts,n=t.context.src)),{lineStarts:e,src:n}}function ym(t,e){if(typeof t!="number"||t<0)return null;let{lineStarts:n,src:r}=B0(e);if(!n||!r||t>r.length)return null;for(let s=0;s<n.length;++s){let a=n[s];if(t<a)return{line:s,col:t-n[s-1]+1};if(t===a)return{line:s+1,col:1}}let i=n.length;return{line:i,col:t-n[i-1]+1}}function hw(t,e){let{lineStarts:n,src:r}=B0(e);if(!n||!(t>=1)||t>n.length)return null;let i=n[t-1],s=n[t];for(;s&&s>i&&r[s-1]===`
`;)--s;return r.slice(i,s)}function gw({start:t,end:e},n,r=80){let i=hw(t.line,n);if(!i)return null;let{col:s}=t;if(i.length>r)if(s<=r-10)i=i.substr(0,r-1)+"\u2026";else{let c=Math.round(r/2);i.length>s+c&&(i=i.substr(0,s+c-1)+"\u2026"),s-=i.length-r,i="\u2026"+i.substr(1-r)}let a=1,o="";e&&(e.line===t.line&&s+(e.col-t.col)<=r+1?a=e.col-t.col:(a=Math.min(i.length+1,r)-s,o="\u2026"));let l=s>1?" ".repeat(s-1):"",u="^".repeat(a);return`${i}
${l}${u}${o}`}var Xs=class{static copy(e){return new Xs(e.start,e.end)}constructor(e,n){this.start=e,this.end=n||e}isEmpty(){return typeof this.start!="number"||!this.end||this.end<=this.start}setOrigRange(e,n){let{start:r,end:i}=this;if(e.length===0||i<=e[0])return this.origStart=r,this.origEnd=i,n;let s=n;for(;s<e.length&&!(e[s]>r);)++s;this.origStart=r+s;let a=s;for(;s<e.length&&!(e[s]>=i);)++s;return this.origEnd=i+s,a}},pn=class{static addStringTerminator(e,n,r){if(r[r.length-1]===`
`)return r;let i=pn.endOfWhiteSpace(e,n);return i>=e.length||e[i]===`
`?r+`
`:r}static atDocumentBoundary(e,n,r){let i=e[n];if(!i)return!0;let s=e[n-1];if(s&&s!==`
`)return!1;if(r){if(i!==r)return!1}else if(i!==ji.DIRECTIVES_END&&i!==ji.DOCUMENT_END)return!1;let a=e[n+1],o=e[n+2];if(a!==i||o!==i)return!1;let l=e[n+3];return!l||l===`
`||l==="	"||l===" "}static endOfIdentifier(e,n){let r=e[n],i=r==="<",s=i?[`
`,"	"," ",">"]:[`
`,"	"," ","[","]","{","}",","];for(;r&&s.indexOf(r)===-1;)r=e[n+=1];return i&&r===">"&&(n+=1),n}static endOfIndent(e,n){let r=e[n];for(;r===" ";)r=e[n+=1];return n}static endOfLine(e,n){let r=e[n];for(;r&&r!==`
`;)r=e[n+=1];return n}static endOfWhiteSpace(e,n){let r=e[n];for(;r==="	"||r===" ";)r=e[n+=1];return n}static startOfLine(e,n){let r=e[n-1];if(r===`
`)return n;for(;r&&r!==`
`;)r=e[n-=1];return n+1}static endOfBlockIndent(e,n,r){let i=pn.endOfIndent(e,r);if(i>r+n)return i;{let s=pn.endOfWhiteSpace(e,i),a=e[s];if(!a||a===`
`)return s}return null}static atBlank(e,n,r){let i=e[n];return i===`
`||i==="	"||i===" "||r&&!i}static nextNodeIsIndented(e,n,r){return!e||n<0?!1:n>0?!0:r&&e==="-"}static normalizeOffset(e,n){let r=e[n];return r?r!==`
`&&e[n-1]===`
`?n-1:pn.endOfWhiteSpace(e,n):n}static foldNewline(e,n,r){let i=0,s=!1,a="",o=e[n+1];for(;o===" "||o==="	"||o===`
`;){switch(o){case`
`:i=0,n+=1,a+=`
`;break;case"	":i<=r&&(s=!0),n=pn.endOfWhiteSpace(e,n+2)-1;break;case" ":i+=1,n+=1;break}o=e[n+1]}return a||(a=" "),o&&i<=r&&(s=!0),{fold:a,offset:n,error:s}}constructor(e,n,r){Object.defineProperty(this,"context",{value:r||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=n||[],this.type=e,this.value=null}getPropValue(e,n,r){if(!this.context)return null;let{src:i}=this.context,s=this.props[e];return s&&i[s.start]===n?i.slice(s.start+(r?1:0),s.end):null}get anchor(){for(let e=0;e<this.props.length;++e){let n=this.getPropValue(e,ji.ANCHOR,!0);if(n!=null)return n}return null}get comment(){let e=[];for(let n=0;n<this.props.length;++n){let r=this.getPropValue(n,ji.COMMENT,!0);r!=null&&e.push(r)}return e.length>0?e.join(`
`):null}commentHasRequiredWhitespace(e){let{src:n}=this.context;if(this.header&&e===this.header.end||!this.valueRange)return!1;let{end:r}=this.valueRange;return e!==r||pn.atBlank(n,r-1)}get hasComment(){if(this.context){let{src:e}=this.context;for(let n=0;n<this.props.length;++n)if(e[this.props[n].start]===ji.COMMENT)return!0}return!1}get hasProps(){if(this.context){let{src:e}=this.context;for(let n=0;n<this.props.length;++n)if(e[this.props[n].start]!==ji.COMMENT)return!0}return!1}get includesTrailingLines(){return!1}get jsonLike(){return[El.FLOW_MAP,El.FLOW_SEQ,El.QUOTE_DOUBLE,El.QUOTE_SINGLE].indexOf(this.type)!==-1}get rangeAsLinePos(){if(!this.range||!this.context)return;let e=ym(this.range.start,this.context.root);if(!e)return;let n=ym(this.range.end,this.context.root);return{start:e,end:n}}get rawValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange;return this.context.src.slice(e,n)}get tag(){for(let e=0;e<this.props.length;++e){let n=this.getPropValue(e,ji.TAG,!1);if(n!=null){if(n[1]==="<")return{verbatim:n.slice(2,-1)};{let[r,i,s]=n.match(/^(.*!)([^!]*)$/);return{handle:i,suffix:s}}}}return null}get valueRangeContainsNewline(){if(!this.valueRange||!this.context)return!1;let{start:e,end:n}=this.valueRange,{src:r}=this.context;for(let i=e;i<n;++i)if(r[i]===`
`)return!0;return!1}parseComment(e){let{src:n}=this.context;if(n[e]===ji.COMMENT){let r=pn.endOfLine(n,e+1),i=new Xs(e,r);return this.props.push(i),r}return e}setOrigRanges(e,n){return this.range&&(n=this.range.setOrigRange(e,n)),this.valueRange&&this.valueRange.setOrigRange(e,n),this.props.forEach(r=>r.setOrigRange(e,n)),n}toString(){let{context:{src:e},range:n,value:r}=this;if(r!=null)return r;let i=e.slice(n.start,n.end);return pn.addStringTerminator(e,n.end,i)}},_o=class extends Error{constructor(e,n,r){if(!r||!(n instanceof pn))throw new Error(`Invalid arguments for new ${e}`);super();this.name=e,this.message=r,this.source=n}makePretty(){if(!this.source)return;this.nodeType=this.source.type;let e=this.source.context&&this.source.context.root;if(typeof this.offset=="number"){this.range=new Xs(this.offset,this.offset+1);let n=e&&ym(this.offset,e);if(n){let r={line:n.line,col:n.col+1};this.linePos={start:n,end:r}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){let{line:n,col:r}=this.linePos.start;this.message+=` at line ${n}, column ${r}`;let i=e&&gw(this.linePos,e);i&&(this.message+=`:

${i}
`)}delete this.source}},V0=class extends _o{constructor(e,n){super("YAMLReferenceError",e,n)}},Gc=class extends _o{constructor(e,n){super("YAMLSemanticError",e,n)}},q0=class extends _o{constructor(e,n){super("YAMLSyntaxError",e,n)}},j0=class extends _o{constructor(e,n){super("YAMLWarning",e,n)}};function _w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xl=class extends pn{static endOfLine(e,n,r){let i=e[n],s=n;for(;i&&i!==`
`&&!(r&&(i==="["||i==="]"||i==="{"||i==="}"||i===","));){let a=e[s+1];if(i===":"&&(!a||a===`
`||a==="	"||a===" "||r&&a===",")||(i===" "||i==="	")&&a==="#")break;s+=1,i=a}return s}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange,{src:r}=this.context,i=r[n-1];for(;e<n&&(i===`
`||i==="	"||i===" ");)i=r[--n-1];let s="";for(let o=e;o<n;++o){let l=r[o];if(l===`
`){let{fold:u,offset:c}=pn.foldNewline(r,o,-1);s+=u,o=c}else if(l===" "||l==="	"){let u=o,c=r[o+1];for(;o<n&&(c===" "||c==="	");)o+=1,c=r[o+1];c!==`
`&&(s+=o>u?r.slice(u,o+1):l)}else s+=l}let a=r[e];switch(a){case"	":{let o="Plain value cannot start with a tab character";return{errors:[new Gc(this,o)],str:s}}case"@":case"`":{let o=`Plain value cannot start with reserved character ${a}`;return{errors:[new Gc(this,o)],str:s}}default:return s}}parseBlockValue(e){let{indent:n,inFlow:r,src:i}=this.context,s=e,a=e;for(let o=i[s];o===`
`&&!pn.atDocumentBoundary(i,s+1);o=i[s]){let l=pn.endOfBlockIndent(i,n,s+1);if(l===null||i[l]==="#")break;i[l]===`
`?s=l:(a=xl.endOfLine(i,l,r),s=a)}return this.valueRange.isEmpty()&&(this.valueRange.start=e),this.valueRange.end=a,a}parse(e,n){this.context=e;let{inFlow:r,src:i}=e,s=n,a=i[s];return a&&a!=="#"&&a!==`
`&&(s=xl.endOfLine(i,n,r)),this.valueRange=new Xs(n,s),s=pn.endOfWhiteSpace(i,s),s=this.parseComment(s),(!this.hasComment||this.valueRange.isEmpty())&&(s=this.parseBlockValue(s)),s}};qn.Char=ji;qn.Node=pn;qn.PlainValue=xl;qn.Range=Xs;qn.Type=El;qn.YAMLError=_o;qn.YAMLReferenceError=V0;qn.YAMLSemanticError=Gc;qn.YAMLSyntaxError=q0;qn.YAMLWarning=j0;qn._defineProperty=_w;qn.defaultTagPrefix=dw;qn.defaultTags=mw});var $0=X(H0=>{"use strict";var V=gs(),yo=class extends V.Node{constructor(){super(V.Type.BLANK_LINE)}get includesTrailingLines(){return!0}parse(e,n){return this.context=e,this.range=new V.Range(n,n+1),n+1}},Yc=class extends V.Node{constructor(e,n){super(e,n);this.node=null}get includesTrailingLines(){return!!this.node&&this.node.includesTrailingLines}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,{atLineStart:s,lineStart:a}=e;!s&&this.type===V.Type.SEQ_ITEM&&(this.error=new V.YAMLSemanticError(this,"Sequence items must not have preceding content on the same line"));let o=s?n-a:e.indent,l=V.Node.endOfWhiteSpace(i,n+1),u=i[l],c=u==="#",f=[],d=null;for(;u===`
`||u==="#";){if(u==="#"){let p=V.Node.endOfLine(i,l+1);f.push(new V.Range(l,p)),l=p}else{s=!0,a=l+1;let p=V.Node.endOfWhiteSpace(i,a);i[p]===`
`&&f.length===0&&(d=new yo,a=d.parse({src:i},a)),l=V.Node.endOfIndent(i,a)}u=i[l]}if(V.Node.nextNodeIsIndented(u,l-(a+o),this.type!==V.Type.SEQ_ITEM)?this.node=r({atLineStart:s,inCollection:!1,indent:o,lineStart:a,parent:this},l):u&&a>n+1&&(l=a-1),this.node){if(d){let p=e.parent.items||e.parent.contents;p&&p.push(d)}f.length&&Array.prototype.push.apply(this.props,f),l=this.node.range.end}else if(c){let p=f[0];this.props.push(p),l=p.end}else l=V.Node.endOfLine(i,n+1);let _=this.node?this.node.valueRange.end:l;return this.valueRange=new V.Range(n,_),l}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.node?this.node.setOrigRanges(e,n):n}toString(){let{context:{src:e},node:n,range:r,value:i}=this;if(i!=null)return i;let s=n?e.slice(r.start,n.range.start)+String(n):e.slice(r.start,r.end);return V.Node.addStringTerminator(e,r.end,s)}},bo=class extends V.Node{constructor(){super(V.Type.COMMENT)}parse(e,n){this.context=e;let r=this.parseComment(n);return this.range=new V.Range(n,r),r}};function bm(t){let e=t;for(;e instanceof Yc;)e=e.node;if(!(e instanceof To))return null;let n=e.items.length,r=-1;for(let a=n-1;a>=0;--a){let o=e.items[a];if(o.type===V.Type.COMMENT){let{indent:l,lineStart:u}=o.context;if(l>0&&o.range.start>=u+l)break;r=a}else if(o.type===V.Type.BLANK_LINE)r=a;else break}if(r===-1)return null;let i=e.items.splice(r,n-r),s=i[0].range.start;for(;e.range.end=s,e.valueRange&&e.valueRange.end>s&&(e.valueRange.end=s),e!==t;)e=e.context.parent;return i}var To=class extends V.Node{static nextContentHasIndent(e,n,r){let i=V.Node.endOfLine(e,n)+1;n=V.Node.endOfWhiteSpace(e,i);let s=e[n];return s?n>=i+r?!0:s!=="#"&&s!==`
`?!1:To.nextContentHasIndent(e,n,r):!1}constructor(e){super(e.type===V.Type.SEQ_ITEM?V.Type.SEQ:V.Type.MAP);for(let r=e.props.length-1;r>=0;--r)if(e.props[r].start<e.context.lineStart){this.props=e.props.slice(0,r+1),e.props=e.props.slice(r+1);let i=e.props[0]||e.valueRange;e.range.start=i.start;break}this.items=[e];let n=bm(e);n&&Array.prototype.push.apply(this.items,n)}get includesTrailingLines(){return this.items.length>0}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,s=V.Node.startOfLine(i,n),a=this.items[0];a.context.parent=this,this.valueRange=V.Range.copy(a.valueRange);let o=a.range.start-a.context.lineStart,l=n;l=V.Node.normalizeOffset(i,l);let u=i[l],c=V.Node.endOfWhiteSpace(i,s)===l,f=!1;for(;u;){for(;u===`
`||u==="#";){if(c&&u===`
`&&!f){let p=new yo;if(l=p.parse({src:i},l),this.valueRange.end=l,l>=i.length){u=null;break}this.items.push(p),l-=1}else if(u==="#"){if(l<s+o&&!To.nextContentHasIndent(i,l,o))return l;let p=new bo;if(l=p.parse({indent:o,lineStart:s,src:i},l),this.items.push(p),this.valueRange.end=l,l>=i.length){u=null;break}}if(s=l+1,l=V.Node.endOfIndent(i,s),V.Node.atBlank(i,l)){let p=V.Node.endOfWhiteSpace(i,l),m=i[p];(!m||m===`
`||m==="#")&&(l=p)}u=i[l],c=!0}if(!u)break;if(l!==s+o&&(c||u!==":")){if(l<s+o){s>n&&(l=s);break}else if(!this.error){let p="All collection items must start at the same column";this.error=new V.YAMLSyntaxError(this,p)}}if(a.type===V.Type.SEQ_ITEM){if(u!=="-"){s>n&&(l=s);break}}else if(u==="-"&&!this.error){let p=i[l+1];if(!p||p===`
`||p==="	"||p===" "){let m="A collection cannot be both a mapping and a sequence";this.error=new V.YAMLSyntaxError(this,m)}}let d=r({atLineStart:c,inCollection:!0,indent:o,lineStart:s,parent:this},l);if(!d)return l;if(this.items.push(d),this.valueRange.end=d.valueRange.end,l=V.Node.normalizeOffset(i,d.range.end),u=i[l],c=!1,f=d.includesTrailingLines,u){let p=l-1,m=i[p];for(;m===" "||m==="	";)m=i[--p];m===`
`&&(s=p+1,c=!0)}let _=bm(d);_&&Array.prototype.push.apply(this.items,_)}return l}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.items.forEach(r=>{n=r.setOrigRanges(e,n)}),n}toString(){let{context:{src:e},items:n,range:r,value:i}=this;if(i!=null)return i;let s=e.slice(r.start,n[0].range.start)+String(n[0]);for(let a=1;a<n.length;++a){let o=n[a],{atLineStart:l,indent:u}=o.context;if(l)for(let c=0;c<u;++c)s+=" ";s+=String(o)}return V.Node.addStringTerminator(e,r.end,s)}},U0=class extends V.Node{constructor(){super(V.Type.DIRECTIVE);this.name=null}get parameters(){let e=this.rawValue;return e?e.trim().split(/[ \t]+/):[]}parseName(e){let{src:n}=this.context,r=e,i=n[r];for(;i&&i!==`
`&&i!=="	"&&i!==" ";)i=n[r+=1];return this.name=n.slice(e,r),r}parseParameters(e){let{src:n}=this.context,r=e,i=n[r];for(;i&&i!==`
`&&i!=="#";)i=n[r+=1];return this.valueRange=new V.Range(e,r),r}parse(e,n){this.context=e;let r=this.parseName(n+1);return r=this.parseParameters(r),r=this.parseComment(r),this.range=new V.Range(n,r),r}},Rl=class extends V.Node{static startCommentOrEndBlankLine(e,n){let r=V.Node.endOfWhiteSpace(e,n),i=e[r];return i==="#"||i===`
`?r:n}constructor(){super(V.Type.DOCUMENT);this.directives=null,this.contents=null,this.directivesEndMarker=null,this.documentEndMarker=null}parseDirectives(e){let{src:n}=this.context;this.directives=[];let r=!0,i=!1,s=e;for(;!V.Node.atDocumentBoundary(n,s,V.Char.DIRECTIVES_END);)switch(s=Rl.startCommentOrEndBlankLine(n,s),n[s]){case`
`:if(r){let a=new yo;s=a.parse({src:n},s),s<n.length&&this.directives.push(a)}else s+=1,r=!0;break;case"#":{let a=new bo;s=a.parse({src:n},s),this.directives.push(a),r=!1}break;case"%":{let a=new U0;s=a.parse({parent:this,src:n},s),this.directives.push(a),i=!0,r=!1}break;default:return i?this.error=new V.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s}return n[s]?(this.directivesEndMarker=new V.Range(s,s+3),s+3):(i?this.error=new V.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s)}parseContents(e){let{parseNode:n,src:r}=this.context;this.contents||(this.contents=[]);let i=e;for(;r[i-1]==="-";)i-=1;let s=V.Node.endOfWhiteSpace(r,e),a=i===e;for(this.valueRange=new V.Range(s);!V.Node.atDocumentBoundary(r,s,V.Char.DOCUMENT_END);){switch(r[s]){case`
`:if(a){let o=new yo;s=o.parse({src:r},s),s<r.length&&this.contents.push(o)}else s+=1,a=!0;i=s;break;case"#":{let o=new bo;s=o.parse({src:r},s),this.contents.push(o),a=!1}break;default:{let o=V.Node.endOfIndent(r,s),u=n({atLineStart:a,indent:-1,inFlow:!1,inCollection:!1,lineStart:i,parent:this},o);if(!u)return this.valueRange.end=o;this.contents.push(u),s=u.range.end,a=!1;let c=bm(u);c&&Array.prototype.push.apply(this.contents,c)}}s=Rl.startCommentOrEndBlankLine(r,s)}if(this.valueRange.end=s,r[s]&&(this.documentEndMarker=new V.Range(s,s+3),s+=3,r[s])){if(s=V.Node.endOfWhiteSpace(r,s),r[s]==="#"){let o=new bo;s=o.parse({src:r},s),this.contents.push(o)}switch(r[s]){case`
`:s+=1;break;case void 0:break;default:this.error=new V.YAMLSyntaxError(this,"Document end marker line cannot have a non-comment suffix")}}return s}parse(e,n){e.root=this,this.context=e;let{src:r}=e,i=r.charCodeAt(n)===65279?n+1:n;return i=this.parseDirectives(i),i=this.parseContents(i),i}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.directives.forEach(r=>{n=r.setOrigRanges(e,n)}),this.directivesEndMarker&&(n=this.directivesEndMarker.setOrigRange(e,n)),this.contents.forEach(r=>{n=r.setOrigRanges(e,n)}),this.documentEndMarker&&(n=this.documentEndMarker.setOrigRange(e,n)),n}toString(){let{contents:e,directives:n,value:r}=this;if(r!=null)return r;let i=n.join("");return e.length>0&&((n.length>0||e[0].type===V.Type.COMMENT)&&(i+=`---
`),i+=e.join("")),i[i.length-1]!==`
`&&(i+=`
`),i}},W0=class extends V.Node{parse(e,n){this.context=e;let{src:r}=e,i=V.Node.endOfIdentifier(r,n+1);return this.valueRange=new V.Range(n+1,i),i=V.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}},_s={CLIP:"CLIP",KEEP:"KEEP",STRIP:"STRIP"},G0=class extends V.Node{constructor(e,n){super(e,n);this.blockIndent=null,this.chomping=_s.CLIP,this.header=null}get includesTrailingLines(){return this.chomping===_s.KEEP}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange,{indent:r,src:i}=this.context;if(this.valueRange.isEmpty())return"";let s=null,a=i[n-1];for(;a===`
`||a==="	"||a===" ";){if(n-=1,n<=e){if(this.chomping===_s.KEEP)break;return""}a===`
`&&(s=n),a=i[n-1]}let o=n+1;s&&(this.chomping===_s.KEEP?(o=s,n=this.valueRange.end):n=s);let l=r+this.blockIndent,u=this.type===V.Type.BLOCK_FOLDED,c=!0,f="",d="",_=!1;for(let p=e;p<n;++p){for(let g=0;g<l&&i[p]===" ";++g)p+=1;let m=i[p];if(m===`
`)d===`
`?f+=`
`:d=`
`;else{let g=V.Node.endOfLine(i,p),h=i.slice(p,g);p=g,u&&(m===" "||m==="	")&&p<o?(d===" "?d=`
`:!_&&!c&&d===`
`&&(d=`

`),f+=d+h,d=g<n&&i[g]||"",_=!0):(f+=d+h,d=u&&p<o?" ":`
`,_=!1),c&&h!==""&&(c=!1)}}return this.chomping===_s.STRIP?f:f+`
`}parseBlockHeader(e){let{src:n}=this.context,r=e+1,i="";for(;;){let s=n[r];switch(s){case"-":this.chomping=_s.STRIP;break;case"+":this.chomping=_s.KEEP;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i+=s;break;default:return this.blockIndent=Number(i)||null,this.header=new V.Range(e,r),r}r+=1}}parseBlockValue(e){let{indent:n,src:r}=this.context,i=!!this.blockIndent,s=e,a=e,o=1;for(let l=r[s];l===`
`&&(s+=1,!V.Node.atDocumentBoundary(r,s));l=r[s]){let u=V.Node.endOfBlockIndent(r,n,s);if(u===null)break;let c=r[u],f=u-(s+n);if(this.blockIndent){if(c&&c!==`
`&&f<this.blockIndent){if(r[u]==="#")break;if(!this.error){let _=`Block scalars must not be less indented than their ${i?"explicit indentation indicator":"first line"}`;this.error=new V.YAMLSemanticError(this,_)}}}else if(r[u]!==`
`){if(f<o){let d="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";this.error=new V.YAMLSemanticError(this,d)}this.blockIndent=f}else f>o&&(o=f);r[u]===`
`?s=u:s=a=V.Node.endOfLine(r,u)}return this.chomping!==_s.KEEP&&(s=r[a]?a+1:a),this.valueRange=new V.Range(e+1,s),s}parse(e,n){this.context=e;let{src:r}=e,i=this.parseBlockHeader(n);return i=V.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i=this.parseBlockValue(i),i}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.header?this.header.setOrigRange(e,n):n}},Y0=class extends V.Node{constructor(e,n){super(e,n);this.items=null}prevNodeIsJsonLike(e=this.items.length){let n=this.items[e-1];return!!n&&(n.jsonLike||n.type===V.Type.COMMENT&&this.prevNodeIsJsonLike(e-1))}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,{indent:s,lineStart:a}=e,o=i[n];this.items=[{char:o,offset:n}];let l=V.Node.endOfWhiteSpace(i,n+1);for(o=i[l];o&&o!=="]"&&o!=="}";){switch(o){case`
`:{a=l+1;let u=V.Node.endOfWhiteSpace(i,a);if(i[u]===`
`){let c=new yo;a=c.parse({src:i},a),this.items.push(c)}if(l=V.Node.endOfIndent(i,a),l<=a+s&&(o=i[l],l<a+s||o!=="]"&&o!=="}")){let c="Insufficient indentation in flow collection";this.error=new V.YAMLSemanticError(this,c)}}break;case",":this.items.push({char:o,offset:l}),l+=1;break;case"#":{let u=new bo;l=u.parse({src:i},l),this.items.push(u)}break;case"?":case":":{let u=i[l+1];if(u===`
`||u==="	"||u===" "||u===","||o===":"&&this.prevNodeIsJsonLike()){this.items.push({char:o,offset:l}),l+=1;break}}default:{let u=r({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:a,parent:this},l);if(!u)return this.valueRange=new V.Range(n,l),l;this.items.push(u),l=V.Node.normalizeOffset(i,u.range.end)}}l=V.Node.endOfWhiteSpace(i,l),o=i[l]}return this.valueRange=new V.Range(n,l+1),o&&(this.items.push({char:o,offset:l}),l=V.Node.endOfWhiteSpace(i,l+1),l=this.parseComment(l)),l}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.items.forEach(r=>{if(r instanceof V.Node)n=r.setOrigRanges(e,n);else if(e.length===0)r.origOffset=r.offset;else{let i=n;for(;i<e.length&&!(e[i]>r.offset);)++i;r.origOffset=r.offset+i,n=i}}),n}toString(){let{context:{src:e},items:n,range:r,value:i}=this;if(i!=null)return i;let s=n.filter(l=>l instanceof V.Node),a="",o=r.start;return s.forEach(l=>{let u=e.slice(o,l.range.start);o=l.range.end,a+=u+String(l),a[a.length-1]===`
`&&e[o-1]!==`
`&&e[o]===`
`&&(o+=1)}),a+=e.slice(o,r.end),V.Node.addStringTerminator(e,r.end,a)}},Hc=class extends V.Node{static endOfQuote(e,n){let r=e[n];for(;r&&r!=='"';)n+=r==="\\"?2:1,r=e[n];return n+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:n,end:r}=this.valueRange,{indent:i,src:s}=this.context;s[r-1]!=='"'&&e.push(new V.YAMLSyntaxError(this,'Missing closing "quote'));let a="";for(let o=n+1;o<r-1;++o){let l=s[o];if(l===`
`){V.Node.atDocumentBoundary(s,o+1)&&e.push(new V.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:u,offset:c,error:f}=V.Node.foldNewline(s,o,i);a+=u,o=c,f&&e.push(new V.YAMLSemanticError(this,"Multi-line double-quoted string needs to be sufficiently indented"))}else if(l==="\\")switch(o+=1,s[o]){case"0":a+="\0";break;case"a":a+="\x07";break;case"b":a+="\b";break;case"e":a+="\x1B";break;case"f":a+="\f";break;case"n":a+=`
`;break;case"r":a+="\r";break;case"t":a+="	";break;case"v":a+="\v";break;case"N":a+="\x85";break;case"_":a+="\xA0";break;case"L":a+="\u2028";break;case"P":a+="\u2029";break;case" ":a+=" ";break;case'"':a+='"';break;case"/":a+="/";break;case"\\":a+="\\";break;case"	":a+="	";break;case"x":a+=this.parseCharCode(o+1,2,e),o+=2;break;case"u":a+=this.parseCharCode(o+1,4,e),o+=4;break;case"U":a+=this.parseCharCode(o+1,8,e),o+=8;break;case`
`:for(;s[o+1]===" "||s[o+1]==="	";)o+=1;break;default:e.push(new V.YAMLSyntaxError(this,`Invalid escape sequence ${s.substr(o-1,2)}`)),a+="\\"+s[o]}else if(l===" "||l==="	"){let u=o,c=s[o+1];for(;c===" "||c==="	";)o+=1,c=s[o+1];c!==`
`&&(a+=o>u?s.slice(u,o+1):l)}else a+=l}return e.length>0?{errors:e,str:a}:a}parseCharCode(e,n,r){let{src:i}=this.context,s=i.substr(e,n),o=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;return isNaN(o)?(r.push(new V.YAMLSyntaxError(this,`Invalid escape sequence ${i.substr(e-2,n+2)}`)),i.substr(e-2,n+2)):String.fromCodePoint(o)}parse(e,n){this.context=e;let{src:r}=e,i=Hc.endOfQuote(r,n+1);return this.valueRange=new V.Range(n,i),i=V.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}},$c=class extends V.Node{static endOfQuote(e,n){let r=e[n];for(;r;)if(r==="'"){if(e[n+1]!=="'")break;r=e[n+=2]}else r=e[n+=1];return n+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:n,end:r}=this.valueRange,{indent:i,src:s}=this.context;s[r-1]!=="'"&&e.push(new V.YAMLSyntaxError(this,"Missing closing 'quote"));let a="";for(let o=n+1;o<r-1;++o){let l=s[o];if(l===`
`){V.Node.atDocumentBoundary(s,o+1)&&e.push(new V.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:u,offset:c,error:f}=V.Node.foldNewline(s,o,i);a+=u,o=c,f&&e.push(new V.YAMLSemanticError(this,"Multi-line single-quoted string needs to be sufficiently indented"))}else if(l==="'")a+=l,o+=1,s[o]!=="'"&&e.push(new V.YAMLSyntaxError(this,"Unescaped single quote? This should not happen."));else if(l===" "||l==="	"){let u=o,c=s[o+1];for(;c===" "||c==="	";)o+=1,c=s[o+1];c!==`
`&&(a+=o>u?s.slice(u,o+1):l)}else a+=l}return e.length>0?{errors:e,str:a}:a}parse(e,n){this.context=e;let{src:r}=e,i=$c.endOfQuote(r,n+1);return this.valueRange=new V.Range(n,i),i=V.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}};function yw(t,e){switch(t){case V.Type.ALIAS:return new W0(t,e);case V.Type.BLOCK_FOLDED:case V.Type.BLOCK_LITERAL:return new G0(t,e);case V.Type.FLOW_MAP:case V.Type.FLOW_SEQ:return new Y0(t,e);case V.Type.MAP_KEY:case V.Type.MAP_VALUE:case V.Type.SEQ_ITEM:return new Yc(t,e);case V.Type.COMMENT:case V.Type.PLAIN:return new V.PlainValue(t,e);case V.Type.QUOTE_DOUBLE:return new Hc(t,e);case V.Type.QUOTE_SINGLE:return new $c(t,e);default:return null}}var vo=class{static parseType(e,n,r){switch(e[n]){case"*":return V.Type.ALIAS;case">":return V.Type.BLOCK_FOLDED;case"|":return V.Type.BLOCK_LITERAL;case"{":return V.Type.FLOW_MAP;case"[":return V.Type.FLOW_SEQ;case"?":return!r&&V.Node.atBlank(e,n+1,!0)?V.Type.MAP_KEY:V.Type.PLAIN;case":":return!r&&V.Node.atBlank(e,n+1,!0)?V.Type.MAP_VALUE:V.Type.PLAIN;case"-":return!r&&V.Node.atBlank(e,n+1,!0)?V.Type.SEQ_ITEM:V.Type.PLAIN;case'"':return V.Type.QUOTE_DOUBLE;case"'":return V.Type.QUOTE_SINGLE;default:return V.Type.PLAIN}}constructor(e={},{atLineStart:n,inCollection:r,inFlow:i,indent:s,lineStart:a,parent:o}={}){V._defineProperty(this,"parseNode",(l,u)=>{if(V.Node.atDocumentBoundary(this.src,u))return null;let c=new vo(this,l),{props:f,type:d,valueStart:_}=c.parseProps(u),p=yw(d,f),m=p.parse(c,_);if(p.range=new V.Range(u,m),m<=u&&(p.error=new Error("Node#parse consumed no characters"),p.error.parseEnd=m,p.error.source=p,p.range.end=u+1),c.nodeStartsCollection(p)){!p.error&&!c.atLineStart&&c.parent.type===V.Type.DOCUMENT&&(p.error=new V.YAMLSyntaxError(p,"Block collection must not have preceding content here (e.g. directives-end indicator)"));let g=new To(p);return m=g.parse(new vo(c),m),g.range=new V.Range(u,m),g}return p}),this.atLineStart=n??(e.atLineStart||!1),this.inCollection=r??(e.inCollection||!1),this.inFlow=i??(e.inFlow||!1),this.indent=s??e.indent,this.lineStart=a??e.lineStart,this.parent=o??(e.parent||{}),this.root=e.root,this.src=e.src}nodeStartsCollection(e){let{inCollection:n,inFlow:r,src:i}=this;if(n||r)return!1;if(e instanceof Yc)return!0;let s=e.range.end;return i[s]===`
`||i[s-1]===`
`?!1:(s=V.Node.endOfWhiteSpace(i,s),i[s]===":")}parseProps(e){let{inFlow:n,parent:r,src:i}=this,s=[],a=!1;e=this.atLineStart?V.Node.endOfIndent(i,e):V.Node.endOfWhiteSpace(i,e);let o=i[e];for(;o===V.Char.ANCHOR||o===V.Char.COMMENT||o===V.Char.TAG||o===`
`;){if(o===`
`){let u=e,c;do c=u+1,u=V.Node.endOfIndent(i,c);while(i[u]===`
`);let f=u-(c+this.indent),d=r.type===V.Type.SEQ_ITEM&&r.context.atLineStart;if(i[u]!=="#"&&!V.Node.nextNodeIsIndented(i[u],f,!d))break;this.atLineStart=!0,this.lineStart=c,a=!1,e=u}else if(o===V.Char.COMMENT){let u=V.Node.endOfLine(i,e+1);s.push(new V.Range(e,u)),e=u}else{let u=V.Node.endOfIdentifier(i,e+1);o===V.Char.TAG&&i[u]===","&&/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+,\d\d\d\d(-\d\d){0,2}\/\S/.test(i.slice(e+1,u+13))&&(u=V.Node.endOfIdentifier(i,u+5)),s.push(new V.Range(e,u)),a=!0,e=V.Node.endOfWhiteSpace(i,u)}o=i[e]}a&&o===":"&&V.Node.atBlank(i,e+1,!0)&&(e-=1);let l=vo.parseType(i,e,n);return{props:s,type:l,valueStart:e}}};function bw(t){let e=[];t.indexOf("\r")!==-1&&(t=t.replace(/\r\n?/g,(i,s)=>(i.length>1&&e.push(s),`
`)));let n=[],r=0;do{let i=new Rl,s=new vo({src:t});r=i.parse(s,r),n.push(i)}while(r<t.length);return n.setOrigRanges=()=>{if(e.length===0)return!1;for(let s=1;s<e.length;++s)e[s]-=s;let i=0;for(let s=0;s<n.length;++s)i=n[s].setOrigRanges(e,i);return e.splice(0,e.length),!0},n.toString=()=>n.join(`...
`),n}H0.parse=bw});var Co=X(Pt=>{"use strict";var $=gs();function Tw(t,e,n){return n?`#${n.replace(/[\s\S]^/gm,`$&${e}#`)}
${e}${t}`:t}function No(t,e,n){return n?n.indexOf(`
`)===-1?`${t} #${n}`:`${t}
`+n.replace(/^/gm,`${e||""}#`):t}var Dr=class{};function ys(t,e,n){if(Array.isArray(t))return t.map((r,i)=>ys(r,String(i),n));if(t&&typeof t.toJSON=="function"){let r=n&&n.anchors&&n.anchors.get(t);r&&(n.onCreate=s=>{r.res=s,delete n.onCreate});let i=t.toJSON(e,n);return r&&n.onCreate&&n.onCreate(i),i}return(!n||!n.keep)&&typeof t=="bigint"?Number(t):t}var xn=class extends Dr{constructor(e){super();this.value=e}toJSON(e,n){return n&&n.keep?this.value:ys(this.value,e,n)}toString(){return String(this.value)}};function K0(t,e,n){let r=n;for(let i=e.length-1;i>=0;--i){let s=e[i];if(Number.isInteger(s)&&s>=0){let a=[];a[s]=r,r=a}else{let a={};Object.defineProperty(a,s,{value:r,writable:!0,enumerable:!0,configurable:!0}),r=a}}return t.createNode(r,!1)}var z0=t=>t==null||typeof t=="object"&&t[Symbol.iterator]().next().done,zt=class extends Dr{constructor(e){super();$._defineProperty(this,"items",[]),this.schema=e}addIn(e,n){if(z0(e))this.add(n);else{let[r,...i]=e,s=this.get(r,!0);if(s instanceof zt)s.addIn(i,n);else if(s===void 0&&this.schema)this.set(r,K0(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn([e,...n]){if(n.length===0)return this.delete(e);let r=this.get(e,!0);if(r instanceof zt)return r.deleteIn(n);throw new Error(`Expected YAML collection at ${e}. Remaining path: ${n}`)}getIn([e,...n],r){let i=this.get(e,!0);return n.length===0?!r&&i instanceof xn?i.value:i:i instanceof zt?i.getIn(n,r):void 0}hasAllNullValues(){return this.items.every(e=>{if(!e||e.type!=="PAIR")return!1;let n=e.value;return n==null||n instanceof xn&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn([e,...n]){if(n.length===0)return this.has(e);let r=this.get(e,!0);return r instanceof zt?r.hasIn(n):!1}setIn([e,...n],r){if(n.length===0)this.set(e,r);else{let i=this.get(e,!0);if(i instanceof zt)i.setIn(n,r);else if(i===void 0&&this.schema)this.set(e,K0(this.schema,n,r));else throw new Error(`Expected YAML collection at ${e}. Remaining path: ${n}`)}}toJSON(){return null}toString(e,{blockItem:n,flowChars:r,isMap:i,itemIndent:s},a,o){let{indent:l,indentStep:u,stringify:c}=e,f=this.type===$.Type.FLOW_MAP||this.type===$.Type.FLOW_SEQ||e.inFlow;f&&(s+=u);let d=i&&this.hasAllNullValues();e=Object.assign({},e,{allNullValues:d,indent:s,inFlow:f,type:null});let _=!1,p=!1,m=this.items.reduce((h,b,y)=>{let x;b&&(!_&&b.spaceBefore&&h.push({type:"comment",str:""}),b.commentBefore&&b.commentBefore.match(/^.*$/gm).forEach(G=>{h.push({type:"comment",str:`#${G}`})}),b.comment&&(x=b.comment),f&&(!_&&b.spaceBefore||b.commentBefore||b.comment||b.key&&(b.key.commentBefore||b.key.comment)||b.value&&(b.value.commentBefore||b.value.comment))&&(p=!0)),_=!1;let D=c(b,e,()=>x=null,()=>_=!0);return f&&!p&&D.includes(`
`)&&(p=!0),f&&y<this.items.length-1&&(D+=","),D=No(D,s,x),_&&(x||f)&&(_=!1),h.push({type:"item",str:D}),h},[]),g;if(m.length===0)g=r.start+r.end;else if(f){let{start:h,end:b}=r,y=m.map(x=>x.str);if(p||y.reduce((x,D)=>x+D.length+2,2)>zt.maxFlowStringSingleLineLength){g=h;for(let x of y)g+=x?`
${u}${l}${x}`:`
`;g+=`
${l}${b}`}else g=`${h} ${y.join(" ")} ${b}`}else{let h=m.map(n);g=h.shift();for(let b of h)g+=b?`
${l}${b}`:`
`}return this.comment?(g+=`
`+this.comment.replace(/^/gm,`${l}#`),a&&a()):_&&o&&o(),g}};$._defineProperty(zt,"maxFlowStringSingleLineLength",60);function Kc(t){let e=t instanceof xn?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),Number.isInteger(e)&&e>=0?e:null}var Qs=class extends zt{add(e){this.items.push(e)}delete(e){let n=Kc(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){let r=Kc(e);if(typeof r!="number")return;let i=this.items[r];return!n&&i instanceof xn?i.value:i}has(e){let n=Kc(e);return typeof n=="number"&&n<this.items.length}set(e,n){let r=Kc(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);this.items[r]=n}toJSON(e,n){let r=[];n&&n.onCreate&&n.onCreate(r);let i=0;for(let s of this.items)r.push(ys(s,String(i++),n));return r}toString(e,n,r){return e?super.toString(e,{blockItem:i=>i.type==="comment"?i.str:`- ${i.str}`,flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(e.indent||"")+"  "},n,r):JSON.stringify(this)}},vw=(t,e,n)=>e===null?"":typeof e!="object"?String(e):t instanceof Dr&&n&&n.doc?t.toString({anchors:Object.create(null),doc:n.doc,indent:"",indentStep:n.indentStep,inFlow:!0,inStringifyKey:!0,stringify:n.stringify}):JSON.stringify(e),ft=class extends Dr{constructor(e,n=null){super();this.key=e,this.value=n,this.type=ft.Type.PAIR}get commentBefore(){return this.key instanceof Dr?this.key.commentBefore:void 0}set commentBefore(e){if(this.key==null&&(this.key=new xn(null)),this.key instanceof Dr)this.key.commentBefore=e;else{let n="Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.";throw new Error(n)}}addToJSMap(e,n){let r=ys(this.key,"",e);if(n instanceof Map){let i=ys(this.value,r,e);n.set(r,i)}else if(n instanceof Set)n.add(r);else{let i=vw(this.key,r,e),s=ys(this.value,i,e);i in n?Object.defineProperty(n,i,{value:s,writable:!0,enumerable:!0,configurable:!0}):n[i]=s}return n}toJSON(e,n){let r=n&&n.mapAsMap?new Map:{};return this.addToJSMap(n,r)}toString(e,n,r){if(!e||!e.doc)return JSON.stringify(this);let{indent:i,indentSeq:s,simpleKeys:a}=e.doc.options,{key:o,value:l}=this,u=o instanceof Dr&&o.comment;if(a){if(u)throw new Error("With simple keys, key nodes cannot have comments");if(o instanceof zt){let D="With simple keys, collection cannot be used as a key value";throw new Error(D)}}let c=!a&&(!o||u||(o instanceof Dr?o instanceof zt||o.type===$.Type.BLOCK_FOLDED||o.type===$.Type.BLOCK_LITERAL:typeof o=="object")),{doc:f,indent:d,indentStep:_,stringify:p}=e;e=Object.assign({},e,{implicitKey:!c,indent:d+_});let m=!1,g=p(o,e,()=>u=null,()=>m=!0);if(g=No(g,e.indent,u),!c&&g.length>1024){if(a)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");c=!0}if(e.allNullValues&&!a)return this.comment?(g=No(g,e.indent,this.comment),n&&n()):m&&!u&&r&&r(),e.inFlow&&!c?g:`? ${g}`;g=c?`? ${g}
${d}:`:`${g}:`,this.comment&&(g=No(g,e.indent,this.comment),n&&n());let h="",b=null;l instanceof Dr?(l.spaceBefore&&(h=`
`),l.commentBefore&&(h+=`
${l.commentBefore.replace(/^/gm,`${e.indent}#`)}`),b=l.comment):l&&typeof l=="object"&&(l=f.schema.createNode(l,!0)),e.implicitKey=!1,!c&&!this.comment&&l instanceof xn&&(e.indentAtStart=g.length+1),m=!1,!s&&i>=2&&!e.inFlow&&!c&&l instanceof Qs&&l.type!==$.Type.FLOW_SEQ&&!l.tag&&!f.anchors.getName(l)&&(e.indent=e.indent.substr(2));let y=p(l,e,()=>b=null,()=>m=!0),x=" ";return h||this.comment?x=`${h}
${e.indent}`:!c&&l instanceof zt?(!(y[0]==="["||y[0]==="{")||y.includes(`
`))&&(x=`
${e.indent}`):y[0]===`
`&&(x=""),m&&!b&&r&&r(),No(g+x+y,e.indent,b)}};$._defineProperty(ft,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var zc=(t,e)=>{if(t instanceof bs){let n=e.get(t.source);return n.count*n.aliasCount}else if(t instanceof zt){let n=0;for(let r of t.items){let i=zc(r,e);i>n&&(n=i)}return n}else if(t instanceof ft){let n=zc(t.key,e),r=zc(t.value,e);return Math.max(n,r)}return 1},bs=class extends Dr{static stringify({range:e,source:n},{anchors:r,doc:i,implicitKey:s,inStringifyKey:a}){let o=Object.keys(r).find(u=>r[u]===n);if(!o&&a&&(o=i.anchors.getName(n)||i.anchors.newName()),o)return`*${o}${s?" ":""}`;let l=i.anchors.getName(n)?"Alias node must be after source node":"Source node not found for alias node";throw new Error(`${l} [${e}]`)}constructor(e){super();this.source=e,this.type=$.Type.ALIAS}set tag(e){throw new Error("Alias nodes cannot have tags")}toJSON(e,n){if(!n)return ys(this.source,e,n);let{anchors:r,maxAliasCount:i}=n,s=r.get(this.source);if(!s||s.res===void 0){let a="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new $.YAMLReferenceError(this.cstNode,a):new ReferenceError(a)}if(i>=0&&(s.count+=1,s.aliasCount===0&&(s.aliasCount=zc(this.source,r)),s.count*s.aliasCount>i)){let a="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new $.YAMLReferenceError(this.cstNode,a):new ReferenceError(a)}return s.res}toString(e){return bs.stringify(this,e)}};$._defineProperty(bs,"default",!0);function wl(t,e){let n=e instanceof xn?e.value:e;for(let r of t)if(r instanceof ft&&(r.key===e||r.key===n||r.key&&r.key.value===n))return r}var Xc=class extends zt{add(e,n){e?e instanceof ft||(e=new ft(e.key||e,e.value)):e=new ft(e);let r=wl(this.items,e.key),i=this.schema&&this.schema.sortMapEntries;if(r)if(n)r.value=e.value;else throw new Error(`Key ${e.key} already set`);else if(i){let s=this.items.findIndex(a=>i(e,a)<0);s===-1?this.items.push(e):this.items.splice(s,0,e)}else this.items.push(e)}delete(e){let n=wl(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){let r=wl(this.items,e),i=r&&r.value;return!n&&i instanceof xn?i.value:i}has(e){return!!wl(this.items,e)}set(e,n){this.add(new ft(e,n),!0)}toJSON(e,n,r){let i=r?new r:n&&n.mapAsMap?new Map:{};n&&n.onCreate&&n.onCreate(i);for(let s of this.items)s.addToJSMap(n,i);return i}toString(e,n,r){if(!e)return JSON.stringify(this);for(let i of this.items)if(!(i instanceof ft))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return super.toString(e,{blockItem:i=>i.str,flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:e.indent||""},n,r)}},X0="<<",Tm=class extends ft{constructor(e){if(e instanceof ft){let n=e.value;n instanceof Qs||(n=new Qs,n.items.push(e.value),n.range=e.value.range);super(e.key,n);this.range=e.range}else super(new xn(X0),new Qs);this.type=ft.Type.MERGE_PAIR}addToJSMap(e,n){for(let{source:r}of this.value.items){if(!(r instanceof Xc))throw new Error("Merge sources must be maps");let i=r.toJSON(null,e,Map);for(let[s,a]of i)n instanceof Map?n.has(s)||n.set(s,a):n instanceof Set?n.add(s):Object.prototype.hasOwnProperty.call(n,s)||Object.defineProperty(n,s,{value:a,writable:!0,enumerable:!0,configurable:!0})}return n}toString(e,n){let r=this.value;if(r.items.length>1)return super.toString(e,n);this.value=r.items[0];let i=super.toString(e,n);return this.value=r,i}},Nw={defaultType:$.Type.BLOCK_LITERAL,lineWidth:76},Cw={trueStr:"true",falseStr:"false"},Pw={asBigInt:!1},Dw={nullStr:"null"},Js={defaultType:$.Type.PLAIN,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function vm(t,e,n){for(let{format:r,test:i,resolve:s}of e)if(i){let a=t.match(i);if(a){let o=s.apply(null,a);return o instanceof xn||(o=new xn(o)),r&&(o.format=r),o}}return n&&(t=n(t)),new xn(t)}var Q0="flow",Nm="block",Qc="quoted",J0=(t,e)=>{let n=t[e+1];for(;n===" "||n==="	";){do n=t[e+=1];while(n&&n!==`
`);n=t[e+1]}return e};function Jc(t,e,n,{indentAtStart:r,lineWidth:i=80,minContentWidth:s=20,onFold:a,onOverflow:o}){if(!i||i<0)return t;let l=Math.max(1+s,1+i-e.length);if(t.length<=l)return t;let u=[],c={},f=i-e.length;typeof r=="number"&&(r>i-Math.max(2,s)?u.push(0):f=i-r);let d,_,p=!1,m=-1,g=-1,h=-1;n===Nm&&(m=J0(t,m),m!==-1&&(f=m+l));for(let y;y=t[m+=1];){if(n===Qc&&y==="\\"){switch(g=m,t[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}h=m}if(y===`
`)n===Nm&&(m=J0(t,m)),f=m+l,d=void 0;else{if(y===" "&&_&&_!==" "&&_!==`
`&&_!=="	"){let x=t[m+1];x&&x!==" "&&x!==`
`&&x!=="	"&&(d=m)}if(m>=f)if(d)u.push(d),f=d+l,d=void 0;else if(n===Qc){for(;_===" "||_==="	";)_=y,y=t[m+=1],p=!0;let x=m>h+1?m-2:g-1;if(c[x])return t;u.push(x),c[x]=!0,f=x+l,d=void 0}else p=!0}_=y}if(p&&o&&o(),u.length===0)return t;a&&a();let b=t.slice(0,u[0]);for(let y=0;y<u.length;++y){let x=u[y],D=u[y+1]||t.length;x===0?b=`
${e}${t.slice(0,D)}`:(n===Qc&&c[x]&&(b+=`${t[x]}\\`),b+=`
${e}${t.slice(x+1,D)}`)}return b}var Cm=({indentAtStart:t})=>t?Object.assign({indentAtStart:t},Js.fold):Js.fold,Zc=t=>/^(%|---|\.\.\.)/m.test(t);function Sw(t,e,n){if(!e||e<0)return!1;let r=e-n,i=t.length;if(i<=r)return!1;for(let s=0,a=0;s<i;++s)if(t[s]===`
`){if(s-a>r)return!0;if(a=s+1,i-a<=r)return!1}return!0}function Zs(t,e){let{implicitKey:n}=e,{jsonEncoding:r,minMultiLineLength:i}=Js.doubleQuoted,s=JSON.stringify(t);if(r)return s;let a=e.indent||(Zc(t)?"  ":""),o="",l=0;for(let u=0,c=s[u];c;c=s[++u])if(c===" "&&s[u+1]==="\\"&&s[u+2]==="n"&&(o+=s.slice(l,u)+"\\ ",u+=1,l=u,c="\\"),c==="\\")switch(s[u+1]){case"u":{o+=s.slice(l,u);let f=s.substr(u+2,4);switch(f){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:f.substr(0,2)==="00"?o+="\\x"+f.substr(2):o+=s.substr(u,6)}u+=5,l=u+1}break;case"n":if(n||s[u+2]==='"'||s.length<i)u+=1;else{for(o+=s.slice(l,u)+`

`;s[u+2]==="\\"&&s[u+3]==="n"&&s[u+4]!=='"';)o+=`
`,u+=2;o+=a,s[u+2]===" "&&(o+="\\"),u+=1,l=u+1}break;default:u+=1}return o=l?o+s.slice(l):s,n?o:Jc(o,a,Qc,Cm(e))}function Z0(t,e){if(e.implicitKey){if(/\n/.test(t))return Zs(t,e)}else if(/[ \t]\n|\n[ \t]/.test(t))return Zs(t,e);let n=e.indent||(Zc(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:Jc(r,n,Q0,Cm(e))}function ef({comment:t,type:e,value:n},r,i,s){if(/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return Zs(n,r);let a=r.indent||(r.forceBlockIndent||Zc(n)?"  ":""),o=a?"2":"1",l=e===$.Type.BLOCK_FOLDED?!1:e===$.Type.BLOCK_LITERAL?!0:!Sw(n,Js.fold.lineWidth,a.length),u=l?"|":">";if(!n)return u+`
`;let c="",f="";if(n=n.replace(/[\n\t ]*$/,_=>{let p=_.indexOf(`
`);return p===-1?u+="-":(n===_||p!==_.length-1)&&(u+="+",s&&s()),f=_.replace(/\n$/,""),""}).replace(/^[\n ]*/,_=>{_.indexOf(" ")!==-1&&(u+=o);let p=_.match(/ +$/);return p?(c=_.slice(0,-p[0].length),p[0]):(c=_,"")}),f&&(f=f.replace(/\n+(?!\n|$)/g,`$&${a}`)),c&&(c=c.replace(/\n+/g,`$&${a}`)),t&&(u+=" #"+t.replace(/ ?[\r\n]+/g," "),i&&i()),!n)return`${u}${o}
${a}${f}`;if(l)return n=n.replace(/\n+/g,`$&${a}`),`${u}
${a}${c}${n}${f}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${a}`);let d=Jc(`${c}${n}${f}`,a,Nm,Js.fold);return`${u}
${a}${d}`}function Aw(t,e,n,r){let{comment:i,type:s,value:a}=t,{actualString:o,implicitKey:l,indent:u,inFlow:c}=e;if(l&&/[\n[\]{},]/.test(a)||c&&/[[\]{},]/.test(a))return Zs(a,e);if(!a||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(a))return l||c||a.indexOf(`
`)===-1?a.indexOf('"')!==-1&&a.indexOf("'")===-1?Z0(a,e):Zs(a,e):ef(t,e,n,r);if(!l&&!c&&s!==$.Type.PLAIN&&a.indexOf(`
`)!==-1)return ef(t,e,n,r);if(u===""&&Zc(a))return e.forceBlockIndent=!0,ef(t,e,n,r);let f=a.replace(/\n+/g,`$&
${u}`);if(o){let{tags:_}=e.doc.schema;if(typeof vm(f,_,_.scalarFallback).value!="string")return Zs(a,e)}let d=l?f:Jc(f,u,Q0,Cm(e));return i&&!c&&(d.indexOf(`
`)!==-1||i.indexOf(`
`)!==-1)?(n&&n(),Tw(d,u,i)):d}function Iw(t,e,n,r){let{defaultType:i}=Js,{implicitKey:s,inFlow:a}=e,{type:o,value:l}=t;typeof l!="string"&&(l=String(l),t=Object.assign({},t,{value:l}));let u=f=>{switch(f){case $.Type.BLOCK_FOLDED:case $.Type.BLOCK_LITERAL:return ef(t,e,n,r);case $.Type.QUOTE_DOUBLE:return Zs(l,e);case $.Type.QUOTE_SINGLE:return Z0(l,e);case $.Type.PLAIN:return Aw(t,e,n,r);default:return null}};(o!==$.Type.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(l)||(s||a)&&(o===$.Type.BLOCK_FOLDED||o===$.Type.BLOCK_LITERAL))&&(o=$.Type.QUOTE_DOUBLE);let c=u(o);if(c===null&&(c=u(i),c===null))throw new Error(`Unsupported default string type ${i}`);return c}function Ew({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let i=JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let s=i.indexOf(".");s<0&&(s=i.length,i+=".");let a=e-(i.length-s-1);for(;a-- >0;)i+="0"}return i}function ev(t,e){let n,r;switch(e.type){case $.Type.FLOW_MAP:n="}",r="flow map";break;case $.Type.FLOW_SEQ:n="]",r="flow sequence";break;default:t.push(new $.YAMLSemanticError(e,"Not a flow collection!?"));return}let i;for(let s=e.items.length-1;s>=0;--s){let a=e.items[s];if(!a||a.type!==$.Type.COMMENT){i=a;break}}if(i&&i.char!==n){let s=`Expected ${r} to end with ${n}`,a;typeof i.offset=="number"?(a=new $.YAMLSemanticError(e,s),a.offset=i.offset+1):(a=new $.YAMLSemanticError(i,s),i.range&&i.range.end&&(a.offset=i.range.end-i.range.start)),t.push(a)}}function tv(t,e){let n=e.context.src[e.range.start-1];if(n!==`
`&&n!=="	"&&n!==" "){let r="Comments must be separated from other tokens by white space characters";t.push(new $.YAMLSemanticError(e,r))}}function nv(t,e){let n=String(e),r=n.substr(0,8)+"..."+n.substr(-8);return new $.YAMLSemanticError(t,`The "${r}" key is too long`)}function rv(t,e){for(let{afterKey:n,before:r,comment:i}of e){let s=t.items[r];s?(n&&s.value&&(s=s.value),i===void 0?(n||!s.commentBefore)&&(s.spaceBefore=!0):s.commentBefore?s.commentBefore+=`
`+i:s.commentBefore=i):i!==void 0&&(t.comment?t.comment+=`
`+i:t.comment=i)}}function Pm(t,e){let n=e.strValue;return n?typeof n=="string"?n:(n.errors.forEach(r=>{r.source||(r.source=e),t.errors.push(r)}),n.str):""}function xw(t,e){let{handle:n,suffix:r}=e.tag,i=t.tagPrefixes.find(s=>s.handle===n);if(!i){let s=t.getDefaults().tagPrefixes;if(s&&(i=s.find(a=>a.handle===n)),!i)throw new $.YAMLSemanticError(e,`The ${n} tag handle is non-default and was not declared.`)}if(!r)throw new $.YAMLSemanticError(e,`The ${n} tag has no suffix.`);if(n==="!"&&(t.version||t.options.version)==="1.0"){if(r[0]==="^")return t.warnings.push(new $.YAMLWarning(e,"YAML 1.0 ^ tag expansion is not supported")),r;if(/[:/]/.test(r)){let s=r.match(/^([a-z0-9-]+)\/(.*)/i);return s?`tag:${s[1]}.yaml.org,2002:${s[2]}`:`tag:${r}`}}return i.prefix+decodeURIComponent(r)}function Rw(t,e){let{tag:n,type:r}=e,i=!1;if(n){let{handle:s,suffix:a,verbatim:o}=n;if(o){if(o!=="!"&&o!=="!!")return o;let l=`Verbatim tags aren't resolved, so ${o} is invalid.`;t.errors.push(new $.YAMLSemanticError(e,l))}else if(s==="!"&&!a)i=!0;else try{return xw(t,e)}catch(l){t.errors.push(l)}}switch(r){case $.Type.BLOCK_FOLDED:case $.Type.BLOCK_LITERAL:case $.Type.QUOTE_DOUBLE:case $.Type.QUOTE_SINGLE:return $.defaultTags.STR;case $.Type.FLOW_MAP:case $.Type.MAP:return $.defaultTags.MAP;case $.Type.FLOW_SEQ:case $.Type.SEQ:return $.defaultTags.SEQ;case $.Type.PLAIN:return i?$.defaultTags.STR:null;default:return null}}function iv(t,e,n){let{tags:r}=t.schema,i=[];for(let a of r)if(a.tag===n)if(a.test)i.push(a);else{let o=a.resolve(t,e);return o instanceof zt?o:new xn(o)}let s=Pm(t,e);return typeof s=="string"&&i.length>0?vm(s,i,r.scalarFallback):null}function ww({type:t}){switch(t){case $.Type.FLOW_MAP:case $.Type.MAP:return $.defaultTags.MAP;case $.Type.FLOW_SEQ:case $.Type.SEQ:return $.defaultTags.SEQ;default:return $.defaultTags.STR}}function Ow(t,e,n){try{let r=iv(t,e,n);if(r)return n&&e.tag&&(r.tag=n),r}catch(r){return r.source||(r.source=e),t.errors.push(r),null}try{let r=ww(e);if(!r)throw new Error(`The tag ${n} is unavailable`);let i=`The tag ${n} is unavailable, falling back to ${r}`;t.warnings.push(new $.YAMLWarning(e,i));let s=iv(t,e,r);return s.tag=n,s}catch(r){let i=new $.YAMLReferenceError(e,r.message);return i.stack=r.stack,t.errors.push(i),null}}var Fw=t=>{if(!t)return!1;let{type:e}=t;return e===$.Type.MAP_KEY||e===$.Type.MAP_VALUE||e===$.Type.SEQ_ITEM};function Lw(t,e){let n={before:[],after:[]},r=!1,i=!1,s=Fw(e.context.parent)?e.context.parent.props.concat(e.props):e.props;for(let{start:a,end:o}of s)switch(e.context.src[a]){case $.Char.COMMENT:{if(!e.commentHasRequiredWhitespace(a)){let f="Comments must be separated from other tokens by white space characters";t.push(new $.YAMLSemanticError(e,f))}let{header:l,valueRange:u}=e;(u&&(a>u.start||l&&a>l.start)?n.after:n.before).push(e.context.src.slice(a+1,o));break}case $.Char.ANCHOR:if(r){let l="A node can have at most one anchor";t.push(new $.YAMLSemanticError(e,l))}r=!0;break;case $.Char.TAG:if(i){let l="A node can have at most one tag";t.push(new $.YAMLSemanticError(e,l))}i=!0;break}return{comments:n,hasAnchor:r,hasTag:i}}function kw(t,e){let{anchors:n,errors:r,schema:i}=t;if(e.type===$.Type.ALIAS){let a=e.rawValue,o=n.getNode(a);if(!o){let u=`Aliased anchor not found: ${a}`;return r.push(new $.YAMLReferenceError(e,u)),null}let l=new bs(o);return n._cstAliases.push(l),l}let s=Rw(t,e);if(s)return Ow(t,e,s);if(e.type!==$.Type.PLAIN){let a=`Failed to resolve ${e.type} node here`;return r.push(new $.YAMLSyntaxError(e,a)),null}try{let a=Pm(t,e);return vm(a,i.tags,i.tags.scalarFallback)}catch(a){return a.source||(a.source=e),r.push(a),null}}function Ts(t,e){if(!e)return null;e.error&&t.errors.push(e.error);let{comments:n,hasAnchor:r,hasTag:i}=Lw(t.errors,e);if(r){let{anchors:a}=t,o=e.anchor,l=a.getNode(o);l&&(a.map[a.newName(o)]=l),a.map[o]=e}if(e.type===$.Type.ALIAS&&(r||i)){let a="An alias node must not specify any properties";t.errors.push(new $.YAMLSemanticError(e,a))}let s=kw(t,e);if(s){s.range=[e.range.start,e.range.end],t.options.keepCstNodes&&(s.cstNode=e),t.options.keepNodeTypes&&(s.type=e.type);let a=n.before.join(`
`);a&&(s.commentBefore=s.commentBefore?`${s.commentBefore}
${a}`:a);let o=n.after.join(`
`);o&&(s.comment=s.comment?`${s.comment}
${o}`:o)}return e.resolved=s}function Mw(t,e){if(e.type!==$.Type.MAP&&e.type!==$.Type.FLOW_MAP){let a=`A ${e.type} node cannot be resolved as a mapping`;return t.errors.push(new $.YAMLSyntaxError(e,a)),null}let{comments:n,items:r}=e.type===$.Type.FLOW_MAP?jw(t,e):qw(t,e),i=new Xc;i.items=r,rv(i,n);let s=!1;for(let a=0;a<r.length;++a){let{key:o}=r[a];if(o instanceof zt&&(s=!0),t.schema.merge&&o&&o.value===X0){r[a]=new Tm(r[a]);let l=r[a].value.items,u=null;l.some(c=>{if(c instanceof bs){let{type:f}=c.source;return f===$.Type.MAP||f===$.Type.FLOW_MAP?!1:u="Merge nodes aliases can only point to maps"}return u="Merge nodes can only have Alias nodes as values"}),u&&t.errors.push(new $.YAMLSemanticError(e,u))}else for(let l=a+1;l<r.length;++l){let{key:u}=r[l];if(o===u||o&&u&&Object.prototype.hasOwnProperty.call(o,"value")&&o.value===u.value){let c=`Map keys must be unique; "${o}" is repeated`;t.errors.push(new $.YAMLSemanticError(e,c));break}}}if(s&&!t.options.mapAsMap){let a="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new $.YAMLWarning(e,a))}return e.resolved=i,i}var Bw=({context:{lineStart:t,node:e,src:n},props:r})=>{if(r.length===0)return!1;let{start:i}=r[0];if(e&&i>e.valueRange.start||n[i]!==$.Char.COMMENT)return!1;for(let s=t;s<i;++s)if(n[s]===`
`)return!1;return!0};function Vw(t,e){if(!Bw(t))return;let n=t.getPropValue(0,$.Char.COMMENT,!0),r=!1,i=e.value.commentBefore;if(i&&i.startsWith(n))e.value.commentBefore=i.substr(n.length+1),r=!0;else{let s=e.value.comment;!t.node&&s&&s.startsWith(n)&&(e.value.comment=s.substr(n.length+1),r=!0)}r&&(e.comment=n)}function qw(t,e){let n=[],r=[],i,s=null;for(let a=0;a<e.items.length;++a){let o=e.items[a];switch(o.type){case $.Type.BLANK_LINE:n.push({afterKey:!!i,before:r.length});break;case $.Type.COMMENT:n.push({afterKey:!!i,before:r.length,comment:o.comment});break;case $.Type.MAP_KEY:i!==void 0&&r.push(new ft(i)),o.error&&t.errors.push(o.error),i=Ts(t,o.node),s=null;break;case $.Type.MAP_VALUE:{if(i===void 0&&(i=null),o.error&&t.errors.push(o.error),!o.context.atLineStart&&o.node&&o.node.type===$.Type.MAP&&!o.node.context.atLineStart){let c="Nested mappings are not allowed in compact mappings";t.errors.push(new $.YAMLSemanticError(o.node,c))}let l=o.node;if(!l&&o.props.length>0){l=new $.PlainValue($.Type.PLAIN,[]),l.context={parent:o,src:o.context.src};let c=o.range.start+1;if(l.range={start:c,end:c},l.valueRange={start:c,end:c},typeof o.range.origStart=="number"){let f=o.range.origStart+1;l.range.origStart=l.range.origEnd=f,l.valueRange.origStart=l.valueRange.origEnd=f}}let u=new ft(i,Ts(t,l));Vw(o,u),r.push(u),i&&typeof s=="number"&&o.range.start>s+1024&&t.errors.push(nv(e,i)),i=void 0,s=null}break;default:i!==void 0&&r.push(new ft(i)),i=Ts(t,o),s=o.range.start,o.error&&t.errors.push(o.error);e:for(let l=a+1;;++l){let u=e.items[l];switch(u&&u.type){case $.Type.BLANK_LINE:case $.Type.COMMENT:continue e;case $.Type.MAP_VALUE:break e;default:{let c="Implicit map keys need to be followed by map values";t.errors.push(new $.YAMLSemanticError(o,c));break e}}}if(o.valueRangeContainsNewline){let l="Implicit map keys need to be on a single line";t.errors.push(new $.YAMLSemanticError(o,l))}}}return i!==void 0&&r.push(new ft(i)),{comments:n,items:r}}function jw(t,e){let n=[],r=[],i,s=!1,a="{";for(let o=0;o<e.items.length;++o){let l=e.items[o];if(typeof l.char=="string"){let{char:u,offset:c}=l;if(u==="?"&&i===void 0&&!s){s=!0,a=":";continue}if(u===":"){if(i===void 0&&(i=null),a===":"){a=",";continue}}else if(s&&(i===void 0&&u!==","&&(i=null),s=!1),i!==void 0&&(r.push(new ft(i)),i=void 0,u===",")){a=":";continue}if(u==="}"){if(o===e.items.length-1)continue}else if(u===a){a=":";continue}let f=`Flow map contains an unexpected ${u}`,d=new $.YAMLSyntaxError(e,f);d.offset=c,t.errors.push(d)}else l.type===$.Type.BLANK_LINE?n.push({afterKey:!!i,before:r.length}):l.type===$.Type.COMMENT?(tv(t.errors,l),n.push({afterKey:!!i,before:r.length,comment:l.comment})):i===void 0?(a===","&&t.errors.push(new $.YAMLSemanticError(l,"Separator , missing in flow map")),i=Ts(t,l)):(a!==","&&t.errors.push(new $.YAMLSemanticError(l,"Indicator : missing in flow map entry")),r.push(new ft(i,Ts(t,l))),i=void 0,s=!1)}return ev(t.errors,e),i!==void 0&&r.push(new ft(i)),{comments:n,items:r}}function Uw(t,e){if(e.type!==$.Type.SEQ&&e.type!==$.Type.FLOW_SEQ){let s=`A ${e.type} node cannot be resolved as a sequence`;return t.errors.push(new $.YAMLSyntaxError(e,s)),null}let{comments:n,items:r}=e.type===$.Type.FLOW_SEQ?Gw(t,e):Ww(t,e),i=new Qs;if(i.items=r,rv(i,n),!t.options.mapAsMap&&r.some(s=>s instanceof ft&&s.key instanceof zt)){let s="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new $.YAMLWarning(e,s))}return e.resolved=i,i}function Ww(t,e){let n=[],r=[];for(let i=0;i<e.items.length;++i){let s=e.items[i];switch(s.type){case $.Type.BLANK_LINE:n.push({before:r.length});break;case $.Type.COMMENT:n.push({comment:s.comment,before:r.length});break;case $.Type.SEQ_ITEM:if(s.error&&t.errors.push(s.error),r.push(Ts(t,s.node)),s.hasProps){let a="Sequence items cannot have tags or anchors before the - indicator";t.errors.push(new $.YAMLSemanticError(s,a))}break;default:s.error&&t.errors.push(s.error),t.errors.push(new $.YAMLSyntaxError(s,`Unexpected ${s.type} node in sequence`))}}return{comments:n,items:r}}function Gw(t,e){let n=[],r=[],i=!1,s,a=null,o="[",l=null;for(let u=0;u<e.items.length;++u){let c=e.items[u];if(typeof c.char=="string"){let{char:f,offset:d}=c;if(f!==":"&&(i||s!==void 0)&&(i&&s===void 0&&(s=o?r.pop():null),r.push(new ft(s)),i=!1,s=void 0,a=null),f===o)o=null;else if(!o&&f==="?")i=!0;else if(o!=="["&&f===":"&&s===void 0){if(o===","){if(s=r.pop(),s instanceof ft){let _="Chaining flow sequence pairs is invalid",p=new $.YAMLSemanticError(e,_);p.offset=d,t.errors.push(p)}if(!i&&typeof a=="number"){let _=c.range?c.range.start:c.offset;_>a+1024&&t.errors.push(nv(e,s));let{src:p}=l.context;for(let m=a;m<_;++m)if(p[m]===`
`){let g="Implicit keys of flow sequence pairs need to be on a single line";t.errors.push(new $.YAMLSemanticError(l,g));break}}}else s=null;a=null,i=!1,o=null}else if(o==="["||f!=="]"||u<e.items.length-1){let _=`Flow sequence contains an unexpected ${f}`,p=new $.YAMLSyntaxError(e,_);p.offset=d,t.errors.push(p)}}else if(c.type===$.Type.BLANK_LINE)n.push({before:r.length});else if(c.type===$.Type.COMMENT)tv(t.errors,c),n.push({comment:c.comment,before:r.length});else{if(o){let d=`Expected a ${o} in flow sequence`;t.errors.push(new $.YAMLSemanticError(c,d))}let f=Ts(t,c);s===void 0?(r.push(f),l=c):(r.push(new ft(s,f)),s=void 0),a=c.range.start,o=","}}return ev(t.errors,e),s!==void 0&&r.push(new ft(s)),{comments:n,items:r}}Pt.Alias=bs;Pt.Collection=zt;Pt.Merge=Tm;Pt.Node=Dr;Pt.Pair=ft;Pt.Scalar=xn;Pt.YAMLMap=Xc;Pt.YAMLSeq=Qs;Pt.addComment=No;Pt.binaryOptions=Nw;Pt.boolOptions=Cw;Pt.findPair=wl;Pt.intOptions=Pw;Pt.isEmptyPath=z0;Pt.nullOptions=Dw;Pt.resolveMap=Mw;Pt.resolveNode=Ts;Pt.resolveSeq=Uw;Pt.resolveString=Pm;Pt.strOptions=Js;Pt.stringifyNumber=Ew;Pt.stringifyString=Iw;Pt.toJSON=ys});var tf=X(ii=>{"use strict";var ir=gs(),Ke=Co(),Yw={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve:(t,e)=>{let n=Ke.resolveString(t,e);if(typeof Buffer=="function")return Buffer.from(n,"base64");if(typeof atob=="function"){let r=atob(n.replace(/[\n\r]/g,"")),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}else{let r="This environment does not support reading binary tags; either Buffer or atob is required";return t.errors.push(new ir.YAMLReferenceError(e,r)),null}},options:Ke.binaryOptions,stringify:({comment:t,type:e,value:n},r,i,s)=>{let a;if(typeof Buffer=="function")a=n instanceof Buffer?n.toString("base64"):Buffer.from(n.buffer).toString("base64");else if(typeof btoa=="function"){let o="";for(let l=0;l<n.length;++l)o+=String.fromCharCode(n[l]);a=btoa(o)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=Ke.binaryOptions.defaultType),e===ir.Type.QUOTE_DOUBLE)n=a;else{let{lineWidth:o}=Ke.binaryOptions,l=Math.ceil(a.length/o),u=new Array(l);for(let c=0,f=0;c<l;++c,f+=o)u[c]=a.substr(f,o);n=u.join(e===ir.Type.BLOCK_LITERAL?`
`:" ")}return Ke.stringifyString({comment:t,type:e,value:n},r,i,s)}};function sv(t,e){let n=Ke.resolveSeq(t,e);for(let r=0;r<n.items.length;++r){let i=n.items[r];if(!(i instanceof Ke.Pair)){if(i instanceof Ke.YAMLMap){if(i.items.length>1){let a="Each pair must have its own sequence indicator";throw new ir.YAMLSemanticError(e,a)}let s=i.items[0]||new Ke.Pair;i.commentBefore&&(s.commentBefore=s.commentBefore?`${i.commentBefore}
${s.commentBefore}`:i.commentBefore),i.comment&&(s.comment=s.comment?`${i.comment}
${s.comment}`:i.comment),i=s}n.items[r]=i instanceof Ke.Pair?i:new Ke.Pair(i)}}return n}function av(t,e,n){let r=new Ke.YAMLSeq(t);r.tag="tag:yaml.org,2002:pairs";for(let i of e){let s,a;if(Array.isArray(i))if(i.length===2)s=i[0],a=i[1];else throw new TypeError(`Expected [key, value] tuple: ${i}`);else if(i&&i instanceof Object){let l=Object.keys(i);if(l.length===1)s=l[0],a=i[s];else throw new TypeError(`Expected { key: value } tuple: ${i}`)}else s=i;let o=t.createPair(s,a,n);r.items.push(o)}return r}var Hw={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:sv,createNode:av},ea=class extends Ke.YAMLSeq{constructor(){super();ir._defineProperty(this,"add",Ke.YAMLMap.prototype.add.bind(this)),ir._defineProperty(this,"delete",Ke.YAMLMap.prototype.delete.bind(this)),ir._defineProperty(this,"get",Ke.YAMLMap.prototype.get.bind(this)),ir._defineProperty(this,"has",Ke.YAMLMap.prototype.has.bind(this)),ir._defineProperty(this,"set",Ke.YAMLMap.prototype.set.bind(this)),this.tag=ea.tag}toJSON(e,n){let r=new Map;n&&n.onCreate&&n.onCreate(r);for(let i of this.items){let s,a;if(i instanceof Ke.Pair?(s=Ke.toJSON(i.key,"",n),a=Ke.toJSON(i.value,s,n)):s=Ke.toJSON(i,"",n),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,a)}return r}};ir._defineProperty(ea,"tag","tag:yaml.org,2002:omap");function $w(t,e){let n=sv(t,e),r=[];for(let{key:i}of n.items)if(i instanceof Ke.Scalar)if(r.includes(i.value)){let s="Ordered maps must not include duplicate keys";throw new ir.YAMLSemanticError(e,s)}else r.push(i.value);return Object.assign(new ea,n)}function Kw(t,e,n){let r=av(t,e,n),i=new ea;return i.items=r.items,i}var zw={identify:t=>t instanceof Map,nodeClass:ea,default:!1,tag:"tag:yaml.org,2002:omap",resolve:$w,createNode:Kw},ta=class extends Ke.YAMLMap{constructor(){super();this.tag=ta.tag}add(e){let n=e instanceof Ke.Pair?e:new Ke.Pair(e);Ke.findPair(this.items,n.key)||this.items.push(n)}get(e,n){let r=Ke.findPair(this.items,e);return!n&&r instanceof Ke.Pair?r.key instanceof Ke.Scalar?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);let r=Ke.findPair(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Ke.Pair(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues())return super.toString(e,n,r);throw new Error("Set items must all have null values")}};ir._defineProperty(ta,"tag","tag:yaml.org,2002:set");function Xw(t,e){let n=Ke.resolveMap(t,e);if(!n.hasAllNullValues())throw new ir.YAMLSemanticError(e,"Set items must all have null values");return Object.assign(new ta,n)}function Qw(t,e,n){let r=new ta;for(let i of e)r.items.push(t.createPair(i,null,n));return r}var Jw={identify:t=>t instanceof Set,nodeClass:ta,default:!1,tag:"tag:yaml.org,2002:set",resolve:Xw,createNode:Qw},Dm=(t,e)=>{let n=e.split(":").reduce((r,i)=>r*60+Number(i),0);return t==="-"?-n:n},ov=({value:t})=>{if(isNaN(t)||!isFinite(t))return Ke.stringifyNumber(t);let e="";t<0&&(e="-",t=Math.abs(t));let n=[t%60];return t<60?n.unshift(0):(t=Math.round((t-n[0])/60),n.unshift(t%60),t>=60&&(t=Math.round((t-n[0])/60),n.unshift(t))),e+n.map(r=>r<10?"0"+String(r):String(r)).join(":").replace(/000000\d*$/,"")},Zw={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:(t,e,n)=>Dm(e,n.replace(/_/g,"")),stringify:ov},eO={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:(t,e,n)=>Dm(e,n.replace(/_/g,"")),stringify:ov},tO={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:(t,e,n,r,i,s,a,o,l)=>{o&&(o=(o+"00").substr(1,3));let u=Date.UTC(e,n-1,r,i||0,s||0,a||0,o||0);if(l&&l!=="Z"){let c=Dm(l[0],l.slice(1));Math.abs(c)<30&&(c*=60),u-=6e4*c}return new Date(u)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};function Sm(t){let e=typeof process!="undefined"&&process.env||{};return t?typeof YAML_SILENCE_DEPRECATION_WARNINGS!="undefined"?!YAML_SILENCE_DEPRECATION_WARNINGS:!e.YAML_SILENCE_DEPRECATION_WARNINGS:typeof YAML_SILENCE_WARNINGS!="undefined"?!YAML_SILENCE_WARNINGS:!e.YAML_SILENCE_WARNINGS}function Am(t,e){if(Sm(!1)){let n=typeof process!="undefined"&&process.emitWarning;n?n(t,e):console.warn(e?`${e}: ${t}`:t)}}function nO(t){if(Sm(!0)){let e=t.replace(/.*yaml[/\\]/i,"").replace(/\.js$/,"").replace(/\\/g,"/");Am(`The endpoint 'yaml/${e}' will be removed in a future release.`,"DeprecationWarning")}}var lv={};function rO(t,e){if(!lv[t]&&Sm(!0)){lv[t]=!0;let n=`The option '${t}' will be removed in a future release`;n+=e?`, use '${e}' instead.`:".",Am(n,"DeprecationWarning")}}ii.binary=Yw;ii.floatTime=eO;ii.intTime=Zw;ii.omap=zw;ii.pairs=Hw;ii.set=Jw;ii.timestamp=tO;ii.warn=Am;ii.warnFileDeprecation=nO;ii.warnOptionDeprecation=rO});var lf=X(vv=>{"use strict";var nf=gs(),we=Co(),Rn=tf();function iO(t,e,n){let r=new we.YAMLMap(t);if(e instanceof Map)for(let[i,s]of e)r.items.push(t.createPair(i,s,n));else if(e&&typeof e=="object")for(let i of Object.keys(e))r.items.push(t.createPair(i,e[i],n));return typeof t.sortMapEntries=="function"&&r.items.sort(t.sortMapEntries),r}var Ol={createNode:iO,default:!0,nodeClass:we.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:we.resolveMap};function sO(t,e,n){let r=new we.YAMLSeq(t);if(e&&e[Symbol.iterator])for(let i of e){let s=t.createNode(i,n.wrapScalars,null,n);r.items.push(s)}return r}var rf={createNode:sO,default:!0,nodeClass:we.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:we.resolveSeq},aO={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:we.resolveString,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),we.stringifyString(t,e,n,r)},options:we.strOptions},Im=[Ol,rf,aO],sf=t=>typeof t=="bigint"||Number.isInteger(t),Em=(t,e,n)=>we.intOptions.asBigInt?BigInt(t):parseInt(e,n);function uv(t,e,n){let{value:r}=t;return sf(r)&&r>=0?n+r.toString(e):we.stringifyNumber(t)}var cv={identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new we.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:we.nullOptions,stringify:()=>we.nullOptions.nullStr},fv={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>t[0]==="t"||t[0]==="T",options:we.boolOptions,stringify:({value:t})=>t?we.boolOptions.trueStr:we.boolOptions.falseStr},pv={identify:t=>sf(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:(t,e)=>Em(t,e,8),options:we.intOptions,stringify:t=>uv(t,8,"0o")},dv={identify:sf,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:t=>Em(t,t,10),options:we.intOptions,stringify:we.stringifyNumber},mv={identify:t=>sf(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:(t,e)=>Em(t,e,16),options:we.intOptions,stringify:t=>uv(t,16,"0x")},hv={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:we.stringifyNumber},gv={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify:({value:t})=>Number(t).toExponential()},_v={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve(t,e,n){let r=e||n,i=new we.Scalar(parseFloat(t));return r&&r[r.length-1]==="0"&&(i.minFractionDigits=r.length),i},stringify:we.stringifyNumber},oO=Im.concat([cv,fv,pv,dv,mv,hv,gv,_v]),yv=t=>typeof t=="bigint"||Number.isInteger(t),af=({value:t})=>JSON.stringify(t),bv=[Ol,rf,{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:we.resolveString,stringify:af},{identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new we.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:af},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:af},{identify:yv,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:t=>we.intOptions.asBigInt?BigInt(t):parseInt(t,10),stringify:({value:t})=>yv(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:af}];bv.scalarFallback=t=>{throw new SyntaxError(`Unresolved plain scalar ${JSON.stringify(t)}`)};var Tv=({value:t})=>t?we.boolOptions.trueStr:we.boolOptions.falseStr,Fl=t=>typeof t=="bigint"||Number.isInteger(t);function of(t,e,n){let r=e.replace(/_/g,"");if(we.intOptions.asBigInt){switch(n){case 2:r=`0b${r}`;break;case 8:r=`0o${r}`;break;case 16:r=`0x${r}`;break}let s=BigInt(r);return t==="-"?BigInt(-1)*s:s}let i=parseInt(r,n);return t==="-"?-1*i:i}function xm(t,e,n){let{value:r}=t;if(Fl(r)){let i=r.toString(e);return r<0?"-"+n+i.substr(1):n+i}return we.stringifyNumber(t)}var lO=Im.concat([{identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new we.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:we.nullOptions,stringify:()=>we.nullOptions.nullStr},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>!0,options:we.boolOptions,stringify:Tv},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>!1,options:we.boolOptions,stringify:Tv},{identify:Fl,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:(t,e,n)=>of(e,n,2),stringify:t=>xm(t,2,"0b")},{identify:Fl,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:(t,e,n)=>of(e,n,8),stringify:t=>xm(t,8,"0")},{identify:Fl,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:(t,e,n)=>of(e,n,10),stringify:we.stringifyNumber},{identify:Fl,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:(t,e,n)=>of(e,n,16),stringify:t=>xm(t,16,"0x")},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:we.stringifyNumber},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify:({value:t})=>Number(t).toExponential()},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve(t,e){let n=new we.Scalar(parseFloat(t.replace(/_/g,"")));if(e){let r=e.replace(/_/g,"");r[r.length-1]==="0"&&(n.minFractionDigits=r.length)}return n},stringify:we.stringifyNumber}],Rn.binary,Rn.omap,Rn.pairs,Rn.set,Rn.intTime,Rn.floatTime,Rn.timestamp),uO={core:oO,failsafe:Im,json:bv,yaml11:lO},cO={binary:Rn.binary,bool:fv,float:_v,floatExp:gv,floatNaN:hv,floatTime:Rn.floatTime,int:dv,intHex:mv,intOct:pv,intTime:Rn.intTime,map:Ol,null:cv,omap:Rn.omap,pairs:Rn.pairs,seq:rf,set:Rn.set,timestamp:Rn.timestamp};function fO(t,e,n){if(e){let r=n.filter(s=>s.tag===e),i=r.find(s=>!s.format)||r[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return n.find(r=>(r.identify&&r.identify(t)||r.class&&t instanceof r.class)&&!r.format)}function pO(t,e,n){if(t instanceof we.Node)return t;let{defaultPrefix:r,onTagObj:i,prevObjects:s,schema:a,wrapScalars:o}=n;e&&e.startsWith("!!")&&(e=r+e.slice(2));let l=fO(t,e,a.tags);if(!l){if(typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object")return o?new we.Scalar(t):t;l=t instanceof Map?Ol:t[Symbol.iterator]?rf:Ol}i&&(i(l),delete n.onTagObj);let u={value:void 0,node:void 0};if(t&&typeof t=="object"&&s){let c=s.get(t);if(c){let f=new we.Alias(c);return n.aliasNodes.push(f),f}u.value=t,s.set(t,u)}return u.node=l.createNode?l.createNode(n.schema,t,n):o?new we.Scalar(t):t,e&&u.node instanceof we.Node&&(u.node.tag=e),u.node}function dO(t,e,n,r){let i=t[r.replace(/\W/g,"")];if(!i){let s=Object.keys(t).map(a=>JSON.stringify(a)).join(", ");throw new Error(`Unknown schema "${r}"; use one of ${s}`)}if(Array.isArray(n))for(let s of n)i=i.concat(s);else typeof n=="function"&&(i=n(i.slice()));for(let s=0;s<i.length;++s){let a=i[s];if(typeof a=="string"){let o=e[a];if(!o){let l=Object.keys(e).map(u=>JSON.stringify(u)).join(", ");throw new Error(`Unknown custom tag "${a}"; use one of ${l}`)}i[s]=o}}return i}var mO=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,Po=class{constructor({customTags:e,merge:n,schema:r,sortMapEntries:i,tags:s}){this.merge=!!n,this.name=r,this.sortMapEntries=i===!0?mO:i||null,!e&&s&&Rn.warnOptionDeprecation("tags","customTags"),this.tags=dO(uO,cO,e||s,r)}createNode(e,n,r,i){let s={defaultPrefix:Po.defaultPrefix,schema:this,wrapScalars:n},a=i?Object.assign(i,s):s;return pO(e,r,a)}createPair(e,n,r){r||(r={wrapScalars:!0});let i=this.createNode(e,r.wrapScalars,null,r),s=this.createNode(n,r.wrapScalars,null,r);return new we.Pair(i,s)}};nf._defineProperty(Po,"defaultPrefix",nf.defaultTagPrefix);nf._defineProperty(Po,"defaultTags",nf.defaultTags);vv.Schema=Po});var Dv=X(pf=>{"use strict";var wn=gs(),Fe=Co(),Nv=lf(),hO={anchorPrefix:"a",customTags:null,indent:2,indentSeq:!0,keepCstNodes:!1,keepNodeTypes:!0,keepBlobsInJSON:!0,mapAsMap:!1,maxAliasCount:100,prettyErrors:!1,simpleKeys:!1,version:"1.2"},gO={get binary(){return Fe.binaryOptions},set binary(t){Object.assign(Fe.binaryOptions,t)},get bool(){return Fe.boolOptions},set bool(t){Object.assign(Fe.boolOptions,t)},get int(){return Fe.intOptions},set int(t){Object.assign(Fe.intOptions,t)},get null(){return Fe.nullOptions},set null(t){Object.assign(Fe.nullOptions,t)},get str(){return Fe.strOptions},set str(t){Object.assign(Fe.strOptions,t)}},Cv={"1.0":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:wn.defaultTagPrefix},{handle:"!!",prefix:"tag:private.yaml.org,2002:"}]},1.1:{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:wn.defaultTagPrefix}]},1.2:{schema:"core",merge:!1,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:wn.defaultTagPrefix}]}};function Pv(t,e){if((t.version||t.options.version)==="1.0"){let i=e.match(/^tag:private\.yaml\.org,2002:([^:/]+)$/);if(i)return"!"+i[1];let s=e.match(/^tag:([a-zA-Z0-9-]+)\.yaml\.org,2002:(.*)/);return s?`!${s[1]}/${s[2]}`:`!${e.replace(/^tag:/,"")}`}let n=t.tagPrefixes.find(i=>e.indexOf(i.prefix)===0);if(!n){let i=t.getDefaults().tagPrefixes;n=i&&i.find(s=>e.indexOf(s.prefix)===0)}if(!n)return e[0]==="!"?e:`!<${e}>`;let r=e.substr(n.prefix.length).replace(/[!,[\]{}]/g,i=>({"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"})[i]);return n.handle+r}function _O(t,e){if(e instanceof Fe.Alias)return Fe.Alias;if(e.tag){let i=t.filter(s=>s.tag===e.tag);if(i.length>0)return i.find(s=>s.format===e.format)||i[0]}let n,r;if(e instanceof Fe.Scalar){r=e.value;let i=t.filter(s=>s.identify&&s.identify(r)||s.class&&r instanceof s.class);n=i.find(s=>s.format===e.format)||i.find(s=>!s.format)}else r=e,n=t.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){let i=r&&r.constructor?r.constructor.name:typeof r;throw new Error(`Tag not resolved for ${i} value`)}return n}function yO(t,e,{anchors:n,doc:r}){let i=[],s=r.anchors.getName(t);return s&&(n[s]=t,i.push(`&${s}`)),t.tag?i.push(Pv(r,t.tag)):e.default||i.push(Pv(r,e.tag)),i.join(" ")}function uf(t,e,n,r){let{anchors:i,schema:s}=e.doc,a;if(!(t instanceof Fe.Node)){let u={aliasNodes:[],onTagObj:c=>a=c,prevObjects:new Map};t=s.createNode(t,!0,null,u);for(let c of u.aliasNodes){c.source=c.source.node;let f=i.getName(c.source);f||(f=i.newName(),i.map[f]=c.source)}}if(t instanceof Fe.Pair)return t.toString(e,n,r);a||(a=_O(s.tags,t));let o=yO(t,a,e);o.length>0&&(e.indentAtStart=(e.indentAtStart||0)+o.length+1);let l=typeof a.stringify=="function"?a.stringify(t,e,n,r):t instanceof Fe.Scalar?Fe.stringifyString(t,e,n,r):t.toString(e,n,r);return o?t instanceof Fe.Scalar||l[0]==="{"||l[0]==="["?`${o} ${l}`:`${o}
${e.indent}${l}`:l}var cf=class{static validAnchorNode(e){return e instanceof Fe.Scalar||e instanceof Fe.YAMLSeq||e instanceof Fe.YAMLMap}constructor(e){wn._defineProperty(this,"map",Object.create(null)),this.prefix=e}createAlias(e,n){return this.setAnchor(e,n),new Fe.Alias(e)}createMergePair(...e){let n=new Fe.Merge;return n.value.items=e.map(r=>{if(r instanceof Fe.Alias){if(r.source instanceof Fe.YAMLMap)return r}else if(r instanceof Fe.YAMLMap)return this.createAlias(r);throw new Error("Merge sources must be Map nodes or their Aliases")}),n}getName(e){let{map:n}=this;return Object.keys(n).find(r=>n[r]===e)}getNames(){return Object.keys(this.map)}getNode(e){return this.map[e]}newName(e){e||(e=this.prefix);let n=Object.keys(this.map);for(let r=1;;++r){let i=`${e}${r}`;if(!n.includes(i))return i}}resolveNodes(){let{map:e,_cstAliases:n}=this;Object.keys(e).forEach(r=>{e[r]=e[r].resolved}),n.forEach(r=>{r.source=r.source.resolved}),delete this._cstAliases}setAnchor(e,n){if(e!=null&&!cf.validAnchorNode(e))throw new Error("Anchors may only be set for Scalar, Seq and Map nodes");if(n&&/[\x00-\x19\s,[\]{}]/.test(n))throw new Error("Anchor names must not contain whitespace or control characters");let{map:r}=this,i=e&&Object.keys(r).find(s=>r[s]===e);if(i)if(n)i!==n&&(delete r[i],r[n]=e);else return i;else{if(!n){if(!e)return null;n=this.newName()}r[n]=e}return n}},ff=(t,e)=>{if(t&&typeof t=="object"){let{tag:n}=t;t instanceof Fe.Collection?(n&&(e[n]=!0),t.items.forEach(r=>ff(r,e))):t instanceof Fe.Pair?(ff(t.key,e),ff(t.value,e)):t instanceof Fe.Scalar&&n&&(e[n]=!0)}return e},bO=t=>Object.keys(ff(t,{}));function TO(t,e){let n={before:[],after:[]},r,i=!1;for(let s of e)if(s.valueRange){if(r!==void 0){let o="Document contains trailing content not separated by a ... or --- line";t.errors.push(new wn.YAMLSyntaxError(s,o));break}let a=Fe.resolveNode(t,s);i&&(a.spaceBefore=!0,i=!1),r=a}else s.comment!==null?(r===void 0?n.before:n.after).push(s.comment):s.type===wn.Type.BLANK_LINE&&(i=!0,r===void 0&&n.before.length>0&&!t.commentBefore&&(t.commentBefore=n.before.join(`
`),n.before=[]));if(t.contents=r||null,!r)t.comment=n.before.concat(n.after).join(`
`)||null;else{let s=n.before.join(`
`);if(s){let a=r instanceof Fe.Collection&&r.items[0]?r.items[0]:r;a.commentBefore=a.commentBefore?`${s}
${a.commentBefore}`:s}t.comment=n.after.join(`
`)||null}}function vO({tagPrefixes:t},e){let[n,r]=e.parameters;if(!n||!r){let i="Insufficient parameters given for %TAG directive";throw new wn.YAMLSemanticError(e,i)}if(t.some(i=>i.handle===n)){let i="The %TAG directive must only be given at most once per handle in the same document.";throw new wn.YAMLSemanticError(e,i)}return{handle:n,prefix:r}}function NO(t,e){let[n]=e.parameters;if(e.name==="YAML:1.0"&&(n="1.0"),!n){let r="Insufficient parameters given for %YAML directive";throw new wn.YAMLSemanticError(e,r)}if(!Cv[n]){let i=`Document will be parsed as YAML ${t.version||t.options.version} rather than YAML ${n}`;t.warnings.push(new wn.YAMLWarning(e,i))}return n}function CO(t,e,n){let r=[],i=!1;for(let s of e){let{comment:a,name:o}=s;switch(o){case"TAG":try{t.tagPrefixes.push(vO(t,s))}catch(l){t.errors.push(l)}i=!0;break;case"YAML":case"YAML:1.0":if(t.version){let l="The %YAML directive must only be given at most once per document.";t.errors.push(new wn.YAMLSemanticError(s,l))}try{t.version=NO(t,s)}catch(l){t.errors.push(l)}i=!0;break;default:if(o){let l=`YAML only supports %TAG and %YAML directives, and not %${o}`;t.warnings.push(new wn.YAMLWarning(s,l))}}a&&r.push(a)}if(n&&!i&&(t.version||n.version||t.options.version)==="1.1"){let s=({handle:a,prefix:o})=>({handle:a,prefix:o});t.tagPrefixes=n.tagPrefixes.map(s),t.version=n.version}t.commentBefore=r.join(`
`)||null}function Do(t){if(t instanceof Fe.Collection)return!0;throw new Error("Expected a YAML collection as document contents")}var So=class{constructor(e){this.anchors=new cf(e.anchorPrefix),this.commentBefore=null,this.comment=null,this.contents=null,this.directivesEndMarker=null,this.errors=[],this.options=e,this.schema=null,this.tagPrefixes=[],this.version=null,this.warnings=[]}add(e){return Do(this.contents),this.contents.add(e)}addIn(e,n){Do(this.contents),this.contents.addIn(e,n)}delete(e){return Do(this.contents),this.contents.delete(e)}deleteIn(e){return Fe.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):(Do(this.contents),this.contents.deleteIn(e))}getDefaults(){return So.defaults[this.version]||So.defaults[this.options.version]||{}}get(e,n){return this.contents instanceof Fe.Collection?this.contents.get(e,n):void 0}getIn(e,n){return Fe.isEmptyPath(e)?!n&&this.contents instanceof Fe.Scalar?this.contents.value:this.contents:this.contents instanceof Fe.Collection?this.contents.getIn(e,n):void 0}has(e){return this.contents instanceof Fe.Collection?this.contents.has(e):!1}hasIn(e){return Fe.isEmptyPath(e)?this.contents!==void 0:this.contents instanceof Fe.Collection?this.contents.hasIn(e):!1}set(e,n){Do(this.contents),this.contents.set(e,n)}setIn(e,n){Fe.isEmptyPath(e)?this.contents=n:(Do(this.contents),this.contents.setIn(e,n))}setSchema(e,n){if(!e&&!n&&this.schema)return;typeof e=="number"&&(e=e.toFixed(1)),e==="1.0"||e==="1.1"||e==="1.2"?(this.version?this.version=e:this.options.version=e,delete this.options.schema):e&&typeof e=="string"&&(this.options.schema=e),Array.isArray(n)&&(this.options.customTags=n);let r=Object.assign({},this.getDefaults(),this.options);this.schema=new Nv.Schema(r)}parse(e,n){this.options.keepCstNodes&&(this.cstNode=e),this.options.keepNodeTypes&&(this.type="DOCUMENT");let{directives:r=[],contents:i=[],directivesEndMarker:s,error:a,valueRange:o}=e;if(a&&(a.source||(a.source=this),this.errors.push(a)),CO(this,r,n),s&&(this.directivesEndMarker=!0),this.range=o?[o.start,o.end]:null,this.setSchema(),this.anchors._cstAliases=[],TO(this,i),this.anchors.resolveNodes(),this.options.prettyErrors){for(let l of this.errors)l instanceof wn.YAMLError&&l.makePretty();for(let l of this.warnings)l instanceof wn.YAMLError&&l.makePretty()}return this}listNonDefaultTags(){return bO(this.contents).filter(e=>e.indexOf(Nv.Schema.defaultPrefix)!==0)}setTagPrefix(e,n){if(e[0]!=="!"||e[e.length-1]!=="!")throw new Error("Handle must start and end with !");if(n){let r=this.tagPrefixes.find(i=>i.handle===e);r?r.prefix=n:this.tagPrefixes.push({handle:e,prefix:n})}else this.tagPrefixes=this.tagPrefixes.filter(r=>r.handle!==e)}toJSON(e,n){let{keepBlobsInJSON:r,mapAsMap:i,maxAliasCount:s}=this.options,a=r&&(typeof e!="string"||!(this.contents instanceof Fe.Scalar)),o={doc:this,indentStep:"  ",keep:a,mapAsMap:a&&!!i,maxAliasCount:s,stringify:uf},l=Object.keys(this.anchors.map);l.length>0&&(o.anchors=new Map(l.map(c=>[this.anchors.map[c],{alias:[],aliasCount:0,count:1}])));let u=Fe.toJSON(this.contents,e,o);if(typeof n=="function"&&o.anchors)for(let{count:c,res:f}of o.anchors.values())n(f,c);return u}toString(){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");let e=this.options.indent;if(!Number.isInteger(e)||e<=0){let l=JSON.stringify(e);throw new Error(`"indent" option must be a positive integer, not ${l}`)}this.setSchema();let n=[],r=!1;if(this.version){let l="%YAML 1.2";this.schema.name==="yaml-1.1"&&(this.version==="1.0"?l="%YAML:1.0":this.version==="1.1"&&(l="%YAML 1.1")),n.push(l),r=!0}let i=this.listNonDefaultTags();this.tagPrefixes.forEach(({handle:l,prefix:u})=>{i.some(c=>c.indexOf(u)===0)&&(n.push(`%TAG ${l} ${u}`),r=!0)}),(r||this.directivesEndMarker)&&n.push("---"),this.commentBefore&&((r||!this.directivesEndMarker)&&n.unshift(""),n.unshift(this.commentBefore.replace(/^/gm,"#")));let s={anchors:Object.create(null),doc:this,indent:"",indentStep:" ".repeat(e),stringify:uf},a=!1,o=null;if(this.contents){this.contents instanceof Fe.Node&&(this.contents.spaceBefore&&(r||this.directivesEndMarker)&&n.push(""),this.contents.commentBefore&&n.push(this.contents.commentBefore.replace(/^/gm,"#")),s.forceBlockIndent=!!this.comment,o=this.contents.comment);let l=o?null:()=>a=!0,u=uf(this.contents,s,()=>o=null,l);n.push(Fe.addComment(u,"",o))}else this.contents!==void 0&&n.push(uf(this.contents,s));return this.comment&&((!a||o)&&n[n.length-1]!==""&&n.push(""),n.push(this.comment.replace(/^/gm,"#"))),n.join(`
`)+`
`}};wn._defineProperty(So,"defaults",Cv);pf.Document=So;pf.defaultOptions=hO;pf.scalarOptions=gO});var Iv=X(Av=>{"use strict";var Rm=$0(),na=Dv(),PO=lf(),DO=gs(),SO=tf();Co();function AO(t,e=!0,n){n===void 0&&typeof e=="string"&&(n=e,e=!0);let r=Object.assign({},na.Document.defaults[na.defaultOptions.version],na.defaultOptions);return new PO.Schema(r).createNode(t,e,n)}var Ll=class extends na.Document{constructor(e){super(Object.assign({},na.defaultOptions,e))}};function IO(t,e){let n=[],r;for(let i of Rm.parse(t)){let s=new Ll(e);s.parse(i,r),n.push(s),r=s}return n}function Sv(t,e){let n=Rm.parse(t),r=new Ll(e).parse(n[0]);if(n.length>1){let i="Source contains multiple documents; please use YAML.parseAllDocuments()";r.errors.unshift(new DO.YAMLSemanticError(n[1],i))}return r}function EO(t,e){let n=Sv(t,e);if(n.warnings.forEach(r=>SO.warn(r)),n.errors.length>0)throw n.errors[0];return n.toJSON()}function xO(t,e){let n=new Ll(e);return n.contents=t,String(n)}var RO={createNode:AO,defaultOptions:na.defaultOptions,Document:Ll,parse:EO,parseAllDocuments:IO,parseCST:Rm.parse,parseDocument:Sv,scalarOptions:na.scalarOptions,stringify:xO};Av.YAML=RO});var wm=X((UJ,Ev)=>{Ev.exports=Iv().YAML});var xv=X(On=>{"use strict";var sr=Co(),wO=lf();gs();tf();On.Alias=sr.Alias;On.Collection=sr.Collection;On.Merge=sr.Merge;On.Node=sr.Node;On.Pair=sr.Pair;On.Scalar=sr.Scalar;On.YAMLMap=sr.YAMLMap;On.YAMLSeq=sr.YAMLSeq;On.binaryOptions=sr.binaryOptions;On.boolOptions=sr.boolOptions;On.intOptions=sr.intOptions;On.nullOptions=sr.nullOptions;On.strOptions=sr.strOptions;On.Schema=wO.Schema});var Tf=X((vee,PN)=>{"use strict";function sn(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}sn.prototype.clone_empty=function(){var t=new sn(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t};sn.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]};sn.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1};sn.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))};sn.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)};sn.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count};sn.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,t.__items[0]===" "&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1};sn.prototype.is_empty=function(){return this.__items.length===0};sn.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]};sn.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf(`
`);e!==-1?this.__character_count=t.length-e:this.__character_count+=t.length};sn.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t};sn.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)};sn.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)};sn.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1};sn.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t};function Yl(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}Yl.prototype.get_indent_size=function(t,e){var n=this.__base_string_length;return e=e||0,t<0&&(n=0),n+=t*this.__indent_size,n+=e,n};Yl.prototype.get_indent_string=function(t,e){var n=this.__base_string;return e=e||0,t<0&&(t=0,n=""),e+=t*this.__indent_size,this.__ensure_cache(e),n+=this.__cache[e],n};Yl.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column()};Yl.prototype.__add_column=function(){var t=this.__cache.length,e=0,n="";this.__indent_size&&t>=this.__indent_size&&(e=Math.floor(t/this.__indent_size),t-=e*this.__indent_size,n=new Array(e+1).join(this.__indent_string)),t&&(n+=new Array(t+1).join(" ")),this.__cache.push(n)};function an(t,e){this.__indent_cache=new Yl(t,e),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new sn(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}an.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)};an.prototype.get_line_number=function(){return this.__lines.length};an.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)};an.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)};an.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()};an.prototype.add_new_line=function(t){return this.is_empty()||!t&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)};an.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&(e[e.length-1]===`
`&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join(`
`);return t!==`
`&&(n=n.replace(/[\n]/g,t)),n};an.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()};an.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)};an.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1};an.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()};an.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))};an.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()};an.prototype.trim=function(t){for(t=t===void 0?!1:t,this.current_line.trim();t&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null};an.prototype.just_added_newline=function(){return this.current_line.is_empty()};an.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()};an.prototype.ensure_empty_line_above=function(t,e){for(var n=this.__lines.length-2;n>=0;){var r=this.__lines[n];if(r.is_empty())break;if(r.item(0).indexOf(t)!==0&&r.item(-1)!==e){this.__lines.splice(n+1,0,new sn(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}};PN.exports.Output=an});var Zm=X((Nee,DN)=>{"use strict";function rL(t,e,n,r){this.type=t,this.text=e,this.comments_before=null,this.newlines=n||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}DN.exports.Token=rL});var th=X(Wi=>{"use strict";var iL="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",SN="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",eh="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",AN="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",IN="(?:\\\\u[0-9a-fA-F]{4}|["+iL+eh+"])",sL="(?:\\\\u[0-9a-fA-F]{4}|["+SN+eh+AN+"])*";Wi.identifier=new RegExp(IN+sL,"g");Wi.identifierStart=new RegExp(IN);Wi.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+SN+eh+AN+"])+");Wi.newline=/[\n\r\u2028\u2029]/;Wi.lineBreak=new RegExp(`\r
|`+Wi.newline.source);Wi.allLineBreaks=new RegExp(Wi.lineBreak.source,"g")});var Nf=X((Pee,vf)=>{"use strict";function Cs(t,e){this.raw_options=EN(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}Cs.prototype._get_array=function(t,e){var n=this.raw_options[t],r=e||[];return typeof n=="object"?n!==null&&typeof n.concat=="function"&&(r=n.concat()):typeof n=="string"&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r};Cs.prototype._get_boolean=function(t,e){var n=this.raw_options[t],r=n===void 0?!!e:!!n;return r};Cs.prototype._get_characters=function(t,e){var n=this.raw_options[t],r=e||"";return typeof n=="string"&&(r=n.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),r};Cs.prototype._get_number=function(t,e){var n=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var r=parseInt(n,10);return isNaN(r)&&(r=e),r};Cs.prototype._get_selection=function(t,e,n){var r=this._get_selection_list(t,e,n);if(r.length!==1)throw new Error("Invalid Option Value: The option '"+t+`' can only be one of the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return r[0]};Cs.prototype._get_selection_list=function(t,e,n){if(!e||e.length===0)throw new Error("Selection list cannot be empty.");if(n=n||[e[0]],!this._is_valid_selection(n,e))throw new Error("Invalid Default Value!");var r=this._get_array(t,n);if(!this._is_valid_selection(r,e))throw new Error("Invalid Option Value: The option '"+t+`' can contain only the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return r};Cs.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some(function(n){return e.indexOf(n)===-1})};function EN(t,e){var n={};t=xN(t);var r;for(r in t)r!==e&&(n[r]=t[r]);if(e&&t[e])for(r in t[e])n[r]=t[e][r];return n}function xN(t){var e={},n;for(n in t){var r=n.replace(/-/g,"_");e[r]=t[n]}return e}vf.exports.Options=Cs;vf.exports.normalizeOpts=xN;vf.exports.mergeOpts=EN});var nh=X((Dee,ON)=>{"use strict";var RN=Nf().Options,aL=["before-newline","after-newline","preserve-newline"];function wN(t){RN.call(this,t,"js");var e=this.raw_options.brace_style||null;e==="expand-strict"?this.raw_options.brace_style="expand":e==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var r=0;r<n.length;r++)n[r]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=n[r];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",aL),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}wN.prototype=new RN;ON.exports.Options=wN});var Cf=X((See,LN)=>{"use strict";var FN=RegExp.prototype.hasOwnProperty("sticky");function dn(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}dn.prototype.restart=function(){this.__position=0};dn.prototype.back=function(){this.__position>0&&(this.__position-=1)};dn.prototype.hasNext=function(){return this.__position<this.__input_length};dn.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t};dn.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e};dn.prototype.__match=function(t,e){t.lastIndex=e;var n=t.exec(this.__input);return n&&!(FN&&t.sticky)&&n.index!==e&&(n=null),n};dn.prototype.test=function(t,e){return e=e||0,e+=this.__position,e>=0&&e<this.__input_length?!!this.__match(t,e):!1};dn.prototype.testChar=function(t,e){var n=this.peek(e);return t.lastIndex=0,n!==null&&t.test(n)};dn.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e};dn.prototype.read=function(t,e,n){var r="",i;return t&&(i=this.match(t),i&&(r+=i[0])),e&&(i||!t)&&(r+=this.readUntil(e,n)),r};dn.prototype.readUntil=function(t,e){var n="",r=this.__position;t.lastIndex=this.__position;var i=t.exec(this.__input);return i?(r=i.index,e&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n};dn.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)};dn.prototype.get_regexp=function(t,e){var n=null,r="g";return e&&FN&&(r="y"),typeof t=="string"&&t!==""?n=new RegExp(t,r):t&&(n=new RegExp(t.source,r)),n};dn.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))};dn.prototype.peekUntilAfter=function(t){var e=this.__position,n=this.readUntilAfter(t);return this.__position=e,n};dn.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t};LN.exports.InputScanner=dn});var MN=X((Aee,kN)=>{"use strict";function aa(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}aa.prototype.restart=function(){this.__position=0};aa.prototype.isEmpty=function(){return this.__tokens_length===0};aa.prototype.hasNext=function(){return this.__position<this.__tokens_length};aa.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t};aa.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__tokens_length&&(e=this.__tokens[t]),e};aa.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1};kN.exports.TokenStream=aa});var Hl=X((Iee,BN)=>{"use strict";function Ni(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after)}Ni.prototype.read=function(){var t=this._input.read(this._starting_pattern);return(!this._starting_pattern||t)&&(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t};Ni.prototype.read_match=function(){return this._input.match(this._match_pattern)};Ni.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e};Ni.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e};Ni.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e};Ni.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e};Ni.prototype._create=function(){return new Ni(this._input,this)};Ni.prototype._update=function(){};BN.exports.Pattern=Ni});var jN=X((Eee,qN)=>{"use strict";var VN=Hl().Pattern;function Ps(t,e){VN.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}Ps.prototype=new VN;Ps.prototype.__set_whitespace_patterns=function(t,e){t+="\\t ",e+="\\n\\r",this._match_pattern=this._input.get_regexp("["+t+e+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]")};Ps.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(t===" ")this.whitespace_before_token=" ";else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1,this.whitespace_before_token=e[this.newline_count]}return t};Ps.prototype.matching=function(t,e){var n=this._create();return n.__set_whitespace_patterns(t,e),n._update(),n};Ps.prototype._create=function(){return new Ps(this._input,this)};Ps.prototype.__split=function(t,e){t.lastIndex=0;for(var n=0,r=[],i=t.exec(e);i;)r.push(e.substring(n,i.index)),n=i.index+i[0].length,i=t.exec(e);return n<e.length?r.push(e.substring(n,e.length)):r.push(""),r};qN.exports.WhitespacePattern=Ps});var Kl=X((xee,ih)=>{"use strict";var oL=Cf().InputScanner,UN=Zm().Token,rh=MN().TokenStream,lL=jN().WhitespacePattern,$l={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},Ci=function(t,e){this._input=new oL(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new lL(this._input)};Ci.prototype.tokenize=function(){this._input.restart(),this.__tokens=new rh,this._reset();for(var t,e=new UN($l.START,""),n=null,r=[],i=new rh;e.type!==$l.EOF;){for(t=this._get_next_token(e,n);this._is_comment(t);)i.add(t),t=this._get_next_token(e,n);i.isEmpty()||(t.comments_before=i,i=new rh),t.parent=n,this._is_opening(t)?(r.push(n),n=t):n&&this._is_closing(t,n)&&(t.opened=n,n.closed=t,n=r.pop(),t.parent=n),t.previous=e,e.next=t,this.__tokens.add(t),e=t}return this.__tokens};Ci.prototype._is_first_token=function(){return this.__tokens.isEmpty()};Ci.prototype._reset=function(){};Ci.prototype._get_next_token=function(t,e){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token($l.RAW,n):this._create_token($l.EOF,"")};Ci.prototype._is_comment=function(t){return!1};Ci.prototype._is_opening=function(t){return!1};Ci.prototype._is_closing=function(t,e){return!1};Ci.prototype._create_token=function(t,e){var n=new UN(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return n};Ci.prototype._readWhitespace=function(){return this._patterns.whitespace.read()};ih.exports.Tokenizer=Ci;ih.exports.TOKEN=$l});var Pf=X((Ree,WN)=>{"use strict";function sh(t,e){t=typeof t=="string"?t:t.source,e=typeof e=="string"?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}sh.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(t);n;)e[n[1]]=n[2],n=this.__directive_pattern.exec(t);return e};sh.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)};WN.exports.Directives=sh});var lh=X((wee,GN)=>{"use strict";var ah=Hl().Pattern,oh={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function si(t,e){ah.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},oh),this._excluded=Object.assign({},oh),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var n=new ah(t);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/),smarty:n.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:n.starting_with(/{\*/).until_after(/\*}/),smarty_literal:n.starting_with(/{literal}/).until_after(/{\/literal}/)}}si.prototype=new ah;si.prototype._create=function(){return new si(this._input,this)};si.prototype._update=function(){this.__set_templated_pattern()};si.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e};si.prototype.read_options=function(t){var e=this._create();for(var n in oh)e._disabled[n]=t.templating.indexOf(n)===-1;return e._update(),e};si.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e};si.prototype.read=function(){var t="";this._match_pattern?t=this._input.read(this._starting_pattern):t=this._input.read(this._starting_pattern,this.__template_pattern);for(var e=this._read_template();e;)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t};si.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||t.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")};si.prototype._read_template=function(){var t="",e=this._input.peek();if(e==="<"){var n=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&n==="?"&&(t=t||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&n==="%"&&(t=t||this.__patterns.erb.read())}else e==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(t=t||this.__patterns.handlebars_comment.read(),t=t||this.__patterns.handlebars_unescaped.read(),t=t||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(t=t||this.__patterns.django_value.read()),this._excluded.django||(t=t||this.__patterns.django_comment.read(),t=t||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(t=t||this.__patterns.smarty_comment.read(),t=t||this.__patterns.smarty_literal.read(),t=t||this.__patterns.smarty.read()));return t};GN.exports.TemplatablePattern=si});var Xl=X((Oee,zl)=>{"use strict";var uL=Cf().InputScanner,YN=Kl().Tokenizer,uh=Kl().TOKEN,cL=Pf().Directives,Sr=th(),fL=Hl().Pattern,pL=lh().TemplatablePattern;function ch(t,e){return e.indexOf(t)!==-1}var Ae={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:uh.START,RAW:uh.RAW,EOF:uh.EOF},HN=new cL(/\/\*/,/\*\//),dL=/0[xX][0123456789abcdefABCDEF]*|0[oO][01234567]*|0[bB][01]*|\d+n|(?:\.\d+|\d+\.?\d*)(?:[eE][+-]?\d+)?/,mL=/[0-9]/,hL=/[^\d\.]/,gL=">>> === !== << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),oa=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";oa=oa.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");oa="\\?\\.(?!\\d) "+oa;oa=oa.replace(/ /g,"|");var _L=new RegExp(oa),$N="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),yL=$N.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),bL=new RegExp("^(?:"+yL.join("|")+")$"),Df,mn=function(t,e){YN.call(this,t,e),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var n=new fL(this._input),r=new pL(this._input).read_options(this._options);this.__patterns={template:r,identifier:r.starting_with(Sr.identifier).matching(Sr.identifierMatch),number:n.matching(dL),punct:n.matching(_L),comment:n.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:n.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:n.matching(/<!--/),html_comment_end:n.matching(/-->/),include:n.starting_with(/#include/).until_after(Sr.lineBreak),shebang:n.starting_with(/#!/).until_after(Sr.lineBreak),xml:n.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\]|)(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:r.until(/['\\\n\r\u2028\u2029]/),double_quote:r.until(/["\\\n\r\u2028\u2029]/),template_text:r.until(/[`\\$]/),template_expression:r.until(/[`}\\]/)}};mn.prototype=new YN;mn.prototype._is_comment=function(t){return t.type===Ae.COMMENT||t.type===Ae.BLOCK_COMMENT||t.type===Ae.UNKNOWN};mn.prototype._is_opening=function(t){return t.type===Ae.START_BLOCK||t.type===Ae.START_EXPR};mn.prototype._is_closing=function(t,e){return(t.type===Ae.END_BLOCK||t.type===Ae.END_EXPR)&&e&&(t.text==="]"&&e.text==="["||t.text===")"&&e.text==="("||t.text==="}"&&e.text==="{")};mn.prototype._reset=function(){Df=!1};mn.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(Ae.EOF,""):(n=n||this._read_non_javascript(r),n=n||this._read_string(r),n=n||this._read_word(t),n=n||this._read_singles(r),n=n||this._read_comment(r),n=n||this._read_regexp(r,t),n=n||this._read_xml(r,t),n=n||this._read_punctuation(),n=n||this._create_token(Ae.UNKNOWN,this._input.next()),n)};mn.prototype._read_word=function(t){var e;if(e=this.__patterns.identifier.read(),e!=="")return e=e.replace(Sr.allLineBreaks,`
`),!(t.type===Ae.DOT||t.type===Ae.RESERVED&&(t.text==="set"||t.text==="get"))&&bL.test(e)?e==="in"||e==="of"?this._create_token(Ae.OPERATOR,e):this._create_token(Ae.RESERVED,e):this._create_token(Ae.WORD,e);if(e=this.__patterns.number.read(),e!=="")return this._create_token(Ae.WORD,e)};mn.prototype._read_singles=function(t){var e=null;return t==="("||t==="["?e=this._create_token(Ae.START_EXPR,t):t===")"||t==="]"?e=this._create_token(Ae.END_EXPR,t):t==="{"?e=this._create_token(Ae.START_BLOCK,t):t==="}"?e=this._create_token(Ae.END_BLOCK,t):t===";"?e=this._create_token(Ae.SEMICOLON,t):t==="."&&hL.test(this._input.peek(1))?e=this._create_token(Ae.DOT,t):t===","&&(e=this._create_token(Ae.COMMA,t)),e&&this._input.next(),e};mn.prototype._read_punctuation=function(){var t=this.__patterns.punct.read();if(t!=="")return t==="="?this._create_token(Ae.EQUALS,t):t==="?."?this._create_token(Ae.DOT,t):this._create_token(Ae.OPERATOR,t)};mn.prototype._read_non_javascript=function(t){var e="";if(t==="#"){if(this._is_first_token()&&(e=this.__patterns.shebang.read(),e))return this._create_token(Ae.UNKNOWN,e.trim()+`
`);if(e=this.__patterns.include.read(),e)return this._create_token(Ae.UNKNOWN,e.trim()+`
`);t=this._input.next();var n="#";if(this._input.hasNext()&&this._input.testChar(mL)){do t=this._input.next(),n+=t;while(this._input.hasNext()&&t!=="#"&&t!=="=");return t==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(n+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(n+="{}",this._input.next(),this._input.next())),this._create_token(Ae.WORD,n)}this._input.back()}else if(t==="<"&&this._is_first_token()){if(e=this.__patterns.html_comment_start.read(),e){for(;this._input.hasNext()&&!this._input.testChar(Sr.newline);)e+=this._input.next();return Df=!0,this._create_token(Ae.COMMENT,e)}}else if(Df&&t==="-"&&(e=this.__patterns.html_comment_end.read(),e))return Df=!1,this._create_token(Ae.COMMENT,e);return null};mn.prototype._read_comment=function(t){var e=null;if(t==="/"){var n="";if(this._input.peek(1)==="*"){n=this.__patterns.block_comment.read();var r=HN.get_directives(n);r&&r.ignore==="start"&&(n+=HN.readIgnored(this._input)),n=n.replace(Sr.allLineBreaks,`
`),e=this._create_token(Ae.BLOCK_COMMENT,n),e.directives=r}else this._input.peek(1)==="/"&&(n=this.__patterns.comment.read(),e=this._create_token(Ae.COMMENT,n))}return e};mn.prototype._read_string=function(t){if(t==="`"||t==="'"||t==='"'){var e=this._input.next();return this.has_char_escapes=!1,t==="`"?e+=this._read_string_recursive("`",!0,"${"):e+=this._read_string_recursive(t),this.has_char_escapes&&this._options.unescape_strings&&(e=TL(e)),this._input.peek()===t&&(e+=this._input.next()),e=e.replace(Sr.allLineBreaks,`
`),this._create_token(Ae.STRING,e)}return null};mn.prototype._allow_regexp_or_xml=function(t){return t.type===Ae.RESERVED&&ch(t.text,["return","case","throw","else","do","typeof","yield"])||t.type===Ae.END_EXPR&&t.text===")"&&t.opened.previous.type===Ae.RESERVED&&ch(t.opened.previous.text,["if","while","for"])||ch(t.type,[Ae.COMMENT,Ae.START_EXPR,Ae.START_BLOCK,Ae.START,Ae.END_BLOCK,Ae.OPERATOR,Ae.EQUALS,Ae.EOF,Ae.SEMICOLON,Ae.COMMA])};mn.prototype._read_regexp=function(t,e){if(t==="/"&&this._allow_regexp_or_xml(e)){for(var n=this._input.next(),r=!1,i=!1;this._input.hasNext()&&(r||i||this._input.peek()!==t)&&!this._input.testChar(Sr.newline);)n+=this._input.peek(),r?r=!1:(r=this._input.peek()==="\\",this._input.peek()==="["?i=!0:this._input.peek()==="]"&&(i=!1)),this._input.next();return this._input.peek()===t&&(n+=this._input.next(),n+=this._input.read(Sr.identifier)),this._create_token(Ae.STRING,n)}return null};mn.prototype._read_xml=function(t,e){if(this._options.e4x&&t==="<"&&this._allow_regexp_or_xml(e)){var n="",r=this.__patterns.xml.read_match();if(r){for(var i=r[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),s=i.indexOf("{")===0,a=0;r;){var o=!!r[1],l=r[2],u=!!r[r.length-1]||l.slice(0,8)==="![CDATA[";if(!u&&(l===i||s&&l.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(o?--a:++a),n+=r[0],a<=0)break;r=this.__patterns.xml.read_match()}return r||(n+=this._input.match(/[\s\S]*/g)[0]),n=n.replace(Sr.allLineBreaks,`
`),this._create_token(Ae.STRING,n)}}return null};function TL(t){for(var e="",n=0,r=new uL(t),i=null;r.hasNext();)if(i=r.match(/([\s]|[^\\]|\\\\)+/g),i&&(e+=i[0]),r.peek()==="\\"){if(r.next(),r.peek()==="x")i=r.match(/x([0-9A-Fa-f]{2})/g);else if(r.peek()==="u")i=r.match(/u([0-9A-Fa-f]{4})/g);else{e+="\\",r.hasNext()&&(e+=r.next());continue}if(!i||(n=parseInt(i[1],16),n>126&&n<=255&&i[0].indexOf("x")===0))return t;if(n>=0&&n<32){e+="\\"+i[0];continue}else n===34||n===39||n===92?e+="\\"+String.fromCharCode(n):e+=String.fromCharCode(n)}return e}mn.prototype._read_string_recursive=function(t,e,n){var r,i;t==="'"?i=this.__patterns.single_quote:t==='"'?i=this.__patterns.double_quote:t==="`"?i=this.__patterns.template_text:t==="}"&&(i=this.__patterns.template_expression);for(var s=i.read(),a="";this._input.hasNext();){if(a=this._input.next(),a===t||!e&&Sr.newline.test(a)){this._input.back();break}else a==="\\"&&this._input.hasNext()?(r=this._input.peek(),r==="x"||r==="u"?this.has_char_escapes=!0:r==="\r"&&this._input.peek(1)===`
`&&this._input.next(),a+=this._input.next()):n&&(n==="${"&&a==="$"&&this._input.peek()==="{"&&(a+=this._input.next()),n===a&&(t==="`"?a+=this._read_string_recursive("}",e,"`"):a+=this._read_string_recursive("`",e,"${"),this._input.hasNext()&&(a+=this._input.next())));a+=i.read(),s+=a}return s};zl.exports.Tokenizer=mn;zl.exports.TOKEN=Ae;zl.exports.positionable_operators=gL.slice();zl.exports.line_starters=$N.slice()});var QN=X((Fee,XN)=>{"use strict";var vL=Tf().Output,NL=Zm().Token,Sf=th(),CL=nh().Options,PL=Xl().Tokenizer,Ql=Xl().line_starters,Jl=Xl().positionable_operators,W=Xl().TOKEN;function Ye(t,e){return e.indexOf(t)!==-1}function DL(t){return t.replace(/^\s+/g,"")}function SL(t){for(var e={},n=0;n<t.length;n++)e[t[n].replace(/-/g,"_")]=t[n];return e}function Ar(t,e){return t&&t.type===W.RESERVED&&t.text===e}function mt(t,e){return t&&t.type===W.RESERVED&&Ye(t.text,e)}var Af=["case","return","do","if","throw","else","await","break","continue","async"],AL=["before-newline","after-newline","preserve-newline"],Zl=SL(AL),KN=[Zl.before_newline,Zl.preserve_newline],Ie={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function zN(t,e){e.multiline_frame||e.mode===Ie.ForInitializer||e.mode===Ie.Conditional||t.remove_indent(e.start_line_index)}function IL(t){t=t.replace(Sf.allLineBreaks,`
`);for(var e=[],n=t.indexOf(`
`);n!==-1;)e.push(t.substring(0,n)),t=t.substring(n+1),n=t.indexOf(`
`);return t.length&&e.push(t),e}function Ds(t){return t===Ie.ArrayLiteral}function eu(t){return Ye(t,[Ie.Expression,Ie.ForInitializer,Ie.Conditional])}function EL(t,e){for(var n=0;n<t.length;n++){var r=t[n].trim();if(r.charAt(0)!==e)return!1}return!0}function xL(t,e){for(var n=0,r=t.length,i;n<r;n++)if(i=t[n],i&&i.indexOf(e)!==0)return!1;return!0}function Je(t,e){e=e||{},this._source_text=t||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new CL(e)}Je.prototype.create_flags=function(t,e){var n=0;t&&(n=t.indentation_level,!this._output.just_added_newline()&&t.line_indent_level>n&&(n=t.line_indent_level));var r={mode:e,parent:t,last_token:t?t.last_token:new NL(W.START_BLOCK,""),last_word:t?t.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,alignment:0,line_indent_level:t?t.line_indent_level:n,start_line_index:this._output.get_line_number(),ternary_depth:0};return r};Je.prototype._reset=function(t){var e=t.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new vL(this._options,e),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(Ie.BlockStatement);var n=new PL(t,this._options);return this._tokens=n.tokenize(),t};Je.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t,e=this._reset(this._source_text),n=this._options.eol;this._options.eol==="auto"&&(n=`
`,e&&Sf.lineBreak.test(e||"")&&(n=e.match(Sf.lineBreak)[0]));for(var r=this._tokens.next();r;)this.handle_token(r),this._last_last_text=this._flags.last_token.text,this._flags.last_token=r,r=this._tokens.next();return t=this._output.get_code(n),t};Je.prototype.handle_token=function(t,e){t.type===W.START_EXPR?this.handle_start_expr(t):t.type===W.END_EXPR?this.handle_end_expr(t):t.type===W.START_BLOCK?this.handle_start_block(t):t.type===W.END_BLOCK?this.handle_end_block(t):t.type===W.WORD?this.handle_word(t):t.type===W.RESERVED?this.handle_word(t):t.type===W.SEMICOLON?this.handle_semicolon(t):t.type===W.STRING?this.handle_string(t):t.type===W.EQUALS?this.handle_equals(t):t.type===W.OPERATOR?this.handle_operator(t):t.type===W.COMMA?this.handle_comma(t):t.type===W.BLOCK_COMMENT?this.handle_block_comment(t,e):t.type===W.COMMENT?this.handle_comment(t,e):t.type===W.DOT?this.handle_dot(t):t.type===W.EOF?this.handle_eof(t):t.type===W.UNKNOWN?this.handle_unknown(t,e):this.handle_unknown(t,e)};Je.prototype.handle_whitespace_and_comments=function(t,e){var n=t.newlines,r=this._options.keep_array_indentation&&Ds(this._flags.mode);if(t.comments_before)for(var i=t.comments_before.next();i;)this.handle_whitespace_and_comments(i,e),this.handle_token(i,e),i=t.comments_before.next();if(r)for(var s=0;s<n;s+=1)this.print_newline(s>0,e);else if(this._options.max_preserve_newlines&&n>this._options.max_preserve_newlines&&(n=this._options.max_preserve_newlines),this._options.preserve_newlines&&n>1){this.print_newline(!1,e);for(var a=1;a<n;a+=1)this.print_newline(!0,e)}};var fh=["async","break","continue","return","throw","yield"];Je.prototype.allow_wrap_or_preserved_newline=function(t,e){if(e=e===void 0?!1:e,!this._output.just_added_newline()){var n=this._options.preserve_newlines&&t.newlines||e,r=Ye(this._flags.last_token.text,Jl)||Ye(t.text,Jl);if(r){var i=Ye(this._flags.last_token.text,Jl)&&Ye(this._options.operator_position,KN)||Ye(t.text,Jl);n=n&&i}if(n)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(mt(this._flags.last_token,fh))return;this._output.set_wrap_point()}}};Je.prototype.print_newline=function(t,e){if(!e&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==W.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var n=this._tokens.peek();this._flags.mode===Ie.Statement&&!(this._flags.if_block&&Ar(n,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(t)&&(this._flags.multiline_frame=!0)};Je.prototype.print_token_line_indentation=function(t){this._output.just_added_newline()&&(this._options.keep_array_indentation&&t.newlines&&(t.text==="["||Ds(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(t.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))};Je.prototype.print_token=function(t){if(this._output.raw){this._output.add_raw_token(t);return}if(this._options.comma_first&&t.previous&&t.previous.type===W.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var e=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(e),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(t),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(t),this._output.non_breaking_space=!0,this._output.add_token(t.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)};Je.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};Je.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};Je.prototype.set_mode=function(t){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,t),this._flags=this.create_flags(this._previous_flags,t),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};Je.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===Ie.Statement&&zN(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};Je.prototype.start_of_object_property=function(){return this._flags.parent.mode===Ie.ObjectLiteral&&this._flags.mode===Ie.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||mt(this._flags.last_token,["get","set"]))};Je.prototype.start_of_statement=function(t){var e=!1;return e=e||mt(this._flags.last_token,["var","let","const"])&&t.type===W.WORD,e=e||Ar(this._flags.last_token,"do"),e=e||!(this._flags.parent.mode===Ie.ObjectLiteral&&this._flags.mode===Ie.Statement)&&mt(this._flags.last_token,fh)&&!t.newlines,e=e||Ar(this._flags.last_token,"else")&&!(Ar(t,"if")&&!t.comments_before),e=e||this._flags.last_token.type===W.END_EXPR&&(this._previous_flags.mode===Ie.ForInitializer||this._previous_flags.mode===Ie.Conditional),e=e||this._flags.last_token.type===W.WORD&&this._flags.mode===Ie.BlockStatement&&!this._flags.in_case&&!(t.text==="--"||t.text==="++")&&this._last_last_text!=="function"&&t.type!==W.WORD&&t.type!==W.RESERVED,e=e||this._flags.mode===Ie.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||mt(this._flags.last_token,["get","set"])),e?(this.set_mode(Ie.Statement),this.indent(),this.handle_whitespace_and_comments(t,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t,mt(t,["do","for","if","while"])),!0):!1};Je.prototype.handle_start_expr=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t);var e=Ie.Expression;if(t.text==="["){if(this._flags.last_token.type===W.WORD||this._flags.last_token.text===")"){mt(this._flags.last_token,Ql)&&(this._output.space_before_token=!0),this.print_token(t),this.set_mode(e),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}e=Ie.ArrayLiteral,Ds(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),Ye(this._flags.last_token.type,[W.START_EXPR,W.END_EXPR,W.WORD,W.OPERATOR,W.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===W.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,e=Ie.ForInitializer):Ye(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,e=Ie.Conditional):Ye(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&t.whitespace_before===""?this._output.space_before_token=!1:(Ye(this._flags.last_token.text,Ql)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===W.EQUALS||this._flags.last_token.type===W.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t);else if(this._flags.last_token.type===W.WORD){this._output.space_before_token=!1;var n=this._tokens.peek(-3);if(this._options.space_after_named_function&&n){var r=this._tokens.peek(-4);mt(n,["async","function"])||n.text==="*"&&mt(r,["async","function"])?this._output.space_before_token=!0:this._flags.mode===Ie.ObjectLiteral&&(n.text==="{"||n.text===","||n.text==="*"&&(r.text==="{"||r.text===","))&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(t);(this._flags.last_token.type===W.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(Ye(this._last_last_text,["function","yield"])||this._flags.mode===Ie.ObjectLiteral&&Ye(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===W.START_BLOCK?this.print_newline():(this._flags.last_token.type===W.END_EXPR||this._flags.last_token.type===W.START_EXPR||this._flags.last_token.type===W.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===W.COMMA)&&this.allow_wrap_or_preserved_newline(t,t.newlines),this.print_token(t),this.set_mode(e),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()};Je.prototype.handle_end_expr=function(t){for(;this._flags.mode===Ie.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(t,t.text==="]"&&Ds(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===W.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(t),this.restore_mode(),zN(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===Ie.Conditional&&(this._previous_flags.mode=Ie.Expression,this._flags.do_block=!1,this._flags.do_while=!1)};Je.prototype.handle_start_block=function(t){this.handle_whitespace_and_comments(t);var e=this._tokens.peek(),n=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===W.END_EXPR?(this.set_mode(Ie.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(Ie.BlockStatement):n&&(Ye(n.text,[":",","])&&Ye(e.type,[W.STRING,W.WORD,W.RESERVED])||Ye(e.text,["get","set","..."])&&Ye(n.type,[W.WORD,W.RESERVED]))?Ye(this._last_last_text,["class","interface"])?this.set_mode(Ie.BlockStatement):this.set_mode(Ie.ObjectLiteral):this._flags.last_token.type===W.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(Ie.BlockStatement):Ye(this._flags.last_token.type,[W.EQUALS,W.START_EXPR,W.COMMA,W.OPERATOR])||mt(this._flags.last_token,["return","throw","import","default"])?this.set_mode(Ie.ObjectLiteral):this.set_mode(Ie.BlockStatement);var r=!e.comments_before&&e.text==="}",i=r&&this._flags.last_word==="function"&&this._flags.last_token.type===W.END_EXPR;if(this._options.brace_preserve_inline){var s=0,a=null;this._flags.inline_frame=!0;do if(s+=1,a=this._tokens.peek(s-1),a.newlines){this._flags.inline_frame=!1;break}while(a.type!==W.EOF&&!(a.type===W.END_BLOCK&&a.opened===t))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==W.OPERATOR&&(i||this._flags.last_token.type===W.EQUALS||mt(this._flags.last_token,Af)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(Ds(this._previous_flags.mode)&&(this._flags.last_token.type===W.START_EXPR||this._flags.last_token.type===W.COMMA)&&((this._flags.last_token.type===W.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===W.COMMA||this._flags.last_token.type===W.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(t),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==W.OPERATOR&&this._flags.last_token.type!==W.START_EXPR&&(this._flags.last_token.type===W.START_BLOCK&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(t),this.indent(),!r&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()};Je.prototype.handle_end_block=function(t){for(this.handle_whitespace_and_comments(t);this._flags.mode===Ie.Statement;)this.restore_mode();var e=this._flags.last_token.type===W.START_BLOCK;this._flags.inline_frame&&!e?this._output.space_before_token=!0:this._options.brace_style==="expand"?e||this.print_newline():e||(Ds(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(t)};Je.prototype.handle_word=function(t){if(t.type===W.RESERVED){if(Ye(t.text,["set","get"])&&this._flags.mode!==Ie.ObjectLiteral)t.type=W.WORD;else if(t.text==="import"&&this._tokens.peek().text==="(")t.type=W.WORD;else if(Ye(t.text,["as","from"])&&!this._flags.import_block)t.type=W.WORD;else if(this._flags.mode===Ie.ObjectLiteral){var e=this._tokens.peek();e.text===":"&&(t.type=W.WORD)}}if(this.start_of_statement(t)?mt(this._flags.last_token,["var","let","const"])&&t.type===W.WORD&&(this._flags.declaration_statement=!0):t.newlines&&!eu(this._flags.mode)&&(this._flags.last_token.type!==W.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==W.EQUALS&&(this._options.preserve_newlines||!mt(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(t),this.print_newline()):this.handle_whitespace_and_comments(t),this._flags.do_block&&!this._flags.do_while)if(Ar(t,"while")){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&Ar(t,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===Ie.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&mt(t,["case","default"])){this.print_newline(),this._flags.last_token.type!==W.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(t),this._flags.in_case=!0;return}if((this._flags.last_token.type===W.COMMA||this._flags.last_token.type===W.START_EXPR||this._flags.last_token.type===W.EQUALS||this._flags.last_token.type===W.OPERATOR)&&(this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t)),Ar(t,"function")){(Ye(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(Ye(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===W.OPERATOR))&&!this._output.just_added_blankline()&&!t.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===W.RESERVED||this._flags.last_token.type===W.WORD?mt(this._flags.last_token,["get","set","new","export"])||mt(this._flags.last_token,fh)?this._output.space_before_token=!0:Ar(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===W.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(eu(this._flags.mode)||Ds(this._flags.mode))||this.print_newline(),this.print_token(t),this._flags.last_word=t.text;return}var n="NONE";if(this._flags.last_token.type===W.END_BLOCK?this._previous_flags.inline_frame?n="SPACE":mt(t,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines?n="NEWLINE":(n="SPACE",this._output.space_before_token=!0):n="NEWLINE":this._flags.last_token.type===W.SEMICOLON&&this._flags.mode===Ie.BlockStatement?n="NEWLINE":this._flags.last_token.type===W.SEMICOLON&&eu(this._flags.mode)?n="SPACE":this._flags.last_token.type===W.STRING?n="NEWLINE":this._flags.last_token.type===W.RESERVED||this._flags.last_token.type===W.WORD||this._flags.last_token.text==="*"&&(Ye(this._last_last_text,["function","yield"])||this._flags.mode===Ie.ObjectLiteral&&Ye(this._last_last_text,["{",","]))?n="SPACE":this._flags.last_token.type===W.START_BLOCK?this._flags.inline_frame?n="SPACE":n="NEWLINE":this._flags.last_token.type===W.END_EXPR&&(this._output.space_before_token=!0,n="NEWLINE"),mt(t,Ql)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?n="SPACE":n="NEWLINE"),mt(t,["else","catch","finally"]))if((!(this._flags.last_token.type===W.END_BLOCK&&this._previous_flags.mode===Ie.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var r=this._output.current_line;r.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else n==="NEWLINE"?mt(this._flags.last_token,Af)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&mt(t,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==W.END_EXPR?(this._flags.last_token.type!==W.START_EXPR||!mt(t,["var","let","const"]))&&this._flags.last_token.text!==":"&&(Ar(t,"if")&&Ar(t.previous,"else")?this._output.space_before_token=!0:this.print_newline()):mt(t,Ql)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&Ds(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():n==="SPACE"&&(this._output.space_before_token=!0);t.previous&&(t.previous.type===W.WORD||t.previous.type===W.RESERVED)&&(this._output.space_before_token=!0),this.print_token(t),this._flags.last_word=t.text,t.type===W.RESERVED&&(t.text==="do"?this._flags.do_block=!0:t.text==="if"?this._flags.if_block=!0:t.text==="import"?this._flags.import_block=!0:this._flags.import_block&&Ar(t,"from")&&(this._flags.import_block=!1))};Je.prototype.handle_semicolon=function(t){this.start_of_statement(t)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(t);for(var e=this._tokens.peek();this._flags.mode===Ie.Statement&&!(this._flags.if_block&&Ar(e,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(t)};Je.prototype.handle_string=function(t){t.text.startsWith("`")&&t.newlines===0&&t.whitespace_before===""&&(t.previous.text===")"||this._flags.last_token.type===W.WORD)||(this.start_of_statement(t)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(t),this._flags.last_token.type===W.RESERVED||this._flags.last_token.type===W.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===W.COMMA||this._flags.last_token.type===W.START_EXPR||this._flags.last_token.type===W.EQUALS||this._flags.last_token.type===W.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t):t.text.startsWith("`")&&this._flags.last_token.type===W.END_EXPR&&(t.previous.text==="]"||t.previous.text===")")&&t.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(t)};Je.prototype.handle_equals=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0};Je.prototype.handle_comma=function(t){this.handle_whitespace_and_comments(t,!0),this.print_token(t),this._output.space_before_token=!0,this._flags.declaration_statement?(eu(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)):this._flags.mode===Ie.ObjectLiteral||this._flags.mode===Ie.Statement&&this._flags.parent.mode===Ie.ObjectLiteral?(this._flags.mode===Ie.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)};Je.prototype.handle_operator=function(t){var e=t.text==="*"&&(mt(this._flags.last_token,["function","yield"])||Ye(this._flags.last_token.type,[W.START_BLOCK,W.COMMA,W.END_BLOCK,W.SEMICOLON])),n=Ye(t.text,["-","+"])&&(Ye(this._flags.last_token.type,[W.START_BLOCK,W.START_EXPR,W.EQUALS,W.OPERATOR])||Ye(this._flags.last_token.text,Ql)||this._flags.last_token.text===",");if(!this.start_of_statement(t)){var r=!e;this.handle_whitespace_and_comments(t,r)}if(mt(this._flags.last_token,Af)){this._output.space_before_token=!0,this.print_token(t);return}if(t.text==="*"&&this._flags.last_token.type===W.DOT){this.print_token(t);return}if(t.text==="::"){this.print_token(t);return}if(this._flags.last_token.type===W.OPERATOR&&Ye(this._options.operator_position,KN)&&this.allow_wrap_or_preserved_newline(t),t.text===":"&&this._flags.in_case){this.print_token(t),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==W.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0;return}var i=!0,s=!0,a=!1;if(t.text===":"?this._flags.ternary_depth===0?i=!1:(this._flags.ternary_depth-=1,a=!0):t.text==="?"&&(this._flags.ternary_depth+=1),!n&&!e&&this._options.preserve_newlines&&Ye(t.text,Jl)){var o=t.text===":",l=o&&a,u=o&&!a;switch(this._options.operator_position){case Zl.before_newline:this._output.space_before_token=!u,this.print_token(t),(!o||l)&&this.allow_wrap_or_preserved_newline(t),this._output.space_before_token=!0;return;case Zl.after_newline:this._output.space_before_token=!0,!o||l?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(t):this._output.space_before_token=!1,this.print_token(t),this._output.space_before_token=!0;return;case Zl.preserve_newline:u||this.allow_wrap_or_preserved_newline(t),i=!(this._output.just_added_newline()||u),this._output.space_before_token=i,this.print_token(t),this._output.space_before_token=!0;return}}if(e){this.allow_wrap_or_preserved_newline(t),i=!1;var c=this._tokens.peek();s=c&&Ye(c.type,[W.WORD,W.RESERVED])}else t.text==="..."?(this.allow_wrap_or_preserved_newline(t),i=this._flags.last_token.type===W.START_BLOCK,s=!1):(Ye(t.text,["--","++","!","~"])||n)&&((this._flags.last_token.type===W.COMMA||this._flags.last_token.type===W.START_EXPR)&&this.allow_wrap_or_preserved_newline(t),i=!1,s=!1,t.newlines&&(t.text==="--"||t.text==="++")&&this.print_newline(!1,!0),this._flags.last_token.text===";"&&eu(this._flags.mode)&&(i=!0),this._flags.last_token.type===W.RESERVED?i=!0:this._flags.last_token.type===W.END_EXPR?i=!(this._flags.last_token.text==="]"&&(t.text==="--"||t.text==="++")):this._flags.last_token.type===W.OPERATOR&&(i=Ye(t.text,["--","-","++","+"])&&Ye(this._flags.last_token.text,["--","-","++","+"]),Ye(t.text,["+","-"])&&Ye(this._flags.last_token.text,["--","++"])&&(s=!0)),(this._flags.mode===Ie.BlockStatement&&!this._flags.inline_frame||this._flags.mode===Ie.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline());this._output.space_before_token=this._output.space_before_token||i,this.print_token(t),this._output.space_before_token=s};Je.prototype.handle_block_comment=function(t,e){if(this._output.raw){this._output.add_raw_token(t),t.directives&&t.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(t.directives){this.print_newline(!1,e),this.print_token(t),t.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!Sf.newline.test(t.text)&&!t.newlines){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0;return}else this.print_block_commment(t,e)};Je.prototype.print_block_commment=function(t,e){var n=IL(t.text),r,i=!1,s=!1,a=t.whitespace_before,o=a.length;if(this.print_newline(!1,e),this.print_token_line_indentation(t),this._output.add_token(n[0]),this.print_newline(!1,e),n.length>1){for(n=n.slice(1),i=EL(n,"*"),s=xL(n,a),i&&(this._flags.alignment=1),r=0;r<n.length;r++)i?(this.print_token_line_indentation(t),this._output.add_token(DL(n[r]))):s&&n[r]?(this.print_token_line_indentation(t),this._output.add_token(n[r].substring(o))):(this._output.current_line.set_indent(-1),this._output.add_token(n[r])),this.print_newline(!1,e);this._flags.alignment=0}};Je.prototype.handle_comment=function(t,e){t.newlines?this.print_newline(!1,e):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(t),this.print_newline(!1,e)};Je.prototype.handle_dot=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t,!0),mt(this._flags.last_token,Af)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(t,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(t)};Je.prototype.handle_unknown=function(t,e){this.print_token(t),t.text[t.text.length-1]===`
`&&this.print_newline(!1,e)};Je.prototype.handle_eof=function(t){for(;this._flags.mode===Ie.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t)};XN.exports.Beautifier=Je});var JN=X((Lee,ph)=>{"use strict";var RL=QN().Beautifier,wL=nh().Options;function OL(t,e){var n=new RL(t,e);return n.beautify()}ph.exports=OL;ph.exports.defaultOptions=function(){return new wL}});var dh=X((kee,tC)=>{"use strict";var ZN=Nf().Options;function eC(t){ZN.call(this,t,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var e=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||e;var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var r=0;r<n.length;r++)n[r]!=="expand"?this.brace_style="collapse":this.brace_style=n[r]}eC.prototype=new ZN;tC.exports.Options=eC});var sC=X((Mee,iC)=>{"use strict";var FL=dh().Options,LL=Tf().Output,kL=Cf().InputScanner,ML=Pf().Directives,nC=new ML(/\/\*/,/\*\//),rC=/\r\n|[\r\n]/,BL=/\r\n|[\r\n]/g,If=/\s/,VL=/(?:\s|\n)+/g,qL=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,jL=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function Gi(t,e){this._source_text=t||"",this._options=new FL(e),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}Gi.prototype.eatString=function(t){var e="";for(this._ch=this._input.next();this._ch;){if(e+=this._ch,this._ch==="\\")e+=this._input.next();else if(t.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return e};Gi.prototype.eatWhitespace=function(t){for(var e=If.test(this._input.peek()),n=0;If.test(this._input.peek());)this._ch=this._input.next(),t&&this._ch===`
`&&(n===0||n<this._options.max_preserve_newlines)&&(n++,this._output.add_new_line(!0));return e};Gi.prototype.foundNestedPseudoClass=function(){for(var t=0,e=1,n=this._input.peek(e);n;){if(n==="{")return!0;if(n==="(")t+=1;else if(n===")"){if(t===0)return!1;t-=1}else if(n===";"||n==="}")return!1;e++,n=this._input.peek(e)}return!1};Gi.prototype.print_string=function(t){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(t)};Gi.prototype.preserveSingleSpace=function(t){t&&(this._output.space_before_token=!0)};Gi.prototype.indent=function(){this._indentLevel++};Gi.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--};Gi.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;e==="auto"&&(e=`
`,t&&rC.test(t||"")&&(e=t.match(rC)[0])),t=t.replace(BL,`
`);var n=t.match(/^[\t ]*/)[0];this._output=new LL(this._options,n),this._input=new kL(t),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var r=0,i=!1,s=!1,a=!1,o=!1,l=!1,u=this._ch,c,f,d;c=this._input.read(VL),f=c!=="",d=u,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),u=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var _=this._input.read(qL),p=nC.get_directives(_);p&&p.ignore==="start"&&(_+=nC.readIgnored(this._input)),this.print_string(_),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(jL)),this.eatWhitespace(!0);else if(this._ch==="@")if(this.preserveSingleSpace(f),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var m=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);m.match(/[ :]$/)&&(m=this.eatString(": ").replace(/\s$/,""),this.print_string(m),this._output.space_before_token=!0),m=m.replace(/\s$/,""),m==="extend"?o=!0:m==="import"&&(l=!0),m in this.NESTED_AT_RULE?(this._nestedLevel+=1,m in this.CONDITIONAL_GROUP_RULE&&(a=!0)):!i&&r===0&&m.indexOf(":")!==-1&&(s=!0,this.indent())}else this._ch==="#"&&this._input.peek()==="{"?(this.preserveSingleSpace(f),this.print_string(this._ch+this.eatString("}"))):this._ch==="{"?(s&&(s=!1,this.outdent()),a?(a=!1,i=this._indentLevel>=this._nestedLevel):i=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&i&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line()):this._ch==="}"?(this.outdent(),this._output.add_new_line(),d==="{"&&this._output.trim(!0),l=!1,o=!1,s&&(this.outdent(),s=!1),this.print_string(this._ch),i=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0)):this._ch===":"?(i||a)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!o&&r===0?(this.print_string(":"),s||(s=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):this._ch==='"'||this._ch==="'"?(this.preserveSingleSpace(f),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):this._ch===";"?r===0?(s&&(this.outdent(),s=!1),o=!1,l=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):this._ch==="("?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),r++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),r&&(r--,this.outdent()))):(this.preserveSingleSpace(f),this.print_string(this._ch),this.eatWhitespace(),r++,this.indent()):this._ch===")"?(r&&(r--,this.outdent()),this.print_string(this._ch)):this._ch===","?(this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&!s&&r===0&&!l?this._output.add_new_line():this._output.space_before_token=!0):(this._ch===">"||this._ch==="+"||this._ch==="~")&&!s&&r===0?this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&If.test(this._ch)&&(this._ch="")):this._ch==="]"?this.print_string(this._ch):this._ch==="["?(this.preserveSingleSpace(f),this.print_string(this._ch)):this._ch==="="?(this.eatWhitespace(),this.print_string("="),If.test(this._ch)&&(this._ch="")):this._ch==="!"&&!this._input.lookBack("\\")?(this.print_string(" "),this.print_string(this._ch)):(this.preserveSingleSpace(f),this.print_string(this._ch));var g=this._output.get_code(e);return g};iC.exports.Beautifier=Gi});var aC=X((Bee,mh)=>{"use strict";var UL=sC().Beautifier,WL=dh().Options;function GL(t,e){var n=new UL(t,e);return n.beautify()}mh.exports=GL;mh.exports.defaultOptions=function(){return new WL}});var hh=X((Vee,uC)=>{"use strict";var oC=Nf().Options;function lC(t){oC.call(this,t,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}lC.prototype=new oC;uC.exports.Options=lC});var yh=X((qee,_h)=>{"use strict";var cC=Kl().Tokenizer,gh=Kl().TOKEN,YL=Pf().Directives,HL=lh().TemplatablePattern,$L=Hl().Pattern,Ot={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:gh.START,RAW:gh.RAW,EOF:gh.EOF},fC=new YL(/<\!--/,/-->/),Tn=function(t,e){cC.call(this,t,e),this._current_tag_name="";var n=new HL(this._input).read_options(this._options),r=new $L(this._input);if(this.__patterns={word:n.until(/[\n\r\t <]/),single_quote:n.until_after(/'/),double_quote:n.until_after(/"/),attribute:n.until(/[\n\r\t =>]|\/>/),element_name:n.until(/[\n\r\t >\/]/),handlebars_comment:r.starting_with(/{{!--/).until_after(/--}}/),handlebars:r.starting_with(/{{/).until_after(/}}/),handlebars_open:r.until(/[\n\r\t }]/),handlebars_raw_close:r.until(/}}/),comment:r.starting_with(/<!--/).until_after(/-->/),cdata:r.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:r.starting_with(/<!\[/).until_after(/]>/),processing:r.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var i=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=r.matching(i).until_after(i)}};Tn.prototype=new cC;Tn.prototype._is_comment=function(t){return!1};Tn.prototype._is_opening=function(t){return t.type===Ot.TAG_OPEN};Tn.prototype._is_closing=function(t,e){return t.type===Ot.TAG_CLOSE&&e&&((t.text===">"||t.text==="/>")&&e.text[0]==="<"||t.text==="}}"&&e.text[0]==="{"&&e.text[1]==="{")};Tn.prototype._reset=function(){this._current_tag_name=""};Tn.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(Ot.EOF,""):(n=n||this._read_open_handlebars(r,e),n=n||this._read_attribute(r,t,e),n=n||this._read_close(r,e),n=n||this._read_raw_content(r,t,e),n=n||this._read_content_word(r),n=n||this._read_comment_or_cdata(r),n=n||this._read_processing(r),n=n||this._read_open(r,e),n=n||this._create_token(Ot.UNKNOWN,this._input.next()),n)};Tn.prototype._read_comment_or_cdata=function(t){var e=null,n=null,r=null;if(t==="<"){var i=this._input.peek(1);i==="!"&&(n=this.__patterns.comment.read(),n?(r=fC.get_directives(n),r&&r.ignore==="start"&&(n+=fC.readIgnored(this._input))):n=this.__patterns.cdata.read()),n&&(e=this._create_token(Ot.COMMENT,n),e.directives=r)}return e};Tn.prototype._read_processing=function(t){var e=null,n=null,r=null;if(t==="<"){var i=this._input.peek(1);(i==="!"||i==="?")&&(n=this.__patterns.conditional_comment.read(),n=n||this.__patterns.processing.read()),n&&(e=this._create_token(Ot.COMMENT,n),e.directives=r)}return e};Tn.prototype._read_open=function(t,e){var n=null,r=null;return e||t==="<"&&(n=this._input.next(),this._input.peek()==="/"&&(n+=this._input.next()),n+=this.__patterns.element_name.read(),r=this._create_token(Ot.TAG_OPEN,n)),r};Tn.prototype._read_open_handlebars=function(t,e){var n=null,r=null;return e||this._options.indent_handlebars&&t==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(n=this.__patterns.handlebars_comment.read(),n=n||this.__patterns.handlebars.read(),r=this._create_token(Ot.COMMENT,n)):(n=this.__patterns.handlebars_open.read(),r=this._create_token(Ot.TAG_OPEN,n))),r};Tn.prototype._read_close=function(t,e){var n=null,r=null;return e&&(e.text[0]==="<"&&(t===">"||t==="/"&&this._input.peek(1)===">")?(n=this._input.next(),t==="/"&&(n+=this._input.next()),r=this._create_token(Ot.TAG_CLOSE,n)):e.text[0]==="{"&&t==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),r=this._create_token(Ot.TAG_CLOSE,"}}"))),r};Tn.prototype._read_attribute=function(t,e,n){var r=null,i="";if(n&&n.text[0]==="<")if(t==="=")r=this._create_token(Ot.EQUALS,this._input.next());else if(t==='"'||t==="'"){var s=this._input.next();t==='"'?s+=this.__patterns.double_quote.read():s+=this.__patterns.single_quote.read(),r=this._create_token(Ot.VALUE,s)}else i=this.__patterns.attribute.read(),i&&(e.type===Ot.EQUALS?r=this._create_token(Ot.VALUE,i):r=this._create_token(Ot.ATTRIBUTE,i));return r};Tn.prototype._is_content_unformatted=function(t){return this._options.void_elements.indexOf(t)===-1&&(this._options.content_unformatted.indexOf(t)!==-1||this._options.unformatted.indexOf(t)!==-1)};Tn.prototype._read_raw_content=function(t,e,n){var r="";if(n&&n.text[0]==="{")r=this.__patterns.handlebars_raw_close.read();else if(e.type===Ot.TAG_CLOSE&&e.opened.text[0]==="<"&&e.text[0]!=="/"){var i=e.opened.text.substr(1).toLowerCase();if(i==="script"||i==="style"){var s=this._read_comment_or_cdata(t);if(s)return s.type=Ot.TEXT,s;r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(i)&&(r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig")))}return r?this._create_token(Ot.TEXT,r):null};Tn.prototype._read_content_word=function(t){var e="";if(this._options.unformatted_content_delimiter&&t===this._options.unformatted_content_delimiter[0]&&(e=this.__patterns.unformatted_content_delimiter.read()),e||(e=this.__patterns.word.read()),e)return this._create_token(Ot.TEXT,e)};_h.exports.Tokenizer=Tn;_h.exports.TOKEN=Ot});var hC=X((jee,mC)=>{"use strict";var KL=hh().Options,zL=Tf().Output,XL=yh().Tokenizer,ut=yh().TOKEN,pC=/\r\n|[\r\n]/,QL=/\r\n|[\r\n]/g,Ir=function(t,e){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=t.max_preserve_newlines,this.preserve_newlines=t.preserve_newlines,this._output=new zL(t,e)};Ir.prototype.current_line_has_match=function(t){return this._output.current_line.has_match(t)};Ir.prototype.set_space_before_token=function(t,e){this._output.space_before_token=t,this._output.non_breaking_space=e};Ir.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()};Ir.prototype.add_raw_token=function(t){this._output.add_raw_token(t)};Ir.prototype.print_preserved_newlines=function(t){var e=0;t.type!==ut.TEXT&&t.previous.type!==ut.TEXT&&(e=t.newlines?1:0),this.preserve_newlines&&(e=t.newlines<this.max_preserve_newlines+1?t.newlines:this.max_preserve_newlines+1);for(var n=0;n<e;n++)this.print_newline(n>0);return e!==0};Ir.prototype.traverse_whitespace=function(t){return t.whitespace_before||t.newlines?(this.print_preserved_newlines(t)||(this._output.space_before_token=!0),!0):!1};Ir.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped};Ir.prototype.print_newline=function(t){this._output.add_new_line(t)};Ir.prototype.print_token=function(t){t.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(t.text))};Ir.prototype.indent=function(){this.indent_level++};Ir.prototype.get_full_indent=function(t){return t=this.indent_level+(t||0),t<1?"":this._output.get_indent_string(t)};var JL=function(t){for(var e=null,n=t.next;n.type!==ut.EOF&&t.closed!==n;){if(n.type===ut.ATTRIBUTE&&n.text==="type"){n.next&&n.next.type===ut.EQUALS&&n.next.next&&n.next.next.type===ut.VALUE&&(e=n.next.next.text);break}n=n.next}return e},ZL=function(t,e){var n=null,r=null;return e.closed?(t==="script"?n="text/javascript":t==="style"&&(n="text/css"),n=JL(e)||n,n.search("text/css")>-1?r="css":n.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?r="javascript":n.search(/(text|application|dojo)\/(x-)?(html)/)>-1?r="html":n.search(/test\/null/)>-1&&(r="null"),r):null};function tu(t,e){return e.indexOf(t)!==-1}function ek(t,e,n){this.parent=t||null,this.tag=e?e.tag_name:"",this.indent_level=n||0,this.parser_token=e||null}function la(t){this._printer=t,this._current_frame=null}la.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null};la.prototype.record_tag=function(t){var e=new ek(this._current_frame,t,this._printer.indent_level);this._current_frame=e};la.prototype._try_pop_frame=function(t){var e=null;return t&&(e=t.parser_token,this._printer.indent_level=t.indent_level,this._current_frame=t.parent),e};la.prototype._get_frame=function(t,e){for(var n=this._current_frame;n&&t.indexOf(n.tag)===-1;){if(e&&e.indexOf(n.tag)!==-1){n=null;break}n=n.parent}return n};la.prototype.try_pop=function(t,e){var n=this._get_frame([t],e);return this._try_pop_frame(n)};la.prototype.indent_to_tag=function(t){var e=this._get_frame(t);e&&(this._printer.indent_level=e.indent_level)};function Er(t,e,n,r){this._source_text=t||"",e=e||{},this._js_beautify=n,this._css_beautify=r,this._tag_stack=null;var i=new KL(e,"html");this._options=i,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,"force".length)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,"preserve".length)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}Er.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;this._options.eol==="auto"&&(e=`
`,t&&pC.test(t)&&(e=t.match(pC)[0])),t=t.replace(QL,`
`);var n=t.match(/^[\t ]*/)[0],r={text:"",type:""},i=new dC,s=new Ir(this._options,n),a=new XL(t,this._options).tokenize();this._tag_stack=new la(s);for(var o=null,l=a.next();l.type!==ut.EOF;)l.type===ut.TAG_OPEN||l.type===ut.COMMENT?(o=this._handle_tag_open(s,l,i,r),i=o):l.type===ut.ATTRIBUTE||l.type===ut.EQUALS||l.type===ut.VALUE||l.type===ut.TEXT&&!i.tag_complete?o=this._handle_inside_tag(s,l,i,a):l.type===ut.TAG_CLOSE?o=this._handle_tag_close(s,l,i):l.type===ut.TEXT?o=this._handle_text(s,l,i):s.add_raw_token(l),r=o,l=a.next();var u=s._output.get_code(e);return u};Er.prototype._handle_tag_close=function(t,e,n){var r={text:e.text,type:e.type};return t.alignment_size=0,n.tag_complete=!0,t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),n.is_unformatted?t.add_raw_token(e):(n.tag_start_char==="<"&&(t.set_space_before_token(e.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&n.has_wrapped_attrs&&t.print_newline(!1)),t.print_token(e)),n.indent_content&&!(n.is_unformatted||n.is_content_unformatted)&&(t.indent(),n.indent_content=!1),!n.is_inline_element&&!(n.is_unformatted||n.is_content_unformatted)&&t.set_wrap_point(),r};Er.prototype._handle_inside_tag=function(t,e,n,r){var i=n.has_wrapped_attrs,s={text:e.text,type:e.type};if(t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),n.is_unformatted)t.add_raw_token(e);else if(n.tag_start_char==="{"&&e.type===ut.TEXT)t.print_preserved_newlines(e)?(e.newlines=0,t.add_raw_token(e)):t.print_token(e);else{if(e.type===ut.ATTRIBUTE?(t.set_space_before_token(!0),n.attr_count+=1):(e.type===ut.EQUALS||e.type===ut.VALUE&&e.previous.type===ut.EQUALS)&&t.set_space_before_token(!1),e.type===ut.ATTRIBUTE&&n.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(t.traverse_whitespace(e),i=i||e.newlines!==0),this._is_wrap_attributes_force)){var a=n.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&n.attr_count===1){var o=!0,l=0,u;do{if(u=r.peek(l),u.type===ut.ATTRIBUTE){o=!1;break}l+=1}while(l<4&&u.type!==ut.EOF&&u.type!==ut.TAG_CLOSE);a=!o}a&&(t.print_newline(!1),i=!0)}t.print_token(e),i=i||t.previous_token_wrapped(),n.has_wrapped_attrs=i}return s};Er.prototype._handle_text=function(t,e,n){var r={text:e.text,type:"TK_CONTENT"};return n.custom_beautifier_name?this._print_custom_beatifier_text(t,e,n):n.is_unformatted||n.is_content_unformatted?t.add_raw_token(e):(t.traverse_whitespace(e),t.print_token(e)),r};Er.prototype._print_custom_beatifier_text=function(t,e,n){var r=this;if(e.text!==""){var i=e.text,s,a=1,o="",l="";n.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?s=this._js_beautify:n.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?s=this._css_beautify:n.custom_beautifier_name==="html"&&(s=function(p,m){var g=new Er(p,m,r._js_beautify,r._css_beautify);return g.beautify()}),this._options.indent_scripts==="keep"?a=0:this._options.indent_scripts==="separate"&&(a=-t.indent_level);var u=t.get_full_indent(a);if(i=i.replace(/\n[ \t]*$/,""),n.custom_beautifier_name!=="html"&&i[0]==="<"&&i.match(/^(<!--|<!\[CDATA\[)/)){var c=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(i);if(!c){t.add_raw_token(e);return}o=u+c[1]+`
`,i=c[4],c[5]&&(l=u+c[5]),i=i.replace(/\n[ \t]*$/,""),(c[2]||c[3].indexOf(`
`)!==-1)&&(c=c[3].match(/[ \t]+$/),c&&(e.whitespace_before=c[0]))}if(i)if(s){var f=function(){this.eol=`
`};f.prototype=this._options.raw_options;var d=new f;i=s(u+i,d)}else{var _=e.whitespace_before;_&&(i=i.replace(new RegExp(`
(`+_+")?","g"),`
`)),i=u+i.replace(/\n/g,`
`+u)}o&&(i?i=o+i+`
`+l:i=o+l),t.print_newline(!1),i&&(e.text=i,e.whitespace_before="",e.newlines=0,t.add_raw_token(e),t.print_newline(!0))}};Er.prototype._handle_tag_open=function(t,e,n,r){var i=this._get_tag_open_token(e);return(n.is_unformatted||n.is_content_unformatted)&&!n.is_empty_element&&e.type===ut.TAG_OPEN&&e.text.indexOf("</")===0?(t.add_raw_token(e),i.start_tag_token=this._tag_stack.try_pop(i.tag_name)):(t.traverse_whitespace(e),this._set_tag_position(t,e,i,n,r),i.is_inline_element||t.set_wrap_point(),t.print_token(e)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(i.alignment_size=e.text.length+1),!i.tag_complete&&!i.is_unformatted&&(t.alignment_size=i.alignment_size),i};var dC=function(t,e){if(this.parent=t||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!e)this.tag_complete=!0;else{var n;this.tag_start_char=e.text[0],this.text=e.text,this.tag_start_char==="<"?(n=e.text.match(/^<([^\s>]*)/),this.tag_check=n?n[1]:""):(n=e.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=n?n[1]:"",e.text==="{{#>"&&this.tag_check===">"&&e.next!==null&&(this.tag_check=e.next.text)),this.tag_check=this.tag_check.toLowerCase(),e.type===ut.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||e.closed&&e.closed.text==="/>",this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))}};Er.prototype._get_tag_open_token=function(t){var e=new dC(this._tag_stack.get_parser_token(),t);return e.alignment_size=this._options.wrap_attributes_indent_size,e.is_end_tag=e.is_end_tag||tu(e.tag_check,this._options.void_elements),e.is_empty_element=e.tag_complete||e.is_start_tag&&e.is_end_tag,e.is_unformatted=!e.tag_complete&&tu(e.tag_check,this._options.unformatted),e.is_content_unformatted=!e.is_empty_element&&tu(e.tag_check,this._options.content_unformatted),e.is_inline_element=tu(e.tag_name,this._options.inline)||e.tag_start_char==="{",e};Er.prototype._set_tag_position=function(t,e,n,r,i){if(n.is_empty_element||(n.is_end_tag?n.start_tag_token=this._tag_stack.try_pop(n.tag_name):(this._do_optional_end_element(n)&&(n.is_inline_element||t.print_newline(!1)),this._tag_stack.record_tag(n),(n.tag_name==="script"||n.tag_name==="style")&&!(n.is_unformatted||n.is_content_unformatted)&&(n.custom_beautifier_name=ZL(n.tag_check,e)))),tu(n.tag_check,this._options.extra_liners)&&(t.print_newline(!1),t._output.just_added_blankline()||t.print_newline(!0)),n.is_empty_element){if(n.tag_start_char==="{"&&n.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),n.indent_content=!0;var s=t.current_line_has_match(/{{#if/);s||t.print_newline(!1)}n.tag_name==="!--"&&i.type===ut.TAG_CLOSE&&r.is_end_tag&&n.text.indexOf(`
`)===-1||(n.is_inline_element||n.is_unformatted||t.print_newline(!1),this._calcluate_parent_multiline(t,n))}else if(n.is_end_tag){var a=!1;a=n.start_tag_token&&n.start_tag_token.multiline_content,a=a||!n.is_inline_element&&!(r.is_inline_element||r.is_unformatted)&&!(i.type===ut.TAG_CLOSE&&n.start_tag_token===r)&&i.type!=="TK_CONTENT",(n.is_content_unformatted||n.is_unformatted)&&(a=!1),a&&t.print_newline(!1)}else n.indent_content=!n.custom_beautifier_name,n.tag_start_char==="<"&&(n.tag_name==="html"?n.indent_content=this._options.indent_inner_html:n.tag_name==="head"?n.indent_content=this._options.indent_head_inner_html:n.tag_name==="body"&&(n.indent_content=this._options.indent_body_inner_html)),!(n.is_inline_element||n.is_unformatted)&&(i.type!=="TK_CONTENT"||n.is_content_unformatted)&&t.print_newline(!1),this._calcluate_parent_multiline(t,n)};Er.prototype._calcluate_parent_multiline=function(t,e){e.parent&&t._output.just_added_newline()&&!((e.is_inline_element||e.is_unformatted)&&e.parent.is_inline_element)&&(e.parent.multiline_content=!0)};var tk=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],nk=["a","audio","del","ins","map","noscript","video"];Er.prototype._do_optional_end_element=function(t){var e=null;if(!(t.is_empty_element||!t.is_start_tag||!t.parent)){if(t.tag_name==="body")e=e||this._tag_stack.try_pop("head");else if(t.tag_name==="li")e=e||this._tag_stack.try_pop("li",["ol","ul"]);else if(t.tag_name==="dd"||t.tag_name==="dt")e=e||this._tag_stack.try_pop("dt",["dl"]),e=e||this._tag_stack.try_pop("dd",["dl"]);else if(t.parent.tag_name==="p"&&tk.indexOf(t.tag_name)!==-1){var n=t.parent.parent;(!n||nk.indexOf(n.tag_name)===-1)&&(e=e||this._tag_stack.try_pop("p"))}else t.tag_name==="rp"||t.tag_name==="rt"?(e=e||this._tag_stack.try_pop("rt",["ruby","rtc"]),e=e||this._tag_stack.try_pop("rp",["ruby","rtc"])):t.tag_name==="optgroup"?e=e||this._tag_stack.try_pop("optgroup",["select"]):t.tag_name==="option"?e=e||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):t.tag_name==="colgroup"?e=e||this._tag_stack.try_pop("caption",["table"]):t.tag_name==="thead"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"])):t.tag_name==="tbody"||t.tag_name==="tfoot"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("thead",["table"]),e=e||this._tag_stack.try_pop("tbody",["table"])):t.tag_name==="tr"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(t.tag_name==="th"||t.tag_name==="td")&&(e=e||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),e=e||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return t.parent=this._tag_stack.get_parser_token(),e}};mC.exports.Beautifier=Er});var gC=X((Uee,bh)=>{"use strict";var rk=hC().Beautifier,ik=hh().Options;function sk(t,e,n,r){var i=new rk(t,e,n,r);return i.beautify()}bh.exports=sk;bh.exports.defaultOptions=function(){return new ik}});var vC=X((Wee,Ef)=>{"use strict";var _C=JN(),yC=aC(),bC=gC();function TC(t,e,n,r){return n=n||_C,r=r||yC,bC(t,e,n,r)}TC.defaultOptions=bC.defaultOptions;Ef.exports.js=_C;Ef.exports.css=yC;Ef.exports.html=TC});var PC=X((Gee,CC)=>{"use strict";function NC(t,e,n){var r=function(i,s){return t.js_beautify(i,s)};return r.js=t.js_beautify,r.css=e.css_beautify,r.html=n.html_beautify,r.js_beautify=t.js_beautify,r.css_beautify=e.css_beautify,r.html_beautify=n.html_beautify,r}typeof define=="function"&&define.amd?define(["./lib/beautify","./lib/beautify-css","./lib/beautify-html"],function(t,e,n){return NC(t,e,n)}):function(t){var e=vC();e.js_beautify=e.js,e.css_beautify=e.css,e.html_beautify=e.html,t.exports=NC(e,e,e)}(CC)});var AC=X((zee,SC)=>{"use strict";var Th=require("fs"),ok=require("util"),lk=require("path"),ai,DC=class{constructor(e){e=e||{},this.directory=e.directory||"./locales",this.updateFiles=typeof e.updateFiles=="boolean"?e.updateFiles:!0,this.locale=e.locale||"en",this.fallbackToLanguage=typeof e.fallbackToLanguage=="boolean"?e.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...e){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let n=e.shift(),r=function(){};return typeof e[e.length-1]=="function"&&(r=e.pop()),r=r||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][n]&&this.updateFiles?(this.cache[this.locale][n]=n,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:r})):r(),ai.format.apply(ai.format,[this.cache[this.locale][n]||n].concat(e))}__n(){let e=Array.prototype.slice.call(arguments),n=e.shift(),r=e.shift(),i=e.shift(),s=function(){};typeof e[e.length-1]=="function"&&(s=e.pop()),this.cache[this.locale]||this._readLocaleFile();let a=i===1?n:r;this.cache[this.locale][n]&&(a=this.cache[this.locale][n][i===1?"one":"other"]),!this.cache[this.locale][n]&&this.updateFiles?(this.cache[this.locale][n]={one:n,other:r},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:s})):s();let o=[a];return~a.indexOf("%d")&&o.push(i),ai.format.apply(ai.format,o.concat(e))}setLocale(e){this.locale=e}getLocale(){return this.locale}updateLocale(e){this.cache[this.locale]||this._readLocaleFile();for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.cache[this.locale][n]=e[n])}_taggedLiteral(e,...n){let r="";return e.forEach(function(i,s){let a=n[s+1];r+=i,typeof a!="undefined"&&(r+="%s")}),this.__.apply(this,[r].concat([].slice.call(n,1)))}_enqueueWrite(e){this.writeQueue.push(e),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){let e=this,n=this.writeQueue[0],r=n.directory,i=n.locale,s=n.cb,a=this._resolveLocaleFile(r,i),o=JSON.stringify(this.cache[i],null,2);ai.fs.writeFile(a,o,"utf-8",function(l){e.writeQueue.shift(),e.writeQueue.length>0&&e._processWriteQueue(),s(l)})}_readLocaleFile(){let e={},n=this._resolveLocaleFile(this.directory,this.locale);try{ai.fs.readFileSync&&(e=JSON.parse(ai.fs.readFileSync(n,"utf-8")))}catch(r){if(r instanceof SyntaxError&&(r.message="syntax error in "+n),r.code==="ENOENT")e={};else throw r}this.cache[this.locale]=e}_resolveLocaleFile(e,n){let r=ai.resolve(e,"./",n+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(r)&&~n.lastIndexOf("_")){let i=ai.resolve(e,"./",n.split("_")[0]+".json");this._fileExistsSync(i)&&(r=i)}return r}_fileExistsSync(e){return ai.exists(e)}};function uk(t,e){ai=e;let n=new DC(t);return{__:n.__.bind(n),__n:n.__n.bind(n),setLocale:n.setLocale.bind(n),getLocale:n.getLocale.bind(n),updateLocale:n.updateLocale.bind(n),locale:n.locale}}var ck={fs:{readFileSync:Th.readFileSync,writeFile:Th.writeFile},format:ok.format,resolve:lk.resolve,exists:t=>{try{return Th.statSync(t).isFile()}catch{return!1}}},fk=t=>uk(t,ck);SC.exports=fk});var Nh=X((Xee,LC)=>{"use strict";var pk=require("util"),IC=require("path"),dk=require("fs");function nu(t){if(t!==t.toLowerCase()&&t!==t.toUpperCase()||(t=t.toLowerCase()),t.indexOf("-")===-1&&t.indexOf("_")===-1)return t;{let n="",r=!1,i=t.match(/^-+/);for(let s=i?i[0].length:0;s<t.length;s++){let a=t.charAt(s);r&&(r=!1,a=a.toUpperCase()),s!==0&&(a==="-"||a==="_")?r=!0:a!=="-"&&a!=="_"&&(n+=a)}return n}}function EC(t,e){let n=t.toLowerCase();e=e||"-";let r="";for(let i=0;i<t.length;i++){let s=n.charAt(i),a=t.charAt(i);s!==a&&i>0?r+=`${e}${n.charAt(i)}`:r+=a}return r}function xC(t){return t==null?!1:typeof t=="number"||/^0x[0-9a-f]+$/i.test(t)?!0:/^0[^.]/.test(t)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}function mk(t){if(Array.isArray(t))return t.map(a=>typeof a!="string"?a+"":a);t=t.trim();let e=0,n=null,r=null,i=null,s=[];for(let a=0;a<t.length;a++){if(n=r,r=t.charAt(a),r===" "&&!i){n!==" "&&e++;continue}r===i?i=null:(r==="'"||r==='"')&&!i&&(i=r),s[e]||(s[e]=""),s[e]+=r}return s}var oi;(function(t){t.BOOLEAN="boolean",t.STRING="string",t.NUMBER="number",t.ARRAY="array"})(oi||(oi={}));var Yi,RC=class{constructor(e){Yi=e}parse(e,n){let r=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},n),i=mk(e),s=typeof e=="string",a=hk(Object.assign(Object.create(null),r.alias)),o=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},r.configuration),l=Object.assign(Object.create(null),r.default),u=r.configObjects||[],c=r.envPrefix,f=o["populate--"],d=f?"--":"_",_=Object.create(null),p=Object.create(null),m=r.__||Yi.format,g={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},h=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,b=new RegExp("^--"+o["negation-prefix"]+"(.+)");[].concat(r.array||[]).filter(Boolean).forEach(function(w){let M=typeof w=="object"?w.key:w,ie=Object.keys(w).map(function(H){return{boolean:"bools",string:"strings",number:"numbers"}[H]}).filter(Boolean).pop();ie&&(g[ie][M]=!0),g.arrays[M]=!0,g.keys.push(M)}),[].concat(r.boolean||[]).filter(Boolean).forEach(function(w){g.bools[w]=!0,g.keys.push(w)}),[].concat(r.string||[]).filter(Boolean).forEach(function(w){g.strings[w]=!0,g.keys.push(w)}),[].concat(r.number||[]).filter(Boolean).forEach(function(w){g.numbers[w]=!0,g.keys.push(w)}),[].concat(r.count||[]).filter(Boolean).forEach(function(w){g.counts[w]=!0,g.keys.push(w)}),[].concat(r.normalize||[]).filter(Boolean).forEach(function(w){g.normalize[w]=!0,g.keys.push(w)}),typeof r.narg=="object"&&Object.entries(r.narg).forEach(([w,M])=>{typeof M=="number"&&(g.nargs[w]=M,g.keys.push(w))}),typeof r.coerce=="object"&&Object.entries(r.coerce).forEach(([w,M])=>{typeof M=="function"&&(g.coercions[w]=M,g.keys.push(w))}),typeof r.config!="undefined"&&(Array.isArray(r.config)||typeof r.config=="string"?[].concat(r.config).filter(Boolean).forEach(function(w){g.configs[w]=!0}):typeof r.config=="object"&&Object.entries(r.config).forEach(([w,M])=>{(typeof M=="boolean"||typeof M=="function")&&(g.configs[w]=M)})),Ge(r.key,a,r.default,g.arrays),Object.keys(l).forEach(function(w){(g.aliases[w]||[]).forEach(function(M){l[M]=l[w]})});let y=null;Wo();let x=[],D=Object.assign(Object.create(null),{_:[]}),G={};for(let w=0;w<i.length;w++){let M=i[w],ie=M.replace(/^-{3,}/,"---"),H,k,pe,ue,_e,bt;if(M!=="--"&&vn(M))q(M);else if(ie.match(/---+(=|$)/)){q(M);continue}else if(M.match(/^--.+=/)||!o["short-option-groups"]&&M.match(/^-.+=/))ue=M.match(/^--?([^=]+)=([\s\S]*)$/),ue!==null&&Array.isArray(ue)&&ue.length>=3&&(ee(ue[1],g.arrays)?w=U(w,ue[1],i,ue[2]):ee(ue[1],g.nargs)!==!1?w=C(w,ue[1],i,ue[2]):Z(ue[1],ue[2],!0));else if(M.match(b)&&o["boolean-negation"])ue=M.match(b),ue!==null&&Array.isArray(ue)&&ue.length>=2&&(k=ue[1],Z(k,ee(k,g.arrays)?[!1]:!1));else if(M.match(/^--.+/)||!o["short-option-groups"]&&M.match(/^-[^-]+/))ue=M.match(/^--?(.+)/),ue!==null&&Array.isArray(ue)&&ue.length>=2&&(k=ue[1],ee(k,g.arrays)?w=U(w,k,i):ee(k,g.nargs)!==!1?w=C(w,k,i):(_e=i[w+1],_e!==void 0&&(!_e.match(/^-/)||_e.match(h))&&!ee(k,g.bools)&&!ee(k,g.counts)||/^(true|false)$/.test(_e)?(Z(k,_e),w++):Z(k,ui(k))));else if(M.match(/^-.\..+=/))ue=M.match(/^-([^=]+)=([\s\S]*)$/),ue!==null&&Array.isArray(ue)&&ue.length>=3&&Z(ue[1],ue[2]);else if(M.match(/^-.\..+/)&&!M.match(h))_e=i[w+1],ue=M.match(/^-(.\..+)/),ue!==null&&Array.isArray(ue)&&ue.length>=2&&(k=ue[1],_e!==void 0&&!_e.match(/^-/)&&!ee(k,g.bools)&&!ee(k,g.counts)?(Z(k,_e),w++):Z(k,ui(k)));else if(M.match(/^-[^-]+/)&&!M.match(h)){pe=M.slice(1,-1).split(""),H=!1;for(let Lt=0;Lt<pe.length;Lt++){if(_e=M.slice(Lt+2),pe[Lt+1]&&pe[Lt+1]==="="){bt=M.slice(Lt+3),k=pe[Lt],ee(k,g.arrays)?w=U(w,k,i,bt):ee(k,g.nargs)!==!1?w=C(w,k,i,bt):Z(k,bt),H=!0;break}if(_e==="-"){Z(pe[Lt],_e);continue}if(/[A-Za-z]/.test(pe[Lt])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(_e)&&ee(_e,g.bools)===!1){Z(pe[Lt],_e),H=!0;break}if(pe[Lt+1]&&pe[Lt+1].match(/\W/)){Z(pe[Lt],_e),H=!0;break}else Z(pe[Lt],ui(pe[Lt]))}k=M.slice(-1)[0],!H&&k!=="-"&&(ee(k,g.arrays)?w=U(w,k,i):ee(k,g.nargs)!==!1?w=C(w,k,i):(_e=i[w+1],_e!==void 0&&(!/^(-|--)[^-]/.test(_e)||_e.match(h))&&!ee(k,g.bools)&&!ee(k,g.counts)||/^(true|false)$/.test(_e)?(Z(k,_e),w++):Z(k,ui(k))))}else if(M.match(/^-[0-9]$/)&&M.match(h)&&ee(M.slice(1),g.bools))k=M.slice(1),Z(k,ui(k));else if(M==="--"){x=i.slice(w+1);break}else if(o["halt-at-non-option"]){x=i.slice(w);break}else q(M)}rt(D,!0),rt(D,!1),ce(D),ve(),it(D,g.aliases,l,!0),Jt(D),o["set-placeholder-key"]&&Ze(D),Object.keys(g.counts).forEach(function(w){me(D,w.split("."))||Z(w,0)}),f&&x.length&&(D[d]=[]),x.forEach(function(w){D[d].push(w)}),o["camel-case-expansion"]&&o["strip-dashed"]&&Object.keys(D).filter(w=>w!=="--"&&w.includes("-")).forEach(w=>{delete D[w]}),o["strip-aliased"]&&[].concat(...Object.keys(a).map(w=>a[w])).forEach(w=>{o["camel-case-expansion"]&&w.includes("-")&&delete D[w.split(".").map(M=>nu(M)).join(".")],delete D[w]});function q(w){let M=se("_",w);(typeof M=="string"||typeof M=="number")&&D._.push(M)}function C(w,M,ie,H){let k,pe=ee(M,g.nargs);if(pe=typeof pe!="number"||isNaN(pe)?1:pe,pe===0)return Gn(H)||(y=Error(m("Argument unexpected for: %s",M))),Z(M,ui(M)),w;let ue=Gn(H)?0:1;if(o["nargs-eats-options"])ie.length-(w+1)+ue<pe&&(y=Error(m("Not enough arguments following: %s",M))),ue=pe;else{for(k=w+1;k<ie.length&&(!ie[k].match(/^-[^0-9]/)||ie[k].match(h)||vn(ie[k]));k++)ue++;ue<pe&&(y=Error(m("Not enough arguments following: %s",M)))}let _e=Math.min(ue,pe);for(!Gn(H)&&_e>0&&(Z(M,H),_e--),k=w+1;k<_e+w+1;k++)Z(M,ie[k]);return w+_e}function U(w,M,ie,H){let k=[],pe=H||ie[w+1],ue=ee(M,g.nargs);if(ee(M,g.bools)&&!/^(true|false)$/.test(pe))k.push(!0);else if(Gn(pe)||Gn(H)&&/^-/.test(pe)&&!h.test(pe)&&!vn(pe)){if(l[M]!==void 0){let _e=l[M];k=Array.isArray(_e)?_e:[_e]}}else{Gn(H)||k.push(Q(M,H,!0));for(let _e=w+1;_e<ie.length&&!(!o["greedy-arrays"]&&k.length>0||ue&&typeof ue=="number"&&k.length>=ue||(pe=ie[_e],/^-/.test(pe)&&!h.test(pe)&&!vn(pe)));_e++)w=_e,k.push(Q(M,pe,s))}return typeof ue=="number"&&(ue&&k.length<ue||isNaN(ue)&&k.length===0)&&(y=Error(m("Not enough arguments following: %s",M))),Z(M,k),w}function Z(w,M,ie=s){if(/-/.test(w)&&o["camel-case-expansion"]){let pe=w.split(".").map(function(ue){return nu(ue)}).join(".");Y(w,pe)}let H=Q(w,M,ie),k=w.split(".");Re(D,k,H),g.aliases[w]&&g.aliases[w].forEach(function(pe){let ue=pe.split(".");Re(D,ue,H)}),k.length>1&&o["dot-notation"]&&(g.aliases[k[0]]||[]).forEach(function(pe){let ue=pe.split("."),_e=[].concat(k);_e.shift(),ue=ue.concat(_e),(g.aliases[w]||[]).includes(ue.join("."))||Re(D,ue,H)}),ee(w,g.normalize)&&!ee(w,g.arrays)&&[w].concat(g.aliases[w]||[]).forEach(function(ue){Object.defineProperty(G,ue,{enumerable:!0,get(){return M},set(_e){M=typeof _e=="string"?Yi.normalize(_e):_e}})})}function Y(w,M){g.aliases[w]&&g.aliases[w].length||(g.aliases[w]=[M],_[M]=!0),g.aliases[M]&&g.aliases[M].length||Y(M,w)}function Q(w,M,ie){ie&&(M=gk(M)),(ee(w,g.bools)||ee(w,g.counts))&&typeof M=="string"&&(M=M==="true");let H=Array.isArray(M)?M.map(function(k){return se(w,k)}):se(w,M);return ee(w,g.counts)&&(Gn(H)||typeof H=="boolean")&&(H=vh()),ee(w,g.normalize)&&ee(w,g.arrays)&&(Array.isArray(M)?H=M.map(k=>Yi.normalize(k)):H=Yi.normalize(M)),H}function se(w,M){return!o["parse-positional-numbers"]&&w==="_"||!ee(w,g.strings)&&!ee(w,g.bools)&&!Array.isArray(M)&&(xC(M)&&o["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${M}`)))||!Gn(M)&&ee(w,g.numbers))&&(M=Number(M)),M}function ce(w){let M=Object.create(null);it(M,g.aliases,l),Object.keys(g.configs).forEach(function(ie){let H=w[ie]||M[ie];if(H)try{let k=null,pe=Yi.resolve(Yi.cwd(),H),ue=g.configs[ie];if(typeof ue=="function"){try{k=ue(pe)}catch(_e){k=_e}if(k instanceof Error){y=k;return}}else k=Yi.require(pe);re(k)}catch(k){k.name==="PermissionDenied"?y=k:w[ie]&&(y=Error(m("Invalid JSON config file: %s",H)))}})}function re(w,M){Object.keys(w).forEach(function(ie){let H=w[ie],k=M?M+"."+ie:ie;typeof H=="object"&&H!==null&&!Array.isArray(H)&&o["dot-notation"]?re(H,k):(!me(D,k.split("."))||ee(k,g.arrays)&&o["combine-arrays"])&&Z(k,H)})}function ve(){typeof u!="undefined"&&u.forEach(function(w){re(w)})}function rt(w,M){if(typeof c=="undefined")return;let ie=typeof c=="string"?c:"",H=Yi.env();Object.keys(H).forEach(function(k){if(ie===""||k.lastIndexOf(ie,0)===0){let pe=k.split("__").map(function(ue,_e){return _e===0&&(ue=ue.substring(ie.length)),nu(ue)});(M&&g.configs[pe.join(".")]||!M)&&!me(w,pe)&&Z(pe.join("."),H[k])}})}function Jt(w){let M,ie=new Set;Object.keys(w).forEach(function(H){if(!ie.has(H)&&(M=ee(H,g.coercions),typeof M=="function"))try{let k=se(H,M(w[H]));[].concat(g.aliases[H]||[],H).forEach(pe=>{ie.add(pe),w[pe]=k})}catch(k){y=k}})}function Ze(w){return g.keys.forEach(M=>{~M.indexOf(".")||typeof w[M]=="undefined"&&(w[M]=void 0)}),w}function it(w,M,ie,H=!1){Object.keys(ie).forEach(function(k){me(w,k.split("."))||(Re(w,k.split("."),ie[k]),H&&(p[k]=!0),(M[k]||[]).forEach(function(pe){me(w,pe.split("."))||Re(w,pe.split("."),ie[k])}))})}function me(w,M){let ie=w;o["dot-notation"]||(M=[M.join(".")]),M.slice(0,-1).forEach(function(k){ie=ie[k]||{}});let H=M[M.length-1];return typeof ie!="object"?!1:H in ie}function Re(w,M,ie){let H=w;o["dot-notation"]||(M=[M.join(".")]),M.slice(0,-1).forEach(function(bt){bt=wC(bt),typeof H=="object"&&H[bt]===void 0&&(H[bt]={}),typeof H[bt]!="object"||Array.isArray(H[bt])?(Array.isArray(H[bt])?H[bt].push({}):H[bt]=[H[bt],{}],H=H[bt][H[bt].length-1]):H=H[bt]});let k=wC(M[M.length-1]),pe=ee(M.join("."),g.arrays),ue=Array.isArray(ie),_e=o["duplicate-arguments-array"];!_e&&ee(k,g.nargs)&&(_e=!0,(!Gn(H[k])&&g.nargs[k]===1||Array.isArray(H[k])&&H[k].length===g.nargs[k])&&(H[k]=void 0)),ie===vh()?H[k]=vh(H[k]):Array.isArray(H[k])?_e&&pe&&ue?H[k]=o["flatten-duplicate-arrays"]?H[k].concat(ie):(Array.isArray(H[k][0])?H[k]:[H[k]]).concat([ie]):!_e&&Boolean(pe)===Boolean(ue)?H[k]=ie:H[k]=H[k].concat([ie]):H[k]===void 0&&pe?H[k]=ue?ie:[ie]:_e&&!(H[k]===void 0||ee(k,g.counts)||ee(k,g.bools))?H[k]=[H[k],ie]:H[k]=ie}function Ge(...w){w.forEach(function(M){Object.keys(M||{}).forEach(function(ie){g.aliases[ie]||(g.aliases[ie]=[].concat(a[ie]||[]),g.aliases[ie].concat(ie).forEach(function(H){if(/-/.test(H)&&o["camel-case-expansion"]){let k=nu(H);k!==ie&&g.aliases[ie].indexOf(k)===-1&&(g.aliases[ie].push(k),_[k]=!0)}}),g.aliases[ie].concat(ie).forEach(function(H){if(H.length>1&&/[A-Z]/.test(H)&&o["camel-case-expansion"]){let k=EC(H,"-");k!==ie&&g.aliases[ie].indexOf(k)===-1&&(g.aliases[ie].push(k),_[k]=!0)}}),g.aliases[ie].forEach(function(H){g.aliases[H]=[ie].concat(g.aliases[ie].filter(function(k){return H!==k}))}))})})}function ee(w,M){let ie=[].concat(g.aliases[w]||[],w),H=Object.keys(M),k=ie.find(pe=>H.includes(pe));return k?M[k]:!1}function pt(w){let M=Object.keys(g);return[].concat(M.map(H=>g[H])).some(function(H){return Array.isArray(H)?H.includes(w):H[w]})}function ot(w,...M){return[].concat(...M).some(function(H){let k=w.match(H);return k&&pt(k[1])})}function xt(w){if(w.match(h)||!w.match(/^-[^-]+/))return!1;let M=!0,ie,H=w.slice(1).split("");for(let k=0;k<H.length;k++){if(ie=w.slice(k+2),!pt(H[k])){M=!1;break}if(H[k+1]&&H[k+1]==="="||ie==="-"||/[A-Za-z]/.test(H[k])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(ie)||H[k+1]&&H[k+1].match(/\W/))break}return M}function vn(w){return o["unknown-options-as-args"]&&Si(w)}function Si(w){return w=w.replace(/^-{3,}/,"--"),w.match(h)||xt(w)?!1:!ot(w,/^-+([^=]+?)=[\s\S]*$/,b,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}function ui(w){return!ee(w,g.bools)&&!ee(w,g.counts)&&`${w}`in l?l[w]:Uo(Hi(w))}function Uo(w){return{[oi.BOOLEAN]:!0,[oi.STRING]:"",[oi.NUMBER]:void 0,[oi.ARRAY]:[]}[w]}function Hi(w){let M=oi.BOOLEAN;return ee(w,g.strings)?M=oi.STRING:ee(w,g.numbers)?M=oi.NUMBER:ee(w,g.bools)?M=oi.BOOLEAN:ee(w,g.arrays)&&(M=oi.ARRAY),M}function Gn(w){return w===void 0}function Wo(){Object.keys(g.counts).find(w=>ee(w,g.arrays)?(y=Error(m("Invalid configuration: %s, opts.count excludes opts.array.",w)),!0):ee(w,g.nargs)?(y=Error(m("Invalid configuration: %s, opts.count excludes opts.narg.",w)),!0):!1)}return{aliases:Object.assign({},g.aliases),argv:Object.assign(G,D),configuration:o,defaulted:Object.assign({},p),error:y,newAliases:Object.assign({},_)}}};function hk(t){let e=[],n=Object.create(null),r=!0;for(Object.keys(t).forEach(function(i){e.push([].concat(t[i],i))});r;){r=!1;for(let i=0;i<e.length;i++)for(let s=i+1;s<e.length;s++)if(e[i].filter(function(o){return e[s].indexOf(o)!==-1}).length){e[i]=e[i].concat(e[s]),e.splice(s,1),r=!0;break}}return e.forEach(function(i){i=i.filter(function(a,o,l){return l.indexOf(a)===o});let s=i.pop();s!==void 0&&typeof s=="string"&&(n[s]=i)}),n}function vh(t){return t!==void 0?t+1:1}function wC(t){return t==="__proto__"?"___proto___":t}function gk(t){return typeof t=="string"&&(t[0]==="'"||t[0]==='"')&&t[t.length-1]===t[0]?t.substring(1,t.length-1):t}var OC=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12;if(process&&process.version&&Number(process.version.match(/v([^.]+)/)[1])<OC)throw Error(`yargs parser supports a minimum Node.js version of ${OC}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var _k=process?process.env:{},FC=new RC({cwd:process.cwd,env:()=>_k,format:pk.format,normalize:IC.normalize,resolve:IC.resolve,require:t=>{if(typeof require!="undefined")return require(t);if(t.match(/\.json$/))return JSON.parse(dk.readFileSync(t,"utf8"));throw Error("only .json config files are supported in ESM")}}),ru=function(e,n){return FC.parse(e.slice(),n).argv};ru.detailed=function(t,e){return FC.parse(t.slice(),e)};ru.camelCase=nu;ru.decamelize=EC;ru.looksLikeNumber=xC;LC.exports=ru});var MC=X((Qee,kC)=>{"use strict";kC.exports=({onlyFirst:t=!1}={})=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}});var Rf=X((Jee,BC)=>{"use strict";var yk=MC();BC.exports=t=>typeof t=="string"?t.replace(yk(),""):t});var qC=X((Zee,Ch)=>{"use strict";var VC=t=>Number.isNaN(t)?!1:t>=4352&&(t<=4447||t===9001||t===9002||11904<=t&&t<=12871&&t!==12351||12880<=t&&t<=19903||19968<=t&&t<=42182||43360<=t&&t<=43388||44032<=t&&t<=55203||63744<=t&&t<=64255||65040<=t&&t<=65049||65072<=t&&t<=65131||65281<=t&&t<=65376||65504<=t&&t<=65510||110592<=t&&t<=110593||127488<=t&&t<=127569||131072<=t&&t<=262141);Ch.exports=VC;Ch.exports.default=VC});var UC=X((ete,jC)=>{"use strict";jC.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}});var wf=X((tte,Ph)=>{"use strict";var bk=Rf(),Tk=qC(),vk=UC(),WC=t=>{if(typeof t!="string"||t.length===0||(t=bk(t),t.length===0))return 0;t=t.replace(vk(),"  ");let e=0;for(let n=0;n<t.length;n++){let r=t.codePointAt(n);r<=31||r>=127&&r<=159||r>=768&&r<=879||(r>65535&&n++,e+=Tk(r)?2:1)}return e};Ph.exports=WC;Ph.exports.default=WC});var YC=X((nte,GC)=>{"use strict";GC.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Dh=X((rte,$C)=>{var iu=YC(),HC={};for(let t of Object.keys(iu))HC[iu[t]]=t;var be={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};$C.exports=be;for(let t of Object.keys(be)){if(!("channels"in be[t]))throw new Error("missing channels property: "+t);if(!("labels"in be[t]))throw new Error("missing channel labels property: "+t);if(be[t].labels.length!==be[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:n}=be[t];delete be[t].channels,delete be[t].labels,Object.defineProperty(be[t],"channels",{value:e}),Object.defineProperty(be[t],"labels",{value:n})}be.rgb.hsl=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=s-i,o,l;s===i?o=0:e===s?o=(n-r)/a:n===s?o=2+(r-e)/a:r===s&&(o=4+(e-n)/a),o=Math.min(o*60,360),o<0&&(o+=360);let u=(i+s)/2;return s===i?l=0:u<=.5?l=a/(s+i):l=a/(2-s-i),[o,l*100,u*100]};be.rgb.hsv=function(t){let e,n,r,i,s,a=t[0]/255,o=t[1]/255,l=t[2]/255,u=Math.max(a,o,l),c=u-Math.min(a,o,l),f=function(d){return(u-d)/6/c+1/2};return c===0?(i=0,s=0):(s=c/u,e=f(a),n=f(o),r=f(l),a===u?i=r-n:o===u?i=1/3+e-r:l===u&&(i=2/3+n-e),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,u*100]};be.rgb.hwb=function(t){let e=t[0],n=t[1],r=t[2],i=be.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(n,r));return r=1-1/255*Math.max(e,Math.max(n,r)),[i,s*100,r*100]};be.rgb.cmyk=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(1-e,1-n,1-r),s=(1-e-i)/(1-i)||0,a=(1-n-i)/(1-i)||0,o=(1-r-i)/(1-i)||0;return[s*100,a*100,o*100,i*100]};function Nk(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}be.rgb.keyword=function(t){let e=HC[t];if(e)return e;let n=1/0,r;for(let i of Object.keys(iu)){let s=iu[i],a=Nk(t,s);a<n&&(n=a,r=i)}return r};be.keyword.rgb=function(t){return iu[t]};be.rgb.xyz=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;let i=e*.4124+n*.3576+r*.1805,s=e*.2126+n*.7152+r*.0722,a=e*.0193+n*.1192+r*.9505;return[i*100,s*100,a*100]};be.rgb.lab=function(t){let e=be.rgb.xyz(t),n=e[0],r=e[1],i=e[2];n/=95.047,r/=100,i/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let s=116*r-16,a=500*(n-r),o=200*(r-i);return[s,a,o]};be.hsl.rgb=function(t){let e=t[0]/360,n=t[1]/100,r=t[2]/100,i,s,a;if(n===0)return a=r*255,[a,a,a];r<.5?i=r*(1+n):i=r+n-r*n;let o=2*r-i,l=[0,0,0];for(let u=0;u<3;u++)s=e+1/3*-(u-1),s<0&&s++,s>1&&s--,6*s<1?a=o+(i-o)*6*s:2*s<1?a=i:3*s<2?a=o+(i-o)*(2/3-s)*6:a=o,l[u]=a*255;return l};be.hsl.hsv=function(t){let e=t[0],n=t[1]/100,r=t[2]/100,i=n,s=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,i*=s<=1?s:2-s;let a=(r+n)/2,o=r===0?2*i/(s+i):2*n/(r+n);return[e,o*100,a*100]};be.hsv.rgb=function(t){let e=t[0]/60,n=t[1]/100,r=t[2]/100,i=Math.floor(e)%6,s=e-Math.floor(e),a=255*r*(1-n),o=255*r*(1-n*s),l=255*r*(1-n*(1-s));switch(r*=255,i){case 0:return[r,l,a];case 1:return[o,r,a];case 2:return[a,r,l];case 3:return[a,o,r];case 4:return[l,a,r];case 5:return[r,a,o]}};be.hsv.hsl=function(t){let e=t[0],n=t[1]/100,r=t[2]/100,i=Math.max(r,.01),s,a;a=(2-n)*r;let o=(2-n)*i;return s=n*i,s/=o<=1?o:2-o,s=s||0,a/=2,[e,s*100,a*100]};be.hwb.rgb=function(t){let e=t[0]/360,n=t[1]/100,r=t[2]/100,i=n+r,s;i>1&&(n/=i,r/=i);let a=Math.floor(6*e),o=1-r;s=6*e-a,(a&1)!==0&&(s=1-s);let l=n+s*(o-n),u,c,f;switch(a){default:case 6:case 0:u=o,c=l,f=n;break;case 1:u=l,c=o,f=n;break;case 2:u=n,c=o,f=l;break;case 3:u=n,c=l,f=o;break;case 4:u=l,c=n,f=o;break;case 5:u=o,c=n,f=l;break}return[u*255,c*255,f*255]};be.cmyk.rgb=function(t){let e=t[0]/100,n=t[1]/100,r=t[2]/100,i=t[3]/100,s=1-Math.min(1,e*(1-i)+i),a=1-Math.min(1,n*(1-i)+i),o=1-Math.min(1,r*(1-i)+i);return[s*255,a*255,o*255]};be.xyz.rgb=function(t){let e=t[0]/100,n=t[1]/100,r=t[2]/100,i,s,a;return i=e*3.2406+n*-1.5372+r*-.4986,s=e*-.9689+n*1.8758+r*.0415,a=e*.0557+n*-.204+r*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),a=Math.min(Math.max(0,a),1),[i*255,s*255,a*255]};be.xyz.lab=function(t){let e=t[0],n=t[1],r=t[2];e/=95.047,n/=100,r/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;let i=116*n-16,s=500*(e-n),a=200*(n-r);return[i,s,a]};be.lab.xyz=function(t){let e=t[0],n=t[1],r=t[2],i,s,a;s=(e+16)/116,i=n/500+s,a=s-r/200;let o=s**3,l=i**3,u=a**3;return s=o>.008856?o:(s-16/116)/7.787,i=l>.008856?l:(i-16/116)/7.787,a=u>.008856?u:(a-16/116)/7.787,i*=95.047,s*=100,a*=108.883,[i,s,a]};be.lab.lch=function(t){let e=t[0],n=t[1],r=t[2],i;i=Math.atan2(r,n)*360/2/Math.PI,i<0&&(i+=360);let a=Math.sqrt(n*n+r*r);return[e,a,i]};be.lch.lab=function(t){let e=t[0],n=t[1],i=t[2]/360*2*Math.PI,s=n*Math.cos(i),a=n*Math.sin(i);return[e,s,a]};be.rgb.ansi16=function(t,e=null){let[n,r,i]=t,s=e===null?be.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),s===0)return 30;let a=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return s===2&&(a+=60),a};be.hsv.ansi16=function(t){return be.rgb.ansi16(be.hsv.rgb(t),t[2])};be.rgb.ansi256=function(t){let e=t[0],n=t[1],r=t[2];return e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)};be.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let n=(~~(t>50)+1)*.5,r=(e&1)*n*255,i=(e>>1&1)*n*255,s=(e>>2&1)*n*255;return[r,i,s]};be.ansi256.rgb=function(t){if(t>=232){let s=(t-232)*10+8;return[s,s,s]}t-=16;let e,n=Math.floor(t/36)/5*255,r=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[n,r,i]};be.rgb.hex=function(t){let n=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(n.length)+n};be.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let n=e[0];e[0].length===3&&(n=n.split("").map(o=>o+o).join(""));let r=parseInt(n,16),i=r>>16&255,s=r>>8&255,a=r&255;return[i,s,a]};be.rgb.hcg=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(Math.max(e,n),r),s=Math.min(Math.min(e,n),r),a=i-s,o,l;return a<1?o=s/(1-a):o=0,a<=0?l=0:i===e?l=(n-r)/a%6:i===n?l=2+(r-e)/a:l=4+(e-n)/a,l/=6,l%=1,[l*360,a*100,o*100]};be.hsl.hcg=function(t){let e=t[1]/100,n=t[2]/100,r=n<.5?2*e*n:2*e*(1-n),i=0;return r<1&&(i=(n-.5*r)/(1-r)),[t[0],r*100,i*100]};be.hsv.hcg=function(t){let e=t[1]/100,n=t[2]/100,r=e*n,i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],r*100,i*100]};be.hcg.rgb=function(t){let e=t[0]/360,n=t[1]/100,r=t[2]/100;if(n===0)return[r*255,r*255,r*255];let i=[0,0,0],s=e%1*6,a=s%1,o=1-a,l=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=a,i[2]=0;break;case 1:i[0]=o,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=a;break;case 3:i[0]=0,i[1]=o,i[2]=1;break;case 4:i[0]=a,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=o}return l=(1-n)*r,[(n*i[0]+l)*255,(n*i[1]+l)*255,(n*i[2]+l)*255]};be.hcg.hsv=function(t){let e=t[1]/100,n=t[2]/100,r=e+n*(1-e),i=0;return r>0&&(i=e/r),[t[0],i*100,r*100]};be.hcg.hsl=function(t){let e=t[1]/100,r=t[2]/100*(1-e)+.5*e,i=0;return r>0&&r<.5?i=e/(2*r):r>=.5&&r<1&&(i=e/(2*(1-r))),[t[0],i*100,r*100]};be.hcg.hwb=function(t){let e=t[1]/100,n=t[2]/100,r=e+n*(1-e);return[t[0],(r-e)*100,(1-r)*100]};be.hwb.hcg=function(t){let e=t[1]/100,n=t[2]/100,r=1-n,i=r-e,s=0;return i<1&&(s=(r-i)/(1-i)),[t[0],i*100,s*100]};be.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};be.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};be.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};be.gray.hsl=function(t){return[0,0,t[0]]};be.gray.hsv=be.gray.hsl;be.gray.hwb=function(t){return[0,100,t[0]]};be.gray.cmyk=function(t){return[0,0,0,t[0]]};be.gray.lab=function(t){return[t[0],0,0]};be.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r};be.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});var zC=X((ite,KC)=>{var Of=Dh();function Ck(){let t={},e=Object.keys(Of);for(let n=e.length,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}function Pk(t){let e=Ck(),n=[t];for(e[t].distance=0;n.length;){let r=n.pop(),i=Object.keys(Of[r]);for(let s=i.length,a=0;a<s;a++){let o=i[a],l=e[o];l.distance===-1&&(l.distance=e[r].distance+1,l.parent=r,n.unshift(o))}}return e}function Dk(t,e){return function(n){return e(t(n))}}function Sk(t,e){let n=[e[t].parent,t],r=Of[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)n.unshift(e[i].parent),r=Dk(Of[e[i].parent][i],r),i=e[i].parent;return r.conversion=n,r}KC.exports=function(t){let e=Pk(t),n={},r=Object.keys(e);for(let i=r.length,s=0;s<i;s++){let a=r[s];e[a].parent!==null&&(n[a]=Sk(a,e))}return n}});var QC=X((ste,XC)=>{var Sh=Dh(),Ak=zC(),wo={},Ik=Object.keys(Sh);function Ek(t){let e=function(...n){let r=n[0];return r==null?r:(r.length>1&&(n=r),t(n))};return"conversion"in t&&(e.conversion=t.conversion),e}function xk(t){let e=function(...n){let r=n[0];if(r==null)return r;r.length>1&&(n=r);let i=t(n);if(typeof i=="object")for(let s=i.length,a=0;a<s;a++)i[a]=Math.round(i[a]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}Ik.forEach(t=>{wo[t]={},Object.defineProperty(wo[t],"channels",{value:Sh[t].channels}),Object.defineProperty(wo[t],"labels",{value:Sh[t].labels});let e=Ak(t);Object.keys(e).forEach(r=>{let i=e[r];wo[t][r]=xk(i),wo[t][r].raw=Ek(i)})});XC.exports=wo});var rP=X((ate,nP)=>{"use strict";var JC=(t,e)=>(...n)=>`\x1B[${t(...n)+e}m`,ZC=(t,e)=>(...n)=>{let r=t(...n);return`\x1B[${38+e};5;${r}m`},eP=(t,e)=>(...n)=>{let r=t(...n);return`\x1B[${38+e};2;${r[0]};${r[1]};${r[2]}m`},Ff=t=>t,tP=(t,e,n)=>[t,e,n],Oo=(t,e,n)=>{Object.defineProperty(t,e,{get:()=>{let r=n();return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0}),r},enumerable:!0,configurable:!0})},Ah,Fo=(t,e,n,r)=>{Ah===void 0&&(Ah=QC());let i=r?10:0,s={};for(let[a,o]of Object.entries(Ah)){let l=a==="ansi16"?"ansi":a;a===e?s[l]=t(n,i):typeof o=="object"&&(s[l]=t(o[e],i))}return s};function Rk(){let t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright,e.bgColor.bgGray=e.bgColor.bgBlackBright,e.color.grey=e.color.blackBright,e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(let[n,r]of Object.entries(e)){for(let[i,s]of Object.entries(r))e[i]={open:`\x1B[${s[0]}m`,close:`\x1B[${s[1]}m`},r[i]=e[i],t.set(s[0],s[1]);Object.defineProperty(e,n,{value:r,enumerable:!1})}return Object.defineProperty(e,"codes",{value:t,enumerable:!1}),e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",Oo(e.color,"ansi",()=>Fo(JC,"ansi16",Ff,!1)),Oo(e.color,"ansi256",()=>Fo(ZC,"ansi256",Ff,!1)),Oo(e.color,"ansi16m",()=>Fo(eP,"rgb",tP,!1)),Oo(e.bgColor,"ansi",()=>Fo(JC,"ansi16",Ff,!0)),Oo(e.bgColor,"ansi256",()=>Fo(ZC,"ansi256",Ff,!0)),Oo(e.bgColor,"ansi16m",()=>Fo(eP,"rgb",tP,!0)),e}Object.defineProperty(nP,"exports",{enumerable:!0,get:Rk})});var uP=X((ote,lP)=>{"use strict";var su=wf(),wk=Rf(),Ok=rP(),Lf=new Set(["\x1B","\x9B"]),Fk=39,Ih="\x07",iP="[",Lk="]",sP="m",Eh=`${Lk}8;;`,aP=t=>`${Lf.values().next().value}${iP}${t}${sP}`,oP=t=>`${Lf.values().next().value}${Eh}${t}${Ih}`,kk=t=>t.split(" ").map(e=>su(e)),xh=(t,e,n)=>{let r=[...e],i=!1,s=!1,a=su(wk(t[t.length-1]));for(let[o,l]of r.entries()){let u=su(l);if(a+u<=n?t[t.length-1]+=l:(t.push(l),a=0),Lf.has(l)&&(i=!0,s=r.slice(o+1).join("").startsWith(Eh)),i){s?l===Ih&&(i=!1,s=!1):l===sP&&(i=!1);continue}a+=u,a===n&&o<r.length-1&&(t.push(""),a=0)}!a&&t[t.length-1].length>0&&t.length>1&&(t[t.length-2]+=t.pop())},Mk=t=>{let e=t.split(" "),n=e.length;for(;n>0&&!(su(e[n-1])>0);)n--;return n===e.length?t:e.slice(0,n).join(" ")+e.slice(n).join("")},Bk=(t,e,n={})=>{if(n.trim!==!1&&t.trim()==="")return"";let r="",i,s,a=kk(t),o=[""];for(let[u,c]of t.split(" ").entries()){n.trim!==!1&&(o[o.length-1]=o[o.length-1].trimStart());let f=su(o[o.length-1]);if(u!==0&&(f>=e&&(n.wordWrap===!1||n.trim===!1)&&(o.push(""),f=0),(f>0||n.trim===!1)&&(o[o.length-1]+=" ",f++)),n.hard&&a[u]>e){let d=e-f,_=1+Math.floor((a[u]-d-1)/e);Math.floor((a[u]-1)/e)<_&&o.push(""),xh(o,c,e);continue}if(f+a[u]>e&&f>0&&a[u]>0){if(n.wordWrap===!1&&f<e){xh(o,c,e);continue}o.push("")}if(f+a[u]>e&&n.wordWrap===!1){xh(o,c,e);continue}o[o.length-1]+=c}n.trim!==!1&&(o=o.map(Mk));let l=[...o.join(`
`)];for(let[u,c]of l.entries()){if(r+=c,Lf.has(c)){let{groups:d}=new RegExp(`(?:\\${iP}(?<code>\\d+)m|\\${Eh}(?<uri>.*)${Ih})`).exec(l.slice(u).join(""))||{groups:{}};if(d.code!==void 0){let _=Number.parseFloat(d.code);i=_===Fk?void 0:_}else d.uri!==void 0&&(s=d.uri.length===0?void 0:d.uri)}let f=Ok.codes.get(Number(i));l[u+1]===`
`?(s&&(r+=oP("")),i&&f&&(r+=aP(f))):c===`
`&&(i&&f&&(r+=aP(i)),s&&(r+=oP(s)))}return r};lP.exports=(t,e,n)=>String(t).normalize().replace(/\r\n/g,`
`).split(`
`).map(r=>Bk(r,e,n)).join(`
`)});var dP=X((lte,pP)=>{"use strict";var Vk={right:Gk,center:Yk},qk=0,kf=1,jk=2,Mf=3,cP=class{constructor(e){var n;this.width=e.width,this.wrap=(n=e.wrap)!==null&&n!==void 0?n:!0,this.rows=[]}span(...e){let n=this.div(...e);n.span=!0}resetOutput(){this.rows=[]}div(...e){if(e.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...e)&&typeof e[0]=="string")return this.applyLayoutDSL(e[0]);let n=e.map(r=>typeof r=="string"?this.colFromString(r):r);return this.rows.push(n),n}shouldApplyLayoutDSL(...e){return e.length===1&&typeof e[0]=="string"&&/[\t\n]/.test(e[0])}applyLayoutDSL(e){let n=e.split(`
`).map(i=>i.split("	")),r=0;return n.forEach(i=>{i.length>1&&ar.stringWidth(i[0])>r&&(r=Math.min(Math.floor(this.width*.5),ar.stringWidth(i[0])))}),n.forEach(i=>{this.div(...i.map((s,a)=>({text:s.trim(),padding:this.measurePadding(s),width:a===0&&i.length>1?r:void 0})))}),this.rows[this.rows.length-1]}colFromString(e){return{text:e,padding:this.measurePadding(e)}}measurePadding(e){let n=ar.stripAnsi(e);return[0,n.match(/\s*$/)[0].length,0,n.match(/^\s*/)[0].length]}toString(){let e=[];return this.rows.forEach(n=>{this.rowToString(n,e)}),e.filter(n=>!n.hidden).map(n=>n.text).join(`
`)}rowToString(e,n){return this.rasterize(e).forEach((r,i)=>{let s="";r.forEach((a,o)=>{let{width:l}=e[o],u=this.negatePadding(e[o]),c=a;u>ar.stringWidth(a)&&(c+=" ".repeat(u-ar.stringWidth(a))),e[o].align&&e[o].align!=="left"&&this.wrap&&(c=Vk[e[o].align](c,u),ar.stringWidth(c)<u&&(c+=" ".repeat((l||0)-ar.stringWidth(c)-1)));let f=e[o].padding||[0,0,0,0];f[Mf]&&(s+=" ".repeat(f[Mf])),s+=fP(e[o],c,"| "),s+=c,s+=fP(e[o],c," |"),f[kf]&&(s+=" ".repeat(f[kf])),i===0&&n.length>0&&(s=this.renderInline(s,n[n.length-1]))}),n.push({text:s.replace(/ +$/,""),span:e.span})}),n}renderInline(e,n){let r=e.match(/^ */),i=r?r[0].length:0,s=n.text,a=ar.stringWidth(s.trimRight());return n.span?this.wrap?i<a?e:(n.hidden=!0,s.trimRight()+" ".repeat(i-a)+e.trimLeft()):(n.hidden=!0,s+e):e}rasterize(e){let n=[],r=this.columnWidths(e),i;return e.forEach((s,a)=>{s.width=r[a],this.wrap?i=ar.wrap(s.text,this.negatePadding(s),{hard:!0}).split(`
`):i=s.text.split(`
`),s.border&&(i.unshift("."+"-".repeat(this.negatePadding(s)+2)+"."),i.push("'"+"-".repeat(this.negatePadding(s)+2)+"'")),s.padding&&(i.unshift(...new Array(s.padding[qk]||0).fill("")),i.push(...new Array(s.padding[jk]||0).fill(""))),i.forEach((o,l)=>{n[l]||n.push([]);let u=n[l];for(let c=0;c<a;c++)u[c]===void 0&&u.push("");u.push(o)})}),n}negatePadding(e){let n=e.width||0;return e.padding&&(n-=(e.padding[Mf]||0)+(e.padding[kf]||0)),e.border&&(n-=4),n}columnWidths(e){if(!this.wrap)return e.map(a=>a.width||ar.stringWidth(a.text));let n=e.length,r=this.width,i=e.map(a=>{if(a.width)return n--,r-=a.width,a.width}),s=n?Math.floor(r/n):0;return i.map((a,o)=>a===void 0?Math.max(s,Uk(e[o])):a)}};function fP(t,e,n){return t.border?/[.']-+[.']/.test(e)?"":e.trim().length!==0?n:"  ":""}function Uk(t){let e=t.padding||[],n=1+(e[Mf]||0)+(e[kf]||0);return t.border?n+4:n}function Wk(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}function Gk(t,e){t=t.trim();let n=ar.stringWidth(t);return n<e?" ".repeat(e-n)+t:t}function Yk(t,e){t=t.trim();let n=ar.stringWidth(t);return n>=e?t:" ".repeat(e-n>>1)+t}var ar;function Hk(t,e){return ar=e,new cP({width:(t==null?void 0:t.width)||Wk(),wrap:t==null?void 0:t.wrap})}var $k=wf(),Kk=Rf(),zk=uP();function Xk(t){return Hk(t,{stringWidth:$k,stripAnsi:Kk,wrap:zk})}pP.exports=Xk});var _P=X((ute,gP)=>{var{dirname:mP,resolve:hP}=require("path"),{readdirSync:Qk,statSync:Jk}=require("fs");gP.exports=function(t,e){let n=hP(".",t),r;for(Jk(n).isDirectory()||(n=mP(n));;){if(r=e(n,Qk(n)),r)return hP(n,r);if(n=mP(r=n),r===n)break}}});var bP=X((cte,yP)=>{"use strict";yP.exports=function(e){if(e===void 0&&(e=2),e>=Error.stackTraceLimit)throw new TypeError("getCallerFile(position) requires position be less then Error.stackTraceLimit but position was: `"+e+"` and Error.stackTraceLimit was: `"+Error.stackTraceLimit+"`");var n=Error.prepareStackTrace;Error.prepareStackTrace=function(i,s){return s};var r=new Error().stack;if(Error.prepareStackTrace=n,r!==null&&typeof r=="object")return r[e]?r[e].getFileName():void 0}});var CP=X((fte,wh)=>{"use strict";var TP=require("fs"),Zk=require("path").join,eM=require("path").resolve,vP=require("path").dirname,Rh={extensions:["js","json","coffee"],recurse:!0,rename:function(t){return t},visit:function(t){return t}};function tM(t,e,n){return new RegExp("\\.("+n.extensions.join("|")+")$","i").test(e)&&!(n.include&&n.include instanceof RegExp&&!n.include.test(t))&&!(n.include&&typeof n.include=="function"&&!n.include(t,e))&&!(n.exclude&&n.exclude instanceof RegExp&&n.exclude.test(t))&&!(n.exclude&&typeof n.exclude=="function"&&n.exclude(t,e))}function NP(t,e,n){var r={};e&&!n&&typeof e!="string"&&(n=e,e=null),n=n||{};for(var i in Rh)typeof n[i]=="undefined"&&(n[i]=Rh[i]);return e=e?eM(vP(t.filename),e):vP(t.filename),TP.readdirSync(e).forEach(function(s){var a=Zk(e,s),o,l,u;TP.statSync(a).isDirectory()&&n.recurse?(o=NP(t,a,n),Object.keys(o).length&&(r[n.rename(s,a,s)]=o)):a!==t.filename&&tM(a,s,n)&&(l=s.substring(0,s.lastIndexOf(".")),u=t.require(a),r[n.rename(l,a,s)]=n.visit(u,a,s)||u)}),r}wh.exports=NP;wh.exports.defaults=Rh});var iD=X((pte,rD)=>{"use strict";var PP=require("assert"),Qt=class extends Error{constructor(e){super(e||"yargs error"),this.name="YError",Error.captureStackTrace(this,Qt)}},au,Oh=[];function Bf(t,e,n,r){au=r;let i={};if(Object.prototype.hasOwnProperty.call(t,"extends")){if(typeof t.extends!="string")return i;let s=/\.json|\..*rc$/.test(t.extends),a=null;if(s)a=function(o,l){return au.path.resolve(o,l)}(e,t.extends);else try{a=require.resolve(t.extends)}catch{return t}(function(o){if(Oh.indexOf(o)>-1)throw new Qt(`Circular extended configurations: '${o}'.`)})(a),Oh.push(a),i=s?JSON.parse(au.readFileSync(a,"utf8")):require(t.extends),delete t.extends,i=Bf(i,au.path.dirname(a),n,au)}return Oh=[],n?DP(i,t):Object.assign({},i,t)}function DP(t,e){let n={};function r(i){return i&&typeof i=="object"&&!Array.isArray(i)}Object.assign(n,t);for(let i of Object.keys(e))r(e[i])&&r(n[i])?n[i]=DP(t[i],e[i]):n[i]=e[i];return n}function Lo(t){let e=t.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,r=e.shift();if(!r)throw new Error(`No command found in: ${t}`);let i={cmd:r.replace(n,""),demanded:[],optional:[]};return e.forEach((s,a)=>{let o=!1;s=s.replace(/\s/g,""),/\.+[\]>]/.test(s)&&a===e.length-1&&(o=!0),/^\[/.test(s)?i.optional.push({cmd:s.replace(n,"").split("|"),variadic:o}):i.demanded.push({cmd:s.replace(n,"").split("|"),variadic:o})}),i}var nM=["first","second","third","fourth","fifth","sixth"];function he(t,e,n){try{let r=0,[i,s,a]=typeof t=="object"?[{demanded:[],optional:[]},t,e]:[Lo(`cmd ${t}`),e,n],o=[].slice.call(s);for(;o.length&&o[o.length-1]===void 0;)o.pop();let l=a||o.length;if(l<i.demanded.length)throw new Qt(`Not enough arguments provided. Expected ${i.demanded.length} but received ${o.length}.`);let u=i.demanded.length+i.optional.length;if(l>u)throw new Qt(`Too many arguments provided. Expected max ${u} but received ${l}.`);i.demanded.forEach(c=>{let f=SP(o.shift());c.cmd.filter(d=>d===f||d==="*").length===0&&AP(f,c.cmd,r),r+=1}),i.optional.forEach(c=>{if(o.length===0)return;let f=SP(o.shift());c.cmd.filter(d=>d===f||d==="*").length===0&&AP(f,c.cmd,r),r+=1})}catch(r){console.warn(r.stack)}}function SP(t){return Array.isArray(t)?"array":t===null?"null":typeof t}function AP(t,e,n){throw new Qt(`Invalid ${nM[n]||"manyith"} argument. Expected ${e.join(" or ")} but received ${t}.`)}function Wt(t){return!!t&&!!t.then&&typeof t.then=="function"}function li(t,e,n,r){n.assert.notStrictEqual(t,e,r)}function IP(t,e){e.assert.strictEqual(typeof t,"string")}function Vf(t){return Object.keys(t)}function ko(t={},e=()=>!0){let n={};return Vf(t).forEach(r=>{e(r,t[r])&&(n[r]=t[r])}),n}function EP(){return process.versions.electron&&!process.defaultApp?0:1}function xP(){return process.argv[EP()]}var rM=Object.freeze({__proto__:null,hideBin:function(t){return t.slice(EP()+1)},getProcessArgvBin:xP});function N(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function ge(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}var RP=class{constructor(e){this.globalMiddleware=[],this.frozens=[],this.yargs=e}addMiddleware(e,n,r=!0,i=!1){if(he("<array|function> [boolean] [boolean] [boolean]",[e,n,r],arguments.length),Array.isArray(e)){for(let s=0;s<e.length;s++){if(typeof e[s]!="function")throw Error("middleware must be a function");let a=e[s];a.applyBeforeValidation=n,a.global=r}Array.prototype.push.apply(this.globalMiddleware,e)}else if(typeof e=="function"){let s=e;s.applyBeforeValidation=n,s.global=r,s.mutates=i,this.globalMiddleware.push(e)}return this.yargs}addCoerceMiddleware(e,n){let r=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(i=>{let s=[...r[n]||[],n];return!i.option||!s.includes(i.option)}),e.option=n,this.addMiddleware(e,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){let e=this.frozens.pop();e!==void 0&&(this.globalMiddleware=e)}reset(){this.globalMiddleware=this.globalMiddleware.filter(e=>e.global)}};function ou(t,e,n,r){return n.reduce((i,s)=>{if(s.applyBeforeValidation!==r)return i;if(s.mutates){if(s.applied)return i;s.applied=!0}if(Wt(i))return i.then(a=>Promise.all([a,s(a,e)])).then(([a,o])=>Object.assign(a,o));{let a=s(i,e);return Wt(a)?a.then(o=>Object.assign(i,o)):Object.assign(i,a)}},t)}function lu(t,e,n=r=>{throw r}){try{let r=typeof t=="function"?t():t;return Wt(r)?r.then(i=>e(i)):e(r)}catch(r){return n(r)}}var Mo=/(^\*)|(^\$0)/,wP=class{constructor(e,n,r,i){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=i,this.usage=e,this.globalMiddleware=r,this.validation=n}addDirectory(e,n,r,i){typeof(i=i||{}).recurse!="boolean"&&(i.recurse=!1),Array.isArray(i.extensions)||(i.extensions=["js"]);let s=typeof i.visit=="function"?i.visit:a=>a;i.visit=(a,o,l)=>{let u=s(a,o,l);if(u){if(this.requireCache.has(o))return u;this.requireCache.add(o),this.addHandler(u)}return u},this.shim.requireDirectory({require:n,filename:r},e,i)}addHandler(e,n,r,i,s,a){let o=[],l=function(u){return u?u.map(c=>(c.applyBeforeValidation=!1,c)):[]}(s);if(i=i||(()=>{}),Array.isArray(e))if(function(u){return u.every(c=>typeof c=="string")}(e))[e,...o]=e;else for(let u of e)this.addHandler(u);else{if(function(u){return typeof u=="object"&&!Array.isArray(u)}(e)){let u=Array.isArray(e.command)||typeof e.command=="string"?e.command:this.moduleName(e);return e.aliases&&(u=[].concat(u).concat(e.aliases)),void this.addHandler(u,this.extractDesc(e),e.builder,e.handler,e.middlewares,e.deprecated)}if(OP(r))return void this.addHandler([e].concat(o),n,r.builder,r.handler,r.middlewares,r.deprecated)}if(typeof e=="string"){let u=Lo(e);o=o.map(d=>Lo(d).cmd);let c=!1,f=[u.cmd].concat(o).filter(d=>!Mo.test(d)||(c=!0,!1));f.length===0&&c&&f.push("$0"),c&&(u.cmd=f[0],o=f.slice(1),e=e.replace(Mo,u.cmd)),o.forEach(d=>{this.aliasMap[d]=u.cmd}),n!==!1&&this.usage.command(e,n,c,o,a),this.handlers[u.cmd]={original:e,description:n,handler:i,builder:r||{},middlewares:l,deprecated:a,demanded:u.demanded,optional:u.optional},c&&(this.defaultCommand=this.handlers[u.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(e,n,r,i,s,a){let o=this.handlers[e]||this.handlers[this.aliasMap[e]]||this.defaultCommand,l=n.getInternalMethods().getContext(),u=l.commands.slice(),c=!e;e&&(l.commands.push(e),l.fullCommands.push(o.original));let f=this.applyBuilderUpdateUsageAndParse(c,o,n,r.aliases,u,i,s,a);return Wt(f)?f.then(d=>this.applyMiddlewareAndGetResult(c,o,d.innerArgv,l,s,d.aliases,n)):this.applyMiddlewareAndGetResult(c,o,f.innerArgv,l,s,f.aliases,n)}applyBuilderUpdateUsageAndParse(e,n,r,i,s,a,o,l){let u=n.builder,c=r;if(Fh(u)){let f=u(r.getInternalMethods().reset(i),l);if(Wt(f))return f.then(d=>{var _;return c=(_=d)&&typeof _.getInternalMethods=="function"?d:r,this.parseAndUpdateUsage(e,n,c,s,a,o)})}else(function(f){return typeof f=="object"})(u)&&(c=r.getInternalMethods().reset(i),Object.keys(n.builder).forEach(f=>{c.option(f,u[f])}));return this.parseAndUpdateUsage(e,n,c,s,a,o)}parseAndUpdateUsage(e,n,r,i,s,a){e&&r.getInternalMethods().getUsageInstance().unfreeze(),this.shouldUpdateUsage(r)&&r.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(i,n),n.description);let o=r.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,s,a);return Wt(o)?o.then(l=>({aliases:r.parsed.aliases,innerArgv:l})):{aliases:r.parsed.aliases,innerArgv:o}}shouldUpdateUsage(e){return!e.getInternalMethods().getUsageInstance().getUsageDisabled()&&e.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(e,n){let r=Mo.test(n.original)?n.original.replace(Mo,"").trim():n.original,i=e.filter(s=>!Mo.test(s));return i.push(r),`$0 ${i.join(" ")}`}applyMiddlewareAndGetResult(e,n,r,i,s,a,o){let l={};if(s)return r;o.getInternalMethods().getHasOutput()||(l=this.populatePositionals(n,r,i,o));let u=this.globalMiddleware.getMiddleware().slice(0).concat(n.middlewares);if(r=ou(r,o,u,!0),!o.getInternalMethods().getHasOutput()){let c=o.getInternalMethods().runValidation(a,l,o.parsed.error,e);r=lu(r,f=>(c(f),f))}if(n.handler&&!o.getInternalMethods().getHasOutput()){o.getInternalMethods().setHasOutput();let c=!!o.getOptions().configuration["populate--"];o.getInternalMethods().postProcess(r,c,!1,!1),r=lu(r=ou(r,o,u,!1),f=>{let d=n.handler(f);return Wt(d)?d.then(()=>f):f}),e||o.getInternalMethods().getUsageInstance().cacheHelpMessage(),Wt(r)&&!o.getInternalMethods().hasParseCallback()&&r.catch(f=>{try{o.getInternalMethods().getUsageInstance().fail(null,f)}catch{}})}return e||(i.commands.pop(),i.fullCommands.pop()),r}populatePositionals(e,n,r,i){n._=n._.slice(r.commands.length);let s=e.demanded.slice(0),a=e.optional.slice(0),o={};for(this.validation.positionalCount(s.length,n._.length);s.length;){let l=s.shift();this.populatePositional(l,n,o)}for(;a.length;){let l=a.shift();this.populatePositional(l,n,o)}return n._=r.commands.concat(n._.map(l=>""+l)),this.postProcessPositionals(n,o,this.cmdToParseOptions(e.original),i),o}populatePositional(e,n,r){let i=e.cmd[0];e.variadic?r[i]=n._.splice(0).map(String):n._.length&&(r[i]=[String(n._.shift())])}cmdToParseOptions(e){let n={array:[],default:{},alias:{},demand:{}},r=Lo(e);return r.demanded.forEach(i=>{let[s,...a]=i.cmd;i.variadic&&(n.array.push(s),n.default[s]=[]),n.alias[s]=a,n.demand[s]=!0}),r.optional.forEach(i=>{let[s,...a]=i.cmd;i.variadic&&(n.array.push(s),n.default[s]=[]),n.alias[s]=a}),n}postProcessPositionals(e,n,r,i){let s=Object.assign({},i.getOptions());s.default=Object.assign(r.default,s.default);for(let u of Object.keys(r.alias))s.alias[u]=(s.alias[u]||[]).concat(r.alias[u]);s.array=s.array.concat(r.array),s.config={};let a=[];if(Object.keys(n).forEach(u=>{n[u].map(c=>{s.configuration["unknown-options-as-args"]&&(s.key[u]=!0),a.push(`--${u}`),a.push(c)})}),!a.length)return;let o=Object.assign({},s.configuration,{"populate--":!1}),l=this.shim.Parser.detailed(a,Object.assign({},s,{configuration:o}));if(l.error)i.getInternalMethods().getUsageInstance().fail(l.error.message,l.error);else{let u=Object.keys(n);Object.keys(n).forEach(f=>{u.push(...l.aliases[f])});let c=i.getOptions().default;Object.keys(l.argv).forEach(f=>{u.includes(f)&&(n[f]||(n[f]=l.argv[f]),!Object.prototype.hasOwnProperty.call(c,f)&&Object.prototype.hasOwnProperty.call(e,f)&&Object.prototype.hasOwnProperty.call(l.argv,f)&&(Array.isArray(e[f])||Array.isArray(l.argv[f]))?e[f]=[].concat(e[f],l.argv[f]):e[f]=l.argv[f])})}}runDefaultBuilderOn(e){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(e)){let r=Mo.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");e.getInternalMethods().getUsageInstance().usage(r,this.defaultCommand.description)}let n=this.defaultCommand.builder;if(Fh(n))return n(e,!0);OP(n)||Object.keys(n).forEach(r=>{e.option(r,n[r])})}moduleName(e){let n=function(r){if(typeof require=="undefined")return null;for(let i,s=0,a=Object.keys(require.cache);s<a.length;s++)if(i=require.cache[a[s]],i.exports===r)return i;return null}(e);if(!n)throw new Error(`No command name given for module: ${this.shim.inspect(e)}`);return this.commandFromFilename(n.filename)}commandFromFilename(e){return this.shim.path.basename(e,this.shim.path.extname(e))}extractDesc({describe:e,description:n,desc:r}){for(let i of[e,n,r]){if(typeof i=="string"||i===!1)return i;li(i,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){let e=this.frozens.pop();li(e,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=e}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}};function OP(t){return typeof t=="object"&&!!t.builder&&typeof t.handler=="function"}function Fh(t){return typeof t=="function"}function uu(t){typeof process!="undefined"&&[process.stdout,process.stderr].forEach(e=>{let n=e;n._handle&&n.isTTY&&typeof n._handle.setBlocking=="function"&&n._handle.setBlocking(t)})}function iM(t){return typeof t=="boolean"}function sM(t,e){let n=e.y18n.__,r={},i=[];r.failFn=function(C){i.push(C)};let s=null,a=!0;r.showHelpOnFail=function(C=!0,U){let[Z,Y]=typeof C=="string"?[!0,C]:[C,U];return s=Y,a=Z,r};let o=!1;r.fail=function(C,U){let Z=t.getInternalMethods().getLoggerInstance();if(!i.length){if(t.getExitProcess()&&uu(!0),o||(o=!0,a&&(t.showHelp("error"),Z.error()),(C||U)&&Z.error(C||U),s&&((C||U)&&Z.error(""),Z.error(s))),U=U||new Qt(C),t.getExitProcess())return t.exit(1);if(t.getInternalMethods().hasParseCallback())return t.exit(1,U);throw U}for(let Y=i.length-1;Y>=0;--Y){let Q=i[Y];if(iM(Q)){if(U)throw U;if(C)throw Error(C)}else Q(C,U,r)}};let l=[],u=!1;r.usage=(C,U)=>C===null?(u=!0,l=[],r):(u=!1,l.push([C,U||""]),r),r.getUsage=()=>l,r.getUsageDisabled=()=>u,r.getPositionalGroupName=()=>n("Positionals:");let c=[];r.example=(C,U)=>{c.push([C,U||""])};let f=[];r.command=function(C,U,Z,Y,Q=!1){Z&&(f=f.map(se=>(se[2]=!1,se))),f.push([C,U||"",Z,Y,Q])},r.getCommands=()=>f;let d={};r.describe=function(C,U){Array.isArray(C)?C.forEach(Z=>{r.describe(Z,U)}):typeof C=="object"?Object.keys(C).forEach(Z=>{r.describe(Z,C[Z])}):d[C]=U},r.getDescriptions=()=>d;let _=[];r.epilog=C=>{_.push(C)};let p,m=!1;function g(){return m||(p=function(){let C=80;return e.process.stdColumns?Math.min(C,e.process.stdColumns):C}(),m=!0),p}r.wrap=C=>{m=!0,p=C};let h="__yargsString__:";function b(C,U,Z){let Y=0;return Array.isArray(C)||(C=Object.values(C).map(Q=>[Q])),C.forEach(Q=>{Y=Math.max(e.stringWidth(Z?`${Z} ${qf(Q[0])}`:qf(Q[0]))+FP(Q[0]),Y)}),U&&(Y=Math.min(Y,parseInt((.5*U).toString(),10))),Y}let y;function x(C){return t.getOptions().hiddenOptions.indexOf(C)<0||t.parsed.argv[t.getOptions().showHiddenOpt]}function D(C,U){let Z=`[${n("default:")} `;if(C===void 0&&!U)return null;if(U)Z+=U;else switch(typeof C){case"string":Z+=`"${C}"`;break;case"object":Z+=JSON.stringify(C);break;default:Z+=C}return`${Z}]`}r.deferY18nLookup=C=>h+C,r.help=function(){if(y)return y;(function(){let me=t.getDemandedOptions(),Re=t.getOptions();(Object.keys(Re.alias)||[]).forEach(Ge=>{Re.alias[Ge].forEach(ee=>{d[ee]&&r.describe(Ge,d[ee]),ee in me&&t.demandOption(Ge,me[ee]),Re.boolean.includes(ee)&&t.boolean(Ge),Re.count.includes(ee)&&t.count(Ge),Re.string.includes(ee)&&t.string(Ge),Re.normalize.includes(ee)&&t.normalize(Ge),Re.array.includes(ee)&&t.array(Ge),Re.number.includes(ee)&&t.number(Ge)})})})();let C=t.customScriptName?t.$0:e.path.basename(t.$0),U=t.getDemandedOptions(),Z=t.getDemandedCommands(),Y=t.getDeprecatedOptions(),Q=t.getGroups(),se=t.getOptions(),ce=[];ce=ce.concat(Object.keys(d)),ce=ce.concat(Object.keys(U)),ce=ce.concat(Object.keys(Z)),ce=ce.concat(Object.keys(se.default)),ce=ce.filter(x),ce=Object.keys(ce.reduce((me,Re)=>(Re!=="_"&&(me[Re]=!0),me),{}));let re=g(),ve=e.cliui({width:re,wrap:!!re});if(!u){if(l.length)l.forEach(me=>{ve.div({text:`${me[0].replace(/\$0/g,C)}`}),me[1]&&ve.div({text:`${me[1]}`,padding:[1,0,0,0]})}),ve.div();else if(f.length){let me=null;me=Z._?`${C} <${n("command")}>
`:`${C} [${n("command")}]
`,ve.div(`${me}`)}}if(f.length>1||f.length===1&&!f[0][2]){ve.div(n("Commands:"));let me=t.getInternalMethods().getContext(),Re=me.commands.length?`${me.commands.join(" ")} `:"";t.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(f=f.sort((ee,pt)=>ee[0].localeCompare(pt[0])));let Ge=C?`${C} `:"";f.forEach(ee=>{let pt=`${Ge}${Re}${ee[0].replace(/^\$0 ?/,"")}`;ve.span({text:pt,padding:[0,2,0,2],width:b(f,re,`${C}${Re}`)+4},{text:ee[1]});let ot=[];ee[2]&&ot.push(`[${n("default")}]`),ee[3]&&ee[3].length&&ot.push(`[${n("aliases:")} ${ee[3].join(", ")}]`),ee[4]&&(typeof ee[4]=="string"?ot.push(`[${n("deprecated: %s",ee[4])}]`):ot.push(`[${n("deprecated")}]`)),ot.length?ve.div({text:ot.join(" "),padding:[0,0,0,2],align:"right"}):ve.div()}),ve.div()}let rt=(Object.keys(se.alias)||[]).concat(Object.keys(t.parsed.newAliases)||[]);ce=ce.filter(me=>!t.parsed.newAliases[me]&&rt.every(Re=>(se.alias[Re]||[]).indexOf(me)===-1));let Jt=n("Options:");Q[Jt]||(Q[Jt]=[]),function(me,Re,Ge,ee){let pt=[],ot=null;Object.keys(Ge).forEach(xt=>{pt=pt.concat(Ge[xt])}),me.forEach(xt=>{ot=[xt].concat(Re[xt]),ot.some(vn=>pt.indexOf(vn)!==-1)||Ge[ee].push(xt)})}(ce,se.alias,Q,Jt);let Ze=me=>/^--/.test(qf(me)),it=Object.keys(Q).filter(me=>Q[me].length>0).map(me=>({groupName:me,normalizedKeys:Q[me].filter(x).map(Re=>{if(rt.includes(Re))return Re;for(let Ge,ee=0;(Ge=rt[ee])!==void 0;ee++)if((se.alias[Ge]||[]).includes(Re))return Ge;return Re})})).filter(({normalizedKeys:me})=>me.length>0).map(({groupName:me,normalizedKeys:Re})=>{let Ge=Re.reduce((ee,pt)=>(ee[pt]=[pt].concat(se.alias[pt]||[]).map(ot=>me===r.getPositionalGroupName()?ot:(/^[0-9]$/.test(ot)?se.boolean.includes(pt)?"-":"--":ot.length>1?"--":"-")+ot).sort((ot,xt)=>Ze(ot)===Ze(xt)?0:Ze(ot)?1:-1).join(", "),ee),{});return{groupName:me,normalizedKeys:Re,switches:Ge}});if(it.filter(({groupName:me})=>me!==r.getPositionalGroupName()).some(({normalizedKeys:me,switches:Re})=>!me.every(Ge=>Ze(Re[Ge])))&&it.filter(({groupName:me})=>me!==r.getPositionalGroupName()).forEach(({normalizedKeys:me,switches:Re})=>{me.forEach(Ge=>{var ee,pt;Ze(Re[Ge])&&(Re[Ge]=(ee=Re[Ge],pt="-x, ".length,Lh(ee)?{text:ee.text,indentation:ee.indentation+pt}:{text:ee,indentation:pt}))})}),it.forEach(({groupName:me,normalizedKeys:Re,switches:Ge})=>{ve.div(me),Re.forEach(ee=>{let pt=Ge[ee],ot=d[ee]||"",xt=null;ot.includes(h)&&(ot=n(ot.substring(h.length))),se.boolean.includes(ee)&&(xt=`[${n("boolean")}]`),se.count.includes(ee)&&(xt=`[${n("count")}]`),se.string.includes(ee)&&(xt=`[${n("string")}]`),se.normalize.includes(ee)&&(xt=`[${n("string")}]`),se.array.includes(ee)&&(xt=`[${n("array")}]`),se.number.includes(ee)&&(xt=`[${n("number")}]`);let vn=[ee in Y?(Si=Y[ee],typeof Si=="string"?`[${n("deprecated: %s",Si)}]`:`[${n("deprecated")}]`):null,xt,ee in U?`[${n("required")}]`:null,se.choices&&se.choices[ee]?`[${n("choices:")} ${r.stringifiedValues(se.choices[ee])}]`:null,D(se.default[ee],se.defaultDescription[ee])].filter(Boolean).join(" ");var Si;ve.span({text:qf(pt),padding:[0,2,0,2+FP(pt)],width:b(Ge,re)+4},ot),vn?ve.div({text:vn,padding:[0,0,0,2],align:"right"}):ve.div()}),ve.div()}),c.length&&(ve.div(n("Examples:")),c.forEach(me=>{me[0]=me[0].replace(/\$0/g,C)}),c.forEach(me=>{me[1]===""?ve.div({text:me[0],padding:[0,2,0,2]}):ve.div({text:me[0],padding:[0,2,0,2],width:b(c,re)+4},{text:me[1]})}),ve.div()),_.length>0){let me=_.map(Re=>Re.replace(/\$0/g,C)).join(`
`);ve.div(`${me}
`)}return ve.toString().replace(/\s*$/,"")},r.cacheHelpMessage=function(){y=this.help()},r.clearCachedHelpMessage=function(){y=void 0},r.hasCachedHelpMessage=function(){return!!y},r.showHelp=C=>{let U=t.getInternalMethods().getLoggerInstance();C||(C="error"),(typeof C=="function"?C:U[C])(r.help())},r.functionDescription=C=>["(",C.name?e.Parser.decamelize(C.name,"-"):n("generated-value"),")"].join(""),r.stringifiedValues=function(C,U){let Z="",Y=U||", ",Q=[].concat(C);return C&&Q.length&&Q.forEach(se=>{Z.length&&(Z+=Y),Z+=JSON.stringify(se)}),Z};let G=null;r.version=C=>{G=C},r.showVersion=C=>{let U=t.getInternalMethods().getLoggerInstance();C||(C="error"),(typeof C=="function"?C:U[C])(G)},r.reset=function(C){return s=null,o=!1,l=[],u=!1,_=[],c=[],f=[],d=ko(d,U=>!C[U]),r};let q=[];return r.freeze=function(){q.push({failMessage:s,failureOutput:o,usages:l,usageDisabled:u,epilogs:_,examples:c,commands:f,descriptions:d})},r.unfreeze=function(){let C=q.pop();C&&({failMessage:s,failureOutput:o,usages:l,usageDisabled:u,epilogs:_,examples:c,commands:f,descriptions:d}=C)},r}function Lh(t){return typeof t=="object"}function FP(t){return Lh(t)?t.indentation:0}function qf(t){return Lh(t)?t.text:t}var LP=class{constructor(e,n,r,i){var s,a,o;this.yargs=e,this.usage=n,this.command=r,this.shim=i,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.zshShell=(o=((s=this.shim.getEnv("SHELL"))===null||s===void 0?void 0:s.includes("zsh"))||((a=this.shim.getEnv("ZSH_NAME"))===null||a===void 0?void 0:a.includes("zsh")))!==null&&o!==void 0&&o}defaultCompletion(e,n,r,i){let s=this.command.getCommandHandlers();for(let o=0,l=e.length;o<l;++o)if(s[e[o]]&&s[e[o]].builder){let u=s[e[o]].builder;if(Fh(u)){let c=this.yargs.getInternalMethods().reset();return u(c,!0),c.argv}}let a=[];this.commandCompletions(a,e,r),this.optionCompletions(a,e,n,r),this.choicesCompletions(a,e,n,r),i(null,a)}commandCompletions(e,n,r){let i=this.yargs.getInternalMethods().getContext().commands;r.match(/^-/)||i[i.length-1]===r||this.previousArgHasChoices(n)||this.usage.getCommands().forEach(s=>{let a=Lo(s[0]).cmd;if(n.indexOf(a)===-1)if(this.zshShell){let o=s[1]||"";e.push(a.replace(/:/g,"\\:")+":"+o)}else e.push(a)})}optionCompletions(e,n,r,i){if((i.match(/^-/)||i===""&&e.length===0)&&!this.previousArgHasChoices(n)){let s=this.yargs.getOptions(),a=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(s.key).forEach(o=>{let l=!!s.configuration["boolean-negation"]&&s.boolean.includes(o);a.includes(o)||this.argsContainKey(n,r,o,l)||(this.completeOptionKey(o,e,i),l&&s.default[o]&&this.completeOptionKey(`no-${o}`,e,i))})}}choicesCompletions(e,n,r,i){if(this.previousArgHasChoices(n)){let s=this.getPreviousArgChoices(n);s&&s.length>0&&e.push(...s)}}getPreviousArgChoices(e){if(e.length<1)return;let n=e[e.length-1],r="";if(!n.startsWith("--")&&e.length>1&&(r=n,n=e[e.length-2]),!n.startsWith("--"))return;let i=n.replace(/-/g,""),s=this.yargs.getOptions();return Object.keys(s.key).some(a=>a===i)&&Array.isArray(s.choices[i])?s.choices[i].filter(a=>!r||a.startsWith(r)):void 0}previousArgHasChoices(e){let n=this.getPreviousArgChoices(e);return n!==void 0&&n.length>0}argsContainKey(e,n,r,i){if(e.indexOf(`--${r}`)!==-1||i&&e.indexOf(`--no-${r}`)!==-1)return!0;if(this.aliases){for(let s of this.aliases[r])if(n[s]!==void 0)return!0}return!1}completeOptionKey(e,n,r){let i=this.usage.getDescriptions(),s=!/^--/.test(r)&&(a=>/^[^0-9]$/.test(a))(e)?"-":"--";if(this.zshShell){let a=i[e]||"";n.push(s+`${e.replace(/:/g,"\\:")}:${a.replace("__yargsString__:","")}`)}else n.push(s+e)}customCompletion(e,n,r,i){if(li(this.customCompletionFunction,null,this.shim),this.customCompletionFunction.length<3){let s=this.customCompletionFunction(r,n);return Wt(s)?s.then(a=>{this.shim.process.nextTick(()=>{i(null,a)})}).catch(a=>{this.shim.process.nextTick(()=>{i(a,void 0)})}):i(null,s)}return function(s){return s.length>3}(this.customCompletionFunction)?this.customCompletionFunction(r,n,(s=i)=>this.defaultCompletion(e,n,r,s),s=>{i(null,s)}):this.customCompletionFunction(r,n,s=>{i(null,s)})}getCompletion(e,n){let r=e.length?e[e.length-1]:"",i=this.yargs.parse(e,!0),s=this.customCompletionFunction?a=>this.customCompletion(e,a,r,n):a=>this.defaultCompletion(e,a,r,n);return Wt(i)?i.then(s):s(i)}generateCompletionScript(e,n){let r=this.zshShell?`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zsh_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`:`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,i=this.shim.path.basename(e);return e.match(/\.js$/)&&(e=`./${e}`),r=r.replace(/{{app_name}}/g,i),r=r.replace(/{{completion_command}}/g,n),r.replace(/{{app_path}}/g,e)}registerFunction(e){this.customCompletionFunction=e}setParsed(e){this.aliases=e.aliases}};function aM(t,e){if(t.length===0)return e.length;if(e.length===0)return t.length;let n=[],r,i;for(r=0;r<=e.length;r++)n[r]=[r];for(i=0;i<=t.length;i++)n[0][i]=i;for(r=1;r<=e.length;r++)for(i=1;i<=t.length;i++)e.charAt(r-1)===t.charAt(i-1)?n[r][i]=n[r-1][i-1]:r>1&&i>1&&e.charAt(r-2)===t.charAt(i-1)&&e.charAt(r-1)===t.charAt(i-2)?n[r][i]=n[r-2][i-2]+1:n[r][i]=Math.min(n[r-1][i-1]+1,Math.min(n[r][i-1]+1,n[r-1][i]+1));return n[e.length][t.length]}var kP=["$0","--","_"],Ft,ua,cu,xr,or,jf,Ss,ca,Uf,Rr,Wf,wr,Pi,lr,Or,Bo,on,Te,Gf,Yf,ur,fa,Vo,pa,As,Hf,Ee,da,ma,ha,Le,Di,Et,MP=Symbol("copyDoubleDash"),BP=Symbol("copyDoubleDash"),kh=Symbol("deleteFromParserHintObject"),VP=Symbol("emitWarning"),qP=Symbol("freeze"),jP=Symbol("getDollarZero"),ga=Symbol("getParserConfiguration"),Mh=Symbol("guessLocale"),UP=Symbol("guessVersion"),WP=Symbol("parsePositionalNumbers"),Bh=Symbol("pkgUp"),Is=Symbol("populateParserHintArray"),qo=Symbol("populateParserHintSingleValueDictionary"),Vh=Symbol("populateParserHintArrayDictionary"),qh=Symbol("populateParserHintDictionary"),jh=Symbol("sanitizeKey"),Uh=Symbol("setKey"),Wh=Symbol("unfreeze"),GP=Symbol("validateAsync"),YP=Symbol("getCommandInstance"),HP=Symbol("getContext"),$P=Symbol("getHasOutput"),KP=Symbol("getLoggerInstance"),zP=Symbol("getParseContext"),XP=Symbol("getUsageInstance"),QP=Symbol("getValidationInstance"),$f=Symbol("hasParseCallback"),_a=Symbol("postProcess"),JP=Symbol("rebase"),Gh=Symbol("reset"),fu=Symbol("runYargsParserAndExecuteCommands"),Yh=Symbol("runValidation"),ZP=Symbol("setHasOutput"),ya=Symbol("kTrackManuallySetKeys"),eD=class{constructor(e=[],n,r,i){this.customScriptName=!1,this.parsed=!1,Ft.set(this,void 0),ua.set(this,void 0),cu.set(this,{commands:[],fullCommands:[]}),xr.set(this,null),or.set(this,null),jf.set(this,"show-hidden"),Ss.set(this,null),ca.set(this,!0),Uf.set(this,{}),Rr.set(this,!0),Wf.set(this,[]),wr.set(this,void 0),Pi.set(this,{}),lr.set(this,!1),Or.set(this,null),Bo.set(this,void 0),on.set(this,""),Te.set(this,void 0),Gf.set(this,void 0),Yf.set(this,{}),ur.set(this,null),fa.set(this,null),Vo.set(this,{}),pa.set(this,{}),As.set(this,void 0),Hf.set(this,!1),Ee.set(this,void 0),da.set(this,!1),ma.set(this,!1),ha.set(this,!1),Le.set(this,void 0),Di.set(this,null),Et.set(this,void 0),ge(this,Ee,i,"f"),ge(this,As,e,"f"),ge(this,ua,n,"f"),ge(this,Gf,r,"f"),ge(this,wr,new RP(this),"f"),this.$0=this[jP](),this[Gh](),ge(this,Ft,N(this,Ft,"f"),"f"),ge(this,Le,N(this,Le,"f"),"f"),ge(this,Et,N(this,Et,"f"),"f"),ge(this,Te,N(this,Te,"f"),"f"),N(this,Te,"f").showHiddenOpt=N(this,jf,"f"),ge(this,Bo,this[BP](),"f")}addHelpOpt(e,n){return he("[string|boolean] [string]",[e,n],arguments.length),N(this,Or,"f")&&(this[kh](N(this,Or,"f")),ge(this,Or,null,"f")),e===!1&&n===void 0||(ge(this,Or,typeof e=="string"?e:"help","f"),this.boolean(N(this,Or,"f")),this.describe(N(this,Or,"f"),n||N(this,Le,"f").deferY18nLookup("Show help"))),this}help(e,n){return this.addHelpOpt(e,n)}addShowHiddenOpt(e,n){if(he("[string|boolean] [string]",[e,n],arguments.length),e===!1&&n===void 0)return this;let r=typeof e=="string"?e:N(this,jf,"f");return this.boolean(r),this.describe(r,n||N(this,Le,"f").deferY18nLookup("Show hidden options")),N(this,Te,"f").showHiddenOpt=r,this}showHidden(e,n){return this.addShowHiddenOpt(e,n)}alias(e,n){return he("<object|string|array> [string|array]",[e,n],arguments.length),this[Vh](this.alias.bind(this),"alias",e,n),this}array(e){return he("<array|string>",[e],arguments.length),this[Is]("array",e),this[ya](e),this}boolean(e){return he("<array|string>",[e],arguments.length),this[Is]("boolean",e),this[ya](e),this}check(e,n){return he("<function> [boolean]",[e,n],arguments.length),this.middleware((r,i)=>lu(()=>e(r,i.getOptions()),s=>(s?(typeof s=="string"||s instanceof Error)&&N(this,Le,"f").fail(s.toString(),s):N(this,Le,"f").fail(N(this,Ee,"f").y18n.__("Argument check failed: %s",e.toString())),r),s=>(N(this,Le,"f").fail(s.message?s.message:s.toString(),s),r)),!1,n),this}choices(e,n){return he("<object|string|array> [string|array]",[e,n],arguments.length),this[Vh](this.choices.bind(this),"choices",e,n),this}coerce(e,n){if(he("<object|string|array> [function]",[e,n],arguments.length),Array.isArray(e)){if(!n)throw new Qt("coerce callback must be provided");for(let r of e)this.coerce(r,n);return this}if(typeof e=="object"){for(let r of Object.keys(e))this.coerce(r,e[r]);return this}if(!n)throw new Qt("coerce callback must be provided");return N(this,Te,"f").key[e]=!0,N(this,wr,"f").addCoerceMiddleware((r,i)=>{let s;return lu(()=>(s=i.getAliases(),n(r[e])),a=>{if(r[e]=a,s[e])for(let o of s[e])r[o]=a;return r},a=>{throw new Qt(a.message)})},e),this}conflicts(e,n){return he("<string|object> [string|array]",[e,n],arguments.length),N(this,Et,"f").conflicts(e,n),this}config(e="config",n,r){return he("[object|string] [string|function] [function]",[e,n,r],arguments.length),typeof e!="object"||Array.isArray(e)?(typeof n=="function"&&(r=n,n=void 0),this.describe(e,n||N(this,Le,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(e)?e:[e]).forEach(i=>{N(this,Te,"f").config[i]=r||!0}),this):(e=Bf(e,N(this,ua,"f"),this[ga]()["deep-merge-config"]||!1,N(this,Ee,"f")),N(this,Te,"f").configObjects=(N(this,Te,"f").configObjects||[]).concat(e),this)}completion(e,n,r){return he("[string] [string|boolean|function] [function]",[e,n,r],arguments.length),typeof n=="function"&&(r=n,n=void 0),ge(this,or,e||N(this,or,"f")||"completion","f"),n||n===!1||(n="generate completion script"),this.command(N(this,or,"f"),n),r&&N(this,xr,"f").registerFunction(r),this}command(e,n,r,i,s,a){return he("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[e,n,r,i,s,a],arguments.length),N(this,Ft,"f").addHandler(e,n,r,i,s,a),this}commands(e,n,r,i,s,a){return this.command(e,n,r,i,s,a)}commandDir(e,n){he("<string> [object]",[e,n],arguments.length);let r=N(this,Gf,"f")||N(this,Ee,"f").require;return N(this,Ft,"f").addDirectory(e,r,N(this,Ee,"f").getCallerFile(),n),this}count(e){return he("<array|string>",[e],arguments.length),this[Is]("count",e),this[ya](e),this}default(e,n,r){return he("<object|string|array> [*] [string]",[e,n,r],arguments.length),r&&(IP(e,N(this,Ee,"f")),N(this,Te,"f").defaultDescription[e]=r),typeof n=="function"&&(IP(e,N(this,Ee,"f")),N(this,Te,"f").defaultDescription[e]||(N(this,Te,"f").defaultDescription[e]=N(this,Le,"f").functionDescription(n)),n=n.call()),this[qo](this.default.bind(this),"default",e,n),this}defaults(e,n,r){return this.default(e,n,r)}demandCommand(e=1,n,r,i){return he("[number] [number|string] [string|null|undefined] [string|null|undefined]",[e,n,r,i],arguments.length),typeof n!="number"&&(r=n,n=1/0),this.global("_",!1),N(this,Te,"f").demandedCommands._={min:e,max:n,minMsg:r,maxMsg:i},this}demand(e,n,r){return Array.isArray(n)?(n.forEach(i=>{li(r,!0,N(this,Ee,"f")),this.demandOption(i,r)}),n=1/0):typeof n!="number"&&(r=n,n=1/0),typeof e=="number"?(li(r,!0,N(this,Ee,"f")),this.demandCommand(e,n,r,r)):Array.isArray(e)?e.forEach(i=>{li(r,!0,N(this,Ee,"f")),this.demandOption(i,r)}):typeof r=="string"?this.demandOption(e,r):r!==!0&&r!==void 0||this.demandOption(e),this}demandOption(e,n){return he("<object|string|array> [string]",[e,n],arguments.length),this[qo](this.demandOption.bind(this),"demandedOptions",e,n),this}deprecateOption(e,n){return he("<string> [string|boolean]",[e,n],arguments.length),N(this,Te,"f").deprecatedOptions[e]=n,this}describe(e,n){return he("<object|string|array> [string]",[e,n],arguments.length),this[Uh](e,!0),N(this,Le,"f").describe(e,n),this}detectLocale(e){return he("<boolean>",[e],arguments.length),ge(this,ca,e,"f"),this}env(e){return he("[string|boolean]",[e],arguments.length),e===!1?delete N(this,Te,"f").envPrefix:N(this,Te,"f").envPrefix=e||"",this}epilogue(e){return he("<string>",[e],arguments.length),N(this,Le,"f").epilog(e),this}epilog(e){return this.epilogue(e)}example(e,n){return he("<string|array> [string]",[e,n],arguments.length),Array.isArray(e)?e.forEach(r=>this.example(...r)):N(this,Le,"f").example(e,n),this}exit(e,n){ge(this,lr,!0,"f"),ge(this,Ss,n,"f"),N(this,Rr,"f")&&N(this,Ee,"f").process.exit(e)}exitProcess(e=!0){return he("[boolean]",[e],arguments.length),ge(this,Rr,e,"f"),this}fail(e){if(he("<function|boolean>",[e],arguments.length),typeof e=="boolean"&&e!==!1)throw new Qt("Invalid first argument. Expected function or boolean 'false'");return N(this,Le,"f").failFn(e),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(e,n){return he("<array> [function]",[e,n],arguments.length),n?N(this,xr,"f").getCompletion(e,n):new Promise((r,i)=>{N(this,xr,"f").getCompletion(e,(s,a)=>{s?i(s):r(a)})})}getDemandedOptions(){return he([],0),N(this,Te,"f").demandedOptions}getDemandedCommands(){return he([],0),N(this,Te,"f").demandedCommands}getDeprecatedOptions(){return he([],0),N(this,Te,"f").deprecatedOptions}getDetectLocale(){return N(this,ca,"f")}getExitProcess(){return N(this,Rr,"f")}getGroups(){return Object.assign({},N(this,Pi,"f"),N(this,pa,"f"))}getHelp(){if(ge(this,lr,!0,"f"),!N(this,Le,"f").hasCachedHelpMessage()){if(!this.parsed){let n=this[fu](N(this,As,"f"),void 0,void 0,0,!0);if(Wt(n))return n.then(()=>N(this,Le,"f").help())}let e=N(this,Ft,"f").runDefaultBuilderOn(this);if(Wt(e))return e.then(()=>N(this,Le,"f").help())}return Promise.resolve(N(this,Le,"f").help())}getOptions(){return N(this,Te,"f")}getStrict(){return N(this,da,"f")}getStrictCommands(){return N(this,ma,"f")}getStrictOptions(){return N(this,ha,"f")}global(e,n){return he("<string|array> [boolean]",[e,n],arguments.length),e=[].concat(e),n!==!1?N(this,Te,"f").local=N(this,Te,"f").local.filter(r=>e.indexOf(r)===-1):e.forEach(r=>{N(this,Te,"f").local.includes(r)||N(this,Te,"f").local.push(r)}),this}group(e,n){he("<string|array> <string>",[e,n],arguments.length);let r=N(this,pa,"f")[n]||N(this,Pi,"f")[n];N(this,pa,"f")[n]&&delete N(this,pa,"f")[n];let i={};return N(this,Pi,"f")[n]=(r||[]).concat(e).filter(s=>!i[s]&&(i[s]=!0)),this}hide(e){return he("<string>",[e],arguments.length),N(this,Te,"f").hiddenOptions.push(e),this}implies(e,n){return he("<string|object> [number|string|array]",[e,n],arguments.length),N(this,Et,"f").implies(e,n),this}locale(e){return he("[string]",[e],arguments.length),e?(ge(this,ca,!1,"f"),N(this,Ee,"f").y18n.setLocale(e),this):(this[Mh](),N(this,Ee,"f").y18n.getLocale())}middleware(e,n,r){return N(this,wr,"f").addMiddleware(e,!!n,r)}nargs(e,n){return he("<string|object|array> [number]",[e,n],arguments.length),this[qo](this.nargs.bind(this),"narg",e,n),this}normalize(e){return he("<array|string>",[e],arguments.length),this[Is]("normalize",e),this}number(e){return he("<array|string>",[e],arguments.length),this[Is]("number",e),this[ya](e),this}option(e,n){if(he("<string|object> [object]",[e,n],arguments.length),typeof e=="object")Object.keys(e).forEach(r=>{this.options(r,e[r])});else{typeof n!="object"&&(n={}),this[ya](e),!N(this,Di,"f")||e!=="version"&&(n==null?void 0:n.alias)!=="version"||this[VP](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),N(this,Te,"f").key[e]=!0,n.alias&&this.alias(e,n.alias);let r=n.deprecate||n.deprecated;r&&this.deprecateOption(e,r);let i=n.demand||n.required||n.require;i&&this.demand(e,i),n.demandOption&&this.demandOption(e,typeof n.demandOption=="string"?n.demandOption:void 0),n.conflicts&&this.conflicts(e,n.conflicts),"default"in n&&this.default(e,n.default),n.implies!==void 0&&this.implies(e,n.implies),n.nargs!==void 0&&this.nargs(e,n.nargs),n.config&&this.config(e,n.configParser),n.normalize&&this.normalize(e),n.choices&&this.choices(e,n.choices),n.coerce&&this.coerce(e,n.coerce),n.group&&this.group(e,n.group),(n.boolean||n.type==="boolean")&&(this.boolean(e),n.alias&&this.boolean(n.alias)),(n.array||n.type==="array")&&(this.array(e),n.alias&&this.array(n.alias)),(n.number||n.type==="number")&&(this.number(e),n.alias&&this.number(n.alias)),(n.string||n.type==="string")&&(this.string(e),n.alias&&this.string(n.alias)),(n.count||n.type==="count")&&this.count(e),typeof n.global=="boolean"&&this.global(e,n.global),n.defaultDescription&&(N(this,Te,"f").defaultDescription[e]=n.defaultDescription),n.skipValidation&&this.skipValidation(e);let s=n.describe||n.description||n.desc;this.describe(e,s),n.hidden&&this.hide(e),n.requiresArg&&this.requiresArg(e)}return this}options(e,n){return this.option(e,n)}parse(e,n,r){he("[string|array] [function|boolean|object] [function]",[e,n,r],arguments.length),this[qP](),e===void 0&&(e=N(this,As,"f")),typeof n=="object"&&(ge(this,fa,n,"f"),n=r),typeof n=="function"&&(ge(this,ur,n,"f"),n=!1),n||ge(this,As,e,"f"),N(this,ur,"f")&&ge(this,Rr,!1,"f");let i=this[fu](e,!!n),s=this.parsed;return N(this,xr,"f").setParsed(this.parsed),Wt(i)?i.then(a=>(N(this,ur,"f")&&N(this,ur,"f").call(this,N(this,Ss,"f"),a,N(this,on,"f")),a)).catch(a=>{throw N(this,ur,"f")&&N(this,ur,"f")(a,this.parsed.argv,N(this,on,"f")),a}).finally(()=>{this[Wh](),this.parsed=s}):(N(this,ur,"f")&&N(this,ur,"f").call(this,N(this,Ss,"f"),i,N(this,on,"f")),this[Wh](),this.parsed=s,i)}parseAsync(e,n,r){let i=this.parse(e,n,r);return Wt(i)?i:Promise.resolve(i)}parseSync(e,n,r){let i=this.parse(e,n,r);if(Wt(i))throw new Qt(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return i}parserConfiguration(e){return he("<object>",[e],arguments.length),ge(this,Yf,e,"f"),this}pkgConf(e,n){he("<string> [string]",[e,n],arguments.length);let r=null,i=this[Bh](n||N(this,ua,"f"));return i[e]&&typeof i[e]=="object"&&(r=Bf(i[e],n||N(this,ua,"f"),this[ga]()["deep-merge-config"]||!1,N(this,Ee,"f")),N(this,Te,"f").configObjects=(N(this,Te,"f").configObjects||[]).concat(r)),this}positional(e,n){he("<string> <object>",[e,n],arguments.length);let r=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];n=ko(n,(a,o)=>!(a==="type"&&!["string","number","boolean"].includes(o))&&r.includes(a));let i=N(this,cu,"f").fullCommands[N(this,cu,"f").fullCommands.length-1],s=i?N(this,Ft,"f").cmdToParseOptions(i):{array:[],alias:{},default:{},demand:{}};return Vf(s).forEach(a=>{let o=s[a];Array.isArray(o)?o.indexOf(e)!==-1&&(n[a]=!0):o[e]&&!(a in n)&&(n[a]=o[e])}),this.group(e,N(this,Le,"f").getPositionalGroupName()),this.option(e,n)}recommendCommands(e=!0){return he("[boolean]",[e],arguments.length),ge(this,Hf,e,"f"),this}required(e,n,r){return this.demand(e,n,r)}require(e,n,r){return this.demand(e,n,r)}requiresArg(e){return he("<array|string|object> [number]",[e],arguments.length),typeof e=="string"&&N(this,Te,"f").narg[e]||this[qo](this.requiresArg.bind(this),"narg",e,NaN),this}showCompletionScript(e,n){return he("[string] [string]",[e,n],arguments.length),e=e||this.$0,N(this,Bo,"f").log(N(this,xr,"f").generateCompletionScript(e,n||N(this,or,"f")||"completion")),this}showHelp(e){if(he("[string|function]",[e],arguments.length),ge(this,lr,!0,"f"),!N(this,Le,"f").hasCachedHelpMessage()){if(!this.parsed){let r=this[fu](N(this,As,"f"),void 0,void 0,0,!0);if(Wt(r))return r.then(()=>{N(this,Le,"f").showHelp(e)}),this}let n=N(this,Ft,"f").runDefaultBuilderOn(this);if(Wt(n))return n.then(()=>{N(this,Le,"f").showHelp(e)}),this}return N(this,Le,"f").showHelp(e),this}scriptName(e){return this.customScriptName=!0,this.$0=e,this}showHelpOnFail(e,n){return he("[boolean|string] [string]",[e,n],arguments.length),N(this,Le,"f").showHelpOnFail(e,n),this}showVersion(e){return he("[string|function]",[e],arguments.length),N(this,Le,"f").showVersion(e),this}skipValidation(e){return he("<array|string>",[e],arguments.length),this[Is]("skipValidation",e),this}strict(e){return he("[boolean]",[e],arguments.length),ge(this,da,e!==!1,"f"),this}strictCommands(e){return he("[boolean]",[e],arguments.length),ge(this,ma,e!==!1,"f"),this}strictOptions(e){return he("[boolean]",[e],arguments.length),ge(this,ha,e!==!1,"f"),this}string(e){return he("<array|string>",[e],arguments.length),this[Is]("string",e),this[ya](e),this}terminalWidth(){return he([],0),N(this,Ee,"f").process.stdColumns}updateLocale(e){return this.updateStrings(e)}updateStrings(e){return he("<object>",[e],arguments.length),ge(this,ca,!1,"f"),N(this,Ee,"f").y18n.updateLocale(e),this}usage(e,n,r,i){if(he("<string|null|undefined> [string|boolean] [function|object] [function]",[e,n,r,i],arguments.length),n!==void 0){if(li(e,null,N(this,Ee,"f")),(e||"").match(/^\$0( |$)/))return this.command(e,n,r,i);throw new Qt(".usage() description must start with $0 if being used as alias for .command()")}return N(this,Le,"f").usage(e),this}version(e,n,r){let i="version";if(he("[boolean|string] [string] [string]",[e,n,r],arguments.length),N(this,Di,"f")&&(this[kh](N(this,Di,"f")),N(this,Le,"f").version(void 0),ge(this,Di,null,"f")),arguments.length===0)r=this[UP](),e=i;else if(arguments.length===1){if(e===!1)return this;r=e,e=i}else arguments.length===2&&(r=n,n=void 0);return ge(this,Di,typeof e=="string"?e:i,"f"),n=n||N(this,Le,"f").deferY18nLookup("Show version number"),N(this,Le,"f").version(r||void 0),this.boolean(N(this,Di,"f")),this.describe(N(this,Di,"f"),n),this}wrap(e){return he("<number|null|undefined>",[e],arguments.length),N(this,Le,"f").wrap(e),this}[(Ft=new WeakMap,ua=new WeakMap,cu=new WeakMap,xr=new WeakMap,or=new WeakMap,jf=new WeakMap,Ss=new WeakMap,ca=new WeakMap,Uf=new WeakMap,Rr=new WeakMap,Wf=new WeakMap,wr=new WeakMap,Pi=new WeakMap,lr=new WeakMap,Or=new WeakMap,Bo=new WeakMap,on=new WeakMap,Te=new WeakMap,Gf=new WeakMap,Yf=new WeakMap,ur=new WeakMap,fa=new WeakMap,Vo=new WeakMap,pa=new WeakMap,As=new WeakMap,Hf=new WeakMap,Ee=new WeakMap,da=new WeakMap,ma=new WeakMap,ha=new WeakMap,Le=new WeakMap,Di=new WeakMap,Et=new WeakMap,MP)](e){if(!e._||!e["--"])return e;e._.push.apply(e._,e["--"]);try{delete e["--"]}catch{}return e}[BP](){return{log:(...e)=>{this[$f]()||console.log(...e),ge(this,lr,!0,"f"),N(this,on,"f").length&&ge(this,on,N(this,on,"f")+`
`,"f"),ge(this,on,N(this,on,"f")+e.join(" "),"f")},error:(...e)=>{this[$f]()||console.error(...e),ge(this,lr,!0,"f"),N(this,on,"f").length&&ge(this,on,N(this,on,"f")+`
`,"f"),ge(this,on,N(this,on,"f")+e.join(" "),"f")}}}[kh](e){Vf(N(this,Te,"f")).forEach(n=>{if(n==="configObjects")return;let r=N(this,Te,"f")[n];Array.isArray(r)?r.includes(e)&&r.splice(r.indexOf(e),1):typeof r=="object"&&delete r[e]}),delete N(this,Le,"f").getDescriptions()[e]}[VP](e,n,r){N(this,Uf,"f")[r]||(N(this,Ee,"f").process.emitWarning(e,n),N(this,Uf,"f")[r]=!0)}[qP](){N(this,Wf,"f").push({options:N(this,Te,"f"),configObjects:N(this,Te,"f").configObjects.slice(0),exitProcess:N(this,Rr,"f"),groups:N(this,Pi,"f"),strict:N(this,da,"f"),strictCommands:N(this,ma,"f"),strictOptions:N(this,ha,"f"),completionCommand:N(this,or,"f"),output:N(this,on,"f"),exitError:N(this,Ss,"f"),hasOutput:N(this,lr,"f"),parsed:this.parsed,parseFn:N(this,ur,"f"),parseContext:N(this,fa,"f")}),N(this,Le,"f").freeze(),N(this,Et,"f").freeze(),N(this,Ft,"f").freeze(),N(this,wr,"f").freeze()}[jP](){let e,n="";return e=/\b(node|iojs|electron)(\.exe)?$/.test(N(this,Ee,"f").process.argv()[0])?N(this,Ee,"f").process.argv().slice(1,2):N(this,Ee,"f").process.argv().slice(0,1),n=e.map(r=>{let i=this[JP](N(this,ua,"f"),r);return r.match(/^(\/|([a-zA-Z]:)?\\)/)&&i.length<r.length?i:r}).join(" ").trim(),N(this,Ee,"f").getEnv("_")&&N(this,Ee,"f").getProcessArgvBin()===N(this,Ee,"f").getEnv("_")&&(n=N(this,Ee,"f").getEnv("_").replace(`${N(this,Ee,"f").path.dirname(N(this,Ee,"f").process.execPath())}/`,"")),n}[ga](){return N(this,Yf,"f")}[Mh](){if(!N(this,ca,"f"))return;let e=N(this,Ee,"f").getEnv("LC_ALL")||N(this,Ee,"f").getEnv("LC_MESSAGES")||N(this,Ee,"f").getEnv("LANG")||N(this,Ee,"f").getEnv("LANGUAGE")||"en_US";this.locale(e.replace(/[.:].*/,""))}[UP](){return this[Bh]().version||"unknown"}[WP](e){let n=e["--"]?e["--"]:e._;for(let r,i=0;(r=n[i])!==void 0;i++)N(this,Ee,"f").Parser.looksLikeNumber(r)&&Number.isSafeInteger(Math.floor(parseFloat(`${r}`)))&&(n[i]=Number(r));return e}[Bh](e){let n=e||"*";if(N(this,Vo,"f")[n])return N(this,Vo,"f")[n];let r={};try{let i=e||N(this,Ee,"f").mainFilename;!e&&N(this,Ee,"f").path.extname(i)&&(i=N(this,Ee,"f").path.dirname(i));let s=N(this,Ee,"f").findUp(i,(a,o)=>o.includes("package.json")?"package.json":void 0);li(s,void 0,N(this,Ee,"f")),r=JSON.parse(N(this,Ee,"f").readFileSync(s,"utf8"))}catch{}return N(this,Vo,"f")[n]=r||{},N(this,Vo,"f")[n]}[Is](e,n){(n=[].concat(n)).forEach(r=>{r=this[jh](r),N(this,Te,"f")[e].push(r)})}[qo](e,n,r,i){this[qh](e,n,r,i,(s,a,o)=>{N(this,Te,"f")[s][a]=o})}[Vh](e,n,r,i){this[qh](e,n,r,i,(s,a,o)=>{N(this,Te,"f")[s][a]=(N(this,Te,"f")[s][a]||[]).concat(o)})}[qh](e,n,r,i,s){if(Array.isArray(r))r.forEach(a=>{e(a,i)});else if((a=>typeof a=="object")(r))for(let a of Vf(r))e(a,r[a]);else s(n,this[jh](r),i)}[jh](e){return e==="__proto__"?"___proto___":e}[Uh](e,n){return this[qo](this[Uh].bind(this),"key",e,n),this}[Wh](){var e,n,r,i,s,a,o,l,u,c,f,d;let _=N(this,Wf,"f").pop(),p;li(_,void 0,N(this,Ee,"f")),e=this,n=this,r=this,i=this,s=this,a=this,o=this,l=this,u=this,c=this,f=this,d=this,{options:{set value(m){ge(e,Te,m,"f")}}.value,configObjects:p,exitProcess:{set value(m){ge(n,Rr,m,"f")}}.value,groups:{set value(m){ge(r,Pi,m,"f")}}.value,output:{set value(m){ge(i,on,m,"f")}}.value,exitError:{set value(m){ge(s,Ss,m,"f")}}.value,hasOutput:{set value(m){ge(a,lr,m,"f")}}.value,parsed:this.parsed,strict:{set value(m){ge(o,da,m,"f")}}.value,strictCommands:{set value(m){ge(l,ma,m,"f")}}.value,strictOptions:{set value(m){ge(u,ha,m,"f")}}.value,completionCommand:{set value(m){ge(c,or,m,"f")}}.value,parseFn:{set value(m){ge(f,ur,m,"f")}}.value,parseContext:{set value(m){ge(d,fa,m,"f")}}.value}=_,N(this,Te,"f").configObjects=p,N(this,Le,"f").unfreeze(),N(this,Et,"f").unfreeze(),N(this,Ft,"f").unfreeze(),N(this,wr,"f").unfreeze()}[GP](e,n){return lu(n,r=>(e(r),r))}getInternalMethods(){return{getCommandInstance:this[YP].bind(this),getContext:this[HP].bind(this),getHasOutput:this[$P].bind(this),getLoggerInstance:this[KP].bind(this),getParseContext:this[zP].bind(this),getParserConfiguration:this[ga].bind(this),getUsageInstance:this[XP].bind(this),getValidationInstance:this[QP].bind(this),hasParseCallback:this[$f].bind(this),postProcess:this[_a].bind(this),reset:this[Gh].bind(this),runValidation:this[Yh].bind(this),runYargsParserAndExecuteCommands:this[fu].bind(this),setHasOutput:this[ZP].bind(this)}}[YP](){return N(this,Ft,"f")}[HP](){return N(this,cu,"f")}[$P](){return N(this,lr,"f")}[KP](){return N(this,Bo,"f")}[zP](){return N(this,fa,"f")||{}}[XP](){return N(this,Le,"f")}[QP](){return N(this,Et,"f")}[$f](){return!!N(this,ur,"f")}[_a](e,n,r,i){return r||Wt(e)?e:(n||(e=this[MP](e)),(this[ga]()["parse-positional-numbers"]||this[ga]()["parse-positional-numbers"]===void 0)&&(e=this[WP](e)),i&&(e=ou(e,this,N(this,wr,"f").getMiddleware(),!1)),e)}[Gh](e={}){ge(this,Te,N(this,Te,"f")||{},"f");let n={};n.local=N(this,Te,"f").local||[],n.configObjects=N(this,Te,"f").configObjects||[];let r={};return n.local.forEach(i=>{r[i]=!0,(e[i]||[]).forEach(s=>{r[s]=!0})}),Object.assign(N(this,pa,"f"),Object.keys(N(this,Pi,"f")).reduce((i,s)=>{let a=N(this,Pi,"f")[s].filter(o=>!(o in r));return a.length>0&&(i[s]=a),i},{})),ge(this,Pi,{},"f"),["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"].forEach(i=>{n[i]=(N(this,Te,"f")[i]||[]).filter(s=>!r[s])}),["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"].forEach(i=>{n[i]=ko(N(this,Te,"f")[i],s=>!r[s])}),n.envPrefix=N(this,Te,"f").envPrefix,ge(this,Te,n,"f"),ge(this,Le,N(this,Le,"f")?N(this,Le,"f").reset(r):sM(this,N(this,Ee,"f")),"f"),ge(this,Et,N(this,Et,"f")?N(this,Et,"f").reset(r):function(i,s,a){let o=a.y18n.__,l=a.y18n.__n,u={nonOptionCount:function(p){let m=i.getDemandedCommands(),g=p._.length+(p["--"]?p["--"].length:0)-i.getInternalMethods().getContext().commands.length;m._&&(g<m._.min||g>m._.max)&&(g<m._.min?m._.minMsg!==void 0?s.fail(m._.minMsg?m._.minMsg.replace(/\$0/g,g.toString()).replace(/\$1/,m._.min.toString()):null):s.fail(l("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",g,g.toString(),m._.min.toString())):g>m._.max&&(m._.maxMsg!==void 0?s.fail(m._.maxMsg?m._.maxMsg.replace(/\$0/g,g.toString()).replace(/\$1/,m._.max.toString()):null):s.fail(l("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",g,g.toString(),m._.max.toString()))))},positionalCount:function(p,m){m<p&&s.fail(l("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",m,m+"",p+""))},requiredArguments:function(p,m){let g=null;for(let h of Object.keys(m))Object.prototype.hasOwnProperty.call(p,h)&&p[h]!==void 0||(g=g||{},g[h]=m[h]);if(g){let h=[];for(let y of Object.keys(g)){let x=g[y];x&&h.indexOf(x)<0&&h.push(x)}let b=h.length?`
${h.join(`
`)}`:"";s.fail(l("Missing required argument: %s","Missing required arguments: %s",Object.keys(g).length,Object.keys(g).join(", ")+b))}},unknownArguments:function(p,m,g,h,b=!0){var y;let x=i.getInternalMethods().getCommandInstance().getCommands(),D=[],G=i.getInternalMethods().getContext();if(Object.keys(p).forEach(q=>{kP.includes(q)||Object.prototype.hasOwnProperty.call(g,q)||Object.prototype.hasOwnProperty.call(i.getInternalMethods().getParseContext(),q)||u.isValidAndSomeAliasIsNotNew(q,m)||D.push(q)}),b&&(G.commands.length>0||x.length>0||h)&&p._.slice(G.commands.length).forEach(q=>{x.includes(""+q)||D.push(""+q)}),b){let q=((y=i.getDemandedCommands()._)===null||y===void 0?void 0:y.max)||0,C=G.commands.length+q;C<p._.length&&p._.slice(C).forEach(U=>{U=String(U),G.commands.includes(U)||D.includes(U)||D.push(U)})}D.length&&s.fail(l("Unknown argument: %s","Unknown arguments: %s",D.length,D.join(", ")))},unknownCommands:function(p){let m=i.getInternalMethods().getCommandInstance().getCommands(),g=[],h=i.getInternalMethods().getContext();return(h.commands.length>0||m.length>0)&&p._.slice(h.commands.length).forEach(b=>{m.includes(""+b)||g.push(""+b)}),g.length>0&&(s.fail(l("Unknown command: %s","Unknown commands: %s",g.length,g.join(", "))),!0)},isValidAndSomeAliasIsNotNew:function(p,m){if(!Object.prototype.hasOwnProperty.call(m,p))return!1;let g=i.parsed.newAliases;return[p,...m[p]].some(h=>!Object.prototype.hasOwnProperty.call(g,h)||!g[p])},limitedChoices:function(p){let m=i.getOptions(),g={};if(!Object.keys(m.choices).length)return;Object.keys(p).forEach(y=>{kP.indexOf(y)===-1&&Object.prototype.hasOwnProperty.call(m.choices,y)&&[].concat(p[y]).forEach(x=>{m.choices[y].indexOf(x)===-1&&x!==void 0&&(g[y]=(g[y]||[]).concat(x))})});let h=Object.keys(g);if(!h.length)return;let b=o("Invalid values:");h.forEach(y=>{b+=`
  ${o("Argument: %s, Given: %s, Choices: %s",y,s.stringifiedValues(g[y]),s.stringifiedValues(m.choices[y]))}`}),s.fail(b)}},c={};function f(p,m){let g=Number(m);return typeof(m=isNaN(g)?m:g)=="number"?m=p._.length>=m:m.match(/^--no-.+/)?(m=m.match(/^--no-(.+)/)[1],m=!Object.prototype.hasOwnProperty.call(p,m)):m=Object.prototype.hasOwnProperty.call(p,m),m}u.implies=function(p,m){he("<string|object> [array|number|string]",[p,m],arguments.length),typeof p=="object"?Object.keys(p).forEach(g=>{u.implies(g,p[g])}):(i.global(p),c[p]||(c[p]=[]),Array.isArray(m)?m.forEach(g=>u.implies(p,g)):(li(m,void 0,a),c[p].push(m)))},u.getImplied=function(){return c},u.implications=function(p){let m=[];if(Object.keys(c).forEach(g=>{let h=g;(c[g]||[]).forEach(b=>{let y=h,x=b;y=f(p,y),b=f(p,b),y&&!b&&m.push(` ${h} -> ${x}`)})}),m.length){let g=`${o("Implications failed:")}
`;m.forEach(h=>{g+=h}),s.fail(g)}};let d={};u.conflicts=function(p,m){he("<string|object> [array|string]",[p,m],arguments.length),typeof p=="object"?Object.keys(p).forEach(g=>{u.conflicts(g,p[g])}):(i.global(p),d[p]||(d[p]=[]),Array.isArray(m)?m.forEach(g=>u.conflicts(p,g)):d[p].push(m))},u.getConflicting=()=>d,u.conflicting=function(p){Object.keys(p).forEach(m=>{d[m]&&d[m].forEach(g=>{g&&p[m]!==void 0&&p[g]!==void 0&&s.fail(o("Arguments %s and %s are mutually exclusive",m,g))})}),i.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(d).forEach(m=>{d[m].forEach(g=>{g&&p[a.Parser.camelCase(m)]!==void 0&&p[a.Parser.camelCase(g)]!==void 0&&s.fail(o("Arguments %s and %s are mutually exclusive",m,g))})})},u.recommendCommands=function(p,m){m=m.sort((b,y)=>y.length-b.length);let g=null,h=1/0;for(let b,y=0;(b=m[y])!==void 0;y++){let x=aM(p,b);x<=3&&x<h&&(h=x,g=b)}g&&s.fail(o("Did you mean %s?",g))},u.reset=function(p){return c=ko(c,m=>!p[m]),d=ko(d,m=>!p[m]),u};let _=[];return u.freeze=function(){_.push({implied:c,conflicting:d})},u.unfreeze=function(){let p=_.pop();li(p,void 0,a),{implied:c,conflicting:d}=p},u}(this,N(this,Le,"f"),N(this,Ee,"f")),"f"),ge(this,Ft,N(this,Ft,"f")?N(this,Ft,"f").reset():function(i,s,a,o){return new wP(i,s,a,o)}(N(this,Le,"f"),N(this,Et,"f"),N(this,wr,"f"),N(this,Ee,"f")),"f"),N(this,xr,"f")||ge(this,xr,function(i,s,a,o){return new LP(i,s,a,o)}(this,N(this,Le,"f"),N(this,Ft,"f"),N(this,Ee,"f")),"f"),N(this,wr,"f").reset(),ge(this,or,null,"f"),ge(this,on,"","f"),ge(this,Ss,null,"f"),ge(this,lr,!1,"f"),this.parsed=!1,this}[JP](e,n){return N(this,Ee,"f").path.relative(e,n)}[fu](e,n,r,i=0,s=!1){let a=!!r||s;e=e||N(this,As,"f"),N(this,Te,"f").__=N(this,Ee,"f").y18n.__,N(this,Te,"f").configuration=this[ga]();let o=!!N(this,Te,"f").configuration["populate--"],l=Object.assign({},N(this,Te,"f").configuration,{"populate--":!0}),u=N(this,Ee,"f").Parser.detailed(e,Object.assign({},N(this,Te,"f"),{configuration:{"parse-positional-numbers":!1,...l}})),c=Object.assign(u.argv,N(this,fa,"f")),f,d=u.aliases,_=!1,p=!1;Object.keys(c).forEach(m=>{m===N(this,Or,"f")&&c[m]?_=!0:m===N(this,Di,"f")&&c[m]&&(p=!0)}),c.$0=this.$0,this.parsed=u,i===0&&N(this,Le,"f").clearCachedHelpMessage();try{if(this[Mh](),n)return this[_a](c,o,!!r,!1);N(this,Or,"f")&&[N(this,Or,"f")].concat(d[N(this,Or,"f")]||[]).filter(b=>b.length>1).includes(""+c._[c._.length-1])&&(c._.pop(),_=!0);let m=N(this,Ft,"f").getCommands(),g=N(this,xr,"f").completionKey in c,h=_||g||s;if(c._.length){if(m.length){let b;for(let y,x=i||0;c._[x]!==void 0;x++){if(y=String(c._[x]),m.includes(y)&&y!==N(this,or,"f")){let D=N(this,Ft,"f").runCommand(y,this,u,x+1,s,_||p||s);return this[_a](D,o,!!r,!1)}if(!b&&y!==N(this,or,"f")){b=y;break}}!N(this,Ft,"f").hasDefaultCommand()&&N(this,Hf,"f")&&b&&!h&&N(this,Et,"f").recommendCommands(b,m)}N(this,or,"f")&&c._.includes(N(this,or,"f"))&&!g&&(N(this,Rr,"f")&&uu(!0),this.showCompletionScript(),this.exit(0))}if(N(this,Ft,"f").hasDefaultCommand()&&!h){let b=N(this,Ft,"f").runCommand(null,this,u,0,s,_||p||s);return this[_a](b,o,!!r,!1)}if(g){N(this,Rr,"f")&&uu(!0);let b=(e=[].concat(e)).slice(e.indexOf(`--${N(this,xr,"f").completionKey}`)+1);return N(this,xr,"f").getCompletion(b,(y,x)=>{if(y)throw new Qt(y.message);(x||[]).forEach(D=>{N(this,Bo,"f").log(D)}),this.exit(0)}),this[_a](c,!o,!!r,!1)}if(N(this,lr,"f")||(_?(N(this,Rr,"f")&&uu(!0),a=!0,this.showHelp("log"),this.exit(0)):p&&(N(this,Rr,"f")&&uu(!0),a=!0,N(this,Le,"f").showVersion("log"),this.exit(0))),!a&&N(this,Te,"f").skipValidation.length>0&&(a=Object.keys(c).some(b=>N(this,Te,"f").skipValidation.indexOf(b)>=0&&c[b]===!0)),!a){if(u.error)throw new Qt(u.error.message);if(!g){let b=this[Yh](d,{},u.error);r||(f=ou(c,this,N(this,wr,"f").getMiddleware(),!0)),f=this[GP](b,f??c),Wt(f)&&!r&&(f=f.then(()=>ou(c,this,N(this,wr,"f").getMiddleware(),!1)))}}}catch(m){if(!(m instanceof Qt))throw m;N(this,Le,"f").fail(m.message,m)}return this[_a](f??c,o,!!r,!0)}[Yh](e,n,r,i){let s={...this.getDemandedOptions()};return a=>{if(r)throw new Qt(r.message);N(this,Et,"f").nonOptionCount(a),N(this,Et,"f").requiredArguments(a,s);let o=!1;N(this,ma,"f")&&(o=N(this,Et,"f").unknownCommands(a)),N(this,da,"f")&&!o?N(this,Et,"f").unknownArguments(a,e,n,!!i):N(this,ha,"f")&&N(this,Et,"f").unknownArguments(a,e,{},!1,!1),N(this,Et,"f").limitedChoices(a),N(this,Et,"f").implications(a),N(this,Et,"f").conflicting(a)}}[ZP](){ge(this,lr,!0,"f")}[ya](e){if(typeof e=="string")N(this,Te,"f").key[e]=!0;else for(let n of e)N(this,Te,"f").key[n]=!0}},Hh,$h,{readFileSync:oM}=require("fs"),{inspect:lM}=require("util"),{resolve:uM}=require("path"),cM=AC(),fM=Nh(),Kh,tD={assert:{notStrictEqual:PP.notStrictEqual,strictEqual:PP.strictEqual},cliui:dP(),findUp:_P(),getEnv:t=>process.env[t],getCallerFile:bP(),getProcessArgvBin:xP,inspect:lM,mainFilename:($h=(Hh=require==null?void 0:require.main)===null||Hh===void 0?void 0:Hh.filename)!==null&&$h!==void 0?$h:process.cwd(),Parser:fM,path:require("path"),process:{argv:()=>process.argv,cwd:process.cwd,emitWarning:(t,e)=>process.emitWarning(t,e),execPath:()=>process.execPath,exit:t=>{process.exit(t)},nextTick:process.nextTick,stdColumns:process.stdout.columns!==void 0?process.stdout.columns:null},readFileSync:oM,require,requireDirectory:CP(),stringWidth:wf(),y18n:cM({directory:uM(__dirname,"../locales"),updateFiles:!1})},nD=((Kh=process==null?void 0:process.env)===null||Kh===void 0?void 0:Kh.YARGS_MIN_NODE_VERSION)?Number(process.env.YARGS_MIN_NODE_VERSION):12;if(process&&process.version&&Number(process.version.match(/v([^.]+)/)[1])<nD)throw Error(`yargs supports a minimum Node.js version of ${nD}. Read our version support policy: https://github.com/yargs/yargs#supported-nodejs-versions`);var pM=Nh(),zh,dM={applyExtends:Bf,cjsPlatformShim:tD,Yargs:(zh=tD,(t=[],e=zh.process.cwd(),n)=>{let r=new eD(t,e,n,zh);return Object.defineProperty(r,"argv",{get:()=>r.parse(),enumerable:!0}),r.help(),r.version(),r}),argsert:he,isPromise:Wt,objFilter:ko,parseCommand:Lo,Parser:pM,processArgv:rM,YError:Qt};rD.exports=dM});var aD=X((dte,sD)=>{"use strict";var{Yargs:mM,processArgv:hM}=iD();jo(hM.hideBin(process.argv));sD.exports=jo;function jo(t,e){let n=mM(t,e,require);return _M(n),n}function Xh(t,e,n){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:n})}function gM(t,e){let n=Object.getOwnPropertyDescriptor(t,e);if(typeof n!="undefined")return n.get}function _M(t){[...Object.keys(t),...Object.getOwnPropertyNames(t.constructor.prototype)].forEach(e=>{e==="argv"?Xh(jo,e,gM(t,e)):typeof t[e]=="function"?jo[e]=t[e].bind(t):(Xh(jo,"$0",()=>t.$0),Xh(jo,"parsed",()=>t.parsed))})}});var nt=je(require("fs"));var Es=class{constructor(){this.currentStructure=null;this.isReloading=!1;this.isDirtyState=!0;this.structuredProject=null}setStructuredProject(e){this.structuredProject=e}hasStructuredBlueprints(){return this.structuredProject!=null}getAllStructuredBlueprints(){return this.structuredProject==null?[]:this.structuredProject.assets.concat(this.structuredProject.collections).concat(this.structuredProject.forms).concat(this.structuredProject.general).concat(this.structuredProject.navigations).concat(this.structuredProject.taxonomies)}getStructuredProject(){return this.structuredProject}setActiveProject(e){this.currentStructure=e}getStructure(){return this.currentStructure}hasStructure(){return this.currentStructure!=null}setDirtyState(e){this.isDirtyState=e}reloadDetails(){this.isReloading||this.isDirtyState!=!1&&this.currentStructure!=null&&(this.isReloading=!0,this.currentStructure=this.currentStructure.reloadDetails(),this.isReloading=!1,this.isDirtyState=!1)}};Es.instance=null;(typeof Es.instance=="undefined"||Es.instance==null)&&(Es.instance=new Es);var cr=Es;var ci=class{static registerDetails(e,n){this.documentDetails.set(e,n)}static hasDetails(e){return this.documentDetails.has(e)}};ci.documentDetails=new Map;var bD={documentDescription:"",documentName:"",collectionInjections:[],blueprints:[],variableHelper:null,injectsParameters:[],varReferenceNames:new Map,formatterEnabled:!0},eg="@name",tg="@description",ng="@desc",rg="@entry",ig="@collection",sg="@blueprint",ag="@var",og="@set",lg="@param",ug="@param*",TD="@front",cg="@format";function Go(t,e){if(e==null||e.isComment==!1)return bD;let n=e.content.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`).map(p=>p.trim()),r=[],i=new Map,s="",a="",o=[],l=[],u="",c=null,f=!1,d=!0;for(let p=0;p<n.length;p++){let m=n[p];if(m.startsWith(rg))o=o.concat(m.slice(rg.length).split(",").map(g=>g.trim())),f=!1;else if(m.startsWith(ig))o=o.concat(m.slice(ig.length).split(",").map(g=>g.trim())),f=!1;else if(m.startsWith(sg))l=l.concat(m.slice(sg.length).split(",").map(g=>g.trim())),f=!1;else if(m.startsWith(eg))s=m.slice(eg.length).trim(),f=!1;else if(m.startsWith(tg))a=m.slice(tg.length).trim(),f=!0;else if(m.startsWith(ng))a=m.slice(ng.length).trim(),f=!0;else if(m.startsWith(ag))u=m.slice(ag.length).trim(),f=!1;else if(m.startsWith(og))u="@page "+m.slice(og.length).trim(),f=!1;else if(m.startsWith(lg)){let g=lg.length,h=!1;m.startsWith(ug)&&(g=ug.length,h=!0);let y=m.slice(g).trim().split(" ");if(y.length>0)if(y[0]==TD&&y.length>=4){y.shift();let x=y.shift(),D=y.shift(),G=y.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:G,expectsTypes:["*"],isDynamic:!0,isRequired:h,name:D}),i.set(D,x)}else{let x=y.shift(),D=y.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:D,expectsTypes:["*"],isDynamic:!0,isRequired:h,name:x})}}else m.startsWith(cg)?m.slice(cg.length).trim().toLowerCase()=="true"?d=!0:d=!1:f&&(a+=`
`+m.trim())}if(u.length>0){let p=u.split(" ");if(p.length==2){let m=p[0],g=p[1];if(g.includes(".")){let h=g.split(".");if(h.length==2){let b=h[0],y=h[1];c={variableName:m,collectionName:b,fieldHandle:y,setHandle:""}}else if(h.length==3){let b=h[0],y=h[1],x=h[2];c={variableName:m,collectionName:b,fieldHandle:y,setHandle:x}}}else c={variableName:m,setHandle:"",collectionName:"",fieldHandle:g}}}if(t.trim().length>0&&cr.instance!=null&&cr.instance.hasStructure()){let p=cr.instance.getStructure().findView(t);p!=null&&(p.injectsParameters=r,p.varReferenceNames=i)}let _={documentName:s,documentDescription:a,collectionInjections:o,blueprints:l,variableHelper:c,injectsParameters:r,varReferenceNames:i,formatterEnabled:d};return t.trim().length>0&&e.startPosition!=null&&(e.startPosition.line<=1||e.index<=1)&&ci.registerDetails(t,_),_}var vD=["markdown","text","textarea","slug","button_group","code","color","date","form","link","structures","select","taxonomies","terms","template","time","video","users","user_groups","user_roles"],ND=["array","assets","bard","blueprints","collections","entries","list","grid","replicator","structures_multiple","sites","select_multiple","form_multiple","table","tags","terms_multiple","taxonomies_multiple","users_multiple","checkboxes","select_multiple","yaml","user_groups_multiple","user_roles_multiple"],CD=["integer","range"],PD=["toggle"];function hu(t){return vD.includes(t)?"string":ND.includes(t)?"array":CD.includes(t)?"number":PD.includes(t)?"boolean":t}var xs=class{constructor(){this.partialReferences=new Map;this.cacheReferences=new Map;this.removesPageScope=new Map}clearAllReferences(e){this.clearPartialReferences(e),this.clearCacheReferences(e)}registerPartialReferences(e,n){this.partialReferences.has(e)==!1&&this.partialReferences.set(e,[]),this.partialReferences.set(e,n)}registerCacheReferences(e,n){this.cacheReferences.has(e)==!1&&this.cacheReferences.set(e,[]),this.cacheReferences.set(e,n)}clearPartialReferences(e){this.partialReferences.has(e)&&this.partialReferences.set(e,[])}clearRemovesPageScope(e){this.removesPageScope.has(e)&&this.removesPageScope.delete(e)}pageScopeDisabled(e){return this.removesPageScope.has(e)}clearCacheReferences(e){this.cacheReferences.has(e)&&this.cacheReferences.set(e,[])}setRemovesPageScope(e,n){this.removesPageScope.set(e,n)}getPartialReferences(e){return this.partialReferences.has(e)==!1?[]:this.partialReferences.get(e)}getCacheReferencnes(e){return this.cacheReferences.has(e)==!1?[]:this.cacheReferences.get(e)}hasPartialReferences(e){return this.partialReferences.has(e)}hasCacheReferences(e){return this.cacheReferences.has(e)}};xs.instance=null;(typeof xs.instance=="undefined"||xs.instance==null)&&(xs.instance=new xs);var fg=xs;var Ln=class{constructor(){this.index=-1;this.offset=0;this.line=0;this.char=0}shiftRight(e){let n=new Ln;return n.offset=this.offset+e,n.index=this.index+e,n.line=this.line,n.char=this.char+e,n}isBefore(e){return e==null?!1:e.line>this.line||e.line==this.line&&this.offset<e.offset}isWithin(e,n,r=0){return e==null||n==null?!1:this.index>=e.index&&this.index<=n.index+r}isWithinRange(e){return e==null?!1:e.start!=null&&e.end!=null?this.isWithin(e.start,e.end):!1}};var Qf=class{constructor(){this.start=null;this.end=null}},Yo=Qf;Yo.Empty=new Qf;function pg(t,e){let n=e.copy(),r=e.copy();return r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"group",introducedBy:t}),r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"key",introducedBy:t}),r.addScopeList("items",n),e.addScopeList("groups",r),e}function dg(t,e){let n=e.copy();return e.addScopeList("items",n),e}var mg=[{name:"key_by",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Re-keys the array or collection using the provided field name.",docLink:null,parameters:[{name:"field",description:"The field to re-key the array or collection by."}],canBeParameter:!0,isDeprecated:!1},{name:"as",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Alias the array variable with a key.",docLink:"https://statamic.dev/modifiers/as",parameters:[{name:"alias",description:"The alias name."}],canBeParameter:!0,isDeprecated:!1},{name:"ampersand_list",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Converts the array into a comma delimited string, with an ampersand before the last item.",docLink:"https://statamic.dev/modifiers/ampersand_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"collapse",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Collapses an array of arrays into a single, flat, array.",docLink:"https://statamic.dev/modifiers/collapse",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"contains",acceptsType:["array","string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the value contains another value.",docLink:"https://statamic.dev/modifiers/contains",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1,isDeprecated:!1},{name:"count",acceptsType:["array"],returnsType:["number"],forFieldType:[],description:"Returns the number of items in the array.",docLink:"https://statamic.dev/modifiers/count",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"dl",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns an associative array into an HTML definition list.",docLink:"https://statamic.dev/modifiers/dl",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],forFieldType:[],description:"Breaks a string into an array on a given delimiter.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The delimiter to break the string apart on."}],canBeParameter:!0,isDeprecated:!1},{name:"flatten",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Flattens a multi-dimensional array.",docLink:"https://statamic.dev/modifiers/flatten",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"flip",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Swaps the array keys with their values.",docLink:"https://statamic.dev/modifiers/flip",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"group_by",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Groups the array items by the given key.",docLink:"https://statamic.dev/modifiers/group_by",parameters:[{name:"key",description:"The key to group by."}],canBeParameter:!0,augmentScope:pg,isDeprecated:!1},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],forFieldType:[],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1,isDeprecated:!1},{name:"is_empty",acceptsType:["array"],returnsType:["boolean"],forFieldType:[],description:"Tests if the array is empty.",docLink:"https://statamic.dev/modifiers/is_empty",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"join",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turn an array into a string by gluing together all the data.",docLink:"https://statamic.dev/modifiers/join",parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0,isDeprecated:!1},{name:"joinplode",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turn an array into a string by gluing together all the data.",docLink:null,parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0,isDeprecated:!1},{name:"limit",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Limits the number of items returned in the array",docLink:"https://statamic.dev/modifiers/limit",parameters:[{name:"count",description:"The maximum number of items to return."}],canBeParameter:!0,isDeprecated:!1},{name:"list",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Converts the array into a comma-separated string.",docLink:"https://statamic.dev/modifiers/list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"offset",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Offsets the items returned in the array.",docLink:"https://statamic.dev/modifiers/offset",parameters:[{name:"offset",description:"The one-based index to start retrieving items."}],canBeParameter:!0,isDeprecated:!1},{name:"ol",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns the array into an HTML ordered list.",docLink:"https://statamic.dev/modifiers/ol",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"option_list",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/option_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"pluck",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Plucks a value from a collection of items.",parameters:[{name:"value",description:"The value to pluck from the array or collection."}],canBeParameter:!0,docLink:null,isDeprecated:!1},{name:"pad",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Pads the array to a specified length with the given value.",docLink:"https://statamic.dev/modifiers/pad",parameters:[{name:"length",description:"The desired length of the array."},{name:"value",description:"The value to pad the array with."}],canBeParameter:!0,isDeprecated:!1},{name:"piped",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/piped",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"sentence_list",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:'Turns the array into a comma-delimited list, with the word "and" before the last item.',docLink:"https://statamic.dev/modifiers/sentence_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"shuffle",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Randomizes the order of array elements.",docLink:"https://statamic.dev/modifiers/shuffle",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"sort",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Sorts the array by a key in ascending or descending order.",docLink:"https://statamic.dev/modifiers/sort",parameters:[{name:"key",description:"The key to sort by."},{name:"order",description:"The sort direction. `asc` or `desc`."}],canBeParameter:!0,isDeprecated:!1},{name:"sum",acceptsType:["array"],returnsType:["number"],forFieldType:[],description:"Returns the sum of all items in the array.",docLink:"https://statamic.dev/modifiers/sum",parameters:[{name:"key",description:"The value to sum."}],canBeParameter:!1,isDeprecated:!1},{name:"ul",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns the array into an HTML unordered list.",docLink:"https://statamic.dev/modifiers/ul",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"unique",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Returns all unique items in the array.",docLink:"https://statamic.dev/modifiers/unique",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"where",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Filters the array by a given key and value.",docLink:"https://statamic.dev/modifiers/where",parameters:[{name:"key",description:"The property to filter by."},{name:"value",description:"The value to compare to."}],canBeParameter:!0,isDeprecated:!1},{name:"split",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Splits an array into smaller arrays with the provided size.",canBeParameter:!0,docLink:"",parameters:[{name:"size",description:"The size of each new array"}],augmentScope:dg,isDeprecated:!1},{name:"compact",acceptsType:["string"],returnsType:["array"],forFieldType:[],description:"Accepts a comma-delimited list of variable names and return an array with their values.",canBeParameter:!0,docLink:"",parameters:[{name:"variables",description:"A comma-delimited list of variable names."}],isDeprecated:!1}];var hg=[{name:"background_position",acceptsType:["string"],returnsType:["string"],forFieldType:["assets"],description:"Converts an asset focal point into a background-position CSS property.",docLink:"https://statamic.dev/modifiers/background_position",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"image",acceptsType:["string"],returnsType:["string"],forFieldType:["assets"],description:"Generates an HTML image element with the variable's value as the src.",docLink:"https://statamic.dev/modifiers/image",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"output",acceptsType:["string"],returnsType:["string"],forFieldType:["assets"],description:"Returns the string output of an Asset file's contents.",docLink:"https://statamic.dev/modifiers/output",parameters:[],canBeParameter:!1,isDeprecated:!1}];var gg=[{name:"contains_all",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_all",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"contains_any",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_any",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"ends_with",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if a string ends with another string.",docLink:"https://statamic.dev/modifiers/ends_with",parameters:[{name:"value",description:"The value to check against."}],canBeParameter:!1,isDeprecated:!1},{name:"has_lower_case",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains any lowercase characters.",docLink:"https://statamic.dev/modifiers/has_lower_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"has_upper_case",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains any uppercase characters.",docLink:"https://statamic.dev/modifiers/has_upper_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],forFieldType:[],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"is_after",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is after another date.",docLink:"https://statamic.dev/modifiers/is_after",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1,isDeprecated:!1},{name:"is_alphanumeric",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains only alphanumeric characters.",docLink:"https://statamic.dev/modifiers/is_alphanumeric",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_before",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if a date is before another date.",docLink:"https://statamic.dev/modifiers/is_before",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1,isDeprecated:!1},{name:"is_between",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if a date is between two other dates.",docLink:"https://statamic.dev/modifiers/is_between",parameters:[{name:"start_date",description:"The start date to compare."},{name:"end_date",description:"The end date to compare."}],canBeParameter:!1,isDeprecated:!1},{name:"is_blank",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains only whitespace characters.",docLink:"https://statamic.dev/modifiers/is_blank",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],forFieldType:["text","textarea"],description:"Tests if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_future",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is in the future.",docLink:"https://statamic.dev/modifiers/is_future",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_json",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string is valid JSON.",docLink:"https://statamic.dev/modifiers/is_json",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_leap_year",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is a leap year.",docLink:"https://statamic.dev/modifiers/is_leap_year",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_numeric",acceptsType:["string","number"],returnsType:["boolean"],forFieldType:[],description:"Tests if the value is a number or numeric string.",docLink:"https://statamic.dev/modifiers/is_numeric",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_past",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is in the past.",docLink:"https://statamic.dev/modifiers/is_past",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_today",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is today.",docLink:"https://statamic.dev/modifiers/is_today",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_uppercase",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains only uppercase characters.",docLink:"https://statamic.dev/modifiers/is_uppercase",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_weekday",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is a week day.",docLink:"https://statamic.dev/modifiers/is_weekday",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_weekend",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is a weekend day.",docLink:"https://statamic.dev/modifiers/is_weekend",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_yesterday",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is yesterday.",docLink:"https://statamic.dev/modifiers/is_yesterday",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_tomorrow",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is tomorrow.",docLink:null,parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"starts_with",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if a value starts with the provided value.",docLink:"https://statamic.dev/modifiers/starts_with",parameters:[{name:"value",description:"The value to test for."}],canBeParameter:!1,isDeprecated:!1}];var _g=[{name:"days_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of days since a given date.",docLink:"https://statamic.dev/modifiers/days_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"format_translated",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Returns a formatted Carbon datetime/string.",docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!1},{name:"format",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Formats the date using the provided format using PHP's [date variables](https://www.php.net/date).",hoverDescription:`Formats the date using the provided format using PHP's [date variables](https://www.php.net/date).

## Formatting Options

See [PHP: DateTimeInterface::format](https://www.php.net/manual/en/datetime.format.php) for all available options.

| Format Character | Description | Example |
|:----|----|---|
| Day | --- | --- |
| d | Day of the month, 2 digits with leading zeros | 01 to 31 |
| D |A textual representation of a day | Mon - Sun |
| j | Day of the month, without leading zeros | 1 - 31 |
| l | The day of the week | Sunday - Saturday |
| N | ISO 8601 representation of the day of the week | 1 (Monday) - 7 (Sunday) |
| S | English ordinal suffix for the day | st, nd, rt, or th |
| w | Numeric day of the week | 0 (Sunday) - 6 (Saturday) |
| z | Day of the year, starting at 0 | 0 - 365 |
| Week | --- | --- |
| W | ISO 8601 week number of the year, starting on Monday | 42 |
| Month | --- | --- |
| F | Text representation of the month | January - December |
| m | Numeric representation of the month, with leading zeros | 01 - 12 |
| M | A short text representation of the month | Jan - Dec |
| n | Numeric representation of the month | 1 - 12 |
| t | Number of days in the month | 28 - 31 |
| Year | --- | --- |
| L | Indicates if it's a leap year | 1 if true, 0 otherwise |
| Y | Four digit representation of the year | 2022 |
| y | Two digit representation of the year | 22 |
| Time | --- | --- |
| a | Lowercase Anti meridiem and Post meridiem | am or pm |
| A | Uppercase Anti meridiem and Post meridiem | AM or PM |
| g | 12-hour hour format without leading zeros | 1 - 12 |
| G | 24-hour hour format without leading zeros | 0 - 23 |
| h | 12-hour hour format with leading zeros | 01 - 12 |
| H | 24-hour hour format with leading zeros | 00 - 23 |
| i | Minutes with leading zeros | 00 - 59 |
| s | Seconds with leading zeros | 00 - 59 |
| Timezone | --- | --- |
| e | Timezone identifier | UTC, GMT |
| I | Indicates if date is in daylight saving time | 1 if true, 0 otherwise |
| T | Timezone appreviation | EST, MDT, +05 |
`,docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!1},{name:"format_localized",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Formats the date using server's locale, using PHP's [strftime format variables](https://www.php.net/strftime).",docLink:"https://statamic.dev/modifiers/format_localized",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!0,getDeprecatedMessage(){return"The format_localized modifier is deprecated. Alternatives, such as the iso_format modifier, should be used instead."}},{name:"hours_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of hours since the date.",docLink:"https://statamic.dev/modifiers/hours_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"iso_format",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Formats the date using an ISO format.",docLink:"https://statamic.dev/modifiers/iso_format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!1,isDeprecated:!1},{name:"minutes_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of minutes since the date.",docLink:"https://statamic.dev/modifiers/minutes_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"modify_date",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Alters the date by incrementing or decrementing it in a format accepted by PHP's [strtotime](https://www.php.net/strtotime) function.",docLink:"https://statamic.dev/modifiers/modify_date",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"months_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of months since the date.",docLink:"https://statamic.dev/modifiers/months_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"relative",acceptsType:["string","date"],returnsType:["string"],forFieldType:["date"],description:"Returns a human readable date difference.",docLink:"https://statamic.dev/modifiers/relative",parameters:[{name:"add_ago",description:"Whether to add the relative suffix words at the end of the string."}],canBeParameter:!1,isDeprecated:!1},{name:"seconds_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of seconds since the date.",docLink:"https://statamic.dev/modifiers/seconds_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"timezone",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Applies a timezone to the date.",docLink:"https://statamic.dev/modifiers/timezone",parameters:[{name:"timezone",description:"The timezone to apply."}],canBeParameter:!1,isDeprecated:!1},{name:"weeks_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of weeks since the date.",docLink:"https://statamic.dev/modifiers/weeks_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"years_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of years since the date.",docLink:"https://statamic.dev/modifiers/years_ago",parameters:[],canBeParameter:!1,isDeprecated:!1}];var yg=[{name:"chunk",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Breaks the array or collection into smaller arrays of a given size.",docLink:"https://statamic.dev/modifiers/chunk",parameters:[{name:"chunk_size",description:"The maximum length of each new chunk."}],canBeParameter:!0,isDeprecated:!1},{name:"favicon",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Generates a favicon HTML meta tag for the given value.",docLink:"https://statamic.dev/modifiers/favicon",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"first",acceptsType:["string","array"],returnsType:["*"],forFieldType:[],description:"Returns the specified number of characters/items from the beginning of the string/array.",docLink:"https://statamic.dev/modifiers/first",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0,isDeprecated:!1},{name:"last",acceptsType:["string","array"],returnsType:["*"],forFieldType:[],description:"Returns the specified number of characters/items from the end of the string/array.",docLink:"https://statamic.dev/modifiers/last",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0,isDeprecated:!1},{name:"link",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Generates an HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/link",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"mailto",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Generates a mailto HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/mailto",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"markdown",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Parses the value as Markdown and returns the HTML.",docLink:"https://statamic.dev/modifiers/markdown",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"nl2br",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces line breaks with HTML `<br>` tags.",docLink:"https://statamic.dev/modifiers/nl2br",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"obfuscate",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Modifies the input string by replacing it with special characters, making it harder for bots but remains readable to site visitors.",docLink:"https://statamic.dev/modifiers/obfuscate",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"obfuscate_email",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Obfuscates an email address with special HTML characters.",docLink:"https://statamic.dev/modifiers/obfuscate_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"strip_tags",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Removes HTML tags from the string.",docLink:"https://statamic.dev/modifiers/strip_tags",parameters:[{name:"tags",description:"The HTML tag(s) to remove from the string."}],canBeParameter:!1,isDeprecated:!1},{name:"table",acceptsType:["array"],returnsType:["string"],forFieldType:["table"],description:"Turns a [Table FieldType](https://statamic.dev/fieldtypes/table) array into an HTML table.",docLink:"https://statamic.dev/modifiers/table",parameters:[{name:"content_markdown",description:"Whether to parse cell contents as Markdown."}],canBeParameter:!1,isDeprecated:!1},{name:"textile",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Parses a string with [Textile](http://demo.textilewiki.com/theme-default/) and returns the HTML.",docLink:"https://statamic.dev/modifiers/textile",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"wrap",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Wraps a string with a given HTML tag.",docLink:"https://statamic.dev/modifiers/wrap",parameters:[{name:"expression",description:"The HTML tag or Emmet-style expression to wrap the value in."}],canBeParameter:!1,isDeprecated:!1}];var bg=[{name:"add",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!0,isDeprecated:!1},{name:"+",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!1,isDeprecated:!1},{name:"ceil",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Rounds the value to the next whole number.",docLink:"https://statamic.dev/modifiers/ceil",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"divide",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Divides two values.",docLink:"https://statamic.dev/modifiers/divide",parameters:[{name:"value",description:"The value to divide."}],canBeParameter:!0,isDeprecated:!1},{name:"floor",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Rounds a number down to the next whole number.",docLink:"https://statamic.dev/modifiers/floor",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"format_number",acceptsType:["number"],returnsType:["string"],forFieldType:[],description:"Formats a number.",docLink:"https://statamic.dev/modifiers/format_number",parameters:[{name:"precision",description:"Number of decimal places before rounding."},{name:"decimal_separator",description:"The decimal separator (defaults to `.`)."},{name:"thousands_separator",description:"The thousands separator (default `,`)."}],canBeParameter:!0,isDeprecated:!1},{name:"mode",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"",docLink:"",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"multiply",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!0,isDeprecated:!1},{name:"*",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!1,isDeprecated:!1},{name:"round",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Rounds a number to a specified precision.",docLink:"https://statamic.dev/modifiers/round",parameters:[{name:"precision",description:"The number of digits after the decimal point."}],canBeParameter:!0,isDeprecated:!1},{name:"subtract",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!0,isDeprecated:!1},{name:"-",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!1,isDeprecated:!1}];var Tg=[{name:"partial",acceptsType:["*"],returnsType:["*view*"],forFieldType:[],description:"Injects data into a partial and renders it.",docLink:"https://statamic.dev/modifiers/partial",parameters:[{name:"partial",description:"The name of the partial."}],canBeParameter:!1,isDeprecated:!1},{name:"macro",acceptsType:["*"],returnsType:["*"],forFieldType:[],description:"Runs a pre-configured macro on the data.",docLink:"https://statamic.dev/modifiers/macro",parameters:[{name:"macro",description:"The macro name."}],canBeParameter:!1,isDeprecated:!1},{name:"url",acceptsType:["string","*"],returnsType:["string"],forFieldType:[],description:"Locates the URL of an asset, page, entry, or taxonomy term based on the variable contents.",docLink:"https://statamic.dev/modifiers/url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"bool_string",acceptsType:["boolean","*"],returnsType:["string"],canBeParameter:!1,description:'Converts the provided value to a "true" or "false" string',docLink:null,forFieldType:["toggle"],isDeprecated:!1,parameters:[{name:"value",description:"The truthy value to convert to a string."}]}];var vg=[{name:"ascii",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces all non-ASCII characters with their closest ASCII counterparts.",docLink:"https://statamic.dev/modifiers/ascii",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"at",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns the character at a given zero-based position.",docLink:"https://statamic.dev/modifiers/at",parameters:[{name:"position",description:"The zero-based position to retrieve a character from."}],canBeParameter:!0,isDeprecated:!1},{name:"backspace",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Removes a specified number of characters from the end of a string.",docLink:"https://statamic.dev/modifiers/backspace",parameters:[{name:"character_count",description:"The number of characters to remove from the end of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"camelize",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts the string into camelCase.",docLink:"https://statamic.dev/modifiers/camelize",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"cdata",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Wraps the string in CDATA XML tags.",docLink:"https://statamic.dev/modifiers/cdata",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"collapse_whitespace",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Trims a string and replaces consecutive whitespace characters with a single space.",docLink:"https://statamic.dev/modifiers/collapse_whitespace",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"count_substring",acceptsType:["string"],returnsType:["number"],forFieldType:[],description:"Counts the number of occurrences of a term within the string.",docLink:"https://statamic.dev/modifiers/count_substring",parameters:[{name:"term",description:"The sub-string to search for."}],canBeParameter:!0,isDeprecated:!1},{name:"dashify",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a lower-cased and trimmed string, separated by dashes.",docLink:"https://statamic.dev/modifiers/dashify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"deslugify",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces all hyphens and underscores with spaces.",docLink:"https://statamic.dev/modifiers/deslugify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"embed_url",acceptsType:["string"],returnsType:["string"],forFieldType:["video"],description:"Converts a YouTube or Viemo link into their embed URLs.",docLink:"https://statamic.dev/modifiers/embed_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"trackable_embed_url",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Get the embed URL when given a YouTube or Vimeo link that's direct to the page.",docLink:null,parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"ensure_left",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Ensures that the string begins with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_left",parameters:[{name:"start_string",description:"The value that should be at the start of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"ensure_right",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Ensures that the string ends with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_right",parameters:[{name:"end_string",description:"The value that should be at the end of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"entities",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Encode a string with HTML entities.",docLink:"https://statamic.dev/modifiers/entities",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"excerpt",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Breaks a string at a given marker.",docLink:"https://statamic.dev/modifiers/excerpt",parameters:[{name:"marker",description:"The substring to break on."}],canBeParameter:!1,isDeprecated:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],forFieldType:[],description:"Breaks a string into an array of strings.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The string to split the larger string by."}],canBeParameter:!0,isDeprecated:!1},{name:"gravatar",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts an email string to a Gravatar image URL.",docLink:"https://statamic.dev/modifiers/gravatar",parameters:[{name:"image size",description:"The desired image size."}],canBeParameter:!0,isDeprecated:!1},{name:"insert",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Inserts a string at the position provided.",docLink:"https://statamic.dev/modifiers/insert",parameters:[{name:"value",description:"The value to insert."},{name:"position",description:"The zero based position to insert the text at."}],canBeParameter:!0,isDeprecated:!1},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Returns true if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_embeddable",acceptsType:["string"],returnsType:["boolean"],forFieldType:["video"],description:"Checks to see if a video URL is embeddable.",docLink:"https://statamic.dev/modifiers/is_embeddable",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_lowercase",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Returns true if the string contains only lowercase characters.",docLink:"https://statamic.dev/modifiers/is_lowercase",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Returns true if a string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"lcfirst",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts the first character of the value to lower case.",docLink:"https://statamic.dev/modifiers/lcfirst",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"length",acceptsType:["string"],returnsType:["number"],forFieldType:[],description:"Returns the number of items in an array or number of characters in a string.",docLink:"https://statamic.dev/modifiers/length",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"lower",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts all characters to lowercase.",docLink:"https://statamic.dev/modifiers/lower",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"md5",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Creates an MD5 hash of the variable.",docLink:"https://statamic.dev/modifiers/md5",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"rawurlencode",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"URL-encode a variable according to RFC-3986.",docLink:"https://statamic.dev/modifiers/rawurlencode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"read_time",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns an estimated read time, in minutes.",docLink:"https://statamic.dev/modifiers/read_time",parameters:[{name:"words per minute",description:"The words per minute to use as an estimate."}],canBeParameter:!0,isDeprecated:!1},{name:"regex_replace",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces all regex matches within a string.",docLink:"https://statamic.dev/modifiers/regex_replace",parameters:[{name:"pattern",description:"The regex pattern."},{name:"replace",description:"The replacement value."}],canBeParameter:!0,isDeprecated:!1},{name:"remove_left",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Ensures that the string never begins with a specified string.",docLink:"https://statamic.dev/modifiers/remove_left/",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0,isDeprecated:!1},{name:"remove_right",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Ensures that a string never ends with a specified string.",docLink:"https://statamic.dev/modifiers/remove_right",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0,isDeprecated:!1},{name:"replace",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces all occurrences of a string with a different value.",docLink:"https://statamic.dev/modifiers/replace",parameters:[{name:"needle",description:"The string to search for."},{name:"value",description:"The value to replace all occurrences with."}],canBeParameter:!0,isDeprecated:!1},{name:"reverse",acceptsType:["string","array"],returnsType:["string","array"],forFieldType:[],description:"Reverses all characters in a string, or all items in an array.",docLink:"https://statamic.dev/modifiers/reverse",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"safe_truncate",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/safe_truncate",parameters:[{name:"length",description:"The desired string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1,isDeprecated:!1},{name:"sanitize",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts special characters to HTML entities.",docLink:"https://statamic.dev/modifiers/sanitize",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"segment",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a segment by number from any valid URL or URI.",docLink:"https://statamic.dev/modifiers/segment",parameters:[{name:"segment",description:"The one-based segment to return."}],canBeParameter:!0,isDeprecated:!1},{name:"singular",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns the singular form of an English word.",docLink:"https://statamic.dev/modifiers/singular",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"slugify",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts the string into an URL slug.",docLink:"https://statamic.dev/modifiers/slugify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"smartypants",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Translates plain ASCII punctuation characters into typographic punctuation HTML entities.",docLink:"https://statamic.dev/modifiers/smartypants",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"spaceless",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Removes excess whitespace and line breaks from a string.",docLink:"https://statamic.dev/modifiers/spaceless",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"substr",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a portion of a string based on provided a start index, and optional length.",docLink:"https://statamic.dev/modifiers/substr",parameters:[{name:"start",description:"The 0-based index to start searching."},{name:"length",description:"An optional length for the string to find."}],canBeParameter:!1,isDeprecated:!1},{name:"surround",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Surrounds a string with another string.",docLink:"https://statamic.dev/modifiers/surround",parameters:[{name:"value",description:"The value to surround the string with."}],canBeParameter:!1,isDeprecated:!1},{name:"swap_case",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a case swapped version of the string.",docLink:"https://statamic.dev/modifiers/swap_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"tidy",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a string with smart quotes, ellipsis characters, and dashes from Windows-1252 replaced by ASCII equivalents.",docLink:"https://statamic.dev/modifiers/tidy",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"title",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a Title Cased version of the string.",docLink:"https://statamic.dev/modifiers/title",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"trim",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Removes whitespace from the start and end of the string.",docLink:"https://statamic.dev/modifiers/trim",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"truncate",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/truncate",parameters:[{name:"length",description:"The maximum string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1,isDeprecated:!1},{name:"ucfirst",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Upper cases the first character in the string.",docLink:"https://statamic.dev/modifiers/ucfirst",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"underscored",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a lower-cased and trimmed version of the string, separated by underscores.",docLink:"https://statamic.dev/modifiers/underscored",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"upper",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Transforms the string to uppercase.",docLink:"https://statamic.dev/modifiers/upper",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"urldecode",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"URL-decodes the string.",docLink:"https://statamic.dev/modifiers/urldecode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"urlencode",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"URL-encodes the string.",docLink:"https://statamic.dev/modifiers/urlencode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"widont",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Attempts to prevent lines with single words.",docLink:"https://statamic.dev/modifiers/widont",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"word_count",acceptsType:["string"],returnsType:["number"],forFieldType:[],description:"Returns the number of words in the string.",docLink:"https://statamic.dev/modifiers/word_count",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"add_slashes",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Adds slashes before characters that need to be escaped.",docLink:"https://statamic.dev/modifiers/add_slashes",canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"antlers",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Parses the provided value as Antlers, and returns the result.",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"bard_items",acceptsType:["string"],returnsType:["array"],forFieldType:["bard"],description:"Converts a Bard value to a flat array of nodes and marks.",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"bard_text",acceptsType:["array","string"],returnsType:["string"],forFieldType:["bard"],description:"Converts a Bard value to plain text (excluding sets).",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"bard_html",acceptsType:["array","string"],returnsType:["string"],forFieldType:["bard"],description:"Converts a Bard value to HTML (excluding sets).",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"mark",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Wraps matched words and phrases in <mark> tags.",docLink:null,canBeParameter:!1,parameters:[{name:"search",description:"The search word or phrase to wrap in <mark> tags."}],isDeprecated:!1},{name:"regex_mark",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Wraps matched words and phrases in <mark> tags using regular expressions.",docLink:null,canBeParameter:!1,parameters:[{name:"pattern",description:"The search pattern used to wrap content in <mark> tags."}],isDeprecated:!1}];var Ng=[{name:"console_log",acceptsType:["*"],returnsType:["null"],forFieldType:[],description:"Displays variable data in the browser's JavaScript console.",docLink:"https://statamic.dev/modifiers/console_log",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"decode",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts all HTML entities to their character codes.",docLink:"https://statamic.dev/modifiers/decode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"dump",acceptsType:["*"],returnsType:["null"],forFieldType:[],description:"Displays variable data in the browser.",docLink:"https://statamic.dev/modifiers/dump",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"full_urls",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces root-relative URLs with absolute URLs.",docLink:"https://statamic.dev/modifiers/full_urls",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"repeat",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Repeats a value a given number of times.",docLink:"https://statamic.dev/modifiers/repeat",parameters:[{name:"repeat_count",description:"The number of times to repeat the value."}],canBeParameter:!0,isDeprecated:!1},{name:"to_spaces",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts all tabs to spaces.",docLink:"https://statamic.dev/modifiers/to_spaces",parameters:[{name:"space_count",description:"The number of spaces to replace tabs with."}],canBeParameter:!1,isDeprecated:!1},{name:"to_tabs",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts spaces to tabs.",docLink:"https://statamic.dev/modifiers/to_tabs",parameters:[{name:"space_count",description:"The number of spaces to convert to tabs."}],canBeParameter:!1,isDeprecated:!1},{name:"to_json",acceptsType:["*"],returnsType:["string"],forFieldType:[],description:"Converts the data to JSON",docLink:"https://statamic.dev/modifiers/to_json",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"to_bool",acceptsType:["*"],returnsType:["boolean"],forFieldType:[],description:"Converts the data to a boolean/truthy value.",parameters:[],canBeParameter:!1,docLink:null,isDeprecated:!1}];var Ki=class{constructor(){this.registeredModifiers=new Map;this.acceptTypedModifierReference=new Map;this.returnTypeModifierReference=new Map;this.macros=new Map;this.modifierNameCache=[]}reset(){this.modifierNameCache=[],this.registeredModifiers.clear(),this.acceptTypedModifierReference.clear(),this.returnTypeModifierReference.clear()}getRegisteredModifiers(){return this.registeredModifiers}resetMacros(){this.macros.clear()}loadCoreModifiers(){this.registerModifiers(mg),this.registerModifiers(hg),this.registerModifiers(gg),this.registerModifiers(_g),this.registerModifiers(yg),this.registerModifiers(bg),this.registerModifiers(Ng),this.registerModifiers(vg),this.registerModifiers(Tg)}getModifierNames(){return this.modifierNameCache}registerMacro(e){this.macros.set(e.name,e)}registerMacros(e){for(let n=0;n<e.length;n++)this.registerMacro(e[n])}hasMacro(e){if(this.macros.has(e)){let n=this.macros.get(e);return!(typeof n=="undefined"||n===null)}return!1}getMacro(e){if(this.macros.has(e)){let n=this.macros.get(e);return typeof n=="undefined"||n===null?null:n}return null}getMacroManifestingType(e){let n=this.getMacro(e);return n==null?"":n.manifestsType}getRegisteredModifier(e){return this.registeredModifiers.has(e)?this.registeredModifiers.get(e):null}getModifiersForType(e){let n=hu(e);return this.acceptTypedModifierReference.has(n)?this.acceptTypedModifierReference.get(n):[]}getProbableReturnType(e,n){return e==null||e.returnsType.length==0?"":n&&e.returnsType.includes("array")?"array":e.returnsType[0]}registerModifiers(e){var n,r;for(let i=0;i<e.length;i++){let s=e[i];this.modifierNameCache.push(s.name);for(let a=0;a<s.acceptsType.length;a++){let o=s.acceptsType[a];this.acceptTypedModifierReference.has(o)==!1&&this.acceptTypedModifierReference.set(o,[]),(n=this.acceptTypedModifierReference.get(o))==null||n.push(s)}for(let a=0;a<s.returnsType.length;a++){let o=s.returnsType[a];this.returnTypeModifierReference.has(o)==!1&&this.returnTypeModifierReference.set(o,[]),(r=this.returnTypeModifierReference.get(o))==null||r.push(s)}this.registeredModifiers.set(e[i].name,e[i])}}registerModifier(e){let n=[];n.push(e),this.registerModifiers(n)}getModifier(e){if(this.registeredModifiers.has(e)==!1)return null;let n=this.registeredModifiers.get(e);return typeof n=="undefined"||n==null?null:n}hasModifier(e){if(!this.registeredModifiers.has(e))return!1;let n=this.registeredModifiers.get(e);return!(typeof n=="undefined"||n==null)}};Ki.instance=null;(typeof Ki.instance=="undefined"||Ki.instance==null)&&(Ki.instance=new Ki,Ki.instance.loadCoreModifiers());var Dt=Ki;var Jf=class{constructor(e){this.parameterModifiers=[];this.hasMixedModifierStyles=!1;this.modifierNames=[];this.node=e}isPaired(){return this.node instanceof z?this.node.isPaired():!1}getModifierValue(e){var n;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let i=this.node.modifierChain.modifierChain[r];if(((n=i.nameNode)==null?void 0:n.name)==e)return i.valueNodes.length>0?i.valueNodes[0].content:""}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let i=this.parameterModifiers[r];if(i.name==e)return i.value}return null}getModifierRange(e){var n;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let i=this.node.modifierChain.modifierChain[r];if(((n=i.nameNode)==null?void 0:n.name)==e)return i.valueNodes.length>0?{start:i.startPosition,end:i.endPosition}:null}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let i=this.parameterModifiers[r];if(i.name==e&&i.namePosition!=null&&i.valuePosition!=null)return{start:i.namePosition.start,end:i.valuePosition.end}}return null}getLastManifestedModifierRuntimeType(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null){if(this.node.modifierChain.lastManifestedModifier.parameters.length>0&&this.node.modifierChain.lastManifestedModifier.modifier!=null&&Dt.instance!=null){let e=this.node.modifierChain.lastManifestedModifier.modifier;return Dt.instance.getProbableReturnType(e,this.isPaired())}return"*"}if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null&&Dt.instance!=null){let r=e[n].modifier;return Dt.instance.getProbableReturnType(r,this.isPaired())}}return"*"}getLastManifestedModifierValue(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null)return this.node.modifierChain.lastManifestedModifier.parameters.length>0?this.node.modifierChain.lastManifestedModifier.parameters[0].value:"";if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null)return e[n].value}return""}getLastManifestedModifier(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastModifier!=null)return this.node.modifierChain.lastModifier;if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null)return e[n].modifier}return null}hasModifiers(){return this.node.modifierChain==null||this.node.modifierChain.modifierChain.length==0?this.parameterModifiers.length>0:!0}hasParameterModifiers(){return this.parameterModifiers.length>0}hasShorthandModifiers(){return this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0}hasModifier(e){return this.modifierNames.includes(e)}};function Zf(t){let e=[];return t.forEach(n=>{n instanceof z?e.push(n):n instanceof Nn&&n.logicBranches.length>0&&n.logicBranches.forEach(r=>{if(r.head!=null){let i=r.head;i.originalNode!=null?e.push(i.originalNode):e.push(i)}})}),e}var DD=[" ",`
`,"\r","	","\f","\v","\xA0","\u2000","\u2001","\u2002","\u2003","\u2004","\u2005","\u2006","\u2007","\u2008","\u2009","\u200A","\u200B","\u2028","\u2029","\u3000"].join("");function Cg(t){return(typeof t=="number"||typeof t=="string"&&DD.indexOf(t.slice(-1))===-1)&&t!==""&&!isNaN(t)}var te=class{static boolLabel(e){return e?"true":"false"}static normalizeLineEndings(e,n=`
`){return e.replace(/\r?\n/g,n)}static breakByNewLine(e){return e.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`)}static split(e){return e.split("")}static substring(e,n,r){return e.substr(n,r)}static ctypeSpace(e){return(e==null?void 0:e.search(/^[\f\n\r\t\v ]+$/g))!==-1}static ctypeAlpha(e){return(e==null?void 0:e.search(/^[A-Za-z]+$/g))!==-1}static ctypeDigit(e){return(e==null?void 0:e.search(/^[\d]+$/g))!==-1}static ctypePunct(e){return(e==null?void 0:e.search(/^[\u0021-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007E]+$/g))!==-1}static trimLeft(e,n="\\s"){return e.replace(new RegExp("^["+n+"]+"),"")}static trimRight(e,n="\\s"){return e.replace(new RegExp("["+n+"]+$"),"")}static isNumeric(e){return Cg(e)}static substringCount(e,n){let r=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return(e.match(new RegExp(r,"gi"))||[]).length}static getLastLine(e){let n=te.breakByNewLine(e);return n.length==0?"":n[n.length-1]}static getFirstLine(e){let n=te.breakByNewLine(e);return n.length==0?"":n[0]}};var ep=class{constructor(e){this.node=e}findParentWithName(e){let n=this.node.getParser();return n==null?null:n.structure.findParentWithName(e,this.node)}};var Dg=je(gu());var K=class{constructor(){this.node=null;this.errorCode="";this.message="";this.level=0;this.range=null;this.actions=[];this.lsRange=null;this.data=null}hash(){var n,r,i,s;let e="";return this.node!=null&&(e=((r=(n=this.node.endPosition)==null?void 0:n.offset)!=null?r:0).toString()+"|"+((s=(i=this.node.startPosition)==null?void 0:i.offset)!=null?s:0).toString()+"|"),Dg.Md5.hashStr(e+"|"+this.errorCode)}static makeSyntaxError(e,n,r,i){i==null&&(i=0);let s=new K;return s.errorCode=e,s.node=n,s.message=r,s.level=i,s}};var P=class{};P.TYPE_EXPECTING_OPERAND="ANTLR_001",P.TYPE_UNEXPECTED_END_OF_INPUT="ANTLR_002",P.TYPE_RUNTIME_TYPE_MISMATCH="ANTLR_003",P.TYPE_RUNTIME_DIVIDE_BY_ZERO="ANTLR_004",P.TYPE_RUNTIME_UNKNOWN_LANG_OPERATOR="ANTLR_005",P.TYPE_RUNTIME_UNEXPECTED_STACK_CONDITION="ANTLR_006",P.TYPE_RUNTIME_PARSE_VALUE_VIOLATION="ANTLR_007",P.TYPE_PARSE_UNCLOSED_CONDITIONAL="ANTLR_008",P.TYPE_PARSE_EMPTY_CONDITIONAL="ANTLR_009",P.TYPE_PARSE_UNPAIRED_CONDITIONAL="ANTLR_008",P.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE="ANTLR_009",P.TYPE_INCOMPLETE_ANTLERS_REGION="ANTLR_010",P.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION="ANTLR_011",P.TYPE_ILLEGAL_VARPATH_RIGHT="ANTLR_012",P.TYPE_ILLEGAL_DOTVARPATH_RIGHT="ANTLR_013",P.TYPE_ILLEGAL_VARPATH_SUBPATH_START="ANTLR_014",P.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT="ANTLR_015",P.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR="ANTLR_016",P.TYPE_ILLEGAL_VARIABLE_NAME="ANTLR_017",P.TYPE_UNSET_MODIFIER_DETAILS="ANTLR_018",P.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS="ANTLR_019",P.TYPE_MODIFIER_UNEXPECTED_VALUE="ANTLR_020",P.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST="ANTLR_021",P.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR="ANTLR_022",P.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH="ANTLR_023",P.TYPE_RECURSIVE_UNPAIRED_NODE="ANTLR_024",P.TYPE_RECURSIVE_NODE_INVALID_POSITION="ANTLR_025",P.TYPE_NO_PARSE_UNASSOCIATED="ANTLR_026",P.TYPE_RECURSIVE_NODE_UNASSOCIATED_PARENT="ANTLR_027",P.TYPE_LOGIC_GROUP_NO_END="ANTLR_028",P.TYPE_LOGIC_GROUP_NO_START="ANTLR_029",P.TYPE_UNEXPECTED_BRANCH_SEPARATOR="ANTLR_030",P.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE="ANTLR_031",P.TYPE_UNEXPECTED_MODIFIER_SEPARATOR="ANTLR_032",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS="ANTLR_033",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE="ANTLR_034",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER="ANTLR_035",P.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE="ANTLR_036",P.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS="ANTLR_037",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SEMANTIC_GROUP="ANTLR_038",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP="ANTLR_039",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP="ANTLR_040",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH="ANTLR_041",P.TYPE_UNEXPECTED_EOI_WHILE_EXITING_TERNARY_GROUP="ANTLR_042",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET="ANTLR_043",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION="ANTLR_044",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END="ANTLR_045",P.TYPE_RUNTIME_UNKNOWN_LIBRARY="ANTLR_046",P.TYPE_RUNTIME_LIBRARY_BAD_METHOD_CALL="ANTLR_047",P.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS="ANTLR_048",P.TYPE_UNEXPECTED_FACTORIAL_OPERAND="ANTLR_049",P.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR="ANTLR_050",P.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED="ANTLR_051",P.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT="ANTLR_052",P.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP="ANTLR_053",P.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT="ANTLR_054",P.TYPE_LIBRARY_CALL_NO_ARGS_PROVIDED="ANTLR_055",P.TYPE_LIBRARY_CALL_MISSING_REQUIRED_FORMAL_ARG="ANTLR_056",P.TYPE_LIBRARY_CALL_RUNTIME_TYPE_MISMATCH="ANTLR_057",P.TYPE_LIBRARY_CALL_UNEXPECTED_ARG_RESOLVE_FAULT="ANTLR_058",P.TYPE_LIBRARY_CALL_TOO_MANY_ARGUMENTS="ANTLR_059",P.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD="ANTLR_060",P.TYPE_INVALID_NAMED_ARG_IDENTIFIER="ANTLR_061",P.TYPE_LIBRARY_CALL_INVALID_ARGUMENT_NAME="ANTLR_062",P.TYPE_RUNTIME_ATTEMPT_TO_OVERWRITE_LOADED_LIBRARY="ANTLR_063",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP="ANTLR_064",P.TYPE_EXPECTING_ARGUMENT_GROUP="ANTLR_065",P.TYPE_RUNTIME_PROTECTED_LIBRARY_ACCESS_VIOLATION="ANTLR_066",P.TYPE_RUNTIME_FATAL_UNPAIRED_LOOP_END="ANTLR_067",P.TYPE_UNEXPECTED_OPERATOR="ANTLR_068",P.TYPE_OPERATOR_INVALID_ON_RIGHT="ANTLR_069",P.TYPE_INVALID_ASSIGNMENT_LOOP_PAIR="ANTLR_070",P.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP="ANTLR_071",P.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND="ANTLR_072",P.TYPE_QUERY_UNSUPPORTED_VALUE_TYPE="ANTLR_073",P.TYPE_UNEXPECTED_RUNTIME_RESULT_FOR_ORDER_BY_CLAUSE="ANTLR_074",P.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP="ANTLR_075",P.TYPE_INVALID_ORDER_BY_NAME_VALUE="ANTLR_076",P.TYPE_INVALID_ORDER_BY_SORT_VALUE="ANTLR_077",P.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY="ANTLR_78",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY="ANTLR_079",P.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE="ANTLR_080",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP="ANTLR_081",P.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP="ANTLR_082",P.TYPE_UNEXPECTED_SWITCH_START_VALUE="ANTLR_083",P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE="ANTLR_084",P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_SEMANTIC_VALUE="ANTLR_085",P.TYPE_SWITCH_DEFAULT_MUST_BE_LAST="ANTLR_086",P.TYPE_PARSER_INVALID_SWITCH_TOKEN="ANTLR_087",P.TYPE_ORDER_BY_INVALID_RETURN_TYPE="ANTLR_088",P.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED="ANTLR_089",P.TYPE_PLUCK_INTO_MISSING_VARIABLE_TARGET="ANTLR_090",P.TYPE_PLUCK_INTO_INVALID_VARIABLE_TARGET="ANTLR_091",P.TYPE_PLUCK_INTO_NO_PREDICATE="ANTLR_092",P.TYPE_PLUCK_INTO_INVALID_PREDICATE_VALUE="ANTLR_093",P.TYPE_PLUCK_INTO_EMPTY_LOGIC_GROUP="ANTLR_094",P.TYPE_PLUCK_INTO_INVALID_NUMBER_OF_TUPLE_VARIABLES="ANTLR_095",P.TYPE_PLUCK_INTO_UNKNOWN_ALIAS_VARNAME="ANTLR_096",P.TYPE_PLUCK_INTO_UNEXPECTED_EMPTY_T_LOGIC_GROUP="ANTLR_097",P.TYPE_PLUCK_INTO_REFERENCE_TYPE_DYNAMIC="ANTLR_098",P.TYPE_PLUCK_INTO_REFERENCE_AMBIGUOUS="ANTLR_099",P.TYPE_RUNTIME_ASSIGNMENT_TO_NON_VAR="ANTLR_100",P.TYPE_ARR_MAKE_MISSING_TARGET="ANTLR_101",P.TYPE_ARR_MAKE_UNEXPECTED_TYPE="ANTLR_102",P.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE="ANTLR_103",P.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE="ANTLR_104",P.TYPE_ARR_UNEXPECT_ARG_SEPARATOR="ANTLR_105",P.TYPE_ARR_KEY_PAIR_MISSING_KEY="ANTLR_106",P.RUNTIME_PROTECTED_VAR_ACCESS="ANTLR_107",P.RUNTIME_PROTECTED_TAG_ACCESS="ANTLR_108",P.RUNTIME_PROTECTED_MODIFIER_ACCESS="ANTLR_109",P.TYPE_INCOMPLETE_PHP_EVALUATION_REGION="ANTLR_110",P.RUNTIME_PHP_NODE_WHEN_PHP_DISABLED="ANTLR_111",P.RUNTIME_PHP_NODE_USER_CONTENT_TAG="ANTLR_112",P.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST="ANTLR_113",P.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST="ANTLR_114",P.TYPE_MISSING_BODY_TUPLE_LIST="ANTLR_115",P.TYPE_MISSING_NAMES_TUPLE_LIST="ANTLR_116",P.TYPE_VALUE_NAME_LENGTH_MISMATCH_TUPLE_LIST="ANTLR_117",P.TYPE_INVALID_TUPLE_LIST_NAME_TYPE="ANTLR_118",P.TYPE_INVALID_MANIFESTED_NAME_GROUP="ANTLR_119",P.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP="ANTLR_120",P.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE="ANTLR_121",P.TYPE_RUNTIME_BAD_METHOD_CALL="ANTLR_122",P.TYPE_METHOD_CALL_MISSING_ARG_GROUP="ANTLR_123",P.TYPE_INVALID_METHOD_CALL_ARG_GROUP="ANTLR_124",P.TYPE_METHOD_CALL_MISSING_METHOD="ANTLR_125",P.TYPE_MODIFIER_NOT_FOUND="ANTLR_126",P.TYPE_RUNTIME_GENERAL_FAULT="ANTLR_127",P.TYPE_MODIFIER_INCORRECT_VALUE_POSITION="ANTLR_128",P.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX="ANTLR_129",P.TYPE_RUNTIME_ATTEMPTING_TO_RENDER_OBJECT_AS_STRING="ANTLR_130",P.TYPE_UNPAIRED_CLOSING_TAG="ANTLR_131",P.PARSER_CANNOT_PARSE_PATH_RECURSIVE="ANTLR_200",P.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR="ANTLR_201",P.LINT_UNKNOWN_PARAMETER="ANTLR_500",P.LINT_GENERAL_INVALID_PARAMETER_CONTENTS="ANTLR_501",P.LINT_PARAMETER_CONTENT_INVALID_INTEGER="ANTLR_502",P.LINT_PARAMETER_CONTENT_INVALID_BOOLEAN="ANT LR_503",P.LINT_PAGINATE_INVALID_VALUE="ANTLR_504",P.LINT_DEBUG_DATA_EXPOSED="ANTLR_505",P.LINT_DOUBLE_COLON_IN_TAG_IDENTIFIER="ANTLR_506",P.LINT_MIXED_MODIFIERS="ANTLR_507",P.LINT_MODIFIER_UNEXPECTED_TYPE="ANTLR_508",P.LINT_REMOVE_RELATE_TAG="ANTLR_509",P.LINT_SET_PRODUCES_RUNTIME_ERROR="ANTLR_510",P.LINT_FRONT_MATTER_EMPTY_DOCUMENT="ANTLR_511",P.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH="ANTLR_512",P.LINT_INVALID_FRONT_MATTER="ANTLR_513",P.LINT_DUPLICATE_CODE="ANTLR_514",P.LINT_VERSION_NOT_COMPATIBLE="ANTLR_515",P.LINT_INTERLEAVED_TAG_PAIRS="ANTLR_516",P.LINT_MISSING_REQUIRED_PARAMETER="ANTLR_517",P.LINT_POSSIBLE_PARTIAL_RECURSION="ANTLR_518",P.LINT_URL_VARIABLE_WITHOUT_SANITIZE="ANTLR_519",P.LINT_DYNAMIC_CLASS_NAMES_POSSIBLE_PURGE="ANTLER_520",P.LINT_DEPRECATED_MODIFIER="ANTLER_521",P.LINT_INVALID_VARIABLE_ACCESS="ANTLR_522",P.LINT_SELECT_FIELD_JOIN_RAW="ANTLR_523",P.LINT_INVALID_PARAMETER_VALUE_DELIMITER="ANTLR_524",P.LINT_MODIFIERS_ON_QUERY_BUILDERS_REQUIRE_AS="ANTLR_525";var ct=class{static distance(e,n){return e.endPosition==null||n.startPosition==null?this.DistMax:n.startPosition.index-e.endPosition.index}static getTrueName(e){var n,r,i,s;return e.originalNode!=null?(r=(n=e.originalNode.name)==null?void 0:n.name)!=null?r:"":(s=(i=e.name)==null?void 0:i.name)!=null?s:""}static getSimpleVarName(e){return e.variableReference!=null&&e.variableReference.pathParts.length==1&&e.variableReference.pathParts[0]instanceof Yn?e.variableReference.pathParts[0].name:""}static isVariableMatching(e,n){return e instanceof Pe?e.name==n:!1}static mergeVarContentLeft(e,n,r){return r.mergeRefName=r.name,r.endPosition=n.endPosition,r.name=r.name+e,r}static mergeVarContentRight(e,n,r){return r.mergeRefName=r.name,r.startPosition=n.startPosition,r.name=e+r.name,r}static mergeVarRight(e,n){return n.mergeRefName=n.name,n.startPosition=e.startPosition,n.name=e.name+n.name,n}static getUnrefName(e){return te.trimLeft(e,":.")}};ct.DistMax=65e3;var fr=class{static isConditionalStructure(e){var r,i;if(e.isComment)return!1;let n=(i=(r=e.name)==null?void 0:r.name)!=null?i:"";return n=="if"||n=="elseif"||n=="else"}static requiresClose(e){var r,i;let n=(i=(r=e.name)==null?void 0:r.name)!=null?i:"";return n=="elseif"||n=="else"?e.isClosedBy==null:!(e.isClosingTag||e.isClosedBy!=null)}static getValidClosingPairs(e){return e=="if"||e=="elseif"?fr.conditionClosingPairs:[]}static findClosestStructurePair(e,n,r){var u,c,f,d,_,p,m,g;let i=[],s=e.length,a=new Map,o=null;i.push({node:n,index:r});for(let h=0;h<s;h+=1){let b=e[h];if(b instanceof z){let y=(c=(u=b.name)==null?void 0:u.name)!=null?c:"";if(b.isClosingTag&&y=="if"){a.set(h,h);continue}else if(y=="elseif"||y=="else"){a.set(h,h);continue}}}let l=a.size;for(;i.length>0;){let h=i.pop();if(h==null)continue;if(h.node._conditionParserAbandonPairing)break;let b=h.node,y=fr.getValidClosingPairs((d=(f=b.name)==null?void 0:f.name)!=null?d:""),x=h.index,D=!1;if(l>50&&o!=null){for(let[G,q]of a)if(G>x){x=G;break}}for(let G=x;G<s;G++){let q=e[G];if(q instanceof z&&fr.isConditionalStructure(q)){if(fr.requiresClose(q)){i.push(h),i.push({node:q,index:G+1}),D=!0;break}if(b.isClosedBy!=null)continue;let C=(p=(_=q.name)==null?void 0:_.name)!=null?p:"",U=!1;if(q.ref==0&&(q.isClosingTag&&C=="if"||y.includes(C))&&(U=!0),q.refId==b.refId&&(U=!1),U){o=G,a.delete(G),b.isClosedBy=q,q.isOpenedBy=b,q.ref+=1,D=!0;break}}}if(!D&&b instanceof z){let G=(g=(m=b.name)==null?void 0:m.name)!=null?g:"";if((G=="elseif"||G=="else")&&b.isOpenedBy==null){let q='Unpaired "'+ct.getTrueName(b)+'" control structure.';b.isInterpolationNode&&(q+=" Tag pairs are not supported within Antlers tags."),b.pushError(K.makeSyntaxError(P.TYPE_PARSE_UNPAIRED_CONDITIONAL,b,q)),b._conditionParserAbandonPairing=!0}if(b.isClosedBy==null&&fr.requiresClose(b)){let q='Unclosed "'+ct.getTrueName(b)+'" control structure.';b.isInterpolationNode&&(q+=" Tag pairs are not supported within Antlers tags."),b.pushError(K.makeSyntaxError(P.TYPE_PARSE_UNCLOSED_CONDITIONAL,b,q)),b._conditionParserAbandonPairing=!0}}}}static pairConditionals(e){for(let n=0;n<e.length;n+=1){let r=e[n];r instanceof z&&fr.isConditionalStructure(r)&&fr.requiresClose(r)&&fr.findClosestStructurePair(e,r,n+1)}return e.forEach(n=>{var r,i;if(n instanceof z&&fr.isConditionalStructure(n)){let s=(i=(r=n.name)==null?void 0:r.name)!=null?i:"";if((s=="elseif"||s=="else")&&n.isOpenedBy==null){n.pushError(K.makeSyntaxError(P.TYPE_PARSE_UNPAIRED_CONDITIONAL,n,'Unpaired "'+ct.getTrueName(n)+'" control structure.'));return}if(n.isClosedBy==null&&fr.requiresClose(n)){n.pushError(K.makeSyntaxError(P.TYPE_PARSE_UNCLOSED_CONDITIONAL,n,"Unclosed "+ct.getTrueName(n)+" control structure."));return}}}),e}},Hn=fr;Hn.conditionClosingPairs=["elseif","else"];function Rs(t,e){return e==null&&(e="s"),t.replace(new RegExp("^["+e+"]+"),"")}function pr(t,e,n){return t.replace(new RegExp(e,"g"),n)}function np(t,e){return e==null&&(e="s"),t.replace(new RegExp("["+e+"]+$"),"")}function Ta(){return(Date.now().toString(32)+Math.random().toString(16)).replace(/\./g,"")}function Sg(){return pr(Ta(),"-","_")}var _u=class{constructor(){this.startPosition=null;this.endPosition=null;this.index=0;this.embeddedIndex=0;this.refId=null;this.parameters=[];this.isSelfClosing=!1;this.isClosingFragment=!1;this.name="";this.containsStructures=!1;this.refId=Sg()}},rp=class{constructor(){this.startPosition=null;this.endPosition=null;this.content="";this.name=""}};function SD(t){let e=[],n=[];for(let r=0;r<t.length;r++){let i=t[r],s=i.refId;if(n.includes(s))break;e.push(i),n.push(s)}return e}var oe=class{constructor(){this.refId=null;this.index=0;this.parent=null;this.content="";this.rawLexContent="";this.sourceContent="";this.startPosition=null;this.endPosition=null;this.modifierChain=null;this.originalAbstractNode=null;this.positionContexts=[];this.addedContexts=new Map;this.fragment=null;this.fragmentParameter=null;this.fragmentPosition=3;this.containsAnyFragments=!1;this.containsChildStructures=!1;this.isInScriptTag=!1;this.isInStyleTag=!1;this.isVirtual=!0;this.isPartOfMethodChain=!1;this.isVirtualGroupMember=!1;this.isVirtualGroupOperatorResolve=!1;this.isSwitchGroupMember=!1;this.isListGroupMember=!1;this.producesVirtualStatementTerminator=!1;this.convertedToOperator=!1;this.scopeVariable=null;this.currentScope=null;this.manifestType="";this.scopeName=null;this.sourceType="";this.runtimeType=null;this.modifiers=new Jf(this);this.prev=null;this.next=null;this.methodTarget=null;this.libraryTarget=null;this.antlersErrors=[];this.parser=null;this.refId=Sg()}isEmbedded(){return this.isInScriptTag||this.isInStyleTag}getContexts(){return this.positionContexts}addContext(e){this.addedContexts.has(e.refId)==!1&&(this.addedContexts.set(e.refId,!0),this.positionContexts.push(e))}getRange(){if(this.originalAbstractNode!=null)return this.originalAbstractNode.getRange();if(this.startPosition==null||this.endPosition==null)return Yo.Empty;let e=new Yo;return e.start=this.startPosition,e.end=this.endPosition,e}withParser(e){this.parser=e}getParser(){return this.parser}pushError(e){this.parent!=null&&this.parent.pushError(e),this.antlersErrors.push(e),this.parent==null&&this.parser!=null&&this.parser.pushError(e)}mergeErrors(e){e.forEach(n=>{n.node==null&&(n.node=this),this.antlersErrors.push(n)})}getErrors(){return this.antlersErrors}innerContent(){return this.content}rawContent(){return this.content}},ip=class extends oe{constructor(){super(...arguments);this.head=null;this.tail=null;this.nodes=[];this.documentText="";this.childDocument=null}getImmediateChildren(){return this.head==null?[]:this.head.getImmediateChildren()}},Nn=class extends oe{constructor(){super(...arguments);this.logicBranches=[];this.chain=[];this.nodeContent="";this.fragment=null;this.fragmentParameter=null;this.fragmentPosition=3;this.containsAnyFragments=!1;this.containsChildStructures=!1}},z=class extends oe{constructor(){super(...arguments);this.isNodeAbanonded=!1;this.isComment=!1;this.isTagNode=!1;this.isConditionNode=!1;this.runtimeContent="";this.name=null;this.pathReference=null;this.isClosingTag=!1;this.isInterpolationNode=!1;this.isOpenedBy=null;this.isClosedBy=null;this.isSelfClosing=!1;this.children=[];this.runtimeNodes=[];this.parsedRuntimeNodes=[];this.hasParsedRuntimeNodes=!1;this.parameters=[];this.hasParameters=!1;this.contentOffset=null;this.cachedContent=null;this.cachedInnerContent=null;this.hasRecursiveNode=!1;this.recursiveReference=null;this.rawStart="";this.rawEnd="";this.originalNode=null;this.interpolationRegions=new Map;this.processedInterpolationRegions=new Map;this.hasProcessedInterpolationRegions=!1;this.ref=0;this.contentStartRelativeIndex=null;this.antlersNodeIndex=0;this.nameStartsOn=null;this.nameEndsOn=null;this.nameMethodPartStartsOn=null;this.documentText="";this.nodeContent="";this.childDocument=null;this.structure=new ep(this);this.isInlineAntlers=!1;this.mustClose=!1;this.reference=null;this._conditionParserAbandonPairing=!1;this._isEndVirtual=!1}getOriginalContent(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.isClosedBy!=null?this.isClosedBy.startPosition==null||this.isClosedBy.endPosition==null?"":this.parser.getText(this.startPosition.index,this.isClosedBy.endPosition.index+1):this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getNodeDocumentText(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getImmediateChildren(){let e=[];for(let n=0;n<this.children.length;n++){let r=this.children[n];if(r.parent==this){if(r==this.isClosedBy)break;e.push(r)}}return SD(e)}getChildren(){if(this.isClosedBy==null)return[];let e=[];for(let n=0;n<this.children.length;n++){let r=this.children[n];if(r instanceof z&&r.refId==this.isClosedBy.refId)break;e.push(r)}return e}getInnerDocumentText(){if(this.startPosition==null||this.endPosition==null||this.parser==null)return"";if(this.isClosedBy==null)return this.getNodeDocumentText();let e=this.isClosedBy.startPosition;return e==null?"":this.parser.getText(this.endPosition.index+1,e.index)}nodeAtIndex(e){if(this.runtimeNodes.length==0)return null;for(let n=0;n<this.runtimeNodes.length;n++)if(this.runtimeNodes[n].index==e)return this.runtimeNodes[n];return null}getDepthCount(){if(this.parent==null)return 1;let e=this.parent,n=1;for(;e!=null;){if(n+=1,e.parent===e){e=null;break}e=e.parent}return n}isEmpty(){return this.content.trim().length==0}nameMatches(e){return this.name==null?!1:this.name.content==e}copyBasicDetails(){return this.copyBasicDetailsTo(new z)}copyBasicDetailsTo(e){return e.refId=this.refId,e.isComment=this.isComment,e.isTagNode=this.isTagNode,e.children=this.children,e.parent=this.parent,e.parameters=this.parameters,e.isClosingTag=this.isClosingTag,e.rawStart=this.rawStart,e.rawEnd=this.rawEnd,e.startPosition=this.startPosition,e.endPosition=this.endPosition,e.originalAbstractNode=this,e.containsAnyFragments=this.containsAnyFragments,e.containsChildStructures=this.containsChildStructures,e.isInScriptTag=this.isInScriptTag,e.isInStyleTag=this.isInStyleTag,e}id(){return this.refId}innerContent(){return this.cachedInnerContent==null&&(this.cachedInnerContent=this.content.replace('"','\\"')),this.cachedInnerContent}resetContentCache(){this.cachedContent=null,this.cachedInnerContent=null}hasMethodPart(){return this.name==null?!1:this.name.getMethodName()!=null}runtimeName(){return this.name==null?"":this.name.getCompoundTagName()}getTagName(){return this.name==null?"":this.name.name}getNameContent(){return this.name==null?"":this.name.content}getMethodNameValue(){if(this.name==null)return"";let e=this.name.getMethodName();return e!=null?e:""}methodIsEmptyOrMatches(e){return this.getMethodNameValue()==e}hasParameter(e){return this.findParameter(e)!=null}hasParameterWithValue(e,n){let r=this.findParameter(e);return r==null?!1:r.value==n}findParameterValue(e,n){let r=this.findParameter(e);return r==null?n:r.value}findParameterValueOrNull(e){let n=this.findParameter(e);return n==null?null:n.value}findParameter(e){if(this.parameters.length==0)return null;for(let n=0;n<this.parameters.length;n++)if(this.parameters[n].name==e)return this.parameters[n];return null}findAnyParameter(e){for(let n=0;n<e.length;n++){let r=this.findParameter(e[n]);if(r!=null)return r}return null}getContentRelativeStartIndex(){if(this.contentStartRelativeIndex==null){let e=this.content.split("");for(let n=0;n<e.length;n++)if(!te.ctypeSpace(e[n])){this.contentStartRelativeIndex=n;break}this.contentStartRelativeIndex==null&&(this.contentStartRelativeIndex=e.length),this.contentStartRelativeIndex+=this.rawStart.length}return this.contentStartRelativeIndex}getContentAfterName(){let e=0;return this.nameEndsOn!=null&&(e=this.nameEndsOn.char-this.rawStart.length-1),this.content.substring(e)}getContent(){if(this.cachedContent==null)if(this.isComment)this.cachedContent=this.content,this.contentOffset=this.startPosition;else if(this.isTagNode){let e=this.content;e=te.trimLeft(e);let n=0;if(this.name!=null&&(n=this.name.compound.length),this.parameters.length>0){let a=0,o=this.parameters[0];o.startPosition!=null&&(a=o.startPosition.index-1);let l=e,u=l.trimLeft(),c=l.length-u.length,f=n;e=e.substr(0,a)}let r=e.trimLeft(),i=e.length-r.length,s=n+i+2;if(this.parser!=null){let a=0;this.startPosition!=null&&(a=this.startPosition.offset),this.contentOffset==this.parser.positionFromOffset(a+s,0)}this.name!=null?this.name.name=="if"||this.name.name=="elseif"||this.name.name=="unless"||this.name.name=="elseunless"?(e=" "+e.trimLeft(),this.cachedContent=e.substr(this.name.compound.length+1)):this.cachedContent=e:this.cachedContent=e}else if(this.parameters.length>0){let e=this.parameters[0],n=0;e.startPosition!=null&&(n=e.startPosition.index-1),this.contentOffset=this.startPosition,this.cachedContent=this.content.substr(0,n)}else this.contentOffset=this.startPosition,this.cachedContent=this.content;return this.cachedContent}relativePositionFromOffset(e,n){var r,i;return this.parser==null?null:this.parser.positionFromOffset(((i=(r=this.contentOffset)==null?void 0:r.offset)!=null?i:0)+e,n)}getInterpolationNode(e){if(this.processedInterpolationRegions.has(e)){let n=this.processedInterpolationRegions.get(e);if(n.length>0&&n[0]instanceof z)return n[0]}return null}_lexerRelativeOffset(e,n=null){var a,o;let r=e;if(n!=null&&(r=n),this.parser==null){let l=new Ln;return l.index=e,l.offset=e,l}let i=e+this.rawStart.length+((o=(a=this.startPosition)==null?void 0:a.index)!=null?o:0);return this.isTagNode&&this.nameStartsOn!=null&&(i=this.nameStartsOn.index+e,Hn.isConditionalStructure(this)||(i-=this.rawStart.length)),this.parser.positionFromOffset(i,i,!0)}relativeOffset(e,n=null){var a,o;let r=e;if(n!=null&&(r=n),this.parser==null){let l=new Ln;return l.index=e,l.offset=e,l}let i=e+this.rawStart.length+((o=(a=this.startPosition)==null?void 0:a.index)!=null?o:0);return this.parser.positionFromOffset(i,i,!0)}isPaired(){return this.isClosingTag&&this.isSelfClosing==!1&&this.isOpenedBy!=null?!0:!(this.isClosedBy==null||this.isSelfClosing)}getFinalClosingTag(){return this.isClosedBy==null?this:this.isClosedBy.getFinalClosingTag()}rawContent(){return this.rawStart+this.content+this.rawEnd}getTrueRuntimeNodes(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRuntimeNodes():this.runtimeNodes}getTrueRawContent(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRawContent():this.rawContent()}getTrueNode(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueNode():this}getStructuralChildren(){return this.isClosedBy!=null?Zf(this.children.slice(0,-1)):Zf(this.children)}findParentOfType(e){return this.parent==null?null:this.parent instanceof z?this.parent.name!=null&&e.includes(this.parent.getTagName())?this.parent:this.parent.findParentOfType(e):null}},$n=class extends z{static makeWithStartPosition(e){let n=new $n;return n.startPosition=e,n.endPosition=e,n}},ht=class extends $n{},dr=class extends z{constructor(){super(...arguments);this.recursiveParent=null;this.isNestedRecursive=!1}},va=class extends z{constructor(){super(...arguments);this.isEchoNode=!1}},Ho=class extends $n{},sp=class extends $n{},ln=class extends z{constructor(){super(...arguments);this.isNoParseRegion=!1}},$o=class extends oe{constructor(){super(...arguments);this.modifier=null;this.isModifierParameter=!1;this.nameDelimiter='"';this.isVariableReference=!1;this.name="";this.value="";this.interpolations=[];this.parent=null;this.blockPosition=null;this.namePosition=null;this.valuePosition=null;this.hasValidValueDelimiter=!0}containsSimpleValue(){return this.hasInterpolations()==!1&&this.isVariableReference==!1}hasInterpolations(){return this.interpolations.length>0}getArrayValue(){return this.value.split("|")}getValue(){return this.value}},Ko=class{constructor(){this.modifierTarget=null;this.modifierChain=[];this.startPosition=null;this.endPosition=null;this.lastManifestedModifier=null;this.lastModifier=null}updateValues(){if(this.modifierChain.length==0)this.startPosition=null,this.endPosition=null;else{let e=this.modifierChain[0],n=this.modifierChain[this.modifierChain.length-1];this.startPosition=e.startPosition,this.endPosition=n.endPosition}}},Na=class extends oe{constructor(){super(...arguments);this.modifier=null;this.methodStyleArguments=null;this.nameNode=null;this.name="";this.valueNodes=[];this.parameters=[]}getParameterValues(){let e=[];return this.parameters.forEach(n=>{e.push(n.value)}),e}},zo=class extends oe{constructor(){super(...arguments);this.order=0;this.name=null;this.directionNode=null}},ap=class extends oe{constructor(){super(...arguments);this.value=""}},Fr=class extends oe{},mr=class extends oe{},Lr=class extends oe{},Kn=class extends oe{},zn=class extends oe{},fi=class extends oe{},zi=class extends oe{constructor(){super(...arguments);this.repeat=1}},pi=class extends oe{},Xn=class extends oe{},Cn=class extends oe{},kr=class extends oe{},Mr=class extends oe{},Qn=class extends oe{},Br=class extends oe{},Vr=class extends oe{},di=class extends oe{},kn=class extends oe{},hr=class extends oe{},Ai=class extends oe{},qr=class extends oe{},jr=class extends oe{},Ur=class extends oe{},Wr=class extends oe{},Gr=class extends oe{},Yr=class extends oe{},Ii=class extends oe{},Hr=class extends oe{},un=class extends oe{},ws=class extends oe{constructor(){super(...arguments);this.orderClauses=[]}},At=class extends oe{},hn=class extends oe{},Xo=class extends oe{constructor(){super(...arguments);this.left=null;this.right=null}},Pn=class extends oe{constructor(){super(...arguments);this.isTenaryBranchSeparator=!1}},$r=class extends oe{},gr=class extends oe{},cn=class extends oe{},_r=class extends oe{},mi=class extends oe{},yr=class extends oe{},Dn=class extends oe{},hi=class extends oe{},Yt=class extends oe{},Ht=class extends oe{},Ca=class extends oe{constructor(){super(...arguments);this.values=[];this.isNamedNode=!1;this.parsedName=null}},We=class extends oe{constructor(){super(...arguments);this.start=null;this.end=null;this.nodes=[];this.scopeOperator=null}},Pa=class extends oe{constructor(){super(...arguments);this.condition=null;this.expression=null}},Os=class extends oe{constructor(){super(...arguments);this.cases=[]}},op=class extends oe{constructor(){super(...arguments);this.left=null;this.right=null}},Ei=class extends oe{constructor(){super(...arguments);this.nodes=[]}},Qo=class extends oe{constructor(){super(...arguments);this.head=null;this.truthBranch=null;this.falseBranch=null}},Rt=class extends oe{},kt=class extends oe{constructor(){super(...arguments);this.nodes=[];this.separatorToken=null}},br=class extends We{constructor(){super(...arguments);this.scope=null}extract(){let e=null;this.scope!=null&&(e=this.scope.name);let n=this.nodes[0];return[e,n.nodes]}},xi=class extends br{constructor(){super(...arguments);this.alias=null}},Da=class extends oe{constructor(){super(...arguments);this.args=[];this.hasNamedArguments=!1;this.numberOfNamedArguments=0}},Tr=class extends oe{},lp=class extends oe{};var Xi=class extends oe{constructor(){super(...arguments);this.libraryName="";this.methodName="";this.arguments=null}},gt=class extends oe{constructor(){super(...arguments);this.sourceContent=""}},en=class extends oe{constructor(){super(...arguments);this.method=null;this.args=null}},tn=class extends oe{constructor(){super(...arguments);this.name=""}},$t=class extends oe{constructor(){super(...arguments);this.value="";this.name=""}},yu=class extends oe{constructor(){super(...arguments);this.name=null;this.value=null}},Jo=class extends oe{constructor(){super(...arguments);this.name=null;this.value=null}},Mt=class extends oe{constructor(){super(...arguments);this.value=null}},It=class extends oe{constructor(){super(...arguments);this.value="";this.sourceTerminator="";this.sourceContent=""}},Pe=class extends oe{constructor(){super(...arguments);this.name="";this.mergeRefName="";this.variableReference=null;this.interpolationNodes=[];this.isInterpolationReference=!1}},up=class extends oe{constructor(){super(...arguments);this.name=""}},Yn=class extends oe{constructor(){super(...arguments);this.delimiter="";this.name="";this.isStringVar=!1;this.isFinal=!1}},Qi=class{constructor(){this.originalContent="";this.normalizedReference="";this.isStrictTagReference=!1;this.isStrictVariableReference=!1;this.isExplicitVariableReference=!1;this.isVariableVariable=!1;this.pathParts=[];this.isFinal=!1;this._isFromEmptyFailState=!1}clone(){let e=new Qi;return e.originalContent=this.originalContent,e.normalizedReference=this.normalizedReference,e.isStrictVariableReference=this.isStrictVariableReference,e.isExplicitVariableReference=this.isExplicitVariableReference,e.pathParts=this.pathParts,e.isFinal=this.isFinal,e}implodePaths(){let e=[];return this.pathParts.forEach(n=>{n instanceof Yn?e.push(n.name):n instanceof Qi&&e.push(n.implodePaths())}),e.join(".")}},cp=class{constructor(e,n,r){this.target=e,this.value=n,this.operator=r}};var x0=je(ei());var Ba=je(vt());function pd(t,e){let n=[];if(t.currentNode==null)return n;let r={start:{line:t.position.line,character:t.position.character-0},end:t.position};for(let i=0;i<e.length;i++){let s=e[i];if(!t.currentNode.hasParameter(s.name)){let a=s.name+'="$1"';n.push({label:s.name,kind:Ba.CompletionItemKind.Value,insertTextFormat:Ba.InsertTextFormat.Snippet,textEdit:Ba.TextEdit.replace(r,a),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return n}var Wu=je(vt());function Va(t,e,n){return{label:t,insertText:t,kind:Wu.CompletionItemKind.Field,detail:n+": "+e}}function Gu(t){let e=[];for(let n=0;n<t.length;n++)typeof t[n].name!="undefined"&&e.push(dd(t[n]));return e}function dd(t){let e="",n=t.name;return t.instructionText!=null&&(e=t.instructionText),t.displayName!=null&&(n=t.displayName+" ("+t.name+")"),t.blueprintName!=null&&(e.trim().length>0&&(e+=`
`),e+="Blueprint: "+t.blueprintName),t.type!=null&&(n+=": "+t.type),{label:t.name,insertText:t.name,kind:Wu.CompletionItemKind.Field,documentation:e,detail:n}}function ke(t,e,n,r){let i="**"+t+"**  ";return i+=`
`,i+=e+"  ",i+="\n```antlers\n",i+=n,i+="\n```",r!=null&&(i+=`

`,i+="[Documentation Reference]("+r+")"),i}function B(t,e,n){let r="**"+t+"**  ";return r+=`
`,r+=e+"  ",n!=null&&(r+=`

`,r+="[Documentation Reference]("+n+")"),r}function qa(t){let e=[];return t=="order"&&e.push("sort"),e}function RE(t){return{blueprintName:t.sourceName,displayName:t.name,instructionText:"",maxItems:-1,name:t.name,refFieldSetField:null,type:t.dataType,sets:null,import:null}}function Yu(t){let e=[];for(let n=0;n<t.length;n++)e.push(RE(t[n]));return e}function Qe(t){return[{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"order",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t}]}function Xy(t,e,n){if(typeof n=="undefined"||n===null)return;let r=t.findParameter("as"),i=t.findParameter("scope");n=n.concat(Yu(Qe(t))),r!=null&&i!=null?e.introduceScopedAliasScope(t,i.value,r.value,n):r!=null?e.introduceAliasScope(t,r.value,n):i!=null?e.introduceDynamicScopeList(t,i.value,n):e.addBlueprintFields(t,n)}function Qy(t){return[{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t},{name:"total_results",dataType:"integer",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t}]}var ti=je(vt());var is=[{isRequired:!1,name:"from",description:"The collection name to retrieve entries from",aliases:["folder","use"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"not_from",aliases:["not_folder","dont_use"],description:"The collections to exclude when retrieving entries",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"show_unpublished",aliases:null,description:"Controls whether unpbulished entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_published",aliases:null,description:"Controls whether published entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_past",aliases:null,description:"Controls whether to display entries with a past date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"since",aliases:null,description:"Sets the minimum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"until",aliases:null,description:"Sets the maximum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the entry sort order",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",aliases:null,description:"Sets the maximum number of entries to return",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["integer"],isDynamic:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope",expectsTypes:["string"],isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets the amount that entry results should be offset by",expectsTypes:["integer"],isRequired:!1,name:"offset",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether not to paginate entry results",expectsTypes:["boolean","number"],isRequired:!1,name:"paginate",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies a name to give to a new entries array variable",expectsTypes:["string"],isRequired:!1,name:"as",isDynamic:!1},{name:"scope",aliases:null,acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Sets a prefix on all entry variables",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"locale",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the locale in which to retrieve entry content",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"redirects",aliases:["links"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Controls whether entries with redirects are returned",expectsTypes:["boolean"],isRequired:!1,isDynamic:!1},{name:"page_name",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"Allows you to customise the name of the URL query parameter used for pagination.",expectsTypes:["string"],isRequired:!1,isDynamic:!1}],Jy=["from","folder","use"],Zy=["not_from","not_folder","dont_use"],eb=["draft","scheduled","expired","published"];function tb(t){let e=[];if(t.project!=null){let n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position},r=t.project.getUniqueTaxonomyNames();for(let i=0;i<r.length;i++){let s=r[i],a=t.originalLeftWord+s+'="$1"';e.push({label:t.originalLeftWord+s,insertTextFormat:ti.InsertTextFormat.Snippet,kind:ti.CompletionItemKind.Field,textEdit:ti.TextEdit.replace(n,a),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return e}function ja(t,e){let n=[];if(t.reference!=null){let r=t.reference,i=e.statamicProject.getBlueprintFields(r.collectionNames);typeof i!="undefined"&&i!=null&&(n=i)}return n}function nb(t){let e=[],n=eb.filter(r=>!t.includes(r));for(let r=0;r<n.length;r++)e.push({label:n[r],kind:ti.CompletionItemKind.Variable});return e}function rb(t,e,n){let r=[],i=n.getTaxonomyTerms(e),s=i.filter(a=>!t.includes(a));for(let a=0;a<s.length;a++)r.push({label:s[a],kind:ti.CompletionItemKind.Variable});return r}function ib(t){let e=[],n=t.getCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:ti.CompletionItemKind.Variable});return e}function Ua(t,e){let n=[],r=e.getCollectionNames().filter(i=>!t.includes(i));for(let i=0;i<r.length;i++)n.push({label:r[i],kind:ti.CompletionItemKind.Variable});return n}function Hu(t){let e=[],n=t.getCollectionQueryScopes();for(let r=0;r<n.length;r++)e.push({label:n[r].name,detail:n[r].description,kind:ti.CompletionItemKind.Variable});return e}function Wa(t,e){if(t.isClosingTag)return e;if(t.hasMethodPart()&&t.getMethodNameValue()!="count"&&e.addVariables(Qy(t)),t.reference!=null){let n=ja(t,e),r=t.reference;n.length==0&&r.collectionNames.length>0&&(n.push({blueprintName:r.collectionNames[0],displayName:"Title",import:null,instructionText:"",maxItems:null,name:"title",type:"string",refFieldSetField:null,sets:[]}),n.push({blueprintName:r.collectionNames[0],displayName:"Slug",import:null,instructionText:"",maxItems:null,name:"slug",type:"string",refFieldSetField:null,sets:[]}),n.push({blueprintName:r.collectionNames[0],displayName:"Date",import:null,instructionText:"",maxItems:null,name:"date",type:"string",refFieldSetField:null,sets:[]})),Xy(t,e,n)}return e}var hl=je(ei());var $u=je(vt());var md=[{name:"is",description:"Tests if a field is equal to a value"},{name:"equals",description:"Tests if a field is equal to a value"},{name:"not",description:"Tests if a field is not equal to a value"},{name:"isnt",description:"Tests if a field is not equal to a value"},{name:"exists",description:"Tests if a field exists"},{name:"isset",description:"Tests if a field exists"},{name:"doesnt_exist",description:"Tests if a field does not exist"},{name:"is_empty",description:"Tests if a field does not exist"},{name:"null",description:"Tests if a field does not exist"},{name:"contains",description:"Tests if a field contains a value"},{name:"doesnt_contain",description:"Tests if a field does not contain a value"},{name:"in",description:"Tests if a value is in an array"},{name:"not_in",description:"Tests if an array does not contain a value"},{name:"starts_with",description:"Tests if a field starts with a value"},{name:"doesnt_start_with",description:"Tests if a field does not start with a value"},{name:"ends_with",description:"Tests if a field ends with a value"},{name:"doesnt_end_with",description:"Tests if a field does not end with a value"},{name:"gt",description:"Tests if a field is greater than a value"},{name:"lt",description:"Tests if a field is less than a value"},{name:"gte",description:"Tests if a field is greater than or equal to a value"},{name:"lte",description:"Tests if a field is less than or equal to a value"},{name:"matches",description:"Tests if a field matches a case insensitive regex"},{name:"regex",description:"Tests if a field matches a case insensitive regex"},{name:"doesnt_match",description:"Tests if a field does not match a case insensitive regex"},{name:"is_alpha",description:"Tests if a field contains only alphabetical characters"},{name:"is_numeric",description:"Tests if a field contains only numeric characters"},{name:"is_alpha_numeric",description:"Tests if a field contains only alpha-numeric characters"},{name:"is_url",description:"Tests if a field is a valid URL"},{name:"is_embeddable",description:"Tests if a field is an embeddable video URL"},{name:"is_email",description:"Tests if a field is a valid email address"},{name:"is_after",description:"Tests if a field is after a given date"},{name:"is_before",description:"Tests if a field is before a given date"}];function ss(t){let e=[],n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};for(let r=0;r<md.length;r++){let i=md[r],s=t.originalLeftWord+i.name+'="$1"';e.push({label:i.name,insertTextFormat:$u.InsertTextFormat.PlainText,kind:$u.CompletionItemKind.Field})}return e}var js=je(Bn());var hd=class{static clear(e){this.unclosedNodes.delete(e)}static registerNodes(e,n){this.unclosedNodes.set(e,n)}static getUnclosedTags(e,n){var a,o,l;let r=[];if(this.unclosedNodes.has(e)==!1)return r;let i=this.unclosedNodes.get(e);if(i.length==0)return r;let s=n.line+1;for(let u=0;u<i.length;u++){let c=i[u];(((a=c.endPosition)==null?void 0:a.line)==s&&n.character>c.endPosition.char||s>((l=(o=c.endPosition)==null?void 0:o.line)!=null?l:0))&&r.push(c)}return r}static hasUnclosedTags(e,n){return this.unclosedNodes.has(e)==!1?!1:this.getUnclosedTags(e,n).length>0}};hd.unclosedNodes=new Map;function as(t){return[{name:"edit_url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"id",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"last_modified",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"permalink",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"published",dataType:"boolean",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"slug",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"template",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t}]}var er=je(ei()),wE=[{label:"name",kind:er.CompletionItemKind.Property},{label:"description",kind:er.CompletionItemKind.Property},{label:"desc",kind:er.CompletionItemKind.Property},{label:"entry",kind:er.CompletionItemKind.Property},{label:"collection",kind:er.CompletionItemKind.Property},{label:"blueprint",kind:er.CompletionItemKind.Property},{label:"var",kind:er.CompletionItemKind.Property},{label:"set",kind:er.CompletionItemKind.Property},{label:"param",kind:er.CompletionItemKind.Property},{label:"param*",kind:er.CompletionItemKind.Property},{label:"front",kind:er.CompletionItemKind.Property},{label:"format",kind:er.CompletionItemKind.Property}];var Ku=je(vt()),yV=[{label:"if",kind:Ku.CompletionItemKind.Keyword},{label:"elseif",kind:Ku.CompletionItemKind.Keyword},{label:"else",kind:Ku.CompletionItemKind.Keyword}];var gd=je(ei()),OE=je(vt());var _d=je(vt()),ml=[];ml.push({label:"true",kind:_d.CompletionItemKind.Keyword});ml.push({label:"false",kind:_d.CompletionItemKind.Keyword});function ze(t){return[{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"value",introducedBy:t},{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"key",introducedBy:t}]}var FE={name:"array",augmentScope:(t,e)=>{e.addVariables(ze(t)),e.addVariables(Qe(t))}},sb=FE;function Ga(t){return[{name:"id",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"title",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"path",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"basename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_asset",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_audio",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_previewable",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_video",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"edit_url",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"permalink",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_b",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_kb",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_mb",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_gb",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus_css",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"width",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"orientation",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"ratio",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"mime_type",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"duration",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"duration_seconds",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"duration_sec",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"playtime",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t}]}var LE={name:"assets",augmentScope:(t,e)=>{e.addVariables(ze(t)),e.addVariables(Ga(t))}},ab=LE;var kE={name:"bard",augmentScope:(t,e)=>{e.addVariable({name:"type",dataType:"string",sourceField:null,sourceName:"*internal.bard",introducedBy:t})},injectCompletions:(t,e,n)=>[]},ob=kE;var ME={name:"form_multiple",augmentScope:(t,e)=>{e.addVariables(ze(t)),e.addVariables(Qe(t))}},lb=ME;var BE={name:"list",augmentScope:(t,e)=>{e.addVariables(ze(t)),e.addVariables(Qe(t))}},ub=BE;function cb(t){return[{name:"type",dataType:"string",sourceName:"*internal.replicator",sourceField:null,introducedBy:t}]}var VE={name:"replicator",augmentScope:(t,e)=>{e.addVariables(cb(t)),e.addVariables(Qe(t))},injectCompletions:(t,e,n)=>[]},fb=VE;var qE={name:"select_multiple",augmentScope:(t,e)=>{e.addVariables(ze(t)),e.addVariables(Qe(t))}},pb=qE;var jE={name:"sites_multiple",augmentScope:(t,e)=>{e.addVariables(ze(t)),e.addVariables(Qe(t))}},db=jE;var UE={name:"structures_multiple",augmentScope:(t,e)=>{e.addVariables(ze(t)),e.addVariables(Qe(t))}},mb=UE;var WE={name:"table",augmentScope:(t,e)=>{e.addVariable({name:"cells",dataType:"array",sourceName:"*internal.fieldtype.table",sourceField:null,introducedBy:t})}},hb=WE;var GE={name:"tags",augmentScope:(t,e)=>{e.addVariables(ze(t)),e.addVariables(Qe(t))}},gb=GE;function zu(t){return as(t).concat([{name:"entries_count",dataType:"number",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"is_term",dataType:"boolean",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"taxonomy",dataType:"string",sourceName:"*internal.term",sourceField:null,introducedBy:t}])}var YE={name:"taxonomies_multiple",augmentScope:(t,e)=>{e.addVariables(ze(t)),e.addVariables(Qe(t)),e.addVariables(zu(t))}},_b=YE;var HE={name:"terms_multiple",augmentScope:(t,e)=>{e.addVariables(ze(t)),e.addVariables(Qe(t)),e.addVariables(zu(t))}},yb=HE;var $E={name:"user_groups_multiple",augmentScope:(t,e)=>{e.addVariables(ze(t)),e.addVariables(Qe(t))}},bb=$E;var KE={name:"user_roles_multiple",augmentScope:(t,e)=>{e.addVariables(ze(t)),e.addVariables(Qe(t))}},Tb=KE;var zE={name:"users_multiple",augmentScope:(t,e)=>{e.addVariables(ze(t)),e.addVariables(Qe(t)),e.injectBlueprint(t,"user")}},vb=zE;var XE={name:"yaml",augmentScope:(t,e)=>{e.addVariables(ze(t)),e.addVariables(Qe(t))}},Nb=XE;var QE=[sb,ab,ob,lb,ub,fb,pb,db,mb,Nb,hb,_b,gb,yb,vb,bb,Tb],Cb=QE;var os=class{constructor(){this.fieldTypes=new Map}getFieldTypes(){return this.fieldTypes}getFieldType(e){return this.fieldTypes.get(e)}registerFieldtypes(e){for(let n=0;n<e.length;n++)this.fieldTypes.set(e[n].name,e[n])}loadCoreFieldtypes(){this.registerFieldtypes(Cb)}hasFieldtype(e){return this.fieldTypes.has(e)}};os.instance=null;(typeof os.instance=="undefined"||os.instance==null)&&(os.instance=new os,os.instance.loadCoreFieldtypes());var Ya=os;function Xu(t){let e="";return t.currentNode!=null&&(e=t.currentNode.getMethodNameValue()),e}function Mi(t){if(t.includes(":")==!1)return t;let e=t.split(":");return e.length>1?e[e.length-1]:e[0].trim()}function Qu(t){return t.includes(":")==!1?t:t.split(":")[0]}function Pb(t){var n;if(t.nodesInScope.length==0)return[];let e=t.nodesInScope[t.nodesInScope.length-1];return((n=t.context)==null?void 0:n.node)!=null&&(e=t.context.node),e.currentScope==null?[]:JE(t,e.currentScope)}function JE(t,e){let n=[];return e.values.forEach(r=>{var i;if(r.sourceField!=null?n.push({label:r.name,detail:r.sourceField.blueprintName,documentation:(i=r.sourceField.instructionText)!=null?i:"",kind:js.CompletionItemKind.Field}):n.push(Va(r.name,"","")),r.dataType.trim().length>0&&r.dataType=="array"){let s=r.name+` }}
    $1
{{ /`+r.name+" ",a={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};n.push({label:r.name+" loop",insertTextFormat:js.InsertTextFormat.Snippet,kind:js.CompletionItemKind.Snippet,textEdit:js.TextEdit.replace(a,s),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}),e.lists.forEach((r,i)=>{n.push(Va(i,"",""))}),n}var Db=je(ei());function De(t){let e="";typeof t!="undefined"&&typeof t.resolveDocumentation!="undefined"&&t.resolveDocumentation!=null&&(e=t.resolveDocumentation());let n=t.tagName;if(n.includes(":")){let r=n.split(":");n=r[r.length-1]}return{label:n,kind:Db.CompletionItemKind.Text,sortText:"1",documentation:{kind:"markdown",value:e}}}var yd=je(vt());function Sb(t,e,n){return{name:t,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:e,expectsTypes:["string"],isDynamic:!0,isRequired:!1,documentationLink:n,docLinkName:"MDN Reference"}}var Ab=Sb("class","A space-separated list of the classes of the element.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/class"),Ib=Sb("style","Contains CSS styling declarations to be applied to the element. Note that it is recommended for styles to be defined in a separate file or files.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/style");function Ju(t){return t=="class"?Ab:t=="style"?Ib:{name:t,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"",expectsTypes:["string","number","array"],isRequired:!1,isDynamic:!0}}function Eb(t){let e=[];for(let n=0;n<t.length;n++)e.push({label:t[n],kind:yd.CompletionItemKind.Field});return le(e)}function yt(t){let e=[];for(let n=0;n<t.length;n++)e.push({label:t[n],kind:yd.CompletionItemKind.Field});return le(e)}function le(t){return{items:t,isExclusiveResult:!0,analyzeDefaults:!1}}function _n(t){return{items:t,isExclusiveResult:!1,analyzeDefaults:!0}}var Se={items:[],isExclusiveResult:!1,analyzeDefaults:!0};function lt(t,e){let n=ZE(t);return n.tagName=e,n}function ZE(t){return{allowsArbitraryParameters:t.allowsArbitraryParameters,allowsContentClose:t.allowsContentClose,injectParentScope:t.injectParentScope,parameters:t.parameters,requiresClose:t.requiresClose,tagName:t.tagName,introducedIn:t.introducedIn,hideFromCompletions:t.hideFromCompletions,augmentScope:t.augmentScope,requiresCloseResolver:t.requiresCloseResolver,resolveCompletionItems:t.resolveCompletionItems,resolveDynamicParameter:t.resolveDynamicParameter,resolveSpecialType:t.resolveSpecialType,resovleParameterCompletionItems:t.resovleParameterCompletionItems,suggestAlternativeParams:t.suggestAlternativeParams,resolveDocumentation:t.resolveDocumentation}}function xb(t){return t.findParameterValueOrNull("scope")}function Rb(t){t.getAllNodes().forEach(n=>{n instanceof z&&n.manifestType==="array"&&(n.mustClose=!0)})}function ex(t){return t.findParameterValueOrNull("as")}var tx=["count","next","previous"];function nx(t,e){let n=[];if(t.hasMethodPart()){let o=t.getMethodNameValue();if(tx.includes(o)==!1)return n.push(o),n}let r=t.findAnyParameter(Jy),i=t.findAnyParameter(Zy),s=[],a=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueCollectionNames(),typeof i!="undefined"&&i!==null&&i.isVariableReference==!1&&i.hasInterpolations()==!1&&(a=i.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),a.length>0?n=s.filter(function(o){return a.includes(o)==!1}):n=s,n}function ls(t,e){var u,c,f,d,_,p;let n=nx(t,e),r=!1,i=!1,s=!1,a=null,o="";if(t.isClosingTag==!1){let m=ex(t),g=xb(t);m!=null&&(r=!0,o=m),g!=null&&(s=!0,a=g),i=t.hasParameter("paginate")}return{context:{collectionNames:n!=null?n:[],endPosition:(c=(u=t.endPosition)==null?void 0:u.char)!=null?c:0,aliasName:o,isAliased:r,isScoped:s,scopeName:a,isStartOfScope:!t.isClosingTag,line:(d=(f=t.startPosition)==null?void 0:f.line)!=null?d:0,startPosition:(p=(_=t.startPosition)==null?void 0:_.char)!=null?p:0,isPaginated:i,excludeCollections:[],includeCollections:[]},issues:[]}}function Ha(t,e){if(t==null)return null;let n=Rs(e,":");return n.includes(":")&&(n=n.split(":")[0]),n=="status"||n=="taxonomy"||t.currentScope!=null&&t.currentScope.containsReference(n)?Ju(e):null}var rx=["from","folder","use","not_from","not_folder"],ix=["previous","next"],sx=["in","collection"];function us(t,e){var n,r,i,s,a,o,l,u,c,f;if(t.isDynamic){let d=Qu(t.name);if(e.nodesInScope.length>0){let _=e.nodesInScope[e.nodesInScope.length-1];if(_!=null&&_.currentScope!=null){let p=ja(_,_.currentScope),m=p.map(h=>h.name),g=Mi(e.leftWord);if(m.includes(g))return le(ss(e))}}if(d=="status"&&((n=e.context)==null?void 0:n.parameterContext)!=null)return le(nb((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[]));if(d=="taxonomy"){let _=Mi(t.name);if(e.project.hasTaxonomy(_)&&((s=e.context)==null?void 0:s.parameterContext)!=null)return le(rb((o=(a=e.context.parameterContext.parameter)==null?void 0:a.getArrayValue())!=null?o:[],_,e.project))}}if(t.name=="filter"||t.name=="query_scope")return le(Hu(e.project));if(e.nodesInScope.length>0){let d=e.nodesInScope[e.nodesInScope.length-1];if(d.hasMethodPart()&&ix.includes(d.getMethodNameValue())&&sx.includes(t.name))return le(ib(e.project))}return rx.includes(t.name)&&((l=e.context)==null?void 0:l.parameterContext)!=null?le(Ua((f=(c=(u=e.context)==null?void 0:u.parameterContext.parameter)==null?void 0:c.getArrayValue())!=null?f:[],e.project)):null}var ax={tagName:"collection:previous",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...is,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:Wa,resolveDynamicParameter:Ha,resolveSpecialType:ls,suggestAlternativeParams:qa,resovleParameterCompletionItems:us,resolveCompletionItems:$a,resolveDocumentation:t=>ke("collection:previous Tag","The `collection:previous` tag is used to show the entries that appear before the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the previous two entries, based on dates in ascending order. #}}
{{ collection:previous in="articles" limit="2" sort="date:asc" }}

{{ /collection:previous }}`,"https://statamic.dev/tags/collection-previous")},Us=ax;var Zu=lt(Us,"collection:older"),ec=lt(Us,"collection:newer");var ox={tagName:"collection:count",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...is,{isRequired:!0,name:"in",aliases:["from"],description:"The collection from which to count entries",acceptsVariableInterpolation:!0,allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:ls,resovleParameterCompletionItems:us,resolveDocumentation:t=>ke("collection:count Tag","The `collection:count` tag returns the total number of entries in the specified collection(s). The collection count tag accepts the same parameters as the collection tag, allowing developers to count entries that meet specific conditions.",`Total entry count: {{ collection:count in="collection-name" }}
Draft count: {{ collection:count in="collection-name" status:in="draft" }}`,"https://statamic.dev/tags/collection-count")},tc=ox;var lx={tagName:"collection:next",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...is,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:Wa,resolveDynamicParameter:Ha,resolveSpecialType:ls,suggestAlternativeParams:qa,resovleParameterCompletionItems:us,resolveCompletionItems:$a,resolveDocumentation:t=>ke("collection:next Tag","The `collection:next` tag is used to show the entries that will appear after the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the next two entries, based on dates in ascending order. #}}
{{ collection:next in="articles" limit="2" sort="date:asc" }}

{{ /collection:next }}`,"https://statamic.dev/tags/collection-next")},nc=lx;function $a(t){var n,r;let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="collection"||t.leftWord=="/collection")&&t.leftChar==":"){let i=t.project.getCollectionNames();for(let s=0;s<i.length;s++)e.push({label:i[s],kind:hl.CompletionItemKind.Field,sortText:"0"});return e.push(De(tc)),e.push(De(nc)),e.push(De(Us)),e.push(De(Zu)),e.push(De(ec)),{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}if(t.currentNode!=null&&t.currentNode.currentScope!=null){let i=ja(t.currentNode,t.currentNode.currentScope),s=i.map(o=>o.name),a=Mi(t.leftWord);if(a==="taxonomy")return le(tb(t));if(s.includes(a))return e=ss(t),le(e);if(t.isCaretInTag&&!((n=t.context)==null?void 0:n.isInParameter)&&["collection","/collection"].includes(t.leftWord)==!1&&t.leftChar!=" "){let o=[];for(let l=0;l<i.length;l++){let u=i[l];o.includes(u.name)==!1&&(e.push({label:u.name,detail:u.blueprintName,documentation:(r=u.instructionText)!=null?r:"",kind:hl.CompletionItemKind.Field}),o.push(u.name))}if(e.push({label:"taxonomy",insertText:"taxonomy:",kind:hl.CompletionItemKind.Field}),e.push({label:"status",insertText:"status:",kind:hl.CompletionItemKind.Field}),e.length>0)return _n(e)}}return Se}var ux={tagName:"collection",hideFromCompletions:!1,introducedIn:null,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:is,augmentScope:Wa,resolveDynamicParameter:Ha,resolveSpecialType:ls,suggestAlternativeParams:qa,resovleParameterCompletionItems:us,resolveCompletionItems:$a,resolveDocumentation:t=>ke("collection Tag","The `collection` tag provides access to entry data such as blog posts, products, etc.",`{{ collection:articles as="posts" }}

	{{ posts }}
		{{ title }}
	{{ /posts }}

{{ /collection:articles }}`,"https://statamic.dev/tags/collection")},wb=ux;var cx={tagName:"cache",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,allowsContentClose:!1,allowsArbitraryParameters:!1,resovleParameterCompletionItems:(t,e)=>t.name=="scope"?yt(["page","site","user"]):null,parameters:[{isRequired:!1,name:"for",description:"The duration the cache is valid for.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"key",description:"An arbitrary name the cache entry may be referenced by.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"scope",description:" The scope of the cached value. Either site or page.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:(t,e)=>{let n=t.findParameter("key"),r=null;if(n!=null){let i=n.value;i.trim().length>0&&(r={key:i,reference:t})}return{context:r,issues:[]}},resolveDocumentation:t=>ke("cache Tag","The `cache` tag can be used to save the results of an expensive template operation. The duration of the cache can be configured.",`{{ cache for="10 minutes" }}
    {{# Template code that won't be re-rendered for at least 10 minutes. #}}
{{ /cache }}`,"https://statamic.dev/tags/cache")},Ob=cx;var fx={tagName:"dump",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.leftWord=="dump"&&t.leftChar==":"?le(Pb(t)):Se,resolveDocumentation:t=>ke("dump Tag","The `dump` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered.",`{{ collection:articles }}
	{{# View all data available, for each entry. #}}
    {{ dump }}
{{ /collection:articles }}`,"https://statamic.dev/tags/dump")},Fb=fx;var px={tagName:"404",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>ke("404 (Not Found) Tag","The `404` (Not Found) tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ 404 }}
{{ /unless }}`,"https://statamic.dev/tags/404")},Lb=px;var dx={tagName:"link",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The relative path",expectsTypes:["string"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!0,isDynamic:!1},{name:"absolute",description:"Whether to generate absolute URLs. Default false",expectsTypes:["boolean"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1},{name:"id",description:"The ID of the entry to link to",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1},{name:"in",description:"The handle of the site to link to.",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>B("link Tag","The `link` tag accepts relative URLs or entry IDs and generates fully-qualified URLs to the desired content.","https://statamic.dev/tags/link")},kb=dx;var Mb={tagName:"loop",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>B("loop Tag","The `loop` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")},Bb={tagName:"range",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>B("range Tag","The `range` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")};var tr=je(ei());var Ws=class{constructor(){this.loadedDocuments=new Map;this.activeProject=null}getDocuments(){let e=[];return this.loadedDocuments.forEach(n=>{e.push(n)}),e}setProject(e){this.activeProject=e,this.loadedDocuments.forEach(n=>{this.activeProject!=null&&n.updateProject(this.activeProject)})}refreshDocumentState(){this.activeProject!=null&&this.setProject(this.activeProject)}hasDocument(e){return this.loadedDocuments.has(e)}createDocument(e){if(!this.loadedDocuments.has(e)){let n=new Kt;n.documentUri=e,this.loadedDocuments.set(e,n)}}loadDocument(e,n){this.loadedDocuments.set(e,Kt.fromText(n))}getDocument(e){return this.loadedDocuments.get(e)}updateDocument(e,n){var r,i;if(this.loadedDocuments.has(e)){let s=this.loadedDocuments.get(e);s.loadString(n);let a=(i=(r=cr.instance)==null?void 0:r.getStructure())==null?void 0:i.findView(e);a!=null&&(a.document=s)}}createOrUpdate(e,n){this.createDocument(e),this.updateDocument(e,n)}getDocumentErrors(e){return this.loadedDocuments.has(e)?this.loadedDocuments.get(e).errors.all():[]}};Ws.instance=null;(typeof Ws.instance=="undefined"||Ws.instance==null)&&(Ws.instance=new Ws);var Vb=Ws;var bd=new Vb;function $e(t,e){return e.trim().length>0?Ju(e):null}var Ka=[{isRequired:!1,name:"src",description:"The name of the partial view.",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"when",description:"A condition to control whether the partial renders. The partial will not render unless it receives a truthy value.",allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["*"],isDynamic:!1},{isRequired:!1,name:"unless",description:"A condition to control whether the partial renders. The partial will not render unless it receives a falsey value.",allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["*"],isDynamic:!1}];var gl=je(ei());function za(t,e){var n;if(t.isDynamic&&e.currentNode!=null&&e.currentNode.getTagName()=="partial"&&e.currentNode.hasMethodPart()){let r=e.currentNode.getMethodNameValue();if(r.trim().length>0&&((n=cr.instance)==null?void 0:n.hasStructure())){let i=cr.instance.getStructure().findRelativeView(r);if(i!=null&&i.varReferenceNames.has(t.name)){let s=i.varReferenceNames.get(t.name);if(i.document!=null&&i.document.hasFrontMatter()){let a=i.document.getFrontMatterScope();if(a!=null){let o=a.getList(s);if(o!=null)return Eb(o.getVariableNames())}}}}}if(t.name=="src"){let r=e.project.getViews(),i=[];return r.forEach(s=>{if(ci.hasDetails(s.documentUri)){let a=ci.documentDetails.get(s.documentUri);i.push({label:a.documentName+"("+s.relativeDisplayName+")",insertText:s.relativeDisplayName,detail:a.documentName,documentation:{kind:gl.MarkupKind.Markdown,value:a.documentDescription},kind:gl.CompletionItemKind.File})}else i.push({label:s.relativeDisplayName,kind:gl.CompletionItemKind.File})}),le(i)}return null}var mx={tagName:"partial:exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:Ka,introducedIn:"3.2.7",resovleParameterCompletionItems:za,resolveDocumentation:t=>B("partial:exists Tag","The `partial:exists` can be used within conditional statements to test if a partial exists.","https://statamic.dev/tags/partial-exists")},rc=mx;var hx={tagName:"partial:if_exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:Ka,introducedIn:"3.2.7",resovleParameterCompletionItems:za,resolveDocumentation:t=>B("partial:if_exists Tag","The `partial:if_exists` can be used to output the contents of a partial if it exists.","https://statamic.dev/tags/partial-if-exists")},ic=hx;function qb(t){if(t.getTagName()!="partial")return null;let e="";if(t.hasMethodPart())e=t.getMethodNameValue();else{let n=t.findParameter("src");n!=null&&(e=n.value)}return e}var gx=[De(rc),De(ic)],_x={tagName:"partial",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!0,parameters:Ka,requiresClose:!1,allowsContentClose:!0,introducedIn:null,resolveDocumentation:t=>`**Partial Tag**  
Includes another view into the current template.  

[Documentation Reference](https://statamic.dev/tags/partial)
`,resolveDynamicParameter:$e,resovleParameterCompletionItems:za,resolveCompletionItems:t=>{let e=[];if(t.leftChar=='"'&&t.leftWord==':src="')return{items:[],analyzeDefaults:!0,isExclusiveResult:!1};if((t.leftWord=="partial"||t.leftWord=="/partial")&&t.leftChar==":"||t.leftWord=='src="'&&t.leftChar=='"')return t.project.getViews().forEach(r=>{let i=decodeURIComponent(r.documentUri);if(ci.hasDetails(i)){let s=ci.documentDetails.get(i);e.push({label:s.documentName+"("+r.relativeDisplayName+")",insertText:r.relativeDisplayName,detail:s.documentName,documentation:{kind:tr.MarkupKind.Markdown,value:s.documentDescription},kind:tr.CompletionItemKind.File})}else e.push({label:r.relativeDisplayName,kind:tr.CompletionItemKind.File})}),t.leftWord!='src="'&&(e=e.concat(gx)),{analyzeDefaults:!1,isExclusiveResult:!0,items:e};if(t.currentNode!=null&&t.project!=null){let n=qb(t.currentNode);if(n!=null&&n.trim().length>0){let r=t.project.findRelativeView(n);if(r!=null&&bd.hasDocument(r.documentUri)){let i=bd.getDocument(r.documentUri);if(i!=null){let s=i.getAllAntlersNodes(),a=yx(s),o=[];r.varReferenceNames!=null&&r.varReferenceNames.forEach((u,c)=>{a.push(c)});let l=[];if(r.injectsParameters.length>0){let u={start:{line:t.position.line,character:t.position.character-0},end:t.position};r.injectsParameters.forEach(c=>{let f=c.name+'="$1"';o.includes(c.name)||(o.push(c.name),l.push({label:c.name,kind:tr.CompletionItemKind.Value,insertTextFormat:tr.InsertTextFormat.Snippet,textEdit:tr.TextEdit.replace(u,f),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}if(a.length>0){let u={start:{line:t.position.line,character:t.position.character-0},end:t.position};a.forEach(c=>{let f=c+'="$1"';o.includes(c)||(o.push(c),l.push({label:c,kind:tr.CompletionItemKind.Value,insertTextFormat:tr.InsertTextFormat.Snippet,textEdit:tr.TextEdit.replace(u,f),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}return _n(l)}}}}return{analyzeDefaults:!0,isExclusiveResult:!1,items:[]}}};function yx(t){let e=[];return t.forEach(n=>{if(n.isTagNode||n.isClosingTag||n.isComment||n.hasMethodPart()&&n.getMethodNameValue().length>0||n.name!=null&&n.name.content.includes("["))return;let r=n.getTagName();!e.includes(r)&&r!="#"&&r!="slot"&&e.push(r)}),e}var jb=_x;var bx={tagName:"increment:reset",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:"3.2.28",parameters:[{isRequired:!0,name:"counter",aliases:[],description:"The incrementing counter to reset",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"to",aliases:[],description:"An optional value to reset the counter to before incrementing starts again",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveDocumentation:t=>ke("increment:reset Tag","The `increment:reset` tag can be used to reset the value of an incrementing counter.",`{{ array_variable }}
    {{ increment:counter_name }}
{{ /array_variable }}

{{ increment:reset counter="counter_name" }}
`,null)},sc=bx;var Tx=[De(sc)],vx={tagName:"increment",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!1,name:"from",aliases:[],description:"The number to start incrementing by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"by",aliases:[],description:"The number to increment by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveCompletionItems:t=>t.leftWord=="increment"||t.leftWord=="/increment"&&t.leftChar==":"?le(Tx):Se,resolveDocumentation:t=>B("increment Tag","The `increment` tag can be used to increment a value each time the tag is encountered.","https://statamic.dev/tags/increment")},Ub=vx;var Td=class{constructor(e){this.node=e}},Wb={tagName:"yields",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new Td(t),issues:[]})},Gb={tagName:"yield",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new Td(t),issues:[]}),resolveDocumentation:t=>B("yield Tag","The `yield` tag may be used to push rendered content to named regions within a template's structure.","https://statamic.dev/tags/yield")};var ac=je(vt());var Yb=[{handle:"access cp"},{handle:"configure collections"},{handle:"[view edit create delete publish reorder] {collection} entries"},{handle:"configure structures"},{handle:"[view edit] {structure} structure"},{handle:"edit {global} globals"},{handle:"[view upload edit move rename delete] {container} assets"},{handle:"[view perform] updates"},{handle:"[view edit create delete] users"},{handle:"change passwords"},{handle:"edit roles"},{handle:"configure forms"},{handle:"[view delete] {form} submissions"}];var cs=class{constructor(){this.contextItems=new Map;this.triggerNames=[];this.collectionTriggers=[];this.collectionTriggerCaps=[];this.globalTriggers=[];this.globalTriggerCaps=[];this.formTriggers=[];this.formTriggerCaps=[];this.structureTriggers=[];this.structureTriggerCaps=[];this.assetTriggers=[];this.assetTriggerCaps=[]}getCollectionTriggerCaps(){return this.collectionTriggerCaps}getGlobalTriggerCaps(){return this.globalTriggerCaps}getFormTriggerCaps(){return this.formTriggerCaps}getStructureTriggerCaps(){return this.structureTriggerCaps}getAssetTriggerCaps(){return this.assetTriggerCaps}loadCorePermissions(){this.registerPermissions(Yb)}getTriggerNames(){return this.triggerNames}isCollectionTrigger(e){return this.collectionTriggers.includes(e)}isGlobalTrigger(e){return this.globalTriggers.includes(e)}isFormTrigger(e){return this.formTriggers.includes(e)}isStructureTrigger(e){return this.structureTriggers.includes(e)}isAssetTrigger(e){return this.assetTriggers.includes(e)}getTriggerContextItems(e){return this.contextItems.has(e)?this.contextItems.get(e):[]}registerSpecialTrigger(e,n,r){n=="{collection}"?(this.collectionTriggerCaps.includes(r)==!1&&this.collectionTriggerCaps.push(r),this.collectionTriggers.includes(e)==!1&&this.collectionTriggers.push(e)):n=="{structure}"?(this.structureTriggerCaps.includes(r)==!1&&this.structureTriggerCaps.push(r),this.structureTriggers.includes(e)==!1&&this.structureTriggers.push(e)):n=="{container}"?(this.assetTriggerCaps.includes(r)==!1&&this.assetTriggerCaps.push(r),this.assetTriggers.includes(e)==!1&&this.assetTriggers.push(e)):n=="{global}"?(this.globalTriggerCaps.includes(r)==!1&&this.globalTriggerCaps.push(r),this.globalTriggers.includes(e)==!1&&this.globalTriggers.push(e)):n=="{form}"&&(this.formTriggerCaps.includes(r)==!1&&this.formTriggerCaps.push(r),this.formTriggers.includes(e)==!1&&this.formTriggers.push(e))}addContextToTrigger(e,n){var r;this.triggerNames.includes(e)==!1&&this.triggerNames.push(e),this.contextItems.has(e)==!1?this.contextItems.set(e,[n]):(r=this.contextItems.get(e))==null||r.push(n)}registerPermissions(e){for(let n=0;n<e.length;n++){let r=e[n],i=[],s="",a="";if(r.handle.includes("[")&&r.handle.includes("]")){let o=r.handle.indexOf("["),l=r.handle.indexOf("]"),u=l-o,c=r.handle.substr(o+1,u-1).split(" ").filter(d=>d.trim().length>0),f=r.handle.substr(l+1).split(" ").filter(d=>d.trim().length>0);i=c,f.length==2?(s=f[0],a=f[1]):f.length==1&&(s="",a=f[0])}else{let o=r.handle.split(" ").filter(l=>l.trim().length>0);o.length==2&&(i=[o[0]],a=o[1])}for(let o=0;o<i.length;o++){let l=i[o];s.trim().length>0?this.registerSpecialTrigger(l,s,a):this.addContextToTrigger(l,a)}}}};cs.instance=null;(typeof cs.instance=="undefined"||cs.instance==null)&&(cs.instance=new cs,cs.instance.loadCorePermissions());var nr=cs;function Hb(t,e){var r,i,s,a,o,l,u,c,f,d,_,p,m,g,h,b,y,x,D;let n=[];if(t.trim().length==0){let G=(i=(r=nr.instance)==null?void 0:r.getTriggerNames())!=null?i:[];for(let q=0;q<G.length;q++)n.push({label:G[q],kind:ac.CompletionItemKind.Value})}else{let G=t.split(" ").filter(re=>re.trim().length>0),q=G[0],C=(a=(s=nr.instance)==null?void 0:s.getTriggerContextItems(q))!=null?a:[],U=(o=nr.instance)==null?void 0:o.isCollectionTrigger(q),Z=(l=nr.instance)==null?void 0:l.isGlobalTrigger(q),Y=(u=nr.instance)==null?void 0:u.isFormTrigger(q),Q=(c=nr.instance)==null?void 0:c.isStructureTrigger(q),se=(f=nr.instance)==null?void 0:f.isAssetTrigger(q),ce=[];if(G.length<=2){U?ce=ce.concat(e.project.getUniqueCollectionNames()):Z?ce=ce.concat(e.project.getUniqueGlobalsNames()):Y?ce=ce.concat(e.project.getUniqueFormNames()):Q?ce=ce.concat(e.project.getUniqueNavigationMenuNames()):se&&(ce=ce.concat(e.project.getUniqueAssetNames())),C.length>0&&(ce=ce.concat(C)),ce=[...new Set(ce)];for(let re=0;re<ce.length;re++)n.push({label:ce[re],kind:ac.CompletionItemKind.Value})}else{let re=[];U?re=re.concat((_=(d=nr.instance)==null?void 0:d.getCollectionTriggerCaps())!=null?_:[]):Z?re=re.concat((m=(p=nr.instance)==null?void 0:p.getGlobalTriggerCaps())!=null?m:[]):Y?re=re.concat((h=(g=nr.instance)==null?void 0:g.getFormTriggerCaps())!=null?h:[]):Q?re=re.concat((y=(b=nr.instance)==null?void 0:b.getStructureTriggerCaps())!=null?y:[]):se&&(re=re.concat((D=(x=nr.instance)==null?void 0:x.getAssetTriggerCaps())!=null?D:[])),re=[...new Set(re)];for(let ve=0;ve<re.length;ve++)n.push({label:re[ve],kind:ac.CompletionItemKind.Value})}}return n}function oc(t,e){var r,i,s,a;let n=Qu(t.name);return((r=e.context)==null?void 0:r.parameterContext)!=null&&["do","permission"].includes(n)?le(Hb((a=(s=(i=e.context)==null?void 0:i.parameterContext.parameter)==null?void 0:s.value)!=null?a:"",e)):null}var Nx={tagName:"user:can",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:oc,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>B("user:can Tag","The `user:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can")},Xa=Nx;var Cx={tagName:"user:logout",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>B("user:logout Tag","The `user:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout")},Qa=Cx;var Px={tagName:"user:logout_url",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>ke("user:logout_url","The `user:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ user:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url")},Ja=Px;var $b={tagName:"switch",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>B("switch Tag","The `switch` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")},Kb={tagName:"rotate",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,introducedIn:null,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>B("rotate Tag","The `rotate` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")};var Dx={tagName:"oauth",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"provider",description:"The OAuth provider to be used.",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]},{name:"redirect",description:"The URL to be redirected to after authenticating.",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resovleParameterCompletionItems:(t,e)=>t.name=="provider"?yt(e.project.getOAuthProviders()):null,resolveDocumentation:t=>ke("oauth Tag","The `oauth` tag can be used to generate login URls for various third-party services.",'<a href="{{ oauth provider="github" }}">Sign In with Github</a>',"https://statamic.dev/tags/oauth")},zb=Dx;var Sx={tagName:"session:dump",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>B("session:dump Tag","The `session:dump` tag will display the contents of the user's session to the browser. This tag behaves similarly to the `dd` helper functions, but returns just the session data.","https://statamic.dev/tags/session-dump")},lc=Sx;var _l=class{constructor(e){this.node=e}};var Ax={tagName:"session:set",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:null,resolveDynamicParameter:$e,resolveSpecialType:(t,e)=>({context:new _l(t),issues:[]}),resolveDocumentation:t=>B("session:set Tag","The `session:set` tag is used to add new data to the user's session.","https://statamic.dev/tags/session-set")},uc=Ax;var Gs=class{constructor(){this.knownVariables=new Map}registerDocumentSessionVariables(e,n){this.knownVariables.has(e)||this.knownVariables.set(e,new Map);let r=this.knownVariables.get(e);r.clear();for(let i=0;i<n.length;i++){let s=n[i].node;if(s.hasParameters)for(let a=0;a<s.parameters.length;a++){let o=s.parameters[a];r.set(o.name,n[i])}}}getKnownSessionVariableNames(){let e=[];return this.knownVariables.forEach(n=>{n.forEach((r,i)=>{e.includes(i)==!1&&e.push(i)})}),e}};Gs.instance=null;(typeof Gs.instance=="undefined"||Gs.instance==null)&&(Gs.instance=new Gs);var yl=Gs;var Xb=je(vt());function Qb(t,e){let n=[],r=t.getArrayValue(),i=e.filter(s=>!r.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:Xb.CompletionItemKind.Variable});return le(n)}var Ix={tagName:"session:forget",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"keys",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The session keys to clear",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;if(t.name=="keys"&&((n=e.context)==null?void 0:n.parameterContext)!=null){let s=(i=(r=yl.instance)==null?void 0:r.getKnownSessionVariableNames())!=null?i:[];if(e.context.parameterContext.parameter!=null)return Qb(e.context.parameterContext.parameter,s)}return null},resolveDocumentation:t=>B("session:forget Tag","The `session:forget` tag is used to remove variables from the user's session.","https://statamic.dev/tags/session-forget")},cc=Ix;var Ex={tagName:"session:flush",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>B("session:flush Tag","The `session:flush` tag will clear all values from the visitor's session. If the visitor is currently signed in they will also be signed out.","https://statamic.dev/tags/session-flush")},fc=Ex;var xx={tagName:"session:flash",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:$e,resolveSpecialType:(t,e)=>({context:new _l(t),issues:[]}),resolveDocumentation:t=>B("session:flash Tag","The `session:flash` tag can be used to add a value to the user's session. Flashed values only persist for a single request, and are then removed.","https://statamic.dev/tags/session-flash")},pc=xx;var Rx={tagName:"markdown:indent",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>B("markdown:indent Tag","The `markdown:indent` tag is similar to the markdown tag, but will ignore leading whitepsace while rendering the tag's content as markdown.","https://statamic.dev/tags/markdown-indent")},dc=Rx;var wx=[De(dc)],Ox={tagName:"markdown",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="markdown"||t.leftWord=="/markdown")&&t.leftChar==":"?le(wx):Se,resolveDocumentation:t=>B("markdown Tag","The `markdown` tag can be used to render the tags contents as markdown.","https://statamic.dev/tags/markdown")},Jb=Ox;var Zb=je(ei());function mc(t,e){let n=[],r=e;if(t.trim().length>0&&t.includes(".")&&t.endsWith(".")){let i=t.substr(0,t.length-1);r=r.filter(s=>s.startsWith(i))}for(let i=0;i<r.length;i++){let s=r[i],a=!0;t.includes(".")&&(s.startsWith(t)==!1?a=!1:s=s.substr(t.length)),a&&n.push({label:s,insertText:s,kind:Zb.CompletionItemKind.Text})}return n}function eT(t,e){return mc(t,e.getRouteNames())}var Fx={tagName:"route",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:$e,resolveCompletionItems:t=>{if(t.leftMeaningfulWord=="route"){let e=Xu(t);return le(eT(e,t.project))}return Se},resolveDocumentation:t=>B("route Tag","The `route` tag can be used to generate a full URL [to a named route](https://laravel.com/docs/8.x/routing#named-routes), including any defined route parameters.","https://statamic.dev/tags/route")},tT=Fx;var hc=je(vt()),nT=[{label:"301 Permanent",insertText:"301",kind:hc.CompletionItemKind.EnumMember},{label:"302 Temporary",insertText:"302",kind:hc.CompletionItemKind.EnumMember},{label:"404 Not Found",insertText:"404",kind:hc.CompletionItemKind.EnumMember}];var Lx={tagName:"redirect",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The destination URL.",aliases:["url"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!0},{name:"response",description:"The HTTP response code to use.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:t=>t.name=="response"?le(nT):Se,resolveDocumentation:t=>B("redirect Tag","The `redirect` tag can be used to redirect the site visitor to a URL or named route. An optional HTTP status code can also be specified on the response using the `response` parameter.","https://statamic.dev/tags/redirect")},rT=Lx;var sT=je(vt());var Ys=class{constructor(){this.knownSections=new Map}registerDocumentSections(e,n){this.knownSections.has(e)||this.knownSections.set(e,new Map);let r=this.knownSections.get(e);r.clear();for(let i=0;i<n.length;i++){let s=n[i];s.node.hasMethodPart()&&r.set(s.node.getMethodNameValue(),s)}}getKnownSectionNames(){let e=[];return this.knownSections.forEach(n=>{n.forEach((r,i)=>{e.includes(i)==!1&&e.push(i)})}),e}};Ys.instance=null;(typeof Ys.instance=="undefined"||Ys.instance==null)&&(Ys.instance=new Ys);var iT=Ys;var kx={tagName:"section",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>{var e,n;if((t.leftWord=="section"||t.leftWord=="/section")&&t.leftChar==":"){let r=[],i=(n=(e=iT.instance)==null?void 0:e.getKnownSectionNames())!=null?n:[];for(let s=0;s<i.length;s++)r.push({label:i[s],kind:sT.CompletionItemKind.Field});return _n(r)}return Se},resolveDocumentation:t=>B("section Tag","The `section` tag is used to push content to a named region defined by the `yield` tag.","https://statamic.dev/tags/section")},aT=kx;var Mx={tagName:"obfuscate",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>B("obfuscate Tag","The `obfuscate` tag converts the tags's content into a format that is difficult for bots to read, but can easily be viewed by users within their browser.","https://statamic.dev/tags/obfuscate")},oT=Mx;var Bx={tagName:"parent",hideFromCompletions:!1,requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>B("parent Tag","The `parent` tag provides access to data from the current page's parent (the URL one level above the current page).","https://statamic.dev/tags/parent")},lT=Bx;function vd(t,e){return mc(t,e.getTranslationKeys())}var Vx=["translate","trans","trans_choice"],gc={tagName:"translate",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!0,parameters:[{isRequired:!1,name:"key",description:"The key of the translation string to find.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"locale",description:"The locale to be used when translating.",acceptsVariableInterpolation:!1,aliases:["site"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"count",description:"The number of items to use for pluralization.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n;if(t.name=="key"){let r="";return((n=e.context)==null?void 0:n.parameterContext)!=null&&e.context.parameterContext.parameter!=null&&(r=e.context.parameterContext.parameter.value),le(vd(r,e.project))}return Se},resolveDynamicParameter:$e,resolveCompletionItems:t=>{if(t.leftMeaningfulWord!=null&&Vx.includes(t.leftMeaningfulWord)){let e=Xu(t);return le(vd(e,t.project))}return Se},resolveDocumentation:t=>B("trans Tag","The `trans` tag can be used to retrieve a string for the current locale's language file.","https://statamic.dev/tags/trans")},uT=lt(gc,"trans"),Nd=lt(gc,"trans_choice");Nd.resolveDocumentation=t=>B("trans_choice Tag","The `trans_choice` tag can be used to retrieve a pluralized string for the current locale's language file.","https://statamic.dev/tags/trans#pluralization");var qx={tagName:"svg",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The SVG filename relative to the project root",expectsTypes:["string"],isDynamic:!1}],resolveDynamicParameter:$e,resolveDocumentation:t=>B("svg Tag","The `svg` tag can be used to render inline SVGs, as well as set attributes on the rendered `<svg>` element.","https://statamic.dev/tags/svg")},cT=qx;var jx={tagName:"asset",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The path to the file",expectsTypes:["string"],isDynamic:!1,name:"url"}],augmentScope:(t,e)=>(e.addVariables(Ga(t)),e),resolveDocumentation:t=>ke("asset Tag","The `asset` tag can be used to retrive Assets by supplying a URL.",`{{ asset url="/url/for/asset.png" }}
    <img src="{{ url }}" alt="{{ alt }}" />
{{ /asset }}`,"https://statamic.dev/tags/asset")},fT=jx;var pT=je(vt());function Cd(t){let e=[],n=t.getUniqueAssetNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:pT.CompletionItemKind.Field});return e}var dT=["container","id","handle"],Ux={tagName:"assets",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"container",aliases:["id","handle"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The handle of the asset container.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"folder",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Filters the resulting assets by specific folder.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"recursive",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Returns all assets in all subdirectories.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"limit",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Limits the total results",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sort entries by any asset variable.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>dT.includes(t.name)?le(Cd(e.project)):Se,augmentScope:(t,e)=>{e.addVariables(Ga(t));let n="";if(t.name!=null&&t.name.getMethodName()!=null)n=t.name.getMethodName();else{let r=t.findAnyParameter(dT);r!=null&&r.containsSimpleValue()&&(n=r.value)}return n.length>0&&e.injectAssetContainer(t,n),e},resolveCompletionItems:t=>(t.leftWord=="assets"||t.leftWord=="/assets")&&t.leftChar==":"?le(Cd(t.project)):Se,resolveDocumentation:t=>ke("assets Tag","The `assets` tag can be used to retrieve multiple Assets from an Asset container.",`{{ assets container="container-name" }}
    {{# Loop over all assets in the container. #}}
	<img src="{{ url }}" alt="{{ alt }}" />
{{ /assets }}`,"https://statamic.dev/tags/assets")},mT=Ux;var Wx={tagName:"get_content",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!1,parameters:[{isRequired:!1,name:"from",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"The ID to retrieve data for.",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"locale",aliases:["site"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The locale to show the content in.",expectsTypes:["string"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="locale"||t.name=="site"?yt(e.project.getSiteNames()):null,resolveDocumentation:t=>ke("get_content Tag","The `get_content` tag can be used to retrieve content from other entries. This tag accepts the ID of another entry, and will return access to all data for that entry.",`{{ get_content from="the-entry-id" }}
{{ /get_content }}`,"https://statamic.dev/tags/get_content")},hT=Wx;function gT(t){return[{name:"basename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"last_modified",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_b",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_mb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t}]}var Gx={tagName:"get_files",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"in",aliases:["from"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The directory to find files in relative to the public directory",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"depth",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The depth of the subdirectories",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"not_in",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"The subdirectories or pattern to exclude",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_size",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],description:"The file size filter to use",isDynamic:!1},{isRequired:!1,name:"ext",aliases:["extension"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The extension(s) to filter by",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"include",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:["match"],description:"Filter files by a regular expression",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"exclude",description:"Excludes files by a regular expression",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_date",description:"Filters files by last modified date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",description:"Limits the total number of results",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"offset",description:"The number of entries the results should be offset by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sorts the listing by extension, size, last_modified, or random",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>(e.addVariables(gT(t)),e),resolveDocumentation:t=>B("get_files Tag","The `get_files` tag can be used to display information about files on the site's local filesystem.","https://statamic.dev/tags/get_files")},_T=Gx;function _c(t){return[{name:"width",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.glide",sourceField:null,introducedBy:t}]}var yT=je(vt());function ni(t,e,n){var r,i,s,a,o,l,u,c,f,d,_,p;return{endLine:(s=(i=(r=n.valuePosition)==null?void 0:r.end)==null?void 0:i.line)!=null?s:0,startLine:(l=(o=(a=n.namePosition)==null?void 0:a.start)==null?void 0:o.line)!=null?l:0,endPos:(f=(c=(u=n.valuePosition)==null?void 0:u.end)==null?void 0:c.char)!=null?f:0,startPos:(p=(_=(d=n.namePosition)==null?void 0:d.start)==null?void 0:_.char)!=null?p:0,message:t,severity:yT.DiagnosticSeverity.Error}}var Pd=["greyscale","sepia"],Dd=["jpg","pjpg","png","gif","webp","avif","tif","bmp","psd"],bT=["auto","0","90","180","270"],Za=[{isRequired:!1,name:"src",aliases:["path","id"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The URL of the image when not using shorthand syntax.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"tag",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Outputs an image tag when set to true.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"alt",description:"The alt attribute value to use when generating tags.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"absolute",description:"Whether to output full URLs.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{name:"width",expectsTypes:["number"],isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The width of the image, in pixels.",isDynamic:!1},{name:"height",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],description:"The height of the image, in pixels.",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"square",expectsTypes:["number"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets both then height and width of the image.",isDynamic:!1,isRequired:!1},{name:"fit",expectsTypes:["string"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"How the image is fitted to its target dimensions.",isDynamic:!1,isRequired:!1},{name:"crop",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Crops the image to the specific dimensions.",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"orient",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Rotates the image.",expectsTypes:["*"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!bT.includes(e.value)&&n.push(ni("Invalid orient value",t,e)),n}},{name:"quality",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Defines the quality of the image",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"dpr",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"Defines the device pixel ratio.",expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<1||n>8)&&r.push(ni("dpr must be an integer between 1 and 8.",t,e)),r}},{name:"format",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Encodes the image to a specific format.",expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!Dd.includes(e.value)&&n.push(ni("Format must be one of: "+Dd.join(","),t,e)),n}},{name:"bg",description:"Sets the background color for transparent images.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"blur",description:"Adds a blur effect to the image.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(ni("blur must be a value between 0 and 100.",t,e)),r}},{name:"brightness",description:"Adjusts the image brightness.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<-100||n>100)&&r.push(ni("brightness must be a value between -100 and 100.",t,e)),r}},{name:"contrast",description:"Adjusts the image contrast.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<-100||n>100)&&r.push(ni("contrast must be a value between -100 and 100.",t,e)),r}},{name:"gamma",description:"Adjusts the image gamma.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseFloat(e.value),r=[];return e.containsSimpleValue()&&(n<.1||n>9.99)&&r.push(ni("gamma must be a value between 0.1 and 9.99.",t,e)),r}},{name:"sharpen",description:"Sharpens the image.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(ni("sharpen must be a value between 0 and 100.",t,e)),r}},{name:"pixelate",description:"Applies a pixelation effect to the image.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(ni("pixelate must be a value between 0 and 100.",t,e)),r}},{name:"filter",description:"Applies a filter effect to the image.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!Pd.includes(e.value)&&n.push(ni("Filter must be one of: "+Pd.join(","),t,e)),n}},{name:"preset",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],description:"A collection of pre-configured image manipulation parameters.",isDynamic:!1,isRequired:!1}];function eo(t,e){return t.name=="orient"?yt(bT):t.name=="format"?yt(Dd):t.name=="filter"?yt(Pd):t.name=="preset"?yt(e.project.getAssetPresets()):Se}var Yx={tagName:"glide:batch",hideFromCompletions:!1,requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,injectParentScope:!1,parameters:Za,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(_c(t)),e),resovleParameterCompletionItems:eo,resolveDocumentation:t=>B("glide:batch Tag","The `glide:batch` tag is similar to the glide tag, but can be used to apply image manipulations to multiple images within a piece of content.","https://statamic.dev/tags/glide-batch")},yc=Yx;var Hx={tagName:"glide:data_url",hideFromCompletions:!1,requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,injectParentScope:!1,parameters:Za,introducedIn:null,resovleParameterCompletionItems:eo,resolveDocumentation:t=>B("glide:data_url Tag","The `glide:data_url` tag returns manipulated image datas as a data URI.",null)},bc=Hx;var $x=[De(yc),De(bc)],Kx={tagName:"glide",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!1,parameters:Za,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(_c(t)),e),resovleParameterCompletionItems:eo,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="glide"||t.leftWord=="/glide")&&t.leftChar==":"?le($x):Se,resolveDocumentation:t=>B("glide Tag","The `glide` tag is used to manipulate images on the fly. Image manipulations may include resizing, cropping, or adjusting sharpness and constrast, amongst many others.","https://statamic.dev/tags/glide")},TT=Kx;var vT={tagName:"iterate",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>B("iterate Tag","The `iterate` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")},NT={tagName:"foreach",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>B("foreach Tag","The `foreach` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")};function CT(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t},{name:"name",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}]}var Tc=[{isRequired:!1,name:"id",description:"The ID of the content to localize.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"sort",description:"Sort by a site's key.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"current_first",description:"When true, ensures that the current locale is first.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"all",description:"When true, all locale data will be returned.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!0,name:"self",description:"When true, the current locale will be included.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"collection_term_workaround",description:"Disables the behavior introduced in https://github.com/statamic/cms/pull/6466.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1}];var zx={tagName:"locales:count",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:Tc,introducedIn:"3.0.36",resolveDocumentation:t=>B("locales:count Tag","The `locales:count` tag can be used to count the number of locales the current content is available in.","https://statamic.dev/tags/locales-count")},vc=zx;var Xx=[De(vc)],Qx={tagName:"locales",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:Tc,introducedIn:null,augmentScope:(t,e)=>(e.addVariableArray("locale",CT(t)),e.addVariable({name:"current",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"exists",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"permalink",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e),resolveDocumentation:t=>B("locales Tag","The `locales` tag can be used to access all the locales the current content is available in.","https://statamic.dev/tags/locales"),resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="locale"||t.leftWord=="/locale")&&t.leftChar==":"?le(Xx):Se},PT=Qx;var Jx={tagName:"mix",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",description:"The path to the versioned file, relative to the public directory",acceptsVariableInterpolation:!1,aliases:["path"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"in",description:"The location of the mix manifest file",acceptsVariableInterpolation:!1,aliases:["from"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>B("mix Tag","The `mix` tag is used to return the path of CSS and JavaScript files versioned with [Laravel Mix](https://laravel.com/docs/8.x/mix).","https://statamic.dev/tags/mix")},DT=Jx;var bl=je(vt());function ST(t){let e=[],n=t.getUniqueUserGroupNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:bl.CompletionItemKind.Field});return e}function AT(t){let e=[],n=t.getUniqueUserRoleNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:bl.CompletionItemKind.Field});return e}function to(t,e){let n=[],r=e.getUniqueUserGroupNames(),i=r.filter(s=>!t.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:bl.CompletionItemKind.Field});return n}function no(t,e){let n=[],r=e.getUniqueUserRoleNames(),i=r.filter(s=>!t.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:bl.CompletionItemKind.Field});return n}var Zx={tagName:"user:in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?le(to((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>B("user:in Tag","The `user:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in")},Nc=Zx;var eR={tagName:"user:not_in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?le(to((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>B("user:not_in Tag","The `user:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in")},ro=eR;var tR={tagName:"user:is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?le(no((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>B("user:is Tag","The `user:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is")},io=tR;var nR={tagName:"user:isnt",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?le(no((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>B("user:isnt Tag","The `user:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt")},so=nR;var rR={tagName:"in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?le(to((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="in"||t.leftWord=="/in")&&t.leftChar==":"?le(ST(t.project)):Se,resolveDocumentation:t=>B("in Tag","The `in` tag can be used to check if the authenticated user belongs to one or more groups. This tag operates similarly to the `user:in` tag.","https://statamic.dev/tags/user-in")},IT=rR;var iR={tagName:"not_found",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>ke("404 (Not Found) Tag","The `not_found` tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ not_found }}
{{ /unless }}`,"https://statamic.dev/tags/404")},ET=iR;var sR={tagName:"is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?le(no((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="is"||t.leftWord=="/is")&&t.leftChar==":"?le(AT(t.project)):Se,resolveDocumentation:t=>B("is Tag","The `is` tag can be used to check whether the currently authenticated user has one or more roles. This tag behaves the same as the `user:is` tag.","https://statamic.dev/tags/user-is")},xT=sR;var aR={tagName:"widont",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>ke("widont Tag","The `widont` tag is similar to the [widont modifier](https://statamic.dev/modifiers/widont), and will attempt to prevent lines with a single word from appearing within the tags rendered output.",`{{ widont }}
    {{ content }}
{{ /widont }}`,null)},RT=aR;var Cc=[{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"id",description:"The user ID to fetch.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"email",description:"The email address to find the user by.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"field",description:"The field to fetch the user by",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"value",description:"The value to search for.",expectsTypes:["string"],isDynamic:!1}];var oR={tagName:"user:profile",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:Cc,introducedIn:null,augmentScope:(t,e)=>(e.injectBlueprint(t,"user"),e),resovleParameterCompletionItems:(t,e)=>t.name=="field"?le(Gu(e.project.getUserFields())):Se,resolveDocumentation:t=>B("user:profile Tag","The `user:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter.",null)},ao=oR;var wT={tagName:"dd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>ke("dd Tag","The `dd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the dd tag.
	#}}
    {{ dd }}
{{ /collection:articles }}`,null)},OT={tagName:"ddd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>ke("ddd Tag","The `ddd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the ddd tag.
	#}}
    {{ ddd }}
{{ /collection:articles }}`,null)};var lR={tagName:"path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["src"],allowsVariableReference:!0,description:"The path source",name:"to",isDynamic:!1,expectsTypes:["string"]},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],description:"Whether to generate absolute paths",expectsTypes:["boolean"],isDynamic:!1,name:"absolute"}],resolveDocumentation:t=>B("path Tag","The `path` tag can be used to generate URLs from relative URLs, or an entry ID.",null)},FT=lR;var uR={tagName:"user:cant",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:oc,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>B("user:cant Tag","The `user:cant` tag is used to check if the currently authenticated user does not have a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user does not have the specified permissions.","https://statamic.dev/tags/user-can#cant")},Pc=uR;var cR={tagName:"query",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,parameters:[{name:"builder",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The query to evaluate",expectsTypes:["string"],isRequired:!0,isDynamic:!1}]},LT=cR;var Hs=je(vt());var yi=[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"src",description:"The relative path to the file.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"cache_bust",description:"Whether to output the last modified date.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"version",description:"Whether to check a versioning manifest to produce the final URL.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"absolute",description:"Generate absolute URLs or not.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"locale",description:"The locale the path should be generated in.",expectsTypes:["string"],isDynamic:!1}];var fR=[{label:"asset",kind:Hs.CompletionItemKind.Text},{label:"css",kind:Hs.CompletionItemKind.Text},{label:"img",kind:Hs.CompletionItemKind.Text},{label:"js",kind:Hs.CompletionItemKind.Text},{label:"output",kind:Hs.CompletionItemKind.Text},{label:"path",kind:Hs.CompletionItemKind.Text}],pR={tagName:"theme",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,introducedIn:null,injectParentScope:!1,parameters:yi,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="theme"||t.leftWord=="/theme")&&t.leftChar==":"?le(fR):Se},kT=pR;var Sd={tagName:"theme:path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:yi,resolveDocumentation:t=>B("theme:path Tag","The `theme:path` tag may be used to generate URLs for public assets. This tag may also optionally add the current locale, generate relative URLs, or add cache busting URL parameters to the end of the generated URL.",null)},MT=lt(Sd,"theme:asset");var dR={tagName:"theme:css",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...yi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>B("theme:css Tag","The `theme:css` tag may be used to generate a CSS path relative to a public `css/` directory for any arbitrary file path. This tag may also optionally create the HTML `link` tag.",null)},BT=dR;var mR={tagName:"theme:img",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...yi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]},{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"alt",description:"The alt text to use when generating the HTML tag",expectsTypes:["string"]}],resolveDocumentation:t=>B("theme:img Tag","The `theme:img` tag may be used to generate an image path relative to a public `img/` directory for any arbitrary file path. This tag may also optionally create the HTML `img` tag.",null)},VT=mR;var hR={tagName:"theme:js",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...yi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>B("theme:js Tag","The `theme:js` tag may be used to generate a JavaScript path relative to a public `js/` directory for any arbitrary file path. This tag may also optionally create the HTML `script` tag.",null)},qT=hR;var gR={tagName:"theme:output",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"src",description:"The path to the file",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"as",description:"An optional alias for the contents variable",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>{if(t.isClosedBy!=null){let n=t.findParameter("as");n!=null?e.addVariable({name:n.value,dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t}):e.addVariable({name:"output_contents",dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t})}return e},resolveDocumentation:t=>B("theme:output Tag","The `theme:output` tag may be used to output the contents of any arbitrary file, relative to the site's `resources/` directory.",null)},jT=gR;var _R={tagName:"scope",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>ke("scope Tag","The `scope` tag creates a copy of all available variables, and saves them to a new  *array* variable defined by the tag's method part.",`{{ scope:scope_name }}
    {{ scope_name:title }}
{{ /scope:scope_name }}
`,null)},UT=_R;var yR={tagName:"if",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:$e,resolveDocumentation:t=>B("if Conditional Control Structure","The contents of the `if` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},WT=yR;var bR={tagName:"elseif",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:$e,resolveDocumentation:t=>B("elseif Conditional Control Structure","The contents of the `elseif` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},GT=bR;var TR={tagName:"else",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>B("else Conditional Control Structure","The contents of the `else` control structure will be evaluated when all previous conditional branch conditions were not met.","https://statamic.dev/antlers#conditions")},YT=TR;var HT=je(vt());var vR={tagName:"session:has",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:"3.1.28",resolveDynamicParameter:$e,resolveDocumentation:t=>B("session:has Tag","The `session:has` tag can be used to determine of the user's session contains a specific variable.","https://statamic.dev/tags/session-has")},Dc=vR;var NR=[De(uc),De(pc),De(cc),De(fc),De(Dc),De(lc)],CR={tagName:"session",requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",description:"An optional alias for the session data",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveCompletionItems:t=>{var e,n;if(t.isPastTagPart==!1&&(t.leftWord=="session"||t.leftWord=="/session")&&t.leftChar==":"){let r=(n=(e=yl.instance)==null?void 0:e.getKnownSessionVariableNames())!=null?n:[],i=[];i=i.concat(NR);for(let s=0;s<r.length;s++)i.push({label:r[s],kind:HT.CompletionItemKind.Variable});return le(i)}return Se},augmentScope:(t,e)=>{var s,a;let n=t.findParameter("as"),r=(a=(s=yl.instance)==null?void 0:s.getKnownSessionVariableNames())!=null?a:[],i=[];for(let o=0;o<r.length;o++)i.push({dataType:"*",name:r[o],sourceField:null,sourceName:"project.session",introducedBy:t});return n==null?e.addVariables(i):e.addVariableArray(n.value,i),e}},$T=CR;var Tl={tagName:"user:forgot_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:$e,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t}]),e),resolveDocumentation:t=>B("user:forgot_password_form Tag",'The `user:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form")},Ad=lt(Tl,"member:forgot_password_form");Ad.resolveDocumentation=t=>B("member:forgot_password_form Tag",'The `member:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form");function fs(t){return[{name:"handle",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"display",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"type",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"field",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"error",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"instructions",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"old",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t}]}function oo(t){return[{name:"success",dataType:"string",sourceField:null,sourceName:"*internal.forms",introducedBy:t},{name:"submission_created",dataType:"boolean",sourceField:null,sourceName:"*internal.forms",introducedBy:t}]}function PR(t){return[{name:"current_password",dataType:"string",sourceName:"*internal.user_password_form",sourceField:null,introducedBy:t},{name:"password",dataType:"string",sourceName:"*internal.user_password_form",sourceField:null,introducedBy:t},{name:"password_confirmation",dataType:"string",sourceName:"*internal.user_password_form",sourceField:null,introducedBy:t}]}var DR={tagName:"user:password_form",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!0,parameters:[{name:"redirect",description:"The location to redirect users after a successful form submission",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",description:"The location to redirect users to after a failed form submission",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override redirect or error_redirect",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],introducedIn:"3.3.61",allowsArbitraryParameters:!0,augmentScope:(t,e)=>{e.addVariables(oo(t)),e.addVariable({dataType:"array",name:"errors",sourceField:null,sourceName:"*internal.forms",introducedBy:t}),e.addVariableArray("fields",fs(t));let n=PR(t);return e.addVariableArray("old",n),e.addVariableArray("error",n),e}},Sc=DR;var vl={tagName:"user:reset_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:$e,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t}]),e),resolveDocumentation:t=>B("user:reset_password_form Tag","The `user:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form")},Id=lt(vl,"member:reset_password_form");Id.resolveDocumentation=t=>B("member:reset_password_form Tag","The `member:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form");function Ed(t,e){return{sourceName:e.blueprintName,dataType:e.type,name:e.name,sourceField:e,introducedBy:t}}function KT(t){let e=new Map;for(let n=0;n<t.length;n++)e.set(t[n].name,t[n]);return e}function ps(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push({sourceName:i.blueprintName,dataType:i.type,name:i.name,sourceField:i,introducedBy:t})}return n}var SR={tagName:"user:profile_form",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!0,parameters:[{name:"redirect",description:"The location to redirect users after a successful form submission",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",description:"The location to redirect users to after a failed form submission",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override redirect or error_redirect",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],introducedIn:"3.3.61",allowsArbitraryParameters:!0,augmentScope:(t,e)=>{e.addVariables(oo(t)),e.addVariable({dataType:"array",name:"errors",sourceField:null,sourceName:"*internal.forms",introducedBy:t}),e.addVariableArray("fields",fs(t));let n=e.statamicProject.getUserFields(),r=ps(t,n);return e.addVariableArray("old",r),e.addVariableArray("error",r),e}},Ac=SR;var Nl={tagName:"user:register_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after registering",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed registration attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:$e,augmentScope:(t,e)=>{e.addVariableArray("fields",fs(t)),e.addVariable({name:"errors",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"old",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"error",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"success",dataType:"string",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t});let n=e.statamicProject.getUserFields();if(n.length>0){let r=ps(t,n);e.addVariableArray("old",r),e.addVariableArray("error",r)}return e},resolveDocumentation:t=>B("user:register_form  Form Tag","The `user:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form")},xd=lt(Nl,"member:register_form");xd.resolveDocumentation=t=>B("member:register_form Tag","The `member:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form");var AR=[De(io),De(ro),De(so),De(ao),De(Xa),De(Pc),De(Tl),De(Qa),De(Ja),De(Nl),De(vl),De(Ac),De(Sc)],IR={tagName:"user",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:Cc,introducedIn:null,resovleParameterCompletionItems:(t,e)=>e.isPastTagPart==!1&&e.currentNode!=null&&e.currentNode.methodIsEmptyOrMatches("profile")&&t.name=="field"?le(Gu(e.project.getUserFields())):Se,augmentScope:(t,e)=>(t.methodIsEmptyOrMatches("profile")&&e.injectUserFields(t),e),resolveCompletionItems:t=>(t.leftWord=="user"||t.leftWord=="/user"||t.leftWord=="member"||t.leftWord=="/member")&&t.leftChar==":"?le(AR):Se,resolveDocumentation:t=>B("user Tag","The `user` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter.",null)},Ic=IR;var Ec=lt(Ic,"member"),Rd=lt(io,"member:is"),wd=lt(so,"member:isnt"),Od=lt(ao,"member:profile"),Fd=lt(Xa,"member:can"),Ld=lt(Qa,"member:logout"),kd=lt(Ja,"member:logout_url"),Md=lt(Nc,"member:in"),Bd=lt(ro,"member:not_in");Ec.hideFromCompletions=!0;Ec.resolveDocumentation=t=>B("member Tag","The `member` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);Rd.resolveDocumentation=t=>B("member:is Tag","The `member:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is");wd.resolveDocumentation=t=>B("member:isnt Tag","The `member:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt");Od.resolveDocumentation=t=>B("member:profile Tag","The `member:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);Fd.resolveDocumentation=t=>B("member:can Tag","The `member:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can");Ld.resolveDocumentation=t=>B("member:logout Tag","The `member:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout");kd.resolveDocumentation=t=>ke("member:logout_url","The `member:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ member:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url");Md.resolveDocumentation=t=>B("member:in Tag","The `member:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in");Bd.resolveDocumentation=t=>B("member:not_in Tag","The `member:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in");function ds(t){return[{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t},{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t}]}var QT=je(vt());var Vd=["from","taxonomy","is","use","folder"],qd=["not_from","not_in","dont_use","not_taxonomy"];var jd=Vd;jd=jd.concat(qd);function zT(t,e){var n,r,i,s,a,o,l,u;if(e.nodesInScope.length>0){let c=e.nodesInScope[e.nodesInScope.length-1];if(c!=null&&c.currentScope!=null){let f=lo(c,e.project),d=e.project.getTaxonomyBlueprintFields(f),_=d.map(m=>m.name),p=Mi(e.leftWord);if(_.includes(p))return le(ss(e))}}return t.name=="collection"&&((n=e.context)==null?void 0:n.parameterContext)!=null?le(Ua((s=(i=(r=e.context)==null?void 0:r.parameterContext.parameter)==null?void 0:i.getArrayValue())!=null?s:[],e.project)):t.name=="filter"||t.name=="query_scope"?le(Hu(e.project)):jd.includes(t.name)&&((a=e.context)==null?void 0:a.parameterContext)!=null?le(XT((u=(l=(o=e.context)==null?void 0:o.parameterContext.parameter)==null?void 0:l.getArrayValue())!=null?u:[],e.project)):null}function lo(t,e){let n=[];if(t.hasMethodPart())return n.push(t.getMethodNameValue()),n;let r=t.findAnyParameter(Vd),i=t.findAnyParameter(qd),s=[],a=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueTaxonomyNames(),typeof i!="undefined"&&i!==null&&i.isVariableReference==!1&&i.hasInterpolations()==!1&&(a=i.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),a.length>0?n=s.filter(function(o){return a.includes(o)==!1}):n=s,n}function XT(t,e){let n=[],r=e.getUniqueTaxonomyNames().filter(i=>!t.includes(i));for(let i=0;i<r.length;i++)n.push({label:r[i],kind:QT.CompletionItemKind.Variable});return n}function JT(t,e){let n=lo(t,e.statamicProject),r=e.statamicProject.getTaxonomyBlueprintFields(n),i=t.findParameter("collection");if(e.addBlueprintFields(t,r),e.addVariables([{name:"first",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"last",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"index",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"total_results",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"entries_count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t}]),e.addVariables(ds(t)),typeof i!="undefined"&&i!==null){let s=i.getArrayValue();if(s.length>0){let a=e.statamicProject.getBlueprintFields(s);e.introduceScopedAliasScope(t,"entries","entries",a).addVariables(as(t))}else e.addVariableArray("entries",ds(t).concat(as(t)))}else e.addVariableArray("entries",ds(t).concat(as(t)));return e}var ER=[{name:"from",description:"The taxonomy to use.",aliases:["taxonomy","is","use","folder"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"not_from",description:"Taxonomies to exclude.",aliases:["not_in","not_folder","dont_use","not_taxonomy"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string","array"],isRequired:!1,isDynamic:!1},{name:"min_count",description:"The minimum number of entries a taxonomy term must have to be returned.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"collection",description:"Filter the terms to those that appear in the specified collections.",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"sort",description:"The field to sort the terms by.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope.",expectsTypes:["string"],isDynamic:!1}],ZT=ER;var Ud=je(vt());function e0(t){var n,r;let e=[];if(t.currentNode!=null&&t.currentNode.currentScope!=null){let i=lo(t.currentNode,t.project),s=t.project.getTaxonomyBlueprintFields(i),a=s.map(l=>l.name),o=Mi(t.leftWord);if(a.includes(o))return le(ss(t));if(t.isCaretInTag&&!((n=t.context)==null?void 0:n.interpolatedContext)&&["taxonomy","/taxonomy"].includes(t.leftWord)==!1){let l=[];for(let u=0;u<s.length;u++){let c=s[u];l.includes(c.name)==!1&&(e.push({label:c.name,detail:c.blueprintName,documentation:(r=c.instructionText)!=null?r:"",kind:Ud.CompletionItemKind.Field}),l.push(c.name))}if(e.length>0)return _n(e)}}if((t.leftWord=="taxonomy"||t.leftWord=="/taxonomy")&&t.leftChar==":"){let i=t.project.getUniqueTaxonomyNames();for(let s=0;s<i.length;s++)e.push({label:i[s],kind:Ud.CompletionItemKind.Field});return _n(e)}return Se}var xR={tagName:"taxonomy",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:ZT,resolveDynamicParameter:$e,resolveCompletionItems:e0,resovleParameterCompletionItems:zT,augmentScope:JT,resolveDocumentation:t=>B("taxonomy Tag","The `taxonomy` tag may be used to retrieve taxonomy entries. The taxonomy tag can also be used to access entries associated with any given taxonomy term.","https://statamic.dev/tags/taxonomy")},t0=xR;var Wd=je(vt());function n0(t,e){e.addVariables([{name:"is_published",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_page",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"has_entries",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_parent",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_external",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"depth",dataType:"number",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"children",dataType:"array",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t}]);let n=e.statamicProject.getUniqueCollectionNames(),r=[],i=!1;if(t.hasMethodPart()){let s=t.getMethodNameValue().trim().toLowerCase();if(s.startsWith("collection:")){let a=s.split(":").pop();i=!0,r.push(a)}else s=="pages"?(i=!0,r.push("pages")):(i=!1,r.push(s))}else{let s=t.findParameter("handle");s!=null&&(n.includes(s.value)?i=!0:i=!1,r.push(s.value))}if(i){let s=e.statamicProject.getBlueprintFields(r);e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}else{let s=Yu(ds(t));e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}return e}var RR={tagName:"nav:breadcrumbs",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:[{name:"include_home",description:"Whether to include the home page in the first level",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"reverse",description:"Whether to reverse the order of links",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isRequired:!1,isDynamic:!1},{name:"trim",description:"Whether to trim the whitespace after each iteration of the loop",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],augmentScope:(t,e)=>(e.addVariables([{name:"is_current",dataType:"boolean",sourceName:"*internal.nav.breadcrumbs",sourceField:null,introducedBy:t}]),e.addVariables(ds(t)),e),resolveDocumentation:t=>B("nav:breadcrumbs Tag","The `nav:breadcrumbs` tag can be used to retrieve the URLs of all pages that make up the current URL back to the site's home page.","https://statamic.dev/tags/nav-breadcrumbs")},xc=RR;function r0(t,e){if(t.name=="handle"){let n=e.project.getUniqueCollectionNames(),r=e.project.getUniqueNavigationMenuNames(),i=[];return i=n,i=i.concat(r),i=[...new Set(i)],yt(i)}return null}var wR=[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["handle"],allowsVariableReference:!1,name:"for",description:"The navigation or collection to use.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],name:"from",description:"The starting point for the navigation.",allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"show_unpublished",description:"Whether to include unpublished content.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"include_home",description:"Whether to include the home page in the tree.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"max_depth",description:"The maximum depth of the navigation or structure.",expectsTypes:["number"],isDynamic:!1}],i0=wR;var Gd={tagName:"structure",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,injectParentScope:!1,parameters:i0,augmentScope:n0,resovleParameterCompletionItems:r0,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="nav"||t.leftWord=="/nav"||t.leftWord=="structure"||t.leftWord=="/structure")&&t.leftChar==":"){let n=t.project.getUniqueNavigationMenuNames();for(let r=0;r<n.length;r++)e.push(Va(n[r],"",""));return(t.leftWord=="nav"||t.leftWord=="/nav")&&e.push(De(xc)),e.push(Va("collection","","")),e.push({label:"collection",kind:Wd.CompletionItemKind.Text}),_n(e)}if((t.leftWord=="nav:collection"||t.leftWord=="/nav:collection"||t.leftWord=="collection"||t.leftWord=="/collection"||t.leftWord=="structure:collection"||t.leftWord=="/structure:collection")&&t.leftChar==":"){let n=t.project.getUniqueCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Wd.CompletionItemKind.Field});return _n(e)}return Se},resolveDocumentation:t=>B("nav Tag","The `nav` tag can be used to iterate structured collections or navigation menus.","https://statamic.dev/tags/nav")},s0=lt(Gd,"nav");var o0=je(vt());var OR={name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},bi=OR;var Yd=je(vt()),FR=[{label:"GET",kind:Yd.CompletionItemKind.EnumMember},{label:"POST",kind:Yd.CompletionItemKind.EnumMember}],a0=FR;var ri=["in","handle","is","form","formset"];function uo(t,e){return ri.includes(t.name)?yt(e.project.getUniqueFormNames()):t.name=="method"?le(a0):t.name=="files"?le(ml):null}function Ti(t,e){let n=t.structure.findParentWithName("form:set");return n!=null?{context:n,issues:[]}:{context:null,issues:[]}}var LR=["set","create","errors","success","submissions","submission"];function $s(t){if(t.reference!=null&&"tagPart"in t.reference){let r=t.reference;if(r.nameMatches("form:set"))return $s(r)}let e=t.findAnyParameter(ri),n=t.getMethodNameValue();return n!=null&&LR.includes(n)==!1?n:typeof e!="undefined"&&e!==null&&e.containsSimpleValue()?e.value:""}var kR={tagName:"form:create",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[bi,{name:"method",description:"The HTTP method to use",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"files",description:"Indicates if the form sends file data",aliases:[],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"redirect",description:"The location to redirect users after a successful form submission",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",description:"The location to redirect users to after a failed form submission",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override redirect or error_redirect",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveSpecialType:Ti,resovleParameterCompletionItems:uo,resolveDynamicParameter:$e,augmentScope:(t,e)=>{e.addVariables(oo(t)),e.addVariable({dataType:"array",name:"errors",sourceField:null,sourceName:"*internal.forms",introducedBy:t}),e.addVariableArray("fields",fs(t));let n=$s(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n),i=ps(t,r);e.addVariableArray("old",i),e.addVariableArray("error",i)}return e},resolveDocumentation:t=>B("form:create Tag","The `form:create` tag can be used to access form data, generate field HTML markup, and handle form validation errors.","https://statamic.dev/tags/form-create")},Rc=kR;var MR={tagName:"form:errors",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[bi],resolveSpecialType:Ti,resovleParameterCompletionItems:(t,e)=>ri.includes(t.name)?yt(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>B("form:errors Tag","The `form:errors` tag can be used to retrieve validation errors after a user has submitted a form.","https://statamic.dev/tags/form-errors")},wc=MR;var BR={tagName:"form:set",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!0}],resovleParameterCompletionItems:uo,resolveDocumentation:t=>B("form:set Tag","The `form:set` tag can be used to set the form handle on all nested form tags.","https://statamic.dev/tags/form-set")},Oc=BR;var VR={tagName:"form:submission",requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[bi],resolveSpecialType:Ti,resovleParameterCompletionItems:(t,e)=>ri.includes(t.name)?yt(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{let n=$s(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n);e.addBlueprintFields(t,r)}return e},resolveDocumentation:t=>B("form:submission Tag","The `form:submission` tag can be used to access the form submission submitted by the current user.","https://statamic.dev/tags/form-submission")},Fc=VR;var qR={tagName:"form:submissions",allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[bi],resolveSpecialType:Ti,resovleParameterCompletionItems:(t,e)=>ri.includes(t.name)?yt(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let n=$s(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n);e.addBlueprintFields(t,r)}return e.addVariable({name:"date",dataType:"date",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e},resolveDocumentation:t=>B("form:submissions Tag","The `form:submissions` tag can be used to fetch previously saved submissions for a form.","https://statamic.dev/tags/form-submissions")},Lc=qR;var jR={tagName:"form:success",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[bi],resolveSpecialType:Ti,resovleParameterCompletionItems:(t,e)=>ri.includes(t.name)?yt(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>B("form:success Tag","The `form:success` tag can be used to check if a form submission was successful or not.","https://statamic.dev/tags/form-success")},kc=jR;var UR=[De(Oc),De(Rc),De(wc),De(kc),De(Lc),De(Fc)],WR={tagName:"form",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resovleParameterCompletionItems:uo,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="form"||t.leftWord=="/form")&&t.leftChar==":"){let n=t.project.getUniqueFormNames();e=e.concat(UR);for(let r=0;r<n.length;r++)e.push({label:n[r],kind:o0.CompletionItemKind.Field});return _n(e)}return Se}},l0=WR;var Hd={tagName:"search:results",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"index",description:"The index to search in.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"query",description:"The query string parameter to use.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"limit",description:"The maximum number of search results to return.",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{name:"offset",description:"The number of results to skip.",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether or not to paginate entry results.",expectsTypes:["boolean"],isRequired:!1,name:"paginate",isDynamic:!1},{name:"as",description:"Specifies an alias for search results.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"supplement_data",description:"Controls whether non-indexed fields are returned.",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="index"?yt(e.project.getSearchIndexes()):null,augmentScope:(t,e)=>{e.addVariables([{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]);let n=t.findParameter("as");return n!=null&&n.value.trim().length>0?e.addVariableArray(n.value,u0(t)):e.addVariables(u0(t)),e},resolveDocumentation:t=>B("search:results Tag","The `search:results` tag provides access to all data that was returned as a result of a user's search.","https://statamic.dev/tags/search")},GR=[De(Hd)];function u0(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"content",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_term",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"count",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"index",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"search_score",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"_highlightResult",dataType:"array",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]}var c0={tagName:"search",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="search"||t.leftWord=="/search")&&t.leftChar==":"?_n(GR):Se};function $d(t){return[{name:"email",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"password",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]}var Kd={tagName:"user:login_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after logging in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed login attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:$e,augmentScope:(t,e)=>(e.addVariables([{name:"errors",dataType:"array",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"success",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]),e.addVariables($d(t)),e.addVariableArray("old",$d(t)),e.addVariableArray("error",$d(t)),e),resolveDocumentation:t=>B("user:login_form Tag","The `user:login_form` tag can be used to quickly create a form that users can use to authenticate with the site.","https://statamic.dev/tags/user-login_form")},f0=lt(Kd,"member:login_form");var YR={tagName:"noparse",requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>B("noparse Tag","The `noparse` tag is used prevent blocks of Antlers code from being parsed, removing the need to escape individual Antlers code regions.","https://statamic.dev/antlers#the-noparse-tag")},p0=YR;var HR={tagName:"unless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:$e,resolveDocumentation:t=>B("unless Conditional Control Structure","The `unless` control structure operates the same as an `if` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},d0=HR;var $R={tagName:"elseunless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:$e,resolveDocumentation:t=>B("elseunless Conditional Control Structure","The `elseunless` control structure operates the same as an `elseif` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},m0=$R;var h0=je(ei());var g0={tagName:"installed",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!0,introducedIn:"3.1.19",parameters:[],resolveCompletionItems:t=>{if(t.project!=null){let e=t.project.getComposerPackages(),n=[];return e.forEach((r,i)=>{n.push({label:r.name,kind:h0.CompletionItemKind.Text})}),le(n)}return Se},resolveDocumentation:t=>ke("installed Tag","The `installed` tag is used to check if the site has a specific Composer package available.",`{{ if {installed:composer/package-name} }}
    {{# Package is availabl.e #}}
{{ else }}
    {{# Something else. #}}
{{ /if }}`,"https://statamic.dev/tags/installed")};var KR={tagName:"relate",hideFromCompletions:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[]},_0=KR;var co=[{name:"bag",description:"The error message bag to retrieve errors from.",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}];var zR={tagName:"get_errors",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:co,introducedIn:"3.2.23",augmentScope:(t,e)=>{var n;if(t.isClosingTag)return e;if(((n=t.name)==null?void 0:n.methodPart)==null){let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"field",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"field",refFieldSetField:null,sets:null,type:"string"}});let i=r.copy();i.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),r.addScopeList("messages",i),e.addScopeList("fields",r)}else{let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",r)}return e},resolveDocumentation:t=>B("get_errors Tag","The `get_errors` tag can be used to retrieve form validation errors.","https://statamic.dev/tags/get_errors")},y0=zR;var XR={tagName:"get_errors:all",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:co,introducedIn:null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let n=e.copy();return n.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors.all",sourceField:{blueprintName:"*internal.tag.get_errors.all",displayName:"get_errors:all",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",n),e},resolveDocumentation:t=>B("get_errors:all Tag","The `get_errors:all` tag can be used to retrieve all form validation errors.","https://statamic.dev/tags/get_errors#list-all-validation-errors")},b0=XR;var QR={tagName:"get_error",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:co,introducedIn:null,augmentScope:(t,e)=>(t.isClosingTag||e.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_error",sourceField:{blueprintName:"*internal.tag.get_error",displayName:"get_error",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e),resolveDocumentation:t=>B("get_error Tag","The `get_error` tag can be used to retrieve the first error message for a specific field.","https://statamic.dev/tags/get_errors#get-the-first-error-for-a-specific-field")},T0=QR;var JR={tagName:"set",hideFromCompletions:!0,allowsArbitraryParameters:!0,requiresClose:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[]},v0=JR;var N0=je(ei());var ZR={tagName:"mount_url",hideFromCompletions:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:"3.3.15",parameters:[{isRequired:!1,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The collection handle.",name:"handle",isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>B("mount Tag","The `mount` tag can be used to retrieve the mount URL for a given collection.",null),resovleParameterCompletionItems:(t,e)=>{var n,r,i,s;return t.name=="handle"&&((n=e.context)==null?void 0:n.parameterContext)!=null?le(Ua((s=(i=(r=e.context)==null?void 0:r.parameterContext.parameter)==null?void 0:i.getArrayValue())!=null?s:[],e.project)):null},resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="mount_url"||t.leftWord=="/mount_url")&&t.leftChar==":"){let n=t.project.getCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:N0.CompletionItemKind.Field,sortText:"0"})}return{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}},C0=ZR;var ew={tagName:"vite",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"src",description:"The entry point",expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>ke("vite Tag","Generates Vite tags for an entrypoint.",'{{ vite src="entry/point" }}',null)},P0=ew;var tw={tagName:"nocache",requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>ke("nocache Tag","The `nocache` tag is used to mark regions of a template. These regions will continue to update even when using caching strategies such as the full or half-measure cache.",`{{ nocache }} 
    <!-- This content will remain dynamic. -->
{{ /nocache }}`,"https://statamic.dev/tags/nocache")},D0=tw;function Mc(t){return[{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.user.permissions",introducedBy:t},{name:"total_results",dataType:"integer",sourceField:null,sourceName:"*internal.user.permissions",introducedBy:t},{name:"handle",dataType:"string",sourceField:null,sourceName:"*internal.user.permissions",introducedBy:t}]}var nw={tagName:"user_roles",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,injectParentScope:!1,introducedIn:"3.3.31",requiresClose:!1,parameters:[{name:"handle",description:"A list of role handles to include",aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1,acceptsVariableInterpolation:!0}],augmentScope:(t,e)=>(t.isClosingTag||e.addVariables(Mc(t)),e),resolveDocumentation:t=>B("user_roles Tag","The `user_roles` tag can be used to return information about a site's user roles.",null)},S0=nw;var rw={tagName:"user_groups",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,injectParentScope:!1,introducedIn:"3.3.31",requiresClose:!1,parameters:[{name:"handle",description:"A list of group handles to include",aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1,acceptsVariableInterpolation:!0}],augmentScope:(t,e)=>(t.isClosingTag||e.addVariables(Mc(t)),e),resolveDocumentation:t=>B("user_groups Tag","The `user_groups` tag can be used to return information about a site's user groups.",null)},A0=rw;var iw={tagName:"cookie:forget",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"keys",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The keys to forget",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},Bc=iw;var sw={tagName:"cookie:has",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"key",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The cookie name to check for existence",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},Vc=sw;var aw={tagName:"cookie:set",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"minutes",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The lifetime of the cookie, in minutes",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},qc=aw;var ow={tagName:"cookie:value",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"key",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The cookie name to retrieve the value for",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},jc=ow;var lw=[De(Bc),De(jc),De(qc),De(Vc)],uw={tagName:"cookie",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[],resolveCompletionItems:t=>(t.leftWord=="cookie"||t.leftWord=="/cookie")&&t.leftChar==":"?le(lw):Se},I0=uw;var E0=[WT,GT,YT,d0,m0,fT,mT,wb,tc,Us,nc,ec,Zu,I0,Bc,Vc,qc,jc,_0,l0,Rc,Fc,Lc,Oc,kc,wc,v0,y0,T0,b0,c0,Hd,jb,rc,ic,Lb,ET,Fb,OT,wT,Ob,hT,_T,TT,yc,bc,kb,Mb,Bb,vT,NT,Ub,sc,PT,vc,DT,C0,s0,Gd,xc,Gb,Wb,Nc,IT,ro,io,xT,g0,S0,A0,Ic,so,Xa,Pc,Qa,Ja,ao,Kd,vl,Tl,Ac,Sc,Nl,Ec,Rd,wd,Od,Fd,Ld,kd,Md,Bd,f0,Id,Ad,xd,p0,D0,$b,Kb,zb,oT,lT,FT,rT,tT,UT,aT,$T,pc,fc,cc,uc,Dc,lc,cT,t0,kT,Sd,MT,BT,VT,qT,jT,gc,uT,Nd,LT,Jb,dc,RT,P0];var ms=class{constructor(){this.tags=new Map;this.parameters=new Map}reset(){this.tags.clear(),this.parameters.clear(),this.loadCoreTags()}getVisibleTagsWithDocumentation(){let e=[];return this.tags.forEach((n,r)=>{if(n.hideFromCompletions==!1){let i="";n.resolveDocumentation!=null&&(i=n.resolveDocumentation()),e.push({label:r,documentation:i})}}),e}getVisibleTagNames(){let e=[];return this.tags.forEach((n,r)=>{n.hideFromCompletions==!1&&e.push(r)}),[...new Set(e)]}getPossibleTagMethods(e){let n=[],r=e.length+1;return this.tags.forEach((i,s)=>{if(s.startsWith(e)){let a=s.substr(r).trim();a.length>0&&n.push(a)}}),[...new Set(n)]}getTagNames(){let e=[];return this.tags.forEach((n,r)=>{e.push(r)}),[...new Set(e)]}loadCoreTags(){this.registerTags(E0)}cleanTagName(e){return Rs(e,"/")}findTag(e){return this.tags.get(this.resolveTagName(e))}isKnownTag(e){return this.tags.has(this.resolveTagName(e))}isSymbolKnownTag(e){return this.isKnownTag(e.runtimeName())}resolveTagName(e){return e=this.cleanTagName(e.trim()),this.tags.has(e)||e.includes(":")&&(e=e.split(":")[0]),e}canResolveSpecialTypes(e){e=this.resolveTagName(e);let n=this.tags.get(e);return!(typeof n=="undefined"||n==null||n.resolveSpecialType==null)}resolveSpecialType(e,n,r){e=this.resolveTagName(e);let i=this.findTag(e);if(i.resolveSpecialType==null)throw new Error(e+" does not support special types.");return i.resolveSpecialType(n,r)}getCompletionItems(e){var s;let n=null,r=[],i=!0;if(e.nodesInScope.length>0&&(n=e.nodesInScope[e.nodesInScope.length-1]),e.currentNode!=null&&this.isKnownTag(e.currentNode.runtimeName())){let a=this.findTag(e.currentNode.runtimeName());if(typeof a=="undefined")return{isExclusive:!1,items:[]};let o=[];if(a.resolveCompletionItems!=null){let l=a.resolveCompletionItems(e);if(l.isExclusiveResult)return{isExclusive:!0,items:l.items};i=l.analyzeDefaults,r=r.concat(l.items)}if(e.isPastTagPart==!1){let l=this.getPossibleTagMethods(a.tagName);for(let u=0;u<l.length;u++)r.push({label:l[u],kind:x0.CompletionItemKind.Text})}if(i){if(e.isCaretInTag==!0&&a.parameters.length>0&&(r=r.concat(pd(e,a.parameters)),a.tagName=="partial"&&(n==null?void 0:n.hasMethodPart()))){let l=n.getMethodNameValue();if(l.trim().length>0&&((s=cr.instance)==null?void 0:s.hasStructure())){let u=cr.instance.getStructure().findPartial(l);u!=null&&u.injectsParameters.length>0&&(r=r.concat(pd(e,u.injectsParameters)))}}for(let l=0;l<e.nodesInScope.length;l++)if(e.nodesInScope[l].runtimeType!==null){let u=e.nodesInScope[l].runtimeType;if(u!=null&&u.assumedType=="structure_ref"&&u.supplementedFields!=null)for(let c=0;c<u.supplementedFields.length;c++)r.push(dd(u.supplementedFields[c]))}}return{items:r,isExclusive:!1}}return{items:r,isExclusive:!1}}injectParentScope(e){let n=this.findTag(e);return typeof n=="undefined"||n==null?!0:n.injectParentScope}resolveParameterCompletions(e,n,r){let i=this.findTag(e);return typeof i!="undefined"&&i!==null&&typeof i.resovleParameterCompletionItems!="undefined"&&i.resovleParameterCompletionItems!==null?i.resovleParameterCompletionItems(n,r):null}canResolveDynamicParameter(e){let n=this.resolveTagName(e);if(this.isKnownTag(n)){let r=this.tags.get(n);if(typeof r=="undefined")return!1;if(typeof r.resolveDynamicParameter!="undefined"&&r.resolveDynamicParameter!=null)return!0}return!1}getParameter(e,n){let r=this.resolveTagName(e);if(this.parameters.has(r)==!1)return null;let i=this.parameters.get(r);if(i==null)return null;if(i.has(n)==!1){let a=this.findTag(e);if(a!=null&&typeof a.resolveDynamicParameter!="undefined"&&a.resolveDynamicParameter!=null){let o=a.resolveDynamicParameter(null,n);if(o!==null)return o}return null}let s=i.get(n);return typeof s=="undefined"||i==null?null:s}registerTags(e){for(let n=0;n<e.length;n++)this.registerTag(e[n])}registerTag(e){if(this.tags.set(e.tagName,e),this.parameters.has(e.tagName)==!1&&this.parameters.set(e.tagName,new Map),e.parameters.length>0){let n=this.parameters.get(e.tagName);for(let r=0;r<e.parameters.length;r++){let i=e.parameters[r];n==null||n.set(i.name,i)}}}requiresClose(e){let n=e.getTagName();if(this.tags.has(n)){let r=this.findTag(n);if(r!=null)return r.requiresCloseResolver!=null?r.requiresCloseResolver(e):r.requiresClose}return!1}};ms.instance=null;(typeof ms.instance=="undefined"||ms.instance==null)&&(ms.instance=new ms,ms.instance.loadCoreTags());var En=ms;var Pr=class{constructor(e){this.generation=0;this.id="";this.name="";this.values=new Map;this.lists=new Map;this.pristine=new Map;this.parentScope=null;this.statamicProject=e,Pr.generationCounter+=1,this.generation=Pr.generationCounter,this.id=Ta()}makeNew(){return new Pr(this.statamicProject)}ancestor(){return this.parentScope!=null?this.parentScope:this}canShiftScope(e){return!!this.pristine.has(e)}shiftScope(e,n,r){if(this.pristine.has(n)){let i=this.pristine.get(n),s=i.parentCopy.copy();return s.introduceAliasScope(e,r,i.introducedFields),s}return this}containsPath(e){if(e.includes(":")){let n=e.split(":"),r=n.shift(),i=n.join(":");if(typeof r=="undefined")return!1;let s=this.lists.get(r);return typeof s=="undefined"?!1:s.containsPath(i)}return!!this.lists.has(e)}findReference(e){if(e.includes(":")){let n=e.split(":"),r=n.pop(),i=n.join(":"),s=this.findNestedScope(i);if(s!=null)return s.findReference(r)}return this.values.has(e)?this.values.get(e):null}findReferenceWithField(e){if(e.includes(":")){let n=e.split(":"),r=n.pop(),i=n.join(":"),s=this.findNestedScope(i);if(s!=null)return s.findReference(r)}if(this.values.has(e)){let n=this.values.get(e);if(n.sourceField==null){if(n.introducedBy!=null&&n.introducedBy.currentScope!=null&&n.introducedBy.currentScope!=this)return n.introducedBy.currentScope.findReferenceWithField(n.introducedBy.getTagName());if(this.parentScope!=null&&this.parentScope!=this)return this.parentScope.findReferenceWithField(e)}return n}return null}containsReference(e){return this.findReference(e)!=null}findNestedScope(e){if(e.includes(":")){let n=e.split(":"),r=n.shift(),i=n.join(":");if(typeof r=="undefined")return null;let s=this.lists.get(r);return typeof s=="undefined"?null:s.findNestedScope(i)}return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this&&this.parentScope.hasList(e)?this.parentScope.lists.get(e):null}liftList(e){if(this.lists.has(e)){let n=this.lists.get(e);return typeof n=="undefined"||n===null?null:(this.lists.delete(e),n)}return null}hasPristineReference(e){return!!this.pristine.has(e)}hasListInHistory(e){return this.hasList(e)?!0:this.parentScope!=null?this.name=="*root*"?!1:this.parentScope.hasList(e):!1}hasList(e){if(this.lists.has(e)){let n=this.lists.get(e);return!(typeof n=="undefined"||n===null)}return!1}bringListIntoMainScope(e){if(e.includes(":")){let r=e.split(":"),i=r.shift(),s=r.join(":");if(typeof i=="undefined")return this;let a=this.lists.get(i);return typeof a=="undefined"?this:a.bringListIntoMainScope(s)}let n=this.lists.get(e);return this.lists.delete(e),this.mergeScope(n)}getListNames(){let e=[];return this.lists.forEach((n,r)=>{e.push(r)}),e}getVariableNames(){let e=[];return this.values.forEach(n=>{e.push(n.name)}),e}getList(e){return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this?this.parentScope.getList(e):null}hasValue(e){return this.values.has(e)}findAncestorWithList(e){return this.hasList(e)?this:this.parentScope!=null&&this.parentScope!=this?this.parentScope.findAncestorWithList(e):null}findReferenceNotIntroducedBy(e,n){if(this.hasValue(e)){let r=this.values.get(e);if(r.introducedBy!=null&&r.introducedBy!=n)return r}return this.parentScope!=null&&this.parentScope!=this?this.parentScope.findReferenceNotIntroducedBy(e,n):null}removeThroughIntroduction(e,n){if(this.values.delete(e),this.parentScope!=null){let r=this.findReferenceNotIntroducedBy(e,n);r!=null&&this.addVariable(r)}}wasIntroducedBySymbol(e,n){if(this.values.has(e)==!1)return!1;let r=this.values.get(e);return r.introducedBy!=null?r.introducedBy==n:!1}referencesArray(e){return this.values.has(e)==!1?!1:this.values.get(e).dataType=="array"}addScopeList(e,n){return this.lists.set(e,n),this}mergeAndList(e,n){let r=new Pr(this.statamicProject);return r.values=KT(n),this.lists.set(e,r),this.mergeVariableScope(n),this}mergeScope(e){return e==this||e==null?this:(typeof e.values!="undefined"&&e.values!==null&&e.values.forEach((n,r)=>{this.values.set(r,n)}),typeof e.lists!="undefined"&&e.lists!==null&&e.lists.forEach((n,r)=>{this.lists.set(r,n)}),this)}mergeVariableScope(e){for(let n=0;n<e.length;n++)this.values.set(e[n].name,e[n]);return this}addVariable(e){this.values.set(e.name,e)}addVariables(e){for(let n=0;n<e.length;n++)this.addVariable(e[n])}addVariableArray(e,n){this.values.has(e)&&this.values.delete(e);let r=new Pr(this.statamicProject);r.addVariables(n),this.addScopeList(e,r)}injectAssetContainer(e,n){this.addBlueprintFields(e,this.statamicProject.getAssetBlueprintFields(n))}injectUserFields(e){this.addBlueprintFields(e,this.statamicProject.getUserFields())}addBlueprintField(e,n){this.addVariable({dataType:n.type,name:n.name,sourceField:n,sourceName:n.blueprintName,introducedBy:e})}introduceScopedAliasScope(e,n,r,i){this.pristine.set(r,{introducedFields:i,introducedScope:r,parentCopy:this.copy()});let s=new Pr(this.statamicProject),a=new Pr(this.statamicProject);return a.addBlueprintFields(e,i),s.name=r,s.addScopeList(n,a),this.addScopeList(r,s),s}expandScopedAliasScope(e,n,r,i){this.lists.has(r)==!1?this.introduceScopedAliasScope(e,n,r,i):this.lists.get(r).addBlueprintFields(e,i)}introduceAliasScope(e,n,r){this.pristine.set(n,{introducedFields:r,introducedScope:n,parentCopy:this.copy()});let i=new Pr(this.statamicProject);i.addBlueprintFields(e,r),i.name=n,this.addScopeList(n,i)}introduceDynamicScopeList(e,n,r){this.pristine.set(n,{introducedFields:r,introducedScope:n,parentCopy:this.copy()});let i=new Pr(this.statamicProject);i.name=n,i.addBlueprintFields(e,r),this.addScopeList(n,i)}addBlueprintFields(e,n){for(let r=0;r<n.length;r++)this.addBlueprintField(e,n[r])}injectBlueprint(e,n){let r=this.statamicProject.getBlueprintDetails(n);r.length>0&&this.addBlueprintFields(e,r)}copy(){let e=new Pr(this.statamicProject);return e.pristine=new Map(this.pristine),e.values=new Map(this.values),e.lists=new Map(this.lists),e.parentScope=this,e}},rr=Pr;rr.generationCounter=0;function zd(t){let e=new rr(t);return e.addVariable({dataType:"string",name:"handle",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"name",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"short_locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e}function R0(){let t=[];return t.push({dataType:"number",name:"response_code",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_field",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_token",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"environment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"xml_header",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"last_segment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_uri",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"amp_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"api_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_full_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_in",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_out",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"is_homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"now",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"today",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"current_date",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get_post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"old",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t}function w0(t,e){let n=t.findParameter("paginate");if(n!=null&&(n.value.toLowerCase()=="true"||parseInt(n.value).toString()==n.value)){let r=e.makeNew(),i=e.makeNew(),s=e.makeNew(),a=e.makeNew();r.addVariable({name:"next_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"prev_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_items",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_pages",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"current_page",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"auto_links",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),s.addVariable({name:"url",dataType:"string",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),s.addVariable({name:"page",dataType:"integer",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),a.addVariable({name:"first",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),a.addVariable({name:"last",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),a.addVariable({name:"slider",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),i.addScopeList("all",s),i.addScopeList("segments",a),r.addScopeList("links",i),e.addScopeList("paginate",r)}}var Ks=class{constructor(){this.fileInjections=new Map;this.project=null}updateProject(e){this.project=e}registerInjections(e,n){if(n.length==0)return;let r=[];for(let i=0;i<n.length;i++){let s=n[i];s.hasParameters&&r.push(s)}if(r.length>0){let i=r[0].getMethodNameValue();if(i!=null&&this.project!=null){let s=this.project.findPartial(i);s!=null&&(this.fileInjections.has(s.documentUri)||this.fileInjections.set(s.documentUri,new Map),this.fileInjections.get(s.documentUri).set(e,r))}}}hasAvailableInjections(e){return this.fileInjections.has(e)}getScopeInjection(e,n){let r=new rr(n);return r.name="*injection*",this.fileInjections.get(e).forEach((s,a)=>{for(let o=0;o<s.length;o++){let l=s[o];if(l.hasParameters)for(let u=0;u<l.parameters.length;u++){let c=l.parameters[u];if(c.containsSimpleValue())r.addVariable({dataType:"string",name:c.name,sourceField:null,sourceName:"scope.injection",introducedBy:l});else if(c.isVariableReference&&l.currentScope!=null&&l.currentScope.hasListInHistory(c.value)){let f=l.currentScope.findNestedScope(c.value);if(f!=null){let d=Rs(c.name,":"),_=f.copy();_.name=d,r.addScopeList(d,f)}}}}}),r}};Ks.instance=null;(typeof Ks.instance=="undefined"||Ks.instance==null)&&(Ks.instance=new Ks);var Xd=Ks;var cw=["collection"],fw=["if","elseif","unless","elseunless"],Qd=class{constructor(e,n,r){this.pageVars=[];this.viewDataVars=null;this.documentUri="";this.lastSymbolId="";this.ideHelperMap=new Map;this.statamicProject=e,this.documentUri=n,this.document=r,this.makePageScope(),this.makeViewDataScope()}makeViewDataScope(){this.document.hasFrontMatter()&&(this.viewDataVars=this.document.getFrontMatterScope())}makePageScope(){let e=[],n=this.statamicProject.getFields();if(n.has("pages")){let r=n.get("pages");for(let i=0;i<r.length;i++){let s=r[i];e.push({name:s.name,dataType:s.type,sourceField:s,sourceName:s.blueprintName,introducedBy:null})}}this.pageVars=e}analyzeScope(e){var c,f,d,_,p,m,g,h,b,y,x,D,G;let n=new rr(this.statamicProject);n.name="*root*",n.parentScope=n,n.addScopeList("site",zd(this.statamicProject)),n.addScopeList("sites",zd(this.statamicProject)),n.addVariables(R0());let r=new rr(this.statamicProject);r.name="*root_user*",r.parentScope=n,this.statamicProject.getUserFields().forEach(q=>{r.addBlueprintField(null,q)}),n.addScopeList("current_user",r),((c=fg.instance)==null?void 0:c.pageScopeDisabled(this.documentUri))?this.viewDataVars!=null&&n.addScopeList("view",this.viewDataVars):this.viewDataVars!=null?n.mergeAndList("page",this.pageVars).addScopeList("view",this.viewDataVars):n.mergeAndList("page",this.pageVars);let i=null;e.length>0&&e[0].isComment&&(i=Go(this.documentUri,e[0]));for(let q=0;q<e.length;q++)if(e[q].isComment){let C=Go(this.documentUri,e[q]);C.variableHelper!=null&&this.ideHelperMap.set(e[q].id(),C.variableHelper)}let s=this.statamicProject.getCollectionNamesForView(this.documentUri);if(i!=null&&(i.collectionInjections.length>0&&(s=s.concat(i.collectionInjections)),i.blueprints.length>0&&(s=s.concat(i.blueprints)),i.variableHelper!=null&&i.variableHelper.variableName=="@page")){let q=this.statamicProject.getBlueprintField(i.variableHelper.collectionName,i.variableHelper.fieldHandle);if(q!=null)if(i.variableHelper.setHandle.length>0){if(q.sets!=null){for(let C=0;C<q.sets.length;C++)if(q.sets[C].handle==i.variableHelper.setHandle){n.addVariables(ps(e[0],q.sets[C].fields));break}}}else n.addBlueprintField(e[0],q)}if(s.length>0){for(let q=0;q<s.length;q++)n.injectBlueprint(e[0],s[q]);n.addVariables(as(e[0]))}((f=Xd.instance)==null?void 0:f.hasAvailableInjections(this.documentUri))&&n.mergeScope((d=Xd.instance)==null?void 0:d.getScopeInjection(this.documentUri,this.statamicProject));let a=[],o=[],l=[],u=[];u.push(n);for(let q=0;q<e.length;q++){let C=e[q];this.lastSymbolId.length>0&&o.includes(C.id())&&(a.pop(),u.pop(),u.length==0&&u.push(n));let U=u[u.length-1];if(C.hasParameters){for(let Y=0;Y<C.parameters.length;Y++)if(C.parameters[Y].interpolations.length>0)for(let Q=0;Q<C.parameters[Y].interpolations.length;Q++){let se=C.parameters[Y].interpolations[Q];C.processedInterpolationRegions.has(se)&&C.processedInterpolationRegions.get(se).forEach(re=>{re instanceof z&&(re.currentScope=U)})}}if(((_=En.instance)==null?void 0:_.isKnownTag(C.getTagName()))==!1){if(C.scopeVariable=U.findReference(C.runtimeName()),q>0){let Y=e[q-1];if(Y.isComment&&this.ideHelperMap.has(Y.id())&&!Y.isClosingTag&&!C.isClosingTag){let Q=this.ideHelperMap.get(Y.id());if(Q.variableName==C.getTagName()){let se=this.statamicProject.getBlueprintField(Q.collectionName,Q.fieldHandle);se!=null&&(C.scopeVariable=Ed(C,se))}}}if(C.scopeVariable==null){let Y=C.runtimeName().trim();if(U.hasList(Y)||((p=C.currentScope)==null?void 0:p.hasListInHistory(Y))){C.sourceType="array";let ce=U.getList(Y);if(ce!=null&&ce.values.size>0){let re=ce.values.entries().next().value[1];C.scopeVariable={dataType:"array",introducedBy:re.introducedBy,name:Y,sourceField:null,sourceName:re.sourceName}}}let Q=(g=(m=C.name)==null?void 0:m.name)!=null?g:"";Q.includes(".")?Q=Q.split(".")[0]:Q.includes(":")&&(Q=Q.split(":")[0]);let se=this.statamicProject.findAnyBlueprintField(Q);if(se!=null){let ce=Ed(C,se);C.scopeVariable=ce,C.scopeVariable.sourceField!=null&&((h=Ya.instance)==null?void 0:h.hasFieldtype(C.scopeVariable.sourceField.type))&&((b=Ya.instance)==null?void 0:b.getFieldType(C.scopeVariable.sourceField.type)).augmentScope(C,U)}}else C.sourceType=hu(C.scopeVariable.dataType),C.scopeVariable.sourceField!=null&&((y=Ya.instance)==null?void 0:y.hasFieldtype(C.scopeVariable.sourceField.type))&&((x=Ya.instance)==null?void 0:x.getFieldType(C.scopeVariable.sourceField.type)).augmentScope(C,U)}if(C.hasParameters&&w0(C,U),C.modifiers!=null&&C.modifiers.hasModifiers()?C.manifestType=C.modifiers.getLastManifestedModifierRuntimeType():C.manifestType=C.sourceType,C.isClosedBy!=null&&(a.push(C.id()),o.push(C.isClosedBy.id()),U=U.copy(),u.push(U)),C.getTagName()=="scope"&&C.hasMethodPart()){let Y=u[u.length-2].copy();U.addScopeList(C.getMethodNameValue(),Y)}if(U.containsPath(C.runtimeName())&&(a.push(C.id()),C.isClosedBy!=null&&o.push(C.isClosedBy.id()),U=U.copy().bringListIntoMainScope(C.runtimeName()),u.push(U)),C.currentScope=U,C.getTagName()!="cache"){let Y=C.findParameter("scope");Y!=null&&U.canShiftScope(C.runtimeName())&&(U=U.shiftScope(C,C.runtimeName(),Y.value),C.currentScope=U,u.pop(),u.push(U))}if((D=En.instance)==null?void 0:D.isKnownTag(C.runtimeName())){let Y=(G=En.instance)==null?void 0:G.findTag(C.runtimeName());typeof Y!="undefined"&&Y.augmentScope!=null&&Y.augmentScope(C,U)}if(C.modifierChain!=null&&C.modifierChain.modifierChain.length>0&&C.modifierChain.modifierChain.forEach(Y=>{Y.modifier!=null&&typeof Y.modifier.augmentScope!="undefined"&&Y.modifier.augmentScope!=null&&Y.modifier.augmentScope(C,U)}),C.modifiers.hasParameterModifiers()&&C.modifiers.parameterModifiers.forEach(Y=>{Y.modifier!=null&&typeof Y.modifier.augmentScope!="undefined"&&Y.modifier.augmentScope!=null&&Y.modifier.augmentScope(C,U)}),C.sourceType=="array"){let Y=C.findParameter("chunk"),Q=!0;if(C.parent!=null&&C.parent instanceof z&&cw.includes(C.parent.runtimeName())&&(Q=!1),typeof Y!="undefined"&&Y!==null)if(C.currentScope.parentScope!=null&&(C.currentScope.parentScope.hasList(C.runtimeName())||U.referencesArray(C.runtimeName()))){let se=C.currentScope.parentScope.copy(),ce=se.liftList(C.runtimeName());if(ce==null&&U.referencesArray(C.runtimeName())){if(ce=new rr(U.statamicProject),Q){let re=ze(C);for(let ve=0;ve<re.length;ve++){let rt=re[ve];se.wasIntroducedBySymbol(rt.name,C)&&se.removeThroughIntroduction(rt.name,C)}ce.addVariables(re)}}else Q&&se.addVariables(ze(C));se.addScopeList("chunk",ce),U=se,u.pop(),u.push(U),C.currentScope=se}else{let se=C.findParameter("scope");if(typeof se!="undefined"&&se!==null&&C.currentScope!=null&&C.currentScope.hasList(se.value)&&C.scopeName!=null){let ce=C.currentScope.copy(),re=ce.ancestor().copy(),ve=ce.liftList(C.scopeName);Q&&ce.addVariables(ze(C)),re.liftList(C.scopeName),ce.addScopeList(C.scopeName,ve),re.addScopeList("chunk",ce),U=re,u.pop(),u.push(U),C.currentScope=re}}else C.scopeVariable!=null&&C.scopeVariable.sourceField==null&&Q&&(U.addVariables(ze(C)),U.addVariables(Qe(C)))}if(o.includes(C.id())&&C.parent!=null&&C.parent instanceof z){let Y=C.currentScope.findAncestorWithList(C.getTagName());Y!=null?(C.currentScope=Y,U=Y.copy(),u.pop(),u.length==0&&u.push(n),u.push(U)):C.parent.parent!=null?C.currentScope=C.parent.parent.currentScope:C.currentScope=C.parent.currentScope}if(C.currentScope!=null&&C.runtimeNodes.length>0&&C.runtimeNodes.forEach(Y=>{var Q;if(Y instanceof Pe&&((Q=C.currentScope)==null?void 0:Q.hasValue(Y.name))){let se=C.currentScope.findReferenceWithField(Y.name);Y.currentScope=C.currentScope,Y.scopeName=C.scopeName,Y.scopeVariable=se}}),fw.includes(C.runtimeName())&&C.runtimeNodes.length==3&&C.runtimeNodes[0]instanceof Pe&&C.runtimeNodes[1]instanceof kn&&C.runtimeNodes[2]instanceof It&&C.runtimeNodes[0].scopeVariable!=null&&C.runtimeNodes[0].scopeVariable.sourceField!=null){let Y=C.runtimeNodes[0].scopeVariable,Q=C.runtimeNodes[2].value,se=Y.sourceField;if(se.sets!=null)for(let ce=0;ce<se.sets.length;ce++){let re=se.sets[ce];if(re.handle==Q&&re.fields!=null){U=U.copy(),U.addBlueprintFields(C,re.fields),C.isClosedBy!=null&&!C.isSelfClosing&&(a.push(C.id()),o.push(C.isClosedBy.id()),u.push(U));break}}}this.lastSymbolId=C.id();let Z=a.join("/");l.push(Z)}}};var hs=class{};hs.globalTagEnterStack=[],hs.interpolatedVariables=[];var k0=je(gu());var Vn=class{constructor(){this.name="";this.compound="";this.methodPart="";this.content="";this.cachedCompoundTagName=null}tagPartIs(e){return e=e.toLowerCase().trim(),this.name.toLowerCase().trim()==e}isCompound(){return this.methodPart==null?!1:this.methodPart.length>0}getMethodName(){return this.methodPart==""?"index":this.methodPart=="null"?"":this.methodPart}getRuntimeMethodName(){}getCompoundTagName(){if(this.cachedCompoundTagName==null){let e=this.getMethodName();this.cachedCompoundTagName=this.name,e!=null&&e!=""&&(this.cachedCompoundTagName=this.cachedCompoundTagName+":"+e)}return this.cachedCompoundTagName}};var Jd=class{constructor(){this.tagNames=[];this.modifierNames=[]}getModifierNames(){var e,n;return this.modifierNames.concat((n=(e=Dt.instance)==null?void 0:e.getModifierNames())!=null?n:[])}getTagNames(){var e,n;return this.tagNames.concat((n=(e=En.instance)==null?void 0:e.getTagNames())!=null?n:[])}setTagNames(e){this.tagNames=e}setModifierNames(e){this.modifierNames=e}isTag(e){var n;return Jd.alwaysLikeTag.includes(e)||((n=En.instance)==null?void 0:n.isKnownTag(e))?!0:this.tagNames.includes(e)}isModifier(e){var n;return((n=Dt.instance)==null?void 0:n.hasModifier(e))?!0:this.modifierNames.includes(e)}},fo=Jd;fo.alwaysLikeTag=["if","endif","elseif","else","unless","elseunless"];var mo=class{static analyze(e,n){e.forEach(r=>{if(r instanceof z){if(r.pathReference!=null&&r.pathReference.isStrictVariableReference){r.isTagNode=!1;return}r.name!=null&&(r.isTagNode=n.isTag(r.name.name))}})}static analyzeNode(e){if(e.pathReference!=null&&e.pathReference.isStrictVariableReference){e.isTagNode=!1;return}mo.environmentDetails!=null&&e.name!=null&&(e.isTagNode=mo.environmentDetails.isTag(e.name.name)),e.name!=null&&(e.isConditionNode=fo.alwaysLikeTag.includes(e.name.name))}static analyzeParametersForModifiers(e){e.parameters.forEach(n=>{mo.environmentDetails!=null&&(n.isModifierParameter=mo.environmentDetails.isModifier(n.name))})}},po=mo;po.environmentDetails=null;(typeof po.environmentDetails=="undefined"||po.environmentDetails==null)&&(po.environmentDetails=new fo);var Zd=po;var em=class{static getIdentifier(e){var i;let n=new Vn;n.content=e.trim();let r=e.split(":");if(r.length==1)n.name=r[0].trim(),n.methodPart=null,n.compound=n.name;else if(r.length>1){let s=(i=r.shift())!=null?i:"",a=r.join(":");n.name=s.trim(),n.methodPart=a.trim(),n.compound=n.name+":"+n.methodPart}else n.name=e.trim(),n.methodPart="";return n.name.startsWith("/")&&(n.name=n.name.substr(1),n.compound=n.compound.substr(1)),n}};var fe=class{static getPrettyTypeName(e){return e instanceof Hr?fe.TOKEN_LANG_OPERATOR:e instanceof Kn?fe.TOKEN_OP_A_ADD:e instanceof Pe?fe.TOKEN_VARIABLE:e instanceof It?fe.TOKEN_STRING:e instanceof Mt?fe.TOKEN_NUMBER:e instanceof Fr?fe.TOKEN_CONSTANT_FALSE:e instanceof mr?fe.TOKEN_CONSTANT_NULL:e instanceof Lr?fe.TOKEN_CONSTANT_TRUE:e instanceof Na?fe.TOKEN_MODIFIER_NODE:e instanceof Ko?fe.TOKEN_MODIFIER_CHAIN:e instanceof ap?fe.TOKEN_MODIFIER_PARAMETER:e instanceof zn?fe.TOKEN_OP_A_DIVIDE:e instanceof fi?fe.TOKEN_OP_A_EXPONENTIATION:e instanceof pi?fe.TOKEN_OP_A_MODULUS:e instanceof Xn?fe.TOKEN_OP_A_MULTIPLY:e instanceof Cn?fe.TOKEN_OP_A_SUBTRACT:e instanceof kr?fe.TOKEN_ASG_ADD:e instanceof Mr?fe.TOKEN_ASG_DIVIDE:e instanceof Br?fe.TOKEN_ASG_MODULUS:e instanceof Vr?fe.TOKEN_ASG_MULTIPLY:e instanceof Qn?fe.TOKEN_ASG_ASSIGN:e instanceof di?fe.TOKEN_ASG_SUBTRACT:e instanceof kn?fe.TOKEN_CMP_EQUAL:e instanceof Yr?fe.TOKEN_CMP_SEQUAL:e instanceof hr?fe.TOKEN_CMP_GT:e instanceof Ai?fe.TOKEN_CMP_GTE:e instanceof qr?fe.TOKEN_CMP_LT:e instanceof jr?fe.TOKEN_CMP_LTE:e instanceof Ur?fe.TOKEN_CMP_NEQ:e instanceof Wr?fe.TOKEN_CMP_SNEQ:e instanceof Gr?fe.TOKEN_CMP_SPACESHIP:e instanceof Ii?fe.TOKEN_OP_VARIABLE_FALLBACK:e instanceof op?fe.TOKEN_COND_FALLBACK_GROUP:e instanceof At?fe.TOKEN_BRANCH_SEPARATOR:e instanceof $r?fe.TOKEN_TERNARY_SEPARATOR:e instanceof Ht?fe.TOKEN_GROUP_BEGIN:e instanceof Yt?fe.TOKEN_GROUP_END:e instanceof hn?fe.TOKEN_MODIFIER_SEPARATOR:e instanceof tn?fe.TOKEN_MODIFIER_NAME:e instanceof $t?fe.TOKEN_MODIFIER_VALUE:e instanceof Pn?fe.TOKEN_MODIFIER_VALUE_SEPARATOR:e instanceof Xo?fe.TOKEN_NULL_COALESCE_GROUP:e instanceof kt?fe.TOKEN_SEMANTIC_GROUP:e instanceof un?fe.TOKEN_STATEMENT_SEPARATOR:e instanceof Qo?fe.TOKEN_TERNARY_CONDITION:e instanceof gr?fe.TOKEN_OP_AND:e instanceof cn?fe.TOKEN_OP_LOGIC_NEGATION:e instanceof _r?fe.TOKEN_OP_OR:e instanceof mi?fe.TOKEN_OP_XOR:e instanceof yr?fe.TOKEN_OP_NULL_COALESCE:e instanceof $o?fe.TOKEN_PARAM:e instanceof Yn?fe.TOKEN_PATH_ACCESSOR:e instanceof zi?fe.TOKEN_OP_A_FACTORIAL:e instanceof dr?fe.TOKEN_RECURSIVE:e instanceof Da?fe.TOKEN_ARG_GROUP:e instanceof Rt?fe.TOKEN_ARG_SEPARATOR:e instanceof hi?fe.TOKEN_OP_STRING_CONCAT:e instanceof Dn?fe.TOKEN_OP_SCOPE_REASSIGNMENT:e instanceof Pa?fe.TOKEN_STRUCT_SWITCH_CASE:e instanceof Os?fe.TOKEN_STRUCT_SWITCH_GROUP:e instanceof ws?fe.TOKEN_STRUCT_DIRECTION_GROUP:e instanceof br?fe.TOKEN_STRUCT_SCOPED_LOGIC_GROUP:e instanceof We?fe.TOKEN_STRUCT_LOGIC_GROUP:e instanceof zo?fe.TOKEN_STRUCT_VALUE_DIRECTION:e instanceof Ei?fe.TOKEN_STRUCT_ARRAY:e instanceof Tr?fe.TOKEN_STRUCT_T_LIST_START:e instanceof lp?fe.TOKEN_STRUCT_TUPLE_LIST:e instanceof en?fe.TOKEN_STRUCT_METHOD_CALL:typeof e}},ne=fe;ne.TOKEN_LANG_OPERATOR="T_LANG_OPERATOR",ne.TOKEN_VARIABLE="T_VAR",ne.TOKEN_NUMBER="T_NUMERIC",ne.TOKEN_STRING="T_STRING",ne.TOKEN_RECURSIVE="T_RECURSIVE",ne.TOKEN_CONSTANT_FALSE="T_FALSE",ne.TOKEN_CONSTANT_NULL="T_NULL",ne.TOKEN_CONSTANT_TRUE="T_TRUE",ne.TOKEN_MODIFIER_NODE="T_MODIFIER",ne.TOKEN_MODIFIER_CHAIN="T_MODIFIER_CHAIN",ne.TOKEN_MODIFIER_PARAMETER="T_MODIFIER_PARAM",ne.TOKEN_OP_A_ADD="T_AOP_ADD",ne.TOKEN_OP_A_DIVIDE="T_AOP_DIVIDE",ne.TOKEN_OP_A_EXPONENTIATION="T_AOP_EXP",ne.TOKEN_OP_A_MODULUS="T_AOP_MOD",ne.TOKEN_OP_A_MULTIPLY="T_AOP_MULTIPLY",ne.TOKEN_OP_A_SUBTRACT="T_AOP_SUBTRACT",ne.TOKEN_OP_A_FACTORIAL="T_AOP_FACTORIAL",ne.TOKEN_ASG_ADD="T_ASG_ADD",ne.TOKEN_ASG_DIVIDE="T_ASG_DIVIDE",ne.TOKEN_ASG_ASSIGN="T_ASG",ne.TOKEN_ASG_MODULUS="T_ASG_MODULUS",ne.TOKEN_ASG_MULTIPLY="T_ASG_MULTIPLY",ne.TOKEN_ASG_SUBTRACT="T_ASG_SUBTRACT",ne.TOKEN_CMP_EQUAL="T_CMP_EQ",ne.TOKEN_CMP_SEQUAL="T_CMP_SEQ",ne.TOKEN_CMP_GT="T_CMP_GT",ne.TOKEN_CMP_GTE="T_CMP_GTE",ne.TOKEN_CMP_LT="T_CMP_LT",ne.TOKEN_CMP_LTE="T_CMP_LTE",ne.TOKEN_CMP_NEQ="T_CMP_NEQ",ne.TOKEN_CMP_SNEQ="T_CMP_SNEQ",ne.TOKEN_CMP_SPACESHIP="T_CMP_SPSHP",ne.TOKEN_OP_VARIABLE_FALLBACK="T_VFBK",ne.TOKEN_COND_FALLBACK_GROUP="T_VFBK_GROUP",ne.TOKEN_BRANCH_SEPARATOR="T_BRANCH_SEPARATOR",ne.TOKEN_TERNARY_SEPARATOR="T_TERNARY_SEPARATOR",ne.TOKEN_GROUP_BEGIN="T_LOGIC_BEGIN",ne.TOKEN_GROUP_END="T_LOGIC_END",ne.TOKEN_MODIFIER_SEPARATOR="T_MODIFIER_SEPARATOR",ne.TOKEN_MODIFIER_NAME="T_MODIFIER_NAME",ne.TOKEN_MODIFIER_VALUE="T_MODIFIER_VALUE",ne.TOKEN_MODIFIER_VALUE_SEPARATOR="T_MODIFIER_VALUE_SEPARATOR",ne.TOKEN_NULL_COALESCE_GROUP="T_NULL_COALESCE_GROUP",ne.TOKEN_SEMANTIC_GROUP="T_SEMANTIC_GROUP",ne.TOKEN_STATEMENT_SEPARATOR="T_STATEMENT_SEPARATOR",ne.TOKEN_TERNARY_CONDITION="T_TERNARY_CONDITION",ne.TOKEN_OP_AND="T_AND",ne.TOKEN_OP_LOGIC_NEGATION="T_LOGIC_INVERSE",ne.TOKEN_OP_OR="T_OR",ne.TOKEN_OP_XOR="T_XOR",ne.TOKEN_OP_NULL_COALESCE="T_NULL_COALESCE",ne.TOKEN_PARAM="T_PARAM",ne.TOKEN_PATH_ACCESSOR="T_VAR_SEPARATOR",ne.TOKEN_ARG_GROUP="T_ARG_GROUP",ne.TOKEN_ARG_SEPARATOR="T_ARG_SEPARATOR",ne.TOKEN_OP_STRING_CONCAT="T_STR_CONCAT",ne.TOKEN_OP_SCOPE_REASSIGNMENT="T_SCOPE_ASSIGNMENT",ne.TOKEN_STRUCT_SWITCH_CASE="T_SWITCH_CASE",ne.TOKEN_STRUCT_SWITCH_GROUP="T_SWITCH_GROUP",ne.TOKEN_STRUCT_DIRECTION_GROUP="T_DIRECTION_GROUP",ne.TOKEN_STRUCT_VALUE_DIRECTION="T_ORDER_DIRECTION",ne.TOKEN_STRUCT_SCOPED_LOGIC_GROUP="T_SCOPED_LOGIC_GROUP",ne.TOKEN_STRUCT_LOGIC_GROUP="T_LOGIC_GROUP",ne.TOKEN_STRUCT_ARRAY="T_ARRAY",ne.TOKEN_STRUCT_T_LIST_START="T_LIST_START",ne.TOKEN_STRUCT_TUPLE_LIST="T_LIST",ne.TOKEN_STRUCT_METHOD_CALL="T_METHOD_CALL";var tt=class{static isLanguageLogicalKeyword(e){return e==this.LogicalAnd||e==this.LogicalNot||e==this.LogicalOr||e==this.LogicalXor}};tt.LogicalAnd="and",tt.LogicalNot="not",tt.LogicalOr="or",tt.LogicalXor="xor",tt.ConstTrue="true",tt.ConstFalse="false",tt.ConstNull="null",tt.ArrList="list",tt.ScopeAs="as";var tm=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.currentContent=[];this.rawContent=[];this.startIndex=0;this.cur=null;this.next=null;this.prev=null;this.isParsingString=!1;this.isParsingModifierName=!1;this.isInModifierParameterValue=!1;this.runtimeNodes=[];this.ignorePrevious=!1;this.lastNode=null;this.referenceParser=null;this.activeNode=null}reset(){this.ignorePrevious=!1,this.runtimeNodes=[],this.chars=[],this.inputLen=0,this.currentIndex=0,this.currentContent=[],this.rawContent=[],this.startIndex=0,this.cur=null,this.next=null,this.prev=null,this.isParsingString=!1,this.isParsingModifierName=!1,this.isInModifierParameterValue=!1,this.referenceParser=null,this.activeNode=null}checkCurrentOffsets(){this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.ignorePrevious?(this.prev="",this.ignorePrevious=!1):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen&&(this.next=this.chars[this.currentIndex+1])}isValidChar(e){return e==null||e==O.Punctuation_Semicolon?!1:this.isParsingString==!1&&e=="]"?!0:this.isParsingString==!1&&e==")"?!1:(e=="["||e=="]")&&e==this.cur||(e=="_"||e=="."||e=="["||e=="]")&&(!(this.currentContent.length>0)||te.ctypeAlpha(this.cur)||te.ctypeDigit(this.cur))?!0:te.ctypeSpace(e)?!1:this.isParsingModifierName&&(e==O.Punctuation_Minus||e==O.Punctuation_Underscore)?!0:!te.ctypePunct(e)}isRightOfInterpolationRegion(){if(this.activeNode==null||this.referenceParser==null)return!1;let e=this.activeNode._lexerRelativeOffset(this.currentIndex);return this.referenceParser.bordersInterpolationRegion(e)}scanForwardTo(e,n=0){let r=[];for(let i=this.currentIndex+1+n;i<this.inputLen;i++){let s=this.chars[i];if(s==e){r.push(s);break}else r.push(s)}return r}nextNonWhitespace(){for(let e=this.currentIndex+1;e<this.inputLen;e++){let n=this.chars[e];if(!te.ctypeSpace(n))return n}return null}pushError(e){this.referenceParser!=null&&this.referenceParser.addAntlersError(e)}guardAgainstNeighboringTypesInModifier(e){return this.lastNode instanceof $t&&this.pushError(K.makeSyntaxError(P.TYPE_MODIFIER_INCORRECT_VALUE_POSITION,this.lastNode,"Incorrect type ["+ne.getPrettyTypeName(e)+"] near ["+ne.getPrettyTypeName(this.lastNode)+"]")),!1}appendContent(e){e!=null&&this.currentContent.push(e)}tokenize(e,n){this.reset(),this.referenceParser=e.getParser(),this.activeNode=e,this.chars=n.split(""),this.inputLen=this.chars.length,this.runtimeNodes=[],this.lastNode=null;let r=null;this.isParsingString=!1,this.isParsingModifierName=!1;let i=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){this.checkCurrentOffsets();let a=!0;if(this.cur!=null&&this.rawContent.push(this.cur),this.isParsingString==!1&&(this.cur==O.String_Terminator_DoubleQuote||this.cur==O.String_Terminator_SingleQuote)){if(this.prev==O.String_EscapeCharacter){this.pushError(K.makeSyntaxError(P.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE,e,"Illegal string escape sequence outside string parsing."));continue}this.rawContent=[],this.rawContent.push(this.cur),i=this.cur,this.isParsingString=!0,r=this.currentIndex;continue}if(this.isInModifierParameterValue&&!this.isParsingString){let o=!1;if(!this.isParsingString&&te.ctypeSpace(this.next)){let l=this.scanForwardTo(" ",1).join("").trim().toLowerCase();l.length>0&&tt.isLanguageLogicalKeyword(l)&&(o=!0)}if(this.next==O.String_Terminator_SingleQuote||this.next==O.String_Terminator_DoubleQuote||this.next==null||o){this.appendContent(this.cur);let l=this.currentContent.join("");if(l.length>0){let u=l;if(this.currentContent=[],this.rawContent=[],u.trimRight().length==0){let f=this.nextNonWhitespace();if(f==O.String_Terminator_SingleQuote||f==O.String_Terminator_DoubleQuote){this.currentContent=[],this.rawContent=[];continue}}let c=new $t;c.isVirtual=!1,c.name=u,c.value=u.trimRight(),c.startPosition=e._lexerRelativeOffset(this.currentIndex-u.length),c.endPosition=e._lexerRelativeOffset(this.currentIndex),c.parent=this.activeNode,this.guardAgainstNeighboringTypesInModifier(c),this.runtimeNodes.push(c),this.lastNode=c}if(l.length==0)continue;this.currentContent=[],this.rawContent=[],this.isInModifierParameterValue=!1;continue}if(this.next==O.Punctuation_Pipe||this.next==O.Punctuation_Colon||this.next==O.RightParent){this.isInModifierParameterValue=!1,this.appendContent(this.cur);let l=0,u=!1;if(this.currentContent[0]==O.String_Terminator_SingleQuote||this.currentContent[0]==O.String_Terminator_DoubleQuote){let d=this.scanForwardTo(this.currentContent[0]);d.length>0&&(this.currentContent=this.currentContent.concat(d),l=d.length,u=!0)}let c=this.currentContent.join("");u&&(c=c.substr(1),c=c.slice(0,-1)),this.currentContent=[],this.rawContent=[];let f=new $t;f.isVirtual=!1,f.name=c,f.value=c,f.startPosition=e._lexerRelativeOffset(this.currentIndex-c.length),f.endPosition=e._lexerRelativeOffset(this.currentIndex),f.parent=this.activeNode,this.runtimeNodes.push(f),this.guardAgainstNeighboringTypesInModifier(f),this.lastNode=f,this.currentIndex+=l}else this.appendContent(this.cur);continue}if(this.isParsingString&&this.cur==i){if(this.prev==O.String_EscapeCharacter)this.appendContent(i);else{if(this.isInModifierParameterValue){let l=this.currentContent.join(""),u=new $t;u.isVirtual=!1,u.name=l,u.value=l,u.startPosition=e._lexerRelativeOffset(r!=null?r:0),u.endPosition=e._lexerRelativeOffset(this.currentIndex),u.parent=this.activeNode,this.runtimeNodes.push(u),this.guardAgainstNeighboringTypesInModifier(u),this.lastNode=u,this.currentContent=[],this.rawContent=[],this.isParsingString=!1,this.isInModifierParameterValue=!1;continue}let o=new It;o.isVirtual=!1,o.startPosition=e._lexerRelativeOffset(r!=null?r:0),o.endPosition=e._lexerRelativeOffset(this.currentIndex),this.referenceParser!=null&&(o.sourceContent=this.referenceParser.getText(o.startPosition.index,o.endPosition.index+1)),o.parent=this.activeNode,i!=null&&(o.sourceTerminator=i),i=null,this.isParsingString=!1,o.value=this.currentContent.join(""),o.rawLexContent=this.rawContent.join("").trim(),this.currentContent=[],this.rawContent=[],this.guardAgainstNeighboringTypesInModifier(o),this.runtimeNodes.push(o),this.lastNode=o}continue}if(this.isParsingString&&this.cur==O.String_EscapeCharacter){if(this.next==O.String_EscapeCharacter){this.appendContent(O.String_EscapeCharacter),this.ignorePrevious=!0,this.currentIndex+=1;continue}else if(this.next==O.String_Terminator_SingleQuote){this.appendContent(O.String_Terminator_SingleQuote),this.currentIndex+=1;continue}else if(this.next==O.String_Terminator_DoubleQuote){this.appendContent(O.String_Terminator_DoubleQuote),this.currentIndex+=1;continue}else if(this.next=="n"){this.appendContent(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){this.appendContent("	"),this.currentIndex+=1;continue}else if(this.next=="r"){this.appendContent("\r"),this.currentIndex+=1;continue}}if(this.isParsingString==!1){if(this.isValidChar(this.cur)&&this.isValidChar(this.next)==!1&&this.currentContent.length==0&&(this.appendContent(this.cur),a=!1),(this.next==null||this.isValidChar(this.next)==!1)&&this.currentContent.length>0){a&&this.appendContent(this.cur);let o=this.currentContent.join("").trim(),l=o.length,u=this.currentIndex-l,c=e._lexerRelativeOffset(u),f=e._lexerRelativeOffset(this.currentIndex);if(this.currentContent=[],this.rawContent=[],o==tt.LogicalAnd){let _=new gr;_.isVirtual=!1,_.content=tt.LogicalAnd,_.startPosition=c,_.endPosition=f,_.parent=this.activeNode,this.runtimeNodes.push(_),this.lastNode=_;continue}else if(o==tt.LogicalOr){let _=new _r;_.isVirtual=!1,_.content=tt.LogicalOr,_.startPosition=c,_.endPosition=f,_.parent=this.activeNode,this.runtimeNodes.push(_),this.lastNode=_;continue}else if(o==tt.LogicalXor){let _=new mi;_.isVirtual=!1,_.content=tt.LogicalXor,_.startPosition=c,_.endPosition=f,_.parent=this.activeNode,this.runtimeNodes.push(_),this.lastNode=_;continue}else if(o==tt.ConstNull){let _=new mr;_.isVirtual=!1,_.content=tt.ConstNull,_.startPosition=c,_.endPosition=f,_.parent=this.activeNode,this.runtimeNodes.push(_),this.lastNode=_;continue}else if(o==tt.ConstTrue){let _=new Lr;_.isVirtual=!1,_.content=tt.ConstTrue,_.startPosition=c,_.endPosition=f,_.parent=this.activeNode,this.runtimeNodes.push(_),this.lastNode=_;continue}else if(o==tt.ConstFalse){let _=new Fr;_.isVirtual=!1,_.content=tt.ConstFalse,_.startPosition=c,_.endPosition=f,_.parent=this.activeNode,this.runtimeNodes.push(_),this.lastNode=_;continue}else if(o==tt.LogicalNot){let _=new cn;_.isVirtual=!1,_.content=tt.LogicalNot,_.startPosition=c,_.endPosition=f,_.parent=this.activeNode,this.runtimeNodes.push(_),this.lastNode=_;continue}else if(o==tt.ArrList&&this.next==O.LeftParen){let _=new Tr;_.isVirtual=!1,_.content=tt.ArrList,_.startPosition=c,_.endPosition=f,_.parent=this.activeNode,this.runtimeNodes.push(_),this.lastNode=_;continue}if(te.isNumeric(o)){let _=new Mt;_.isVirtual=!1,_.startPosition=c,_.endPosition=f,_.parent=this.activeNode,o.includes(".")?_.value=parseFloat(o):_.value=parseInt(o),_.rawLexContent=o,this.guardAgainstNeighboringTypesInModifier(_),this.runtimeNodes.push(_),this.lastNode=_;continue}if(this.runtimeNodes.length>0){let _=this.runtimeNodes[this.runtimeNodes.length-1];if(_ instanceof hn){let p=new tn;p.isVirtual=!1,p.name=o,p.content=o,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(_ instanceof Pn){let p=new $t;p.isVirtual=!1,p.name=o,p.value=o,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p,this.isParsingModifierName=!1;continue}}let d=new Pe;d.isVirtual=!1,d.name=o,d.startPosition=c,d.endPosition=f,d.parent=this.activeNode,this.runtimeNodes.push(d),this.lastNode=d;continue}}else{this.appendContent(this.cur);continue}if(!te.ctypeSpace(this.cur)){if(this.isParsingString==!1){if(this.cur==O.Punctuation_Equals&&this.next==O.Punctuation_GreaterThan){let o=new Dn;o.isVirtual=!1,o.content="=>",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentContent=[],this.rawContent=[],this.currentIndex+=1;continue}if(this.cur==O.Punctuation_Comma){let o=new Rt;o.isVirtual=!1,o.content=O.Punctuation_Comma,o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==O.Punctuation_Semicolon){let o=new un;o.isVirtual=!1,o.content=O.Punctuation_Semicolon,o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==O.Punctuation_Plus){if(this.next==O.Punctuation_Equals){let l=new kr;l.isVirtual=!1,l.content="+=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new Kn;o.isVirtual=!1,o.content="+",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.isParsingModifierName==!1&&this.cur==O.Punctuation_Minus){if(te.ctypeDigit(this.next)&&te.ctypeDigit(this.prev)==!1&&this.prev!=O.RightParent&&this.isRightOfInterpolationRegion()==!1){this.appendContent(this.cur);continue}if(this.next==O.Punctuation_Equals){let l=new di;l.isVirtual=!1,l.content="-=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}else if(this.next==O.Punctuation_GreaterThan){let l=new en;l.isVirtual=!1,l.content="->",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new Cn;o.isVirtual=!1,o.content="-",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==O.Punctuation_Asterisk){if(this.next==O.Punctuation_Asterisk){let l=new fi;l.isVirtual=!1,l.content="**",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}else if(this.next==O.Punctuation_Equals){let l=new Vr;l.isVirtual=!1,l.content="*=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new Xn;o.isVirtual=!1,o.content="*",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==O.Punctuation_ForwardSlash){if(this.next==O.Punctuation_Equals){let l=new Mr;l.isVirtual=!1,l.content="/=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new zn;o.isVirtual=!1,o.content="/",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==O.Punctuation_Percent){if(this.next==O.Punctuation_Equals){let l=new Br;l.isVirtual=!1,l.content="%=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new pi;o.isVirtual=!1,o.content="%",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==O.Punctuation_LessThan){if(this.next==O.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==O.Punctuation_GreaterThan){let c=new Gr;c.isVirtual=!1,c.content="<=>",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+3),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=2;continue}let u=new jr;u.isVirtual=!1,u.content="<=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let o=new qr;o.isVirtual=!1,o.content="<",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==O.Punctuation_GreaterThan){if(this.next==O.Punctuation_Equals){let l=new hr;l.isVirtual=!1,l.content=">=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new hr;o.isVirtual=!1,o.content=">",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==O.Punctuation_Equals&&this.next!=O.Punctuation_Equals){let o=new Qn;o.isVirtual=!1,o.content="=",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==O.Punctuation_Equals&&this.next==O.Punctuation_Equals){let o=null;if(this.currentIndex+2<this.inputLen&&(o=this.chars[this.currentIndex+2]),o==O.Punctuation_Equals){let l=new Yr;l.isVirtual=!1,l.content="===",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+3),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=2}else{let l=new kn;l.isVirtual=!1,l.content="==",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1}continue}if(this.cur==O.Punctuation_Ampersand){if(this.next==O.Punctuation_Ampersand){let l=new gr;l.isVirtual=!1,l.content="&&",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}if(this.next==O.Punctuation_Equals){let l=new hi;l.isVirtual=!1,l.content="&=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}let o=new gr;o.isVirtual=!1,o.content="&",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==O.Punctuation_Pipe&&this.next!=O.Punctuation_Pipe){let o=new hn;o.isVirtual=!1,o.content="|",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.isParsingModifierName=!0;continue}if(this.cur==O.Punctuation_Pipe&&this.next==O.Punctuation_Pipe){let o=new _r;o.isVirtual=!1,o.content="||",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==O.Punctuation_Exclamation){if(this.next==O.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==O.Punctuation_Equals){let c=new Wr;c.isVirtual=!1,c.content="!==",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+3),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=2;continue}let u=new Ur;u.isVirtual=!1,u.content="!=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let o=new cn;o.isVirtual=!1,o.content="!",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==O.Punctuation_Question&&this.next==O.Punctuation_Equals){let o=new Ii;o.isVirtual=!1,o.content="?=",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==O.Punctuation_Question&&this.next==O.Punctuation_Question){let o=new yr;o.isVirtual=!1,o.content="??",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==O.Punctuation_Question&&this.next==O.Punctuation_Colon){let o=new yr;o.isVirtual=!1,o.content="?:",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==O.Punctuation_Question){let o=new $r;o.isVirtual=!1,o.content="?",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==O.LeftParen){let o=new Ht;o.isVirtual=!1,o.content="(",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==O.RightParent){let o=new Yt;o.isVirtual=!1,o.content=")",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==O.Punctuation_Colon){if(this.runtimeNodes.length>0&&this.runtimeNodes[this.runtimeNodes.length-1]instanceof tn){let u=new Pn;u.isVirtual=!1,u.content=":",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+1),u.parent=this.activeNode,this.runtimeNodes.push(u),this.isInModifierParameterValue==!1?this.isInModifierParameterValue=!0:this.isInModifierParameterValue=!1;continue}let o=new At;o.isVirtual=!1,o.content=":",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.isParsingModifierName=!1;continue}}a&&this.appendContent(this.cur)}}let s=this.runtimeNodes.length-1;for(let a=0;a<this.runtimeNodes.length;a++){let o=null,l=null;a>0&&(o=this.runtimeNodes[a-1]),a!=s&&(l=this.runtimeNodes[a+1]);let u=this.runtimeNodes[a];u.prev=o,u.next=l}return this.runtimeNodes}};var jt=class{constructor(){this.chars=[];this.currentIndex=0;this.lastIndex=0;this.inputLength=0;this.prev=null;this.cur=null;this.next=null;this.isParsingString=!1;this.isStringKeyPath=!1;this.antlersErrors=[];this._recusriveEntryCheck=new Map}isValidChar(e){return!(this.isParsingString==!1&&te.ctypeSpace(e)||this.isParsingString==!1&&e==jt.LeftBracket||this.isParsingString==!1&&e==jt.RightBracket)}normalizePath(e){return e=e.replace(":","_"),e=e.replace(".","_"),e=e.replace("[","_"),e=e.replace("]","_"),e.replace("]","_")}getAntlersErrors(){return this.antlersErrors}mergeErrors(e){e.forEach(n=>{this.antlersErrors.push(n)})}parse(e){this.antlersErrors=[],this._recusriveEntryCheck.clear();let n=e,r=!1,i=!1,s=!1,a=!1;e.startsWith(O.AtChar)&&(s=!0,e=e.substr(1)),e.startsWith(O.Punctuation_Caret)?(a=!0,e=e.substr(1)):(e.startsWith(O.Punctuation_Dollar)&&(r=!0,e=e.substr(1)),e.startsWith(O.Punctuation_Dollar)&&(i=!0,e=e.substr(1))),this.chars=[],this.currentIndex=0,this.lastIndex=0,this.inputLength=0,this.cur=null,this.prev=null,this.next=null,this.chars=e.split(""),this.inputLength=this.chars.length,this.lastIndex=this.inputLength-1;let o=[],l=!1,u=[],c=jt.ColonSeparator,f=!1,d=null,_=!1,p=!0;if(this.isParsingString=!1,this.inputLength==0){let h=new Qi;return h._isFromEmptyFailState=!0,h}for(this.currentIndex;this.currentIndex<this.inputLength;this.currentIndex+=1){if(this.cur=this.chars[this.currentIndex],this.next=null,f?(f=!1,this.prev=""):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLength&&(this.next=this.chars[this.currentIndex+1]),this.isParsingString==!1&&this.cur==jt.ColonSeparator&&(c=jt.ColonSeparator),this.isParsingString==!1&&this.cur==jt.DotPathSeparator&&(c=jt.DotPathSeparator),this.isParsingString&&this.cur==O.String_EscapeCharacter&&this.next==d){d!=null&&o.push(d),this.currentIndex+=1;continue}if(this.cur==O.String_Terminator_SingleQuote||this.cur==O.String_Terminator_DoubleQuote)if(this.isParsingString)if(this.cur==d)if(this.prev==O.String_EscapeCharacter){o.push(this.cur);continue}else this.isParsingString=!1,p=!1;else{o.push(this.cur);continue}else{this.prev!=null&&this.prev!=O.LeftBracket&&(te.ctypeAlpha(this.prev)||te.ctypeDigit(this.prev))&&this.antlersErrors.push(K.makeSyntaxError(P.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR,null,"Unexpected string start while parsing variable path. String literals must be within array accessors.")),this.isParsingString=!0,_=!0,d=this.cur,this.isStringKeyPath=!0;continue}if(this.isParsingString){if(te.ctypeSpace(this.cur)){o.push(this.cur);continue}else if(this.cur==O.String_EscapeCharacter){if(this.next==O.String_EscapeCharacter){o.push(O.String_EscapeCharacter),this.currentIndex+=1,f=!0;continue}else if(this.next=="n"){o.push(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){o.push("	"),this.currentIndex+=1;continue}else if(this.next=="r"){o.push("\r"),this.currentIndex+=1;continue}}}if(this.isParsingString==!1&&this.cur==jt.LeftBracket){if(o.length>0){let y=new Yn;y.name=o.join(""),y.delimiter=c,u.push(y),o=[]}if(this.next==null||te.ctypeSpace(this.next)){this.antlersErrors.push(K.makeSyntaxError(P.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT,null,"Unexpected end of input or whitespace while parsing variable accessor path."));continue}let h=this.locateEndOfAccessor();this.currentIndex=h.foundOn;let b=new jt;if(u.push(b.parse(h.nestedContent)),this.mergeErrors(b.getAntlersErrors()),l=!0,this.currentIndex==-1){this.antlersErrors.push(K.makeSyntaxError(P.PARSER_CANNOT_PARSE_PATH_RECURSIVE,null,"Cannot parse variable path.")),l=!1;break}continue}if(this.isParsingString==!1&&this.next==jt.RightBracket&&l){p?o.push(this.cur):p=!0;let h=new up;h.name=o.join(""),u.push(h),o=[],c=jt.ColonSeparator,this.currentIndex+=1,l=!1;continue}if(this.isParsingString==!1&&(this.cur==jt.LeftBracket||this.cur==jt.ColonSeparator||this.cur==jt.DotPathSeparator||this.currentIndex==this.lastIndex)){if(this.next==null||te.ctypeSpace(this.next)){if(this.cur==jt.ColonSeparator){if(o.length==0){this.antlersErrors.push(K.makeSyntaxError(P.TYPE_UNEXPECTED_BRANCH_SEPARATOR,null,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}this.antlersErrors.push(K.makeSyntaxError(P.TYPE_ILLEGAL_VARPATH_RIGHT,null,'Variable paths cannot end with the ":" character.'));continue}if(this.cur==jt.LeftBracket){this.antlersErrors.push(K.makeSyntaxError(P.TYPE_ILLEGAL_VARPATH_SUBPATH_START,null,"Illegal variable sub-path start."));continue}}this.currentIndex==this.lastIndex&&this.isValidChar(this.cur)&&(p?o.push(this.cur):p=!0);let h=new Yn;h.delimiter=c,h.name=o.join(""),_&&(h.isStringVar=_,h.name=n.substr(1),h.name=h.name.slice(0,-1),_=!1),u.push(h),o=[];continue}else{o.push(this.cur);continue}}let m=u.length;if(m>0){let h=u[m-1];(h instanceof Yn||h instanceof Qi)&&(h.isFinal=!0)}let g=new Qi;return g.isStrictTagReference=a,g.isStrictVariableReference=r,g.isExplicitVariableReference=i,g.pathParts=u,g.originalContent=e,g.isVariableVariable=s,g.normalizedReference=e.replace(":","."),g}locateEndOfAccessor(){let e=[],n=1,r=-1,i="",s=!1,a=null;if(this._recusriveEntryCheck.has(this.currentIndex+1)==!1)this._recusriveEntryCheck.set(this.currentIndex+1,!0);else return{foundOn:r,nestedContent:""};for(let o=this.currentIndex+1;o<this.inputLength;o++){let l=this.chars[o],u=null,c=null;if(o>0&&(c=this.chars[o-1]),o+1<this.inputLength&&(u=this.chars[o+1]),s==!1&&(l==O.String_Terminator_SingleQuote||l==O.String_Terminator_DoubleQuote)){s=!0,a=l,e.push(l);continue}if(s==!1&&l==jt.LeftBracket){n+=1,e.push(l);continue}if(s&&l==a&&c!=O.String_EscapeCharacter){e.push(l),s=!1,a=null;continue}if(s==!1&&l==jt.RightBracket)if(n-=1,n==0){r=o,i=e.join("");break}else{e.push(l);continue}else e.push(l);s==!1&&te.ctypeSpace(u)&&this.antlersErrors.push(K.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path.")),u==null&&this.antlersErrors.push(K.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path."))}return{foundOn:r,nestedContent:i}}},Bi=jt;Bi.ColonSeparator=":",Bi.LeftBracket="[",Bi.RightBracket="]",Bi.DotPathSeparator=".";var nm=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.cur=null;this.prev=null;this.pathParser=new Bi;this.lexer=new tm;this.activeNode=null}reset(){this.chars=[],this.inputLen=0,this.currentIndex=0,this.cur=null,this.prev=null}canBeClosingTag(e){var r;let n=(r=e.name)==null?void 0:r.name;return n=="elseif"||n=="else"?!0:e.name==null?!1:e.name.content.startsWith("/")}parseNode(e){var c,f,d,_;if(this.activeNode=e,this.reset(),e.content.startsWith("*subrecursive")){let p=e.content;p=p.trim(),p=te.trimRight(p,"*"),p=p.substr(13);let m=new dr;return e.copyBasicDetailsTo(m),m.originalNode=e,m.name=new Vn,m.name.name=p,m.isNestedRecursive=!0,m.pathReference=this.pathParser.parse(p),m.mergeErrors(this.pathParser.getAntlersErrors()),m.content=p,m.runtimeContent=p,m}if(e.content.trim().startsWith("*recursive")){let p=e.content;p=p.trim(),p=te.trimRight(p,"*"),p=p.substr(10).trim();let m=new dr;return e.copyBasicDetailsTo(m),m.originalNode=e,m.name=new Vn,m.name.name=p,m.pathReference=this.pathParser.parse(p),m.mergeErrors(this.pathParser.getAntlersErrors()),m.content=p,m.runtimeContent=p,m}this.chars=e.content.split(""),this.inputLen=this.chars.length;let n=[],r=!1,i="",s=!1,a=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.cur=this.chars[this.currentIndex],this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),r==!1){if(s==!1&&(this.cur==O.String_Terminator_DoubleQuote||this.cur==O.String_Terminator_SingleQuote)){a=this.cur,s=!0,n.push(this.cur);continue}if(s&&te.ctypeSpace(this.cur)){n.push(this.cur);continue}if(s&&this.cur==a&&this.prev!=O.String_EscapeCharacter){a=null,s=!1,n.push(this.cur);continue}if(te.ctypeSpace(this.cur)||this.currentIndex==this.inputLen-1||this.cur==O.Punctuation_Pipe){if(n.length==0)continue;te.ctypeSpace(this.cur)||this.cur!=O.Punctuation_Pipe&&n.push(this.cur),i=n.join(""),r=!0;break}n.push(this.cur)}let o=e.getContentRelativeStartIndex();if(e.nameStartsOn=e.relativeOffset(o,o),e.nameStartsOn!=null&&(e.nameEndsOn=e.nameStartsOn.shiftRight(i.length-1),i.includes(O.Punctuation_Colon))){let p=i.indexOf(O.Punctuation_Colon);e.nameMethodPartStartsOn=e.nameStartsOn.shiftRight(p+1)}e.name=em.getIdentifier(i),Zd.analyzeNode(e),e.parameters=this.getParameters(e),e.hasParameters=e.parameters.length>0,e.hasParameters&&(Zd.analyzeParametersForModifiers(e),e.resetContentCache()),e.pathReference=this.pathParser.parse(i),e.mergeErrors(this.pathParser.getAntlersErrors()),e.pathReference!=null&&e.pathReference.isStrictTagReference&&(e.name.name=e.name.name.substr(1),e.name.content=e.name.content.substr(1)),e.isClosingTag=this.canBeClosingTag(e);let l=[];e.isClosingTag==!1&&(l=this.lexer.tokenize(e,e.getContent())),e.runtimeNodes=l;let u=e.content.trim();if(Hn.isConditionalStructure(e)&&e.name.name!="else"&&l.length==0&&u!="/if"&&u!="/unless"&&u!="/endunless"&&u!="endif"&&u!="endunless"&&u!="/endif"&&e.getContent().trim().length==0&&this.pushConditionWithoutExpression(e),e.name.name=="endif"){let p=e.copyBasicDetails(),m=e.getParser();return m!=null&&p.withParser(m),p.name=new Vn,p.name.name="if",p.name.compound="if",p.isClosingTag=!0,p.content=" /if ",p.originalNode=e,p}if(e.name.name=="unless"){let p=e.copyBasicDetails(),m=e.getParser();if(m!=null&&p.withParser(m),p.name=new Vn,p.name.name="if",p.name.compound="if",e.isClosingTag==!1){let g=(c=e.getContent())!=null?c:"",h=" if !("+g+") ";p.content=h,p.originalNode=e,p.resetContentCache(),p.runtimeNodes=this.lexer.tokenize(p,(f=p.getContent())!=null?f:""),this.testUnlessContent(p)}else p.originalNode=e,p.content=" /if ";return p}else if(e.name.name=="elseunless"){let p=e.copyBasicDetails(),m=e.getParser();m!=null&&p.withParser(m),p.name=new Vn,p.name.name="elseif",p.name.compound="elseif";let g=(d=e.getContent())!=null?d:"",h=" elseif !("+g+") ";return p.content=h,p.originalNode=e,p.resetContentCache(),p.runtimeNodes=this.lexer.tokenize(p,(_=p.getContent())!=null?_:""),this.testUnlessContent(p),p}else if(e.name.name=="endunless"){let p=e.copyBasicDetails(),m=e.getParser();return m!=null&&p.withParser(m),p.name=new Vn,p.name.name="if",p.name.compound="if",p.isClosingTag=!0,p.content=" /if ",p.originalNode=e,p}return e}pushError(e){this.activeNode!=null&&this.activeNode.pushError(e)}testUnlessContent(e){var r;let n=(r=e.getContent())!=null?r:"";if(n=n.replace("!",""),n=n.replace("(",""),n=n.replace(")","").trim(),n.length==0){this.pushConditionWithoutExpression(e);return}}pushConditionWithoutExpression(e){this.pushError(K.makeSyntaxError(P.TYPE_PARSE_EMPTY_CONDITIONAL,e,"Condition structure lacks comparison expression."))}getParameters(e){var G,q,C,U,Z,Y,Q,se,ce;let n=(G=e.getContent())!=null?G:"",r=n.split(""),i=[],s=[],a=r.length,o=0;if(e.name!=null){let re=te.trimLeft(e.content," "),ve=e.content.length-re.length,rt=e.name.content.length;ve>0?o=ve+rt:o=rt}let l=!1,u=[],c="",f=0,d=0,_=!1,p=null,m=-1,g=-1,h=-1,b=-1,y=-1,x=-1,D=null;for(let re=0;re<a;re++){let ve=r[re],rt=null,Jt=null;if(re+1<a&&(Jt=r[re+1]),_?(rt="",_=!1):re>0&&(rt=r[re-1]),l==!1&&te.ctypeSpace(ve)){u=[],m=-1,g=-1,h=-1,b=-1,y=-1,x=-1;continue}if(l==!1&&ve==O.Punctuation_Equals){if(u.length>0&&(te.ctypeAlpha(u[0])||te.ctypeDigit(u[0])||u[0]==O.Punctuation_Colon||u[0]==O.AtChar)==!1){u=[];continue}if(re+1>=a){this.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_END_OF_INPUT,e,"Unexpected end of input"));continue}let Ze=null;if(re+1<a&&(Ze=r[re+1]),rt==O.Punctuation_Equals){u=[],m=-1,g=-1,h=-1,b=-1,y=-1,x=-1;continue}if(te.ctypeSpace(Ze)||Ze==O.Punctuation_Equals){u=[],m=-1,g=-1,h=-1,b=-1,y=-1,x=-1;continue}u.length>0&&(b=re,y=re,c=u.join(""),f=d,l=!0,u=[]),Jt==O.String_Terminator_DoubleQuote&&(p=O.String_Terminator_DoubleQuote,D=O.String_Terminator_DoubleQuote,re+=1),Jt==O.String_Terminator_SingleQuote&&(p=O.String_Terminator_SingleQuote,D=O.String_Terminator_SingleQuote,re+=1);continue}if(l&&ve==O.String_EscapeCharacter){let Ze=null;if(re+1<a&&(Ze=r[re+1]),Ze==O.String_EscapeCharacter){u.push(O.String_EscapeCharacter),re+=1,_=!0;continue}if(Ze==O.String_Terminator_DoubleQuote){u.push(O.String_Terminator_DoubleQuote),re+=1;continue}if(Ze==O.String_Terminator_SingleQuote){u.push(O.String_Terminator_SingleQuote),re+=1;continue}if(Ze=="n"){u.push(`
`),re+=1;continue}if(Ze=="r"){u.push("\r"),re+=1;continue}}if(l==!1&&(p!=null&&ve==p||p==null&&te.ctypeSpace(ve))&&i.push(u.join("")),l&&(p!=null&&ve==p||p==null&&te.ctypeSpace(ve))){let Ze=u.join("");x=re,g=re,l=!1,p=null,u=[];let it=new $o;if(c.startsWith(O.Punctuation_Colon)&&(it.isVariableReference=!0,c=c.substr(1)),it.nameDelimiter=D,it.name=c,it.value=Ze,it.nameDelimiter==null&&(it.hasValidValueDelimiter=!1,it.nameDelimiter='"'),it.startPosition=(q=e.relativePositionFromOffset(d,f))!=null?q:null,re+1>a){this.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER,e,"Unexpected end of input while parsing parameter content.")),it.parent=e,s.push(it),c="";continue}it.endPosition=(C=e.relativePositionFromOffset(re+1,re+1))!=null?C:null,it.parent=e,it.blockPosition={start:(U=e.relativeOffset(m,m))!=null?U:null,end:(Z=e.relativeOffset(g,g))!=null?Z:null},it.namePosition={start:(Y=e.relativeOffset(h,h))!=null?Y:null,end:(Q=e.relativeOffset(b,b))!=null?Q:null},it.valuePosition={start:(se=e.relativeOffset(y+2,y+2))!=null?se:null,end:(ce=e.relativeOffset(x,x))!=null?ce:null},s.push(it),c="",m=-1,g=-1,h=-1,b=-1,y=-1,x=-1;continue}if(l==!1&&(ve==O.String_Terminator_DoubleQuote||ve==O.String_Terminator_SingleQuote)&&re>o)break;u.push(ve),m==-1&&(m=re),h==-1&&(h=re),u.length==1&&(d=re+1)}if(p!=null){let re=e;if(i.length>0){let ve=i[i.length-1],rt=e.content.indexOf(ve);if(rt>=0){let Jt=new oe;Jt.startPosition=e.relativeOffset(rt-2,rt-2),Jt.endPosition=e.relativeOffset(rt+ve.length,rt+ve.length),re=Jt}}this.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_END_OF_INPUT,re,"Unexpected string literal while parsing parameters."))}return s}};function Cl(t){return t.length==0?null:t[0].startPosition}var O0=je(gu()),Uc=class{static regions(){return this.noParseRegions}static clear(){this.noParseRegions.clear()}static registerNoParseContent(e){let n=O0.Md5.hashStr(e);return this.noParseRegions.set(n,e),n}};Uc.noParseRegions=new Map;function rm(t,e){let n=new Set(t),r=new Set(e),i=new Set([...n].filter(s=>r.has(s)));return Array.from(i)}var im=class{constructor(){this.closingTagIndex=new Map;this.closingTagIndexCount=new Map;this.openTagIndexCount=new Map;this.closingTagNames=new Map;this.parentNode=null;this.stackCount=0;this.createdExecutionBranches=[];this.document=null}getClosingCandidates(e){var n,r;if((e instanceof z||e instanceof ht)&&e.isClosingTag==!1){let i=(r=(n=e.name)==null?void 0:n.compound)!=null?r:"";return i=="if"?["if","elseif","else"]:i=="elseif"?["elseif","else","if"]:i=="else"?["if"]:[i]}return[]}buildCloseIndex(e){var n,r,i;e.forEach(s=>{var a,o,l,u,c,f,d,_,p,m;if(!(s instanceof dr)&&!((s instanceof z||s instanceof ht)&&s.isSelfClosing)&&(s instanceof z||s instanceof ht)&&s.isClosingTag){this.closingTagIndex.has(this.stackCount)==!1&&this.closingTagIndex.set(this.stackCount,new Map),this.closingTagIndexCount.has(this.stackCount)==!1&&this.closingTagIndexCount.set(this.stackCount,new Map);let g=(o=(a=s.name)==null?void 0:a.compound)!=null?o:"";((l=this.closingTagIndex.get(this.stackCount))==null?void 0:l.has(g))==!1&&((u=this.closingTagIndex.get(this.stackCount))==null||u.set(g,[]),(c=this.closingTagIndexCount.get(this.stackCount))==null||c.set(g,0)),(d=(f=this.closingTagIndex.get(this.stackCount))==null?void 0:f.get(g))==null||d.push(s);let h=(p=(_=this.closingTagIndexCount.get(this.stackCount))==null?void 0:_.get(g))!=null?p:0;(m=this.closingTagIndexCount.get(this.stackCount))==null||m.set(g,h+1)}}),this.closingTagNames.has(this.stackCount)==!1&&this.closingTagNames.set(this.stackCount,[]),this.closingTagIndex.has(this.stackCount)&&(this.closingTagNames.set(this.stackCount,Array.from((r=(n=this.closingTagIndex.get(this.stackCount))==null?void 0:n.keys())!=null?r:[])),(i=this.closingTagIndex.get(this.stackCount))==null||i.forEach((s,a)=>{var u,c,f,d,_,p,m;let o=s.length;if(o==0)return;let l=s[o-1];for(let g=0;g<o;g++){let h=e[g];if(h instanceof z||h instanceof ht){if(h instanceof dr)continue;if(h.index>=l.index)break;let b=(c=(u=h.name)==null?void 0:u.compound)!=null?c:"";if(h.isClosingTag==!1&&a==b&&!h.isSelfClosing){this.openTagIndexCount.has(this.stackCount)==!1&&this.openTagIndexCount.set(this.stackCount,new Map),((f=this.openTagIndexCount.get(this.stackCount))==null?void 0:f.has(a))==!1&&((d=this.openTagIndexCount.get(this.stackCount))==null||d.set(a,0));let y=(p=(_=this.openTagIndexCount.get(this.stackCount))==null?void 0:_.get(a))!=null?p:0;(m=this.openTagIndexCount.get(this.stackCount))==null||m.set(a,y+1)}}}}))}getScanForList(e){var n;if(e instanceof z||e instanceof ht){let r=(n=e.name)==null?void 0:n.compound;if(r=="else")return["if"];if(r=="elseif")return["elseif","else","if"];if(e.isClosingTag==!1){let i=this.getClosingCandidates(e),s=this.closingTagNames.get(this.stackCount);return rm(i,s)}}return[]}canPossiblyClose(e){var n,r;if(e instanceof dr)return!1;if(e instanceof ht||e instanceof z){if(e.isComment||e.isSelfClosing)return!1;let i=(r=(n=e.name)==null?void 0:n.compound)!=null?r:"";if(i=="else"||i=="elseif")return!0;if(e.isClosingTag==!1){let s=this.getClosingCandidates(e),a=this.closingTagNames.get(this.stackCount);return rm(s,a).length>0}}return!1}findClosingPair(e,n,r){var o,l,u,c;let i=n.runtimeNodes.length,s=e.length,a=0;for(let f=0;f<s;f++){let d=e[f];if(d instanceof z||d instanceof ht)if(n.endPosition!=null&&d.startPosition!=null){if(n.endPosition.isBefore(d.startPosition)){if(d.isClosingTag&&d.isOpenedBy!=null||d.isSelfClosing)continue;let _=(l=(o=d.name)==null?void 0:o.compound)!=null?l:"";if(d.isClosingTag==!1){if(r.includes(_)){let p=(u=this.openTagIndexCount.get(this.stackCount))==null?void 0:u.get(_),m=(c=this.closingTagIndexCount.get(this.stackCount))==null?void 0:c.get(_);p!=m&&d.runtimeNodes.length>=i,a+=1}continue}if(r.includes(_)&&a>0){a-=1;continue}if(a==0&&r.includes(_)){d.isOpenedBy=n,n.isClosedBy=d;break}}}else continue}}associate(e,n){var s,a,o,l,u,c,f;this.document=n;let r=[{documentNodes:e,parent:null}],i=[];for(;r.length>0;){let d=r.pop();if(d==null)continue;let _=d.documentNodes;this.parentNode=d.parent,this.stackCount+=1,this.buildCloseIndex(_),_=Hn.pairConditionals(_),_.forEach(h=>{if((h instanceof z||h instanceof ht)&&this.canPossiblyClose(h)){if(Hn.isConditionalStructure(h))return;let b=this.getScanForList(h);this.findClosingPair(_,h,b)}});let p=_.length;for(let h=0;h<p;h++){let b=_[h];if((b instanceof z||b instanceof ht)&&b.isClosedBy!=null)for(let y=h+1;y<p;y++){let x=_[y];if(x.index>b.isClosedBy.index)break;if(x.parent=b,b.children.push(x),x instanceof z&&x.index==b.index){x.parent=b;break}}}_.forEach(h=>{if((h instanceof z||h instanceof ht)&&h.children.length>0){let b=[];h.children.forEach(y=>{y.parent!=null&&y.parent.index==h.index&&(y.parent=h,b.push(y))}),r.push({documentNodes:b,parent:h})}});let m=[];_.forEach(h=>{this.parentNode==null?h.parent==null&&m.push(h):h.parent==this.parentNode&&m.push(h)}),m=this.reduceConditionals(m,n);let g=new Map;_.forEach(h=>{var b,y,x,D;if((h instanceof z||h instanceof ht)&&h.isClosedBy!=null&&this.document!=null){let G=this.document.getText(((y=(b=h.endPosition)==null?void 0:b.index)!=null?y:0)+1,(D=(x=h.isClosedBy.startPosition)==null?void 0:x.index)!=null?D:0);h.runtimeContent=G}});for(let h=0;h<m.length;h++){let b=m[h],y=(s=b.refId)!=null?s:"";if(g.set(y,1),(b instanceof z||b instanceof ht)&&b.isComment==!1&&((a=b.name)==null?void 0:a.name)=="noparse"&&!(b instanceof ln)&&b.isClosingTag==!1){if(b.isClosedBy==null){b.pushError(K.makeSyntaxError(P.TYPE_NO_PARSE_UNASSOCIATED,b,"Encountered noparse region without a closing tag. All noparse regions must be closed."));continue}let x=b.content;this.document!=null&&(x=this.document.getText(((l=(o=b.endPosition)==null?void 0:o.index)!=null?l:0)+1,(f=(c=(u=b.isClosedBy)==null?void 0:u.startPosition)==null?void 0:c.index)!=null?f:0));let D=new ln,G=b.getParser();G!=null&&D.withParser(G),b.copyBasicDetailsTo(D),D.name=new Vn,D.name.name="noparse",D.name.compound="noparse",D.content=Uc.registerNoParseContent(x),D.originalNode=b,D.isClosedBy=b.isClosedBy,D.parent=b.parent,m[h]=D}}if(this.parentNode!=null&&(this.parentNode instanceof ht||this.parentNode instanceof z)&&(this.parentNode.children=this.cleanNodes(m),this.parentNode.parent!=null&&this.parentNode.parent instanceof z)){let h=this.parentNode.parent.children,b=[];h.forEach(y=>{var x;g.has((x=y.refId)!=null?x:"")==!1&&b.push(y)}),this.parentNode.parent.children=this.cleanNodes(b)}this.stackCount<=1&&(i=m)}return this.createdExecutionBranches.length>0&&this.createdExecutionBranches.forEach(d=>{d.head!=null&&(d.nodes=d.head.children)}),i}cleanNodes(e){let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i],a=s.refId;if(r.includes(a))break;n.push(s),r.push(a)}return n}findEndOfBranch(e,n,r){let i=[],s=r,a=null;for(let o=0;o<e.length;o++){let l=e[o];if((l instanceof z||l instanceof ht)&&l.isOpenedBy!=null&&l.isOpenedBy==n){a=l;break}else i.push(l)}return{children:i,tail:a,offset:s}}reduceConditionals(e,n){var i,s,a,o,l,u,c,f,d,_,p,m;let r=[];for(let g=0;g<e.length;g++){let h=e[g];if((h instanceof z||h instanceof ht)&&h.isComment==!1&&h.isClosingTag==!1&&h.isClosedBy!=null)if(((s=(i=h.name)==null?void 0:i.compound)!=null?s:"")=="if"){let y=new Nn;y.index=h.index,y.chain.push(h.index),y.fragment=h.fragment,y.fragmentPosition=h.fragmentPosition,y.containsAnyFragments=h.containsAnyFragments,y.containsChildStructures=h.containsChildStructures;let x=(o=(a=h.startPosition)==null?void 0:a.offset)!=null?o:0,D=h.getFinalClosingTag(),G=((u=(l=D.endPosition)==null?void 0:l.offset)!=null?u:0)+1;y.nodeContent=n.getText(x,G),this.parentNode!=null&&(y.parent=this.parentNode);let q=null,C=!0,U=0;for(;C;){if(U+=1,U>im.ForceBreakLimit){C=!1;break}if(h instanceof z||h instanceof ht){let Z=this.findEndOfBranch(e.slice(g+1),h,g),Y=new ip,Q=Z.tail;Y.head=h,Y.tail=Q,Y.nodes=this.cleanNodes(h.children);let se=((f=(c=h.endPosition)==null?void 0:c.offset)!=null?f:0)+1,ce=(p=(_=(d=h.isClosedBy)==null?void 0:d.startPosition)==null?void 0:_.offset)!=null?p:0,re=n.getText(se,ce);if(Y.documentText=re,n.shouldParseChildDocument()&&(Y.childDocument=Kt.childFromText(Y.documentText,Cl(Y.nodes))),Q==null&&(Q=Y.head.isClosedBy),Q!=null&&Q.startPosition!=null&&(Y.startPosition=Q.startPosition),Q!=null&&(Y.index=Q.index),Y.nodes.length>0){let ve=Y.nodes[Y.nodes.length-1];ve.endPosition!=null&&(Y.endPosition=ve.endPosition)}else Q!=null&&Q.endPosition!=null&&(Y.endPosition=Q.endPosition);if(this.createdExecutionBranches.push(Y),y.logicBranches.push(Y),(Q==null?void 0:Q.isClosingTag)&&((m=Q.name)==null?void 0:m.compound)=="if"){q=Z.offset,C=!1;break}else Q!=null&&y.chain.push(Q.index),g=Z.offset,Q instanceof z&&(h=Q)}else C=!1}if(y.logicBranches.length>0){let Z=y.logicBranches[0],Y=y.logicBranches[y.logicBranches.length-1];Z.startPosition!=null&&(y.startPosition=Z.startPosition),Y.endPosition!=null&&(y.endPosition=Y.endPosition)}if(r.push(y),q!=null&&q==e.length)break}else r.push(h);else r.push(h)}return r}},Wc=im;Wc.ForceBreakLimit=1e5;var sm=class{static associateRecursiveParent(e){var n,r;for(let i=0;i<e.length;i++){let s=e[i];if(s instanceof dr){let a="*recursive "+((n=s.name)==null?void 0:n.name);if(i-1<0){s.pushError(K.makeSyntaxError(P.TYPE_RECURSIVE_NODE_INVALID_POSITION,s,"Unpaired recursive node. All recursive nodes must have a parent node introducing them."));continue}let o=null;for(let l=i-1;l>=0;l-=1){let u=e[l];if(!(u instanceof gt)&&u instanceof z&&u.isClosedBy!=null){if(s.isNestedRecursive){if(u.content.trim()==((r=s.name)==null?void 0:r.name)){o=u;break}}else if(u.runtimeContent.includes(a)&&te.substringCount(s.runtimeContent,"*recursive")==1){o=u;continue}else if(o!=null)break}}if(o==null)continue;s.isNestedRecursive?(o.hasRecursiveNode=!0,s.recursiveParent=o,o.recursiveReference=s):o.parent!=null?o.parent instanceof z&&(o.parent.hasRecursiveNode=!0,o.parent.recursiveReference=s,s.recursiveParent=o.parent):(o.hasRecursiveNode=!0,s.recursiveParent=o,o.recursiveReference=s)}}}};var ho=class{static getNearText(e){var r,i,s,a;if(e instanceof Pe)return e.name;if(e instanceof Mt)return(i=(r=e.value)==null?void 0:r.toString())!=null?i:"";if(e instanceof It)return e.value;if(e instanceof tn)return e.name;if(e instanceof $t)return e.value;if(e instanceof Tr||e instanceof mi||e instanceof mr||e instanceof Lr||e instanceof Fr||e instanceof cn||e instanceof Hr||e instanceof Rt||e instanceof un||e instanceof kr||e instanceof Kn||e instanceof di||e instanceof Cn||e instanceof fi||e instanceof Vr||e instanceof Xn||e instanceof Mr||e instanceof zn||e instanceof Br||e instanceof pi||e instanceof Gr||e instanceof jr||e instanceof qr||e instanceof Ai||e instanceof hr||e instanceof Qn||e instanceof Yr||e instanceof kn||e instanceof gr||e instanceof hn||e instanceof _r||e instanceof Wr||e instanceof Ur||e instanceof Ii||e instanceof yr||e instanceof $r||e instanceof Ht||e instanceof Yt||e instanceof Pn||e instanceof At||e instanceof zi||e instanceof Dn||e instanceof hi||e instanceof en)return e.content;let n="";return e instanceof z?e.originalNode!=null?n=e.originalNode.getContent():n=(a=(s=e.startPosition)==null?void 0:s.line.toString())!=null?a:"":e.originalAbstractNode!=null?n=e.originalAbstractNode.rawContent():n=e.rawContent(),n.length>15&&(n=n.substr(0,-15)),n}};var go=class{};go.deferredCoreLibraries=["arr","array","str","string","method","math","sys","convert","scope","stopwatch","file","path","url","request","json","datetime"];var Nt=class{};Nt.ARR_PLUCK="pluck",Nt.ARR_TAKE="take",Nt.ARR_SKIP="skip",Nt.ARR_MAKE="arr",Nt.ARR_ORDERBY="orderby",Nt.ARR_GROUPBY="groupby",Nt.ARR_MERGE="merge",Nt.QUERY_WHERE="where",Nt.STRUCT_SWITCH="switch",Nt.BITWISE_AND="bwa",Nt.BITWISE_OR="bwo",Nt.BITWISE_XOR="bxor",Nt.BITWISE_NOT="bnot",Nt.BITWISE_SHIFT_LEFT="bsl",Nt.BITWISE_SHIFT_RIGHT="bsr",Nt.operators=["pluck","take","arr","skip","orderby","groupby","merge","where","switch","bwa","bwo","bxor","bsl","bsr"];var wt=class{constructor(){this.pathParser=new Bi;this.tokens=[];this.createdVariables=[];this.createdModifierChains=[];this.createdLanguageOperators=[];this.createdArrays=[];this.tracedAssignments=[];this.mergedVariablePaths=[];this.mergedComponents=new Map;this.modifierNameMapping=new Map;this.isRealModifierSeparator=new Map;this.isRoot=!0;this.retriggerNonVirtualGroupMembers=[]}hasModifierConstruct(e){return this.modifierNameMapping.has(e)}getModifierConstruct(e){return this.modifierNameMapping.get(e)}isActualModifierSeparator(e){return this.isRealModifierSeparator.has(e)}isMergedVariableComponent(e){return this.mergedComponents.has(e)}getMergedVariable(e){return this.mergedComponents.get(e)}getMergedVariablePaths(){return this.mergedVariablePaths}getCreatedModifierChains(){return this.createdModifierChains}getCreatedLangaugeOperators(){return this.createdLanguageOperators}getCreatedArrays(){return this.createdArrays}getCreatedVariables(){return this.createdVariables}getRuntimeAssignments(){return this.tracedAssignments}getAssignedVariables(){let e=[],n=[];for(let r=0;r<this.tracedAssignments.length;r++){let i=this.tracedAssignments[r];i.target instanceof Pe&&n.includes(i.target.name)==!1&&(n.push(i.target.name),e.push(i.target))}return e}getAssignedVariableNames(){let e=[];for(let n=0;n<this.tracedAssignments.length;n++){let r=this.tracedAssignments[n];r.target instanceof Pe&&e.includes(r.target.name)==!1&&e.push(r.target.name)}return e}reset(){this.tokens=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.createdArrays=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.tracedAssignments=[],this.createdArrays=[],this.mergedVariablePaths=[],this.mergedComponents.clear(),this.modifierNameMapping.clear()}parse(e){return this.tokens=e,this.tokens=this.combineVariablePaths(this.tokens),this.tokens=this.createLanguageOperators(this.tokens),this.tokens=this.createLogicalGroups(this.tokens),this.tokens=this.associateMethodCalls(this.tokens),this.tokens=this.createTupleLists(this.tokens),this.tokens=this.createLibraryInvocations(this.tokens),this.tokens=this.associateModifiers(this.tokens),this.tokens=this.createNullCoalescenceGroups(this.tokens),this.tokens=this.correctTypes(this.tokens),this.tokens=this.createTernaryGroups(this.tokens),this.tokens=this.applyOperationOrder(this.tokens),this.validateNeighboringOperators(this.tokens),this.tokens=this.createLogicGroupsToRemoveMethodInvocationAmbiguity(this.tokens),this.tokens=this.createLogicGroupsToResolveOperatorAmbiguity(this.tokens),this.validateNoDanglingLogicGroupEnds(this.tokens),this.isRoot&&(this.tokens=this.insertAutomaticStatementSeparators(this.tokens),this.retriggerNonVirtualGroupMembers.length>0&&this.retriggerNonVirtualGroupMembers.forEach(n=>{this.markAllNonVirtualAsListGroupMember(n)})),this.createSemanticGroups(this.tokens)}setIsRoot(e){return this.isRoot=e,this}validateNeighboringOperators(e){let n=e.length;for(let r=0;r<n;r++){let i=e[r];if(wt.isOperatorType(i)){if(r+1>=n){i.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_OPERATOR,i,"Unexpected operator while parsing input text."));return}let s=e[r+1];if(wt.isOperatorType(s)){s.pushError(K.makeSyntaxError(P.TYPE_OPERATOR_INVALID_ON_RIGHT,s,"Unexpected operator while parsing input text."));continue}}}}static isAssignmentOperator(e){return e instanceof kr||e instanceof Mr||e instanceof Qn||e instanceof Br||e instanceof Vr||e instanceof di}static isOperatorType(e){return e instanceof kr||e instanceof Mr||e instanceof Qn||e instanceof Br||e instanceof Vr||e instanceof di||e instanceof Ii||e instanceof Hr||e instanceof gr||e instanceof cn||e instanceof _r||e instanceof mi||e instanceof yr||e instanceof hi||e instanceof Kn||e instanceof zn||e instanceof fi||e instanceof pi||e instanceof Xn||e instanceof Cn||e instanceof kn||e instanceof hr||e instanceof Ai||e instanceof qr||e instanceof jr||e instanceof Ur||e instanceof Wr||e instanceof Gr||e instanceof Yr}markAllNonVirtualAsListGroupMember(e){e.forEach(n=>{if(n instanceof We||n instanceof br||n instanceof xi){n.start!=null&&n.start.isVirtual==!1&&(n.start.isListGroupMember=!0),n.end!=null&&n.end.isVirtual==!1&&(n.end.isListGroupMember=!0),n.scopeOperator!=null&&(n.scopeOperator.isListGroupMember=!0),n.nodes.forEach(r=>{this.markAllNonVirtualAsListGroupMember([r])});return}else n instanceof kt&&(n.separatorToken!=null&&n.separatorToken.isVirtual==!1&&(n.separatorToken.isListGroupMember=!0),this.markAllNonVirtualAsListGroupMember(n.nodes));n.isVirtual==!1&&(n.isListGroupMember=!0),n.originalAbstractNode!=null&&n.originalAbstractNode!=n&&this.markAllNonVirtualAsListGroupMember([n.originalAbstractNode])})}markAllNonVirtualAsSwitch(e){e.forEach(n=>{if(n instanceof We||n instanceof br||n instanceof xi){n.start!=null&&n.start.isVirtual==!1&&(n.start.isSwitchGroupMember=!0),n.end!=null&&n.end.isVirtual==!1&&(n.end.isSwitchGroupMember=!0),n.scopeOperator!=null&&(n.scopeOperator.isSwitchGroupMember=!0),n.nodes.forEach(r=>{this.markAllNonVirtualAsSwitch([r])});return}else n instanceof kt&&(n.separatorToken!=null&&n.separatorToken.isVirtual==!1&&(n.separatorToken.isSwitchGroupMember=!0),this.markAllNonVirtualAsSwitch(n.nodes));n.isVirtual==!1&&(n.isSwitchGroupMember=!0),n.originalAbstractNode!=null&&n.originalAbstractNode!=n&&this.markAllNonVirtualAsSwitch([n.originalAbstractNode])})}validateNoDanglingLogicGroupEnds(e){e.forEach(n=>{n instanceof Yt&&n.pushError(K.makeSyntaxError(P.TYPE_LOGIC_GROUP_NO_START,n,"Unexpected [T_LOGIC_END] while parsing input text."))})}isValidModifierValue(e){return e instanceof $t||e instanceof Pe||e instanceof Lr||e instanceof Fr||e instanceof mr||e instanceof Mt||e instanceof It}wrapNumberInVariable(e){var r,i,s,a;let n=new Pe;return n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.name=(i=(r=e.value)==null?void 0:r.toString())!=null?i:"",n.content=(a=(s=e.value)==null?void 0:s.toString())!=null?a:"",n.originalAbstractNode=e,n.refId=e.refId,n.modifierChain=e.modifierChain,n.index=e.index,this.createdVariables.push(n),n}wrapArithmeticModifier(e,n){let r=new tn;return r.startPosition=e.startPosition,r.endPosition=e.endPosition,r.originalAbstractNode=e,r.content=n,r.name=n,r.index=e.index,r}combineVariablePaths(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i],a=n.length;if(s instanceof At){if(a==0){s.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE,s,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}if(i+1>r){let u="";if(i>0){let c=e[i-1];u=ho.getNearText(c)}s.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP,s,'Unexpected end of input while parsing input text near "'+u+ho.getNearText(s)+'".'));continue}let o=n[a-1],l=e[i+1];if(l instanceof Mt&&ct.distance(o,l)==1&&(l=this.wrapNumberInVariable(l)),o instanceof Pe&&l instanceof Pe&&ct.distance(o,l)==1){n.pop(),ct.mergeVarContentRight(":",s,l),ct.mergeVarRight(o,l),n.push(l),this.createdVariables.push(l),this.mergedVariablePaths.push(l),this.mergedComponents.set(s,l),this.mergedComponents.set(o,l),this.mergedComponents.set(l,l),i+=1;continue}else{n.push(s);continue}}else if(s instanceof It&&a>0){if(i+1>=r){n.push(s);continue}let o=n[a-1],l=e[i+1];if(o instanceof Pe&&l instanceof Pe&&ct.distance(o,s)<=1&&ct.distance(s,l)<=1){n.pop(),ct.mergeVarContentLeft(s.sourceTerminator+s.value+s.sourceTerminator,s,o),ct.mergeVarContentLeft(l.name,l,o),this.createdVariables.push(o),n.push(o),this.mergedVariablePaths.push(o),this.mergedComponents.set(s,o),this.mergedComponents.set(o,o),this.mergedComponents.set(l,o),i+=1;continue}else n.push(s)}else if(s instanceof Cn&&a>0){let o=n[a-1],l=e[i+1];if(o instanceof Pe&&(l instanceof Pe||l instanceof _r)){let u=ct.distance(o,s),c=ct.distance(s,l);u<=1&&c<=1?(o.endPosition=l.endPosition,this.mergedComponents.set(s,o),this.mergedComponents.set(o,o),this.mergedComponents.set(l,o),i+=1):n.push(s)}else n.push(s)}else n.push(s)}return n.forEach(i=>{i instanceof Pe&&(i.variableReference=this.pathParser.parse(i.name),i.mergeErrors(this.pathParser.getAntlersErrors()))}),n}convertVarNodeToOperator(e){let n=new Hr;return n.content=e.name,n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.originalAbstractNode=e,e.convertedToOperator=!0,this.createdLanguageOperators.push(n),n}convertOperatorToVarNode(e){let n=new Pe;return n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.content=e.content,n.name=e.content,n.originalAbstractNode=e,this.createdVariables.push(n),n}createLanguageOperators(e){let n=e.length;for(let r=0;r<n;r++){let i=e[r];if(i instanceof Pe){if(i.name.includes(O.Punctuation_FullStop)){let s=i.name.split(O.Punctuation_FullStop);if(Nt.operators.includes(s[0])||go.deferredCoreLibraries.includes(s[0])){e[r]=this.convertVarNodeToOperator(i);continue}}if(Nt.operators.includes(i.name)){e[r]=this.convertVarNodeToOperator(i);continue}}if(i instanceof Hr){if(r+1>=n){e[r]=this.convertOperatorToVarNode(i);continue}if(e[r+1]instanceof un){e[r]=this.convertOperatorToVarNode(i);continue}}}return e}createLogicalGroups(e){let n=[],r=e.length,i=[];for(let a=0;a<r;a++){let o=e[a];if(o instanceof cn){let l=this.countTypeRight(e,a,cn);if(i.length==0&&e.length==l){o.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR,o,"Unexpected [T_LOGIC_INVERSE] while parsing input text."));continue}if(a>0&&i.length>0){let f=i[i.length-1];if(f instanceof Mt||f instanceof Yt||f instanceof We){if(f instanceof We&&f.start instanceof cn){f.start.pushError(K.makeSyntaxError(P.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED,f.start,"[T_AOP_FACTORIAL] operand will always materialize boolean type."));continue}let d=new zi;d.startPosition=o.startPosition,d.endPosition=o.endPosition,d.content="!".repeat(l),d.originalAbstractNode=o,d.repeat=l,i.push(d),l>0&&(a+=l-1);continue}}if(l%2==0){a+=l-1;continue}let u=e[a+l];if(u instanceof Ht){let f=a+l+1;if(f>=r){u.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET,u,"Unexpected end of input while parsing input text."));continue}let d=this.findLogicalGroupEnd(e[a+l],e.slice(f));if(d.found){let _=d.logicalGroup,p=new We;p.start=o,p.end=_,p.nodes.push(o),p.nodes.push(_),p.startPosition=o.startPosition,p.endPosition=_.endPosition,i.push(p),a+=d.skipCount+l}continue}let c=this.resolveValueRight(e,a);c.value!=null&&i.push(c.value),a+=c.negationCount}else i.push(o)}let s=i.length;for(let a=0;a<s;a++){let o=i[a];if(o instanceof Ht){if(a+1>=s){o.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION,o,"Unexpected end of input while parsing input text."));continue}let l=this.findLogicalGroupEnd(o,i.slice(a+1));l.found&&l.logicalGroup!=null&&n.push(l.logicalGroup),a+=l.skipCount}else if(o instanceof zi){if(n.length==0){o.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS,o,"Unexpected [T_AOP_FACTORIAL] while parsing input text."));continue}let l=n[n.length-1];if(!(l instanceof We)&&!(l instanceof Mt)){o.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_FACTORIAL_OPERAND,o,"Unexpected left operand encountered for [T_AOP_FACTORIAL] while parsing input text."));continue}l=n.pop();let u=new We;u.startPosition=l.startPosition,u.endPosition=o.endPosition,u.originalAbstractNode=o,u.nodes.push(l),u.nodes.push(o),n.push(u)}else n.push(o)}return n}makeArgGroup(e){let n=new Da,r=e.length;for(let s=0;s<r;s++){let a=e[s];if(this.isOperand(a)==!1){a.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD,a,"Unexpected ["+ne.getPrettyTypeName(a)+"] while parsing argument group."));continue}let o=null;if(s+1<r&&(o=e[s+1]),o==null||o instanceof Rt){n.args.push(e[s]),s+=1;continue}else if(o instanceof At){if(s+2>=r){a.pushError(K.makeSyntaxError(P.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT,a,"Unexpected end of input while parsing named argument."));continue}let l=e[s+2],u=new yu;u.startPosition=a.startPosition,u.endPosition=l.endPosition,u.content=a.content+l.content,u.name=a,u.value=l,a instanceof Pe||a.pushError(K.makeSyntaxError(P.TYPE_INVALID_NAMED_ARG_IDENTIFIER,a,"Invalid type ["+ne.getPrettyTypeName(a)+"] supplied for named argument name.")),n.hasNamedArguments=!0,n.numberOfNamedArguments+=1,n.args.push(u),s+3<r&&e[s+3]instanceof Rt?s+=3:s+=2;continue}}let i=!1;return n.args.forEach(s=>{s instanceof yu?i=!0:i&&s.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT,s,"Unnamed arguments are not allowed to appear after a named argument."))}),n}cleanVariableForMethodInvocation(e){(e.name.startsWith(":")||e.name.startsWith("."))&&(e.name=e.name.substr(1),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(1),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(1)),e.startPosition!=null&&(e.startPosition.offset+=1,e.startPosition.char+=1))}reduceVariableReferenceForObjectAccessor(e){var s;let n=(s=e.variableReference)==null?void 0:s.pathParts.pop(),r=n.name,i=r.length+1;return e.name=e.name.substr(0,-i),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(0,-i),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(0,-i),e.variableReference.pathParts[e.variableReference.pathParts.length-1].isFinal=!0),e.endPosition!=null&&(e.endPosition.offset-=i,e.endPosition.char-=i),{accessor:r,accessorLen:i}}associateMethodCalls(e){var i,s;let n=[],r=e.length;for(let a=0;a<r;a++){let o=e[a],l=null,u=null;if(n.length>0&&(l=n[n.length-1]),a+1<r&&(u=e[a+1]),o instanceof Pe&&u instanceof We&&l!=null&&(this.isProperMethodChainTargetStrict(l)||l instanceof At)){let c=u,f=[];c.nodes.length>0&&(c.nodes[0]instanceof kt?f=c.nodes[0].nodes:f=c.nodes);let d=new en;if(d.startPosition=o.startPosition,l instanceof At){let _=n.pop();d.startPosition=_.startPosition}this.cleanVariableForMethodInvocation(o),d.endPosition=c.endPosition,d.args=this.makeArgGroup(f),d.method=o,l.methodTarget=d,l instanceof Pe&&l.mergeRefName.length>0&&(l.name=ct.getUnrefName(l.mergeRefName)),n.push(d),a+=1;continue}else if(o instanceof We&&l instanceof Pe&&l.variableReference!=null&&l.variableReference.pathParts.length>=2){let c=[];if(o.nodes.length>0&&(o.nodes[0]instanceof kt?c=o.nodes[0].nodes:c=o.nodes),l.variableReference.pathParts[0]instanceof Yn&&go.deferredCoreLibraries.includes(l.variableReference.pathParts[0].name)){let m=n.pop(),g=new Xi;g.startPosition=m.startPosition,g.endPosition=o.endPosition,g.content=m.content,g.originalAbstractNode=o;let b=((i=m.variableReference)==null?void 0:i.pathParts.shift()).name,y=(s=m.variableReference)==null?void 0:s.implodePaths();g.libraryName=b,g.methodName=y,g.arguments=this.makeArgGroup(c),n.push(g),a+=1;continue}let f=this.reduceVariableReferenceForObjectAccessor(l),d=new en;d.startPosition=o.startPosition,d.endPosition=o.endPosition,l.methodTarget=d,l instanceof Pe&&l.mergeRefName.length>0&&(l.name=ct.getUnrefName(l.mergeRefName)),o.start!=null&&(o.start.isPartOfMethodChain=!0),o.end!=null&&(o.end.isPartOfMethodChain=!0);let _=new Pe;_.name=f.accessor,_.isPartOfMethodChain=!0;let p=this.makeArgGroup(c);if(d.startPosition!=null&&(d.startPosition.offset-=f.accessorLen,d.startPosition.char-=f.accessorLen),d.method=_,d.args=p,te.isNumeric(l.name)){let m=n.pop();n.push(this.convertOperatorToVarNode(m))}n.push(d);continue}else if(o instanceof Pe&&l instanceof en){if(this.cleanVariableForMethodInvocation(o),a+1>r){o.pushError(K.makeSyntaxError(P.TYPE_METHOD_CALL_MISSING_ARG_GROUP,o,"Unexpected end of input while parsing method call."));continue}let c=e[a+1];if(!(c instanceof We)){o.pushError(K.makeSyntaxError(P.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected ["+ne.getPrettyTypeName(c)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let f=c,d=[];f.nodes.length>0&&(f.nodes[0]instanceof kt?d=f.nodes[0].nodes:d=f.nodes);let _=new en;_.startPosition=o.startPosition,_.endPosition=f.endPosition,_.args=this.makeArgGroup(d),_.method=o,l.methodTarget=_,n.push(_),a+=1;continue}else if(o instanceof At&&l instanceof en){if(a+1>r){o.pushError(K.makeSyntaxError(P.TYPE_METHOD_CALL_MISSING_METHOD,o,"Unexpected end of input while parsing method call."));continue}let c=e[a+1];if(a+2>r){o.pushError(K.makeSyntaxError(P.TYPE_METHOD_CALL_MISSING_ARG_GROUP,o,"Unexpected end of input while parsing method call."));continue}let f=e[a+2];if(!(f instanceof We)){o.pushError(K.makeSyntaxError(P.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected ["+ne.getPrettyTypeName(f)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let d=f,_=[];d.nodes.length>0&&(d.nodes[0]instanceof kt?_=d.nodes[0].nodes:_=d.nodes);let p=new en;p.startPosition=o.startPosition,p.endPosition=f.endPosition,p.args=this.makeArgGroup(_),p.method=c,l.methodTarget=p,n.push(p),a+=2;continue}else if(o instanceof en){if(a+1>r){o.pushError(K.makeSyntaxError(P.TYPE_METHOD_CALL_MISSING_METHOD,o,"Unexpected end of input while parsing method call."));continue}let c=e[a+1];if(a+2>r){o.pushError(K.makeSyntaxError(P.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected end of input while parsing method call."));continue}let f=e[a+2];if(!(f instanceof We)){o.pushError(K.makeSyntaxError(P.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected ["+ne.getPrettyTypeName(f)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let d=f,_=[];d.nodes.length>0&&(d.nodes[0]instanceof kt?_=d.nodes[0].nodes:_=d.nodes);let p=this.makeArgGroup(_);if(l instanceof Pe&&go.deferredCoreLibraries.includes(l.name)){let m=n.pop(),g=new Xi;g.startPosition=m.startPosition,g.endPosition=d.endPosition,g.libraryName=m.name,g.methodName=c.name,g.content=g.libraryName+"->"+g.methodName,g.arguments=p,l.libraryTarget=g,n.push(g),a+=2;continue}o.method=c,o.args=p,n.length>0&&(n[n.length-1].methodTarget=o),a+=2,n.push(o);continue}else n.push(o)}return n}convertVariableToStringNode(e){let n=new It;return n.content=e.name,n.value=e.name,n.originalAbstractNode=e,n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.index=e.index,n}createTupleLists(e){let n=e.length,r=[];for(let i=0;i<n;i++){let s=e[i];if(s instanceof Tr){if(s.isListGroupMember=!0,i+1>=n){s.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST,s,"Unexpected end of input while parsing tuple list."));continue}let a=e[i+1];if(!(a instanceof We)){a.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST,a,"Unexpected ["+ne.getPrettyTypeName(a)+"] while parsing tuple list."));continue}let o=a;if(this.markAllNonVirtualAsListGroupMember([o]),this.retriggerNonVirtualGroupMembers.push([o]),o.nodes.length==0){o.pushError(K.makeSyntaxError(P.TYPE_MISSING_BODY_TUPLE_LIST,o,"Missing tuple list body while parsing tuple list."));continue}let u=o.nodes.shift(),c=u.nodes.length,f=[];for(let p=0;p<c;p++){let m=u.nodes[p];if(!(m instanceof Rt)){let g=!1;if(m instanceof Pe&&(m.variableReference==null&&(g=!0),m.variableReference!=null&&m.variableReference.pathParts.length>1&&(g=!0),m.name.trim().length==0&&(g=!0)),g||!(m instanceof Pe)){o.pushError(K.makeSyntaxError(P.TYPE_INVALID_TUPLE_LIST_NAME_TYPE,o,"Invalid ["+ne.getPrettyTypeName(m)+"] name type found while parsing tuple list."));continue}let h=m;f.push(this.convertVariableToStringNode(h))}}let d=f.length;if(d==0){o.pushError(K.makeSyntaxError(P.TYPE_INVALID_MANIFESTED_NAME_GROUP,o,"Invalid Name expression produced an invalid name group while parsing tuple list."));continue}let _=new Ei;this.createdArrays.push(_),_.startPosition=s.startPosition,_.endPosition=s.endPosition,o.nodes.forEach(p=>{if(!(p instanceof kt)){p.pushError(K.makeSyntaxError(P.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP,p,"Invalid ["+ne.getPrettyTypeName(p)+"] name type found while parsing tuple list value expression."));return}let m=p,g=new Ei;this.createdArrays.push(g),g.startPosition=m.startPosition;let h=[];for(let b=0;b<c;b++){let y=m.nodes[b];if(typeof y=="undefined"||y==null)break;if(!(y instanceof Rt)){if(this.isOperand(y)==!1){y.pushError(K.makeSyntaxError(P.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE,y,"Unexpected ["+ne.getPrettyTypeName(y)+"]  while parsing tuple list value."));continue}h.push(y)}}for(let b=0;b<d&&!(b>h.length);b++){let y=h[b],x=new Jo;x.startPosition=y.startPosition,x.endPosition=y.endPosition,x.name=f[b],x.value=y,g.nodes.push(x),_.endPosition=y.endPosition,g.endPosition=y.endPosition}_.nodes.push(g)}),r.push(_),i+=1;continue}else r.push(s)}return e}makeOrderGroup(e){let n=[],r=e.length,i=0;for(let s=0;s<r;s++){let a=e[s],o=null;if(s+1<r&&(o=e[s+1]),s>0&&(o==null||o instanceof Rt)){i+=1;let l=new zo;l.order=i,l.name=e[s-1],l.directionNode=a,this.isOperand(l.name)==!1&&l.name.pushError(K.makeSyntaxError(P.TYPE_INVALID_ORDER_BY_NAME_VALUE,l.name,"Invalid value or expression supplied for order by name.")),this.isOperand(l.directionNode)==!1&&l.directionNode.pushError(K.makeSyntaxError(P.TYPE_INVALID_ORDER_BY_SORT_VALUE,l.directionNode,"Invalid value or expression supplied for order by direction.")),l.startPosition=l.name.startPosition,l.endPosition=l.directionNode.endPosition,n.push(l),s+=1;continue}}return n}getValues(e){let n=new Ca,r=e.length,i=[];for(let s=0;s<r;s++){let a=e[s],o=null;if(s+1<r&&(o=e[s+1]),o==null||o instanceof Rt){i.push(a),s+=1;continue}}return n.values=i,n}createLibraryInvocations(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof Hr)if(s.content.includes(".")){let a=s.content.split("."),o=a.shift(),l=a.join("."),u=new Xi;if(u.startPosition=s.startPosition,u.endPosition=s.endPosition,u.content=s.content,u.libraryName=o,u.methodName=l,u.originalAbstractNode=s,i+1>=r){s.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP,s,"Unexpected end of input while parsing argument group."));continue}if(!(e[i+1]instanceof We)){s.pushError(K.makeSyntaxError(P.TYPE_EXPECTING_ARGUMENT_GROUP,s,"Unexpected token while parsing method call. Expecting [T_ARG_SEPARATOR] got ["+ne.getPrettyTypeName(s)+"]."));continue}let c=e[i+1],f=null;if(c.nodes.length>0){let d=c.nodes[0];f=this.makeArgGroup(d.nodes)}f==null&&(f=new Da,f.startPosition=c.startPosition,f.endPosition=c.endPosition,f.originalAbstractNode=c),u.arguments=f,n.push(u),i+=1;continue}else if(s.content==Nt.ARR_ORDERBY){if(i+1>=r){s.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP,s,"Unexpected end of input while parsing order group."));continue}let a=e[i+1];if(!(a instanceof We)){a.pushError(K.makeSyntaxError(P.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND,a,"Unexpected ["+ne.getPrettyTypeName(a)+"] while parsing order group."));continue}let l=a.nodes;l[0]instanceof kt&&(l=l[0].nodes);let u=this.makeOrderGroup(l);u.length==0&&s.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP,s,"Unexpected empty [T_DIRECTION_GROUP]. Must have at least one order clause, and each property must have a direction specified."));let c=new ws;if(c.orderClauses=u,u.length>0){u[0].directionNode!=null&&(c.startPosition=u[0].directionNode.startPosition);let f=u[u.length-1].directionNode;f!=null&&(c.endPosition=f.endPosition)}n.push(s),n.push(c),i+=1;continue}else if(s.content==Nt.ARR_GROUPBY){if(i+1>=r){s.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY,s,"Unexpected end of input while parsing group by clause."));continue}let a=e[i+1];if(a instanceof xi||a instanceof br){a.pushError(K.makeSyntaxError(P.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED,a,"Type ["+ne.getPrettyTypeName(a)+"] must be enclosed with parenthesis to be used with groupby."));continue}if(!(a instanceof We)){a.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY,a,"Unexpected ["+ne.getPrettyTypeName(a)+"] while parsing group by."));continue}let l=a.nodes;l[0]instanceof kt&&(l=l[0].nodes);let u=this.getValues(l);if(n.push(s),n.push(u),i+2<r&&i+3<r){let c=e[i+2],f=e[i+3];if(ct.isVariableMatching(c,tt.ScopeAs))if(f instanceof It){u.isNamedNode=!0,u.parsedName=f,i+=3;continue}else f.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE,f,"Expecting [T_STRING] for group by collection alias; got ["+ne.getPrettyTypeName(f)+"]."))}i+=1;continue}else if(s.content==Nt.STRUCT_SWITCH){if(i+1>=r){s.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP,s,"Unexpected end of input while parsing [T_SWITCH_GROUP]."));continue}let a=e[i+1];if(!(a instanceof br)){a.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP,a,"Unexpected ["+ne.getPrettyTypeName(a)+"] while parsing [T_SWITCH_GROUP]."));continue}let o=a;if(this.markAllNonVirtualAsSwitch([a]),o.scope==null||!(o.scope instanceof We)){o.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE,o,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let l=o.scope;if(l.nodes.length==0||!(l.nodes[0]instanceof kt)){o.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,o,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let u=l.nodes[0];if(this.markAllNonVirtualAsSwitch([l]),u.nodes.length==0||!(u.nodes[0]instanceof We)){s.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}this.markAllNonVirtualAsSwitch([s]),this.markAllNonVirtualAsSwitch(u.nodes);let c=u.nodes;if(o.nodes.length==0&&s.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP].")),!(l.nodes[0]instanceof kt)){s.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let d=l.nodes[0];this.markAllNonVirtualAsSwitch(d.nodes);let _=d.nodes,p=new Os,m=new We;m.nodes=c,m.startPosition=m.nodes[0].startPosition,m.endPosition=m.nodes[m.nodes.length-1].endPosition;let g=new Pa;g.condition=m;let h=new We;h.nodes.push(_.shift()),h.startPosition=h.nodes[0].startPosition,h.endPosition=h.nodes[h.nodes.length-1].endPosition,g.expression=h,g.startPosition=g.condition.startPosition,g.endPosition=g.expression.nodes[g.expression.nodes.length-1].endPosition,_.shift(),p.cases.push(g);let b=_.length;if(b>0){if(!(_[0]instanceof We)){s.pushError(K.makeSyntaxError(P.TYPE_PARSER_INVALID_SWITCH_TOKEN,s,"Invalid ["+ne.getPrettyTypeName(_[0])+"] while parsing case statement."));continue}for(let y=0;y<b;y++){let x=_[y],D=null;if(x instanceof Rt){x.isSwitchGroupMember=!0;continue}if(y+1<b&&(D=_[y+1]),D instanceof Dn){D.isSwitchGroupMember=!0;let G=new Pa;G.condition=x,this.markAllNonVirtualAsSwitch([G.condition]);let q=new We;if(q.nodes.push(_[y+2]),q.startPosition=q.nodes[0].startPosition,q.endPosition=q.nodes[q.nodes.length-1].endPosition,G.expression=q,this.markAllNonVirtualAsSwitch([q]),G.startPosition=G.condition.startPosition,G.endPosition=G.expression.nodes[G.expression.nodes.length-1].endPosition,p.cases.push(G),y+3<b&&!(_[y+3]instanceof Rt)){_[y+3].pushError(K.makeSyntaxError(P.TYPE_PARSER_INVALID_SWITCH_TOKEN,_[y+3],"Invalid ["+ne.getPrettyTypeName(_[y+3])+"] while parsing case statement; expecting [T_ARG_SEPARATOR]."));continue}_[y+3].isSwitchGroupMember=!0,y+=2;continue}}}n.push(new mr),n.push(s),n.push(p),i+=1;continue}else if(s.content==Nt.ARR_MAKE){if(i+1>=r){s.pushError(K.makeSyntaxError(P.TYPE_ARR_MAKE_MISSING_TARGET,s,"Missing target variable for arr operator."));continue}let a=e[i+1];if(!(a instanceof We)){a.pushError(K.makeSyntaxError(P.TYPE_ARR_MAKE_UNEXPECTED_TYPE,a,"Unexpected ["+ne.getPrettyTypeName(a)+"] while parsing array."));continue}let o=a instanceof br,l=a,u=l.nodes;if(u[0]instanceof kt&&(u=u[0].nodes),o){let _=a;u.unshift(new Dn),u.unshift(_.scope)}let c=this.getArrayValues(u),f=new Ei;f.startPosition=s.startPosition;let d=c.values.length;d>0?f.endPosition=c.values[d-1].endPosition:f.endPosition=s.endPosition,l.end!=null&&(f.endPosition=l.end.endPosition),f.nodes=c.values,this.createdArrays.push(f),n.push(f),i+=1}else n.push(s);else n.push(s)}return n}getArrayValues(e){let n=new Ca,r=e.length,i=[];for(let s=0;s<r;s++){let a=e[s];if(a instanceof Rt){a.pushError(K.makeSyntaxError(P.TYPE_ARR_UNEXPECT_ARG_SEPARATOR,a,"Unexpected [T_ARG_SEPARATOR] while parsing array."));continue}if(a instanceof Dn){if(s==0){a.pushError(K.makeSyntaxError(P.TYPE_ARR_KEY_PAIR_MISSING_KEY,a,"Missing key for key/value pair while parsing array."));continue}else if(e[s-1]instanceof Rt){a.pushError(K.makeSyntaxError(P.TYPE_ARR_KEY_PAIR_MISSING_KEY,a,"Missing key for key/value pair while parsing array."));continue}}let o=null;if(s+1<r&&(o=e[s+1]),o instanceof Dn){if(s+2>=r){o.pushError(K.makeSyntaxError(P.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE,o,"Missing key/pair value while parsing array."));continue}let l=e[s+2],u=new Jo;if(this.isValidArrayKeyNode(a)==!1){a.pushError(K.makeSyntaxError(P.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE,a,"Invalid ["+ne.getPrettyTypeName(a)+"] type for key/value key."));continue}u.name=a,u.value=l,u.startPosition=a.startPosition,u.endPosition=l.endPosition,i.push(u),s+=3;continue}if(o==null||o instanceof Rt){let l=new Jo;l.value=a,l.startPosition=a.startPosition,l.endPosition=a.endPosition,i.push(l),s+=1;continue}}return n.values=i,n}isValidArrayKeyNode(e){return e instanceof Mt||e instanceof It}associateModifiers(e){let n=[],r=e.length,i=null;for(let s=0;s<r;s++){let a=e[s];if(a instanceof hn){let o=n.length;if(o==0){a.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_MODIFIER_SEPARATOR,a,"Unexpected [T_MODIFIER_SEPARATOR] while parsing input text."));continue}if(this.isRealModifierSeparator.set(a,!0),i=n[o-1],i.modifierChain==null&&(i.modifierChain=new Ko,i.modifierChain.modifierTarget=i,this.createdModifierChains.push(i.modifierChain)),s+1>=r){a.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS,a,"Unexpected end of input while preparing to gather modifier details."));continue}let l=this.scanToEndOfModifier(e.slice(s+1)),u=l.length;if(u>1&&l[1]instanceof At){this.isRealModifierSeparator.set(l[1],!0);let f=l[0];f instanceof Kn?l[0]=this.wrapArithmeticModifier(f,"add"):f instanceof Cn?l[0]=this.wrapArithmeticModifier(f,"subtract"):f instanceof zn?l[0]=this.wrapArithmeticModifier(f,"divide"):f instanceof Xn?l[0]=this.wrapArithmeticModifier(f,"multiply"):f instanceof pi&&(l[0]=this.wrapArithmeticModifier(f,"mod"))}if(u==0){a.pushError(K.makeSyntaxError(P.TYPE_UNSET_MODIFIER_DETAILS,a,"Invalid or missing modifier details."));continue}if(!(l[0]instanceof tn)){a.pushError(K.makeSyntaxError(P.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS,a,"Invalid ["+ne.getPrettyTypeName(l[0])+"]; expecting [T_MODIFIER_NAME]"));continue}let c=this.createModifier(l);c.nameNode!=null&&this.modifierNameMapping.set(c.nameNode,c),s+=u,i.modifierChain.modifierChain.push(c),i.modifierChain.updateValues();continue}else n.push(a)}return n}createNullCoalescenceGroups(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof yr){let a=n.pop();if(i+1>=r){s.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP,s,"Unexpected end of input while parsing input text."));continue}let o=e[i+1],l=new Xo;l.left=a,l.right=o,n.push(l),i+=1;continue}else n.push(s)}return n}isOperand(e){return e instanceof Pe||e instanceof We||e instanceof It||e instanceof Mt||e instanceof Fr||e instanceof mr||e instanceof Lr||e instanceof Xi||e instanceof ws||e instanceof Ca||e instanceof Os||e instanceof Ei||e instanceof Tr}isProperMethodChainTargetStrict(e){return e instanceof We||e instanceof It||e instanceof Mt||e instanceof Fr||e instanceof mr||e instanceof Lr||e instanceof Xi||e instanceof ws||e instanceof Ca||e instanceof Os||e instanceof Ei}assertOperandRight(e,n){if(n+1>e.length-1)return e[n].pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_END_OF_INPUT,e[n],"Unexpected end of input; expecting operand for operator "+ne.getPrettyTypeName(e[n])+' near "'+ho.getNearText(e[n])+'".')),!1;let r=e[n+1];return this.isOperand(r)?!0:(r.pushError(K.makeSyntaxError(P.TYPE_EXPECTING_OPERAND,e[n],"Expecting operand, found "+ne.getPrettyTypeName(r)+' near "'+ho.getNearText(e[n])+'".')),!1)}resolveValueRight(e,n){let r=null,i=0,s=null;if(e.length>0){let a=!0;for(;a;){let o=e[n];if(o instanceof cn){s=o,i+=1,n+=1,a=!1;continue}else if(this.isOperand(o)){r=o,a=!1;break}else{a=!1;break}}}if(i%2!=0){let a=new We;return a.nodes=[],s!=null&&r!=null&&(a.nodes.push(s),a.nodes.push(r)),{value:a,negationCount:i}}return{value:r,negationCount:i}}correctTypes(e){let n=[];return e.forEach(r=>{if(r instanceof Pn){let i=new At;i.startPosition=r.startPosition,i.endPosition=r.endPosition,i.originalAbstractNode=r,n.push(i)}else if(r instanceof $t){let i=new Pe;i.name=r.value,i.startPosition=r.startPosition,i.endPosition=r.endPosition,i.modifierChain=r.modifierChain,i.originalAbstractNode=r,this.createdVariables.push(i),n.push(i)}else n.push(r)}),n}createTernaryGroups(e){var i,s,a,o;let n=[],r=e.length;for(let l=0;l<r;l++){let u=e[l];if(u instanceof $r){let c=this.seek(At,l+1);if(((i=c.node)==null?void 0:i.originalAbstractNode)!=null&&c.node.originalAbstractNode instanceof Pn&&(c.node.originalAbstractNode.isTenaryBranchSeparator=!0),c.found==!1){u.pushError(K.makeSyntaxError(P.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR,u,"Unexpected end of input; expecting [T_BRANCH_SEPARATOR]."));continue}let f=this.collectUntil(n);n=f.tokens;let d=f.collectedTokens[0],_=(s=c.foundAt)!=null?s:0;if(_>=r){u.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP,u,"Unexpected end of input while parsing ternary group."));continue}let p=e.slice(l+1,_);if(p.length>1||p.length==0){u.pushError(K.makeSyntaxError(P.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH,u,"Unexpected number of operations within ternary truth branch."));continue}let m=p[0],g=((a=c.foundAt)!=null?a:0)+1;if(g>=r){u.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH,u,"Unexpected end of input while parsing ternary false execution branch."));continue}let h=e[g],b=new Qo;b.head=d,b.truthBranch=m,b.falseBranch=h,n.push(b),l=((o=c.foundAt)!=null?o:0)+1;continue}else n.push(u)}return n}groupNodesByType(e,n){let r=[],i=e.length;for(let s=0;s<i;s++){let a=e[s];if(s>0&&a instanceof n){let o=[],l=r.pop();if(o.push(l),!this.assertOperandRight(e,s))continue;if(s+1>=i){a.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,a,"Unexpected end of input while parsing input text."));continue}let u=e[s+1];typeof u!="undefined"&&(u.isVirtualGroupMember=!0),typeof l!="undefined"&&(l.isVirtualGroupMember=!0),a.isVirtualGroupMember=!0;let c=new We;c.nodes=o,c.nodes.push(a),c.nodes.push(u),s+=1,r.push(c);continue}else r.push(a)}return r}flagNodeAsOperatorResolve(e){if(e instanceof We){if(e.nodes.length==0)return;this.flagNodeAsOperatorResolve(e.nodes[e.nodes.length-1])}e.isVirtualGroupOperatorResolve=!0,e.next instanceof un||(e.producesVirtualStatementTerminator=!0)}groupNodesByOperatorType(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(i>0&&wt.isOperatorType(s)){let a=[],o=n.pop();if(a.push(o),!this.assertOperandRight(e,i))continue;if(i+1>=r){s.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,s,"Unexpected end of input while parsing input text."));continue}let l=e[i+1];this.flagNodeAsOperatorResolve(l),wt.isAssignmentOperator(s)&&this.tracedAssignments.push(new cp(o,l,s)),typeof o!="undefined"&&(o.isVirtualGroupMember=!0),typeof l!="undefined"&&(l.isVirtualGroupMember=!0),s.isVirtualGroupMember=!0;let u=new We;u.nodes=a,u.nodes.push(s),u.nodes.push(l),i+=1,n.push(u);continue}else n.push(s)}return n}applyOperationOrder(e){return e=this.groupNodesByType(e,fi),e=this.groupNodesByType(e,Xn),e=this.groupNodesByType(e,zn),e=this.groupNodesByType(e,Kn),e=this.groupNodesByType(e,Cn),e}createLogicGroupsToRemoveMethodInvocationAmbiguity(e){let n=[],r=e.length,i=r-1;for(let s=0;s<r;s++){let a=e[s];if(a instanceof en){let o=n.pop(),l=new We;if(l.startPosition=o.startPosition,typeof o!="undefined"&&(o.isVirtualGroupMember=!0),typeof a!="undefined"&&(a.isVirtualGroupMember=!0),l.nodes.push(o),l.nodes.push(a),s!=i)for(let u=s+1;u<r;u++)if(e[u]instanceof en){if(typeof e[u]=="undefined")continue;if(e[u].isVirtualGroupMember=!0,l.nodes.push(e[u]),u==i){u+=1;break}}else{if(u==i){u+=1;break}s=u-1;break}l.endPosition=l.nodes[l.nodes.length-1].endPosition,n.push(l)}else n.push(a)}return n}countTypeRight(e,n,r){let i=0;for(let s=n;s<e.length&&e[s]instanceof r;s++)i+=1;return i}createLogicGroupsToResolveOperatorAmbiguity(e){return e=this.groupNodesByType(e,Ai),e=this.groupNodesByType(e,hr),e=this.groupNodesByType(e,jr),e=this.groupNodesByType(e,qr),e=this.groupNodesByType(e,Yr),e=this.groupNodesByType(e,kn),e=this.groupNodesByType(e,Wr),e=this.groupNodesByType(e,Ur),e=this.groupNodesByType(e,Gr),e=this.groupNodesByOperatorType(e),e}createModifier(e){let n=e.shift(),r=[],i=e.length;if(e.length>0&&e[0]instanceof We){let a=this.unpack(e[0].nodes),o=this.makeArgGroup(a),l=new Na;if(l.nameNode=n,l.methodStyleArguments=o,e.length>1)for(let u=1;u<i;u++)e[u].pushError(K.makeSyntaxError(P.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX,e[u],"Unexpected ["+ne.getPrettyTypeName(e[u])+"] while parsing modifier argument group. Expecting [T_MODIFIER_SEPARATOR] or end of current expression."));return l}for(let a=0;a<i;a++)if(e[a]instanceof Pn||e[a]instanceof At){if(a+1>=i)return e[a].pushError(K.makeSyntaxError(P.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST,e[a],"Unexpected end of modifier value list while parsing modifier.")),e;let o=e[a+1];if(this.isValidModifierValue(o)){if(o instanceof Pe)if(o.variableReference!=null&&o.variableReference.pathParts.length>0)o.variableReference.pathParts.forEach(l=>{if(l instanceof Yn){let u=new $t;u.startPosition=l.startPosition,u.endPosition=l.endPosition,u.value=l.name,u.name=l.name,u.originalAbstractNode=l,u.endPosition==null&&u.startPosition==null&&(u.startPosition=o.startPosition,u.endPosition=o.endPosition),r.push(u)}});else{let l=new $t;l.startPosition=o.startPosition,l.endPosition=o.endPosition,l.value=o.name,l.name=o.name,l.originalAbstractNode=o,r.push(l)}else r.push(o);a+=1;continue}else return o.pushError(K.makeSyntaxError(P.TYPE_MODIFIER_UNEXPECTED_VALUE,o,"Unexpected ["+ne.getPrettyTypeName(o)+"] while parsing modifier value.")),e}let s=new Na;return s.nameNode=n,s.valueNodes=r,s.startPosition=s.nameNode.startPosition,s.valueNodes.length>0?s.endPosition=s.valueNodes[s.valueNodes.length-1].endPosition:s.endPosition=s.nameNode.endPosition,s}scanToEndOfModifier(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof Pn){let a=n.length;if(a==0){s.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE,s,"Unexpected end of input while parsing modifier value."));continue}this.isRealModifierSeparator.set(s,!0);let o=n[a-1];if(ct.distance(o,s)>1)break}if(s instanceof It||s instanceof Pe||s instanceof Mt){let a=n.length;if(a>0&&n[a-1]instanceof We)break}if(s instanceof hn||s instanceof Yt||s instanceof Ht||s instanceof kn||s instanceof hr||s instanceof Ai||s instanceof qr||s instanceof jr||s instanceof Ur||s instanceof Wr||s instanceof Gr||s instanceof Yr||s instanceof gr||s instanceof _r||s instanceof mi||s instanceof yr||s instanceof hi||s instanceof Hr||s instanceof Xi||s instanceof en||s instanceof cn)break;n.push(s)}return n}static isAssignmentOperatorNode(e){return e instanceof kr||e instanceof Mr||e instanceof Qn||e instanceof Br||e instanceof Vr||e instanceof Cn}insertAutomaticStatementSeparators(e){let n=e.length,r=[];for(let i=0;i<n;i++){let s=e[i];if(wt.isAssignmentOperatorNode(s))if(i+2<n)if(e[i+2]instanceof un){r.push(s),r.push(e[i+1]),r.push(e[i+2]),i+=2;continue}else{r.push(s),r.push(e[i+1]),r.push(new un),i+=1;continue}else{r.push(s),r.push(e[i+1]),r.push(new un);break}else r.push(s)}return e}createSemanticGroups(e){let n=[],r=e.length,i=[];for(let s=0;s<r;s++)if(e[s]instanceof un){let a=new kt;a.nodes=i,a.separatorToken=e[s],n.push(a),i=[];continue}else if(i.push(e[s]),s+1>=r){let a=new kt;a.nodes=i,n.push(a);break}return n}findLogicalGroupEnd(e,n){let r=[],i=n.length,s=null,a=0,o=0;for(o;o<i;o++){let c=n[o];if(a+=1,c instanceof Yt){s=c;break}else if(c instanceof Ht){if(o+1>=i)return c.pushError(K.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END,c,"Unexpected end of input while parsing input text.")),{found:!1,logicalGroup:null,skipCount:a};let f=this.findLogicalGroupEnd(c,n.slice(o+1));if(f.found){f.logicalGroup!=null&&r.push(f.logicalGroup),a+=f.skipCount,o+=f.skipCount;continue}else continue}else r.push(c)}if(s==null)return e.pushError(K.makeSyntaxError(P.TYPE_LOGIC_GROUP_NO_END,e,"Unexpected end of input while parsing logic group.")),{found:!1,logicalGroup:null,skipCount:a};let l=new wt;l.setIsRoot(!1);let u=new We;if(r.length>=2&&r[1]instanceof Dn){if(u=new br,u.scopeOperator=r[1],o+2<i&&n[o+1]instanceof Pe&&n[o+2]instanceof It&&n[o+1].name==tt.ScopeAs){let d=n[o+2];u=new xi,u instanceof xi&&(u.alias=d),a+=2}let c=r.splice(0,2);(u instanceof br||u instanceof xi)&&(u.scope=c[0])}return u.nodes=l.parse(r),u.start=e,u.end=s,u.startPosition=e.startPosition,u.endPosition=s.endPosition,u instanceof xi&&u.alias!=null&&(u.endPosition=u.alias.endPosition),{found:!0,logicalGroup:u,skipCount:a}}unpack(e){if(e.length==0)return[];if(e[0]instanceof kt){let n=e[0];return this.unpack(n.nodes)}return e}collectUntil(e){let n=e.length,r=[];for(let i=n-1;i>=0&&!wt.isAssignmentOperator(e[i]);i--){let s=e.pop();r.push(s)}if(r=r.reverse(),r.length>=3){let i=new wt;return i.setIsRoot(!1),{collectedTokens:this.unpack(i.parse(r)),tokens:e}}return{collectedTokens:r,tokens:e}}seek(e,n){for(let r=n;r<this.tokens.length;r++)if(this.tokens[r]instanceof e)return{found:!0,foundAt:r,node:this.tokens[r]};return{found:!1,foundAt:null,node:null}}};var Vi=class{static findRightBeighboringNextPunctuation(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e+1;s<n.length;s++){let a=n[s];if(te.ctypeSpace(a)&&(i=!0),i&&(te.ctypeAlpha(a)||te.ctypeDigit(a)))return null;if(te.ctypePunct(a)||a==O.String_Terminator_SingleQuote||a==O.String_Terminator_DoubleQuote)return a}return null}static findRightNeighboringNextAlphaNumeric(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e+1;s<n.length;s++){let a=n[s];if((te.ctypeSpace(a)||te.ctypePunct(a)&&a!=O.Punctuation_Underscore)&&(i=!0),i&&(te.ctypeAlpha(a)||te.ctypeDigit(a)))return s+1}return null}static findLeftNeighboringNextPunctuation(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e-2;s>=0;s--){let a=n[s];if(te.ctypeSpace(a)&&(i=!0),i&&(te.ctypeAlpha(a)||te.ctypeDigit(a)))return null;if(te.ctypePunct(a))return a}return null}static findLeftNeighboringNextAlphaNumeric(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e-1;s>=0;s--){let a=n[s];if((te.ctypeSpace(a)||te.ctypePunct(a)&&a!=O.Punctuation_Underscore)&&(i=!0),i&&(te.ctypeAlpha(a)||te.ctypeDigit(a)))return s+1}return null}static scanWordAt(e,n,r=4){if(n=n.replace("	"," ".repeat(r)),e<0||e>n.length)return null;let i=[],s=[];for(let a=e-1;a>=0;a--){let o=n[a];if(te.ctypePunct(o)&&o!=O.Punctuation_Underscore||te.ctypeSpace(o))break;i.push(o)}for(let a=e;a<n.length;a++){let o=n[a];if(te.ctypePunct(o)&&o!=O.Punctuation_Underscore||te.ctypeSpace(o))break;s.push(o)}return i.reverse().join("")+s.join("")}};var am=class{constructor(e){this.parser=e}findParentWithName(e,n){let r=n.parent;for(;r!=null;){if(r instanceof z&&r.nameMatches(e))return r;if(r.parent==r)break;r=r.parent}return null}};var om=class{static analyzeModifierNodeParameters(e){var r,i,s,a;if(e.parameters.forEach(o=>{var l,u,c,f;o.isModifierParameter=(u=(l=Dt.instance)==null?void 0:l.hasModifier(o.name))!=null?u:!1,o.isModifierParameter&&(e.modifiers.parameterModifiers.push(o),o.modifier=(f=(c=Dt.instance)==null?void 0:c.getModifier(o.name))!=null?f:null,e.modifiers.modifierNames.includes(o.name)==!1&&e.modifiers.modifierNames.push(o.name))}),e.modifierChain!=null&&e.modifierChain.modifierChain.length>0){let o=null;e.modifierChain.modifierChain.forEach(l=>{var u,c;l.nameNode!=null&&(l.modifier=(c=(u=Dt.instance)==null?void 0:u.getModifier(l.nameNode.content))!=null?c:null,e.modifiers.modifierNames.includes(l.nameNode.content)==!1&&e.modifiers.modifierNames.push(l.nameNode.content),l.modifier!=null&&(o=l.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=l)))}),e.modifierChain.lastModifier=o,e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}e.runtimeNodes.length>0&&e.runtimeNodes.forEach(o=>{if(o.modifierChain!=null&&o.modifierChain.modifierChain.length>0){let l=null;o.modifierChain.modifierChain.forEach(u=>{var c,f;u.nameNode!=null&&(u.modifier=(f=(c=Dt.instance)==null?void 0:c.getModifier(u.nameNode.content))!=null?f:null,e.modifiers.modifierNames.includes(u.nameNode.content)==!1&&e.modifiers.modifierNames.push(u.nameNode.content),u.modifier!=null&&(l=u.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=u)))}),e.modifierChain!=null&&(e.modifierChain.lastModifier=l),e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}});let n=e.modifiers.getLastManifestedModifier();if(n!=null)if(n.name=="macro"){let o=e.modifiers.getLastManifestedModifierValue();e.manifestType=(i=(r=Dt.instance)==null?void 0:r.getMacroManifestingType(o))!=null?i:""}else e.manifestType=(a=(s=Dt.instance)==null?void 0:s.getProbableReturnType(n,e.isPaired()))!=null?a:""}};function lm(t){return t==null?!1:t=='"'||t=="'"}function F0(t,e){for(t.getCurrentIndex();t.getCurrentIndex()<t.inputLength()&&(t.checkCurrentOffsets(),e&&t.pushChar(t.getCurrent()),t.getCurrent()!=O.NewLine);t.incrementIndex());}function L0(t,e){for(t.getCurrentIndex();t.getCurrentIndex()<t.inputLength();t.incrementIndex())if(t.checkCurrentOffsets(),e&&t.pushChar(t.getCurrent()),t.getCurrent()==O.Punctuation_Asterisk&&t.getNext()==O.Punctuation_ForwardSlash){e&&t.pushChar(O.Punctuation_ForwardSlash),t.incrementIndex(),t.checkCurrentOffsets();break}}function um(t){let e=t.getCurrent();for(t.incrementIndex(),t.getCurrentIndex();t.getCurrentIndex()<t.inputLength()&&(t.checkCurrentOffsets(),!(t.getCurrent()==e&&t.getPrev()!=O.String_EscapeCharacter));t.incrementIndex());}var cm=class{constructor(){this.content="";this.nodeIndex=[];this.fragmentStartIndex=[];this.charLen=0;this.documentOffsets=new Map;this.inputLen=0;this.seedOffset=0;this.shiftLine=0;this.chars=[];this.currentIndex=0;this.lastDocumentOffsetKey=null;this.cur=null;this.next=null;this.prev=null;this.chunkSize=5;this.currentChunkOffset=0;this.fragments=[];this.isScript=!1;this.fragmentOpeningIndex=new Map;this.indexedFragments=new Map;this.embeddedIndexedFragments=new Map}updateIndex(e){this.currentIndex=e}inputLength(){return this.inputLen}incrementIndex(){this.currentIndex+=1}getCurrentIndex(){return this.currentIndex}getCurrent(){return this.cur}getNext(){return this.next}getPrev(){return this.prev}pushChar(e){}getChar(e){return this.chars[e]}getSeedOffset(){return this.seedOffset}setDocumentOffsets(e,n){return this.documentOffsets=e,this.lastDocumentOffsetKey=n,this}getClosingFragmentAfter(e){if(typeof e=="undefined")return null;let n=e.name.toLowerCase();for(let r=0;r<this.fragments.length;r++){let i=this.fragments[r];if(i.isClosingFragment&&!i.isSelfClosing&&i.name.toLowerCase()==n&&i.index>e.index)return i}return null}getContentSubstring(e,n){return this.content.substr(e,n)}resetState(){return this.fragments=[],this.inputLen=0,this.fragmentStartIndex=[],this.fragmentOpeningIndex.clear(),this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.seedOffset=0,this.cur=null,this.next=null,this.prev=null}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let o=this.documentOffsets.get(e);i=o.line,s=o.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let o=null,l=null,u=null,c=null;for(let f of this.documentOffsets.keys()){if(f>=e){c!=null&&e>c?(o=u,l=c):(o=this.documentOffsets.get(f),l=f);break}u=this.documentOffsets.get(f),c=f}o==null&&(o=u,l=c),o!=null?(s=e-(l!=null?l:0),i=o.line,e<=(l!=null?l:0)?(i=o.line,s=e+1):i=o.line+1):this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new Ln;return a.index=n,a.offset=e,a.line=i+this.shiftLine,a.char=s,a}getFragments(){return this.fragments}getFragmentsBetween(e,n){let r=[];return this.fragments.forEach(i=>{var o,l,u,c;let s=(l=(o=i.startPosition)==null?void 0:o.index)!=null?l:0,a=(c=(u=i.endPosition)==null?void 0:u.index)!=null?c:0;s>e&&a<n&&r.push(i)}),r}getFragmentContaining(e){var n,r,i,s;for(let a=0;a<this.fragments.length;a++){let o=this.fragments[a];if(((r=(n=o.startPosition)==null?void 0:n.index)!=null?r:0)<e.index&&((s=(i=o.endPosition)==null?void 0:i.index)!=null?s:0)>e.index)return o}return null}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let n=te.split(te.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),n.forEach(r=>{this.chars.push(r),this.charLen+=1})}e&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}}processInputText(e){this.content=e,this.inputLen=this.content.length;let n=[...this.content.matchAll(/(<(?!\?[php|?=]))/gm)],r=[];n.forEach(i=>{var a;let s=(a=i.index)!=null?a:0;for(let o=0;o<this.nodeIndex.length;o++){let l=this.nodeIndex[o];if(s>=l.start&&s<=l.end)return}r.push(s)}),this.fragmentStartIndex=r}setIndexRanges(e){return this.nodeIndex=e,this}fetchAt(e,n){return this.content.substr(e,n)}getFragmentsContainingStructures(){let e=[];return this.fragments.forEach(n=>{let r=n.name.toLowerCase();if(!(r!="script"&&r!="style")&&!n.isClosingFragment&&!n.isSelfClosing&&n.containsStructures){let i=this.getClosingFragmentAfter(n);i!=null&&e.push({start:n,end:i})}}),e}parse(e){if(this.resetState().processInputText(e),this.fragmentStartIndex.length==0)return[];for(let s=0;s<this.fragmentStartIndex.length;s++){let a=this.fragmentStartIndex[s];if(this.resetIntermediateState(),this.seedOffset=a,this.currentChunkOffset=a,this.parseIntermediateText(),this.isScript){let o=!1;for(let l=s+1;l<this.fragmentStartIndex.length;l++){let u=this.fragmentStartIndex[l];if(this.fetchAt(u,8).toLowerCase()=="<\/script"){s=l-1,this.isScript=!1,o=!0;break}}if(!o)break}}let r=0,i=0;return this.fragments.forEach(s=>{let a=s.name.toLowerCase();(a=="script"||a=="style")&&(s.embeddedIndex=i,this.embeddedIndexedFragments.set(i,s),i+=1),s.index=r,this.indexedFragments.set(r,s),r+=1}),this.fragments}getFragment(e){return this.indexedFragments.get(e)}getEmbeddedFragment(e){return this.embeddedIndexedFragments.has(e)?this.embeddedIndexedFragments.get(e):null}hasFragments(){return this.fragments.length>0}skipToEndOfPhp(){for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),lm(this.cur)&&um(this),this.cur==O.Punctuation_ForwardSlash&&this.next==O.Punctuation_ForwardSlash){F0(this,!0);continue}if(this.cur==O.Punctuation_ForwardSlash&&this.next==O.Punctuation_Asterisk){L0(this,!0);continue}if(this.cur==O.Punctuation_Question&&this.next==O.Punctuation_GreaterThan||this.next==null)break}}parseIntermediateText(){this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length;let e=this.currentIndex,n=[],r=[],i=!1,s=!1;for(this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),te.ctypeSpace(this.cur)&&(i=!0),this.next==O.Punctuation_LessThan){let a=1;this.cur==O.Punctuation_ForwardSlash&&(a=2);let o=this.fetchAt(this.currentChunkOffset+a,5);if(o.toLowerCase()=="<?php"||o.startsWith("<?=")){this.skipToEndOfPhp();continue}}if(this.currentIndex>0&&this.cur==O.Punctuation_LessThan||this.next==null&&this.cur!=O.Punctuation_GreaterThan)break;if(!i&&this.cur==O.Punctuation_LessThan&&this.next==O.Punctuation_ForwardSlash&&(s=!0),!i&&this.cur!=O.Punctuation_LessThan&&this.cur!=O.Punctuation_ForwardSlash&&this.cur!=O.Punctuation_GreaterThan&&r.push(this.cur),lm(this.cur)){let a=this.currentIndex;um(this);let o=new rp;o.startPosition=this.positionFromOffset(a+this.seedOffset,a+this.seedOffset),o.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset);let l=a+this.seedOffset,u=this.currentIndex+this.seedOffset+1;o.content=this.content.substr(l,u-l);let c=[];for(let f=a-2;f>=0;f--){let d=this.chars[f];if(te.ctypeSpace(d))break;c.push(d)}o.name=c.reverse().join(""),n.push(o);continue}if(this.cur==O.Punctuation_ForwardSlash&&this.next==O.Punctuation_GreaterThan){let a=new _u;a.startPosition=this.positionFromOffset(e+this.seedOffset,e+this.seedOffset),a.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset+1,this.currentIndex+this.seedOffset+1),a.parameters=n,a.isSelfClosing=!0,a.name=r.join(""),a.isClosingFragment=s,this.fragments.push(a),s?this.fragmentOpeningIndex.set(a.startPosition.index+1,1):this.fragmentOpeningIndex.set(a.startPosition.index,1);break}if(this.cur==O.Punctuation_GreaterThan){let a=new _u;a.startPosition=this.positionFromOffset(e+this.seedOffset,e+this.seedOffset),a.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),a.parameters=n,a.name=r.join(""),a.isClosingFragment=s,this.fragments.push(a),s?this.fragmentOpeningIndex.set(a.startPosition.index+1,1):this.fragmentOpeningIndex.set(a.startPosition.index,1),a.name.toLowerCase()=="script"&&a.isClosingFragment==!1&&(this.isScript=!0);break}}}};var fm=class{constructor(e,n){this.documentParser=e,this.fragmentsParser=n}doesContainFragments(e){var i,s,a,o,l;let n=(s=(i=e.endPosition)==null?void 0:i.index)!=null?s:0,r=(l=(o=(a=e.isClosedBy)==null?void 0:a.startPosition)==null?void 0:o.index)!=null?l:0;return this.fragmentsParser.getFragmentsBetween(n,r).length>0}analyze(){let e=this.documentParser.getNodes();!this.fragmentsParser.hasFragments()||(this.fragmentsParser.getFragments().forEach(n=>{let r=n.name.toLowerCase();if(n.isClosingFragment==!1&&n.isSelfClosing==!1&&(r=="script"||r=="style")){let i=this.fragmentsParser.getClosingFragmentAfter(n);if(i==null)return;n.endPosition!=null&&i.startPosition!=null&&this.documentParser.getNodesBetween(n.endPosition,i.startPosition).forEach(a=>{(a instanceof Nn||a instanceof z&&a.isClosedBy!=null)&&(n.containsStructures=!0),r=="style"?a.isInStyleTag=!0:a.isInScriptTag=!0})}}),e.forEach(n=>{var a,o,l,u,c,f;if(n instanceof gt||n.startPosition==null)return;n instanceof z&&(Hn.isConditionalStructure(n)||!n.isClosingTag)&&n.isClosedBy!=null&&(n.containsAnyFragments=this.doesContainFragments(n));let r=this.fragmentsParser.getFragmentContaining(n.startPosition);if(r==null){n.fragmentPosition=3;return}if(n.fragment=r,n.startPosition.index-((o=(a=r.startPosition)==null?void 0:a.index)!=null?o:0)<=3){n.fragmentPosition=0;return}if(r.parameters.length==0){n.fragmentPosition=2;return}let s=!1;for(let d=0;d<r.parameters.length;d++){let _=r.parameters[d];if(((u=(l=_.startPosition)==null?void 0:l.index)!=null?u:0)<n.startPosition.index&&((f=(c=_.endPosition)==null?void 0:c.index)!=null?f:0)>n.startPosition.index){n.fragmentPosition=1,n.fragmentParameter=_,s=!0;break}}s||(n.fragmentPosition=2)}))}};var pm=class{static analyze(e){e.forEach(n=>{var r,i,s,a,o,l;if(n instanceof z){if(n.prev instanceof z&&n.isPaired()&&n.prev.isInlineAntlers==!0){n.isInlineAntlers=!1,n.isClosedBy!=null&&(n.isClosedBy.isInlineAntlers=!1);return}let u=!1,c=!1;if(n.next==null)u=!0;else if(n.next instanceof gt){let f=te.getFirstLine(n.next.content);(n.next.next==null&&f.trim().length==0||te.trimLeft(f," 	").startsWith(`
`)==!1&&f.trim().length>0||n.next.next instanceof ln||n.next.next instanceof z&&(n.next.next.isPaired()==!1||((i=(r=n.next.next.startPosition)==null?void 0:r.line)!=null?i:0)!=((a=(s=n.startPosition)==null?void 0:s.line)!=null?a:0)))&&(u=!0)}else n.next instanceof z&&n.next.isPaired()&&(u=!0);if(n.prev==null)c=!0;else if(n.prev instanceof gt){let f=te.getLastLine(n.prev.content);te.trimRight(f," 	").endsWith(`
`)==!1&&f.trim().length>0||n.prev.prev instanceof ln?c=!0:n.prev.prev instanceof z&&(n.prev.prev.isInlineAntlers&&((o=n.prev.prev.endPosition)==null?void 0:o.line)==((l=n.startPosition)==null?void 0:l.line)?c=!0:n.prev.prev.isClosingTag&&n.prev.prev.isOpenedBy!=null&&(n.prev.prev.isOpenedBy instanceof ln||n.prev.prev.runtimeName()=="noparse")&&(n.prev.prev.isInlineAntlers=!0,c=!0))}else n.prev instanceof z&&n.prev.isPaired()&&(c=!0);n.isInlineAntlers=u&&c}})}};var Ve=class{constructor(){this.interpolationRegions=new Map;this.nodeParser=new nm;this.chars=[];this.charLen=0;this.lastAntlersNode=null;this.content="";this.originalContent="";this.currentIndex=0;this.currentContent=[];this.sourceContent=[];this.startIndex=0;this._recoveryStartIndex=0;this.cur=null;this.next=null;this.prev=null;this.nodes=[];this.renderNodes=[];this.isInterpolatedParser=!1;this.inputLen=0;this.documentOffsets=new Map;this.lineIndex=new Map;this.lastDocumentOffsetKey=null;this.isDoubleBrace=!1;this.interpolationEndOffsets=new Map;this.isScanningInterpolations=!1;this.seedStartLine=1;this.seedStartchar=1;this.frontMatterEndLine=-1;this.lastAntlersEndIndex=-1;this.seedOffset=0;this.antlersStartIndex=[];this.antlersStartPositionIndex=new Map;this.chunkSize=5;this.maxLine=1;this.currentChunkOffset=0;this.isNoParse=!1;this.antlersErrors=[];this.structureErrors=[];this.languageParser=new wt;this.documentPath=null;this.pushedErrors=new Map;this.frontMatter="";this.shiftLine=0;this.doesHaveUncloseIfStructures=!1;this.doesHaveUnclosedStructures=!1;this.parseChildDocuments=!1;this.structuralErrorCodes=[P.TYPE_PARSE_UNCLOSED_CONDITIONAL,P.TYPE_PARSE_UNPAIRED_CONDITIONAL,P.TYPE_RECURSIVE_UNPAIRED_NODE,P.TYPE_RUNTIME_FATAL_UNPAIRED_LOOP_END,P.TYPE_UNPAIRED_CLOSING_TAG];this.structure=new am(this);this.fragmentsParser=new cm,this.fragmentsAnalyzer=new fm(this,this.fragmentsParser)}withChildDocuments(e){return this.parseChildDocuments=e,this}shouldParseChildDocument(){return this.parseChildDocuments}hasUnclosedIfStructures(){return this.doesHaveUncloseIfStructures}hasUnclosedStructures(){return this.doesHaveUnclosedStructures}getFrontMatter(){return this.frontMatter}setDocumentPath(e){this.documentPath=e}getFrontMatterEndLine(){return this.frontMatterEndLine}pushError(e){(e.errorCode==P.TYPE_PARSE_UNCLOSED_CONDITIONAL||e.errorCode==P.TYPE_PARSE_UNPAIRED_CONDITIONAL)&&(this.doesHaveUncloseIfStructures=!0);let n=e.hash();this.pushedErrors.has(n)||(this.pushedErrors.set(n,e),this.antlersErrors.push(e),this.structuralErrorCodes.includes(e.errorCode)&&this.structureErrors.push(e))}getInterpolationRegions(){return this.interpolationRegions}getDocumentPath(){return this.documentPath}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let n=te.split(te.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),n.forEach(r=>{this.chars.push(r),this.charLen+=1})}e&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}}charLeftAt(e){return e==null||e.char<=1?null:this.charAt(this.positionFromCursor(e.line,e.char-1))}charLeftAtCursor(e,n){return this.charLeftAt(this.positionFromCursor(e,n))}charRightAt(e){return e==null?null:this.charAt(this.positionFromCursor(e.line,e.char+1))}charRightAtCursor(e,n){return this.charRightAt(this.positionFromCursor(e,n))}punctuationLeftAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:Vi.findLeftNeighboringNextPunctuation(e.char,r,n)}punctuationLeftAtCursor(e,n,r=4){return this.punctuationLeftAt(this.positionFromCursor(e,n),r)}punctuationRightAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:Vi.findRightBeighboringNextPunctuation(e.char,r,n)}punctuationRightAtCursor(e,n,r=4){return this.punctuationRightAt(this.positionFromCursor(e,n),r)}wordRightAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let i=Vi.findRightNeighboringNextAlphaNumeric(e.char,r,n);return i==null?null:Vi.scanWordAt(i,r,n)}wordRightAtCursor(e,n,r=4){return this.wordRightAt(this.positionFromCursor(e,n),r)}wordLeftAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let i=Vi.findLeftNeighboringNextAlphaNumeric(e.char,r,n);return i==null?null:Vi.scanWordAt(i,r,n)}wordLeftAtCursor(e,n,r=4){return this.wordLeftAt(this.positionFromCursor(e,n),r)}wordAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:Vi.scanWordAt(e.char,r,n)}getLineText(e){let n=this.getLineIndex(e);return n!=null?te.trimRight(this.getContent().substring(n.start,n.end+1)):null}wordAtCursor(e,n,r=4){return this.wordAt(this.positionFromCursor(e,n),r)}charAt(e){return e==null?null:this.content.substr(e.offset,1)}getLinesAround(e){var s;let n=new Map,r=e-3,i=e+3;r<1&&(r=1),i>this.maxLine&&(i=this.maxLine);for(let a=r;a<=i;a++)n.set(a,(s=this.getLineText(a))!=null?s:"");return n}charAtCursor(e,n){return this.charAt(this.positionFromCursor(e,n))}getLineIndex(e){if(e==this.maxLine){let r=this.lineIndex.get(e-1);if(r!=null){let i=r.endIndex+1;return{end:this.inputLen-1,start:i}}return null}let n=this.lineIndex.get(e);return n!=null?{start:n.startIndex,end:n.endIndex}:null}positionFromCursor(e,n){if(e==this.maxLine){let i=this.lineIndex.get(e-1);if(i!=null){let s=i.endIndex+1,a=s+(n-1),o=new Ln;return o.offset=a,o.line=e,o.char=n,o.index=a,o}return null}let r=this.lineIndex.get(e);if(r!=null){let i=new Ln;return i.offset=r.startIndex+(n-1),i.line=r.line,i.char=n,i.index=r.startIndex+(n-1),i}return null}parse(e){var u,c,f,d,_,p,m,g,h,b;if(this.resetState(),!this.processInputText(e))return[];let n=this.antlersStartIndex.length,r=n-1;if(n==0&&!this.isNoParse){let y=new gt;y.withParser(this),y.content=this.prepareLiteralContent(this.content),y.startPosition=this.positionFromOffset(0,0),y.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1),y.sourceContent=this.content,this.nodes.push(y)}else for(let y=0;y<n;y+=1){let x=this.antlersStartIndex[y];if(this.seedOffset=x,y==0&&x>0&&!this.isNoParse){let G=new gt;if(G.withParser(this),G.content=this.prepareLiteralContent(this.content.substr(0,x)),G.content.length>0){G.startPosition=this.positionFromOffset(0,0),G.endPosition=this.positionFromOffset(x,x-1);let q=(u=G.startPosition.index)!=null?u:0,C=G.endPosition.index+1;G.sourceContent=this.content.substr(q,C-q),this.nodes.push(G)}}if(x<this.lastAntlersEndIndex)continue;if(this.currentChunkOffset=x,this.resetIntermediateState(),this.parseIntermediateText(),this.lastAntlersNode!=null&&!(this.lastAntlersNode instanceof va)&&this.lastAntlersNode.isComment&&!(this.lastAntlersNode instanceof Ho)&&y+1<n){let G=this.antlersStartPositionIndex.get(y+1);if(this.lastAntlersNode.endPosition!=null&&G<this.lastAntlersNode.endPosition.offset){let q=null;for(let C=y+1;C<n;C++)if(this.antlersStartIndex[C]>this.lastAntlersNode.endPosition.offset){q=C;break}if(q==null){let C=this.prepareLiteralContent(this.content.substr(this.lastAntlersNode.endPosition.offset+1));if(C.length>0&&!this.isNoParse){let U=new gt;U.withParser(this),U.content=C;let Z=this.lastAntlersNode.endPosition.offset+1;U.startPosition=this.positionFromOffset(Z,Z),U.endPosition=this.positionFromOffset(this.inputLen,this.inputLen);let Y=(c=U.startPosition.index)!=null?c:0,Q=U.endPosition.index+1;U.sourceContent=this.content.substr(Y,Q-Y),this.nodes.push(U)}break}else{let C=this.antlersStartIndex[q],U=C-this.lastAntlersNode.endPosition.offset-1;if(U>0){let Z=this.lastAntlersNode.endPosition.offset,Y=C-1;Z+=1,Y-=1;let Q=this.content.substr(Z,U);if(Q.length>0&&!this.isNoParse){let se=new gt;se.withParser(this),se.content=Q,se.startPosition=this.positionFromOffset(Z,Z),se.endPosition=this.positionFromOffset(Y,Y);let ce=(f=se.startPosition.index)!=null?f:0,re=se.endPosition.index+1;se.sourceContent=this.content.substr(ce,re-ce),this.nodes.push(se)}continue}y=q-1;continue}}}let D=!1;if(this.antlersStartPositionIndex.has(this.currentChunkOffset)?this.lastAntlersEndIndex<this.currentChunkOffset&&(D=!0):D=!0,D){if(y+1<n){let G=this.antlersStartIndex[y+1],q=this.lastAntlersEndIndex+1;if(G<q)if(this.lastAntlersEndIndex>G)y+2<n&&(G=this.antlersStartIndex[y+2]);else continue;if(y+1==r&&G<=this.lastAntlersEndIndex){if(this.isNoParse)break;let C=this.currentChunkOffset,U=this.content.substr(q),Z=new gt;if(Z.withParser(this),Z.content=this.prepareLiteralContent(U),Z.content.length>0){Z.startPosition=this.positionFromOffset(C,C),Z.endPosition=this.positionFromOffset(G,G-1);let Y=(d=Z.startPosition.index)!=null?d:0,Q=Z.endPosition.index+1;Z.sourceContent=this.content.substr(Y+2,this.inputLen-Y+2),this.nodes.push(Z)}break}else{let C=G-this.lastAntlersEndIndex-1;if(C==0||this.isNoParse)continue;let Z=this.currentChunkOffset;this.lastAntlersNode instanceof Ho&&(q=((p=(_=this.lastAntlersNode.endPosition)==null?void 0:_.offset)!=null?p:0)+1,C-=((g=(m=this.lastAntlersNode.endPosition)==null?void 0:m.offset)!=null?g:0)+1,Z=q),this.lastAntlersNode instanceof va&&(q-=1,C+=1);let Y=this.content.substr(q,C),Q=new gt;if(Q.withParser(this),Q.content=this.prepareLiteralContent(Y),Q.content.length>0){Q.startPosition=this.positionFromOffset(q,q),Q.endPosition=this.positionFromOffset(G,G-1);let se=(h=Q.startPosition.index)!=null?h:0,ce=Q.endPosition.index+1;Q.sourceContent=this.content.substr(se,ce-se),this.nodes.push(Q)}}continue}if(y!==r&&this.lastAntlersNode!=null&&this.lastAntlersNode.endPosition!=null&&this.positionFromOffset(x,x).isBefore(this.lastAntlersNode.endPosition)){if(y+1<n){if(this.antlersStartIndex[y+1]<this.lastAntlersNode.endPosition.offset)continue}else if(y+1!=r)continue}if(y==r){let G=this.currentIndex+x;if(G<this.inputLen&&!this.isNoParse){let q=new gt;if(q.withParser(this),q.content=this.prepareLiteralContent(this.content.substr(G)),q.content.length>0){q.startPosition=this.positionFromOffset(G,G),q.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1);let C=(b=q.startPosition.index)!=null?b:0,U=q.endPosition.index+1;q.sourceContent=this.content.substr(C,U-C),this.nodes.push(q)}break}}}}let i=0;this.nodes.forEach(y=>{y.index=i,i+=1}),this.nodes.length>500&&(this.parseChildDocuments=!1),this.nodes.forEach(y=>{y instanceof z&&y.isComment||y instanceof z&&y.interpolationRegions.size>0&&(y.interpolationRegions.forEach((x,D)=>{let G=new Ve;G.withChildDocuments(this.parseChildDocuments),G.setIsInterpolatedParser(!0);let q=G.parse(x.parseContent);q.length>1&&q[1]instanceof z&&(q=[q[1]]),G.hasUnclosedIfStructures()&&(this.doesHaveUncloseIfStructures=!0),G.hasUnclosedStructures()&&(this.doesHaveUnclosedStructures=!0),y.processedInterpolationRegions.set(D,q),this.mergeErrors(G.getAntlersErrors())}),y.hasProcessedInterpolationRegions=!0)}),this.content.length>0&&this.fragmentsParser.setIndexRanges(this.getNodeIndexRanges()).parse(this.content);let s=new Wc;this.renderNodes=s.associate(this.nodes,this),this.createChildDocuments(this.renderNodes);let a=null,o=null;for(let y=0;y<this.nodes.length;y++){let x=this.nodes[y];y+1<this.nodes.length?o=this.nodes[y+1]:o=null,x.next=o,x.prev=a,a=x}this.fragmentsAnalyzer.analyze(),pm.analyze(this.nodes),this.nodes.forEach(y=>{if(y instanceof z&&y.isClosedBy!=null){let x=y.getImmediateChildren();for(let D=0;D<x.length;D++){let G=x[D];if(G instanceof z&&G.isClosedBy!=null){y.containsChildStructures=!0;break}else if(G instanceof Nn){y.containsChildStructures=!0;break}}}}),this.nodes.forEach(y=>{if(y instanceof z&&y.isClosingTag&&y.isOpenedBy==null){let x="Unpaired closing tag.";y.isInterpolationNode&&(x+=" Tag pairs are not supported within Antlers tags."),y.pushError(K.makeSyntaxError(P.TYPE_UNPAIRED_CLOSING_TAG,y,x))}}),sm.associateRecursiveParent(this.nodes),this.nodes.forEach(y=>{var x;if(!(y instanceof z&&y.isComment)&&((y instanceof z||y instanceof ht)&&(y.isInterpolationNode=this.isInterpolatedParser),(y instanceof z||y instanceof ht)&&y.interpolationRegions.size>0&&y.runtimeNodes.forEach(D=>{D instanceof Pe&&y.interpolationRegions.has(D.name)&&(D.isInterpolationReference=!0,D.interpolationNodes=y.processedInterpolationRegions.get(D.name))}),(y instanceof z||y instanceof ht)&&y.hasParameters&&y.interpolationRegions.size>0&&y.parameters.forEach(D=>{y.interpolationRegions.forEach((G,q)=>{D.value.includes(q)&&D.interpolations.push(q)})}),y instanceof z&&y.runtimeNodes.length>0&&y.isClosingTag==!1&&!y.isComment&&(y.parsedRuntimeNodes=this.languageParser.parse(y.runtimeNodes),y.hasParsedRuntimeNodes=!0,!y.isTagNode&&y.parsedRuntimeNodes.length>0))){let D=y.nodeAtIndex(0);D!=null&&D instanceof Pe&&D.name==((x=y.name)==null?void 0:x.name)&&(y.modifierChain=D.modifierChain)}}),this.languageParser.getCreatedModifierChains().forEach(y=>{y.modifierChain.length>0&&y.modifierChain.forEach(x=>{var D,G;x.nameNode!=null&&Dt.instance!=null&&Dt.instance.hasModifier((D=x.nameNode)==null?void 0:D.name)&&(x.modifier=(G=Dt.instance)==null?void 0:G.getModifier(x.nameNode.name))})});let l=1;return this.nodes.forEach(y=>{var x,D;if(y instanceof z){if(y.isComment)return;y.isTagNode=(D=(x=En.instance)==null?void 0:x.isKnownTag(y.runtimeName()))!=null?D:!1,y.scopeName=y.findParameterValue("scope",""),y.antlersNodeIndex=l,l+=1,om.analyzeModifierNodeParameters(y)}}),this.nodes.forEach(y=>{var x,D,G,q,C,U,Z,Y;if(y instanceof z&&y.isClosedBy!=null){let Q=((D=(x=y.endPosition)==null?void 0:x.offset)!=null?D:0)+1,se=(q=(G=y.isClosedBy.startPosition)==null?void 0:G.offset)!=null?q:0,ce=(U=(C=y.startPosition)==null?void 0:C.offset)!=null?U:0,re=((Y=(Z=y.isClosedBy.endPosition)==null?void 0:Z.offset)!=null?Y:0)+1;y.documentText=this.content.substr(Q,se-Q),y.nodeContent=this.content.substr(ce,re-ce),this.parseChildDocuments&&(y.childDocument=Kt.childFromText(y.documentText,Cl(y.children)))}}),this.renderNodes}createChildDocuments(e){e.forEach(n=>{var r,i,s,a,o,l,u,c;if(n instanceof z&&n.isClosedBy!=null){let f=n.isClosedBy,d=((i=(r=n.startPosition)==null?void 0:r.index)!=null?i:0)-1,_=((a=(s=f.endPosition)==null?void 0:s.index)!=null?a:0)-d;if(n.documentText=this.content.substr(d,_),this.parseChildDocuments){let p=(l=(o=n.endPosition)==null?void 0:o.index)!=null?l:0,m=((c=(u=f.startPosition)==null?void 0:u.index)!=null?c:0)-1-p,g=this.content.substr(p,m);n.childDocument=Kt.childFromText(g,Cl(n.getChildren()))}}})}getNodeIndexRanges(){let e=[];return this.nodes.forEach(n=>{var r,i,s,a;n instanceof gt||e.push({start:(i=(r=n.startPosition)==null?void 0:r.index)!=null?i:0,end:(a=(s=n.endPosition)==null?void 0:s.index)!=null?a:0})}),e}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let o=this.documentOffsets.get(e);i=o.line,s=o.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let o=null,l=null,u=null,c=null;for(let f of this.documentOffsets.keys()){if(f>=e){c!=null&&e>c?(o=u,l=c):(o=this.documentOffsets.get(f),l=f);break}u=this.documentOffsets.get(f),c=f}if(o==null&&(o=u,l=c),o!=null)if(r){let f=this.content.split(""),d=e-(l!=null?l:0),_=o.char-(l!=null?l:0)+e;s=d,i=o.line,e<=(l!=null?l:0)?(i=o.line,s=e+1):i=o.line+1}else{let f=this.content.split(""),d=e-(l!=null?l:0),_=o.char-(l!=null?l:0)+e;s=d,i=o.line,e<=(l!=null?l:0)?(i=o.line,s=e+1):i=o.line+1}else this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new Ln;return a.index=n,a.offset=e,a.line=i+this.shiftLine,a.char=s,a}getLanguageParser(){return this.languageParser}getText(e,n){return this.content.substr(e,n-e)}getOriginalContent(){return this.originalContent}getContent(){return this.content}getFragments(){return this.fragmentsParser.getFragments()}getFragmentsParser(){return this.fragmentsParser}getFragmentsContainingStructures(){return this.fragmentsParser.getFragmentsContainingStructures()}setIsInterpolatedParser(e){return this.isInterpolatedParser=e,this}setStartLineSeed(e){return this.seedStartLine=e,this}setSeedStartChar(e){return this.seedStartchar=e,this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.currentContent=[],this.sourceContent=[],this.cur=null,this.next=null,this.prev=null}setSeedPosition(e){return e==null?this.shiftLine=0:this.shiftLine=e.line,this}resetState(){if(this.languageParser.reset(),this.charLen=0,this.antlersStartIndex=[],this.antlersErrors=[],this.pushedErrors.clear(),this.antlersStartPositionIndex.clear(),this.lastAntlersEndIndex=-1,this.renderNodes=[],this.nodes=[],hs.globalTagEnterStack.length>0){let e=hs.globalTagEnterStack[hs.length-1];e!=null&&e.endPosition!=null&&this.setStartLineSeed(e.endPosition.line)}this.seedOffset=0,this.isScanningInterpolations=!1,this.content="",this.chars=[],this.currentIndex=0,this.startIndex=0,this._recoveryStartIndex=0,this.cur=null,this.next=null,this.prev=null,this.inputLen=0,this.documentOffsets.clear(),this.isDoubleBrace=!1,this.interpolationRegions.clear(),this.interpolationEndOffsets.clear()}fetch(e){let n=this.currentChunkOffset+this.chunkSize-this.chars.length;return te.substring(this.content,n,e)}getParsedContent(){return this.content}peek(e){if(e==this.charLen){let n=te.split(te.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,n.forEach(r=>{this.chars.push(r),this.charLen+=1})}return this.chars[e]}parseIntermediateText(){for(this.currentContent=[],this.sourceContent=[],this.startIndex=0,this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length,this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==Ve.LeftBrace&&this.next==Ve.LeftBrace&&this.prev==Ve.AtChar){this.dumpLiteralNode(this.currentIndex);let e=new ln;e.withParser(this),e.name=new Vn,e.name.name="noparse",e.content="{{",e.startPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),e.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),this.nodes.push(e),this.currentContent=[],this.sourceContent=[],this.currentIndex+=1;continue}if((this.prev==null||this.prev!=null&&this.prev!=Ve.AtChar)&&this.next!=null&&this.cur==Ve.LeftBrace&&this.next==Ve.LeftBrace){this.dumpLiteralNode(this.currentIndex);let e=null;if(this.currentIndex+2<this.inputLen&&(e=this.peek(this.currentIndex+2)),e==Ve.Punctuation_Question&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(Ve.Punctuation_Question),this.isDoubleBrace=!1;break}if(e==Ve.Punctuation_Dollar&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(Ve.Punctuation_Dollar),this.isDoubleBrace=!1;break}if(e==Ve.Punctuation_Octothorp&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersCommentRegion(),this.isDoubleBrace=!1;break}if(!this.isNoParse)this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1;else if(this.fetch(11).replace(" ","").toLocaleLowerCase().startsWith("{{/noparse")){this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1,this.isNoParse=!1;break}else{this.currentContent.push(this.cur);continue}break}if(this.cur==Ve.AtChar&&this.next!=null&&this.next==Ve.LeftBrace){if(this.currentIndex+2>=this.inputLen){this.appendContent(this.next),this.dumpLiteralNode(this.currentIndex+1);break}let e=0;for(let n=this.currentIndex+1;n<this.inputLen&&this.chars[n]==Ve.LeftBrace;n+=1)e+=1;this.currentContent=this.currentContent.concat(Ve.LeftBrace.repeat(e).split("")),this.sourceContent=this.currentContent.concat(Ve.LeftBrace.repeat(e).split("")),this.currentIndex+=e}this.appendContent(this.cur),this.next==null&&this.currentContent.length>0&&this.dumpLiteralNode(this.currentIndex)}}getRenderNodes(){return this.renderNodes}processInputText(e){var f;if(this.originalContent=e,this.content=te.normalizeLineEndings(e),this.inputLen=this.content.length,this.content.startsWith("---")){let d=this.content.split(`
`),_=[],p=[];p.push("");for(let m=1;m<d.length;m++){let g=d[m];if(g.startsWith("---")){p.push(""),p=p.concat(d.slice(m+1)),this.content=p.join(`
`),this.frontMatter=_.join(`
`),this.frontMatterEndLine=m+1;break}else _.push(g),p.push("")}}let n=[...this.content.matchAll(/(\n)/gm)],r=n.length,i=this.seedStartLine,s=null,a=0,o=0;for(let d=0;d<r;d++){let _=n[d],p=(f=_.index)!=null?f:0,m=p;s!=null?m=p-s:m=m+1,this.documentOffsets.set(p,{char:m,line:i});let g=0,h=0;d==0?(h=m-1,g=0):(g=o+1,h=p),this.lineIndex.set(i,{char:m,line:i,startIndex:g,endIndex:h}),this.lastDocumentOffsetKey=p,this.maxLine=i,i+=1,s=p,o=h,a=g}this.maxLine+=1;let l=[...this.content.matchAll(/@?{{/gm)],u=0,c=!1;return l.forEach(d=>{let _=d[0];if(_.startsWith(Ve.AtChar)){u=this.content.indexOf(_,u)+2,c=!0;return}let p=this.content.indexOf(_,u);if(c&&u==p){u=p;return}this.antlersStartIndex.push(p),this.antlersStartPositionIndex.set(p,1),u=p+2,c=!1}),!0}prepareLiteralContent(e){return e.replace("@{{","{{")}scanToEndOfPhpRegion(e){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==e&&this.next!=null&&this.next==Ve.RightBrace&&this.peek(this.currentIndex+2)==Ve.RightBrace){let r=this.makeAntlersPhpNode(this.currentIndex,e==Ve.Punctuation_Dollar);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.startIndex=this.currentIndex,this._recoveryStartIndex=this.startIndex,this.nodes.push(r),this.lastAntlersNode=r;break}if(this.appendContent(this.cur),this.next==null){let n=this.makeAntlersPhpFailedNode(this.currentIndex);this.nodes.push(n),this.lastAntlersNode=n,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(K.makeSyntaxError(P.TYPE_INCOMPLETE_PHP_EVALUATION_REGION,n,"Unexpected end of input while parsing Antlers PHP region."));break}}}appendContent(e){e!=null&&(this.currentContent.push(e),this.sourceContent.push(e))}scanToEndOfAntlersCommentRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==Ve.Punctuation_Octothorp&&this.next!=null&&this.next==Ve.RightBrace&&this.peek(this.currentIndex+2)==Ve.RightBrace){let n=this.makeAntlersTagNode(this.currentIndex,!0);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.nodes.push(n),this.lastAntlersNode=n;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersCommentFailedNode(this.currentIndex);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(K.makeSyntaxError(P.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION,e,"Unexpected end of input while parsing Antlers comment region."));break}}}scanToEndOfInterpolatedRegion(){this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0);let e=[];this.isScanningInterpolations=!0;let n=0;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.checkCurrentOffsets(),this.cur==Ve.LeftBrace){if(this.prev==Ve.AtChar){e.push(this.cur);continue}n+=1,e.push(this.cur)}else if(this.cur==Ve.RightBrace){if(this.prev==Ve.AtChar){e.push(this.cur);continue}if(n-=1,e.push(this.cur),n==0){this.interpolationEndOffsets.set(this.currentIndex,1);break}}else this.cur!=null&&e.push(this.cur);let r=e.join(""),s=("int_"+k0.Md5.hashStr(r)).substr(0,r.length),a=s.length,o=r.length;if(a<o){let l=o-a;s+="x".repeat(l)}return this.isScanningInterpolations=!1,{content:r,varContent:s}}bordersInterpolationRegion(e){if(this.interpolationEndOffsets.size==0)return!1;let n=e.offset-1;return n<=0?!1:this.interpolationEndOffsets.has(n)}getParseableContent(e){let n="";for(let r=0;r<=e;r++)this.content[r]==Ve.LeftBrace||this.content[r]==Ve.RightBrace?n+="~":n+=this.content[r];return n}scanToEndOfAntlersRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==Ve.LeftBrace&&this.prev==Ve.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.isInterpolatedParser&&this.cur==Ve.RightBrace&&this.prev==Ve.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.cur==Ve.LeftBrace){let e=this.scanToEndOfInterpolatedRegion(),n=this.currentIndex+this.seedOffset,r=n-e.content.length,i=this.getParseableContent(r-1);hs.interpolatedVariables.push(e.varContent),this.currentContent=this.currentContent.concat(e.varContent.split("")),this.sourceContent=this.sourceContent.concat(e.content.split(""));let s=i+"{"+e.content+"}";this.interpolationRegions.set(e.varContent,{content:e.content,parseContent:s,varContent:e.varContent,startOffset:r,endOffset:n});continue}if(this.cur==Ve.RightBrace&&this.next!=null&&this.next==Ve.RightBrace){let e=this.makeAntlersTagNode(this.currentIndex,!1);e.name!=null&&e.name.name=="noparse"&&(this.isNoParse=!0),this.currentIndex+=2,this.nodes.push(e),this.lastAntlersNode=e;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersFailedNode(this.currentIndex,!1);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0;let n="Unexpected end of input while parsing Antlers region.";this.isScanningInterpolations&&(n="Unexpected end of input wihle parsing interpolated Antlers region."),this.antlersErrors.push(K.makeSyntaxError(P.TYPE_INCOMPLETE_ANTLERS_REGION,e,n));break}}}makeAntlersPhpNode(e,n){let r=new va;return n?(r.rawStart="{{$",r.rawEnd="$}}"):(r.rawStart="{{?",r.rawEnd="?}}"),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+3>this.inputLen?(r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(K.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r):(this.lastAntlersEndIndex=e+3+this.seedOffset,r.endPosition=this.positionFromOffset(e+this.seedOffset,e+3+this.seedOffset),r)}makeAntlersPhpFailedNode(e){let n=new sp;n.rawStart="{{$",n.rawEnd="$}}",n._isEndVirtual=!0,n.content=this.currentContent.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let r=this.getLineText(n.startPosition.line),i=this.getLineIndex(n.startPosition.line);if(r!=null){let a=r.substr(this._recoveryStartIndex);n.content=a,n.sourceContent=a}let s=e+this.seedOffset;return i!=null&&(this.currentIndex=i.end,s=i.end),n.endPosition=this.positionFromOffset(s,s),n}makeAntlersCommentFailedNode(e){let n=new Ho;this.isDoubleBrace?(n.rawStart="{{",n.rawEnd="}}"):(n.rawStart="{",n.rawEnd="}"),n._isEndVirtual=!0;let r=!1,i=this.currentContent.length;i>0&&this.currentContent[i-1]==Ve.Punctuation_ForwardSlash&&(this.currentContent.pop(),r=!0),n.isComment=!0,n.isSelfClosing=r,n.withParser(this),n.content=this.currentContent.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let s=this.getLineText(n.startPosition.line),a=this.getLineIndex(n.startPosition.line);if(s!=null){let l=s.substr(this._recoveryStartIndex);n.content=l,n.sourceContent=l}let o=e+this.seedOffset;return a!=null&&(this.currentIndex=a.end,o=a.end),n.endPosition=this.positionFromOffset(o,o),n.interpolationRegions=new Map,this.interpolationRegions.forEach((l,u)=>{n.content.includes(u)&&n.interpolationRegions.set(u,l)}),n}makeAntlersFailedNode(e,n){let r=new ht;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}"),r._isEndVirtual=!0;let i=!1,s=this.currentContent.length;s>0&&this.currentContent[s-1]==Ve.Punctuation_ForwardSlash&&(this.currentContent.pop(),i=!0),r.isComment=n,r.isSelfClosing=i,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let a=this.getLineText(r.startPosition.line),o=this.getLineIndex(r.startPosition.line);if(a!=null){let c=te.trimLeft(this.content.substring(r.startPosition.offset+r.rawStart.length-1,o==null?void 0:o.end),"{");r.content=c,r.sourceContent=c}let l=e+this.seedOffset;o!=null&&(this.currentIndex=o.end,l=o.end),r.endPosition=this.positionFromOffset(l,l),r.interpolationRegions=new Map,this.interpolationRegions.forEach((c,f)=>{r.content.includes(f)&&r.interpolationRegions.set(f,c)});let u=this.nodeParser.parseNode(r);return this.mergeErrors(u.getErrors()),u}makeAntlersTagNode(e,n){let r=new z;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}");let i=!1,s=this.currentContent.length;if(s>0&&this.currentContent[s-1]==Ve.Punctuation_ForwardSlash&&(this.currentContent.pop(),i=!0),r.isInterpolationNode=this.isInterpolatedParser,r.isComment=n,r.isSelfClosing=i,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+2>this.inputLen)return r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(K.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r;if(n?this.lastAntlersEndIndex=e+2+this.seedOffset:this.lastAntlersEndIndex=e+1+this.seedOffset,r.endPosition=this.positionFromOffset(this.lastAntlersEndIndex,this.lastAntlersEndIndex),r.interpolationRegions=new Map,this.interpolationRegions.forEach((o,l)=>{r.content.includes(l)&&r.interpolationRegions.set(l,o)}),r.isComment)return r;let a=this.nodeParser.parseNode(r);return this.mergeErrors(a.getErrors()),a}mergeErrors(e){e.forEach(n=>{this.antlersErrors.push(n)})}getNodes(){return this.nodes}getNodesBetween(e,n){let r=[];return this.nodes.forEach(i=>{var s,a,o,l;((a=(s=i.startPosition)==null?void 0:s.offset)!=null?a:0)>e.offset&&((l=(o=i.endPosition)==null?void 0:o.offset)!=null?l:0)<n.offset&&r.push(i)}),r}antlersNodes(){return this.nodes.filter(function(e){return e instanceof z})}dumpLiteralNode(e){this.isNoParse||(this.currentContent.length>0&&this.nodes.push(this.makeLiteralNode(this.currentContent,this.startIndex,e)),this.currentContent=[],this.sourceContent=[])}makeLiteralNode(e,n,r){let i=new gt;return i.content=e.join(""),i.sourceContent=this.sourceContent.join(""),i.startPosition=this.positionFromOffset(n,n),i.endPosition=this.positionFromOffset(r,r),i.sourceContent=this.content.substr(n,r),i.withParser(this),i}addAntlersError(e){this.antlersErrors.push(e)}getAntlersErrors(){return this.antlersErrors}getStructureErrors(){return this.structureErrors}},O=Ve;O.K_CHAR="char",O.K_LINE="line",O.NewLine=`
`,O.AtChar="@",O.LeftBrace="{",O.RightBrace="}",O.LeftBracket="[",O.RightBracket="]",O.String_EscapeCharacter="\\",O.String_Terminator_DoubleQuote='"',O.String_Terminator_SingleQuote="'",O.Punctuation_Question="?",O.Punctuation_Equals="=",O.Punctuation_Comma=",",O.Punctuation_Colon=":",O.Punctuation_Semicolon=";",O.Punctuation_Exclamation="!",O.Punctuation_Pipe="|",O.Punctuation_Ampersand="&",O.Punctuation_LessThan="<",O.Punctuation_GreaterThan=">",O.Punctuation_Octothorp="#",O.Punctuation_Tilde="~",O.Punctuation_FullStop=".",O.Punctuation_Dollar="$",O.Punctuation_Asterisk="*",O.Punctuation_Percent="%",O.Punctuation_Plus="+",O.Punctuation_Minus="-",O.Punctuation_Underscore="_",O.Punctuation_ForwardSlash="/",O.Punctuation_Caret="^",O.LeftParen="(",O.RightParent=")";var Ct=class{static findAssignmentNodes(e){let n=[];for(let r=0;r<e.length;r++)wt.isAssignmentOperatorNode(e[r])&&n.push(e[r]);return n}static findAbstractNodesBefore(e,n){return this.findAbstractNodesBeforePosition(e.startPosition,n)}static findAbstractNodesBeforePosition(e,n){if(e==null)return[];let r=[];for(let i=0;i<n.length;i++){let s=n[i];if(s.startPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static isBefore(e,n){return e.startPosition==null?!1:e.startPosition.index<n.index}static isAfter(e,n){return e.startPosition==null?!1:e.startPosition.index>n.index}static findNodesBeforePosition(e,n){let r=[];if(e==null)return r;for(let i=0;i<n.length;i++){let s=n[i];if(!Ct.isLiteralType(s)&&s.startPosition!=null&&s.endPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static findNodesAfterPosition(e,n){let r=[];if(e==null)return r;for(let i=0;i<n.length;i++){let s=n[i];Ct.isLiteralType(s)||s.startPosition!=null&&s.startPosition.index>e.index&&r.push(s)}return r}static findNodeBeforePosition(e,n){if(e==null)return null;let r=null;for(let i=0;i<n.length;i++){let s=n[i];if(!Ct.isLiteralType(s)&&s.startPosition!=null){if(s.startPosition.index>e.index)break;r=s}}return r}static findNodeAfterPosition(e,n){if(e==null)return null;for(let r=0;r<n.length;r++){let i=n[r];if(!Ct.isLiteralType(i)&&i.startPosition!=null&&i.startPosition.index>e.index)return i}return null}static findNodeAtPosition(e,n){if(e==null)return null;for(let r=0;r<n.length;r++){let i=n[r];if(!Ct.isLiteralType(i)&&i.startPosition!=null&&i.endPosition!=null&&e.index>=i.startPosition.index&&e.index<=i.endPosition.index)return i}return null}static isLiteralType(e){return e instanceof ln||e instanceof gt}};var Pl=class{static isModifierLeftOf(e,n){return Pl.isModifierLeftOfPosition(e.startPosition,n)}static isModifierLeftOfPosition(e,n){let r=Ct.findAbstractNodesBeforePosition(e,n);for(let i=r.length-1;i>=0;i--){let s=r[i];if(s instanceof Ht&&i-1>0&&r[i-1]instanceof tn)return!0;if(s instanceof Ht||s instanceof Yt)return!1;if(s instanceof hn)return!0}return!1}};var Dl=class{constructor(){this.isRightOfOperator=!1;this.isLeftOfOperator=!1}static resolveContext(e,n,r){let i=new Dl;return r!=null&&(r.prev!=null&&wt.isOperatorType(r.prev)&&(i.isRightOfOperator=!0),r.next!=null&&wt.isOperatorType(r.next)&&(i.isLeftOfOperator=!0)),i}};var dm=class{constructor(){this.inTagPart=!1;this.inMethodPart=!1}};var Sl=class{constructor(){this.modifierChain=null;this.activeModifier=null;this.name="";this.inModifierName=!1;this.inModifierParameter=!1;this.valueCount=0;this.activeValueIndex=-1;this.activeValue=null}static resolveContext(e,n,r,i){var c;let s=n.getParser(),a=new Sl,o=s.getLanguageParser().getCreatedModifierChains(),l=null;for(let f=0;f<o.length;f++){let d=o[f];if(e.isWithin(d.startPosition,d.endPosition,2)){for(let _=0;_<d.modifierChain.length;_++){let p=d.modifierChain[_];if(e.isWithin(p.startPosition,p.endPosition,2)){l=p;break}}if(l!=null)break}}l==null&&r instanceof tn&&i.getDocumentParser().getLanguageParser().hasModifierConstruct(r)&&(l=i.getDocumentParser().getLanguageParser().getModifierConstruct(r));let u=i.wordLeftAt(e);if(l==null&&u!=null&&((c=Dt.instance)==null?void 0:c.hasModifier(u))&&n.modifierChain!=null&&n.modifierChain.modifierChain.length>0)for(let f=0;f<n.modifierChain.modifierChain.length;f++){let d=n.modifierChain.modifierChain[f];if(d.modifier!=null&&d.modifier.name==u){l=d;break}}if(l!=null)if(a.activeModifier=l,a.valueCount=l.valueNodes.length,l.nameNode!=null&&(a.name=l.nameNode.name),l.nameNode!=null&&e.isWithin(l.nameNode.startPosition,l.nameNode.endPosition,1))a.inModifierName=!0;else for(let f=0;f<l.valueNodes.length;f++){let d=l.valueNodes[f];if(e.isWithin(d.startPosition,d.endPosition,1)){a.activeValueIndex=f,a.activeValue=d;break}}return a}};var Al=class{constructor(){this.parameter=null;this.isInName=!1;this.isInValue=!1}static resolveContext(e,n){let r=new Al;return r.parameter=n,e.isWithinRange(n.namePosition)?r.isInName=!0:e.isWithinRange(n.valuePosition)&&(r.isInValue=!0),r}};var mm=class{constructor(){this.refId="";this.node=null;this.leftPunctuation=null;this.rightPunctuation=null;this.leftChar=null;this.rightChar=null;this.word=null;this.char=null;this.interpolatedContext=!1;this.leftWord=null;this.rightWord=null;this.isCursorInIdentifier=!1;this.root=null;this.identifierContext=null;this.position=null;this.feature=null;this.isInParameter=!1;this.subContext=null;this.parameterContext=null;this.modifierContext=null;this.generalContext=null;this.variableContext=null;this.cursorContext=hm.Unknown;this.refId=Ta()}},hm=(a=>(a[a.Unknown=0]="Unknown",a[a.Variable=1]="Variable",a[a.Modifier=2]="Modifier",a[a.Parameter=3]="Parameter",a[a.General=4]="General",a[a.LanguageOperator=5]="LanguageOperator",a))(hm||{});var Il=class{constructor(){this.variableNode=null;this.varPathText=""}static resolveContext(e,n,r,i){var f;if(r==null)return null;let s=r,a=i.getDocumentParser().getLanguageParser(),o=new Il,l=(f=i.wordAt(e))!=null?f:"";r instanceof At&&a.isMergedVariableComponent(r)==!1&&r.prev instanceof Pe&&(s=r.prev);let u="";if(a.isMergedVariableComponent(s)){let d=a.getMergedVariable(s);d.startPosition!=null&&(u=i.getText(d.startPosition.index,e.index).trim()),o.variableNode=d}else s instanceof Pe&&(o.variableNode=s,u=s.name,s.variableReference!=null&&(u=s.variableReference.normalizedReference));u.length>0&&(u=pr(u,"\\.",":"));let c=u.split(":");return l.trim().length>0&&c.pop(),u=c.join(":"),u.endsWith(":")&&(u=np(u,":")),o.varPathText=u,o}};var qi=class{static resolveIdentifierContext(e,n){let r=new dm;return n.nameMethodPartStartsOn!=null?e.char<n.nameMethodPartStartsOn.char?(r.inTagPart=!0,r.inMethodPart=!1):(r.inTagPart=!1,r.inMethodPart=!0):(r.inMethodPart=!1,r.inTagPart=!0),r}static resolveContext(e,n,r,i=!1,s=null){var a,o,l,u,c,f;if(n==null||e==null)return null;if(n instanceof $n||n instanceof z){let d=new mm;if(n.nameStartsOn!=null&&e.line==n.nameStartsOn.line){let m=!1;e.char>=n.nameStartsOn.char&&(m=!0),n.nameEndsOn!=null&&e.char>n.nameEndsOn.char&&(m=!1),m&&(d.isCursorInIdentifier=!0,d.identifierContext=qi.resolveIdentifierContext(e,n))}n.addContext(d),s!=null&&s.addContext(d),d.interpolatedContext=i,d.node=n,d.position=e,d.root=s,d.leftPunctuation=r.punctuationLeftAt(e),d.rightPunctuation=r.punctuationRightAt(e),d.leftChar=r.charLeftAt(e),d.rightChar=r.charRightAt(e),d.isCursorInIdentifier==!0&&d.leftChar==" "&&(d.leftChar=":"),d.word=r.wordAt(e),d.char=r.charAt(e),d.leftWord=r.wordLeftAt(e),d.rightWord=r.wordRightAt(e);let _=!1;if(n.parameters.length>0)for(let m=0;m<n.parameters.length;m++){let g=n.parameters[m];if(g.blockPosition!=null&&g.blockPosition.start!=null&&g.blockPosition.end!=null&&e.char>g.blockPosition.start.char&&e.char<=g.blockPosition.end.char+1&&e.line>=((l=(o=(a=g.namePosition)==null?void 0:a.start)==null?void 0:o.line)!=null?l:g.blockPosition.start.line)&&e.line<=((f=(c=(u=g.valuePosition)==null?void 0:u.end)==null?void 0:c.line)!=null?f:g.blockPosition.end.line)){d.cursorContext=3,d.parameterContext=Al.resolveContext(e,g),d.isInParameter=!0,d.feature=g,_=!0;break}}if(_||n.runtimeNodes.forEach(m=>{m.startPosition!=null&&m.endPosition!=null&&e.isWithin(m.startPosition,m.endPosition,1)&&(d.feature=m)}),_&&n.interpolationRegions.size>0){let m=Array.from(n.interpolationRegions,([g,h])=>h);for(let g=0;g<m.length;g++){let h=m[g];if(e.index>=h.startOffset&&e.index<=h.endOffset){let b=n.getInterpolationNode(h.varContent);return qi.resolveContext(e,b,r,!0,s)}}}return d.feature instanceof Pe&&d.feature.isInterpolationReference&&d.feature.parent!=null&&d.feature.parent instanceof z&&d.feature.parent.processedInterpolationRegions.has(d.feature.name)?qi.resolveContext(e,d.feature.parent.getInterpolationNode(d.feature.name),r,!0,s):(Pl.isModifierLeftOfPosition(e,n.runtimeNodes)?(d.cursorContext=2,d.modifierContext=Sl.resolveContext(e,n,d.feature,r)):_||(d.cursorContext=4,d.generalContext=Dl.resolveContext(e,n,d.feature)),d.variableContext=Il.resolveContext(e,n,d.feature,r),d)}return null}};var zs=class{static isPairedNode(e){return e instanceof Nn?!0:e instanceof $n||e instanceof z?e.isClosedBy!=null:!1}static findAncestorsBeforePosition(e,n){var o,l,u,c,f,d;let r=[],i=[],s=-1,a=-1;for(let _=0;_<n.length;_++){let p=n[_];if(p.isClosedBy!=null&&((o=p.isClosedBy.endPosition)==null?void 0:o.isBefore(e))&&(i.push(p),i.push(p.isClosedBy),s=p.isClosedBy.endPosition.line,a=p.isClosedBy.endPosition.char),!(s>-1&&p.endPosition!=null&&(p.endPosition.line<s||p.endPosition.line==s&&a>-1&&p.endPosition.char<a))){if(p.startPosition!=null){if(e.isBefore(p.startPosition))break;if(p.startPosition.line==e.line&&e.char<=p.startPosition.char){i.push(p);continue}}if(((l=En.instance)==null?void 0:l.requiresClose(p))&&p.isClosedBy!=null){let m=p.isClosedBy;if((u=m.startPosition)==null?void 0:u.isBefore(e)){i.push(p),i.push(m);continue}else((c=m.startPosition)==null?void 0:c.line)==e.line&&((f=m.startPosition)==null?void 0:f.char)<e.char?i.push(p):r.push(p)}else if(p.parent!=null){let m=p.parent;if(i.includes(m)){i.push(p);continue}else((d=p.endPosition)==null?void 0:d.isBefore(e))?r.push(p):i.push(p)}else r.push(p)}}return r}};var gm=class{constructor(e){this.doc=e}getAncestorsAt(e,n){let r=this.position(e,n);return r==null?[]:zs.findAncestorsBeforePosition(r,this.doc.getAllAntlersNodes())}getNameAt(e,n){let r=this.getNodeAt(e,n);return r instanceof z?r.name:null}getScopeAt(e,n){let r=this.getNodeAt(e,n);return r instanceof z&&r.currentScope!=null?r.currentScope:null}getFeaturesAt(e,n){let r=this.position(e,n),i=this.getNodeAt(e,n);return qi.resolveContext(r,i,this.doc,!1,i)}getNodeAt(e,n){return Ct.findNodeAtPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodeBefore(e,n){return Ct.findNodeBeforePosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodeAfter(e,n){return Ct.findNodeAfterPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodesBefore(e,n){return Ct.findNodesBeforePosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getAssignmentsBefore(e,n){let r=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),i=[],s=this.position(e,n);return s!=null&&r.forEach(a=>{Ct.isBefore(a.target,s)&&i.push(a)}),i}getAssignmentsAfter(e,n){let r=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),i=[],s=this.position(e,n);return s!=null&&r.forEach(a=>{Ct.isAfter(a.target,s)&&i.push(a)}),i}getNodesAfter(e,n){return Ct.findNodesAfterPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e,n){let r=this.getNodeBefore(e,n);return r==null?!1:zs.isPairedNode(r)}position(e,n){return this.doc.getDocumentParser().positionFromCursor(e,n)}charLeftAt(e,n){return this.doc.getDocumentParser().charLeftAtCursor(e,n)}charAt(e,n){return this.doc.getDocumentParser().charAtCursor(e,n)}charRightAt(e,n){return this.doc.getDocumentParser().charRightAtCursor(e,n)}wordLeftAt(e,n,r=4){return this.doc.getDocumentParser().wordLeftAtCursor(e,n,r)}wordRightAt(e,n,r=4){return this.doc.getDocumentParser().wordRightAtCursor(e,n,r)}wordAt(e,n,r=4){return this.doc.getDocumentParser().wordAtCursor(e,n,r)}punctuationLeftAt(e,n,r=4){return this.doc.getDocumentParser().punctuationLeftAtCursor(e,n,r)}punctuationRightAt(e,n,r=4){return this.doc.getDocumentParser().punctuationRightAtCursor(e,n,r)}};var _m=class{constructor(e){this.doc=e}hasStructureErrors(){return this.doc.getDocumentParser().getStructureErrors().length>0}getFirstStructureError(){return this.doc.getDocumentParser().getStructureErrors()[0]}hasAny(){return this.all().length>0}all(){let e=[],n=[];return this.doc.getAllAntlersNodes().forEach(r=>{r.getErrors().forEach(i=>{e.includes(i.hash())==!1&&(e.push(i.hash()),n.push(i))})}),this.doc.getDocumentParser().getAntlersErrors().forEach(r=>{e.includes(r.hash())==!1&&(e.push(r.hash()),n.push(r))}),n}};var wv=je(wm());var Fn=je(xv(),1),GJ=Fn.default.binaryOptions,YJ=Fn.default.boolOptions,HJ=Fn.default.intOptions,$J=Fn.default.nullOptions,KJ=Fn.default.strOptions,zJ=Fn.default.Schema,XJ=Fn.default.Alias,QJ=Fn.default.Collection,JJ=Fn.default.Merge,ZJ=Fn.default.Node,Rv=Fn.default.Pair,kl=Fn.default.Scalar,Ml=Fn.default.YAMLMap,Ao=Fn.default.YAMLSeq;var Om=class{constructor(e){this.documentScope=null;this.project=e}getKeyValue(e){return e instanceof kl?e.value:""}getNodeValue(e){return e instanceof kl?e.value:e instanceof Ml?this.analyzeDocument(e.items):e instanceof Ao?this.analyzeDocument(e.items):""}getScalarRuntimeType(e){return parseFloat(e).toString()==e||parseInt(e).toString()==e?"number":"string"}analyzeDocument(e){let n=new rr(this.project);return e.forEach(r=>{if(r instanceof Rv){let i=this.getKeyValue(r.key),s=this.getNodeValue(r.value);if(r.value instanceof kl)n.addVariable({dataType:this.getScalarRuntimeType(s),introducedBy:null,name:i,sourceField:null,sourceName:"*frontmatter"});else if(r.value instanceof Ao&&r.key instanceof kl){let a=new rr(this.project);r.value.items.forEach(o=>{let l=this.getNodeValue(o);a.addVariable({dataType:this.getScalarRuntimeType(l),introducedBy:null,name:o.value,sourceField:null,sourceName:"*frontmatter"})}),n.addScopeList(r.key.value,a)}else n.addScopeList(i,s)}}),n}parse(e){try{let n=wv.parseDocument(e);n.contents instanceof Ml&&(this.documentScope=this.analyzeDocument(n.contents.items))}catch{this.documentScope=null}}hasScope(){return this.documentScope!=null}getScope(){return this.documentScope}};var Fm=class{constructor(e){this.doc=e}getAncestors(e){return zs.findAncestorsBeforePosition(e,this.doc.getAllAntlersNodes())}getNodeAt(e){return Ct.findNodeAtPosition(e,this.doc.getDocumentParser().getNodes())}getNodesBefore(e){return Ct.findNodesBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeBefore(e){return Ct.findNodeBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeAfter(e){return Ct.findNodeAfterPosition(e,this.doc.getDocumentParser().getNodes())}getNodesAfter(e){return Ct.findNodesAfterPosition(e,this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e){let n=this.getNodeBefore(e);return n==null?!1:zs.isPairedNode(n)}filter(e){return this.doc.getDocumentParser().getNodes().filter(e)}getComments(){let e=[];return this.doc.getAllNodes().forEach(n=>{n instanceof z&&n.isComment&&e.push(n)}),e}getMultilineNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{var r,i;n instanceof z&&!n.isComment&&((r=n.startPosition)==null?void 0:r.line)!=((i=n.endPosition)==null?void 0:i.line)&&e.push(n)}),e}getMultiLineComments(){let e=[];return this.getComments().forEach(n=>{var r,i;((r=n.startPosition)==null?void 0:r.line)!=((i=n.endPosition)==null?void 0:i.line)&&e.push(n)}),e}getAllLiteralNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof gt||n instanceof ln)&&e.push(n)}),e}getStructuralNodes(){let e=[];return this.doc.getDocumentParser().getRenderNodes().forEach(n=>{n instanceof z?e.push(n):n instanceof Nn&&n.logicBranches.length>0&&n.logicBranches.forEach(r=>{if(r.head!=null){let i=r.head;i.originalNode!=null?e.push(i.originalNode):e.push(i)}})}),e}getAllRuntimeNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof $n||n instanceof z)&&n.runtimeNodes.length>0&&n.runtimeNodes.forEach(r=>{e.push(r)})}),e}getAllParameterNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof $n||n instanceof z)&&n.hasParameters&&n.parameters.forEach(r=>{e.push(r)})}),e}getAssignmentNodes(){return Ct.findAssignmentNodes(this.getAllRuntimeNodes())}};var Lm=class{constructor(e){this.doc=e}getAllSelfClosingNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{n instanceof z&&n.isSelfClosing&&e.push(n)}),e}getAllPairedNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof z||n instanceof ht)&&n.isClosedBy!=null&&!n.isSelfClosing&&e.push(n)}),e}};var df=class{static printComment(e,n,r){let i=e.getContent(),s=i.trim();if(s.includes(`
`)){let a=te.breakByNewLine(i.trim()),o=[];a.forEach(c=>{o.push(" ".repeat(n+r)+c.trim())});let l=o.join(`
`),u=`{{#
`;return u+=l,u+=`
`+" ".repeat(r)+"#}}",u}return"{{# "+s+" #}}"}};var ra=class{static indentRelative(e,n){let r=te.breakByNewLine(e),i=[];for(let o=0;o<r.length;o++)if(r[o].trim().length>0){i=r.slice(o);break}for(let o=i.length-1;o>=0&&i[o].trim().length==0;o--)i.pop();let s=-1,a="";for(let o=0;o<i.length;o++){let l=i[o],u=l.trimLeft(),c=l.length-u.length;(o==0||c<s)&&(s=c,a=l)}if(s>=0){let o=" ".repeat(n);for(let l=0;l<i.length;l++){let u=i[l];if(u.trim().length==0){i[l]="";continue}let c=u.substring(s);if(l==0){i[l]=u.trimLeft();continue}else i[l]=o+c.trimLeft()}}return i.join(`
`)}static shiftIndent(e,n,r=!1,i=4,s=!0){n<0&&(n=0);let a=te.breakByNewLine(e.trim()),o=[];for(let u=0;u<a.length;u++){if(u==0&&r){o.push(a[u]);continue}let c=a[u];o.push(" ".repeat(n)+c)}let l=o.join(`
`);if(s&&o.length>0&&n-i>i&&o[o.length-1].trim()==") }}"){a=te.breakByNewLine(l.trim()),o=[];for(let u=0;u<a.length;u++){if(u==0&&r){o.push(a[u]);continue}let c=a[u];if(u==a.length-1){o.push(c);break}o.push(" ".repeat(i)+c)}l=o.join(`
`)}return l}static shiftClean(e,n){let r=te.breakByNewLine(e),i=[],s=" ".repeat(n),a=!1;return r.forEach(o=>{o.trim().length>0&&(a=!0),!!a&&i.push(s+o)}),i.join(`
`)}static inferIndentLevel(e,n,r){let i=0,s=-1;for(let a=0;a<e.length;a++){let o=e[a];if(o.includes(n)){let l=o.trimLeft();i=o.length-l.length,s=a;break}}if(s>0)for(let a=s-1;a>=0;a--){let o=e[a],l=o.trim(),u=o.trimLeft(),c=o.length-l.length;if(u.length!=0&&c!=i&&c<i){let f=i-c;return{targetLevel:i,referenceLevel:c,sourceTabSize:f}}}return{targetLevel:i,referenceLevel:i,sourceTabSize:r}}static indent(e,n,r){let i=ra.inferIndentLevel(e,n,r);return" ".repeat(i.targetLevel)}};var km=class{constructor(e,n,r){this.buffer="";this.closeString="";this.relativeIndentSize=0;this.indentSeed=0;this.baseIndent=n,e.isInterpolationNode?(this.buffer="{",this.closeString="}"):(this.buffer="{{ ",e.isSelfClosing?this.closeString=" /}}":this.closeString=" }}"),r!=null&&r.trim().length>0&&(this.buffer+=r+" ")}setIndentSeed(e){return this.indentSeed=e,this}close(){return this.closeString==" }}"?this.buffer.endsWith(" ")?this.buffer+="}}":this.buffer+=this.closeString:this.buffer+=this.closeString,this}appendT(e){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer+=e,this}appendTS(e,n=!1){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer.endsWith("{")&&!n&&(e=e.trimStart()),this.buffer+=e,this}append(e){return this.buffer+=e,this}appendOS(e){return this.buffer.endsWith(" ")==!1&&this.buffer.endsWith("(")==!1&&this.buffer.endsWith("{")==!1&&this.buffer.endsWith("[")==!1&&this.buffer.endsWith(":")==!1&&(this.buffer+=" "),this.append(e)}appendS(e){let n="";return this.buffer.endsWith(" ")==!1&&(n+=" "),n+=e+" ",this.buffer+=n,this}indent(){let e=this.baseIndent;return e==0?e=1:e+=2,this.relativeIndentSize>0&&(e+=this.relativeIndentSize),this.buffer+=" ".repeat(e),this}addIndent(e){return e<=0?this:(this.buffer+=" ".repeat(e),this)}paramS(e){let n=" ";return e.isVariableReference&&(n+=":"),n+=e.name+"="+e.nameDelimiter+e.value+e.nameDelimiter,this.append(n),this}replace(e,n){return this.buffer=pr(this.buffer,e,n),this}relativeIndent(e){let n=this.buffer.split(`
`);if(n.length==0)return this;let r=n[n.length-1].trimEnd();return r.endsWith("(")&&(r=r.slice(0,-1)),r.endsWith(e)==!1?this:(this.relativeIndentSize=r.lastIndexOf(e),this)}newlineIndent(){return this.newLine(),this.indent(),this}newlineNDIndent(){return this.buffer=this.buffer.trimEnd(),this.newLine(),this.indent(),this}newLine(){return this.buffer+=`
`,this}getContent(){return this.buffer}endsWith(e){return this.buffer.endsWith(e)}};var Bl=class{static prettyPrintNode(e,n,r,i,s,a){var c,f,d,_,p,m,g;let o=e.getTrueRuntimeNodes(),l=0,u=0;if(o.length>0){let h=new km(e,r,s);a!=null&&h.setIndentSeed(a);let b=null;for(let x=0;x<o.length;x++){let D=o[x];if(b!=null&&((c=D.endPosition)==null?void 0:c.isBefore(b.startPosition)))continue;let G=!1;if(D instanceof Yt?!(D.next instanceof Yt)&&D.next!=null&&(!wt.isOperatorType(D.next)||!wt.isAssignmentOperator(D.next))&&(!(D.next instanceof un)&&!(D.next instanceof At)&&!D.isSwitchGroupMember&&!wt.isOperatorType(D.next)&&(G=!0,D.next instanceof Pe&&D.next.name=="as"&&(G=!1)),D.next instanceof hn&&(G=!1)):!((f=D.prev)==null?void 0:f.isVirtual)&&((d=D.prev)==null?void 0:d.isVirtualGroupOperatorResolve)&&D.prev.producesVirtualStatementTerminator&&D.next!=null&&(D.prev instanceof Pe||h.newlineIndent()),D instanceof Pe){if(D.convertedToOperator){if(D.name=="arr")h.appendT(" arr");else if(D.name=="switch"||D.name=="list")if(h.appendTS(" "+D.name,!0),x+1<o.length){if(!(o[x+1]instanceof Ht))break;h.append("("),D.name!="list"&&h.relativeIndent(D.name).newLine().indent(),x+=1,b=o[x+1];continue}else break;else if(u+=1,u>1)h.newlineNDIndent().indent().addIndent(6).appendS(D.name);else{if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(D)){h.append(D.name);continue}h.appendS(D.name)}b=D;continue}D.mergeRefName!=null&&D.mergeRefName.trim().length>0&&D.mergeRefName!=D.name?h.append(D.mergeRefName.trim()):D.name=="as"?h.appendOS("as"):h.append(D.name.trim())}else if(D instanceof Tr)if(h.appendTS(" list"),x+1<o.length){if(!(o[x+1]instanceof Ht))break;h.append("("),x+=1,b=o[x+1];continue}else break;else if(D instanceof hn)h.appendS("|");else if(D instanceof At){if(b!=null&&((_=D.startPosition)==null?void 0:_.isBefore(b.endPosition))||D.next instanceof Pe&&D.next.mergeRefName.startsWith(":"))continue;if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(D)){h.endsWith(":")||h.append(":");continue}if(D.prev!=null&&D.next!=null&&ct.distance(D.prev,D)<=1&&ct.distance(D.next,D)<=1){h.append(":"),b=D;continue}if(n.getDocumentParser().getLanguageParser().isActualModifierSeparator(D)){h.append(":"),b=D;continue}if(b instanceof tn||b instanceof $t){h.append(":"),b=D;continue}h.appendS(":")}else if(D instanceof tn)h.append(D.name);else if(D instanceof $r)h.appendS("?");else if(D instanceof Pn){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(D))continue;if(D.isTenaryBranchSeparator){h.appendS(":"),b=D;continue}if(n.getDocumentParser().getLanguageParser().isActualModifierSeparator(D)){h.append(":"),b=D;continue}h.append(":")}else if(D instanceof $t)h.append(D.value.trim());else if(D instanceof Ht)h.append("(");else if(D instanceof Yt)h.append(")");else if(D instanceof It){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(D))continue;D.sourceContent!=""?h.appendOS(D.sourceContent):h.appendOS(D.sourceTerminator+D.value+D.sourceTerminator)}else if(D instanceof Rt)D.isSwitchGroupMember?h.append(",").newlineIndent():h.append(", ");else if(D instanceof Mt){if(b=D,n.getDocumentParser().getLanguageParser().isMergedVariableComponent(D))continue;let q=(m=(p=D.value)==null?void 0:p.toString())!=null?m:"";D.rawLexContent!=null&&D.rawLexContent.trim().length>0&&(q=D.rawLexContent.trim()),h.append(q)}else if(D instanceof Qn)h.appendS("=");else if(D instanceof Dn)h.appendS("=>");else if(D instanceof Kn)h.appendS("+");else if(D instanceof Cn){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(D)){h.append("-");continue}if(D.prev!=null&&D.next!=null&&ct.distance(D.prev,D)<=1&&ct.distance(D.next,D)<=1){D.next instanceof Mt&&D.prev instanceof Mt?h.appendS("-"):h.append("-"),b=D;continue}h.appendS("-")}else if(D instanceof Xn)h.appendS("*");else if(D instanceof zn){if(b=D,(g=D.startPosition)==null?void 0:g.isBefore(e.nameEndsOn)){h.append("/");continue}if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(D))continue;h.appendS("/");continue}else D instanceof un?D.isListGroupMember?(h.append(";").newlineIndent().indent().addIndent(7),x+1<o.length&&!(o[x+1]instanceof Yt)&&h.indent()):(l+=1,l<i.maxAntlersStatementsPerLine?h.appendT("; "):(h.appendT(";").newlineIndent(),l=0)):D instanceof cn?D.content=="not"?h.appendS("not"):h.append("!"):h.appendS(D.rawContent());G&&h.newlineIndent(),b=D}e.hasParameters&&e.parameters.forEach(x=>{h.paramS(x)}),h.close();let y=h.getContent();return e.processedInterpolationRegions.size>0&&e.processedInterpolationRegions.forEach((x,D)=>{let G=Bl.prettyPrintNode(x[0],n,r,i,null,null);y=pr(y,D,G)}),y}return e.getTrueRawContent()}};var Vl=class{constructor(e){this.htmlFormatter=null;this.yamlFormatter=null;this.phpFormatter=null;this.slugs=[];this.removeLines=[];this.virtualStructureOpens=[];this.virtualStructureClose=[];this.structureLines=[];this.parentTransformer=null;this.tagPairs=new Map;this.conditions=[];this.inlineIfs=new Map;this.createExraStructuralPairs=!1;this.spanNodes=new Map;this.inlineNodes=new Map;this.virtualBlocks=[];this.inlineComments=new Map;this.blockComments=[];this.extractedEmbeddedDocuments=new Map;this.dynamicElementAntlers=new Map;this.dynamicElementAntlersNodes=new Map;this.dynamicElementPairedAntlers=new Map;this.dynamicElementPairedAntlersNodes=new Map;this.dynamicElementConditionAntlers=new Map;this.dynamicElementConditionAntlersNodes=new Map;this.noParses=new Map;this.forceBreaks=[];this.forceCleanLines=["{{ if ","{{ /if","{{ /unless","{{ /noparse","{{ else","{{ unless"];this.doc=e,this.options={tabSize:4,newlinesAfterFrontMatter:1,maxAntlersStatementsPerLine:3,endNewline:!0}}produceExtraStructuralPairs(e){return this.createExraStructuralPairs=e,this}withHtmlFormatter(e){return this.htmlFormatter=e,this}withYamlFormatter(e){return this.yamlFormatter=e,this}withPhpFormatter(e){return this.phpFormatter=e,this}withOptions(e){return this.options=e,this.options.tabSize<=0&&(this.options.tabSize=4),this.options.newlinesAfterFrontMatter<0&&(this.options.newlinesAfterFrontMatter=1),this}setParentTransformer(e){return this.parentTransformer=e,this}close(e){return"</"+e+">"}open(e){return"<"+e+">"}selfClosing(e){return"<"+e+" />"}pair(e,n=""){return"<"+e+">"+n+"</"+e+">"}makeSlug(e){e<=2&&(e=7);let n="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=r.length;for(let a=0;a<e-1;a++)n+=r.charAt(Math.floor(Math.random()*i));let s="A"+n+"A";return this.slugs.includes(s)?this.makeSlug(e+1):(this.slugs.push(s),s)}transformInlineConditions(e){let n=e;return this.inlineIfs.forEach((r,i)=>{n=n.replace(i,r.nodeContent)}),n}registerCondition(e){this.parentTransformer!=null?this.parentTransformer.registerCondition(e):this.conditions.push(e)}registerInlineCondition(e,n){this.parentTransformer!=null?this.parentTransformer.registerInlineCondition(e,n):this.inlineIfs.set(e,n)}registerVirtualBlock(e){this.parentTransformer!=null?this.parentTransformer.registerVirtualBlock(e):this.virtualBlocks.push(e)}registerNoParse(e,n){this.parentTransformer!=null?this.parentTransformer.registerNoParse(e,n):this.noParses.set(e,n)}prepareNoParse(e){let n=this.makeSlug(35);return this.registerNoParse(n,e),n}registerForcedBreak(){if(this.parentTransformer!=null)return this.parentTransformer.registerForcedBreak();{let e=this.makeSlug(15),n=this.makeSlug(10);return this.forceBreaks.push(e),this.forceBreaks.push(n),this.removeLines.push(this.open(e)),this.removeLines.push(this.close(e)),this.removeLines.push(this.selfClosing(n)),this.pair(e,this.selfClosing(n))}}transformVirtualStructures(e){let n=e;return this.virtualBlocks.forEach(r=>{var s;this.removeLines.push(r.pairClose);let i=this.indentLevel(r.pairOpen);if(r.virtualElement.length>0&&(this.removeLines.push(this.open(r.virtualElement)),this.removeLines.push(this.close(r.virtualElement))),r.node instanceof ln){let a="{{ noparse }}"+r.node.getInnerDocumentText();n=n.replace(r.pairOpen,a)}if(r.node instanceof z){let a=r.node;n=n.replace(r.pairClose,(s=a.isClosedBy)==null?void 0:s.getOriginalContent())}else this.removeLines.push(r.pairClose)}),this.noParses.forEach((r,i)=>{n=n.replace(i,`{{ noparse }}${r.getInnerDocumentText()}{{ /noparse }}`)}),n}printNode(e,n=null){var l,u;let r=e.getTrueNode();if((r.rawStart=="{{?"||r.rawStart=="{{$")&&this.phpFormatter!=null)try{let c=this.phpFormatter(r.content);return`${r.rawStart} ${c} ${r.rawEnd}`}catch{}let i=this.doc;e.childDocument!=null&&(i=e.childDocument.document);let s=null;if(Hn.isConditionalStructure(e)&&(s=r.runtimeName(),e.isClosingTag&&(s=="if"||s=="unless")))return`{{ /${s} }}`;if(e.isClosingTag)return r.runtimeName()=="endunless"?"{{ /unless }}":`{{ ${r.content.trim()} }}`;let a=Bl.prettyPrintNode(r,i,0,this.options,s,null),o=["switch","list"];return n!=null&&a.includes(`
`)&&(e.isVirtual&&(((l=e.name)==null?void 0:l.name)=="switch"||((u=e.name)==null?void 0:u.name)=="list")?a=ra.shiftIndent(a,n+this.options.tabSize,!0):a=ra.shiftIndent(a,n-this.options.tabSize*2,!0)),a}transformConditions(e){let n=e;return this.conditions.forEach(r=>{r.structures.forEach(i=>{let s=i.branch.head;if(i.virtualBreakOpen.length>0&&this.removeLines.push(i.virtualBreakOpen),i.virtualBreakClose.length>0&&(n=n.replace(i.virtualBreakClose,i.virtualBreakClose+`
`),this.removeLines.push(i.virtualBreakClose)),this.virtualStructureOpens.push(i.virtualOpen),this.removeLines.push(i.virtualOpen),this.removeLines.push(i.virtualClose),i.isLast){let a=this.selfClosing(i.virtualSlug);if(!n.includes(a)){let o="<"+i.virtualSlug+"(\\s)+\\/>",l=new RegExp(o,"gm");n=n.replace(l,a)}n.includes(a)&&(n=n.replace(a,i.doc.trim())),n=n.replace(i.pairOpen,this.printNode(s,this.indentLevel(i.pairOpen))),n=n.replace(i.pairClose,this.printNode(s.isClosedBy))}else{let a=this.selfClosing(i.virtualSlug);if(!n.includes(a)){let o="<"+i.virtualSlug+"(\\s)+\\/>",l=new RegExp(o,"gm");n=n.replace(l,a)}n.includes(a)&&(n=n.replace(a,i.doc.trim())),this.removeLines.push(i.pairClose),n=n.replace(i.pairOpen,this.printNode(s,this.indentLevel(i.pairOpen)))}})}),n}transformExtractedDocuments(e){let n=e;return this.extractedEmbeddedDocuments.forEach((r,i)=>{let s="",a=0;if(r.isScript?s="//"+i:s="/*"+i+"*/",a=this.indentLevel(s),n.includes(s)){let o="";r.content.includes("{{ /")||r.content.includes("{{/")?o=r.content.trim():o=ra.indentRelative(r.content,a),n=n.replace(s,o)}}),n}getAntlersChildDoc(e){return e.childDocument!=null?e.childDocument.document.transform().setParentTransformer(this).toStructure():this.clone().toStructure(e.getImmediateChildren())}prepareCondition(e){let n=e.logicBranches[0].head;if(n.fragmentPosition==2||n.fragmentPosition==1){let l=this.makeSlug(e.nodeContent.length);return this.registerInlineCondition(l,e),l}if(n.fragmentPosition==0)return this.prepareDynamicCondition(e);let r=[],i="";n.prev instanceof z&&n.prev.isInlineAntlers&&(i+=this.registerForcedBreak()),e.logicBranches.forEach((l,u)=>{var m,g,h,b;let c=l.head,f=this.getAntlersChildDoc(l),d=this.makeSlug(c.sourceContent.length),_=this.makeSlug(10),p={branch:l,slug:d,doc:f,pairOpen:this.open(d),pairClose:this.close(d),virtualOpen:this.open(_),virtualClose:this.close(_),virtualSlug:_,isFirst:u==0,isLast:u==e.logicBranches.length-1,virtualBreakClose:"",virtualBreakOpen:""};if(((g=(m=l.head)==null?void 0:m.name)==null?void 0:g.getCompoundTagName())=="else"){i+=`
`+p.pairOpen;let y=this.makeSlug(25);this.createExraStructuralPairs&&l.head.containsChildStructures==!1&&l.head.containsAnyFragments==!1?(p.virtualBreakOpen=this.open(y),p.virtualBreakClose=this.close(y),p.virtualSlug=y,i+=`
`+this.selfClosing(y),i+=p.pairClose+`
`):(p.virtualBreakOpen=this.selfClosing(y),i+=p.virtualBreakOpen+`
`,i+=f,i+=`
`+p.pairClose)}else if(this.createExraStructuralPairs&&((h=l.head)==null?void 0:h.containsAnyFragments)==!1&&((b=l.head)==null?void 0:b.containsChildStructures)==!1){let y=this.makeSlug(25);p.virtualBreakOpen=this.open(y),p.virtualBreakClose=this.close(y),p.virtualSlug=y,i+=`
`+p.pairOpen,i+=`
`+this.selfClosing(y),i+=p.pairClose+`
`}else i+=p.pairOpen,i+=`
`,i+=f,i+=`
`,i+=p.pairClose;r.push(p)});let s=r[0].pairOpen,a=r[r.length-1].pairClose,o={pairOpen:s,pairClose:a,structures:r,condition:e};return this.registerCondition(o),i}registerPairedAntlers(e,n){this.parentTransformer!=null?this.parentTransformer.registerPairedAntlers(e,n):this.tagPairs.set(e,n)}preparePairedAntlers(e){let n=this.makeSlug(e.getOriginalContent().length),r=this.getAntlersChildDoc(e);if(e.fragmentPosition!=0){let i="",s="";if(e.prev instanceof z&&e.prev.isPaired()==!1&&(s+=this.registerForcedBreak()),s+=`${this.open(n)}
`,e.containsChildStructures==!1&&e.containsAnyFragments==!1){let a=!1,o=!0,l=!0,u=0;for(let f=0;f<e.children.length;f++){let d=e.children[f];if(d instanceof gt&&d.sourceContent.trim().length>0){a=!0,o=!1;break}}e.children.length==2&&e.children[0]instanceof z&&(a=!0);let c=0;for(let f=0;f<e.children.length-1;f++){let d=e.children[f];d instanceof z&&(u+=1,d.isInlineAntlers?c+=1:l=!1)}c==0&&(a=!0),l==!1&&(a=!1),o==!1&&u==0&&(a=!1),a?(i=this.makeSlug(15),s+=this.pair(i,r)):s+=r}else s+=r;return s+=`
${this.close(n)}
`,this.virtualStructureOpens.push(this.open(i)),this.virtualStructureClose.push(this.close(i)),this.virtualStructureClose.push(this.close(n)),this.registerPairedAntlers(n,{innerDoc:r,slug:n,tag:e,virtualElementSlug:i,isInline:!1}),s}return this.prepareConditionalAntlersPair(e)}registerInlineAntlers(e){if(e.fragmentPosition==2&&(e.isInlineAntlers=!0),this.parentTransformer!=null)return this.parentTransformer.registerInlineAntlers(e);{let n=this.makeSlug(e.getOriginalContent().length);return e.isInlineAntlers?(this.spanNodes.set(n,e),n):(this.inlineNodes.set(n,e),this.selfClosing(n))}}registerVirtualComment(e){this.parentTransformer!=null?this.parentTransformer.registerVirtualComment(e):this.blockComments.push(e)}registerComment(e,n){this.parentTransformer!=null?this.parentTransformer.registerComment(e,n):this.inlineComments.set(e,n)}prepareComment(e){let n=e.getContent();if(n.trim().includes(`
`)){let s=this.makeSlug(10),a=this.makeSlug(10),o={node:e,pairOpen:this.open(s),pairClose:this.close(s),virtualElement:this.selfClosing(a)};return this.registerVirtualComment(o),o.pairOpen+`
`+o.virtualElement+`
`+o.pairClose}let i=this.makeSlug(n.length);return this.registerComment(i,e),this.selfClosing(i)}registerDynamicAntlersPair(e,n){this.parentTransformer!=null?(this.dynamicElementPairedAntlers.set(n.nodeContent,e),this.parentTransformer.registerDynamicAntlersPair(e,n)):(this.dynamicElementPairedAntlers.set(n.nodeContent,e),this.dynamicElementPairedAntlersNodes.set(e,n))}prepareConditionalAntlersPair(e){if(this.dynamicElementPairedAntlers.has(e.nodeContent))return this.dynamicElementPairedAntlers.get(e.nodeContent);let n=this.makeSlug(e.nodeContent.length);return this.registerDynamicAntlersPair(n,e),n}registerDynamicCondition(e,n){this.parentTransformer!=null?(this.dynamicElementConditionAntlers.set(n.nodeContent,e),this.parentTransformer.registerDynamicCondition(e,n)):(this.dynamicElementConditionAntlers.set(n.nodeContent,e),this.dynamicElementConditionAntlersNodes.set(e,n))}prepareDynamicCondition(e){if(this.dynamicElementConditionAntlers.has(e.nodeContent))return this.dynamicElementConditionAntlers.get(e.nodeContent);let n=this.makeSlug(e.nodeContent.length);return this.registerDynamicCondition(n,e),n}registerDynamicAntlers(e,n){this.parentTransformer!=null?(this.dynamicElementAntlers.set(n.content,e),this.parentTransformer.registerDynamicAntlers(e,n)):(this.dynamicElementAntlers.set(n.content,e),this.dynamicElementAntlersNodes.set(e,n))}prepareConditionalAntlers(e){if(this.dynamicElementAntlers.has(e.content))return this.dynamicElementAntlers.get(e.content);let n=this.makeSlug(e.content.length);return this.registerDynamicAntlers(n,e),n}prepareAntlers(e){return e.isClosedBy!=null?this.preparePairedAntlers(e):e.fragmentPosition==0?this.prepareConditionalAntlers(e):this.registerInlineAntlers(e)}transformDynamicAntlers(e){let n=e;return this.dynamicElementAntlersNodes.forEach((r,i)=>{let s=this.printNode(r);n=pr(n,i,s)}),this.dynamicElementPairedAntlersNodes.forEach((r,i)=>{let s=r.nodeContent;n=pr(n,i,s)}),this.dynamicElementConditionAntlersNodes.forEach((r,i)=>{let s=r.nodeContent;n=pr(n,i,s)}),n}transformPairedAntlers(e){let n=e;return this.tagPairs.forEach((r,i)=>{let s=r.tag;if(r.virtualElementSlug.length>0){let l=this.open(r.virtualElementSlug),u=this.close(r.virtualElementSlug);this.virtualStructureOpens.push(l),this.removeLines.push(l),this.removeLines.push(u)}let a=this.open(i),o=this.close(i);n=n.replace(a,this.printNode(s,this.indentLevel(a))),n=n.replace(o,this.printNode(s.isClosedBy))}),n}transformInlineAntlers(e){let n=e;return this.inlineNodes.forEach((r,i)=>{let s=this.selfClosing(i),a=this.indentLevel(s);n=n.replace(s,this.printNode(r,this.indentLevel(s)))}),this.spanNodes.forEach((r,i)=>{var a,o;let s=0;r.isVirtual&&(((a=r.name)==null?void 0:a.name)=="switch"||((o=r.name)==null?void 0:o.name)=="list")&&(s=this.indentLevel(i,!0)),n=n.replace(i,this.printNode(r,s))}),n}transformComments(e){let n=e;return this.inlineComments.forEach((r,i)=>{let s=this.selfClosing(i);n=n.replace(s,df.printComment(r,this.options.tabSize,0))}),this.blockComments.forEach(r=>{let i=r.node;n=n.replace(r.pairOpen,df.printComment(i,this.options.tabSize,this.indentLevel(r.pairOpen))),this.removeLines.push(r.pairClose),this.removeLines.push(r.virtualElement)}),n}registerEmbeddedDocument(e,n,r){return this.parentTransformer!=null?this.parentTransformer.registerEmbeddedDocument(e,n,r):(this.extractedEmbeddedDocuments.set(e,{slug:e,content:n,isScript:r}),e)}clone(){let e=new Vl(this.doc);return e.withOptions(this.options).setParentTransformer(this),e}toStructure(e=null){let n="";e==null&&(e=this.doc.getDocumentParser().getRenderNodes()),e.forEach(i=>{i instanceof gt?i.sourceContent==""?n+=i.content:n+=i.sourceContent:i instanceof Nn?n+=this.prepareCondition(i):i instanceof ln?n+=this.prepareNoParse(i):i instanceof z&&(i.isComment?n+=this.prepareComment(i):n+=this.prepareAntlers(i))});let r=this.doc.getDocumentParser().getFragmentsContainingStructures();if(r.length>0){let i=new Kt;i.loadString(n),r.forEach(s=>{var _,p,m,g,h,b,y,x;let a=this.doc.getDocumentParser().getText(((p=(_=s.start.endPosition)==null?void 0:_.offset)!=null?p:0)+1,(g=(m=s.end.startPosition)==null?void 0:m.offset)!=null?g:0),o=i.getDocumentParser().getFragmentsParser().getEmbeddedFragment(s.start.embeddedIndex);if(o==null)return;let l=i.getDocumentParser().getFragmentsParser().getClosingFragmentAfter(o);if(l==null)return;let u=i.getDocumentParser().getText(((b=(h=o.endPosition)==null?void 0:h.offset)!=null?b:0)+1,(x=(y=l==null?void 0:l.startPosition)==null?void 0:y.offset)!=null?x:0),c=this.makeSlug(16),f=s.start.name.toLowerCase()=="script",d=c;f?d="//"+c:d="/*"+c+"*/",n=n.replace(u,d),this.registerEmbeddedDocument(c,a,f)})}return n}removeVirtualStructures(e){let n=e;return this.removeLines.forEach(r=>{n=n.replace(r,"")}),n}indentLevel(e,n=!1){for(let r=0;r<this.structureLines.length;r++){let i=this.structureLines[r];if(i.includes(e)){let s=i.trimLeft(),a=i.length-s.length;return n&&(a+=i.indexOf(e)),a}}return 0}shouldCleanAfter(e){for(let n=0;n<this.removeLines.length;n++)if(e.startsWith(this.removeLines[n]))return!0;for(let n=0;n<this.forceCleanLines.length;n++)if(e.startsWith(this.forceCleanLines[n]))return!0;return!1}shouldCleanLine(e){for(let n=0;n<this.forceCleanLines.length;n++){let r=e.trim();if(e.startsWith(this.forceCleanLines[n])||r.startsWith("{{ /")&&r.endsWith("}}"))return!0}return!1}cleanVirtualStructures(e){let n=[],r=te.breakByNewLine(e),i=!1;for(let s=0;s<r.length;s++){let a=r[s].trim();if(i){if(a.length==0)continue;i=!1}else i=this.shouldCleanAfter(a);if(this.shouldCleanLine(a))for(let o=n.length-1;o>0&&n[o].trim().length==0;o--)n.pop();if(!this.removeLines.includes(a)){let o=r[s];this.removeLines.forEach(l=>{o.includes(l)&&(o=o.replace(l,""))}),n.push(o)}}return n.join(`
`)}cleanStructuralNewLines(e){let n=te.breakByNewLine(e),r=[],i=!1;return n.forEach(s=>{let a=s.trim();if(a.startsWith("{{")&&a.endsWith("}}")){r.push(s),i=!0;return}i&&a.length>0&&(i=!1),i||r.push(s)}),r.join(`
`)}reflowSlugs(e){let n=e;return this.slugs.forEach(r=>{let i=this.open(r),s=this.close(r),a=this.selfClosing(r),o="/<"+r+"(.*?)>/gms",l="/</"+r+"(.*?)>/gms",u="/<"+r+"(.*?)/>/gms";n=n.replace(o,i),n=n.replace(l,s),n=n.replace(u,a)}),n}cleanLines(e){let n=te.breakByNewLine(e),r=[],i=!1,s=0,a=!1;for(let o=0;o<n.length;o++){let l=n[o].trim(),u=n[o];if(l.startsWith("{{")&&l.endsWith("}}")){i&&(s=0),l.startsWith("{{ /")==!1?a=!0:a=!1,i=!0,r.push(u);continue}if(!i)r.push(u);else if(l.length==0){if(a==!1){s=0,i=!1;continue}s+=1;continue}else a&&s>1&&r.push(""),s=0,r.push(u),i=!1}return r.join(`
`)}fromStructure(e){let n=this.reflowSlugs(e);this.structureLines=te.breakByNewLine(n);let r=this.transformInlineConditions(n);if(r=this.transformConditions(r),r=this.transformInlineAntlers(r),r=this.transformComments(r),r=this.transformVirtualStructures(r),r=this.transformDynamicAntlers(r),r=this.transformPairedAntlers(r),r=this.transformExtractedDocuments(r),r=this.cleanVirtualStructures(r),r=this.cleanLines(r),this.doc.hasFrontMatter()){let i=this.doc.getFrontMatter(),s=this.doc.getFrontMatterDoc();s!=null&&s.isValid&&this.yamlFormatter!=null&&(i=this.yamlFormatter(i)),r=`---
${i}
---
`+`
`.repeat(this.options.newlinesAfterFrontMatter)+r.trimLeft()}return r=r.trimRight(),this.options.endNewline&&(r+=`
`),r}};var Ov=je(wm());var Mm=class{constructor(){this.content="";this.ranges=[];this.lastDocumentOffsetKey=null;this.documentOffsets=new Map;this.lineIndex=new Map;this.keys=[];this.values=[];this.isValid=!1;this.parseError=null}loadString(e){var c;this.content=te.normalizeLineEndings(e);let n=null;try{n=Ov.parseDocument(this.content),this.isValid=!0}catch(f){this.isValid=!1,this.parseError=f}if(n==null)return;let r=[...this.content.matchAll(/(\n)/gm)],i=r.length,s=2,a=null,o=0,l=0;for(let f=0;f<i;f++){let d=r[f],_=(c=d.index)!=null?c:0,p=_;a!=null?p=_-a:p=p+1,this.documentOffsets.set(_,{char:p,line:s});let m=0,g=0;f==0?(g=p-1,m=0):(m=l+1,g=_),this.lineIndex.set(s,{char:p,line:s,startIndex:m,endIndex:g}),this.lastDocumentOffsetKey=_,s+=1,a=_,l=g,o=m}let u=n.contents;this.processMap(u)}processMap(e){typeof e.items!="undefined"&&e.items.forEach(n=>{this.processItem(n)})}processItem(e){if(e.type=="PAIR"){if(e.value instanceof Ml||e.value instanceof Ao){let s=e.key;if(s.range!=null){let a=this.positionFromOffset(s.range[0],s.range[0]),o=this.positionFromOffset(s.range[1],s.range[1]);this.ranges.push({start:a,end:o,length:o.char-a.char+1,content:"property"}),this.keys.push({start:a,end:o,length:o.char-a.char+1,content:s.value}),e.value instanceof Ao?this.processMap(e.value.items[0]):this.processMap(e.value);return}}let n=e,r=n.key,i=n.value;if(r.range!=null&&i.range!=null){let s=this.positionFromOffset(r.range[0],r.range[0]),a=this.positionFromOffset(r.range[1],r.range[1]),o=this.positionFromOffset(i.range[0],i.range[0]),l=this.positionFromOffset(i.range[1],i.range[1]),u="string";parseInt(i.value)==i.value&&(u="number"),this.ranges.push({start:s,end:a,length:a.char-s.char+1,content:"property"}),this.keys.push({start:s,end:a,length:a.char-s.char+1,content:r.value}),this.ranges.push({start:o,end:l,length:l.char-o.char+1,content:u}),this.values.push({start:o,end:l,length:l.char-o.char+1,content:i.value})}}}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let o=this.documentOffsets.get(e);i=o.line,s=o.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let o=null,l=null,u=null,c=null;for(let f of this.documentOffsets.keys()){if(f>=e){c!=null&&e>c?(o=u,l=c):(o=this.documentOffsets.get(f),l=f);break}u=this.documentOffsets.get(f),c=f}if(o==null&&(o=u,l=c),o!=null)if(r){let f=this.content.split(""),d=e-(l!=null?l:0),_=o.char-(l!=null?l:0)+e;s=d,i=o.line,e<=(l!=null?l:0)?(i=o.line,s=e+1):i=o.line+1}else{let f=this.content.split(""),d=e-(l!=null?l:0),_=o.char-(l!=null?l:0)+e;s=d,i=o.line,e<=(l!=null?l:0)?(i=o.line,s=e+1):i=o.line+1}else this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new Ln;return a.index=n,a.offset=e,a.line=i,a.char=s,a}getRanges(){return this.ranges}getKeys(){return this.keys}getValues(){return this.values}};var Kt=class{constructor(){this.documentParser=new O;this.transformer=null;this.originalText="";this.ranges=new Lm(this);this.nodes=new Fm(this);this.cursor=new gm(this);this.errors=new _m(this);this.project=null;this.documentUri=""}static fromText(e,n){let r=new Kt;return typeof n!="undefined"&&(r.project=n),r.loadString(e)}static childFromText(e,n=null){let r=new Kt;return n!=null&&r.getDocumentParser().setSeedPosition(n),r.getDocumentParser().withChildDocuments(!0),r.loadString(e),{renderNodes:r.getDocumentParser().getRenderNodes(),content:e,document:r}}isValid(){return!(this.hasInvalidControlFlowStructures()||this.hasUnclosedStructures())}getDocumentOptions(){let e=this.getAllNodes();if(e.length==0||!(e[0]instanceof z))return null;let n=e[0];return n.isComment==!1?null:Go(this.documentUri,n)}isFormattingEnabled(){let e=this.getDocumentOptions();return e==null?!0:e.formatterEnabled}hasInvalidControlFlowStructures(){return this.documentParser.hasUnclosedIfStructures()}hasUnclosedStructures(){return this.documentParser.hasUnclosedStructures()}getFrontMatterDoc(){if(this.hasFrontMatter()){let e=new Mm;return e.loadString(this.getFrontMatter()),e}return null}hasFrontMatter(){return this.documentParser.getFrontMatter().trim().length>0}getFrontMatter(){return this.documentParser.getFrontMatter()}getFrontMatterScope(){if(this.project==null)return null;let e=new Om(this.project);return e.parse(this.getFrontMatter()),e.getScope()}updateProject(e){this.project=e,this.updateProjectDetails()}updateProjectDetails(){try{if(this.project!=null){let e=new Qd(this.project,this.documentUri,this),n=this.documentParser.antlersNodes();n.forEach(r=>{var i,s;if(this.project!=null&&((i=En.instance)==null?void 0:i.canResolveSpecialTypes(r.getTagName()))){let a=(s=En.instance)==null?void 0:s.resolveSpecialType(r.getTagName(),r,this.project);a.context!=null&&(r.reference=a.context)}}),e.analyzeScope(n);for(let r=0;r<n.length;r++){let i=n[r];if(i.hasParameters)for(let s=0;s<i.parameters.length;s++){let a=i.parameters[s];if(a.hasInterpolations())for(let o=0;o<a.interpolations.length;o++){let l=a.interpolations[o];i.processedInterpolationRegions.has(l)&&i.processedInterpolationRegions.get(l).forEach(c=>{c instanceof z&&(c.currentScope=i.currentScope)})}}}Rb(this)}}catch(e){console.log(e)}}loadString(e){return this.originalText=e,this.documentParser.parse(e),this.updateProjectDetails(),this}getDocumentParser(){return this.documentParser}getParsedContent(){return this.documentParser.getParsedContent()}getAllNodes(){return this.documentParser.getNodes()}getAllAntlersNodes(){return this.documentParser.antlersNodes()}extractText(){let e=[];return this.nodes.getAllLiteralNodes().forEach(n=>{e.push(n.content)}),e.join("")}getNameAt(e){let n=this.nodes.getNodeAt(e);return n instanceof z?n.name:null}getLinesAround(e){return this.documentParser.getLinesAround(e)}getContent(){return this.documentParser.getContent()}getOriginalContent(){return this.documentParser.getOriginalContent()}reloadDocument(){this.loadString(this.originalText)}getFeaturesAt(e){let n=this.nodes.getNodeAt(e);return qi.resolveContext(e,n,this,!1,n)}getText(e,n){return this.documentParser.getText(e,n)}charLeftAt(e){return this.documentParser.charLeftAt(e)}charAt(e){return this.documentParser.charAt(e)}charRightAt(e){return this.documentParser.charRightAt(e)}getLineIndex(e){return this.documentParser.getLineIndex(e)}getLineText(e){return this.documentParser.getLineText(e)}wordAt(e,n=4){return this.documentParser.wordAt(e,n)}wordLeftAt(e,n=4){return this.documentParser.wordLeftAt(e,n)}wordRightAt(e,n=4){return this.documentParser.wordRightAt(e,n)}punctuationLeftAt(e,n=4){return this.documentParser.punctuationLeftAt(e,n)}punctuationRightAt(e,n=4){return this.documentParser.punctuationRightAt(e,n)}getLineChars(e){let n=this.getLineText(e);return n!=null?n.split(""):null}transform(){return this.transformer==null&&(this.transformer=new Vl(this)),this.transformer}};var OO={checkNode(t){var i;let e=[];if(t.isClosedBy==null||t.parent==null||!(t.parent instanceof z))return e;let n=t.parent;if(n.isClosedBy==null)return e;let r=t.runtimeName();return r=="if"||r=="if:index"||r=="else"||r=="else:index"||r=="elseif"||r=="elseif:index"||r=="elseunless"||r=="elseunless:index"||((i=n.isClosedBy.startPosition)==null?void 0:i.isBefore(t.isClosedBy.endPosition))&&(e.push(K.makeSyntaxError(P.LINT_INTERLEAVED_TAG_PAIRS,t,"Closing tag cannot appear after parent closing tag.")),e.push(K.makeSyntaxError(P.LINT_INTERLEAVED_TAG_PAIRS,t.isClosedBy,"Closing tag cannot appear after parent closing tag."))),e}},Fv=OO;var Bm=class{constructor(){this.htmlFormatter=null;this.yamlFormatter=null;this.phpFormatter=null;this.preFormatter=null;this.transformOptions=null;this.createExtraVirtualStructures=!1}withTransformOptions(e){return this.transformOptions=e,this}withPreFormatter(e){return this.preFormatter=e,this}withHtmlFormatter(e){return this.htmlFormatter=e,this}withYamlFormatter(e){return this.yamlFormatter=e,this}withPhpFormatter(e){return this.phpFormatter=e,this}formatText(e,n){let r=new Kt;return r.getDocumentParser().withChildDocuments(!0),r.loadString(e),this.formatDocument(r,n)}formatDocument(e,n){if(!e.isFormattingEnabled())return e.getOriginalContent();if(this.preFormatter!=null){let a=this.preFormatter(e);if(a!=null)return a}let r=e.getAllAntlersNodes();for(let a=0;a<r.length;a++)if(Fv.checkNode(r[a],n).length>0)return e.getOriginalContent();if(this.htmlFormatter==null||e.isValid()==!1)return e.getOriginalContent();e.transform().produceExtraStructuralPairs(this.createExtraVirtualStructures).withHtmlFormatter(this.htmlFormatter).withPhpFormatter(this.phpFormatter).withYamlFormatter(this.yamlFormatter),this.transformOptions!=null&&e.transform().withOptions(this.transformOptions);let i=e.transform().toStructure(),s=this.htmlFormatter(i);return e.transform().fromStructure(s)}};function Lv(t){return typeof t=="undefined"||t===null}function FO(t){return typeof t=="object"&&t!==null}function LO(t){return Array.isArray(t)?t:Lv(t)?[]:[t]}function kO(t,e){var n,r,i,s;if(e)for(s=Object.keys(e),n=0,r=s.length;n<r;n+=1)i=s[n],t[i]=e[i];return t}function MO(t,e){var n="",r;for(r=0;r<e;r+=1)n+=t;return n}function BO(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var VO=Lv,qO=FO,jO=LO,UO=MO,WO=BO,GO=kO,Xt={isNothing:VO,isObject:qO,toArray:jO,repeat:UO,isNegativeZero:WO,extend:GO};function kv(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),r+" "+n):r}function ql(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=kv(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ql.prototype=Object.create(Error.prototype);ql.prototype.constructor=ql;ql.prototype.toString=function(e){return this.name+": "+kv(this,e)};var jn=ql;function Vm(t,e,n,r,i){var s="",a="",o=Math.floor(i/2)-1;return r-e>o&&(s=" ... ",e=r-o+s.length),n-r>o&&(a=" ...",n=r+o-a.length),{str:s+t.slice(e,n).replace(/\t/g,"\u2192")+a,pos:r-e+s.length}}function qm(t,e){return Xt.repeat(" ",e-t.length)+t}function YO(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],s,a=-1;s=n.exec(t.buffer);)i.push(s.index),r.push(s.index+s[0].length),t.position<=s.index&&a<0&&(a=r.length-2);a<0&&(a=r.length-1);var o="",l,u,c=Math.min(t.line+e.linesAfter,i.length).toString().length,f=e.maxLength-(e.indent+c+3);for(l=1;l<=e.linesBefore&&!(a-l<0);l++)u=Vm(t.buffer,r[a-l],i[a-l],t.position-(r[a]-r[a-l]),f),o=Xt.repeat(" ",e.indent)+qm((t.line-l+1).toString(),c)+" | "+u.str+`
`+o;for(u=Vm(t.buffer,r[a],i[a],t.position,f),o+=Xt.repeat(" ",e.indent)+qm((t.line+1).toString(),c)+" | "+u.str+`
`,o+=Xt.repeat("-",e.indent+c+3+u.pos)+`^
`,l=1;l<=e.linesAfter&&!(a+l>=i.length);l++)u=Vm(t.buffer,r[a+l],i[a+l],t.position-(r[a]-r[a+l]),f),o+=Xt.repeat(" ",e.indent)+qm((t.line+l+1).toString(),c)+" | "+u.str+`
`;return o.replace(/\n$/,"")}var HO=YO,$O=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],KO=["scalar","sequence","mapping"];function zO(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(r){e[String(r)]=n})}),e}function XO(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if($O.indexOf(n)===-1)throw new jn('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=zO(e.styleAliases||null),KO.indexOf(this.kind)===-1)throw new jn('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var yn=XO;function Mv(t,e){var n=[];return t[e].forEach(function(r){var i=n.length;n.forEach(function(s,a){s.tag===r.tag&&s.kind===r.kind&&s.multi===r.multi&&(i=a)}),n[i]=r}),n}function QO(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function r(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(r);return t}function jm(t){return this.extend(t)}jm.prototype.extend=function(e){var n=[],r=[];if(e instanceof yn)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new jn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof yn))throw new jn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new jn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new jn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(s){if(!(s instanceof yn))throw new jn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(jm.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=Mv(i,"implicit"),i.compiledExplicit=Mv(i,"explicit"),i.compiledTypeMap=QO(i.compiledImplicit,i.compiledExplicit),i};var JO=jm,ZO=new yn("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),e1=new yn("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),t1=new yn("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),n1=new JO({explicit:[ZO,e1,t1]});function r1(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function i1(){return null}function s1(t){return t===null}var a1=new yn("tag:yaml.org,2002:null",{kind:"scalar",resolve:r1,construct:i1,predicate:s1,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function o1(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function l1(t){return t==="true"||t==="True"||t==="TRUE"}function u1(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var c1=new yn("tag:yaml.org,2002:bool",{kind:"scalar",resolve:o1,construct:l1,predicate:u1,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function f1(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function p1(t){return 48<=t&&t<=55}function d1(t){return 48<=t&&t<=57}function m1(t){if(t===null)return!1;var e=t.length,n=0,r=!1,i;if(!e)return!1;if(i=t[n],(i==="-"||i==="+")&&(i=t[++n]),i==="0"){if(n+1===e)return!0;if(i=t[++n],i==="b"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!f1(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!p1(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<e;n++)if(i=t[n],i!=="_"){if(!d1(t.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function h1(t){var e=t,n=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function g1(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Xt.isNegativeZero(t)}var _1=new yn("tag:yaml.org,2002:int",{kind:"scalar",resolve:m1,construct:h1,predicate:g1,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),y1=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function b1(t){return!(t===null||!y1.test(t)||t[t.length-1]==="_")}function T1(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}var v1=/^[-+]?[0-9]+e/;function N1(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Xt.isNegativeZero(t))return"-0.0";return n=t.toString(10),v1.test(n)?n.replace("e",".e"):n}function C1(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Xt.isNegativeZero(t))}var P1=new yn("tag:yaml.org,2002:float",{kind:"scalar",resolve:b1,construct:T1,predicate:C1,represent:N1,defaultStyle:"lowercase"}),D1=n1.extend({implicit:[a1,c1,_1,P1]}),S1=D1,Bv=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Vv=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function A1(t){return t===null?!1:Bv.exec(t)!==null||Vv.exec(t)!==null}function I1(t){var e,n,r,i,s,a,o,l=0,u=null,c,f,d;if(e=Bv.exec(t),e===null&&(e=Vv.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(s=+e[4],a=+e[5],o=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(c=+e[10],f=+(e[11]||0),u=(c*60+f)*6e4,e[9]==="-"&&(u=-u)),d=new Date(Date.UTC(n,r,i,s,a,o,l)),u&&d.setTime(d.getTime()-u),d}function E1(t){return t.toISOString()}var x1=new yn("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:A1,construct:I1,instanceOf:Date,represent:E1});function R1(t){return t==="<<"||t===null}var w1=new yn("tag:yaml.org,2002:merge",{kind:"scalar",resolve:R1}),Um=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function O1(t){if(t===null)return!1;var e,n,r=0,i=t.length,s=Um;for(n=0;n<i;n++)if(e=s.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}function F1(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,s=Um,a=0,o=[];for(e=0;e<i;e++)e%4===0&&e&&(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)),a=a<<6|s.indexOf(r.charAt(e));return n=i%4*6,n===0?(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)):n===18?(o.push(a>>10&255),o.push(a>>2&255)):n===12&&o.push(a>>4&255),new Uint8Array(o)}function L1(t){var e="",n=0,r,i,s=t.length,a=Um;for(r=0;r<s;r++)r%3===0&&r&&(e+=a[n>>18&63],e+=a[n>>12&63],e+=a[n>>6&63],e+=a[n&63]),n=(n<<8)+t[r];return i=s%3,i===0?(e+=a[n>>18&63],e+=a[n>>12&63],e+=a[n>>6&63],e+=a[n&63]):i===2?(e+=a[n>>10&63],e+=a[n>>4&63],e+=a[n<<2&63],e+=a[64]):i===1&&(e+=a[n>>2&63],e+=a[n<<4&63],e+=a[64],e+=a[64]),e}function k1(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var M1=new yn("tag:yaml.org,2002:binary",{kind:"scalar",resolve:O1,construct:F1,predicate:k1,represent:L1}),B1=Object.prototype.hasOwnProperty,V1=Object.prototype.toString;function q1(t){if(t===null)return!0;var e=[],n,r,i,s,a,o=t;for(n=0,r=o.length;n<r;n+=1){if(i=o[n],a=!1,V1.call(i)!=="[object Object]")return!1;for(s in i)if(B1.call(i,s))if(!a)a=!0;else return!1;if(!a)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function j1(t){return t!==null?t:[]}var U1=new yn("tag:yaml.org,2002:omap",{kind:"sequence",resolve:q1,construct:j1}),W1=Object.prototype.toString;function G1(t){if(t===null)return!0;var e,n,r,i,s,a=t;for(s=new Array(a.length),e=0,n=a.length;e<n;e+=1){if(r=a[e],W1.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;s[e]=[i[0],r[i[0]]]}return!0}function Y1(t){if(t===null)return[];var e,n,r,i,s,a=t;for(s=new Array(a.length),e=0,n=a.length;e<n;e+=1)r=a[e],i=Object.keys(r),s[e]=[i[0],r[i[0]]];return s}var H1=new yn("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:G1,construct:Y1}),$1=Object.prototype.hasOwnProperty;function K1(t){if(t===null)return!0;var e,n=t;for(e in n)if($1.call(n,e)&&n[e]!==null)return!1;return!0}function z1(t){return t!==null?t:{}}var X1=new yn("tag:yaml.org,2002:set",{kind:"mapping",resolve:K1,construct:z1}),qv=S1.extend({implicit:[x1,w1],explicit:[M1,U1,H1,X1]}),vs=Object.prototype.hasOwnProperty,mf=1,jv=2,Uv=3,hf=4,Wm=1,Q1=2,Wv=3,J1=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Z1=/[\x85\u2028\u2029]/,eF=/[,\[\]\{\}]/,Gv=/^(?:!|!!|![a-z\-]+!)$/i,Yv=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Hv(t){return Object.prototype.toString.call(t)}function vi(t){return t===10||t===13}function ia(t){return t===9||t===32}function Un(t){return t===9||t===32||t===10||t===13}function Io(t){return t===44||t===91||t===93||t===123||t===125}function tF(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function nF(t){return t===120?2:t===117?4:t===85?8:0}function rF(t){return 48<=t&&t<=57?t-48:-1}function $v(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function iF(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var Kv=new Array(256),zv=new Array(256);for(sa=0;sa<256;sa++)Kv[sa]=$v(sa)?1:0,zv[sa]=$v(sa);var sa;function sF(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||qv,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Xv(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=HO(n),new jn(e,n)}function Ne(t,e){throw Xv(t,e)}function gf(t,e){t.onWarning&&t.onWarning.call(null,Xv(t,e))}var Qv={YAML:function(e,n,r){var i,s,a;e.version!==null&&Ne(e,"duplication of %YAML directive"),r.length!==1&&Ne(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&Ne(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),a=parseInt(i[2],10),s!==1&&Ne(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=a<2,a!==1&&a!==2&&gf(e,"unsupported YAML version of the document")},TAG:function(e,n,r){var i,s;r.length!==2&&Ne(e,"TAG directive accepts exactly two arguments"),i=r[0],s=r[1],Gv.test(i)||Ne(e,"ill-formed tag handle (first argument) of the TAG directive"),vs.call(e.tagMap,i)&&Ne(e,'there is a previously declared suffix for "'+i+'" tag handle'),Yv.test(s)||Ne(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{Ne(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s}};function Ns(t,e,n,r){var i,s,a,o;if(e<n){if(o=t.input.slice(e,n),r)for(i=0,s=o.length;i<s;i+=1)a=o.charCodeAt(i),a===9||32<=a&&a<=1114111||Ne(t,"expected valid JSON character");else J1.test(o)&&Ne(t,"the stream contains non-printable characters");t.result+=o}}function Jv(t,e,n,r){var i,s,a,o;for(Xt.isObject(n)||Ne(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),a=0,o=i.length;a<o;a+=1)s=i[a],vs.call(e,s)||(e[s]=n[s],r[s]=!0)}function Eo(t,e,n,r,i,s,a,o,l){var u,c;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,c=i.length;u<c;u+=1)Array.isArray(i[u])&&Ne(t,"nested arrays are not supported inside keys"),typeof i=="object"&&Hv(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&Hv(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,c=s.length;u<c;u+=1)Jv(t,e,s[u],n);else Jv(t,e,s,n);else!t.json&&!vs.call(n,i)&&vs.call(e,i)&&(t.line=a||t.line,t.lineStart=o||t.lineStart,t.position=l||t.position,Ne(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[i]=s,delete n[i];return e}function Gm(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):Ne(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function Ut(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);i!==0;){for(;ia(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(vi(i))for(Gm(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return n!==-1&&r!==0&&t.lineIndent<n&&gf(t,"deficient indentation"),r}function _f(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||Un(n)))}function Ym(t,e){e===1?t.result+=" ":e>1&&(t.result+=Xt.repeat(`
`,e-1))}function aF(t,e,n){var r,i,s,a,o,l,u,c,f=t.kind,d=t.result,_;if(_=t.input.charCodeAt(t.position),Un(_)||Io(_)||_===35||_===38||_===42||_===33||_===124||_===62||_===39||_===34||_===37||_===64||_===96||(_===63||_===45)&&(i=t.input.charCodeAt(t.position+1),Un(i)||n&&Io(i)))return!1;for(t.kind="scalar",t.result="",s=a=t.position,o=!1;_!==0;){if(_===58){if(i=t.input.charCodeAt(t.position+1),Un(i)||n&&Io(i))break}else if(_===35){if(r=t.input.charCodeAt(t.position-1),Un(r))break}else{if(t.position===t.lineStart&&_f(t)||n&&Io(_))break;if(vi(_))if(l=t.line,u=t.lineStart,c=t.lineIndent,Ut(t,!1,-1),t.lineIndent>=e){o=!0,_=t.input.charCodeAt(t.position);continue}else{t.position=a,t.line=l,t.lineStart=u,t.lineIndent=c;break}}o&&(Ns(t,s,a,!1),Ym(t,t.line-l),s=a=t.position,o=!1),ia(_)||(a=t.position+1),_=t.input.charCodeAt(++t.position)}return Ns(t,s,a,!1),t.result?!0:(t.kind=f,t.result=d,!1)}function oF(t,e){var n,r,i;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(Ns(t,r,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)r=t.position,t.position++,i=t.position;else return!0;else vi(n)?(Ns(t,r,i,!0),Ym(t,Ut(t,!1,e)),r=i=t.position):t.position===t.lineStart&&_f(t)?Ne(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);Ne(t,"unexpected end of the stream within a single quoted scalar")}function lF(t,e){var n,r,i,s,a,o;if(o=t.input.charCodeAt(t.position),o!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;(o=t.input.charCodeAt(t.position))!==0;){if(o===34)return Ns(t,n,t.position,!0),t.position++,!0;if(o===92){if(Ns(t,n,t.position,!0),o=t.input.charCodeAt(++t.position),vi(o))Ut(t,!1,e);else if(o<256&&Kv[o])t.result+=zv[o],t.position++;else if((a=nF(o))>0){for(i=a,s=0;i>0;i--)o=t.input.charCodeAt(++t.position),(a=tF(o))>=0?s=(s<<4)+a:Ne(t,"expected hexadecimal character");t.result+=iF(s),t.position++}else Ne(t,"unknown escape sequence");n=r=t.position}else vi(o)?(Ns(t,n,r,!0),Ym(t,Ut(t,!1,e)),n=r=t.position):t.position===t.lineStart&&_f(t)?Ne(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}Ne(t,"unexpected end of the stream within a double quoted scalar")}function uF(t,e){var n=!0,r,i,s,a=t.tag,o,l=t.anchor,u,c,f,d,_,p=Object.create(null),m,g,h,b;if(b=t.input.charCodeAt(t.position),b===91)c=93,_=!1,o=[];else if(b===123)c=125,_=!0,o={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),b=t.input.charCodeAt(++t.position);b!==0;){if(Ut(t,!0,e),b=t.input.charCodeAt(t.position),b===c)return t.position++,t.tag=a,t.anchor=l,t.kind=_?"mapping":"sequence",t.result=o,!0;n?b===44&&Ne(t,"expected the node content, but found ','"):Ne(t,"missed comma between flow collection entries"),g=m=h=null,f=d=!1,b===63&&(u=t.input.charCodeAt(t.position+1),Un(u)&&(f=d=!0,t.position++,Ut(t,!0,e))),r=t.line,i=t.lineStart,s=t.position,xo(t,e,mf,!1,!0),g=t.tag,m=t.result,Ut(t,!0,e),b=t.input.charCodeAt(t.position),(d||t.line===r)&&b===58&&(f=!0,b=t.input.charCodeAt(++t.position),Ut(t,!0,e),xo(t,e,mf,!1,!0),h=t.result),_?Eo(t,o,p,g,m,h,r,i,s):f?o.push(Eo(t,null,p,g,m,h,r,i,s)):o.push(m),Ut(t,!0,e),b=t.input.charCodeAt(t.position),b===44?(n=!0,b=t.input.charCodeAt(++t.position)):n=!1}Ne(t,"unexpected end of the stream within a flow collection")}function cF(t,e){var n,r,i=Wm,s=!1,a=!1,o=e,l=0,u=!1,c,f;if(f=t.input.charCodeAt(t.position),f===124)r=!1;else if(f===62)r=!0;else return!1;for(t.kind="scalar",t.result="";f!==0;)if(f=t.input.charCodeAt(++t.position),f===43||f===45)Wm===i?i=f===43?Wv:Q1:Ne(t,"repeat of a chomping mode identifier");else if((c=rF(f))>=0)c===0?Ne(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?Ne(t,"repeat of an indentation width identifier"):(o=e+c-1,a=!0);else break;if(ia(f)){do f=t.input.charCodeAt(++t.position);while(ia(f));if(f===35)do f=t.input.charCodeAt(++t.position);while(!vi(f)&&f!==0)}for(;f!==0;){for(Gm(t),t.lineIndent=0,f=t.input.charCodeAt(t.position);(!a||t.lineIndent<o)&&f===32;)t.lineIndent++,f=t.input.charCodeAt(++t.position);if(!a&&t.lineIndent>o&&(o=t.lineIndent),vi(f)){l++;continue}if(t.lineIndent<o){i===Wv?t.result+=Xt.repeat(`
`,s?1+l:l):i===Wm&&s&&(t.result+=`
`);break}for(r?ia(f)?(u=!0,t.result+=Xt.repeat(`
`,s?1+l:l)):u?(u=!1,t.result+=Xt.repeat(`
`,l+1)):l===0?s&&(t.result+=" "):t.result+=Xt.repeat(`
`,l):t.result+=Xt.repeat(`
`,s?1+l:l),s=!0,a=!0,l=0,n=t.position;!vi(f)&&f!==0;)f=t.input.charCodeAt(++t.position);Ns(t,n,t.position,!1)}return!0}function Zv(t,e){var n,r=t.tag,i=t.anchor,s=[],a,o=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Ne(t,"tab characters must not be used in indentation")),!(l!==45||(a=t.input.charCodeAt(t.position+1),!Un(a))));){if(o=!0,t.position++,Ut(t,!0,-1)&&t.lineIndent<=e){s.push(null),l=t.input.charCodeAt(t.position);continue}if(n=t.line,xo(t,e,Uv,!1,!0),s.push(t.result),Ut(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&l!==0)Ne(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return o?(t.tag=r,t.anchor=i,t.kind="sequence",t.result=s,!0):!1}function fF(t,e,n){var r,i,s,a,o,l,u=t.tag,c=t.anchor,f={},d=Object.create(null),_=null,p=null,m=null,g=!1,h=!1,b;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=f),b=t.input.charCodeAt(t.position);b!==0;){if(!g&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Ne(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),s=t.line,(b===63||b===58)&&Un(r))b===63?(g&&(Eo(t,f,d,_,p,null,a,o,l),_=p=m=null),h=!0,g=!0,i=!0):g?(g=!1,i=!0):Ne(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,b=r;else{if(a=t.line,o=t.lineStart,l=t.position,!xo(t,n,jv,!1,!0))break;if(t.line===s){for(b=t.input.charCodeAt(t.position);ia(b);)b=t.input.charCodeAt(++t.position);if(b===58)b=t.input.charCodeAt(++t.position),Un(b)||Ne(t,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(Eo(t,f,d,_,p,null,a,o,l),_=p=m=null),h=!0,g=!1,i=!1,_=t.tag,p=t.result;else if(h)Ne(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=u,t.anchor=c,!0}else if(h)Ne(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=u,t.anchor=c,!0}if((t.line===s||t.lineIndent>e)&&(g&&(a=t.line,o=t.lineStart,l=t.position),xo(t,e,hf,!0,i)&&(g?p=t.result:m=t.result),g||(Eo(t,f,d,_,p,m,a,o,l),_=p=m=null),Ut(t,!0,-1),b=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&b!==0)Ne(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return g&&Eo(t,f,d,_,p,null,a,o,l),h&&(t.tag=u,t.anchor=c,t.kind="mapping",t.result=f),h}function pF(t){var e,n=!1,r=!1,i,s,a;if(a=t.input.charCodeAt(t.position),a!==33)return!1;if(t.tag!==null&&Ne(t,"duplication of a tag property"),a=t.input.charCodeAt(++t.position),a===60?(n=!0,a=t.input.charCodeAt(++t.position)):a===33?(r=!0,i="!!",a=t.input.charCodeAt(++t.position)):i="!",e=t.position,n){do a=t.input.charCodeAt(++t.position);while(a!==0&&a!==62);t.position<t.length?(s=t.input.slice(e,t.position),a=t.input.charCodeAt(++t.position)):Ne(t,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!Un(a);)a===33&&(r?Ne(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),Gv.test(i)||Ne(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),a=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),eF.test(s)&&Ne(t,"tag suffix cannot contain flow indicator characters")}s&&!Yv.test(s)&&Ne(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{Ne(t,"tag name is malformed: "+s)}return n?t.tag=s:vs.call(t.tagMap,i)?t.tag=t.tagMap[i]+s:i==="!"?t.tag="!"+s:i==="!!"?t.tag="tag:yaml.org,2002:"+s:Ne(t,'undeclared tag handle "'+i+'"'),!0}function dF(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&Ne(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!Un(n)&&!Io(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&Ne(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function mF(t){var e,n,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!Un(r)&&!Io(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&Ne(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),vs.call(t.anchorMap,n)||Ne(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],Ut(t,!0,-1),!0}function xo(t,e,n,r,i){var s,a,o,l=1,u=!1,c=!1,f,d,_,p,m,g;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=a=o=hf===n||Uv===n,r&&Ut(t,!0,-1)&&(u=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;pF(t)||dF(t);)Ut(t,!0,-1)?(u=!0,o=s,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):o=!1;if(o&&(o=u||i),(l===1||hf===n)&&(mf===n||jv===n?m=e:m=e+1,g=t.position-t.lineStart,l===1?o&&(Zv(t,g)||fF(t,g,m))||uF(t,m)?c=!0:(a&&cF(t,m)||oF(t,m)||lF(t,m)?c=!0:mF(t)?(c=!0,(t.tag!==null||t.anchor!==null)&&Ne(t,"alias node should not have any properties")):aF(t,m,mf===n)&&(c=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(c=o&&Zv(t,g))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&Ne(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),f=0,d=t.implicitTypes.length;f<d;f+=1)if(p=t.implicitTypes[f],p.resolve(t.result)){t.result=p.construct(t.result),t.tag=p.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(vs.call(t.typeMap[t.kind||"fallback"],t.tag))p=t.typeMap[t.kind||"fallback"][t.tag];else for(p=null,_=t.typeMap.multi[t.kind||"fallback"],f=0,d=_.length;f<d;f+=1)if(t.tag.slice(0,_[f].tag.length)===_[f].tag){p=_[f];break}p||Ne(t,"unknown tag !<"+t.tag+">"),t.result!==null&&p.kind!==t.kind&&Ne(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+p.kind+'", not "'+t.kind+'"'),p.resolve(t.result,t.tag)?(t.result=p.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):Ne(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||c}function hF(t){var e=t.position,n,r,i,s=!1,a;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(a=t.input.charCodeAt(t.position))!==0&&(Ut(t,!0,-1),a=t.input.charCodeAt(t.position),!(t.lineIndent>0||a!==37));){for(s=!0,a=t.input.charCodeAt(++t.position),n=t.position;a!==0&&!Un(a);)a=t.input.charCodeAt(++t.position);for(r=t.input.slice(n,t.position),i=[],r.length<1&&Ne(t,"directive name must not be less than one character in length");a!==0;){for(;ia(a);)a=t.input.charCodeAt(++t.position);if(a===35){do a=t.input.charCodeAt(++t.position);while(a!==0&&!vi(a));break}if(vi(a))break;for(n=t.position;a!==0&&!Un(a);)a=t.input.charCodeAt(++t.position);i.push(t.input.slice(n,t.position))}a!==0&&Gm(t),vs.call(Qv,r)?Qv[r](t,r,i):gf(t,'unknown document directive "'+r+'"')}if(Ut(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,Ut(t,!0,-1)):s&&Ne(t,"directives end mark is expected"),xo(t,t.lineIndent-1,hf,!1,!0),Ut(t,!0,-1),t.checkLineBreaks&&Z1.test(t.input.slice(e,t.position))&&gf(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&_f(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,Ut(t,!0,-1));return}if(t.position<t.length-1)Ne(t,"end of the stream or a document separator is expected");else return}function eN(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new sF(t,e),r=t.indexOf("\0");for(r!==-1&&(n.position=r,Ne(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)hF(n);return n.documents}function gF(t,e,n){e!==null&&typeof e=="object"&&typeof n=="undefined"&&(n=e,e=null);var r=eN(t,n);if(typeof e!="function")return r;for(var i=0,s=r.length;i<s;i+=1)e(r[i])}function _F(t,e){var n=eN(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new jn("expected a single document in the stream, but found more")}}var yF=gF,bF=_F,tN={loadAll:yF,load:bF},nN=Object.prototype.toString,rN=Object.prototype.hasOwnProperty,Hm=65279,TF=9,jl=10,vF=13,NF=32,CF=33,PF=34,$m=35,DF=37,SF=38,AF=39,IF=42,iN=44,EF=45,yf=58,xF=61,RF=62,wF=63,OF=64,sN=91,aN=93,FF=96,oN=123,LF=124,lN=125,bn={};bn[0]="\\0";bn[7]="\\a";bn[8]="\\b";bn[9]="\\t";bn[10]="\\n";bn[11]="\\v";bn[12]="\\f";bn[13]="\\r";bn[27]="\\e";bn[34]='\\"';bn[92]="\\\\";bn[133]="\\N";bn[160]="\\_";bn[8232]="\\L";bn[8233]="\\P";var kF=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],MF=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function BF(t,e){var n,r,i,s,a,o,l;if(e===null)return{};for(n={},r=Object.keys(e),i=0,s=r.length;i<s;i+=1)a=r[i],o=String(e[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),l=t.compiledTypeMap.fallback[a],l&&rN.call(l.styleAliases,o)&&(o=l.styleAliases[o]),n[a]=o;return n}function VF(t){var e,n,r;if(e=t.toString(16).toUpperCase(),t<=255)n="x",r=2;else if(t<=65535)n="u",r=4;else if(t<=4294967295)n="U",r=8;else throw new jn("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+Xt.repeat("0",r-e.length)+e}var qF=1,Ul=2;function jF(t){this.schema=t.schema||qv,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=Xt.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=BF(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?Ul:qF,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function uN(t,e){for(var n=Xt.repeat(" ",e),r=0,i=-1,s="",a,o=t.length;r<o;)i=t.indexOf(`
`,r),i===-1?(a=t.slice(r),r=o):(a=t.slice(r,i+1),r=i+1),a.length&&a!==`
`&&(s+=n),s+=a;return s}function Km(t,e){return`
`+Xt.repeat(" ",t.indent*e)}function UF(t,e){var n,r,i;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(i=t.implicitTypes[n],i.resolve(e))return!0;return!1}function bf(t){return t===NF||t===TF}function Wl(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==Hm||65536<=t&&t<=1114111}function cN(t){return Wl(t)&&t!==Hm&&t!==vF&&t!==jl}function fN(t,e,n){var r=cN(t),i=r&&!bf(t);return(n?r:r&&t!==iN&&t!==sN&&t!==aN&&t!==oN&&t!==lN)&&t!==$m&&!(e===yf&&!i)||cN(e)&&!bf(e)&&t===$m||e===yf&&i}function WF(t){return Wl(t)&&t!==Hm&&!bf(t)&&t!==EF&&t!==wF&&t!==yf&&t!==iN&&t!==sN&&t!==aN&&t!==oN&&t!==lN&&t!==$m&&t!==SF&&t!==IF&&t!==CF&&t!==LF&&t!==xF&&t!==RF&&t!==AF&&t!==PF&&t!==DF&&t!==OF&&t!==FF}function GF(t){return!bf(t)&&t!==yf}function Gl(t,e){var n=t.charCodeAt(e),r;return n>=55296&&n<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function pN(t){var e=/^\n* /;return e.test(t)}var dN=1,zm=2,mN=3,hN=4,Ro=5;function YF(t,e,n,r,i,s,a,o){var l,u=0,c=null,f=!1,d=!1,_=r!==-1,p=-1,m=WF(Gl(t,0))&&GF(Gl(t,t.length-1));if(e||a)for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=Gl(t,l),!Wl(u))return Ro;m=m&&fN(u,c,o),c=u}else{for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=Gl(t,l),u===jl)f=!0,_&&(d=d||l-p-1>r&&t[p+1]!==" ",p=l);else if(!Wl(u))return Ro;m=m&&fN(u,c,o),c=u}d=d||_&&l-p-1>r&&t[p+1]!==" "}return!f&&!d?m&&!a&&!i(t)?dN:s===Ul?Ro:zm:n>9&&pN(t)?Ro:a?s===Ul?Ro:zm:d?hN:mN}function HF(t,e,n,r,i){t.dump=function(){if(e.length===0)return t.quotingType===Ul?'""':"''";if(!t.noCompatMode&&(kF.indexOf(e)!==-1||MF.test(e)))return t.quotingType===Ul?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,n),a=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),o=r||t.flowLevel>-1&&n>=t.flowLevel;function l(u){return UF(t,u)}switch(YF(e,o,t.indent,a,l,t.quotingType,t.forceQuotes&&!r,i)){case dN:return e;case zm:return"'"+e.replace(/'/g,"''")+"'";case mN:return"|"+gN(e,t.indent)+_N(uN(e,s));case hN:return">"+gN(e,t.indent)+_N(uN($F(e,a),s));case Ro:return'"'+KF(e)+'"';default:throw new jn("impossible error: invalid scalar style")}}()}function gN(t,e){var n=pN(t)?String(e):"",r=t[t.length-1]===`
`,i=r&&(t[t.length-2]===`
`||t===`
`),s=i?"+":r?"":"-";return n+s+`
`}function _N(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function $F(t,e){for(var n=/(\n+)([^\n]*)/g,r=function(){var u=t.indexOf(`
`);return u=u!==-1?u:t.length,n.lastIndex=u,yN(t.slice(0,u),e)}(),i=t[0]===`
`||t[0]===" ",s,a;a=n.exec(t);){var o=a[1],l=a[2];s=l[0]===" ",r+=o+(!i&&!s&&l!==""?`
`:"")+yN(l,e),i=s}return r}function yN(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,r,i=0,s,a=0,o=0,l="";r=n.exec(t);)o=r.index,o-i>e&&(s=a>i?a:o,l+=`
`+t.slice(i,s),i=s+1),a=o;return l+=`
`,t.length-i>e&&a>i?l+=t.slice(i,a)+`
`+t.slice(a+1):l+=t.slice(i),l.slice(1)}function KF(t){for(var e="",n=0,r,i=0;i<t.length;n>=65536?i+=2:i++)n=Gl(t,i),r=bn[n],!r&&Wl(n)?(e+=t[i],n>=65536&&(e+=t[i+1])):e+=r||VF(n);return e}function zF(t,e,n){var r="",i=t.tag,s,a,o;for(s=0,a=n.length;s<a;s+=1)o=n[s],t.replacer&&(o=t.replacer.call(n,String(s),o)),(Ui(t,e,o,!1,!1)||typeof o=="undefined"&&Ui(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=i,t.dump="["+r+"]"}function bN(t,e,n,r){var i="",s=t.tag,a,o,l;for(a=0,o=n.length;a<o;a+=1)l=n[a],t.replacer&&(l=t.replacer.call(n,String(a),l)),(Ui(t,e+1,l,!0,!0,!1,!0)||typeof l=="undefined"&&Ui(t,e+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=Km(t,e)),t.dump&&jl===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=s,t.dump=i||"[]"}function XF(t,e,n){var r="",i=t.tag,s=Object.keys(n),a,o,l,u,c;for(a=0,o=s.length;a<o;a+=1)c="",r!==""&&(c+=", "),t.condenseFlow&&(c+='"'),l=s[a],u=n[l],t.replacer&&(u=t.replacer.call(n,l,u)),!!Ui(t,e,l,!1,!1)&&(t.dump.length>1024&&(c+="? "),c+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),!!Ui(t,e,u,!1,!1)&&(c+=t.dump,r+=c));t.tag=i,t.dump="{"+r+"}"}function QF(t,e,n,r){var i="",s=t.tag,a=Object.keys(n),o,l,u,c,f,d;if(t.sortKeys===!0)a.sort();else if(typeof t.sortKeys=="function")a.sort(t.sortKeys);else if(t.sortKeys)throw new jn("sortKeys must be a boolean or a function");for(o=0,l=a.length;o<l;o+=1)d="",(!r||i!=="")&&(d+=Km(t,e)),u=a[o],c=n[u],t.replacer&&(c=t.replacer.call(n,u,c)),!!Ui(t,e+1,u,!0,!0,!0)&&(f=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,f&&(t.dump&&jl===t.dump.charCodeAt(0)?d+="?":d+="? "),d+=t.dump,f&&(d+=Km(t,e)),!!Ui(t,e+1,c,!0,f)&&(t.dump&&jl===t.dump.charCodeAt(0)?d+=":":d+=": ",d+=t.dump,i+=d));t.tag=s,t.dump=i||"{}"}function TN(t,e,n){var r,i,s,a,o,l;for(i=n?t.explicitTypes:t.implicitTypes,s=0,a=i.length;s<a;s+=1)if(o=i[s],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof e=="object"&&e instanceof o.instanceOf)&&(!o.predicate||o.predicate(e))){if(n?o.multi&&o.representName?t.tag=o.representName(e):t.tag=o.tag:t.tag="?",o.represent){if(l=t.styleMap[o.tag]||o.defaultStyle,nN.call(o.represent)==="[object Function]")r=o.represent(e,l);else if(rN.call(o.represent,l))r=o.represent[l](e,l);else throw new jn("!<"+o.tag+'> tag resolver accepts not "'+l+'" style');t.dump=r}return!0}return!1}function Ui(t,e,n,r,i,s,a){t.tag=null,t.dump=n,TN(t,n,!1)||TN(t,n,!0);var o=nN.call(t.dump),l=r,u;r&&(r=t.flowLevel<0||t.flowLevel>e);var c=o==="[object Object]"||o==="[object Array]",f,d;if(c&&(f=t.duplicates.indexOf(n),d=f!==-1),(t.tag!==null&&t.tag!=="?"||d||t.indent!==2&&e>0)&&(i=!1),d&&t.usedDuplicates[f])t.dump="*ref_"+f;else{if(c&&d&&!t.usedDuplicates[f]&&(t.usedDuplicates[f]=!0),o==="[object Object]")r&&Object.keys(t.dump).length!==0?(QF(t,e,t.dump,i),d&&(t.dump="&ref_"+f+t.dump)):(XF(t,e,t.dump),d&&(t.dump="&ref_"+f+" "+t.dump));else if(o==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!a&&e>0?bN(t,e-1,t.dump,i):bN(t,e,t.dump,i),d&&(t.dump="&ref_"+f+t.dump)):(zF(t,e,t.dump),d&&(t.dump="&ref_"+f+" "+t.dump));else if(o==="[object String]")t.tag!=="?"&&HF(t,t.dump,e,s,l);else{if(o==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new jn("unacceptable kind of an object to dump "+o)}t.tag!==null&&t.tag!=="?"&&(u=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",t.dump=u+" "+t.dump)}return!0}function JF(t,e){var n=[],r=[],i,s;for(Xm(t,n,r),i=0,s=r.length;i<s;i+=1)e.duplicates.push(n[r[i]]);e.usedDuplicates=new Array(s)}function Xm(t,e,n){var r,i,s;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(e.push(t),Array.isArray(t))for(i=0,s=t.length;i<s;i+=1)Xm(t[i],e,n);else for(r=Object.keys(t),i=0,s=r.length;i<s;i+=1)Xm(t[r[i]],e,n)}function ZF(t,e){e=e||{};var n=new jF(e);n.noRefs||JF(t,n);var r=t;return n.replacer&&(r=n.replacer.call({"":r},"",r)),Ui(n,0,r,!0,!0)?n.dump+`
`:""}var eL=ZF,tL={dump:eL};function Qm(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var vN=tN.load,hee=tN.loadAll,NN=tL.dump;var gee=Qm("safeLoad","load"),_ee=Qm("safeLoadAll","loadAll"),yee=Qm("safeDump","dump");var Jm=class{static formatFrontMatter(e){try{let n=vN(e,{}),r=NN(n,{indent:2,noArrayIndent:!1,condenseFlow:!1,forceQuotes:!0,noRefs:!0,skipInvalid:!0});return r.endsWith(`
`)&&(r=r.trimEnd()),r}catch{return e}}};function Wn(t,e,n){if(t&&t.hasOwnProperty(e)){let r=t[e];if(r!==null)return r}return n}function CN(t,e,n){let r=Wn(t,e,null);return typeof r=="string"?r.length>0?r.split(",").map(i=>i.trim().toLowerCase()):[]:n}var ak=PC().html,xf=class extends Bm{constructor(e){super();this.options=e,this.withHtmlFormatter(this.formatHtml).withYamlFormatter(Jm.formatFrontMatter).withTransformOptions({endNewline:Wn(e.htmlOptions,"endWithNewline",!1),maxAntlersStatementsPerLine:e.maxStatementsPerLine,newlinesAfterFrontMatter:1,tabSize:e.tabSize})}formatHtml(e){var n;return ak(e,{indent_size:this.options.tabSize,indent_char:this.options.insertSpaces?" ":"	",indent_empty_lines:Wn(this.options.htmlOptions,"indentEmptyLines",!1),wrap_line_length:Wn(this.options.htmlOptions,"wrapLineLength",120),unformatted:(n=CN(this.options.htmlOptions,"unformatted",[]))!=null?n:[],content_unformatted:[],indent_inner_html:Wn(this.options.htmlOptions,"indentInnerHtml",!1),preserve_newlines:Wn(this.options.htmlOptions,"preserveNewLines",!0),max_preserve_newlines:Wn(this.options.htmlOptions,"maxPreserveNewLines",32786),indent_handlebars:Wn(this.options.htmlOptions,"indentHandlebars",!1),end_with_newline:Wn(this.options.htmlOptions,"endWithNewline",!1),extra_liners:[],wrap_attributes:Wn(this.options.htmlOptions,"wrapAttributes","auto"),wrap_attributes_indent_size:Wn(this.options.htmlOptions,"wrapAttributesIndentSize",void 0),eol:`
`,indent_scripts:Wn(this.options.htmlOptions,"indentScripts","normal"),unformatted_content_delimiter:Wn(this.options.htmlOptions,"unformattedContentDelimiter","")})}};var yM=aD(),pu=require("path"),oD={formatFrontMatter:!1,showGeneralSnippetCompletions:!0,diagnostics:{warnOnDynamicCssClassNames:!0,validateTagParameters:!0,reportDiagnostics:!0},trace:{server:"off"},formatterIgnoreExtensions:["xml"],languageVersion:"runtime"},Kf=0,lD=3,bM=1,Qh=4,TM=".antlers.format.json",at=yM.command("format","Formats a file and writes the changes to disk",{path:{description:"The file to format",alias:"f",type:"string"},dir:{description:"The directory to format",alias:"d",type:"string"},stdin:{description:"Indicates that the formatter should use stdin input",alias:"s",type:"boolean",default:!1},output:{description:"An optional output path",alias:"out",type:"string",default:null},dump:{description:"Optionally writes the formatted results to the output instead of saving",alias:"dd",type:"boolean",default:!1},options:{description:"An optional path to an Antlers format configuration file",alias:"o",type:"string"}}).help().alias("help","h").argv,zf=at._,du={htmlOptions:{},formatFrontMatter:!0,insertSpaces:!0,maxStatementsPerLine:3,tabSize:4,formatExtensions:[".antlers.html"]};function uD(t){if(nt.existsSync(t)){let e=nt.readFileSync(t,{encoding:"utf8"});try{return JSON.parse(e)}catch(n){console.error(n)}}return null}function cD(t,e,n){let r=nt.readdirSync(t);for(let i=0;i<r.length;i++){let s=pu.join(t,r[i]);nt.lstatSync(s).isDirectory()?cD(s,e,n):s.endsWith(e)&&n(s)}}function vM(t,e,n,r){let i=Kt.fromText(t),s=new xf(r),a=s.formatDocument(i,oD);n===!0?console.log(a):e!=null&&nt.writeFileSync(e,a,{encoding:"utf8"})}function Jh(t,e,n,r){if(nt.existsSync(t)){try{nt.accessSync(t,nt.constants.R_OK|nt.constants.W_OK)}catch(i){console.error(i),process.exit(Qh)}try{let i=nt.readFileSync(t,{encoding:"utf8"}),s=Kt.fromText(i),a=new xf(r),o=a.formatDocument(s,oD);n===!0?console.log(o):nt.writeFileSync(e,o,{encoding:"utf8"})}catch(i){console.error(i),process.exit(bM)}}else process.exit(lD)}function fD(t,e,n,r){if(nt.existsSync(t)&&nt.statSync(t).isDirectory()){try{nt.accessSync(t,nt.constants.R_OK|nt.constants.W_OK)}catch(i){console.error(i),process.exit(Qh)}n.forEach(i=>{cD(t,i,s=>{Jh(s,s,r,e)})}),process.exit(Kf)}else process.exit(lD)}function NM(t){let e=pu.dirname(t);e=="."&&(e=process.cwd());let n=e.split(pu.sep);for(;n.length>0;){let r=n.join(pu.sep),i=pu.join(r,TM);if(nt.existsSync(i))return i;n.pop()}return null}if(at._.includes("format")){let t=du;if(typeof at.options!="undefined"&&at.options!==null){let e=uD(at.options);e!=null&&(t=e)}else{let e="";zf.length==1?typeof at.dir!="undefined"&&at.dir!==null?e=at.dir:typeof at.path!="undefined"&&at.path!==null&&(e=at.path):e=zf[1];let n=NM(e);if(n!=null){let r=uD(n);r!=null&&(t=r)}}if(zf.length==1){if(at.stdin===!0){let e=nt.readFileSync(0,"utf-8");vM(e,at.output,at.dump===!0,t),process.exit(Kf)}if(typeof at.dir!="undefined"&&at.dir!==null){let e=[".antlers.html"];(typeof t=="undefined"||t==null)&&(t=du),typeof t!="undefined"&&t.formatExtensions!=null&&t.formatExtensions.length>0?e=t.formatExtensions:e=du.formatExtensions,fD(at.dir,t,e,at.dump===!0),process.exit(Kf)}if(typeof at.path!="undefined"&&at.path!==null){let e=at.path;at.output!==null&&(e=at.output),Jh(at.path,e,at.dump===!0,t),process.exit(Kf)}}else{let e=zf[1];if(nt.existsSync(e)){try{nt.accessSync(e,nt.constants.R_OK|nt.constants.W_OK)}catch(r){console.error(r),process.exit(Qh)}if(nt.lstatSync(e).isDirectory()){let r=[".antlers.html"];(typeof t=="undefined"||t==null)&&(t=du),typeof t!="undefined"&&t.formatExtensions!=null&&t.formatExtensions.length>0?r=t.formatExtensions:r=du.formatExtensions,fD(e,t,r,at.dump===!0)}else{let r=e;at.output!==null&&(r=at.output),Jh(e,r,at.dump===!0,t)}}}}
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
