#!/usr/bin/env node
var sA=Object.create;var sp=Object.defineProperty;var aA=Object.getOwnPropertyDescriptor;var oA=Object.getOwnPropertyNames;var lA=Object.getPrototypeOf,uA=Object.prototype.hasOwnProperty;var cA=t=>sp(t,"__esModule",{value:!0});var B=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var fA=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of oA(e))!uA.call(t,i)&&(n||i!=="default")&&sp(t,i,{get:()=>e[i],enumerable:!(r=aA(e,i))||r.enumerable});return t},Be=(t,e)=>fA(cA(sp(t!=null?sA(lA(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var op=B(ap=>{"use strict";Object.defineProperty(ap,"__esModule",{value:!0});ap.default=TA;var yA=bA(require("crypto"));function bA(t){return t&&t.__esModule?t:{default:t}}var hu=new Uint8Array(256),mu=hu.length;function TA(){return mu>hu.length-16&&(yA.default.randomFillSync(hu),mu=0),hu.slice(mu,mu+=16)}});var Tg=B(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.default=void 0;var vA=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;gu.default=vA});var Yo=B(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.default=void 0;var NA=CA(Tg());function CA(t){return t&&t.__esModule?t:{default:t}}function PA(t){return typeof t=="string"&&NA.default.test(t)}var EA=PA;_u.default=EA});var Ho=B(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.default=void 0;var AA=SA(Yo());function SA(t){return t&&t.__esModule?t:{default:t}}var ln=[];for(let t=0;t<256;++t)ln.push((t+256).toString(16).substr(1));function IA(t,e=0){let n=(ln[t[e+0]]+ln[t[e+1]]+ln[t[e+2]]+ln[t[e+3]]+"-"+ln[t[e+4]]+ln[t[e+5]]+"-"+ln[t[e+6]]+ln[t[e+7]]+"-"+ln[t[e+8]]+ln[t[e+9]]+"-"+ln[t[e+10]]+ln[t[e+11]]+ln[t[e+12]]+ln[t[e+13]]+ln[t[e+14]]+ln[t[e+15]]).toLowerCase();if(!(0,AA.default)(n))throw TypeError("Stringified UUID is invalid");return n}var DA=IA;yu.default=DA});var Cg=B(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.default=void 0;var RA=vg(op()),xA=vg(Ho());function vg(t){return t&&t.__esModule?t:{default:t}}var Ng,lp,up=0,cp=0;function wA(t,e,n){let r=e&&n||0,i=e||new Array(16);t=t||{};let s=t.node||Ng,a=t.clockseq!==void 0?t.clockseq:lp;if(s==null||a==null){let m=t.random||(t.rng||RA.default)();s==null&&(s=Ng=[m[0]|1,m[1],m[2],m[3],m[4],m[5]]),a==null&&(a=lp=(m[6]<<8|m[7])&16383)}let o=t.msecs!==void 0?t.msecs:Date.now(),l=t.nsecs!==void 0?t.nsecs:cp+1,u=o-up+(l-cp)/1e4;if(u<0&&t.clockseq===void 0&&(a=a+1&16383),(u<0||o>up)&&t.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");up=o,cp=l,lp=a,o+=122192928e5;let c=((o&268435455)*1e4+l)%4294967296;i[r++]=c>>>24&255,i[r++]=c>>>16&255,i[r++]=c>>>8&255,i[r++]=c&255;let f=o/4294967296*1e4&268435455;i[r++]=f>>>8&255,i[r++]=f&255,i[r++]=f>>>24&15|16,i[r++]=f>>>16&255,i[r++]=a>>>8|128,i[r++]=a&255;for(let m=0;m<6;++m)i[r+m]=s[m];return e||(0,xA.default)(i)}var OA=wA;bu.default=OA});var fp=B(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.default=void 0;var LA=FA(Yo());function FA(t){return t&&t.__esModule?t:{default:t}}function MA(t){if(!(0,LA.default)(t))throw TypeError("Invalid UUID");let e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}var kA=MA;Tu.default=kA});var pp=B(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.default=jA;ks.URL=ks.DNS=void 0;var qA=Pg(Ho()),BA=Pg(fp());function Pg(t){return t&&t.__esModule?t:{default:t}}function VA(t){t=unescape(encodeURIComponent(t));let e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var Eg="6ba7b810-9dad-11d1-80b4-00c04fd430c8";ks.DNS=Eg;var Ag="6ba7b811-9dad-11d1-80b4-00c04fd430c8";ks.URL=Ag;function jA(t,e,n){function r(i,s,a,o){if(typeof i=="string"&&(i=VA(i)),typeof s=="string"&&(s=(0,BA.default)(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+i.length);if(l.set(s),l.set(i,s.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,a){o=o||0;for(let u=0;u<16;++u)a[o+u]=l[u];return a}return(0,qA.default)(l)}try{r.name=t}catch{}return r.DNS=Eg,r.URL=Ag,r}});var Sg=B(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.default=void 0;var UA=WA(require("crypto"));function WA(t){return t&&t.__esModule?t:{default:t}}function GA(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),UA.default.createHash("md5").update(t).digest()}var YA=GA;vu.default=YA});var Dg=B(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.default=void 0;var HA=Ig(pp()),$A=Ig(Sg());function Ig(t){return t&&t.__esModule?t:{default:t}}var KA=(0,HA.default)("v3",48,$A.default),zA=KA;Nu.default=zA});var xg=B(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.default=void 0;var XA=Rg(op()),QA=Rg(Ho());function Rg(t){return t&&t.__esModule?t:{default:t}}function JA(t,e,n){t=t||{};let r=t.random||(t.rng||XA.default)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return(0,QA.default)(r)}var ZA=JA;Cu.default=ZA});var wg=B(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.default=void 0;var eS=tS(require("crypto"));function tS(t){return t&&t.__esModule?t:{default:t}}function nS(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),eS.default.createHash("sha1").update(t).digest()}var rS=nS;Pu.default=rS});var Lg=B(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.default=void 0;var iS=Og(pp()),sS=Og(wg());function Og(t){return t&&t.__esModule?t:{default:t}}var aS=(0,iS.default)("v5",80,sS.default),oS=aS;Eu.default=oS});var Fg=B(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.default=void 0;var lS="00000000-0000-0000-0000-000000000000";Au.default=lS});var Mg=B(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.default=void 0;var uS=cS(Yo());function cS(t){return t&&t.__esModule?t:{default:t}}function fS(t){if(!(0,uS.default)(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var pS=fS;Su.default=pS});var kg=B(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});Object.defineProperty(wr,"v1",{enumerable:!0,get:function(){return dS.default}});Object.defineProperty(wr,"v3",{enumerable:!0,get:function(){return hS.default}});Object.defineProperty(wr,"v4",{enumerable:!0,get:function(){return mS.default}});Object.defineProperty(wr,"v5",{enumerable:!0,get:function(){return gS.default}});Object.defineProperty(wr,"NIL",{enumerable:!0,get:function(){return _S.default}});Object.defineProperty(wr,"version",{enumerable:!0,get:function(){return yS.default}});Object.defineProperty(wr,"validate",{enumerable:!0,get:function(){return bS.default}});Object.defineProperty(wr,"stringify",{enumerable:!0,get:function(){return TS.default}});Object.defineProperty(wr,"parse",{enumerable:!0,get:function(){return vS.default}});var dS=Ri(Cg()),hS=Ri(Dg()),mS=Ri(xg()),gS=Ri(Lg()),_S=Ri(Fg()),yS=Ri(Mg()),bS=Ri(Yo()),TS=Ri(Ho()),vS=Ri(fp());function Ri(t){return t&&t.__esModule?t:{default:t}}});var Xg=B((_B,zg)=>{"use strict";zg.exports=function(e){return typeof process!="undefined"||!process.env||!process.env[e]?!1:process.env[e]}});var fr=B((yB,Qg)=>{"use strict";var NS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Qg.exports=function(e,n){var r=Xg(),i="",s=[],a=0,o=function d(h){if(h instanceof RegExp)return new RegExp(h);if(h instanceof Date)return new Date(h);var y={};for(var b in h)NS(h[b])==="object"?y[b]=d(h[b]):y[b]=h[b];return y},l=function(h){return h!==1?1:0},u=function(h){return h>1?1:0},c=typeof window!="undefined"?window:global;c.$locutus=c.$locutus||{};var f=c.$locutus;if(f.php=f.php||{},(!f.php.locales||!f.php.locales.fr_CA||!f.php.locales.fr_CA.LC_TIME||!f.php.locales.fr_CA.LC_TIME.x)&&(f.php.locales={},f.php.locales.en={LC_COLLATE:function(h,y){return h===y?0:h>y?1:-1},LC_CTYPE:{an:/^[A-Za-z\d]+$/g,al:/^[A-Za-z]+$/g,ct:/^[\u0000-\u001F\u007F]+$/g,dg:/^[\d]+$/g,gr:/^[\u0021-\u007E]+$/g,lw:/^[a-z]+$/g,pr:/^[\u0020-\u007E]+$/g,pu:/^[\u0021-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007E]+$/g,sp:/^[\f\n\r\t\v ]+$/g,up:/^[A-Z]+$/g,xd:/^[A-Fa-f\d]+$/g,CODESET:"UTF-8",lower:"abcdefghijklmnopqrstuvwxyz",upper:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"},LC_TIME:{a:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B:["January","February","March","April","May","June","July","August","September","October","November","December"],c:"%a %d %b %Y %r %Z",p:["AM","PM"],P:["am","pm"],r:"%I:%M:%S %p",x:"%m/%d/%Y",X:"%r",alt_digits:"",ERA:"",ERA_YEAR:"",ERA_D_T_FMT:"",ERA_D_FMT:"",ERA_T_FMT:""},LC_MONETARY:{int_curr_symbol:"USD",currency_symbol:"$",mon_decimal_point:".",mon_thousands_sep:",",mon_grouping:[3],positive_sign:"",negative_sign:"-",int_frac_digits:2,frac_digits:2,p_cs_precedes:1,p_sep_by_space:0,n_cs_precedes:1,n_sep_by_space:0,p_sign_posn:3,n_sign_posn:0},LC_NUMERIC:{decimal_point:".",thousands_sep:",",grouping:[3]},LC_MESSAGES:{YESEXPR:"^[yY].*",NOEXPR:"^[nN].*",YESSTR:"",NOSTR:""},nplurals:l},f.php.locales.en_US=o(f.php.locales.en),f.php.locales.en_US.LC_TIME.c="%a %d %b %Y %r %Z",f.php.locales.en_US.LC_TIME.x="%D",f.php.locales.en_US.LC_TIME.X="%r",f.php.locales.en_US.LC_MONETARY.int_curr_symbol="USD ",f.php.locales.en_US.LC_MONETARY.p_sign_posn=1,f.php.locales.en_US.LC_MONETARY.n_sign_posn=1,f.php.locales.en_US.LC_MONETARY.mon_grouping=[3,3],f.php.locales.en_US.LC_NUMERIC.thousands_sep="",f.php.locales.en_US.LC_NUMERIC.grouping=[],f.php.locales.en_GB=o(f.php.locales.en),f.php.locales.en_GB.LC_TIME.r="%l:%M:%S %P %Z",f.php.locales.en_AU=o(f.php.locales.en_GB),f.php.locales.C=o(f.php.locales.en),f.php.locales.C.LC_CTYPE.CODESET="ANSI_X3.4-1968",f.php.locales.C.LC_MONETARY={int_curr_symbol:"",currency_symbol:"",mon_decimal_point:"",mon_thousands_sep:"",mon_grouping:[],p_cs_precedes:127,p_sep_by_space:127,n_cs_precedes:127,n_sep_by_space:127,p_sign_posn:127,n_sign_posn:127,positive_sign:"",negative_sign:"",int_frac_digits:127,frac_digits:127},f.php.locales.C.LC_NUMERIC={decimal_point:".",thousands_sep:"",grouping:[]},f.php.locales.C.LC_TIME.c="%a %b %e %H:%M:%S %Y",f.php.locales.C.LC_TIME.x="%m/%d/%y",f.php.locales.C.LC_TIME.X="%H:%M:%S",f.php.locales.C.LC_MESSAGES.YESEXPR="^[yY]",f.php.locales.C.LC_MESSAGES.NOEXPR="^[nN]",f.php.locales.fr=o(f.php.locales.en),f.php.locales.fr.nplurals=u,f.php.locales.fr.LC_TIME.a=["dim","lun","mar","mer","jeu","ven","sam"],f.php.locales.fr.LC_TIME.A=["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],f.php.locales.fr.LC_TIME.b=["jan","f\xE9v","mar","avr","mai","jun","jui","ao\xFB","sep","oct","nov","d\xE9c"],f.php.locales.fr.LC_TIME.B=["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"],f.php.locales.fr.LC_TIME.c="%a %d %b %Y %T %Z",f.php.locales.fr.LC_TIME.p=["",""],f.php.locales.fr.LC_TIME.P=["",""],f.php.locales.fr.LC_TIME.x="%d.%m.%Y",f.php.locales.fr.LC_TIME.X="%T",f.php.locales.fr_CA=o(f.php.locales.fr),f.php.locales.fr_CA.LC_TIME.x="%Y-%m-%d"),!f.php.locale&&(f.php.locale="en_US",typeof window!="undefined"&&window.document)){var m=window.document,g="https://www.w3.org/1999/xhtml",p="https://www.w3.org/XML/1998/namespace";m.getElementsByTagNameNS&&m.getElementsByTagNameNS(g,"html")[0]?m.getElementsByTagNameNS(g,"html")[0].getAttributeNS&&m.getElementsByTagNameNS(g,"html")[0].getAttributeNS(p,"lang")?f.php.locale=m.getElementsByTagName(g,"html")[0].getAttributeNS(p,"lang"):m.getElementsByTagNameNS(g,"html")[0].lang&&(f.php.locale=m.getElementsByTagNameNS(g,"html")[0].lang):m.getElementsByTagName("html")[0]&&m.getElementsByTagName("html")[0].lang&&(f.php.locale=m.getElementsByTagName("html")[0].lang)}if(f.php.locale=f.php.locale.replace("-","_"),f.php.locale in f.php.locales||f.php.locale.replace(/_[a-zA-Z]+$/,"")in f.php.locales&&(f.php.locale=f.php.locale.replace(/_[a-zA-Z]+$/,"")),f.php.localeCategories||(f.php.localeCategories={LC_COLLATE:f.php.locale,LC_CTYPE:f.php.locale,LC_MONETARY:f.php.locale,LC_NUMERIC:f.php.locale,LC_TIME:f.php.locale,LC_MESSAGES:f.php.locale}),n===null||n==="")n=r(e)||r("LANG");else if(Object.prototype.toString.call(n)==="[object Array]")for(a=0;a<n.length;a++){if(!(n[a]in f.php.locales)){if(a===n.length-1)return!1;continue}n=n[a];break}if(n==="0"||n===0){if(e==="LC_ALL"){for(i in f.php.localeCategories)s.push(i+"="+f.php.localeCategories[i]);return s.join(";")}return f.php.localeCategories[e]}if(!(n in f.php.locales))return!1;if(e==="LC_ALL")for(i in f.php.localeCategories)f.php.localeCategories[i]=n;else f.php.localeCategories[e]=n;return n}});var Zg=B((bB,Jg)=>{"use strict";Jg.exports=function(e){var n=fr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.an)!==-1}});var t_=B((TB,e_)=>{"use strict";e_.exports=function(e){var n=fr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.al)!==-1}});var r_=B((vB,n_)=>{"use strict";n_.exports=function(e){var n=fr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.ct)!==-1}});var s_=B((NB,i_)=>{"use strict";i_.exports=function(e){var n=fr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.dg)!==-1}});var o_=B((CB,a_)=>{"use strict";a_.exports=function(e){var n=fr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.gr)!==-1}});var u_=B((PB,l_)=>{"use strict";l_.exports=function(e){var n=fr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.lw)!==-1}});var f_=B((EB,c_)=>{"use strict";c_.exports=function(e){var n=fr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.pr)!==-1}});var d_=B((AB,p_)=>{"use strict";p_.exports=function(e){var n=fr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.pu)!==-1}});var m_=B((SB,h_)=>{"use strict";h_.exports=function(e){var n=fr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.sp)!==-1}});var __=B((IB,g_)=>{"use strict";g_.exports=function(e){var n=fr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.up)!==-1}});var b_=B((DB,y_)=>{"use strict";y_.exports=function(e){var n=fr();if(typeof e!="string")return!1;n("LC_ALL",0);var r=typeof window!="undefined"?window:global;r.$locutus=r.$locutus||{};var i=r.$locutus,s=i.php;return e.search(s.locales[s.localeCategories.LC_CTYPE].LC_CTYPE.xd)!==-1}});var T_=B((RB,pr)=>{"use strict";pr.exports.ctype_alnum=Zg();pr.exports.ctype_alpha=t_();pr.exports.ctype_cntrl=r_();pr.exports.ctype_digit=s_();pr.exports.ctype_graph=o_();pr.exports.ctype_lower=u_();pr.exports.ctype_print=f_();pr.exports.ctype_punct=d_();pr.exports.ctype_space=m_();pr.exports.ctype_upper=__();pr.exports.ctype_xdigit=b_()});var N_=B((xB,v_)=>{"use strict";v_.exports=function(e){var n=[" ",`
`,"\r","	","\f","\v","\xA0","\u2000","\u2001","\u2002","\u2003","\u2004","\u2005","\u2006","\u2007","\u2008","\u2009","\u200A","\u200B","\u2028","\u2029","\u3000"].join("");return(typeof e=="number"||typeof e=="string"&&n.indexOf(e.slice(-1))===-1)&&e!==""&&!isNaN(e)}});var Du=B(_p=>{"use strict";Object.defineProperty(_p,"__esModule",{value:!0});var C_=function(){function t(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return t.hashStr=function(e,n){return n===void 0&&(n=!1),this.onePassHasher.start().appendStr(e).end(n)},t.hashAsciiStr=function(e,n){return n===void 0&&(n=!1),this.onePassHasher.start().appendAsciiStr(e).end(n)},t._hex=function(e){var n=t.hexChars,r=t.hexOut,i,s,a,o;for(o=0;o<4;o+=1)for(s=o*8,i=e[o],a=0;a<8;a+=2)r[s+1+a]=n.charAt(i&15),i>>>=4,r[s+0+a]=n.charAt(i&15),i>>>=4;return r.join("")},t._md5cycle=function(e,n){var r=e[0],i=e[1],s=e[2],a=e[3];r+=(i&s|~i&a)+n[0]-680876936|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[1]-389564586|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[2]+606105819|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[3]-1044525330|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&a)+n[4]-176418897|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[5]+1200080426|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[6]-1473231341|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[7]-45705983|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&a)+n[8]+1770035416|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[9]-1958414417|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[10]-42063|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[11]-1990404162|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&a)+n[12]+1804603682|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[13]-40341101|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[14]-1502002290|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[15]+1236535329|0,i=(i<<22|i>>>10)+s|0,r+=(i&a|s&~a)+n[1]-165796510|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[6]-1069501632|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[11]+643717713|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[0]-373897302|0,i=(i<<20|i>>>12)+s|0,r+=(i&a|s&~a)+n[5]-701558691|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[10]+38016083|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[15]-660478335|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[4]-405537848|0,i=(i<<20|i>>>12)+s|0,r+=(i&a|s&~a)+n[9]+568446438|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[14]-1019803690|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[3]-187363961|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[8]+1163531501|0,i=(i<<20|i>>>12)+s|0,r+=(i&a|s&~a)+n[13]-1444681467|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[2]-51403784|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[7]+1735328473|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[12]-1926607734|0,i=(i<<20|i>>>12)+s|0,r+=(i^s^a)+n[5]-378558|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[8]-2022574463|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[11]+1839030562|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[14]-35309556|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^a)+n[1]-1530992060|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[4]+1272893353|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[7]-155497632|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[10]-1094730640|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^a)+n[13]+681279174|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[0]-358537222|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[3]-722521979|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[6]+76029189|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^a)+n[9]-640364487|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[12]-421815835|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[15]+530742520|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[2]-995338651|0,i=(i<<23|i>>>9)+s|0,r+=(s^(i|~a))+n[0]-198630844|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[7]+1126891415|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[14]-1416354905|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[5]-57434055|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~a))+n[12]+1700485571|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[3]-1894986606|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[10]-1051523|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[1]-2054922799|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~a))+n[8]+1873313359|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[15]-30611744|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[6]-1560198380|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[13]+1309151649|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~a))+n[4]-145523070|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[11]-1120210379|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[2]+718787259|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[9]-343485551|0,i=(i<<21|i>>>11)+s|0,e[0]=r+e[0]|0,e[1]=i+e[1]|0,e[2]=s+e[2]|0,e[3]=a+e[3]|0},t.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this},t.prototype.appendStr=function(e){var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,a;for(a=0;a<e.length;a+=1){if(s=e.charCodeAt(a),s<128)n[i++]=s;else if(s<2048)n[i++]=(s>>>6)+192,n[i++]=s&63|128;else if(s<55296||s>56319)n[i++]=(s>>>12)+224,n[i++]=s>>>6&63|128,n[i++]=s&63|128;else{if(s=(s-55296)*1024+(e.charCodeAt(++a)-56320)+65536,s>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");n[i++]=(s>>>18)+240,n[i++]=s>>>12&63|128,n[i++]=s>>>6&63|128,n[i++]=s&63|128}i>=64&&(this._dataLength+=64,t._md5cycle(this._state,r),i-=64,r[0]=r[16])}return this._bufferLength=i,this},t.prototype.appendAsciiStr=function(e){for(var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,a=0;;){for(s=Math.min(e.length-a,64-i);s--;)n[i++]=e.charCodeAt(a++);if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,r),i=0}return this._bufferLength=i,this},t.prototype.appendByteArray=function(e){for(var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,a=0;;){for(s=Math.min(e.length-a,64-i);s--;)n[i++]=e[a++];if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,r),i=0}return this._bufferLength=i,this},t.prototype.getState=function(){var e=this,n=e._state;return{buffer:String.fromCharCode.apply(null,e._buffer8),buflen:e._bufferLength,length:e._dataLength,state:[n[0],n[1],n[2],n[3]]}},t.prototype.setState=function(e){var n=e.buffer,r=e.state,i=this._state,s;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],s=0;s<n.length;s+=1)this._buffer8[s]=n.charCodeAt(s)},t.prototype.end=function(e){e===void 0&&(e=!1);var n=this._bufferLength,r=this._buffer8,i=this._buffer32,s=(n>>2)+1,a;if(this._dataLength+=n,r[n]=128,r[n+1]=r[n+2]=r[n+3]=0,i.set(t.buffer32Identity.subarray(s),s),n>55&&(t._md5cycle(this._state,i),i.set(t.buffer32Identity)),a=this._dataLength*8,a<=4294967295)i[14]=a;else{var o=a.toString(16).match(/(.*?)(.{0,8})$/);if(o===null)return;var l=parseInt(o[2],16),u=parseInt(o[1],16)||0;i[14]=l,i[15]=u}return t._md5cycle(this._state,i),e?this._state:t._hex(this._state)},t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,t}();_p.Md5=C_;C_.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592"&&console.error("Md5 self test failed.")});var xu=B(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.thenable=Bt.typedArray=Bt.stringArray=Bt.array=Bt.func=Bt.error=Bt.number=Bt.string=Bt.boolean=void 0;function PS(t){return t===!0||t===!1}Bt.boolean=PS;function E_(t){return typeof t=="string"||t instanceof String}Bt.string=E_;function ES(t){return typeof t=="number"||t instanceof Number}Bt.number=ES;function AS(t){return t instanceof Error}Bt.error=AS;function A_(t){return typeof t=="function"}Bt.func=A_;function S_(t){return Array.isArray(t)}Bt.array=S_;function SS(t){return S_(t)&&t.every(e=>E_(e))}Bt.stringArray=SS;function IS(t,e){return Array.isArray(t)&&t.every(e)}Bt.typedArray=IS;function DS(t){return t&&A_(t.then)}Bt.thenable=DS});var ki=B(Ip=>{"use strict";Object.defineProperty(Ip,"__esModule",{value:!0});var Ap;function Sp(){if(Ap===void 0)throw new Error("No runtime abstraction layer installed");return Ap}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Ap=n}t.install=e})(Sp||(Sp={}));Ip.default=Sp});var Dp=B(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.Disposable=void 0;var RS;(function(t){function e(n){return{dispose:n}}t.create=e})(RS=tl.Disposable||(tl.Disposable={}))});var D_=B(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.AbstractMessageBuffer=void 0;var xS=13,wS=10,OS=`\r
`,I_=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,n=0,r=0,i=0;e:for(;n<this._chunks.length;){let l=this._chunks[n];r=0;t:for(;r<l.length;){switch(l[r]){case xS:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case wS:switch(e){case 1:e=2;break;case 3:e=4,r++;break e;default:e=0}break;default:e=0}r++}i+=l.byteLength,n++}if(e!==4)return;let s=this._read(i+r),a=new Map,o=this.toString(s,"ascii").split(OS);if(o.length<2)return a;for(let l=0;l<o.length-2;l++){let u=o[l],c=u.indexOf(":");if(c===-1)throw new Error("Message header must separate key and value using :");let f=u.substr(0,c),m=u.substr(c+1).trim();a.set(f,m)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],a=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,a}let n=this.allocNative(e),r=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let a=s.slice(0,e);n.set(a,r),r+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};wu.AbstractMessageBuffer=I_});var L_=B(xp=>{"use strict";Object.defineProperty(xp,"__esModule",{value:!0});var LS=ki(),R_=require("util"),Vs=Dp(),FS=D_(),nl=class extends FS.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return nl.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new R_.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};nl.emptyBuffer=Buffer.allocUnsafe(0);var x_=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Vs.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Vs.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Vs.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),Vs.Disposable.create(()=>this.stream.off("data",e))}},w_=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Vs.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Vs.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Vs.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,i)=>{let s=a=>{a==null?r():i(a)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},O_=Object.freeze({messageBuffer:Object.freeze({create:t=>new nl(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new R_.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new x_(t),asWritableStream:t=>new w_(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){return setTimeout(t,e,...n)},clearTimeout(t){clearTimeout(t)},setImmediate(t,...e){return setImmediate(t,...e)},clearImmediate(t){clearImmediate(t)}})});function Rp(){return O_}(function(t){function e(){LS.default.install(O_)}t.install=e})(Rp||(Rp={}));xp.default=Rp});var Ra=B(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.stringArray=gn.array=gn.func=gn.error=gn.number=gn.string=gn.boolean=void 0;function MS(t){return t===!0||t===!1}gn.boolean=MS;function F_(t){return typeof t=="string"||t instanceof String}gn.string=F_;function kS(t){return typeof t=="number"||t instanceof Number}gn.number=kS;function qS(t){return t instanceof Error}gn.error=qS;function BS(t){return typeof t=="function"}gn.func=BS;function M_(t){return Array.isArray(t)}gn.array=M_;function VS(t){return M_(t)&&t.every(e=>F_(e))}gn.stringArray=VS});var wp=B(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.isResponseMessage=he.isNotificationMessage=he.isRequestMessage=he.NotificationType9=he.NotificationType8=he.NotificationType7=he.NotificationType6=he.NotificationType5=he.NotificationType4=he.NotificationType3=he.NotificationType2=he.NotificationType1=he.NotificationType0=he.NotificationType=he.RequestType9=he.RequestType8=he.RequestType7=he.RequestType6=he.RequestType5=he.RequestType4=he.RequestType3=he.RequestType2=he.RequestType1=he.RequestType=he.RequestType0=he.AbstractMessageSignature=he.ParameterStructures=he.ResponseError=he.ErrorCodes=void 0;var js=Ra(),k_;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=t.jsonrpcReservedErrorRangeStart,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=t.jsonrpcReservedErrorRangeEnd})(k_=he.ErrorCodes||(he.ErrorCodes={}));var Ou=class extends Error{constructor(e,n,r){super(n);this.code=js.number(e)?e:k_.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,Ou.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};he.ResponseError=Ou;var fn=class{constructor(e){this.kind=e}static is(e){return e===fn.auto||e===fn.byName||e===fn.byPosition}toString(){return this.kind}};he.ParameterStructures=fn;fn.auto=new fn("auto");fn.byPosition=new fn("byPosition");fn.byName=new fn("byName");var Tt=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return fn.auto}};he.AbstractMessageSignature=Tt;var q_=class extends Tt{constructor(e){super(e,0)}};he.RequestType0=q_;var B_=class extends Tt{constructor(e,n=fn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};he.RequestType=B_;var V_=class extends Tt{constructor(e,n=fn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};he.RequestType1=V_;var j_=class extends Tt{constructor(e){super(e,2)}};he.RequestType2=j_;var U_=class extends Tt{constructor(e){super(e,3)}};he.RequestType3=U_;var W_=class extends Tt{constructor(e){super(e,4)}};he.RequestType4=W_;var G_=class extends Tt{constructor(e){super(e,5)}};he.RequestType5=G_;var Y_=class extends Tt{constructor(e){super(e,6)}};he.RequestType6=Y_;var H_=class extends Tt{constructor(e){super(e,7)}};he.RequestType7=H_;var $_=class extends Tt{constructor(e){super(e,8)}};he.RequestType8=$_;var K_=class extends Tt{constructor(e){super(e,9)}};he.RequestType9=K_;var z_=class extends Tt{constructor(e,n=fn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};he.NotificationType=z_;var X_=class extends Tt{constructor(e){super(e,0)}};he.NotificationType0=X_;var Q_=class extends Tt{constructor(e,n=fn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};he.NotificationType1=Q_;var J_=class extends Tt{constructor(e){super(e,2)}};he.NotificationType2=J_;var Z_=class extends Tt{constructor(e){super(e,3)}};he.NotificationType3=Z_;var ey=class extends Tt{constructor(e){super(e,4)}};he.NotificationType4=ey;var ty=class extends Tt{constructor(e){super(e,5)}};he.NotificationType5=ty;var ny=class extends Tt{constructor(e){super(e,6)}};he.NotificationType6=ny;var ry=class extends Tt{constructor(e){super(e,7)}};he.NotificationType7=ry;var iy=class extends Tt{constructor(e){super(e,8)}};he.NotificationType8=iy;var sy=class extends Tt{constructor(e){super(e,9)}};he.NotificationType9=sy;function jS(t){let e=t;return e&&js.string(e.method)&&(js.string(e.id)||js.number(e.id))}he.isRequestMessage=jS;function US(t){let e=t;return e&&js.string(e.method)&&t.id===void 0}he.isNotificationMessage=US;function WS(t){let e=t;return e&&(e.result!==void 0||!!e.error)&&(js.string(e.id)||js.number(e.id)||e.id===null)}he.isResponseMessage=WS});var xa=B(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.Emitter=Us.Event=void 0;var GS=ki(),YS;(function(t){let e={dispose(){}};t.None=function(){return e}})(YS=Us.Event||(Us.Event={}));var ay=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,a=r.length;s<a;s++)try{n.push(r[s].apply(i[s],e))}catch(o){GS.default().console.error(o)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},rl=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new ay),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:()=>{!this._callbacks||(this._callbacks.remove(e,n),i.dispose=rl._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Us.Emitter=rl;rl._noop=function(){}});var Mp=B(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.CancellationTokenSource=Ws.CancellationToken=void 0;var oy=ki(),HS=Ra(),Op=xa(),Lp;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Op.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Op.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||HS.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(Lp=Ws.CancellationToken||(Ws.CancellationToken={}));var $S=Object.freeze(function(t,e){let n=oy.default().timer.setTimeout(t.bind(e),0);return{dispose(){oy.default().timer.clearTimeout(n)}}}),Fp=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?$S:(this._emitter||(this._emitter=new Op.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},ly=class{get token(){return this._token||(this._token=new Fp),this._token}cancel(){this._token?this._token.cancel():this._token=Lp.Cancelled}dispose(){this._token?this._token instanceof Fp&&this._token.dispose():this._token=Lp.None}};Ws.CancellationTokenSource=ly});var cy=B(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.ReadableStreamMessageReader=qi.AbstractMessageReader=qi.MessageReader=void 0;var Lu=ki(),wa=Ra(),kp=xa(),KS;(function(t){function e(n){let r=n;return r&&wa.func(r.listen)&&wa.func(r.dispose)&&wa.func(r.onError)&&wa.func(r.onClose)&&wa.func(r.onPartialMessage)}t.is=e})(KS=qi.MessageReader||(qi.MessageReader={}));var qp=class{constructor(){this.errorEmitter=new kp.Emitter,this.closeEmitter=new kp.Emitter,this.partialMessageEmitter=new kp.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${wa.string(e.message)?e.message:"unknown"}`)}};qi.AbstractMessageReader=qp;var Bp;(function(t){function e(n){var r;let i,s,a,o=new Map,l,u=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=(r=n.charset)!==null&&r!==void 0?r:"utf-8",n.contentDecoder!==void 0&&(a=n.contentDecoder,o.set(a.name,a)),n.contentDecoders!==void 0)for(let c of n.contentDecoders)o.set(c.name,c);if(n.contentTypeDecoder!==void 0&&(l=n.contentTypeDecoder,u.set(l.name,l)),n.contentTypeDecoders!==void 0)for(let c of n.contentTypeDecoders)u.set(c.name,c)}return l===void 0&&(l=Lu.default().applicationJson.decoder,u.set(l.name,l)),{charset:i,contentDecoder:a,contentDecoders:o,contentTypeDecoder:l,contentTypeDecoders:u}}t.fromOptions=e})(Bp||(Bp={}));var uy=class extends qp{constructor(e,n){super();this.readable=e,this.options=Bp.fromOptions(n),this.buffer=Lu.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let s=i.get("Content-Length");if(!s)throw new Error("Header must provide a Content-Length property.");let a=parseInt(s);if(isNaN(a))throw new Error("Content-Length value must be a number.");this.nextMessageLength=a}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(n):r=Promise.resolve(n),r.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(s=>{this.callback(s)},s=>{this.fireError(s)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(Lu.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=Lu.default().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};qi.ReadableStreamMessageReader=uy});var py=B(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.Semaphore=void 0;var zS=ki(),fy=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||zS.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};Fu.Semaphore=fy});var _y=B(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.WriteableStreamMessageWriter=Bi.AbstractMessageWriter=Bi.MessageWriter=void 0;var dy=ki(),il=Ra(),XS=py(),hy=xa(),QS="Content-Length: ",my=`\r
`,JS;(function(t){function e(n){let r=n;return r&&il.func(r.dispose)&&il.func(r.onClose)&&il.func(r.onError)&&il.func(r.write)}t.is=e})(JS=Bi.MessageWriter||(Bi.MessageWriter={}));var Vp=class{constructor(){this.errorEmitter=new hy.Emitter,this.closeEmitter=new hy.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${il.string(e.message)?e.message:"unknown"}`)}};Bi.AbstractMessageWriter=Vp;var jp;(function(t){function e(n){var r,i;return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:dy.default().applicationJson.encoder}:{charset:(r=n.charset)!==null&&r!==void 0?r:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(i=n.contentTypeEncoder)!==null&&i!==void 0?i:dy.default().applicationJson.encoder}}t.fromOptions=e})(jp||(jp={}));var gy=class extends Vp{constructor(e,n){super();this.writable=e,this.options=jp.fromOptions(n),this.errorCount=0,this.writeSemaphore=new XS.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(QS,r.byteLength.toString(),my),i.push(my),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};Bi.WriteableStreamMessageWriter=gy});var by=B(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.LRUCache=Vi.LinkedMap=Vi.Touch=void 0;var Sn;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(Sn=Vi.Touch||(Vi.Touch={}));var Up=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,n=Sn.None){let r=this._map.get(e);if(!!r)return n!==Sn.None&&this.touch(r,n),r.value}set(e,n,r=Sn.None){let i=this._map.get(e);if(i)i.value=n,r!==Sn.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case Sn.None:this.addItemLast(i);break;case Sn.First:this.addItemFirst(i);break;case Sn.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(!!n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.key,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}values(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.value,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}entries(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:[r.key,r.value],done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==Sn.First&&n!==Sn.Last)){if(n===Sn.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===Sn.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};Vi.LinkedMap=Up;var yy=class extends Up{constructor(e,n=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=Sn.AsNew){return super.get(e,n)}peek(e){return super.get(e,Sn.None)}set(e,n){return super.set(e,n,Sn.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Vi.LRUCache=yy});var Ey=B(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.createMessageConnection=Re.ConnectionOptions=Re.CancellationStrategy=Re.CancellationSenderStrategy=Re.CancellationReceiverStrategy=Re.ConnectionStrategy=Re.ConnectionError=Re.ConnectionErrors=Re.LogTraceNotification=Re.SetTraceNotification=Re.TraceFormat=Re.Trace=Re.NullLogger=Re.ProgressType=void 0;var Ty=ki(),nn=Ra(),Ae=wp(),vy=by(),sl=xa(),Wp=Mp(),al;(function(t){t.type=new Ae.NotificationType("$/cancelRequest")})(al||(al={}));var Mu;(function(t){t.type=new Ae.NotificationType("$/progress")})(Mu||(Mu={}));var Ny=class{constructor(){}};Re.ProgressType=Ny;var Gp;(function(t){function e(n){return nn.func(n)}t.is=e})(Gp||(Gp={}));Re.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Vt;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose"})(Vt=Re.Trace||(Re.Trace={}));(function(t){function e(r){if(!nn.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(Vt=Re.Trace||(Re.Trace={}));var zr;(function(t){t.Text="text",t.JSON="json"})(zr=Re.TraceFormat||(Re.TraceFormat={}));(function(t){function e(n){return n=n.toLowerCase(),n==="json"?t.JSON:t.Text}t.fromString=e})(zr=Re.TraceFormat||(Re.TraceFormat={}));var Cy;(function(t){t.type=new Ae.NotificationType("$/setTrace")})(Cy=Re.SetTraceNotification||(Re.SetTraceNotification={}));var Yp;(function(t){t.type=new Ae.NotificationType("$/logTrace")})(Yp=Re.LogTraceNotification||(Re.LogTraceNotification={}));var ku;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(ku=Re.ConnectionErrors||(Re.ConnectionErrors={}));var Gs=class extends Error{constructor(e,n){super(n);this.code=e,Object.setPrototypeOf(this,Gs.prototype)}};Re.ConnectionError=Gs;var Py;(function(t){function e(n){let r=n;return r&&nn.func(r.cancelUndispatched)}t.is=e})(Py=Re.ConnectionStrategy||(Re.ConnectionStrategy={}));var Hp;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new Wp.CancellationTokenSource}});function e(n){let r=n;return r&&nn.func(r.createCancellationTokenSource)}t.is=e})(Hp=Re.CancellationReceiverStrategy||(Re.CancellationReceiverStrategy={}));var $p;(function(t){t.Message=Object.freeze({sendCancellation(n,r){n.sendNotification(al.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&nn.func(r.sendCancellation)&&nn.func(r.cleanup)}t.is=e})($p=Re.CancellationSenderStrategy||(Re.CancellationSenderStrategy={}));var Kp;(function(t){t.Message=Object.freeze({receiver:Hp.Message,sender:$p.Message});function e(n){let r=n;return r&&Hp.is(r.receiver)&&$p.is(r.sender)}t.is=e})(Kp=Re.CancellationStrategy||(Re.CancellationStrategy={}));var ZS;(function(t){function e(n){let r=n;return r&&(Kp.is(r.cancellationStrategy)||Py.is(r.connectionStrategy))}t.is=e})(ZS=Re.ConnectionOptions||(Re.ConnectionOptions={}));var Xr;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(Xr||(Xr={}));function eI(t,e,n,r){let i=n!==void 0?n:Re.NullLogger,s=0,a=0,o=0,l="2.0",u,c=Object.create(null),f,m=Object.create(null),g=new Map,p,d=new vy.LinkedMap,h=Object.create(null),y=Object.create(null),b=Vt.Off,N=zr.Text,_,w=Xr.New,te=new sl.Emitter,H=new sl.Emitter,j=new sl.Emitter,X=new sl.Emitter,Z=new sl.Emitter,Te=r&&r.cancellationStrategy?r.cancellationStrategy:Kp.Message;function we(D){if(D===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+D.toString()}function Le(D){return D===null?"res-unknown-"+(++o).toString():"res-"+D.toString()}function qe(){return"not-"+(++a).toString()}function ae(D,S){Ae.isRequestMessage(S)?D.set(we(S.id),S):Ae.isResponseMessage(S)?D.set(Le(S.id),S):D.set(qe(),S)}function Pe(D){}function ct(){return w===Xr.Listening}function Jt(){return w===Xr.Closed}function Je(){return w===Xr.Disposed}function ft(){(w===Xr.New||w===Xr.Listening)&&(w=Xr.Closed,H.fire(void 0))}function ce(D){te.fire([D,void 0,void 0])}function Ie(D){te.fire(D)}t.onClose(ft),t.onError(ce),e.onClose(ft),e.onError(Ie);function Ge(){p||d.size===0||(p=Ty.default().timer.setImmediate(()=>{p=void 0,K()}))}function K(){if(d.size===0)return;let D=d.shift();try{Ae.isRequestMessage(D)?st(D):Ae.isNotificationMessage(D)?vn(D):Ae.isResponseMessage(D)?Dt(D):Di(D)}finally{Ge()}}let pt=D=>{try{if(Ae.isNotificationMessage(D)&&D.method===al.type.method){let S=we(D.params.id),v=d.get(S);if(Ae.isRequestMessage(v)){let I=r==null?void 0:r.connectionStrategy,x=I&&I.cancelUndispatched?I.cancelUndispatched(v,Pe):void 0;if(x&&(x.error!==void 0||x.result!==void 0)){d.delete(S),x.id=v.id,Zi(x,D.method,Date.now()),e.write(x);return}}}ae(d,D)}finally{Ge()}};function st(D){if(Je())return;function S(V,ue,ye){let Ve={jsonrpc:l,id:D.id};V instanceof Ae.ResponseError?Ve.error=V.toJson():Ve.result=V===void 0?null:V,Zi(Ve,ue,ye),e.write(Ve)}function v(V,ue,ye){let Ve={jsonrpc:l,id:D.id,error:V.toJson()};Zi(Ve,ue,ye),e.write(Ve)}function I(V,ue,ye){V===void 0&&(V=null);let Ve={jsonrpc:l,id:D.id,result:V};Zi(Ve,ue,ye),e.write(Ve)}Wn(D);let x=c[D.method],E,T;x&&(E=x.type,T=x.handler);let O=Date.now();if(T||u){let V=String(D.id),ue=Te.receiver.createCancellationTokenSource(V);y[V]=ue;try{let ye;if(T)if(D.params===void 0){if(E!==void 0&&E.numberOfParams!==0){v(new Ae.ResponseError(Ae.ErrorCodes.InvalidParams,`Request ${D.method} defines ${E.numberOfParams} params but recevied none.`),D.method,O);return}ye=T(ue.token)}else if(Array.isArray(D.params)){if(E!==void 0&&E.parameterStructures===Ae.ParameterStructures.byName){v(new Ae.ResponseError(Ae.ErrorCodes.InvalidParams,`Request ${D.method} defines parameters by name but received parameters by position`),D.method,O);return}ye=T(...D.params,ue.token)}else{if(E!==void 0&&E.parameterStructures===Ae.ParameterStructures.byPosition){v(new Ae.ResponseError(Ae.ErrorCodes.InvalidParams,`Request ${D.method} defines parameters by position but received parameters by name`),D.method,O);return}ye=T(D.params,ue.token)}else u&&(ye=u(D.method,D.params,ue.token));let Ve=ye;ye?Ve.then?Ve.then(dt=>{delete y[V],S(dt,D.method,O)},dt=>{delete y[V],dt instanceof Ae.ResponseError?v(dt,D.method,O):dt&&nn.string(dt.message)?v(new Ae.ResponseError(Ae.ErrorCodes.InternalError,`Request ${D.method} failed with message: ${dt.message}`),D.method,O):v(new Ae.ResponseError(Ae.ErrorCodes.InternalError,`Request ${D.method} failed unexpectedly without providing any details.`),D.method,O)}):(delete y[V],S(ye,D.method,O)):(delete y[V],I(ye,D.method,O))}catch(ye){delete y[V],ye instanceof Ae.ResponseError?S(ye,D.method,O):ye&&nn.string(ye.message)?v(new Ae.ResponseError(Ae.ErrorCodes.InternalError,`Request ${D.method} failed with message: ${ye.message}`),D.method,O):v(new Ae.ResponseError(Ae.ErrorCodes.InternalError,`Request ${D.method} failed unexpectedly without providing any details.`),D.method,O)}}else v(new Ae.ResponseError(Ae.ErrorCodes.MethodNotFound,`Unhandled method ${D.method}`),D.method,O)}function Dt(D){if(!Je())if(D.id===null)D.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(D.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let S=String(D.id),v=h[S];if(R(D,v),v){delete h[S];try{if(D.error){let I=D.error;v.reject(new Ae.ResponseError(I.code,I.message,I.data))}else if(D.result!==void 0)v.resolve(D.result);else throw new Error("Should never happen.")}catch(I){I.message?i.error(`Response handler '${v.method}' failed with message: ${I.message}`):i.error(`Response handler '${v.method}' failed unexpectedly.`)}}}}function vn(D){if(Je())return;let S,v;if(D.method===al.type.method)v=I=>{let x=I.id,E=y[String(x)];E&&E.cancel()};else{let I=m[D.method];I&&(v=I.handler,S=I.type)}if(v||f)try{Wo(D),v?D.params===void 0?(S!==void 0&&S.numberOfParams!==0&&S.parameterStructures!==Ae.ParameterStructures.byName&&i.error(`Notification ${D.method} defines ${S.numberOfParams} params but recevied none.`),v()):Array.isArray(D.params)?(S!==void 0&&(S.parameterStructures===Ae.ParameterStructures.byName&&i.error(`Notification ${D.method} defines parameters by name but received parameters by position`),S.numberOfParams!==D.params.length&&i.error(`Notification ${D.method} defines ${S.numberOfParams} params but received ${D.params.length} argumennts`)),v(...D.params)):(S!==void 0&&S.parameterStructures===Ae.ParameterStructures.byPosition&&i.error(`Notification ${D.method} defines parameters by position but received parameters by name`),v(D.params)):f&&f(D.method,D.params)}catch(I){I.message?i.error(`Notification handler '${D.method}' failed with message: ${I.message}`):i.error(`Notification handler '${D.method}' failed unexpectedly.`)}else j.fire(D)}function Di(D){if(!D){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(D,null,4)}`);let S=D;if(nn.string(S.id)||nn.number(S.id)){let v=String(S.id),I=h[v];I&&I.reject(new Error("The received response has neither a result nor an error property."))}}function ci(D){if(!(b===Vt.Off||!_))if(N===zr.Text){let S;b===Vt.Verbose&&D.params&&(S=`Params: ${JSON.stringify(D.params,null,4)}

`),_.log(`Sending request '${D.method} - (${D.id})'.`,S)}else M("send-request",D)}function Uo(D){if(!(b===Vt.Off||!_))if(N===zr.Text){let S;b===Vt.Verbose&&(D.params?S=`Params: ${JSON.stringify(D.params,null,4)}

`:S=`No parameters provided.

`),_.log(`Sending notification '${D.method}'.`,S)}else M("send-notification",D)}function Zi(D,S,v){if(!(b===Vt.Off||!_))if(N===zr.Text){let I;b===Vt.Verbose&&(D.error&&D.error.data?I=`Error data: ${JSON.stringify(D.error.data,null,4)}

`:D.result?I=`Result: ${JSON.stringify(D.result,null,4)}

`:D.error===void 0&&(I=`No result returned.

`)),_.log(`Sending response '${S} - (${D.id})'. Processing request took ${Date.now()-v}ms`,I)}else M("send-response",D)}function Wn(D){if(!(b===Vt.Off||!_))if(N===zr.Text){let S;b===Vt.Verbose&&D.params&&(S=`Params: ${JSON.stringify(D.params,null,4)}

`),_.log(`Received request '${D.method} - (${D.id})'.`,S)}else M("receive-request",D)}function Wo(D){if(!(b===Vt.Off||!_||D.method===Yp.type.method))if(N===zr.Text){let S;b===Vt.Verbose&&(D.params?S=`Params: ${JSON.stringify(D.params,null,4)}

`:S=`No parameters provided.

`),_.log(`Received notification '${D.method}'.`,S)}else M("receive-notification",D)}function R(D,S){if(!(b===Vt.Off||!_))if(N===zr.Text){let v;if(b===Vt.Verbose&&(D.error&&D.error.data?v=`Error data: ${JSON.stringify(D.error.data,null,4)}

`:D.result?v=`Result: ${JSON.stringify(D.result,null,4)}

`:D.error===void 0&&(v=`No result returned.

`)),S){let I=D.error?` Request failed: ${D.error.message} (${D.error.code}).`:"";_.log(`Received response '${S.method} - (${D.id})' in ${Date.now()-S.timerStart}ms.${I}`,v)}else _.log(`Received response ${D.id} without active response promise.`,v)}else M("receive-response",D)}function M(D,S){if(!_||b===Vt.Off)return;let v={isLSPMessage:!0,type:D,message:S,timestamp:Date.now()};_.log(v)}function J(){if(Jt())throw new Gs(ku.Closed,"Connection is closed.");if(Je())throw new Gs(ku.Disposed,"Connection is disposed.")}function G(){if(ct())throw new Gs(ku.AlreadyListening,"Connection is already listening")}function F(){if(!ct())throw new Error("Call listen() first.")}function le(D){return D===void 0?null:D}function ie(D){if(D!==null)return D}function de(D){return D!=null&&!Array.isArray(D)&&typeof D=="object"}function bt(D,S){switch(D){case Ae.ParameterStructures.auto:return de(S)?ie(S):[le(S)];case Ae.ParameterStructures.byName:if(!de(S))throw new Error("Recevied parameters by name but param is not an object literal.");return ie(S);case Ae.ParameterStructures.byPosition:return[le(S)];default:throw new Error(`Unknown parameter structure ${D.toString()}`)}}function Mt(D,S){let v,I=D.numberOfParams;switch(I){case 0:v=void 0;break;case 1:v=bt(D.parameterStructures,S[0]);break;default:v=[];for(let x=0;x<S.length&&x<I;x++)v.push(le(S[x]));if(S.length<I)for(let x=S.length;x<I;x++)v.push(null);break}return v}let es={sendNotification:(D,...S)=>{J();let v,I;if(nn.string(D)){v=D;let E=S[0],T=0,O=Ae.ParameterStructures.auto;Ae.ParameterStructures.is(E)&&(T=1,O=E);let V=S.length,ue=V-T;switch(ue){case 0:I=void 0;break;case 1:I=bt(O,S[T]);break;default:if(O===Ae.ParameterStructures.byName)throw new Error(`Recevied ${ue} parameters for 'by Name' notification parameter structure.`);I=S.slice(T,V).map(ye=>le(ye));break}}else{let E=S;v=D.method,I=Mt(D,E)}let x={jsonrpc:l,method:v,params:I};Uo(x),e.write(x)},onNotification:(D,S)=>{J();let v;return nn.func(D)?f=D:S&&(nn.string(D)?(v=D,m[D]={type:void 0,handler:S}):(v=D.method,m[D.method]={type:D,handler:S})),{dispose:()=>{v!==void 0?delete m[v]:f=void 0}}},onProgress:(D,S,v)=>{if(g.has(S))throw new Error(`Progress handler for token ${S} already registered`);return g.set(S,v),{dispose:()=>{g.delete(S)}}},sendProgress:(D,S,v)=>{es.sendNotification(Mu.type,{token:S,value:v})},onUnhandledProgress:X.event,sendRequest:(D,...S)=>{J(),F();let v,I,x;if(nn.string(D)){v=D;let V=S[0],ue=S[S.length-1],ye=0,Ve=Ae.ParameterStructures.auto;Ae.ParameterStructures.is(V)&&(ye=1,Ve=V);let dt=S.length;Wp.CancellationToken.is(ue)&&(dt=dt-1,x=ue);let Yt=dt-ye;switch(Yt){case 0:I=void 0;break;case 1:I=bt(Ve,S[ye]);break;default:if(Ve===Ae.ParameterStructures.byName)throw new Error(`Recevied ${Yt} parameters for 'by Name' request parameter structure.`);I=S.slice(ye,dt).map(Zt=>le(Zt));break}}else{let V=S;v=D.method,I=Mt(D,V);let ue=D.numberOfParams;x=Wp.CancellationToken.is(V[ue])?V[ue]:void 0}let E=s++,T;return x&&(T=x.onCancellationRequested(()=>{Te.sender.sendCancellation(es,E)})),new Promise((V,ue)=>{let ye={jsonrpc:l,id:E,method:v,params:I},Ve=Zt=>{V(Zt),Te.sender.cleanup(E),T==null||T.dispose()},dt=Zt=>{ue(Zt),Te.sender.cleanup(E),T==null||T.dispose()},Yt={method:v,timerStart:Date.now(),resolve:Ve,reject:dt};ci(ye);try{e.write(ye)}catch(Zt){Yt.reject(new Ae.ResponseError(Ae.ErrorCodes.MessageWriteError,Zt.message?Zt.message:"Unknown reason")),Yt=null}Yt&&(h[String(E)]=Yt)})},onRequest:(D,S)=>{J();let v=null;return Gp.is(D)?(v=void 0,u=D):nn.string(D)?(v=null,S!==void 0&&(v=D,c[D]={handler:S,type:void 0})):S!==void 0&&(v=D.method,c[D.method]={type:D,handler:S}),{dispose:()=>{v!==null&&(v!==void 0?delete c[v]:u=void 0)}}},trace:(D,S,v)=>{let I=!1,x=zr.Text;v!==void 0&&(nn.boolean(v)?I=v:(I=v.sendNotification||!1,x=v.traceFormat||zr.Text)),b=D,N=x,b===Vt.Off?_=void 0:_=S,I&&!Jt()&&!Je()&&es.sendNotification(Cy.type,{value:Vt.toString(D)})},onError:te.event,onClose:H.event,onUnhandledNotification:j.event,onDispose:Z.event,end:()=>{e.end()},dispose:()=>{if(Je())return;w=Xr.Disposed,Z.fire(void 0);let D=new Error("Connection got disposed.");Object.keys(h).forEach(S=>{h[S].reject(D)}),h=Object.create(null),y=Object.create(null),d=new vy.LinkedMap,nn.func(e.dispose)&&e.dispose(),nn.func(t.dispose)&&t.dispose()},listen:()=>{J(),G(),w=Xr.Listening,t.listen(pt)},inspect:()=>{Ty.default().console.log("inspect")}};return es.onNotification(Yp.type,D=>{b===Vt.Off||!_||_.log(D.message,b===Vt.Verbose?D.verbose:void 0)}),es.onNotification(Mu.type,D=>{let S=g.get(D.token);S?S(D.value):X.fire(D)}),es}Re.createMessageConnection=eI});var Qp=B($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.CancellationSenderStrategy=$.CancellationReceiverStrategy=$.ConnectionError=$.ConnectionErrors=$.LogTraceNotification=$.SetTraceNotification=$.TraceFormat=$.Trace=$.ProgressType=$.createMessageConnection=$.NullLogger=$.ConnectionOptions=$.ConnectionStrategy=$.WriteableStreamMessageWriter=$.AbstractMessageWriter=$.MessageWriter=$.ReadableStreamMessageReader=$.AbstractMessageReader=$.MessageReader=$.CancellationToken=$.CancellationTokenSource=$.Emitter=$.Event=$.Disposable=$.ParameterStructures=$.NotificationType9=$.NotificationType8=$.NotificationType7=$.NotificationType6=$.NotificationType5=$.NotificationType4=$.NotificationType3=$.NotificationType2=$.NotificationType1=$.NotificationType0=$.NotificationType=$.ErrorCodes=$.ResponseError=$.RequestType9=$.RequestType8=$.RequestType7=$.RequestType6=$.RequestType5=$.RequestType4=$.RequestType3=$.RequestType2=$.RequestType1=$.RequestType0=$.RequestType=$.RAL=void 0;$.CancellationStrategy=void 0;var _t=wp();Object.defineProperty($,"RequestType",{enumerable:!0,get:function(){return _t.RequestType}});Object.defineProperty($,"RequestType0",{enumerable:!0,get:function(){return _t.RequestType0}});Object.defineProperty($,"RequestType1",{enumerable:!0,get:function(){return _t.RequestType1}});Object.defineProperty($,"RequestType2",{enumerable:!0,get:function(){return _t.RequestType2}});Object.defineProperty($,"RequestType3",{enumerable:!0,get:function(){return _t.RequestType3}});Object.defineProperty($,"RequestType4",{enumerable:!0,get:function(){return _t.RequestType4}});Object.defineProperty($,"RequestType5",{enumerable:!0,get:function(){return _t.RequestType5}});Object.defineProperty($,"RequestType6",{enumerable:!0,get:function(){return _t.RequestType6}});Object.defineProperty($,"RequestType7",{enumerable:!0,get:function(){return _t.RequestType7}});Object.defineProperty($,"RequestType8",{enumerable:!0,get:function(){return _t.RequestType8}});Object.defineProperty($,"RequestType9",{enumerable:!0,get:function(){return _t.RequestType9}});Object.defineProperty($,"ResponseError",{enumerable:!0,get:function(){return _t.ResponseError}});Object.defineProperty($,"ErrorCodes",{enumerable:!0,get:function(){return _t.ErrorCodes}});Object.defineProperty($,"NotificationType",{enumerable:!0,get:function(){return _t.NotificationType}});Object.defineProperty($,"NotificationType0",{enumerable:!0,get:function(){return _t.NotificationType0}});Object.defineProperty($,"NotificationType1",{enumerable:!0,get:function(){return _t.NotificationType1}});Object.defineProperty($,"NotificationType2",{enumerable:!0,get:function(){return _t.NotificationType2}});Object.defineProperty($,"NotificationType3",{enumerable:!0,get:function(){return _t.NotificationType3}});Object.defineProperty($,"NotificationType4",{enumerable:!0,get:function(){return _t.NotificationType4}});Object.defineProperty($,"NotificationType5",{enumerable:!0,get:function(){return _t.NotificationType5}});Object.defineProperty($,"NotificationType6",{enumerable:!0,get:function(){return _t.NotificationType6}});Object.defineProperty($,"NotificationType7",{enumerable:!0,get:function(){return _t.NotificationType7}});Object.defineProperty($,"NotificationType8",{enumerable:!0,get:function(){return _t.NotificationType8}});Object.defineProperty($,"NotificationType9",{enumerable:!0,get:function(){return _t.NotificationType9}});Object.defineProperty($,"ParameterStructures",{enumerable:!0,get:function(){return _t.ParameterStructures}});var tI=Dp();Object.defineProperty($,"Disposable",{enumerable:!0,get:function(){return tI.Disposable}});var Ay=xa();Object.defineProperty($,"Event",{enumerable:!0,get:function(){return Ay.Event}});Object.defineProperty($,"Emitter",{enumerable:!0,get:function(){return Ay.Emitter}});var Sy=Mp();Object.defineProperty($,"CancellationTokenSource",{enumerable:!0,get:function(){return Sy.CancellationTokenSource}});Object.defineProperty($,"CancellationToken",{enumerable:!0,get:function(){return Sy.CancellationToken}});var zp=cy();Object.defineProperty($,"MessageReader",{enumerable:!0,get:function(){return zp.MessageReader}});Object.defineProperty($,"AbstractMessageReader",{enumerable:!0,get:function(){return zp.AbstractMessageReader}});Object.defineProperty($,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return zp.ReadableStreamMessageReader}});var Xp=_y();Object.defineProperty($,"MessageWriter",{enumerable:!0,get:function(){return Xp.MessageWriter}});Object.defineProperty($,"AbstractMessageWriter",{enumerable:!0,get:function(){return Xp.AbstractMessageWriter}});Object.defineProperty($,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Xp.WriteableStreamMessageWriter}});var kn=Ey();Object.defineProperty($,"ConnectionStrategy",{enumerable:!0,get:function(){return kn.ConnectionStrategy}});Object.defineProperty($,"ConnectionOptions",{enumerable:!0,get:function(){return kn.ConnectionOptions}});Object.defineProperty($,"NullLogger",{enumerable:!0,get:function(){return kn.NullLogger}});Object.defineProperty($,"createMessageConnection",{enumerable:!0,get:function(){return kn.createMessageConnection}});Object.defineProperty($,"ProgressType",{enumerable:!0,get:function(){return kn.ProgressType}});Object.defineProperty($,"Trace",{enumerable:!0,get:function(){return kn.Trace}});Object.defineProperty($,"TraceFormat",{enumerable:!0,get:function(){return kn.TraceFormat}});Object.defineProperty($,"SetTraceNotification",{enumerable:!0,get:function(){return kn.SetTraceNotification}});Object.defineProperty($,"LogTraceNotification",{enumerable:!0,get:function(){return kn.LogTraceNotification}});Object.defineProperty($,"ConnectionErrors",{enumerable:!0,get:function(){return kn.ConnectionErrors}});Object.defineProperty($,"ConnectionError",{enumerable:!0,get:function(){return kn.ConnectionError}});Object.defineProperty($,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return kn.CancellationReceiverStrategy}});Object.defineProperty($,"CancellationSenderStrategy",{enumerable:!0,get:function(){return kn.CancellationSenderStrategy}});Object.defineProperty($,"CancellationStrategy",{enumerable:!0,get:function(){return kn.CancellationStrategy}});var nI=ki();$.RAL=nI.default});var Ma=B(Ze=>{"use strict";var rI=Ze&&Ze.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),iI=Ze&&Ze.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&rI(e,t,n)};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.createMessageConnection=Ze.createServerSocketTransport=Ze.createClientSocketTransport=Ze.createServerPipeTransport=Ze.createClientPipeTransport=Ze.generateRandomPipeName=Ze.StreamMessageWriter=Ze.StreamMessageReader=Ze.SocketMessageWriter=Ze.SocketMessageReader=Ze.IPCMessageWriter=Ze.IPCMessageReader=void 0;var Oa=L_();Oa.default.install();var bi=Qp(),Iy=require("path"),sI=require("os"),aI=require("crypto"),qu=require("net");iI(Qp(),Ze);var Dy=class extends bi.AbstractMessageReader{constructor(e){super();this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),bi.Disposable.create(()=>this.process.off("message",e))}};Ze.IPCMessageReader=Dy;var Ry=class extends bi.AbstractMessageWriter{constructor(e){super();this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};Ze.IPCMessageWriter=Ry;var La=class extends bi.ReadableStreamMessageReader{constructor(e,n="utf-8"){super(Oa.default().stream.asReadableStream(e),n)}};Ze.SocketMessageReader=La;var Fa=class extends bi.WriteableStreamMessageWriter{constructor(e,n){super(Oa.default().stream.asWritableStream(e),n);this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Ze.SocketMessageWriter=Fa;var Jp=class extends bi.ReadableStreamMessageReader{constructor(e,n){super(Oa.default().stream.asReadableStream(e),n)}};Ze.StreamMessageReader=Jp;var Zp=class extends bi.WriteableStreamMessageWriter{constructor(e,n){super(Oa.default().stream.asWritableStream(e),n)}};Ze.StreamMessageWriter=Zp;var xy=process.env.XDG_RUNTIME_DIR,oI=new Map([["linux",107],["darwin",103]]);function lI(){let t=aI.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;xy?e=Iy.join(xy,`vscode-ipc-${t}.sock`):e=Iy.join(sI.tmpdir(),`vscode-${t}.sock`);let n=oI.get(process.platform);return n!==void 0&&e.length>=n&&Oa.default().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}Ze.generateRandomPipeName=lI;function uI(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let a=qu.createServer(o=>{a.close(),n([new La(o,e),new Fa(o,e)])});a.on("error",s),a.listen(t,()=>{a.removeListener("error",s),i({onConnected:()=>r})})})}Ze.createClientPipeTransport=uI;function cI(t,e="utf-8"){let n=qu.createConnection(t);return[new La(n,e),new Fa(n,e)]}Ze.createServerPipeTransport=cI;function fI(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let a=qu.createServer(o=>{a.close(),n([new La(o,e),new Fa(o,e)])});a.on("error",s),a.listen(t,"127.0.0.1",()=>{a.removeListener("error",s),i({onConnected:()=>r})})})}Ze.createClientSocketTransport=fI;function pI(t,e="utf-8"){let n=qu.createConnection(t,"127.0.0.1");return[new La(n,e),new Fa(n,e)]}Ze.createServerSocketTransport=pI;function dI(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function hI(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function mI(t,e,n,r){n||(n=bi.NullLogger);let i=dI(t)?new Jp(t):t,s=hI(e)?new Zp(e):e;return bi.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),bi.createMessageConnection(i,s,n,r)}Ze.createMessageConnection=mI});var ed=B((NV,wy)=>{"use strict";wy.exports=Ma()});var vt=B((Oy,Bu)=>{(function(t){if(typeof Bu=="object"&&typeof Bu.exports=="object"){var e=t(require,Oy);e!==void 0&&(Bu.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=void 0;var n;(function(v){v.MIN_VALUE=-2147483648,v.MAX_VALUE=2147483647})(n=e.integer||(e.integer={}));var r;(function(v){v.MIN_VALUE=0,v.MAX_VALUE=2147483647})(r=e.uinteger||(e.uinteger={}));var i;(function(v){function I(E,T){return E===Number.MAX_VALUE&&(E=r.MAX_VALUE),T===Number.MAX_VALUE&&(T=r.MAX_VALUE),{line:E,character:T}}v.create=I;function x(E){var T=E;return S.objectLiteral(T)&&S.uinteger(T.line)&&S.uinteger(T.character)}v.is=x})(i=e.Position||(e.Position={}));var s;(function(v){function I(E,T,O,V){if(S.uinteger(E)&&S.uinteger(T)&&S.uinteger(O)&&S.uinteger(V))return{start:i.create(E,T),end:i.create(O,V)};if(i.is(E)&&i.is(T))return{start:E,end:T};throw new Error("Range#create called with invalid arguments["+E+", "+T+", "+O+", "+V+"]")}v.create=I;function x(E){var T=E;return S.objectLiteral(T)&&i.is(T.start)&&i.is(T.end)}v.is=x})(s=e.Range||(e.Range={}));var a;(function(v){function I(E,T){return{uri:E,range:T}}v.create=I;function x(E){var T=E;return S.defined(T)&&s.is(T.range)&&(S.string(T.uri)||S.undefined(T.uri))}v.is=x})(a=e.Location||(e.Location={}));var o;(function(v){function I(E,T,O,V){return{targetUri:E,targetRange:T,targetSelectionRange:O,originSelectionRange:V}}v.create=I;function x(E){var T=E;return S.defined(T)&&s.is(T.targetRange)&&S.string(T.targetUri)&&(s.is(T.targetSelectionRange)||S.undefined(T.targetSelectionRange))&&(s.is(T.originSelectionRange)||S.undefined(T.originSelectionRange))}v.is=x})(o=e.LocationLink||(e.LocationLink={}));var l;(function(v){function I(E,T,O,V){return{red:E,green:T,blue:O,alpha:V}}v.create=I;function x(E){var T=E;return S.numberRange(T.red,0,1)&&S.numberRange(T.green,0,1)&&S.numberRange(T.blue,0,1)&&S.numberRange(T.alpha,0,1)}v.is=x})(l=e.Color||(e.Color={}));var u;(function(v){function I(E,T){return{range:E,color:T}}v.create=I;function x(E){var T=E;return s.is(T.range)&&l.is(T.color)}v.is=x})(u=e.ColorInformation||(e.ColorInformation={}));var c;(function(v){function I(E,T,O){return{label:E,textEdit:T,additionalTextEdits:O}}v.create=I;function x(E){var T=E;return S.string(T.label)&&(S.undefined(T.textEdit)||N.is(T))&&(S.undefined(T.additionalTextEdits)||S.typedArray(T.additionalTextEdits,N.is))}v.is=x})(c=e.ColorPresentation||(e.ColorPresentation={}));var f;(function(v){v.Comment="comment",v.Imports="imports",v.Region="region"})(f=e.FoldingRangeKind||(e.FoldingRangeKind={}));var m;(function(v){function I(E,T,O,V,ue){var ye={startLine:E,endLine:T};return S.defined(O)&&(ye.startCharacter=O),S.defined(V)&&(ye.endCharacter=V),S.defined(ue)&&(ye.kind=ue),ye}v.create=I;function x(E){var T=E;return S.uinteger(T.startLine)&&S.uinteger(T.startLine)&&(S.undefined(T.startCharacter)||S.uinteger(T.startCharacter))&&(S.undefined(T.endCharacter)||S.uinteger(T.endCharacter))&&(S.undefined(T.kind)||S.string(T.kind))}v.is=x})(m=e.FoldingRange||(e.FoldingRange={}));var g;(function(v){function I(E,T){return{location:E,message:T}}v.create=I;function x(E){var T=E;return S.defined(T)&&a.is(T.location)&&S.string(T.message)}v.is=x})(g=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var p;(function(v){v.Error=1,v.Warning=2,v.Information=3,v.Hint=4})(p=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var d;(function(v){v.Unnecessary=1,v.Deprecated=2})(d=e.DiagnosticTag||(e.DiagnosticTag={}));var h;(function(v){function I(x){var E=x;return E!=null&&S.string(E.href)}v.is=I})(h=e.CodeDescription||(e.CodeDescription={}));var y;(function(v){function I(E,T,O,V,ue,ye){var Ve={range:E,message:T};return S.defined(O)&&(Ve.severity=O),S.defined(V)&&(Ve.code=V),S.defined(ue)&&(Ve.source=ue),S.defined(ye)&&(Ve.relatedInformation=ye),Ve}v.create=I;function x(E){var T,O=E;return S.defined(O)&&s.is(O.range)&&S.string(O.message)&&(S.number(O.severity)||S.undefined(O.severity))&&(S.integer(O.code)||S.string(O.code)||S.undefined(O.code))&&(S.undefined(O.codeDescription)||S.string((T=O.codeDescription)===null||T===void 0?void 0:T.href))&&(S.string(O.source)||S.undefined(O.source))&&(S.undefined(O.relatedInformation)||S.typedArray(O.relatedInformation,g.is))}v.is=x})(y=e.Diagnostic||(e.Diagnostic={}));var b;(function(v){function I(E,T){for(var O=[],V=2;V<arguments.length;V++)O[V-2]=arguments[V];var ue={title:E,command:T};return S.defined(O)&&O.length>0&&(ue.arguments=O),ue}v.create=I;function x(E){var T=E;return S.defined(T)&&S.string(T.title)&&S.string(T.command)}v.is=x})(b=e.Command||(e.Command={}));var N;(function(v){function I(O,V){return{range:O,newText:V}}v.replace=I;function x(O,V){return{range:{start:O,end:O},newText:V}}v.insert=x;function E(O){return{range:O,newText:""}}v.del=E;function T(O){var V=O;return S.objectLiteral(V)&&S.string(V.newText)&&s.is(V.range)}v.is=T})(N=e.TextEdit||(e.TextEdit={}));var _;(function(v){function I(E,T,O){var V={label:E};return T!==void 0&&(V.needsConfirmation=T),O!==void 0&&(V.description=O),V}v.create=I;function x(E){var T=E;return T!==void 0&&S.objectLiteral(T)&&S.string(T.label)&&(S.boolean(T.needsConfirmation)||T.needsConfirmation===void 0)&&(S.string(T.description)||T.description===void 0)}v.is=x})(_=e.ChangeAnnotation||(e.ChangeAnnotation={}));var w;(function(v){function I(x){var E=x;return typeof E=="string"}v.is=I})(w=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var te;(function(v){function I(O,V,ue){return{range:O,newText:V,annotationId:ue}}v.replace=I;function x(O,V,ue){return{range:{start:O,end:O},newText:V,annotationId:ue}}v.insert=x;function E(O,V){return{range:O,newText:"",annotationId:V}}v.del=E;function T(O){var V=O;return N.is(V)&&(_.is(V.annotationId)||w.is(V.annotationId))}v.is=T})(te=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var H;(function(v){function I(E,T){return{textDocument:E,edits:T}}v.create=I;function x(E){var T=E;return S.defined(T)&&ct.is(T.textDocument)&&Array.isArray(T.edits)}v.is=x})(H=e.TextDocumentEdit||(e.TextDocumentEdit={}));var j;(function(v){function I(E,T,O){var V={kind:"create",uri:E};return T!==void 0&&(T.overwrite!==void 0||T.ignoreIfExists!==void 0)&&(V.options=T),O!==void 0&&(V.annotationId=O),V}v.create=I;function x(E){var T=E;return T&&T.kind==="create"&&S.string(T.uri)&&(T.options===void 0||(T.options.overwrite===void 0||S.boolean(T.options.overwrite))&&(T.options.ignoreIfExists===void 0||S.boolean(T.options.ignoreIfExists)))&&(T.annotationId===void 0||w.is(T.annotationId))}v.is=x})(j=e.CreateFile||(e.CreateFile={}));var X;(function(v){function I(E,T,O,V){var ue={kind:"rename",oldUri:E,newUri:T};return O!==void 0&&(O.overwrite!==void 0||O.ignoreIfExists!==void 0)&&(ue.options=O),V!==void 0&&(ue.annotationId=V),ue}v.create=I;function x(E){var T=E;return T&&T.kind==="rename"&&S.string(T.oldUri)&&S.string(T.newUri)&&(T.options===void 0||(T.options.overwrite===void 0||S.boolean(T.options.overwrite))&&(T.options.ignoreIfExists===void 0||S.boolean(T.options.ignoreIfExists)))&&(T.annotationId===void 0||w.is(T.annotationId))}v.is=x})(X=e.RenameFile||(e.RenameFile={}));var Z;(function(v){function I(E,T,O){var V={kind:"delete",uri:E};return T!==void 0&&(T.recursive!==void 0||T.ignoreIfNotExists!==void 0)&&(V.options=T),O!==void 0&&(V.annotationId=O),V}v.create=I;function x(E){var T=E;return T&&T.kind==="delete"&&S.string(T.uri)&&(T.options===void 0||(T.options.recursive===void 0||S.boolean(T.options.recursive))&&(T.options.ignoreIfNotExists===void 0||S.boolean(T.options.ignoreIfNotExists)))&&(T.annotationId===void 0||w.is(T.annotationId))}v.is=x})(Z=e.DeleteFile||(e.DeleteFile={}));var Te;(function(v){function I(x){var E=x;return E&&(E.changes!==void 0||E.documentChanges!==void 0)&&(E.documentChanges===void 0||E.documentChanges.every(function(T){return S.string(T.kind)?j.is(T)||X.is(T)||Z.is(T):H.is(T)}))}v.is=I})(Te=e.WorkspaceEdit||(e.WorkspaceEdit={}));var we=function(){function v(I,x){this.edits=I,this.changeAnnotations=x}return v.prototype.insert=function(I,x,E){var T,O;if(E===void 0?T=N.insert(I,x):w.is(E)?(O=E,T=te.insert(I,x,E)):(this.assertChangeAnnotations(this.changeAnnotations),O=this.changeAnnotations.manage(E),T=te.insert(I,x,O)),this.edits.push(T),O!==void 0)return O},v.prototype.replace=function(I,x,E){var T,O;if(E===void 0?T=N.replace(I,x):w.is(E)?(O=E,T=te.replace(I,x,E)):(this.assertChangeAnnotations(this.changeAnnotations),O=this.changeAnnotations.manage(E),T=te.replace(I,x,O)),this.edits.push(T),O!==void 0)return O},v.prototype.delete=function(I,x){var E,T;if(x===void 0?E=N.del(I):w.is(x)?(T=x,E=te.del(I,x)):(this.assertChangeAnnotations(this.changeAnnotations),T=this.changeAnnotations.manage(x),E=te.del(I,T)),this.edits.push(E),T!==void 0)return T},v.prototype.add=function(I){this.edits.push(I)},v.prototype.all=function(){return this.edits},v.prototype.clear=function(){this.edits.splice(0,this.edits.length)},v.prototype.assertChangeAnnotations=function(I){if(I===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},v}(),Le=function(){function v(I){this._annotations=I===void 0?Object.create(null):I,this._counter=0,this._size=0}return v.prototype.all=function(){return this._annotations},Object.defineProperty(v.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),v.prototype.manage=function(I,x){var E;if(w.is(I)?E=I:(E=this.nextId(),x=I),this._annotations[E]!==void 0)throw new Error("Id "+E+" is already in use.");if(x===void 0)throw new Error("No annotation provided for id "+E);return this._annotations[E]=x,this._size++,E},v.prototype.nextId=function(){return this._counter++,this._counter.toString()},v}(),qe=function(){function v(I){var x=this;this._textEditChanges=Object.create(null),I!==void 0?(this._workspaceEdit=I,I.documentChanges?(this._changeAnnotations=new Le(I.changeAnnotations),I.changeAnnotations=this._changeAnnotations.all(),I.documentChanges.forEach(function(E){if(H.is(E)){var T=new we(E.edits,x._changeAnnotations);x._textEditChanges[E.textDocument.uri]=T}})):I.changes&&Object.keys(I.changes).forEach(function(E){var T=new we(I.changes[E]);x._textEditChanges[E]=T})):this._workspaceEdit={}}return Object.defineProperty(v.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),v.prototype.getTextEditChange=function(I){if(ct.is(I)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var x={uri:I.uri,version:I.version},E=this._textEditChanges[x.uri];if(!E){var T=[],O={textDocument:x,edits:T};this._workspaceEdit.documentChanges.push(O),E=new we(T,this._changeAnnotations),this._textEditChanges[x.uri]=E}return E}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var E=this._textEditChanges[I];if(!E){var T=[];this._workspaceEdit.changes[I]=T,E=new we(T),this._textEditChanges[I]=E}return E}},v.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Le,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},v.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},v.prototype.createFile=function(I,x,E){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var T;_.is(x)||w.is(x)?T=x:E=x;var O,V;if(T===void 0?O=j.create(I,E):(V=w.is(T)?T:this._changeAnnotations.manage(T),O=j.create(I,E,V)),this._workspaceEdit.documentChanges.push(O),V!==void 0)return V},v.prototype.renameFile=function(I,x,E,T){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var O;_.is(E)||w.is(E)?O=E:T=E;var V,ue;if(O===void 0?V=X.create(I,x,T):(ue=w.is(O)?O:this._changeAnnotations.manage(O),V=X.create(I,x,T,ue)),this._workspaceEdit.documentChanges.push(V),ue!==void 0)return ue},v.prototype.deleteFile=function(I,x,E){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var T;_.is(x)||w.is(x)?T=x:E=x;var O,V;if(T===void 0?O=Z.create(I,E):(V=w.is(T)?T:this._changeAnnotations.manage(T),O=Z.create(I,E,V)),this._workspaceEdit.documentChanges.push(O),V!==void 0)return V},v}();e.WorkspaceChange=qe;var ae;(function(v){function I(E){return{uri:E}}v.create=I;function x(E){var T=E;return S.defined(T)&&S.string(T.uri)}v.is=x})(ae=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var Pe;(function(v){function I(E,T){return{uri:E,version:T}}v.create=I;function x(E){var T=E;return S.defined(T)&&S.string(T.uri)&&S.integer(T.version)}v.is=x})(Pe=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var ct;(function(v){function I(E,T){return{uri:E,version:T}}v.create=I;function x(E){var T=E;return S.defined(T)&&S.string(T.uri)&&(T.version===null||S.integer(T.version))}v.is=x})(ct=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var Jt;(function(v){function I(E,T,O,V){return{uri:E,languageId:T,version:O,text:V}}v.create=I;function x(E){var T=E;return S.defined(T)&&S.string(T.uri)&&S.string(T.languageId)&&S.integer(T.version)&&S.string(T.text)}v.is=x})(Jt=e.TextDocumentItem||(e.TextDocumentItem={}));var Je;(function(v){v.PlainText="plaintext",v.Markdown="markdown"})(Je=e.MarkupKind||(e.MarkupKind={})),function(v){function I(x){var E=x;return E===v.PlainText||E===v.Markdown}v.is=I}(Je=e.MarkupKind||(e.MarkupKind={}));var ft;(function(v){function I(x){var E=x;return S.objectLiteral(x)&&Je.is(E.kind)&&S.string(E.value)}v.is=I})(ft=e.MarkupContent||(e.MarkupContent={}));var ce;(function(v){v.Text=1,v.Method=2,v.Function=3,v.Constructor=4,v.Field=5,v.Variable=6,v.Class=7,v.Interface=8,v.Module=9,v.Property=10,v.Unit=11,v.Value=12,v.Enum=13,v.Keyword=14,v.Snippet=15,v.Color=16,v.File=17,v.Reference=18,v.Folder=19,v.EnumMember=20,v.Constant=21,v.Struct=22,v.Event=23,v.Operator=24,v.TypeParameter=25})(ce=e.CompletionItemKind||(e.CompletionItemKind={}));var Ie;(function(v){v.PlainText=1,v.Snippet=2})(Ie=e.InsertTextFormat||(e.InsertTextFormat={}));var Ge;(function(v){v.Deprecated=1})(Ge=e.CompletionItemTag||(e.CompletionItemTag={}));var K;(function(v){function I(E,T,O){return{newText:E,insert:T,replace:O}}v.create=I;function x(E){var T=E;return T&&S.string(T.newText)&&s.is(T.insert)&&s.is(T.replace)}v.is=x})(K=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var pt;(function(v){v.asIs=1,v.adjustIndentation=2})(pt=e.InsertTextMode||(e.InsertTextMode={}));var st;(function(v){function I(x){return{label:x}}v.create=I})(st=e.CompletionItem||(e.CompletionItem={}));var Dt;(function(v){function I(x,E){return{items:x||[],isIncomplete:!!E}}v.create=I})(Dt=e.CompletionList||(e.CompletionList={}));var vn;(function(v){function I(E){return E.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}v.fromPlainText=I;function x(E){var T=E;return S.string(T)||S.objectLiteral(T)&&S.string(T.language)&&S.string(T.value)}v.is=x})(vn=e.MarkedString||(e.MarkedString={}));var Di;(function(v){function I(x){var E=x;return!!E&&S.objectLiteral(E)&&(ft.is(E.contents)||vn.is(E.contents)||S.typedArray(E.contents,vn.is))&&(x.range===void 0||s.is(x.range))}v.is=I})(Di=e.Hover||(e.Hover={}));var ci;(function(v){function I(x,E){return E?{label:x,documentation:E}:{label:x}}v.create=I})(ci=e.ParameterInformation||(e.ParameterInformation={}));var Uo;(function(v){function I(x,E){for(var T=[],O=2;O<arguments.length;O++)T[O-2]=arguments[O];var V={label:x};return S.defined(E)&&(V.documentation=E),S.defined(T)?V.parameters=T:V.parameters=[],V}v.create=I})(Uo=e.SignatureInformation||(e.SignatureInformation={}));var Zi;(function(v){v.Text=1,v.Read=2,v.Write=3})(Zi=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var Wn;(function(v){function I(x,E){var T={range:x};return S.number(E)&&(T.kind=E),T}v.create=I})(Wn=e.DocumentHighlight||(e.DocumentHighlight={}));var Wo;(function(v){v.File=1,v.Module=2,v.Namespace=3,v.Package=4,v.Class=5,v.Method=6,v.Property=7,v.Field=8,v.Constructor=9,v.Enum=10,v.Interface=11,v.Function=12,v.Variable=13,v.Constant=14,v.String=15,v.Number=16,v.Boolean=17,v.Array=18,v.Object=19,v.Key=20,v.Null=21,v.EnumMember=22,v.Struct=23,v.Event=24,v.Operator=25,v.TypeParameter=26})(Wo=e.SymbolKind||(e.SymbolKind={}));var R;(function(v){v.Deprecated=1})(R=e.SymbolTag||(e.SymbolTag={}));var M;(function(v){function I(x,E,T,O,V){var ue={name:x,kind:E,location:{uri:O,range:T}};return V&&(ue.containerName=V),ue}v.create=I})(M=e.SymbolInformation||(e.SymbolInformation={}));var J;(function(v){function I(E,T,O,V,ue,ye){var Ve={name:E,detail:T,kind:O,range:V,selectionRange:ue};return ye!==void 0&&(Ve.children=ye),Ve}v.create=I;function x(E){var T=E;return T&&S.string(T.name)&&S.number(T.kind)&&s.is(T.range)&&s.is(T.selectionRange)&&(T.detail===void 0||S.string(T.detail))&&(T.deprecated===void 0||S.boolean(T.deprecated))&&(T.children===void 0||Array.isArray(T.children))&&(T.tags===void 0||Array.isArray(T.tags))}v.is=x})(J=e.DocumentSymbol||(e.DocumentSymbol={}));var G;(function(v){v.Empty="",v.QuickFix="quickfix",v.Refactor="refactor",v.RefactorExtract="refactor.extract",v.RefactorInline="refactor.inline",v.RefactorRewrite="refactor.rewrite",v.Source="source",v.SourceOrganizeImports="source.organizeImports",v.SourceFixAll="source.fixAll"})(G=e.CodeActionKind||(e.CodeActionKind={}));var F;(function(v){function I(E,T){var O={diagnostics:E};return T!=null&&(O.only=T),O}v.create=I;function x(E){var T=E;return S.defined(T)&&S.typedArray(T.diagnostics,y.is)&&(T.only===void 0||S.typedArray(T.only,S.string))}v.is=x})(F=e.CodeActionContext||(e.CodeActionContext={}));var le;(function(v){function I(E,T,O){var V={title:E},ue=!0;return typeof T=="string"?(ue=!1,V.kind=T):b.is(T)?V.command=T:V.edit=T,ue&&O!==void 0&&(V.kind=O),V}v.create=I;function x(E){var T=E;return T&&S.string(T.title)&&(T.diagnostics===void 0||S.typedArray(T.diagnostics,y.is))&&(T.kind===void 0||S.string(T.kind))&&(T.edit!==void 0||T.command!==void 0)&&(T.command===void 0||b.is(T.command))&&(T.isPreferred===void 0||S.boolean(T.isPreferred))&&(T.edit===void 0||Te.is(T.edit))}v.is=x})(le=e.CodeAction||(e.CodeAction={}));var ie;(function(v){function I(E,T){var O={range:E};return S.defined(T)&&(O.data=T),O}v.create=I;function x(E){var T=E;return S.defined(T)&&s.is(T.range)&&(S.undefined(T.command)||b.is(T.command))}v.is=x})(ie=e.CodeLens||(e.CodeLens={}));var de;(function(v){function I(E,T){return{tabSize:E,insertSpaces:T}}v.create=I;function x(E){var T=E;return S.defined(T)&&S.uinteger(T.tabSize)&&S.boolean(T.insertSpaces)}v.is=x})(de=e.FormattingOptions||(e.FormattingOptions={}));var bt;(function(v){function I(E,T,O){return{range:E,target:T,data:O}}v.create=I;function x(E){var T=E;return S.defined(T)&&s.is(T.range)&&(S.undefined(T.target)||S.string(T.target))}v.is=x})(bt=e.DocumentLink||(e.DocumentLink={}));var Mt;(function(v){function I(E,T){return{range:E,parent:T}}v.create=I;function x(E){var T=E;return T!==void 0&&s.is(T.range)&&(T.parent===void 0||v.is(T.parent))}v.is=x})(Mt=e.SelectionRange||(e.SelectionRange={})),e.EOL=[`
`,`\r
`,"\r"];var es;(function(v){function I(O,V,ue,ye){return new D(O,V,ue,ye)}v.create=I;function x(O){var V=O;return!!(S.defined(V)&&S.string(V.uri)&&(S.undefined(V.languageId)||S.string(V.languageId))&&S.uinteger(V.lineCount)&&S.func(V.getText)&&S.func(V.positionAt)&&S.func(V.offsetAt))}v.is=x;function E(O,V){for(var ue=O.getText(),ye=T(V,function(Pa,pu){var og=Pa.range.start.line-pu.range.start.line;return og===0?Pa.range.start.character-pu.range.start.character:og}),Ve=ue.length,dt=ye.length-1;dt>=0;dt--){var Yt=ye[dt],Zt=O.offsetAt(Yt.range.start),He=O.offsetAt(Yt.range.end);if(He<=Ve)ue=ue.substring(0,Zt)+Yt.newText+ue.substring(He,ue.length);else throw new Error("Overlapping edit");Ve=Zt}return ue}v.applyEdits=E;function T(O,V){if(O.length<=1)return O;var ue=O.length/2|0,ye=O.slice(0,ue),Ve=O.slice(ue);T(ye,V),T(Ve,V);for(var dt=0,Yt=0,Zt=0;dt<ye.length&&Yt<Ve.length;){var He=V(ye[dt],Ve[Yt]);He<=0?O[Zt++]=ye[dt++]:O[Zt++]=Ve[Yt++]}for(;dt<ye.length;)O[Zt++]=ye[dt++];for(;Yt<Ve.length;)O[Zt++]=Ve[Yt++];return O}})(es=e.TextDocument||(e.TextDocument={}));var D=function(){function v(I,x,E,T){this._uri=I,this._languageId=x,this._version=E,this._content=T,this._lineOffsets=void 0}return Object.defineProperty(v.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),v.prototype.getText=function(I){if(I){var x=this.offsetAt(I.start),E=this.offsetAt(I.end);return this._content.substring(x,E)}return this._content},v.prototype.update=function(I,x){this._content=I.text,this._version=x,this._lineOffsets=void 0},v.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var I=[],x=this._content,E=!0,T=0;T<x.length;T++){E&&(I.push(T),E=!1);var O=x.charAt(T);E=O==="\r"||O===`
`,O==="\r"&&T+1<x.length&&x.charAt(T+1)===`
`&&T++}E&&x.length>0&&I.push(x.length),this._lineOffsets=I}return this._lineOffsets},v.prototype.positionAt=function(I){I=Math.max(Math.min(I,this._content.length),0);var x=this.getLineOffsets(),E=0,T=x.length;if(T===0)return i.create(0,I);for(;E<T;){var O=Math.floor((E+T)/2);x[O]>I?T=O:E=O+1}var V=E-1;return i.create(V,I-x[V])},v.prototype.offsetAt=function(I){var x=this.getLineOffsets();if(I.line>=x.length)return this._content.length;if(I.line<0)return 0;var E=x[I.line],T=I.line+1<x.length?x[I.line+1]:this._content.length;return Math.max(Math.min(E+I.character,T),E)},Object.defineProperty(v.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),v}(),S;(function(v){var I=Object.prototype.toString;function x(He){return typeof He!="undefined"}v.defined=x;function E(He){return typeof He=="undefined"}v.undefined=E;function T(He){return He===!0||He===!1}v.boolean=T;function O(He){return I.call(He)==="[object String]"}v.string=O;function V(He){return I.call(He)==="[object Number]"}v.number=V;function ue(He,Pa,pu){return I.call(He)==="[object Number]"&&Pa<=He&&He<=pu}v.numberRange=ue;function ye(He){return I.call(He)==="[object Number]"&&-2147483648<=He&&He<=2147483647}v.integer=ye;function Ve(He){return I.call(He)==="[object Number]"&&0<=He&&He<=2147483647}v.uinteger=Ve;function dt(He){return I.call(He)==="[object Function]"}v.func=dt;function Yt(He){return He!==null&&typeof He=="object"}v.objectLiteral=Yt;function Zt(He,Pa){return Array.isArray(He)&&He.every(Pa)}v.typedArray=Zt})(S||(S={}))})});var rn=B(br=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});br.ProtocolNotificationType=br.ProtocolNotificationType0=br.ProtocolRequestType=br.ProtocolRequestType0=br.RegistrationType=void 0;var ka=Ma(),Ly=class{constructor(e){this.method=e}};br.RegistrationType=Ly;var Fy=class extends ka.RequestType0{constructor(e){super(e)}};br.ProtocolRequestType0=Fy;var My=class extends ka.RequestType{constructor(e){super(e,ka.ParameterStructures.byName)}};br.ProtocolRequestType=My;var ky=class extends ka.NotificationType0{constructor(e){super(e)}};br.ProtocolNotificationType0=ky;var qy=class extends ka.NotificationType{constructor(e){super(e,ka.ParameterStructures.byName)}};br.ProtocolNotificationType=qy});var jy=B(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.objectLiteral=jt.typedArray=jt.stringArray=jt.array=jt.func=jt.error=jt.number=jt.string=jt.boolean=void 0;function gI(t){return t===!0||t===!1}jt.boolean=gI;function By(t){return typeof t=="string"||t instanceof String}jt.string=By;function _I(t){return typeof t=="number"||t instanceof Number}jt.number=_I;function yI(t){return t instanceof Error}jt.error=yI;function bI(t){return typeof t=="function"}jt.func=bI;function Vy(t){return Array.isArray(t)}jt.array=Vy;function TI(t){return Vy(t)&&t.every(e=>By(e))}jt.stringArray=TI;function vI(t,e){return Array.isArray(t)&&t.every(e)}jt.typedArray=vI;function NI(t){return t!==null&&typeof t=="object"}jt.objectLiteral=NI});var Uy=B(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.ImplementationRequest=void 0;var CI=rn(),PI;(function(t){t.method="textDocument/implementation",t.type=new CI.ProtocolRequestType(t.method)})(PI=ol.ImplementationRequest||(ol.ImplementationRequest={}))});var Wy=B(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.TypeDefinitionRequest=void 0;var EI=rn(),AI;(function(t){t.method="textDocument/typeDefinition",t.type=new EI.ProtocolRequestType(t.method)})(AI=ll.TypeDefinitionRequest||(ll.TypeDefinitionRequest={}))});var Yy=B(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.DidChangeWorkspaceFoldersNotification=as.WorkspaceFoldersRequest=void 0;var Gy=rn(),SI;(function(t){t.type=new Gy.ProtocolRequestType0("workspace/workspaceFolders")})(SI=as.WorkspaceFoldersRequest||(as.WorkspaceFoldersRequest={}));var II;(function(t){t.type=new Gy.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(II=as.DidChangeWorkspaceFoldersNotification||(as.DidChangeWorkspaceFoldersNotification={}))});var Hy=B(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.ConfigurationRequest=void 0;var DI=rn(),RI;(function(t){t.type=new DI.ProtocolRequestType("workspace/configuration")})(RI=ul.ConfigurationRequest||(ul.ConfigurationRequest={}))});var Ky=B(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.ColorPresentationRequest=os.DocumentColorRequest=void 0;var $y=rn(),xI;(function(t){t.method="textDocument/documentColor",t.type=new $y.ProtocolRequestType(t.method)})(xI=os.DocumentColorRequest||(os.DocumentColorRequest={}));var wI;(function(t){t.type=new $y.ProtocolRequestType("textDocument/colorPresentation")})(wI=os.ColorPresentationRequest||(os.ColorPresentationRequest={}))});var zy=B(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.FoldingRangeRequest=ls.FoldingRangeKind=void 0;var OI=rn(),LI;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(LI=ls.FoldingRangeKind||(ls.FoldingRangeKind={}));var FI;(function(t){t.method="textDocument/foldingRange",t.type=new OI.ProtocolRequestType(t.method)})(FI=ls.FoldingRangeRequest||(ls.FoldingRangeRequest={}))});var Xy=B(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});cl.DeclarationRequest=void 0;var MI=rn(),kI;(function(t){t.method="textDocument/declaration",t.type=new MI.ProtocolRequestType(t.method)})(kI=cl.DeclarationRequest||(cl.DeclarationRequest={}))});var Qy=B(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.SelectionRangeRequest=void 0;var qI=rn(),BI;(function(t){t.method="textDocument/selectionRange",t.type=new qI.ProtocolRequestType(t.method)})(BI=fl.SelectionRangeRequest||(fl.SelectionRangeRequest={}))});var Zy=B(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.WorkDoneProgressCancelNotification=Qr.WorkDoneProgressCreateRequest=Qr.WorkDoneProgress=void 0;var VI=Ma(),Jy=rn(),jI;(function(t){t.type=new VI.ProgressType;function e(n){return n===t.type}t.is=e})(jI=Qr.WorkDoneProgress||(Qr.WorkDoneProgress={}));var UI;(function(t){t.type=new Jy.ProtocolRequestType("window/workDoneProgress/create")})(UI=Qr.WorkDoneProgressCreateRequest||(Qr.WorkDoneProgressCreateRequest={}));var WI;(function(t){t.type=new Jy.ProtocolNotificationType("window/workDoneProgress/cancel")})(WI=Qr.WorkDoneProgressCancelNotification||(Qr.WorkDoneProgressCancelNotification={}))});var eb=B(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.CallHierarchyOutgoingCallsRequest=Jr.CallHierarchyIncomingCallsRequest=Jr.CallHierarchyPrepareRequest=void 0;var td=rn(),GI;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new td.ProtocolRequestType(t.method)})(GI=Jr.CallHierarchyPrepareRequest||(Jr.CallHierarchyPrepareRequest={}));var YI;(function(t){t.method="callHierarchy/incomingCalls",t.type=new td.ProtocolRequestType(t.method)})(YI=Jr.CallHierarchyIncomingCallsRequest||(Jr.CallHierarchyIncomingCallsRequest={}));var HI;(function(t){t.method="callHierarchy/outgoingCalls",t.type=new td.ProtocolRequestType(t.method)})(HI=Jr.CallHierarchyOutgoingCallsRequest||(Jr.CallHierarchyOutgoingCallsRequest={}))});var tb=B(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.SemanticTokensRefreshRequest=rt.SemanticTokensRangeRequest=rt.SemanticTokensDeltaRequest=rt.SemanticTokensRequest=rt.SemanticTokensRegistrationType=rt.TokenFormat=rt.SemanticTokens=rt.SemanticTokenModifiers=rt.SemanticTokenTypes=void 0;var pl=rn(),$I;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator"})($I=rt.SemanticTokenTypes||(rt.SemanticTokenTypes={}));var KI;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(KI=rt.SemanticTokenModifiers||(rt.SemanticTokenModifiers={}));var zI;(function(t){function e(n){let r=n;return r!==void 0&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(zI=rt.SemanticTokens||(rt.SemanticTokens={}));var XI;(function(t){t.Relative="relative"})(XI=rt.TokenFormat||(rt.TokenFormat={}));var QI;(function(t){t.method="textDocument/semanticTokens",t.type=new pl.RegistrationType(t.method)})(QI=rt.SemanticTokensRegistrationType||(rt.SemanticTokensRegistrationType={}));var JI;(function(t){t.method="textDocument/semanticTokens/full",t.type=new pl.ProtocolRequestType(t.method)})(JI=rt.SemanticTokensRequest||(rt.SemanticTokensRequest={}));var ZI;(function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new pl.ProtocolRequestType(t.method)})(ZI=rt.SemanticTokensDeltaRequest||(rt.SemanticTokensDeltaRequest={}));var eD;(function(t){t.method="textDocument/semanticTokens/range",t.type=new pl.ProtocolRequestType(t.method)})(eD=rt.SemanticTokensRangeRequest||(rt.SemanticTokensRangeRequest={}));var tD;(function(t){t.method="workspace/semanticTokens/refresh",t.type=new pl.ProtocolRequestType0(t.method)})(tD=rt.SemanticTokensRefreshRequest||(rt.SemanticTokensRefreshRequest={}))});var nb=B(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.ShowDocumentRequest=void 0;var nD=rn(),rD;(function(t){t.method="window/showDocument",t.type=new nD.ProtocolRequestType(t.method)})(rD=dl.ShowDocumentRequest||(dl.ShowDocumentRequest={}))});var rb=B(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.LinkedEditingRangeRequest=void 0;var iD=rn(),sD;(function(t){t.method="textDocument/linkedEditingRange",t.type=new iD.ProtocolRequestType(t.method)})(sD=hl.LinkedEditingRangeRequest||(hl.LinkedEditingRangeRequest={}))});var ib=B(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.WillDeleteFilesRequest=Et.DidDeleteFilesNotification=Et.DidRenameFilesNotification=Et.WillRenameFilesRequest=Et.DidCreateFilesNotification=Et.WillCreateFilesRequest=Et.FileOperationPatternKind=void 0;var qa=rn(),aD;(function(t){t.file="file",t.folder="folder"})(aD=Et.FileOperationPatternKind||(Et.FileOperationPatternKind={}));var oD;(function(t){t.method="workspace/willCreateFiles",t.type=new qa.ProtocolRequestType(t.method)})(oD=Et.WillCreateFilesRequest||(Et.WillCreateFilesRequest={}));var lD;(function(t){t.method="workspace/didCreateFiles",t.type=new qa.ProtocolNotificationType(t.method)})(lD=Et.DidCreateFilesNotification||(Et.DidCreateFilesNotification={}));var uD;(function(t){t.method="workspace/willRenameFiles",t.type=new qa.ProtocolRequestType(t.method)})(uD=Et.WillRenameFilesRequest||(Et.WillRenameFilesRequest={}));var cD;(function(t){t.method="workspace/didRenameFiles",t.type=new qa.ProtocolNotificationType(t.method)})(cD=Et.DidRenameFilesNotification||(Et.DidRenameFilesNotification={}));var fD;(function(t){t.method="workspace/didDeleteFiles",t.type=new qa.ProtocolNotificationType(t.method)})(fD=Et.DidDeleteFilesNotification||(Et.DidDeleteFilesNotification={}));var pD;(function(t){t.method="workspace/willDeleteFiles",t.type=new qa.ProtocolRequestType(t.method)})(pD=Et.WillDeleteFilesRequest||(Et.WillDeleteFilesRequest={}))});var sb=B(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.MonikerRequest=Zr.MonikerKind=Zr.UniquenessLevel=void 0;var dD=rn(),hD;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(hD=Zr.UniquenessLevel||(Zr.UniquenessLevel={}));var mD;(function(t){t.import="import",t.export="export",t.local="local"})(mD=Zr.MonikerKind||(Zr.MonikerKind={}));var gD;(function(t){t.method="textDocument/moniker",t.type=new dD.ProtocolRequestType(t.method)})(gD=Zr.MonikerRequest||(Zr.MonikerRequest={}))});var cb=B(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.DocumentLinkRequest=A.CodeLensRefreshRequest=A.CodeLensResolveRequest=A.CodeLensRequest=A.WorkspaceSymbolRequest=A.CodeActionResolveRequest=A.CodeActionRequest=A.DocumentSymbolRequest=A.DocumentHighlightRequest=A.ReferencesRequest=A.DefinitionRequest=A.SignatureHelpRequest=A.SignatureHelpTriggerKind=A.HoverRequest=A.CompletionResolveRequest=A.CompletionRequest=A.CompletionTriggerKind=A.PublishDiagnosticsNotification=A.WatchKind=A.FileChangeType=A.DidChangeWatchedFilesNotification=A.WillSaveTextDocumentWaitUntilRequest=A.WillSaveTextDocumentNotification=A.TextDocumentSaveReason=A.DidSaveTextDocumentNotification=A.DidCloseTextDocumentNotification=A.DidChangeTextDocumentNotification=A.TextDocumentContentChangeEvent=A.DidOpenTextDocumentNotification=A.TextDocumentSyncKind=A.TelemetryEventNotification=A.LogMessageNotification=A.ShowMessageRequest=A.ShowMessageNotification=A.MessageType=A.DidChangeConfigurationNotification=A.ExitNotification=A.ShutdownRequest=A.InitializedNotification=A.InitializeError=A.InitializeRequest=A.WorkDoneProgressOptions=A.TextDocumentRegistrationOptions=A.StaticRegistrationOptions=A.FailureHandlingKind=A.ResourceOperationKind=A.UnregistrationRequest=A.RegistrationRequest=A.DocumentSelector=A.DocumentFilter=void 0;A.MonikerRequest=A.MonikerKind=A.UniquenessLevel=A.WillDeleteFilesRequest=A.DidDeleteFilesNotification=A.WillRenameFilesRequest=A.DidRenameFilesNotification=A.WillCreateFilesRequest=A.DidCreateFilesNotification=A.FileOperationPatternKind=A.LinkedEditingRangeRequest=A.ShowDocumentRequest=A.SemanticTokensRegistrationType=A.SemanticTokensRefreshRequest=A.SemanticTokensRangeRequest=A.SemanticTokensDeltaRequest=A.SemanticTokensRequest=A.TokenFormat=A.SemanticTokens=A.SemanticTokenModifiers=A.SemanticTokenTypes=A.CallHierarchyPrepareRequest=A.CallHierarchyOutgoingCallsRequest=A.CallHierarchyIncomingCallsRequest=A.WorkDoneProgressCancelNotification=A.WorkDoneProgressCreateRequest=A.WorkDoneProgress=A.SelectionRangeRequest=A.DeclarationRequest=A.FoldingRangeRequest=A.ColorPresentationRequest=A.DocumentColorRequest=A.ConfigurationRequest=A.DidChangeWorkspaceFoldersNotification=A.WorkspaceFoldersRequest=A.TypeDefinitionRequest=A.ImplementationRequest=A.ApplyWorkspaceEditRequest=A.ExecuteCommandRequest=A.PrepareRenameRequest=A.RenameRequest=A.PrepareSupportDefaultBehavior=A.DocumentOnTypeFormattingRequest=A.DocumentRangeFormattingRequest=A.DocumentFormattingRequest=A.DocumentLinkResolveRequest=void 0;var us=jy(),Fe=rn(),_D=Uy();Object.defineProperty(A,"ImplementationRequest",{enumerable:!0,get:function(){return _D.ImplementationRequest}});var yD=Wy();Object.defineProperty(A,"TypeDefinitionRequest",{enumerable:!0,get:function(){return yD.TypeDefinitionRequest}});var ab=Yy();Object.defineProperty(A,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return ab.WorkspaceFoldersRequest}});Object.defineProperty(A,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return ab.DidChangeWorkspaceFoldersNotification}});var bD=Hy();Object.defineProperty(A,"ConfigurationRequest",{enumerable:!0,get:function(){return bD.ConfigurationRequest}});var ob=Ky();Object.defineProperty(A,"DocumentColorRequest",{enumerable:!0,get:function(){return ob.DocumentColorRequest}});Object.defineProperty(A,"ColorPresentationRequest",{enumerable:!0,get:function(){return ob.ColorPresentationRequest}});var TD=zy();Object.defineProperty(A,"FoldingRangeRequest",{enumerable:!0,get:function(){return TD.FoldingRangeRequest}});var vD=Xy();Object.defineProperty(A,"DeclarationRequest",{enumerable:!0,get:function(){return vD.DeclarationRequest}});var ND=Qy();Object.defineProperty(A,"SelectionRangeRequest",{enumerable:!0,get:function(){return ND.SelectionRangeRequest}});var nd=Zy();Object.defineProperty(A,"WorkDoneProgress",{enumerable:!0,get:function(){return nd.WorkDoneProgress}});Object.defineProperty(A,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return nd.WorkDoneProgressCreateRequest}});Object.defineProperty(A,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return nd.WorkDoneProgressCancelNotification}});var rd=eb();Object.defineProperty(A,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return rd.CallHierarchyIncomingCallsRequest}});Object.defineProperty(A,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return rd.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(A,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return rd.CallHierarchyPrepareRequest}});var ji=tb();Object.defineProperty(A,"SemanticTokenTypes",{enumerable:!0,get:function(){return ji.SemanticTokenTypes}});Object.defineProperty(A,"SemanticTokenModifiers",{enumerable:!0,get:function(){return ji.SemanticTokenModifiers}});Object.defineProperty(A,"SemanticTokens",{enumerable:!0,get:function(){return ji.SemanticTokens}});Object.defineProperty(A,"TokenFormat",{enumerable:!0,get:function(){return ji.TokenFormat}});Object.defineProperty(A,"SemanticTokensRequest",{enumerable:!0,get:function(){return ji.SemanticTokensRequest}});Object.defineProperty(A,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return ji.SemanticTokensDeltaRequest}});Object.defineProperty(A,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return ji.SemanticTokensRangeRequest}});Object.defineProperty(A,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return ji.SemanticTokensRefreshRequest}});Object.defineProperty(A,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return ji.SemanticTokensRegistrationType}});var CD=nb();Object.defineProperty(A,"ShowDocumentRequest",{enumerable:!0,get:function(){return CD.ShowDocumentRequest}});var PD=rb();Object.defineProperty(A,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return PD.LinkedEditingRangeRequest}});var Ys=ib();Object.defineProperty(A,"FileOperationPatternKind",{enumerable:!0,get:function(){return Ys.FileOperationPatternKind}});Object.defineProperty(A,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Ys.DidCreateFilesNotification}});Object.defineProperty(A,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Ys.WillCreateFilesRequest}});Object.defineProperty(A,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Ys.DidRenameFilesNotification}});Object.defineProperty(A,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Ys.WillRenameFilesRequest}});Object.defineProperty(A,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Ys.DidDeleteFilesNotification}});Object.defineProperty(A,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Ys.WillDeleteFilesRequest}});var id=sb();Object.defineProperty(A,"UniquenessLevel",{enumerable:!0,get:function(){return id.UniquenessLevel}});Object.defineProperty(A,"MonikerKind",{enumerable:!0,get:function(){return id.MonikerKind}});Object.defineProperty(A,"MonikerRequest",{enumerable:!0,get:function(){return id.MonikerRequest}});var lb;(function(t){function e(n){let r=n;return us.string(r.language)||us.string(r.scheme)||us.string(r.pattern)}t.is=e})(lb=A.DocumentFilter||(A.DocumentFilter={}));var ub;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!us.string(r)&&!lb.is(r))return!1;return!0}t.is=e})(ub=A.DocumentSelector||(A.DocumentSelector={}));var ED;(function(t){t.type=new Fe.ProtocolRequestType("client/registerCapability")})(ED=A.RegistrationRequest||(A.RegistrationRequest={}));var AD;(function(t){t.type=new Fe.ProtocolRequestType("client/unregisterCapability")})(AD=A.UnregistrationRequest||(A.UnregistrationRequest={}));var SD;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(SD=A.ResourceOperationKind||(A.ResourceOperationKind={}));var ID;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(ID=A.FailureHandlingKind||(A.FailureHandlingKind={}));var DD;(function(t){function e(n){let r=n;return r&&us.string(r.id)&&r.id.length>0}t.hasId=e})(DD=A.StaticRegistrationOptions||(A.StaticRegistrationOptions={}));var RD;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||ub.is(r.documentSelector))}t.is=e})(RD=A.TextDocumentRegistrationOptions||(A.TextDocumentRegistrationOptions={}));var xD;(function(t){function e(r){let i=r;return us.objectLiteral(i)&&(i.workDoneProgress===void 0||us.boolean(i.workDoneProgress))}t.is=e;function n(r){let i=r;return i&&us.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=n})(xD=A.WorkDoneProgressOptions||(A.WorkDoneProgressOptions={}));var wD;(function(t){t.type=new Fe.ProtocolRequestType("initialize")})(wD=A.InitializeRequest||(A.InitializeRequest={}));var OD;(function(t){t.unknownProtocolVersion=1})(OD=A.InitializeError||(A.InitializeError={}));var LD;(function(t){t.type=new Fe.ProtocolNotificationType("initialized")})(LD=A.InitializedNotification||(A.InitializedNotification={}));var FD;(function(t){t.type=new Fe.ProtocolRequestType0("shutdown")})(FD=A.ShutdownRequest||(A.ShutdownRequest={}));var MD;(function(t){t.type=new Fe.ProtocolNotificationType0("exit")})(MD=A.ExitNotification||(A.ExitNotification={}));var kD;(function(t){t.type=new Fe.ProtocolNotificationType("workspace/didChangeConfiguration")})(kD=A.DidChangeConfigurationNotification||(A.DidChangeConfigurationNotification={}));var qD;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(qD=A.MessageType||(A.MessageType={}));var BD;(function(t){t.type=new Fe.ProtocolNotificationType("window/showMessage")})(BD=A.ShowMessageNotification||(A.ShowMessageNotification={}));var VD;(function(t){t.type=new Fe.ProtocolRequestType("window/showMessageRequest")})(VD=A.ShowMessageRequest||(A.ShowMessageRequest={}));var jD;(function(t){t.type=new Fe.ProtocolNotificationType("window/logMessage")})(jD=A.LogMessageNotification||(A.LogMessageNotification={}));var UD;(function(t){t.type=new Fe.ProtocolNotificationType("telemetry/event")})(UD=A.TelemetryEventNotification||(A.TelemetryEventNotification={}));var WD;(function(t){t.None=0,t.Full=1,t.Incremental=2})(WD=A.TextDocumentSyncKind||(A.TextDocumentSyncKind={}));var GD;(function(t){t.method="textDocument/didOpen",t.type=new Fe.ProtocolNotificationType(t.method)})(GD=A.DidOpenTextDocumentNotification||(A.DidOpenTextDocumentNotification={}));var YD;(function(t){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=n})(YD=A.TextDocumentContentChangeEvent||(A.TextDocumentContentChangeEvent={}));var HD;(function(t){t.method="textDocument/didChange",t.type=new Fe.ProtocolNotificationType(t.method)})(HD=A.DidChangeTextDocumentNotification||(A.DidChangeTextDocumentNotification={}));var $D;(function(t){t.method="textDocument/didClose",t.type=new Fe.ProtocolNotificationType(t.method)})($D=A.DidCloseTextDocumentNotification||(A.DidCloseTextDocumentNotification={}));var KD;(function(t){t.method="textDocument/didSave",t.type=new Fe.ProtocolNotificationType(t.method)})(KD=A.DidSaveTextDocumentNotification||(A.DidSaveTextDocumentNotification={}));var zD;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(zD=A.TextDocumentSaveReason||(A.TextDocumentSaveReason={}));var XD;(function(t){t.method="textDocument/willSave",t.type=new Fe.ProtocolNotificationType(t.method)})(XD=A.WillSaveTextDocumentNotification||(A.WillSaveTextDocumentNotification={}));var QD;(function(t){t.method="textDocument/willSaveWaitUntil",t.type=new Fe.ProtocolRequestType(t.method)})(QD=A.WillSaveTextDocumentWaitUntilRequest||(A.WillSaveTextDocumentWaitUntilRequest={}));var JD;(function(t){t.type=new Fe.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(JD=A.DidChangeWatchedFilesNotification||(A.DidChangeWatchedFilesNotification={}));var ZD;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(ZD=A.FileChangeType||(A.FileChangeType={}));var eR;(function(t){t.Create=1,t.Change=2,t.Delete=4})(eR=A.WatchKind||(A.WatchKind={}));var tR;(function(t){t.type=new Fe.ProtocolNotificationType("textDocument/publishDiagnostics")})(tR=A.PublishDiagnosticsNotification||(A.PublishDiagnosticsNotification={}));var nR;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(nR=A.CompletionTriggerKind||(A.CompletionTriggerKind={}));var rR;(function(t){t.method="textDocument/completion",t.type=new Fe.ProtocolRequestType(t.method)})(rR=A.CompletionRequest||(A.CompletionRequest={}));var iR;(function(t){t.method="completionItem/resolve",t.type=new Fe.ProtocolRequestType(t.method)})(iR=A.CompletionResolveRequest||(A.CompletionResolveRequest={}));var sR;(function(t){t.method="textDocument/hover",t.type=new Fe.ProtocolRequestType(t.method)})(sR=A.HoverRequest||(A.HoverRequest={}));var aR;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(aR=A.SignatureHelpTriggerKind||(A.SignatureHelpTriggerKind={}));var oR;(function(t){t.method="textDocument/signatureHelp",t.type=new Fe.ProtocolRequestType(t.method)})(oR=A.SignatureHelpRequest||(A.SignatureHelpRequest={}));var lR;(function(t){t.method="textDocument/definition",t.type=new Fe.ProtocolRequestType(t.method)})(lR=A.DefinitionRequest||(A.DefinitionRequest={}));var uR;(function(t){t.method="textDocument/references",t.type=new Fe.ProtocolRequestType(t.method)})(uR=A.ReferencesRequest||(A.ReferencesRequest={}));var cR;(function(t){t.method="textDocument/documentHighlight",t.type=new Fe.ProtocolRequestType(t.method)})(cR=A.DocumentHighlightRequest||(A.DocumentHighlightRequest={}));var fR;(function(t){t.method="textDocument/documentSymbol",t.type=new Fe.ProtocolRequestType(t.method)})(fR=A.DocumentSymbolRequest||(A.DocumentSymbolRequest={}));var pR;(function(t){t.method="textDocument/codeAction",t.type=new Fe.ProtocolRequestType(t.method)})(pR=A.CodeActionRequest||(A.CodeActionRequest={}));var dR;(function(t){t.method="codeAction/resolve",t.type=new Fe.ProtocolRequestType(t.method)})(dR=A.CodeActionResolveRequest||(A.CodeActionResolveRequest={}));var hR;(function(t){t.method="workspace/symbol",t.type=new Fe.ProtocolRequestType(t.method)})(hR=A.WorkspaceSymbolRequest||(A.WorkspaceSymbolRequest={}));var mR;(function(t){t.method="textDocument/codeLens",t.type=new Fe.ProtocolRequestType(t.method)})(mR=A.CodeLensRequest||(A.CodeLensRequest={}));var gR;(function(t){t.method="codeLens/resolve",t.type=new Fe.ProtocolRequestType(t.method)})(gR=A.CodeLensResolveRequest||(A.CodeLensResolveRequest={}));var _R;(function(t){t.method="workspace/codeLens/refresh",t.type=new Fe.ProtocolRequestType0(t.method)})(_R=A.CodeLensRefreshRequest||(A.CodeLensRefreshRequest={}));var yR;(function(t){t.method="textDocument/documentLink",t.type=new Fe.ProtocolRequestType(t.method)})(yR=A.DocumentLinkRequest||(A.DocumentLinkRequest={}));var bR;(function(t){t.method="documentLink/resolve",t.type=new Fe.ProtocolRequestType(t.method)})(bR=A.DocumentLinkResolveRequest||(A.DocumentLinkResolveRequest={}));var TR;(function(t){t.method="textDocument/formatting",t.type=new Fe.ProtocolRequestType(t.method)})(TR=A.DocumentFormattingRequest||(A.DocumentFormattingRequest={}));var vR;(function(t){t.method="textDocument/rangeFormatting",t.type=new Fe.ProtocolRequestType(t.method)})(vR=A.DocumentRangeFormattingRequest||(A.DocumentRangeFormattingRequest={}));var NR;(function(t){t.method="textDocument/onTypeFormatting",t.type=new Fe.ProtocolRequestType(t.method)})(NR=A.DocumentOnTypeFormattingRequest||(A.DocumentOnTypeFormattingRequest={}));var CR;(function(t){t.Identifier=1})(CR=A.PrepareSupportDefaultBehavior||(A.PrepareSupportDefaultBehavior={}));var PR;(function(t){t.method="textDocument/rename",t.type=new Fe.ProtocolRequestType(t.method)})(PR=A.RenameRequest||(A.RenameRequest={}));var ER;(function(t){t.method="textDocument/prepareRename",t.type=new Fe.ProtocolRequestType(t.method)})(ER=A.PrepareRenameRequest||(A.PrepareRenameRequest={}));var AR;(function(t){t.type=new Fe.ProtocolRequestType("workspace/executeCommand")})(AR=A.ExecuteCommandRequest||(A.ExecuteCommandRequest={}));var SR;(function(t){t.type=new Fe.ProtocolRequestType("workspace/applyEdit")})(SR=A.ApplyWorkspaceEditRequest||(A.ApplyWorkspaceEditRequest={}))});var pb=B(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.createProtocolConnection=void 0;var fb=Ma();function IR(t,e,n,r){return fb.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),fb.createMessageConnection(t,e,n,r)}Vu.createProtocolConnection=IR});var db=B(In=>{"use strict";var DR=In&&In.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),ju=In&&In.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&DR(e,t,n)};Object.defineProperty(In,"__esModule",{value:!0});In.LSPErrorCodes=In.createProtocolConnection=void 0;ju(Ma(),In);ju(vt(),In);ju(rn(),In);ju(cb(),In);var RR=pb();Object.defineProperty(In,"createProtocolConnection",{enumerable:!0,get:function(){return RR.createProtocolConnection}});var xR;(function(t){t.lspReservedErrorRangeStart=-32899,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(xR=In.LSPErrorCodes||(In.LSPErrorCodes={}))});var qn=B(Ti=>{"use strict";var wR=Ti&&Ti.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),hb=Ti&&Ti.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&wR(e,t,n)};Object.defineProperty(Ti,"__esModule",{value:!0});Ti.createProtocolConnection=void 0;var OR=ed();hb(ed(),Ti);hb(db(),Ti);function LR(t,e,n,r){return OR.createMessageConnection(t,e,n,r)}Ti.createProtocolConnection=LR});var sd=B(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});Tr.generateUuid=Tr.parse=Tr.isUUID=Tr.v4=Tr.empty=void 0;var Uu=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},je=class extends Uu{constructor(){super([je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),"-",je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),"-","4",je._randomHex(),je._randomHex(),je._randomHex(),"-",je._oneOf(je._timeHighBits),je._randomHex(),je._randomHex(),je._randomHex(),"-",je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex(),je._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return je._oneOf(je._chars)}};je._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];je._timeHighBits=["8","9","a","b"];Tr.empty=new Uu("00000000-0000-0000-0000-000000000000");function mb(){return new je}Tr.v4=mb;var FR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function gb(t){return FR.test(t)}Tr.isUUID=gb;function MR(t){if(!gb(t))throw new Error("invalid uuid");return new Uu(t)}Tr.parse=MR;function kR(){return mb().asHex()}Tr.generateUuid=kR});var yb=B(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.attachPartialResult=fs.ProgressFeature=fs.attachWorkDone=void 0;var cs=qn(),qR=sd(),Ui=class{constructor(e,n){this._connection=e,this._token=n,Ui.Instances.set(this._token,this)}begin(e,n,r,i){let s={kind:"begin",title:e,percentage:n,message:r,cancellable:i};this._connection.sendProgress(cs.WorkDoneProgress.type,this._token,s)}report(e,n){let r={kind:"report"};typeof e=="number"?(r.percentage=e,n!==void 0&&(r.message=n)):r.message=e,this._connection.sendProgress(cs.WorkDoneProgress.type,this._token,r)}done(){Ui.Instances.delete(this._token),this._connection.sendProgress(cs.WorkDoneProgress.type,this._token,{kind:"end"})}};Ui.Instances=new Map;var ad=class extends Ui{constructor(e,n){super(e,n);this._source=new cs.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},Wu=class{constructor(){}begin(){}report(){}done(){}},od=class extends Wu{constructor(){super();this._source=new cs.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function BR(t,e){if(e===void 0||e.workDoneToken===void 0)return new Wu;let n=e.workDoneToken;return delete e.workDoneToken,new Ui(t,n)}fs.attachWorkDone=BR;var VR=t=>class extends t{constructor(){super();this._progressSupported=!1}initialize(e){var n;((n=e==null?void 0:e.window)===null||n===void 0?void 0:n.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(cs.WorkDoneProgressCancelNotification.type,r=>{let i=Ui.Instances.get(r.token);(i instanceof ad||i instanceof od)&&i.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new Wu:new Ui(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){let e=qR.generateUuid();return this.connection.sendRequest(cs.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new ad(this.connection,e))}else return Promise.resolve(new od)}};fs.ProgressFeature=VR;var ld;(function(t){t.type=new cs.ProgressType})(ld||(ld={}));var _b=class{constructor(e,n){this._connection=e,this._token=n}report(e){this._connection.sendProgress(ld.type,this._token,e)}};function jR(t,e){if(e===void 0||e.partialResultToken===void 0)return;let n=e.partialResultToken;return delete e.partialResultToken,new _b(t,n)}fs.attachPartialResult=jR});var bb=B(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.ConfigurationFeature=void 0;var UR=qn(),WR=xu(),GR=t=>class extends t{getConfiguration(e){return e?WR.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let n={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(UR.ConfigurationRequest.type,n).then(r=>Array.isArray(e)?r:r[0])}};Gu.ConfigurationFeature=GR});var Tb=B(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.WorkspaceFoldersFeature=void 0;var Yu=qn(),YR=t=>class extends t{initialize(e){let n=e.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Yu.Emitter,this.connection.onNotification(Yu.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(Yu.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(Yu.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};Hu.WorkspaceFoldersFeature=YR});var vb=B($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.CallHierarchyFeature=void 0;var ud=qn(),HR=t=>class extends t{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest(ud.CallHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))},onIncomingCalls:e=>{let n=ud.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:e=>{let n=ud.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};$u.CallHierarchyFeature=HR});var fd=B(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.SemanticTokensBuilder=Ba.SemanticTokensFeature=void 0;var cd=qn(),$R=t=>class extends t{get semanticTokens(){return{on:e=>{let n=cd.SemanticTokensRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:e=>{let n=cd.SemanticTokensDeltaRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:e=>{let n=cd.SemanticTokensRangeRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Ba.SemanticTokensFeature=$R;var Nb=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,n,r,i,s){let a=e,o=n;this._dataLen>0&&(a-=this._prevLine,a===0&&(o-=this._prevChar)),this._data[this._dataLen++]=a,this._data[this._dataLen++]=o,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=e,this._prevChar=n}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){let e=this._prevData.length,n=this._data.length,r=0;for(;r<n&&r<e&&this._prevData[r]===this._data[r];)r++;if(r<n&&r<e){let i=0;for(;i<n&&i<e&&this._prevData[e-1-i]===this._data[n-1-i];)i++;let s=this._data.slice(r,n-i);return{resultId:this.id,edits:[{start:r,deleteCount:e-i-r,data:s}]}}else return r<n?{resultId:this.id,edits:[{start:r,deleteCount:0,data:this._data.slice(r)}]}:r<e?{resultId:this.id,edits:[{start:r,deleteCount:e-r}]}:{resultId:this.id,edits:[]}}else return this.build()}};Ba.SemanticTokensBuilder=Nb});var Cb=B(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.ShowDocumentFeature=void 0;var KR=qn(),zR=t=>class extends t{showDocument(e){return this.connection.sendRequest(KR.ShowDocumentRequest.type,e)}};Ku.ShowDocumentFeature=zR});var Pb=B(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.FileOperationsFeature=void 0;var Va=qn(),XR=t=>class extends t{onDidCreateFiles(e){this.connection.onNotification(Va.DidCreateFilesNotification.type,n=>{e(n)})}onDidRenameFiles(e){this.connection.onNotification(Va.DidRenameFilesNotification.type,n=>{e(n)})}onDidDeleteFiles(e){this.connection.onNotification(Va.DidDeleteFilesNotification.type,n=>{e(n)})}onWillCreateFiles(e){return this.connection.onRequest(Va.WillCreateFilesRequest.type,(n,r)=>e(n,r))}onWillRenameFiles(e){return this.connection.onRequest(Va.WillRenameFilesRequest.type,(n,r)=>e(n,r))}onWillDeleteFiles(e){return this.connection.onRequest(Va.WillDeleteFilesRequest.type,(n,r)=>e(n,r))}};zu.FileOperationsFeature=XR});var Eb=B(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});Xu.LinkedEditingRangeFeature=void 0;var QR=qn(),JR=t=>class extends t{onLinkedEditingRange(e){this.connection.onRequest(QR.LinkedEditingRangeRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))}};Xu.LinkedEditingRangeFeature=JR});var Ab=B(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.MonikerFeature=void 0;var ZR=qn(),ex=t=>class extends t{get moniker(){return{on:e=>{let n=ZR.MonikerRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Qu.MonikerFeature=ex});var Td=B(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.createConnection=ze.combineFeatures=ze.combineLanguagesFeatures=ze.combineWorkspaceFeatures=ze.combineWindowFeatures=ze.combineClientFeatures=ze.combineTracerFeatures=ze.combineTelemetryFeatures=ze.combineConsoleFeatures=ze._LanguagesImpl=ze.BulkUnregistration=ze.BulkRegistration=ze.ErrorMessageTracker=ze.TextDocuments=void 0;var ee=qn(),vr=xu(),pd=sd(),Me=yb(),tx=bb(),nx=Tb(),rx=vb(),ix=fd(),sx=Cb(),ax=Pb(),ox=Eb(),lx=Ab();function dd(t){if(t!==null)return t}var Sb=class{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new ee.Emitter,this._onDidOpen=new ee.Emitter,this._onDidClose=new ee.Emitter,this._onDidSave=new ee.Emitter,this._onWillSave=new ee.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map(e=>this._documents[e])}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=ee.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(n=>{let r=n.textDocument,i=this._configuration.create(r.uri,r.languageId,r.version,r.text);this._documents[r.uri]=i;let s=Object.freeze({document:i});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)}),e.onDidChangeTextDocument(n=>{let r=n.textDocument,i=n.contentChanges;if(i.length===0)return;let s=this._documents[r.uri],{version:a}=r;if(a==null)throw new Error(`Received document change event for ${r.uri} without valid version identifier`);s=this._configuration.update(s,i,a),this._documents[r.uri]=s,this._onDidChangeContent.fire(Object.freeze({document:s}))}),e.onDidCloseTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&(delete this._documents[n.textDocument.uri],this._onDidClose.fire(Object.freeze({document:r})))}),e.onWillSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onWillSave.fire(Object.freeze({document:r,reason:n.reason}))}),e.onWillSaveTextDocumentWaitUntil((n,r)=>{let i=this._documents[n.textDocument.uri];return i&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:i,reason:n.reason}),r):[]}),e.onDidSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onDidSave.fire(Object.freeze({document:r}))})}};ze.TextDocuments=Sb;var Ib=class{constructor(){this._messages=Object.create(null)}add(e){let n=this._messages[e];n||(n=0),n++,this._messages[e]=n}sendErrors(e){Object.keys(this._messages).forEach(n=>{e.window.showErrorMessage(n)})}};ze.ErrorMessageTracker=Ib;var hd=class{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(ee.MessageType.Error,e)}warn(e){this.send(ee.MessageType.Warning,e)}info(e){this.send(ee.MessageType.Info,e)}log(e){this.send(ee.MessageType.Log,e)}send(e,n){this._rawConnection&&this._rawConnection.sendNotification(ee.LogMessageNotification.type,{type:e,message:n})}},Db=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...n){let r={type:ee.MessageType.Error,message:e,actions:n};return this.connection.sendRequest(ee.ShowMessageRequest.type,r).then(dd)}showWarningMessage(e,...n){let r={type:ee.MessageType.Warning,message:e,actions:n};return this.connection.sendRequest(ee.ShowMessageRequest.type,r).then(dd)}showInformationMessage(e,...n){let r={type:ee.MessageType.Info,message:e,actions:n};return this.connection.sendRequest(ee.ShowMessageRequest.type,r).then(dd)}},Rb=sx.ShowDocumentFeature(Me.ProgressFeature(Db)),ux;(function(t){function e(){return new md}t.create=e})(ux=ze.BulkRegistration||(ze.BulkRegistration={}));var md=class{constructor(){this._registrations=[],this._registered=new Set}add(e,n){let r=vr.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let i=pd.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},cx;(function(t){function e(){return new Ju(void 0,[])}t.create=e})(cx=ze.BulkUnregistration||(ze.BulkUnregistration={}));var Ju=class{constructor(e,n){this._connection=e,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let n={unregisterations:e};this._connection.sendRequest(ee.UnregistrationRequest.type,n).then(void 0,r=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){let n=vr.string(e)?e:e.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(ee.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},s=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},gd=class{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,n,r){return e instanceof md?this.registerMany(e):e instanceof Ju?this.registerSingle1(e,n,r):this.registerSingle2(e,n)}registerSingle1(e,n,r){let i=vr.string(n)?n:n.method,s=pd.generateUuid(),a={registrations:[{id:s,method:i,registerOptions:r||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(ee.RegistrationRequest.type,a).then(o=>(e.add({id:s,method:i}),e),o=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(o)))}registerSingle2(e,n){let r=vr.string(e)?e:e.method,i=pd.generateUuid(),s={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(ee.RegistrationRequest.type,s).then(a=>ee.Disposable.create(()=>{this.unregisterSingle(i,r)}),a=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(a)))}unregisterSingle(e,n){let r={unregisterations:[{id:e,method:n}]};return this.connection.sendRequest(ee.UnregistrationRequest.type,r).then(void 0,i=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let n=e.asRegistrationParams();return this.connection.sendRequest(ee.RegistrationRequest.type,n).then(()=>new Ju(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},xb=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function n(i){return i&&!!i.edit}let r=n(e)?e:{edit:e};return this.connection.sendRequest(ee.ApplyWorkspaceEditRequest.type,r)}},wb=ax.FileOperationsFeature(nx.WorkspaceFoldersFeature(tx.ConfigurationFeature(xb))),_d=class{constructor(){this._trace=ee.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,n){this._trace!==ee.Trace.Off&&this.connection.sendNotification(ee.LogTraceNotification.type,{message:e,verbose:this._trace===ee.Trace.Verbose?n:void 0})}},yd=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(ee.TelemetryEventNotification.type,e)}},bd=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return Me.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,n){return Me.attachPartialResult(this.connection,n)}};ze._LanguagesImpl=bd;var Ob=lx.MonikerFeature(ox.LinkedEditingRangeFeature(ix.SemanticTokensFeature(rx.CallHierarchyFeature(bd))));function Lb(t,e){return function(n){return e(t(n))}}ze.combineConsoleFeatures=Lb;function Fb(t,e){return function(n){return e(t(n))}}ze.combineTelemetryFeatures=Fb;function Mb(t,e){return function(n){return e(t(n))}}ze.combineTracerFeatures=Mb;function kb(t,e){return function(n){return e(t(n))}}ze.combineClientFeatures=kb;function qb(t,e){return function(n){return e(t(n))}}ze.combineWindowFeatures=qb;function Bb(t,e){return function(n){return e(t(n))}}ze.combineWorkspaceFeatures=Bb;function fx(t,e){return function(n){return e(t(n))}}ze.combineLanguagesFeatures=fx;function px(t,e){function n(i,s,a){return i&&s?a(i,s):i||s}return{__brand:"features",console:n(t.console,e.console,Lb),tracer:n(t.tracer,e.tracer,Mb),telemetry:n(t.telemetry,e.telemetry,Fb),client:n(t.client,e.client,kb),window:n(t.window,e.window,qb),workspace:n(t.workspace,e.workspace,Bb)}}ze.combineFeatures=px;function dx(t,e,n){let r=n&&n.console?new(n.console(hd)):new hd,i=t(r);r.rawAttach(i);let s=n&&n.tracer?new(n.tracer(_d)):new _d,a=n&&n.telemetry?new(n.telemetry(yd)):new yd,o=n&&n.client?new(n.client(gd)):new gd,l=n&&n.window?new(n.window(Rb)):new Rb,u=n&&n.workspace?new(n.workspace(wb)):new wb,c=n&&n.languages?new(n.languages(Ob)):new Ob,f=[r,s,a,o,l,u,c];function m(y){return y instanceof Promise?y:vr.thenable(y)?new Promise((b,N)=>{y.then(_=>b(_),_=>N(_))}):Promise.resolve(y)}let g,p,d,h={listen:()=>i.listen(),sendRequest:(y,...b)=>i.sendRequest(vr.string(y)?y:y.method,...b),onRequest:(y,b)=>i.onRequest(y,b),sendNotification:(y,b)=>{let N=vr.string(y)?y:y.method;arguments.length===1?i.sendNotification(N):i.sendNotification(N,b)},onNotification:(y,b)=>i.onNotification(y,b),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:y=>p=y,onInitialized:y=>i.onNotification(ee.InitializedNotification.type,y),onShutdown:y=>g=y,onExit:y=>d=y,get console(){return r},get telemetry(){return a},get tracer(){return s},get client(){return o},get window(){return l},get workspace(){return u},get languages(){return c},onDidChangeConfiguration:y=>i.onNotification(ee.DidChangeConfigurationNotification.type,y),onDidChangeWatchedFiles:y=>i.onNotification(ee.DidChangeWatchedFilesNotification.type,y),__textDocumentSync:void 0,onDidOpenTextDocument:y=>i.onNotification(ee.DidOpenTextDocumentNotification.type,y),onDidChangeTextDocument:y=>i.onNotification(ee.DidChangeTextDocumentNotification.type,y),onDidCloseTextDocument:y=>i.onNotification(ee.DidCloseTextDocumentNotification.type,y),onWillSaveTextDocument:y=>i.onNotification(ee.WillSaveTextDocumentNotification.type,y),onWillSaveTextDocumentWaitUntil:y=>i.onRequest(ee.WillSaveTextDocumentWaitUntilRequest.type,y),onDidSaveTextDocument:y=>i.onNotification(ee.DidSaveTextDocumentNotification.type,y),sendDiagnostics:y=>i.sendNotification(ee.PublishDiagnosticsNotification.type,y),onHover:y=>i.onRequest(ee.HoverRequest.type,(b,N)=>y(b,N,Me.attachWorkDone(i,b),void 0)),onCompletion:y=>i.onRequest(ee.CompletionRequest.type,(b,N)=>y(b,N,Me.attachWorkDone(i,b),Me.attachPartialResult(i,b))),onCompletionResolve:y=>i.onRequest(ee.CompletionResolveRequest.type,y),onSignatureHelp:y=>i.onRequest(ee.SignatureHelpRequest.type,(b,N)=>y(b,N,Me.attachWorkDone(i,b),void 0)),onDeclaration:y=>i.onRequest(ee.DeclarationRequest.type,(b,N)=>y(b,N,Me.attachWorkDone(i,b),Me.attachPartialResult(i,b))),onDefinition:y=>i.onRequest(ee.DefinitionRequest.type,(b,N)=>y(b,N,Me.attachWorkDone(i,b),Me.attachPartialResult(i,b))),onTypeDefinition:y=>i.onRequest(ee.TypeDefinitionRequest.type,(b,N)=>y(b,N,Me.attachWorkDone(i,b),Me.attachPartialResult(i,b))),onImplementation:y=>i.onRequest(ee.ImplementationRequest.type,(b,N)=>y(b,N,Me.attachWorkDone(i,b),Me.attachPartialResult(i,b))),onReferences:y=>i.onRequest(ee.ReferencesRequest.type,(b,N)=>y(b,N,Me.attachWorkDone(i,b),Me.attachPartialResult(i,b))),onDocumentHighlight:y=>i.onRequest(ee.DocumentHighlightRequest.type,(b,N)=>y(b,N,Me.attachWorkDone(i,b),Me.attachPartialResult(i,b))),onDocumentSymbol:y=>i.onRequest(ee.DocumentSymbolRequest.type,(b,N)=>y(b,N,Me.attachWorkDone(i,b),Me.attachPartialResult(i,b))),onWorkspaceSymbol:y=>i.onRequest(ee.WorkspaceSymbolRequest.type,(b,N)=>y(b,N,Me.attachWorkDone(i,b),Me.attachPartialResult(i,b))),onCodeAction:y=>i.onRequest(ee.CodeActionRequest.type,(b,N)=>y(b,N,Me.attachWorkDone(i,b),Me.attachPartialResult(i,b))),onCodeActionResolve:y=>i.onRequest(ee.CodeActionResolveRequest.type,(b,N)=>y(b,N)),onCodeLens:y=>i.onRequest(ee.CodeLensRequest.type,(b,N)=>y(b,N,Me.attachWorkDone(i,b),Me.attachPartialResult(i,b))),onCodeLensResolve:y=>i.onRequest(ee.CodeLensResolveRequest.type,(b,N)=>y(b,N)),onDocumentFormatting:y=>i.onRequest(ee.DocumentFormattingRequest.type,(b,N)=>y(b,N,Me.attachWorkDone(i,b),void 0)),onDocumentRangeFormatting:y=>i.onRequest(ee.DocumentRangeFormattingRequest.type,(b,N)=>y(b,N,Me.attachWorkDone(i,b),void 0)),onDocumentOnTypeFormatting:y=>i.onRequest(ee.DocumentOnTypeFormattingRequest.type,(b,N)=>y(b,N)),onRenameRequest:y=>i.onRequest(ee.RenameRequest.type,(b,N)=>y(b,N,Me.attachWorkDone(i,b),void 0)),onPrepareRename:y=>i.onRequest(ee.PrepareRenameRequest.type,(b,N)=>y(b,N)),onDocumentLinks:y=>i.onRequest(ee.DocumentLinkRequest.type,(b,N)=>y(b,N,Me.attachWorkDone(i,b),Me.attachPartialResult(i,b))),onDocumentLinkResolve:y=>i.onRequest(ee.DocumentLinkResolveRequest.type,(b,N)=>y(b,N)),onDocumentColor:y=>i.onRequest(ee.DocumentColorRequest.type,(b,N)=>y(b,N,Me.attachWorkDone(i,b),Me.attachPartialResult(i,b))),onColorPresentation:y=>i.onRequest(ee.ColorPresentationRequest.type,(b,N)=>y(b,N,Me.attachWorkDone(i,b),Me.attachPartialResult(i,b))),onFoldingRanges:y=>i.onRequest(ee.FoldingRangeRequest.type,(b,N)=>y(b,N,Me.attachWorkDone(i,b),Me.attachPartialResult(i,b))),onSelectionRanges:y=>i.onRequest(ee.SelectionRangeRequest.type,(b,N)=>y(b,N,Me.attachWorkDone(i,b),Me.attachPartialResult(i,b))),onExecuteCommand:y=>i.onRequest(ee.ExecuteCommandRequest.type,(b,N)=>y(b,N,Me.attachWorkDone(i,b),void 0)),dispose:()=>i.dispose()};for(let y of f)y.attach(h);return i.onRequest(ee.InitializeRequest.type,y=>{e.initialize(y),vr.string(y.trace)&&(s.trace=ee.Trace.fromString(y.trace));for(let b of f)b.initialize(y.capabilities);if(p){let b=p(y,new ee.CancellationTokenSource().token,Me.attachWorkDone(i,y),void 0);return m(b).then(N=>{if(N instanceof ee.ResponseError)return N;let _=N;_||(_={capabilities:{}});let w=_.capabilities;w||(w={},_.capabilities=w),w.textDocumentSync===void 0||w.textDocumentSync===null?w.textDocumentSync=vr.number(h.__textDocumentSync)?h.__textDocumentSync:ee.TextDocumentSyncKind.None:!vr.number(w.textDocumentSync)&&!vr.number(w.textDocumentSync.change)&&(w.textDocumentSync.change=vr.number(h.__textDocumentSync)?h.__textDocumentSync:ee.TextDocumentSyncKind.None);for(let te of f)te.fillServerCapabilities(w);return _})}else{let b={capabilities:{textDocumentSync:ee.TextDocumentSyncKind.None}};for(let N of f)N.fillServerCapabilities(b.capabilities);return b}}),i.onRequest(ee.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,g)return g(new ee.CancellationTokenSource().token)}),i.onNotification(ee.ExitNotification.type,()=>{try{d&&d()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),i.onNotification(ee.SetTraceNotification.type,y=>{s.trace=ee.Trace.fromString(y.value)}),h}ze.createConnection=dx});var jb=B(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});Dn.resolveModulePath=Dn.FileSystem=Dn.resolveGlobalYarnPath=Dn.resolveGlobalNodePath=Dn.resolve=Dn.uriToFilePath=void 0;var hx=require("url"),ei=require("path"),vd=require("fs"),Nd=require("child_process");function mx(t){let e=hx.parse(t);if(e.protocol!=="file:"||!e.path)return;let n=e.path.split("/");for(var r=0,i=n.length;r<i;r++)n[r]=decodeURIComponent(n[r]);if(process.platform==="win32"&&n.length>1){let s=n[0],a=n[1];s.length===0&&a.length>1&&a[1]===":"&&n.shift()}return ei.normalize(n.join("/"))}Dn.uriToFilePath=mx;function Cd(){return process.platform==="win32"}function Zu(t,e,n,r){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((a,o)=>{let l=process.env,u=Object.create(null);Object.keys(l).forEach(c=>u[c]=l[c]),e&&vd.existsSync(e)&&(u[i]?u[i]=e+ei.delimiter+u[i]:u[i]=e,r&&r(`NODE_PATH value is: ${u[i]}`)),u.ELECTRON_RUN_AS_NODE="1";try{let c=Nd.fork("",[],{cwd:n,env:u,execArgv:["-e",s]});if(c.pid===void 0){o(new Error(`Starting process to resolve node module  ${t} failed`));return}c.on("error",m=>{o(m)}),c.on("message",m=>{m.c==="r"&&(c.send({c:"e"}),m.s?a(m.r):o(new Error(`Failed to resolve module: ${t}`)))});let f={c:"rs",a:t};c.send(f)}catch(c){o(c)}})}Dn.resolve=Zu;function Pd(t){let e="npm",n=Object.create(null);Object.keys(process.env).forEach(s=>n[s]=process.env[s]),n.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:n};Cd()&&(e="npm.cmd",r.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let s=Nd.spawnSync(e,["config","get","prefix"],r).stdout;if(!s){t&&t("'npm config get prefix' didn't return a value.");return}let a=s.trim();return t&&t(`'npm config get prefix' value is: ${a}`),a.length>0?Cd()?ei.join(a,"node_modules"):ei.join(a,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}Dn.resolveGlobalNodePath=Pd;function gx(t){let e="yarn",n={encoding:"utf8"};Cd()&&(e="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let i=Nd.spawnSync(e,["global","dir","--json"],n),s=i.stdout;if(!s){t&&(t("'yarn global dir' didn't return a value."),i.stderr&&t(i.stderr));return}let a=s.trim().split(/\r?\n/);for(let o of a)try{let l=JSON.parse(o);if(l.type==="log")return ei.join(l.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}Dn.resolveGlobalYarnPath=gx;var Vb;(function(t){let e;function n(){return e!==void 0||(process.platform==="win32"?e=!1:e=!vd.existsSync(__filename.toUpperCase())||!vd.existsSync(__filename.toLowerCase())),e}t.isCaseSensitive=n;function r(i,s){return n()?ei.normalize(s).indexOf(ei.normalize(i))===0:ei.normalize(s).toLowerCase().indexOf(ei.normalize(i).toLowerCase())===0}t.isParent=r})(Vb=Dn.FileSystem||(Dn.FileSystem={}));function _x(t,e,n,r){return n?(ei.isAbsolute(n)||(n=ei.join(t,n)),Zu(e,n,n,r).then(i=>Vb.isParent(n,i)?i:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,i=>Zu(e,Pd(r),t,r))):Zu(e,Pd(r),t,r)}Dn.resolveModulePath=_x});var Ed=B((nj,Ub)=>{"use strict";Ub.exports=qn()});var Gb=B(zn=>{"use strict";var yx=zn&&zn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Wb=zn&&zn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&yx(e,t,n)};Object.defineProperty(zn,"__esModule",{value:!0});zn.ProposedFeatures=zn.SemanticTokensBuilder=void 0;var bx=fd();Object.defineProperty(zn,"SemanticTokensBuilder",{enumerable:!0,get:function(){return bx.SemanticTokensBuilder}});Wb(qn(),zn);Wb(Td(),zn);var Tx;(function(t){t.all={__brand:"features"}})(Tx=zn.ProposedFeatures||(zn.ProposedFeatures={}))});var ti=B(Xn=>{"use strict";var vx=Xn&&Xn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Yb=Xn&&Xn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&vx(e,t,n)};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.createConnection=Xn.Files=void 0;var Ad=xu(),Nx=Td(),ml=jb(),Hs=Ed();Yb(Ed(),Xn);Yb(Gb(),Xn);var Cx;(function(t){t.uriToFilePath=ml.uriToFilePath,t.resolveGlobalNodePath=ml.resolveGlobalNodePath,t.resolveGlobalYarnPath=ml.resolveGlobalYarnPath,t.resolve=ml.resolve,t.resolveModulePath=ml.resolveModulePath})(Cx=Xn.Files||(Xn.Files={}));var Hb;function ec(){if(Hb!==void 0)try{Hb.end()}catch{}}var ja=!1,$b;function Px(){let t="--clientProcessId";function e(n){try{let r=parseInt(n);isNaN(r)||($b=setInterval(()=>{try{process.kill(r,0)}catch{ec(),process.exit(ja?0:1)}},3e3))}catch{}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===t&&n+1<process.argv.length){e(process.argv[n+1]);return}else{let i=r.split("=");i[0]===t&&e(i[1])}}}Px();var Ex={initialize:t=>{let e=t.processId;Ad.number(e)&&$b===void 0&&setInterval(()=>{try{process.kill(e,0)}catch{process.exit(ja?0:1)}},3e3)},get shutdownReceived(){return ja},set shutdownReceived(t){ja=t},exit:t=>{ec(),process.exit(t)}};function Ax(t,e,n,r){let i,s,a,o;return t!==void 0&&t.__brand==="features"&&(i=t,t=e,e=n,n=r),Hs.ConnectionStrategy.is(t)||Hs.ConnectionOptions.is(t)?o=t:(s=t,a=e,o=n),Sx(s,a,o,i)}Xn.createConnection=Ax;function Sx(t,e,n,r){if(!t&&!e&&process.argv.length>2){let o,l,u=process.argv.slice(2);for(let c=0;c<u.length;c++){let f=u[c];if(f==="--node-ipc"){t=new Hs.IPCMessageReader(process),e=new Hs.IPCMessageWriter(process);break}else if(f==="--stdio"){t=process.stdin,e=process.stdout;break}else if(f==="--socket"){o=parseInt(u[c+1]);break}else if(f==="--pipe"){l=u[c+1];break}else{var i=f.split("=");if(i[0]==="--socket"){o=parseInt(i[1]);break}else if(i[0]==="--pipe"){l=i[1];break}}}if(o){let c=Hs.createServerSocketTransport(o);t=c[0],e=c[1]}else if(l){let c=Hs.createServerPipeTransport(l);t=c[0],e=c[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+s);if(!e)throw new Error("Connection output stream is not set. "+s);if(Ad.func(t.read)&&Ad.func(t.on)){let o=t;o.on("end",()=>{ec(),process.exit(ja?0:1)}),o.on("close",()=>{ec(),process.exit(ja?0:1)})}let a=o=>Hs.createProtocolConnection(t,e,o,n);return Nx.createConnection(a,Ex,r)}});var Ns=B(Vn=>{"use strict";var Ki={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},Rl={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"},K1="tag:yaml.org,2002:",z1={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};function Rv(t){let e=[0],n=t.indexOf(`
`);for(;n!==-1;)n+=1,e.push(n),n=t.indexOf(`
`,n);return e}function xv(t){let e,n;return typeof t=="string"?(e=Rv(t),n=t):(Array.isArray(t)&&(t=t[0]),t&&t.context&&(t.lineStarts||(t.lineStarts=Rv(t.context.src)),e=t.lineStarts,n=t.context.src)),{lineStarts:e,src:n}}function Ih(t,e){if(typeof t!="number"||t<0)return null;let{lineStarts:n,src:r}=xv(e);if(!n||!r||t>r.length)return null;for(let s=0;s<n.length;++s){let a=n[s];if(t<a)return{line:s,col:t-n[s-1]+1};if(t===a)return{line:s+1,col:1}}let i=n.length;return{line:i,col:t-n[i-1]+1}}function X1(t,e){let{lineStarts:n,src:r}=xv(e);if(!n||!(t>=1)||t>n.length)return null;let i=n[t-1],s=n[t];for(;s&&s>i&&r[s-1]===`
`;)--s;return r.slice(i,s)}function Q1({start:t,end:e},n,r=80){let i=X1(t.line,n);if(!i)return null;let{col:s}=t;if(i.length>r)if(s<=r-10)i=i.substr(0,r-1)+"\u2026";else{let c=Math.round(r/2);i.length>s+c&&(i=i.substr(0,s+c-1)+"\u2026"),s-=i.length-r,i="\u2026"+i.substr(1-r)}let a=1,o="";e&&(e.line===t.line&&s+(e.col-t.col)<=r+1?a=e.col-t.col:(a=Math.min(i.length+1,r)-s,o="\u2026"));let l=s>1?" ".repeat(s-1):"",u="^".repeat(a);return`${i}
${l}${u}${o}`}var na=class{static copy(e){return new na(e.start,e.end)}constructor(e,n){this.start=e,this.end=n||e}isEmpty(){return typeof this.start!="number"||!this.end||this.end<=this.start}setOrigRange(e,n){let{start:r,end:i}=this;if(e.length===0||i<=e[0])return this.origStart=r,this.origEnd=i,n;let s=n;for(;s<e.length&&!(e[s]>r);)++s;this.origStart=r+s;let a=s;for(;s<e.length&&!(e[s]>=i);)++s;return this.origEnd=i+s,a}},pn=class{static addStringTerminator(e,n,r){if(r[r.length-1]===`
`)return r;let i=pn.endOfWhiteSpace(e,n);return i>=e.length||e[i]===`
`?r+`
`:r}static atDocumentBoundary(e,n,r){let i=e[n];if(!i)return!0;let s=e[n-1];if(s&&s!==`
`)return!1;if(r){if(i!==r)return!1}else if(i!==Ki.DIRECTIVES_END&&i!==Ki.DOCUMENT_END)return!1;let a=e[n+1],o=e[n+2];if(a!==i||o!==i)return!1;let l=e[n+3];return!l||l===`
`||l==="	"||l===" "}static endOfIdentifier(e,n){let r=e[n],i=r==="<",s=i?[`
`,"	"," ",">"]:[`
`,"	"," ","[","]","{","}",","];for(;r&&s.indexOf(r)===-1;)r=e[n+=1];return i&&r===">"&&(n+=1),n}static endOfIndent(e,n){let r=e[n];for(;r===" ";)r=e[n+=1];return n}static endOfLine(e,n){let r=e[n];for(;r&&r!==`
`;)r=e[n+=1];return n}static endOfWhiteSpace(e,n){let r=e[n];for(;r==="	"||r===" ";)r=e[n+=1];return n}static startOfLine(e,n){let r=e[n-1];if(r===`
`)return n;for(;r&&r!==`
`;)r=e[n-=1];return n+1}static endOfBlockIndent(e,n,r){let i=pn.endOfIndent(e,r);if(i>r+n)return i;{let s=pn.endOfWhiteSpace(e,i),a=e[s];if(!a||a===`
`)return s}return null}static atBlank(e,n,r){let i=e[n];return i===`
`||i==="	"||i===" "||r&&!i}static nextNodeIsIndented(e,n,r){return!e||n<0?!1:n>0?!0:r&&e==="-"}static normalizeOffset(e,n){let r=e[n];return r?r!==`
`&&e[n-1]===`
`?n-1:pn.endOfWhiteSpace(e,n):n}static foldNewline(e,n,r){let i=0,s=!1,a="",o=e[n+1];for(;o===" "||o==="	"||o===`
`;){switch(o){case`
`:i=0,n+=1,a+=`
`;break;case"	":i<=r&&(s=!0),n=pn.endOfWhiteSpace(e,n+2)-1;break;case" ":i+=1,n+=1;break}o=e[n+1]}return a||(a=" "),o&&i<=r&&(s=!0),{fold:a,offset:n,error:s}}constructor(e,n,r){Object.defineProperty(this,"context",{value:r||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=n||[],this.type=e,this.value=null}getPropValue(e,n,r){if(!this.context)return null;let{src:i}=this.context,s=this.props[e];return s&&i[s.start]===n?i.slice(s.start+(r?1:0),s.end):null}get anchor(){for(let e=0;e<this.props.length;++e){let n=this.getPropValue(e,Ki.ANCHOR,!0);if(n!=null)return n}return null}get comment(){let e=[];for(let n=0;n<this.props.length;++n){let r=this.getPropValue(n,Ki.COMMENT,!0);r!=null&&e.push(r)}return e.length>0?e.join(`
`):null}commentHasRequiredWhitespace(e){let{src:n}=this.context;if(this.header&&e===this.header.end||!this.valueRange)return!1;let{end:r}=this.valueRange;return e!==r||pn.atBlank(n,r-1)}get hasComment(){if(this.context){let{src:e}=this.context;for(let n=0;n<this.props.length;++n)if(e[this.props[n].start]===Ki.COMMENT)return!0}return!1}get hasProps(){if(this.context){let{src:e}=this.context;for(let n=0;n<this.props.length;++n)if(e[this.props[n].start]!==Ki.COMMENT)return!0}return!1}get includesTrailingLines(){return!1}get jsonLike(){return[Rl.FLOW_MAP,Rl.FLOW_SEQ,Rl.QUOTE_DOUBLE,Rl.QUOTE_SINGLE].indexOf(this.type)!==-1}get rangeAsLinePos(){if(!this.range||!this.context)return;let e=Ih(this.range.start,this.context.root);if(!e)return;let n=Ih(this.range.end,this.context.root);return{start:e,end:n}}get rawValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange;return this.context.src.slice(e,n)}get tag(){for(let e=0;e<this.props.length;++e){let n=this.getPropValue(e,Ki.TAG,!1);if(n!=null){if(n[1]==="<")return{verbatim:n.slice(2,-1)};{let[r,i,s]=n.match(/^(.*!)([^!]*)$/);return{handle:i,suffix:s}}}}return null}get valueRangeContainsNewline(){if(!this.valueRange||!this.context)return!1;let{start:e,end:n}=this.valueRange,{src:r}=this.context;for(let i=e;i<n;++i)if(r[i]===`
`)return!0;return!1}parseComment(e){let{src:n}=this.context;if(n[e]===Ki.COMMENT){let r=pn.endOfLine(n,e+1),i=new na(e,r);return this.props.push(i),r}return e}setOrigRanges(e,n){return this.range&&(n=this.range.setOrigRange(e,n)),this.valueRange&&this.valueRange.setOrigRange(e,n),this.props.forEach(r=>r.setOrigRange(e,n)),n}toString(){let{context:{src:e},range:n,value:r}=this;if(r!=null)return r;let i=e.slice(n.start,n.end);return pn.addStringTerminator(e,n.end,i)}},_o=class extends Error{constructor(e,n,r){if(!r||!(n instanceof pn))throw new Error(`Invalid arguments for new ${e}`);super();this.name=e,this.message=r,this.source=n}makePretty(){if(!this.source)return;this.nodeType=this.source.type;let e=this.source.context&&this.source.context.root;if(typeof this.offset=="number"){this.range=new na(this.offset,this.offset+1);let n=e&&Ih(this.offset,e);if(n){let r={line:n.line,col:n.col+1};this.linePos={start:n,end:r}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){let{line:n,col:r}=this.linePos.start;this.message+=` at line ${n}, column ${r}`;let i=e&&Q1(this.linePos,e);i&&(this.message+=`:

${i}
`)}delete this.source}},wv=class extends _o{constructor(e,n){super("YAMLReferenceError",e,n)}},Zc=class extends _o{constructor(e,n){super("YAMLSemanticError",e,n)}},Ov=class extends _o{constructor(e,n){super("YAMLSyntaxError",e,n)}},Lv=class extends _o{constructor(e,n){super("YAMLWarning",e,n)}};function J1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xl=class extends pn{static endOfLine(e,n,r){let i=e[n],s=n;for(;i&&i!==`
`&&!(r&&(i==="["||i==="]"||i==="{"||i==="}"||i===","));){let a=e[s+1];if(i===":"&&(!a||a===`
`||a==="	"||a===" "||r&&a===",")||(i===" "||i==="	")&&a==="#")break;s+=1,i=a}return s}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange,{src:r}=this.context,i=r[n-1];for(;e<n&&(i===`
`||i==="	"||i===" ");)i=r[--n-1];let s="";for(let o=e;o<n;++o){let l=r[o];if(l===`
`){let{fold:u,offset:c}=pn.foldNewline(r,o,-1);s+=u,o=c}else if(l===" "||l==="	"){let u=o,c=r[o+1];for(;o<n&&(c===" "||c==="	");)o+=1,c=r[o+1];c!==`
`&&(s+=o>u?r.slice(u,o+1):l)}else s+=l}let a=r[e];switch(a){case"	":{let o="Plain value cannot start with a tab character";return{errors:[new Zc(this,o)],str:s}}case"@":case"`":{let o=`Plain value cannot start with reserved character ${a}`;return{errors:[new Zc(this,o)],str:s}}default:return s}}parseBlockValue(e){let{indent:n,inFlow:r,src:i}=this.context,s=e,a=e;for(let o=i[s];o===`
`&&!pn.atDocumentBoundary(i,s+1);o=i[s]){let l=pn.endOfBlockIndent(i,n,s+1);if(l===null||i[l]==="#")break;i[l]===`
`?s=l:(a=xl.endOfLine(i,l,r),s=a)}return this.valueRange.isEmpty()&&(this.valueRange.start=e),this.valueRange.end=a,a}parse(e,n){this.context=e;let{inFlow:r,src:i}=e,s=n,a=i[s];return a&&a!=="#"&&a!==`
`&&(s=xl.endOfLine(i,n,r)),this.valueRange=new na(n,s),s=pn.endOfWhiteSpace(i,s),s=this.parseComment(s),(!this.hasComment||this.valueRange.isEmpty())&&(s=this.parseBlockValue(s)),s}};Vn.Char=Ki;Vn.Node=pn;Vn.PlainValue=xl;Vn.Range=na;Vn.Type=Rl;Vn.YAMLError=_o;Vn.YAMLReferenceError=wv;Vn.YAMLSemanticError=Zc;Vn.YAMLSyntaxError=Ov;Vn.YAMLWarning=Lv;Vn._defineProperty=J1;Vn.defaultTagPrefix=K1;Vn.defaultTags=z1});var Vv=B(Bv=>{"use strict";var k=Ns(),yo=class extends k.Node{constructor(){super(k.Type.BLANK_LINE)}get includesTrailingLines(){return!0}parse(e,n){return this.context=e,this.range=new k.Range(n,n+1),n+1}},ef=class extends k.Node{constructor(e,n){super(e,n);this.node=null}get includesTrailingLines(){return!!this.node&&this.node.includesTrailingLines}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,{atLineStart:s,lineStart:a}=e;!s&&this.type===k.Type.SEQ_ITEM&&(this.error=new k.YAMLSemanticError(this,"Sequence items must not have preceding content on the same line"));let o=s?n-a:e.indent,l=k.Node.endOfWhiteSpace(i,n+1),u=i[l],c=u==="#",f=[],m=null;for(;u===`
`||u==="#";){if(u==="#"){let p=k.Node.endOfLine(i,l+1);f.push(new k.Range(l,p)),l=p}else{s=!0,a=l+1;let p=k.Node.endOfWhiteSpace(i,a);i[p]===`
`&&f.length===0&&(m=new yo,a=m.parse({src:i},a)),l=k.Node.endOfIndent(i,a)}u=i[l]}if(k.Node.nextNodeIsIndented(u,l-(a+o),this.type!==k.Type.SEQ_ITEM)?this.node=r({atLineStart:s,inCollection:!1,indent:o,lineStart:a,parent:this},l):u&&a>n+1&&(l=a-1),this.node){if(m){let p=e.parent.items||e.parent.contents;p&&p.push(m)}f.length&&Array.prototype.push.apply(this.props,f),l=this.node.range.end}else if(c){let p=f[0];this.props.push(p),l=p.end}else l=k.Node.endOfLine(i,n+1);let g=this.node?this.node.valueRange.end:l;return this.valueRange=new k.Range(n,g),l}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.node?this.node.setOrigRanges(e,n):n}toString(){let{context:{src:e},node:n,range:r,value:i}=this;if(i!=null)return i;let s=n?e.slice(r.start,n.range.start)+String(n):e.slice(r.start,r.end);return k.Node.addStringTerminator(e,r.end,s)}},bo=class extends k.Node{constructor(){super(k.Type.COMMENT)}parse(e,n){this.context=e;let r=this.parseComment(n);return this.range=new k.Range(n,r),r}};function Dh(t){let e=t;for(;e instanceof ef;)e=e.node;if(!(e instanceof To))return null;let n=e.items.length,r=-1;for(let a=n-1;a>=0;--a){let o=e.items[a];if(o.type===k.Type.COMMENT){let{indent:l,lineStart:u}=o.context;if(l>0&&o.range.start>=u+l)break;r=a}else if(o.type===k.Type.BLANK_LINE)r=a;else break}if(r===-1)return null;let i=e.items.splice(r,n-r),s=i[0].range.start;for(;e.range.end=s,e.valueRange&&e.valueRange.end>s&&(e.valueRange.end=s),e!==t;)e=e.context.parent;return i}var To=class extends k.Node{static nextContentHasIndent(e,n,r){let i=k.Node.endOfLine(e,n)+1;n=k.Node.endOfWhiteSpace(e,i);let s=e[n];return s?n>=i+r?!0:s!=="#"&&s!==`
`?!1:To.nextContentHasIndent(e,n,r):!1}constructor(e){super(e.type===k.Type.SEQ_ITEM?k.Type.SEQ:k.Type.MAP);for(let r=e.props.length-1;r>=0;--r)if(e.props[r].start<e.context.lineStart){this.props=e.props.slice(0,r+1),e.props=e.props.slice(r+1);let i=e.props[0]||e.valueRange;e.range.start=i.start;break}this.items=[e];let n=Dh(e);n&&Array.prototype.push.apply(this.items,n)}get includesTrailingLines(){return this.items.length>0}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,s=k.Node.startOfLine(i,n),a=this.items[0];a.context.parent=this,this.valueRange=k.Range.copy(a.valueRange);let o=a.range.start-a.context.lineStart,l=n;l=k.Node.normalizeOffset(i,l);let u=i[l],c=k.Node.endOfWhiteSpace(i,s)===l,f=!1;for(;u;){for(;u===`
`||u==="#";){if(c&&u===`
`&&!f){let p=new yo;if(l=p.parse({src:i},l),this.valueRange.end=l,l>=i.length){u=null;break}this.items.push(p),l-=1}else if(u==="#"){if(l<s+o&&!To.nextContentHasIndent(i,l,o))return l;let p=new bo;if(l=p.parse({indent:o,lineStart:s,src:i},l),this.items.push(p),this.valueRange.end=l,l>=i.length){u=null;break}}if(s=l+1,l=k.Node.endOfIndent(i,s),k.Node.atBlank(i,l)){let p=k.Node.endOfWhiteSpace(i,l),d=i[p];(!d||d===`
`||d==="#")&&(l=p)}u=i[l],c=!0}if(!u)break;if(l!==s+o&&(c||u!==":")){if(l<s+o){s>n&&(l=s);break}else if(!this.error){let p="All collection items must start at the same column";this.error=new k.YAMLSyntaxError(this,p)}}if(a.type===k.Type.SEQ_ITEM){if(u!=="-"){s>n&&(l=s);break}}else if(u==="-"&&!this.error){let p=i[l+1];if(!p||p===`
`||p==="	"||p===" "){let d="A collection cannot be both a mapping and a sequence";this.error=new k.YAMLSyntaxError(this,d)}}let m=r({atLineStart:c,inCollection:!0,indent:o,lineStart:s,parent:this},l);if(!m)return l;if(this.items.push(m),this.valueRange.end=m.valueRange.end,l=k.Node.normalizeOffset(i,m.range.end),u=i[l],c=!1,f=m.includesTrailingLines,u){let p=l-1,d=i[p];for(;d===" "||d==="	";)d=i[--p];d===`
`&&(s=p+1,c=!0)}let g=Dh(m);g&&Array.prototype.push.apply(this.items,g)}return l}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.items.forEach(r=>{n=r.setOrigRanges(e,n)}),n}toString(){let{context:{src:e},items:n,range:r,value:i}=this;if(i!=null)return i;let s=e.slice(r.start,n[0].range.start)+String(n[0]);for(let a=1;a<n.length;++a){let o=n[a],{atLineStart:l,indent:u}=o.context;if(l)for(let c=0;c<u;++c)s+=" ";s+=String(o)}return k.Node.addStringTerminator(e,r.end,s)}},Fv=class extends k.Node{constructor(){super(k.Type.DIRECTIVE);this.name=null}get parameters(){let e=this.rawValue;return e?e.trim().split(/[ \t]+/):[]}parseName(e){let{src:n}=this.context,r=e,i=n[r];for(;i&&i!==`
`&&i!=="	"&&i!==" ";)i=n[r+=1];return this.name=n.slice(e,r),r}parseParameters(e){let{src:n}=this.context,r=e,i=n[r];for(;i&&i!==`
`&&i!=="#";)i=n[r+=1];return this.valueRange=new k.Range(e,r),r}parse(e,n){this.context=e;let r=this.parseName(n+1);return r=this.parseParameters(r),r=this.parseComment(r),this.range=new k.Range(n,r),r}},wl=class extends k.Node{static startCommentOrEndBlankLine(e,n){let r=k.Node.endOfWhiteSpace(e,n),i=e[r];return i==="#"||i===`
`?r:n}constructor(){super(k.Type.DOCUMENT);this.directives=null,this.contents=null,this.directivesEndMarker=null,this.documentEndMarker=null}parseDirectives(e){let{src:n}=this.context;this.directives=[];let r=!0,i=!1,s=e;for(;!k.Node.atDocumentBoundary(n,s,k.Char.DIRECTIVES_END);)switch(s=wl.startCommentOrEndBlankLine(n,s),n[s]){case`
`:if(r){let a=new yo;s=a.parse({src:n},s),s<n.length&&this.directives.push(a)}else s+=1,r=!0;break;case"#":{let a=new bo;s=a.parse({src:n},s),this.directives.push(a),r=!1}break;case"%":{let a=new Fv;s=a.parse({parent:this,src:n},s),this.directives.push(a),i=!0,r=!1}break;default:return i?this.error=new k.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s}return n[s]?(this.directivesEndMarker=new k.Range(s,s+3),s+3):(i?this.error=new k.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s)}parseContents(e){let{parseNode:n,src:r}=this.context;this.contents||(this.contents=[]);let i=e;for(;r[i-1]==="-";)i-=1;let s=k.Node.endOfWhiteSpace(r,e),a=i===e;for(this.valueRange=new k.Range(s);!k.Node.atDocumentBoundary(r,s,k.Char.DOCUMENT_END);){switch(r[s]){case`
`:if(a){let o=new yo;s=o.parse({src:r},s),s<r.length&&this.contents.push(o)}else s+=1,a=!0;i=s;break;case"#":{let o=new bo;s=o.parse({src:r},s),this.contents.push(o),a=!1}break;default:{let o=k.Node.endOfIndent(r,s),u=n({atLineStart:a,indent:-1,inFlow:!1,inCollection:!1,lineStart:i,parent:this},o);if(!u)return this.valueRange.end=o;this.contents.push(u),s=u.range.end,a=!1;let c=Dh(u);c&&Array.prototype.push.apply(this.contents,c)}}s=wl.startCommentOrEndBlankLine(r,s)}if(this.valueRange.end=s,r[s]&&(this.documentEndMarker=new k.Range(s,s+3),s+=3,r[s])){if(s=k.Node.endOfWhiteSpace(r,s),r[s]==="#"){let o=new bo;s=o.parse({src:r},s),this.contents.push(o)}switch(r[s]){case`
`:s+=1;break;case void 0:break;default:this.error=new k.YAMLSyntaxError(this,"Document end marker line cannot have a non-comment suffix")}}return s}parse(e,n){e.root=this,this.context=e;let{src:r}=e,i=r.charCodeAt(n)===65279?n+1:n;return i=this.parseDirectives(i),i=this.parseContents(i),i}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.directives.forEach(r=>{n=r.setOrigRanges(e,n)}),this.directivesEndMarker&&(n=this.directivesEndMarker.setOrigRange(e,n)),this.contents.forEach(r=>{n=r.setOrigRanges(e,n)}),this.documentEndMarker&&(n=this.documentEndMarker.setOrigRange(e,n)),n}toString(){let{contents:e,directives:n,value:r}=this;if(r!=null)return r;let i=n.join("");return e.length>0&&((n.length>0||e[0].type===k.Type.COMMENT)&&(i+=`---
`),i+=e.join("")),i[i.length-1]!==`
`&&(i+=`
`),i}},Mv=class extends k.Node{parse(e,n){this.context=e;let{src:r}=e,i=k.Node.endOfIdentifier(r,n+1);return this.valueRange=new k.Range(n+1,i),i=k.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}},Cs={CLIP:"CLIP",KEEP:"KEEP",STRIP:"STRIP"},kv=class extends k.Node{constructor(e,n){super(e,n);this.blockIndent=null,this.chomping=Cs.CLIP,this.header=null}get includesTrailingLines(){return this.chomping===Cs.KEEP}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange,{indent:r,src:i}=this.context;if(this.valueRange.isEmpty())return"";let s=null,a=i[n-1];for(;a===`
`||a==="	"||a===" ";){if(n-=1,n<=e){if(this.chomping===Cs.KEEP)break;return""}a===`
`&&(s=n),a=i[n-1]}let o=n+1;s&&(this.chomping===Cs.KEEP?(o=s,n=this.valueRange.end):n=s);let l=r+this.blockIndent,u=this.type===k.Type.BLOCK_FOLDED,c=!0,f="",m="",g=!1;for(let p=e;p<n;++p){for(let h=0;h<l&&i[p]===" ";++h)p+=1;let d=i[p];if(d===`
`)m===`
`?f+=`
`:m=`
`;else{let h=k.Node.endOfLine(i,p),y=i.slice(p,h);p=h,u&&(d===" "||d==="	")&&p<o?(m===" "?m=`
`:!g&&!c&&m===`
`&&(m=`

`),f+=m+y,m=h<n&&i[h]||"",g=!0):(f+=m+y,m=u&&p<o?" ":`
`,g=!1),c&&y!==""&&(c=!1)}}return this.chomping===Cs.STRIP?f:f+`
`}parseBlockHeader(e){let{src:n}=this.context,r=e+1,i="";for(;;){let s=n[r];switch(s){case"-":this.chomping=Cs.STRIP;break;case"+":this.chomping=Cs.KEEP;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i+=s;break;default:return this.blockIndent=Number(i)||null,this.header=new k.Range(e,r),r}r+=1}}parseBlockValue(e){let{indent:n,src:r}=this.context,i=!!this.blockIndent,s=e,a=e,o=1;for(let l=r[s];l===`
`&&(s+=1,!k.Node.atDocumentBoundary(r,s));l=r[s]){let u=k.Node.endOfBlockIndent(r,n,s);if(u===null)break;let c=r[u],f=u-(s+n);if(this.blockIndent){if(c&&c!==`
`&&f<this.blockIndent){if(r[u]==="#")break;if(!this.error){let g=`Block scalars must not be less indented than their ${i?"explicit indentation indicator":"first line"}`;this.error=new k.YAMLSemanticError(this,g)}}}else if(r[u]!==`
`){if(f<o){let m="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";this.error=new k.YAMLSemanticError(this,m)}this.blockIndent=f}else f>o&&(o=f);r[u]===`
`?s=u:s=a=k.Node.endOfLine(r,u)}return this.chomping!==Cs.KEEP&&(s=r[a]?a+1:a),this.valueRange=new k.Range(e+1,s),s}parse(e,n){this.context=e;let{src:r}=e,i=this.parseBlockHeader(n);return i=k.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i=this.parseBlockValue(i),i}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.header?this.header.setOrigRange(e,n):n}},qv=class extends k.Node{constructor(e,n){super(e,n);this.items=null}prevNodeIsJsonLike(e=this.items.length){let n=this.items[e-1];return!!n&&(n.jsonLike||n.type===k.Type.COMMENT&&this.prevNodeIsJsonLike(e-1))}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,{indent:s,lineStart:a}=e,o=i[n];this.items=[{char:o,offset:n}];let l=k.Node.endOfWhiteSpace(i,n+1);for(o=i[l];o&&o!=="]"&&o!=="}";){switch(o){case`
`:{a=l+1;let u=k.Node.endOfWhiteSpace(i,a);if(i[u]===`
`){let c=new yo;a=c.parse({src:i},a),this.items.push(c)}if(l=k.Node.endOfIndent(i,a),l<=a+s&&(o=i[l],l<a+s||o!=="]"&&o!=="}")){let c="Insufficient indentation in flow collection";this.error=new k.YAMLSemanticError(this,c)}}break;case",":this.items.push({char:o,offset:l}),l+=1;break;case"#":{let u=new bo;l=u.parse({src:i},l),this.items.push(u)}break;case"?":case":":{let u=i[l+1];if(u===`
`||u==="	"||u===" "||u===","||o===":"&&this.prevNodeIsJsonLike()){this.items.push({char:o,offset:l}),l+=1;break}}default:{let u=r({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:a,parent:this},l);if(!u)return this.valueRange=new k.Range(n,l),l;this.items.push(u),l=k.Node.normalizeOffset(i,u.range.end)}}l=k.Node.endOfWhiteSpace(i,l),o=i[l]}return this.valueRange=new k.Range(n,l+1),o&&(this.items.push({char:o,offset:l}),l=k.Node.endOfWhiteSpace(i,l+1),l=this.parseComment(l)),l}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.items.forEach(r=>{if(r instanceof k.Node)n=r.setOrigRanges(e,n);else if(e.length===0)r.origOffset=r.offset;else{let i=n;for(;i<e.length&&!(e[i]>r.offset);)++i;r.origOffset=r.offset+i,n=i}}),n}toString(){let{context:{src:e},items:n,range:r,value:i}=this;if(i!=null)return i;let s=n.filter(l=>l instanceof k.Node),a="",o=r.start;return s.forEach(l=>{let u=e.slice(o,l.range.start);o=l.range.end,a+=u+String(l),a[a.length-1]===`
`&&e[o-1]!==`
`&&e[o]===`
`&&(o+=1)}),a+=e.slice(o,r.end),k.Node.addStringTerminator(e,r.end,a)}},tf=class extends k.Node{static endOfQuote(e,n){let r=e[n];for(;r&&r!=='"';)n+=r==="\\"?2:1,r=e[n];return n+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:n,end:r}=this.valueRange,{indent:i,src:s}=this.context;s[r-1]!=='"'&&e.push(new k.YAMLSyntaxError(this,'Missing closing "quote'));let a="";for(let o=n+1;o<r-1;++o){let l=s[o];if(l===`
`){k.Node.atDocumentBoundary(s,o+1)&&e.push(new k.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:u,offset:c,error:f}=k.Node.foldNewline(s,o,i);a+=u,o=c,f&&e.push(new k.YAMLSemanticError(this,"Multi-line double-quoted string needs to be sufficiently indented"))}else if(l==="\\")switch(o+=1,s[o]){case"0":a+="\0";break;case"a":a+="\x07";break;case"b":a+="\b";break;case"e":a+="\x1B";break;case"f":a+="\f";break;case"n":a+=`
`;break;case"r":a+="\r";break;case"t":a+="	";break;case"v":a+="\v";break;case"N":a+="\x85";break;case"_":a+="\xA0";break;case"L":a+="\u2028";break;case"P":a+="\u2029";break;case" ":a+=" ";break;case'"':a+='"';break;case"/":a+="/";break;case"\\":a+="\\";break;case"	":a+="	";break;case"x":a+=this.parseCharCode(o+1,2,e),o+=2;break;case"u":a+=this.parseCharCode(o+1,4,e),o+=4;break;case"U":a+=this.parseCharCode(o+1,8,e),o+=8;break;case`
`:for(;s[o+1]===" "||s[o+1]==="	";)o+=1;break;default:e.push(new k.YAMLSyntaxError(this,`Invalid escape sequence ${s.substr(o-1,2)}`)),a+="\\"+s[o]}else if(l===" "||l==="	"){let u=o,c=s[o+1];for(;c===" "||c==="	";)o+=1,c=s[o+1];c!==`
`&&(a+=o>u?s.slice(u,o+1):l)}else a+=l}return e.length>0?{errors:e,str:a}:a}parseCharCode(e,n,r){let{src:i}=this.context,s=i.substr(e,n),o=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;return isNaN(o)?(r.push(new k.YAMLSyntaxError(this,`Invalid escape sequence ${i.substr(e-2,n+2)}`)),i.substr(e-2,n+2)):String.fromCodePoint(o)}parse(e,n){this.context=e;let{src:r}=e,i=tf.endOfQuote(r,n+1);return this.valueRange=new k.Range(n,i),i=k.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}},nf=class extends k.Node{static endOfQuote(e,n){let r=e[n];for(;r;)if(r==="'"){if(e[n+1]!=="'")break;r=e[n+=2]}else r=e[n+=1];return n+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:n,end:r}=this.valueRange,{indent:i,src:s}=this.context;s[r-1]!=="'"&&e.push(new k.YAMLSyntaxError(this,"Missing closing 'quote"));let a="";for(let o=n+1;o<r-1;++o){let l=s[o];if(l===`
`){k.Node.atDocumentBoundary(s,o+1)&&e.push(new k.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:u,offset:c,error:f}=k.Node.foldNewline(s,o,i);a+=u,o=c,f&&e.push(new k.YAMLSemanticError(this,"Multi-line single-quoted string needs to be sufficiently indented"))}else if(l==="'")a+=l,o+=1,s[o]!=="'"&&e.push(new k.YAMLSyntaxError(this,"Unescaped single quote? This should not happen."));else if(l===" "||l==="	"){let u=o,c=s[o+1];for(;c===" "||c==="	";)o+=1,c=s[o+1];c!==`
`&&(a+=o>u?s.slice(u,o+1):l)}else a+=l}return e.length>0?{errors:e,str:a}:a}parse(e,n){this.context=e;let{src:r}=e,i=nf.endOfQuote(r,n+1);return this.valueRange=new k.Range(n,i),i=k.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}};function Z1(t,e){switch(t){case k.Type.ALIAS:return new Mv(t,e);case k.Type.BLOCK_FOLDED:case k.Type.BLOCK_LITERAL:return new kv(t,e);case k.Type.FLOW_MAP:case k.Type.FLOW_SEQ:return new qv(t,e);case k.Type.MAP_KEY:case k.Type.MAP_VALUE:case k.Type.SEQ_ITEM:return new ef(t,e);case k.Type.COMMENT:case k.Type.PLAIN:return new k.PlainValue(t,e);case k.Type.QUOTE_DOUBLE:return new tf(t,e);case k.Type.QUOTE_SINGLE:return new nf(t,e);default:return null}}var vo=class{static parseType(e,n,r){switch(e[n]){case"*":return k.Type.ALIAS;case">":return k.Type.BLOCK_FOLDED;case"|":return k.Type.BLOCK_LITERAL;case"{":return k.Type.FLOW_MAP;case"[":return k.Type.FLOW_SEQ;case"?":return!r&&k.Node.atBlank(e,n+1,!0)?k.Type.MAP_KEY:k.Type.PLAIN;case":":return!r&&k.Node.atBlank(e,n+1,!0)?k.Type.MAP_VALUE:k.Type.PLAIN;case"-":return!r&&k.Node.atBlank(e,n+1,!0)?k.Type.SEQ_ITEM:k.Type.PLAIN;case'"':return k.Type.QUOTE_DOUBLE;case"'":return k.Type.QUOTE_SINGLE;default:return k.Type.PLAIN}}constructor(e={},{atLineStart:n,inCollection:r,inFlow:i,indent:s,lineStart:a,parent:o}={}){k._defineProperty(this,"parseNode",(l,u)=>{if(k.Node.atDocumentBoundary(this.src,u))return null;let c=new vo(this,l),{props:f,type:m,valueStart:g}=c.parseProps(u),p=Z1(m,f),d=p.parse(c,g);if(p.range=new k.Range(u,d),d<=u&&(p.error=new Error("Node#parse consumed no characters"),p.error.parseEnd=d,p.error.source=p,p.range.end=u+1),c.nodeStartsCollection(p)){!p.error&&!c.atLineStart&&c.parent.type===k.Type.DOCUMENT&&(p.error=new k.YAMLSyntaxError(p,"Block collection must not have preceding content here (e.g. directives-end indicator)"));let h=new To(p);return d=h.parse(new vo(c),d),h.range=new k.Range(u,d),h}return p}),this.atLineStart=n??(e.atLineStart||!1),this.inCollection=r??(e.inCollection||!1),this.inFlow=i??(e.inFlow||!1),this.indent=s??e.indent,this.lineStart=a??e.lineStart,this.parent=o??(e.parent||{}),this.root=e.root,this.src=e.src}nodeStartsCollection(e){let{inCollection:n,inFlow:r,src:i}=this;if(n||r)return!1;if(e instanceof ef)return!0;let s=e.range.end;return i[s]===`
`||i[s-1]===`
`?!1:(s=k.Node.endOfWhiteSpace(i,s),i[s]===":")}parseProps(e){let{inFlow:n,parent:r,src:i}=this,s=[],a=!1;e=this.atLineStart?k.Node.endOfIndent(i,e):k.Node.endOfWhiteSpace(i,e);let o=i[e];for(;o===k.Char.ANCHOR||o===k.Char.COMMENT||o===k.Char.TAG||o===`
`;){if(o===`
`){let u=e,c;do c=u+1,u=k.Node.endOfIndent(i,c);while(i[u]===`
`);let f=u-(c+this.indent),m=r.type===k.Type.SEQ_ITEM&&r.context.atLineStart;if(i[u]!=="#"&&!k.Node.nextNodeIsIndented(i[u],f,!m))break;this.atLineStart=!0,this.lineStart=c,a=!1,e=u}else if(o===k.Char.COMMENT){let u=k.Node.endOfLine(i,e+1);s.push(new k.Range(e,u)),e=u}else{let u=k.Node.endOfIdentifier(i,e+1);o===k.Char.TAG&&i[u]===","&&/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+,\d\d\d\d(-\d\d){0,2}\/\S/.test(i.slice(e+1,u+13))&&(u=k.Node.endOfIdentifier(i,u+5)),s.push(new k.Range(e,u)),a=!0,e=k.Node.endOfWhiteSpace(i,u)}o=i[e]}a&&o===":"&&k.Node.atBlank(i,e+1,!0)&&(e-=1);let l=vo.parseType(i,e,n);return{props:s,type:l,valueStart:e}}};function eO(t){let e=[];t.indexOf("\r")!==-1&&(t=t.replace(/\r\n?/g,(i,s)=>(i.length>1&&e.push(s),`
`)));let n=[],r=0;do{let i=new wl,s=new vo({src:t});r=i.parse(s,r),n.push(i)}while(r<t.length);return n.setOrigRanges=()=>{if(e.length===0)return!1;for(let s=1;s<e.length;++s)e[s]-=s;let i=0;for(let s=0;s<n.length;++s)i=n[s].setOrigRanges(e,i);return e.splice(0,e.length),!0},n.toString=()=>n.join(`...
`),n}Bv.parse=eO});var Co=B(Pt=>{"use strict";var Y=Ns();function tO(t,e,n){return n?`#${n.replace(/[\s\S]^/gm,`$&${e}#`)}
${e}${t}`:t}function No(t,e,n){return n?n.indexOf(`
`)===-1?`${t} #${n}`:`${t}
`+n.replace(/^/gm,`${e||""}#`):t}var Cr=class{};function Ps(t,e,n){if(Array.isArray(t))return t.map((r,i)=>Ps(r,String(i),n));if(t&&typeof t.toJSON=="function"){let r=n&&n.anchors&&n.anchors.get(t);r&&(n.onCreate=s=>{r.res=s,delete n.onCreate});let i=t.toJSON(e,n);return r&&n.onCreate&&n.onCreate(i),i}return(!n||!n.keep)&&typeof t=="bigint"?Number(t):t}var Rn=class extends Cr{constructor(e){super();this.value=e}toJSON(e,n){return n&&n.keep?this.value:Ps(this.value,e,n)}toString(){return String(this.value)}};function jv(t,e,n){let r=n;for(let i=e.length-1;i>=0;--i){let s=e[i];if(Number.isInteger(s)&&s>=0){let a=[];a[s]=r,r=a}else{let a={};Object.defineProperty(a,s,{value:r,writable:!0,enumerable:!0,configurable:!0}),r=a}}return t.createNode(r,!1)}var Uv=t=>t==null||typeof t=="object"&&t[Symbol.iterator]().next().done,zt=class extends Cr{constructor(e){super();Y._defineProperty(this,"items",[]),this.schema=e}addIn(e,n){if(Uv(e))this.add(n);else{let[r,...i]=e,s=this.get(r,!0);if(s instanceof zt)s.addIn(i,n);else if(s===void 0&&this.schema)this.set(r,jv(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn([e,...n]){if(n.length===0)return this.delete(e);let r=this.get(e,!0);if(r instanceof zt)return r.deleteIn(n);throw new Error(`Expected YAML collection at ${e}. Remaining path: ${n}`)}getIn([e,...n],r){let i=this.get(e,!0);return n.length===0?!r&&i instanceof Rn?i.value:i:i instanceof zt?i.getIn(n,r):void 0}hasAllNullValues(){return this.items.every(e=>{if(!e||e.type!=="PAIR")return!1;let n=e.value;return n==null||n instanceof Rn&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn([e,...n]){if(n.length===0)return this.has(e);let r=this.get(e,!0);return r instanceof zt?r.hasIn(n):!1}setIn([e,...n],r){if(n.length===0)this.set(e,r);else{let i=this.get(e,!0);if(i instanceof zt)i.setIn(n,r);else if(i===void 0&&this.schema)this.set(e,jv(this.schema,n,r));else throw new Error(`Expected YAML collection at ${e}. Remaining path: ${n}`)}}toJSON(){return null}toString(e,{blockItem:n,flowChars:r,isMap:i,itemIndent:s},a,o){let{indent:l,indentStep:u,stringify:c}=e,f=this.type===Y.Type.FLOW_MAP||this.type===Y.Type.FLOW_SEQ||e.inFlow;f&&(s+=u);let m=i&&this.hasAllNullValues();e=Object.assign({},e,{allNullValues:m,indent:s,inFlow:f,type:null});let g=!1,p=!1,d=this.items.reduce((y,b,N)=>{let _;b&&(!g&&b.spaceBefore&&y.push({type:"comment",str:""}),b.commentBefore&&b.commentBefore.match(/^.*$/gm).forEach(te=>{y.push({type:"comment",str:`#${te}`})}),b.comment&&(_=b.comment),f&&(!g&&b.spaceBefore||b.commentBefore||b.comment||b.key&&(b.key.commentBefore||b.key.comment)||b.value&&(b.value.commentBefore||b.value.comment))&&(p=!0)),g=!1;let w=c(b,e,()=>_=null,()=>g=!0);return f&&!p&&w.includes(`
`)&&(p=!0),f&&N<this.items.length-1&&(w+=","),w=No(w,s,_),g&&(_||f)&&(g=!1),y.push({type:"item",str:w}),y},[]),h;if(d.length===0)h=r.start+r.end;else if(f){let{start:y,end:b}=r,N=d.map(_=>_.str);if(p||N.reduce((_,w)=>_+w.length+2,2)>zt.maxFlowStringSingleLineLength){h=y;for(let _ of N)h+=_?`
${u}${l}${_}`:`
`;h+=`
${l}${b}`}else h=`${y} ${N.join(" ")} ${b}`}else{let y=d.map(n);h=y.shift();for(let b of y)h+=b?`
${l}${b}`:`
`}return this.comment?(h+=`
`+this.comment.replace(/^/gm,`${l}#`),a&&a()):g&&o&&o(),h}};Y._defineProperty(zt,"maxFlowStringSingleLineLength",60);function rf(t){let e=t instanceof Rn?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),Number.isInteger(e)&&e>=0?e:null}var ra=class extends zt{add(e){this.items.push(e)}delete(e){let n=rf(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){let r=rf(e);if(typeof r!="number")return;let i=this.items[r];return!n&&i instanceof Rn?i.value:i}has(e){let n=rf(e);return typeof n=="number"&&n<this.items.length}set(e,n){let r=rf(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);this.items[r]=n}toJSON(e,n){let r=[];n&&n.onCreate&&n.onCreate(r);let i=0;for(let s of this.items)r.push(Ps(s,String(i++),n));return r}toString(e,n,r){return e?super.toString(e,{blockItem:i=>i.type==="comment"?i.str:`- ${i.str}`,flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(e.indent||"")+"  "},n,r):JSON.stringify(this)}},nO=(t,e,n)=>e===null?"":typeof e!="object"?String(e):t instanceof Cr&&n&&n.doc?t.toString({anchors:Object.create(null),doc:n.doc,indent:"",indentStep:n.indentStep,inFlow:!0,inStringifyKey:!0,stringify:n.stringify}):JSON.stringify(e),ut=class extends Cr{constructor(e,n=null){super();this.key=e,this.value=n,this.type=ut.Type.PAIR}get commentBefore(){return this.key instanceof Cr?this.key.commentBefore:void 0}set commentBefore(e){if(this.key==null&&(this.key=new Rn(null)),this.key instanceof Cr)this.key.commentBefore=e;else{let n="Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.";throw new Error(n)}}addToJSMap(e,n){let r=Ps(this.key,"",e);if(n instanceof Map){let i=Ps(this.value,r,e);n.set(r,i)}else if(n instanceof Set)n.add(r);else{let i=nO(this.key,r,e),s=Ps(this.value,i,e);i in n?Object.defineProperty(n,i,{value:s,writable:!0,enumerable:!0,configurable:!0}):n[i]=s}return n}toJSON(e,n){let r=n&&n.mapAsMap?new Map:{};return this.addToJSMap(n,r)}toString(e,n,r){if(!e||!e.doc)return JSON.stringify(this);let{indent:i,indentSeq:s,simpleKeys:a}=e.doc.options,{key:o,value:l}=this,u=o instanceof Cr&&o.comment;if(a){if(u)throw new Error("With simple keys, key nodes cannot have comments");if(o instanceof zt){let w="With simple keys, collection cannot be used as a key value";throw new Error(w)}}let c=!a&&(!o||u||(o instanceof Cr?o instanceof zt||o.type===Y.Type.BLOCK_FOLDED||o.type===Y.Type.BLOCK_LITERAL:typeof o=="object")),{doc:f,indent:m,indentStep:g,stringify:p}=e;e=Object.assign({},e,{implicitKey:!c,indent:m+g});let d=!1,h=p(o,e,()=>u=null,()=>d=!0);if(h=No(h,e.indent,u),!c&&h.length>1024){if(a)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");c=!0}if(e.allNullValues&&!a)return this.comment?(h=No(h,e.indent,this.comment),n&&n()):d&&!u&&r&&r(),e.inFlow&&!c?h:`? ${h}`;h=c?`? ${h}
${m}:`:`${h}:`,this.comment&&(h=No(h,e.indent,this.comment),n&&n());let y="",b=null;l instanceof Cr?(l.spaceBefore&&(y=`
`),l.commentBefore&&(y+=`
${l.commentBefore.replace(/^/gm,`${e.indent}#`)}`),b=l.comment):l&&typeof l=="object"&&(l=f.schema.createNode(l,!0)),e.implicitKey=!1,!c&&!this.comment&&l instanceof Rn&&(e.indentAtStart=h.length+1),d=!1,!s&&i>=2&&!e.inFlow&&!c&&l instanceof ra&&l.type!==Y.Type.FLOW_SEQ&&!l.tag&&!f.anchors.getName(l)&&(e.indent=e.indent.substr(2));let N=p(l,e,()=>b=null,()=>d=!0),_=" ";return y||this.comment?_=`${y}
${e.indent}`:!c&&l instanceof zt?(!(N[0]==="["||N[0]==="{")||N.includes(`
`))&&(_=`
${e.indent}`):N[0]===`
`&&(_=""),d&&!b&&r&&r(),No(h+_+N,e.indent,b)}};Y._defineProperty(ut,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var sf=(t,e)=>{if(t instanceof Es){let n=e.get(t.source);return n.count*n.aliasCount}else if(t instanceof zt){let n=0;for(let r of t.items){let i=sf(r,e);i>n&&(n=i)}return n}else if(t instanceof ut){let n=sf(t.key,e),r=sf(t.value,e);return Math.max(n,r)}return 1},Es=class extends Cr{static stringify({range:e,source:n},{anchors:r,doc:i,implicitKey:s,inStringifyKey:a}){let o=Object.keys(r).find(u=>r[u]===n);if(!o&&a&&(o=i.anchors.getName(n)||i.anchors.newName()),o)return`*${o}${s?" ":""}`;let l=i.anchors.getName(n)?"Alias node must be after source node":"Source node not found for alias node";throw new Error(`${l} [${e}]`)}constructor(e){super();this.source=e,this.type=Y.Type.ALIAS}set tag(e){throw new Error("Alias nodes cannot have tags")}toJSON(e,n){if(!n)return Ps(this.source,e,n);let{anchors:r,maxAliasCount:i}=n,s=r.get(this.source);if(!s||s.res===void 0){let a="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new Y.YAMLReferenceError(this.cstNode,a):new ReferenceError(a)}if(i>=0&&(s.count+=1,s.aliasCount===0&&(s.aliasCount=sf(this.source,r)),s.count*s.aliasCount>i)){let a="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new Y.YAMLReferenceError(this.cstNode,a):new ReferenceError(a)}return s.res}toString(e){return Es.stringify(this,e)}};Y._defineProperty(Es,"default",!0);function Ol(t,e){let n=e instanceof Rn?e.value:e;for(let r of t)if(r instanceof ut&&(r.key===e||r.key===n||r.key&&r.key.value===n))return r}var af=class extends zt{add(e,n){e?e instanceof ut||(e=new ut(e.key||e,e.value)):e=new ut(e);let r=Ol(this.items,e.key),i=this.schema&&this.schema.sortMapEntries;if(r)if(n)r.value=e.value;else throw new Error(`Key ${e.key} already set`);else if(i){let s=this.items.findIndex(a=>i(e,a)<0);s===-1?this.items.push(e):this.items.splice(s,0,e)}else this.items.push(e)}delete(e){let n=Ol(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){let r=Ol(this.items,e),i=r&&r.value;return!n&&i instanceof Rn?i.value:i}has(e){return!!Ol(this.items,e)}set(e,n){this.add(new ut(e,n),!0)}toJSON(e,n,r){let i=r?new r:n&&n.mapAsMap?new Map:{};n&&n.onCreate&&n.onCreate(i);for(let s of this.items)s.addToJSMap(n,i);return i}toString(e,n,r){if(!e)return JSON.stringify(this);for(let i of this.items)if(!(i instanceof ut))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return super.toString(e,{blockItem:i=>i.str,flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:e.indent||""},n,r)}},Wv="<<",Rh=class extends ut{constructor(e){if(e instanceof ut){let n=e.value;n instanceof ra||(n=new ra,n.items.push(e.value),n.range=e.value.range);super(e.key,n);this.range=e.range}else super(new Rn(Wv),new ra);this.type=ut.Type.MERGE_PAIR}addToJSMap(e,n){for(let{source:r}of this.value.items){if(!(r instanceof af))throw new Error("Merge sources must be maps");let i=r.toJSON(null,e,Map);for(let[s,a]of i)n instanceof Map?n.has(s)||n.set(s,a):n instanceof Set?n.add(s):Object.prototype.hasOwnProperty.call(n,s)||Object.defineProperty(n,s,{value:a,writable:!0,enumerable:!0,configurable:!0})}return n}toString(e,n){let r=this.value;if(r.items.length>1)return super.toString(e,n);this.value=r.items[0];let i=super.toString(e,n);return this.value=r,i}},rO={defaultType:Y.Type.BLOCK_LITERAL,lineWidth:76},iO={trueStr:"true",falseStr:"false"},sO={asBigInt:!1},aO={nullStr:"null"},ia={defaultType:Y.Type.PLAIN,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function xh(t,e,n){for(let{format:r,test:i,resolve:s}of e)if(i){let a=t.match(i);if(a){let o=s.apply(null,a);return o instanceof Rn||(o=new Rn(o)),r&&(o.format=r),o}}return n&&(t=n(t)),new Rn(t)}var Gv="flow",wh="block",of="quoted",Yv=(t,e)=>{let n=t[e+1];for(;n===" "||n==="	";){do n=t[e+=1];while(n&&n!==`
`);n=t[e+1]}return e};function lf(t,e,n,{indentAtStart:r,lineWidth:i=80,minContentWidth:s=20,onFold:a,onOverflow:o}){if(!i||i<0)return t;let l=Math.max(1+s,1+i-e.length);if(t.length<=l)return t;let u=[],c={},f=i-e.length;typeof r=="number"&&(r>i-Math.max(2,s)?u.push(0):f=i-r);let m,g,p=!1,d=-1,h=-1,y=-1;n===wh&&(d=Yv(t,d),d!==-1&&(f=d+l));for(let N;N=t[d+=1];){if(n===of&&N==="\\"){switch(h=d,t[d+1]){case"x":d+=3;break;case"u":d+=5;break;case"U":d+=9;break;default:d+=1}y=d}if(N===`
`)n===wh&&(d=Yv(t,d)),f=d+l,m=void 0;else{if(N===" "&&g&&g!==" "&&g!==`
`&&g!=="	"){let _=t[d+1];_&&_!==" "&&_!==`
`&&_!=="	"&&(m=d)}if(d>=f)if(m)u.push(m),f=m+l,m=void 0;else if(n===of){for(;g===" "||g==="	";)g=N,N=t[d+=1],p=!0;let _=d>y+1?d-2:h-1;if(c[_])return t;u.push(_),c[_]=!0,f=_+l,m=void 0}else p=!0}g=N}if(p&&o&&o(),u.length===0)return t;a&&a();let b=t.slice(0,u[0]);for(let N=0;N<u.length;++N){let _=u[N],w=u[N+1]||t.length;_===0?b=`
${e}${t.slice(0,w)}`:(n===of&&c[_]&&(b+=`${t[_]}\\`),b+=`
${e}${t.slice(_+1,w)}`)}return b}var Oh=({indentAtStart:t})=>t?Object.assign({indentAtStart:t},ia.fold):ia.fold,uf=t=>/^(%|---|\.\.\.)/m.test(t);function oO(t,e,n){if(!e||e<0)return!1;let r=e-n,i=t.length;if(i<=r)return!1;for(let s=0,a=0;s<i;++s)if(t[s]===`
`){if(s-a>r)return!0;if(a=s+1,i-a<=r)return!1}return!0}function sa(t,e){let{implicitKey:n}=e,{jsonEncoding:r,minMultiLineLength:i}=ia.doubleQuoted,s=JSON.stringify(t);if(r)return s;let a=e.indent||(uf(t)?"  ":""),o="",l=0;for(let u=0,c=s[u];c;c=s[++u])if(c===" "&&s[u+1]==="\\"&&s[u+2]==="n"&&(o+=s.slice(l,u)+"\\ ",u+=1,l=u,c="\\"),c==="\\")switch(s[u+1]){case"u":{o+=s.slice(l,u);let f=s.substr(u+2,4);switch(f){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:f.substr(0,2)==="00"?o+="\\x"+f.substr(2):o+=s.substr(u,6)}u+=5,l=u+1}break;case"n":if(n||s[u+2]==='"'||s.length<i)u+=1;else{for(o+=s.slice(l,u)+`

`;s[u+2]==="\\"&&s[u+3]==="n"&&s[u+4]!=='"';)o+=`
`,u+=2;o+=a,s[u+2]===" "&&(o+="\\"),u+=1,l=u+1}break;default:u+=1}return o=l?o+s.slice(l):s,n?o:lf(o,a,of,Oh(e))}function Hv(t,e){if(e.implicitKey){if(/\n/.test(t))return sa(t,e)}else if(/[ \t]\n|\n[ \t]/.test(t))return sa(t,e);let n=e.indent||(uf(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:lf(r,n,Gv,Oh(e))}function cf({comment:t,type:e,value:n},r,i,s){if(/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return sa(n,r);let a=r.indent||(r.forceBlockIndent||uf(n)?"  ":""),o=a?"2":"1",l=e===Y.Type.BLOCK_FOLDED?!1:e===Y.Type.BLOCK_LITERAL?!0:!oO(n,ia.fold.lineWidth,a.length),u=l?"|":">";if(!n)return u+`
`;let c="",f="";if(n=n.replace(/[\n\t ]*$/,g=>{let p=g.indexOf(`
`);return p===-1?u+="-":(n===g||p!==g.length-1)&&(u+="+",s&&s()),f=g.replace(/\n$/,""),""}).replace(/^[\n ]*/,g=>{g.indexOf(" ")!==-1&&(u+=o);let p=g.match(/ +$/);return p?(c=g.slice(0,-p[0].length),p[0]):(c=g,"")}),f&&(f=f.replace(/\n+(?!\n|$)/g,`$&${a}`)),c&&(c=c.replace(/\n+/g,`$&${a}`)),t&&(u+=" #"+t.replace(/ ?[\r\n]+/g," "),i&&i()),!n)return`${u}${o}
${a}${f}`;if(l)return n=n.replace(/\n+/g,`$&${a}`),`${u}
${a}${c}${n}${f}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${a}`);let m=lf(`${c}${n}${f}`,a,wh,ia.fold);return`${u}
${a}${m}`}function lO(t,e,n,r){let{comment:i,type:s,value:a}=t,{actualString:o,implicitKey:l,indent:u,inFlow:c}=e;if(l&&/[\n[\]{},]/.test(a)||c&&/[[\]{},]/.test(a))return sa(a,e);if(!a||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(a))return l||c||a.indexOf(`
`)===-1?a.indexOf('"')!==-1&&a.indexOf("'")===-1?Hv(a,e):sa(a,e):cf(t,e,n,r);if(!l&&!c&&s!==Y.Type.PLAIN&&a.indexOf(`
`)!==-1)return cf(t,e,n,r);if(u===""&&uf(a))return e.forceBlockIndent=!0,cf(t,e,n,r);let f=a.replace(/\n+/g,`$&
${u}`);if(o){let{tags:g}=e.doc.schema;if(typeof xh(f,g,g.scalarFallback).value!="string")return sa(a,e)}let m=l?f:lf(f,u,Gv,Oh(e));return i&&!c&&(m.indexOf(`
`)!==-1||i.indexOf(`
`)!==-1)?(n&&n(),tO(m,u,i)):m}function uO(t,e,n,r){let{defaultType:i}=ia,{implicitKey:s,inFlow:a}=e,{type:o,value:l}=t;typeof l!="string"&&(l=String(l),t=Object.assign({},t,{value:l}));let u=f=>{switch(f){case Y.Type.BLOCK_FOLDED:case Y.Type.BLOCK_LITERAL:return cf(t,e,n,r);case Y.Type.QUOTE_DOUBLE:return sa(l,e);case Y.Type.QUOTE_SINGLE:return Hv(l,e);case Y.Type.PLAIN:return lO(t,e,n,r);default:return null}};(o!==Y.Type.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(l)||(s||a)&&(o===Y.Type.BLOCK_FOLDED||o===Y.Type.BLOCK_LITERAL))&&(o=Y.Type.QUOTE_DOUBLE);let c=u(o);if(c===null&&(c=u(i),c===null))throw new Error(`Unsupported default string type ${i}`);return c}function cO({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let i=JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let s=i.indexOf(".");s<0&&(s=i.length,i+=".");let a=e-(i.length-s-1);for(;a-- >0;)i+="0"}return i}function $v(t,e){let n,r;switch(e.type){case Y.Type.FLOW_MAP:n="}",r="flow map";break;case Y.Type.FLOW_SEQ:n="]",r="flow sequence";break;default:t.push(new Y.YAMLSemanticError(e,"Not a flow collection!?"));return}let i;for(let s=e.items.length-1;s>=0;--s){let a=e.items[s];if(!a||a.type!==Y.Type.COMMENT){i=a;break}}if(i&&i.char!==n){let s=`Expected ${r} to end with ${n}`,a;typeof i.offset=="number"?(a=new Y.YAMLSemanticError(e,s),a.offset=i.offset+1):(a=new Y.YAMLSemanticError(i,s),i.range&&i.range.end&&(a.offset=i.range.end-i.range.start)),t.push(a)}}function Kv(t,e){let n=e.context.src[e.range.start-1];if(n!==`
`&&n!=="	"&&n!==" "){let r="Comments must be separated from other tokens by white space characters";t.push(new Y.YAMLSemanticError(e,r))}}function zv(t,e){let n=String(e),r=n.substr(0,8)+"..."+n.substr(-8);return new Y.YAMLSemanticError(t,`The "${r}" key is too long`)}function Xv(t,e){for(let{afterKey:n,before:r,comment:i}of e){let s=t.items[r];s?(n&&s.value&&(s=s.value),i===void 0?(n||!s.commentBefore)&&(s.spaceBefore=!0):s.commentBefore?s.commentBefore+=`
`+i:s.commentBefore=i):i!==void 0&&(t.comment?t.comment+=`
`+i:t.comment=i)}}function Lh(t,e){let n=e.strValue;return n?typeof n=="string"?n:(n.errors.forEach(r=>{r.source||(r.source=e),t.errors.push(r)}),n.str):""}function fO(t,e){let{handle:n,suffix:r}=e.tag,i=t.tagPrefixes.find(s=>s.handle===n);if(!i){let s=t.getDefaults().tagPrefixes;if(s&&(i=s.find(a=>a.handle===n)),!i)throw new Y.YAMLSemanticError(e,`The ${n} tag handle is non-default and was not declared.`)}if(!r)throw new Y.YAMLSemanticError(e,`The ${n} tag has no suffix.`);if(n==="!"&&(t.version||t.options.version)==="1.0"){if(r[0]==="^")return t.warnings.push(new Y.YAMLWarning(e,"YAML 1.0 ^ tag expansion is not supported")),r;if(/[:/]/.test(r)){let s=r.match(/^([a-z0-9-]+)\/(.*)/i);return s?`tag:${s[1]}.yaml.org,2002:${s[2]}`:`tag:${r}`}}return i.prefix+decodeURIComponent(r)}function pO(t,e){let{tag:n,type:r}=e,i=!1;if(n){let{handle:s,suffix:a,verbatim:o}=n;if(o){if(o!=="!"&&o!=="!!")return o;let l=`Verbatim tags aren't resolved, so ${o} is invalid.`;t.errors.push(new Y.YAMLSemanticError(e,l))}else if(s==="!"&&!a)i=!0;else try{return fO(t,e)}catch(l){t.errors.push(l)}}switch(r){case Y.Type.BLOCK_FOLDED:case Y.Type.BLOCK_LITERAL:case Y.Type.QUOTE_DOUBLE:case Y.Type.QUOTE_SINGLE:return Y.defaultTags.STR;case Y.Type.FLOW_MAP:case Y.Type.MAP:return Y.defaultTags.MAP;case Y.Type.FLOW_SEQ:case Y.Type.SEQ:return Y.defaultTags.SEQ;case Y.Type.PLAIN:return i?Y.defaultTags.STR:null;default:return null}}function Qv(t,e,n){let{tags:r}=t.schema,i=[];for(let a of r)if(a.tag===n)if(a.test)i.push(a);else{let o=a.resolve(t,e);return o instanceof zt?o:new Rn(o)}let s=Lh(t,e);return typeof s=="string"&&i.length>0?xh(s,i,r.scalarFallback):null}function dO({type:t}){switch(t){case Y.Type.FLOW_MAP:case Y.Type.MAP:return Y.defaultTags.MAP;case Y.Type.FLOW_SEQ:case Y.Type.SEQ:return Y.defaultTags.SEQ;default:return Y.defaultTags.STR}}function hO(t,e,n){try{let r=Qv(t,e,n);if(r)return n&&e.tag&&(r.tag=n),r}catch(r){return r.source||(r.source=e),t.errors.push(r),null}try{let r=dO(e);if(!r)throw new Error(`The tag ${n} is unavailable`);let i=`The tag ${n} is unavailable, falling back to ${r}`;t.warnings.push(new Y.YAMLWarning(e,i));let s=Qv(t,e,r);return s.tag=n,s}catch(r){let i=new Y.YAMLReferenceError(e,r.message);return i.stack=r.stack,t.errors.push(i),null}}var mO=t=>{if(!t)return!1;let{type:e}=t;return e===Y.Type.MAP_KEY||e===Y.Type.MAP_VALUE||e===Y.Type.SEQ_ITEM};function gO(t,e){let n={before:[],after:[]},r=!1,i=!1,s=mO(e.context.parent)?e.context.parent.props.concat(e.props):e.props;for(let{start:a,end:o}of s)switch(e.context.src[a]){case Y.Char.COMMENT:{if(!e.commentHasRequiredWhitespace(a)){let f="Comments must be separated from other tokens by white space characters";t.push(new Y.YAMLSemanticError(e,f))}let{header:l,valueRange:u}=e;(u&&(a>u.start||l&&a>l.start)?n.after:n.before).push(e.context.src.slice(a+1,o));break}case Y.Char.ANCHOR:if(r){let l="A node can have at most one anchor";t.push(new Y.YAMLSemanticError(e,l))}r=!0;break;case Y.Char.TAG:if(i){let l="A node can have at most one tag";t.push(new Y.YAMLSemanticError(e,l))}i=!0;break}return{comments:n,hasAnchor:r,hasTag:i}}function _O(t,e){let{anchors:n,errors:r,schema:i}=t;if(e.type===Y.Type.ALIAS){let a=e.rawValue,o=n.getNode(a);if(!o){let u=`Aliased anchor not found: ${a}`;return r.push(new Y.YAMLReferenceError(e,u)),null}let l=new Es(o);return n._cstAliases.push(l),l}let s=pO(t,e);if(s)return hO(t,e,s);if(e.type!==Y.Type.PLAIN){let a=`Failed to resolve ${e.type} node here`;return r.push(new Y.YAMLSyntaxError(e,a)),null}try{let a=Lh(t,e);return xh(a,i.tags,i.tags.scalarFallback)}catch(a){return a.source||(a.source=e),r.push(a),null}}function As(t,e){if(!e)return null;e.error&&t.errors.push(e.error);let{comments:n,hasAnchor:r,hasTag:i}=gO(t.errors,e);if(r){let{anchors:a}=t,o=e.anchor,l=a.getNode(o);l&&(a.map[a.newName(o)]=l),a.map[o]=e}if(e.type===Y.Type.ALIAS&&(r||i)){let a="An alias node must not specify any properties";t.errors.push(new Y.YAMLSemanticError(e,a))}let s=_O(t,e);if(s){s.range=[e.range.start,e.range.end],t.options.keepCstNodes&&(s.cstNode=e),t.options.keepNodeTypes&&(s.type=e.type);let a=n.before.join(`
`);a&&(s.commentBefore=s.commentBefore?`${s.commentBefore}
${a}`:a);let o=n.after.join(`
`);o&&(s.comment=s.comment?`${s.comment}
${o}`:o)}return e.resolved=s}function yO(t,e){if(e.type!==Y.Type.MAP&&e.type!==Y.Type.FLOW_MAP){let a=`A ${e.type} node cannot be resolved as a mapping`;return t.errors.push(new Y.YAMLSyntaxError(e,a)),null}let{comments:n,items:r}=e.type===Y.Type.FLOW_MAP?NO(t,e):vO(t,e),i=new af;i.items=r,Xv(i,n);let s=!1;for(let a=0;a<r.length;++a){let{key:o}=r[a];if(o instanceof zt&&(s=!0),t.schema.merge&&o&&o.value===Wv){r[a]=new Rh(r[a]);let l=r[a].value.items,u=null;l.some(c=>{if(c instanceof Es){let{type:f}=c.source;return f===Y.Type.MAP||f===Y.Type.FLOW_MAP?!1:u="Merge nodes aliases can only point to maps"}return u="Merge nodes can only have Alias nodes as values"}),u&&t.errors.push(new Y.YAMLSemanticError(e,u))}else for(let l=a+1;l<r.length;++l){let{key:u}=r[l];if(o===u||o&&u&&Object.prototype.hasOwnProperty.call(o,"value")&&o.value===u.value){let c=`Map keys must be unique; "${o}" is repeated`;t.errors.push(new Y.YAMLSemanticError(e,c));break}}}if(s&&!t.options.mapAsMap){let a="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new Y.YAMLWarning(e,a))}return e.resolved=i,i}var bO=({context:{lineStart:t,node:e,src:n},props:r})=>{if(r.length===0)return!1;let{start:i}=r[0];if(e&&i>e.valueRange.start||n[i]!==Y.Char.COMMENT)return!1;for(let s=t;s<i;++s)if(n[s]===`
`)return!1;return!0};function TO(t,e){if(!bO(t))return;let n=t.getPropValue(0,Y.Char.COMMENT,!0),r=!1,i=e.value.commentBefore;if(i&&i.startsWith(n))e.value.commentBefore=i.substr(n.length+1),r=!0;else{let s=e.value.comment;!t.node&&s&&s.startsWith(n)&&(e.value.comment=s.substr(n.length+1),r=!0)}r&&(e.comment=n)}function vO(t,e){let n=[],r=[],i,s=null;for(let a=0;a<e.items.length;++a){let o=e.items[a];switch(o.type){case Y.Type.BLANK_LINE:n.push({afterKey:!!i,before:r.length});break;case Y.Type.COMMENT:n.push({afterKey:!!i,before:r.length,comment:o.comment});break;case Y.Type.MAP_KEY:i!==void 0&&r.push(new ut(i)),o.error&&t.errors.push(o.error),i=As(t,o.node),s=null;break;case Y.Type.MAP_VALUE:{if(i===void 0&&(i=null),o.error&&t.errors.push(o.error),!o.context.atLineStart&&o.node&&o.node.type===Y.Type.MAP&&!o.node.context.atLineStart){let c="Nested mappings are not allowed in compact mappings";t.errors.push(new Y.YAMLSemanticError(o.node,c))}let l=o.node;if(!l&&o.props.length>0){l=new Y.PlainValue(Y.Type.PLAIN,[]),l.context={parent:o,src:o.context.src};let c=o.range.start+1;if(l.range={start:c,end:c},l.valueRange={start:c,end:c},typeof o.range.origStart=="number"){let f=o.range.origStart+1;l.range.origStart=l.range.origEnd=f,l.valueRange.origStart=l.valueRange.origEnd=f}}let u=new ut(i,As(t,l));TO(o,u),r.push(u),i&&typeof s=="number"&&o.range.start>s+1024&&t.errors.push(zv(e,i)),i=void 0,s=null}break;default:i!==void 0&&r.push(new ut(i)),i=As(t,o),s=o.range.start,o.error&&t.errors.push(o.error);e:for(let l=a+1;;++l){let u=e.items[l];switch(u&&u.type){case Y.Type.BLANK_LINE:case Y.Type.COMMENT:continue e;case Y.Type.MAP_VALUE:break e;default:{let c="Implicit map keys need to be followed by map values";t.errors.push(new Y.YAMLSemanticError(o,c));break e}}}if(o.valueRangeContainsNewline){let l="Implicit map keys need to be on a single line";t.errors.push(new Y.YAMLSemanticError(o,l))}}}return i!==void 0&&r.push(new ut(i)),{comments:n,items:r}}function NO(t,e){let n=[],r=[],i,s=!1,a="{";for(let o=0;o<e.items.length;++o){let l=e.items[o];if(typeof l.char=="string"){let{char:u,offset:c}=l;if(u==="?"&&i===void 0&&!s){s=!0,a=":";continue}if(u===":"){if(i===void 0&&(i=null),a===":"){a=",";continue}}else if(s&&(i===void 0&&u!==","&&(i=null),s=!1),i!==void 0&&(r.push(new ut(i)),i=void 0,u===",")){a=":";continue}if(u==="}"){if(o===e.items.length-1)continue}else if(u===a){a=":";continue}let f=`Flow map contains an unexpected ${u}`,m=new Y.YAMLSyntaxError(e,f);m.offset=c,t.errors.push(m)}else l.type===Y.Type.BLANK_LINE?n.push({afterKey:!!i,before:r.length}):l.type===Y.Type.COMMENT?(Kv(t.errors,l),n.push({afterKey:!!i,before:r.length,comment:l.comment})):i===void 0?(a===","&&t.errors.push(new Y.YAMLSemanticError(l,"Separator , missing in flow map")),i=As(t,l)):(a!==","&&t.errors.push(new Y.YAMLSemanticError(l,"Indicator : missing in flow map entry")),r.push(new ut(i,As(t,l))),i=void 0,s=!1)}return $v(t.errors,e),i!==void 0&&r.push(new ut(i)),{comments:n,items:r}}function CO(t,e){if(e.type!==Y.Type.SEQ&&e.type!==Y.Type.FLOW_SEQ){let s=`A ${e.type} node cannot be resolved as a sequence`;return t.errors.push(new Y.YAMLSyntaxError(e,s)),null}let{comments:n,items:r}=e.type===Y.Type.FLOW_SEQ?EO(t,e):PO(t,e),i=new ra;if(i.items=r,Xv(i,n),!t.options.mapAsMap&&r.some(s=>s instanceof ut&&s.key instanceof zt)){let s="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new Y.YAMLWarning(e,s))}return e.resolved=i,i}function PO(t,e){let n=[],r=[];for(let i=0;i<e.items.length;++i){let s=e.items[i];switch(s.type){case Y.Type.BLANK_LINE:n.push({before:r.length});break;case Y.Type.COMMENT:n.push({comment:s.comment,before:r.length});break;case Y.Type.SEQ_ITEM:if(s.error&&t.errors.push(s.error),r.push(As(t,s.node)),s.hasProps){let a="Sequence items cannot have tags or anchors before the - indicator";t.errors.push(new Y.YAMLSemanticError(s,a))}break;default:s.error&&t.errors.push(s.error),t.errors.push(new Y.YAMLSyntaxError(s,`Unexpected ${s.type} node in sequence`))}}return{comments:n,items:r}}function EO(t,e){let n=[],r=[],i=!1,s,a=null,o="[",l=null;for(let u=0;u<e.items.length;++u){let c=e.items[u];if(typeof c.char=="string"){let{char:f,offset:m}=c;if(f!==":"&&(i||s!==void 0)&&(i&&s===void 0&&(s=o?r.pop():null),r.push(new ut(s)),i=!1,s=void 0,a=null),f===o)o=null;else if(!o&&f==="?")i=!0;else if(o!=="["&&f===":"&&s===void 0){if(o===","){if(s=r.pop(),s instanceof ut){let g="Chaining flow sequence pairs is invalid",p=new Y.YAMLSemanticError(e,g);p.offset=m,t.errors.push(p)}if(!i&&typeof a=="number"){let g=c.range?c.range.start:c.offset;g>a+1024&&t.errors.push(zv(e,s));let{src:p}=l.context;for(let d=a;d<g;++d)if(p[d]===`
`){let h="Implicit keys of flow sequence pairs need to be on a single line";t.errors.push(new Y.YAMLSemanticError(l,h));break}}}else s=null;a=null,i=!1,o=null}else if(o==="["||f!=="]"||u<e.items.length-1){let g=`Flow sequence contains an unexpected ${f}`,p=new Y.YAMLSyntaxError(e,g);p.offset=m,t.errors.push(p)}}else if(c.type===Y.Type.BLANK_LINE)n.push({before:r.length});else if(c.type===Y.Type.COMMENT)Kv(t.errors,c),n.push({comment:c.comment,before:r.length});else{if(o){let m=`Expected a ${o} in flow sequence`;t.errors.push(new Y.YAMLSemanticError(c,m))}let f=As(t,c);s===void 0?(r.push(f),l=c):(r.push(new ut(s,f)),s=void 0),a=c.range.start,o=","}}return $v(t.errors,e),s!==void 0&&r.push(new ut(s)),{comments:n,items:r}}Pt.Alias=Es;Pt.Collection=zt;Pt.Merge=Rh;Pt.Node=Cr;Pt.Pair=ut;Pt.Scalar=Rn;Pt.YAMLMap=af;Pt.YAMLSeq=ra;Pt.addComment=No;Pt.binaryOptions=rO;Pt.boolOptions=iO;Pt.findPair=Ol;Pt.intOptions=sO;Pt.isEmptyPath=Uv;Pt.nullOptions=aO;Pt.resolveMap=yO;Pt.resolveNode=As;Pt.resolveSeq=CO;Pt.resolveString=Lh;Pt.strOptions=ia;Pt.stringifyNumber=cO;Pt.stringifyString=uO;Pt.toJSON=Ps});var ff=B(si=>{"use strict";var tr=Ns(),Ke=Co(),AO={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve:(t,e)=>{let n=Ke.resolveString(t,e);if(typeof Buffer=="function")return Buffer.from(n,"base64");if(typeof atob=="function"){let r=atob(n.replace(/[\n\r]/g,"")),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}else{let r="This environment does not support reading binary tags; either Buffer or atob is required";return t.errors.push(new tr.YAMLReferenceError(e,r)),null}},options:Ke.binaryOptions,stringify:({comment:t,type:e,value:n},r,i,s)=>{let a;if(typeof Buffer=="function")a=n instanceof Buffer?n.toString("base64"):Buffer.from(n.buffer).toString("base64");else if(typeof btoa=="function"){let o="";for(let l=0;l<n.length;++l)o+=String.fromCharCode(n[l]);a=btoa(o)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=Ke.binaryOptions.defaultType),e===tr.Type.QUOTE_DOUBLE)n=a;else{let{lineWidth:o}=Ke.binaryOptions,l=Math.ceil(a.length/o),u=new Array(l);for(let c=0,f=0;c<l;++c,f+=o)u[c]=a.substr(f,o);n=u.join(e===tr.Type.BLOCK_LITERAL?`
`:" ")}return Ke.stringifyString({comment:t,type:e,value:n},r,i,s)}};function Jv(t,e){let n=Ke.resolveSeq(t,e);for(let r=0;r<n.items.length;++r){let i=n.items[r];if(!(i instanceof Ke.Pair)){if(i instanceof Ke.YAMLMap){if(i.items.length>1){let a="Each pair must have its own sequence indicator";throw new tr.YAMLSemanticError(e,a)}let s=i.items[0]||new Ke.Pair;i.commentBefore&&(s.commentBefore=s.commentBefore?`${i.commentBefore}
${s.commentBefore}`:i.commentBefore),i.comment&&(s.comment=s.comment?`${i.comment}
${s.comment}`:i.comment),i=s}n.items[r]=i instanceof Ke.Pair?i:new Ke.Pair(i)}}return n}function Zv(t,e,n){let r=new Ke.YAMLSeq(t);r.tag="tag:yaml.org,2002:pairs";for(let i of e){let s,a;if(Array.isArray(i))if(i.length===2)s=i[0],a=i[1];else throw new TypeError(`Expected [key, value] tuple: ${i}`);else if(i&&i instanceof Object){let l=Object.keys(i);if(l.length===1)s=l[0],a=i[s];else throw new TypeError(`Expected { key: value } tuple: ${i}`)}else s=i;let o=t.createPair(s,a,n);r.items.push(o)}return r}var SO={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Jv,createNode:Zv},aa=class extends Ke.YAMLSeq{constructor(){super();tr._defineProperty(this,"add",Ke.YAMLMap.prototype.add.bind(this)),tr._defineProperty(this,"delete",Ke.YAMLMap.prototype.delete.bind(this)),tr._defineProperty(this,"get",Ke.YAMLMap.prototype.get.bind(this)),tr._defineProperty(this,"has",Ke.YAMLMap.prototype.has.bind(this)),tr._defineProperty(this,"set",Ke.YAMLMap.prototype.set.bind(this)),this.tag=aa.tag}toJSON(e,n){let r=new Map;n&&n.onCreate&&n.onCreate(r);for(let i of this.items){let s,a;if(i instanceof Ke.Pair?(s=Ke.toJSON(i.key,"",n),a=Ke.toJSON(i.value,s,n)):s=Ke.toJSON(i,"",n),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,a)}return r}};tr._defineProperty(aa,"tag","tag:yaml.org,2002:omap");function IO(t,e){let n=Jv(t,e),r=[];for(let{key:i}of n.items)if(i instanceof Ke.Scalar)if(r.includes(i.value)){let s="Ordered maps must not include duplicate keys";throw new tr.YAMLSemanticError(e,s)}else r.push(i.value);return Object.assign(new aa,n)}function DO(t,e,n){let r=Zv(t,e,n),i=new aa;return i.items=r.items,i}var RO={identify:t=>t instanceof Map,nodeClass:aa,default:!1,tag:"tag:yaml.org,2002:omap",resolve:IO,createNode:DO},oa=class extends Ke.YAMLMap{constructor(){super();this.tag=oa.tag}add(e){let n=e instanceof Ke.Pair?e:new Ke.Pair(e);Ke.findPair(this.items,n.key)||this.items.push(n)}get(e,n){let r=Ke.findPair(this.items,e);return!n&&r instanceof Ke.Pair?r.key instanceof Ke.Scalar?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);let r=Ke.findPair(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Ke.Pair(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues())return super.toString(e,n,r);throw new Error("Set items must all have null values")}};tr._defineProperty(oa,"tag","tag:yaml.org,2002:set");function xO(t,e){let n=Ke.resolveMap(t,e);if(!n.hasAllNullValues())throw new tr.YAMLSemanticError(e,"Set items must all have null values");return Object.assign(new oa,n)}function wO(t,e,n){let r=new oa;for(let i of e)r.items.push(t.createPair(i,null,n));return r}var OO={identify:t=>t instanceof Set,nodeClass:oa,default:!1,tag:"tag:yaml.org,2002:set",resolve:xO,createNode:wO},Fh=(t,e)=>{let n=e.split(":").reduce((r,i)=>r*60+Number(i),0);return t==="-"?-n:n},eN=({value:t})=>{if(isNaN(t)||!isFinite(t))return Ke.stringifyNumber(t);let e="";t<0&&(e="-",t=Math.abs(t));let n=[t%60];return t<60?n.unshift(0):(t=Math.round((t-n[0])/60),n.unshift(t%60),t>=60&&(t=Math.round((t-n[0])/60),n.unshift(t))),e+n.map(r=>r<10?"0"+String(r):String(r)).join(":").replace(/000000\d*$/,"")},LO={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:(t,e,n)=>Fh(e,n.replace(/_/g,"")),stringify:eN},FO={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:(t,e,n)=>Fh(e,n.replace(/_/g,"")),stringify:eN},MO={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:(t,e,n,r,i,s,a,o,l)=>{o&&(o=(o+"00").substr(1,3));let u=Date.UTC(e,n-1,r,i||0,s||0,a||0,o||0);if(l&&l!=="Z"){let c=Fh(l[0],l.slice(1));Math.abs(c)<30&&(c*=60),u-=6e4*c}return new Date(u)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};function Mh(t){let e=typeof process!="undefined"&&process.env||{};return t?typeof YAML_SILENCE_DEPRECATION_WARNINGS!="undefined"?!YAML_SILENCE_DEPRECATION_WARNINGS:!e.YAML_SILENCE_DEPRECATION_WARNINGS:typeof YAML_SILENCE_WARNINGS!="undefined"?!YAML_SILENCE_WARNINGS:!e.YAML_SILENCE_WARNINGS}function kh(t,e){if(Mh(!1)){let n=typeof process!="undefined"&&process.emitWarning;n?n(t,e):console.warn(e?`${e}: ${t}`:t)}}function kO(t){if(Mh(!0)){let e=t.replace(/.*yaml[/\\]/i,"").replace(/\.js$/,"").replace(/\\/g,"/");kh(`The endpoint 'yaml/${e}' will be removed in a future release.`,"DeprecationWarning")}}var tN={};function qO(t,e){if(!tN[t]&&Mh(!0)){tN[t]=!0;let n=`The option '${t}' will be removed in a future release`;n+=e?`, use '${e}' instead.`:".",kh(n,"DeprecationWarning")}}si.binary=AO;si.floatTime=FO;si.intTime=LO;si.omap=RO;si.pairs=SO;si.set=OO;si.timestamp=MO;si.warn=kh;si.warnFileDeprecation=kO;si.warnOptionDeprecation=qO});var _f=B(hN=>{"use strict";var pf=Ns(),De=Co(),xn=ff();function BO(t,e,n){let r=new De.YAMLMap(t);if(e instanceof Map)for(let[i,s]of e)r.items.push(t.createPair(i,s,n));else if(e&&typeof e=="object")for(let i of Object.keys(e))r.items.push(t.createPair(i,e[i],n));return typeof t.sortMapEntries=="function"&&r.items.sort(t.sortMapEntries),r}var Ll={createNode:BO,default:!0,nodeClass:De.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:De.resolveMap};function VO(t,e,n){let r=new De.YAMLSeq(t);if(e&&e[Symbol.iterator])for(let i of e){let s=t.createNode(i,n.wrapScalars,null,n);r.items.push(s)}return r}var df={createNode:VO,default:!0,nodeClass:De.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:De.resolveSeq},jO={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:De.resolveString,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),De.stringifyString(t,e,n,r)},options:De.strOptions},qh=[Ll,df,jO],hf=t=>typeof t=="bigint"||Number.isInteger(t),Bh=(t,e,n)=>De.intOptions.asBigInt?BigInt(t):parseInt(e,n);function nN(t,e,n){let{value:r}=t;return hf(r)&&r>=0?n+r.toString(e):De.stringifyNumber(t)}var rN={identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new De.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:De.nullOptions,stringify:()=>De.nullOptions.nullStr},iN={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>t[0]==="t"||t[0]==="T",options:De.boolOptions,stringify:({value:t})=>t?De.boolOptions.trueStr:De.boolOptions.falseStr},sN={identify:t=>hf(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:(t,e)=>Bh(t,e,8),options:De.intOptions,stringify:t=>nN(t,8,"0o")},aN={identify:hf,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:t=>Bh(t,t,10),options:De.intOptions,stringify:De.stringifyNumber},oN={identify:t=>hf(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:(t,e)=>Bh(t,e,16),options:De.intOptions,stringify:t=>nN(t,16,"0x")},lN={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:De.stringifyNumber},uN={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify:({value:t})=>Number(t).toExponential()},cN={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve(t,e,n){let r=e||n,i=new De.Scalar(parseFloat(t));return r&&r[r.length-1]==="0"&&(i.minFractionDigits=r.length),i},stringify:De.stringifyNumber},UO=qh.concat([rN,iN,sN,aN,oN,lN,uN,cN]),fN=t=>typeof t=="bigint"||Number.isInteger(t),mf=({value:t})=>JSON.stringify(t),pN=[Ll,df,{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:De.resolveString,stringify:mf},{identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new De.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:mf},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:mf},{identify:fN,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:t=>De.intOptions.asBigInt?BigInt(t):parseInt(t,10),stringify:({value:t})=>fN(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:mf}];pN.scalarFallback=t=>{throw new SyntaxError(`Unresolved plain scalar ${JSON.stringify(t)}`)};var dN=({value:t})=>t?De.boolOptions.trueStr:De.boolOptions.falseStr,Fl=t=>typeof t=="bigint"||Number.isInteger(t);function gf(t,e,n){let r=e.replace(/_/g,"");if(De.intOptions.asBigInt){switch(n){case 2:r=`0b${r}`;break;case 8:r=`0o${r}`;break;case 16:r=`0x${r}`;break}let s=BigInt(r);return t==="-"?BigInt(-1)*s:s}let i=parseInt(r,n);return t==="-"?-1*i:i}function Vh(t,e,n){let{value:r}=t;if(Fl(r)){let i=r.toString(e);return r<0?"-"+n+i.substr(1):n+i}return De.stringifyNumber(t)}var WO=qh.concat([{identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new De.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:De.nullOptions,stringify:()=>De.nullOptions.nullStr},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>!0,options:De.boolOptions,stringify:dN},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>!1,options:De.boolOptions,stringify:dN},{identify:Fl,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:(t,e,n)=>gf(e,n,2),stringify:t=>Vh(t,2,"0b")},{identify:Fl,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:(t,e,n)=>gf(e,n,8),stringify:t=>Vh(t,8,"0")},{identify:Fl,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:(t,e,n)=>gf(e,n,10),stringify:De.stringifyNumber},{identify:Fl,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:(t,e,n)=>gf(e,n,16),stringify:t=>Vh(t,16,"0x")},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:De.stringifyNumber},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify:({value:t})=>Number(t).toExponential()},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve(t,e){let n=new De.Scalar(parseFloat(t.replace(/_/g,"")));if(e){let r=e.replace(/_/g,"");r[r.length-1]==="0"&&(n.minFractionDigits=r.length)}return n},stringify:De.stringifyNumber}],xn.binary,xn.omap,xn.pairs,xn.set,xn.intTime,xn.floatTime,xn.timestamp),GO={core:UO,failsafe:qh,json:pN,yaml11:WO},YO={binary:xn.binary,bool:iN,float:cN,floatExp:uN,floatNaN:lN,floatTime:xn.floatTime,int:aN,intHex:oN,intOct:sN,intTime:xn.intTime,map:Ll,null:rN,omap:xn.omap,pairs:xn.pairs,seq:df,set:xn.set,timestamp:xn.timestamp};function HO(t,e,n){if(e){let r=n.filter(s=>s.tag===e),i=r.find(s=>!s.format)||r[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return n.find(r=>(r.identify&&r.identify(t)||r.class&&t instanceof r.class)&&!r.format)}function $O(t,e,n){if(t instanceof De.Node)return t;let{defaultPrefix:r,onTagObj:i,prevObjects:s,schema:a,wrapScalars:o}=n;e&&e.startsWith("!!")&&(e=r+e.slice(2));let l=HO(t,e,a.tags);if(!l){if(typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object")return o?new De.Scalar(t):t;l=t instanceof Map?Ll:t[Symbol.iterator]?df:Ll}i&&(i(l),delete n.onTagObj);let u={value:void 0,node:void 0};if(t&&typeof t=="object"&&s){let c=s.get(t);if(c){let f=new De.Alias(c);return n.aliasNodes.push(f),f}u.value=t,s.set(t,u)}return u.node=l.createNode?l.createNode(n.schema,t,n):o?new De.Scalar(t):t,e&&u.node instanceof De.Node&&(u.node.tag=e),u.node}function KO(t,e,n,r){let i=t[r.replace(/\W/g,"")];if(!i){let s=Object.keys(t).map(a=>JSON.stringify(a)).join(", ");throw new Error(`Unknown schema "${r}"; use one of ${s}`)}if(Array.isArray(n))for(let s of n)i=i.concat(s);else typeof n=="function"&&(i=n(i.slice()));for(let s=0;s<i.length;++s){let a=i[s];if(typeof a=="string"){let o=e[a];if(!o){let l=Object.keys(e).map(u=>JSON.stringify(u)).join(", ");throw new Error(`Unknown custom tag "${a}"; use one of ${l}`)}i[s]=o}}return i}var zO=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,Po=class{constructor({customTags:e,merge:n,schema:r,sortMapEntries:i,tags:s}){this.merge=!!n,this.name=r,this.sortMapEntries=i===!0?zO:i||null,!e&&s&&xn.warnOptionDeprecation("tags","customTags"),this.tags=KO(GO,YO,e||s,r)}createNode(e,n,r,i){let s={defaultPrefix:Po.defaultPrefix,schema:this,wrapScalars:n},a=i?Object.assign(i,s):s;return $O(e,r,a)}createPair(e,n,r){r||(r={wrapScalars:!0});let i=this.createNode(e,r.wrapScalars,null,r),s=this.createNode(n,r.wrapScalars,null,r);return new De.Pair(i,s)}};pf._defineProperty(Po,"defaultPrefix",pf.defaultTagPrefix);pf._defineProperty(Po,"defaultTags",pf.defaultTags);hN.Schema=Po});var yN=B(vf=>{"use strict";var wn=Ns(),xe=Co(),mN=_f(),XO={anchorPrefix:"a",customTags:null,indent:2,indentSeq:!0,keepCstNodes:!1,keepNodeTypes:!0,keepBlobsInJSON:!0,mapAsMap:!1,maxAliasCount:100,prettyErrors:!1,simpleKeys:!1,version:"1.2"},QO={get binary(){return xe.binaryOptions},set binary(t){Object.assign(xe.binaryOptions,t)},get bool(){return xe.boolOptions},set bool(t){Object.assign(xe.boolOptions,t)},get int(){return xe.intOptions},set int(t){Object.assign(xe.intOptions,t)},get null(){return xe.nullOptions},set null(t){Object.assign(xe.nullOptions,t)},get str(){return xe.strOptions},set str(t){Object.assign(xe.strOptions,t)}},gN={"1.0":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:wn.defaultTagPrefix},{handle:"!!",prefix:"tag:private.yaml.org,2002:"}]},1.1:{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:wn.defaultTagPrefix}]},1.2:{schema:"core",merge:!1,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:wn.defaultTagPrefix}]}};function _N(t,e){if((t.version||t.options.version)==="1.0"){let i=e.match(/^tag:private\.yaml\.org,2002:([^:/]+)$/);if(i)return"!"+i[1];let s=e.match(/^tag:([a-zA-Z0-9-]+)\.yaml\.org,2002:(.*)/);return s?`!${s[1]}/${s[2]}`:`!${e.replace(/^tag:/,"")}`}let n=t.tagPrefixes.find(i=>e.indexOf(i.prefix)===0);if(!n){let i=t.getDefaults().tagPrefixes;n=i&&i.find(s=>e.indexOf(s.prefix)===0)}if(!n)return e[0]==="!"?e:`!<${e}>`;let r=e.substr(n.prefix.length).replace(/[!,[\]{}]/g,i=>({"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"})[i]);return n.handle+r}function JO(t,e){if(e instanceof xe.Alias)return xe.Alias;if(e.tag){let i=t.filter(s=>s.tag===e.tag);if(i.length>0)return i.find(s=>s.format===e.format)||i[0]}let n,r;if(e instanceof xe.Scalar){r=e.value;let i=t.filter(s=>s.identify&&s.identify(r)||s.class&&r instanceof s.class);n=i.find(s=>s.format===e.format)||i.find(s=>!s.format)}else r=e,n=t.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){let i=r&&r.constructor?r.constructor.name:typeof r;throw new Error(`Tag not resolved for ${i} value`)}return n}function ZO(t,e,{anchors:n,doc:r}){let i=[],s=r.anchors.getName(t);return s&&(n[s]=t,i.push(`&${s}`)),t.tag?i.push(_N(r,t.tag)):e.default||i.push(_N(r,e.tag)),i.join(" ")}function yf(t,e,n,r){let{anchors:i,schema:s}=e.doc,a;if(!(t instanceof xe.Node)){let u={aliasNodes:[],onTagObj:c=>a=c,prevObjects:new Map};t=s.createNode(t,!0,null,u);for(let c of u.aliasNodes){c.source=c.source.node;let f=i.getName(c.source);f||(f=i.newName(),i.map[f]=c.source)}}if(t instanceof xe.Pair)return t.toString(e,n,r);a||(a=JO(s.tags,t));let o=ZO(t,a,e);o.length>0&&(e.indentAtStart=(e.indentAtStart||0)+o.length+1);let l=typeof a.stringify=="function"?a.stringify(t,e,n,r):t instanceof xe.Scalar?xe.stringifyString(t,e,n,r):t.toString(e,n,r);return o?t instanceof xe.Scalar||l[0]==="{"||l[0]==="["?`${o} ${l}`:`${o}
${e.indent}${l}`:l}var bf=class{static validAnchorNode(e){return e instanceof xe.Scalar||e instanceof xe.YAMLSeq||e instanceof xe.YAMLMap}constructor(e){wn._defineProperty(this,"map",Object.create(null)),this.prefix=e}createAlias(e,n){return this.setAnchor(e,n),new xe.Alias(e)}createMergePair(...e){let n=new xe.Merge;return n.value.items=e.map(r=>{if(r instanceof xe.Alias){if(r.source instanceof xe.YAMLMap)return r}else if(r instanceof xe.YAMLMap)return this.createAlias(r);throw new Error("Merge sources must be Map nodes or their Aliases")}),n}getName(e){let{map:n}=this;return Object.keys(n).find(r=>n[r]===e)}getNames(){return Object.keys(this.map)}getNode(e){return this.map[e]}newName(e){e||(e=this.prefix);let n=Object.keys(this.map);for(let r=1;;++r){let i=`${e}${r}`;if(!n.includes(i))return i}}resolveNodes(){let{map:e,_cstAliases:n}=this;Object.keys(e).forEach(r=>{e[r]=e[r].resolved}),n.forEach(r=>{r.source=r.source.resolved}),delete this._cstAliases}setAnchor(e,n){if(e!=null&&!bf.validAnchorNode(e))throw new Error("Anchors may only be set for Scalar, Seq and Map nodes");if(n&&/[\x00-\x19\s,[\]{}]/.test(n))throw new Error("Anchor names must not contain whitespace or control characters");let{map:r}=this,i=e&&Object.keys(r).find(s=>r[s]===e);if(i)if(n)i!==n&&(delete r[i],r[n]=e);else return i;else{if(!n){if(!e)return null;n=this.newName()}r[n]=e}return n}},Tf=(t,e)=>{if(t&&typeof t=="object"){let{tag:n}=t;t instanceof xe.Collection?(n&&(e[n]=!0),t.items.forEach(r=>Tf(r,e))):t instanceof xe.Pair?(Tf(t.key,e),Tf(t.value,e)):t instanceof xe.Scalar&&n&&(e[n]=!0)}return e},eL=t=>Object.keys(Tf(t,{}));function tL(t,e){let n={before:[],after:[]},r,i=!1;for(let s of e)if(s.valueRange){if(r!==void 0){let o="Document contains trailing content not separated by a ... or --- line";t.errors.push(new wn.YAMLSyntaxError(s,o));break}let a=xe.resolveNode(t,s);i&&(a.spaceBefore=!0,i=!1),r=a}else s.comment!==null?(r===void 0?n.before:n.after).push(s.comment):s.type===wn.Type.BLANK_LINE&&(i=!0,r===void 0&&n.before.length>0&&!t.commentBefore&&(t.commentBefore=n.before.join(`
`),n.before=[]));if(t.contents=r||null,!r)t.comment=n.before.concat(n.after).join(`
`)||null;else{let s=n.before.join(`
`);if(s){let a=r instanceof xe.Collection&&r.items[0]?r.items[0]:r;a.commentBefore=a.commentBefore?`${s}
${a.commentBefore}`:s}t.comment=n.after.join(`
`)||null}}function nL({tagPrefixes:t},e){let[n,r]=e.parameters;if(!n||!r){let i="Insufficient parameters given for %TAG directive";throw new wn.YAMLSemanticError(e,i)}if(t.some(i=>i.handle===n)){let i="The %TAG directive must only be given at most once per handle in the same document.";throw new wn.YAMLSemanticError(e,i)}return{handle:n,prefix:r}}function rL(t,e){let[n]=e.parameters;if(e.name==="YAML:1.0"&&(n="1.0"),!n){let r="Insufficient parameters given for %YAML directive";throw new wn.YAMLSemanticError(e,r)}if(!gN[n]){let i=`Document will be parsed as YAML ${t.version||t.options.version} rather than YAML ${n}`;t.warnings.push(new wn.YAMLWarning(e,i))}return n}function iL(t,e,n){let r=[],i=!1;for(let s of e){let{comment:a,name:o}=s;switch(o){case"TAG":try{t.tagPrefixes.push(nL(t,s))}catch(l){t.errors.push(l)}i=!0;break;case"YAML":case"YAML:1.0":if(t.version){let l="The %YAML directive must only be given at most once per document.";t.errors.push(new wn.YAMLSemanticError(s,l))}try{t.version=rL(t,s)}catch(l){t.errors.push(l)}i=!0;break;default:if(o){let l=`YAML only supports %TAG and %YAML directives, and not %${o}`;t.warnings.push(new wn.YAMLWarning(s,l))}}a&&r.push(a)}if(n&&!i&&(t.version||n.version||t.options.version)==="1.1"){let s=({handle:a,prefix:o})=>({handle:a,prefix:o});t.tagPrefixes=n.tagPrefixes.map(s),t.version=n.version}t.commentBefore=r.join(`
`)||null}function Eo(t){if(t instanceof xe.Collection)return!0;throw new Error("Expected a YAML collection as document contents")}var Ao=class{constructor(e){this.anchors=new bf(e.anchorPrefix),this.commentBefore=null,this.comment=null,this.contents=null,this.directivesEndMarker=null,this.errors=[],this.options=e,this.schema=null,this.tagPrefixes=[],this.version=null,this.warnings=[]}add(e){return Eo(this.contents),this.contents.add(e)}addIn(e,n){Eo(this.contents),this.contents.addIn(e,n)}delete(e){return Eo(this.contents),this.contents.delete(e)}deleteIn(e){return xe.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):(Eo(this.contents),this.contents.deleteIn(e))}getDefaults(){return Ao.defaults[this.version]||Ao.defaults[this.options.version]||{}}get(e,n){return this.contents instanceof xe.Collection?this.contents.get(e,n):void 0}getIn(e,n){return xe.isEmptyPath(e)?!n&&this.contents instanceof xe.Scalar?this.contents.value:this.contents:this.contents instanceof xe.Collection?this.contents.getIn(e,n):void 0}has(e){return this.contents instanceof xe.Collection?this.contents.has(e):!1}hasIn(e){return xe.isEmptyPath(e)?this.contents!==void 0:this.contents instanceof xe.Collection?this.contents.hasIn(e):!1}set(e,n){Eo(this.contents),this.contents.set(e,n)}setIn(e,n){xe.isEmptyPath(e)?this.contents=n:(Eo(this.contents),this.contents.setIn(e,n))}setSchema(e,n){if(!e&&!n&&this.schema)return;typeof e=="number"&&(e=e.toFixed(1)),e==="1.0"||e==="1.1"||e==="1.2"?(this.version?this.version=e:this.options.version=e,delete this.options.schema):e&&typeof e=="string"&&(this.options.schema=e),Array.isArray(n)&&(this.options.customTags=n);let r=Object.assign({},this.getDefaults(),this.options);this.schema=new mN.Schema(r)}parse(e,n){this.options.keepCstNodes&&(this.cstNode=e),this.options.keepNodeTypes&&(this.type="DOCUMENT");let{directives:r=[],contents:i=[],directivesEndMarker:s,error:a,valueRange:o}=e;if(a&&(a.source||(a.source=this),this.errors.push(a)),iL(this,r,n),s&&(this.directivesEndMarker=!0),this.range=o?[o.start,o.end]:null,this.setSchema(),this.anchors._cstAliases=[],tL(this,i),this.anchors.resolveNodes(),this.options.prettyErrors){for(let l of this.errors)l instanceof wn.YAMLError&&l.makePretty();for(let l of this.warnings)l instanceof wn.YAMLError&&l.makePretty()}return this}listNonDefaultTags(){return eL(this.contents).filter(e=>e.indexOf(mN.Schema.defaultPrefix)!==0)}setTagPrefix(e,n){if(e[0]!=="!"||e[e.length-1]!=="!")throw new Error("Handle must start and end with !");if(n){let r=this.tagPrefixes.find(i=>i.handle===e);r?r.prefix=n:this.tagPrefixes.push({handle:e,prefix:n})}else this.tagPrefixes=this.tagPrefixes.filter(r=>r.handle!==e)}toJSON(e,n){let{keepBlobsInJSON:r,mapAsMap:i,maxAliasCount:s}=this.options,a=r&&(typeof e!="string"||!(this.contents instanceof xe.Scalar)),o={doc:this,indentStep:"  ",keep:a,mapAsMap:a&&!!i,maxAliasCount:s,stringify:yf},l=Object.keys(this.anchors.map);l.length>0&&(o.anchors=new Map(l.map(c=>[this.anchors.map[c],{alias:[],aliasCount:0,count:1}])));let u=xe.toJSON(this.contents,e,o);if(typeof n=="function"&&o.anchors)for(let{count:c,res:f}of o.anchors.values())n(f,c);return u}toString(){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");let e=this.options.indent;if(!Number.isInteger(e)||e<=0){let l=JSON.stringify(e);throw new Error(`"indent" option must be a positive integer, not ${l}`)}this.setSchema();let n=[],r=!1;if(this.version){let l="%YAML 1.2";this.schema.name==="yaml-1.1"&&(this.version==="1.0"?l="%YAML:1.0":this.version==="1.1"&&(l="%YAML 1.1")),n.push(l),r=!0}let i=this.listNonDefaultTags();this.tagPrefixes.forEach(({handle:l,prefix:u})=>{i.some(c=>c.indexOf(u)===0)&&(n.push(`%TAG ${l} ${u}`),r=!0)}),(r||this.directivesEndMarker)&&n.push("---"),this.commentBefore&&((r||!this.directivesEndMarker)&&n.unshift(""),n.unshift(this.commentBefore.replace(/^/gm,"#")));let s={anchors:Object.create(null),doc:this,indent:"",indentStep:" ".repeat(e),stringify:yf},a=!1,o=null;if(this.contents){this.contents instanceof xe.Node&&(this.contents.spaceBefore&&(r||this.directivesEndMarker)&&n.push(""),this.contents.commentBefore&&n.push(this.contents.commentBefore.replace(/^/gm,"#")),s.forceBlockIndent=!!this.comment,o=this.contents.comment);let l=o?null:()=>a=!0,u=yf(this.contents,s,()=>o=null,l);n.push(xe.addComment(u,"",o))}else this.contents!==void 0&&n.push(yf(this.contents,s));return this.comment&&((!a||o)&&n[n.length-1]!==""&&n.push(""),n.push(this.comment.replace(/^/gm,"#"))),n.join(`
`)+`
`}};wn._defineProperty(Ao,"defaults",gN);vf.Document=Ao;vf.defaultOptions=XO;vf.scalarOptions=QO});var vN=B(TN=>{"use strict";var jh=Vv(),la=yN(),sL=_f(),aL=Ns(),oL=ff();Co();function lL(t,e=!0,n){n===void 0&&typeof e=="string"&&(n=e,e=!0);let r=Object.assign({},la.Document.defaults[la.defaultOptions.version],la.defaultOptions);return new sL.Schema(r).createNode(t,e,n)}var Ml=class extends la.Document{constructor(e){super(Object.assign({},la.defaultOptions,e))}};function uL(t,e){let n=[],r;for(let i of jh.parse(t)){let s=new Ml(e);s.parse(i,r),n.push(s),r=s}return n}function bN(t,e){let n=jh.parse(t),r=new Ml(e).parse(n[0]);if(n.length>1){let i="Source contains multiple documents; please use YAML.parseAllDocuments()";r.errors.unshift(new aL.YAMLSemanticError(n[1],i))}return r}function cL(t,e){let n=bN(t,e);if(n.warnings.forEach(r=>oL.warn(r)),n.errors.length>0)throw n.errors[0];return n.toJSON()}function fL(t,e){let n=new Ml(e);return n.contents=t,String(n)}var pL={createNode:lL,defaultOptions:la.defaultOptions,Document:Ml,parse:cL,parseAllDocuments:uL,parseCST:jh.parse,parseDocument:bN,scalarOptions:la.scalarOptions,stringify:fL};TN.YAML=pL});var Uh=B((MZ,NN)=>{NN.exports=vN().YAML});var CN=B(On=>{"use strict";var nr=Co(),dL=_f();Ns();ff();On.Alias=nr.Alias;On.Collection=nr.Collection;On.Merge=nr.Merge;On.Node=nr.Node;On.Pair=nr.Pair;On.Scalar=nr.Scalar;On.YAMLMap=nr.YAMLMap;On.YAMLSeq=nr.YAMLSeq;On.binaryOptions=nr.binaryOptions;On.boolOptions=nr.boolOptions;On.intOptions=nr.intOptions;On.nullOptions=nr.nullOptions;On.strOptions=nr.strOptions;On.Schema=dL.Schema});var Df=B((jee,_C)=>{"use strict";function sn(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}sn.prototype.clone_empty=function(){var t=new sn(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t};sn.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]};sn.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1};sn.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))};sn.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)};sn.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count};sn.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,t.__items[0]===" "&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1};sn.prototype.is_empty=function(){return this.__items.length===0};sn.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]};sn.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf(`
`);e!==-1?this.__character_count=t.length-e:this.__character_count+=t.length};sn.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t};sn.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)};sn.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)};sn.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1};sn.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t};function Gl(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}Gl.prototype.get_indent_size=function(t,e){var n=this.__base_string_length;return e=e||0,t<0&&(n=0),n+=t*this.__indent_size,n+=e,n};Gl.prototype.get_indent_string=function(t,e){var n=this.__base_string;return e=e||0,t<0&&(t=0,n=""),e+=t*this.__indent_size,this.__ensure_cache(e),n+=this.__cache[e],n};Gl.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column()};Gl.prototype.__add_column=function(){var t=this.__cache.length,e=0,n="";this.__indent_size&&t>=this.__indent_size&&(e=Math.floor(t/this.__indent_size),t-=e*this.__indent_size,n=new Array(e+1).join(this.__indent_string)),t&&(n+=new Array(t+1).join(" ")),this.__cache.push(n)};function an(t,e){this.__indent_cache=new Gl(t,e),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new sn(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}an.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)};an.prototype.get_line_number=function(){return this.__lines.length};an.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)};an.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)};an.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()};an.prototype.add_new_line=function(t){return this.is_empty()||!t&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)};an.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&(e[e.length-1]===`
`&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join(`
`);return t!==`
`&&(n=n.replace(/[\n]/g,t)),n};an.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()};an.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)};an.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1};an.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()};an.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))};an.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()};an.prototype.trim=function(t){for(t=t===void 0?!1:t,this.current_line.trim();t&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null};an.prototype.just_added_newline=function(){return this.current_line.is_empty()};an.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()};an.prototype.ensure_empty_line_above=function(t,e){for(var n=this.__lines.length-2;n>=0;){var r=this.__lines[n];if(r.is_empty())break;if(r.item(0).indexOf(t)!==0&&r.item(-1)!==e){this.__lines.splice(n+1,0,new sn(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}};_C.exports.Output=an});var om=B((Uee,yC)=>{"use strict";function qM(t,e,n,r){this.type=t,this.text=e,this.comments_before=null,this.newlines=n||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}yC.exports.Token=qM});var um=B(Xi=>{"use strict";var BM="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",bC="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",lm="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",TC="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",vC="(?:\\\\u[0-9a-fA-F]{4}|["+BM+lm+"])",VM="(?:\\\\u[0-9a-fA-F]{4}|["+bC+lm+TC+"])*";Xi.identifier=new RegExp(vC+VM,"g");Xi.identifierStart=new RegExp(vC);Xi.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+bC+lm+TC+"])+");Xi.newline=/[\n\r\u2028\u2029]/;Xi.lineBreak=new RegExp(`\r
|`+Xi.newline.source);Xi.allLineBreaks=new RegExp(Xi.lineBreak.source,"g")});var xf=B((Gee,Rf)=>{"use strict";function Ds(t,e){this.raw_options=NC(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}Ds.prototype._get_array=function(t,e){var n=this.raw_options[t],r=e||[];return typeof n=="object"?n!==null&&typeof n.concat=="function"&&(r=n.concat()):typeof n=="string"&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r};Ds.prototype._get_boolean=function(t,e){var n=this.raw_options[t],r=n===void 0?!!e:!!n;return r};Ds.prototype._get_characters=function(t,e){var n=this.raw_options[t],r=e||"";return typeof n=="string"&&(r=n.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),r};Ds.prototype._get_number=function(t,e){var n=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var r=parseInt(n,10);return isNaN(r)&&(r=e),r};Ds.prototype._get_selection=function(t,e,n){var r=this._get_selection_list(t,e,n);if(r.length!==1)throw new Error("Invalid Option Value: The option '"+t+`' can only be one of the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return r[0]};Ds.prototype._get_selection_list=function(t,e,n){if(!e||e.length===0)throw new Error("Selection list cannot be empty.");if(n=n||[e[0]],!this._is_valid_selection(n,e))throw new Error("Invalid Default Value!");var r=this._get_array(t,n);if(!this._is_valid_selection(r,e))throw new Error("Invalid Option Value: The option '"+t+`' can contain only the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return r};Ds.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some(function(n){return e.indexOf(n)===-1})};function NC(t,e){var n={};t=CC(t);var r;for(r in t)r!==e&&(n[r]=t[r]);if(e&&t[e])for(r in t[e])n[r]=t[e][r];return n}function CC(t){var e={},n;for(n in t){var r=n.replace(/-/g,"_");e[r]=t[n]}return e}Rf.exports.Options=Ds;Rf.exports.normalizeOpts=CC;Rf.exports.mergeOpts=NC});var cm=B((Yee,AC)=>{"use strict";var PC=xf().Options,jM=["before-newline","after-newline","preserve-newline"];function EC(t){PC.call(this,t,"js");var e=this.raw_options.brace_style||null;e==="expand-strict"?this.raw_options.brace_style="expand":e==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var r=0;r<n.length;r++)n[r]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=n[r];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",jM),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}EC.prototype=new PC;AC.exports.Options=EC});var wf=B((Hee,IC)=>{"use strict";var SC=RegExp.prototype.hasOwnProperty("sticky");function dn(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}dn.prototype.restart=function(){this.__position=0};dn.prototype.back=function(){this.__position>0&&(this.__position-=1)};dn.prototype.hasNext=function(){return this.__position<this.__input_length};dn.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t};dn.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e};dn.prototype.__match=function(t,e){t.lastIndex=e;var n=t.exec(this.__input);return n&&!(SC&&t.sticky)&&n.index!==e&&(n=null),n};dn.prototype.test=function(t,e){return e=e||0,e+=this.__position,e>=0&&e<this.__input_length?!!this.__match(t,e):!1};dn.prototype.testChar=function(t,e){var n=this.peek(e);return t.lastIndex=0,n!==null&&t.test(n)};dn.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e};dn.prototype.read=function(t,e,n){var r="",i;return t&&(i=this.match(t),i&&(r+=i[0])),e&&(i||!t)&&(r+=this.readUntil(e,n)),r};dn.prototype.readUntil=function(t,e){var n="",r=this.__position;t.lastIndex=this.__position;var i=t.exec(this.__input);return i?(r=i.index,e&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n};dn.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)};dn.prototype.get_regexp=function(t,e){var n=null,r="g";return e&&SC&&(r="y"),typeof t=="string"&&t!==""?n=new RegExp(t,r):t&&(n=new RegExp(t.source,r)),n};dn.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))};dn.prototype.peekUntilAfter=function(t){var e=this.__position,n=this.readUntilAfter(t);return this.__position=e,n};dn.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t};IC.exports.InputScanner=dn});var RC=B(($ee,DC)=>{"use strict";function fa(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}fa.prototype.restart=function(){this.__position=0};fa.prototype.isEmpty=function(){return this.__tokens_length===0};fa.prototype.hasNext=function(){return this.__position<this.__tokens_length};fa.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t};fa.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__tokens_length&&(e=this.__tokens[t]),e};fa.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1};DC.exports.TokenStream=fa});var Yl=B((Kee,xC)=>{"use strict";function Ei(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after)}Ei.prototype.read=function(){var t=this._input.read(this._starting_pattern);return(!this._starting_pattern||t)&&(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t};Ei.prototype.read_match=function(){return this._input.match(this._match_pattern)};Ei.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e};Ei.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e};Ei.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e};Ei.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e};Ei.prototype._create=function(){return new Ei(this._input,this)};Ei.prototype._update=function(){};xC.exports.Pattern=Ei});var LC=B((zee,OC)=>{"use strict";var wC=Yl().Pattern;function Rs(t,e){wC.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}Rs.prototype=new wC;Rs.prototype.__set_whitespace_patterns=function(t,e){t+="\\t ",e+="\\n\\r",this._match_pattern=this._input.get_regexp("["+t+e+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]")};Rs.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(t===" ")this.whitespace_before_token=" ";else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1,this.whitespace_before_token=e[this.newline_count]}return t};Rs.prototype.matching=function(t,e){var n=this._create();return n.__set_whitespace_patterns(t,e),n._update(),n};Rs.prototype._create=function(){return new Rs(this._input,this)};Rs.prototype.__split=function(t,e){t.lastIndex=0;for(var n=0,r=[],i=t.exec(e);i;)r.push(e.substring(n,i.index)),n=i.index+i[0].length,i=t.exec(e);return n<e.length?r.push(e.substring(n,e.length)):r.push(""),r};OC.exports.WhitespacePattern=Rs});var $l=B((Xee,pm)=>{"use strict";var UM=wf().InputScanner,FC=om().Token,fm=RC().TokenStream,WM=LC().WhitespacePattern,Hl={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},Ai=function(t,e){this._input=new UM(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new WM(this._input)};Ai.prototype.tokenize=function(){this._input.restart(),this.__tokens=new fm,this._reset();for(var t,e=new FC(Hl.START,""),n=null,r=[],i=new fm;e.type!==Hl.EOF;){for(t=this._get_next_token(e,n);this._is_comment(t);)i.add(t),t=this._get_next_token(e,n);i.isEmpty()||(t.comments_before=i,i=new fm),t.parent=n,this._is_opening(t)?(r.push(n),n=t):n&&this._is_closing(t,n)&&(t.opened=n,n.closed=t,n=r.pop(),t.parent=n),t.previous=e,e.next=t,this.__tokens.add(t),e=t}return this.__tokens};Ai.prototype._is_first_token=function(){return this.__tokens.isEmpty()};Ai.prototype._reset=function(){};Ai.prototype._get_next_token=function(t,e){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(Hl.RAW,n):this._create_token(Hl.EOF,"")};Ai.prototype._is_comment=function(t){return!1};Ai.prototype._is_opening=function(t){return!1};Ai.prototype._is_closing=function(t,e){return!1};Ai.prototype._create_token=function(t,e){var n=new FC(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return n};Ai.prototype._readWhitespace=function(){return this._patterns.whitespace.read()};pm.exports.Tokenizer=Ai;pm.exports.TOKEN=Hl});var Of=B((Qee,MC)=>{"use strict";function dm(t,e){t=typeof t=="string"?t:t.source,e=typeof e=="string"?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}dm.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(t);n;)e[n[1]]=n[2],n=this.__directive_pattern.exec(t);return e};dm.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)};MC.exports.Directives=dm});var gm=B((Jee,kC)=>{"use strict";var hm=Yl().Pattern,mm={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function ai(t,e){hm.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},mm),this._excluded=Object.assign({},mm),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var n=new hm(t);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/),smarty:n.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:n.starting_with(/{\*/).until_after(/\*}/),smarty_literal:n.starting_with(/{literal}/).until_after(/{\/literal}/)}}ai.prototype=new hm;ai.prototype._create=function(){return new ai(this._input,this)};ai.prototype._update=function(){this.__set_templated_pattern()};ai.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e};ai.prototype.read_options=function(t){var e=this._create();for(var n in mm)e._disabled[n]=t.templating.indexOf(n)===-1;return e._update(),e};ai.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e};ai.prototype.read=function(){var t="";this._match_pattern?t=this._input.read(this._starting_pattern):t=this._input.read(this._starting_pattern,this.__template_pattern);for(var e=this._read_template();e;)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t};ai.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||t.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")};ai.prototype._read_template=function(){var t="",e=this._input.peek();if(e==="<"){var n=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&n==="?"&&(t=t||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&n==="%"&&(t=t||this.__patterns.erb.read())}else e==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(t=t||this.__patterns.handlebars_comment.read(),t=t||this.__patterns.handlebars_unescaped.read(),t=t||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(t=t||this.__patterns.django_value.read()),this._excluded.django||(t=t||this.__patterns.django_comment.read(),t=t||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(t=t||this.__patterns.smarty_comment.read(),t=t||this.__patterns.smarty_literal.read(),t=t||this.__patterns.smarty.read()));return t};kC.exports.TemplatablePattern=ai});var zl=B((Zee,Kl)=>{"use strict";var GM=wf().InputScanner,qC=$l().Tokenizer,_m=$l().TOKEN,YM=Of().Directives,Pr=um(),HM=Yl().Pattern,$M=gm().TemplatablePattern;function ym(t,e){return e.indexOf(t)!==-1}var Ne={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:_m.START,RAW:_m.RAW,EOF:_m.EOF},BC=new YM(/\/\*/,/\*\//),KM=/0[xX][0123456789abcdefABCDEF]*|0[oO][01234567]*|0[bB][01]*|\d+n|(?:\.\d+|\d+\.?\d*)(?:[eE][+-]?\d+)?/,zM=/[0-9]/,XM=/[^\d\.]/,QM=">>> === !== << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),pa=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";pa=pa.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");pa="\\?\\.(?!\\d) "+pa;pa=pa.replace(/ /g,"|");var JM=new RegExp(pa),VC="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),ZM=VC.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),ek=new RegExp("^(?:"+ZM.join("|")+")$"),Lf,hn=function(t,e){qC.call(this,t,e),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var n=new HM(this._input),r=new $M(this._input).read_options(this._options);this.__patterns={template:r,identifier:r.starting_with(Pr.identifier).matching(Pr.identifierMatch),number:n.matching(KM),punct:n.matching(JM),comment:n.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:n.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:n.matching(/<!--/),html_comment_end:n.matching(/-->/),include:n.starting_with(/#include/).until_after(Pr.lineBreak),shebang:n.starting_with(/#!/).until_after(Pr.lineBreak),xml:n.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\]|)(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:r.until(/['\\\n\r\u2028\u2029]/),double_quote:r.until(/["\\\n\r\u2028\u2029]/),template_text:r.until(/[`\\$]/),template_expression:r.until(/[`}\\]/)}};hn.prototype=new qC;hn.prototype._is_comment=function(t){return t.type===Ne.COMMENT||t.type===Ne.BLOCK_COMMENT||t.type===Ne.UNKNOWN};hn.prototype._is_opening=function(t){return t.type===Ne.START_BLOCK||t.type===Ne.START_EXPR};hn.prototype._is_closing=function(t,e){return(t.type===Ne.END_BLOCK||t.type===Ne.END_EXPR)&&e&&(t.text==="]"&&e.text==="["||t.text===")"&&e.text==="("||t.text==="}"&&e.text==="{")};hn.prototype._reset=function(){Lf=!1};hn.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(Ne.EOF,""):(n=n||this._read_non_javascript(r),n=n||this._read_string(r),n=n||this._read_word(t),n=n||this._read_singles(r),n=n||this._read_comment(r),n=n||this._read_regexp(r,t),n=n||this._read_xml(r,t),n=n||this._read_punctuation(),n=n||this._create_token(Ne.UNKNOWN,this._input.next()),n)};hn.prototype._read_word=function(t){var e;if(e=this.__patterns.identifier.read(),e!=="")return e=e.replace(Pr.allLineBreaks,`
`),!(t.type===Ne.DOT||t.type===Ne.RESERVED&&(t.text==="set"||t.text==="get"))&&ek.test(e)?e==="in"||e==="of"?this._create_token(Ne.OPERATOR,e):this._create_token(Ne.RESERVED,e):this._create_token(Ne.WORD,e);if(e=this.__patterns.number.read(),e!=="")return this._create_token(Ne.WORD,e)};hn.prototype._read_singles=function(t){var e=null;return t==="("||t==="["?e=this._create_token(Ne.START_EXPR,t):t===")"||t==="]"?e=this._create_token(Ne.END_EXPR,t):t==="{"?e=this._create_token(Ne.START_BLOCK,t):t==="}"?e=this._create_token(Ne.END_BLOCK,t):t===";"?e=this._create_token(Ne.SEMICOLON,t):t==="."&&XM.test(this._input.peek(1))?e=this._create_token(Ne.DOT,t):t===","&&(e=this._create_token(Ne.COMMA,t)),e&&this._input.next(),e};hn.prototype._read_punctuation=function(){var t=this.__patterns.punct.read();if(t!=="")return t==="="?this._create_token(Ne.EQUALS,t):t==="?."?this._create_token(Ne.DOT,t):this._create_token(Ne.OPERATOR,t)};hn.prototype._read_non_javascript=function(t){var e="";if(t==="#"){if(this._is_first_token()&&(e=this.__patterns.shebang.read(),e))return this._create_token(Ne.UNKNOWN,e.trim()+`
`);if(e=this.__patterns.include.read(),e)return this._create_token(Ne.UNKNOWN,e.trim()+`
`);t=this._input.next();var n="#";if(this._input.hasNext()&&this._input.testChar(zM)){do t=this._input.next(),n+=t;while(this._input.hasNext()&&t!=="#"&&t!=="=");return t==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(n+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(n+="{}",this._input.next(),this._input.next())),this._create_token(Ne.WORD,n)}this._input.back()}else if(t==="<"&&this._is_first_token()){if(e=this.__patterns.html_comment_start.read(),e){for(;this._input.hasNext()&&!this._input.testChar(Pr.newline);)e+=this._input.next();return Lf=!0,this._create_token(Ne.COMMENT,e)}}else if(Lf&&t==="-"&&(e=this.__patterns.html_comment_end.read(),e))return Lf=!1,this._create_token(Ne.COMMENT,e);return null};hn.prototype._read_comment=function(t){var e=null;if(t==="/"){var n="";if(this._input.peek(1)==="*"){n=this.__patterns.block_comment.read();var r=BC.get_directives(n);r&&r.ignore==="start"&&(n+=BC.readIgnored(this._input)),n=n.replace(Pr.allLineBreaks,`
`),e=this._create_token(Ne.BLOCK_COMMENT,n),e.directives=r}else this._input.peek(1)==="/"&&(n=this.__patterns.comment.read(),e=this._create_token(Ne.COMMENT,n))}return e};hn.prototype._read_string=function(t){if(t==="`"||t==="'"||t==='"'){var e=this._input.next();return this.has_char_escapes=!1,t==="`"?e+=this._read_string_recursive("`",!0,"${"):e+=this._read_string_recursive(t),this.has_char_escapes&&this._options.unescape_strings&&(e=tk(e)),this._input.peek()===t&&(e+=this._input.next()),e=e.replace(Pr.allLineBreaks,`
`),this._create_token(Ne.STRING,e)}return null};hn.prototype._allow_regexp_or_xml=function(t){return t.type===Ne.RESERVED&&ym(t.text,["return","case","throw","else","do","typeof","yield"])||t.type===Ne.END_EXPR&&t.text===")"&&t.opened.previous.type===Ne.RESERVED&&ym(t.opened.previous.text,["if","while","for"])||ym(t.type,[Ne.COMMENT,Ne.START_EXPR,Ne.START_BLOCK,Ne.START,Ne.END_BLOCK,Ne.OPERATOR,Ne.EQUALS,Ne.EOF,Ne.SEMICOLON,Ne.COMMA])};hn.prototype._read_regexp=function(t,e){if(t==="/"&&this._allow_regexp_or_xml(e)){for(var n=this._input.next(),r=!1,i=!1;this._input.hasNext()&&(r||i||this._input.peek()!==t)&&!this._input.testChar(Pr.newline);)n+=this._input.peek(),r?r=!1:(r=this._input.peek()==="\\",this._input.peek()==="["?i=!0:this._input.peek()==="]"&&(i=!1)),this._input.next();return this._input.peek()===t&&(n+=this._input.next(),n+=this._input.read(Pr.identifier)),this._create_token(Ne.STRING,n)}return null};hn.prototype._read_xml=function(t,e){if(this._options.e4x&&t==="<"&&this._allow_regexp_or_xml(e)){var n="",r=this.__patterns.xml.read_match();if(r){for(var i=r[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),s=i.indexOf("{")===0,a=0;r;){var o=!!r[1],l=r[2],u=!!r[r.length-1]||l.slice(0,8)==="![CDATA[";if(!u&&(l===i||s&&l.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(o?--a:++a),n+=r[0],a<=0)break;r=this.__patterns.xml.read_match()}return r||(n+=this._input.match(/[\s\S]*/g)[0]),n=n.replace(Pr.allLineBreaks,`
`),this._create_token(Ne.STRING,n)}}return null};function tk(t){for(var e="",n=0,r=new GM(t),i=null;r.hasNext();)if(i=r.match(/([\s]|[^\\]|\\\\)+/g),i&&(e+=i[0]),r.peek()==="\\"){if(r.next(),r.peek()==="x")i=r.match(/x([0-9A-Fa-f]{2})/g);else if(r.peek()==="u")i=r.match(/u([0-9A-Fa-f]{4})/g);else{e+="\\",r.hasNext()&&(e+=r.next());continue}if(!i||(n=parseInt(i[1],16),n>126&&n<=255&&i[0].indexOf("x")===0))return t;if(n>=0&&n<32){e+="\\"+i[0];continue}else n===34||n===39||n===92?e+="\\"+String.fromCharCode(n):e+=String.fromCharCode(n)}return e}hn.prototype._read_string_recursive=function(t,e,n){var r,i;t==="'"?i=this.__patterns.single_quote:t==='"'?i=this.__patterns.double_quote:t==="`"?i=this.__patterns.template_text:t==="}"&&(i=this.__patterns.template_expression);for(var s=i.read(),a="";this._input.hasNext();){if(a=this._input.next(),a===t||!e&&Pr.newline.test(a)){this._input.back();break}else a==="\\"&&this._input.hasNext()?(r=this._input.peek(),r==="x"||r==="u"?this.has_char_escapes=!0:r==="\r"&&this._input.peek(1)===`
`&&this._input.next(),a+=this._input.next()):n&&(n==="${"&&a==="$"&&this._input.peek()==="{"&&(a+=this._input.next()),n===a&&(t==="`"?a+=this._read_string_recursive("}",e,"`"):a+=this._read_string_recursive("`",e,"${"),this._input.hasNext()&&(a+=this._input.next())));a+=i.read(),s+=a}return s};Kl.exports.Tokenizer=hn;Kl.exports.TOKEN=Ne;Kl.exports.positionable_operators=QM.slice();Kl.exports.line_starters=VC.slice()});var GC=B((ete,WC)=>{"use strict";var nk=Df().Output,rk=om().Token,Ff=um(),ik=cm().Options,sk=zl().Tokenizer,Xl=zl().line_starters,Ql=zl().positionable_operators,U=zl().TOKEN;function Ye(t,e){return e.indexOf(t)!==-1}function ak(t){return t.replace(/^\s+/g,"")}function ok(t){for(var e={},n=0;n<t.length;n++)e[t[n].replace(/-/g,"_")]=t[n];return e}function Er(t,e){return t&&t.type===U.RESERVED&&t.text===e}function ht(t,e){return t&&t.type===U.RESERVED&&Ye(t.text,e)}var Mf=["case","return","do","if","throw","else","await","break","continue","async"],lk=["before-newline","after-newline","preserve-newline"],Jl=ok(lk),jC=[Jl.before_newline,Jl.preserve_newline],Ce={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function UC(t,e){e.multiline_frame||e.mode===Ce.ForInitializer||e.mode===Ce.Conditional||t.remove_indent(e.start_line_index)}function uk(t){t=t.replace(Ff.allLineBreaks,`
`);for(var e=[],n=t.indexOf(`
`);n!==-1;)e.push(t.substring(0,n)),t=t.substring(n+1),n=t.indexOf(`
`);return t.length&&e.push(t),e}function xs(t){return t===Ce.ArrayLiteral}function Zl(t){return Ye(t,[Ce.Expression,Ce.ForInitializer,Ce.Conditional])}function ck(t,e){for(var n=0;n<t.length;n++){var r=t[n].trim();if(r.charAt(0)!==e)return!1}return!0}function fk(t,e){for(var n=0,r=t.length,i;n<r;n++)if(i=t[n],i&&i.indexOf(e)!==0)return!1;return!0}function Qe(t,e){e=e||{},this._source_text=t||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new ik(e)}Qe.prototype.create_flags=function(t,e){var n=0;t&&(n=t.indentation_level,!this._output.just_added_newline()&&t.line_indent_level>n&&(n=t.line_indent_level));var r={mode:e,parent:t,last_token:t?t.last_token:new rk(U.START_BLOCK,""),last_word:t?t.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,alignment:0,line_indent_level:t?t.line_indent_level:n,start_line_index:this._output.get_line_number(),ternary_depth:0};return r};Qe.prototype._reset=function(t){var e=t.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new nk(this._options,e),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(Ce.BlockStatement);var n=new sk(t,this._options);return this._tokens=n.tokenize(),t};Qe.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t,e=this._reset(this._source_text),n=this._options.eol;this._options.eol==="auto"&&(n=`
`,e&&Ff.lineBreak.test(e||"")&&(n=e.match(Ff.lineBreak)[0]));for(var r=this._tokens.next();r;)this.handle_token(r),this._last_last_text=this._flags.last_token.text,this._flags.last_token=r,r=this._tokens.next();return t=this._output.get_code(n),t};Qe.prototype.handle_token=function(t,e){t.type===U.START_EXPR?this.handle_start_expr(t):t.type===U.END_EXPR?this.handle_end_expr(t):t.type===U.START_BLOCK?this.handle_start_block(t):t.type===U.END_BLOCK?this.handle_end_block(t):t.type===U.WORD?this.handle_word(t):t.type===U.RESERVED?this.handle_word(t):t.type===U.SEMICOLON?this.handle_semicolon(t):t.type===U.STRING?this.handle_string(t):t.type===U.EQUALS?this.handle_equals(t):t.type===U.OPERATOR?this.handle_operator(t):t.type===U.COMMA?this.handle_comma(t):t.type===U.BLOCK_COMMENT?this.handle_block_comment(t,e):t.type===U.COMMENT?this.handle_comment(t,e):t.type===U.DOT?this.handle_dot(t):t.type===U.EOF?this.handle_eof(t):t.type===U.UNKNOWN?this.handle_unknown(t,e):this.handle_unknown(t,e)};Qe.prototype.handle_whitespace_and_comments=function(t,e){var n=t.newlines,r=this._options.keep_array_indentation&&xs(this._flags.mode);if(t.comments_before)for(var i=t.comments_before.next();i;)this.handle_whitespace_and_comments(i,e),this.handle_token(i,e),i=t.comments_before.next();if(r)for(var s=0;s<n;s+=1)this.print_newline(s>0,e);else if(this._options.max_preserve_newlines&&n>this._options.max_preserve_newlines&&(n=this._options.max_preserve_newlines),this._options.preserve_newlines&&n>1){this.print_newline(!1,e);for(var a=1;a<n;a+=1)this.print_newline(!0,e)}};var bm=["async","break","continue","return","throw","yield"];Qe.prototype.allow_wrap_or_preserved_newline=function(t,e){if(e=e===void 0?!1:e,!this._output.just_added_newline()){var n=this._options.preserve_newlines&&t.newlines||e,r=Ye(this._flags.last_token.text,Ql)||Ye(t.text,Ql);if(r){var i=Ye(this._flags.last_token.text,Ql)&&Ye(this._options.operator_position,jC)||Ye(t.text,Ql);n=n&&i}if(n)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(ht(this._flags.last_token,bm))return;this._output.set_wrap_point()}}};Qe.prototype.print_newline=function(t,e){if(!e&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==U.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var n=this._tokens.peek();this._flags.mode===Ce.Statement&&!(this._flags.if_block&&Er(n,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(t)&&(this._flags.multiline_frame=!0)};Qe.prototype.print_token_line_indentation=function(t){this._output.just_added_newline()&&(this._options.keep_array_indentation&&t.newlines&&(t.text==="["||xs(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(t.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))};Qe.prototype.print_token=function(t){if(this._output.raw){this._output.add_raw_token(t);return}if(this._options.comma_first&&t.previous&&t.previous.type===U.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var e=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(e),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(t),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(t),this._output.non_breaking_space=!0,this._output.add_token(t.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)};Qe.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};Qe.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};Qe.prototype.set_mode=function(t){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,t),this._flags=this.create_flags(this._previous_flags,t),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};Qe.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===Ce.Statement&&UC(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};Qe.prototype.start_of_object_property=function(){return this._flags.parent.mode===Ce.ObjectLiteral&&this._flags.mode===Ce.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||ht(this._flags.last_token,["get","set"]))};Qe.prototype.start_of_statement=function(t){var e=!1;return e=e||ht(this._flags.last_token,["var","let","const"])&&t.type===U.WORD,e=e||Er(this._flags.last_token,"do"),e=e||!(this._flags.parent.mode===Ce.ObjectLiteral&&this._flags.mode===Ce.Statement)&&ht(this._flags.last_token,bm)&&!t.newlines,e=e||Er(this._flags.last_token,"else")&&!(Er(t,"if")&&!t.comments_before),e=e||this._flags.last_token.type===U.END_EXPR&&(this._previous_flags.mode===Ce.ForInitializer||this._previous_flags.mode===Ce.Conditional),e=e||this._flags.last_token.type===U.WORD&&this._flags.mode===Ce.BlockStatement&&!this._flags.in_case&&!(t.text==="--"||t.text==="++")&&this._last_last_text!=="function"&&t.type!==U.WORD&&t.type!==U.RESERVED,e=e||this._flags.mode===Ce.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||ht(this._flags.last_token,["get","set"])),e?(this.set_mode(Ce.Statement),this.indent(),this.handle_whitespace_and_comments(t,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t,ht(t,["do","for","if","while"])),!0):!1};Qe.prototype.handle_start_expr=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t);var e=Ce.Expression;if(t.text==="["){if(this._flags.last_token.type===U.WORD||this._flags.last_token.text===")"){ht(this._flags.last_token,Xl)&&(this._output.space_before_token=!0),this.print_token(t),this.set_mode(e),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}e=Ce.ArrayLiteral,xs(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),Ye(this._flags.last_token.type,[U.START_EXPR,U.END_EXPR,U.WORD,U.OPERATOR,U.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===U.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,e=Ce.ForInitializer):Ye(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,e=Ce.Conditional):Ye(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&t.whitespace_before===""?this._output.space_before_token=!1:(Ye(this._flags.last_token.text,Xl)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===U.EQUALS||this._flags.last_token.type===U.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t);else if(this._flags.last_token.type===U.WORD){this._output.space_before_token=!1;var n=this._tokens.peek(-3);if(this._options.space_after_named_function&&n){var r=this._tokens.peek(-4);ht(n,["async","function"])||n.text==="*"&&ht(r,["async","function"])?this._output.space_before_token=!0:this._flags.mode===Ce.ObjectLiteral&&(n.text==="{"||n.text===","||n.text==="*"&&(r.text==="{"||r.text===","))&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(t);(this._flags.last_token.type===U.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(Ye(this._last_last_text,["function","yield"])||this._flags.mode===Ce.ObjectLiteral&&Ye(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===U.START_BLOCK?this.print_newline():(this._flags.last_token.type===U.END_EXPR||this._flags.last_token.type===U.START_EXPR||this._flags.last_token.type===U.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===U.COMMA)&&this.allow_wrap_or_preserved_newline(t,t.newlines),this.print_token(t),this.set_mode(e),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()};Qe.prototype.handle_end_expr=function(t){for(;this._flags.mode===Ce.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(t,t.text==="]"&&xs(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===U.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(t),this.restore_mode(),UC(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===Ce.Conditional&&(this._previous_flags.mode=Ce.Expression,this._flags.do_block=!1,this._flags.do_while=!1)};Qe.prototype.handle_start_block=function(t){this.handle_whitespace_and_comments(t);var e=this._tokens.peek(),n=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===U.END_EXPR?(this.set_mode(Ce.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(Ce.BlockStatement):n&&(Ye(n.text,[":",","])&&Ye(e.type,[U.STRING,U.WORD,U.RESERVED])||Ye(e.text,["get","set","..."])&&Ye(n.type,[U.WORD,U.RESERVED]))?Ye(this._last_last_text,["class","interface"])?this.set_mode(Ce.BlockStatement):this.set_mode(Ce.ObjectLiteral):this._flags.last_token.type===U.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(Ce.BlockStatement):Ye(this._flags.last_token.type,[U.EQUALS,U.START_EXPR,U.COMMA,U.OPERATOR])||ht(this._flags.last_token,["return","throw","import","default"])?this.set_mode(Ce.ObjectLiteral):this.set_mode(Ce.BlockStatement);var r=!e.comments_before&&e.text==="}",i=r&&this._flags.last_word==="function"&&this._flags.last_token.type===U.END_EXPR;if(this._options.brace_preserve_inline){var s=0,a=null;this._flags.inline_frame=!0;do if(s+=1,a=this._tokens.peek(s-1),a.newlines){this._flags.inline_frame=!1;break}while(a.type!==U.EOF&&!(a.type===U.END_BLOCK&&a.opened===t))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==U.OPERATOR&&(i||this._flags.last_token.type===U.EQUALS||ht(this._flags.last_token,Mf)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(xs(this._previous_flags.mode)&&(this._flags.last_token.type===U.START_EXPR||this._flags.last_token.type===U.COMMA)&&((this._flags.last_token.type===U.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===U.COMMA||this._flags.last_token.type===U.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(t),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==U.OPERATOR&&this._flags.last_token.type!==U.START_EXPR&&(this._flags.last_token.type===U.START_BLOCK&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(t),this.indent(),!r&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()};Qe.prototype.handle_end_block=function(t){for(this.handle_whitespace_and_comments(t);this._flags.mode===Ce.Statement;)this.restore_mode();var e=this._flags.last_token.type===U.START_BLOCK;this._flags.inline_frame&&!e?this._output.space_before_token=!0:this._options.brace_style==="expand"?e||this.print_newline():e||(xs(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(t)};Qe.prototype.handle_word=function(t){if(t.type===U.RESERVED){if(Ye(t.text,["set","get"])&&this._flags.mode!==Ce.ObjectLiteral)t.type=U.WORD;else if(t.text==="import"&&this._tokens.peek().text==="(")t.type=U.WORD;else if(Ye(t.text,["as","from"])&&!this._flags.import_block)t.type=U.WORD;else if(this._flags.mode===Ce.ObjectLiteral){var e=this._tokens.peek();e.text===":"&&(t.type=U.WORD)}}if(this.start_of_statement(t)?ht(this._flags.last_token,["var","let","const"])&&t.type===U.WORD&&(this._flags.declaration_statement=!0):t.newlines&&!Zl(this._flags.mode)&&(this._flags.last_token.type!==U.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==U.EQUALS&&(this._options.preserve_newlines||!ht(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(t),this.print_newline()):this.handle_whitespace_and_comments(t),this._flags.do_block&&!this._flags.do_while)if(Er(t,"while")){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&Er(t,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===Ce.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&ht(t,["case","default"])){this.print_newline(),this._flags.last_token.type!==U.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(t),this._flags.in_case=!0;return}if((this._flags.last_token.type===U.COMMA||this._flags.last_token.type===U.START_EXPR||this._flags.last_token.type===U.EQUALS||this._flags.last_token.type===U.OPERATOR)&&(this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t)),Er(t,"function")){(Ye(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(Ye(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===U.OPERATOR))&&!this._output.just_added_blankline()&&!t.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===U.RESERVED||this._flags.last_token.type===U.WORD?ht(this._flags.last_token,["get","set","new","export"])||ht(this._flags.last_token,bm)?this._output.space_before_token=!0:Er(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===U.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(Zl(this._flags.mode)||xs(this._flags.mode))||this.print_newline(),this.print_token(t),this._flags.last_word=t.text;return}var n="NONE";if(this._flags.last_token.type===U.END_BLOCK?this._previous_flags.inline_frame?n="SPACE":ht(t,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines?n="NEWLINE":(n="SPACE",this._output.space_before_token=!0):n="NEWLINE":this._flags.last_token.type===U.SEMICOLON&&this._flags.mode===Ce.BlockStatement?n="NEWLINE":this._flags.last_token.type===U.SEMICOLON&&Zl(this._flags.mode)?n="SPACE":this._flags.last_token.type===U.STRING?n="NEWLINE":this._flags.last_token.type===U.RESERVED||this._flags.last_token.type===U.WORD||this._flags.last_token.text==="*"&&(Ye(this._last_last_text,["function","yield"])||this._flags.mode===Ce.ObjectLiteral&&Ye(this._last_last_text,["{",","]))?n="SPACE":this._flags.last_token.type===U.START_BLOCK?this._flags.inline_frame?n="SPACE":n="NEWLINE":this._flags.last_token.type===U.END_EXPR&&(this._output.space_before_token=!0,n="NEWLINE"),ht(t,Xl)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?n="SPACE":n="NEWLINE"),ht(t,["else","catch","finally"]))if((!(this._flags.last_token.type===U.END_BLOCK&&this._previous_flags.mode===Ce.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var r=this._output.current_line;r.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else n==="NEWLINE"?ht(this._flags.last_token,Mf)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&ht(t,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==U.END_EXPR?(this._flags.last_token.type!==U.START_EXPR||!ht(t,["var","let","const"]))&&this._flags.last_token.text!==":"&&(Er(t,"if")&&Er(t.previous,"else")?this._output.space_before_token=!0:this.print_newline()):ht(t,Xl)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&xs(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():n==="SPACE"&&(this._output.space_before_token=!0);t.previous&&(t.previous.type===U.WORD||t.previous.type===U.RESERVED)&&(this._output.space_before_token=!0),this.print_token(t),this._flags.last_word=t.text,t.type===U.RESERVED&&(t.text==="do"?this._flags.do_block=!0:t.text==="if"?this._flags.if_block=!0:t.text==="import"?this._flags.import_block=!0:this._flags.import_block&&Er(t,"from")&&(this._flags.import_block=!1))};Qe.prototype.handle_semicolon=function(t){this.start_of_statement(t)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(t);for(var e=this._tokens.peek();this._flags.mode===Ce.Statement&&!(this._flags.if_block&&Er(e,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(t)};Qe.prototype.handle_string=function(t){t.text.startsWith("`")&&t.newlines===0&&t.whitespace_before===""&&(t.previous.text===")"||this._flags.last_token.type===U.WORD)||(this.start_of_statement(t)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(t),this._flags.last_token.type===U.RESERVED||this._flags.last_token.type===U.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===U.COMMA||this._flags.last_token.type===U.START_EXPR||this._flags.last_token.type===U.EQUALS||this._flags.last_token.type===U.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t):t.text.startsWith("`")&&this._flags.last_token.type===U.END_EXPR&&(t.previous.text==="]"||t.previous.text===")")&&t.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(t)};Qe.prototype.handle_equals=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0};Qe.prototype.handle_comma=function(t){this.handle_whitespace_and_comments(t,!0),this.print_token(t),this._output.space_before_token=!0,this._flags.declaration_statement?(Zl(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)):this._flags.mode===Ce.ObjectLiteral||this._flags.mode===Ce.Statement&&this._flags.parent.mode===Ce.ObjectLiteral?(this._flags.mode===Ce.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)};Qe.prototype.handle_operator=function(t){var e=t.text==="*"&&(ht(this._flags.last_token,["function","yield"])||Ye(this._flags.last_token.type,[U.START_BLOCK,U.COMMA,U.END_BLOCK,U.SEMICOLON])),n=Ye(t.text,["-","+"])&&(Ye(this._flags.last_token.type,[U.START_BLOCK,U.START_EXPR,U.EQUALS,U.OPERATOR])||Ye(this._flags.last_token.text,Xl)||this._flags.last_token.text===",");if(!this.start_of_statement(t)){var r=!e;this.handle_whitespace_and_comments(t,r)}if(ht(this._flags.last_token,Mf)){this._output.space_before_token=!0,this.print_token(t);return}if(t.text==="*"&&this._flags.last_token.type===U.DOT){this.print_token(t);return}if(t.text==="::"){this.print_token(t);return}if(this._flags.last_token.type===U.OPERATOR&&Ye(this._options.operator_position,jC)&&this.allow_wrap_or_preserved_newline(t),t.text===":"&&this._flags.in_case){this.print_token(t),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==U.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0;return}var i=!0,s=!0,a=!1;if(t.text===":"?this._flags.ternary_depth===0?i=!1:(this._flags.ternary_depth-=1,a=!0):t.text==="?"&&(this._flags.ternary_depth+=1),!n&&!e&&this._options.preserve_newlines&&Ye(t.text,Ql)){var o=t.text===":",l=o&&a,u=o&&!a;switch(this._options.operator_position){case Jl.before_newline:this._output.space_before_token=!u,this.print_token(t),(!o||l)&&this.allow_wrap_or_preserved_newline(t),this._output.space_before_token=!0;return;case Jl.after_newline:this._output.space_before_token=!0,!o||l?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(t):this._output.space_before_token=!1,this.print_token(t),this._output.space_before_token=!0;return;case Jl.preserve_newline:u||this.allow_wrap_or_preserved_newline(t),i=!(this._output.just_added_newline()||u),this._output.space_before_token=i,this.print_token(t),this._output.space_before_token=!0;return}}if(e){this.allow_wrap_or_preserved_newline(t),i=!1;var c=this._tokens.peek();s=c&&Ye(c.type,[U.WORD,U.RESERVED])}else t.text==="..."?(this.allow_wrap_or_preserved_newline(t),i=this._flags.last_token.type===U.START_BLOCK,s=!1):(Ye(t.text,["--","++","!","~"])||n)&&((this._flags.last_token.type===U.COMMA||this._flags.last_token.type===U.START_EXPR)&&this.allow_wrap_or_preserved_newline(t),i=!1,s=!1,t.newlines&&(t.text==="--"||t.text==="++")&&this.print_newline(!1,!0),this._flags.last_token.text===";"&&Zl(this._flags.mode)&&(i=!0),this._flags.last_token.type===U.RESERVED?i=!0:this._flags.last_token.type===U.END_EXPR?i=!(this._flags.last_token.text==="]"&&(t.text==="--"||t.text==="++")):this._flags.last_token.type===U.OPERATOR&&(i=Ye(t.text,["--","-","++","+"])&&Ye(this._flags.last_token.text,["--","-","++","+"]),Ye(t.text,["+","-"])&&Ye(this._flags.last_token.text,["--","++"])&&(s=!0)),(this._flags.mode===Ce.BlockStatement&&!this._flags.inline_frame||this._flags.mode===Ce.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline());this._output.space_before_token=this._output.space_before_token||i,this.print_token(t),this._output.space_before_token=s};Qe.prototype.handle_block_comment=function(t,e){if(this._output.raw){this._output.add_raw_token(t),t.directives&&t.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(t.directives){this.print_newline(!1,e),this.print_token(t),t.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!Ff.newline.test(t.text)&&!t.newlines){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0;return}else this.print_block_commment(t,e)};Qe.prototype.print_block_commment=function(t,e){var n=uk(t.text),r,i=!1,s=!1,a=t.whitespace_before,o=a.length;if(this.print_newline(!1,e),this.print_token_line_indentation(t),this._output.add_token(n[0]),this.print_newline(!1,e),n.length>1){for(n=n.slice(1),i=ck(n,"*"),s=fk(n,a),i&&(this._flags.alignment=1),r=0;r<n.length;r++)i?(this.print_token_line_indentation(t),this._output.add_token(ak(n[r]))):s&&n[r]?(this.print_token_line_indentation(t),this._output.add_token(n[r].substring(o))):(this._output.current_line.set_indent(-1),this._output.add_token(n[r])),this.print_newline(!1,e);this._flags.alignment=0}};Qe.prototype.handle_comment=function(t,e){t.newlines?this.print_newline(!1,e):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(t),this.print_newline(!1,e)};Qe.prototype.handle_dot=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t,!0),ht(this._flags.last_token,Mf)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(t,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(t)};Qe.prototype.handle_unknown=function(t,e){this.print_token(t),t.text[t.text.length-1]===`
`&&this.print_newline(!1,e)};Qe.prototype.handle_eof=function(t){for(;this._flags.mode===Ce.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t)};WC.exports.Beautifier=Qe});var YC=B((tte,Tm)=>{"use strict";var pk=GC().Beautifier,dk=cm().Options;function hk(t,e){var n=new pk(t,e);return n.beautify()}Tm.exports=hk;Tm.exports.defaultOptions=function(){return new dk}});var vm=B((nte,KC)=>{"use strict";var HC=xf().Options;function $C(t){HC.call(this,t,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var e=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||e;var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var r=0;r<n.length;r++)n[r]!=="expand"?this.brace_style="collapse":this.brace_style=n[r]}$C.prototype=new HC;KC.exports.Options=$C});var JC=B((rte,QC)=>{"use strict";var mk=vm().Options,gk=Df().Output,_k=wf().InputScanner,yk=Of().Directives,zC=new yk(/\/\*/,/\*\//),XC=/\r\n|[\r\n]/,bk=/\r\n|[\r\n]/g,kf=/\s/,Tk=/(?:\s|\n)+/g,vk=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,Nk=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function Qi(t,e){this._source_text=t||"",this._options=new mk(e),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}Qi.prototype.eatString=function(t){var e="";for(this._ch=this._input.next();this._ch;){if(e+=this._ch,this._ch==="\\")e+=this._input.next();else if(t.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return e};Qi.prototype.eatWhitespace=function(t){for(var e=kf.test(this._input.peek()),n=0;kf.test(this._input.peek());)this._ch=this._input.next(),t&&this._ch===`
`&&(n===0||n<this._options.max_preserve_newlines)&&(n++,this._output.add_new_line(!0));return e};Qi.prototype.foundNestedPseudoClass=function(){for(var t=0,e=1,n=this._input.peek(e);n;){if(n==="{")return!0;if(n==="(")t+=1;else if(n===")"){if(t===0)return!1;t-=1}else if(n===";"||n==="}")return!1;e++,n=this._input.peek(e)}return!1};Qi.prototype.print_string=function(t){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(t)};Qi.prototype.preserveSingleSpace=function(t){t&&(this._output.space_before_token=!0)};Qi.prototype.indent=function(){this._indentLevel++};Qi.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--};Qi.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;e==="auto"&&(e=`
`,t&&XC.test(t||"")&&(e=t.match(XC)[0])),t=t.replace(bk,`
`);var n=t.match(/^[\t ]*/)[0];this._output=new gk(this._options,n),this._input=new _k(t),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var r=0,i=!1,s=!1,a=!1,o=!1,l=!1,u=this._ch,c,f,m;c=this._input.read(Tk),f=c!=="",m=u,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),u=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var g=this._input.read(vk),p=zC.get_directives(g);p&&p.ignore==="start"&&(g+=zC.readIgnored(this._input)),this.print_string(g),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(Nk)),this.eatWhitespace(!0);else if(this._ch==="@")if(this.preserveSingleSpace(f),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var d=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);d.match(/[ :]$/)&&(d=this.eatString(": ").replace(/\s$/,""),this.print_string(d),this._output.space_before_token=!0),d=d.replace(/\s$/,""),d==="extend"?o=!0:d==="import"&&(l=!0),d in this.NESTED_AT_RULE?(this._nestedLevel+=1,d in this.CONDITIONAL_GROUP_RULE&&(a=!0)):!i&&r===0&&d.indexOf(":")!==-1&&(s=!0,this.indent())}else this._ch==="#"&&this._input.peek()==="{"?(this.preserveSingleSpace(f),this.print_string(this._ch+this.eatString("}"))):this._ch==="{"?(s&&(s=!1,this.outdent()),a?(a=!1,i=this._indentLevel>=this._nestedLevel):i=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&i&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line()):this._ch==="}"?(this.outdent(),this._output.add_new_line(),m==="{"&&this._output.trim(!0),l=!1,o=!1,s&&(this.outdent(),s=!1),this.print_string(this._ch),i=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0)):this._ch===":"?(i||a)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!o&&r===0?(this.print_string(":"),s||(s=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):this._ch==='"'||this._ch==="'"?(this.preserveSingleSpace(f),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):this._ch===";"?r===0?(s&&(this.outdent(),s=!1),o=!1,l=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):this._ch==="("?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),r++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),r&&(r--,this.outdent()))):(this.preserveSingleSpace(f),this.print_string(this._ch),this.eatWhitespace(),r++,this.indent()):this._ch===")"?(r&&(r--,this.outdent()),this.print_string(this._ch)):this._ch===","?(this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&!s&&r===0&&!l?this._output.add_new_line():this._output.space_before_token=!0):(this._ch===">"||this._ch==="+"||this._ch==="~")&&!s&&r===0?this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&kf.test(this._ch)&&(this._ch="")):this._ch==="]"?this.print_string(this._ch):this._ch==="["?(this.preserveSingleSpace(f),this.print_string(this._ch)):this._ch==="="?(this.eatWhitespace(),this.print_string("="),kf.test(this._ch)&&(this._ch="")):this._ch==="!"&&!this._input.lookBack("\\")?(this.print_string(" "),this.print_string(this._ch)):(this.preserveSingleSpace(f),this.print_string(this._ch));var h=this._output.get_code(e);return h};QC.exports.Beautifier=Qi});var ZC=B((ite,Nm)=>{"use strict";var Ck=JC().Beautifier,Pk=vm().Options;function Ek(t,e){var n=new Ck(t,e);return n.beautify()}Nm.exports=Ek;Nm.exports.defaultOptions=function(){return new Pk}});var Cm=B((ste,nP)=>{"use strict";var eP=xf().Options;function tP(t){eP.call(this,t,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}tP.prototype=new eP;nP.exports.Options=tP});var Am=B((ate,Em)=>{"use strict";var rP=$l().Tokenizer,Pm=$l().TOKEN,Ak=Of().Directives,Sk=gm().TemplatablePattern,Ik=Yl().Pattern,Lt={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:Pm.START,RAW:Pm.RAW,EOF:Pm.EOF},iP=new Ak(/<\!--/,/-->/),Tn=function(t,e){rP.call(this,t,e),this._current_tag_name="";var n=new Sk(this._input).read_options(this._options),r=new Ik(this._input);if(this.__patterns={word:n.until(/[\n\r\t <]/),single_quote:n.until_after(/'/),double_quote:n.until_after(/"/),attribute:n.until(/[\n\r\t =>]|\/>/),element_name:n.until(/[\n\r\t >\/]/),handlebars_comment:r.starting_with(/{{!--/).until_after(/--}}/),handlebars:r.starting_with(/{{/).until_after(/}}/),handlebars_open:r.until(/[\n\r\t }]/),handlebars_raw_close:r.until(/}}/),comment:r.starting_with(/<!--/).until_after(/-->/),cdata:r.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:r.starting_with(/<!\[/).until_after(/]>/),processing:r.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var i=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=r.matching(i).until_after(i)}};Tn.prototype=new rP;Tn.prototype._is_comment=function(t){return!1};Tn.prototype._is_opening=function(t){return t.type===Lt.TAG_OPEN};Tn.prototype._is_closing=function(t,e){return t.type===Lt.TAG_CLOSE&&e&&((t.text===">"||t.text==="/>")&&e.text[0]==="<"||t.text==="}}"&&e.text[0]==="{"&&e.text[1]==="{")};Tn.prototype._reset=function(){this._current_tag_name=""};Tn.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(Lt.EOF,""):(n=n||this._read_open_handlebars(r,e),n=n||this._read_attribute(r,t,e),n=n||this._read_close(r,e),n=n||this._read_raw_content(r,t,e),n=n||this._read_content_word(r),n=n||this._read_comment_or_cdata(r),n=n||this._read_processing(r),n=n||this._read_open(r,e),n=n||this._create_token(Lt.UNKNOWN,this._input.next()),n)};Tn.prototype._read_comment_or_cdata=function(t){var e=null,n=null,r=null;if(t==="<"){var i=this._input.peek(1);i==="!"&&(n=this.__patterns.comment.read(),n?(r=iP.get_directives(n),r&&r.ignore==="start"&&(n+=iP.readIgnored(this._input))):n=this.__patterns.cdata.read()),n&&(e=this._create_token(Lt.COMMENT,n),e.directives=r)}return e};Tn.prototype._read_processing=function(t){var e=null,n=null,r=null;if(t==="<"){var i=this._input.peek(1);(i==="!"||i==="?")&&(n=this.__patterns.conditional_comment.read(),n=n||this.__patterns.processing.read()),n&&(e=this._create_token(Lt.COMMENT,n),e.directives=r)}return e};Tn.prototype._read_open=function(t,e){var n=null,r=null;return e||t==="<"&&(n=this._input.next(),this._input.peek()==="/"&&(n+=this._input.next()),n+=this.__patterns.element_name.read(),r=this._create_token(Lt.TAG_OPEN,n)),r};Tn.prototype._read_open_handlebars=function(t,e){var n=null,r=null;return e||this._options.indent_handlebars&&t==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(n=this.__patterns.handlebars_comment.read(),n=n||this.__patterns.handlebars.read(),r=this._create_token(Lt.COMMENT,n)):(n=this.__patterns.handlebars_open.read(),r=this._create_token(Lt.TAG_OPEN,n))),r};Tn.prototype._read_close=function(t,e){var n=null,r=null;return e&&(e.text[0]==="<"&&(t===">"||t==="/"&&this._input.peek(1)===">")?(n=this._input.next(),t==="/"&&(n+=this._input.next()),r=this._create_token(Lt.TAG_CLOSE,n)):e.text[0]==="{"&&t==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),r=this._create_token(Lt.TAG_CLOSE,"}}"))),r};Tn.prototype._read_attribute=function(t,e,n){var r=null,i="";if(n&&n.text[0]==="<")if(t==="=")r=this._create_token(Lt.EQUALS,this._input.next());else if(t==='"'||t==="'"){var s=this._input.next();t==='"'?s+=this.__patterns.double_quote.read():s+=this.__patterns.single_quote.read(),r=this._create_token(Lt.VALUE,s)}else i=this.__patterns.attribute.read(),i&&(e.type===Lt.EQUALS?r=this._create_token(Lt.VALUE,i):r=this._create_token(Lt.ATTRIBUTE,i));return r};Tn.prototype._is_content_unformatted=function(t){return this._options.void_elements.indexOf(t)===-1&&(this._options.content_unformatted.indexOf(t)!==-1||this._options.unformatted.indexOf(t)!==-1)};Tn.prototype._read_raw_content=function(t,e,n){var r="";if(n&&n.text[0]==="{")r=this.__patterns.handlebars_raw_close.read();else if(e.type===Lt.TAG_CLOSE&&e.opened.text[0]==="<"&&e.text[0]!=="/"){var i=e.opened.text.substr(1).toLowerCase();if(i==="script"||i==="style"){var s=this._read_comment_or_cdata(t);if(s)return s.type=Lt.TEXT,s;r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(i)&&(r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig")))}return r?this._create_token(Lt.TEXT,r):null};Tn.prototype._read_content_word=function(t){var e="";if(this._options.unformatted_content_delimiter&&t===this._options.unformatted_content_delimiter[0]&&(e=this.__patterns.unformatted_content_delimiter.read()),e||(e=this.__patterns.word.read()),e)return this._create_token(Lt.TEXT,e)};Em.exports.Tokenizer=Tn;Em.exports.TOKEN=Lt});var lP=B((ote,oP)=>{"use strict";var Dk=Cm().Options,Rk=Df().Output,xk=Am().Tokenizer,ot=Am().TOKEN,sP=/\r\n|[\r\n]/,wk=/\r\n|[\r\n]/g,Ar=function(t,e){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=t.max_preserve_newlines,this.preserve_newlines=t.preserve_newlines,this._output=new Rk(t,e)};Ar.prototype.current_line_has_match=function(t){return this._output.current_line.has_match(t)};Ar.prototype.set_space_before_token=function(t,e){this._output.space_before_token=t,this._output.non_breaking_space=e};Ar.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()};Ar.prototype.add_raw_token=function(t){this._output.add_raw_token(t)};Ar.prototype.print_preserved_newlines=function(t){var e=0;t.type!==ot.TEXT&&t.previous.type!==ot.TEXT&&(e=t.newlines?1:0),this.preserve_newlines&&(e=t.newlines<this.max_preserve_newlines+1?t.newlines:this.max_preserve_newlines+1);for(var n=0;n<e;n++)this.print_newline(n>0);return e!==0};Ar.prototype.traverse_whitespace=function(t){return t.whitespace_before||t.newlines?(this.print_preserved_newlines(t)||(this._output.space_before_token=!0),!0):!1};Ar.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped};Ar.prototype.print_newline=function(t){this._output.add_new_line(t)};Ar.prototype.print_token=function(t){t.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(t.text))};Ar.prototype.indent=function(){this.indent_level++};Ar.prototype.get_full_indent=function(t){return t=this.indent_level+(t||0),t<1?"":this._output.get_indent_string(t)};var Ok=function(t){for(var e=null,n=t.next;n.type!==ot.EOF&&t.closed!==n;){if(n.type===ot.ATTRIBUTE&&n.text==="type"){n.next&&n.next.type===ot.EQUALS&&n.next.next&&n.next.next.type===ot.VALUE&&(e=n.next.next.text);break}n=n.next}return e},Lk=function(t,e){var n=null,r=null;return e.closed?(t==="script"?n="text/javascript":t==="style"&&(n="text/css"),n=Ok(e)||n,n.search("text/css")>-1?r="css":n.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?r="javascript":n.search(/(text|application|dojo)\/(x-)?(html)/)>-1?r="html":n.search(/test\/null/)>-1&&(r="null"),r):null};function eu(t,e){return e.indexOf(t)!==-1}function Fk(t,e,n){this.parent=t||null,this.tag=e?e.tag_name:"",this.indent_level=n||0,this.parser_token=e||null}function da(t){this._printer=t,this._current_frame=null}da.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null};da.prototype.record_tag=function(t){var e=new Fk(this._current_frame,t,this._printer.indent_level);this._current_frame=e};da.prototype._try_pop_frame=function(t){var e=null;return t&&(e=t.parser_token,this._printer.indent_level=t.indent_level,this._current_frame=t.parent),e};da.prototype._get_frame=function(t,e){for(var n=this._current_frame;n&&t.indexOf(n.tag)===-1;){if(e&&e.indexOf(n.tag)!==-1){n=null;break}n=n.parent}return n};da.prototype.try_pop=function(t,e){var n=this._get_frame([t],e);return this._try_pop_frame(n)};da.prototype.indent_to_tag=function(t){var e=this._get_frame(t);e&&(this._printer.indent_level=e.indent_level)};function Sr(t,e,n,r){this._source_text=t||"",e=e||{},this._js_beautify=n,this._css_beautify=r,this._tag_stack=null;var i=new Dk(e,"html");this._options=i,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,"force".length)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,"preserve".length)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}Sr.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;this._options.eol==="auto"&&(e=`
`,t&&sP.test(t)&&(e=t.match(sP)[0])),t=t.replace(wk,`
`);var n=t.match(/^[\t ]*/)[0],r={text:"",type:""},i=new aP,s=new Ar(this._options,n),a=new xk(t,this._options).tokenize();this._tag_stack=new da(s);for(var o=null,l=a.next();l.type!==ot.EOF;)l.type===ot.TAG_OPEN||l.type===ot.COMMENT?(o=this._handle_tag_open(s,l,i,r),i=o):l.type===ot.ATTRIBUTE||l.type===ot.EQUALS||l.type===ot.VALUE||l.type===ot.TEXT&&!i.tag_complete?o=this._handle_inside_tag(s,l,i,a):l.type===ot.TAG_CLOSE?o=this._handle_tag_close(s,l,i):l.type===ot.TEXT?o=this._handle_text(s,l,i):s.add_raw_token(l),r=o,l=a.next();var u=s._output.get_code(e);return u};Sr.prototype._handle_tag_close=function(t,e,n){var r={text:e.text,type:e.type};return t.alignment_size=0,n.tag_complete=!0,t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),n.is_unformatted?t.add_raw_token(e):(n.tag_start_char==="<"&&(t.set_space_before_token(e.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&n.has_wrapped_attrs&&t.print_newline(!1)),t.print_token(e)),n.indent_content&&!(n.is_unformatted||n.is_content_unformatted)&&(t.indent(),n.indent_content=!1),!n.is_inline_element&&!(n.is_unformatted||n.is_content_unformatted)&&t.set_wrap_point(),r};Sr.prototype._handle_inside_tag=function(t,e,n,r){var i=n.has_wrapped_attrs,s={text:e.text,type:e.type};if(t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),n.is_unformatted)t.add_raw_token(e);else if(n.tag_start_char==="{"&&e.type===ot.TEXT)t.print_preserved_newlines(e)?(e.newlines=0,t.add_raw_token(e)):t.print_token(e);else{if(e.type===ot.ATTRIBUTE?(t.set_space_before_token(!0),n.attr_count+=1):(e.type===ot.EQUALS||e.type===ot.VALUE&&e.previous.type===ot.EQUALS)&&t.set_space_before_token(!1),e.type===ot.ATTRIBUTE&&n.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(t.traverse_whitespace(e),i=i||e.newlines!==0),this._is_wrap_attributes_force)){var a=n.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&n.attr_count===1){var o=!0,l=0,u;do{if(u=r.peek(l),u.type===ot.ATTRIBUTE){o=!1;break}l+=1}while(l<4&&u.type!==ot.EOF&&u.type!==ot.TAG_CLOSE);a=!o}a&&(t.print_newline(!1),i=!0)}t.print_token(e),i=i||t.previous_token_wrapped(),n.has_wrapped_attrs=i}return s};Sr.prototype._handle_text=function(t,e,n){var r={text:e.text,type:"TK_CONTENT"};return n.custom_beautifier_name?this._print_custom_beatifier_text(t,e,n):n.is_unformatted||n.is_content_unformatted?t.add_raw_token(e):(t.traverse_whitespace(e),t.print_token(e)),r};Sr.prototype._print_custom_beatifier_text=function(t,e,n){var r=this;if(e.text!==""){var i=e.text,s,a=1,o="",l="";n.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?s=this._js_beautify:n.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?s=this._css_beautify:n.custom_beautifier_name==="html"&&(s=function(p,d){var h=new Sr(p,d,r._js_beautify,r._css_beautify);return h.beautify()}),this._options.indent_scripts==="keep"?a=0:this._options.indent_scripts==="separate"&&(a=-t.indent_level);var u=t.get_full_indent(a);if(i=i.replace(/\n[ \t]*$/,""),n.custom_beautifier_name!=="html"&&i[0]==="<"&&i.match(/^(<!--|<!\[CDATA\[)/)){var c=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(i);if(!c){t.add_raw_token(e);return}o=u+c[1]+`
`,i=c[4],c[5]&&(l=u+c[5]),i=i.replace(/\n[ \t]*$/,""),(c[2]||c[3].indexOf(`
`)!==-1)&&(c=c[3].match(/[ \t]+$/),c&&(e.whitespace_before=c[0]))}if(i)if(s){var f=function(){this.eol=`
`};f.prototype=this._options.raw_options;var m=new f;i=s(u+i,m)}else{var g=e.whitespace_before;g&&(i=i.replace(new RegExp(`
(`+g+")?","g"),`
`)),i=u+i.replace(/\n/g,`
`+u)}o&&(i?i=o+i+`
`+l:i=o+l),t.print_newline(!1),i&&(e.text=i,e.whitespace_before="",e.newlines=0,t.add_raw_token(e),t.print_newline(!0))}};Sr.prototype._handle_tag_open=function(t,e,n,r){var i=this._get_tag_open_token(e);return(n.is_unformatted||n.is_content_unformatted)&&!n.is_empty_element&&e.type===ot.TAG_OPEN&&e.text.indexOf("</")===0?(t.add_raw_token(e),i.start_tag_token=this._tag_stack.try_pop(i.tag_name)):(t.traverse_whitespace(e),this._set_tag_position(t,e,i,n,r),i.is_inline_element||t.set_wrap_point(),t.print_token(e)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(i.alignment_size=e.text.length+1),!i.tag_complete&&!i.is_unformatted&&(t.alignment_size=i.alignment_size),i};var aP=function(t,e){if(this.parent=t||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!e)this.tag_complete=!0;else{var n;this.tag_start_char=e.text[0],this.text=e.text,this.tag_start_char==="<"?(n=e.text.match(/^<([^\s>]*)/),this.tag_check=n?n[1]:""):(n=e.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=n?n[1]:"",e.text==="{{#>"&&this.tag_check===">"&&e.next!==null&&(this.tag_check=e.next.text)),this.tag_check=this.tag_check.toLowerCase(),e.type===ot.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||e.closed&&e.closed.text==="/>",this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))}};Sr.prototype._get_tag_open_token=function(t){var e=new aP(this._tag_stack.get_parser_token(),t);return e.alignment_size=this._options.wrap_attributes_indent_size,e.is_end_tag=e.is_end_tag||eu(e.tag_check,this._options.void_elements),e.is_empty_element=e.tag_complete||e.is_start_tag&&e.is_end_tag,e.is_unformatted=!e.tag_complete&&eu(e.tag_check,this._options.unformatted),e.is_content_unformatted=!e.is_empty_element&&eu(e.tag_check,this._options.content_unformatted),e.is_inline_element=eu(e.tag_name,this._options.inline)||e.tag_start_char==="{",e};Sr.prototype._set_tag_position=function(t,e,n,r,i){if(n.is_empty_element||(n.is_end_tag?n.start_tag_token=this._tag_stack.try_pop(n.tag_name):(this._do_optional_end_element(n)&&(n.is_inline_element||t.print_newline(!1)),this._tag_stack.record_tag(n),(n.tag_name==="script"||n.tag_name==="style")&&!(n.is_unformatted||n.is_content_unformatted)&&(n.custom_beautifier_name=Lk(n.tag_check,e)))),eu(n.tag_check,this._options.extra_liners)&&(t.print_newline(!1),t._output.just_added_blankline()||t.print_newline(!0)),n.is_empty_element){if(n.tag_start_char==="{"&&n.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),n.indent_content=!0;var s=t.current_line_has_match(/{{#if/);s||t.print_newline(!1)}n.tag_name==="!--"&&i.type===ot.TAG_CLOSE&&r.is_end_tag&&n.text.indexOf(`
`)===-1||(n.is_inline_element||n.is_unformatted||t.print_newline(!1),this._calcluate_parent_multiline(t,n))}else if(n.is_end_tag){var a=!1;a=n.start_tag_token&&n.start_tag_token.multiline_content,a=a||!n.is_inline_element&&!(r.is_inline_element||r.is_unformatted)&&!(i.type===ot.TAG_CLOSE&&n.start_tag_token===r)&&i.type!=="TK_CONTENT",(n.is_content_unformatted||n.is_unformatted)&&(a=!1),a&&t.print_newline(!1)}else n.indent_content=!n.custom_beautifier_name,n.tag_start_char==="<"&&(n.tag_name==="html"?n.indent_content=this._options.indent_inner_html:n.tag_name==="head"?n.indent_content=this._options.indent_head_inner_html:n.tag_name==="body"&&(n.indent_content=this._options.indent_body_inner_html)),!(n.is_inline_element||n.is_unformatted)&&(i.type!=="TK_CONTENT"||n.is_content_unformatted)&&t.print_newline(!1),this._calcluate_parent_multiline(t,n)};Sr.prototype._calcluate_parent_multiline=function(t,e){e.parent&&t._output.just_added_newline()&&!((e.is_inline_element||e.is_unformatted)&&e.parent.is_inline_element)&&(e.parent.multiline_content=!0)};var Mk=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],kk=["a","audio","del","ins","map","noscript","video"];Sr.prototype._do_optional_end_element=function(t){var e=null;if(!(t.is_empty_element||!t.is_start_tag||!t.parent)){if(t.tag_name==="body")e=e||this._tag_stack.try_pop("head");else if(t.tag_name==="li")e=e||this._tag_stack.try_pop("li",["ol","ul"]);else if(t.tag_name==="dd"||t.tag_name==="dt")e=e||this._tag_stack.try_pop("dt",["dl"]),e=e||this._tag_stack.try_pop("dd",["dl"]);else if(t.parent.tag_name==="p"&&Mk.indexOf(t.tag_name)!==-1){var n=t.parent.parent;(!n||kk.indexOf(n.tag_name)===-1)&&(e=e||this._tag_stack.try_pop("p"))}else t.tag_name==="rp"||t.tag_name==="rt"?(e=e||this._tag_stack.try_pop("rt",["ruby","rtc"]),e=e||this._tag_stack.try_pop("rp",["ruby","rtc"])):t.tag_name==="optgroup"?e=e||this._tag_stack.try_pop("optgroup",["select"]):t.tag_name==="option"?e=e||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):t.tag_name==="colgroup"?e=e||this._tag_stack.try_pop("caption",["table"]):t.tag_name==="thead"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"])):t.tag_name==="tbody"||t.tag_name==="tfoot"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("thead",["table"]),e=e||this._tag_stack.try_pop("tbody",["table"])):t.tag_name==="tr"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(t.tag_name==="th"||t.tag_name==="td")&&(e=e||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),e=e||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return t.parent=this._tag_stack.get_parser_token(),e}};oP.exports.Beautifier=Sr});var uP=B((lte,Sm)=>{"use strict";var qk=lP().Beautifier,Bk=Cm().Options;function Vk(t,e,n,r){var i=new qk(t,e,n,r);return i.beautify()}Sm.exports=Vk;Sm.exports.defaultOptions=function(){return new Bk}});var hP=B((ute,qf)=>{"use strict";var cP=YC(),fP=ZC(),pP=uP();function dP(t,e,n,r){return n=n||cP,r=r||fP,pP(t,e,n,r)}dP.defaultOptions=pP.defaultOptions;qf.exports.js=cP;qf.exports.css=fP;qf.exports.html=dP});var _P=B((cte,gP)=>{"use strict";function mP(t,e,n){var r=function(i,s){return t.js_beautify(i,s)};return r.js=t.js_beautify,r.css=e.css_beautify,r.html=n.html_beautify,r.js_beautify=t.js_beautify,r.css_beautify=e.css_beautify,r.html_beautify=n.html_beautify,r}typeof define=="function"&&define.amd?define(["./lib/beautify","./lib/beautify-css","./lib/beautify-html"],function(t,e,n){return mP(t,e,n)}):function(t){var e=hP();e.js_beautify=e.js,e.css_beautify=e.css,e.html_beautify=e.html,t.exports=mP(e,e,e)}(gP)});var vP=B((Pte,TP)=>{"use strict";var Im=require("fs"),Uk=require("util"),Wk=require("path"),oi,bP=class{constructor(e){e=e||{},this.directory=e.directory||"./locales",this.updateFiles=typeof e.updateFiles=="boolean"?e.updateFiles:!0,this.locale=e.locale||"en",this.fallbackToLanguage=typeof e.fallbackToLanguage=="boolean"?e.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...e){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let n=e.shift(),r=function(){};return typeof e[e.length-1]=="function"&&(r=e.pop()),r=r||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][n]&&this.updateFiles?(this.cache[this.locale][n]=n,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:r})):r(),oi.format.apply(oi.format,[this.cache[this.locale][n]||n].concat(e))}__n(){let e=Array.prototype.slice.call(arguments),n=e.shift(),r=e.shift(),i=e.shift(),s=function(){};typeof e[e.length-1]=="function"&&(s=e.pop()),this.cache[this.locale]||this._readLocaleFile();let a=i===1?n:r;this.cache[this.locale][n]&&(a=this.cache[this.locale][n][i===1?"one":"other"]),!this.cache[this.locale][n]&&this.updateFiles?(this.cache[this.locale][n]={one:n,other:r},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:s})):s();let o=[a];return~a.indexOf("%d")&&o.push(i),oi.format.apply(oi.format,o.concat(e))}setLocale(e){this.locale=e}getLocale(){return this.locale}updateLocale(e){this.cache[this.locale]||this._readLocaleFile();for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.cache[this.locale][n]=e[n])}_taggedLiteral(e,...n){let r="";return e.forEach(function(i,s){let a=n[s+1];r+=i,typeof a!="undefined"&&(r+="%s")}),this.__.apply(this,[r].concat([].slice.call(n,1)))}_enqueueWrite(e){this.writeQueue.push(e),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){let e=this,n=this.writeQueue[0],r=n.directory,i=n.locale,s=n.cb,a=this._resolveLocaleFile(r,i),o=JSON.stringify(this.cache[i],null,2);oi.fs.writeFile(a,o,"utf-8",function(l){e.writeQueue.shift(),e.writeQueue.length>0&&e._processWriteQueue(),s(l)})}_readLocaleFile(){let e={},n=this._resolveLocaleFile(this.directory,this.locale);try{oi.fs.readFileSync&&(e=JSON.parse(oi.fs.readFileSync(n,"utf-8")))}catch(r){if(r instanceof SyntaxError&&(r.message="syntax error in "+n),r.code==="ENOENT")e={};else throw r}this.cache[this.locale]=e}_resolveLocaleFile(e,n){let r=oi.resolve(e,"./",n+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(r)&&~n.lastIndexOf("_")){let i=oi.resolve(e,"./",n.split("_")[0]+".json");this._fileExistsSync(i)&&(r=i)}return r}_fileExistsSync(e){return oi.exists(e)}};function Gk(t,e){oi=e;let n=new bP(t);return{__:n.__.bind(n),__n:n.__n.bind(n),setLocale:n.setLocale.bind(n),getLocale:n.getLocale.bind(n),updateLocale:n.updateLocale.bind(n),locale:n.locale}}var Yk={fs:{readFileSync:Im.readFileSync,writeFile:Im.writeFile},format:Uk.format,resolve:Wk.resolve,exists:t=>{try{return Im.statSync(t).isFile()}catch{return!1}}},Hk=t=>Gk(t,Yk);TP.exports=Hk});var Rm=B((Ete,DP)=>{"use strict";var $k=require("util"),NP=require("path"),Kk=require("fs");function tu(t){if(t!==t.toLowerCase()&&t!==t.toUpperCase()||(t=t.toLowerCase()),t.indexOf("-")===-1&&t.indexOf("_")===-1)return t;{let n="",r=!1,i=t.match(/^-+/);for(let s=i?i[0].length:0;s<t.length;s++){let a=t.charAt(s);r&&(r=!1,a=a.toUpperCase()),s!==0&&(a==="-"||a==="_")?r=!0:a!=="-"&&a!=="_"&&(n+=a)}return n}}function CP(t,e){let n=t.toLowerCase();e=e||"-";let r="";for(let i=0;i<t.length;i++){let s=n.charAt(i),a=t.charAt(i);s!==a&&i>0?r+=`${e}${n.charAt(i)}`:r+=a}return r}function PP(t){return t==null?!1:typeof t=="number"||/^0x[0-9a-f]+$/i.test(t)?!0:/^0[^.]/.test(t)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}function zk(t){if(Array.isArray(t))return t.map(a=>typeof a!="string"?a+"":a);t=t.trim();let e=0,n=null,r=null,i=null,s=[];for(let a=0;a<t.length;a++){if(n=r,r=t.charAt(a),r===" "&&!i){n!==" "&&e++;continue}r===i?i=null:(r==="'"||r==='"')&&!i&&(i=r),s[e]||(s[e]=""),s[e]+=r}return s}var li;(function(t){t.BOOLEAN="boolean",t.STRING="string",t.NUMBER="number",t.ARRAY="array"})(li||(li={}));var Ji,EP=class{constructor(e){Ji=e}parse(e,n){let r=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},n),i=zk(e),s=typeof e=="string",a=Xk(Object.assign(Object.create(null),r.alias)),o=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},r.configuration),l=Object.assign(Object.create(null),r.default),u=r.configObjects||[],c=r.envPrefix,f=o["populate--"],m=f?"--":"_",g=Object.create(null),p=Object.create(null),d=r.__||Ji.format,h={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},y=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,b=new RegExp("^--"+o["negation-prefix"]+"(.+)");[].concat(r.array||[]).filter(Boolean).forEach(function(R){let M=typeof R=="object"?R.key:R,J=Object.keys(R).map(function(G){return{boolean:"bools",string:"strings",number:"numbers"}[G]}).filter(Boolean).pop();J&&(h[J][M]=!0),h.arrays[M]=!0,h.keys.push(M)}),[].concat(r.boolean||[]).filter(Boolean).forEach(function(R){h.bools[R]=!0,h.keys.push(R)}),[].concat(r.string||[]).filter(Boolean).forEach(function(R){h.strings[R]=!0,h.keys.push(R)}),[].concat(r.number||[]).filter(Boolean).forEach(function(R){h.numbers[R]=!0,h.keys.push(R)}),[].concat(r.count||[]).filter(Boolean).forEach(function(R){h.counts[R]=!0,h.keys.push(R)}),[].concat(r.normalize||[]).filter(Boolean).forEach(function(R){h.normalize[R]=!0,h.keys.push(R)}),typeof r.narg=="object"&&Object.entries(r.narg).forEach(([R,M])=>{typeof M=="number"&&(h.nargs[R]=M,h.keys.push(R))}),typeof r.coerce=="object"&&Object.entries(r.coerce).forEach(([R,M])=>{typeof M=="function"&&(h.coercions[R]=M,h.keys.push(R))}),typeof r.config!="undefined"&&(Array.isArray(r.config)||typeof r.config=="string"?[].concat(r.config).filter(Boolean).forEach(function(R){h.configs[R]=!0}):typeof r.config=="object"&&Object.entries(r.config).forEach(([R,M])=>{(typeof M=="boolean"||typeof M=="function")&&(h.configs[R]=M)})),Ge(r.key,a,r.default,h.arrays),Object.keys(l).forEach(function(R){(h.aliases[R]||[]).forEach(function(M){l[M]=l[R]})});let N=null;Wo();let _=[],w=Object.assign(Object.create(null),{_:[]}),te={};for(let R=0;R<i.length;R++){let M=i[R],J=M.replace(/^-{3,}/,"---"),G,F,le,ie,de,bt;if(M!=="--"&&vn(M))H(M);else if(J.match(/---+(=|$)/)){H(M);continue}else if(M.match(/^--.+=/)||!o["short-option-groups"]&&M.match(/^-.+=/))ie=M.match(/^--?([^=]+)=([\s\S]*)$/),ie!==null&&Array.isArray(ie)&&ie.length>=3&&(K(ie[1],h.arrays)?R=X(R,ie[1],i,ie[2]):K(ie[1],h.nargs)!==!1?R=j(R,ie[1],i,ie[2]):Z(ie[1],ie[2],!0));else if(M.match(b)&&o["boolean-negation"])ie=M.match(b),ie!==null&&Array.isArray(ie)&&ie.length>=2&&(F=ie[1],Z(F,K(F,h.arrays)?[!1]:!1));else if(M.match(/^--.+/)||!o["short-option-groups"]&&M.match(/^-[^-]+/))ie=M.match(/^--?(.+)/),ie!==null&&Array.isArray(ie)&&ie.length>=2&&(F=ie[1],K(F,h.arrays)?R=X(R,F,i):K(F,h.nargs)!==!1?R=j(R,F,i):(de=i[R+1],de!==void 0&&(!de.match(/^-/)||de.match(y))&&!K(F,h.bools)&&!K(F,h.counts)||/^(true|false)$/.test(de)?(Z(F,de),R++):Z(F,ci(F))));else if(M.match(/^-.\..+=/))ie=M.match(/^-([^=]+)=([\s\S]*)$/),ie!==null&&Array.isArray(ie)&&ie.length>=3&&Z(ie[1],ie[2]);else if(M.match(/^-.\..+/)&&!M.match(y))de=i[R+1],ie=M.match(/^-(.\..+)/),ie!==null&&Array.isArray(ie)&&ie.length>=2&&(F=ie[1],de!==void 0&&!de.match(/^-/)&&!K(F,h.bools)&&!K(F,h.counts)?(Z(F,de),R++):Z(F,ci(F)));else if(M.match(/^-[^-]+/)&&!M.match(y)){le=M.slice(1,-1).split(""),G=!1;for(let Mt=0;Mt<le.length;Mt++){if(de=M.slice(Mt+2),le[Mt+1]&&le[Mt+1]==="="){bt=M.slice(Mt+3),F=le[Mt],K(F,h.arrays)?R=X(R,F,i,bt):K(F,h.nargs)!==!1?R=j(R,F,i,bt):Z(F,bt),G=!0;break}if(de==="-"){Z(le[Mt],de);continue}if(/[A-Za-z]/.test(le[Mt])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(de)&&K(de,h.bools)===!1){Z(le[Mt],de),G=!0;break}if(le[Mt+1]&&le[Mt+1].match(/\W/)){Z(le[Mt],de),G=!0;break}else Z(le[Mt],ci(le[Mt]))}F=M.slice(-1)[0],!G&&F!=="-"&&(K(F,h.arrays)?R=X(R,F,i):K(F,h.nargs)!==!1?R=j(R,F,i):(de=i[R+1],de!==void 0&&(!/^(-|--)[^-]/.test(de)||de.match(y))&&!K(F,h.bools)&&!K(F,h.counts)||/^(true|false)$/.test(de)?(Z(F,de),R++):Z(F,ci(F))))}else if(M.match(/^-[0-9]$/)&&M.match(y)&&K(M.slice(1),h.bools))F=M.slice(1),Z(F,ci(F));else if(M==="--"){_=i.slice(R+1);break}else if(o["halt-at-non-option"]){_=i.slice(R);break}else H(M)}ct(w,!0),ct(w,!1),qe(w),Pe(),ft(w,h.aliases,l,!0),Jt(w),o["set-placeholder-key"]&&Je(w),Object.keys(h.counts).forEach(function(R){ce(w,R.split("."))||Z(R,0)}),f&&_.length&&(w[m]=[]),_.forEach(function(R){w[m].push(R)}),o["camel-case-expansion"]&&o["strip-dashed"]&&Object.keys(w).filter(R=>R!=="--"&&R.includes("-")).forEach(R=>{delete w[R]}),o["strip-aliased"]&&[].concat(...Object.keys(a).map(R=>a[R])).forEach(R=>{o["camel-case-expansion"]&&R.includes("-")&&delete w[R.split(".").map(M=>tu(M)).join(".")],delete w[R]});function H(R){let M=Le("_",R);(typeof M=="string"||typeof M=="number")&&w._.push(M)}function j(R,M,J,G){let F,le=K(M,h.nargs);if(le=typeof le!="number"||isNaN(le)?1:le,le===0)return Wn(G)||(N=Error(d("Argument unexpected for: %s",M))),Z(M,ci(M)),R;let ie=Wn(G)?0:1;if(o["nargs-eats-options"])J.length-(R+1)+ie<le&&(N=Error(d("Not enough arguments following: %s",M))),ie=le;else{for(F=R+1;F<J.length&&(!J[F].match(/^-[^0-9]/)||J[F].match(y)||vn(J[F]));F++)ie++;ie<le&&(N=Error(d("Not enough arguments following: %s",M)))}let de=Math.min(ie,le);for(!Wn(G)&&de>0&&(Z(M,G),de--),F=R+1;F<de+R+1;F++)Z(M,J[F]);return R+de}function X(R,M,J,G){let F=[],le=G||J[R+1],ie=K(M,h.nargs);if(K(M,h.bools)&&!/^(true|false)$/.test(le))F.push(!0);else if(Wn(le)||Wn(G)&&/^-/.test(le)&&!y.test(le)&&!vn(le)){if(l[M]!==void 0){let de=l[M];F=Array.isArray(de)?de:[de]}}else{Wn(G)||F.push(we(M,G,!0));for(let de=R+1;de<J.length&&!(!o["greedy-arrays"]&&F.length>0||ie&&typeof ie=="number"&&F.length>=ie||(le=J[de],/^-/.test(le)&&!y.test(le)&&!vn(le)));de++)R=de,F.push(we(M,le,s))}return typeof ie=="number"&&(ie&&F.length<ie||isNaN(ie)&&F.length===0)&&(N=Error(d("Not enough arguments following: %s",M))),Z(M,F),R}function Z(R,M,J=s){if(/-/.test(R)&&o["camel-case-expansion"]){let le=R.split(".").map(function(ie){return tu(ie)}).join(".");Te(R,le)}let G=we(R,M,J),F=R.split(".");Ie(w,F,G),h.aliases[R]&&h.aliases[R].forEach(function(le){let ie=le.split(".");Ie(w,ie,G)}),F.length>1&&o["dot-notation"]&&(h.aliases[F[0]]||[]).forEach(function(le){let ie=le.split("."),de=[].concat(F);de.shift(),ie=ie.concat(de),(h.aliases[R]||[]).includes(ie.join("."))||Ie(w,ie,G)}),K(R,h.normalize)&&!K(R,h.arrays)&&[R].concat(h.aliases[R]||[]).forEach(function(ie){Object.defineProperty(te,ie,{enumerable:!0,get(){return M},set(de){M=typeof de=="string"?Ji.normalize(de):de}})})}function Te(R,M){h.aliases[R]&&h.aliases[R].length||(h.aliases[R]=[M],g[M]=!0),h.aliases[M]&&h.aliases[M].length||Te(M,R)}function we(R,M,J){J&&(M=Qk(M)),(K(R,h.bools)||K(R,h.counts))&&typeof M=="string"&&(M=M==="true");let G=Array.isArray(M)?M.map(function(F){return Le(R,F)}):Le(R,M);return K(R,h.counts)&&(Wn(G)||typeof G=="boolean")&&(G=Dm()),K(R,h.normalize)&&K(R,h.arrays)&&(Array.isArray(M)?G=M.map(F=>Ji.normalize(F)):G=Ji.normalize(M)),G}function Le(R,M){return!o["parse-positional-numbers"]&&R==="_"||!K(R,h.strings)&&!K(R,h.bools)&&!Array.isArray(M)&&(PP(M)&&o["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${M}`)))||!Wn(M)&&K(R,h.numbers))&&(M=Number(M)),M}function qe(R){let M=Object.create(null);ft(M,h.aliases,l),Object.keys(h.configs).forEach(function(J){let G=R[J]||M[J];if(G)try{let F=null,le=Ji.resolve(Ji.cwd(),G),ie=h.configs[J];if(typeof ie=="function"){try{F=ie(le)}catch(de){F=de}if(F instanceof Error){N=F;return}}else F=Ji.require(le);ae(F)}catch(F){F.name==="PermissionDenied"?N=F:R[J]&&(N=Error(d("Invalid JSON config file: %s",G)))}})}function ae(R,M){Object.keys(R).forEach(function(J){let G=R[J],F=M?M+"."+J:J;typeof G=="object"&&G!==null&&!Array.isArray(G)&&o["dot-notation"]?ae(G,F):(!ce(w,F.split("."))||K(F,h.arrays)&&o["combine-arrays"])&&Z(F,G)})}function Pe(){typeof u!="undefined"&&u.forEach(function(R){ae(R)})}function ct(R,M){if(typeof c=="undefined")return;let J=typeof c=="string"?c:"",G=Ji.env();Object.keys(G).forEach(function(F){if(J===""||F.lastIndexOf(J,0)===0){let le=F.split("__").map(function(ie,de){return de===0&&(ie=ie.substring(J.length)),tu(ie)});(M&&h.configs[le.join(".")]||!M)&&!ce(R,le)&&Z(le.join("."),G[F])}})}function Jt(R){let M,J=new Set;Object.keys(R).forEach(function(G){if(!J.has(G)&&(M=K(G,h.coercions),typeof M=="function"))try{let F=Le(G,M(R[G]));[].concat(h.aliases[G]||[],G).forEach(le=>{J.add(le),R[le]=F})}catch(F){N=F}})}function Je(R){return h.keys.forEach(M=>{~M.indexOf(".")||typeof R[M]=="undefined"&&(R[M]=void 0)}),R}function ft(R,M,J,G=!1){Object.keys(J).forEach(function(F){ce(R,F.split("."))||(Ie(R,F.split("."),J[F]),G&&(p[F]=!0),(M[F]||[]).forEach(function(le){ce(R,le.split("."))||Ie(R,le.split("."),J[F])}))})}function ce(R,M){let J=R;o["dot-notation"]||(M=[M.join(".")]),M.slice(0,-1).forEach(function(F){J=J[F]||{}});let G=M[M.length-1];return typeof J!="object"?!1:G in J}function Ie(R,M,J){let G=R;o["dot-notation"]||(M=[M.join(".")]),M.slice(0,-1).forEach(function(bt){bt=AP(bt),typeof G=="object"&&G[bt]===void 0&&(G[bt]={}),typeof G[bt]!="object"||Array.isArray(G[bt])?(Array.isArray(G[bt])?G[bt].push({}):G[bt]=[G[bt],{}],G=G[bt][G[bt].length-1]):G=G[bt]});let F=AP(M[M.length-1]),le=K(M.join("."),h.arrays),ie=Array.isArray(J),de=o["duplicate-arguments-array"];!de&&K(F,h.nargs)&&(de=!0,(!Wn(G[F])&&h.nargs[F]===1||Array.isArray(G[F])&&G[F].length===h.nargs[F])&&(G[F]=void 0)),J===Dm()?G[F]=Dm(G[F]):Array.isArray(G[F])?de&&le&&ie?G[F]=o["flatten-duplicate-arrays"]?G[F].concat(J):(Array.isArray(G[F][0])?G[F]:[G[F]]).concat([J]):!de&&Boolean(le)===Boolean(ie)?G[F]=J:G[F]=G[F].concat([J]):G[F]===void 0&&le?G[F]=ie?J:[J]:de&&!(G[F]===void 0||K(F,h.counts)||K(F,h.bools))?G[F]=[G[F],J]:G[F]=J}function Ge(...R){R.forEach(function(M){Object.keys(M||{}).forEach(function(J){h.aliases[J]||(h.aliases[J]=[].concat(a[J]||[]),h.aliases[J].concat(J).forEach(function(G){if(/-/.test(G)&&o["camel-case-expansion"]){let F=tu(G);F!==J&&h.aliases[J].indexOf(F)===-1&&(h.aliases[J].push(F),g[F]=!0)}}),h.aliases[J].concat(J).forEach(function(G){if(G.length>1&&/[A-Z]/.test(G)&&o["camel-case-expansion"]){let F=CP(G,"-");F!==J&&h.aliases[J].indexOf(F)===-1&&(h.aliases[J].push(F),g[F]=!0)}}),h.aliases[J].forEach(function(G){h.aliases[G]=[J].concat(h.aliases[J].filter(function(F){return G!==F}))}))})})}function K(R,M){let J=[].concat(h.aliases[R]||[],R),G=Object.keys(M),F=J.find(le=>G.includes(le));return F?M[F]:!1}function pt(R){let M=Object.keys(h);return[].concat(M.map(G=>h[G])).some(function(G){return Array.isArray(G)?G.includes(R):G[R]})}function st(R,...M){return[].concat(...M).some(function(G){let F=R.match(G);return F&&pt(F[1])})}function Dt(R){if(R.match(y)||!R.match(/^-[^-]+/))return!1;let M=!0,J,G=R.slice(1).split("");for(let F=0;F<G.length;F++){if(J=R.slice(F+2),!pt(G[F])){M=!1;break}if(G[F+1]&&G[F+1]==="="||J==="-"||/[A-Za-z]/.test(G[F])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(J)||G[F+1]&&G[F+1].match(/\W/))break}return M}function vn(R){return o["unknown-options-as-args"]&&Di(R)}function Di(R){return R=R.replace(/^-{3,}/,"--"),R.match(y)||Dt(R)?!1:!st(R,/^-+([^=]+?)=[\s\S]*$/,b,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}function ci(R){return!K(R,h.bools)&&!K(R,h.counts)&&`${R}`in l?l[R]:Uo(Zi(R))}function Uo(R){return{[li.BOOLEAN]:!0,[li.STRING]:"",[li.NUMBER]:void 0,[li.ARRAY]:[]}[R]}function Zi(R){let M=li.BOOLEAN;return K(R,h.strings)?M=li.STRING:K(R,h.numbers)?M=li.NUMBER:K(R,h.bools)?M=li.BOOLEAN:K(R,h.arrays)&&(M=li.ARRAY),M}function Wn(R){return R===void 0}function Wo(){Object.keys(h.counts).find(R=>K(R,h.arrays)?(N=Error(d("Invalid configuration: %s, opts.count excludes opts.array.",R)),!0):K(R,h.nargs)?(N=Error(d("Invalid configuration: %s, opts.count excludes opts.narg.",R)),!0):!1)}return{aliases:Object.assign({},h.aliases),argv:Object.assign(te,w),configuration:o,defaulted:Object.assign({},p),error:N,newAliases:Object.assign({},g)}}};function Xk(t){let e=[],n=Object.create(null),r=!0;for(Object.keys(t).forEach(function(i){e.push([].concat(t[i],i))});r;){r=!1;for(let i=0;i<e.length;i++)for(let s=i+1;s<e.length;s++)if(e[i].filter(function(o){return e[s].indexOf(o)!==-1}).length){e[i]=e[i].concat(e[s]),e.splice(s,1),r=!0;break}}return e.forEach(function(i){i=i.filter(function(a,o,l){return l.indexOf(a)===o});let s=i.pop();s!==void 0&&typeof s=="string"&&(n[s]=i)}),n}function Dm(t){return t!==void 0?t+1:1}function AP(t){return t==="__proto__"?"___proto___":t}function Qk(t){return typeof t=="string"&&(t[0]==="'"||t[0]==='"')&&t[t.length-1]===t[0]?t.substring(1,t.length-1):t}var SP=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12;if(process&&process.version&&Number(process.version.match(/v([^.]+)/)[1])<SP)throw Error(`yargs parser supports a minimum Node.js version of ${SP}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var Jk=process?process.env:{},IP=new EP({cwd:process.cwd,env:()=>Jk,format:$k.format,normalize:NP.normalize,resolve:NP.resolve,require:t=>{if(typeof require!="undefined")return require(t);if(t.match(/\.json$/))return JSON.parse(Kk.readFileSync(t,"utf8"));throw Error("only .json config files are supported in ESM")}}),nu=function(e,n){return IP.parse(e.slice(),n).argv};nu.detailed=function(t,e){return IP.parse(t.slice(),e)};nu.camelCase=tu;nu.decamelize=CP;nu.looksLikeNumber=PP;DP.exports=nu});var xP=B((Ate,RP)=>{"use strict";RP.exports=({onlyFirst:t=!1}={})=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}});var Vf=B((Ste,wP)=>{"use strict";var Zk=xP();wP.exports=t=>typeof t=="string"?t.replace(Zk(),""):t});var LP=B((Ite,xm)=>{"use strict";var OP=t=>Number.isNaN(t)?!1:t>=4352&&(t<=4447||t===9001||t===9002||11904<=t&&t<=12871&&t!==12351||12880<=t&&t<=19903||19968<=t&&t<=42182||43360<=t&&t<=43388||44032<=t&&t<=55203||63744<=t&&t<=64255||65040<=t&&t<=65049||65072<=t&&t<=65131||65281<=t&&t<=65376||65504<=t&&t<=65510||110592<=t&&t<=110593||127488<=t&&t<=127569||131072<=t&&t<=262141);xm.exports=OP;xm.exports.default=OP});var MP=B((Dte,FP)=>{"use strict";FP.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}});var jf=B((Rte,wm)=>{"use strict";var e2=Vf(),t2=LP(),n2=MP(),kP=t=>{if(typeof t!="string"||t.length===0||(t=e2(t),t.length===0))return 0;t=t.replace(n2(),"  ");let e=0;for(let n=0;n<t.length;n++){let r=t.codePointAt(n);r<=31||r>=127&&r<=159||r>=768&&r<=879||(r>65535&&n++,e+=t2(r)?2:1)}return e};wm.exports=kP;wm.exports.default=kP});var BP=B((xte,qP)=>{"use strict";qP.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Om=B((wte,jP)=>{var ru=BP(),VP={};for(let t of Object.keys(ru))VP[ru[t]]=t;var me={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};jP.exports=me;for(let t of Object.keys(me)){if(!("channels"in me[t]))throw new Error("missing channels property: "+t);if(!("labels"in me[t]))throw new Error("missing channel labels property: "+t);if(me[t].labels.length!==me[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:n}=me[t];delete me[t].channels,delete me[t].labels,Object.defineProperty(me[t],"channels",{value:e}),Object.defineProperty(me[t],"labels",{value:n})}me.rgb.hsl=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=s-i,o,l;s===i?o=0:e===s?o=(n-r)/a:n===s?o=2+(r-e)/a:r===s&&(o=4+(e-n)/a),o=Math.min(o*60,360),o<0&&(o+=360);let u=(i+s)/2;return s===i?l=0:u<=.5?l=a/(s+i):l=a/(2-s-i),[o,l*100,u*100]};me.rgb.hsv=function(t){let e,n,r,i,s,a=t[0]/255,o=t[1]/255,l=t[2]/255,u=Math.max(a,o,l),c=u-Math.min(a,o,l),f=function(m){return(u-m)/6/c+1/2};return c===0?(i=0,s=0):(s=c/u,e=f(a),n=f(o),r=f(l),a===u?i=r-n:o===u?i=1/3+e-r:l===u&&(i=2/3+n-e),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,u*100]};me.rgb.hwb=function(t){let e=t[0],n=t[1],r=t[2],i=me.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(n,r));return r=1-1/255*Math.max(e,Math.max(n,r)),[i,s*100,r*100]};me.rgb.cmyk=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(1-e,1-n,1-r),s=(1-e-i)/(1-i)||0,a=(1-n-i)/(1-i)||0,o=(1-r-i)/(1-i)||0;return[s*100,a*100,o*100,i*100]};function r2(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}me.rgb.keyword=function(t){let e=VP[t];if(e)return e;let n=1/0,r;for(let i of Object.keys(ru)){let s=ru[i],a=r2(t,s);a<n&&(n=a,r=i)}return r};me.keyword.rgb=function(t){return ru[t]};me.rgb.xyz=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;let i=e*.4124+n*.3576+r*.1805,s=e*.2126+n*.7152+r*.0722,a=e*.0193+n*.1192+r*.9505;return[i*100,s*100,a*100]};me.rgb.lab=function(t){let e=me.rgb.xyz(t),n=e[0],r=e[1],i=e[2];n/=95.047,r/=100,i/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let s=116*r-16,a=500*(n-r),o=200*(r-i);return[s,a,o]};me.hsl.rgb=function(t){let e=t[0]/360,n=t[1]/100,r=t[2]/100,i,s,a;if(n===0)return a=r*255,[a,a,a];r<.5?i=r*(1+n):i=r+n-r*n;let o=2*r-i,l=[0,0,0];for(let u=0;u<3;u++)s=e+1/3*-(u-1),s<0&&s++,s>1&&s--,6*s<1?a=o+(i-o)*6*s:2*s<1?a=i:3*s<2?a=o+(i-o)*(2/3-s)*6:a=o,l[u]=a*255;return l};me.hsl.hsv=function(t){let e=t[0],n=t[1]/100,r=t[2]/100,i=n,s=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,i*=s<=1?s:2-s;let a=(r+n)/2,o=r===0?2*i/(s+i):2*n/(r+n);return[e,o*100,a*100]};me.hsv.rgb=function(t){let e=t[0]/60,n=t[1]/100,r=t[2]/100,i=Math.floor(e)%6,s=e-Math.floor(e),a=255*r*(1-n),o=255*r*(1-n*s),l=255*r*(1-n*(1-s));switch(r*=255,i){case 0:return[r,l,a];case 1:return[o,r,a];case 2:return[a,r,l];case 3:return[a,o,r];case 4:return[l,a,r];case 5:return[r,a,o]}};me.hsv.hsl=function(t){let e=t[0],n=t[1]/100,r=t[2]/100,i=Math.max(r,.01),s,a;a=(2-n)*r;let o=(2-n)*i;return s=n*i,s/=o<=1?o:2-o,s=s||0,a/=2,[e,s*100,a*100]};me.hwb.rgb=function(t){let e=t[0]/360,n=t[1]/100,r=t[2]/100,i=n+r,s;i>1&&(n/=i,r/=i);let a=Math.floor(6*e),o=1-r;s=6*e-a,(a&1)!==0&&(s=1-s);let l=n+s*(o-n),u,c,f;switch(a){default:case 6:case 0:u=o,c=l,f=n;break;case 1:u=l,c=o,f=n;break;case 2:u=n,c=o,f=l;break;case 3:u=n,c=l,f=o;break;case 4:u=l,c=n,f=o;break;case 5:u=o,c=n,f=l;break}return[u*255,c*255,f*255]};me.cmyk.rgb=function(t){let e=t[0]/100,n=t[1]/100,r=t[2]/100,i=t[3]/100,s=1-Math.min(1,e*(1-i)+i),a=1-Math.min(1,n*(1-i)+i),o=1-Math.min(1,r*(1-i)+i);return[s*255,a*255,o*255]};me.xyz.rgb=function(t){let e=t[0]/100,n=t[1]/100,r=t[2]/100,i,s,a;return i=e*3.2406+n*-1.5372+r*-.4986,s=e*-.9689+n*1.8758+r*.0415,a=e*.0557+n*-.204+r*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),a=Math.min(Math.max(0,a),1),[i*255,s*255,a*255]};me.xyz.lab=function(t){let e=t[0],n=t[1],r=t[2];e/=95.047,n/=100,r/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;let i=116*n-16,s=500*(e-n),a=200*(n-r);return[i,s,a]};me.lab.xyz=function(t){let e=t[0],n=t[1],r=t[2],i,s,a;s=(e+16)/116,i=n/500+s,a=s-r/200;let o=s**3,l=i**3,u=a**3;return s=o>.008856?o:(s-16/116)/7.787,i=l>.008856?l:(i-16/116)/7.787,a=u>.008856?u:(a-16/116)/7.787,i*=95.047,s*=100,a*=108.883,[i,s,a]};me.lab.lch=function(t){let e=t[0],n=t[1],r=t[2],i;i=Math.atan2(r,n)*360/2/Math.PI,i<0&&(i+=360);let a=Math.sqrt(n*n+r*r);return[e,a,i]};me.lch.lab=function(t){let e=t[0],n=t[1],i=t[2]/360*2*Math.PI,s=n*Math.cos(i),a=n*Math.sin(i);return[e,s,a]};me.rgb.ansi16=function(t,e=null){let[n,r,i]=t,s=e===null?me.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),s===0)return 30;let a=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return s===2&&(a+=60),a};me.hsv.ansi16=function(t){return me.rgb.ansi16(me.hsv.rgb(t),t[2])};me.rgb.ansi256=function(t){let e=t[0],n=t[1],r=t[2];return e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)};me.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let n=(~~(t>50)+1)*.5,r=(e&1)*n*255,i=(e>>1&1)*n*255,s=(e>>2&1)*n*255;return[r,i,s]};me.ansi256.rgb=function(t){if(t>=232){let s=(t-232)*10+8;return[s,s,s]}t-=16;let e,n=Math.floor(t/36)/5*255,r=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[n,r,i]};me.rgb.hex=function(t){let n=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(n.length)+n};me.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let n=e[0];e[0].length===3&&(n=n.split("").map(o=>o+o).join(""));let r=parseInt(n,16),i=r>>16&255,s=r>>8&255,a=r&255;return[i,s,a]};me.rgb.hcg=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(Math.max(e,n),r),s=Math.min(Math.min(e,n),r),a=i-s,o,l;return a<1?o=s/(1-a):o=0,a<=0?l=0:i===e?l=(n-r)/a%6:i===n?l=2+(r-e)/a:l=4+(e-n)/a,l/=6,l%=1,[l*360,a*100,o*100]};me.hsl.hcg=function(t){let e=t[1]/100,n=t[2]/100,r=n<.5?2*e*n:2*e*(1-n),i=0;return r<1&&(i=(n-.5*r)/(1-r)),[t[0],r*100,i*100]};me.hsv.hcg=function(t){let e=t[1]/100,n=t[2]/100,r=e*n,i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],r*100,i*100]};me.hcg.rgb=function(t){let e=t[0]/360,n=t[1]/100,r=t[2]/100;if(n===0)return[r*255,r*255,r*255];let i=[0,0,0],s=e%1*6,a=s%1,o=1-a,l=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=a,i[2]=0;break;case 1:i[0]=o,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=a;break;case 3:i[0]=0,i[1]=o,i[2]=1;break;case 4:i[0]=a,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=o}return l=(1-n)*r,[(n*i[0]+l)*255,(n*i[1]+l)*255,(n*i[2]+l)*255]};me.hcg.hsv=function(t){let e=t[1]/100,n=t[2]/100,r=e+n*(1-e),i=0;return r>0&&(i=e/r),[t[0],i*100,r*100]};me.hcg.hsl=function(t){let e=t[1]/100,r=t[2]/100*(1-e)+.5*e,i=0;return r>0&&r<.5?i=e/(2*r):r>=.5&&r<1&&(i=e/(2*(1-r))),[t[0],i*100,r*100]};me.hcg.hwb=function(t){let e=t[1]/100,n=t[2]/100,r=e+n*(1-e);return[t[0],(r-e)*100,(1-r)*100]};me.hwb.hcg=function(t){let e=t[1]/100,n=t[2]/100,r=1-n,i=r-e,s=0;return i<1&&(s=(r-i)/(1-i)),[t[0],i*100,s*100]};me.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};me.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};me.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};me.gray.hsl=function(t){return[0,0,t[0]]};me.gray.hsv=me.gray.hsl;me.gray.hwb=function(t){return[0,100,t[0]]};me.gray.cmyk=function(t){return[0,0,0,t[0]]};me.gray.lab=function(t){return[t[0],0,0]};me.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r};me.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});var WP=B((Ote,UP)=>{var Uf=Om();function i2(){let t={},e=Object.keys(Uf);for(let n=e.length,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}function s2(t){let e=i2(),n=[t];for(e[t].distance=0;n.length;){let r=n.pop(),i=Object.keys(Uf[r]);for(let s=i.length,a=0;a<s;a++){let o=i[a],l=e[o];l.distance===-1&&(l.distance=e[r].distance+1,l.parent=r,n.unshift(o))}}return e}function a2(t,e){return function(n){return e(t(n))}}function o2(t,e){let n=[e[t].parent,t],r=Uf[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)n.unshift(e[i].parent),r=a2(Uf[e[i].parent][i],r),i=e[i].parent;return r.conversion=n,r}UP.exports=function(t){let e=s2(t),n={},r=Object.keys(e);for(let i=r.length,s=0;s<i;s++){let a=r[s];e[a].parent!==null&&(n[a]=o2(a,e))}return n}});var YP=B((Lte,GP)=>{var Lm=Om(),l2=WP(),wo={},u2=Object.keys(Lm);function c2(t){let e=function(...n){let r=n[0];return r==null?r:(r.length>1&&(n=r),t(n))};return"conversion"in t&&(e.conversion=t.conversion),e}function f2(t){let e=function(...n){let r=n[0];if(r==null)return r;r.length>1&&(n=r);let i=t(n);if(typeof i=="object")for(let s=i.length,a=0;a<s;a++)i[a]=Math.round(i[a]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}u2.forEach(t=>{wo[t]={},Object.defineProperty(wo[t],"channels",{value:Lm[t].channels}),Object.defineProperty(wo[t],"labels",{value:Lm[t].labels});let e=l2(t);Object.keys(e).forEach(r=>{let i=e[r];wo[t][r]=f2(i),wo[t][r].raw=c2(i)})});GP.exports=wo});var QP=B((Fte,XP)=>{"use strict";var HP=(t,e)=>(...n)=>`\x1B[${t(...n)+e}m`,$P=(t,e)=>(...n)=>{let r=t(...n);return`\x1B[${38+e};5;${r}m`},KP=(t,e)=>(...n)=>{let r=t(...n);return`\x1B[${38+e};2;${r[0]};${r[1]};${r[2]}m`},Wf=t=>t,zP=(t,e,n)=>[t,e,n],Oo=(t,e,n)=>{Object.defineProperty(t,e,{get:()=>{let r=n();return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0}),r},enumerable:!0,configurable:!0})},Fm,Lo=(t,e,n,r)=>{Fm===void 0&&(Fm=YP());let i=r?10:0,s={};for(let[a,o]of Object.entries(Fm)){let l=a==="ansi16"?"ansi":a;a===e?s[l]=t(n,i):typeof o=="object"&&(s[l]=t(o[e],i))}return s};function p2(){let t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright,e.bgColor.bgGray=e.bgColor.bgBlackBright,e.color.grey=e.color.blackBright,e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(let[n,r]of Object.entries(e)){for(let[i,s]of Object.entries(r))e[i]={open:`\x1B[${s[0]}m`,close:`\x1B[${s[1]}m`},r[i]=e[i],t.set(s[0],s[1]);Object.defineProperty(e,n,{value:r,enumerable:!1})}return Object.defineProperty(e,"codes",{value:t,enumerable:!1}),e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",Oo(e.color,"ansi",()=>Lo(HP,"ansi16",Wf,!1)),Oo(e.color,"ansi256",()=>Lo($P,"ansi256",Wf,!1)),Oo(e.color,"ansi16m",()=>Lo(KP,"rgb",zP,!1)),Oo(e.bgColor,"ansi",()=>Lo(HP,"ansi16",Wf,!0)),Oo(e.bgColor,"ansi256",()=>Lo($P,"ansi256",Wf,!0)),Oo(e.bgColor,"ansi16m",()=>Lo(KP,"rgb",zP,!0)),e}Object.defineProperty(XP,"exports",{enumerable:!0,get:p2})});var rE=B((Mte,nE)=>{"use strict";var iu=jf(),d2=Vf(),h2=QP(),Gf=new Set(["\x1B","\x9B"]),m2=39,Mm="\x07",JP="[",g2="]",ZP="m",km=`${g2}8;;`,eE=t=>`${Gf.values().next().value}${JP}${t}${ZP}`,tE=t=>`${Gf.values().next().value}${km}${t}${Mm}`,_2=t=>t.split(" ").map(e=>iu(e)),qm=(t,e,n)=>{let r=[...e],i=!1,s=!1,a=iu(d2(t[t.length-1]));for(let[o,l]of r.entries()){let u=iu(l);if(a+u<=n?t[t.length-1]+=l:(t.push(l),a=0),Gf.has(l)&&(i=!0,s=r.slice(o+1).join("").startsWith(km)),i){s?l===Mm&&(i=!1,s=!1):l===ZP&&(i=!1);continue}a+=u,a===n&&o<r.length-1&&(t.push(""),a=0)}!a&&t[t.length-1].length>0&&t.length>1&&(t[t.length-2]+=t.pop())},y2=t=>{let e=t.split(" "),n=e.length;for(;n>0&&!(iu(e[n-1])>0);)n--;return n===e.length?t:e.slice(0,n).join(" ")+e.slice(n).join("")},b2=(t,e,n={})=>{if(n.trim!==!1&&t.trim()==="")return"";let r="",i,s,a=_2(t),o=[""];for(let[u,c]of t.split(" ").entries()){n.trim!==!1&&(o[o.length-1]=o[o.length-1].trimStart());let f=iu(o[o.length-1]);if(u!==0&&(f>=e&&(n.wordWrap===!1||n.trim===!1)&&(o.push(""),f=0),(f>0||n.trim===!1)&&(o[o.length-1]+=" ",f++)),n.hard&&a[u]>e){let m=e-f,g=1+Math.floor((a[u]-m-1)/e);Math.floor((a[u]-1)/e)<g&&o.push(""),qm(o,c,e);continue}if(f+a[u]>e&&f>0&&a[u]>0){if(n.wordWrap===!1&&f<e){qm(o,c,e);continue}o.push("")}if(f+a[u]>e&&n.wordWrap===!1){qm(o,c,e);continue}o[o.length-1]+=c}n.trim!==!1&&(o=o.map(y2));let l=[...o.join(`
`)];for(let[u,c]of l.entries()){if(r+=c,Gf.has(c)){let{groups:m}=new RegExp(`(?:\\${JP}(?<code>\\d+)m|\\${km}(?<uri>.*)${Mm})`).exec(l.slice(u).join(""))||{groups:{}};if(m.code!==void 0){let g=Number.parseFloat(m.code);i=g===m2?void 0:g}else m.uri!==void 0&&(s=m.uri.length===0?void 0:m.uri)}let f=h2.codes.get(Number(i));l[u+1]===`
`?(s&&(r+=tE("")),i&&f&&(r+=eE(f))):c===`
`&&(i&&f&&(r+=eE(i)),s&&(r+=tE(s)))}return r};nE.exports=(t,e,n)=>String(t).normalize().replace(/\r\n/g,`
`).split(`
`).map(r=>b2(r,e,n)).join(`
`)});var oE=B((kte,aE)=>{"use strict";var T2={right:E2,center:A2},v2=0,Yf=1,N2=2,Hf=3,iE=class{constructor(e){var n;this.width=e.width,this.wrap=(n=e.wrap)!==null&&n!==void 0?n:!0,this.rows=[]}span(...e){let n=this.div(...e);n.span=!0}resetOutput(){this.rows=[]}div(...e){if(e.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...e)&&typeof e[0]=="string")return this.applyLayoutDSL(e[0]);let n=e.map(r=>typeof r=="string"?this.colFromString(r):r);return this.rows.push(n),n}shouldApplyLayoutDSL(...e){return e.length===1&&typeof e[0]=="string"&&/[\t\n]/.test(e[0])}applyLayoutDSL(e){let n=e.split(`
`).map(i=>i.split("	")),r=0;return n.forEach(i=>{i.length>1&&ir.stringWidth(i[0])>r&&(r=Math.min(Math.floor(this.width*.5),ir.stringWidth(i[0])))}),n.forEach(i=>{this.div(...i.map((s,a)=>({text:s.trim(),padding:this.measurePadding(s),width:a===0&&i.length>1?r:void 0})))}),this.rows[this.rows.length-1]}colFromString(e){return{text:e,padding:this.measurePadding(e)}}measurePadding(e){let n=ir.stripAnsi(e);return[0,n.match(/\s*$/)[0].length,0,n.match(/^\s*/)[0].length]}toString(){let e=[];return this.rows.forEach(n=>{this.rowToString(n,e)}),e.filter(n=>!n.hidden).map(n=>n.text).join(`
`)}rowToString(e,n){return this.rasterize(e).forEach((r,i)=>{let s="";r.forEach((a,o)=>{let{width:l}=e[o],u=this.negatePadding(e[o]),c=a;u>ir.stringWidth(a)&&(c+=" ".repeat(u-ir.stringWidth(a))),e[o].align&&e[o].align!=="left"&&this.wrap&&(c=T2[e[o].align](c,u),ir.stringWidth(c)<u&&(c+=" ".repeat((l||0)-ir.stringWidth(c)-1)));let f=e[o].padding||[0,0,0,0];f[Hf]&&(s+=" ".repeat(f[Hf])),s+=sE(e[o],c,"| "),s+=c,s+=sE(e[o],c," |"),f[Yf]&&(s+=" ".repeat(f[Yf])),i===0&&n.length>0&&(s=this.renderInline(s,n[n.length-1]))}),n.push({text:s.replace(/ +$/,""),span:e.span})}),n}renderInline(e,n){let r=e.match(/^ */),i=r?r[0].length:0,s=n.text,a=ir.stringWidth(s.trimRight());return n.span?this.wrap?i<a?e:(n.hidden=!0,s.trimRight()+" ".repeat(i-a)+e.trimLeft()):(n.hidden=!0,s+e):e}rasterize(e){let n=[],r=this.columnWidths(e),i;return e.forEach((s,a)=>{s.width=r[a],this.wrap?i=ir.wrap(s.text,this.negatePadding(s),{hard:!0}).split(`
`):i=s.text.split(`
`),s.border&&(i.unshift("."+"-".repeat(this.negatePadding(s)+2)+"."),i.push("'"+"-".repeat(this.negatePadding(s)+2)+"'")),s.padding&&(i.unshift(...new Array(s.padding[v2]||0).fill("")),i.push(...new Array(s.padding[N2]||0).fill(""))),i.forEach((o,l)=>{n[l]||n.push([]);let u=n[l];for(let c=0;c<a;c++)u[c]===void 0&&u.push("");u.push(o)})}),n}negatePadding(e){let n=e.width||0;return e.padding&&(n-=(e.padding[Hf]||0)+(e.padding[Yf]||0)),e.border&&(n-=4),n}columnWidths(e){if(!this.wrap)return e.map(a=>a.width||ir.stringWidth(a.text));let n=e.length,r=this.width,i=e.map(a=>{if(a.width)return n--,r-=a.width,a.width}),s=n?Math.floor(r/n):0;return i.map((a,o)=>a===void 0?Math.max(s,C2(e[o])):a)}};function sE(t,e,n){return t.border?/[.']-+[.']/.test(e)?"":e.trim().length!==0?n:"  ":""}function C2(t){let e=t.padding||[],n=1+(e[Hf]||0)+(e[Yf]||0);return t.border?n+4:n}function P2(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}function E2(t,e){t=t.trim();let n=ir.stringWidth(t);return n<e?" ".repeat(e-n)+t:t}function A2(t,e){t=t.trim();let n=ir.stringWidth(t);return n>=e?t:" ".repeat(e-n>>1)+t}var ir;function S2(t,e){return ir=e,new iE({width:(t==null?void 0:t.width)||P2(),wrap:t==null?void 0:t.wrap})}var I2=jf(),D2=Vf(),R2=rE();function x2(t){return S2(t,{stringWidth:I2,stripAnsi:D2,wrap:R2})}aE.exports=x2});var fE=B((qte,cE)=>{var{dirname:lE,resolve:uE}=require("path"),{readdirSync:w2,statSync:O2}=require("fs");cE.exports=function(t,e){let n=uE(".",t),r;for(O2(n).isDirectory()||(n=lE(n));;){if(r=e(n,w2(n)),r)return uE(n,r);if(n=lE(r=n),r===n)break}}});var dE=B((Bte,pE)=>{"use strict";pE.exports=function(e){if(e===void 0&&(e=2),e>=Error.stackTraceLimit)throw new TypeError("getCallerFile(position) requires position be less then Error.stackTraceLimit but position was: `"+e+"` and Error.stackTraceLimit was: `"+Error.stackTraceLimit+"`");var n=Error.prepareStackTrace;Error.prepareStackTrace=function(i,s){return s};var r=new Error().stack;if(Error.prepareStackTrace=n,r!==null&&typeof r=="object")return r[e]?r[e].getFileName():void 0}});var _E=B((Vte,Vm)=>{"use strict";var hE=require("fs"),L2=require("path").join,F2=require("path").resolve,mE=require("path").dirname,Bm={extensions:["js","json","coffee"],recurse:!0,rename:function(t){return t},visit:function(t){return t}};function M2(t,e,n){return new RegExp("\\.("+n.extensions.join("|")+")$","i").test(e)&&!(n.include&&n.include instanceof RegExp&&!n.include.test(t))&&!(n.include&&typeof n.include=="function"&&!n.include(t,e))&&!(n.exclude&&n.exclude instanceof RegExp&&n.exclude.test(t))&&!(n.exclude&&typeof n.exclude=="function"&&n.exclude(t,e))}function gE(t,e,n){var r={};e&&!n&&typeof e!="string"&&(n=e,e=null),n=n||{};for(var i in Bm)typeof n[i]=="undefined"&&(n[i]=Bm[i]);return e=e?F2(mE(t.filename),e):mE(t.filename),hE.readdirSync(e).forEach(function(s){var a=L2(e,s),o,l,u;hE.statSync(a).isDirectory()&&n.recurse?(o=gE(t,a,n),Object.keys(o).length&&(r[n.rename(s,a,s)]=o)):a!==t.filename&&M2(a,s,n)&&(l=s.substring(0,s.lastIndexOf(".")),u=t.require(a),r[n.rename(l,a,s)]=n.visit(u,a,s)||u)}),r}Vm.exports=gE;Vm.exports.defaults=Bm});var JE=B((jte,QE)=>{"use strict";var yE=require("assert"),Qt=class extends Error{constructor(e){super(e||"yargs error"),this.name="YError",Error.captureStackTrace(this,Qt)}},su,jm=[];function $f(t,e,n,r){su=r;let i={};if(Object.prototype.hasOwnProperty.call(t,"extends")){if(typeof t.extends!="string")return i;let s=/\.json|\..*rc$/.test(t.extends),a=null;if(s)a=function(o,l){return su.path.resolve(o,l)}(e,t.extends);else try{a=require.resolve(t.extends)}catch{return t}(function(o){if(jm.indexOf(o)>-1)throw new Qt(`Circular extended configurations: '${o}'.`)})(a),jm.push(a),i=s?JSON.parse(su.readFileSync(a,"utf8")):require(t.extends),delete t.extends,i=$f(i,su.path.dirname(a),n,su)}return jm=[],n?bE(i,t):Object.assign({},i,t)}function bE(t,e){let n={};function r(i){return i&&typeof i=="object"&&!Array.isArray(i)}Object.assign(n,t);for(let i of Object.keys(e))r(e[i])&&r(n[i])?n[i]=bE(t[i],e[i]):n[i]=e[i];return n}function Fo(t){let e=t.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,r=e.shift();if(!r)throw new Error(`No command found in: ${t}`);let i={cmd:r.replace(n,""),demanded:[],optional:[]};return e.forEach((s,a)=>{let o=!1;s=s.replace(/\s/g,""),/\.+[\]>]/.test(s)&&a===e.length-1&&(o=!0),/^\[/.test(s)?i.optional.push({cmd:s.replace(n,"").split("|"),variadic:o}):i.demanded.push({cmd:s.replace(n,"").split("|"),variadic:o})}),i}var k2=["first","second","third","fourth","fifth","sixth"];function fe(t,e,n){try{let r=0,[i,s,a]=typeof t=="object"?[{demanded:[],optional:[]},t,e]:[Fo(`cmd ${t}`),e,n],o=[].slice.call(s);for(;o.length&&o[o.length-1]===void 0;)o.pop();let l=a||o.length;if(l<i.demanded.length)throw new Qt(`Not enough arguments provided. Expected ${i.demanded.length} but received ${o.length}.`);let u=i.demanded.length+i.optional.length;if(l>u)throw new Qt(`Too many arguments provided. Expected max ${u} but received ${l}.`);i.demanded.forEach(c=>{let f=TE(o.shift());c.cmd.filter(m=>m===f||m==="*").length===0&&vE(f,c.cmd,r),r+=1}),i.optional.forEach(c=>{if(o.length===0)return;let f=TE(o.shift());c.cmd.filter(m=>m===f||m==="*").length===0&&vE(f,c.cmd,r),r+=1})}catch(r){console.warn(r.stack)}}function TE(t){return Array.isArray(t)?"array":t===null?"null":typeof t}function vE(t,e,n){throw new Qt(`Invalid ${k2[n]||"manyith"} argument. Expected ${e.join(" or ")} but received ${t}.`)}function Gt(t){return!!t&&!!t.then&&typeof t.then=="function"}function ui(t,e,n,r){n.assert.notStrictEqual(t,e,r)}function NE(t,e){e.assert.strictEqual(typeof t,"string")}function Kf(t){return Object.keys(t)}function Mo(t={},e=()=>!0){let n={};return Kf(t).forEach(r=>{e(r,t[r])&&(n[r]=t[r])}),n}function CE(){return process.versions.electron&&!process.defaultApp?0:1}function PE(){return process.argv[CE()]}var q2=Object.freeze({__proto__:null,hideBin:function(t){return t.slice(CE()+1)},getProcessArgvBin:PE});function C(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function pe(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}var EE=class{constructor(e){this.globalMiddleware=[],this.frozens=[],this.yargs=e}addMiddleware(e,n,r=!0,i=!1){if(fe("<array|function> [boolean] [boolean] [boolean]",[e,n,r],arguments.length),Array.isArray(e)){for(let s=0;s<e.length;s++){if(typeof e[s]!="function")throw Error("middleware must be a function");let a=e[s];a.applyBeforeValidation=n,a.global=r}Array.prototype.push.apply(this.globalMiddleware,e)}else if(typeof e=="function"){let s=e;s.applyBeforeValidation=n,s.global=r,s.mutates=i,this.globalMiddleware.push(e)}return this.yargs}addCoerceMiddleware(e,n){let r=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(i=>{let s=[...r[n]||[],n];return!i.option||!s.includes(i.option)}),e.option=n,this.addMiddleware(e,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){let e=this.frozens.pop();e!==void 0&&(this.globalMiddleware=e)}reset(){this.globalMiddleware=this.globalMiddleware.filter(e=>e.global)}};function au(t,e,n,r){return n.reduce((i,s)=>{if(s.applyBeforeValidation!==r)return i;if(s.mutates){if(s.applied)return i;s.applied=!0}if(Gt(i))return i.then(a=>Promise.all([a,s(a,e)])).then(([a,o])=>Object.assign(a,o));{let a=s(i,e);return Gt(a)?a.then(o=>Object.assign(i,o)):Object.assign(i,a)}},t)}function ou(t,e,n=r=>{throw r}){try{let r=typeof t=="function"?t():t;return Gt(r)?r.then(i=>e(i)):e(r)}catch(r){return n(r)}}var ko=/(^\*)|(^\$0)/,AE=class{constructor(e,n,r,i){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=i,this.usage=e,this.globalMiddleware=r,this.validation=n}addDirectory(e,n,r,i){typeof(i=i||{}).recurse!="boolean"&&(i.recurse=!1),Array.isArray(i.extensions)||(i.extensions=["js"]);let s=typeof i.visit=="function"?i.visit:a=>a;i.visit=(a,o,l)=>{let u=s(a,o,l);if(u){if(this.requireCache.has(o))return u;this.requireCache.add(o),this.addHandler(u)}return u},this.shim.requireDirectory({require:n,filename:r},e,i)}addHandler(e,n,r,i,s,a){let o=[],l=function(u){return u?u.map(c=>(c.applyBeforeValidation=!1,c)):[]}(s);if(i=i||(()=>{}),Array.isArray(e))if(function(u){return u.every(c=>typeof c=="string")}(e))[e,...o]=e;else for(let u of e)this.addHandler(u);else{if(function(u){return typeof u=="object"&&!Array.isArray(u)}(e)){let u=Array.isArray(e.command)||typeof e.command=="string"?e.command:this.moduleName(e);return e.aliases&&(u=[].concat(u).concat(e.aliases)),void this.addHandler(u,this.extractDesc(e),e.builder,e.handler,e.middlewares,e.deprecated)}if(SE(r))return void this.addHandler([e].concat(o),n,r.builder,r.handler,r.middlewares,r.deprecated)}if(typeof e=="string"){let u=Fo(e);o=o.map(m=>Fo(m).cmd);let c=!1,f=[u.cmd].concat(o).filter(m=>!ko.test(m)||(c=!0,!1));f.length===0&&c&&f.push("$0"),c&&(u.cmd=f[0],o=f.slice(1),e=e.replace(ko,u.cmd)),o.forEach(m=>{this.aliasMap[m]=u.cmd}),n!==!1&&this.usage.command(e,n,c,o,a),this.handlers[u.cmd]={original:e,description:n,handler:i,builder:r||{},middlewares:l,deprecated:a,demanded:u.demanded,optional:u.optional},c&&(this.defaultCommand=this.handlers[u.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(e,n,r,i,s,a){let o=this.handlers[e]||this.handlers[this.aliasMap[e]]||this.defaultCommand,l=n.getInternalMethods().getContext(),u=l.commands.slice(),c=!e;e&&(l.commands.push(e),l.fullCommands.push(o.original));let f=this.applyBuilderUpdateUsageAndParse(c,o,n,r.aliases,u,i,s,a);return Gt(f)?f.then(m=>this.applyMiddlewareAndGetResult(c,o,m.innerArgv,l,s,m.aliases,n)):this.applyMiddlewareAndGetResult(c,o,f.innerArgv,l,s,f.aliases,n)}applyBuilderUpdateUsageAndParse(e,n,r,i,s,a,o,l){let u=n.builder,c=r;if(Um(u)){let f=u(r.getInternalMethods().reset(i),l);if(Gt(f))return f.then(m=>{var g;return c=(g=m)&&typeof g.getInternalMethods=="function"?m:r,this.parseAndUpdateUsage(e,n,c,s,a,o)})}else(function(f){return typeof f=="object"})(u)&&(c=r.getInternalMethods().reset(i),Object.keys(n.builder).forEach(f=>{c.option(f,u[f])}));return this.parseAndUpdateUsage(e,n,c,s,a,o)}parseAndUpdateUsage(e,n,r,i,s,a){e&&r.getInternalMethods().getUsageInstance().unfreeze(),this.shouldUpdateUsage(r)&&r.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(i,n),n.description);let o=r.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,s,a);return Gt(o)?o.then(l=>({aliases:r.parsed.aliases,innerArgv:l})):{aliases:r.parsed.aliases,innerArgv:o}}shouldUpdateUsage(e){return!e.getInternalMethods().getUsageInstance().getUsageDisabled()&&e.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(e,n){let r=ko.test(n.original)?n.original.replace(ko,"").trim():n.original,i=e.filter(s=>!ko.test(s));return i.push(r),`$0 ${i.join(" ")}`}applyMiddlewareAndGetResult(e,n,r,i,s,a,o){let l={};if(s)return r;o.getInternalMethods().getHasOutput()||(l=this.populatePositionals(n,r,i,o));let u=this.globalMiddleware.getMiddleware().slice(0).concat(n.middlewares);if(r=au(r,o,u,!0),!o.getInternalMethods().getHasOutput()){let c=o.getInternalMethods().runValidation(a,l,o.parsed.error,e);r=ou(r,f=>(c(f),f))}if(n.handler&&!o.getInternalMethods().getHasOutput()){o.getInternalMethods().setHasOutput();let c=!!o.getOptions().configuration["populate--"];o.getInternalMethods().postProcess(r,c,!1,!1),r=ou(r=au(r,o,u,!1),f=>{let m=n.handler(f);return Gt(m)?m.then(()=>f):f}),e||o.getInternalMethods().getUsageInstance().cacheHelpMessage(),Gt(r)&&!o.getInternalMethods().hasParseCallback()&&r.catch(f=>{try{o.getInternalMethods().getUsageInstance().fail(null,f)}catch{}})}return e||(i.commands.pop(),i.fullCommands.pop()),r}populatePositionals(e,n,r,i){n._=n._.slice(r.commands.length);let s=e.demanded.slice(0),a=e.optional.slice(0),o={};for(this.validation.positionalCount(s.length,n._.length);s.length;){let l=s.shift();this.populatePositional(l,n,o)}for(;a.length;){let l=a.shift();this.populatePositional(l,n,o)}return n._=r.commands.concat(n._.map(l=>""+l)),this.postProcessPositionals(n,o,this.cmdToParseOptions(e.original),i),o}populatePositional(e,n,r){let i=e.cmd[0];e.variadic?r[i]=n._.splice(0).map(String):n._.length&&(r[i]=[String(n._.shift())])}cmdToParseOptions(e){let n={array:[],default:{},alias:{},demand:{}},r=Fo(e);return r.demanded.forEach(i=>{let[s,...a]=i.cmd;i.variadic&&(n.array.push(s),n.default[s]=[]),n.alias[s]=a,n.demand[s]=!0}),r.optional.forEach(i=>{let[s,...a]=i.cmd;i.variadic&&(n.array.push(s),n.default[s]=[]),n.alias[s]=a}),n}postProcessPositionals(e,n,r,i){let s=Object.assign({},i.getOptions());s.default=Object.assign(r.default,s.default);for(let u of Object.keys(r.alias))s.alias[u]=(s.alias[u]||[]).concat(r.alias[u]);s.array=s.array.concat(r.array),s.config={};let a=[];if(Object.keys(n).forEach(u=>{n[u].map(c=>{s.configuration["unknown-options-as-args"]&&(s.key[u]=!0),a.push(`--${u}`),a.push(c)})}),!a.length)return;let o=Object.assign({},s.configuration,{"populate--":!1}),l=this.shim.Parser.detailed(a,Object.assign({},s,{configuration:o}));if(l.error)i.getInternalMethods().getUsageInstance().fail(l.error.message,l.error);else{let u=Object.keys(n);Object.keys(n).forEach(f=>{u.push(...l.aliases[f])});let c=i.getOptions().default;Object.keys(l.argv).forEach(f=>{u.includes(f)&&(n[f]||(n[f]=l.argv[f]),!Object.prototype.hasOwnProperty.call(c,f)&&Object.prototype.hasOwnProperty.call(e,f)&&Object.prototype.hasOwnProperty.call(l.argv,f)&&(Array.isArray(e[f])||Array.isArray(l.argv[f]))?e[f]=[].concat(e[f],l.argv[f]):e[f]=l.argv[f])})}}runDefaultBuilderOn(e){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(e)){let r=ko.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");e.getInternalMethods().getUsageInstance().usage(r,this.defaultCommand.description)}let n=this.defaultCommand.builder;if(Um(n))return n(e,!0);SE(n)||Object.keys(n).forEach(r=>{e.option(r,n[r])})}moduleName(e){let n=function(r){if(typeof require=="undefined")return null;for(let i,s=0,a=Object.keys(require.cache);s<a.length;s++)if(i=require.cache[a[s]],i.exports===r)return i;return null}(e);if(!n)throw new Error(`No command name given for module: ${this.shim.inspect(e)}`);return this.commandFromFilename(n.filename)}commandFromFilename(e){return this.shim.path.basename(e,this.shim.path.extname(e))}extractDesc({describe:e,description:n,desc:r}){for(let i of[e,n,r]){if(typeof i=="string"||i===!1)return i;ui(i,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){let e=this.frozens.pop();ui(e,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=e}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}};function SE(t){return typeof t=="object"&&!!t.builder&&typeof t.handler=="function"}function Um(t){return typeof t=="function"}function lu(t){typeof process!="undefined"&&[process.stdout,process.stderr].forEach(e=>{let n=e;n._handle&&n.isTTY&&typeof n._handle.setBlocking=="function"&&n._handle.setBlocking(t)})}function B2(t){return typeof t=="boolean"}function V2(t,e){let n=e.y18n.__,r={},i=[];r.failFn=function(j){i.push(j)};let s=null,a=!0;r.showHelpOnFail=function(j=!0,X){let[Z,Te]=typeof j=="string"?[!0,j]:[j,X];return s=Te,a=Z,r};let o=!1;r.fail=function(j,X){let Z=t.getInternalMethods().getLoggerInstance();if(!i.length){if(t.getExitProcess()&&lu(!0),o||(o=!0,a&&(t.showHelp("error"),Z.error()),(j||X)&&Z.error(j||X),s&&((j||X)&&Z.error(""),Z.error(s))),X=X||new Qt(j),t.getExitProcess())return t.exit(1);if(t.getInternalMethods().hasParseCallback())return t.exit(1,X);throw X}for(let Te=i.length-1;Te>=0;--Te){let we=i[Te];if(B2(we)){if(X)throw X;if(j)throw Error(j)}else we(j,X,r)}};let l=[],u=!1;r.usage=(j,X)=>j===null?(u=!0,l=[],r):(u=!1,l.push([j,X||""]),r),r.getUsage=()=>l,r.getUsageDisabled=()=>u,r.getPositionalGroupName=()=>n("Positionals:");let c=[];r.example=(j,X)=>{c.push([j,X||""])};let f=[];r.command=function(j,X,Z,Te,we=!1){Z&&(f=f.map(Le=>(Le[2]=!1,Le))),f.push([j,X||"",Z,Te,we])},r.getCommands=()=>f;let m={};r.describe=function(j,X){Array.isArray(j)?j.forEach(Z=>{r.describe(Z,X)}):typeof j=="object"?Object.keys(j).forEach(Z=>{r.describe(Z,j[Z])}):m[j]=X},r.getDescriptions=()=>m;let g=[];r.epilog=j=>{g.push(j)};let p,d=!1;function h(){return d||(p=function(){let j=80;return e.process.stdColumns?Math.min(j,e.process.stdColumns):j}(),d=!0),p}r.wrap=j=>{d=!0,p=j};let y="__yargsString__:";function b(j,X,Z){let Te=0;return Array.isArray(j)||(j=Object.values(j).map(we=>[we])),j.forEach(we=>{Te=Math.max(e.stringWidth(Z?`${Z} ${zf(we[0])}`:zf(we[0]))+IE(we[0]),Te)}),X&&(Te=Math.min(Te,parseInt((.5*X).toString(),10))),Te}let N;function _(j){return t.getOptions().hiddenOptions.indexOf(j)<0||t.parsed.argv[t.getOptions().showHiddenOpt]}function w(j,X){let Z=`[${n("default:")} `;if(j===void 0&&!X)return null;if(X)Z+=X;else switch(typeof j){case"string":Z+=`"${j}"`;break;case"object":Z+=JSON.stringify(j);break;default:Z+=j}return`${Z}]`}r.deferY18nLookup=j=>y+j,r.help=function(){if(N)return N;(function(){let ce=t.getDemandedOptions(),Ie=t.getOptions();(Object.keys(Ie.alias)||[]).forEach(Ge=>{Ie.alias[Ge].forEach(K=>{m[K]&&r.describe(Ge,m[K]),K in ce&&t.demandOption(Ge,ce[K]),Ie.boolean.includes(K)&&t.boolean(Ge),Ie.count.includes(K)&&t.count(Ge),Ie.string.includes(K)&&t.string(Ge),Ie.normalize.includes(K)&&t.normalize(Ge),Ie.array.includes(K)&&t.array(Ge),Ie.number.includes(K)&&t.number(Ge)})})})();let j=t.customScriptName?t.$0:e.path.basename(t.$0),X=t.getDemandedOptions(),Z=t.getDemandedCommands(),Te=t.getDeprecatedOptions(),we=t.getGroups(),Le=t.getOptions(),qe=[];qe=qe.concat(Object.keys(m)),qe=qe.concat(Object.keys(X)),qe=qe.concat(Object.keys(Z)),qe=qe.concat(Object.keys(Le.default)),qe=qe.filter(_),qe=Object.keys(qe.reduce((ce,Ie)=>(Ie!=="_"&&(ce[Ie]=!0),ce),{}));let ae=h(),Pe=e.cliui({width:ae,wrap:!!ae});if(!u){if(l.length)l.forEach(ce=>{Pe.div({text:`${ce[0].replace(/\$0/g,j)}`}),ce[1]&&Pe.div({text:`${ce[1]}`,padding:[1,0,0,0]})}),Pe.div();else if(f.length){let ce=null;ce=Z._?`${j} <${n("command")}>
`:`${j} [${n("command")}]
`,Pe.div(`${ce}`)}}if(f.length>1||f.length===1&&!f[0][2]){Pe.div(n("Commands:"));let ce=t.getInternalMethods().getContext(),Ie=ce.commands.length?`${ce.commands.join(" ")} `:"";t.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(f=f.sort((K,pt)=>K[0].localeCompare(pt[0])));let Ge=j?`${j} `:"";f.forEach(K=>{let pt=`${Ge}${Ie}${K[0].replace(/^\$0 ?/,"")}`;Pe.span({text:pt,padding:[0,2,0,2],width:b(f,ae,`${j}${Ie}`)+4},{text:K[1]});let st=[];K[2]&&st.push(`[${n("default")}]`),K[3]&&K[3].length&&st.push(`[${n("aliases:")} ${K[3].join(", ")}]`),K[4]&&(typeof K[4]=="string"?st.push(`[${n("deprecated: %s",K[4])}]`):st.push(`[${n("deprecated")}]`)),st.length?Pe.div({text:st.join(" "),padding:[0,0,0,2],align:"right"}):Pe.div()}),Pe.div()}let ct=(Object.keys(Le.alias)||[]).concat(Object.keys(t.parsed.newAliases)||[]);qe=qe.filter(ce=>!t.parsed.newAliases[ce]&&ct.every(Ie=>(Le.alias[Ie]||[]).indexOf(ce)===-1));let Jt=n("Options:");we[Jt]||(we[Jt]=[]),function(ce,Ie,Ge,K){let pt=[],st=null;Object.keys(Ge).forEach(Dt=>{pt=pt.concat(Ge[Dt])}),ce.forEach(Dt=>{st=[Dt].concat(Ie[Dt]),st.some(vn=>pt.indexOf(vn)!==-1)||Ge[K].push(Dt)})}(qe,Le.alias,we,Jt);let Je=ce=>/^--/.test(zf(ce)),ft=Object.keys(we).filter(ce=>we[ce].length>0).map(ce=>({groupName:ce,normalizedKeys:we[ce].filter(_).map(Ie=>{if(ct.includes(Ie))return Ie;for(let Ge,K=0;(Ge=ct[K])!==void 0;K++)if((Le.alias[Ge]||[]).includes(Ie))return Ge;return Ie})})).filter(({normalizedKeys:ce})=>ce.length>0).map(({groupName:ce,normalizedKeys:Ie})=>{let Ge=Ie.reduce((K,pt)=>(K[pt]=[pt].concat(Le.alias[pt]||[]).map(st=>ce===r.getPositionalGroupName()?st:(/^[0-9]$/.test(st)?Le.boolean.includes(pt)?"-":"--":st.length>1?"--":"-")+st).sort((st,Dt)=>Je(st)===Je(Dt)?0:Je(st)?1:-1).join(", "),K),{});return{groupName:ce,normalizedKeys:Ie,switches:Ge}});if(ft.filter(({groupName:ce})=>ce!==r.getPositionalGroupName()).some(({normalizedKeys:ce,switches:Ie})=>!ce.every(Ge=>Je(Ie[Ge])))&&ft.filter(({groupName:ce})=>ce!==r.getPositionalGroupName()).forEach(({normalizedKeys:ce,switches:Ie})=>{ce.forEach(Ge=>{var K,pt;Je(Ie[Ge])&&(Ie[Ge]=(K=Ie[Ge],pt="-x, ".length,Wm(K)?{text:K.text,indentation:K.indentation+pt}:{text:K,indentation:pt}))})}),ft.forEach(({groupName:ce,normalizedKeys:Ie,switches:Ge})=>{Pe.div(ce),Ie.forEach(K=>{let pt=Ge[K],st=m[K]||"",Dt=null;st.includes(y)&&(st=n(st.substring(y.length))),Le.boolean.includes(K)&&(Dt=`[${n("boolean")}]`),Le.count.includes(K)&&(Dt=`[${n("count")}]`),Le.string.includes(K)&&(Dt=`[${n("string")}]`),Le.normalize.includes(K)&&(Dt=`[${n("string")}]`),Le.array.includes(K)&&(Dt=`[${n("array")}]`),Le.number.includes(K)&&(Dt=`[${n("number")}]`);let vn=[K in Te?(Di=Te[K],typeof Di=="string"?`[${n("deprecated: %s",Di)}]`:`[${n("deprecated")}]`):null,Dt,K in X?`[${n("required")}]`:null,Le.choices&&Le.choices[K]?`[${n("choices:")} ${r.stringifiedValues(Le.choices[K])}]`:null,w(Le.default[K],Le.defaultDescription[K])].filter(Boolean).join(" ");var Di;Pe.span({text:zf(pt),padding:[0,2,0,2+IE(pt)],width:b(Ge,ae)+4},st),vn?Pe.div({text:vn,padding:[0,0,0,2],align:"right"}):Pe.div()}),Pe.div()}),c.length&&(Pe.div(n("Examples:")),c.forEach(ce=>{ce[0]=ce[0].replace(/\$0/g,j)}),c.forEach(ce=>{ce[1]===""?Pe.div({text:ce[0],padding:[0,2,0,2]}):Pe.div({text:ce[0],padding:[0,2,0,2],width:b(c,ae)+4},{text:ce[1]})}),Pe.div()),g.length>0){let ce=g.map(Ie=>Ie.replace(/\$0/g,j)).join(`
`);Pe.div(`${ce}
`)}return Pe.toString().replace(/\s*$/,"")},r.cacheHelpMessage=function(){N=this.help()},r.clearCachedHelpMessage=function(){N=void 0},r.hasCachedHelpMessage=function(){return!!N},r.showHelp=j=>{let X=t.getInternalMethods().getLoggerInstance();j||(j="error"),(typeof j=="function"?j:X[j])(r.help())},r.functionDescription=j=>["(",j.name?e.Parser.decamelize(j.name,"-"):n("generated-value"),")"].join(""),r.stringifiedValues=function(j,X){let Z="",Te=X||", ",we=[].concat(j);return j&&we.length&&we.forEach(Le=>{Z.length&&(Z+=Te),Z+=JSON.stringify(Le)}),Z};let te=null;r.version=j=>{te=j},r.showVersion=j=>{let X=t.getInternalMethods().getLoggerInstance();j||(j="error"),(typeof j=="function"?j:X[j])(te)},r.reset=function(j){return s=null,o=!1,l=[],u=!1,g=[],c=[],f=[],m=Mo(m,X=>!j[X]),r};let H=[];return r.freeze=function(){H.push({failMessage:s,failureOutput:o,usages:l,usageDisabled:u,epilogs:g,examples:c,commands:f,descriptions:m})},r.unfreeze=function(){let j=H.pop();j&&({failMessage:s,failureOutput:o,usages:l,usageDisabled:u,epilogs:g,examples:c,commands:f,descriptions:m}=j)},r}function Wm(t){return typeof t=="object"}function IE(t){return Wm(t)?t.indentation:0}function zf(t){return Wm(t)?t.text:t}var DE=class{constructor(e,n,r,i){var s,a,o;this.yargs=e,this.usage=n,this.command=r,this.shim=i,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.zshShell=(o=((s=this.shim.getEnv("SHELL"))===null||s===void 0?void 0:s.includes("zsh"))||((a=this.shim.getEnv("ZSH_NAME"))===null||a===void 0?void 0:a.includes("zsh")))!==null&&o!==void 0&&o}defaultCompletion(e,n,r,i){let s=this.command.getCommandHandlers();for(let o=0,l=e.length;o<l;++o)if(s[e[o]]&&s[e[o]].builder){let u=s[e[o]].builder;if(Um(u)){let c=this.yargs.getInternalMethods().reset();return u(c,!0),c.argv}}let a=[];this.commandCompletions(a,e,r),this.optionCompletions(a,e,n,r),this.choicesCompletions(a,e,n,r),i(null,a)}commandCompletions(e,n,r){let i=this.yargs.getInternalMethods().getContext().commands;r.match(/^-/)||i[i.length-1]===r||this.previousArgHasChoices(n)||this.usage.getCommands().forEach(s=>{let a=Fo(s[0]).cmd;if(n.indexOf(a)===-1)if(this.zshShell){let o=s[1]||"";e.push(a.replace(/:/g,"\\:")+":"+o)}else e.push(a)})}optionCompletions(e,n,r,i){if((i.match(/^-/)||i===""&&e.length===0)&&!this.previousArgHasChoices(n)){let s=this.yargs.getOptions(),a=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(s.key).forEach(o=>{let l=!!s.configuration["boolean-negation"]&&s.boolean.includes(o);a.includes(o)||this.argsContainKey(n,r,o,l)||(this.completeOptionKey(o,e,i),l&&s.default[o]&&this.completeOptionKey(`no-${o}`,e,i))})}}choicesCompletions(e,n,r,i){if(this.previousArgHasChoices(n)){let s=this.getPreviousArgChoices(n);s&&s.length>0&&e.push(...s)}}getPreviousArgChoices(e){if(e.length<1)return;let n=e[e.length-1],r="";if(!n.startsWith("--")&&e.length>1&&(r=n,n=e[e.length-2]),!n.startsWith("--"))return;let i=n.replace(/-/g,""),s=this.yargs.getOptions();return Object.keys(s.key).some(a=>a===i)&&Array.isArray(s.choices[i])?s.choices[i].filter(a=>!r||a.startsWith(r)):void 0}previousArgHasChoices(e){let n=this.getPreviousArgChoices(e);return n!==void 0&&n.length>0}argsContainKey(e,n,r,i){if(e.indexOf(`--${r}`)!==-1||i&&e.indexOf(`--no-${r}`)!==-1)return!0;if(this.aliases){for(let s of this.aliases[r])if(n[s]!==void 0)return!0}return!1}completeOptionKey(e,n,r){let i=this.usage.getDescriptions(),s=!/^--/.test(r)&&(a=>/^[^0-9]$/.test(a))(e)?"-":"--";if(this.zshShell){let a=i[e]||"";n.push(s+`${e.replace(/:/g,"\\:")}:${a.replace("__yargsString__:","")}`)}else n.push(s+e)}customCompletion(e,n,r,i){if(ui(this.customCompletionFunction,null,this.shim),this.customCompletionFunction.length<3){let s=this.customCompletionFunction(r,n);return Gt(s)?s.then(a=>{this.shim.process.nextTick(()=>{i(null,a)})}).catch(a=>{this.shim.process.nextTick(()=>{i(a,void 0)})}):i(null,s)}return function(s){return s.length>3}(this.customCompletionFunction)?this.customCompletionFunction(r,n,(s=i)=>this.defaultCompletion(e,n,r,s),s=>{i(null,s)}):this.customCompletionFunction(r,n,s=>{i(null,s)})}getCompletion(e,n){let r=e.length?e[e.length-1]:"",i=this.yargs.parse(e,!0),s=this.customCompletionFunction?a=>this.customCompletion(e,a,r,n):a=>this.defaultCompletion(e,a,r,n);return Gt(i)?i.then(s):s(i)}generateCompletionScript(e,n){let r=this.zshShell?`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zsh_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`:`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,i=this.shim.path.basename(e);return e.match(/\.js$/)&&(e=`./${e}`),r=r.replace(/{{app_name}}/g,i),r=r.replace(/{{completion_command}}/g,n),r.replace(/{{app_path}}/g,e)}registerFunction(e){this.customCompletionFunction=e}setParsed(e){this.aliases=e.aliases}};function j2(t,e){if(t.length===0)return e.length;if(e.length===0)return t.length;let n=[],r,i;for(r=0;r<=e.length;r++)n[r]=[r];for(i=0;i<=t.length;i++)n[0][i]=i;for(r=1;r<=e.length;r++)for(i=1;i<=t.length;i++)e.charAt(r-1)===t.charAt(i-1)?n[r][i]=n[r-1][i-1]:r>1&&i>1&&e.charAt(r-2)===t.charAt(i-1)&&e.charAt(r-1)===t.charAt(i-2)?n[r][i]=n[r-2][i-2]+1:n[r][i]=Math.min(n[r-1][i-1]+1,Math.min(n[r][i-1]+1,n[r-1][i]+1));return n[e.length][t.length]}var RE=["$0","--","_"],Ft,ha,uu,Ir,sr,Xf,ws,ma,Qf,Dr,Jf,Rr,Si,ar,xr,qo,on,ge,Zf,ep,or,ga,Bo,_a,Os,tp,Ee,ya,ba,Ta,Oe,Ii,It,xE=Symbol("copyDoubleDash"),wE=Symbol("copyDoubleDash"),Gm=Symbol("deleteFromParserHintObject"),OE=Symbol("emitWarning"),LE=Symbol("freeze"),FE=Symbol("getDollarZero"),va=Symbol("getParserConfiguration"),Ym=Symbol("guessLocale"),ME=Symbol("guessVersion"),kE=Symbol("parsePositionalNumbers"),Hm=Symbol("pkgUp"),Ls=Symbol("populateParserHintArray"),Vo=Symbol("populateParserHintSingleValueDictionary"),$m=Symbol("populateParserHintArrayDictionary"),Km=Symbol("populateParserHintDictionary"),zm=Symbol("sanitizeKey"),Xm=Symbol("setKey"),Qm=Symbol("unfreeze"),qE=Symbol("validateAsync"),BE=Symbol("getCommandInstance"),VE=Symbol("getContext"),jE=Symbol("getHasOutput"),UE=Symbol("getLoggerInstance"),WE=Symbol("getParseContext"),GE=Symbol("getUsageInstance"),YE=Symbol("getValidationInstance"),np=Symbol("hasParseCallback"),Na=Symbol("postProcess"),HE=Symbol("rebase"),Jm=Symbol("reset"),cu=Symbol("runYargsParserAndExecuteCommands"),Zm=Symbol("runValidation"),$E=Symbol("setHasOutput"),Ca=Symbol("kTrackManuallySetKeys"),KE=class{constructor(e=[],n,r,i){this.customScriptName=!1,this.parsed=!1,Ft.set(this,void 0),ha.set(this,void 0),uu.set(this,{commands:[],fullCommands:[]}),Ir.set(this,null),sr.set(this,null),Xf.set(this,"show-hidden"),ws.set(this,null),ma.set(this,!0),Qf.set(this,{}),Dr.set(this,!0),Jf.set(this,[]),Rr.set(this,void 0),Si.set(this,{}),ar.set(this,!1),xr.set(this,null),qo.set(this,void 0),on.set(this,""),ge.set(this,void 0),Zf.set(this,void 0),ep.set(this,{}),or.set(this,null),ga.set(this,null),Bo.set(this,{}),_a.set(this,{}),Os.set(this,void 0),tp.set(this,!1),Ee.set(this,void 0),ya.set(this,!1),ba.set(this,!1),Ta.set(this,!1),Oe.set(this,void 0),Ii.set(this,null),It.set(this,void 0),pe(this,Ee,i,"f"),pe(this,Os,e,"f"),pe(this,ha,n,"f"),pe(this,Zf,r,"f"),pe(this,Rr,new EE(this),"f"),this.$0=this[FE](),this[Jm](),pe(this,Ft,C(this,Ft,"f"),"f"),pe(this,Oe,C(this,Oe,"f"),"f"),pe(this,It,C(this,It,"f"),"f"),pe(this,ge,C(this,ge,"f"),"f"),C(this,ge,"f").showHiddenOpt=C(this,Xf,"f"),pe(this,qo,this[wE](),"f")}addHelpOpt(e,n){return fe("[string|boolean] [string]",[e,n],arguments.length),C(this,xr,"f")&&(this[Gm](C(this,xr,"f")),pe(this,xr,null,"f")),e===!1&&n===void 0||(pe(this,xr,typeof e=="string"?e:"help","f"),this.boolean(C(this,xr,"f")),this.describe(C(this,xr,"f"),n||C(this,Oe,"f").deferY18nLookup("Show help"))),this}help(e,n){return this.addHelpOpt(e,n)}addShowHiddenOpt(e,n){if(fe("[string|boolean] [string]",[e,n],arguments.length),e===!1&&n===void 0)return this;let r=typeof e=="string"?e:C(this,Xf,"f");return this.boolean(r),this.describe(r,n||C(this,Oe,"f").deferY18nLookup("Show hidden options")),C(this,ge,"f").showHiddenOpt=r,this}showHidden(e,n){return this.addShowHiddenOpt(e,n)}alias(e,n){return fe("<object|string|array> [string|array]",[e,n],arguments.length),this[$m](this.alias.bind(this),"alias",e,n),this}array(e){return fe("<array|string>",[e],arguments.length),this[Ls]("array",e),this[Ca](e),this}boolean(e){return fe("<array|string>",[e],arguments.length),this[Ls]("boolean",e),this[Ca](e),this}check(e,n){return fe("<function> [boolean]",[e,n],arguments.length),this.middleware((r,i)=>ou(()=>e(r,i.getOptions()),s=>(s?(typeof s=="string"||s instanceof Error)&&C(this,Oe,"f").fail(s.toString(),s):C(this,Oe,"f").fail(C(this,Ee,"f").y18n.__("Argument check failed: %s",e.toString())),r),s=>(C(this,Oe,"f").fail(s.message?s.message:s.toString(),s),r)),!1,n),this}choices(e,n){return fe("<object|string|array> [string|array]",[e,n],arguments.length),this[$m](this.choices.bind(this),"choices",e,n),this}coerce(e,n){if(fe("<object|string|array> [function]",[e,n],arguments.length),Array.isArray(e)){if(!n)throw new Qt("coerce callback must be provided");for(let r of e)this.coerce(r,n);return this}if(typeof e=="object"){for(let r of Object.keys(e))this.coerce(r,e[r]);return this}if(!n)throw new Qt("coerce callback must be provided");return C(this,ge,"f").key[e]=!0,C(this,Rr,"f").addCoerceMiddleware((r,i)=>{let s;return ou(()=>(s=i.getAliases(),n(r[e])),a=>{if(r[e]=a,s[e])for(let o of s[e])r[o]=a;return r},a=>{throw new Qt(a.message)})},e),this}conflicts(e,n){return fe("<string|object> [string|array]",[e,n],arguments.length),C(this,It,"f").conflicts(e,n),this}config(e="config",n,r){return fe("[object|string] [string|function] [function]",[e,n,r],arguments.length),typeof e!="object"||Array.isArray(e)?(typeof n=="function"&&(r=n,n=void 0),this.describe(e,n||C(this,Oe,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(e)?e:[e]).forEach(i=>{C(this,ge,"f").config[i]=r||!0}),this):(e=$f(e,C(this,ha,"f"),this[va]()["deep-merge-config"]||!1,C(this,Ee,"f")),C(this,ge,"f").configObjects=(C(this,ge,"f").configObjects||[]).concat(e),this)}completion(e,n,r){return fe("[string] [string|boolean|function] [function]",[e,n,r],arguments.length),typeof n=="function"&&(r=n,n=void 0),pe(this,sr,e||C(this,sr,"f")||"completion","f"),n||n===!1||(n="generate completion script"),this.command(C(this,sr,"f"),n),r&&C(this,Ir,"f").registerFunction(r),this}command(e,n,r,i,s,a){return fe("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[e,n,r,i,s,a],arguments.length),C(this,Ft,"f").addHandler(e,n,r,i,s,a),this}commands(e,n,r,i,s,a){return this.command(e,n,r,i,s,a)}commandDir(e,n){fe("<string> [object]",[e,n],arguments.length);let r=C(this,Zf,"f")||C(this,Ee,"f").require;return C(this,Ft,"f").addDirectory(e,r,C(this,Ee,"f").getCallerFile(),n),this}count(e){return fe("<array|string>",[e],arguments.length),this[Ls]("count",e),this[Ca](e),this}default(e,n,r){return fe("<object|string|array> [*] [string]",[e,n,r],arguments.length),r&&(NE(e,C(this,Ee,"f")),C(this,ge,"f").defaultDescription[e]=r),typeof n=="function"&&(NE(e,C(this,Ee,"f")),C(this,ge,"f").defaultDescription[e]||(C(this,ge,"f").defaultDescription[e]=C(this,Oe,"f").functionDescription(n)),n=n.call()),this[Vo](this.default.bind(this),"default",e,n),this}defaults(e,n,r){return this.default(e,n,r)}demandCommand(e=1,n,r,i){return fe("[number] [number|string] [string|null|undefined] [string|null|undefined]",[e,n,r,i],arguments.length),typeof n!="number"&&(r=n,n=1/0),this.global("_",!1),C(this,ge,"f").demandedCommands._={min:e,max:n,minMsg:r,maxMsg:i},this}demand(e,n,r){return Array.isArray(n)?(n.forEach(i=>{ui(r,!0,C(this,Ee,"f")),this.demandOption(i,r)}),n=1/0):typeof n!="number"&&(r=n,n=1/0),typeof e=="number"?(ui(r,!0,C(this,Ee,"f")),this.demandCommand(e,n,r,r)):Array.isArray(e)?e.forEach(i=>{ui(r,!0,C(this,Ee,"f")),this.demandOption(i,r)}):typeof r=="string"?this.demandOption(e,r):r!==!0&&r!==void 0||this.demandOption(e),this}demandOption(e,n){return fe("<object|string|array> [string]",[e,n],arguments.length),this[Vo](this.demandOption.bind(this),"demandedOptions",e,n),this}deprecateOption(e,n){return fe("<string> [string|boolean]",[e,n],arguments.length),C(this,ge,"f").deprecatedOptions[e]=n,this}describe(e,n){return fe("<object|string|array> [string]",[e,n],arguments.length),this[Xm](e,!0),C(this,Oe,"f").describe(e,n),this}detectLocale(e){return fe("<boolean>",[e],arguments.length),pe(this,ma,e,"f"),this}env(e){return fe("[string|boolean]",[e],arguments.length),e===!1?delete C(this,ge,"f").envPrefix:C(this,ge,"f").envPrefix=e||"",this}epilogue(e){return fe("<string>",[e],arguments.length),C(this,Oe,"f").epilog(e),this}epilog(e){return this.epilogue(e)}example(e,n){return fe("<string|array> [string]",[e,n],arguments.length),Array.isArray(e)?e.forEach(r=>this.example(...r)):C(this,Oe,"f").example(e,n),this}exit(e,n){pe(this,ar,!0,"f"),pe(this,ws,n,"f"),C(this,Dr,"f")&&C(this,Ee,"f").process.exit(e)}exitProcess(e=!0){return fe("[boolean]",[e],arguments.length),pe(this,Dr,e,"f"),this}fail(e){if(fe("<function|boolean>",[e],arguments.length),typeof e=="boolean"&&e!==!1)throw new Qt("Invalid first argument. Expected function or boolean 'false'");return C(this,Oe,"f").failFn(e),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(e,n){return fe("<array> [function]",[e,n],arguments.length),n?C(this,Ir,"f").getCompletion(e,n):new Promise((r,i)=>{C(this,Ir,"f").getCompletion(e,(s,a)=>{s?i(s):r(a)})})}getDemandedOptions(){return fe([],0),C(this,ge,"f").demandedOptions}getDemandedCommands(){return fe([],0),C(this,ge,"f").demandedCommands}getDeprecatedOptions(){return fe([],0),C(this,ge,"f").deprecatedOptions}getDetectLocale(){return C(this,ma,"f")}getExitProcess(){return C(this,Dr,"f")}getGroups(){return Object.assign({},C(this,Si,"f"),C(this,_a,"f"))}getHelp(){if(pe(this,ar,!0,"f"),!C(this,Oe,"f").hasCachedHelpMessage()){if(!this.parsed){let n=this[cu](C(this,Os,"f"),void 0,void 0,0,!0);if(Gt(n))return n.then(()=>C(this,Oe,"f").help())}let e=C(this,Ft,"f").runDefaultBuilderOn(this);if(Gt(e))return e.then(()=>C(this,Oe,"f").help())}return Promise.resolve(C(this,Oe,"f").help())}getOptions(){return C(this,ge,"f")}getStrict(){return C(this,ya,"f")}getStrictCommands(){return C(this,ba,"f")}getStrictOptions(){return C(this,Ta,"f")}global(e,n){return fe("<string|array> [boolean]",[e,n],arguments.length),e=[].concat(e),n!==!1?C(this,ge,"f").local=C(this,ge,"f").local.filter(r=>e.indexOf(r)===-1):e.forEach(r=>{C(this,ge,"f").local.includes(r)||C(this,ge,"f").local.push(r)}),this}group(e,n){fe("<string|array> <string>",[e,n],arguments.length);let r=C(this,_a,"f")[n]||C(this,Si,"f")[n];C(this,_a,"f")[n]&&delete C(this,_a,"f")[n];let i={};return C(this,Si,"f")[n]=(r||[]).concat(e).filter(s=>!i[s]&&(i[s]=!0)),this}hide(e){return fe("<string>",[e],arguments.length),C(this,ge,"f").hiddenOptions.push(e),this}implies(e,n){return fe("<string|object> [number|string|array]",[e,n],arguments.length),C(this,It,"f").implies(e,n),this}locale(e){return fe("[string]",[e],arguments.length),e?(pe(this,ma,!1,"f"),C(this,Ee,"f").y18n.setLocale(e),this):(this[Ym](),C(this,Ee,"f").y18n.getLocale())}middleware(e,n,r){return C(this,Rr,"f").addMiddleware(e,!!n,r)}nargs(e,n){return fe("<string|object|array> [number]",[e,n],arguments.length),this[Vo](this.nargs.bind(this),"narg",e,n),this}normalize(e){return fe("<array|string>",[e],arguments.length),this[Ls]("normalize",e),this}number(e){return fe("<array|string>",[e],arguments.length),this[Ls]("number",e),this[Ca](e),this}option(e,n){if(fe("<string|object> [object]",[e,n],arguments.length),typeof e=="object")Object.keys(e).forEach(r=>{this.options(r,e[r])});else{typeof n!="object"&&(n={}),this[Ca](e),!C(this,Ii,"f")||e!=="version"&&(n==null?void 0:n.alias)!=="version"||this[OE](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),C(this,ge,"f").key[e]=!0,n.alias&&this.alias(e,n.alias);let r=n.deprecate||n.deprecated;r&&this.deprecateOption(e,r);let i=n.demand||n.required||n.require;i&&this.demand(e,i),n.demandOption&&this.demandOption(e,typeof n.demandOption=="string"?n.demandOption:void 0),n.conflicts&&this.conflicts(e,n.conflicts),"default"in n&&this.default(e,n.default),n.implies!==void 0&&this.implies(e,n.implies),n.nargs!==void 0&&this.nargs(e,n.nargs),n.config&&this.config(e,n.configParser),n.normalize&&this.normalize(e),n.choices&&this.choices(e,n.choices),n.coerce&&this.coerce(e,n.coerce),n.group&&this.group(e,n.group),(n.boolean||n.type==="boolean")&&(this.boolean(e),n.alias&&this.boolean(n.alias)),(n.array||n.type==="array")&&(this.array(e),n.alias&&this.array(n.alias)),(n.number||n.type==="number")&&(this.number(e),n.alias&&this.number(n.alias)),(n.string||n.type==="string")&&(this.string(e),n.alias&&this.string(n.alias)),(n.count||n.type==="count")&&this.count(e),typeof n.global=="boolean"&&this.global(e,n.global),n.defaultDescription&&(C(this,ge,"f").defaultDescription[e]=n.defaultDescription),n.skipValidation&&this.skipValidation(e);let s=n.describe||n.description||n.desc;this.describe(e,s),n.hidden&&this.hide(e),n.requiresArg&&this.requiresArg(e)}return this}options(e,n){return this.option(e,n)}parse(e,n,r){fe("[string|array] [function|boolean|object] [function]",[e,n,r],arguments.length),this[LE](),e===void 0&&(e=C(this,Os,"f")),typeof n=="object"&&(pe(this,ga,n,"f"),n=r),typeof n=="function"&&(pe(this,or,n,"f"),n=!1),n||pe(this,Os,e,"f"),C(this,or,"f")&&pe(this,Dr,!1,"f");let i=this[cu](e,!!n),s=this.parsed;return C(this,Ir,"f").setParsed(this.parsed),Gt(i)?i.then(a=>(C(this,or,"f")&&C(this,or,"f").call(this,C(this,ws,"f"),a,C(this,on,"f")),a)).catch(a=>{throw C(this,or,"f")&&C(this,or,"f")(a,this.parsed.argv,C(this,on,"f")),a}).finally(()=>{this[Qm](),this.parsed=s}):(C(this,or,"f")&&C(this,or,"f").call(this,C(this,ws,"f"),i,C(this,on,"f")),this[Qm](),this.parsed=s,i)}parseAsync(e,n,r){let i=this.parse(e,n,r);return Gt(i)?i:Promise.resolve(i)}parseSync(e,n,r){let i=this.parse(e,n,r);if(Gt(i))throw new Qt(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return i}parserConfiguration(e){return fe("<object>",[e],arguments.length),pe(this,ep,e,"f"),this}pkgConf(e,n){fe("<string> [string]",[e,n],arguments.length);let r=null,i=this[Hm](n||C(this,ha,"f"));return i[e]&&typeof i[e]=="object"&&(r=$f(i[e],n||C(this,ha,"f"),this[va]()["deep-merge-config"]||!1,C(this,Ee,"f")),C(this,ge,"f").configObjects=(C(this,ge,"f").configObjects||[]).concat(r)),this}positional(e,n){fe("<string> <object>",[e,n],arguments.length);let r=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];n=Mo(n,(a,o)=>!(a==="type"&&!["string","number","boolean"].includes(o))&&r.includes(a));let i=C(this,uu,"f").fullCommands[C(this,uu,"f").fullCommands.length-1],s=i?C(this,Ft,"f").cmdToParseOptions(i):{array:[],alias:{},default:{},demand:{}};return Kf(s).forEach(a=>{let o=s[a];Array.isArray(o)?o.indexOf(e)!==-1&&(n[a]=!0):o[e]&&!(a in n)&&(n[a]=o[e])}),this.group(e,C(this,Oe,"f").getPositionalGroupName()),this.option(e,n)}recommendCommands(e=!0){return fe("[boolean]",[e],arguments.length),pe(this,tp,e,"f"),this}required(e,n,r){return this.demand(e,n,r)}require(e,n,r){return this.demand(e,n,r)}requiresArg(e){return fe("<array|string|object> [number]",[e],arguments.length),typeof e=="string"&&C(this,ge,"f").narg[e]||this[Vo](this.requiresArg.bind(this),"narg",e,NaN),this}showCompletionScript(e,n){return fe("[string] [string]",[e,n],arguments.length),e=e||this.$0,C(this,qo,"f").log(C(this,Ir,"f").generateCompletionScript(e,n||C(this,sr,"f")||"completion")),this}showHelp(e){if(fe("[string|function]",[e],arguments.length),pe(this,ar,!0,"f"),!C(this,Oe,"f").hasCachedHelpMessage()){if(!this.parsed){let r=this[cu](C(this,Os,"f"),void 0,void 0,0,!0);if(Gt(r))return r.then(()=>{C(this,Oe,"f").showHelp(e)}),this}let n=C(this,Ft,"f").runDefaultBuilderOn(this);if(Gt(n))return n.then(()=>{C(this,Oe,"f").showHelp(e)}),this}return C(this,Oe,"f").showHelp(e),this}scriptName(e){return this.customScriptName=!0,this.$0=e,this}showHelpOnFail(e,n){return fe("[boolean|string] [string]",[e,n],arguments.length),C(this,Oe,"f").showHelpOnFail(e,n),this}showVersion(e){return fe("[string|function]",[e],arguments.length),C(this,Oe,"f").showVersion(e),this}skipValidation(e){return fe("<array|string>",[e],arguments.length),this[Ls]("skipValidation",e),this}strict(e){return fe("[boolean]",[e],arguments.length),pe(this,ya,e!==!1,"f"),this}strictCommands(e){return fe("[boolean]",[e],arguments.length),pe(this,ba,e!==!1,"f"),this}strictOptions(e){return fe("[boolean]",[e],arguments.length),pe(this,Ta,e!==!1,"f"),this}string(e){return fe("<array|string>",[e],arguments.length),this[Ls]("string",e),this[Ca](e),this}terminalWidth(){return fe([],0),C(this,Ee,"f").process.stdColumns}updateLocale(e){return this.updateStrings(e)}updateStrings(e){return fe("<object>",[e],arguments.length),pe(this,ma,!1,"f"),C(this,Ee,"f").y18n.updateLocale(e),this}usage(e,n,r,i){if(fe("<string|null|undefined> [string|boolean] [function|object] [function]",[e,n,r,i],arguments.length),n!==void 0){if(ui(e,null,C(this,Ee,"f")),(e||"").match(/^\$0( |$)/))return this.command(e,n,r,i);throw new Qt(".usage() description must start with $0 if being used as alias for .command()")}return C(this,Oe,"f").usage(e),this}version(e,n,r){let i="version";if(fe("[boolean|string] [string] [string]",[e,n,r],arguments.length),C(this,Ii,"f")&&(this[Gm](C(this,Ii,"f")),C(this,Oe,"f").version(void 0),pe(this,Ii,null,"f")),arguments.length===0)r=this[ME](),e=i;else if(arguments.length===1){if(e===!1)return this;r=e,e=i}else arguments.length===2&&(r=n,n=void 0);return pe(this,Ii,typeof e=="string"?e:i,"f"),n=n||C(this,Oe,"f").deferY18nLookup("Show version number"),C(this,Oe,"f").version(r||void 0),this.boolean(C(this,Ii,"f")),this.describe(C(this,Ii,"f"),n),this}wrap(e){return fe("<number|null|undefined>",[e],arguments.length),C(this,Oe,"f").wrap(e),this}[(Ft=new WeakMap,ha=new WeakMap,uu=new WeakMap,Ir=new WeakMap,sr=new WeakMap,Xf=new WeakMap,ws=new WeakMap,ma=new WeakMap,Qf=new WeakMap,Dr=new WeakMap,Jf=new WeakMap,Rr=new WeakMap,Si=new WeakMap,ar=new WeakMap,xr=new WeakMap,qo=new WeakMap,on=new WeakMap,ge=new WeakMap,Zf=new WeakMap,ep=new WeakMap,or=new WeakMap,ga=new WeakMap,Bo=new WeakMap,_a=new WeakMap,Os=new WeakMap,tp=new WeakMap,Ee=new WeakMap,ya=new WeakMap,ba=new WeakMap,Ta=new WeakMap,Oe=new WeakMap,Ii=new WeakMap,It=new WeakMap,xE)](e){if(!e._||!e["--"])return e;e._.push.apply(e._,e["--"]);try{delete e["--"]}catch{}return e}[wE](){return{log:(...e)=>{this[np]()||console.log(...e),pe(this,ar,!0,"f"),C(this,on,"f").length&&pe(this,on,C(this,on,"f")+`
`,"f"),pe(this,on,C(this,on,"f")+e.join(" "),"f")},error:(...e)=>{this[np]()||console.error(...e),pe(this,ar,!0,"f"),C(this,on,"f").length&&pe(this,on,C(this,on,"f")+`
`,"f"),pe(this,on,C(this,on,"f")+e.join(" "),"f")}}}[Gm](e){Kf(C(this,ge,"f")).forEach(n=>{if(n==="configObjects")return;let r=C(this,ge,"f")[n];Array.isArray(r)?r.includes(e)&&r.splice(r.indexOf(e),1):typeof r=="object"&&delete r[e]}),delete C(this,Oe,"f").getDescriptions()[e]}[OE](e,n,r){C(this,Qf,"f")[r]||(C(this,Ee,"f").process.emitWarning(e,n),C(this,Qf,"f")[r]=!0)}[LE](){C(this,Jf,"f").push({options:C(this,ge,"f"),configObjects:C(this,ge,"f").configObjects.slice(0),exitProcess:C(this,Dr,"f"),groups:C(this,Si,"f"),strict:C(this,ya,"f"),strictCommands:C(this,ba,"f"),strictOptions:C(this,Ta,"f"),completionCommand:C(this,sr,"f"),output:C(this,on,"f"),exitError:C(this,ws,"f"),hasOutput:C(this,ar,"f"),parsed:this.parsed,parseFn:C(this,or,"f"),parseContext:C(this,ga,"f")}),C(this,Oe,"f").freeze(),C(this,It,"f").freeze(),C(this,Ft,"f").freeze(),C(this,Rr,"f").freeze()}[FE](){let e,n="";return e=/\b(node|iojs|electron)(\.exe)?$/.test(C(this,Ee,"f").process.argv()[0])?C(this,Ee,"f").process.argv().slice(1,2):C(this,Ee,"f").process.argv().slice(0,1),n=e.map(r=>{let i=this[HE](C(this,ha,"f"),r);return r.match(/^(\/|([a-zA-Z]:)?\\)/)&&i.length<r.length?i:r}).join(" ").trim(),C(this,Ee,"f").getEnv("_")&&C(this,Ee,"f").getProcessArgvBin()===C(this,Ee,"f").getEnv("_")&&(n=C(this,Ee,"f").getEnv("_").replace(`${C(this,Ee,"f").path.dirname(C(this,Ee,"f").process.execPath())}/`,"")),n}[va](){return C(this,ep,"f")}[Ym](){if(!C(this,ma,"f"))return;let e=C(this,Ee,"f").getEnv("LC_ALL")||C(this,Ee,"f").getEnv("LC_MESSAGES")||C(this,Ee,"f").getEnv("LANG")||C(this,Ee,"f").getEnv("LANGUAGE")||"en_US";this.locale(e.replace(/[.:].*/,""))}[ME](){return this[Hm]().version||"unknown"}[kE](e){let n=e["--"]?e["--"]:e._;for(let r,i=0;(r=n[i])!==void 0;i++)C(this,Ee,"f").Parser.looksLikeNumber(r)&&Number.isSafeInteger(Math.floor(parseFloat(`${r}`)))&&(n[i]=Number(r));return e}[Hm](e){let n=e||"*";if(C(this,Bo,"f")[n])return C(this,Bo,"f")[n];let r={};try{let i=e||C(this,Ee,"f").mainFilename;!e&&C(this,Ee,"f").path.extname(i)&&(i=C(this,Ee,"f").path.dirname(i));let s=C(this,Ee,"f").findUp(i,(a,o)=>o.includes("package.json")?"package.json":void 0);ui(s,void 0,C(this,Ee,"f")),r=JSON.parse(C(this,Ee,"f").readFileSync(s,"utf8"))}catch{}return C(this,Bo,"f")[n]=r||{},C(this,Bo,"f")[n]}[Ls](e,n){(n=[].concat(n)).forEach(r=>{r=this[zm](r),C(this,ge,"f")[e].push(r)})}[Vo](e,n,r,i){this[Km](e,n,r,i,(s,a,o)=>{C(this,ge,"f")[s][a]=o})}[$m](e,n,r,i){this[Km](e,n,r,i,(s,a,o)=>{C(this,ge,"f")[s][a]=(C(this,ge,"f")[s][a]||[]).concat(o)})}[Km](e,n,r,i,s){if(Array.isArray(r))r.forEach(a=>{e(a,i)});else if((a=>typeof a=="object")(r))for(let a of Kf(r))e(a,r[a]);else s(n,this[zm](r),i)}[zm](e){return e==="__proto__"?"___proto___":e}[Xm](e,n){return this[Vo](this[Xm].bind(this),"key",e,n),this}[Qm](){var e,n,r,i,s,a,o,l,u,c,f,m;let g=C(this,Jf,"f").pop(),p;ui(g,void 0,C(this,Ee,"f")),e=this,n=this,r=this,i=this,s=this,a=this,o=this,l=this,u=this,c=this,f=this,m=this,{options:{set value(d){pe(e,ge,d,"f")}}.value,configObjects:p,exitProcess:{set value(d){pe(n,Dr,d,"f")}}.value,groups:{set value(d){pe(r,Si,d,"f")}}.value,output:{set value(d){pe(i,on,d,"f")}}.value,exitError:{set value(d){pe(s,ws,d,"f")}}.value,hasOutput:{set value(d){pe(a,ar,d,"f")}}.value,parsed:this.parsed,strict:{set value(d){pe(o,ya,d,"f")}}.value,strictCommands:{set value(d){pe(l,ba,d,"f")}}.value,strictOptions:{set value(d){pe(u,Ta,d,"f")}}.value,completionCommand:{set value(d){pe(c,sr,d,"f")}}.value,parseFn:{set value(d){pe(f,or,d,"f")}}.value,parseContext:{set value(d){pe(m,ga,d,"f")}}.value}=g,C(this,ge,"f").configObjects=p,C(this,Oe,"f").unfreeze(),C(this,It,"f").unfreeze(),C(this,Ft,"f").unfreeze(),C(this,Rr,"f").unfreeze()}[qE](e,n){return ou(n,r=>(e(r),r))}getInternalMethods(){return{getCommandInstance:this[BE].bind(this),getContext:this[VE].bind(this),getHasOutput:this[jE].bind(this),getLoggerInstance:this[UE].bind(this),getParseContext:this[WE].bind(this),getParserConfiguration:this[va].bind(this),getUsageInstance:this[GE].bind(this),getValidationInstance:this[YE].bind(this),hasParseCallback:this[np].bind(this),postProcess:this[Na].bind(this),reset:this[Jm].bind(this),runValidation:this[Zm].bind(this),runYargsParserAndExecuteCommands:this[cu].bind(this),setHasOutput:this[$E].bind(this)}}[BE](){return C(this,Ft,"f")}[VE](){return C(this,uu,"f")}[jE](){return C(this,ar,"f")}[UE](){return C(this,qo,"f")}[WE](){return C(this,ga,"f")||{}}[GE](){return C(this,Oe,"f")}[YE](){return C(this,It,"f")}[np](){return!!C(this,or,"f")}[Na](e,n,r,i){return r||Gt(e)?e:(n||(e=this[xE](e)),(this[va]()["parse-positional-numbers"]||this[va]()["parse-positional-numbers"]===void 0)&&(e=this[kE](e)),i&&(e=au(e,this,C(this,Rr,"f").getMiddleware(),!1)),e)}[Jm](e={}){pe(this,ge,C(this,ge,"f")||{},"f");let n={};n.local=C(this,ge,"f").local||[],n.configObjects=C(this,ge,"f").configObjects||[];let r={};return n.local.forEach(i=>{r[i]=!0,(e[i]||[]).forEach(s=>{r[s]=!0})}),Object.assign(C(this,_a,"f"),Object.keys(C(this,Si,"f")).reduce((i,s)=>{let a=C(this,Si,"f")[s].filter(o=>!(o in r));return a.length>0&&(i[s]=a),i},{})),pe(this,Si,{},"f"),["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"].forEach(i=>{n[i]=(C(this,ge,"f")[i]||[]).filter(s=>!r[s])}),["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"].forEach(i=>{n[i]=Mo(C(this,ge,"f")[i],s=>!r[s])}),n.envPrefix=C(this,ge,"f").envPrefix,pe(this,ge,n,"f"),pe(this,Oe,C(this,Oe,"f")?C(this,Oe,"f").reset(r):V2(this,C(this,Ee,"f")),"f"),pe(this,It,C(this,It,"f")?C(this,It,"f").reset(r):function(i,s,a){let o=a.y18n.__,l=a.y18n.__n,u={nonOptionCount:function(p){let d=i.getDemandedCommands(),h=p._.length+(p["--"]?p["--"].length:0)-i.getInternalMethods().getContext().commands.length;d._&&(h<d._.min||h>d._.max)&&(h<d._.min?d._.minMsg!==void 0?s.fail(d._.minMsg?d._.minMsg.replace(/\$0/g,h.toString()).replace(/\$1/,d._.min.toString()):null):s.fail(l("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",h,h.toString(),d._.min.toString())):h>d._.max&&(d._.maxMsg!==void 0?s.fail(d._.maxMsg?d._.maxMsg.replace(/\$0/g,h.toString()).replace(/\$1/,d._.max.toString()):null):s.fail(l("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",h,h.toString(),d._.max.toString()))))},positionalCount:function(p,d){d<p&&s.fail(l("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",d,d+"",p+""))},requiredArguments:function(p,d){let h=null;for(let y of Object.keys(d))Object.prototype.hasOwnProperty.call(p,y)&&p[y]!==void 0||(h=h||{},h[y]=d[y]);if(h){let y=[];for(let N of Object.keys(h)){let _=h[N];_&&y.indexOf(_)<0&&y.push(_)}let b=y.length?`
${y.join(`
`)}`:"";s.fail(l("Missing required argument: %s","Missing required arguments: %s",Object.keys(h).length,Object.keys(h).join(", ")+b))}},unknownArguments:function(p,d,h,y,b=!0){var N;let _=i.getInternalMethods().getCommandInstance().getCommands(),w=[],te=i.getInternalMethods().getContext();if(Object.keys(p).forEach(H=>{RE.includes(H)||Object.prototype.hasOwnProperty.call(h,H)||Object.prototype.hasOwnProperty.call(i.getInternalMethods().getParseContext(),H)||u.isValidAndSomeAliasIsNotNew(H,d)||w.push(H)}),b&&(te.commands.length>0||_.length>0||y)&&p._.slice(te.commands.length).forEach(H=>{_.includes(""+H)||w.push(""+H)}),b){let H=((N=i.getDemandedCommands()._)===null||N===void 0?void 0:N.max)||0,j=te.commands.length+H;j<p._.length&&p._.slice(j).forEach(X=>{X=String(X),te.commands.includes(X)||w.includes(X)||w.push(X)})}w.length&&s.fail(l("Unknown argument: %s","Unknown arguments: %s",w.length,w.join(", ")))},unknownCommands:function(p){let d=i.getInternalMethods().getCommandInstance().getCommands(),h=[],y=i.getInternalMethods().getContext();return(y.commands.length>0||d.length>0)&&p._.slice(y.commands.length).forEach(b=>{d.includes(""+b)||h.push(""+b)}),h.length>0&&(s.fail(l("Unknown command: %s","Unknown commands: %s",h.length,h.join(", "))),!0)},isValidAndSomeAliasIsNotNew:function(p,d){if(!Object.prototype.hasOwnProperty.call(d,p))return!1;let h=i.parsed.newAliases;return[p,...d[p]].some(y=>!Object.prototype.hasOwnProperty.call(h,y)||!h[p])},limitedChoices:function(p){let d=i.getOptions(),h={};if(!Object.keys(d.choices).length)return;Object.keys(p).forEach(N=>{RE.indexOf(N)===-1&&Object.prototype.hasOwnProperty.call(d.choices,N)&&[].concat(p[N]).forEach(_=>{d.choices[N].indexOf(_)===-1&&_!==void 0&&(h[N]=(h[N]||[]).concat(_))})});let y=Object.keys(h);if(!y.length)return;let b=o("Invalid values:");y.forEach(N=>{b+=`
  ${o("Argument: %s, Given: %s, Choices: %s",N,s.stringifiedValues(h[N]),s.stringifiedValues(d.choices[N]))}`}),s.fail(b)}},c={};function f(p,d){let h=Number(d);return typeof(d=isNaN(h)?d:h)=="number"?d=p._.length>=d:d.match(/^--no-.+/)?(d=d.match(/^--no-(.+)/)[1],d=!Object.prototype.hasOwnProperty.call(p,d)):d=Object.prototype.hasOwnProperty.call(p,d),d}u.implies=function(p,d){fe("<string|object> [array|number|string]",[p,d],arguments.length),typeof p=="object"?Object.keys(p).forEach(h=>{u.implies(h,p[h])}):(i.global(p),c[p]||(c[p]=[]),Array.isArray(d)?d.forEach(h=>u.implies(p,h)):(ui(d,void 0,a),c[p].push(d)))},u.getImplied=function(){return c},u.implications=function(p){let d=[];if(Object.keys(c).forEach(h=>{let y=h;(c[h]||[]).forEach(b=>{let N=y,_=b;N=f(p,N),b=f(p,b),N&&!b&&d.push(` ${y} -> ${_}`)})}),d.length){let h=`${o("Implications failed:")}
`;d.forEach(y=>{h+=y}),s.fail(h)}};let m={};u.conflicts=function(p,d){fe("<string|object> [array|string]",[p,d],arguments.length),typeof p=="object"?Object.keys(p).forEach(h=>{u.conflicts(h,p[h])}):(i.global(p),m[p]||(m[p]=[]),Array.isArray(d)?d.forEach(h=>u.conflicts(p,h)):m[p].push(d))},u.getConflicting=()=>m,u.conflicting=function(p){Object.keys(p).forEach(d=>{m[d]&&m[d].forEach(h=>{h&&p[d]!==void 0&&p[h]!==void 0&&s.fail(o("Arguments %s and %s are mutually exclusive",d,h))})}),i.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(m).forEach(d=>{m[d].forEach(h=>{h&&p[a.Parser.camelCase(d)]!==void 0&&p[a.Parser.camelCase(h)]!==void 0&&s.fail(o("Arguments %s and %s are mutually exclusive",d,h))})})},u.recommendCommands=function(p,d){d=d.sort((b,N)=>N.length-b.length);let h=null,y=1/0;for(let b,N=0;(b=d[N])!==void 0;N++){let _=j2(p,b);_<=3&&_<y&&(y=_,h=b)}h&&s.fail(o("Did you mean %s?",h))},u.reset=function(p){return c=Mo(c,d=>!p[d]),m=Mo(m,d=>!p[d]),u};let g=[];return u.freeze=function(){g.push({implied:c,conflicting:m})},u.unfreeze=function(){let p=g.pop();ui(p,void 0,a),{implied:c,conflicting:m}=p},u}(this,C(this,Oe,"f"),C(this,Ee,"f")),"f"),pe(this,Ft,C(this,Ft,"f")?C(this,Ft,"f").reset():function(i,s,a,o){return new AE(i,s,a,o)}(C(this,Oe,"f"),C(this,It,"f"),C(this,Rr,"f"),C(this,Ee,"f")),"f"),C(this,Ir,"f")||pe(this,Ir,function(i,s,a,o){return new DE(i,s,a,o)}(this,C(this,Oe,"f"),C(this,Ft,"f"),C(this,Ee,"f")),"f"),C(this,Rr,"f").reset(),pe(this,sr,null,"f"),pe(this,on,"","f"),pe(this,ws,null,"f"),pe(this,ar,!1,"f"),this.parsed=!1,this}[HE](e,n){return C(this,Ee,"f").path.relative(e,n)}[cu](e,n,r,i=0,s=!1){let a=!!r||s;e=e||C(this,Os,"f"),C(this,ge,"f").__=C(this,Ee,"f").y18n.__,C(this,ge,"f").configuration=this[va]();let o=!!C(this,ge,"f").configuration["populate--"],l=Object.assign({},C(this,ge,"f").configuration,{"populate--":!0}),u=C(this,Ee,"f").Parser.detailed(e,Object.assign({},C(this,ge,"f"),{configuration:{"parse-positional-numbers":!1,...l}})),c=Object.assign(u.argv,C(this,ga,"f")),f,m=u.aliases,g=!1,p=!1;Object.keys(c).forEach(d=>{d===C(this,xr,"f")&&c[d]?g=!0:d===C(this,Ii,"f")&&c[d]&&(p=!0)}),c.$0=this.$0,this.parsed=u,i===0&&C(this,Oe,"f").clearCachedHelpMessage();try{if(this[Ym](),n)return this[Na](c,o,!!r,!1);C(this,xr,"f")&&[C(this,xr,"f")].concat(m[C(this,xr,"f")]||[]).filter(b=>b.length>1).includes(""+c._[c._.length-1])&&(c._.pop(),g=!0);let d=C(this,Ft,"f").getCommands(),h=C(this,Ir,"f").completionKey in c,y=g||h||s;if(c._.length){if(d.length){let b;for(let N,_=i||0;c._[_]!==void 0;_++){if(N=String(c._[_]),d.includes(N)&&N!==C(this,sr,"f")){let w=C(this,Ft,"f").runCommand(N,this,u,_+1,s,g||p||s);return this[Na](w,o,!!r,!1)}if(!b&&N!==C(this,sr,"f")){b=N;break}}!C(this,Ft,"f").hasDefaultCommand()&&C(this,tp,"f")&&b&&!y&&C(this,It,"f").recommendCommands(b,d)}C(this,sr,"f")&&c._.includes(C(this,sr,"f"))&&!h&&(C(this,Dr,"f")&&lu(!0),this.showCompletionScript(),this.exit(0))}if(C(this,Ft,"f").hasDefaultCommand()&&!y){let b=C(this,Ft,"f").runCommand(null,this,u,0,s,g||p||s);return this[Na](b,o,!!r,!1)}if(h){C(this,Dr,"f")&&lu(!0);let b=(e=[].concat(e)).slice(e.indexOf(`--${C(this,Ir,"f").completionKey}`)+1);return C(this,Ir,"f").getCompletion(b,(N,_)=>{if(N)throw new Qt(N.message);(_||[]).forEach(w=>{C(this,qo,"f").log(w)}),this.exit(0)}),this[Na](c,!o,!!r,!1)}if(C(this,ar,"f")||(g?(C(this,Dr,"f")&&lu(!0),a=!0,this.showHelp("log"),this.exit(0)):p&&(C(this,Dr,"f")&&lu(!0),a=!0,C(this,Oe,"f").showVersion("log"),this.exit(0))),!a&&C(this,ge,"f").skipValidation.length>0&&(a=Object.keys(c).some(b=>C(this,ge,"f").skipValidation.indexOf(b)>=0&&c[b]===!0)),!a){if(u.error)throw new Qt(u.error.message);if(!h){let b=this[Zm](m,{},u.error);r||(f=au(c,this,C(this,Rr,"f").getMiddleware(),!0)),f=this[qE](b,f??c),Gt(f)&&!r&&(f=f.then(()=>au(c,this,C(this,Rr,"f").getMiddleware(),!1)))}}}catch(d){if(!(d instanceof Qt))throw d;C(this,Oe,"f").fail(d.message,d)}return this[Na](f??c,o,!!r,!0)}[Zm](e,n,r,i){let s={...this.getDemandedOptions()};return a=>{if(r)throw new Qt(r.message);C(this,It,"f").nonOptionCount(a),C(this,It,"f").requiredArguments(a,s);let o=!1;C(this,ba,"f")&&(o=C(this,It,"f").unknownCommands(a)),C(this,ya,"f")&&!o?C(this,It,"f").unknownArguments(a,e,n,!!i):C(this,Ta,"f")&&C(this,It,"f").unknownArguments(a,e,{},!1,!1),C(this,It,"f").limitedChoices(a),C(this,It,"f").implications(a),C(this,It,"f").conflicting(a)}}[$E](){pe(this,ar,!0,"f")}[Ca](e){if(typeof e=="string")C(this,ge,"f").key[e]=!0;else for(let n of e)C(this,ge,"f").key[n]=!0}},eg,tg,{readFileSync:U2}=require("fs"),{inspect:W2}=require("util"),{resolve:G2}=require("path"),Y2=vP(),H2=Rm(),ng,zE={assert:{notStrictEqual:yE.notStrictEqual,strictEqual:yE.strictEqual},cliui:oE(),findUp:fE(),getEnv:t=>process.env[t],getCallerFile:dE(),getProcessArgvBin:PE,inspect:W2,mainFilename:(tg=(eg=require==null?void 0:require.main)===null||eg===void 0?void 0:eg.filename)!==null&&tg!==void 0?tg:process.cwd(),Parser:H2,path:require("path"),process:{argv:()=>process.argv,cwd:process.cwd,emitWarning:(t,e)=>process.emitWarning(t,e),execPath:()=>process.execPath,exit:t=>{process.exit(t)},nextTick:process.nextTick,stdColumns:process.stdout.columns!==void 0?process.stdout.columns:null},readFileSync:U2,require,requireDirectory:_E(),stringWidth:jf(),y18n:Y2({directory:G2(__dirname,"../locales"),updateFiles:!1})},XE=((ng=process==null?void 0:process.env)===null||ng===void 0?void 0:ng.YARGS_MIN_NODE_VERSION)?Number(process.env.YARGS_MIN_NODE_VERSION):12;if(process&&process.version&&Number(process.version.match(/v([^.]+)/)[1])<XE)throw Error(`yargs supports a minimum Node.js version of ${XE}. Read our version support policy: https://github.com/yargs/yargs#supported-nodejs-versions`);var $2=Rm(),rg,K2={applyExtends:$f,cjsPlatformShim:zE,Yargs:(rg=zE,(t=[],e=rg.process.cwd(),n)=>{let r=new KE(t,e,n,rg);return Object.defineProperty(r,"argv",{get:()=>r.parse(),enumerable:!0}),r.help(),r.version(),r}),argsert:fe,isPromise:Gt,objFilter:Mo,parseCommand:Fo,Parser:$2,processArgv:q2,YError:Qt};QE.exports=K2});var eA=B((Ute,ZE)=>{"use strict";var{Yargs:z2,processArgv:X2}=JE();jo(X2.hideBin(process.argv));ZE.exports=jo;function jo(t,e){let n=z2(t,e,require);return J2(n),n}function ig(t,e,n){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:n})}function Q2(t,e){let n=Object.getOwnPropertyDescriptor(t,e);if(typeof n!="undefined")return n.get}function J2(t){[...Object.keys(t),...Object.getOwnPropertyNames(t.constructor.prototype)].forEach(e=>{e==="argv"?ig(jo,e,Q2(t,e)):typeof t[e]=="function"?jo[e]=t[e].bind(t):(ig(jo,"$0",()=>t.$0),ig(jo,"parsed",()=>t.parsed))})}});var nt=Be(require("fs"));var Fs=class{constructor(){this.currentStructure=null;this.isReloading=!1;this.isDirtyState=!0}setActiveProject(e){this.currentStructure=e}getStructure(){return this.currentStructure}hasStructure(){return this.currentStructure!=null}setDirtyState(e){this.isDirtyState=e}reloadDetails(){this.isReloading||this.isDirtyState!=!1&&this.currentStructure!=null&&(this.isReloading=!0,this.currentStructure=this.currentStructure.reloadDetails(),this.isReloading=!1,this.isDirtyState=!1)}};Fs.instance=null;(typeof Fs.instance=="undefined"||Fs.instance==null)&&(Fs.instance=new Fs);var lr=Fs;var fi=class{static registerDetails(e,n){this.documentDetails.set(e,n)}static hasDetails(e){return this.documentDetails.has(e)}};fi.documentDetails=new Map;var pA={documentDescription:"",documentName:"",collectionInjections:[],blueprints:[],variableHelper:null,injectsParameters:[],varReferenceNames:new Map,formatterEnabled:!0};var lg="@name",ug="@description",cg="@desc",fg="@entry",pg="@collection",dg="@blueprint",hg="@var",mg="@set",gg="@param",_g="@param*",dA="@front",yg="@format";function Go(t,e){if(e==null||e.isComment==!1)return pA;let n=e.content.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`).map(p=>p.trim()),r=[],i=new Map,s="",a="",o=[],l=[],u="",c=null,f=!1,m=!0;for(let p=0;p<n.length;p++){let d=n[p];if(d.startsWith(fg))o=o.concat(d.slice(fg.length).split(",").map(h=>h.trim())),f=!1;else if(d.startsWith(pg))o=o.concat(d.slice(pg.length).split(",").map(h=>h.trim())),f=!1;else if(d.startsWith(dg))l=l.concat(d.slice(dg.length).split(",").map(h=>h.trim())),f=!1;else if(d.startsWith(lg))s=d.slice(lg.length).trim(),f=!1;else if(d.startsWith(ug))a=d.slice(ug.length).trim(),f=!0;else if(d.startsWith(cg))a=d.slice(cg.length).trim(),f=!0;else if(d.startsWith(hg))u=d.slice(hg.length).trim(),f=!1;else if(d.startsWith(mg))u="@page "+d.slice(mg.length).trim(),f=!1;else if(d.startsWith(gg)){let h=gg.length,y=!1;d.startsWith(_g)&&(h=_g.length,y=!0);let N=d.slice(h).trim().split(" ");if(N.length>0)if(N[0]==dA&&N.length>=4){N.shift();let _=N.shift(),w=N.shift(),te=N.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:te,expectsTypes:["*"],isDynamic:!0,isRequired:y,name:w}),i.set(w,_)}else{let _=N.shift(),w=N.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:w,expectsTypes:["*"],isDynamic:!0,isRequired:y,name:_})}}else d.startsWith(yg)?d.slice(yg.length).trim().toLowerCase()=="true"?m=!0:m=!1:f&&(a+=`
`+d.trim())}if(u.length>0){let p=u.split(" ");if(p.length==2){let d=p[0],h=p[1];if(h.includes(".")){let y=h.split(".");if(y.length==2){let b=y[0],N=y[1];c={variableName:d,collectionName:b,fieldHandle:N,setHandle:""}}else if(y.length==3){let b=y[0],N=y[1],_=y[2];c={variableName:d,collectionName:b,fieldHandle:N,setHandle:_}}}else c={variableName:d,setHandle:"",collectionName:"",fieldHandle:h}}}if(t.trim().length>0&&lr.instance!=null&&lr.instance.hasStructure()){let p=lr.instance.getStructure().findView(t);p!=null&&(p.injectsParameters=r,p.varReferenceNames=i)}let g={documentName:s,documentDescription:a,collectionInjections:o,blueprints:l,variableHelper:c,injectsParameters:r,varReferenceNames:i,formatterEnabled:m};return t.trim().length>0&&e.startPosition!=null&&(e.startPosition.line<=1||e.index<=1)&&fi.registerDetails(t,g),g}var hA=["markdown","text","textarea","slug","button_group","code","color","date","form","link","structures","select","taxonomies","terms","template","time","video","users","user_groups","user_roles"],mA=["array","assets","bard","blueprints","collections","entries","list","grid","replicator","structures_multiple","sites","select_multiple","form_multiple","table","tags","terms_multiple","taxonomies_multiple","users_multiple","checkboxes","select_multiple","yaml","user_groups_multiple","user_roles_multiple"],gA=["integer","range"],_A=["toggle"];function du(t){return hA.includes(t)?"string":mA.includes(t)?"array":gA.includes(t)?"number":_A.includes(t)?"boolean":t}var Ms=class{constructor(){this.partialReferences=new Map;this.cacheReferences=new Map;this.removesPageScope=new Map}clearAllReferences(e){this.clearPartialReferences(e),this.clearCacheReferences(e)}registerPartialReferences(e,n){this.partialReferences.has(e)==!1&&this.partialReferences.set(e,[]),this.partialReferences.set(e,n)}registerCacheReferences(e,n){this.cacheReferences.has(e)==!1&&this.cacheReferences.set(e,[]),this.cacheReferences.set(e,n)}clearPartialReferences(e){this.partialReferences.has(e)&&this.partialReferences.set(e,[])}clearRemovesPageScope(e){this.removesPageScope.has(e)&&this.removesPageScope.delete(e)}pageScopeDisabled(e){return this.removesPageScope.has(e)}clearCacheReferences(e){this.cacheReferences.has(e)&&this.cacheReferences.set(e,[])}setRemovesPageScope(e,n){this.removesPageScope.set(e,n)}getPartialReferences(e){return this.partialReferences.has(e)==!1?[]:this.partialReferences.get(e)}getCacheReferencnes(e){return this.cacheReferences.has(e)==!1?[]:this.cacheReferences.get(e)}hasPartialReferences(e){return this.partialReferences.has(e)}hasCacheReferences(e){return this.cacheReferences.has(e)}};Ms.instance=null;(typeof Ms.instance=="undefined"||Ms.instance==null)&&(Ms.instance=new Ms);var bg=Ms;var ur=class{constructor(){this.index=-1;this.offset=0;this.line=0;this.char=0}shiftRight(e){let n=new ur;return n.offset=this.offset+e,n.index=this.index+e,n.line=this.line,n.char=this.char+e,n}isBefore(e){return e==null?!1:e.line>this.line||e.line==this.line&&this.offset<e.offset}isWithin(e,n,r=0){return e==null||n==null?!1:this.index>=e.index&&this.index<=n.index+r}isWithinRange(e){return e==null?!1:e.start!=null&&e.end!=null?this.isWithin(e.start,e.end):!1}};var pi=Be(kg(),1),Dq=pi.default.v1,Rq=pi.default.v3,ts=pi.default.v4,xq=pi.default.v5,wq=pi.default.NIL,Oq=pi.default.version,Lq=pi.default.validate,Fq=pi.default.stringify,Mq=pi.default.parse;var dp=class{constructor(){this.start=null;this.end=null}},$o=dp;$o.Empty=new dp;function qg(t,e){let n=e.copy(),r=e.copy();return r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"group",introducedBy:t}),r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"key",introducedBy:t}),r.addScopeList("items",n),e.addScopeList("groups",r),e}function Bg(t,e){let n=e.copy();return e.addScopeList("items",n),e}var Vg=[{name:"as",acceptsType:["array"],returnsType:["array"],description:"Alias the array variable with a key.",docLink:"https://statamic.dev/modifiers/as",parameters:[{name:"alias",description:"The alias name."}],canBeParameter:!0},{name:"ampersand_list",acceptsType:["array"],returnsType:["string"],description:"Converts the array into a comma delimited string, with an ampersand before the last item.",docLink:"https://statamic.dev/modifiers/ampersand_list",parameters:[],canBeParameter:!1},{name:"collapse",acceptsType:["array"],returnsType:["array"],description:"Collapses an array of arrays into a single, flat, array.",docLink:"https://statamic.dev/modifiers/collapse",parameters:[],canBeParameter:!1},{name:"contains",acceptsType:["array","string"],returnsType:["boolean"],description:"Tests if the value contains another value.",docLink:"https://statamic.dev/modifiers/contains",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1},{name:"count",acceptsType:["array"],returnsType:["number"],description:"Returns the number of items in the array.",docLink:"https://statamic.dev/modifiers/count",parameters:[],canBeParameter:!1},{name:"dl",acceptsType:["array"],returnsType:["string"],description:"Turns an associative array into an HTML definition list.",docLink:"https://statamic.dev/modifiers/dl",parameters:[],canBeParameter:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],description:"Breaks a string into an array on a given delimiter.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The delimiter to break the string apart on."}],canBeParameter:!0},{name:"flatten",acceptsType:["array"],returnsType:["array"],description:"Flattens a multi-dimensional array.",docLink:"https://statamic.dev/modifiers/flatten",parameters:[],canBeParameter:!1},{name:"flip",acceptsType:["array"],returnsType:["array"],description:"Swaps the array keys with their values.",docLink:"https://statamic.dev/modifiers/flip",parameters:[],canBeParameter:!1},{name:"group_by",acceptsType:["array"],returnsType:["array"],description:"Groups the array items by the given key.",docLink:"https://statamic.dev/modifiers/group_by",parameters:[{name:"key",description:"The key to group by."}],canBeParameter:!0,augmentScope:qg},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1},{name:"is_empty",acceptsType:["array"],returnsType:["boolean"],description:"Tests if the array is empty.",docLink:"https://statamic.dev/modifiers/is_empty",parameters:[],canBeParameter:!1},{name:"join",acceptsType:["array"],returnsType:["string"],description:"Turn an array into a string by gluing together all the data.",docLink:"https://statamic.dev/modifiers/join",parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0},{name:"joinplode",acceptsType:["array"],returnsType:["string"],description:"Turn an array into a string by gluing together all the data.",docLink:null,parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0},{name:"limit",acceptsType:["array"],returnsType:["array"],description:"Limits the number of items returned in the array",docLink:"https://statamic.dev/modifiers/limit",parameters:[{name:"count",description:"The maximum number of items to return."}],canBeParameter:!0},{name:"list",acceptsType:["array"],returnsType:["string"],description:"Converts the array into a comma-separated string.",docLink:"https://statamic.dev/modifiers/list",parameters:[],canBeParameter:!1},{name:"offset",acceptsType:["array"],returnsType:["array"],description:"Offsets the items returned in the array.",docLink:"https://statamic.dev/modifiers/offset",parameters:[{name:"offset",description:"The one-based index to start retrieving items."}],canBeParameter:!0},{name:"ol",acceptsType:["array"],returnsType:["string"],description:"Turns the array into an HTML ordered list.",docLink:"https://statamic.dev/modifiers/ol",parameters:[],canBeParameter:!1},{name:"option_list",acceptsType:["array"],returnsType:["string"],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/option_list",parameters:[],canBeParameter:!1},{name:"pluck",acceptsType:["array"],returnsType:["array"],description:"Plucks a value from a collection of items.",parameters:[{name:"value",description:"The value to pluck from the array or collection."}],canBeParameter:!0,docLink:null},{name:"pad",acceptsType:["array"],returnsType:["array"],description:"Pads the array to a specified length with the given value.",docLink:"https://statamic.dev/modifiers/pad",parameters:[{name:"length",description:"The desired length of the array."},{name:"value",description:"The value to pad the array with."}],canBeParameter:!0},{name:"piped",acceptsType:["array"],returnsType:["string"],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/piped",parameters:[],canBeParameter:!1},{name:"sentence_list",acceptsType:["array"],returnsType:["string"],description:'Turns the array into a comma-delimited list, with the word "and" before the last item.',docLink:"https://statamic.dev/modifiers/sentence_list",parameters:[],canBeParameter:!1},{name:"shuffle",acceptsType:["array"],returnsType:["array"],description:"Randomizes the order of array elements.",docLink:"https://statamic.dev/modifiers/shuffle",parameters:[],canBeParameter:!1},{name:"sort",acceptsType:["array"],returnsType:["array"],description:"Sorts the array by a key in ascending or descending order.",docLink:"https://statamic.dev/modifiers/sort",parameters:[{name:"key",description:"The key to sort by."},{name:"order",description:"The sort direction. `asc` or `desc`."}],canBeParameter:!0},{name:"sum",acceptsType:["array"],returnsType:["number"],description:"Returns the sum of all items in the array.",docLink:"https://statamic.dev/modifiers/sum",parameters:[{name:"key",description:"The value to sum."}],canBeParameter:!1},{name:"ul",acceptsType:["array"],returnsType:["string"],description:"Turns the array into an HTML unordered list.",docLink:"https://statamic.dev/modifiers/ul",parameters:[],canBeParameter:!1},{name:"unique",acceptsType:["array"],returnsType:["array"],description:"Returns all unique items in the array.",docLink:"https://statamic.dev/modifiers/unique",parameters:[],canBeParameter:!1},{name:"where",acceptsType:["array"],returnsType:["array"],description:"Filters the array by a given key and value.",docLink:"https://statamic.dev/modifiers/where",parameters:[{name:"key",description:"The property to filter by."},{name:"value",description:"The value to compare to."}],canBeParameter:!0},{name:"split",acceptsType:["array"],returnsType:["array"],description:"Splits an array into smaller arrays with the provided size.",canBeParameter:!0,docLink:"",parameters:[{name:"size",description:"The size of each new array"}],augmentScope:Bg},{name:"compact",acceptsType:["string"],returnsType:["array"],description:"Accepts a comma-delimited list of variable names and return an array with their values.",canBeParameter:!0,docLink:"",parameters:[{name:"variables",description:"A comma-delimited list of variable names."}]}];var jg=[{name:"background_position",acceptsType:["string"],returnsType:["string"],description:"Converts an asset focal point into a background-position CSS property.",docLink:"https://statamic.dev/modifiers/background_position",parameters:[],canBeParameter:!1},{name:"image",acceptsType:["string"],returnsType:["string"],description:"Generates an HTML image element with the variable's value as the src.",docLink:"https://statamic.dev/modifiers/image",parameters:[],canBeParameter:!1},{name:"output",acceptsType:["string"],returnsType:["string"],description:"Returns the string output of an Asset file's contents.",docLink:"https://statamic.dev/modifiers/output",parameters:[],canBeParameter:!1}];var Ug=[{name:"contains_all",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_all",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1},{name:"contains_any",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_any",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1},{name:"ends_with",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string ends with another string.",docLink:"https://statamic.dev/modifiers/ends_with",parameters:[{name:"value",description:"The value to check against."}],canBeParameter:!1},{name:"has_lower_case",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains any lowercase characters.",docLink:"https://statamic.dev/modifiers/has_lower_case",parameters:[],canBeParameter:!1},{name:"has_upper_case",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains any uppercase characters.",docLink:"https://statamic.dev/modifiers/has_upper_case",parameters:[],canBeParameter:!1},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value(s) to search for."}],canBeParameter:!1},{name:"is_after",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the string contains only alphanumeric characters.",docLink:"https://statamic.dev/modifiers/is_after",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1},{name:"is_alphanumeric",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only alphanumeric characters.",docLink:"https://statamic.dev/modifiers/is_alphanumeric",parameters:[],canBeParameter:!1},{name:"is_before",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if a date is before another date.",docLink:"https://statamic.dev/modifiers/is_before",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1},{name:"is_between",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if a date is between two other dates.",docLink:"https://statamic.dev/modifiers/is_between",parameters:[{name:"start_date",description:"The start date to compare."},{name:"end_date",description:"The end date to compare."}],canBeParameter:!1},{name:"is_blank",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only whitespace characters.",docLink:"https://statamic.dev/modifiers/is_blank",parameters:[],canBeParameter:!1},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1},{name:"is_future",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is in the future.",docLink:"https://statamic.dev/modifiers/is_future",parameters:[],canBeParameter:!1},{name:"is_json",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is valid JSON.",docLink:"https://statamic.dev/modifiers/is_json",parameters:[],canBeParameter:!1},{name:"is_leap_year",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a leap year.",docLink:"https://statamic.dev/modifiers/is_leap_year",parameters:[],canBeParameter:!1},{name:"is_numeric",acceptsType:["string","number"],returnsType:["boolean"],description:"Tests if the value is a number or numeric string.",docLink:"https://statamic.dev/modifiers/is_numeric",parameters:[],canBeParameter:!1},{name:"is_past",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is in the past.",docLink:"https://statamic.dev/modifiers/is_past",parameters:[],canBeParameter:!1},{name:"is_today",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is today.",docLink:"https://statamic.dev/modifiers/is_today",parameters:[],canBeParameter:!1},{name:"is_uppercase",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only uppercase characters.",docLink:"https://statamic.dev/modifiers/is_uppercase",parameters:[],canBeParameter:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1},{name:"is_weekday",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a week day.",docLink:"https://statamic.dev/modifiers/is_weekday",parameters:[],canBeParameter:!1},{name:"is_weekend",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a weekend day.",docLink:"https://statamic.dev/modifiers/is_weekend",parameters:[],canBeParameter:!1},{name:"is_yesterday",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is yesterday.",docLink:"https://statamic.dev/modifiers/is_yesterday",parameters:[],canBeParameter:!1},{name:"is_tomorrow",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is tomorrow.",docLink:null,parameters:[],canBeParameter:!1},{name:"starts_with",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a value starts with the provided value.",docLink:"https://statamic.dev/modifiers/starts_with",parameters:[{name:"value",description:"The value to test for."}],canBeParameter:!1}];var Wg=[{name:"days_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of days since a given date.",docLink:"https://statamic.dev/modifiers/days_ago",parameters:[],canBeParameter:!1},{name:"format_translated",acceptsType:["string","date"],returnsType:["string","date"],description:"Returns a formatted Carbon datetime/string.",docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0},{name:"format",acceptsType:["string","date"],returnsType:["string","date"],description:"Formats the date using the provided format using PHP's [date variables](https://www.php.net/date).",docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0},{name:"format_localized",acceptsType:["string","date"],returnsType:["string","date"],description:"Forms the date using server's locale, using PHP's [strftime format variables](https://www.php.net/strftime).",docLink:"https://statamic.dev/modifiers/format_localized",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0},{name:"hours_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of hours since the date.",docLink:"https://statamic.dev/modifiers/hours_ago",parameters:[],canBeParameter:!1},{name:"iso_format",acceptsType:["string","date"],returnsType:["string","date"],description:"Formats the date using an ISO format.",docLink:"https://statamic.dev/modifiers/iso_format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!1},{name:"minutes_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of minutes since the date.",docLink:"https://statamic.dev/modifiers/minutes_ago",parameters:[],canBeParameter:!1},{name:"modify_date",acceptsType:["string","date"],returnsType:["string","date"],description:"Alters the date by incrementing or decrementing it in a format accepted by PHP's [strtotime](https://www.php.net/strtotime) function.",docLink:"https://statamic.dev/modifiers/modify_date",parameters:[],canBeParameter:!0},{name:"months_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of months since the date.",docLink:"https://statamic.dev/modifiers/months_ago",parameters:[],canBeParameter:!1},{name:"relative",acceptsType:["string","date"],returnsType:["string"],description:"Returns a human readable date difference.",docLink:"https://statamic.dev/modifiers/relative",parameters:[{name:"add_ago",description:"Whether to add the relative suffix words at the end of the string."}],canBeParameter:!1},{name:"seconds_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of seconds since the date.",docLink:"https://statamic.dev/modifiers/seconds_ago",parameters:[],canBeParameter:!1},{name:"timezone",acceptsType:["string","date"],returnsType:["string","date"],description:"Applies a timezone to the date.",docLink:"https://statamic.dev/modifiers/timezone",parameters:[{name:"timezone",description:"The timezone to apply."}],canBeParameter:!1},{name:"weeks_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of weeks since the date.",docLink:"https://statamic.dev/modifiers/weeks_ago",parameters:[],canBeParameter:!1},{name:"years_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of years since the date.",docLink:"https://statamic.dev/modifiers/years_ago",parameters:[],canBeParameter:!1}];var Gg=[{name:"chunk",acceptsType:["array"],returnsType:["array"],description:"Breaks the array or collection into smaller arrays of a given size.",docLink:"https://statamic.dev/modifiers/chunk",parameters:[{name:"chunk_size",description:"The maximum length of each new chunk."}],canBeParameter:!0},{name:"favicon",acceptsType:["string"],returnsType:["string"],description:"Generates a favicon HTML meta tag for the given value.",docLink:"https://statamic.dev/modifiers/favicon",parameters:[],canBeParameter:!1},{name:"first",acceptsType:["string","array"],returnsType:["*"],description:"Returns the specified number of characters from the beginning of the string.",docLink:"https://statamic.dev/modifiers/first",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0},{name:"last",acceptsType:["string","array"],returnsType:["*"],description:"Returns the specified number of characters from the end of the string.",docLink:"https://statamic.dev/modifiers/last",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0},{name:"link",acceptsType:["string"],returnsType:["string"],description:"Generates an HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/link",parameters:[],canBeParameter:!1},{name:"mailto",acceptsType:["string"],returnsType:["string"],description:"Generates a mailto HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/mailto",parameters:[],canBeParameter:!1},{name:"markdown",acceptsType:["string"],returnsType:["string"],description:"Parses the value as Markdown and returns the HTML.",docLink:"https://statamic.dev/modifiers/markdown",parameters:[],canBeParameter:!1},{name:"nl2br",acceptsType:["string"],returnsType:["string"],description:"Replaces line breaks with HTML `<br>` tags.",docLink:"https://statamic.dev/modifiers/nl2br",parameters:[],canBeParameter:!1},{name:"obfuscate",acceptsType:["string"],returnsType:["string"],description:"Modifies the input string by replacing it with special characters, making it harder for bots but remains readable to site visitors.",docLink:"https://statamic.dev/modifiers/obfuscate",parameters:[],canBeParameter:!1},{name:"obfuscate_email",acceptsType:["string"],returnsType:["string"],description:"Obfuscates an email address with special HTML characters.",docLink:"https://statamic.dev/modifiers/obfuscate_email",parameters:[],canBeParameter:!1},{name:"strip_tags",acceptsType:["string"],returnsType:["string"],description:"Removes HTML tags from the string.",docLink:"https://statamic.dev/modifiers/strip_tags",parameters:[{name:"tags",description:"The HTML tag(s) to remove from the string."}],canBeParameter:!1},{name:"table",acceptsType:["array"],returnsType:["string"],description:"Turns a [Table FieldType](https://statamic.dev/fieldtypes/table) array into an HTML table.",docLink:"https://statamic.dev/modifiers/table",parameters:[{name:"content_markdown",description:"Whether to parse cell contents as Markdown."}],canBeParameter:!1},{name:"textile",acceptsType:["string"],returnsType:["string"],description:"Parses a string with [Textile](http://demo.textilewiki.com/theme-default/) and returns the HTML.",docLink:"https://statamic.dev/modifiers/textile",parameters:[],canBeParameter:!1},{name:"wrap",acceptsType:["string"],returnsType:["string"],description:"Wraps a string with a given HTML tag.",docLink:"https://statamic.dev/modifiers/wrap",parameters:[{name:"expression",description:"The HTML tag or Emmet-style expression to wrap the value in."}],canBeParameter:!1}];var Yg=[{name:"add",acceptsType:["number"],returnsType:["number"],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!0},{name:"+",acceptsType:["number"],returnsType:["number"],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!1},{name:"ceil",acceptsType:["number"],returnsType:["number"],description:"Rounds the value to the next whole number.",docLink:"https://statamic.dev/modifiers/ceil",parameters:[],canBeParameter:!1},{name:"divide",acceptsType:["number"],returnsType:["number"],description:"Divides two values.",docLink:"https://statamic.dev/modifiers/divide",parameters:[{name:"value",description:"The value to divide."}],canBeParameter:!0},{name:"floor",acceptsType:["number"],returnsType:["number"],description:"Rounds a number down to the next whole number.",docLink:"https://statamic.dev/modifiers/floor",parameters:[],canBeParameter:!0},{name:"format_number",acceptsType:["number"],returnsType:["string"],description:"Formats a number.",docLink:"https://statamic.dev/modifiers/format_number",parameters:[{name:"precision",description:"Number of decimal places before rounding."},{name:"decimal_separator",description:"The decimal separator (defaults to `.`)."},{name:"thousands_separator",description:"The thousands separator (default `,`)."}],canBeParameter:!0},{name:"mode",acceptsType:["number"],returnsType:["number"],description:"",docLink:"",parameters:[],canBeParameter:!0},{name:"multiply",acceptsType:["number"],returnsType:["number"],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!0},{name:"*",acceptsType:["number"],returnsType:["number"],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!1},{name:"round",acceptsType:["number"],returnsType:["number"],description:"Rounds a number to a specified precision.",docLink:"https://statamic.dev/modifiers/round",parameters:[{name:"precision",description:"The number of digits after the decimal point."}],canBeParameter:!0},{name:"subtract",acceptsType:["number"],returnsType:["number"],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!0},{name:"-",acceptsType:["number"],returnsType:["number"],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!1}];var Hg=[{name:"partial",acceptsType:["*"],returnsType:["*view*"],description:"Injects data into a partial and renders it.",docLink:"https://statamic.dev/modifiers/partial",parameters:[{name:"partial",description:"The name of the partial."}],canBeParameter:!1},{name:"macro",acceptsType:["*"],returnsType:["*"],description:"Runs a pre-configured macro on the data.",docLink:"https://statamic.dev/modifiers/macro",parameters:[{name:"macro",description:"The macro name."}],canBeParameter:!1},{name:"url",acceptsType:["string","*"],returnsType:["string"],description:"Locates the URL of an asset, page, entry, or taxonomy term based on the variable contents.",docLink:"https://statamic.dev/modifiers/url",parameters:[],canBeParameter:!1}];var $g=[{name:"ascii",acceptsType:["string"],returnsType:["string"],description:"Replaces all non-ASCII characters with their closest ASCII counterparts.",docLink:"https://statamic.dev/modifiers/ascii",parameters:[],canBeParameter:!1},{name:"at",acceptsType:["string"],returnsType:["string"],description:"Returns the character at a given zero-based position.",docLink:"https://statamic.dev/modifiers/at",parameters:[{name:"position",description:"The zero-based position to retrieve a character from."}],canBeParameter:!0},{name:"backspace",acceptsType:["string"],returnsType:["string"],description:"Removes a specified number of characters from the end of a string.",docLink:"https://statamic.dev/modifiers/backspace",parameters:[{name:"character_count",description:"The number of characters to remove from the end of the string."}],canBeParameter:!0},{name:"camelize",acceptsType:["string"],returnsType:["string"],description:"Converts the string into camelCase.",docLink:"https://statamic.dev/modifiers/camelize",parameters:[],canBeParameter:!1},{name:"cdata",acceptsType:["string"],returnsType:["string"],description:"Wraps the string in CDATA XML tags.",docLink:"https://statamic.dev/modifiers/cdata",parameters:[],canBeParameter:!1},{name:"collapse_whitespace",acceptsType:["string"],returnsType:["string"],description:"Trims a string and replaces consecutive whitespace characters with a single space.",docLink:"https://statamic.dev/modifiers/collapse_whitespace",parameters:[],canBeParameter:!1},{name:"count_substring",acceptsType:["string"],returnsType:["number"],description:"Counts the number of occurrences of a term within the string.",docLink:"https://statamic.dev/modifiers/count_substring",parameters:[{name:"term",description:"The sub-string to search for"}],canBeParameter:!0},{name:"dashify",acceptsType:["string"],returnsType:["string"],description:"Returns a lower-cased and trimmed string, separated by dashes.",docLink:"https://statamic.dev/modifiers/dashify",parameters:[],canBeParameter:!1},{name:"deslugify",acceptsType:["string"],returnsType:["string"],description:"Replaces all hyphens and underscores with spaces.",docLink:"https://statamic.dev/modifiers/deslugify",parameters:[],canBeParameter:!1},{name:"embed_url",acceptsType:["string"],returnsType:["string"],description:"Converts a YouTube or Viemo link into their embed URLs.",docLink:"https://statamic.dev/modifiers/embed_url",parameters:[],canBeParameter:!1},{name:"trackable_embed_url",acceptsType:["string"],returnsType:["string"],description:"Get the embed URL when given a youtube or vimeo link that's direct to the page.",docLink:null,parameters:[],canBeParameter:!1},{name:"ensure_left",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string begins with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_left",parameters:[{name:"start_string",description:"The value that should be at the start of the string."}],canBeParameter:!0},{name:"ensure_right",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string ends with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_right",parameters:[{name:"end_string",description:"The value that should be at the end of the string."}],canBeParameter:!0},{name:"entities",acceptsType:["string"],returnsType:["string"],description:"Encode a string with HTML entities.",docLink:"https://statamic.dev/modifiers/entities",parameters:[],canBeParameter:!1},{name:"excerpt",acceptsType:["string"],returnsType:["string"],description:"Breaks a string at a given marker.",docLink:"https://statamic.dev/modifiers/excerpt",parameters:[{name:"marker",description:"The string to break by."}],canBeParameter:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],description:"Breaks a string into an array of strings.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The string to split the larger string by."}],canBeParameter:!0},{name:"gravatar",acceptsType:["string"],returnsType:["string"],description:"Converts an email string to a Gravatar image URL.",docLink:"https://statamic.dev/modifiers/gravatar",parameters:[{name:"image size",description:"The desired image size."}],canBeParameter:!0},{name:"insert",acceptsType:["string"],returnsType:["string"],description:"Inserts a string at the position provided.",docLink:"https://statamic.dev/modifiers/insert",parameters:[{name:"value",description:"The value to insert."},{name:"position",description:"The zero based position to insert the text at."}],canBeParameter:!0},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1},{name:"is_embeddable",acceptsType:["string"],returnsType:["boolean"],description:"Checks to see if a video URL is embeddable.",docLink:"https://statamic.dev/modifiers/is_embeddable",parameters:[],canBeParameter:!1},{name:"is_lowercase",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if the string contains only lowercase characters.",docLink:"https://statamic.dev/modifiers/is_lowercase",parameters:[],canBeParameter:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if a string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1},{name:"lcfirst",acceptsType:["string"],returnsType:["string"],description:"Converts the first character of the value to lower case.",docLink:"https://statamic.dev/modifiers/lcfirst",parameters:[],canBeParameter:!1},{name:"length",acceptsType:["string"],returnsType:["number"],description:"Returns the number of items in an array or number of characters in a string.",docLink:"https://statamic.dev/modifiers/length",parameters:[],canBeParameter:!1},{name:"lower",acceptsType:["string"],returnsType:["string"],description:"Converts all characters to lowercase.",docLink:"https://statamic.dev/modifiers/lower",parameters:[],canBeParameter:!1},{name:"md5",acceptsType:["string"],returnsType:["string"],description:"Creates an MD5 hash of the variable.",docLink:"https://statamic.dev/modifiers/md5",parameters:[],canBeParameter:!1},{name:"rawurlencode",acceptsType:["string"],returnsType:["string"],description:"URL-encode a variable according to RFC-3986.",docLink:"https://statamic.dev/modifiers/rawurlencode",parameters:[],canBeParameter:!1},{name:"read_time",acceptsType:["string"],returnsType:["string"],description:"Returns an estimated read time, in minutes.",docLink:"https://statamic.dev/modifiers/read_time",parameters:[{name:"words per minute",description:"The words per minute to use as an estimate."}],canBeParameter:!0},{name:"regex_replace",acceptsType:["string"],returnsType:["string"],description:"Replaces all regex matches with a string.",docLink:"https://statamic.dev/modifiers/regex_replace",parameters:[{name:"pattern",description:"The regex pattern."},{name:"replace",description:"The replacement value."}],canBeParameter:!0},{name:"remove_left",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string never begins with a specified string.",docLink:"https://statamic.dev/modifiers/remove_left/",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0},{name:"remove_right",acceptsType:["string"],returnsType:["string"],description:"Ensures that a string never ends with a specified string.",docLink:"https://statamic.dev/modifiers/remove_right",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0},{name:"replace",acceptsType:["string"],returnsType:["string"],description:"Replaces all occurrences of a string with a different value.",docLink:"https://statamic.dev/modifiers/replace",parameters:[{name:"needle",description:"The string to search for."},{name:"value",description:"The value to replace all occurrences with."}],canBeParameter:!0},{name:"reverse",acceptsType:["string","array"],returnsType:["string","array"],description:"Reverses all characters in a string, or all items in an array.",docLink:"https://statamic.dev/modifiers/reverse",parameters:[],canBeParameter:!1},{name:"safe_truncate",acceptsType:["string"],returnsType:["string"],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/safe_truncate",parameters:[{name:"length",description:"The desired string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1},{name:"sanitize",acceptsType:["string"],returnsType:["string"],description:"Converts special characters to HTML entities.",docLink:"https://statamic.dev/modifiers/sanitize",parameters:[],canBeParameter:!1},{name:"segment",acceptsType:["string"],returnsType:["string"],description:"Returns a segment by number from any valid URL or URI.",docLink:"https://statamic.dev/modifiers/segment",parameters:[{name:"segment",description:"The one-based segment to return."}],canBeParameter:!0},{name:"singular",acceptsType:["string"],returnsType:["string"],description:"Returns the singular form of an English word.",docLink:"https://statamic.dev/modifiers/singular",parameters:[],canBeParameter:!1},{name:"slugify",acceptsType:["string"],returnsType:["string"],description:"Converts the string into an URL slug.",docLink:"https://statamic.dev/modifiers/slugify",parameters:[],canBeParameter:!1},{name:"smartypants",acceptsType:["string"],returnsType:["string"],description:"Translates plain ASCII punctuation characters into typographic punctuation HTML entities.",docLink:"https://statamic.dev/modifiers/smartypants",parameters:[],canBeParameter:!1},{name:"spaceless",acceptsType:["string"],returnsType:["string"],description:"Removes excess whitespace and line breaks from a string.",docLink:"https://statamic.dev/modifiers/spaceless",parameters:[],canBeParameter:!1},{name:"substr",acceptsType:["string"],returnsType:["string"],description:"Returns a portion of a string based on provided a start index, and optional length.",docLink:"https://statamic.dev/modifiers/substr",parameters:[{name:"start",description:"The 0-based index to start searching."},{name:"length",description:"An optional length for the string to find."}],canBeParameter:!1},{name:"surround",acceptsType:["string"],returnsType:["string"],description:"Surrounds a string with another string.",docLink:"https://statamic.dev/modifiers/surround",parameters:[{name:"value",description:"The value to surround the string with."}],canBeParameter:!1},{name:"swap_case",acceptsType:["string"],returnsType:["string"],description:"Returns a case swapped version of the string.",docLink:"https://statamic.dev/modifiers/swap_case",parameters:[],canBeParameter:!1},{name:"tidy",acceptsType:["string"],returnsType:["string"],description:"Returns a string with smart quotes, ellipsis characters, and dashes from Windows-1252 replaced by ASCII equivalents.",docLink:"https://statamic.dev/modifiers/tidy",parameters:[],canBeParameter:!1},{name:"title",acceptsType:["string"],returnsType:["string"],description:"Returns a Title Cased version of the string.",docLink:"https://statamic.dev/modifiers/title",parameters:[],canBeParameter:!1},{name:"trim",acceptsType:["string"],returnsType:["string"],description:"Removes whitespace from the start and end of the string.",docLink:"https://statamic.dev/modifiers/trim",parameters:[],canBeParameter:!1},{name:"truncate",acceptsType:["string"],returnsType:["string"],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/truncate",parameters:[{name:"length",description:"The maximum string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1},{name:"ucfirst",acceptsType:["string"],returnsType:["string"],description:"Upper cases the first character in the string.",docLink:"https://statamic.dev/modifiers/ucfirst",parameters:[],canBeParameter:!1},{name:"underscored",acceptsType:["string"],returnsType:["string"],description:"Returns a lower-cased and trimmed version of the string, separated by underscores.",docLink:"https://statamic.dev/modifiers/underscored",parameters:[],canBeParameter:!1},{name:"upper",acceptsType:["string"],returnsType:["string"],description:"Transforms the string to uppercase.",docLink:"https://statamic.dev/modifiers/upper",parameters:[],canBeParameter:!1},{name:"urldecode",acceptsType:["string"],returnsType:["string"],description:"URL-decodes the string.",docLink:"https://statamic.dev/modifiers/urldecode",parameters:[],canBeParameter:!1},{name:"urlencode",acceptsType:["string"],returnsType:["string"],description:"URL-encodes the string.",docLink:"https://statamic.dev/modifiers/urlencode",parameters:[],canBeParameter:!1},{name:"widont",acceptsType:["string"],returnsType:["string"],description:"Attempts to prevent lines with single words.",docLink:"https://statamic.dev/modifiers/widont",parameters:[],canBeParameter:!1},{name:"word_count",acceptsType:["string"],returnsType:["number"],description:"Returns the number of words in the string.",docLink:"https://statamic.dev/modifiers/word_count",parameters:[],canBeParameter:!1},{name:"add_slashes",acceptsType:["string"],returnsType:["string"],description:"Adds slashes before characters that need to be escaped.",docLink:"https://statamic.dev/modifiers/add_slashes",canBeParameter:!1,parameters:[]}];var Kg=[{name:"console_log",acceptsType:["*"],returnsType:["null"],description:"Displays variable data in the browser's JavaScript console.",docLink:"https://statamic.dev/modifiers/console_log",parameters:[],canBeParameter:!1},{name:"decode",acceptsType:["string"],returnsType:["string"],description:"Converts all HTML entities to their applicable character codes.",docLink:"https://statamic.dev/modifiers/decode",parameters:[],canBeParameter:!1},{name:"dump",acceptsType:["*"],returnsType:["null"],description:"Displays variable data in the browser.",docLink:"https://statamic.dev/modifiers/dump",parameters:[],canBeParameter:!1},{name:"full_urls",acceptsType:["string"],returnsType:["string"],description:"Replaces root-relative URLs with absolute URLs.",docLink:"https://statamic.dev/modifiers/full_urls",parameters:[],canBeParameter:!1},{name:"repeat",acceptsType:["string"],returnsType:["string"],description:"Repeats a value a given number of times.",docLink:"https://statamic.dev/modifiers/repeat",parameters:[{name:"repeat_count",description:"The number of times to repeat the value."}],canBeParameter:!0},{name:"to_spaces",acceptsType:["string"],returnsType:["string"],description:"Converts all tabs to spaces.",docLink:"https://statamic.dev/modifiers/to_spaces",parameters:[{name:"space_count",description:"The number of spaces to replace tabs with."}],canBeParameter:!1},{name:"to_tabs",acceptsType:["string"],returnsType:["string"],description:"Converts spaces to tabs.",docLink:"https://statamic.dev/modifiers/to_tabs",parameters:[{name:"space_count",description:"The number of spaces to convert to tabs."}],canBeParameter:!1},{name:"to_json",acceptsType:["*"],returnsType:["string"],description:"Converts the data to JSON.",docLink:"https://statamic.dev/modifiers/to_json",parameters:[],canBeParameter:!1},{name:"to_bool",acceptsType:["*"],returnsType:["boolean"],description:"Converst the data to a boolean",parameters:[],canBeParameter:!1,docLink:null}];var ns=class{constructor(){this.registeredModifiers=new Map;this.acceptTypedModifierReference=new Map;this.returnTypeModifierReference=new Map;this.macros=new Map;this.modifierNameCache=[]}reset(){this.modifierNameCache=[],this.registeredModifiers.clear(),this.acceptTypedModifierReference.clear(),this.returnTypeModifierReference.clear()}getRegisteredModifiers(){return this.registeredModifiers}resetMacros(){this.macros.clear()}loadCoreModifiers(){this.registerModifiers(Vg),this.registerModifiers(jg),this.registerModifiers(Ug),this.registerModifiers(Wg),this.registerModifiers(Gg),this.registerModifiers(Yg),this.registerModifiers(Kg),this.registerModifiers($g),this.registerModifiers(Hg)}getModifierNames(){return this.modifierNameCache}registerMacro(e){this.macros.set(e.name,e)}registerMacros(e){for(let n=0;n<e.length;n++)this.registerMacro(e[n])}hasMacro(e){if(this.macros.has(e)){let n=this.macros.get(e);return!(typeof n=="undefined"||n===null)}return!1}getMacro(e){if(this.macros.has(e)){let n=this.macros.get(e);return typeof n=="undefined"||n===null?null:n}return null}getMacroManifestingType(e){let n=this.getMacro(e);return n==null?"":n.manifestsType}getRegisteredModifier(e){return this.registeredModifiers.has(e)?this.registeredModifiers.get(e):null}getModifiersForType(e){let n=du(e);return this.acceptTypedModifierReference.has(n)?this.acceptTypedModifierReference.get(n):[]}getProbableReturnType(e,n){return e==null||e.returnsType.length==0?"":n&&e.returnsType.includes("array")?"array":e.returnsType[0]}registerModifiers(e){var n,r;for(let i=0;i<e.length;i++){let s=e[i];this.modifierNameCache.push(s.name);for(let a=0;a<s.acceptsType.length;a++){let o=s.acceptsType[a];this.acceptTypedModifierReference.has(o)==!1&&this.acceptTypedModifierReference.set(o,[]),(n=this.acceptTypedModifierReference.get(o))==null||n.push(s)}for(let a=0;a<s.returnsType.length;a++){let o=s.returnsType[a];this.returnTypeModifierReference.has(o)==!1&&this.returnTypeModifierReference.set(o,[]),(r=this.returnTypeModifierReference.get(o))==null||r.push(s)}this.registeredModifiers.set(e[i].name,e[i])}}registerModifier(e){let n=[];n.push(e),this.registerModifiers(n)}getModifier(e){if(this.registeredModifiers.has(e)==!1)return null;let n=this.registeredModifiers.get(e);return typeof n=="undefined"||n==null?null:n}hasModifier(e){if(!this.registeredModifiers.has(e))return!1;let n=this.registeredModifiers.get(e);return!(typeof n=="undefined"||n==null)}};ns.instance=null;(typeof ns.instance=="undefined"||ns.instance==null)&&(ns.instance=new ns,ns.instance.loadCoreModifiers());var Rt=ns;var hp=class{constructor(e){this.parameterModifiers=[];this.hasMixedModifierStyles=!1;this.modifierNames=[];this.node=e}isPaired(){return this.node instanceof Q?this.node.isPaired():!1}getModifierValue(e){var n;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let i=this.node.modifierChain.modifierChain[r];if(((n=i.nameNode)==null?void 0:n.name)==e)return i.valueNodes.length>0?i.valueNodes[0].content:""}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let i=this.parameterModifiers[r];if(i.name==e)return i.value}return null}getModifierRange(e){var n;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let i=this.node.modifierChain.modifierChain[r];if(((n=i.nameNode)==null?void 0:n.name)==e)return i.valueNodes.length>0?{start:i.startPosition,end:i.endPosition}:null}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let i=this.parameterModifiers[r];if(i.name==e&&i.namePosition!=null&&i.valuePosition!=null)return{start:i.namePosition.start,end:i.valuePosition.end}}return null}getLastManifestedModifierRuntimeType(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null){if(this.node.modifierChain.lastManifestedModifier.parameters.length>0&&this.node.modifierChain.lastManifestedModifier.modifier!=null&&Rt.instance!=null){let e=this.node.modifierChain.lastManifestedModifier.modifier;return Rt.instance.getProbableReturnType(e,this.isPaired())}return"*"}if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null&&Rt.instance!=null){let r=e[n].modifier;return Rt.instance.getProbableReturnType(r,this.isPaired())}}return"*"}getLastManifestedModifierValue(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null)return this.node.modifierChain.lastManifestedModifier.parameters.length>0?this.node.modifierChain.lastManifestedModifier.parameters[0].value:"";if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null)return e[n].value}return""}getLastManifestedModifier(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastModifier!=null)return this.node.modifierChain.lastModifier;if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null)return e[n].modifier}return null}hasModifiers(){return this.node.modifierChain==null||this.node.modifierChain.modifierChain.length==0?this.parameterModifiers.length>0:!0}hasParameterModifiers(){return this.parameterModifiers.length>0}hasShorthandModifiers(){return this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0}hasModifier(e){return this.modifierNames.includes(e)}};function mp(t){let e=[];return t.forEach(n=>{n instanceof Q?e.push(n):n instanceof cr&&n.logicBranches.length>0&&n.logicBranches.forEach(r=>{if(r.head!=null){let i=r.head;i.originalNode!=null?e.push(i.originalNode):e.push(i)}})}),e}var Iu=T_(),CS=N_(),se=class{static normalizeLineEndings(e,n=`
`){return e.replace(/\r?\n/g,n)}static split(e){return e.split("")}static substring(e,n,r){return e.substr(n,r)}static ctypeSpace(e){return Iu.ctype_space(e)}static ctypeAlpha(e){return Iu.ctype_alpha(e)}static ctypeDigit(e){return Iu.ctype_digit(e)}static ctypePunct(e){return Iu.ctype_punct(e)}static trimLeft(e,n="\\s"){return e.replace(new RegExp("^["+n+"]+"),"")}static trimRight(e,n="\\s"){return e.replace(new RegExp("["+n+"]+$"),"")}static isNumeric(e){return CS(e)}static substringCount(e,n){let r=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return(e.match(new RegExp(r,"gi"))||[]).length}};var gp=class{constructor(e){this.node=e}findParentWithName(e){let n=this.node.getParser();return n==null?null:n.structure.findParentWithName(e,this.node)}};var P_=Be(Du());var W=class{constructor(){this.node=null;this.errorCode="";this.message="";this.level=0;this.range=null}hash(){var n,r,i,s;let e="";return this.node!=null&&(e=((r=(n=this.node.endPosition)==null?void 0:n.offset)!=null?r:0).toString()+"|"+((s=(i=this.node.startPosition)==null?void 0:i.offset)!=null?s:0).toString()+"|"),P_.Md5.hashStr(e+"|"+this.errorCode)}static makeSyntaxError(e,n,r,i){i==null&&(i=0);let s=new W;return s.errorCode=e,s.node=n,s.message=r,s.level=i,s}};var P=class{};P.TYPE_EXPECTING_OPERAND="ANTLR_001",P.TYPE_UNEXPECTED_END_OF_INPUT="ANTLR_002",P.TYPE_RUNTIME_TYPE_MISMATCH="ANTLR_003",P.TYPE_RUNTIME_DIVIDE_BY_ZERO="ANTLR_004",P.TYPE_RUNTIME_UNKNOWN_LANG_OPERATOR="ANTLR_005",P.TYPE_RUNTIME_UNEXPECTED_STACK_CONDITION="ANTLR_006",P.TYPE_RUNTIME_PARSE_VALUE_VIOLATION="ANTLR_007",P.TYPE_PARSE_UNCLOSED_CONDITIONAL="ANTLR_008",P.TYPE_PARSE_EMPTY_CONDITIONAL="ANTLR_009",P.TYPE_PARSE_UNPAIRED_CONDITIONAL="ANTLR_008",P.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE="ANTLR_009",P.TYPE_INCOMPLETE_ANTLERS_REGION="ANTLR_010",P.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION="ANTLR_011",P.TYPE_ILLEGAL_VARPATH_RIGHT="ANTLR_012",P.TYPE_ILLEGAL_DOTVARPATH_RIGHT="ANTLR_013",P.TYPE_ILLEGAL_VARPATH_SUBPATH_START="ANTLR_014",P.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT="ANTLR_015",P.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR="ANTLR_016",P.TYPE_ILLEGAL_VARIABLE_NAME="ANTLR_017",P.TYPE_UNSET_MODIFIER_DETAILS="ANTLR_018",P.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS="ANTLR_019",P.TYPE_MODIFIER_UNEXPECTED_VALUE="ANTLR_020",P.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST="ANTLR_021",P.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR="ANTLR_022",P.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH="ANTLR_023",P.TYPE_RECURSIVE_UNPAIRED_NODE="ANTLR_024",P.TYPE_RECURSIVE_NODE_INVALID_POSITION="ANTLR_025",P.TYPE_NO_PARSE_UNASSOCIATED="ANTLR_026",P.TYPE_RECURSIVE_NODE_UNASSOCIATED_PARENT="ANTLR_027",P.TYPE_LOGIC_GROUP_NO_END="ANTLR_028",P.TYPE_LOGIC_GROUP_NO_START="ANTLR_029",P.TYPE_UNEXPECTED_BRANCH_SEPARATOR="ANTLR_030",P.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE="ANTLR_031",P.TYPE_UNEXPECTED_MODIFIER_SEPARATOR="ANTLR_032",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS="ANTLR_033",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE="ANTLR_034",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER="ANTLR_035",P.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE="ANTLR_036",P.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS="ANTLR_037",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SEMANTIC_GROUP="ANTLR_038",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP="ANTLR_039",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP="ANTLR_040",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH="ANTLR_041",P.TYPE_UNEXPECTED_EOI_WHILE_EXITING_TERNARY_GROUP="ANTLR_042",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET="ANTLR_043",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION="ANTLR_044",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END="ANTLR_045",P.TYPE_RUNTIME_UNKNOWN_LIBRARY="ANTLR_046",P.TYPE_RUNTIME_LIBRARY_BAD_METHOD_CALL="ANTLR_047",P.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS="ANTLR_048",P.TYPE_UNEXPECTED_FACTORIAL_OPERAND="ANTLR_049",P.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR="ANTLR_050",P.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED="ANTLR_051",P.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT="ANTLR_052",P.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP="ANTLR_053",P.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT="ANTLR_054",P.TYPE_LIBRARY_CALL_NO_ARGS_PROVIDED="ANTLR_055",P.TYPE_LIBRARY_CALL_MISSING_REQUIRED_FORMAL_ARG="ANTLR_056",P.TYPE_LIBRARY_CALL_RUNTIME_TYPE_MISMATCH="ANTLR_057",P.TYPE_LIBRARY_CALL_UNEXPECTED_ARG_RESOLVE_FAULT="ANTLR_058",P.TYPE_LIBRARY_CALL_TOO_MANY_ARGUMENTS="ANTLR_059",P.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD="ANTLR_060",P.TYPE_INVALID_NAMED_ARG_IDENTIFIER="ANTLR_061",P.TYPE_LIBRARY_CALL_INVALID_ARGUMENT_NAME="ANTLR_062",P.TYPE_RUNTIME_ATTEMPT_TO_OVERWRITE_LOADED_LIBRARY="ANTLR_063",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP="ANTLR_064",P.TYPE_EXPECTING_ARGUMENT_GROUP="ANTLR_065",P.TYPE_RUNTIME_PROTECTED_LIBRARY_ACCESS_VIOLATION="ANTLR_066",P.TYPE_RUNTIME_FATAL_UNPAIRED_LOOP_END="ANTLR_067",P.TYPE_UNEXPECTED_OPERATOR="ANTLR_068",P.TYPE_OPERATOR_INVALID_ON_RIGHT="ANTLR_069",P.TYPE_INVALID_ASSIGNMENT_LOOP_PAIR="ANTLR_070",P.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP="ANTLR_071",P.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND="ANTLR_072",P.TYPE_QUERY_UNSUPPORTED_VALUE_TYPE="ANTLR_073",P.TYPE_UNEXPECTED_RUNTIME_RESULT_FOR_ORDER_BY_CLAUSE="ANTLR_074",P.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP="ANTLR_075",P.TYPE_INVALID_ORDER_BY_NAME_VALUE="ANTLR_076",P.TYPE_INVALID_ORDER_BY_SORT_VALUE="ANTLR_077",P.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY="ANTLR_78",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY="ANTLR_079",P.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE="ANTLR_080",P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP="ANTLR_081",P.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP="ANTLR_082",P.TYPE_UNEXPECTED_SWITCH_START_VALUE="ANTLR_083",P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE="ANTLR_084",P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_SEMANTIC_VALUE="ANTLR_085",P.TYPE_SWITCH_DEFAULT_MUST_BE_LAST="ANTLR_086",P.TYPE_PARSER_INVALID_SWITCH_TOKEN="ANTLR_087",P.TYPE_ORDER_BY_INVALID_RETURN_TYPE="ANTLR_088",P.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED="ANTLR_089",P.TYPE_PLUCK_INTO_MISSING_VARIABLE_TARGET="ANTLR_090",P.TYPE_PLUCK_INTO_INVALID_VARIABLE_TARGET="ANTLR_091",P.TYPE_PLUCK_INTO_NO_PREDICATE="ANTLR_092",P.TYPE_PLUCK_INTO_INVALID_PREDICATE_VALUE="ANTLR_093",P.TYPE_PLUCK_INTO_EMPTY_LOGIC_GROUP="ANTLR_094",P.TYPE_PLUCK_INTO_INVALID_NUMBER_OF_TUPLE_VARIABLES="ANTLR_095",P.TYPE_PLUCK_INTO_UNKNOWN_ALIAS_VARNAME="ANTLR_096",P.TYPE_PLUCK_INTO_UNEXPECTED_EMPTY_T_LOGIC_GROUP="ANTLR_097",P.TYPE_PLUCK_INTO_REFERENCE_TYPE_DYNAMIC="ANTLR_098",P.TYPE_PLUCK_INTO_REFERENCE_AMBIGUOUS="ANTLR_099",P.TYPE_RUNTIME_ASSIGNMENT_TO_NON_VAR="ANTLR_100",P.TYPE_ARR_MAKE_MISSING_TARGET="ANTLR_101",P.TYPE_ARR_MAKE_UNEXPECTED_TYPE="ANTLR_102",P.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE="ANTLR_103",P.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE="ANTLR_104",P.TYPE_ARR_UNEXPECT_ARG_SEPARATOR="ANTLR_105",P.TYPE_ARR_KEY_PAIR_MISSING_KEY="ANTLR_106",P.RUNTIME_PROTECTED_VAR_ACCESS="ANTLR_107",P.RUNTIME_PROTECTED_TAG_ACCESS="ANTLR_108",P.RUNTIME_PROTECTED_MODIFIER_ACCESS="ANTLR_109",P.TYPE_INCOMPLETE_PHP_EVALUATION_REGION="ANTLR_110",P.RUNTIME_PHP_NODE_WHEN_PHP_DISABLED="ANTLR_111",P.RUNTIME_PHP_NODE_USER_CONTENT_TAG="ANTLR_112",P.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST="ANTLR_113",P.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST="ANTLR_114",P.TYPE_MISSING_BODY_TUPLE_LIST="ANTLR_115",P.TYPE_MISSING_NAMES_TUPLE_LIST="ANTLR_116",P.TYPE_VALUE_NAME_LENGTH_MISMATCH_TUPLE_LIST="ANTLR_117",P.TYPE_INVALID_TUPLE_LIST_NAME_TYPE="ANTLR_118",P.TYPE_INVALID_MANIFESTED_NAME_GROUP="ANTLR_119",P.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP="ANTLR_120",P.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE="ANTLR_121",P.TYPE_RUNTIME_BAD_METHOD_CALL="ANTLR_122",P.TYPE_METHOD_CALL_MISSING_ARG_GROUP="ANTLR_123",P.TYPE_INVALID_METHOD_CALL_ARG_GROUP="ANTLR_124",P.TYPE_METHOD_CALL_MISSING_METHOD="ANTLR_125",P.TYPE_MODIFIER_NOT_FOUND="ANTLR_126",P.TYPE_RUNTIME_GENERAL_FAULT="ANTLR_127",P.TYPE_MODIFIER_INCORRECT_VALUE_POSITION="ANTLR_128",P.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX="ANTLR_129",P.TYPE_RUNTIME_ATTEMPTING_TO_RENDER_OBJECT_AS_STRING="ANTLR_130",P.TYPE_UNPAIRED_CLOSING_TAG="ANTLR_131",P.PARSER_CANNOT_PARSE_PATH_RECURSIVE="ANTLR_200",P.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR="ANTLR_201",P.LINT_UNKNOWN_PARAMETER="ANTLR_500",P.LINT_GENERAL_INVALID_PARAMETER_CONTENTS="ANTLR_501",P.LINT_PARAMETER_CONTENT_INVALID_INTEGER="ANTLR_502",P.LINT_PARAMETER_CONTENT_INVALID_BOOLEAN="ANT LR_503",P.LINT_PAGINATE_INVALID_VALUE="ANTLR_504",P.LINT_DEBUG_DATA_EXPOSED="ANTLR_505",P.LINT_DOUBLE_COLON_IN_TAG_IDENTIFIER="ANTLR_506",P.LINT_MIXED_MODIFIERS="ANTLR_507",P.LINT_MODIFIER_UNEXPECTED_TYPE="ANTLR_508",P.LINT_REMOVE_RELATE_TAG="ANTLR_509",P.LINT_SET_PRODUCES_RUNTIME_ERROR="ANTLR_510",P.LINT_FRONT_MATTER_EMPTY_DOCUMENT="ANTLR_511",P.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH="ANTLR_512",P.LINT_INVALID_FRONT_MATTER="ANTLR_513",P.LINT_DUPLICATE_CODE="ANTLR_514",P.LINT_VERSION_NOT_COMPATIBLE="ANTLR_515",P.LINT_INTERLEAVED_TAG_PAIRS="ANTLR_516",P.LINT_MISSING_REQUIRED_PARAMETER="ANTLR_517",P.LINT_POSSIBLE_PARTIAL_RECURSION="ANTLR_518";var lt=class{static distance(e,n){return e.endPosition==null||n.startPosition==null?this.DistMax:n.startPosition.index-e.endPosition.index}static getTrueName(e){var n,r,i,s;return e.originalNode!=null?(r=(n=e.originalNode.name)==null?void 0:n.name)!=null?r:"":(s=(i=e.name)==null?void 0:i.name)!=null?s:""}static getSimpleVarName(e){return e.variableReference!=null&&e.variableReference.pathParts.length==1&&e.variableReference.pathParts[0]instanceof Gn?e.variableReference.pathParts[0].name:""}static isVariableMatching(e,n){return e instanceof be?e.name==n:!1}static mergeVarContentLeft(e,n,r){return r.mergeRefName=r.name,r.endPosition=n.endPosition,r.name=r.name+e,r}static mergeVarContentRight(e,n,r){return r.mergeRefName=r.name,r.startPosition=n.startPosition,r.name=e+r.name,r}static mergeVarRight(e,n){return n.mergeRefName=n.name,n.startPosition=e.startPosition,n.name=e.name+n.name,n}static getUnrefName(e){return se.trimLeft(e,":.")}};lt.DistMax=65e3;var dr=class{static isConditionalStructure(e){var r,i;if(e.isComment)return!1;let n=(i=(r=e.name)==null?void 0:r.name)!=null?i:"";return n=="if"||n=="elseif"||n=="else"}static requiresClose(e){var r,i;let n=(i=(r=e.name)==null?void 0:r.name)!=null?i:"";return n=="elseif"||n=="else"?e.isClosedBy==null:!(e.isClosingTag||e.isClosedBy!=null)}static getValidClosingPairs(e){return e=="if"||e=="elseif"?dr.conditionClosingPairs:[]}static findClosestStructurePair(e,n,r){var u,c,f,m,g,p,d,h;let i=[],s=e.length,a=new Map,o=null;i.push({node:n,index:r});for(let y=0;y<s;y+=1){let b=e[y];if(b instanceof Q){let N=(c=(u=b.name)==null?void 0:u.name)!=null?c:"";if(b.isClosingTag&&N=="if"){a.set(y,y);continue}else if(N=="elseif"||N=="else"){a.set(y,y);continue}}}let l=a.size;for(;i.length>0;){let y=i.pop();if(y==null)continue;if(y.node._conditionParserAbandonPairing)break;let b=y.node,N=dr.getValidClosingPairs((m=(f=b.name)==null?void 0:f.name)!=null?m:""),_=y.index,w=!1;if(l>50&&o!=null){for(let[te,H]of a)if(te>_){_=te;break}}for(let te=_;te<s;te++){let H=e[te];if(H instanceof Q&&dr.isConditionalStructure(H)){if(dr.requiresClose(H)){i.push(y),i.push({node:H,index:te+1}),w=!0;break}if(b.isClosedBy!=null)continue;let j=(p=(g=H.name)==null?void 0:g.name)!=null?p:"",X=!1;if(H.ref==0&&(H.isClosingTag&&j=="if"||N.includes(j))&&(X=!0),H.refId==b.refId&&(X=!1),X){o=te,a.delete(te),b.isClosedBy=H,H.isOpenedBy=b,H.ref+=1,w=!0;break}}}if(!w&&b instanceof Q){let te=(h=(d=b.name)==null?void 0:d.name)!=null?h:"";if((te=="elseif"||te=="else")&&b.isOpenedBy==null){let H='Unpaired "'+lt.getTrueName(b)+'" control structure.';b.isInterpolationNode&&(H+=" Tag pairs are not supported within Antlers tags."),b.pushError(W.makeSyntaxError(P.TYPE_PARSE_UNPAIRED_CONDITIONAL,b,H)),b._conditionParserAbandonPairing=!0}if(b.isClosedBy==null&&dr.requiresClose(b)){let H='Unclosed "'+lt.getTrueName(b)+'" control structure.';b.isInterpolationNode&&(H+=" Tag pairs are not supported within Antlers tags."),b.pushError(W.makeSyntaxError(P.TYPE_PARSE_UNCLOSED_CONDITIONAL,b,H)),b._conditionParserAbandonPairing=!0}}}}static pairConditionals(e){for(let n=0;n<e.length;n+=1){let r=e[n];r instanceof Q&&dr.isConditionalStructure(r)&&dr.requiresClose(r)&&dr.findClosestStructurePair(e,r,n+1)}return e.forEach(n=>{var r,i;if(n instanceof Q&&dr.isConditionalStructure(n)){let s=(i=(r=n.name)==null?void 0:r.name)!=null?i:"";if((s=="elseif"||s=="else")&&n.isOpenedBy==null){n.pushError(W.makeSyntaxError(P.TYPE_PARSE_UNPAIRED_CONDITIONAL,n,'Unpaired "'+lt.getTrueName(n)+'" control structure.'));return}if(n.isClosedBy==null&&dr.requiresClose(n)){n.pushError(W.makeSyntaxError(P.TYPE_PARSE_UNCLOSED_CONDITIONAL,n,"Unclosed "+lt.getTrueName(n)+" control structure."));return}}}),e}},xi=dr;xi.conditionClosingPairs=["elseif","else"];function wi(t,e){return e==null&&(e="s"),t.replace(new RegExp("^["+e+"]+"),"")}function mt(t,e,n){return t.replace(new RegExp(e,"g"),n)}function yp(t,e){return e==null&&(e="s"),t.replace(new RegExp("["+e+"]+$"),"")}var ne=class{constructor(){this.refId=null;this.index=0;this.parent=null;this.content="";this.rawLexContent="";this.sourceContent="";this.startPosition=null;this.endPosition=null;this.modifierChain=null;this.originalAbstractNode=null;this.positionContexts=[];this.addedContexts=new Map;this.isVirtual=!0;this.isPartOfMethodChain=!1;this.isVirtualGroupMember=!1;this.isVirtualGroupOperatorResolve=!1;this.isSwitchGroupMember=!1;this.isListGroupMember=!1;this.producesVirtualStatementTerminator=!1;this.convertedToOperator=!1;this.scopeVariable=null;this.currentScope=null;this.manifestType="";this.scopeName=null;this.sourceType="";this.runtimeType=null;this.modifiers=new hp(this);this.prev=null;this.next=null;this.methodTarget=null;this.libraryTarget=null;this.antlersErrors=[];this.parser=null;this.refId=mt(ts(),"-","_")}getContexts(){return this.positionContexts}addContext(e){this.addedContexts.has(e.refId)==!1&&(this.addedContexts.set(e.refId,!0),this.positionContexts.push(e))}getRange(){if(this.originalAbstractNode!=null)return this.originalAbstractNode.getRange();if(this.startPosition==null||this.endPosition==null)return $o.Empty;let e=new $o;return e.start=this.startPosition,e.end=this.endPosition,e}withParser(e){this.parser=e}getParser(){return this.parser}pushError(e){this.parent!=null&&this.parent.pushError(e),this.antlersErrors.push(e),this.parent==null&&this.parser!=null&&this.parser.pushError(e)}mergeErrors(e){e.forEach(n=>{n.node==null&&(n.node=this),this.antlersErrors.push(n)})}getErrors(){return this.antlersErrors}innerContent(){return this.content}rawContent(){return this.content}},bp=class extends ne{constructor(){super(...arguments);this.head=null;this.tail=null;this.nodes=[]}},cr=class extends ne{constructor(){super(...arguments);this.logicBranches=[];this.chain=[]}},Q=class extends ne{constructor(){super(...arguments);this.isNodeAbanonded=!1;this.isComment=!1;this.isTagNode=!1;this.isConditionNode=!1;this.runtimeContent="";this.name=null;this.pathReference=null;this.isClosingTag=!1;this.isInterpolationNode=!1;this.isOpenedBy=null;this.isClosedBy=null;this.isSelfClosing=!1;this.children=[];this.runtimeNodes=[];this.parsedRuntimeNodes=[];this.hasParsedRuntimeNodes=!1;this.parameters=[];this.hasParameters=!1;this.contentOffset=null;this.cachedContent=null;this.cachedInnerContent=null;this.hasRecursiveNode=!1;this.recursiveReference=null;this.rawStart="";this.rawEnd="";this.originalNode=null;this.interpolationRegions=new Map;this.processedInterpolationRegions=new Map;this.hasProcessedInterpolationRegions=!1;this.ref=0;this.contentStartRelativeIndex=null;this.antlersNodeIndex=0;this.nameStartsOn=null;this.nameEndsOn=null;this.nameMethodPartStartsOn=null;this.structure=new gp(this);this.mustClose=!1;this.reference=null;this._conditionParserAbandonPairing=!1;this._isEndVirtual=!1}getOriginalContent(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.isClosedBy!=null?this.isClosedBy.startPosition==null||this.isClosedBy.endPosition==null?"":this.parser.getText(this.startPosition.index,this.isClosedBy.endPosition.index+1):this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getNodeDocumentText(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getInnerDocumentText(){if(this.startPosition==null||this.endPosition==null||this.parser==null)return"";if(this.isClosedBy==null)return this.getNodeDocumentText();let e=this.isClosedBy.startPosition;return e==null?"":this.parser.getText(this.endPosition.index+1,e.index)}nodeAtIndex(e){if(this.runtimeNodes.length==0)return null;for(let n=0;n<this.runtimeNodes.length;n++)if(this.runtimeNodes[n].index==e)return this.runtimeNodes[n];return null}getDepthCount(){if(this.parent==null)return 1;let e=this.parent,n=1;for(;e!=null;){if(n+=1,e.parent===e){e=null;break}e=e.parent}return n}isEmpty(){return this.content.trim().length==0}nameMatches(e){return this.name==null?!1:this.name.content==e}copyBasicDetails(){return this.copyBasicDetailsTo(new Q)}copyBasicDetailsTo(e){return e.refId=this.refId,e.isComment=this.isComment,e.isTagNode=this.isTagNode,e.children=this.children,e.parameters=this.parameters,e.isClosingTag=this.isClosingTag,e.rawStart=this.rawStart,e.rawEnd=this.rawEnd,e.startPosition=this.startPosition,e.endPosition=this.endPosition,e}id(){return this.refId}innerContent(){return this.cachedInnerContent==null&&(this.cachedInnerContent=this.content.replace('"','\\"')),this.cachedInnerContent}resetContentCache(){this.cachedContent=null,this.cachedInnerContent=null}hasMethodPart(){return this.name==null?!1:this.name.getMethodName()!=null}runtimeName(){return this.name==null?"":this.name.getCompoundTagName()}getTagName(){return this.name==null?"":this.name.name}getNameContent(){return this.name==null?"":this.name.content}getMethodNameValue(){if(this.name==null)return"";let e=this.name.getMethodName();return e!=null?e:""}methodIsEmptyOrMatches(e){return this.getMethodNameValue()==e}hasParameter(e){return this.findParameter(e)!=null}hasParameterWithValue(e,n){let r=this.findParameter(e);return r==null?!1:r.value==n}findParameterValue(e,n){let r=this.findParameter(e);return r==null?n:r.value}findParameterValueOrNull(e){let n=this.findParameter(e);return n==null?null:n.value}findParameter(e){if(this.parameters.length==0)return null;for(let n=0;n<this.parameters.length;n++)if(this.parameters[n].name==e)return this.parameters[n];return null}findAnyParameter(e){for(let n=0;n<e.length;n++){let r=this.findParameter(e[n]);if(r!=null)return r}return null}getContentRelativeStartIndex(){if(this.contentStartRelativeIndex==null){let e=this.content.split("");for(let n=0;n<e.length;n++)if(!se.ctypeSpace(e[n])){this.contentStartRelativeIndex=n;break}this.contentStartRelativeIndex==null&&(this.contentStartRelativeIndex=e.length),this.contentStartRelativeIndex+=this.rawStart.length}return this.contentStartRelativeIndex}getContent(){if(this.cachedContent==null)if(this.isComment)this.cachedContent=this.content,this.contentOffset=this.startPosition;else if(this.isTagNode){let e=this.content;e=se.trimLeft(e);let n=0;if(this.name!=null&&(n=this.name.compound.length),this.parameters.length>0){let a=0,o=this.parameters[0];o.startPosition!=null&&(a=o.startPosition.index-1);let l=e,u=l.trimLeft(),c=l.length-u.length,f=n;e=e.substr(0,a)}let r=e.trimLeft(),i=e.length-r.length,s=n+i+2;if(this.parser!=null){let a=0;this.startPosition!=null&&(a=this.startPosition.offset),this.contentOffset==this.parser.positionFromOffset(a+s,0)}this.name!=null?this.name.name=="if"||this.name.name=="elseif"||this.name.name=="unless"||this.name.name=="elseunless"?(e=" "+e.trimLeft(),this.cachedContent=e.substr(this.name.compound.length+1)):this.cachedContent=e:this.cachedContent=e}else if(this.parameters.length>0){let e=this.parameters[0],n=0;e.startPosition!=null&&(n=e.startPosition.index-1),this.contentOffset=this.startPosition,this.cachedContent=this.content.substr(0,n)}else this.contentOffset=this.startPosition,this.cachedContent=this.content;return this.cachedContent}relativePositionFromOffset(e,n){var r,i;return this.parser==null?null:this.parser.positionFromOffset(((i=(r=this.contentOffset)==null?void 0:r.offset)!=null?i:0)+e,n)}getInterpolationNode(e){if(this.processedInterpolationRegions.has(e)){let n=this.processedInterpolationRegions.get(e);if(n.length>0&&n[0]instanceof Q)return n[0]}return null}_lexerRelativeOffset(e,n=null){var a,o;let r=e;if(n!=null&&(r=n),this.parser==null){let l=new ur;return l.index=e,l.offset=e,l}let i=e+this.rawStart.length+((o=(a=this.startPosition)==null?void 0:a.index)!=null?o:0);return this.isTagNode&&this.nameStartsOn!=null&&(i=this.nameStartsOn.index+e,xi.isConditionalStructure(this)||(i-=this.rawStart.length)),this.parser.positionFromOffset(i,i,!0)}relativeOffset(e,n=null){var a,o;let r=e;if(n!=null&&(r=n),this.parser==null){let l=new ur;return l.index=e,l.offset=e,l}let i=e+this.rawStart.length+((o=(a=this.startPosition)==null?void 0:a.index)!=null?o:0);return this.parser.positionFromOffset(i,i,!0)}isPaired(){return!(this.isClosedBy==null||this.isSelfClosing)}rawContent(){return this.rawStart+this.content+this.rawEnd}getTrueRuntimeNodes(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRuntimeNodes():this.runtimeNodes}getTrueRawContent(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRawContent():this.rawContent()}getTrueNode(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueNode():this}getStructuralChildren(){return this.isClosedBy!=null?mp(this.children.slice(0,-1)):mp(this.children)}findParentOfType(e){return this.parent==null?null:this.parent instanceof Q?this.parent.name!=null&&e.includes(this.parent.getTagName())?this.parent:this.parent.findParentOfType(e):null}},Nn=class extends Q{static makeWithStartPosition(e){let n=new Nn;return n.startPosition=e,n.endPosition=e,n}},gt=class extends Nn{},Fn=class extends Q{constructor(){super(...arguments);this.recursiveParent=null;this.isNestedRecursive=!1}},Ea=class extends Q{constructor(){super(...arguments);this.isEchoNode=!1}},Ko=class extends Nn{},Tp=class extends Nn{},di=class extends Q{constructor(){super(...arguments);this.isNoParseRegion=!1}},zo=class extends ne{constructor(){super(...arguments);this.modifier=null;this.isModifierParameter=!1;this.nameDelimiter='"';this.isVariableReference=!1;this.name="";this.value="";this.interpolations=[];this.parent=null;this.blockPosition=null;this.namePosition=null;this.valuePosition=null}containsSimpleValue(){return this.hasInterpolations()==!1&&this.isVariableReference==!1}hasInterpolations(){return this.interpolations.length>0}getArrayValue(){return this.value.split("|")}getValue(){return this.value}},Xo=class{constructor(){this.modifierTarget=null;this.modifierChain=[];this.startPosition=null;this.endPosition=null;this.lastManifestedModifier=null;this.lastModifier=null}updateValues(){if(this.modifierChain.length==0)this.startPosition=null,this.endPosition=null;else{let e=this.modifierChain[0],n=this.modifierChain[this.modifierChain.length-1];this.startPosition=e.startPosition,this.endPosition=n.endPosition}}},Aa=class extends ne{constructor(){super(...arguments);this.modifier=null;this.methodStyleArguments=null;this.nameNode=null;this.name="";this.valueNodes=[];this.parameters=[]}getParameterValues(){let e=[];return this.parameters.forEach(n=>{e.push(n.value)}),e}},Qo=class extends ne{constructor(){super(...arguments);this.order=0;this.name=null;this.directionNode=null}},vp=class extends ne{constructor(){super(...arguments);this.value=""}},Or=class extends ne{},hr=class extends ne{},Lr=class extends ne{},Yn=class extends ne{},Hn=class extends ne{},hi=class extends ne{},rs=class extends ne{constructor(){super(...arguments);this.repeat=1}},mi=class extends ne{},$n=class extends ne{},Cn=class extends ne{},Fr=class extends ne{},Mr=class extends ne{},Kn=class extends ne{},kr=class extends ne{},qr=class extends ne{},gi=class extends ne{},Mn=class extends ne{},mr=class extends ne{},Oi=class extends ne{},Br=class extends ne{},Vr=class extends ne{},jr=class extends ne{},Ur=class extends ne{},Wr=class extends ne{},Gr=class extends ne{},Li=class extends ne{},Yr=class extends ne{},un=class extends ne{},qs=class extends ne{constructor(){super(...arguments);this.orderClauses=[]}},At=class extends ne{},Pn=class extends ne{},Jo=class extends ne{constructor(){super(...arguments);this.left=null;this.right=null}},En=class extends ne{constructor(){super(...arguments);this.isTenaryBranchSeparator=!1}},Hr=class extends ne{},gr=class extends ne{},cn=class extends ne{},$r=class extends ne{},_i=class extends ne{},_r=class extends ne{},An=class extends ne{},yi=class extends ne{},Ht=class extends ne{},en=class extends ne{},Sa=class extends ne{constructor(){super(...arguments);this.values=[];this.isNamedNode=!1;this.parsedName=null}},We=class extends ne{constructor(){super(...arguments);this.start=null;this.end=null;this.nodes=[];this.scopeOperator=null}},Ia=class extends ne{constructor(){super(...arguments);this.condition=null;this.expression=null}},Bs=class extends ne{constructor(){super(...arguments);this.cases=[]}},Np=class extends ne{constructor(){super(...arguments);this.left=null;this.right=null}},Fi=class extends ne{constructor(){super(...arguments);this.nodes=[]}},Zo=class extends ne{constructor(){super(...arguments);this.head=null;this.truthBranch=null;this.falseBranch=null}},xt=class extends ne{},kt=class extends ne{constructor(){super(...arguments);this.nodes=[];this.separatorToken=null}},yr=class extends We{constructor(){super(...arguments);this.scope=null}extract(){let e=null;this.scope!=null&&(e=this.scope.name);let n=this.nodes[0];return[e,n.nodes]}},Mi=class extends yr{constructor(){super(...arguments);this.alias=null}},Da=class extends ne{constructor(){super(...arguments);this.args=[];this.hasNamedArguments=!1;this.numberOfNamedArguments=0}},Kr=class extends ne{},Cp=class extends ne{};var is=class extends ne{constructor(){super(...arguments);this.libraryName="";this.methodName="";this.arguments=null}},$t=class extends ne{},tn=class extends ne{constructor(){super(...arguments);this.method=null;this.args=null}},mn=class extends ne{constructor(){super(...arguments);this.name=""}},Kt=class extends ne{constructor(){super(...arguments);this.value="";this.name=""}},Ru=class extends ne{constructor(){super(...arguments);this.name=null;this.value=null}},el=class extends ne{constructor(){super(...arguments);this.name=null;this.value=null}},qt=class extends ne{constructor(){super(...arguments);this.value=null}},St=class extends ne{constructor(){super(...arguments);this.value="";this.sourceTerminator=""}},be=class extends ne{constructor(){super(...arguments);this.name="";this.mergeRefName="";this.variableReference=null;this.interpolationNodes=[];this.isInterpolationReference=!1}},Pp=class extends ne{constructor(){super(...arguments);this.name=""}},Gn=class extends ne{constructor(){super(...arguments);this.delimiter="";this.name="";this.isStringVar=!1;this.isFinal=!1}},ss=class{constructor(){this.originalContent="";this.normalizedReference="";this.isStrictTagReference=!1;this.isStrictVariableReference=!1;this.isExplicitVariableReference=!1;this.isVariableVariable=!1;this.pathParts=[];this.isFinal=!1;this._isFromEmptyFailState=!1}clone(){let e=new ss;return e.originalContent=this.originalContent,e.normalizedReference=this.normalizedReference,e.isStrictVariableReference=this.isStrictVariableReference,e.isExplicitVariableReference=this.isExplicitVariableReference,e.pathParts=this.pathParts,e.isFinal=this.isFinal,e}implodePaths(){let e=[];return this.pathParts.forEach(n=>{n instanceof Gn?e.push(n.name):n instanceof ss&&e.push(n.implodePaths())}),e.join(".")}},Ep=class{constructor(e,n,r){this.target=e,this.value=n,this.operator=r}};var Pv=Be(ti());var Ua=Be(vt());function Sd(t,e){let n=[];if(t.currentNode==null)return n;let r={start:{line:t.position.line,character:t.position.character-0},end:t.position};for(let i=0;i<e.length;i++){let s=e[i];if(!t.currentNode.hasParameter(s.name)){let a=s.name+'="$1"';n.push({label:s.name,kind:Ua.CompletionItemKind.Value,insertTextFormat:Ua.InsertTextFormat.Snippet,textEdit:Ua.TextEdit.replace(r,a),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return n}var tc=Be(vt());function Wa(t,e,n){return{label:t,insertText:t,kind:tc.CompletionItemKind.Field,detail:n+": "+e}}function nc(t){let e=[];for(let n=0;n<t.length;n++)typeof t[n].name!="undefined"&&e.push(Id(t[n]));return e}function Id(t){let e="",n=t.name;return t.instructionText!=null&&(e=t.instructionText),t.displayName!=null&&(n=t.displayName+" ("+t.name+")"),t.blueprintName!=null&&(e.trim().length>0&&(e+=`
`),e+="Blueprint: "+t.blueprintName),t.type!=null&&(n+=": "+t.type),{label:t.name,insertText:t.name,kind:tc.CompletionItemKind.Field,documentation:e,detail:n}}function Ue(t,e,n,r){let i="**"+t+"**  ";return i+=`
`,i+=e+"  ",i+="\n```antlers\n",i+=n,i+="\n```",r!=null&&(i+=`

`,i+="[Documentation Reference]("+r+")"),i}function q(t,e,n){let r="**"+t+"**  ";return r+=`
`,r+=e+"  ",n!=null&&(r+=`

`,r+="[Documentation Reference]("+n+")"),r}function Ga(t){let e=[];return t=="order"&&e.push("sort"),e}function Ix(t){return{blueprintName:t.sourceName,displayName:t.name,instructionText:"",maxItems:-1,name:t.name,refFieldSetField:null,type:t.dataType,sets:null,import:null}}function rc(t){let e=[];for(let n=0;n<t.length;n++)e.push(Ix(t[n]));return e}function Xe(t){return[{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"order",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t}]}function Kb(t,e,n){if(typeof n=="undefined"||n===null)return;let r=t.findParameter("as"),i=t.findParameter("scope");n=n.concat(rc(Xe(t))),r!=null&&i!=null?e.introduceScopedAliasScope(t,i.value,r.value,n):r!=null?e.introduceAliasScope(t,r.value,n):i!=null?e.introduceDynamicScopeList(t,i.value,n):e.addBlueprintFields(t,n)}function zb(t){return[{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t},{name:"total_results",dataType:"integer",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t}]}var ni=Be(vt());var ps=[{isRequired:!1,name:"from",description:"The collection name to retrieve entries from",aliases:["folder","use"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"not_from",aliases:["not_folder","dont_use"],description:"The collections to exclude when retrieving entries",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"show_unpublished",aliases:null,description:"Controls whether unpbulished entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_published",aliases:null,description:"Controls whether published entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_past",aliases:null,description:"Controls whether to display entries with a past date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"since",aliases:null,description:"Sets the minimum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"until",aliases:null,description:"Sets the maximum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the entry sort order",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",aliases:null,description:"Sets the maximum number of entries to return",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["integer"],isDynamic:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope",expectsTypes:["string"],isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets the amount that entry results should be offset by",expectsTypes:["integer"],isRequired:!1,name:"offset",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether not to paginate entry results",expectsTypes:["boolean","number"],isRequired:!1,name:"paginate",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies a name to give to a new entries array variable",expectsTypes:["string"],isRequired:!1,name:"as",isDynamic:!1},{name:"scope",aliases:null,acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Sets a prefix on all entry variables",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"locale",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the locale in which to retrieve entry content",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"redirects",aliases:["links"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Controls whether entries with redirects are returned",expectsTypes:["boolean"],isRequired:!1,isDynamic:!1}],Xb=["from","folder","use"],Qb=["not_from","not_folder","dont_use"],Jb=["draft","scheduled","expired","published"];function Zb(t){let e=[];if(t.project!=null){let n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position},r=t.project.getUniqueTaxonomyNames();for(let i=0;i<r.length;i++){let s=r[i],a=t.originalLeftWord+s+'="$1"';e.push({label:t.originalLeftWord+s,insertTextFormat:ni.InsertTextFormat.Snippet,kind:ni.CompletionItemKind.Field,textEdit:ni.TextEdit.replace(n,a),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return e}function Ya(t,e){let n=[];if(t.reference!=null){let r=t.reference,i=e.statamicProject.getBlueprintFields(r.collectionNames);typeof i!="undefined"&&i!=null&&(n=i)}return n}function eT(t){let e=[],n=Jb.filter(r=>!t.includes(r));for(let r=0;r<n.length;r++)e.push({label:n[r],kind:ni.CompletionItemKind.Variable});return e}function tT(t,e,n){let r=[],i=n.getTaxonomyTerms(e),s=i.filter(a=>!t.includes(a));for(let a=0;a<s.length;a++)r.push({label:s[a],kind:ni.CompletionItemKind.Variable});return r}function nT(t){let e=[],n=t.getCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:ni.CompletionItemKind.Variable});return e}function Ha(t,e){let n=[],r=e.getCollectionNames().filter(i=>!t.includes(i));for(let i=0;i<r.length;i++)n.push({label:r[i],kind:ni.CompletionItemKind.Variable});return n}function ic(t){let e=[],n=t.getCollectionQueryScopes();for(let r=0;r<n.length;r++)e.push({label:n[r].name,detail:n[r].description,kind:ni.CompletionItemKind.Variable});return e}function $a(t,e){if(t.isClosingTag)return e;if(t.hasMethodPart()&&t.getMethodNameValue()!="count"&&e.addVariables(zb(t)),t.reference!=null){let n=Ya(t,e);Kb(t,e,n)}return e}var _l=Be(ti());var sc=Be(vt());var Dd=[{name:"is",description:"Tests if a field is equal to a value"},{name:"equals",description:"Tests if a field is equal to a value"},{name:"not",description:"Tests if a field is not equal to a value"},{name:"isnt",description:"Tests if a field is not equal to a value"},{name:"exists",description:"Tests if a field exists"},{name:"isset",description:"Tests if a field exists"},{name:"doesnt_exist",description:"Tests if a field does not exist"},{name:"is_empty",description:"Tests if a field does not exist"},{name:"null",description:"Tests if a field does not exist"},{name:"contains",description:"Tests if a field contains a value"},{name:"doesnt_contain",description:"Tests if a field does not contain a value"},{name:"in",description:"Tests if a value is in an array"},{name:"not_in",description:"Tests if an array does not contain a value"},{name:"starts_with",description:"Tests if a field starts with a value"},{name:"doesnt_start_with",description:"Tests if a field does not start with a value"},{name:"ends_with",description:"Tests if a field ends with a value"},{name:"doesnt_end_with",description:"Tests if a field does not end with a value"},{name:"gt",description:"Tests if a field is greater than a value"},{name:"lt",description:"Tests if a field is less than a value"},{name:"gte",description:"Tests if a field is greater than or equal to a value"},{name:"lte",description:"Tests if a field is less than or equal to a value"},{name:"matches",description:"Tests if a field matches a case insensitive regex"},{name:"regex",description:"Tests if a field matches a case insensitive regex"},{name:"doesnt_match",description:"Tests if a field does not match a case insensitive regex"},{name:"is_alpha",description:"Tests if a field contains only alphabetical characters"},{name:"is_numeric",description:"Tests if a field contains only numeric characters"},{name:"is_alpha_numeric",description:"Tests if a field contains only alpha-numeric characters"},{name:"is_url",description:"Tests if a field is a valid URL"},{name:"is_embeddable",description:"Tests if a field is an embeddable video URL"},{name:"is_email",description:"Tests if a field is a valid email address"},{name:"is_after",description:"Tests if a field is after a given date"},{name:"is_before",description:"Tests if a field is before a given date"}];function ds(t){let e=[],n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};for(let r=0;r<Dd.length;r++){let i=Dd[r],s=t.originalLeftWord+i.name+'="$1"';e.push({label:i.name,insertTextFormat:sc.InsertTextFormat.PlainText,kind:sc.CompletionItemKind.Field})}return e}var $s=Be(qn());var Rd=class{static clear(e){this.unclosedNodes.delete(e)}static registerNodes(e,n){this.unclosedNodes.set(e,n)}static getUnclosedTags(e,n){var a,o,l;let r=[];if(this.unclosedNodes.has(e)==!1)return r;let i=this.unclosedNodes.get(e);if(i.length==0)return r;let s=n.line+1;for(let u=0;u<i.length;u++){let c=i[u];(((a=c.endPosition)==null?void 0:a.line)==s&&n.character>c.endPosition.char||s>((l=(o=c.endPosition)==null?void 0:o.line)!=null?l:0))&&r.push(c)}return r}static hasUnclosedTags(e,n){return this.unclosedNodes.has(e)==!1?!1:this.getUnclosedTags(e,n).length>0}};Rd.unclosedNodes=new Map;function hs(t){return[{name:"edit_url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"id",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"last_modified",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"permalink",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"published",dataType:"boolean",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"slug",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"template",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t}]}var Qn=Be(ti()),Dx=[{label:"name",kind:Qn.CompletionItemKind.Property},{label:"description",kind:Qn.CompletionItemKind.Property},{label:"desc",kind:Qn.CompletionItemKind.Property},{label:"entry",kind:Qn.CompletionItemKind.Property},{label:"collection",kind:Qn.CompletionItemKind.Property},{label:"blueprint",kind:Qn.CompletionItemKind.Property},{label:"var",kind:Qn.CompletionItemKind.Property},{label:"set",kind:Qn.CompletionItemKind.Property},{label:"param",kind:Qn.CompletionItemKind.Property},{label:"param*",kind:Qn.CompletionItemKind.Property},{label:"front",kind:Qn.CompletionItemKind.Property},{label:"format",kind:Qn.CompletionItemKind.Property}];var ac=Be(vt()),Mj=[{label:"if",kind:ac.CompletionItemKind.Keyword},{label:"elseif",kind:ac.CompletionItemKind.Keyword},{label:"else",kind:ac.CompletionItemKind.Keyword}];var xd=Be(ti()),Rx=Be(vt());var wd=Be(vt()),gl=[];gl.push({label:"true",kind:wd.CompletionItemKind.Keyword});gl.push({label:"false",kind:wd.CompletionItemKind.Keyword});function et(t){return[{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"value",introducedBy:t},{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"key",introducedBy:t}]}var xx={name:"array",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},rT=xx;var wx={name:"bard",augmentScope:(t,e)=>{e.addVariable({name:"type",dataType:"string",sourceField:null,sourceName:"*internal.bard",introducedBy:t})},injectCompletions:(t,e,n)=>[]},iT=wx;var Ox={name:"form_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},sT=Ox;var Lx={name:"list",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},aT=Lx;function oT(t){return[{name:"type",dataType:"string",sourceName:"*internal.replicator",sourceField:null,introducedBy:t}]}var Fx={name:"replicator",augmentScope:(t,e)=>{e.addVariables(oT(t)),e.addVariables(Xe(t))},injectCompletions:(t,e,n)=>[]},lT=Fx;var Mx={name:"select_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},uT=Mx;var kx={name:"sites_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},cT=kx;var qx={name:"structures_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},fT=qx;var Bx={name:"table",augmentScope:(t,e)=>{e.addVariable({name:"cells",dataType:"array",sourceName:"*internal.fieldtype.table",sourceField:null,introducedBy:t})}},pT=Bx;var Vx={name:"tags",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},dT=Vx;function oc(t){return hs(t).concat([{name:"entries_count",dataType:"number",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"is_term",dataType:"boolean",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"taxonomy",dataType:"string",sourceName:"*internal.term",sourceField:null,introducedBy:t}])}var jx={name:"taxonomies_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t)),e.addVariables(oc(t))}},hT=jx;var Ux={name:"terms_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t)),e.addVariables(oc(t))}},mT=Ux;var Wx={name:"user_groups_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},gT=Wx;var Gx={name:"user_roles_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},_T=Gx;var Yx={name:"users_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t)),e.injectBlueprint(t,"user")}},yT=Yx;var Hx={name:"yaml",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},bT=Hx;var $x=[rT,iT,sT,aT,lT,uT,cT,fT,bT,pT,hT,dT,mT,yT,gT,_T],TT=$x;var ms=class{constructor(){this.fieldTypes=new Map}getFieldTypes(){return this.fieldTypes}getFieldType(e){return this.fieldTypes.get(e)}registerFieldtypes(e){for(let n=0;n<e.length;n++)this.fieldTypes.set(e[n].name,e[n])}loadCoreFieldtypes(){this.registerFieldtypes(TT)}hasFieldtype(e){return this.fieldTypes.has(e)}};ms.instance=null;(typeof ms.instance=="undefined"||ms.instance==null)&&(ms.instance=new ms,ms.instance.loadCoreFieldtypes());var lc=ms;function uc(t){let e="";return t.currentNode!=null&&(e=t.currentNode.getMethodNameValue()),e}function Wi(t){if(t.includes(":")==!1)return t;let e=t.split(":");return e.length>1?e[e.length-1]:e[0].trim()}function cc(t){return t.includes(":")==!1?t:t.split(":")[0]}function vT(t){var n;if(t.nodesInScope.length==0)return[];let e=t.nodesInScope[t.nodesInScope.length-1];return((n=t.context)==null?void 0:n.node)!=null&&(e=t.context.node),e.currentScope==null?[]:Kx(t,e.currentScope)}function Kx(t,e){let n=[];return e.values.forEach(r=>{var i;if(r.sourceField!=null?n.push({label:r.name,detail:r.sourceField.blueprintName,documentation:(i=r.sourceField.instructionText)!=null?i:"",kind:$s.CompletionItemKind.Field}):n.push(Wa(r.name,"","")),r.dataType.trim().length>0&&r.dataType=="array"){let s=r.name+` }}
    $1
{{ /`+r.name+" ",a={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};n.push({label:r.name+" loop",insertTextFormat:$s.InsertTextFormat.Snippet,kind:$s.CompletionItemKind.Snippet,textEdit:$s.TextEdit.replace(a,s),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}),e.lists.forEach((r,i)=>{n.push(Wa(i,"",""))}),n}var NT=Be(ti());function Se(t){let e="";typeof t!="undefined"&&typeof t.resolveDocumentation!="undefined"&&t.resolveDocumentation!=null&&(e=t.resolveDocumentation());let n=t.tagName;if(n.includes(":")){let r=n.split(":");n=r[r.length-1]}return{label:n,kind:NT.CompletionItemKind.Text,sortText:"1",documentation:{kind:"markdown",value:e}}}var Od=Be(vt());function CT(t,e,n){return{name:t,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:e,expectsTypes:["string"],isDynamic:!0,isRequired:!1,documentationLink:n,docLinkName:"MDN Reference"}}var PT=CT("class","A space-separated list of the classes of the element.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/class"),ET=CT("style","Contains CSS styling declarations to be applied to the element. Note that it is recommended for styles to be defined in a separate file or files.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/style");function fc(t){return t=="class"?PT:t=="style"?ET:{name:t,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"",expectsTypes:["string","number","array"],isRequired:!1,isDynamic:!0}}function AT(t){let e=[];for(let n=0;n<t.length;n++)e.push({label:t[n],kind:Od.CompletionItemKind.Field});return re(e)}function yt(t){let e=[];for(let n=0;n<t.length;n++)e.push({label:t[n],kind:Od.CompletionItemKind.Field});return re(e)}function re(t){return{items:t,isExclusiveResult:!0,analyzeDefaults:!1}}function _n(t){return{items:t,isExclusiveResult:!1,analyzeDefaults:!0}}var ve={items:[],isExclusiveResult:!1,analyzeDefaults:!0};function at(t,e){let n=zx(t);return n.tagName=e,n}function zx(t){return{allowsArbitraryParameters:t.allowsArbitraryParameters,allowsContentClose:t.allowsContentClose,injectParentScope:t.injectParentScope,parameters:t.parameters,requiresClose:t.requiresClose,tagName:t.tagName,introducedIn:t.introducedIn,hideFromCompletions:t.hideFromCompletions,augmentScope:t.augmentScope,requiresCloseResolver:t.requiresCloseResolver,resolveCompletionItems:t.resolveCompletionItems,resolveDynamicParameter:t.resolveDynamicParameter,resolveSpecialType:t.resolveSpecialType,resovleParameterCompletionItems:t.resovleParameterCompletionItems,suggestAlternativeParams:t.suggestAlternativeParams,resolveDocumentation:t.resolveDocumentation}}function ST(t){return t.findParameterValueOrNull("scope")}function IT(t){t.getAllNodes().forEach(n=>{n instanceof Q&&n.manifestType==="array"&&(n.mustClose=!0)})}function Xx(t){return t.findParameterValueOrNull("as")}var Qx=["count","next","previous"];function Jx(t,e){let n=[];if(t.hasMethodPart()){let o=t.getMethodNameValue();if(Qx.includes(o)==!1)return n.push(o),n}let r=t.findAnyParameter(Xb),i=t.findAnyParameter(Qb),s=[],a=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueCollectionNames(),typeof i!="undefined"&&i!==null&&i.isVariableReference==!1&&i.hasInterpolations()==!1&&(a=i.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),a.length>0?n=s.filter(function(o){return a.includes(o)==!1}):n=s,n}function gs(t,e){var u,c,f,m,g,p;let n=Jx(t,e),r=!1,i=!1,s=!1,a=null,o="";if(t.isClosingTag==!1){let d=Xx(t),h=ST(t);d!=null&&(r=!0,o=d),h!=null&&(s=!0,a=h),i=t.hasParameter("paginate")}return{context:{collectionNames:n!=null?n:[],endPosition:(c=(u=t.endPosition)==null?void 0:u.char)!=null?c:0,aliasName:o,isAliased:r,isScoped:s,scopeName:a,isStartOfScope:!t.isClosingTag,line:(m=(f=t.startPosition)==null?void 0:f.line)!=null?m:0,startPosition:(p=(g=t.startPosition)==null?void 0:g.char)!=null?p:0,isPaginated:i,excludeCollections:[],includeCollections:[]},issues:[]}}function Ka(t,e){if(t==null)return null;let n=wi(e,":");return n.includes(":")&&(n=n.split(":")[0]),n=="status"||n=="taxonomy"||t.currentScope!=null&&t.currentScope.containsReference(n)?fc(e):null}var Zx=["from","folder","use","not_from","not_folder"],ew=["previous","next"],tw=["in","collection"];function _s(t,e){var n,r,i,s,a,o,l,u,c,f;if(t.isDynamic){let m=cc(t.name);if(e.nodesInScope.length>0){let g=e.nodesInScope[e.nodesInScope.length-1];if(g!=null&&g.currentScope!=null){let p=Ya(g,g.currentScope),d=p.map(y=>y.name),h=Wi(e.leftWord);if(d.includes(h))return re(ds(e))}}if(m=="status"&&((n=e.context)==null?void 0:n.parameterContext)!=null)return re(eT((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[]));if(m=="taxonomy"){let g=Wi(t.name);if(e.project.hasTaxonomy(g)&&((s=e.context)==null?void 0:s.parameterContext)!=null)return re(tT((o=(a=e.context.parameterContext.parameter)==null?void 0:a.getArrayValue())!=null?o:[],g,e.project))}}if(t.name=="filter"||t.name=="query_scope")return re(ic(e.project));if(e.nodesInScope.length>0){let m=e.nodesInScope[e.nodesInScope.length-1];if(m.hasMethodPart()&&ew.includes(m.getMethodNameValue())&&tw.includes(t.name))return re(nT(e.project))}return Zx.includes(t.name)&&((l=e.context)==null?void 0:l.parameterContext)!=null?re(Ha((f=(c=(u=e.context)==null?void 0:u.parameterContext.parameter)==null?void 0:c.getArrayValue())!=null?f:[],e.project)):null}var nw={tagName:"collection:previous",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...ps,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:$a,resolveDynamicParameter:Ka,resolveSpecialType:gs,suggestAlternativeParams:Ga,resovleParameterCompletionItems:_s,resolveCompletionItems:za,resolveDocumentation:t=>Ue("collection:previous Tag","The `collection:previous` tag is used to show the entries that appear before the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the previous two entries, based on dates in ascending order. #}}
{{ collection:previous in="articles" limit="2" sort="date:asc" }}

{{ /collection:previous }}`,"https://statamic.dev/tags/collection-previous")},Ks=nw;var pc=at(Ks,"collection:older"),dc=at(Ks,"collection:newer");var rw={tagName:"collection:count",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...ps,{isRequired:!0,name:"in",aliases:["from"],description:"The collection from which to count entries",acceptsVariableInterpolation:!0,allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:gs,resovleParameterCompletionItems:_s,resolveDocumentation:t=>Ue("collection:count Tag","The `collection:count` tag returns the total number of entries in the specified collection(s). The collection count tag accepts the same parameters as the collection tag, allowing developers to count entries that meet specific conditions.",`Total entry count: {{ collection:count in="collection-name" }}
Draft count: {{ collection:count in="collection-name" status:in="draft" }}`,"https://statamic.dev/tags/collection-count")},hc=rw;var iw={tagName:"collection:next",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...ps,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:$a,resolveDynamicParameter:Ka,resolveSpecialType:gs,suggestAlternativeParams:Ga,resovleParameterCompletionItems:_s,resolveCompletionItems:za,resolveDocumentation:t=>Ue("collection:next Tag","The `collection:next` tag is used to show the entries that will appear after the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the next two entries, based on dates in ascending order. #}}
{{ collection:next in="articles" limit="2" sort="date:asc" }}

{{ /collection:next }}`,"https://statamic.dev/tags/collection-next")},mc=iw;function za(t){var n,r;let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="collection"||t.leftWord=="/collection")&&t.leftChar==":"){let i=t.project.getCollectionNames();for(let s=0;s<i.length;s++)e.push({label:i[s],kind:_l.CompletionItemKind.Field,sortText:"0"});return e.push(Se(hc)),e.push(Se(mc)),e.push(Se(Ks)),e.push(Se(pc)),e.push(Se(dc)),{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}if(t.currentNode!=null&&t.currentNode.currentScope!=null){let i=Ya(t.currentNode,t.currentNode.currentScope),s=i.map(o=>o.name),a=Wi(t.leftWord);if(a==="taxonomy")return re(Zb(t));if(s.includes(a))return e=ds(t),re(e);if(t.isCaretInTag&&!((n=t.context)==null?void 0:n.isInParameter)&&["collection","/collection"].includes(t.leftWord)==!1&&t.leftChar!=" "){let o=[];for(let l=0;l<i.length;l++){let u=i[l];o.includes(u.name)==!1&&(e.push({label:u.name,detail:u.blueprintName,documentation:(r=u.instructionText)!=null?r:"",kind:_l.CompletionItemKind.Field}),o.push(u.name))}if(e.push({label:"taxonomy",insertText:"taxonomy:",kind:_l.CompletionItemKind.Field}),e.push({label:"status",insertText:"status:",kind:_l.CompletionItemKind.Field}),e.length>0)return _n(e)}}return ve}var sw={tagName:"collection",hideFromCompletions:!1,introducedIn:null,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:ps,augmentScope:$a,resolveDynamicParameter:Ka,resolveSpecialType:gs,suggestAlternativeParams:Ga,resovleParameterCompletionItems:_s,resolveCompletionItems:za,resolveDocumentation:t=>Ue("collection Tag","The `collection` tag provides access to entry data such as blog posts, products, etc.",`{{ collection:articles as="posts" }}

	{{ posts }}
		{{ title }}
	{{ /posts }}

{{ /collection:articles }}`,"https://statamic.dev/tags/collection")},DT=sw;var aw={tagName:"cache",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,allowsContentClose:!1,allowsArbitraryParameters:!1,resovleParameterCompletionItems:(t,e)=>t.name=="scope"?yt(["page","site"]):null,parameters:[{isRequired:!1,name:"for",description:"The duration the cache is valid for",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"key",description:"An arbitrary name the cache entry may be referenced by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"scope",description:" The scope of the cached value. Either site or page.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:(t,e)=>{let n=t.findParameter("key"),r=null;if(n!=null){let i=n.value;i.trim().length>0&&(r={key:i,reference:t})}return{context:r,issues:[]}},resolveDocumentation:t=>Ue("cache Tag","The `cache` tag can be used to save the results of an expensive template operation. The duration of the cache can be configured.",`{{ cache for="10 minutes" }}
    {{# Template code that won't be re-rendered for at least 10 minutes. #}}
{{ /cache }}`,"https://statamic.dev/tags/cache")},RT=aw;var ow={tagName:"dump",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.leftWord=="dump"&&t.leftChar==":"?re(vT(t)):ve,resolveDocumentation:t=>Ue("dump Tag","The `dump` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered.",`{{ collection:articles }}
	{{# View all data available, for each entry. #}}
    {{ dump }}
{{ /collection:articles }}`,"https://statamic.dev/tags/dump")},xT=ow;var lw={tagName:"404",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Ue("404 (Not Found) Tag","The `404` (Not Found) tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ 404 }}
{{ /unless }}`,"https://statamic.dev/tags/404")},wT=lw;var uw={tagName:"link",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The relative path",expectsTypes:["string"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!0,isDynamic:!1},{name:"absolute",description:"Whether to generate absolute URLs. Default false",expectsTypes:["boolean"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1},{name:"id",description:"The ID of the entry to link to",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1},{name:"in",description:"The handle of the site to link to.",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>q("link Tag","The `link` tag accepts relative URLs or entry IDs and generates fully-qualified URLs to the desired content.","https://statamic.dev/tags/link")},OT=uw;var LT={tagName:"loop",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>q("loop Tag","The `loop` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")},FT={tagName:"range",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>q("range Tag","The `range` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")};var Jn=Be(ti());var zs=class{constructor(){this.loadedDocuments=new Map;this.activeProject=null}getDocuments(){let e=[];return this.loadedDocuments.forEach(n=>{e.push(n)}),e}setProject(e){this.activeProject=e,this.loadedDocuments.forEach(n=>{this.activeProject!=null&&n.updateProject(this.activeProject)})}refreshDocumentState(){this.activeProject!=null&&this.setProject(this.activeProject)}hasDocument(e){return this.loadedDocuments.has(e)}createDocument(e){if(!this.loadedDocuments.has(e)){let n=new Gi;n.documentUri=e,this.loadedDocuments.set(e,n)}}loadDocument(e,n){this.loadedDocuments.set(e,Gi.fromText(n))}getDocument(e){return this.loadedDocuments.get(e)}updateDocument(e,n){var r,i;if(this.loadedDocuments.has(e)){let s=this.loadedDocuments.get(e);s.loadString(n);let a=(i=(r=lr.instance)==null?void 0:r.getStructure())==null?void 0:i.findView(e);a!=null&&(a.document=s)}}createOrUpdate(e,n){this.createDocument(e),this.updateDocument(e,n)}getDocumentErrors(e){return this.loadedDocuments.has(e)?this.loadedDocuments.get(e).errors.all():[]}};zs.instance=null;(typeof zs.instance=="undefined"||zs.instance)&&(zs.instance=new zs);var MT=zs;var Ld=new MT;function $e(t,e){return e.trim().length>0?fc(e):null}var Xa=[{isRequired:!1,name:"src",description:"The name of the partial view",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1}];var yl=Be(ti());function Qa(t,e){var n;if(t.isDynamic&&e.currentNode!=null&&e.currentNode.getTagName()=="partial"&&e.currentNode.hasMethodPart()){let r=e.currentNode.getMethodNameValue();if(r.trim().length>0&&((n=lr.instance)==null?void 0:n.hasStructure())){let i=lr.instance.getStructure().findRelativeView(r);if(i!=null&&i.varReferenceNames.has(t.name)){let s=i.varReferenceNames.get(t.name);if(i.document!=null&&i.document.hasFrontMatter()){let a=i.document.getFrontMatterScope();if(a!=null){let o=a.getList(s);if(o!=null)return AT(o.getVariableNames())}}}}}if(t.name=="src"){let r=e.project.getViews(),i=[];return r.forEach(s=>{if(fi.hasDetails(s.documentUri)){let a=fi.documentDetails.get(s.documentUri);i.push({label:a.documentName+"("+s.relativeDisplayName+")",insertText:s.relativeDisplayName,detail:a.documentName,documentation:{kind:yl.MarkupKind.Markdown,value:a.documentDescription},kind:yl.CompletionItemKind.File})}else i.push({label:s.relativeDisplayName,kind:yl.CompletionItemKind.File})}),re(i)}return null}var cw={tagName:"partial:exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:Xa,introducedIn:"3.2.7",resovleParameterCompletionItems:Qa,resolveDocumentation:t=>q("partial:exists Tag","The `partial:exists` can be used within conditional statements to test if a partial exists.","https://statamic.dev/tags/partial-exists")},gc=cw;var fw={tagName:"partial:if_exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:Xa,introducedIn:"3.2.7",resovleParameterCompletionItems:Qa,resolveDocumentation:t=>q("partial:if_exists Tag","The `partial:if_exists` can be used to output the contents of a partial if it exists.","https://statamic.dev/tags/partial-if-exists")},_c=fw;function kT(t){if(t.getTagName()!="partial")return null;let e="";if(t.hasMethodPart())e=t.getMethodNameValue();else{let n=t.findParameter("src");n!=null&&(e=n.value)}return e}var pw=[Se(gc),Se(_c)],dw={tagName:"partial",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!0,parameters:Xa,requiresClose:!1,allowsContentClose:!0,introducedIn:null,resolveDocumentation:t=>`**Partial Tag**  
Includes another view into the current template.  

[Documentation Reference](https://statamic.dev/tags/partial)
`,resolveDynamicParameter:$e,resovleParameterCompletionItems:Qa,resolveCompletionItems:t=>{let e=[];if(t.leftChar=='"'&&t.leftWord==':src="')return{items:[],analyzeDefaults:!0,isExclusiveResult:!1};if((t.leftWord=="partial"||t.leftWord=="/partial")&&t.leftChar==":"||t.leftWord=='src="'&&t.leftChar=='"')return t.project.getViews().forEach(r=>{let i=decodeURIComponent(r.documentUri);if(fi.hasDetails(i)){let s=fi.documentDetails.get(i);e.push({label:s.documentName+"("+r.relativeDisplayName+")",insertText:r.relativeDisplayName,detail:s.documentName,documentation:{kind:Jn.MarkupKind.Markdown,value:s.documentDescription},kind:Jn.CompletionItemKind.File})}else e.push({label:r.relativeDisplayName,kind:Jn.CompletionItemKind.File})}),t.leftWord!='src="'&&(e=e.concat(pw)),{analyzeDefaults:!1,isExclusiveResult:!0,items:e};if(t.currentNode!=null&&t.project!=null){let n=kT(t.currentNode);if(n!=null&&n.trim().length>0){let r=t.project.findRelativeView(n);if(r!=null&&Ld.hasDocument(r.documentUri)){let i=Ld.getDocument(r.documentUri);if(i!=null){let s=i.getAllAntlersNodes(),a=hw(s),o=[];r.varReferenceNames!=null&&r.varReferenceNames.forEach((u,c)=>{a.push(c)});let l=[];if(r.injectsParameters.length>0){let u={start:{line:t.position.line,character:t.position.character-0},end:t.position};r.injectsParameters.forEach(c=>{let f=c.name+'="$1"';o.includes(c.name)||(o.push(c.name),l.push({label:c.name,kind:Jn.CompletionItemKind.Value,insertTextFormat:Jn.InsertTextFormat.Snippet,textEdit:Jn.TextEdit.replace(u,f),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}if(a.length>0){let u={start:{line:t.position.line,character:t.position.character-0},end:t.position};a.forEach(c=>{let f=c+'="$1"';o.includes(c)||(o.push(c),l.push({label:c,kind:Jn.CompletionItemKind.Value,insertTextFormat:Jn.InsertTextFormat.Snippet,textEdit:Jn.TextEdit.replace(u,f),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}return _n(l)}}}}return{analyzeDefaults:!0,isExclusiveResult:!1,items:[]}}};function hw(t){let e=[];return t.forEach(n=>{if(n.isTagNode||n.isClosingTag||n.isComment||n.hasMethodPart()&&n.getMethodNameValue().length>0||n.name!=null&&n.name.content.includes("["))return;let r=n.getTagName();!e.includes(r)&&r!="#"&&r!="slot"&&e.push(r)}),e}var qT=dw;var mw={tagName:"increment:reset",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:"3.2.28",parameters:[{isRequired:!0,name:"counter",aliases:[],description:"The incrementing counter to reset",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"to",aliases:[],description:"An optional value to reset the counter to before incrementing starts again",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveDocumentation:t=>Ue("increment:reset Tag","The `increment:reset` tag can be used to reset the value of an incrementing counter.",`{{ array_variable }}
    {{ increment:counter_name }}
{{ /array_variable }}

{{ increment:reset counter="counter_name" }}
`,null)},yc=mw;var gw=[Se(yc)],_w={tagName:"increment",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!1,name:"from",aliases:[],description:"The number to start incrementing by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"by",aliases:[],description:"The number to increment by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveCompletionItems:t=>t.leftWord=="increment"||t.leftWord=="/increment"&&t.leftChar==":"?re(gw):ve,resolveDocumentation:t=>q("increment Tag","The `increment` tag can be used to increment a value each time the tag is encountered.","https://statamic.dev/tags/increment")},BT=_w;var Fd=class{constructor(e){this.node=e}},VT={tagName:"yields",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new Fd(t),issues:[]})},jT={tagName:"yield",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new Fd(t),issues:[]}),resolveDocumentation:t=>q("yield Tag","The `yield` tag may be used to push rendered content to named regions within a template's structure.","https://statamic.dev/tags/yield")};var bc=Be(vt());var UT=[{handle:"access cp"},{handle:"configure collections"},{handle:"[view edit create delete publish reorder] {collection} entries"},{handle:"configure structures"},{handle:"[view edit] {structure} structure"},{handle:"edit {global} globals"},{handle:"[view upload edit move rename delete] {container} assets"},{handle:"[view perform] updates"},{handle:"[view edit create delete] users"},{handle:"change passwords"},{handle:"edit roles"},{handle:"configure forms"},{handle:"[view delete] {form} submissions"}];var ys=class{constructor(){this.contextItems=new Map;this.triggerNames=[];this.collectionTriggers=[];this.collectionTriggerCaps=[];this.globalTriggers=[];this.globalTriggerCaps=[];this.formTriggers=[];this.formTriggerCaps=[];this.structureTriggers=[];this.structureTriggerCaps=[];this.assetTriggers=[];this.assetTriggerCaps=[]}getCollectionTriggerCaps(){return this.collectionTriggerCaps}getGlobalTriggerCaps(){return this.globalTriggerCaps}getFormTriggerCaps(){return this.formTriggerCaps}getStructureTriggerCaps(){return this.structureTriggerCaps}getAssetTriggerCaps(){return this.assetTriggerCaps}loadCorePermissions(){this.registerPermissions(UT)}getTriggerNames(){return this.triggerNames}isCollectionTrigger(e){return this.collectionTriggers.includes(e)}isGlobalTrigger(e){return this.globalTriggers.includes(e)}isFormTrigger(e){return this.formTriggers.includes(e)}isStructureTrigger(e){return this.structureTriggers.includes(e)}isAssetTrigger(e){return this.assetTriggers.includes(e)}getTriggerContextItems(e){return this.contextItems.has(e)?this.contextItems.get(e):[]}registerSpecialTrigger(e,n,r){n=="{collection}"?(this.collectionTriggerCaps.includes(r)==!1&&this.collectionTriggerCaps.push(r),this.collectionTriggers.includes(e)==!1&&this.collectionTriggers.push(e)):n=="{structure}"?(this.structureTriggerCaps.includes(r)==!1&&this.structureTriggerCaps.push(r),this.structureTriggers.includes(e)==!1&&this.structureTriggers.push(e)):n=="{container}"?(this.assetTriggerCaps.includes(r)==!1&&this.assetTriggerCaps.push(r),this.assetTriggers.includes(e)==!1&&this.assetTriggers.push(e)):n=="{global}"?(this.globalTriggerCaps.includes(r)==!1&&this.globalTriggerCaps.push(r),this.globalTriggers.includes(e)==!1&&this.globalTriggers.push(e)):n=="{form}"&&(this.formTriggerCaps.includes(r)==!1&&this.formTriggerCaps.push(r),this.formTriggers.includes(e)==!1&&this.formTriggers.push(e))}addContextToTrigger(e,n){var r;this.triggerNames.includes(e)==!1&&this.triggerNames.push(e),this.contextItems.has(e)==!1?this.contextItems.set(e,[n]):(r=this.contextItems.get(e))==null||r.push(n)}registerPermissions(e){for(let n=0;n<e.length;n++){let r=e[n],i=[],s="",a="";if(r.handle.includes("[")&&r.handle.includes("]")){let o=r.handle.indexOf("["),l=r.handle.indexOf("]"),u=l-o,c=r.handle.substr(o+1,u-1).split(" ").filter(m=>m.trim().length>0),f=r.handle.substr(l+1).split(" ").filter(m=>m.trim().length>0);i=c,f.length==2?(s=f[0],a=f[1]):f.length==1&&(s="",a=f[0])}else{let o=r.handle.split(" ").filter(l=>l.trim().length>0);o.length==2&&(i=[o[0]],a=o[1])}for(let o=0;o<i.length;o++){let l=i[o];s.trim().length>0?this.registerSpecialTrigger(l,s,a):this.addContextToTrigger(l,a)}}}};ys.instance=null;(typeof ys.instance=="undefined"||ys.instance==null)&&(ys.instance=new ys,ys.instance.loadCorePermissions());var Zn=ys;function WT(t,e){var r,i,s,a,o,l,u,c,f,m,g,p,d,h,y,b,N,_,w;let n=[];if(t.trim().length==0){let te=(i=(r=Zn.instance)==null?void 0:r.getTriggerNames())!=null?i:[];for(let H=0;H<te.length;H++)n.push({label:te[H],kind:bc.CompletionItemKind.Value})}else{let te=t.split(" ").filter(ae=>ae.trim().length>0),H=te[0],j=(a=(s=Zn.instance)==null?void 0:s.getTriggerContextItems(H))!=null?a:[],X=(o=Zn.instance)==null?void 0:o.isCollectionTrigger(H),Z=(l=Zn.instance)==null?void 0:l.isGlobalTrigger(H),Te=(u=Zn.instance)==null?void 0:u.isFormTrigger(H),we=(c=Zn.instance)==null?void 0:c.isStructureTrigger(H),Le=(f=Zn.instance)==null?void 0:f.isAssetTrigger(H),qe=[];if(te.length<=2){X?qe=qe.concat(e.project.getUniqueCollectionNames()):Z?qe=qe.concat(e.project.getUniqueGlobalsNames()):Te?qe=qe.concat(e.project.getUniqueFormNames()):we?qe=qe.concat(e.project.getUniqueNavigationMenuNames()):Le&&(qe=qe.concat(e.project.getUniqueAssetNames())),j.length>0&&(qe=qe.concat(j)),qe=[...new Set(qe)];for(let ae=0;ae<qe.length;ae++)n.push({label:qe[ae],kind:bc.CompletionItemKind.Value})}else{let ae=[];X?ae=ae.concat((g=(m=Zn.instance)==null?void 0:m.getCollectionTriggerCaps())!=null?g:[]):Z?ae=ae.concat((d=(p=Zn.instance)==null?void 0:p.getGlobalTriggerCaps())!=null?d:[]):Te?ae=ae.concat((y=(h=Zn.instance)==null?void 0:h.getFormTriggerCaps())!=null?y:[]):we?ae=ae.concat((N=(b=Zn.instance)==null?void 0:b.getStructureTriggerCaps())!=null?N:[]):Le&&(ae=ae.concat((w=(_=Zn.instance)==null?void 0:_.getAssetTriggerCaps())!=null?w:[])),ae=[...new Set(ae)];for(let Pe=0;Pe<ae.length;Pe++)n.push({label:ae[Pe],kind:bc.CompletionItemKind.Value})}}return n}function Tc(t,e){var r,i,s,a;let n=cc(t.name);return((r=e.context)==null?void 0:r.parameterContext)!=null&&["do","permission"].includes(n)?re(WT((a=(s=(i=e.context)==null?void 0:i.parameterContext.parameter)==null?void 0:s.value)!=null?a:"",e)):null}var yw={tagName:"user:can",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:Tc,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>q("user:can Tag","The `user:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can")},Ja=yw;var bw={tagName:"user:logout",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>q("user:logout Tag","The `user:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout")},Za=bw;var Tw={tagName:"user:logout_url",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>Ue("user:logout_url","The `user:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ user:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url")},eo=Tw;var GT={tagName:"switch",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>q("switch Tag","The `switch` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")},YT={tagName:"rotate",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,introducedIn:null,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>q("rotate Tag","The `rotate` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")};var vw={tagName:"oauth",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"provider",description:"The OAuth provider to be used",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]},{name:"redirect",description:"The URL to be taken to after authenticating",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resovleParameterCompletionItems:(t,e)=>t.name=="provider"?yt(e.project.getOAuthProviders()):null,resolveDocumentation:t=>Ue("oauth Tag","The `oauth` tag can be used to generate login URls for various third-party services.",'<a href="{{ oauth provider="github" }}">Sign In with Github</a>',"https://statamic.dev/tags/oauth")},HT=vw;var Nw={tagName:"session:dump",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>q("session:dump Tag","The `session:dump` tag will display the contents of the user's session to the browser. This tag behaves similarly to the `dd` helper functions, but returns just the session data.","https://statamic.dev/tags/session-dump")},vc=Nw;var bl=class{constructor(e){this.node=e}};var Cw={tagName:"session:set",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:null,resolveDynamicParameter:$e,resolveSpecialType:(t,e)=>({context:new bl(t),issues:[]}),resolveDocumentation:t=>q("session:set Tag","The `session:set` tag is used to add new data to the user's session.","https://statamic.dev/tags/session-set")},Nc=Cw;var Xs=class{constructor(){this.knownVariables=new Map}registerDocumentSessionVariables(e,n){this.knownVariables.has(e)||this.knownVariables.set(e,new Map);let r=this.knownVariables.get(e);r.clear();for(let i=0;i<n.length;i++){let s=n[i].node;if(s.hasParameters)for(let a=0;a<s.parameters.length;a++){let o=s.parameters[a];r.set(o.name,n[i])}}}getKnownSessionVariableNames(){let e=[];return this.knownVariables.forEach(n=>{n.forEach((r,i)=>{e.includes(i)==!1&&e.push(i)})}),e}};Xs.instance=null;(typeof Xs.instance=="undefined"||Xs.instance==null)&&(Xs.instance=new Xs);var Tl=Xs;var $T=Be(vt());function KT(t,e){let n=[],r=t.getArrayValue(),i=e.filter(s=>!r.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:$T.CompletionItemKind.Variable});return re(n)}var Pw={tagName:"session:forget",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"keys",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The session keys to clear",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;if(t.name=="keys"&&((n=e.context)==null?void 0:n.parameterContext)!=null){let s=(i=(r=Tl.instance)==null?void 0:r.getKnownSessionVariableNames())!=null?i:[];if(e.context.parameterContext.parameter!=null)return KT(e.context.parameterContext.parameter,s)}return null},resolveDocumentation:t=>q("session:forget Tag","The `session:forget` tag is used to remove variables from the user's session.","https://statamic.dev/tags/session-forget")},Cc=Pw;var Ew={tagName:"session:flush",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>q("session:flush Tag","The `session:flush` tag will clear all values from the visitor's session. If the visitor is currently signed in they will also be signed out.","https://statamic.dev/tags/session-flush")},Pc=Ew;var Aw={tagName:"session:flash",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:$e,resolveSpecialType:(t,e)=>({context:new bl(t),issues:[]}),resolveDocumentation:t=>q("session:flash Tag","The `session:flash` tag can be used to add a value to the user's session. Flashed values only persist for a single request, and are then removed.","https://statamic.dev/tags/session-flash")},Ec=Aw;var Sw={tagName:"markdown:indent",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>q("markdown:indent Tag","The `markdown:indent` tag is similar to the markdown tag, but will ignore leading whitepsace while rendering the tag's content as markdown.","https://statamic.dev/tags/markdown-indent")},Ac=Sw;var Iw=[Se(Ac)],Dw={tagName:"markdown",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="markdown"||t.leftWord=="/markdown")&&t.leftChar==":"?re(Iw):ve,resolveDocumentation:t=>q("markdown Tag","The `markdown` tag can be used to render the tags contents as markdown.","https://statamic.dev/tags/markdown")},zT=Dw;var XT=Be(ti());function Sc(t,e){let n=[],r=e;if(t.trim().length>0&&t.includes(".")&&t.endsWith(".")){let i=t.substr(0,t.length-1);r=r.filter(s=>s.startsWith(i))}for(let i=0;i<r.length;i++){let s=r[i],a=!0;t.includes(".")&&(s.startsWith(t)==!1?a=!1:s=s.substr(t.length)),a&&n.push({label:s,insertText:s,kind:XT.CompletionItemKind.Text})}return n}function QT(t,e){return Sc(t,e.getRouteNames())}var Rw={tagName:"route",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:$e,resolveCompletionItems:t=>{if(t.leftMeaningfulWord=="route"){let e=uc(t);return re(QT(e,t.project))}return ve},resolveDocumentation:t=>q("route Tag","The `route` tag can be used to generate a full URL [to a named route](https://laravel.com/docs/8.x/routing#named-routes), including any defined route parameters.","https://statamic.dev/tags/route")},JT=Rw;var Ic=Be(vt()),ZT=[{label:"301 Permanent",insertText:"301",kind:Ic.CompletionItemKind.EnumMember},{label:"302 Temporary",insertText:"302",kind:Ic.CompletionItemKind.EnumMember},{label:"404 Not Found",insertText:"404",kind:Ic.CompletionItemKind.EnumMember}];var xw={tagName:"redirect",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The destination URL",aliases:["url"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!0},{name:"response",description:"The HTTP response code to use",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:t=>t.name=="response"?re(ZT):ve,resolveDocumentation:t=>q("redirect Tag","The `redirect` tag can be used to redirect the site visitor to a URL or named route. An optional HTTP status code can also be specified on the response using the `response` parameter.","https://statamic.dev/tags/redirect")},e0=xw;var n0=Be(vt());var Qs=class{constructor(){this.knownSections=new Map}registerDocumentSections(e,n){this.knownSections.has(e)||this.knownSections.set(e,new Map);let r=this.knownSections.get(e);r.clear();for(let i=0;i<n.length;i++){let s=n[i];s.node.hasMethodPart()&&r.set(s.node.getMethodNameValue(),s)}}getKnownSectionNames(){let e=[];return this.knownSections.forEach(n=>{n.forEach((r,i)=>{e.includes(i)==!1&&e.push(i)})}),e}};Qs.instance=null;(typeof Qs.instance=="undefined"||Qs.instance==null)&&(Qs.instance=new Qs);var t0=Qs;var ww={tagName:"section",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>{var e,n;if((t.leftWord=="section"||t.leftWord=="/section")&&t.leftChar==":"){let r=[],i=(n=(e=t0.instance)==null?void 0:e.getKnownSectionNames())!=null?n:[];for(let s=0;s<i.length;s++)r.push({label:i[s],kind:n0.CompletionItemKind.Field});return _n(r)}return ve},resolveDocumentation:t=>q("section Tag","The `section` tag is used to push content to a named region defined by the `yield` tag.","https://statamic.dev/tags/section")},r0=ww;var Ow={tagName:"obfuscate",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>q("obfuscate Tag","The `obfuscate` tag converts the tags's content into a format that is difficult for bots to read, but can easily be viewed by users within their browser.","https://statamic.dev/tags/obfuscate")},i0=Ow;var Lw={tagName:"parent",hideFromCompletions:!1,requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>q("parent Tag","The `parent` tag provides access to data from the current page's parent (the URL one level above the current page).","https://statamic.dev/tags/parent")},s0=Lw;function Md(t,e){return Sc(t,e.getTranslationKeys())}var Fw=["translate","trans","trans_choice"],Dc={tagName:"translate",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!0,parameters:[{isRequired:!1,name:"key",description:"The key of the translation string to find",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"locale",description:"The locale to be used when translating",acceptsVariableInterpolation:!1,aliases:["site"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"count",description:"The number of items to use for pluralization",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n;if(t.name=="key"){let r="";return((n=e.context)==null?void 0:n.parameterContext)!=null&&e.context.parameterContext.parameter!=null&&(r=e.context.parameterContext.parameter.value),re(Md(r,e.project))}return ve},resolveDynamicParameter:$e,resolveCompletionItems:t=>{if(t.leftMeaningfulWord!=null&&Fw.includes(t.leftMeaningfulWord)){let e=uc(t);return re(Md(e,t.project))}return ve},resolveDocumentation:t=>q("trans Tag","The `trans` tag can be used to retrieve a string for the current locale's language file.","https://statamic.dev/tags/trans")},a0=at(Dc,"trans"),kd=at(Dc,"trans_choice");kd.resolveDocumentation=t=>q("trans_choice Tag","The `trans_choice` tag can be used to retrieve a pluralized string for the current locale's language file.","https://statamic.dev/tags/trans#pluralization");var Mw={tagName:"svg",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The SVG filename relative to the project root",expectsTypes:["string"],isDynamic:!1}],resolveDynamicParameter:$e,resolveDocumentation:t=>q("svg Tag","The `svg` tag can be used to render inline SVGs, as well as set attributes on the rendered `<svg>` element.","https://statamic.dev/tags/svg")},o0=Mw;function Rc(t){return[{name:"basename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus_css",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_asset",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"path",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"width",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t}]}var kw={tagName:"asset",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The path to the file",expectsTypes:["string"],isDynamic:!1,name:"url"}],augmentScope:(t,e)=>(e.addVariables(Rc(t)),e),resolveDocumentation:t=>Ue("asset Tag","The `asset` tag can be used to retrive Assets by supplying a URL.",`{{ asset url="/url/for/asset.png" }}
    <img src="{{ url }}" alt="{{ alt }}" />
{{ /asset }}`,"https://statamic.dev/tags/asset")},l0=kw;var u0=Be(vt());function qd(t){let e=[],n=t.getUniqueAssetNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:u0.CompletionItemKind.Field});return e}var c0=["container","id","handle"],qw={tagName:"assets",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"container",aliases:["id","handle"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The handle of the asset container",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"folder",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Filters the resulting assets by specific folder",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"recursive",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Returns all assets in all subdirectories",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"limit",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Limits the total results",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sort entries by any asset variable",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>c0.includes(t.name)?re(qd(e.project)):ve,augmentScope:(t,e)=>{e.addVariables(Rc(t));let n="";if(t.name!=null&&t.name.getMethodName()!=null)n=t.name.getMethodName();else{let r=t.findAnyParameter(c0);r!=null&&r.containsSimpleValue()&&(n=r.value)}return n.length>0&&e.injectAssetContainer(t,n),e},resolveCompletionItems:t=>(t.leftWord=="assets"||t.leftWord=="/assets")&&t.leftChar==":"?re(qd(t.project)):ve,resolveDocumentation:t=>Ue("assets Tag","The `assets` tag can be used to retrieve multiple Assets from an Asset container.",`{{ assets container="container-name" }}
    {{# Loop over all assets in the container. #}}
	<img src="{{ url }}" alt="{{ alt }}" />
{{ /assets }}`,"https://statamic.dev/tags/assets")},f0=qw;var Bw={tagName:"get_content",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!1,parameters:[{isRequired:!1,name:"from",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"The ID to retrieve data for",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"locale",aliases:["site"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The locale to show the content in",expectsTypes:["string"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="locale"||t.name=="site"?yt(e.project.getSiteNames()):null,resolveDocumentation:t=>Ue("get_content Tag","The `get_content` tag can be used to retrieve content from other entries. This tag accepts the ID of another entry, and will return access to all data for that entry.",`{{ get_content from="the-entry-id" }}
{{ /get_content }}`,"https://statamic.dev/tags/get_content")},p0=Bw;function d0(t){return[{name:"basename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"last_modified",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_b",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_mb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t}]}var Vw={tagName:"get_files",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"in",aliases:["from"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The directory to find files in relative to the public directory",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"depth",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The depth of the subdirectories",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"not_in",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"The subdirectories or pattern to exclude",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_size",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],description:"The file size filter to use",isDynamic:!1},{isRequired:!1,name:"ext",aliases:["extension"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The extension(s) to filter by",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"include",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:["match"],description:"Filter files by a regular expression",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"exclude",description:"Excludes files by a regular expression",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_date",description:"Filters files by last modified date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",description:"Limits the total number of results",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"offset",description:"The number of entries the results should be offset by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sorts the listing by extension, size, last_modified, or random",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>(e.addVariables(d0(t)),e),resolveDocumentation:t=>q("get_files Tag","The `get_files` tag can be used to display information about files on the site's local filesystem.","https://statamic.dev/tags/get_files")},h0=Vw;function xc(t){return[{name:"width",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.glide",sourceField:null,introducedBy:t}]}var m0=Be(vt());function ri(t,e,n){var r,i,s,a,o,l,u,c,f,m,g,p;return{endLine:(s=(i=(r=n.valuePosition)==null?void 0:r.end)==null?void 0:i.line)!=null?s:0,startLine:(l=(o=(a=n.namePosition)==null?void 0:a.start)==null?void 0:o.line)!=null?l:0,endPos:(f=(c=(u=n.valuePosition)==null?void 0:u.end)==null?void 0:c.char)!=null?f:0,startPos:(p=(g=(m=n.namePosition)==null?void 0:m.start)==null?void 0:g.char)!=null?p:0,message:t,severity:m0.DiagnosticSeverity.Error}}var Bd=["greyscale","sepia"],Vd=["jpg","pjpg","png","gif","webp","avif","tif","bmp","psd"],g0=["auto","0","90","180","270"],wc=[{isRequired:!1,name:"src",aliases:["path","id"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The URL of the image when not using shorthand syntax",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"tag",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Outputs an image tag when set to true",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"alt",description:"The alt attribute value to use when generating tags",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"absolute",description:"Whether to output full URLs",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{name:"width",expectsTypes:["number"],isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The width of the image, in pixels",isDynamic:!1},{name:"height",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],description:"The height of the image, in pixels",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"square",expectsTypes:["number"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets both then height and width of the iamge",isDynamic:!1,isRequired:!1},{name:"fit",expectsTypes:["string"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"How the image is fitted to its target dimensions",isDynamic:!1,isRequired:!1},{name:"crop",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Crops the image to the specific dimensions",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"orient",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Rotates the image",expectsTypes:["*"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!g0.includes(e.value)&&n.push(ri("Invalid orient value",t,e)),n}},{name:"quality",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Defines the quality of the image",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"dpr",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"Defines the device pixel ratio",expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<1||n>8)&&r.push(ri("dpr must be an integer between 1 and 8.",t,e)),r}},{name:"format",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Encodes the image to a specific format",expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!Vd.includes(e.value)&&n.push(ri("Format must be one of: "+Vd.join(","),t,e)),n}},{name:"bg",description:"Sets the background color for transparent images",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"blur",description:"Adds a blur effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(ri("blur must be a value between 0 and 100.",t,e)),r}},{name:"brightness",description:"Adjusts the image brightness",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<-100||n>100)&&r.push(ri("brightness must be a value between -100 and 100.",t,e)),r}},{name:"contrast",description:"Adjusts the image contrast",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<-100||n>100)&&r.push(ri("contrast must be a value between -100 and 100.",t,e)),r}},{name:"gamma",description:"Adjusts the image gamma",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseFloat(e.value),r=[];return e.containsSimpleValue()&&(n<.1||n>9.99)&&r.push(ri("gamma must be a value between 0.1 and 9.99.",t,e)),r}},{name:"sharpen",description:"Sharpens the iamge",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(ri("sharpen must be a value between 0 and 100.",t,e)),r}},{name:"pixelate",description:"Applies a pixelation effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(ri("pixelate must be a value between 0 and 100.",t,e)),r}},{name:"filter",description:"Applies a filter effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!Bd.includes(e.value)&&n.push(ri("Filter must be one of: "+Bd.join(","),t,e)),n}},{name:"preset",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],description:"A collection of pre-configured image manipulation parameters.",isDynamic:!1,isRequired:!1}];function Oc(t,e){return t.name=="orient"?yt(g0):t.name=="format"?yt(Vd):t.name=="filter"?yt(Bd):t.name=="preset"?yt(e.project.getAssetPresets()):ve}var jw={tagName:"glide:batch",hideFromCompletions:!1,requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,injectParentScope:!1,parameters:wc,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(xc(t)),e),resovleParameterCompletionItems:Oc,resolveDocumentation:t=>q("glide:batch Tag","The `glide:batch` tag is similar to the glide tag, but can be used to apply image manipulations to multiple images within a piece of content.","https://statamic.dev/tags/glide-batch")},Lc=jw;var Uw=[Se(Lc)],Ww={tagName:"glide",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!1,parameters:wc,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(xc(t)),e),resovleParameterCompletionItems:Oc,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="glide"||t.leftWord=="/glide")&&t.leftChar==":"?re(Uw):ve,resolveDocumentation:t=>q("glide Tag","The `glide` tag is used to manipulate images on the fly. Image manipulations may include resizing, cropping, or adjusting sharpness and constrast, amongst many others.","https://statamic.dev/tags/glide")},_0=Ww;var y0={tagName:"iterate",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>q("iterate Tag","The `iterate` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")},b0={tagName:"foreach",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>q("foreach Tag","The `foreach` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")};function T0(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t},{name:"name",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}]}var Fc=[{isRequired:!1,name:"id",description:"The ID of the content to localize",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"sort",description:"Sort by a sites key",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"current_first",description:"When true, ensures that the current locale is first",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"all",description:"When true, all locale data will be returned.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!0,name:"self",description:"When true, the current locale will be included.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1}];var Gw={tagName:"locales:count",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:Fc,introducedIn:"3.0.36",resolveDocumentation:t=>q("locales:count Tag","The `locales:count` tag can be used to count the number of locales the current content is available in.","https://statamic.dev/tags/locales-count")},Mc=Gw;var Yw=[Se(Mc)],Hw={tagName:"locales",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:Fc,introducedIn:null,augmentScope:(t,e)=>(e.addVariableArray("locale",T0(t)),e.addVariable({name:"current",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"exists",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"permalink",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e),resolveDocumentation:t=>q("locales Tag","The `locales` tag can be used to access all the locales the current content is available in.","https://statamic.dev/tags/locales"),resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="locale"||t.leftWord=="/locale")&&t.leftChar==":"?re(Yw):ve},v0=Hw;var $w={tagName:"mix",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",description:"The path to the versioned file, relative to the public directory",acceptsVariableInterpolation:!1,aliases:["path"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"in",description:"The location of the mix manifest file",acceptsVariableInterpolation:!1,aliases:["from"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>q("mix Tag","The `mix` tag is used to return the path of CSS and JavaScript files versioned with [Laravel Mix](https://laravel.com/docs/8.x/mix).","https://statamic.dev/tags/mix")},N0=$w;var vl=Be(vt());function C0(t){let e=[],n=t.getUniqueUserGroupNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:vl.CompletionItemKind.Field});return e}function P0(t){let e=[],n=t.getUniqueUserRoleNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:vl.CompletionItemKind.Field});return e}function to(t,e){let n=[],r=e.getUniqueUserGroupNames(),i=r.filter(s=>!t.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:vl.CompletionItemKind.Field});return n}function no(t,e){let n=[],r=e.getUniqueUserRoleNames(),i=r.filter(s=>!t.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:vl.CompletionItemKind.Field});return n}var Kw={tagName:"user:in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?re(to((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>q("user:in Tag","The `user:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in")},kc=Kw;var zw={tagName:"user:not_in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?re(to((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>q("user:not_in Tag","The `user:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in")},ro=zw;var Xw={tagName:"user:is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?re(no((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>q("user:is Tag","The `user:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is")},io=Xw;var Qw={tagName:"user:isnt",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?re(no((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>q("user:isnt Tag","The `user:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt")},so=Qw;var Jw={tagName:"in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?re(to((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="in"||t.leftWord=="/in")&&t.leftChar==":"?re(C0(t.project)):ve,resolveDocumentation:t=>q("in Tag","The `in` tag can be used to check if the authenticated user belongs to one or more groups. This tag operates similarly to the `user:in` tag.","https://statamic.dev/tags/user-in")},E0=Jw;var Zw={tagName:"not_found",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>Ue("404 (Not Found) Tag","The `not_found` tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ not_found }}
{{ /unless }}`,"https://statamic.dev/tags/404")},A0=Zw;var e1={tagName:"is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?re(no((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="is"||t.leftWord=="/is")&&t.leftChar==":"?re(P0(t.project)):ve,resolveDocumentation:t=>q("is Tag","The `is` tag can be used to check whether the currently authenticated user has one or more roles. This tag behaves the same as the `user:is` tag.","https://statamic.dev/tags/user-is")},S0=e1;var t1={tagName:"widont",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Ue("widont Tag","The `widont` tag is similar to the [widont modifier](https://statamic.dev/modifiers/widont), and will attempt to prevent lines with a single word from appearing within the tags rendered output.",`{{ widont }}
    {{ content }}
{{ /widont }}`,null)},I0=t1;var qc=[{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"id",description:"The user ID to fetch",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"email",description:"The email address to find the user by",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"field",description:"The field to fetch the user by",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"value",description:"The value to search for",expectsTypes:["string"],isDynamic:!1}];var n1={tagName:"user:profile",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:qc,introducedIn:null,augmentScope:(t,e)=>(e.injectBlueprint(t,"user"),e),resovleParameterCompletionItems:(t,e)=>t.name=="field"?re(nc(e.project.getUserFields())):ve,resolveDocumentation:t=>q("user:profile Tag","The `user:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null)},ao=n1;var D0={tagName:"dd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Ue("dd Tag","The `dd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the dd tag.
	#}}
    {{ dd }}
{{ /collection:articles }}`,null)},R0={tagName:"ddd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Ue("ddd Tag","The `ddd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the ddd tag.
	#}}
    {{ ddd }}
{{ /collection:articles }}`,null)};var r1={tagName:"path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["src"],allowsVariableReference:!0,description:"The path source",name:"to",isDynamic:!1,expectsTypes:["string"]},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],description:"Whether to generate absolute paths",expectsTypes:["boolean"],isDynamic:!1,name:"absolute"}],resolveDocumentation:t=>q("path Tag","The `path` tag can be used to generate URLs from relative URLs, or an entry ID.",null)},x0=r1;var i1={tagName:"user:cant",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:Tc,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>q("user:cant Tag","The `user:cant` tag is used to check if the currently authenticated user does not have a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user does not have the specified permissions.","https://statamic.dev/tags/user-can#cant")},Bc=i1;var s1={tagName:"query",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,parameters:[{name:"builder",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The query to evaluate",expectsTypes:["string"],isRequired:!0,isDynamic:!1}]},w0=s1;var Js=Be(vt());var vi=[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"src",description:"The relative path to the file",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"cache_bust",description:"Whether to output the last modified date",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"version",description:"Whether to check a versioning manifest to produce the final URL",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"absolute",description:"Generate absolute URLs or not",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"locale",description:"The locale the path should be generated in",expectsTypes:["string"],isDynamic:!1}];var a1=[{label:"asset",kind:Js.CompletionItemKind.Text},{label:"css",kind:Js.CompletionItemKind.Text},{label:"img",kind:Js.CompletionItemKind.Text},{label:"js",kind:Js.CompletionItemKind.Text},{label:"output",kind:Js.CompletionItemKind.Text},{label:"path",kind:Js.CompletionItemKind.Text}],o1={tagName:"theme",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,introducedIn:null,injectParentScope:!1,parameters:vi,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="theme"||t.leftWord=="/theme")&&t.leftChar==":"?re(a1):ve},O0=o1;var jd={tagName:"theme:path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:vi,resolveDocumentation:t=>q("theme:path Tag","The `theme:path` tag may be used to generate URLs for public assets. This tag may also optionally add the current locale, generate relative URLs, or add cache busting URL parameters to the end of the generated URL.",null)},L0=at(jd,"theme:asset");var l1={tagName:"theme:css",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...vi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>q("theme:css Tag","The `theme:css` tag may be used to generate a CSS path relative to a public `css/` directory for any arbitrary file path. This tag may also optionally create the HTML `link` tag.",null)},F0=l1;var u1={tagName:"theme:img",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...vi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]},{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"alt",description:"The alt text to use when generating the HTML tag",expectsTypes:["string"]}],resolveDocumentation:t=>q("theme:img Tag","The `theme:img` tag may be used to generate an image path relative to a public `img/` directory for any arbitrary file path. This tag may also optionally create the HTML `img` tag.",null)},M0=u1;var c1={tagName:"theme:js",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...vi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>q("theme:js Tag","The `theme:js` tag may be used to generate a JavaScript path relative to a public `js/` directory for any arbitrary file path. This tag may also optionally create the HTML `script` tag.",null)},k0=c1;var f1={tagName:"theme:output",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"src",description:"The path to the file",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"as",description:"An optional alias for the contents variable",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>{if(t.isClosedBy!=null){let n=t.findParameter("as");n!=null?e.addVariable({name:n.value,dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t}):e.addVariable({name:"output_contents",dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t})}return e},resolveDocumentation:t=>q("theme:output Tag","The `theme:output` tag may be used to output the contents of any arbitrary file, relative to the site's `resources/` directory.",null)},q0=f1;var p1={tagName:"scope",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>Ue("scope Tag","The `scope` tag creates a copy of all available variables, and saves them to a new  *array* variable defined by the tag's method part.",`{{ scope:scope_name }}
    {{ scope_name:title }}
{{ /scope:scope_name }}
`,null)},B0=p1;var d1={tagName:"if",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:$e,resolveDocumentation:t=>q("if Conditional Control Structure","The contents of the `if` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},V0=d1;var h1={tagName:"elseif",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:$e,resolveDocumentation:t=>q("elseif Conditional Control Structure","The contents of the `elseif` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},j0=h1;var m1={tagName:"else",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>q("else Conditional Control Structure","The contents of the `else` control structure will be evaluated when all previous conditional branch conditions were not met.","https://statamic.dev/antlers#conditions")},U0=m1;var W0=Be(vt());var g1={tagName:"session:has",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:"3.1.28",resolveDynamicParameter:$e,resolveDocumentation:t=>q("session:has Tag","The `session:has` tag can be used to determine of the user's session contains a specific variable.","https://statamic.dev/tags/session-has")},Vc=g1;var _1=[Se(Nc),Se(Ec),Se(Cc),Se(Pc),Se(Vc),Se(vc)],y1={tagName:"session",requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",description:"An optional alias for the session data",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveCompletionItems:t=>{var e,n;if(t.isPastTagPart==!1&&(t.leftWord=="session"||t.leftWord=="/session")&&t.leftChar==":"){let r=(n=(e=Tl.instance)==null?void 0:e.getKnownSessionVariableNames())!=null?n:[],i=[];i=i.concat(_1);for(let s=0;s<r.length;s++)i.push({label:r[s],kind:W0.CompletionItemKind.Variable});return re(i)}return ve},augmentScope:(t,e)=>{var s,a;let n=t.findParameter("as"),r=(a=(s=Tl.instance)==null?void 0:s.getKnownSessionVariableNames())!=null?a:[],i=[];for(let o=0;o<r.length;o++)i.push({dataType:"*",name:r[o],sourceField:null,sourceName:"project.session",introducedBy:t});return n==null?e.addVariables(i):e.addVariableArray(n.value,i),e}},G0=y1;var Nl={tagName:"user:forgot_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:$e,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t}]),e),resolveDocumentation:t=>q("user:forgot_password_form Tag",'The `user:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form")},Ud=at(Nl,"member:forgot_password_form");Ud.resolveDocumentation=t=>q("member:forgot_password_form Tag",'The `member:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form");var Cl={tagName:"user:reset_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:$e,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t}]),e),resolveDocumentation:t=>q("user:reset_password_form Tag","The `user:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form")},Wd=at(Cl,"member:reset_password_form");Wd.resolveDocumentation=t=>q("member:reset_password_form Tag","The `member:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form");function Y0(t,e){return{sourceName:e.blueprintName,dataType:e.type,name:e.name,sourceField:e,introducedBy:t}}function H0(t){let e=new Map;for(let n=0;n<t.length;n++)e.set(t[n].name,t[n]);return e}function oo(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push({sourceName:i.blueprintName,dataType:i.type,name:i.name,sourceField:i,introducedBy:t})}return n}function jc(t){return[{name:"handle",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"display",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"type",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"field",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"error",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"instructions",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"old",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t}]}var Pl={tagName:"user:register_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after registering",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed registration attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:$e,augmentScope:(t,e)=>{e.addVariableArray("fields",jc(t)),e.addVariable({name:"errors",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"old",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"error",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"success",dataType:"string",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t});let n=e.statamicProject.getUserFields();if(n.length>0){let r=oo(t,n);e.addVariableArray("old",r),e.addVariableArray("error",r)}return e},resolveDocumentation:t=>q("user:register_form  Form Tag","The `user:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form")},Gd=at(Pl,"member:register_form");Gd.resolveDocumentation=t=>q("member:register_form Tag","The `member:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form");var b1=[Se(io),Se(ro),Se(so),Se(ao),Se(Ja),Se(Bc),Se(Nl),Se(Za),Se(eo),Se(Pl),Se(Cl)],T1={tagName:"user",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:qc,introducedIn:null,resovleParameterCompletionItems:(t,e)=>e.isPastTagPart==!1&&e.currentNode!=null&&e.currentNode.methodIsEmptyOrMatches("profile")&&t.name=="field"?re(nc(e.project.getUserFields())):ve,augmentScope:(t,e)=>(t.methodIsEmptyOrMatches("profile")&&e.injectUserFields(t),e),resolveCompletionItems:t=>(t.leftWord=="user"||t.leftWord=="/user"||t.leftWord=="member"||t.leftWord=="/member")&&t.leftChar==":"?re(b1):ve,resolveDocumentation:t=>q("user Tag","The `user` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null)},Uc=T1;var Wc=at(Uc,"member"),Yd=at(io,"member:is"),Hd=at(so,"member:isnt"),$d=at(ao,"member:profile"),Kd=at(Ja,"member:can"),zd=at(Za,"member:logout"),Xd=at(eo,"member:logout_url"),Qd=at(kc,"member:in"),Jd=at(ro,"member:not_in");Wc.hideFromCompletions=!0;Wc.resolveDocumentation=t=>q("member Tag","The `member` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);Yd.resolveDocumentation=t=>q("member:is Tag","The `member:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is");Hd.resolveDocumentation=t=>q("member:isnt Tag","The `member:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt");$d.resolveDocumentation=t=>q("member:profile Tag","The `member:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);Kd.resolveDocumentation=t=>q("member:can Tag","The `member:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can");zd.resolveDocumentation=t=>q("member:logout Tag","The `member:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout");Xd.resolveDocumentation=t=>Ue("member:logout_url","The `member:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ member:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url");Qd.resolveDocumentation=t=>q("member:in Tag","The `member:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in");Jd.resolveDocumentation=t=>q("member:not_in Tag","The `member:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in");function bs(t){return[{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t},{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t}]}var z0=Be(vt());var Zd=["from","taxonomy","is","use","folder"],eh=["not_from","not_in","dont_use","not_taxonomy"];var th=Zd;th=th.concat(eh);function $0(t,e){var n,r,i,s,a,o,l,u;if(e.nodesInScope.length>0){let c=e.nodesInScope[e.nodesInScope.length-1];if(c!=null&&c.currentScope!=null){let f=lo(c,e.project),m=e.project.getTaxonomyBlueprintFields(f),g=m.map(d=>d.name),p=Wi(e.leftWord);if(g.includes(p))return re(ds(e))}}return t.name=="collection"&&((n=e.context)==null?void 0:n.parameterContext)!=null?re(Ha((s=(i=(r=e.context)==null?void 0:r.parameterContext.parameter)==null?void 0:i.getArrayValue())!=null?s:[],e.project)):t.name=="filter"||t.name=="query_scope"?re(ic(e.project)):th.includes(t.name)&&((a=e.context)==null?void 0:a.parameterContext)!=null?re(K0((u=(l=(o=e.context)==null?void 0:o.parameterContext.parameter)==null?void 0:l.getArrayValue())!=null?u:[],e.project)):null}function lo(t,e){let n=[];if(t.hasMethodPart())return n.push(t.getMethodNameValue()),n;let r=t.findAnyParameter(Zd),i=t.findAnyParameter(eh),s=[],a=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueTaxonomyNames(),typeof i!="undefined"&&i!==null&&i.isVariableReference==!1&&i.hasInterpolations()==!1&&(a=i.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),a.length>0?n=s.filter(function(o){return a.includes(o)==!1}):n=s,n}function K0(t,e){let n=[],r=e.getUniqueTaxonomyNames().filter(i=>!t.includes(i));for(let i=0;i<r.length;i++)n.push({label:r[i],kind:z0.CompletionItemKind.Variable});return n}function X0(t,e){let n=lo(t,e.statamicProject),r=e.statamicProject.getTaxonomyBlueprintFields(n),i=t.findParameter("collection");if(e.addBlueprintFields(t,r),e.addVariables([{name:"first",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"last",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"index",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"total_results",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"entries_count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t}]),e.addVariables(bs(t)),typeof i!="undefined"&&i!==null){let s=i.getArrayValue();if(s.length>0){let a=e.statamicProject.getBlueprintFields(s);e.introduceScopedAliasScope(t,"entries","entries",a).addVariables(hs(t))}else e.addVariableArray("entries",bs(t).concat(hs(t)))}else e.addVariableArray("entries",bs(t).concat(hs(t)));return e}var v1=[{name:"from",description:"The taxonomy to use",aliases:["taxonomy","is","use","folder"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"not_from",description:"Taxonomies to exclude",aliases:["not_in","not_folder","dont_use","not_taxonomy"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string","array"],isRequired:!1,isDynamic:!1},{name:"min_count",description:"The minimum number of entries a taxonomy term must have to be returned",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"collection",description:"Filter the terms to those that appear in the specified collections",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"sort",description:"The field to sort terms by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope",expectsTypes:["string"],isDynamic:!1}],Q0=v1;var nh=Be(vt());function J0(t){var n,r;let e=[];if(t.currentNode!=null&&t.currentNode.currentScope!=null){let i=lo(t.currentNode,t.project),s=t.project.getTaxonomyBlueprintFields(i),a=s.map(l=>l.name),o=Wi(t.leftWord);if(a.includes(o))return re(ds(t));if(t.isCaretInTag&&!((n=t.context)==null?void 0:n.interpolatedContext)&&["taxonomy","/taxonomy"].includes(t.leftWord)==!1){let l=[];for(let u=0;u<s.length;u++){let c=s[u];l.includes(c.name)==!1&&(e.push({label:c.name,detail:c.blueprintName,documentation:(r=c.instructionText)!=null?r:"",kind:nh.CompletionItemKind.Field}),l.push(c.name))}if(e.length>0)return _n(e)}}if((t.leftWord=="taxonomy"||t.leftWord=="/taxonomy")&&t.leftChar==":"){let i=t.project.getUniqueTaxonomyNames();for(let s=0;s<i.length;s++)e.push({label:i[s],kind:nh.CompletionItemKind.Field});return _n(e)}return ve}var N1={tagName:"taxonomy",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:Q0,resolveDynamicParameter:$e,resolveCompletionItems:J0,resovleParameterCompletionItems:$0,augmentScope:X0,resolveDocumentation:t=>q("taxonomy Tag","The `taxonomy` tag may be used to retrieve taxonomy entries. The taxonomy tag can also be used to access entries associated with any given taxonomy term.","https://statamic.dev/tags/taxonomy")},Z0=N1;var rh=Be(vt());function ev(t,e){e.addVariables([{name:"is_published",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_page",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"has_entries",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_parent",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_external",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"depth",dataType:"number",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"children",dataType:"array",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t}]);let n=e.statamicProject.getUniqueCollectionNames(),r=[],i=!1;if(t.hasMethodPart()){let s=t.getMethodNameValue().trim().toLowerCase();if(s.startsWith("collection:")){let a=s.split(":").pop();i=!0,r.push(a)}else s=="pages"?(i=!0,r.push("pages")):(i=!1,r.push(s))}else{let s=t.findParameter("handle");s!=null&&(n.includes(s.value)?i=!0:i=!1,r.push(s.value))}if(i){let s=e.statamicProject.getBlueprintFields(r);e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}else{let s=rc(bs(t));e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}return e}var C1={tagName:"nav:breadcrumbs",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:[{name:"include_home",description:"Whether to include the home page in the first level",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"reverse",description:"Whether to reverse the order of links",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isRequired:!1,isDynamic:!1},{name:"trim",description:"Whether to trim the whitespace after each iteration of the loop",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],augmentScope:(t,e)=>(e.addVariables([{name:"is_current",dataType:"boolean",sourceName:"*internal.nav.breadcrumbs",sourceField:null,introducedBy:t}]),e.addVariables(bs(t)),e),resolveDocumentation:t=>q("nav:breadcrumbs Tag","The `nav:breadcrumbs` tag can be used to retrieve the URLs of all pages that make up the current URL back to the site's home page.","https://statamic.dev/tags/nav-breadcrumbs")},Gc=C1;function tv(t,e){if(t.name=="handle"){let n=e.project.getUniqueCollectionNames(),r=e.project.getUniqueNavigationMenuNames(),i=[];return i=n,i=i.concat(r),i=[...new Set(i)],yt(i)}return null}var P1=[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["handle"],allowsVariableReference:!1,name:"for",description:"The navigation or collection to use",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],name:"from",description:"The starting point for the navigation",allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"show_unpublished",description:"Whether to include unpublished content",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"include_home",description:"Whether to include the home page in the tree",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"max_depth",description:"The maximum depth of the navigation or structure",expectsTypes:["number"],isDynamic:!1}],nv=P1;var ih={tagName:"structure",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,injectParentScope:!1,parameters:nv,augmentScope:ev,resovleParameterCompletionItems:tv,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="nav"||t.leftWord=="/nav"||t.leftWord=="structure"||t.leftWord=="/structure")&&t.leftChar==":"){let n=t.project.getUniqueNavigationMenuNames();for(let r=0;r<n.length;r++)e.push(Wa(n[r],"",""));return(t.leftWord=="nav"||t.leftWord=="/nav")&&e.push(Se(Gc)),e.push(Wa("collection","","")),e.push({label:"collection",kind:rh.CompletionItemKind.Text}),_n(e)}if((t.leftWord=="nav:collection"||t.leftWord=="/nav:collection"||t.leftWord=="collection"||t.leftWord=="/collection"||t.leftWord=="structure:collection"||t.leftWord=="/structure:collection")&&t.leftChar==":"){let n=t.project.getUniqueCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:rh.CompletionItemKind.Field});return _n(e)}return ve},resolveDocumentation:t=>q("nav Tag","The `nav` tag can be used to iterate structured collections or navigation menus.","https://statamic.dev/tags/nav")},rv=at(ih,"nav");var av=Be(vt());function iv(t){return[{name:"success",dataType:"string",sourceField:null,sourceName:"*internal.forms",introducedBy:t},{name:"submission_created",dataType:"boolean",sourceField:null,sourceName:"*internal.forms",introducedBy:t}]}var E1={name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},Ni=E1;var sh=Be(vt()),A1=[{label:"GET",kind:sh.CompletionItemKind.EnumMember},{label:"POST",kind:sh.CompletionItemKind.EnumMember}],sv=A1;var ii=["in","handle","is","form","formset"];function uo(t,e){return ii.includes(t.name)?yt(e.project.getUniqueFormNames()):t.name=="method"?re(sv):t.name=="files"?re(gl):null}function Ci(t,e){let n=t.structure.findParentWithName("form:set");return n!=null?{context:n,issues:[]}:{context:null,issues:[]}}var S1=["set","create","errors","success","submissions","submission"];function Zs(t){if(t.reference!=null&&"tagPart"in t.reference){let r=t.reference;if(r.nameMatches("form:set"))return Zs(r)}let e=t.findAnyParameter(ii),n=t.getMethodNameValue();return n!=null&&S1.includes(n)==!1?n:typeof e!="undefined"&&e!==null&&e.containsSimpleValue()?e.value:""}var I1={tagName:"form:create",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Ni,{name:"method",description:"The HTTP method to use",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"files",description:"Indicates if the form sends file data",aliases:[],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"redirect",description:"The location to redirect users after a successful form submission",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",description:"The location to redirect users to after a failed form submission",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override redirect or error_redirect",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveSpecialType:Ci,resovleParameterCompletionItems:uo,resolveDynamicParameter:$e,augmentScope:(t,e)=>{e.addVariables(iv(t)),e.addVariable({dataType:"array",name:"errors",sourceField:null,sourceName:"*internal.forms",introducedBy:t}),e.addVariableArray("fields",jc(t));let n=Zs(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n),i=oo(t,r);e.addVariableArray("old",i),e.addVariableArray("error",i)}return e},resolveDocumentation:t=>q("form:create Tag","The `form:create` tag can be used to access form data, generate field HTML markup, and handle form validation errors.","https://statamic.dev/tags/form-create")},Yc=I1;var D1={tagName:"form:errors",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Ni],resolveSpecialType:Ci,resovleParameterCompletionItems:(t,e)=>ii.includes(t.name)?yt(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>q("form:errors Tag","The `form:errors` tag can be used to retrieve validation errors after a user has submitted a form.","https://statamic.dev/tags/form-errors")},Hc=D1;var R1={tagName:"form:set",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!0}],resovleParameterCompletionItems:uo,resolveDocumentation:t=>q("form:set Tag","The `form:set` tag can be used to set the form handle on all nested form tags.","https://statamic.dev/tags/form-set")},$c=R1;var x1={tagName:"form:submission",requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Ni],resolveSpecialType:Ci,resovleParameterCompletionItems:(t,e)=>ii.includes(t.name)?yt(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{let n=Zs(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n);e.addBlueprintFields(t,r)}return e},resolveDocumentation:t=>q("form:submission Tag","The `form:submission` tag can be used to access the form submission submitted by the current user.","https://statamic.dev/tags/form-submission")},Kc=x1;var w1={tagName:"form:submissions",allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[Ni],resolveSpecialType:Ci,resovleParameterCompletionItems:(t,e)=>ii.includes(t.name)?yt(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let n=Zs(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n);e.addBlueprintFields(t,r)}return e.addVariable({name:"date",dataType:"date",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e},resolveDocumentation:t=>q("form:submissions Tag","The `form:submissions` tag can be used to fetch previously saved submissions for a form.","https://statamic.dev/tags/form-submissions")},zc=w1;var O1={tagName:"form:success",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Ni],resolveSpecialType:Ci,resovleParameterCompletionItems:(t,e)=>ii.includes(t.name)?yt(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>q("form:success Tag","The `form:success` tag can be used to check if a form submission was successful or not.","https://statamic.dev/tags/form-success")},Xc=O1;var L1=[Se($c),Se(Yc),Se(Hc),Se(Xc),Se(zc),Se(Kc)],F1={tagName:"form",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resovleParameterCompletionItems:uo,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="form"||t.leftWord=="/form")&&t.leftChar==":"){let n=t.project.getUniqueFormNames();e=e.concat(L1);for(let r=0;r<n.length;r++)e.push({label:n[r],kind:av.CompletionItemKind.Field});return _n(e)}return ve}},ov=F1;var ah={tagName:"search:results",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"index",description:"The index to search in",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"query",description:"The query string parameter to use",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"limit",description:"The maximum number of search results to return",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{name:"offset",description:"The number of results to skip",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether not to paginate entry results",expectsTypes:["boolean"],isRequired:!1,name:"paginate",isDynamic:!1},{name:"as",description:"Specifies an alias for search results",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"supplement_data",description:"Controls whether non-indexed fields are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="index"?yt(e.project.getSearchIndexes()):null,augmentScope:(t,e)=>{e.addVariables([{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]);let n=t.findParameter("as");return n!=null&&n.value.trim().length>0?e.addVariableArray(n.value,lv(t)):e.addVariables(lv(t)),e},resolveDocumentation:t=>q("search:results Tag","The `search:results` tag provides access to all data that was returned as a result of a user's search.","https://statamic.dev/tags/search")},M1=[Se(ah)];function lv(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"content",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_term",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"count",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"index",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"search_score",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"_highlightResult",dataType:"array",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]}var uv={tagName:"search",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="search"||t.leftWord=="/search")&&t.leftChar==":"?_n(M1):ve};function oh(t){return[{name:"email",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"password",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]}var lh={tagName:"user:login_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after logging in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed login attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:$e,augmentScope:(t,e)=>(e.addVariables([{name:"errors",dataType:"array",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"success",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]),e.addVariables(oh(t)),e.addVariableArray("old",oh(t)),e.addVariableArray("error",oh(t)),e),resolveDocumentation:t=>q("user:login_form Tag","The `user:login_form` tag can be used to quickly create a form that users can use to authenticate with the site.","https://statamic.dev/tags/user-login_form")},cv=at(lh,"member:login_form");var k1={tagName:"noparse",requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>q("noparse Tag","The `noparse` tag is used prevent blocks of Antlers code from being parsed, removing the need to escape individual Antlers code regions.","https://statamic.dev/antlers#the-noparse-tag")},fv=k1;var q1={tagName:"unless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:$e,resolveDocumentation:t=>q("unless Conditional Control Structure","The `unless` control structure operates the same as an `if` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},pv=q1;var B1={tagName:"elseunless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:$e,resolveDocumentation:t=>q("elseunless Conditional Control Structure","The `elseunless` control structure operates the same as an `elseif` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},dv=B1;var hv=Be(ti());var mv={tagName:"installed",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!0,introducedIn:"3.1.19",parameters:[],resolveCompletionItems:t=>{if(t.project!=null){let e=t.project.getComposerPackages(),n=[];return e.forEach((r,i)=>{n.push({label:r.name,kind:hv.CompletionItemKind.Text})}),re(n)}return ve},resolveDocumentation:t=>Ue("installed Tag","The `installed` tag is used to check if the site has a specific Composer package available.",`{{ if {installed:composer/package-name} }}
    {{# Package is availabl.e #}}
{{ else }}
    {{# Something else. #}}
{{ /if }}`,"https://statamic.dev/tags/installed")};var V1={tagName:"relate",hideFromCompletions:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[]},gv=V1;var co=[{name:"bag",description:"The error message bag to retrieve errors from.",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}];var j1={tagName:"get_errors",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:co,introducedIn:"3.2.23",augmentScope:(t,e)=>{var n;if(t.isClosingTag)return e;if(((n=t.name)==null?void 0:n.methodPart)==null){let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"field",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"field",refFieldSetField:null,sets:null,type:"string"}});let i=r.copy();i.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),r.addScopeList("messages",i),e.addScopeList("fields",r)}else{let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",r)}return e},resolveDocumentation:t=>q("get_errors Tag","The `get_errors` tag can be used to retrieve form validation errors.","https://statamic.dev/tags/get_errors")},_v=j1;var U1={tagName:"get_errors:all",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:co,introducedIn:null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let n=e.copy();return n.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors.all",sourceField:{blueprintName:"*internal.tag.get_errors.all",displayName:"get_errors:all",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",n),e},resolveDocumentation:t=>q("get_errors:all Tag","The `get_errors:all` tag can be used to retrieve all form validation errors.","https://statamic.dev/tags/get_errors#list-all-validation-errors")},yv=U1;var W1={tagName:"get_error",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:co,introducedIn:null,augmentScope:(t,e)=>(t.isClosingTag||e.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_error",sourceField:{blueprintName:"*internal.tag.get_error",displayName:"get_error",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e),resolveDocumentation:t=>q("get_error Tag","The `get_error` tag can be used to retrieve the first error message for a specific field.","https://statamic.dev/tags/get_errors#get-the-first-error-for-a-specific-field")},bv=W1;var G1={tagName:"set",hideFromCompletions:!0,allowsArbitraryParameters:!0,requiresClose:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[]},Tv=G1;var vv=Be(ti());var Y1={tagName:"mount_url",hideFromCompletions:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:"3.3.15",parameters:[{isRequired:!1,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The collection handle",name:"handle",isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>q("mount Tag","The `mount` tag can be used to retrieve the mount URL for a given collection.",null),resovleParameterCompletionItems:(t,e)=>{var n,r,i,s;return t.name=="handle"&&((n=e.context)==null?void 0:n.parameterContext)!=null?re(Ha((s=(i=(r=e.context)==null?void 0:r.parameterContext.parameter)==null?void 0:i.getArrayValue())!=null?s:[],e.project)):null},resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="mount_url"||t.leftWord=="/mount_url")&&t.leftChar==":"){let n=t.project.getCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:vv.CompletionItemKind.Field,sortText:"0"})}return{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}},Nv=Y1;var Cv=[V0,j0,U0,pv,dv,l0,f0,DT,hc,Ks,mc,dc,pc,gv,ov,Yc,Kc,zc,$c,Xc,Hc,Tv,_v,bv,yv,uv,ah,qT,gc,_c,wT,A0,xT,R0,D0,RT,p0,h0,_0,Lc,OT,LT,FT,y0,b0,BT,yc,v0,Mc,N0,Nv,rv,ih,Gc,jT,VT,kc,E0,ro,io,S0,mv,Uc,so,Ja,Bc,Za,eo,ao,lh,Cl,Nl,Pl,Wc,Yd,Hd,$d,Kd,zd,Xd,Qd,Jd,cv,Wd,Ud,Gd,fv,GT,YT,HT,i0,s0,x0,e0,JT,B0,r0,G0,Ec,Pc,Cc,Nc,Vc,vc,o0,Z0,O0,jd,L0,F0,M0,k0,q0,Dc,a0,kd,w0,zT,Ac,I0];var Ts=class{constructor(){this.tags=new Map;this.parameters=new Map}reset(){this.tags.clear(),this.parameters.clear(),this.loadCoreTags()}getVisibleTagsWithDocumentation(){let e=[];return this.tags.forEach((n,r)=>{if(n.hideFromCompletions==!1){let i="";n.resolveDocumentation!=null&&(i=n.resolveDocumentation()),e.push({label:r,documentation:i})}}),e}getVisibleTagNames(){let e=[];return this.tags.forEach((n,r)=>{n.hideFromCompletions==!1&&e.push(r)}),[...new Set(e)]}getPossibleTagMethods(e){let n=[],r=e.length+1;return this.tags.forEach((i,s)=>{if(s.startsWith(e)){let a=s.substr(r).trim();a.length>0&&n.push(a)}}),[...new Set(n)]}getTagNames(){let e=[];return this.tags.forEach((n,r)=>{e.push(r)}),[...new Set(e)]}loadCoreTags(){this.registerTags(Cv)}cleanTagName(e){return wi(e,"/")}findTag(e){return this.tags.get(this.resolveTagName(e))}isKnownTag(e){return this.tags.has(this.resolveTagName(e))}isSymbolKnownTag(e){return this.isKnownTag(e.runtimeName())}resolveTagName(e){return e=this.cleanTagName(e.trim()),this.tags.has(e)||e.includes(":")&&(e=e.split(":")[0]),e}canResolveSpecialTypes(e){e=this.resolveTagName(e);let n=this.tags.get(e);return!(typeof n=="undefined"||n==null||n.resolveSpecialType==null)}resolveSpecialType(e,n,r){e=this.resolveTagName(e);let i=this.findTag(e);if(i.resolveSpecialType==null)throw new Error(e+" does not support special types.");return i.resolveSpecialType(n,r)}getCompletionItems(e){var s;let n=null,r=[],i=!0;if(e.nodesInScope.length>0&&(n=e.nodesInScope[e.nodesInScope.length-1]),e.currentNode!=null&&this.isKnownTag(e.currentNode.runtimeName())){let a=this.findTag(e.currentNode.runtimeName());if(typeof a=="undefined")return{isExclusive:!1,items:[]};let o=[];if(a.resolveCompletionItems!=null){let l=a.resolveCompletionItems(e);if(l.isExclusiveResult)return{isExclusive:!0,items:l.items};i=l.analyzeDefaults,r=r.concat(l.items)}if(e.isPastTagPart==!1){let l=this.getPossibleTagMethods(a.tagName);for(let u=0;u<l.length;u++)r.push({label:l[u],kind:Pv.CompletionItemKind.Text})}if(i){if(e.isCaretInTag==!0&&a.parameters.length>0&&(r=r.concat(Sd(e,a.parameters)),a.tagName=="partial"&&(n==null?void 0:n.hasMethodPart()))){let l=n.getMethodNameValue();if(l.trim().length>0&&((s=lr.instance)==null?void 0:s.hasStructure())){let u=lr.instance.getStructure().findPartial(l);u!=null&&u.injectsParameters.length>0&&(r=r.concat(Sd(e,u.injectsParameters)))}}for(let l=0;l<e.nodesInScope.length;l++)if(e.nodesInScope[l].runtimeType!==null){let u=e.nodesInScope[l].runtimeType;if(u!=null&&u.assumedType=="structure_ref"&&u.supplementedFields!=null)for(let c=0;c<u.supplementedFields.length;c++)r.push(Id(u.supplementedFields[c]))}}return{items:r,isExclusive:!1}}return{items:r,isExclusive:!1}}injectParentScope(e){let n=this.findTag(e);return typeof n=="undefined"||n==null?!0:n.injectParentScope}resolveParameterCompletions(e,n,r){let i=this.findTag(e);return typeof i!="undefined"&&i!==null&&typeof i.resovleParameterCompletionItems!="undefined"&&i.resovleParameterCompletionItems!==null?i.resovleParameterCompletionItems(n,r):null}canResolveDynamicParameter(e){let n=this.resolveTagName(e);if(this.isKnownTag(n)){let r=this.tags.get(n);if(typeof r=="undefined")return!1;if(typeof r.resolveDynamicParameter!="undefined"&&r.resolveDynamicParameter!=null)return!0}return!1}getParameter(e,n){let r=this.resolveTagName(e);if(this.parameters.has(r)==!1)return null;let i=this.parameters.get(r);if(i==null)return null;if(i.has(n)==!1){let a=this.findTag(e);if(a!=null&&typeof a.resolveDynamicParameter!="undefined"&&a.resolveDynamicParameter!=null){let o=a.resolveDynamicParameter(null,n);if(o!==null)return o}return null}let s=i.get(n);return typeof s=="undefined"||i==null?null:s}registerTags(e){for(let n=0;n<e.length;n++)this.registerTag(e[n])}registerTag(e){if(this.tags.set(e.tagName,e),this.parameters.has(e.tagName)==!1&&this.parameters.set(e.tagName,new Map),e.parameters.length>0){let n=this.parameters.get(e.tagName);for(let r=0;r<e.parameters.length;r++){let i=e.parameters[r];n==null||n.set(i.name,i)}}}requiresClose(e){let n=e.getTagName();if(this.tags.has(n)){let r=this.findTag(n);if(r!=null)return r.requiresCloseResolver!=null?r.requiresCloseResolver(e):r.requiresClose}return!1}};Ts.instance=null;(typeof Ts.instance=="undefined"||Ts.instance==null)&&(Ts.instance=new Ts,Ts.instance.loadCoreTags());var wt=Ts;var Nr=class{constructor(e){this.generation=0;this.id="";this.name="";this.values=new Map;this.lists=new Map;this.pristine=new Map;this.parentScope=null;this.statamicProject=e,Nr.generationCounter+=1,this.generation=Nr.generationCounter,this.id=ts()}makeNew(){return new Nr(this.statamicProject)}ancestor(){return this.parentScope!=null?this.parentScope:this}canShiftScope(e){return!!this.pristine.has(e)}shiftScope(e,n,r){if(this.pristine.has(n)){let i=this.pristine.get(n),s=i.parentCopy.copy();return s.introduceAliasScope(e,r,i.introducedFields),s}return this}containsPath(e){if(e.includes(":")){let n=e.split(":"),r=n.shift(),i=n.join(":");if(typeof r=="undefined")return!1;let s=this.lists.get(r);return typeof s=="undefined"?!1:s.containsPath(i)}return!!this.lists.has(e)}findReference(e){if(e.includes(":")){let n=e.split(":"),r=n.pop(),i=n.join(":"),s=this.findNestedScope(i);if(s!=null)return s.findReference(r)}return this.values.has(e)?this.values.get(e):null}findReferenceWithField(e){if(e.includes(":")){let n=e.split(":"),r=n.pop(),i=n.join(":"),s=this.findNestedScope(i);if(s!=null)return s.findReference(r)}if(this.values.has(e)){let n=this.values.get(e);if(n.sourceField==null){if(n.introducedBy!=null&&n.introducedBy.currentScope!=null&&n.introducedBy.currentScope!=this)return n.introducedBy.currentScope.findReferenceWithField(n.introducedBy.getTagName());if(this.parentScope!=null&&this.parentScope!=this)return this.parentScope.findReferenceWithField(e)}return n}return null}containsReference(e){return this.findReference(e)!=null}findNestedScope(e){if(e.includes(":")){let n=e.split(":"),r=n.shift(),i=n.join(":");if(typeof r=="undefined")return null;let s=this.lists.get(r);return typeof s=="undefined"?null:s.findNestedScope(i)}return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this&&this.parentScope.hasList(e)?this.parentScope.lists.get(e):null}liftList(e){if(this.lists.has(e)){let n=this.lists.get(e);return typeof n=="undefined"||n===null?null:(this.lists.delete(e),n)}return null}hasPristineReference(e){return!!this.pristine.has(e)}hasListInHistory(e){return this.hasList(e)?!0:this.parentScope!=null?this.name=="*root*"?!1:this.parentScope.hasList(e):!1}hasList(e){if(this.lists.has(e)){let n=this.lists.get(e);return!(typeof n=="undefined"||n===null)}return!1}bringListIntoMainScope(e){if(e.includes(":")){let r=e.split(":"),i=r.shift(),s=r.join(":");if(typeof i=="undefined")return this;let a=this.lists.get(i);return typeof a=="undefined"?this:a.bringListIntoMainScope(s)}let n=this.lists.get(e);return this.lists.delete(e),this.mergeScope(n)}getListNames(){let e=[];return this.lists.forEach((n,r)=>{e.push(r)}),e}getVariableNames(){let e=[];return this.values.forEach(n=>{e.push(n.name)}),e}getList(e){return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this?this.parentScope.getList(e):null}hasValue(e){return this.values.has(e)}findAncestorWithList(e){return this.hasList(e)?this:this.parentScope!=null&&this.parentScope!=this?this.parentScope.findAncestorWithList(e):null}findReferenceNotIntroducedBy(e,n){if(this.hasValue(e)){let r=this.values.get(e);if(r.introducedBy!=null&&r.introducedBy!=n)return r}return this.parentScope!=null&&this.parentScope!=this?this.parentScope.findReferenceNotIntroducedBy(e,n):null}removeThroughIntroduction(e,n){if(this.values.delete(e),this.parentScope!=null){let r=this.findReferenceNotIntroducedBy(e,n);r!=null&&this.addVariable(r)}}wasIntroducedBySymbol(e,n){if(this.values.has(e)==!1)return!1;let r=this.values.get(e);return r.introducedBy!=null?r.introducedBy==n:!1}referencesArray(e){return this.values.has(e)==!1?!1:this.values.get(e).dataType=="array"}addScopeList(e,n){return this.lists.set(e,n),this}mergeAndList(e,n){let r=new Nr(this.statamicProject);return r.values=H0(n),this.lists.set(e,r),this.mergeVariableScope(n),this}mergeScope(e){return e==this||e==null?this:(typeof e.values!="undefined"&&e.values!==null&&e.values.forEach((n,r)=>{this.values.set(r,n)}),typeof e.lists!="undefined"&&e.lists!==null&&e.lists.forEach((n,r)=>{this.lists.set(r,n)}),this)}mergeVariableScope(e){for(let n=0;n<e.length;n++)this.values.set(e[n].name,e[n]);return this}addVariable(e){this.values.set(e.name,e)}addVariables(e){for(let n=0;n<e.length;n++)this.addVariable(e[n])}addVariableArray(e,n){this.values.has(e)&&this.values.delete(e);let r=new Nr(this.statamicProject);r.addVariables(n),this.addScopeList(e,r)}injectAssetContainer(e,n){this.addBlueprintFields(e,this.statamicProject.getAssetBlueprintFields(n))}injectUserFields(e){this.addBlueprintFields(e,this.statamicProject.getUserFields())}addBlueprintField(e,n){this.addVariable({dataType:n.type,name:n.name,sourceField:n,sourceName:n.blueprintName,introducedBy:e})}introduceScopedAliasScope(e,n,r,i){this.pristine.set(r,{introducedFields:i,introducedScope:r,parentCopy:this.copy()});let s=new Nr(this.statamicProject),a=new Nr(this.statamicProject);return a.addBlueprintFields(e,i),s.name=r,s.addScopeList(n,a),this.addScopeList(r,s),s}expandScopedAliasScope(e,n,r,i){this.lists.has(r)==!1?this.introduceScopedAliasScope(e,n,r,i):this.lists.get(r).addBlueprintFields(e,i)}introduceAliasScope(e,n,r){this.pristine.set(n,{introducedFields:r,introducedScope:n,parentCopy:this.copy()});let i=new Nr(this.statamicProject);i.addBlueprintFields(e,r),i.name=n,this.addScopeList(n,i)}introduceDynamicScopeList(e,n,r){this.pristine.set(n,{introducedFields:r,introducedScope:n,parentCopy:this.copy()});let i=new Nr(this.statamicProject);i.name=n,i.addBlueprintFields(e,r),this.addScopeList(n,i)}addBlueprintFields(e,n){for(let r=0;r<n.length;r++)this.addBlueprintField(e,n[r])}injectBlueprint(e,n){let r=this.statamicProject.getBlueprintDetails(n);r.length>0&&this.addBlueprintFields(e,r)}copy(){let e=new Nr(this.statamicProject);return e.pristine=new Map(this.pristine),e.values=new Map(this.values),e.lists=new Map(this.lists),e.parentScope=this,e}},er=Nr;er.generationCounter=0;function uh(t){let e=new er(t);return e.addVariable({dataType:"string",name:"handle",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"name",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"short_locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e}function Ev(){let t=[];return t.push({dataType:"number",name:"response_code",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_field",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_token",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"environment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"xml_header",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"last_segment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_uri",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"amp_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"api_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_full_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_in",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_out",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"is_homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"now",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"today",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"current_date",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get_post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"old",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t}function Av(t,e){let n=t.findParameter("paginate");if(n!=null&&(n.value.toLowerCase()=="true"||parseInt(n.value).toString()==n.value)){let r=e.makeNew(),i=e.makeNew(),s=e.makeNew(),a=e.makeNew();r.addVariable({name:"next_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"prev_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_items",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_pages",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"current_page",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"auto_links",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),s.addVariable({name:"url",dataType:"string",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),s.addVariable({name:"page",dataType:"integer",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),a.addVariable({name:"first",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),a.addVariable({name:"last",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),a.addVariable({name:"slider",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),i.addScopeList("all",s),i.addScopeList("segments",a),r.addScopeList("links",i),e.addScopeList("paginate",r)}}var ea=class{constructor(){this.fileInjections=new Map;this.project=null}updateProject(e){this.project=e}registerInjections(e,n){if(n.length==0)return;let r=[];for(let i=0;i<n.length;i++){let s=n[i];s.hasParameters&&r.push(s)}if(r.length>0){let i=r[0].getMethodNameValue();if(i!=null&&this.project!=null){let s=this.project.findPartial(i);s!=null&&(this.fileInjections.has(s.documentUri)||this.fileInjections.set(s.documentUri,new Map),this.fileInjections.get(s.documentUri).set(e,r))}}}hasAvailableInjections(e){return this.fileInjections.has(e)}getScopeInjection(e,n){let r=new er(n);return r.name="*injection*",this.fileInjections.get(e).forEach((s,a)=>{for(let o=0;o<s.length;o++){let l=s[o];if(l.hasParameters)for(let u=0;u<l.parameters.length;u++){let c=l.parameters[u];if(c.containsSimpleValue())r.addVariable({dataType:"string",name:c.name,sourceField:null,sourceName:"scope.injection",introducedBy:l});else if(c.isVariableReference&&l.currentScope!=null&&l.currentScope.hasListInHistory(c.value)){let f=l.currentScope.findNestedScope(c.value);if(f!=null){let m=wi(c.name,":"),g=f.copy();g.name=m,r.addScopeList(m,f)}}}}}),r}};ea.instance=null;(typeof ea.instance=="undefined"||ea.instance==null)&&(ea.instance=new ea);var ch=ea;var H1=["collection"],$1=["if","elseif","unless","elseunless"],fh=class{constructor(e,n,r){this.pageVars=[];this.viewDataVars=null;this.documentUri="";this.lastSymbolId="";this.ideHelperMap=new Map;this.statamicProject=e,this.documentUri=n,this.document=r,this.makePageScope(),this.makeViewDataScope()}makeViewDataScope(){this.document.hasFrontMatter()&&(this.viewDataVars=this.document.getFrontMatterScope())}makePageScope(){let e=[],n=this.statamicProject.getFields();if(n.has("pages")){let r=n.get("pages");for(let i=0;i<r.length;i++){let s=r[i];e.push({name:s.name,dataType:s.type,sourceField:s,sourceName:s.blueprintName,introducedBy:null})}}this.pageVars=e}analyzeScope(e){var c,f,m,g,p,d,h,y,b;let n=new er(this.statamicProject);n.name="*root*",n.parentScope=n,n.addScopeList("site",uh(this.statamicProject)),n.addScopeList("sites",uh(this.statamicProject)),n.addVariables(Ev());let r=new er(this.statamicProject);r.name="*root_user*",r.parentScope=n,this.statamicProject.getUserFields().forEach(N=>{r.addBlueprintField(null,N)}),n.addScopeList("current_user",r),((c=bg.instance)==null?void 0:c.pageScopeDisabled(this.documentUri))?this.viewDataVars!=null&&n.addScopeList("view",this.viewDataVars):this.viewDataVars!=null?n.mergeAndList("page",this.pageVars).addScopeList("view",this.viewDataVars):n.mergeAndList("page",this.pageVars);let i=null;e.length>0&&e[0].isComment&&(i=Go(this.documentUri,e[0]));for(let N=0;N<e.length;N++)if(e[N].isComment){let _=Go(this.documentUri,e[N]);_.variableHelper!=null&&this.ideHelperMap.set(e[N].id(),_.variableHelper)}let s=this.statamicProject.getCollectionNamesForView(this.documentUri);if(i!=null&&(i.collectionInjections.length>0&&(s=s.concat(i.collectionInjections)),i.blueprints.length>0&&(s=s.concat(i.blueprints)),i.variableHelper!=null&&i.variableHelper.variableName=="@page")){let N=this.statamicProject.getBlueprintField(i.variableHelper.collectionName,i.variableHelper.fieldHandle);if(N!=null)if(i.variableHelper.setHandle.length>0){if(N.sets!=null){for(let _=0;_<N.sets.length;_++)if(N.sets[_].handle==i.variableHelper.setHandle){n.addVariables(oo(e[0],N.sets[_].fields));break}}}else n.addBlueprintField(e[0],N)}if(s.length>0){for(let N=0;N<s.length;N++)n.injectBlueprint(e[0],s[N]);n.addVariables(hs(e[0]))}((f=ch.instance)==null?void 0:f.hasAvailableInjections(this.documentUri))&&n.mergeScope((m=ch.instance)==null?void 0:m.getScopeInjection(this.documentUri,this.statamicProject));let a=[],o=[],l=[],u=[];u.push(n);for(let N=0;N<e.length;N++){let _=e[N];this.lastSymbolId.length>0&&o.includes(_.id())&&(a.pop(),u.pop(),u.length==0&&u.push(n));let w=u[u.length-1];if(_.hasParameters){for(let H=0;H<_.parameters.length;H++)if(_.parameters[H].interpolations.length>0)for(let j=0;j<_.parameters[H].interpolations.length;j++){let X=_.parameters[H].interpolations[j];_.processedInterpolationRegions.has(X)&&_.processedInterpolationRegions.get(X).forEach(Te=>{Te instanceof Q&&(Te.currentScope=w)})}}if(((g=wt.instance)==null?void 0:g.isKnownTag(_.getTagName()))==!1){if(_.scopeVariable=w.findReference(_.runtimeName()),N>0){let H=e[N-1];if(H.isComment&&this.ideHelperMap.has(H.id())&&!H.isClosingTag&&!_.isClosingTag){let j=this.ideHelperMap.get(H.id());if(j.variableName==_.getTagName()){let X=this.statamicProject.getBlueprintField(j.collectionName,j.fieldHandle);X!=null&&(_.scopeVariable=Y0(_,X))}}}if(_.scopeVariable==null){let H=_.runtimeName().trim();if(w.hasList(H)||((p=_.currentScope)==null?void 0:p.hasListInHistory(H))){_.sourceType="array";let j=w.getList(H);if(j!=null&&j.values.size>0){let X=j.values.entries().next().value[1];_.scopeVariable={dataType:"array",introducedBy:X.introducedBy,name:H,sourceField:null,sourceName:X.sourceName}}}}else _.sourceType=du(_.scopeVariable.dataType),_.scopeVariable.sourceField!=null&&((d=lc.instance)==null?void 0:d.hasFieldtype(_.scopeVariable.sourceField.type))&&((h=lc.instance)==null?void 0:h.getFieldType(_.scopeVariable.sourceField.type)).augmentScope(_,w)}if(_.hasParameters&&Av(_,w),_.modifiers!=null&&_.modifiers.hasModifiers()?_.manifestType=_.modifiers.getLastManifestedModifierRuntimeType():_.manifestType=_.sourceType,_.isClosedBy!=null&&(a.push(_.id()),o.push(_.isClosedBy.id()),w=w.copy(),u.push(w)),_.getTagName()=="scope"&&_.hasMethodPart()){let H=u[u.length-2].copy();w.addScopeList(_.getMethodNameValue(),H)}if(w.containsPath(_.runtimeName())&&(a.push(_.id()),_.isClosedBy!=null&&o.push(_.isClosedBy.id()),w=w.copy().bringListIntoMainScope(_.runtimeName()),u.push(w)),_.currentScope=w,_.getTagName()!="cache"){let H=_.findParameter("scope");H!=null&&w.canShiftScope(_.runtimeName())&&(w=w.shiftScope(_,_.runtimeName(),H.value),_.currentScope=w,u.pop(),u.push(w))}if((y=wt.instance)==null?void 0:y.isKnownTag(_.runtimeName())){let H=(b=wt.instance)==null?void 0:b.findTag(_.runtimeName());typeof H!="undefined"&&H.augmentScope!=null&&H.augmentScope(_,w)}if(_.modifierChain!=null&&_.modifierChain.modifierChain.length>0&&_.modifierChain.modifierChain.forEach(H=>{H.modifier!=null&&typeof H.modifier.augmentScope!="undefined"&&H.modifier.augmentScope!=null&&H.modifier.augmentScope(_,w)}),_.modifiers.hasParameterModifiers()&&_.modifiers.parameterModifiers.forEach(H=>{H.modifier!=null&&typeof H.modifier.augmentScope!="undefined"&&H.modifier.augmentScope!=null&&H.modifier.augmentScope(_,w)}),_.sourceType=="array"){let H=_.findParameter("chunk"),j=!0;if(_.parent!=null&&_.parent instanceof Q&&H1.includes(_.parent.runtimeName())&&(j=!1),typeof H!="undefined"&&H!==null)if(_.currentScope.parentScope!=null&&(_.currentScope.parentScope.hasList(_.runtimeName())||w.referencesArray(_.runtimeName()))){let X=_.currentScope.parentScope.copy(),Z=X.liftList(_.runtimeName());if(Z==null&&w.referencesArray(_.runtimeName())){if(Z=new er(w.statamicProject),j){let Te=et(_);for(let we=0;we<Te.length;we++){let Le=Te[we];X.wasIntroducedBySymbol(Le.name,_)&&X.removeThroughIntroduction(Le.name,_)}Z.addVariables(Te)}}else j&&X.addVariables(et(_));X.addScopeList("chunk",Z),w=X,u.pop(),u.push(w),_.currentScope=X}else{let X=_.findParameter("scope");if(typeof X!="undefined"&&X!==null&&_.currentScope!=null&&_.currentScope.hasList(X.value)&&_.scopeName!=null){let Z=_.currentScope.copy(),Te=Z.ancestor().copy(),we=Z.liftList(_.scopeName);j&&Z.addVariables(et(_)),Te.liftList(_.scopeName),Z.addScopeList(_.scopeName,we),Te.addScopeList("chunk",Z),w=Te,u.pop(),u.push(w),_.currentScope=Te}}else _.scopeVariable!=null&&_.scopeVariable.sourceField==null&&j&&(w.addVariables(et(_)),w.addVariables(Xe(_)))}if(o.includes(_.id())&&_.parent!=null&&_.parent instanceof Q){let H=_.currentScope.findAncestorWithList(_.getTagName());H!=null?(_.currentScope=H,w=H.copy(),u.pop(),u.length==0&&u.push(n),u.push(w)):_.parent.parent!=null?_.currentScope=_.parent.parent.currentScope:_.currentScope=_.parent.currentScope}if(_.currentScope!=null&&_.runtimeNodes.length>0&&_.runtimeNodes.forEach(H=>{var j;if(H instanceof be&&((j=_.currentScope)==null?void 0:j.hasValue(H.name))){let X=_.currentScope.findReferenceWithField(H.name);H.currentScope=_.currentScope,H.scopeName=_.scopeName,H.scopeVariable=X}}),$1.includes(_.runtimeName())&&_.runtimeNodes.length==3&&_.runtimeNodes[0]instanceof be&&_.runtimeNodes[1]instanceof Mn&&_.runtimeNodes[2]instanceof St&&_.runtimeNodes[0].scopeVariable!=null&&_.runtimeNodes[0].scopeVariable.sourceField!=null){let H=_.runtimeNodes[0].scopeVariable,j=_.runtimeNodes[2].value,X=H.sourceField;if(X.sets!=null)for(let Z=0;Z<X.sets.length;Z++){let Te=X.sets[Z];if(Te.handle==j&&Te.fields!=null){w=w.copy(),w.addBlueprintFields(_,Te.fields),_.isClosedBy!=null&&!_.isSelfClosing&&(a.push(_.id()),o.push(_.isClosedBy.id()),u.push(w));break}}}this.lastSymbolId=_.id();let te=a.join("/");l.push(te)}}};var vs=class{};vs.globalTagEnterStack=[],vs.interpolatedVariables=[];var Dv=Be(Du());var Bn=class{constructor(){this.name="";this.compound="";this.methodPart="";this.content="";this.cachedCompoundTagName=null}tagPartIs(e){return e=e.toLowerCase().trim(),this.name.toLowerCase().trim()==e}isCompound(){return this.methodPart==null?!1:this.methodPart.length>0}getMethodName(){return this.methodPart==""?"index":this.methodPart=="null"?"":this.methodPart}getRuntimeMethodName(){}getCompoundTagName(){if(this.cachedCompoundTagName==null){let e=this.getMethodName();this.cachedCompoundTagName=this.name,e!=null&&e!=""&&(this.cachedCompoundTagName=this.cachedCompoundTagName+":"+e)}return this.cachedCompoundTagName}};var ph=class{constructor(){this.tagNames=[];this.modifierNames=[]}getModifierNames(){var e,n;return this.modifierNames.concat((n=(e=Rt.instance)==null?void 0:e.getModifierNames())!=null?n:[])}getTagNames(){var e,n;return this.tagNames.concat((n=(e=wt.instance)==null?void 0:e.getTagNames())!=null?n:[])}setTagNames(e){this.tagNames=e}setModifierNames(e){this.modifierNames=e}isTag(e){var n;return ph.alwaysLikeTag.includes(e)||((n=wt.instance)==null?void 0:n.isKnownTag(e))?!0:this.tagNames.includes(e)}isModifier(e){var n;return((n=Rt.instance)==null?void 0:n.hasModifier(e))?!0:this.modifierNames.includes(e)}},fo=ph;fo.alwaysLikeTag=["if","endif","elseif","else","unless","elseunless"];var ho=class{static analyze(e,n){e.forEach(r=>{if(r instanceof Q){if(r.pathReference!=null&&r.pathReference.isStrictVariableReference){r.isTagNode=!1;return}r.name!=null&&(r.isTagNode=n.isTag(r.name.name))}})}static analyzeNode(e){if(e.pathReference!=null&&e.pathReference.isStrictVariableReference){e.isTagNode=!1;return}ho.environmentDetails!=null&&e.name!=null&&(e.isTagNode=ho.environmentDetails.isTag(e.name.name)),e.name!=null&&(e.isConditionNode=fo.alwaysLikeTag.includes(e.name.name))}static analyzeParametersForModifiers(e){e.parameters.forEach(n=>{ho.environmentDetails!=null&&(n.isModifierParameter=ho.environmentDetails.isModifier(n.name))})}},po=ho;po.environmentDetails=null;(typeof po.environmentDetails=="undefined"||po.environmentDetails==null)&&(po.environmentDetails=new fo);var dh=po;var hh=class{static getIdentifier(e){var i;let n=new Bn;n.content=e.trim();let r=e.split(":");if(r.length==1)n.name=r[0].trim(),n.methodPart=null,n.compound=n.name;else if(r.length>1){let s=(i=r.shift())!=null?i:"",a=r.join(":");n.name=s.trim(),n.methodPart=a.trim(),n.compound=n.name+":"+n.methodPart}else n.name=e.trim(),n.methodPart="";return n.name.startsWith("/")&&(n.name=n.name.substr(1),n.compound=n.compound.substr(1)),n}};var oe=class{static getPrettyTypeName(e){return e instanceof Yr?oe.TOKEN_LANG_OPERATOR:e instanceof Yn?oe.TOKEN_OP_A_ADD:e instanceof be?oe.TOKEN_VARIABLE:e instanceof St?oe.TOKEN_STRING:e instanceof qt?oe.TOKEN_NUMBER:e instanceof Or?oe.TOKEN_CONSTANT_FALSE:e instanceof hr?oe.TOKEN_CONSTANT_NULL:e instanceof Lr?oe.TOKEN_CONSTANT_TRUE:e instanceof Aa?oe.TOKEN_MODIFIER_NODE:e instanceof Xo?oe.TOKEN_MODIFIER_CHAIN:e instanceof vp?oe.TOKEN_MODIFIER_PARAMETER:e instanceof Hn?oe.TOKEN_OP_A_DIVIDE:e instanceof hi?oe.TOKEN_OP_A_EXPONENTIATION:e instanceof mi?oe.TOKEN_OP_A_MODULUS:e instanceof $n?oe.TOKEN_OP_A_MULTIPLY:e instanceof Cn?oe.TOKEN_OP_A_SUBTRACT:e instanceof Fr?oe.TOKEN_ASG_ADD:e instanceof Mr?oe.TOKEN_ASG_DIVIDE:e instanceof kr?oe.TOKEN_ASG_MODULUS:e instanceof qr?oe.TOKEN_ASG_MULTIPLY:e instanceof Kn?oe.TOKEN_ASG_ASSIGN:e instanceof gi?oe.TOKEN_ASG_SUBTRACT:e instanceof Mn?oe.TOKEN_CMP_EQUAL:e instanceof Gr?oe.TOKEN_CMP_SEQUAL:e instanceof mr?oe.TOKEN_CMP_GT:e instanceof Oi?oe.TOKEN_CMP_GTE:e instanceof Br?oe.TOKEN_CMP_LT:e instanceof Vr?oe.TOKEN_CMP_LTE:e instanceof jr?oe.TOKEN_CMP_NEQ:e instanceof Ur?oe.TOKEN_CMP_SNEQ:e instanceof Wr?oe.TOKEN_CMP_SPACESHIP:e instanceof Li?oe.TOKEN_OP_VARIABLE_FALLBACK:e instanceof Np?oe.TOKEN_COND_FALLBACK_GROUP:e instanceof At?oe.TOKEN_BRANCH_SEPARATOR:e instanceof Hr?oe.TOKEN_TERNARY_SEPARATOR:e instanceof en?oe.TOKEN_GROUP_BEGIN:e instanceof Ht?oe.TOKEN_GROUP_END:e instanceof Pn?oe.TOKEN_MODIFIER_SEPARATOR:e instanceof mn?oe.TOKEN_MODIFIER_NAME:e instanceof Kt?oe.TOKEN_MODIFIER_VALUE:e instanceof En?oe.TOKEN_MODIFIER_VALUE_SEPARATOR:e instanceof Jo?oe.TOKEN_NULL_COALESCE_GROUP:e instanceof kt?oe.TOKEN_SEMANTIC_GROUP:e instanceof un?oe.TOKEN_STATEMENT_SEPARATOR:e instanceof Zo?oe.TOKEN_TERNARY_CONDITION:e instanceof gr?oe.TOKEN_OP_AND:e instanceof cn?oe.TOKEN_OP_LOGIC_NEGATION:e instanceof $r?oe.TOKEN_OP_OR:e instanceof _i?oe.TOKEN_OP_XOR:e instanceof _r?oe.TOKEN_OP_NULL_COALESCE:e instanceof zo?oe.TOKEN_PARAM:e instanceof Gn?oe.TOKEN_PATH_ACCESSOR:e instanceof rs?oe.TOKEN_OP_A_FACTORIAL:e instanceof Fn?oe.TOKEN_RECURSIVE:e instanceof Da?oe.TOKEN_ARG_GROUP:e instanceof xt?oe.TOKEN_ARG_SEPARATOR:e instanceof yi?oe.TOKEN_OP_STRING_CONCAT:e instanceof An?oe.TOKEN_OP_SCOPE_REASSIGNMENT:e instanceof Ia?oe.TOKEN_STRUCT_SWITCH_CASE:e instanceof Bs?oe.TOKEN_STRUCT_SWITCH_GROUP:e instanceof qs?oe.TOKEN_STRUCT_DIRECTION_GROUP:e instanceof yr?oe.TOKEN_STRUCT_SCOPED_LOGIC_GROUP:e instanceof We?oe.TOKEN_STRUCT_LOGIC_GROUP:e instanceof Qo?oe.TOKEN_STRUCT_VALUE_DIRECTION:e instanceof Fi?oe.TOKEN_STRUCT_ARRAY:e instanceof Kr?oe.TOKEN_STRUCT_T_LIST_START:e instanceof Cp?oe.TOKEN_STRUCT_TUPLE_LIST:e instanceof tn?oe.TOKEN_STRUCT_METHOD_CALL:typeof e}},z=oe;z.TOKEN_LANG_OPERATOR="T_LANG_OPERATOR",z.TOKEN_VARIABLE="T_VAR",z.TOKEN_NUMBER="T_NUMERIC",z.TOKEN_STRING="T_STRING",z.TOKEN_RECURSIVE="T_RECURSIVE",z.TOKEN_CONSTANT_FALSE="T_FALSE",z.TOKEN_CONSTANT_NULL="T_NULL",z.TOKEN_CONSTANT_TRUE="T_TRUE",z.TOKEN_MODIFIER_NODE="T_MODIFIER",z.TOKEN_MODIFIER_CHAIN="T_MODIFIER_CHAIN",z.TOKEN_MODIFIER_PARAMETER="T_MODIFIER_PARAM",z.TOKEN_OP_A_ADD="T_AOP_ADD",z.TOKEN_OP_A_DIVIDE="T_AOP_DIVIDE",z.TOKEN_OP_A_EXPONENTIATION="T_AOP_EXP",z.TOKEN_OP_A_MODULUS="T_AOP_MOD",z.TOKEN_OP_A_MULTIPLY="T_AOP_MULTIPLY",z.TOKEN_OP_A_SUBTRACT="T_AOP_SUBTRACT",z.TOKEN_OP_A_FACTORIAL="T_AOP_FACTORIAL",z.TOKEN_ASG_ADD="T_ASG_ADD",z.TOKEN_ASG_DIVIDE="T_ASG_DIVIDE",z.TOKEN_ASG_ASSIGN="T_ASG",z.TOKEN_ASG_MODULUS="T_ASG_MODULUS",z.TOKEN_ASG_MULTIPLY="T_ASG_MULTIPLY",z.TOKEN_ASG_SUBTRACT="T_ASG_SUBTRACT",z.TOKEN_CMP_EQUAL="T_CMP_EQ",z.TOKEN_CMP_SEQUAL="T_CMP_SEQ",z.TOKEN_CMP_GT="T_CMP_GT",z.TOKEN_CMP_GTE="T_CMP_GTE",z.TOKEN_CMP_LT="T_CMP_LT",z.TOKEN_CMP_LTE="T_CMP_LTE",z.TOKEN_CMP_NEQ="T_CMP_NEQ",z.TOKEN_CMP_SNEQ="T_CMP_SNEQ",z.TOKEN_CMP_SPACESHIP="T_CMP_SPSHP",z.TOKEN_OP_VARIABLE_FALLBACK="T_VFBK",z.TOKEN_COND_FALLBACK_GROUP="T_VFBK_GROUP",z.TOKEN_BRANCH_SEPARATOR="T_BRANCH_SEPARATOR",z.TOKEN_TERNARY_SEPARATOR="T_TERNARY_SEPARATOR",z.TOKEN_GROUP_BEGIN="T_LOGIC_BEGIN",z.TOKEN_GROUP_END="T_LOGIC_END",z.TOKEN_MODIFIER_SEPARATOR="T_MODIFIER_SEPARATOR",z.TOKEN_MODIFIER_NAME="T_MODIFIER_NAME",z.TOKEN_MODIFIER_VALUE="T_MODIFIER_VALUE",z.TOKEN_MODIFIER_VALUE_SEPARATOR="T_MODIFIER_VALUE_SEPARATOR",z.TOKEN_NULL_COALESCE_GROUP="T_NULL_COALESCE_GROUP",z.TOKEN_SEMANTIC_GROUP="T_SEMANTIC_GROUP",z.TOKEN_STATEMENT_SEPARATOR="T_STATEMENT_SEPARATOR",z.TOKEN_TERNARY_CONDITION="T_TERNARY_CONDITION",z.TOKEN_OP_AND="T_AND",z.TOKEN_OP_LOGIC_NEGATION="T_LOGIC_INVERSE",z.TOKEN_OP_OR="T_OR",z.TOKEN_OP_XOR="T_XOR",z.TOKEN_OP_NULL_COALESCE="T_NULL_COALESCE",z.TOKEN_PARAM="T_PARAM",z.TOKEN_PATH_ACCESSOR="T_VAR_SEPARATOR",z.TOKEN_ARG_GROUP="T_ARG_GROUP",z.TOKEN_ARG_SEPARATOR="T_ARG_SEPARATOR",z.TOKEN_OP_STRING_CONCAT="T_STR_CONCAT",z.TOKEN_OP_SCOPE_REASSIGNMENT="T_SCOPE_ASSIGNMENT",z.TOKEN_STRUCT_SWITCH_CASE="T_SWITCH_CASE",z.TOKEN_STRUCT_SWITCH_GROUP="T_SWITCH_GROUP",z.TOKEN_STRUCT_DIRECTION_GROUP="T_DIRECTION_GROUP",z.TOKEN_STRUCT_VALUE_DIRECTION="T_ORDER_DIRECTION",z.TOKEN_STRUCT_SCOPED_LOGIC_GROUP="T_SCOPED_LOGIC_GROUP",z.TOKEN_STRUCT_LOGIC_GROUP="T_LOGIC_GROUP",z.TOKEN_STRUCT_ARRAY="T_ARRAY",z.TOKEN_STRUCT_T_LIST_START="T_LIST_START",z.TOKEN_STRUCT_TUPLE_LIST="T_LIST",z.TOKEN_STRUCT_METHOD_CALL="T_METHOD_CALL";var tt=class{static isLanguageLogicalKeyword(e){return e==this.LogicalAnd||e==this.LogicalNot||e==this.LogicalOr||e==this.LogicalXor}};tt.LogicalAnd="and",tt.LogicalNot="not",tt.LogicalOr="or",tt.LogicalXor="xor",tt.ConstTrue="true",tt.ConstFalse="false",tt.ConstNull="null",tt.ArrList="list",tt.ScopeAs="as";var mh=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.currentContent=[];this.rawContent=[];this.startIndex=0;this.cur=null;this.next=null;this.prev=null;this.isParsingString=!1;this.isParsingModifierName=!1;this.isInModifierParameterValue=!1;this.runtimeNodes=[];this.ignorePrevious=!1;this.lastNode=null;this.referenceParser=null;this.activeNode=null}reset(){this.ignorePrevious=!1,this.runtimeNodes=[],this.chars=[],this.inputLen=0,this.currentIndex=0,this.currentContent=[],this.rawContent=[],this.startIndex=0,this.cur=null,this.next=null,this.prev=null,this.isParsingString=!1,this.isParsingModifierName=!1,this.isInModifierParameterValue=!1,this.referenceParser=null,this.activeNode=null}checkCurrentOffsets(){this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.ignorePrevious?(this.prev="",this.ignorePrevious=!1):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen&&(this.next=this.chars[this.currentIndex+1])}isValidChar(e){return e==null||e==L.Punctuation_Semicolon?!1:this.isParsingString==!1&&e=="]"?!0:this.isParsingString==!1&&e==")"?!1:(e=="["||e=="]")&&e==this.cur||(e=="_"||e=="."||e=="["||e=="]")&&(!(this.currentContent.length>0)||se.ctypeAlpha(this.cur)||se.ctypeDigit(this.cur))?!0:se.ctypeSpace(e)?!1:this.isParsingModifierName&&(e==L.Punctuation_Minus||e==L.Punctuation_Underscore)?!0:!se.ctypePunct(e)}isRightOfInterpolationRegion(){if(this.activeNode==null||this.referenceParser==null)return!1;let e=this.activeNode._lexerRelativeOffset(this.currentIndex);return this.referenceParser.bordersInterpolationRegion(e)}scanForwardTo(e,n=0){let r=[];for(let i=this.currentIndex+1+n;i<this.inputLen;i++){let s=this.chars[i];if(s==e){r.push(s);break}else r.push(s)}return r}nextNonWhitespace(){for(let e=this.currentIndex+1;e<this.inputLen;e++){let n=this.chars[e];if(!se.ctypeSpace(n))return n}return null}pushError(e){this.referenceParser!=null&&this.referenceParser.addAntlersError(e)}guardAgainstNeighboringTypesInModifier(e){return this.lastNode instanceof Kt&&this.pushError(W.makeSyntaxError(P.TYPE_MODIFIER_INCORRECT_VALUE_POSITION,this.lastNode,"Incorrect type ["+z.getPrettyTypeName(e)+"] near ["+z.getPrettyTypeName(this.lastNode)+"]")),!1}appendContent(e){e!=null&&this.currentContent.push(e)}tokenize(e,n){this.reset(),this.referenceParser=e.getParser(),this.activeNode=e,this.chars=n.split(""),this.inputLen=this.chars.length,this.runtimeNodes=[],this.lastNode=null;let r=null;this.isParsingString=!1,this.isParsingModifierName=!1;let i=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){this.checkCurrentOffsets();let a=!0;if(this.cur!=null&&this.rawContent.push(this.cur),this.isParsingString==!1&&(this.cur==L.String_Terminator_DoubleQuote||this.cur==L.String_Terminator_SingleQuote)){if(this.prev==L.String_EscapeCharacter){this.pushError(W.makeSyntaxError(P.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE,e,"Illegal string escape sequence outside string parsing."));continue}this.rawContent=[],this.rawContent.push(this.cur),i=this.cur,this.isParsingString=!0,r=this.currentIndex;continue}if(this.isInModifierParameterValue&&!this.isParsingString){let o=!1;if(!this.isParsingString&&se.ctypeSpace(this.next)){let l=this.scanForwardTo(" ",1).join("").trim().toLowerCase();l.length>0&&tt.isLanguageLogicalKeyword(l)&&(o=!0)}if(this.next==L.String_Terminator_SingleQuote||this.next==L.String_Terminator_DoubleQuote||this.next==null||o){this.appendContent(this.cur);let l=this.currentContent.join("");if(l.length>0){let u=l;if(this.currentContent=[],this.rawContent=[],u.trimRight().length==0){let f=this.nextNonWhitespace();if(f==L.String_Terminator_SingleQuote||f==L.String_Terminator_DoubleQuote){this.currentContent=[],this.rawContent=[];continue}}let c=new Kt;c.isVirtual=!1,c.name=u,c.value=u.trimRight(),c.startPosition=e._lexerRelativeOffset(this.currentIndex-u.length),c.endPosition=e._lexerRelativeOffset(this.currentIndex),c.parent=this.activeNode,this.guardAgainstNeighboringTypesInModifier(c),this.runtimeNodes.push(c),this.lastNode=c}if(l.length==0)continue;this.currentContent=[],this.rawContent=[],this.isInModifierParameterValue=!1;continue}if(this.next==L.Punctuation_Pipe||this.next==L.Punctuation_Colon||this.next==L.RightParent){this.isInModifierParameterValue=!1,this.appendContent(this.cur);let l=0,u=!1;if(this.currentContent[0]==L.String_Terminator_SingleQuote||this.currentContent[0]==L.String_Terminator_DoubleQuote){let m=this.scanForwardTo(this.currentContent[0]);m.length>0&&(this.currentContent=this.currentContent.concat(m),l=m.length,u=!0)}let c=this.currentContent.join("");u&&(c=c.substr(1),c=c.slice(0,-1)),this.currentContent=[],this.rawContent=[];let f=new Kt;f.isVirtual=!1,f.name=c,f.value=c,f.startPosition=e._lexerRelativeOffset(this.currentIndex-c.length),f.endPosition=e._lexerRelativeOffset(this.currentIndex),f.parent=this.activeNode,this.runtimeNodes.push(f),this.guardAgainstNeighboringTypesInModifier(f),this.lastNode=f,this.currentIndex+=l}else this.appendContent(this.cur);continue}if(this.isParsingString&&this.cur==i){if(this.prev==L.String_EscapeCharacter)this.appendContent(i);else{if(this.isInModifierParameterValue){let l=this.currentContent.join(""),u=new Kt;u.isVirtual=!1,u.name=l,u.value=l,u.startPosition=e._lexerRelativeOffset(r!=null?r:0),u.endPosition=e._lexerRelativeOffset(this.currentIndex),u.parent=this.activeNode,this.runtimeNodes.push(u),this.guardAgainstNeighboringTypesInModifier(u),this.lastNode=u,this.currentContent=[],this.rawContent=[],this.isParsingString=!1,this.isInModifierParameterValue=!1;continue}let o=new St;o.isVirtual=!1,o.startPosition=e._lexerRelativeOffset(r!=null?r:0),o.endPosition=e._lexerRelativeOffset(this.currentIndex),o.parent=this.activeNode,i!=null&&(o.sourceTerminator=i),i=null,this.isParsingString=!1,o.value=this.currentContent.join(""),o.rawLexContent=this.rawContent.join("").trim(),this.currentContent=[],this.rawContent=[],this.guardAgainstNeighboringTypesInModifier(o),this.runtimeNodes.push(o),this.lastNode=o}continue}if(this.isParsingString&&this.cur==L.String_EscapeCharacter){if(this.next==L.String_EscapeCharacter){this.appendContent(L.String_EscapeCharacter),this.ignorePrevious=!0,this.currentIndex+=1;continue}else if(this.next==L.String_Terminator_SingleQuote){this.appendContent(L.String_Terminator_SingleQuote),this.currentIndex+=1;continue}else if(this.next==L.String_Terminator_DoubleQuote){this.appendContent(L.String_Terminator_DoubleQuote),this.currentIndex+=1;continue}else if(this.next=="n"){this.appendContent(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){this.appendContent("	"),this.currentIndex+=1;continue}else if(this.next=="r"){this.appendContent("\r"),this.currentIndex+=1;continue}}if(this.isParsingString==!1){if(this.isValidChar(this.cur)&&this.isValidChar(this.next)==!1&&this.currentContent.length==0&&(this.appendContent(this.cur),a=!1),(this.next==null||this.isValidChar(this.next)==!1)&&this.currentContent.length>0){a&&this.appendContent(this.cur);let o=this.currentContent.join("").trim(),l=o.length,u=this.currentIndex-l,c=e._lexerRelativeOffset(u),f=e._lexerRelativeOffset(this.currentIndex);if(this.currentContent=[],this.rawContent=[],o==tt.LogicalAnd){let g=new gr;g.isVirtual=!1,g.content=tt.LogicalAnd,g.startPosition=c,g.endPosition=f,g.parent=this.activeNode,this.runtimeNodes.push(g),this.lastNode=g;continue}else if(o==tt.LogicalOr){let g=new $r;g.isVirtual=!1,g.content=tt.LogicalOr,g.startPosition=c,g.endPosition=f,g.parent=this.activeNode,this.runtimeNodes.push(g),this.lastNode=g;continue}else if(o==tt.LogicalXor){let g=new _i;g.isVirtual=!1,g.content=tt.LogicalXor,g.startPosition=c,g.endPosition=f,g.parent=this.activeNode,this.runtimeNodes.push(g),this.lastNode=g;continue}else if(o==tt.ConstNull){let g=new hr;g.isVirtual=!1,g.content=tt.ConstNull,g.startPosition=c,g.endPosition=f,g.parent=this.activeNode,this.runtimeNodes.push(g),this.lastNode=g;continue}else if(o==tt.ConstTrue){let g=new Lr;g.isVirtual=!1,g.content=tt.ConstTrue,g.startPosition=c,g.endPosition=f,g.parent=this.activeNode,this.runtimeNodes.push(g),this.lastNode=g;continue}else if(o==tt.ConstFalse){let g=new Or;g.isVirtual=!1,g.content=tt.ConstFalse,g.startPosition=c,g.endPosition=f,g.parent=this.activeNode,this.runtimeNodes.push(g),this.lastNode=g;continue}else if(o==tt.LogicalNot){let g=new cn;g.isVirtual=!1,g.content=tt.LogicalNot,g.startPosition=c,g.endPosition=f,g.parent=this.activeNode,this.runtimeNodes.push(g),this.lastNode=g;continue}else if(o==tt.ArrList&&this.next==L.LeftParen){let g=new Kr;g.isVirtual=!1,g.content=tt.ArrList,g.startPosition=c,g.endPosition=f,g.parent=this.activeNode,this.runtimeNodes.push(g),this.lastNode=g;continue}if(se.isNumeric(o)){let g=new qt;g.isVirtual=!1,g.startPosition=c,g.endPosition=f,g.parent=this.activeNode,o.includes(".")?g.value=parseFloat(o):g.value=parseInt(o),g.rawLexContent=o,this.guardAgainstNeighboringTypesInModifier(g),this.runtimeNodes.push(g),this.lastNode=g;continue}if(this.runtimeNodes.length>0){let g=this.runtimeNodes[this.runtimeNodes.length-1];if(g instanceof Pn){let p=new mn;p.isVirtual=!1,p.name=o,p.content=o,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(g instanceof En){let p=new Kt;p.isVirtual=!1,p.name=o,p.value=o,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p,this.isParsingModifierName=!1;continue}}let m=new be;m.isVirtual=!1,m.name=o,m.startPosition=c,m.endPosition=f,m.parent=this.activeNode,this.runtimeNodes.push(m),this.lastNode=m;continue}}else{this.appendContent(this.cur);continue}if(!se.ctypeSpace(this.cur)){if(this.isParsingString==!1){if(this.cur==L.Punctuation_Equals&&this.next==L.Punctuation_GreaterThan){let o=new An;o.isVirtual=!1,o.content="=>",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentContent=[],this.rawContent=[],this.currentIndex+=1;continue}if(this.cur==L.Punctuation_Comma){let o=new xt;o.isVirtual=!1,o.content=L.Punctuation_Comma,o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.Punctuation_Semicolon){let o=new un;o.isVirtual=!1,o.content=L.Punctuation_Semicolon,o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.Punctuation_Plus){if(this.next==L.Punctuation_Equals){let l=new Fr;l.isVirtual=!1,l.content="+=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new Yn;o.isVirtual=!1,o.content="+",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.isParsingModifierName==!1&&this.cur==L.Punctuation_Minus){if(se.ctypeDigit(this.next)&&se.ctypeDigit(this.prev)==!1&&this.prev!=L.RightParent&&this.isRightOfInterpolationRegion()==!1){this.appendContent(this.cur);continue}if(this.next==L.Punctuation_Equals){let l=new gi;l.isVirtual=!1,l.content="-=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}else if(this.next==L.Punctuation_GreaterThan){let l=new tn;l.isVirtual=!1,l.content="->",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new Cn;o.isVirtual=!1,o.content="-",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.Punctuation_Asterisk){if(this.next==L.Punctuation_Asterisk){let l=new hi;l.isVirtual=!1,l.content="**",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}else if(this.next==L.Punctuation_Equals){let l=new qr;l.isVirtual=!1,l.content="*=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new $n;o.isVirtual=!1,o.content="*",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.Punctuation_ForwardSlash){if(this.next==L.Punctuation_Equals){let l=new Mr;l.isVirtual=!1,l.content="/=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new Hn;o.isVirtual=!1,o.content="/",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.Punctuation_Percent){if(this.next==L.Punctuation_Equals){let l=new kr;l.isVirtual=!1,l.content="%=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new mi;o.isVirtual=!1,o.content="%",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.Punctuation_LessThan){if(this.next==L.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==L.Punctuation_GreaterThan){let c=new Wr;c.isVirtual=!1,c.content="<=>",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+3),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=2;continue}let u=new Vr;u.isVirtual=!1,u.content="<=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let o=new Br;o.isVirtual=!1,o.content="<",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.Punctuation_GreaterThan){if(this.next==L.Punctuation_Equals){let l=new mr;l.isVirtual=!1,l.content=">=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new mr;o.isVirtual=!1,o.content=">",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.Punctuation_Equals&&this.next!=L.Punctuation_Equals){let o=new Kn;o.isVirtual=!1,o.content="=",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.Punctuation_Equals&&this.next==L.Punctuation_Equals){let o=null;if(this.currentIndex+2<this.inputLen&&(o=this.chars[this.currentIndex+2]),o==L.Punctuation_Equals){let l=new Gr;l.isVirtual=!1,l.content="===",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+3),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=2}else{let l=new Mn;l.isVirtual=!1,l.content="==",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1}continue}if(this.cur==L.Punctuation_Ampersand){if(this.next==L.Punctuation_Ampersand){let l=new gr;l.isVirtual=!1,l.content="&&",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}if(this.next==L.Punctuation_Equals){let l=new yi;l.isVirtual=!1,l.content="&=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}let o=new gr;o.isVirtual=!1,o.content="&",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.Punctuation_Pipe&&this.next!=L.Punctuation_Pipe){let o=new Pn;o.isVirtual=!1,o.content="|",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.isParsingModifierName=!0;continue}if(this.cur==L.Punctuation_Pipe&&this.next==L.Punctuation_Pipe){let o=new $r;o.isVirtual=!1,o.content="||",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==L.Punctuation_Exclamation){if(this.next==L.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==L.Punctuation_Equals){let c=new Ur;c.isVirtual=!1,c.content="!==",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+3),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=2;continue}let u=new jr;u.isVirtual=!1,u.content="!=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let o=new cn;o.isVirtual=!1,o.content="!",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.Punctuation_Question&&this.next==L.Punctuation_Equals){let o=new Li;o.isVirtual=!1,o.content="?=",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==L.Punctuation_Question&&this.next==L.Punctuation_Question){let o=new _r;o.isVirtual=!1,o.content="??",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==L.Punctuation_Question&&this.next==L.Punctuation_Colon){let o=new _r;o.isVirtual=!1,o.content="?:",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==L.Punctuation_Question){let o=new Hr;o.isVirtual=!1,o.content="?",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.LeftParen){let o=new en;o.isVirtual=!1,o.content="(",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.RightParent){let o=new Ht;o.isVirtual=!1,o.content=")",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==L.Punctuation_Colon){if(this.runtimeNodes.length>0&&this.runtimeNodes[this.runtimeNodes.length-1]instanceof mn){let u=new En;u.isVirtual=!1,u.content=":",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+1),u.parent=this.activeNode,this.runtimeNodes.push(u),this.isInModifierParameterValue==!1?this.isInModifierParameterValue=!0:this.isInModifierParameterValue=!1;continue}let o=new At;o.isVirtual=!1,o.content=":",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.isParsingModifierName=!1;continue}}a&&this.appendContent(this.cur)}}let s=this.runtimeNodes.length-1;for(let a=0;a<this.runtimeNodes.length;a++){let o=null,l=null;a>0&&(o=this.runtimeNodes[a-1]),a!=s&&(l=this.runtimeNodes[a+1]);let u=this.runtimeNodes[a];u.prev=o,u.next=l}return this.runtimeNodes}};var Ut=class{constructor(){this.chars=[];this.currentIndex=0;this.lastIndex=0;this.inputLength=0;this.prev=null;this.cur=null;this.next=null;this.isParsingString=!1;this.isStringKeyPath=!1;this.antlersErrors=[];this._recusriveEntryCheck=new Map}isValidChar(e){return!(this.isParsingString==!1&&se.ctypeSpace(e)||this.isParsingString==!1&&e==Ut.LeftBracket||this.isParsingString==!1&&e==Ut.RightBracket)}normalizePath(e){return e=e.replace(":","_"),e=e.replace(".","_"),e=e.replace("[","_"),e=e.replace("]","_"),e.replace("]","_")}getAntlersErrors(){return this.antlersErrors}mergeErrors(e){e.forEach(n=>{this.antlersErrors.push(n)})}parse(e){this.antlersErrors=[],this._recusriveEntryCheck.clear();let n=e,r=!1,i=!1,s=!1,a=!1;e.startsWith(L.AtChar)&&(s=!0,e=e.substr(1)),e.startsWith(L.Punctuation_Caret)?(a=!0,e=e.substr(1)):(e.startsWith(L.Punctuation_Dollar)&&(r=!0,e=e.substr(1)),e.startsWith(L.Punctuation_Dollar)&&(i=!0,e=e.substr(1))),this.chars=[],this.currentIndex=0,this.lastIndex=0,this.inputLength=0,this.cur=null,this.prev=null,this.next=null,this.chars=e.split(""),this.inputLength=this.chars.length,this.lastIndex=this.inputLength-1;let o=[],l=!1,u=[],c=Ut.ColonSeparator,f=!1,m=null,g=!1,p=!0;if(this.isParsingString=!1,this.inputLength==0){let y=new ss;return y._isFromEmptyFailState=!0,y}for(this.currentIndex;this.currentIndex<this.inputLength;this.currentIndex+=1){if(this.cur=this.chars[this.currentIndex],this.next=null,f?(f=!1,this.prev=""):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLength&&(this.next=this.chars[this.currentIndex+1]),this.isParsingString==!1&&this.cur==Ut.ColonSeparator&&(c=Ut.ColonSeparator),this.isParsingString==!1&&this.cur==Ut.DotPathSeparator&&(c=Ut.DotPathSeparator),this.isParsingString&&this.cur==L.String_EscapeCharacter&&this.next==m){m!=null&&o.push(m),this.currentIndex+=1;continue}if(this.cur==L.String_Terminator_SingleQuote||this.cur==L.String_Terminator_DoubleQuote)if(this.isParsingString)if(this.cur==m)if(this.prev==L.String_EscapeCharacter){o.push(this.cur);continue}else this.isParsingString=!1,p=!1;else{o.push(this.cur);continue}else{this.prev!=L.LeftBracket&&(se.ctypeAlpha(this.prev)||se.ctypeDigit(this.prev))&&this.antlersErrors.push(W.makeSyntaxError(P.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR,null,"Unexpected string start while parsing variable path. String literals must be within array accessors.")),this.isParsingString=!0,g=!0,m=this.cur,this.isStringKeyPath=!0;continue}if(this.isParsingString){if(se.ctypeSpace(this.cur)){o.push(this.cur);continue}else if(this.cur==L.String_EscapeCharacter){if(this.next==L.String_EscapeCharacter){o.push(L.String_EscapeCharacter),this.currentIndex+=1,f=!0;continue}else if(this.next=="n"){o.push(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){o.push("	"),this.currentIndex+=1;continue}else if(this.next=="r"){o.push("\r"),this.currentIndex+=1;continue}}}if(this.isParsingString==!1&&this.cur==Ut.LeftBracket){if(o.length>0){let N=new Gn;N.name=o.join(""),N.delimiter=c,u.push(N),o=[]}if(this.next==null||se.ctypeSpace(this.next)){this.antlersErrors.push(W.makeSyntaxError(P.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT,null,"Unexpected end of input or whitespace while parsing variable accessor path."));continue}let y=this.locateEndOfAccessor();this.currentIndex=y.foundOn;let b=new Ut;if(u.push(b.parse(y.nestedContent)),this.mergeErrors(b.getAntlersErrors()),l=!0,this.currentIndex==-1){this.antlersErrors.push(W.makeSyntaxError(P.PARSER_CANNOT_PARSE_PATH_RECURSIVE,null,"Cannot parse variable path.")),l=!1;break}continue}if(this.isParsingString==!1&&this.next==Ut.RightBracket&&l){p?o.push(this.cur):p=!0;let y=new Pp;y.name=o.join(""),u.push(y),o=[],c=Ut.ColonSeparator,this.currentIndex+=1,l=!1;continue}if(this.isParsingString==!1&&(this.cur==Ut.LeftBracket||this.cur==Ut.ColonSeparator||this.cur==Ut.DotPathSeparator||this.currentIndex==this.lastIndex)){if(this.next==null||se.ctypeSpace(this.next)){if(this.cur==Ut.ColonSeparator){if(o.length==0){this.antlersErrors.push(W.makeSyntaxError(P.TYPE_UNEXPECTED_BRANCH_SEPARATOR,null,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}this.antlersErrors.push(W.makeSyntaxError(P.TYPE_ILLEGAL_VARPATH_RIGHT,null,'Variable paths cannot end with the ":" character.'));continue}if(this.cur==Ut.LeftBracket){this.antlersErrors.push(W.makeSyntaxError(P.TYPE_ILLEGAL_VARPATH_SUBPATH_START,null,"Illegal variable sub-path start."));continue}}this.currentIndex==this.lastIndex&&this.isValidChar(this.cur)&&(p?o.push(this.cur):p=!0);let y=new Gn;y.delimiter=c,y.name=o.join(""),g&&(y.isStringVar=g,y.name=n.substr(1),y.name=y.name.slice(0,-1),g=!1),u.push(y),o=[];continue}else{o.push(this.cur);continue}}let d=u.length;if(d>0){let y=u[d-1];(y instanceof Gn||y instanceof ss)&&(y.isFinal=!0)}let h=new ss;return h.isStrictTagReference=a,h.isStrictVariableReference=r,h.isExplicitVariableReference=i,h.pathParts=u,h.originalContent=e,h.isVariableVariable=s,h.normalizedReference=e.replace(":","."),h}locateEndOfAccessor(){let e=[],n=1,r=-1,i="",s=!1,a=null;if(this._recusriveEntryCheck.has(this.currentIndex+1)==!1)this._recusriveEntryCheck.set(this.currentIndex+1,!0);else return{foundOn:r,nestedContent:""};for(let o=this.currentIndex+1;o<this.inputLength;o++){let l=this.chars[o],u=null,c=null;if(o>0&&(c=this.chars[o-1]),o+1<this.inputLength&&(u=this.chars[o+1]),s==!1&&(l==L.String_Terminator_SingleQuote||l==L.String_Terminator_DoubleQuote)){s=!0,a=l,e.push(l);continue}if(s==!1&&l==Ut.LeftBracket){n+=1,e.push(l);continue}if(s&&l==a&&c!=L.String_EscapeCharacter){e.push(l),s=!1,a=null;continue}if(s==!1&&l==Ut.RightBracket)if(n-=1,n==0){r=o,i=e.join("");break}else{e.push(l);continue}else e.push(l);s==!1&&se.ctypeSpace(u)&&this.antlersErrors.push(W.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path.")),u==null&&this.antlersErrors.push(W.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path."))}return{foundOn:r,nestedContent:i}}},Yi=Ut;Yi.ColonSeparator=":",Yi.LeftBracket="[",Yi.RightBracket="]",Yi.DotPathSeparator=".";var gh=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.cur=null;this.prev=null;this.pathParser=new Yi;this.lexer=new mh;this.activeNode=null}reset(){this.chars=[],this.inputLen=0,this.currentIndex=0,this.cur=null,this.prev=null}canBeClosingTag(e){var r;let n=(r=e.name)==null?void 0:r.name;return n=="elseif"||n=="else"?!0:e.name==null?!1:e.name.content.startsWith("/")}parseNode(e){var c,f,m,g;if(this.activeNode=e,this.reset(),e.content.startsWith("*subrecursive")){let p=e.content;p=p.trim(),p=se.trimRight(p,"*"),p=p.substr(13);let d=new Fn;return e.copyBasicDetailsTo(d),d.originalNode=e,d.name=new Bn,d.name.name=p,d.isNestedRecursive=!0,d.pathReference=this.pathParser.parse(p),d.mergeErrors(this.pathParser.getAntlersErrors()),d.content=p,d.runtimeContent=p,d}if(e.content.trim().startsWith("*recursive")){let p=e.content;p=p.trim(),p=se.trimRight(p,"*"),p=p.substr(10).trim();let d=new Fn;return e.copyBasicDetailsTo(d),d.originalNode=e,d.name=new Bn,d.name.name=p,d.pathReference=this.pathParser.parse(p),d.mergeErrors(this.pathParser.getAntlersErrors()),d.content=p,d.runtimeContent=p,d}this.chars=e.content.split(""),this.inputLen=this.chars.length;let n=[],r=!1,i="",s=!1,a=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.cur=this.chars[this.currentIndex],this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),r==!1){if(s==!1&&(this.cur==L.String_Terminator_DoubleQuote||this.cur==L.String_Terminator_SingleQuote)){a=this.cur,s=!0,n.push(this.cur);continue}if(s&&se.ctypeSpace(this.cur)){n.push(this.cur);continue}if(s&&this.cur==a&&this.prev!=L.String_EscapeCharacter){a=null,s=!1,n.push(this.cur);continue}if(se.ctypeSpace(this.cur)||this.currentIndex==this.inputLen-1||this.cur==L.Punctuation_Pipe){if(n.length==0)continue;se.ctypeSpace(this.cur)||this.cur!=L.Punctuation_Pipe&&n.push(this.cur),i=n.join(""),r=!0;break}n.push(this.cur)}let o=e.getContentRelativeStartIndex();if(e.nameStartsOn=e.relativeOffset(o,o),e.nameStartsOn!=null&&(e.nameEndsOn=e.nameStartsOn.shiftRight(i.length-1),i.includes(L.Punctuation_Colon))){let p=i.indexOf(L.Punctuation_Colon);e.nameMethodPartStartsOn=e.nameStartsOn.shiftRight(p+1)}e.name=hh.getIdentifier(i),dh.analyzeNode(e),e.parameters=this.getParameters(e),e.hasParameters=e.parameters.length>0,e.hasParameters&&(dh.analyzeParametersForModifiers(e),e.resetContentCache()),e.pathReference=this.pathParser.parse(i),e.mergeErrors(this.pathParser.getAntlersErrors()),e.pathReference!=null&&e.pathReference.isStrictTagReference&&(e.name.name=e.name.name.substr(1),e.name.content=e.name.content.substr(1)),e.isClosingTag=this.canBeClosingTag(e);let l=[];e.isClosingTag==!1&&(l=this.lexer.tokenize(e,e.getContent())),e.runtimeNodes=l;let u=e.content.trim();if(xi.isConditionalStructure(e)&&e.name.name!="else"&&l.length==0&&u!="/if"&&u!="/unless"&&u!="/endunless"&&u!="endif"&&u!="endunless"&&u!="/endif"&&e.getContent().trim().length==0&&this.pushConditionWithoutExpression(e),e.name.name=="endif"){let p=e.copyBasicDetails(),d=e.getParser();return d!=null&&p.withParser(d),p.name=new Bn,p.name.name="if",p.name.compound="if",p.isClosingTag=!0,p.content=" /if ",p.originalNode=e,p}if(e.name.name=="unless"){let p=e.copyBasicDetails(),d=e.getParser();if(d!=null&&p.withParser(d),p.name=new Bn,p.name.name="if",p.name.compound="if",e.isClosingTag==!1){let h=(c=e.getContent())!=null?c:"",y=" if !("+h+") ";p.content=y,p.originalNode=e,p.resetContentCache(),p.runtimeNodes=this.lexer.tokenize(p,(f=p.getContent())!=null?f:""),this.testUnlessContent(p)}else p.originalNode=e,p.content=" /if ";return p}else if(e.name.name=="elseunless"){let p=e.copyBasicDetails(),d=e.getParser();d!=null&&p.withParser(d),p.name=new Bn,p.name.name="elseif",p.name.compound="elseif";let h=(m=e.getContent())!=null?m:"",y=" elseif !("+h+") ";return p.content=y,p.originalNode=e,p.resetContentCache(),p.runtimeNodes=this.lexer.tokenize(p,(g=p.getContent())!=null?g:""),this.testUnlessContent(p),p}else if(e.name.name=="endunless"){let p=e.copyBasicDetails(),d=e.getParser();return d!=null&&p.withParser(d),p.name=new Bn,p.name.name="if",p.name.compound="if",p.isClosingTag=!0,p.content=" /if ",p.originalNode=e,p}return e}pushError(e){this.activeNode!=null&&this.activeNode.pushError(e)}testUnlessContent(e){var r;let n=(r=e.getContent())!=null?r:"";if(n=n.replace("!",""),n=n.replace("(",""),n=n.replace(")","").trim(),n.length==0){this.pushConditionWithoutExpression(e);return}}pushConditionWithoutExpression(e){this.pushError(W.makeSyntaxError(P.TYPE_PARSE_EMPTY_CONDITIONAL,e,"Condition structure lacks comparison expression."))}getParameters(e){var te,H,j,X,Z,Te,we,Le,qe;let n=(te=e.getContent())!=null?te:"",r=n.split(""),i=[],s=[],a=r.length,o=0;if(e.name!=null){let ae=se.trimLeft(e.content," "),Pe=e.content.length-ae.length,ct=e.name.content.length;Pe>0?o=Pe+ct:o=ct}let l=!1,u=[],c="",f=0,m=0,g=!1,p=null,d=-1,h=-1,y=-1,b=-1,N=-1,_=-1,w='"';for(let ae=0;ae<a;ae++){let Pe=r[ae],ct=null,Jt=null;if(ae+1<a&&(Jt=r[ae+1]),g?(ct="",g=!1):ae>0&&(ct=r[ae-1]),l==!1&&se.ctypeSpace(Pe)){u=[],d=-1,h=-1,y=-1,b=-1,N=-1,_=-1;continue}if(l==!1&&Pe==L.Punctuation_Equals){if(u.length>0&&(se.ctypeAlpha(u[0])||u[0]==L.Punctuation_Colon||u[0]==L.AtChar)==!1){u=[];continue}if(ae+1>=a){this.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_END_OF_INPUT,e,"Unexpected end of input"));continue}let Je=null;if(ae+1<a&&(Je=r[ae+1]),ct==L.Punctuation_Equals){u=[],d=-1,h=-1,y=-1,b=-1,N=-1,_=-1;continue}if(se.ctypeSpace(Je)||Je==L.Punctuation_Equals){u=[],d=-1,h=-1,y=-1,b=-1,N=-1,_=-1;continue}u.length>0&&(b=ae,N=ae,c=u.join(""),f=m,l=!0,u=[]),Jt==L.String_Terminator_DoubleQuote&&(p=L.String_Terminator_DoubleQuote,w=L.String_Terminator_DoubleQuote,ae+=1),Jt==L.String_Terminator_SingleQuote&&(p=L.String_Terminator_SingleQuote,w=L.String_Terminator_SingleQuote,ae+=1);continue}if(l&&Pe==L.String_EscapeCharacter){let Je=null;if(ae+1<a&&(Je=r[ae+1]),Je==L.String_EscapeCharacter){u.push(L.String_EscapeCharacter),ae+=1,g=!0;continue}if(Je==L.String_Terminator_DoubleQuote){u.push(L.String_Terminator_DoubleQuote),ae+=1;continue}if(Je==L.String_Terminator_SingleQuote){u.push(L.String_Terminator_SingleQuote),ae+=1;continue}if(Je=="n"){u.push(`
`),ae+=1;continue}if(Je=="r"){u.push("\r"),ae+=1;continue}}if(l==!1&&(p!=null&&Pe==p||p==null&&se.ctypeSpace(Pe))&&i.push(u.join("")),l&&(p!=null&&Pe==p||p==null&&se.ctypeSpace(Pe))){let Je=u.join("");_=ae,h=ae,l=!1,p=null,u=[];let ft=new zo;if(c.startsWith(L.Punctuation_Colon)&&(ft.isVariableReference=!0,c=c.substr(1)),ft.nameDelimiter=w,ft.name=c,ft.value=Je,ft.startPosition=(H=e.relativePositionFromOffset(m,f))!=null?H:null,ae+1>a){this.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER,e,"Unexpected end of input while parsing parameter content.")),ft.parent=e,s.push(ft),c="";continue}ft.endPosition=(j=e.relativePositionFromOffset(ae+1,ae+1))!=null?j:null,ft.parent=e,ft.blockPosition={start:(X=e.relativeOffset(d,d))!=null?X:null,end:(Z=e.relativeOffset(h,h))!=null?Z:null},ft.namePosition={start:(Te=e.relativeOffset(y,y))!=null?Te:null,end:(we=e.relativeOffset(b,b))!=null?we:null},ft.valuePosition={start:(Le=e.relativeOffset(N+2,N+2))!=null?Le:null,end:(qe=e.relativeOffset(_,_))!=null?qe:null},s.push(ft),c="",d=-1,h=-1,y=-1,b=-1,N=-1,_=-1;continue}if(l==!1&&(Pe==L.String_Terminator_DoubleQuote||Pe==L.String_Terminator_SingleQuote)&&ae>o)break;u.push(Pe),d==-1&&(d=ae),y==-1&&(y=ae),u.length==1&&(m=ae+1)}if(p!=null){let ae=e;if(i.length>0){let Pe=i[i.length-1],ct=e.content.indexOf(Pe);if(ct>=0){let Jt=new ne;Jt.startPosition=e.relativeOffset(ct-2,ct-2),Jt.endPosition=e.relativeOffset(ct+Pe.length,ct+Pe.length),ae=Jt}}this.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_END_OF_INPUT,ae,"Unexpected string literal while parsing parameters."))}return s}};var Sv=Be(Du()),Qc=class{static regions(){return this.noParseRegions}static clear(){this.noParseRegions.clear()}static registerNoParseContent(e){let n=Sv.Md5.hashStr(e);return this.noParseRegions.set(n,e),n}};Qc.noParseRegions=new Map;function _h(t,e){let n=new Set(t),r=new Set(e),i=new Set([...n].filter(s=>r.has(s)));return Array.from(i)}var yh=class{constructor(){this.closingTagIndex=new Map;this.closingTagIndexCount=new Map;this.openTagIndexCount=new Map;this.closingTagNames=new Map;this.parentNode=null;this.stackCount=0;this.createdExecutionBranches=[];this.document=null}getClosingCandidates(e){var n,r;if((e instanceof Q||e instanceof gt)&&e.isClosingTag==!1){let i=(r=(n=e.name)==null?void 0:n.compound)!=null?r:"";return i=="if"?["if","elseif","else"]:i=="elseif"?["elseif","else","if"]:i=="else"?["if"]:[i]}return[]}buildCloseIndex(e){var n,r,i;e.forEach(s=>{var a,o,l,u,c,f,m,g,p,d;if(!(s instanceof Fn)&&!((s instanceof Q||s instanceof gt)&&s.isSelfClosing)&&(s instanceof Q||s instanceof gt)&&s.isClosingTag){this.closingTagIndex.has(this.stackCount)==!1&&this.closingTagIndex.set(this.stackCount,new Map),this.closingTagIndexCount.has(this.stackCount)==!1&&this.closingTagIndexCount.set(this.stackCount,new Map);let h=(o=(a=s.name)==null?void 0:a.compound)!=null?o:"";((l=this.closingTagIndex.get(this.stackCount))==null?void 0:l.has(h))==!1&&((u=this.closingTagIndex.get(this.stackCount))==null||u.set(h,[]),(c=this.closingTagIndexCount.get(this.stackCount))==null||c.set(h,0)),(m=(f=this.closingTagIndex.get(this.stackCount))==null?void 0:f.get(h))==null||m.push(s);let y=(p=(g=this.closingTagIndexCount.get(this.stackCount))==null?void 0:g.get(h))!=null?p:0;(d=this.closingTagIndexCount.get(this.stackCount))==null||d.set(h,y+1)}}),this.closingTagNames.has(this.stackCount)==!1&&this.closingTagNames.set(this.stackCount,[]),this.closingTagIndex.has(this.stackCount)&&(this.closingTagNames.set(this.stackCount,Array.from((r=(n=this.closingTagIndex.get(this.stackCount))==null?void 0:n.keys())!=null?r:[])),(i=this.closingTagIndex.get(this.stackCount))==null||i.forEach((s,a)=>{var u,c,f,m,g,p,d;let o=s.length;if(o==0)return;let l=s[o-1];for(let h=0;h<o;h++){let y=e[h];if(y instanceof Q||y instanceof gt){if(y instanceof Fn)continue;if(y.index>=l.index)break;let b=(c=(u=y.name)==null?void 0:u.compound)!=null?c:"";if(y.isClosingTag==!1&&a==b&&!y.isSelfClosing){this.openTagIndexCount.has(this.stackCount)==!1&&this.openTagIndexCount.set(this.stackCount,new Map),((f=this.openTagIndexCount.get(this.stackCount))==null?void 0:f.has(a))==!1&&((m=this.openTagIndexCount.get(this.stackCount))==null||m.set(a,0));let N=(p=(g=this.openTagIndexCount.get(this.stackCount))==null?void 0:g.get(a))!=null?p:0;(d=this.openTagIndexCount.get(this.stackCount))==null||d.set(a,N+1)}}}}))}getScanForList(e){var n;if(e instanceof Q||e instanceof gt){let r=(n=e.name)==null?void 0:n.compound;if(r=="else")return["if"];if(r=="elseif")return["elseif","else","if"];if(e.isClosingTag==!1){let i=this.getClosingCandidates(e),s=this.closingTagNames.get(this.stackCount);return _h(i,s)}}return[]}canPossiblyClose(e){var n,r;if(e instanceof Fn)return!1;if(e instanceof gt||e instanceof Q){if(e.isComment||e.isSelfClosing)return!1;let i=(r=(n=e.name)==null?void 0:n.compound)!=null?r:"";if(i=="else"||i=="elseif")return!0;if(e.isClosingTag==!1){let s=this.getClosingCandidates(e),a=this.closingTagNames.get(this.stackCount);return _h(s,a).length>0}}return!1}findClosingPair(e,n,r){var o,l,u,c;let i=n.runtimeNodes.length,s=e.length,a=0;for(let f=0;f<s;f++){let m=e[f];if(m instanceof Q||m instanceof gt)if(n.endPosition!=null&&m.startPosition!=null){if(n.endPosition.isBefore(m.startPosition)){if(m.isClosingTag&&m.isOpenedBy!=null||m.isSelfClosing)continue;let g=(l=(o=m.name)==null?void 0:o.compound)!=null?l:"";if(m.isClosingTag==!1){if(r.includes(g)){let p=(u=this.openTagIndexCount.get(this.stackCount))==null?void 0:u.get(g),d=(c=this.closingTagIndexCount.get(this.stackCount))==null?void 0:c.get(g);p!=d&&m.runtimeNodes.length>=i,a+=1}continue}if(r.includes(g)&&a>0){a-=1;continue}if(a==0&&r.includes(g)){m.isOpenedBy=n,n.isClosedBy=m;break}}}else continue}}associate(e,n){var s,a,o,l,u,c,f;this.document=n;let r=[{documentNodes:e,parent:null}],i=[];for(;r.length>0;){let m=r.pop();if(m==null)continue;let g=m.documentNodes;this.parentNode=m.parent,this.stackCount+=1,this.buildCloseIndex(g),g=xi.pairConditionals(g),g.forEach(y=>{if((y instanceof Q||y instanceof gt)&&this.canPossiblyClose(y)){if(xi.isConditionalStructure(y))return;let b=this.getScanForList(y);this.findClosingPair(g,y,b)}});let p=g.length;for(let y=0;y<p;y++){let b=g[y];if((b instanceof Q||b instanceof gt)&&b.isClosedBy!=null)for(let N=y+1;N<p;N++){let _=g[N];if(_.index>b.isClosedBy.index)break;if(_.parent=b,b.children.push(_),_ instanceof Q&&_.index==b.index){_.parent=b;break}}}g.forEach(y=>{if((y instanceof Q||y instanceof gt)&&y.children.length>0){let b=[];y.children.forEach(N=>{N.parent!=null&&N.parent.index==y.index&&(N.parent=y,b.push(N))}),r.push({documentNodes:b,parent:y})}});let d=[];g.forEach(y=>{this.parentNode==null?y.parent==null&&d.push(y):y.parent==this.parentNode&&d.push(y)}),d=this.reduceConditionals(d);let h=new Map;g.forEach(y=>{var b,N,_,w;if((y instanceof Q||y instanceof gt)&&y.isClosedBy!=null&&this.document!=null){let te=this.document.getText(((N=(b=y.endPosition)==null?void 0:b.index)!=null?N:0)+1,(w=(_=y.isClosedBy.startPosition)==null?void 0:_.index)!=null?w:0);y.runtimeContent=te}});for(let y=0;y<d.length;y++){let b=d[y],N=(s=b.refId)!=null?s:"";if(h.set(N,1),(b instanceof Q||b instanceof gt)&&b.isComment==!1&&((a=b.name)==null?void 0:a.name)=="noparse"&&!(b instanceof di)&&b.isClosingTag==!1){if(b.isClosedBy==null){b.pushError(W.makeSyntaxError(P.TYPE_NO_PARSE_UNASSOCIATED,b,"Encountered noparse region without a closing tag. All noparse regions must be closed."));continue}let _=b.content;this.document!=null&&(_=this.document.getText(((l=(o=b.endPosition)==null?void 0:o.index)!=null?l:0)+1,(f=(c=(u=b.isClosedBy)==null?void 0:u.startPosition)==null?void 0:c.index)!=null?f:0));let w=new di,te=b.getParser();te!=null&&w.withParser(te),b.copyBasicDetailsTo(w),w.name=new Bn,w.name.name="noparse",w.name.compound="noparse",w.content=Qc.registerNoParseContent(_),w.originalNode=b,w.isClosedBy=b.isClosedBy,d[y]=w}}if(this.parentNode!=null&&(this.parentNode instanceof gt||this.parentNode instanceof Q)&&(this.parentNode.children=d,this.parentNode.parent!=null&&this.parentNode.parent instanceof Q)){let y=this.parentNode.parent.children,b=[];y.forEach(N=>{var _;h.has((_=N.refId)!=null?_:"")==!1&&b.push(N)}),this.parentNode.parent.children=b}this.stackCount<=1&&(i=d)}return this.createdExecutionBranches.length>0&&this.createdExecutionBranches.forEach(m=>{m.head!=null&&(m.nodes=m.head.children)}),i}findEndOfBranch(e,n,r){let i=[],s=r,a=null;for(let o=0;o<e.length;o++){let l=e[o];if((l instanceof Q||l instanceof gt)&&l.isOpenedBy!=null&&l.isOpenedBy==n){a=l;break}else i.push(l)}return{children:i,tail:a,offset:s}}reduceConditionals(e){var r,i,s;let n=[];for(let a=0;a<e.length;a++){let o=e[a];if((o instanceof Q||o instanceof gt)&&o.isComment==!1&&o.isClosingTag==!1&&o.isClosedBy!=null)if(((i=(r=o.name)==null?void 0:r.compound)!=null?i:"")=="if"){let u=new cr;u.index=o.index,u.chain.push(o.index),this.parentNode!=null&&(u.parent=this.parentNode);let c=null,f=!0,m=0;for(;f;){if(m+=1,m>yh.ForceBreakLimit){f=!1;break}if(o instanceof Q||o instanceof gt){let g=this.findEndOfBranch(e.slice(a+1),o,a),p=new bp,d=g.tail;if(p.head=o,p.tail=d,p.nodes=o.children,d==null&&(d=p.head.isClosedBy),d!=null&&d.startPosition!=null&&(p.startPosition=d.startPosition),d!=null&&(p.index=d.index),p.nodes.length>0){let h=p.nodes[p.nodes.length-1];h.endPosition!=null&&(p.endPosition=h.endPosition)}else d!=null&&d.endPosition!=null&&(p.endPosition=d.endPosition);if(this.createdExecutionBranches.push(p),u.logicBranches.push(p),(d==null?void 0:d.isClosingTag)&&((s=d.name)==null?void 0:s.compound)=="if"){c=g.offset,f=!1;break}else d!=null&&u.chain.push(d.index),a=g.offset,d instanceof Q&&(o=d)}else f=!1}if(u.logicBranches.length>0){let g=u.logicBranches[0],p=u.logicBranches[u.logicBranches.length-1];g.startPosition!=null&&(u.startPosition=g.startPosition),p.endPosition!=null&&(u.endPosition=p.endPosition)}if(n.push(u),c!=null&&c==e.length)break}else n.push(o);else n.push(o)}return n}},Jc=yh;Jc.ForceBreakLimit=1e5;var bh=class{static associateRecursiveParent(e){var n,r;for(let i=0;i<e.length;i++){let s=e[i];if(s instanceof Fn){let a="*recursive "+((n=s.name)==null?void 0:n.name);if(i-1<0){s.pushError(W.makeSyntaxError(P.TYPE_RECURSIVE_NODE_INVALID_POSITION,s,"Unpaired recursive node. All recursive nodes must have a parent node introducing them."));continue}let o=null;for(let l=i-1;l>=0;l-=1){let u=e[l];if(!(u instanceof $t)&&u instanceof Q&&u.isClosedBy!=null){if(s.isNestedRecursive){if(u.content.trim()==((r=s.name)==null?void 0:r.name)){o=u;break}}else if(u.runtimeContent.includes(a)&&se.substringCount(s.runtimeContent,"*recursive")==1){o=u;continue}else if(o!=null)break}}if(o==null)continue;s.isNestedRecursive?(o.hasRecursiveNode=!0,s.recursiveParent=o,o.recursiveReference=s):o.parent!=null?o.parent instanceof Q&&(o.parent.hasRecursiveNode=!0,o.parent.recursiveReference=s,s.recursiveParent=o.parent):(o.hasRecursiveNode=!0,s.recursiveParent=o,o.recursiveReference=s)}}}};var mo=class{static getNearText(e){var r,i,s,a;if(e instanceof be)return e.name;if(e instanceof qt)return(i=(r=e.value)==null?void 0:r.toString())!=null?i:"";if(e instanceof St)return e.value;if(e instanceof mn)return e.name;if(e instanceof Kt)return e.value;if(e instanceof Kr||e instanceof _i||e instanceof hr||e instanceof Lr||e instanceof Or||e instanceof cn||e instanceof Yr||e instanceof xt||e instanceof un||e instanceof Fr||e instanceof Yn||e instanceof gi||e instanceof Cn||e instanceof hi||e instanceof qr||e instanceof $n||e instanceof Mr||e instanceof Hn||e instanceof kr||e instanceof mi||e instanceof Wr||e instanceof Vr||e instanceof Br||e instanceof Oi||e instanceof mr||e instanceof Kn||e instanceof Gr||e instanceof Mn||e instanceof gr||e instanceof Pn||e instanceof $r||e instanceof Ur||e instanceof jr||e instanceof Li||e instanceof _r||e instanceof Hr||e instanceof en||e instanceof Ht||e instanceof En||e instanceof At||e instanceof rs||e instanceof An||e instanceof yi||e instanceof tn)return e.content;let n="";return e instanceof Q?e.originalNode!=null?n=e.originalNode.getContent():n=(a=(s=e.startPosition)==null?void 0:s.line.toString())!=null?a:"":e.originalAbstractNode!=null?n=e.originalAbstractNode.rawContent():n=e.rawContent(),n.length>15&&(n=n.substr(0,-15)),n}};var go=class{};go.deferredCoreLibraries=["arr","array","str","string","method","math","sys","convert","scope","stopwatch","file","path","url","request","json","datetime"];var Nt=class{};Nt.ARR_PLUCK="pluck",Nt.ARR_TAKE="take",Nt.ARR_SKIP="skip",Nt.ARR_MAKE="arr",Nt.ARR_ORDERBY="orderby",Nt.ARR_GROUPBY="groupby",Nt.ARR_MERGE="merge",Nt.QUERY_WHERE="where",Nt.STRUCT_SWITCH="switch",Nt.BITWISE_AND="bwa",Nt.BITWISE_OR="bwo",Nt.BITWISE_XOR="bxor",Nt.BITWISE_NOT="bnot",Nt.BITWISE_SHIFT_LEFT="bsl",Nt.BITWISE_SHIFT_RIGHT="bsr",Nt.operators=["pluck","take","arr","skip","orderby","groupby","merge","where","switch","bwa","bwo","bxor","bsl","bsr"];var Ot=class{constructor(){this.pathParser=new Yi;this.tokens=[];this.createdModifierChains=[];this.createdLanguageOperators=[];this.createdArrays=[];this.tracedAssignments=[];this.mergedVariablePaths=[];this.mergedComponents=new Map;this.modifierNameMapping=new Map;this.isRealModifierSeparator=new Map;this.isRoot=!0;this.retriggerNonVirtualGroupMembers=[]}hasModifierConstruct(e){return this.modifierNameMapping.has(e)}getModifierConstruct(e){return this.modifierNameMapping.get(e)}isActualModifierSeparator(e){return this.isRealModifierSeparator.has(e)}isMergedVariableComponent(e){return this.mergedComponents.has(e)}getMergedVariable(e){return this.mergedComponents.get(e)}getMergedVariablePaths(){return this.mergedVariablePaths}getCreatedModifierChains(){return this.createdModifierChains}getCreatedLangaugeOperators(){return this.createdLanguageOperators}getCreatedArrays(){return this.createdArrays}getRuntimeAssignments(){return this.tracedAssignments}getAssignedVariables(){let e=[],n=[];for(let r=0;r<this.tracedAssignments.length;r++){let i=this.tracedAssignments[r];i.target instanceof be&&n.includes(i.target.name)==!1&&(n.push(i.target.name),e.push(i.target))}return e}getAssignedVariableNames(){let e=[];for(let n=0;n<this.tracedAssignments.length;n++){let r=this.tracedAssignments[n];r.target instanceof be&&e.includes(r.target.name)==!1&&e.push(r.target.name)}return e}reset(){this.tokens=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.createdArrays=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.tracedAssignments=[],this.createdArrays=[],this.mergedVariablePaths=[],this.mergedComponents.clear(),this.modifierNameMapping.clear()}parse(e){return this.tokens=e,this.tokens=this.combineVariablePaths(this.tokens),this.tokens=this.createLanguageOperators(this.tokens),this.tokens=this.createLogicalGroups(this.tokens),this.tokens=this.associateMethodCalls(this.tokens),this.tokens=this.createTupleLists(this.tokens),this.tokens=this.createLibraryInvocations(this.tokens),this.tokens=this.associateModifiers(this.tokens),this.tokens=this.createNullCoalescenceGroups(this.tokens),this.tokens=this.correctTypes(this.tokens),this.tokens=this.createTernaryGroups(this.tokens),this.tokens=this.applyOperationOrder(this.tokens),this.validateNeighboringOperators(this.tokens),this.tokens=this.createLogicGroupsToRemoveMethodInvocationAmbiguity(this.tokens),this.tokens=this.createLogicGroupsToResolveOperatorAmbiguity(this.tokens),this.validateNoDanglingLogicGroupEnds(this.tokens),this.isRoot&&(this.tokens=this.insertAutomaticStatementSeparators(this.tokens),this.retriggerNonVirtualGroupMembers.length>0&&this.retriggerNonVirtualGroupMembers.forEach(n=>{this.markAllNonVirtualAsListGroupMember(n)})),this.createSemanticGroups(this.tokens)}setIsRoot(e){return this.isRoot=e,this}validateNeighboringOperators(e){let n=e.length;for(let r=0;r<n;r++){let i=e[r];if(Ot.isOperatorType(i)){if(r+1>=n){i.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_OPERATOR,i,"Unexpected operator while parsing input text."));return}let s=e[r+1];if(Ot.isOperatorType(s)){s.pushError(W.makeSyntaxError(P.TYPE_OPERATOR_INVALID_ON_RIGHT,s,"Unexpected operator while parsing input text."));continue}}}}static isAssignmentOperator(e){return e instanceof Fr||e instanceof Mr||e instanceof Kn||e instanceof kr||e instanceof qr||e instanceof gi}static isOperatorType(e){return e instanceof Fr||e instanceof Mr||e instanceof Kn||e instanceof kr||e instanceof qr||e instanceof gi||e instanceof Li||e instanceof Yr||e instanceof gr||e instanceof cn||e instanceof $r||e instanceof _i||e instanceof _r||e instanceof yi||e instanceof Yn||e instanceof Hn||e instanceof hi||e instanceof mi||e instanceof $n||e instanceof Cn||e instanceof Mn||e instanceof mr||e instanceof Oi||e instanceof Br||e instanceof Vr||e instanceof jr||e instanceof Ur||e instanceof Wr||e instanceof Gr}markAllNonVirtualAsListGroupMember(e){e.forEach(n=>{if(n instanceof We||n instanceof yr||n instanceof Mi){n.start!=null&&n.start.isVirtual==!1&&(n.start.isListGroupMember=!0),n.end!=null&&n.end.isVirtual==!1&&(n.end.isListGroupMember=!0),n.scopeOperator!=null&&(n.scopeOperator.isListGroupMember=!0),n.nodes.forEach(r=>{this.markAllNonVirtualAsListGroupMember([r])});return}else n instanceof kt&&(n.separatorToken!=null&&n.separatorToken.isVirtual==!1&&(n.separatorToken.isListGroupMember=!0),this.markAllNonVirtualAsListGroupMember(n.nodes));n.isVirtual==!1&&(n.isListGroupMember=!0),n.originalAbstractNode!=null&&n.originalAbstractNode!=n&&this.markAllNonVirtualAsListGroupMember([n.originalAbstractNode])})}markAllNonVirtualAsSwitch(e){e.forEach(n=>{if(n instanceof We||n instanceof yr||n instanceof Mi){n.start!=null&&n.start.isVirtual==!1&&(n.start.isSwitchGroupMember=!0),n.end!=null&&n.end.isVirtual==!1&&(n.end.isSwitchGroupMember=!0),n.scopeOperator!=null&&(n.scopeOperator.isSwitchGroupMember=!0),n.nodes.forEach(r=>{this.markAllNonVirtualAsSwitch([r])});return}else n instanceof kt&&(n.separatorToken!=null&&n.separatorToken.isVirtual==!1&&(n.separatorToken.isSwitchGroupMember=!0),this.markAllNonVirtualAsSwitch(n.nodes));n.isVirtual==!1&&(n.isSwitchGroupMember=!0),n.originalAbstractNode!=null&&n.originalAbstractNode!=n&&this.markAllNonVirtualAsSwitch([n.originalAbstractNode])})}validateNoDanglingLogicGroupEnds(e){e.forEach(n=>{n instanceof Ht&&n.pushError(W.makeSyntaxError(P.TYPE_LOGIC_GROUP_NO_START,n,"Unexpected [T_LOGIC_END] while parsing input text."))})}isValidModifierValue(e){return e instanceof Kt||e instanceof be||e instanceof Lr||e instanceof Or||e instanceof hr||e instanceof qt||e instanceof St}wrapNumberInVariable(e){var r,i,s,a;let n=new be;return n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.name=(i=(r=e.value)==null?void 0:r.toString())!=null?i:"",n.content=(a=(s=e.value)==null?void 0:s.toString())!=null?a:"",n.originalAbstractNode=e,n.refId=e.refId,n.modifierChain=e.modifierChain,n.index=e.index,n}wrapArithmeticModifier(e,n){let r=new mn;return r.startPosition=e.startPosition,r.endPosition=e.endPosition,r.originalAbstractNode=e,r.content=n,r.name=n,r.index=e.index,r}combineVariablePaths(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i],a=n.length;if(s instanceof At){if(a==0){s.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE,s,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}if(i+1>r){let u="";if(i>0){let c=e[i-1];u=mo.getNearText(c)}s.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP,s,'Unexpected end of input while parsing input text near "'+u+mo.getNearText(s)+'".'));continue}let o=n[a-1],l=e[i+1];if(l instanceof qt&&lt.distance(o,l)==1&&(l=this.wrapNumberInVariable(l)),o instanceof be&&l instanceof be&&lt.distance(o,l)==1){n.pop(),lt.mergeVarContentRight(":",s,l),lt.mergeVarRight(o,l),n.push(l),this.mergedVariablePaths.push(l),this.mergedComponents.set(s,l),this.mergedComponents.set(o,l),this.mergedComponents.set(l,l),i+=1;continue}else{n.push(s);continue}}else if(s instanceof St&&a>0){if(i+1>=r){n.push(s);continue}let o=n[a-1],l=e[i+1];if(o instanceof be&&l instanceof be&&lt.distance(o,s)<=1&&lt.distance(s,l)<=1){n.pop(),lt.mergeVarContentLeft(s.sourceTerminator+s.value+s.sourceTerminator,s,o),lt.mergeVarContentLeft(l.name,l,o),n.push(o),this.mergedVariablePaths.push(o),this.mergedComponents.set(s,o),this.mergedComponents.set(o,o),this.mergedComponents.set(l,o),i+=1;continue}else n.push(s)}else if(s instanceof Cn&&a>0){let o=n[a-1],l=e[i+1];if(o instanceof be&&l instanceof be){let u=lt.distance(o,s),c=lt.distance(s,l);u<=1&&c<=1?(o.endPosition=l.endPosition,this.mergedComponents.set(s,o),this.mergedComponents.set(o,o),this.mergedComponents.set(l,o),i+=1):n.push(s)}else n.push(s)}else n.push(s)}return n.forEach(i=>{i instanceof be&&(i.variableReference=this.pathParser.parse(i.name),i.mergeErrors(this.pathParser.getAntlersErrors()))}),n}convertVarNodeToOperator(e){let n=new Yr;return n.content=e.name,n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.originalAbstractNode=e,e.convertedToOperator=!0,this.createdLanguageOperators.push(n),n}convertOperatorToVarNode(e){let n=new be;return n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.content=e.content,n.name=e.content,n.originalAbstractNode=e,n}createLanguageOperators(e){let n=e.length;for(let r=0;r<n;r++){let i=e[r];if(i instanceof be){if(i.name.includes(L.Punctuation_FullStop)){let s=i.name.split(L.Punctuation_FullStop);if(Nt.operators.includes(s[0])||go.deferredCoreLibraries.includes(s[0])){e[r]=this.convertVarNodeToOperator(i);continue}}if(Nt.operators.includes(i.name)){e[r]=this.convertVarNodeToOperator(i);continue}}if(i instanceof Yr){if(r+1>=n){e[r]=this.convertOperatorToVarNode(i);continue}if(e[r+1]instanceof un){e[r]=this.convertOperatorToVarNode(i);continue}}}return e}createLogicalGroups(e){let n=[],r=e.length,i=[];for(let a=0;a<r;a++){let o=e[a];if(o instanceof cn){let l=this.countTypeRight(e,a,cn);if(i.length==0&&e.length==l){o.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR,o,"Unexpected [T_LOGIC_INVERSE] while parsing input text."));continue}if(a>0&&i.length>0){let f=i[i.length-1];if(f instanceof qt||f instanceof Ht||f instanceof We){if(f instanceof We&&f.start instanceof cn){f.start.pushError(W.makeSyntaxError(P.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED,f.start,"[T_AOP_FACTORIAL] operand will always materialize boolean type."));continue}let m=new rs;m.startPosition=o.startPosition,m.endPosition=o.endPosition,m.content="!".repeat(l),m.originalAbstractNode=o,m.repeat=l,i.push(m),l>0&&(a+=l-1);continue}}if(l%2==0){a+=l-1;continue}let u=e[a+l];if(u instanceof en){let f=a+l+1;if(f>=r){u.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET,u,"Unexpected end of input while parsing input text."));continue}let m=this.findLogicalGroupEnd(e[a+l],e.slice(f));if(m.found){let g=m.logicalGroup,p=new We;p.start=o,p.end=g,p.nodes.push(o),p.nodes.push(g),p.startPosition=o.startPosition,p.endPosition=g.endPosition,i.push(p),a+=m.skipCount+l}continue}let c=this.resolveValueRight(e,a);c.value!=null&&i.push(c.value),a+=c.negationCount}else i.push(o)}let s=i.length;for(let a=0;a<s;a++){let o=i[a];if(o instanceof en){if(a+1>=s){o.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION,o,"Unexpected end of input while parsing input text."));continue}let l=this.findLogicalGroupEnd(o,i.slice(a+1));l.found&&l.logicalGroup!=null&&n.push(l.logicalGroup),a+=l.skipCount}else if(o instanceof rs){if(n.length==0){o.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS,o,"Unexpected [T_AOP_FACTORIAL] while parsing input text."));continue}let l=n[n.length-1];if(!(l instanceof We)&&!(l instanceof qt)){o.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_FACTORIAL_OPERAND,o,"Unexpected left operand encountered for [T_AOP_FACTORIAL] while parsing input text."));continue}l=n.pop();let u=new We;u.startPosition=l.startPosition,u.endPosition=o.endPosition,u.originalAbstractNode=o,u.nodes.push(l),u.nodes.push(o),n.push(u)}else n.push(o)}return n}makeArgGroup(e){let n=new Da,r=e.length;for(let s=0;s<r;s++){let a=e[s];if(this.isOperand(a)==!1){a.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD,a,"Unexpected ["+z.getPrettyTypeName(a)+"] while parsing argument group."));continue}let o=null;if(s+1<r&&(o=e[s+1]),o==null||o instanceof xt){n.args.push(e[s]),s+=1;continue}else if(o instanceof At){if(s+2>=r){a.pushError(W.makeSyntaxError(P.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT,a,"Unexpected end of input while parsing named argument."));continue}let l=e[s+2],u=new Ru;u.startPosition=a.startPosition,u.endPosition=l.endPosition,u.content=a.content+l.content,u.name=a,u.value=l,a instanceof be||a.pushError(W.makeSyntaxError(P.TYPE_INVALID_NAMED_ARG_IDENTIFIER,a,"Invalid type ["+z.getPrettyTypeName(a)+"] supplied for named argument name.")),n.hasNamedArguments=!0,n.numberOfNamedArguments+=1,n.args.push(u),s+3<r&&e[s+3]instanceof xt?s+=3:s+=2;continue}}let i=!1;return n.args.forEach(s=>{s instanceof Ru?i=!0:i&&s.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT,s,"Unnamed arguments are not allowed to appear after a named argument."))}),n}cleanVariableForMethodInvocation(e){(e.name.startsWith(":")||e.name.startsWith("."))&&(e.name=e.name.substr(1),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(1),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(1)),e.startPosition!=null&&(e.startPosition.offset+=1,e.startPosition.char+=1))}reduceVariableReferenceForObjectAccessor(e){var s;let n=(s=e.variableReference)==null?void 0:s.pathParts.pop(),r=n.name,i=r.length+1;return e.name=e.name.substr(0,-i),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(0,-i),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(0,-i),e.variableReference.pathParts[e.variableReference.pathParts.length-1].isFinal=!0),e.endPosition!=null&&(e.endPosition.offset-=i,e.endPosition.char-=i),{accessor:r,accessorLen:i}}associateMethodCalls(e){var i,s;let n=[],r=e.length;for(let a=0;a<r;a++){let o=e[a],l=null,u=null;if(n.length>0&&(l=n[n.length-1]),a+1<r&&(u=e[a+1]),o instanceof be&&u instanceof We&&l!=null&&(this.isProperMethodChainTargetStrict(l)||l instanceof At)){let c=u,f=[];c.nodes.length>0&&(c.nodes[0]instanceof kt?f=c.nodes[0].nodes:f=c.nodes);let m=new tn;if(m.startPosition=o.startPosition,l instanceof At){let g=n.pop();m.startPosition=g.startPosition}this.cleanVariableForMethodInvocation(o),m.endPosition=c.endPosition,m.args=this.makeArgGroup(f),m.method=o,l.methodTarget=m,l instanceof be&&l.mergeRefName.length>0&&(l.name=lt.getUnrefName(l.mergeRefName)),n.push(m),a+=1;continue}else if(o instanceof We&&l instanceof be&&l.variableReference!=null&&l.variableReference.pathParts.length>=2){let c=[];if(o.nodes.length>0&&(o.nodes[0]instanceof kt?c=o.nodes[0].nodes:c=o.nodes),l.variableReference.pathParts[0]instanceof Gn&&go.deferredCoreLibraries.includes(l.variableReference.pathParts[0].name)){let d=n.pop(),h=new is;h.startPosition=d.startPosition,h.endPosition=o.endPosition,h.content=d.content,h.originalAbstractNode=o;let b=((i=d.variableReference)==null?void 0:i.pathParts.shift()).name,N=(s=d.variableReference)==null?void 0:s.implodePaths();h.libraryName=b,h.methodName=N,h.arguments=this.makeArgGroup(c),n.push(h),a+=1;continue}let f=this.reduceVariableReferenceForObjectAccessor(l),m=new tn;m.startPosition=o.startPosition,m.endPosition=o.endPosition,l.methodTarget=m,l instanceof be&&l.mergeRefName.length>0&&(l.name=lt.getUnrefName(l.mergeRefName)),o.start!=null&&(o.start.isPartOfMethodChain=!0),o.end!=null&&(o.end.isPartOfMethodChain=!0);let g=new be;g.name=f.accessor,g.isPartOfMethodChain=!0;let p=this.makeArgGroup(c);if(m.startPosition!=null&&(m.startPosition.offset-=f.accessorLen,m.startPosition.char-=f.accessorLen),m.method=g,m.args=p,se.isNumeric(l.name)){let d=n.pop();n.push(this.convertOperatorToVarNode(d))}n.push(m);continue}else if(o instanceof be&&l instanceof tn){if(this.cleanVariableForMethodInvocation(o),a+1>r){o.pushError(W.makeSyntaxError(P.TYPE_METHOD_CALL_MISSING_ARG_GROUP,o,"Unexpected end of input while parsing method call."));continue}let c=e[a+1];if(!(c instanceof We)){o.pushError(W.makeSyntaxError(P.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected ["+z.getPrettyTypeName(c)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let f=c,m=[];f.nodes.length>0&&(f.nodes[0]instanceof kt?m=f.nodes[0].nodes:m=f.nodes);let g=new tn;g.startPosition=o.startPosition,g.endPosition=f.endPosition,g.args=this.makeArgGroup(m),g.method=o,l.methodTarget=g,n.push(g),a+=1;continue}else if(o instanceof At&&l instanceof tn){if(a+1>r){o.pushError(W.makeSyntaxError(P.TYPE_METHOD_CALL_MISSING_METHOD,o,"Unexpected end of input while parsing method call."));continue}let c=e[a+1];if(a+2>r){o.pushError(W.makeSyntaxError(P.TYPE_METHOD_CALL_MISSING_ARG_GROUP,o,"Unexpected end of input while parsing method call."));continue}let f=e[a+2];if(!(f instanceof We)){o.pushError(W.makeSyntaxError(P.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected ["+z.getPrettyTypeName(f)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let m=f,g=[];m.nodes.length>0&&(m.nodes[0]instanceof kt?g=m.nodes[0].nodes:g=m.nodes);let p=new tn;p.startPosition=o.startPosition,p.endPosition=f.endPosition,p.args=this.makeArgGroup(g),p.method=c,l.methodTarget=p,n.push(p),a+=2;continue}else if(o instanceof tn){if(a+1>r){o.pushError(W.makeSyntaxError(P.TYPE_METHOD_CALL_MISSING_METHOD,o,"Unexpected end of input while parsing method call."));continue}let c=e[a+1];if(a+2>r){o.pushError(W.makeSyntaxError(P.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected end of input while parsing method call."));continue}let f=e[a+2];if(!(f instanceof We)){o.pushError(W.makeSyntaxError(P.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected ["+z.getPrettyTypeName(f)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let m=f,g=[];m.nodes.length>0&&(m.nodes[0]instanceof kt?g=m.nodes[0].nodes:g=m.nodes);let p=this.makeArgGroup(g);if(l instanceof be&&go.deferredCoreLibraries.includes(l.name)){let d=n.pop(),h=new is;h.startPosition=d.startPosition,h.endPosition=m.endPosition,h.libraryName=d.name,h.methodName=c.name,h.content=h.libraryName+"->"+h.methodName,h.arguments=p,l.libraryTarget=h,n.push(h),a+=2;continue}o.method=c,o.args=p,n.length>0&&(n[n.length-1].methodTarget=o),a+=2,n.push(o);continue}else n.push(o)}return n}convertVariableToStringNode(e){let n=new St;return n.content=e.name,n.value=e.name,n.originalAbstractNode=e,n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.index=e.index,n}createTupleLists(e){let n=e.length,r=[];for(let i=0;i<n;i++){let s=e[i];if(s instanceof Kr){if(s.isListGroupMember=!0,i+1>=n){s.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST,s,"Unexpected end of input while parsing tuple list."));continue}let a=e[i+1];if(!(a instanceof We)){a.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST,a,"Unexpected ["+z.getPrettyTypeName(a)+"] while parsing tuple list."));continue}let o=a;if(this.markAllNonVirtualAsListGroupMember([o]),this.retriggerNonVirtualGroupMembers.push([o]),o.nodes.length==0){o.pushError(W.makeSyntaxError(P.TYPE_MISSING_BODY_TUPLE_LIST,o,"Missing tuple list body while parsing tuple list."));continue}let u=o.nodes.shift(),c=u.nodes.length,f=[];for(let p=0;p<c;p++){let d=u.nodes[p];if(!(d instanceof xt)){let h=!1;if(d instanceof be&&(d.variableReference==null&&(h=!0),d.variableReference!=null&&d.variableReference.pathParts.length>1&&(h=!0),d.name.trim().length==0&&(h=!0)),h||!(d instanceof be)){o.pushError(W.makeSyntaxError(P.TYPE_INVALID_TUPLE_LIST_NAME_TYPE,o,"Invalid ["+z.getPrettyTypeName(d)+"] name type found while parsing tuple list."));continue}let y=d;f.push(this.convertVariableToStringNode(y))}}let m=f.length;if(m==0){o.pushError(W.makeSyntaxError(P.TYPE_INVALID_MANIFESTED_NAME_GROUP,o,"Invalid Name expression produced an invalid name group while parsing tuple list."));continue}let g=new Fi;this.createdArrays.push(g),g.startPosition=s.startPosition,g.endPosition=s.endPosition,o.nodes.forEach(p=>{if(!(p instanceof kt)){p.pushError(W.makeSyntaxError(P.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP,p,"Invalid ["+z.getPrettyTypeName(p)+"] name type found while parsing tuple list value expression."));return}let d=p,h=new Fi;this.createdArrays.push(h),h.startPosition=d.startPosition;let y=[];for(let b=0;b<c;b++){let N=d.nodes[b];if(!(N instanceof xt)){if(this.isOperand(N)==!1){N.pushError(W.makeSyntaxError(P.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE,N,"Unexpected ["+z.getPrettyTypeName(N)+"]  while parsing tuple list value."));continue}y.push(N)}}for(let b=0;b<m&&!(b>y.length);b++){let N=y[b],_=new el;_.startPosition=N.startPosition,_.endPosition=N.endPosition,_.name=f[b],_.value=N,h.nodes.push(_),g.endPosition=N.endPosition,h.endPosition=N.endPosition}g.nodes.push(h)}),r.push(g),i+=1;continue}else r.push(s)}return e}makeOrderGroup(e){let n=[],r=e.length,i=0;for(let s=0;s<r;s++){let a=e[s],o=null;if(s+1<r&&(o=e[s+1]),s>0&&(o==null||o instanceof xt)){i+=1;let l=new Qo;l.order=i,l.name=e[s-1],l.directionNode=a,this.isOperand(l.name)==!1&&l.name.pushError(W.makeSyntaxError(P.TYPE_INVALID_ORDER_BY_NAME_VALUE,l.name,"Invalid value or expression supplied for order by name.")),this.isOperand(l.directionNode)==!1&&l.directionNode.pushError(W.makeSyntaxError(P.TYPE_INVALID_ORDER_BY_SORT_VALUE,l.directionNode,"Invalid value or expression supplied for order by direction.")),l.startPosition=l.name.startPosition,l.endPosition=l.directionNode.endPosition,n.push(l),s+=1;continue}}return n}getValues(e){let n=new Sa,r=e.length,i=[];for(let s=0;s<r;s++){let a=e[s],o=null;if(s+1<r&&(o=e[s+1]),o==null||o instanceof xt){i.push(a),s+=1;continue}}return n.values=i,n}createLibraryInvocations(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof Yr)if(s.content.includes(".")){let a=s.content.split("."),o=a.shift(),l=a.join("."),u=new is;if(u.startPosition=s.startPosition,u.endPosition=s.endPosition,u.content=s.content,u.libraryName=o,u.methodName=l,u.originalAbstractNode=s,i+1>=r){s.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP,s,"Unexpected end of input while parsing argument group."));continue}if(!(e[i+1]instanceof We)){s.pushError(W.makeSyntaxError(P.TYPE_EXPECTING_ARGUMENT_GROUP,s,"Unexpected token while parsing method call. Expecting [T_ARG_SEPARATOR] got ["+z.getPrettyTypeName(s)+"]."));continue}let c=e[i+1],f=null;if(c.nodes.length>0){let m=c.nodes[0];f=this.makeArgGroup(m.nodes)}f==null&&(f=new Da,f.startPosition=c.startPosition,f.endPosition=c.endPosition,f.originalAbstractNode=c),u.arguments=f,n.push(u),i+=1;continue}else if(s.content==Nt.ARR_ORDERBY){if(i+1>=r){s.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP,s,"Unexpected end of input while parsing order group."));continue}let a=e[i+1];if(!(a instanceof We)){a.pushError(W.makeSyntaxError(P.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND,a,"Unexpected ["+z.getPrettyTypeName(a)+"] while parsing order group."));continue}let l=a.nodes;l[0]instanceof kt&&(l=l[0].nodes);let u=this.makeOrderGroup(l);u.length==0&&s.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP,s,"Unexpected empty [T_DIRECTION_GROUP]. Must have at least one order clause, and each property must have a direction specified."));let c=new qs;if(c.orderClauses=u,u.length>0){u[0].directionNode!=null&&(c.startPosition=u[0].directionNode.startPosition);let f=u[u.length-1].directionNode;f!=null&&(c.endPosition=f.endPosition)}n.push(s),n.push(c),i+=1;continue}else if(s.content==Nt.ARR_GROUPBY){if(i+1>=r){s.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY,s,"Unexpected end of input while parsing group by clause."));continue}let a=e[i+1];if(a instanceof Mi||a instanceof yr){a.pushError(W.makeSyntaxError(P.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED,a,"Type ["+z.getPrettyTypeName(a)+"] must be enclosed with parenthesis to be used with groupby."));continue}if(!(a instanceof We)){a.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY,a,"Unexpected ["+z.getPrettyTypeName(a)+"] while parsing group by."));continue}let l=a.nodes;l[0]instanceof kt&&(l=l[0].nodes);let u=this.getValues(l);if(n.push(s),n.push(u),i+2<r&&i+3<r){let c=e[i+2],f=e[i+3];if(lt.isVariableMatching(c,tt.ScopeAs))if(f instanceof St){u.isNamedNode=!0,u.parsedName=f,i+=3;continue}else f.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE,f,"Expecting [T_STRING] for group by collection alias; got ["+z.getPrettyTypeName(f)+"]."))}i+=1;continue}else if(s.content==Nt.STRUCT_SWITCH){if(i+1>=r){s.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP,s,"Unexpected end of input while parsing [T_SWITCH_GROUP]."));continue}let a=e[i+1];if(!(a instanceof yr)){a.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP,a,"Unexpected ["+z.getPrettyTypeName(a)+"] while parsing [T_SWITCH_GROUP]."));continue}let o=a;if(this.markAllNonVirtualAsSwitch([a]),o.scope==null||!(o.scope instanceof We)){o.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE,o,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let l=o.scope;if(l.nodes.length==0||!(l.nodes[0]instanceof kt)){o.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,o,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let u=l.nodes[0];if(this.markAllNonVirtualAsSwitch([l]),u.nodes.length==0||!(u.nodes[0]instanceof We)){s.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}this.markAllNonVirtualAsSwitch([s]),this.markAllNonVirtualAsSwitch(u.nodes);let c=u.nodes;if(o.nodes.length==0&&s.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP].")),!(l.nodes[0]instanceof kt)){s.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let m=l.nodes[0];this.markAllNonVirtualAsSwitch(m.nodes);let g=m.nodes,p=new Bs,d=new We;d.nodes=c,d.startPosition=d.nodes[0].startPosition,d.endPosition=d.nodes[d.nodes.length-1].endPosition;let h=new Ia;h.condition=d;let y=new We;y.nodes.push(g.shift()),y.startPosition=y.nodes[0].startPosition,y.endPosition=y.nodes[y.nodes.length-1].endPosition,h.expression=y,h.startPosition=h.condition.startPosition,h.endPosition=h.expression.nodes[h.expression.nodes.length-1].endPosition,g.shift(),p.cases.push(h);let b=g.length;if(b>0){if(!(g[0]instanceof We)){s.pushError(W.makeSyntaxError(P.TYPE_PARSER_INVALID_SWITCH_TOKEN,s,"Invalid ["+z.getPrettyTypeName(g[0])+"] while parsing case statement."));continue}for(let N=0;N<b;N++){let _=g[N],w=null;if(_ instanceof xt){_.isSwitchGroupMember=!0;continue}if(N+1<b&&(w=g[N+1]),w instanceof An){w.isSwitchGroupMember=!0;let te=new Ia;te.condition=_,this.markAllNonVirtualAsSwitch([te.condition]);let H=new We;if(H.nodes.push(g[N+2]),H.startPosition=H.nodes[0].startPosition,H.endPosition=H.nodes[H.nodes.length-1].endPosition,te.expression=H,this.markAllNonVirtualAsSwitch([H]),te.startPosition=te.condition.startPosition,te.endPosition=te.expression.nodes[te.expression.nodes.length-1].endPosition,p.cases.push(te),N+3<b&&!(g[N+3]instanceof xt)){g[N+3].pushError(W.makeSyntaxError(P.TYPE_PARSER_INVALID_SWITCH_TOKEN,g[N+3],"Invalid ["+z.getPrettyTypeName(g[N+3])+"] while parsing case statement; expecting [T_ARG_SEPARATOR]."));continue}g[N+3].isSwitchGroupMember=!0,N+=2;continue}}}n.push(new hr),n.push(s),n.push(p),i+=1;continue}else if(s.content==Nt.ARR_MAKE){if(i+1>=r){s.pushError(W.makeSyntaxError(P.TYPE_ARR_MAKE_MISSING_TARGET,s,"Missing target variable for arr operator."));continue}let a=e[i+1];if(!(a instanceof We)){a.pushError(W.makeSyntaxError(P.TYPE_ARR_MAKE_UNEXPECTED_TYPE,a,"Unexpected ["+z.getPrettyTypeName(a)+"] while parsing array."));continue}let o=a instanceof yr,l=a,u=l.nodes;if(u[0]instanceof kt&&(u=u[0].nodes),o){let g=a;u.unshift(new An),u.unshift(g.scope)}let c=this.getArrayValues(u),f=new Fi;f.startPosition=s.startPosition;let m=c.values.length;m>0?f.endPosition=c.values[m-1].endPosition:f.endPosition=s.endPosition,l.end!=null&&(f.endPosition=l.end.endPosition),f.nodes=c.values,this.createdArrays.push(f),n.push(f),i+=1}else n.push(s);else n.push(s)}return n}getArrayValues(e){let n=new Sa,r=e.length,i=[];for(let s=0;s<r;s++){let a=e[s];if(a instanceof xt){a.pushError(W.makeSyntaxError(P.TYPE_ARR_UNEXPECT_ARG_SEPARATOR,a,"Unexpected [T_ARG_SEPARATOR] while parsing array."));continue}if(a instanceof An){if(s==0){a.pushError(W.makeSyntaxError(P.TYPE_ARR_KEY_PAIR_MISSING_KEY,a,"Missing key for key/value pair while parsing array."));continue}else if(e[s-1]instanceof xt){a.pushError(W.makeSyntaxError(P.TYPE_ARR_KEY_PAIR_MISSING_KEY,a,"Missing key for key/value pair while parsing array."));continue}}let o=null;if(s+1<r&&(o=e[s+1]),o instanceof An){if(s+2>=r){o.pushError(W.makeSyntaxError(P.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE,o,"Missing key/pair value while parsing array."));continue}let l=e[s+2],u=new el;if(this.isValidArrayKeyNode(a)==!1){a.pushError(W.makeSyntaxError(P.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE,a,"Invalid ["+z.getPrettyTypeName(a)+"] type for key/value key."));continue}u.name=a,u.value=l,u.startPosition=a.startPosition,u.endPosition=l.endPosition,i.push(u),s+=3;continue}if(o==null||o instanceof xt){let l=new el;l.value=a,l.startPosition=a.startPosition,l.endPosition=a.endPosition,i.push(l),s+=1;continue}}return n.values=i,n}isValidArrayKeyNode(e){return e instanceof qt||e instanceof St}associateModifiers(e){let n=[],r=e.length,i=null;for(let s=0;s<r;s++){let a=e[s];if(a instanceof Pn){let o=n.length;if(o==0){a.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_MODIFIER_SEPARATOR,a,"Unexpected [T_MODIFIER_SEPARATOR] while parsing input text."));continue}if(this.isRealModifierSeparator.set(a,!0),i=n[o-1],i.modifierChain==null&&(i.modifierChain=new Xo,i.modifierChain.modifierTarget=i,this.createdModifierChains.push(i.modifierChain)),s+1>=r){a.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS,a,"Unexpected end of input while preparing to gather modifier details."));continue}let l=this.scanToEndOfModifier(e.slice(s+1)),u=l.length;if(u>1&&l[1]instanceof At){this.isRealModifierSeparator.set(l[1],!0);let f=l[0];f instanceof Yn?l[0]=this.wrapArithmeticModifier(f,"add"):f instanceof Cn?l[0]=this.wrapArithmeticModifier(f,"subtract"):f instanceof Hn?l[0]=this.wrapArithmeticModifier(f,"divide"):f instanceof $n?l[0]=this.wrapArithmeticModifier(f,"multiply"):f instanceof mi&&(l[0]=this.wrapArithmeticModifier(f,"mod"))}if(u==0){a.pushError(W.makeSyntaxError(P.TYPE_UNSET_MODIFIER_DETAILS,a,"Invalid or missing modifier details."));continue}if(!(l[0]instanceof mn)){a.pushError(W.makeSyntaxError(P.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS,a,"Invalid ["+z.getPrettyTypeName(l[0])+"]; expecting [T_MODIFIER_NAME]"));continue}let c=this.createModifier(l);c.nameNode!=null&&this.modifierNameMapping.set(c.nameNode,c),s+=u,i.modifierChain.modifierChain.push(c),i.modifierChain.updateValues();continue}else n.push(a)}return n}createNullCoalescenceGroups(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof _r){let a=n.pop();if(i+1>=r){s.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP,s,"Unexpected end of input while parsing input text."));continue}let o=e[i+1],l=new Jo;l.left=a,l.right=o,n.push(l),i+=1;continue}else n.push(s)}return n}isOperand(e){return e instanceof be||e instanceof We||e instanceof St||e instanceof qt||e instanceof Or||e instanceof hr||e instanceof Lr||e instanceof is||e instanceof qs||e instanceof Sa||e instanceof Bs||e instanceof Fi}isProperMethodChainTargetStrict(e){return e instanceof We||e instanceof St||e instanceof qt||e instanceof Or||e instanceof hr||e instanceof Lr||e instanceof is||e instanceof qs||e instanceof Sa||e instanceof Bs||e instanceof Fi}assertOperandRight(e,n){if(n+1>e.length-1)return e[n].pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_END_OF_INPUT,e[n],"Unexpected end of input; expecting operand for operator "+z.getPrettyTypeName(e[n])+' near "'+mo.getNearText(e[n])+'".')),!1;let r=e[n+1];return this.isOperand(r)?!0:(r.pushError(W.makeSyntaxError(P.TYPE_EXPECTING_OPERAND,e[n],"Expecting operand, found "+z.getPrettyTypeName(r)+' near "'+mo.getNearText(e[n])+'".')),!1)}resolveValueRight(e,n){let r=null,i=0,s=null;if(e.length>0){let a=!0;for(;a;){let o=e[n];if(o instanceof cn){s=o,i+=1,n+=1,a=!1;continue}else if(this.isOperand(o)){r=o,a=!1;break}else{a=!1;break}}}if(i%2!=0){let a=new We;return a.nodes=[],s!=null&&r!=null&&(a.nodes.push(s),a.nodes.push(r)),{value:a,negationCount:i}}return{value:r,negationCount:i}}correctTypes(e){let n=[];return e.forEach(r=>{if(r instanceof En){let i=new At;i.startPosition=r.startPosition,i.endPosition=r.endPosition,i.originalAbstractNode=r,n.push(i)}else if(r instanceof Kt){let i=new be;i.name=r.value,i.startPosition=r.startPosition,i.endPosition=r.endPosition,i.modifierChain=r.modifierChain,i.originalAbstractNode=r,n.push(i)}else n.push(r)}),n}createTernaryGroups(e){var i,s,a,o;let n=[],r=e.length;for(let l=0;l<r;l++){let u=e[l];if(u instanceof Hr){let c=this.seek(At,l+1);if(((i=c.node)==null?void 0:i.originalAbstractNode)!=null&&c.node.originalAbstractNode instanceof En&&(c.node.originalAbstractNode.isTenaryBranchSeparator=!0),c.found==!1){u.pushError(W.makeSyntaxError(P.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR,u,"Unexpected end of input; expecting [T_BRANCH_SEPARATOR]."));continue}let f=this.collectUntil(n);n=f.tokens;let m=f.collectedTokens[0],g=(s=c.foundAt)!=null?s:0;if(g>=r){u.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP,u,"Unexpected end of input while parsing ternary group."));continue}let p=e.slice(l+1,g);if(p.length>1||p.length==0){u.pushError(W.makeSyntaxError(P.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH,u,"Unexpected number of operations within ternary truth branch."));continue}let d=p[0],h=((a=c.foundAt)!=null?a:0)+1;if(h>=r){u.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH,u,"Unexpected end of input while parsing ternary false execution branch."));continue}let y=e[h],b=new Zo;b.head=m,b.truthBranch=d,b.falseBranch=y,n.push(b),l=((o=c.foundAt)!=null?o:0)+1;continue}else n.push(u)}return n}groupNodesByType(e,n){let r=[],i=e.length;for(let s=0;s<i;s++){let a=e[s];if(s>0&&a instanceof n){let o=[],l=r.pop();if(o.push(l),!this.assertOperandRight(e,s))continue;if(s+1>=i){a.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,a,"Unexpected end of input while parsing input text."));continue}let u=e[s+1];typeof u!="undefined"&&(u.isVirtualGroupMember=!0),typeof l!="undefined"&&(l.isVirtualGroupMember=!0),a.isVirtualGroupMember=!0;let c=new We;c.nodes=o,c.nodes.push(a),c.nodes.push(u),s+=1,r.push(c);continue}else r.push(a)}return r}flagNodeAsOperatorResolve(e){if(e instanceof We){if(e.nodes.length==0)return;this.flagNodeAsOperatorResolve(e.nodes[e.nodes.length-1])}e.isVirtualGroupOperatorResolve=!0,e.next instanceof un||(e.producesVirtualStatementTerminator=!0)}groupNodesByOperatorType(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(i>0&&Ot.isOperatorType(s)){let a=[],o=n.pop();if(a.push(o),!this.assertOperandRight(e,i))continue;if(i+1>=r){s.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,s,"Unexpected end of input while parsing input text."));continue}let l=e[i+1];this.flagNodeAsOperatorResolve(l),Ot.isAssignmentOperator(s)&&this.tracedAssignments.push(new Ep(o,l,s)),typeof o!="undefined"&&(o.isVirtualGroupMember=!0),typeof l!="undefined"&&(l.isVirtualGroupMember=!0),s.isVirtualGroupMember=!0;let u=new We;u.nodes=a,u.nodes.push(s),u.nodes.push(l),i+=1,n.push(u);continue}else n.push(s)}return n}applyOperationOrder(e){return e=this.groupNodesByType(e,hi),e=this.groupNodesByType(e,$n),e=this.groupNodesByType(e,Hn),e=this.groupNodesByType(e,Yn),e=this.groupNodesByType(e,Cn),e}createLogicGroupsToRemoveMethodInvocationAmbiguity(e){let n=[],r=e.length,i=r-1;for(let s=0;s<r;s++){let a=e[s];if(a instanceof tn){let o=n.pop(),l=new We;if(l.startPosition=o.startPosition,typeof o!="undefined"&&(o.isVirtualGroupMember=!0),typeof a!="undefined"&&(a.isVirtualGroupMember=!0),l.nodes.push(o),l.nodes.push(a),s!=i)for(let u=s+1;u<r;u++)if(e[u]instanceof tn){if(typeof e[u]=="undefined")continue;if(e[u].isVirtualGroupMember=!0,l.nodes.push(e[u]),u==i){u+=1;break}}else{if(u==i){u+=1;break}s=u-1;break}l.endPosition=l.nodes[l.nodes.length-1].endPosition,n.push(l)}else n.push(a)}return n}countTypeRight(e,n,r){let i=0;for(let s=n;s<e.length&&e[s]instanceof r;s++)i+=1;return i}createLogicGroupsToResolveOperatorAmbiguity(e){return e=this.groupNodesByType(e,Oi),e=this.groupNodesByType(e,mr),e=this.groupNodesByType(e,Vr),e=this.groupNodesByType(e,Br),e=this.groupNodesByType(e,Gr),e=this.groupNodesByType(e,Mn),e=this.groupNodesByType(e,Ur),e=this.groupNodesByType(e,jr),e=this.groupNodesByType(e,Wr),e=this.groupNodesByOperatorType(e),e}createModifier(e){let n=e.shift(),r=[],i=e.length;if(e.length>0&&e[0]instanceof We){let a=this.unpack(e[0].nodes),o=this.makeArgGroup(a),l=new Aa;if(l.nameNode=n,l.methodStyleArguments=o,e.length>1)for(let u=1;u<i;u++)e[u].pushError(W.makeSyntaxError(P.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX,e[u],"Unexpected ["+z.getPrettyTypeName(e[u])+"] while parsing modifier argument group. Expecting [T_MODIFIER_SEPARATOR] or end of current expression."));return l}for(let a=0;a<i;a++)if(e[a]instanceof En||e[a]instanceof At){if(a+1>=i)return e[a].pushError(W.makeSyntaxError(P.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST,e[a],"Unexpected end of modifier value list while parsing modifier.")),e;let o=e[a+1];if(this.isValidModifierValue(o)){if(o instanceof be)if(o.variableReference!=null&&o.variableReference.pathParts.length>0)o.variableReference.pathParts.forEach(l=>{if(l instanceof Gn){let u=new Kt;u.startPosition=l.startPosition,u.endPosition=l.endPosition,u.value=l.name,u.name=l.name,u.originalAbstractNode=l,u.endPosition==null&&u.startPosition==null&&(u.startPosition=o.startPosition,u.endPosition=o.endPosition),r.push(u)}});else{let l=new Kt;l.startPosition=o.startPosition,l.endPosition=o.endPosition,l.value=o.name,l.name=o.name,l.originalAbstractNode=o,r.push(l)}else r.push(o);a+=1;continue}else return o.pushError(W.makeSyntaxError(P.TYPE_MODIFIER_UNEXPECTED_VALUE,o,"Unexpected ["+z.getPrettyTypeName(o)+"] while parsing modifier value.")),e}let s=new Aa;return s.nameNode=n,s.valueNodes=r,s.startPosition=s.nameNode.startPosition,s.valueNodes.length>0?s.endPosition=s.valueNodes[s.valueNodes.length-1].endPosition:s.endPosition=s.nameNode.endPosition,s}scanToEndOfModifier(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof En){let a=n.length;if(a==0){s.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE,s,"Unexpected end of input while parsing modifier value."));continue}this.isRealModifierSeparator.set(s,!0);let o=n[a-1];if(lt.distance(o,s)>1)break}if(s instanceof St||s instanceof be||s instanceof qt){let a=n.length;if(a>0&&n[a-1]instanceof We)break}if(s instanceof Pn||s instanceof Ht||s instanceof en||s instanceof Mn||s instanceof mr||s instanceof Oi||s instanceof Br||s instanceof Vr||s instanceof jr||s instanceof Ur||s instanceof Wr||s instanceof Gr||s instanceof gr||s instanceof $r||s instanceof _i||s instanceof _r||s instanceof yi||s instanceof Yr||s instanceof is||s instanceof tn||s instanceof cn)break;n.push(s)}return n}static isAssignmentOperatorNode(e){return e instanceof Fr||e instanceof Mr||e instanceof Kn||e instanceof kr||e instanceof qr||e instanceof Cn}insertAutomaticStatementSeparators(e){let n=e.length,r=[];for(let i=0;i<n;i++){let s=e[i];if(Ot.isAssignmentOperatorNode(s))if(i+2<n)if(e[i+2]instanceof un){r.push(s),r.push(e[i+1]),r.push(e[i+2]),i+=2;continue}else{r.push(s),r.push(e[i+1]),r.push(new un),i+=1;continue}else{r.push(s),r.push(e[i+1]),r.push(new un);break}else r.push(s)}return e}createSemanticGroups(e){let n=[],r=e.length,i=[];for(let s=0;s<r;s++)if(e[s]instanceof un){let a=new kt;a.nodes=i,a.separatorToken=e[s],n.push(a),i=[];continue}else if(i.push(e[s]),s+1>=r){let a=new kt;a.nodes=i,n.push(a);break}return n}findLogicalGroupEnd(e,n){let r=[],i=n.length,s=null,a=0,o=0;for(o;o<i;o++){let c=n[o];if(a+=1,c instanceof Ht){s=c;break}else if(c instanceof en){if(o+1>=i)return c.pushError(W.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END,c,"Unexpected end of input while parsing input text.")),{found:!1,logicalGroup:null,skipCount:a};let f=this.findLogicalGroupEnd(c,n.slice(o+1));if(f.found){f.logicalGroup!=null&&r.push(f.logicalGroup),a+=f.skipCount,o+=f.skipCount;continue}else continue}else r.push(c)}if(s==null)return e.pushError(W.makeSyntaxError(P.TYPE_LOGIC_GROUP_NO_END,e,"Unexpected end of input while parsing logic group.")),{found:!1,logicalGroup:null,skipCount:a};let l=new Ot;l.setIsRoot(!1);let u=new We;if(r.length>=2&&r[1]instanceof An){if(u=new yr,u.scopeOperator=r[1],o+2<i&&n[o+1]instanceof be&&n[o+2]instanceof St&&n[o+1].name==tt.ScopeAs){let m=n[o+2];u=new Mi,u instanceof Mi&&(u.alias=m),a+=2}let c=r.splice(0,2);(u instanceof yr||u instanceof Mi)&&(u.scope=c[0])}return u.nodes=l.parse(r),u.start=e,u.end=s,u.startPosition=e.startPosition,u.endPosition=s.endPosition,u instanceof Mi&&u.alias!=null&&(u.endPosition=u.alias.endPosition),{found:!0,logicalGroup:u,skipCount:a}}unpack(e){if(e.length==0)return[];if(e[0]instanceof kt){let n=e[0];return this.unpack(n.nodes)}return e}collectUntil(e){let n=e.length,r=[];for(let i=n-1;i>=0&&!Ot.isAssignmentOperator(e[i]);i--){let s=e.pop();r.push(s)}if(r=r.reverse(),r.length>=3){let i=new Ot;return i.setIsRoot(!1),{collectedTokens:this.unpack(i.parse(r)),tokens:e}}return{collectedTokens:r,tokens:e}}seek(e,n){for(let r=n;r<this.tokens.length;r++)if(this.tokens[r]instanceof e)return{found:!0,foundAt:r,node:this.tokens[r]};return{found:!1,foundAt:null,node:null}}};var Hi=class{static findRightBeighboringNextPunctuation(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e+1;s<n.length;s++){let a=n[s];if(se.ctypeSpace(a)&&(i=!0),i&&(se.ctypeAlpha(a)||se.ctypeDigit(a)))return null;if(se.ctypePunct(a)||a==L.String_Terminator_SingleQuote||a==L.String_Terminator_DoubleQuote)return a}return null}static findRightNeighboringNextAlphaNumeric(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e+1;s<n.length;s++){let a=n[s];if((se.ctypeSpace(a)||se.ctypePunct(a)&&a!=L.Punctuation_Underscore)&&(i=!0),i&&(se.ctypeAlpha(a)||se.ctypeDigit(a)))return s+1}return null}static findLeftNeighboringNextPunctuation(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e-2;s>=0;s--){let a=n[s];if(se.ctypeSpace(a)&&(i=!0),i&&(se.ctypeAlpha(a)||se.ctypeDigit(a)))return null;if(se.ctypePunct(a))return a}return null}static findLeftNeighboringNextAlphaNumeric(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e-1;s>=0;s--){let a=n[s];if((se.ctypeSpace(a)||se.ctypePunct(a)&&a!=L.Punctuation_Underscore)&&(i=!0),i&&(se.ctypeAlpha(a)||se.ctypeDigit(a)))return s+1}return null}static scanWordAt(e,n,r=4){if(n=n.replace("	"," ".repeat(r)),e<0||e>n.length)return null;let i=[],s=[];for(let a=e-1;a>=0;a--){let o=n[a];if(se.ctypePunct(o)&&o!=L.Punctuation_Underscore||se.ctypeSpace(o))break;i.push(o)}for(let a=e;a<n.length;a++){let o=n[a];if(se.ctypePunct(o)&&o!=L.Punctuation_Underscore||se.ctypeSpace(o))break;s.push(o)}return i.reverse().join("")+s.join("")}};var Th=class{constructor(e){this.parser=e}findParentWithName(e,n){let r=n.parent;for(;r!=null;){if(r instanceof Q&&r.nameMatches(e))return r;if(r.parent==r)break;r=r.parent}return null}};var vh=class{static analyzeModifierNodeParameters(e){var r,i,s,a;if(e.parameters.forEach(o=>{var l,u,c,f;o.isModifierParameter=(u=(l=Rt.instance)==null?void 0:l.hasModifier(o.name))!=null?u:!1,o.isModifierParameter&&(e.modifiers.parameterModifiers.push(o),o.modifier=(f=(c=Rt.instance)==null?void 0:c.getModifier(o.name))!=null?f:null,e.modifiers.modifierNames.includes(o.name)==!1&&e.modifiers.modifierNames.push(o.name))}),e.modifierChain!=null&&e.modifierChain.modifierChain.length>0){let o=null;e.modifierChain.modifierChain.forEach(l=>{var u,c;l.nameNode!=null&&(l.modifier=(c=(u=Rt.instance)==null?void 0:u.getModifier(l.nameNode.content))!=null?c:null,e.modifiers.modifierNames.includes(l.nameNode.content)==!1&&e.modifiers.modifierNames.push(l.nameNode.content),l.modifier!=null&&(o=l.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=l)))}),e.modifierChain.lastModifier=o,e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}e.runtimeNodes.length>0&&e.runtimeNodes.forEach(o=>{if(o.modifierChain!=null&&o.modifierChain.modifierChain.length>0){let l=null;o.modifierChain.modifierChain.forEach(u=>{var c,f;u.nameNode!=null&&(u.modifier=(f=(c=Rt.instance)==null?void 0:c.getModifier(u.nameNode.content))!=null?f:null,e.modifiers.modifierNames.includes(u.nameNode.content)==!1&&e.modifiers.modifierNames.push(u.nameNode.content),u.modifier!=null&&(l=u.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=u)))}),e.modifierChain!=null&&(e.modifierChain.lastModifier=l),e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}});let n=e.modifiers.getLastManifestedModifier();if(n!=null)if(n.name=="macro"){let o=e.modifiers.getLastManifestedModifierValue();e.manifestType=(i=(r=Rt.instance)==null?void 0:r.getMacroManifestingType(o))!=null?i:""}else e.manifestType=(a=(s=Rt.instance)==null?void 0:s.getProbableReturnType(n,e.isPaired()))!=null?a:""}};var Iv={warnUnknownParameters:!1};var Nh=class{static validateInteger(e){return parseInt(e).toString()!==e?{isValid:!1,message:'"'+e+'" is not a valid integer.'}:{isValid:!0,message:""}}static validateBoolean(e){return e=="true"||e=="false"?{isValid:!0,message:""}:{isValid:!1,message:'"'+e+'" is not a valid value. Expecting true/false.'}}static validateParameters(e){var n,r,i,s,a;if(e.isTagNode&&((n=wt.instance)==null?void 0:n.isKnownTag(e.runtimeName()))){let o=(r=wt.instance)==null?void 0:r.findTag(e.runtimeName());if(e.hasParameters)for(let l=0;l<e.parameters.length;l++){let u=e.parameters[l],c=null,f=!1,m=u.name.trim();if(m=wi(m,":"),((i=wt.instance)==null?void 0:i.canResolveDynamicParameter(e.runtimeName()))&&typeof o.resolveDynamicParameter!="undefined"&&o.resolveDynamicParameter!=null?(c=o.resolveDynamicParameter(e,m),f=!0):c=(s=wt.instance)==null?void 0:s.getParameter(e.runtimeName(),m),f&&c==null&&(c=(a=wt.instance)==null?void 0:a.getParameter(e.runtimeName(),m)),c==null){if(Iv.warnUnknownParameters){let g="";if(o.suggestAlternativeParams!=null){let d=o.suggestAlternativeParams(m);d.length==1?g='. Did you mean "'+d[0]+'"?':d.length>1&&(g=". Try one of the following: "+d.join(", "))}let p='Unknown parameter name: "'+m+'"'+g;e.pushError(W.makeSyntaxError(P.LINT_UNKNOWN_PARAMETER,e,p,1))}}else if(c.validate!=null){let g=c.validate(e,u);g.length>0&&g.forEach(p=>{e.pushError(W.makeSyntaxError(P.LINT_GENERAL_INVALID_PARAMETER_CONTENTS,u,p.message,1))})}else{if(u.hasInterpolations())continue;for(let g=0;g<c.expectsTypes.length;g++){let p=c.expectsTypes[g];if(p=="integer"){let d=this.validateInteger(u.value);d.isValid||e.pushError(W.makeSyntaxError(P.LINT_PARAMETER_CONTENT_INVALID_INTEGER,u,d.message,1))}else if(p=="boolean"){let d=this.validateBoolean(u.value);if(c.name=="paginate"){if(u.value=="true"||u.value=="false")continue;if(parseInt(u.value).toString()!=u.value){let h='Unexpected "'+u.value+'". Expecting a numeric value, or true/false.';e.pushError(W.makeSyntaxError(P.LINT_PAGINATE_INVALID_VALUE,u,h,0))}}else d.isValid||e.pushError(W.makeSyntaxError(P.LINT_PARAMETER_CONTENT_INVALID_BOOLEAN,u,d.message,1))}}}}}}};var ke=class{constructor(){this.interpolationRegions=new Map;this.nodeParser=new gh;this.chars=[];this.charLen=0;this.lastAntlersNode=null;this.content="";this.originalContent="";this.currentIndex=0;this.currentContent=[];this.sourceContent=[];this.startIndex=0;this._recoveryStartIndex=0;this.cur=null;this.next=null;this.prev=null;this.nodes=[];this.renderNodes=[];this.isInterpolatedParser=!1;this.inputLen=0;this.documentOffsets=new Map;this.lineIndex=new Map;this.lastDocumentOffsetKey=null;this.isDoubleBrace=!1;this.interpolationEndOffsets=new Map;this.isScanningInterpolations=!1;this.seedStartLine=1;this.seedStartchar=1;this.frontMatterEndLine=-1;this.lastAntlersEndIndex=-1;this.seedOffset=0;this.antlersStartIndex=[];this.antlersStartPositionIndex=new Map;this.chunkSize=5;this.maxLine=1;this.currentChunkOffset=0;this.isNoParse=!1;this.antlersErrors=[];this.languageParser=new Ot;this.documentPath=null;this.pushedErrors=new Map;this.frontMatter="";this.doesHaveUncloseIfStructures=!1;this.doesHaveUnclosedStructures=!1;this.structure=new Th(this)}hasUnclosedIfStructures(){return this.doesHaveUncloseIfStructures}hasUnclosedStructures(){return this.doesHaveUnclosedStructures}getFrontMatter(){return this.frontMatter}setDocumentPath(e){this.documentPath=e}getFrontMatterEndLine(){return this.frontMatterEndLine}pushError(e){(e.errorCode==P.TYPE_PARSE_UNCLOSED_CONDITIONAL||e.errorCode==P.TYPE_PARSE_UNPAIRED_CONDITIONAL)&&(this.doesHaveUncloseIfStructures=!0);let n=e.hash();this.pushedErrors.has(n)||(this.pushedErrors.set(n,e),this.antlersErrors.push(e))}getInterpolationRegions(){return this.interpolationRegions}getDocumentPath(){return this.documentPath}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let n=se.split(se.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),n.forEach(r=>{this.chars.push(r),this.charLen+=1})}e&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}}charLeftAt(e){return e==null||e.char<=1?null:this.charAt(this.positionFromCursor(e.line,e.char-1))}charLeftAtCursor(e,n){return this.charLeftAt(this.positionFromCursor(e,n))}charRightAt(e){return e==null?null:this.charAt(this.positionFromCursor(e.line,e.char+1))}charRightAtCursor(e,n){return this.charRightAt(this.positionFromCursor(e,n))}punctuationLeftAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:Hi.findLeftNeighboringNextPunctuation(e.char,r,n)}punctuationLeftAtCursor(e,n,r=4){return this.punctuationLeftAt(this.positionFromCursor(e,n),r)}punctuationRightAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:Hi.findRightBeighboringNextPunctuation(e.char,r,n)}punctuationRightAtCursor(e,n,r=4){return this.punctuationRightAt(this.positionFromCursor(e,n),r)}wordRightAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let i=Hi.findRightNeighboringNextAlphaNumeric(e.char,r,n);return i==null?null:Hi.scanWordAt(i,r,n)}wordRightAtCursor(e,n,r=4){return this.wordRightAt(this.positionFromCursor(e,n),r)}wordLeftAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let i=Hi.findLeftNeighboringNextAlphaNumeric(e.char,r,n);return i==null?null:Hi.scanWordAt(i,r,n)}wordLeftAtCursor(e,n,r=4){return this.wordLeftAt(this.positionFromCursor(e,n),r)}wordAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:Hi.scanWordAt(e.char,r,n)}getLineText(e){let n=this.getLineIndex(e);return n!=null?se.trimRight(this.getContent().substring(n.start,n.end+1)):null}wordAtCursor(e,n,r=4){return this.wordAt(this.positionFromCursor(e,n),r)}charAt(e){return e==null?null:this.content.substr(e.offset,1)}charAtCursor(e,n){return this.charAt(this.positionFromCursor(e,n))}getLineIndex(e){if(e==this.maxLine){let r=this.lineIndex.get(e-1);if(r!=null){let i=r.endIndex+1;return{end:this.inputLen-1,start:i}}return null}let n=this.lineIndex.get(e);return n!=null?{start:n.startIndex,end:n.endIndex}:null}positionFromCursor(e,n){if(e==this.maxLine){let i=this.lineIndex.get(e-1);if(i!=null){let s=i.endIndex+1,a=s+(n-1),o=new ur;return o.offset=a,o.line=e,o.char=n,o.index=a,o}return null}let r=this.lineIndex.get(e);if(r!=null){let i=new ur;return i.offset=r.startIndex+(n-1),i.line=r.line,i.char=n,i.index=r.startIndex+(n-1),i}return null}parse(e){var o,l,u,c;if(this.resetState(),!this.processInputText(e))return[];let n=this.antlersStartIndex.length,r=n-1;if(n==0&&!this.isNoParse){let f=new $t;f.withParser(this),f.content=this.prepareLiteralContent(this.content),f.startPosition=this.positionFromOffset(0,0),f.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1),this.nodes.push(f)}else for(let f=0;f<n;f+=1){let m=this.antlersStartIndex[f];if(this.seedOffset=m,f==0&&m>0&&!this.isNoParse){let p=new $t;p.withParser(this),p.content=this.prepareLiteralContent(this.content.substr(0,m)),p.content.length>0&&(p.startPosition=this.positionFromOffset(0,0),p.endPosition=this.positionFromOffset(m,m-1),this.nodes.push(p))}if(m<this.lastAntlersEndIndex)continue;if(this.currentChunkOffset=m,this.resetIntermediateState(),this.parseIntermediateText(),this.lastAntlersNode!=null&&!(this.lastAntlersNode instanceof Ea)&&this.lastAntlersNode.isComment&&!(this.lastAntlersNode instanceof Ko)&&f+1<n){let p=this.antlersStartPositionIndex.get(f+1);if(this.lastAntlersNode.endPosition!=null&&p<this.lastAntlersNode.endPosition.offset){let d=null;for(let h=f+1;h<n;h++)if(this.antlersStartIndex[h]>this.lastAntlersNode.endPosition.offset){d=h;break}if(d==null){let h=this.prepareLiteralContent(this.content.substr(this.lastAntlersNode.endPosition.offset+1));if(h.length>0&&!this.isNoParse){let y=new $t;y.withParser(this),y.content=h;let b=this.lastAntlersNode.endPosition.offset+1;y.startPosition=this.positionFromOffset(b,b),y.endPosition=this.positionFromOffset(this.inputLen,this.inputLen),this.nodes.push(y)}break}else{let h=this.antlersStartIndex[d],y=h-this.lastAntlersNode.endPosition.offset-1;if(y>0){let b=this.lastAntlersNode.endPosition.offset,N=h-1;b+=1,N-=1;let _=this.content.substr(b,y);if(_.length>0&&!this.isNoParse){let w=new $t;w.withParser(this),w.content=_,w.startPosition=this.positionFromOffset(b,b),w.endPosition=this.positionFromOffset(N,N),this.nodes.push(w)}continue}f=d-1;continue}}}let g=!1;if(this.antlersStartPositionIndex.has(this.currentChunkOffset)?this.lastAntlersEndIndex<this.currentChunkOffset&&(g=!0):g=!0,g){if(f+1<n){let p=this.antlersStartIndex[f+1],d=this.lastAntlersEndIndex+1;if(p<d)if(this.lastAntlersEndIndex>p)f+2<n&&(p=this.antlersStartIndex[f+2]);else continue;if(f+1==r&&p<=this.lastAntlersEndIndex){if(this.isNoParse)break;let h=this.currentChunkOffset,y=this.content.substr(d),b=new $t;b.withParser(this),b.content=this.prepareLiteralContent(y),b.content.length>0&&(b.startPosition=this.positionFromOffset(h,h),b.endPosition=this.positionFromOffset(p,p-1),this.nodes.push(b));break}else{let h=p-this.lastAntlersEndIndex-1;if(h==0||this.isNoParse)continue;let b=this.currentChunkOffset;this.lastAntlersNode instanceof Ko&&(d=((l=(o=this.lastAntlersNode.endPosition)==null?void 0:o.offset)!=null?l:0)+1,h-=((c=(u=this.lastAntlersNode.endPosition)==null?void 0:u.offset)!=null?c:0)+1,b=d),this.lastAntlersNode instanceof Ea&&(d-=1,h+=1);let N=this.content.substr(d,h),_=new $t;_.withParser(this),_.content=this.prepareLiteralContent(N),_.content.length>0&&(_.startPosition=this.positionFromOffset(d,d),_.endPosition=this.positionFromOffset(p,p-1),this.nodes.push(_))}continue}if(f!==r&&this.lastAntlersNode!=null&&this.lastAntlersNode.endPosition!=null&&this.positionFromOffset(m,m).isBefore(this.lastAntlersNode.endPosition)){if(f+1<n){if(this.antlersStartIndex[f+1]<this.lastAntlersNode.endPosition.offset)continue}else if(f+1!=r)continue}if(f==r){let p=this.currentIndex+m;if(p<this.inputLen&&!this.isNoParse){let d=new $t;d.withParser(this),d.content=this.prepareLiteralContent(this.content.substr(p)),d.content.length>0&&(d.startPosition=this.positionFromOffset(p,p),d.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1),this.nodes.push(d));break}}}}let i=0;this.nodes.forEach(f=>{f.index=i,i+=1}),this.nodes.forEach(f=>{f instanceof Q&&f.isComment||f instanceof Q&&f.interpolationRegions.size>0&&(f.interpolationRegions.forEach((m,g)=>{let p=new ke;p.setIsInterpolatedParser(!0);let d=p.parse(m.parseContent);d.length>1&&d[1]instanceof Q&&(d=[d[1]]),p.hasUnclosedIfStructures()&&(this.doesHaveUncloseIfStructures=!0),p.hasUnclosedStructures()&&(this.doesHaveUnclosedStructures=!0),f.processedInterpolationRegions.set(g,d),this.mergeErrors(p.getAntlersErrors())}),f.hasProcessedInterpolationRegions=!0)});let s=new Jc;this.renderNodes=s.associate(this.nodes,this),this.nodes.forEach(f=>{if(f instanceof Q&&f.isClosingTag&&f.isOpenedBy==null){let m="Unpaired closing tag.";f.isInterpolationNode&&(m+=" Tag pairs are not supported within Antlers tags."),f.pushError(W.makeSyntaxError(P.TYPE_UNPAIRED_CLOSING_TAG,f,m))}}),bh.associateRecursiveParent(this.nodes),this.nodes.forEach(f=>{var m;if(!(f instanceof Q&&f.isComment)&&((f instanceof Q||f instanceof gt)&&(f.isInterpolationNode=this.isInterpolatedParser),(f instanceof Q||f instanceof gt)&&f.interpolationRegions.size>0&&f.runtimeNodes.forEach(g=>{g instanceof be&&f.interpolationRegions.has(g.name)&&(g.isInterpolationReference=!0,g.interpolationNodes=f.processedInterpolationRegions.get(g.name))}),(f instanceof Q||f instanceof gt)&&f.hasParameters&&f.interpolationRegions.size>0&&f.parameters.forEach(g=>{f.interpolationRegions.forEach((p,d)=>{g.value.includes(d)&&g.interpolations.push(d)})}),f instanceof Q&&f.runtimeNodes.length>0&&f.isClosingTag==!1&&!f.isComment&&(f.parsedRuntimeNodes=this.languageParser.parse(f.runtimeNodes),f.hasParsedRuntimeNodes=!0,!f.isTagNode&&f.parsedRuntimeNodes.length>0))){let g=f.nodeAtIndex(0);g!=null&&g instanceof be&&g.name==((m=f.name)==null?void 0:m.name)&&(f.modifierChain=g.modifierChain)}}),this.languageParser.getCreatedModifierChains().forEach(f=>{f.modifierChain.length>0&&f.modifierChain.forEach(m=>{var g,p;m.nameNode!=null&&Rt.instance!=null&&Rt.instance.hasModifier((g=m.nameNode)==null?void 0:g.name)&&(m.modifier=(p=Rt.instance)==null?void 0:p.getModifier(m.nameNode.name))})});let a=1;return this.nodes.forEach(f=>{var m,g;if(f instanceof Q){if(f.isComment)return;f.isTagNode=(g=(m=wt.instance)==null?void 0:m.isKnownTag(f.runtimeName()))!=null?g:!1,f.scopeName=f.findParameterValue("scope",""),f.antlersNodeIndex=a,a+=1,vh.analyzeModifierNodeParameters(f),Nh.validateParameters(f)}}),this.renderNodes}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let o=this.documentOffsets.get(e);i=o.line,s=o.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let o=null,l=null,u=null,c=null;for(let f of this.documentOffsets.keys()){if(f>=e){c!=null&&e>c?(o=u,l=c):(o=this.documentOffsets.get(f),l=f);break}u=this.documentOffsets.get(f),c=f}if(o==null&&(o=u,l=c),o!=null)if(r){let f=this.content.split(""),m=e-(l!=null?l:0),g=o.char-(l!=null?l:0)+e;s=m,i=o.line,e<=(l!=null?l:0)?(i=o.line,s=e+1):i=o.line+1}else{let f=this.content.split(""),m=e-(l!=null?l:0),g=o.char-(l!=null?l:0)+e;s=m,i=o.line,e<=(l!=null?l:0)?(i=o.line,s=e+1):i=o.line+1}else this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new ur;return a.index=n,a.offset=e,a.line=i,a.char=s,a}getLanguageParser(){return this.languageParser}getText(e,n){return this.content.substr(e,n-e)}getOriginalContent(){return this.originalContent}getContent(){return this.content}setIsInterpolatedParser(e){return this.isInterpolatedParser=e,this}setStartLineSeed(e){return this.seedStartLine=e,this}setSeedStartChar(e){return this.seedStartchar=e,this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.currentContent=[],this.sourceContent=[],this.cur=null,this.next=null,this.prev=null}resetState(){if(this.languageParser.reset(),this.charLen=0,this.antlersStartIndex=[],this.antlersErrors=[],this.pushedErrors.clear(),this.antlersStartPositionIndex.clear(),this.lastAntlersEndIndex=-1,this.renderNodes=[],this.nodes=[],vs.globalTagEnterStack.length>0){let e=vs.globalTagEnterStack[vs.length-1];e!=null&&e.endPosition!=null&&this.setStartLineSeed(e.endPosition.line)}this.seedOffset=0,this.isScanningInterpolations=!1,this.content="",this.chars=[],this.currentIndex=0,this.startIndex=0,this._recoveryStartIndex=0,this.cur=null,this.next=null,this.prev=null,this.inputLen=0,this.documentOffsets.clear(),this.isDoubleBrace=!1,this.interpolationRegions.clear(),this.interpolationEndOffsets.clear()}fetch(e){let n=this.currentChunkOffset+this.chunkSize-this.chars.length;return se.substring(this.content,n,e)}getParsedContent(){return this.content}peek(e){if(e==this.charLen){let n=se.split(se.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,n.forEach(r=>{this.chars.push(r),this.charLen+=1})}return this.chars[e]}parseIntermediateText(){for(this.currentContent=[],this.sourceContent=[],this.startIndex=0,this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length,this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==ke.LeftBrace&&this.next==ke.LeftBrace&&this.prev==ke.AtChar){this.dumpLiteralNode(this.currentIndex);let e=new di;e.withParser(this),e.name=new Bn,e.name.name="noparse",e.content="{{",e.startPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),e.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),this.nodes.push(e),this.currentContent=[],this.sourceContent=[],this.currentIndex+=1;continue}if((this.prev==null||this.prev!=null&&this.prev!=ke.AtChar)&&this.next!=null&&this.cur==ke.LeftBrace&&this.next==ke.LeftBrace){this.dumpLiteralNode(this.currentIndex);let e=null;if(this.currentIndex+2<this.inputLen&&(e=this.peek(this.currentIndex+2)),e==ke.Punctuation_Question&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(ke.Punctuation_Question),this.isDoubleBrace=!1;break}if(e==ke.Punctuation_Dollar&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(ke.Punctuation_Dollar),this.isDoubleBrace=!1;break}if(e==ke.Punctuation_Octothorp&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersCommentRegion(),this.isDoubleBrace=!1;break}if(!this.isNoParse)this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1;else if(this.fetch(11).replace(" ","").toLocaleLowerCase().startsWith("{{/noparse")){this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1,this.isNoParse=!1;break}else{this.currentContent.push(this.cur);continue}break}if(this.cur==ke.AtChar&&this.next!=null&&this.next==ke.LeftBrace){if(this.currentIndex+2>=this.inputLen){this.appendContent(this.next),this.dumpLiteralNode(this.currentIndex+1);break}let e=0;for(let n=this.currentIndex+1;n<this.inputLen&&this.chars[n]==ke.LeftBrace;n+=1)e+=1;this.currentContent=this.currentContent.concat(ke.LeftBrace.repeat(e).split("")),this.sourceContent=this.currentContent.concat(ke.LeftBrace.repeat(e).split("")),this.currentIndex+=e}this.appendContent(this.cur),this.next==null&&this.currentContent.length>0&&this.dumpLiteralNode(this.currentIndex)}}getRenderNodes(){return this.renderNodes}processInputText(e){var f;if(this.originalContent=e,this.content=se.normalizeLineEndings(e),this.inputLen=this.content.length,this.content.startsWith("---")){let m=this.content.split(`
`),g=[],p=[];p.push("");for(let d=1;d<m.length;d++){let h=m[d];if(h.startsWith("---")){p.push(""),p=p.concat(m.slice(d+1)),this.content=p.join(`
`),this.frontMatter=g.join(`
`),this.frontMatterEndLine=d+1;break}else g.push(h),p.push("")}}let n=[...this.content.matchAll(/(\n)/gm)],r=n.length,i=this.seedStartLine,s=null,a=0,o=0;for(let m=0;m<r;m++){let g=n[m],p=(f=g.index)!=null?f:0,d=p;s!=null?d=p-s:d=d+1,this.documentOffsets.set(p,{char:d,line:i});let h=0,y=0;m==0?(y=d-1,h=0):(h=o+1,y=p),this.lineIndex.set(i,{char:d,line:i,startIndex:h,endIndex:y}),this.lastDocumentOffsetKey=p,this.maxLine=i,i+=1,s=p,o=y,a=h}this.maxLine+=1;let l=[...this.content.matchAll(/@?{{/gm)],u=0,c=!1;return l.forEach(m=>{let g=m[0];if(g.startsWith(ke.AtChar)){u=this.content.indexOf(g,u)+2,c=!0;return}let p=this.content.indexOf(g,u);if(c&&u==p){u=p;return}this.antlersStartIndex.push(p),this.antlersStartPositionIndex.set(p,1),u=p+2,c=!1}),!0}prepareLiteralContent(e){return e.replace("@{{","{{")}scanToEndOfPhpRegion(e){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==e&&this.next!=null&&this.next==ke.RightBrace&&this.peek(this.currentIndex+2)==ke.RightBrace){let r=this.makeAntlersPhpNode(this.currentIndex,e==ke.Punctuation_Dollar);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.startIndex=this.currentIndex,this._recoveryStartIndex=this.startIndex,this.nodes.push(r),this.lastAntlersNode=r;break}if(this.appendContent(this.cur),this.next==null){let n=this.makeAntlersPhpFailedNode(this.currentIndex);this.nodes.push(n),this.lastAntlersNode=n,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(W.makeSyntaxError(P.TYPE_INCOMPLETE_PHP_EVALUATION_REGION,n,"Unexpected end of input while parsing Antlers PHP region."));break}}}appendContent(e){e!=null&&(this.currentContent.push(e),this.sourceContent.push(e))}scanToEndOfAntlersCommentRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==ke.Punctuation_Octothorp&&this.next!=null&&this.next==ke.RightBrace&&this.peek(this.currentIndex+2)==ke.RightBrace){let n=this.makeAntlersTagNode(this.currentIndex,!0);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.nodes.push(n),this.lastAntlersNode=n;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersCommentFailedNode(this.currentIndex);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(W.makeSyntaxError(P.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION,e,"Unexpected end of input while parsing Antlers comment region."));break}}}scanToEndOfInterpolatedRegion(){this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0);let e=[];this.isScanningInterpolations=!0;let n=0;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.checkCurrentOffsets(),this.cur==ke.LeftBrace){if(this.prev==ke.AtChar){e.push(this.cur);continue}n+=1,e.push(this.cur)}else if(this.cur==ke.RightBrace){if(this.prev==ke.AtChar){e.push(this.cur);continue}if(n-=1,e.push(this.cur),n==0){this.interpolationEndOffsets.set(this.currentIndex,1);break}}else this.cur!=null&&e.push(this.cur);let r=e.join(""),s=("int_"+Dv.Md5.hashStr(r)).substr(0,r.length),a=s.length,o=r.length;if(a<o){let l=o-a;s+="x".repeat(l)}return this.isScanningInterpolations=!1,{content:r,varContent:s}}bordersInterpolationRegion(e){if(this.interpolationEndOffsets.size==0)return!1;let n=e.offset-1;return n<=0?!1:this.interpolationEndOffsets.has(n)}getParseableContent(e){let n="";for(let r=0;r<=e;r++)this.content[r]==ke.LeftBrace||this.content[r]==ke.RightBrace?n+="~":n+=this.content[r];return n}scanToEndOfAntlersRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==ke.LeftBrace&&this.prev==ke.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.isInterpolatedParser&&this.cur==ke.RightBrace&&this.prev==ke.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.cur==ke.LeftBrace){let e=this.scanToEndOfInterpolatedRegion(),n=this.currentIndex+this.seedOffset,r=n-e.content.length,i=this.getParseableContent(r-1);vs.interpolatedVariables.push(e.varContent),this.currentContent=this.currentContent.concat(e.varContent.split("")),this.sourceContent=this.sourceContent.concat(e.content.split(""));let s=i+"{"+e.content+"}";this.interpolationRegions.set(e.varContent,{content:e.content,parseContent:s,varContent:e.varContent,startOffset:r,endOffset:n});continue}if(this.cur==ke.RightBrace&&this.next!=null&&this.next==ke.RightBrace){let e=this.makeAntlersTagNode(this.currentIndex,!1);e.name!=null&&e.name.name=="noparse"&&(this.isNoParse=!0),this.currentIndex+=2,this.nodes.push(e),this.lastAntlersNode=e;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersFailedNode(this.currentIndex,!1);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0;let n="Unexpected end of input while parsing Antlers region.";this.isScanningInterpolations&&(n="Unexpected end of input wihle parsing interpolated Antlers region."),this.antlersErrors.push(W.makeSyntaxError(P.TYPE_INCOMPLETE_ANTLERS_REGION,e,n));break}}}makeAntlersPhpNode(e,n){let r=new Ea;return n?(r.rawStart="{{$",r.rawEnd="$}}"):(r.rawStart="{{?",r.rawEnd="?}}"),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+3>this.inputLen?(r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(W.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r):(this.lastAntlersEndIndex=e+3+this.seedOffset,r.endPosition=this.positionFromOffset(e+this.seedOffset,e+3+this.seedOffset),r)}makeAntlersPhpFailedNode(e){let n=new Tp;n.rawStart="{{$",n.rawEnd="$}}",n._isEndVirtual=!0,n.content=this.currentContent.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let r=this.getLineText(n.startPosition.line),i=this.getLineIndex(n.startPosition.line);if(r!=null){let a=r.substr(this._recoveryStartIndex);n.content=a,n.sourceContent=a}let s=e+this.seedOffset;return i!=null&&(this.currentIndex=i.end,s=i.end),n.endPosition=this.positionFromOffset(s,s),n}makeAntlersCommentFailedNode(e){let n=new Ko;this.isDoubleBrace?(n.rawStart="{{",n.rawEnd="}}"):(n.rawStart="{",n.rawEnd="}"),n._isEndVirtual=!0;let r=!1,i=this.currentContent.length;i>0&&this.currentContent[i-1]==ke.Punctuation_ForwardSlash&&(this.currentContent.pop(),r=!0),n.isComment=!0,n.isSelfClosing=r,n.withParser(this),n.content=this.currentContent.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let s=this.getLineText(n.startPosition.line),a=this.getLineIndex(n.startPosition.line);if(s!=null){let l=s.substr(this._recoveryStartIndex);n.content=l,n.sourceContent=l}let o=e+this.seedOffset;return a!=null&&(this.currentIndex=a.end,o=a.end),n.endPosition=this.positionFromOffset(o,o),n.interpolationRegions=new Map,this.interpolationRegions.forEach((l,u)=>{n.content.includes(u)&&n.interpolationRegions.set(u,l)}),n}makeAntlersFailedNode(e,n){let r=new gt;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}"),r._isEndVirtual=!0;let i=!1,s=this.currentContent.length;s>0&&this.currentContent[s-1]==ke.Punctuation_ForwardSlash&&(this.currentContent.pop(),i=!0),r.isComment=n,r.isSelfClosing=i,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let a=this.getLineText(r.startPosition.line),o=this.getLineIndex(r.startPosition.line);if(a!=null){let c=se.trimLeft(this.content.substring(r.startPosition.offset+r.rawStart.length-1,o==null?void 0:o.end),"{");r.content=c,r.sourceContent=c}let l=e+this.seedOffset;o!=null&&(this.currentIndex=o.end,l=o.end),r.endPosition=this.positionFromOffset(l,l),r.interpolationRegions=new Map,this.interpolationRegions.forEach((c,f)=>{r.content.includes(f)&&r.interpolationRegions.set(f,c)});let u=this.nodeParser.parseNode(r);return this.mergeErrors(u.getErrors()),u}makeAntlersTagNode(e,n){let r=new Q;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}");let i=!1,s=this.currentContent.length;if(s>0&&this.currentContent[s-1]==ke.Punctuation_ForwardSlash&&(this.currentContent.pop(),i=!0),r.isInterpolationNode=this.isInterpolatedParser,r.isComment=n,r.isSelfClosing=i,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+2>this.inputLen)return r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(W.makeSyntaxError(P.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r;if(n?this.lastAntlersEndIndex=e+2+this.seedOffset:this.lastAntlersEndIndex=e+1+this.seedOffset,r.endPosition=this.positionFromOffset(this.lastAntlersEndIndex,this.lastAntlersEndIndex),r.interpolationRegions=new Map,this.interpolationRegions.forEach((o,l)=>{r.content.includes(l)&&r.interpolationRegions.set(l,o)}),r.isComment)return r;let a=this.nodeParser.parseNode(r);return this.mergeErrors(a.getErrors()),a}mergeErrors(e){e.forEach(n=>{this.antlersErrors.push(n)})}getNodes(){return this.nodes}antlersNodes(){return this.nodes.filter(function(e){return e instanceof Q})}dumpLiteralNode(e){this.isNoParse||(this.currentContent.length>0&&this.nodes.push(this.makeLiteralNode(this.currentContent,this.startIndex,e)),this.currentContent=[],this.sourceContent=[])}makeLiteralNode(e,n,r){let i=new $t;return i.content=e.join(""),i.sourceContent=this.sourceContent.join(""),i.startPosition=this.positionFromOffset(n,n),i.endPosition=this.positionFromOffset(r,r),i.withParser(this),i}addAntlersError(e){this.antlersErrors.push(e)}getAntlersErrors(){return this.antlersErrors}},L=ke;L.K_CHAR="char",L.K_LINE="line",L.NewLine=`
`,L.AtChar="@",L.LeftBrace="{",L.RightBrace="}",L.LeftBracket="[",L.RightBracket="]",L.String_EscapeCharacter="\\",L.String_Terminator_DoubleQuote='"',L.String_Terminator_SingleQuote="'",L.Punctuation_Question="?",L.Punctuation_Equals="=",L.Punctuation_Comma=",",L.Punctuation_Colon=":",L.Punctuation_Semicolon=";",L.Punctuation_Exclamation="!",L.Punctuation_Pipe="|",L.Punctuation_Ampersand="&",L.Punctuation_LessThan="<",L.Punctuation_GreaterThan=">",L.Punctuation_Octothorp="#",L.Punctuation_Tilde="~",L.Punctuation_FullStop=".",L.Punctuation_Dollar="$",L.Punctuation_Asterisk="*",L.Punctuation_Percent="%",L.Punctuation_Plus="+",L.Punctuation_Minus="-",L.Punctuation_Underscore="_",L.Punctuation_ForwardSlash="/",L.Punctuation_Caret="^",L.LeftParen="(",L.RightParent=")";var Ct=class{static findAssignmentNodes(e){let n=[];for(let r=0;r<e.length;r++)Ot.isAssignmentOperatorNode(e[r])&&n.push(e[r]);return n}static findAbstractNodesBefore(e,n){return this.findAbstractNodesBeforePosition(e.startPosition,n)}static findAbstractNodesBeforePosition(e,n){if(e==null)return[];let r=[];for(let i=0;i<n.length;i++){let s=n[i];if(s.startPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static isBefore(e,n){return e.startPosition==null?!1:e.startPosition.index<n.index}static isAfter(e,n){return e.startPosition==null?!1:e.startPosition.index>n.index}static findNodesBeforePosition(e,n){let r=[];if(e==null)return r;for(let i=0;i<n.length;i++){let s=n[i];if(!Ct.isLiteralType(s)&&s.startPosition!=null&&s.endPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static findNodesAfterPosition(e,n){let r=[];if(e==null)return r;for(let i=0;i<n.length;i++){let s=n[i];Ct.isLiteralType(s)||s.startPosition!=null&&s.startPosition.index>e.index&&r.push(s)}return r}static findNodeBeforePosition(e,n){if(e==null)return null;let r=null;for(let i=0;i<n.length;i++){let s=n[i];if(!Ct.isLiteralType(s)&&s.startPosition!=null){if(s.startPosition.index>e.index)break;r=s}}return r}static findNodeAfterPosition(e,n){if(e==null)return null;for(let r=0;r<n.length;r++){let i=n[r];if(!Ct.isLiteralType(i)&&i.startPosition!=null&&i.startPosition.index>e.index)return i}return null}static findNodeAtPosition(e,n){if(e==null)return null;for(let r=0;r<n.length;r++){let i=n[r];if(!Ct.isLiteralType(i)&&i.startPosition!=null&&i.endPosition!=null&&e.index>=i.startPosition.index&&e.index<=i.endPosition.index)return i}return null}static isLiteralType(e){return e instanceof di||e instanceof $t}};var El=class{static isModifierLeftOf(e,n){return El.isModifierLeftOfPosition(e.startPosition,n)}static isModifierLeftOfPosition(e,n){let r=Ct.findAbstractNodesBeforePosition(e,n);for(let i=r.length-1;i>=0;i--){let s=r[i];if(s instanceof en||s instanceof Ht)return!1;if(s instanceof Pn)return!0}return!1}};var Al=class{constructor(){this.isRightOfOperator=!1;this.isLeftOfOperator=!1}static resolveContext(e,n,r){let i=new Al;return r!=null&&(r.prev!=null&&Ot.isOperatorType(r.prev)&&(i.isRightOfOperator=!0),r.next!=null&&Ot.isOperatorType(r.next)&&(i.isLeftOfOperator=!0)),i}};var Ch=class{constructor(){this.inTagPart=!1;this.inMethodPart=!1}};var Sl=class{constructor(){this.modifierChain=null;this.activeModifier=null;this.name="";this.inModifierName=!1;this.inModifierParameter=!1;this.valueCount=0;this.activeValueIndex=-1;this.activeValue=null}static resolveContext(e,n,r,i){let s=n.getParser(),a=new Sl,o=s.getLanguageParser().getCreatedModifierChains(),l=null;for(let u=0;u<o.length;u++){let c=o[u];if(e.isWithin(c.startPosition,c.endPosition)){for(let f=0;f<c.modifierChain.length;f++){let m=c.modifierChain[f];if(e.isWithin(m.startPosition,m.endPosition)){l=m;break}}if(l!=null)break}}if(l==null&&r instanceof mn&&i.getDocumentParser().getLanguageParser().hasModifierConstruct(r)&&(l=i.getDocumentParser().getLanguageParser().getModifierConstruct(r)),l!=null)if(a.activeModifier=l,a.valueCount=l.valueNodes.length,l.nameNode!=null&&(a.name=l.nameNode.name),l.nameNode!=null&&e.isWithin(l.nameNode.startPosition,l.nameNode.endPosition,1))a.inModifierName=!0;else for(let u=0;u<l.valueNodes.length;u++){let c=l.valueNodes[u];if(e.isWithin(c.startPosition,c.endPosition,1)){a.activeValueIndex=u,a.inModifierParameter=!0,a.activeValue=c;break}}return a}};var Il=class{constructor(){this.parameter=null;this.isInName=!1;this.isInValue=!1}static resolveContext(e,n){let r=new Il;return r.parameter=n,e.isWithinRange(n.namePosition)?r.isInName=!0:e.isWithinRange(n.valuePosition)&&(r.isInValue=!0),r}};var Ph=class{constructor(){this.refId="";this.node=null;this.leftPunctuation=null;this.rightPunctuation=null;this.leftChar=null;this.rightChar=null;this.word=null;this.char=null;this.interpolatedContext=!1;this.leftWord=null;this.rightWord=null;this.isCursorInIdentifier=!1;this.root=null;this.identifierContext=null;this.position=null;this.feature=null;this.isInParameter=!1;this.subContext=null;this.parameterContext=null;this.modifierContext=null;this.generalContext=null;this.variableContext=null;this.cursorContext=Eh.Unknown;this.refId=ts()}},Eh=(a=>(a[a.Unknown=0]="Unknown",a[a.Variable=1]="Variable",a[a.Modifier=2]="Modifier",a[a.Parameter=3]="Parameter",a[a.General=4]="General",a[a.LanguageOperator=5]="LanguageOperator",a))(Eh||{});var Dl=class{constructor(){this.variableNode=null;this.varPathText=""}static resolveContext(e,n,r,i){var f;if(r==null)return null;let s=r,a=i.getDocumentParser().getLanguageParser(),o=new Dl,l=(f=i.wordAt(e))!=null?f:"";r instanceof At&&a.isMergedVariableComponent(r)==!1&&r.prev instanceof be&&(s=r.prev);let u="";if(a.isMergedVariableComponent(s)){let m=a.getMergedVariable(s);m.startPosition!=null&&(u=i.getText(m.startPosition.index,e.index).trim()),o.variableNode=m}else s instanceof be&&(o.variableNode=s,u=s.name,s.variableReference!=null&&(u=s.variableReference.normalizedReference));u.length>0&&(u=mt(u,"\\.",":"));let c=u.split(":");return l.trim().length>0&&c.pop(),u=c.join(":"),u.endsWith(":")&&(u=yp(u,":")),o.varPathText=u,o}};var $i=class{static resolveIdentifierContext(e,n){let r=new Ch;return n.nameMethodPartStartsOn!=null?e.char<n.nameMethodPartStartsOn.char?(r.inTagPart=!0,r.inMethodPart=!1):(r.inTagPart=!1,r.inMethodPart=!0):(r.inMethodPart=!1,r.inTagPart=!0),r}static resolveContext(e,n,r,i=!1,s=null){var a,o,l,u,c,f;if(n==null||e==null)return null;if(n instanceof Nn||n instanceof Q){let m=new Ph;if(n.nameStartsOn!=null&&e.line==n.nameStartsOn.line){let d=!1;e.char>=n.nameStartsOn.char&&(d=!0),n.nameEndsOn!=null&&e.char>n.nameEndsOn.char&&(d=!1),d&&(m.isCursorInIdentifier=!0,m.identifierContext=$i.resolveIdentifierContext(e,n))}n.addContext(m),s!=null&&s.addContext(m),m.interpolatedContext=i,m.node=n,m.position=e,m.root=s,m.leftPunctuation=r.punctuationLeftAt(e),m.rightPunctuation=r.punctuationRightAt(e),m.leftChar=r.charLeftAt(e),m.rightChar=r.charRightAt(e),m.word=r.wordAt(e),m.char=r.charAt(e),m.leftWord=r.wordLeftAt(e),m.rightWord=r.wordRightAt(e);let g=!1;if(n.parameters.length>0)for(let d=0;d<n.parameters.length;d++){let h=n.parameters[d];if(h.blockPosition!=null&&h.blockPosition.start!=null&&h.blockPosition.end!=null&&e.char>h.blockPosition.start.char&&e.char<=h.blockPosition.end.char+1&&e.line>=((l=(o=(a=h.namePosition)==null?void 0:a.start)==null?void 0:o.line)!=null?l:h.blockPosition.start.line)&&e.line<=((f=(c=(u=h.valuePosition)==null?void 0:u.end)==null?void 0:c.line)!=null?f:h.blockPosition.end.line)){m.cursorContext=3,m.parameterContext=Il.resolveContext(e,h),m.isInParameter=!0,m.feature=h,g=!0;break}}if(g||n.runtimeNodes.forEach(d=>{d.startPosition!=null&&d.endPosition!=null&&e.isWithin(d.startPosition,d.endPosition,1)&&(m.feature=d)}),g&&n.interpolationRegions.size>0){let d=Array.from(n.interpolationRegions,([h,y])=>y);for(let h=0;h<d.length;h++){let y=d[h];if(e.index>=y.startOffset&&e.index<=y.endOffset){let b=n.getInterpolationNode(y.varContent);return $i.resolveContext(e,b,r,!0,s)}}}return m.feature instanceof be&&m.feature.isInterpolationReference&&m.feature.parent!=null&&m.feature.parent instanceof Q&&m.feature.parent.processedInterpolationRegions.has(m.feature.name)?$i.resolveContext(e,m.feature.parent.getInterpolationNode(m.feature.name),r,!0,s):(El.isModifierLeftOfPosition(e,n.runtimeNodes)?(m.cursorContext=2,m.modifierContext=Sl.resolveContext(e,n,m.feature,r)):g||(m.cursorContext=4,m.generalContext=Al.resolveContext(e,n,m.feature)),m.variableContext=Dl.resolveContext(e,n,m.feature,r),m)}return null}};var ta=class{static isPairedNode(e){return e instanceof cr?!0:e instanceof Nn||e instanceof Q?e.isClosedBy!=null:!1}static findAncestorsBeforePosition(e,n){var o,l,u,c,f,m;let r=[],i=[],s=-1,a=-1;for(let g=0;g<n.length;g++){let p=n[g];if(p.isClosedBy!=null&&((o=p.isClosedBy.endPosition)==null?void 0:o.isBefore(e))&&(i.push(p),i.push(p.isClosedBy),s=p.isClosedBy.endPosition.line,a=p.isClosedBy.endPosition.char),!(s>-1&&p.endPosition!=null&&(p.endPosition.line<s||p.endPosition.line==s&&a>-1&&p.endPosition.char<a))){if(p.startPosition!=null){if(e.isBefore(p.startPosition))break;if(p.startPosition.line==e.line&&e.char<=p.startPosition.char){i.push(p);continue}}if(((l=wt.instance)==null?void 0:l.requiresClose(p))&&p.isClosedBy!=null){let d=p.isClosedBy;if((u=d.startPosition)==null?void 0:u.isBefore(e)){i.push(p),i.push(d);continue}else((c=d.startPosition)==null?void 0:c.line)==e.line&&((f=d.startPosition)==null?void 0:f.char)<e.char?i.push(p):r.push(p)}else if(p.parent!=null){let d=p.parent;if(i.includes(d)){i.push(p);continue}else((m=p.endPosition)==null?void 0:m.isBefore(e))?r.push(p):i.push(p)}else r.push(p)}}return r}};var Ah=class{constructor(e){this.doc=e}getAncestorsAt(e,n){let r=this.position(e,n);return r==null?[]:ta.findAncestorsBeforePosition(r,this.doc.getAllAntlersNodes())}getNameAt(e,n){let r=this.getNodeAt(e,n);return r instanceof Q?r.name:null}getScopeAt(e,n){let r=this.getNodeAt(e,n);return r instanceof Q&&r.currentScope!=null?r.currentScope:null}getFeaturesAt(e,n){let r=this.position(e,n),i=this.getNodeAt(e,n);return $i.resolveContext(r,i,this.doc,!1,i)}getNodeAt(e,n){return Ct.findNodeAtPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodeBefore(e,n){return Ct.findNodeBeforePosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodeAfter(e,n){return Ct.findNodeAfterPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodesBefore(e,n){return Ct.findNodesBeforePosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getAssignmentsBefore(e,n){let r=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),i=[],s=this.position(e,n);return s!=null&&r.forEach(a=>{Ct.isBefore(a.target,s)&&i.push(a)}),i}getAssignmentsAfter(e,n){let r=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),i=[],s=this.position(e,n);return s!=null&&r.forEach(a=>{Ct.isAfter(a.target,s)&&i.push(a)}),i}getNodesAfter(e,n){return Ct.findNodesAfterPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e,n){let r=this.getNodeBefore(e,n);return r==null?!1:ta.isPairedNode(r)}position(e,n){return this.doc.getDocumentParser().positionFromCursor(e,n)}charLeftAt(e,n){return this.doc.getDocumentParser().charLeftAtCursor(e,n)}charAt(e,n){return this.doc.getDocumentParser().charAtCursor(e,n)}charRightAt(e,n){return this.doc.getDocumentParser().charRightAtCursor(e,n)}wordLeftAt(e,n,r=4){return this.doc.getDocumentParser().wordLeftAtCursor(e,n,r)}wordRightAt(e,n,r=4){return this.doc.getDocumentParser().wordRightAtCursor(e,n,r)}wordAt(e,n,r=4){return this.doc.getDocumentParser().wordAtCursor(e,n,r)}punctuationLeftAt(e,n,r=4){return this.doc.getDocumentParser().punctuationLeftAtCursor(e,n,r)}punctuationRightAt(e,n,r=4){return this.doc.getDocumentParser().punctuationRightAtCursor(e,n,r)}};var Sh=class{constructor(e){this.doc=e}hasAny(){return this.all().length>0}all(){let e=[],n=[];return this.doc.getAllAntlersNodes().forEach(r=>{r.getErrors().forEach(i=>{e.includes(i.hash())==!1&&(e.push(i.hash()),n.push(i))})}),this.doc.getDocumentParser().getAntlersErrors().forEach(r=>{e.includes(r.hash())==!1&&(e.push(r.hash()),n.push(r))}),n}};var EN=Be(Uh());var Ln=Be(CN(),1),qZ=Ln.default.binaryOptions,BZ=Ln.default.boolOptions,VZ=Ln.default.intOptions,jZ=Ln.default.nullOptions,UZ=Ln.default.strOptions,WZ=Ln.default.Schema,GZ=Ln.default.Alias,YZ=Ln.default.Collection,HZ=Ln.default.Merge,$Z=Ln.default.Node,PN=Ln.default.Pair,kl=Ln.default.Scalar,ql=Ln.default.YAMLMap,So=Ln.default.YAMLSeq;var Wh=class{constructor(e){this.documentScope=null;this.project=e}getKeyValue(e){return e instanceof kl?e.value:""}getNodeValue(e){return e instanceof kl?e.value:e instanceof ql?this.analyzeDocument(e.items):e instanceof So?this.analyzeDocument(e.items):""}getScalarRuntimeType(e){return parseFloat(e).toString()==e||parseInt(e).toString()==e?"number":"string"}analyzeDocument(e){let n=new er(this.project);return e.forEach(r=>{if(r instanceof PN){let i=this.getKeyValue(r.key),s=this.getNodeValue(r.value);if(r.value instanceof kl)n.addVariable({dataType:this.getScalarRuntimeType(s),introducedBy:null,name:i,sourceField:null,sourceName:"*frontmatter"});else if(r.value instanceof So&&r.key instanceof kl){let a=new er(this.project);r.value.items.forEach(o=>{let l=this.getNodeValue(o);a.addVariable({dataType:this.getScalarRuntimeType(l),introducedBy:null,name:o.value,sourceField:null,sourceName:"*frontmatter"})}),n.addScopeList(r.key.value,a)}else n.addScopeList(i,s)}}),n}parse(e){let n=EN.parseDocument(e);try{n.contents instanceof ql&&(this.documentScope=this.analyzeDocument(n.contents.items))}catch{this.documentScope=null}}hasScope(){return this.documentScope!=null}getScope(){return this.documentScope}};var Gh=class{constructor(e){this.doc=e}getAncestors(e){return ta.findAncestorsBeforePosition(e,this.doc.getAllAntlersNodes())}getNodeAt(e){return Ct.findNodeAtPosition(e,this.doc.getDocumentParser().getNodes())}getNodesBefore(e){return Ct.findNodesBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeBefore(e){return Ct.findNodeBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeAfter(e){return Ct.findNodeAfterPosition(e,this.doc.getDocumentParser().getNodes())}getNodesAfter(e){return Ct.findNodesAfterPosition(e,this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e){let n=this.getNodeBefore(e);return n==null?!1:ta.isPairedNode(n)}filter(e){return this.doc.getDocumentParser().getNodes().filter(e)}getComments(){let e=[];return this.doc.getAllNodes().forEach(n=>{n instanceof Q&&n.isComment&&e.push(n)}),e}getMultilineNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{var r,i;n instanceof Q&&!n.isComment&&((r=n.startPosition)==null?void 0:r.line)!=((i=n.endPosition)==null?void 0:i.line)&&e.push(n)}),e}getMultiLineComments(){let e=[];return this.getComments().forEach(n=>{var r,i;((r=n.startPosition)==null?void 0:r.line)!=((i=n.endPosition)==null?void 0:i.line)&&e.push(n)}),e}getAllLiteralNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof $t||n instanceof di)&&e.push(n)}),e}getStructuralNodes(){let e=[];return this.doc.getDocumentParser().getRenderNodes().forEach(n=>{n instanceof Q?e.push(n):n instanceof cr&&n.logicBranches.length>0&&n.logicBranches.forEach(r=>{if(r.head!=null){let i=r.head;i.originalNode!=null?e.push(i.originalNode):e.push(i)}})}),e}getAllRuntimeNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof Nn||n instanceof Q)&&n.runtimeNodes.length>0&&n.runtimeNodes.forEach(r=>{e.push(r)})}),e}getAllParameterNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof Nn||n instanceof Q)&&n.hasParameters&&n.parameters.forEach(r=>{e.push(r)})}),e}getAssignmentNodes(){return Ct.findAssignmentNodes(this.getAllRuntimeNodes())}};var Yh=class{constructor(e){this.doc=e}getAllSelfClosingNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{n instanceof Q&&n.isSelfClosing&&e.push(n)}),e}getAllPairedNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof Q||n instanceof gt)&&n.isClosedBy!=null&&!n.isSelfClosing&&e.push(n)}),e}};var AN=Be(Uh());var Hh=class{constructor(){this.content="";this.ranges=[];this.lastDocumentOffsetKey=null;this.documentOffsets=new Map;this.lineIndex=new Map;this.keys=[];this.values=[];this.isValid=!1;this.parseError=null}loadString(e){var c;this.content=se.normalizeLineEndings(e);let n=null;try{n=AN.parseDocument(this.content),this.isValid=!0}catch(f){this.isValid=!1,this.parseError=f}if(n==null)return;let r=[...this.content.matchAll(/(\n)/gm)],i=r.length,s=2,a=null,o=0,l=0;for(let f=0;f<i;f++){let m=r[f],g=(c=m.index)!=null?c:0,p=g;a!=null?p=g-a:p=p+1,this.documentOffsets.set(g,{char:p,line:s});let d=0,h=0;f==0?(h=p-1,d=0):(d=l+1,h=g),this.lineIndex.set(s,{char:p,line:s,startIndex:d,endIndex:h}),this.lastDocumentOffsetKey=g,s+=1,a=g,l=h,o=d}let u=n.contents;this.processMap(u)}processMap(e){e.items.forEach(n=>{this.processItem(n)})}processItem(e){if(e.type=="PAIR"){if(e.value instanceof ql||e.value instanceof So){let s=e.key;if(s.range!=null){let a=this.positionFromOffset(s.range[0],s.range[0]),o=this.positionFromOffset(s.range[1],s.range[1]);this.ranges.push({start:a,end:o,length:o.char-a.char+1,content:"property"}),this.keys.push({start:a,end:o,length:o.char-a.char+1,content:s.value}),e.value instanceof So?this.processMap(e.value.items[0]):this.processMap(e.value);return}}let n=e,r=n.key,i=n.value;if(r.range!=null&&i.range!=null){let s=this.positionFromOffset(r.range[0],r.range[0]),a=this.positionFromOffset(r.range[1],r.range[1]),o=this.positionFromOffset(i.range[0],i.range[0]),l=this.positionFromOffset(i.range[1],i.range[1]),u="string";parseInt(i.value)==i.value&&(u="number"),this.ranges.push({start:s,end:a,length:a.char-s.char+1,content:"property"}),this.keys.push({start:s,end:a,length:a.char-s.char+1,content:r.value}),this.ranges.push({start:o,end:l,length:l.char-o.char+1,content:u}),this.values.push({start:o,end:l,length:l.char-o.char+1,content:i.value})}}}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let o=this.documentOffsets.get(e);i=o.line,s=o.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let o=null,l=null,u=null,c=null;for(let f of this.documentOffsets.keys()){if(f>=e){c!=null&&e>c?(o=u,l=c):(o=this.documentOffsets.get(f),l=f);break}u=this.documentOffsets.get(f),c=f}if(o==null&&(o=u,l=c),o!=null)if(r){let f=this.content.split(""),m=e-(l!=null?l:0),g=o.char-(l!=null?l:0)+e;s=m,i=o.line,e<=(l!=null?l:0)?(i=o.line,s=e+1):i=o.line+1}else{let f=this.content.split(""),m=e-(l!=null?l:0),g=o.char-(l!=null?l:0)+e;s=m,i=o.line,e<=(l!=null?l:0)?(i=o.line,s=e+1):i=o.line+1}else this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new ur;return a.index=n,a.offset=e,a.line=i,a.char=s,a}getRanges(){return this.ranges}getKeys(){return this.keys}getValues(){return this.values}};var Gi=class{constructor(){this.documentParser=new L;this.ranges=new Yh(this);this.nodes=new Gh(this);this.cursor=new Ah(this);this.errors=new Sh(this);this.project=null;this.documentUri=""}static fromText(e,n){let r=new Gi;return typeof n!="undefined"&&(r.project=n),r.loadString(e)}isValid(){return!(this.hasInvalidControlFlowStructures()||this.hasUnclosedStructures())}getDocumentOptions(){let e=this.getAllNodes();if(e.length==0||!(e[0]instanceof Q))return null;let n=e[0];return n.isComment==!1?null:Go(this.documentUri,n)}isFormattingEnabled(){let e=this.getDocumentOptions();return e==null?!0:e.formatterEnabled}hasInvalidControlFlowStructures(){return this.documentParser.hasUnclosedIfStructures()}hasUnclosedStructures(){return this.documentParser.hasUnclosedStructures()}getFrontMatterDoc(){if(this.hasFrontMatter()){let e=new Hh;return e.loadString(this.getFrontMatter()),e}return null}hasFrontMatter(){return this.documentParser.getFrontMatter().trim().length>0}getFrontMatter(){return this.documentParser.getFrontMatter()}getFrontMatterScope(){if(this.project==null)return null;let e=new Wh(this.project);return e.parse(this.getFrontMatter()),e.getScope()}updateProject(e){this.project=e,this.updateProjectDetails()}updateProjectDetails(){try{if(this.project!=null){let e=new fh(this.project,this.documentUri,this),n=this.documentParser.antlersNodes();n.forEach(r=>{var i,s;if(this.project!=null&&((i=wt.instance)==null?void 0:i.canResolveSpecialTypes(r.getTagName()))){let a=(s=wt.instance)==null?void 0:s.resolveSpecialType(r.getTagName(),r,this.project);a.context!=null&&(r.reference=a.context)}}),e.analyzeScope(n);for(let r=0;r<n.length;r++){let i=n[r];if(i.hasParameters)for(let s=0;s<i.parameters.length;s++){let a=i.parameters[s];if(a.hasInterpolations())for(let o=0;o<a.interpolations.length;o++){let l=a.interpolations[o];i.processedInterpolationRegions.has(l)&&i.processedInterpolationRegions.get(l).forEach(c=>{c instanceof Q&&(c.currentScope=i.currentScope)})}}}IT(this)}}catch(e){console.log(e)}}loadString(e){return this.documentParser.parse(e),this.updateProjectDetails(),this}getDocumentParser(){return this.documentParser}getParsedContent(){return this.documentParser.getParsedContent()}getAllNodes(){return this.documentParser.getNodes()}getAllAntlersNodes(){return this.documentParser.antlersNodes()}extractText(){let e=[];return this.nodes.getAllLiteralNodes().forEach(n=>{e.push(n.content)}),e.join("")}getNameAt(e){let n=this.nodes.getNodeAt(e);return n instanceof Q?n.name:null}getContent(){return this.documentParser.getContent()}getOriginalContent(){return this.documentParser.getOriginalContent()}getFeaturesAt(e){let n=this.nodes.getNodeAt(e);return $i.resolveContext(e,n,this,!1,n)}getText(e,n){return this.documentParser.getText(e,n)}charLeftAt(e){return this.documentParser.charLeftAt(e)}charAt(e){return this.documentParser.charAt(e)}charRightAt(e){return this.documentParser.charRightAt(e)}getLineIndex(e){return this.documentParser.getLineIndex(e)}getLineText(e){return this.documentParser.getLineText(e)}wordAt(e,n=4){return this.documentParser.wordAt(e,n)}wordLeftAt(e,n=4){return this.documentParser.wordLeftAt(e,n)}wordRightAt(e,n=4){return this.documentParser.wordRightAt(e,n)}punctuationLeftAt(e,n=4){return this.documentParser.punctuationLeftAt(e,n)}punctuationRightAt(e,n=4){return this.documentParser.punctuationRightAt(e,n)}getLineChars(e){let n=this.getLineText(e);return n!=null?n.split(""):null}};var hL={checkNode(t){var i;let e=[];if(t.isClosedBy==null||t.parent==null||!(t.parent instanceof Q))return e;let n=t.parent;if(n.isClosedBy==null)return e;let r=t.runtimeName();return r=="if"||r=="if:index"||r=="else"||r=="else:index"||r=="elseif"||r=="elseif:index"||r=="elseunless"||r=="elseunless:index"||((i=n.isClosedBy.startPosition)==null?void 0:i.isBefore(t.isClosedBy.endPosition))&&(e.push(W.makeSyntaxError(P.LINT_INTERLEAVED_TAG_PAIRS,t,"Closing tag cannot appear after parent closing tag.")),e.push(W.makeSyntaxError(P.LINT_INTERLEAVED_TAG_PAIRS,t.isClosedBy,"Closing tag cannot appear after parent closing tag."))),e}},SN=hL;function IN(t){return typeof t=="undefined"||t===null}function mL(t){return typeof t=="object"&&t!==null}function gL(t){return Array.isArray(t)?t:IN(t)?[]:[t]}function _L(t,e){var n,r,i,s;if(e)for(s=Object.keys(e),n=0,r=s.length;n<r;n+=1)i=s[n],t[i]=e[i];return t}function yL(t,e){var n="",r;for(r=0;r<e;r+=1)n+=t;return n}function bL(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var TL=IN,vL=mL,NL=gL,CL=yL,PL=bL,EL=_L,Xt={isNothing:TL,isObject:vL,toArray:NL,repeat:CL,isNegativeZero:PL,extend:EL};function DN(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),r+" "+n):r}function Bl(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=DN(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Bl.prototype=Object.create(Error.prototype);Bl.prototype.constructor=Bl;Bl.prototype.toString=function(e){return this.name+": "+DN(this,e)};var jn=Bl;function $h(t,e,n,r,i){var s="",a="",o=Math.floor(i/2)-1;return r-e>o&&(s=" ... ",e=r-o+s.length),n-r>o&&(a=" ...",n=r+o-a.length),{str:s+t.slice(e,n).replace(/\t/g,"\u2192")+a,pos:r-e+s.length}}function Kh(t,e){return Xt.repeat(" ",e-t.length)+t}function AL(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],s,a=-1;s=n.exec(t.buffer);)i.push(s.index),r.push(s.index+s[0].length),t.position<=s.index&&a<0&&(a=r.length-2);a<0&&(a=r.length-1);var o="",l,u,c=Math.min(t.line+e.linesAfter,i.length).toString().length,f=e.maxLength-(e.indent+c+3);for(l=1;l<=e.linesBefore&&!(a-l<0);l++)u=$h(t.buffer,r[a-l],i[a-l],t.position-(r[a]-r[a-l]),f),o=Xt.repeat(" ",e.indent)+Kh((t.line-l+1).toString(),c)+" | "+u.str+`
`+o;for(u=$h(t.buffer,r[a],i[a],t.position,f),o+=Xt.repeat(" ",e.indent)+Kh((t.line+1).toString(),c)+" | "+u.str+`
`,o+=Xt.repeat("-",e.indent+c+3+u.pos)+`^
`,l=1;l<=e.linesAfter&&!(a+l>=i.length);l++)u=$h(t.buffer,r[a+l],i[a+l],t.position-(r[a]-r[a+l]),f),o+=Xt.repeat(" ",e.indent)+Kh((t.line+l+1).toString(),c)+" | "+u.str+`
`;return o.replace(/\n$/,"")}var SL=AL,IL=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],DL=["scalar","sequence","mapping"];function RL(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(r){e[String(r)]=n})}),e}function xL(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(IL.indexOf(n)===-1)throw new jn('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=RL(e.styleAliases||null),DL.indexOf(this.kind)===-1)throw new jn('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var yn=xL;function RN(t,e){var n=[];return t[e].forEach(function(r){var i=n.length;n.forEach(function(s,a){s.tag===r.tag&&s.kind===r.kind&&s.multi===r.multi&&(i=a)}),n[i]=r}),n}function wL(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function r(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(r);return t}function zh(t){return this.extend(t)}zh.prototype.extend=function(e){var n=[],r=[];if(e instanceof yn)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new jn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof yn))throw new jn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new jn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new jn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(s){if(!(s instanceof yn))throw new jn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(zh.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=RN(i,"implicit"),i.compiledExplicit=RN(i,"explicit"),i.compiledTypeMap=wL(i.compiledImplicit,i.compiledExplicit),i};var OL=zh,LL=new yn("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),FL=new yn("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),ML=new yn("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),kL=new OL({explicit:[LL,FL,ML]});function qL(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function BL(){return null}function VL(t){return t===null}var jL=new yn("tag:yaml.org,2002:null",{kind:"scalar",resolve:qL,construct:BL,predicate:VL,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function UL(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function WL(t){return t==="true"||t==="True"||t==="TRUE"}function GL(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var YL=new yn("tag:yaml.org,2002:bool",{kind:"scalar",resolve:UL,construct:WL,predicate:GL,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function HL(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function $L(t){return 48<=t&&t<=55}function KL(t){return 48<=t&&t<=57}function zL(t){if(t===null)return!1;var e=t.length,n=0,r=!1,i;if(!e)return!1;if(i=t[n],(i==="-"||i==="+")&&(i=t[++n]),i==="0"){if(n+1===e)return!0;if(i=t[++n],i==="b"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!HL(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!$L(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<e;n++)if(i=t[n],i!=="_"){if(!KL(t.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function XL(t){var e=t,n=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function QL(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Xt.isNegativeZero(t)}var JL=new yn("tag:yaml.org,2002:int",{kind:"scalar",resolve:zL,construct:XL,predicate:QL,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),ZL=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function eF(t){return!(t===null||!ZL.test(t)||t[t.length-1]==="_")}function tF(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}var nF=/^[-+]?[0-9]+e/;function rF(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Xt.isNegativeZero(t))return"-0.0";return n=t.toString(10),nF.test(n)?n.replace("e",".e"):n}function iF(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Xt.isNegativeZero(t))}var sF=new yn("tag:yaml.org,2002:float",{kind:"scalar",resolve:eF,construct:tF,predicate:iF,represent:rF,defaultStyle:"lowercase"}),aF=kL.extend({implicit:[jL,YL,JL,sF]}),oF=aF,xN=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),wN=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function lF(t){return t===null?!1:xN.exec(t)!==null||wN.exec(t)!==null}function uF(t){var e,n,r,i,s,a,o,l=0,u=null,c,f,m;if(e=xN.exec(t),e===null&&(e=wN.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(s=+e[4],a=+e[5],o=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(c=+e[10],f=+(e[11]||0),u=(c*60+f)*6e4,e[9]==="-"&&(u=-u)),m=new Date(Date.UTC(n,r,i,s,a,o,l)),u&&m.setTime(m.getTime()-u),m}function cF(t){return t.toISOString()}var fF=new yn("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:lF,construct:uF,instanceOf:Date,represent:cF});function pF(t){return t==="<<"||t===null}var dF=new yn("tag:yaml.org,2002:merge",{kind:"scalar",resolve:pF}),Xh=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function hF(t){if(t===null)return!1;var e,n,r=0,i=t.length,s=Xh;for(n=0;n<i;n++)if(e=s.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}function mF(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,s=Xh,a=0,o=[];for(e=0;e<i;e++)e%4===0&&e&&(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)),a=a<<6|s.indexOf(r.charAt(e));return n=i%4*6,n===0?(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)):n===18?(o.push(a>>10&255),o.push(a>>2&255)):n===12&&o.push(a>>4&255),new Uint8Array(o)}function gF(t){var e="",n=0,r,i,s=t.length,a=Xh;for(r=0;r<s;r++)r%3===0&&r&&(e+=a[n>>18&63],e+=a[n>>12&63],e+=a[n>>6&63],e+=a[n&63]),n=(n<<8)+t[r];return i=s%3,i===0?(e+=a[n>>18&63],e+=a[n>>12&63],e+=a[n>>6&63],e+=a[n&63]):i===2?(e+=a[n>>10&63],e+=a[n>>4&63],e+=a[n<<2&63],e+=a[64]):i===1&&(e+=a[n>>2&63],e+=a[n<<4&63],e+=a[64],e+=a[64]),e}function _F(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var yF=new yn("tag:yaml.org,2002:binary",{kind:"scalar",resolve:hF,construct:mF,predicate:_F,represent:gF}),bF=Object.prototype.hasOwnProperty,TF=Object.prototype.toString;function vF(t){if(t===null)return!0;var e=[],n,r,i,s,a,o=t;for(n=0,r=o.length;n<r;n+=1){if(i=o[n],a=!1,TF.call(i)!=="[object Object]")return!1;for(s in i)if(bF.call(i,s))if(!a)a=!0;else return!1;if(!a)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function NF(t){return t!==null?t:[]}var CF=new yn("tag:yaml.org,2002:omap",{kind:"sequence",resolve:vF,construct:NF}),PF=Object.prototype.toString;function EF(t){if(t===null)return!0;var e,n,r,i,s,a=t;for(s=new Array(a.length),e=0,n=a.length;e<n;e+=1){if(r=a[e],PF.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;s[e]=[i[0],r[i[0]]]}return!0}function AF(t){if(t===null)return[];var e,n,r,i,s,a=t;for(s=new Array(a.length),e=0,n=a.length;e<n;e+=1)r=a[e],i=Object.keys(r),s[e]=[i[0],r[i[0]]];return s}var SF=new yn("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:EF,construct:AF}),IF=Object.prototype.hasOwnProperty;function DF(t){if(t===null)return!0;var e,n=t;for(e in n)if(IF.call(n,e)&&n[e]!==null)return!1;return!0}function RF(t){return t!==null?t:{}}var xF=new yn("tag:yaml.org,2002:set",{kind:"mapping",resolve:DF,construct:RF}),ON=oF.extend({implicit:[fF,dF],explicit:[yF,CF,SF,xF]}),Ss=Object.prototype.hasOwnProperty,Nf=1,LN=2,FN=3,Cf=4,Qh=1,wF=2,MN=3,OF=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,LF=/[\x85\u2028\u2029]/,FF=/[,\[\]\{\}]/,kN=/^(?:!|!!|![a-z\-]+!)$/i,qN=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function BN(t){return Object.prototype.toString.call(t)}function Pi(t){return t===10||t===13}function ua(t){return t===9||t===32}function Un(t){return t===9||t===32||t===10||t===13}function Io(t){return t===44||t===91||t===93||t===123||t===125}function MF(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function kF(t){return t===120?2:t===117?4:t===85?8:0}function qF(t){return 48<=t&&t<=57?t-48:-1}function VN(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function BF(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var jN=new Array(256),UN=new Array(256);for(ca=0;ca<256;ca++)jN[ca]=VN(ca)?1:0,UN[ca]=VN(ca);var ca;function VF(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||ON,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function WN(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=SL(n),new jn(e,n)}function _e(t,e){throw WN(t,e)}function Pf(t,e){t.onWarning&&t.onWarning.call(null,WN(t,e))}var GN={YAML:function(e,n,r){var i,s,a;e.version!==null&&_e(e,"duplication of %YAML directive"),r.length!==1&&_e(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&_e(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),a=parseInt(i[2],10),s!==1&&_e(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=a<2,a!==1&&a!==2&&Pf(e,"unsupported YAML version of the document")},TAG:function(e,n,r){var i,s;r.length!==2&&_e(e,"TAG directive accepts exactly two arguments"),i=r[0],s=r[1],kN.test(i)||_e(e,"ill-formed tag handle (first argument) of the TAG directive"),Ss.call(e.tagMap,i)&&_e(e,'there is a previously declared suffix for "'+i+'" tag handle'),qN.test(s)||_e(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{_e(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s}};function Is(t,e,n,r){var i,s,a,o;if(e<n){if(o=t.input.slice(e,n),r)for(i=0,s=o.length;i<s;i+=1)a=o.charCodeAt(i),a===9||32<=a&&a<=1114111||_e(t,"expected valid JSON character");else OF.test(o)&&_e(t,"the stream contains non-printable characters");t.result+=o}}function YN(t,e,n,r){var i,s,a,o;for(Xt.isObject(n)||_e(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),a=0,o=i.length;a<o;a+=1)s=i[a],Ss.call(e,s)||(e[s]=n[s],r[s]=!0)}function Do(t,e,n,r,i,s,a,o,l){var u,c;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,c=i.length;u<c;u+=1)Array.isArray(i[u])&&_e(t,"nested arrays are not supported inside keys"),typeof i=="object"&&BN(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&BN(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,c=s.length;u<c;u+=1)YN(t,e,s[u],n);else YN(t,e,s,n);else!t.json&&!Ss.call(n,i)&&Ss.call(e,i)&&(t.line=a||t.line,t.lineStart=o||t.lineStart,t.position=l||t.position,_e(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[i]=s,delete n[i];return e}function Jh(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):_e(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function Wt(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);i!==0;){for(;ua(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(Pi(i))for(Jh(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return n!==-1&&r!==0&&t.lineIndent<n&&Pf(t,"deficient indentation"),r}function Ef(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||Un(n)))}function Zh(t,e){e===1?t.result+=" ":e>1&&(t.result+=Xt.repeat(`
`,e-1))}function jF(t,e,n){var r,i,s,a,o,l,u,c,f=t.kind,m=t.result,g;if(g=t.input.charCodeAt(t.position),Un(g)||Io(g)||g===35||g===38||g===42||g===33||g===124||g===62||g===39||g===34||g===37||g===64||g===96||(g===63||g===45)&&(i=t.input.charCodeAt(t.position+1),Un(i)||n&&Io(i)))return!1;for(t.kind="scalar",t.result="",s=a=t.position,o=!1;g!==0;){if(g===58){if(i=t.input.charCodeAt(t.position+1),Un(i)||n&&Io(i))break}else if(g===35){if(r=t.input.charCodeAt(t.position-1),Un(r))break}else{if(t.position===t.lineStart&&Ef(t)||n&&Io(g))break;if(Pi(g))if(l=t.line,u=t.lineStart,c=t.lineIndent,Wt(t,!1,-1),t.lineIndent>=e){o=!0,g=t.input.charCodeAt(t.position);continue}else{t.position=a,t.line=l,t.lineStart=u,t.lineIndent=c;break}}o&&(Is(t,s,a,!1),Zh(t,t.line-l),s=a=t.position,o=!1),ua(g)||(a=t.position+1),g=t.input.charCodeAt(++t.position)}return Is(t,s,a,!1),t.result?!0:(t.kind=f,t.result=m,!1)}function UF(t,e){var n,r,i;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(Is(t,r,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)r=t.position,t.position++,i=t.position;else return!0;else Pi(n)?(Is(t,r,i,!0),Zh(t,Wt(t,!1,e)),r=i=t.position):t.position===t.lineStart&&Ef(t)?_e(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);_e(t,"unexpected end of the stream within a single quoted scalar")}function WF(t,e){var n,r,i,s,a,o;if(o=t.input.charCodeAt(t.position),o!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;(o=t.input.charCodeAt(t.position))!==0;){if(o===34)return Is(t,n,t.position,!0),t.position++,!0;if(o===92){if(Is(t,n,t.position,!0),o=t.input.charCodeAt(++t.position),Pi(o))Wt(t,!1,e);else if(o<256&&jN[o])t.result+=UN[o],t.position++;else if((a=kF(o))>0){for(i=a,s=0;i>0;i--)o=t.input.charCodeAt(++t.position),(a=MF(o))>=0?s=(s<<4)+a:_e(t,"expected hexadecimal character");t.result+=BF(s),t.position++}else _e(t,"unknown escape sequence");n=r=t.position}else Pi(o)?(Is(t,n,r,!0),Zh(t,Wt(t,!1,e)),n=r=t.position):t.position===t.lineStart&&Ef(t)?_e(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}_e(t,"unexpected end of the stream within a double quoted scalar")}function GF(t,e){var n=!0,r,i,s,a=t.tag,o,l=t.anchor,u,c,f,m,g,p=Object.create(null),d,h,y,b;if(b=t.input.charCodeAt(t.position),b===91)c=93,g=!1,o=[];else if(b===123)c=125,g=!0,o={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),b=t.input.charCodeAt(++t.position);b!==0;){if(Wt(t,!0,e),b=t.input.charCodeAt(t.position),b===c)return t.position++,t.tag=a,t.anchor=l,t.kind=g?"mapping":"sequence",t.result=o,!0;n?b===44&&_e(t,"expected the node content, but found ','"):_e(t,"missed comma between flow collection entries"),h=d=y=null,f=m=!1,b===63&&(u=t.input.charCodeAt(t.position+1),Un(u)&&(f=m=!0,t.position++,Wt(t,!0,e))),r=t.line,i=t.lineStart,s=t.position,Ro(t,e,Nf,!1,!0),h=t.tag,d=t.result,Wt(t,!0,e),b=t.input.charCodeAt(t.position),(m||t.line===r)&&b===58&&(f=!0,b=t.input.charCodeAt(++t.position),Wt(t,!0,e),Ro(t,e,Nf,!1,!0),y=t.result),g?Do(t,o,p,h,d,y,r,i,s):f?o.push(Do(t,null,p,h,d,y,r,i,s)):o.push(d),Wt(t,!0,e),b=t.input.charCodeAt(t.position),b===44?(n=!0,b=t.input.charCodeAt(++t.position)):n=!1}_e(t,"unexpected end of the stream within a flow collection")}function YF(t,e){var n,r,i=Qh,s=!1,a=!1,o=e,l=0,u=!1,c,f;if(f=t.input.charCodeAt(t.position),f===124)r=!1;else if(f===62)r=!0;else return!1;for(t.kind="scalar",t.result="";f!==0;)if(f=t.input.charCodeAt(++t.position),f===43||f===45)Qh===i?i=f===43?MN:wF:_e(t,"repeat of a chomping mode identifier");else if((c=qF(f))>=0)c===0?_e(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?_e(t,"repeat of an indentation width identifier"):(o=e+c-1,a=!0);else break;if(ua(f)){do f=t.input.charCodeAt(++t.position);while(ua(f));if(f===35)do f=t.input.charCodeAt(++t.position);while(!Pi(f)&&f!==0)}for(;f!==0;){for(Jh(t),t.lineIndent=0,f=t.input.charCodeAt(t.position);(!a||t.lineIndent<o)&&f===32;)t.lineIndent++,f=t.input.charCodeAt(++t.position);if(!a&&t.lineIndent>o&&(o=t.lineIndent),Pi(f)){l++;continue}if(t.lineIndent<o){i===MN?t.result+=Xt.repeat(`
`,s?1+l:l):i===Qh&&s&&(t.result+=`
`);break}for(r?ua(f)?(u=!0,t.result+=Xt.repeat(`
`,s?1+l:l)):u?(u=!1,t.result+=Xt.repeat(`
`,l+1)):l===0?s&&(t.result+=" "):t.result+=Xt.repeat(`
`,l):t.result+=Xt.repeat(`
`,s?1+l:l),s=!0,a=!0,l=0,n=t.position;!Pi(f)&&f!==0;)f=t.input.charCodeAt(++t.position);Is(t,n,t.position,!1)}return!0}function HN(t,e){var n,r=t.tag,i=t.anchor,s=[],a,o=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,_e(t,"tab characters must not be used in indentation")),!(l!==45||(a=t.input.charCodeAt(t.position+1),!Un(a))));){if(o=!0,t.position++,Wt(t,!0,-1)&&t.lineIndent<=e){s.push(null),l=t.input.charCodeAt(t.position);continue}if(n=t.line,Ro(t,e,FN,!1,!0),s.push(t.result),Wt(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&l!==0)_e(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return o?(t.tag=r,t.anchor=i,t.kind="sequence",t.result=s,!0):!1}function HF(t,e,n){var r,i,s,a,o,l,u=t.tag,c=t.anchor,f={},m=Object.create(null),g=null,p=null,d=null,h=!1,y=!1,b;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=f),b=t.input.charCodeAt(t.position);b!==0;){if(!h&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,_e(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),s=t.line,(b===63||b===58)&&Un(r))b===63?(h&&(Do(t,f,m,g,p,null,a,o,l),g=p=d=null),y=!0,h=!0,i=!0):h?(h=!1,i=!0):_e(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,b=r;else{if(a=t.line,o=t.lineStart,l=t.position,!Ro(t,n,LN,!1,!0))break;if(t.line===s){for(b=t.input.charCodeAt(t.position);ua(b);)b=t.input.charCodeAt(++t.position);if(b===58)b=t.input.charCodeAt(++t.position),Un(b)||_e(t,"a whitespace character is expected after the key-value separator within a block mapping"),h&&(Do(t,f,m,g,p,null,a,o,l),g=p=d=null),y=!0,h=!1,i=!1,g=t.tag,p=t.result;else if(y)_e(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=u,t.anchor=c,!0}else if(y)_e(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=u,t.anchor=c,!0}if((t.line===s||t.lineIndent>e)&&(h&&(a=t.line,o=t.lineStart,l=t.position),Ro(t,e,Cf,!0,i)&&(h?p=t.result:d=t.result),h||(Do(t,f,m,g,p,d,a,o,l),g=p=d=null),Wt(t,!0,-1),b=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&b!==0)_e(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return h&&Do(t,f,m,g,p,null,a,o,l),y&&(t.tag=u,t.anchor=c,t.kind="mapping",t.result=f),y}function $F(t){var e,n=!1,r=!1,i,s,a;if(a=t.input.charCodeAt(t.position),a!==33)return!1;if(t.tag!==null&&_e(t,"duplication of a tag property"),a=t.input.charCodeAt(++t.position),a===60?(n=!0,a=t.input.charCodeAt(++t.position)):a===33?(r=!0,i="!!",a=t.input.charCodeAt(++t.position)):i="!",e=t.position,n){do a=t.input.charCodeAt(++t.position);while(a!==0&&a!==62);t.position<t.length?(s=t.input.slice(e,t.position),a=t.input.charCodeAt(++t.position)):_e(t,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!Un(a);)a===33&&(r?_e(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),kN.test(i)||_e(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),a=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),FF.test(s)&&_e(t,"tag suffix cannot contain flow indicator characters")}s&&!qN.test(s)&&_e(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{_e(t,"tag name is malformed: "+s)}return n?t.tag=s:Ss.call(t.tagMap,i)?t.tag=t.tagMap[i]+s:i==="!"?t.tag="!"+s:i==="!!"?t.tag="tag:yaml.org,2002:"+s:_e(t,'undeclared tag handle "'+i+'"'),!0}function KF(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&_e(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!Un(n)&&!Io(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&_e(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function zF(t){var e,n,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!Un(r)&&!Io(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&_e(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),Ss.call(t.anchorMap,n)||_e(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],Wt(t,!0,-1),!0}function Ro(t,e,n,r,i){var s,a,o,l=1,u=!1,c=!1,f,m,g,p,d,h;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=a=o=Cf===n||FN===n,r&&Wt(t,!0,-1)&&(u=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;$F(t)||KF(t);)Wt(t,!0,-1)?(u=!0,o=s,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):o=!1;if(o&&(o=u||i),(l===1||Cf===n)&&(Nf===n||LN===n?d=e:d=e+1,h=t.position-t.lineStart,l===1?o&&(HN(t,h)||HF(t,h,d))||GF(t,d)?c=!0:(a&&YF(t,d)||UF(t,d)||WF(t,d)?c=!0:zF(t)?(c=!0,(t.tag!==null||t.anchor!==null)&&_e(t,"alias node should not have any properties")):jF(t,d,Nf===n)&&(c=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(c=o&&HN(t,h))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&_e(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),f=0,m=t.implicitTypes.length;f<m;f+=1)if(p=t.implicitTypes[f],p.resolve(t.result)){t.result=p.construct(t.result),t.tag=p.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Ss.call(t.typeMap[t.kind||"fallback"],t.tag))p=t.typeMap[t.kind||"fallback"][t.tag];else for(p=null,g=t.typeMap.multi[t.kind||"fallback"],f=0,m=g.length;f<m;f+=1)if(t.tag.slice(0,g[f].tag.length)===g[f].tag){p=g[f];break}p||_e(t,"unknown tag !<"+t.tag+">"),t.result!==null&&p.kind!==t.kind&&_e(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+p.kind+'", not "'+t.kind+'"'),p.resolve(t.result,t.tag)?(t.result=p.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):_e(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||c}function XF(t){var e=t.position,n,r,i,s=!1,a;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(a=t.input.charCodeAt(t.position))!==0&&(Wt(t,!0,-1),a=t.input.charCodeAt(t.position),!(t.lineIndent>0||a!==37));){for(s=!0,a=t.input.charCodeAt(++t.position),n=t.position;a!==0&&!Un(a);)a=t.input.charCodeAt(++t.position);for(r=t.input.slice(n,t.position),i=[],r.length<1&&_e(t,"directive name must not be less than one character in length");a!==0;){for(;ua(a);)a=t.input.charCodeAt(++t.position);if(a===35){do a=t.input.charCodeAt(++t.position);while(a!==0&&!Pi(a));break}if(Pi(a))break;for(n=t.position;a!==0&&!Un(a);)a=t.input.charCodeAt(++t.position);i.push(t.input.slice(n,t.position))}a!==0&&Jh(t),Ss.call(GN,r)?GN[r](t,r,i):Pf(t,'unknown document directive "'+r+'"')}if(Wt(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,Wt(t,!0,-1)):s&&_e(t,"directives end mark is expected"),Ro(t,t.lineIndent-1,Cf,!1,!0),Wt(t,!0,-1),t.checkLineBreaks&&LF.test(t.input.slice(e,t.position))&&Pf(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Ef(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,Wt(t,!0,-1));return}if(t.position<t.length-1)_e(t,"end of the stream or a document separator is expected");else return}function $N(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new VF(t,e),r=t.indexOf("\0");for(r!==-1&&(n.position=r,_e(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)XF(n);return n.documents}function QF(t,e,n){e!==null&&typeof e=="object"&&typeof n=="undefined"&&(n=e,e=null);var r=$N(t,n);if(typeof e!="function")return r;for(var i=0,s=r.length;i<s;i+=1)e(r[i])}function JF(t,e){var n=$N(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new jn("expected a single document in the stream, but found more")}}var ZF=QF,eM=JF,KN={loadAll:ZF,load:eM},zN=Object.prototype.toString,XN=Object.prototype.hasOwnProperty,em=65279,tM=9,Vl=10,nM=13,rM=32,iM=33,sM=34,tm=35,aM=37,oM=38,lM=39,uM=42,QN=44,cM=45,Af=58,fM=61,pM=62,dM=63,hM=64,JN=91,ZN=93,mM=96,eC=123,gM=124,tC=125,bn={};bn[0]="\\0";bn[7]="\\a";bn[8]="\\b";bn[9]="\\t";bn[10]="\\n";bn[11]="\\v";bn[12]="\\f";bn[13]="\\r";bn[27]="\\e";bn[34]='\\"';bn[92]="\\\\";bn[133]="\\N";bn[160]="\\_";bn[8232]="\\L";bn[8233]="\\P";var _M=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],yM=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function bM(t,e){var n,r,i,s,a,o,l;if(e===null)return{};for(n={},r=Object.keys(e),i=0,s=r.length;i<s;i+=1)a=r[i],o=String(e[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),l=t.compiledTypeMap.fallback[a],l&&XN.call(l.styleAliases,o)&&(o=l.styleAliases[o]),n[a]=o;return n}function TM(t){var e,n,r;if(e=t.toString(16).toUpperCase(),t<=255)n="x",r=2;else if(t<=65535)n="u",r=4;else if(t<=4294967295)n="U",r=8;else throw new jn("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+Xt.repeat("0",r-e.length)+e}var vM=1,jl=2;function NM(t){this.schema=t.schema||ON,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=Xt.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=bM(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?jl:vM,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function nC(t,e){for(var n=Xt.repeat(" ",e),r=0,i=-1,s="",a,o=t.length;r<o;)i=t.indexOf(`
`,r),i===-1?(a=t.slice(r),r=o):(a=t.slice(r,i+1),r=i+1),a.length&&a!==`
`&&(s+=n),s+=a;return s}function nm(t,e){return`
`+Xt.repeat(" ",t.indent*e)}function CM(t,e){var n,r,i;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(i=t.implicitTypes[n],i.resolve(e))return!0;return!1}function Sf(t){return t===rM||t===tM}function Ul(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==em||65536<=t&&t<=1114111}function rC(t){return Ul(t)&&t!==em&&t!==nM&&t!==Vl}function iC(t,e,n){var r=rC(t),i=r&&!Sf(t);return(n?r:r&&t!==QN&&t!==JN&&t!==ZN&&t!==eC&&t!==tC)&&t!==tm&&!(e===Af&&!i)||rC(e)&&!Sf(e)&&t===tm||e===Af&&i}function PM(t){return Ul(t)&&t!==em&&!Sf(t)&&t!==cM&&t!==dM&&t!==Af&&t!==QN&&t!==JN&&t!==ZN&&t!==eC&&t!==tC&&t!==tm&&t!==oM&&t!==uM&&t!==iM&&t!==gM&&t!==fM&&t!==pM&&t!==lM&&t!==sM&&t!==aM&&t!==hM&&t!==mM}function EM(t){return!Sf(t)&&t!==Af}function Wl(t,e){var n=t.charCodeAt(e),r;return n>=55296&&n<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function sC(t){var e=/^\n* /;return e.test(t)}var aC=1,rm=2,oC=3,lC=4,xo=5;function AM(t,e,n,r,i,s,a,o){var l,u=0,c=null,f=!1,m=!1,g=r!==-1,p=-1,d=PM(Wl(t,0))&&EM(Wl(t,t.length-1));if(e||a)for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=Wl(t,l),!Ul(u))return xo;d=d&&iC(u,c,o),c=u}else{for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=Wl(t,l),u===Vl)f=!0,g&&(m=m||l-p-1>r&&t[p+1]!==" ",p=l);else if(!Ul(u))return xo;d=d&&iC(u,c,o),c=u}m=m||g&&l-p-1>r&&t[p+1]!==" "}return!f&&!m?d&&!a&&!i(t)?aC:s===jl?xo:rm:n>9&&sC(t)?xo:a?s===jl?xo:rm:m?lC:oC}function SM(t,e,n,r,i){t.dump=function(){if(e.length===0)return t.quotingType===jl?'""':"''";if(!t.noCompatMode&&(_M.indexOf(e)!==-1||yM.test(e)))return t.quotingType===jl?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,n),a=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),o=r||t.flowLevel>-1&&n>=t.flowLevel;function l(u){return CM(t,u)}switch(AM(e,o,t.indent,a,l,t.quotingType,t.forceQuotes&&!r,i)){case aC:return e;case rm:return"'"+e.replace(/'/g,"''")+"'";case oC:return"|"+uC(e,t.indent)+cC(nC(e,s));case lC:return">"+uC(e,t.indent)+cC(nC(IM(e,a),s));case xo:return'"'+DM(e)+'"';default:throw new jn("impossible error: invalid scalar style")}}()}function uC(t,e){var n=sC(t)?String(e):"",r=t[t.length-1]===`
`,i=r&&(t[t.length-2]===`
`||t===`
`),s=i?"+":r?"":"-";return n+s+`
`}function cC(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function IM(t,e){for(var n=/(\n+)([^\n]*)/g,r=function(){var u=t.indexOf(`
`);return u=u!==-1?u:t.length,n.lastIndex=u,fC(t.slice(0,u),e)}(),i=t[0]===`
`||t[0]===" ",s,a;a=n.exec(t);){var o=a[1],l=a[2];s=l[0]===" ",r+=o+(!i&&!s&&l!==""?`
`:"")+fC(l,e),i=s}return r}function fC(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,r,i=0,s,a=0,o=0,l="";r=n.exec(t);)o=r.index,o-i>e&&(s=a>i?a:o,l+=`
`+t.slice(i,s),i=s+1),a=o;return l+=`
`,t.length-i>e&&a>i?l+=t.slice(i,a)+`
`+t.slice(a+1):l+=t.slice(i),l.slice(1)}function DM(t){for(var e="",n=0,r,i=0;i<t.length;n>=65536?i+=2:i++)n=Wl(t,i),r=bn[n],!r&&Ul(n)?(e+=t[i],n>=65536&&(e+=t[i+1])):e+=r||TM(n);return e}function RM(t,e,n){var r="",i=t.tag,s,a,o;for(s=0,a=n.length;s<a;s+=1)o=n[s],t.replacer&&(o=t.replacer.call(n,String(s),o)),(zi(t,e,o,!1,!1)||typeof o=="undefined"&&zi(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=i,t.dump="["+r+"]"}function pC(t,e,n,r){var i="",s=t.tag,a,o,l;for(a=0,o=n.length;a<o;a+=1)l=n[a],t.replacer&&(l=t.replacer.call(n,String(a),l)),(zi(t,e+1,l,!0,!0,!1,!0)||typeof l=="undefined"&&zi(t,e+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=nm(t,e)),t.dump&&Vl===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=s,t.dump=i||"[]"}function xM(t,e,n){var r="",i=t.tag,s=Object.keys(n),a,o,l,u,c;for(a=0,o=s.length;a<o;a+=1)c="",r!==""&&(c+=", "),t.condenseFlow&&(c+='"'),l=s[a],u=n[l],t.replacer&&(u=t.replacer.call(n,l,u)),!!zi(t,e,l,!1,!1)&&(t.dump.length>1024&&(c+="? "),c+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),!!zi(t,e,u,!1,!1)&&(c+=t.dump,r+=c));t.tag=i,t.dump="{"+r+"}"}function wM(t,e,n,r){var i="",s=t.tag,a=Object.keys(n),o,l,u,c,f,m;if(t.sortKeys===!0)a.sort();else if(typeof t.sortKeys=="function")a.sort(t.sortKeys);else if(t.sortKeys)throw new jn("sortKeys must be a boolean or a function");for(o=0,l=a.length;o<l;o+=1)m="",(!r||i!=="")&&(m+=nm(t,e)),u=a[o],c=n[u],t.replacer&&(c=t.replacer.call(n,u,c)),!!zi(t,e+1,u,!0,!0,!0)&&(f=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,f&&(t.dump&&Vl===t.dump.charCodeAt(0)?m+="?":m+="? "),m+=t.dump,f&&(m+=nm(t,e)),!!zi(t,e+1,c,!0,f)&&(t.dump&&Vl===t.dump.charCodeAt(0)?m+=":":m+=": ",m+=t.dump,i+=m));t.tag=s,t.dump=i||"{}"}function dC(t,e,n){var r,i,s,a,o,l;for(i=n?t.explicitTypes:t.implicitTypes,s=0,a=i.length;s<a;s+=1)if(o=i[s],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof e=="object"&&e instanceof o.instanceOf)&&(!o.predicate||o.predicate(e))){if(n?o.multi&&o.representName?t.tag=o.representName(e):t.tag=o.tag:t.tag="?",o.represent){if(l=t.styleMap[o.tag]||o.defaultStyle,zN.call(o.represent)==="[object Function]")r=o.represent(e,l);else if(XN.call(o.represent,l))r=o.represent[l](e,l);else throw new jn("!<"+o.tag+'> tag resolver accepts not "'+l+'" style');t.dump=r}return!0}return!1}function zi(t,e,n,r,i,s,a){t.tag=null,t.dump=n,dC(t,n,!1)||dC(t,n,!0);var o=zN.call(t.dump),l=r,u;r&&(r=t.flowLevel<0||t.flowLevel>e);var c=o==="[object Object]"||o==="[object Array]",f,m;if(c&&(f=t.duplicates.indexOf(n),m=f!==-1),(t.tag!==null&&t.tag!=="?"||m||t.indent!==2&&e>0)&&(i=!1),m&&t.usedDuplicates[f])t.dump="*ref_"+f;else{if(c&&m&&!t.usedDuplicates[f]&&(t.usedDuplicates[f]=!0),o==="[object Object]")r&&Object.keys(t.dump).length!==0?(wM(t,e,t.dump,i),m&&(t.dump="&ref_"+f+t.dump)):(xM(t,e,t.dump),m&&(t.dump="&ref_"+f+" "+t.dump));else if(o==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!a&&e>0?pC(t,e-1,t.dump,i):pC(t,e,t.dump,i),m&&(t.dump="&ref_"+f+t.dump)):(RM(t,e,t.dump),m&&(t.dump="&ref_"+f+" "+t.dump));else if(o==="[object String]")t.tag!=="?"&&SM(t,t.dump,e,s,l);else{if(o==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new jn("unacceptable kind of an object to dump "+o)}t.tag!==null&&t.tag!=="?"&&(u=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",t.dump=u+" "+t.dump)}return!0}function OM(t,e){var n=[],r=[],i,s;for(im(t,n,r),i=0,s=r.length;i<s;i+=1)e.duplicates.push(n[r[i]]);e.usedDuplicates=new Array(s)}function im(t,e,n){var r,i,s;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(e.push(t),Array.isArray(t))for(i=0,s=t.length;i<s;i+=1)im(t[i],e,n);else for(r=Object.keys(t),i=0,s=r.length;i<s;i+=1)im(t[r[i]],e,n)}function LM(t,e){e=e||{};var n=new NM(e);n.noRefs||OM(t,n);var r=t;return n.replacer&&(r=n.replacer.call({"":r},"",r)),zi(n,0,r,!0,!0)?n.dump+`
`:""}var FM=LM,MM={dump:FM};function sm(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var hC=KN.load,Lee=KN.loadAll,mC=MM.dump;var Fee=sm("safeLoad","load"),Mee=sm("safeLoadAll","loadAll"),kee=sm("safeDump","dump");var am=class{static formatFrontMatter(e){try{let n=hC(e,{}),r=mC(n,{indent:2,noArrayIndent:!1,condenseFlow:!1,forceQuotes:!0,noRefs:!0,skipInvalid:!0});return r.endsWith(`
`)&&(r=r.trimEnd()),r}catch{return e}}};function rr(t,e,n){if(t&&t.hasOwnProperty(e)){let r=t[e];if(r!==null)return r}return n}function gC(t,e,n){let r=rr(t,e,null);return typeof r=="string"?r.length>0?r.split(",").map(i=>i.trim().toLowerCase()):[]:n}var If=class{static frontMatterBlock(e){return`---
`+e+`
---

`}};var jk=_P().html;var yP=class{constructor(e,n,r){this.buffer="";this.closeString="";this.relativeIndentSize=0;this.indentSeed=0;this.baseIndent=n,e.isInterpolationNode?(this.buffer="{",this.closeString="}"):(this.buffer="{{ ",e.isSelfClosing?this.closeString=" /}}":this.closeString=" }}"),r!=null&&r.trim().length>0&&(this.buffer+=r+" ")}setIndentSeed(e){return this.indentSeed=e,this}close(){return this.closeString==" }}"?this.buffer.endsWith(" ")?this.buffer+="}}":this.buffer+=this.closeString:this.buffer+=this.closeString,this}appendT(e){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer+=e,this}appendTS(e){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer.endsWith("{")&&(e=e.trimStart()),this.buffer+=e,this}append(e){return this.buffer+=e,this}appendOS(e){return this.buffer.endsWith(" ")==!1&&this.buffer.endsWith("(")==!1&&this.buffer.endsWith("{")==!1&&this.buffer.endsWith("[")==!1&&this.buffer.endsWith(":")==!1&&(this.buffer+=" "),this.append(e)}appendS(e){let n="";return this.buffer.endsWith(" ")==!1&&(n+=" "),n+=e+" ",this.buffer+=n,this}indent(){let e=this.baseIndent;return e==0?e=1:e+=2,this.relativeIndentSize>0&&(e+=this.relativeIndentSize),this.buffer+=" ".repeat(e),this}addIndent(e){return e<=0?this:(this.buffer+=" ".repeat(e),this)}paramS(e){let n=" ";return e.isVariableReference&&(n+=":"),n+=e.name+"="+e.nameDelimiter+e.value+e.nameDelimiter,this.append(n),this}replace(e,n){return this.buffer=mt(this.buffer,e,n),this}relativeIndent(e){let n=this.buffer.split(`
`);if(n.length==0)return this;let r=n[n.length-1].trimEnd();return r.endsWith("(")&&(r=r.slice(0,-1)),r.endsWith(e)==!1?this:(this.relativeIndentSize=r.lastIndexOf(e),this)}newlineIndent(){return this.newLine(),this.indent(),this}newlineNDIndent(){return this.buffer=this.buffer.trimEnd(),this.newLine(),this.indent(),this}newLine(){return this.buffer+=`
`,this}getContent(){return this.buffer}endsWith(e){return this.buffer.endsWith(e)}},Bf=class{constructor(e){this.antlersRegions=new Map;this.conditionRegions=new Map;this.commentRegions=new Map;this.noParseRegions=new Map;this.antlersSingleNodes=new Map;this.pruneList=[];this.chopList=[];this.commentCount=0;this.safeReplacements=new Map;this.formatOptions=e}tabIndent(){let e=this.formatOptions.tabSize;return e<=0&&(e=4)," ".repeat(e)}printComment(e){let n=e.getContent().trim();if(n.includes(`
`)){let r=`{{#
`;return n.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`).forEach(s=>{r+=this.tabIndent()+s.trim()+`
`}),r+="#}}",r}return"{{# "+n+" #}}"}prettyPrintNode(e,n,r,i,s){var u,c,f,m,g,p,d;if(e.isComment)return this.printComment(e);let a=e.getTrueRuntimeNodes(),o=0,l=0;if(a.length>0){let h=new yP(e,r,i);s!=null&&h.setIndentSeed(s);let y=null;for(let N=0;N<a.length;N++){let _=a[N];if(y!=null&&((u=_.endPosition)==null?void 0:u.isBefore(y.startPosition)))continue;let w=!1;if(_ instanceof Ht?!(_.next instanceof Ht)&&_.next!=null&&(!Ot.isOperatorType(_.next)||!Ot.isAssignmentOperator(_.next))&&!(_.next instanceof un)&&!(_.next instanceof At)&&!_.isSwitchGroupMember&&!Ot.isOperatorType(_.next)&&(w=!0,_.next instanceof be&&_.next.name=="as"&&(w=!1)):!((c=_.prev)==null?void 0:c.isVirtual)&&((f=_.prev)==null?void 0:f.isVirtualGroupOperatorResolve)&&_.prev.producesVirtualStatementTerminator&&_.next!=null&&(_.prev instanceof be||h.newlineIndent()),_ instanceof be){if(_.convertedToOperator){if(_.name=="arr")h.appendT(" arr");else if(_.name=="switch"||_.name=="list")if(h.appendTS(" "+_.name),N+1<a.length){if(!(a[N+1]instanceof en))break;h.append("("),_.name!="list"&&h.relativeIndent(_.name).newLine().indent(),N+=1,y=a[N+1];continue}else break;else l+=1,l>1?h.newlineNDIndent().indent().addIndent(6).appendS(_.name):h.appendS(_.name);y=_;continue}_.mergeRefName!=null&&_.mergeRefName.trim().length>0&&_.mergeRefName!=_.name?h.append(_.mergeRefName.trim()):_.name=="as"?h.appendOS("as"):h.append(_.name.trim())}else if(_ instanceof Kr)if(h.appendTS(" list"),N+1<a.length){if(!(a[N+1]instanceof en))break;h.append("("),N+=1,y=a[N+1];continue}else break;else if(_ instanceof Pn)h.appendS("|");else if(_ instanceof At){if(y!=null&&((m=_.startPosition)==null?void 0:m.isBefore(y.endPosition))||_.next instanceof be&&_.next.mergeRefName.startsWith(":"))continue;if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(_)){h.endsWith(":")||h.append(":");continue}if(_.prev!=null&&_.next!=null&&lt.distance(_.prev,_)<=1&&lt.distance(_.next,_)<=1){h.append(":"),y=_;continue}if(n.getDocumentParser().getLanguageParser().isActualModifierSeparator(_)){h.append(":"),y=_;continue}if(y instanceof mn||y instanceof Kt){h.append(":"),y=_;continue}h.appendS(":")}else if(_ instanceof mn)h.append(_.name);else if(_ instanceof Hr)h.appendS("?");else if(_ instanceof En){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(_))continue;if(_.isTenaryBranchSeparator){h.appendS(":"),y=_;continue}if(n.getDocumentParser().getLanguageParser().isActualModifierSeparator(_)){h.append(":"),y=_;continue}h.append(":")}else if(_ instanceof Kt)h.append(_.value.trim());else if(_ instanceof en)h.append("(");else if(_ instanceof Ht)h.append(")");else if(_ instanceof St){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(_))continue;if(_.startPosition!=null&&_.endPosition!=null){let te=n.getText(_.startPosition.index,_.endPosition.index+1);h.appendOS(te)}else h.appendOS(_.sourceTerminator+_.value+_.sourceTerminator)}else if(_ instanceof xt)_.isSwitchGroupMember?h.append(",").newlineIndent():h.append(", ");else if(_ instanceof qt){if(y=_,n.getDocumentParser().getLanguageParser().isMergedVariableComponent(_))continue;let te=(p=(g=_.value)==null?void 0:g.toString())!=null?p:"";_.rawLexContent!=null&&_.rawLexContent.trim().length>0&&(te=_.rawLexContent.trim()),h.append(te)}else if(_ instanceof Kn)h.appendS("=");else if(_ instanceof An)h.appendS("=>");else if(_ instanceof Yn)h.appendS("+");else if(_ instanceof Cn){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(_)){h.append("-");continue}if(_.prev!=null&&_.next!=null&&lt.distance(_.prev,_)<=1&&lt.distance(_.next,_)<=1){_.next instanceof qt&&_.prev instanceof qt?h.appendS("-"):h.append("-"),y=_;continue}h.appendS("-")}else if(_ instanceof $n)h.appendS("*");else if(_ instanceof Hn){if(y=_,(d=_.startPosition)==null?void 0:d.isBefore(e.nameEndsOn)){h.append("/");continue}if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(_))continue;h.appendS("/");continue}else _ instanceof un?_.isListGroupMember?(h.append(";").newlineIndent().indent().addIndent(7),N+1<a.length&&!(a[N+1]instanceof Ht)&&h.indent()):(o+=1,o<this.formatOptions.maxStatementsPerLine?h.appendT("; "):(h.appendT(";").newlineIndent(),o=0)):_ instanceof cn?_.content=="not"?h.appendS("not"):h.append("!"):h.appendS(_.rawContent());w&&h.newlineIndent(),y=_}e.hasParameters&&e.parameters.forEach(N=>{h.paramS(N)}),h.close();let b=h.getContent();return e.processedInterpolationRegions.size>0&&e.processedInterpolationRegions.forEach((N,_)=>{let w=this.formatDocumentNodes(N,n);b=mt(b,_,w)}),b}return e.getTrueRawContent()}replaceDocumentsNodes(e,n){return n.forEach(r=>{if(!(r instanceof Fn||r instanceof Nn))if(r instanceof Q){if(r.name!=null&&r.name.name=="noparse"){let i="__ANTLR_NOPARSE"+r.refId;this.noParseRegions.set(i,r),e=mt(e,r.getNodeDocumentText(),i)}else if(r.isComment){this.commentCount+=1;let i="__ANTLR_COMMENT"+this.commentCount.toString()+"C";this.commentRegions.set(i,r),e=mt(e,r.getNodeDocumentText(),i)}else if(r.isSelfClosing||r.isClosedBy==null){let i="__ANTLR_"+r.refId;e=mt(e,r.getNodeDocumentText(),i),this.antlersSingleNodes.set(i,r)}}else r instanceof cr&&r.logicBranches.forEach(i=>{e=this.replaceDocumentsNodes(e,i.nodes)})}),e}isAllLiterals(e){for(let n=0;n<e.length;n++)if(!(e[n]instanceof $t))return!1;return!0}formatDocumentNodes(e,n){var u;let r="",i=(u=gC(this.formatOptions.htmlOptions,"unformatted",[]))!=null?u:[],s=[],a=new Map;e.forEach(c=>{var f,m;if(c instanceof $t)c.startPosition!=null&&c.endPosition!=null?r+=n.getText(c.startPosition.index,c.endPosition.index+1):r+=c.rawContent();else if(c instanceof Q){if(c.name!=null&&c.name.name=="noparse"){let g="__ANTLR_NOPARSE"+c.refId;this.noParseRegions.set(g,c),r+=g}else if(c.isComment){this.commentCount+=1;let g="__ANTLR_COMMENT"+this.commentCount.toString()+"C";this.commentRegions.set(g,c),r+=g}else if(c.isSelfClosing||c.isClosedBy==null){let g="__ANTLR_"+c.refId;r+=g,a.set(g,c)}else if(c.children.length>0){let g=c.children;g.pop();let p=this.formatDocumentNodes(g,n);if(p.startsWith("{{")&&p.endsWith("}}")){let y="__ANTLERS_PRESERVE_"+mt(ts(),"-","_");this.safeReplacements.set(y,p),p=y}let d="<ANTLR_"+c.refId+">",h="</ANTLR_"+c.refId+">";this.antlersRegions.set(d,c),r+=d+`
`+p+`
`+h}}else if(c instanceof cr)for(let g=0;g<c.logicBranches.length;g++){let p=c.logicBranches[g];if(p.head==null)continue;let d=p.head.children;d.pop();let h=this.formatDocumentNodes(d,n),y=this.replaceDocumentsNodes(h,c.logicBranches[g].nodes),b="<ANTLER_COND"+p.head.refId+">",N="</ANTLER_COND"+p.head.refId+">";this.conditionRegions.set(b,p.head);let _=h.toLocaleLowerCase();if(_.includes("<script")||_.includes("<style")){let w=!1;c.logicBranches[g].nodes.length>0&&((f=c.logicBranches[g].nodes[c.logicBranches[g].nodes.length-1].startPosition)==null?void 0:f.line)!=((m=c.logicBranches[g].endPosition)==null?void 0:m.line)&&(w=!0),this.isAllLiterals(c.logicBranches[g].nodes)||w?r+=b+y.trim()+N:r+=b+`
`+y.trim()+`
`+N}else r+=b+h+N}}),r=mt(r,"<{{ as","<ANTLER_COMMON_ALIAS"),r=mt(r,"</{{ as","</ANTLER_COMMON_ALIAS");let o=jk(r,{indent_size:this.formatOptions.tabSize,indent_char:this.formatOptions.insertSpaces?" ":"	",indent_empty_lines:rr(this.formatOptions.htmlOptions,"indentEmptyLines",!1),wrap_line_length:rr(this.formatOptions.htmlOptions,"wrapLineLength",120),unformatted:i,content_unformatted:s,indent_inner_html:rr(this.formatOptions.htmlOptions,"indentInnerHtml",!1),preserve_newlines:rr(this.formatOptions.htmlOptions,"preserveNewLines",!0),max_preserve_newlines:rr(this.formatOptions.htmlOptions,"maxPreserveNewLines",32786),indent_handlebars:rr(this.formatOptions.htmlOptions,"indentHandlebars",!1),end_with_newline:rr(this.formatOptions.htmlOptions,"endWithNewline",!1),extra_liners:[],wrap_attributes:rr(this.formatOptions.htmlOptions,"wrapAttributes","auto"),wrap_attributes_indent_size:rr(this.formatOptions.htmlOptions,"wrapAttributesIndentSize",void 0),eol:`
`,indent_scripts:rr(this.formatOptions.htmlOptions,"indentScripts","normal"),unformatted_content_delimiter:rr(this.formatOptions.htmlOptions,"unformattedContentDelimiter","")}),l=o.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`);return a.forEach((c,f)=>{let m=this.getIndent(f,l),g=this.prettyPrintNode(c,n,m,null,c.getDepthCount());o=mt(o,f,g)}),this.antlersSingleNodes.forEach((c,f)=>{let m=this.getIndent(f,l),g=this.prettyPrintNode(c,n,m,null,c.getDepthCount());o=mt(o,f,g)}),o=mt(o,"<ANTLER_COMMON_ALIAS","<{{ as"),o=mt(o,"</ANTLER_COMMON_ALIAS","</{{ as"),o}getIndent(e,n){for(let r=0;r<n.length;r++){let i=n[r];if(i.includes(e)){let s=i.indexOf(e);if(s>=0)return s+1}}return 0}static applyPositionsFromDocument(e,n){let r=e.getAllAntlersNodes(),i=n.getAllAntlersNodes();if(r.length==i.length)for(let s=0;s<r.length;s++){let a=r[s],o=i[s];if(o.startPosition=a.startPosition,o.endPosition=a.endPosition,o.runtimeNodes.length==a.runtimeNodes.length)for(let l=0;l<o.runtimeNodes.length;l++){let u=a.runtimeNodes[l],c=o.runtimeNodes[l];c.startPosition=u.startPosition,c.endPosition=u.endPosition}}}formatDocument(e){if(!e.isValid()||e.isFormattingEnabled()==!1)return e.getOriginalContent();let n=e.getAllAntlersNodes();for(let l=0;l<n.length;l++)if(SN.checkNode(n[l]).length>0)return e.getOriginalContent();let r=e.getDocumentParser().getRenderNodes(),i=this.formatDocumentNodes(r,e),s=i.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`);this.antlersRegions.forEach((l,u)=>{let c=this.getIndent(u,s),f=this.prettyPrintNode(l,e,c,null,null),m="</ANTLR_"+l.refId+">",g="";l.isClosedBy!=null&&(g=l.isClosedBy.getTrueRawContent().trim()),i=mt(i,u,f),i=mt(i,m,g)}),this.commentRegions.forEach((l,u)=>{let c=this.getIndent(u,s),f=this.prettyPrintNode(l,e,c,null,null);i=mt(i,u,f)}),this.conditionRegions.forEach((l,u)=>{var h,y;let c="</ANTLER_COND"+l.refId+">",f=!0,m=this.getIndent(u,s),g=l.getTrueNode();if(l.isClosedBy!=null){let b=l.isClosedBy;b.startPosition!=null&&l.endPosition!=null&&b.startPosition.line==l.endPosition.line&&this.chopList.push(c+`
`)}l.isClosedBy!=null&&((h=l.isClosedBy.name)==null?void 0:h.name)!="if"&&(this.pruneList.push(c.toLowerCase()),this.chopList.push(c),f=!1);let p=this.prettyPrintNode(g,e,m,g.runtimeName(),null),d=!1;if(l.isClosedBy!=null){let b=l.isClosedBy;b.startPosition!=null&&l.endPosition!=null&&b.startPosition.line!=l.endPosition.line&&(p+=`
{{@cond_break@}}`+" ".repeat(m+3),d=!0)}if(i=mt(i,u,p),f){let b="";if(d){let te=m-1;te==1&&(te=0),b=`{{@cond_break@}}
`+" ".repeat(te)}let N=(y=l.isClosedBy)==null?void 0:y.getTrueNode(),_=N==null?void 0:N.runtimeName();(_==null?void 0:_.toLowerCase())=="endunless"&&(_="unless");let w=b+"{{ ";_!="endif"&&(w+="/"),w+=_+" }}",i=mt(i,c,w),i=mt(i,c,"")}}),this.chopList.forEach(l=>{i=mt(i,l,"")});let a=i.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`),o=[];if(a.forEach(l=>{this.pruneList.includes(l.trim().toLowerCase())||l.trim()!="{{@cond_break@}}"&&o.push(l)}),i=o.join(`
`),i=mt(i,"{{@cond_break@}}",""),e.hasFrontMatter()){let l=e.getFrontMatter();this.formatOptions.formatFrontMatter?i=If.frontMatterBlock(am.formatFrontMatter(l))+i:i=If.frontMatterBlock(l)+i}if(this.safeReplacements.size>0){let l=i.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`);this.safeReplacements.forEach((u,c)=>{let f=this.getIndent(c,l);i=i.replace(c,this.reindent(u,f,this.formatOptions.tabSize))})}return this.noParseRegions.size>0&&this.noParseRegions.forEach((l,u)=>{i=i.replace(u,l.getOriginalContent())}),i}reindent(e,n,r){let i=[],s=e.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`),a=" ".repeat(n),o=" ".repeat(r);for(let l=0;l<s.length;l++){let u=s[l];if(l==0){let c=u.trimLeft();i.push(c);let f=u.trim().split(" ");if(f.length==0)o=" ".repeat(Math.ceil(u.trim().length/2)+r);else{let m=f[f.length-1];o=" ".repeat(c.lastIndexOf(m)+Math.floor(m.trim().length/2)-1)}}else i.push(a+o+u.trimLeft())}return i.join(`
`)}};var Z2=eA(),fu=require("path"),rp=0,tA=3,eq=1,sg=4,tq=".antlers.format.json",it=Z2.command("format","Formats a file and writes the changes to disk",{path:{description:"The file to format",alias:"f",type:"string"},dir:{description:"The directory to format",alias:"d",type:"string"},stdin:{description:"Indicates that the formatter should use stdin input",alias:"s",type:"boolean",default:!1},output:{description:"An optional output path",alias:"out",type:"string",default:null},dump:{description:"Optionally writes the formatted results to the output instead of saving",alias:"dd",type:"boolean",default:!1},options:{description:"An optional path to an Antlers format configuration file",alias:"o",type:"string"}}).help().alias("help","h").argv,ip=it._,nq={htmlOptions:{},formatFrontMatter:!0,insertSpaces:!0,maxStatementsPerLine:3,tabSize:4,formatExtensions:[".antlers.html"]};function nA(t){if(nt.existsSync(t)){let e=nt.readFileSync(t,{encoding:"utf8"});try{return JSON.parse(e)}catch(n){console.error(n)}}return null}function rA(t,e,n){let r=nt.readdirSync(t);for(let i=0;i<r.length;i++){let s=fu.join(t,r[i]);nt.lstatSync(s).isDirectory()?rA(s,e,n):s.endsWith(e)&&n(s)}}function rq(t,e,n,r){let i=Gi.fromText(t),s=new Bf(r),a=s.formatDocument(i);n===!0?console.log(a):e!=null&&nt.writeFileSync(e,a,{encoding:"utf8"})}function ag(t,e,n,r){if(nt.existsSync(t)){try{nt.accessSync(t,nt.constants.R_OK|nt.constants.W_OK)}catch(i){console.error(i),process.exit(sg)}try{let i=nt.readFileSync(t,{encoding:"utf8"}),s=Gi.fromText(i),a=new Bf(r),o=a.formatDocument(s);n===!0?console.log(o):nt.writeFileSync(e,o,{encoding:"utf8"})}catch(i){console.error(i),process.exit(eq)}}else process.exit(tA)}function iA(t,e,n,r){if(nt.existsSync(t)&&nt.statSync(t).isDirectory){try{nt.accessSync(t,nt.constants.R_OK|nt.constants.W_OK)}catch(i){console.error(i),process.exit(sg)}n.forEach(i=>{rA(t,i,s=>{ag(s,s,r,e)})}),process.exit(rp)}else process.exit(tA)}function iq(t){let e=fu.dirname(t);e=="."&&(e=process.cwd());let n=e.split(fu.sep);for(;n.length>0;){let r=n.join(fu.sep),i=fu.join(r,tq);if(nt.existsSync(i))return i;n.pop()}return null}if(it._.includes("format")){let t=nq;if(typeof it.options!="undefined"&&it.options!==null){let e=nA(it.options);e!=null&&(t=e)}else{let e="";ip.length==1?typeof it.dir!="undefined"&&it.dir!==null?e=it.dir:typeof it.path!="undefined"&&it.path!==null&&(e=it.path):e=ip[1];let n=iq(e);if(n!=null){let r=nA(n);r!=null&&(t=r)}}if(ip.length==1){if(it.stdin===!0){let e=nt.readFileSync(0,"utf-8");rq(e,it.output,it.dump===!0,t),process.exit(rp)}if(typeof it.dir!="undefined"&&it.dir!==null){let e=[".antlers.html"];t.formatExtensions.length>0&&(e=t.formatExtensions),iA(it.dir,t,e,it.dump===!0),process.exit(rp)}if(typeof it.path!="undefined"&&it.path!==null){let e=it.path;it.output!==null&&(e=it.output),ag(it.path,e,it.dump===!0,t),process.exit(rp)}}else{let e=ip[1];if(nt.existsSync(e)){try{nt.accessSync(e,nt.constants.R_OK|nt.constants.W_OK)}catch(r){console.error(r),process.exit(sg)}if(nt.lstatSync(e).isDirectory()){let r=[".antlers.html"];t.formatExtensions.length>0&&(r=t.formatExtensions),iA(e,t,r,it.dump===!0)}else{let r=e;it.output!==null&&(r=it.output),ag(e,r,it.dump===!0,t)}}}}
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
