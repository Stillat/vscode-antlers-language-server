#!/usr/bin/env node
var uD=Object.create;var $f=Object.defineProperty;var cD=Object.getOwnPropertyDescriptor;var fD=Object.getOwnPropertyNames;var pD=Object.getPrototypeOf,dD=Object.prototype.hasOwnProperty;var mD=t=>$f(t,"__esModule",{value:!0});var X=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var hD=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of fD(e))!dD.call(t,i)&&(n||i!=="default")&&$f(t,i,{get:()=>e[i],enumerable:!(r=cD(e,i))||r.enumerable});return t},je=(t,e)=>hD(mD($f(t!=null?uD(pD(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var pu=X(Jf=>{"use strict";Object.defineProperty(Jf,"__esModule",{value:!0});var Tg=function(){function t(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return t.hashStr=function(e,n){return n===void 0&&(n=!1),this.onePassHasher.start().appendStr(e).end(n)},t.hashAsciiStr=function(e,n){return n===void 0&&(n=!1),this.onePassHasher.start().appendAsciiStr(e).end(n)},t._hex=function(e){var n=t.hexChars,r=t.hexOut,i,s,a,o;for(o=0;o<4;o+=1)for(s=o*8,i=e[o],a=0;a<8;a+=2)r[s+1+a]=n.charAt(i&15),i>>>=4,r[s+0+a]=n.charAt(i&15),i>>>=4;return r.join("")},t._md5cycle=function(e,n){var r=e[0],i=e[1],s=e[2],a=e[3];r+=(i&s|~i&a)+n[0]-680876936|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[1]-389564586|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[2]+606105819|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[3]-1044525330|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&a)+n[4]-176418897|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[5]+1200080426|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[6]-1473231341|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[7]-45705983|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&a)+n[8]+1770035416|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[9]-1958414417|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[10]-42063|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[11]-1990404162|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&a)+n[12]+1804603682|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[13]-40341101|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[14]-1502002290|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[15]+1236535329|0,i=(i<<22|i>>>10)+s|0,r+=(i&a|s&~a)+n[1]-165796510|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[6]-1069501632|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[11]+643717713|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[0]-373897302|0,i=(i<<20|i>>>12)+s|0,r+=(i&a|s&~a)+n[5]-701558691|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[10]+38016083|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[15]-660478335|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[4]-405537848|0,i=(i<<20|i>>>12)+s|0,r+=(i&a|s&~a)+n[9]+568446438|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[14]-1019803690|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[3]-187363961|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[8]+1163531501|0,i=(i<<20|i>>>12)+s|0,r+=(i&a|s&~a)+n[13]-1444681467|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[2]-51403784|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[7]+1735328473|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[12]-1926607734|0,i=(i<<20|i>>>12)+s|0,r+=(i^s^a)+n[5]-378558|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[8]-2022574463|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[11]+1839030562|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[14]-35309556|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^a)+n[1]-1530992060|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[4]+1272893353|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[7]-155497632|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[10]-1094730640|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^a)+n[13]+681279174|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[0]-358537222|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[3]-722521979|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[6]+76029189|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^a)+n[9]-640364487|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[12]-421815835|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[15]+530742520|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[2]-995338651|0,i=(i<<23|i>>>9)+s|0,r+=(s^(i|~a))+n[0]-198630844|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[7]+1126891415|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[14]-1416354905|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[5]-57434055|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~a))+n[12]+1700485571|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[3]-1894986606|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[10]-1051523|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[1]-2054922799|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~a))+n[8]+1873313359|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[15]-30611744|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[6]-1560198380|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[13]+1309151649|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~a))+n[4]-145523070|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[11]-1120210379|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[2]+718787259|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[9]-343485551|0,i=(i<<21|i>>>11)+s|0,e[0]=r+e[0]|0,e[1]=i+e[1]|0,e[2]=s+e[2]|0,e[3]=a+e[3]|0},t.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this},t.prototype.appendStr=function(e){var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,a;for(a=0;a<e.length;a+=1){if(s=e.charCodeAt(a),s<128)n[i++]=s;else if(s<2048)n[i++]=(s>>>6)+192,n[i++]=s&63|128;else if(s<55296||s>56319)n[i++]=(s>>>12)+224,n[i++]=s>>>6&63|128,n[i++]=s&63|128;else{if(s=(s-55296)*1024+(e.charCodeAt(++a)-56320)+65536,s>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");n[i++]=(s>>>18)+240,n[i++]=s>>>12&63|128,n[i++]=s>>>6&63|128,n[i++]=s&63|128}i>=64&&(this._dataLength+=64,t._md5cycle(this._state,r),i-=64,r[0]=r[16])}return this._bufferLength=i,this},t.prototype.appendAsciiStr=function(e){for(var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,a=0;;){for(s=Math.min(e.length-a,64-i);s--;)n[i++]=e.charCodeAt(a++);if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,r),i=0}return this._bufferLength=i,this},t.prototype.appendByteArray=function(e){for(var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,a=0;;){for(s=Math.min(e.length-a,64-i);s--;)n[i++]=e[a++];if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,r),i=0}return this._bufferLength=i,this},t.prototype.getState=function(){var e=this,n=e._state;return{buffer:String.fromCharCode.apply(null,e._buffer8),buflen:e._bufferLength,length:e._dataLength,state:[n[0],n[1],n[2],n[3]]}},t.prototype.setState=function(e){var n=e.buffer,r=e.state,i=this._state,s;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],s=0;s<n.length;s+=1)this._buffer8[s]=n.charCodeAt(s)},t.prototype.end=function(e){e===void 0&&(e=!1);var n=this._bufferLength,r=this._buffer8,i=this._buffer32,s=(n>>2)+1,a;if(this._dataLength+=n,r[n]=128,r[n+1]=r[n+2]=r[n+3]=0,i.set(t.buffer32Identity.subarray(s),s),n>55&&(t._md5cycle(this._state,i),i.set(t.buffer32Identity)),a=this._dataLength*8,a<=4294967295)i[14]=a;else{var o=a.toString(16).match(/(.*?)(.{0,8})$/);if(o===null)return;var l=parseInt(o[2],16),u=parseInt(o[1],16)||0;i[14]=l,i[15]=u}return t._md5cycle(this._state,i),e?this._state:t._hex(this._state)},t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,t}();Jf.Md5=Tg;Tg.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592"&&console.error("Md5 self test failed.")});var hu=X(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.thenable=Bt.typedArray=Bt.stringArray=Bt.array=Bt.func=Bt.error=Bt.number=Bt.string=Bt.boolean=void 0;function PD(t){return t===!0||t===!1}Bt.boolean=PD;function Cg(t){return typeof t=="string"||t instanceof String}Bt.string=Cg;function DD(t){return typeof t=="number"||t instanceof Number}Bt.number=DD;function SD(t){return t instanceof Error}Bt.error=SD;function Pg(t){return typeof t=="function"}Bt.func=Pg;function Dg(t){return Array.isArray(t)}Bt.array=Dg;function AD(t){return Dg(t)&&t.every(e=>Cg(e))}Bt.stringArray=AD;function ID(t,e){return Array.isArray(t)&&t.every(e)}Bt.typedArray=ID;function ED(t){return t&&Pg(t.then)}Bt.thenable=ED});var Ri=X(cp=>{"use strict";Object.defineProperty(cp,"__esModule",{value:!0});var lp;function up(){if(lp===void 0)throw new Error("No runtime abstraction layer installed");return lp}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");lp=n}t.install=e})(up||(up={}));cp.default=up});var fp=X(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.Disposable=void 0;var xD;(function(t){function e(n){return{dispose:n}}t.create=e})(xD=zo.Disposable||(zo.Disposable={}))});var Ag=X(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.AbstractMessageBuffer=void 0;var RD=13,wD=10,OD=`\r
`,Sg=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,n=0,r=0,i=0;e:for(;n<this._chunks.length;){let l=this._chunks[n];r=0;t:for(;r<l.length;){switch(l[r]){case RD:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case wD:switch(e){case 1:e=2;break;case 3:e=4,r++;break e;default:e=0}break;default:e=0}r++}i+=l.byteLength,n++}if(e!==4)return;let s=this._read(i+r),a=new Map,o=this.toString(s,"ascii").split(OD);if(o.length<2)return a;for(let l=0;l<o.length-2;l++){let u=o[l],c=u.indexOf(":");if(c===-1)throw new Error("Message header must separate key and value using :");let f=u.substr(0,c),m=u.substr(c+1).trim();a.set(f,m)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],a=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,a}let n=this.allocNative(e),r=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let a=s.slice(0,e);n.set(a,r),r+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};gu.AbstractMessageBuffer=Sg});var wg=X(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});var LD=Ri(),Ig=require("util"),ws=fp(),FD=Ag(),Xo=class extends FD.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return Xo.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new Ig.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};Xo.emptyBuffer=Buffer.allocUnsafe(0);var Eg=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),ws.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),ws.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),ws.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),ws.Disposable.create(()=>this.stream.off("data",e))}},xg=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),ws.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),ws.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),ws.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,i)=>{let s=a=>{a==null?r():i(a)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},Rg=Object.freeze({messageBuffer:Object.freeze({create:t=>new Xo(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new Ig.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new Eg(t),asWritableStream:t=>new xg(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){return setTimeout(t,e,...n)},clearTimeout(t){clearTimeout(t)},setImmediate(t,...e){return setImmediate(t,...e)},clearImmediate(t){clearImmediate(t)}})});function pp(){return Rg}(function(t){function e(){LD.default.install(Rg)}t.install=e})(pp||(pp={}));dp.default=pp});var Pa=X(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.stringArray=gn.array=gn.func=gn.error=gn.number=gn.string=gn.boolean=void 0;function kD(t){return t===!0||t===!1}gn.boolean=kD;function Og(t){return typeof t=="string"||t instanceof String}gn.string=Og;function MD(t){return typeof t=="number"||t instanceof Number}gn.number=MD;function BD(t){return t instanceof Error}gn.error=BD;function qD(t){return typeof t=="function"}gn.func=qD;function Lg(t){return Array.isArray(t)}gn.array=Lg;function VD(t){return Lg(t)&&t.every(e=>Og(e))}gn.stringArray=VD});var mp=X(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.isResponseMessage=ge.isNotificationMessage=ge.isRequestMessage=ge.NotificationType9=ge.NotificationType8=ge.NotificationType7=ge.NotificationType6=ge.NotificationType5=ge.NotificationType4=ge.NotificationType3=ge.NotificationType2=ge.NotificationType1=ge.NotificationType0=ge.NotificationType=ge.RequestType9=ge.RequestType8=ge.RequestType7=ge.RequestType6=ge.RequestType5=ge.RequestType4=ge.RequestType3=ge.RequestType2=ge.RequestType1=ge.RequestType=ge.RequestType0=ge.AbstractMessageSignature=ge.ParameterStructures=ge.ResponseError=ge.ErrorCodes=void 0;var Os=Pa(),Fg;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=t.jsonrpcReservedErrorRangeStart,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=t.jsonrpcReservedErrorRangeEnd})(Fg=ge.ErrorCodes||(ge.ErrorCodes={}));var _u=class extends Error{constructor(e,n,r){super(n);this.code=Os.number(e)?e:Fg.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,_u.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};ge.ResponseError=_u;var cn=class{constructor(e){this.kind=e}static is(e){return e===cn.auto||e===cn.byName||e===cn.byPosition}toString(){return this.kind}};ge.ParameterStructures=cn;cn.auto=new cn("auto");cn.byPosition=new cn("byPosition");cn.byName=new cn("byName");var Tt=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return cn.auto}};ge.AbstractMessageSignature=Tt;var kg=class extends Tt{constructor(e){super(e,0)}};ge.RequestType0=kg;var Mg=class extends Tt{constructor(e,n=cn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ge.RequestType=Mg;var Bg=class extends Tt{constructor(e,n=cn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ge.RequestType1=Bg;var qg=class extends Tt{constructor(e){super(e,2)}};ge.RequestType2=qg;var Vg=class extends Tt{constructor(e){super(e,3)}};ge.RequestType3=Vg;var jg=class extends Tt{constructor(e){super(e,4)}};ge.RequestType4=jg;var Ug=class extends Tt{constructor(e){super(e,5)}};ge.RequestType5=Ug;var Wg=class extends Tt{constructor(e){super(e,6)}};ge.RequestType6=Wg;var Gg=class extends Tt{constructor(e){super(e,7)}};ge.RequestType7=Gg;var Yg=class extends Tt{constructor(e){super(e,8)}};ge.RequestType8=Yg;var Hg=class extends Tt{constructor(e){super(e,9)}};ge.RequestType9=Hg;var $g=class extends Tt{constructor(e,n=cn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ge.NotificationType=$g;var Kg=class extends Tt{constructor(e){super(e,0)}};ge.NotificationType0=Kg;var zg=class extends Tt{constructor(e,n=cn.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};ge.NotificationType1=zg;var Xg=class extends Tt{constructor(e){super(e,2)}};ge.NotificationType2=Xg;var Qg=class extends Tt{constructor(e){super(e,3)}};ge.NotificationType3=Qg;var Jg=class extends Tt{constructor(e){super(e,4)}};ge.NotificationType4=Jg;var Zg=class extends Tt{constructor(e){super(e,5)}};ge.NotificationType5=Zg;var e_=class extends Tt{constructor(e){super(e,6)}};ge.NotificationType6=e_;var t_=class extends Tt{constructor(e){super(e,7)}};ge.NotificationType7=t_;var n_=class extends Tt{constructor(e){super(e,8)}};ge.NotificationType8=n_;var r_=class extends Tt{constructor(e){super(e,9)}};ge.NotificationType9=r_;function jD(t){let e=t;return e&&Os.string(e.method)&&(Os.string(e.id)||Os.number(e.id))}ge.isRequestMessage=jD;function UD(t){let e=t;return e&&Os.string(e.method)&&t.id===void 0}ge.isNotificationMessage=UD;function WD(t){let e=t;return e&&(e.result!==void 0||!!e.error)&&(Os.string(e.id)||Os.number(e.id)||e.id===null)}ge.isResponseMessage=WD});var Da=X(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.Emitter=Ls.Event=void 0;var GD=Ri(),YD;(function(t){let e={dispose(){}};t.None=function(){return e}})(YD=Ls.Event||(Ls.Event={}));var i_=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,a=r.length;s<a;s++)try{n.push(r[s].apply(i[s],e))}catch(o){GD.default().console.error(o)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Qo=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new i_),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:()=>{!this._callbacks||(this._callbacks.remove(e,n),i.dispose=Qo._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Ls.Emitter=Qo;Qo._noop=function(){}});var yp=X(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.CancellationTokenSource=Fs.CancellationToken=void 0;var s_=Ri(),HD=Pa(),hp=Da(),gp;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:hp.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:hp.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||HD.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(gp=Fs.CancellationToken||(Fs.CancellationToken={}));var $D=Object.freeze(function(t,e){let n=s_.default().timer.setTimeout(t.bind(e),0);return{dispose(){s_.default().timer.clearTimeout(n)}}}),_p=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?$D:(this._emitter||(this._emitter=new hp.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},a_=class{get token(){return this._token||(this._token=new _p),this._token}cancel(){this._token?this._token.cancel():this._token=gp.Cancelled}dispose(){this._token?this._token instanceof _p&&this._token.dispose():this._token=gp.None}};Fs.CancellationTokenSource=a_});var l_=X(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.ReadableStreamMessageReader=wi.AbstractMessageReader=wi.MessageReader=void 0;var yu=Ri(),Sa=Pa(),bp=Da(),KD;(function(t){function e(n){let r=n;return r&&Sa.func(r.listen)&&Sa.func(r.dispose)&&Sa.func(r.onError)&&Sa.func(r.onClose)&&Sa.func(r.onPartialMessage)}t.is=e})(KD=wi.MessageReader||(wi.MessageReader={}));var Tp=class{constructor(){this.errorEmitter=new bp.Emitter,this.closeEmitter=new bp.Emitter,this.partialMessageEmitter=new bp.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Sa.string(e.message)?e.message:"unknown"}`)}};wi.AbstractMessageReader=Tp;var vp;(function(t){function e(n){var r;let i,s,a,o=new Map,l,u=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=(r=n.charset)!==null&&r!==void 0?r:"utf-8",n.contentDecoder!==void 0&&(a=n.contentDecoder,o.set(a.name,a)),n.contentDecoders!==void 0)for(let c of n.contentDecoders)o.set(c.name,c);if(n.contentTypeDecoder!==void 0&&(l=n.contentTypeDecoder,u.set(l.name,l)),n.contentTypeDecoders!==void 0)for(let c of n.contentTypeDecoders)u.set(c.name,c)}return l===void 0&&(l=yu.default().applicationJson.decoder,u.set(l.name,l)),{charset:i,contentDecoder:a,contentDecoders:o,contentTypeDecoder:l,contentTypeDecoders:u}}t.fromOptions=e})(vp||(vp={}));var o_=class extends Tp{constructor(e,n){super();this.readable=e,this.options=vp.fromOptions(n),this.buffer=yu.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let s=i.get("Content-Length");if(!s)throw new Error("Header must provide a Content-Length property.");let a=parseInt(s);if(isNaN(a))throw new Error("Content-Length value must be a number.");this.nextMessageLength=a}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(n):r=Promise.resolve(n),r.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(s=>{this.callback(s)},s=>{this.fireError(s)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(yu.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=yu.default().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};wi.ReadableStreamMessageReader=o_});var c_=X(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.Semaphore=void 0;var zD=Ri(),u_=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||zD.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};bu.Semaphore=u_});var h_=X(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.WriteableStreamMessageWriter=Oi.AbstractMessageWriter=Oi.MessageWriter=void 0;var f_=Ri(),Jo=Pa(),XD=c_(),p_=Da(),QD="Content-Length: ",d_=`\r
`,JD;(function(t){function e(n){let r=n;return r&&Jo.func(r.dispose)&&Jo.func(r.onClose)&&Jo.func(r.onError)&&Jo.func(r.write)}t.is=e})(JD=Oi.MessageWriter||(Oi.MessageWriter={}));var Np=class{constructor(){this.errorEmitter=new p_.Emitter,this.closeEmitter=new p_.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Jo.string(e.message)?e.message:"unknown"}`)}};Oi.AbstractMessageWriter=Np;var Cp;(function(t){function e(n){var r,i;return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:f_.default().applicationJson.encoder}:{charset:(r=n.charset)!==null&&r!==void 0?r:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(i=n.contentTypeEncoder)!==null&&i!==void 0?i:f_.default().applicationJson.encoder}}t.fromOptions=e})(Cp||(Cp={}));var m_=class extends Np{constructor(e,n){super();this.writable=e,this.options=Cp.fromOptions(n),this.errorCount=0,this.writeSemaphore=new XD.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(QD,r.byteLength.toString(),d_),i.push(d_),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};Oi.WriteableStreamMessageWriter=m_});var __=X(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.LRUCache=Li.LinkedMap=Li.Touch=void 0;var Sn;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(Sn=Li.Touch||(Li.Touch={}));var Pp=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,n=Sn.None){let r=this._map.get(e);if(!!r)return n!==Sn.None&&this.touch(r,n),r.value}set(e,n,r=Sn.None){let i=this._map.get(e);if(i)i.value=n,r!==Sn.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case Sn.None:this.addItemLast(i);break;case Sn.First:this.addItemFirst(i);break;case Sn.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(!!n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.key,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}values(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.value,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}entries(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:[r.key,r.value],done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==Sn.First&&n!==Sn.Last)){if(n===Sn.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===Sn.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};Li.LinkedMap=Pp;var g_=class extends Pp{constructor(e,n=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=Sn.AsNew){return super.get(e,n)}peek(e){return super.get(e,Sn.None)}set(e,n){return super.set(e,n,Sn.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Li.LRUCache=g_});var C_=X(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.createMessageConnection=Oe.ConnectionOptions=Oe.CancellationStrategy=Oe.CancellationSenderStrategy=Oe.CancellationReceiverStrategy=Oe.ConnectionStrategy=Oe.ConnectionError=Oe.ConnectionErrors=Oe.LogTraceNotification=Oe.SetTraceNotification=Oe.TraceFormat=Oe.Trace=Oe.NullLogger=Oe.ProgressType=void 0;var y_=Ri(),tn=Pa(),xe=mp(),b_=__(),Zo=Da(),Dp=yp(),el;(function(t){t.type=new xe.NotificationType("$/cancelRequest")})(el||(el={}));var Tu;(function(t){t.type=new xe.NotificationType("$/progress")})(Tu||(Tu={}));var T_=class{constructor(){}};Oe.ProgressType=T_;var Sp;(function(t){function e(n){return tn.func(n)}t.is=e})(Sp||(Sp={}));Oe.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var qt;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose"})(qt=Oe.Trace||(Oe.Trace={}));(function(t){function e(r){if(!tn.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(qt=Oe.Trace||(Oe.Trace={}));var Kr;(function(t){t.Text="text",t.JSON="json"})(Kr=Oe.TraceFormat||(Oe.TraceFormat={}));(function(t){function e(n){return n=n.toLowerCase(),n==="json"?t.JSON:t.Text}t.fromString=e})(Kr=Oe.TraceFormat||(Oe.TraceFormat={}));var v_;(function(t){t.type=new xe.NotificationType("$/setTrace")})(v_=Oe.SetTraceNotification||(Oe.SetTraceNotification={}));var Ap;(function(t){t.type=new xe.NotificationType("$/logTrace")})(Ap=Oe.LogTraceNotification||(Oe.LogTraceNotification={}));var vu;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(vu=Oe.ConnectionErrors||(Oe.ConnectionErrors={}));var ks=class extends Error{constructor(e,n){super(n);this.code=e,Object.setPrototypeOf(this,ks.prototype)}};Oe.ConnectionError=ks;var N_;(function(t){function e(n){let r=n;return r&&tn.func(r.cancelUndispatched)}t.is=e})(N_=Oe.ConnectionStrategy||(Oe.ConnectionStrategy={}));var Ip;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new Dp.CancellationTokenSource}});function e(n){let r=n;return r&&tn.func(r.createCancellationTokenSource)}t.is=e})(Ip=Oe.CancellationReceiverStrategy||(Oe.CancellationReceiverStrategy={}));var Ep;(function(t){t.Message=Object.freeze({sendCancellation(n,r){n.sendNotification(el.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&tn.func(r.sendCancellation)&&tn.func(r.cleanup)}t.is=e})(Ep=Oe.CancellationSenderStrategy||(Oe.CancellationSenderStrategy={}));var xp;(function(t){t.Message=Object.freeze({receiver:Ip.Message,sender:Ep.Message});function e(n){let r=n;return r&&Ip.is(r.receiver)&&Ep.is(r.sender)}t.is=e})(xp=Oe.CancellationStrategy||(Oe.CancellationStrategy={}));var ZD;(function(t){function e(n){let r=n;return r&&(xp.is(r.cancellationStrategy)||N_.is(r.connectionStrategy))}t.is=e})(ZD=Oe.ConnectionOptions||(Oe.ConnectionOptions={}));var zr;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(zr||(zr={}));function eS(t,e,n,r){let i=n!==void 0?n:Oe.NullLogger,s=0,a=0,o=0,l="2.0",u,c=Object.create(null),f,m=Object.create(null),y=new Map,p,d=new b_.LinkedMap,g=Object.create(null),h=Object.create(null),b=qt.Off,_=Kr.Text,N,C=zr.New,W=new Zo.Emitter,L=new Zo.Emitter,M=new Zo.Emitter,H=new Zo.Emitter,$=new Zo.Emitter,ne=r&&r.cancellationStrategy?r.cancellationStrategy:xp.Message;function re(x){if(x===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+x.toString()}function ye(x){return x===null?"res-unknown-"+(++o).toString():"res-"+x.toString()}function Pe(){return"not-"+(++a).toString()}function oe(x,I){xe.isRequestMessage(I)?x.set(re(I.id),I):xe.isResponseMessage(I)?x.set(ye(I.id),I):x.set(Pe(),I)}function De(x){}function ct(){return C===zr.Listening}function Qt(){return C===zr.Closed}function Je(){return C===zr.Disposed}function ft(){(C===zr.New||C===zr.Listening)&&(C=zr.Closed,L.fire(void 0))}function pe(x){W.fire([x,void 0,void 0])}function Re(x){W.fire(x)}t.onClose(ft),t.onError(pe),e.onClose(ft),e.onError(Re);function Ge(){p||d.size===0||(p=y_.default().timer.setImmediate(()=>{p=void 0,J()}))}function J(){if(d.size===0)return;let x=d.shift();try{xe.isRequestMessage(x)?st(x):xe.isNotificationMessage(x)?vn(x):xe.isResponseMessage(x)?Et(x):Si(x)}finally{Ge()}}let pt=x=>{try{if(xe.isNotificationMessage(x)&&x.method===el.type.method){let I=re(x.params.id),v=d.get(I);if(xe.isRequestMessage(v)){let E=r==null?void 0:r.connectionStrategy,O=E&&E.cancelUndispatched?E.cancelUndispatched(v,De):void 0;if(O&&(O.error!==void 0||O.result!==void 0)){d.delete(I),O.id=v.id,Hi(O,x.method,Date.now()),e.write(O);return}}}oe(d,x)}finally{Ge()}};function st(x){if(Je())return;function I(j,fe,ve){let Ve={jsonrpc:l,id:x.id};j instanceof xe.ResponseError?Ve.error=j.toJson():Ve.result=j===void 0?null:j,Hi(Ve,fe,ve),e.write(Ve)}function v(j,fe,ve){let Ve={jsonrpc:l,id:x.id,error:j.toJson()};Hi(Ve,fe,ve),e.write(Ve)}function E(j,fe,ve){j===void 0&&(j=null);let Ve={jsonrpc:l,id:x.id,result:j};Hi(Ve,fe,ve),e.write(Ve)}Gn(x);let O=c[x.method],S,T;O&&(S=O.type,T=O.handler);let F=Date.now();if(T||u){let j=String(x.id),fe=ne.receiver.createCancellationTokenSource(j);h[j]=fe;try{let ve;if(T)if(x.params===void 0){if(S!==void 0&&S.numberOfParams!==0){v(new xe.ResponseError(xe.ErrorCodes.InvalidParams,`Request ${x.method} defines ${S.numberOfParams} params but recevied none.`),x.method,F);return}ve=T(fe.token)}else if(Array.isArray(x.params)){if(S!==void 0&&S.parameterStructures===xe.ParameterStructures.byName){v(new xe.ResponseError(xe.ErrorCodes.InvalidParams,`Request ${x.method} defines parameters by name but received parameters by position`),x.method,F);return}ve=T(...x.params,fe.token)}else{if(S!==void 0&&S.parameterStructures===xe.ParameterStructures.byPosition){v(new xe.ResponseError(xe.ErrorCodes.InvalidParams,`Request ${x.method} defines parameters by position but received parameters by name`),x.method,F);return}ve=T(x.params,fe.token)}else u&&(ve=u(x.method,x.params,fe.token));let Ve=ve;ve?Ve.then?Ve.then(dt=>{delete h[j],I(dt,x.method,F)},dt=>{delete h[j],dt instanceof xe.ResponseError?v(dt,x.method,F):dt&&tn.string(dt.message)?v(new xe.ResponseError(xe.ErrorCodes.InternalError,`Request ${x.method} failed with message: ${dt.message}`),x.method,F):v(new xe.ResponseError(xe.ErrorCodes.InternalError,`Request ${x.method} failed unexpectedly without providing any details.`),x.method,F)}):(delete h[j],I(ve,x.method,F)):(delete h[j],E(ve,x.method,F))}catch(ve){delete h[j],ve instanceof xe.ResponseError?I(ve,x.method,F):ve&&tn.string(ve.message)?v(new xe.ResponseError(xe.ErrorCodes.InternalError,`Request ${x.method} failed with message: ${ve.message}`),x.method,F):v(new xe.ResponseError(xe.ErrorCodes.InternalError,`Request ${x.method} failed unexpectedly without providing any details.`),x.method,F)}}else v(new xe.ResponseError(xe.ErrorCodes.MethodNotFound,`Unhandled method ${x.method}`),x.method,F)}function Et(x){if(!Je())if(x.id===null)x.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(x.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let I=String(x.id),v=g[I];if(R(x,v),v){delete g[I];try{if(x.error){let E=x.error;v.reject(new xe.ResponseError(E.code,E.message,E.data))}else if(x.result!==void 0)v.resolve(x.result);else throw new Error("Should never happen.")}catch(E){E.message?i.error(`Response handler '${v.method}' failed with message: ${E.message}`):i.error(`Response handler '${v.method}' failed unexpectedly.`)}}}}function vn(x){if(Je())return;let I,v;if(x.method===el.type.method)v=E=>{let O=E.id,S=h[String(O)];S&&S.cancel()};else{let E=m[x.method];E&&(v=E.handler,I=E.type)}if(v||f)try{qo(x),v?x.params===void 0?(I!==void 0&&I.numberOfParams!==0&&I.parameterStructures!==xe.ParameterStructures.byName&&i.error(`Notification ${x.method} defines ${I.numberOfParams} params but recevied none.`),v()):Array.isArray(x.params)?(I!==void 0&&(I.parameterStructures===xe.ParameterStructures.byName&&i.error(`Notification ${x.method} defines parameters by name but received parameters by position`),I.numberOfParams!==x.params.length&&i.error(`Notification ${x.method} defines ${I.numberOfParams} params but received ${x.params.length} argumennts`)),v(...x.params)):(I!==void 0&&I.parameterStructures===xe.ParameterStructures.byPosition&&i.error(`Notification ${x.method} defines parameters by position but received parameters by name`),v(x.params)):f&&f(x.method,x.params)}catch(E){E.message?i.error(`Notification handler '${x.method}' failed with message: ${E.message}`):i.error(`Notification handler '${x.method}' failed unexpectedly.`)}else M.fire(x)}function Si(x){if(!x){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(x,null,4)}`);let I=x;if(tn.string(I.id)||tn.number(I.id)){let v=String(I.id),E=g[v];E&&E.reject(new Error("The received response has neither a result nor an error property."))}}function ui(x){if(!(b===qt.Off||!N))if(_===Kr.Text){let I;b===qt.Verbose&&x.params&&(I=`Params: ${JSON.stringify(x.params,null,4)}

`),N.log(`Sending request '${x.method} - (${x.id})'.`,I)}else B("send-request",x)}function Bo(x){if(!(b===qt.Off||!N))if(_===Kr.Text){let I;b===qt.Verbose&&(x.params?I=`Params: ${JSON.stringify(x.params,null,4)}

`:I=`No parameters provided.

`),N.log(`Sending notification '${x.method}'.`,I)}else B("send-notification",x)}function Hi(x,I,v){if(!(b===qt.Off||!N))if(_===Kr.Text){let E;b===qt.Verbose&&(x.error&&x.error.data?E=`Error data: ${JSON.stringify(x.error.data,null,4)}

`:x.result?E=`Result: ${JSON.stringify(x.result,null,4)}

`:x.error===void 0&&(E=`No result returned.

`)),N.log(`Sending response '${I} - (${x.id})'. Processing request took ${Date.now()-v}ms`,E)}else B("send-response",x)}function Gn(x){if(!(b===qt.Off||!N))if(_===Kr.Text){let I;b===qt.Verbose&&x.params&&(I=`Params: ${JSON.stringify(x.params,null,4)}

`),N.log(`Received request '${x.method} - (${x.id})'.`,I)}else B("receive-request",x)}function qo(x){if(!(b===qt.Off||!N||x.method===Ap.type.method))if(_===Kr.Text){let I;b===qt.Verbose&&(x.params?I=`Params: ${JSON.stringify(x.params,null,4)}

`:I=`No parameters provided.

`),N.log(`Received notification '${x.method}'.`,I)}else B("receive-notification",x)}function R(x,I){if(!(b===qt.Off||!N))if(_===Kr.Text){let v;if(b===qt.Verbose&&(x.error&&x.error.data?v=`Error data: ${JSON.stringify(x.error.data,null,4)}

`:x.result?v=`Result: ${JSON.stringify(x.result,null,4)}

`:x.error===void 0&&(v=`No result returned.

`)),I){let E=x.error?` Request failed: ${x.error.message} (${x.error.code}).`:"";N.log(`Received response '${I.method} - (${x.id})' in ${Date.now()-I.timerStart}ms.${E}`,v)}else N.log(`Received response ${x.id} without active response promise.`,v)}else B("receive-response",x)}function B(x,I){if(!N||b===qt.Off)return;let v={isLSPMessage:!0,type:x,message:I,timestamp:Date.now()};N.log(v)}function te(){if(Qt())throw new ks(vu.Closed,"Connection is closed.");if(Je())throw new ks(vu.Disposed,"Connection is disposed.")}function G(){if(ct())throw new ks(vu.AlreadyListening,"Connection is already listening")}function k(){if(!ct())throw new Error("Call listen() first.")}function ce(x){return x===void 0?null:x}function le(x){if(x!==null)return x}function he(x){return x!=null&&!Array.isArray(x)&&typeof x=="object"}function bt(x,I){switch(x){case xe.ParameterStructures.auto:return he(I)?le(I):[ce(I)];case xe.ParameterStructures.byName:if(!he(I))throw new Error("Recevied parameters by name but param is not an object literal.");return le(I);case xe.ParameterStructures.byPosition:return[ce(I)];default:throw new Error(`Unknown parameter structure ${x.toString()}`)}}function Ft(x,I){let v,E=x.numberOfParams;switch(E){case 0:v=void 0;break;case 1:v=bt(x.parameterStructures,I[0]);break;default:v=[];for(let O=0;O<I.length&&O<E;O++)v.push(ce(I[O]));if(I.length<E)for(let O=I.length;O<E;O++)v.push(null);break}return v}let $i={sendNotification:(x,...I)=>{te();let v,E;if(tn.string(x)){v=x;let S=I[0],T=0,F=xe.ParameterStructures.auto;xe.ParameterStructures.is(S)&&(T=1,F=S);let j=I.length,fe=j-T;switch(fe){case 0:E=void 0;break;case 1:E=bt(F,I[T]);break;default:if(F===xe.ParameterStructures.byName)throw new Error(`Recevied ${fe} parameters for 'by Name' notification parameter structure.`);E=I.slice(T,j).map(ve=>ce(ve));break}}else{let S=I;v=x.method,E=Ft(x,S)}let O={jsonrpc:l,method:v,params:E};Bo(O),e.write(O)},onNotification:(x,I)=>{te();let v;return tn.func(x)?f=x:I&&(tn.string(x)?(v=x,m[x]={type:void 0,handler:I}):(v=x.method,m[x.method]={type:x,handler:I})),{dispose:()=>{v!==void 0?delete m[v]:f=void 0}}},onProgress:(x,I,v)=>{if(y.has(I))throw new Error(`Progress handler for token ${I} already registered`);return y.set(I,v),{dispose:()=>{y.delete(I)}}},sendProgress:(x,I,v)=>{$i.sendNotification(Tu.type,{token:I,value:v})},onUnhandledProgress:H.event,sendRequest:(x,...I)=>{te(),k();let v,E,O;if(tn.string(x)){v=x;let j=I[0],fe=I[I.length-1],ve=0,Ve=xe.ParameterStructures.auto;xe.ParameterStructures.is(j)&&(ve=1,Ve=j);let dt=I.length;Dp.CancellationToken.is(fe)&&(dt=dt-1,O=fe);let Gt=dt-ve;switch(Gt){case 0:E=void 0;break;case 1:E=bt(Ve,I[ve]);break;default:if(Ve===xe.ParameterStructures.byName)throw new Error(`Recevied ${Gt} parameters for 'by Name' request parameter structure.`);E=I.slice(ve,dt).map(Jt=>ce(Jt));break}}else{let j=I;v=x.method,E=Ft(x,j);let fe=x.numberOfParams;O=Dp.CancellationToken.is(j[fe])?j[fe]:void 0}let S=s++,T;return O&&(T=O.onCancellationRequested(()=>{ne.sender.sendCancellation($i,S)})),new Promise((j,fe)=>{let ve={jsonrpc:l,id:S,method:v,params:E},Ve=Jt=>{j(Jt),ne.sender.cleanup(S),T==null||T.dispose()},dt=Jt=>{fe(Jt),ne.sender.cleanup(S),T==null||T.dispose()},Gt={method:v,timerStart:Date.now(),resolve:Ve,reject:dt};ui(ve);try{e.write(ve)}catch(Jt){Gt.reject(new xe.ResponseError(xe.ErrorCodes.MessageWriteError,Jt.message?Jt.message:"Unknown reason")),Gt=null}Gt&&(g[String(S)]=Gt)})},onRequest:(x,I)=>{te();let v=null;return Sp.is(x)?(v=void 0,u=x):tn.string(x)?(v=null,I!==void 0&&(v=x,c[x]={handler:I,type:void 0})):I!==void 0&&(v=x.method,c[x.method]={type:x,handler:I}),{dispose:()=>{v!==null&&(v!==void 0?delete c[v]:u=void 0)}}},trace:(x,I,v)=>{let E=!1,O=Kr.Text;v!==void 0&&(tn.boolean(v)?E=v:(E=v.sendNotification||!1,O=v.traceFormat||Kr.Text)),b=x,_=O,b===qt.Off?N=void 0:N=I,E&&!Qt()&&!Je()&&$i.sendNotification(v_.type,{value:qt.toString(x)})},onError:W.event,onClose:L.event,onUnhandledNotification:M.event,onDispose:$.event,end:()=>{e.end()},dispose:()=>{if(Je())return;C=zr.Disposed,$.fire(void 0);let x=new Error("Connection got disposed.");Object.keys(g).forEach(I=>{g[I].reject(x)}),g=Object.create(null),h=Object.create(null),d=new b_.LinkedMap,tn.func(e.dispose)&&e.dispose(),tn.func(t.dispose)&&t.dispose()},listen:()=>{te(),G(),C=zr.Listening,t.listen(pt)},inspect:()=>{y_.default().console.log("inspect")}};return $i.onNotification(Ap.type,x=>{b===qt.Off||!N||N.log(x.message,b===qt.Verbose?x.verbose:void 0)}),$i.onNotification(Tu.type,x=>{let I=y.get(x.token);I?I(x.value):H.fire(x)}),$i}Oe.createMessageConnection=eS});var Op=X(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});Q.CancellationSenderStrategy=Q.CancellationReceiverStrategy=Q.ConnectionError=Q.ConnectionErrors=Q.LogTraceNotification=Q.SetTraceNotification=Q.TraceFormat=Q.Trace=Q.ProgressType=Q.createMessageConnection=Q.NullLogger=Q.ConnectionOptions=Q.ConnectionStrategy=Q.WriteableStreamMessageWriter=Q.AbstractMessageWriter=Q.MessageWriter=Q.ReadableStreamMessageReader=Q.AbstractMessageReader=Q.MessageReader=Q.CancellationToken=Q.CancellationTokenSource=Q.Emitter=Q.Event=Q.Disposable=Q.ParameterStructures=Q.NotificationType9=Q.NotificationType8=Q.NotificationType7=Q.NotificationType6=Q.NotificationType5=Q.NotificationType4=Q.NotificationType3=Q.NotificationType2=Q.NotificationType1=Q.NotificationType0=Q.NotificationType=Q.ErrorCodes=Q.ResponseError=Q.RequestType9=Q.RequestType8=Q.RequestType7=Q.RequestType6=Q.RequestType5=Q.RequestType4=Q.RequestType3=Q.RequestType2=Q.RequestType1=Q.RequestType0=Q.RequestType=Q.RAL=void 0;Q.CancellationStrategy=void 0;var _t=mp();Object.defineProperty(Q,"RequestType",{enumerable:!0,get:function(){return _t.RequestType}});Object.defineProperty(Q,"RequestType0",{enumerable:!0,get:function(){return _t.RequestType0}});Object.defineProperty(Q,"RequestType1",{enumerable:!0,get:function(){return _t.RequestType1}});Object.defineProperty(Q,"RequestType2",{enumerable:!0,get:function(){return _t.RequestType2}});Object.defineProperty(Q,"RequestType3",{enumerable:!0,get:function(){return _t.RequestType3}});Object.defineProperty(Q,"RequestType4",{enumerable:!0,get:function(){return _t.RequestType4}});Object.defineProperty(Q,"RequestType5",{enumerable:!0,get:function(){return _t.RequestType5}});Object.defineProperty(Q,"RequestType6",{enumerable:!0,get:function(){return _t.RequestType6}});Object.defineProperty(Q,"RequestType7",{enumerable:!0,get:function(){return _t.RequestType7}});Object.defineProperty(Q,"RequestType8",{enumerable:!0,get:function(){return _t.RequestType8}});Object.defineProperty(Q,"RequestType9",{enumerable:!0,get:function(){return _t.RequestType9}});Object.defineProperty(Q,"ResponseError",{enumerable:!0,get:function(){return _t.ResponseError}});Object.defineProperty(Q,"ErrorCodes",{enumerable:!0,get:function(){return _t.ErrorCodes}});Object.defineProperty(Q,"NotificationType",{enumerable:!0,get:function(){return _t.NotificationType}});Object.defineProperty(Q,"NotificationType0",{enumerable:!0,get:function(){return _t.NotificationType0}});Object.defineProperty(Q,"NotificationType1",{enumerable:!0,get:function(){return _t.NotificationType1}});Object.defineProperty(Q,"NotificationType2",{enumerable:!0,get:function(){return _t.NotificationType2}});Object.defineProperty(Q,"NotificationType3",{enumerable:!0,get:function(){return _t.NotificationType3}});Object.defineProperty(Q,"NotificationType4",{enumerable:!0,get:function(){return _t.NotificationType4}});Object.defineProperty(Q,"NotificationType5",{enumerable:!0,get:function(){return _t.NotificationType5}});Object.defineProperty(Q,"NotificationType6",{enumerable:!0,get:function(){return _t.NotificationType6}});Object.defineProperty(Q,"NotificationType7",{enumerable:!0,get:function(){return _t.NotificationType7}});Object.defineProperty(Q,"NotificationType8",{enumerable:!0,get:function(){return _t.NotificationType8}});Object.defineProperty(Q,"NotificationType9",{enumerable:!0,get:function(){return _t.NotificationType9}});Object.defineProperty(Q,"ParameterStructures",{enumerable:!0,get:function(){return _t.ParameterStructures}});var tS=fp();Object.defineProperty(Q,"Disposable",{enumerable:!0,get:function(){return tS.Disposable}});var P_=Da();Object.defineProperty(Q,"Event",{enumerable:!0,get:function(){return P_.Event}});Object.defineProperty(Q,"Emitter",{enumerable:!0,get:function(){return P_.Emitter}});var D_=yp();Object.defineProperty(Q,"CancellationTokenSource",{enumerable:!0,get:function(){return D_.CancellationTokenSource}});Object.defineProperty(Q,"CancellationToken",{enumerable:!0,get:function(){return D_.CancellationToken}});var Rp=l_();Object.defineProperty(Q,"MessageReader",{enumerable:!0,get:function(){return Rp.MessageReader}});Object.defineProperty(Q,"AbstractMessageReader",{enumerable:!0,get:function(){return Rp.AbstractMessageReader}});Object.defineProperty(Q,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Rp.ReadableStreamMessageReader}});var wp=h_();Object.defineProperty(Q,"MessageWriter",{enumerable:!0,get:function(){return wp.MessageWriter}});Object.defineProperty(Q,"AbstractMessageWriter",{enumerable:!0,get:function(){return wp.AbstractMessageWriter}});Object.defineProperty(Q,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return wp.WriteableStreamMessageWriter}});var Mn=C_();Object.defineProperty(Q,"ConnectionStrategy",{enumerable:!0,get:function(){return Mn.ConnectionStrategy}});Object.defineProperty(Q,"ConnectionOptions",{enumerable:!0,get:function(){return Mn.ConnectionOptions}});Object.defineProperty(Q,"NullLogger",{enumerable:!0,get:function(){return Mn.NullLogger}});Object.defineProperty(Q,"createMessageConnection",{enumerable:!0,get:function(){return Mn.createMessageConnection}});Object.defineProperty(Q,"ProgressType",{enumerable:!0,get:function(){return Mn.ProgressType}});Object.defineProperty(Q,"Trace",{enumerable:!0,get:function(){return Mn.Trace}});Object.defineProperty(Q,"TraceFormat",{enumerable:!0,get:function(){return Mn.TraceFormat}});Object.defineProperty(Q,"SetTraceNotification",{enumerable:!0,get:function(){return Mn.SetTraceNotification}});Object.defineProperty(Q,"LogTraceNotification",{enumerable:!0,get:function(){return Mn.LogTraceNotification}});Object.defineProperty(Q,"ConnectionErrors",{enumerable:!0,get:function(){return Mn.ConnectionErrors}});Object.defineProperty(Q,"ConnectionError",{enumerable:!0,get:function(){return Mn.ConnectionError}});Object.defineProperty(Q,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Mn.CancellationReceiverStrategy}});Object.defineProperty(Q,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Mn.CancellationSenderStrategy}});Object.defineProperty(Q,"CancellationStrategy",{enumerable:!0,get:function(){return Mn.CancellationStrategy}});var nS=Ri();Q.RAL=nS.default});var xa=X(Ze=>{"use strict";var rS=Ze&&Ze.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),iS=Ze&&Ze.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&rS(e,t,n)};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.createMessageConnection=Ze.createServerSocketTransport=Ze.createClientSocketTransport=Ze.createServerPipeTransport=Ze.createClientPipeTransport=Ze.generateRandomPipeName=Ze.StreamMessageWriter=Ze.StreamMessageReader=Ze.SocketMessageWriter=Ze.SocketMessageReader=Ze.IPCMessageWriter=Ze.IPCMessageReader=void 0;var Aa=wg();Aa.default.install();var gi=Op(),S_=require("path"),sS=require("os"),aS=require("crypto"),Nu=require("net");iS(Op(),Ze);var A_=class extends gi.AbstractMessageReader{constructor(e){super();this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),gi.Disposable.create(()=>this.process.off("message",e))}};Ze.IPCMessageReader=A_;var I_=class extends gi.AbstractMessageWriter{constructor(e){super();this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};Ze.IPCMessageWriter=I_;var Ia=class extends gi.ReadableStreamMessageReader{constructor(e,n="utf-8"){super(Aa.default().stream.asReadableStream(e),n)}};Ze.SocketMessageReader=Ia;var Ea=class extends gi.WriteableStreamMessageWriter{constructor(e,n){super(Aa.default().stream.asWritableStream(e),n);this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Ze.SocketMessageWriter=Ea;var Lp=class extends gi.ReadableStreamMessageReader{constructor(e,n){super(Aa.default().stream.asReadableStream(e),n)}};Ze.StreamMessageReader=Lp;var Fp=class extends gi.WriteableStreamMessageWriter{constructor(e,n){super(Aa.default().stream.asWritableStream(e),n)}};Ze.StreamMessageWriter=Fp;var E_=process.env.XDG_RUNTIME_DIR,oS=new Map([["linux",107],["darwin",103]]);function lS(){let t=aS.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;E_?e=S_.join(E_,`vscode-ipc-${t}.sock`):e=S_.join(sS.tmpdir(),`vscode-${t}.sock`);let n=oS.get(process.platform);return n!==void 0&&e.length>=n&&Aa.default().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}Ze.generateRandomPipeName=lS;function uS(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let a=Nu.createServer(o=>{a.close(),n([new Ia(o,e),new Ea(o,e)])});a.on("error",s),a.listen(t,()=>{a.removeListener("error",s),i({onConnected:()=>r})})})}Ze.createClientPipeTransport=uS;function cS(t,e="utf-8"){let n=Nu.createConnection(t);return[new Ia(n,e),new Ea(n,e)]}Ze.createServerPipeTransport=cS;function fS(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let a=Nu.createServer(o=>{a.close(),n([new Ia(o,e),new Ea(o,e)])});a.on("error",s),a.listen(t,"127.0.0.1",()=>{a.removeListener("error",s),i({onConnected:()=>r})})})}Ze.createClientSocketTransport=fS;function pS(t,e="utf-8"){let n=Nu.createConnection(t,"127.0.0.1");return[new Ia(n,e),new Ea(n,e)]}Ze.createServerSocketTransport=pS;function dS(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function mS(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function hS(t,e,n,r){n||(n=gi.NullLogger);let i=dS(t)?new Lp(t):t,s=mS(e)?new Fp(e):e;return gi.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),gi.createMessageConnection(i,s,n,r)}Ze.createMessageConnection=hS});var kp=X((Q2,x_)=>{"use strict";x_.exports=xa()});var vt=X((R_,Cu)=>{(function(t){if(typeof Cu=="object"&&typeof Cu.exports=="object"){var e=t(require,R_);e!==void 0&&(Cu.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=void 0;var n;(function(v){v.MIN_VALUE=-2147483648,v.MAX_VALUE=2147483647})(n=e.integer||(e.integer={}));var r;(function(v){v.MIN_VALUE=0,v.MAX_VALUE=2147483647})(r=e.uinteger||(e.uinteger={}));var i;(function(v){function E(S,T){return S===Number.MAX_VALUE&&(S=r.MAX_VALUE),T===Number.MAX_VALUE&&(T=r.MAX_VALUE),{line:S,character:T}}v.create=E;function O(S){var T=S;return I.objectLiteral(T)&&I.uinteger(T.line)&&I.uinteger(T.character)}v.is=O})(i=e.Position||(e.Position={}));var s;(function(v){function E(S,T,F,j){if(I.uinteger(S)&&I.uinteger(T)&&I.uinteger(F)&&I.uinteger(j))return{start:i.create(S,T),end:i.create(F,j)};if(i.is(S)&&i.is(T))return{start:S,end:T};throw new Error("Range#create called with invalid arguments["+S+", "+T+", "+F+", "+j+"]")}v.create=E;function O(S){var T=S;return I.objectLiteral(T)&&i.is(T.start)&&i.is(T.end)}v.is=O})(s=e.Range||(e.Range={}));var a;(function(v){function E(S,T){return{uri:S,range:T}}v.create=E;function O(S){var T=S;return I.defined(T)&&s.is(T.range)&&(I.string(T.uri)||I.undefined(T.uri))}v.is=O})(a=e.Location||(e.Location={}));var o;(function(v){function E(S,T,F,j){return{targetUri:S,targetRange:T,targetSelectionRange:F,originSelectionRange:j}}v.create=E;function O(S){var T=S;return I.defined(T)&&s.is(T.targetRange)&&I.string(T.targetUri)&&(s.is(T.targetSelectionRange)||I.undefined(T.targetSelectionRange))&&(s.is(T.originSelectionRange)||I.undefined(T.originSelectionRange))}v.is=O})(o=e.LocationLink||(e.LocationLink={}));var l;(function(v){function E(S,T,F,j){return{red:S,green:T,blue:F,alpha:j}}v.create=E;function O(S){var T=S;return I.numberRange(T.red,0,1)&&I.numberRange(T.green,0,1)&&I.numberRange(T.blue,0,1)&&I.numberRange(T.alpha,0,1)}v.is=O})(l=e.Color||(e.Color={}));var u;(function(v){function E(S,T){return{range:S,color:T}}v.create=E;function O(S){var T=S;return s.is(T.range)&&l.is(T.color)}v.is=O})(u=e.ColorInformation||(e.ColorInformation={}));var c;(function(v){function E(S,T,F){return{label:S,textEdit:T,additionalTextEdits:F}}v.create=E;function O(S){var T=S;return I.string(T.label)&&(I.undefined(T.textEdit)||_.is(T))&&(I.undefined(T.additionalTextEdits)||I.typedArray(T.additionalTextEdits,_.is))}v.is=O})(c=e.ColorPresentation||(e.ColorPresentation={}));var f;(function(v){v.Comment="comment",v.Imports="imports",v.Region="region"})(f=e.FoldingRangeKind||(e.FoldingRangeKind={}));var m;(function(v){function E(S,T,F,j,fe){var ve={startLine:S,endLine:T};return I.defined(F)&&(ve.startCharacter=F),I.defined(j)&&(ve.endCharacter=j),I.defined(fe)&&(ve.kind=fe),ve}v.create=E;function O(S){var T=S;return I.uinteger(T.startLine)&&I.uinteger(T.startLine)&&(I.undefined(T.startCharacter)||I.uinteger(T.startCharacter))&&(I.undefined(T.endCharacter)||I.uinteger(T.endCharacter))&&(I.undefined(T.kind)||I.string(T.kind))}v.is=O})(m=e.FoldingRange||(e.FoldingRange={}));var y;(function(v){function E(S,T){return{location:S,message:T}}v.create=E;function O(S){var T=S;return I.defined(T)&&a.is(T.location)&&I.string(T.message)}v.is=O})(y=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var p;(function(v){v.Error=1,v.Warning=2,v.Information=3,v.Hint=4})(p=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var d;(function(v){v.Unnecessary=1,v.Deprecated=2})(d=e.DiagnosticTag||(e.DiagnosticTag={}));var g;(function(v){function E(O){var S=O;return S!=null&&I.string(S.href)}v.is=E})(g=e.CodeDescription||(e.CodeDescription={}));var h;(function(v){function E(S,T,F,j,fe,ve){var Ve={range:S,message:T};return I.defined(F)&&(Ve.severity=F),I.defined(j)&&(Ve.code=j),I.defined(fe)&&(Ve.source=fe),I.defined(ve)&&(Ve.relatedInformation=ve),Ve}v.create=E;function O(S){var T,F=S;return I.defined(F)&&s.is(F.range)&&I.string(F.message)&&(I.number(F.severity)||I.undefined(F.severity))&&(I.integer(F.code)||I.string(F.code)||I.undefined(F.code))&&(I.undefined(F.codeDescription)||I.string((T=F.codeDescription)===null||T===void 0?void 0:T.href))&&(I.string(F.source)||I.undefined(F.source))&&(I.undefined(F.relatedInformation)||I.typedArray(F.relatedInformation,y.is))}v.is=O})(h=e.Diagnostic||(e.Diagnostic={}));var b;(function(v){function E(S,T){for(var F=[],j=2;j<arguments.length;j++)F[j-2]=arguments[j];var fe={title:S,command:T};return I.defined(F)&&F.length>0&&(fe.arguments=F),fe}v.create=E;function O(S){var T=S;return I.defined(T)&&I.string(T.title)&&I.string(T.command)}v.is=O})(b=e.Command||(e.Command={}));var _;(function(v){function E(F,j){return{range:F,newText:j}}v.replace=E;function O(F,j){return{range:{start:F,end:F},newText:j}}v.insert=O;function S(F){return{range:F,newText:""}}v.del=S;function T(F){var j=F;return I.objectLiteral(j)&&I.string(j.newText)&&s.is(j.range)}v.is=T})(_=e.TextEdit||(e.TextEdit={}));var N;(function(v){function E(S,T,F){var j={label:S};return T!==void 0&&(j.needsConfirmation=T),F!==void 0&&(j.description=F),j}v.create=E;function O(S){var T=S;return T!==void 0&&I.objectLiteral(T)&&I.string(T.label)&&(I.boolean(T.needsConfirmation)||T.needsConfirmation===void 0)&&(I.string(T.description)||T.description===void 0)}v.is=O})(N=e.ChangeAnnotation||(e.ChangeAnnotation={}));var C;(function(v){function E(O){var S=O;return typeof S=="string"}v.is=E})(C=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var W;(function(v){function E(F,j,fe){return{range:F,newText:j,annotationId:fe}}v.replace=E;function O(F,j,fe){return{range:{start:F,end:F},newText:j,annotationId:fe}}v.insert=O;function S(F,j){return{range:F,newText:"",annotationId:j}}v.del=S;function T(F){var j=F;return _.is(j)&&(N.is(j.annotationId)||C.is(j.annotationId))}v.is=T})(W=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var L;(function(v){function E(S,T){return{textDocument:S,edits:T}}v.create=E;function O(S){var T=S;return I.defined(T)&&ct.is(T.textDocument)&&Array.isArray(T.edits)}v.is=O})(L=e.TextDocumentEdit||(e.TextDocumentEdit={}));var M;(function(v){function E(S,T,F){var j={kind:"create",uri:S};return T!==void 0&&(T.overwrite!==void 0||T.ignoreIfExists!==void 0)&&(j.options=T),F!==void 0&&(j.annotationId=F),j}v.create=E;function O(S){var T=S;return T&&T.kind==="create"&&I.string(T.uri)&&(T.options===void 0||(T.options.overwrite===void 0||I.boolean(T.options.overwrite))&&(T.options.ignoreIfExists===void 0||I.boolean(T.options.ignoreIfExists)))&&(T.annotationId===void 0||C.is(T.annotationId))}v.is=O})(M=e.CreateFile||(e.CreateFile={}));var H;(function(v){function E(S,T,F,j){var fe={kind:"rename",oldUri:S,newUri:T};return F!==void 0&&(F.overwrite!==void 0||F.ignoreIfExists!==void 0)&&(fe.options=F),j!==void 0&&(fe.annotationId=j),fe}v.create=E;function O(S){var T=S;return T&&T.kind==="rename"&&I.string(T.oldUri)&&I.string(T.newUri)&&(T.options===void 0||(T.options.overwrite===void 0||I.boolean(T.options.overwrite))&&(T.options.ignoreIfExists===void 0||I.boolean(T.options.ignoreIfExists)))&&(T.annotationId===void 0||C.is(T.annotationId))}v.is=O})(H=e.RenameFile||(e.RenameFile={}));var $;(function(v){function E(S,T,F){var j={kind:"delete",uri:S};return T!==void 0&&(T.recursive!==void 0||T.ignoreIfNotExists!==void 0)&&(j.options=T),F!==void 0&&(j.annotationId=F),j}v.create=E;function O(S){var T=S;return T&&T.kind==="delete"&&I.string(T.uri)&&(T.options===void 0||(T.options.recursive===void 0||I.boolean(T.options.recursive))&&(T.options.ignoreIfNotExists===void 0||I.boolean(T.options.ignoreIfNotExists)))&&(T.annotationId===void 0||C.is(T.annotationId))}v.is=O})($=e.DeleteFile||(e.DeleteFile={}));var ne;(function(v){function E(O){var S=O;return S&&(S.changes!==void 0||S.documentChanges!==void 0)&&(S.documentChanges===void 0||S.documentChanges.every(function(T){return I.string(T.kind)?M.is(T)||H.is(T)||$.is(T):L.is(T)}))}v.is=E})(ne=e.WorkspaceEdit||(e.WorkspaceEdit={}));var re=function(){function v(E,O){this.edits=E,this.changeAnnotations=O}return v.prototype.insert=function(E,O,S){var T,F;if(S===void 0?T=_.insert(E,O):C.is(S)?(F=S,T=W.insert(E,O,S)):(this.assertChangeAnnotations(this.changeAnnotations),F=this.changeAnnotations.manage(S),T=W.insert(E,O,F)),this.edits.push(T),F!==void 0)return F},v.prototype.replace=function(E,O,S){var T,F;if(S===void 0?T=_.replace(E,O):C.is(S)?(F=S,T=W.replace(E,O,S)):(this.assertChangeAnnotations(this.changeAnnotations),F=this.changeAnnotations.manage(S),T=W.replace(E,O,F)),this.edits.push(T),F!==void 0)return F},v.prototype.delete=function(E,O){var S,T;if(O===void 0?S=_.del(E):C.is(O)?(T=O,S=W.del(E,O)):(this.assertChangeAnnotations(this.changeAnnotations),T=this.changeAnnotations.manage(O),S=W.del(E,T)),this.edits.push(S),T!==void 0)return T},v.prototype.add=function(E){this.edits.push(E)},v.prototype.all=function(){return this.edits},v.prototype.clear=function(){this.edits.splice(0,this.edits.length)},v.prototype.assertChangeAnnotations=function(E){if(E===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},v}(),ye=function(){function v(E){this._annotations=E===void 0?Object.create(null):E,this._counter=0,this._size=0}return v.prototype.all=function(){return this._annotations},Object.defineProperty(v.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),v.prototype.manage=function(E,O){var S;if(C.is(E)?S=E:(S=this.nextId(),O=E),this._annotations[S]!==void 0)throw new Error("Id "+S+" is already in use.");if(O===void 0)throw new Error("No annotation provided for id "+S);return this._annotations[S]=O,this._size++,S},v.prototype.nextId=function(){return this._counter++,this._counter.toString()},v}(),Pe=function(){function v(E){var O=this;this._textEditChanges=Object.create(null),E!==void 0?(this._workspaceEdit=E,E.documentChanges?(this._changeAnnotations=new ye(E.changeAnnotations),E.changeAnnotations=this._changeAnnotations.all(),E.documentChanges.forEach(function(S){if(L.is(S)){var T=new re(S.edits,O._changeAnnotations);O._textEditChanges[S.textDocument.uri]=T}})):E.changes&&Object.keys(E.changes).forEach(function(S){var T=new re(E.changes[S]);O._textEditChanges[S]=T})):this._workspaceEdit={}}return Object.defineProperty(v.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),v.prototype.getTextEditChange=function(E){if(ct.is(E)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var O={uri:E.uri,version:E.version},S=this._textEditChanges[O.uri];if(!S){var T=[],F={textDocument:O,edits:T};this._workspaceEdit.documentChanges.push(F),S=new re(T,this._changeAnnotations),this._textEditChanges[O.uri]=S}return S}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var S=this._textEditChanges[E];if(!S){var T=[];this._workspaceEdit.changes[E]=T,S=new re(T),this._textEditChanges[E]=S}return S}},v.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new ye,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},v.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},v.prototype.createFile=function(E,O,S){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var T;N.is(O)||C.is(O)?T=O:S=O;var F,j;if(T===void 0?F=M.create(E,S):(j=C.is(T)?T:this._changeAnnotations.manage(T),F=M.create(E,S,j)),this._workspaceEdit.documentChanges.push(F),j!==void 0)return j},v.prototype.renameFile=function(E,O,S,T){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var F;N.is(S)||C.is(S)?F=S:T=S;var j,fe;if(F===void 0?j=H.create(E,O,T):(fe=C.is(F)?F:this._changeAnnotations.manage(F),j=H.create(E,O,T,fe)),this._workspaceEdit.documentChanges.push(j),fe!==void 0)return fe},v.prototype.deleteFile=function(E,O,S){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var T;N.is(O)||C.is(O)?T=O:S=O;var F,j;if(T===void 0?F=$.create(E,S):(j=C.is(T)?T:this._changeAnnotations.manage(T),F=$.create(E,S,j)),this._workspaceEdit.documentChanges.push(F),j!==void 0)return j},v}();e.WorkspaceChange=Pe;var oe;(function(v){function E(S){return{uri:S}}v.create=E;function O(S){var T=S;return I.defined(T)&&I.string(T.uri)}v.is=O})(oe=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var De;(function(v){function E(S,T){return{uri:S,version:T}}v.create=E;function O(S){var T=S;return I.defined(T)&&I.string(T.uri)&&I.integer(T.version)}v.is=O})(De=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var ct;(function(v){function E(S,T){return{uri:S,version:T}}v.create=E;function O(S){var T=S;return I.defined(T)&&I.string(T.uri)&&(T.version===null||I.integer(T.version))}v.is=O})(ct=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var Qt;(function(v){function E(S,T,F,j){return{uri:S,languageId:T,version:F,text:j}}v.create=E;function O(S){var T=S;return I.defined(T)&&I.string(T.uri)&&I.string(T.languageId)&&I.integer(T.version)&&I.string(T.text)}v.is=O})(Qt=e.TextDocumentItem||(e.TextDocumentItem={}));var Je;(function(v){v.PlainText="plaintext",v.Markdown="markdown"})(Je=e.MarkupKind||(e.MarkupKind={})),function(v){function E(O){var S=O;return S===v.PlainText||S===v.Markdown}v.is=E}(Je=e.MarkupKind||(e.MarkupKind={}));var ft;(function(v){function E(O){var S=O;return I.objectLiteral(O)&&Je.is(S.kind)&&I.string(S.value)}v.is=E})(ft=e.MarkupContent||(e.MarkupContent={}));var pe;(function(v){v.Text=1,v.Method=2,v.Function=3,v.Constructor=4,v.Field=5,v.Variable=6,v.Class=7,v.Interface=8,v.Module=9,v.Property=10,v.Unit=11,v.Value=12,v.Enum=13,v.Keyword=14,v.Snippet=15,v.Color=16,v.File=17,v.Reference=18,v.Folder=19,v.EnumMember=20,v.Constant=21,v.Struct=22,v.Event=23,v.Operator=24,v.TypeParameter=25})(pe=e.CompletionItemKind||(e.CompletionItemKind={}));var Re;(function(v){v.PlainText=1,v.Snippet=2})(Re=e.InsertTextFormat||(e.InsertTextFormat={}));var Ge;(function(v){v.Deprecated=1})(Ge=e.CompletionItemTag||(e.CompletionItemTag={}));var J;(function(v){function E(S,T,F){return{newText:S,insert:T,replace:F}}v.create=E;function O(S){var T=S;return T&&I.string(T.newText)&&s.is(T.insert)&&s.is(T.replace)}v.is=O})(J=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var pt;(function(v){v.asIs=1,v.adjustIndentation=2})(pt=e.InsertTextMode||(e.InsertTextMode={}));var st;(function(v){function E(O){return{label:O}}v.create=E})(st=e.CompletionItem||(e.CompletionItem={}));var Et;(function(v){function E(O,S){return{items:O||[],isIncomplete:!!S}}v.create=E})(Et=e.CompletionList||(e.CompletionList={}));var vn;(function(v){function E(S){return S.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}v.fromPlainText=E;function O(S){var T=S;return I.string(T)||I.objectLiteral(T)&&I.string(T.language)&&I.string(T.value)}v.is=O})(vn=e.MarkedString||(e.MarkedString={}));var Si;(function(v){function E(O){var S=O;return!!S&&I.objectLiteral(S)&&(ft.is(S.contents)||vn.is(S.contents)||I.typedArray(S.contents,vn.is))&&(O.range===void 0||s.is(O.range))}v.is=E})(Si=e.Hover||(e.Hover={}));var ui;(function(v){function E(O,S){return S?{label:O,documentation:S}:{label:O}}v.create=E})(ui=e.ParameterInformation||(e.ParameterInformation={}));var Bo;(function(v){function E(O,S){for(var T=[],F=2;F<arguments.length;F++)T[F-2]=arguments[F];var j={label:O};return I.defined(S)&&(j.documentation=S),I.defined(T)?j.parameters=T:j.parameters=[],j}v.create=E})(Bo=e.SignatureInformation||(e.SignatureInformation={}));var Hi;(function(v){v.Text=1,v.Read=2,v.Write=3})(Hi=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var Gn;(function(v){function E(O,S){var T={range:O};return I.number(S)&&(T.kind=S),T}v.create=E})(Gn=e.DocumentHighlight||(e.DocumentHighlight={}));var qo;(function(v){v.File=1,v.Module=2,v.Namespace=3,v.Package=4,v.Class=5,v.Method=6,v.Property=7,v.Field=8,v.Constructor=9,v.Enum=10,v.Interface=11,v.Function=12,v.Variable=13,v.Constant=14,v.String=15,v.Number=16,v.Boolean=17,v.Array=18,v.Object=19,v.Key=20,v.Null=21,v.EnumMember=22,v.Struct=23,v.Event=24,v.Operator=25,v.TypeParameter=26})(qo=e.SymbolKind||(e.SymbolKind={}));var R;(function(v){v.Deprecated=1})(R=e.SymbolTag||(e.SymbolTag={}));var B;(function(v){function E(O,S,T,F,j){var fe={name:O,kind:S,location:{uri:F,range:T}};return j&&(fe.containerName=j),fe}v.create=E})(B=e.SymbolInformation||(e.SymbolInformation={}));var te;(function(v){function E(S,T,F,j,fe,ve){var Ve={name:S,detail:T,kind:F,range:j,selectionRange:fe};return ve!==void 0&&(Ve.children=ve),Ve}v.create=E;function O(S){var T=S;return T&&I.string(T.name)&&I.number(T.kind)&&s.is(T.range)&&s.is(T.selectionRange)&&(T.detail===void 0||I.string(T.detail))&&(T.deprecated===void 0||I.boolean(T.deprecated))&&(T.children===void 0||Array.isArray(T.children))&&(T.tags===void 0||Array.isArray(T.tags))}v.is=O})(te=e.DocumentSymbol||(e.DocumentSymbol={}));var G;(function(v){v.Empty="",v.QuickFix="quickfix",v.Refactor="refactor",v.RefactorExtract="refactor.extract",v.RefactorInline="refactor.inline",v.RefactorRewrite="refactor.rewrite",v.Source="source",v.SourceOrganizeImports="source.organizeImports",v.SourceFixAll="source.fixAll"})(G=e.CodeActionKind||(e.CodeActionKind={}));var k;(function(v){function E(S,T){var F={diagnostics:S};return T!=null&&(F.only=T),F}v.create=E;function O(S){var T=S;return I.defined(T)&&I.typedArray(T.diagnostics,h.is)&&(T.only===void 0||I.typedArray(T.only,I.string))}v.is=O})(k=e.CodeActionContext||(e.CodeActionContext={}));var ce;(function(v){function E(S,T,F){var j={title:S},fe=!0;return typeof T=="string"?(fe=!1,j.kind=T):b.is(T)?j.command=T:j.edit=T,fe&&F!==void 0&&(j.kind=F),j}v.create=E;function O(S){var T=S;return T&&I.string(T.title)&&(T.diagnostics===void 0||I.typedArray(T.diagnostics,h.is))&&(T.kind===void 0||I.string(T.kind))&&(T.edit!==void 0||T.command!==void 0)&&(T.command===void 0||b.is(T.command))&&(T.isPreferred===void 0||I.boolean(T.isPreferred))&&(T.edit===void 0||ne.is(T.edit))}v.is=O})(ce=e.CodeAction||(e.CodeAction={}));var le;(function(v){function E(S,T){var F={range:S};return I.defined(T)&&(F.data=T),F}v.create=E;function O(S){var T=S;return I.defined(T)&&s.is(T.range)&&(I.undefined(T.command)||b.is(T.command))}v.is=O})(le=e.CodeLens||(e.CodeLens={}));var he;(function(v){function E(S,T){return{tabSize:S,insertSpaces:T}}v.create=E;function O(S){var T=S;return I.defined(T)&&I.uinteger(T.tabSize)&&I.boolean(T.insertSpaces)}v.is=O})(he=e.FormattingOptions||(e.FormattingOptions={}));var bt;(function(v){function E(S,T,F){return{range:S,target:T,data:F}}v.create=E;function O(S){var T=S;return I.defined(T)&&s.is(T.range)&&(I.undefined(T.target)||I.string(T.target))}v.is=O})(bt=e.DocumentLink||(e.DocumentLink={}));var Ft;(function(v){function E(S,T){return{range:S,parent:T}}v.create=E;function O(S){var T=S;return T!==void 0&&s.is(T.range)&&(T.parent===void 0||v.is(T.parent))}v.is=O})(Ft=e.SelectionRange||(e.SelectionRange={})),e.EOL=[`
`,`\r
`,"\r"];var $i;(function(v){function E(F,j,fe,ve){return new x(F,j,fe,ve)}v.create=E;function O(F){var j=F;return!!(I.defined(j)&&I.string(j.uri)&&(I.undefined(j.languageId)||I.string(j.languageId))&&I.uinteger(j.lineCount)&&I.func(j.getText)&&I.func(j.positionAt)&&I.func(j.offsetAt))}v.is=O;function S(F,j){for(var fe=F.getText(),ve=T(j,function(_a,cu){var zh=_a.range.start.line-cu.range.start.line;return zh===0?_a.range.start.character-cu.range.start.character:zh}),Ve=fe.length,dt=ve.length-1;dt>=0;dt--){var Gt=ve[dt],Jt=F.offsetAt(Gt.range.start),He=F.offsetAt(Gt.range.end);if(He<=Ve)fe=fe.substring(0,Jt)+Gt.newText+fe.substring(He,fe.length);else throw new Error("Overlapping edit");Ve=Jt}return fe}v.applyEdits=S;function T(F,j){if(F.length<=1)return F;var fe=F.length/2|0,ve=F.slice(0,fe),Ve=F.slice(fe);T(ve,j),T(Ve,j);for(var dt=0,Gt=0,Jt=0;dt<ve.length&&Gt<Ve.length;){var He=j(ve[dt],Ve[Gt]);He<=0?F[Jt++]=ve[dt++]:F[Jt++]=Ve[Gt++]}for(;dt<ve.length;)F[Jt++]=ve[dt++];for(;Gt<Ve.length;)F[Jt++]=Ve[Gt++];return F}})($i=e.TextDocument||(e.TextDocument={}));var x=function(){function v(E,O,S,T){this._uri=E,this._languageId=O,this._version=S,this._content=T,this._lineOffsets=void 0}return Object.defineProperty(v.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),v.prototype.getText=function(E){if(E){var O=this.offsetAt(E.start),S=this.offsetAt(E.end);return this._content.substring(O,S)}return this._content},v.prototype.update=function(E,O){this._content=E.text,this._version=O,this._lineOffsets=void 0},v.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var E=[],O=this._content,S=!0,T=0;T<O.length;T++){S&&(E.push(T),S=!1);var F=O.charAt(T);S=F==="\r"||F===`
`,F==="\r"&&T+1<O.length&&O.charAt(T+1)===`
`&&T++}S&&O.length>0&&E.push(O.length),this._lineOffsets=E}return this._lineOffsets},v.prototype.positionAt=function(E){E=Math.max(Math.min(E,this._content.length),0);var O=this.getLineOffsets(),S=0,T=O.length;if(T===0)return i.create(0,E);for(;S<T;){var F=Math.floor((S+T)/2);O[F]>E?T=F:S=F+1}var j=S-1;return i.create(j,E-O[j])},v.prototype.offsetAt=function(E){var O=this.getLineOffsets();if(E.line>=O.length)return this._content.length;if(E.line<0)return 0;var S=O[E.line],T=E.line+1<O.length?O[E.line+1]:this._content.length;return Math.max(Math.min(S+E.character,T),S)},Object.defineProperty(v.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),v}(),I;(function(v){var E=Object.prototype.toString;function O(He){return typeof He!="undefined"}v.defined=O;function S(He){return typeof He=="undefined"}v.undefined=S;function T(He){return He===!0||He===!1}v.boolean=T;function F(He){return E.call(He)==="[object String]"}v.string=F;function j(He){return E.call(He)==="[object Number]"}v.number=j;function fe(He,_a,cu){return E.call(He)==="[object Number]"&&_a<=He&&He<=cu}v.numberRange=fe;function ve(He){return E.call(He)==="[object Number]"&&-2147483648<=He&&He<=2147483647}v.integer=ve;function Ve(He){return E.call(He)==="[object Number]"&&0<=He&&He<=2147483647}v.uinteger=Ve;function dt(He){return E.call(He)==="[object Function]"}v.func=dt;function Gt(He){return He!==null&&typeof He=="object"}v.objectLiteral=Gt;function Jt(He,_a){return Array.isArray(He)&&He.every(_a)}v.typedArray=Jt})(I||(I={}))})});var nn=X(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});Tr.ProtocolNotificationType=Tr.ProtocolNotificationType0=Tr.ProtocolRequestType=Tr.ProtocolRequestType0=Tr.RegistrationType=void 0;var Ra=xa(),w_=class{constructor(e){this.method=e}};Tr.RegistrationType=w_;var O_=class extends Ra.RequestType0{constructor(e){super(e)}};Tr.ProtocolRequestType0=O_;var L_=class extends Ra.RequestType{constructor(e){super(e,Ra.ParameterStructures.byName)}};Tr.ProtocolRequestType=L_;var F_=class extends Ra.NotificationType0{constructor(e){super(e)}};Tr.ProtocolNotificationType0=F_;var k_=class extends Ra.NotificationType{constructor(e){super(e,Ra.ParameterStructures.byName)}};Tr.ProtocolNotificationType=k_});var q_=X(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.objectLiteral=Vt.typedArray=Vt.stringArray=Vt.array=Vt.func=Vt.error=Vt.number=Vt.string=Vt.boolean=void 0;function gS(t){return t===!0||t===!1}Vt.boolean=gS;function M_(t){return typeof t=="string"||t instanceof String}Vt.string=M_;function _S(t){return typeof t=="number"||t instanceof Number}Vt.number=_S;function yS(t){return t instanceof Error}Vt.error=yS;function bS(t){return typeof t=="function"}Vt.func=bS;function B_(t){return Array.isArray(t)}Vt.array=B_;function TS(t){return B_(t)&&t.every(e=>M_(e))}Vt.stringArray=TS;function vS(t,e){return Array.isArray(t)&&t.every(e)}Vt.typedArray=vS;function NS(t){return t!==null&&typeof t=="object"}Vt.objectLiteral=NS});var V_=X(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.ImplementationRequest=void 0;var CS=nn(),PS;(function(t){t.method="textDocument/implementation",t.type=new CS.ProtocolRequestType(t.method)})(PS=tl.ImplementationRequest||(tl.ImplementationRequest={}))});var j_=X(nl=>{"use strict";Object.defineProperty(nl,"__esModule",{value:!0});nl.TypeDefinitionRequest=void 0;var DS=nn(),SS;(function(t){t.method="textDocument/typeDefinition",t.type=new DS.ProtocolRequestType(t.method)})(SS=nl.TypeDefinitionRequest||(nl.TypeDefinitionRequest={}))});var W_=X(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.DidChangeWorkspaceFoldersNotification=Ji.WorkspaceFoldersRequest=void 0;var U_=nn(),AS;(function(t){t.type=new U_.ProtocolRequestType0("workspace/workspaceFolders")})(AS=Ji.WorkspaceFoldersRequest||(Ji.WorkspaceFoldersRequest={}));var IS;(function(t){t.type=new U_.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(IS=Ji.DidChangeWorkspaceFoldersNotification||(Ji.DidChangeWorkspaceFoldersNotification={}))});var G_=X(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.ConfigurationRequest=void 0;var ES=nn(),xS;(function(t){t.type=new ES.ProtocolRequestType("workspace/configuration")})(xS=rl.ConfigurationRequest||(rl.ConfigurationRequest={}))});var H_=X(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.ColorPresentationRequest=Zi.DocumentColorRequest=void 0;var Y_=nn(),RS;(function(t){t.method="textDocument/documentColor",t.type=new Y_.ProtocolRequestType(t.method)})(RS=Zi.DocumentColorRequest||(Zi.DocumentColorRequest={}));var wS;(function(t){t.type=new Y_.ProtocolRequestType("textDocument/colorPresentation")})(wS=Zi.ColorPresentationRequest||(Zi.ColorPresentationRequest={}))});var $_=X(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.FoldingRangeRequest=es.FoldingRangeKind=void 0;var OS=nn(),LS;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(LS=es.FoldingRangeKind||(es.FoldingRangeKind={}));var FS;(function(t){t.method="textDocument/foldingRange",t.type=new OS.ProtocolRequestType(t.method)})(FS=es.FoldingRangeRequest||(es.FoldingRangeRequest={}))});var K_=X(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});il.DeclarationRequest=void 0;var kS=nn(),MS;(function(t){t.method="textDocument/declaration",t.type=new kS.ProtocolRequestType(t.method)})(MS=il.DeclarationRequest||(il.DeclarationRequest={}))});var z_=X(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});sl.SelectionRangeRequest=void 0;var BS=nn(),qS;(function(t){t.method="textDocument/selectionRange",t.type=new BS.ProtocolRequestType(t.method)})(qS=sl.SelectionRangeRequest||(sl.SelectionRangeRequest={}))});var Q_=X(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.WorkDoneProgressCancelNotification=Xr.WorkDoneProgressCreateRequest=Xr.WorkDoneProgress=void 0;var VS=xa(),X_=nn(),jS;(function(t){t.type=new VS.ProgressType;function e(n){return n===t.type}t.is=e})(jS=Xr.WorkDoneProgress||(Xr.WorkDoneProgress={}));var US;(function(t){t.type=new X_.ProtocolRequestType("window/workDoneProgress/create")})(US=Xr.WorkDoneProgressCreateRequest||(Xr.WorkDoneProgressCreateRequest={}));var WS;(function(t){t.type=new X_.ProtocolNotificationType("window/workDoneProgress/cancel")})(WS=Xr.WorkDoneProgressCancelNotification||(Xr.WorkDoneProgressCancelNotification={}))});var J_=X(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.CallHierarchyOutgoingCallsRequest=Qr.CallHierarchyIncomingCallsRequest=Qr.CallHierarchyPrepareRequest=void 0;var Mp=nn(),GS;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new Mp.ProtocolRequestType(t.method)})(GS=Qr.CallHierarchyPrepareRequest||(Qr.CallHierarchyPrepareRequest={}));var YS;(function(t){t.method="callHierarchy/incomingCalls",t.type=new Mp.ProtocolRequestType(t.method)})(YS=Qr.CallHierarchyIncomingCallsRequest||(Qr.CallHierarchyIncomingCallsRequest={}));var HS;(function(t){t.method="callHierarchy/outgoingCalls",t.type=new Mp.ProtocolRequestType(t.method)})(HS=Qr.CallHierarchyOutgoingCallsRequest||(Qr.CallHierarchyOutgoingCallsRequest={}))});var Z_=X(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.SemanticTokensRefreshRequest=rt.SemanticTokensRangeRequest=rt.SemanticTokensDeltaRequest=rt.SemanticTokensRequest=rt.SemanticTokensRegistrationType=rt.TokenFormat=rt.SemanticTokens=rt.SemanticTokenModifiers=rt.SemanticTokenTypes=void 0;var al=nn(),$S;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator"})($S=rt.SemanticTokenTypes||(rt.SemanticTokenTypes={}));var KS;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(KS=rt.SemanticTokenModifiers||(rt.SemanticTokenModifiers={}));var zS;(function(t){function e(n){let r=n;return r!==void 0&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(zS=rt.SemanticTokens||(rt.SemanticTokens={}));var XS;(function(t){t.Relative="relative"})(XS=rt.TokenFormat||(rt.TokenFormat={}));var QS;(function(t){t.method="textDocument/semanticTokens",t.type=new al.RegistrationType(t.method)})(QS=rt.SemanticTokensRegistrationType||(rt.SemanticTokensRegistrationType={}));var JS;(function(t){t.method="textDocument/semanticTokens/full",t.type=new al.ProtocolRequestType(t.method)})(JS=rt.SemanticTokensRequest||(rt.SemanticTokensRequest={}));var ZS;(function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new al.ProtocolRequestType(t.method)})(ZS=rt.SemanticTokensDeltaRequest||(rt.SemanticTokensDeltaRequest={}));var eA;(function(t){t.method="textDocument/semanticTokens/range",t.type=new al.ProtocolRequestType(t.method)})(eA=rt.SemanticTokensRangeRequest||(rt.SemanticTokensRangeRequest={}));var tA;(function(t){t.method="workspace/semanticTokens/refresh",t.type=new al.ProtocolRequestType0(t.method)})(tA=rt.SemanticTokensRefreshRequest||(rt.SemanticTokensRefreshRequest={}))});var ey=X(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.ShowDocumentRequest=void 0;var nA=nn(),rA;(function(t){t.method="window/showDocument",t.type=new nA.ProtocolRequestType(t.method)})(rA=ol.ShowDocumentRequest||(ol.ShowDocumentRequest={}))});var ty=X(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.LinkedEditingRangeRequest=void 0;var iA=nn(),sA;(function(t){t.method="textDocument/linkedEditingRange",t.type=new iA.ProtocolRequestType(t.method)})(sA=ll.LinkedEditingRangeRequest||(ll.LinkedEditingRangeRequest={}))});var ny=X(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.WillDeleteFilesRequest=Dt.DidDeleteFilesNotification=Dt.DidRenameFilesNotification=Dt.WillRenameFilesRequest=Dt.DidCreateFilesNotification=Dt.WillCreateFilesRequest=Dt.FileOperationPatternKind=void 0;var wa=nn(),aA;(function(t){t.file="file",t.folder="folder"})(aA=Dt.FileOperationPatternKind||(Dt.FileOperationPatternKind={}));var oA;(function(t){t.method="workspace/willCreateFiles",t.type=new wa.ProtocolRequestType(t.method)})(oA=Dt.WillCreateFilesRequest||(Dt.WillCreateFilesRequest={}));var lA;(function(t){t.method="workspace/didCreateFiles",t.type=new wa.ProtocolNotificationType(t.method)})(lA=Dt.DidCreateFilesNotification||(Dt.DidCreateFilesNotification={}));var uA;(function(t){t.method="workspace/willRenameFiles",t.type=new wa.ProtocolRequestType(t.method)})(uA=Dt.WillRenameFilesRequest||(Dt.WillRenameFilesRequest={}));var cA;(function(t){t.method="workspace/didRenameFiles",t.type=new wa.ProtocolNotificationType(t.method)})(cA=Dt.DidRenameFilesNotification||(Dt.DidRenameFilesNotification={}));var fA;(function(t){t.method="workspace/didDeleteFiles",t.type=new wa.ProtocolNotificationType(t.method)})(fA=Dt.DidDeleteFilesNotification||(Dt.DidDeleteFilesNotification={}));var pA;(function(t){t.method="workspace/willDeleteFiles",t.type=new wa.ProtocolRequestType(t.method)})(pA=Dt.WillDeleteFilesRequest||(Dt.WillDeleteFilesRequest={}))});var ry=X(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.MonikerRequest=Jr.MonikerKind=Jr.UniquenessLevel=void 0;var dA=nn(),mA;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(mA=Jr.UniquenessLevel||(Jr.UniquenessLevel={}));var hA;(function(t){t.import="import",t.export="export",t.local="local"})(hA=Jr.MonikerKind||(Jr.MonikerKind={}));var gA;(function(t){t.method="textDocument/moniker",t.type=new dA.ProtocolRequestType(t.method)})(gA=Jr.MonikerRequest||(Jr.MonikerRequest={}))});var ly=X(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.DocumentLinkRequest=A.CodeLensRefreshRequest=A.CodeLensResolveRequest=A.CodeLensRequest=A.WorkspaceSymbolRequest=A.CodeActionResolveRequest=A.CodeActionRequest=A.DocumentSymbolRequest=A.DocumentHighlightRequest=A.ReferencesRequest=A.DefinitionRequest=A.SignatureHelpRequest=A.SignatureHelpTriggerKind=A.HoverRequest=A.CompletionResolveRequest=A.CompletionRequest=A.CompletionTriggerKind=A.PublishDiagnosticsNotification=A.WatchKind=A.FileChangeType=A.DidChangeWatchedFilesNotification=A.WillSaveTextDocumentWaitUntilRequest=A.WillSaveTextDocumentNotification=A.TextDocumentSaveReason=A.DidSaveTextDocumentNotification=A.DidCloseTextDocumentNotification=A.DidChangeTextDocumentNotification=A.TextDocumentContentChangeEvent=A.DidOpenTextDocumentNotification=A.TextDocumentSyncKind=A.TelemetryEventNotification=A.LogMessageNotification=A.ShowMessageRequest=A.ShowMessageNotification=A.MessageType=A.DidChangeConfigurationNotification=A.ExitNotification=A.ShutdownRequest=A.InitializedNotification=A.InitializeError=A.InitializeRequest=A.WorkDoneProgressOptions=A.TextDocumentRegistrationOptions=A.StaticRegistrationOptions=A.FailureHandlingKind=A.ResourceOperationKind=A.UnregistrationRequest=A.RegistrationRequest=A.DocumentSelector=A.DocumentFilter=void 0;A.MonikerRequest=A.MonikerKind=A.UniquenessLevel=A.WillDeleteFilesRequest=A.DidDeleteFilesNotification=A.WillRenameFilesRequest=A.DidRenameFilesNotification=A.WillCreateFilesRequest=A.DidCreateFilesNotification=A.FileOperationPatternKind=A.LinkedEditingRangeRequest=A.ShowDocumentRequest=A.SemanticTokensRegistrationType=A.SemanticTokensRefreshRequest=A.SemanticTokensRangeRequest=A.SemanticTokensDeltaRequest=A.SemanticTokensRequest=A.TokenFormat=A.SemanticTokens=A.SemanticTokenModifiers=A.SemanticTokenTypes=A.CallHierarchyPrepareRequest=A.CallHierarchyOutgoingCallsRequest=A.CallHierarchyIncomingCallsRequest=A.WorkDoneProgressCancelNotification=A.WorkDoneProgressCreateRequest=A.WorkDoneProgress=A.SelectionRangeRequest=A.DeclarationRequest=A.FoldingRangeRequest=A.ColorPresentationRequest=A.DocumentColorRequest=A.ConfigurationRequest=A.DidChangeWorkspaceFoldersNotification=A.WorkspaceFoldersRequest=A.TypeDefinitionRequest=A.ImplementationRequest=A.ApplyWorkspaceEditRequest=A.ExecuteCommandRequest=A.PrepareRenameRequest=A.RenameRequest=A.PrepareSupportDefaultBehavior=A.DocumentOnTypeFormattingRequest=A.DocumentRangeFormattingRequest=A.DocumentFormattingRequest=A.DocumentLinkResolveRequest=void 0;var ts=q_(),Me=nn(),_A=V_();Object.defineProperty(A,"ImplementationRequest",{enumerable:!0,get:function(){return _A.ImplementationRequest}});var yA=j_();Object.defineProperty(A,"TypeDefinitionRequest",{enumerable:!0,get:function(){return yA.TypeDefinitionRequest}});var iy=W_();Object.defineProperty(A,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return iy.WorkspaceFoldersRequest}});Object.defineProperty(A,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return iy.DidChangeWorkspaceFoldersNotification}});var bA=G_();Object.defineProperty(A,"ConfigurationRequest",{enumerable:!0,get:function(){return bA.ConfigurationRequest}});var sy=H_();Object.defineProperty(A,"DocumentColorRequest",{enumerable:!0,get:function(){return sy.DocumentColorRequest}});Object.defineProperty(A,"ColorPresentationRequest",{enumerable:!0,get:function(){return sy.ColorPresentationRequest}});var TA=$_();Object.defineProperty(A,"FoldingRangeRequest",{enumerable:!0,get:function(){return TA.FoldingRangeRequest}});var vA=K_();Object.defineProperty(A,"DeclarationRequest",{enumerable:!0,get:function(){return vA.DeclarationRequest}});var NA=z_();Object.defineProperty(A,"SelectionRangeRequest",{enumerable:!0,get:function(){return NA.SelectionRangeRequest}});var Bp=Q_();Object.defineProperty(A,"WorkDoneProgress",{enumerable:!0,get:function(){return Bp.WorkDoneProgress}});Object.defineProperty(A,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Bp.WorkDoneProgressCreateRequest}});Object.defineProperty(A,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Bp.WorkDoneProgressCancelNotification}});var qp=J_();Object.defineProperty(A,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return qp.CallHierarchyIncomingCallsRequest}});Object.defineProperty(A,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return qp.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(A,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return qp.CallHierarchyPrepareRequest}});var Fi=Z_();Object.defineProperty(A,"SemanticTokenTypes",{enumerable:!0,get:function(){return Fi.SemanticTokenTypes}});Object.defineProperty(A,"SemanticTokenModifiers",{enumerable:!0,get:function(){return Fi.SemanticTokenModifiers}});Object.defineProperty(A,"SemanticTokens",{enumerable:!0,get:function(){return Fi.SemanticTokens}});Object.defineProperty(A,"TokenFormat",{enumerable:!0,get:function(){return Fi.TokenFormat}});Object.defineProperty(A,"SemanticTokensRequest",{enumerable:!0,get:function(){return Fi.SemanticTokensRequest}});Object.defineProperty(A,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Fi.SemanticTokensDeltaRequest}});Object.defineProperty(A,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Fi.SemanticTokensRangeRequest}});Object.defineProperty(A,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Fi.SemanticTokensRefreshRequest}});Object.defineProperty(A,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Fi.SemanticTokensRegistrationType}});var CA=ey();Object.defineProperty(A,"ShowDocumentRequest",{enumerable:!0,get:function(){return CA.ShowDocumentRequest}});var PA=ty();Object.defineProperty(A,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return PA.LinkedEditingRangeRequest}});var Ms=ny();Object.defineProperty(A,"FileOperationPatternKind",{enumerable:!0,get:function(){return Ms.FileOperationPatternKind}});Object.defineProperty(A,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Ms.DidCreateFilesNotification}});Object.defineProperty(A,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Ms.WillCreateFilesRequest}});Object.defineProperty(A,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Ms.DidRenameFilesNotification}});Object.defineProperty(A,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Ms.WillRenameFilesRequest}});Object.defineProperty(A,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Ms.DidDeleteFilesNotification}});Object.defineProperty(A,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Ms.WillDeleteFilesRequest}});var Vp=ry();Object.defineProperty(A,"UniquenessLevel",{enumerable:!0,get:function(){return Vp.UniquenessLevel}});Object.defineProperty(A,"MonikerKind",{enumerable:!0,get:function(){return Vp.MonikerKind}});Object.defineProperty(A,"MonikerRequest",{enumerable:!0,get:function(){return Vp.MonikerRequest}});var ay;(function(t){function e(n){let r=n;return ts.string(r.language)||ts.string(r.scheme)||ts.string(r.pattern)}t.is=e})(ay=A.DocumentFilter||(A.DocumentFilter={}));var oy;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!ts.string(r)&&!ay.is(r))return!1;return!0}t.is=e})(oy=A.DocumentSelector||(A.DocumentSelector={}));var DA;(function(t){t.type=new Me.ProtocolRequestType("client/registerCapability")})(DA=A.RegistrationRequest||(A.RegistrationRequest={}));var SA;(function(t){t.type=new Me.ProtocolRequestType("client/unregisterCapability")})(SA=A.UnregistrationRequest||(A.UnregistrationRequest={}));var AA;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(AA=A.ResourceOperationKind||(A.ResourceOperationKind={}));var IA;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(IA=A.FailureHandlingKind||(A.FailureHandlingKind={}));var EA;(function(t){function e(n){let r=n;return r&&ts.string(r.id)&&r.id.length>0}t.hasId=e})(EA=A.StaticRegistrationOptions||(A.StaticRegistrationOptions={}));var xA;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||oy.is(r.documentSelector))}t.is=e})(xA=A.TextDocumentRegistrationOptions||(A.TextDocumentRegistrationOptions={}));var RA;(function(t){function e(r){let i=r;return ts.objectLiteral(i)&&(i.workDoneProgress===void 0||ts.boolean(i.workDoneProgress))}t.is=e;function n(r){let i=r;return i&&ts.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=n})(RA=A.WorkDoneProgressOptions||(A.WorkDoneProgressOptions={}));var wA;(function(t){t.type=new Me.ProtocolRequestType("initialize")})(wA=A.InitializeRequest||(A.InitializeRequest={}));var OA;(function(t){t.unknownProtocolVersion=1})(OA=A.InitializeError||(A.InitializeError={}));var LA;(function(t){t.type=new Me.ProtocolNotificationType("initialized")})(LA=A.InitializedNotification||(A.InitializedNotification={}));var FA;(function(t){t.type=new Me.ProtocolRequestType0("shutdown")})(FA=A.ShutdownRequest||(A.ShutdownRequest={}));var kA;(function(t){t.type=new Me.ProtocolNotificationType0("exit")})(kA=A.ExitNotification||(A.ExitNotification={}));var MA;(function(t){t.type=new Me.ProtocolNotificationType("workspace/didChangeConfiguration")})(MA=A.DidChangeConfigurationNotification||(A.DidChangeConfigurationNotification={}));var BA;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(BA=A.MessageType||(A.MessageType={}));var qA;(function(t){t.type=new Me.ProtocolNotificationType("window/showMessage")})(qA=A.ShowMessageNotification||(A.ShowMessageNotification={}));var VA;(function(t){t.type=new Me.ProtocolRequestType("window/showMessageRequest")})(VA=A.ShowMessageRequest||(A.ShowMessageRequest={}));var jA;(function(t){t.type=new Me.ProtocolNotificationType("window/logMessage")})(jA=A.LogMessageNotification||(A.LogMessageNotification={}));var UA;(function(t){t.type=new Me.ProtocolNotificationType("telemetry/event")})(UA=A.TelemetryEventNotification||(A.TelemetryEventNotification={}));var WA;(function(t){t.None=0,t.Full=1,t.Incremental=2})(WA=A.TextDocumentSyncKind||(A.TextDocumentSyncKind={}));var GA;(function(t){t.method="textDocument/didOpen",t.type=new Me.ProtocolNotificationType(t.method)})(GA=A.DidOpenTextDocumentNotification||(A.DidOpenTextDocumentNotification={}));var YA;(function(t){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=n})(YA=A.TextDocumentContentChangeEvent||(A.TextDocumentContentChangeEvent={}));var HA;(function(t){t.method="textDocument/didChange",t.type=new Me.ProtocolNotificationType(t.method)})(HA=A.DidChangeTextDocumentNotification||(A.DidChangeTextDocumentNotification={}));var $A;(function(t){t.method="textDocument/didClose",t.type=new Me.ProtocolNotificationType(t.method)})($A=A.DidCloseTextDocumentNotification||(A.DidCloseTextDocumentNotification={}));var KA;(function(t){t.method="textDocument/didSave",t.type=new Me.ProtocolNotificationType(t.method)})(KA=A.DidSaveTextDocumentNotification||(A.DidSaveTextDocumentNotification={}));var zA;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(zA=A.TextDocumentSaveReason||(A.TextDocumentSaveReason={}));var XA;(function(t){t.method="textDocument/willSave",t.type=new Me.ProtocolNotificationType(t.method)})(XA=A.WillSaveTextDocumentNotification||(A.WillSaveTextDocumentNotification={}));var QA;(function(t){t.method="textDocument/willSaveWaitUntil",t.type=new Me.ProtocolRequestType(t.method)})(QA=A.WillSaveTextDocumentWaitUntilRequest||(A.WillSaveTextDocumentWaitUntilRequest={}));var JA;(function(t){t.type=new Me.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(JA=A.DidChangeWatchedFilesNotification||(A.DidChangeWatchedFilesNotification={}));var ZA;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(ZA=A.FileChangeType||(A.FileChangeType={}));var eI;(function(t){t.Create=1,t.Change=2,t.Delete=4})(eI=A.WatchKind||(A.WatchKind={}));var tI;(function(t){t.type=new Me.ProtocolNotificationType("textDocument/publishDiagnostics")})(tI=A.PublishDiagnosticsNotification||(A.PublishDiagnosticsNotification={}));var nI;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(nI=A.CompletionTriggerKind||(A.CompletionTriggerKind={}));var rI;(function(t){t.method="textDocument/completion",t.type=new Me.ProtocolRequestType(t.method)})(rI=A.CompletionRequest||(A.CompletionRequest={}));var iI;(function(t){t.method="completionItem/resolve",t.type=new Me.ProtocolRequestType(t.method)})(iI=A.CompletionResolveRequest||(A.CompletionResolveRequest={}));var sI;(function(t){t.method="textDocument/hover",t.type=new Me.ProtocolRequestType(t.method)})(sI=A.HoverRequest||(A.HoverRequest={}));var aI;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(aI=A.SignatureHelpTriggerKind||(A.SignatureHelpTriggerKind={}));var oI;(function(t){t.method="textDocument/signatureHelp",t.type=new Me.ProtocolRequestType(t.method)})(oI=A.SignatureHelpRequest||(A.SignatureHelpRequest={}));var lI;(function(t){t.method="textDocument/definition",t.type=new Me.ProtocolRequestType(t.method)})(lI=A.DefinitionRequest||(A.DefinitionRequest={}));var uI;(function(t){t.method="textDocument/references",t.type=new Me.ProtocolRequestType(t.method)})(uI=A.ReferencesRequest||(A.ReferencesRequest={}));var cI;(function(t){t.method="textDocument/documentHighlight",t.type=new Me.ProtocolRequestType(t.method)})(cI=A.DocumentHighlightRequest||(A.DocumentHighlightRequest={}));var fI;(function(t){t.method="textDocument/documentSymbol",t.type=new Me.ProtocolRequestType(t.method)})(fI=A.DocumentSymbolRequest||(A.DocumentSymbolRequest={}));var pI;(function(t){t.method="textDocument/codeAction",t.type=new Me.ProtocolRequestType(t.method)})(pI=A.CodeActionRequest||(A.CodeActionRequest={}));var dI;(function(t){t.method="codeAction/resolve",t.type=new Me.ProtocolRequestType(t.method)})(dI=A.CodeActionResolveRequest||(A.CodeActionResolveRequest={}));var mI;(function(t){t.method="workspace/symbol",t.type=new Me.ProtocolRequestType(t.method)})(mI=A.WorkspaceSymbolRequest||(A.WorkspaceSymbolRequest={}));var hI;(function(t){t.method="textDocument/codeLens",t.type=new Me.ProtocolRequestType(t.method)})(hI=A.CodeLensRequest||(A.CodeLensRequest={}));var gI;(function(t){t.method="codeLens/resolve",t.type=new Me.ProtocolRequestType(t.method)})(gI=A.CodeLensResolveRequest||(A.CodeLensResolveRequest={}));var _I;(function(t){t.method="workspace/codeLens/refresh",t.type=new Me.ProtocolRequestType0(t.method)})(_I=A.CodeLensRefreshRequest||(A.CodeLensRefreshRequest={}));var yI;(function(t){t.method="textDocument/documentLink",t.type=new Me.ProtocolRequestType(t.method)})(yI=A.DocumentLinkRequest||(A.DocumentLinkRequest={}));var bI;(function(t){t.method="documentLink/resolve",t.type=new Me.ProtocolRequestType(t.method)})(bI=A.DocumentLinkResolveRequest||(A.DocumentLinkResolveRequest={}));var TI;(function(t){t.method="textDocument/formatting",t.type=new Me.ProtocolRequestType(t.method)})(TI=A.DocumentFormattingRequest||(A.DocumentFormattingRequest={}));var vI;(function(t){t.method="textDocument/rangeFormatting",t.type=new Me.ProtocolRequestType(t.method)})(vI=A.DocumentRangeFormattingRequest||(A.DocumentRangeFormattingRequest={}));var NI;(function(t){t.method="textDocument/onTypeFormatting",t.type=new Me.ProtocolRequestType(t.method)})(NI=A.DocumentOnTypeFormattingRequest||(A.DocumentOnTypeFormattingRequest={}));var CI;(function(t){t.Identifier=1})(CI=A.PrepareSupportDefaultBehavior||(A.PrepareSupportDefaultBehavior={}));var PI;(function(t){t.method="textDocument/rename",t.type=new Me.ProtocolRequestType(t.method)})(PI=A.RenameRequest||(A.RenameRequest={}));var DI;(function(t){t.method="textDocument/prepareRename",t.type=new Me.ProtocolRequestType(t.method)})(DI=A.PrepareRenameRequest||(A.PrepareRenameRequest={}));var SI;(function(t){t.type=new Me.ProtocolRequestType("workspace/executeCommand")})(SI=A.ExecuteCommandRequest||(A.ExecuteCommandRequest={}));var AI;(function(t){t.type=new Me.ProtocolRequestType("workspace/applyEdit")})(AI=A.ApplyWorkspaceEditRequest||(A.ApplyWorkspaceEditRequest={}))});var cy=X(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.createProtocolConnection=void 0;var uy=xa();function II(t,e,n,r){return uy.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),uy.createMessageConnection(t,e,n,r)}Pu.createProtocolConnection=II});var fy=X(An=>{"use strict";var EI=An&&An.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Du=An&&An.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&EI(e,t,n)};Object.defineProperty(An,"__esModule",{value:!0});An.LSPErrorCodes=An.createProtocolConnection=void 0;Du(xa(),An);Du(vt(),An);Du(nn(),An);Du(ly(),An);var xI=cy();Object.defineProperty(An,"createProtocolConnection",{enumerable:!0,get:function(){return xI.createProtocolConnection}});var RI;(function(t){t.lspReservedErrorRangeStart=-32899,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(RI=An.LSPErrorCodes||(An.LSPErrorCodes={}))});var Bn=X(_i=>{"use strict";var wI=_i&&_i.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),py=_i&&_i.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&wI(e,t,n)};Object.defineProperty(_i,"__esModule",{value:!0});_i.createProtocolConnection=void 0;var OI=kp();py(kp(),_i);py(fy(),_i);function LI(t,e,n,r){return OI.createMessageConnection(t,e,n,r)}_i.createProtocolConnection=LI});var jp=X(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.generateUuid=vr.parse=vr.isUUID=vr.v4=vr.empty=void 0;var Su=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Ue=class extends Su{constructor(){super([Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),"-",Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),"-","4",Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),"-",Ue._oneOf(Ue._timeHighBits),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),"-",Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex(),Ue._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return Ue._oneOf(Ue._chars)}};Ue._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Ue._timeHighBits=["8","9","a","b"];vr.empty=new Su("00000000-0000-0000-0000-000000000000");function dy(){return new Ue}vr.v4=dy;var FI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function my(t){return FI.test(t)}vr.isUUID=my;function kI(t){if(!my(t))throw new Error("invalid uuid");return new Su(t)}vr.parse=kI;function MI(){return dy().asHex()}vr.generateUuid=MI});var gy=X(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.attachPartialResult=rs.ProgressFeature=rs.attachWorkDone=void 0;var ns=Bn(),BI=jp(),ki=class{constructor(e,n){this._connection=e,this._token=n,ki.Instances.set(this._token,this)}begin(e,n,r,i){let s={kind:"begin",title:e,percentage:n,message:r,cancellable:i};this._connection.sendProgress(ns.WorkDoneProgress.type,this._token,s)}report(e,n){let r={kind:"report"};typeof e=="number"?(r.percentage=e,n!==void 0&&(r.message=n)):r.message=e,this._connection.sendProgress(ns.WorkDoneProgress.type,this._token,r)}done(){ki.Instances.delete(this._token),this._connection.sendProgress(ns.WorkDoneProgress.type,this._token,{kind:"end"})}};ki.Instances=new Map;var Up=class extends ki{constructor(e,n){super(e,n);this._source=new ns.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},Au=class{constructor(){}begin(){}report(){}done(){}},Wp=class extends Au{constructor(){super();this._source=new ns.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function qI(t,e){if(e===void 0||e.workDoneToken===void 0)return new Au;let n=e.workDoneToken;return delete e.workDoneToken,new ki(t,n)}rs.attachWorkDone=qI;var VI=t=>class extends t{constructor(){super();this._progressSupported=!1}initialize(e){var n;((n=e==null?void 0:e.window)===null||n===void 0?void 0:n.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(ns.WorkDoneProgressCancelNotification.type,r=>{let i=ki.Instances.get(r.token);(i instanceof Up||i instanceof Wp)&&i.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new Au:new ki(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){let e=BI.generateUuid();return this.connection.sendRequest(ns.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new Up(this.connection,e))}else return Promise.resolve(new Wp)}};rs.ProgressFeature=VI;var Gp;(function(t){t.type=new ns.ProgressType})(Gp||(Gp={}));var hy=class{constructor(e,n){this._connection=e,this._token=n}report(e){this._connection.sendProgress(Gp.type,this._token,e)}};function jI(t,e){if(e===void 0||e.partialResultToken===void 0)return;let n=e.partialResultToken;return delete e.partialResultToken,new hy(t,n)}rs.attachPartialResult=jI});var _y=X(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.ConfigurationFeature=void 0;var UI=Bn(),WI=hu(),GI=t=>class extends t{getConfiguration(e){return e?WI.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let n={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(UI.ConfigurationRequest.type,n).then(r=>Array.isArray(e)?r:r[0])}};Iu.ConfigurationFeature=GI});var yy=X(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.WorkspaceFoldersFeature=void 0;var Eu=Bn(),YI=t=>class extends t{initialize(e){let n=e.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Eu.Emitter,this.connection.onNotification(Eu.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(Eu.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(Eu.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};xu.WorkspaceFoldersFeature=YI});var by=X(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.CallHierarchyFeature=void 0;var Yp=Bn(),HI=t=>class extends t{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest(Yp.CallHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))},onIncomingCalls:e=>{let n=Yp.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:e=>{let n=Yp.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Ru.CallHierarchyFeature=HI});var $p=X(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.SemanticTokensBuilder=Oa.SemanticTokensFeature=void 0;var Hp=Bn(),$I=t=>class extends t{get semanticTokens(){return{on:e=>{let n=Hp.SemanticTokensRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:e=>{let n=Hp.SemanticTokensDeltaRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:e=>{let n=Hp.SemanticTokensRangeRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Oa.SemanticTokensFeature=$I;var Ty=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,n,r,i,s){let a=e,o=n;this._dataLen>0&&(a-=this._prevLine,a===0&&(o-=this._prevChar)),this._data[this._dataLen++]=a,this._data[this._dataLen++]=o,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=e,this._prevChar=n}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){let e=this._prevData.length,n=this._data.length,r=0;for(;r<n&&r<e&&this._prevData[r]===this._data[r];)r++;if(r<n&&r<e){let i=0;for(;i<n&&i<e&&this._prevData[e-1-i]===this._data[n-1-i];)i++;let s=this._data.slice(r,n-i);return{resultId:this.id,edits:[{start:r,deleteCount:e-i-r,data:s}]}}else return r<n?{resultId:this.id,edits:[{start:r,deleteCount:0,data:this._data.slice(r)}]}:r<e?{resultId:this.id,edits:[{start:r,deleteCount:e-r}]}:{resultId:this.id,edits:[]}}else return this.build()}};Oa.SemanticTokensBuilder=Ty});var vy=X(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.ShowDocumentFeature=void 0;var KI=Bn(),zI=t=>class extends t{showDocument(e){return this.connection.sendRequest(KI.ShowDocumentRequest.type,e)}};wu.ShowDocumentFeature=zI});var Ny=X(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.FileOperationsFeature=void 0;var La=Bn(),XI=t=>class extends t{onDidCreateFiles(e){this.connection.onNotification(La.DidCreateFilesNotification.type,n=>{e(n)})}onDidRenameFiles(e){this.connection.onNotification(La.DidRenameFilesNotification.type,n=>{e(n)})}onDidDeleteFiles(e){this.connection.onNotification(La.DidDeleteFilesNotification.type,n=>{e(n)})}onWillCreateFiles(e){return this.connection.onRequest(La.WillCreateFilesRequest.type,(n,r)=>e(n,r))}onWillRenameFiles(e){return this.connection.onRequest(La.WillRenameFilesRequest.type,(n,r)=>e(n,r))}onWillDeleteFiles(e){return this.connection.onRequest(La.WillDeleteFilesRequest.type,(n,r)=>e(n,r))}};Ou.FileOperationsFeature=XI});var Cy=X(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.LinkedEditingRangeFeature=void 0;var QI=Bn(),JI=t=>class extends t{onLinkedEditingRange(e){this.connection.onRequest(QI.LinkedEditingRangeRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))}};Lu.LinkedEditingRangeFeature=JI});var Py=X(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.MonikerFeature=void 0;var ZI=Bn(),eE=t=>class extends t{get moniker(){return{on:e=>{let n=ZI.MonikerRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Fu.MonikerFeature=eE});var nd=X(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.createConnection=ze.combineFeatures=ze.combineLanguagesFeatures=ze.combineWorkspaceFeatures=ze.combineWindowFeatures=ze.combineClientFeatures=ze.combineTracerFeatures=ze.combineTelemetryFeatures=ze.combineConsoleFeatures=ze._LanguagesImpl=ze.BulkUnregistration=ze.BulkRegistration=ze.ErrorMessageTracker=ze.TextDocuments=void 0;var ie=Bn(),Nr=hu(),Kp=jp(),Be=gy(),tE=_y(),nE=yy(),rE=by(),iE=$p(),sE=vy(),aE=Ny(),oE=Cy(),lE=Py();function zp(t){if(t!==null)return t}var Dy=class{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new ie.Emitter,this._onDidOpen=new ie.Emitter,this._onDidClose=new ie.Emitter,this._onDidSave=new ie.Emitter,this._onWillSave=new ie.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map(e=>this._documents[e])}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=ie.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(n=>{let r=n.textDocument,i=this._configuration.create(r.uri,r.languageId,r.version,r.text);this._documents[r.uri]=i;let s=Object.freeze({document:i});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)}),e.onDidChangeTextDocument(n=>{let r=n.textDocument,i=n.contentChanges;if(i.length===0)return;let s=this._documents[r.uri],{version:a}=r;if(a==null)throw new Error(`Received document change event for ${r.uri} without valid version identifier`);s=this._configuration.update(s,i,a),this._documents[r.uri]=s,this._onDidChangeContent.fire(Object.freeze({document:s}))}),e.onDidCloseTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&(delete this._documents[n.textDocument.uri],this._onDidClose.fire(Object.freeze({document:r})))}),e.onWillSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onWillSave.fire(Object.freeze({document:r,reason:n.reason}))}),e.onWillSaveTextDocumentWaitUntil((n,r)=>{let i=this._documents[n.textDocument.uri];return i&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:i,reason:n.reason}),r):[]}),e.onDidSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onDidSave.fire(Object.freeze({document:r}))})}};ze.TextDocuments=Dy;var Sy=class{constructor(){this._messages=Object.create(null)}add(e){let n=this._messages[e];n||(n=0),n++,this._messages[e]=n}sendErrors(e){Object.keys(this._messages).forEach(n=>{e.window.showErrorMessage(n)})}};ze.ErrorMessageTracker=Sy;var Xp=class{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(ie.MessageType.Error,e)}warn(e){this.send(ie.MessageType.Warning,e)}info(e){this.send(ie.MessageType.Info,e)}log(e){this.send(ie.MessageType.Log,e)}send(e,n){this._rawConnection&&this._rawConnection.sendNotification(ie.LogMessageNotification.type,{type:e,message:n})}},Ay=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...n){let r={type:ie.MessageType.Error,message:e,actions:n};return this.connection.sendRequest(ie.ShowMessageRequest.type,r).then(zp)}showWarningMessage(e,...n){let r={type:ie.MessageType.Warning,message:e,actions:n};return this.connection.sendRequest(ie.ShowMessageRequest.type,r).then(zp)}showInformationMessage(e,...n){let r={type:ie.MessageType.Info,message:e,actions:n};return this.connection.sendRequest(ie.ShowMessageRequest.type,r).then(zp)}},Iy=sE.ShowDocumentFeature(Be.ProgressFeature(Ay)),uE;(function(t){function e(){return new Qp}t.create=e})(uE=ze.BulkRegistration||(ze.BulkRegistration={}));var Qp=class{constructor(){this._registrations=[],this._registered=new Set}add(e,n){let r=Nr.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let i=Kp.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},cE;(function(t){function e(){return new ku(void 0,[])}t.create=e})(cE=ze.BulkUnregistration||(ze.BulkUnregistration={}));var ku=class{constructor(e,n){this._connection=e,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let n={unregisterations:e};this._connection.sendRequest(ie.UnregistrationRequest.type,n).then(void 0,r=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){let n=Nr.string(e)?e:e.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(ie.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},s=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},Jp=class{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,n,r){return e instanceof Qp?this.registerMany(e):e instanceof ku?this.registerSingle1(e,n,r):this.registerSingle2(e,n)}registerSingle1(e,n,r){let i=Nr.string(n)?n:n.method,s=Kp.generateUuid(),a={registrations:[{id:s,method:i,registerOptions:r||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(ie.RegistrationRequest.type,a).then(o=>(e.add({id:s,method:i}),e),o=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(o)))}registerSingle2(e,n){let r=Nr.string(e)?e:e.method,i=Kp.generateUuid(),s={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(ie.RegistrationRequest.type,s).then(a=>ie.Disposable.create(()=>{this.unregisterSingle(i,r)}),a=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(a)))}unregisterSingle(e,n){let r={unregisterations:[{id:e,method:n}]};return this.connection.sendRequest(ie.UnregistrationRequest.type,r).then(void 0,i=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let n=e.asRegistrationParams();return this.connection.sendRequest(ie.RegistrationRequest.type,n).then(()=>new ku(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},Ey=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function n(i){return i&&!!i.edit}let r=n(e)?e:{edit:e};return this.connection.sendRequest(ie.ApplyWorkspaceEditRequest.type,r)}},xy=aE.FileOperationsFeature(nE.WorkspaceFoldersFeature(tE.ConfigurationFeature(Ey))),Zp=class{constructor(){this._trace=ie.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,n){this._trace!==ie.Trace.Off&&this.connection.sendNotification(ie.LogTraceNotification.type,{message:e,verbose:this._trace===ie.Trace.Verbose?n:void 0})}},ed=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(ie.TelemetryEventNotification.type,e)}},td=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return Be.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,n){return Be.attachPartialResult(this.connection,n)}};ze._LanguagesImpl=td;var Ry=lE.MonikerFeature(oE.LinkedEditingRangeFeature(iE.SemanticTokensFeature(rE.CallHierarchyFeature(td))));function wy(t,e){return function(n){return e(t(n))}}ze.combineConsoleFeatures=wy;function Oy(t,e){return function(n){return e(t(n))}}ze.combineTelemetryFeatures=Oy;function Ly(t,e){return function(n){return e(t(n))}}ze.combineTracerFeatures=Ly;function Fy(t,e){return function(n){return e(t(n))}}ze.combineClientFeatures=Fy;function ky(t,e){return function(n){return e(t(n))}}ze.combineWindowFeatures=ky;function My(t,e){return function(n){return e(t(n))}}ze.combineWorkspaceFeatures=My;function fE(t,e){return function(n){return e(t(n))}}ze.combineLanguagesFeatures=fE;function pE(t,e){function n(i,s,a){return i&&s?a(i,s):i||s}return{__brand:"features",console:n(t.console,e.console,wy),tracer:n(t.tracer,e.tracer,Ly),telemetry:n(t.telemetry,e.telemetry,Oy),client:n(t.client,e.client,Fy),window:n(t.window,e.window,ky),workspace:n(t.workspace,e.workspace,My)}}ze.combineFeatures=pE;function dE(t,e,n){let r=n&&n.console?new(n.console(Xp)):new Xp,i=t(r);r.rawAttach(i);let s=n&&n.tracer?new(n.tracer(Zp)):new Zp,a=n&&n.telemetry?new(n.telemetry(ed)):new ed,o=n&&n.client?new(n.client(Jp)):new Jp,l=n&&n.window?new(n.window(Iy)):new Iy,u=n&&n.workspace?new(n.workspace(xy)):new xy,c=n&&n.languages?new(n.languages(Ry)):new Ry,f=[r,s,a,o,l,u,c];function m(h){return h instanceof Promise?h:Nr.thenable(h)?new Promise((b,_)=>{h.then(N=>b(N),N=>_(N))}):Promise.resolve(h)}let y,p,d,g={listen:()=>i.listen(),sendRequest:(h,...b)=>i.sendRequest(Nr.string(h)?h:h.method,...b),onRequest:(h,b)=>i.onRequest(h,b),sendNotification:(h,b)=>{let _=Nr.string(h)?h:h.method;arguments.length===1?i.sendNotification(_):i.sendNotification(_,b)},onNotification:(h,b)=>i.onNotification(h,b),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:h=>p=h,onInitialized:h=>i.onNotification(ie.InitializedNotification.type,h),onShutdown:h=>y=h,onExit:h=>d=h,get console(){return r},get telemetry(){return a},get tracer(){return s},get client(){return o},get window(){return l},get workspace(){return u},get languages(){return c},onDidChangeConfiguration:h=>i.onNotification(ie.DidChangeConfigurationNotification.type,h),onDidChangeWatchedFiles:h=>i.onNotification(ie.DidChangeWatchedFilesNotification.type,h),__textDocumentSync:void 0,onDidOpenTextDocument:h=>i.onNotification(ie.DidOpenTextDocumentNotification.type,h),onDidChangeTextDocument:h=>i.onNotification(ie.DidChangeTextDocumentNotification.type,h),onDidCloseTextDocument:h=>i.onNotification(ie.DidCloseTextDocumentNotification.type,h),onWillSaveTextDocument:h=>i.onNotification(ie.WillSaveTextDocumentNotification.type,h),onWillSaveTextDocumentWaitUntil:h=>i.onRequest(ie.WillSaveTextDocumentWaitUntilRequest.type,h),onDidSaveTextDocument:h=>i.onNotification(ie.DidSaveTextDocumentNotification.type,h),sendDiagnostics:h=>i.sendNotification(ie.PublishDiagnosticsNotification.type,h),onHover:h=>i.onRequest(ie.HoverRequest.type,(b,_)=>h(b,_,Be.attachWorkDone(i,b),void 0)),onCompletion:h=>i.onRequest(ie.CompletionRequest.type,(b,_)=>h(b,_,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onCompletionResolve:h=>i.onRequest(ie.CompletionResolveRequest.type,h),onSignatureHelp:h=>i.onRequest(ie.SignatureHelpRequest.type,(b,_)=>h(b,_,Be.attachWorkDone(i,b),void 0)),onDeclaration:h=>i.onRequest(ie.DeclarationRequest.type,(b,_)=>h(b,_,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onDefinition:h=>i.onRequest(ie.DefinitionRequest.type,(b,_)=>h(b,_,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onTypeDefinition:h=>i.onRequest(ie.TypeDefinitionRequest.type,(b,_)=>h(b,_,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onImplementation:h=>i.onRequest(ie.ImplementationRequest.type,(b,_)=>h(b,_,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onReferences:h=>i.onRequest(ie.ReferencesRequest.type,(b,_)=>h(b,_,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onDocumentHighlight:h=>i.onRequest(ie.DocumentHighlightRequest.type,(b,_)=>h(b,_,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onDocumentSymbol:h=>i.onRequest(ie.DocumentSymbolRequest.type,(b,_)=>h(b,_,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onWorkspaceSymbol:h=>i.onRequest(ie.WorkspaceSymbolRequest.type,(b,_)=>h(b,_,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onCodeAction:h=>i.onRequest(ie.CodeActionRequest.type,(b,_)=>h(b,_,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onCodeActionResolve:h=>i.onRequest(ie.CodeActionResolveRequest.type,(b,_)=>h(b,_)),onCodeLens:h=>i.onRequest(ie.CodeLensRequest.type,(b,_)=>h(b,_,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onCodeLensResolve:h=>i.onRequest(ie.CodeLensResolveRequest.type,(b,_)=>h(b,_)),onDocumentFormatting:h=>i.onRequest(ie.DocumentFormattingRequest.type,(b,_)=>h(b,_,Be.attachWorkDone(i,b),void 0)),onDocumentRangeFormatting:h=>i.onRequest(ie.DocumentRangeFormattingRequest.type,(b,_)=>h(b,_,Be.attachWorkDone(i,b),void 0)),onDocumentOnTypeFormatting:h=>i.onRequest(ie.DocumentOnTypeFormattingRequest.type,(b,_)=>h(b,_)),onRenameRequest:h=>i.onRequest(ie.RenameRequest.type,(b,_)=>h(b,_,Be.attachWorkDone(i,b),void 0)),onPrepareRename:h=>i.onRequest(ie.PrepareRenameRequest.type,(b,_)=>h(b,_)),onDocumentLinks:h=>i.onRequest(ie.DocumentLinkRequest.type,(b,_)=>h(b,_,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onDocumentLinkResolve:h=>i.onRequest(ie.DocumentLinkResolveRequest.type,(b,_)=>h(b,_)),onDocumentColor:h=>i.onRequest(ie.DocumentColorRequest.type,(b,_)=>h(b,_,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onColorPresentation:h=>i.onRequest(ie.ColorPresentationRequest.type,(b,_)=>h(b,_,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onFoldingRanges:h=>i.onRequest(ie.FoldingRangeRequest.type,(b,_)=>h(b,_,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onSelectionRanges:h=>i.onRequest(ie.SelectionRangeRequest.type,(b,_)=>h(b,_,Be.attachWorkDone(i,b),Be.attachPartialResult(i,b))),onExecuteCommand:h=>i.onRequest(ie.ExecuteCommandRequest.type,(b,_)=>h(b,_,Be.attachWorkDone(i,b),void 0)),dispose:()=>i.dispose()};for(let h of f)h.attach(g);return i.onRequest(ie.InitializeRequest.type,h=>{e.initialize(h),Nr.string(h.trace)&&(s.trace=ie.Trace.fromString(h.trace));for(let b of f)b.initialize(h.capabilities);if(p){let b=p(h,new ie.CancellationTokenSource().token,Be.attachWorkDone(i,h),void 0);return m(b).then(_=>{if(_ instanceof ie.ResponseError)return _;let N=_;N||(N={capabilities:{}});let C=N.capabilities;C||(C={},N.capabilities=C),C.textDocumentSync===void 0||C.textDocumentSync===null?C.textDocumentSync=Nr.number(g.__textDocumentSync)?g.__textDocumentSync:ie.TextDocumentSyncKind.None:!Nr.number(C.textDocumentSync)&&!Nr.number(C.textDocumentSync.change)&&(C.textDocumentSync.change=Nr.number(g.__textDocumentSync)?g.__textDocumentSync:ie.TextDocumentSyncKind.None);for(let W of f)W.fillServerCapabilities(C);return N})}else{let b={capabilities:{textDocumentSync:ie.TextDocumentSyncKind.None}};for(let _ of f)_.fillServerCapabilities(b.capabilities);return b}}),i.onRequest(ie.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,y)return y(new ie.CancellationTokenSource().token)}),i.onNotification(ie.ExitNotification.type,()=>{try{d&&d()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),i.onNotification(ie.SetTraceNotification.type,h=>{s.trace=ie.Trace.fromString(h.value)}),g}ze.createConnection=dE});var qy=X(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.resolveModulePath=In.FileSystem=In.resolveGlobalYarnPath=In.resolveGlobalNodePath=In.resolve=In.uriToFilePath=void 0;var mE=require("url"),Zr=require("path"),rd=require("fs"),id=require("child_process");function hE(t){let e=mE.parse(t);if(e.protocol!=="file:"||!e.path)return;let n=e.path.split("/");for(var r=0,i=n.length;r<i;r++)n[r]=decodeURIComponent(n[r]);if(process.platform==="win32"&&n.length>1){let s=n[0],a=n[1];s.length===0&&a.length>1&&a[1]===":"&&n.shift()}return Zr.normalize(n.join("/"))}In.uriToFilePath=hE;function sd(){return process.platform==="win32"}function Mu(t,e,n,r){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((a,o)=>{let l=process.env,u=Object.create(null);Object.keys(l).forEach(c=>u[c]=l[c]),e&&rd.existsSync(e)&&(u[i]?u[i]=e+Zr.delimiter+u[i]:u[i]=e,r&&r(`NODE_PATH value is: ${u[i]}`)),u.ELECTRON_RUN_AS_NODE="1";try{let c=id.fork("",[],{cwd:n,env:u,execArgv:["-e",s]});if(c.pid===void 0){o(new Error(`Starting process to resolve node module  ${t} failed`));return}c.on("error",m=>{o(m)}),c.on("message",m=>{m.c==="r"&&(c.send({c:"e"}),m.s?a(m.r):o(new Error(`Failed to resolve module: ${t}`)))});let f={c:"rs",a:t};c.send(f)}catch(c){o(c)}})}In.resolve=Mu;function ad(t){let e="npm",n=Object.create(null);Object.keys(process.env).forEach(s=>n[s]=process.env[s]),n.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:n};sd()&&(e="npm.cmd",r.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let s=id.spawnSync(e,["config","get","prefix"],r).stdout;if(!s){t&&t("'npm config get prefix' didn't return a value.");return}let a=s.trim();return t&&t(`'npm config get prefix' value is: ${a}`),a.length>0?sd()?Zr.join(a,"node_modules"):Zr.join(a,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}In.resolveGlobalNodePath=ad;function gE(t){let e="yarn",n={encoding:"utf8"};sd()&&(e="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let i=id.spawnSync(e,["global","dir","--json"],n),s=i.stdout;if(!s){t&&(t("'yarn global dir' didn't return a value."),i.stderr&&t(i.stderr));return}let a=s.trim().split(/\r?\n/);for(let o of a)try{let l=JSON.parse(o);if(l.type==="log")return Zr.join(l.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}In.resolveGlobalYarnPath=gE;var By;(function(t){let e;function n(){return e!==void 0||(process.platform==="win32"?e=!1:e=!rd.existsSync(__filename.toUpperCase())||!rd.existsSync(__filename.toLowerCase())),e}t.isCaseSensitive=n;function r(i,s){return n()?Zr.normalize(s).indexOf(Zr.normalize(i))===0:Zr.normalize(s).toLowerCase().indexOf(Zr.normalize(i).toLowerCase())===0}t.isParent=r})(By=In.FileSystem||(In.FileSystem={}));function _E(t,e,n,r){return n?(Zr.isAbsolute(n)||(n=Zr.join(t,n)),Mu(e,n,n,r).then(i=>By.isParent(n,i)?i:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,i=>Mu(e,ad(r),t,r))):Mu(e,ad(r),t,r)}In.resolveModulePath=_E});var od=X((RB,Vy)=>{"use strict";Vy.exports=Bn()});var Uy=X(Jn=>{"use strict";var yE=Jn&&Jn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),jy=Jn&&Jn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&yE(e,t,n)};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.ProposedFeatures=Jn.SemanticTokensBuilder=void 0;var bE=$p();Object.defineProperty(Jn,"SemanticTokensBuilder",{enumerable:!0,get:function(){return bE.SemanticTokensBuilder}});jy(Bn(),Jn);jy(nd(),Jn);var TE;(function(t){t.all={__brand:"features"}})(TE=Jn.ProposedFeatures||(Jn.ProposedFeatures={}))});var ei=X(Zn=>{"use strict";var vE=Zn&&Zn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Wy=Zn&&Zn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&vE(e,t,n)};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.createConnection=Zn.Files=void 0;var ld=hu(),NE=nd(),ul=qy(),Bs=od();Wy(od(),Zn);Wy(Uy(),Zn);var CE;(function(t){t.uriToFilePath=ul.uriToFilePath,t.resolveGlobalNodePath=ul.resolveGlobalNodePath,t.resolveGlobalYarnPath=ul.resolveGlobalYarnPath,t.resolve=ul.resolve,t.resolveModulePath=ul.resolveModulePath})(CE=Zn.Files||(Zn.Files={}));var Gy;function Bu(){if(Gy!==void 0)try{Gy.end()}catch{}}var Fa=!1,Yy;function PE(){let t="--clientProcessId";function e(n){try{let r=parseInt(n);isNaN(r)||(Yy=setInterval(()=>{try{process.kill(r,0)}catch{Bu(),process.exit(Fa?0:1)}},3e3))}catch{}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===t&&n+1<process.argv.length){e(process.argv[n+1]);return}else{let i=r.split("=");i[0]===t&&e(i[1])}}}PE();var DE={initialize:t=>{let e=t.processId;ld.number(e)&&Yy===void 0&&setInterval(()=>{try{process.kill(e,0)}catch{process.exit(Fa?0:1)}},3e3)},get shutdownReceived(){return Fa},set shutdownReceived(t){Fa=t},exit:t=>{Bu(),process.exit(t)}};function SE(t,e,n,r){let i,s,a,o;return t!==void 0&&t.__brand==="features"&&(i=t,t=e,e=n,n=r),Bs.ConnectionStrategy.is(t)||Bs.ConnectionOptions.is(t)?o=t:(s=t,a=e,o=n),AE(s,a,o,i)}Zn.createConnection=SE;function AE(t,e,n,r){if(!t&&!e&&process.argv.length>2){let o,l,u=process.argv.slice(2);for(let c=0;c<u.length;c++){let f=u[c];if(f==="--node-ipc"){t=new Bs.IPCMessageReader(process),e=new Bs.IPCMessageWriter(process);break}else if(f==="--stdio"){t=process.stdin,e=process.stdout;break}else if(f==="--socket"){o=parseInt(u[c+1]);break}else if(f==="--pipe"){l=u[c+1];break}else{var i=f.split("=");if(i[0]==="--socket"){o=parseInt(i[1]);break}else if(i[0]==="--pipe"){l=i[1];break}}}if(o){let c=Bs.createServerSocketTransport(o);t=c[0],e=c[1]}else if(l){let c=Bs.createServerPipeTransport(l);t=c[0],e=c[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+s);if(!e)throw new Error("Connection output stream is not set. "+s);if(ld.func(t.read)&&ld.func(t.on)){let o=t;o.on("end",()=>{Bu(),process.exit(Fa?0:1)}),o.on("close",()=>{Bu(),process.exit(Fa?0:1)})}let a=o=>Bs.createProtocolConnection(t,e,o,n);return NE.createConnection(a,DE,r)}});var ms=X(Vn=>{"use strict";var ji={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},Dl={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"},aw="tag:yaml.org,2002:",ow={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};function L0(t){let e=[0],n=t.indexOf(`
`);for(;n!==-1;)n+=1,e.push(n),n=t.indexOf(`
`,n);return e}function F0(t){let e,n;return typeof t=="string"?(e=L0(t),n=t):(Array.isArray(t)&&(t=t[0]),t&&t.context&&(t.lineStarts||(t.lineStarts=L0(t.context.src)),e=t.lineStarts,n=t.context.src)),{lineStarts:e,src:n}}function mm(t,e){if(typeof t!="number"||t<0)return null;let{lineStarts:n,src:r}=F0(e);if(!n||!r||t>r.length)return null;for(let s=0;s<n.length;++s){let a=n[s];if(t<a)return{line:s,col:t-n[s-1]+1};if(t===a)return{line:s+1,col:1}}let i=n.length;return{line:i,col:t-n[i-1]+1}}function lw(t,e){let{lineStarts:n,src:r}=F0(e);if(!n||!(t>=1)||t>n.length)return null;let i=n[t-1],s=n[t];for(;s&&s>i&&r[s-1]===`
`;)--s;return r.slice(i,s)}function uw({start:t,end:e},n,r=80){let i=lw(t.line,n);if(!i)return null;let{col:s}=t;if(i.length>r)if(s<=r-10)i=i.substr(0,r-1)+"\u2026";else{let c=Math.round(r/2);i.length>s+c&&(i=i.substr(0,s+c-1)+"\u2026"),s-=i.length-r,i="\u2026"+i.substr(1-r)}let a=1,o="";e&&(e.line===t.line&&s+(e.col-t.col)<=r+1?a=e.col-t.col:(a=Math.min(i.length+1,r)-s,o="\u2026"));let l=s>1?" ".repeat(s-1):"",u="^".repeat(a);return`${i}
${l}${u}${o}`}var Ks=class{static copy(e){return new Ks(e.start,e.end)}constructor(e,n){this.start=e,this.end=n||e}isEmpty(){return typeof this.start!="number"||!this.end||this.end<=this.start}setOrigRange(e,n){let{start:r,end:i}=this;if(e.length===0||i<=e[0])return this.origStart=r,this.origEnd=i,n;let s=n;for(;s<e.length&&!(e[s]>r);)++s;this.origStart=r+s;let a=s;for(;s<e.length&&!(e[s]>=i);)++s;return this.origEnd=i+s,a}},fn=class{static addStringTerminator(e,n,r){if(r[r.length-1]===`
`)return r;let i=fn.endOfWhiteSpace(e,n);return i>=e.length||e[i]===`
`?r+`
`:r}static atDocumentBoundary(e,n,r){let i=e[n];if(!i)return!0;let s=e[n-1];if(s&&s!==`
`)return!1;if(r){if(i!==r)return!1}else if(i!==ji.DIRECTIVES_END&&i!==ji.DOCUMENT_END)return!1;let a=e[n+1],o=e[n+2];if(a!==i||o!==i)return!1;let l=e[n+3];return!l||l===`
`||l==="	"||l===" "}static endOfIdentifier(e,n){let r=e[n],i=r==="<",s=i?[`
`,"	"," ",">"]:[`
`,"	"," ","[","]","{","}",","];for(;r&&s.indexOf(r)===-1;)r=e[n+=1];return i&&r===">"&&(n+=1),n}static endOfIndent(e,n){let r=e[n];for(;r===" ";)r=e[n+=1];return n}static endOfLine(e,n){let r=e[n];for(;r&&r!==`
`;)r=e[n+=1];return n}static endOfWhiteSpace(e,n){let r=e[n];for(;r==="	"||r===" ";)r=e[n+=1];return n}static startOfLine(e,n){let r=e[n-1];if(r===`
`)return n;for(;r&&r!==`
`;)r=e[n-=1];return n+1}static endOfBlockIndent(e,n,r){let i=fn.endOfIndent(e,r);if(i>r+n)return i;{let s=fn.endOfWhiteSpace(e,i),a=e[s];if(!a||a===`
`)return s}return null}static atBlank(e,n,r){let i=e[n];return i===`
`||i==="	"||i===" "||r&&!i}static nextNodeIsIndented(e,n,r){return!e||n<0?!1:n>0?!0:r&&e==="-"}static normalizeOffset(e,n){let r=e[n];return r?r!==`
`&&e[n-1]===`
`?n-1:fn.endOfWhiteSpace(e,n):n}static foldNewline(e,n,r){let i=0,s=!1,a="",o=e[n+1];for(;o===" "||o==="	"||o===`
`;){switch(o){case`
`:i=0,n+=1,a+=`
`;break;case"	":i<=r&&(s=!0),n=fn.endOfWhiteSpace(e,n+2)-1;break;case" ":i+=1,n+=1;break}o=e[n+1]}return a||(a=" "),o&&i<=r&&(s=!0),{fold:a,offset:n,error:s}}constructor(e,n,r){Object.defineProperty(this,"context",{value:r||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=n||[],this.type=e,this.value=null}getPropValue(e,n,r){if(!this.context)return null;let{src:i}=this.context,s=this.props[e];return s&&i[s.start]===n?i.slice(s.start+(r?1:0),s.end):null}get anchor(){for(let e=0;e<this.props.length;++e){let n=this.getPropValue(e,ji.ANCHOR,!0);if(n!=null)return n}return null}get comment(){let e=[];for(let n=0;n<this.props.length;++n){let r=this.getPropValue(n,ji.COMMENT,!0);r!=null&&e.push(r)}return e.length>0?e.join(`
`):null}commentHasRequiredWhitespace(e){let{src:n}=this.context;if(this.header&&e===this.header.end||!this.valueRange)return!1;let{end:r}=this.valueRange;return e!==r||fn.atBlank(n,r-1)}get hasComment(){if(this.context){let{src:e}=this.context;for(let n=0;n<this.props.length;++n)if(e[this.props[n].start]===ji.COMMENT)return!0}return!1}get hasProps(){if(this.context){let{src:e}=this.context;for(let n=0;n<this.props.length;++n)if(e[this.props[n].start]!==ji.COMMENT)return!0}return!1}get includesTrailingLines(){return!1}get jsonLike(){return[Dl.FLOW_MAP,Dl.FLOW_SEQ,Dl.QUOTE_DOUBLE,Dl.QUOTE_SINGLE].indexOf(this.type)!==-1}get rangeAsLinePos(){if(!this.range||!this.context)return;let e=mm(this.range.start,this.context.root);if(!e)return;let n=mm(this.range.end,this.context.root);return{start:e,end:n}}get rawValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange;return this.context.src.slice(e,n)}get tag(){for(let e=0;e<this.props.length;++e){let n=this.getPropValue(e,ji.TAG,!1);if(n!=null){if(n[1]==="<")return{verbatim:n.slice(2,-1)};{let[r,i,s]=n.match(/^(.*!)([^!]*)$/);return{handle:i,suffix:s}}}}return null}get valueRangeContainsNewline(){if(!this.valueRange||!this.context)return!1;let{start:e,end:n}=this.valueRange,{src:r}=this.context;for(let i=e;i<n;++i)if(r[i]===`
`)return!0;return!1}parseComment(e){let{src:n}=this.context;if(n[e]===ji.COMMENT){let r=fn.endOfLine(n,e+1),i=new Ks(e,r);return this.props.push(i),r}return e}setOrigRanges(e,n){return this.range&&(n=this.range.setOrigRange(e,n)),this.valueRange&&this.valueRange.setOrigRange(e,n),this.props.forEach(r=>r.setOrigRange(e,n)),n}toString(){let{context:{src:e},range:n,value:r}=this;if(r!=null)return r;let i=e.slice(n.start,n.end);return fn.addStringTerminator(e,n.end,i)}},po=class extends Error{constructor(e,n,r){if(!r||!(n instanceof fn))throw new Error(`Invalid arguments for new ${e}`);super();this.name=e,this.message=r,this.source=n}makePretty(){if(!this.source)return;this.nodeType=this.source.type;let e=this.source.context&&this.source.context.root;if(typeof this.offset=="number"){this.range=new Ks(this.offset,this.offset+1);let n=e&&mm(this.offset,e);if(n){let r={line:n.line,col:n.col+1};this.linePos={start:n,end:r}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){let{line:n,col:r}=this.linePos.start;this.message+=` at line ${n}, column ${r}`;let i=e&&uw(this.linePos,e);i&&(this.message+=`:

${i}
`)}delete this.source}},k0=class extends po{constructor(e,n){super("YAMLReferenceError",e,n)}},jc=class extends po{constructor(e,n){super("YAMLSemanticError",e,n)}},M0=class extends po{constructor(e,n){super("YAMLSyntaxError",e,n)}},B0=class extends po{constructor(e,n){super("YAMLWarning",e,n)}};function cw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Sl=class extends fn{static endOfLine(e,n,r){let i=e[n],s=n;for(;i&&i!==`
`&&!(r&&(i==="["||i==="]"||i==="{"||i==="}"||i===","));){let a=e[s+1];if(i===":"&&(!a||a===`
`||a==="	"||a===" "||r&&a===",")||(i===" "||i==="	")&&a==="#")break;s+=1,i=a}return s}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange,{src:r}=this.context,i=r[n-1];for(;e<n&&(i===`
`||i==="	"||i===" ");)i=r[--n-1];let s="";for(let o=e;o<n;++o){let l=r[o];if(l===`
`){let{fold:u,offset:c}=fn.foldNewline(r,o,-1);s+=u,o=c}else if(l===" "||l==="	"){let u=o,c=r[o+1];for(;o<n&&(c===" "||c==="	");)o+=1,c=r[o+1];c!==`
`&&(s+=o>u?r.slice(u,o+1):l)}else s+=l}let a=r[e];switch(a){case"	":{let o="Plain value cannot start with a tab character";return{errors:[new jc(this,o)],str:s}}case"@":case"`":{let o=`Plain value cannot start with reserved character ${a}`;return{errors:[new jc(this,o)],str:s}}default:return s}}parseBlockValue(e){let{indent:n,inFlow:r,src:i}=this.context,s=e,a=e;for(let o=i[s];o===`
`&&!fn.atDocumentBoundary(i,s+1);o=i[s]){let l=fn.endOfBlockIndent(i,n,s+1);if(l===null||i[l]==="#")break;i[l]===`
`?s=l:(a=Sl.endOfLine(i,l,r),s=a)}return this.valueRange.isEmpty()&&(this.valueRange.start=e),this.valueRange.end=a,a}parse(e,n){this.context=e;let{inFlow:r,src:i}=e,s=n,a=i[s];return a&&a!=="#"&&a!==`
`&&(s=Sl.endOfLine(i,n,r)),this.valueRange=new Ks(n,s),s=fn.endOfWhiteSpace(i,s),s=this.parseComment(s),(!this.hasComment||this.valueRange.isEmpty())&&(s=this.parseBlockValue(s)),s}};Vn.Char=ji;Vn.Node=fn;Vn.PlainValue=Sl;Vn.Range=Ks;Vn.Type=Dl;Vn.YAMLError=po;Vn.YAMLReferenceError=k0;Vn.YAMLSemanticError=jc;Vn.YAMLSyntaxError=M0;Vn.YAMLWarning=B0;Vn._defineProperty=cw;Vn.defaultTagPrefix=aw;Vn.defaultTags=ow});var G0=X(W0=>{"use strict";var V=ms(),mo=class extends V.Node{constructor(){super(V.Type.BLANK_LINE)}get includesTrailingLines(){return!0}parse(e,n){return this.context=e,this.range=new V.Range(n,n+1),n+1}},Uc=class extends V.Node{constructor(e,n){super(e,n);this.node=null}get includesTrailingLines(){return!!this.node&&this.node.includesTrailingLines}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,{atLineStart:s,lineStart:a}=e;!s&&this.type===V.Type.SEQ_ITEM&&(this.error=new V.YAMLSemanticError(this,"Sequence items must not have preceding content on the same line"));let o=s?n-a:e.indent,l=V.Node.endOfWhiteSpace(i,n+1),u=i[l],c=u==="#",f=[],m=null;for(;u===`
`||u==="#";){if(u==="#"){let p=V.Node.endOfLine(i,l+1);f.push(new V.Range(l,p)),l=p}else{s=!0,a=l+1;let p=V.Node.endOfWhiteSpace(i,a);i[p]===`
`&&f.length===0&&(m=new mo,a=m.parse({src:i},a)),l=V.Node.endOfIndent(i,a)}u=i[l]}if(V.Node.nextNodeIsIndented(u,l-(a+o),this.type!==V.Type.SEQ_ITEM)?this.node=r({atLineStart:s,inCollection:!1,indent:o,lineStart:a,parent:this},l):u&&a>n+1&&(l=a-1),this.node){if(m){let p=e.parent.items||e.parent.contents;p&&p.push(m)}f.length&&Array.prototype.push.apply(this.props,f),l=this.node.range.end}else if(c){let p=f[0];this.props.push(p),l=p.end}else l=V.Node.endOfLine(i,n+1);let y=this.node?this.node.valueRange.end:l;return this.valueRange=new V.Range(n,y),l}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.node?this.node.setOrigRanges(e,n):n}toString(){let{context:{src:e},node:n,range:r,value:i}=this;if(i!=null)return i;let s=n?e.slice(r.start,n.range.start)+String(n):e.slice(r.start,r.end);return V.Node.addStringTerminator(e,r.end,s)}},ho=class extends V.Node{constructor(){super(V.Type.COMMENT)}parse(e,n){this.context=e;let r=this.parseComment(n);return this.range=new V.Range(n,r),r}};function hm(t){let e=t;for(;e instanceof Uc;)e=e.node;if(!(e instanceof go))return null;let n=e.items.length,r=-1;for(let a=n-1;a>=0;--a){let o=e.items[a];if(o.type===V.Type.COMMENT){let{indent:l,lineStart:u}=o.context;if(l>0&&o.range.start>=u+l)break;r=a}else if(o.type===V.Type.BLANK_LINE)r=a;else break}if(r===-1)return null;let i=e.items.splice(r,n-r),s=i[0].range.start;for(;e.range.end=s,e.valueRange&&e.valueRange.end>s&&(e.valueRange.end=s),e!==t;)e=e.context.parent;return i}var go=class extends V.Node{static nextContentHasIndent(e,n,r){let i=V.Node.endOfLine(e,n)+1;n=V.Node.endOfWhiteSpace(e,i);let s=e[n];return s?n>=i+r?!0:s!=="#"&&s!==`
`?!1:go.nextContentHasIndent(e,n,r):!1}constructor(e){super(e.type===V.Type.SEQ_ITEM?V.Type.SEQ:V.Type.MAP);for(let r=e.props.length-1;r>=0;--r)if(e.props[r].start<e.context.lineStart){this.props=e.props.slice(0,r+1),e.props=e.props.slice(r+1);let i=e.props[0]||e.valueRange;e.range.start=i.start;break}this.items=[e];let n=hm(e);n&&Array.prototype.push.apply(this.items,n)}get includesTrailingLines(){return this.items.length>0}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,s=V.Node.startOfLine(i,n),a=this.items[0];a.context.parent=this,this.valueRange=V.Range.copy(a.valueRange);let o=a.range.start-a.context.lineStart,l=n;l=V.Node.normalizeOffset(i,l);let u=i[l],c=V.Node.endOfWhiteSpace(i,s)===l,f=!1;for(;u;){for(;u===`
`||u==="#";){if(c&&u===`
`&&!f){let p=new mo;if(l=p.parse({src:i},l),this.valueRange.end=l,l>=i.length){u=null;break}this.items.push(p),l-=1}else if(u==="#"){if(l<s+o&&!go.nextContentHasIndent(i,l,o))return l;let p=new ho;if(l=p.parse({indent:o,lineStart:s,src:i},l),this.items.push(p),this.valueRange.end=l,l>=i.length){u=null;break}}if(s=l+1,l=V.Node.endOfIndent(i,s),V.Node.atBlank(i,l)){let p=V.Node.endOfWhiteSpace(i,l),d=i[p];(!d||d===`
`||d==="#")&&(l=p)}u=i[l],c=!0}if(!u)break;if(l!==s+o&&(c||u!==":")){if(l<s+o){s>n&&(l=s);break}else if(!this.error){let p="All collection items must start at the same column";this.error=new V.YAMLSyntaxError(this,p)}}if(a.type===V.Type.SEQ_ITEM){if(u!=="-"){s>n&&(l=s);break}}else if(u==="-"&&!this.error){let p=i[l+1];if(!p||p===`
`||p==="	"||p===" "){let d="A collection cannot be both a mapping and a sequence";this.error=new V.YAMLSyntaxError(this,d)}}let m=r({atLineStart:c,inCollection:!0,indent:o,lineStart:s,parent:this},l);if(!m)return l;if(this.items.push(m),this.valueRange.end=m.valueRange.end,l=V.Node.normalizeOffset(i,m.range.end),u=i[l],c=!1,f=m.includesTrailingLines,u){let p=l-1,d=i[p];for(;d===" "||d==="	";)d=i[--p];d===`
`&&(s=p+1,c=!0)}let y=hm(m);y&&Array.prototype.push.apply(this.items,y)}return l}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.items.forEach(r=>{n=r.setOrigRanges(e,n)}),n}toString(){let{context:{src:e},items:n,range:r,value:i}=this;if(i!=null)return i;let s=e.slice(r.start,n[0].range.start)+String(n[0]);for(let a=1;a<n.length;++a){let o=n[a],{atLineStart:l,indent:u}=o.context;if(l)for(let c=0;c<u;++c)s+=" ";s+=String(o)}return V.Node.addStringTerminator(e,r.end,s)}},q0=class extends V.Node{constructor(){super(V.Type.DIRECTIVE);this.name=null}get parameters(){let e=this.rawValue;return e?e.trim().split(/[ \t]+/):[]}parseName(e){let{src:n}=this.context,r=e,i=n[r];for(;i&&i!==`
`&&i!=="	"&&i!==" ";)i=n[r+=1];return this.name=n.slice(e,r),r}parseParameters(e){let{src:n}=this.context,r=e,i=n[r];for(;i&&i!==`
`&&i!=="#";)i=n[r+=1];return this.valueRange=new V.Range(e,r),r}parse(e,n){this.context=e;let r=this.parseName(n+1);return r=this.parseParameters(r),r=this.parseComment(r),this.range=new V.Range(n,r),r}},Al=class extends V.Node{static startCommentOrEndBlankLine(e,n){let r=V.Node.endOfWhiteSpace(e,n),i=e[r];return i==="#"||i===`
`?r:n}constructor(){super(V.Type.DOCUMENT);this.directives=null,this.contents=null,this.directivesEndMarker=null,this.documentEndMarker=null}parseDirectives(e){let{src:n}=this.context;this.directives=[];let r=!0,i=!1,s=e;for(;!V.Node.atDocumentBoundary(n,s,V.Char.DIRECTIVES_END);)switch(s=Al.startCommentOrEndBlankLine(n,s),n[s]){case`
`:if(r){let a=new mo;s=a.parse({src:n},s),s<n.length&&this.directives.push(a)}else s+=1,r=!0;break;case"#":{let a=new ho;s=a.parse({src:n},s),this.directives.push(a),r=!1}break;case"%":{let a=new q0;s=a.parse({parent:this,src:n},s),this.directives.push(a),i=!0,r=!1}break;default:return i?this.error=new V.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s}return n[s]?(this.directivesEndMarker=new V.Range(s,s+3),s+3):(i?this.error=new V.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s)}parseContents(e){let{parseNode:n,src:r}=this.context;this.contents||(this.contents=[]);let i=e;for(;r[i-1]==="-";)i-=1;let s=V.Node.endOfWhiteSpace(r,e),a=i===e;for(this.valueRange=new V.Range(s);!V.Node.atDocumentBoundary(r,s,V.Char.DOCUMENT_END);){switch(r[s]){case`
`:if(a){let o=new mo;s=o.parse({src:r},s),s<r.length&&this.contents.push(o)}else s+=1,a=!0;i=s;break;case"#":{let o=new ho;s=o.parse({src:r},s),this.contents.push(o),a=!1}break;default:{let o=V.Node.endOfIndent(r,s),u=n({atLineStart:a,indent:-1,inFlow:!1,inCollection:!1,lineStart:i,parent:this},o);if(!u)return this.valueRange.end=o;this.contents.push(u),s=u.range.end,a=!1;let c=hm(u);c&&Array.prototype.push.apply(this.contents,c)}}s=Al.startCommentOrEndBlankLine(r,s)}if(this.valueRange.end=s,r[s]&&(this.documentEndMarker=new V.Range(s,s+3),s+=3,r[s])){if(s=V.Node.endOfWhiteSpace(r,s),r[s]==="#"){let o=new ho;s=o.parse({src:r},s),this.contents.push(o)}switch(r[s]){case`
`:s+=1;break;case void 0:break;default:this.error=new V.YAMLSyntaxError(this,"Document end marker line cannot have a non-comment suffix")}}return s}parse(e,n){e.root=this,this.context=e;let{src:r}=e,i=r.charCodeAt(n)===65279?n+1:n;return i=this.parseDirectives(i),i=this.parseContents(i),i}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.directives.forEach(r=>{n=r.setOrigRanges(e,n)}),this.directivesEndMarker&&(n=this.directivesEndMarker.setOrigRange(e,n)),this.contents.forEach(r=>{n=r.setOrigRanges(e,n)}),this.documentEndMarker&&(n=this.documentEndMarker.setOrigRange(e,n)),n}toString(){let{contents:e,directives:n,value:r}=this;if(r!=null)return r;let i=n.join("");return e.length>0&&((n.length>0||e[0].type===V.Type.COMMENT)&&(i+=`---
`),i+=e.join("")),i[i.length-1]!==`
`&&(i+=`
`),i}},V0=class extends V.Node{parse(e,n){this.context=e;let{src:r}=e,i=V.Node.endOfIdentifier(r,n+1);return this.valueRange=new V.Range(n+1,i),i=V.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}},hs={CLIP:"CLIP",KEEP:"KEEP",STRIP:"STRIP"},j0=class extends V.Node{constructor(e,n){super(e,n);this.blockIndent=null,this.chomping=hs.CLIP,this.header=null}get includesTrailingLines(){return this.chomping===hs.KEEP}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange,{indent:r,src:i}=this.context;if(this.valueRange.isEmpty())return"";let s=null,a=i[n-1];for(;a===`
`||a==="	"||a===" ";){if(n-=1,n<=e){if(this.chomping===hs.KEEP)break;return""}a===`
`&&(s=n),a=i[n-1]}let o=n+1;s&&(this.chomping===hs.KEEP?(o=s,n=this.valueRange.end):n=s);let l=r+this.blockIndent,u=this.type===V.Type.BLOCK_FOLDED,c=!0,f="",m="",y=!1;for(let p=e;p<n;++p){for(let g=0;g<l&&i[p]===" ";++g)p+=1;let d=i[p];if(d===`
`)m===`
`?f+=`
`:m=`
`;else{let g=V.Node.endOfLine(i,p),h=i.slice(p,g);p=g,u&&(d===" "||d==="	")&&p<o?(m===" "?m=`
`:!y&&!c&&m===`
`&&(m=`

`),f+=m+h,m=g<n&&i[g]||"",y=!0):(f+=m+h,m=u&&p<o?" ":`
`,y=!1),c&&h!==""&&(c=!1)}}return this.chomping===hs.STRIP?f:f+`
`}parseBlockHeader(e){let{src:n}=this.context,r=e+1,i="";for(;;){let s=n[r];switch(s){case"-":this.chomping=hs.STRIP;break;case"+":this.chomping=hs.KEEP;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i+=s;break;default:return this.blockIndent=Number(i)||null,this.header=new V.Range(e,r),r}r+=1}}parseBlockValue(e){let{indent:n,src:r}=this.context,i=!!this.blockIndent,s=e,a=e,o=1;for(let l=r[s];l===`
`&&(s+=1,!V.Node.atDocumentBoundary(r,s));l=r[s]){let u=V.Node.endOfBlockIndent(r,n,s);if(u===null)break;let c=r[u],f=u-(s+n);if(this.blockIndent){if(c&&c!==`
`&&f<this.blockIndent){if(r[u]==="#")break;if(!this.error){let y=`Block scalars must not be less indented than their ${i?"explicit indentation indicator":"first line"}`;this.error=new V.YAMLSemanticError(this,y)}}}else if(r[u]!==`
`){if(f<o){let m="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";this.error=new V.YAMLSemanticError(this,m)}this.blockIndent=f}else f>o&&(o=f);r[u]===`
`?s=u:s=a=V.Node.endOfLine(r,u)}return this.chomping!==hs.KEEP&&(s=r[a]?a+1:a),this.valueRange=new V.Range(e+1,s),s}parse(e,n){this.context=e;let{src:r}=e,i=this.parseBlockHeader(n);return i=V.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i=this.parseBlockValue(i),i}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.header?this.header.setOrigRange(e,n):n}},U0=class extends V.Node{constructor(e,n){super(e,n);this.items=null}prevNodeIsJsonLike(e=this.items.length){let n=this.items[e-1];return!!n&&(n.jsonLike||n.type===V.Type.COMMENT&&this.prevNodeIsJsonLike(e-1))}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,{indent:s,lineStart:a}=e,o=i[n];this.items=[{char:o,offset:n}];let l=V.Node.endOfWhiteSpace(i,n+1);for(o=i[l];o&&o!=="]"&&o!=="}";){switch(o){case`
`:{a=l+1;let u=V.Node.endOfWhiteSpace(i,a);if(i[u]===`
`){let c=new mo;a=c.parse({src:i},a),this.items.push(c)}if(l=V.Node.endOfIndent(i,a),l<=a+s&&(o=i[l],l<a+s||o!=="]"&&o!=="}")){let c="Insufficient indentation in flow collection";this.error=new V.YAMLSemanticError(this,c)}}break;case",":this.items.push({char:o,offset:l}),l+=1;break;case"#":{let u=new ho;l=u.parse({src:i},l),this.items.push(u)}break;case"?":case":":{let u=i[l+1];if(u===`
`||u==="	"||u===" "||u===","||o===":"&&this.prevNodeIsJsonLike()){this.items.push({char:o,offset:l}),l+=1;break}}default:{let u=r({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:a,parent:this},l);if(!u)return this.valueRange=new V.Range(n,l),l;this.items.push(u),l=V.Node.normalizeOffset(i,u.range.end)}}l=V.Node.endOfWhiteSpace(i,l),o=i[l]}return this.valueRange=new V.Range(n,l+1),o&&(this.items.push({char:o,offset:l}),l=V.Node.endOfWhiteSpace(i,l+1),l=this.parseComment(l)),l}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.items.forEach(r=>{if(r instanceof V.Node)n=r.setOrigRanges(e,n);else if(e.length===0)r.origOffset=r.offset;else{let i=n;for(;i<e.length&&!(e[i]>r.offset);)++i;r.origOffset=r.offset+i,n=i}}),n}toString(){let{context:{src:e},items:n,range:r,value:i}=this;if(i!=null)return i;let s=n.filter(l=>l instanceof V.Node),a="",o=r.start;return s.forEach(l=>{let u=e.slice(o,l.range.start);o=l.range.end,a+=u+String(l),a[a.length-1]===`
`&&e[o-1]!==`
`&&e[o]===`
`&&(o+=1)}),a+=e.slice(o,r.end),V.Node.addStringTerminator(e,r.end,a)}},Wc=class extends V.Node{static endOfQuote(e,n){let r=e[n];for(;r&&r!=='"';)n+=r==="\\"?2:1,r=e[n];return n+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:n,end:r}=this.valueRange,{indent:i,src:s}=this.context;s[r-1]!=='"'&&e.push(new V.YAMLSyntaxError(this,'Missing closing "quote'));let a="";for(let o=n+1;o<r-1;++o){let l=s[o];if(l===`
`){V.Node.atDocumentBoundary(s,o+1)&&e.push(new V.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:u,offset:c,error:f}=V.Node.foldNewline(s,o,i);a+=u,o=c,f&&e.push(new V.YAMLSemanticError(this,"Multi-line double-quoted string needs to be sufficiently indented"))}else if(l==="\\")switch(o+=1,s[o]){case"0":a+="\0";break;case"a":a+="\x07";break;case"b":a+="\b";break;case"e":a+="\x1B";break;case"f":a+="\f";break;case"n":a+=`
`;break;case"r":a+="\r";break;case"t":a+="	";break;case"v":a+="\v";break;case"N":a+="\x85";break;case"_":a+="\xA0";break;case"L":a+="\u2028";break;case"P":a+="\u2029";break;case" ":a+=" ";break;case'"':a+='"';break;case"/":a+="/";break;case"\\":a+="\\";break;case"	":a+="	";break;case"x":a+=this.parseCharCode(o+1,2,e),o+=2;break;case"u":a+=this.parseCharCode(o+1,4,e),o+=4;break;case"U":a+=this.parseCharCode(o+1,8,e),o+=8;break;case`
`:for(;s[o+1]===" "||s[o+1]==="	";)o+=1;break;default:e.push(new V.YAMLSyntaxError(this,`Invalid escape sequence ${s.substr(o-1,2)}`)),a+="\\"+s[o]}else if(l===" "||l==="	"){let u=o,c=s[o+1];for(;c===" "||c==="	";)o+=1,c=s[o+1];c!==`
`&&(a+=o>u?s.slice(u,o+1):l)}else a+=l}return e.length>0?{errors:e,str:a}:a}parseCharCode(e,n,r){let{src:i}=this.context,s=i.substr(e,n),o=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;return isNaN(o)?(r.push(new V.YAMLSyntaxError(this,`Invalid escape sequence ${i.substr(e-2,n+2)}`)),i.substr(e-2,n+2)):String.fromCodePoint(o)}parse(e,n){this.context=e;let{src:r}=e,i=Wc.endOfQuote(r,n+1);return this.valueRange=new V.Range(n,i),i=V.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}},Gc=class extends V.Node{static endOfQuote(e,n){let r=e[n];for(;r;)if(r==="'"){if(e[n+1]!=="'")break;r=e[n+=2]}else r=e[n+=1];return n+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:n,end:r}=this.valueRange,{indent:i,src:s}=this.context;s[r-1]!=="'"&&e.push(new V.YAMLSyntaxError(this,"Missing closing 'quote"));let a="";for(let o=n+1;o<r-1;++o){let l=s[o];if(l===`
`){V.Node.atDocumentBoundary(s,o+1)&&e.push(new V.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:u,offset:c,error:f}=V.Node.foldNewline(s,o,i);a+=u,o=c,f&&e.push(new V.YAMLSemanticError(this,"Multi-line single-quoted string needs to be sufficiently indented"))}else if(l==="'")a+=l,o+=1,s[o]!=="'"&&e.push(new V.YAMLSyntaxError(this,"Unescaped single quote? This should not happen."));else if(l===" "||l==="	"){let u=o,c=s[o+1];for(;c===" "||c==="	";)o+=1,c=s[o+1];c!==`
`&&(a+=o>u?s.slice(u,o+1):l)}else a+=l}return e.length>0?{errors:e,str:a}:a}parse(e,n){this.context=e;let{src:r}=e,i=Gc.endOfQuote(r,n+1);return this.valueRange=new V.Range(n,i),i=V.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}};function fw(t,e){switch(t){case V.Type.ALIAS:return new V0(t,e);case V.Type.BLOCK_FOLDED:case V.Type.BLOCK_LITERAL:return new j0(t,e);case V.Type.FLOW_MAP:case V.Type.FLOW_SEQ:return new U0(t,e);case V.Type.MAP_KEY:case V.Type.MAP_VALUE:case V.Type.SEQ_ITEM:return new Uc(t,e);case V.Type.COMMENT:case V.Type.PLAIN:return new V.PlainValue(t,e);case V.Type.QUOTE_DOUBLE:return new Wc(t,e);case V.Type.QUOTE_SINGLE:return new Gc(t,e);default:return null}}var _o=class{static parseType(e,n,r){switch(e[n]){case"*":return V.Type.ALIAS;case">":return V.Type.BLOCK_FOLDED;case"|":return V.Type.BLOCK_LITERAL;case"{":return V.Type.FLOW_MAP;case"[":return V.Type.FLOW_SEQ;case"?":return!r&&V.Node.atBlank(e,n+1,!0)?V.Type.MAP_KEY:V.Type.PLAIN;case":":return!r&&V.Node.atBlank(e,n+1,!0)?V.Type.MAP_VALUE:V.Type.PLAIN;case"-":return!r&&V.Node.atBlank(e,n+1,!0)?V.Type.SEQ_ITEM:V.Type.PLAIN;case'"':return V.Type.QUOTE_DOUBLE;case"'":return V.Type.QUOTE_SINGLE;default:return V.Type.PLAIN}}constructor(e={},{atLineStart:n,inCollection:r,inFlow:i,indent:s,lineStart:a,parent:o}={}){V._defineProperty(this,"parseNode",(l,u)=>{if(V.Node.atDocumentBoundary(this.src,u))return null;let c=new _o(this,l),{props:f,type:m,valueStart:y}=c.parseProps(u),p=fw(m,f),d=p.parse(c,y);if(p.range=new V.Range(u,d),d<=u&&(p.error=new Error("Node#parse consumed no characters"),p.error.parseEnd=d,p.error.source=p,p.range.end=u+1),c.nodeStartsCollection(p)){!p.error&&!c.atLineStart&&c.parent.type===V.Type.DOCUMENT&&(p.error=new V.YAMLSyntaxError(p,"Block collection must not have preceding content here (e.g. directives-end indicator)"));let g=new go(p);return d=g.parse(new _o(c),d),g.range=new V.Range(u,d),g}return p}),this.atLineStart=n??(e.atLineStart||!1),this.inCollection=r??(e.inCollection||!1),this.inFlow=i??(e.inFlow||!1),this.indent=s??e.indent,this.lineStart=a??e.lineStart,this.parent=o??(e.parent||{}),this.root=e.root,this.src=e.src}nodeStartsCollection(e){let{inCollection:n,inFlow:r,src:i}=this;if(n||r)return!1;if(e instanceof Uc)return!0;let s=e.range.end;return i[s]===`
`||i[s-1]===`
`?!1:(s=V.Node.endOfWhiteSpace(i,s),i[s]===":")}parseProps(e){let{inFlow:n,parent:r,src:i}=this,s=[],a=!1;e=this.atLineStart?V.Node.endOfIndent(i,e):V.Node.endOfWhiteSpace(i,e);let o=i[e];for(;o===V.Char.ANCHOR||o===V.Char.COMMENT||o===V.Char.TAG||o===`
`;){if(o===`
`){let u=e,c;do c=u+1,u=V.Node.endOfIndent(i,c);while(i[u]===`
`);let f=u-(c+this.indent),m=r.type===V.Type.SEQ_ITEM&&r.context.atLineStart;if(i[u]!=="#"&&!V.Node.nextNodeIsIndented(i[u],f,!m))break;this.atLineStart=!0,this.lineStart=c,a=!1,e=u}else if(o===V.Char.COMMENT){let u=V.Node.endOfLine(i,e+1);s.push(new V.Range(e,u)),e=u}else{let u=V.Node.endOfIdentifier(i,e+1);o===V.Char.TAG&&i[u]===","&&/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+,\d\d\d\d(-\d\d){0,2}\/\S/.test(i.slice(e+1,u+13))&&(u=V.Node.endOfIdentifier(i,u+5)),s.push(new V.Range(e,u)),a=!0,e=V.Node.endOfWhiteSpace(i,u)}o=i[e]}a&&o===":"&&V.Node.atBlank(i,e+1,!0)&&(e-=1);let l=_o.parseType(i,e,n);return{props:s,type:l,valueStart:e}}};function pw(t){let e=[];t.indexOf("\r")!==-1&&(t=t.replace(/\r\n?/g,(i,s)=>(i.length>1&&e.push(s),`
`)));let n=[],r=0;do{let i=new Al,s=new _o({src:t});r=i.parse(s,r),n.push(i)}while(r<t.length);return n.setOrigRanges=()=>{if(e.length===0)return!1;for(let s=1;s<e.length;++s)e[s]-=s;let i=0;for(let s=0;s<n.length;++s)i=n[s].setOrigRanges(e,i);return e.splice(0,e.length),!0},n.toString=()=>n.join(`...
`),n}W0.parse=pw});var bo=X(Pt=>{"use strict";var Y=ms();function dw(t,e,n){return n?`#${n.replace(/[\s\S]^/gm,`$&${e}#`)}
${e}${t}`:t}function yo(t,e,n){return n?n.indexOf(`
`)===-1?`${t} #${n}`:`${t}
`+n.replace(/^/gm,`${e||""}#`):t}var Pr=class{};function gs(t,e,n){if(Array.isArray(t))return t.map((r,i)=>gs(r,String(i),n));if(t&&typeof t.toJSON=="function"){let r=n&&n.anchors&&n.anchors.get(t);r&&(n.onCreate=s=>{r.res=s,delete n.onCreate});let i=t.toJSON(e,n);return r&&n.onCreate&&n.onCreate(i),i}return(!n||!n.keep)&&typeof t=="bigint"?Number(t):t}var xn=class extends Pr{constructor(e){super();this.value=e}toJSON(e,n){return n&&n.keep?this.value:gs(this.value,e,n)}toString(){return String(this.value)}};function Y0(t,e,n){let r=n;for(let i=e.length-1;i>=0;--i){let s=e[i];if(Number.isInteger(s)&&s>=0){let a=[];a[s]=r,r=a}else{let a={};Object.defineProperty(a,s,{value:r,writable:!0,enumerable:!0,configurable:!0}),r=a}}return t.createNode(r,!1)}var H0=t=>t==null||typeof t=="object"&&t[Symbol.iterator]().next().done,Kt=class extends Pr{constructor(e){super();Y._defineProperty(this,"items",[]),this.schema=e}addIn(e,n){if(H0(e))this.add(n);else{let[r,...i]=e,s=this.get(r,!0);if(s instanceof Kt)s.addIn(i,n);else if(s===void 0&&this.schema)this.set(r,Y0(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn([e,...n]){if(n.length===0)return this.delete(e);let r=this.get(e,!0);if(r instanceof Kt)return r.deleteIn(n);throw new Error(`Expected YAML collection at ${e}. Remaining path: ${n}`)}getIn([e,...n],r){let i=this.get(e,!0);return n.length===0?!r&&i instanceof xn?i.value:i:i instanceof Kt?i.getIn(n,r):void 0}hasAllNullValues(){return this.items.every(e=>{if(!e||e.type!=="PAIR")return!1;let n=e.value;return n==null||n instanceof xn&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn([e,...n]){if(n.length===0)return this.has(e);let r=this.get(e,!0);return r instanceof Kt?r.hasIn(n):!1}setIn([e,...n],r){if(n.length===0)this.set(e,r);else{let i=this.get(e,!0);if(i instanceof Kt)i.setIn(n,r);else if(i===void 0&&this.schema)this.set(e,Y0(this.schema,n,r));else throw new Error(`Expected YAML collection at ${e}. Remaining path: ${n}`)}}toJSON(){return null}toString(e,{blockItem:n,flowChars:r,isMap:i,itemIndent:s},a,o){let{indent:l,indentStep:u,stringify:c}=e,f=this.type===Y.Type.FLOW_MAP||this.type===Y.Type.FLOW_SEQ||e.inFlow;f&&(s+=u);let m=i&&this.hasAllNullValues();e=Object.assign({},e,{allNullValues:m,indent:s,inFlow:f,type:null});let y=!1,p=!1,d=this.items.reduce((h,b,_)=>{let N;b&&(!y&&b.spaceBefore&&h.push({type:"comment",str:""}),b.commentBefore&&b.commentBefore.match(/^.*$/gm).forEach(W=>{h.push({type:"comment",str:`#${W}`})}),b.comment&&(N=b.comment),f&&(!y&&b.spaceBefore||b.commentBefore||b.comment||b.key&&(b.key.commentBefore||b.key.comment)||b.value&&(b.value.commentBefore||b.value.comment))&&(p=!0)),y=!1;let C=c(b,e,()=>N=null,()=>y=!0);return f&&!p&&C.includes(`
`)&&(p=!0),f&&_<this.items.length-1&&(C+=","),C=yo(C,s,N),y&&(N||f)&&(y=!1),h.push({type:"item",str:C}),h},[]),g;if(d.length===0)g=r.start+r.end;else if(f){let{start:h,end:b}=r,_=d.map(N=>N.str);if(p||_.reduce((N,C)=>N+C.length+2,2)>Kt.maxFlowStringSingleLineLength){g=h;for(let N of _)g+=N?`
${u}${l}${N}`:`
`;g+=`
${l}${b}`}else g=`${h} ${_.join(" ")} ${b}`}else{let h=d.map(n);g=h.shift();for(let b of h)g+=b?`
${l}${b}`:`
`}return this.comment?(g+=`
`+this.comment.replace(/^/gm,`${l}#`),a&&a()):y&&o&&o(),g}};Y._defineProperty(Kt,"maxFlowStringSingleLineLength",60);function Yc(t){let e=t instanceof xn?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),Number.isInteger(e)&&e>=0?e:null}var zs=class extends Kt{add(e){this.items.push(e)}delete(e){let n=Yc(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){let r=Yc(e);if(typeof r!="number")return;let i=this.items[r];return!n&&i instanceof xn?i.value:i}has(e){let n=Yc(e);return typeof n=="number"&&n<this.items.length}set(e,n){let r=Yc(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);this.items[r]=n}toJSON(e,n){let r=[];n&&n.onCreate&&n.onCreate(r);let i=0;for(let s of this.items)r.push(gs(s,String(i++),n));return r}toString(e,n,r){return e?super.toString(e,{blockItem:i=>i.type==="comment"?i.str:`- ${i.str}`,flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(e.indent||"")+"  "},n,r):JSON.stringify(this)}},mw=(t,e,n)=>e===null?"":typeof e!="object"?String(e):t instanceof Pr&&n&&n.doc?t.toString({anchors:Object.create(null),doc:n.doc,indent:"",indentStep:n.indentStep,inFlow:!0,inStringifyKey:!0,stringify:n.stringify}):JSON.stringify(e),ut=class extends Pr{constructor(e,n=null){super();this.key=e,this.value=n,this.type=ut.Type.PAIR}get commentBefore(){return this.key instanceof Pr?this.key.commentBefore:void 0}set commentBefore(e){if(this.key==null&&(this.key=new xn(null)),this.key instanceof Pr)this.key.commentBefore=e;else{let n="Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.";throw new Error(n)}}addToJSMap(e,n){let r=gs(this.key,"",e);if(n instanceof Map){let i=gs(this.value,r,e);n.set(r,i)}else if(n instanceof Set)n.add(r);else{let i=mw(this.key,r,e),s=gs(this.value,i,e);i in n?Object.defineProperty(n,i,{value:s,writable:!0,enumerable:!0,configurable:!0}):n[i]=s}return n}toJSON(e,n){let r=n&&n.mapAsMap?new Map:{};return this.addToJSMap(n,r)}toString(e,n,r){if(!e||!e.doc)return JSON.stringify(this);let{indent:i,indentSeq:s,simpleKeys:a}=e.doc.options,{key:o,value:l}=this,u=o instanceof Pr&&o.comment;if(a){if(u)throw new Error("With simple keys, key nodes cannot have comments");if(o instanceof Kt){let C="With simple keys, collection cannot be used as a key value";throw new Error(C)}}let c=!a&&(!o||u||(o instanceof Pr?o instanceof Kt||o.type===Y.Type.BLOCK_FOLDED||o.type===Y.Type.BLOCK_LITERAL:typeof o=="object")),{doc:f,indent:m,indentStep:y,stringify:p}=e;e=Object.assign({},e,{implicitKey:!c,indent:m+y});let d=!1,g=p(o,e,()=>u=null,()=>d=!0);if(g=yo(g,e.indent,u),!c&&g.length>1024){if(a)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");c=!0}if(e.allNullValues&&!a)return this.comment?(g=yo(g,e.indent,this.comment),n&&n()):d&&!u&&r&&r(),e.inFlow&&!c?g:`? ${g}`;g=c?`? ${g}
${m}:`:`${g}:`,this.comment&&(g=yo(g,e.indent,this.comment),n&&n());let h="",b=null;l instanceof Pr?(l.spaceBefore&&(h=`
`),l.commentBefore&&(h+=`
${l.commentBefore.replace(/^/gm,`${e.indent}#`)}`),b=l.comment):l&&typeof l=="object"&&(l=f.schema.createNode(l,!0)),e.implicitKey=!1,!c&&!this.comment&&l instanceof xn&&(e.indentAtStart=g.length+1),d=!1,!s&&i>=2&&!e.inFlow&&!c&&l instanceof zs&&l.type!==Y.Type.FLOW_SEQ&&!l.tag&&!f.anchors.getName(l)&&(e.indent=e.indent.substr(2));let _=p(l,e,()=>b=null,()=>d=!0),N=" ";return h||this.comment?N=`${h}
${e.indent}`:!c&&l instanceof Kt?(!(_[0]==="["||_[0]==="{")||_.includes(`
`))&&(N=`
${e.indent}`):_[0]===`
`&&(N=""),d&&!b&&r&&r(),yo(g+N+_,e.indent,b)}};Y._defineProperty(ut,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var Hc=(t,e)=>{if(t instanceof _s){let n=e.get(t.source);return n.count*n.aliasCount}else if(t instanceof Kt){let n=0;for(let r of t.items){let i=Hc(r,e);i>n&&(n=i)}return n}else if(t instanceof ut){let n=Hc(t.key,e),r=Hc(t.value,e);return Math.max(n,r)}return 1},_s=class extends Pr{static stringify({range:e,source:n},{anchors:r,doc:i,implicitKey:s,inStringifyKey:a}){let o=Object.keys(r).find(u=>r[u]===n);if(!o&&a&&(o=i.anchors.getName(n)||i.anchors.newName()),o)return`*${o}${s?" ":""}`;let l=i.anchors.getName(n)?"Alias node must be after source node":"Source node not found for alias node";throw new Error(`${l} [${e}]`)}constructor(e){super();this.source=e,this.type=Y.Type.ALIAS}set tag(e){throw new Error("Alias nodes cannot have tags")}toJSON(e,n){if(!n)return gs(this.source,e,n);let{anchors:r,maxAliasCount:i}=n,s=r.get(this.source);if(!s||s.res===void 0){let a="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new Y.YAMLReferenceError(this.cstNode,a):new ReferenceError(a)}if(i>=0&&(s.count+=1,s.aliasCount===0&&(s.aliasCount=Hc(this.source,r)),s.count*s.aliasCount>i)){let a="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new Y.YAMLReferenceError(this.cstNode,a):new ReferenceError(a)}return s.res}toString(e){return _s.stringify(this,e)}};Y._defineProperty(_s,"default",!0);function Il(t,e){let n=e instanceof xn?e.value:e;for(let r of t)if(r instanceof ut&&(r.key===e||r.key===n||r.key&&r.key.value===n))return r}var $c=class extends Kt{add(e,n){e?e instanceof ut||(e=new ut(e.key||e,e.value)):e=new ut(e);let r=Il(this.items,e.key),i=this.schema&&this.schema.sortMapEntries;if(r)if(n)r.value=e.value;else throw new Error(`Key ${e.key} already set`);else if(i){let s=this.items.findIndex(a=>i(e,a)<0);s===-1?this.items.push(e):this.items.splice(s,0,e)}else this.items.push(e)}delete(e){let n=Il(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){let r=Il(this.items,e),i=r&&r.value;return!n&&i instanceof xn?i.value:i}has(e){return!!Il(this.items,e)}set(e,n){this.add(new ut(e,n),!0)}toJSON(e,n,r){let i=r?new r:n&&n.mapAsMap?new Map:{};n&&n.onCreate&&n.onCreate(i);for(let s of this.items)s.addToJSMap(n,i);return i}toString(e,n,r){if(!e)return JSON.stringify(this);for(let i of this.items)if(!(i instanceof ut))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return super.toString(e,{blockItem:i=>i.str,flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:e.indent||""},n,r)}},$0="<<",gm=class extends ut{constructor(e){if(e instanceof ut){let n=e.value;n instanceof zs||(n=new zs,n.items.push(e.value),n.range=e.value.range);super(e.key,n);this.range=e.range}else super(new xn($0),new zs);this.type=ut.Type.MERGE_PAIR}addToJSMap(e,n){for(let{source:r}of this.value.items){if(!(r instanceof $c))throw new Error("Merge sources must be maps");let i=r.toJSON(null,e,Map);for(let[s,a]of i)n instanceof Map?n.has(s)||n.set(s,a):n instanceof Set?n.add(s):Object.prototype.hasOwnProperty.call(n,s)||Object.defineProperty(n,s,{value:a,writable:!0,enumerable:!0,configurable:!0})}return n}toString(e,n){let r=this.value;if(r.items.length>1)return super.toString(e,n);this.value=r.items[0];let i=super.toString(e,n);return this.value=r,i}},hw={defaultType:Y.Type.BLOCK_LITERAL,lineWidth:76},gw={trueStr:"true",falseStr:"false"},_w={asBigInt:!1},yw={nullStr:"null"},Xs={defaultType:Y.Type.PLAIN,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function _m(t,e,n){for(let{format:r,test:i,resolve:s}of e)if(i){let a=t.match(i);if(a){let o=s.apply(null,a);return o instanceof xn||(o=new xn(o)),r&&(o.format=r),o}}return n&&(t=n(t)),new xn(t)}var K0="flow",ym="block",Kc="quoted",z0=(t,e)=>{let n=t[e+1];for(;n===" "||n==="	";){do n=t[e+=1];while(n&&n!==`
`);n=t[e+1]}return e};function zc(t,e,n,{indentAtStart:r,lineWidth:i=80,minContentWidth:s=20,onFold:a,onOverflow:o}){if(!i||i<0)return t;let l=Math.max(1+s,1+i-e.length);if(t.length<=l)return t;let u=[],c={},f=i-e.length;typeof r=="number"&&(r>i-Math.max(2,s)?u.push(0):f=i-r);let m,y,p=!1,d=-1,g=-1,h=-1;n===ym&&(d=z0(t,d),d!==-1&&(f=d+l));for(let _;_=t[d+=1];){if(n===Kc&&_==="\\"){switch(g=d,t[d+1]){case"x":d+=3;break;case"u":d+=5;break;case"U":d+=9;break;default:d+=1}h=d}if(_===`
`)n===ym&&(d=z0(t,d)),f=d+l,m=void 0;else{if(_===" "&&y&&y!==" "&&y!==`
`&&y!=="	"){let N=t[d+1];N&&N!==" "&&N!==`
`&&N!=="	"&&(m=d)}if(d>=f)if(m)u.push(m),f=m+l,m=void 0;else if(n===Kc){for(;y===" "||y==="	";)y=_,_=t[d+=1],p=!0;let N=d>h+1?d-2:g-1;if(c[N])return t;u.push(N),c[N]=!0,f=N+l,m=void 0}else p=!0}y=_}if(p&&o&&o(),u.length===0)return t;a&&a();let b=t.slice(0,u[0]);for(let _=0;_<u.length;++_){let N=u[_],C=u[_+1]||t.length;N===0?b=`
${e}${t.slice(0,C)}`:(n===Kc&&c[N]&&(b+=`${t[N]}\\`),b+=`
${e}${t.slice(N+1,C)}`)}return b}var bm=({indentAtStart:t})=>t?Object.assign({indentAtStart:t},Xs.fold):Xs.fold,Xc=t=>/^(%|---|\.\.\.)/m.test(t);function bw(t,e,n){if(!e||e<0)return!1;let r=e-n,i=t.length;if(i<=r)return!1;for(let s=0,a=0;s<i;++s)if(t[s]===`
`){if(s-a>r)return!0;if(a=s+1,i-a<=r)return!1}return!0}function Qs(t,e){let{implicitKey:n}=e,{jsonEncoding:r,minMultiLineLength:i}=Xs.doubleQuoted,s=JSON.stringify(t);if(r)return s;let a=e.indent||(Xc(t)?"  ":""),o="",l=0;for(let u=0,c=s[u];c;c=s[++u])if(c===" "&&s[u+1]==="\\"&&s[u+2]==="n"&&(o+=s.slice(l,u)+"\\ ",u+=1,l=u,c="\\"),c==="\\")switch(s[u+1]){case"u":{o+=s.slice(l,u);let f=s.substr(u+2,4);switch(f){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:f.substr(0,2)==="00"?o+="\\x"+f.substr(2):o+=s.substr(u,6)}u+=5,l=u+1}break;case"n":if(n||s[u+2]==='"'||s.length<i)u+=1;else{for(o+=s.slice(l,u)+`

`;s[u+2]==="\\"&&s[u+3]==="n"&&s[u+4]!=='"';)o+=`
`,u+=2;o+=a,s[u+2]===" "&&(o+="\\"),u+=1,l=u+1}break;default:u+=1}return o=l?o+s.slice(l):s,n?o:zc(o,a,Kc,bm(e))}function X0(t,e){if(e.implicitKey){if(/\n/.test(t))return Qs(t,e)}else if(/[ \t]\n|\n[ \t]/.test(t))return Qs(t,e);let n=e.indent||(Xc(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:zc(r,n,K0,bm(e))}function Qc({comment:t,type:e,value:n},r,i,s){if(/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return Qs(n,r);let a=r.indent||(r.forceBlockIndent||Xc(n)?"  ":""),o=a?"2":"1",l=e===Y.Type.BLOCK_FOLDED?!1:e===Y.Type.BLOCK_LITERAL?!0:!bw(n,Xs.fold.lineWidth,a.length),u=l?"|":">";if(!n)return u+`
`;let c="",f="";if(n=n.replace(/[\n\t ]*$/,y=>{let p=y.indexOf(`
`);return p===-1?u+="-":(n===y||p!==y.length-1)&&(u+="+",s&&s()),f=y.replace(/\n$/,""),""}).replace(/^[\n ]*/,y=>{y.indexOf(" ")!==-1&&(u+=o);let p=y.match(/ +$/);return p?(c=y.slice(0,-p[0].length),p[0]):(c=y,"")}),f&&(f=f.replace(/\n+(?!\n|$)/g,`$&${a}`)),c&&(c=c.replace(/\n+/g,`$&${a}`)),t&&(u+=" #"+t.replace(/ ?[\r\n]+/g," "),i&&i()),!n)return`${u}${o}
${a}${f}`;if(l)return n=n.replace(/\n+/g,`$&${a}`),`${u}
${a}${c}${n}${f}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${a}`);let m=zc(`${c}${n}${f}`,a,ym,Xs.fold);return`${u}
${a}${m}`}function Tw(t,e,n,r){let{comment:i,type:s,value:a}=t,{actualString:o,implicitKey:l,indent:u,inFlow:c}=e;if(l&&/[\n[\]{},]/.test(a)||c&&/[[\]{},]/.test(a))return Qs(a,e);if(!a||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(a))return l||c||a.indexOf(`
`)===-1?a.indexOf('"')!==-1&&a.indexOf("'")===-1?X0(a,e):Qs(a,e):Qc(t,e,n,r);if(!l&&!c&&s!==Y.Type.PLAIN&&a.indexOf(`
`)!==-1)return Qc(t,e,n,r);if(u===""&&Xc(a))return e.forceBlockIndent=!0,Qc(t,e,n,r);let f=a.replace(/\n+/g,`$&
${u}`);if(o){let{tags:y}=e.doc.schema;if(typeof _m(f,y,y.scalarFallback).value!="string")return Qs(a,e)}let m=l?f:zc(f,u,K0,bm(e));return i&&!c&&(m.indexOf(`
`)!==-1||i.indexOf(`
`)!==-1)?(n&&n(),dw(m,u,i)):m}function vw(t,e,n,r){let{defaultType:i}=Xs,{implicitKey:s,inFlow:a}=e,{type:o,value:l}=t;typeof l!="string"&&(l=String(l),t=Object.assign({},t,{value:l}));let u=f=>{switch(f){case Y.Type.BLOCK_FOLDED:case Y.Type.BLOCK_LITERAL:return Qc(t,e,n,r);case Y.Type.QUOTE_DOUBLE:return Qs(l,e);case Y.Type.QUOTE_SINGLE:return X0(l,e);case Y.Type.PLAIN:return Tw(t,e,n,r);default:return null}};(o!==Y.Type.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(l)||(s||a)&&(o===Y.Type.BLOCK_FOLDED||o===Y.Type.BLOCK_LITERAL))&&(o=Y.Type.QUOTE_DOUBLE);let c=u(o);if(c===null&&(c=u(i),c===null))throw new Error(`Unsupported default string type ${i}`);return c}function Nw({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let i=JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let s=i.indexOf(".");s<0&&(s=i.length,i+=".");let a=e-(i.length-s-1);for(;a-- >0;)i+="0"}return i}function Q0(t,e){let n,r;switch(e.type){case Y.Type.FLOW_MAP:n="}",r="flow map";break;case Y.Type.FLOW_SEQ:n="]",r="flow sequence";break;default:t.push(new Y.YAMLSemanticError(e,"Not a flow collection!?"));return}let i;for(let s=e.items.length-1;s>=0;--s){let a=e.items[s];if(!a||a.type!==Y.Type.COMMENT){i=a;break}}if(i&&i.char!==n){let s=`Expected ${r} to end with ${n}`,a;typeof i.offset=="number"?(a=new Y.YAMLSemanticError(e,s),a.offset=i.offset+1):(a=new Y.YAMLSemanticError(i,s),i.range&&i.range.end&&(a.offset=i.range.end-i.range.start)),t.push(a)}}function J0(t,e){let n=e.context.src[e.range.start-1];if(n!==`
`&&n!=="	"&&n!==" "){let r="Comments must be separated from other tokens by white space characters";t.push(new Y.YAMLSemanticError(e,r))}}function Z0(t,e){let n=String(e),r=n.substr(0,8)+"..."+n.substr(-8);return new Y.YAMLSemanticError(t,`The "${r}" key is too long`)}function ev(t,e){for(let{afterKey:n,before:r,comment:i}of e){let s=t.items[r];s?(n&&s.value&&(s=s.value),i===void 0?(n||!s.commentBefore)&&(s.spaceBefore=!0):s.commentBefore?s.commentBefore+=`
`+i:s.commentBefore=i):i!==void 0&&(t.comment?t.comment+=`
`+i:t.comment=i)}}function Tm(t,e){let n=e.strValue;return n?typeof n=="string"?n:(n.errors.forEach(r=>{r.source||(r.source=e),t.errors.push(r)}),n.str):""}function Cw(t,e){let{handle:n,suffix:r}=e.tag,i=t.tagPrefixes.find(s=>s.handle===n);if(!i){let s=t.getDefaults().tagPrefixes;if(s&&(i=s.find(a=>a.handle===n)),!i)throw new Y.YAMLSemanticError(e,`The ${n} tag handle is non-default and was not declared.`)}if(!r)throw new Y.YAMLSemanticError(e,`The ${n} tag has no suffix.`);if(n==="!"&&(t.version||t.options.version)==="1.0"){if(r[0]==="^")return t.warnings.push(new Y.YAMLWarning(e,"YAML 1.0 ^ tag expansion is not supported")),r;if(/[:/]/.test(r)){let s=r.match(/^([a-z0-9-]+)\/(.*)/i);return s?`tag:${s[1]}.yaml.org,2002:${s[2]}`:`tag:${r}`}}return i.prefix+decodeURIComponent(r)}function Pw(t,e){let{tag:n,type:r}=e,i=!1;if(n){let{handle:s,suffix:a,verbatim:o}=n;if(o){if(o!=="!"&&o!=="!!")return o;let l=`Verbatim tags aren't resolved, so ${o} is invalid.`;t.errors.push(new Y.YAMLSemanticError(e,l))}else if(s==="!"&&!a)i=!0;else try{return Cw(t,e)}catch(l){t.errors.push(l)}}switch(r){case Y.Type.BLOCK_FOLDED:case Y.Type.BLOCK_LITERAL:case Y.Type.QUOTE_DOUBLE:case Y.Type.QUOTE_SINGLE:return Y.defaultTags.STR;case Y.Type.FLOW_MAP:case Y.Type.MAP:return Y.defaultTags.MAP;case Y.Type.FLOW_SEQ:case Y.Type.SEQ:return Y.defaultTags.SEQ;case Y.Type.PLAIN:return i?Y.defaultTags.STR:null;default:return null}}function tv(t,e,n){let{tags:r}=t.schema,i=[];for(let a of r)if(a.tag===n)if(a.test)i.push(a);else{let o=a.resolve(t,e);return o instanceof Kt?o:new xn(o)}let s=Tm(t,e);return typeof s=="string"&&i.length>0?_m(s,i,r.scalarFallback):null}function Dw({type:t}){switch(t){case Y.Type.FLOW_MAP:case Y.Type.MAP:return Y.defaultTags.MAP;case Y.Type.FLOW_SEQ:case Y.Type.SEQ:return Y.defaultTags.SEQ;default:return Y.defaultTags.STR}}function Sw(t,e,n){try{let r=tv(t,e,n);if(r)return n&&e.tag&&(r.tag=n),r}catch(r){return r.source||(r.source=e),t.errors.push(r),null}try{let r=Dw(e);if(!r)throw new Error(`The tag ${n} is unavailable`);let i=`The tag ${n} is unavailable, falling back to ${r}`;t.warnings.push(new Y.YAMLWarning(e,i));let s=tv(t,e,r);return s.tag=n,s}catch(r){let i=new Y.YAMLReferenceError(e,r.message);return i.stack=r.stack,t.errors.push(i),null}}var Aw=t=>{if(!t)return!1;let{type:e}=t;return e===Y.Type.MAP_KEY||e===Y.Type.MAP_VALUE||e===Y.Type.SEQ_ITEM};function Iw(t,e){let n={before:[],after:[]},r=!1,i=!1,s=Aw(e.context.parent)?e.context.parent.props.concat(e.props):e.props;for(let{start:a,end:o}of s)switch(e.context.src[a]){case Y.Char.COMMENT:{if(!e.commentHasRequiredWhitespace(a)){let f="Comments must be separated from other tokens by white space characters";t.push(new Y.YAMLSemanticError(e,f))}let{header:l,valueRange:u}=e;(u&&(a>u.start||l&&a>l.start)?n.after:n.before).push(e.context.src.slice(a+1,o));break}case Y.Char.ANCHOR:if(r){let l="A node can have at most one anchor";t.push(new Y.YAMLSemanticError(e,l))}r=!0;break;case Y.Char.TAG:if(i){let l="A node can have at most one tag";t.push(new Y.YAMLSemanticError(e,l))}i=!0;break}return{comments:n,hasAnchor:r,hasTag:i}}function Ew(t,e){let{anchors:n,errors:r,schema:i}=t;if(e.type===Y.Type.ALIAS){let a=e.rawValue,o=n.getNode(a);if(!o){let u=`Aliased anchor not found: ${a}`;return r.push(new Y.YAMLReferenceError(e,u)),null}let l=new _s(o);return n._cstAliases.push(l),l}let s=Pw(t,e);if(s)return Sw(t,e,s);if(e.type!==Y.Type.PLAIN){let a=`Failed to resolve ${e.type} node here`;return r.push(new Y.YAMLSyntaxError(e,a)),null}try{let a=Tm(t,e);return _m(a,i.tags,i.tags.scalarFallback)}catch(a){return a.source||(a.source=e),r.push(a),null}}function ys(t,e){if(!e)return null;e.error&&t.errors.push(e.error);let{comments:n,hasAnchor:r,hasTag:i}=Iw(t.errors,e);if(r){let{anchors:a}=t,o=e.anchor,l=a.getNode(o);l&&(a.map[a.newName(o)]=l),a.map[o]=e}if(e.type===Y.Type.ALIAS&&(r||i)){let a="An alias node must not specify any properties";t.errors.push(new Y.YAMLSemanticError(e,a))}let s=Ew(t,e);if(s){s.range=[e.range.start,e.range.end],t.options.keepCstNodes&&(s.cstNode=e),t.options.keepNodeTypes&&(s.type=e.type);let a=n.before.join(`
`);a&&(s.commentBefore=s.commentBefore?`${s.commentBefore}
${a}`:a);let o=n.after.join(`
`);o&&(s.comment=s.comment?`${s.comment}
${o}`:o)}return e.resolved=s}function xw(t,e){if(e.type!==Y.Type.MAP&&e.type!==Y.Type.FLOW_MAP){let a=`A ${e.type} node cannot be resolved as a mapping`;return t.errors.push(new Y.YAMLSyntaxError(e,a)),null}let{comments:n,items:r}=e.type===Y.Type.FLOW_MAP?Lw(t,e):Ow(t,e),i=new $c;i.items=r,ev(i,n);let s=!1;for(let a=0;a<r.length;++a){let{key:o}=r[a];if(o instanceof Kt&&(s=!0),t.schema.merge&&o&&o.value===$0){r[a]=new gm(r[a]);let l=r[a].value.items,u=null;l.some(c=>{if(c instanceof _s){let{type:f}=c.source;return f===Y.Type.MAP||f===Y.Type.FLOW_MAP?!1:u="Merge nodes aliases can only point to maps"}return u="Merge nodes can only have Alias nodes as values"}),u&&t.errors.push(new Y.YAMLSemanticError(e,u))}else for(let l=a+1;l<r.length;++l){let{key:u}=r[l];if(o===u||o&&u&&Object.prototype.hasOwnProperty.call(o,"value")&&o.value===u.value){let c=`Map keys must be unique; "${o}" is repeated`;t.errors.push(new Y.YAMLSemanticError(e,c));break}}}if(s&&!t.options.mapAsMap){let a="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new Y.YAMLWarning(e,a))}return e.resolved=i,i}var Rw=({context:{lineStart:t,node:e,src:n},props:r})=>{if(r.length===0)return!1;let{start:i}=r[0];if(e&&i>e.valueRange.start||n[i]!==Y.Char.COMMENT)return!1;for(let s=t;s<i;++s)if(n[s]===`
`)return!1;return!0};function ww(t,e){if(!Rw(t))return;let n=t.getPropValue(0,Y.Char.COMMENT,!0),r=!1,i=e.value.commentBefore;if(i&&i.startsWith(n))e.value.commentBefore=i.substr(n.length+1),r=!0;else{let s=e.value.comment;!t.node&&s&&s.startsWith(n)&&(e.value.comment=s.substr(n.length+1),r=!0)}r&&(e.comment=n)}function Ow(t,e){let n=[],r=[],i,s=null;for(let a=0;a<e.items.length;++a){let o=e.items[a];switch(o.type){case Y.Type.BLANK_LINE:n.push({afterKey:!!i,before:r.length});break;case Y.Type.COMMENT:n.push({afterKey:!!i,before:r.length,comment:o.comment});break;case Y.Type.MAP_KEY:i!==void 0&&r.push(new ut(i)),o.error&&t.errors.push(o.error),i=ys(t,o.node),s=null;break;case Y.Type.MAP_VALUE:{if(i===void 0&&(i=null),o.error&&t.errors.push(o.error),!o.context.atLineStart&&o.node&&o.node.type===Y.Type.MAP&&!o.node.context.atLineStart){let c="Nested mappings are not allowed in compact mappings";t.errors.push(new Y.YAMLSemanticError(o.node,c))}let l=o.node;if(!l&&o.props.length>0){l=new Y.PlainValue(Y.Type.PLAIN,[]),l.context={parent:o,src:o.context.src};let c=o.range.start+1;if(l.range={start:c,end:c},l.valueRange={start:c,end:c},typeof o.range.origStart=="number"){let f=o.range.origStart+1;l.range.origStart=l.range.origEnd=f,l.valueRange.origStart=l.valueRange.origEnd=f}}let u=new ut(i,ys(t,l));ww(o,u),r.push(u),i&&typeof s=="number"&&o.range.start>s+1024&&t.errors.push(Z0(e,i)),i=void 0,s=null}break;default:i!==void 0&&r.push(new ut(i)),i=ys(t,o),s=o.range.start,o.error&&t.errors.push(o.error);e:for(let l=a+1;;++l){let u=e.items[l];switch(u&&u.type){case Y.Type.BLANK_LINE:case Y.Type.COMMENT:continue e;case Y.Type.MAP_VALUE:break e;default:{let c="Implicit map keys need to be followed by map values";t.errors.push(new Y.YAMLSemanticError(o,c));break e}}}if(o.valueRangeContainsNewline){let l="Implicit map keys need to be on a single line";t.errors.push(new Y.YAMLSemanticError(o,l))}}}return i!==void 0&&r.push(new ut(i)),{comments:n,items:r}}function Lw(t,e){let n=[],r=[],i,s=!1,a="{";for(let o=0;o<e.items.length;++o){let l=e.items[o];if(typeof l.char=="string"){let{char:u,offset:c}=l;if(u==="?"&&i===void 0&&!s){s=!0,a=":";continue}if(u===":"){if(i===void 0&&(i=null),a===":"){a=",";continue}}else if(s&&(i===void 0&&u!==","&&(i=null),s=!1),i!==void 0&&(r.push(new ut(i)),i=void 0,u===",")){a=":";continue}if(u==="}"){if(o===e.items.length-1)continue}else if(u===a){a=":";continue}let f=`Flow map contains an unexpected ${u}`,m=new Y.YAMLSyntaxError(e,f);m.offset=c,t.errors.push(m)}else l.type===Y.Type.BLANK_LINE?n.push({afterKey:!!i,before:r.length}):l.type===Y.Type.COMMENT?(J0(t.errors,l),n.push({afterKey:!!i,before:r.length,comment:l.comment})):i===void 0?(a===","&&t.errors.push(new Y.YAMLSemanticError(l,"Separator , missing in flow map")),i=ys(t,l)):(a!==","&&t.errors.push(new Y.YAMLSemanticError(l,"Indicator : missing in flow map entry")),r.push(new ut(i,ys(t,l))),i=void 0,s=!1)}return Q0(t.errors,e),i!==void 0&&r.push(new ut(i)),{comments:n,items:r}}function Fw(t,e){if(e.type!==Y.Type.SEQ&&e.type!==Y.Type.FLOW_SEQ){let s=`A ${e.type} node cannot be resolved as a sequence`;return t.errors.push(new Y.YAMLSyntaxError(e,s)),null}let{comments:n,items:r}=e.type===Y.Type.FLOW_SEQ?Mw(t,e):kw(t,e),i=new zs;if(i.items=r,ev(i,n),!t.options.mapAsMap&&r.some(s=>s instanceof ut&&s.key instanceof Kt)){let s="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new Y.YAMLWarning(e,s))}return e.resolved=i,i}function kw(t,e){let n=[],r=[];for(let i=0;i<e.items.length;++i){let s=e.items[i];switch(s.type){case Y.Type.BLANK_LINE:n.push({before:r.length});break;case Y.Type.COMMENT:n.push({comment:s.comment,before:r.length});break;case Y.Type.SEQ_ITEM:if(s.error&&t.errors.push(s.error),r.push(ys(t,s.node)),s.hasProps){let a="Sequence items cannot have tags or anchors before the - indicator";t.errors.push(new Y.YAMLSemanticError(s,a))}break;default:s.error&&t.errors.push(s.error),t.errors.push(new Y.YAMLSyntaxError(s,`Unexpected ${s.type} node in sequence`))}}return{comments:n,items:r}}function Mw(t,e){let n=[],r=[],i=!1,s,a=null,o="[",l=null;for(let u=0;u<e.items.length;++u){let c=e.items[u];if(typeof c.char=="string"){let{char:f,offset:m}=c;if(f!==":"&&(i||s!==void 0)&&(i&&s===void 0&&(s=o?r.pop():null),r.push(new ut(s)),i=!1,s=void 0,a=null),f===o)o=null;else if(!o&&f==="?")i=!0;else if(o!=="["&&f===":"&&s===void 0){if(o===","){if(s=r.pop(),s instanceof ut){let y="Chaining flow sequence pairs is invalid",p=new Y.YAMLSemanticError(e,y);p.offset=m,t.errors.push(p)}if(!i&&typeof a=="number"){let y=c.range?c.range.start:c.offset;y>a+1024&&t.errors.push(Z0(e,s));let{src:p}=l.context;for(let d=a;d<y;++d)if(p[d]===`
`){let g="Implicit keys of flow sequence pairs need to be on a single line";t.errors.push(new Y.YAMLSemanticError(l,g));break}}}else s=null;a=null,i=!1,o=null}else if(o==="["||f!=="]"||u<e.items.length-1){let y=`Flow sequence contains an unexpected ${f}`,p=new Y.YAMLSyntaxError(e,y);p.offset=m,t.errors.push(p)}}else if(c.type===Y.Type.BLANK_LINE)n.push({before:r.length});else if(c.type===Y.Type.COMMENT)J0(t.errors,c),n.push({comment:c.comment,before:r.length});else{if(o){let m=`Expected a ${o} in flow sequence`;t.errors.push(new Y.YAMLSemanticError(c,m))}let f=ys(t,c);s===void 0?(r.push(f),l=c):(r.push(new ut(s,f)),s=void 0),a=c.range.start,o=","}}return Q0(t.errors,e),s!==void 0&&r.push(new ut(s)),{comments:n,items:r}}Pt.Alias=_s;Pt.Collection=Kt;Pt.Merge=gm;Pt.Node=Pr;Pt.Pair=ut;Pt.Scalar=xn;Pt.YAMLMap=$c;Pt.YAMLSeq=zs;Pt.addComment=yo;Pt.binaryOptions=hw;Pt.boolOptions=gw;Pt.findPair=Il;Pt.intOptions=_w;Pt.isEmptyPath=H0;Pt.nullOptions=yw;Pt.resolveMap=xw;Pt.resolveNode=ys;Pt.resolveSeq=Fw;Pt.resolveString=Tm;Pt.strOptions=Xs;Pt.stringifyNumber=Nw;Pt.stringifyString=vw;Pt.toJSON=gs});var Jc=X(ii=>{"use strict";var ir=ms(),Ke=bo(),Bw={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve:(t,e)=>{let n=Ke.resolveString(t,e);if(typeof Buffer=="function")return Buffer.from(n,"base64");if(typeof atob=="function"){let r=atob(n.replace(/[\n\r]/g,"")),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}else{let r="This environment does not support reading binary tags; either Buffer or atob is required";return t.errors.push(new ir.YAMLReferenceError(e,r)),null}},options:Ke.binaryOptions,stringify:({comment:t,type:e,value:n},r,i,s)=>{let a;if(typeof Buffer=="function")a=n instanceof Buffer?n.toString("base64"):Buffer.from(n.buffer).toString("base64");else if(typeof btoa=="function"){let o="";for(let l=0;l<n.length;++l)o+=String.fromCharCode(n[l]);a=btoa(o)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=Ke.binaryOptions.defaultType),e===ir.Type.QUOTE_DOUBLE)n=a;else{let{lineWidth:o}=Ke.binaryOptions,l=Math.ceil(a.length/o),u=new Array(l);for(let c=0,f=0;c<l;++c,f+=o)u[c]=a.substr(f,o);n=u.join(e===ir.Type.BLOCK_LITERAL?`
`:" ")}return Ke.stringifyString({comment:t,type:e,value:n},r,i,s)}};function nv(t,e){let n=Ke.resolveSeq(t,e);for(let r=0;r<n.items.length;++r){let i=n.items[r];if(!(i instanceof Ke.Pair)){if(i instanceof Ke.YAMLMap){if(i.items.length>1){let a="Each pair must have its own sequence indicator";throw new ir.YAMLSemanticError(e,a)}let s=i.items[0]||new Ke.Pair;i.commentBefore&&(s.commentBefore=s.commentBefore?`${i.commentBefore}
${s.commentBefore}`:i.commentBefore),i.comment&&(s.comment=s.comment?`${i.comment}
${s.comment}`:i.comment),i=s}n.items[r]=i instanceof Ke.Pair?i:new Ke.Pair(i)}}return n}function rv(t,e,n){let r=new Ke.YAMLSeq(t);r.tag="tag:yaml.org,2002:pairs";for(let i of e){let s,a;if(Array.isArray(i))if(i.length===2)s=i[0],a=i[1];else throw new TypeError(`Expected [key, value] tuple: ${i}`);else if(i&&i instanceof Object){let l=Object.keys(i);if(l.length===1)s=l[0],a=i[s];else throw new TypeError(`Expected { key: value } tuple: ${i}`)}else s=i;let o=t.createPair(s,a,n);r.items.push(o)}return r}var qw={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:nv,createNode:rv},Js=class extends Ke.YAMLSeq{constructor(){super();ir._defineProperty(this,"add",Ke.YAMLMap.prototype.add.bind(this)),ir._defineProperty(this,"delete",Ke.YAMLMap.prototype.delete.bind(this)),ir._defineProperty(this,"get",Ke.YAMLMap.prototype.get.bind(this)),ir._defineProperty(this,"has",Ke.YAMLMap.prototype.has.bind(this)),ir._defineProperty(this,"set",Ke.YAMLMap.prototype.set.bind(this)),this.tag=Js.tag}toJSON(e,n){let r=new Map;n&&n.onCreate&&n.onCreate(r);for(let i of this.items){let s,a;if(i instanceof Ke.Pair?(s=Ke.toJSON(i.key,"",n),a=Ke.toJSON(i.value,s,n)):s=Ke.toJSON(i,"",n),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,a)}return r}};ir._defineProperty(Js,"tag","tag:yaml.org,2002:omap");function Vw(t,e){let n=nv(t,e),r=[];for(let{key:i}of n.items)if(i instanceof Ke.Scalar)if(r.includes(i.value)){let s="Ordered maps must not include duplicate keys";throw new ir.YAMLSemanticError(e,s)}else r.push(i.value);return Object.assign(new Js,n)}function jw(t,e,n){let r=rv(t,e,n),i=new Js;return i.items=r.items,i}var Uw={identify:t=>t instanceof Map,nodeClass:Js,default:!1,tag:"tag:yaml.org,2002:omap",resolve:Vw,createNode:jw},Zs=class extends Ke.YAMLMap{constructor(){super();this.tag=Zs.tag}add(e){let n=e instanceof Ke.Pair?e:new Ke.Pair(e);Ke.findPair(this.items,n.key)||this.items.push(n)}get(e,n){let r=Ke.findPair(this.items,e);return!n&&r instanceof Ke.Pair?r.key instanceof Ke.Scalar?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);let r=Ke.findPair(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Ke.Pair(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues())return super.toString(e,n,r);throw new Error("Set items must all have null values")}};ir._defineProperty(Zs,"tag","tag:yaml.org,2002:set");function Ww(t,e){let n=Ke.resolveMap(t,e);if(!n.hasAllNullValues())throw new ir.YAMLSemanticError(e,"Set items must all have null values");return Object.assign(new Zs,n)}function Gw(t,e,n){let r=new Zs;for(let i of e)r.items.push(t.createPair(i,null,n));return r}var Yw={identify:t=>t instanceof Set,nodeClass:Zs,default:!1,tag:"tag:yaml.org,2002:set",resolve:Ww,createNode:Gw},vm=(t,e)=>{let n=e.split(":").reduce((r,i)=>r*60+Number(i),0);return t==="-"?-n:n},iv=({value:t})=>{if(isNaN(t)||!isFinite(t))return Ke.stringifyNumber(t);let e="";t<0&&(e="-",t=Math.abs(t));let n=[t%60];return t<60?n.unshift(0):(t=Math.round((t-n[0])/60),n.unshift(t%60),t>=60&&(t=Math.round((t-n[0])/60),n.unshift(t))),e+n.map(r=>r<10?"0"+String(r):String(r)).join(":").replace(/000000\d*$/,"")},Hw={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:(t,e,n)=>vm(e,n.replace(/_/g,"")),stringify:iv},$w={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:(t,e,n)=>vm(e,n.replace(/_/g,"")),stringify:iv},Kw={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:(t,e,n,r,i,s,a,o,l)=>{o&&(o=(o+"00").substr(1,3));let u=Date.UTC(e,n-1,r,i||0,s||0,a||0,o||0);if(l&&l!=="Z"){let c=vm(l[0],l.slice(1));Math.abs(c)<30&&(c*=60),u-=6e4*c}return new Date(u)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};function Nm(t){let e=typeof process!="undefined"&&process.env||{};return t?typeof YAML_SILENCE_DEPRECATION_WARNINGS!="undefined"?!YAML_SILENCE_DEPRECATION_WARNINGS:!e.YAML_SILENCE_DEPRECATION_WARNINGS:typeof YAML_SILENCE_WARNINGS!="undefined"?!YAML_SILENCE_WARNINGS:!e.YAML_SILENCE_WARNINGS}function Cm(t,e){if(Nm(!1)){let n=typeof process!="undefined"&&process.emitWarning;n?n(t,e):console.warn(e?`${e}: ${t}`:t)}}function zw(t){if(Nm(!0)){let e=t.replace(/.*yaml[/\\]/i,"").replace(/\.js$/,"").replace(/\\/g,"/");Cm(`The endpoint 'yaml/${e}' will be removed in a future release.`,"DeprecationWarning")}}var sv={};function Xw(t,e){if(!sv[t]&&Nm(!0)){sv[t]=!0;let n=`The option '${t}' will be removed in a future release`;n+=e?`, use '${e}' instead.`:".",Cm(n,"DeprecationWarning")}}ii.binary=Bw;ii.floatTime=$w;ii.intTime=Hw;ii.omap=Uw;ii.pairs=qw;ii.set=Yw;ii.timestamp=Kw;ii.warn=Cm;ii.warnFileDeprecation=zw;ii.warnOptionDeprecation=Xw});var sf=X(yv=>{"use strict";var Zc=ms(),we=bo(),Rn=Jc();function Qw(t,e,n){let r=new we.YAMLMap(t);if(e instanceof Map)for(let[i,s]of e)r.items.push(t.createPair(i,s,n));else if(e&&typeof e=="object")for(let i of Object.keys(e))r.items.push(t.createPair(i,e[i],n));return typeof t.sortMapEntries=="function"&&r.items.sort(t.sortMapEntries),r}var El={createNode:Qw,default:!0,nodeClass:we.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:we.resolveMap};function Jw(t,e,n){let r=new we.YAMLSeq(t);if(e&&e[Symbol.iterator])for(let i of e){let s=t.createNode(i,n.wrapScalars,null,n);r.items.push(s)}return r}var ef={createNode:Jw,default:!0,nodeClass:we.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:we.resolveSeq},Zw={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:we.resolveString,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),we.stringifyString(t,e,n,r)},options:we.strOptions},Pm=[El,ef,Zw],tf=t=>typeof t=="bigint"||Number.isInteger(t),Dm=(t,e,n)=>we.intOptions.asBigInt?BigInt(t):parseInt(e,n);function av(t,e,n){let{value:r}=t;return tf(r)&&r>=0?n+r.toString(e):we.stringifyNumber(t)}var ov={identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new we.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:we.nullOptions,stringify:()=>we.nullOptions.nullStr},lv={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>t[0]==="t"||t[0]==="T",options:we.boolOptions,stringify:({value:t})=>t?we.boolOptions.trueStr:we.boolOptions.falseStr},uv={identify:t=>tf(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:(t,e)=>Dm(t,e,8),options:we.intOptions,stringify:t=>av(t,8,"0o")},cv={identify:tf,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:t=>Dm(t,t,10),options:we.intOptions,stringify:we.stringifyNumber},fv={identify:t=>tf(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:(t,e)=>Dm(t,e,16),options:we.intOptions,stringify:t=>av(t,16,"0x")},pv={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:we.stringifyNumber},dv={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify:({value:t})=>Number(t).toExponential()},mv={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve(t,e,n){let r=e||n,i=new we.Scalar(parseFloat(t));return r&&r[r.length-1]==="0"&&(i.minFractionDigits=r.length),i},stringify:we.stringifyNumber},eO=Pm.concat([ov,lv,uv,cv,fv,pv,dv,mv]),hv=t=>typeof t=="bigint"||Number.isInteger(t),nf=({value:t})=>JSON.stringify(t),gv=[El,ef,{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:we.resolveString,stringify:nf},{identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new we.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:nf},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:nf},{identify:hv,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:t=>we.intOptions.asBigInt?BigInt(t):parseInt(t,10),stringify:({value:t})=>hv(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:nf}];gv.scalarFallback=t=>{throw new SyntaxError(`Unresolved plain scalar ${JSON.stringify(t)}`)};var _v=({value:t})=>t?we.boolOptions.trueStr:we.boolOptions.falseStr,xl=t=>typeof t=="bigint"||Number.isInteger(t);function rf(t,e,n){let r=e.replace(/_/g,"");if(we.intOptions.asBigInt){switch(n){case 2:r=`0b${r}`;break;case 8:r=`0o${r}`;break;case 16:r=`0x${r}`;break}let s=BigInt(r);return t==="-"?BigInt(-1)*s:s}let i=parseInt(r,n);return t==="-"?-1*i:i}function Sm(t,e,n){let{value:r}=t;if(xl(r)){let i=r.toString(e);return r<0?"-"+n+i.substr(1):n+i}return we.stringifyNumber(t)}var tO=Pm.concat([{identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new we.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:we.nullOptions,stringify:()=>we.nullOptions.nullStr},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>!0,options:we.boolOptions,stringify:_v},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>!1,options:we.boolOptions,stringify:_v},{identify:xl,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:(t,e,n)=>rf(e,n,2),stringify:t=>Sm(t,2,"0b")},{identify:xl,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:(t,e,n)=>rf(e,n,8),stringify:t=>Sm(t,8,"0")},{identify:xl,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:(t,e,n)=>rf(e,n,10),stringify:we.stringifyNumber},{identify:xl,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:(t,e,n)=>rf(e,n,16),stringify:t=>Sm(t,16,"0x")},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:we.stringifyNumber},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify:({value:t})=>Number(t).toExponential()},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve(t,e){let n=new we.Scalar(parseFloat(t.replace(/_/g,"")));if(e){let r=e.replace(/_/g,"");r[r.length-1]==="0"&&(n.minFractionDigits=r.length)}return n},stringify:we.stringifyNumber}],Rn.binary,Rn.omap,Rn.pairs,Rn.set,Rn.intTime,Rn.floatTime,Rn.timestamp),nO={core:eO,failsafe:Pm,json:gv,yaml11:tO},rO={binary:Rn.binary,bool:lv,float:mv,floatExp:dv,floatNaN:pv,floatTime:Rn.floatTime,int:cv,intHex:fv,intOct:uv,intTime:Rn.intTime,map:El,null:ov,omap:Rn.omap,pairs:Rn.pairs,seq:ef,set:Rn.set,timestamp:Rn.timestamp};function iO(t,e,n){if(e){let r=n.filter(s=>s.tag===e),i=r.find(s=>!s.format)||r[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return n.find(r=>(r.identify&&r.identify(t)||r.class&&t instanceof r.class)&&!r.format)}function sO(t,e,n){if(t instanceof we.Node)return t;let{defaultPrefix:r,onTagObj:i,prevObjects:s,schema:a,wrapScalars:o}=n;e&&e.startsWith("!!")&&(e=r+e.slice(2));let l=iO(t,e,a.tags);if(!l){if(typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object")return o?new we.Scalar(t):t;l=t instanceof Map?El:t[Symbol.iterator]?ef:El}i&&(i(l),delete n.onTagObj);let u={value:void 0,node:void 0};if(t&&typeof t=="object"&&s){let c=s.get(t);if(c){let f=new we.Alias(c);return n.aliasNodes.push(f),f}u.value=t,s.set(t,u)}return u.node=l.createNode?l.createNode(n.schema,t,n):o?new we.Scalar(t):t,e&&u.node instanceof we.Node&&(u.node.tag=e),u.node}function aO(t,e,n,r){let i=t[r.replace(/\W/g,"")];if(!i){let s=Object.keys(t).map(a=>JSON.stringify(a)).join(", ");throw new Error(`Unknown schema "${r}"; use one of ${s}`)}if(Array.isArray(n))for(let s of n)i=i.concat(s);else typeof n=="function"&&(i=n(i.slice()));for(let s=0;s<i.length;++s){let a=i[s];if(typeof a=="string"){let o=e[a];if(!o){let l=Object.keys(e).map(u=>JSON.stringify(u)).join(", ");throw new Error(`Unknown custom tag "${a}"; use one of ${l}`)}i[s]=o}}return i}var oO=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,To=class{constructor({customTags:e,merge:n,schema:r,sortMapEntries:i,tags:s}){this.merge=!!n,this.name=r,this.sortMapEntries=i===!0?oO:i||null,!e&&s&&Rn.warnOptionDeprecation("tags","customTags"),this.tags=aO(nO,rO,e||s,r)}createNode(e,n,r,i){let s={defaultPrefix:To.defaultPrefix,schema:this,wrapScalars:n},a=i?Object.assign(i,s):s;return sO(e,r,a)}createPair(e,n,r){r||(r={wrapScalars:!0});let i=this.createNode(e,r.wrapScalars,null,r),s=this.createNode(n,r.wrapScalars,null,r);return new we.Pair(i,s)}};Zc._defineProperty(To,"defaultPrefix",Zc.defaultTagPrefix);Zc._defineProperty(To,"defaultTags",Zc.defaultTags);yv.Schema=To});var Nv=X(uf=>{"use strict";var wn=ms(),Le=bo(),bv=sf(),lO={anchorPrefix:"a",customTags:null,indent:2,indentSeq:!0,keepCstNodes:!1,keepNodeTypes:!0,keepBlobsInJSON:!0,mapAsMap:!1,maxAliasCount:100,prettyErrors:!1,simpleKeys:!1,version:"1.2"},uO={get binary(){return Le.binaryOptions},set binary(t){Object.assign(Le.binaryOptions,t)},get bool(){return Le.boolOptions},set bool(t){Object.assign(Le.boolOptions,t)},get int(){return Le.intOptions},set int(t){Object.assign(Le.intOptions,t)},get null(){return Le.nullOptions},set null(t){Object.assign(Le.nullOptions,t)},get str(){return Le.strOptions},set str(t){Object.assign(Le.strOptions,t)}},Tv={"1.0":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:wn.defaultTagPrefix},{handle:"!!",prefix:"tag:private.yaml.org,2002:"}]},1.1:{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:wn.defaultTagPrefix}]},1.2:{schema:"core",merge:!1,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:wn.defaultTagPrefix}]}};function vv(t,e){if((t.version||t.options.version)==="1.0"){let i=e.match(/^tag:private\.yaml\.org,2002:([^:/]+)$/);if(i)return"!"+i[1];let s=e.match(/^tag:([a-zA-Z0-9-]+)\.yaml\.org,2002:(.*)/);return s?`!${s[1]}/${s[2]}`:`!${e.replace(/^tag:/,"")}`}let n=t.tagPrefixes.find(i=>e.indexOf(i.prefix)===0);if(!n){let i=t.getDefaults().tagPrefixes;n=i&&i.find(s=>e.indexOf(s.prefix)===0)}if(!n)return e[0]==="!"?e:`!<${e}>`;let r=e.substr(n.prefix.length).replace(/[!,[\]{}]/g,i=>({"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"})[i]);return n.handle+r}function cO(t,e){if(e instanceof Le.Alias)return Le.Alias;if(e.tag){let i=t.filter(s=>s.tag===e.tag);if(i.length>0)return i.find(s=>s.format===e.format)||i[0]}let n,r;if(e instanceof Le.Scalar){r=e.value;let i=t.filter(s=>s.identify&&s.identify(r)||s.class&&r instanceof s.class);n=i.find(s=>s.format===e.format)||i.find(s=>!s.format)}else r=e,n=t.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){let i=r&&r.constructor?r.constructor.name:typeof r;throw new Error(`Tag not resolved for ${i} value`)}return n}function fO(t,e,{anchors:n,doc:r}){let i=[],s=r.anchors.getName(t);return s&&(n[s]=t,i.push(`&${s}`)),t.tag?i.push(vv(r,t.tag)):e.default||i.push(vv(r,e.tag)),i.join(" ")}function af(t,e,n,r){let{anchors:i,schema:s}=e.doc,a;if(!(t instanceof Le.Node)){let u={aliasNodes:[],onTagObj:c=>a=c,prevObjects:new Map};t=s.createNode(t,!0,null,u);for(let c of u.aliasNodes){c.source=c.source.node;let f=i.getName(c.source);f||(f=i.newName(),i.map[f]=c.source)}}if(t instanceof Le.Pair)return t.toString(e,n,r);a||(a=cO(s.tags,t));let o=fO(t,a,e);o.length>0&&(e.indentAtStart=(e.indentAtStart||0)+o.length+1);let l=typeof a.stringify=="function"?a.stringify(t,e,n,r):t instanceof Le.Scalar?Le.stringifyString(t,e,n,r):t.toString(e,n,r);return o?t instanceof Le.Scalar||l[0]==="{"||l[0]==="["?`${o} ${l}`:`${o}
${e.indent}${l}`:l}var of=class{static validAnchorNode(e){return e instanceof Le.Scalar||e instanceof Le.YAMLSeq||e instanceof Le.YAMLMap}constructor(e){wn._defineProperty(this,"map",Object.create(null)),this.prefix=e}createAlias(e,n){return this.setAnchor(e,n),new Le.Alias(e)}createMergePair(...e){let n=new Le.Merge;return n.value.items=e.map(r=>{if(r instanceof Le.Alias){if(r.source instanceof Le.YAMLMap)return r}else if(r instanceof Le.YAMLMap)return this.createAlias(r);throw new Error("Merge sources must be Map nodes or their Aliases")}),n}getName(e){let{map:n}=this;return Object.keys(n).find(r=>n[r]===e)}getNames(){return Object.keys(this.map)}getNode(e){return this.map[e]}newName(e){e||(e=this.prefix);let n=Object.keys(this.map);for(let r=1;;++r){let i=`${e}${r}`;if(!n.includes(i))return i}}resolveNodes(){let{map:e,_cstAliases:n}=this;Object.keys(e).forEach(r=>{e[r]=e[r].resolved}),n.forEach(r=>{r.source=r.source.resolved}),delete this._cstAliases}setAnchor(e,n){if(e!=null&&!of.validAnchorNode(e))throw new Error("Anchors may only be set for Scalar, Seq and Map nodes");if(n&&/[\x00-\x19\s,[\]{}]/.test(n))throw new Error("Anchor names must not contain whitespace or control characters");let{map:r}=this,i=e&&Object.keys(r).find(s=>r[s]===e);if(i)if(n)i!==n&&(delete r[i],r[n]=e);else return i;else{if(!n){if(!e)return null;n=this.newName()}r[n]=e}return n}},lf=(t,e)=>{if(t&&typeof t=="object"){let{tag:n}=t;t instanceof Le.Collection?(n&&(e[n]=!0),t.items.forEach(r=>lf(r,e))):t instanceof Le.Pair?(lf(t.key,e),lf(t.value,e)):t instanceof Le.Scalar&&n&&(e[n]=!0)}return e},pO=t=>Object.keys(lf(t,{}));function dO(t,e){let n={before:[],after:[]},r,i=!1;for(let s of e)if(s.valueRange){if(r!==void 0){let o="Document contains trailing content not separated by a ... or --- line";t.errors.push(new wn.YAMLSyntaxError(s,o));break}let a=Le.resolveNode(t,s);i&&(a.spaceBefore=!0,i=!1),r=a}else s.comment!==null?(r===void 0?n.before:n.after).push(s.comment):s.type===wn.Type.BLANK_LINE&&(i=!0,r===void 0&&n.before.length>0&&!t.commentBefore&&(t.commentBefore=n.before.join(`
`),n.before=[]));if(t.contents=r||null,!r)t.comment=n.before.concat(n.after).join(`
`)||null;else{let s=n.before.join(`
`);if(s){let a=r instanceof Le.Collection&&r.items[0]?r.items[0]:r;a.commentBefore=a.commentBefore?`${s}
${a.commentBefore}`:s}t.comment=n.after.join(`
`)||null}}function mO({tagPrefixes:t},e){let[n,r]=e.parameters;if(!n||!r){let i="Insufficient parameters given for %TAG directive";throw new wn.YAMLSemanticError(e,i)}if(t.some(i=>i.handle===n)){let i="The %TAG directive must only be given at most once per handle in the same document.";throw new wn.YAMLSemanticError(e,i)}return{handle:n,prefix:r}}function hO(t,e){let[n]=e.parameters;if(e.name==="YAML:1.0"&&(n="1.0"),!n){let r="Insufficient parameters given for %YAML directive";throw new wn.YAMLSemanticError(e,r)}if(!Tv[n]){let i=`Document will be parsed as YAML ${t.version||t.options.version} rather than YAML ${n}`;t.warnings.push(new wn.YAMLWarning(e,i))}return n}function gO(t,e,n){let r=[],i=!1;for(let s of e){let{comment:a,name:o}=s;switch(o){case"TAG":try{t.tagPrefixes.push(mO(t,s))}catch(l){t.errors.push(l)}i=!0;break;case"YAML":case"YAML:1.0":if(t.version){let l="The %YAML directive must only be given at most once per document.";t.errors.push(new wn.YAMLSemanticError(s,l))}try{t.version=hO(t,s)}catch(l){t.errors.push(l)}i=!0;break;default:if(o){let l=`YAML only supports %TAG and %YAML directives, and not %${o}`;t.warnings.push(new wn.YAMLWarning(s,l))}}a&&r.push(a)}if(n&&!i&&(t.version||n.version||t.options.version)==="1.1"){let s=({handle:a,prefix:o})=>({handle:a,prefix:o});t.tagPrefixes=n.tagPrefixes.map(s),t.version=n.version}t.commentBefore=r.join(`
`)||null}function vo(t){if(t instanceof Le.Collection)return!0;throw new Error("Expected a YAML collection as document contents")}var No=class{constructor(e){this.anchors=new of(e.anchorPrefix),this.commentBefore=null,this.comment=null,this.contents=null,this.directivesEndMarker=null,this.errors=[],this.options=e,this.schema=null,this.tagPrefixes=[],this.version=null,this.warnings=[]}add(e){return vo(this.contents),this.contents.add(e)}addIn(e,n){vo(this.contents),this.contents.addIn(e,n)}delete(e){return vo(this.contents),this.contents.delete(e)}deleteIn(e){return Le.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):(vo(this.contents),this.contents.deleteIn(e))}getDefaults(){return No.defaults[this.version]||No.defaults[this.options.version]||{}}get(e,n){return this.contents instanceof Le.Collection?this.contents.get(e,n):void 0}getIn(e,n){return Le.isEmptyPath(e)?!n&&this.contents instanceof Le.Scalar?this.contents.value:this.contents:this.contents instanceof Le.Collection?this.contents.getIn(e,n):void 0}has(e){return this.contents instanceof Le.Collection?this.contents.has(e):!1}hasIn(e){return Le.isEmptyPath(e)?this.contents!==void 0:this.contents instanceof Le.Collection?this.contents.hasIn(e):!1}set(e,n){vo(this.contents),this.contents.set(e,n)}setIn(e,n){Le.isEmptyPath(e)?this.contents=n:(vo(this.contents),this.contents.setIn(e,n))}setSchema(e,n){if(!e&&!n&&this.schema)return;typeof e=="number"&&(e=e.toFixed(1)),e==="1.0"||e==="1.1"||e==="1.2"?(this.version?this.version=e:this.options.version=e,delete this.options.schema):e&&typeof e=="string"&&(this.options.schema=e),Array.isArray(n)&&(this.options.customTags=n);let r=Object.assign({},this.getDefaults(),this.options);this.schema=new bv.Schema(r)}parse(e,n){this.options.keepCstNodes&&(this.cstNode=e),this.options.keepNodeTypes&&(this.type="DOCUMENT");let{directives:r=[],contents:i=[],directivesEndMarker:s,error:a,valueRange:o}=e;if(a&&(a.source||(a.source=this),this.errors.push(a)),gO(this,r,n),s&&(this.directivesEndMarker=!0),this.range=o?[o.start,o.end]:null,this.setSchema(),this.anchors._cstAliases=[],dO(this,i),this.anchors.resolveNodes(),this.options.prettyErrors){for(let l of this.errors)l instanceof wn.YAMLError&&l.makePretty();for(let l of this.warnings)l instanceof wn.YAMLError&&l.makePretty()}return this}listNonDefaultTags(){return pO(this.contents).filter(e=>e.indexOf(bv.Schema.defaultPrefix)!==0)}setTagPrefix(e,n){if(e[0]!=="!"||e[e.length-1]!=="!")throw new Error("Handle must start and end with !");if(n){let r=this.tagPrefixes.find(i=>i.handle===e);r?r.prefix=n:this.tagPrefixes.push({handle:e,prefix:n})}else this.tagPrefixes=this.tagPrefixes.filter(r=>r.handle!==e)}toJSON(e,n){let{keepBlobsInJSON:r,mapAsMap:i,maxAliasCount:s}=this.options,a=r&&(typeof e!="string"||!(this.contents instanceof Le.Scalar)),o={doc:this,indentStep:"  ",keep:a,mapAsMap:a&&!!i,maxAliasCount:s,stringify:af},l=Object.keys(this.anchors.map);l.length>0&&(o.anchors=new Map(l.map(c=>[this.anchors.map[c],{alias:[],aliasCount:0,count:1}])));let u=Le.toJSON(this.contents,e,o);if(typeof n=="function"&&o.anchors)for(let{count:c,res:f}of o.anchors.values())n(f,c);return u}toString(){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");let e=this.options.indent;if(!Number.isInteger(e)||e<=0){let l=JSON.stringify(e);throw new Error(`"indent" option must be a positive integer, not ${l}`)}this.setSchema();let n=[],r=!1;if(this.version){let l="%YAML 1.2";this.schema.name==="yaml-1.1"&&(this.version==="1.0"?l="%YAML:1.0":this.version==="1.1"&&(l="%YAML 1.1")),n.push(l),r=!0}let i=this.listNonDefaultTags();this.tagPrefixes.forEach(({handle:l,prefix:u})=>{i.some(c=>c.indexOf(u)===0)&&(n.push(`%TAG ${l} ${u}`),r=!0)}),(r||this.directivesEndMarker)&&n.push("---"),this.commentBefore&&((r||!this.directivesEndMarker)&&n.unshift(""),n.unshift(this.commentBefore.replace(/^/gm,"#")));let s={anchors:Object.create(null),doc:this,indent:"",indentStep:" ".repeat(e),stringify:af},a=!1,o=null;if(this.contents){this.contents instanceof Le.Node&&(this.contents.spaceBefore&&(r||this.directivesEndMarker)&&n.push(""),this.contents.commentBefore&&n.push(this.contents.commentBefore.replace(/^/gm,"#")),s.forceBlockIndent=!!this.comment,o=this.contents.comment);let l=o?null:()=>a=!0,u=af(this.contents,s,()=>o=null,l);n.push(Le.addComment(u,"",o))}else this.contents!==void 0&&n.push(af(this.contents,s));return this.comment&&((!a||o)&&n[n.length-1]!==""&&n.push(""),n.push(this.comment.replace(/^/gm,"#"))),n.join(`
`)+`
`}};wn._defineProperty(No,"defaults",Tv);uf.Document=No;uf.defaultOptions=lO;uf.scalarOptions=uO});var Dv=X(Pv=>{"use strict";var Am=G0(),ea=Nv(),_O=sf(),yO=ms(),bO=Jc();bo();function TO(t,e=!0,n){n===void 0&&typeof e=="string"&&(n=e,e=!0);let r=Object.assign({},ea.Document.defaults[ea.defaultOptions.version],ea.defaultOptions);return new _O.Schema(r).createNode(t,e,n)}var Rl=class extends ea.Document{constructor(e){super(Object.assign({},ea.defaultOptions,e))}};function vO(t,e){let n=[],r;for(let i of Am.parse(t)){let s=new Rl(e);s.parse(i,r),n.push(s),r=s}return n}function Cv(t,e){let n=Am.parse(t),r=new Rl(e).parse(n[0]);if(n.length>1){let i="Source contains multiple documents; please use YAML.parseAllDocuments()";r.errors.unshift(new yO.YAMLSemanticError(n[1],i))}return r}function NO(t,e){let n=Cv(t,e);if(n.warnings.forEach(r=>bO.warn(r)),n.errors.length>0)throw n.errors[0];return n.toJSON()}function CO(t,e){let n=new Rl(e);return n.contents=t,String(n)}var PO={createNode:TO,defaultOptions:ea.defaultOptions,Document:Rl,parse:NO,parseAllDocuments:vO,parseCST:Am.parse,parseDocument:Cv,scalarOptions:ea.scalarOptions,stringify:CO};Pv.YAML=PO});var Im=X((yJ,Sv)=>{Sv.exports=Dv().YAML});var Av=X(On=>{"use strict";var sr=bo(),DO=sf();ms();Jc();On.Alias=sr.Alias;On.Collection=sr.Collection;On.Merge=sr.Merge;On.Node=sr.Node;On.Pair=sr.Pair;On.Scalar=sr.Scalar;On.YAMLMap=sr.YAMLMap;On.YAMLSeq=sr.YAMLSeq;On.binaryOptions=sr.binaryOptions;On.boolOptions=sr.boolOptions;On.intOptions=sr.intOptions;On.nullOptions=sr.nullOptions;On.strOptions=sr.strOptions;On.Schema=DO.Schema});var _f=X((QZ,vN)=>{"use strict";function rn(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}rn.prototype.clone_empty=function(){var t=new rn(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t};rn.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]};rn.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1};rn.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))};rn.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)};rn.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count};rn.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,t.__items[0]===" "&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1};rn.prototype.is_empty=function(){return this.__items.length===0};rn.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]};rn.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf(`
`);e!==-1?this.__character_count=t.length-e:this.__character_count+=t.length};rn.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t};rn.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)};rn.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)};rn.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1};rn.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t};function jl(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}jl.prototype.get_indent_size=function(t,e){var n=this.__base_string_length;return e=e||0,t<0&&(n=0),n+=t*this.__indent_size,n+=e,n};jl.prototype.get_indent_string=function(t,e){var n=this.__base_string;return e=e||0,t<0&&(t=0,n=""),e+=t*this.__indent_size,this.__ensure_cache(e),n+=this.__cache[e],n};jl.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column()};jl.prototype.__add_column=function(){var t=this.__cache.length,e=0,n="";this.__indent_size&&t>=this.__indent_size&&(e=Math.floor(t/this.__indent_size),t-=e*this.__indent_size,n=new Array(e+1).join(this.__indent_string)),t&&(n+=new Array(t+1).join(" ")),this.__cache.push(n)};function sn(t,e){this.__indent_cache=new jl(t,e),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new rn(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}sn.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)};sn.prototype.get_line_number=function(){return this.__lines.length};sn.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)};sn.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)};sn.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()};sn.prototype.add_new_line=function(t){return this.is_empty()||!t&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)};sn.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&(e[e.length-1]===`
`&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join(`
`);return t!==`
`&&(n=n.replace(/[\n]/g,t)),n};sn.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()};sn.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)};sn.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1};sn.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()};sn.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))};sn.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()};sn.prototype.trim=function(t){for(t=t===void 0?!1:t,this.current_line.trim();t&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null};sn.prototype.just_added_newline=function(){return this.current_line.is_empty()};sn.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()};sn.prototype.ensure_empty_line_above=function(t,e){for(var n=this.__lines.length-2;n>=0;){var r=this.__lines[n];if(r.is_empty())break;if(r.item(0).indexOf(t)!==0&&r.item(-1)!==e){this.__lines.splice(n+1,0,new rn(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}};vN.exports.Output=sn});var zm=X((JZ,NN)=>{"use strict";function XL(t,e,n,r){this.type=t,this.text=e,this.comments_before=null,this.newlines=n||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}NN.exports.Token=XL});var Qm=X(Wi=>{"use strict";var QL="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",CN="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",Xm="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",PN="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",DN="(?:\\\\u[0-9a-fA-F]{4}|["+QL+Xm+"])",JL="(?:\\\\u[0-9a-fA-F]{4}|["+CN+Xm+PN+"])*";Wi.identifier=new RegExp(DN+JL,"g");Wi.identifierStart=new RegExp(DN);Wi.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+CN+Xm+PN+"])+");Wi.newline=/[\n\r\u2028\u2029]/;Wi.lineBreak=new RegExp(`\r
|`+Wi.newline.source);Wi.allLineBreaks=new RegExp(Wi.lineBreak.source,"g")});var bf=X((eee,yf)=>{"use strict";function vs(t,e){this.raw_options=SN(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}vs.prototype._get_array=function(t,e){var n=this.raw_options[t],r=e||[];return typeof n=="object"?n!==null&&typeof n.concat=="function"&&(r=n.concat()):typeof n=="string"&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r};vs.prototype._get_boolean=function(t,e){var n=this.raw_options[t],r=n===void 0?!!e:!!n;return r};vs.prototype._get_characters=function(t,e){var n=this.raw_options[t],r=e||"";return typeof n=="string"&&(r=n.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),r};vs.prototype._get_number=function(t,e){var n=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var r=parseInt(n,10);return isNaN(r)&&(r=e),r};vs.prototype._get_selection=function(t,e,n){var r=this._get_selection_list(t,e,n);if(r.length!==1)throw new Error("Invalid Option Value: The option '"+t+`' can only be one of the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return r[0]};vs.prototype._get_selection_list=function(t,e,n){if(!e||e.length===0)throw new Error("Selection list cannot be empty.");if(n=n||[e[0]],!this._is_valid_selection(n,e))throw new Error("Invalid Default Value!");var r=this._get_array(t,n);if(!this._is_valid_selection(r,e))throw new Error("Invalid Option Value: The option '"+t+`' can contain only the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return r};vs.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some(function(n){return e.indexOf(n)===-1})};function SN(t,e){var n={};t=AN(t);var r;for(r in t)r!==e&&(n[r]=t[r]);if(e&&t[e])for(r in t[e])n[r]=t[e][r];return n}function AN(t){var e={},n;for(n in t){var r=n.replace(/-/g,"_");e[r]=t[n]}return e}yf.exports.Options=vs;yf.exports.normalizeOpts=AN;yf.exports.mergeOpts=SN});var Jm=X((tee,xN)=>{"use strict";var IN=bf().Options,ZL=["before-newline","after-newline","preserve-newline"];function EN(t){IN.call(this,t,"js");var e=this.raw_options.brace_style||null;e==="expand-strict"?this.raw_options.brace_style="expand":e==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var r=0;r<n.length;r++)n[r]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=n[r];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",ZL),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}EN.prototype=new IN;xN.exports.Options=EN});var Tf=X((nee,wN)=>{"use strict";var RN=RegExp.prototype.hasOwnProperty("sticky");function pn(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}pn.prototype.restart=function(){this.__position=0};pn.prototype.back=function(){this.__position>0&&(this.__position-=1)};pn.prototype.hasNext=function(){return this.__position<this.__input_length};pn.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t};pn.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e};pn.prototype.__match=function(t,e){t.lastIndex=e;var n=t.exec(this.__input);return n&&!(RN&&t.sticky)&&n.index!==e&&(n=null),n};pn.prototype.test=function(t,e){return e=e||0,e+=this.__position,e>=0&&e<this.__input_length?!!this.__match(t,e):!1};pn.prototype.testChar=function(t,e){var n=this.peek(e);return t.lastIndex=0,n!==null&&t.test(n)};pn.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e};pn.prototype.read=function(t,e,n){var r="",i;return t&&(i=this.match(t),i&&(r+=i[0])),e&&(i||!t)&&(r+=this.readUntil(e,n)),r};pn.prototype.readUntil=function(t,e){var n="",r=this.__position;t.lastIndex=this.__position;var i=t.exec(this.__input);return i?(r=i.index,e&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n};pn.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)};pn.prototype.get_regexp=function(t,e){var n=null,r="g";return e&&RN&&(r="y"),typeof t=="string"&&t!==""?n=new RegExp(t,r):t&&(n=new RegExp(t.source,r)),n};pn.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))};pn.prototype.peekUntilAfter=function(t){var e=this.__position,n=this.readUntilAfter(t);return this.__position=e,n};pn.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t};wN.exports.InputScanner=pn});var LN=X((ree,ON)=>{"use strict";function ia(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}ia.prototype.restart=function(){this.__position=0};ia.prototype.isEmpty=function(){return this.__tokens_length===0};ia.prototype.hasNext=function(){return this.__position<this.__tokens_length};ia.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t};ia.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__tokens_length&&(e=this.__tokens[t]),e};ia.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1};ON.exports.TokenStream=ia});var Ul=X((iee,FN)=>{"use strict";function Ni(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after)}Ni.prototype.read=function(){var t=this._input.read(this._starting_pattern);return(!this._starting_pattern||t)&&(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t};Ni.prototype.read_match=function(){return this._input.match(this._match_pattern)};Ni.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e};Ni.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e};Ni.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e};Ni.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e};Ni.prototype._create=function(){return new Ni(this._input,this)};Ni.prototype._update=function(){};FN.exports.Pattern=Ni});var BN=X((see,MN)=>{"use strict";var kN=Ul().Pattern;function Ns(t,e){kN.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}Ns.prototype=new kN;Ns.prototype.__set_whitespace_patterns=function(t,e){t+="\\t ",e+="\\n\\r",this._match_pattern=this._input.get_regexp("["+t+e+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]")};Ns.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(t===" ")this.whitespace_before_token=" ";else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1,this.whitespace_before_token=e[this.newline_count]}return t};Ns.prototype.matching=function(t,e){var n=this._create();return n.__set_whitespace_patterns(t,e),n._update(),n};Ns.prototype._create=function(){return new Ns(this._input,this)};Ns.prototype.__split=function(t,e){t.lastIndex=0;for(var n=0,r=[],i=t.exec(e);i;)r.push(e.substring(n,i.index)),n=i.index+i[0].length,i=t.exec(e);return n<e.length?r.push(e.substring(n,e.length)):r.push(""),r};MN.exports.WhitespacePattern=Ns});var Gl=X((aee,eh)=>{"use strict";var eF=Tf().InputScanner,qN=zm().Token,Zm=LN().TokenStream,tF=BN().WhitespacePattern,Wl={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},Ci=function(t,e){this._input=new eF(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new tF(this._input)};Ci.prototype.tokenize=function(){this._input.restart(),this.__tokens=new Zm,this._reset();for(var t,e=new qN(Wl.START,""),n=null,r=[],i=new Zm;e.type!==Wl.EOF;){for(t=this._get_next_token(e,n);this._is_comment(t);)i.add(t),t=this._get_next_token(e,n);i.isEmpty()||(t.comments_before=i,i=new Zm),t.parent=n,this._is_opening(t)?(r.push(n),n=t):n&&this._is_closing(t,n)&&(t.opened=n,n.closed=t,n=r.pop(),t.parent=n),t.previous=e,e.next=t,this.__tokens.add(t),e=t}return this.__tokens};Ci.prototype._is_first_token=function(){return this.__tokens.isEmpty()};Ci.prototype._reset=function(){};Ci.prototype._get_next_token=function(t,e){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(Wl.RAW,n):this._create_token(Wl.EOF,"")};Ci.prototype._is_comment=function(t){return!1};Ci.prototype._is_opening=function(t){return!1};Ci.prototype._is_closing=function(t,e){return!1};Ci.prototype._create_token=function(t,e){var n=new qN(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return n};Ci.prototype._readWhitespace=function(){return this._patterns.whitespace.read()};eh.exports.Tokenizer=Ci;eh.exports.TOKEN=Wl});var vf=X((oee,VN)=>{"use strict";function th(t,e){t=typeof t=="string"?t:t.source,e=typeof e=="string"?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}th.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(t);n;)e[n[1]]=n[2],n=this.__directive_pattern.exec(t);return e};th.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)};VN.exports.Directives=th});var ih=X((lee,jN)=>{"use strict";var nh=Ul().Pattern,rh={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function si(t,e){nh.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},rh),this._excluded=Object.assign({},rh),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var n=new nh(t);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/),smarty:n.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:n.starting_with(/{\*/).until_after(/\*}/),smarty_literal:n.starting_with(/{literal}/).until_after(/{\/literal}/)}}si.prototype=new nh;si.prototype._create=function(){return new si(this._input,this)};si.prototype._update=function(){this.__set_templated_pattern()};si.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e};si.prototype.read_options=function(t){var e=this._create();for(var n in rh)e._disabled[n]=t.templating.indexOf(n)===-1;return e._update(),e};si.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e};si.prototype.read=function(){var t="";this._match_pattern?t=this._input.read(this._starting_pattern):t=this._input.read(this._starting_pattern,this.__template_pattern);for(var e=this._read_template();e;)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t};si.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||t.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")};si.prototype._read_template=function(){var t="",e=this._input.peek();if(e==="<"){var n=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&n==="?"&&(t=t||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&n==="%"&&(t=t||this.__patterns.erb.read())}else e==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(t=t||this.__patterns.handlebars_comment.read(),t=t||this.__patterns.handlebars_unescaped.read(),t=t||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(t=t||this.__patterns.django_value.read()),this._excluded.django||(t=t||this.__patterns.django_comment.read(),t=t||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(t=t||this.__patterns.smarty_comment.read(),t=t||this.__patterns.smarty_literal.read(),t=t||this.__patterns.smarty.read()));return t};jN.exports.TemplatablePattern=si});var Hl=X((uee,Yl)=>{"use strict";var nF=Tf().InputScanner,UN=Gl().Tokenizer,sh=Gl().TOKEN,rF=vf().Directives,Dr=Qm(),iF=Ul().Pattern,sF=ih().TemplatablePattern;function ah(t,e){return e.indexOf(t)!==-1}var Ae={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:sh.START,RAW:sh.RAW,EOF:sh.EOF},WN=new rF(/\/\*/,/\*\//),aF=/0[xX][0123456789abcdefABCDEF]*|0[oO][01234567]*|0[bB][01]*|\d+n|(?:\.\d+|\d+\.?\d*)(?:[eE][+-]?\d+)?/,oF=/[0-9]/,lF=/[^\d\.]/,uF=">>> === !== << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),sa=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";sa=sa.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");sa="\\?\\.(?!\\d) "+sa;sa=sa.replace(/ /g,"|");var cF=new RegExp(sa),GN="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),fF=GN.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),pF=new RegExp("^(?:"+fF.join("|")+")$"),Nf,dn=function(t,e){UN.call(this,t,e),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var n=new iF(this._input),r=new sF(this._input).read_options(this._options);this.__patterns={template:r,identifier:r.starting_with(Dr.identifier).matching(Dr.identifierMatch),number:n.matching(aF),punct:n.matching(cF),comment:n.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:n.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:n.matching(/<!--/),html_comment_end:n.matching(/-->/),include:n.starting_with(/#include/).until_after(Dr.lineBreak),shebang:n.starting_with(/#!/).until_after(Dr.lineBreak),xml:n.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\]|)(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:r.until(/['\\\n\r\u2028\u2029]/),double_quote:r.until(/["\\\n\r\u2028\u2029]/),template_text:r.until(/[`\\$]/),template_expression:r.until(/[`}\\]/)}};dn.prototype=new UN;dn.prototype._is_comment=function(t){return t.type===Ae.COMMENT||t.type===Ae.BLOCK_COMMENT||t.type===Ae.UNKNOWN};dn.prototype._is_opening=function(t){return t.type===Ae.START_BLOCK||t.type===Ae.START_EXPR};dn.prototype._is_closing=function(t,e){return(t.type===Ae.END_BLOCK||t.type===Ae.END_EXPR)&&e&&(t.text==="]"&&e.text==="["||t.text===")"&&e.text==="("||t.text==="}"&&e.text==="{")};dn.prototype._reset=function(){Nf=!1};dn.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(Ae.EOF,""):(n=n||this._read_non_javascript(r),n=n||this._read_string(r),n=n||this._read_word(t),n=n||this._read_singles(r),n=n||this._read_comment(r),n=n||this._read_regexp(r,t),n=n||this._read_xml(r,t),n=n||this._read_punctuation(),n=n||this._create_token(Ae.UNKNOWN,this._input.next()),n)};dn.prototype._read_word=function(t){var e;if(e=this.__patterns.identifier.read(),e!=="")return e=e.replace(Dr.allLineBreaks,`
`),!(t.type===Ae.DOT||t.type===Ae.RESERVED&&(t.text==="set"||t.text==="get"))&&pF.test(e)?e==="in"||e==="of"?this._create_token(Ae.OPERATOR,e):this._create_token(Ae.RESERVED,e):this._create_token(Ae.WORD,e);if(e=this.__patterns.number.read(),e!=="")return this._create_token(Ae.WORD,e)};dn.prototype._read_singles=function(t){var e=null;return t==="("||t==="["?e=this._create_token(Ae.START_EXPR,t):t===")"||t==="]"?e=this._create_token(Ae.END_EXPR,t):t==="{"?e=this._create_token(Ae.START_BLOCK,t):t==="}"?e=this._create_token(Ae.END_BLOCK,t):t===";"?e=this._create_token(Ae.SEMICOLON,t):t==="."&&lF.test(this._input.peek(1))?e=this._create_token(Ae.DOT,t):t===","&&(e=this._create_token(Ae.COMMA,t)),e&&this._input.next(),e};dn.prototype._read_punctuation=function(){var t=this.__patterns.punct.read();if(t!=="")return t==="="?this._create_token(Ae.EQUALS,t):t==="?."?this._create_token(Ae.DOT,t):this._create_token(Ae.OPERATOR,t)};dn.prototype._read_non_javascript=function(t){var e="";if(t==="#"){if(this._is_first_token()&&(e=this.__patterns.shebang.read(),e))return this._create_token(Ae.UNKNOWN,e.trim()+`
`);if(e=this.__patterns.include.read(),e)return this._create_token(Ae.UNKNOWN,e.trim()+`
`);t=this._input.next();var n="#";if(this._input.hasNext()&&this._input.testChar(oF)){do t=this._input.next(),n+=t;while(this._input.hasNext()&&t!=="#"&&t!=="=");return t==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(n+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(n+="{}",this._input.next(),this._input.next())),this._create_token(Ae.WORD,n)}this._input.back()}else if(t==="<"&&this._is_first_token()){if(e=this.__patterns.html_comment_start.read(),e){for(;this._input.hasNext()&&!this._input.testChar(Dr.newline);)e+=this._input.next();return Nf=!0,this._create_token(Ae.COMMENT,e)}}else if(Nf&&t==="-"&&(e=this.__patterns.html_comment_end.read(),e))return Nf=!1,this._create_token(Ae.COMMENT,e);return null};dn.prototype._read_comment=function(t){var e=null;if(t==="/"){var n="";if(this._input.peek(1)==="*"){n=this.__patterns.block_comment.read();var r=WN.get_directives(n);r&&r.ignore==="start"&&(n+=WN.readIgnored(this._input)),n=n.replace(Dr.allLineBreaks,`
`),e=this._create_token(Ae.BLOCK_COMMENT,n),e.directives=r}else this._input.peek(1)==="/"&&(n=this.__patterns.comment.read(),e=this._create_token(Ae.COMMENT,n))}return e};dn.prototype._read_string=function(t){if(t==="`"||t==="'"||t==='"'){var e=this._input.next();return this.has_char_escapes=!1,t==="`"?e+=this._read_string_recursive("`",!0,"${"):e+=this._read_string_recursive(t),this.has_char_escapes&&this._options.unescape_strings&&(e=dF(e)),this._input.peek()===t&&(e+=this._input.next()),e=e.replace(Dr.allLineBreaks,`
`),this._create_token(Ae.STRING,e)}return null};dn.prototype._allow_regexp_or_xml=function(t){return t.type===Ae.RESERVED&&ah(t.text,["return","case","throw","else","do","typeof","yield"])||t.type===Ae.END_EXPR&&t.text===")"&&t.opened.previous.type===Ae.RESERVED&&ah(t.opened.previous.text,["if","while","for"])||ah(t.type,[Ae.COMMENT,Ae.START_EXPR,Ae.START_BLOCK,Ae.START,Ae.END_BLOCK,Ae.OPERATOR,Ae.EQUALS,Ae.EOF,Ae.SEMICOLON,Ae.COMMA])};dn.prototype._read_regexp=function(t,e){if(t==="/"&&this._allow_regexp_or_xml(e)){for(var n=this._input.next(),r=!1,i=!1;this._input.hasNext()&&(r||i||this._input.peek()!==t)&&!this._input.testChar(Dr.newline);)n+=this._input.peek(),r?r=!1:(r=this._input.peek()==="\\",this._input.peek()==="["?i=!0:this._input.peek()==="]"&&(i=!1)),this._input.next();return this._input.peek()===t&&(n+=this._input.next(),n+=this._input.read(Dr.identifier)),this._create_token(Ae.STRING,n)}return null};dn.prototype._read_xml=function(t,e){if(this._options.e4x&&t==="<"&&this._allow_regexp_or_xml(e)){var n="",r=this.__patterns.xml.read_match();if(r){for(var i=r[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),s=i.indexOf("{")===0,a=0;r;){var o=!!r[1],l=r[2],u=!!r[r.length-1]||l.slice(0,8)==="![CDATA[";if(!u&&(l===i||s&&l.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(o?--a:++a),n+=r[0],a<=0)break;r=this.__patterns.xml.read_match()}return r||(n+=this._input.match(/[\s\S]*/g)[0]),n=n.replace(Dr.allLineBreaks,`
`),this._create_token(Ae.STRING,n)}}return null};function dF(t){for(var e="",n=0,r=new nF(t),i=null;r.hasNext();)if(i=r.match(/([\s]|[^\\]|\\\\)+/g),i&&(e+=i[0]),r.peek()==="\\"){if(r.next(),r.peek()==="x")i=r.match(/x([0-9A-Fa-f]{2})/g);else if(r.peek()==="u")i=r.match(/u([0-9A-Fa-f]{4})/g);else{e+="\\",r.hasNext()&&(e+=r.next());continue}if(!i||(n=parseInt(i[1],16),n>126&&n<=255&&i[0].indexOf("x")===0))return t;if(n>=0&&n<32){e+="\\"+i[0];continue}else n===34||n===39||n===92?e+="\\"+String.fromCharCode(n):e+=String.fromCharCode(n)}return e}dn.prototype._read_string_recursive=function(t,e,n){var r,i;t==="'"?i=this.__patterns.single_quote:t==='"'?i=this.__patterns.double_quote:t==="`"?i=this.__patterns.template_text:t==="}"&&(i=this.__patterns.template_expression);for(var s=i.read(),a="";this._input.hasNext();){if(a=this._input.next(),a===t||!e&&Dr.newline.test(a)){this._input.back();break}else a==="\\"&&this._input.hasNext()?(r=this._input.peek(),r==="x"||r==="u"?this.has_char_escapes=!0:r==="\r"&&this._input.peek(1)===`
`&&this._input.next(),a+=this._input.next()):n&&(n==="${"&&a==="$"&&this._input.peek()==="{"&&(a+=this._input.next()),n===a&&(t==="`"?a+=this._read_string_recursive("}",e,"`"):a+=this._read_string_recursive("`",e,"${"),this._input.hasNext()&&(a+=this._input.next())));a+=i.read(),s+=a}return s};Yl.exports.Tokenizer=dn;Yl.exports.TOKEN=Ae;Yl.exports.positionable_operators=uF.slice();Yl.exports.line_starters=GN.slice()});var KN=X((cee,$N)=>{"use strict";var mF=_f().Output,hF=zm().Token,Cf=Qm(),gF=Jm().Options,_F=Hl().Tokenizer,$l=Hl().line_starters,Kl=Hl().positionable_operators,U=Hl().TOKEN;function Ye(t,e){return e.indexOf(t)!==-1}function yF(t){return t.replace(/^\s+/g,"")}function bF(t){for(var e={},n=0;n<t.length;n++)e[t[n].replace(/-/g,"_")]=t[n];return e}function Sr(t,e){return t&&t.type===U.RESERVED&&t.text===e}function mt(t,e){return t&&t.type===U.RESERVED&&Ye(t.text,e)}var Pf=["case","return","do","if","throw","else","await","break","continue","async"],TF=["before-newline","after-newline","preserve-newline"],zl=bF(TF),YN=[zl.before_newline,zl.preserve_newline],Ie={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function HN(t,e){e.multiline_frame||e.mode===Ie.ForInitializer||e.mode===Ie.Conditional||t.remove_indent(e.start_line_index)}function vF(t){t=t.replace(Cf.allLineBreaks,`
`);for(var e=[],n=t.indexOf(`
`);n!==-1;)e.push(t.substring(0,n)),t=t.substring(n+1),n=t.indexOf(`
`);return t.length&&e.push(t),e}function Cs(t){return t===Ie.ArrayLiteral}function Xl(t){return Ye(t,[Ie.Expression,Ie.ForInitializer,Ie.Conditional])}function NF(t,e){for(var n=0;n<t.length;n++){var r=t[n].trim();if(r.charAt(0)!==e)return!1}return!0}function CF(t,e){for(var n=0,r=t.length,i;n<r;n++)if(i=t[n],i&&i.indexOf(e)!==0)return!1;return!0}function Qe(t,e){e=e||{},this._source_text=t||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new gF(e)}Qe.prototype.create_flags=function(t,e){var n=0;t&&(n=t.indentation_level,!this._output.just_added_newline()&&t.line_indent_level>n&&(n=t.line_indent_level));var r={mode:e,parent:t,last_token:t?t.last_token:new hF(U.START_BLOCK,""),last_word:t?t.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,alignment:0,line_indent_level:t?t.line_indent_level:n,start_line_index:this._output.get_line_number(),ternary_depth:0};return r};Qe.prototype._reset=function(t){var e=t.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new mF(this._options,e),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(Ie.BlockStatement);var n=new _F(t,this._options);return this._tokens=n.tokenize(),t};Qe.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t,e=this._reset(this._source_text),n=this._options.eol;this._options.eol==="auto"&&(n=`
`,e&&Cf.lineBreak.test(e||"")&&(n=e.match(Cf.lineBreak)[0]));for(var r=this._tokens.next();r;)this.handle_token(r),this._last_last_text=this._flags.last_token.text,this._flags.last_token=r,r=this._tokens.next();return t=this._output.get_code(n),t};Qe.prototype.handle_token=function(t,e){t.type===U.START_EXPR?this.handle_start_expr(t):t.type===U.END_EXPR?this.handle_end_expr(t):t.type===U.START_BLOCK?this.handle_start_block(t):t.type===U.END_BLOCK?this.handle_end_block(t):t.type===U.WORD?this.handle_word(t):t.type===U.RESERVED?this.handle_word(t):t.type===U.SEMICOLON?this.handle_semicolon(t):t.type===U.STRING?this.handle_string(t):t.type===U.EQUALS?this.handle_equals(t):t.type===U.OPERATOR?this.handle_operator(t):t.type===U.COMMA?this.handle_comma(t):t.type===U.BLOCK_COMMENT?this.handle_block_comment(t,e):t.type===U.COMMENT?this.handle_comment(t,e):t.type===U.DOT?this.handle_dot(t):t.type===U.EOF?this.handle_eof(t):t.type===U.UNKNOWN?this.handle_unknown(t,e):this.handle_unknown(t,e)};Qe.prototype.handle_whitespace_and_comments=function(t,e){var n=t.newlines,r=this._options.keep_array_indentation&&Cs(this._flags.mode);if(t.comments_before)for(var i=t.comments_before.next();i;)this.handle_whitespace_and_comments(i,e),this.handle_token(i,e),i=t.comments_before.next();if(r)for(var s=0;s<n;s+=1)this.print_newline(s>0,e);else if(this._options.max_preserve_newlines&&n>this._options.max_preserve_newlines&&(n=this._options.max_preserve_newlines),this._options.preserve_newlines&&n>1){this.print_newline(!1,e);for(var a=1;a<n;a+=1)this.print_newline(!0,e)}};var oh=["async","break","continue","return","throw","yield"];Qe.prototype.allow_wrap_or_preserved_newline=function(t,e){if(e=e===void 0?!1:e,!this._output.just_added_newline()){var n=this._options.preserve_newlines&&t.newlines||e,r=Ye(this._flags.last_token.text,Kl)||Ye(t.text,Kl);if(r){var i=Ye(this._flags.last_token.text,Kl)&&Ye(this._options.operator_position,YN)||Ye(t.text,Kl);n=n&&i}if(n)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(mt(this._flags.last_token,oh))return;this._output.set_wrap_point()}}};Qe.prototype.print_newline=function(t,e){if(!e&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==U.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var n=this._tokens.peek();this._flags.mode===Ie.Statement&&!(this._flags.if_block&&Sr(n,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(t)&&(this._flags.multiline_frame=!0)};Qe.prototype.print_token_line_indentation=function(t){this._output.just_added_newline()&&(this._options.keep_array_indentation&&t.newlines&&(t.text==="["||Cs(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(t.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))};Qe.prototype.print_token=function(t){if(this._output.raw){this._output.add_raw_token(t);return}if(this._options.comma_first&&t.previous&&t.previous.type===U.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var e=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(e),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(t),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(t),this._output.non_breaking_space=!0,this._output.add_token(t.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)};Qe.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};Qe.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};Qe.prototype.set_mode=function(t){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,t),this._flags=this.create_flags(this._previous_flags,t),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};Qe.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===Ie.Statement&&HN(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};Qe.prototype.start_of_object_property=function(){return this._flags.parent.mode===Ie.ObjectLiteral&&this._flags.mode===Ie.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||mt(this._flags.last_token,["get","set"]))};Qe.prototype.start_of_statement=function(t){var e=!1;return e=e||mt(this._flags.last_token,["var","let","const"])&&t.type===U.WORD,e=e||Sr(this._flags.last_token,"do"),e=e||!(this._flags.parent.mode===Ie.ObjectLiteral&&this._flags.mode===Ie.Statement)&&mt(this._flags.last_token,oh)&&!t.newlines,e=e||Sr(this._flags.last_token,"else")&&!(Sr(t,"if")&&!t.comments_before),e=e||this._flags.last_token.type===U.END_EXPR&&(this._previous_flags.mode===Ie.ForInitializer||this._previous_flags.mode===Ie.Conditional),e=e||this._flags.last_token.type===U.WORD&&this._flags.mode===Ie.BlockStatement&&!this._flags.in_case&&!(t.text==="--"||t.text==="++")&&this._last_last_text!=="function"&&t.type!==U.WORD&&t.type!==U.RESERVED,e=e||this._flags.mode===Ie.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||mt(this._flags.last_token,["get","set"])),e?(this.set_mode(Ie.Statement),this.indent(),this.handle_whitespace_and_comments(t,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t,mt(t,["do","for","if","while"])),!0):!1};Qe.prototype.handle_start_expr=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t);var e=Ie.Expression;if(t.text==="["){if(this._flags.last_token.type===U.WORD||this._flags.last_token.text===")"){mt(this._flags.last_token,$l)&&(this._output.space_before_token=!0),this.print_token(t),this.set_mode(e),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}e=Ie.ArrayLiteral,Cs(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),Ye(this._flags.last_token.type,[U.START_EXPR,U.END_EXPR,U.WORD,U.OPERATOR,U.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===U.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,e=Ie.ForInitializer):Ye(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,e=Ie.Conditional):Ye(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&t.whitespace_before===""?this._output.space_before_token=!1:(Ye(this._flags.last_token.text,$l)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===U.EQUALS||this._flags.last_token.type===U.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t);else if(this._flags.last_token.type===U.WORD){this._output.space_before_token=!1;var n=this._tokens.peek(-3);if(this._options.space_after_named_function&&n){var r=this._tokens.peek(-4);mt(n,["async","function"])||n.text==="*"&&mt(r,["async","function"])?this._output.space_before_token=!0:this._flags.mode===Ie.ObjectLiteral&&(n.text==="{"||n.text===","||n.text==="*"&&(r.text==="{"||r.text===","))&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(t);(this._flags.last_token.type===U.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(Ye(this._last_last_text,["function","yield"])||this._flags.mode===Ie.ObjectLiteral&&Ye(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===U.START_BLOCK?this.print_newline():(this._flags.last_token.type===U.END_EXPR||this._flags.last_token.type===U.START_EXPR||this._flags.last_token.type===U.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===U.COMMA)&&this.allow_wrap_or_preserved_newline(t,t.newlines),this.print_token(t),this.set_mode(e),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()};Qe.prototype.handle_end_expr=function(t){for(;this._flags.mode===Ie.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(t,t.text==="]"&&Cs(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===U.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(t),this.restore_mode(),HN(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===Ie.Conditional&&(this._previous_flags.mode=Ie.Expression,this._flags.do_block=!1,this._flags.do_while=!1)};Qe.prototype.handle_start_block=function(t){this.handle_whitespace_and_comments(t);var e=this._tokens.peek(),n=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===U.END_EXPR?(this.set_mode(Ie.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(Ie.BlockStatement):n&&(Ye(n.text,[":",","])&&Ye(e.type,[U.STRING,U.WORD,U.RESERVED])||Ye(e.text,["get","set","..."])&&Ye(n.type,[U.WORD,U.RESERVED]))?Ye(this._last_last_text,["class","interface"])?this.set_mode(Ie.BlockStatement):this.set_mode(Ie.ObjectLiteral):this._flags.last_token.type===U.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(Ie.BlockStatement):Ye(this._flags.last_token.type,[U.EQUALS,U.START_EXPR,U.COMMA,U.OPERATOR])||mt(this._flags.last_token,["return","throw","import","default"])?this.set_mode(Ie.ObjectLiteral):this.set_mode(Ie.BlockStatement);var r=!e.comments_before&&e.text==="}",i=r&&this._flags.last_word==="function"&&this._flags.last_token.type===U.END_EXPR;if(this._options.brace_preserve_inline){var s=0,a=null;this._flags.inline_frame=!0;do if(s+=1,a=this._tokens.peek(s-1),a.newlines){this._flags.inline_frame=!1;break}while(a.type!==U.EOF&&!(a.type===U.END_BLOCK&&a.opened===t))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==U.OPERATOR&&(i||this._flags.last_token.type===U.EQUALS||mt(this._flags.last_token,Pf)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(Cs(this._previous_flags.mode)&&(this._flags.last_token.type===U.START_EXPR||this._flags.last_token.type===U.COMMA)&&((this._flags.last_token.type===U.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===U.COMMA||this._flags.last_token.type===U.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(t),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==U.OPERATOR&&this._flags.last_token.type!==U.START_EXPR&&(this._flags.last_token.type===U.START_BLOCK&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(t),this.indent(),!r&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()};Qe.prototype.handle_end_block=function(t){for(this.handle_whitespace_and_comments(t);this._flags.mode===Ie.Statement;)this.restore_mode();var e=this._flags.last_token.type===U.START_BLOCK;this._flags.inline_frame&&!e?this._output.space_before_token=!0:this._options.brace_style==="expand"?e||this.print_newline():e||(Cs(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(t)};Qe.prototype.handle_word=function(t){if(t.type===U.RESERVED){if(Ye(t.text,["set","get"])&&this._flags.mode!==Ie.ObjectLiteral)t.type=U.WORD;else if(t.text==="import"&&this._tokens.peek().text==="(")t.type=U.WORD;else if(Ye(t.text,["as","from"])&&!this._flags.import_block)t.type=U.WORD;else if(this._flags.mode===Ie.ObjectLiteral){var e=this._tokens.peek();e.text===":"&&(t.type=U.WORD)}}if(this.start_of_statement(t)?mt(this._flags.last_token,["var","let","const"])&&t.type===U.WORD&&(this._flags.declaration_statement=!0):t.newlines&&!Xl(this._flags.mode)&&(this._flags.last_token.type!==U.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==U.EQUALS&&(this._options.preserve_newlines||!mt(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(t),this.print_newline()):this.handle_whitespace_and_comments(t),this._flags.do_block&&!this._flags.do_while)if(Sr(t,"while")){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&Sr(t,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===Ie.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&mt(t,["case","default"])){this.print_newline(),this._flags.last_token.type!==U.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(t),this._flags.in_case=!0;return}if((this._flags.last_token.type===U.COMMA||this._flags.last_token.type===U.START_EXPR||this._flags.last_token.type===U.EQUALS||this._flags.last_token.type===U.OPERATOR)&&(this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t)),Sr(t,"function")){(Ye(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(Ye(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===U.OPERATOR))&&!this._output.just_added_blankline()&&!t.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===U.RESERVED||this._flags.last_token.type===U.WORD?mt(this._flags.last_token,["get","set","new","export"])||mt(this._flags.last_token,oh)?this._output.space_before_token=!0:Sr(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===U.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(Xl(this._flags.mode)||Cs(this._flags.mode))||this.print_newline(),this.print_token(t),this._flags.last_word=t.text;return}var n="NONE";if(this._flags.last_token.type===U.END_BLOCK?this._previous_flags.inline_frame?n="SPACE":mt(t,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines?n="NEWLINE":(n="SPACE",this._output.space_before_token=!0):n="NEWLINE":this._flags.last_token.type===U.SEMICOLON&&this._flags.mode===Ie.BlockStatement?n="NEWLINE":this._flags.last_token.type===U.SEMICOLON&&Xl(this._flags.mode)?n="SPACE":this._flags.last_token.type===U.STRING?n="NEWLINE":this._flags.last_token.type===U.RESERVED||this._flags.last_token.type===U.WORD||this._flags.last_token.text==="*"&&(Ye(this._last_last_text,["function","yield"])||this._flags.mode===Ie.ObjectLiteral&&Ye(this._last_last_text,["{",","]))?n="SPACE":this._flags.last_token.type===U.START_BLOCK?this._flags.inline_frame?n="SPACE":n="NEWLINE":this._flags.last_token.type===U.END_EXPR&&(this._output.space_before_token=!0,n="NEWLINE"),mt(t,$l)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?n="SPACE":n="NEWLINE"),mt(t,["else","catch","finally"]))if((!(this._flags.last_token.type===U.END_BLOCK&&this._previous_flags.mode===Ie.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var r=this._output.current_line;r.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else n==="NEWLINE"?mt(this._flags.last_token,Pf)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&mt(t,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==U.END_EXPR?(this._flags.last_token.type!==U.START_EXPR||!mt(t,["var","let","const"]))&&this._flags.last_token.text!==":"&&(Sr(t,"if")&&Sr(t.previous,"else")?this._output.space_before_token=!0:this.print_newline()):mt(t,$l)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&Cs(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():n==="SPACE"&&(this._output.space_before_token=!0);t.previous&&(t.previous.type===U.WORD||t.previous.type===U.RESERVED)&&(this._output.space_before_token=!0),this.print_token(t),this._flags.last_word=t.text,t.type===U.RESERVED&&(t.text==="do"?this._flags.do_block=!0:t.text==="if"?this._flags.if_block=!0:t.text==="import"?this._flags.import_block=!0:this._flags.import_block&&Sr(t,"from")&&(this._flags.import_block=!1))};Qe.prototype.handle_semicolon=function(t){this.start_of_statement(t)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(t);for(var e=this._tokens.peek();this._flags.mode===Ie.Statement&&!(this._flags.if_block&&Sr(e,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(t)};Qe.prototype.handle_string=function(t){t.text.startsWith("`")&&t.newlines===0&&t.whitespace_before===""&&(t.previous.text===")"||this._flags.last_token.type===U.WORD)||(this.start_of_statement(t)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(t),this._flags.last_token.type===U.RESERVED||this._flags.last_token.type===U.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===U.COMMA||this._flags.last_token.type===U.START_EXPR||this._flags.last_token.type===U.EQUALS||this._flags.last_token.type===U.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t):t.text.startsWith("`")&&this._flags.last_token.type===U.END_EXPR&&(t.previous.text==="]"||t.previous.text===")")&&t.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(t)};Qe.prototype.handle_equals=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0};Qe.prototype.handle_comma=function(t){this.handle_whitespace_and_comments(t,!0),this.print_token(t),this._output.space_before_token=!0,this._flags.declaration_statement?(Xl(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)):this._flags.mode===Ie.ObjectLiteral||this._flags.mode===Ie.Statement&&this._flags.parent.mode===Ie.ObjectLiteral?(this._flags.mode===Ie.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)};Qe.prototype.handle_operator=function(t){var e=t.text==="*"&&(mt(this._flags.last_token,["function","yield"])||Ye(this._flags.last_token.type,[U.START_BLOCK,U.COMMA,U.END_BLOCK,U.SEMICOLON])),n=Ye(t.text,["-","+"])&&(Ye(this._flags.last_token.type,[U.START_BLOCK,U.START_EXPR,U.EQUALS,U.OPERATOR])||Ye(this._flags.last_token.text,$l)||this._flags.last_token.text===",");if(!this.start_of_statement(t)){var r=!e;this.handle_whitespace_and_comments(t,r)}if(mt(this._flags.last_token,Pf)){this._output.space_before_token=!0,this.print_token(t);return}if(t.text==="*"&&this._flags.last_token.type===U.DOT){this.print_token(t);return}if(t.text==="::"){this.print_token(t);return}if(this._flags.last_token.type===U.OPERATOR&&Ye(this._options.operator_position,YN)&&this.allow_wrap_or_preserved_newline(t),t.text===":"&&this._flags.in_case){this.print_token(t),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==U.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0;return}var i=!0,s=!0,a=!1;if(t.text===":"?this._flags.ternary_depth===0?i=!1:(this._flags.ternary_depth-=1,a=!0):t.text==="?"&&(this._flags.ternary_depth+=1),!n&&!e&&this._options.preserve_newlines&&Ye(t.text,Kl)){var o=t.text===":",l=o&&a,u=o&&!a;switch(this._options.operator_position){case zl.before_newline:this._output.space_before_token=!u,this.print_token(t),(!o||l)&&this.allow_wrap_or_preserved_newline(t),this._output.space_before_token=!0;return;case zl.after_newline:this._output.space_before_token=!0,!o||l?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(t):this._output.space_before_token=!1,this.print_token(t),this._output.space_before_token=!0;return;case zl.preserve_newline:u||this.allow_wrap_or_preserved_newline(t),i=!(this._output.just_added_newline()||u),this._output.space_before_token=i,this.print_token(t),this._output.space_before_token=!0;return}}if(e){this.allow_wrap_or_preserved_newline(t),i=!1;var c=this._tokens.peek();s=c&&Ye(c.type,[U.WORD,U.RESERVED])}else t.text==="..."?(this.allow_wrap_or_preserved_newline(t),i=this._flags.last_token.type===U.START_BLOCK,s=!1):(Ye(t.text,["--","++","!","~"])||n)&&((this._flags.last_token.type===U.COMMA||this._flags.last_token.type===U.START_EXPR)&&this.allow_wrap_or_preserved_newline(t),i=!1,s=!1,t.newlines&&(t.text==="--"||t.text==="++")&&this.print_newline(!1,!0),this._flags.last_token.text===";"&&Xl(this._flags.mode)&&(i=!0),this._flags.last_token.type===U.RESERVED?i=!0:this._flags.last_token.type===U.END_EXPR?i=!(this._flags.last_token.text==="]"&&(t.text==="--"||t.text==="++")):this._flags.last_token.type===U.OPERATOR&&(i=Ye(t.text,["--","-","++","+"])&&Ye(this._flags.last_token.text,["--","-","++","+"]),Ye(t.text,["+","-"])&&Ye(this._flags.last_token.text,["--","++"])&&(s=!0)),(this._flags.mode===Ie.BlockStatement&&!this._flags.inline_frame||this._flags.mode===Ie.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline());this._output.space_before_token=this._output.space_before_token||i,this.print_token(t),this._output.space_before_token=s};Qe.prototype.handle_block_comment=function(t,e){if(this._output.raw){this._output.add_raw_token(t),t.directives&&t.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(t.directives){this.print_newline(!1,e),this.print_token(t),t.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!Cf.newline.test(t.text)&&!t.newlines){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0;return}else this.print_block_commment(t,e)};Qe.prototype.print_block_commment=function(t,e){var n=vF(t.text),r,i=!1,s=!1,a=t.whitespace_before,o=a.length;if(this.print_newline(!1,e),this.print_token_line_indentation(t),this._output.add_token(n[0]),this.print_newline(!1,e),n.length>1){for(n=n.slice(1),i=NF(n,"*"),s=CF(n,a),i&&(this._flags.alignment=1),r=0;r<n.length;r++)i?(this.print_token_line_indentation(t),this._output.add_token(yF(n[r]))):s&&n[r]?(this.print_token_line_indentation(t),this._output.add_token(n[r].substring(o))):(this._output.current_line.set_indent(-1),this._output.add_token(n[r])),this.print_newline(!1,e);this._flags.alignment=0}};Qe.prototype.handle_comment=function(t,e){t.newlines?this.print_newline(!1,e):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(t),this.print_newline(!1,e)};Qe.prototype.handle_dot=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t,!0),mt(this._flags.last_token,Pf)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(t,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(t)};Qe.prototype.handle_unknown=function(t,e){this.print_token(t),t.text[t.text.length-1]===`
`&&this.print_newline(!1,e)};Qe.prototype.handle_eof=function(t){for(;this._flags.mode===Ie.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t)};$N.exports.Beautifier=Qe});var zN=X((fee,lh)=>{"use strict";var PF=KN().Beautifier,DF=Jm().Options;function SF(t,e){var n=new PF(t,e);return n.beautify()}lh.exports=SF;lh.exports.defaultOptions=function(){return new DF}});var uh=X((pee,JN)=>{"use strict";var XN=bf().Options;function QN(t){XN.call(this,t,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var e=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||e;var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var r=0;r<n.length;r++)n[r]!=="expand"?this.brace_style="collapse":this.brace_style=n[r]}QN.prototype=new XN;JN.exports.Options=QN});var nC=X((dee,tC)=>{"use strict";var AF=uh().Options,IF=_f().Output,EF=Tf().InputScanner,xF=vf().Directives,ZN=new xF(/\/\*/,/\*\//),eC=/\r\n|[\r\n]/,RF=/\r\n|[\r\n]/g,Df=/\s/,wF=/(?:\s|\n)+/g,OF=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,LF=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function Gi(t,e){this._source_text=t||"",this._options=new AF(e),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}Gi.prototype.eatString=function(t){var e="";for(this._ch=this._input.next();this._ch;){if(e+=this._ch,this._ch==="\\")e+=this._input.next();else if(t.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return e};Gi.prototype.eatWhitespace=function(t){for(var e=Df.test(this._input.peek()),n=0;Df.test(this._input.peek());)this._ch=this._input.next(),t&&this._ch===`
`&&(n===0||n<this._options.max_preserve_newlines)&&(n++,this._output.add_new_line(!0));return e};Gi.prototype.foundNestedPseudoClass=function(){for(var t=0,e=1,n=this._input.peek(e);n;){if(n==="{")return!0;if(n==="(")t+=1;else if(n===")"){if(t===0)return!1;t-=1}else if(n===";"||n==="}")return!1;e++,n=this._input.peek(e)}return!1};Gi.prototype.print_string=function(t){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(t)};Gi.prototype.preserveSingleSpace=function(t){t&&(this._output.space_before_token=!0)};Gi.prototype.indent=function(){this._indentLevel++};Gi.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--};Gi.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;e==="auto"&&(e=`
`,t&&eC.test(t||"")&&(e=t.match(eC)[0])),t=t.replace(RF,`
`);var n=t.match(/^[\t ]*/)[0];this._output=new IF(this._options,n),this._input=new EF(t),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var r=0,i=!1,s=!1,a=!1,o=!1,l=!1,u=this._ch,c,f,m;c=this._input.read(wF),f=c!=="",m=u,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),u=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var y=this._input.read(OF),p=ZN.get_directives(y);p&&p.ignore==="start"&&(y+=ZN.readIgnored(this._input)),this.print_string(y),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(LF)),this.eatWhitespace(!0);else if(this._ch==="@")if(this.preserveSingleSpace(f),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var d=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);d.match(/[ :]$/)&&(d=this.eatString(": ").replace(/\s$/,""),this.print_string(d),this._output.space_before_token=!0),d=d.replace(/\s$/,""),d==="extend"?o=!0:d==="import"&&(l=!0),d in this.NESTED_AT_RULE?(this._nestedLevel+=1,d in this.CONDITIONAL_GROUP_RULE&&(a=!0)):!i&&r===0&&d.indexOf(":")!==-1&&(s=!0,this.indent())}else this._ch==="#"&&this._input.peek()==="{"?(this.preserveSingleSpace(f),this.print_string(this._ch+this.eatString("}"))):this._ch==="{"?(s&&(s=!1,this.outdent()),a?(a=!1,i=this._indentLevel>=this._nestedLevel):i=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&i&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line()):this._ch==="}"?(this.outdent(),this._output.add_new_line(),m==="{"&&this._output.trim(!0),l=!1,o=!1,s&&(this.outdent(),s=!1),this.print_string(this._ch),i=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0)):this._ch===":"?(i||a)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!o&&r===0?(this.print_string(":"),s||(s=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):this._ch==='"'||this._ch==="'"?(this.preserveSingleSpace(f),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):this._ch===";"?r===0?(s&&(this.outdent(),s=!1),o=!1,l=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):this._ch==="("?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),r++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),r&&(r--,this.outdent()))):(this.preserveSingleSpace(f),this.print_string(this._ch),this.eatWhitespace(),r++,this.indent()):this._ch===")"?(r&&(r--,this.outdent()),this.print_string(this._ch)):this._ch===","?(this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&!s&&r===0&&!l?this._output.add_new_line():this._output.space_before_token=!0):(this._ch===">"||this._ch==="+"||this._ch==="~")&&!s&&r===0?this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&Df.test(this._ch)&&(this._ch="")):this._ch==="]"?this.print_string(this._ch):this._ch==="["?(this.preserveSingleSpace(f),this.print_string(this._ch)):this._ch==="="?(this.eatWhitespace(),this.print_string("="),Df.test(this._ch)&&(this._ch="")):this._ch==="!"&&!this._input.lookBack("\\")?(this.print_string(" "),this.print_string(this._ch)):(this.preserveSingleSpace(f),this.print_string(this._ch));var g=this._output.get_code(e);return g};tC.exports.Beautifier=Gi});var rC=X((mee,ch)=>{"use strict";var FF=nC().Beautifier,kF=uh().Options;function MF(t,e){var n=new FF(t,e);return n.beautify()}ch.exports=MF;ch.exports.defaultOptions=function(){return new kF}});var fh=X((hee,aC)=>{"use strict";var iC=bf().Options;function sC(t){iC.call(this,t,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}sC.prototype=new iC;aC.exports.Options=sC});var mh=X((gee,dh)=>{"use strict";var oC=Gl().Tokenizer,ph=Gl().TOKEN,BF=vf().Directives,qF=ih().TemplatablePattern,VF=Ul().Pattern,Ot={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:ph.START,RAW:ph.RAW,EOF:ph.EOF},lC=new BF(/<\!--/,/-->/),Tn=function(t,e){oC.call(this,t,e),this._current_tag_name="";var n=new qF(this._input).read_options(this._options),r=new VF(this._input);if(this.__patterns={word:n.until(/[\n\r\t <]/),single_quote:n.until_after(/'/),double_quote:n.until_after(/"/),attribute:n.until(/[\n\r\t =>]|\/>/),element_name:n.until(/[\n\r\t >\/]/),handlebars_comment:r.starting_with(/{{!--/).until_after(/--}}/),handlebars:r.starting_with(/{{/).until_after(/}}/),handlebars_open:r.until(/[\n\r\t }]/),handlebars_raw_close:r.until(/}}/),comment:r.starting_with(/<!--/).until_after(/-->/),cdata:r.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:r.starting_with(/<!\[/).until_after(/]>/),processing:r.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var i=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=r.matching(i).until_after(i)}};Tn.prototype=new oC;Tn.prototype._is_comment=function(t){return!1};Tn.prototype._is_opening=function(t){return t.type===Ot.TAG_OPEN};Tn.prototype._is_closing=function(t,e){return t.type===Ot.TAG_CLOSE&&e&&((t.text===">"||t.text==="/>")&&e.text[0]==="<"||t.text==="}}"&&e.text[0]==="{"&&e.text[1]==="{")};Tn.prototype._reset=function(){this._current_tag_name=""};Tn.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(Ot.EOF,""):(n=n||this._read_open_handlebars(r,e),n=n||this._read_attribute(r,t,e),n=n||this._read_close(r,e),n=n||this._read_raw_content(r,t,e),n=n||this._read_content_word(r),n=n||this._read_comment_or_cdata(r),n=n||this._read_processing(r),n=n||this._read_open(r,e),n=n||this._create_token(Ot.UNKNOWN,this._input.next()),n)};Tn.prototype._read_comment_or_cdata=function(t){var e=null,n=null,r=null;if(t==="<"){var i=this._input.peek(1);i==="!"&&(n=this.__patterns.comment.read(),n?(r=lC.get_directives(n),r&&r.ignore==="start"&&(n+=lC.readIgnored(this._input))):n=this.__patterns.cdata.read()),n&&(e=this._create_token(Ot.COMMENT,n),e.directives=r)}return e};Tn.prototype._read_processing=function(t){var e=null,n=null,r=null;if(t==="<"){var i=this._input.peek(1);(i==="!"||i==="?")&&(n=this.__patterns.conditional_comment.read(),n=n||this.__patterns.processing.read()),n&&(e=this._create_token(Ot.COMMENT,n),e.directives=r)}return e};Tn.prototype._read_open=function(t,e){var n=null,r=null;return e||t==="<"&&(n=this._input.next(),this._input.peek()==="/"&&(n+=this._input.next()),n+=this.__patterns.element_name.read(),r=this._create_token(Ot.TAG_OPEN,n)),r};Tn.prototype._read_open_handlebars=function(t,e){var n=null,r=null;return e||this._options.indent_handlebars&&t==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(n=this.__patterns.handlebars_comment.read(),n=n||this.__patterns.handlebars.read(),r=this._create_token(Ot.COMMENT,n)):(n=this.__patterns.handlebars_open.read(),r=this._create_token(Ot.TAG_OPEN,n))),r};Tn.prototype._read_close=function(t,e){var n=null,r=null;return e&&(e.text[0]==="<"&&(t===">"||t==="/"&&this._input.peek(1)===">")?(n=this._input.next(),t==="/"&&(n+=this._input.next()),r=this._create_token(Ot.TAG_CLOSE,n)):e.text[0]==="{"&&t==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),r=this._create_token(Ot.TAG_CLOSE,"}}"))),r};Tn.prototype._read_attribute=function(t,e,n){var r=null,i="";if(n&&n.text[0]==="<")if(t==="=")r=this._create_token(Ot.EQUALS,this._input.next());else if(t==='"'||t==="'"){var s=this._input.next();t==='"'?s+=this.__patterns.double_quote.read():s+=this.__patterns.single_quote.read(),r=this._create_token(Ot.VALUE,s)}else i=this.__patterns.attribute.read(),i&&(e.type===Ot.EQUALS?r=this._create_token(Ot.VALUE,i):r=this._create_token(Ot.ATTRIBUTE,i));return r};Tn.prototype._is_content_unformatted=function(t){return this._options.void_elements.indexOf(t)===-1&&(this._options.content_unformatted.indexOf(t)!==-1||this._options.unformatted.indexOf(t)!==-1)};Tn.prototype._read_raw_content=function(t,e,n){var r="";if(n&&n.text[0]==="{")r=this.__patterns.handlebars_raw_close.read();else if(e.type===Ot.TAG_CLOSE&&e.opened.text[0]==="<"&&e.text[0]!=="/"){var i=e.opened.text.substr(1).toLowerCase();if(i==="script"||i==="style"){var s=this._read_comment_or_cdata(t);if(s)return s.type=Ot.TEXT,s;r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(i)&&(r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig")))}return r?this._create_token(Ot.TEXT,r):null};Tn.prototype._read_content_word=function(t){var e="";if(this._options.unformatted_content_delimiter&&t===this._options.unformatted_content_delimiter[0]&&(e=this.__patterns.unformatted_content_delimiter.read()),e||(e=this.__patterns.word.read()),e)return this._create_token(Ot.TEXT,e)};dh.exports.Tokenizer=Tn;dh.exports.TOKEN=Ot});var pC=X((_ee,fC)=>{"use strict";var jF=fh().Options,UF=_f().Output,WF=mh().Tokenizer,ot=mh().TOKEN,uC=/\r\n|[\r\n]/,GF=/\r\n|[\r\n]/g,Ar=function(t,e){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=t.max_preserve_newlines,this.preserve_newlines=t.preserve_newlines,this._output=new UF(t,e)};Ar.prototype.current_line_has_match=function(t){return this._output.current_line.has_match(t)};Ar.prototype.set_space_before_token=function(t,e){this._output.space_before_token=t,this._output.non_breaking_space=e};Ar.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()};Ar.prototype.add_raw_token=function(t){this._output.add_raw_token(t)};Ar.prototype.print_preserved_newlines=function(t){var e=0;t.type!==ot.TEXT&&t.previous.type!==ot.TEXT&&(e=t.newlines?1:0),this.preserve_newlines&&(e=t.newlines<this.max_preserve_newlines+1?t.newlines:this.max_preserve_newlines+1);for(var n=0;n<e;n++)this.print_newline(n>0);return e!==0};Ar.prototype.traverse_whitespace=function(t){return t.whitespace_before||t.newlines?(this.print_preserved_newlines(t)||(this._output.space_before_token=!0),!0):!1};Ar.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped};Ar.prototype.print_newline=function(t){this._output.add_new_line(t)};Ar.prototype.print_token=function(t){t.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(t.text))};Ar.prototype.indent=function(){this.indent_level++};Ar.prototype.get_full_indent=function(t){return t=this.indent_level+(t||0),t<1?"":this._output.get_indent_string(t)};var YF=function(t){for(var e=null,n=t.next;n.type!==ot.EOF&&t.closed!==n;){if(n.type===ot.ATTRIBUTE&&n.text==="type"){n.next&&n.next.type===ot.EQUALS&&n.next.next&&n.next.next.type===ot.VALUE&&(e=n.next.next.text);break}n=n.next}return e},HF=function(t,e){var n=null,r=null;return e.closed?(t==="script"?n="text/javascript":t==="style"&&(n="text/css"),n=YF(e)||n,n.search("text/css")>-1?r="css":n.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?r="javascript":n.search(/(text|application|dojo)\/(x-)?(html)/)>-1?r="html":n.search(/test\/null/)>-1&&(r="null"),r):null};function Ql(t,e){return e.indexOf(t)!==-1}function $F(t,e,n){this.parent=t||null,this.tag=e?e.tag_name:"",this.indent_level=n||0,this.parser_token=e||null}function aa(t){this._printer=t,this._current_frame=null}aa.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null};aa.prototype.record_tag=function(t){var e=new $F(this._current_frame,t,this._printer.indent_level);this._current_frame=e};aa.prototype._try_pop_frame=function(t){var e=null;return t&&(e=t.parser_token,this._printer.indent_level=t.indent_level,this._current_frame=t.parent),e};aa.prototype._get_frame=function(t,e){for(var n=this._current_frame;n&&t.indexOf(n.tag)===-1;){if(e&&e.indexOf(n.tag)!==-1){n=null;break}n=n.parent}return n};aa.prototype.try_pop=function(t,e){var n=this._get_frame([t],e);return this._try_pop_frame(n)};aa.prototype.indent_to_tag=function(t){var e=this._get_frame(t);e&&(this._printer.indent_level=e.indent_level)};function Ir(t,e,n,r){this._source_text=t||"",e=e||{},this._js_beautify=n,this._css_beautify=r,this._tag_stack=null;var i=new jF(e,"html");this._options=i,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,"force".length)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,"preserve".length)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}Ir.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;this._options.eol==="auto"&&(e=`
`,t&&uC.test(t)&&(e=t.match(uC)[0])),t=t.replace(GF,`
`);var n=t.match(/^[\t ]*/)[0],r={text:"",type:""},i=new cC,s=new Ar(this._options,n),a=new WF(t,this._options).tokenize();this._tag_stack=new aa(s);for(var o=null,l=a.next();l.type!==ot.EOF;)l.type===ot.TAG_OPEN||l.type===ot.COMMENT?(o=this._handle_tag_open(s,l,i,r),i=o):l.type===ot.ATTRIBUTE||l.type===ot.EQUALS||l.type===ot.VALUE||l.type===ot.TEXT&&!i.tag_complete?o=this._handle_inside_tag(s,l,i,a):l.type===ot.TAG_CLOSE?o=this._handle_tag_close(s,l,i):l.type===ot.TEXT?o=this._handle_text(s,l,i):s.add_raw_token(l),r=o,l=a.next();var u=s._output.get_code(e);return u};Ir.prototype._handle_tag_close=function(t,e,n){var r={text:e.text,type:e.type};return t.alignment_size=0,n.tag_complete=!0,t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),n.is_unformatted?t.add_raw_token(e):(n.tag_start_char==="<"&&(t.set_space_before_token(e.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&n.has_wrapped_attrs&&t.print_newline(!1)),t.print_token(e)),n.indent_content&&!(n.is_unformatted||n.is_content_unformatted)&&(t.indent(),n.indent_content=!1),!n.is_inline_element&&!(n.is_unformatted||n.is_content_unformatted)&&t.set_wrap_point(),r};Ir.prototype._handle_inside_tag=function(t,e,n,r){var i=n.has_wrapped_attrs,s={text:e.text,type:e.type};if(t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),n.is_unformatted)t.add_raw_token(e);else if(n.tag_start_char==="{"&&e.type===ot.TEXT)t.print_preserved_newlines(e)?(e.newlines=0,t.add_raw_token(e)):t.print_token(e);else{if(e.type===ot.ATTRIBUTE?(t.set_space_before_token(!0),n.attr_count+=1):(e.type===ot.EQUALS||e.type===ot.VALUE&&e.previous.type===ot.EQUALS)&&t.set_space_before_token(!1),e.type===ot.ATTRIBUTE&&n.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(t.traverse_whitespace(e),i=i||e.newlines!==0),this._is_wrap_attributes_force)){var a=n.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&n.attr_count===1){var o=!0,l=0,u;do{if(u=r.peek(l),u.type===ot.ATTRIBUTE){o=!1;break}l+=1}while(l<4&&u.type!==ot.EOF&&u.type!==ot.TAG_CLOSE);a=!o}a&&(t.print_newline(!1),i=!0)}t.print_token(e),i=i||t.previous_token_wrapped(),n.has_wrapped_attrs=i}return s};Ir.prototype._handle_text=function(t,e,n){var r={text:e.text,type:"TK_CONTENT"};return n.custom_beautifier_name?this._print_custom_beatifier_text(t,e,n):n.is_unformatted||n.is_content_unformatted?t.add_raw_token(e):(t.traverse_whitespace(e),t.print_token(e)),r};Ir.prototype._print_custom_beatifier_text=function(t,e,n){var r=this;if(e.text!==""){var i=e.text,s,a=1,o="",l="";n.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?s=this._js_beautify:n.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?s=this._css_beautify:n.custom_beautifier_name==="html"&&(s=function(p,d){var g=new Ir(p,d,r._js_beautify,r._css_beautify);return g.beautify()}),this._options.indent_scripts==="keep"?a=0:this._options.indent_scripts==="separate"&&(a=-t.indent_level);var u=t.get_full_indent(a);if(i=i.replace(/\n[ \t]*$/,""),n.custom_beautifier_name!=="html"&&i[0]==="<"&&i.match(/^(<!--|<!\[CDATA\[)/)){var c=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(i);if(!c){t.add_raw_token(e);return}o=u+c[1]+`
`,i=c[4],c[5]&&(l=u+c[5]),i=i.replace(/\n[ \t]*$/,""),(c[2]||c[3].indexOf(`
`)!==-1)&&(c=c[3].match(/[ \t]+$/),c&&(e.whitespace_before=c[0]))}if(i)if(s){var f=function(){this.eol=`
`};f.prototype=this._options.raw_options;var m=new f;i=s(u+i,m)}else{var y=e.whitespace_before;y&&(i=i.replace(new RegExp(`
(`+y+")?","g"),`
`)),i=u+i.replace(/\n/g,`
`+u)}o&&(i?i=o+i+`
`+l:i=o+l),t.print_newline(!1),i&&(e.text=i,e.whitespace_before="",e.newlines=0,t.add_raw_token(e),t.print_newline(!0))}};Ir.prototype._handle_tag_open=function(t,e,n,r){var i=this._get_tag_open_token(e);return(n.is_unformatted||n.is_content_unformatted)&&!n.is_empty_element&&e.type===ot.TAG_OPEN&&e.text.indexOf("</")===0?(t.add_raw_token(e),i.start_tag_token=this._tag_stack.try_pop(i.tag_name)):(t.traverse_whitespace(e),this._set_tag_position(t,e,i,n,r),i.is_inline_element||t.set_wrap_point(),t.print_token(e)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(i.alignment_size=e.text.length+1),!i.tag_complete&&!i.is_unformatted&&(t.alignment_size=i.alignment_size),i};var cC=function(t,e){if(this.parent=t||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!e)this.tag_complete=!0;else{var n;this.tag_start_char=e.text[0],this.text=e.text,this.tag_start_char==="<"?(n=e.text.match(/^<([^\s>]*)/),this.tag_check=n?n[1]:""):(n=e.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=n?n[1]:"",e.text==="{{#>"&&this.tag_check===">"&&e.next!==null&&(this.tag_check=e.next.text)),this.tag_check=this.tag_check.toLowerCase(),e.type===ot.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||e.closed&&e.closed.text==="/>",this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))}};Ir.prototype._get_tag_open_token=function(t){var e=new cC(this._tag_stack.get_parser_token(),t);return e.alignment_size=this._options.wrap_attributes_indent_size,e.is_end_tag=e.is_end_tag||Ql(e.tag_check,this._options.void_elements),e.is_empty_element=e.tag_complete||e.is_start_tag&&e.is_end_tag,e.is_unformatted=!e.tag_complete&&Ql(e.tag_check,this._options.unformatted),e.is_content_unformatted=!e.is_empty_element&&Ql(e.tag_check,this._options.content_unformatted),e.is_inline_element=Ql(e.tag_name,this._options.inline)||e.tag_start_char==="{",e};Ir.prototype._set_tag_position=function(t,e,n,r,i){if(n.is_empty_element||(n.is_end_tag?n.start_tag_token=this._tag_stack.try_pop(n.tag_name):(this._do_optional_end_element(n)&&(n.is_inline_element||t.print_newline(!1)),this._tag_stack.record_tag(n),(n.tag_name==="script"||n.tag_name==="style")&&!(n.is_unformatted||n.is_content_unformatted)&&(n.custom_beautifier_name=HF(n.tag_check,e)))),Ql(n.tag_check,this._options.extra_liners)&&(t.print_newline(!1),t._output.just_added_blankline()||t.print_newline(!0)),n.is_empty_element){if(n.tag_start_char==="{"&&n.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),n.indent_content=!0;var s=t.current_line_has_match(/{{#if/);s||t.print_newline(!1)}n.tag_name==="!--"&&i.type===ot.TAG_CLOSE&&r.is_end_tag&&n.text.indexOf(`
`)===-1||(n.is_inline_element||n.is_unformatted||t.print_newline(!1),this._calcluate_parent_multiline(t,n))}else if(n.is_end_tag){var a=!1;a=n.start_tag_token&&n.start_tag_token.multiline_content,a=a||!n.is_inline_element&&!(r.is_inline_element||r.is_unformatted)&&!(i.type===ot.TAG_CLOSE&&n.start_tag_token===r)&&i.type!=="TK_CONTENT",(n.is_content_unformatted||n.is_unformatted)&&(a=!1),a&&t.print_newline(!1)}else n.indent_content=!n.custom_beautifier_name,n.tag_start_char==="<"&&(n.tag_name==="html"?n.indent_content=this._options.indent_inner_html:n.tag_name==="head"?n.indent_content=this._options.indent_head_inner_html:n.tag_name==="body"&&(n.indent_content=this._options.indent_body_inner_html)),!(n.is_inline_element||n.is_unformatted)&&(i.type!=="TK_CONTENT"||n.is_content_unformatted)&&t.print_newline(!1),this._calcluate_parent_multiline(t,n)};Ir.prototype._calcluate_parent_multiline=function(t,e){e.parent&&t._output.just_added_newline()&&!((e.is_inline_element||e.is_unformatted)&&e.parent.is_inline_element)&&(e.parent.multiline_content=!0)};var KF=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],zF=["a","audio","del","ins","map","noscript","video"];Ir.prototype._do_optional_end_element=function(t){var e=null;if(!(t.is_empty_element||!t.is_start_tag||!t.parent)){if(t.tag_name==="body")e=e||this._tag_stack.try_pop("head");else if(t.tag_name==="li")e=e||this._tag_stack.try_pop("li",["ol","ul"]);else if(t.tag_name==="dd"||t.tag_name==="dt")e=e||this._tag_stack.try_pop("dt",["dl"]),e=e||this._tag_stack.try_pop("dd",["dl"]);else if(t.parent.tag_name==="p"&&KF.indexOf(t.tag_name)!==-1){var n=t.parent.parent;(!n||zF.indexOf(n.tag_name)===-1)&&(e=e||this._tag_stack.try_pop("p"))}else t.tag_name==="rp"||t.tag_name==="rt"?(e=e||this._tag_stack.try_pop("rt",["ruby","rtc"]),e=e||this._tag_stack.try_pop("rp",["ruby","rtc"])):t.tag_name==="optgroup"?e=e||this._tag_stack.try_pop("optgroup",["select"]):t.tag_name==="option"?e=e||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):t.tag_name==="colgroup"?e=e||this._tag_stack.try_pop("caption",["table"]):t.tag_name==="thead"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"])):t.tag_name==="tbody"||t.tag_name==="tfoot"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("thead",["table"]),e=e||this._tag_stack.try_pop("tbody",["table"])):t.tag_name==="tr"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(t.tag_name==="th"||t.tag_name==="td")&&(e=e||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),e=e||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return t.parent=this._tag_stack.get_parser_token(),e}};fC.exports.Beautifier=Ir});var dC=X((yee,hh)=>{"use strict";var XF=pC().Beautifier,QF=fh().Options;function JF(t,e,n,r){var i=new XF(t,e,n,r);return i.beautify()}hh.exports=JF;hh.exports.defaultOptions=function(){return new QF}});var yC=X((bee,Sf)=>{"use strict";var mC=zN(),hC=rC(),gC=dC();function _C(t,e,n,r){return n=n||mC,r=r||hC,gC(t,e,n,r)}_C.defaultOptions=gC.defaultOptions;Sf.exports.js=mC;Sf.exports.css=hC;Sf.exports.html=_C});var vC=X((Tee,TC)=>{"use strict";function bC(t,e,n){var r=function(i,s){return t.js_beautify(i,s)};return r.js=t.js_beautify,r.css=e.css_beautify,r.html=n.html_beautify,r.js_beautify=t.js_beautify,r.css_beautify=e.css_beautify,r.html_beautify=n.html_beautify,r}typeof define=="function"&&define.amd?define(["./lib/beautify","./lib/beautify-css","./lib/beautify-html"],function(t,e,n){return bC(t,e,n)}):function(t){var e=yC();e.js_beautify=e.js,e.css_beautify=e.css,e.html_beautify=e.html,t.exports=bC(e,e,e)}(TC)});var PC=X((Dee,CC)=>{"use strict";var gh=require("fs"),ek=require("util"),tk=require("path"),ai,NC=class{constructor(e){e=e||{},this.directory=e.directory||"./locales",this.updateFiles=typeof e.updateFiles=="boolean"?e.updateFiles:!0,this.locale=e.locale||"en",this.fallbackToLanguage=typeof e.fallbackToLanguage=="boolean"?e.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...e){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let n=e.shift(),r=function(){};return typeof e[e.length-1]=="function"&&(r=e.pop()),r=r||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][n]&&this.updateFiles?(this.cache[this.locale][n]=n,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:r})):r(),ai.format.apply(ai.format,[this.cache[this.locale][n]||n].concat(e))}__n(){let e=Array.prototype.slice.call(arguments),n=e.shift(),r=e.shift(),i=e.shift(),s=function(){};typeof e[e.length-1]=="function"&&(s=e.pop()),this.cache[this.locale]||this._readLocaleFile();let a=i===1?n:r;this.cache[this.locale][n]&&(a=this.cache[this.locale][n][i===1?"one":"other"]),!this.cache[this.locale][n]&&this.updateFiles?(this.cache[this.locale][n]={one:n,other:r},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:s})):s();let o=[a];return~a.indexOf("%d")&&o.push(i),ai.format.apply(ai.format,o.concat(e))}setLocale(e){this.locale=e}getLocale(){return this.locale}updateLocale(e){this.cache[this.locale]||this._readLocaleFile();for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.cache[this.locale][n]=e[n])}_taggedLiteral(e,...n){let r="";return e.forEach(function(i,s){let a=n[s+1];r+=i,typeof a!="undefined"&&(r+="%s")}),this.__.apply(this,[r].concat([].slice.call(n,1)))}_enqueueWrite(e){this.writeQueue.push(e),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){let e=this,n=this.writeQueue[0],r=n.directory,i=n.locale,s=n.cb,a=this._resolveLocaleFile(r,i),o=JSON.stringify(this.cache[i],null,2);ai.fs.writeFile(a,o,"utf-8",function(l){e.writeQueue.shift(),e.writeQueue.length>0&&e._processWriteQueue(),s(l)})}_readLocaleFile(){let e={},n=this._resolveLocaleFile(this.directory,this.locale);try{ai.fs.readFileSync&&(e=JSON.parse(ai.fs.readFileSync(n,"utf-8")))}catch(r){if(r instanceof SyntaxError&&(r.message="syntax error in "+n),r.code==="ENOENT")e={};else throw r}this.cache[this.locale]=e}_resolveLocaleFile(e,n){let r=ai.resolve(e,"./",n+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(r)&&~n.lastIndexOf("_")){let i=ai.resolve(e,"./",n.split("_")[0]+".json");this._fileExistsSync(i)&&(r=i)}return r}_fileExistsSync(e){return ai.exists(e)}};function nk(t,e){ai=e;let n=new NC(t);return{__:n.__.bind(n),__n:n.__n.bind(n),setLocale:n.setLocale.bind(n),getLocale:n.getLocale.bind(n),updateLocale:n.updateLocale.bind(n),locale:n.locale}}var rk={fs:{readFileSync:gh.readFileSync,writeFile:gh.writeFile},format:ek.format,resolve:tk.resolve,exists:t=>{try{return gh.statSync(t).isFile()}catch{return!1}}},ik=t=>nk(t,rk);CC.exports=ik});var yh=X((See,wC)=>{"use strict";var sk=require("util"),DC=require("path"),ak=require("fs");function Jl(t){if(t!==t.toLowerCase()&&t!==t.toUpperCase()||(t=t.toLowerCase()),t.indexOf("-")===-1&&t.indexOf("_")===-1)return t;{let n="",r=!1,i=t.match(/^-+/);for(let s=i?i[0].length:0;s<t.length;s++){let a=t.charAt(s);r&&(r=!1,a=a.toUpperCase()),s!==0&&(a==="-"||a==="_")?r=!0:a!=="-"&&a!=="_"&&(n+=a)}return n}}function SC(t,e){let n=t.toLowerCase();e=e||"-";let r="";for(let i=0;i<t.length;i++){let s=n.charAt(i),a=t.charAt(i);s!==a&&i>0?r+=`${e}${n.charAt(i)}`:r+=a}return r}function AC(t){return t==null?!1:typeof t=="number"||/^0x[0-9a-f]+$/i.test(t)?!0:/^0[^.]/.test(t)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}function ok(t){if(Array.isArray(t))return t.map(a=>typeof a!="string"?a+"":a);t=t.trim();let e=0,n=null,r=null,i=null,s=[];for(let a=0;a<t.length;a++){if(n=r,r=t.charAt(a),r===" "&&!i){n!==" "&&e++;continue}r===i?i=null:(r==="'"||r==='"')&&!i&&(i=r),s[e]||(s[e]=""),s[e]+=r}return s}var oi;(function(t){t.BOOLEAN="boolean",t.STRING="string",t.NUMBER="number",t.ARRAY="array"})(oi||(oi={}));var Yi,IC=class{constructor(e){Yi=e}parse(e,n){let r=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},n),i=ok(e),s=typeof e=="string",a=lk(Object.assign(Object.create(null),r.alias)),o=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},r.configuration),l=Object.assign(Object.create(null),r.default),u=r.configObjects||[],c=r.envPrefix,f=o["populate--"],m=f?"--":"_",y=Object.create(null),p=Object.create(null),d=r.__||Yi.format,g={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},h=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,b=new RegExp("^--"+o["negation-prefix"]+"(.+)");[].concat(r.array||[]).filter(Boolean).forEach(function(R){let B=typeof R=="object"?R.key:R,te=Object.keys(R).map(function(G){return{boolean:"bools",string:"strings",number:"numbers"}[G]}).filter(Boolean).pop();te&&(g[te][B]=!0),g.arrays[B]=!0,g.keys.push(B)}),[].concat(r.boolean||[]).filter(Boolean).forEach(function(R){g.bools[R]=!0,g.keys.push(R)}),[].concat(r.string||[]).filter(Boolean).forEach(function(R){g.strings[R]=!0,g.keys.push(R)}),[].concat(r.number||[]).filter(Boolean).forEach(function(R){g.numbers[R]=!0,g.keys.push(R)}),[].concat(r.count||[]).filter(Boolean).forEach(function(R){g.counts[R]=!0,g.keys.push(R)}),[].concat(r.normalize||[]).filter(Boolean).forEach(function(R){g.normalize[R]=!0,g.keys.push(R)}),typeof r.narg=="object"&&Object.entries(r.narg).forEach(([R,B])=>{typeof B=="number"&&(g.nargs[R]=B,g.keys.push(R))}),typeof r.coerce=="object"&&Object.entries(r.coerce).forEach(([R,B])=>{typeof B=="function"&&(g.coercions[R]=B,g.keys.push(R))}),typeof r.config!="undefined"&&(Array.isArray(r.config)||typeof r.config=="string"?[].concat(r.config).filter(Boolean).forEach(function(R){g.configs[R]=!0}):typeof r.config=="object"&&Object.entries(r.config).forEach(([R,B])=>{(typeof B=="boolean"||typeof B=="function")&&(g.configs[R]=B)})),Ge(r.key,a,r.default,g.arrays),Object.keys(l).forEach(function(R){(g.aliases[R]||[]).forEach(function(B){l[B]=l[R]})});let _=null;qo();let N=[],C=Object.assign(Object.create(null),{_:[]}),W={};for(let R=0;R<i.length;R++){let B=i[R],te=B.replace(/^-{3,}/,"---"),G,k,ce,le,he,bt;if(B!=="--"&&vn(B))L(B);else if(te.match(/---+(=|$)/)){L(B);continue}else if(B.match(/^--.+=/)||!o["short-option-groups"]&&B.match(/^-.+=/))le=B.match(/^--?([^=]+)=([\s\S]*)$/),le!==null&&Array.isArray(le)&&le.length>=3&&(J(le[1],g.arrays)?R=H(R,le[1],i,le[2]):J(le[1],g.nargs)!==!1?R=M(R,le[1],i,le[2]):$(le[1],le[2],!0));else if(B.match(b)&&o["boolean-negation"])le=B.match(b),le!==null&&Array.isArray(le)&&le.length>=2&&(k=le[1],$(k,J(k,g.arrays)?[!1]:!1));else if(B.match(/^--.+/)||!o["short-option-groups"]&&B.match(/^-[^-]+/))le=B.match(/^--?(.+)/),le!==null&&Array.isArray(le)&&le.length>=2&&(k=le[1],J(k,g.arrays)?R=H(R,k,i):J(k,g.nargs)!==!1?R=M(R,k,i):(he=i[R+1],he!==void 0&&(!he.match(/^-/)||he.match(h))&&!J(k,g.bools)&&!J(k,g.counts)||/^(true|false)$/.test(he)?($(k,he),R++):$(k,ui(k))));else if(B.match(/^-.\..+=/))le=B.match(/^-([^=]+)=([\s\S]*)$/),le!==null&&Array.isArray(le)&&le.length>=3&&$(le[1],le[2]);else if(B.match(/^-.\..+/)&&!B.match(h))he=i[R+1],le=B.match(/^-(.\..+)/),le!==null&&Array.isArray(le)&&le.length>=2&&(k=le[1],he!==void 0&&!he.match(/^-/)&&!J(k,g.bools)&&!J(k,g.counts)?($(k,he),R++):$(k,ui(k)));else if(B.match(/^-[^-]+/)&&!B.match(h)){ce=B.slice(1,-1).split(""),G=!1;for(let Ft=0;Ft<ce.length;Ft++){if(he=B.slice(Ft+2),ce[Ft+1]&&ce[Ft+1]==="="){bt=B.slice(Ft+3),k=ce[Ft],J(k,g.arrays)?R=H(R,k,i,bt):J(k,g.nargs)!==!1?R=M(R,k,i,bt):$(k,bt),G=!0;break}if(he==="-"){$(ce[Ft],he);continue}if(/[A-Za-z]/.test(ce[Ft])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(he)&&J(he,g.bools)===!1){$(ce[Ft],he),G=!0;break}if(ce[Ft+1]&&ce[Ft+1].match(/\W/)){$(ce[Ft],he),G=!0;break}else $(ce[Ft],ui(ce[Ft]))}k=B.slice(-1)[0],!G&&k!=="-"&&(J(k,g.arrays)?R=H(R,k,i):J(k,g.nargs)!==!1?R=M(R,k,i):(he=i[R+1],he!==void 0&&(!/^(-|--)[^-]/.test(he)||he.match(h))&&!J(k,g.bools)&&!J(k,g.counts)||/^(true|false)$/.test(he)?($(k,he),R++):$(k,ui(k))))}else if(B.match(/^-[0-9]$/)&&B.match(h)&&J(B.slice(1),g.bools))k=B.slice(1),$(k,ui(k));else if(B==="--"){N=i.slice(R+1);break}else if(o["halt-at-non-option"]){N=i.slice(R);break}else L(B)}ct(C,!0),ct(C,!1),Pe(C),De(),ft(C,g.aliases,l,!0),Qt(C),o["set-placeholder-key"]&&Je(C),Object.keys(g.counts).forEach(function(R){pe(C,R.split("."))||$(R,0)}),f&&N.length&&(C[m]=[]),N.forEach(function(R){C[m].push(R)}),o["camel-case-expansion"]&&o["strip-dashed"]&&Object.keys(C).filter(R=>R!=="--"&&R.includes("-")).forEach(R=>{delete C[R]}),o["strip-aliased"]&&[].concat(...Object.keys(a).map(R=>a[R])).forEach(R=>{o["camel-case-expansion"]&&R.includes("-")&&delete C[R.split(".").map(B=>Jl(B)).join(".")],delete C[R]});function L(R){let B=ye("_",R);(typeof B=="string"||typeof B=="number")&&C._.push(B)}function M(R,B,te,G){let k,ce=J(B,g.nargs);if(ce=typeof ce!="number"||isNaN(ce)?1:ce,ce===0)return Gn(G)||(_=Error(d("Argument unexpected for: %s",B))),$(B,ui(B)),R;let le=Gn(G)?0:1;if(o["nargs-eats-options"])te.length-(R+1)+le<ce&&(_=Error(d("Not enough arguments following: %s",B))),le=ce;else{for(k=R+1;k<te.length&&(!te[k].match(/^-[^0-9]/)||te[k].match(h)||vn(te[k]));k++)le++;le<ce&&(_=Error(d("Not enough arguments following: %s",B)))}let he=Math.min(le,ce);for(!Gn(G)&&he>0&&($(B,G),he--),k=R+1;k<he+R+1;k++)$(B,te[k]);return R+he}function H(R,B,te,G){let k=[],ce=G||te[R+1],le=J(B,g.nargs);if(J(B,g.bools)&&!/^(true|false)$/.test(ce))k.push(!0);else if(Gn(ce)||Gn(G)&&/^-/.test(ce)&&!h.test(ce)&&!vn(ce)){if(l[B]!==void 0){let he=l[B];k=Array.isArray(he)?he:[he]}}else{Gn(G)||k.push(re(B,G,!0));for(let he=R+1;he<te.length&&!(!o["greedy-arrays"]&&k.length>0||le&&typeof le=="number"&&k.length>=le||(ce=te[he],/^-/.test(ce)&&!h.test(ce)&&!vn(ce)));he++)R=he,k.push(re(B,ce,s))}return typeof le=="number"&&(le&&k.length<le||isNaN(le)&&k.length===0)&&(_=Error(d("Not enough arguments following: %s",B))),$(B,k),R}function $(R,B,te=s){if(/-/.test(R)&&o["camel-case-expansion"]){let ce=R.split(".").map(function(le){return Jl(le)}).join(".");ne(R,ce)}let G=re(R,B,te),k=R.split(".");Re(C,k,G),g.aliases[R]&&g.aliases[R].forEach(function(ce){let le=ce.split(".");Re(C,le,G)}),k.length>1&&o["dot-notation"]&&(g.aliases[k[0]]||[]).forEach(function(ce){let le=ce.split("."),he=[].concat(k);he.shift(),le=le.concat(he),(g.aliases[R]||[]).includes(le.join("."))||Re(C,le,G)}),J(R,g.normalize)&&!J(R,g.arrays)&&[R].concat(g.aliases[R]||[]).forEach(function(le){Object.defineProperty(W,le,{enumerable:!0,get(){return B},set(he){B=typeof he=="string"?Yi.normalize(he):he}})})}function ne(R,B){g.aliases[R]&&g.aliases[R].length||(g.aliases[R]=[B],y[B]=!0),g.aliases[B]&&g.aliases[B].length||ne(B,R)}function re(R,B,te){te&&(B=uk(B)),(J(R,g.bools)||J(R,g.counts))&&typeof B=="string"&&(B=B==="true");let G=Array.isArray(B)?B.map(function(k){return ye(R,k)}):ye(R,B);return J(R,g.counts)&&(Gn(G)||typeof G=="boolean")&&(G=_h()),J(R,g.normalize)&&J(R,g.arrays)&&(Array.isArray(B)?G=B.map(k=>Yi.normalize(k)):G=Yi.normalize(B)),G}function ye(R,B){return!o["parse-positional-numbers"]&&R==="_"||!J(R,g.strings)&&!J(R,g.bools)&&!Array.isArray(B)&&(AC(B)&&o["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${B}`)))||!Gn(B)&&J(R,g.numbers))&&(B=Number(B)),B}function Pe(R){let B=Object.create(null);ft(B,g.aliases,l),Object.keys(g.configs).forEach(function(te){let G=R[te]||B[te];if(G)try{let k=null,ce=Yi.resolve(Yi.cwd(),G),le=g.configs[te];if(typeof le=="function"){try{k=le(ce)}catch(he){k=he}if(k instanceof Error){_=k;return}}else k=Yi.require(ce);oe(k)}catch(k){k.name==="PermissionDenied"?_=k:R[te]&&(_=Error(d("Invalid JSON config file: %s",G)))}})}function oe(R,B){Object.keys(R).forEach(function(te){let G=R[te],k=B?B+"."+te:te;typeof G=="object"&&G!==null&&!Array.isArray(G)&&o["dot-notation"]?oe(G,k):(!pe(C,k.split("."))||J(k,g.arrays)&&o["combine-arrays"])&&$(k,G)})}function De(){typeof u!="undefined"&&u.forEach(function(R){oe(R)})}function ct(R,B){if(typeof c=="undefined")return;let te=typeof c=="string"?c:"",G=Yi.env();Object.keys(G).forEach(function(k){if(te===""||k.lastIndexOf(te,0)===0){let ce=k.split("__").map(function(le,he){return he===0&&(le=le.substring(te.length)),Jl(le)});(B&&g.configs[ce.join(".")]||!B)&&!pe(R,ce)&&$(ce.join("."),G[k])}})}function Qt(R){let B,te=new Set;Object.keys(R).forEach(function(G){if(!te.has(G)&&(B=J(G,g.coercions),typeof B=="function"))try{let k=ye(G,B(R[G]));[].concat(g.aliases[G]||[],G).forEach(ce=>{te.add(ce),R[ce]=k})}catch(k){_=k}})}function Je(R){return g.keys.forEach(B=>{~B.indexOf(".")||typeof R[B]=="undefined"&&(R[B]=void 0)}),R}function ft(R,B,te,G=!1){Object.keys(te).forEach(function(k){pe(R,k.split("."))||(Re(R,k.split("."),te[k]),G&&(p[k]=!0),(B[k]||[]).forEach(function(ce){pe(R,ce.split("."))||Re(R,ce.split("."),te[k])}))})}function pe(R,B){let te=R;o["dot-notation"]||(B=[B.join(".")]),B.slice(0,-1).forEach(function(k){te=te[k]||{}});let G=B[B.length-1];return typeof te!="object"?!1:G in te}function Re(R,B,te){let G=R;o["dot-notation"]||(B=[B.join(".")]),B.slice(0,-1).forEach(function(bt){bt=EC(bt),typeof G=="object"&&G[bt]===void 0&&(G[bt]={}),typeof G[bt]!="object"||Array.isArray(G[bt])?(Array.isArray(G[bt])?G[bt].push({}):G[bt]=[G[bt],{}],G=G[bt][G[bt].length-1]):G=G[bt]});let k=EC(B[B.length-1]),ce=J(B.join("."),g.arrays),le=Array.isArray(te),he=o["duplicate-arguments-array"];!he&&J(k,g.nargs)&&(he=!0,(!Gn(G[k])&&g.nargs[k]===1||Array.isArray(G[k])&&G[k].length===g.nargs[k])&&(G[k]=void 0)),te===_h()?G[k]=_h(G[k]):Array.isArray(G[k])?he&&ce&&le?G[k]=o["flatten-duplicate-arrays"]?G[k].concat(te):(Array.isArray(G[k][0])?G[k]:[G[k]]).concat([te]):!he&&Boolean(ce)===Boolean(le)?G[k]=te:G[k]=G[k].concat([te]):G[k]===void 0&&ce?G[k]=le?te:[te]:he&&!(G[k]===void 0||J(k,g.counts)||J(k,g.bools))?G[k]=[G[k],te]:G[k]=te}function Ge(...R){R.forEach(function(B){Object.keys(B||{}).forEach(function(te){g.aliases[te]||(g.aliases[te]=[].concat(a[te]||[]),g.aliases[te].concat(te).forEach(function(G){if(/-/.test(G)&&o["camel-case-expansion"]){let k=Jl(G);k!==te&&g.aliases[te].indexOf(k)===-1&&(g.aliases[te].push(k),y[k]=!0)}}),g.aliases[te].concat(te).forEach(function(G){if(G.length>1&&/[A-Z]/.test(G)&&o["camel-case-expansion"]){let k=SC(G,"-");k!==te&&g.aliases[te].indexOf(k)===-1&&(g.aliases[te].push(k),y[k]=!0)}}),g.aliases[te].forEach(function(G){g.aliases[G]=[te].concat(g.aliases[te].filter(function(k){return G!==k}))}))})})}function J(R,B){let te=[].concat(g.aliases[R]||[],R),G=Object.keys(B),k=te.find(ce=>G.includes(ce));return k?B[k]:!1}function pt(R){let B=Object.keys(g);return[].concat(B.map(G=>g[G])).some(function(G){return Array.isArray(G)?G.includes(R):G[R]})}function st(R,...B){return[].concat(...B).some(function(G){let k=R.match(G);return k&&pt(k[1])})}function Et(R){if(R.match(h)||!R.match(/^-[^-]+/))return!1;let B=!0,te,G=R.slice(1).split("");for(let k=0;k<G.length;k++){if(te=R.slice(k+2),!pt(G[k])){B=!1;break}if(G[k+1]&&G[k+1]==="="||te==="-"||/[A-Za-z]/.test(G[k])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(te)||G[k+1]&&G[k+1].match(/\W/))break}return B}function vn(R){return o["unknown-options-as-args"]&&Si(R)}function Si(R){return R=R.replace(/^-{3,}/,"--"),R.match(h)||Et(R)?!1:!st(R,/^-+([^=]+?)=[\s\S]*$/,b,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}function ui(R){return!J(R,g.bools)&&!J(R,g.counts)&&`${R}`in l?l[R]:Bo(Hi(R))}function Bo(R){return{[oi.BOOLEAN]:!0,[oi.STRING]:"",[oi.NUMBER]:void 0,[oi.ARRAY]:[]}[R]}function Hi(R){let B=oi.BOOLEAN;return J(R,g.strings)?B=oi.STRING:J(R,g.numbers)?B=oi.NUMBER:J(R,g.bools)?B=oi.BOOLEAN:J(R,g.arrays)&&(B=oi.ARRAY),B}function Gn(R){return R===void 0}function qo(){Object.keys(g.counts).find(R=>J(R,g.arrays)?(_=Error(d("Invalid configuration: %s, opts.count excludes opts.array.",R)),!0):J(R,g.nargs)?(_=Error(d("Invalid configuration: %s, opts.count excludes opts.narg.",R)),!0):!1)}return{aliases:Object.assign({},g.aliases),argv:Object.assign(W,C),configuration:o,defaulted:Object.assign({},p),error:_,newAliases:Object.assign({},y)}}};function lk(t){let e=[],n=Object.create(null),r=!0;for(Object.keys(t).forEach(function(i){e.push([].concat(t[i],i))});r;){r=!1;for(let i=0;i<e.length;i++)for(let s=i+1;s<e.length;s++)if(e[i].filter(function(o){return e[s].indexOf(o)!==-1}).length){e[i]=e[i].concat(e[s]),e.splice(s,1),r=!0;break}}return e.forEach(function(i){i=i.filter(function(a,o,l){return l.indexOf(a)===o});let s=i.pop();s!==void 0&&typeof s=="string"&&(n[s]=i)}),n}function _h(t){return t!==void 0?t+1:1}function EC(t){return t==="__proto__"?"___proto___":t}function uk(t){return typeof t=="string"&&(t[0]==="'"||t[0]==='"')&&t[t.length-1]===t[0]?t.substring(1,t.length-1):t}var xC=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12;if(process&&process.version&&Number(process.version.match(/v([^.]+)/)[1])<xC)throw Error(`yargs parser supports a minimum Node.js version of ${xC}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var ck=process?process.env:{},RC=new IC({cwd:process.cwd,env:()=>ck,format:sk.format,normalize:DC.normalize,resolve:DC.resolve,require:t=>{if(typeof require!="undefined")return require(t);if(t.match(/\.json$/))return JSON.parse(ak.readFileSync(t,"utf8"));throw Error("only .json config files are supported in ESM")}}),Zl=function(e,n){return RC.parse(e.slice(),n).argv};Zl.detailed=function(t,e){return RC.parse(t.slice(),e)};Zl.camelCase=Jl;Zl.decamelize=SC;Zl.looksLikeNumber=AC;wC.exports=Zl});var LC=X((Aee,OC)=>{"use strict";OC.exports=({onlyFirst:t=!1}={})=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}});var If=X((Iee,FC)=>{"use strict";var fk=LC();FC.exports=t=>typeof t=="string"?t.replace(fk(),""):t});var MC=X((Eee,bh)=>{"use strict";var kC=t=>Number.isNaN(t)?!1:t>=4352&&(t<=4447||t===9001||t===9002||11904<=t&&t<=12871&&t!==12351||12880<=t&&t<=19903||19968<=t&&t<=42182||43360<=t&&t<=43388||44032<=t&&t<=55203||63744<=t&&t<=64255||65040<=t&&t<=65049||65072<=t&&t<=65131||65281<=t&&t<=65376||65504<=t&&t<=65510||110592<=t&&t<=110593||127488<=t&&t<=127569||131072<=t&&t<=262141);bh.exports=kC;bh.exports.default=kC});var qC=X((xee,BC)=>{"use strict";BC.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}});var Ef=X((Ree,Th)=>{"use strict";var pk=If(),dk=MC(),mk=qC(),VC=t=>{if(typeof t!="string"||t.length===0||(t=pk(t),t.length===0))return 0;t=t.replace(mk(),"  ");let e=0;for(let n=0;n<t.length;n++){let r=t.codePointAt(n);r<=31||r>=127&&r<=159||r>=768&&r<=879||(r>65535&&n++,e+=dk(r)?2:1)}return e};Th.exports=VC;Th.exports.default=VC});var UC=X((wee,jC)=>{"use strict";jC.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var vh=X((Oee,GC)=>{var eu=UC(),WC={};for(let t of Object.keys(eu))WC[eu[t]]=t;var _e={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};GC.exports=_e;for(let t of Object.keys(_e)){if(!("channels"in _e[t]))throw new Error("missing channels property: "+t);if(!("labels"in _e[t]))throw new Error("missing channel labels property: "+t);if(_e[t].labels.length!==_e[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:n}=_e[t];delete _e[t].channels,delete _e[t].labels,Object.defineProperty(_e[t],"channels",{value:e}),Object.defineProperty(_e[t],"labels",{value:n})}_e.rgb.hsl=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=s-i,o,l;s===i?o=0:e===s?o=(n-r)/a:n===s?o=2+(r-e)/a:r===s&&(o=4+(e-n)/a),o=Math.min(o*60,360),o<0&&(o+=360);let u=(i+s)/2;return s===i?l=0:u<=.5?l=a/(s+i):l=a/(2-s-i),[o,l*100,u*100]};_e.rgb.hsv=function(t){let e,n,r,i,s,a=t[0]/255,o=t[1]/255,l=t[2]/255,u=Math.max(a,o,l),c=u-Math.min(a,o,l),f=function(m){return(u-m)/6/c+1/2};return c===0?(i=0,s=0):(s=c/u,e=f(a),n=f(o),r=f(l),a===u?i=r-n:o===u?i=1/3+e-r:l===u&&(i=2/3+n-e),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,u*100]};_e.rgb.hwb=function(t){let e=t[0],n=t[1],r=t[2],i=_e.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(n,r));return r=1-1/255*Math.max(e,Math.max(n,r)),[i,s*100,r*100]};_e.rgb.cmyk=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(1-e,1-n,1-r),s=(1-e-i)/(1-i)||0,a=(1-n-i)/(1-i)||0,o=(1-r-i)/(1-i)||0;return[s*100,a*100,o*100,i*100]};function hk(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}_e.rgb.keyword=function(t){let e=WC[t];if(e)return e;let n=1/0,r;for(let i of Object.keys(eu)){let s=eu[i],a=hk(t,s);a<n&&(n=a,r=i)}return r};_e.keyword.rgb=function(t){return eu[t]};_e.rgb.xyz=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;let i=e*.4124+n*.3576+r*.1805,s=e*.2126+n*.7152+r*.0722,a=e*.0193+n*.1192+r*.9505;return[i*100,s*100,a*100]};_e.rgb.lab=function(t){let e=_e.rgb.xyz(t),n=e[0],r=e[1],i=e[2];n/=95.047,r/=100,i/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let s=116*r-16,a=500*(n-r),o=200*(r-i);return[s,a,o]};_e.hsl.rgb=function(t){let e=t[0]/360,n=t[1]/100,r=t[2]/100,i,s,a;if(n===0)return a=r*255,[a,a,a];r<.5?i=r*(1+n):i=r+n-r*n;let o=2*r-i,l=[0,0,0];for(let u=0;u<3;u++)s=e+1/3*-(u-1),s<0&&s++,s>1&&s--,6*s<1?a=o+(i-o)*6*s:2*s<1?a=i:3*s<2?a=o+(i-o)*(2/3-s)*6:a=o,l[u]=a*255;return l};_e.hsl.hsv=function(t){let e=t[0],n=t[1]/100,r=t[2]/100,i=n,s=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,i*=s<=1?s:2-s;let a=(r+n)/2,o=r===0?2*i/(s+i):2*n/(r+n);return[e,o*100,a*100]};_e.hsv.rgb=function(t){let e=t[0]/60,n=t[1]/100,r=t[2]/100,i=Math.floor(e)%6,s=e-Math.floor(e),a=255*r*(1-n),o=255*r*(1-n*s),l=255*r*(1-n*(1-s));switch(r*=255,i){case 0:return[r,l,a];case 1:return[o,r,a];case 2:return[a,r,l];case 3:return[a,o,r];case 4:return[l,a,r];case 5:return[r,a,o]}};_e.hsv.hsl=function(t){let e=t[0],n=t[1]/100,r=t[2]/100,i=Math.max(r,.01),s,a;a=(2-n)*r;let o=(2-n)*i;return s=n*i,s/=o<=1?o:2-o,s=s||0,a/=2,[e,s*100,a*100]};_e.hwb.rgb=function(t){let e=t[0]/360,n=t[1]/100,r=t[2]/100,i=n+r,s;i>1&&(n/=i,r/=i);let a=Math.floor(6*e),o=1-r;s=6*e-a,(a&1)!==0&&(s=1-s);let l=n+s*(o-n),u,c,f;switch(a){default:case 6:case 0:u=o,c=l,f=n;break;case 1:u=l,c=o,f=n;break;case 2:u=n,c=o,f=l;break;case 3:u=n,c=l,f=o;break;case 4:u=l,c=n,f=o;break;case 5:u=o,c=n,f=l;break}return[u*255,c*255,f*255]};_e.cmyk.rgb=function(t){let e=t[0]/100,n=t[1]/100,r=t[2]/100,i=t[3]/100,s=1-Math.min(1,e*(1-i)+i),a=1-Math.min(1,n*(1-i)+i),o=1-Math.min(1,r*(1-i)+i);return[s*255,a*255,o*255]};_e.xyz.rgb=function(t){let e=t[0]/100,n=t[1]/100,r=t[2]/100,i,s,a;return i=e*3.2406+n*-1.5372+r*-.4986,s=e*-.9689+n*1.8758+r*.0415,a=e*.0557+n*-.204+r*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),a=Math.min(Math.max(0,a),1),[i*255,s*255,a*255]};_e.xyz.lab=function(t){let e=t[0],n=t[1],r=t[2];e/=95.047,n/=100,r/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;let i=116*n-16,s=500*(e-n),a=200*(n-r);return[i,s,a]};_e.lab.xyz=function(t){let e=t[0],n=t[1],r=t[2],i,s,a;s=(e+16)/116,i=n/500+s,a=s-r/200;let o=s**3,l=i**3,u=a**3;return s=o>.008856?o:(s-16/116)/7.787,i=l>.008856?l:(i-16/116)/7.787,a=u>.008856?u:(a-16/116)/7.787,i*=95.047,s*=100,a*=108.883,[i,s,a]};_e.lab.lch=function(t){let e=t[0],n=t[1],r=t[2],i;i=Math.atan2(r,n)*360/2/Math.PI,i<0&&(i+=360);let a=Math.sqrt(n*n+r*r);return[e,a,i]};_e.lch.lab=function(t){let e=t[0],n=t[1],i=t[2]/360*2*Math.PI,s=n*Math.cos(i),a=n*Math.sin(i);return[e,s,a]};_e.rgb.ansi16=function(t,e=null){let[n,r,i]=t,s=e===null?_e.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),s===0)return 30;let a=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return s===2&&(a+=60),a};_e.hsv.ansi16=function(t){return _e.rgb.ansi16(_e.hsv.rgb(t),t[2])};_e.rgb.ansi256=function(t){let e=t[0],n=t[1],r=t[2];return e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)};_e.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let n=(~~(t>50)+1)*.5,r=(e&1)*n*255,i=(e>>1&1)*n*255,s=(e>>2&1)*n*255;return[r,i,s]};_e.ansi256.rgb=function(t){if(t>=232){let s=(t-232)*10+8;return[s,s,s]}t-=16;let e,n=Math.floor(t/36)/5*255,r=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[n,r,i]};_e.rgb.hex=function(t){let n=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(n.length)+n};_e.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let n=e[0];e[0].length===3&&(n=n.split("").map(o=>o+o).join(""));let r=parseInt(n,16),i=r>>16&255,s=r>>8&255,a=r&255;return[i,s,a]};_e.rgb.hcg=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(Math.max(e,n),r),s=Math.min(Math.min(e,n),r),a=i-s,o,l;return a<1?o=s/(1-a):o=0,a<=0?l=0:i===e?l=(n-r)/a%6:i===n?l=2+(r-e)/a:l=4+(e-n)/a,l/=6,l%=1,[l*360,a*100,o*100]};_e.hsl.hcg=function(t){let e=t[1]/100,n=t[2]/100,r=n<.5?2*e*n:2*e*(1-n),i=0;return r<1&&(i=(n-.5*r)/(1-r)),[t[0],r*100,i*100]};_e.hsv.hcg=function(t){let e=t[1]/100,n=t[2]/100,r=e*n,i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],r*100,i*100]};_e.hcg.rgb=function(t){let e=t[0]/360,n=t[1]/100,r=t[2]/100;if(n===0)return[r*255,r*255,r*255];let i=[0,0,0],s=e%1*6,a=s%1,o=1-a,l=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=a,i[2]=0;break;case 1:i[0]=o,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=a;break;case 3:i[0]=0,i[1]=o,i[2]=1;break;case 4:i[0]=a,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=o}return l=(1-n)*r,[(n*i[0]+l)*255,(n*i[1]+l)*255,(n*i[2]+l)*255]};_e.hcg.hsv=function(t){let e=t[1]/100,n=t[2]/100,r=e+n*(1-e),i=0;return r>0&&(i=e/r),[t[0],i*100,r*100]};_e.hcg.hsl=function(t){let e=t[1]/100,r=t[2]/100*(1-e)+.5*e,i=0;return r>0&&r<.5?i=e/(2*r):r>=.5&&r<1&&(i=e/(2*(1-r))),[t[0],i*100,r*100]};_e.hcg.hwb=function(t){let e=t[1]/100,n=t[2]/100,r=e+n*(1-e);return[t[0],(r-e)*100,(1-r)*100]};_e.hwb.hcg=function(t){let e=t[1]/100,n=t[2]/100,r=1-n,i=r-e,s=0;return i<1&&(s=(r-i)/(1-i)),[t[0],i*100,s*100]};_e.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};_e.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};_e.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};_e.gray.hsl=function(t){return[0,0,t[0]]};_e.gray.hsv=_e.gray.hsl;_e.gray.hwb=function(t){return[0,100,t[0]]};_e.gray.cmyk=function(t){return[0,0,0,t[0]]};_e.gray.lab=function(t){return[t[0],0,0]};_e.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r};_e.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});var HC=X((Lee,YC)=>{var xf=vh();function gk(){let t={},e=Object.keys(xf);for(let n=e.length,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}function _k(t){let e=gk(),n=[t];for(e[t].distance=0;n.length;){let r=n.pop(),i=Object.keys(xf[r]);for(let s=i.length,a=0;a<s;a++){let o=i[a],l=e[o];l.distance===-1&&(l.distance=e[r].distance+1,l.parent=r,n.unshift(o))}}return e}function yk(t,e){return function(n){return e(t(n))}}function bk(t,e){let n=[e[t].parent,t],r=xf[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)n.unshift(e[i].parent),r=yk(xf[e[i].parent][i],r),i=e[i].parent;return r.conversion=n,r}YC.exports=function(t){let e=_k(t),n={},r=Object.keys(e);for(let i=r.length,s=0;s<i;s++){let a=r[s];e[a].parent!==null&&(n[a]=bk(a,e))}return n}});var KC=X((Fee,$C)=>{var Nh=vh(),Tk=HC(),Io={},vk=Object.keys(Nh);function Nk(t){let e=function(...n){let r=n[0];return r==null?r:(r.length>1&&(n=r),t(n))};return"conversion"in t&&(e.conversion=t.conversion),e}function Ck(t){let e=function(...n){let r=n[0];if(r==null)return r;r.length>1&&(n=r);let i=t(n);if(typeof i=="object")for(let s=i.length,a=0;a<s;a++)i[a]=Math.round(i[a]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}vk.forEach(t=>{Io[t]={},Object.defineProperty(Io[t],"channels",{value:Nh[t].channels}),Object.defineProperty(Io[t],"labels",{value:Nh[t].labels});let e=Tk(t);Object.keys(e).forEach(r=>{let i=e[r];Io[t][r]=Ck(i),Io[t][r].raw=Nk(i)})});$C.exports=Io});var eP=X((kee,ZC)=>{"use strict";var zC=(t,e)=>(...n)=>`\x1B[${t(...n)+e}m`,XC=(t,e)=>(...n)=>{let r=t(...n);return`\x1B[${38+e};5;${r}m`},QC=(t,e)=>(...n)=>{let r=t(...n);return`\x1B[${38+e};2;${r[0]};${r[1]};${r[2]}m`},Rf=t=>t,JC=(t,e,n)=>[t,e,n],Eo=(t,e,n)=>{Object.defineProperty(t,e,{get:()=>{let r=n();return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0}),r},enumerable:!0,configurable:!0})},Ch,xo=(t,e,n,r)=>{Ch===void 0&&(Ch=KC());let i=r?10:0,s={};for(let[a,o]of Object.entries(Ch)){let l=a==="ansi16"?"ansi":a;a===e?s[l]=t(n,i):typeof o=="object"&&(s[l]=t(o[e],i))}return s};function Pk(){let t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright,e.bgColor.bgGray=e.bgColor.bgBlackBright,e.color.grey=e.color.blackBright,e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(let[n,r]of Object.entries(e)){for(let[i,s]of Object.entries(r))e[i]={open:`\x1B[${s[0]}m`,close:`\x1B[${s[1]}m`},r[i]=e[i],t.set(s[0],s[1]);Object.defineProperty(e,n,{value:r,enumerable:!1})}return Object.defineProperty(e,"codes",{value:t,enumerable:!1}),e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",Eo(e.color,"ansi",()=>xo(zC,"ansi16",Rf,!1)),Eo(e.color,"ansi256",()=>xo(XC,"ansi256",Rf,!1)),Eo(e.color,"ansi16m",()=>xo(QC,"rgb",JC,!1)),Eo(e.bgColor,"ansi",()=>xo(zC,"ansi16",Rf,!0)),Eo(e.bgColor,"ansi256",()=>xo(XC,"ansi256",Rf,!0)),Eo(e.bgColor,"ansi16m",()=>xo(QC,"rgb",JC,!0)),e}Object.defineProperty(ZC,"exports",{enumerable:!0,get:Pk})});var aP=X((Mee,sP)=>{"use strict";var tu=Ef(),Dk=If(),Sk=eP(),wf=new Set(["\x1B","\x9B"]),Ak=39,Ph="\x07",tP="[",Ik="]",nP="m",Dh=`${Ik}8;;`,rP=t=>`${wf.values().next().value}${tP}${t}${nP}`,iP=t=>`${wf.values().next().value}${Dh}${t}${Ph}`,Ek=t=>t.split(" ").map(e=>tu(e)),Sh=(t,e,n)=>{let r=[...e],i=!1,s=!1,a=tu(Dk(t[t.length-1]));for(let[o,l]of r.entries()){let u=tu(l);if(a+u<=n?t[t.length-1]+=l:(t.push(l),a=0),wf.has(l)&&(i=!0,s=r.slice(o+1).join("").startsWith(Dh)),i){s?l===Ph&&(i=!1,s=!1):l===nP&&(i=!1);continue}a+=u,a===n&&o<r.length-1&&(t.push(""),a=0)}!a&&t[t.length-1].length>0&&t.length>1&&(t[t.length-2]+=t.pop())},xk=t=>{let e=t.split(" "),n=e.length;for(;n>0&&!(tu(e[n-1])>0);)n--;return n===e.length?t:e.slice(0,n).join(" ")+e.slice(n).join("")},Rk=(t,e,n={})=>{if(n.trim!==!1&&t.trim()==="")return"";let r="",i,s,a=Ek(t),o=[""];for(let[u,c]of t.split(" ").entries()){n.trim!==!1&&(o[o.length-1]=o[o.length-1].trimStart());let f=tu(o[o.length-1]);if(u!==0&&(f>=e&&(n.wordWrap===!1||n.trim===!1)&&(o.push(""),f=0),(f>0||n.trim===!1)&&(o[o.length-1]+=" ",f++)),n.hard&&a[u]>e){let m=e-f,y=1+Math.floor((a[u]-m-1)/e);Math.floor((a[u]-1)/e)<y&&o.push(""),Sh(o,c,e);continue}if(f+a[u]>e&&f>0&&a[u]>0){if(n.wordWrap===!1&&f<e){Sh(o,c,e);continue}o.push("")}if(f+a[u]>e&&n.wordWrap===!1){Sh(o,c,e);continue}o[o.length-1]+=c}n.trim!==!1&&(o=o.map(xk));let l=[...o.join(`
`)];for(let[u,c]of l.entries()){if(r+=c,wf.has(c)){let{groups:m}=new RegExp(`(?:\\${tP}(?<code>\\d+)m|\\${Dh}(?<uri>.*)${Ph})`).exec(l.slice(u).join(""))||{groups:{}};if(m.code!==void 0){let y=Number.parseFloat(m.code);i=y===Ak?void 0:y}else m.uri!==void 0&&(s=m.uri.length===0?void 0:m.uri)}let f=Sk.codes.get(Number(i));l[u+1]===`
`?(s&&(r+=iP("")),i&&f&&(r+=rP(f))):c===`
`&&(i&&f&&(r+=rP(i)),s&&(r+=iP(s)))}return r};sP.exports=(t,e,n)=>String(t).normalize().replace(/\r\n/g,`
`).split(`
`).map(r=>Rk(r,e,n)).join(`
`)});var cP=X((Bee,uP)=>{"use strict";var wk={right:Mk,center:Bk},Ok=0,Of=1,Lk=2,Lf=3,oP=class{constructor(e){var n;this.width=e.width,this.wrap=(n=e.wrap)!==null&&n!==void 0?n:!0,this.rows=[]}span(...e){let n=this.div(...e);n.span=!0}resetOutput(){this.rows=[]}div(...e){if(e.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...e)&&typeof e[0]=="string")return this.applyLayoutDSL(e[0]);let n=e.map(r=>typeof r=="string"?this.colFromString(r):r);return this.rows.push(n),n}shouldApplyLayoutDSL(...e){return e.length===1&&typeof e[0]=="string"&&/[\t\n]/.test(e[0])}applyLayoutDSL(e){let n=e.split(`
`).map(i=>i.split("	")),r=0;return n.forEach(i=>{i.length>1&&ar.stringWidth(i[0])>r&&(r=Math.min(Math.floor(this.width*.5),ar.stringWidth(i[0])))}),n.forEach(i=>{this.div(...i.map((s,a)=>({text:s.trim(),padding:this.measurePadding(s),width:a===0&&i.length>1?r:void 0})))}),this.rows[this.rows.length-1]}colFromString(e){return{text:e,padding:this.measurePadding(e)}}measurePadding(e){let n=ar.stripAnsi(e);return[0,n.match(/\s*$/)[0].length,0,n.match(/^\s*/)[0].length]}toString(){let e=[];return this.rows.forEach(n=>{this.rowToString(n,e)}),e.filter(n=>!n.hidden).map(n=>n.text).join(`
`)}rowToString(e,n){return this.rasterize(e).forEach((r,i)=>{let s="";r.forEach((a,o)=>{let{width:l}=e[o],u=this.negatePadding(e[o]),c=a;u>ar.stringWidth(a)&&(c+=" ".repeat(u-ar.stringWidth(a))),e[o].align&&e[o].align!=="left"&&this.wrap&&(c=wk[e[o].align](c,u),ar.stringWidth(c)<u&&(c+=" ".repeat((l||0)-ar.stringWidth(c)-1)));let f=e[o].padding||[0,0,0,0];f[Lf]&&(s+=" ".repeat(f[Lf])),s+=lP(e[o],c,"| "),s+=c,s+=lP(e[o],c," |"),f[Of]&&(s+=" ".repeat(f[Of])),i===0&&n.length>0&&(s=this.renderInline(s,n[n.length-1]))}),n.push({text:s.replace(/ +$/,""),span:e.span})}),n}renderInline(e,n){let r=e.match(/^ */),i=r?r[0].length:0,s=n.text,a=ar.stringWidth(s.trimRight());return n.span?this.wrap?i<a?e:(n.hidden=!0,s.trimRight()+" ".repeat(i-a)+e.trimLeft()):(n.hidden=!0,s+e):e}rasterize(e){let n=[],r=this.columnWidths(e),i;return e.forEach((s,a)=>{s.width=r[a],this.wrap?i=ar.wrap(s.text,this.negatePadding(s),{hard:!0}).split(`
`):i=s.text.split(`
`),s.border&&(i.unshift("."+"-".repeat(this.negatePadding(s)+2)+"."),i.push("'"+"-".repeat(this.negatePadding(s)+2)+"'")),s.padding&&(i.unshift(...new Array(s.padding[Ok]||0).fill("")),i.push(...new Array(s.padding[Lk]||0).fill(""))),i.forEach((o,l)=>{n[l]||n.push([]);let u=n[l];for(let c=0;c<a;c++)u[c]===void 0&&u.push("");u.push(o)})}),n}negatePadding(e){let n=e.width||0;return e.padding&&(n-=(e.padding[Lf]||0)+(e.padding[Of]||0)),e.border&&(n-=4),n}columnWidths(e){if(!this.wrap)return e.map(a=>a.width||ar.stringWidth(a.text));let n=e.length,r=this.width,i=e.map(a=>{if(a.width)return n--,r-=a.width,a.width}),s=n?Math.floor(r/n):0;return i.map((a,o)=>a===void 0?Math.max(s,Fk(e[o])):a)}};function lP(t,e,n){return t.border?/[.']-+[.']/.test(e)?"":e.trim().length!==0?n:"  ":""}function Fk(t){let e=t.padding||[],n=1+(e[Lf]||0)+(e[Of]||0);return t.border?n+4:n}function kk(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}function Mk(t,e){t=t.trim();let n=ar.stringWidth(t);return n<e?" ".repeat(e-n)+t:t}function Bk(t,e){t=t.trim();let n=ar.stringWidth(t);return n>=e?t:" ".repeat(e-n>>1)+t}var ar;function qk(t,e){return ar=e,new oP({width:(t==null?void 0:t.width)||kk(),wrap:t==null?void 0:t.wrap})}var Vk=Ef(),jk=If(),Uk=aP();function Wk(t){return qk(t,{stringWidth:Vk,stripAnsi:jk,wrap:Uk})}uP.exports=Wk});var mP=X((qee,dP)=>{var{dirname:fP,resolve:pP}=require("path"),{readdirSync:Gk,statSync:Yk}=require("fs");dP.exports=function(t,e){let n=pP(".",t),r;for(Yk(n).isDirectory()||(n=fP(n));;){if(r=e(n,Gk(n)),r)return pP(n,r);if(n=fP(r=n),r===n)break}}});var gP=X((Vee,hP)=>{"use strict";hP.exports=function(e){if(e===void 0&&(e=2),e>=Error.stackTraceLimit)throw new TypeError("getCallerFile(position) requires position be less then Error.stackTraceLimit but position was: `"+e+"` and Error.stackTraceLimit was: `"+Error.stackTraceLimit+"`");var n=Error.prepareStackTrace;Error.prepareStackTrace=function(i,s){return s};var r=new Error().stack;if(Error.prepareStackTrace=n,r!==null&&typeof r=="object")return r[e]?r[e].getFileName():void 0}});var TP=X((jee,Ih)=>{"use strict";var _P=require("fs"),Hk=require("path").join,$k=require("path").resolve,yP=require("path").dirname,Ah={extensions:["js","json","coffee"],recurse:!0,rename:function(t){return t},visit:function(t){return t}};function Kk(t,e,n){return new RegExp("\\.("+n.extensions.join("|")+")$","i").test(e)&&!(n.include&&n.include instanceof RegExp&&!n.include.test(t))&&!(n.include&&typeof n.include=="function"&&!n.include(t,e))&&!(n.exclude&&n.exclude instanceof RegExp&&n.exclude.test(t))&&!(n.exclude&&typeof n.exclude=="function"&&n.exclude(t,e))}function bP(t,e,n){var r={};e&&!n&&typeof e!="string"&&(n=e,e=null),n=n||{};for(var i in Ah)typeof n[i]=="undefined"&&(n[i]=Ah[i]);return e=e?$k(yP(t.filename),e):yP(t.filename),_P.readdirSync(e).forEach(function(s){var a=Hk(e,s),o,l,u;_P.statSync(a).isDirectory()&&n.recurse?(o=bP(t,a,n),Object.keys(o).length&&(r[n.rename(s,a,s)]=o)):a!==t.filename&&Kk(a,s,n)&&(l=s.substring(0,s.lastIndexOf(".")),u=t.require(a),r[n.rename(l,a,s)]=n.visit(u,a,s)||u)}),r}Ih.exports=bP;Ih.exports.defaults=Ah});var tD=X((Uee,eD)=>{"use strict";var vP=require("assert"),Xt=class extends Error{constructor(e){super(e||"yargs error"),this.name="YError",Error.captureStackTrace(this,Xt)}},nu,Eh=[];function Ff(t,e,n,r){nu=r;let i={};if(Object.prototype.hasOwnProperty.call(t,"extends")){if(typeof t.extends!="string")return i;let s=/\.json|\..*rc$/.test(t.extends),a=null;if(s)a=function(o,l){return nu.path.resolve(o,l)}(e,t.extends);else try{a=require.resolve(t.extends)}catch{return t}(function(o){if(Eh.indexOf(o)>-1)throw new Xt(`Circular extended configurations: '${o}'.`)})(a),Eh.push(a),i=s?JSON.parse(nu.readFileSync(a,"utf8")):require(t.extends),delete t.extends,i=Ff(i,nu.path.dirname(a),n,nu)}return Eh=[],n?NP(i,t):Object.assign({},i,t)}function NP(t,e){let n={};function r(i){return i&&typeof i=="object"&&!Array.isArray(i)}Object.assign(n,t);for(let i of Object.keys(e))r(e[i])&&r(n[i])?n[i]=NP(t[i],e[i]):n[i]=e[i];return n}function Ro(t){let e=t.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,r=e.shift();if(!r)throw new Error(`No command found in: ${t}`);let i={cmd:r.replace(n,""),demanded:[],optional:[]};return e.forEach((s,a)=>{let o=!1;s=s.replace(/\s/g,""),/\.+[\]>]/.test(s)&&a===e.length-1&&(o=!0),/^\[/.test(s)?i.optional.push({cmd:s.replace(n,"").split("|"),variadic:o}):i.demanded.push({cmd:s.replace(n,"").split("|"),variadic:o})}),i}var zk=["first","second","third","fourth","fifth","sixth"];function de(t,e,n){try{let r=0,[i,s,a]=typeof t=="object"?[{demanded:[],optional:[]},t,e]:[Ro(`cmd ${t}`),e,n],o=[].slice.call(s);for(;o.length&&o[o.length-1]===void 0;)o.pop();let l=a||o.length;if(l<i.demanded.length)throw new Xt(`Not enough arguments provided. Expected ${i.demanded.length} but received ${o.length}.`);let u=i.demanded.length+i.optional.length;if(l>u)throw new Xt(`Too many arguments provided. Expected max ${u} but received ${l}.`);i.demanded.forEach(c=>{let f=CP(o.shift());c.cmd.filter(m=>m===f||m==="*").length===0&&PP(f,c.cmd,r),r+=1}),i.optional.forEach(c=>{if(o.length===0)return;let f=CP(o.shift());c.cmd.filter(m=>m===f||m==="*").length===0&&PP(f,c.cmd,r),r+=1})}catch(r){console.warn(r.stack)}}function CP(t){return Array.isArray(t)?"array":t===null?"null":typeof t}function PP(t,e,n){throw new Xt(`Invalid ${zk[n]||"manyith"} argument. Expected ${e.join(" or ")} but received ${t}.`)}function Wt(t){return!!t&&!!t.then&&typeof t.then=="function"}function li(t,e,n,r){n.assert.notStrictEqual(t,e,r)}function DP(t,e){e.assert.strictEqual(typeof t,"string")}function kf(t){return Object.keys(t)}function wo(t={},e=()=>!0){let n={};return kf(t).forEach(r=>{e(r,t[r])&&(n[r]=t[r])}),n}function SP(){return process.versions.electron&&!process.defaultApp?0:1}function AP(){return process.argv[SP()]}var Xk=Object.freeze({__proto__:null,hideBin:function(t){return t.slice(SP()+1)},getProcessArgvBin:AP});function P(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function me(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}var IP=class{constructor(e){this.globalMiddleware=[],this.frozens=[],this.yargs=e}addMiddleware(e,n,r=!0,i=!1){if(de("<array|function> [boolean] [boolean] [boolean]",[e,n,r],arguments.length),Array.isArray(e)){for(let s=0;s<e.length;s++){if(typeof e[s]!="function")throw Error("middleware must be a function");let a=e[s];a.applyBeforeValidation=n,a.global=r}Array.prototype.push.apply(this.globalMiddleware,e)}else if(typeof e=="function"){let s=e;s.applyBeforeValidation=n,s.global=r,s.mutates=i,this.globalMiddleware.push(e)}return this.yargs}addCoerceMiddleware(e,n){let r=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(i=>{let s=[...r[n]||[],n];return!i.option||!s.includes(i.option)}),e.option=n,this.addMiddleware(e,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){let e=this.frozens.pop();e!==void 0&&(this.globalMiddleware=e)}reset(){this.globalMiddleware=this.globalMiddleware.filter(e=>e.global)}};function ru(t,e,n,r){return n.reduce((i,s)=>{if(s.applyBeforeValidation!==r)return i;if(s.mutates){if(s.applied)return i;s.applied=!0}if(Wt(i))return i.then(a=>Promise.all([a,s(a,e)])).then(([a,o])=>Object.assign(a,o));{let a=s(i,e);return Wt(a)?a.then(o=>Object.assign(i,o)):Object.assign(i,a)}},t)}function iu(t,e,n=r=>{throw r}){try{let r=typeof t=="function"?t():t;return Wt(r)?r.then(i=>e(i)):e(r)}catch(r){return n(r)}}var Oo=/(^\*)|(^\$0)/,EP=class{constructor(e,n,r,i){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=i,this.usage=e,this.globalMiddleware=r,this.validation=n}addDirectory(e,n,r,i){typeof(i=i||{}).recurse!="boolean"&&(i.recurse=!1),Array.isArray(i.extensions)||(i.extensions=["js"]);let s=typeof i.visit=="function"?i.visit:a=>a;i.visit=(a,o,l)=>{let u=s(a,o,l);if(u){if(this.requireCache.has(o))return u;this.requireCache.add(o),this.addHandler(u)}return u},this.shim.requireDirectory({require:n,filename:r},e,i)}addHandler(e,n,r,i,s,a){let o=[],l=function(u){return u?u.map(c=>(c.applyBeforeValidation=!1,c)):[]}(s);if(i=i||(()=>{}),Array.isArray(e))if(function(u){return u.every(c=>typeof c=="string")}(e))[e,...o]=e;else for(let u of e)this.addHandler(u);else{if(function(u){return typeof u=="object"&&!Array.isArray(u)}(e)){let u=Array.isArray(e.command)||typeof e.command=="string"?e.command:this.moduleName(e);return e.aliases&&(u=[].concat(u).concat(e.aliases)),void this.addHandler(u,this.extractDesc(e),e.builder,e.handler,e.middlewares,e.deprecated)}if(xP(r))return void this.addHandler([e].concat(o),n,r.builder,r.handler,r.middlewares,r.deprecated)}if(typeof e=="string"){let u=Ro(e);o=o.map(m=>Ro(m).cmd);let c=!1,f=[u.cmd].concat(o).filter(m=>!Oo.test(m)||(c=!0,!1));f.length===0&&c&&f.push("$0"),c&&(u.cmd=f[0],o=f.slice(1),e=e.replace(Oo,u.cmd)),o.forEach(m=>{this.aliasMap[m]=u.cmd}),n!==!1&&this.usage.command(e,n,c,o,a),this.handlers[u.cmd]={original:e,description:n,handler:i,builder:r||{},middlewares:l,deprecated:a,demanded:u.demanded,optional:u.optional},c&&(this.defaultCommand=this.handlers[u.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(e,n,r,i,s,a){let o=this.handlers[e]||this.handlers[this.aliasMap[e]]||this.defaultCommand,l=n.getInternalMethods().getContext(),u=l.commands.slice(),c=!e;e&&(l.commands.push(e),l.fullCommands.push(o.original));let f=this.applyBuilderUpdateUsageAndParse(c,o,n,r.aliases,u,i,s,a);return Wt(f)?f.then(m=>this.applyMiddlewareAndGetResult(c,o,m.innerArgv,l,s,m.aliases,n)):this.applyMiddlewareAndGetResult(c,o,f.innerArgv,l,s,f.aliases,n)}applyBuilderUpdateUsageAndParse(e,n,r,i,s,a,o,l){let u=n.builder,c=r;if(xh(u)){let f=u(r.getInternalMethods().reset(i),l);if(Wt(f))return f.then(m=>{var y;return c=(y=m)&&typeof y.getInternalMethods=="function"?m:r,this.parseAndUpdateUsage(e,n,c,s,a,o)})}else(function(f){return typeof f=="object"})(u)&&(c=r.getInternalMethods().reset(i),Object.keys(n.builder).forEach(f=>{c.option(f,u[f])}));return this.parseAndUpdateUsage(e,n,c,s,a,o)}parseAndUpdateUsage(e,n,r,i,s,a){e&&r.getInternalMethods().getUsageInstance().unfreeze(),this.shouldUpdateUsage(r)&&r.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(i,n),n.description);let o=r.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,s,a);return Wt(o)?o.then(l=>({aliases:r.parsed.aliases,innerArgv:l})):{aliases:r.parsed.aliases,innerArgv:o}}shouldUpdateUsage(e){return!e.getInternalMethods().getUsageInstance().getUsageDisabled()&&e.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(e,n){let r=Oo.test(n.original)?n.original.replace(Oo,"").trim():n.original,i=e.filter(s=>!Oo.test(s));return i.push(r),`$0 ${i.join(" ")}`}applyMiddlewareAndGetResult(e,n,r,i,s,a,o){let l={};if(s)return r;o.getInternalMethods().getHasOutput()||(l=this.populatePositionals(n,r,i,o));let u=this.globalMiddleware.getMiddleware().slice(0).concat(n.middlewares);if(r=ru(r,o,u,!0),!o.getInternalMethods().getHasOutput()){let c=o.getInternalMethods().runValidation(a,l,o.parsed.error,e);r=iu(r,f=>(c(f),f))}if(n.handler&&!o.getInternalMethods().getHasOutput()){o.getInternalMethods().setHasOutput();let c=!!o.getOptions().configuration["populate--"];o.getInternalMethods().postProcess(r,c,!1,!1),r=iu(r=ru(r,o,u,!1),f=>{let m=n.handler(f);return Wt(m)?m.then(()=>f):f}),e||o.getInternalMethods().getUsageInstance().cacheHelpMessage(),Wt(r)&&!o.getInternalMethods().hasParseCallback()&&r.catch(f=>{try{o.getInternalMethods().getUsageInstance().fail(null,f)}catch{}})}return e||(i.commands.pop(),i.fullCommands.pop()),r}populatePositionals(e,n,r,i){n._=n._.slice(r.commands.length);let s=e.demanded.slice(0),a=e.optional.slice(0),o={};for(this.validation.positionalCount(s.length,n._.length);s.length;){let l=s.shift();this.populatePositional(l,n,o)}for(;a.length;){let l=a.shift();this.populatePositional(l,n,o)}return n._=r.commands.concat(n._.map(l=>""+l)),this.postProcessPositionals(n,o,this.cmdToParseOptions(e.original),i),o}populatePositional(e,n,r){let i=e.cmd[0];e.variadic?r[i]=n._.splice(0).map(String):n._.length&&(r[i]=[String(n._.shift())])}cmdToParseOptions(e){let n={array:[],default:{},alias:{},demand:{}},r=Ro(e);return r.demanded.forEach(i=>{let[s,...a]=i.cmd;i.variadic&&(n.array.push(s),n.default[s]=[]),n.alias[s]=a,n.demand[s]=!0}),r.optional.forEach(i=>{let[s,...a]=i.cmd;i.variadic&&(n.array.push(s),n.default[s]=[]),n.alias[s]=a}),n}postProcessPositionals(e,n,r,i){let s=Object.assign({},i.getOptions());s.default=Object.assign(r.default,s.default);for(let u of Object.keys(r.alias))s.alias[u]=(s.alias[u]||[]).concat(r.alias[u]);s.array=s.array.concat(r.array),s.config={};let a=[];if(Object.keys(n).forEach(u=>{n[u].map(c=>{s.configuration["unknown-options-as-args"]&&(s.key[u]=!0),a.push(`--${u}`),a.push(c)})}),!a.length)return;let o=Object.assign({},s.configuration,{"populate--":!1}),l=this.shim.Parser.detailed(a,Object.assign({},s,{configuration:o}));if(l.error)i.getInternalMethods().getUsageInstance().fail(l.error.message,l.error);else{let u=Object.keys(n);Object.keys(n).forEach(f=>{u.push(...l.aliases[f])});let c=i.getOptions().default;Object.keys(l.argv).forEach(f=>{u.includes(f)&&(n[f]||(n[f]=l.argv[f]),!Object.prototype.hasOwnProperty.call(c,f)&&Object.prototype.hasOwnProperty.call(e,f)&&Object.prototype.hasOwnProperty.call(l.argv,f)&&(Array.isArray(e[f])||Array.isArray(l.argv[f]))?e[f]=[].concat(e[f],l.argv[f]):e[f]=l.argv[f])})}}runDefaultBuilderOn(e){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(e)){let r=Oo.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");e.getInternalMethods().getUsageInstance().usage(r,this.defaultCommand.description)}let n=this.defaultCommand.builder;if(xh(n))return n(e,!0);xP(n)||Object.keys(n).forEach(r=>{e.option(r,n[r])})}moduleName(e){let n=function(r){if(typeof require=="undefined")return null;for(let i,s=0,a=Object.keys(require.cache);s<a.length;s++)if(i=require.cache[a[s]],i.exports===r)return i;return null}(e);if(!n)throw new Error(`No command name given for module: ${this.shim.inspect(e)}`);return this.commandFromFilename(n.filename)}commandFromFilename(e){return this.shim.path.basename(e,this.shim.path.extname(e))}extractDesc({describe:e,description:n,desc:r}){for(let i of[e,n,r]){if(typeof i=="string"||i===!1)return i;li(i,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){let e=this.frozens.pop();li(e,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=e}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}};function xP(t){return typeof t=="object"&&!!t.builder&&typeof t.handler=="function"}function xh(t){return typeof t=="function"}function su(t){typeof process!="undefined"&&[process.stdout,process.stderr].forEach(e=>{let n=e;n._handle&&n.isTTY&&typeof n._handle.setBlocking=="function"&&n._handle.setBlocking(t)})}function Qk(t){return typeof t=="boolean"}function Jk(t,e){let n=e.y18n.__,r={},i=[];r.failFn=function(M){i.push(M)};let s=null,a=!0;r.showHelpOnFail=function(M=!0,H){let[$,ne]=typeof M=="string"?[!0,M]:[M,H];return s=ne,a=$,r};let o=!1;r.fail=function(M,H){let $=t.getInternalMethods().getLoggerInstance();if(!i.length){if(t.getExitProcess()&&su(!0),o||(o=!0,a&&(t.showHelp("error"),$.error()),(M||H)&&$.error(M||H),s&&((M||H)&&$.error(""),$.error(s))),H=H||new Xt(M),t.getExitProcess())return t.exit(1);if(t.getInternalMethods().hasParseCallback())return t.exit(1,H);throw H}for(let ne=i.length-1;ne>=0;--ne){let re=i[ne];if(Qk(re)){if(H)throw H;if(M)throw Error(M)}else re(M,H,r)}};let l=[],u=!1;r.usage=(M,H)=>M===null?(u=!0,l=[],r):(u=!1,l.push([M,H||""]),r),r.getUsage=()=>l,r.getUsageDisabled=()=>u,r.getPositionalGroupName=()=>n("Positionals:");let c=[];r.example=(M,H)=>{c.push([M,H||""])};let f=[];r.command=function(M,H,$,ne,re=!1){$&&(f=f.map(ye=>(ye[2]=!1,ye))),f.push([M,H||"",$,ne,re])},r.getCommands=()=>f;let m={};r.describe=function(M,H){Array.isArray(M)?M.forEach($=>{r.describe($,H)}):typeof M=="object"?Object.keys(M).forEach($=>{r.describe($,M[$])}):m[M]=H},r.getDescriptions=()=>m;let y=[];r.epilog=M=>{y.push(M)};let p,d=!1;function g(){return d||(p=function(){let M=80;return e.process.stdColumns?Math.min(M,e.process.stdColumns):M}(),d=!0),p}r.wrap=M=>{d=!0,p=M};let h="__yargsString__:";function b(M,H,$){let ne=0;return Array.isArray(M)||(M=Object.values(M).map(re=>[re])),M.forEach(re=>{ne=Math.max(e.stringWidth($?`${$} ${Mf(re[0])}`:Mf(re[0]))+RP(re[0]),ne)}),H&&(ne=Math.min(ne,parseInt((.5*H).toString(),10))),ne}let _;function N(M){return t.getOptions().hiddenOptions.indexOf(M)<0||t.parsed.argv[t.getOptions().showHiddenOpt]}function C(M,H){let $=`[${n("default:")} `;if(M===void 0&&!H)return null;if(H)$+=H;else switch(typeof M){case"string":$+=`"${M}"`;break;case"object":$+=JSON.stringify(M);break;default:$+=M}return`${$}]`}r.deferY18nLookup=M=>h+M,r.help=function(){if(_)return _;(function(){let pe=t.getDemandedOptions(),Re=t.getOptions();(Object.keys(Re.alias)||[]).forEach(Ge=>{Re.alias[Ge].forEach(J=>{m[J]&&r.describe(Ge,m[J]),J in pe&&t.demandOption(Ge,pe[J]),Re.boolean.includes(J)&&t.boolean(Ge),Re.count.includes(J)&&t.count(Ge),Re.string.includes(J)&&t.string(Ge),Re.normalize.includes(J)&&t.normalize(Ge),Re.array.includes(J)&&t.array(Ge),Re.number.includes(J)&&t.number(Ge)})})})();let M=t.customScriptName?t.$0:e.path.basename(t.$0),H=t.getDemandedOptions(),$=t.getDemandedCommands(),ne=t.getDeprecatedOptions(),re=t.getGroups(),ye=t.getOptions(),Pe=[];Pe=Pe.concat(Object.keys(m)),Pe=Pe.concat(Object.keys(H)),Pe=Pe.concat(Object.keys($)),Pe=Pe.concat(Object.keys(ye.default)),Pe=Pe.filter(N),Pe=Object.keys(Pe.reduce((pe,Re)=>(Re!=="_"&&(pe[Re]=!0),pe),{}));let oe=g(),De=e.cliui({width:oe,wrap:!!oe});if(!u){if(l.length)l.forEach(pe=>{De.div({text:`${pe[0].replace(/\$0/g,M)}`}),pe[1]&&De.div({text:`${pe[1]}`,padding:[1,0,0,0]})}),De.div();else if(f.length){let pe=null;pe=$._?`${M} <${n("command")}>
`:`${M} [${n("command")}]
`,De.div(`${pe}`)}}if(f.length>1||f.length===1&&!f[0][2]){De.div(n("Commands:"));let pe=t.getInternalMethods().getContext(),Re=pe.commands.length?`${pe.commands.join(" ")} `:"";t.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(f=f.sort((J,pt)=>J[0].localeCompare(pt[0])));let Ge=M?`${M} `:"";f.forEach(J=>{let pt=`${Ge}${Re}${J[0].replace(/^\$0 ?/,"")}`;De.span({text:pt,padding:[0,2,0,2],width:b(f,oe,`${M}${Re}`)+4},{text:J[1]});let st=[];J[2]&&st.push(`[${n("default")}]`),J[3]&&J[3].length&&st.push(`[${n("aliases:")} ${J[3].join(", ")}]`),J[4]&&(typeof J[4]=="string"?st.push(`[${n("deprecated: %s",J[4])}]`):st.push(`[${n("deprecated")}]`)),st.length?De.div({text:st.join(" "),padding:[0,0,0,2],align:"right"}):De.div()}),De.div()}let ct=(Object.keys(ye.alias)||[]).concat(Object.keys(t.parsed.newAliases)||[]);Pe=Pe.filter(pe=>!t.parsed.newAliases[pe]&&ct.every(Re=>(ye.alias[Re]||[]).indexOf(pe)===-1));let Qt=n("Options:");re[Qt]||(re[Qt]=[]),function(pe,Re,Ge,J){let pt=[],st=null;Object.keys(Ge).forEach(Et=>{pt=pt.concat(Ge[Et])}),pe.forEach(Et=>{st=[Et].concat(Re[Et]),st.some(vn=>pt.indexOf(vn)!==-1)||Ge[J].push(Et)})}(Pe,ye.alias,re,Qt);let Je=pe=>/^--/.test(Mf(pe)),ft=Object.keys(re).filter(pe=>re[pe].length>0).map(pe=>({groupName:pe,normalizedKeys:re[pe].filter(N).map(Re=>{if(ct.includes(Re))return Re;for(let Ge,J=0;(Ge=ct[J])!==void 0;J++)if((ye.alias[Ge]||[]).includes(Re))return Ge;return Re})})).filter(({normalizedKeys:pe})=>pe.length>0).map(({groupName:pe,normalizedKeys:Re})=>{let Ge=Re.reduce((J,pt)=>(J[pt]=[pt].concat(ye.alias[pt]||[]).map(st=>pe===r.getPositionalGroupName()?st:(/^[0-9]$/.test(st)?ye.boolean.includes(pt)?"-":"--":st.length>1?"--":"-")+st).sort((st,Et)=>Je(st)===Je(Et)?0:Je(st)?1:-1).join(", "),J),{});return{groupName:pe,normalizedKeys:Re,switches:Ge}});if(ft.filter(({groupName:pe})=>pe!==r.getPositionalGroupName()).some(({normalizedKeys:pe,switches:Re})=>!pe.every(Ge=>Je(Re[Ge])))&&ft.filter(({groupName:pe})=>pe!==r.getPositionalGroupName()).forEach(({normalizedKeys:pe,switches:Re})=>{pe.forEach(Ge=>{var J,pt;Je(Re[Ge])&&(Re[Ge]=(J=Re[Ge],pt="-x, ".length,Rh(J)?{text:J.text,indentation:J.indentation+pt}:{text:J,indentation:pt}))})}),ft.forEach(({groupName:pe,normalizedKeys:Re,switches:Ge})=>{De.div(pe),Re.forEach(J=>{let pt=Ge[J],st=m[J]||"",Et=null;st.includes(h)&&(st=n(st.substring(h.length))),ye.boolean.includes(J)&&(Et=`[${n("boolean")}]`),ye.count.includes(J)&&(Et=`[${n("count")}]`),ye.string.includes(J)&&(Et=`[${n("string")}]`),ye.normalize.includes(J)&&(Et=`[${n("string")}]`),ye.array.includes(J)&&(Et=`[${n("array")}]`),ye.number.includes(J)&&(Et=`[${n("number")}]`);let vn=[J in ne?(Si=ne[J],typeof Si=="string"?`[${n("deprecated: %s",Si)}]`:`[${n("deprecated")}]`):null,Et,J in H?`[${n("required")}]`:null,ye.choices&&ye.choices[J]?`[${n("choices:")} ${r.stringifiedValues(ye.choices[J])}]`:null,C(ye.default[J],ye.defaultDescription[J])].filter(Boolean).join(" ");var Si;De.span({text:Mf(pt),padding:[0,2,0,2+RP(pt)],width:b(Ge,oe)+4},st),vn?De.div({text:vn,padding:[0,0,0,2],align:"right"}):De.div()}),De.div()}),c.length&&(De.div(n("Examples:")),c.forEach(pe=>{pe[0]=pe[0].replace(/\$0/g,M)}),c.forEach(pe=>{pe[1]===""?De.div({text:pe[0],padding:[0,2,0,2]}):De.div({text:pe[0],padding:[0,2,0,2],width:b(c,oe)+4},{text:pe[1]})}),De.div()),y.length>0){let pe=y.map(Re=>Re.replace(/\$0/g,M)).join(`
`);De.div(`${pe}
`)}return De.toString().replace(/\s*$/,"")},r.cacheHelpMessage=function(){_=this.help()},r.clearCachedHelpMessage=function(){_=void 0},r.hasCachedHelpMessage=function(){return!!_},r.showHelp=M=>{let H=t.getInternalMethods().getLoggerInstance();M||(M="error"),(typeof M=="function"?M:H[M])(r.help())},r.functionDescription=M=>["(",M.name?e.Parser.decamelize(M.name,"-"):n("generated-value"),")"].join(""),r.stringifiedValues=function(M,H){let $="",ne=H||", ",re=[].concat(M);return M&&re.length&&re.forEach(ye=>{$.length&&($+=ne),$+=JSON.stringify(ye)}),$};let W=null;r.version=M=>{W=M},r.showVersion=M=>{let H=t.getInternalMethods().getLoggerInstance();M||(M="error"),(typeof M=="function"?M:H[M])(W)},r.reset=function(M){return s=null,o=!1,l=[],u=!1,y=[],c=[],f=[],m=wo(m,H=>!M[H]),r};let L=[];return r.freeze=function(){L.push({failMessage:s,failureOutput:o,usages:l,usageDisabled:u,epilogs:y,examples:c,commands:f,descriptions:m})},r.unfreeze=function(){let M=L.pop();M&&({failMessage:s,failureOutput:o,usages:l,usageDisabled:u,epilogs:y,examples:c,commands:f,descriptions:m}=M)},r}function Rh(t){return typeof t=="object"}function RP(t){return Rh(t)?t.indentation:0}function Mf(t){return Rh(t)?t.text:t}var wP=class{constructor(e,n,r,i){var s,a,o;this.yargs=e,this.usage=n,this.command=r,this.shim=i,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.zshShell=(o=((s=this.shim.getEnv("SHELL"))===null||s===void 0?void 0:s.includes("zsh"))||((a=this.shim.getEnv("ZSH_NAME"))===null||a===void 0?void 0:a.includes("zsh")))!==null&&o!==void 0&&o}defaultCompletion(e,n,r,i){let s=this.command.getCommandHandlers();for(let o=0,l=e.length;o<l;++o)if(s[e[o]]&&s[e[o]].builder){let u=s[e[o]].builder;if(xh(u)){let c=this.yargs.getInternalMethods().reset();return u(c,!0),c.argv}}let a=[];this.commandCompletions(a,e,r),this.optionCompletions(a,e,n,r),this.choicesCompletions(a,e,n,r),i(null,a)}commandCompletions(e,n,r){let i=this.yargs.getInternalMethods().getContext().commands;r.match(/^-/)||i[i.length-1]===r||this.previousArgHasChoices(n)||this.usage.getCommands().forEach(s=>{let a=Ro(s[0]).cmd;if(n.indexOf(a)===-1)if(this.zshShell){let o=s[1]||"";e.push(a.replace(/:/g,"\\:")+":"+o)}else e.push(a)})}optionCompletions(e,n,r,i){if((i.match(/^-/)||i===""&&e.length===0)&&!this.previousArgHasChoices(n)){let s=this.yargs.getOptions(),a=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(s.key).forEach(o=>{let l=!!s.configuration["boolean-negation"]&&s.boolean.includes(o);a.includes(o)||this.argsContainKey(n,r,o,l)||(this.completeOptionKey(o,e,i),l&&s.default[o]&&this.completeOptionKey(`no-${o}`,e,i))})}}choicesCompletions(e,n,r,i){if(this.previousArgHasChoices(n)){let s=this.getPreviousArgChoices(n);s&&s.length>0&&e.push(...s)}}getPreviousArgChoices(e){if(e.length<1)return;let n=e[e.length-1],r="";if(!n.startsWith("--")&&e.length>1&&(r=n,n=e[e.length-2]),!n.startsWith("--"))return;let i=n.replace(/-/g,""),s=this.yargs.getOptions();return Object.keys(s.key).some(a=>a===i)&&Array.isArray(s.choices[i])?s.choices[i].filter(a=>!r||a.startsWith(r)):void 0}previousArgHasChoices(e){let n=this.getPreviousArgChoices(e);return n!==void 0&&n.length>0}argsContainKey(e,n,r,i){if(e.indexOf(`--${r}`)!==-1||i&&e.indexOf(`--no-${r}`)!==-1)return!0;if(this.aliases){for(let s of this.aliases[r])if(n[s]!==void 0)return!0}return!1}completeOptionKey(e,n,r){let i=this.usage.getDescriptions(),s=!/^--/.test(r)&&(a=>/^[^0-9]$/.test(a))(e)?"-":"--";if(this.zshShell){let a=i[e]||"";n.push(s+`${e.replace(/:/g,"\\:")}:${a.replace("__yargsString__:","")}`)}else n.push(s+e)}customCompletion(e,n,r,i){if(li(this.customCompletionFunction,null,this.shim),this.customCompletionFunction.length<3){let s=this.customCompletionFunction(r,n);return Wt(s)?s.then(a=>{this.shim.process.nextTick(()=>{i(null,a)})}).catch(a=>{this.shim.process.nextTick(()=>{i(a,void 0)})}):i(null,s)}return function(s){return s.length>3}(this.customCompletionFunction)?this.customCompletionFunction(r,n,(s=i)=>this.defaultCompletion(e,n,r,s),s=>{i(null,s)}):this.customCompletionFunction(r,n,s=>{i(null,s)})}getCompletion(e,n){let r=e.length?e[e.length-1]:"",i=this.yargs.parse(e,!0),s=this.customCompletionFunction?a=>this.customCompletion(e,a,r,n):a=>this.defaultCompletion(e,a,r,n);return Wt(i)?i.then(s):s(i)}generateCompletionScript(e,n){let r=this.zshShell?`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zsh_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`:`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,i=this.shim.path.basename(e);return e.match(/\.js$/)&&(e=`./${e}`),r=r.replace(/{{app_name}}/g,i),r=r.replace(/{{completion_command}}/g,n),r.replace(/{{app_path}}/g,e)}registerFunction(e){this.customCompletionFunction=e}setParsed(e){this.aliases=e.aliases}};function Zk(t,e){if(t.length===0)return e.length;if(e.length===0)return t.length;let n=[],r,i;for(r=0;r<=e.length;r++)n[r]=[r];for(i=0;i<=t.length;i++)n[0][i]=i;for(r=1;r<=e.length;r++)for(i=1;i<=t.length;i++)e.charAt(r-1)===t.charAt(i-1)?n[r][i]=n[r-1][i-1]:r>1&&i>1&&e.charAt(r-2)===t.charAt(i-1)&&e.charAt(r-1)===t.charAt(i-2)?n[r][i]=n[r-2][i-2]+1:n[r][i]=Math.min(n[r-1][i-1]+1,Math.min(n[r][i-1]+1,n[r-1][i]+1));return n[e.length][t.length]}var OP=["$0","--","_"],Lt,oa,au,Er,or,Bf,Ps,la,qf,xr,Vf,Rr,Pi,lr,wr,Lo,an,be,jf,Uf,ur,ua,Fo,ca,Ds,Wf,Ee,fa,pa,da,Fe,Di,It,LP=Symbol("copyDoubleDash"),FP=Symbol("copyDoubleDash"),wh=Symbol("deleteFromParserHintObject"),kP=Symbol("emitWarning"),MP=Symbol("freeze"),BP=Symbol("getDollarZero"),ma=Symbol("getParserConfiguration"),Oh=Symbol("guessLocale"),qP=Symbol("guessVersion"),VP=Symbol("parsePositionalNumbers"),Lh=Symbol("pkgUp"),Ss=Symbol("populateParserHintArray"),ko=Symbol("populateParserHintSingleValueDictionary"),Fh=Symbol("populateParserHintArrayDictionary"),kh=Symbol("populateParserHintDictionary"),Mh=Symbol("sanitizeKey"),Bh=Symbol("setKey"),qh=Symbol("unfreeze"),jP=Symbol("validateAsync"),UP=Symbol("getCommandInstance"),WP=Symbol("getContext"),GP=Symbol("getHasOutput"),YP=Symbol("getLoggerInstance"),HP=Symbol("getParseContext"),$P=Symbol("getUsageInstance"),KP=Symbol("getValidationInstance"),Gf=Symbol("hasParseCallback"),ha=Symbol("postProcess"),zP=Symbol("rebase"),Vh=Symbol("reset"),ou=Symbol("runYargsParserAndExecuteCommands"),jh=Symbol("runValidation"),XP=Symbol("setHasOutput"),ga=Symbol("kTrackManuallySetKeys"),QP=class{constructor(e=[],n,r,i){this.customScriptName=!1,this.parsed=!1,Lt.set(this,void 0),oa.set(this,void 0),au.set(this,{commands:[],fullCommands:[]}),Er.set(this,null),or.set(this,null),Bf.set(this,"show-hidden"),Ps.set(this,null),la.set(this,!0),qf.set(this,{}),xr.set(this,!0),Vf.set(this,[]),Rr.set(this,void 0),Pi.set(this,{}),lr.set(this,!1),wr.set(this,null),Lo.set(this,void 0),an.set(this,""),be.set(this,void 0),jf.set(this,void 0),Uf.set(this,{}),ur.set(this,null),ua.set(this,null),Fo.set(this,{}),ca.set(this,{}),Ds.set(this,void 0),Wf.set(this,!1),Ee.set(this,void 0),fa.set(this,!1),pa.set(this,!1),da.set(this,!1),Fe.set(this,void 0),Di.set(this,null),It.set(this,void 0),me(this,Ee,i,"f"),me(this,Ds,e,"f"),me(this,oa,n,"f"),me(this,jf,r,"f"),me(this,Rr,new IP(this),"f"),this.$0=this[BP](),this[Vh](),me(this,Lt,P(this,Lt,"f"),"f"),me(this,Fe,P(this,Fe,"f"),"f"),me(this,It,P(this,It,"f"),"f"),me(this,be,P(this,be,"f"),"f"),P(this,be,"f").showHiddenOpt=P(this,Bf,"f"),me(this,Lo,this[FP](),"f")}addHelpOpt(e,n){return de("[string|boolean] [string]",[e,n],arguments.length),P(this,wr,"f")&&(this[wh](P(this,wr,"f")),me(this,wr,null,"f")),e===!1&&n===void 0||(me(this,wr,typeof e=="string"?e:"help","f"),this.boolean(P(this,wr,"f")),this.describe(P(this,wr,"f"),n||P(this,Fe,"f").deferY18nLookup("Show help"))),this}help(e,n){return this.addHelpOpt(e,n)}addShowHiddenOpt(e,n){if(de("[string|boolean] [string]",[e,n],arguments.length),e===!1&&n===void 0)return this;let r=typeof e=="string"?e:P(this,Bf,"f");return this.boolean(r),this.describe(r,n||P(this,Fe,"f").deferY18nLookup("Show hidden options")),P(this,be,"f").showHiddenOpt=r,this}showHidden(e,n){return this.addShowHiddenOpt(e,n)}alias(e,n){return de("<object|string|array> [string|array]",[e,n],arguments.length),this[Fh](this.alias.bind(this),"alias",e,n),this}array(e){return de("<array|string>",[e],arguments.length),this[Ss]("array",e),this[ga](e),this}boolean(e){return de("<array|string>",[e],arguments.length),this[Ss]("boolean",e),this[ga](e),this}check(e,n){return de("<function> [boolean]",[e,n],arguments.length),this.middleware((r,i)=>iu(()=>e(r,i.getOptions()),s=>(s?(typeof s=="string"||s instanceof Error)&&P(this,Fe,"f").fail(s.toString(),s):P(this,Fe,"f").fail(P(this,Ee,"f").y18n.__("Argument check failed: %s",e.toString())),r),s=>(P(this,Fe,"f").fail(s.message?s.message:s.toString(),s),r)),!1,n),this}choices(e,n){return de("<object|string|array> [string|array]",[e,n],arguments.length),this[Fh](this.choices.bind(this),"choices",e,n),this}coerce(e,n){if(de("<object|string|array> [function]",[e,n],arguments.length),Array.isArray(e)){if(!n)throw new Xt("coerce callback must be provided");for(let r of e)this.coerce(r,n);return this}if(typeof e=="object"){for(let r of Object.keys(e))this.coerce(r,e[r]);return this}if(!n)throw new Xt("coerce callback must be provided");return P(this,be,"f").key[e]=!0,P(this,Rr,"f").addCoerceMiddleware((r,i)=>{let s;return iu(()=>(s=i.getAliases(),n(r[e])),a=>{if(r[e]=a,s[e])for(let o of s[e])r[o]=a;return r},a=>{throw new Xt(a.message)})},e),this}conflicts(e,n){return de("<string|object> [string|array]",[e,n],arguments.length),P(this,It,"f").conflicts(e,n),this}config(e="config",n,r){return de("[object|string] [string|function] [function]",[e,n,r],arguments.length),typeof e!="object"||Array.isArray(e)?(typeof n=="function"&&(r=n,n=void 0),this.describe(e,n||P(this,Fe,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(e)?e:[e]).forEach(i=>{P(this,be,"f").config[i]=r||!0}),this):(e=Ff(e,P(this,oa,"f"),this[ma]()["deep-merge-config"]||!1,P(this,Ee,"f")),P(this,be,"f").configObjects=(P(this,be,"f").configObjects||[]).concat(e),this)}completion(e,n,r){return de("[string] [string|boolean|function] [function]",[e,n,r],arguments.length),typeof n=="function"&&(r=n,n=void 0),me(this,or,e||P(this,or,"f")||"completion","f"),n||n===!1||(n="generate completion script"),this.command(P(this,or,"f"),n),r&&P(this,Er,"f").registerFunction(r),this}command(e,n,r,i,s,a){return de("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[e,n,r,i,s,a],arguments.length),P(this,Lt,"f").addHandler(e,n,r,i,s,a),this}commands(e,n,r,i,s,a){return this.command(e,n,r,i,s,a)}commandDir(e,n){de("<string> [object]",[e,n],arguments.length);let r=P(this,jf,"f")||P(this,Ee,"f").require;return P(this,Lt,"f").addDirectory(e,r,P(this,Ee,"f").getCallerFile(),n),this}count(e){return de("<array|string>",[e],arguments.length),this[Ss]("count",e),this[ga](e),this}default(e,n,r){return de("<object|string|array> [*] [string]",[e,n,r],arguments.length),r&&(DP(e,P(this,Ee,"f")),P(this,be,"f").defaultDescription[e]=r),typeof n=="function"&&(DP(e,P(this,Ee,"f")),P(this,be,"f").defaultDescription[e]||(P(this,be,"f").defaultDescription[e]=P(this,Fe,"f").functionDescription(n)),n=n.call()),this[ko](this.default.bind(this),"default",e,n),this}defaults(e,n,r){return this.default(e,n,r)}demandCommand(e=1,n,r,i){return de("[number] [number|string] [string|null|undefined] [string|null|undefined]",[e,n,r,i],arguments.length),typeof n!="number"&&(r=n,n=1/0),this.global("_",!1),P(this,be,"f").demandedCommands._={min:e,max:n,minMsg:r,maxMsg:i},this}demand(e,n,r){return Array.isArray(n)?(n.forEach(i=>{li(r,!0,P(this,Ee,"f")),this.demandOption(i,r)}),n=1/0):typeof n!="number"&&(r=n,n=1/0),typeof e=="number"?(li(r,!0,P(this,Ee,"f")),this.demandCommand(e,n,r,r)):Array.isArray(e)?e.forEach(i=>{li(r,!0,P(this,Ee,"f")),this.demandOption(i,r)}):typeof r=="string"?this.demandOption(e,r):r!==!0&&r!==void 0||this.demandOption(e),this}demandOption(e,n){return de("<object|string|array> [string]",[e,n],arguments.length),this[ko](this.demandOption.bind(this),"demandedOptions",e,n),this}deprecateOption(e,n){return de("<string> [string|boolean]",[e,n],arguments.length),P(this,be,"f").deprecatedOptions[e]=n,this}describe(e,n){return de("<object|string|array> [string]",[e,n],arguments.length),this[Bh](e,!0),P(this,Fe,"f").describe(e,n),this}detectLocale(e){return de("<boolean>",[e],arguments.length),me(this,la,e,"f"),this}env(e){return de("[string|boolean]",[e],arguments.length),e===!1?delete P(this,be,"f").envPrefix:P(this,be,"f").envPrefix=e||"",this}epilogue(e){return de("<string>",[e],arguments.length),P(this,Fe,"f").epilog(e),this}epilog(e){return this.epilogue(e)}example(e,n){return de("<string|array> [string]",[e,n],arguments.length),Array.isArray(e)?e.forEach(r=>this.example(...r)):P(this,Fe,"f").example(e,n),this}exit(e,n){me(this,lr,!0,"f"),me(this,Ps,n,"f"),P(this,xr,"f")&&P(this,Ee,"f").process.exit(e)}exitProcess(e=!0){return de("[boolean]",[e],arguments.length),me(this,xr,e,"f"),this}fail(e){if(de("<function|boolean>",[e],arguments.length),typeof e=="boolean"&&e!==!1)throw new Xt("Invalid first argument. Expected function or boolean 'false'");return P(this,Fe,"f").failFn(e),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(e,n){return de("<array> [function]",[e,n],arguments.length),n?P(this,Er,"f").getCompletion(e,n):new Promise((r,i)=>{P(this,Er,"f").getCompletion(e,(s,a)=>{s?i(s):r(a)})})}getDemandedOptions(){return de([],0),P(this,be,"f").demandedOptions}getDemandedCommands(){return de([],0),P(this,be,"f").demandedCommands}getDeprecatedOptions(){return de([],0),P(this,be,"f").deprecatedOptions}getDetectLocale(){return P(this,la,"f")}getExitProcess(){return P(this,xr,"f")}getGroups(){return Object.assign({},P(this,Pi,"f"),P(this,ca,"f"))}getHelp(){if(me(this,lr,!0,"f"),!P(this,Fe,"f").hasCachedHelpMessage()){if(!this.parsed){let n=this[ou](P(this,Ds,"f"),void 0,void 0,0,!0);if(Wt(n))return n.then(()=>P(this,Fe,"f").help())}let e=P(this,Lt,"f").runDefaultBuilderOn(this);if(Wt(e))return e.then(()=>P(this,Fe,"f").help())}return Promise.resolve(P(this,Fe,"f").help())}getOptions(){return P(this,be,"f")}getStrict(){return P(this,fa,"f")}getStrictCommands(){return P(this,pa,"f")}getStrictOptions(){return P(this,da,"f")}global(e,n){return de("<string|array> [boolean]",[e,n],arguments.length),e=[].concat(e),n!==!1?P(this,be,"f").local=P(this,be,"f").local.filter(r=>e.indexOf(r)===-1):e.forEach(r=>{P(this,be,"f").local.includes(r)||P(this,be,"f").local.push(r)}),this}group(e,n){de("<string|array> <string>",[e,n],arguments.length);let r=P(this,ca,"f")[n]||P(this,Pi,"f")[n];P(this,ca,"f")[n]&&delete P(this,ca,"f")[n];let i={};return P(this,Pi,"f")[n]=(r||[]).concat(e).filter(s=>!i[s]&&(i[s]=!0)),this}hide(e){return de("<string>",[e],arguments.length),P(this,be,"f").hiddenOptions.push(e),this}implies(e,n){return de("<string|object> [number|string|array]",[e,n],arguments.length),P(this,It,"f").implies(e,n),this}locale(e){return de("[string]",[e],arguments.length),e?(me(this,la,!1,"f"),P(this,Ee,"f").y18n.setLocale(e),this):(this[Oh](),P(this,Ee,"f").y18n.getLocale())}middleware(e,n,r){return P(this,Rr,"f").addMiddleware(e,!!n,r)}nargs(e,n){return de("<string|object|array> [number]",[e,n],arguments.length),this[ko](this.nargs.bind(this),"narg",e,n),this}normalize(e){return de("<array|string>",[e],arguments.length),this[Ss]("normalize",e),this}number(e){return de("<array|string>",[e],arguments.length),this[Ss]("number",e),this[ga](e),this}option(e,n){if(de("<string|object> [object]",[e,n],arguments.length),typeof e=="object")Object.keys(e).forEach(r=>{this.options(r,e[r])});else{typeof n!="object"&&(n={}),this[ga](e),!P(this,Di,"f")||e!=="version"&&(n==null?void 0:n.alias)!=="version"||this[kP](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),P(this,be,"f").key[e]=!0,n.alias&&this.alias(e,n.alias);let r=n.deprecate||n.deprecated;r&&this.deprecateOption(e,r);let i=n.demand||n.required||n.require;i&&this.demand(e,i),n.demandOption&&this.demandOption(e,typeof n.demandOption=="string"?n.demandOption:void 0),n.conflicts&&this.conflicts(e,n.conflicts),"default"in n&&this.default(e,n.default),n.implies!==void 0&&this.implies(e,n.implies),n.nargs!==void 0&&this.nargs(e,n.nargs),n.config&&this.config(e,n.configParser),n.normalize&&this.normalize(e),n.choices&&this.choices(e,n.choices),n.coerce&&this.coerce(e,n.coerce),n.group&&this.group(e,n.group),(n.boolean||n.type==="boolean")&&(this.boolean(e),n.alias&&this.boolean(n.alias)),(n.array||n.type==="array")&&(this.array(e),n.alias&&this.array(n.alias)),(n.number||n.type==="number")&&(this.number(e),n.alias&&this.number(n.alias)),(n.string||n.type==="string")&&(this.string(e),n.alias&&this.string(n.alias)),(n.count||n.type==="count")&&this.count(e),typeof n.global=="boolean"&&this.global(e,n.global),n.defaultDescription&&(P(this,be,"f").defaultDescription[e]=n.defaultDescription),n.skipValidation&&this.skipValidation(e);let s=n.describe||n.description||n.desc;this.describe(e,s),n.hidden&&this.hide(e),n.requiresArg&&this.requiresArg(e)}return this}options(e,n){return this.option(e,n)}parse(e,n,r){de("[string|array] [function|boolean|object] [function]",[e,n,r],arguments.length),this[MP](),e===void 0&&(e=P(this,Ds,"f")),typeof n=="object"&&(me(this,ua,n,"f"),n=r),typeof n=="function"&&(me(this,ur,n,"f"),n=!1),n||me(this,Ds,e,"f"),P(this,ur,"f")&&me(this,xr,!1,"f");let i=this[ou](e,!!n),s=this.parsed;return P(this,Er,"f").setParsed(this.parsed),Wt(i)?i.then(a=>(P(this,ur,"f")&&P(this,ur,"f").call(this,P(this,Ps,"f"),a,P(this,an,"f")),a)).catch(a=>{throw P(this,ur,"f")&&P(this,ur,"f")(a,this.parsed.argv,P(this,an,"f")),a}).finally(()=>{this[qh](),this.parsed=s}):(P(this,ur,"f")&&P(this,ur,"f").call(this,P(this,Ps,"f"),i,P(this,an,"f")),this[qh](),this.parsed=s,i)}parseAsync(e,n,r){let i=this.parse(e,n,r);return Wt(i)?i:Promise.resolve(i)}parseSync(e,n,r){let i=this.parse(e,n,r);if(Wt(i))throw new Xt(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return i}parserConfiguration(e){return de("<object>",[e],arguments.length),me(this,Uf,e,"f"),this}pkgConf(e,n){de("<string> [string]",[e,n],arguments.length);let r=null,i=this[Lh](n||P(this,oa,"f"));return i[e]&&typeof i[e]=="object"&&(r=Ff(i[e],n||P(this,oa,"f"),this[ma]()["deep-merge-config"]||!1,P(this,Ee,"f")),P(this,be,"f").configObjects=(P(this,be,"f").configObjects||[]).concat(r)),this}positional(e,n){de("<string> <object>",[e,n],arguments.length);let r=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];n=wo(n,(a,o)=>!(a==="type"&&!["string","number","boolean"].includes(o))&&r.includes(a));let i=P(this,au,"f").fullCommands[P(this,au,"f").fullCommands.length-1],s=i?P(this,Lt,"f").cmdToParseOptions(i):{array:[],alias:{},default:{},demand:{}};return kf(s).forEach(a=>{let o=s[a];Array.isArray(o)?o.indexOf(e)!==-1&&(n[a]=!0):o[e]&&!(a in n)&&(n[a]=o[e])}),this.group(e,P(this,Fe,"f").getPositionalGroupName()),this.option(e,n)}recommendCommands(e=!0){return de("[boolean]",[e],arguments.length),me(this,Wf,e,"f"),this}required(e,n,r){return this.demand(e,n,r)}require(e,n,r){return this.demand(e,n,r)}requiresArg(e){return de("<array|string|object> [number]",[e],arguments.length),typeof e=="string"&&P(this,be,"f").narg[e]||this[ko](this.requiresArg.bind(this),"narg",e,NaN),this}showCompletionScript(e,n){return de("[string] [string]",[e,n],arguments.length),e=e||this.$0,P(this,Lo,"f").log(P(this,Er,"f").generateCompletionScript(e,n||P(this,or,"f")||"completion")),this}showHelp(e){if(de("[string|function]",[e],arguments.length),me(this,lr,!0,"f"),!P(this,Fe,"f").hasCachedHelpMessage()){if(!this.parsed){let r=this[ou](P(this,Ds,"f"),void 0,void 0,0,!0);if(Wt(r))return r.then(()=>{P(this,Fe,"f").showHelp(e)}),this}let n=P(this,Lt,"f").runDefaultBuilderOn(this);if(Wt(n))return n.then(()=>{P(this,Fe,"f").showHelp(e)}),this}return P(this,Fe,"f").showHelp(e),this}scriptName(e){return this.customScriptName=!0,this.$0=e,this}showHelpOnFail(e,n){return de("[boolean|string] [string]",[e,n],arguments.length),P(this,Fe,"f").showHelpOnFail(e,n),this}showVersion(e){return de("[string|function]",[e],arguments.length),P(this,Fe,"f").showVersion(e),this}skipValidation(e){return de("<array|string>",[e],arguments.length),this[Ss]("skipValidation",e),this}strict(e){return de("[boolean]",[e],arguments.length),me(this,fa,e!==!1,"f"),this}strictCommands(e){return de("[boolean]",[e],arguments.length),me(this,pa,e!==!1,"f"),this}strictOptions(e){return de("[boolean]",[e],arguments.length),me(this,da,e!==!1,"f"),this}string(e){return de("<array|string>",[e],arguments.length),this[Ss]("string",e),this[ga](e),this}terminalWidth(){return de([],0),P(this,Ee,"f").process.stdColumns}updateLocale(e){return this.updateStrings(e)}updateStrings(e){return de("<object>",[e],arguments.length),me(this,la,!1,"f"),P(this,Ee,"f").y18n.updateLocale(e),this}usage(e,n,r,i){if(de("<string|null|undefined> [string|boolean] [function|object] [function]",[e,n,r,i],arguments.length),n!==void 0){if(li(e,null,P(this,Ee,"f")),(e||"").match(/^\$0( |$)/))return this.command(e,n,r,i);throw new Xt(".usage() description must start with $0 if being used as alias for .command()")}return P(this,Fe,"f").usage(e),this}version(e,n,r){let i="version";if(de("[boolean|string] [string] [string]",[e,n,r],arguments.length),P(this,Di,"f")&&(this[wh](P(this,Di,"f")),P(this,Fe,"f").version(void 0),me(this,Di,null,"f")),arguments.length===0)r=this[qP](),e=i;else if(arguments.length===1){if(e===!1)return this;r=e,e=i}else arguments.length===2&&(r=n,n=void 0);return me(this,Di,typeof e=="string"?e:i,"f"),n=n||P(this,Fe,"f").deferY18nLookup("Show version number"),P(this,Fe,"f").version(r||void 0),this.boolean(P(this,Di,"f")),this.describe(P(this,Di,"f"),n),this}wrap(e){return de("<number|null|undefined>",[e],arguments.length),P(this,Fe,"f").wrap(e),this}[(Lt=new WeakMap,oa=new WeakMap,au=new WeakMap,Er=new WeakMap,or=new WeakMap,Bf=new WeakMap,Ps=new WeakMap,la=new WeakMap,qf=new WeakMap,xr=new WeakMap,Vf=new WeakMap,Rr=new WeakMap,Pi=new WeakMap,lr=new WeakMap,wr=new WeakMap,Lo=new WeakMap,an=new WeakMap,be=new WeakMap,jf=new WeakMap,Uf=new WeakMap,ur=new WeakMap,ua=new WeakMap,Fo=new WeakMap,ca=new WeakMap,Ds=new WeakMap,Wf=new WeakMap,Ee=new WeakMap,fa=new WeakMap,pa=new WeakMap,da=new WeakMap,Fe=new WeakMap,Di=new WeakMap,It=new WeakMap,LP)](e){if(!e._||!e["--"])return e;e._.push.apply(e._,e["--"]);try{delete e["--"]}catch{}return e}[FP](){return{log:(...e)=>{this[Gf]()||console.log(...e),me(this,lr,!0,"f"),P(this,an,"f").length&&me(this,an,P(this,an,"f")+`
`,"f"),me(this,an,P(this,an,"f")+e.join(" "),"f")},error:(...e)=>{this[Gf]()||console.error(...e),me(this,lr,!0,"f"),P(this,an,"f").length&&me(this,an,P(this,an,"f")+`
`,"f"),me(this,an,P(this,an,"f")+e.join(" "),"f")}}}[wh](e){kf(P(this,be,"f")).forEach(n=>{if(n==="configObjects")return;let r=P(this,be,"f")[n];Array.isArray(r)?r.includes(e)&&r.splice(r.indexOf(e),1):typeof r=="object"&&delete r[e]}),delete P(this,Fe,"f").getDescriptions()[e]}[kP](e,n,r){P(this,qf,"f")[r]||(P(this,Ee,"f").process.emitWarning(e,n),P(this,qf,"f")[r]=!0)}[MP](){P(this,Vf,"f").push({options:P(this,be,"f"),configObjects:P(this,be,"f").configObjects.slice(0),exitProcess:P(this,xr,"f"),groups:P(this,Pi,"f"),strict:P(this,fa,"f"),strictCommands:P(this,pa,"f"),strictOptions:P(this,da,"f"),completionCommand:P(this,or,"f"),output:P(this,an,"f"),exitError:P(this,Ps,"f"),hasOutput:P(this,lr,"f"),parsed:this.parsed,parseFn:P(this,ur,"f"),parseContext:P(this,ua,"f")}),P(this,Fe,"f").freeze(),P(this,It,"f").freeze(),P(this,Lt,"f").freeze(),P(this,Rr,"f").freeze()}[BP](){let e,n="";return e=/\b(node|iojs|electron)(\.exe)?$/.test(P(this,Ee,"f").process.argv()[0])?P(this,Ee,"f").process.argv().slice(1,2):P(this,Ee,"f").process.argv().slice(0,1),n=e.map(r=>{let i=this[zP](P(this,oa,"f"),r);return r.match(/^(\/|([a-zA-Z]:)?\\)/)&&i.length<r.length?i:r}).join(" ").trim(),P(this,Ee,"f").getEnv("_")&&P(this,Ee,"f").getProcessArgvBin()===P(this,Ee,"f").getEnv("_")&&(n=P(this,Ee,"f").getEnv("_").replace(`${P(this,Ee,"f").path.dirname(P(this,Ee,"f").process.execPath())}/`,"")),n}[ma](){return P(this,Uf,"f")}[Oh](){if(!P(this,la,"f"))return;let e=P(this,Ee,"f").getEnv("LC_ALL")||P(this,Ee,"f").getEnv("LC_MESSAGES")||P(this,Ee,"f").getEnv("LANG")||P(this,Ee,"f").getEnv("LANGUAGE")||"en_US";this.locale(e.replace(/[.:].*/,""))}[qP](){return this[Lh]().version||"unknown"}[VP](e){let n=e["--"]?e["--"]:e._;for(let r,i=0;(r=n[i])!==void 0;i++)P(this,Ee,"f").Parser.looksLikeNumber(r)&&Number.isSafeInteger(Math.floor(parseFloat(`${r}`)))&&(n[i]=Number(r));return e}[Lh](e){let n=e||"*";if(P(this,Fo,"f")[n])return P(this,Fo,"f")[n];let r={};try{let i=e||P(this,Ee,"f").mainFilename;!e&&P(this,Ee,"f").path.extname(i)&&(i=P(this,Ee,"f").path.dirname(i));let s=P(this,Ee,"f").findUp(i,(a,o)=>o.includes("package.json")?"package.json":void 0);li(s,void 0,P(this,Ee,"f")),r=JSON.parse(P(this,Ee,"f").readFileSync(s,"utf8"))}catch{}return P(this,Fo,"f")[n]=r||{},P(this,Fo,"f")[n]}[Ss](e,n){(n=[].concat(n)).forEach(r=>{r=this[Mh](r),P(this,be,"f")[e].push(r)})}[ko](e,n,r,i){this[kh](e,n,r,i,(s,a,o)=>{P(this,be,"f")[s][a]=o})}[Fh](e,n,r,i){this[kh](e,n,r,i,(s,a,o)=>{P(this,be,"f")[s][a]=(P(this,be,"f")[s][a]||[]).concat(o)})}[kh](e,n,r,i,s){if(Array.isArray(r))r.forEach(a=>{e(a,i)});else if((a=>typeof a=="object")(r))for(let a of kf(r))e(a,r[a]);else s(n,this[Mh](r),i)}[Mh](e){return e==="__proto__"?"___proto___":e}[Bh](e,n){return this[ko](this[Bh].bind(this),"key",e,n),this}[qh](){var e,n,r,i,s,a,o,l,u,c,f,m;let y=P(this,Vf,"f").pop(),p;li(y,void 0,P(this,Ee,"f")),e=this,n=this,r=this,i=this,s=this,a=this,o=this,l=this,u=this,c=this,f=this,m=this,{options:{set value(d){me(e,be,d,"f")}}.value,configObjects:p,exitProcess:{set value(d){me(n,xr,d,"f")}}.value,groups:{set value(d){me(r,Pi,d,"f")}}.value,output:{set value(d){me(i,an,d,"f")}}.value,exitError:{set value(d){me(s,Ps,d,"f")}}.value,hasOutput:{set value(d){me(a,lr,d,"f")}}.value,parsed:this.parsed,strict:{set value(d){me(o,fa,d,"f")}}.value,strictCommands:{set value(d){me(l,pa,d,"f")}}.value,strictOptions:{set value(d){me(u,da,d,"f")}}.value,completionCommand:{set value(d){me(c,or,d,"f")}}.value,parseFn:{set value(d){me(f,ur,d,"f")}}.value,parseContext:{set value(d){me(m,ua,d,"f")}}.value}=y,P(this,be,"f").configObjects=p,P(this,Fe,"f").unfreeze(),P(this,It,"f").unfreeze(),P(this,Lt,"f").unfreeze(),P(this,Rr,"f").unfreeze()}[jP](e,n){return iu(n,r=>(e(r),r))}getInternalMethods(){return{getCommandInstance:this[UP].bind(this),getContext:this[WP].bind(this),getHasOutput:this[GP].bind(this),getLoggerInstance:this[YP].bind(this),getParseContext:this[HP].bind(this),getParserConfiguration:this[ma].bind(this),getUsageInstance:this[$P].bind(this),getValidationInstance:this[KP].bind(this),hasParseCallback:this[Gf].bind(this),postProcess:this[ha].bind(this),reset:this[Vh].bind(this),runValidation:this[jh].bind(this),runYargsParserAndExecuteCommands:this[ou].bind(this),setHasOutput:this[XP].bind(this)}}[UP](){return P(this,Lt,"f")}[WP](){return P(this,au,"f")}[GP](){return P(this,lr,"f")}[YP](){return P(this,Lo,"f")}[HP](){return P(this,ua,"f")||{}}[$P](){return P(this,Fe,"f")}[KP](){return P(this,It,"f")}[Gf](){return!!P(this,ur,"f")}[ha](e,n,r,i){return r||Wt(e)?e:(n||(e=this[LP](e)),(this[ma]()["parse-positional-numbers"]||this[ma]()["parse-positional-numbers"]===void 0)&&(e=this[VP](e)),i&&(e=ru(e,this,P(this,Rr,"f").getMiddleware(),!1)),e)}[Vh](e={}){me(this,be,P(this,be,"f")||{},"f");let n={};n.local=P(this,be,"f").local||[],n.configObjects=P(this,be,"f").configObjects||[];let r={};return n.local.forEach(i=>{r[i]=!0,(e[i]||[]).forEach(s=>{r[s]=!0})}),Object.assign(P(this,ca,"f"),Object.keys(P(this,Pi,"f")).reduce((i,s)=>{let a=P(this,Pi,"f")[s].filter(o=>!(o in r));return a.length>0&&(i[s]=a),i},{})),me(this,Pi,{},"f"),["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"].forEach(i=>{n[i]=(P(this,be,"f")[i]||[]).filter(s=>!r[s])}),["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"].forEach(i=>{n[i]=wo(P(this,be,"f")[i],s=>!r[s])}),n.envPrefix=P(this,be,"f").envPrefix,me(this,be,n,"f"),me(this,Fe,P(this,Fe,"f")?P(this,Fe,"f").reset(r):Jk(this,P(this,Ee,"f")),"f"),me(this,It,P(this,It,"f")?P(this,It,"f").reset(r):function(i,s,a){let o=a.y18n.__,l=a.y18n.__n,u={nonOptionCount:function(p){let d=i.getDemandedCommands(),g=p._.length+(p["--"]?p["--"].length:0)-i.getInternalMethods().getContext().commands.length;d._&&(g<d._.min||g>d._.max)&&(g<d._.min?d._.minMsg!==void 0?s.fail(d._.minMsg?d._.minMsg.replace(/\$0/g,g.toString()).replace(/\$1/,d._.min.toString()):null):s.fail(l("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",g,g.toString(),d._.min.toString())):g>d._.max&&(d._.maxMsg!==void 0?s.fail(d._.maxMsg?d._.maxMsg.replace(/\$0/g,g.toString()).replace(/\$1/,d._.max.toString()):null):s.fail(l("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",g,g.toString(),d._.max.toString()))))},positionalCount:function(p,d){d<p&&s.fail(l("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",d,d+"",p+""))},requiredArguments:function(p,d){let g=null;for(let h of Object.keys(d))Object.prototype.hasOwnProperty.call(p,h)&&p[h]!==void 0||(g=g||{},g[h]=d[h]);if(g){let h=[];for(let _ of Object.keys(g)){let N=g[_];N&&h.indexOf(N)<0&&h.push(N)}let b=h.length?`
${h.join(`
`)}`:"";s.fail(l("Missing required argument: %s","Missing required arguments: %s",Object.keys(g).length,Object.keys(g).join(", ")+b))}},unknownArguments:function(p,d,g,h,b=!0){var _;let N=i.getInternalMethods().getCommandInstance().getCommands(),C=[],W=i.getInternalMethods().getContext();if(Object.keys(p).forEach(L=>{OP.includes(L)||Object.prototype.hasOwnProperty.call(g,L)||Object.prototype.hasOwnProperty.call(i.getInternalMethods().getParseContext(),L)||u.isValidAndSomeAliasIsNotNew(L,d)||C.push(L)}),b&&(W.commands.length>0||N.length>0||h)&&p._.slice(W.commands.length).forEach(L=>{N.includes(""+L)||C.push(""+L)}),b){let L=((_=i.getDemandedCommands()._)===null||_===void 0?void 0:_.max)||0,M=W.commands.length+L;M<p._.length&&p._.slice(M).forEach(H=>{H=String(H),W.commands.includes(H)||C.includes(H)||C.push(H)})}C.length&&s.fail(l("Unknown argument: %s","Unknown arguments: %s",C.length,C.join(", ")))},unknownCommands:function(p){let d=i.getInternalMethods().getCommandInstance().getCommands(),g=[],h=i.getInternalMethods().getContext();return(h.commands.length>0||d.length>0)&&p._.slice(h.commands.length).forEach(b=>{d.includes(""+b)||g.push(""+b)}),g.length>0&&(s.fail(l("Unknown command: %s","Unknown commands: %s",g.length,g.join(", "))),!0)},isValidAndSomeAliasIsNotNew:function(p,d){if(!Object.prototype.hasOwnProperty.call(d,p))return!1;let g=i.parsed.newAliases;return[p,...d[p]].some(h=>!Object.prototype.hasOwnProperty.call(g,h)||!g[p])},limitedChoices:function(p){let d=i.getOptions(),g={};if(!Object.keys(d.choices).length)return;Object.keys(p).forEach(_=>{OP.indexOf(_)===-1&&Object.prototype.hasOwnProperty.call(d.choices,_)&&[].concat(p[_]).forEach(N=>{d.choices[_].indexOf(N)===-1&&N!==void 0&&(g[_]=(g[_]||[]).concat(N))})});let h=Object.keys(g);if(!h.length)return;let b=o("Invalid values:");h.forEach(_=>{b+=`
  ${o("Argument: %s, Given: %s, Choices: %s",_,s.stringifiedValues(g[_]),s.stringifiedValues(d.choices[_]))}`}),s.fail(b)}},c={};function f(p,d){let g=Number(d);return typeof(d=isNaN(g)?d:g)=="number"?d=p._.length>=d:d.match(/^--no-.+/)?(d=d.match(/^--no-(.+)/)[1],d=!Object.prototype.hasOwnProperty.call(p,d)):d=Object.prototype.hasOwnProperty.call(p,d),d}u.implies=function(p,d){de("<string|object> [array|number|string]",[p,d],arguments.length),typeof p=="object"?Object.keys(p).forEach(g=>{u.implies(g,p[g])}):(i.global(p),c[p]||(c[p]=[]),Array.isArray(d)?d.forEach(g=>u.implies(p,g)):(li(d,void 0,a),c[p].push(d)))},u.getImplied=function(){return c},u.implications=function(p){let d=[];if(Object.keys(c).forEach(g=>{let h=g;(c[g]||[]).forEach(b=>{let _=h,N=b;_=f(p,_),b=f(p,b),_&&!b&&d.push(` ${h} -> ${N}`)})}),d.length){let g=`${o("Implications failed:")}
`;d.forEach(h=>{g+=h}),s.fail(g)}};let m={};u.conflicts=function(p,d){de("<string|object> [array|string]",[p,d],arguments.length),typeof p=="object"?Object.keys(p).forEach(g=>{u.conflicts(g,p[g])}):(i.global(p),m[p]||(m[p]=[]),Array.isArray(d)?d.forEach(g=>u.conflicts(p,g)):m[p].push(d))},u.getConflicting=()=>m,u.conflicting=function(p){Object.keys(p).forEach(d=>{m[d]&&m[d].forEach(g=>{g&&p[d]!==void 0&&p[g]!==void 0&&s.fail(o("Arguments %s and %s are mutually exclusive",d,g))})}),i.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(m).forEach(d=>{m[d].forEach(g=>{g&&p[a.Parser.camelCase(d)]!==void 0&&p[a.Parser.camelCase(g)]!==void 0&&s.fail(o("Arguments %s and %s are mutually exclusive",d,g))})})},u.recommendCommands=function(p,d){d=d.sort((b,_)=>_.length-b.length);let g=null,h=1/0;for(let b,_=0;(b=d[_])!==void 0;_++){let N=Zk(p,b);N<=3&&N<h&&(h=N,g=b)}g&&s.fail(o("Did you mean %s?",g))},u.reset=function(p){return c=wo(c,d=>!p[d]),m=wo(m,d=>!p[d]),u};let y=[];return u.freeze=function(){y.push({implied:c,conflicting:m})},u.unfreeze=function(){let p=y.pop();li(p,void 0,a),{implied:c,conflicting:m}=p},u}(this,P(this,Fe,"f"),P(this,Ee,"f")),"f"),me(this,Lt,P(this,Lt,"f")?P(this,Lt,"f").reset():function(i,s,a,o){return new EP(i,s,a,o)}(P(this,Fe,"f"),P(this,It,"f"),P(this,Rr,"f"),P(this,Ee,"f")),"f"),P(this,Er,"f")||me(this,Er,function(i,s,a,o){return new wP(i,s,a,o)}(this,P(this,Fe,"f"),P(this,Lt,"f"),P(this,Ee,"f")),"f"),P(this,Rr,"f").reset(),me(this,or,null,"f"),me(this,an,"","f"),me(this,Ps,null,"f"),me(this,lr,!1,"f"),this.parsed=!1,this}[zP](e,n){return P(this,Ee,"f").path.relative(e,n)}[ou](e,n,r,i=0,s=!1){let a=!!r||s;e=e||P(this,Ds,"f"),P(this,be,"f").__=P(this,Ee,"f").y18n.__,P(this,be,"f").configuration=this[ma]();let o=!!P(this,be,"f").configuration["populate--"],l=Object.assign({},P(this,be,"f").configuration,{"populate--":!0}),u=P(this,Ee,"f").Parser.detailed(e,Object.assign({},P(this,be,"f"),{configuration:{"parse-positional-numbers":!1,...l}})),c=Object.assign(u.argv,P(this,ua,"f")),f,m=u.aliases,y=!1,p=!1;Object.keys(c).forEach(d=>{d===P(this,wr,"f")&&c[d]?y=!0:d===P(this,Di,"f")&&c[d]&&(p=!0)}),c.$0=this.$0,this.parsed=u,i===0&&P(this,Fe,"f").clearCachedHelpMessage();try{if(this[Oh](),n)return this[ha](c,o,!!r,!1);P(this,wr,"f")&&[P(this,wr,"f")].concat(m[P(this,wr,"f")]||[]).filter(b=>b.length>1).includes(""+c._[c._.length-1])&&(c._.pop(),y=!0);let d=P(this,Lt,"f").getCommands(),g=P(this,Er,"f").completionKey in c,h=y||g||s;if(c._.length){if(d.length){let b;for(let _,N=i||0;c._[N]!==void 0;N++){if(_=String(c._[N]),d.includes(_)&&_!==P(this,or,"f")){let C=P(this,Lt,"f").runCommand(_,this,u,N+1,s,y||p||s);return this[ha](C,o,!!r,!1)}if(!b&&_!==P(this,or,"f")){b=_;break}}!P(this,Lt,"f").hasDefaultCommand()&&P(this,Wf,"f")&&b&&!h&&P(this,It,"f").recommendCommands(b,d)}P(this,or,"f")&&c._.includes(P(this,or,"f"))&&!g&&(P(this,xr,"f")&&su(!0),this.showCompletionScript(),this.exit(0))}if(P(this,Lt,"f").hasDefaultCommand()&&!h){let b=P(this,Lt,"f").runCommand(null,this,u,0,s,y||p||s);return this[ha](b,o,!!r,!1)}if(g){P(this,xr,"f")&&su(!0);let b=(e=[].concat(e)).slice(e.indexOf(`--${P(this,Er,"f").completionKey}`)+1);return P(this,Er,"f").getCompletion(b,(_,N)=>{if(_)throw new Xt(_.message);(N||[]).forEach(C=>{P(this,Lo,"f").log(C)}),this.exit(0)}),this[ha](c,!o,!!r,!1)}if(P(this,lr,"f")||(y?(P(this,xr,"f")&&su(!0),a=!0,this.showHelp("log"),this.exit(0)):p&&(P(this,xr,"f")&&su(!0),a=!0,P(this,Fe,"f").showVersion("log"),this.exit(0))),!a&&P(this,be,"f").skipValidation.length>0&&(a=Object.keys(c).some(b=>P(this,be,"f").skipValidation.indexOf(b)>=0&&c[b]===!0)),!a){if(u.error)throw new Xt(u.error.message);if(!g){let b=this[jh](m,{},u.error);r||(f=ru(c,this,P(this,Rr,"f").getMiddleware(),!0)),f=this[jP](b,f??c),Wt(f)&&!r&&(f=f.then(()=>ru(c,this,P(this,Rr,"f").getMiddleware(),!1)))}}}catch(d){if(!(d instanceof Xt))throw d;P(this,Fe,"f").fail(d.message,d)}return this[ha](f??c,o,!!r,!0)}[jh](e,n,r,i){let s={...this.getDemandedOptions()};return a=>{if(r)throw new Xt(r.message);P(this,It,"f").nonOptionCount(a),P(this,It,"f").requiredArguments(a,s);let o=!1;P(this,pa,"f")&&(o=P(this,It,"f").unknownCommands(a)),P(this,fa,"f")&&!o?P(this,It,"f").unknownArguments(a,e,n,!!i):P(this,da,"f")&&P(this,It,"f").unknownArguments(a,e,{},!1,!1),P(this,It,"f").limitedChoices(a),P(this,It,"f").implications(a),P(this,It,"f").conflicting(a)}}[XP](){me(this,lr,!0,"f")}[ga](e){if(typeof e=="string")P(this,be,"f").key[e]=!0;else for(let n of e)P(this,be,"f").key[n]=!0}},Uh,Wh,{readFileSync:eM}=require("fs"),{inspect:tM}=require("util"),{resolve:nM}=require("path"),rM=PC(),iM=yh(),Gh,JP={assert:{notStrictEqual:vP.notStrictEqual,strictEqual:vP.strictEqual},cliui:cP(),findUp:mP(),getEnv:t=>process.env[t],getCallerFile:gP(),getProcessArgvBin:AP,inspect:tM,mainFilename:(Wh=(Uh=require==null?void 0:require.main)===null||Uh===void 0?void 0:Uh.filename)!==null&&Wh!==void 0?Wh:process.cwd(),Parser:iM,path:require("path"),process:{argv:()=>process.argv,cwd:process.cwd,emitWarning:(t,e)=>process.emitWarning(t,e),execPath:()=>process.execPath,exit:t=>{process.exit(t)},nextTick:process.nextTick,stdColumns:process.stdout.columns!==void 0?process.stdout.columns:null},readFileSync:eM,require,requireDirectory:TP(),stringWidth:Ef(),y18n:rM({directory:nM(__dirname,"../locales"),updateFiles:!1})},ZP=((Gh=process==null?void 0:process.env)===null||Gh===void 0?void 0:Gh.YARGS_MIN_NODE_VERSION)?Number(process.env.YARGS_MIN_NODE_VERSION):12;if(process&&process.version&&Number(process.version.match(/v([^.]+)/)[1])<ZP)throw Error(`yargs supports a minimum Node.js version of ${ZP}. Read our version support policy: https://github.com/yargs/yargs#supported-nodejs-versions`);var sM=yh(),Yh,aM={applyExtends:Ff,cjsPlatformShim:JP,Yargs:(Yh=JP,(t=[],e=Yh.process.cwd(),n)=>{let r=new QP(t,e,n,Yh);return Object.defineProperty(r,"argv",{get:()=>r.parse(),enumerable:!0}),r.help(),r.version(),r}),argsert:de,isPromise:Wt,objFilter:wo,parseCommand:Ro,Parser:sM,processArgv:Xk,YError:Xt};eD.exports=aM});var rD=X((Wee,nD)=>{"use strict";var{Yargs:oM,processArgv:lM}=tD();Mo(lM.hideBin(process.argv));nD.exports=Mo;function Mo(t,e){let n=oM(t,e,require);return cM(n),n}function Hh(t,e,n){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:n})}function uM(t,e){let n=Object.getOwnPropertyDescriptor(t,e);if(typeof n!="undefined")return n.get}function cM(t){[...Object.keys(t),...Object.getOwnPropertyNames(t.constructor.prototype)].forEach(e=>{e==="argv"?Hh(Mo,e,uM(t,e)):typeof t[e]=="function"?Mo[e]=t[e].bind(t):(Hh(Mo,"$0",()=>t.$0),Hh(Mo,"parsed",()=>t.parsed))})}});var nt=je(require("fs"));var As=class{constructor(){this.currentStructure=null;this.isReloading=!1;this.isDirtyState=!0}setActiveProject(e){this.currentStructure=e}getStructure(){return this.currentStructure}hasStructure(){return this.currentStructure!=null}setDirtyState(e){this.isDirtyState=e}reloadDetails(){this.isReloading||this.isDirtyState!=!1&&this.currentStructure!=null&&(this.isReloading=!0,this.currentStructure=this.currentStructure.reloadDetails(),this.isReloading=!1,this.isDirtyState=!1)}};As.instance=null;(typeof As.instance=="undefined"||As.instance==null)&&(As.instance=new As);var cr=As;var ci=class{static registerDetails(e,n){this.documentDetails.set(e,n)}static hasDetails(e){return this.documentDetails.has(e)}};ci.documentDetails=new Map;var gD={documentDescription:"",documentName:"",collectionInjections:[],blueprints:[],variableHelper:null,injectsParameters:[],varReferenceNames:new Map,formatterEnabled:!0},Xh="@name",Qh="@description",Jh="@desc",Zh="@entry",eg="@collection",tg="@blueprint",ng="@var",rg="@set",ig="@param",sg="@param*",_D="@front",ag="@format";function Vo(t,e){if(e==null||e.isComment==!1)return gD;let n=e.content.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`).map(p=>p.trim()),r=[],i=new Map,s="",a="",o=[],l=[],u="",c=null,f=!1,m=!0;for(let p=0;p<n.length;p++){let d=n[p];if(d.startsWith(Zh))o=o.concat(d.slice(Zh.length).split(",").map(g=>g.trim())),f=!1;else if(d.startsWith(eg))o=o.concat(d.slice(eg.length).split(",").map(g=>g.trim())),f=!1;else if(d.startsWith(tg))l=l.concat(d.slice(tg.length).split(",").map(g=>g.trim())),f=!1;else if(d.startsWith(Xh))s=d.slice(Xh.length).trim(),f=!1;else if(d.startsWith(Qh))a=d.slice(Qh.length).trim(),f=!0;else if(d.startsWith(Jh))a=d.slice(Jh.length).trim(),f=!0;else if(d.startsWith(ng))u=d.slice(ng.length).trim(),f=!1;else if(d.startsWith(rg))u="@page "+d.slice(rg.length).trim(),f=!1;else if(d.startsWith(ig)){let g=ig.length,h=!1;d.startsWith(sg)&&(g=sg.length,h=!0);let _=d.slice(g).trim().split(" ");if(_.length>0)if(_[0]==_D&&_.length>=4){_.shift();let N=_.shift(),C=_.shift(),W=_.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:W,expectsTypes:["*"],isDynamic:!0,isRequired:h,name:C}),i.set(C,N)}else{let N=_.shift(),C=_.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:C,expectsTypes:["*"],isDynamic:!0,isRequired:h,name:N})}}else d.startsWith(ag)?d.slice(ag.length).trim().toLowerCase()=="true"?m=!0:m=!1:f&&(a+=`
`+d.trim())}if(u.length>0){let p=u.split(" ");if(p.length==2){let d=p[0],g=p[1];if(g.includes(".")){let h=g.split(".");if(h.length==2){let b=h[0],_=h[1];c={variableName:d,collectionName:b,fieldHandle:_,setHandle:""}}else if(h.length==3){let b=h[0],_=h[1],N=h[2];c={variableName:d,collectionName:b,fieldHandle:_,setHandle:N}}}else c={variableName:d,setHandle:"",collectionName:"",fieldHandle:g}}}if(t.trim().length>0&&cr.instance!=null&&cr.instance.hasStructure()){let p=cr.instance.getStructure().findView(t);p!=null&&(p.injectsParameters=r,p.varReferenceNames=i)}let y={documentName:s,documentDescription:a,collectionInjections:o,blueprints:l,variableHelper:c,injectsParameters:r,varReferenceNames:i,formatterEnabled:m};return t.trim().length>0&&e.startPosition!=null&&(e.startPosition.line<=1||e.index<=1)&&ci.registerDetails(t,y),y}var yD=["markdown","text","textarea","slug","button_group","code","color","date","form","link","structures","select","taxonomies","terms","template","time","video","users","user_groups","user_roles"],bD=["array","assets","bard","blueprints","collections","entries","list","grid","replicator","structures_multiple","sites","select_multiple","form_multiple","table","tags","terms_multiple","taxonomies_multiple","users_multiple","checkboxes","select_multiple","yaml","user_groups_multiple","user_roles_multiple"],TD=["integer","range"],vD=["toggle"];function fu(t){return yD.includes(t)?"string":bD.includes(t)?"array":TD.includes(t)?"number":vD.includes(t)?"boolean":t}var Is=class{constructor(){this.partialReferences=new Map;this.cacheReferences=new Map;this.removesPageScope=new Map}clearAllReferences(e){this.clearPartialReferences(e),this.clearCacheReferences(e)}registerPartialReferences(e,n){this.partialReferences.has(e)==!1&&this.partialReferences.set(e,[]),this.partialReferences.set(e,n)}registerCacheReferences(e,n){this.cacheReferences.has(e)==!1&&this.cacheReferences.set(e,[]),this.cacheReferences.set(e,n)}clearPartialReferences(e){this.partialReferences.has(e)&&this.partialReferences.set(e,[])}clearRemovesPageScope(e){this.removesPageScope.has(e)&&this.removesPageScope.delete(e)}pageScopeDisabled(e){return this.removesPageScope.has(e)}clearCacheReferences(e){this.cacheReferences.has(e)&&this.cacheReferences.set(e,[])}setRemovesPageScope(e,n){this.removesPageScope.set(e,n)}getPartialReferences(e){return this.partialReferences.has(e)==!1?[]:this.partialReferences.get(e)}getCacheReferencnes(e){return this.cacheReferences.has(e)==!1?[]:this.cacheReferences.get(e)}hasPartialReferences(e){return this.partialReferences.has(e)}hasCacheReferences(e){return this.cacheReferences.has(e)}};Is.instance=null;(typeof Is.instance=="undefined"||Is.instance==null)&&(Is.instance=new Is);var og=Is;var Fn=class{constructor(){this.index=-1;this.offset=0;this.line=0;this.char=0}shiftRight(e){let n=new Fn;return n.offset=this.offset+e,n.index=this.index+e,n.line=this.line,n.char=this.char+e,n}isBefore(e){return e==null?!1:e.line>this.line||e.line==this.line&&this.offset<e.offset}isWithin(e,n,r=0){return e==null||n==null?!1:this.index>=e.index&&this.index<=n.index+r}isWithinRange(e){return e==null?!1:e.start!=null&&e.end!=null?this.isWithin(e.start,e.end):!1}};var Kf=class{constructor(){this.start=null;this.end=null}},jo=Kf;jo.Empty=new Kf;function lg(t,e){let n=e.copy(),r=e.copy();return r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"group",introducedBy:t}),r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"key",introducedBy:t}),r.addScopeList("items",n),e.addScopeList("groups",r),e}function ug(t,e){let n=e.copy();return e.addScopeList("items",n),e}var cg=[{name:"key_by",acceptsType:["array"],returnsType:["array"],description:"Re-keys the array or collection using the provided field name.",docLink:null,parameters:[{name:"field",description:"The field to re-key the array or collection by."}],canBeParameter:!0,isDeprecated:!1},{name:"as",acceptsType:["array"],returnsType:["array"],description:"Alias the array variable with a key.",docLink:"https://statamic.dev/modifiers/as",parameters:[{name:"alias",description:"The alias name."}],canBeParameter:!0,isDeprecated:!1},{name:"ampersand_list",acceptsType:["array"],returnsType:["string"],description:"Converts the array into a comma delimited string, with an ampersand before the last item.",docLink:"https://statamic.dev/modifiers/ampersand_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"collapse",acceptsType:["array"],returnsType:["array"],description:"Collapses an array of arrays into a single, flat, array.",docLink:"https://statamic.dev/modifiers/collapse",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"contains",acceptsType:["array","string"],returnsType:["boolean"],description:"Tests if the value contains another value.",docLink:"https://statamic.dev/modifiers/contains",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1,isDeprecated:!1},{name:"count",acceptsType:["array"],returnsType:["number"],description:"Returns the number of items in the array.",docLink:"https://statamic.dev/modifiers/count",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"dl",acceptsType:["array"],returnsType:["string"],description:"Turns an associative array into an HTML definition list.",docLink:"https://statamic.dev/modifiers/dl",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],description:"Breaks a string into an array on a given delimiter.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The delimiter to break the string apart on."}],canBeParameter:!0,isDeprecated:!1},{name:"flatten",acceptsType:["array"],returnsType:["array"],description:"Flattens a multi-dimensional array.",docLink:"https://statamic.dev/modifiers/flatten",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"flip",acceptsType:["array"],returnsType:["array"],description:"Swaps the array keys with their values.",docLink:"https://statamic.dev/modifiers/flip",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"group_by",acceptsType:["array"],returnsType:["array"],description:"Groups the array items by the given key.",docLink:"https://statamic.dev/modifiers/group_by",parameters:[{name:"key",description:"The key to group by."}],canBeParameter:!0,augmentScope:lg,isDeprecated:!1},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1,isDeprecated:!1},{name:"is_empty",acceptsType:["array"],returnsType:["boolean"],description:"Tests if the array is empty.",docLink:"https://statamic.dev/modifiers/is_empty",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"join",acceptsType:["array"],returnsType:["string"],description:"Turn an array into a string by gluing together all the data.",docLink:"https://statamic.dev/modifiers/join",parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0,isDeprecated:!1},{name:"joinplode",acceptsType:["array"],returnsType:["string"],description:"Turn an array into a string by gluing together all the data.",docLink:null,parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0,isDeprecated:!1},{name:"limit",acceptsType:["array"],returnsType:["array"],description:"Limits the number of items returned in the array",docLink:"https://statamic.dev/modifiers/limit",parameters:[{name:"count",description:"The maximum number of items to return."}],canBeParameter:!0,isDeprecated:!1},{name:"list",acceptsType:["array"],returnsType:["string"],description:"Converts the array into a comma-separated string.",docLink:"https://statamic.dev/modifiers/list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"offset",acceptsType:["array"],returnsType:["array"],description:"Offsets the items returned in the array.",docLink:"https://statamic.dev/modifiers/offset",parameters:[{name:"offset",description:"The one-based index to start retrieving items."}],canBeParameter:!0,isDeprecated:!1},{name:"ol",acceptsType:["array"],returnsType:["string"],description:"Turns the array into an HTML ordered list.",docLink:"https://statamic.dev/modifiers/ol",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"option_list",acceptsType:["array"],returnsType:["string"],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/option_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"pluck",acceptsType:["array"],returnsType:["array"],description:"Plucks a value from a collection of items.",parameters:[{name:"value",description:"The value to pluck from the array or collection."}],canBeParameter:!0,docLink:null,isDeprecated:!1},{name:"pad",acceptsType:["array"],returnsType:["array"],description:"Pads the array to a specified length with the given value.",docLink:"https://statamic.dev/modifiers/pad",parameters:[{name:"length",description:"The desired length of the array."},{name:"value",description:"The value to pad the array with."}],canBeParameter:!0,isDeprecated:!1},{name:"piped",acceptsType:["array"],returnsType:["string"],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/piped",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"sentence_list",acceptsType:["array"],returnsType:["string"],description:'Turns the array into a comma-delimited list, with the word "and" before the last item.',docLink:"https://statamic.dev/modifiers/sentence_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"shuffle",acceptsType:["array"],returnsType:["array"],description:"Randomizes the order of array elements.",docLink:"https://statamic.dev/modifiers/shuffle",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"sort",acceptsType:["array"],returnsType:["array"],description:"Sorts the array by a key in ascending or descending order.",docLink:"https://statamic.dev/modifiers/sort",parameters:[{name:"key",description:"The key to sort by."},{name:"order",description:"The sort direction. `asc` or `desc`."}],canBeParameter:!0,isDeprecated:!1},{name:"sum",acceptsType:["array"],returnsType:["number"],description:"Returns the sum of all items in the array.",docLink:"https://statamic.dev/modifiers/sum",parameters:[{name:"key",description:"The value to sum."}],canBeParameter:!1,isDeprecated:!1},{name:"ul",acceptsType:["array"],returnsType:["string"],description:"Turns the array into an HTML unordered list.",docLink:"https://statamic.dev/modifiers/ul",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"unique",acceptsType:["array"],returnsType:["array"],description:"Returns all unique items in the array.",docLink:"https://statamic.dev/modifiers/unique",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"where",acceptsType:["array"],returnsType:["array"],description:"Filters the array by a given key and value.",docLink:"https://statamic.dev/modifiers/where",parameters:[{name:"key",description:"The property to filter by."},{name:"value",description:"The value to compare to."}],canBeParameter:!0,isDeprecated:!1},{name:"split",acceptsType:["array"],returnsType:["array"],description:"Splits an array into smaller arrays with the provided size.",canBeParameter:!0,docLink:"",parameters:[{name:"size",description:"The size of each new array"}],augmentScope:ug,isDeprecated:!1},{name:"compact",acceptsType:["string"],returnsType:["array"],description:"Accepts a comma-delimited list of variable names and return an array with their values.",canBeParameter:!0,docLink:"",parameters:[{name:"variables",description:"A comma-delimited list of variable names."}],isDeprecated:!1}];var fg=[{name:"background_position",acceptsType:["string"],returnsType:["string"],description:"Converts an asset focal point into a background-position CSS property.",docLink:"https://statamic.dev/modifiers/background_position",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"image",acceptsType:["string"],returnsType:["string"],description:"Generates an HTML image element with the variable's value as the src.",docLink:"https://statamic.dev/modifiers/image",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"output",acceptsType:["string"],returnsType:["string"],description:"Returns the string output of an Asset file's contents.",docLink:"https://statamic.dev/modifiers/output",parameters:[],canBeParameter:!1,isDeprecated:!1}];var pg=[{name:"contains_all",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_all",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"contains_any",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_any",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"ends_with",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a string ends with another string.",docLink:"https://statamic.dev/modifiers/ends_with",parameters:[{name:"value",description:"The value to check against."}],canBeParameter:!1,isDeprecated:!1},{name:"has_lower_case",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains any lowercase characters.",docLink:"https://statamic.dev/modifiers/has_lower_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"has_upper_case",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains any uppercase characters.",docLink:"https://statamic.dev/modifiers/has_upper_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"is_after",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the string contains only alphanumeric characters.",docLink:"https://statamic.dev/modifiers/is_after",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1,isDeprecated:!1},{name:"is_alphanumeric",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only alphanumeric characters.",docLink:"https://statamic.dev/modifiers/is_alphanumeric",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_before",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if a date is before another date.",docLink:"https://statamic.dev/modifiers/is_before",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1,isDeprecated:!1},{name:"is_between",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if a date is between two other dates.",docLink:"https://statamic.dev/modifiers/is_between",parameters:[{name:"start_date",description:"The start date to compare."},{name:"end_date",description:"The end date to compare."}],canBeParameter:!1,isDeprecated:!1},{name:"is_blank",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only whitespace characters.",docLink:"https://statamic.dev/modifiers/is_blank",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_future",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is in the future.",docLink:"https://statamic.dev/modifiers/is_future",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_json",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is valid JSON.",docLink:"https://statamic.dev/modifiers/is_json",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_leap_year",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a leap year.",docLink:"https://statamic.dev/modifiers/is_leap_year",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_numeric",acceptsType:["string","number"],returnsType:["boolean"],description:"Tests if the value is a number or numeric string.",docLink:"https://statamic.dev/modifiers/is_numeric",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_past",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is in the past.",docLink:"https://statamic.dev/modifiers/is_past",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_today",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is today.",docLink:"https://statamic.dev/modifiers/is_today",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_uppercase",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string contains only uppercase characters.",docLink:"https://statamic.dev/modifiers/is_uppercase",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],description:"Tests if the string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_weekday",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a week day.",docLink:"https://statamic.dev/modifiers/is_weekday",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_weekend",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is a weekend day.",docLink:"https://statamic.dev/modifiers/is_weekend",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_yesterday",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is yesterday.",docLink:"https://statamic.dev/modifiers/is_yesterday",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_tomorrow",acceptsType:["string","date"],returnsType:["boolean"],description:"Tests if the date is tomorrow.",docLink:null,parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"starts_with",acceptsType:["string"],returnsType:["boolean"],description:"Tests if a value starts with the provided value.",docLink:"https://statamic.dev/modifiers/starts_with",parameters:[{name:"value",description:"The value to test for."}],canBeParameter:!1,isDeprecated:!1}];var dg=[{name:"days_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of days since a given date.",docLink:"https://statamic.dev/modifiers/days_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"format_translated",acceptsType:["string","date"],returnsType:["string","date"],description:"Returns a formatted Carbon datetime/string.",docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!1},{name:"format",acceptsType:["string","date"],returnsType:["string","date"],description:"Formats the date using the provided format using PHP's [date variables](https://www.php.net/date).",docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!1},{name:"format_localized",acceptsType:["string","date"],returnsType:["string","date"],description:"Formats the date using server's locale, using PHP's [strftime format variables](https://www.php.net/strftime).",docLink:"https://statamic.dev/modifiers/format_localized",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!0,getDeprecatedMessage(){return"The format_localized modifier is deprecated. Alternatives, such as the iso_format modifier, should be used instead."}},{name:"hours_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of hours since the date.",docLink:"https://statamic.dev/modifiers/hours_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"iso_format",acceptsType:["string","date"],returnsType:["string","date"],description:"Formats the date using an ISO format.",docLink:"https://statamic.dev/modifiers/iso_format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!1,isDeprecated:!1},{name:"minutes_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of minutes since the date.",docLink:"https://statamic.dev/modifiers/minutes_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"modify_date",acceptsType:["string","date"],returnsType:["string","date"],description:"Alters the date by incrementing or decrementing it in a format accepted by PHP's [strtotime](https://www.php.net/strtotime) function.",docLink:"https://statamic.dev/modifiers/modify_date",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"months_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of months since the date.",docLink:"https://statamic.dev/modifiers/months_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"relative",acceptsType:["string","date"],returnsType:["string"],description:"Returns a human readable date difference.",docLink:"https://statamic.dev/modifiers/relative",parameters:[{name:"add_ago",description:"Whether to add the relative suffix words at the end of the string."}],canBeParameter:!1,isDeprecated:!1},{name:"seconds_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of seconds since the date.",docLink:"https://statamic.dev/modifiers/seconds_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"timezone",acceptsType:["string","date"],returnsType:["string","date"],description:"Applies a timezone to the date.",docLink:"https://statamic.dev/modifiers/timezone",parameters:[{name:"timezone",description:"The timezone to apply."}],canBeParameter:!1,isDeprecated:!1},{name:"weeks_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of weeks since the date.",docLink:"https://statamic.dev/modifiers/weeks_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"years_ago",acceptsType:["string","date"],returnsType:["number"],description:"Returns the number of years since the date.",docLink:"https://statamic.dev/modifiers/years_ago",parameters:[],canBeParameter:!1,isDeprecated:!1}];var mg=[{name:"chunk",acceptsType:["array"],returnsType:["array"],description:"Breaks the array or collection into smaller arrays of a given size.",docLink:"https://statamic.dev/modifiers/chunk",parameters:[{name:"chunk_size",description:"The maximum length of each new chunk."}],canBeParameter:!0,isDeprecated:!1},{name:"favicon",acceptsType:["string"],returnsType:["string"],description:"Generates a favicon HTML meta tag for the given value.",docLink:"https://statamic.dev/modifiers/favicon",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"first",acceptsType:["string","array"],returnsType:["*"],description:"Returns the specified number of characters from the beginning of the string.",docLink:"https://statamic.dev/modifiers/first",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0,isDeprecated:!1},{name:"last",acceptsType:["string","array"],returnsType:["*"],description:"Returns the specified number of characters from the end of the string.",docLink:"https://statamic.dev/modifiers/last",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0,isDeprecated:!1},{name:"link",acceptsType:["string"],returnsType:["string"],description:"Generates an HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/link",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"mailto",acceptsType:["string"],returnsType:["string"],description:"Generates a mailto HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/mailto",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"markdown",acceptsType:["string"],returnsType:["string"],description:"Parses the value as Markdown and returns the HTML.",docLink:"https://statamic.dev/modifiers/markdown",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"nl2br",acceptsType:["string"],returnsType:["string"],description:"Replaces line breaks with HTML `<br>` tags.",docLink:"https://statamic.dev/modifiers/nl2br",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"obfuscate",acceptsType:["string"],returnsType:["string"],description:"Modifies the input string by replacing it with special characters, making it harder for bots but remains readable to site visitors.",docLink:"https://statamic.dev/modifiers/obfuscate",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"obfuscate_email",acceptsType:["string"],returnsType:["string"],description:"Obfuscates an email address with special HTML characters.",docLink:"https://statamic.dev/modifiers/obfuscate_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"strip_tags",acceptsType:["string"],returnsType:["string"],description:"Removes HTML tags from the string.",docLink:"https://statamic.dev/modifiers/strip_tags",parameters:[{name:"tags",description:"The HTML tag(s) to remove from the string."}],canBeParameter:!1,isDeprecated:!1},{name:"table",acceptsType:["array"],returnsType:["string"],description:"Turns a [Table FieldType](https://statamic.dev/fieldtypes/table) array into an HTML table.",docLink:"https://statamic.dev/modifiers/table",parameters:[{name:"content_markdown",description:"Whether to parse cell contents as Markdown."}],canBeParameter:!1,isDeprecated:!1},{name:"textile",acceptsType:["string"],returnsType:["string"],description:"Parses a string with [Textile](http://demo.textilewiki.com/theme-default/) and returns the HTML.",docLink:"https://statamic.dev/modifiers/textile",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"wrap",acceptsType:["string"],returnsType:["string"],description:"Wraps a string with a given HTML tag.",docLink:"https://statamic.dev/modifiers/wrap",parameters:[{name:"expression",description:"The HTML tag or Emmet-style expression to wrap the value in."}],canBeParameter:!1,isDeprecated:!1}];var hg=[{name:"add",acceptsType:["number"],returnsType:["number"],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!0,isDeprecated:!1},{name:"+",acceptsType:["number"],returnsType:["number"],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!1,isDeprecated:!1},{name:"ceil",acceptsType:["number"],returnsType:["number"],description:"Rounds the value to the next whole number.",docLink:"https://statamic.dev/modifiers/ceil",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"divide",acceptsType:["number"],returnsType:["number"],description:"Divides two values.",docLink:"https://statamic.dev/modifiers/divide",parameters:[{name:"value",description:"The value to divide."}],canBeParameter:!0,isDeprecated:!1},{name:"floor",acceptsType:["number"],returnsType:["number"],description:"Rounds a number down to the next whole number.",docLink:"https://statamic.dev/modifiers/floor",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"format_number",acceptsType:["number"],returnsType:["string"],description:"Formats a number.",docLink:"https://statamic.dev/modifiers/format_number",parameters:[{name:"precision",description:"Number of decimal places before rounding."},{name:"decimal_separator",description:"The decimal separator (defaults to `.`)."},{name:"thousands_separator",description:"The thousands separator (default `,`)."}],canBeParameter:!0,isDeprecated:!1},{name:"mode",acceptsType:["number"],returnsType:["number"],description:"",docLink:"",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"multiply",acceptsType:["number"],returnsType:["number"],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!0,isDeprecated:!1},{name:"*",acceptsType:["number"],returnsType:["number"],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!1,isDeprecated:!1},{name:"round",acceptsType:["number"],returnsType:["number"],description:"Rounds a number to a specified precision.",docLink:"https://statamic.dev/modifiers/round",parameters:[{name:"precision",description:"The number of digits after the decimal point."}],canBeParameter:!0,isDeprecated:!1},{name:"subtract",acceptsType:["number"],returnsType:["number"],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!0,isDeprecated:!1},{name:"-",acceptsType:["number"],returnsType:["number"],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!1,isDeprecated:!1}];var gg=[{name:"partial",acceptsType:["*"],returnsType:["*view*"],description:"Injects data into a partial and renders it.",docLink:"https://statamic.dev/modifiers/partial",parameters:[{name:"partial",description:"The name of the partial."}],canBeParameter:!1,isDeprecated:!1},{name:"macro",acceptsType:["*"],returnsType:["*"],description:"Runs a pre-configured macro on the data.",docLink:"https://statamic.dev/modifiers/macro",parameters:[{name:"macro",description:"The macro name."}],canBeParameter:!1,isDeprecated:!1},{name:"url",acceptsType:["string","*"],returnsType:["string"],description:"Locates the URL of an asset, page, entry, or taxonomy term based on the variable contents.",docLink:"https://statamic.dev/modifiers/url",parameters:[],canBeParameter:!1,isDeprecated:!1}];var _g=[{name:"ascii",acceptsType:["string"],returnsType:["string"],description:"Replaces all non-ASCII characters with their closest ASCII counterparts.",docLink:"https://statamic.dev/modifiers/ascii",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"at",acceptsType:["string"],returnsType:["string"],description:"Returns the character at a given zero-based position.",docLink:"https://statamic.dev/modifiers/at",parameters:[{name:"position",description:"The zero-based position to retrieve a character from."}],canBeParameter:!0,isDeprecated:!1},{name:"backspace",acceptsType:["string"],returnsType:["string"],description:"Removes a specified number of characters from the end of a string.",docLink:"https://statamic.dev/modifiers/backspace",parameters:[{name:"character_count",description:"The number of characters to remove from the end of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"camelize",acceptsType:["string"],returnsType:["string"],description:"Converts the string into camelCase.",docLink:"https://statamic.dev/modifiers/camelize",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"cdata",acceptsType:["string"],returnsType:["string"],description:"Wraps the string in CDATA XML tags.",docLink:"https://statamic.dev/modifiers/cdata",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"collapse_whitespace",acceptsType:["string"],returnsType:["string"],description:"Trims a string and replaces consecutive whitespace characters with a single space.",docLink:"https://statamic.dev/modifiers/collapse_whitespace",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"count_substring",acceptsType:["string"],returnsType:["number"],description:"Counts the number of occurrences of a term within the string.",docLink:"https://statamic.dev/modifiers/count_substring",parameters:[{name:"term",description:"The sub-string to search for"}],canBeParameter:!0,isDeprecated:!1},{name:"dashify",acceptsType:["string"],returnsType:["string"],description:"Returns a lower-cased and trimmed string, separated by dashes.",docLink:"https://statamic.dev/modifiers/dashify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"deslugify",acceptsType:["string"],returnsType:["string"],description:"Replaces all hyphens and underscores with spaces.",docLink:"https://statamic.dev/modifiers/deslugify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"embed_url",acceptsType:["string"],returnsType:["string"],description:"Converts a YouTube or Viemo link into their embed URLs.",docLink:"https://statamic.dev/modifiers/embed_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"trackable_embed_url",acceptsType:["string"],returnsType:["string"],description:"Get the embed URL when given a youtube or vimeo link that's direct to the page.",docLink:null,parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"ensure_left",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string begins with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_left",parameters:[{name:"start_string",description:"The value that should be at the start of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"ensure_right",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string ends with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_right",parameters:[{name:"end_string",description:"The value that should be at the end of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"entities",acceptsType:["string"],returnsType:["string"],description:"Encode a string with HTML entities.",docLink:"https://statamic.dev/modifiers/entities",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"excerpt",acceptsType:["string"],returnsType:["string"],description:"Breaks a string at a given marker.",docLink:"https://statamic.dev/modifiers/excerpt",parameters:[{name:"marker",description:"The string to break by."}],canBeParameter:!1,isDeprecated:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],description:"Breaks a string into an array of strings.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The string to split the larger string by."}],canBeParameter:!0,isDeprecated:!1},{name:"gravatar",acceptsType:["string"],returnsType:["string"],description:"Converts an email string to a Gravatar image URL.",docLink:"https://statamic.dev/modifiers/gravatar",parameters:[{name:"image size",description:"The desired image size."}],canBeParameter:!0,isDeprecated:!1},{name:"insert",acceptsType:["string"],returnsType:["string"],description:"Inserts a string at the position provided.",docLink:"https://statamic.dev/modifiers/insert",parameters:[{name:"value",description:"The value to insert."},{name:"position",description:"The zero based position to insert the text at."}],canBeParameter:!0,isDeprecated:!1},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_embeddable",acceptsType:["string"],returnsType:["boolean"],description:"Checks to see if a video URL is embeddable.",docLink:"https://statamic.dev/modifiers/is_embeddable",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_lowercase",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if the string contains only lowercase characters.",docLink:"https://statamic.dev/modifiers/is_lowercase",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],description:"Returns true if a string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"lcfirst",acceptsType:["string"],returnsType:["string"],description:"Converts the first character of the value to lower case.",docLink:"https://statamic.dev/modifiers/lcfirst",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"length",acceptsType:["string"],returnsType:["number"],description:"Returns the number of items in an array or number of characters in a string.",docLink:"https://statamic.dev/modifiers/length",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"lower",acceptsType:["string"],returnsType:["string"],description:"Converts all characters to lowercase.",docLink:"https://statamic.dev/modifiers/lower",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"md5",acceptsType:["string"],returnsType:["string"],description:"Creates an MD5 hash of the variable.",docLink:"https://statamic.dev/modifiers/md5",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"rawurlencode",acceptsType:["string"],returnsType:["string"],description:"URL-encode a variable according to RFC-3986.",docLink:"https://statamic.dev/modifiers/rawurlencode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"read_time",acceptsType:["string"],returnsType:["string"],description:"Returns an estimated read time, in minutes.",docLink:"https://statamic.dev/modifiers/read_time",parameters:[{name:"words per minute",description:"The words per minute to use as an estimate."}],canBeParameter:!0,isDeprecated:!1},{name:"regex_replace",acceptsType:["string"],returnsType:["string"],description:"Replaces all regex matches with a string.",docLink:"https://statamic.dev/modifiers/regex_replace",parameters:[{name:"pattern",description:"The regex pattern."},{name:"replace",description:"The replacement value."}],canBeParameter:!0,isDeprecated:!1},{name:"remove_left",acceptsType:["string"],returnsType:["string"],description:"Ensures that the string never begins with a specified string.",docLink:"https://statamic.dev/modifiers/remove_left/",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0,isDeprecated:!1},{name:"remove_right",acceptsType:["string"],returnsType:["string"],description:"Ensures that a string never ends with a specified string.",docLink:"https://statamic.dev/modifiers/remove_right",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0,isDeprecated:!1},{name:"replace",acceptsType:["string"],returnsType:["string"],description:"Replaces all occurrences of a string with a different value.",docLink:"https://statamic.dev/modifiers/replace",parameters:[{name:"needle",description:"The string to search for."},{name:"value",description:"The value to replace all occurrences with."}],canBeParameter:!0,isDeprecated:!1},{name:"reverse",acceptsType:["string","array"],returnsType:["string","array"],description:"Reverses all characters in a string, or all items in an array.",docLink:"https://statamic.dev/modifiers/reverse",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"safe_truncate",acceptsType:["string"],returnsType:["string"],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/safe_truncate",parameters:[{name:"length",description:"The desired string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1,isDeprecated:!1},{name:"sanitize",acceptsType:["string"],returnsType:["string"],description:"Converts special characters to HTML entities.",docLink:"https://statamic.dev/modifiers/sanitize",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"segment",acceptsType:["string"],returnsType:["string"],description:"Returns a segment by number from any valid URL or URI.",docLink:"https://statamic.dev/modifiers/segment",parameters:[{name:"segment",description:"The one-based segment to return."}],canBeParameter:!0,isDeprecated:!1},{name:"singular",acceptsType:["string"],returnsType:["string"],description:"Returns the singular form of an English word.",docLink:"https://statamic.dev/modifiers/singular",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"slugify",acceptsType:["string"],returnsType:["string"],description:"Converts the string into an URL slug.",docLink:"https://statamic.dev/modifiers/slugify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"smartypants",acceptsType:["string"],returnsType:["string"],description:"Translates plain ASCII punctuation characters into typographic punctuation HTML entities.",docLink:"https://statamic.dev/modifiers/smartypants",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"spaceless",acceptsType:["string"],returnsType:["string"],description:"Removes excess whitespace and line breaks from a string.",docLink:"https://statamic.dev/modifiers/spaceless",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"substr",acceptsType:["string"],returnsType:["string"],description:"Returns a portion of a string based on provided a start index, and optional length.",docLink:"https://statamic.dev/modifiers/substr",parameters:[{name:"start",description:"The 0-based index to start searching."},{name:"length",description:"An optional length for the string to find."}],canBeParameter:!1,isDeprecated:!1},{name:"surround",acceptsType:["string"],returnsType:["string"],description:"Surrounds a string with another string.",docLink:"https://statamic.dev/modifiers/surround",parameters:[{name:"value",description:"The value to surround the string with."}],canBeParameter:!1,isDeprecated:!1},{name:"swap_case",acceptsType:["string"],returnsType:["string"],description:"Returns a case swapped version of the string.",docLink:"https://statamic.dev/modifiers/swap_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"tidy",acceptsType:["string"],returnsType:["string"],description:"Returns a string with smart quotes, ellipsis characters, and dashes from Windows-1252 replaced by ASCII equivalents.",docLink:"https://statamic.dev/modifiers/tidy",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"title",acceptsType:["string"],returnsType:["string"],description:"Returns a Title Cased version of the string.",docLink:"https://statamic.dev/modifiers/title",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"trim",acceptsType:["string"],returnsType:["string"],description:"Removes whitespace from the start and end of the string.",docLink:"https://statamic.dev/modifiers/trim",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"truncate",acceptsType:["string"],returnsType:["string"],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/truncate",parameters:[{name:"length",description:"The maximum string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1,isDeprecated:!1},{name:"ucfirst",acceptsType:["string"],returnsType:["string"],description:"Upper cases the first character in the string.",docLink:"https://statamic.dev/modifiers/ucfirst",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"underscored",acceptsType:["string"],returnsType:["string"],description:"Returns a lower-cased and trimmed version of the string, separated by underscores.",docLink:"https://statamic.dev/modifiers/underscored",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"upper",acceptsType:["string"],returnsType:["string"],description:"Transforms the string to uppercase.",docLink:"https://statamic.dev/modifiers/upper",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"urldecode",acceptsType:["string"],returnsType:["string"],description:"URL-decodes the string.",docLink:"https://statamic.dev/modifiers/urldecode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"urlencode",acceptsType:["string"],returnsType:["string"],description:"URL-encodes the string.",docLink:"https://statamic.dev/modifiers/urlencode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"widont",acceptsType:["string"],returnsType:["string"],description:"Attempts to prevent lines with single words.",docLink:"https://statamic.dev/modifiers/widont",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"word_count",acceptsType:["string"],returnsType:["number"],description:"Returns the number of words in the string.",docLink:"https://statamic.dev/modifiers/word_count",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"add_slashes",acceptsType:["string"],returnsType:["string"],description:"Adds slashes before characters that need to be escaped.",docLink:"https://statamic.dev/modifiers/add_slashes",canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"antlers",acceptsType:["string"],returnsType:["string"],description:"Parses the provided value as Antlers, and returns the result",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"bard_items",acceptsType:["string"],returnsType:["array"],description:"Converts a Bard value to a flat array of nodes and marks",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"bard_text",acceptsType:["array","string"],returnsType:["string"],description:"Converts a Bard value to plain text (excluding sets)",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"bard_html",acceptsType:["array","string"],returnsType:["string"],description:"Converts a Bard value to HTML (excluding sets)",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"mark",acceptsType:["string"],returnsType:["string"],description:"Wraps matched words and phrases in <mark> tags.",docLink:null,canBeParameter:!1,parameters:[{name:"search",description:"The search word or phrase to wrap in <mark> tags."}],isDeprecated:!1},{name:"regex_mark",acceptsType:["string"],returnsType:["string"],description:"Wraps matched words and phrases in <mark> tags using regular expressions.",docLink:null,canBeParameter:!1,parameters:[{name:"pattern",description:"The search pattern used to wrap content in <mark> tags."}],isDeprecated:!1}];var yg=[{name:"console_log",acceptsType:["*"],returnsType:["null"],description:"Displays variable data in the browser's JavaScript console.",docLink:"https://statamic.dev/modifiers/console_log",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"decode",acceptsType:["string"],returnsType:["string"],description:"Converts all HTML entities to their applicable character codes.",docLink:"https://statamic.dev/modifiers/decode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"dump",acceptsType:["*"],returnsType:["null"],description:"Displays variable data in the browser.",docLink:"https://statamic.dev/modifiers/dump",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"full_urls",acceptsType:["string"],returnsType:["string"],description:"Replaces root-relative URLs with absolute URLs.",docLink:"https://statamic.dev/modifiers/full_urls",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"repeat",acceptsType:["string"],returnsType:["string"],description:"Repeats a value a given number of times.",docLink:"https://statamic.dev/modifiers/repeat",parameters:[{name:"repeat_count",description:"The number of times to repeat the value."}],canBeParameter:!0,isDeprecated:!1},{name:"to_spaces",acceptsType:["string"],returnsType:["string"],description:"Converts all tabs to spaces.",docLink:"https://statamic.dev/modifiers/to_spaces",parameters:[{name:"space_count",description:"The number of spaces to replace tabs with."}],canBeParameter:!1,isDeprecated:!1},{name:"to_tabs",acceptsType:["string"],returnsType:["string"],description:"Converts spaces to tabs.",docLink:"https://statamic.dev/modifiers/to_tabs",parameters:[{name:"space_count",description:"The number of spaces to convert to tabs."}],canBeParameter:!1,isDeprecated:!1},{name:"to_json",acceptsType:["*"],returnsType:["string"],description:"Converts the data to JSON.",docLink:"https://statamic.dev/modifiers/to_json",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"to_bool",acceptsType:["*"],returnsType:["boolean"],description:"Converst the data to a boolean",parameters:[],canBeParameter:!1,docLink:null,isDeprecated:!1}];var Ki=class{constructor(){this.registeredModifiers=new Map;this.acceptTypedModifierReference=new Map;this.returnTypeModifierReference=new Map;this.macros=new Map;this.modifierNameCache=[]}reset(){this.modifierNameCache=[],this.registeredModifiers.clear(),this.acceptTypedModifierReference.clear(),this.returnTypeModifierReference.clear()}getRegisteredModifiers(){return this.registeredModifiers}resetMacros(){this.macros.clear()}loadCoreModifiers(){this.registerModifiers(cg),this.registerModifiers(fg),this.registerModifiers(pg),this.registerModifiers(dg),this.registerModifiers(mg),this.registerModifiers(hg),this.registerModifiers(yg),this.registerModifiers(_g),this.registerModifiers(gg)}getModifierNames(){return this.modifierNameCache}registerMacro(e){this.macros.set(e.name,e)}registerMacros(e){for(let n=0;n<e.length;n++)this.registerMacro(e[n])}hasMacro(e){if(this.macros.has(e)){let n=this.macros.get(e);return!(typeof n=="undefined"||n===null)}return!1}getMacro(e){if(this.macros.has(e)){let n=this.macros.get(e);return typeof n=="undefined"||n===null?null:n}return null}getMacroManifestingType(e){let n=this.getMacro(e);return n==null?"":n.manifestsType}getRegisteredModifier(e){return this.registeredModifiers.has(e)?this.registeredModifiers.get(e):null}getModifiersForType(e){let n=fu(e);return this.acceptTypedModifierReference.has(n)?this.acceptTypedModifierReference.get(n):[]}getProbableReturnType(e,n){return e==null||e.returnsType.length==0?"":n&&e.returnsType.includes("array")?"array":e.returnsType[0]}registerModifiers(e){var n,r;for(let i=0;i<e.length;i++){let s=e[i];this.modifierNameCache.push(s.name);for(let a=0;a<s.acceptsType.length;a++){let o=s.acceptsType[a];this.acceptTypedModifierReference.has(o)==!1&&this.acceptTypedModifierReference.set(o,[]),(n=this.acceptTypedModifierReference.get(o))==null||n.push(s)}for(let a=0;a<s.returnsType.length;a++){let o=s.returnsType[a];this.returnTypeModifierReference.has(o)==!1&&this.returnTypeModifierReference.set(o,[]),(r=this.returnTypeModifierReference.get(o))==null||r.push(s)}this.registeredModifiers.set(e[i].name,e[i])}}registerModifier(e){let n=[];n.push(e),this.registerModifiers(n)}getModifier(e){if(this.registeredModifiers.has(e)==!1)return null;let n=this.registeredModifiers.get(e);return typeof n=="undefined"||n==null?null:n}hasModifier(e){if(!this.registeredModifiers.has(e))return!1;let n=this.registeredModifiers.get(e);return!(typeof n=="undefined"||n==null)}};Ki.instance=null;(typeof Ki.instance=="undefined"||Ki.instance==null)&&(Ki.instance=new Ki,Ki.instance.loadCoreModifiers());var xt=Ki;var zf=class{constructor(e){this.parameterModifiers=[];this.hasMixedModifierStyles=!1;this.modifierNames=[];this.node=e}isPaired(){return this.node instanceof z?this.node.isPaired():!1}getModifierValue(e){var n;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let i=this.node.modifierChain.modifierChain[r];if(((n=i.nameNode)==null?void 0:n.name)==e)return i.valueNodes.length>0?i.valueNodes[0].content:""}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let i=this.parameterModifiers[r];if(i.name==e)return i.value}return null}getModifierRange(e){var n;if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let r=0;r<this.node.modifierChain.modifierChain.length;r++){let i=this.node.modifierChain.modifierChain[r];if(((n=i.nameNode)==null?void 0:n.name)==e)return i.valueNodes.length>0?{start:i.startPosition,end:i.endPosition}:null}if(this.hasParameterModifiers())for(let r=0;r<this.parameterModifiers.length;r++){let i=this.parameterModifiers[r];if(i.name==e&&i.namePosition!=null&&i.valuePosition!=null)return{start:i.namePosition.start,end:i.valuePosition.end}}return null}getLastManifestedModifierRuntimeType(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null){if(this.node.modifierChain.lastManifestedModifier.parameters.length>0&&this.node.modifierChain.lastManifestedModifier.modifier!=null&&xt.instance!=null){let e=this.node.modifierChain.lastManifestedModifier.modifier;return xt.instance.getProbableReturnType(e,this.isPaired())}return"*"}if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null&&xt.instance!=null){let r=e[n].modifier;return xt.instance.getProbableReturnType(r,this.isPaired())}}return"*"}getLastManifestedModifierValue(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null)return this.node.modifierChain.lastManifestedModifier.parameters.length>0?this.node.modifierChain.lastManifestedModifier.parameters[0].value:"";if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null)return e[n].value}return""}getLastManifestedModifier(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastModifier!=null)return this.node.modifierChain.lastModifier;if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null)return e[n].modifier}return null}hasModifiers(){return this.node.modifierChain==null||this.node.modifierChain.modifierChain.length==0?this.parameterModifiers.length>0:!0}hasParameterModifiers(){return this.parameterModifiers.length>0}hasShorthandModifiers(){return this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0}hasModifier(e){return this.modifierNames.includes(e)}};function Xf(t){let e=[];return t.forEach(n=>{n instanceof z?e.push(n):n instanceof Nn&&n.logicBranches.length>0&&n.logicBranches.forEach(r=>{if(r.head!=null){let i=r.head;i.originalNode!=null?e.push(i.originalNode):e.push(i)}})}),e}var ND=[" ",`
`,"\r","	","\f","\v","\xA0","\u2000","\u2001","\u2002","\u2003","\u2004","\u2005","\u2006","\u2007","\u2008","\u2009","\u200A","\u200B","\u2028","\u2029","\u3000"].join("");function bg(t){return(typeof t=="number"||typeof t=="string"&&ND.indexOf(t.slice(-1))===-1)&&t!==""&&!isNaN(t)}var Z=class{static normalizeLineEndings(e,n=`
`){return e.replace(/\r?\n/g,n)}static breakByNewLine(e){return e.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`)}static split(e){return e.split("")}static substring(e,n,r){return e.substr(n,r)}static ctypeSpace(e){return(e==null?void 0:e.search(/^[\f\n\r\t\v ]+$/g))!==-1}static ctypeAlpha(e){return(e==null?void 0:e.search(/^[A-Za-z]+$/g))!==-1}static ctypeDigit(e){return(e==null?void 0:e.search(/^[\d]+$/g))!==-1}static ctypePunct(e){return(e==null?void 0:e.search(/^[\u0021-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007E]+$/g))!==-1}static trimLeft(e,n="\\s"){return e.replace(new RegExp("^["+n+"]+"),"")}static trimRight(e,n="\\s"){return e.replace(new RegExp("["+n+"]+$"),"")}static isNumeric(e){return bg(e)}static substringCount(e,n){let r=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return(e.match(new RegExp(r,"gi"))||[]).length}static getLastLine(e){let n=Z.breakByNewLine(e);return n.length==0?"":n[n.length-1]}static getFirstLine(e){let n=Z.breakByNewLine(e);return n.length==0?"":n[0]}};var Qf=class{constructor(e){this.node=e}findParentWithName(e){let n=this.node.getParser();return n==null?null:n.structure.findParentWithName(e,this.node)}};var vg=je(pu());var K=class{constructor(){this.node=null;this.errorCode="";this.message="";this.level=0;this.range=null;this.actions=[];this.lsRange=null;this.data=null}hash(){var n,r,i,s;let e="";return this.node!=null&&(e=((r=(n=this.node.endPosition)==null?void 0:n.offset)!=null?r:0).toString()+"|"+((s=(i=this.node.startPosition)==null?void 0:i.offset)!=null?s:0).toString()+"|"),vg.Md5.hashStr(e+"|"+this.errorCode)}static makeSyntaxError(e,n,r,i){i==null&&(i=0);let s=new K;return s.errorCode=e,s.node=n,s.message=r,s.level=i,s}};var D=class{};D.TYPE_EXPECTING_OPERAND="ANTLR_001",D.TYPE_UNEXPECTED_END_OF_INPUT="ANTLR_002",D.TYPE_RUNTIME_TYPE_MISMATCH="ANTLR_003",D.TYPE_RUNTIME_DIVIDE_BY_ZERO="ANTLR_004",D.TYPE_RUNTIME_UNKNOWN_LANG_OPERATOR="ANTLR_005",D.TYPE_RUNTIME_UNEXPECTED_STACK_CONDITION="ANTLR_006",D.TYPE_RUNTIME_PARSE_VALUE_VIOLATION="ANTLR_007",D.TYPE_PARSE_UNCLOSED_CONDITIONAL="ANTLR_008",D.TYPE_PARSE_EMPTY_CONDITIONAL="ANTLR_009",D.TYPE_PARSE_UNPAIRED_CONDITIONAL="ANTLR_008",D.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE="ANTLR_009",D.TYPE_INCOMPLETE_ANTLERS_REGION="ANTLR_010",D.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION="ANTLR_011",D.TYPE_ILLEGAL_VARPATH_RIGHT="ANTLR_012",D.TYPE_ILLEGAL_DOTVARPATH_RIGHT="ANTLR_013",D.TYPE_ILLEGAL_VARPATH_SUBPATH_START="ANTLR_014",D.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT="ANTLR_015",D.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR="ANTLR_016",D.TYPE_ILLEGAL_VARIABLE_NAME="ANTLR_017",D.TYPE_UNSET_MODIFIER_DETAILS="ANTLR_018",D.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS="ANTLR_019",D.TYPE_MODIFIER_UNEXPECTED_VALUE="ANTLR_020",D.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST="ANTLR_021",D.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR="ANTLR_022",D.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH="ANTLR_023",D.TYPE_RECURSIVE_UNPAIRED_NODE="ANTLR_024",D.TYPE_RECURSIVE_NODE_INVALID_POSITION="ANTLR_025",D.TYPE_NO_PARSE_UNASSOCIATED="ANTLR_026",D.TYPE_RECURSIVE_NODE_UNASSOCIATED_PARENT="ANTLR_027",D.TYPE_LOGIC_GROUP_NO_END="ANTLR_028",D.TYPE_LOGIC_GROUP_NO_START="ANTLR_029",D.TYPE_UNEXPECTED_BRANCH_SEPARATOR="ANTLR_030",D.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE="ANTLR_031",D.TYPE_UNEXPECTED_MODIFIER_SEPARATOR="ANTLR_032",D.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS="ANTLR_033",D.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE="ANTLR_034",D.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER="ANTLR_035",D.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE="ANTLR_036",D.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS="ANTLR_037",D.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SEMANTIC_GROUP="ANTLR_038",D.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP="ANTLR_039",D.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP="ANTLR_040",D.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH="ANTLR_041",D.TYPE_UNEXPECTED_EOI_WHILE_EXITING_TERNARY_GROUP="ANTLR_042",D.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET="ANTLR_043",D.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION="ANTLR_044",D.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END="ANTLR_045",D.TYPE_RUNTIME_UNKNOWN_LIBRARY="ANTLR_046",D.TYPE_RUNTIME_LIBRARY_BAD_METHOD_CALL="ANTLR_047",D.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS="ANTLR_048",D.TYPE_UNEXPECTED_FACTORIAL_OPERAND="ANTLR_049",D.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR="ANTLR_050",D.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED="ANTLR_051",D.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT="ANTLR_052",D.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP="ANTLR_053",D.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT="ANTLR_054",D.TYPE_LIBRARY_CALL_NO_ARGS_PROVIDED="ANTLR_055",D.TYPE_LIBRARY_CALL_MISSING_REQUIRED_FORMAL_ARG="ANTLR_056",D.TYPE_LIBRARY_CALL_RUNTIME_TYPE_MISMATCH="ANTLR_057",D.TYPE_LIBRARY_CALL_UNEXPECTED_ARG_RESOLVE_FAULT="ANTLR_058",D.TYPE_LIBRARY_CALL_TOO_MANY_ARGUMENTS="ANTLR_059",D.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD="ANTLR_060",D.TYPE_INVALID_NAMED_ARG_IDENTIFIER="ANTLR_061",D.TYPE_LIBRARY_CALL_INVALID_ARGUMENT_NAME="ANTLR_062",D.TYPE_RUNTIME_ATTEMPT_TO_OVERWRITE_LOADED_LIBRARY="ANTLR_063",D.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP="ANTLR_064",D.TYPE_EXPECTING_ARGUMENT_GROUP="ANTLR_065",D.TYPE_RUNTIME_PROTECTED_LIBRARY_ACCESS_VIOLATION="ANTLR_066",D.TYPE_RUNTIME_FATAL_UNPAIRED_LOOP_END="ANTLR_067",D.TYPE_UNEXPECTED_OPERATOR="ANTLR_068",D.TYPE_OPERATOR_INVALID_ON_RIGHT="ANTLR_069",D.TYPE_INVALID_ASSIGNMENT_LOOP_PAIR="ANTLR_070",D.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP="ANTLR_071",D.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND="ANTLR_072",D.TYPE_QUERY_UNSUPPORTED_VALUE_TYPE="ANTLR_073",D.TYPE_UNEXPECTED_RUNTIME_RESULT_FOR_ORDER_BY_CLAUSE="ANTLR_074",D.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP="ANTLR_075",D.TYPE_INVALID_ORDER_BY_NAME_VALUE="ANTLR_076",D.TYPE_INVALID_ORDER_BY_SORT_VALUE="ANTLR_077",D.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY="ANTLR_78",D.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY="ANTLR_079",D.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE="ANTLR_080",D.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP="ANTLR_081",D.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP="ANTLR_082",D.TYPE_UNEXPECTED_SWITCH_START_VALUE="ANTLR_083",D.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE="ANTLR_084",D.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_SEMANTIC_VALUE="ANTLR_085",D.TYPE_SWITCH_DEFAULT_MUST_BE_LAST="ANTLR_086",D.TYPE_PARSER_INVALID_SWITCH_TOKEN="ANTLR_087",D.TYPE_ORDER_BY_INVALID_RETURN_TYPE="ANTLR_088",D.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED="ANTLR_089",D.TYPE_PLUCK_INTO_MISSING_VARIABLE_TARGET="ANTLR_090",D.TYPE_PLUCK_INTO_INVALID_VARIABLE_TARGET="ANTLR_091",D.TYPE_PLUCK_INTO_NO_PREDICATE="ANTLR_092",D.TYPE_PLUCK_INTO_INVALID_PREDICATE_VALUE="ANTLR_093",D.TYPE_PLUCK_INTO_EMPTY_LOGIC_GROUP="ANTLR_094",D.TYPE_PLUCK_INTO_INVALID_NUMBER_OF_TUPLE_VARIABLES="ANTLR_095",D.TYPE_PLUCK_INTO_UNKNOWN_ALIAS_VARNAME="ANTLR_096",D.TYPE_PLUCK_INTO_UNEXPECTED_EMPTY_T_LOGIC_GROUP="ANTLR_097",D.TYPE_PLUCK_INTO_REFERENCE_TYPE_DYNAMIC="ANTLR_098",D.TYPE_PLUCK_INTO_REFERENCE_AMBIGUOUS="ANTLR_099",D.TYPE_RUNTIME_ASSIGNMENT_TO_NON_VAR="ANTLR_100",D.TYPE_ARR_MAKE_MISSING_TARGET="ANTLR_101",D.TYPE_ARR_MAKE_UNEXPECTED_TYPE="ANTLR_102",D.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE="ANTLR_103",D.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE="ANTLR_104",D.TYPE_ARR_UNEXPECT_ARG_SEPARATOR="ANTLR_105",D.TYPE_ARR_KEY_PAIR_MISSING_KEY="ANTLR_106",D.RUNTIME_PROTECTED_VAR_ACCESS="ANTLR_107",D.RUNTIME_PROTECTED_TAG_ACCESS="ANTLR_108",D.RUNTIME_PROTECTED_MODIFIER_ACCESS="ANTLR_109",D.TYPE_INCOMPLETE_PHP_EVALUATION_REGION="ANTLR_110",D.RUNTIME_PHP_NODE_WHEN_PHP_DISABLED="ANTLR_111",D.RUNTIME_PHP_NODE_USER_CONTENT_TAG="ANTLR_112",D.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST="ANTLR_113",D.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST="ANTLR_114",D.TYPE_MISSING_BODY_TUPLE_LIST="ANTLR_115",D.TYPE_MISSING_NAMES_TUPLE_LIST="ANTLR_116",D.TYPE_VALUE_NAME_LENGTH_MISMATCH_TUPLE_LIST="ANTLR_117",D.TYPE_INVALID_TUPLE_LIST_NAME_TYPE="ANTLR_118",D.TYPE_INVALID_MANIFESTED_NAME_GROUP="ANTLR_119",D.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP="ANTLR_120",D.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE="ANTLR_121",D.TYPE_RUNTIME_BAD_METHOD_CALL="ANTLR_122",D.TYPE_METHOD_CALL_MISSING_ARG_GROUP="ANTLR_123",D.TYPE_INVALID_METHOD_CALL_ARG_GROUP="ANTLR_124",D.TYPE_METHOD_CALL_MISSING_METHOD="ANTLR_125",D.TYPE_MODIFIER_NOT_FOUND="ANTLR_126",D.TYPE_RUNTIME_GENERAL_FAULT="ANTLR_127",D.TYPE_MODIFIER_INCORRECT_VALUE_POSITION="ANTLR_128",D.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX="ANTLR_129",D.TYPE_RUNTIME_ATTEMPTING_TO_RENDER_OBJECT_AS_STRING="ANTLR_130",D.TYPE_UNPAIRED_CLOSING_TAG="ANTLR_131",D.PARSER_CANNOT_PARSE_PATH_RECURSIVE="ANTLR_200",D.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR="ANTLR_201",D.LINT_UNKNOWN_PARAMETER="ANTLR_500",D.LINT_GENERAL_INVALID_PARAMETER_CONTENTS="ANTLR_501",D.LINT_PARAMETER_CONTENT_INVALID_INTEGER="ANTLR_502",D.LINT_PARAMETER_CONTENT_INVALID_BOOLEAN="ANT LR_503",D.LINT_PAGINATE_INVALID_VALUE="ANTLR_504",D.LINT_DEBUG_DATA_EXPOSED="ANTLR_505",D.LINT_DOUBLE_COLON_IN_TAG_IDENTIFIER="ANTLR_506",D.LINT_MIXED_MODIFIERS="ANTLR_507",D.LINT_MODIFIER_UNEXPECTED_TYPE="ANTLR_508",D.LINT_REMOVE_RELATE_TAG="ANTLR_509",D.LINT_SET_PRODUCES_RUNTIME_ERROR="ANTLR_510",D.LINT_FRONT_MATTER_EMPTY_DOCUMENT="ANTLR_511",D.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH="ANTLR_512",D.LINT_INVALID_FRONT_MATTER="ANTLR_513",D.LINT_DUPLICATE_CODE="ANTLR_514",D.LINT_VERSION_NOT_COMPATIBLE="ANTLR_515",D.LINT_INTERLEAVED_TAG_PAIRS="ANTLR_516",D.LINT_MISSING_REQUIRED_PARAMETER="ANTLR_517",D.LINT_POSSIBLE_PARTIAL_RECURSION="ANTLR_518",D.LINT_URL_VARIABLE_WITHOUT_SANITIZE="ANTLR_519",D.LINT_DYNAMIC_CLASS_NAMES_POSSIBLE_PURGE="ANTLER_520",D.LINT_DEPRECATED_MODIFIER="ANTLER_521";var lt=class{static distance(e,n){return e.endPosition==null||n.startPosition==null?this.DistMax:n.startPosition.index-e.endPosition.index}static getTrueName(e){var n,r,i,s;return e.originalNode!=null?(r=(n=e.originalNode.name)==null?void 0:n.name)!=null?r:"":(s=(i=e.name)==null?void 0:i.name)!=null?s:""}static getSimpleVarName(e){return e.variableReference!=null&&e.variableReference.pathParts.length==1&&e.variableReference.pathParts[0]instanceof Yn?e.variableReference.pathParts[0].name:""}static isVariableMatching(e,n){return e instanceof Ne?e.name==n:!1}static mergeVarContentLeft(e,n,r){return r.mergeRefName=r.name,r.endPosition=n.endPosition,r.name=r.name+e,r}static mergeVarContentRight(e,n,r){return r.mergeRefName=r.name,r.startPosition=n.startPosition,r.name=e+r.name,r}static mergeVarRight(e,n){return n.mergeRefName=n.name,n.startPosition=e.startPosition,n.name=e.name+n.name,n}static getUnrefName(e){return Z.trimLeft(e,":.")}};lt.DistMax=65e3;var fr=class{static isConditionalStructure(e){var r,i;if(e.isComment)return!1;let n=(i=(r=e.name)==null?void 0:r.name)!=null?i:"";return n=="if"||n=="elseif"||n=="else"}static requiresClose(e){var r,i;let n=(i=(r=e.name)==null?void 0:r.name)!=null?i:"";return n=="elseif"||n=="else"?e.isClosedBy==null:!(e.isClosingTag||e.isClosedBy!=null)}static getValidClosingPairs(e){return e=="if"||e=="elseif"?fr.conditionClosingPairs:[]}static findClosestStructurePair(e,n,r){var u,c,f,m,y,p,d,g;let i=[],s=e.length,a=new Map,o=null;i.push({node:n,index:r});for(let h=0;h<s;h+=1){let b=e[h];if(b instanceof z){let _=(c=(u=b.name)==null?void 0:u.name)!=null?c:"";if(b.isClosingTag&&_=="if"){a.set(h,h);continue}else if(_=="elseif"||_=="else"){a.set(h,h);continue}}}let l=a.size;for(;i.length>0;){let h=i.pop();if(h==null)continue;if(h.node._conditionParserAbandonPairing)break;let b=h.node,_=fr.getValidClosingPairs((m=(f=b.name)==null?void 0:f.name)!=null?m:""),N=h.index,C=!1;if(l>50&&o!=null){for(let[W,L]of a)if(W>N){N=W;break}}for(let W=N;W<s;W++){let L=e[W];if(L instanceof z&&fr.isConditionalStructure(L)){if(fr.requiresClose(L)){i.push(h),i.push({node:L,index:W+1}),C=!0;break}if(b.isClosedBy!=null)continue;let M=(p=(y=L.name)==null?void 0:y.name)!=null?p:"",H=!1;if(L.ref==0&&(L.isClosingTag&&M=="if"||_.includes(M))&&(H=!0),L.refId==b.refId&&(H=!1),H){o=W,a.delete(W),b.isClosedBy=L,L.isOpenedBy=b,L.ref+=1,C=!0;break}}}if(!C&&b instanceof z){let W=(g=(d=b.name)==null?void 0:d.name)!=null?g:"";if((W=="elseif"||W=="else")&&b.isOpenedBy==null){let L='Unpaired "'+lt.getTrueName(b)+'" control structure.';b.isInterpolationNode&&(L+=" Tag pairs are not supported within Antlers tags."),b.pushError(K.makeSyntaxError(D.TYPE_PARSE_UNPAIRED_CONDITIONAL,b,L)),b._conditionParserAbandonPairing=!0}if(b.isClosedBy==null&&fr.requiresClose(b)){let L='Unclosed "'+lt.getTrueName(b)+'" control structure.';b.isInterpolationNode&&(L+=" Tag pairs are not supported within Antlers tags."),b.pushError(K.makeSyntaxError(D.TYPE_PARSE_UNCLOSED_CONDITIONAL,b,L)),b._conditionParserAbandonPairing=!0}}}}static pairConditionals(e){for(let n=0;n<e.length;n+=1){let r=e[n];r instanceof z&&fr.isConditionalStructure(r)&&fr.requiresClose(r)&&fr.findClosestStructurePair(e,r,n+1)}return e.forEach(n=>{var r,i;if(n instanceof z&&fr.isConditionalStructure(n)){let s=(i=(r=n.name)==null?void 0:r.name)!=null?i:"";if((s=="elseif"||s=="else")&&n.isOpenedBy==null){n.pushError(K.makeSyntaxError(D.TYPE_PARSE_UNPAIRED_CONDITIONAL,n,'Unpaired "'+lt.getTrueName(n)+'" control structure.'));return}if(n.isClosedBy==null&&fr.requiresClose(n)){n.pushError(K.makeSyntaxError(D.TYPE_PARSE_UNCLOSED_CONDITIONAL,n,"Unclosed "+lt.getTrueName(n)+" control structure."));return}}}),e}},Hn=fr;Hn.conditionClosingPairs=["elseif","else"];function Es(t,e){return e==null&&(e="s"),t.replace(new RegExp("^["+e+"]+"),"")}function pr(t,e,n){return t.replace(new RegExp(e,"g"),n)}function Zf(t,e){return e==null&&(e="s"),t.replace(new RegExp("["+e+"]+$"),"")}function ya(){return(Date.now().toString(32)+Math.random().toString(16)).replace(/\./g,"")}function Ng(){return pr(ya(),"-","_")}var du=class{constructor(){this.startPosition=null;this.endPosition=null;this.index=0;this.embeddedIndex=0;this.refId=null;this.parameters=[];this.isSelfClosing=!1;this.isClosingFragment=!1;this.name="";this.containsStructures=!1;this.refId=Ng()}},ep=class{constructor(){this.startPosition=null;this.endPosition=null;this.content="";this.name=""}};function CD(t){let e=[],n=[];for(let r=0;r<t.length;r++){let i=t[r],s=i.refId;if(n.includes(s))break;e.push(i),n.push(s)}return e}var se=class{constructor(){this.refId=null;this.index=0;this.parent=null;this.content="";this.rawLexContent="";this.sourceContent="";this.startPosition=null;this.endPosition=null;this.modifierChain=null;this.originalAbstractNode=null;this.positionContexts=[];this.addedContexts=new Map;this.fragment=null;this.fragmentParameter=null;this.fragmentPosition=3;this.containsAnyFragments=!1;this.containsChildStructures=!1;this.isInScriptTag=!1;this.isInStyleTag=!1;this.isVirtual=!0;this.isPartOfMethodChain=!1;this.isVirtualGroupMember=!1;this.isVirtualGroupOperatorResolve=!1;this.isSwitchGroupMember=!1;this.isListGroupMember=!1;this.producesVirtualStatementTerminator=!1;this.convertedToOperator=!1;this.scopeVariable=null;this.currentScope=null;this.manifestType="";this.scopeName=null;this.sourceType="";this.runtimeType=null;this.modifiers=new zf(this);this.prev=null;this.next=null;this.methodTarget=null;this.libraryTarget=null;this.antlersErrors=[];this.parser=null;this.refId=Ng()}isEmbedded(){return this.isInScriptTag||this.isInStyleTag}getContexts(){return this.positionContexts}addContext(e){this.addedContexts.has(e.refId)==!1&&(this.addedContexts.set(e.refId,!0),this.positionContexts.push(e))}getRange(){if(this.originalAbstractNode!=null)return this.originalAbstractNode.getRange();if(this.startPosition==null||this.endPosition==null)return jo.Empty;let e=new jo;return e.start=this.startPosition,e.end=this.endPosition,e}withParser(e){this.parser=e}getParser(){return this.parser}pushError(e){this.parent!=null&&this.parent.pushError(e),this.antlersErrors.push(e),this.parent==null&&this.parser!=null&&this.parser.pushError(e)}mergeErrors(e){e.forEach(n=>{n.node==null&&(n.node=this),this.antlersErrors.push(n)})}getErrors(){return this.antlersErrors}innerContent(){return this.content}rawContent(){return this.content}},tp=class extends se{constructor(){super(...arguments);this.head=null;this.tail=null;this.nodes=[];this.documentText="";this.childDocument=null}getImmediateChildren(){return this.head==null?[]:this.head.getImmediateChildren()}},Nn=class extends se{constructor(){super(...arguments);this.logicBranches=[];this.chain=[];this.nodeContent="";this.fragment=null;this.fragmentParameter=null;this.fragmentPosition=3;this.containsAnyFragments=!1;this.containsChildStructures=!1}},z=class extends se{constructor(){super(...arguments);this.isNodeAbanonded=!1;this.isComment=!1;this.isTagNode=!1;this.isConditionNode=!1;this.runtimeContent="";this.name=null;this.pathReference=null;this.isClosingTag=!1;this.isInterpolationNode=!1;this.isOpenedBy=null;this.isClosedBy=null;this.isSelfClosing=!1;this.children=[];this.runtimeNodes=[];this.parsedRuntimeNodes=[];this.hasParsedRuntimeNodes=!1;this.parameters=[];this.hasParameters=!1;this.contentOffset=null;this.cachedContent=null;this.cachedInnerContent=null;this.hasRecursiveNode=!1;this.recursiveReference=null;this.rawStart="";this.rawEnd="";this.originalNode=null;this.interpolationRegions=new Map;this.processedInterpolationRegions=new Map;this.hasProcessedInterpolationRegions=!1;this.ref=0;this.contentStartRelativeIndex=null;this.antlersNodeIndex=0;this.nameStartsOn=null;this.nameEndsOn=null;this.nameMethodPartStartsOn=null;this.documentText="";this.nodeContent="";this.childDocument=null;this.structure=new Qf(this);this.isInlineAntlers=!1;this.mustClose=!1;this.reference=null;this._conditionParserAbandonPairing=!1;this._isEndVirtual=!1}getOriginalContent(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.isClosedBy!=null?this.isClosedBy.startPosition==null||this.isClosedBy.endPosition==null?"":this.parser.getText(this.startPosition.index,this.isClosedBy.endPosition.index+1):this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getNodeDocumentText(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getImmediateChildren(){let e=[];for(let n=0;n<this.children.length;n++){let r=this.children[n];if(r.parent==this){if(r==this.isClosedBy)break;e.push(r)}}return CD(e)}getChildren(){if(this.isClosedBy==null)return[];let e=[];for(let n=0;n<this.children.length;n++){let r=this.children[n];if(r instanceof z&&r.refId==this.isClosedBy.refId)break;e.push(r)}return e}getInnerDocumentText(){if(this.startPosition==null||this.endPosition==null||this.parser==null)return"";if(this.isClosedBy==null)return this.getNodeDocumentText();let e=this.isClosedBy.startPosition;return e==null?"":this.parser.getText(this.endPosition.index+1,e.index)}nodeAtIndex(e){if(this.runtimeNodes.length==0)return null;for(let n=0;n<this.runtimeNodes.length;n++)if(this.runtimeNodes[n].index==e)return this.runtimeNodes[n];return null}getDepthCount(){if(this.parent==null)return 1;let e=this.parent,n=1;for(;e!=null;){if(n+=1,e.parent===e){e=null;break}e=e.parent}return n}isEmpty(){return this.content.trim().length==0}nameMatches(e){return this.name==null?!1:this.name.content==e}copyBasicDetails(){return this.copyBasicDetailsTo(new z)}copyBasicDetailsTo(e){return e.refId=this.refId,e.isComment=this.isComment,e.isTagNode=this.isTagNode,e.children=this.children,e.parent=this.parent,e.parameters=this.parameters,e.isClosingTag=this.isClosingTag,e.rawStart=this.rawStart,e.rawEnd=this.rawEnd,e.startPosition=this.startPosition,e.endPosition=this.endPosition,e.originalAbstractNode=this,e.containsAnyFragments=this.containsAnyFragments,e.containsChildStructures=this.containsChildStructures,e.isInScriptTag=this.isInScriptTag,e.isInStyleTag=this.isInStyleTag,e}id(){return this.refId}innerContent(){return this.cachedInnerContent==null&&(this.cachedInnerContent=this.content.replace('"','\\"')),this.cachedInnerContent}resetContentCache(){this.cachedContent=null,this.cachedInnerContent=null}hasMethodPart(){return this.name==null?!1:this.name.getMethodName()!=null}runtimeName(){return this.name==null?"":this.name.getCompoundTagName()}getTagName(){return this.name==null?"":this.name.name}getNameContent(){return this.name==null?"":this.name.content}getMethodNameValue(){if(this.name==null)return"";let e=this.name.getMethodName();return e!=null?e:""}methodIsEmptyOrMatches(e){return this.getMethodNameValue()==e}hasParameter(e){return this.findParameter(e)!=null}hasParameterWithValue(e,n){let r=this.findParameter(e);return r==null?!1:r.value==n}findParameterValue(e,n){let r=this.findParameter(e);return r==null?n:r.value}findParameterValueOrNull(e){let n=this.findParameter(e);return n==null?null:n.value}findParameter(e){if(this.parameters.length==0)return null;for(let n=0;n<this.parameters.length;n++)if(this.parameters[n].name==e)return this.parameters[n];return null}findAnyParameter(e){for(let n=0;n<e.length;n++){let r=this.findParameter(e[n]);if(r!=null)return r}return null}getContentRelativeStartIndex(){if(this.contentStartRelativeIndex==null){let e=this.content.split("");for(let n=0;n<e.length;n++)if(!Z.ctypeSpace(e[n])){this.contentStartRelativeIndex=n;break}this.contentStartRelativeIndex==null&&(this.contentStartRelativeIndex=e.length),this.contentStartRelativeIndex+=this.rawStart.length}return this.contentStartRelativeIndex}getContentAfterName(){let e=0;return this.nameEndsOn!=null&&(e=this.nameEndsOn.char-this.rawStart.length-1),this.content.substring(e)}getContent(){if(this.cachedContent==null)if(this.isComment)this.cachedContent=this.content,this.contentOffset=this.startPosition;else if(this.isTagNode){let e=this.content;e=Z.trimLeft(e);let n=0;if(this.name!=null&&(n=this.name.compound.length),this.parameters.length>0){let a=0,o=this.parameters[0];o.startPosition!=null&&(a=o.startPosition.index-1);let l=e,u=l.trimLeft(),c=l.length-u.length,f=n;e=e.substr(0,a)}let r=e.trimLeft(),i=e.length-r.length,s=n+i+2;if(this.parser!=null){let a=0;this.startPosition!=null&&(a=this.startPosition.offset),this.contentOffset==this.parser.positionFromOffset(a+s,0)}this.name!=null?this.name.name=="if"||this.name.name=="elseif"||this.name.name=="unless"||this.name.name=="elseunless"?(e=" "+e.trimLeft(),this.cachedContent=e.substr(this.name.compound.length+1)):this.cachedContent=e:this.cachedContent=e}else if(this.parameters.length>0){let e=this.parameters[0],n=0;e.startPosition!=null&&(n=e.startPosition.index-1),this.contentOffset=this.startPosition,this.cachedContent=this.content.substr(0,n)}else this.contentOffset=this.startPosition,this.cachedContent=this.content;return this.cachedContent}relativePositionFromOffset(e,n){var r,i;return this.parser==null?null:this.parser.positionFromOffset(((i=(r=this.contentOffset)==null?void 0:r.offset)!=null?i:0)+e,n)}getInterpolationNode(e){if(this.processedInterpolationRegions.has(e)){let n=this.processedInterpolationRegions.get(e);if(n.length>0&&n[0]instanceof z)return n[0]}return null}_lexerRelativeOffset(e,n=null){var a,o;let r=e;if(n!=null&&(r=n),this.parser==null){let l=new Fn;return l.index=e,l.offset=e,l}let i=e+this.rawStart.length+((o=(a=this.startPosition)==null?void 0:a.index)!=null?o:0);return this.isTagNode&&this.nameStartsOn!=null&&(i=this.nameStartsOn.index+e,Hn.isConditionalStructure(this)||(i-=this.rawStart.length)),this.parser.positionFromOffset(i,i,!0)}relativeOffset(e,n=null){var a,o;let r=e;if(n!=null&&(r=n),this.parser==null){let l=new Fn;return l.index=e,l.offset=e,l}let i=e+this.rawStart.length+((o=(a=this.startPosition)==null?void 0:a.index)!=null?o:0);return this.parser.positionFromOffset(i,i,!0)}isPaired(){return this.isClosingTag&&this.isSelfClosing==!1&&this.isOpenedBy!=null?!0:!(this.isClosedBy==null||this.isSelfClosing)}getFinalClosingTag(){return this.isClosedBy==null?this:this.isClosedBy.getFinalClosingTag()}rawContent(){return this.rawStart+this.content+this.rawEnd}getTrueRuntimeNodes(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRuntimeNodes():this.runtimeNodes}getTrueRawContent(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRawContent():this.rawContent()}getTrueNode(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueNode():this}getStructuralChildren(){return this.isClosedBy!=null?Xf(this.children.slice(0,-1)):Xf(this.children)}findParentOfType(e){return this.parent==null?null:this.parent instanceof z?this.parent.name!=null&&e.includes(this.parent.getTagName())?this.parent:this.parent.findParentOfType(e):null}},$n=class extends z{static makeWithStartPosition(e){let n=new $n;return n.startPosition=e,n.endPosition=e,n}},ht=class extends $n{},dr=class extends z{constructor(){super(...arguments);this.recursiveParent=null;this.isNestedRecursive=!1}},ba=class extends z{constructor(){super(...arguments);this.isEchoNode=!1}},Uo=class extends $n{},np=class extends $n{},on=class extends z{constructor(){super(...arguments);this.isNoParseRegion=!1}},Wo=class extends se{constructor(){super(...arguments);this.modifier=null;this.isModifierParameter=!1;this.nameDelimiter='"';this.isVariableReference=!1;this.name="";this.value="";this.interpolations=[];this.parent=null;this.blockPosition=null;this.namePosition=null;this.valuePosition=null}containsSimpleValue(){return this.hasInterpolations()==!1&&this.isVariableReference==!1}hasInterpolations(){return this.interpolations.length>0}getArrayValue(){return this.value.split("|")}getValue(){return this.value}},Go=class{constructor(){this.modifierTarget=null;this.modifierChain=[];this.startPosition=null;this.endPosition=null;this.lastManifestedModifier=null;this.lastModifier=null}updateValues(){if(this.modifierChain.length==0)this.startPosition=null,this.endPosition=null;else{let e=this.modifierChain[0],n=this.modifierChain[this.modifierChain.length-1];this.startPosition=e.startPosition,this.endPosition=n.endPosition}}},Ta=class extends se{constructor(){super(...arguments);this.modifier=null;this.methodStyleArguments=null;this.nameNode=null;this.name="";this.valueNodes=[];this.parameters=[]}getParameterValues(){let e=[];return this.parameters.forEach(n=>{e.push(n.value)}),e}},Yo=class extends se{constructor(){super(...arguments);this.order=0;this.name=null;this.directionNode=null}},rp=class extends se{constructor(){super(...arguments);this.value=""}},Or=class extends se{},mr=class extends se{},Lr=class extends se{},Kn=class extends se{},zn=class extends se{},fi=class extends se{},zi=class extends se{constructor(){super(...arguments);this.repeat=1}},pi=class extends se{},Xn=class extends se{},Cn=class extends se{},Fr=class extends se{},kr=class extends se{},Qn=class extends se{},Mr=class extends se{},Br=class extends se{},di=class extends se{},kn=class extends se{},hr=class extends se{},Ai=class extends se{},qr=class extends se{},Vr=class extends se{},jr=class extends se{},Ur=class extends se{},Wr=class extends se{},Gr=class extends se{},Ii=class extends se{},Yr=class extends se{},ln=class extends se{},xs=class extends se{constructor(){super(...arguments);this.orderClauses=[]}},St=class extends se{},mn=class extends se{},Ho=class extends se{constructor(){super(...arguments);this.left=null;this.right=null}},Pn=class extends se{constructor(){super(...arguments);this.isTenaryBranchSeparator=!1}},Hr=class extends se{},gr=class extends se{},un=class extends se{},_r=class extends se{},mi=class extends se{},yr=class extends se{},Dn=class extends se{},hi=class extends se{},Yt=class extends se{},Zt=class extends se{},va=class extends se{constructor(){super(...arguments);this.values=[];this.isNamedNode=!1;this.parsedName=null}},We=class extends se{constructor(){super(...arguments);this.start=null;this.end=null;this.nodes=[];this.scopeOperator=null}},Na=class extends se{constructor(){super(...arguments);this.condition=null;this.expression=null}},Rs=class extends se{constructor(){super(...arguments);this.cases=[]}},ip=class extends se{constructor(){super(...arguments);this.left=null;this.right=null}},Ei=class extends se{constructor(){super(...arguments);this.nodes=[]}},$o=class extends se{constructor(){super(...arguments);this.head=null;this.truthBranch=null;this.falseBranch=null}},Rt=class extends se{},kt=class extends se{constructor(){super(...arguments);this.nodes=[];this.separatorToken=null}},br=class extends We{constructor(){super(...arguments);this.scope=null}extract(){let e=null;this.scope!=null&&(e=this.scope.name);let n=this.nodes[0];return[e,n.nodes]}},xi=class extends br{constructor(){super(...arguments);this.alias=null}},Ca=class extends se{constructor(){super(...arguments);this.args=[];this.hasNamedArguments=!1;this.numberOfNamedArguments=0}},$r=class extends se{},sp=class extends se{};var Xi=class extends se{constructor(){super(...arguments);this.libraryName="";this.methodName="";this.arguments=null}},gt=class extends se{constructor(){super(...arguments);this.sourceContent=""}},en=class extends se{constructor(){super(...arguments);this.method=null;this.args=null}},hn=class extends se{constructor(){super(...arguments);this.name=""}},Ht=class extends se{constructor(){super(...arguments);this.value="";this.name=""}},mu=class extends se{constructor(){super(...arguments);this.name=null;this.value=null}},Ko=class extends se{constructor(){super(...arguments);this.name=null;this.value=null}},Mt=class extends se{constructor(){super(...arguments);this.value=null}},At=class extends se{constructor(){super(...arguments);this.value="";this.sourceTerminator="";this.sourceContent=""}},Ne=class extends se{constructor(){super(...arguments);this.name="";this.mergeRefName="";this.variableReference=null;this.interpolationNodes=[];this.isInterpolationReference=!1}},ap=class extends se{constructor(){super(...arguments);this.name=""}},Yn=class extends se{constructor(){super(...arguments);this.delimiter="";this.name="";this.isStringVar=!1;this.isFinal=!1}},Qi=class{constructor(){this.originalContent="";this.normalizedReference="";this.isStrictTagReference=!1;this.isStrictVariableReference=!1;this.isExplicitVariableReference=!1;this.isVariableVariable=!1;this.pathParts=[];this.isFinal=!1;this._isFromEmptyFailState=!1}clone(){let e=new Qi;return e.originalContent=this.originalContent,e.normalizedReference=this.normalizedReference,e.isStrictVariableReference=this.isStrictVariableReference,e.isExplicitVariableReference=this.isExplicitVariableReference,e.pathParts=this.pathParts,e.isFinal=this.isFinal,e}implodePaths(){let e=[];return this.pathParts.forEach(n=>{n instanceof Yn?e.push(n.name):n instanceof Qi&&e.push(n.implodePaths())}),e.join(".")}},op=class{constructor(e,n,r){this.target=e,this.value=n,this.operator=r}};var A0=je(ei());var ka=je(vt());function ud(t,e){let n=[];if(t.currentNode==null)return n;let r={start:{line:t.position.line,character:t.position.character-0},end:t.position};for(let i=0;i<e.length;i++){let s=e[i];if(!t.currentNode.hasParameter(s.name)){let a=s.name+'="$1"';n.push({label:s.name,kind:ka.CompletionItemKind.Value,insertTextFormat:ka.InsertTextFormat.Snippet,textEdit:ka.TextEdit.replace(r,a),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return n}var qu=je(vt());function Ma(t,e,n){return{label:t,insertText:t,kind:qu.CompletionItemKind.Field,detail:n+": "+e}}function Vu(t){let e=[];for(let n=0;n<t.length;n++)typeof t[n].name!="undefined"&&e.push(cd(t[n]));return e}function cd(t){let e="",n=t.name;return t.instructionText!=null&&(e=t.instructionText),t.displayName!=null&&(n=t.displayName+" ("+t.name+")"),t.blueprintName!=null&&(e.trim().length>0&&(e+=`
`),e+="Blueprint: "+t.blueprintName),t.type!=null&&(n+=": "+t.type),{label:t.name,insertText:t.name,kind:qu.CompletionItemKind.Field,documentation:e,detail:n}}function ke(t,e,n,r){let i="**"+t+"**  ";return i+=`
`,i+=e+"  ",i+="\n```antlers\n",i+=n,i+="\n```",r!=null&&(i+=`

`,i+="[Documentation Reference]("+r+")"),i}function q(t,e,n){let r="**"+t+"**  ";return r+=`
`,r+=e+"  ",n!=null&&(r+=`

`,r+="[Documentation Reference]("+n+")"),r}function Ba(t){let e=[];return t=="order"&&e.push("sort"),e}function IE(t){return{blueprintName:t.sourceName,displayName:t.name,instructionText:"",maxItems:-1,name:t.name,refFieldSetField:null,type:t.dataType,sets:null,import:null}}function ju(t){let e=[];for(let n=0;n<t.length;n++)e.push(IE(t[n]));return e}function Xe(t){return[{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"order",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t}]}function Hy(t,e,n){if(typeof n=="undefined"||n===null)return;let r=t.findParameter("as"),i=t.findParameter("scope");n=n.concat(ju(Xe(t))),r!=null&&i!=null?e.introduceScopedAliasScope(t,i.value,r.value,n):r!=null?e.introduceAliasScope(t,r.value,n):i!=null?e.introduceDynamicScopeList(t,i.value,n):e.addBlueprintFields(t,n)}function $y(t){return[{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t},{name:"total_results",dataType:"integer",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t}]}var ti=je(vt());var is=[{isRequired:!1,name:"from",description:"The collection name to retrieve entries from",aliases:["folder","use"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"not_from",aliases:["not_folder","dont_use"],description:"The collections to exclude when retrieving entries",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"show_unpublished",aliases:null,description:"Controls whether unpbulished entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_published",aliases:null,description:"Controls whether published entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_past",aliases:null,description:"Controls whether to display entries with a past date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"since",aliases:null,description:"Sets the minimum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"until",aliases:null,description:"Sets the maximum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the entry sort order",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",aliases:null,description:"Sets the maximum number of entries to return",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["integer"],isDynamic:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope",expectsTypes:["string"],isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets the amount that entry results should be offset by",expectsTypes:["integer"],isRequired:!1,name:"offset",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether not to paginate entry results",expectsTypes:["boolean","number"],isRequired:!1,name:"paginate",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies a name to give to a new entries array variable",expectsTypes:["string"],isRequired:!1,name:"as",isDynamic:!1},{name:"scope",aliases:null,acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Sets a prefix on all entry variables",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"locale",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the locale in which to retrieve entry content",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"redirects",aliases:["links"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Controls whether entries with redirects are returned",expectsTypes:["boolean"],isRequired:!1,isDynamic:!1},{name:"page_name",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"Allows you to customise the name of the URL query parameter used for pagination.",expectsTypes:["string"],isRequired:!1,isDynamic:!1}],Ky=["from","folder","use"],zy=["not_from","not_folder","dont_use"],Xy=["draft","scheduled","expired","published"];function Qy(t){let e=[];if(t.project!=null){let n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position},r=t.project.getUniqueTaxonomyNames();for(let i=0;i<r.length;i++){let s=r[i],a=t.originalLeftWord+s+'="$1"';e.push({label:t.originalLeftWord+s,insertTextFormat:ti.InsertTextFormat.Snippet,kind:ti.CompletionItemKind.Field,textEdit:ti.TextEdit.replace(n,a),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return e}function qa(t,e){let n=[];if(t.reference!=null){let r=t.reference,i=e.statamicProject.getBlueprintFields(r.collectionNames);typeof i!="undefined"&&i!=null&&(n=i)}return n}function Jy(t){let e=[],n=Xy.filter(r=>!t.includes(r));for(let r=0;r<n.length;r++)e.push({label:n[r],kind:ti.CompletionItemKind.Variable});return e}function Zy(t,e,n){let r=[],i=n.getTaxonomyTerms(e),s=i.filter(a=>!t.includes(a));for(let a=0;a<s.length;a++)r.push({label:s[a],kind:ti.CompletionItemKind.Variable});return r}function eb(t){let e=[],n=t.getCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:ti.CompletionItemKind.Variable});return e}function Va(t,e){let n=[],r=e.getCollectionNames().filter(i=>!t.includes(i));for(let i=0;i<r.length;i++)n.push({label:r[i],kind:ti.CompletionItemKind.Variable});return n}function Uu(t){let e=[],n=t.getCollectionQueryScopes();for(let r=0;r<n.length;r++)e.push({label:n[r].name,detail:n[r].description,kind:ti.CompletionItemKind.Variable});return e}function ja(t,e){if(t.isClosingTag)return e;if(t.hasMethodPart()&&t.getMethodNameValue()!="count"&&e.addVariables($y(t)),t.reference!=null){let n=qa(t,e);Hy(t,e,n)}return e}var fl=je(ei());var Wu=je(vt());var fd=[{name:"is",description:"Tests if a field is equal to a value"},{name:"equals",description:"Tests if a field is equal to a value"},{name:"not",description:"Tests if a field is not equal to a value"},{name:"isnt",description:"Tests if a field is not equal to a value"},{name:"exists",description:"Tests if a field exists"},{name:"isset",description:"Tests if a field exists"},{name:"doesnt_exist",description:"Tests if a field does not exist"},{name:"is_empty",description:"Tests if a field does not exist"},{name:"null",description:"Tests if a field does not exist"},{name:"contains",description:"Tests if a field contains a value"},{name:"doesnt_contain",description:"Tests if a field does not contain a value"},{name:"in",description:"Tests if a value is in an array"},{name:"not_in",description:"Tests if an array does not contain a value"},{name:"starts_with",description:"Tests if a field starts with a value"},{name:"doesnt_start_with",description:"Tests if a field does not start with a value"},{name:"ends_with",description:"Tests if a field ends with a value"},{name:"doesnt_end_with",description:"Tests if a field does not end with a value"},{name:"gt",description:"Tests if a field is greater than a value"},{name:"lt",description:"Tests if a field is less than a value"},{name:"gte",description:"Tests if a field is greater than or equal to a value"},{name:"lte",description:"Tests if a field is less than or equal to a value"},{name:"matches",description:"Tests if a field matches a case insensitive regex"},{name:"regex",description:"Tests if a field matches a case insensitive regex"},{name:"doesnt_match",description:"Tests if a field does not match a case insensitive regex"},{name:"is_alpha",description:"Tests if a field contains only alphabetical characters"},{name:"is_numeric",description:"Tests if a field contains only numeric characters"},{name:"is_alpha_numeric",description:"Tests if a field contains only alpha-numeric characters"},{name:"is_url",description:"Tests if a field is a valid URL"},{name:"is_embeddable",description:"Tests if a field is an embeddable video URL"},{name:"is_email",description:"Tests if a field is a valid email address"},{name:"is_after",description:"Tests if a field is after a given date"},{name:"is_before",description:"Tests if a field is before a given date"}];function ss(t){let e=[],n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};for(let r=0;r<fd.length;r++){let i=fd[r],s=t.originalLeftWord+i.name+'="$1"';e.push({label:i.name,insertTextFormat:Wu.InsertTextFormat.PlainText,kind:Wu.CompletionItemKind.Field})}return e}var qs=je(Bn());var pd=class{static clear(e){this.unclosedNodes.delete(e)}static registerNodes(e,n){this.unclosedNodes.set(e,n)}static getUnclosedTags(e,n){var a,o,l;let r=[];if(this.unclosedNodes.has(e)==!1)return r;let i=this.unclosedNodes.get(e);if(i.length==0)return r;let s=n.line+1;for(let u=0;u<i.length;u++){let c=i[u];(((a=c.endPosition)==null?void 0:a.line)==s&&n.character>c.endPosition.char||s>((l=(o=c.endPosition)==null?void 0:o.line)!=null?l:0))&&r.push(c)}return r}static hasUnclosedTags(e,n){return this.unclosedNodes.has(e)==!1?!1:this.getUnclosedTags(e,n).length>0}};pd.unclosedNodes=new Map;function as(t){return[{name:"edit_url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"id",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"last_modified",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"permalink",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"published",dataType:"boolean",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"slug",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"template",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t}]}var er=je(ei()),EE=[{label:"name",kind:er.CompletionItemKind.Property},{label:"description",kind:er.CompletionItemKind.Property},{label:"desc",kind:er.CompletionItemKind.Property},{label:"entry",kind:er.CompletionItemKind.Property},{label:"collection",kind:er.CompletionItemKind.Property},{label:"blueprint",kind:er.CompletionItemKind.Property},{label:"var",kind:er.CompletionItemKind.Property},{label:"set",kind:er.CompletionItemKind.Property},{label:"param",kind:er.CompletionItemKind.Property},{label:"param*",kind:er.CompletionItemKind.Property},{label:"front",kind:er.CompletionItemKind.Property},{label:"format",kind:er.CompletionItemKind.Property}];var Gu=je(vt()),fq=[{label:"if",kind:Gu.CompletionItemKind.Keyword},{label:"elseif",kind:Gu.CompletionItemKind.Keyword},{label:"else",kind:Gu.CompletionItemKind.Keyword}];var dd=je(ei()),xE=je(vt());var md=je(vt()),cl=[];cl.push({label:"true",kind:md.CompletionItemKind.Keyword});cl.push({label:"false",kind:md.CompletionItemKind.Keyword});function et(t){return[{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"value",introducedBy:t},{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"key",introducedBy:t}]}var RE={name:"array",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},tb=RE;var wE={name:"bard",augmentScope:(t,e)=>{e.addVariable({name:"type",dataType:"string",sourceField:null,sourceName:"*internal.bard",introducedBy:t})},injectCompletions:(t,e,n)=>[]},nb=wE;var OE={name:"form_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},rb=OE;var LE={name:"list",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},ib=LE;function sb(t){return[{name:"type",dataType:"string",sourceName:"*internal.replicator",sourceField:null,introducedBy:t}]}var FE={name:"replicator",augmentScope:(t,e)=>{e.addVariables(sb(t)),e.addVariables(Xe(t))},injectCompletions:(t,e,n)=>[]},ab=FE;var kE={name:"select_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},ob=kE;var ME={name:"sites_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},lb=ME;var BE={name:"structures_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},ub=BE;var qE={name:"table",augmentScope:(t,e)=>{e.addVariable({name:"cells",dataType:"array",sourceName:"*internal.fieldtype.table",sourceField:null,introducedBy:t})}},cb=qE;var VE={name:"tags",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},fb=VE;function Yu(t){return as(t).concat([{name:"entries_count",dataType:"number",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"is_term",dataType:"boolean",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"taxonomy",dataType:"string",sourceName:"*internal.term",sourceField:null,introducedBy:t}])}var jE={name:"taxonomies_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t)),e.addVariables(Yu(t))}},pb=jE;var UE={name:"terms_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t)),e.addVariables(Yu(t))}},db=UE;var WE={name:"user_groups_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},mb=WE;var GE={name:"user_roles_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},hb=GE;var YE={name:"users_multiple",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t)),e.injectBlueprint(t,"user")}},gb=YE;var HE={name:"yaml",augmentScope:(t,e)=>{e.addVariables(et(t)),e.addVariables(Xe(t))}},_b=HE;var $E=[tb,nb,rb,ib,ab,ob,lb,ub,_b,cb,pb,fb,db,gb,mb,hb],yb=$E;var os=class{constructor(){this.fieldTypes=new Map}getFieldTypes(){return this.fieldTypes}getFieldType(e){return this.fieldTypes.get(e)}registerFieldtypes(e){for(let n=0;n<e.length;n++)this.fieldTypes.set(e[n].name,e[n])}loadCoreFieldtypes(){this.registerFieldtypes(yb)}hasFieldtype(e){return this.fieldTypes.has(e)}};os.instance=null;(typeof os.instance=="undefined"||os.instance==null)&&(os.instance=new os,os.instance.loadCoreFieldtypes());var Hu=os;function $u(t){let e="";return t.currentNode!=null&&(e=t.currentNode.getMethodNameValue()),e}function Mi(t){if(t.includes(":")==!1)return t;let e=t.split(":");return e.length>1?e[e.length-1]:e[0].trim()}function Ku(t){return t.includes(":")==!1?t:t.split(":")[0]}function bb(t){var n;if(t.nodesInScope.length==0)return[];let e=t.nodesInScope[t.nodesInScope.length-1];return((n=t.context)==null?void 0:n.node)!=null&&(e=t.context.node),e.currentScope==null?[]:KE(t,e.currentScope)}function KE(t,e){let n=[];return e.values.forEach(r=>{var i;if(r.sourceField!=null?n.push({label:r.name,detail:r.sourceField.blueprintName,documentation:(i=r.sourceField.instructionText)!=null?i:"",kind:qs.CompletionItemKind.Field}):n.push(Ma(r.name,"","")),r.dataType.trim().length>0&&r.dataType=="array"){let s=r.name+` }}
    $1
{{ /`+r.name+" ",a={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};n.push({label:r.name+" loop",insertTextFormat:qs.InsertTextFormat.Snippet,kind:qs.CompletionItemKind.Snippet,textEdit:qs.TextEdit.replace(a,s),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}),e.lists.forEach((r,i)=>{n.push(Ma(i,"",""))}),n}var Tb=je(ei());function Ce(t){let e="";typeof t!="undefined"&&typeof t.resolveDocumentation!="undefined"&&t.resolveDocumentation!=null&&(e=t.resolveDocumentation());let n=t.tagName;if(n.includes(":")){let r=n.split(":");n=r[r.length-1]}return{label:n,kind:Tb.CompletionItemKind.Text,sortText:"1",documentation:{kind:"markdown",value:e}}}var hd=je(vt());function vb(t,e,n){return{name:t,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:e,expectsTypes:["string"],isDynamic:!0,isRequired:!1,documentationLink:n,docLinkName:"MDN Reference"}}var Nb=vb("class","A space-separated list of the classes of the element.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/class"),Cb=vb("style","Contains CSS styling declarations to be applied to the element. Note that it is recommended for styles to be defined in a separate file or files.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/style");function zu(t){return t=="class"?Nb:t=="style"?Cb:{name:t,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"",expectsTypes:["string","number","array"],isRequired:!1,isDynamic:!0}}function Pb(t){let e=[];for(let n=0;n<t.length;n++)e.push({label:t[n],kind:hd.CompletionItemKind.Field});return ae(e)}function yt(t){let e=[];for(let n=0;n<t.length;n++)e.push({label:t[n],kind:hd.CompletionItemKind.Field});return ae(e)}function ae(t){return{items:t,isExclusiveResult:!0,analyzeDefaults:!1}}function _n(t){return{items:t,isExclusiveResult:!1,analyzeDefaults:!0}}var Se={items:[],isExclusiveResult:!1,analyzeDefaults:!0};function at(t,e){let n=zE(t);return n.tagName=e,n}function zE(t){return{allowsArbitraryParameters:t.allowsArbitraryParameters,allowsContentClose:t.allowsContentClose,injectParentScope:t.injectParentScope,parameters:t.parameters,requiresClose:t.requiresClose,tagName:t.tagName,introducedIn:t.introducedIn,hideFromCompletions:t.hideFromCompletions,augmentScope:t.augmentScope,requiresCloseResolver:t.requiresCloseResolver,resolveCompletionItems:t.resolveCompletionItems,resolveDynamicParameter:t.resolveDynamicParameter,resolveSpecialType:t.resolveSpecialType,resovleParameterCompletionItems:t.resovleParameterCompletionItems,suggestAlternativeParams:t.suggestAlternativeParams,resolveDocumentation:t.resolveDocumentation}}function Db(t){return t.findParameterValueOrNull("scope")}function Sb(t){t.getAllNodes().forEach(n=>{n instanceof z&&n.manifestType==="array"&&(n.mustClose=!0)})}function XE(t){return t.findParameterValueOrNull("as")}var QE=["count","next","previous"];function JE(t,e){let n=[];if(t.hasMethodPart()){let o=t.getMethodNameValue();if(QE.includes(o)==!1)return n.push(o),n}let r=t.findAnyParameter(Ky),i=t.findAnyParameter(zy),s=[],a=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueCollectionNames(),typeof i!="undefined"&&i!==null&&i.isVariableReference==!1&&i.hasInterpolations()==!1&&(a=i.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),a.length>0?n=s.filter(function(o){return a.includes(o)==!1}):n=s,n}function ls(t,e){var u,c,f,m,y,p;let n=JE(t,e),r=!1,i=!1,s=!1,a=null,o="";if(t.isClosingTag==!1){let d=XE(t),g=Db(t);d!=null&&(r=!0,o=d),g!=null&&(s=!0,a=g),i=t.hasParameter("paginate")}return{context:{collectionNames:n!=null?n:[],endPosition:(c=(u=t.endPosition)==null?void 0:u.char)!=null?c:0,aliasName:o,isAliased:r,isScoped:s,scopeName:a,isStartOfScope:!t.isClosingTag,line:(m=(f=t.startPosition)==null?void 0:f.line)!=null?m:0,startPosition:(p=(y=t.startPosition)==null?void 0:y.char)!=null?p:0,isPaginated:i,excludeCollections:[],includeCollections:[]},issues:[]}}function Ua(t,e){if(t==null)return null;let n=Es(e,":");return n.includes(":")&&(n=n.split(":")[0]),n=="status"||n=="taxonomy"||t.currentScope!=null&&t.currentScope.containsReference(n)?zu(e):null}var ZE=["from","folder","use","not_from","not_folder"],ex=["previous","next"],tx=["in","collection"];function us(t,e){var n,r,i,s,a,o,l,u,c,f;if(t.isDynamic){let m=Ku(t.name);if(e.nodesInScope.length>0){let y=e.nodesInScope[e.nodesInScope.length-1];if(y!=null&&y.currentScope!=null){let p=qa(y,y.currentScope),d=p.map(h=>h.name),g=Mi(e.leftWord);if(d.includes(g))return ae(ss(e))}}if(m=="status"&&((n=e.context)==null?void 0:n.parameterContext)!=null)return ae(Jy((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[]));if(m=="taxonomy"){let y=Mi(t.name);if(e.project.hasTaxonomy(y)&&((s=e.context)==null?void 0:s.parameterContext)!=null)return ae(Zy((o=(a=e.context.parameterContext.parameter)==null?void 0:a.getArrayValue())!=null?o:[],y,e.project))}}if(t.name=="filter"||t.name=="query_scope")return ae(Uu(e.project));if(e.nodesInScope.length>0){let m=e.nodesInScope[e.nodesInScope.length-1];if(m.hasMethodPart()&&ex.includes(m.getMethodNameValue())&&tx.includes(t.name))return ae(eb(e.project))}return ZE.includes(t.name)&&((l=e.context)==null?void 0:l.parameterContext)!=null?ae(Va((f=(c=(u=e.context)==null?void 0:u.parameterContext.parameter)==null?void 0:c.getArrayValue())!=null?f:[],e.project)):null}var nx={tagName:"collection:previous",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...is,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:ja,resolveDynamicParameter:Ua,resolveSpecialType:ls,suggestAlternativeParams:Ba,resovleParameterCompletionItems:us,resolveCompletionItems:Wa,resolveDocumentation:t=>ke("collection:previous Tag","The `collection:previous` tag is used to show the entries that appear before the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the previous two entries, based on dates in ascending order. #}}
{{ collection:previous in="articles" limit="2" sort="date:asc" }}

{{ /collection:previous }}`,"https://statamic.dev/tags/collection-previous")},Vs=nx;var Xu=at(Vs,"collection:older"),Qu=at(Vs,"collection:newer");var rx={tagName:"collection:count",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...is,{isRequired:!0,name:"in",aliases:["from"],description:"The collection from which to count entries",acceptsVariableInterpolation:!0,allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:ls,resovleParameterCompletionItems:us,resolveDocumentation:t=>ke("collection:count Tag","The `collection:count` tag returns the total number of entries in the specified collection(s). The collection count tag accepts the same parameters as the collection tag, allowing developers to count entries that meet specific conditions.",`Total entry count: {{ collection:count in="collection-name" }}
Draft count: {{ collection:count in="collection-name" status:in="draft" }}`,"https://statamic.dev/tags/collection-count")},Ju=rx;var ix={tagName:"collection:next",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...is,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:ja,resolveDynamicParameter:Ua,resolveSpecialType:ls,suggestAlternativeParams:Ba,resovleParameterCompletionItems:us,resolveCompletionItems:Wa,resolveDocumentation:t=>ke("collection:next Tag","The `collection:next` tag is used to show the entries that will appear after the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the next two entries, based on dates in ascending order. #}}
{{ collection:next in="articles" limit="2" sort="date:asc" }}

{{ /collection:next }}`,"https://statamic.dev/tags/collection-next")},Zu=ix;function Wa(t){var n,r;let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="collection"||t.leftWord=="/collection")&&t.leftChar==":"){let i=t.project.getCollectionNames();for(let s=0;s<i.length;s++)e.push({label:i[s],kind:fl.CompletionItemKind.Field,sortText:"0"});return e.push(Ce(Ju)),e.push(Ce(Zu)),e.push(Ce(Vs)),e.push(Ce(Xu)),e.push(Ce(Qu)),{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}if(t.currentNode!=null&&t.currentNode.currentScope!=null){let i=qa(t.currentNode,t.currentNode.currentScope),s=i.map(o=>o.name),a=Mi(t.leftWord);if(a==="taxonomy")return ae(Qy(t));if(s.includes(a))return e=ss(t),ae(e);if(t.isCaretInTag&&!((n=t.context)==null?void 0:n.isInParameter)&&["collection","/collection"].includes(t.leftWord)==!1&&t.leftChar!=" "){let o=[];for(let l=0;l<i.length;l++){let u=i[l];o.includes(u.name)==!1&&(e.push({label:u.name,detail:u.blueprintName,documentation:(r=u.instructionText)!=null?r:"",kind:fl.CompletionItemKind.Field}),o.push(u.name))}if(e.push({label:"taxonomy",insertText:"taxonomy:",kind:fl.CompletionItemKind.Field}),e.push({label:"status",insertText:"status:",kind:fl.CompletionItemKind.Field}),e.length>0)return _n(e)}}return Se}var sx={tagName:"collection",hideFromCompletions:!1,introducedIn:null,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:is,augmentScope:ja,resolveDynamicParameter:Ua,resolveSpecialType:ls,suggestAlternativeParams:Ba,resovleParameterCompletionItems:us,resolveCompletionItems:Wa,resolveDocumentation:t=>ke("collection Tag","The `collection` tag provides access to entry data such as blog posts, products, etc.",`{{ collection:articles as="posts" }}

	{{ posts }}
		{{ title }}
	{{ /posts }}

{{ /collection:articles }}`,"https://statamic.dev/tags/collection")},Ab=sx;var ax={tagName:"cache",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,allowsContentClose:!1,allowsArbitraryParameters:!1,resovleParameterCompletionItems:(t,e)=>t.name=="scope"?yt(["page","site","user"]):null,parameters:[{isRequired:!1,name:"for",description:"The duration the cache is valid for",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"key",description:"An arbitrary name the cache entry may be referenced by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"scope",description:" The scope of the cached value. Either site or page.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:(t,e)=>{let n=t.findParameter("key"),r=null;if(n!=null){let i=n.value;i.trim().length>0&&(r={key:i,reference:t})}return{context:r,issues:[]}},resolveDocumentation:t=>ke("cache Tag","The `cache` tag can be used to save the results of an expensive template operation. The duration of the cache can be configured.",`{{ cache for="10 minutes" }}
    {{# Template code that won't be re-rendered for at least 10 minutes. #}}
{{ /cache }}`,"https://statamic.dev/tags/cache")},Ib=ax;var ox={tagName:"dump",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.leftWord=="dump"&&t.leftChar==":"?ae(bb(t)):Se,resolveDocumentation:t=>ke("dump Tag","The `dump` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered.",`{{ collection:articles }}
	{{# View all data available, for each entry. #}}
    {{ dump }}
{{ /collection:articles }}`,"https://statamic.dev/tags/dump")},Eb=ox;var lx={tagName:"404",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>ke("404 (Not Found) Tag","The `404` (Not Found) tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ 404 }}
{{ /unless }}`,"https://statamic.dev/tags/404")},xb=lx;var ux={tagName:"link",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The relative path",expectsTypes:["string"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!0,isDynamic:!1},{name:"absolute",description:"Whether to generate absolute URLs. Default false",expectsTypes:["boolean"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1},{name:"id",description:"The ID of the entry to link to",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1},{name:"in",description:"The handle of the site to link to.",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>q("link Tag","The `link` tag accepts relative URLs or entry IDs and generates fully-qualified URLs to the desired content.","https://statamic.dev/tags/link")},Rb=ux;var wb={tagName:"loop",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>q("loop Tag","The `loop` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")},Ob={tagName:"range",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>q("range Tag","The `range` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")};var tr=je(ei());var js=class{constructor(){this.loadedDocuments=new Map;this.activeProject=null}getDocuments(){let e=[];return this.loadedDocuments.forEach(n=>{e.push(n)}),e}setProject(e){this.activeProject=e,this.loadedDocuments.forEach(n=>{this.activeProject!=null&&n.updateProject(this.activeProject)})}refreshDocumentState(){this.activeProject!=null&&this.setProject(this.activeProject)}hasDocument(e){return this.loadedDocuments.has(e)}createDocument(e){if(!this.loadedDocuments.has(e)){let n=new $t;n.documentUri=e,this.loadedDocuments.set(e,n)}}loadDocument(e,n){this.loadedDocuments.set(e,$t.fromText(n))}getDocument(e){return this.loadedDocuments.get(e)}updateDocument(e,n){var r,i;if(this.loadedDocuments.has(e)){let s=this.loadedDocuments.get(e);s.loadString(n);let a=(i=(r=cr.instance)==null?void 0:r.getStructure())==null?void 0:i.findView(e);a!=null&&(a.document=s)}}createOrUpdate(e,n){this.createDocument(e),this.updateDocument(e,n)}getDocumentErrors(e){return this.loadedDocuments.has(e)?this.loadedDocuments.get(e).errors.all():[]}};js.instance=null;(typeof js.instance=="undefined"||js.instance==null)&&(js.instance=new js);var Lb=js;var gd=new Lb;function $e(t,e){return e.trim().length>0?zu(e):null}var Ga=[{isRequired:!1,name:"src",description:"The name of the partial view",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1}];var pl=je(ei());function Ya(t,e){var n;if(t.isDynamic&&e.currentNode!=null&&e.currentNode.getTagName()=="partial"&&e.currentNode.hasMethodPart()){let r=e.currentNode.getMethodNameValue();if(r.trim().length>0&&((n=cr.instance)==null?void 0:n.hasStructure())){let i=cr.instance.getStructure().findRelativeView(r);if(i!=null&&i.varReferenceNames.has(t.name)){let s=i.varReferenceNames.get(t.name);if(i.document!=null&&i.document.hasFrontMatter()){let a=i.document.getFrontMatterScope();if(a!=null){let o=a.getList(s);if(o!=null)return Pb(o.getVariableNames())}}}}}if(t.name=="src"){let r=e.project.getViews(),i=[];return r.forEach(s=>{if(ci.hasDetails(s.documentUri)){let a=ci.documentDetails.get(s.documentUri);i.push({label:a.documentName+"("+s.relativeDisplayName+")",insertText:s.relativeDisplayName,detail:a.documentName,documentation:{kind:pl.MarkupKind.Markdown,value:a.documentDescription},kind:pl.CompletionItemKind.File})}else i.push({label:s.relativeDisplayName,kind:pl.CompletionItemKind.File})}),ae(i)}return null}var cx={tagName:"partial:exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:Ga,introducedIn:"3.2.7",resovleParameterCompletionItems:Ya,resolveDocumentation:t=>q("partial:exists Tag","The `partial:exists` can be used within conditional statements to test if a partial exists.","https://statamic.dev/tags/partial-exists")},ec=cx;var fx={tagName:"partial:if_exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:Ga,introducedIn:"3.2.7",resovleParameterCompletionItems:Ya,resolveDocumentation:t=>q("partial:if_exists Tag","The `partial:if_exists` can be used to output the contents of a partial if it exists.","https://statamic.dev/tags/partial-if-exists")},tc=fx;function Fb(t){if(t.getTagName()!="partial")return null;let e="";if(t.hasMethodPart())e=t.getMethodNameValue();else{let n=t.findParameter("src");n!=null&&(e=n.value)}return e}var px=[Ce(ec),Ce(tc)],dx={tagName:"partial",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!0,parameters:Ga,requiresClose:!1,allowsContentClose:!0,introducedIn:null,resolveDocumentation:t=>`**Partial Tag**  
Includes another view into the current template.  

[Documentation Reference](https://statamic.dev/tags/partial)
`,resolveDynamicParameter:$e,resovleParameterCompletionItems:Ya,resolveCompletionItems:t=>{let e=[];if(t.leftChar=='"'&&t.leftWord==':src="')return{items:[],analyzeDefaults:!0,isExclusiveResult:!1};if((t.leftWord=="partial"||t.leftWord=="/partial")&&t.leftChar==":"||t.leftWord=='src="'&&t.leftChar=='"')return t.project.getViews().forEach(r=>{let i=decodeURIComponent(r.documentUri);if(ci.hasDetails(i)){let s=ci.documentDetails.get(i);e.push({label:s.documentName+"("+r.relativeDisplayName+")",insertText:r.relativeDisplayName,detail:s.documentName,documentation:{kind:tr.MarkupKind.Markdown,value:s.documentDescription},kind:tr.CompletionItemKind.File})}else e.push({label:r.relativeDisplayName,kind:tr.CompletionItemKind.File})}),t.leftWord!='src="'&&(e=e.concat(px)),{analyzeDefaults:!1,isExclusiveResult:!0,items:e};if(t.currentNode!=null&&t.project!=null){let n=Fb(t.currentNode);if(n!=null&&n.trim().length>0){let r=t.project.findRelativeView(n);if(r!=null&&gd.hasDocument(r.documentUri)){let i=gd.getDocument(r.documentUri);if(i!=null){let s=i.getAllAntlersNodes(),a=mx(s),o=[];r.varReferenceNames!=null&&r.varReferenceNames.forEach((u,c)=>{a.push(c)});let l=[];if(r.injectsParameters.length>0){let u={start:{line:t.position.line,character:t.position.character-0},end:t.position};r.injectsParameters.forEach(c=>{let f=c.name+'="$1"';o.includes(c.name)||(o.push(c.name),l.push({label:c.name,kind:tr.CompletionItemKind.Value,insertTextFormat:tr.InsertTextFormat.Snippet,textEdit:tr.TextEdit.replace(u,f),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}if(a.length>0){let u={start:{line:t.position.line,character:t.position.character-0},end:t.position};a.forEach(c=>{let f=c+'="$1"';o.includes(c)||(o.push(c),l.push({label:c,kind:tr.CompletionItemKind.Value,insertTextFormat:tr.InsertTextFormat.Snippet,textEdit:tr.TextEdit.replace(u,f),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}return _n(l)}}}}return{analyzeDefaults:!0,isExclusiveResult:!1,items:[]}}};function mx(t){let e=[];return t.forEach(n=>{if(n.isTagNode||n.isClosingTag||n.isComment||n.hasMethodPart()&&n.getMethodNameValue().length>0||n.name!=null&&n.name.content.includes("["))return;let r=n.getTagName();!e.includes(r)&&r!="#"&&r!="slot"&&e.push(r)}),e}var kb=dx;var hx={tagName:"increment:reset",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:"3.2.28",parameters:[{isRequired:!0,name:"counter",aliases:[],description:"The incrementing counter to reset",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"to",aliases:[],description:"An optional value to reset the counter to before incrementing starts again",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveDocumentation:t=>ke("increment:reset Tag","The `increment:reset` tag can be used to reset the value of an incrementing counter.",`{{ array_variable }}
    {{ increment:counter_name }}
{{ /array_variable }}

{{ increment:reset counter="counter_name" }}
`,null)},nc=hx;var gx=[Ce(nc)],_x={tagName:"increment",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!1,name:"from",aliases:[],description:"The number to start incrementing by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"by",aliases:[],description:"The number to increment by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveCompletionItems:t=>t.leftWord=="increment"||t.leftWord=="/increment"&&t.leftChar==":"?ae(gx):Se,resolveDocumentation:t=>q("increment Tag","The `increment` tag can be used to increment a value each time the tag is encountered.","https://statamic.dev/tags/increment")},Mb=_x;var _d=class{constructor(e){this.node=e}},Bb={tagName:"yields",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new _d(t),issues:[]})},qb={tagName:"yield",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new _d(t),issues:[]}),resolveDocumentation:t=>q("yield Tag","The `yield` tag may be used to push rendered content to named regions within a template's structure.","https://statamic.dev/tags/yield")};var rc=je(vt());var Vb=[{handle:"access cp"},{handle:"configure collections"},{handle:"[view edit create delete publish reorder] {collection} entries"},{handle:"configure structures"},{handle:"[view edit] {structure} structure"},{handle:"edit {global} globals"},{handle:"[view upload edit move rename delete] {container} assets"},{handle:"[view perform] updates"},{handle:"[view edit create delete] users"},{handle:"change passwords"},{handle:"edit roles"},{handle:"configure forms"},{handle:"[view delete] {form} submissions"}];var cs=class{constructor(){this.contextItems=new Map;this.triggerNames=[];this.collectionTriggers=[];this.collectionTriggerCaps=[];this.globalTriggers=[];this.globalTriggerCaps=[];this.formTriggers=[];this.formTriggerCaps=[];this.structureTriggers=[];this.structureTriggerCaps=[];this.assetTriggers=[];this.assetTriggerCaps=[]}getCollectionTriggerCaps(){return this.collectionTriggerCaps}getGlobalTriggerCaps(){return this.globalTriggerCaps}getFormTriggerCaps(){return this.formTriggerCaps}getStructureTriggerCaps(){return this.structureTriggerCaps}getAssetTriggerCaps(){return this.assetTriggerCaps}loadCorePermissions(){this.registerPermissions(Vb)}getTriggerNames(){return this.triggerNames}isCollectionTrigger(e){return this.collectionTriggers.includes(e)}isGlobalTrigger(e){return this.globalTriggers.includes(e)}isFormTrigger(e){return this.formTriggers.includes(e)}isStructureTrigger(e){return this.structureTriggers.includes(e)}isAssetTrigger(e){return this.assetTriggers.includes(e)}getTriggerContextItems(e){return this.contextItems.has(e)?this.contextItems.get(e):[]}registerSpecialTrigger(e,n,r){n=="{collection}"?(this.collectionTriggerCaps.includes(r)==!1&&this.collectionTriggerCaps.push(r),this.collectionTriggers.includes(e)==!1&&this.collectionTriggers.push(e)):n=="{structure}"?(this.structureTriggerCaps.includes(r)==!1&&this.structureTriggerCaps.push(r),this.structureTriggers.includes(e)==!1&&this.structureTriggers.push(e)):n=="{container}"?(this.assetTriggerCaps.includes(r)==!1&&this.assetTriggerCaps.push(r),this.assetTriggers.includes(e)==!1&&this.assetTriggers.push(e)):n=="{global}"?(this.globalTriggerCaps.includes(r)==!1&&this.globalTriggerCaps.push(r),this.globalTriggers.includes(e)==!1&&this.globalTriggers.push(e)):n=="{form}"&&(this.formTriggerCaps.includes(r)==!1&&this.formTriggerCaps.push(r),this.formTriggers.includes(e)==!1&&this.formTriggers.push(e))}addContextToTrigger(e,n){var r;this.triggerNames.includes(e)==!1&&this.triggerNames.push(e),this.contextItems.has(e)==!1?this.contextItems.set(e,[n]):(r=this.contextItems.get(e))==null||r.push(n)}registerPermissions(e){for(let n=0;n<e.length;n++){let r=e[n],i=[],s="",a="";if(r.handle.includes("[")&&r.handle.includes("]")){let o=r.handle.indexOf("["),l=r.handle.indexOf("]"),u=l-o,c=r.handle.substr(o+1,u-1).split(" ").filter(m=>m.trim().length>0),f=r.handle.substr(l+1).split(" ").filter(m=>m.trim().length>0);i=c,f.length==2?(s=f[0],a=f[1]):f.length==1&&(s="",a=f[0])}else{let o=r.handle.split(" ").filter(l=>l.trim().length>0);o.length==2&&(i=[o[0]],a=o[1])}for(let o=0;o<i.length;o++){let l=i[o];s.trim().length>0?this.registerSpecialTrigger(l,s,a):this.addContextToTrigger(l,a)}}}};cs.instance=null;(typeof cs.instance=="undefined"||cs.instance==null)&&(cs.instance=new cs,cs.instance.loadCorePermissions());var nr=cs;function jb(t,e){var r,i,s,a,o,l,u,c,f,m,y,p,d,g,h,b,_,N,C;let n=[];if(t.trim().length==0){let W=(i=(r=nr.instance)==null?void 0:r.getTriggerNames())!=null?i:[];for(let L=0;L<W.length;L++)n.push({label:W[L],kind:rc.CompletionItemKind.Value})}else{let W=t.split(" ").filter(oe=>oe.trim().length>0),L=W[0],M=(a=(s=nr.instance)==null?void 0:s.getTriggerContextItems(L))!=null?a:[],H=(o=nr.instance)==null?void 0:o.isCollectionTrigger(L),$=(l=nr.instance)==null?void 0:l.isGlobalTrigger(L),ne=(u=nr.instance)==null?void 0:u.isFormTrigger(L),re=(c=nr.instance)==null?void 0:c.isStructureTrigger(L),ye=(f=nr.instance)==null?void 0:f.isAssetTrigger(L),Pe=[];if(W.length<=2){H?Pe=Pe.concat(e.project.getUniqueCollectionNames()):$?Pe=Pe.concat(e.project.getUniqueGlobalsNames()):ne?Pe=Pe.concat(e.project.getUniqueFormNames()):re?Pe=Pe.concat(e.project.getUniqueNavigationMenuNames()):ye&&(Pe=Pe.concat(e.project.getUniqueAssetNames())),M.length>0&&(Pe=Pe.concat(M)),Pe=[...new Set(Pe)];for(let oe=0;oe<Pe.length;oe++)n.push({label:Pe[oe],kind:rc.CompletionItemKind.Value})}else{let oe=[];H?oe=oe.concat((y=(m=nr.instance)==null?void 0:m.getCollectionTriggerCaps())!=null?y:[]):$?oe=oe.concat((d=(p=nr.instance)==null?void 0:p.getGlobalTriggerCaps())!=null?d:[]):ne?oe=oe.concat((h=(g=nr.instance)==null?void 0:g.getFormTriggerCaps())!=null?h:[]):re?oe=oe.concat((_=(b=nr.instance)==null?void 0:b.getStructureTriggerCaps())!=null?_:[]):ye&&(oe=oe.concat((C=(N=nr.instance)==null?void 0:N.getAssetTriggerCaps())!=null?C:[])),oe=[...new Set(oe)];for(let De=0;De<oe.length;De++)n.push({label:oe[De],kind:rc.CompletionItemKind.Value})}}return n}function ic(t,e){var r,i,s,a;let n=Ku(t.name);return((r=e.context)==null?void 0:r.parameterContext)!=null&&["do","permission"].includes(n)?ae(jb((a=(s=(i=e.context)==null?void 0:i.parameterContext.parameter)==null?void 0:s.value)!=null?a:"",e)):null}var yx={tagName:"user:can",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:ic,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>q("user:can Tag","The `user:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can")},Ha=yx;var bx={tagName:"user:logout",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>q("user:logout Tag","The `user:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout")},$a=bx;var Tx={tagName:"user:logout_url",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>ke("user:logout_url","The `user:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ user:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url")},Ka=Tx;var Ub={tagName:"switch",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>q("switch Tag","The `switch` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")},Wb={tagName:"rotate",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,introducedIn:null,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>q("rotate Tag","The `rotate` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")};var vx={tagName:"oauth",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"provider",description:"The OAuth provider to be used",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]},{name:"redirect",description:"The URL to be taken to after authenticating",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resovleParameterCompletionItems:(t,e)=>t.name=="provider"?yt(e.project.getOAuthProviders()):null,resolveDocumentation:t=>ke("oauth Tag","The `oauth` tag can be used to generate login URls for various third-party services.",'<a href="{{ oauth provider="github" }}">Sign In with Github</a>',"https://statamic.dev/tags/oauth")},Gb=vx;var Nx={tagName:"session:dump",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>q("session:dump Tag","The `session:dump` tag will display the contents of the user's session to the browser. This tag behaves similarly to the `dd` helper functions, but returns just the session data.","https://statamic.dev/tags/session-dump")},sc=Nx;var dl=class{constructor(e){this.node=e}};var Cx={tagName:"session:set",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:null,resolveDynamicParameter:$e,resolveSpecialType:(t,e)=>({context:new dl(t),issues:[]}),resolveDocumentation:t=>q("session:set Tag","The `session:set` tag is used to add new data to the user's session.","https://statamic.dev/tags/session-set")},ac=Cx;var Us=class{constructor(){this.knownVariables=new Map}registerDocumentSessionVariables(e,n){this.knownVariables.has(e)||this.knownVariables.set(e,new Map);let r=this.knownVariables.get(e);r.clear();for(let i=0;i<n.length;i++){let s=n[i].node;if(s.hasParameters)for(let a=0;a<s.parameters.length;a++){let o=s.parameters[a];r.set(o.name,n[i])}}}getKnownSessionVariableNames(){let e=[];return this.knownVariables.forEach(n=>{n.forEach((r,i)=>{e.includes(i)==!1&&e.push(i)})}),e}};Us.instance=null;(typeof Us.instance=="undefined"||Us.instance==null)&&(Us.instance=new Us);var ml=Us;var Yb=je(vt());function Hb(t,e){let n=[],r=t.getArrayValue(),i=e.filter(s=>!r.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:Yb.CompletionItemKind.Variable});return ae(n)}var Px={tagName:"session:forget",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"keys",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The session keys to clear",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;if(t.name=="keys"&&((n=e.context)==null?void 0:n.parameterContext)!=null){let s=(i=(r=ml.instance)==null?void 0:r.getKnownSessionVariableNames())!=null?i:[];if(e.context.parameterContext.parameter!=null)return Hb(e.context.parameterContext.parameter,s)}return null},resolveDocumentation:t=>q("session:forget Tag","The `session:forget` tag is used to remove variables from the user's session.","https://statamic.dev/tags/session-forget")},oc=Px;var Dx={tagName:"session:flush",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>q("session:flush Tag","The `session:flush` tag will clear all values from the visitor's session. If the visitor is currently signed in they will also be signed out.","https://statamic.dev/tags/session-flush")},lc=Dx;var Sx={tagName:"session:flash",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:$e,resolveSpecialType:(t,e)=>({context:new dl(t),issues:[]}),resolveDocumentation:t=>q("session:flash Tag","The `session:flash` tag can be used to add a value to the user's session. Flashed values only persist for a single request, and are then removed.","https://statamic.dev/tags/session-flash")},uc=Sx;var Ax={tagName:"markdown:indent",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>q("markdown:indent Tag","The `markdown:indent` tag is similar to the markdown tag, but will ignore leading whitepsace while rendering the tag's content as markdown.","https://statamic.dev/tags/markdown-indent")},cc=Ax;var Ix=[Ce(cc)],Ex={tagName:"markdown",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="markdown"||t.leftWord=="/markdown")&&t.leftChar==":"?ae(Ix):Se,resolveDocumentation:t=>q("markdown Tag","The `markdown` tag can be used to render the tags contents as markdown.","https://statamic.dev/tags/markdown")},$b=Ex;var Kb=je(ei());function fc(t,e){let n=[],r=e;if(t.trim().length>0&&t.includes(".")&&t.endsWith(".")){let i=t.substr(0,t.length-1);r=r.filter(s=>s.startsWith(i))}for(let i=0;i<r.length;i++){let s=r[i],a=!0;t.includes(".")&&(s.startsWith(t)==!1?a=!1:s=s.substr(t.length)),a&&n.push({label:s,insertText:s,kind:Kb.CompletionItemKind.Text})}return n}function zb(t,e){return fc(t,e.getRouteNames())}var xx={tagName:"route",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:$e,resolveCompletionItems:t=>{if(t.leftMeaningfulWord=="route"){let e=$u(t);return ae(zb(e,t.project))}return Se},resolveDocumentation:t=>q("route Tag","The `route` tag can be used to generate a full URL [to a named route](https://laravel.com/docs/8.x/routing#named-routes), including any defined route parameters.","https://statamic.dev/tags/route")},Xb=xx;var pc=je(vt()),Qb=[{label:"301 Permanent",insertText:"301",kind:pc.CompletionItemKind.EnumMember},{label:"302 Temporary",insertText:"302",kind:pc.CompletionItemKind.EnumMember},{label:"404 Not Found",insertText:"404",kind:pc.CompletionItemKind.EnumMember}];var Rx={tagName:"redirect",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The destination URL",aliases:["url"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!0},{name:"response",description:"The HTTP response code to use",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:t=>t.name=="response"?ae(Qb):Se,resolveDocumentation:t=>q("redirect Tag","The `redirect` tag can be used to redirect the site visitor to a URL or named route. An optional HTTP status code can also be specified on the response using the `response` parameter.","https://statamic.dev/tags/redirect")},Jb=Rx;var eT=je(vt());var Ws=class{constructor(){this.knownSections=new Map}registerDocumentSections(e,n){this.knownSections.has(e)||this.knownSections.set(e,new Map);let r=this.knownSections.get(e);r.clear();for(let i=0;i<n.length;i++){let s=n[i];s.node.hasMethodPart()&&r.set(s.node.getMethodNameValue(),s)}}getKnownSectionNames(){let e=[];return this.knownSections.forEach(n=>{n.forEach((r,i)=>{e.includes(i)==!1&&e.push(i)})}),e}};Ws.instance=null;(typeof Ws.instance=="undefined"||Ws.instance==null)&&(Ws.instance=new Ws);var Zb=Ws;var wx={tagName:"section",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>{var e,n;if((t.leftWord=="section"||t.leftWord=="/section")&&t.leftChar==":"){let r=[],i=(n=(e=Zb.instance)==null?void 0:e.getKnownSectionNames())!=null?n:[];for(let s=0;s<i.length;s++)r.push({label:i[s],kind:eT.CompletionItemKind.Field});return _n(r)}return Se},resolveDocumentation:t=>q("section Tag","The `section` tag is used to push content to a named region defined by the `yield` tag.","https://statamic.dev/tags/section")},tT=wx;var Ox={tagName:"obfuscate",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>q("obfuscate Tag","The `obfuscate` tag converts the tags's content into a format that is difficult for bots to read, but can easily be viewed by users within their browser.","https://statamic.dev/tags/obfuscate")},nT=Ox;var Lx={tagName:"parent",hideFromCompletions:!1,requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>q("parent Tag","The `parent` tag provides access to data from the current page's parent (the URL one level above the current page).","https://statamic.dev/tags/parent")},rT=Lx;function yd(t,e){return fc(t,e.getTranslationKeys())}var Fx=["translate","trans","trans_choice"],dc={tagName:"translate",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!0,parameters:[{isRequired:!1,name:"key",description:"The key of the translation string to find",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"locale",description:"The locale to be used when translating",acceptsVariableInterpolation:!1,aliases:["site"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"count",description:"The number of items to use for pluralization",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n;if(t.name=="key"){let r="";return((n=e.context)==null?void 0:n.parameterContext)!=null&&e.context.parameterContext.parameter!=null&&(r=e.context.parameterContext.parameter.value),ae(yd(r,e.project))}return Se},resolveDynamicParameter:$e,resolveCompletionItems:t=>{if(t.leftMeaningfulWord!=null&&Fx.includes(t.leftMeaningfulWord)){let e=$u(t);return ae(yd(e,t.project))}return Se},resolveDocumentation:t=>q("trans Tag","The `trans` tag can be used to retrieve a string for the current locale's language file.","https://statamic.dev/tags/trans")},iT=at(dc,"trans"),bd=at(dc,"trans_choice");bd.resolveDocumentation=t=>q("trans_choice Tag","The `trans_choice` tag can be used to retrieve a pluralized string for the current locale's language file.","https://statamic.dev/tags/trans#pluralization");var kx={tagName:"svg",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The SVG filename relative to the project root",expectsTypes:["string"],isDynamic:!1}],resolveDynamicParameter:$e,resolveDocumentation:t=>q("svg Tag","The `svg` tag can be used to render inline SVGs, as well as set attributes on the rendered `<svg>` element.","https://statamic.dev/tags/svg")},sT=kx;function mc(t){return[{name:"basename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus_css",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_asset",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"path",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"width",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t}]}var Mx={tagName:"asset",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The path to the file",expectsTypes:["string"],isDynamic:!1,name:"url"}],augmentScope:(t,e)=>(e.addVariables(mc(t)),e),resolveDocumentation:t=>ke("asset Tag","The `asset` tag can be used to retrive Assets by supplying a URL.",`{{ asset url="/url/for/asset.png" }}
    <img src="{{ url }}" alt="{{ alt }}" />
{{ /asset }}`,"https://statamic.dev/tags/asset")},aT=Mx;var oT=je(vt());function Td(t){let e=[],n=t.getUniqueAssetNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:oT.CompletionItemKind.Field});return e}var lT=["container","id","handle"],Bx={tagName:"assets",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"container",aliases:["id","handle"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The handle of the asset container",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"folder",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Filters the resulting assets by specific folder",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"recursive",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Returns all assets in all subdirectories",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"limit",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Limits the total results",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sort entries by any asset variable",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>lT.includes(t.name)?ae(Td(e.project)):Se,augmentScope:(t,e)=>{e.addVariables(mc(t));let n="";if(t.name!=null&&t.name.getMethodName()!=null)n=t.name.getMethodName();else{let r=t.findAnyParameter(lT);r!=null&&r.containsSimpleValue()&&(n=r.value)}return n.length>0&&e.injectAssetContainer(t,n),e},resolveCompletionItems:t=>(t.leftWord=="assets"||t.leftWord=="/assets")&&t.leftChar==":"?ae(Td(t.project)):Se,resolveDocumentation:t=>ke("assets Tag","The `assets` tag can be used to retrieve multiple Assets from an Asset container.",`{{ assets container="container-name" }}
    {{# Loop over all assets in the container. #}}
	<img src="{{ url }}" alt="{{ alt }}" />
{{ /assets }}`,"https://statamic.dev/tags/assets")},uT=Bx;var qx={tagName:"get_content",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!1,parameters:[{isRequired:!1,name:"from",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"The ID to retrieve data for",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"locale",aliases:["site"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The locale to show the content in",expectsTypes:["string"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="locale"||t.name=="site"?yt(e.project.getSiteNames()):null,resolveDocumentation:t=>ke("get_content Tag","The `get_content` tag can be used to retrieve content from other entries. This tag accepts the ID of another entry, and will return access to all data for that entry.",`{{ get_content from="the-entry-id" }}
{{ /get_content }}`,"https://statamic.dev/tags/get_content")},cT=qx;function fT(t){return[{name:"basename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"last_modified",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_b",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_mb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t}]}var Vx={tagName:"get_files",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"in",aliases:["from"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The directory to find files in relative to the public directory",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"depth",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The depth of the subdirectories",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"not_in",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"The subdirectories or pattern to exclude",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_size",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],description:"The file size filter to use",isDynamic:!1},{isRequired:!1,name:"ext",aliases:["extension"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The extension(s) to filter by",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"include",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:["match"],description:"Filter files by a regular expression",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"exclude",description:"Excludes files by a regular expression",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_date",description:"Filters files by last modified date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",description:"Limits the total number of results",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"offset",description:"The number of entries the results should be offset by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sorts the listing by extension, size, last_modified, or random",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>(e.addVariables(fT(t)),e),resolveDocumentation:t=>q("get_files Tag","The `get_files` tag can be used to display information about files on the site's local filesystem.","https://statamic.dev/tags/get_files")},pT=Vx;function hc(t){return[{name:"width",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.glide",sourceField:null,introducedBy:t}]}var dT=je(vt());function ni(t,e,n){var r,i,s,a,o,l,u,c,f,m,y,p;return{endLine:(s=(i=(r=n.valuePosition)==null?void 0:r.end)==null?void 0:i.line)!=null?s:0,startLine:(l=(o=(a=n.namePosition)==null?void 0:a.start)==null?void 0:o.line)!=null?l:0,endPos:(f=(c=(u=n.valuePosition)==null?void 0:u.end)==null?void 0:c.char)!=null?f:0,startPos:(p=(y=(m=n.namePosition)==null?void 0:m.start)==null?void 0:y.char)!=null?p:0,message:t,severity:dT.DiagnosticSeverity.Error}}var vd=["greyscale","sepia"],Nd=["jpg","pjpg","png","gif","webp","avif","tif","bmp","psd"],mT=["auto","0","90","180","270"],za=[{isRequired:!1,name:"src",aliases:["path","id"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The URL of the image when not using shorthand syntax",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"tag",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Outputs an image tag when set to true",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"alt",description:"The alt attribute value to use when generating tags",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"absolute",description:"Whether to output full URLs",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{name:"width",expectsTypes:["number"],isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The width of the image, in pixels",isDynamic:!1},{name:"height",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],description:"The height of the image, in pixels",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"square",expectsTypes:["number"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets both then height and width of the iamge",isDynamic:!1,isRequired:!1},{name:"fit",expectsTypes:["string"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"How the image is fitted to its target dimensions",isDynamic:!1,isRequired:!1},{name:"crop",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Crops the image to the specific dimensions",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"orient",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Rotates the image",expectsTypes:["*"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!mT.includes(e.value)&&n.push(ni("Invalid orient value",t,e)),n}},{name:"quality",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Defines the quality of the image",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"dpr",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"Defines the device pixel ratio",expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<1||n>8)&&r.push(ni("dpr must be an integer between 1 and 8.",t,e)),r}},{name:"format",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Encodes the image to a specific format",expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!Nd.includes(e.value)&&n.push(ni("Format must be one of: "+Nd.join(","),t,e)),n}},{name:"bg",description:"Sets the background color for transparent images",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"blur",description:"Adds a blur effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(ni("blur must be a value between 0 and 100.",t,e)),r}},{name:"brightness",description:"Adjusts the image brightness",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<-100||n>100)&&r.push(ni("brightness must be a value between -100 and 100.",t,e)),r}},{name:"contrast",description:"Adjusts the image contrast",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<-100||n>100)&&r.push(ni("contrast must be a value between -100 and 100.",t,e)),r}},{name:"gamma",description:"Adjusts the image gamma",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseFloat(e.value),r=[];return e.containsSimpleValue()&&(n<.1||n>9.99)&&r.push(ni("gamma must be a value between 0.1 and 9.99.",t,e)),r}},{name:"sharpen",description:"Sharpens the iamge",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(ni("sharpen must be a value between 0 and 100.",t,e)),r}},{name:"pixelate",description:"Applies a pixelation effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(ni("pixelate must be a value between 0 and 100.",t,e)),r}},{name:"filter",description:"Applies a filter effect to the image",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!vd.includes(e.value)&&n.push(ni("Filter must be one of: "+vd.join(","),t,e)),n}},{name:"preset",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],description:"A collection of pre-configured image manipulation parameters.",isDynamic:!1,isRequired:!1}];function Xa(t,e){return t.name=="orient"?yt(mT):t.name=="format"?yt(Nd):t.name=="filter"?yt(vd):t.name=="preset"?yt(e.project.getAssetPresets()):Se}var jx={tagName:"glide:batch",hideFromCompletions:!1,requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,injectParentScope:!1,parameters:za,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(hc(t)),e),resovleParameterCompletionItems:Xa,resolveDocumentation:t=>q("glide:batch Tag","The `glide:batch` tag is similar to the glide tag, but can be used to apply image manipulations to multiple images within a piece of content.","https://statamic.dev/tags/glide-batch")},gc=jx;var Ux={tagName:"glide:data_url",hideFromCompletions:!1,requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,injectParentScope:!1,parameters:za,introducedIn:null,resovleParameterCompletionItems:Xa,resolveDocumentation:t=>q("glide:data_url Tag","The `glide:data_url` tag returns manipulated image datas as a data URI.",null)},_c=Ux;var Wx=[Ce(gc),Ce(_c)],Gx={tagName:"glide",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!1,parameters:za,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(hc(t)),e),resovleParameterCompletionItems:Xa,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="glide"||t.leftWord=="/glide")&&t.leftChar==":"?ae(Wx):Se,resolveDocumentation:t=>q("glide Tag","The `glide` tag is used to manipulate images on the fly. Image manipulations may include resizing, cropping, or adjusting sharpness and constrast, amongst many others.","https://statamic.dev/tags/glide")},hT=Gx;var gT={tagName:"iterate",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>q("iterate Tag","The `iterate` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")},_T={tagName:"foreach",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>q("foreach Tag","The `foreach` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")};function yT(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t},{name:"name",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}]}var yc=[{isRequired:!1,name:"id",description:"The ID of the content to localize",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"sort",description:"Sort by a sites key",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"current_first",description:"When true, ensures that the current locale is first",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"all",description:"When true, all locale data will be returned.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!0,name:"self",description:"When true, the current locale will be included.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"collection_term_workaround",description:"Disables the behavior introduced in https://github.com/statamic/cms/pull/6466",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1}];var Yx={tagName:"locales:count",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:yc,introducedIn:"3.0.36",resolveDocumentation:t=>q("locales:count Tag","The `locales:count` tag can be used to count the number of locales the current content is available in.","https://statamic.dev/tags/locales-count")},bc=Yx;var Hx=[Ce(bc)],$x={tagName:"locales",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:yc,introducedIn:null,augmentScope:(t,e)=>(e.addVariableArray("locale",yT(t)),e.addVariable({name:"current",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"exists",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"permalink",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e),resolveDocumentation:t=>q("locales Tag","The `locales` tag can be used to access all the locales the current content is available in.","https://statamic.dev/tags/locales"),resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="locale"||t.leftWord=="/locale")&&t.leftChar==":"?ae(Hx):Se},bT=$x;var Kx={tagName:"mix",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",description:"The path to the versioned file, relative to the public directory",acceptsVariableInterpolation:!1,aliases:["path"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"in",description:"The location of the mix manifest file",acceptsVariableInterpolation:!1,aliases:["from"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>q("mix Tag","The `mix` tag is used to return the path of CSS and JavaScript files versioned with [Laravel Mix](https://laravel.com/docs/8.x/mix).","https://statamic.dev/tags/mix")},TT=Kx;var hl=je(vt());function vT(t){let e=[],n=t.getUniqueUserGroupNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:hl.CompletionItemKind.Field});return e}function NT(t){let e=[],n=t.getUniqueUserRoleNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:hl.CompletionItemKind.Field});return e}function Qa(t,e){let n=[],r=e.getUniqueUserGroupNames(),i=r.filter(s=>!t.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:hl.CompletionItemKind.Field});return n}function Ja(t,e){let n=[],r=e.getUniqueUserRoleNames(),i=r.filter(s=>!t.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:hl.CompletionItemKind.Field});return n}var zx={tagName:"user:in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?ae(Qa((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>q("user:in Tag","The `user:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in")},Tc=zx;var Xx={tagName:"user:not_in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?ae(Qa((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>q("user:not_in Tag","The `user:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in")},Za=Xx;var Qx={tagName:"user:is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?ae(Ja((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>q("user:is Tag","The `user:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is")},eo=Qx;var Jx={tagName:"user:isnt",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?ae(Ja((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveDocumentation:t=>q("user:isnt Tag","The `user:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt")},to=Jx;var Zx={tagName:"in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="groups"||t.name=="group")&&((n=e.context)==null?void 0:n.parameterContext)!=null?ae(Qa((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="in"||t.leftWord=="/in")&&t.leftChar==":"?ae(vT(t.project)):Se,resolveDocumentation:t=>q("in Tag","The `in` tag can be used to check if the authenticated user belongs to one or more groups. This tag operates similarly to the `user:in` tag.","https://statamic.dev/tags/user-in")},CT=Zx;var eR={tagName:"not_found",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>ke("404 (Not Found) Tag","The `not_found` tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ not_found }}
{{ /unless }}`,"https://statamic.dev/tags/404")},PT=eR;var tR={tagName:"is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{var n,r,i;return(t.name=="roles"||t.name=="role")&&((n=e.context)==null?void 0:n.parameterContext)!=null?ae(Ja((i=(r=e.context.parameterContext.parameter)==null?void 0:r.getArrayValue())!=null?i:[],e.project)):null},resolveCompletionItems:t=>(t.leftWord=="is"||t.leftWord=="/is")&&t.leftChar==":"?ae(NT(t.project)):Se,resolveDocumentation:t=>q("is Tag","The `is` tag can be used to check whether the currently authenticated user has one or more roles. This tag behaves the same as the `user:is` tag.","https://statamic.dev/tags/user-is")},DT=tR;var nR={tagName:"widont",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>ke("widont Tag","The `widont` tag is similar to the [widont modifier](https://statamic.dev/modifiers/widont), and will attempt to prevent lines with a single word from appearing within the tags rendered output.",`{{ widont }}
    {{ content }}
{{ /widont }}`,null)},ST=nR;var vc=[{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"id",description:"The user ID to fetch",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"email",description:"The email address to find the user by",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"field",description:"The field to fetch the user by",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"value",description:"The value to search for",expectsTypes:["string"],isDynamic:!1}];var rR={tagName:"user:profile",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:vc,introducedIn:null,augmentScope:(t,e)=>(e.injectBlueprint(t,"user"),e),resovleParameterCompletionItems:(t,e)=>t.name=="field"?ae(Vu(e.project.getUserFields())):Se,resolveDocumentation:t=>q("user:profile Tag","The `user:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null)},no=rR;var AT={tagName:"dd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>ke("dd Tag","The `dd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the dd tag.
	#}}
    {{ dd }}
{{ /collection:articles }}`,null)},IT={tagName:"ddd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>ke("ddd Tag","The `ddd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the ddd tag.
	#}}
    {{ ddd }}
{{ /collection:articles }}`,null)};var iR={tagName:"path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["src"],allowsVariableReference:!0,description:"The path source",name:"to",isDynamic:!1,expectsTypes:["string"]},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],description:"Whether to generate absolute paths",expectsTypes:["boolean"],isDynamic:!1,name:"absolute"}],resolveDocumentation:t=>q("path Tag","The `path` tag can be used to generate URLs from relative URLs, or an entry ID.",null)},ET=iR;var sR={tagName:"user:cant",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:ic,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>q("user:cant Tag","The `user:cant` tag is used to check if the currently authenticated user does not have a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user does not have the specified permissions.","https://statamic.dev/tags/user-can#cant")},Nc=sR;var aR={tagName:"query",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,parameters:[{name:"builder",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The query to evaluate",expectsTypes:["string"],isRequired:!0,isDynamic:!1}]},xT=aR;var Gs=je(vt());var yi=[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"src",description:"The relative path to the file",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"cache_bust",description:"Whether to output the last modified date",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"version",description:"Whether to check a versioning manifest to produce the final URL",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"absolute",description:"Generate absolute URLs or not",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"locale",description:"The locale the path should be generated in",expectsTypes:["string"],isDynamic:!1}];var oR=[{label:"asset",kind:Gs.CompletionItemKind.Text},{label:"css",kind:Gs.CompletionItemKind.Text},{label:"img",kind:Gs.CompletionItemKind.Text},{label:"js",kind:Gs.CompletionItemKind.Text},{label:"output",kind:Gs.CompletionItemKind.Text},{label:"path",kind:Gs.CompletionItemKind.Text}],lR={tagName:"theme",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,introducedIn:null,injectParentScope:!1,parameters:yi,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="theme"||t.leftWord=="/theme")&&t.leftChar==":"?ae(oR):Se},RT=lR;var Cd={tagName:"theme:path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:yi,resolveDocumentation:t=>q("theme:path Tag","The `theme:path` tag may be used to generate URLs for public assets. This tag may also optionally add the current locale, generate relative URLs, or add cache busting URL parameters to the end of the generated URL.",null)},wT=at(Cd,"theme:asset");var uR={tagName:"theme:css",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...yi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>q("theme:css Tag","The `theme:css` tag may be used to generate a CSS path relative to a public `css/` directory for any arbitrary file path. This tag may also optionally create the HTML `link` tag.",null)},OT=uR;var cR={tagName:"theme:img",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...yi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]},{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"alt",description:"The alt text to use when generating the HTML tag",expectsTypes:["string"]}],resolveDocumentation:t=>q("theme:img Tag","The `theme:img` tag may be used to generate an image path relative to a public `img/` directory for any arbitrary file path. This tag may also optionally create the HTML `img` tag.",null)},LT=cR;var fR={tagName:"theme:js",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...yi,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>q("theme:js Tag","The `theme:js` tag may be used to generate a JavaScript path relative to a public `js/` directory for any arbitrary file path. This tag may also optionally create the HTML `script` tag.",null)},FT=fR;var pR={tagName:"theme:output",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"src",description:"The path to the file",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"as",description:"An optional alias for the contents variable",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>{if(t.isClosedBy!=null){let n=t.findParameter("as");n!=null?e.addVariable({name:n.value,dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t}):e.addVariable({name:"output_contents",dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t})}return e},resolveDocumentation:t=>q("theme:output Tag","The `theme:output` tag may be used to output the contents of any arbitrary file, relative to the site's `resources/` directory.",null)},kT=pR;var dR={tagName:"scope",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>ke("scope Tag","The `scope` tag creates a copy of all available variables, and saves them to a new  *array* variable defined by the tag's method part.",`{{ scope:scope_name }}
    {{ scope_name:title }}
{{ /scope:scope_name }}
`,null)},MT=dR;var mR={tagName:"if",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:$e,resolveDocumentation:t=>q("if Conditional Control Structure","The contents of the `if` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},BT=mR;var hR={tagName:"elseif",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:$e,resolveDocumentation:t=>q("elseif Conditional Control Structure","The contents of the `elseif` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},qT=hR;var gR={tagName:"else",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>q("else Conditional Control Structure","The contents of the `else` control structure will be evaluated when all previous conditional branch conditions were not met.","https://statamic.dev/antlers#conditions")},VT=gR;var jT=je(vt());var _R={tagName:"session:has",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:"3.1.28",resolveDynamicParameter:$e,resolveDocumentation:t=>q("session:has Tag","The `session:has` tag can be used to determine of the user's session contains a specific variable.","https://statamic.dev/tags/session-has")},Cc=_R;var yR=[Ce(ac),Ce(uc),Ce(oc),Ce(lc),Ce(Cc),Ce(sc)],bR={tagName:"session",requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",description:"An optional alias for the session data",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveCompletionItems:t=>{var e,n;if(t.isPastTagPart==!1&&(t.leftWord=="session"||t.leftWord=="/session")&&t.leftChar==":"){let r=(n=(e=ml.instance)==null?void 0:e.getKnownSessionVariableNames())!=null?n:[],i=[];i=i.concat(yR);for(let s=0;s<r.length;s++)i.push({label:r[s],kind:jT.CompletionItemKind.Variable});return ae(i)}return Se},augmentScope:(t,e)=>{var s,a;let n=t.findParameter("as"),r=(a=(s=ml.instance)==null?void 0:s.getKnownSessionVariableNames())!=null?a:[],i=[];for(let o=0;o<r.length;o++)i.push({dataType:"*",name:r[o],sourceField:null,sourceName:"project.session",introducedBy:t});return n==null?e.addVariables(i):e.addVariableArray(n.value,i),e}},UT=bR;var gl={tagName:"user:forgot_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:$e,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t}]),e),resolveDocumentation:t=>q("user:forgot_password_form Tag",'The `user:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form")},Pd=at(gl,"member:forgot_password_form");Pd.resolveDocumentation=t=>q("member:forgot_password_form Tag",'The `member:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form");var _l={tagName:"user:reset_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:$e,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t}]),e),resolveDocumentation:t=>q("user:reset_password_form Tag","The `user:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form")},Dd=at(_l,"member:reset_password_form");Dd.resolveDocumentation=t=>q("member:reset_password_form Tag","The `member:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form");function WT(t,e){return{sourceName:e.blueprintName,dataType:e.type,name:e.name,sourceField:e,introducedBy:t}}function GT(t){let e=new Map;for(let n=0;n<t.length;n++)e.set(t[n].name,t[n]);return e}function ro(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push({sourceName:i.blueprintName,dataType:i.type,name:i.name,sourceField:i,introducedBy:t})}return n}function Pc(t){return[{name:"handle",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"display",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"type",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"field",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"error",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"instructions",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"old",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t}]}var yl={tagName:"user:register_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after registering",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed registration attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:$e,augmentScope:(t,e)=>{e.addVariableArray("fields",Pc(t)),e.addVariable({name:"errors",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"old",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"error",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"success",dataType:"string",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t});let n=e.statamicProject.getUserFields();if(n.length>0){let r=ro(t,n);e.addVariableArray("old",r),e.addVariableArray("error",r)}return e},resolveDocumentation:t=>q("user:register_form  Form Tag","The `user:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form")},Sd=at(yl,"member:register_form");Sd.resolveDocumentation=t=>q("member:register_form Tag","The `member:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form");var TR=[Ce(eo),Ce(Za),Ce(to),Ce(no),Ce(Ha),Ce(Nc),Ce(gl),Ce($a),Ce(Ka),Ce(yl),Ce(_l)],vR={tagName:"user",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:vc,introducedIn:null,resovleParameterCompletionItems:(t,e)=>e.isPastTagPart==!1&&e.currentNode!=null&&e.currentNode.methodIsEmptyOrMatches("profile")&&t.name=="field"?ae(Vu(e.project.getUserFields())):Se,augmentScope:(t,e)=>(t.methodIsEmptyOrMatches("profile")&&e.injectUserFields(t),e),resolveCompletionItems:t=>(t.leftWord=="user"||t.leftWord=="/user"||t.leftWord=="member"||t.leftWord=="/member")&&t.leftChar==":"?ae(TR):Se,resolveDocumentation:t=>q("user Tag","The `user` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null)},Dc=vR;var Sc=at(Dc,"member"),Ad=at(eo,"member:is"),Id=at(to,"member:isnt"),Ed=at(no,"member:profile"),xd=at(Ha,"member:can"),Rd=at($a,"member:logout"),wd=at(Ka,"member:logout_url"),Od=at(Tc,"member:in"),Ld=at(Za,"member:not_in");Sc.hideFromCompletions=!0;Sc.resolveDocumentation=t=>q("member Tag","The `member` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);Ad.resolveDocumentation=t=>q("member:is Tag","The `member:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is");Id.resolveDocumentation=t=>q("member:isnt Tag","The `member:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt");Ed.resolveDocumentation=t=>q("member:profile Tag","The `member:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);xd.resolveDocumentation=t=>q("member:can Tag","The `member:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can");Rd.resolveDocumentation=t=>q("member:logout Tag","The `member:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout");wd.resolveDocumentation=t=>ke("member:logout_url","The `member:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ member:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url");Od.resolveDocumentation=t=>q("member:in Tag","The `member:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in");Ld.resolveDocumentation=t=>q("member:not_in Tag","The `member:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in");function fs(t){return[{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t},{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t}]}var $T=je(vt());var Fd=["from","taxonomy","is","use","folder"],kd=["not_from","not_in","dont_use","not_taxonomy"];var Md=Fd;Md=Md.concat(kd);function YT(t,e){var n,r,i,s,a,o,l,u;if(e.nodesInScope.length>0){let c=e.nodesInScope[e.nodesInScope.length-1];if(c!=null&&c.currentScope!=null){let f=io(c,e.project),m=e.project.getTaxonomyBlueprintFields(f),y=m.map(d=>d.name),p=Mi(e.leftWord);if(y.includes(p))return ae(ss(e))}}return t.name=="collection"&&((n=e.context)==null?void 0:n.parameterContext)!=null?ae(Va((s=(i=(r=e.context)==null?void 0:r.parameterContext.parameter)==null?void 0:i.getArrayValue())!=null?s:[],e.project)):t.name=="filter"||t.name=="query_scope"?ae(Uu(e.project)):Md.includes(t.name)&&((a=e.context)==null?void 0:a.parameterContext)!=null?ae(HT((u=(l=(o=e.context)==null?void 0:o.parameterContext.parameter)==null?void 0:l.getArrayValue())!=null?u:[],e.project)):null}function io(t,e){let n=[];if(t.hasMethodPart())return n.push(t.getMethodNameValue()),n;let r=t.findAnyParameter(Fd),i=t.findAnyParameter(kd),s=[],a=[];return typeof r!="undefined"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueTaxonomyNames(),typeof i!="undefined"&&i!==null&&i.isVariableReference==!1&&i.hasInterpolations()==!1&&(a=i.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),a.length>0?n=s.filter(function(o){return a.includes(o)==!1}):n=s,n}function HT(t,e){let n=[],r=e.getUniqueTaxonomyNames().filter(i=>!t.includes(i));for(let i=0;i<r.length;i++)n.push({label:r[i],kind:$T.CompletionItemKind.Variable});return n}function KT(t,e){let n=io(t,e.statamicProject),r=e.statamicProject.getTaxonomyBlueprintFields(n),i=t.findParameter("collection");if(e.addBlueprintFields(t,r),e.addVariables([{name:"first",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"last",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"index",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"total_results",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"entries_count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t}]),e.addVariables(fs(t)),typeof i!="undefined"&&i!==null){let s=i.getArrayValue();if(s.length>0){let a=e.statamicProject.getBlueprintFields(s);e.introduceScopedAliasScope(t,"entries","entries",a).addVariables(as(t))}else e.addVariableArray("entries",fs(t).concat(as(t)))}else e.addVariableArray("entries",fs(t).concat(as(t)));return e}var NR=[{name:"from",description:"The taxonomy to use",aliases:["taxonomy","is","use","folder"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"not_from",description:"Taxonomies to exclude",aliases:["not_in","not_folder","dont_use","not_taxonomy"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string","array"],isRequired:!1,isDynamic:!1},{name:"min_count",description:"The minimum number of entries a taxonomy term must have to be returned",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"collection",description:"Filter the terms to those that appear in the specified collections",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"sort",description:"The field to sort terms by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope",expectsTypes:["string"],isDynamic:!1}],zT=NR;var Bd=je(vt());function XT(t){var n,r;let e=[];if(t.currentNode!=null&&t.currentNode.currentScope!=null){let i=io(t.currentNode,t.project),s=t.project.getTaxonomyBlueprintFields(i),a=s.map(l=>l.name),o=Mi(t.leftWord);if(a.includes(o))return ae(ss(t));if(t.isCaretInTag&&!((n=t.context)==null?void 0:n.interpolatedContext)&&["taxonomy","/taxonomy"].includes(t.leftWord)==!1){let l=[];for(let u=0;u<s.length;u++){let c=s[u];l.includes(c.name)==!1&&(e.push({label:c.name,detail:c.blueprintName,documentation:(r=c.instructionText)!=null?r:"",kind:Bd.CompletionItemKind.Field}),l.push(c.name))}if(e.length>0)return _n(e)}}if((t.leftWord=="taxonomy"||t.leftWord=="/taxonomy")&&t.leftChar==":"){let i=t.project.getUniqueTaxonomyNames();for(let s=0;s<i.length;s++)e.push({label:i[s],kind:Bd.CompletionItemKind.Field});return _n(e)}return Se}var CR={tagName:"taxonomy",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:zT,resolveDynamicParameter:$e,resolveCompletionItems:XT,resovleParameterCompletionItems:YT,augmentScope:KT,resolveDocumentation:t=>q("taxonomy Tag","The `taxonomy` tag may be used to retrieve taxonomy entries. The taxonomy tag can also be used to access entries associated with any given taxonomy term.","https://statamic.dev/tags/taxonomy")},QT=CR;var qd=je(vt());function JT(t,e){e.addVariables([{name:"is_published",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_page",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"has_entries",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_parent",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_external",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"depth",dataType:"number",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"children",dataType:"array",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t}]);let n=e.statamicProject.getUniqueCollectionNames(),r=[],i=!1;if(t.hasMethodPart()){let s=t.getMethodNameValue().trim().toLowerCase();if(s.startsWith("collection:")){let a=s.split(":").pop();i=!0,r.push(a)}else s=="pages"?(i=!0,r.push("pages")):(i=!1,r.push(s))}else{let s=t.findParameter("handle");s!=null&&(n.includes(s.value)?i=!0:i=!1,r.push(s.value))}if(i){let s=e.statamicProject.getBlueprintFields(r);e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}else{let s=ju(fs(t));e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}return e}var PR={tagName:"nav:breadcrumbs",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:[{name:"include_home",description:"Whether to include the home page in the first level",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"reverse",description:"Whether to reverse the order of links",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isRequired:!1,isDynamic:!1},{name:"trim",description:"Whether to trim the whitespace after each iteration of the loop",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],augmentScope:(t,e)=>(e.addVariables([{name:"is_current",dataType:"boolean",sourceName:"*internal.nav.breadcrumbs",sourceField:null,introducedBy:t}]),e.addVariables(fs(t)),e),resolveDocumentation:t=>q("nav:breadcrumbs Tag","The `nav:breadcrumbs` tag can be used to retrieve the URLs of all pages that make up the current URL back to the site's home page.","https://statamic.dev/tags/nav-breadcrumbs")},Ac=PR;function ZT(t,e){if(t.name=="handle"){let n=e.project.getUniqueCollectionNames(),r=e.project.getUniqueNavigationMenuNames(),i=[];return i=n,i=i.concat(r),i=[...new Set(i)],yt(i)}return null}var DR=[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["handle"],allowsVariableReference:!1,name:"for",description:"The navigation or collection to use",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],name:"from",description:"The starting point for the navigation",allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"show_unpublished",description:"Whether to include unpublished content",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"include_home",description:"Whether to include the home page in the tree",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"max_depth",description:"The maximum depth of the navigation or structure",expectsTypes:["number"],isDynamic:!1}],e0=DR;var Vd={tagName:"structure",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,injectParentScope:!1,parameters:e0,augmentScope:JT,resovleParameterCompletionItems:ZT,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="nav"||t.leftWord=="/nav"||t.leftWord=="structure"||t.leftWord=="/structure")&&t.leftChar==":"){let n=t.project.getUniqueNavigationMenuNames();for(let r=0;r<n.length;r++)e.push(Ma(n[r],"",""));return(t.leftWord=="nav"||t.leftWord=="/nav")&&e.push(Ce(Ac)),e.push(Ma("collection","","")),e.push({label:"collection",kind:qd.CompletionItemKind.Text}),_n(e)}if((t.leftWord=="nav:collection"||t.leftWord=="/nav:collection"||t.leftWord=="collection"||t.leftWord=="/collection"||t.leftWord=="structure:collection"||t.leftWord=="/structure:collection")&&t.leftChar==":"){let n=t.project.getUniqueCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:qd.CompletionItemKind.Field});return _n(e)}return Se},resolveDocumentation:t=>q("nav Tag","The `nav` tag can be used to iterate structured collections or navigation menus.","https://statamic.dev/tags/nav")},t0=at(Vd,"nav");var i0=je(vt());function n0(t){return[{name:"success",dataType:"string",sourceField:null,sourceName:"*internal.forms",introducedBy:t},{name:"submission_created",dataType:"boolean",sourceField:null,sourceName:"*internal.forms",introducedBy:t}]}var SR={name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},bi=SR;var jd=je(vt()),AR=[{label:"GET",kind:jd.CompletionItemKind.EnumMember},{label:"POST",kind:jd.CompletionItemKind.EnumMember}],r0=AR;var ri=["in","handle","is","form","formset"];function so(t,e){return ri.includes(t.name)?yt(e.project.getUniqueFormNames()):t.name=="method"?ae(r0):t.name=="files"?ae(cl):null}function Ti(t,e){let n=t.structure.findParentWithName("form:set");return n!=null?{context:n,issues:[]}:{context:null,issues:[]}}var IR=["set","create","errors","success","submissions","submission"];function Ys(t){if(t.reference!=null&&"tagPart"in t.reference){let r=t.reference;if(r.nameMatches("form:set"))return Ys(r)}let e=t.findAnyParameter(ri),n=t.getMethodNameValue();return n!=null&&IR.includes(n)==!1?n:typeof e!="undefined"&&e!==null&&e.containsSimpleValue()?e.value:""}var ER={tagName:"form:create",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[bi,{name:"method",description:"The HTTP method to use",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"files",description:"Indicates if the form sends file data",aliases:[],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"redirect",description:"The location to redirect users after a successful form submission",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",description:"The location to redirect users to after a failed form submission",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override redirect or error_redirect",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveSpecialType:Ti,resovleParameterCompletionItems:so,resolveDynamicParameter:$e,augmentScope:(t,e)=>{e.addVariables(n0(t)),e.addVariable({dataType:"array",name:"errors",sourceField:null,sourceName:"*internal.forms",introducedBy:t}),e.addVariableArray("fields",Pc(t));let n=Ys(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n),i=ro(t,r);e.addVariableArray("old",i),e.addVariableArray("error",i)}return e},resolveDocumentation:t=>q("form:create Tag","The `form:create` tag can be used to access form data, generate field HTML markup, and handle form validation errors.","https://statamic.dev/tags/form-create")},Ic=ER;var xR={tagName:"form:errors",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[bi],resolveSpecialType:Ti,resovleParameterCompletionItems:(t,e)=>ri.includes(t.name)?yt(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>q("form:errors Tag","The `form:errors` tag can be used to retrieve validation errors after a user has submitted a form.","https://statamic.dev/tags/form-errors")},Ec=xR;var RR={tagName:"form:set",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!0}],resovleParameterCompletionItems:so,resolveDocumentation:t=>q("form:set Tag","The `form:set` tag can be used to set the form handle on all nested form tags.","https://statamic.dev/tags/form-set")},xc=RR;var wR={tagName:"form:submission",requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[bi],resolveSpecialType:Ti,resovleParameterCompletionItems:(t,e)=>ri.includes(t.name)?yt(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{let n=Ys(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n);e.addBlueprintFields(t,r)}return e},resolveDocumentation:t=>q("form:submission Tag","The `form:submission` tag can be used to access the form submission submitted by the current user.","https://statamic.dev/tags/form-submission")},Rc=wR;var OR={tagName:"form:submissions",allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[bi],resolveSpecialType:Ti,resovleParameterCompletionItems:(t,e)=>ri.includes(t.name)?yt(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let n=Ys(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n);e.addBlueprintFields(t,r)}return e.addVariable({name:"date",dataType:"date",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e},resolveDocumentation:t=>q("form:submissions Tag","The `form:submissions` tag can be used to fetch previously saved submissions for a form.","https://statamic.dev/tags/form-submissions")},wc=OR;var LR={tagName:"form:success",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[bi],resolveSpecialType:Ti,resovleParameterCompletionItems:(t,e)=>ri.includes(t.name)?yt(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>q("form:success Tag","The `form:success` tag can be used to check if a form submission was successful or not.","https://statamic.dev/tags/form-success")},Oc=LR;var FR=[Ce(xc),Ce(Ic),Ce(Ec),Ce(Oc),Ce(wc),Ce(Rc)],kR={tagName:"form",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resovleParameterCompletionItems:so,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="form"||t.leftWord=="/form")&&t.leftChar==":"){let n=t.project.getUniqueFormNames();e=e.concat(FR);for(let r=0;r<n.length;r++)e.push({label:n[r],kind:i0.CompletionItemKind.Field});return _n(e)}return Se}},s0=kR;var Ud={tagName:"search:results",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"index",description:"The index to search in",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"query",description:"The query string parameter to use",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"limit",description:"The maximum number of search results to return",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{name:"offset",description:"The number of results to skip",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether not to paginate entry results",expectsTypes:["boolean"],isRequired:!1,name:"paginate",isDynamic:!1},{name:"as",description:"Specifies an alias for search results",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"supplement_data",description:"Controls whether non-indexed fields are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="index"?yt(e.project.getSearchIndexes()):null,augmentScope:(t,e)=>{e.addVariables([{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]);let n=t.findParameter("as");return n!=null&&n.value.trim().length>0?e.addVariableArray(n.value,a0(t)):e.addVariables(a0(t)),e},resolveDocumentation:t=>q("search:results Tag","The `search:results` tag provides access to all data that was returned as a result of a user's search.","https://statamic.dev/tags/search")},MR=[Ce(Ud)];function a0(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"content",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_term",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"count",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"index",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"search_score",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"_highlightResult",dataType:"array",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]}var o0={tagName:"search",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="search"||t.leftWord=="/search")&&t.leftChar==":"?_n(MR):Se};function Wd(t){return[{name:"email",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"password",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]}var Gd={tagName:"user:login_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after logging in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed login attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:$e,augmentScope:(t,e)=>(e.addVariables([{name:"errors",dataType:"array",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"success",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]),e.addVariables(Wd(t)),e.addVariableArray("old",Wd(t)),e.addVariableArray("error",Wd(t)),e),resolveDocumentation:t=>q("user:login_form Tag","The `user:login_form` tag can be used to quickly create a form that users can use to authenticate with the site.","https://statamic.dev/tags/user-login_form")},l0=at(Gd,"member:login_form");var BR={tagName:"noparse",requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>q("noparse Tag","The `noparse` tag is used prevent blocks of Antlers code from being parsed, removing the need to escape individual Antlers code regions.","https://statamic.dev/antlers#the-noparse-tag")},u0=BR;var qR={tagName:"unless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:$e,resolveDocumentation:t=>q("unless Conditional Control Structure","The `unless` control structure operates the same as an `if` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},c0=qR;var VR={tagName:"elseunless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:$e,resolveDocumentation:t=>q("elseunless Conditional Control Structure","The `elseunless` control structure operates the same as an `elseif` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},f0=VR;var p0=je(ei());var d0={tagName:"installed",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!0,introducedIn:"3.1.19",parameters:[],resolveCompletionItems:t=>{if(t.project!=null){let e=t.project.getComposerPackages(),n=[];return e.forEach((r,i)=>{n.push({label:r.name,kind:p0.CompletionItemKind.Text})}),ae(n)}return Se},resolveDocumentation:t=>ke("installed Tag","The `installed` tag is used to check if the site has a specific Composer package available.",`{{ if {installed:composer/package-name} }}
    {{# Package is availabl.e #}}
{{ else }}
    {{# Something else. #}}
{{ /if }}`,"https://statamic.dev/tags/installed")};var jR={tagName:"relate",hideFromCompletions:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[]},m0=jR;var ao=[{name:"bag",description:"The error message bag to retrieve errors from.",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}];var UR={tagName:"get_errors",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:ao,introducedIn:"3.2.23",augmentScope:(t,e)=>{var n;if(t.isClosingTag)return e;if(((n=t.name)==null?void 0:n.methodPart)==null){let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"field",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"field",refFieldSetField:null,sets:null,type:"string"}});let i=r.copy();i.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),r.addScopeList("messages",i),e.addScopeList("fields",r)}else{let r=e.copy();r.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",r)}return e},resolveDocumentation:t=>q("get_errors Tag","The `get_errors` tag can be used to retrieve form validation errors.","https://statamic.dev/tags/get_errors")},h0=UR;var WR={tagName:"get_errors:all",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:ao,introducedIn:null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let n=e.copy();return n.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors.all",sourceField:{blueprintName:"*internal.tag.get_errors.all",displayName:"get_errors:all",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",n),e},resolveDocumentation:t=>q("get_errors:all Tag","The `get_errors:all` tag can be used to retrieve all form validation errors.","https://statamic.dev/tags/get_errors#list-all-validation-errors")},g0=WR;var GR={tagName:"get_error",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:ao,introducedIn:null,augmentScope:(t,e)=>(t.isClosingTag||e.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_error",sourceField:{blueprintName:"*internal.tag.get_error",displayName:"get_error",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e),resolveDocumentation:t=>q("get_error Tag","The `get_error` tag can be used to retrieve the first error message for a specific field.","https://statamic.dev/tags/get_errors#get-the-first-error-for-a-specific-field")},_0=GR;var YR={tagName:"set",hideFromCompletions:!0,allowsArbitraryParameters:!0,requiresClose:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[]},y0=YR;var b0=je(ei());var HR={tagName:"mount_url",hideFromCompletions:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:"3.3.15",parameters:[{isRequired:!1,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The collection handle",name:"handle",isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>q("mount Tag","The `mount` tag can be used to retrieve the mount URL for a given collection.",null),resovleParameterCompletionItems:(t,e)=>{var n,r,i,s;return t.name=="handle"&&((n=e.context)==null?void 0:n.parameterContext)!=null?ae(Va((s=(i=(r=e.context)==null?void 0:r.parameterContext.parameter)==null?void 0:i.getArrayValue())!=null?s:[],e.project)):null},resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="mount_url"||t.leftWord=="/mount_url")&&t.leftChar==":"){let n=t.project.getCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:b0.CompletionItemKind.Field,sortText:"0"})}return{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}},T0=HR;var $R={tagName:"vite",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"src",description:"The entry point",expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>ke("vite Tag","Generates Vite tags for an entrypoint.",'{{ vite src="entry/point" }}',null)},v0=$R;var KR={tagName:"nocache",requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>ke("nocache Tag","The `nocache` tag is used to mark regions of a template. These regions will continue to update even when using caching strategies such as the full or half-measure cache.",`{{ nocache }} 
    <!-- This content will remain dynamic. -->
{{ /nocache }}`,"https://statamic.dev/tags/nocache")},N0=KR;function Lc(t){return[{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.user.permissions",introducedBy:t},{name:"total_results",dataType:"integer",sourceField:null,sourceName:"*internal.user.permissions",introducedBy:t},{name:"handle",dataType:"string",sourceField:null,sourceName:"*internal.user.permissions",introducedBy:t}]}var zR={tagName:"user_roles",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,injectParentScope:!1,introducedIn:"3.3.31",requiresClose:!1,parameters:[{name:"handle",description:"A list of role handles to include",aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1,acceptsVariableInterpolation:!0}],augmentScope:(t,e)=>(t.isClosingTag||e.addVariables(Lc(t)),e),resolveDocumentation:t=>q("user_roles Tag","The `user_roles` tag can be used to return information about a site's user roles.",null)},C0=zR;var XR={tagName:"user_groups",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,injectParentScope:!1,introducedIn:"3.3.31",requiresClose:!1,parameters:[{name:"handle",description:"A list of group handles to include",aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1,acceptsVariableInterpolation:!0}],augmentScope:(t,e)=>(t.isClosingTag||e.addVariables(Lc(t)),e),resolveDocumentation:t=>q("user_groups Tag","The `user_groups` tag can be used to return information about a site's user groups.",null)},P0=XR;var QR={tagName:"cookie:forget",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"keys",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The keys to forget",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},Fc=QR;var JR={tagName:"cookie:has",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"key",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The cookie name to check for existence",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},kc=JR;var ZR={tagName:"cookie:set",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"minutes",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The lifetime of the cookie, in minutes",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},Mc=ZR;var ew={tagName:"cookie:value",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"key",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The cookie name to retrieve the value for",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},Bc=ew;var tw=[Ce(Fc),Ce(Bc),Ce(Mc),Ce(kc)],nw={tagName:"cookie",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[],resolveCompletionItems:t=>(t.leftWord=="cookie"||t.leftWord=="/cookie")&&t.leftChar==":"?ae(tw):Se},D0=nw;var S0=[BT,qT,VT,c0,f0,aT,uT,Ab,Ju,Vs,Zu,Qu,Xu,D0,Fc,kc,Mc,Bc,m0,s0,Ic,Rc,wc,xc,Oc,Ec,y0,h0,_0,g0,o0,Ud,kb,ec,tc,xb,PT,Eb,IT,AT,Ib,cT,pT,hT,gc,_c,Rb,wb,Ob,gT,_T,Mb,nc,bT,bc,TT,T0,t0,Vd,Ac,qb,Bb,Tc,CT,Za,eo,DT,d0,C0,P0,Dc,to,Ha,Nc,$a,Ka,no,Gd,_l,gl,yl,Sc,Ad,Id,Ed,xd,Rd,wd,Od,Ld,l0,Dd,Pd,Sd,u0,N0,Ub,Wb,Gb,nT,rT,ET,Jb,Xb,MT,tT,UT,uc,lc,oc,ac,Cc,sc,sT,QT,RT,Cd,wT,OT,LT,FT,kT,dc,iT,bd,xT,$b,cc,ST,v0];var ps=class{constructor(){this.tags=new Map;this.parameters=new Map}reset(){this.tags.clear(),this.parameters.clear(),this.loadCoreTags()}getVisibleTagsWithDocumentation(){let e=[];return this.tags.forEach((n,r)=>{if(n.hideFromCompletions==!1){let i="";n.resolveDocumentation!=null&&(i=n.resolveDocumentation()),e.push({label:r,documentation:i})}}),e}getVisibleTagNames(){let e=[];return this.tags.forEach((n,r)=>{n.hideFromCompletions==!1&&e.push(r)}),[...new Set(e)]}getPossibleTagMethods(e){let n=[],r=e.length+1;return this.tags.forEach((i,s)=>{if(s.startsWith(e)){let a=s.substr(r).trim();a.length>0&&n.push(a)}}),[...new Set(n)]}getTagNames(){let e=[];return this.tags.forEach((n,r)=>{e.push(r)}),[...new Set(e)]}loadCoreTags(){this.registerTags(S0)}cleanTagName(e){return Es(e,"/")}findTag(e){return this.tags.get(this.resolveTagName(e))}isKnownTag(e){return this.tags.has(this.resolveTagName(e))}isSymbolKnownTag(e){return this.isKnownTag(e.runtimeName())}resolveTagName(e){return e=this.cleanTagName(e.trim()),this.tags.has(e)||e.includes(":")&&(e=e.split(":")[0]),e}canResolveSpecialTypes(e){e=this.resolveTagName(e);let n=this.tags.get(e);return!(typeof n=="undefined"||n==null||n.resolveSpecialType==null)}resolveSpecialType(e,n,r){e=this.resolveTagName(e);let i=this.findTag(e);if(i.resolveSpecialType==null)throw new Error(e+" does not support special types.");return i.resolveSpecialType(n,r)}getCompletionItems(e){var s;let n=null,r=[],i=!0;if(e.nodesInScope.length>0&&(n=e.nodesInScope[e.nodesInScope.length-1]),e.currentNode!=null&&this.isKnownTag(e.currentNode.runtimeName())){let a=this.findTag(e.currentNode.runtimeName());if(typeof a=="undefined")return{isExclusive:!1,items:[]};let o=[];if(a.resolveCompletionItems!=null){let l=a.resolveCompletionItems(e);if(l.isExclusiveResult)return{isExclusive:!0,items:l.items};i=l.analyzeDefaults,r=r.concat(l.items)}if(e.isPastTagPart==!1){let l=this.getPossibleTagMethods(a.tagName);for(let u=0;u<l.length;u++)r.push({label:l[u],kind:A0.CompletionItemKind.Text})}if(i){if(e.isCaretInTag==!0&&a.parameters.length>0&&(r=r.concat(ud(e,a.parameters)),a.tagName=="partial"&&(n==null?void 0:n.hasMethodPart()))){let l=n.getMethodNameValue();if(l.trim().length>0&&((s=cr.instance)==null?void 0:s.hasStructure())){let u=cr.instance.getStructure().findPartial(l);u!=null&&u.injectsParameters.length>0&&(r=r.concat(ud(e,u.injectsParameters)))}}for(let l=0;l<e.nodesInScope.length;l++)if(e.nodesInScope[l].runtimeType!==null){let u=e.nodesInScope[l].runtimeType;if(u!=null&&u.assumedType=="structure_ref"&&u.supplementedFields!=null)for(let c=0;c<u.supplementedFields.length;c++)r.push(cd(u.supplementedFields[c]))}}return{items:r,isExclusive:!1}}return{items:r,isExclusive:!1}}injectParentScope(e){let n=this.findTag(e);return typeof n=="undefined"||n==null?!0:n.injectParentScope}resolveParameterCompletions(e,n,r){let i=this.findTag(e);return typeof i!="undefined"&&i!==null&&typeof i.resovleParameterCompletionItems!="undefined"&&i.resovleParameterCompletionItems!==null?i.resovleParameterCompletionItems(n,r):null}canResolveDynamicParameter(e){let n=this.resolveTagName(e);if(this.isKnownTag(n)){let r=this.tags.get(n);if(typeof r=="undefined")return!1;if(typeof r.resolveDynamicParameter!="undefined"&&r.resolveDynamicParameter!=null)return!0}return!1}getParameter(e,n){let r=this.resolveTagName(e);if(this.parameters.has(r)==!1)return null;let i=this.parameters.get(r);if(i==null)return null;if(i.has(n)==!1){let a=this.findTag(e);if(a!=null&&typeof a.resolveDynamicParameter!="undefined"&&a.resolveDynamicParameter!=null){let o=a.resolveDynamicParameter(null,n);if(o!==null)return o}return null}let s=i.get(n);return typeof s=="undefined"||i==null?null:s}registerTags(e){for(let n=0;n<e.length;n++)this.registerTag(e[n])}registerTag(e){if(this.tags.set(e.tagName,e),this.parameters.has(e.tagName)==!1&&this.parameters.set(e.tagName,new Map),e.parameters.length>0){let n=this.parameters.get(e.tagName);for(let r=0;r<e.parameters.length;r++){let i=e.parameters[r];n==null||n.set(i.name,i)}}}requiresClose(e){let n=e.getTagName();if(this.tags.has(n)){let r=this.findTag(n);if(r!=null)return r.requiresCloseResolver!=null?r.requiresCloseResolver(e):r.requiresClose}return!1}};ps.instance=null;(typeof ps.instance=="undefined"||ps.instance==null)&&(ps.instance=new ps,ps.instance.loadCoreTags());var En=ps;var Cr=class{constructor(e){this.generation=0;this.id="";this.name="";this.values=new Map;this.lists=new Map;this.pristine=new Map;this.parentScope=null;this.statamicProject=e,Cr.generationCounter+=1,this.generation=Cr.generationCounter,this.id=ya()}makeNew(){return new Cr(this.statamicProject)}ancestor(){return this.parentScope!=null?this.parentScope:this}canShiftScope(e){return!!this.pristine.has(e)}shiftScope(e,n,r){if(this.pristine.has(n)){let i=this.pristine.get(n),s=i.parentCopy.copy();return s.introduceAliasScope(e,r,i.introducedFields),s}return this}containsPath(e){if(e.includes(":")){let n=e.split(":"),r=n.shift(),i=n.join(":");if(typeof r=="undefined")return!1;let s=this.lists.get(r);return typeof s=="undefined"?!1:s.containsPath(i)}return!!this.lists.has(e)}findReference(e){if(e.includes(":")){let n=e.split(":"),r=n.pop(),i=n.join(":"),s=this.findNestedScope(i);if(s!=null)return s.findReference(r)}return this.values.has(e)?this.values.get(e):null}findReferenceWithField(e){if(e.includes(":")){let n=e.split(":"),r=n.pop(),i=n.join(":"),s=this.findNestedScope(i);if(s!=null)return s.findReference(r)}if(this.values.has(e)){let n=this.values.get(e);if(n.sourceField==null){if(n.introducedBy!=null&&n.introducedBy.currentScope!=null&&n.introducedBy.currentScope!=this)return n.introducedBy.currentScope.findReferenceWithField(n.introducedBy.getTagName());if(this.parentScope!=null&&this.parentScope!=this)return this.parentScope.findReferenceWithField(e)}return n}return null}containsReference(e){return this.findReference(e)!=null}findNestedScope(e){if(e.includes(":")){let n=e.split(":"),r=n.shift(),i=n.join(":");if(typeof r=="undefined")return null;let s=this.lists.get(r);return typeof s=="undefined"?null:s.findNestedScope(i)}return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this&&this.parentScope.hasList(e)?this.parentScope.lists.get(e):null}liftList(e){if(this.lists.has(e)){let n=this.lists.get(e);return typeof n=="undefined"||n===null?null:(this.lists.delete(e),n)}return null}hasPristineReference(e){return!!this.pristine.has(e)}hasListInHistory(e){return this.hasList(e)?!0:this.parentScope!=null?this.name=="*root*"?!1:this.parentScope.hasList(e):!1}hasList(e){if(this.lists.has(e)){let n=this.lists.get(e);return!(typeof n=="undefined"||n===null)}return!1}bringListIntoMainScope(e){if(e.includes(":")){let r=e.split(":"),i=r.shift(),s=r.join(":");if(typeof i=="undefined")return this;let a=this.lists.get(i);return typeof a=="undefined"?this:a.bringListIntoMainScope(s)}let n=this.lists.get(e);return this.lists.delete(e),this.mergeScope(n)}getListNames(){let e=[];return this.lists.forEach((n,r)=>{e.push(r)}),e}getVariableNames(){let e=[];return this.values.forEach(n=>{e.push(n.name)}),e}getList(e){return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this?this.parentScope.getList(e):null}hasValue(e){return this.values.has(e)}findAncestorWithList(e){return this.hasList(e)?this:this.parentScope!=null&&this.parentScope!=this?this.parentScope.findAncestorWithList(e):null}findReferenceNotIntroducedBy(e,n){if(this.hasValue(e)){let r=this.values.get(e);if(r.introducedBy!=null&&r.introducedBy!=n)return r}return this.parentScope!=null&&this.parentScope!=this?this.parentScope.findReferenceNotIntroducedBy(e,n):null}removeThroughIntroduction(e,n){if(this.values.delete(e),this.parentScope!=null){let r=this.findReferenceNotIntroducedBy(e,n);r!=null&&this.addVariable(r)}}wasIntroducedBySymbol(e,n){if(this.values.has(e)==!1)return!1;let r=this.values.get(e);return r.introducedBy!=null?r.introducedBy==n:!1}referencesArray(e){return this.values.has(e)==!1?!1:this.values.get(e).dataType=="array"}addScopeList(e,n){return this.lists.set(e,n),this}mergeAndList(e,n){let r=new Cr(this.statamicProject);return r.values=GT(n),this.lists.set(e,r),this.mergeVariableScope(n),this}mergeScope(e){return e==this||e==null?this:(typeof e.values!="undefined"&&e.values!==null&&e.values.forEach((n,r)=>{this.values.set(r,n)}),typeof e.lists!="undefined"&&e.lists!==null&&e.lists.forEach((n,r)=>{this.lists.set(r,n)}),this)}mergeVariableScope(e){for(let n=0;n<e.length;n++)this.values.set(e[n].name,e[n]);return this}addVariable(e){this.values.set(e.name,e)}addVariables(e){for(let n=0;n<e.length;n++)this.addVariable(e[n])}addVariableArray(e,n){this.values.has(e)&&this.values.delete(e);let r=new Cr(this.statamicProject);r.addVariables(n),this.addScopeList(e,r)}injectAssetContainer(e,n){this.addBlueprintFields(e,this.statamicProject.getAssetBlueprintFields(n))}injectUserFields(e){this.addBlueprintFields(e,this.statamicProject.getUserFields())}addBlueprintField(e,n){this.addVariable({dataType:n.type,name:n.name,sourceField:n,sourceName:n.blueprintName,introducedBy:e})}introduceScopedAliasScope(e,n,r,i){this.pristine.set(r,{introducedFields:i,introducedScope:r,parentCopy:this.copy()});let s=new Cr(this.statamicProject),a=new Cr(this.statamicProject);return a.addBlueprintFields(e,i),s.name=r,s.addScopeList(n,a),this.addScopeList(r,s),s}expandScopedAliasScope(e,n,r,i){this.lists.has(r)==!1?this.introduceScopedAliasScope(e,n,r,i):this.lists.get(r).addBlueprintFields(e,i)}introduceAliasScope(e,n,r){this.pristine.set(n,{introducedFields:r,introducedScope:n,parentCopy:this.copy()});let i=new Cr(this.statamicProject);i.addBlueprintFields(e,r),i.name=n,this.addScopeList(n,i)}introduceDynamicScopeList(e,n,r){this.pristine.set(n,{introducedFields:r,introducedScope:n,parentCopy:this.copy()});let i=new Cr(this.statamicProject);i.name=n,i.addBlueprintFields(e,r),this.addScopeList(n,i)}addBlueprintFields(e,n){for(let r=0;r<n.length;r++)this.addBlueprintField(e,n[r])}injectBlueprint(e,n){let r=this.statamicProject.getBlueprintDetails(n);r.length>0&&this.addBlueprintFields(e,r)}copy(){let e=new Cr(this.statamicProject);return e.pristine=new Map(this.pristine),e.values=new Map(this.values),e.lists=new Map(this.lists),e.parentScope=this,e}},rr=Cr;rr.generationCounter=0;function Yd(t){let e=new rr(t);return e.addVariable({dataType:"string",name:"handle",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"name",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"short_locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e}function I0(){let t=[];return t.push({dataType:"number",name:"response_code",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_field",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_token",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"environment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"xml_header",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"last_segment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_uri",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"amp_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"api_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_full_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_in",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_out",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"is_homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"now",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"today",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"current_date",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get_post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"old",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t}function E0(t,e){let n=t.findParameter("paginate");if(n!=null&&(n.value.toLowerCase()=="true"||parseInt(n.value).toString()==n.value)){let r=e.makeNew(),i=e.makeNew(),s=e.makeNew(),a=e.makeNew();r.addVariable({name:"next_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"prev_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_items",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_pages",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"current_page",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"auto_links",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),s.addVariable({name:"url",dataType:"string",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),s.addVariable({name:"page",dataType:"integer",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),a.addVariable({name:"first",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),a.addVariable({name:"last",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),a.addVariable({name:"slider",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),i.addScopeList("all",s),i.addScopeList("segments",a),r.addScopeList("links",i),e.addScopeList("paginate",r)}}var Hs=class{constructor(){this.fileInjections=new Map;this.project=null}updateProject(e){this.project=e}registerInjections(e,n){if(n.length==0)return;let r=[];for(let i=0;i<n.length;i++){let s=n[i];s.hasParameters&&r.push(s)}if(r.length>0){let i=r[0].getMethodNameValue();if(i!=null&&this.project!=null){let s=this.project.findPartial(i);s!=null&&(this.fileInjections.has(s.documentUri)||this.fileInjections.set(s.documentUri,new Map),this.fileInjections.get(s.documentUri).set(e,r))}}}hasAvailableInjections(e){return this.fileInjections.has(e)}getScopeInjection(e,n){let r=new rr(n);return r.name="*injection*",this.fileInjections.get(e).forEach((s,a)=>{for(let o=0;o<s.length;o++){let l=s[o];if(l.hasParameters)for(let u=0;u<l.parameters.length;u++){let c=l.parameters[u];if(c.containsSimpleValue())r.addVariable({dataType:"string",name:c.name,sourceField:null,sourceName:"scope.injection",introducedBy:l});else if(c.isVariableReference&&l.currentScope!=null&&l.currentScope.hasListInHistory(c.value)){let f=l.currentScope.findNestedScope(c.value);if(f!=null){let m=Es(c.name,":"),y=f.copy();y.name=m,r.addScopeList(m,f)}}}}}),r}};Hs.instance=null;(typeof Hs.instance=="undefined"||Hs.instance==null)&&(Hs.instance=new Hs);var Hd=Hs;var rw=["collection"],iw=["if","elseif","unless","elseunless"],$d=class{constructor(e,n,r){this.pageVars=[];this.viewDataVars=null;this.documentUri="";this.lastSymbolId="";this.ideHelperMap=new Map;this.statamicProject=e,this.documentUri=n,this.document=r,this.makePageScope(),this.makeViewDataScope()}makeViewDataScope(){this.document.hasFrontMatter()&&(this.viewDataVars=this.document.getFrontMatterScope())}makePageScope(){let e=[],n=this.statamicProject.getFields();if(n.has("pages")){let r=n.get("pages");for(let i=0;i<r.length;i++){let s=r[i];e.push({name:s.name,dataType:s.type,sourceField:s,sourceName:s.blueprintName,introducedBy:null})}}this.pageVars=e}analyzeScope(e){var c,f,m,y,p,d,g,h,b;let n=new rr(this.statamicProject);n.name="*root*",n.parentScope=n,n.addScopeList("site",Yd(this.statamicProject)),n.addScopeList("sites",Yd(this.statamicProject)),n.addVariables(I0());let r=new rr(this.statamicProject);r.name="*root_user*",r.parentScope=n,this.statamicProject.getUserFields().forEach(_=>{r.addBlueprintField(null,_)}),n.addScopeList("current_user",r),((c=og.instance)==null?void 0:c.pageScopeDisabled(this.documentUri))?this.viewDataVars!=null&&n.addScopeList("view",this.viewDataVars):this.viewDataVars!=null?n.mergeAndList("page",this.pageVars).addScopeList("view",this.viewDataVars):n.mergeAndList("page",this.pageVars);let i=null;e.length>0&&e[0].isComment&&(i=Vo(this.documentUri,e[0]));for(let _=0;_<e.length;_++)if(e[_].isComment){let N=Vo(this.documentUri,e[_]);N.variableHelper!=null&&this.ideHelperMap.set(e[_].id(),N.variableHelper)}let s=this.statamicProject.getCollectionNamesForView(this.documentUri);if(i!=null&&(i.collectionInjections.length>0&&(s=s.concat(i.collectionInjections)),i.blueprints.length>0&&(s=s.concat(i.blueprints)),i.variableHelper!=null&&i.variableHelper.variableName=="@page")){let _=this.statamicProject.getBlueprintField(i.variableHelper.collectionName,i.variableHelper.fieldHandle);if(_!=null)if(i.variableHelper.setHandle.length>0){if(_.sets!=null){for(let N=0;N<_.sets.length;N++)if(_.sets[N].handle==i.variableHelper.setHandle){n.addVariables(ro(e[0],_.sets[N].fields));break}}}else n.addBlueprintField(e[0],_)}if(s.length>0){for(let _=0;_<s.length;_++)n.injectBlueprint(e[0],s[_]);n.addVariables(as(e[0]))}((f=Hd.instance)==null?void 0:f.hasAvailableInjections(this.documentUri))&&n.mergeScope((m=Hd.instance)==null?void 0:m.getScopeInjection(this.documentUri,this.statamicProject));let a=[],o=[],l=[],u=[];u.push(n);for(let _=0;_<e.length;_++){let N=e[_];this.lastSymbolId.length>0&&o.includes(N.id())&&(a.pop(),u.pop(),u.length==0&&u.push(n));let C=u[u.length-1];if(N.hasParameters){for(let L=0;L<N.parameters.length;L++)if(N.parameters[L].interpolations.length>0)for(let M=0;M<N.parameters[L].interpolations.length;M++){let H=N.parameters[L].interpolations[M];N.processedInterpolationRegions.has(H)&&N.processedInterpolationRegions.get(H).forEach(ne=>{ne instanceof z&&(ne.currentScope=C)})}}if(((y=En.instance)==null?void 0:y.isKnownTag(N.getTagName()))==!1){if(N.scopeVariable=C.findReference(N.runtimeName()),_>0){let L=e[_-1];if(L.isComment&&this.ideHelperMap.has(L.id())&&!L.isClosingTag&&!N.isClosingTag){let M=this.ideHelperMap.get(L.id());if(M.variableName==N.getTagName()){let H=this.statamicProject.getBlueprintField(M.collectionName,M.fieldHandle);H!=null&&(N.scopeVariable=WT(N,H))}}}if(N.scopeVariable==null){let L=N.runtimeName().trim();if(C.hasList(L)||((p=N.currentScope)==null?void 0:p.hasListInHistory(L))){N.sourceType="array";let M=C.getList(L);if(M!=null&&M.values.size>0){let H=M.values.entries().next().value[1];N.scopeVariable={dataType:"array",introducedBy:H.introducedBy,name:L,sourceField:null,sourceName:H.sourceName}}}}else N.sourceType=fu(N.scopeVariable.dataType),N.scopeVariable.sourceField!=null&&((d=Hu.instance)==null?void 0:d.hasFieldtype(N.scopeVariable.sourceField.type))&&((g=Hu.instance)==null?void 0:g.getFieldType(N.scopeVariable.sourceField.type)).augmentScope(N,C)}if(N.hasParameters&&E0(N,C),N.modifiers!=null&&N.modifiers.hasModifiers()?N.manifestType=N.modifiers.getLastManifestedModifierRuntimeType():N.manifestType=N.sourceType,N.isClosedBy!=null&&(a.push(N.id()),o.push(N.isClosedBy.id()),C=C.copy(),u.push(C)),N.getTagName()=="scope"&&N.hasMethodPart()){let L=u[u.length-2].copy();C.addScopeList(N.getMethodNameValue(),L)}if(C.containsPath(N.runtimeName())&&(a.push(N.id()),N.isClosedBy!=null&&o.push(N.isClosedBy.id()),C=C.copy().bringListIntoMainScope(N.runtimeName()),u.push(C)),N.currentScope=C,N.getTagName()!="cache"){let L=N.findParameter("scope");L!=null&&C.canShiftScope(N.runtimeName())&&(C=C.shiftScope(N,N.runtimeName(),L.value),N.currentScope=C,u.pop(),u.push(C))}if((h=En.instance)==null?void 0:h.isKnownTag(N.runtimeName())){let L=(b=En.instance)==null?void 0:b.findTag(N.runtimeName());typeof L!="undefined"&&L.augmentScope!=null&&L.augmentScope(N,C)}if(N.modifierChain!=null&&N.modifierChain.modifierChain.length>0&&N.modifierChain.modifierChain.forEach(L=>{L.modifier!=null&&typeof L.modifier.augmentScope!="undefined"&&L.modifier.augmentScope!=null&&L.modifier.augmentScope(N,C)}),N.modifiers.hasParameterModifiers()&&N.modifiers.parameterModifiers.forEach(L=>{L.modifier!=null&&typeof L.modifier.augmentScope!="undefined"&&L.modifier.augmentScope!=null&&L.modifier.augmentScope(N,C)}),N.sourceType=="array"){let L=N.findParameter("chunk"),M=!0;if(N.parent!=null&&N.parent instanceof z&&rw.includes(N.parent.runtimeName())&&(M=!1),typeof L!="undefined"&&L!==null)if(N.currentScope.parentScope!=null&&(N.currentScope.parentScope.hasList(N.runtimeName())||C.referencesArray(N.runtimeName()))){let H=N.currentScope.parentScope.copy(),$=H.liftList(N.runtimeName());if($==null&&C.referencesArray(N.runtimeName())){if($=new rr(C.statamicProject),M){let ne=et(N);for(let re=0;re<ne.length;re++){let ye=ne[re];H.wasIntroducedBySymbol(ye.name,N)&&H.removeThroughIntroduction(ye.name,N)}$.addVariables(ne)}}else M&&H.addVariables(et(N));H.addScopeList("chunk",$),C=H,u.pop(),u.push(C),N.currentScope=H}else{let H=N.findParameter("scope");if(typeof H!="undefined"&&H!==null&&N.currentScope!=null&&N.currentScope.hasList(H.value)&&N.scopeName!=null){let $=N.currentScope.copy(),ne=$.ancestor().copy(),re=$.liftList(N.scopeName);M&&$.addVariables(et(N)),ne.liftList(N.scopeName),$.addScopeList(N.scopeName,re),ne.addScopeList("chunk",$),C=ne,u.pop(),u.push(C),N.currentScope=ne}}else N.scopeVariable!=null&&N.scopeVariable.sourceField==null&&M&&(C.addVariables(et(N)),C.addVariables(Xe(N)))}if(o.includes(N.id())&&N.parent!=null&&N.parent instanceof z){let L=N.currentScope.findAncestorWithList(N.getTagName());L!=null?(N.currentScope=L,C=L.copy(),u.pop(),u.length==0&&u.push(n),u.push(C)):N.parent.parent!=null?N.currentScope=N.parent.parent.currentScope:N.currentScope=N.parent.currentScope}if(N.currentScope!=null&&N.runtimeNodes.length>0&&N.runtimeNodes.forEach(L=>{var M;if(L instanceof Ne&&((M=N.currentScope)==null?void 0:M.hasValue(L.name))){let H=N.currentScope.findReferenceWithField(L.name);L.currentScope=N.currentScope,L.scopeName=N.scopeName,L.scopeVariable=H}}),iw.includes(N.runtimeName())&&N.runtimeNodes.length==3&&N.runtimeNodes[0]instanceof Ne&&N.runtimeNodes[1]instanceof kn&&N.runtimeNodes[2]instanceof At&&N.runtimeNodes[0].scopeVariable!=null&&N.runtimeNodes[0].scopeVariable.sourceField!=null){let L=N.runtimeNodes[0].scopeVariable,M=N.runtimeNodes[2].value,H=L.sourceField;if(H.sets!=null)for(let $=0;$<H.sets.length;$++){let ne=H.sets[$];if(ne.handle==M&&ne.fields!=null){C=C.copy(),C.addBlueprintFields(N,ne.fields),N.isClosedBy!=null&&!N.isSelfClosing&&(a.push(N.id()),o.push(N.isClosedBy.id()),u.push(C));break}}}this.lastSymbolId=N.id();let W=a.join("/");l.push(W)}}};var ds=class{};ds.globalTagEnterStack=[],ds.interpolatedVariables=[];var O0=je(pu());var qn=class{constructor(){this.name="";this.compound="";this.methodPart="";this.content="";this.cachedCompoundTagName=null}tagPartIs(e){return e=e.toLowerCase().trim(),this.name.toLowerCase().trim()==e}isCompound(){return this.methodPart==null?!1:this.methodPart.length>0}getMethodName(){return this.methodPart==""?"index":this.methodPart=="null"?"":this.methodPart}getRuntimeMethodName(){}getCompoundTagName(){if(this.cachedCompoundTagName==null){let e=this.getMethodName();this.cachedCompoundTagName=this.name,e!=null&&e!=""&&(this.cachedCompoundTagName=this.cachedCompoundTagName+":"+e)}return this.cachedCompoundTagName}};var Kd=class{constructor(){this.tagNames=[];this.modifierNames=[]}getModifierNames(){var e,n;return this.modifierNames.concat((n=(e=xt.instance)==null?void 0:e.getModifierNames())!=null?n:[])}getTagNames(){var e,n;return this.tagNames.concat((n=(e=En.instance)==null?void 0:e.getTagNames())!=null?n:[])}setTagNames(e){this.tagNames=e}setModifierNames(e){this.modifierNames=e}isTag(e){var n;return Kd.alwaysLikeTag.includes(e)||((n=En.instance)==null?void 0:n.isKnownTag(e))?!0:this.tagNames.includes(e)}isModifier(e){var n;return((n=xt.instance)==null?void 0:n.hasModifier(e))?!0:this.modifierNames.includes(e)}},oo=Kd;oo.alwaysLikeTag=["if","endif","elseif","else","unless","elseunless"];var uo=class{static analyze(e,n){e.forEach(r=>{if(r instanceof z){if(r.pathReference!=null&&r.pathReference.isStrictVariableReference){r.isTagNode=!1;return}r.name!=null&&(r.isTagNode=n.isTag(r.name.name))}})}static analyzeNode(e){if(e.pathReference!=null&&e.pathReference.isStrictVariableReference){e.isTagNode=!1;return}uo.environmentDetails!=null&&e.name!=null&&(e.isTagNode=uo.environmentDetails.isTag(e.name.name)),e.name!=null&&(e.isConditionNode=oo.alwaysLikeTag.includes(e.name.name))}static analyzeParametersForModifiers(e){e.parameters.forEach(n=>{uo.environmentDetails!=null&&(n.isModifierParameter=uo.environmentDetails.isModifier(n.name))})}},lo=uo;lo.environmentDetails=null;(typeof lo.environmentDetails=="undefined"||lo.environmentDetails==null)&&(lo.environmentDetails=new oo);var zd=lo;var Xd=class{static getIdentifier(e){var i;let n=new qn;n.content=e.trim();let r=e.split(":");if(r.length==1)n.name=r[0].trim(),n.methodPart=null,n.compound=n.name;else if(r.length>1){let s=(i=r.shift())!=null?i:"",a=r.join(":");n.name=s.trim(),n.methodPart=a.trim(),n.compound=n.name+":"+n.methodPart}else n.name=e.trim(),n.methodPart="";return n.name.startsWith("/")&&(n.name=n.name.substr(1),n.compound=n.compound.substr(1)),n}};var ue=class{static getPrettyTypeName(e){return e instanceof Yr?ue.TOKEN_LANG_OPERATOR:e instanceof Kn?ue.TOKEN_OP_A_ADD:e instanceof Ne?ue.TOKEN_VARIABLE:e instanceof At?ue.TOKEN_STRING:e instanceof Mt?ue.TOKEN_NUMBER:e instanceof Or?ue.TOKEN_CONSTANT_FALSE:e instanceof mr?ue.TOKEN_CONSTANT_NULL:e instanceof Lr?ue.TOKEN_CONSTANT_TRUE:e instanceof Ta?ue.TOKEN_MODIFIER_NODE:e instanceof Go?ue.TOKEN_MODIFIER_CHAIN:e instanceof rp?ue.TOKEN_MODIFIER_PARAMETER:e instanceof zn?ue.TOKEN_OP_A_DIVIDE:e instanceof fi?ue.TOKEN_OP_A_EXPONENTIATION:e instanceof pi?ue.TOKEN_OP_A_MODULUS:e instanceof Xn?ue.TOKEN_OP_A_MULTIPLY:e instanceof Cn?ue.TOKEN_OP_A_SUBTRACT:e instanceof Fr?ue.TOKEN_ASG_ADD:e instanceof kr?ue.TOKEN_ASG_DIVIDE:e instanceof Mr?ue.TOKEN_ASG_MODULUS:e instanceof Br?ue.TOKEN_ASG_MULTIPLY:e instanceof Qn?ue.TOKEN_ASG_ASSIGN:e instanceof di?ue.TOKEN_ASG_SUBTRACT:e instanceof kn?ue.TOKEN_CMP_EQUAL:e instanceof Gr?ue.TOKEN_CMP_SEQUAL:e instanceof hr?ue.TOKEN_CMP_GT:e instanceof Ai?ue.TOKEN_CMP_GTE:e instanceof qr?ue.TOKEN_CMP_LT:e instanceof Vr?ue.TOKEN_CMP_LTE:e instanceof jr?ue.TOKEN_CMP_NEQ:e instanceof Ur?ue.TOKEN_CMP_SNEQ:e instanceof Wr?ue.TOKEN_CMP_SPACESHIP:e instanceof Ii?ue.TOKEN_OP_VARIABLE_FALLBACK:e instanceof ip?ue.TOKEN_COND_FALLBACK_GROUP:e instanceof St?ue.TOKEN_BRANCH_SEPARATOR:e instanceof Hr?ue.TOKEN_TERNARY_SEPARATOR:e instanceof Zt?ue.TOKEN_GROUP_BEGIN:e instanceof Yt?ue.TOKEN_GROUP_END:e instanceof mn?ue.TOKEN_MODIFIER_SEPARATOR:e instanceof hn?ue.TOKEN_MODIFIER_NAME:e instanceof Ht?ue.TOKEN_MODIFIER_VALUE:e instanceof Pn?ue.TOKEN_MODIFIER_VALUE_SEPARATOR:e instanceof Ho?ue.TOKEN_NULL_COALESCE_GROUP:e instanceof kt?ue.TOKEN_SEMANTIC_GROUP:e instanceof ln?ue.TOKEN_STATEMENT_SEPARATOR:e instanceof $o?ue.TOKEN_TERNARY_CONDITION:e instanceof gr?ue.TOKEN_OP_AND:e instanceof un?ue.TOKEN_OP_LOGIC_NEGATION:e instanceof _r?ue.TOKEN_OP_OR:e instanceof mi?ue.TOKEN_OP_XOR:e instanceof yr?ue.TOKEN_OP_NULL_COALESCE:e instanceof Wo?ue.TOKEN_PARAM:e instanceof Yn?ue.TOKEN_PATH_ACCESSOR:e instanceof zi?ue.TOKEN_OP_A_FACTORIAL:e instanceof dr?ue.TOKEN_RECURSIVE:e instanceof Ca?ue.TOKEN_ARG_GROUP:e instanceof Rt?ue.TOKEN_ARG_SEPARATOR:e instanceof hi?ue.TOKEN_OP_STRING_CONCAT:e instanceof Dn?ue.TOKEN_OP_SCOPE_REASSIGNMENT:e instanceof Na?ue.TOKEN_STRUCT_SWITCH_CASE:e instanceof Rs?ue.TOKEN_STRUCT_SWITCH_GROUP:e instanceof xs?ue.TOKEN_STRUCT_DIRECTION_GROUP:e instanceof br?ue.TOKEN_STRUCT_SCOPED_LOGIC_GROUP:e instanceof We?ue.TOKEN_STRUCT_LOGIC_GROUP:e instanceof Yo?ue.TOKEN_STRUCT_VALUE_DIRECTION:e instanceof Ei?ue.TOKEN_STRUCT_ARRAY:e instanceof $r?ue.TOKEN_STRUCT_T_LIST_START:e instanceof sp?ue.TOKEN_STRUCT_TUPLE_LIST:e instanceof en?ue.TOKEN_STRUCT_METHOD_CALL:typeof e}},ee=ue;ee.TOKEN_LANG_OPERATOR="T_LANG_OPERATOR",ee.TOKEN_VARIABLE="T_VAR",ee.TOKEN_NUMBER="T_NUMERIC",ee.TOKEN_STRING="T_STRING",ee.TOKEN_RECURSIVE="T_RECURSIVE",ee.TOKEN_CONSTANT_FALSE="T_FALSE",ee.TOKEN_CONSTANT_NULL="T_NULL",ee.TOKEN_CONSTANT_TRUE="T_TRUE",ee.TOKEN_MODIFIER_NODE="T_MODIFIER",ee.TOKEN_MODIFIER_CHAIN="T_MODIFIER_CHAIN",ee.TOKEN_MODIFIER_PARAMETER="T_MODIFIER_PARAM",ee.TOKEN_OP_A_ADD="T_AOP_ADD",ee.TOKEN_OP_A_DIVIDE="T_AOP_DIVIDE",ee.TOKEN_OP_A_EXPONENTIATION="T_AOP_EXP",ee.TOKEN_OP_A_MODULUS="T_AOP_MOD",ee.TOKEN_OP_A_MULTIPLY="T_AOP_MULTIPLY",ee.TOKEN_OP_A_SUBTRACT="T_AOP_SUBTRACT",ee.TOKEN_OP_A_FACTORIAL="T_AOP_FACTORIAL",ee.TOKEN_ASG_ADD="T_ASG_ADD",ee.TOKEN_ASG_DIVIDE="T_ASG_DIVIDE",ee.TOKEN_ASG_ASSIGN="T_ASG",ee.TOKEN_ASG_MODULUS="T_ASG_MODULUS",ee.TOKEN_ASG_MULTIPLY="T_ASG_MULTIPLY",ee.TOKEN_ASG_SUBTRACT="T_ASG_SUBTRACT",ee.TOKEN_CMP_EQUAL="T_CMP_EQ",ee.TOKEN_CMP_SEQUAL="T_CMP_SEQ",ee.TOKEN_CMP_GT="T_CMP_GT",ee.TOKEN_CMP_GTE="T_CMP_GTE",ee.TOKEN_CMP_LT="T_CMP_LT",ee.TOKEN_CMP_LTE="T_CMP_LTE",ee.TOKEN_CMP_NEQ="T_CMP_NEQ",ee.TOKEN_CMP_SNEQ="T_CMP_SNEQ",ee.TOKEN_CMP_SPACESHIP="T_CMP_SPSHP",ee.TOKEN_OP_VARIABLE_FALLBACK="T_VFBK",ee.TOKEN_COND_FALLBACK_GROUP="T_VFBK_GROUP",ee.TOKEN_BRANCH_SEPARATOR="T_BRANCH_SEPARATOR",ee.TOKEN_TERNARY_SEPARATOR="T_TERNARY_SEPARATOR",ee.TOKEN_GROUP_BEGIN="T_LOGIC_BEGIN",ee.TOKEN_GROUP_END="T_LOGIC_END",ee.TOKEN_MODIFIER_SEPARATOR="T_MODIFIER_SEPARATOR",ee.TOKEN_MODIFIER_NAME="T_MODIFIER_NAME",ee.TOKEN_MODIFIER_VALUE="T_MODIFIER_VALUE",ee.TOKEN_MODIFIER_VALUE_SEPARATOR="T_MODIFIER_VALUE_SEPARATOR",ee.TOKEN_NULL_COALESCE_GROUP="T_NULL_COALESCE_GROUP",ee.TOKEN_SEMANTIC_GROUP="T_SEMANTIC_GROUP",ee.TOKEN_STATEMENT_SEPARATOR="T_STATEMENT_SEPARATOR",ee.TOKEN_TERNARY_CONDITION="T_TERNARY_CONDITION",ee.TOKEN_OP_AND="T_AND",ee.TOKEN_OP_LOGIC_NEGATION="T_LOGIC_INVERSE",ee.TOKEN_OP_OR="T_OR",ee.TOKEN_OP_XOR="T_XOR",ee.TOKEN_OP_NULL_COALESCE="T_NULL_COALESCE",ee.TOKEN_PARAM="T_PARAM",ee.TOKEN_PATH_ACCESSOR="T_VAR_SEPARATOR",ee.TOKEN_ARG_GROUP="T_ARG_GROUP",ee.TOKEN_ARG_SEPARATOR="T_ARG_SEPARATOR",ee.TOKEN_OP_STRING_CONCAT="T_STR_CONCAT",ee.TOKEN_OP_SCOPE_REASSIGNMENT="T_SCOPE_ASSIGNMENT",ee.TOKEN_STRUCT_SWITCH_CASE="T_SWITCH_CASE",ee.TOKEN_STRUCT_SWITCH_GROUP="T_SWITCH_GROUP",ee.TOKEN_STRUCT_DIRECTION_GROUP="T_DIRECTION_GROUP",ee.TOKEN_STRUCT_VALUE_DIRECTION="T_ORDER_DIRECTION",ee.TOKEN_STRUCT_SCOPED_LOGIC_GROUP="T_SCOPED_LOGIC_GROUP",ee.TOKEN_STRUCT_LOGIC_GROUP="T_LOGIC_GROUP",ee.TOKEN_STRUCT_ARRAY="T_ARRAY",ee.TOKEN_STRUCT_T_LIST_START="T_LIST_START",ee.TOKEN_STRUCT_TUPLE_LIST="T_LIST",ee.TOKEN_STRUCT_METHOD_CALL="T_METHOD_CALL";var tt=class{static isLanguageLogicalKeyword(e){return e==this.LogicalAnd||e==this.LogicalNot||e==this.LogicalOr||e==this.LogicalXor}};tt.LogicalAnd="and",tt.LogicalNot="not",tt.LogicalOr="or",tt.LogicalXor="xor",tt.ConstTrue="true",tt.ConstFalse="false",tt.ConstNull="null",tt.ArrList="list",tt.ScopeAs="as";var Qd=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.currentContent=[];this.rawContent=[];this.startIndex=0;this.cur=null;this.next=null;this.prev=null;this.isParsingString=!1;this.isParsingModifierName=!1;this.isInModifierParameterValue=!1;this.runtimeNodes=[];this.ignorePrevious=!1;this.lastNode=null;this.referenceParser=null;this.activeNode=null}reset(){this.ignorePrevious=!1,this.runtimeNodes=[],this.chars=[],this.inputLen=0,this.currentIndex=0,this.currentContent=[],this.rawContent=[],this.startIndex=0,this.cur=null,this.next=null,this.prev=null,this.isParsingString=!1,this.isParsingModifierName=!1,this.isInModifierParameterValue=!1,this.referenceParser=null,this.activeNode=null}checkCurrentOffsets(){this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.ignorePrevious?(this.prev="",this.ignorePrevious=!1):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen&&(this.next=this.chars[this.currentIndex+1])}isValidChar(e){return e==null||e==w.Punctuation_Semicolon?!1:this.isParsingString==!1&&e=="]"?!0:this.isParsingString==!1&&e==")"?!1:(e=="["||e=="]")&&e==this.cur||(e=="_"||e=="."||e=="["||e=="]")&&(!(this.currentContent.length>0)||Z.ctypeAlpha(this.cur)||Z.ctypeDigit(this.cur))?!0:Z.ctypeSpace(e)?!1:this.isParsingModifierName&&(e==w.Punctuation_Minus||e==w.Punctuation_Underscore)?!0:!Z.ctypePunct(e)}isRightOfInterpolationRegion(){if(this.activeNode==null||this.referenceParser==null)return!1;let e=this.activeNode._lexerRelativeOffset(this.currentIndex);return this.referenceParser.bordersInterpolationRegion(e)}scanForwardTo(e,n=0){let r=[];for(let i=this.currentIndex+1+n;i<this.inputLen;i++){let s=this.chars[i];if(s==e){r.push(s);break}else r.push(s)}return r}nextNonWhitespace(){for(let e=this.currentIndex+1;e<this.inputLen;e++){let n=this.chars[e];if(!Z.ctypeSpace(n))return n}return null}pushError(e){this.referenceParser!=null&&this.referenceParser.addAntlersError(e)}guardAgainstNeighboringTypesInModifier(e){return this.lastNode instanceof Ht&&this.pushError(K.makeSyntaxError(D.TYPE_MODIFIER_INCORRECT_VALUE_POSITION,this.lastNode,"Incorrect type ["+ee.getPrettyTypeName(e)+"] near ["+ee.getPrettyTypeName(this.lastNode)+"]")),!1}appendContent(e){e!=null&&this.currentContent.push(e)}tokenize(e,n){this.reset(),this.referenceParser=e.getParser(),this.activeNode=e,this.chars=n.split(""),this.inputLen=this.chars.length,this.runtimeNodes=[],this.lastNode=null;let r=null;this.isParsingString=!1,this.isParsingModifierName=!1;let i=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){this.checkCurrentOffsets();let a=!0;if(this.cur!=null&&this.rawContent.push(this.cur),this.isParsingString==!1&&(this.cur==w.String_Terminator_DoubleQuote||this.cur==w.String_Terminator_SingleQuote)){if(this.prev==w.String_EscapeCharacter){this.pushError(K.makeSyntaxError(D.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE,e,"Illegal string escape sequence outside string parsing."));continue}this.rawContent=[],this.rawContent.push(this.cur),i=this.cur,this.isParsingString=!0,r=this.currentIndex;continue}if(this.isInModifierParameterValue&&!this.isParsingString){let o=!1;if(!this.isParsingString&&Z.ctypeSpace(this.next)){let l=this.scanForwardTo(" ",1).join("").trim().toLowerCase();l.length>0&&tt.isLanguageLogicalKeyword(l)&&(o=!0)}if(this.next==w.String_Terminator_SingleQuote||this.next==w.String_Terminator_DoubleQuote||this.next==null||o){this.appendContent(this.cur);let l=this.currentContent.join("");if(l.length>0){let u=l;if(this.currentContent=[],this.rawContent=[],u.trimRight().length==0){let f=this.nextNonWhitespace();if(f==w.String_Terminator_SingleQuote||f==w.String_Terminator_DoubleQuote){this.currentContent=[],this.rawContent=[];continue}}let c=new Ht;c.isVirtual=!1,c.name=u,c.value=u.trimRight(),c.startPosition=e._lexerRelativeOffset(this.currentIndex-u.length),c.endPosition=e._lexerRelativeOffset(this.currentIndex),c.parent=this.activeNode,this.guardAgainstNeighboringTypesInModifier(c),this.runtimeNodes.push(c),this.lastNode=c}if(l.length==0)continue;this.currentContent=[],this.rawContent=[],this.isInModifierParameterValue=!1;continue}if(this.next==w.Punctuation_Pipe||this.next==w.Punctuation_Colon||this.next==w.RightParent){this.isInModifierParameterValue=!1,this.appendContent(this.cur);let l=0,u=!1;if(this.currentContent[0]==w.String_Terminator_SingleQuote||this.currentContent[0]==w.String_Terminator_DoubleQuote){let m=this.scanForwardTo(this.currentContent[0]);m.length>0&&(this.currentContent=this.currentContent.concat(m),l=m.length,u=!0)}let c=this.currentContent.join("");u&&(c=c.substr(1),c=c.slice(0,-1)),this.currentContent=[],this.rawContent=[];let f=new Ht;f.isVirtual=!1,f.name=c,f.value=c,f.startPosition=e._lexerRelativeOffset(this.currentIndex-c.length),f.endPosition=e._lexerRelativeOffset(this.currentIndex),f.parent=this.activeNode,this.runtimeNodes.push(f),this.guardAgainstNeighboringTypesInModifier(f),this.lastNode=f,this.currentIndex+=l}else this.appendContent(this.cur);continue}if(this.isParsingString&&this.cur==i){if(this.prev==w.String_EscapeCharacter)this.appendContent(i);else{if(this.isInModifierParameterValue){let l=this.currentContent.join(""),u=new Ht;u.isVirtual=!1,u.name=l,u.value=l,u.startPosition=e._lexerRelativeOffset(r!=null?r:0),u.endPosition=e._lexerRelativeOffset(this.currentIndex),u.parent=this.activeNode,this.runtimeNodes.push(u),this.guardAgainstNeighboringTypesInModifier(u),this.lastNode=u,this.currentContent=[],this.rawContent=[],this.isParsingString=!1,this.isInModifierParameterValue=!1;continue}let o=new At;o.isVirtual=!1,o.startPosition=e._lexerRelativeOffset(r!=null?r:0),o.endPosition=e._lexerRelativeOffset(this.currentIndex),this.referenceParser!=null&&(o.sourceContent=this.referenceParser.getText(o.startPosition.index,o.endPosition.index+1)),o.parent=this.activeNode,i!=null&&(o.sourceTerminator=i),i=null,this.isParsingString=!1,o.value=this.currentContent.join(""),o.rawLexContent=this.rawContent.join("").trim(),this.currentContent=[],this.rawContent=[],this.guardAgainstNeighboringTypesInModifier(o),this.runtimeNodes.push(o),this.lastNode=o}continue}if(this.isParsingString&&this.cur==w.String_EscapeCharacter){if(this.next==w.String_EscapeCharacter){this.appendContent(w.String_EscapeCharacter),this.ignorePrevious=!0,this.currentIndex+=1;continue}else if(this.next==w.String_Terminator_SingleQuote){this.appendContent(w.String_Terminator_SingleQuote),this.currentIndex+=1;continue}else if(this.next==w.String_Terminator_DoubleQuote){this.appendContent(w.String_Terminator_DoubleQuote),this.currentIndex+=1;continue}else if(this.next=="n"){this.appendContent(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){this.appendContent("	"),this.currentIndex+=1;continue}else if(this.next=="r"){this.appendContent("\r"),this.currentIndex+=1;continue}}if(this.isParsingString==!1){if(this.isValidChar(this.cur)&&this.isValidChar(this.next)==!1&&this.currentContent.length==0&&(this.appendContent(this.cur),a=!1),(this.next==null||this.isValidChar(this.next)==!1)&&this.currentContent.length>0){a&&this.appendContent(this.cur);let o=this.currentContent.join("").trim(),l=o.length,u=this.currentIndex-l,c=e._lexerRelativeOffset(u),f=e._lexerRelativeOffset(this.currentIndex);if(this.currentContent=[],this.rawContent=[],o==tt.LogicalAnd){let y=new gr;y.isVirtual=!1,y.content=tt.LogicalAnd,y.startPosition=c,y.endPosition=f,y.parent=this.activeNode,this.runtimeNodes.push(y),this.lastNode=y;continue}else if(o==tt.LogicalOr){let y=new _r;y.isVirtual=!1,y.content=tt.LogicalOr,y.startPosition=c,y.endPosition=f,y.parent=this.activeNode,this.runtimeNodes.push(y),this.lastNode=y;continue}else if(o==tt.LogicalXor){let y=new mi;y.isVirtual=!1,y.content=tt.LogicalXor,y.startPosition=c,y.endPosition=f,y.parent=this.activeNode,this.runtimeNodes.push(y),this.lastNode=y;continue}else if(o==tt.ConstNull){let y=new mr;y.isVirtual=!1,y.content=tt.ConstNull,y.startPosition=c,y.endPosition=f,y.parent=this.activeNode,this.runtimeNodes.push(y),this.lastNode=y;continue}else if(o==tt.ConstTrue){let y=new Lr;y.isVirtual=!1,y.content=tt.ConstTrue,y.startPosition=c,y.endPosition=f,y.parent=this.activeNode,this.runtimeNodes.push(y),this.lastNode=y;continue}else if(o==tt.ConstFalse){let y=new Or;y.isVirtual=!1,y.content=tt.ConstFalse,y.startPosition=c,y.endPosition=f,y.parent=this.activeNode,this.runtimeNodes.push(y),this.lastNode=y;continue}else if(o==tt.LogicalNot){let y=new un;y.isVirtual=!1,y.content=tt.LogicalNot,y.startPosition=c,y.endPosition=f,y.parent=this.activeNode,this.runtimeNodes.push(y),this.lastNode=y;continue}else if(o==tt.ArrList&&this.next==w.LeftParen){let y=new $r;y.isVirtual=!1,y.content=tt.ArrList,y.startPosition=c,y.endPosition=f,y.parent=this.activeNode,this.runtimeNodes.push(y),this.lastNode=y;continue}if(Z.isNumeric(o)){let y=new Mt;y.isVirtual=!1,y.startPosition=c,y.endPosition=f,y.parent=this.activeNode,o.includes(".")?y.value=parseFloat(o):y.value=parseInt(o),y.rawLexContent=o,this.guardAgainstNeighboringTypesInModifier(y),this.runtimeNodes.push(y),this.lastNode=y;continue}if(this.runtimeNodes.length>0){let y=this.runtimeNodes[this.runtimeNodes.length-1];if(y instanceof mn){let p=new hn;p.isVirtual=!1,p.name=o,p.content=o,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(y instanceof Pn){let p=new Ht;p.isVirtual=!1,p.name=o,p.value=o,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p,this.isParsingModifierName=!1;continue}}let m=new Ne;m.isVirtual=!1,m.name=o,m.startPosition=c,m.endPosition=f,m.parent=this.activeNode,this.runtimeNodes.push(m),this.lastNode=m;continue}}else{this.appendContent(this.cur);continue}if(!Z.ctypeSpace(this.cur)){if(this.isParsingString==!1){if(this.cur==w.Punctuation_Equals&&this.next==w.Punctuation_GreaterThan){let o=new Dn;o.isVirtual=!1,o.content="=>",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentContent=[],this.rawContent=[],this.currentIndex+=1;continue}if(this.cur==w.Punctuation_Comma){let o=new Rt;o.isVirtual=!1,o.content=w.Punctuation_Comma,o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.Punctuation_Semicolon){let o=new ln;o.isVirtual=!1,o.content=w.Punctuation_Semicolon,o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.Punctuation_Plus){if(this.next==w.Punctuation_Equals){let l=new Fr;l.isVirtual=!1,l.content="+=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new Kn;o.isVirtual=!1,o.content="+",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.isParsingModifierName==!1&&this.cur==w.Punctuation_Minus){if(Z.ctypeDigit(this.next)&&Z.ctypeDigit(this.prev)==!1&&this.prev!=w.RightParent&&this.isRightOfInterpolationRegion()==!1){this.appendContent(this.cur);continue}if(this.next==w.Punctuation_Equals){let l=new di;l.isVirtual=!1,l.content="-=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}else if(this.next==w.Punctuation_GreaterThan){let l=new en;l.isVirtual=!1,l.content="->",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new Cn;o.isVirtual=!1,o.content="-",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.Punctuation_Asterisk){if(this.next==w.Punctuation_Asterisk){let l=new fi;l.isVirtual=!1,l.content="**",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}else if(this.next==w.Punctuation_Equals){let l=new Br;l.isVirtual=!1,l.content="*=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new Xn;o.isVirtual=!1,o.content="*",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.Punctuation_ForwardSlash){if(this.next==w.Punctuation_Equals){let l=new kr;l.isVirtual=!1,l.content="/=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new zn;o.isVirtual=!1,o.content="/",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.Punctuation_Percent){if(this.next==w.Punctuation_Equals){let l=new Mr;l.isVirtual=!1,l.content="%=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new pi;o.isVirtual=!1,o.content="%",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.Punctuation_LessThan){if(this.next==w.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==w.Punctuation_GreaterThan){let c=new Wr;c.isVirtual=!1,c.content="<=>",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+3),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=2;continue}let u=new Vr;u.isVirtual=!1,u.content="<=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let o=new qr;o.isVirtual=!1,o.content="<",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.Punctuation_GreaterThan){if(this.next==w.Punctuation_Equals){let l=new hr;l.isVirtual=!1,l.content=">=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new hr;o.isVirtual=!1,o.content=">",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.Punctuation_Equals&&this.next!=w.Punctuation_Equals){let o=new Qn;o.isVirtual=!1,o.content="=",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.Punctuation_Equals&&this.next==w.Punctuation_Equals){let o=null;if(this.currentIndex+2<this.inputLen&&(o=this.chars[this.currentIndex+2]),o==w.Punctuation_Equals){let l=new Gr;l.isVirtual=!1,l.content="===",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+3),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=2}else{let l=new kn;l.isVirtual=!1,l.content="==",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1}continue}if(this.cur==w.Punctuation_Ampersand){if(this.next==w.Punctuation_Ampersand){let l=new gr;l.isVirtual=!1,l.content="&&",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}if(this.next==w.Punctuation_Equals){let l=new hi;l.isVirtual=!1,l.content="&=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}let o=new gr;o.isVirtual=!1,o.content="&",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.Punctuation_Pipe&&this.next!=w.Punctuation_Pipe){let o=new mn;o.isVirtual=!1,o.content="|",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.isParsingModifierName=!0;continue}if(this.cur==w.Punctuation_Pipe&&this.next==w.Punctuation_Pipe){let o=new _r;o.isVirtual=!1,o.content="||",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==w.Punctuation_Exclamation){if(this.next==w.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==w.Punctuation_Equals){let c=new Ur;c.isVirtual=!1,c.content="!==",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+3),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=2;continue}let u=new jr;u.isVirtual=!1,u.content="!=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let o=new un;o.isVirtual=!1,o.content="!",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.Punctuation_Question&&this.next==w.Punctuation_Equals){let o=new Ii;o.isVirtual=!1,o.content="?=",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==w.Punctuation_Question&&this.next==w.Punctuation_Question){let o=new yr;o.isVirtual=!1,o.content="??",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==w.Punctuation_Question&&this.next==w.Punctuation_Colon){let o=new yr;o.isVirtual=!1,o.content="?:",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==w.Punctuation_Question){let o=new Hr;o.isVirtual=!1,o.content="?",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.LeftParen){let o=new Zt;o.isVirtual=!1,o.content="(",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.RightParent){let o=new Yt;o.isVirtual=!1,o.content=")",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==w.Punctuation_Colon){if(this.runtimeNodes.length>0&&this.runtimeNodes[this.runtimeNodes.length-1]instanceof hn){let u=new Pn;u.isVirtual=!1,u.content=":",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+1),u.parent=this.activeNode,this.runtimeNodes.push(u),this.isInModifierParameterValue==!1?this.isInModifierParameterValue=!0:this.isInModifierParameterValue=!1;continue}let o=new St;o.isVirtual=!1,o.content=":",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.isParsingModifierName=!1;continue}}a&&this.appendContent(this.cur)}}let s=this.runtimeNodes.length-1;for(let a=0;a<this.runtimeNodes.length;a++){let o=null,l=null;a>0&&(o=this.runtimeNodes[a-1]),a!=s&&(l=this.runtimeNodes[a+1]);let u=this.runtimeNodes[a];u.prev=o,u.next=l}return this.runtimeNodes}};var jt=class{constructor(){this.chars=[];this.currentIndex=0;this.lastIndex=0;this.inputLength=0;this.prev=null;this.cur=null;this.next=null;this.isParsingString=!1;this.isStringKeyPath=!1;this.antlersErrors=[];this._recusriveEntryCheck=new Map}isValidChar(e){return!(this.isParsingString==!1&&Z.ctypeSpace(e)||this.isParsingString==!1&&e==jt.LeftBracket||this.isParsingString==!1&&e==jt.RightBracket)}normalizePath(e){return e=e.replace(":","_"),e=e.replace(".","_"),e=e.replace("[","_"),e=e.replace("]","_"),e.replace("]","_")}getAntlersErrors(){return this.antlersErrors}mergeErrors(e){e.forEach(n=>{this.antlersErrors.push(n)})}parse(e){this.antlersErrors=[],this._recusriveEntryCheck.clear();let n=e,r=!1,i=!1,s=!1,a=!1;e.startsWith(w.AtChar)&&(s=!0,e=e.substr(1)),e.startsWith(w.Punctuation_Caret)?(a=!0,e=e.substr(1)):(e.startsWith(w.Punctuation_Dollar)&&(r=!0,e=e.substr(1)),e.startsWith(w.Punctuation_Dollar)&&(i=!0,e=e.substr(1))),this.chars=[],this.currentIndex=0,this.lastIndex=0,this.inputLength=0,this.cur=null,this.prev=null,this.next=null,this.chars=e.split(""),this.inputLength=this.chars.length,this.lastIndex=this.inputLength-1;let o=[],l=!1,u=[],c=jt.ColonSeparator,f=!1,m=null,y=!1,p=!0;if(this.isParsingString=!1,this.inputLength==0){let h=new Qi;return h._isFromEmptyFailState=!0,h}for(this.currentIndex;this.currentIndex<this.inputLength;this.currentIndex+=1){if(this.cur=this.chars[this.currentIndex],this.next=null,f?(f=!1,this.prev=""):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLength&&(this.next=this.chars[this.currentIndex+1]),this.isParsingString==!1&&this.cur==jt.ColonSeparator&&(c=jt.ColonSeparator),this.isParsingString==!1&&this.cur==jt.DotPathSeparator&&(c=jt.DotPathSeparator),this.isParsingString&&this.cur==w.String_EscapeCharacter&&this.next==m){m!=null&&o.push(m),this.currentIndex+=1;continue}if(this.cur==w.String_Terminator_SingleQuote||this.cur==w.String_Terminator_DoubleQuote)if(this.isParsingString)if(this.cur==m)if(this.prev==w.String_EscapeCharacter){o.push(this.cur);continue}else this.isParsingString=!1,p=!1;else{o.push(this.cur);continue}else{this.prev!=null&&this.prev!=w.LeftBracket&&(Z.ctypeAlpha(this.prev)||Z.ctypeDigit(this.prev))&&this.antlersErrors.push(K.makeSyntaxError(D.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR,null,"Unexpected string start while parsing variable path. String literals must be within array accessors.")),this.isParsingString=!0,y=!0,m=this.cur,this.isStringKeyPath=!0;continue}if(this.isParsingString){if(Z.ctypeSpace(this.cur)){o.push(this.cur);continue}else if(this.cur==w.String_EscapeCharacter){if(this.next==w.String_EscapeCharacter){o.push(w.String_EscapeCharacter),this.currentIndex+=1,f=!0;continue}else if(this.next=="n"){o.push(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){o.push("	"),this.currentIndex+=1;continue}else if(this.next=="r"){o.push("\r"),this.currentIndex+=1;continue}}}if(this.isParsingString==!1&&this.cur==jt.LeftBracket){if(o.length>0){let _=new Yn;_.name=o.join(""),_.delimiter=c,u.push(_),o=[]}if(this.next==null||Z.ctypeSpace(this.next)){this.antlersErrors.push(K.makeSyntaxError(D.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT,null,"Unexpected end of input or whitespace while parsing variable accessor path."));continue}let h=this.locateEndOfAccessor();this.currentIndex=h.foundOn;let b=new jt;if(u.push(b.parse(h.nestedContent)),this.mergeErrors(b.getAntlersErrors()),l=!0,this.currentIndex==-1){this.antlersErrors.push(K.makeSyntaxError(D.PARSER_CANNOT_PARSE_PATH_RECURSIVE,null,"Cannot parse variable path.")),l=!1;break}continue}if(this.isParsingString==!1&&this.next==jt.RightBracket&&l){p?o.push(this.cur):p=!0;let h=new ap;h.name=o.join(""),u.push(h),o=[],c=jt.ColonSeparator,this.currentIndex+=1,l=!1;continue}if(this.isParsingString==!1&&(this.cur==jt.LeftBracket||this.cur==jt.ColonSeparator||this.cur==jt.DotPathSeparator||this.currentIndex==this.lastIndex)){if(this.next==null||Z.ctypeSpace(this.next)){if(this.cur==jt.ColonSeparator){if(o.length==0){this.antlersErrors.push(K.makeSyntaxError(D.TYPE_UNEXPECTED_BRANCH_SEPARATOR,null,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}this.antlersErrors.push(K.makeSyntaxError(D.TYPE_ILLEGAL_VARPATH_RIGHT,null,'Variable paths cannot end with the ":" character.'));continue}if(this.cur==jt.LeftBracket){this.antlersErrors.push(K.makeSyntaxError(D.TYPE_ILLEGAL_VARPATH_SUBPATH_START,null,"Illegal variable sub-path start."));continue}}this.currentIndex==this.lastIndex&&this.isValidChar(this.cur)&&(p?o.push(this.cur):p=!0);let h=new Yn;h.delimiter=c,h.name=o.join(""),y&&(h.isStringVar=y,h.name=n.substr(1),h.name=h.name.slice(0,-1),y=!1),u.push(h),o=[];continue}else{o.push(this.cur);continue}}let d=u.length;if(d>0){let h=u[d-1];(h instanceof Yn||h instanceof Qi)&&(h.isFinal=!0)}let g=new Qi;return g.isStrictTagReference=a,g.isStrictVariableReference=r,g.isExplicitVariableReference=i,g.pathParts=u,g.originalContent=e,g.isVariableVariable=s,g.normalizedReference=e.replace(":","."),g}locateEndOfAccessor(){let e=[],n=1,r=-1,i="",s=!1,a=null;if(this._recusriveEntryCheck.has(this.currentIndex+1)==!1)this._recusriveEntryCheck.set(this.currentIndex+1,!0);else return{foundOn:r,nestedContent:""};for(let o=this.currentIndex+1;o<this.inputLength;o++){let l=this.chars[o],u=null,c=null;if(o>0&&(c=this.chars[o-1]),o+1<this.inputLength&&(u=this.chars[o+1]),s==!1&&(l==w.String_Terminator_SingleQuote||l==w.String_Terminator_DoubleQuote)){s=!0,a=l,e.push(l);continue}if(s==!1&&l==jt.LeftBracket){n+=1,e.push(l);continue}if(s&&l==a&&c!=w.String_EscapeCharacter){e.push(l),s=!1,a=null;continue}if(s==!1&&l==jt.RightBracket)if(n-=1,n==0){r=o,i=e.join("");break}else{e.push(l);continue}else e.push(l);s==!1&&Z.ctypeSpace(u)&&this.antlersErrors.push(K.makeSyntaxError(D.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path.")),u==null&&this.antlersErrors.push(K.makeSyntaxError(D.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path."))}return{foundOn:r,nestedContent:i}}},Bi=jt;Bi.ColonSeparator=":",Bi.LeftBracket="[",Bi.RightBracket="]",Bi.DotPathSeparator=".";var Jd=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.cur=null;this.prev=null;this.pathParser=new Bi;this.lexer=new Qd;this.activeNode=null}reset(){this.chars=[],this.inputLen=0,this.currentIndex=0,this.cur=null,this.prev=null}canBeClosingTag(e){var r;let n=(r=e.name)==null?void 0:r.name;return n=="elseif"||n=="else"?!0:e.name==null?!1:e.name.content.startsWith("/")}parseNode(e){var c,f,m,y;if(this.activeNode=e,this.reset(),e.content.startsWith("*subrecursive")){let p=e.content;p=p.trim(),p=Z.trimRight(p,"*"),p=p.substr(13);let d=new dr;return e.copyBasicDetailsTo(d),d.originalNode=e,d.name=new qn,d.name.name=p,d.isNestedRecursive=!0,d.pathReference=this.pathParser.parse(p),d.mergeErrors(this.pathParser.getAntlersErrors()),d.content=p,d.runtimeContent=p,d}if(e.content.trim().startsWith("*recursive")){let p=e.content;p=p.trim(),p=Z.trimRight(p,"*"),p=p.substr(10).trim();let d=new dr;return e.copyBasicDetailsTo(d),d.originalNode=e,d.name=new qn,d.name.name=p,d.pathReference=this.pathParser.parse(p),d.mergeErrors(this.pathParser.getAntlersErrors()),d.content=p,d.runtimeContent=p,d}this.chars=e.content.split(""),this.inputLen=this.chars.length;let n=[],r=!1,i="",s=!1,a=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.cur=this.chars[this.currentIndex],this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),r==!1){if(s==!1&&(this.cur==w.String_Terminator_DoubleQuote||this.cur==w.String_Terminator_SingleQuote)){a=this.cur,s=!0,n.push(this.cur);continue}if(s&&Z.ctypeSpace(this.cur)){n.push(this.cur);continue}if(s&&this.cur==a&&this.prev!=w.String_EscapeCharacter){a=null,s=!1,n.push(this.cur);continue}if(Z.ctypeSpace(this.cur)||this.currentIndex==this.inputLen-1||this.cur==w.Punctuation_Pipe){if(n.length==0)continue;Z.ctypeSpace(this.cur)||this.cur!=w.Punctuation_Pipe&&n.push(this.cur),i=n.join(""),r=!0;break}n.push(this.cur)}let o=e.getContentRelativeStartIndex();if(e.nameStartsOn=e.relativeOffset(o,o),e.nameStartsOn!=null&&(e.nameEndsOn=e.nameStartsOn.shiftRight(i.length-1),i.includes(w.Punctuation_Colon))){let p=i.indexOf(w.Punctuation_Colon);e.nameMethodPartStartsOn=e.nameStartsOn.shiftRight(p+1)}e.name=Xd.getIdentifier(i),zd.analyzeNode(e),e.parameters=this.getParameters(e),e.hasParameters=e.parameters.length>0,e.hasParameters&&(zd.analyzeParametersForModifiers(e),e.resetContentCache()),e.pathReference=this.pathParser.parse(i),e.mergeErrors(this.pathParser.getAntlersErrors()),e.pathReference!=null&&e.pathReference.isStrictTagReference&&(e.name.name=e.name.name.substr(1),e.name.content=e.name.content.substr(1)),e.isClosingTag=this.canBeClosingTag(e);let l=[];e.isClosingTag==!1&&(l=this.lexer.tokenize(e,e.getContent())),e.runtimeNodes=l;let u=e.content.trim();if(Hn.isConditionalStructure(e)&&e.name.name!="else"&&l.length==0&&u!="/if"&&u!="/unless"&&u!="/endunless"&&u!="endif"&&u!="endunless"&&u!="/endif"&&e.getContent().trim().length==0&&this.pushConditionWithoutExpression(e),e.name.name=="endif"){let p=e.copyBasicDetails(),d=e.getParser();return d!=null&&p.withParser(d),p.name=new qn,p.name.name="if",p.name.compound="if",p.isClosingTag=!0,p.content=" /if ",p.originalNode=e,p}if(e.name.name=="unless"){let p=e.copyBasicDetails(),d=e.getParser();if(d!=null&&p.withParser(d),p.name=new qn,p.name.name="if",p.name.compound="if",e.isClosingTag==!1){let g=(c=e.getContent())!=null?c:"",h=" if !("+g+") ";p.content=h,p.originalNode=e,p.resetContentCache(),p.runtimeNodes=this.lexer.tokenize(p,(f=p.getContent())!=null?f:""),this.testUnlessContent(p)}else p.originalNode=e,p.content=" /if ";return p}else if(e.name.name=="elseunless"){let p=e.copyBasicDetails(),d=e.getParser();d!=null&&p.withParser(d),p.name=new qn,p.name.name="elseif",p.name.compound="elseif";let g=(m=e.getContent())!=null?m:"",h=" elseif !("+g+") ";return p.content=h,p.originalNode=e,p.resetContentCache(),p.runtimeNodes=this.lexer.tokenize(p,(y=p.getContent())!=null?y:""),this.testUnlessContent(p),p}else if(e.name.name=="endunless"){let p=e.copyBasicDetails(),d=e.getParser();return d!=null&&p.withParser(d),p.name=new qn,p.name.name="if",p.name.compound="if",p.isClosingTag=!0,p.content=" /if ",p.originalNode=e,p}return e}pushError(e){this.activeNode!=null&&this.activeNode.pushError(e)}testUnlessContent(e){var r;let n=(r=e.getContent())!=null?r:"";if(n=n.replace("!",""),n=n.replace("(",""),n=n.replace(")","").trim(),n.length==0){this.pushConditionWithoutExpression(e);return}}pushConditionWithoutExpression(e){this.pushError(K.makeSyntaxError(D.TYPE_PARSE_EMPTY_CONDITIONAL,e,"Condition structure lacks comparison expression."))}getParameters(e){var W,L,M,H,$,ne,re,ye,Pe;let n=(W=e.getContent())!=null?W:"",r=n.split(""),i=[],s=[],a=r.length,o=0;if(e.name!=null){let oe=Z.trimLeft(e.content," "),De=e.content.length-oe.length,ct=e.name.content.length;De>0?o=De+ct:o=ct}let l=!1,u=[],c="",f=0,m=0,y=!1,p=null,d=-1,g=-1,h=-1,b=-1,_=-1,N=-1,C='"';for(let oe=0;oe<a;oe++){let De=r[oe],ct=null,Qt=null;if(oe+1<a&&(Qt=r[oe+1]),y?(ct="",y=!1):oe>0&&(ct=r[oe-1]),l==!1&&Z.ctypeSpace(De)){u=[],d=-1,g=-1,h=-1,b=-1,_=-1,N=-1;continue}if(l==!1&&De==w.Punctuation_Equals){if(u.length>0&&(Z.ctypeAlpha(u[0])||Z.ctypeDigit(u[0])||u[0]==w.Punctuation_Colon||u[0]==w.AtChar)==!1){u=[];continue}if(oe+1>=a){this.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_END_OF_INPUT,e,"Unexpected end of input"));continue}let Je=null;if(oe+1<a&&(Je=r[oe+1]),ct==w.Punctuation_Equals){u=[],d=-1,g=-1,h=-1,b=-1,_=-1,N=-1;continue}if(Z.ctypeSpace(Je)||Je==w.Punctuation_Equals){u=[],d=-1,g=-1,h=-1,b=-1,_=-1,N=-1;continue}u.length>0&&(b=oe,_=oe,c=u.join(""),f=m,l=!0,u=[]),Qt==w.String_Terminator_DoubleQuote&&(p=w.String_Terminator_DoubleQuote,C=w.String_Terminator_DoubleQuote,oe+=1),Qt==w.String_Terminator_SingleQuote&&(p=w.String_Terminator_SingleQuote,C=w.String_Terminator_SingleQuote,oe+=1);continue}if(l&&De==w.String_EscapeCharacter){let Je=null;if(oe+1<a&&(Je=r[oe+1]),Je==w.String_EscapeCharacter){u.push(w.String_EscapeCharacter),oe+=1,y=!0;continue}if(Je==w.String_Terminator_DoubleQuote){u.push(w.String_Terminator_DoubleQuote),oe+=1;continue}if(Je==w.String_Terminator_SingleQuote){u.push(w.String_Terminator_SingleQuote),oe+=1;continue}if(Je=="n"){u.push(`
`),oe+=1;continue}if(Je=="r"){u.push("\r"),oe+=1;continue}}if(l==!1&&(p!=null&&De==p||p==null&&Z.ctypeSpace(De))&&i.push(u.join("")),l&&(p!=null&&De==p||p==null&&Z.ctypeSpace(De))){let Je=u.join("");N=oe,g=oe,l=!1,p=null,u=[];let ft=new Wo;if(c.startsWith(w.Punctuation_Colon)&&(ft.isVariableReference=!0,c=c.substr(1)),ft.nameDelimiter=C,ft.name=c,ft.value=Je,ft.startPosition=(L=e.relativePositionFromOffset(m,f))!=null?L:null,oe+1>a){this.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER,e,"Unexpected end of input while parsing parameter content.")),ft.parent=e,s.push(ft),c="";continue}ft.endPosition=(M=e.relativePositionFromOffset(oe+1,oe+1))!=null?M:null,ft.parent=e,ft.blockPosition={start:(H=e.relativeOffset(d,d))!=null?H:null,end:($=e.relativeOffset(g,g))!=null?$:null},ft.namePosition={start:(ne=e.relativeOffset(h,h))!=null?ne:null,end:(re=e.relativeOffset(b,b))!=null?re:null},ft.valuePosition={start:(ye=e.relativeOffset(_+2,_+2))!=null?ye:null,end:(Pe=e.relativeOffset(N,N))!=null?Pe:null},s.push(ft),c="",d=-1,g=-1,h=-1,b=-1,_=-1,N=-1;continue}if(l==!1&&(De==w.String_Terminator_DoubleQuote||De==w.String_Terminator_SingleQuote)&&oe>o)break;u.push(De),d==-1&&(d=oe),h==-1&&(h=oe),u.length==1&&(m=oe+1)}if(p!=null){let oe=e;if(i.length>0){let De=i[i.length-1],ct=e.content.indexOf(De);if(ct>=0){let Qt=new se;Qt.startPosition=e.relativeOffset(ct-2,ct-2),Qt.endPosition=e.relativeOffset(ct+De.length,ct+De.length),oe=Qt}}this.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_END_OF_INPUT,oe,"Unexpected string literal while parsing parameters."))}return s}};function bl(t){return t.length==0?null:t[0].startPosition}var x0=je(pu()),qc=class{static regions(){return this.noParseRegions}static clear(){this.noParseRegions.clear()}static registerNoParseContent(e){let n=x0.Md5.hashStr(e);return this.noParseRegions.set(n,e),n}};qc.noParseRegions=new Map;function Zd(t,e){let n=new Set(t),r=new Set(e),i=new Set([...n].filter(s=>r.has(s)));return Array.from(i)}var em=class{constructor(){this.closingTagIndex=new Map;this.closingTagIndexCount=new Map;this.openTagIndexCount=new Map;this.closingTagNames=new Map;this.parentNode=null;this.stackCount=0;this.createdExecutionBranches=[];this.document=null}getClosingCandidates(e){var n,r;if((e instanceof z||e instanceof ht)&&e.isClosingTag==!1){let i=(r=(n=e.name)==null?void 0:n.compound)!=null?r:"";return i=="if"?["if","elseif","else"]:i=="elseif"?["elseif","else","if"]:i=="else"?["if"]:[i]}return[]}buildCloseIndex(e){var n,r,i;e.forEach(s=>{var a,o,l,u,c,f,m,y,p,d;if(!(s instanceof dr)&&!((s instanceof z||s instanceof ht)&&s.isSelfClosing)&&(s instanceof z||s instanceof ht)&&s.isClosingTag){this.closingTagIndex.has(this.stackCount)==!1&&this.closingTagIndex.set(this.stackCount,new Map),this.closingTagIndexCount.has(this.stackCount)==!1&&this.closingTagIndexCount.set(this.stackCount,new Map);let g=(o=(a=s.name)==null?void 0:a.compound)!=null?o:"";((l=this.closingTagIndex.get(this.stackCount))==null?void 0:l.has(g))==!1&&((u=this.closingTagIndex.get(this.stackCount))==null||u.set(g,[]),(c=this.closingTagIndexCount.get(this.stackCount))==null||c.set(g,0)),(m=(f=this.closingTagIndex.get(this.stackCount))==null?void 0:f.get(g))==null||m.push(s);let h=(p=(y=this.closingTagIndexCount.get(this.stackCount))==null?void 0:y.get(g))!=null?p:0;(d=this.closingTagIndexCount.get(this.stackCount))==null||d.set(g,h+1)}}),this.closingTagNames.has(this.stackCount)==!1&&this.closingTagNames.set(this.stackCount,[]),this.closingTagIndex.has(this.stackCount)&&(this.closingTagNames.set(this.stackCount,Array.from((r=(n=this.closingTagIndex.get(this.stackCount))==null?void 0:n.keys())!=null?r:[])),(i=this.closingTagIndex.get(this.stackCount))==null||i.forEach((s,a)=>{var u,c,f,m,y,p,d;let o=s.length;if(o==0)return;let l=s[o-1];for(let g=0;g<o;g++){let h=e[g];if(h instanceof z||h instanceof ht){if(h instanceof dr)continue;if(h.index>=l.index)break;let b=(c=(u=h.name)==null?void 0:u.compound)!=null?c:"";if(h.isClosingTag==!1&&a==b&&!h.isSelfClosing){this.openTagIndexCount.has(this.stackCount)==!1&&this.openTagIndexCount.set(this.stackCount,new Map),((f=this.openTagIndexCount.get(this.stackCount))==null?void 0:f.has(a))==!1&&((m=this.openTagIndexCount.get(this.stackCount))==null||m.set(a,0));let _=(p=(y=this.openTagIndexCount.get(this.stackCount))==null?void 0:y.get(a))!=null?p:0;(d=this.openTagIndexCount.get(this.stackCount))==null||d.set(a,_+1)}}}}))}getScanForList(e){var n;if(e instanceof z||e instanceof ht){let r=(n=e.name)==null?void 0:n.compound;if(r=="else")return["if"];if(r=="elseif")return["elseif","else","if"];if(e.isClosingTag==!1){let i=this.getClosingCandidates(e),s=this.closingTagNames.get(this.stackCount);return Zd(i,s)}}return[]}canPossiblyClose(e){var n,r;if(e instanceof dr)return!1;if(e instanceof ht||e instanceof z){if(e.isComment||e.isSelfClosing)return!1;let i=(r=(n=e.name)==null?void 0:n.compound)!=null?r:"";if(i=="else"||i=="elseif")return!0;if(e.isClosingTag==!1){let s=this.getClosingCandidates(e),a=this.closingTagNames.get(this.stackCount);return Zd(s,a).length>0}}return!1}findClosingPair(e,n,r){var o,l,u,c;let i=n.runtimeNodes.length,s=e.length,a=0;for(let f=0;f<s;f++){let m=e[f];if(m instanceof z||m instanceof ht)if(n.endPosition!=null&&m.startPosition!=null){if(n.endPosition.isBefore(m.startPosition)){if(m.isClosingTag&&m.isOpenedBy!=null||m.isSelfClosing)continue;let y=(l=(o=m.name)==null?void 0:o.compound)!=null?l:"";if(m.isClosingTag==!1){if(r.includes(y)){let p=(u=this.openTagIndexCount.get(this.stackCount))==null?void 0:u.get(y),d=(c=this.closingTagIndexCount.get(this.stackCount))==null?void 0:c.get(y);p!=d&&m.runtimeNodes.length>=i,a+=1}continue}if(r.includes(y)&&a>0){a-=1;continue}if(a==0&&r.includes(y)){m.isOpenedBy=n,n.isClosedBy=m;break}}}else continue}}associate(e,n){var s,a,o,l,u,c,f;this.document=n;let r=[{documentNodes:e,parent:null}],i=[];for(;r.length>0;){let m=r.pop();if(m==null)continue;let y=m.documentNodes;this.parentNode=m.parent,this.stackCount+=1,this.buildCloseIndex(y),y=Hn.pairConditionals(y),y.forEach(h=>{if((h instanceof z||h instanceof ht)&&this.canPossiblyClose(h)){if(Hn.isConditionalStructure(h))return;let b=this.getScanForList(h);this.findClosingPair(y,h,b)}});let p=y.length;for(let h=0;h<p;h++){let b=y[h];if((b instanceof z||b instanceof ht)&&b.isClosedBy!=null)for(let _=h+1;_<p;_++){let N=y[_];if(N.index>b.isClosedBy.index)break;if(N.parent=b,b.children.push(N),N instanceof z&&N.index==b.index){N.parent=b;break}}}y.forEach(h=>{if((h instanceof z||h instanceof ht)&&h.children.length>0){let b=[];h.children.forEach(_=>{_.parent!=null&&_.parent.index==h.index&&(_.parent=h,b.push(_))}),r.push({documentNodes:b,parent:h})}});let d=[];y.forEach(h=>{this.parentNode==null?h.parent==null&&d.push(h):h.parent==this.parentNode&&d.push(h)}),d=this.reduceConditionals(d,n);let g=new Map;y.forEach(h=>{var b,_,N,C;if((h instanceof z||h instanceof ht)&&h.isClosedBy!=null&&this.document!=null){let W=this.document.getText(((_=(b=h.endPosition)==null?void 0:b.index)!=null?_:0)+1,(C=(N=h.isClosedBy.startPosition)==null?void 0:N.index)!=null?C:0);h.runtimeContent=W}});for(let h=0;h<d.length;h++){let b=d[h],_=(s=b.refId)!=null?s:"";if(g.set(_,1),(b instanceof z||b instanceof ht)&&b.isComment==!1&&((a=b.name)==null?void 0:a.name)=="noparse"&&!(b instanceof on)&&b.isClosingTag==!1){if(b.isClosedBy==null){b.pushError(K.makeSyntaxError(D.TYPE_NO_PARSE_UNASSOCIATED,b,"Encountered noparse region without a closing tag. All noparse regions must be closed."));continue}let N=b.content;this.document!=null&&(N=this.document.getText(((l=(o=b.endPosition)==null?void 0:o.index)!=null?l:0)+1,(f=(c=(u=b.isClosedBy)==null?void 0:u.startPosition)==null?void 0:c.index)!=null?f:0));let C=new on,W=b.getParser();W!=null&&C.withParser(W),b.copyBasicDetailsTo(C),C.name=new qn,C.name.name="noparse",C.name.compound="noparse",C.content=qc.registerNoParseContent(N),C.originalNode=b,C.isClosedBy=b.isClosedBy,C.parent=b.parent,d[h]=C}}if(this.parentNode!=null&&(this.parentNode instanceof ht||this.parentNode instanceof z)&&(this.parentNode.children=this.cleanNodes(d),this.parentNode.parent!=null&&this.parentNode.parent instanceof z)){let h=this.parentNode.parent.children,b=[];h.forEach(_=>{var N;g.has((N=_.refId)!=null?N:"")==!1&&b.push(_)}),this.parentNode.parent.children=this.cleanNodes(b)}this.stackCount<=1&&(i=d)}return this.createdExecutionBranches.length>0&&this.createdExecutionBranches.forEach(m=>{m.head!=null&&(m.nodes=m.head.children)}),i}cleanNodes(e){let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i],a=s.refId;if(r.includes(a))break;n.push(s),r.push(a)}return n}findEndOfBranch(e,n,r){let i=[],s=r,a=null;for(let o=0;o<e.length;o++){let l=e[o];if((l instanceof z||l instanceof ht)&&l.isOpenedBy!=null&&l.isOpenedBy==n){a=l;break}else i.push(l)}return{children:i,tail:a,offset:s}}reduceConditionals(e,n){var i,s,a,o,l,u,c,f,m,y,p,d;let r=[];for(let g=0;g<e.length;g++){let h=e[g];if((h instanceof z||h instanceof ht)&&h.isComment==!1&&h.isClosingTag==!1&&h.isClosedBy!=null)if(((s=(i=h.name)==null?void 0:i.compound)!=null?s:"")=="if"){let _=new Nn;_.index=h.index,_.chain.push(h.index),_.fragment=h.fragment,_.fragmentPosition=h.fragmentPosition,_.containsAnyFragments=h.containsAnyFragments,_.containsChildStructures=h.containsChildStructures;let N=(o=(a=h.startPosition)==null?void 0:a.offset)!=null?o:0,C=h.getFinalClosingTag(),W=((u=(l=C.endPosition)==null?void 0:l.offset)!=null?u:0)+1;_.nodeContent=n.getText(N,W),this.parentNode!=null&&(_.parent=this.parentNode);let L=null,M=!0,H=0;for(;M;){if(H+=1,H>em.ForceBreakLimit){M=!1;break}if(h instanceof z||h instanceof ht){let $=this.findEndOfBranch(e.slice(g+1),h,g),ne=new tp,re=$.tail;ne.head=h,ne.tail=re,ne.nodes=this.cleanNodes(h.children);let ye=((f=(c=h.endPosition)==null?void 0:c.offset)!=null?f:0)+1,Pe=(p=(y=(m=h.isClosedBy)==null?void 0:m.startPosition)==null?void 0:y.offset)!=null?p:0,oe=n.getText(ye,Pe);if(ne.documentText=oe,n.shouldParseChildDocument()&&(ne.childDocument=$t.childFromText(ne.documentText,bl(ne.nodes))),re==null&&(re=ne.head.isClosedBy),re!=null&&re.startPosition!=null&&(ne.startPosition=re.startPosition),re!=null&&(ne.index=re.index),ne.nodes.length>0){let De=ne.nodes[ne.nodes.length-1];De.endPosition!=null&&(ne.endPosition=De.endPosition)}else re!=null&&re.endPosition!=null&&(ne.endPosition=re.endPosition);if(this.createdExecutionBranches.push(ne),_.logicBranches.push(ne),(re==null?void 0:re.isClosingTag)&&((d=re.name)==null?void 0:d.compound)=="if"){L=$.offset,M=!1;break}else re!=null&&_.chain.push(re.index),g=$.offset,re instanceof z&&(h=re)}else M=!1}if(_.logicBranches.length>0){let $=_.logicBranches[0],ne=_.logicBranches[_.logicBranches.length-1];$.startPosition!=null&&(_.startPosition=$.startPosition),ne.endPosition!=null&&(_.endPosition=ne.endPosition)}if(r.push(_),L!=null&&L==e.length)break}else r.push(h);else r.push(h)}return r}},Vc=em;Vc.ForceBreakLimit=1e5;var tm=class{static associateRecursiveParent(e){var n,r;for(let i=0;i<e.length;i++){let s=e[i];if(s instanceof dr){let a="*recursive "+((n=s.name)==null?void 0:n.name);if(i-1<0){s.pushError(K.makeSyntaxError(D.TYPE_RECURSIVE_NODE_INVALID_POSITION,s,"Unpaired recursive node. All recursive nodes must have a parent node introducing them."));continue}let o=null;for(let l=i-1;l>=0;l-=1){let u=e[l];if(!(u instanceof gt)&&u instanceof z&&u.isClosedBy!=null){if(s.isNestedRecursive){if(u.content.trim()==((r=s.name)==null?void 0:r.name)){o=u;break}}else if(u.runtimeContent.includes(a)&&Z.substringCount(s.runtimeContent,"*recursive")==1){o=u;continue}else if(o!=null)break}}if(o==null)continue;s.isNestedRecursive?(o.hasRecursiveNode=!0,s.recursiveParent=o,o.recursiveReference=s):o.parent!=null?o.parent instanceof z&&(o.parent.hasRecursiveNode=!0,o.parent.recursiveReference=s,s.recursiveParent=o.parent):(o.hasRecursiveNode=!0,s.recursiveParent=o,o.recursiveReference=s)}}}};var co=class{static getNearText(e){var r,i,s,a;if(e instanceof Ne)return e.name;if(e instanceof Mt)return(i=(r=e.value)==null?void 0:r.toString())!=null?i:"";if(e instanceof At)return e.value;if(e instanceof hn)return e.name;if(e instanceof Ht)return e.value;if(e instanceof $r||e instanceof mi||e instanceof mr||e instanceof Lr||e instanceof Or||e instanceof un||e instanceof Yr||e instanceof Rt||e instanceof ln||e instanceof Fr||e instanceof Kn||e instanceof di||e instanceof Cn||e instanceof fi||e instanceof Br||e instanceof Xn||e instanceof kr||e instanceof zn||e instanceof Mr||e instanceof pi||e instanceof Wr||e instanceof Vr||e instanceof qr||e instanceof Ai||e instanceof hr||e instanceof Qn||e instanceof Gr||e instanceof kn||e instanceof gr||e instanceof mn||e instanceof _r||e instanceof Ur||e instanceof jr||e instanceof Ii||e instanceof yr||e instanceof Hr||e instanceof Zt||e instanceof Yt||e instanceof Pn||e instanceof St||e instanceof zi||e instanceof Dn||e instanceof hi||e instanceof en)return e.content;let n="";return e instanceof z?e.originalNode!=null?n=e.originalNode.getContent():n=(a=(s=e.startPosition)==null?void 0:s.line.toString())!=null?a:"":e.originalAbstractNode!=null?n=e.originalAbstractNode.rawContent():n=e.rawContent(),n.length>15&&(n=n.substr(0,-15)),n}};var fo=class{};fo.deferredCoreLibraries=["arr","array","str","string","method","math","sys","convert","scope","stopwatch","file","path","url","request","json","datetime"];var Nt=class{};Nt.ARR_PLUCK="pluck",Nt.ARR_TAKE="take",Nt.ARR_SKIP="skip",Nt.ARR_MAKE="arr",Nt.ARR_ORDERBY="orderby",Nt.ARR_GROUPBY="groupby",Nt.ARR_MERGE="merge",Nt.QUERY_WHERE="where",Nt.STRUCT_SWITCH="switch",Nt.BITWISE_AND="bwa",Nt.BITWISE_OR="bwo",Nt.BITWISE_XOR="bxor",Nt.BITWISE_NOT="bnot",Nt.BITWISE_SHIFT_LEFT="bsl",Nt.BITWISE_SHIFT_RIGHT="bsr",Nt.operators=["pluck","take","arr","skip","orderby","groupby","merge","where","switch","bwa","bwo","bxor","bsl","bsr"];var wt=class{constructor(){this.pathParser=new Bi;this.tokens=[];this.createdVariables=[];this.createdModifierChains=[];this.createdLanguageOperators=[];this.createdArrays=[];this.tracedAssignments=[];this.mergedVariablePaths=[];this.mergedComponents=new Map;this.modifierNameMapping=new Map;this.isRealModifierSeparator=new Map;this.isRoot=!0;this.retriggerNonVirtualGroupMembers=[]}hasModifierConstruct(e){return this.modifierNameMapping.has(e)}getModifierConstruct(e){return this.modifierNameMapping.get(e)}isActualModifierSeparator(e){return this.isRealModifierSeparator.has(e)}isMergedVariableComponent(e){return this.mergedComponents.has(e)}getMergedVariable(e){return this.mergedComponents.get(e)}getMergedVariablePaths(){return this.mergedVariablePaths}getCreatedModifierChains(){return this.createdModifierChains}getCreatedLangaugeOperators(){return this.createdLanguageOperators}getCreatedArrays(){return this.createdArrays}getCreatedVariables(){return this.createdVariables}getRuntimeAssignments(){return this.tracedAssignments}getAssignedVariables(){let e=[],n=[];for(let r=0;r<this.tracedAssignments.length;r++){let i=this.tracedAssignments[r];i.target instanceof Ne&&n.includes(i.target.name)==!1&&(n.push(i.target.name),e.push(i.target))}return e}getAssignedVariableNames(){let e=[];for(let n=0;n<this.tracedAssignments.length;n++){let r=this.tracedAssignments[n];r.target instanceof Ne&&e.includes(r.target.name)==!1&&e.push(r.target.name)}return e}reset(){this.tokens=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.createdArrays=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.tracedAssignments=[],this.createdArrays=[],this.mergedVariablePaths=[],this.mergedComponents.clear(),this.modifierNameMapping.clear()}parse(e){return this.tokens=e,this.tokens=this.combineVariablePaths(this.tokens),this.tokens=this.createLanguageOperators(this.tokens),this.tokens=this.createLogicalGroups(this.tokens),this.tokens=this.associateMethodCalls(this.tokens),this.tokens=this.createTupleLists(this.tokens),this.tokens=this.createLibraryInvocations(this.tokens),this.tokens=this.associateModifiers(this.tokens),this.tokens=this.createNullCoalescenceGroups(this.tokens),this.tokens=this.correctTypes(this.tokens),this.tokens=this.createTernaryGroups(this.tokens),this.tokens=this.applyOperationOrder(this.tokens),this.validateNeighboringOperators(this.tokens),this.tokens=this.createLogicGroupsToRemoveMethodInvocationAmbiguity(this.tokens),this.tokens=this.createLogicGroupsToResolveOperatorAmbiguity(this.tokens),this.validateNoDanglingLogicGroupEnds(this.tokens),this.isRoot&&(this.tokens=this.insertAutomaticStatementSeparators(this.tokens),this.retriggerNonVirtualGroupMembers.length>0&&this.retriggerNonVirtualGroupMembers.forEach(n=>{this.markAllNonVirtualAsListGroupMember(n)})),this.createSemanticGroups(this.tokens)}setIsRoot(e){return this.isRoot=e,this}validateNeighboringOperators(e){let n=e.length;for(let r=0;r<n;r++){let i=e[r];if(wt.isOperatorType(i)){if(r+1>=n){i.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_OPERATOR,i,"Unexpected operator while parsing input text."));return}let s=e[r+1];if(wt.isOperatorType(s)){s.pushError(K.makeSyntaxError(D.TYPE_OPERATOR_INVALID_ON_RIGHT,s,"Unexpected operator while parsing input text."));continue}}}}static isAssignmentOperator(e){return e instanceof Fr||e instanceof kr||e instanceof Qn||e instanceof Mr||e instanceof Br||e instanceof di}static isOperatorType(e){return e instanceof Fr||e instanceof kr||e instanceof Qn||e instanceof Mr||e instanceof Br||e instanceof di||e instanceof Ii||e instanceof Yr||e instanceof gr||e instanceof un||e instanceof _r||e instanceof mi||e instanceof yr||e instanceof hi||e instanceof Kn||e instanceof zn||e instanceof fi||e instanceof pi||e instanceof Xn||e instanceof Cn||e instanceof kn||e instanceof hr||e instanceof Ai||e instanceof qr||e instanceof Vr||e instanceof jr||e instanceof Ur||e instanceof Wr||e instanceof Gr}markAllNonVirtualAsListGroupMember(e){e.forEach(n=>{if(n instanceof We||n instanceof br||n instanceof xi){n.start!=null&&n.start.isVirtual==!1&&(n.start.isListGroupMember=!0),n.end!=null&&n.end.isVirtual==!1&&(n.end.isListGroupMember=!0),n.scopeOperator!=null&&(n.scopeOperator.isListGroupMember=!0),n.nodes.forEach(r=>{this.markAllNonVirtualAsListGroupMember([r])});return}else n instanceof kt&&(n.separatorToken!=null&&n.separatorToken.isVirtual==!1&&(n.separatorToken.isListGroupMember=!0),this.markAllNonVirtualAsListGroupMember(n.nodes));n.isVirtual==!1&&(n.isListGroupMember=!0),n.originalAbstractNode!=null&&n.originalAbstractNode!=n&&this.markAllNonVirtualAsListGroupMember([n.originalAbstractNode])})}markAllNonVirtualAsSwitch(e){e.forEach(n=>{if(n instanceof We||n instanceof br||n instanceof xi){n.start!=null&&n.start.isVirtual==!1&&(n.start.isSwitchGroupMember=!0),n.end!=null&&n.end.isVirtual==!1&&(n.end.isSwitchGroupMember=!0),n.scopeOperator!=null&&(n.scopeOperator.isSwitchGroupMember=!0),n.nodes.forEach(r=>{this.markAllNonVirtualAsSwitch([r])});return}else n instanceof kt&&(n.separatorToken!=null&&n.separatorToken.isVirtual==!1&&(n.separatorToken.isSwitchGroupMember=!0),this.markAllNonVirtualAsSwitch(n.nodes));n.isVirtual==!1&&(n.isSwitchGroupMember=!0),n.originalAbstractNode!=null&&n.originalAbstractNode!=n&&this.markAllNonVirtualAsSwitch([n.originalAbstractNode])})}validateNoDanglingLogicGroupEnds(e){e.forEach(n=>{n instanceof Yt&&n.pushError(K.makeSyntaxError(D.TYPE_LOGIC_GROUP_NO_START,n,"Unexpected [T_LOGIC_END] while parsing input text."))})}isValidModifierValue(e){return e instanceof Ht||e instanceof Ne||e instanceof Lr||e instanceof Or||e instanceof mr||e instanceof Mt||e instanceof At}wrapNumberInVariable(e){var r,i,s,a;let n=new Ne;return n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.name=(i=(r=e.value)==null?void 0:r.toString())!=null?i:"",n.content=(a=(s=e.value)==null?void 0:s.toString())!=null?a:"",n.originalAbstractNode=e,n.refId=e.refId,n.modifierChain=e.modifierChain,n.index=e.index,this.createdVariables.push(n),n}wrapArithmeticModifier(e,n){let r=new hn;return r.startPosition=e.startPosition,r.endPosition=e.endPosition,r.originalAbstractNode=e,r.content=n,r.name=n,r.index=e.index,r}combineVariablePaths(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i],a=n.length;if(s instanceof St){if(a==0){s.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE,s,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}if(i+1>r){let u="";if(i>0){let c=e[i-1];u=co.getNearText(c)}s.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP,s,'Unexpected end of input while parsing input text near "'+u+co.getNearText(s)+'".'));continue}let o=n[a-1],l=e[i+1];if(l instanceof Mt&&lt.distance(o,l)==1&&(l=this.wrapNumberInVariable(l)),o instanceof Ne&&l instanceof Ne&&lt.distance(o,l)==1){n.pop(),lt.mergeVarContentRight(":",s,l),lt.mergeVarRight(o,l),n.push(l),this.createdVariables.push(l),this.mergedVariablePaths.push(l),this.mergedComponents.set(s,l),this.mergedComponents.set(o,l),this.mergedComponents.set(l,l),i+=1;continue}else{n.push(s);continue}}else if(s instanceof At&&a>0){if(i+1>=r){n.push(s);continue}let o=n[a-1],l=e[i+1];if(o instanceof Ne&&l instanceof Ne&&lt.distance(o,s)<=1&&lt.distance(s,l)<=1){n.pop(),lt.mergeVarContentLeft(s.sourceTerminator+s.value+s.sourceTerminator,s,o),lt.mergeVarContentLeft(l.name,l,o),this.createdVariables.push(o),n.push(o),this.mergedVariablePaths.push(o),this.mergedComponents.set(s,o),this.mergedComponents.set(o,o),this.mergedComponents.set(l,o),i+=1;continue}else n.push(s)}else if(s instanceof Cn&&a>0){let o=n[a-1],l=e[i+1];if(o instanceof Ne&&(l instanceof Ne||l instanceof _r)){let u=lt.distance(o,s),c=lt.distance(s,l);u<=1&&c<=1?(o.endPosition=l.endPosition,this.mergedComponents.set(s,o),this.mergedComponents.set(o,o),this.mergedComponents.set(l,o),i+=1):n.push(s)}else n.push(s)}else n.push(s)}return n.forEach(i=>{i instanceof Ne&&(i.variableReference=this.pathParser.parse(i.name),i.mergeErrors(this.pathParser.getAntlersErrors()))}),n}convertVarNodeToOperator(e){let n=new Yr;return n.content=e.name,n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.originalAbstractNode=e,e.convertedToOperator=!0,this.createdLanguageOperators.push(n),n}convertOperatorToVarNode(e){let n=new Ne;return n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.content=e.content,n.name=e.content,n.originalAbstractNode=e,this.createdVariables.push(n),n}createLanguageOperators(e){let n=e.length;for(let r=0;r<n;r++){let i=e[r];if(i instanceof Ne){if(i.name.includes(w.Punctuation_FullStop)){let s=i.name.split(w.Punctuation_FullStop);if(Nt.operators.includes(s[0])||fo.deferredCoreLibraries.includes(s[0])){e[r]=this.convertVarNodeToOperator(i);continue}}if(Nt.operators.includes(i.name)){e[r]=this.convertVarNodeToOperator(i);continue}}if(i instanceof Yr){if(r+1>=n){e[r]=this.convertOperatorToVarNode(i);continue}if(e[r+1]instanceof ln){e[r]=this.convertOperatorToVarNode(i);continue}}}return e}createLogicalGroups(e){let n=[],r=e.length,i=[];for(let a=0;a<r;a++){let o=e[a];if(o instanceof un){let l=this.countTypeRight(e,a,un);if(i.length==0&&e.length==l){o.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR,o,"Unexpected [T_LOGIC_INVERSE] while parsing input text."));continue}if(a>0&&i.length>0){let f=i[i.length-1];if(f instanceof Mt||f instanceof Yt||f instanceof We){if(f instanceof We&&f.start instanceof un){f.start.pushError(K.makeSyntaxError(D.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED,f.start,"[T_AOP_FACTORIAL] operand will always materialize boolean type."));continue}let m=new zi;m.startPosition=o.startPosition,m.endPosition=o.endPosition,m.content="!".repeat(l),m.originalAbstractNode=o,m.repeat=l,i.push(m),l>0&&(a+=l-1);continue}}if(l%2==0){a+=l-1;continue}let u=e[a+l];if(u instanceof Zt){let f=a+l+1;if(f>=r){u.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET,u,"Unexpected end of input while parsing input text."));continue}let m=this.findLogicalGroupEnd(e[a+l],e.slice(f));if(m.found){let y=m.logicalGroup,p=new We;p.start=o,p.end=y,p.nodes.push(o),p.nodes.push(y),p.startPosition=o.startPosition,p.endPosition=y.endPosition,i.push(p),a+=m.skipCount+l}continue}let c=this.resolveValueRight(e,a);c.value!=null&&i.push(c.value),a+=c.negationCount}else i.push(o)}let s=i.length;for(let a=0;a<s;a++){let o=i[a];if(o instanceof Zt){if(a+1>=s){o.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION,o,"Unexpected end of input while parsing input text."));continue}let l=this.findLogicalGroupEnd(o,i.slice(a+1));l.found&&l.logicalGroup!=null&&n.push(l.logicalGroup),a+=l.skipCount}else if(o instanceof zi){if(n.length==0){o.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS,o,"Unexpected [T_AOP_FACTORIAL] while parsing input text."));continue}let l=n[n.length-1];if(!(l instanceof We)&&!(l instanceof Mt)){o.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_FACTORIAL_OPERAND,o,"Unexpected left operand encountered for [T_AOP_FACTORIAL] while parsing input text."));continue}l=n.pop();let u=new We;u.startPosition=l.startPosition,u.endPosition=o.endPosition,u.originalAbstractNode=o,u.nodes.push(l),u.nodes.push(o),n.push(u)}else n.push(o)}return n}makeArgGroup(e){let n=new Ca,r=e.length;for(let s=0;s<r;s++){let a=e[s];if(this.isOperand(a)==!1){a.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD,a,"Unexpected ["+ee.getPrettyTypeName(a)+"] while parsing argument group."));continue}let o=null;if(s+1<r&&(o=e[s+1]),o==null||o instanceof Rt){n.args.push(e[s]),s+=1;continue}else if(o instanceof St){if(s+2>=r){a.pushError(K.makeSyntaxError(D.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT,a,"Unexpected end of input while parsing named argument."));continue}let l=e[s+2],u=new mu;u.startPosition=a.startPosition,u.endPosition=l.endPosition,u.content=a.content+l.content,u.name=a,u.value=l,a instanceof Ne||a.pushError(K.makeSyntaxError(D.TYPE_INVALID_NAMED_ARG_IDENTIFIER,a,"Invalid type ["+ee.getPrettyTypeName(a)+"] supplied for named argument name.")),n.hasNamedArguments=!0,n.numberOfNamedArguments+=1,n.args.push(u),s+3<r&&e[s+3]instanceof Rt?s+=3:s+=2;continue}}let i=!1;return n.args.forEach(s=>{s instanceof mu?i=!0:i&&s.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT,s,"Unnamed arguments are not allowed to appear after a named argument."))}),n}cleanVariableForMethodInvocation(e){(e.name.startsWith(":")||e.name.startsWith("."))&&(e.name=e.name.substr(1),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(1),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(1)),e.startPosition!=null&&(e.startPosition.offset+=1,e.startPosition.char+=1))}reduceVariableReferenceForObjectAccessor(e){var s;let n=(s=e.variableReference)==null?void 0:s.pathParts.pop(),r=n.name,i=r.length+1;return e.name=e.name.substr(0,-i),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(0,-i),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(0,-i),e.variableReference.pathParts[e.variableReference.pathParts.length-1].isFinal=!0),e.endPosition!=null&&(e.endPosition.offset-=i,e.endPosition.char-=i),{accessor:r,accessorLen:i}}associateMethodCalls(e){var i,s;let n=[],r=e.length;for(let a=0;a<r;a++){let o=e[a],l=null,u=null;if(n.length>0&&(l=n[n.length-1]),a+1<r&&(u=e[a+1]),o instanceof Ne&&u instanceof We&&l!=null&&(this.isProperMethodChainTargetStrict(l)||l instanceof St)){let c=u,f=[];c.nodes.length>0&&(c.nodes[0]instanceof kt?f=c.nodes[0].nodes:f=c.nodes);let m=new en;if(m.startPosition=o.startPosition,l instanceof St){let y=n.pop();m.startPosition=y.startPosition}this.cleanVariableForMethodInvocation(o),m.endPosition=c.endPosition,m.args=this.makeArgGroup(f),m.method=o,l.methodTarget=m,l instanceof Ne&&l.mergeRefName.length>0&&(l.name=lt.getUnrefName(l.mergeRefName)),n.push(m),a+=1;continue}else if(o instanceof We&&l instanceof Ne&&l.variableReference!=null&&l.variableReference.pathParts.length>=2){let c=[];if(o.nodes.length>0&&(o.nodes[0]instanceof kt?c=o.nodes[0].nodes:c=o.nodes),l.variableReference.pathParts[0]instanceof Yn&&fo.deferredCoreLibraries.includes(l.variableReference.pathParts[0].name)){let d=n.pop(),g=new Xi;g.startPosition=d.startPosition,g.endPosition=o.endPosition,g.content=d.content,g.originalAbstractNode=o;let b=((i=d.variableReference)==null?void 0:i.pathParts.shift()).name,_=(s=d.variableReference)==null?void 0:s.implodePaths();g.libraryName=b,g.methodName=_,g.arguments=this.makeArgGroup(c),n.push(g),a+=1;continue}let f=this.reduceVariableReferenceForObjectAccessor(l),m=new en;m.startPosition=o.startPosition,m.endPosition=o.endPosition,l.methodTarget=m,l instanceof Ne&&l.mergeRefName.length>0&&(l.name=lt.getUnrefName(l.mergeRefName)),o.start!=null&&(o.start.isPartOfMethodChain=!0),o.end!=null&&(o.end.isPartOfMethodChain=!0);let y=new Ne;y.name=f.accessor,y.isPartOfMethodChain=!0;let p=this.makeArgGroup(c);if(m.startPosition!=null&&(m.startPosition.offset-=f.accessorLen,m.startPosition.char-=f.accessorLen),m.method=y,m.args=p,Z.isNumeric(l.name)){let d=n.pop();n.push(this.convertOperatorToVarNode(d))}n.push(m);continue}else if(o instanceof Ne&&l instanceof en){if(this.cleanVariableForMethodInvocation(o),a+1>r){o.pushError(K.makeSyntaxError(D.TYPE_METHOD_CALL_MISSING_ARG_GROUP,o,"Unexpected end of input while parsing method call."));continue}let c=e[a+1];if(!(c instanceof We)){o.pushError(K.makeSyntaxError(D.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected ["+ee.getPrettyTypeName(c)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let f=c,m=[];f.nodes.length>0&&(f.nodes[0]instanceof kt?m=f.nodes[0].nodes:m=f.nodes);let y=new en;y.startPosition=o.startPosition,y.endPosition=f.endPosition,y.args=this.makeArgGroup(m),y.method=o,l.methodTarget=y,n.push(y),a+=1;continue}else if(o instanceof St&&l instanceof en){if(a+1>r){o.pushError(K.makeSyntaxError(D.TYPE_METHOD_CALL_MISSING_METHOD,o,"Unexpected end of input while parsing method call."));continue}let c=e[a+1];if(a+2>r){o.pushError(K.makeSyntaxError(D.TYPE_METHOD_CALL_MISSING_ARG_GROUP,o,"Unexpected end of input while parsing method call."));continue}let f=e[a+2];if(!(f instanceof We)){o.pushError(K.makeSyntaxError(D.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected ["+ee.getPrettyTypeName(f)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let m=f,y=[];m.nodes.length>0&&(m.nodes[0]instanceof kt?y=m.nodes[0].nodes:y=m.nodes);let p=new en;p.startPosition=o.startPosition,p.endPosition=f.endPosition,p.args=this.makeArgGroup(y),p.method=c,l.methodTarget=p,n.push(p),a+=2;continue}else if(o instanceof en){if(a+1>r){o.pushError(K.makeSyntaxError(D.TYPE_METHOD_CALL_MISSING_METHOD,o,"Unexpected end of input while parsing method call."));continue}let c=e[a+1];if(a+2>r){o.pushError(K.makeSyntaxError(D.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected end of input while parsing method call."));continue}let f=e[a+2];if(!(f instanceof We)){o.pushError(K.makeSyntaxError(D.TYPE_INVALID_METHOD_CALL_ARG_GROUP,o,"Unexpected ["+ee.getPrettyTypeName(f)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let m=f,y=[];m.nodes.length>0&&(m.nodes[0]instanceof kt?y=m.nodes[0].nodes:y=m.nodes);let p=this.makeArgGroup(y);if(l instanceof Ne&&fo.deferredCoreLibraries.includes(l.name)){let d=n.pop(),g=new Xi;g.startPosition=d.startPosition,g.endPosition=m.endPosition,g.libraryName=d.name,g.methodName=c.name,g.content=g.libraryName+"->"+g.methodName,g.arguments=p,l.libraryTarget=g,n.push(g),a+=2;continue}o.method=c,o.args=p,n.length>0&&(n[n.length-1].methodTarget=o),a+=2,n.push(o);continue}else n.push(o)}return n}convertVariableToStringNode(e){let n=new At;return n.content=e.name,n.value=e.name,n.originalAbstractNode=e,n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.index=e.index,n}createTupleLists(e){let n=e.length,r=[];for(let i=0;i<n;i++){let s=e[i];if(s instanceof $r){if(s.isListGroupMember=!0,i+1>=n){s.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST,s,"Unexpected end of input while parsing tuple list."));continue}let a=e[i+1];if(!(a instanceof We)){a.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST,a,"Unexpected ["+ee.getPrettyTypeName(a)+"] while parsing tuple list."));continue}let o=a;if(this.markAllNonVirtualAsListGroupMember([o]),this.retriggerNonVirtualGroupMembers.push([o]),o.nodes.length==0){o.pushError(K.makeSyntaxError(D.TYPE_MISSING_BODY_TUPLE_LIST,o,"Missing tuple list body while parsing tuple list."));continue}let u=o.nodes.shift(),c=u.nodes.length,f=[];for(let p=0;p<c;p++){let d=u.nodes[p];if(!(d instanceof Rt)){let g=!1;if(d instanceof Ne&&(d.variableReference==null&&(g=!0),d.variableReference!=null&&d.variableReference.pathParts.length>1&&(g=!0),d.name.trim().length==0&&(g=!0)),g||!(d instanceof Ne)){o.pushError(K.makeSyntaxError(D.TYPE_INVALID_TUPLE_LIST_NAME_TYPE,o,"Invalid ["+ee.getPrettyTypeName(d)+"] name type found while parsing tuple list."));continue}let h=d;f.push(this.convertVariableToStringNode(h))}}let m=f.length;if(m==0){o.pushError(K.makeSyntaxError(D.TYPE_INVALID_MANIFESTED_NAME_GROUP,o,"Invalid Name expression produced an invalid name group while parsing tuple list."));continue}let y=new Ei;this.createdArrays.push(y),y.startPosition=s.startPosition,y.endPosition=s.endPosition,o.nodes.forEach(p=>{if(!(p instanceof kt)){p.pushError(K.makeSyntaxError(D.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP,p,"Invalid ["+ee.getPrettyTypeName(p)+"] name type found while parsing tuple list value expression."));return}let d=p,g=new Ei;this.createdArrays.push(g),g.startPosition=d.startPosition;let h=[];for(let b=0;b<c;b++){let _=d.nodes[b];if(!(_ instanceof Rt)){if(this.isOperand(_)==!1){_.pushError(K.makeSyntaxError(D.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE,_,"Unexpected ["+ee.getPrettyTypeName(_)+"]  while parsing tuple list value."));continue}h.push(_)}}for(let b=0;b<m&&!(b>h.length);b++){let _=h[b],N=new Ko;N.startPosition=_.startPosition,N.endPosition=_.endPosition,N.name=f[b],N.value=_,g.nodes.push(N),y.endPosition=_.endPosition,g.endPosition=_.endPosition}y.nodes.push(g)}),r.push(y),i+=1;continue}else r.push(s)}return e}makeOrderGroup(e){let n=[],r=e.length,i=0;for(let s=0;s<r;s++){let a=e[s],o=null;if(s+1<r&&(o=e[s+1]),s>0&&(o==null||o instanceof Rt)){i+=1;let l=new Yo;l.order=i,l.name=e[s-1],l.directionNode=a,this.isOperand(l.name)==!1&&l.name.pushError(K.makeSyntaxError(D.TYPE_INVALID_ORDER_BY_NAME_VALUE,l.name,"Invalid value or expression supplied for order by name.")),this.isOperand(l.directionNode)==!1&&l.directionNode.pushError(K.makeSyntaxError(D.TYPE_INVALID_ORDER_BY_SORT_VALUE,l.directionNode,"Invalid value or expression supplied for order by direction.")),l.startPosition=l.name.startPosition,l.endPosition=l.directionNode.endPosition,n.push(l),s+=1;continue}}return n}getValues(e){let n=new va,r=e.length,i=[];for(let s=0;s<r;s++){let a=e[s],o=null;if(s+1<r&&(o=e[s+1]),o==null||o instanceof Rt){i.push(a),s+=1;continue}}return n.values=i,n}createLibraryInvocations(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof Yr)if(s.content.includes(".")){let a=s.content.split("."),o=a.shift(),l=a.join("."),u=new Xi;if(u.startPosition=s.startPosition,u.endPosition=s.endPosition,u.content=s.content,u.libraryName=o,u.methodName=l,u.originalAbstractNode=s,i+1>=r){s.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP,s,"Unexpected end of input while parsing argument group."));continue}if(!(e[i+1]instanceof We)){s.pushError(K.makeSyntaxError(D.TYPE_EXPECTING_ARGUMENT_GROUP,s,"Unexpected token while parsing method call. Expecting [T_ARG_SEPARATOR] got ["+ee.getPrettyTypeName(s)+"]."));continue}let c=e[i+1],f=null;if(c.nodes.length>0){let m=c.nodes[0];f=this.makeArgGroup(m.nodes)}f==null&&(f=new Ca,f.startPosition=c.startPosition,f.endPosition=c.endPosition,f.originalAbstractNode=c),u.arguments=f,n.push(u),i+=1;continue}else if(s.content==Nt.ARR_ORDERBY){if(i+1>=r){s.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP,s,"Unexpected end of input while parsing order group."));continue}let a=e[i+1];if(!(a instanceof We)){a.pushError(K.makeSyntaxError(D.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND,a,"Unexpected ["+ee.getPrettyTypeName(a)+"] while parsing order group."));continue}let l=a.nodes;l[0]instanceof kt&&(l=l[0].nodes);let u=this.makeOrderGroup(l);u.length==0&&s.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP,s,"Unexpected empty [T_DIRECTION_GROUP]. Must have at least one order clause, and each property must have a direction specified."));let c=new xs;if(c.orderClauses=u,u.length>0){u[0].directionNode!=null&&(c.startPosition=u[0].directionNode.startPosition);let f=u[u.length-1].directionNode;f!=null&&(c.endPosition=f.endPosition)}n.push(s),n.push(c),i+=1;continue}else if(s.content==Nt.ARR_GROUPBY){if(i+1>=r){s.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY,s,"Unexpected end of input while parsing group by clause."));continue}let a=e[i+1];if(a instanceof xi||a instanceof br){a.pushError(K.makeSyntaxError(D.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED,a,"Type ["+ee.getPrettyTypeName(a)+"] must be enclosed with parenthesis to be used with groupby."));continue}if(!(a instanceof We)){a.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY,a,"Unexpected ["+ee.getPrettyTypeName(a)+"] while parsing group by."));continue}let l=a.nodes;l[0]instanceof kt&&(l=l[0].nodes);let u=this.getValues(l);if(n.push(s),n.push(u),i+2<r&&i+3<r){let c=e[i+2],f=e[i+3];if(lt.isVariableMatching(c,tt.ScopeAs))if(f instanceof At){u.isNamedNode=!0,u.parsedName=f,i+=3;continue}else f.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE,f,"Expecting [T_STRING] for group by collection alias; got ["+ee.getPrettyTypeName(f)+"]."))}i+=1;continue}else if(s.content==Nt.STRUCT_SWITCH){if(i+1>=r){s.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP,s,"Unexpected end of input while parsing [T_SWITCH_GROUP]."));continue}let a=e[i+1];if(!(a instanceof br)){a.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP,a,"Unexpected ["+ee.getPrettyTypeName(a)+"] while parsing [T_SWITCH_GROUP]."));continue}let o=a;if(this.markAllNonVirtualAsSwitch([a]),o.scope==null||!(o.scope instanceof We)){o.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_SWITCH_START_VALUE,o,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let l=o.scope;if(l.nodes.length==0||!(l.nodes[0]instanceof kt)){o.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,o,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let u=l.nodes[0];if(this.markAllNonVirtualAsSwitch([l]),u.nodes.length==0||!(u.nodes[0]instanceof We)){s.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}this.markAllNonVirtualAsSwitch([s]),this.markAllNonVirtualAsSwitch(u.nodes);let c=u.nodes;if(o.nodes.length==0&&s.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP].")),!(l.nodes[0]instanceof kt)){s.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let m=l.nodes[0];this.markAllNonVirtualAsSwitch(m.nodes);let y=m.nodes,p=new Rs,d=new We;d.nodes=c,d.startPosition=d.nodes[0].startPosition,d.endPosition=d.nodes[d.nodes.length-1].endPosition;let g=new Na;g.condition=d;let h=new We;h.nodes.push(y.shift()),h.startPosition=h.nodes[0].startPosition,h.endPosition=h.nodes[h.nodes.length-1].endPosition,g.expression=h,g.startPosition=g.condition.startPosition,g.endPosition=g.expression.nodes[g.expression.nodes.length-1].endPosition,y.shift(),p.cases.push(g);let b=y.length;if(b>0){if(!(y[0]instanceof We)){s.pushError(K.makeSyntaxError(D.TYPE_PARSER_INVALID_SWITCH_TOKEN,s,"Invalid ["+ee.getPrettyTypeName(y[0])+"] while parsing case statement."));continue}for(let _=0;_<b;_++){let N=y[_],C=null;if(N instanceof Rt){N.isSwitchGroupMember=!0;continue}if(_+1<b&&(C=y[_+1]),C instanceof Dn){C.isSwitchGroupMember=!0;let W=new Na;W.condition=N,this.markAllNonVirtualAsSwitch([W.condition]);let L=new We;if(L.nodes.push(y[_+2]),L.startPosition=L.nodes[0].startPosition,L.endPosition=L.nodes[L.nodes.length-1].endPosition,W.expression=L,this.markAllNonVirtualAsSwitch([L]),W.startPosition=W.condition.startPosition,W.endPosition=W.expression.nodes[W.expression.nodes.length-1].endPosition,p.cases.push(W),_+3<b&&!(y[_+3]instanceof Rt)){y[_+3].pushError(K.makeSyntaxError(D.TYPE_PARSER_INVALID_SWITCH_TOKEN,y[_+3],"Invalid ["+ee.getPrettyTypeName(y[_+3])+"] while parsing case statement; expecting [T_ARG_SEPARATOR]."));continue}y[_+3].isSwitchGroupMember=!0,_+=2;continue}}}n.push(new mr),n.push(s),n.push(p),i+=1;continue}else if(s.content==Nt.ARR_MAKE){if(i+1>=r){s.pushError(K.makeSyntaxError(D.TYPE_ARR_MAKE_MISSING_TARGET,s,"Missing target variable for arr operator."));continue}let a=e[i+1];if(!(a instanceof We)){a.pushError(K.makeSyntaxError(D.TYPE_ARR_MAKE_UNEXPECTED_TYPE,a,"Unexpected ["+ee.getPrettyTypeName(a)+"] while parsing array."));continue}let o=a instanceof br,l=a,u=l.nodes;if(u[0]instanceof kt&&(u=u[0].nodes),o){let y=a;u.unshift(new Dn),u.unshift(y.scope)}let c=this.getArrayValues(u),f=new Ei;f.startPosition=s.startPosition;let m=c.values.length;m>0?f.endPosition=c.values[m-1].endPosition:f.endPosition=s.endPosition,l.end!=null&&(f.endPosition=l.end.endPosition),f.nodes=c.values,this.createdArrays.push(f),n.push(f),i+=1}else n.push(s);else n.push(s)}return n}getArrayValues(e){let n=new va,r=e.length,i=[];for(let s=0;s<r;s++){let a=e[s];if(a instanceof Rt){a.pushError(K.makeSyntaxError(D.TYPE_ARR_UNEXPECT_ARG_SEPARATOR,a,"Unexpected [T_ARG_SEPARATOR] while parsing array."));continue}if(a instanceof Dn){if(s==0){a.pushError(K.makeSyntaxError(D.TYPE_ARR_KEY_PAIR_MISSING_KEY,a,"Missing key for key/value pair while parsing array."));continue}else if(e[s-1]instanceof Rt){a.pushError(K.makeSyntaxError(D.TYPE_ARR_KEY_PAIR_MISSING_KEY,a,"Missing key for key/value pair while parsing array."));continue}}let o=null;if(s+1<r&&(o=e[s+1]),o instanceof Dn){if(s+2>=r){o.pushError(K.makeSyntaxError(D.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE,o,"Missing key/pair value while parsing array."));continue}let l=e[s+2],u=new Ko;if(this.isValidArrayKeyNode(a)==!1){a.pushError(K.makeSyntaxError(D.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE,a,"Invalid ["+ee.getPrettyTypeName(a)+"] type for key/value key."));continue}u.name=a,u.value=l,u.startPosition=a.startPosition,u.endPosition=l.endPosition,i.push(u),s+=3;continue}if(o==null||o instanceof Rt){let l=new Ko;l.value=a,l.startPosition=a.startPosition,l.endPosition=a.endPosition,i.push(l),s+=1;continue}}return n.values=i,n}isValidArrayKeyNode(e){return e instanceof Mt||e instanceof At}associateModifiers(e){let n=[],r=e.length,i=null;for(let s=0;s<r;s++){let a=e[s];if(a instanceof mn){let o=n.length;if(o==0){a.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_MODIFIER_SEPARATOR,a,"Unexpected [T_MODIFIER_SEPARATOR] while parsing input text."));continue}if(this.isRealModifierSeparator.set(a,!0),i=n[o-1],i.modifierChain==null&&(i.modifierChain=new Go,i.modifierChain.modifierTarget=i,this.createdModifierChains.push(i.modifierChain)),s+1>=r){a.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS,a,"Unexpected end of input while preparing to gather modifier details."));continue}let l=this.scanToEndOfModifier(e.slice(s+1)),u=l.length;if(u>1&&l[1]instanceof St){this.isRealModifierSeparator.set(l[1],!0);let f=l[0];f instanceof Kn?l[0]=this.wrapArithmeticModifier(f,"add"):f instanceof Cn?l[0]=this.wrapArithmeticModifier(f,"subtract"):f instanceof zn?l[0]=this.wrapArithmeticModifier(f,"divide"):f instanceof Xn?l[0]=this.wrapArithmeticModifier(f,"multiply"):f instanceof pi&&(l[0]=this.wrapArithmeticModifier(f,"mod"))}if(u==0){a.pushError(K.makeSyntaxError(D.TYPE_UNSET_MODIFIER_DETAILS,a,"Invalid or missing modifier details."));continue}if(!(l[0]instanceof hn)){a.pushError(K.makeSyntaxError(D.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS,a,"Invalid ["+ee.getPrettyTypeName(l[0])+"]; expecting [T_MODIFIER_NAME]"));continue}let c=this.createModifier(l);c.nameNode!=null&&this.modifierNameMapping.set(c.nameNode,c),s+=u,i.modifierChain.modifierChain.push(c),i.modifierChain.updateValues();continue}else n.push(a)}return n}createNullCoalescenceGroups(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof yr){let a=n.pop();if(i+1>=r){s.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP,s,"Unexpected end of input while parsing input text."));continue}let o=e[i+1],l=new Ho;l.left=a,l.right=o,n.push(l),i+=1;continue}else n.push(s)}return n}isOperand(e){return e instanceof Ne||e instanceof We||e instanceof At||e instanceof Mt||e instanceof Or||e instanceof mr||e instanceof Lr||e instanceof Xi||e instanceof xs||e instanceof va||e instanceof Rs||e instanceof Ei}isProperMethodChainTargetStrict(e){return e instanceof We||e instanceof At||e instanceof Mt||e instanceof Or||e instanceof mr||e instanceof Lr||e instanceof Xi||e instanceof xs||e instanceof va||e instanceof Rs||e instanceof Ei}assertOperandRight(e,n){if(n+1>e.length-1)return e[n].pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_END_OF_INPUT,e[n],"Unexpected end of input; expecting operand for operator "+ee.getPrettyTypeName(e[n])+' near "'+co.getNearText(e[n])+'".')),!1;let r=e[n+1];return this.isOperand(r)?!0:(r.pushError(K.makeSyntaxError(D.TYPE_EXPECTING_OPERAND,e[n],"Expecting operand, found "+ee.getPrettyTypeName(r)+' near "'+co.getNearText(e[n])+'".')),!1)}resolveValueRight(e,n){let r=null,i=0,s=null;if(e.length>0){let a=!0;for(;a;){let o=e[n];if(o instanceof un){s=o,i+=1,n+=1,a=!1;continue}else if(this.isOperand(o)){r=o,a=!1;break}else{a=!1;break}}}if(i%2!=0){let a=new We;return a.nodes=[],s!=null&&r!=null&&(a.nodes.push(s),a.nodes.push(r)),{value:a,negationCount:i}}return{value:r,negationCount:i}}correctTypes(e){let n=[];return e.forEach(r=>{if(r instanceof Pn){let i=new St;i.startPosition=r.startPosition,i.endPosition=r.endPosition,i.originalAbstractNode=r,n.push(i)}else if(r instanceof Ht){let i=new Ne;i.name=r.value,i.startPosition=r.startPosition,i.endPosition=r.endPosition,i.modifierChain=r.modifierChain,i.originalAbstractNode=r,this.createdVariables.push(i),n.push(i)}else n.push(r)}),n}createTernaryGroups(e){var i,s,a,o;let n=[],r=e.length;for(let l=0;l<r;l++){let u=e[l];if(u instanceof Hr){let c=this.seek(St,l+1);if(((i=c.node)==null?void 0:i.originalAbstractNode)!=null&&c.node.originalAbstractNode instanceof Pn&&(c.node.originalAbstractNode.isTenaryBranchSeparator=!0),c.found==!1){u.pushError(K.makeSyntaxError(D.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR,u,"Unexpected end of input; expecting [T_BRANCH_SEPARATOR]."));continue}let f=this.collectUntil(n);n=f.tokens;let m=f.collectedTokens[0],y=(s=c.foundAt)!=null?s:0;if(y>=r){u.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP,u,"Unexpected end of input while parsing ternary group."));continue}let p=e.slice(l+1,y);if(p.length>1||p.length==0){u.pushError(K.makeSyntaxError(D.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH,u,"Unexpected number of operations within ternary truth branch."));continue}let d=p[0],g=((a=c.foundAt)!=null?a:0)+1;if(g>=r){u.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH,u,"Unexpected end of input while parsing ternary false execution branch."));continue}let h=e[g],b=new $o;b.head=m,b.truthBranch=d,b.falseBranch=h,n.push(b),l=((o=c.foundAt)!=null?o:0)+1;continue}else n.push(u)}return n}groupNodesByType(e,n){let r=[],i=e.length;for(let s=0;s<i;s++){let a=e[s];if(s>0&&a instanceof n){let o=[],l=r.pop();if(o.push(l),!this.assertOperandRight(e,s))continue;if(s+1>=i){a.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,a,"Unexpected end of input while parsing input text."));continue}let u=e[s+1];typeof u!="undefined"&&(u.isVirtualGroupMember=!0),typeof l!="undefined"&&(l.isVirtualGroupMember=!0),a.isVirtualGroupMember=!0;let c=new We;c.nodes=o,c.nodes.push(a),c.nodes.push(u),s+=1,r.push(c);continue}else r.push(a)}return r}flagNodeAsOperatorResolve(e){if(e instanceof We){if(e.nodes.length==0)return;this.flagNodeAsOperatorResolve(e.nodes[e.nodes.length-1])}e.isVirtualGroupOperatorResolve=!0,e.next instanceof ln||(e.producesVirtualStatementTerminator=!0)}groupNodesByOperatorType(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(i>0&&wt.isOperatorType(s)){let a=[],o=n.pop();if(a.push(o),!this.assertOperandRight(e,i))continue;if(i+1>=r){s.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,s,"Unexpected end of input while parsing input text."));continue}let l=e[i+1];this.flagNodeAsOperatorResolve(l),wt.isAssignmentOperator(s)&&this.tracedAssignments.push(new op(o,l,s)),typeof o!="undefined"&&(o.isVirtualGroupMember=!0),typeof l!="undefined"&&(l.isVirtualGroupMember=!0),s.isVirtualGroupMember=!0;let u=new We;u.nodes=a,u.nodes.push(s),u.nodes.push(l),i+=1,n.push(u);continue}else n.push(s)}return n}applyOperationOrder(e){return e=this.groupNodesByType(e,fi),e=this.groupNodesByType(e,Xn),e=this.groupNodesByType(e,zn),e=this.groupNodesByType(e,Kn),e=this.groupNodesByType(e,Cn),e}createLogicGroupsToRemoveMethodInvocationAmbiguity(e){let n=[],r=e.length,i=r-1;for(let s=0;s<r;s++){let a=e[s];if(a instanceof en){let o=n.pop(),l=new We;if(l.startPosition=o.startPosition,typeof o!="undefined"&&(o.isVirtualGroupMember=!0),typeof a!="undefined"&&(a.isVirtualGroupMember=!0),l.nodes.push(o),l.nodes.push(a),s!=i)for(let u=s+1;u<r;u++)if(e[u]instanceof en){if(typeof e[u]=="undefined")continue;if(e[u].isVirtualGroupMember=!0,l.nodes.push(e[u]),u==i){u+=1;break}}else{if(u==i){u+=1;break}s=u-1;break}l.endPosition=l.nodes[l.nodes.length-1].endPosition,n.push(l)}else n.push(a)}return n}countTypeRight(e,n,r){let i=0;for(let s=n;s<e.length&&e[s]instanceof r;s++)i+=1;return i}createLogicGroupsToResolveOperatorAmbiguity(e){return e=this.groupNodesByType(e,Ai),e=this.groupNodesByType(e,hr),e=this.groupNodesByType(e,Vr),e=this.groupNodesByType(e,qr),e=this.groupNodesByType(e,Gr),e=this.groupNodesByType(e,kn),e=this.groupNodesByType(e,Ur),e=this.groupNodesByType(e,jr),e=this.groupNodesByType(e,Wr),e=this.groupNodesByOperatorType(e),e}createModifier(e){let n=e.shift(),r=[],i=e.length;if(e.length>0&&e[0]instanceof We){let a=this.unpack(e[0].nodes),o=this.makeArgGroup(a),l=new Ta;if(l.nameNode=n,l.methodStyleArguments=o,e.length>1)for(let u=1;u<i;u++)e[u].pushError(K.makeSyntaxError(D.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX,e[u],"Unexpected ["+ee.getPrettyTypeName(e[u])+"] while parsing modifier argument group. Expecting [T_MODIFIER_SEPARATOR] or end of current expression."));return l}for(let a=0;a<i;a++)if(e[a]instanceof Pn||e[a]instanceof St){if(a+1>=i)return e[a].pushError(K.makeSyntaxError(D.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST,e[a],"Unexpected end of modifier value list while parsing modifier.")),e;let o=e[a+1];if(this.isValidModifierValue(o)){if(o instanceof Ne)if(o.variableReference!=null&&o.variableReference.pathParts.length>0)o.variableReference.pathParts.forEach(l=>{if(l instanceof Yn){let u=new Ht;u.startPosition=l.startPosition,u.endPosition=l.endPosition,u.value=l.name,u.name=l.name,u.originalAbstractNode=l,u.endPosition==null&&u.startPosition==null&&(u.startPosition=o.startPosition,u.endPosition=o.endPosition),r.push(u)}});else{let l=new Ht;l.startPosition=o.startPosition,l.endPosition=o.endPosition,l.value=o.name,l.name=o.name,l.originalAbstractNode=o,r.push(l)}else r.push(o);a+=1;continue}else return o.pushError(K.makeSyntaxError(D.TYPE_MODIFIER_UNEXPECTED_VALUE,o,"Unexpected ["+ee.getPrettyTypeName(o)+"] while parsing modifier value.")),e}let s=new Ta;return s.nameNode=n,s.valueNodes=r,s.startPosition=s.nameNode.startPosition,s.valueNodes.length>0?s.endPosition=s.valueNodes[s.valueNodes.length-1].endPosition:s.endPosition=s.nameNode.endPosition,s}scanToEndOfModifier(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof Pn){let a=n.length;if(a==0){s.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE,s,"Unexpected end of input while parsing modifier value."));continue}this.isRealModifierSeparator.set(s,!0);let o=n[a-1];if(lt.distance(o,s)>1)break}if(s instanceof At||s instanceof Ne||s instanceof Mt){let a=n.length;if(a>0&&n[a-1]instanceof We)break}if(s instanceof mn||s instanceof Yt||s instanceof Zt||s instanceof kn||s instanceof hr||s instanceof Ai||s instanceof qr||s instanceof Vr||s instanceof jr||s instanceof Ur||s instanceof Wr||s instanceof Gr||s instanceof gr||s instanceof _r||s instanceof mi||s instanceof yr||s instanceof hi||s instanceof Yr||s instanceof Xi||s instanceof en||s instanceof un)break;n.push(s)}return n}static isAssignmentOperatorNode(e){return e instanceof Fr||e instanceof kr||e instanceof Qn||e instanceof Mr||e instanceof Br||e instanceof Cn}insertAutomaticStatementSeparators(e){let n=e.length,r=[];for(let i=0;i<n;i++){let s=e[i];if(wt.isAssignmentOperatorNode(s))if(i+2<n)if(e[i+2]instanceof ln){r.push(s),r.push(e[i+1]),r.push(e[i+2]),i+=2;continue}else{r.push(s),r.push(e[i+1]),r.push(new ln),i+=1;continue}else{r.push(s),r.push(e[i+1]),r.push(new ln);break}else r.push(s)}return e}createSemanticGroups(e){let n=[],r=e.length,i=[];for(let s=0;s<r;s++)if(e[s]instanceof ln){let a=new kt;a.nodes=i,a.separatorToken=e[s],n.push(a),i=[];continue}else if(i.push(e[s]),s+1>=r){let a=new kt;a.nodes=i,n.push(a);break}return n}findLogicalGroupEnd(e,n){let r=[],i=n.length,s=null,a=0,o=0;for(o;o<i;o++){let c=n[o];if(a+=1,c instanceof Yt){s=c;break}else if(c instanceof Zt){if(o+1>=i)return c.pushError(K.makeSyntaxError(D.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END,c,"Unexpected end of input while parsing input text.")),{found:!1,logicalGroup:null,skipCount:a};let f=this.findLogicalGroupEnd(c,n.slice(o+1));if(f.found){f.logicalGroup!=null&&r.push(f.logicalGroup),a+=f.skipCount,o+=f.skipCount;continue}else continue}else r.push(c)}if(s==null)return e.pushError(K.makeSyntaxError(D.TYPE_LOGIC_GROUP_NO_END,e,"Unexpected end of input while parsing logic group.")),{found:!1,logicalGroup:null,skipCount:a};let l=new wt;l.setIsRoot(!1);let u=new We;if(r.length>=2&&r[1]instanceof Dn){if(u=new br,u.scopeOperator=r[1],o+2<i&&n[o+1]instanceof Ne&&n[o+2]instanceof At&&n[o+1].name==tt.ScopeAs){let m=n[o+2];u=new xi,u instanceof xi&&(u.alias=m),a+=2}let c=r.splice(0,2);(u instanceof br||u instanceof xi)&&(u.scope=c[0])}return u.nodes=l.parse(r),u.start=e,u.end=s,u.startPosition=e.startPosition,u.endPosition=s.endPosition,u instanceof xi&&u.alias!=null&&(u.endPosition=u.alias.endPosition),{found:!0,logicalGroup:u,skipCount:a}}unpack(e){if(e.length==0)return[];if(e[0]instanceof kt){let n=e[0];return this.unpack(n.nodes)}return e}collectUntil(e){let n=e.length,r=[];for(let i=n-1;i>=0&&!wt.isAssignmentOperator(e[i]);i--){let s=e.pop();r.push(s)}if(r=r.reverse(),r.length>=3){let i=new wt;return i.setIsRoot(!1),{collectedTokens:this.unpack(i.parse(r)),tokens:e}}return{collectedTokens:r,tokens:e}}seek(e,n){for(let r=n;r<this.tokens.length;r++)if(this.tokens[r]instanceof e)return{found:!0,foundAt:r,node:this.tokens[r]};return{found:!1,foundAt:null,node:null}}};var qi=class{static findRightBeighboringNextPunctuation(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e+1;s<n.length;s++){let a=n[s];if(Z.ctypeSpace(a)&&(i=!0),i&&(Z.ctypeAlpha(a)||Z.ctypeDigit(a)))return null;if(Z.ctypePunct(a)||a==w.String_Terminator_SingleQuote||a==w.String_Terminator_DoubleQuote)return a}return null}static findRightNeighboringNextAlphaNumeric(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e+1;s<n.length;s++){let a=n[s];if((Z.ctypeSpace(a)||Z.ctypePunct(a)&&a!=w.Punctuation_Underscore)&&(i=!0),i&&(Z.ctypeAlpha(a)||Z.ctypeDigit(a)))return s+1}return null}static findLeftNeighboringNextPunctuation(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e-2;s>=0;s--){let a=n[s];if(Z.ctypeSpace(a)&&(i=!0),i&&(Z.ctypeAlpha(a)||Z.ctypeDigit(a)))return null;if(Z.ctypePunct(a))return a}return null}static findLeftNeighboringNextAlphaNumeric(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e-1;s>=0;s--){let a=n[s];if((Z.ctypeSpace(a)||Z.ctypePunct(a)&&a!=w.Punctuation_Underscore)&&(i=!0),i&&(Z.ctypeAlpha(a)||Z.ctypeDigit(a)))return s+1}return null}static scanWordAt(e,n,r=4){if(n=n.replace("	"," ".repeat(r)),e<0||e>n.length)return null;let i=[],s=[];for(let a=e-1;a>=0;a--){let o=n[a];if(Z.ctypePunct(o)&&o!=w.Punctuation_Underscore||Z.ctypeSpace(o))break;i.push(o)}for(let a=e;a<n.length;a++){let o=n[a];if(Z.ctypePunct(o)&&o!=w.Punctuation_Underscore||Z.ctypeSpace(o))break;s.push(o)}return i.reverse().join("")+s.join("")}};var nm=class{constructor(e){this.parser=e}findParentWithName(e,n){let r=n.parent;for(;r!=null;){if(r instanceof z&&r.nameMatches(e))return r;if(r.parent==r)break;r=r.parent}return null}};var rm=class{static analyzeModifierNodeParameters(e){var r,i,s,a;if(e.parameters.forEach(o=>{var l,u,c,f;o.isModifierParameter=(u=(l=xt.instance)==null?void 0:l.hasModifier(o.name))!=null?u:!1,o.isModifierParameter&&(e.modifiers.parameterModifiers.push(o),o.modifier=(f=(c=xt.instance)==null?void 0:c.getModifier(o.name))!=null?f:null,e.modifiers.modifierNames.includes(o.name)==!1&&e.modifiers.modifierNames.push(o.name))}),e.modifierChain!=null&&e.modifierChain.modifierChain.length>0){let o=null;e.modifierChain.modifierChain.forEach(l=>{var u,c;l.nameNode!=null&&(l.modifier=(c=(u=xt.instance)==null?void 0:u.getModifier(l.nameNode.content))!=null?c:null,e.modifiers.modifierNames.includes(l.nameNode.content)==!1&&e.modifiers.modifierNames.push(l.nameNode.content),l.modifier!=null&&(o=l.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=l)))}),e.modifierChain.lastModifier=o,e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}e.runtimeNodes.length>0&&e.runtimeNodes.forEach(o=>{if(o.modifierChain!=null&&o.modifierChain.modifierChain.length>0){let l=null;o.modifierChain.modifierChain.forEach(u=>{var c,f;u.nameNode!=null&&(u.modifier=(f=(c=xt.instance)==null?void 0:c.getModifier(u.nameNode.content))!=null?f:null,e.modifiers.modifierNames.includes(u.nameNode.content)==!1&&e.modifiers.modifierNames.push(u.nameNode.content),u.modifier!=null&&(l=u.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=u)))}),e.modifierChain!=null&&(e.modifierChain.lastModifier=l),e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}});let n=e.modifiers.getLastManifestedModifier();if(n!=null)if(n.name=="macro"){let o=e.modifiers.getLastManifestedModifierValue();e.manifestType=(i=(r=xt.instance)==null?void 0:r.getMacroManifestingType(o))!=null?i:""}else e.manifestType=(a=(s=xt.instance)==null?void 0:s.getProbableReturnType(n,e.isPaired()))!=null?a:""}};function im(t){return t==null?!1:t=='"'||t=="'"}function R0(t,e){for(t.getCurrentIndex();t.getCurrentIndex()<t.inputLength()&&(t.checkCurrentOffsets(),e&&t.pushChar(t.getCurrent()),t.getCurrent()!=w.NewLine);t.incrementIndex());}function w0(t,e){for(t.getCurrentIndex();t.getCurrentIndex()<t.inputLength();t.incrementIndex())if(t.checkCurrentOffsets(),e&&t.pushChar(t.getCurrent()),t.getCurrent()==w.Punctuation_Asterisk&&t.getNext()==w.Punctuation_ForwardSlash){e&&t.pushChar(w.Punctuation_ForwardSlash),t.incrementIndex(),t.checkCurrentOffsets();break}}function sm(t){let e=t.getCurrent();for(t.incrementIndex(),t.getCurrentIndex();t.getCurrentIndex()<t.inputLength()&&(t.checkCurrentOffsets(),!(t.getCurrent()==e&&t.getPrev()!=w.String_EscapeCharacter));t.incrementIndex());}var am=class{constructor(){this.content="";this.nodeIndex=[];this.fragmentStartIndex=[];this.charLen=0;this.documentOffsets=new Map;this.inputLen=0;this.seedOffset=0;this.shiftLine=0;this.chars=[];this.currentIndex=0;this.lastDocumentOffsetKey=null;this.cur=null;this.next=null;this.prev=null;this.chunkSize=5;this.currentChunkOffset=0;this.fragments=[];this.isScript=!1;this.fragmentOpeningIndex=new Map;this.indexedFragments=new Map;this.embeddedIndexedFragments=new Map}updateIndex(e){this.currentIndex=e}inputLength(){return this.inputLen}incrementIndex(){this.currentIndex+=1}getCurrentIndex(){return this.currentIndex}getCurrent(){return this.cur}getNext(){return this.next}getPrev(){return this.prev}pushChar(e){}getChar(e){return this.chars[e]}getSeedOffset(){return this.seedOffset}setDocumentOffsets(e,n){return this.documentOffsets=e,this.lastDocumentOffsetKey=n,this}getClosingFragmentAfter(e){if(typeof e=="undefined")return null;let n=e.name.toLowerCase();for(let r=0;r<this.fragments.length;r++){let i=this.fragments[r];if(i.isClosingFragment&&!i.isSelfClosing&&i.name.toLowerCase()==n&&i.index>e.index)return i}return null}getContentSubstring(e,n){return this.content.substr(e,n)}resetState(){return this.fragments=[],this.inputLen=0,this.fragmentStartIndex=[],this.fragmentOpeningIndex.clear(),this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.seedOffset=0,this.cur=null,this.next=null,this.prev=null}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let o=this.documentOffsets.get(e);i=o.line,s=o.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let o=null,l=null,u=null,c=null;for(let f of this.documentOffsets.keys()){if(f>=e){c!=null&&e>c?(o=u,l=c):(o=this.documentOffsets.get(f),l=f);break}u=this.documentOffsets.get(f),c=f}o==null&&(o=u,l=c),o!=null?(s=e-(l!=null?l:0),i=o.line,e<=(l!=null?l:0)?(i=o.line,s=e+1):i=o.line+1):this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new Fn;return a.index=n,a.offset=e,a.line=i+this.shiftLine,a.char=s,a}getFragments(){return this.fragments}getFragmentsBetween(e,n){let r=[];return this.fragments.forEach(i=>{var o,l,u,c;let s=(l=(o=i.startPosition)==null?void 0:o.index)!=null?l:0,a=(c=(u=i.endPosition)==null?void 0:u.index)!=null?c:0;s>e&&a<n&&r.push(i)}),r}getFragmentContaining(e){var n,r,i,s;for(let a=0;a<this.fragments.length;a++){let o=this.fragments[a];if(((r=(n=o.startPosition)==null?void 0:n.index)!=null?r:0)<e.index&&((s=(i=o.endPosition)==null?void 0:i.index)!=null?s:0)>e.index)return o}return null}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let n=Z.split(Z.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),n.forEach(r=>{this.chars.push(r),this.charLen+=1})}e&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}}processInputText(e){this.content=e,this.inputLen=this.content.length;let n=[...this.content.matchAll(/(<(?!\?[php|?=]))/gm)],r=[];n.forEach(i=>{var a;let s=(a=i.index)!=null?a:0;for(let o=0;o<this.nodeIndex.length;o++){let l=this.nodeIndex[o];if(s>=l.start&&s<=l.end)return}r.push(s)}),this.fragmentStartIndex=r}setIndexRanges(e){return this.nodeIndex=e,this}fetchAt(e,n){return this.content.substr(e,n)}getFragmentsContainingStructures(){let e=[];return this.fragments.forEach(n=>{let r=n.name.toLowerCase();if(!(r!="script"&&r!="style")&&!n.isClosingFragment&&!n.isSelfClosing&&n.containsStructures){let i=this.getClosingFragmentAfter(n);i!=null&&e.push({start:n,end:i})}}),e}parse(e){if(this.resetState().processInputText(e),this.fragmentStartIndex.length==0)return[];for(let s=0;s<this.fragmentStartIndex.length;s++){let a=this.fragmentStartIndex[s];if(this.resetIntermediateState(),this.seedOffset=a,this.currentChunkOffset=a,this.parseIntermediateText(),this.isScript){let o=!1;for(let l=s+1;l<this.fragmentStartIndex.length;l++){let u=this.fragmentStartIndex[l];if(this.fetchAt(u,8).toLowerCase()=="<\/script"){s=l-1,this.isScript=!1,o=!0;break}}if(!o)break}}let r=0,i=0;return this.fragments.forEach(s=>{let a=s.name.toLowerCase();(a=="script"||a=="style")&&(s.embeddedIndex=i,this.embeddedIndexedFragments.set(i,s),i+=1),s.index=r,this.indexedFragments.set(r,s),r+=1}),this.fragments}getFragment(e){return this.indexedFragments.get(e)}getEmbeddedFragment(e){return this.embeddedIndexedFragments.has(e)?this.embeddedIndexedFragments.get(e):null}hasFragments(){return this.fragments.length>0}skipToEndOfPhp(){for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),im(this.cur)&&sm(this),this.cur==w.Punctuation_ForwardSlash&&this.next==w.Punctuation_ForwardSlash){R0(this,!0);continue}if(this.cur==w.Punctuation_ForwardSlash&&this.next==w.Punctuation_Asterisk){w0(this,!0);continue}if(this.cur==w.Punctuation_Question&&this.next==w.Punctuation_GreaterThan||this.next==null)break}}parseIntermediateText(){this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length;let e=this.currentIndex,n=[],r=[],i=!1,s=!1;for(this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),Z.ctypeSpace(this.cur)&&(i=!0),this.next==w.Punctuation_LessThan){let a=1;this.cur==w.Punctuation_ForwardSlash&&(a=2);let o=this.fetchAt(this.currentChunkOffset+a,5);if(o.toLowerCase()=="<?php"||o.startsWith("<?=")){this.skipToEndOfPhp();continue}}if(this.currentIndex>0&&this.cur==w.Punctuation_LessThan||this.next==null&&this.cur!=w.Punctuation_GreaterThan)break;if(!i&&this.cur==w.Punctuation_LessThan&&this.next==w.Punctuation_ForwardSlash&&(s=!0),!i&&this.cur!=w.Punctuation_LessThan&&this.cur!=w.Punctuation_ForwardSlash&&this.cur!=w.Punctuation_GreaterThan&&r.push(this.cur),im(this.cur)){let a=this.currentIndex;sm(this);let o=new ep;o.startPosition=this.positionFromOffset(a+this.seedOffset,a+this.seedOffset),o.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset);let l=a+this.seedOffset,u=this.currentIndex+this.seedOffset+1;o.content=this.content.substr(l,u-l);let c=[];for(let f=a-2;f>=0;f--){let m=this.chars[f];if(Z.ctypeSpace(m))break;c.push(m)}o.name=c.reverse().join(""),n.push(o);continue}if(this.cur==w.Punctuation_ForwardSlash&&this.next==w.Punctuation_GreaterThan){let a=new du;a.startPosition=this.positionFromOffset(e+this.seedOffset,e+this.seedOffset),a.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset+1,this.currentIndex+this.seedOffset+1),a.parameters=n,a.isSelfClosing=!0,a.name=r.join(""),a.isClosingFragment=s,this.fragments.push(a),s?this.fragmentOpeningIndex.set(a.startPosition.index+1,1):this.fragmentOpeningIndex.set(a.startPosition.index,1);break}if(this.cur==w.Punctuation_GreaterThan){let a=new du;a.startPosition=this.positionFromOffset(e+this.seedOffset,e+this.seedOffset),a.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),a.parameters=n,a.name=r.join(""),a.isClosingFragment=s,this.fragments.push(a),s?this.fragmentOpeningIndex.set(a.startPosition.index+1,1):this.fragmentOpeningIndex.set(a.startPosition.index,1),a.name.toLowerCase()=="script"&&a.isClosingFragment==!1&&(this.isScript=!0);break}}}};var om=class{constructor(e,n){this.documentParser=e,this.fragmentsParser=n}doesContainFragments(e){var i,s,a,o,l;let n=(s=(i=e.endPosition)==null?void 0:i.index)!=null?s:0,r=(l=(o=(a=e.isClosedBy)==null?void 0:a.startPosition)==null?void 0:o.index)!=null?l:0;return this.fragmentsParser.getFragmentsBetween(n,r).length>0}analyze(){let e=this.documentParser.getNodes();!this.fragmentsParser.hasFragments()||(this.fragmentsParser.getFragments().forEach(n=>{let r=n.name.toLowerCase();if(n.isClosingFragment==!1&&n.isSelfClosing==!1&&(r=="script"||r=="style")){let i=this.fragmentsParser.getClosingFragmentAfter(n);if(i==null)return;n.endPosition!=null&&i.startPosition!=null&&this.documentParser.getNodesBetween(n.endPosition,i.startPosition).forEach(a=>{(a instanceof Nn||a instanceof z&&a.isClosedBy!=null)&&(n.containsStructures=!0),r=="style"?a.isInStyleTag=!0:a.isInScriptTag=!0})}}),e.forEach(n=>{var a,o,l,u,c,f;if(n instanceof gt||n.startPosition==null)return;n instanceof z&&(Hn.isConditionalStructure(n)||!n.isClosingTag)&&n.isClosedBy!=null&&(n.containsAnyFragments=this.doesContainFragments(n));let r=this.fragmentsParser.getFragmentContaining(n.startPosition);if(r==null){n.fragmentPosition=3;return}if(n.fragment=r,n.startPosition.index-((o=(a=r.startPosition)==null?void 0:a.index)!=null?o:0)<=3){n.fragmentPosition=0;return}if(r.parameters.length==0){n.fragmentPosition=2;return}let s=!1;for(let m=0;m<r.parameters.length;m++){let y=r.parameters[m];if(((u=(l=y.startPosition)==null?void 0:l.index)!=null?u:0)<n.startPosition.index&&((f=(c=y.endPosition)==null?void 0:c.index)!=null?f:0)>n.startPosition.index){n.fragmentPosition=1,n.fragmentParameter=y,s=!0;break}}s||(n.fragmentPosition=2)}))}};var lm=class{static analyze(e){e.forEach(n=>{var r,i,s,a,o,l;if(n instanceof z){if(n.prev instanceof z&&n.isPaired()&&n.prev.isInlineAntlers==!0){n.isInlineAntlers=!1,n.isClosedBy!=null&&(n.isClosedBy.isInlineAntlers=!1);return}let u=!1,c=!1;if(n.next==null)u=!0;else if(n.next instanceof gt){let f=Z.getFirstLine(n.next.content);(n.next.next==null&&f.trim().length==0||Z.trimLeft(f," 	").startsWith(`
`)==!1&&f.trim().length>0||n.next.next instanceof on||n.next.next instanceof z&&(n.next.next.isPaired()==!1||((i=(r=n.next.next.startPosition)==null?void 0:r.line)!=null?i:0)!=((a=(s=n.startPosition)==null?void 0:s.line)!=null?a:0)))&&(u=!0)}else n.next instanceof z&&n.next.isPaired()&&(u=!0);if(n.prev==null)c=!0;else if(n.prev instanceof gt){let f=Z.getLastLine(n.prev.content);Z.trimRight(f," 	").endsWith(`
`)==!1&&f.trim().length>0||n.prev.prev instanceof on?c=!0:n.prev.prev instanceof z&&(n.prev.prev.isInlineAntlers&&((o=n.prev.prev.endPosition)==null?void 0:o.line)==((l=n.startPosition)==null?void 0:l.line)?c=!0:n.prev.prev.isClosingTag&&n.prev.prev.isOpenedBy!=null&&(n.prev.prev.isOpenedBy instanceof on||n.prev.prev.runtimeName()=="noparse")&&(n.prev.prev.isInlineAntlers=!0,c=!0))}else n.prev instanceof z&&n.prev.isPaired()&&(c=!0);n.isInlineAntlers=u&&c}})}};var qe=class{constructor(){this.interpolationRegions=new Map;this.nodeParser=new Jd;this.chars=[];this.charLen=0;this.lastAntlersNode=null;this.content="";this.originalContent="";this.currentIndex=0;this.currentContent=[];this.sourceContent=[];this.startIndex=0;this._recoveryStartIndex=0;this.cur=null;this.next=null;this.prev=null;this.nodes=[];this.renderNodes=[];this.isInterpolatedParser=!1;this.inputLen=0;this.documentOffsets=new Map;this.lineIndex=new Map;this.lastDocumentOffsetKey=null;this.isDoubleBrace=!1;this.interpolationEndOffsets=new Map;this.isScanningInterpolations=!1;this.seedStartLine=1;this.seedStartchar=1;this.frontMatterEndLine=-1;this.lastAntlersEndIndex=-1;this.seedOffset=0;this.antlersStartIndex=[];this.antlersStartPositionIndex=new Map;this.chunkSize=5;this.maxLine=1;this.currentChunkOffset=0;this.isNoParse=!1;this.antlersErrors=[];this.structureErrors=[];this.languageParser=new wt;this.documentPath=null;this.pushedErrors=new Map;this.frontMatter="";this.shiftLine=0;this.doesHaveUncloseIfStructures=!1;this.doesHaveUnclosedStructures=!1;this.parseChildDocuments=!1;this.structuralErrorCodes=[D.TYPE_PARSE_UNCLOSED_CONDITIONAL,D.TYPE_PARSE_UNPAIRED_CONDITIONAL,D.TYPE_RECURSIVE_UNPAIRED_NODE,D.TYPE_RUNTIME_FATAL_UNPAIRED_LOOP_END,D.TYPE_UNPAIRED_CLOSING_TAG];this.structure=new nm(this);this.fragmentsParser=new am,this.fragmentsAnalyzer=new om(this,this.fragmentsParser)}withChildDocuments(e){return this.parseChildDocuments=e,this}shouldParseChildDocument(){return this.parseChildDocuments}hasUnclosedIfStructures(){return this.doesHaveUncloseIfStructures}hasUnclosedStructures(){return this.doesHaveUnclosedStructures}getFrontMatter(){return this.frontMatter}setDocumentPath(e){this.documentPath=e}getFrontMatterEndLine(){return this.frontMatterEndLine}pushError(e){(e.errorCode==D.TYPE_PARSE_UNCLOSED_CONDITIONAL||e.errorCode==D.TYPE_PARSE_UNPAIRED_CONDITIONAL)&&(this.doesHaveUncloseIfStructures=!0);let n=e.hash();this.pushedErrors.has(n)||(this.pushedErrors.set(n,e),this.antlersErrors.push(e),this.structuralErrorCodes.includes(e.errorCode)&&this.structureErrors.push(e))}getInterpolationRegions(){return this.interpolationRegions}getDocumentPath(){return this.documentPath}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let n=Z.split(Z.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),n.forEach(r=>{this.chars.push(r),this.charLen+=1})}e&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}}charLeftAt(e){return e==null||e.char<=1?null:this.charAt(this.positionFromCursor(e.line,e.char-1))}charLeftAtCursor(e,n){return this.charLeftAt(this.positionFromCursor(e,n))}charRightAt(e){return e==null?null:this.charAt(this.positionFromCursor(e.line,e.char+1))}charRightAtCursor(e,n){return this.charRightAt(this.positionFromCursor(e,n))}punctuationLeftAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:qi.findLeftNeighboringNextPunctuation(e.char,r,n)}punctuationLeftAtCursor(e,n,r=4){return this.punctuationLeftAt(this.positionFromCursor(e,n),r)}punctuationRightAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:qi.findRightBeighboringNextPunctuation(e.char,r,n)}punctuationRightAtCursor(e,n,r=4){return this.punctuationRightAt(this.positionFromCursor(e,n),r)}wordRightAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let i=qi.findRightNeighboringNextAlphaNumeric(e.char,r,n);return i==null?null:qi.scanWordAt(i,r,n)}wordRightAtCursor(e,n,r=4){return this.wordRightAt(this.positionFromCursor(e,n),r)}wordLeftAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let i=qi.findLeftNeighboringNextAlphaNumeric(e.char,r,n);return i==null?null:qi.scanWordAt(i,r,n)}wordLeftAtCursor(e,n,r=4){return this.wordLeftAt(this.positionFromCursor(e,n),r)}wordAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:qi.scanWordAt(e.char,r,n)}getLineText(e){let n=this.getLineIndex(e);return n!=null?Z.trimRight(this.getContent().substring(n.start,n.end+1)):null}wordAtCursor(e,n,r=4){return this.wordAt(this.positionFromCursor(e,n),r)}charAt(e){return e==null?null:this.content.substr(e.offset,1)}getLinesAround(e){var s;let n=new Map,r=e-3,i=e+3;r<1&&(r=1),i>this.maxLine&&(i=this.maxLine);for(let a=r;a<=i;a++)n.set(a,(s=this.getLineText(a))!=null?s:"");return n}charAtCursor(e,n){return this.charAt(this.positionFromCursor(e,n))}getLineIndex(e){if(e==this.maxLine){let r=this.lineIndex.get(e-1);if(r!=null){let i=r.endIndex+1;return{end:this.inputLen-1,start:i}}return null}let n=this.lineIndex.get(e);return n!=null?{start:n.startIndex,end:n.endIndex}:null}positionFromCursor(e,n){if(e==this.maxLine){let i=this.lineIndex.get(e-1);if(i!=null){let s=i.endIndex+1,a=s+(n-1),o=new Fn;return o.offset=a,o.line=e,o.char=n,o.index=a,o}return null}let r=this.lineIndex.get(e);if(r!=null){let i=new Fn;return i.offset=r.startIndex+(n-1),i.line=r.line,i.char=n,i.index=r.startIndex+(n-1),i}return null}parse(e){var u,c,f,m,y,p,d,g,h,b;if(this.resetState(),!this.processInputText(e))return[];let n=this.antlersStartIndex.length,r=n-1;if(n==0&&!this.isNoParse){let _=new gt;_.withParser(this),_.content=this.prepareLiteralContent(this.content),_.startPosition=this.positionFromOffset(0,0),_.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1),_.sourceContent=this.content,this.nodes.push(_)}else for(let _=0;_<n;_+=1){let N=this.antlersStartIndex[_];if(this.seedOffset=N,_==0&&N>0&&!this.isNoParse){let W=new gt;if(W.withParser(this),W.content=this.prepareLiteralContent(this.content.substr(0,N)),W.content.length>0){W.startPosition=this.positionFromOffset(0,0),W.endPosition=this.positionFromOffset(N,N-1);let L=(u=W.startPosition.index)!=null?u:0,M=W.endPosition.index+1;W.sourceContent=this.content.substr(L,M-L),this.nodes.push(W)}}if(N<this.lastAntlersEndIndex)continue;if(this.currentChunkOffset=N,this.resetIntermediateState(),this.parseIntermediateText(),this.lastAntlersNode!=null&&!(this.lastAntlersNode instanceof ba)&&this.lastAntlersNode.isComment&&!(this.lastAntlersNode instanceof Uo)&&_+1<n){let W=this.antlersStartPositionIndex.get(_+1);if(this.lastAntlersNode.endPosition!=null&&W<this.lastAntlersNode.endPosition.offset){let L=null;for(let M=_+1;M<n;M++)if(this.antlersStartIndex[M]>this.lastAntlersNode.endPosition.offset){L=M;break}if(L==null){let M=this.prepareLiteralContent(this.content.substr(this.lastAntlersNode.endPosition.offset+1));if(M.length>0&&!this.isNoParse){let H=new gt;H.withParser(this),H.content=M;let $=this.lastAntlersNode.endPosition.offset+1;H.startPosition=this.positionFromOffset($,$),H.endPosition=this.positionFromOffset(this.inputLen,this.inputLen);let ne=(c=H.startPosition.index)!=null?c:0,re=H.endPosition.index+1;H.sourceContent=this.content.substr(ne,re-ne),this.nodes.push(H)}break}else{let M=this.antlersStartIndex[L],H=M-this.lastAntlersNode.endPosition.offset-1;if(H>0){let $=this.lastAntlersNode.endPosition.offset,ne=M-1;$+=1,ne-=1;let re=this.content.substr($,H);if(re.length>0&&!this.isNoParse){let ye=new gt;ye.withParser(this),ye.content=re,ye.startPosition=this.positionFromOffset($,$),ye.endPosition=this.positionFromOffset(ne,ne);let Pe=(f=ye.startPosition.index)!=null?f:0,oe=ye.endPosition.index+1;ye.sourceContent=this.content.substr(Pe,oe-Pe),this.nodes.push(ye)}continue}_=L-1;continue}}}let C=!1;if(this.antlersStartPositionIndex.has(this.currentChunkOffset)?this.lastAntlersEndIndex<this.currentChunkOffset&&(C=!0):C=!0,C){if(_+1<n){let W=this.antlersStartIndex[_+1],L=this.lastAntlersEndIndex+1;if(W<L)if(this.lastAntlersEndIndex>W)_+2<n&&(W=this.antlersStartIndex[_+2]);else continue;if(_+1==r&&W<=this.lastAntlersEndIndex){if(this.isNoParse)break;let M=this.currentChunkOffset,H=this.content.substr(L),$=new gt;if($.withParser(this),$.content=this.prepareLiteralContent(H),$.content.length>0){$.startPosition=this.positionFromOffset(M,M),$.endPosition=this.positionFromOffset(W,W-1);let ne=(m=$.startPosition.index)!=null?m:0,re=$.endPosition.index+1;$.sourceContent=this.content.substr(ne+2,this.inputLen-ne+2),this.nodes.push($)}break}else{let M=W-this.lastAntlersEndIndex-1;if(M==0||this.isNoParse)continue;let $=this.currentChunkOffset;this.lastAntlersNode instanceof Uo&&(L=((p=(y=this.lastAntlersNode.endPosition)==null?void 0:y.offset)!=null?p:0)+1,M-=((g=(d=this.lastAntlersNode.endPosition)==null?void 0:d.offset)!=null?g:0)+1,$=L),this.lastAntlersNode instanceof ba&&(L-=1,M+=1);let ne=this.content.substr(L,M),re=new gt;if(re.withParser(this),re.content=this.prepareLiteralContent(ne),re.content.length>0){re.startPosition=this.positionFromOffset(L,L),re.endPosition=this.positionFromOffset(W,W-1);let ye=(h=re.startPosition.index)!=null?h:0,Pe=re.endPosition.index+1;re.sourceContent=this.content.substr(ye,Pe-ye),this.nodes.push(re)}}continue}if(_!==r&&this.lastAntlersNode!=null&&this.lastAntlersNode.endPosition!=null&&this.positionFromOffset(N,N).isBefore(this.lastAntlersNode.endPosition)){if(_+1<n){if(this.antlersStartIndex[_+1]<this.lastAntlersNode.endPosition.offset)continue}else if(_+1!=r)continue}if(_==r){let W=this.currentIndex+N;if(W<this.inputLen&&!this.isNoParse){let L=new gt;if(L.withParser(this),L.content=this.prepareLiteralContent(this.content.substr(W)),L.content.length>0){L.startPosition=this.positionFromOffset(W,W),L.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1);let M=(b=L.startPosition.index)!=null?b:0,H=L.endPosition.index+1;L.sourceContent=this.content.substr(M,H-M),this.nodes.push(L)}break}}}}let i=0;this.nodes.forEach(_=>{_.index=i,i+=1}),this.nodes.length>500&&(this.parseChildDocuments=!1),this.nodes.forEach(_=>{_ instanceof z&&_.isComment||_ instanceof z&&_.interpolationRegions.size>0&&(_.interpolationRegions.forEach((N,C)=>{let W=new qe;W.withChildDocuments(this.parseChildDocuments),W.setIsInterpolatedParser(!0);let L=W.parse(N.parseContent);L.length>1&&L[1]instanceof z&&(L=[L[1]]),W.hasUnclosedIfStructures()&&(this.doesHaveUncloseIfStructures=!0),W.hasUnclosedStructures()&&(this.doesHaveUnclosedStructures=!0),_.processedInterpolationRegions.set(C,L),this.mergeErrors(W.getAntlersErrors())}),_.hasProcessedInterpolationRegions=!0)}),this.content.length>0&&this.fragmentsParser.setIndexRanges(this.getNodeIndexRanges()).parse(this.content);let s=new Vc;this.renderNodes=s.associate(this.nodes,this),this.createChildDocuments(this.renderNodes);let a=null,o=null;for(let _=0;_<this.nodes.length;_++){let N=this.nodes[_];_+1<this.nodes.length?o=this.nodes[_+1]:o=null,N.next=o,N.prev=a,a=N}this.fragmentsAnalyzer.analyze(),lm.analyze(this.nodes),this.nodes.forEach(_=>{if(_ instanceof z&&_.isClosedBy!=null){let N=_.getImmediateChildren();for(let C=0;C<N.length;C++){let W=N[C];if(W instanceof z&&W.isClosedBy!=null){_.containsChildStructures=!0;break}else if(W instanceof Nn){_.containsChildStructures=!0;break}}}}),this.nodes.forEach(_=>{if(_ instanceof z&&_.isClosingTag&&_.isOpenedBy==null){let N="Unpaired closing tag.";_.isInterpolationNode&&(N+=" Tag pairs are not supported within Antlers tags."),_.pushError(K.makeSyntaxError(D.TYPE_UNPAIRED_CLOSING_TAG,_,N))}}),tm.associateRecursiveParent(this.nodes),this.nodes.forEach(_=>{var N;if(!(_ instanceof z&&_.isComment)&&((_ instanceof z||_ instanceof ht)&&(_.isInterpolationNode=this.isInterpolatedParser),(_ instanceof z||_ instanceof ht)&&_.interpolationRegions.size>0&&_.runtimeNodes.forEach(C=>{C instanceof Ne&&_.interpolationRegions.has(C.name)&&(C.isInterpolationReference=!0,C.interpolationNodes=_.processedInterpolationRegions.get(C.name))}),(_ instanceof z||_ instanceof ht)&&_.hasParameters&&_.interpolationRegions.size>0&&_.parameters.forEach(C=>{_.interpolationRegions.forEach((W,L)=>{C.value.includes(L)&&C.interpolations.push(L)})}),_ instanceof z&&_.runtimeNodes.length>0&&_.isClosingTag==!1&&!_.isComment&&(_.parsedRuntimeNodes=this.languageParser.parse(_.runtimeNodes),_.hasParsedRuntimeNodes=!0,!_.isTagNode&&_.parsedRuntimeNodes.length>0))){let C=_.nodeAtIndex(0);C!=null&&C instanceof Ne&&C.name==((N=_.name)==null?void 0:N.name)&&(_.modifierChain=C.modifierChain)}}),this.languageParser.getCreatedModifierChains().forEach(_=>{_.modifierChain.length>0&&_.modifierChain.forEach(N=>{var C,W;N.nameNode!=null&&xt.instance!=null&&xt.instance.hasModifier((C=N.nameNode)==null?void 0:C.name)&&(N.modifier=(W=xt.instance)==null?void 0:W.getModifier(N.nameNode.name))})});let l=1;return this.nodes.forEach(_=>{var N,C;if(_ instanceof z){if(_.isComment)return;_.isTagNode=(C=(N=En.instance)==null?void 0:N.isKnownTag(_.runtimeName()))!=null?C:!1,_.scopeName=_.findParameterValue("scope",""),_.antlersNodeIndex=l,l+=1,rm.analyzeModifierNodeParameters(_)}}),this.nodes.forEach(_=>{var N,C,W,L,M,H,$,ne;if(_ instanceof z&&_.isClosedBy!=null){let re=((C=(N=_.endPosition)==null?void 0:N.offset)!=null?C:0)+1,ye=(L=(W=_.isClosedBy.startPosition)==null?void 0:W.offset)!=null?L:0,Pe=(H=(M=_.startPosition)==null?void 0:M.offset)!=null?H:0,oe=((ne=($=_.isClosedBy.endPosition)==null?void 0:$.offset)!=null?ne:0)+1;_.documentText=this.content.substr(re,ye-re),_.nodeContent=this.content.substr(Pe,oe-Pe),this.parseChildDocuments&&(_.childDocument=$t.childFromText(_.documentText,bl(_.children)))}}),this.renderNodes}createChildDocuments(e){e.forEach(n=>{var r,i,s,a,o,l,u,c;if(n instanceof z&&n.isClosedBy!=null){let f=n.isClosedBy,m=((i=(r=n.startPosition)==null?void 0:r.index)!=null?i:0)-1,y=((a=(s=f.endPosition)==null?void 0:s.index)!=null?a:0)-m;if(n.documentText=this.content.substr(m,y),this.parseChildDocuments){let p=(l=(o=n.endPosition)==null?void 0:o.index)!=null?l:0,d=((c=(u=f.startPosition)==null?void 0:u.index)!=null?c:0)-1-p,g=this.content.substr(p,d);n.childDocument=$t.childFromText(g,bl(n.getChildren()))}}})}getNodeIndexRanges(){let e=[];return this.nodes.forEach(n=>{var r,i,s,a;n instanceof gt||e.push({start:(i=(r=n.startPosition)==null?void 0:r.index)!=null?i:0,end:(a=(s=n.endPosition)==null?void 0:s.index)!=null?a:0})}),e}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let o=this.documentOffsets.get(e);i=o.line,s=o.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let o=null,l=null,u=null,c=null;for(let f of this.documentOffsets.keys()){if(f>=e){c!=null&&e>c?(o=u,l=c):(o=this.documentOffsets.get(f),l=f);break}u=this.documentOffsets.get(f),c=f}if(o==null&&(o=u,l=c),o!=null)if(r){let f=this.content.split(""),m=e-(l!=null?l:0),y=o.char-(l!=null?l:0)+e;s=m,i=o.line,e<=(l!=null?l:0)?(i=o.line,s=e+1):i=o.line+1}else{let f=this.content.split(""),m=e-(l!=null?l:0),y=o.char-(l!=null?l:0)+e;s=m,i=o.line,e<=(l!=null?l:0)?(i=o.line,s=e+1):i=o.line+1}else this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new Fn;return a.index=n,a.offset=e,a.line=i+this.shiftLine,a.char=s,a}getLanguageParser(){return this.languageParser}getText(e,n){return this.content.substr(e,n-e)}getOriginalContent(){return this.originalContent}getContent(){return this.content}getFragments(){return this.fragmentsParser.getFragments()}getFragmentsParser(){return this.fragmentsParser}getFragmentsContainingStructures(){return this.fragmentsParser.getFragmentsContainingStructures()}setIsInterpolatedParser(e){return this.isInterpolatedParser=e,this}setStartLineSeed(e){return this.seedStartLine=e,this}setSeedStartChar(e){return this.seedStartchar=e,this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.currentContent=[],this.sourceContent=[],this.cur=null,this.next=null,this.prev=null}setSeedPosition(e){return e==null?this.shiftLine=0:this.shiftLine=e.line,this}resetState(){if(this.languageParser.reset(),this.charLen=0,this.antlersStartIndex=[],this.antlersErrors=[],this.pushedErrors.clear(),this.antlersStartPositionIndex.clear(),this.lastAntlersEndIndex=-1,this.renderNodes=[],this.nodes=[],ds.globalTagEnterStack.length>0){let e=ds.globalTagEnterStack[ds.length-1];e!=null&&e.endPosition!=null&&this.setStartLineSeed(e.endPosition.line)}this.seedOffset=0,this.isScanningInterpolations=!1,this.content="",this.chars=[],this.currentIndex=0,this.startIndex=0,this._recoveryStartIndex=0,this.cur=null,this.next=null,this.prev=null,this.inputLen=0,this.documentOffsets.clear(),this.isDoubleBrace=!1,this.interpolationRegions.clear(),this.interpolationEndOffsets.clear()}fetch(e){let n=this.currentChunkOffset+this.chunkSize-this.chars.length;return Z.substring(this.content,n,e)}getParsedContent(){return this.content}peek(e){if(e==this.charLen){let n=Z.split(Z.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,n.forEach(r=>{this.chars.push(r),this.charLen+=1})}return this.chars[e]}parseIntermediateText(){for(this.currentContent=[],this.sourceContent=[],this.startIndex=0,this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length,this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==qe.LeftBrace&&this.next==qe.LeftBrace&&this.prev==qe.AtChar){this.dumpLiteralNode(this.currentIndex);let e=new on;e.withParser(this),e.name=new qn,e.name.name="noparse",e.content="{{",e.startPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),e.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),this.nodes.push(e),this.currentContent=[],this.sourceContent=[],this.currentIndex+=1;continue}if((this.prev==null||this.prev!=null&&this.prev!=qe.AtChar)&&this.next!=null&&this.cur==qe.LeftBrace&&this.next==qe.LeftBrace){this.dumpLiteralNode(this.currentIndex);let e=null;if(this.currentIndex+2<this.inputLen&&(e=this.peek(this.currentIndex+2)),e==qe.Punctuation_Question&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(qe.Punctuation_Question),this.isDoubleBrace=!1;break}if(e==qe.Punctuation_Dollar&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(qe.Punctuation_Dollar),this.isDoubleBrace=!1;break}if(e==qe.Punctuation_Octothorp&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersCommentRegion(),this.isDoubleBrace=!1;break}if(!this.isNoParse)this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1;else if(this.fetch(11).replace(" ","").toLocaleLowerCase().startsWith("{{/noparse")){this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1,this.isNoParse=!1;break}else{this.currentContent.push(this.cur);continue}break}if(this.cur==qe.AtChar&&this.next!=null&&this.next==qe.LeftBrace){if(this.currentIndex+2>=this.inputLen){this.appendContent(this.next),this.dumpLiteralNode(this.currentIndex+1);break}let e=0;for(let n=this.currentIndex+1;n<this.inputLen&&this.chars[n]==qe.LeftBrace;n+=1)e+=1;this.currentContent=this.currentContent.concat(qe.LeftBrace.repeat(e).split("")),this.sourceContent=this.currentContent.concat(qe.LeftBrace.repeat(e).split("")),this.currentIndex+=e}this.appendContent(this.cur),this.next==null&&this.currentContent.length>0&&this.dumpLiteralNode(this.currentIndex)}}getRenderNodes(){return this.renderNodes}processInputText(e){var f;if(this.originalContent=e,this.content=Z.normalizeLineEndings(e),this.inputLen=this.content.length,this.content.startsWith("---")){let m=this.content.split(`
`),y=[],p=[];p.push("");for(let d=1;d<m.length;d++){let g=m[d];if(g.startsWith("---")){p.push(""),p=p.concat(m.slice(d+1)),this.content=p.join(`
`),this.frontMatter=y.join(`
`),this.frontMatterEndLine=d+1;break}else y.push(g),p.push("")}}let n=[...this.content.matchAll(/(\n)/gm)],r=n.length,i=this.seedStartLine,s=null,a=0,o=0;for(let m=0;m<r;m++){let y=n[m],p=(f=y.index)!=null?f:0,d=p;s!=null?d=p-s:d=d+1,this.documentOffsets.set(p,{char:d,line:i});let g=0,h=0;m==0?(h=d-1,g=0):(g=o+1,h=p),this.lineIndex.set(i,{char:d,line:i,startIndex:g,endIndex:h}),this.lastDocumentOffsetKey=p,this.maxLine=i,i+=1,s=p,o=h,a=g}this.maxLine+=1;let l=[...this.content.matchAll(/@?{{/gm)],u=0,c=!1;return l.forEach(m=>{let y=m[0];if(y.startsWith(qe.AtChar)){u=this.content.indexOf(y,u)+2,c=!0;return}let p=this.content.indexOf(y,u);if(c&&u==p){u=p;return}this.antlersStartIndex.push(p),this.antlersStartPositionIndex.set(p,1),u=p+2,c=!1}),!0}prepareLiteralContent(e){return e.replace("@{{","{{")}scanToEndOfPhpRegion(e){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==e&&this.next!=null&&this.next==qe.RightBrace&&this.peek(this.currentIndex+2)==qe.RightBrace){let r=this.makeAntlersPhpNode(this.currentIndex,e==qe.Punctuation_Dollar);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.startIndex=this.currentIndex,this._recoveryStartIndex=this.startIndex,this.nodes.push(r),this.lastAntlersNode=r;break}if(this.appendContent(this.cur),this.next==null){let n=this.makeAntlersPhpFailedNode(this.currentIndex);this.nodes.push(n),this.lastAntlersNode=n,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(K.makeSyntaxError(D.TYPE_INCOMPLETE_PHP_EVALUATION_REGION,n,"Unexpected end of input while parsing Antlers PHP region."));break}}}appendContent(e){e!=null&&(this.currentContent.push(e),this.sourceContent.push(e))}scanToEndOfAntlersCommentRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==qe.Punctuation_Octothorp&&this.next!=null&&this.next==qe.RightBrace&&this.peek(this.currentIndex+2)==qe.RightBrace){let n=this.makeAntlersTagNode(this.currentIndex,!0);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.nodes.push(n),this.lastAntlersNode=n;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersCommentFailedNode(this.currentIndex);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(K.makeSyntaxError(D.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION,e,"Unexpected end of input while parsing Antlers comment region."));break}}}scanToEndOfInterpolatedRegion(){this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0);let e=[];this.isScanningInterpolations=!0;let n=0;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.checkCurrentOffsets(),this.cur==qe.LeftBrace){if(this.prev==qe.AtChar){e.push(this.cur);continue}n+=1,e.push(this.cur)}else if(this.cur==qe.RightBrace){if(this.prev==qe.AtChar){e.push(this.cur);continue}if(n-=1,e.push(this.cur),n==0){this.interpolationEndOffsets.set(this.currentIndex,1);break}}else this.cur!=null&&e.push(this.cur);let r=e.join(""),s=("int_"+O0.Md5.hashStr(r)).substr(0,r.length),a=s.length,o=r.length;if(a<o){let l=o-a;s+="x".repeat(l)}return this.isScanningInterpolations=!1,{content:r,varContent:s}}bordersInterpolationRegion(e){if(this.interpolationEndOffsets.size==0)return!1;let n=e.offset-1;return n<=0?!1:this.interpolationEndOffsets.has(n)}getParseableContent(e){let n="";for(let r=0;r<=e;r++)this.content[r]==qe.LeftBrace||this.content[r]==qe.RightBrace?n+="~":n+=this.content[r];return n}scanToEndOfAntlersRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==qe.LeftBrace&&this.prev==qe.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.isInterpolatedParser&&this.cur==qe.RightBrace&&this.prev==qe.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.cur==qe.LeftBrace){let e=this.scanToEndOfInterpolatedRegion(),n=this.currentIndex+this.seedOffset,r=n-e.content.length,i=this.getParseableContent(r-1);ds.interpolatedVariables.push(e.varContent),this.currentContent=this.currentContent.concat(e.varContent.split("")),this.sourceContent=this.sourceContent.concat(e.content.split(""));let s=i+"{"+e.content+"}";this.interpolationRegions.set(e.varContent,{content:e.content,parseContent:s,varContent:e.varContent,startOffset:r,endOffset:n});continue}if(this.cur==qe.RightBrace&&this.next!=null&&this.next==qe.RightBrace){let e=this.makeAntlersTagNode(this.currentIndex,!1);e.name!=null&&e.name.name=="noparse"&&(this.isNoParse=!0),this.currentIndex+=2,this.nodes.push(e),this.lastAntlersNode=e;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersFailedNode(this.currentIndex,!1);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0;let n="Unexpected end of input while parsing Antlers region.";this.isScanningInterpolations&&(n="Unexpected end of input wihle parsing interpolated Antlers region."),this.antlersErrors.push(K.makeSyntaxError(D.TYPE_INCOMPLETE_ANTLERS_REGION,e,n));break}}}makeAntlersPhpNode(e,n){let r=new ba;return n?(r.rawStart="{{$",r.rawEnd="$}}"):(r.rawStart="{{?",r.rawEnd="?}}"),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+3>this.inputLen?(r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(K.makeSyntaxError(D.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r):(this.lastAntlersEndIndex=e+3+this.seedOffset,r.endPosition=this.positionFromOffset(e+this.seedOffset,e+3+this.seedOffset),r)}makeAntlersPhpFailedNode(e){let n=new np;n.rawStart="{{$",n.rawEnd="$}}",n._isEndVirtual=!0,n.content=this.currentContent.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let r=this.getLineText(n.startPosition.line),i=this.getLineIndex(n.startPosition.line);if(r!=null){let a=r.substr(this._recoveryStartIndex);n.content=a,n.sourceContent=a}let s=e+this.seedOffset;return i!=null&&(this.currentIndex=i.end,s=i.end),n.endPosition=this.positionFromOffset(s,s),n}makeAntlersCommentFailedNode(e){let n=new Uo;this.isDoubleBrace?(n.rawStart="{{",n.rawEnd="}}"):(n.rawStart="{",n.rawEnd="}"),n._isEndVirtual=!0;let r=!1,i=this.currentContent.length;i>0&&this.currentContent[i-1]==qe.Punctuation_ForwardSlash&&(this.currentContent.pop(),r=!0),n.isComment=!0,n.isSelfClosing=r,n.withParser(this),n.content=this.currentContent.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let s=this.getLineText(n.startPosition.line),a=this.getLineIndex(n.startPosition.line);if(s!=null){let l=s.substr(this._recoveryStartIndex);n.content=l,n.sourceContent=l}let o=e+this.seedOffset;return a!=null&&(this.currentIndex=a.end,o=a.end),n.endPosition=this.positionFromOffset(o,o),n.interpolationRegions=new Map,this.interpolationRegions.forEach((l,u)=>{n.content.includes(u)&&n.interpolationRegions.set(u,l)}),n}makeAntlersFailedNode(e,n){let r=new ht;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}"),r._isEndVirtual=!0;let i=!1,s=this.currentContent.length;s>0&&this.currentContent[s-1]==qe.Punctuation_ForwardSlash&&(this.currentContent.pop(),i=!0),r.isComment=n,r.isSelfClosing=i,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let a=this.getLineText(r.startPosition.line),o=this.getLineIndex(r.startPosition.line);if(a!=null){let c=Z.trimLeft(this.content.substring(r.startPosition.offset+r.rawStart.length-1,o==null?void 0:o.end),"{");r.content=c,r.sourceContent=c}let l=e+this.seedOffset;o!=null&&(this.currentIndex=o.end,l=o.end),r.endPosition=this.positionFromOffset(l,l),r.interpolationRegions=new Map,this.interpolationRegions.forEach((c,f)=>{r.content.includes(f)&&r.interpolationRegions.set(f,c)});let u=this.nodeParser.parseNode(r);return this.mergeErrors(u.getErrors()),u}makeAntlersTagNode(e,n){let r=new z;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}");let i=!1,s=this.currentContent.length;if(s>0&&this.currentContent[s-1]==qe.Punctuation_ForwardSlash&&(this.currentContent.pop(),i=!0),r.isInterpolationNode=this.isInterpolatedParser,r.isComment=n,r.isSelfClosing=i,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+2>this.inputLen)return r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(K.makeSyntaxError(D.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r;if(n?this.lastAntlersEndIndex=e+2+this.seedOffset:this.lastAntlersEndIndex=e+1+this.seedOffset,r.endPosition=this.positionFromOffset(this.lastAntlersEndIndex,this.lastAntlersEndIndex),r.interpolationRegions=new Map,this.interpolationRegions.forEach((o,l)=>{r.content.includes(l)&&r.interpolationRegions.set(l,o)}),r.isComment)return r;let a=this.nodeParser.parseNode(r);return this.mergeErrors(a.getErrors()),a}mergeErrors(e){e.forEach(n=>{this.antlersErrors.push(n)})}getNodes(){return this.nodes}getNodesBetween(e,n){let r=[];return this.nodes.forEach(i=>{var s,a,o,l;((a=(s=i.startPosition)==null?void 0:s.offset)!=null?a:0)>e.offset&&((l=(o=i.endPosition)==null?void 0:o.offset)!=null?l:0)<n.offset&&r.push(i)}),r}antlersNodes(){return this.nodes.filter(function(e){return e instanceof z})}dumpLiteralNode(e){this.isNoParse||(this.currentContent.length>0&&this.nodes.push(this.makeLiteralNode(this.currentContent,this.startIndex,e)),this.currentContent=[],this.sourceContent=[])}makeLiteralNode(e,n,r){let i=new gt;return i.content=e.join(""),i.sourceContent=this.sourceContent.join(""),i.startPosition=this.positionFromOffset(n,n),i.endPosition=this.positionFromOffset(r,r),i.sourceContent=this.content.substr(n,r),i.withParser(this),i}addAntlersError(e){this.antlersErrors.push(e)}getAntlersErrors(){return this.antlersErrors}getStructureErrors(){return this.structureErrors}},w=qe;w.K_CHAR="char",w.K_LINE="line",w.NewLine=`
`,w.AtChar="@",w.LeftBrace="{",w.RightBrace="}",w.LeftBracket="[",w.RightBracket="]",w.String_EscapeCharacter="\\",w.String_Terminator_DoubleQuote='"',w.String_Terminator_SingleQuote="'",w.Punctuation_Question="?",w.Punctuation_Equals="=",w.Punctuation_Comma=",",w.Punctuation_Colon=":",w.Punctuation_Semicolon=";",w.Punctuation_Exclamation="!",w.Punctuation_Pipe="|",w.Punctuation_Ampersand="&",w.Punctuation_LessThan="<",w.Punctuation_GreaterThan=">",w.Punctuation_Octothorp="#",w.Punctuation_Tilde="~",w.Punctuation_FullStop=".",w.Punctuation_Dollar="$",w.Punctuation_Asterisk="*",w.Punctuation_Percent="%",w.Punctuation_Plus="+",w.Punctuation_Minus="-",w.Punctuation_Underscore="_",w.Punctuation_ForwardSlash="/",w.Punctuation_Caret="^",w.LeftParen="(",w.RightParent=")";var Ct=class{static findAssignmentNodes(e){let n=[];for(let r=0;r<e.length;r++)wt.isAssignmentOperatorNode(e[r])&&n.push(e[r]);return n}static findAbstractNodesBefore(e,n){return this.findAbstractNodesBeforePosition(e.startPosition,n)}static findAbstractNodesBeforePosition(e,n){if(e==null)return[];let r=[];for(let i=0;i<n.length;i++){let s=n[i];if(s.startPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static isBefore(e,n){return e.startPosition==null?!1:e.startPosition.index<n.index}static isAfter(e,n){return e.startPosition==null?!1:e.startPosition.index>n.index}static findNodesBeforePosition(e,n){let r=[];if(e==null)return r;for(let i=0;i<n.length;i++){let s=n[i];if(!Ct.isLiteralType(s)&&s.startPosition!=null&&s.endPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static findNodesAfterPosition(e,n){let r=[];if(e==null)return r;for(let i=0;i<n.length;i++){let s=n[i];Ct.isLiteralType(s)||s.startPosition!=null&&s.startPosition.index>e.index&&r.push(s)}return r}static findNodeBeforePosition(e,n){if(e==null)return null;let r=null;for(let i=0;i<n.length;i++){let s=n[i];if(!Ct.isLiteralType(s)&&s.startPosition!=null){if(s.startPosition.index>e.index)break;r=s}}return r}static findNodeAfterPosition(e,n){if(e==null)return null;for(let r=0;r<n.length;r++){let i=n[r];if(!Ct.isLiteralType(i)&&i.startPosition!=null&&i.startPosition.index>e.index)return i}return null}static findNodeAtPosition(e,n){if(e==null)return null;for(let r=0;r<n.length;r++){let i=n[r];if(!Ct.isLiteralType(i)&&i.startPosition!=null&&i.endPosition!=null&&e.index>=i.startPosition.index&&e.index<=i.endPosition.index)return i}return null}static isLiteralType(e){return e instanceof on||e instanceof gt}};var Tl=class{static isModifierLeftOf(e,n){return Tl.isModifierLeftOfPosition(e.startPosition,n)}static isModifierLeftOfPosition(e,n){let r=Ct.findAbstractNodesBeforePosition(e,n);for(let i=r.length-1;i>=0;i--){let s=r[i];if(s instanceof Zt||s instanceof Yt)return!1;if(s instanceof mn)return!0}return!1}};var vl=class{constructor(){this.isRightOfOperator=!1;this.isLeftOfOperator=!1}static resolveContext(e,n,r){let i=new vl;return r!=null&&(r.prev!=null&&wt.isOperatorType(r.prev)&&(i.isRightOfOperator=!0),r.next!=null&&wt.isOperatorType(r.next)&&(i.isLeftOfOperator=!0)),i}};var um=class{constructor(){this.inTagPart=!1;this.inMethodPart=!1}};var Nl=class{constructor(){this.modifierChain=null;this.activeModifier=null;this.name="";this.inModifierName=!1;this.inModifierParameter=!1;this.valueCount=0;this.activeValueIndex=-1;this.activeValue=null}static resolveContext(e,n,r,i){let s=n.getParser(),a=new Nl,o=s.getLanguageParser().getCreatedModifierChains(),l=null;for(let u=0;u<o.length;u++){let c=o[u];if(e.isWithin(c.startPosition,c.endPosition)){for(let f=0;f<c.modifierChain.length;f++){let m=c.modifierChain[f];if(e.isWithin(m.startPosition,m.endPosition)){l=m;break}}if(l!=null)break}}if(l==null&&r instanceof hn&&i.getDocumentParser().getLanguageParser().hasModifierConstruct(r)&&(l=i.getDocumentParser().getLanguageParser().getModifierConstruct(r)),l!=null)if(a.activeModifier=l,a.valueCount=l.valueNodes.length,l.nameNode!=null&&(a.name=l.nameNode.name),l.nameNode!=null&&e.isWithin(l.nameNode.startPosition,l.nameNode.endPosition,1))a.inModifierName=!0;else for(let u=0;u<l.valueNodes.length;u++){let c=l.valueNodes[u];if(e.isWithin(c.startPosition,c.endPosition,1)){a.activeValueIndex=u,a.inModifierParameter=!0,a.activeValue=c;break}}return a}};var Cl=class{constructor(){this.parameter=null;this.isInName=!1;this.isInValue=!1}static resolveContext(e,n){let r=new Cl;return r.parameter=n,e.isWithinRange(n.namePosition)?r.isInName=!0:e.isWithinRange(n.valuePosition)&&(r.isInValue=!0),r}};var cm=class{constructor(){this.refId="";this.node=null;this.leftPunctuation=null;this.rightPunctuation=null;this.leftChar=null;this.rightChar=null;this.word=null;this.char=null;this.interpolatedContext=!1;this.leftWord=null;this.rightWord=null;this.isCursorInIdentifier=!1;this.root=null;this.identifierContext=null;this.position=null;this.feature=null;this.isInParameter=!1;this.subContext=null;this.parameterContext=null;this.modifierContext=null;this.generalContext=null;this.variableContext=null;this.cursorContext=fm.Unknown;this.refId=ya()}},fm=(a=>(a[a.Unknown=0]="Unknown",a[a.Variable=1]="Variable",a[a.Modifier=2]="Modifier",a[a.Parameter=3]="Parameter",a[a.General=4]="General",a[a.LanguageOperator=5]="LanguageOperator",a))(fm||{});var Pl=class{constructor(){this.variableNode=null;this.varPathText=""}static resolveContext(e,n,r,i){var f;if(r==null)return null;let s=r,a=i.getDocumentParser().getLanguageParser(),o=new Pl,l=(f=i.wordAt(e))!=null?f:"";r instanceof St&&a.isMergedVariableComponent(r)==!1&&r.prev instanceof Ne&&(s=r.prev);let u="";if(a.isMergedVariableComponent(s)){let m=a.getMergedVariable(s);m.startPosition!=null&&(u=i.getText(m.startPosition.index,e.index).trim()),o.variableNode=m}else s instanceof Ne&&(o.variableNode=s,u=s.name,s.variableReference!=null&&(u=s.variableReference.normalizedReference));u.length>0&&(u=pr(u,"\\.",":"));let c=u.split(":");return l.trim().length>0&&c.pop(),u=c.join(":"),u.endsWith(":")&&(u=Zf(u,":")),o.varPathText=u,o}};var Vi=class{static resolveIdentifierContext(e,n){let r=new um;return n.nameMethodPartStartsOn!=null?e.char<n.nameMethodPartStartsOn.char?(r.inTagPart=!0,r.inMethodPart=!1):(r.inTagPart=!1,r.inMethodPart=!0):(r.inMethodPart=!1,r.inTagPart=!0),r}static resolveContext(e,n,r,i=!1,s=null){var a,o,l,u,c,f;if(n==null||e==null)return null;if(n instanceof $n||n instanceof z){let m=new cm;if(n.nameStartsOn!=null&&e.line==n.nameStartsOn.line){let d=!1;e.char>=n.nameStartsOn.char&&(d=!0),n.nameEndsOn!=null&&e.char>n.nameEndsOn.char&&(d=!1),d&&(m.isCursorInIdentifier=!0,m.identifierContext=Vi.resolveIdentifierContext(e,n))}n.addContext(m),s!=null&&s.addContext(m),m.interpolatedContext=i,m.node=n,m.position=e,m.root=s,m.leftPunctuation=r.punctuationLeftAt(e),m.rightPunctuation=r.punctuationRightAt(e),m.leftChar=r.charLeftAt(e),m.rightChar=r.charRightAt(e),m.word=r.wordAt(e),m.char=r.charAt(e),m.leftWord=r.wordLeftAt(e),m.rightWord=r.wordRightAt(e);let y=!1;if(n.parameters.length>0)for(let d=0;d<n.parameters.length;d++){let g=n.parameters[d];if(g.blockPosition!=null&&g.blockPosition.start!=null&&g.blockPosition.end!=null&&e.char>g.blockPosition.start.char&&e.char<=g.blockPosition.end.char+1&&e.line>=((l=(o=(a=g.namePosition)==null?void 0:a.start)==null?void 0:o.line)!=null?l:g.blockPosition.start.line)&&e.line<=((f=(c=(u=g.valuePosition)==null?void 0:u.end)==null?void 0:c.line)!=null?f:g.blockPosition.end.line)){m.cursorContext=3,m.parameterContext=Cl.resolveContext(e,g),m.isInParameter=!0,m.feature=g,y=!0;break}}if(y||n.runtimeNodes.forEach(d=>{d.startPosition!=null&&d.endPosition!=null&&e.isWithin(d.startPosition,d.endPosition,1)&&(m.feature=d)}),y&&n.interpolationRegions.size>0){let d=Array.from(n.interpolationRegions,([g,h])=>h);for(let g=0;g<d.length;g++){let h=d[g];if(e.index>=h.startOffset&&e.index<=h.endOffset){let b=n.getInterpolationNode(h.varContent);return Vi.resolveContext(e,b,r,!0,s)}}}return m.feature instanceof Ne&&m.feature.isInterpolationReference&&m.feature.parent!=null&&m.feature.parent instanceof z&&m.feature.parent.processedInterpolationRegions.has(m.feature.name)?Vi.resolveContext(e,m.feature.parent.getInterpolationNode(m.feature.name),r,!0,s):(Tl.isModifierLeftOfPosition(e,n.runtimeNodes)?(m.cursorContext=2,m.modifierContext=Nl.resolveContext(e,n,m.feature,r)):y||(m.cursorContext=4,m.generalContext=vl.resolveContext(e,n,m.feature)),m.variableContext=Pl.resolveContext(e,n,m.feature,r),m)}return null}};var $s=class{static isPairedNode(e){return e instanceof Nn?!0:e instanceof $n||e instanceof z?e.isClosedBy!=null:!1}static findAncestorsBeforePosition(e,n){var o,l,u,c,f,m;let r=[],i=[],s=-1,a=-1;for(let y=0;y<n.length;y++){let p=n[y];if(p.isClosedBy!=null&&((o=p.isClosedBy.endPosition)==null?void 0:o.isBefore(e))&&(i.push(p),i.push(p.isClosedBy),s=p.isClosedBy.endPosition.line,a=p.isClosedBy.endPosition.char),!(s>-1&&p.endPosition!=null&&(p.endPosition.line<s||p.endPosition.line==s&&a>-1&&p.endPosition.char<a))){if(p.startPosition!=null){if(e.isBefore(p.startPosition))break;if(p.startPosition.line==e.line&&e.char<=p.startPosition.char){i.push(p);continue}}if(((l=En.instance)==null?void 0:l.requiresClose(p))&&p.isClosedBy!=null){let d=p.isClosedBy;if((u=d.startPosition)==null?void 0:u.isBefore(e)){i.push(p),i.push(d);continue}else((c=d.startPosition)==null?void 0:c.line)==e.line&&((f=d.startPosition)==null?void 0:f.char)<e.char?i.push(p):r.push(p)}else if(p.parent!=null){let d=p.parent;if(i.includes(d)){i.push(p);continue}else((m=p.endPosition)==null?void 0:m.isBefore(e))?r.push(p):i.push(p)}else r.push(p)}}return r}};var pm=class{constructor(e){this.doc=e}getAncestorsAt(e,n){let r=this.position(e,n);return r==null?[]:$s.findAncestorsBeforePosition(r,this.doc.getAllAntlersNodes())}getNameAt(e,n){let r=this.getNodeAt(e,n);return r instanceof z?r.name:null}getScopeAt(e,n){let r=this.getNodeAt(e,n);return r instanceof z&&r.currentScope!=null?r.currentScope:null}getFeaturesAt(e,n){let r=this.position(e,n),i=this.getNodeAt(e,n);return Vi.resolveContext(r,i,this.doc,!1,i)}getNodeAt(e,n){return Ct.findNodeAtPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodeBefore(e,n){return Ct.findNodeBeforePosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodeAfter(e,n){return Ct.findNodeAfterPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodesBefore(e,n){return Ct.findNodesBeforePosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getAssignmentsBefore(e,n){let r=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),i=[],s=this.position(e,n);return s!=null&&r.forEach(a=>{Ct.isBefore(a.target,s)&&i.push(a)}),i}getAssignmentsAfter(e,n){let r=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),i=[],s=this.position(e,n);return s!=null&&r.forEach(a=>{Ct.isAfter(a.target,s)&&i.push(a)}),i}getNodesAfter(e,n){return Ct.findNodesAfterPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e,n){let r=this.getNodeBefore(e,n);return r==null?!1:$s.isPairedNode(r)}position(e,n){return this.doc.getDocumentParser().positionFromCursor(e,n)}charLeftAt(e,n){return this.doc.getDocumentParser().charLeftAtCursor(e,n)}charAt(e,n){return this.doc.getDocumentParser().charAtCursor(e,n)}charRightAt(e,n){return this.doc.getDocumentParser().charRightAtCursor(e,n)}wordLeftAt(e,n,r=4){return this.doc.getDocumentParser().wordLeftAtCursor(e,n,r)}wordRightAt(e,n,r=4){return this.doc.getDocumentParser().wordRightAtCursor(e,n,r)}wordAt(e,n,r=4){return this.doc.getDocumentParser().wordAtCursor(e,n,r)}punctuationLeftAt(e,n,r=4){return this.doc.getDocumentParser().punctuationLeftAtCursor(e,n,r)}punctuationRightAt(e,n,r=4){return this.doc.getDocumentParser().punctuationRightAtCursor(e,n,r)}};var dm=class{constructor(e){this.doc=e}hasStructureErrors(){return this.doc.getDocumentParser().getStructureErrors().length>0}getFirstStructureError(){return this.doc.getDocumentParser().getStructureErrors()[0]}hasAny(){return this.all().length>0}all(){let e=[],n=[];return this.doc.getAllAntlersNodes().forEach(r=>{r.getErrors().forEach(i=>{e.includes(i.hash())==!1&&(e.push(i.hash()),n.push(i))})}),this.doc.getDocumentParser().getAntlersErrors().forEach(r=>{e.includes(r.hash())==!1&&(e.push(r.hash()),n.push(r))}),n}};var Ev=je(Im());var Ln=je(Av(),1),TJ=Ln.default.binaryOptions,vJ=Ln.default.boolOptions,NJ=Ln.default.intOptions,CJ=Ln.default.nullOptions,PJ=Ln.default.strOptions,DJ=Ln.default.Schema,SJ=Ln.default.Alias,AJ=Ln.default.Collection,IJ=Ln.default.Merge,EJ=Ln.default.Node,Iv=Ln.default.Pair,wl=Ln.default.Scalar,Ol=Ln.default.YAMLMap,Co=Ln.default.YAMLSeq;var Em=class{constructor(e){this.documentScope=null;this.project=e}getKeyValue(e){return e instanceof wl?e.value:""}getNodeValue(e){return e instanceof wl?e.value:e instanceof Ol?this.analyzeDocument(e.items):e instanceof Co?this.analyzeDocument(e.items):""}getScalarRuntimeType(e){return parseFloat(e).toString()==e||parseInt(e).toString()==e?"number":"string"}analyzeDocument(e){let n=new rr(this.project);return e.forEach(r=>{if(r instanceof Iv){let i=this.getKeyValue(r.key),s=this.getNodeValue(r.value);if(r.value instanceof wl)n.addVariable({dataType:this.getScalarRuntimeType(s),introducedBy:null,name:i,sourceField:null,sourceName:"*frontmatter"});else if(r.value instanceof Co&&r.key instanceof wl){let a=new rr(this.project);r.value.items.forEach(o=>{let l=this.getNodeValue(o);a.addVariable({dataType:this.getScalarRuntimeType(l),introducedBy:null,name:o.value,sourceField:null,sourceName:"*frontmatter"})}),n.addScopeList(r.key.value,a)}else n.addScopeList(i,s)}}),n}parse(e){try{let n=Ev.parseDocument(e);n.contents instanceof Ol&&(this.documentScope=this.analyzeDocument(n.contents.items))}catch{this.documentScope=null}}hasScope(){return this.documentScope!=null}getScope(){return this.documentScope}};var xm=class{constructor(e){this.doc=e}getAncestors(e){return $s.findAncestorsBeforePosition(e,this.doc.getAllAntlersNodes())}getNodeAt(e){return Ct.findNodeAtPosition(e,this.doc.getDocumentParser().getNodes())}getNodesBefore(e){return Ct.findNodesBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeBefore(e){return Ct.findNodeBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeAfter(e){return Ct.findNodeAfterPosition(e,this.doc.getDocumentParser().getNodes())}getNodesAfter(e){return Ct.findNodesAfterPosition(e,this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e){let n=this.getNodeBefore(e);return n==null?!1:$s.isPairedNode(n)}filter(e){return this.doc.getDocumentParser().getNodes().filter(e)}getComments(){let e=[];return this.doc.getAllNodes().forEach(n=>{n instanceof z&&n.isComment&&e.push(n)}),e}getMultilineNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{var r,i;n instanceof z&&!n.isComment&&((r=n.startPosition)==null?void 0:r.line)!=((i=n.endPosition)==null?void 0:i.line)&&e.push(n)}),e}getMultiLineComments(){let e=[];return this.getComments().forEach(n=>{var r,i;((r=n.startPosition)==null?void 0:r.line)!=((i=n.endPosition)==null?void 0:i.line)&&e.push(n)}),e}getAllLiteralNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof gt||n instanceof on)&&e.push(n)}),e}getStructuralNodes(){let e=[];return this.doc.getDocumentParser().getRenderNodes().forEach(n=>{n instanceof z?e.push(n):n instanceof Nn&&n.logicBranches.length>0&&n.logicBranches.forEach(r=>{if(r.head!=null){let i=r.head;i.originalNode!=null?e.push(i.originalNode):e.push(i)}})}),e}getAllRuntimeNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof $n||n instanceof z)&&n.runtimeNodes.length>0&&n.runtimeNodes.forEach(r=>{e.push(r)})}),e}getAllParameterNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof $n||n instanceof z)&&n.hasParameters&&n.parameters.forEach(r=>{e.push(r)})}),e}getAssignmentNodes(){return Ct.findAssignmentNodes(this.getAllRuntimeNodes())}};var Rm=class{constructor(e){this.doc=e}getAllSelfClosingNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{n instanceof z&&n.isSelfClosing&&e.push(n)}),e}getAllPairedNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof z||n instanceof ht)&&n.isClosedBy!=null&&!n.isSelfClosing&&e.push(n)}),e}};var cf=class{static printComment(e,n,r){let i=e.getContent(),s=i.trim();if(s.includes(`
`)){let a=Z.breakByNewLine(i.trim()),o=[];a.forEach(c=>{o.push(" ".repeat(n+r)+c.trim())});let l=o.join(`
`),u=`{{#
`;return u+=l,u+=`
`+" ".repeat(r)+"#}}",u}return"{{# "+s+" #}}"}};var ta=class{static indentRelative(e,n){let r=Z.breakByNewLine(e),i=[];for(let o=0;o<r.length;o++)if(r[o].trim().length>0){i=r.slice(o);break}for(let o=i.length-1;o>=0&&i[o].trim().length==0;o--)i.pop();let s=-1,a="";for(let o=0;o<i.length;o++){let l=i[o],u=l.trimLeft(),c=l.length-u.length;(o==0||c<s)&&(s=c,a=l)}if(s>=0){let o=" ".repeat(n);for(let l=0;l<i.length;l++){let u=i[l];if(u.trim().length==0){i[l]="";continue}let c=u.substring(s);if(l==0){i[l]=u.trimLeft();continue}else i[l]=o+c.trimLeft()}}return i.join(`
`)}static shiftIndent(e,n,r=!1,i=4,s=!0){n<0&&(n=0);let a=Z.breakByNewLine(e.trim()),o=[];for(let u=0;u<a.length;u++){if(u==0&&r){o.push(a[u]);continue}let c=a[u];o.push(" ".repeat(n)+c)}let l=o.join(`
`);if(s&&o.length>0&&n-i>i&&o[o.length-1].trim()==") }}"){a=Z.breakByNewLine(l.trim()),o=[];for(let u=0;u<a.length;u++){if(u==0&&r){o.push(a[u]);continue}let c=a[u];if(u==a.length-1){o.push(c);break}o.push(" ".repeat(i)+c)}l=o.join(`
`)}return l}static shiftClean(e,n){let r=Z.breakByNewLine(e),i=[],s=" ".repeat(n),a=!1;return r.forEach(o=>{o.trim().length>0&&(a=!0),!!a&&i.push(s+o)}),i.join(`
`)}static inferIndentLevel(e,n,r){let i=0,s=-1;for(let a=0;a<e.length;a++){let o=e[a];if(o.includes(n)){let l=o.trimLeft();i=o.length-l.length,s=a;break}}if(s>0)for(let a=s-1;a>=0;a--){let o=e[a],l=o.trim(),u=o.trimLeft(),c=o.length-l.length;if(u.length!=0&&c!=i&&c<i){let f=i-c;return{targetLevel:i,referenceLevel:c,sourceTabSize:f}}}return{targetLevel:i,referenceLevel:i,sourceTabSize:r}}static indent(e,n,r){let i=ta.inferIndentLevel(e,n,r);return" ".repeat(i.targetLevel)}};var wm=class{constructor(e,n,r){this.buffer="";this.closeString="";this.relativeIndentSize=0;this.indentSeed=0;this.baseIndent=n,e.isInterpolationNode?(this.buffer="{",this.closeString="}"):(this.buffer="{{ ",e.isSelfClosing?this.closeString=" /}}":this.closeString=" }}"),r!=null&&r.trim().length>0&&(this.buffer+=r+" ")}setIndentSeed(e){return this.indentSeed=e,this}close(){return this.closeString==" }}"?this.buffer.endsWith(" ")?this.buffer+="}}":this.buffer+=this.closeString:this.buffer+=this.closeString,this}appendT(e){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer+=e,this}appendTS(e,n=!1){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer.endsWith("{")&&!n&&(e=e.trimStart()),this.buffer+=e,this}append(e){return this.buffer+=e,this}appendOS(e){return this.buffer.endsWith(" ")==!1&&this.buffer.endsWith("(")==!1&&this.buffer.endsWith("{")==!1&&this.buffer.endsWith("[")==!1&&this.buffer.endsWith(":")==!1&&(this.buffer+=" "),this.append(e)}appendS(e){let n="";return this.buffer.endsWith(" ")==!1&&(n+=" "),n+=e+" ",this.buffer+=n,this}indent(){let e=this.baseIndent;return e==0?e=1:e+=2,this.relativeIndentSize>0&&(e+=this.relativeIndentSize),this.buffer+=" ".repeat(e),this}addIndent(e){return e<=0?this:(this.buffer+=" ".repeat(e),this)}paramS(e){let n=" ";return e.isVariableReference&&(n+=":"),n+=e.name+"="+e.nameDelimiter+e.value+e.nameDelimiter,this.append(n),this}replace(e,n){return this.buffer=pr(this.buffer,e,n),this}relativeIndent(e){let n=this.buffer.split(`
`);if(n.length==0)return this;let r=n[n.length-1].trimEnd();return r.endsWith("(")&&(r=r.slice(0,-1)),r.endsWith(e)==!1?this:(this.relativeIndentSize=r.lastIndexOf(e),this)}newlineIndent(){return this.newLine(),this.indent(),this}newlineNDIndent(){return this.buffer=this.buffer.trimEnd(),this.newLine(),this.indent(),this}newLine(){return this.buffer+=`
`,this}getContent(){return this.buffer}endsWith(e){return this.buffer.endsWith(e)}};var Ll=class{static prettyPrintNode(e,n,r,i,s,a){var c,f,m,y,p,d,g;let o=e.getTrueRuntimeNodes(),l=0,u=0;if(o.length>0){let h=new wm(e,r,s);a!=null&&h.setIndentSeed(a);let b=null;for(let N=0;N<o.length;N++){let C=o[N];if(b!=null&&((c=C.endPosition)==null?void 0:c.isBefore(b.startPosition)))continue;let W=!1;if(C instanceof Yt?!(C.next instanceof Yt)&&C.next!=null&&(!wt.isOperatorType(C.next)||!wt.isAssignmentOperator(C.next))&&(!(C.next instanceof ln)&&!(C.next instanceof St)&&!C.isSwitchGroupMember&&!wt.isOperatorType(C.next)&&(W=!0,C.next instanceof Ne&&C.next.name=="as"&&(W=!1)),C.next instanceof mn&&(W=!1)):!((f=C.prev)==null?void 0:f.isVirtual)&&((m=C.prev)==null?void 0:m.isVirtualGroupOperatorResolve)&&C.prev.producesVirtualStatementTerminator&&C.next!=null&&(C.prev instanceof Ne||h.newlineIndent()),C instanceof Ne){if(C.convertedToOperator){if(C.name=="arr")h.appendT(" arr");else if(C.name=="switch"||C.name=="list")if(h.appendTS(" "+C.name,!0),N+1<o.length){if(!(o[N+1]instanceof Zt))break;h.append("("),C.name!="list"&&h.relativeIndent(C.name).newLine().indent(),N+=1,b=o[N+1];continue}else break;else if(u+=1,u>1)h.newlineNDIndent().indent().addIndent(6).appendS(C.name);else{if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(C)){h.append(C.name);continue}h.appendS(C.name)}b=C;continue}C.mergeRefName!=null&&C.mergeRefName.trim().length>0&&C.mergeRefName!=C.name?h.append(C.mergeRefName.trim()):C.name=="as"?h.appendOS("as"):h.append(C.name.trim())}else if(C instanceof $r)if(h.appendTS(" list"),N+1<o.length){if(!(o[N+1]instanceof Zt))break;h.append("("),N+=1,b=o[N+1];continue}else break;else if(C instanceof mn)h.appendS("|");else if(C instanceof St){if(b!=null&&((y=C.startPosition)==null?void 0:y.isBefore(b.endPosition))||C.next instanceof Ne&&C.next.mergeRefName.startsWith(":"))continue;if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(C)){h.endsWith(":")||h.append(":");continue}if(C.prev!=null&&C.next!=null&&lt.distance(C.prev,C)<=1&&lt.distance(C.next,C)<=1){h.append(":"),b=C;continue}if(n.getDocumentParser().getLanguageParser().isActualModifierSeparator(C)){h.append(":"),b=C;continue}if(b instanceof hn||b instanceof Ht){h.append(":"),b=C;continue}h.appendS(":")}else if(C instanceof hn)h.append(C.name);else if(C instanceof Hr)h.appendS("?");else if(C instanceof Pn){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(C))continue;if(C.isTenaryBranchSeparator){h.appendS(":"),b=C;continue}if(n.getDocumentParser().getLanguageParser().isActualModifierSeparator(C)){h.append(":"),b=C;continue}h.append(":")}else if(C instanceof Ht)h.append(C.value.trim());else if(C instanceof Zt)h.append("(");else if(C instanceof Yt)h.append(")");else if(C instanceof At){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(C))continue;C.sourceContent!=""?h.appendOS(C.sourceContent):h.appendOS(C.sourceTerminator+C.value+C.sourceTerminator)}else if(C instanceof Rt)C.isSwitchGroupMember?h.append(",").newlineIndent():h.append(", ");else if(C instanceof Mt){if(b=C,n.getDocumentParser().getLanguageParser().isMergedVariableComponent(C))continue;let L=(d=(p=C.value)==null?void 0:p.toString())!=null?d:"";C.rawLexContent!=null&&C.rawLexContent.trim().length>0&&(L=C.rawLexContent.trim()),h.append(L)}else if(C instanceof Qn)h.appendS("=");else if(C instanceof Dn)h.appendS("=>");else if(C instanceof Kn)h.appendS("+");else if(C instanceof Cn){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(C)){h.append("-");continue}if(C.prev!=null&&C.next!=null&&lt.distance(C.prev,C)<=1&&lt.distance(C.next,C)<=1){C.next instanceof Mt&&C.prev instanceof Mt?h.appendS("-"):h.append("-"),b=C;continue}h.appendS("-")}else if(C instanceof Xn)h.appendS("*");else if(C instanceof zn){if(b=C,(g=C.startPosition)==null?void 0:g.isBefore(e.nameEndsOn)){h.append("/");continue}if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(C))continue;h.appendS("/");continue}else C instanceof ln?C.isListGroupMember?(h.append(";").newlineIndent().indent().addIndent(7),N+1<o.length&&!(o[N+1]instanceof Yt)&&h.indent()):(l+=1,l<i.maxAntlersStatementsPerLine?h.appendT("; "):(h.appendT(";").newlineIndent(),l=0)):C instanceof un?C.content=="not"?h.appendS("not"):h.append("!"):h.appendS(C.rawContent());W&&h.newlineIndent(),b=C}e.hasParameters&&e.parameters.forEach(N=>{h.paramS(N)}),h.close();let _=h.getContent();return e.processedInterpolationRegions.size>0&&e.processedInterpolationRegions.forEach((N,C)=>{let W=Ll.prettyPrintNode(N[0],n,r,i,null,null);_=pr(_,C,W)}),_}return e.getTrueRawContent()}};var Fl=class{constructor(e){this.htmlFormatter=null;this.yamlFormatter=null;this.phpFormatter=null;this.slugs=[];this.removeLines=[];this.virtualStructureOpens=[];this.virtualStructureClose=[];this.structureLines=[];this.parentTransformer=null;this.tagPairs=new Map;this.conditions=[];this.inlineIfs=new Map;this.createExraStructuralPairs=!1;this.spanNodes=new Map;this.inlineNodes=new Map;this.virtualBlocks=[];this.inlineComments=new Map;this.blockComments=[];this.extractedEmbeddedDocuments=new Map;this.dynamicElementAntlers=new Map;this.dynamicElementAntlersNodes=new Map;this.dynamicElementPairedAntlers=new Map;this.dynamicElementPairedAntlersNodes=new Map;this.dynamicElementConditionAntlers=new Map;this.dynamicElementConditionAntlersNodes=new Map;this.noParses=new Map;this.forceBreaks=[];this.forceCleanLines=["{{ if ","{{ /if","{{ /unless","{{ /noparse","{{ else","{{ unless"];this.doc=e,this.options={tabSize:4,newlinesAfterFrontMatter:1,maxAntlersStatementsPerLine:3,endNewline:!0}}produceExtraStructuralPairs(e){return this.createExraStructuralPairs=e,this}withHtmlFormatter(e){return this.htmlFormatter=e,this}withYamlFormatter(e){return this.yamlFormatter=e,this}withPhpFormatter(e){return this.phpFormatter=e,this}withOptions(e){return this.options=e,this.options.tabSize<=0&&(this.options.tabSize=4),this.options.newlinesAfterFrontMatter<0&&(this.options.newlinesAfterFrontMatter=1),this}setParentTransformer(e){return this.parentTransformer=e,this}close(e){return"</"+e+">"}open(e){return"<"+e+">"}selfClosing(e){return"<"+e+" />"}pair(e,n=""){return"<"+e+">"+n+"</"+e+">"}makeSlug(e){e<=2&&(e=7);let n="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=r.length;for(let a=0;a<e-1;a++)n+=r.charAt(Math.floor(Math.random()*i));let s="A"+n+"A";return this.slugs.includes(s)?this.makeSlug(e+1):(this.slugs.push(s),s)}transformInlineConditions(e){let n=e;return this.inlineIfs.forEach((r,i)=>{n=n.replace(i,r.nodeContent)}),n}registerCondition(e){this.parentTransformer!=null?this.parentTransformer.registerCondition(e):this.conditions.push(e)}registerInlineCondition(e,n){this.parentTransformer!=null?this.parentTransformer.registerInlineCondition(e,n):this.inlineIfs.set(e,n)}registerVirtualBlock(e){this.parentTransformer!=null?this.parentTransformer.registerVirtualBlock(e):this.virtualBlocks.push(e)}registerNoParse(e,n){this.parentTransformer!=null?this.parentTransformer.registerNoParse(e,n):this.noParses.set(e,n)}prepareNoParse(e){let n=this.makeSlug(35);return this.registerNoParse(n,e),n}registerForcedBreak(){if(this.parentTransformer!=null)return this.parentTransformer.registerForcedBreak();{let e=this.makeSlug(15),n=this.makeSlug(10);return this.forceBreaks.push(e),this.forceBreaks.push(n),this.removeLines.push(this.open(e)),this.removeLines.push(this.close(e)),this.removeLines.push(this.selfClosing(n)),this.pair(e,this.selfClosing(n))}}transformVirtualStructures(e){let n=e;return this.virtualBlocks.forEach(r=>{var s;this.removeLines.push(r.pairClose);let i=this.indentLevel(r.pairOpen);if(r.virtualElement.length>0&&(this.removeLines.push(this.open(r.virtualElement)),this.removeLines.push(this.close(r.virtualElement))),r.node instanceof on){let a="{{ noparse }}"+r.node.getInnerDocumentText();n=n.replace(r.pairOpen,a)}if(r.node instanceof z){let a=r.node;n=n.replace(r.pairClose,(s=a.isClosedBy)==null?void 0:s.getOriginalContent())}else this.removeLines.push(r.pairClose)}),this.noParses.forEach((r,i)=>{n=n.replace(i,`{{ noparse }}${r.getInnerDocumentText()}{{ /noparse }}`)}),n}printNode(e,n=null){var l,u;let r=e.getTrueNode();if((r.rawStart=="{{?"||r.rawStart=="{{$")&&this.phpFormatter!=null)try{let c=this.phpFormatter(r.content);return`${r.rawStart} ${c} ${r.rawEnd}`}catch{}let i=this.doc;e.childDocument!=null&&(i=e.childDocument.document);let s=null;if(Hn.isConditionalStructure(e)&&(s=r.runtimeName(),e.isClosingTag&&(s=="if"||s=="unless")))return`{{ /${s} }}`;if(e.isClosingTag)return r.runtimeName()=="endunless"?"{{ /unless }}":`{{ ${r.content.trim()} }}`;let a=Ll.prettyPrintNode(r,i,0,this.options,s,null),o=["switch","list"];return n!=null&&a.includes(`
`)&&(e.isVirtual&&(((l=e.name)==null?void 0:l.name)=="switch"||((u=e.name)==null?void 0:u.name)=="list")?a=ta.shiftIndent(a,n+this.options.tabSize,!0):a=ta.shiftIndent(a,n-this.options.tabSize*2,!0)),a}transformConditions(e){let n=e;return this.conditions.forEach(r=>{r.structures.forEach(i=>{let s=i.branch.head;if(i.virtualBreakOpen.length>0&&this.removeLines.push(i.virtualBreakOpen),i.virtualBreakClose.length>0&&(n=n.replace(i.virtualBreakClose,i.virtualBreakClose+`
`),this.removeLines.push(i.virtualBreakClose)),this.virtualStructureOpens.push(i.virtualOpen),this.removeLines.push(i.virtualOpen),this.removeLines.push(i.virtualClose),i.isLast){let a=this.selfClosing(i.virtualSlug);n.includes(a)&&(n=n.replace(a,i.doc.trim())),n=n.replace(i.pairOpen,this.printNode(s,this.indentLevel(i.pairOpen))),n=n.replace(i.pairClose,this.printNode(s.isClosedBy))}else{let a=this.selfClosing(i.virtualSlug);n.includes(a)&&(n=n.replace(a,i.doc.trim())),this.removeLines.push(i.pairClose),n=n.replace(i.pairOpen,this.printNode(s,this.indentLevel(i.pairOpen)))}})}),n}transformExtractedDocuments(e){let n=e;return this.extractedEmbeddedDocuments.forEach((r,i)=>{let s="",a=0;r.isScript?s="//"+i:s="/*"+i+"*/",a=this.indentLevel(s),n.includes(s)&&(n=n.replace(s,ta.indentRelative(r.content,a)))}),n}getAntlersChildDoc(e){return e.childDocument!=null?e.childDocument.document.transform().setParentTransformer(this).toStructure():this.clone().toStructure(e.getImmediateChildren())}prepareCondition(e){let n=e.logicBranches[0].head;if(n.fragmentPosition==2||n.fragmentPosition==1){let l=this.makeSlug(e.nodeContent.length);return this.registerInlineCondition(l,e),l}if(n.fragmentPosition==0)return this.prepareDynamicCondition(e);let r=[],i="";n.prev instanceof z&&n.prev.isInlineAntlers&&(i+=this.registerForcedBreak()),e.logicBranches.forEach((l,u)=>{var d,g,h,b;let c=l.head,f=this.getAntlersChildDoc(l),m=this.makeSlug(c.sourceContent.length),y=this.makeSlug(10),p={branch:l,slug:m,doc:f,pairOpen:this.open(m),pairClose:this.close(m),virtualOpen:this.open(y),virtualClose:this.close(y),virtualSlug:y,isFirst:u==0,isLast:u==e.logicBranches.length-1,virtualBreakClose:"",virtualBreakOpen:""};if(((g=(d=l.head)==null?void 0:d.name)==null?void 0:g.getCompoundTagName())=="else"){i+=`
`+p.pairOpen;let _=this.makeSlug(25);this.createExraStructuralPairs&&l.head.containsChildStructures==!1&&l.head.containsAnyFragments==!1?(p.virtualBreakOpen=this.open(_),p.virtualBreakClose=this.close(_),p.virtualSlug=_,i+=`
`+this.selfClosing(_),i+=p.pairClose+`
`):(p.virtualBreakOpen=this.selfClosing(_),i+=p.virtualBreakOpen+`
`,i+=f,i+=`
`+p.pairClose)}else if(this.createExraStructuralPairs&&((h=l.head)==null?void 0:h.containsAnyFragments)==!1&&((b=l.head)==null?void 0:b.containsChildStructures)==!1){let _=this.makeSlug(25);p.virtualBreakOpen=this.open(_),p.virtualBreakClose=this.close(_),p.virtualSlug=_,i+=`
`+p.pairOpen,i+=`
`+this.selfClosing(_),i+=p.pairClose+`
`}else i+=p.pairOpen,i+=`
`,i+=f,i+=`
`,i+=p.pairClose;r.push(p)});let s=r[0].pairOpen,a=r[r.length-1].pairClose,o={pairOpen:s,pairClose:a,structures:r,condition:e};return this.registerCondition(o),i}registerPairedAntlers(e,n){this.parentTransformer!=null?this.parentTransformer.registerPairedAntlers(e,n):this.tagPairs.set(e,n)}preparePairedAntlers(e){let n=this.makeSlug(e.getOriginalContent().length),r=this.getAntlersChildDoc(e);if(e.fragmentPosition!=0){let i="",s="";if(e.prev instanceof z&&e.prev.isPaired()==!1&&(s+=this.registerForcedBreak()),s+=`${this.open(n)}
`,e.containsChildStructures==!1&&e.containsAnyFragments==!1){let a=!1,o=!0,l=!0,u=0;for(let f=0;f<e.children.length;f++){let m=e.children[f];if(m instanceof gt&&m.sourceContent.trim().length>0){a=!0,o=!1;break}}e.children.length==2&&e.children[0]instanceof z&&(a=!0);let c=0;for(let f=0;f<e.children.length-1;f++){let m=e.children[f];m instanceof z&&(u+=1,m.isInlineAntlers?c+=1:l=!1)}c==0&&(a=!0),l==!1&&(a=!1),o==!1&&u==0&&(a=!1),a?(i=this.makeSlug(15),s+=this.pair(i,r)):s+=r}else s+=r;return s+=`
${this.close(n)}
`,this.virtualStructureOpens.push(this.open(i)),this.virtualStructureClose.push(this.close(i)),this.virtualStructureClose.push(this.close(n)),this.registerPairedAntlers(n,{innerDoc:r,slug:n,tag:e,virtualElementSlug:i,isInline:!1}),s}return this.prepareConditionalAntlersPair(e)}registerInlineAntlers(e){if(this.parentTransformer!=null)return this.parentTransformer.registerInlineAntlers(e);{let n=this.makeSlug(e.getOriginalContent().length);return e.isInlineAntlers?(this.spanNodes.set(n,e),n):(this.inlineNodes.set(n,e),this.selfClosing(n))}}registerVirtualComment(e){this.parentTransformer!=null?this.parentTransformer.registerVirtualComment(e):this.blockComments.push(e)}registerComment(e,n){this.parentTransformer!=null?this.parentTransformer.registerComment(e,n):this.inlineComments.set(e,n)}prepareComment(e){let n=e.getContent();if(n.trim().includes(`
`)){let s=this.makeSlug(10),a=this.makeSlug(10),o={node:e,pairOpen:this.open(s),pairClose:this.close(s),virtualElement:this.selfClosing(a)};return this.registerVirtualComment(o),o.pairOpen+`
`+o.virtualElement+`
`+o.pairClose}let i=this.makeSlug(n.length);return this.registerComment(i,e),this.selfClosing(i)}registerDynamicAntlersPair(e,n){this.parentTransformer!=null?(this.dynamicElementPairedAntlers.set(n.nodeContent,e),this.parentTransformer.registerDynamicAntlersPair(e,n)):(this.dynamicElementPairedAntlers.set(n.nodeContent,e),this.dynamicElementPairedAntlersNodes.set(e,n))}prepareConditionalAntlersPair(e){if(this.dynamicElementPairedAntlers.has(e.nodeContent))return this.dynamicElementPairedAntlers.get(e.nodeContent);let n=this.makeSlug(e.nodeContent.length);return this.registerDynamicAntlersPair(n,e),n}registerDynamicCondition(e,n){this.parentTransformer!=null?(this.dynamicElementConditionAntlers.set(n.nodeContent,e),this.parentTransformer.registerDynamicCondition(e,n)):(this.dynamicElementConditionAntlers.set(n.nodeContent,e),this.dynamicElementConditionAntlersNodes.set(e,n))}prepareDynamicCondition(e){if(this.dynamicElementConditionAntlers.has(e.nodeContent))return this.dynamicElementConditionAntlers.get(e.nodeContent);let n=this.makeSlug(e.nodeContent.length);return this.registerDynamicCondition(n,e),n}registerDynamicAntlers(e,n){this.parentTransformer!=null?(this.dynamicElementAntlers.set(n.content,e),this.parentTransformer.registerDynamicAntlers(e,n)):(this.dynamicElementAntlers.set(n.content,e),this.dynamicElementAntlersNodes.set(e,n))}prepareConditionalAntlers(e){if(this.dynamicElementAntlers.has(e.content))return this.dynamicElementAntlers.get(e.content);let n=this.makeSlug(e.content.length);return this.registerDynamicAntlers(n,e),n}prepareAntlers(e){return e.isClosedBy!=null?this.preparePairedAntlers(e):e.fragmentPosition==0?this.prepareConditionalAntlers(e):this.registerInlineAntlers(e)}transformDynamicAntlers(e){let n=e;return this.dynamicElementAntlersNodes.forEach((r,i)=>{let s=this.printNode(r);n=pr(n,i,s)}),this.dynamicElementPairedAntlersNodes.forEach((r,i)=>{let s=r.nodeContent;n=pr(n,i,s)}),this.dynamicElementConditionAntlersNodes.forEach((r,i)=>{let s=r.nodeContent;n=pr(n,i,s)}),n}transformPairedAntlers(e){let n=e;return this.tagPairs.forEach((r,i)=>{let s=r.tag;if(r.virtualElementSlug.length>0){let l=this.open(r.virtualElementSlug),u=this.close(r.virtualElementSlug);this.virtualStructureOpens.push(l),this.removeLines.push(l),this.removeLines.push(u)}let a=this.open(i),o=this.close(i);n=n.replace(a,this.printNode(s,this.indentLevel(a))),n=n.replace(o,this.printNode(s.isClosedBy))}),n}transformInlineAntlers(e){let n=e;return this.inlineNodes.forEach((r,i)=>{let s=this.selfClosing(i),a=this.indentLevel(s);n=n.replace(s,this.printNode(r,this.indentLevel(s)))}),this.spanNodes.forEach((r,i)=>{var a,o;let s=0;r.isVirtual&&(((a=r.name)==null?void 0:a.name)=="switch"||((o=r.name)==null?void 0:o.name)=="list")&&(s=this.indentLevel(i,!0)),n=n.replace(i,this.printNode(r,s))}),n}transformComments(e){let n=e;return this.inlineComments.forEach((r,i)=>{let s=this.selfClosing(i);n=n.replace(s,cf.printComment(r,this.options.tabSize,0))}),this.blockComments.forEach(r=>{let i=r.node;n=n.replace(r.pairOpen,cf.printComment(i,this.options.tabSize,this.indentLevel(r.pairOpen))),this.removeLines.push(r.pairClose),this.removeLines.push(r.virtualElement)}),n}registerEmbeddedDocument(e,n,r){return this.parentTransformer!=null?this.parentTransformer.registerEmbeddedDocument(e,n,r):(this.extractedEmbeddedDocuments.set(e,{slug:e,content:n,isScript:r}),e)}clone(){let e=new Fl(this.doc);return e.withOptions(this.options).setParentTransformer(this),e}toStructure(e=null){let n="";e==null&&(e=this.doc.getDocumentParser().getRenderNodes()),e.forEach(i=>{i instanceof gt?i.sourceContent==""?n+=i.content:n+=i.sourceContent:i instanceof Nn?n+=this.prepareCondition(i):i instanceof on?n+=this.prepareNoParse(i):i instanceof z&&(i.isComment?n+=this.prepareComment(i):n+=this.prepareAntlers(i))});let r=this.doc.getDocumentParser().getFragmentsContainingStructures();if(r.length>0){let i=new $t;i.loadString(n),r.forEach(s=>{var y,p,d,g,h,b,_,N;let a=this.doc.getDocumentParser().getText(((p=(y=s.start.endPosition)==null?void 0:y.offset)!=null?p:0)+1,(g=(d=s.end.startPosition)==null?void 0:d.offset)!=null?g:0),o=i.getDocumentParser().getFragmentsParser().getEmbeddedFragment(s.start.embeddedIndex);if(o==null)return;let l=i.getDocumentParser().getFragmentsParser().getClosingFragmentAfter(o);if(l==null)return;let u=i.getDocumentParser().getText(((b=(h=o.endPosition)==null?void 0:h.offset)!=null?b:0)+1,(N=(_=l==null?void 0:l.startPosition)==null?void 0:_.offset)!=null?N:0),c=this.makeSlug(16),f=s.start.name.toLowerCase()=="script",m=c;f?m="//"+c:m="/*"+c+"*/",n=n.replace(u,m),this.registerEmbeddedDocument(c,a,f)})}return n}removeVirtualStructures(e){let n=e;return this.removeLines.forEach(r=>{n=n.replace(r,"")}),n}indentLevel(e,n=!1){for(let r=0;r<this.structureLines.length;r++){let i=this.structureLines[r];if(i.includes(e)){let s=i.trimLeft(),a=i.length-s.length;return n&&(a+=i.indexOf(e)),a}}return 0}shouldCleanAfter(e){for(let n=0;n<this.removeLines.length;n++)if(e.startsWith(this.removeLines[n]))return!0;for(let n=0;n<this.forceCleanLines.length;n++)if(e.startsWith(this.forceCleanLines[n]))return!0;return!1}shouldCleanLine(e){for(let n=0;n<this.forceCleanLines.length;n++){let r=e.trim();if(e.startsWith(this.forceCleanLines[n])||r.startsWith("{{ /")&&r.endsWith("}}"))return!0}return!1}cleanVirtualStructures(e){let n=[],r=Z.breakByNewLine(e),i=!1;for(let s=0;s<r.length;s++){let a=r[s].trim();if(i){if(a.length==0)continue;i=!1}else i=this.shouldCleanAfter(a);if(this.shouldCleanLine(a))for(let o=n.length-1;o>0&&n[o].trim().length==0;o--)n.pop();if(!this.removeLines.includes(a)){let o=r[s];this.removeLines.forEach(l=>{o.includes(l)&&(o=o.replace(l,""))}),n.push(o)}}return n.join(`
`)}cleanStructuralNewLines(e){let n=Z.breakByNewLine(e),r=[],i=!1;return n.forEach(s=>{let a=s.trim();if(a.startsWith("{{")&&a.endsWith("}}")){r.push(s),i=!0;return}i&&a.length>0&&(i=!1),i||r.push(s)}),r.join(`
`)}reflowSlugs(e){let n=e;return this.slugs.forEach(r=>{let i=this.open(r),s=this.close(r),a=this.selfClosing(r),o="/<"+r+"(.*?)>/gms",l="/</"+r+"(.*?)>/gms",u="/<"+r+"(.*?)/>/gms";n=n.replace(o,i),n=n.replace(l,s),n=n.replace(u,a)}),n}cleanLines(e){let n=Z.breakByNewLine(e),r=[],i=!1,s=0,a=!1;for(let o=0;o<n.length;o++){let l=n[o].trim(),u=n[o];if(l.startsWith("{{")&&l.endsWith("}}")){i&&(s=0),l.startsWith("{{ /")==!1?a=!0:a=!1,i=!0,r.push(u);continue}if(!i)r.push(u);else if(l.length==0){if(a==!1){s=0,i=!1;continue}s+=1;continue}else a&&s>1&&r.push(""),s=0,r.push(u),i=!1}return r.join(`
`)}fromStructure(e){let n=this.reflowSlugs(e);this.structureLines=Z.breakByNewLine(n);let r=this.transformInlineConditions(n);if(r=this.transformConditions(r),r=this.transformInlineAntlers(r),r=this.transformComments(r),r=this.transformVirtualStructures(r),r=this.transformDynamicAntlers(r),r=this.transformPairedAntlers(r),r=this.transformExtractedDocuments(r),r=this.cleanVirtualStructures(r),r=this.cleanLines(r),this.doc.hasFrontMatter()){let i=this.doc.getFrontMatter(),s=this.doc.getFrontMatterDoc();s!=null&&s.isValid&&this.yamlFormatter!=null&&(i=this.yamlFormatter(i)),r=`---
${i}
---
`+`
`.repeat(this.options.newlinesAfterFrontMatter)+r.trimLeft()}return r=r.trimRight(),this.options.endNewline&&(r+=`
`),r}};var xv=je(Im());var Om=class{constructor(){this.content="";this.ranges=[];this.lastDocumentOffsetKey=null;this.documentOffsets=new Map;this.lineIndex=new Map;this.keys=[];this.values=[];this.isValid=!1;this.parseError=null}loadString(e){var c;this.content=Z.normalizeLineEndings(e);let n=null;try{n=xv.parseDocument(this.content),this.isValid=!0}catch(f){this.isValid=!1,this.parseError=f}if(n==null)return;let r=[...this.content.matchAll(/(\n)/gm)],i=r.length,s=2,a=null,o=0,l=0;for(let f=0;f<i;f++){let m=r[f],y=(c=m.index)!=null?c:0,p=y;a!=null?p=y-a:p=p+1,this.documentOffsets.set(y,{char:p,line:s});let d=0,g=0;f==0?(g=p-1,d=0):(d=l+1,g=y),this.lineIndex.set(s,{char:p,line:s,startIndex:d,endIndex:g}),this.lastDocumentOffsetKey=y,s+=1,a=y,l=g,o=d}let u=n.contents;this.processMap(u)}processMap(e){typeof e.items!="undefined"&&e.items.forEach(n=>{this.processItem(n)})}processItem(e){if(e.type=="PAIR"){if(e.value instanceof Ol||e.value instanceof Co){let s=e.key;if(s.range!=null){let a=this.positionFromOffset(s.range[0],s.range[0]),o=this.positionFromOffset(s.range[1],s.range[1]);this.ranges.push({start:a,end:o,length:o.char-a.char+1,content:"property"}),this.keys.push({start:a,end:o,length:o.char-a.char+1,content:s.value}),e.value instanceof Co?this.processMap(e.value.items[0]):this.processMap(e.value);return}}let n=e,r=n.key,i=n.value;if(r.range!=null&&i.range!=null){let s=this.positionFromOffset(r.range[0],r.range[0]),a=this.positionFromOffset(r.range[1],r.range[1]),o=this.positionFromOffset(i.range[0],i.range[0]),l=this.positionFromOffset(i.range[1],i.range[1]),u="string";parseInt(i.value)==i.value&&(u="number"),this.ranges.push({start:s,end:a,length:a.char-s.char+1,content:"property"}),this.keys.push({start:s,end:a,length:a.char-s.char+1,content:r.value}),this.ranges.push({start:o,end:l,length:l.char-o.char+1,content:u}),this.values.push({start:o,end:l,length:l.char-o.char+1,content:i.value})}}}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let o=this.documentOffsets.get(e);i=o.line,s=o.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let o=null,l=null,u=null,c=null;for(let f of this.documentOffsets.keys()){if(f>=e){c!=null&&e>c?(o=u,l=c):(o=this.documentOffsets.get(f),l=f);break}u=this.documentOffsets.get(f),c=f}if(o==null&&(o=u,l=c),o!=null)if(r){let f=this.content.split(""),m=e-(l!=null?l:0),y=o.char-(l!=null?l:0)+e;s=m,i=o.line,e<=(l!=null?l:0)?(i=o.line,s=e+1):i=o.line+1}else{let f=this.content.split(""),m=e-(l!=null?l:0),y=o.char-(l!=null?l:0)+e;s=m,i=o.line,e<=(l!=null?l:0)?(i=o.line,s=e+1):i=o.line+1}else this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new Fn;return a.index=n,a.offset=e,a.line=i,a.char=s,a}getRanges(){return this.ranges}getKeys(){return this.keys}getValues(){return this.values}};var $t=class{constructor(){this.documentParser=new w;this.transformer=null;this.ranges=new Rm(this);this.nodes=new xm(this);this.cursor=new pm(this);this.errors=new dm(this);this.project=null;this.documentUri=""}static fromText(e,n){let r=new $t;return typeof n!="undefined"&&(r.project=n),r.loadString(e)}static childFromText(e,n=null){let r=new $t;return n!=null&&r.getDocumentParser().setSeedPosition(n),r.getDocumentParser().withChildDocuments(!0),r.loadString(e),{renderNodes:r.getDocumentParser().getRenderNodes(),content:e,document:r}}isValid(){return!(this.hasInvalidControlFlowStructures()||this.hasUnclosedStructures())}getDocumentOptions(){let e=this.getAllNodes();if(e.length==0||!(e[0]instanceof z))return null;let n=e[0];return n.isComment==!1?null:Vo(this.documentUri,n)}isFormattingEnabled(){let e=this.getDocumentOptions();return e==null?!0:e.formatterEnabled}hasInvalidControlFlowStructures(){return this.documentParser.hasUnclosedIfStructures()}hasUnclosedStructures(){return this.documentParser.hasUnclosedStructures()}getFrontMatterDoc(){if(this.hasFrontMatter()){let e=new Om;return e.loadString(this.getFrontMatter()),e}return null}hasFrontMatter(){return this.documentParser.getFrontMatter().trim().length>0}getFrontMatter(){return this.documentParser.getFrontMatter()}getFrontMatterScope(){if(this.project==null)return null;let e=new Em(this.project);return e.parse(this.getFrontMatter()),e.getScope()}updateProject(e){this.project=e,this.updateProjectDetails()}updateProjectDetails(){try{if(this.project!=null){let e=new $d(this.project,this.documentUri,this),n=this.documentParser.antlersNodes();n.forEach(r=>{var i,s;if(this.project!=null&&((i=En.instance)==null?void 0:i.canResolveSpecialTypes(r.getTagName()))){let a=(s=En.instance)==null?void 0:s.resolveSpecialType(r.getTagName(),r,this.project);a.context!=null&&(r.reference=a.context)}}),e.analyzeScope(n);for(let r=0;r<n.length;r++){let i=n[r];if(i.hasParameters)for(let s=0;s<i.parameters.length;s++){let a=i.parameters[s];if(a.hasInterpolations())for(let o=0;o<a.interpolations.length;o++){let l=a.interpolations[o];i.processedInterpolationRegions.has(l)&&i.processedInterpolationRegions.get(l).forEach(c=>{c instanceof z&&(c.currentScope=i.currentScope)})}}}Sb(this)}}catch(e){console.log(e)}}loadString(e){return this.documentParser.parse(e),this.updateProjectDetails(),this}getDocumentParser(){return this.documentParser}getParsedContent(){return this.documentParser.getParsedContent()}getAllNodes(){return this.documentParser.getNodes()}getAllAntlersNodes(){return this.documentParser.antlersNodes()}extractText(){let e=[];return this.nodes.getAllLiteralNodes().forEach(n=>{e.push(n.content)}),e.join("")}getNameAt(e){let n=this.nodes.getNodeAt(e);return n instanceof z?n.name:null}getLinesAround(e){return this.documentParser.getLinesAround(e)}getContent(){return this.documentParser.getContent()}getOriginalContent(){return this.documentParser.getOriginalContent()}getFeaturesAt(e){let n=this.nodes.getNodeAt(e);return Vi.resolveContext(e,n,this,!1,n)}getText(e,n){return this.documentParser.getText(e,n)}charLeftAt(e){return this.documentParser.charLeftAt(e)}charAt(e){return this.documentParser.charAt(e)}charRightAt(e){return this.documentParser.charRightAt(e)}getLineIndex(e){return this.documentParser.getLineIndex(e)}getLineText(e){return this.documentParser.getLineText(e)}wordAt(e,n=4){return this.documentParser.wordAt(e,n)}wordLeftAt(e,n=4){return this.documentParser.wordLeftAt(e,n)}wordRightAt(e,n=4){return this.documentParser.wordRightAt(e,n)}punctuationLeftAt(e,n=4){return this.documentParser.punctuationLeftAt(e,n)}punctuationRightAt(e,n=4){return this.documentParser.punctuationRightAt(e,n)}getLineChars(e){let n=this.getLineText(e);return n!=null?n.split(""):null}transform(){return this.transformer==null&&(this.transformer=new Fl(this)),this.transformer}};var SO={checkNode(t){var i;let e=[];if(t.isClosedBy==null||t.parent==null||!(t.parent instanceof z))return e;let n=t.parent;if(n.isClosedBy==null)return e;let r=t.runtimeName();return r=="if"||r=="if:index"||r=="else"||r=="else:index"||r=="elseif"||r=="elseif:index"||r=="elseunless"||r=="elseunless:index"||((i=n.isClosedBy.startPosition)==null?void 0:i.isBefore(t.isClosedBy.endPosition))&&(e.push(K.makeSyntaxError(D.LINT_INTERLEAVED_TAG_PAIRS,t,"Closing tag cannot appear after parent closing tag.")),e.push(K.makeSyntaxError(D.LINT_INTERLEAVED_TAG_PAIRS,t.isClosedBy,"Closing tag cannot appear after parent closing tag."))),e}},Rv=SO;var Lm=class{constructor(){this.htmlFormatter=null;this.yamlFormatter=null;this.phpFormatter=null;this.preFormatter=null;this.transformOptions=null;this.createExtraVirtualStructures=!1}withTransformOptions(e){return this.transformOptions=e,this}withPreFormatter(e){return this.preFormatter=e,this}withHtmlFormatter(e){return this.htmlFormatter=e,this}withYamlFormatter(e){return this.yamlFormatter=e,this}withPhpFormatter(e){return this.phpFormatter=e,this}formatText(e,n){let r=new $t;return r.getDocumentParser().withChildDocuments(!0),r.loadString(e),this.formatDocument(r,n)}formatDocument(e,n){if(!e.isFormattingEnabled())return e.getOriginalContent();if(this.preFormatter!=null){let a=this.preFormatter(e);if(a!=null)return a}let r=e.getAllAntlersNodes();for(let a=0;a<r.length;a++)if(Rv.checkNode(r[a],n).length>0)return e.getOriginalContent();if(this.htmlFormatter==null||e.isValid()==!1)return e.getOriginalContent();e.transform().produceExtraStructuralPairs(this.createExtraVirtualStructures).withHtmlFormatter(this.htmlFormatter).withPhpFormatter(this.phpFormatter).withYamlFormatter(this.yamlFormatter),this.transformOptions!=null&&e.transform().withOptions(this.transformOptions);let i=e.transform().toStructure(),s=this.htmlFormatter(i);return e.transform().fromStructure(s)}};function wv(t){return typeof t=="undefined"||t===null}function AO(t){return typeof t=="object"&&t!==null}function IO(t){return Array.isArray(t)?t:wv(t)?[]:[t]}function EO(t,e){var n,r,i,s;if(e)for(s=Object.keys(e),n=0,r=s.length;n<r;n+=1)i=s[n],t[i]=e[i];return t}function xO(t,e){var n="",r;for(r=0;r<e;r+=1)n+=t;return n}function RO(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var wO=wv,OO=AO,LO=IO,FO=xO,kO=RO,MO=EO,zt={isNothing:wO,isObject:OO,toArray:LO,repeat:FO,isNegativeZero:kO,extend:MO};function Ov(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),r+" "+n):r}function kl(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=Ov(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}kl.prototype=Object.create(Error.prototype);kl.prototype.constructor=kl;kl.prototype.toString=function(e){return this.name+": "+Ov(this,e)};var jn=kl;function Fm(t,e,n,r,i){var s="",a="",o=Math.floor(i/2)-1;return r-e>o&&(s=" ... ",e=r-o+s.length),n-r>o&&(a=" ...",n=r+o-a.length),{str:s+t.slice(e,n).replace(/\t/g,"\u2192")+a,pos:r-e+s.length}}function km(t,e){return zt.repeat(" ",e-t.length)+t}function BO(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],s,a=-1;s=n.exec(t.buffer);)i.push(s.index),r.push(s.index+s[0].length),t.position<=s.index&&a<0&&(a=r.length-2);a<0&&(a=r.length-1);var o="",l,u,c=Math.min(t.line+e.linesAfter,i.length).toString().length,f=e.maxLength-(e.indent+c+3);for(l=1;l<=e.linesBefore&&!(a-l<0);l++)u=Fm(t.buffer,r[a-l],i[a-l],t.position-(r[a]-r[a-l]),f),o=zt.repeat(" ",e.indent)+km((t.line-l+1).toString(),c)+" | "+u.str+`
`+o;for(u=Fm(t.buffer,r[a],i[a],t.position,f),o+=zt.repeat(" ",e.indent)+km((t.line+1).toString(),c)+" | "+u.str+`
`,o+=zt.repeat("-",e.indent+c+3+u.pos)+`^
`,l=1;l<=e.linesAfter&&!(a+l>=i.length);l++)u=Fm(t.buffer,r[a+l],i[a+l],t.position-(r[a]-r[a+l]),f),o+=zt.repeat(" ",e.indent)+km((t.line+l+1).toString(),c)+" | "+u.str+`
`;return o.replace(/\n$/,"")}var qO=BO,VO=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],jO=["scalar","sequence","mapping"];function UO(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(r){e[String(r)]=n})}),e}function WO(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(VO.indexOf(n)===-1)throw new jn('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=UO(e.styleAliases||null),jO.indexOf(this.kind)===-1)throw new jn('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var yn=WO;function Lv(t,e){var n=[];return t[e].forEach(function(r){var i=n.length;n.forEach(function(s,a){s.tag===r.tag&&s.kind===r.kind&&s.multi===r.multi&&(i=a)}),n[i]=r}),n}function GO(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function r(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(r);return t}function Mm(t){return this.extend(t)}Mm.prototype.extend=function(e){var n=[],r=[];if(e instanceof yn)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new jn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof yn))throw new jn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new jn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new jn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(s){if(!(s instanceof yn))throw new jn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Mm.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=Lv(i,"implicit"),i.compiledExplicit=Lv(i,"explicit"),i.compiledTypeMap=GO(i.compiledImplicit,i.compiledExplicit),i};var YO=Mm,HO=new yn("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),$O=new yn("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),KO=new yn("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),zO=new YO({explicit:[HO,$O,KO]});function XO(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function QO(){return null}function JO(t){return t===null}var ZO=new yn("tag:yaml.org,2002:null",{kind:"scalar",resolve:XO,construct:QO,predicate:JO,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function e1(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function t1(t){return t==="true"||t==="True"||t==="TRUE"}function n1(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var r1=new yn("tag:yaml.org,2002:bool",{kind:"scalar",resolve:e1,construct:t1,predicate:n1,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function i1(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function s1(t){return 48<=t&&t<=55}function a1(t){return 48<=t&&t<=57}function o1(t){if(t===null)return!1;var e=t.length,n=0,r=!1,i;if(!e)return!1;if(i=t[n],(i==="-"||i==="+")&&(i=t[++n]),i==="0"){if(n+1===e)return!0;if(i=t[++n],i==="b"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!i1(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!s1(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<e;n++)if(i=t[n],i!=="_"){if(!a1(t.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function l1(t){var e=t,n=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function u1(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!zt.isNegativeZero(t)}var c1=new yn("tag:yaml.org,2002:int",{kind:"scalar",resolve:o1,construct:l1,predicate:u1,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),f1=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function p1(t){return!(t===null||!f1.test(t)||t[t.length-1]==="_")}function d1(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}var m1=/^[-+]?[0-9]+e/;function h1(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(zt.isNegativeZero(t))return"-0.0";return n=t.toString(10),m1.test(n)?n.replace("e",".e"):n}function g1(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||zt.isNegativeZero(t))}var _1=new yn("tag:yaml.org,2002:float",{kind:"scalar",resolve:p1,construct:d1,predicate:g1,represent:h1,defaultStyle:"lowercase"}),y1=zO.extend({implicit:[ZO,r1,c1,_1]}),b1=y1,Fv=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),kv=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function T1(t){return t===null?!1:Fv.exec(t)!==null||kv.exec(t)!==null}function v1(t){var e,n,r,i,s,a,o,l=0,u=null,c,f,m;if(e=Fv.exec(t),e===null&&(e=kv.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(s=+e[4],a=+e[5],o=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(c=+e[10],f=+(e[11]||0),u=(c*60+f)*6e4,e[9]==="-"&&(u=-u)),m=new Date(Date.UTC(n,r,i,s,a,o,l)),u&&m.setTime(m.getTime()-u),m}function N1(t){return t.toISOString()}var C1=new yn("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:T1,construct:v1,instanceOf:Date,represent:N1});function P1(t){return t==="<<"||t===null}var D1=new yn("tag:yaml.org,2002:merge",{kind:"scalar",resolve:P1}),Bm=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function S1(t){if(t===null)return!1;var e,n,r=0,i=t.length,s=Bm;for(n=0;n<i;n++)if(e=s.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}function A1(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,s=Bm,a=0,o=[];for(e=0;e<i;e++)e%4===0&&e&&(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)),a=a<<6|s.indexOf(r.charAt(e));return n=i%4*6,n===0?(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)):n===18?(o.push(a>>10&255),o.push(a>>2&255)):n===12&&o.push(a>>4&255),new Uint8Array(o)}function I1(t){var e="",n=0,r,i,s=t.length,a=Bm;for(r=0;r<s;r++)r%3===0&&r&&(e+=a[n>>18&63],e+=a[n>>12&63],e+=a[n>>6&63],e+=a[n&63]),n=(n<<8)+t[r];return i=s%3,i===0?(e+=a[n>>18&63],e+=a[n>>12&63],e+=a[n>>6&63],e+=a[n&63]):i===2?(e+=a[n>>10&63],e+=a[n>>4&63],e+=a[n<<2&63],e+=a[64]):i===1&&(e+=a[n>>2&63],e+=a[n<<4&63],e+=a[64],e+=a[64]),e}function E1(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var x1=new yn("tag:yaml.org,2002:binary",{kind:"scalar",resolve:S1,construct:A1,predicate:E1,represent:I1}),R1=Object.prototype.hasOwnProperty,w1=Object.prototype.toString;function O1(t){if(t===null)return!0;var e=[],n,r,i,s,a,o=t;for(n=0,r=o.length;n<r;n+=1){if(i=o[n],a=!1,w1.call(i)!=="[object Object]")return!1;for(s in i)if(R1.call(i,s))if(!a)a=!0;else return!1;if(!a)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function L1(t){return t!==null?t:[]}var F1=new yn("tag:yaml.org,2002:omap",{kind:"sequence",resolve:O1,construct:L1}),k1=Object.prototype.toString;function M1(t){if(t===null)return!0;var e,n,r,i,s,a=t;for(s=new Array(a.length),e=0,n=a.length;e<n;e+=1){if(r=a[e],k1.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;s[e]=[i[0],r[i[0]]]}return!0}function B1(t){if(t===null)return[];var e,n,r,i,s,a=t;for(s=new Array(a.length),e=0,n=a.length;e<n;e+=1)r=a[e],i=Object.keys(r),s[e]=[i[0],r[i[0]]];return s}var q1=new yn("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:M1,construct:B1}),V1=Object.prototype.hasOwnProperty;function j1(t){if(t===null)return!0;var e,n=t;for(e in n)if(V1.call(n,e)&&n[e]!==null)return!1;return!0}function U1(t){return t!==null?t:{}}var W1=new yn("tag:yaml.org,2002:set",{kind:"mapping",resolve:j1,construct:U1}),Mv=b1.extend({implicit:[C1,D1],explicit:[x1,F1,q1,W1]}),bs=Object.prototype.hasOwnProperty,ff=1,Bv=2,qv=3,pf=4,qm=1,G1=2,Vv=3,Y1=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,H1=/[\x85\u2028\u2029]/,$1=/[,\[\]\{\}]/,jv=/^(?:!|!!|![a-z\-]+!)$/i,Uv=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Wv(t){return Object.prototype.toString.call(t)}function vi(t){return t===10||t===13}function na(t){return t===9||t===32}function Un(t){return t===9||t===32||t===10||t===13}function Po(t){return t===44||t===91||t===93||t===123||t===125}function K1(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function z1(t){return t===120?2:t===117?4:t===85?8:0}function X1(t){return 48<=t&&t<=57?t-48:-1}function Gv(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function Q1(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var Yv=new Array(256),Hv=new Array(256);for(ra=0;ra<256;ra++)Yv[ra]=Gv(ra)?1:0,Hv[ra]=Gv(ra);var ra;function J1(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||Mv,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function $v(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=qO(n),new jn(e,n)}function Te(t,e){throw $v(t,e)}function df(t,e){t.onWarning&&t.onWarning.call(null,$v(t,e))}var Kv={YAML:function(e,n,r){var i,s,a;e.version!==null&&Te(e,"duplication of %YAML directive"),r.length!==1&&Te(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&Te(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),a=parseInt(i[2],10),s!==1&&Te(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=a<2,a!==1&&a!==2&&df(e,"unsupported YAML version of the document")},TAG:function(e,n,r){var i,s;r.length!==2&&Te(e,"TAG directive accepts exactly two arguments"),i=r[0],s=r[1],jv.test(i)||Te(e,"ill-formed tag handle (first argument) of the TAG directive"),bs.call(e.tagMap,i)&&Te(e,'there is a previously declared suffix for "'+i+'" tag handle'),Uv.test(s)||Te(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{Te(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s}};function Ts(t,e,n,r){var i,s,a,o;if(e<n){if(o=t.input.slice(e,n),r)for(i=0,s=o.length;i<s;i+=1)a=o.charCodeAt(i),a===9||32<=a&&a<=1114111||Te(t,"expected valid JSON character");else Y1.test(o)&&Te(t,"the stream contains non-printable characters");t.result+=o}}function zv(t,e,n,r){var i,s,a,o;for(zt.isObject(n)||Te(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),a=0,o=i.length;a<o;a+=1)s=i[a],bs.call(e,s)||(e[s]=n[s],r[s]=!0)}function Do(t,e,n,r,i,s,a,o,l){var u,c;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,c=i.length;u<c;u+=1)Array.isArray(i[u])&&Te(t,"nested arrays are not supported inside keys"),typeof i=="object"&&Wv(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&Wv(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,c=s.length;u<c;u+=1)zv(t,e,s[u],n);else zv(t,e,s,n);else!t.json&&!bs.call(n,i)&&bs.call(e,i)&&(t.line=a||t.line,t.lineStart=o||t.lineStart,t.position=l||t.position,Te(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[i]=s,delete n[i];return e}function Vm(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):Te(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function Ut(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);i!==0;){for(;na(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(vi(i))for(Vm(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return n!==-1&&r!==0&&t.lineIndent<n&&df(t,"deficient indentation"),r}function mf(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||Un(n)))}function jm(t,e){e===1?t.result+=" ":e>1&&(t.result+=zt.repeat(`
`,e-1))}function Z1(t,e,n){var r,i,s,a,o,l,u,c,f=t.kind,m=t.result,y;if(y=t.input.charCodeAt(t.position),Un(y)||Po(y)||y===35||y===38||y===42||y===33||y===124||y===62||y===39||y===34||y===37||y===64||y===96||(y===63||y===45)&&(i=t.input.charCodeAt(t.position+1),Un(i)||n&&Po(i)))return!1;for(t.kind="scalar",t.result="",s=a=t.position,o=!1;y!==0;){if(y===58){if(i=t.input.charCodeAt(t.position+1),Un(i)||n&&Po(i))break}else if(y===35){if(r=t.input.charCodeAt(t.position-1),Un(r))break}else{if(t.position===t.lineStart&&mf(t)||n&&Po(y))break;if(vi(y))if(l=t.line,u=t.lineStart,c=t.lineIndent,Ut(t,!1,-1),t.lineIndent>=e){o=!0,y=t.input.charCodeAt(t.position);continue}else{t.position=a,t.line=l,t.lineStart=u,t.lineIndent=c;break}}o&&(Ts(t,s,a,!1),jm(t,t.line-l),s=a=t.position,o=!1),na(y)||(a=t.position+1),y=t.input.charCodeAt(++t.position)}return Ts(t,s,a,!1),t.result?!0:(t.kind=f,t.result=m,!1)}function eL(t,e){var n,r,i;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(Ts(t,r,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)r=t.position,t.position++,i=t.position;else return!0;else vi(n)?(Ts(t,r,i,!0),jm(t,Ut(t,!1,e)),r=i=t.position):t.position===t.lineStart&&mf(t)?Te(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);Te(t,"unexpected end of the stream within a single quoted scalar")}function tL(t,e){var n,r,i,s,a,o;if(o=t.input.charCodeAt(t.position),o!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;(o=t.input.charCodeAt(t.position))!==0;){if(o===34)return Ts(t,n,t.position,!0),t.position++,!0;if(o===92){if(Ts(t,n,t.position,!0),o=t.input.charCodeAt(++t.position),vi(o))Ut(t,!1,e);else if(o<256&&Yv[o])t.result+=Hv[o],t.position++;else if((a=z1(o))>0){for(i=a,s=0;i>0;i--)o=t.input.charCodeAt(++t.position),(a=K1(o))>=0?s=(s<<4)+a:Te(t,"expected hexadecimal character");t.result+=Q1(s),t.position++}else Te(t,"unknown escape sequence");n=r=t.position}else vi(o)?(Ts(t,n,r,!0),jm(t,Ut(t,!1,e)),n=r=t.position):t.position===t.lineStart&&mf(t)?Te(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}Te(t,"unexpected end of the stream within a double quoted scalar")}function nL(t,e){var n=!0,r,i,s,a=t.tag,o,l=t.anchor,u,c,f,m,y,p=Object.create(null),d,g,h,b;if(b=t.input.charCodeAt(t.position),b===91)c=93,y=!1,o=[];else if(b===123)c=125,y=!0,o={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),b=t.input.charCodeAt(++t.position);b!==0;){if(Ut(t,!0,e),b=t.input.charCodeAt(t.position),b===c)return t.position++,t.tag=a,t.anchor=l,t.kind=y?"mapping":"sequence",t.result=o,!0;n?b===44&&Te(t,"expected the node content, but found ','"):Te(t,"missed comma between flow collection entries"),g=d=h=null,f=m=!1,b===63&&(u=t.input.charCodeAt(t.position+1),Un(u)&&(f=m=!0,t.position++,Ut(t,!0,e))),r=t.line,i=t.lineStart,s=t.position,So(t,e,ff,!1,!0),g=t.tag,d=t.result,Ut(t,!0,e),b=t.input.charCodeAt(t.position),(m||t.line===r)&&b===58&&(f=!0,b=t.input.charCodeAt(++t.position),Ut(t,!0,e),So(t,e,ff,!1,!0),h=t.result),y?Do(t,o,p,g,d,h,r,i,s):f?o.push(Do(t,null,p,g,d,h,r,i,s)):o.push(d),Ut(t,!0,e),b=t.input.charCodeAt(t.position),b===44?(n=!0,b=t.input.charCodeAt(++t.position)):n=!1}Te(t,"unexpected end of the stream within a flow collection")}function rL(t,e){var n,r,i=qm,s=!1,a=!1,o=e,l=0,u=!1,c,f;if(f=t.input.charCodeAt(t.position),f===124)r=!1;else if(f===62)r=!0;else return!1;for(t.kind="scalar",t.result="";f!==0;)if(f=t.input.charCodeAt(++t.position),f===43||f===45)qm===i?i=f===43?Vv:G1:Te(t,"repeat of a chomping mode identifier");else if((c=X1(f))>=0)c===0?Te(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?Te(t,"repeat of an indentation width identifier"):(o=e+c-1,a=!0);else break;if(na(f)){do f=t.input.charCodeAt(++t.position);while(na(f));if(f===35)do f=t.input.charCodeAt(++t.position);while(!vi(f)&&f!==0)}for(;f!==0;){for(Vm(t),t.lineIndent=0,f=t.input.charCodeAt(t.position);(!a||t.lineIndent<o)&&f===32;)t.lineIndent++,f=t.input.charCodeAt(++t.position);if(!a&&t.lineIndent>o&&(o=t.lineIndent),vi(f)){l++;continue}if(t.lineIndent<o){i===Vv?t.result+=zt.repeat(`
`,s?1+l:l):i===qm&&s&&(t.result+=`
`);break}for(r?na(f)?(u=!0,t.result+=zt.repeat(`
`,s?1+l:l)):u?(u=!1,t.result+=zt.repeat(`
`,l+1)):l===0?s&&(t.result+=" "):t.result+=zt.repeat(`
`,l):t.result+=zt.repeat(`
`,s?1+l:l),s=!0,a=!0,l=0,n=t.position;!vi(f)&&f!==0;)f=t.input.charCodeAt(++t.position);Ts(t,n,t.position,!1)}return!0}function Xv(t,e){var n,r=t.tag,i=t.anchor,s=[],a,o=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Te(t,"tab characters must not be used in indentation")),!(l!==45||(a=t.input.charCodeAt(t.position+1),!Un(a))));){if(o=!0,t.position++,Ut(t,!0,-1)&&t.lineIndent<=e){s.push(null),l=t.input.charCodeAt(t.position);continue}if(n=t.line,So(t,e,qv,!1,!0),s.push(t.result),Ut(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&l!==0)Te(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return o?(t.tag=r,t.anchor=i,t.kind="sequence",t.result=s,!0):!1}function iL(t,e,n){var r,i,s,a,o,l,u=t.tag,c=t.anchor,f={},m=Object.create(null),y=null,p=null,d=null,g=!1,h=!1,b;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=f),b=t.input.charCodeAt(t.position);b!==0;){if(!g&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Te(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),s=t.line,(b===63||b===58)&&Un(r))b===63?(g&&(Do(t,f,m,y,p,null,a,o,l),y=p=d=null),h=!0,g=!0,i=!0):g?(g=!1,i=!0):Te(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,b=r;else{if(a=t.line,o=t.lineStart,l=t.position,!So(t,n,Bv,!1,!0))break;if(t.line===s){for(b=t.input.charCodeAt(t.position);na(b);)b=t.input.charCodeAt(++t.position);if(b===58)b=t.input.charCodeAt(++t.position),Un(b)||Te(t,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(Do(t,f,m,y,p,null,a,o,l),y=p=d=null),h=!0,g=!1,i=!1,y=t.tag,p=t.result;else if(h)Te(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=u,t.anchor=c,!0}else if(h)Te(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=u,t.anchor=c,!0}if((t.line===s||t.lineIndent>e)&&(g&&(a=t.line,o=t.lineStart,l=t.position),So(t,e,pf,!0,i)&&(g?p=t.result:d=t.result),g||(Do(t,f,m,y,p,d,a,o,l),y=p=d=null),Ut(t,!0,-1),b=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&b!==0)Te(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return g&&Do(t,f,m,y,p,null,a,o,l),h&&(t.tag=u,t.anchor=c,t.kind="mapping",t.result=f),h}function sL(t){var e,n=!1,r=!1,i,s,a;if(a=t.input.charCodeAt(t.position),a!==33)return!1;if(t.tag!==null&&Te(t,"duplication of a tag property"),a=t.input.charCodeAt(++t.position),a===60?(n=!0,a=t.input.charCodeAt(++t.position)):a===33?(r=!0,i="!!",a=t.input.charCodeAt(++t.position)):i="!",e=t.position,n){do a=t.input.charCodeAt(++t.position);while(a!==0&&a!==62);t.position<t.length?(s=t.input.slice(e,t.position),a=t.input.charCodeAt(++t.position)):Te(t,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!Un(a);)a===33&&(r?Te(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),jv.test(i)||Te(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),a=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),$1.test(s)&&Te(t,"tag suffix cannot contain flow indicator characters")}s&&!Uv.test(s)&&Te(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{Te(t,"tag name is malformed: "+s)}return n?t.tag=s:bs.call(t.tagMap,i)?t.tag=t.tagMap[i]+s:i==="!"?t.tag="!"+s:i==="!!"?t.tag="tag:yaml.org,2002:"+s:Te(t,'undeclared tag handle "'+i+'"'),!0}function aL(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&Te(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!Un(n)&&!Po(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&Te(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function oL(t){var e,n,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!Un(r)&&!Po(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&Te(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),bs.call(t.anchorMap,n)||Te(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],Ut(t,!0,-1),!0}function So(t,e,n,r,i){var s,a,o,l=1,u=!1,c=!1,f,m,y,p,d,g;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=a=o=pf===n||qv===n,r&&Ut(t,!0,-1)&&(u=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;sL(t)||aL(t);)Ut(t,!0,-1)?(u=!0,o=s,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):o=!1;if(o&&(o=u||i),(l===1||pf===n)&&(ff===n||Bv===n?d=e:d=e+1,g=t.position-t.lineStart,l===1?o&&(Xv(t,g)||iL(t,g,d))||nL(t,d)?c=!0:(a&&rL(t,d)||eL(t,d)||tL(t,d)?c=!0:oL(t)?(c=!0,(t.tag!==null||t.anchor!==null)&&Te(t,"alias node should not have any properties")):Z1(t,d,ff===n)&&(c=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(c=o&&Xv(t,g))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&Te(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),f=0,m=t.implicitTypes.length;f<m;f+=1)if(p=t.implicitTypes[f],p.resolve(t.result)){t.result=p.construct(t.result),t.tag=p.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(bs.call(t.typeMap[t.kind||"fallback"],t.tag))p=t.typeMap[t.kind||"fallback"][t.tag];else for(p=null,y=t.typeMap.multi[t.kind||"fallback"],f=0,m=y.length;f<m;f+=1)if(t.tag.slice(0,y[f].tag.length)===y[f].tag){p=y[f];break}p||Te(t,"unknown tag !<"+t.tag+">"),t.result!==null&&p.kind!==t.kind&&Te(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+p.kind+'", not "'+t.kind+'"'),p.resolve(t.result,t.tag)?(t.result=p.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):Te(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||c}function lL(t){var e=t.position,n,r,i,s=!1,a;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(a=t.input.charCodeAt(t.position))!==0&&(Ut(t,!0,-1),a=t.input.charCodeAt(t.position),!(t.lineIndent>0||a!==37));){for(s=!0,a=t.input.charCodeAt(++t.position),n=t.position;a!==0&&!Un(a);)a=t.input.charCodeAt(++t.position);for(r=t.input.slice(n,t.position),i=[],r.length<1&&Te(t,"directive name must not be less than one character in length");a!==0;){for(;na(a);)a=t.input.charCodeAt(++t.position);if(a===35){do a=t.input.charCodeAt(++t.position);while(a!==0&&!vi(a));break}if(vi(a))break;for(n=t.position;a!==0&&!Un(a);)a=t.input.charCodeAt(++t.position);i.push(t.input.slice(n,t.position))}a!==0&&Vm(t),bs.call(Kv,r)?Kv[r](t,r,i):df(t,'unknown document directive "'+r+'"')}if(Ut(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,Ut(t,!0,-1)):s&&Te(t,"directives end mark is expected"),So(t,t.lineIndent-1,pf,!1,!0),Ut(t,!0,-1),t.checkLineBreaks&&H1.test(t.input.slice(e,t.position))&&df(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&mf(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,Ut(t,!0,-1));return}if(t.position<t.length-1)Te(t,"end of the stream or a document separator is expected");else return}function Qv(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new J1(t,e),r=t.indexOf("\0");for(r!==-1&&(n.position=r,Te(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)lL(n);return n.documents}function uL(t,e,n){e!==null&&typeof e=="object"&&typeof n=="undefined"&&(n=e,e=null);var r=Qv(t,n);if(typeof e!="function")return r;for(var i=0,s=r.length;i<s;i+=1)e(r[i])}function cL(t,e){var n=Qv(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new jn("expected a single document in the stream, but found more")}}var fL=uL,pL=cL,Jv={loadAll:fL,load:pL},Zv=Object.prototype.toString,eN=Object.prototype.hasOwnProperty,Um=65279,dL=9,Ml=10,mL=13,hL=32,gL=33,_L=34,Wm=35,yL=37,bL=38,TL=39,vL=42,tN=44,NL=45,hf=58,CL=61,PL=62,DL=63,SL=64,nN=91,rN=93,AL=96,iN=123,IL=124,sN=125,bn={};bn[0]="\\0";bn[7]="\\a";bn[8]="\\b";bn[9]="\\t";bn[10]="\\n";bn[11]="\\v";bn[12]="\\f";bn[13]="\\r";bn[27]="\\e";bn[34]='\\"';bn[92]="\\\\";bn[133]="\\N";bn[160]="\\_";bn[8232]="\\L";bn[8233]="\\P";var EL=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],xL=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function RL(t,e){var n,r,i,s,a,o,l;if(e===null)return{};for(n={},r=Object.keys(e),i=0,s=r.length;i<s;i+=1)a=r[i],o=String(e[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),l=t.compiledTypeMap.fallback[a],l&&eN.call(l.styleAliases,o)&&(o=l.styleAliases[o]),n[a]=o;return n}function wL(t){var e,n,r;if(e=t.toString(16).toUpperCase(),t<=255)n="x",r=2;else if(t<=65535)n="u",r=4;else if(t<=4294967295)n="U",r=8;else throw new jn("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+zt.repeat("0",r-e.length)+e}var OL=1,Bl=2;function LL(t){this.schema=t.schema||Mv,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=zt.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=RL(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?Bl:OL,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function aN(t,e){for(var n=zt.repeat(" ",e),r=0,i=-1,s="",a,o=t.length;r<o;)i=t.indexOf(`
`,r),i===-1?(a=t.slice(r),r=o):(a=t.slice(r,i+1),r=i+1),a.length&&a!==`
`&&(s+=n),s+=a;return s}function Gm(t,e){return`
`+zt.repeat(" ",t.indent*e)}function FL(t,e){var n,r,i;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(i=t.implicitTypes[n],i.resolve(e))return!0;return!1}function gf(t){return t===hL||t===dL}function ql(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==Um||65536<=t&&t<=1114111}function oN(t){return ql(t)&&t!==Um&&t!==mL&&t!==Ml}function lN(t,e,n){var r=oN(t),i=r&&!gf(t);return(n?r:r&&t!==tN&&t!==nN&&t!==rN&&t!==iN&&t!==sN)&&t!==Wm&&!(e===hf&&!i)||oN(e)&&!gf(e)&&t===Wm||e===hf&&i}function kL(t){return ql(t)&&t!==Um&&!gf(t)&&t!==NL&&t!==DL&&t!==hf&&t!==tN&&t!==nN&&t!==rN&&t!==iN&&t!==sN&&t!==Wm&&t!==bL&&t!==vL&&t!==gL&&t!==IL&&t!==CL&&t!==PL&&t!==TL&&t!==_L&&t!==yL&&t!==SL&&t!==AL}function ML(t){return!gf(t)&&t!==hf}function Vl(t,e){var n=t.charCodeAt(e),r;return n>=55296&&n<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function uN(t){var e=/^\n* /;return e.test(t)}var cN=1,Ym=2,fN=3,pN=4,Ao=5;function BL(t,e,n,r,i,s,a,o){var l,u=0,c=null,f=!1,m=!1,y=r!==-1,p=-1,d=kL(Vl(t,0))&&ML(Vl(t,t.length-1));if(e||a)for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=Vl(t,l),!ql(u))return Ao;d=d&&lN(u,c,o),c=u}else{for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=Vl(t,l),u===Ml)f=!0,y&&(m=m||l-p-1>r&&t[p+1]!==" ",p=l);else if(!ql(u))return Ao;d=d&&lN(u,c,o),c=u}m=m||y&&l-p-1>r&&t[p+1]!==" "}return!f&&!m?d&&!a&&!i(t)?cN:s===Bl?Ao:Ym:n>9&&uN(t)?Ao:a?s===Bl?Ao:Ym:m?pN:fN}function qL(t,e,n,r,i){t.dump=function(){if(e.length===0)return t.quotingType===Bl?'""':"''";if(!t.noCompatMode&&(EL.indexOf(e)!==-1||xL.test(e)))return t.quotingType===Bl?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,n),a=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),o=r||t.flowLevel>-1&&n>=t.flowLevel;function l(u){return FL(t,u)}switch(BL(e,o,t.indent,a,l,t.quotingType,t.forceQuotes&&!r,i)){case cN:return e;case Ym:return"'"+e.replace(/'/g,"''")+"'";case fN:return"|"+dN(e,t.indent)+mN(aN(e,s));case pN:return">"+dN(e,t.indent)+mN(aN(VL(e,a),s));case Ao:return'"'+jL(e)+'"';default:throw new jn("impossible error: invalid scalar style")}}()}function dN(t,e){var n=uN(t)?String(e):"",r=t[t.length-1]===`
`,i=r&&(t[t.length-2]===`
`||t===`
`),s=i?"+":r?"":"-";return n+s+`
`}function mN(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function VL(t,e){for(var n=/(\n+)([^\n]*)/g,r=function(){var u=t.indexOf(`
`);return u=u!==-1?u:t.length,n.lastIndex=u,hN(t.slice(0,u),e)}(),i=t[0]===`
`||t[0]===" ",s,a;a=n.exec(t);){var o=a[1],l=a[2];s=l[0]===" ",r+=o+(!i&&!s&&l!==""?`
`:"")+hN(l,e),i=s}return r}function hN(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,r,i=0,s,a=0,o=0,l="";r=n.exec(t);)o=r.index,o-i>e&&(s=a>i?a:o,l+=`
`+t.slice(i,s),i=s+1),a=o;return l+=`
`,t.length-i>e&&a>i?l+=t.slice(i,a)+`
`+t.slice(a+1):l+=t.slice(i),l.slice(1)}function jL(t){for(var e="",n=0,r,i=0;i<t.length;n>=65536?i+=2:i++)n=Vl(t,i),r=bn[n],!r&&ql(n)?(e+=t[i],n>=65536&&(e+=t[i+1])):e+=r||wL(n);return e}function UL(t,e,n){var r="",i=t.tag,s,a,o;for(s=0,a=n.length;s<a;s+=1)o=n[s],t.replacer&&(o=t.replacer.call(n,String(s),o)),(Ui(t,e,o,!1,!1)||typeof o=="undefined"&&Ui(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=i,t.dump="["+r+"]"}function gN(t,e,n,r){var i="",s=t.tag,a,o,l;for(a=0,o=n.length;a<o;a+=1)l=n[a],t.replacer&&(l=t.replacer.call(n,String(a),l)),(Ui(t,e+1,l,!0,!0,!1,!0)||typeof l=="undefined"&&Ui(t,e+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=Gm(t,e)),t.dump&&Ml===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=s,t.dump=i||"[]"}function WL(t,e,n){var r="",i=t.tag,s=Object.keys(n),a,o,l,u,c;for(a=0,o=s.length;a<o;a+=1)c="",r!==""&&(c+=", "),t.condenseFlow&&(c+='"'),l=s[a],u=n[l],t.replacer&&(u=t.replacer.call(n,l,u)),!!Ui(t,e,l,!1,!1)&&(t.dump.length>1024&&(c+="? "),c+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),!!Ui(t,e,u,!1,!1)&&(c+=t.dump,r+=c));t.tag=i,t.dump="{"+r+"}"}function GL(t,e,n,r){var i="",s=t.tag,a=Object.keys(n),o,l,u,c,f,m;if(t.sortKeys===!0)a.sort();else if(typeof t.sortKeys=="function")a.sort(t.sortKeys);else if(t.sortKeys)throw new jn("sortKeys must be a boolean or a function");for(o=0,l=a.length;o<l;o+=1)m="",(!r||i!=="")&&(m+=Gm(t,e)),u=a[o],c=n[u],t.replacer&&(c=t.replacer.call(n,u,c)),!!Ui(t,e+1,u,!0,!0,!0)&&(f=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,f&&(t.dump&&Ml===t.dump.charCodeAt(0)?m+="?":m+="? "),m+=t.dump,f&&(m+=Gm(t,e)),!!Ui(t,e+1,c,!0,f)&&(t.dump&&Ml===t.dump.charCodeAt(0)?m+=":":m+=": ",m+=t.dump,i+=m));t.tag=s,t.dump=i||"{}"}function _N(t,e,n){var r,i,s,a,o,l;for(i=n?t.explicitTypes:t.implicitTypes,s=0,a=i.length;s<a;s+=1)if(o=i[s],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof e=="object"&&e instanceof o.instanceOf)&&(!o.predicate||o.predicate(e))){if(n?o.multi&&o.representName?t.tag=o.representName(e):t.tag=o.tag:t.tag="?",o.represent){if(l=t.styleMap[o.tag]||o.defaultStyle,Zv.call(o.represent)==="[object Function]")r=o.represent(e,l);else if(eN.call(o.represent,l))r=o.represent[l](e,l);else throw new jn("!<"+o.tag+'> tag resolver accepts not "'+l+'" style');t.dump=r}return!0}return!1}function Ui(t,e,n,r,i,s,a){t.tag=null,t.dump=n,_N(t,n,!1)||_N(t,n,!0);var o=Zv.call(t.dump),l=r,u;r&&(r=t.flowLevel<0||t.flowLevel>e);var c=o==="[object Object]"||o==="[object Array]",f,m;if(c&&(f=t.duplicates.indexOf(n),m=f!==-1),(t.tag!==null&&t.tag!=="?"||m||t.indent!==2&&e>0)&&(i=!1),m&&t.usedDuplicates[f])t.dump="*ref_"+f;else{if(c&&m&&!t.usedDuplicates[f]&&(t.usedDuplicates[f]=!0),o==="[object Object]")r&&Object.keys(t.dump).length!==0?(GL(t,e,t.dump,i),m&&(t.dump="&ref_"+f+t.dump)):(WL(t,e,t.dump),m&&(t.dump="&ref_"+f+" "+t.dump));else if(o==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!a&&e>0?gN(t,e-1,t.dump,i):gN(t,e,t.dump,i),m&&(t.dump="&ref_"+f+t.dump)):(UL(t,e,t.dump),m&&(t.dump="&ref_"+f+" "+t.dump));else if(o==="[object String]")t.tag!=="?"&&qL(t,t.dump,e,s,l);else{if(o==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new jn("unacceptable kind of an object to dump "+o)}t.tag!==null&&t.tag!=="?"&&(u=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",t.dump=u+" "+t.dump)}return!0}function YL(t,e){var n=[],r=[],i,s;for(Hm(t,n,r),i=0,s=r.length;i<s;i+=1)e.duplicates.push(n[r[i]]);e.usedDuplicates=new Array(s)}function Hm(t,e,n){var r,i,s;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(e.push(t),Array.isArray(t))for(i=0,s=t.length;i<s;i+=1)Hm(t[i],e,n);else for(r=Object.keys(t),i=0,s=r.length;i<s;i+=1)Hm(t[r[i]],e,n)}function HL(t,e){e=e||{};var n=new LL(e);n.noRefs||YL(t,n);var r=t;return n.replacer&&(r=n.replacer.call({"":r},"",r)),Ui(n,0,r,!0,!0)?n.dump+`
`:""}var $L=HL,KL={dump:$L};function $m(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var yN=Jv.load,YZ=Jv.loadAll,bN=KL.dump;var HZ=$m("safeLoad","load"),$Z=$m("safeLoadAll","loadAll"),KZ=$m("safeDump","dump");var Km=class{static formatFrontMatter(e){try{let n=yN(e,{}),r=bN(n,{indent:2,noArrayIndent:!1,condenseFlow:!1,forceQuotes:!0,noRefs:!0,skipInvalid:!0});return r.endsWith(`
`)&&(r=r.trimEnd()),r}catch{return e}}};function Wn(t,e,n){if(t&&t.hasOwnProperty(e)){let r=t[e];if(r!==null)return r}return n}function TN(t,e,n){let r=Wn(t,e,null);return typeof r=="string"?r.length>0?r.split(",").map(i=>i.trim().toLowerCase()):[]:n}var ZF=vC().html,Af=class extends Lm{constructor(e){super();this.options=e,this.withHtmlFormatter(this.formatHtml).withYamlFormatter(Km.formatFrontMatter).withTransformOptions({endNewline:Wn(e.htmlOptions,"endWithNewline",!1),maxAntlersStatementsPerLine:e.maxStatementsPerLine,newlinesAfterFrontMatter:1,tabSize:e.tabSize})}formatHtml(e){var n;return ZF(e,{indent_size:this.options.tabSize,indent_char:this.options.insertSpaces?" ":"	",indent_empty_lines:Wn(this.options.htmlOptions,"indentEmptyLines",!1),wrap_line_length:Wn(this.options.htmlOptions,"wrapLineLength",120),unformatted:(n=TN(this.options.htmlOptions,"unformatted",[]))!=null?n:[],content_unformatted:[],indent_inner_html:Wn(this.options.htmlOptions,"indentInnerHtml",!1),preserve_newlines:Wn(this.options.htmlOptions,"preserveNewLines",!0),max_preserve_newlines:Wn(this.options.htmlOptions,"maxPreserveNewLines",32786),indent_handlebars:Wn(this.options.htmlOptions,"indentHandlebars",!1),end_with_newline:Wn(this.options.htmlOptions,"endWithNewline",!1),extra_liners:[],wrap_attributes:Wn(this.options.htmlOptions,"wrapAttributes","auto"),wrap_attributes_indent_size:Wn(this.options.htmlOptions,"wrapAttributesIndentSize",void 0),eol:`
`,indent_scripts:Wn(this.options.htmlOptions,"indentScripts","normal"),unformatted_content_delimiter:Wn(this.options.htmlOptions,"unformattedContentDelimiter","")})}};var fM=rD(),lu=require("path"),iD={formatFrontMatter:!1,showGeneralSnippetCompletions:!0,diagnostics:{warnOnDynamicCssClassNames:!0,validateTagParameters:!0},trace:{server:"off"},formatterIgnoreExtensions:["xml"],languageVersion:"runtime"},Yf=0,sD=3,pM=1,$h=4,dM=".antlers.format.json",it=fM.command("format","Formats a file and writes the changes to disk",{path:{description:"The file to format",alias:"f",type:"string"},dir:{description:"The directory to format",alias:"d",type:"string"},stdin:{description:"Indicates that the formatter should use stdin input",alias:"s",type:"boolean",default:!1},output:{description:"An optional output path",alias:"out",type:"string",default:null},dump:{description:"Optionally writes the formatted results to the output instead of saving",alias:"dd",type:"boolean",default:!1},options:{description:"An optional path to an Antlers format configuration file",alias:"o",type:"string"}}).help().alias("help","h").argv,Hf=it._,uu={htmlOptions:{},formatFrontMatter:!0,insertSpaces:!0,maxStatementsPerLine:3,tabSize:4,formatExtensions:[".antlers.html"]};function aD(t){if(nt.existsSync(t)){let e=nt.readFileSync(t,{encoding:"utf8"});try{return JSON.parse(e)}catch(n){console.error(n)}}return null}function oD(t,e,n){let r=nt.readdirSync(t);for(let i=0;i<r.length;i++){let s=lu.join(t,r[i]);nt.lstatSync(s).isDirectory()?oD(s,e,n):s.endsWith(e)&&n(s)}}function mM(t,e,n,r){let i=$t.fromText(t),s=new Af(r),a=s.formatDocument(i,iD);n===!0?console.log(a):e!=null&&nt.writeFileSync(e,a,{encoding:"utf8"})}function Kh(t,e,n,r){if(nt.existsSync(t)){try{nt.accessSync(t,nt.constants.R_OK|nt.constants.W_OK)}catch(i){console.error(i),process.exit($h)}try{let i=nt.readFileSync(t,{encoding:"utf8"}),s=$t.fromText(i),a=new Af(r),o=a.formatDocument(s,iD);n===!0?console.log(o):nt.writeFileSync(e,o,{encoding:"utf8"})}catch(i){console.error(i),process.exit(pM)}}else process.exit(sD)}function lD(t,e,n,r){if(nt.existsSync(t)&&nt.statSync(t).isDirectory()){try{nt.accessSync(t,nt.constants.R_OK|nt.constants.W_OK)}catch(i){console.error(i),process.exit($h)}n.forEach(i=>{oD(t,i,s=>{Kh(s,s,r,e)})}),process.exit(Yf)}else process.exit(sD)}function hM(t){let e=lu.dirname(t);e=="."&&(e=process.cwd());let n=e.split(lu.sep);for(;n.length>0;){let r=n.join(lu.sep),i=lu.join(r,dM);if(nt.existsSync(i))return i;n.pop()}return null}if(it._.includes("format")){let t=uu;if(typeof it.options!="undefined"&&it.options!==null){let e=aD(it.options);e!=null&&(t=e)}else{let e="";Hf.length==1?typeof it.dir!="undefined"&&it.dir!==null?e=it.dir:typeof it.path!="undefined"&&it.path!==null&&(e=it.path):e=Hf[1];let n=hM(e);if(n!=null){let r=aD(n);r!=null&&(t=r)}}if(Hf.length==1){if(it.stdin===!0){let e=nt.readFileSync(0,"utf-8");mM(e,it.output,it.dump===!0,t),process.exit(Yf)}if(typeof it.dir!="undefined"&&it.dir!==null){let e=[".antlers.html"];(typeof t=="undefined"||t==null)&&(t=uu),typeof t!="undefined"&&t.formatExtensions!=null&&t.formatExtensions.length>0?e=t.formatExtensions:e=uu.formatExtensions,lD(it.dir,t,e,it.dump===!0),process.exit(Yf)}if(typeof it.path!="undefined"&&it.path!==null){let e=it.path;it.output!==null&&(e=it.output),Kh(it.path,e,it.dump===!0,t),process.exit(Yf)}}else{let e=Hf[1];if(nt.existsSync(e)){try{nt.accessSync(e,nt.constants.R_OK|nt.constants.W_OK)}catch(r){console.error(r),process.exit($h)}if(nt.lstatSync(e).isDirectory()){let r=[".antlers.html"];(typeof t=="undefined"||t==null)&&(t=uu),typeof t!="undefined"&&t.formatExtensions!=null&&t.formatExtensions.length>0?r=t.formatExtensions:r=uu.formatExtensions,lD(e,t,r,it.dump===!0)}else{let r=e;it.output!==null&&(r=it.output),Kh(e,r,it.dump===!0,t)}}}}
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
