#!/usr/bin/env node
"use strict";var mD=Object.create;var o_=Object.defineProperty;var hD=Object.getOwnPropertyDescriptor;var gD=Object.getOwnPropertyNames;var _D=Object.getPrototypeOf,yD=Object.prototype.hasOwnProperty;var Y=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var bD=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of gD(e))!yD.call(t,i)&&i!==n&&o_(t,i,{get:()=>e[i],enumerable:!(r=hD(e,i))||r.enumerable});return t};var Le=(t,e,n)=>(n=t!=null?mD(_D(t)):{},bD(e||!t||!t.__esModule?o_(n,"default",{value:t,enumerable:!0}):n,t));var Fu=Y($p=>{"use strict";Object.defineProperty($p,"__esModule",{value:!0});var w_=function(){function t(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return t.hashStr=function(e,n){return n===void 0&&(n=!1),this.onePassHasher.start().appendStr(e).end(n)},t.hashAsciiStr=function(e,n){return n===void 0&&(n=!1),this.onePassHasher.start().appendAsciiStr(e).end(n)},t._hex=function(e){var n=t.hexChars,r=t.hexOut,i,s,a,o;for(o=0;o<4;o+=1)for(s=o*8,i=e[o],a=0;a<8;a+=2)r[s+1+a]=n.charAt(i&15),i>>>=4,r[s+0+a]=n.charAt(i&15),i>>>=4;return r.join("")},t._md5cycle=function(e,n){var r=e[0],i=e[1],s=e[2],a=e[3];r+=(i&s|~i&a)+n[0]-680876936|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[1]-389564586|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[2]+606105819|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[3]-1044525330|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&a)+n[4]-176418897|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[5]+1200080426|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[6]-1473231341|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[7]-45705983|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&a)+n[8]+1770035416|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[9]-1958414417|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[10]-42063|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[11]-1990404162|0,i=(i<<22|i>>>10)+s|0,r+=(i&s|~i&a)+n[12]+1804603682|0,r=(r<<7|r>>>25)+i|0,a+=(r&i|~r&s)+n[13]-40341101|0,a=(a<<12|a>>>20)+r|0,s+=(a&r|~a&i)+n[14]-1502002290|0,s=(s<<17|s>>>15)+a|0,i+=(s&a|~s&r)+n[15]+1236535329|0,i=(i<<22|i>>>10)+s|0,r+=(i&a|s&~a)+n[1]-165796510|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[6]-1069501632|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[11]+643717713|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[0]-373897302|0,i=(i<<20|i>>>12)+s|0,r+=(i&a|s&~a)+n[5]-701558691|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[10]+38016083|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[15]-660478335|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[4]-405537848|0,i=(i<<20|i>>>12)+s|0,r+=(i&a|s&~a)+n[9]+568446438|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[14]-1019803690|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[3]-187363961|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[8]+1163531501|0,i=(i<<20|i>>>12)+s|0,r+=(i&a|s&~a)+n[13]-1444681467|0,r=(r<<5|r>>>27)+i|0,a+=(r&s|i&~s)+n[2]-51403784|0,a=(a<<9|a>>>23)+r|0,s+=(a&i|r&~i)+n[7]+1735328473|0,s=(s<<14|s>>>18)+a|0,i+=(s&r|a&~r)+n[12]-1926607734|0,i=(i<<20|i>>>12)+s|0,r+=(i^s^a)+n[5]-378558|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[8]-2022574463|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[11]+1839030562|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[14]-35309556|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^a)+n[1]-1530992060|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[4]+1272893353|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[7]-155497632|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[10]-1094730640|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^a)+n[13]+681279174|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[0]-358537222|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[3]-722521979|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[6]+76029189|0,i=(i<<23|i>>>9)+s|0,r+=(i^s^a)+n[9]-640364487|0,r=(r<<4|r>>>28)+i|0,a+=(r^i^s)+n[12]-421815835|0,a=(a<<11|a>>>21)+r|0,s+=(a^r^i)+n[15]+530742520|0,s=(s<<16|s>>>16)+a|0,i+=(s^a^r)+n[2]-995338651|0,i=(i<<23|i>>>9)+s|0,r+=(s^(i|~a))+n[0]-198630844|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[7]+1126891415|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[14]-1416354905|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[5]-57434055|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~a))+n[12]+1700485571|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[3]-1894986606|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[10]-1051523|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[1]-2054922799|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~a))+n[8]+1873313359|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[15]-30611744|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[6]-1560198380|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[13]+1309151649|0,i=(i<<21|i>>>11)+s|0,r+=(s^(i|~a))+n[4]-145523070|0,r=(r<<6|r>>>26)+i|0,a+=(i^(r|~s))+n[11]-1120210379|0,a=(a<<10|a>>>22)+r|0,s+=(r^(a|~i))+n[2]+718787259|0,s=(s<<15|s>>>17)+a|0,i+=(a^(s|~r))+n[9]-343485551|0,i=(i<<21|i>>>11)+s|0,e[0]=r+e[0]|0,e[1]=i+e[1]|0,e[2]=s+e[2]|0,e[3]=a+e[3]|0},t.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this},t.prototype.appendStr=function(e){var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,a;for(a=0;a<e.length;a+=1){if(s=e.charCodeAt(a),s<128)n[i++]=s;else if(s<2048)n[i++]=(s>>>6)+192,n[i++]=s&63|128;else if(s<55296||s>56319)n[i++]=(s>>>12)+224,n[i++]=s>>>6&63|128,n[i++]=s&63|128;else{if(s=(s-55296)*1024+(e.charCodeAt(++a)-56320)+65536,s>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");n[i++]=(s>>>18)+240,n[i++]=s>>>12&63|128,n[i++]=s>>>6&63|128,n[i++]=s&63|128}i>=64&&(this._dataLength+=64,t._md5cycle(this._state,r),i-=64,r[0]=r[16])}return this._bufferLength=i,this},t.prototype.appendAsciiStr=function(e){for(var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,a=0;;){for(s=Math.min(e.length-a,64-i);s--;)n[i++]=e.charCodeAt(a++);if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,r),i=0}return this._bufferLength=i,this},t.prototype.appendByteArray=function(e){for(var n=this._buffer8,r=this._buffer32,i=this._bufferLength,s,a=0;;){for(s=Math.min(e.length-a,64-i);s--;)n[i++]=e[a++];if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,r),i=0}return this._bufferLength=i,this},t.prototype.getState=function(){var e=this,n=e._state;return{buffer:String.fromCharCode.apply(null,e._buffer8),buflen:e._bufferLength,length:e._dataLength,state:[n[0],n[1],n[2],n[3]]}},t.prototype.setState=function(e){var n=e.buffer,r=e.state,i=this._state,s;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],s=0;s<n.length;s+=1)this._buffer8[s]=n.charCodeAt(s)},t.prototype.end=function(e){e===void 0&&(e=!1);var n=this._bufferLength,r=this._buffer8,i=this._buffer32,s=(n>>2)+1,a;if(this._dataLength+=n,r[n]=128,r[n+1]=r[n+2]=r[n+3]=0,i.set(t.buffer32Identity.subarray(s),s),n>55&&(t._md5cycle(this._state,i),i.set(t.buffer32Identity)),a=this._dataLength*8,a<=4294967295)i[14]=a;else{var o=a.toString(16).match(/(.*?)(.{0,8})$/);if(o===null)return;var l=parseInt(o[2],16),u=parseInt(o[1],16)||0;i[14]=l,i[15]=u}return t._md5cycle(this._state,i),e?this._state:t._hex(this._state)},t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,t}();$p.Md5=w_;w_.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592"&&console.error("Md5 self test failed.")});var Wu=Y(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.thenable=qt.typedArray=qt.stringArray=qt.array=qt.func=qt.error=qt.number=qt.string=qt.boolean=void 0;function ID(t){return t===!0||t===!1}qt.boolean=ID;function L_(t){return typeof t=="string"||t instanceof String}qt.string=L_;function ED(t){return typeof t=="number"||t instanceof Number}qt.number=ED;function xD(t){return t instanceof Error}qt.error=xD;function k_(t){return typeof t=="function"}qt.func=k_;function M_(t){return Array.isArray(t)}qt.array=M_;function RD(t){return M_(t)&&t.every(e=>L_(e))}qt.stringArray=RD;function wD(t,e){return Array.isArray(t)&&t.every(e)}qt.typedArray=wD;function OD(t){return t&&k_(t.then)}qt.thenable=OD});var qi=Y(Qp=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});var zp;function Xp(){if(zp===void 0)throw new Error("No runtime abstraction layer installed");return zp}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");zp=n}t.install=e})(Xp||(Xp={}));Qp.default=Xp});var Jp=Y(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.Disposable=void 0;var FD;(function(t){function e(n){return{dispose:n}}t.create=e})(FD=hl.Disposable||(hl.Disposable={}))});var B_=Y(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.AbstractMessageBuffer=void 0;var LD=13,kD=10,MD=`\r
`,Zp=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,n=0,r=0,i=0;e:for(;n<this._chunks.length;){let l=this._chunks[n];r=0;t:for(;r<l.length;){switch(l[r]){case LD:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case kD:switch(e){case 1:e=2;break;case 3:e=4,r++;break e;default:e=0}break;default:e=0}r++}i+=l.byteLength,n++}if(e!==4)return;let s=this._read(i+r),a=new Map,o=this.toString(s,"ascii").split(MD);if(o.length<2)return a;for(let l=0;l<o.length-2;l++){let u=o[l],c=u.indexOf(":");if(c===-1)throw new Error("Message header must separate key and value using :");let f=u.substr(0,c),d=u.substr(c+1).trim();a.set(f,d)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],a=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,a}let n=this.allocNative(e),r=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let a=s.slice(0,e);n.set(a,r),r+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};Gu.AbstractMessageBuffer=Zp});var j_=Y(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});var BD=qi(),V_=require("util"),Xs=Jp(),VD=B_(),za=class extends VD.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return za.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new V_.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};za.emptyBuffer=Buffer.allocUnsafe(0);var ed=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Xs.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Xs.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Xs.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),Xs.Disposable.create(()=>this.stream.off("data",e))}},td=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Xs.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Xs.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Xs.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,i)=>{let s=a=>{a==null?r():i(a)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},q_=Object.freeze({messageBuffer:Object.freeze({create:t=>new za(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new V_.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new ed(t),asWritableStream:t=>new td(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){return setTimeout(t,e,...n)},clearTimeout(t){clearTimeout(t)},setImmediate(t,...e){return setImmediate(t,...e)},clearImmediate(t){clearImmediate(t)}})});function nd(){return q_}(function(t){function e(){BD.default.install(q_)}t.install=e})(nd||(nd={}));rd.default=nd});var Xa=Y(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.stringArray=yn.array=yn.func=yn.error=yn.number=yn.string=yn.boolean=void 0;function qD(t){return t===!0||t===!1}yn.boolean=qD;function U_(t){return typeof t=="string"||t instanceof String}yn.string=U_;function jD(t){return typeof t=="number"||t instanceof Number}yn.number=jD;function UD(t){return t instanceof Error}yn.error=UD;function WD(t){return typeof t=="function"}yn.func=WD;function W_(t){return Array.isArray(t)}yn.array=W_;function GD(t){return W_(t)&&t.every(e=>U_(e))}yn.stringArray=GD});var Sd=Y(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.isResponseMessage=pe.isNotificationMessage=pe.isRequestMessage=pe.NotificationType9=pe.NotificationType8=pe.NotificationType7=pe.NotificationType6=pe.NotificationType5=pe.NotificationType4=pe.NotificationType3=pe.NotificationType2=pe.NotificationType1=pe.NotificationType0=pe.NotificationType=pe.RequestType9=pe.RequestType8=pe.RequestType7=pe.RequestType6=pe.RequestType5=pe.RequestType4=pe.RequestType3=pe.RequestType2=pe.RequestType1=pe.RequestType=pe.RequestType0=pe.AbstractMessageSignature=pe.ParameterStructures=pe.ResponseError=pe.ErrorCodes=void 0;var Qs=Xa(),G_;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=t.jsonrpcReservedErrorRangeStart,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=t.jsonrpcReservedErrorRangeEnd})(G_=pe.ErrorCodes||(pe.ErrorCodes={}));var gl=class extends Error{constructor(e,n,r){super(n),this.code=Qs.number(e)?e:G_.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,gl.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};pe.ResponseError=gl;var nn=class{constructor(e){this.kind=e}static is(e){return e===nn.auto||e===nn.byName||e===nn.byPosition}toString(){return this.kind}};pe.ParameterStructures=nn;nn.auto=new nn("auto");nn.byPosition=new nn("byPosition");nn.byName=new nn("byName");var pt=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return nn.auto}};pe.AbstractMessageSignature=pt;var id=class extends pt{constructor(e){super(e,0)}};pe.RequestType0=id;var sd=class extends pt{constructor(e,n=nn.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};pe.RequestType=sd;var ad=class extends pt{constructor(e,n=nn.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};pe.RequestType1=ad;var od=class extends pt{constructor(e){super(e,2)}};pe.RequestType2=od;var ld=class extends pt{constructor(e){super(e,3)}};pe.RequestType3=ld;var ud=class extends pt{constructor(e){super(e,4)}};pe.RequestType4=ud;var cd=class extends pt{constructor(e){super(e,5)}};pe.RequestType5=cd;var fd=class extends pt{constructor(e){super(e,6)}};pe.RequestType6=fd;var pd=class extends pt{constructor(e){super(e,7)}};pe.RequestType7=pd;var dd=class extends pt{constructor(e){super(e,8)}};pe.RequestType8=dd;var md=class extends pt{constructor(e){super(e,9)}};pe.RequestType9=md;var hd=class extends pt{constructor(e,n=nn.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};pe.NotificationType=hd;var gd=class extends pt{constructor(e){super(e,0)}};pe.NotificationType0=gd;var _d=class extends pt{constructor(e,n=nn.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};pe.NotificationType1=_d;var yd=class extends pt{constructor(e){super(e,2)}};pe.NotificationType2=yd;var bd=class extends pt{constructor(e){super(e,3)}};pe.NotificationType3=bd;var Td=class extends pt{constructor(e){super(e,4)}};pe.NotificationType4=Td;var vd=class extends pt{constructor(e){super(e,5)}};pe.NotificationType5=vd;var Nd=class extends pt{constructor(e){super(e,6)}};pe.NotificationType6=Nd;var Cd=class extends pt{constructor(e){super(e,7)}};pe.NotificationType7=Cd;var Pd=class extends pt{constructor(e){super(e,8)}};pe.NotificationType8=Pd;var Dd=class extends pt{constructor(e){super(e,9)}};pe.NotificationType9=Dd;function HD(t){let e=t;return e&&Qs.string(e.method)&&(Qs.string(e.id)||Qs.number(e.id))}pe.isRequestMessage=HD;function YD(t){let e=t;return e&&Qs.string(e.method)&&t.id===void 0}pe.isNotificationMessage=YD;function $D(t){let e=t;return e&&(e.result!==void 0||!!e.error)&&(Qs.string(e.id)||Qs.number(e.id)||e.id===null)}pe.isResponseMessage=$D});var Ja=Y(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.Emitter=Js.Event=void 0;var KD=qi(),zD;(function(t){let e={dispose(){}};t.None=function(){return e}})(zD=Js.Event||(Js.Event={}));var Ad=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,a=r.length;s<a;s++)try{n.push(r[s].apply(i[s],e))}catch(o){KD.default().console.error(o)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Qa=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new Ad),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:()=>{!this._callbacks||(this._callbacks.remove(e,n),i.dispose=Qa._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Js.Emitter=Qa;Qa._noop=function(){}});var Rd=Y(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.CancellationTokenSource=Zs.CancellationToken=void 0;var H_=qi(),XD=Xa(),Id=Ja(),Ed;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Id.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Id.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||XD.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(Ed=Zs.CancellationToken||(Zs.CancellationToken={}));var QD=Object.freeze(function(t,e){let n=H_.default().timer.setTimeout(t.bind(e),0);return{dispose(){H_.default().timer.clearTimeout(n)}}}),Hu=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?QD:(this._emitter||(this._emitter=new Id.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},xd=class{get token(){return this._token||(this._token=new Hu),this._token}cancel(){this._token?this._token.cancel():this._token=Ed.Cancelled}dispose(){this._token?this._token instanceof Hu&&this._token.dispose():this._token=Ed.None}};Zs.CancellationTokenSource=xd});var Y_=Y(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.ReadableStreamMessageReader=ji.AbstractMessageReader=ji.MessageReader=void 0;var Yu=qi(),Za=Xa(),wd=Ja(),JD;(function(t){function e(n){let r=n;return r&&Za.func(r.listen)&&Za.func(r.dispose)&&Za.func(r.onError)&&Za.func(r.onClose)&&Za.func(r.onPartialMessage)}t.is=e})(JD=ji.MessageReader||(ji.MessageReader={}));var $u=class{constructor(){this.errorEmitter=new wd.Emitter,this.closeEmitter=new wd.Emitter,this.partialMessageEmitter=new wd.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Za.string(e.message)?e.message:"unknown"}`)}};ji.AbstractMessageReader=$u;var Od;(function(t){function e(n){var r;let i,s,a,o=new Map,l,u=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=(r=n.charset)!==null&&r!==void 0?r:"utf-8",n.contentDecoder!==void 0&&(a=n.contentDecoder,o.set(a.name,a)),n.contentDecoders!==void 0)for(let c of n.contentDecoders)o.set(c.name,c);if(n.contentTypeDecoder!==void 0&&(l=n.contentTypeDecoder,u.set(l.name,l)),n.contentTypeDecoders!==void 0)for(let c of n.contentTypeDecoders)u.set(c.name,c)}return l===void 0&&(l=Yu.default().applicationJson.decoder,u.set(l.name,l)),{charset:i,contentDecoder:a,contentDecoders:o,contentTypeDecoder:l,contentTypeDecoders:u}}t.fromOptions=e})(Od||(Od={}));var Fd=class extends $u{constructor(e,n){super(),this.readable=e,this.options=Od.fromOptions(n),this.buffer=Yu.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let s=i.get("Content-Length");if(!s)throw new Error("Header must provide a Content-Length property.");let a=parseInt(s);if(isNaN(a))throw new Error("Content-Length value must be a number.");this.nextMessageLength=a}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(n):r=Promise.resolve(n),r.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(s=>{this.callback(s)},s=>{this.fireError(s)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(Yu.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=Yu.default().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};ji.ReadableStreamMessageReader=Fd});var $_=Y(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.Semaphore=void 0;var ZD=qi(),Ld=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||ZD.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};Ku.Semaphore=Ld});var Q_=Y(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.WriteableStreamMessageWriter=Ui.AbstractMessageWriter=Ui.MessageWriter=void 0;var K_=qi(),_l=Xa(),eS=$_(),z_=Ja(),tS="Content-Length: ",X_=`\r
`,nS;(function(t){function e(n){let r=n;return r&&_l.func(r.dispose)&&_l.func(r.onClose)&&_l.func(r.onError)&&_l.func(r.write)}t.is=e})(nS=Ui.MessageWriter||(Ui.MessageWriter={}));var zu=class{constructor(){this.errorEmitter=new z_.Emitter,this.closeEmitter=new z_.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${_l.string(e.message)?e.message:"unknown"}`)}};Ui.AbstractMessageWriter=zu;var kd;(function(t){function e(n){var r,i;return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:K_.default().applicationJson.encoder}:{charset:(r=n.charset)!==null&&r!==void 0?r:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(i=n.contentTypeEncoder)!==null&&i!==void 0?i:K_.default().applicationJson.encoder}}t.fromOptions=e})(kd||(kd={}));var Md=class extends zu{constructor(e,n){super(),this.writable=e,this.options=kd.fromOptions(n),this.errorCount=0,this.writeSemaphore=new eS.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(tS,r.byteLength.toString(),X_),i.push(X_),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};Ui.WriteableStreamMessageWriter=Md});var J_=Y(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.LRUCache=Wi.LinkedMap=Wi.Touch=void 0;var En;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(En=Wi.Touch||(Wi.Touch={}));var Xu=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,n=En.None){let r=this._map.get(e);if(!!r)return n!==En.None&&this.touch(r,n),r.value}set(e,n,r=En.None){let i=this._map.get(e);if(i)i.value=n,r!==En.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case En.None:this.addItemLast(i);break;case En.First:this.addItemFirst(i);break;case En.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(!!n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.key,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}values(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.value,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}entries(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:[r.key,r.value],done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==En.First&&n!==En.Last)){if(n===En.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===En.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};Wi.LinkedMap=Xu;var Bd=class extends Xu{constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=En.AsNew){return super.get(e,n)}peek(e){return super.get(e,En.None)}set(e,n){return super.set(e,n,En.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Wi.LRUCache=Bd});var ry=Y(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.createMessageConnection=Ee.ConnectionOptions=Ee.CancellationStrategy=Ee.CancellationSenderStrategy=Ee.CancellationReceiverStrategy=Ee.ConnectionStrategy=Ee.ConnectionError=Ee.ConnectionErrors=Ee.LogTraceNotification=Ee.SetTraceNotification=Ee.TraceFormat=Ee.Trace=Ee.NullLogger=Ee.ProgressType=void 0;var Z_=qi(),rn=Xa(),Se=Sd(),ey=J_(),yl=Ja(),Vd=Rd(),bl;(function(t){t.type=new Se.NotificationType("$/cancelRequest")})(bl||(bl={}));var Ju;(function(t){t.type=new Se.NotificationType("$/progress")})(Ju||(Ju={}));var qd=class{constructor(){}};Ee.ProgressType=qd;var jd;(function(t){function e(n){return rn.func(n)}t.is=e})(jd||(jd={}));Ee.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var jt;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose"})(jt=Ee.Trace||(Ee.Trace={}));(function(t){function e(r){if(!rn.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(jt=Ee.Trace||(Ee.Trace={}));var Zr;(function(t){t.Text="text",t.JSON="json"})(Zr=Ee.TraceFormat||(Ee.TraceFormat={}));(function(t){function e(n){return n=n.toLowerCase(),n==="json"?t.JSON:t.Text}t.fromString=e})(Zr=Ee.TraceFormat||(Ee.TraceFormat={}));var ty;(function(t){t.type=new Se.NotificationType("$/setTrace")})(ty=Ee.SetTraceNotification||(Ee.SetTraceNotification={}));var Ud;(function(t){t.type=new Se.NotificationType("$/logTrace")})(Ud=Ee.LogTraceNotification||(Ee.LogTraceNotification={}));var Qu;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(Qu=Ee.ConnectionErrors||(Ee.ConnectionErrors={}));var ls=class extends Error{constructor(e,n){super(n),this.code=e,Object.setPrototypeOf(this,ls.prototype)}};Ee.ConnectionError=ls;var ny;(function(t){function e(n){let r=n;return r&&rn.func(r.cancelUndispatched)}t.is=e})(ny=Ee.ConnectionStrategy||(Ee.ConnectionStrategy={}));var Wd;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new Vd.CancellationTokenSource}});function e(n){let r=n;return r&&rn.func(r.createCancellationTokenSource)}t.is=e})(Wd=Ee.CancellationReceiverStrategy||(Ee.CancellationReceiverStrategy={}));var Gd;(function(t){t.Message=Object.freeze({sendCancellation(n,r){n.sendNotification(bl.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&rn.func(r.sendCancellation)&&rn.func(r.cleanup)}t.is=e})(Gd=Ee.CancellationSenderStrategy||(Ee.CancellationSenderStrategy={}));var Hd;(function(t){t.Message=Object.freeze({receiver:Wd.Message,sender:Gd.Message});function e(n){let r=n;return r&&Wd.is(r.receiver)&&Gd.is(r.sender)}t.is=e})(Hd=Ee.CancellationStrategy||(Ee.CancellationStrategy={}));var rS;(function(t){function e(n){let r=n;return r&&(Hd.is(r.cancellationStrategy)||ny.is(r.connectionStrategy))}t.is=e})(rS=Ee.ConnectionOptions||(Ee.ConnectionOptions={}));var ei;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(ei||(ei={}));function iS(t,e,n,r){let i=n!==void 0?n:Ee.NullLogger,s=0,a=0,o=0,l="2.0",u,c=Object.create(null),f,d=Object.create(null),h=new Map,p,m=new ey.LinkedMap,g=Object.create(null),T=Object.create(null),b=jt.Off,S=Zr.Text,B,z=ei.New,ne=new yl.Emitter,Te=new yl.Emitter,H=new yl.Emitter,ae=new yl.Emitter,ee=new yl.Emitter,De=r&&r.cancellationStrategy?r.cancellationStrategy:Hd.Message;function Ye(I){if(I===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+I.toString()}function Ge(I){return I===null?"res-unknown-"+(++o).toString():"res-"+I.toString()}function At(){return"not-"+(++a).toString()}function Qn(I,D){Se.isRequestMessage(D)?I.set(Ye(D.id),D):Se.isResponseMessage(D)?I.set(Ge(D.id),D):I.set(At(),D)}function at(I){}function Jn(){return z===ei.Listening}function mi(){return z===ei.Closed}function Jt(){return z===ei.Disposed}function vr(){(z===ei.New||z===ei.Listening)&&(z=ei.Closed,Te.fire(void 0))}function le(I){ne.fire([I,void 0,void 0])}function Ae(I){ne.fire(I)}t.onClose(vr),t.onError(le),e.onClose(vr),e.onError(Ae);function Ve(){p||m.size===0||(p=Z_.default().timer.setImmediate(()=>{p=void 0,K()}))}function K(){if(m.size===0)return;let I=m.shift();try{Se.isRequestMessage(I)?tt(I):Se.isNotificationMessage(I)?Pn(I):Se.isResponseMessage(I)?It(I):Li(I)}finally{Ve()}}let ot=I=>{try{if(Se.isNotificationMessage(I)&&I.method===bl.type.method){let D=Ye(I.params.id),y=m.get(D);if(Se.isRequestMessage(y)){let A=r?.connectionStrategy,R=A&&A.cancelUndispatched?A.cancelUndispatched(y,at):void 0;if(R&&(R.error!==void 0||R.result!==void 0)){m.delete(D),R.id=y.id,ns(R,I.method,Date.now()),e.write(R);return}}}Qn(m,I)}finally{Ve()}};function tt(I){if(Jt())return;function D(M,oe,ye){let ke={jsonrpc:l,id:I.id};M instanceof Se.ResponseError?ke.error=M.toJson():ke.result=M===void 0?null:M,ns(ke,oe,ye),e.write(ke)}function y(M,oe,ye){let ke={jsonrpc:l,id:I.id,error:M.toJson()};ns(ke,oe,ye),e.write(ke)}function A(M,oe,ye){M===void 0&&(M=null);let ke={jsonrpc:l,id:I.id,result:M};ns(ke,oe,ye),e.write(ke)}Zn(I);let R=c[I.method],C,_;R&&(C=R.type,_=R.handler);let w=Date.now();if(_||u){let M=String(I.id),oe=De.receiver.createCancellationTokenSource(M);T[M]=oe;try{let ye;if(_)if(I.params===void 0){if(C!==void 0&&C.numberOfParams!==0){y(new Se.ResponseError(Se.ErrorCodes.InvalidParams,`Request ${I.method} defines ${C.numberOfParams} params but recevied none.`),I.method,w);return}ye=_(oe.token)}else if(Array.isArray(I.params)){if(C!==void 0&&C.parameterStructures===Se.ParameterStructures.byName){y(new Se.ResponseError(Se.ErrorCodes.InvalidParams,`Request ${I.method} defines parameters by name but received parameters by position`),I.method,w);return}ye=_(...I.params,oe.token)}else{if(C!==void 0&&C.parameterStructures===Se.ParameterStructures.byPosition){y(new Se.ResponseError(Se.ErrorCodes.InvalidParams,`Request ${I.method} defines parameters by position but received parameters by name`),I.method,w);return}ye=_(I.params,oe.token)}else u&&(ye=u(I.method,I.params,oe.token));let ke=ye;ye?ke.then?ke.then(lt=>{delete T[M],D(lt,I.method,w)},lt=>{delete T[M],lt instanceof Se.ResponseError?y(lt,I.method,w):lt&&rn.string(lt.message)?y(new Se.ResponseError(Se.ErrorCodes.InternalError,`Request ${I.method} failed with message: ${lt.message}`),I.method,w):y(new Se.ResponseError(Se.ErrorCodes.InternalError,`Request ${I.method} failed unexpectedly without providing any details.`),I.method,w)}):(delete T[M],D(ye,I.method,w)):(delete T[M],A(ye,I.method,w))}catch(ye){delete T[M],ye instanceof Se.ResponseError?D(ye,I.method,w):ye&&rn.string(ye.message)?y(new Se.ResponseError(Se.ErrorCodes.InternalError,`Request ${I.method} failed with message: ${ye.message}`),I.method,w):y(new Se.ResponseError(Se.ErrorCodes.InternalError,`Request ${I.method} failed unexpectedly without providing any details.`),I.method,w)}}else y(new Se.ResponseError(Se.ErrorCodes.MethodNotFound,`Unhandled method ${I.method}`),I.method,w)}function It(I){if(!Jt())if(I.id===null)I.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(I.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let D=String(I.id),y=g[D];if(x(I,y),y){delete g[D];try{if(I.error){let A=I.error;y.reject(new Se.ResponseError(A.code,A.message,A.data))}else if(I.result!==void 0)y.resolve(I.result);else throw new Error("Should never happen.")}catch(A){A.message?i.error(`Response handler '${y.method}' failed with message: ${A.message}`):i.error(`Response handler '${y.method}' failed unexpectedly.`)}}}}function Pn(I){if(Jt())return;let D,y;if(I.method===bl.type.method)y=A=>{let R=A.id,C=T[String(R)];C&&C.cancel()};else{let A=d[I.method];A&&(y=A.handler,D=A.type)}if(y||f)try{fl(I),y?I.params===void 0?(D!==void 0&&D.numberOfParams!==0&&D.parameterStructures!==Se.ParameterStructures.byName&&i.error(`Notification ${I.method} defines ${D.numberOfParams} params but recevied none.`),y()):Array.isArray(I.params)?(D!==void 0&&(D.parameterStructures===Se.ParameterStructures.byName&&i.error(`Notification ${I.method} defines parameters by name but received parameters by position`),D.numberOfParams!==I.params.length&&i.error(`Notification ${I.method} defines ${D.numberOfParams} params but received ${I.params.length} argumennts`)),y(...I.params)):(D!==void 0&&D.parameterStructures===Se.ParameterStructures.byPosition&&i.error(`Notification ${I.method} defines parameters by position but received parameters by name`),y(I.params)):f&&f(I.method,I.params)}catch(A){A.message?i.error(`Notification handler '${I.method}' failed with message: ${A.message}`):i.error(`Notification handler '${I.method}' failed unexpectedly.`)}else H.fire(I)}function Li(I){if(!I){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(I,null,4)}`);let D=I;if(rn.string(D.id)||rn.number(D.id)){let y=String(D.id),A=g[y];A&&A.reject(new Error("The received response has neither a result nor an error property."))}}function hi(I){if(!(b===jt.Off||!B))if(S===Zr.Text){let D;b===jt.Verbose&&I.params&&(D=`Params: ${JSON.stringify(I.params,null,4)}

`),B.log(`Sending request '${I.method} - (${I.id})'.`,D)}else F("send-request",I)}function cl(I){if(!(b===jt.Off||!B))if(S===Zr.Text){let D;b===jt.Verbose&&(I.params?D=`Params: ${JSON.stringify(I.params,null,4)}

`:D=`No parameters provided.

`),B.log(`Sending notification '${I.method}'.`,D)}else F("send-notification",I)}function ns(I,D,y){if(!(b===jt.Off||!B))if(S===Zr.Text){let A;b===jt.Verbose&&(I.error&&I.error.data?A=`Error data: ${JSON.stringify(I.error.data,null,4)}

`:I.result?A=`Result: ${JSON.stringify(I.result,null,4)}

`:I.error===void 0&&(A=`No result returned.

`)),B.log(`Sending response '${D} - (${I.id})'. Processing request took ${Date.now()-y}ms`,A)}else F("send-response",I)}function Zn(I){if(!(b===jt.Off||!B))if(S===Zr.Text){let D;b===jt.Verbose&&I.params&&(D=`Params: ${JSON.stringify(I.params,null,4)}

`),B.log(`Received request '${I.method} - (${I.id})'.`,D)}else F("receive-request",I)}function fl(I){if(!(b===jt.Off||!B||I.method===Ud.type.method))if(S===Zr.Text){let D;b===jt.Verbose&&(I.params?D=`Params: ${JSON.stringify(I.params,null,4)}

`:D=`No parameters provided.

`),B.log(`Received notification '${I.method}'.`,D)}else F("receive-notification",I)}function x(I,D){if(!(b===jt.Off||!B))if(S===Zr.Text){let y;if(b===jt.Verbose&&(I.error&&I.error.data?y=`Error data: ${JSON.stringify(I.error.data,null,4)}

`:I.result?y=`Result: ${JSON.stringify(I.result,null,4)}

`:I.error===void 0&&(y=`No result returned.

`)),D){let A=I.error?` Request failed: ${I.error.message} (${I.error.code}).`:"";B.log(`Received response '${D.method} - (${I.id})' in ${Date.now()-D.timerStart}ms.${A}`,y)}else B.log(`Received response ${I.id} without active response promise.`,y)}else F("receive-response",I)}function F(I,D){if(!B||b===jt.Off)return;let y={isLSPMessage:!0,type:I,message:D,timestamp:Date.now()};B.log(y)}function Q(){if(mi())throw new ls(Qu.Closed,"Connection is closed.");if(Jt())throw new ls(Qu.Disposed,"Connection is disposed.")}function q(){if(Jn())throw new ls(Qu.AlreadyListening,"Connection is already listening")}function O(){if(!Jn())throw new Error("Call listen() first.")}function se(I){return I===void 0?null:I}function re(I){if(I!==null)return I}function fe(I){return I!=null&&!Array.isArray(I)&&typeof I=="object"}function _t(I,D){switch(I){case Se.ParameterStructures.auto:return fe(D)?re(D):[se(D)];case Se.ParameterStructures.byName:if(!fe(D))throw new Error("Recevied parameters by name but param is not an object literal.");return re(D);case Se.ParameterStructures.byPosition:return[se(D)];default:throw new Error(`Unknown parameter structure ${I.toString()}`)}}function Lt(I,D){let y,A=I.numberOfParams;switch(A){case 0:y=void 0;break;case 1:y=_t(I.parameterStructures,D[0]);break;default:y=[];for(let R=0;R<D.length&&R<A;R++)y.push(se(D[R]));if(D.length<A)for(let R=D.length;R<A;R++)y.push(null);break}return y}let rs={sendNotification:(I,...D)=>{Q();let y,A;if(rn.string(I)){y=I;let C=D[0],_=0,w=Se.ParameterStructures.auto;Se.ParameterStructures.is(C)&&(_=1,w=C);let M=D.length,oe=M-_;switch(oe){case 0:A=void 0;break;case 1:A=_t(w,D[_]);break;default:if(w===Se.ParameterStructures.byName)throw new Error(`Recevied ${oe} parameters for 'by Name' notification parameter structure.`);A=D.slice(_,M).map(ye=>se(ye));break}}else{let C=D;y=I.method,A=Lt(I,C)}let R={jsonrpc:l,method:y,params:A};cl(R),e.write(R)},onNotification:(I,D)=>{Q();let y;return rn.func(I)?f=I:D&&(rn.string(I)?(y=I,d[I]={type:void 0,handler:D}):(y=I.method,d[I.method]={type:I,handler:D})),{dispose:()=>{y!==void 0?delete d[y]:f=void 0}}},onProgress:(I,D,y)=>{if(h.has(D))throw new Error(`Progress handler for token ${D} already registered`);return h.set(D,y),{dispose:()=>{h.delete(D)}}},sendProgress:(I,D,y)=>{rs.sendNotification(Ju.type,{token:D,value:y})},onUnhandledProgress:ae.event,sendRequest:(I,...D)=>{Q(),O();let y,A,R;if(rn.string(I)){y=I;let M=D[0],oe=D[D.length-1],ye=0,ke=Se.ParameterStructures.auto;Se.ParameterStructures.is(M)&&(ye=1,ke=M);let lt=D.length;Vd.CancellationToken.is(oe)&&(lt=lt-1,R=oe);let Kt=lt-ye;switch(Kt){case 0:A=void 0;break;case 1:A=_t(ke,D[ye]);break;default:if(ke===Se.ParameterStructures.byName)throw new Error(`Recevied ${Kt} parameters for 'by Name' request parameter structure.`);A=D.slice(ye,lt).map(Zt=>se(Zt));break}}else{let M=D;y=I.method,A=Lt(I,M);let oe=I.numberOfParams;R=Vd.CancellationToken.is(M[oe])?M[oe]:void 0}let C=s++,_;return R&&(_=R.onCancellationRequested(()=>{De.sender.sendCancellation(rs,C)})),new Promise((M,oe)=>{let ye={jsonrpc:l,id:C,method:y,params:A},ke=Zt=>{M(Zt),De.sender.cleanup(C),_?.dispose()},lt=Zt=>{oe(Zt),De.sender.cleanup(C),_?.dispose()},Kt={method:y,timerStart:Date.now(),resolve:ke,reject:lt};hi(ye);try{e.write(ye)}catch(Zt){Kt.reject(new Se.ResponseError(Se.ErrorCodes.MessageWriteError,Zt.message?Zt.message:"Unknown reason")),Kt=null}Kt&&(g[String(C)]=Kt)})},onRequest:(I,D)=>{Q();let y=null;return jd.is(I)?(y=void 0,u=I):rn.string(I)?(y=null,D!==void 0&&(y=I,c[I]={handler:D,type:void 0})):D!==void 0&&(y=I.method,c[I.method]={type:I,handler:D}),{dispose:()=>{y!==null&&(y!==void 0?delete c[y]:u=void 0)}}},trace:(I,D,y)=>{let A=!1,R=Zr.Text;y!==void 0&&(rn.boolean(y)?A=y:(A=y.sendNotification||!1,R=y.traceFormat||Zr.Text)),b=I,S=R,b===jt.Off?B=void 0:B=D,A&&!mi()&&!Jt()&&rs.sendNotification(ty.type,{value:jt.toString(I)})},onError:ne.event,onClose:Te.event,onUnhandledNotification:H.event,onDispose:ee.event,end:()=>{e.end()},dispose:()=>{if(Jt())return;z=ei.Disposed,ee.fire(void 0);let I=new Error("Connection got disposed.");Object.keys(g).forEach(D=>{g[D].reject(I)}),g=Object.create(null),T=Object.create(null),m=new ey.LinkedMap,rn.func(e.dispose)&&e.dispose(),rn.func(t.dispose)&&t.dispose()},listen:()=>{Q(),q(),z=ei.Listening,t.listen(ot)},inspect:()=>{Z_.default().console.log("inspect")}};return rs.onNotification(Ud.type,I=>{b===jt.Off||!B||B.log(I.message,b===jt.Verbose?I.verbose:void 0)}),rs.onNotification(Ju.type,I=>{let D=h.get(I.token);D?D(I.value):ae.fire(I)}),rs}Ee.createMessageConnection=iS});var Kd=Y($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.CancellationSenderStrategy=$.CancellationReceiverStrategy=$.ConnectionError=$.ConnectionErrors=$.LogTraceNotification=$.SetTraceNotification=$.TraceFormat=$.Trace=$.ProgressType=$.createMessageConnection=$.NullLogger=$.ConnectionOptions=$.ConnectionStrategy=$.WriteableStreamMessageWriter=$.AbstractMessageWriter=$.MessageWriter=$.ReadableStreamMessageReader=$.AbstractMessageReader=$.MessageReader=$.CancellationToken=$.CancellationTokenSource=$.Emitter=$.Event=$.Disposable=$.ParameterStructures=$.NotificationType9=$.NotificationType8=$.NotificationType7=$.NotificationType6=$.NotificationType5=$.NotificationType4=$.NotificationType3=$.NotificationType2=$.NotificationType1=$.NotificationType0=$.NotificationType=$.ErrorCodes=$.ResponseError=$.RequestType9=$.RequestType8=$.RequestType7=$.RequestType6=$.RequestType5=$.RequestType4=$.RequestType3=$.RequestType2=$.RequestType1=$.RequestType0=$.RequestType=$.RAL=void 0;$.CancellationStrategy=void 0;var dt=Sd();Object.defineProperty($,"RequestType",{enumerable:!0,get:function(){return dt.RequestType}});Object.defineProperty($,"RequestType0",{enumerable:!0,get:function(){return dt.RequestType0}});Object.defineProperty($,"RequestType1",{enumerable:!0,get:function(){return dt.RequestType1}});Object.defineProperty($,"RequestType2",{enumerable:!0,get:function(){return dt.RequestType2}});Object.defineProperty($,"RequestType3",{enumerable:!0,get:function(){return dt.RequestType3}});Object.defineProperty($,"RequestType4",{enumerable:!0,get:function(){return dt.RequestType4}});Object.defineProperty($,"RequestType5",{enumerable:!0,get:function(){return dt.RequestType5}});Object.defineProperty($,"RequestType6",{enumerable:!0,get:function(){return dt.RequestType6}});Object.defineProperty($,"RequestType7",{enumerable:!0,get:function(){return dt.RequestType7}});Object.defineProperty($,"RequestType8",{enumerable:!0,get:function(){return dt.RequestType8}});Object.defineProperty($,"RequestType9",{enumerable:!0,get:function(){return dt.RequestType9}});Object.defineProperty($,"ResponseError",{enumerable:!0,get:function(){return dt.ResponseError}});Object.defineProperty($,"ErrorCodes",{enumerable:!0,get:function(){return dt.ErrorCodes}});Object.defineProperty($,"NotificationType",{enumerable:!0,get:function(){return dt.NotificationType}});Object.defineProperty($,"NotificationType0",{enumerable:!0,get:function(){return dt.NotificationType0}});Object.defineProperty($,"NotificationType1",{enumerable:!0,get:function(){return dt.NotificationType1}});Object.defineProperty($,"NotificationType2",{enumerable:!0,get:function(){return dt.NotificationType2}});Object.defineProperty($,"NotificationType3",{enumerable:!0,get:function(){return dt.NotificationType3}});Object.defineProperty($,"NotificationType4",{enumerable:!0,get:function(){return dt.NotificationType4}});Object.defineProperty($,"NotificationType5",{enumerable:!0,get:function(){return dt.NotificationType5}});Object.defineProperty($,"NotificationType6",{enumerable:!0,get:function(){return dt.NotificationType6}});Object.defineProperty($,"NotificationType7",{enumerable:!0,get:function(){return dt.NotificationType7}});Object.defineProperty($,"NotificationType8",{enumerable:!0,get:function(){return dt.NotificationType8}});Object.defineProperty($,"NotificationType9",{enumerable:!0,get:function(){return dt.NotificationType9}});Object.defineProperty($,"ParameterStructures",{enumerable:!0,get:function(){return dt.ParameterStructures}});var sS=Jp();Object.defineProperty($,"Disposable",{enumerable:!0,get:function(){return sS.Disposable}});var iy=Ja();Object.defineProperty($,"Event",{enumerable:!0,get:function(){return iy.Event}});Object.defineProperty($,"Emitter",{enumerable:!0,get:function(){return iy.Emitter}});var sy=Rd();Object.defineProperty($,"CancellationTokenSource",{enumerable:!0,get:function(){return sy.CancellationTokenSource}});Object.defineProperty($,"CancellationToken",{enumerable:!0,get:function(){return sy.CancellationToken}});var Yd=Y_();Object.defineProperty($,"MessageReader",{enumerable:!0,get:function(){return Yd.MessageReader}});Object.defineProperty($,"AbstractMessageReader",{enumerable:!0,get:function(){return Yd.AbstractMessageReader}});Object.defineProperty($,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Yd.ReadableStreamMessageReader}});var $d=Q_();Object.defineProperty($,"MessageWriter",{enumerable:!0,get:function(){return $d.MessageWriter}});Object.defineProperty($,"AbstractMessageWriter",{enumerable:!0,get:function(){return $d.AbstractMessageWriter}});Object.defineProperty($,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return $d.WriteableStreamMessageWriter}});var Gn=ry();Object.defineProperty($,"ConnectionStrategy",{enumerable:!0,get:function(){return Gn.ConnectionStrategy}});Object.defineProperty($,"ConnectionOptions",{enumerable:!0,get:function(){return Gn.ConnectionOptions}});Object.defineProperty($,"NullLogger",{enumerable:!0,get:function(){return Gn.NullLogger}});Object.defineProperty($,"createMessageConnection",{enumerable:!0,get:function(){return Gn.createMessageConnection}});Object.defineProperty($,"ProgressType",{enumerable:!0,get:function(){return Gn.ProgressType}});Object.defineProperty($,"Trace",{enumerable:!0,get:function(){return Gn.Trace}});Object.defineProperty($,"TraceFormat",{enumerable:!0,get:function(){return Gn.TraceFormat}});Object.defineProperty($,"SetTraceNotification",{enumerable:!0,get:function(){return Gn.SetTraceNotification}});Object.defineProperty($,"LogTraceNotification",{enumerable:!0,get:function(){return Gn.LogTraceNotification}});Object.defineProperty($,"ConnectionErrors",{enumerable:!0,get:function(){return Gn.ConnectionErrors}});Object.defineProperty($,"ConnectionError",{enumerable:!0,get:function(){return Gn.ConnectionError}});Object.defineProperty($,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Gn.CancellationReceiverStrategy}});Object.defineProperty($,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Gn.CancellationSenderStrategy}});Object.defineProperty($,"CancellationStrategy",{enumerable:!0,get:function(){return Gn.CancellationStrategy}});var aS=qi();$.RAL=aS.default});var to=Y(Qe=>{"use strict";var oS=Qe&&Qe.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),lS=Qe&&Qe.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&oS(e,t,n)};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.createMessageConnection=Qe.createServerSocketTransport=Qe.createClientSocketTransport=Qe.createServerPipeTransport=Qe.createClientPipeTransport=Qe.generateRandomPipeName=Qe.StreamMessageWriter=Qe.StreamMessageReader=Qe.SocketMessageWriter=Qe.SocketMessageReader=Qe.IPCMessageWriter=Qe.IPCMessageReader=void 0;var eo=j_();eo.default.install();var Ti=Kd(),ay=require("path"),uS=require("os"),cS=require("crypto"),tc=require("net");lS(Kd(),Qe);var zd=class extends Ti.AbstractMessageReader{constructor(e){super(),this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Ti.Disposable.create(()=>this.process.off("message",e))}};Qe.IPCMessageReader=zd;var Xd=class extends Ti.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};Qe.IPCMessageWriter=Xd;var ea=class extends Ti.ReadableStreamMessageReader{constructor(e,n="utf-8"){super(eo.default().stream.asReadableStream(e),n)}};Qe.SocketMessageReader=ea;var ta=class extends Ti.WriteableStreamMessageWriter{constructor(e,n){super(eo.default().stream.asWritableStream(e),n),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Qe.SocketMessageWriter=ta;var Zu=class extends Ti.ReadableStreamMessageReader{constructor(e,n){super(eo.default().stream.asReadableStream(e),n)}};Qe.StreamMessageReader=Zu;var ec=class extends Ti.WriteableStreamMessageWriter{constructor(e,n){super(eo.default().stream.asWritableStream(e),n)}};Qe.StreamMessageWriter=ec;var oy=process.env.XDG_RUNTIME_DIR,fS=new Map([["linux",107],["darwin",103]]);function pS(){let t=cS.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;oy?e=ay.join(oy,`vscode-ipc-${t}.sock`):e=ay.join(uS.tmpdir(),`vscode-${t}.sock`);let n=fS.get(process.platform);return n!==void 0&&e.length>=n&&eo.default().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}Qe.generateRandomPipeName=pS;function dS(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let a=tc.createServer(o=>{a.close(),n([new ea(o,e),new ta(o,e)])});a.on("error",s),a.listen(t,()=>{a.removeListener("error",s),i({onConnected:()=>r})})})}Qe.createClientPipeTransport=dS;function mS(t,e="utf-8"){let n=tc.createConnection(t);return[new ea(n,e),new ta(n,e)]}Qe.createServerPipeTransport=mS;function hS(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let a=tc.createServer(o=>{a.close(),n([new ea(o,e),new ta(o,e)])});a.on("error",s),a.listen(t,"127.0.0.1",()=>{a.removeListener("error",s),i({onConnected:()=>r})})})}Qe.createClientSocketTransport=hS;function gS(t,e="utf-8"){let n=tc.createConnection(t,"127.0.0.1");return[new ea(n,e),new ta(n,e)]}Qe.createServerSocketTransport=gS;function _S(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function yS(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function bS(t,e,n,r){n||(n=Ti.NullLogger);let i=_S(t)?new Zu(t):t,s=yS(e)?new ec(e):e;return Ti.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),Ti.createMessageConnection(i,s,n,r)}Qe.createMessageConnection=bS});var Qd=Y((aB,ly)=>{"use strict";ly.exports=to()});var yt=Y((uy,nc)=>{(function(t){if(typeof nc=="object"&&typeof nc.exports=="object"){var e=t(require,uy);e!==void 0&&(nc.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=void 0;var n;(function(y){y.MIN_VALUE=-2147483648,y.MAX_VALUE=2147483647})(n=e.integer||(e.integer={}));var r;(function(y){y.MIN_VALUE=0,y.MAX_VALUE=2147483647})(r=e.uinteger||(e.uinteger={}));var i;(function(y){function A(C,_){return C===Number.MAX_VALUE&&(C=r.MAX_VALUE),_===Number.MAX_VALUE&&(_=r.MAX_VALUE),{line:C,character:_}}y.create=A;function R(C){var _=C;return D.objectLiteral(_)&&D.uinteger(_.line)&&D.uinteger(_.character)}y.is=R})(i=e.Position||(e.Position={}));var s;(function(y){function A(C,_,w,M){if(D.uinteger(C)&&D.uinteger(_)&&D.uinteger(w)&&D.uinteger(M))return{start:i.create(C,_),end:i.create(w,M)};if(i.is(C)&&i.is(_))return{start:C,end:_};throw new Error("Range#create called with invalid arguments["+C+", "+_+", "+w+", "+M+"]")}y.create=A;function R(C){var _=C;return D.objectLiteral(_)&&i.is(_.start)&&i.is(_.end)}y.is=R})(s=e.Range||(e.Range={}));var a;(function(y){function A(C,_){return{uri:C,range:_}}y.create=A;function R(C){var _=C;return D.defined(_)&&s.is(_.range)&&(D.string(_.uri)||D.undefined(_.uri))}y.is=R})(a=e.Location||(e.Location={}));var o;(function(y){function A(C,_,w,M){return{targetUri:C,targetRange:_,targetSelectionRange:w,originSelectionRange:M}}y.create=A;function R(C){var _=C;return D.defined(_)&&s.is(_.targetRange)&&D.string(_.targetUri)&&(s.is(_.targetSelectionRange)||D.undefined(_.targetSelectionRange))&&(s.is(_.originSelectionRange)||D.undefined(_.originSelectionRange))}y.is=R})(o=e.LocationLink||(e.LocationLink={}));var l;(function(y){function A(C,_,w,M){return{red:C,green:_,blue:w,alpha:M}}y.create=A;function R(C){var _=C;return D.numberRange(_.red,0,1)&&D.numberRange(_.green,0,1)&&D.numberRange(_.blue,0,1)&&D.numberRange(_.alpha,0,1)}y.is=R})(l=e.Color||(e.Color={}));var u;(function(y){function A(C,_){return{range:C,color:_}}y.create=A;function R(C){var _=C;return s.is(_.range)&&l.is(_.color)}y.is=R})(u=e.ColorInformation||(e.ColorInformation={}));var c;(function(y){function A(C,_,w){return{label:C,textEdit:_,additionalTextEdits:w}}y.create=A;function R(C){var _=C;return D.string(_.label)&&(D.undefined(_.textEdit)||S.is(_))&&(D.undefined(_.additionalTextEdits)||D.typedArray(_.additionalTextEdits,S.is))}y.is=R})(c=e.ColorPresentation||(e.ColorPresentation={}));var f;(function(y){y.Comment="comment",y.Imports="imports",y.Region="region"})(f=e.FoldingRangeKind||(e.FoldingRangeKind={}));var d;(function(y){function A(C,_,w,M,oe){var ye={startLine:C,endLine:_};return D.defined(w)&&(ye.startCharacter=w),D.defined(M)&&(ye.endCharacter=M),D.defined(oe)&&(ye.kind=oe),ye}y.create=A;function R(C){var _=C;return D.uinteger(_.startLine)&&D.uinteger(_.startLine)&&(D.undefined(_.startCharacter)||D.uinteger(_.startCharacter))&&(D.undefined(_.endCharacter)||D.uinteger(_.endCharacter))&&(D.undefined(_.kind)||D.string(_.kind))}y.is=R})(d=e.FoldingRange||(e.FoldingRange={}));var h;(function(y){function A(C,_){return{location:C,message:_}}y.create=A;function R(C){var _=C;return D.defined(_)&&a.is(_.location)&&D.string(_.message)}y.is=R})(h=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var p;(function(y){y.Error=1,y.Warning=2,y.Information=3,y.Hint=4})(p=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var m;(function(y){y.Unnecessary=1,y.Deprecated=2})(m=e.DiagnosticTag||(e.DiagnosticTag={}));var g;(function(y){function A(R){var C=R;return C!=null&&D.string(C.href)}y.is=A})(g=e.CodeDescription||(e.CodeDescription={}));var T;(function(y){function A(C,_,w,M,oe,ye){var ke={range:C,message:_};return D.defined(w)&&(ke.severity=w),D.defined(M)&&(ke.code=M),D.defined(oe)&&(ke.source=oe),D.defined(ye)&&(ke.relatedInformation=ye),ke}y.create=A;function R(C){var _,w=C;return D.defined(w)&&s.is(w.range)&&D.string(w.message)&&(D.number(w.severity)||D.undefined(w.severity))&&(D.integer(w.code)||D.string(w.code)||D.undefined(w.code))&&(D.undefined(w.codeDescription)||D.string((_=w.codeDescription)===null||_===void 0?void 0:_.href))&&(D.string(w.source)||D.undefined(w.source))&&(D.undefined(w.relatedInformation)||D.typedArray(w.relatedInformation,h.is))}y.is=R})(T=e.Diagnostic||(e.Diagnostic={}));var b;(function(y){function A(C,_){for(var w=[],M=2;M<arguments.length;M++)w[M-2]=arguments[M];var oe={title:C,command:_};return D.defined(w)&&w.length>0&&(oe.arguments=w),oe}y.create=A;function R(C){var _=C;return D.defined(_)&&D.string(_.title)&&D.string(_.command)}y.is=R})(b=e.Command||(e.Command={}));var S;(function(y){function A(w,M){return{range:w,newText:M}}y.replace=A;function R(w,M){return{range:{start:w,end:w},newText:M}}y.insert=R;function C(w){return{range:w,newText:""}}y.del=C;function _(w){var M=w;return D.objectLiteral(M)&&D.string(M.newText)&&s.is(M.range)}y.is=_})(S=e.TextEdit||(e.TextEdit={}));var B;(function(y){function A(C,_,w){var M={label:C};return _!==void 0&&(M.needsConfirmation=_),w!==void 0&&(M.description=w),M}y.create=A;function R(C){var _=C;return _!==void 0&&D.objectLiteral(_)&&D.string(_.label)&&(D.boolean(_.needsConfirmation)||_.needsConfirmation===void 0)&&(D.string(_.description)||_.description===void 0)}y.is=R})(B=e.ChangeAnnotation||(e.ChangeAnnotation={}));var z;(function(y){function A(R){var C=R;return typeof C=="string"}y.is=A})(z=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var ne;(function(y){function A(w,M,oe){return{range:w,newText:M,annotationId:oe}}y.replace=A;function R(w,M,oe){return{range:{start:w,end:w},newText:M,annotationId:oe}}y.insert=R;function C(w,M){return{range:w,newText:"",annotationId:M}}y.del=C;function _(w){var M=w;return S.is(M)&&(B.is(M.annotationId)||z.is(M.annotationId))}y.is=_})(ne=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var Te;(function(y){function A(C,_){return{textDocument:C,edits:_}}y.create=A;function R(C){var _=C;return D.defined(_)&&Jn.is(_.textDocument)&&Array.isArray(_.edits)}y.is=R})(Te=e.TextDocumentEdit||(e.TextDocumentEdit={}));var H;(function(y){function A(C,_,w){var M={kind:"create",uri:C};return _!==void 0&&(_.overwrite!==void 0||_.ignoreIfExists!==void 0)&&(M.options=_),w!==void 0&&(M.annotationId=w),M}y.create=A;function R(C){var _=C;return _&&_.kind==="create"&&D.string(_.uri)&&(_.options===void 0||(_.options.overwrite===void 0||D.boolean(_.options.overwrite))&&(_.options.ignoreIfExists===void 0||D.boolean(_.options.ignoreIfExists)))&&(_.annotationId===void 0||z.is(_.annotationId))}y.is=R})(H=e.CreateFile||(e.CreateFile={}));var ae;(function(y){function A(C,_,w,M){var oe={kind:"rename",oldUri:C,newUri:_};return w!==void 0&&(w.overwrite!==void 0||w.ignoreIfExists!==void 0)&&(oe.options=w),M!==void 0&&(oe.annotationId=M),oe}y.create=A;function R(C){var _=C;return _&&_.kind==="rename"&&D.string(_.oldUri)&&D.string(_.newUri)&&(_.options===void 0||(_.options.overwrite===void 0||D.boolean(_.options.overwrite))&&(_.options.ignoreIfExists===void 0||D.boolean(_.options.ignoreIfExists)))&&(_.annotationId===void 0||z.is(_.annotationId))}y.is=R})(ae=e.RenameFile||(e.RenameFile={}));var ee;(function(y){function A(C,_,w){var M={kind:"delete",uri:C};return _!==void 0&&(_.recursive!==void 0||_.ignoreIfNotExists!==void 0)&&(M.options=_),w!==void 0&&(M.annotationId=w),M}y.create=A;function R(C){var _=C;return _&&_.kind==="delete"&&D.string(_.uri)&&(_.options===void 0||(_.options.recursive===void 0||D.boolean(_.options.recursive))&&(_.options.ignoreIfNotExists===void 0||D.boolean(_.options.ignoreIfNotExists)))&&(_.annotationId===void 0||z.is(_.annotationId))}y.is=R})(ee=e.DeleteFile||(e.DeleteFile={}));var De;(function(y){function A(R){var C=R;return C&&(C.changes!==void 0||C.documentChanges!==void 0)&&(C.documentChanges===void 0||C.documentChanges.every(function(_){return D.string(_.kind)?H.is(_)||ae.is(_)||ee.is(_):Te.is(_)}))}y.is=A})(De=e.WorkspaceEdit||(e.WorkspaceEdit={}));var Ye=function(){function y(A,R){this.edits=A,this.changeAnnotations=R}return y.prototype.insert=function(A,R,C){var _,w;if(C===void 0?_=S.insert(A,R):z.is(C)?(w=C,_=ne.insert(A,R,C)):(this.assertChangeAnnotations(this.changeAnnotations),w=this.changeAnnotations.manage(C),_=ne.insert(A,R,w)),this.edits.push(_),w!==void 0)return w},y.prototype.replace=function(A,R,C){var _,w;if(C===void 0?_=S.replace(A,R):z.is(C)?(w=C,_=ne.replace(A,R,C)):(this.assertChangeAnnotations(this.changeAnnotations),w=this.changeAnnotations.manage(C),_=ne.replace(A,R,w)),this.edits.push(_),w!==void 0)return w},y.prototype.delete=function(A,R){var C,_;if(R===void 0?C=S.del(A):z.is(R)?(_=R,C=ne.del(A,R)):(this.assertChangeAnnotations(this.changeAnnotations),_=this.changeAnnotations.manage(R),C=ne.del(A,_)),this.edits.push(C),_!==void 0)return _},y.prototype.add=function(A){this.edits.push(A)},y.prototype.all=function(){return this.edits},y.prototype.clear=function(){this.edits.splice(0,this.edits.length)},y.prototype.assertChangeAnnotations=function(A){if(A===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},y}(),Ge=function(){function y(A){this._annotations=A===void 0?Object.create(null):A,this._counter=0,this._size=0}return y.prototype.all=function(){return this._annotations},Object.defineProperty(y.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),y.prototype.manage=function(A,R){var C;if(z.is(A)?C=A:(C=this.nextId(),R=A),this._annotations[C]!==void 0)throw new Error("Id "+C+" is already in use.");if(R===void 0)throw new Error("No annotation provided for id "+C);return this._annotations[C]=R,this._size++,C},y.prototype.nextId=function(){return this._counter++,this._counter.toString()},y}(),At=function(){function y(A){var R=this;this._textEditChanges=Object.create(null),A!==void 0?(this._workspaceEdit=A,A.documentChanges?(this._changeAnnotations=new Ge(A.changeAnnotations),A.changeAnnotations=this._changeAnnotations.all(),A.documentChanges.forEach(function(C){if(Te.is(C)){var _=new Ye(C.edits,R._changeAnnotations);R._textEditChanges[C.textDocument.uri]=_}})):A.changes&&Object.keys(A.changes).forEach(function(C){var _=new Ye(A.changes[C]);R._textEditChanges[C]=_})):this._workspaceEdit={}}return Object.defineProperty(y.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),y.prototype.getTextEditChange=function(A){if(Jn.is(A)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var R={uri:A.uri,version:A.version},C=this._textEditChanges[R.uri];if(!C){var _=[],w={textDocument:R,edits:_};this._workspaceEdit.documentChanges.push(w),C=new Ye(_,this._changeAnnotations),this._textEditChanges[R.uri]=C}return C}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var C=this._textEditChanges[A];if(!C){var _=[];this._workspaceEdit.changes[A]=_,C=new Ye(_),this._textEditChanges[A]=C}return C}},y.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Ge,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},y.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},y.prototype.createFile=function(A,R,C){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var _;B.is(R)||z.is(R)?_=R:C=R;var w,M;if(_===void 0?w=H.create(A,C):(M=z.is(_)?_:this._changeAnnotations.manage(_),w=H.create(A,C,M)),this._workspaceEdit.documentChanges.push(w),M!==void 0)return M},y.prototype.renameFile=function(A,R,C,_){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var w;B.is(C)||z.is(C)?w=C:_=C;var M,oe;if(w===void 0?M=ae.create(A,R,_):(oe=z.is(w)?w:this._changeAnnotations.manage(w),M=ae.create(A,R,_,oe)),this._workspaceEdit.documentChanges.push(M),oe!==void 0)return oe},y.prototype.deleteFile=function(A,R,C){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var _;B.is(R)||z.is(R)?_=R:C=R;var w,M;if(_===void 0?w=ee.create(A,C):(M=z.is(_)?_:this._changeAnnotations.manage(_),w=ee.create(A,C,M)),this._workspaceEdit.documentChanges.push(w),M!==void 0)return M},y}();e.WorkspaceChange=At;var Qn;(function(y){function A(C){return{uri:C}}y.create=A;function R(C){var _=C;return D.defined(_)&&D.string(_.uri)}y.is=R})(Qn=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var at;(function(y){function A(C,_){return{uri:C,version:_}}y.create=A;function R(C){var _=C;return D.defined(_)&&D.string(_.uri)&&D.integer(_.version)}y.is=R})(at=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var Jn;(function(y){function A(C,_){return{uri:C,version:_}}y.create=A;function R(C){var _=C;return D.defined(_)&&D.string(_.uri)&&(_.version===null||D.integer(_.version))}y.is=R})(Jn=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var mi;(function(y){function A(C,_,w,M){return{uri:C,languageId:_,version:w,text:M}}y.create=A;function R(C){var _=C;return D.defined(_)&&D.string(_.uri)&&D.string(_.languageId)&&D.integer(_.version)&&D.string(_.text)}y.is=R})(mi=e.TextDocumentItem||(e.TextDocumentItem={}));var Jt;(function(y){y.PlainText="plaintext",y.Markdown="markdown"})(Jt=e.MarkupKind||(e.MarkupKind={})),function(y){function A(R){var C=R;return C===y.PlainText||C===y.Markdown}y.is=A}(Jt=e.MarkupKind||(e.MarkupKind={}));var vr;(function(y){function A(R){var C=R;return D.objectLiteral(R)&&Jt.is(C.kind)&&D.string(C.value)}y.is=A})(vr=e.MarkupContent||(e.MarkupContent={}));var le;(function(y){y.Text=1,y.Method=2,y.Function=3,y.Constructor=4,y.Field=5,y.Variable=6,y.Class=7,y.Interface=8,y.Module=9,y.Property=10,y.Unit=11,y.Value=12,y.Enum=13,y.Keyword=14,y.Snippet=15,y.Color=16,y.File=17,y.Reference=18,y.Folder=19,y.EnumMember=20,y.Constant=21,y.Struct=22,y.Event=23,y.Operator=24,y.TypeParameter=25})(le=e.CompletionItemKind||(e.CompletionItemKind={}));var Ae;(function(y){y.PlainText=1,y.Snippet=2})(Ae=e.InsertTextFormat||(e.InsertTextFormat={}));var Ve;(function(y){y.Deprecated=1})(Ve=e.CompletionItemTag||(e.CompletionItemTag={}));var K;(function(y){function A(C,_,w){return{newText:C,insert:_,replace:w}}y.create=A;function R(C){var _=C;return _&&D.string(_.newText)&&s.is(_.insert)&&s.is(_.replace)}y.is=R})(K=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var ot;(function(y){y.asIs=1,y.adjustIndentation=2})(ot=e.InsertTextMode||(e.InsertTextMode={}));var tt;(function(y){function A(R){return{label:R}}y.create=A})(tt=e.CompletionItem||(e.CompletionItem={}));var It;(function(y){function A(R,C){return{items:R||[],isIncomplete:!!C}}y.create=A})(It=e.CompletionList||(e.CompletionList={}));var Pn;(function(y){function A(C){return C.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}y.fromPlainText=A;function R(C){var _=C;return D.string(_)||D.objectLiteral(_)&&D.string(_.language)&&D.string(_.value)}y.is=R})(Pn=e.MarkedString||(e.MarkedString={}));var Li;(function(y){function A(R){var C=R;return!!C&&D.objectLiteral(C)&&(vr.is(C.contents)||Pn.is(C.contents)||D.typedArray(C.contents,Pn.is))&&(R.range===void 0||s.is(R.range))}y.is=A})(Li=e.Hover||(e.Hover={}));var hi;(function(y){function A(R,C){return C?{label:R,documentation:C}:{label:R}}y.create=A})(hi=e.ParameterInformation||(e.ParameterInformation={}));var cl;(function(y){function A(R,C){for(var _=[],w=2;w<arguments.length;w++)_[w-2]=arguments[w];var M={label:R};return D.defined(C)&&(M.documentation=C),D.defined(_)?M.parameters=_:M.parameters=[],M}y.create=A})(cl=e.SignatureInformation||(e.SignatureInformation={}));var ns;(function(y){y.Text=1,y.Read=2,y.Write=3})(ns=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var Zn;(function(y){function A(R,C){var _={range:R};return D.number(C)&&(_.kind=C),_}y.create=A})(Zn=e.DocumentHighlight||(e.DocumentHighlight={}));var fl;(function(y){y.File=1,y.Module=2,y.Namespace=3,y.Package=4,y.Class=5,y.Method=6,y.Property=7,y.Field=8,y.Constructor=9,y.Enum=10,y.Interface=11,y.Function=12,y.Variable=13,y.Constant=14,y.String=15,y.Number=16,y.Boolean=17,y.Array=18,y.Object=19,y.Key=20,y.Null=21,y.EnumMember=22,y.Struct=23,y.Event=24,y.Operator=25,y.TypeParameter=26})(fl=e.SymbolKind||(e.SymbolKind={}));var x;(function(y){y.Deprecated=1})(x=e.SymbolTag||(e.SymbolTag={}));var F;(function(y){function A(R,C,_,w,M){var oe={name:R,kind:C,location:{uri:w,range:_}};return M&&(oe.containerName=M),oe}y.create=A})(F=e.SymbolInformation||(e.SymbolInformation={}));var Q;(function(y){function A(C,_,w,M,oe,ye){var ke={name:C,detail:_,kind:w,range:M,selectionRange:oe};return ye!==void 0&&(ke.children=ye),ke}y.create=A;function R(C){var _=C;return _&&D.string(_.name)&&D.number(_.kind)&&s.is(_.range)&&s.is(_.selectionRange)&&(_.detail===void 0||D.string(_.detail))&&(_.deprecated===void 0||D.boolean(_.deprecated))&&(_.children===void 0||Array.isArray(_.children))&&(_.tags===void 0||Array.isArray(_.tags))}y.is=R})(Q=e.DocumentSymbol||(e.DocumentSymbol={}));var q;(function(y){y.Empty="",y.QuickFix="quickfix",y.Refactor="refactor",y.RefactorExtract="refactor.extract",y.RefactorInline="refactor.inline",y.RefactorRewrite="refactor.rewrite",y.Source="source",y.SourceOrganizeImports="source.organizeImports",y.SourceFixAll="source.fixAll"})(q=e.CodeActionKind||(e.CodeActionKind={}));var O;(function(y){function A(C,_){var w={diagnostics:C};return _!=null&&(w.only=_),w}y.create=A;function R(C){var _=C;return D.defined(_)&&D.typedArray(_.diagnostics,T.is)&&(_.only===void 0||D.typedArray(_.only,D.string))}y.is=R})(O=e.CodeActionContext||(e.CodeActionContext={}));var se;(function(y){function A(C,_,w){var M={title:C},oe=!0;return typeof _=="string"?(oe=!1,M.kind=_):b.is(_)?M.command=_:M.edit=_,oe&&w!==void 0&&(M.kind=w),M}y.create=A;function R(C){var _=C;return _&&D.string(_.title)&&(_.diagnostics===void 0||D.typedArray(_.diagnostics,T.is))&&(_.kind===void 0||D.string(_.kind))&&(_.edit!==void 0||_.command!==void 0)&&(_.command===void 0||b.is(_.command))&&(_.isPreferred===void 0||D.boolean(_.isPreferred))&&(_.edit===void 0||De.is(_.edit))}y.is=R})(se=e.CodeAction||(e.CodeAction={}));var re;(function(y){function A(C,_){var w={range:C};return D.defined(_)&&(w.data=_),w}y.create=A;function R(C){var _=C;return D.defined(_)&&s.is(_.range)&&(D.undefined(_.command)||b.is(_.command))}y.is=R})(re=e.CodeLens||(e.CodeLens={}));var fe;(function(y){function A(C,_){return{tabSize:C,insertSpaces:_}}y.create=A;function R(C){var _=C;return D.defined(_)&&D.uinteger(_.tabSize)&&D.boolean(_.insertSpaces)}y.is=R})(fe=e.FormattingOptions||(e.FormattingOptions={}));var _t;(function(y){function A(C,_,w){return{range:C,target:_,data:w}}y.create=A;function R(C){var _=C;return D.defined(_)&&s.is(_.range)&&(D.undefined(_.target)||D.string(_.target))}y.is=R})(_t=e.DocumentLink||(e.DocumentLink={}));var Lt;(function(y){function A(C,_){return{range:C,parent:_}}y.create=A;function R(C){var _=C;return _!==void 0&&s.is(_.range)&&(_.parent===void 0||y.is(_.parent))}y.is=R})(Lt=e.SelectionRange||(e.SelectionRange={})),e.EOL=[`
`,`\r
`,"\r"];var rs;(function(y){function A(w,M,oe,ye){return new I(w,M,oe,ye)}y.create=A;function R(w){var M=w;return!!(D.defined(M)&&D.string(M.uri)&&(D.undefined(M.languageId)||D.string(M.languageId))&&D.uinteger(M.lineCount)&&D.func(M.getText)&&D.func(M.positionAt)&&D.func(M.offsetAt))}y.is=R;function C(w,M){for(var oe=w.getText(),ye=_(M,function(Va,xu){var a_=Va.range.start.line-xu.range.start.line;return a_===0?Va.range.start.character-xu.range.start.character:a_}),ke=oe.length,lt=ye.length-1;lt>=0;lt--){var Kt=ye[lt],Zt=w.offsetAt(Kt.range.start),je=w.offsetAt(Kt.range.end);if(je<=ke)oe=oe.substring(0,Zt)+Kt.newText+oe.substring(je,oe.length);else throw new Error("Overlapping edit");ke=Zt}return oe}y.applyEdits=C;function _(w,M){if(w.length<=1)return w;var oe=w.length/2|0,ye=w.slice(0,oe),ke=w.slice(oe);_(ye,M),_(ke,M);for(var lt=0,Kt=0,Zt=0;lt<ye.length&&Kt<ke.length;){var je=M(ye[lt],ke[Kt]);je<=0?w[Zt++]=ye[lt++]:w[Zt++]=ke[Kt++]}for(;lt<ye.length;)w[Zt++]=ye[lt++];for(;Kt<ke.length;)w[Zt++]=ke[Kt++];return w}})(rs=e.TextDocument||(e.TextDocument={}));var I=function(){function y(A,R,C,_){this._uri=A,this._languageId=R,this._version=C,this._content=_,this._lineOffsets=void 0}return Object.defineProperty(y.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),y.prototype.getText=function(A){if(A){var R=this.offsetAt(A.start),C=this.offsetAt(A.end);return this._content.substring(R,C)}return this._content},y.prototype.update=function(A,R){this._content=A.text,this._version=R,this._lineOffsets=void 0},y.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var A=[],R=this._content,C=!0,_=0;_<R.length;_++){C&&(A.push(_),C=!1);var w=R.charAt(_);C=w==="\r"||w===`
`,w==="\r"&&_+1<R.length&&R.charAt(_+1)===`
`&&_++}C&&R.length>0&&A.push(R.length),this._lineOffsets=A}return this._lineOffsets},y.prototype.positionAt=function(A){A=Math.max(Math.min(A,this._content.length),0);var R=this.getLineOffsets(),C=0,_=R.length;if(_===0)return i.create(0,A);for(;C<_;){var w=Math.floor((C+_)/2);R[w]>A?_=w:C=w+1}var M=C-1;return i.create(M,A-R[M])},y.prototype.offsetAt=function(A){var R=this.getLineOffsets();if(A.line>=R.length)return this._content.length;if(A.line<0)return 0;var C=R[A.line],_=A.line+1<R.length?R[A.line+1]:this._content.length;return Math.max(Math.min(C+A.character,_),C)},Object.defineProperty(y.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),y}(),D;(function(y){var A=Object.prototype.toString;function R(je){return typeof je<"u"}y.defined=R;function C(je){return typeof je>"u"}y.undefined=C;function _(je){return je===!0||je===!1}y.boolean=_;function w(je){return A.call(je)==="[object String]"}y.string=w;function M(je){return A.call(je)==="[object Number]"}y.number=M;function oe(je,Va,xu){return A.call(je)==="[object Number]"&&Va<=je&&je<=xu}y.numberRange=oe;function ye(je){return A.call(je)==="[object Number]"&&-2147483648<=je&&je<=2147483647}y.integer=ye;function ke(je){return A.call(je)==="[object Number]"&&0<=je&&je<=2147483647}y.uinteger=ke;function lt(je){return A.call(je)==="[object Function]"}y.func=lt;function Kt(je){return je!==null&&typeof je=="object"}y.objectLiteral=Kt;function Zt(je,Va){return Array.isArray(je)&&je.every(Va)}y.typedArray=Zt})(D||(D={}))})});var sn=Y(kr=>{"use strict";Object.defineProperty(kr,"__esModule",{value:!0});kr.ProtocolNotificationType=kr.ProtocolNotificationType0=kr.ProtocolRequestType=kr.ProtocolRequestType0=kr.RegistrationType=void 0;var no=to(),Jd=class{constructor(e){this.method=e}};kr.RegistrationType=Jd;var Zd=class extends no.RequestType0{constructor(e){super(e)}};kr.ProtocolRequestType0=Zd;var em=class extends no.RequestType{constructor(e){super(e,no.ParameterStructures.byName)}};kr.ProtocolRequestType=em;var tm=class extends no.NotificationType0{constructor(e){super(e)}};kr.ProtocolNotificationType0=tm;var nm=class extends no.NotificationType{constructor(e){super(e,no.ParameterStructures.byName)}};kr.ProtocolNotificationType=nm});var py=Y(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.objectLiteral=Ut.typedArray=Ut.stringArray=Ut.array=Ut.func=Ut.error=Ut.number=Ut.string=Ut.boolean=void 0;function TS(t){return t===!0||t===!1}Ut.boolean=TS;function cy(t){return typeof t=="string"||t instanceof String}Ut.string=cy;function vS(t){return typeof t=="number"||t instanceof Number}Ut.number=vS;function NS(t){return t instanceof Error}Ut.error=NS;function CS(t){return typeof t=="function"}Ut.func=CS;function fy(t){return Array.isArray(t)}Ut.array=fy;function PS(t){return fy(t)&&t.every(e=>cy(e))}Ut.stringArray=PS;function DS(t,e){return Array.isArray(t)&&t.every(e)}Ut.typedArray=DS;function SS(t){return t!==null&&typeof t=="object"}Ut.objectLiteral=SS});var dy=Y(Tl=>{"use strict";Object.defineProperty(Tl,"__esModule",{value:!0});Tl.ImplementationRequest=void 0;var AS=sn(),IS;(function(t){t.method="textDocument/implementation",t.type=new AS.ProtocolRequestType(t.method)})(IS=Tl.ImplementationRequest||(Tl.ImplementationRequest={}))});var my=Y(vl=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});vl.TypeDefinitionRequest=void 0;var ES=sn(),xS;(function(t){t.method="textDocument/typeDefinition",t.type=new ES.ProtocolRequestType(t.method)})(xS=vl.TypeDefinitionRequest||(vl.TypeDefinitionRequest={}))});var gy=Y(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.DidChangeWorkspaceFoldersNotification=us.WorkspaceFoldersRequest=void 0;var hy=sn(),RS;(function(t){t.type=new hy.ProtocolRequestType0("workspace/workspaceFolders")})(RS=us.WorkspaceFoldersRequest||(us.WorkspaceFoldersRequest={}));var wS;(function(t){t.type=new hy.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(wS=us.DidChangeWorkspaceFoldersNotification||(us.DidChangeWorkspaceFoldersNotification={}))});var _y=Y(Nl=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});Nl.ConfigurationRequest=void 0;var OS=sn(),FS;(function(t){t.type=new OS.ProtocolRequestType("workspace/configuration")})(FS=Nl.ConfigurationRequest||(Nl.ConfigurationRequest={}))});var by=Y(cs=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});cs.ColorPresentationRequest=cs.DocumentColorRequest=void 0;var yy=sn(),LS;(function(t){t.method="textDocument/documentColor",t.type=new yy.ProtocolRequestType(t.method)})(LS=cs.DocumentColorRequest||(cs.DocumentColorRequest={}));var kS;(function(t){t.type=new yy.ProtocolRequestType("textDocument/colorPresentation")})(kS=cs.ColorPresentationRequest||(cs.ColorPresentationRequest={}))});var Ty=Y(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.FoldingRangeRequest=fs.FoldingRangeKind=void 0;var MS=sn(),BS;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(BS=fs.FoldingRangeKind||(fs.FoldingRangeKind={}));var VS;(function(t){t.method="textDocument/foldingRange",t.type=new MS.ProtocolRequestType(t.method)})(VS=fs.FoldingRangeRequest||(fs.FoldingRangeRequest={}))});var vy=Y(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});Cl.DeclarationRequest=void 0;var qS=sn(),jS;(function(t){t.method="textDocument/declaration",t.type=new qS.ProtocolRequestType(t.method)})(jS=Cl.DeclarationRequest||(Cl.DeclarationRequest={}))});var Ny=Y(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});Pl.SelectionRangeRequest=void 0;var US=sn(),WS;(function(t){t.method="textDocument/selectionRange",t.type=new US.ProtocolRequestType(t.method)})(WS=Pl.SelectionRangeRequest||(Pl.SelectionRangeRequest={}))});var Py=Y(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.WorkDoneProgressCancelNotification=ti.WorkDoneProgressCreateRequest=ti.WorkDoneProgress=void 0;var GS=to(),Cy=sn(),HS;(function(t){t.type=new GS.ProgressType;function e(n){return n===t.type}t.is=e})(HS=ti.WorkDoneProgress||(ti.WorkDoneProgress={}));var YS;(function(t){t.type=new Cy.ProtocolRequestType("window/workDoneProgress/create")})(YS=ti.WorkDoneProgressCreateRequest||(ti.WorkDoneProgressCreateRequest={}));var $S;(function(t){t.type=new Cy.ProtocolNotificationType("window/workDoneProgress/cancel")})($S=ti.WorkDoneProgressCancelNotification||(ti.WorkDoneProgressCancelNotification={}))});var Dy=Y(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.CallHierarchyOutgoingCallsRequest=ni.CallHierarchyIncomingCallsRequest=ni.CallHierarchyPrepareRequest=void 0;var rm=sn(),KS;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new rm.ProtocolRequestType(t.method)})(KS=ni.CallHierarchyPrepareRequest||(ni.CallHierarchyPrepareRequest={}));var zS;(function(t){t.method="callHierarchy/incomingCalls",t.type=new rm.ProtocolRequestType(t.method)})(zS=ni.CallHierarchyIncomingCallsRequest||(ni.CallHierarchyIncomingCallsRequest={}));var XS;(function(t){t.method="callHierarchy/outgoingCalls",t.type=new rm.ProtocolRequestType(t.method)})(XS=ni.CallHierarchyOutgoingCallsRequest||(ni.CallHierarchyOutgoingCallsRequest={}))});var Sy=Y(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.SemanticTokensRefreshRequest=Ze.SemanticTokensRangeRequest=Ze.SemanticTokensDeltaRequest=Ze.SemanticTokensRequest=Ze.SemanticTokensRegistrationType=Ze.TokenFormat=Ze.SemanticTokens=Ze.SemanticTokenModifiers=Ze.SemanticTokenTypes=void 0;var Dl=sn(),QS;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator"})(QS=Ze.SemanticTokenTypes||(Ze.SemanticTokenTypes={}));var JS;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(JS=Ze.SemanticTokenModifiers||(Ze.SemanticTokenModifiers={}));var ZS;(function(t){function e(n){let r=n;return r!==void 0&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(ZS=Ze.SemanticTokens||(Ze.SemanticTokens={}));var eA;(function(t){t.Relative="relative"})(eA=Ze.TokenFormat||(Ze.TokenFormat={}));var tA;(function(t){t.method="textDocument/semanticTokens",t.type=new Dl.RegistrationType(t.method)})(tA=Ze.SemanticTokensRegistrationType||(Ze.SemanticTokensRegistrationType={}));var nA;(function(t){t.method="textDocument/semanticTokens/full",t.type=new Dl.ProtocolRequestType(t.method)})(nA=Ze.SemanticTokensRequest||(Ze.SemanticTokensRequest={}));var rA;(function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new Dl.ProtocolRequestType(t.method)})(rA=Ze.SemanticTokensDeltaRequest||(Ze.SemanticTokensDeltaRequest={}));var iA;(function(t){t.method="textDocument/semanticTokens/range",t.type=new Dl.ProtocolRequestType(t.method)})(iA=Ze.SemanticTokensRangeRequest||(Ze.SemanticTokensRangeRequest={}));var sA;(function(t){t.method="workspace/semanticTokens/refresh",t.type=new Dl.ProtocolRequestType0(t.method)})(sA=Ze.SemanticTokensRefreshRequest||(Ze.SemanticTokensRefreshRequest={}))});var Ay=Y(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.ShowDocumentRequest=void 0;var aA=sn(),oA;(function(t){t.method="window/showDocument",t.type=new aA.ProtocolRequestType(t.method)})(oA=Sl.ShowDocumentRequest||(Sl.ShowDocumentRequest={}))});var Iy=Y(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});Al.LinkedEditingRangeRequest=void 0;var lA=sn(),uA;(function(t){t.method="textDocument/linkedEditingRange",t.type=new lA.ProtocolRequestType(t.method)})(uA=Al.LinkedEditingRangeRequest||(Al.LinkedEditingRangeRequest={}))});var Ey=Y(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.WillDeleteFilesRequest=Ct.DidDeleteFilesNotification=Ct.DidRenameFilesNotification=Ct.WillRenameFilesRequest=Ct.DidCreateFilesNotification=Ct.WillCreateFilesRequest=Ct.FileOperationPatternKind=void 0;var ro=sn(),cA;(function(t){t.file="file",t.folder="folder"})(cA=Ct.FileOperationPatternKind||(Ct.FileOperationPatternKind={}));var fA;(function(t){t.method="workspace/willCreateFiles",t.type=new ro.ProtocolRequestType(t.method)})(fA=Ct.WillCreateFilesRequest||(Ct.WillCreateFilesRequest={}));var pA;(function(t){t.method="workspace/didCreateFiles",t.type=new ro.ProtocolNotificationType(t.method)})(pA=Ct.DidCreateFilesNotification||(Ct.DidCreateFilesNotification={}));var dA;(function(t){t.method="workspace/willRenameFiles",t.type=new ro.ProtocolRequestType(t.method)})(dA=Ct.WillRenameFilesRequest||(Ct.WillRenameFilesRequest={}));var mA;(function(t){t.method="workspace/didRenameFiles",t.type=new ro.ProtocolNotificationType(t.method)})(mA=Ct.DidRenameFilesNotification||(Ct.DidRenameFilesNotification={}));var hA;(function(t){t.method="workspace/didDeleteFiles",t.type=new ro.ProtocolNotificationType(t.method)})(hA=Ct.DidDeleteFilesNotification||(Ct.DidDeleteFilesNotification={}));var gA;(function(t){t.method="workspace/willDeleteFiles",t.type=new ro.ProtocolRequestType(t.method)})(gA=Ct.WillDeleteFilesRequest||(Ct.WillDeleteFilesRequest={}))});var xy=Y(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.MonikerRequest=ri.MonikerKind=ri.UniquenessLevel=void 0;var _A=sn(),yA;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(yA=ri.UniquenessLevel||(ri.UniquenessLevel={}));var bA;(function(t){t.import="import",t.export="export",t.local="local"})(bA=ri.MonikerKind||(ri.MonikerKind={}));var TA;(function(t){t.method="textDocument/moniker",t.type=new _A.ProtocolRequestType(t.method)})(TA=ri.MonikerRequest||(ri.MonikerRequest={}))});var Ly=Y(P=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});P.DocumentLinkRequest=P.CodeLensRefreshRequest=P.CodeLensResolveRequest=P.CodeLensRequest=P.WorkspaceSymbolRequest=P.CodeActionResolveRequest=P.CodeActionRequest=P.DocumentSymbolRequest=P.DocumentHighlightRequest=P.ReferencesRequest=P.DefinitionRequest=P.SignatureHelpRequest=P.SignatureHelpTriggerKind=P.HoverRequest=P.CompletionResolveRequest=P.CompletionRequest=P.CompletionTriggerKind=P.PublishDiagnosticsNotification=P.WatchKind=P.FileChangeType=P.DidChangeWatchedFilesNotification=P.WillSaveTextDocumentWaitUntilRequest=P.WillSaveTextDocumentNotification=P.TextDocumentSaveReason=P.DidSaveTextDocumentNotification=P.DidCloseTextDocumentNotification=P.DidChangeTextDocumentNotification=P.TextDocumentContentChangeEvent=P.DidOpenTextDocumentNotification=P.TextDocumentSyncKind=P.TelemetryEventNotification=P.LogMessageNotification=P.ShowMessageRequest=P.ShowMessageNotification=P.MessageType=P.DidChangeConfigurationNotification=P.ExitNotification=P.ShutdownRequest=P.InitializedNotification=P.InitializeError=P.InitializeRequest=P.WorkDoneProgressOptions=P.TextDocumentRegistrationOptions=P.StaticRegistrationOptions=P.FailureHandlingKind=P.ResourceOperationKind=P.UnregistrationRequest=P.RegistrationRequest=P.DocumentSelector=P.DocumentFilter=void 0;P.MonikerRequest=P.MonikerKind=P.UniquenessLevel=P.WillDeleteFilesRequest=P.DidDeleteFilesNotification=P.WillRenameFilesRequest=P.DidRenameFilesNotification=P.WillCreateFilesRequest=P.DidCreateFilesNotification=P.FileOperationPatternKind=P.LinkedEditingRangeRequest=P.ShowDocumentRequest=P.SemanticTokensRegistrationType=P.SemanticTokensRefreshRequest=P.SemanticTokensRangeRequest=P.SemanticTokensDeltaRequest=P.SemanticTokensRequest=P.TokenFormat=P.SemanticTokens=P.SemanticTokenModifiers=P.SemanticTokenTypes=P.CallHierarchyPrepareRequest=P.CallHierarchyOutgoingCallsRequest=P.CallHierarchyIncomingCallsRequest=P.WorkDoneProgressCancelNotification=P.WorkDoneProgressCreateRequest=P.WorkDoneProgress=P.SelectionRangeRequest=P.DeclarationRequest=P.FoldingRangeRequest=P.ColorPresentationRequest=P.DocumentColorRequest=P.ConfigurationRequest=P.DidChangeWorkspaceFoldersNotification=P.WorkspaceFoldersRequest=P.TypeDefinitionRequest=P.ImplementationRequest=P.ApplyWorkspaceEditRequest=P.ExecuteCommandRequest=P.PrepareRenameRequest=P.RenameRequest=P.PrepareSupportDefaultBehavior=P.DocumentOnTypeFormattingRequest=P.DocumentRangeFormattingRequest=P.DocumentFormattingRequest=P.DocumentLinkResolveRequest=void 0;var ps=py(),Oe=sn(),vA=dy();Object.defineProperty(P,"ImplementationRequest",{enumerable:!0,get:function(){return vA.ImplementationRequest}});var NA=my();Object.defineProperty(P,"TypeDefinitionRequest",{enumerable:!0,get:function(){return NA.TypeDefinitionRequest}});var Ry=gy();Object.defineProperty(P,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return Ry.WorkspaceFoldersRequest}});Object.defineProperty(P,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return Ry.DidChangeWorkspaceFoldersNotification}});var CA=_y();Object.defineProperty(P,"ConfigurationRequest",{enumerable:!0,get:function(){return CA.ConfigurationRequest}});var wy=by();Object.defineProperty(P,"DocumentColorRequest",{enumerable:!0,get:function(){return wy.DocumentColorRequest}});Object.defineProperty(P,"ColorPresentationRequest",{enumerable:!0,get:function(){return wy.ColorPresentationRequest}});var PA=Ty();Object.defineProperty(P,"FoldingRangeRequest",{enumerable:!0,get:function(){return PA.FoldingRangeRequest}});var DA=vy();Object.defineProperty(P,"DeclarationRequest",{enumerable:!0,get:function(){return DA.DeclarationRequest}});var SA=Ny();Object.defineProperty(P,"SelectionRangeRequest",{enumerable:!0,get:function(){return SA.SelectionRangeRequest}});var im=Py();Object.defineProperty(P,"WorkDoneProgress",{enumerable:!0,get:function(){return im.WorkDoneProgress}});Object.defineProperty(P,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return im.WorkDoneProgressCreateRequest}});Object.defineProperty(P,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return im.WorkDoneProgressCancelNotification}});var sm=Dy();Object.defineProperty(P,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return sm.CallHierarchyIncomingCallsRequest}});Object.defineProperty(P,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return sm.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(P,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return sm.CallHierarchyPrepareRequest}});var Gi=Sy();Object.defineProperty(P,"SemanticTokenTypes",{enumerable:!0,get:function(){return Gi.SemanticTokenTypes}});Object.defineProperty(P,"SemanticTokenModifiers",{enumerable:!0,get:function(){return Gi.SemanticTokenModifiers}});Object.defineProperty(P,"SemanticTokens",{enumerable:!0,get:function(){return Gi.SemanticTokens}});Object.defineProperty(P,"TokenFormat",{enumerable:!0,get:function(){return Gi.TokenFormat}});Object.defineProperty(P,"SemanticTokensRequest",{enumerable:!0,get:function(){return Gi.SemanticTokensRequest}});Object.defineProperty(P,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Gi.SemanticTokensDeltaRequest}});Object.defineProperty(P,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Gi.SemanticTokensRangeRequest}});Object.defineProperty(P,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Gi.SemanticTokensRefreshRequest}});Object.defineProperty(P,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Gi.SemanticTokensRegistrationType}});var AA=Ay();Object.defineProperty(P,"ShowDocumentRequest",{enumerable:!0,get:function(){return AA.ShowDocumentRequest}});var IA=Iy();Object.defineProperty(P,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return IA.LinkedEditingRangeRequest}});var na=Ey();Object.defineProperty(P,"FileOperationPatternKind",{enumerable:!0,get:function(){return na.FileOperationPatternKind}});Object.defineProperty(P,"DidCreateFilesNotification",{enumerable:!0,get:function(){return na.DidCreateFilesNotification}});Object.defineProperty(P,"WillCreateFilesRequest",{enumerable:!0,get:function(){return na.WillCreateFilesRequest}});Object.defineProperty(P,"DidRenameFilesNotification",{enumerable:!0,get:function(){return na.DidRenameFilesNotification}});Object.defineProperty(P,"WillRenameFilesRequest",{enumerable:!0,get:function(){return na.WillRenameFilesRequest}});Object.defineProperty(P,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return na.DidDeleteFilesNotification}});Object.defineProperty(P,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return na.WillDeleteFilesRequest}});var am=xy();Object.defineProperty(P,"UniquenessLevel",{enumerable:!0,get:function(){return am.UniquenessLevel}});Object.defineProperty(P,"MonikerKind",{enumerable:!0,get:function(){return am.MonikerKind}});Object.defineProperty(P,"MonikerRequest",{enumerable:!0,get:function(){return am.MonikerRequest}});var Oy;(function(t){function e(n){let r=n;return ps.string(r.language)||ps.string(r.scheme)||ps.string(r.pattern)}t.is=e})(Oy=P.DocumentFilter||(P.DocumentFilter={}));var Fy;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!ps.string(r)&&!Oy.is(r))return!1;return!0}t.is=e})(Fy=P.DocumentSelector||(P.DocumentSelector={}));var EA;(function(t){t.type=new Oe.ProtocolRequestType("client/registerCapability")})(EA=P.RegistrationRequest||(P.RegistrationRequest={}));var xA;(function(t){t.type=new Oe.ProtocolRequestType("client/unregisterCapability")})(xA=P.UnregistrationRequest||(P.UnregistrationRequest={}));var RA;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(RA=P.ResourceOperationKind||(P.ResourceOperationKind={}));var wA;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(wA=P.FailureHandlingKind||(P.FailureHandlingKind={}));var OA;(function(t){function e(n){let r=n;return r&&ps.string(r.id)&&r.id.length>0}t.hasId=e})(OA=P.StaticRegistrationOptions||(P.StaticRegistrationOptions={}));var FA;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||Fy.is(r.documentSelector))}t.is=e})(FA=P.TextDocumentRegistrationOptions||(P.TextDocumentRegistrationOptions={}));var LA;(function(t){function e(r){let i=r;return ps.objectLiteral(i)&&(i.workDoneProgress===void 0||ps.boolean(i.workDoneProgress))}t.is=e;function n(r){let i=r;return i&&ps.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=n})(LA=P.WorkDoneProgressOptions||(P.WorkDoneProgressOptions={}));var kA;(function(t){t.type=new Oe.ProtocolRequestType("initialize")})(kA=P.InitializeRequest||(P.InitializeRequest={}));var MA;(function(t){t.unknownProtocolVersion=1})(MA=P.InitializeError||(P.InitializeError={}));var BA;(function(t){t.type=new Oe.ProtocolNotificationType("initialized")})(BA=P.InitializedNotification||(P.InitializedNotification={}));var VA;(function(t){t.type=new Oe.ProtocolRequestType0("shutdown")})(VA=P.ShutdownRequest||(P.ShutdownRequest={}));var qA;(function(t){t.type=new Oe.ProtocolNotificationType0("exit")})(qA=P.ExitNotification||(P.ExitNotification={}));var jA;(function(t){t.type=new Oe.ProtocolNotificationType("workspace/didChangeConfiguration")})(jA=P.DidChangeConfigurationNotification||(P.DidChangeConfigurationNotification={}));var UA;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(UA=P.MessageType||(P.MessageType={}));var WA;(function(t){t.type=new Oe.ProtocolNotificationType("window/showMessage")})(WA=P.ShowMessageNotification||(P.ShowMessageNotification={}));var GA;(function(t){t.type=new Oe.ProtocolRequestType("window/showMessageRequest")})(GA=P.ShowMessageRequest||(P.ShowMessageRequest={}));var HA;(function(t){t.type=new Oe.ProtocolNotificationType("window/logMessage")})(HA=P.LogMessageNotification||(P.LogMessageNotification={}));var YA;(function(t){t.type=new Oe.ProtocolNotificationType("telemetry/event")})(YA=P.TelemetryEventNotification||(P.TelemetryEventNotification={}));var $A;(function(t){t.None=0,t.Full=1,t.Incremental=2})($A=P.TextDocumentSyncKind||(P.TextDocumentSyncKind={}));var KA;(function(t){t.method="textDocument/didOpen",t.type=new Oe.ProtocolNotificationType(t.method)})(KA=P.DidOpenTextDocumentNotification||(P.DidOpenTextDocumentNotification={}));var zA;(function(t){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=n})(zA=P.TextDocumentContentChangeEvent||(P.TextDocumentContentChangeEvent={}));var XA;(function(t){t.method="textDocument/didChange",t.type=new Oe.ProtocolNotificationType(t.method)})(XA=P.DidChangeTextDocumentNotification||(P.DidChangeTextDocumentNotification={}));var QA;(function(t){t.method="textDocument/didClose",t.type=new Oe.ProtocolNotificationType(t.method)})(QA=P.DidCloseTextDocumentNotification||(P.DidCloseTextDocumentNotification={}));var JA;(function(t){t.method="textDocument/didSave",t.type=new Oe.ProtocolNotificationType(t.method)})(JA=P.DidSaveTextDocumentNotification||(P.DidSaveTextDocumentNotification={}));var ZA;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(ZA=P.TextDocumentSaveReason||(P.TextDocumentSaveReason={}));var eI;(function(t){t.method="textDocument/willSave",t.type=new Oe.ProtocolNotificationType(t.method)})(eI=P.WillSaveTextDocumentNotification||(P.WillSaveTextDocumentNotification={}));var tI;(function(t){t.method="textDocument/willSaveWaitUntil",t.type=new Oe.ProtocolRequestType(t.method)})(tI=P.WillSaveTextDocumentWaitUntilRequest||(P.WillSaveTextDocumentWaitUntilRequest={}));var nI;(function(t){t.type=new Oe.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(nI=P.DidChangeWatchedFilesNotification||(P.DidChangeWatchedFilesNotification={}));var rI;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(rI=P.FileChangeType||(P.FileChangeType={}));var iI;(function(t){t.Create=1,t.Change=2,t.Delete=4})(iI=P.WatchKind||(P.WatchKind={}));var sI;(function(t){t.type=new Oe.ProtocolNotificationType("textDocument/publishDiagnostics")})(sI=P.PublishDiagnosticsNotification||(P.PublishDiagnosticsNotification={}));var aI;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(aI=P.CompletionTriggerKind||(P.CompletionTriggerKind={}));var oI;(function(t){t.method="textDocument/completion",t.type=new Oe.ProtocolRequestType(t.method)})(oI=P.CompletionRequest||(P.CompletionRequest={}));var lI;(function(t){t.method="completionItem/resolve",t.type=new Oe.ProtocolRequestType(t.method)})(lI=P.CompletionResolveRequest||(P.CompletionResolveRequest={}));var uI;(function(t){t.method="textDocument/hover",t.type=new Oe.ProtocolRequestType(t.method)})(uI=P.HoverRequest||(P.HoverRequest={}));var cI;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(cI=P.SignatureHelpTriggerKind||(P.SignatureHelpTriggerKind={}));var fI;(function(t){t.method="textDocument/signatureHelp",t.type=new Oe.ProtocolRequestType(t.method)})(fI=P.SignatureHelpRequest||(P.SignatureHelpRequest={}));var pI;(function(t){t.method="textDocument/definition",t.type=new Oe.ProtocolRequestType(t.method)})(pI=P.DefinitionRequest||(P.DefinitionRequest={}));var dI;(function(t){t.method="textDocument/references",t.type=new Oe.ProtocolRequestType(t.method)})(dI=P.ReferencesRequest||(P.ReferencesRequest={}));var mI;(function(t){t.method="textDocument/documentHighlight",t.type=new Oe.ProtocolRequestType(t.method)})(mI=P.DocumentHighlightRequest||(P.DocumentHighlightRequest={}));var hI;(function(t){t.method="textDocument/documentSymbol",t.type=new Oe.ProtocolRequestType(t.method)})(hI=P.DocumentSymbolRequest||(P.DocumentSymbolRequest={}));var gI;(function(t){t.method="textDocument/codeAction",t.type=new Oe.ProtocolRequestType(t.method)})(gI=P.CodeActionRequest||(P.CodeActionRequest={}));var _I;(function(t){t.method="codeAction/resolve",t.type=new Oe.ProtocolRequestType(t.method)})(_I=P.CodeActionResolveRequest||(P.CodeActionResolveRequest={}));var yI;(function(t){t.method="workspace/symbol",t.type=new Oe.ProtocolRequestType(t.method)})(yI=P.WorkspaceSymbolRequest||(P.WorkspaceSymbolRequest={}));var bI;(function(t){t.method="textDocument/codeLens",t.type=new Oe.ProtocolRequestType(t.method)})(bI=P.CodeLensRequest||(P.CodeLensRequest={}));var TI;(function(t){t.method="codeLens/resolve",t.type=new Oe.ProtocolRequestType(t.method)})(TI=P.CodeLensResolveRequest||(P.CodeLensResolveRequest={}));var vI;(function(t){t.method="workspace/codeLens/refresh",t.type=new Oe.ProtocolRequestType0(t.method)})(vI=P.CodeLensRefreshRequest||(P.CodeLensRefreshRequest={}));var NI;(function(t){t.method="textDocument/documentLink",t.type=new Oe.ProtocolRequestType(t.method)})(NI=P.DocumentLinkRequest||(P.DocumentLinkRequest={}));var CI;(function(t){t.method="documentLink/resolve",t.type=new Oe.ProtocolRequestType(t.method)})(CI=P.DocumentLinkResolveRequest||(P.DocumentLinkResolveRequest={}));var PI;(function(t){t.method="textDocument/formatting",t.type=new Oe.ProtocolRequestType(t.method)})(PI=P.DocumentFormattingRequest||(P.DocumentFormattingRequest={}));var DI;(function(t){t.method="textDocument/rangeFormatting",t.type=new Oe.ProtocolRequestType(t.method)})(DI=P.DocumentRangeFormattingRequest||(P.DocumentRangeFormattingRequest={}));var SI;(function(t){t.method="textDocument/onTypeFormatting",t.type=new Oe.ProtocolRequestType(t.method)})(SI=P.DocumentOnTypeFormattingRequest||(P.DocumentOnTypeFormattingRequest={}));var AI;(function(t){t.Identifier=1})(AI=P.PrepareSupportDefaultBehavior||(P.PrepareSupportDefaultBehavior={}));var II;(function(t){t.method="textDocument/rename",t.type=new Oe.ProtocolRequestType(t.method)})(II=P.RenameRequest||(P.RenameRequest={}));var EI;(function(t){t.method="textDocument/prepareRename",t.type=new Oe.ProtocolRequestType(t.method)})(EI=P.PrepareRenameRequest||(P.PrepareRenameRequest={}));var xI;(function(t){t.type=new Oe.ProtocolRequestType("workspace/executeCommand")})(xI=P.ExecuteCommandRequest||(P.ExecuteCommandRequest={}));var RI;(function(t){t.type=new Oe.ProtocolRequestType("workspace/applyEdit")})(RI=P.ApplyWorkspaceEditRequest||(P.ApplyWorkspaceEditRequest={}))});var My=Y(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});rc.createProtocolConnection=void 0;var ky=to();function wI(t,e,n,r){return ky.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),ky.createMessageConnection(t,e,n,r)}rc.createProtocolConnection=wI});var By=Y(xn=>{"use strict";var OI=xn&&xn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),ic=xn&&xn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&OI(e,t,n)};Object.defineProperty(xn,"__esModule",{value:!0});xn.LSPErrorCodes=xn.createProtocolConnection=void 0;ic(to(),xn);ic(yt(),xn);ic(sn(),xn);ic(Ly(),xn);var FI=My();Object.defineProperty(xn,"createProtocolConnection",{enumerable:!0,get:function(){return FI.createProtocolConnection}});var LI;(function(t){t.lspReservedErrorRangeStart=-32899,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(LI=xn.LSPErrorCodes||(xn.LSPErrorCodes={}))});var Hn=Y(vi=>{"use strict";var kI=vi&&vi.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Vy=vi&&vi.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&kI(e,t,n)};Object.defineProperty(vi,"__esModule",{value:!0});vi.createProtocolConnection=void 0;var MI=Qd();Vy(Qd(),vi);Vy(By(),vi);function BI(t,e,n,r){return MI.createMessageConnection(t,e,n,r)}vi.createProtocolConnection=BI});var om=Y(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.generateUuid=Mr.parse=Mr.isUUID=Mr.v4=Mr.empty=void 0;var Il=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Me=class extends Il{constructor(){super([Me._randomHex(),Me._randomHex(),Me._randomHex(),Me._randomHex(),Me._randomHex(),Me._randomHex(),Me._randomHex(),Me._randomHex(),"-",Me._randomHex(),Me._randomHex(),Me._randomHex(),Me._randomHex(),"-","4",Me._randomHex(),Me._randomHex(),Me._randomHex(),"-",Me._oneOf(Me._timeHighBits),Me._randomHex(),Me._randomHex(),Me._randomHex(),"-",Me._randomHex(),Me._randomHex(),Me._randomHex(),Me._randomHex(),Me._randomHex(),Me._randomHex(),Me._randomHex(),Me._randomHex(),Me._randomHex(),Me._randomHex(),Me._randomHex(),Me._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return Me._oneOf(Me._chars)}};Me._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Me._timeHighBits=["8","9","a","b"];Mr.empty=new Il("00000000-0000-0000-0000-000000000000");function qy(){return new Me}Mr.v4=qy;var VI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function jy(t){return VI.test(t)}Mr.isUUID=jy;function qI(t){if(!jy(t))throw new Error("invalid uuid");return new Il(t)}Mr.parse=qI;function jI(){return qy().asHex()}Mr.generateUuid=jI});var Uy=Y(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});ms.attachPartialResult=ms.ProgressFeature=ms.attachWorkDone=void 0;var ds=Hn(),UI=om(),Ni=class{constructor(e,n){this._connection=e,this._token=n,Ni.Instances.set(this._token,this)}begin(e,n,r,i){let s={kind:"begin",title:e,percentage:n,message:r,cancellable:i};this._connection.sendProgress(ds.WorkDoneProgress.type,this._token,s)}report(e,n){let r={kind:"report"};typeof e=="number"?(r.percentage=e,n!==void 0&&(r.message=n)):r.message=e,this._connection.sendProgress(ds.WorkDoneProgress.type,this._token,r)}done(){Ni.Instances.delete(this._token),this._connection.sendProgress(ds.WorkDoneProgress.type,this._token,{kind:"end"})}};Ni.Instances=new Map;var sc=class extends Ni{constructor(e,n){super(e,n),this._source=new ds.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},El=class{constructor(){}begin(){}report(){}done(){}},ac=class extends El{constructor(){super(),this._source=new ds.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function WI(t,e){if(e===void 0||e.workDoneToken===void 0)return new El;let n=e.workDoneToken;return delete e.workDoneToken,new Ni(t,n)}ms.attachWorkDone=WI;var GI=t=>class extends t{constructor(){super(),this._progressSupported=!1}initialize(e){var n;((n=e?.window)===null||n===void 0?void 0:n.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(ds.WorkDoneProgressCancelNotification.type,r=>{let i=Ni.Instances.get(r.token);(i instanceof sc||i instanceof ac)&&i.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new El:new Ni(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){let e=UI.generateUuid();return this.connection.sendRequest(ds.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new sc(this.connection,e))}else return Promise.resolve(new ac)}};ms.ProgressFeature=GI;var lm;(function(t){t.type=new ds.ProgressType})(lm||(lm={}));var um=class{constructor(e,n){this._connection=e,this._token=n}report(e){this._connection.sendProgress(lm.type,this._token,e)}};function HI(t,e){if(e===void 0||e.partialResultToken===void 0)return;let n=e.partialResultToken;return delete e.partialResultToken,new um(t,n)}ms.attachPartialResult=HI});var Wy=Y(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});oc.ConfigurationFeature=void 0;var YI=Hn(),$I=Wu(),KI=t=>class extends t{getConfiguration(e){return e?$I.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let n={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(YI.ConfigurationRequest.type,n).then(r=>Array.isArray(e)?r:r[0])}};oc.ConfigurationFeature=KI});var Gy=Y(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});uc.WorkspaceFoldersFeature=void 0;var lc=Hn(),zI=t=>class extends t{initialize(e){let n=e.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new lc.Emitter,this.connection.onNotification(lc.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(lc.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(lc.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};uc.WorkspaceFoldersFeature=zI});var Hy=Y(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.CallHierarchyFeature=void 0;var cm=Hn(),XI=t=>class extends t{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest(cm.CallHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))},onIncomingCalls:e=>{let n=cm.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:e=>{let n=cm.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};cc.CallHierarchyFeature=XI});var dm=Y(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.SemanticTokensBuilder=io.SemanticTokensFeature=void 0;var fm=Hn(),QI=t=>class extends t{get semanticTokens(){return{on:e=>{let n=fm.SemanticTokensRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:e=>{let n=fm.SemanticTokensDeltaRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:e=>{let n=fm.SemanticTokensRangeRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};io.SemanticTokensFeature=QI;var pm=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,n,r,i,s){let a=e,o=n;this._dataLen>0&&(a-=this._prevLine,a===0&&(o-=this._prevChar)),this._data[this._dataLen++]=a,this._data[this._dataLen++]=o,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=e,this._prevChar=n}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){let e=this._prevData.length,n=this._data.length,r=0;for(;r<n&&r<e&&this._prevData[r]===this._data[r];)r++;if(r<n&&r<e){let i=0;for(;i<n&&i<e&&this._prevData[e-1-i]===this._data[n-1-i];)i++;let s=this._data.slice(r,n-i);return{resultId:this.id,edits:[{start:r,deleteCount:e-i-r,data:s}]}}else return r<n?{resultId:this.id,edits:[{start:r,deleteCount:0,data:this._data.slice(r)}]}:r<e?{resultId:this.id,edits:[{start:r,deleteCount:e-r}]}:{resultId:this.id,edits:[]}}else return this.build()}};io.SemanticTokensBuilder=pm});var Yy=Y(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});fc.ShowDocumentFeature=void 0;var JI=Hn(),ZI=t=>class extends t{showDocument(e){return this.connection.sendRequest(JI.ShowDocumentRequest.type,e)}};fc.ShowDocumentFeature=ZI});var $y=Y(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.FileOperationsFeature=void 0;var so=Hn(),eE=t=>class extends t{onDidCreateFiles(e){this.connection.onNotification(so.DidCreateFilesNotification.type,n=>{e(n)})}onDidRenameFiles(e){this.connection.onNotification(so.DidRenameFilesNotification.type,n=>{e(n)})}onDidDeleteFiles(e){this.connection.onNotification(so.DidDeleteFilesNotification.type,n=>{e(n)})}onWillCreateFiles(e){return this.connection.onRequest(so.WillCreateFilesRequest.type,(n,r)=>e(n,r))}onWillRenameFiles(e){return this.connection.onRequest(so.WillRenameFilesRequest.type,(n,r)=>e(n,r))}onWillDeleteFiles(e){return this.connection.onRequest(so.WillDeleteFilesRequest.type,(n,r)=>e(n,r))}};pc.FileOperationsFeature=eE});var Ky=Y(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});dc.LinkedEditingRangeFeature=void 0;var tE=Hn(),nE=t=>class extends t{onLinkedEditingRange(e){this.connection.onRequest(tE.LinkedEditingRangeRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))}};dc.LinkedEditingRangeFeature=nE});var zy=Y(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});mc.MonikerFeature=void 0;var rE=Hn(),iE=t=>class extends t{get moniker(){return{on:e=>{let n=rE.MonikerRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};mc.MonikerFeature=iE});var Tm=Y($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.createConnection=$e.combineFeatures=$e.combineLanguagesFeatures=$e.combineWorkspaceFeatures=$e.combineWindowFeatures=$e.combineClientFeatures=$e.combineTracerFeatures=$e.combineTelemetryFeatures=$e.combineConsoleFeatures=$e._LanguagesImpl=$e.BulkUnregistration=$e.BulkRegistration=$e.ErrorMessageTracker=$e.TextDocuments=void 0;var J=Hn(),Br=Wu(),hm=om(),Fe=Uy(),sE=Wy(),aE=Gy(),oE=Hy(),lE=dm(),uE=Yy(),cE=$y(),fE=Ky(),pE=zy();function mm(t){if(t!==null)return t}var gm=class{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new J.Emitter,this._onDidOpen=new J.Emitter,this._onDidClose=new J.Emitter,this._onDidSave=new J.Emitter,this._onWillSave=new J.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map(e=>this._documents[e])}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=J.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(n=>{let r=n.textDocument,i=this._configuration.create(r.uri,r.languageId,r.version,r.text);this._documents[r.uri]=i;let s=Object.freeze({document:i});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)}),e.onDidChangeTextDocument(n=>{let r=n.textDocument,i=n.contentChanges;if(i.length===0)return;let s=this._documents[r.uri],{version:a}=r;if(a==null)throw new Error(`Received document change event for ${r.uri} without valid version identifier`);s=this._configuration.update(s,i,a),this._documents[r.uri]=s,this._onDidChangeContent.fire(Object.freeze({document:s}))}),e.onDidCloseTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&(delete this._documents[n.textDocument.uri],this._onDidClose.fire(Object.freeze({document:r})))}),e.onWillSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onWillSave.fire(Object.freeze({document:r,reason:n.reason}))}),e.onWillSaveTextDocumentWaitUntil((n,r)=>{let i=this._documents[n.textDocument.uri];return i&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:i,reason:n.reason}),r):[]}),e.onDidSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onDidSave.fire(Object.freeze({document:r}))})}};$e.TextDocuments=gm;var _m=class{constructor(){this._messages=Object.create(null)}add(e){let n=this._messages[e];n||(n=0),n++,this._messages[e]=n}sendErrors(e){Object.keys(this._messages).forEach(n=>{e.window.showErrorMessage(n)})}};$e.ErrorMessageTracker=_m;var hc=class{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(J.MessageType.Error,e)}warn(e){this.send(J.MessageType.Warning,e)}info(e){this.send(J.MessageType.Info,e)}log(e){this.send(J.MessageType.Log,e)}send(e,n){this._rawConnection&&this._rawConnection.sendNotification(J.LogMessageNotification.type,{type:e,message:n})}},ym=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...n){let r={type:J.MessageType.Error,message:e,actions:n};return this.connection.sendRequest(J.ShowMessageRequest.type,r).then(mm)}showWarningMessage(e,...n){let r={type:J.MessageType.Warning,message:e,actions:n};return this.connection.sendRequest(J.ShowMessageRequest.type,r).then(mm)}showInformationMessage(e,...n){let r={type:J.MessageType.Info,message:e,actions:n};return this.connection.sendRequest(J.ShowMessageRequest.type,r).then(mm)}},Xy=uE.ShowDocumentFeature(Fe.ProgressFeature(ym)),dE;(function(t){function e(){return new gc}t.create=e})(dE=$e.BulkRegistration||($e.BulkRegistration={}));var gc=class{constructor(){this._registrations=[],this._registered=new Set}add(e,n){let r=Br.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let i=hm.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},mE;(function(t){function e(){return new xl(void 0,[])}t.create=e})(mE=$e.BulkUnregistration||($e.BulkUnregistration={}));var xl=class{constructor(e,n){this._connection=e,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let n={unregisterations:e};this._connection.sendRequest(J.UnregistrationRequest.type,n).then(void 0,r=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){let n=Br.string(e)?e:e.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(J.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},s=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},_c=class{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,n,r){return e instanceof gc?this.registerMany(e):e instanceof xl?this.registerSingle1(e,n,r):this.registerSingle2(e,n)}registerSingle1(e,n,r){let i=Br.string(n)?n:n.method,s=hm.generateUuid(),a={registrations:[{id:s,method:i,registerOptions:r||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(J.RegistrationRequest.type,a).then(o=>(e.add({id:s,method:i}),e),o=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(o)))}registerSingle2(e,n){let r=Br.string(e)?e:e.method,i=hm.generateUuid(),s={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(J.RegistrationRequest.type,s).then(a=>J.Disposable.create(()=>{this.unregisterSingle(i,r)}),a=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(a)))}unregisterSingle(e,n){let r={unregisterations:[{id:e,method:n}]};return this.connection.sendRequest(J.UnregistrationRequest.type,r).then(void 0,i=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let n=e.asRegistrationParams();return this.connection.sendRequest(J.RegistrationRequest.type,n).then(()=>new xl(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},bm=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function n(i){return i&&!!i.edit}let r=n(e)?e:{edit:e};return this.connection.sendRequest(J.ApplyWorkspaceEditRequest.type,r)}},Qy=cE.FileOperationsFeature(aE.WorkspaceFoldersFeature(sE.ConfigurationFeature(bm))),yc=class{constructor(){this._trace=J.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,n){this._trace!==J.Trace.Off&&this.connection.sendNotification(J.LogTraceNotification.type,{message:e,verbose:this._trace===J.Trace.Verbose?n:void 0})}},bc=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(J.TelemetryEventNotification.type,e)}},Tc=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return Fe.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,n){return Fe.attachPartialResult(this.connection,n)}};$e._LanguagesImpl=Tc;var Jy=pE.MonikerFeature(fE.LinkedEditingRangeFeature(lE.SemanticTokensFeature(oE.CallHierarchyFeature(Tc))));function Zy(t,e){return function(n){return e(t(n))}}$e.combineConsoleFeatures=Zy;function eb(t,e){return function(n){return e(t(n))}}$e.combineTelemetryFeatures=eb;function tb(t,e){return function(n){return e(t(n))}}$e.combineTracerFeatures=tb;function nb(t,e){return function(n){return e(t(n))}}$e.combineClientFeatures=nb;function rb(t,e){return function(n){return e(t(n))}}$e.combineWindowFeatures=rb;function ib(t,e){return function(n){return e(t(n))}}$e.combineWorkspaceFeatures=ib;function hE(t,e){return function(n){return e(t(n))}}$e.combineLanguagesFeatures=hE;function gE(t,e){function n(i,s,a){return i&&s?a(i,s):i||s}return{__brand:"features",console:n(t.console,e.console,Zy),tracer:n(t.tracer,e.tracer,tb),telemetry:n(t.telemetry,e.telemetry,eb),client:n(t.client,e.client,nb),window:n(t.window,e.window,rb),workspace:n(t.workspace,e.workspace,ib)}}$e.combineFeatures=gE;function _E(t,e,n){let r=n&&n.console?new(n.console(hc)):new hc,i=t(r);r.rawAttach(i);let s=n&&n.tracer?new(n.tracer(yc)):new yc,a=n&&n.telemetry?new(n.telemetry(bc)):new bc,o=n&&n.client?new(n.client(_c)):new _c,l=n&&n.window?new(n.window(Xy)):new Xy,u=n&&n.workspace?new(n.workspace(Qy)):new Qy,c=n&&n.languages?new(n.languages(Jy)):new Jy,f=[r,s,a,o,l,u,c];function d(T){return T instanceof Promise?T:Br.thenable(T)?new Promise((b,S)=>{T.then(B=>b(B),B=>S(B))}):Promise.resolve(T)}let h,p,m,g={listen:()=>i.listen(),sendRequest:(T,...b)=>i.sendRequest(Br.string(T)?T:T.method,...b),onRequest:(T,b)=>i.onRequest(T,b),sendNotification:(T,b)=>{let S=Br.string(T)?T:T.method;arguments.length===1?i.sendNotification(S):i.sendNotification(S,b)},onNotification:(T,b)=>i.onNotification(T,b),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:T=>p=T,onInitialized:T=>i.onNotification(J.InitializedNotification.type,T),onShutdown:T=>h=T,onExit:T=>m=T,get console(){return r},get telemetry(){return a},get tracer(){return s},get client(){return o},get window(){return l},get workspace(){return u},get languages(){return c},onDidChangeConfiguration:T=>i.onNotification(J.DidChangeConfigurationNotification.type,T),onDidChangeWatchedFiles:T=>i.onNotification(J.DidChangeWatchedFilesNotification.type,T),__textDocumentSync:void 0,onDidOpenTextDocument:T=>i.onNotification(J.DidOpenTextDocumentNotification.type,T),onDidChangeTextDocument:T=>i.onNotification(J.DidChangeTextDocumentNotification.type,T),onDidCloseTextDocument:T=>i.onNotification(J.DidCloseTextDocumentNotification.type,T),onWillSaveTextDocument:T=>i.onNotification(J.WillSaveTextDocumentNotification.type,T),onWillSaveTextDocumentWaitUntil:T=>i.onRequest(J.WillSaveTextDocumentWaitUntilRequest.type,T),onDidSaveTextDocument:T=>i.onNotification(J.DidSaveTextDocumentNotification.type,T),sendDiagnostics:T=>i.sendNotification(J.PublishDiagnosticsNotification.type,T),onHover:T=>i.onRequest(J.HoverRequest.type,(b,S)=>T(b,S,Fe.attachWorkDone(i,b),void 0)),onCompletion:T=>i.onRequest(J.CompletionRequest.type,(b,S)=>T(b,S,Fe.attachWorkDone(i,b),Fe.attachPartialResult(i,b))),onCompletionResolve:T=>i.onRequest(J.CompletionResolveRequest.type,T),onSignatureHelp:T=>i.onRequest(J.SignatureHelpRequest.type,(b,S)=>T(b,S,Fe.attachWorkDone(i,b),void 0)),onDeclaration:T=>i.onRequest(J.DeclarationRequest.type,(b,S)=>T(b,S,Fe.attachWorkDone(i,b),Fe.attachPartialResult(i,b))),onDefinition:T=>i.onRequest(J.DefinitionRequest.type,(b,S)=>T(b,S,Fe.attachWorkDone(i,b),Fe.attachPartialResult(i,b))),onTypeDefinition:T=>i.onRequest(J.TypeDefinitionRequest.type,(b,S)=>T(b,S,Fe.attachWorkDone(i,b),Fe.attachPartialResult(i,b))),onImplementation:T=>i.onRequest(J.ImplementationRequest.type,(b,S)=>T(b,S,Fe.attachWorkDone(i,b),Fe.attachPartialResult(i,b))),onReferences:T=>i.onRequest(J.ReferencesRequest.type,(b,S)=>T(b,S,Fe.attachWorkDone(i,b),Fe.attachPartialResult(i,b))),onDocumentHighlight:T=>i.onRequest(J.DocumentHighlightRequest.type,(b,S)=>T(b,S,Fe.attachWorkDone(i,b),Fe.attachPartialResult(i,b))),onDocumentSymbol:T=>i.onRequest(J.DocumentSymbolRequest.type,(b,S)=>T(b,S,Fe.attachWorkDone(i,b),Fe.attachPartialResult(i,b))),onWorkspaceSymbol:T=>i.onRequest(J.WorkspaceSymbolRequest.type,(b,S)=>T(b,S,Fe.attachWorkDone(i,b),Fe.attachPartialResult(i,b))),onCodeAction:T=>i.onRequest(J.CodeActionRequest.type,(b,S)=>T(b,S,Fe.attachWorkDone(i,b),Fe.attachPartialResult(i,b))),onCodeActionResolve:T=>i.onRequest(J.CodeActionResolveRequest.type,(b,S)=>T(b,S)),onCodeLens:T=>i.onRequest(J.CodeLensRequest.type,(b,S)=>T(b,S,Fe.attachWorkDone(i,b),Fe.attachPartialResult(i,b))),onCodeLensResolve:T=>i.onRequest(J.CodeLensResolveRequest.type,(b,S)=>T(b,S)),onDocumentFormatting:T=>i.onRequest(J.DocumentFormattingRequest.type,(b,S)=>T(b,S,Fe.attachWorkDone(i,b),void 0)),onDocumentRangeFormatting:T=>i.onRequest(J.DocumentRangeFormattingRequest.type,(b,S)=>T(b,S,Fe.attachWorkDone(i,b),void 0)),onDocumentOnTypeFormatting:T=>i.onRequest(J.DocumentOnTypeFormattingRequest.type,(b,S)=>T(b,S)),onRenameRequest:T=>i.onRequest(J.RenameRequest.type,(b,S)=>T(b,S,Fe.attachWorkDone(i,b),void 0)),onPrepareRename:T=>i.onRequest(J.PrepareRenameRequest.type,(b,S)=>T(b,S)),onDocumentLinks:T=>i.onRequest(J.DocumentLinkRequest.type,(b,S)=>T(b,S,Fe.attachWorkDone(i,b),Fe.attachPartialResult(i,b))),onDocumentLinkResolve:T=>i.onRequest(J.DocumentLinkResolveRequest.type,(b,S)=>T(b,S)),onDocumentColor:T=>i.onRequest(J.DocumentColorRequest.type,(b,S)=>T(b,S,Fe.attachWorkDone(i,b),Fe.attachPartialResult(i,b))),onColorPresentation:T=>i.onRequest(J.ColorPresentationRequest.type,(b,S)=>T(b,S,Fe.attachWorkDone(i,b),Fe.attachPartialResult(i,b))),onFoldingRanges:T=>i.onRequest(J.FoldingRangeRequest.type,(b,S)=>T(b,S,Fe.attachWorkDone(i,b),Fe.attachPartialResult(i,b))),onSelectionRanges:T=>i.onRequest(J.SelectionRangeRequest.type,(b,S)=>T(b,S,Fe.attachWorkDone(i,b),Fe.attachPartialResult(i,b))),onExecuteCommand:T=>i.onRequest(J.ExecuteCommandRequest.type,(b,S)=>T(b,S,Fe.attachWorkDone(i,b),void 0)),dispose:()=>i.dispose()};for(let T of f)T.attach(g);return i.onRequest(J.InitializeRequest.type,T=>{e.initialize(T),Br.string(T.trace)&&(s.trace=J.Trace.fromString(T.trace));for(let b of f)b.initialize(T.capabilities);if(p){let b=p(T,new J.CancellationTokenSource().token,Fe.attachWorkDone(i,T),void 0);return d(b).then(S=>{if(S instanceof J.ResponseError)return S;let B=S;B||(B={capabilities:{}});let z=B.capabilities;z||(z={},B.capabilities=z),z.textDocumentSync===void 0||z.textDocumentSync===null?z.textDocumentSync=Br.number(g.__textDocumentSync)?g.__textDocumentSync:J.TextDocumentSyncKind.None:!Br.number(z.textDocumentSync)&&!Br.number(z.textDocumentSync.change)&&(z.textDocumentSync.change=Br.number(g.__textDocumentSync)?g.__textDocumentSync:J.TextDocumentSyncKind.None);for(let ne of f)ne.fillServerCapabilities(z);return B})}else{let b={capabilities:{textDocumentSync:J.TextDocumentSyncKind.None}};for(let S of f)S.fillServerCapabilities(b.capabilities);return b}}),i.onRequest(J.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,h)return h(new J.CancellationTokenSource().token)}),i.onNotification(J.ExitNotification.type,()=>{try{m&&m()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),i.onNotification(J.SetTraceNotification.type,T=>{s.trace=J.Trace.fromString(T.value)}),g}$e.createConnection=_E});var ab=Y(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.resolveModulePath=Rn.FileSystem=Rn.resolveGlobalYarnPath=Rn.resolveGlobalNodePath=Rn.resolve=Rn.uriToFilePath=void 0;var yE=require("url"),ii=require("path"),vm=require("fs"),Pm=require("child_process");function bE(t){let e=yE.parse(t);if(e.protocol!=="file:"||!e.path)return;let n=e.path.split("/");for(var r=0,i=n.length;r<i;r++)n[r]=decodeURIComponent(n[r]);if(process.platform==="win32"&&n.length>1){let s=n[0],a=n[1];s.length===0&&a.length>1&&a[1]===":"&&n.shift()}return ii.normalize(n.join("/"))}Rn.uriToFilePath=bE;function Nm(){return process.platform==="win32"}function vc(t,e,n,r){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((a,o)=>{let l=process.env,u=Object.create(null);Object.keys(l).forEach(c=>u[c]=l[c]),e&&vm.existsSync(e)&&(u[i]?u[i]=e+ii.delimiter+u[i]:u[i]=e,r&&r(`NODE_PATH value is: ${u[i]}`)),u.ELECTRON_RUN_AS_NODE="1";try{let c=Pm.fork("",[],{cwd:n,env:u,execArgv:["-e",s]});if(c.pid===void 0){o(new Error(`Starting process to resolve node module  ${t} failed`));return}c.on("error",d=>{o(d)}),c.on("message",d=>{d.c==="r"&&(c.send({c:"e"}),d.s?a(d.r):o(new Error(`Failed to resolve module: ${t}`)))});let f={c:"rs",a:t};c.send(f)}catch(c){o(c)}})}Rn.resolve=vc;function Cm(t){let e="npm",n=Object.create(null);Object.keys(process.env).forEach(s=>n[s]=process.env[s]),n.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:n};Nm()&&(e="npm.cmd",r.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let s=Pm.spawnSync(e,["config","get","prefix"],r).stdout;if(!s){t&&t("'npm config get prefix' didn't return a value.");return}let a=s.trim();return t&&t(`'npm config get prefix' value is: ${a}`),a.length>0?Nm()?ii.join(a,"node_modules"):ii.join(a,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}Rn.resolveGlobalNodePath=Cm;function TE(t){let e="yarn",n={encoding:"utf8"};Nm()&&(e="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let i=Pm.spawnSync(e,["global","dir","--json"],n),s=i.stdout;if(!s){t&&(t("'yarn global dir' didn't return a value."),i.stderr&&t(i.stderr));return}let a=s.trim().split(/\r?\n/);for(let o of a)try{let l=JSON.parse(o);if(l.type==="log")return ii.join(l.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}Rn.resolveGlobalYarnPath=TE;var sb;(function(t){let e;function n(){return e!==void 0||(process.platform==="win32"?e=!1:e=!vm.existsSync(__filename.toUpperCase())||!vm.existsSync(__filename.toLowerCase())),e}t.isCaseSensitive=n;function r(i,s){return n()?ii.normalize(s).indexOf(ii.normalize(i))===0:ii.normalize(s).toLowerCase().indexOf(ii.normalize(i).toLowerCase())===0}t.isParent=r})(sb=Rn.FileSystem||(Rn.FileSystem={}));function vE(t,e,n,r){return n?(ii.isAbsolute(n)||(n=ii.join(t,n)),vc(e,n,n,r).then(i=>sb.isParent(n,i)?i:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,i=>vc(e,Cm(r),t,r))):vc(e,Cm(r),t,r)}Rn.resolveModulePath=vE});var Dm=Y((zB,ob)=>{"use strict";ob.exports=Hn()});var ub=Y(ur=>{"use strict";var NE=ur&&ur.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),lb=ur&&ur.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&NE(e,t,n)};Object.defineProperty(ur,"__esModule",{value:!0});ur.ProposedFeatures=ur.SemanticTokensBuilder=void 0;var CE=dm();Object.defineProperty(ur,"SemanticTokensBuilder",{enumerable:!0,get:function(){return CE.SemanticTokensBuilder}});lb(Hn(),ur);lb(Tm(),ur);var PE;(function(t){t.all={__brand:"features"}})(PE=ur.ProposedFeatures||(ur.ProposedFeatures={}))});var si=Y(cr=>{"use strict";var DE=cr&&cr.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),fb=cr&&cr.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&DE(e,t,n)};Object.defineProperty(cr,"__esModule",{value:!0});cr.createConnection=cr.Files=void 0;var Sm=Wu(),SE=Tm(),Rl=ab(),ra=Dm();fb(Dm(),cr);fb(ub(),cr);var AE;(function(t){t.uriToFilePath=Rl.uriToFilePath,t.resolveGlobalNodePath=Rl.resolveGlobalNodePath,t.resolveGlobalYarnPath=Rl.resolveGlobalYarnPath,t.resolve=Rl.resolve,t.resolveModulePath=Rl.resolveModulePath})(AE=cr.Files||(cr.Files={}));var cb;function Nc(){if(cb!==void 0)try{cb.end()}catch{}}var ao=!1,pb;function IE(){let t="--clientProcessId";function e(n){try{let r=parseInt(n);isNaN(r)||(pb=setInterval(()=>{try{process.kill(r,0)}catch{Nc(),process.exit(ao?0:1)}},3e3))}catch{}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===t&&n+1<process.argv.length){e(process.argv[n+1]);return}else{let i=r.split("=");i[0]===t&&e(i[1])}}}IE();var EE={initialize:t=>{let e=t.processId;Sm.number(e)&&pb===void 0&&setInterval(()=>{try{process.kill(e,0)}catch{process.exit(ao?0:1)}},3e3)},get shutdownReceived(){return ao},set shutdownReceived(t){ao=t},exit:t=>{Nc(),process.exit(t)}};function xE(t,e,n,r){let i,s,a,o;return t!==void 0&&t.__brand==="features"&&(i=t,t=e,e=n,n=r),ra.ConnectionStrategy.is(t)||ra.ConnectionOptions.is(t)?o=t:(s=t,a=e,o=n),RE(s,a,o,i)}cr.createConnection=xE;function RE(t,e,n,r){if(!t&&!e&&process.argv.length>2){let o,l,u=process.argv.slice(2);for(let c=0;c<u.length;c++){let f=u[c];if(f==="--node-ipc"){t=new ra.IPCMessageReader(process),e=new ra.IPCMessageWriter(process);break}else if(f==="--stdio"){t=process.stdin,e=process.stdout;break}else if(f==="--socket"){o=parseInt(u[c+1]);break}else if(f==="--pipe"){l=u[c+1];break}else{var i=f.split("=");if(i[0]==="--socket"){o=parseInt(i[1]);break}else if(i[0]==="--pipe"){l=i[1];break}}}if(o){let c=ra.createServerSocketTransport(o);t=c[0],e=c[1]}else if(l){let c=ra.createServerPipeTransport(l);t=c[0],e=c[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+s);if(!e)throw new Error("Connection output stream is not set. "+s);if(Sm.func(t.read)&&Sm.func(t.on)){let o=t;o.on("end",()=>{Nc(),process.exit(ao?0:1)}),o.on("close",()=>{Nc(),process.exit(ao?0:1)})}let a=o=>ra.createProtocolConnection(t,e,o,n);return SE.createConnection(a,EE,r)}});var Es=Y($n=>{"use strict";var Xi={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},Wl={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"},gw="tag:yaml.org,2002:",_w={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};function Z0(t){let e=[0],n=t.indexOf(`
`);for(;n!==-1;)n+=1,e.push(n),n=t.indexOf(`
`,n);return e}function ev(t){let e,n;return typeof t=="string"?(e=Z0(t),n=t):(Array.isArray(t)&&(t=t[0]),t&&t.context&&(t.lineStarts||(t.lineStarts=Z0(t.context.src)),e=t.lineStarts,n=t.context.src)),{lineStarts:e,src:n}}function yh(t,e){if(typeof t!="number"||t<0)return null;let{lineStarts:n,src:r}=ev(e);if(!n||!r||t>r.length)return null;for(let s=0;s<n.length;++s){let a=n[s];if(t<a)return{line:s,col:t-n[s-1]+1};if(t===a)return{line:s+1,col:1}}let i=n.length;return{line:i,col:t-n[i-1]+1}}function yw(t,e){let{lineStarts:n,src:r}=ev(e);if(!n||!(t>=1)||t>n.length)return null;let i=n[t-1],s=n[t];for(;s&&s>i&&r[s-1]===`
`;)--s;return r.slice(i,s)}function bw({start:t,end:e},n,r=80){let i=yw(t.line,n);if(!i)return null;let{col:s}=t;if(i.length>r)if(s<=r-10)i=i.substr(0,r-1)+"\u2026";else{let c=Math.round(r/2);i.length>s+c&&(i=i.substr(0,s+c-1)+"\u2026"),s-=i.length-r,i="\u2026"+i.substr(1-r)}let a=1,o="";e&&(e.line===t.line&&s+(e.col-t.col)<=r+1?a=e.col-t.col:(a=Math.min(i.length+1,r)-s,o="\u2026"));let l=s>1?" ".repeat(s-1):"",u="^".repeat(a);return`${i}
${l}${u}${o}`}var Is=class{static copy(e){return new Is(e.start,e.end)}constructor(e,n){this.start=e,this.end=n||e}isEmpty(){return typeof this.start!="number"||!this.end||this.end<=this.start}setOrigRange(e,n){let{start:r,end:i}=this;if(e.length===0||i<=e[0])return this.origStart=r,this.origEnd=i,n;let s=n;for(;s<e.length&&!(e[s]>r);)++s;this.origStart=r+s;let a=s;for(;s<e.length&&!(e[s]>=i);)++s;return this.origEnd=i+s,a}},an=class{static addStringTerminator(e,n,r){if(r[r.length-1]===`
`)return r;let i=an.endOfWhiteSpace(e,n);return i>=e.length||e[i]===`
`?r+`
`:r}static atDocumentBoundary(e,n,r){let i=e[n];if(!i)return!0;let s=e[n-1];if(s&&s!==`
`)return!1;if(r){if(i!==r)return!1}else if(i!==Xi.DIRECTIVES_END&&i!==Xi.DOCUMENT_END)return!1;let a=e[n+1],o=e[n+2];if(a!==i||o!==i)return!1;let l=e[n+3];return!l||l===`
`||l==="	"||l===" "}static endOfIdentifier(e,n){let r=e[n],i=r==="<",s=i?[`
`,"	"," ",">"]:[`
`,"	"," ","[","]","{","}",","];for(;r&&s.indexOf(r)===-1;)r=e[n+=1];return i&&r===">"&&(n+=1),n}static endOfIndent(e,n){let r=e[n];for(;r===" ";)r=e[n+=1];return n}static endOfLine(e,n){let r=e[n];for(;r&&r!==`
`;)r=e[n+=1];return n}static endOfWhiteSpace(e,n){let r=e[n];for(;r==="	"||r===" ";)r=e[n+=1];return n}static startOfLine(e,n){let r=e[n-1];if(r===`
`)return n;for(;r&&r!==`
`;)r=e[n-=1];return n+1}static endOfBlockIndent(e,n,r){let i=an.endOfIndent(e,r);if(i>r+n)return i;{let s=an.endOfWhiteSpace(e,i),a=e[s];if(!a||a===`
`)return s}return null}static atBlank(e,n,r){let i=e[n];return i===`
`||i==="	"||i===" "||r&&!i}static nextNodeIsIndented(e,n,r){return!e||n<0?!1:n>0?!0:r&&e==="-"}static normalizeOffset(e,n){let r=e[n];return r?r!==`
`&&e[n-1]===`
`?n-1:an.endOfWhiteSpace(e,n):n}static foldNewline(e,n,r){let i=0,s=!1,a="",o=e[n+1];for(;o===" "||o==="	"||o===`
`;){switch(o){case`
`:i=0,n+=1,a+=`
`;break;case"	":i<=r&&(s=!0),n=an.endOfWhiteSpace(e,n+2)-1;break;case" ":i+=1,n+=1;break}o=e[n+1]}return a||(a=" "),o&&i<=r&&(s=!0),{fold:a,offset:n,error:s}}constructor(e,n,r){Object.defineProperty(this,"context",{value:r||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=n||[],this.type=e,this.value=null}getPropValue(e,n,r){if(!this.context)return null;let{src:i}=this.context,s=this.props[e];return s&&i[s.start]===n?i.slice(s.start+(r?1:0),s.end):null}get anchor(){for(let e=0;e<this.props.length;++e){let n=this.getPropValue(e,Xi.ANCHOR,!0);if(n!=null)return n}return null}get comment(){let e=[];for(let n=0;n<this.props.length;++n){let r=this.getPropValue(n,Xi.COMMENT,!0);r!=null&&e.push(r)}return e.length>0?e.join(`
`):null}commentHasRequiredWhitespace(e){let{src:n}=this.context;if(this.header&&e===this.header.end||!this.valueRange)return!1;let{end:r}=this.valueRange;return e!==r||an.atBlank(n,r-1)}get hasComment(){if(this.context){let{src:e}=this.context;for(let n=0;n<this.props.length;++n)if(e[this.props[n].start]===Xi.COMMENT)return!0}return!1}get hasProps(){if(this.context){let{src:e}=this.context;for(let n=0;n<this.props.length;++n)if(e[this.props[n].start]!==Xi.COMMENT)return!0}return!1}get includesTrailingLines(){return!1}get jsonLike(){return[Wl.FLOW_MAP,Wl.FLOW_SEQ,Wl.QUOTE_DOUBLE,Wl.QUOTE_SINGLE].indexOf(this.type)!==-1}get rangeAsLinePos(){if(!this.range||!this.context)return;let e=yh(this.range.start,this.context.root);if(!e)return;let n=yh(this.range.end,this.context.root);return{start:e,end:n}}get rawValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange;return this.context.src.slice(e,n)}get tag(){for(let e=0;e<this.props.length;++e){let n=this.getPropValue(e,Xi.TAG,!1);if(n!=null){if(n[1]==="<")return{verbatim:n.slice(2,-1)};{let[r,i,s]=n.match(/^(.*!)([^!]*)$/);return{handle:i,suffix:s}}}}return null}get valueRangeContainsNewline(){if(!this.valueRange||!this.context)return!1;let{start:e,end:n}=this.valueRange,{src:r}=this.context;for(let i=e;i<n;++i)if(r[i]===`
`)return!0;return!1}parseComment(e){let{src:n}=this.context;if(n[e]===Xi.COMMENT){let r=an.endOfLine(n,e+1),i=new Is(e,r);return this.props.push(i),r}return e}setOrigRanges(e,n){return this.range&&(n=this.range.setOrigRange(e,n)),this.valueRange&&this.valueRange.setOrigRange(e,n),this.props.forEach(r=>r.setOrigRange(e,n)),n}toString(){let{context:{src:e},range:n,value:r}=this;if(r!=null)return r;let i=e.slice(n.start,n.end);return an.addStringTerminator(e,n.end,i)}},pa=class extends Error{constructor(e,n,r){if(!r||!(n instanceof an))throw new Error(`Invalid arguments for new ${e}`);super(),this.name=e,this.message=r,this.source=n}makePretty(){if(!this.source)return;this.nodeType=this.source.type;let e=this.source.context&&this.source.context.root;if(typeof this.offset=="number"){this.range=new Is(this.offset,this.offset+1);let n=e&&yh(this.offset,e);if(n){let r={line:n.line,col:n.col+1};this.linePos={start:n,end:r}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){let{line:n,col:r}=this.linePos.start;this.message+=` at line ${n}, column ${r}`;let i=e&&bw(this.linePos,e);i&&(this.message+=`:

${i}
`)}delete this.source}},bh=class extends pa{constructor(e,n){super("YAMLReferenceError",e,n)}},Gl=class extends pa{constructor(e,n){super("YAMLSemanticError",e,n)}},Th=class extends pa{constructor(e,n){super("YAMLSyntaxError",e,n)}},vh=class extends pa{constructor(e,n){super("YAMLWarning",e,n)}};function Tw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Uo=class extends an{static endOfLine(e,n,r){let i=e[n],s=n;for(;i&&i!==`
`&&!(r&&(i==="["||i==="]"||i==="{"||i==="}"||i===","));){let a=e[s+1];if(i===":"&&(!a||a===`
`||a==="	"||a===" "||r&&a===",")||(i===" "||i==="	")&&a==="#")break;s+=1,i=a}return s}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange,{src:r}=this.context,i=r[n-1];for(;e<n&&(i===`
`||i==="	"||i===" ");)i=r[--n-1];let s="";for(let o=e;o<n;++o){let l=r[o];if(l===`
`){let{fold:u,offset:c}=an.foldNewline(r,o,-1);s+=u,o=c}else if(l===" "||l==="	"){let u=o,c=r[o+1];for(;o<n&&(c===" "||c==="	");)o+=1,c=r[o+1];c!==`
`&&(s+=o>u?r.slice(u,o+1):l)}else s+=l}let a=r[e];switch(a){case"	":{let o="Plain value cannot start with a tab character";return{errors:[new Gl(this,o)],str:s}}case"@":case"`":{let o=`Plain value cannot start with reserved character ${a}`;return{errors:[new Gl(this,o)],str:s}}default:return s}}parseBlockValue(e){let{indent:n,inFlow:r,src:i}=this.context,s=e,a=e;for(let o=i[s];o===`
`&&!an.atDocumentBoundary(i,s+1);o=i[s]){let l=an.endOfBlockIndent(i,n,s+1);if(l===null||i[l]==="#")break;i[l]===`
`?s=l:(a=Uo.endOfLine(i,l,r),s=a)}return this.valueRange.isEmpty()&&(this.valueRange.start=e),this.valueRange.end=a,a}parse(e,n){this.context=e;let{inFlow:r,src:i}=e,s=n,a=i[s];return a&&a!=="#"&&a!==`
`&&(s=Uo.endOfLine(i,n,r)),this.valueRange=new Is(n,s),s=an.endOfWhiteSpace(i,s),s=this.parseComment(s),(!this.hasComment||this.valueRange.isEmpty())&&(s=this.parseBlockValue(s)),s}};$n.Char=Xi;$n.Node=an;$n.PlainValue=Uo;$n.Range=Is;$n.Type=Wl;$n.YAMLError=pa;$n.YAMLReferenceError=bh;$n.YAMLSemanticError=Gl;$n.YAMLSyntaxError=Th;$n.YAMLWarning=vh;$n._defineProperty=Tw;$n.defaultTagPrefix=gw;$n.defaultTags=_w});var nv=Y(tv=>{"use strict";var k=Es(),ha=class extends k.Node{constructor(){super(k.Type.BLANK_LINE)}get includesTrailingLines(){return!0}parse(e,n){return this.context=e,this.range=new k.Range(n,n+1),n+1}},Hl=class extends k.Node{constructor(e,n){super(e,n),this.node=null}get includesTrailingLines(){return!!this.node&&this.node.includesTrailingLines}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,{atLineStart:s,lineStart:a}=e;!s&&this.type===k.Type.SEQ_ITEM&&(this.error=new k.YAMLSemanticError(this,"Sequence items must not have preceding content on the same line"));let o=s?n-a:e.indent,l=k.Node.endOfWhiteSpace(i,n+1),u=i[l],c=u==="#",f=[],d=null;for(;u===`
`||u==="#";){if(u==="#"){let p=k.Node.endOfLine(i,l+1);f.push(new k.Range(l,p)),l=p}else{s=!0,a=l+1;let p=k.Node.endOfWhiteSpace(i,a);i[p]===`
`&&f.length===0&&(d=new ha,a=d.parse({src:i},a)),l=k.Node.endOfIndent(i,a)}u=i[l]}if(k.Node.nextNodeIsIndented(u,l-(a+o),this.type!==k.Type.SEQ_ITEM)?this.node=r({atLineStart:s,inCollection:!1,indent:o,lineStart:a,parent:this},l):u&&a>n+1&&(l=a-1),this.node){if(d){let p=e.parent.items||e.parent.contents;p&&p.push(d)}f.length&&Array.prototype.push.apply(this.props,f),l=this.node.range.end}else if(c){let p=f[0];this.props.push(p),l=p.end}else l=k.Node.endOfLine(i,n+1);let h=this.node?this.node.valueRange.end:l;return this.valueRange=new k.Range(n,h),l}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.node?this.node.setOrigRanges(e,n):n}toString(){let{context:{src:e},node:n,range:r,value:i}=this;if(i!=null)return i;let s=n?e.slice(r.start,n.range.start)+String(n):e.slice(r.start,r.end);return k.Node.addStringTerminator(e,r.end,s)}},da=class extends k.Node{constructor(){super(k.Type.COMMENT)}parse(e,n){this.context=e;let r=this.parseComment(n);return this.range=new k.Range(n,r),r}};function Nh(t){let e=t;for(;e instanceof Hl;)e=e.node;if(!(e instanceof ga))return null;let n=e.items.length,r=-1;for(let a=n-1;a>=0;--a){let o=e.items[a];if(o.type===k.Type.COMMENT){let{indent:l,lineStart:u}=o.context;if(l>0&&o.range.start>=u+l)break;r=a}else if(o.type===k.Type.BLANK_LINE)r=a;else break}if(r===-1)return null;let i=e.items.splice(r,n-r),s=i[0].range.start;for(;e.range.end=s,e.valueRange&&e.valueRange.end>s&&(e.valueRange.end=s),e!==t;)e=e.context.parent;return i}var ga=class extends k.Node{static nextContentHasIndent(e,n,r){let i=k.Node.endOfLine(e,n)+1;n=k.Node.endOfWhiteSpace(e,i);let s=e[n];return s?n>=i+r?!0:s!=="#"&&s!==`
`?!1:ga.nextContentHasIndent(e,n,r):!1}constructor(e){super(e.type===k.Type.SEQ_ITEM?k.Type.SEQ:k.Type.MAP);for(let r=e.props.length-1;r>=0;--r)if(e.props[r].start<e.context.lineStart){this.props=e.props.slice(0,r+1),e.props=e.props.slice(r+1);let i=e.props[0]||e.valueRange;e.range.start=i.start;break}this.items=[e];let n=Nh(e);n&&Array.prototype.push.apply(this.items,n)}get includesTrailingLines(){return this.items.length>0}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,s=k.Node.startOfLine(i,n),a=this.items[0];a.context.parent=this,this.valueRange=k.Range.copy(a.valueRange);let o=a.range.start-a.context.lineStart,l=n;l=k.Node.normalizeOffset(i,l);let u=i[l],c=k.Node.endOfWhiteSpace(i,s)===l,f=!1;for(;u;){for(;u===`
`||u==="#";){if(c&&u===`
`&&!f){let p=new ha;if(l=p.parse({src:i},l),this.valueRange.end=l,l>=i.length){u=null;break}this.items.push(p),l-=1}else if(u==="#"){if(l<s+o&&!ga.nextContentHasIndent(i,l,o))return l;let p=new da;if(l=p.parse({indent:o,lineStart:s,src:i},l),this.items.push(p),this.valueRange.end=l,l>=i.length){u=null;break}}if(s=l+1,l=k.Node.endOfIndent(i,s),k.Node.atBlank(i,l)){let p=k.Node.endOfWhiteSpace(i,l),m=i[p];(!m||m===`
`||m==="#")&&(l=p)}u=i[l],c=!0}if(!u)break;if(l!==s+o&&(c||u!==":")){if(l<s+o){s>n&&(l=s);break}else if(!this.error){let p="All collection items must start at the same column";this.error=new k.YAMLSyntaxError(this,p)}}if(a.type===k.Type.SEQ_ITEM){if(u!=="-"){s>n&&(l=s);break}}else if(u==="-"&&!this.error){let p=i[l+1];if(!p||p===`
`||p==="	"||p===" "){let m="A collection cannot be both a mapping and a sequence";this.error=new k.YAMLSyntaxError(this,m)}}let d=r({atLineStart:c,inCollection:!0,indent:o,lineStart:s,parent:this},l);if(!d)return l;if(this.items.push(d),this.valueRange.end=d.valueRange.end,l=k.Node.normalizeOffset(i,d.range.end),u=i[l],c=!1,f=d.includesTrailingLines,u){let p=l-1,m=i[p];for(;m===" "||m==="	";)m=i[--p];m===`
`&&(s=p+1,c=!0)}let h=Nh(d);h&&Array.prototype.push.apply(this.items,h)}return l}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.items.forEach(r=>{n=r.setOrigRanges(e,n)}),n}toString(){let{context:{src:e},items:n,range:r,value:i}=this;if(i!=null)return i;let s=e.slice(r.start,n[0].range.start)+String(n[0]);for(let a=1;a<n.length;++a){let o=n[a],{atLineStart:l,indent:u}=o.context;if(l)for(let c=0;c<u;++c)s+=" ";s+=String(o)}return k.Node.addStringTerminator(e,r.end,s)}},Ch=class extends k.Node{constructor(){super(k.Type.DIRECTIVE),this.name=null}get parameters(){let e=this.rawValue;return e?e.trim().split(/[ \t]+/):[]}parseName(e){let{src:n}=this.context,r=e,i=n[r];for(;i&&i!==`
`&&i!=="	"&&i!==" ";)i=n[r+=1];return this.name=n.slice(e,r),r}parseParameters(e){let{src:n}=this.context,r=e,i=n[r];for(;i&&i!==`
`&&i!=="#";)i=n[r+=1];return this.valueRange=new k.Range(e,r),r}parse(e,n){this.context=e;let r=this.parseName(n+1);return r=this.parseParameters(r),r=this.parseComment(r),this.range=new k.Range(n,r),r}},Wo=class extends k.Node{static startCommentOrEndBlankLine(e,n){let r=k.Node.endOfWhiteSpace(e,n),i=e[r];return i==="#"||i===`
`?r:n}constructor(){super(k.Type.DOCUMENT),this.directives=null,this.contents=null,this.directivesEndMarker=null,this.documentEndMarker=null}parseDirectives(e){let{src:n}=this.context;this.directives=[];let r=!0,i=!1,s=e;for(;!k.Node.atDocumentBoundary(n,s,k.Char.DIRECTIVES_END);)switch(s=Wo.startCommentOrEndBlankLine(n,s),n[s]){case`
`:if(r){let a=new ha;s=a.parse({src:n},s),s<n.length&&this.directives.push(a)}else s+=1,r=!0;break;case"#":{let a=new da;s=a.parse({src:n},s),this.directives.push(a),r=!1}break;case"%":{let a=new Ch;s=a.parse({parent:this,src:n},s),this.directives.push(a),i=!0,r=!1}break;default:return i?this.error=new k.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s}return n[s]?(this.directivesEndMarker=new k.Range(s,s+3),s+3):(i?this.error=new k.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),s)}parseContents(e){let{parseNode:n,src:r}=this.context;this.contents||(this.contents=[]);let i=e;for(;r[i-1]==="-";)i-=1;let s=k.Node.endOfWhiteSpace(r,e),a=i===e;for(this.valueRange=new k.Range(s);!k.Node.atDocumentBoundary(r,s,k.Char.DOCUMENT_END);){switch(r[s]){case`
`:if(a){let o=new ha;s=o.parse({src:r},s),s<r.length&&this.contents.push(o)}else s+=1,a=!0;i=s;break;case"#":{let o=new da;s=o.parse({src:r},s),this.contents.push(o),a=!1}break;default:{let o=k.Node.endOfIndent(r,s),u=n({atLineStart:a,indent:-1,inFlow:!1,inCollection:!1,lineStart:i,parent:this},o);if(!u)return this.valueRange.end=o;this.contents.push(u),s=u.range.end,a=!1;let c=Nh(u);c&&Array.prototype.push.apply(this.contents,c)}}s=Wo.startCommentOrEndBlankLine(r,s)}if(this.valueRange.end=s,r[s]&&(this.documentEndMarker=new k.Range(s,s+3),s+=3,r[s])){if(s=k.Node.endOfWhiteSpace(r,s),r[s]==="#"){let o=new da;s=o.parse({src:r},s),this.contents.push(o)}switch(r[s]){case`
`:s+=1;break;case void 0:break;default:this.error=new k.YAMLSyntaxError(this,"Document end marker line cannot have a non-comment suffix")}}return s}parse(e,n){e.root=this,this.context=e;let{src:r}=e,i=r.charCodeAt(n)===65279?n+1:n;return i=this.parseDirectives(i),i=this.parseContents(i),i}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.directives.forEach(r=>{n=r.setOrigRanges(e,n)}),this.directivesEndMarker&&(n=this.directivesEndMarker.setOrigRange(e,n)),this.contents.forEach(r=>{n=r.setOrigRanges(e,n)}),this.documentEndMarker&&(n=this.documentEndMarker.setOrigRange(e,n)),n}toString(){let{contents:e,directives:n,value:r}=this;if(r!=null)return r;let i=n.join("");return e.length>0&&((n.length>0||e[0].type===k.Type.COMMENT)&&(i+=`---
`),i+=e.join("")),i[i.length-1]!==`
`&&(i+=`
`),i}},Ph=class extends k.Node{parse(e,n){this.context=e;let{src:r}=e,i=k.Node.endOfIdentifier(r,n+1);return this.valueRange=new k.Range(n+1,i),i=k.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}},xs={CLIP:"CLIP",KEEP:"KEEP",STRIP:"STRIP"},Dh=class extends k.Node{constructor(e,n){super(e,n),this.blockIndent=null,this.chomping=xs.CLIP,this.header=null}get includesTrailingLines(){return this.chomping===xs.KEEP}get strValue(){if(!this.valueRange||!this.context)return null;let{start:e,end:n}=this.valueRange,{indent:r,src:i}=this.context;if(this.valueRange.isEmpty())return"";let s=null,a=i[n-1];for(;a===`
`||a==="	"||a===" ";){if(n-=1,n<=e){if(this.chomping===xs.KEEP)break;return""}a===`
`&&(s=n),a=i[n-1]}let o=n+1;s&&(this.chomping===xs.KEEP?(o=s,n=this.valueRange.end):n=s);let l=r+this.blockIndent,u=this.type===k.Type.BLOCK_FOLDED,c=!0,f="",d="",h=!1;for(let p=e;p<n;++p){for(let g=0;g<l&&i[p]===" ";++g)p+=1;let m=i[p];if(m===`
`)d===`
`?f+=`
`:d=`
`;else{let g=k.Node.endOfLine(i,p),T=i.slice(p,g);p=g,u&&(m===" "||m==="	")&&p<o?(d===" "?d=`
`:!h&&!c&&d===`
`&&(d=`

`),f+=d+T,d=g<n&&i[g]||"",h=!0):(f+=d+T,d=u&&p<o?" ":`
`,h=!1),c&&T!==""&&(c=!1)}}return this.chomping===xs.STRIP?f:f+`
`}parseBlockHeader(e){let{src:n}=this.context,r=e+1,i="";for(;;){let s=n[r];switch(s){case"-":this.chomping=xs.STRIP;break;case"+":this.chomping=xs.KEEP;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i+=s;break;default:return this.blockIndent=Number(i)||null,this.header=new k.Range(e,r),r}r+=1}}parseBlockValue(e){let{indent:n,src:r}=this.context,i=!!this.blockIndent,s=e,a=e,o=1;for(let l=r[s];l===`
`&&(s+=1,!k.Node.atDocumentBoundary(r,s));l=r[s]){let u=k.Node.endOfBlockIndent(r,n,s);if(u===null)break;let c=r[u],f=u-(s+n);if(this.blockIndent){if(c&&c!==`
`&&f<this.blockIndent){if(r[u]==="#")break;if(!this.error){let h=`Block scalars must not be less indented than their ${i?"explicit indentation indicator":"first line"}`;this.error=new k.YAMLSemanticError(this,h)}}}else if(r[u]!==`
`){if(f<o){let d="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";this.error=new k.YAMLSemanticError(this,d)}this.blockIndent=f}else f>o&&(o=f);r[u]===`
`?s=u:s=a=k.Node.endOfLine(r,u)}return this.chomping!==xs.KEEP&&(s=r[a]?a+1:a),this.valueRange=new k.Range(e+1,s),s}parse(e,n){this.context=e;let{src:r}=e,i=this.parseBlockHeader(n);return i=k.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i=this.parseBlockValue(i),i}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.header?this.header.setOrigRange(e,n):n}},Sh=class extends k.Node{constructor(e,n){super(e,n),this.items=null}prevNodeIsJsonLike(e=this.items.length){let n=this.items[e-1];return!!n&&(n.jsonLike||n.type===k.Type.COMMENT&&this.prevNodeIsJsonLike(e-1))}parse(e,n){this.context=e;let{parseNode:r,src:i}=e,{indent:s,lineStart:a}=e,o=i[n];this.items=[{char:o,offset:n}];let l=k.Node.endOfWhiteSpace(i,n+1);for(o=i[l];o&&o!=="]"&&o!=="}";){switch(o){case`
`:{a=l+1;let u=k.Node.endOfWhiteSpace(i,a);if(i[u]===`
`){let c=new ha;a=c.parse({src:i},a),this.items.push(c)}if(l=k.Node.endOfIndent(i,a),l<=a+s&&(o=i[l],l<a+s||o!=="]"&&o!=="}")){let c="Insufficient indentation in flow collection";this.error=new k.YAMLSemanticError(this,c)}}break;case",":this.items.push({char:o,offset:l}),l+=1;break;case"#":{let u=new da;l=u.parse({src:i},l),this.items.push(u)}break;case"?":case":":{let u=i[l+1];if(u===`
`||u==="	"||u===" "||u===","||o===":"&&this.prevNodeIsJsonLike()){this.items.push({char:o,offset:l}),l+=1;break}}default:{let u=r({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:a,parent:this},l);if(!u)return this.valueRange=new k.Range(n,l),l;this.items.push(u),l=k.Node.normalizeOffset(i,u.range.end)}}l=k.Node.endOfWhiteSpace(i,l),o=i[l]}return this.valueRange=new k.Range(n,l+1),o&&(this.items.push({char:o,offset:l}),l=k.Node.endOfWhiteSpace(i,l+1),l=this.parseComment(l)),l}setOrigRanges(e,n){return n=super.setOrigRanges(e,n),this.items.forEach(r=>{if(r instanceof k.Node)n=r.setOrigRanges(e,n);else if(e.length===0)r.origOffset=r.offset;else{let i=n;for(;i<e.length&&!(e[i]>r.offset);)++i;r.origOffset=r.offset+i,n=i}}),n}toString(){let{context:{src:e},items:n,range:r,value:i}=this;if(i!=null)return i;let s=n.filter(l=>l instanceof k.Node),a="",o=r.start;return s.forEach(l=>{let u=e.slice(o,l.range.start);o=l.range.end,a+=u+String(l),a[a.length-1]===`
`&&e[o-1]!==`
`&&e[o]===`
`&&(o+=1)}),a+=e.slice(o,r.end),k.Node.addStringTerminator(e,r.end,a)}},Yl=class extends k.Node{static endOfQuote(e,n){let r=e[n];for(;r&&r!=='"';)n+=r==="\\"?2:1,r=e[n];return n+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:n,end:r}=this.valueRange,{indent:i,src:s}=this.context;s[r-1]!=='"'&&e.push(new k.YAMLSyntaxError(this,'Missing closing "quote'));let a="";for(let o=n+1;o<r-1;++o){let l=s[o];if(l===`
`){k.Node.atDocumentBoundary(s,o+1)&&e.push(new k.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:u,offset:c,error:f}=k.Node.foldNewline(s,o,i);a+=u,o=c,f&&e.push(new k.YAMLSemanticError(this,"Multi-line double-quoted string needs to be sufficiently indented"))}else if(l==="\\")switch(o+=1,s[o]){case"0":a+="\0";break;case"a":a+="\x07";break;case"b":a+="\b";break;case"e":a+="\x1B";break;case"f":a+="\f";break;case"n":a+=`
`;break;case"r":a+="\r";break;case"t":a+="	";break;case"v":a+="\v";break;case"N":a+="\x85";break;case"_":a+="\xA0";break;case"L":a+="\u2028";break;case"P":a+="\u2029";break;case" ":a+=" ";break;case'"':a+='"';break;case"/":a+="/";break;case"\\":a+="\\";break;case"	":a+="	";break;case"x":a+=this.parseCharCode(o+1,2,e),o+=2;break;case"u":a+=this.parseCharCode(o+1,4,e),o+=4;break;case"U":a+=this.parseCharCode(o+1,8,e),o+=8;break;case`
`:for(;s[o+1]===" "||s[o+1]==="	";)o+=1;break;default:e.push(new k.YAMLSyntaxError(this,`Invalid escape sequence ${s.substr(o-1,2)}`)),a+="\\"+s[o]}else if(l===" "||l==="	"){let u=o,c=s[o+1];for(;c===" "||c==="	";)o+=1,c=s[o+1];c!==`
`&&(a+=o>u?s.slice(u,o+1):l)}else a+=l}return e.length>0?{errors:e,str:a}:a}parseCharCode(e,n,r){let{src:i}=this.context,s=i.substr(e,n),o=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;return isNaN(o)?(r.push(new k.YAMLSyntaxError(this,`Invalid escape sequence ${i.substr(e-2,n+2)}`)),i.substr(e-2,n+2)):String.fromCodePoint(o)}parse(e,n){this.context=e;let{src:r}=e,i=Yl.endOfQuote(r,n+1);return this.valueRange=new k.Range(n,i),i=k.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}},$l=class extends k.Node{static endOfQuote(e,n){let r=e[n];for(;r;)if(r==="'"){if(e[n+1]!=="'")break;r=e[n+=2]}else r=e[n+=1];return n+1}get strValue(){if(!this.valueRange||!this.context)return null;let e=[],{start:n,end:r}=this.valueRange,{indent:i,src:s}=this.context;s[r-1]!=="'"&&e.push(new k.YAMLSyntaxError(this,"Missing closing 'quote"));let a="";for(let o=n+1;o<r-1;++o){let l=s[o];if(l===`
`){k.Node.atDocumentBoundary(s,o+1)&&e.push(new k.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:u,offset:c,error:f}=k.Node.foldNewline(s,o,i);a+=u,o=c,f&&e.push(new k.YAMLSemanticError(this,"Multi-line single-quoted string needs to be sufficiently indented"))}else if(l==="'")a+=l,o+=1,s[o]!=="'"&&e.push(new k.YAMLSyntaxError(this,"Unescaped single quote? This should not happen."));else if(l===" "||l==="	"){let u=o,c=s[o+1];for(;c===" "||c==="	";)o+=1,c=s[o+1];c!==`
`&&(a+=o>u?s.slice(u,o+1):l)}else a+=l}return e.length>0?{errors:e,str:a}:a}parse(e,n){this.context=e;let{src:r}=e,i=$l.endOfQuote(r,n+1);return this.valueRange=new k.Range(n,i),i=k.Node.endOfWhiteSpace(r,i),i=this.parseComment(i),i}};function vw(t,e){switch(t){case k.Type.ALIAS:return new Ph(t,e);case k.Type.BLOCK_FOLDED:case k.Type.BLOCK_LITERAL:return new Dh(t,e);case k.Type.FLOW_MAP:case k.Type.FLOW_SEQ:return new Sh(t,e);case k.Type.MAP_KEY:case k.Type.MAP_VALUE:case k.Type.SEQ_ITEM:return new Hl(t,e);case k.Type.COMMENT:case k.Type.PLAIN:return new k.PlainValue(t,e);case k.Type.QUOTE_DOUBLE:return new Yl(t,e);case k.Type.QUOTE_SINGLE:return new $l(t,e);default:return null}}var ma=class{static parseType(e,n,r){switch(e[n]){case"*":return k.Type.ALIAS;case">":return k.Type.BLOCK_FOLDED;case"|":return k.Type.BLOCK_LITERAL;case"{":return k.Type.FLOW_MAP;case"[":return k.Type.FLOW_SEQ;case"?":return!r&&k.Node.atBlank(e,n+1,!0)?k.Type.MAP_KEY:k.Type.PLAIN;case":":return!r&&k.Node.atBlank(e,n+1,!0)?k.Type.MAP_VALUE:k.Type.PLAIN;case"-":return!r&&k.Node.atBlank(e,n+1,!0)?k.Type.SEQ_ITEM:k.Type.PLAIN;case'"':return k.Type.QUOTE_DOUBLE;case"'":return k.Type.QUOTE_SINGLE;default:return k.Type.PLAIN}}constructor(e={},{atLineStart:n,inCollection:r,inFlow:i,indent:s,lineStart:a,parent:o}={}){k._defineProperty(this,"parseNode",(l,u)=>{if(k.Node.atDocumentBoundary(this.src,u))return null;let c=new ma(this,l),{props:f,type:d,valueStart:h}=c.parseProps(u),p=vw(d,f),m=p.parse(c,h);if(p.range=new k.Range(u,m),m<=u&&(p.error=new Error("Node#parse consumed no characters"),p.error.parseEnd=m,p.error.source=p,p.range.end=u+1),c.nodeStartsCollection(p)){!p.error&&!c.atLineStart&&c.parent.type===k.Type.DOCUMENT&&(p.error=new k.YAMLSyntaxError(p,"Block collection must not have preceding content here (e.g. directives-end indicator)"));let g=new ga(p);return m=g.parse(new ma(c),m),g.range=new k.Range(u,m),g}return p}),this.atLineStart=n??(e.atLineStart||!1),this.inCollection=r??(e.inCollection||!1),this.inFlow=i??(e.inFlow||!1),this.indent=s??e.indent,this.lineStart=a??e.lineStart,this.parent=o??(e.parent||{}),this.root=e.root,this.src=e.src}nodeStartsCollection(e){let{inCollection:n,inFlow:r,src:i}=this;if(n||r)return!1;if(e instanceof Hl)return!0;let s=e.range.end;return i[s]===`
`||i[s-1]===`
`?!1:(s=k.Node.endOfWhiteSpace(i,s),i[s]===":")}parseProps(e){let{inFlow:n,parent:r,src:i}=this,s=[],a=!1;e=this.atLineStart?k.Node.endOfIndent(i,e):k.Node.endOfWhiteSpace(i,e);let o=i[e];for(;o===k.Char.ANCHOR||o===k.Char.COMMENT||o===k.Char.TAG||o===`
`;){if(o===`
`){let u=e,c;do c=u+1,u=k.Node.endOfIndent(i,c);while(i[u]===`
`);let f=u-(c+this.indent),d=r.type===k.Type.SEQ_ITEM&&r.context.atLineStart;if(i[u]!=="#"&&!k.Node.nextNodeIsIndented(i[u],f,!d))break;this.atLineStart=!0,this.lineStart=c,a=!1,e=u}else if(o===k.Char.COMMENT){let u=k.Node.endOfLine(i,e+1);s.push(new k.Range(e,u)),e=u}else{let u=k.Node.endOfIdentifier(i,e+1);o===k.Char.TAG&&i[u]===","&&/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+,\d\d\d\d(-\d\d){0,2}\/\S/.test(i.slice(e+1,u+13))&&(u=k.Node.endOfIdentifier(i,u+5)),s.push(new k.Range(e,u)),a=!0,e=k.Node.endOfWhiteSpace(i,u)}o=i[e]}a&&o===":"&&k.Node.atBlank(i,e+1,!0)&&(e-=1);let l=ma.parseType(i,e,n);return{props:s,type:l,valueStart:e}}};function Nw(t){let e=[];t.indexOf("\r")!==-1&&(t=t.replace(/\r\n?/g,(i,s)=>(i.length>1&&e.push(s),`
`)));let n=[],r=0;do{let i=new Wo,s=new ma({src:t});r=i.parse(s,r),n.push(i)}while(r<t.length);return n.setOrigRanges=()=>{if(e.length===0)return!1;for(let s=1;s<e.length;++s)e[s]-=s;let i=0;for(let s=0;s<n.length;++s)i=n[s].setOrigRanges(e,i);return e.splice(0,e.length),!0},n.toString=()=>n.join(`...
`),n}tv.parse=Nw});var Ho=Y(bt=>{"use strict";var j=Es();function Cw(t,e,n){return n?`#${n.replace(/[\s\S]^/gm,`$&${e}#`)}
${e}${t}`:t}function Go(t,e,n){return n?n.indexOf(`
`)===-1?`${t} #${n}`:`${t}
`+n.replace(/^/gm,`${e||""}#`):t}var mr=class{};function Rs(t,e,n){if(Array.isArray(t))return t.map((r,i)=>Rs(r,String(i),n));if(t&&typeof t.toJSON=="function"){let r=n&&n.anchors&&n.anchors.get(t);r&&(n.onCreate=s=>{r.res=s,delete n.onCreate});let i=t.toJSON(e,n);return r&&n.onCreate&&n.onCreate(i),i}return(!n||!n.keep)&&typeof t=="bigint"?Number(t):t}var Tn=class extends mr{constructor(e){super(),this.value=e}toJSON(e,n){return n&&n.keep?this.value:Rs(this.value,e,n)}toString(){return String(this.value)}};function rv(t,e,n){let r=n;for(let i=e.length-1;i>=0;--i){let s=e[i];if(Number.isInteger(s)&&s>=0){let a=[];a[s]=r,r=a}else{let a={};Object.defineProperty(a,s,{value:r,writable:!0,enumerable:!0,configurable:!0}),r=a}}return t.createNode(r,!1)}var av=t=>t==null||typeof t=="object"&&t[Symbol.iterator]().next().done,Gt=class extends mr{constructor(e){super(),j._defineProperty(this,"items",[]),this.schema=e}addIn(e,n){if(av(e))this.add(n);else{let[r,...i]=e,s=this.get(r,!0);if(s instanceof Gt)s.addIn(i,n);else if(s===void 0&&this.schema)this.set(r,rv(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn([e,...n]){if(n.length===0)return this.delete(e);let r=this.get(e,!0);if(r instanceof Gt)return r.deleteIn(n);throw new Error(`Expected YAML collection at ${e}. Remaining path: ${n}`)}getIn([e,...n],r){let i=this.get(e,!0);return n.length===0?!r&&i instanceof Tn?i.value:i:i instanceof Gt?i.getIn(n,r):void 0}hasAllNullValues(){return this.items.every(e=>{if(!e||e.type!=="PAIR")return!1;let n=e.value;return n==null||n instanceof Tn&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn([e,...n]){if(n.length===0)return this.has(e);let r=this.get(e,!0);return r instanceof Gt?r.hasIn(n):!1}setIn([e,...n],r){if(n.length===0)this.set(e,r);else{let i=this.get(e,!0);if(i instanceof Gt)i.setIn(n,r);else if(i===void 0&&this.schema)this.set(e,rv(this.schema,n,r));else throw new Error(`Expected YAML collection at ${e}. Remaining path: ${n}`)}}toJSON(){return null}toString(e,{blockItem:n,flowChars:r,isMap:i,itemIndent:s},a,o){let{indent:l,indentStep:u,stringify:c}=e,f=this.type===j.Type.FLOW_MAP||this.type===j.Type.FLOW_SEQ||e.inFlow;f&&(s+=u);let d=i&&this.hasAllNullValues();e=Object.assign({},e,{allNullValues:d,indent:s,inFlow:f,type:null});let h=!1,p=!1,m=this.items.reduce((T,b,S)=>{let B;b&&(!h&&b.spaceBefore&&T.push({type:"comment",str:""}),b.commentBefore&&b.commentBefore.match(/^.*$/gm).forEach(ne=>{T.push({type:"comment",str:`#${ne}`})}),b.comment&&(B=b.comment),f&&(!h&&b.spaceBefore||b.commentBefore||b.comment||b.key&&(b.key.commentBefore||b.key.comment)||b.value&&(b.value.commentBefore||b.value.comment))&&(p=!0)),h=!1;let z=c(b,e,()=>B=null,()=>h=!0);return f&&!p&&z.includes(`
`)&&(p=!0),f&&S<this.items.length-1&&(z+=","),z=Go(z,s,B),h&&(B||f)&&(h=!1),T.push({type:"item",str:z}),T},[]),g;if(m.length===0)g=r.start+r.end;else if(f){let{start:T,end:b}=r,S=m.map(B=>B.str);if(p||S.reduce((B,z)=>B+z.length+2,2)>Gt.maxFlowStringSingleLineLength){g=T;for(let B of S)g+=B?`
${u}${l}${B}`:`
`;g+=`
${l}${b}`}else g=`${T} ${S.join(" ")} ${b}`}else{let T=m.map(n);g=T.shift();for(let b of T)g+=b?`
${l}${b}`:`
`}return this.comment?(g+=`
`+this.comment.replace(/^/gm,`${l}#`),a&&a()):h&&o&&o(),g}};j._defineProperty(Gt,"maxFlowStringSingleLineLength",60);function qf(t){let e=t instanceof Tn?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),Number.isInteger(e)&&e>=0?e:null}var ws=class extends Gt{add(e){this.items.push(e)}delete(e){let n=qf(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){let r=qf(e);if(typeof r!="number")return;let i=this.items[r];return!n&&i instanceof Tn?i.value:i}has(e){let n=qf(e);return typeof n=="number"&&n<this.items.length}set(e,n){let r=qf(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);this.items[r]=n}toJSON(e,n){let r=[];n&&n.onCreate&&n.onCreate(r);let i=0;for(let s of this.items)r.push(Rs(s,String(i++),n));return r}toString(e,n,r){return e?super.toString(e,{blockItem:i=>i.type==="comment"?i.str:`- ${i.str}`,flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(e.indent||"")+"  "},n,r):JSON.stringify(this)}},Pw=(t,e,n)=>e===null?"":typeof e!="object"?String(e):t instanceof mr&&n&&n.doc?t.toString({anchors:Object.create(null),doc:n.doc,indent:"",indentStep:n.indentStep,inFlow:!0,inStringifyKey:!0,stringify:n.stringify}):JSON.stringify(e),rt=class extends mr{constructor(e,n=null){super(),this.key=e,this.value=n,this.type=rt.Type.PAIR}get commentBefore(){return this.key instanceof mr?this.key.commentBefore:void 0}set commentBefore(e){if(this.key==null&&(this.key=new Tn(null)),this.key instanceof mr)this.key.commentBefore=e;else{let n="Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.";throw new Error(n)}}addToJSMap(e,n){let r=Rs(this.key,"",e);if(n instanceof Map){let i=Rs(this.value,r,e);n.set(r,i)}else if(n instanceof Set)n.add(r);else{let i=Pw(this.key,r,e),s=Rs(this.value,i,e);i in n?Object.defineProperty(n,i,{value:s,writable:!0,enumerable:!0,configurable:!0}):n[i]=s}return n}toJSON(e,n){let r=n&&n.mapAsMap?new Map:{};return this.addToJSMap(n,r)}toString(e,n,r){if(!e||!e.doc)return JSON.stringify(this);let{indent:i,indentSeq:s,simpleKeys:a}=e.doc.options,{key:o,value:l}=this,u=o instanceof mr&&o.comment;if(a){if(u)throw new Error("With simple keys, key nodes cannot have comments");if(o instanceof Gt){let z="With simple keys, collection cannot be used as a key value";throw new Error(z)}}let c=!a&&(!o||u||(o instanceof mr?o instanceof Gt||o.type===j.Type.BLOCK_FOLDED||o.type===j.Type.BLOCK_LITERAL:typeof o=="object")),{doc:f,indent:d,indentStep:h,stringify:p}=e;e=Object.assign({},e,{implicitKey:!c,indent:d+h});let m=!1,g=p(o,e,()=>u=null,()=>m=!0);if(g=Go(g,e.indent,u),!c&&g.length>1024){if(a)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");c=!0}if(e.allNullValues&&!a)return this.comment?(g=Go(g,e.indent,this.comment),n&&n()):m&&!u&&r&&r(),e.inFlow&&!c?g:`? ${g}`;g=c?`? ${g}
${d}:`:`${g}:`,this.comment&&(g=Go(g,e.indent,this.comment),n&&n());let T="",b=null;l instanceof mr?(l.spaceBefore&&(T=`
`),l.commentBefore&&(T+=`
${l.commentBefore.replace(/^/gm,`${e.indent}#`)}`),b=l.comment):l&&typeof l=="object"&&(l=f.schema.createNode(l,!0)),e.implicitKey=!1,!c&&!this.comment&&l instanceof Tn&&(e.indentAtStart=g.length+1),m=!1,!s&&i>=2&&!e.inFlow&&!c&&l instanceof ws&&l.type!==j.Type.FLOW_SEQ&&!l.tag&&!f.anchors.getName(l)&&(e.indent=e.indent.substr(2));let S=p(l,e,()=>b=null,()=>m=!0),B=" ";return T||this.comment?B=`${T}
${e.indent}`:!c&&l instanceof Gt?(!(S[0]==="["||S[0]==="{")||S.includes(`
`))&&(B=`
${e.indent}`):S[0]===`
`&&(B=""),m&&!b&&r&&r(),Go(g+B+S,e.indent,b)}};j._defineProperty(rt,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var jf=(t,e)=>{if(t instanceof Qi){let n=e.get(t.source);return n.count*n.aliasCount}else if(t instanceof Gt){let n=0;for(let r of t.items){let i=jf(r,e);i>n&&(n=i)}return n}else if(t instanceof rt){let n=jf(t.key,e),r=jf(t.value,e);return Math.max(n,r)}return 1},Qi=class extends mr{static stringify({range:e,source:n},{anchors:r,doc:i,implicitKey:s,inStringifyKey:a}){let o=Object.keys(r).find(u=>r[u]===n);if(!o&&a&&(o=i.anchors.getName(n)||i.anchors.newName()),o)return`*${o}${s?" ":""}`;let l=i.anchors.getName(n)?"Alias node must be after source node":"Source node not found for alias node";throw new Error(`${l} [${e}]`)}constructor(e){super(),this.source=e,this.type=j.Type.ALIAS}set tag(e){throw new Error("Alias nodes cannot have tags")}toJSON(e,n){if(!n)return Rs(this.source,e,n);let{anchors:r,maxAliasCount:i}=n,s=r.get(this.source);if(!s||s.res===void 0){let a="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new j.YAMLReferenceError(this.cstNode,a):new ReferenceError(a)}if(i>=0&&(s.count+=1,s.aliasCount===0&&(s.aliasCount=jf(this.source,r)),s.count*s.aliasCount>i)){let a="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new j.YAMLReferenceError(this.cstNode,a):new ReferenceError(a)}return s.res}toString(e){return Qi.stringify(this,e)}};j._defineProperty(Qi,"default",!0);function Kl(t,e){let n=e instanceof Tn?e.value:e;for(let r of t)if(r instanceof rt&&(r.key===e||r.key===n||r.key&&r.key.value===n))return r}var zl=class extends Gt{add(e,n){e?e instanceof rt||(e=new rt(e.key||e,e.value)):e=new rt(e);let r=Kl(this.items,e.key),i=this.schema&&this.schema.sortMapEntries;if(r)if(n)r.value=e.value;else throw new Error(`Key ${e.key} already set`);else if(i){let s=this.items.findIndex(a=>i(e,a)<0);s===-1?this.items.push(e):this.items.splice(s,0,e)}else this.items.push(e)}delete(e){let n=Kl(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){let r=Kl(this.items,e),i=r&&r.value;return!n&&i instanceof Tn?i.value:i}has(e){return!!Kl(this.items,e)}set(e,n){this.add(new rt(e,n),!0)}toJSON(e,n,r){let i=r?new r:n&&n.mapAsMap?new Map:{};n&&n.onCreate&&n.onCreate(i);for(let s of this.items)s.addToJSMap(n,i);return i}toString(e,n,r){if(!e)return JSON.stringify(this);for(let i of this.items)if(!(i instanceof rt))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return super.toString(e,{blockItem:i=>i.str,flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:e.indent||""},n,r)}},ov="<<",Gf=class extends rt{constructor(e){if(e instanceof rt){let n=e.value;n instanceof ws||(n=new ws,n.items.push(e.value),n.range=e.value.range),super(e.key,n),this.range=e.range}else super(new Tn(ov),new ws);this.type=rt.Type.MERGE_PAIR}addToJSMap(e,n){for(let{source:r}of this.value.items){if(!(r instanceof zl))throw new Error("Merge sources must be maps");let i=r.toJSON(null,e,Map);for(let[s,a]of i)n instanceof Map?n.has(s)||n.set(s,a):n instanceof Set?n.add(s):Object.prototype.hasOwnProperty.call(n,s)||Object.defineProperty(n,s,{value:a,writable:!0,enumerable:!0,configurable:!0})}return n}toString(e,n){let r=this.value;if(r.items.length>1)return super.toString(e,n);this.value=r.items[0];let i=super.toString(e,n);return this.value=r,i}},Dw={defaultType:j.Type.BLOCK_LITERAL,lineWidth:76},Sw={trueStr:"true",falseStr:"false"},Aw={asBigInt:!1},Iw={nullStr:"null"},ya={defaultType:j.Type.PLAIN,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function Ih(t,e,n){for(let{format:r,test:i,resolve:s}of e)if(i){let a=t.match(i);if(a){let o=s.apply(null,a);return o instanceof Tn||(o=new Tn(o)),r&&(o.format=r),o}}return n&&(t=n(t)),new Tn(t)}var lv="flow",Ah="block",Uf="quoted",iv=(t,e)=>{let n=t[e+1];for(;n===" "||n==="	";){do n=t[e+=1];while(n&&n!==`
`);n=t[e+1]}return e};function Hf(t,e,n,{indentAtStart:r,lineWidth:i=80,minContentWidth:s=20,onFold:a,onOverflow:o}){if(!i||i<0)return t;let l=Math.max(1+s,1+i-e.length);if(t.length<=l)return t;let u=[],c={},f=i-e.length;typeof r=="number"&&(r>i-Math.max(2,s)?u.push(0):f=i-r);let d,h,p=!1,m=-1,g=-1,T=-1;n===Ah&&(m=iv(t,m),m!==-1&&(f=m+l));for(let S;S=t[m+=1];){if(n===Uf&&S==="\\"){switch(g=m,t[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}T=m}if(S===`
`)n===Ah&&(m=iv(t,m)),f=m+l,d=void 0;else{if(S===" "&&h&&h!==" "&&h!==`
`&&h!=="	"){let B=t[m+1];B&&B!==" "&&B!==`
`&&B!=="	"&&(d=m)}if(m>=f)if(d)u.push(d),f=d+l,d=void 0;else if(n===Uf){for(;h===" "||h==="	";)h=S,S=t[m+=1],p=!0;let B=m>T+1?m-2:g-1;if(c[B])return t;u.push(B),c[B]=!0,f=B+l,d=void 0}else p=!0}h=S}if(p&&o&&o(),u.length===0)return t;a&&a();let b=t.slice(0,u[0]);for(let S=0;S<u.length;++S){let B=u[S],z=u[S+1]||t.length;B===0?b=`
${e}${t.slice(0,z)}`:(n===Uf&&c[B]&&(b+=`${t[B]}\\`),b+=`
${e}${t.slice(B+1,z)}`)}return b}var Eh=({indentAtStart:t})=>t?Object.assign({indentAtStart:t},ya.fold):ya.fold,Yf=t=>/^(%|---|\.\.\.)/m.test(t);function Ew(t,e,n){if(!e||e<0)return!1;let r=e-n,i=t.length;if(i<=r)return!1;for(let s=0,a=0;s<i;++s)if(t[s]===`
`){if(s-a>r)return!0;if(a=s+1,i-a<=r)return!1}return!0}function _a(t,e){let{implicitKey:n}=e,{jsonEncoding:r,minMultiLineLength:i}=ya.doubleQuoted,s=JSON.stringify(t);if(r)return s;let a=e.indent||(Yf(t)?"  ":""),o="",l=0;for(let u=0,c=s[u];c;c=s[++u])if(c===" "&&s[u+1]==="\\"&&s[u+2]==="n"&&(o+=s.slice(l,u)+"\\ ",u+=1,l=u,c="\\"),c==="\\")switch(s[u+1]){case"u":{o+=s.slice(l,u);let f=s.substr(u+2,4);switch(f){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:f.substr(0,2)==="00"?o+="\\x"+f.substr(2):o+=s.substr(u,6)}u+=5,l=u+1}break;case"n":if(n||s[u+2]==='"'||s.length<i)u+=1;else{for(o+=s.slice(l,u)+`

`;s[u+2]==="\\"&&s[u+3]==="n"&&s[u+4]!=='"';)o+=`
`,u+=2;o+=a,s[u+2]===" "&&(o+="\\"),u+=1,l=u+1}break;default:u+=1}return o=l?o+s.slice(l):s,n?o:Hf(o,a,Uf,Eh(e))}function uv(t,e){if(e.implicitKey){if(/\n/.test(t))return _a(t,e)}else if(/[ \t]\n|\n[ \t]/.test(t))return _a(t,e);let n=e.indent||(Yf(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:Hf(r,n,lv,Eh(e))}function Wf({comment:t,type:e,value:n},r,i,s){if(/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return _a(n,r);let a=r.indent||(r.forceBlockIndent||Yf(n)?"  ":""),o=a?"2":"1",l=e===j.Type.BLOCK_FOLDED?!1:e===j.Type.BLOCK_LITERAL?!0:!Ew(n,ya.fold.lineWidth,a.length),u=l?"|":">";if(!n)return u+`
`;let c="",f="";if(n=n.replace(/[\n\t ]*$/,h=>{let p=h.indexOf(`
`);return p===-1?u+="-":(n===h||p!==h.length-1)&&(u+="+",s&&s()),f=h.replace(/\n$/,""),""}).replace(/^[\n ]*/,h=>{h.indexOf(" ")!==-1&&(u+=o);let p=h.match(/ +$/);return p?(c=h.slice(0,-p[0].length),p[0]):(c=h,"")}),f&&(f=f.replace(/\n+(?!\n|$)/g,`$&${a}`)),c&&(c=c.replace(/\n+/g,`$&${a}`)),t&&(u+=" #"+t.replace(/ ?[\r\n]+/g," "),i&&i()),!n)return`${u}${o}
${a}${f}`;if(l)return n=n.replace(/\n+/g,`$&${a}`),`${u}
${a}${c}${n}${f}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${a}`);let d=Hf(`${c}${n}${f}`,a,Ah,ya.fold);return`${u}
${a}${d}`}function xw(t,e,n,r){let{comment:i,type:s,value:a}=t,{actualString:o,implicitKey:l,indent:u,inFlow:c}=e;if(l&&/[\n[\]{},]/.test(a)||c&&/[[\]{},]/.test(a))return _a(a,e);if(!a||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(a))return l||c||a.indexOf(`
`)===-1?a.indexOf('"')!==-1&&a.indexOf("'")===-1?uv(a,e):_a(a,e):Wf(t,e,n,r);if(!l&&!c&&s!==j.Type.PLAIN&&a.indexOf(`
`)!==-1)return Wf(t,e,n,r);if(u===""&&Yf(a))return e.forceBlockIndent=!0,Wf(t,e,n,r);let f=a.replace(/\n+/g,`$&
${u}`);if(o){let{tags:h}=e.doc.schema;if(typeof Ih(f,h,h.scalarFallback).value!="string")return _a(a,e)}let d=l?f:Hf(f,u,lv,Eh(e));return i&&!c&&(d.indexOf(`
`)!==-1||i.indexOf(`
`)!==-1)?(n&&n(),Cw(d,u,i)):d}function Rw(t,e,n,r){let{defaultType:i}=ya,{implicitKey:s,inFlow:a}=e,{type:o,value:l}=t;typeof l!="string"&&(l=String(l),t=Object.assign({},t,{value:l}));let u=f=>{switch(f){case j.Type.BLOCK_FOLDED:case j.Type.BLOCK_LITERAL:return Wf(t,e,n,r);case j.Type.QUOTE_DOUBLE:return _a(l,e);case j.Type.QUOTE_SINGLE:return uv(l,e);case j.Type.PLAIN:return xw(t,e,n,r);default:return null}};(o!==j.Type.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(l)||(s||a)&&(o===j.Type.BLOCK_FOLDED||o===j.Type.BLOCK_LITERAL))&&(o=j.Type.QUOTE_DOUBLE);let c=u(o);if(c===null&&(c=u(i),c===null))throw new Error(`Unsupported default string type ${i}`);return c}function ww({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let i=JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let s=i.indexOf(".");s<0&&(s=i.length,i+=".");let a=e-(i.length-s-1);for(;a-- >0;)i+="0"}return i}function cv(t,e){let n,r;switch(e.type){case j.Type.FLOW_MAP:n="}",r="flow map";break;case j.Type.FLOW_SEQ:n="]",r="flow sequence";break;default:t.push(new j.YAMLSemanticError(e,"Not a flow collection!?"));return}let i;for(let s=e.items.length-1;s>=0;--s){let a=e.items[s];if(!a||a.type!==j.Type.COMMENT){i=a;break}}if(i&&i.char!==n){let s=`Expected ${r} to end with ${n}`,a;typeof i.offset=="number"?(a=new j.YAMLSemanticError(e,s),a.offset=i.offset+1):(a=new j.YAMLSemanticError(i,s),i.range&&i.range.end&&(a.offset=i.range.end-i.range.start)),t.push(a)}}function fv(t,e){let n=e.context.src[e.range.start-1];if(n!==`
`&&n!=="	"&&n!==" "){let r="Comments must be separated from other tokens by white space characters";t.push(new j.YAMLSemanticError(e,r))}}function pv(t,e){let n=String(e),r=n.substr(0,8)+"..."+n.substr(-8);return new j.YAMLSemanticError(t,`The "${r}" key is too long`)}function dv(t,e){for(let{afterKey:n,before:r,comment:i}of e){let s=t.items[r];s?(n&&s.value&&(s=s.value),i===void 0?(n||!s.commentBefore)&&(s.spaceBefore=!0):s.commentBefore?s.commentBefore+=`
`+i:s.commentBefore=i):i!==void 0&&(t.comment?t.comment+=`
`+i:t.comment=i)}}function xh(t,e){let n=e.strValue;return n?typeof n=="string"?n:(n.errors.forEach(r=>{r.source||(r.source=e),t.errors.push(r)}),n.str):""}function Ow(t,e){let{handle:n,suffix:r}=e.tag,i=t.tagPrefixes.find(s=>s.handle===n);if(!i){let s=t.getDefaults().tagPrefixes;if(s&&(i=s.find(a=>a.handle===n)),!i)throw new j.YAMLSemanticError(e,`The ${n} tag handle is non-default and was not declared.`)}if(!r)throw new j.YAMLSemanticError(e,`The ${n} tag has no suffix.`);if(n==="!"&&(t.version||t.options.version)==="1.0"){if(r[0]==="^")return t.warnings.push(new j.YAMLWarning(e,"YAML 1.0 ^ tag expansion is not supported")),r;if(/[:/]/.test(r)){let s=r.match(/^([a-z0-9-]+)\/(.*)/i);return s?`tag:${s[1]}.yaml.org,2002:${s[2]}`:`tag:${r}`}}return i.prefix+decodeURIComponent(r)}function Fw(t,e){let{tag:n,type:r}=e,i=!1;if(n){let{handle:s,suffix:a,verbatim:o}=n;if(o){if(o!=="!"&&o!=="!!")return o;let l=`Verbatim tags aren't resolved, so ${o} is invalid.`;t.errors.push(new j.YAMLSemanticError(e,l))}else if(s==="!"&&!a)i=!0;else try{return Ow(t,e)}catch(l){t.errors.push(l)}}switch(r){case j.Type.BLOCK_FOLDED:case j.Type.BLOCK_LITERAL:case j.Type.QUOTE_DOUBLE:case j.Type.QUOTE_SINGLE:return j.defaultTags.STR;case j.Type.FLOW_MAP:case j.Type.MAP:return j.defaultTags.MAP;case j.Type.FLOW_SEQ:case j.Type.SEQ:return j.defaultTags.SEQ;case j.Type.PLAIN:return i?j.defaultTags.STR:null;default:return null}}function sv(t,e,n){let{tags:r}=t.schema,i=[];for(let a of r)if(a.tag===n)if(a.test)i.push(a);else{let o=a.resolve(t,e);return o instanceof Gt?o:new Tn(o)}let s=xh(t,e);return typeof s=="string"&&i.length>0?Ih(s,i,r.scalarFallback):null}function Lw({type:t}){switch(t){case j.Type.FLOW_MAP:case j.Type.MAP:return j.defaultTags.MAP;case j.Type.FLOW_SEQ:case j.Type.SEQ:return j.defaultTags.SEQ;default:return j.defaultTags.STR}}function kw(t,e,n){try{let r=sv(t,e,n);if(r)return n&&e.tag&&(r.tag=n),r}catch(r){return r.source||(r.source=e),t.errors.push(r),null}try{let r=Lw(e);if(!r)throw new Error(`The tag ${n} is unavailable`);let i=`The tag ${n} is unavailable, falling back to ${r}`;t.warnings.push(new j.YAMLWarning(e,i));let s=sv(t,e,r);return s.tag=n,s}catch(r){let i=new j.YAMLReferenceError(e,r.message);return i.stack=r.stack,t.errors.push(i),null}}var Mw=t=>{if(!t)return!1;let{type:e}=t;return e===j.Type.MAP_KEY||e===j.Type.MAP_VALUE||e===j.Type.SEQ_ITEM};function Bw(t,e){let n={before:[],after:[]},r=!1,i=!1,s=Mw(e.context.parent)?e.context.parent.props.concat(e.props):e.props;for(let{start:a,end:o}of s)switch(e.context.src[a]){case j.Char.COMMENT:{if(!e.commentHasRequiredWhitespace(a)){let f="Comments must be separated from other tokens by white space characters";t.push(new j.YAMLSemanticError(e,f))}let{header:l,valueRange:u}=e;(u&&(a>u.start||l&&a>l.start)?n.after:n.before).push(e.context.src.slice(a+1,o));break}case j.Char.ANCHOR:if(r){let l="A node can have at most one anchor";t.push(new j.YAMLSemanticError(e,l))}r=!0;break;case j.Char.TAG:if(i){let l="A node can have at most one tag";t.push(new j.YAMLSemanticError(e,l))}i=!0;break}return{comments:n,hasAnchor:r,hasTag:i}}function Vw(t,e){let{anchors:n,errors:r,schema:i}=t;if(e.type===j.Type.ALIAS){let a=e.rawValue,o=n.getNode(a);if(!o){let u=`Aliased anchor not found: ${a}`;return r.push(new j.YAMLReferenceError(e,u)),null}let l=new Qi(o);return n._cstAliases.push(l),l}let s=Fw(t,e);if(s)return kw(t,e,s);if(e.type!==j.Type.PLAIN){let a=`Failed to resolve ${e.type} node here`;return r.push(new j.YAMLSyntaxError(e,a)),null}try{let a=xh(t,e);return Ih(a,i.tags,i.tags.scalarFallback)}catch(a){return a.source||(a.source=e),r.push(a),null}}function Os(t,e){if(!e)return null;e.error&&t.errors.push(e.error);let{comments:n,hasAnchor:r,hasTag:i}=Bw(t.errors,e);if(r){let{anchors:a}=t,o=e.anchor,l=a.getNode(o);l&&(a.map[a.newName(o)]=l),a.map[o]=e}if(e.type===j.Type.ALIAS&&(r||i)){let a="An alias node must not specify any properties";t.errors.push(new j.YAMLSemanticError(e,a))}let s=Vw(t,e);if(s){s.range=[e.range.start,e.range.end],t.options.keepCstNodes&&(s.cstNode=e),t.options.keepNodeTypes&&(s.type=e.type);let a=n.before.join(`
`);a&&(s.commentBefore=s.commentBefore?`${s.commentBefore}
${a}`:a);let o=n.after.join(`
`);o&&(s.comment=s.comment?`${s.comment}
${o}`:o)}return e.resolved=s}function qw(t,e){if(e.type!==j.Type.MAP&&e.type!==j.Type.FLOW_MAP){let a=`A ${e.type} node cannot be resolved as a mapping`;return t.errors.push(new j.YAMLSyntaxError(e,a)),null}let{comments:n,items:r}=e.type===j.Type.FLOW_MAP?Gw(t,e):Ww(t,e),i=new zl;i.items=r,dv(i,n);let s=!1;for(let a=0;a<r.length;++a){let{key:o}=r[a];if(o instanceof Gt&&(s=!0),t.schema.merge&&o&&o.value===ov){r[a]=new Gf(r[a]);let l=r[a].value.items,u=null;l.some(c=>{if(c instanceof Qi){let{type:f}=c.source;return f===j.Type.MAP||f===j.Type.FLOW_MAP?!1:u="Merge nodes aliases can only point to maps"}return u="Merge nodes can only have Alias nodes as values"}),u&&t.errors.push(new j.YAMLSemanticError(e,u))}else for(let l=a+1;l<r.length;++l){let{key:u}=r[l];if(o===u||o&&u&&Object.prototype.hasOwnProperty.call(o,"value")&&o.value===u.value){let c=`Map keys must be unique; "${o}" is repeated`;t.errors.push(new j.YAMLSemanticError(e,c));break}}}if(s&&!t.options.mapAsMap){let a="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new j.YAMLWarning(e,a))}return e.resolved=i,i}var jw=({context:{lineStart:t,node:e,src:n},props:r})=>{if(r.length===0)return!1;let{start:i}=r[0];if(e&&i>e.valueRange.start||n[i]!==j.Char.COMMENT)return!1;for(let s=t;s<i;++s)if(n[s]===`
`)return!1;return!0};function Uw(t,e){if(!jw(t))return;let n=t.getPropValue(0,j.Char.COMMENT,!0),r=!1,i=e.value.commentBefore;if(i&&i.startsWith(n))e.value.commentBefore=i.substr(n.length+1),r=!0;else{let s=e.value.comment;!t.node&&s&&s.startsWith(n)&&(e.value.comment=s.substr(n.length+1),r=!0)}r&&(e.comment=n)}function Ww(t,e){let n=[],r=[],i,s=null;for(let a=0;a<e.items.length;++a){let o=e.items[a];switch(o.type){case j.Type.BLANK_LINE:n.push({afterKey:!!i,before:r.length});break;case j.Type.COMMENT:n.push({afterKey:!!i,before:r.length,comment:o.comment});break;case j.Type.MAP_KEY:i!==void 0&&r.push(new rt(i)),o.error&&t.errors.push(o.error),i=Os(t,o.node),s=null;break;case j.Type.MAP_VALUE:{if(i===void 0&&(i=null),o.error&&t.errors.push(o.error),!o.context.atLineStart&&o.node&&o.node.type===j.Type.MAP&&!o.node.context.atLineStart){let c="Nested mappings are not allowed in compact mappings";t.errors.push(new j.YAMLSemanticError(o.node,c))}let l=o.node;if(!l&&o.props.length>0){l=new j.PlainValue(j.Type.PLAIN,[]),l.context={parent:o,src:o.context.src};let c=o.range.start+1;if(l.range={start:c,end:c},l.valueRange={start:c,end:c},typeof o.range.origStart=="number"){let f=o.range.origStart+1;l.range.origStart=l.range.origEnd=f,l.valueRange.origStart=l.valueRange.origEnd=f}}let u=new rt(i,Os(t,l));Uw(o,u),r.push(u),i&&typeof s=="number"&&o.range.start>s+1024&&t.errors.push(pv(e,i)),i=void 0,s=null}break;default:i!==void 0&&r.push(new rt(i)),i=Os(t,o),s=o.range.start,o.error&&t.errors.push(o.error);e:for(let l=a+1;;++l){let u=e.items[l];switch(u&&u.type){case j.Type.BLANK_LINE:case j.Type.COMMENT:continue e;case j.Type.MAP_VALUE:break e;default:{let c="Implicit map keys need to be followed by map values";t.errors.push(new j.YAMLSemanticError(o,c));break e}}}if(o.valueRangeContainsNewline){let l="Implicit map keys need to be on a single line";t.errors.push(new j.YAMLSemanticError(o,l))}}}return i!==void 0&&r.push(new rt(i)),{comments:n,items:r}}function Gw(t,e){let n=[],r=[],i,s=!1,a="{";for(let o=0;o<e.items.length;++o){let l=e.items[o];if(typeof l.char=="string"){let{char:u,offset:c}=l;if(u==="?"&&i===void 0&&!s){s=!0,a=":";continue}if(u===":"){if(i===void 0&&(i=null),a===":"){a=",";continue}}else if(s&&(i===void 0&&u!==","&&(i=null),s=!1),i!==void 0&&(r.push(new rt(i)),i=void 0,u===",")){a=":";continue}if(u==="}"){if(o===e.items.length-1)continue}else if(u===a){a=":";continue}let f=`Flow map contains an unexpected ${u}`,d=new j.YAMLSyntaxError(e,f);d.offset=c,t.errors.push(d)}else l.type===j.Type.BLANK_LINE?n.push({afterKey:!!i,before:r.length}):l.type===j.Type.COMMENT?(fv(t.errors,l),n.push({afterKey:!!i,before:r.length,comment:l.comment})):i===void 0?(a===","&&t.errors.push(new j.YAMLSemanticError(l,"Separator , missing in flow map")),i=Os(t,l)):(a!==","&&t.errors.push(new j.YAMLSemanticError(l,"Indicator : missing in flow map entry")),r.push(new rt(i,Os(t,l))),i=void 0,s=!1)}return cv(t.errors,e),i!==void 0&&r.push(new rt(i)),{comments:n,items:r}}function Hw(t,e){if(e.type!==j.Type.SEQ&&e.type!==j.Type.FLOW_SEQ){let s=`A ${e.type} node cannot be resolved as a sequence`;return t.errors.push(new j.YAMLSyntaxError(e,s)),null}let{comments:n,items:r}=e.type===j.Type.FLOW_SEQ?$w(t,e):Yw(t,e),i=new ws;if(i.items=r,dv(i,n),!t.options.mapAsMap&&r.some(s=>s instanceof rt&&s.key instanceof Gt)){let s="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";t.warnings.push(new j.YAMLWarning(e,s))}return e.resolved=i,i}function Yw(t,e){let n=[],r=[];for(let i=0;i<e.items.length;++i){let s=e.items[i];switch(s.type){case j.Type.BLANK_LINE:n.push({before:r.length});break;case j.Type.COMMENT:n.push({comment:s.comment,before:r.length});break;case j.Type.SEQ_ITEM:if(s.error&&t.errors.push(s.error),r.push(Os(t,s.node)),s.hasProps){let a="Sequence items cannot have tags or anchors before the - indicator";t.errors.push(new j.YAMLSemanticError(s,a))}break;default:s.error&&t.errors.push(s.error),t.errors.push(new j.YAMLSyntaxError(s,`Unexpected ${s.type} node in sequence`))}}return{comments:n,items:r}}function $w(t,e){let n=[],r=[],i=!1,s,a=null,o="[",l=null;for(let u=0;u<e.items.length;++u){let c=e.items[u];if(typeof c.char=="string"){let{char:f,offset:d}=c;if(f!==":"&&(i||s!==void 0)&&(i&&s===void 0&&(s=o?r.pop():null),r.push(new rt(s)),i=!1,s=void 0,a=null),f===o)o=null;else if(!o&&f==="?")i=!0;else if(o!=="["&&f===":"&&s===void 0){if(o===","){if(s=r.pop(),s instanceof rt){let h="Chaining flow sequence pairs is invalid",p=new j.YAMLSemanticError(e,h);p.offset=d,t.errors.push(p)}if(!i&&typeof a=="number"){let h=c.range?c.range.start:c.offset;h>a+1024&&t.errors.push(pv(e,s));let{src:p}=l.context;for(let m=a;m<h;++m)if(p[m]===`
`){let g="Implicit keys of flow sequence pairs need to be on a single line";t.errors.push(new j.YAMLSemanticError(l,g));break}}}else s=null;a=null,i=!1,o=null}else if(o==="["||f!=="]"||u<e.items.length-1){let h=`Flow sequence contains an unexpected ${f}`,p=new j.YAMLSyntaxError(e,h);p.offset=d,t.errors.push(p)}}else if(c.type===j.Type.BLANK_LINE)n.push({before:r.length});else if(c.type===j.Type.COMMENT)fv(t.errors,c),n.push({comment:c.comment,before:r.length});else{if(o){let d=`Expected a ${o} in flow sequence`;t.errors.push(new j.YAMLSemanticError(c,d))}let f=Os(t,c);s===void 0?(r.push(f),l=c):(r.push(new rt(s,f)),s=void 0),a=c.range.start,o=","}}return cv(t.errors,e),s!==void 0&&r.push(new rt(s)),{comments:n,items:r}}bt.Alias=Qi;bt.Collection=Gt;bt.Merge=Gf;bt.Node=mr;bt.Pair=rt;bt.Scalar=Tn;bt.YAMLMap=zl;bt.YAMLSeq=ws;bt.addComment=Go;bt.binaryOptions=Dw;bt.boolOptions=Sw;bt.findPair=Kl;bt.intOptions=Aw;bt.isEmptyPath=av;bt.nullOptions=Iw;bt.resolveMap=qw;bt.resolveNode=Os;bt.resolveSeq=Hw;bt.resolveString=xh;bt.strOptions=ya;bt.stringifyNumber=ww;bt.stringifyString=Rw;bt.toJSON=Rs});var $f=Y(ui=>{"use strict";var hr=Es(),We=Ho(),Kw={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve:(t,e)=>{let n=We.resolveString(t,e);if(typeof Buffer=="function")return Buffer.from(n,"base64");if(typeof atob=="function"){let r=atob(n.replace(/[\n\r]/g,"")),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}else{let r="This environment does not support reading binary tags; either Buffer or atob is required";return t.errors.push(new hr.YAMLReferenceError(e,r)),null}},options:We.binaryOptions,stringify:({comment:t,type:e,value:n},r,i,s)=>{let a;if(typeof Buffer=="function")a=n instanceof Buffer?n.toString("base64"):Buffer.from(n.buffer).toString("base64");else if(typeof btoa=="function"){let o="";for(let l=0;l<n.length;++l)o+=String.fromCharCode(n[l]);a=btoa(o)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=We.binaryOptions.defaultType),e===hr.Type.QUOTE_DOUBLE)n=a;else{let{lineWidth:o}=We.binaryOptions,l=Math.ceil(a.length/o),u=new Array(l);for(let c=0,f=0;c<l;++c,f+=o)u[c]=a.substr(f,o);n=u.join(e===hr.Type.BLOCK_LITERAL?`
`:" ")}return We.stringifyString({comment:t,type:e,value:n},r,i,s)}};function hv(t,e){let n=We.resolveSeq(t,e);for(let r=0;r<n.items.length;++r){let i=n.items[r];if(!(i instanceof We.Pair)){if(i instanceof We.YAMLMap){if(i.items.length>1){let a="Each pair must have its own sequence indicator";throw new hr.YAMLSemanticError(e,a)}let s=i.items[0]||new We.Pair;i.commentBefore&&(s.commentBefore=s.commentBefore?`${i.commentBefore}
${s.commentBefore}`:i.commentBefore),i.comment&&(s.comment=s.comment?`${i.comment}
${s.comment}`:i.comment),i=s}n.items[r]=i instanceof We.Pair?i:new We.Pair(i)}}return n}function gv(t,e,n){let r=new We.YAMLSeq(t);r.tag="tag:yaml.org,2002:pairs";for(let i of e){let s,a;if(Array.isArray(i))if(i.length===2)s=i[0],a=i[1];else throw new TypeError(`Expected [key, value] tuple: ${i}`);else if(i&&i instanceof Object){let l=Object.keys(i);if(l.length===1)s=l[0],a=i[s];else throw new TypeError(`Expected { key: value } tuple: ${i}`)}else s=i;let o=t.createPair(s,a,n);r.items.push(o)}return r}var zw={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:hv,createNode:gv},Fs=class extends We.YAMLSeq{constructor(){super(),hr._defineProperty(this,"add",We.YAMLMap.prototype.add.bind(this)),hr._defineProperty(this,"delete",We.YAMLMap.prototype.delete.bind(this)),hr._defineProperty(this,"get",We.YAMLMap.prototype.get.bind(this)),hr._defineProperty(this,"has",We.YAMLMap.prototype.has.bind(this)),hr._defineProperty(this,"set",We.YAMLMap.prototype.set.bind(this)),this.tag=Fs.tag}toJSON(e,n){let r=new Map;n&&n.onCreate&&n.onCreate(r);for(let i of this.items){let s,a;if(i instanceof We.Pair?(s=We.toJSON(i.key,"",n),a=We.toJSON(i.value,s,n)):s=We.toJSON(i,"",n),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,a)}return r}};hr._defineProperty(Fs,"tag","tag:yaml.org,2002:omap");function Xw(t,e){let n=hv(t,e),r=[];for(let{key:i}of n.items)if(i instanceof We.Scalar)if(r.includes(i.value)){let s="Ordered maps must not include duplicate keys";throw new hr.YAMLSemanticError(e,s)}else r.push(i.value);return Object.assign(new Fs,n)}function Qw(t,e,n){let r=gv(t,e,n),i=new Fs;return i.items=r.items,i}var Jw={identify:t=>t instanceof Map,nodeClass:Fs,default:!1,tag:"tag:yaml.org,2002:omap",resolve:Xw,createNode:Qw},Ls=class extends We.YAMLMap{constructor(){super(),this.tag=Ls.tag}add(e){let n=e instanceof We.Pair?e:new We.Pair(e);We.findPair(this.items,n.key)||this.items.push(n)}get(e,n){let r=We.findPair(this.items,e);return!n&&r instanceof We.Pair?r.key instanceof We.Scalar?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);let r=We.findPair(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new We.Pair(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues())return super.toString(e,n,r);throw new Error("Set items must all have null values")}};hr._defineProperty(Ls,"tag","tag:yaml.org,2002:set");function Zw(t,e){let n=We.resolveMap(t,e);if(!n.hasAllNullValues())throw new hr.YAMLSemanticError(e,"Set items must all have null values");return Object.assign(new Ls,n)}function eO(t,e,n){let r=new Ls;for(let i of e)r.items.push(t.createPair(i,null,n));return r}var tO={identify:t=>t instanceof Set,nodeClass:Ls,default:!1,tag:"tag:yaml.org,2002:set",resolve:Zw,createNode:eO},Rh=(t,e)=>{let n=e.split(":").reduce((r,i)=>r*60+Number(i),0);return t==="-"?-n:n},_v=({value:t})=>{if(isNaN(t)||!isFinite(t))return We.stringifyNumber(t);let e="";t<0&&(e="-",t=Math.abs(t));let n=[t%60];return t<60?n.unshift(0):(t=Math.round((t-n[0])/60),n.unshift(t%60),t>=60&&(t=Math.round((t-n[0])/60),n.unshift(t))),e+n.map(r=>r<10?"0"+String(r):String(r)).join(":").replace(/000000\d*$/,"")},nO={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:(t,e,n)=>Rh(e,n.replace(/_/g,"")),stringify:_v},rO={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:(t,e,n)=>Rh(e,n.replace(/_/g,"")),stringify:_v},iO={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:(t,e,n,r,i,s,a,o,l)=>{o&&(o=(o+"00").substr(1,3));let u=Date.UTC(e,n-1,r,i||0,s||0,a||0,o||0);if(l&&l!=="Z"){let c=Rh(l[0],l.slice(1));Math.abs(c)<30&&(c*=60),u-=6e4*c}return new Date(u)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};function wh(t){let e=typeof process<"u"&&process.env||{};return t?typeof YAML_SILENCE_DEPRECATION_WARNINGS<"u"?!YAML_SILENCE_DEPRECATION_WARNINGS:!e.YAML_SILENCE_DEPRECATION_WARNINGS:typeof YAML_SILENCE_WARNINGS<"u"?!YAML_SILENCE_WARNINGS:!e.YAML_SILENCE_WARNINGS}function Oh(t,e){if(wh(!1)){let n=typeof process<"u"&&process.emitWarning;n?n(t,e):console.warn(e?`${e}: ${t}`:t)}}function sO(t){if(wh(!0)){let e=t.replace(/.*yaml[/\\]/i,"").replace(/\.js$/,"").replace(/\\/g,"/");Oh(`The endpoint 'yaml/${e}' will be removed in a future release.`,"DeprecationWarning")}}var mv={};function aO(t,e){if(!mv[t]&&wh(!0)){mv[t]=!0;let n=`The option '${t}' will be removed in a future release`;n+=e?`, use '${e}' instead.`:".",Oh(n,"DeprecationWarning")}}ui.binary=Kw;ui.floatTime=rO;ui.intTime=nO;ui.omap=Jw;ui.pairs=zw;ui.set=tO;ui.timestamp=iO;ui.warn=Oh;ui.warnFileDeprecation=sO;ui.warnOptionDeprecation=aO});var Zf=Y(xv=>{"use strict";var Xf=Es(),Ie=Ho(),Fn=$f();function oO(t,e,n){let r=new Ie.YAMLMap(t);if(e instanceof Map)for(let[i,s]of e)r.items.push(t.createPair(i,s,n));else if(e&&typeof e=="object")for(let i of Object.keys(e))r.items.push(t.createPair(i,e[i],n));return typeof t.sortMapEntries=="function"&&r.items.sort(t.sortMapEntries),r}var Ql={createNode:oO,default:!0,nodeClass:Ie.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:Ie.resolveMap};function lO(t,e,n){let r=new Ie.YAMLSeq(t);if(e&&e[Symbol.iterator])for(let i of e){let s=t.createNode(i,n.wrapScalars,null,n);r.items.push(s)}return r}var Qf={createNode:lO,default:!0,nodeClass:Ie.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:Ie.resolveSeq},uO={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:Ie.resolveString,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),Ie.stringifyString(t,e,n,r)},options:Ie.strOptions},Lh=[Ql,Qf,uO],Jf=t=>typeof t=="bigint"||Number.isInteger(t),kh=(t,e,n)=>Ie.intOptions.asBigInt?BigInt(t):parseInt(e,n);function Tv(t,e,n){let{value:r}=t;return Jf(r)&&r>=0?n+r.toString(e):Ie.stringifyNumber(t)}var vv={identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new Ie.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:Ie.nullOptions,stringify:()=>Ie.nullOptions.nullStr},Nv={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>t[0]==="t"||t[0]==="T",options:Ie.boolOptions,stringify:({value:t})=>t?Ie.boolOptions.trueStr:Ie.boolOptions.falseStr},Cv={identify:t=>Jf(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:(t,e)=>kh(t,e,8),options:Ie.intOptions,stringify:t=>Tv(t,8,"0o")},Pv={identify:Jf,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:t=>kh(t,t,10),options:Ie.intOptions,stringify:Ie.stringifyNumber},Dv={identify:t=>Jf(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:(t,e)=>kh(t,e,16),options:Ie.intOptions,stringify:t=>Tv(t,16,"0x")},Sv={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ie.stringifyNumber},Av={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify:({value:t})=>Number(t).toExponential()},Iv={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve(t,e,n){let r=e||n,i=new Ie.Scalar(parseFloat(t));return r&&r[r.length-1]==="0"&&(i.minFractionDigits=r.length),i},stringify:Ie.stringifyNumber},cO=Lh.concat([vv,Nv,Cv,Pv,Dv,Sv,Av,Iv]),yv=t=>typeof t=="bigint"||Number.isInteger(t),Kf=({value:t})=>JSON.stringify(t),Ev=[Ql,Qf,{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:Ie.resolveString,stringify:Kf},{identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new Ie.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Kf},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:Kf},{identify:yv,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:t=>Ie.intOptions.asBigInt?BigInt(t):parseInt(t,10),stringify:({value:t})=>yv(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:Kf}];Ev.scalarFallback=t=>{throw new SyntaxError(`Unresolved plain scalar ${JSON.stringify(t)}`)};var bv=({value:t})=>t?Ie.boolOptions.trueStr:Ie.boolOptions.falseStr,Xl=t=>typeof t=="bigint"||Number.isInteger(t);function zf(t,e,n){let r=e.replace(/_/g,"");if(Ie.intOptions.asBigInt){switch(n){case 2:r=`0b${r}`;break;case 8:r=`0o${r}`;break;case 16:r=`0x${r}`;break}let s=BigInt(r);return t==="-"?BigInt(-1)*s:s}let i=parseInt(r,n);return t==="-"?-1*i:i}function Fh(t,e,n){let{value:r}=t;if(Xl(r)){let i=r.toString(e);return r<0?"-"+n+i.substr(1):n+i}return Ie.stringifyNumber(t)}var fO=Lh.concat([{identify:t=>t==null,createNode:(t,e,n)=>n.wrapScalars?new Ie.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:Ie.nullOptions,stringify:()=>Ie.nullOptions.nullStr},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>!0,options:Ie.boolOptions,stringify:bv},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>!1,options:Ie.boolOptions,stringify:bv},{identify:Xl,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:(t,e,n)=>zf(e,n,2),stringify:t=>Fh(t,2,"0b")},{identify:Xl,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:(t,e,n)=>zf(e,n,8),stringify:t=>Fh(t,8,"0")},{identify:Xl,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:(t,e,n)=>zf(e,n,10),stringify:Ie.stringifyNumber},{identify:Xl,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:(t,e,n)=>zf(e,n,16),stringify:t=>Fh(t,16,"0x")},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(t,e)=>e?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ie.stringifyNumber},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify:({value:t})=>Number(t).toExponential()},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve(t,e){let n=new Ie.Scalar(parseFloat(t.replace(/_/g,"")));if(e){let r=e.replace(/_/g,"");r[r.length-1]==="0"&&(n.minFractionDigits=r.length)}return n},stringify:Ie.stringifyNumber}],Fn.binary,Fn.omap,Fn.pairs,Fn.set,Fn.intTime,Fn.floatTime,Fn.timestamp),pO={core:cO,failsafe:Lh,json:Ev,yaml11:fO},dO={binary:Fn.binary,bool:Nv,float:Iv,floatExp:Av,floatNaN:Sv,floatTime:Fn.floatTime,int:Pv,intHex:Dv,intOct:Cv,intTime:Fn.intTime,map:Ql,null:vv,omap:Fn.omap,pairs:Fn.pairs,seq:Qf,set:Fn.set,timestamp:Fn.timestamp};function mO(t,e,n){if(e){let r=n.filter(s=>s.tag===e),i=r.find(s=>!s.format)||r[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return n.find(r=>(r.identify&&r.identify(t)||r.class&&t instanceof r.class)&&!r.format)}function hO(t,e,n){if(t instanceof Ie.Node)return t;let{defaultPrefix:r,onTagObj:i,prevObjects:s,schema:a,wrapScalars:o}=n;e&&e.startsWith("!!")&&(e=r+e.slice(2));let l=mO(t,e,a.tags);if(!l){if(typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object")return o?new Ie.Scalar(t):t;l=t instanceof Map?Ql:t[Symbol.iterator]?Qf:Ql}i&&(i(l),delete n.onTagObj);let u={value:void 0,node:void 0};if(t&&typeof t=="object"&&s){let c=s.get(t);if(c){let f=new Ie.Alias(c);return n.aliasNodes.push(f),f}u.value=t,s.set(t,u)}return u.node=l.createNode?l.createNode(n.schema,t,n):o?new Ie.Scalar(t):t,e&&u.node instanceof Ie.Node&&(u.node.tag=e),u.node}function gO(t,e,n,r){let i=t[r.replace(/\W/g,"")];if(!i){let s=Object.keys(t).map(a=>JSON.stringify(a)).join(", ");throw new Error(`Unknown schema "${r}"; use one of ${s}`)}if(Array.isArray(n))for(let s of n)i=i.concat(s);else typeof n=="function"&&(i=n(i.slice()));for(let s=0;s<i.length;++s){let a=i[s];if(typeof a=="string"){let o=e[a];if(!o){let l=Object.keys(e).map(u=>JSON.stringify(u)).join(", ");throw new Error(`Unknown custom tag "${a}"; use one of ${l}`)}i[s]=o}}return i}var _O=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,ba=class{constructor({customTags:e,merge:n,schema:r,sortMapEntries:i,tags:s}){this.merge=!!n,this.name=r,this.sortMapEntries=i===!0?_O:i||null,!e&&s&&Fn.warnOptionDeprecation("tags","customTags"),this.tags=gO(pO,dO,e||s,r)}createNode(e,n,r,i){let s={defaultPrefix:ba.defaultPrefix,schema:this,wrapScalars:n},a=i?Object.assign(i,s):s;return hO(e,r,a)}createPair(e,n,r){r||(r={wrapScalars:!0});let i=this.createNode(e,r.wrapScalars,null,r),s=this.createNode(n,r.wrapScalars,null,r);return new Ie.Pair(i,s)}};Xf._defineProperty(ba,"defaultPrefix",Xf.defaultTagPrefix);Xf._defineProperty(ba,"defaultTags",Xf.defaultTags);xv.Schema=ba});var Fv=Y(np=>{"use strict";var Ln=Es(),Re=Ho(),Rv=Zf(),yO={anchorPrefix:"a",customTags:null,indent:2,indentSeq:!0,keepCstNodes:!1,keepNodeTypes:!0,keepBlobsInJSON:!0,mapAsMap:!1,maxAliasCount:100,prettyErrors:!1,simpleKeys:!1,version:"1.2"},bO={get binary(){return Re.binaryOptions},set binary(t){Object.assign(Re.binaryOptions,t)},get bool(){return Re.boolOptions},set bool(t){Object.assign(Re.boolOptions,t)},get int(){return Re.intOptions},set int(t){Object.assign(Re.intOptions,t)},get null(){return Re.nullOptions},set null(t){Object.assign(Re.nullOptions,t)},get str(){return Re.strOptions},set str(t){Object.assign(Re.strOptions,t)}},Ov={"1.0":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:Ln.defaultTagPrefix},{handle:"!!",prefix:"tag:private.yaml.org,2002:"}]},1.1:{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:Ln.defaultTagPrefix}]},1.2:{schema:"core",merge:!1,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:Ln.defaultTagPrefix}]}};function wv(t,e){if((t.version||t.options.version)==="1.0"){let i=e.match(/^tag:private\.yaml\.org,2002:([^:/]+)$/);if(i)return"!"+i[1];let s=e.match(/^tag:([a-zA-Z0-9-]+)\.yaml\.org,2002:(.*)/);return s?`!${s[1]}/${s[2]}`:`!${e.replace(/^tag:/,"")}`}let n=t.tagPrefixes.find(i=>e.indexOf(i.prefix)===0);if(!n){let i=t.getDefaults().tagPrefixes;n=i&&i.find(s=>e.indexOf(s.prefix)===0)}if(!n)return e[0]==="!"?e:`!<${e}>`;let r=e.substr(n.prefix.length).replace(/[!,[\]{}]/g,i=>({"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"})[i]);return n.handle+r}function TO(t,e){if(e instanceof Re.Alias)return Re.Alias;if(e.tag){let i=t.filter(s=>s.tag===e.tag);if(i.length>0)return i.find(s=>s.format===e.format)||i[0]}let n,r;if(e instanceof Re.Scalar){r=e.value;let i=t.filter(s=>s.identify&&s.identify(r)||s.class&&r instanceof s.class);n=i.find(s=>s.format===e.format)||i.find(s=>!s.format)}else r=e,n=t.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){let i=r&&r.constructor?r.constructor.name:typeof r;throw new Error(`Tag not resolved for ${i} value`)}return n}function vO(t,e,{anchors:n,doc:r}){let i=[],s=r.anchors.getName(t);return s&&(n[s]=t,i.push(`&${s}`)),t.tag?i.push(wv(r,t.tag)):e.default||i.push(wv(r,e.tag)),i.join(" ")}function ep(t,e,n,r){let{anchors:i,schema:s}=e.doc,a;if(!(t instanceof Re.Node)){let u={aliasNodes:[],onTagObj:c=>a=c,prevObjects:new Map};t=s.createNode(t,!0,null,u);for(let c of u.aliasNodes){c.source=c.source.node;let f=i.getName(c.source);f||(f=i.newName(),i.map[f]=c.source)}}if(t instanceof Re.Pair)return t.toString(e,n,r);a||(a=TO(s.tags,t));let o=vO(t,a,e);o.length>0&&(e.indentAtStart=(e.indentAtStart||0)+o.length+1);let l=typeof a.stringify=="function"?a.stringify(t,e,n,r):t instanceof Re.Scalar?Re.stringifyString(t,e,n,r):t.toString(e,n,r);return o?t instanceof Re.Scalar||l[0]==="{"||l[0]==="["?`${o} ${l}`:`${o}
${e.indent}${l}`:l}var Jl=class{static validAnchorNode(e){return e instanceof Re.Scalar||e instanceof Re.YAMLSeq||e instanceof Re.YAMLMap}constructor(e){Ln._defineProperty(this,"map",Object.create(null)),this.prefix=e}createAlias(e,n){return this.setAnchor(e,n),new Re.Alias(e)}createMergePair(...e){let n=new Re.Merge;return n.value.items=e.map(r=>{if(r instanceof Re.Alias){if(r.source instanceof Re.YAMLMap)return r}else if(r instanceof Re.YAMLMap)return this.createAlias(r);throw new Error("Merge sources must be Map nodes or their Aliases")}),n}getName(e){let{map:n}=this;return Object.keys(n).find(r=>n[r]===e)}getNames(){return Object.keys(this.map)}getNode(e){return this.map[e]}newName(e){e||(e=this.prefix);let n=Object.keys(this.map);for(let r=1;;++r){let i=`${e}${r}`;if(!n.includes(i))return i}}resolveNodes(){let{map:e,_cstAliases:n}=this;Object.keys(e).forEach(r=>{e[r]=e[r].resolved}),n.forEach(r=>{r.source=r.source.resolved}),delete this._cstAliases}setAnchor(e,n){if(e!=null&&!Jl.validAnchorNode(e))throw new Error("Anchors may only be set for Scalar, Seq and Map nodes");if(n&&/[\x00-\x19\s,[\]{}]/.test(n))throw new Error("Anchor names must not contain whitespace or control characters");let{map:r}=this,i=e&&Object.keys(r).find(s=>r[s]===e);if(i)if(n)i!==n&&(delete r[i],r[n]=e);else return i;else{if(!n){if(!e)return null;n=this.newName()}r[n]=e}return n}},tp=(t,e)=>{if(t&&typeof t=="object"){let{tag:n}=t;t instanceof Re.Collection?(n&&(e[n]=!0),t.items.forEach(r=>tp(r,e))):t instanceof Re.Pair?(tp(t.key,e),tp(t.value,e)):t instanceof Re.Scalar&&n&&(e[n]=!0)}return e},NO=t=>Object.keys(tp(t,{}));function CO(t,e){let n={before:[],after:[]},r,i=!1;for(let s of e)if(s.valueRange){if(r!==void 0){let o="Document contains trailing content not separated by a ... or --- line";t.errors.push(new Ln.YAMLSyntaxError(s,o));break}let a=Re.resolveNode(t,s);i&&(a.spaceBefore=!0,i=!1),r=a}else s.comment!==null?(r===void 0?n.before:n.after).push(s.comment):s.type===Ln.Type.BLANK_LINE&&(i=!0,r===void 0&&n.before.length>0&&!t.commentBefore&&(t.commentBefore=n.before.join(`
`),n.before=[]));if(t.contents=r||null,!r)t.comment=n.before.concat(n.after).join(`
`)||null;else{let s=n.before.join(`
`);if(s){let a=r instanceof Re.Collection&&r.items[0]?r.items[0]:r;a.commentBefore=a.commentBefore?`${s}
${a.commentBefore}`:s}t.comment=n.after.join(`
`)||null}}function PO({tagPrefixes:t},e){let[n,r]=e.parameters;if(!n||!r){let i="Insufficient parameters given for %TAG directive";throw new Ln.YAMLSemanticError(e,i)}if(t.some(i=>i.handle===n)){let i="The %TAG directive must only be given at most once per handle in the same document.";throw new Ln.YAMLSemanticError(e,i)}return{handle:n,prefix:r}}function DO(t,e){let[n]=e.parameters;if(e.name==="YAML:1.0"&&(n="1.0"),!n){let r="Insufficient parameters given for %YAML directive";throw new Ln.YAMLSemanticError(e,r)}if(!Ov[n]){let i=`Document will be parsed as YAML ${t.version||t.options.version} rather than YAML ${n}`;t.warnings.push(new Ln.YAMLWarning(e,i))}return n}function SO(t,e,n){let r=[],i=!1;for(let s of e){let{comment:a,name:o}=s;switch(o){case"TAG":try{t.tagPrefixes.push(PO(t,s))}catch(l){t.errors.push(l)}i=!0;break;case"YAML":case"YAML:1.0":if(t.version){let l="The %YAML directive must only be given at most once per document.";t.errors.push(new Ln.YAMLSemanticError(s,l))}try{t.version=DO(t,s)}catch(l){t.errors.push(l)}i=!0;break;default:if(o){let l=`YAML only supports %TAG and %YAML directives, and not %${o}`;t.warnings.push(new Ln.YAMLWarning(s,l))}}a&&r.push(a)}if(n&&!i&&(t.version||n.version||t.options.version)==="1.1"){let s=({handle:a,prefix:o})=>({handle:a,prefix:o});t.tagPrefixes=n.tagPrefixes.map(s),t.version=n.version}t.commentBefore=r.join(`
`)||null}function Yo(t){if(t instanceof Re.Collection)return!0;throw new Error("Expected a YAML collection as document contents")}var Ta=class{constructor(e){this.anchors=new Jl(e.anchorPrefix),this.commentBefore=null,this.comment=null,this.contents=null,this.directivesEndMarker=null,this.errors=[],this.options=e,this.schema=null,this.tagPrefixes=[],this.version=null,this.warnings=[]}add(e){return Yo(this.contents),this.contents.add(e)}addIn(e,n){Yo(this.contents),this.contents.addIn(e,n)}delete(e){return Yo(this.contents),this.contents.delete(e)}deleteIn(e){return Re.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):(Yo(this.contents),this.contents.deleteIn(e))}getDefaults(){return Ta.defaults[this.version]||Ta.defaults[this.options.version]||{}}get(e,n){return this.contents instanceof Re.Collection?this.contents.get(e,n):void 0}getIn(e,n){return Re.isEmptyPath(e)?!n&&this.contents instanceof Re.Scalar?this.contents.value:this.contents:this.contents instanceof Re.Collection?this.contents.getIn(e,n):void 0}has(e){return this.contents instanceof Re.Collection?this.contents.has(e):!1}hasIn(e){return Re.isEmptyPath(e)?this.contents!==void 0:this.contents instanceof Re.Collection?this.contents.hasIn(e):!1}set(e,n){Yo(this.contents),this.contents.set(e,n)}setIn(e,n){Re.isEmptyPath(e)?this.contents=n:(Yo(this.contents),this.contents.setIn(e,n))}setSchema(e,n){if(!e&&!n&&this.schema)return;typeof e=="number"&&(e=e.toFixed(1)),e==="1.0"||e==="1.1"||e==="1.2"?(this.version?this.version=e:this.options.version=e,delete this.options.schema):e&&typeof e=="string"&&(this.options.schema=e),Array.isArray(n)&&(this.options.customTags=n);let r=Object.assign({},this.getDefaults(),this.options);this.schema=new Rv.Schema(r)}parse(e,n){this.options.keepCstNodes&&(this.cstNode=e),this.options.keepNodeTypes&&(this.type="DOCUMENT");let{directives:r=[],contents:i=[],directivesEndMarker:s,error:a,valueRange:o}=e;if(a&&(a.source||(a.source=this),this.errors.push(a)),SO(this,r,n),s&&(this.directivesEndMarker=!0),this.range=o?[o.start,o.end]:null,this.setSchema(),this.anchors._cstAliases=[],CO(this,i),this.anchors.resolveNodes(),this.options.prettyErrors){for(let l of this.errors)l instanceof Ln.YAMLError&&l.makePretty();for(let l of this.warnings)l instanceof Ln.YAMLError&&l.makePretty()}return this}listNonDefaultTags(){return NO(this.contents).filter(e=>e.indexOf(Rv.Schema.defaultPrefix)!==0)}setTagPrefix(e,n){if(e[0]!=="!"||e[e.length-1]!=="!")throw new Error("Handle must start and end with !");if(n){let r=this.tagPrefixes.find(i=>i.handle===e);r?r.prefix=n:this.tagPrefixes.push({handle:e,prefix:n})}else this.tagPrefixes=this.tagPrefixes.filter(r=>r.handle!==e)}toJSON(e,n){let{keepBlobsInJSON:r,mapAsMap:i,maxAliasCount:s}=this.options,a=r&&(typeof e!="string"||!(this.contents instanceof Re.Scalar)),o={doc:this,indentStep:"  ",keep:a,mapAsMap:a&&!!i,maxAliasCount:s,stringify:ep},l=Object.keys(this.anchors.map);l.length>0&&(o.anchors=new Map(l.map(c=>[this.anchors.map[c],{alias:[],aliasCount:0,count:1}])));let u=Re.toJSON(this.contents,e,o);if(typeof n=="function"&&o.anchors)for(let{count:c,res:f}of o.anchors.values())n(f,c);return u}toString(){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");let e=this.options.indent;if(!Number.isInteger(e)||e<=0){let l=JSON.stringify(e);throw new Error(`"indent" option must be a positive integer, not ${l}`)}this.setSchema();let n=[],r=!1;if(this.version){let l="%YAML 1.2";this.schema.name==="yaml-1.1"&&(this.version==="1.0"?l="%YAML:1.0":this.version==="1.1"&&(l="%YAML 1.1")),n.push(l),r=!0}let i=this.listNonDefaultTags();this.tagPrefixes.forEach(({handle:l,prefix:u})=>{i.some(c=>c.indexOf(u)===0)&&(n.push(`%TAG ${l} ${u}`),r=!0)}),(r||this.directivesEndMarker)&&n.push("---"),this.commentBefore&&((r||!this.directivesEndMarker)&&n.unshift(""),n.unshift(this.commentBefore.replace(/^/gm,"#")));let s={anchors:Object.create(null),doc:this,indent:"",indentStep:" ".repeat(e),stringify:ep},a=!1,o=null;if(this.contents){this.contents instanceof Re.Node&&(this.contents.spaceBefore&&(r||this.directivesEndMarker)&&n.push(""),this.contents.commentBefore&&n.push(this.contents.commentBefore.replace(/^/gm,"#")),s.forceBlockIndent=!!this.comment,o=this.contents.comment);let l=o?null:()=>a=!0,u=ep(this.contents,s,()=>o=null,l);n.push(Re.addComment(u,"",o))}else this.contents!==void 0&&n.push(ep(this.contents,s));return this.comment&&((!a||o)&&n[n.length-1]!==""&&n.push(""),n.push(this.comment.replace(/^/gm,"#"))),n.join(`
`)+`
`}};Ln._defineProperty(Ta,"defaults",Ov);np.Document=Ta;np.defaultOptions=yO;np.scalarOptions=bO});var Mv=Y(kv=>{"use strict";var Mh=nv(),va=Fv(),AO=Zf(),IO=Es(),EO=$f();Ho();function xO(t,e=!0,n){n===void 0&&typeof e=="string"&&(n=e,e=!0);let r=Object.assign({},va.Document.defaults[va.defaultOptions.version],va.defaultOptions);return new AO.Schema(r).createNode(t,e,n)}var $o=class extends va.Document{constructor(e){super(Object.assign({},va.defaultOptions,e))}};function RO(t,e){let n=[],r;for(let i of Mh.parse(t)){let s=new $o(e);s.parse(i,r),n.push(s),r=s}return n}function Lv(t,e){let n=Mh.parse(t),r=new $o(e).parse(n[0]);if(n.length>1){let i="Source contains multiple documents; please use YAML.parseAllDocuments()";r.errors.unshift(new IO.YAMLSemanticError(n[1],i))}return r}function wO(t,e){let n=Lv(t,e);if(n.warnings.forEach(r=>EO.warn(r)),n.errors.length>0)throw n.errors[0];return n.toJSON()}function OO(t,e){let n=new $o(e);return n.contents=t,String(n)}var FO={createNode:xO,defaultOptions:va.defaultOptions,Document:$o,parse:wO,parseAllDocuments:RO,parseCST:Mh.parse,parseDocument:Lv,scalarOptions:va.scalarOptions,stringify:OO};kv.YAML=FO});var Bh=Y((oZ,Bv)=>{Bv.exports=Mv().YAML});var Vv=Y(kn=>{"use strict";var gr=Ho(),LO=Zf();Es();$f();kn.Alias=gr.Alias;kn.Collection=gr.Collection;kn.Merge=gr.Merge;kn.Node=gr.Node;kn.Pair=gr.Pair;kn.Scalar=gr.Scalar;kn.YAMLMap=gr.YAMLMap;kn.YAMLSeq=gr.YAMLSeq;kn.binaryOptions=gr.binaryOptions;kn.boolOptions=gr.boolOptions;kn.intOptions=gr.intOptions;kn.nullOptions=gr.nullOptions;kn.strOptions=gr.strOptions;kn.Schema=LO.Schema});var lp=Y((Aee,Wv)=>{"use strict";function on(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}on.prototype.clone_empty=function(){var t=new on(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t};on.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]};on.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1};on.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))};on.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)};on.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count};on.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,t.__items[0]===" "&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1};on.prototype.is_empty=function(){return this.__items.length===0};on.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]};on.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf(`
`);e!==-1?this.__character_count=t.length-e:this.__character_count+=t.length};on.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t};on.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)};on.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)};on.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1};on.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t};function tu(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}tu.prototype.get_indent_size=function(t,e){var n=this.__base_string_length;return e=e||0,t<0&&(n=0),n+=t*this.__indent_size,n+=e,n};tu.prototype.get_indent_string=function(t,e){var n=this.__base_string;return e=e||0,t<0&&(t=0,n=""),e+=t*this.__indent_size,this.__ensure_cache(e),n+=this.__cache[e],n};tu.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column()};tu.prototype.__add_column=function(){var t=this.__cache.length,e=0,n="";this.__indent_size&&t>=this.__indent_size&&(e=Math.floor(t/this.__indent_size),t-=e*this.__indent_size,n=new Array(e+1).join(this.__indent_string)),t&&(n+=new Array(t+1).join(" ")),this.__cache.push(n)};function ln(t,e){this.__indent_cache=new tu(t,e),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new on(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}ln.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)};ln.prototype.get_line_number=function(){return this.__lines.length};ln.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)};ln.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)};ln.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()};ln.prototype.add_new_line=function(t){return this.is_empty()||!t&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)};ln.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&(e[e.length-1]===`
`&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join(`
`);return t!==`
`&&(n=n.replace(/[\n]/g,t)),n};ln.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()};ln.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)};ln.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1};ln.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()};ln.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))};ln.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()};ln.prototype.trim=function(t){for(t=t===void 0?!1:t,this.current_line.trim();t&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null};ln.prototype.just_added_newline=function(){return this.current_line.is_empty()};ln.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()};ln.prototype.ensure_empty_line_above=function(t,e){for(var n=this.__lines.length-2;n>=0;){var r=this.__lines[n];if(r.is_empty())break;if(r.item(0).indexOf(t)!==0&&r.item(-1)!==e){this.__lines.splice(n+1,0,new on(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}};Wv.exports.Output=ln});var Vh=Y((Iee,Gv)=>{"use strict";function kO(t,e,n,r){this.type=t,this.text=e,this.comments_before=null,this.newlines=n||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}Gv.exports.Token=kO});var jh=Y(Ji=>{"use strict";var MO="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",Hv="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",qh="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",Yv="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",$v="(?:\\\\u[0-9a-fA-F]{4}|["+MO+qh+"])",BO="(?:\\\\u[0-9a-fA-F]{4}|["+Hv+qh+Yv+"])*";Ji.identifier=new RegExp($v+BO,"g");Ji.identifierStart=new RegExp($v);Ji.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+Hv+qh+Yv+"])+");Ji.newline=/[\n\r\u2028\u2029]/;Ji.lineBreak=new RegExp(`\r
|`+Ji.newline.source);Ji.allLineBreaks=new RegExp(Ji.lineBreak.source,"g")});var cp=Y((xee,up)=>{"use strict";function ks(t,e){this.raw_options=Kv(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}ks.prototype._get_array=function(t,e){var n=this.raw_options[t],r=e||[];return typeof n=="object"?n!==null&&typeof n.concat=="function"&&(r=n.concat()):typeof n=="string"&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r};ks.prototype._get_boolean=function(t,e){var n=this.raw_options[t],r=n===void 0?!!e:!!n;return r};ks.prototype._get_characters=function(t,e){var n=this.raw_options[t],r=e||"";return typeof n=="string"&&(r=n.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),r};ks.prototype._get_number=function(t,e){var n=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var r=parseInt(n,10);return isNaN(r)&&(r=e),r};ks.prototype._get_selection=function(t,e,n){var r=this._get_selection_list(t,e,n);if(r.length!==1)throw new Error("Invalid Option Value: The option '"+t+`' can only be one of the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return r[0]};ks.prototype._get_selection_list=function(t,e,n){if(!e||e.length===0)throw new Error("Selection list cannot be empty.");if(n=n||[e[0]],!this._is_valid_selection(n,e))throw new Error("Invalid Default Value!");var r=this._get_array(t,n);if(!this._is_valid_selection(r,e))throw new Error("Invalid Option Value: The option '"+t+`' can contain only the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return r};ks.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some(function(n){return e.indexOf(n)===-1})};function Kv(t,e){var n={};t=zv(t);var r;for(r in t)r!==e&&(n[r]=t[r]);if(e&&t[e])for(r in t[e])n[r]=t[e][r];return n}function zv(t){var e={},n;for(n in t){var r=n.replace(/-/g,"_");e[r]=t[n]}return e}up.exports.Options=ks;up.exports.normalizeOpts=zv;up.exports.mergeOpts=Kv});var Uh=Y((Ree,Jv)=>{"use strict";var Xv=cp().Options,VO=["before-newline","after-newline","preserve-newline"];function Qv(t){Xv.call(this,t,"js");var e=this.raw_options.brace_style||null;e==="expand-strict"?this.raw_options.brace_style="expand":e==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var r=0;r<n.length;r++)n[r]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=n[r];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",VO),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}Qv.prototype=new Xv;Jv.exports.Options=Qv});var fp=Y((wee,eN)=>{"use strict";var Zv=RegExp.prototype.hasOwnProperty("sticky");function dn(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}dn.prototype.restart=function(){this.__position=0};dn.prototype.back=function(){this.__position>0&&(this.__position-=1)};dn.prototype.hasNext=function(){return this.__position<this.__input_length};dn.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t};dn.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e};dn.prototype.__match=function(t,e){t.lastIndex=e;var n=t.exec(this.__input);return n&&!(Zv&&t.sticky)&&n.index!==e&&(n=null),n};dn.prototype.test=function(t,e){return e=e||0,e+=this.__position,e>=0&&e<this.__input_length?!!this.__match(t,e):!1};dn.prototype.testChar=function(t,e){var n=this.peek(e);return t.lastIndex=0,n!==null&&t.test(n)};dn.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e};dn.prototype.read=function(t,e,n){var r="",i;return t&&(i=this.match(t),i&&(r+=i[0])),e&&(i||!t)&&(r+=this.readUntil(e,n)),r};dn.prototype.readUntil=function(t,e){var n="",r=this.__position;t.lastIndex=this.__position;var i=t.exec(this.__input);return i?(r=i.index,e&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n};dn.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)};dn.prototype.get_regexp=function(t,e){var n=null,r="g";return e&&Zv&&(r="y"),typeof t=="string"&&t!==""?n=new RegExp(t,r):t&&(n=new RegExp(t.source,r)),n};dn.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))};dn.prototype.peekUntilAfter=function(t){var e=this.__position,n=this.readUntilAfter(t);return this.__position=e,n};dn.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t};eN.exports.InputScanner=dn});var nN=Y((Oee,tN)=>{"use strict";function Pa(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}Pa.prototype.restart=function(){this.__position=0};Pa.prototype.isEmpty=function(){return this.__tokens_length===0};Pa.prototype.hasNext=function(){return this.__position<this.__tokens_length};Pa.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t};Pa.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__tokens_length&&(e=this.__tokens[t]),e};Pa.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1};tN.exports.TokenStream=Pa});var nu=Y((Fee,rN)=>{"use strict";function xi(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after)}xi.prototype.read=function(){var t=this._input.read(this._starting_pattern);return(!this._starting_pattern||t)&&(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t};xi.prototype.read_match=function(){return this._input.match(this._match_pattern)};xi.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e};xi.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e};xi.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e};xi.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e};xi.prototype._create=function(){return new xi(this._input,this)};xi.prototype._update=function(){};rN.exports.Pattern=xi});var aN=Y((Lee,sN)=>{"use strict";var iN=nu().Pattern;function Ms(t,e){iN.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}Ms.prototype=new iN;Ms.prototype.__set_whitespace_patterns=function(t,e){t+="\\t ",e+="\\n\\r",this._match_pattern=this._input.get_regexp("["+t+e+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]")};Ms.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(t===" ")this.whitespace_before_token=" ";else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1,this.whitespace_before_token=e[this.newline_count]}return t};Ms.prototype.matching=function(t,e){var n=this._create();return n.__set_whitespace_patterns(t,e),n._update(),n};Ms.prototype._create=function(){return new Ms(this._input,this)};Ms.prototype.__split=function(t,e){t.lastIndex=0;for(var n=0,r=[],i=t.exec(e);i;)r.push(e.substring(n,i.index)),n=i.index+i[0].length,i=t.exec(e);return n<e.length?r.push(e.substring(n,e.length)):r.push(""),r};sN.exports.WhitespacePattern=Ms});var iu=Y((kee,Gh)=>{"use strict";var qO=fp().InputScanner,oN=Vh().Token,Wh=nN().TokenStream,jO=aN().WhitespacePattern,ru={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},Ri=function(t,e){this._input=new qO(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new jO(this._input)};Ri.prototype.tokenize=function(){this._input.restart(),this.__tokens=new Wh,this._reset();for(var t,e=new oN(ru.START,""),n=null,r=[],i=new Wh;e.type!==ru.EOF;){for(t=this._get_next_token(e,n);this._is_comment(t);)i.add(t),t=this._get_next_token(e,n);i.isEmpty()||(t.comments_before=i,i=new Wh),t.parent=n,this._is_opening(t)?(r.push(n),n=t):n&&this._is_closing(t,n)&&(t.opened=n,n.closed=t,n=r.pop(),t.parent=n),t.previous=e,e.next=t,this.__tokens.add(t),e=t}return this.__tokens};Ri.prototype._is_first_token=function(){return this.__tokens.isEmpty()};Ri.prototype._reset=function(){};Ri.prototype._get_next_token=function(t,e){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(ru.RAW,n):this._create_token(ru.EOF,"")};Ri.prototype._is_comment=function(t){return!1};Ri.prototype._is_opening=function(t){return!1};Ri.prototype._is_closing=function(t,e){return!1};Ri.prototype._create_token=function(t,e){var n=new oN(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return n};Ri.prototype._readWhitespace=function(){return this._patterns.whitespace.read()};Gh.exports.Tokenizer=Ri;Gh.exports.TOKEN=ru});var pp=Y((Mee,lN)=>{"use strict";function Hh(t,e){t=typeof t=="string"?t:t.source,e=typeof e=="string"?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}Hh.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(t);n;)e[n[1]]=n[2],n=this.__directive_pattern.exec(t);return e};Hh.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)};lN.exports.Directives=Hh});var Kh=Y((Bee,uN)=>{"use strict";var Yh=nu().Pattern,$h={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function ci(t,e){Yh.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},$h),this._excluded=Object.assign({},$h),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var n=new Yh(t);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/),smarty:n.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:n.starting_with(/{\*/).until_after(/\*}/),smarty_literal:n.starting_with(/{literal}/).until_after(/{\/literal}/)}}ci.prototype=new Yh;ci.prototype._create=function(){return new ci(this._input,this)};ci.prototype._update=function(){this.__set_templated_pattern()};ci.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e};ci.prototype.read_options=function(t){var e=this._create();for(var n in $h)e._disabled[n]=t.templating.indexOf(n)===-1;return e._update(),e};ci.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e};ci.prototype.read=function(){var t="";this._match_pattern?t=this._input.read(this._starting_pattern):t=this._input.read(this._starting_pattern,this.__template_pattern);for(var e=this._read_template();e;)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t};ci.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||t.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")};ci.prototype._read_template=function(){var t="",e=this._input.peek();if(e==="<"){var n=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&n==="?"&&(t=t||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&n==="%"&&(t=t||this.__patterns.erb.read())}else e==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(t=t||this.__patterns.handlebars_comment.read(),t=t||this.__patterns.handlebars_unescaped.read(),t=t||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(t=t||this.__patterns.django_value.read()),this._excluded.django||(t=t||this.__patterns.django_comment.read(),t=t||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(t=t||this.__patterns.smarty_comment.read(),t=t||this.__patterns.smarty_literal.read(),t=t||this.__patterns.smarty.read()));return t};uN.exports.TemplatablePattern=ci});var au=Y((Vee,su)=>{"use strict";var UO=fp().InputScanner,fN=iu().Tokenizer,zh=iu().TOKEN,WO=pp().Directives,qr=jh(),GO=nu().Pattern,HO=Kh().TemplatablePattern;function Xh(t,e){return e.indexOf(t)!==-1}var Ne={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:zh.START,RAW:zh.RAW,EOF:zh.EOF},cN=new WO(/\/\*/,/\*\//),YO=/0[xX][0123456789abcdefABCDEF]*|0[oO][01234567]*|0[bB][01]*|\d+n|(?:\.\d+|\d+\.?\d*)(?:[eE][+-]?\d+)?/,$O=/[0-9]/,KO=/[^\d\.]/,zO=">>> === !== << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),Da=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";Da=Da.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");Da="\\?\\.(?!\\d) "+Da;Da=Da.replace(/ /g,"|");var XO=new RegExp(Da),pN="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),QO=pN.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),JO=new RegExp("^(?:"+QO.join("|")+")$"),dp,mn=function(t,e){fN.call(this,t,e),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var n=new GO(this._input),r=new HO(this._input).read_options(this._options);this.__patterns={template:r,identifier:r.starting_with(qr.identifier).matching(qr.identifierMatch),number:n.matching(YO),punct:n.matching(XO),comment:n.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:n.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:n.matching(/<!--/),html_comment_end:n.matching(/-->/),include:n.starting_with(/#include/).until_after(qr.lineBreak),shebang:n.starting_with(/#!/).until_after(qr.lineBreak),xml:n.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\]|)(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:r.until(/['\\\n\r\u2028\u2029]/),double_quote:r.until(/["\\\n\r\u2028\u2029]/),template_text:r.until(/[`\\$]/),template_expression:r.until(/[`}\\]/)}};mn.prototype=new fN;mn.prototype._is_comment=function(t){return t.type===Ne.COMMENT||t.type===Ne.BLOCK_COMMENT||t.type===Ne.UNKNOWN};mn.prototype._is_opening=function(t){return t.type===Ne.START_BLOCK||t.type===Ne.START_EXPR};mn.prototype._is_closing=function(t,e){return(t.type===Ne.END_BLOCK||t.type===Ne.END_EXPR)&&e&&(t.text==="]"&&e.text==="["||t.text===")"&&e.text==="("||t.text==="}"&&e.text==="{")};mn.prototype._reset=function(){dp=!1};mn.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(Ne.EOF,""):(n=n||this._read_non_javascript(r),n=n||this._read_string(r),n=n||this._read_word(t),n=n||this._read_singles(r),n=n||this._read_comment(r),n=n||this._read_regexp(r,t),n=n||this._read_xml(r,t),n=n||this._read_punctuation(),n=n||this._create_token(Ne.UNKNOWN,this._input.next()),n)};mn.prototype._read_word=function(t){var e;if(e=this.__patterns.identifier.read(),e!=="")return e=e.replace(qr.allLineBreaks,`
`),!(t.type===Ne.DOT||t.type===Ne.RESERVED&&(t.text==="set"||t.text==="get"))&&JO.test(e)?e==="in"||e==="of"?this._create_token(Ne.OPERATOR,e):this._create_token(Ne.RESERVED,e):this._create_token(Ne.WORD,e);if(e=this.__patterns.number.read(),e!=="")return this._create_token(Ne.WORD,e)};mn.prototype._read_singles=function(t){var e=null;return t==="("||t==="["?e=this._create_token(Ne.START_EXPR,t):t===")"||t==="]"?e=this._create_token(Ne.END_EXPR,t):t==="{"?e=this._create_token(Ne.START_BLOCK,t):t==="}"?e=this._create_token(Ne.END_BLOCK,t):t===";"?e=this._create_token(Ne.SEMICOLON,t):t==="."&&KO.test(this._input.peek(1))?e=this._create_token(Ne.DOT,t):t===","&&(e=this._create_token(Ne.COMMA,t)),e&&this._input.next(),e};mn.prototype._read_punctuation=function(){var t=this.__patterns.punct.read();if(t!=="")return t==="="?this._create_token(Ne.EQUALS,t):t==="?."?this._create_token(Ne.DOT,t):this._create_token(Ne.OPERATOR,t)};mn.prototype._read_non_javascript=function(t){var e="";if(t==="#"){if(this._is_first_token()&&(e=this.__patterns.shebang.read(),e))return this._create_token(Ne.UNKNOWN,e.trim()+`
`);if(e=this.__patterns.include.read(),e)return this._create_token(Ne.UNKNOWN,e.trim()+`
`);t=this._input.next();var n="#";if(this._input.hasNext()&&this._input.testChar($O)){do t=this._input.next(),n+=t;while(this._input.hasNext()&&t!=="#"&&t!=="=");return t==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(n+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(n+="{}",this._input.next(),this._input.next())),this._create_token(Ne.WORD,n)}this._input.back()}else if(t==="<"&&this._is_first_token()){if(e=this.__patterns.html_comment_start.read(),e){for(;this._input.hasNext()&&!this._input.testChar(qr.newline);)e+=this._input.next();return dp=!0,this._create_token(Ne.COMMENT,e)}}else if(dp&&t==="-"&&(e=this.__patterns.html_comment_end.read(),e))return dp=!1,this._create_token(Ne.COMMENT,e);return null};mn.prototype._read_comment=function(t){var e=null;if(t==="/"){var n="";if(this._input.peek(1)==="*"){n=this.__patterns.block_comment.read();var r=cN.get_directives(n);r&&r.ignore==="start"&&(n+=cN.readIgnored(this._input)),n=n.replace(qr.allLineBreaks,`
`),e=this._create_token(Ne.BLOCK_COMMENT,n),e.directives=r}else this._input.peek(1)==="/"&&(n=this.__patterns.comment.read(),e=this._create_token(Ne.COMMENT,n))}return e};mn.prototype._read_string=function(t){if(t==="`"||t==="'"||t==='"'){var e=this._input.next();return this.has_char_escapes=!1,t==="`"?e+=this._read_string_recursive("`",!0,"${"):e+=this._read_string_recursive(t),this.has_char_escapes&&this._options.unescape_strings&&(e=ZO(e)),this._input.peek()===t&&(e+=this._input.next()),e=e.replace(qr.allLineBreaks,`
`),this._create_token(Ne.STRING,e)}return null};mn.prototype._allow_regexp_or_xml=function(t){return t.type===Ne.RESERVED&&Xh(t.text,["return","case","throw","else","do","typeof","yield"])||t.type===Ne.END_EXPR&&t.text===")"&&t.opened.previous.type===Ne.RESERVED&&Xh(t.opened.previous.text,["if","while","for"])||Xh(t.type,[Ne.COMMENT,Ne.START_EXPR,Ne.START_BLOCK,Ne.START,Ne.END_BLOCK,Ne.OPERATOR,Ne.EQUALS,Ne.EOF,Ne.SEMICOLON,Ne.COMMA])};mn.prototype._read_regexp=function(t,e){if(t==="/"&&this._allow_regexp_or_xml(e)){for(var n=this._input.next(),r=!1,i=!1;this._input.hasNext()&&(r||i||this._input.peek()!==t)&&!this._input.testChar(qr.newline);)n+=this._input.peek(),r?r=!1:(r=this._input.peek()==="\\",this._input.peek()==="["?i=!0:this._input.peek()==="]"&&(i=!1)),this._input.next();return this._input.peek()===t&&(n+=this._input.next(),n+=this._input.read(qr.identifier)),this._create_token(Ne.STRING,n)}return null};mn.prototype._read_xml=function(t,e){if(this._options.e4x&&t==="<"&&this._allow_regexp_or_xml(e)){var n="",r=this.__patterns.xml.read_match();if(r){for(var i=r[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),s=i.indexOf("{")===0,a=0;r;){var o=!!r[1],l=r[2],u=!!r[r.length-1]||l.slice(0,8)==="![CDATA[";if(!u&&(l===i||s&&l.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(o?--a:++a),n+=r[0],a<=0)break;r=this.__patterns.xml.read_match()}return r||(n+=this._input.match(/[\s\S]*/g)[0]),n=n.replace(qr.allLineBreaks,`
`),this._create_token(Ne.STRING,n)}}return null};function ZO(t){for(var e="",n=0,r=new UO(t),i=null;r.hasNext();)if(i=r.match(/([\s]|[^\\]|\\\\)+/g),i&&(e+=i[0]),r.peek()==="\\"){if(r.next(),r.peek()==="x")i=r.match(/x([0-9A-Fa-f]{2})/g);else if(r.peek()==="u")i=r.match(/u([0-9A-Fa-f]{4})/g);else{e+="\\",r.hasNext()&&(e+=r.next());continue}if(!i||(n=parseInt(i[1],16),n>126&&n<=255&&i[0].indexOf("x")===0))return t;if(n>=0&&n<32){e+="\\"+i[0];continue}else n===34||n===39||n===92?e+="\\"+String.fromCharCode(n):e+=String.fromCharCode(n)}return e}mn.prototype._read_string_recursive=function(t,e,n){var r,i;t==="'"?i=this.__patterns.single_quote:t==='"'?i=this.__patterns.double_quote:t==="`"?i=this.__patterns.template_text:t==="}"&&(i=this.__patterns.template_expression);for(var s=i.read(),a="";this._input.hasNext();){if(a=this._input.next(),a===t||!e&&qr.newline.test(a)){this._input.back();break}else a==="\\"&&this._input.hasNext()?(r=this._input.peek(),r==="x"||r==="u"?this.has_char_escapes=!0:r==="\r"&&this._input.peek(1)===`
`&&this._input.next(),a+=this._input.next()):n&&(n==="${"&&a==="$"&&this._input.peek()==="{"&&(a+=this._input.next()),n===a&&(t==="`"?a+=this._read_string_recursive("}",e,"`"):a+=this._read_string_recursive("`",e,"${"),this._input.hasNext()&&(a+=this._input.next())));a+=i.read(),s+=a}return s};su.exports.Tokenizer=mn;su.exports.TOKEN=Ne;su.exports.positionable_operators=zO.slice();su.exports.line_starters=pN.slice()});var gN=Y((qee,hN)=>{"use strict";var e1=lp().Output,t1=Vh().Token,mp=jh(),n1=Uh().Options,r1=au().Tokenizer,cu=au().line_starters,ou=au().positionable_operators,V=au().TOKEN;function qe(t,e){return e.indexOf(t)!==-1}function i1(t){return t.replace(/^\s+/g,"")}function s1(t){for(var e={},n=0;n<t.length;n++)e[t[n].replace(/-/g,"_")]=t[n];return e}function jr(t,e){return t&&t.type===V.RESERVED&&t.text===e}function ft(t,e){return t&&t.type===V.RESERVED&&qe(t.text,e)}var hp=["case","return","do","if","throw","else","await","break","continue","async"],a1=["before-newline","after-newline","preserve-newline"],lu=s1(a1),dN=[lu.before_newline,lu.preserve_newline],Ce={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function mN(t,e){e.multiline_frame||e.mode===Ce.ForInitializer||e.mode===Ce.Conditional||t.remove_indent(e.start_line_index)}function o1(t){t=t.replace(mp.allLineBreaks,`
`);for(var e=[],n=t.indexOf(`
`);n!==-1;)e.push(t.substring(0,n)),t=t.substring(n+1),n=t.indexOf(`
`);return t.length&&e.push(t),e}function Bs(t){return t===Ce.ArrayLiteral}function uu(t){return qe(t,[Ce.Expression,Ce.ForInitializer,Ce.Conditional])}function l1(t,e){for(var n=0;n<t.length;n++){var r=t[n].trim();if(r.charAt(0)!==e)return!1}return!0}function u1(t,e){for(var n=0,r=t.length,i;n<r;n++)if(i=t[n],i&&i.indexOf(e)!==0)return!1;return!0}function Xe(t,e){e=e||{},this._source_text=t||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new n1(e)}Xe.prototype.create_flags=function(t,e){var n=0;t&&(n=t.indentation_level,!this._output.just_added_newline()&&t.line_indent_level>n&&(n=t.line_indent_level));var r={mode:e,parent:t,last_token:t?t.last_token:new t1(V.START_BLOCK,""),last_word:t?t.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,alignment:0,line_indent_level:t?t.line_indent_level:n,start_line_index:this._output.get_line_number(),ternary_depth:0};return r};Xe.prototype._reset=function(t){var e=t.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new e1(this._options,e),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(Ce.BlockStatement);var n=new r1(t,this._options);return this._tokens=n.tokenize(),t};Xe.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t,e=this._reset(this._source_text),n=this._options.eol;this._options.eol==="auto"&&(n=`
`,e&&mp.lineBreak.test(e||"")&&(n=e.match(mp.lineBreak)[0]));for(var r=this._tokens.next();r;)this.handle_token(r),this._last_last_text=this._flags.last_token.text,this._flags.last_token=r,r=this._tokens.next();return t=this._output.get_code(n),t};Xe.prototype.handle_token=function(t,e){t.type===V.START_EXPR?this.handle_start_expr(t):t.type===V.END_EXPR?this.handle_end_expr(t):t.type===V.START_BLOCK?this.handle_start_block(t):t.type===V.END_BLOCK?this.handle_end_block(t):t.type===V.WORD?this.handle_word(t):t.type===V.RESERVED?this.handle_word(t):t.type===V.SEMICOLON?this.handle_semicolon(t):t.type===V.STRING?this.handle_string(t):t.type===V.EQUALS?this.handle_equals(t):t.type===V.OPERATOR?this.handle_operator(t):t.type===V.COMMA?this.handle_comma(t):t.type===V.BLOCK_COMMENT?this.handle_block_comment(t,e):t.type===V.COMMENT?this.handle_comment(t,e):t.type===V.DOT?this.handle_dot(t):t.type===V.EOF?this.handle_eof(t):t.type===V.UNKNOWN?this.handle_unknown(t,e):this.handle_unknown(t,e)};Xe.prototype.handle_whitespace_and_comments=function(t,e){var n=t.newlines,r=this._options.keep_array_indentation&&Bs(this._flags.mode);if(t.comments_before)for(var i=t.comments_before.next();i;)this.handle_whitespace_and_comments(i,e),this.handle_token(i,e),i=t.comments_before.next();if(r)for(var s=0;s<n;s+=1)this.print_newline(s>0,e);else if(this._options.max_preserve_newlines&&n>this._options.max_preserve_newlines&&(n=this._options.max_preserve_newlines),this._options.preserve_newlines&&n>1){this.print_newline(!1,e);for(var a=1;a<n;a+=1)this.print_newline(!0,e)}};var Qh=["async","break","continue","return","throw","yield"];Xe.prototype.allow_wrap_or_preserved_newline=function(t,e){if(e=e===void 0?!1:e,!this._output.just_added_newline()){var n=this._options.preserve_newlines&&t.newlines||e,r=qe(this._flags.last_token.text,ou)||qe(t.text,ou);if(r){var i=qe(this._flags.last_token.text,ou)&&qe(this._options.operator_position,dN)||qe(t.text,ou);n=n&&i}if(n)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(ft(this._flags.last_token,Qh))return;this._output.set_wrap_point()}}};Xe.prototype.print_newline=function(t,e){if(!e&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==V.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var n=this._tokens.peek();this._flags.mode===Ce.Statement&&!(this._flags.if_block&&jr(n,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(t)&&(this._flags.multiline_frame=!0)};Xe.prototype.print_token_line_indentation=function(t){this._output.just_added_newline()&&(this._options.keep_array_indentation&&t.newlines&&(t.text==="["||Bs(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(t.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))};Xe.prototype.print_token=function(t){if(this._output.raw){this._output.add_raw_token(t);return}if(this._options.comma_first&&t.previous&&t.previous.type===V.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var e=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(e),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(t),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(t),this._output.non_breaking_space=!0,this._output.add_token(t.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)};Xe.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};Xe.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};Xe.prototype.set_mode=function(t){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,t),this._flags=this.create_flags(this._previous_flags,t),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};Xe.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===Ce.Statement&&mN(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};Xe.prototype.start_of_object_property=function(){return this._flags.parent.mode===Ce.ObjectLiteral&&this._flags.mode===Ce.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||ft(this._flags.last_token,["get","set"]))};Xe.prototype.start_of_statement=function(t){var e=!1;return e=e||ft(this._flags.last_token,["var","let","const"])&&t.type===V.WORD,e=e||jr(this._flags.last_token,"do"),e=e||!(this._flags.parent.mode===Ce.ObjectLiteral&&this._flags.mode===Ce.Statement)&&ft(this._flags.last_token,Qh)&&!t.newlines,e=e||jr(this._flags.last_token,"else")&&!(jr(t,"if")&&!t.comments_before),e=e||this._flags.last_token.type===V.END_EXPR&&(this._previous_flags.mode===Ce.ForInitializer||this._previous_flags.mode===Ce.Conditional),e=e||this._flags.last_token.type===V.WORD&&this._flags.mode===Ce.BlockStatement&&!this._flags.in_case&&!(t.text==="--"||t.text==="++")&&this._last_last_text!=="function"&&t.type!==V.WORD&&t.type!==V.RESERVED,e=e||this._flags.mode===Ce.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||ft(this._flags.last_token,["get","set"])),e?(this.set_mode(Ce.Statement),this.indent(),this.handle_whitespace_and_comments(t,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t,ft(t,["do","for","if","while"])),!0):!1};Xe.prototype.handle_start_expr=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t);var e=Ce.Expression;if(t.text==="["){if(this._flags.last_token.type===V.WORD||this._flags.last_token.text===")"){ft(this._flags.last_token,cu)&&(this._output.space_before_token=!0),this.print_token(t),this.set_mode(e),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}e=Ce.ArrayLiteral,Bs(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),qe(this._flags.last_token.type,[V.START_EXPR,V.END_EXPR,V.WORD,V.OPERATOR,V.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===V.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,e=Ce.ForInitializer):qe(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,e=Ce.Conditional):qe(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&t.whitespace_before===""?this._output.space_before_token=!1:(qe(this._flags.last_token.text,cu)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===V.EQUALS||this._flags.last_token.type===V.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t);else if(this._flags.last_token.type===V.WORD){this._output.space_before_token=!1;var n=this._tokens.peek(-3);if(this._options.space_after_named_function&&n){var r=this._tokens.peek(-4);ft(n,["async","function"])||n.text==="*"&&ft(r,["async","function"])?this._output.space_before_token=!0:this._flags.mode===Ce.ObjectLiteral&&(n.text==="{"||n.text===","||n.text==="*"&&(r.text==="{"||r.text===","))&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(t);(this._flags.last_token.type===V.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(qe(this._last_last_text,["function","yield"])||this._flags.mode===Ce.ObjectLiteral&&qe(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===V.START_BLOCK?this.print_newline():(this._flags.last_token.type===V.END_EXPR||this._flags.last_token.type===V.START_EXPR||this._flags.last_token.type===V.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===V.COMMA)&&this.allow_wrap_or_preserved_newline(t,t.newlines),this.print_token(t),this.set_mode(e),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()};Xe.prototype.handle_end_expr=function(t){for(;this._flags.mode===Ce.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(t,t.text==="]"&&Bs(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===V.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(t),this.restore_mode(),mN(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===Ce.Conditional&&(this._previous_flags.mode=Ce.Expression,this._flags.do_block=!1,this._flags.do_while=!1)};Xe.prototype.handle_start_block=function(t){this.handle_whitespace_and_comments(t);var e=this._tokens.peek(),n=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===V.END_EXPR?(this.set_mode(Ce.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(Ce.BlockStatement):n&&(qe(n.text,[":",","])&&qe(e.type,[V.STRING,V.WORD,V.RESERVED])||qe(e.text,["get","set","..."])&&qe(n.type,[V.WORD,V.RESERVED]))?qe(this._last_last_text,["class","interface"])?this.set_mode(Ce.BlockStatement):this.set_mode(Ce.ObjectLiteral):this._flags.last_token.type===V.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(Ce.BlockStatement):qe(this._flags.last_token.type,[V.EQUALS,V.START_EXPR,V.COMMA,V.OPERATOR])||ft(this._flags.last_token,["return","throw","import","default"])?this.set_mode(Ce.ObjectLiteral):this.set_mode(Ce.BlockStatement);var r=!e.comments_before&&e.text==="}",i=r&&this._flags.last_word==="function"&&this._flags.last_token.type===V.END_EXPR;if(this._options.brace_preserve_inline){var s=0,a=null;this._flags.inline_frame=!0;do if(s+=1,a=this._tokens.peek(s-1),a.newlines){this._flags.inline_frame=!1;break}while(a.type!==V.EOF&&!(a.type===V.END_BLOCK&&a.opened===t))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==V.OPERATOR&&(i||this._flags.last_token.type===V.EQUALS||ft(this._flags.last_token,hp)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(Bs(this._previous_flags.mode)&&(this._flags.last_token.type===V.START_EXPR||this._flags.last_token.type===V.COMMA)&&((this._flags.last_token.type===V.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===V.COMMA||this._flags.last_token.type===V.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(t),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==V.OPERATOR&&this._flags.last_token.type!==V.START_EXPR&&(this._flags.last_token.type===V.START_BLOCK&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(t),this.indent(),!r&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()};Xe.prototype.handle_end_block=function(t){for(this.handle_whitespace_and_comments(t);this._flags.mode===Ce.Statement;)this.restore_mode();var e=this._flags.last_token.type===V.START_BLOCK;this._flags.inline_frame&&!e?this._output.space_before_token=!0:this._options.brace_style==="expand"?e||this.print_newline():e||(Bs(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(t)};Xe.prototype.handle_word=function(t){if(t.type===V.RESERVED){if(qe(t.text,["set","get"])&&this._flags.mode!==Ce.ObjectLiteral)t.type=V.WORD;else if(t.text==="import"&&this._tokens.peek().text==="(")t.type=V.WORD;else if(qe(t.text,["as","from"])&&!this._flags.import_block)t.type=V.WORD;else if(this._flags.mode===Ce.ObjectLiteral){var e=this._tokens.peek();e.text===":"&&(t.type=V.WORD)}}if(this.start_of_statement(t)?ft(this._flags.last_token,["var","let","const"])&&t.type===V.WORD&&(this._flags.declaration_statement=!0):t.newlines&&!uu(this._flags.mode)&&(this._flags.last_token.type!==V.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==V.EQUALS&&(this._options.preserve_newlines||!ft(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(t),this.print_newline()):this.handle_whitespace_and_comments(t),this._flags.do_block&&!this._flags.do_while)if(jr(t,"while")){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&jr(t,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===Ce.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&ft(t,["case","default"])){this.print_newline(),this._flags.last_token.type!==V.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(t),this._flags.in_case=!0;return}if((this._flags.last_token.type===V.COMMA||this._flags.last_token.type===V.START_EXPR||this._flags.last_token.type===V.EQUALS||this._flags.last_token.type===V.OPERATOR)&&(this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t)),jr(t,"function")){(qe(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(qe(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===V.OPERATOR))&&!this._output.just_added_blankline()&&!t.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===V.RESERVED||this._flags.last_token.type===V.WORD?ft(this._flags.last_token,["get","set","new","export"])||ft(this._flags.last_token,Qh)?this._output.space_before_token=!0:jr(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===V.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(uu(this._flags.mode)||Bs(this._flags.mode))||this.print_newline(),this.print_token(t),this._flags.last_word=t.text;return}var n="NONE";if(this._flags.last_token.type===V.END_BLOCK?this._previous_flags.inline_frame?n="SPACE":ft(t,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines?n="NEWLINE":(n="SPACE",this._output.space_before_token=!0):n="NEWLINE":this._flags.last_token.type===V.SEMICOLON&&this._flags.mode===Ce.BlockStatement?n="NEWLINE":this._flags.last_token.type===V.SEMICOLON&&uu(this._flags.mode)?n="SPACE":this._flags.last_token.type===V.STRING?n="NEWLINE":this._flags.last_token.type===V.RESERVED||this._flags.last_token.type===V.WORD||this._flags.last_token.text==="*"&&(qe(this._last_last_text,["function","yield"])||this._flags.mode===Ce.ObjectLiteral&&qe(this._last_last_text,["{",","]))?n="SPACE":this._flags.last_token.type===V.START_BLOCK?this._flags.inline_frame?n="SPACE":n="NEWLINE":this._flags.last_token.type===V.END_EXPR&&(this._output.space_before_token=!0,n="NEWLINE"),ft(t,cu)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?n="SPACE":n="NEWLINE"),ft(t,["else","catch","finally"]))if((!(this._flags.last_token.type===V.END_BLOCK&&this._previous_flags.mode===Ce.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var r=this._output.current_line;r.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else n==="NEWLINE"?ft(this._flags.last_token,hp)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&ft(t,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==V.END_EXPR?(this._flags.last_token.type!==V.START_EXPR||!ft(t,["var","let","const"]))&&this._flags.last_token.text!==":"&&(jr(t,"if")&&jr(t.previous,"else")?this._output.space_before_token=!0:this.print_newline()):ft(t,cu)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&Bs(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():n==="SPACE"&&(this._output.space_before_token=!0);t.previous&&(t.previous.type===V.WORD||t.previous.type===V.RESERVED)&&(this._output.space_before_token=!0),this.print_token(t),this._flags.last_word=t.text,t.type===V.RESERVED&&(t.text==="do"?this._flags.do_block=!0:t.text==="if"?this._flags.if_block=!0:t.text==="import"?this._flags.import_block=!0:this._flags.import_block&&jr(t,"from")&&(this._flags.import_block=!1))};Xe.prototype.handle_semicolon=function(t){this.start_of_statement(t)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(t);for(var e=this._tokens.peek();this._flags.mode===Ce.Statement&&!(this._flags.if_block&&jr(e,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(t)};Xe.prototype.handle_string=function(t){t.text.startsWith("`")&&t.newlines===0&&t.whitespace_before===""&&(t.previous.text===")"||this._flags.last_token.type===V.WORD)||(this.start_of_statement(t)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(t),this._flags.last_token.type===V.RESERVED||this._flags.last_token.type===V.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===V.COMMA||this._flags.last_token.type===V.START_EXPR||this._flags.last_token.type===V.EQUALS||this._flags.last_token.type===V.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t):t.text.startsWith("`")&&this._flags.last_token.type===V.END_EXPR&&(t.previous.text==="]"||t.previous.text===")")&&t.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(t)};Xe.prototype.handle_equals=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0};Xe.prototype.handle_comma=function(t){this.handle_whitespace_and_comments(t,!0),this.print_token(t),this._output.space_before_token=!0,this._flags.declaration_statement?(uu(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)):this._flags.mode===Ce.ObjectLiteral||this._flags.mode===Ce.Statement&&this._flags.parent.mode===Ce.ObjectLiteral?(this._flags.mode===Ce.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)};Xe.prototype.handle_operator=function(t){var e=t.text==="*"&&(ft(this._flags.last_token,["function","yield"])||qe(this._flags.last_token.type,[V.START_BLOCK,V.COMMA,V.END_BLOCK,V.SEMICOLON])),n=qe(t.text,["-","+"])&&(qe(this._flags.last_token.type,[V.START_BLOCK,V.START_EXPR,V.EQUALS,V.OPERATOR])||qe(this._flags.last_token.text,cu)||this._flags.last_token.text===",");if(!this.start_of_statement(t)){var r=!e;this.handle_whitespace_and_comments(t,r)}if(ft(this._flags.last_token,hp)){this._output.space_before_token=!0,this.print_token(t);return}if(t.text==="*"&&this._flags.last_token.type===V.DOT){this.print_token(t);return}if(t.text==="::"){this.print_token(t);return}if(this._flags.last_token.type===V.OPERATOR&&qe(this._options.operator_position,dN)&&this.allow_wrap_or_preserved_newline(t),t.text===":"&&this._flags.in_case){this.print_token(t),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==V.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0;return}var i=!0,s=!0,a=!1;if(t.text===":"?this._flags.ternary_depth===0?i=!1:(this._flags.ternary_depth-=1,a=!0):t.text==="?"&&(this._flags.ternary_depth+=1),!n&&!e&&this._options.preserve_newlines&&qe(t.text,ou)){var o=t.text===":",l=o&&a,u=o&&!a;switch(this._options.operator_position){case lu.before_newline:this._output.space_before_token=!u,this.print_token(t),(!o||l)&&this.allow_wrap_or_preserved_newline(t),this._output.space_before_token=!0;return;case lu.after_newline:this._output.space_before_token=!0,!o||l?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(t):this._output.space_before_token=!1,this.print_token(t),this._output.space_before_token=!0;return;case lu.preserve_newline:u||this.allow_wrap_or_preserved_newline(t),i=!(this._output.just_added_newline()||u),this._output.space_before_token=i,this.print_token(t),this._output.space_before_token=!0;return}}if(e){this.allow_wrap_or_preserved_newline(t),i=!1;var c=this._tokens.peek();s=c&&qe(c.type,[V.WORD,V.RESERVED])}else t.text==="..."?(this.allow_wrap_or_preserved_newline(t),i=this._flags.last_token.type===V.START_BLOCK,s=!1):(qe(t.text,["--","++","!","~"])||n)&&((this._flags.last_token.type===V.COMMA||this._flags.last_token.type===V.START_EXPR)&&this.allow_wrap_or_preserved_newline(t),i=!1,s=!1,t.newlines&&(t.text==="--"||t.text==="++")&&this.print_newline(!1,!0),this._flags.last_token.text===";"&&uu(this._flags.mode)&&(i=!0),this._flags.last_token.type===V.RESERVED?i=!0:this._flags.last_token.type===V.END_EXPR?i=!(this._flags.last_token.text==="]"&&(t.text==="--"||t.text==="++")):this._flags.last_token.type===V.OPERATOR&&(i=qe(t.text,["--","-","++","+"])&&qe(this._flags.last_token.text,["--","-","++","+"]),qe(t.text,["+","-"])&&qe(this._flags.last_token.text,["--","++"])&&(s=!0)),(this._flags.mode===Ce.BlockStatement&&!this._flags.inline_frame||this._flags.mode===Ce.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline());this._output.space_before_token=this._output.space_before_token||i,this.print_token(t),this._output.space_before_token=s};Xe.prototype.handle_block_comment=function(t,e){if(this._output.raw){this._output.add_raw_token(t),t.directives&&t.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(t.directives){this.print_newline(!1,e),this.print_token(t),t.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!mp.newline.test(t.text)&&!t.newlines){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0;return}else this.print_block_commment(t,e)};Xe.prototype.print_block_commment=function(t,e){var n=o1(t.text),r,i=!1,s=!1,a=t.whitespace_before,o=a.length;if(this.print_newline(!1,e),this.print_token_line_indentation(t),this._output.add_token(n[0]),this.print_newline(!1,e),n.length>1){for(n=n.slice(1),i=l1(n,"*"),s=u1(n,a),i&&(this._flags.alignment=1),r=0;r<n.length;r++)i?(this.print_token_line_indentation(t),this._output.add_token(i1(n[r]))):s&&n[r]?(this.print_token_line_indentation(t),this._output.add_token(n[r].substring(o))):(this._output.current_line.set_indent(-1),this._output.add_token(n[r])),this.print_newline(!1,e);this._flags.alignment=0}};Xe.prototype.handle_comment=function(t,e){t.newlines?this.print_newline(!1,e):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(t),this.print_newline(!1,e)};Xe.prototype.handle_dot=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t,!0),ft(this._flags.last_token,hp)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(t,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(t)};Xe.prototype.handle_unknown=function(t,e){this.print_token(t),t.text[t.text.length-1]===`
`&&this.print_newline(!1,e)};Xe.prototype.handle_eof=function(t){for(;this._flags.mode===Ce.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t)};hN.exports.Beautifier=Xe});var _N=Y((jee,Jh)=>{"use strict";var c1=gN().Beautifier,f1=Uh().Options;function p1(t,e){var n=new c1(t,e);return n.beautify()}Jh.exports=p1;Jh.exports.defaultOptions=function(){return new f1}});var Zh=Y((Uee,TN)=>{"use strict";var yN=cp().Options;function bN(t){yN.call(this,t,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var e=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||e;var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var r=0;r<n.length;r++)n[r]!=="expand"?this.brace_style="collapse":this.brace_style=n[r]}bN.prototype=new yN;TN.exports.Options=bN});var PN=Y((Wee,CN)=>{"use strict";var d1=Zh().Options,m1=lp().Output,h1=fp().InputScanner,g1=pp().Directives,vN=new g1(/\/\*/,/\*\//),NN=/\r\n|[\r\n]/,_1=/\r\n|[\r\n]/g,gp=/\s/,y1=/(?:\s|\n)+/g,b1=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,T1=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function Zi(t,e){this._source_text=t||"",this._options=new d1(e),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}Zi.prototype.eatString=function(t){var e="";for(this._ch=this._input.next();this._ch;){if(e+=this._ch,this._ch==="\\")e+=this._input.next();else if(t.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return e};Zi.prototype.eatWhitespace=function(t){for(var e=gp.test(this._input.peek()),n=0;gp.test(this._input.peek());)this._ch=this._input.next(),t&&this._ch===`
`&&(n===0||n<this._options.max_preserve_newlines)&&(n++,this._output.add_new_line(!0));return e};Zi.prototype.foundNestedPseudoClass=function(){for(var t=0,e=1,n=this._input.peek(e);n;){if(n==="{")return!0;if(n==="(")t+=1;else if(n===")"){if(t===0)return!1;t-=1}else if(n===";"||n==="}")return!1;e++,n=this._input.peek(e)}return!1};Zi.prototype.print_string=function(t){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(t)};Zi.prototype.preserveSingleSpace=function(t){t&&(this._output.space_before_token=!0)};Zi.prototype.indent=function(){this._indentLevel++};Zi.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--};Zi.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;e==="auto"&&(e=`
`,t&&NN.test(t||"")&&(e=t.match(NN)[0])),t=t.replace(_1,`
`);var n=t.match(/^[\t ]*/)[0];this._output=new m1(this._options,n),this._input=new h1(t),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var r=0,i=!1,s=!1,a=!1,o=!1,l=!1,u=this._ch,c,f,d;c=this._input.read(y1),f=c!=="",d=u,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),u=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var h=this._input.read(b1),p=vN.get_directives(h);p&&p.ignore==="start"&&(h+=vN.readIgnored(this._input)),this.print_string(h),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(T1)),this.eatWhitespace(!0);else if(this._ch==="@")if(this.preserveSingleSpace(f),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var m=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);m.match(/[ :]$/)&&(m=this.eatString(": ").replace(/\s$/,""),this.print_string(m),this._output.space_before_token=!0),m=m.replace(/\s$/,""),m==="extend"?o=!0:m==="import"&&(l=!0),m in this.NESTED_AT_RULE?(this._nestedLevel+=1,m in this.CONDITIONAL_GROUP_RULE&&(a=!0)):!i&&r===0&&m.indexOf(":")!==-1&&(s=!0,this.indent())}else this._ch==="#"&&this._input.peek()==="{"?(this.preserveSingleSpace(f),this.print_string(this._ch+this.eatString("}"))):this._ch==="{"?(s&&(s=!1,this.outdent()),a?(a=!1,i=this._indentLevel>=this._nestedLevel):i=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&i&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line()):this._ch==="}"?(this.outdent(),this._output.add_new_line(),d==="{"&&this._output.trim(!0),l=!1,o=!1,s&&(this.outdent(),s=!1),this.print_string(this._ch),i=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0)):this._ch===":"?(i||a)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!o&&r===0?(this.print_string(":"),s||(s=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):this._ch==='"'||this._ch==="'"?(this.preserveSingleSpace(f),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):this._ch===";"?r===0?(s&&(this.outdent(),s=!1),o=!1,l=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):this._ch==="("?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),r++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),r&&(r--,this.outdent()))):(this.preserveSingleSpace(f),this.print_string(this._ch),this.eatWhitespace(),r++,this.indent()):this._ch===")"?(r&&(r--,this.outdent()),this.print_string(this._ch)):this._ch===","?(this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&!s&&r===0&&!l?this._output.add_new_line():this._output.space_before_token=!0):(this._ch===">"||this._ch==="+"||this._ch==="~")&&!s&&r===0?this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&gp.test(this._ch)&&(this._ch="")):this._ch==="]"?this.print_string(this._ch):this._ch==="["?(this.preserveSingleSpace(f),this.print_string(this._ch)):this._ch==="="?(this.eatWhitespace(),this.print_string("="),gp.test(this._ch)&&(this._ch="")):this._ch==="!"&&!this._input.lookBack("\\")?(this.print_string(" "),this.print_string(this._ch)):(this.preserveSingleSpace(f),this.print_string(this._ch));var g=this._output.get_code(e);return g};CN.exports.Beautifier=Zi});var DN=Y((Gee,eg)=>{"use strict";var v1=PN().Beautifier,N1=Zh().Options;function C1(t,e){var n=new v1(t,e);return n.beautify()}eg.exports=C1;eg.exports.defaultOptions=function(){return new N1}});var tg=Y((Hee,IN)=>{"use strict";var SN=cp().Options;function AN(t){SN.call(this,t,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}AN.prototype=new SN;IN.exports.Options=AN});var ig=Y((Yee,rg)=>{"use strict";var xN=iu().Tokenizer,ng=iu().TOKEN,P1=pp().Directives,D1=Kh().TemplatablePattern,S1=nu().Pattern,Ot={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:ng.START,RAW:ng.RAW,EOF:ng.EOF},EN=new P1(/<\!--/,/-->/),vn=function(t,e){xN.call(this,t,e),this._current_tag_name="";var n=new D1(this._input).read_options(this._options),r=new S1(this._input);if(this.__patterns={word:n.until(/[\n\r\t <]/),single_quote:n.until_after(/'/),double_quote:n.until_after(/"/),attribute:n.until(/[\n\r\t =>]|\/>/),element_name:n.until(/[\n\r\t >\/]/),handlebars_comment:r.starting_with(/{{!--/).until_after(/--}}/),handlebars:r.starting_with(/{{/).until_after(/}}/),handlebars_open:r.until(/[\n\r\t }]/),handlebars_raw_close:r.until(/}}/),comment:r.starting_with(/<!--/).until_after(/-->/),cdata:r.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:r.starting_with(/<!\[/).until_after(/]>/),processing:r.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var i=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=r.matching(i).until_after(i)}};vn.prototype=new xN;vn.prototype._is_comment=function(t){return!1};vn.prototype._is_opening=function(t){return t.type===Ot.TAG_OPEN};vn.prototype._is_closing=function(t,e){return t.type===Ot.TAG_CLOSE&&e&&((t.text===">"||t.text==="/>")&&e.text[0]==="<"||t.text==="}}"&&e.text[0]==="{"&&e.text[1]==="{")};vn.prototype._reset=function(){this._current_tag_name=""};vn.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(Ot.EOF,""):(n=n||this._read_open_handlebars(r,e),n=n||this._read_attribute(r,t,e),n=n||this._read_close(r,e),n=n||this._read_raw_content(r,t,e),n=n||this._read_content_word(r),n=n||this._read_comment_or_cdata(r),n=n||this._read_processing(r),n=n||this._read_open(r,e),n=n||this._create_token(Ot.UNKNOWN,this._input.next()),n)};vn.prototype._read_comment_or_cdata=function(t){var e=null,n=null,r=null;if(t==="<"){var i=this._input.peek(1);i==="!"&&(n=this.__patterns.comment.read(),n?(r=EN.get_directives(n),r&&r.ignore==="start"&&(n+=EN.readIgnored(this._input))):n=this.__patterns.cdata.read()),n&&(e=this._create_token(Ot.COMMENT,n),e.directives=r)}return e};vn.prototype._read_processing=function(t){var e=null,n=null,r=null;if(t==="<"){var i=this._input.peek(1);(i==="!"||i==="?")&&(n=this.__patterns.conditional_comment.read(),n=n||this.__patterns.processing.read()),n&&(e=this._create_token(Ot.COMMENT,n),e.directives=r)}return e};vn.prototype._read_open=function(t,e){var n=null,r=null;return e||t==="<"&&(n=this._input.next(),this._input.peek()==="/"&&(n+=this._input.next()),n+=this.__patterns.element_name.read(),r=this._create_token(Ot.TAG_OPEN,n)),r};vn.prototype._read_open_handlebars=function(t,e){var n=null,r=null;return e||this._options.indent_handlebars&&t==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(n=this.__patterns.handlebars_comment.read(),n=n||this.__patterns.handlebars.read(),r=this._create_token(Ot.COMMENT,n)):(n=this.__patterns.handlebars_open.read(),r=this._create_token(Ot.TAG_OPEN,n))),r};vn.prototype._read_close=function(t,e){var n=null,r=null;return e&&(e.text[0]==="<"&&(t===">"||t==="/"&&this._input.peek(1)===">")?(n=this._input.next(),t==="/"&&(n+=this._input.next()),r=this._create_token(Ot.TAG_CLOSE,n)):e.text[0]==="{"&&t==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),r=this._create_token(Ot.TAG_CLOSE,"}}"))),r};vn.prototype._read_attribute=function(t,e,n){var r=null,i="";if(n&&n.text[0]==="<")if(t==="=")r=this._create_token(Ot.EQUALS,this._input.next());else if(t==='"'||t==="'"){var s=this._input.next();t==='"'?s+=this.__patterns.double_quote.read():s+=this.__patterns.single_quote.read(),r=this._create_token(Ot.VALUE,s)}else i=this.__patterns.attribute.read(),i&&(e.type===Ot.EQUALS?r=this._create_token(Ot.VALUE,i):r=this._create_token(Ot.ATTRIBUTE,i));return r};vn.prototype._is_content_unformatted=function(t){return this._options.void_elements.indexOf(t)===-1&&(this._options.content_unformatted.indexOf(t)!==-1||this._options.unformatted.indexOf(t)!==-1)};vn.prototype._read_raw_content=function(t,e,n){var r="";if(n&&n.text[0]==="{")r=this.__patterns.handlebars_raw_close.read();else if(e.type===Ot.TAG_CLOSE&&e.opened.text[0]==="<"&&e.text[0]!=="/"){var i=e.opened.text.substr(1).toLowerCase();if(i==="script"||i==="style"){var s=this._read_comment_or_cdata(t);if(s)return s.type=Ot.TEXT,s;r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(i)&&(r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig")))}return r?this._create_token(Ot.TEXT,r):null};vn.prototype._read_content_word=function(t){var e="";if(this._options.unformatted_content_delimiter&&t===this._options.unformatted_content_delimiter[0]&&(e=this.__patterns.unformatted_content_delimiter.read()),e||(e=this.__patterns.word.read()),e)return this._create_token(Ot.TEXT,e)};rg.exports.Tokenizer=vn;rg.exports.TOKEN=Ot});var FN=Y(($ee,ON)=>{"use strict";var A1=tg().Options,I1=lp().Output,E1=ig().Tokenizer,it=ig().TOKEN,RN=/\r\n|[\r\n]/,x1=/\r\n|[\r\n]/g,Wr=function(t,e){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=t.max_preserve_newlines,this.preserve_newlines=t.preserve_newlines,this._output=new I1(t,e)};Wr.prototype.current_line_has_match=function(t){return this._output.current_line.has_match(t)};Wr.prototype.set_space_before_token=function(t,e){this._output.space_before_token=t,this._output.non_breaking_space=e};Wr.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()};Wr.prototype.add_raw_token=function(t){this._output.add_raw_token(t)};Wr.prototype.print_preserved_newlines=function(t){var e=0;t.type!==it.TEXT&&t.previous.type!==it.TEXT&&(e=t.newlines?1:0),this.preserve_newlines&&(e=t.newlines<this.max_preserve_newlines+1?t.newlines:this.max_preserve_newlines+1);for(var n=0;n<e;n++)this.print_newline(n>0);return e!==0};Wr.prototype.traverse_whitespace=function(t){return t.whitespace_before||t.newlines?(this.print_preserved_newlines(t)||(this._output.space_before_token=!0),!0):!1};Wr.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped};Wr.prototype.print_newline=function(t){this._output.add_new_line(t)};Wr.prototype.print_token=function(t){t.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(t.text))};Wr.prototype.indent=function(){this.indent_level++};Wr.prototype.get_full_indent=function(t){return t=this.indent_level+(t||0),t<1?"":this._output.get_indent_string(t)};var R1=function(t){for(var e=null,n=t.next;n.type!==it.EOF&&t.closed!==n;){if(n.type===it.ATTRIBUTE&&n.text==="type"){n.next&&n.next.type===it.EQUALS&&n.next.next&&n.next.next.type===it.VALUE&&(e=n.next.next.text);break}n=n.next}return e},w1=function(t,e){var n=null,r=null;return e.closed?(t==="script"?n="text/javascript":t==="style"&&(n="text/css"),n=R1(e)||n,n.search("text/css")>-1?r="css":n.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?r="javascript":n.search(/(text|application|dojo)\/(x-)?(html)/)>-1?r="html":n.search(/test\/null/)>-1&&(r="null"),r):null};function fu(t,e){return e.indexOf(t)!==-1}function O1(t,e,n){this.parent=t||null,this.tag=e?e.tag_name:"",this.indent_level=n||0,this.parser_token=e||null}function Sa(t){this._printer=t,this._current_frame=null}Sa.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null};Sa.prototype.record_tag=function(t){var e=new O1(this._current_frame,t,this._printer.indent_level);this._current_frame=e};Sa.prototype._try_pop_frame=function(t){var e=null;return t&&(e=t.parser_token,this._printer.indent_level=t.indent_level,this._current_frame=t.parent),e};Sa.prototype._get_frame=function(t,e){for(var n=this._current_frame;n&&t.indexOf(n.tag)===-1;){if(e&&e.indexOf(n.tag)!==-1){n=null;break}n=n.parent}return n};Sa.prototype.try_pop=function(t,e){var n=this._get_frame([t],e);return this._try_pop_frame(n)};Sa.prototype.indent_to_tag=function(t){var e=this._get_frame(t);e&&(this._printer.indent_level=e.indent_level)};function Ur(t,e,n,r){this._source_text=t||"",e=e||{},this._js_beautify=n,this._css_beautify=r,this._tag_stack=null;var i=new A1(e,"html");this._options=i,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}Ur.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;this._options.eol==="auto"&&(e=`
`,t&&RN.test(t)&&(e=t.match(RN)[0])),t=t.replace(x1,`
`);var n=t.match(/^[\t ]*/)[0],r={text:"",type:""},i=new wN,s=new Wr(this._options,n),a=new E1(t,this._options).tokenize();this._tag_stack=new Sa(s);for(var o=null,l=a.next();l.type!==it.EOF;)l.type===it.TAG_OPEN||l.type===it.COMMENT?(o=this._handle_tag_open(s,l,i,r),i=o):l.type===it.ATTRIBUTE||l.type===it.EQUALS||l.type===it.VALUE||l.type===it.TEXT&&!i.tag_complete?o=this._handle_inside_tag(s,l,i,a):l.type===it.TAG_CLOSE?o=this._handle_tag_close(s,l,i):l.type===it.TEXT?o=this._handle_text(s,l,i):s.add_raw_token(l),r=o,l=a.next();var u=s._output.get_code(e);return u};Ur.prototype._handle_tag_close=function(t,e,n){var r={text:e.text,type:e.type};return t.alignment_size=0,n.tag_complete=!0,t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),n.is_unformatted?t.add_raw_token(e):(n.tag_start_char==="<"&&(t.set_space_before_token(e.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&n.has_wrapped_attrs&&t.print_newline(!1)),t.print_token(e)),n.indent_content&&!(n.is_unformatted||n.is_content_unformatted)&&(t.indent(),n.indent_content=!1),!n.is_inline_element&&!(n.is_unformatted||n.is_content_unformatted)&&t.set_wrap_point(),r};Ur.prototype._handle_inside_tag=function(t,e,n,r){var i=n.has_wrapped_attrs,s={text:e.text,type:e.type};if(t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),n.is_unformatted)t.add_raw_token(e);else if(n.tag_start_char==="{"&&e.type===it.TEXT)t.print_preserved_newlines(e)?(e.newlines=0,t.add_raw_token(e)):t.print_token(e);else{if(e.type===it.ATTRIBUTE?(t.set_space_before_token(!0),n.attr_count+=1):(e.type===it.EQUALS||e.type===it.VALUE&&e.previous.type===it.EQUALS)&&t.set_space_before_token(!1),e.type===it.ATTRIBUTE&&n.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(t.traverse_whitespace(e),i=i||e.newlines!==0),this._is_wrap_attributes_force)){var a=n.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&n.attr_count===1){var o=!0,l=0,u;do{if(u=r.peek(l),u.type===it.ATTRIBUTE){o=!1;break}l+=1}while(l<4&&u.type!==it.EOF&&u.type!==it.TAG_CLOSE);a=!o}a&&(t.print_newline(!1),i=!0)}t.print_token(e),i=i||t.previous_token_wrapped(),n.has_wrapped_attrs=i}return s};Ur.prototype._handle_text=function(t,e,n){var r={text:e.text,type:"TK_CONTENT"};return n.custom_beautifier_name?this._print_custom_beatifier_text(t,e,n):n.is_unformatted||n.is_content_unformatted?t.add_raw_token(e):(t.traverse_whitespace(e),t.print_token(e)),r};Ur.prototype._print_custom_beatifier_text=function(t,e,n){var r=this;if(e.text!==""){var i=e.text,s,a=1,o="",l="";n.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?s=this._js_beautify:n.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?s=this._css_beautify:n.custom_beautifier_name==="html"&&(s=function(p,m){var g=new Ur(p,m,r._js_beautify,r._css_beautify);return g.beautify()}),this._options.indent_scripts==="keep"?a=0:this._options.indent_scripts==="separate"&&(a=-t.indent_level);var u=t.get_full_indent(a);if(i=i.replace(/\n[ \t]*$/,""),n.custom_beautifier_name!=="html"&&i[0]==="<"&&i.match(/^(<!--|<!\[CDATA\[)/)){var c=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(i);if(!c){t.add_raw_token(e);return}o=u+c[1]+`
`,i=c[4],c[5]&&(l=u+c[5]),i=i.replace(/\n[ \t]*$/,""),(c[2]||c[3].indexOf(`
`)!==-1)&&(c=c[3].match(/[ \t]+$/),c&&(e.whitespace_before=c[0]))}if(i)if(s){var f=function(){this.eol=`
`};f.prototype=this._options.raw_options;var d=new f;i=s(u+i,d)}else{var h=e.whitespace_before;h&&(i=i.replace(new RegExp(`
(`+h+")?","g"),`
`)),i=u+i.replace(/\n/g,`
`+u)}o&&(i?i=o+i+`
`+l:i=o+l),t.print_newline(!1),i&&(e.text=i,e.whitespace_before="",e.newlines=0,t.add_raw_token(e),t.print_newline(!0))}};Ur.prototype._handle_tag_open=function(t,e,n,r){var i=this._get_tag_open_token(e);return(n.is_unformatted||n.is_content_unformatted)&&!n.is_empty_element&&e.type===it.TAG_OPEN&&e.text.indexOf("</")===0?(t.add_raw_token(e),i.start_tag_token=this._tag_stack.try_pop(i.tag_name)):(t.traverse_whitespace(e),this._set_tag_position(t,e,i,n,r),i.is_inline_element||t.set_wrap_point(),t.print_token(e)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(i.alignment_size=e.text.length+1),!i.tag_complete&&!i.is_unformatted&&(t.alignment_size=i.alignment_size),i};var wN=function(t,e){if(this.parent=t||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!e)this.tag_complete=!0;else{var n;this.tag_start_char=e.text[0],this.text=e.text,this.tag_start_char==="<"?(n=e.text.match(/^<([^\s>]*)/),this.tag_check=n?n[1]:""):(n=e.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=n?n[1]:"",e.text==="{{#>"&&this.tag_check===">"&&e.next!==null&&(this.tag_check=e.next.text)),this.tag_check=this.tag_check.toLowerCase(),e.type===it.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||e.closed&&e.closed.text==="/>",this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))}};Ur.prototype._get_tag_open_token=function(t){var e=new wN(this._tag_stack.get_parser_token(),t);return e.alignment_size=this._options.wrap_attributes_indent_size,e.is_end_tag=e.is_end_tag||fu(e.tag_check,this._options.void_elements),e.is_empty_element=e.tag_complete||e.is_start_tag&&e.is_end_tag,e.is_unformatted=!e.tag_complete&&fu(e.tag_check,this._options.unformatted),e.is_content_unformatted=!e.is_empty_element&&fu(e.tag_check,this._options.content_unformatted),e.is_inline_element=fu(e.tag_name,this._options.inline)||e.tag_start_char==="{",e};Ur.prototype._set_tag_position=function(t,e,n,r,i){if(n.is_empty_element||(n.is_end_tag?n.start_tag_token=this._tag_stack.try_pop(n.tag_name):(this._do_optional_end_element(n)&&(n.is_inline_element||t.print_newline(!1)),this._tag_stack.record_tag(n),(n.tag_name==="script"||n.tag_name==="style")&&!(n.is_unformatted||n.is_content_unformatted)&&(n.custom_beautifier_name=w1(n.tag_check,e)))),fu(n.tag_check,this._options.extra_liners)&&(t.print_newline(!1),t._output.just_added_blankline()||t.print_newline(!0)),n.is_empty_element){if(n.tag_start_char==="{"&&n.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),n.indent_content=!0;var s=t.current_line_has_match(/{{#if/);s||t.print_newline(!1)}n.tag_name==="!--"&&i.type===it.TAG_CLOSE&&r.is_end_tag&&n.text.indexOf(`
`)===-1||(n.is_inline_element||n.is_unformatted||t.print_newline(!1),this._calcluate_parent_multiline(t,n))}else if(n.is_end_tag){var a=!1;a=n.start_tag_token&&n.start_tag_token.multiline_content,a=a||!n.is_inline_element&&!(r.is_inline_element||r.is_unformatted)&&!(i.type===it.TAG_CLOSE&&n.start_tag_token===r)&&i.type!=="TK_CONTENT",(n.is_content_unformatted||n.is_unformatted)&&(a=!1),a&&t.print_newline(!1)}else n.indent_content=!n.custom_beautifier_name,n.tag_start_char==="<"&&(n.tag_name==="html"?n.indent_content=this._options.indent_inner_html:n.tag_name==="head"?n.indent_content=this._options.indent_head_inner_html:n.tag_name==="body"&&(n.indent_content=this._options.indent_body_inner_html)),!(n.is_inline_element||n.is_unformatted)&&(i.type!=="TK_CONTENT"||n.is_content_unformatted)&&t.print_newline(!1),this._calcluate_parent_multiline(t,n)};Ur.prototype._calcluate_parent_multiline=function(t,e){e.parent&&t._output.just_added_newline()&&!((e.is_inline_element||e.is_unformatted)&&e.parent.is_inline_element)&&(e.parent.multiline_content=!0)};var F1=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],L1=["a","audio","del","ins","map","noscript","video"];Ur.prototype._do_optional_end_element=function(t){var e=null;if(!(t.is_empty_element||!t.is_start_tag||!t.parent)){if(t.tag_name==="body")e=e||this._tag_stack.try_pop("head");else if(t.tag_name==="li")e=e||this._tag_stack.try_pop("li",["ol","ul"]);else if(t.tag_name==="dd"||t.tag_name==="dt")e=e||this._tag_stack.try_pop("dt",["dl"]),e=e||this._tag_stack.try_pop("dd",["dl"]);else if(t.parent.tag_name==="p"&&F1.indexOf(t.tag_name)!==-1){var n=t.parent.parent;(!n||L1.indexOf(n.tag_name)===-1)&&(e=e||this._tag_stack.try_pop("p"))}else t.tag_name==="rp"||t.tag_name==="rt"?(e=e||this._tag_stack.try_pop("rt",["ruby","rtc"]),e=e||this._tag_stack.try_pop("rp",["ruby","rtc"])):t.tag_name==="optgroup"?e=e||this._tag_stack.try_pop("optgroup",["select"]):t.tag_name==="option"?e=e||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):t.tag_name==="colgroup"?e=e||this._tag_stack.try_pop("caption",["table"]):t.tag_name==="thead"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"])):t.tag_name==="tbody"||t.tag_name==="tfoot"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("thead",["table"]),e=e||this._tag_stack.try_pop("tbody",["table"])):t.tag_name==="tr"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(t.tag_name==="th"||t.tag_name==="td")&&(e=e||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),e=e||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return t.parent=this._tag_stack.get_parser_token(),e}};ON.exports.Beautifier=Ur});var LN=Y((Kee,sg)=>{"use strict";var k1=FN().Beautifier,M1=tg().Options;function B1(t,e,n,r){var i=new k1(t,e,n,r);return i.beautify()}sg.exports=B1;sg.exports.defaultOptions=function(){return new M1}});var qN=Y((zee,_p)=>{"use strict";var kN=_N(),MN=DN(),BN=LN();function VN(t,e,n,r){return n=n||kN,r=r||MN,BN(t,e,n,r)}VN.defaultOptions=BN.defaultOptions;_p.exports.js=kN;_p.exports.css=MN;_p.exports.html=VN});var WN=Y((Xee,UN)=>{"use strict";function jN(t,e,n){var r=function(i,s){return t.js_beautify(i,s)};return r.js=t.js_beautify,r.css=e.css_beautify,r.html=n.html_beautify,r.js_beautify=t.js_beautify,r.css_beautify=e.css_beautify,r.html_beautify=n.html_beautify,r}typeof define=="function"&&define.amd?define(["./lib/beautify","./lib/beautify-css","./lib/beautify-html"],function(t,e,n){return jN(t,e,n)}):function(t){var e=qN();e.js_beautify=e.js,e.css_beautify=e.css,e.html_beautify=e.html,t.exports=jN(e,e,e)}(UN)});var LC=Y((hte,FC)=>{"use strict";var Tg=require("fs"),uk=require("util"),ck=require("path"),fi,vg=class{constructor(e){e=e||{},this.directory=e.directory||"./locales",this.updateFiles=typeof e.updateFiles=="boolean"?e.updateFiles:!0,this.locale=e.locale||"en",this.fallbackToLanguage=typeof e.fallbackToLanguage=="boolean"?e.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...e){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let n=e.shift(),r=function(){};return typeof e[e.length-1]=="function"&&(r=e.pop()),r=r||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][n]&&this.updateFiles?(this.cache[this.locale][n]=n,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:r})):r(),fi.format.apply(fi.format,[this.cache[this.locale][n]||n].concat(e))}__n(){let e=Array.prototype.slice.call(arguments),n=e.shift(),r=e.shift(),i=e.shift(),s=function(){};typeof e[e.length-1]=="function"&&(s=e.pop()),this.cache[this.locale]||this._readLocaleFile();let a=i===1?n:r;this.cache[this.locale][n]&&(a=this.cache[this.locale][n][i===1?"one":"other"]),!this.cache[this.locale][n]&&this.updateFiles?(this.cache[this.locale][n]={one:n,other:r},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:s})):s();let o=[a];return~a.indexOf("%d")&&o.push(i),fi.format.apply(fi.format,o.concat(e))}setLocale(e){this.locale=e}getLocale(){return this.locale}updateLocale(e){this.cache[this.locale]||this._readLocaleFile();for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.cache[this.locale][n]=e[n])}_taggedLiteral(e,...n){let r="";return e.forEach(function(i,s){let a=n[s+1];r+=i,typeof a<"u"&&(r+="%s")}),this.__.apply(this,[r].concat([].slice.call(n,1)))}_enqueueWrite(e){this.writeQueue.push(e),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){let e=this,n=this.writeQueue[0],r=n.directory,i=n.locale,s=n.cb,a=this._resolveLocaleFile(r,i),o=JSON.stringify(this.cache[i],null,2);fi.fs.writeFile(a,o,"utf-8",function(l){e.writeQueue.shift(),e.writeQueue.length>0&&e._processWriteQueue(),s(l)})}_readLocaleFile(){let e={},n=this._resolveLocaleFile(this.directory,this.locale);try{fi.fs.readFileSync&&(e=JSON.parse(fi.fs.readFileSync(n,"utf-8")))}catch(r){if(r instanceof SyntaxError&&(r.message="syntax error in "+n),r.code==="ENOENT")e={};else throw r}this.cache[this.locale]=e}_resolveLocaleFile(e,n){let r=fi.resolve(e,"./",n+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(r)&&~n.lastIndexOf("_")){let i=fi.resolve(e,"./",n.split("_")[0]+".json");this._fileExistsSync(i)&&(r=i)}return r}_fileExistsSync(e){return fi.exists(e)}};function fk(t,e){fi=e;let n=new vg(t);return{__:n.__.bind(n),__n:n.__n.bind(n),setLocale:n.setLocale.bind(n),getLocale:n.getLocale.bind(n),updateLocale:n.updateLocale.bind(n),locale:n.locale}}var pk={fs:{readFileSync:Tg.readFileSync,writeFile:Tg.writeFile},format:uk.format,resolve:ck.resolve,exists:t=>{try{return Tg.statSync(t).isFile()}catch{return!1}}},dk=t=>fk(t,pk);FC.exports=dk});var Pg=Y((gte,UC)=>{"use strict";var mk=require("util"),kC=require("path"),hk=require("fs");function yu(t){if(t!==t.toLowerCase()&&t!==t.toUpperCase()||(t=t.toLowerCase()),t.indexOf("-")===-1&&t.indexOf("_")===-1)return t;{let n="",r=!1,i=t.match(/^-+/);for(let s=i?i[0].length:0;s<t.length;s++){let a=t.charAt(s);r&&(r=!1,a=a.toUpperCase()),s!==0&&(a==="-"||a==="_")?r=!0:a!=="-"&&a!=="_"&&(n+=a)}return n}}function VC(t,e){let n=t.toLowerCase();e=e||"-";let r="";for(let i=0;i<t.length;i++){let s=n.charAt(i),a=t.charAt(i);s!==a&&i>0?r+=`${e}${n.charAt(i)}`:r+=a}return r}function qC(t){return t==null?!1:typeof t=="number"||/^0x[0-9a-f]+$/i.test(t)?!0:/^0[^.]/.test(t)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}function gk(t){if(Array.isArray(t))return t.map(a=>typeof a!="string"?a+"":a);t=t.trim();let e=0,n=null,r=null,i=null,s=[];for(let a=0;a<t.length;a++){if(n=r,r=t.charAt(a),r===" "&&!i){n!==" "&&e++;continue}r===i?i=null:(r==="'"||r==='"')&&!i&&(i=r),s[e]||(s[e]=""),s[e]+=r}return s}var pi;(function(t){t.BOOLEAN="boolean",t.STRING="string",t.NUMBER="number",t.ARRAY="array"})(pi||(pi={}));var ts,Cg=class{constructor(e){ts=e}parse(e,n){let r=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},n),i=gk(e),s=typeof e=="string",a=_k(Object.assign(Object.create(null),r.alias)),o=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},r.configuration),l=Object.assign(Object.create(null),r.default),u=r.configObjects||[],c=r.envPrefix,f=o["populate--"],d=f?"--":"_",h=Object.create(null),p=Object.create(null),m=r.__||ts.format,g={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},T=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,b=new RegExp("^--"+o["negation-prefix"]+"(.+)");[].concat(r.array||[]).filter(Boolean).forEach(function(x){let F=typeof x=="object"?x.key:x,Q=Object.keys(x).map(function(q){return{boolean:"bools",string:"strings",number:"numbers"}[q]}).filter(Boolean).pop();Q&&(g[Q][F]=!0),g.arrays[F]=!0,g.keys.push(F)}),[].concat(r.boolean||[]).filter(Boolean).forEach(function(x){g.bools[x]=!0,g.keys.push(x)}),[].concat(r.string||[]).filter(Boolean).forEach(function(x){g.strings[x]=!0,g.keys.push(x)}),[].concat(r.number||[]).filter(Boolean).forEach(function(x){g.numbers[x]=!0,g.keys.push(x)}),[].concat(r.count||[]).filter(Boolean).forEach(function(x){g.counts[x]=!0,g.keys.push(x)}),[].concat(r.normalize||[]).filter(Boolean).forEach(function(x){g.normalize[x]=!0,g.keys.push(x)}),typeof r.narg=="object"&&Object.entries(r.narg).forEach(([x,F])=>{typeof F=="number"&&(g.nargs[x]=F,g.keys.push(x))}),typeof r.coerce=="object"&&Object.entries(r.coerce).forEach(([x,F])=>{typeof F=="function"&&(g.coercions[x]=F,g.keys.push(x))}),typeof r.config<"u"&&(Array.isArray(r.config)||typeof r.config=="string"?[].concat(r.config).filter(Boolean).forEach(function(x){g.configs[x]=!0}):typeof r.config=="object"&&Object.entries(r.config).forEach(([x,F])=>{(typeof F=="boolean"||typeof F=="function")&&(g.configs[x]=F)})),Ve(r.key,a,r.default,g.arrays),Object.keys(l).forEach(function(x){(g.aliases[x]||[]).forEach(function(F){l[F]=l[x]})});let S=null;fl();let B=[],z=Object.assign(Object.create(null),{_:[]}),ne={};for(let x=0;x<i.length;x++){let F=i[x],Q=F.replace(/^-{3,}/,"---"),q,O,se,re,fe,_t;if(F!=="--"&&Pn(F))Te(F);else if(Q.match(/---+(=|$)/)){Te(F);continue}else if(F.match(/^--.+=/)||!o["short-option-groups"]&&F.match(/^-.+=/))re=F.match(/^--?([^=]+)=([\s\S]*)$/),re!==null&&Array.isArray(re)&&re.length>=3&&(K(re[1],g.arrays)?x=ae(x,re[1],i,re[2]):K(re[1],g.nargs)!==!1?x=H(x,re[1],i,re[2]):ee(re[1],re[2],!0));else if(F.match(b)&&o["boolean-negation"])re=F.match(b),re!==null&&Array.isArray(re)&&re.length>=2&&(O=re[1],ee(O,K(O,g.arrays)?[!1]:!1));else if(F.match(/^--.+/)||!o["short-option-groups"]&&F.match(/^-[^-]+/))re=F.match(/^--?(.+)/),re!==null&&Array.isArray(re)&&re.length>=2&&(O=re[1],K(O,g.arrays)?x=ae(x,O,i):K(O,g.nargs)!==!1?x=H(x,O,i):(fe=i[x+1],fe!==void 0&&(!fe.match(/^-/)||fe.match(T))&&!K(O,g.bools)&&!K(O,g.counts)||/^(true|false)$/.test(fe)?(ee(O,fe),x++):ee(O,hi(O))));else if(F.match(/^-.\..+=/))re=F.match(/^-([^=]+)=([\s\S]*)$/),re!==null&&Array.isArray(re)&&re.length>=3&&ee(re[1],re[2]);else if(F.match(/^-.\..+/)&&!F.match(T))fe=i[x+1],re=F.match(/^-(.\..+)/),re!==null&&Array.isArray(re)&&re.length>=2&&(O=re[1],fe!==void 0&&!fe.match(/^-/)&&!K(O,g.bools)&&!K(O,g.counts)?(ee(O,fe),x++):ee(O,hi(O)));else if(F.match(/^-[^-]+/)&&!F.match(T)){se=F.slice(1,-1).split(""),q=!1;for(let Lt=0;Lt<se.length;Lt++){if(fe=F.slice(Lt+2),se[Lt+1]&&se[Lt+1]==="="){_t=F.slice(Lt+3),O=se[Lt],K(O,g.arrays)?x=ae(x,O,i,_t):K(O,g.nargs)!==!1?x=H(x,O,i,_t):ee(O,_t),q=!0;break}if(fe==="-"){ee(se[Lt],fe);continue}if(/[A-Za-z]/.test(se[Lt])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(fe)&&K(fe,g.bools)===!1){ee(se[Lt],fe),q=!0;break}if(se[Lt+1]&&se[Lt+1].match(/\W/)){ee(se[Lt],fe),q=!0;break}else ee(se[Lt],hi(se[Lt]))}O=F.slice(-1)[0],!q&&O!=="-"&&(K(O,g.arrays)?x=ae(x,O,i):K(O,g.nargs)!==!1?x=H(x,O,i):(fe=i[x+1],fe!==void 0&&(!/^(-|--)[^-]/.test(fe)||fe.match(T))&&!K(O,g.bools)&&!K(O,g.counts)||/^(true|false)$/.test(fe)?(ee(O,fe),x++):ee(O,hi(O))))}else if(F.match(/^-[0-9]$/)&&F.match(T)&&K(F.slice(1),g.bools))O=F.slice(1),ee(O,hi(O));else if(F==="--"){B=i.slice(x+1);break}else if(o["halt-at-non-option"]){B=i.slice(x);break}else Te(F)}Jn(z,!0),Jn(z,!1),At(z),at(),vr(z,g.aliases,l,!0),mi(z),o["set-placeholder-key"]&&Jt(z),Object.keys(g.counts).forEach(function(x){le(z,x.split("."))||ee(x,0)}),f&&B.length&&(z[d]=[]),B.forEach(function(x){z[d].push(x)}),o["camel-case-expansion"]&&o["strip-dashed"]&&Object.keys(z).filter(x=>x!=="--"&&x.includes("-")).forEach(x=>{delete z[x]}),o["strip-aliased"]&&[].concat(...Object.keys(a).map(x=>a[x])).forEach(x=>{o["camel-case-expansion"]&&x.includes("-")&&delete z[x.split(".").map(F=>yu(F)).join(".")],delete z[x]});function Te(x){let F=Ge("_",x);(typeof F=="string"||typeof F=="number")&&z._.push(F)}function H(x,F,Q,q){let O,se=K(F,g.nargs);if(se=typeof se!="number"||isNaN(se)?1:se,se===0)return Zn(q)||(S=Error(m("Argument unexpected for: %s",F))),ee(F,hi(F)),x;let re=Zn(q)?0:1;if(o["nargs-eats-options"])Q.length-(x+1)+re<se&&(S=Error(m("Not enough arguments following: %s",F))),re=se;else{for(O=x+1;O<Q.length&&(!Q[O].match(/^-[^0-9]/)||Q[O].match(T)||Pn(Q[O]));O++)re++;re<se&&(S=Error(m("Not enough arguments following: %s",F)))}let fe=Math.min(re,se);for(!Zn(q)&&fe>0&&(ee(F,q),fe--),O=x+1;O<fe+x+1;O++)ee(F,Q[O]);return x+fe}function ae(x,F,Q,q){let O=[],se=q||Q[x+1],re=K(F,g.nargs);if(K(F,g.bools)&&!/^(true|false)$/.test(se))O.push(!0);else if(Zn(se)||Zn(q)&&/^-/.test(se)&&!T.test(se)&&!Pn(se)){if(l[F]!==void 0){let fe=l[F];O=Array.isArray(fe)?fe:[fe]}}else{Zn(q)||O.push(Ye(F,q,!0));for(let fe=x+1;fe<Q.length&&!(!o["greedy-arrays"]&&O.length>0||re&&typeof re=="number"&&O.length>=re||(se=Q[fe],/^-/.test(se)&&!T.test(se)&&!Pn(se)));fe++)x=fe,O.push(Ye(F,se,s))}return typeof re=="number"&&(re&&O.length<re||isNaN(re)&&O.length===0)&&(S=Error(m("Not enough arguments following: %s",F))),ee(F,O),x}function ee(x,F,Q=s){if(/-/.test(x)&&o["camel-case-expansion"]){let se=x.split(".").map(function(re){return yu(re)}).join(".");De(x,se)}let q=Ye(x,F,Q),O=x.split(".");Ae(z,O,q),g.aliases[x]&&g.aliases[x].forEach(function(se){let re=se.split(".");Ae(z,re,q)}),O.length>1&&o["dot-notation"]&&(g.aliases[O[0]]||[]).forEach(function(se){let re=se.split("."),fe=[].concat(O);fe.shift(),re=re.concat(fe),(g.aliases[x]||[]).includes(re.join("."))||Ae(z,re,q)}),K(x,g.normalize)&&!K(x,g.arrays)&&[x].concat(g.aliases[x]||[]).forEach(function(re){Object.defineProperty(ne,re,{enumerable:!0,get(){return F},set(fe){F=typeof fe=="string"?ts.normalize(fe):fe}})})}function De(x,F){g.aliases[x]&&g.aliases[x].length||(g.aliases[x]=[F],h[F]=!0),g.aliases[F]&&g.aliases[F].length||De(F,x)}function Ye(x,F,Q){Q&&(F=yk(F)),(K(x,g.bools)||K(x,g.counts))&&typeof F=="string"&&(F=F==="true");let q=Array.isArray(F)?F.map(function(O){return Ge(x,O)}):Ge(x,F);return K(x,g.counts)&&(Zn(q)||typeof q=="boolean")&&(q=Ng()),K(x,g.normalize)&&K(x,g.arrays)&&(Array.isArray(F)?q=F.map(O=>ts.normalize(O)):q=ts.normalize(F)),q}function Ge(x,F){return!o["parse-positional-numbers"]&&x==="_"||!K(x,g.strings)&&!K(x,g.bools)&&!Array.isArray(F)&&(qC(F)&&o["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${F}`)))||!Zn(F)&&K(x,g.numbers))&&(F=Number(F)),F}function At(x){let F=Object.create(null);vr(F,g.aliases,l),Object.keys(g.configs).forEach(function(Q){let q=x[Q]||F[Q];if(q)try{let O=null,se=ts.resolve(ts.cwd(),q),re=g.configs[Q];if(typeof re=="function"){try{O=re(se)}catch(fe){O=fe}if(O instanceof Error){S=O;return}}else O=ts.require(se);Qn(O)}catch(O){O.name==="PermissionDenied"?S=O:x[Q]&&(S=Error(m("Invalid JSON config file: %s",q)))}})}function Qn(x,F){Object.keys(x).forEach(function(Q){let q=x[Q],O=F?F+"."+Q:Q;typeof q=="object"&&q!==null&&!Array.isArray(q)&&o["dot-notation"]?Qn(q,O):(!le(z,O.split("."))||K(O,g.arrays)&&o["combine-arrays"])&&ee(O,q)})}function at(){typeof u<"u"&&u.forEach(function(x){Qn(x)})}function Jn(x,F){if(typeof c>"u")return;let Q=typeof c=="string"?c:"",q=ts.env();Object.keys(q).forEach(function(O){if(Q===""||O.lastIndexOf(Q,0)===0){let se=O.split("__").map(function(re,fe){return fe===0&&(re=re.substring(Q.length)),yu(re)});(F&&g.configs[se.join(".")]||!F)&&!le(x,se)&&ee(se.join("."),q[O])}})}function mi(x){let F,Q=new Set;Object.keys(x).forEach(function(q){if(!Q.has(q)&&(F=K(q,g.coercions),typeof F=="function"))try{let O=Ge(q,F(x[q]));[].concat(g.aliases[q]||[],q).forEach(se=>{Q.add(se),x[se]=O})}catch(O){S=O}})}function Jt(x){return g.keys.forEach(F=>{~F.indexOf(".")||typeof x[F]>"u"&&(x[F]=void 0)}),x}function vr(x,F,Q,q=!1){Object.keys(Q).forEach(function(O){le(x,O.split("."))||(Ae(x,O.split("."),Q[O]),q&&(p[O]=!0),(F[O]||[]).forEach(function(se){le(x,se.split("."))||Ae(x,se.split("."),Q[O])}))})}function le(x,F){let Q=x;o["dot-notation"]||(F=[F.join(".")]),F.slice(0,-1).forEach(function(O){Q=Q[O]||{}});let q=F[F.length-1];return typeof Q!="object"?!1:q in Q}function Ae(x,F,Q){let q=x;o["dot-notation"]||(F=[F.join(".")]),F.slice(0,-1).forEach(function(_t){_t=MC(_t),typeof q=="object"&&q[_t]===void 0&&(q[_t]={}),typeof q[_t]!="object"||Array.isArray(q[_t])?(Array.isArray(q[_t])?q[_t].push({}):q[_t]=[q[_t],{}],q=q[_t][q[_t].length-1]):q=q[_t]});let O=MC(F[F.length-1]),se=K(F.join("."),g.arrays),re=Array.isArray(Q),fe=o["duplicate-arguments-array"];!fe&&K(O,g.nargs)&&(fe=!0,(!Zn(q[O])&&g.nargs[O]===1||Array.isArray(q[O])&&q[O].length===g.nargs[O])&&(q[O]=void 0)),Q===Ng()?q[O]=Ng(q[O]):Array.isArray(q[O])?fe&&se&&re?q[O]=o["flatten-duplicate-arrays"]?q[O].concat(Q):(Array.isArray(q[O][0])?q[O]:[q[O]]).concat([Q]):!fe&&Boolean(se)===Boolean(re)?q[O]=Q:q[O]=q[O].concat([Q]):q[O]===void 0&&se?q[O]=re?Q:[Q]:fe&&!(q[O]===void 0||K(O,g.counts)||K(O,g.bools))?q[O]=[q[O],Q]:q[O]=Q}function Ve(...x){x.forEach(function(F){Object.keys(F||{}).forEach(function(Q){g.aliases[Q]||(g.aliases[Q]=[].concat(a[Q]||[]),g.aliases[Q].concat(Q).forEach(function(q){if(/-/.test(q)&&o["camel-case-expansion"]){let O=yu(q);O!==Q&&g.aliases[Q].indexOf(O)===-1&&(g.aliases[Q].push(O),h[O]=!0)}}),g.aliases[Q].concat(Q).forEach(function(q){if(q.length>1&&/[A-Z]/.test(q)&&o["camel-case-expansion"]){let O=VC(q,"-");O!==Q&&g.aliases[Q].indexOf(O)===-1&&(g.aliases[Q].push(O),h[O]=!0)}}),g.aliases[Q].forEach(function(q){g.aliases[q]=[Q].concat(g.aliases[Q].filter(function(O){return q!==O}))}))})})}function K(x,F){let Q=[].concat(g.aliases[x]||[],x),q=Object.keys(F),O=Q.find(se=>q.includes(se));return O?F[O]:!1}function ot(x){let F=Object.keys(g);return[].concat(F.map(q=>g[q])).some(function(q){return Array.isArray(q)?q.includes(x):q[x]})}function tt(x,...F){return[].concat(...F).some(function(q){let O=x.match(q);return O&&ot(O[1])})}function It(x){if(x.match(T)||!x.match(/^-[^-]+/))return!1;let F=!0,Q,q=x.slice(1).split("");for(let O=0;O<q.length;O++){if(Q=x.slice(O+2),!ot(q[O])){F=!1;break}if(q[O+1]&&q[O+1]==="="||Q==="-"||/[A-Za-z]/.test(q[O])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(Q)||q[O+1]&&q[O+1].match(/\W/))break}return F}function Pn(x){return o["unknown-options-as-args"]&&Li(x)}function Li(x){return x=x.replace(/^-{3,}/,"--"),x.match(T)||It(x)?!1:!tt(x,/^-+([^=]+?)=[\s\S]*$/,b,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}function hi(x){return!K(x,g.bools)&&!K(x,g.counts)&&`${x}`in l?l[x]:cl(ns(x))}function cl(x){return{[pi.BOOLEAN]:!0,[pi.STRING]:"",[pi.NUMBER]:void 0,[pi.ARRAY]:[]}[x]}function ns(x){let F=pi.BOOLEAN;return K(x,g.strings)?F=pi.STRING:K(x,g.numbers)?F=pi.NUMBER:K(x,g.bools)?F=pi.BOOLEAN:K(x,g.arrays)&&(F=pi.ARRAY),F}function Zn(x){return x===void 0}function fl(){Object.keys(g.counts).find(x=>K(x,g.arrays)?(S=Error(m("Invalid configuration: %s, opts.count excludes opts.array.",x)),!0):K(x,g.nargs)?(S=Error(m("Invalid configuration: %s, opts.count excludes opts.narg.",x)),!0):!1)}return{aliases:Object.assign({},g.aliases),argv:Object.assign(ne,z),configuration:o,defaulted:Object.assign({},p),error:S,newAliases:Object.assign({},h)}}};function _k(t){let e=[],n=Object.create(null),r=!0;for(Object.keys(t).forEach(function(i){e.push([].concat(t[i],i))});r;){r=!1;for(let i=0;i<e.length;i++)for(let s=i+1;s<e.length;s++)if(e[i].filter(function(o){return e[s].indexOf(o)!==-1}).length){e[i]=e[i].concat(e[s]),e.splice(s,1),r=!0;break}}return e.forEach(function(i){i=i.filter(function(a,o,l){return l.indexOf(a)===o});let s=i.pop();s!==void 0&&typeof s=="string"&&(n[s]=i)}),n}function Ng(t){return t!==void 0?t+1:1}function MC(t){return t==="__proto__"?"___proto___":t}function yk(t){return typeof t=="string"&&(t[0]==="'"||t[0]==='"')&&t[t.length-1]===t[0]?t.substring(1,t.length-1):t}var BC=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12;if(process&&process.version&&Number(process.version.match(/v([^.]+)/)[1])<BC)throw Error(`yargs parser supports a minimum Node.js version of ${BC}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var bk=process?process.env:{},jC=new Cg({cwd:process.cwd,env:()=>bk,format:mk.format,normalize:kC.normalize,resolve:kC.resolve,require:t=>{if(typeof require<"u")return require(t);if(t.match(/\.json$/))return JSON.parse(hk.readFileSync(t,"utf8"));throw Error("only .json config files are supported in ESM")}}),bu=function(e,n){return jC.parse(e.slice(),n).argv};bu.detailed=function(t,e){return jC.parse(t.slice(),e)};bu.camelCase=yu;bu.decamelize=VC;bu.looksLikeNumber=qC;UC.exports=bu});var GC=Y((_te,WC)=>{"use strict";WC.exports=({onlyFirst:t=!1}={})=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}});var Sp=Y((yte,HC)=>{"use strict";var Tk=GC();HC.exports=t=>typeof t=="string"?t.replace(Tk(),""):t});var $C=Y((bte,Dg)=>{"use strict";var YC=t=>Number.isNaN(t)?!1:t>=4352&&(t<=4447||t===9001||t===9002||11904<=t&&t<=12871&&t!==12351||12880<=t&&t<=19903||19968<=t&&t<=42182||43360<=t&&t<=43388||44032<=t&&t<=55203||63744<=t&&t<=64255||65040<=t&&t<=65049||65072<=t&&t<=65131||65281<=t&&t<=65376||65504<=t&&t<=65510||110592<=t&&t<=110593||127488<=t&&t<=127569||131072<=t&&t<=262141);Dg.exports=YC;Dg.exports.default=YC});var zC=Y((Tte,KC)=>{"use strict";KC.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}});var Ap=Y((vte,Sg)=>{"use strict";var vk=Sp(),Nk=$C(),Ck=zC(),XC=t=>{if(typeof t!="string"||t.length===0||(t=vk(t),t.length===0))return 0;t=t.replace(Ck(),"  ");let e=0;for(let n=0;n<t.length;n++){let r=t.codePointAt(n);r<=31||r>=127&&r<=159||r>=768&&r<=879||(r>65535&&n++,e+=Nk(r)?2:1)}return e};Sg.exports=XC;Sg.exports.default=XC});var JC=Y((Nte,QC)=>{"use strict";QC.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Ag=Y((Cte,eP)=>{var Tu=JC(),ZC={};for(let t of Object.keys(Tu))ZC[Tu[t]]=t;var de={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};eP.exports=de;for(let t of Object.keys(de)){if(!("channels"in de[t]))throw new Error("missing channels property: "+t);if(!("labels"in de[t]))throw new Error("missing channel labels property: "+t);if(de[t].labels.length!==de[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:n}=de[t];delete de[t].channels,delete de[t].labels,Object.defineProperty(de[t],"channels",{value:e}),Object.defineProperty(de[t],"labels",{value:n})}de.rgb.hsl=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=s-i,o,l;s===i?o=0:e===s?o=(n-r)/a:n===s?o=2+(r-e)/a:r===s&&(o=4+(e-n)/a),o=Math.min(o*60,360),o<0&&(o+=360);let u=(i+s)/2;return s===i?l=0:u<=.5?l=a/(s+i):l=a/(2-s-i),[o,l*100,u*100]};de.rgb.hsv=function(t){let e,n,r,i,s,a=t[0]/255,o=t[1]/255,l=t[2]/255,u=Math.max(a,o,l),c=u-Math.min(a,o,l),f=function(d){return(u-d)/6/c+1/2};return c===0?(i=0,s=0):(s=c/u,e=f(a),n=f(o),r=f(l),a===u?i=r-n:o===u?i=1/3+e-r:l===u&&(i=2/3+n-e),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,u*100]};de.rgb.hwb=function(t){let e=t[0],n=t[1],r=t[2],i=de.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(n,r));return r=1-1/255*Math.max(e,Math.max(n,r)),[i,s*100,r*100]};de.rgb.cmyk=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(1-e,1-n,1-r),s=(1-e-i)/(1-i)||0,a=(1-n-i)/(1-i)||0,o=(1-r-i)/(1-i)||0;return[s*100,a*100,o*100,i*100]};function Pk(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}de.rgb.keyword=function(t){let e=ZC[t];if(e)return e;let n=1/0,r;for(let i of Object.keys(Tu)){let s=Tu[i],a=Pk(t,s);a<n&&(n=a,r=i)}return r};de.keyword.rgb=function(t){return Tu[t]};de.rgb.xyz=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;let i=e*.4124+n*.3576+r*.1805,s=e*.2126+n*.7152+r*.0722,a=e*.0193+n*.1192+r*.9505;return[i*100,s*100,a*100]};de.rgb.lab=function(t){let e=de.rgb.xyz(t),n=e[0],r=e[1],i=e[2];n/=95.047,r/=100,i/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let s=116*r-16,a=500*(n-r),o=200*(r-i);return[s,a,o]};de.hsl.rgb=function(t){let e=t[0]/360,n=t[1]/100,r=t[2]/100,i,s,a;if(n===0)return a=r*255,[a,a,a];r<.5?i=r*(1+n):i=r+n-r*n;let o=2*r-i,l=[0,0,0];for(let u=0;u<3;u++)s=e+1/3*-(u-1),s<0&&s++,s>1&&s--,6*s<1?a=o+(i-o)*6*s:2*s<1?a=i:3*s<2?a=o+(i-o)*(2/3-s)*6:a=o,l[u]=a*255;return l};de.hsl.hsv=function(t){let e=t[0],n=t[1]/100,r=t[2]/100,i=n,s=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,i*=s<=1?s:2-s;let a=(r+n)/2,o=r===0?2*i/(s+i):2*n/(r+n);return[e,o*100,a*100]};de.hsv.rgb=function(t){let e=t[0]/60,n=t[1]/100,r=t[2]/100,i=Math.floor(e)%6,s=e-Math.floor(e),a=255*r*(1-n),o=255*r*(1-n*s),l=255*r*(1-n*(1-s));switch(r*=255,i){case 0:return[r,l,a];case 1:return[o,r,a];case 2:return[a,r,l];case 3:return[a,o,r];case 4:return[l,a,r];case 5:return[r,a,o]}};de.hsv.hsl=function(t){let e=t[0],n=t[1]/100,r=t[2]/100,i=Math.max(r,.01),s,a;a=(2-n)*r;let o=(2-n)*i;return s=n*i,s/=o<=1?o:2-o,s=s||0,a/=2,[e,s*100,a*100]};de.hwb.rgb=function(t){let e=t[0]/360,n=t[1]/100,r=t[2]/100,i=n+r,s;i>1&&(n/=i,r/=i);let a=Math.floor(6*e),o=1-r;s=6*e-a,(a&1)!==0&&(s=1-s);let l=n+s*(o-n),u,c,f;switch(a){default:case 6:case 0:u=o,c=l,f=n;break;case 1:u=l,c=o,f=n;break;case 2:u=n,c=o,f=l;break;case 3:u=n,c=l,f=o;break;case 4:u=l,c=n,f=o;break;case 5:u=o,c=n,f=l;break}return[u*255,c*255,f*255]};de.cmyk.rgb=function(t){let e=t[0]/100,n=t[1]/100,r=t[2]/100,i=t[3]/100,s=1-Math.min(1,e*(1-i)+i),a=1-Math.min(1,n*(1-i)+i),o=1-Math.min(1,r*(1-i)+i);return[s*255,a*255,o*255]};de.xyz.rgb=function(t){let e=t[0]/100,n=t[1]/100,r=t[2]/100,i,s,a;return i=e*3.2406+n*-1.5372+r*-.4986,s=e*-.9689+n*1.8758+r*.0415,a=e*.0557+n*-.204+r*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),a=Math.min(Math.max(0,a),1),[i*255,s*255,a*255]};de.xyz.lab=function(t){let e=t[0],n=t[1],r=t[2];e/=95.047,n/=100,r/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;let i=116*n-16,s=500*(e-n),a=200*(n-r);return[i,s,a]};de.lab.xyz=function(t){let e=t[0],n=t[1],r=t[2],i,s,a;s=(e+16)/116,i=n/500+s,a=s-r/200;let o=s**3,l=i**3,u=a**3;return s=o>.008856?o:(s-16/116)/7.787,i=l>.008856?l:(i-16/116)/7.787,a=u>.008856?u:(a-16/116)/7.787,i*=95.047,s*=100,a*=108.883,[i,s,a]};de.lab.lch=function(t){let e=t[0],n=t[1],r=t[2],i;i=Math.atan2(r,n)*360/2/Math.PI,i<0&&(i+=360);let a=Math.sqrt(n*n+r*r);return[e,a,i]};de.lch.lab=function(t){let e=t[0],n=t[1],i=t[2]/360*2*Math.PI,s=n*Math.cos(i),a=n*Math.sin(i);return[e,s,a]};de.rgb.ansi16=function(t,e=null){let[n,r,i]=t,s=e===null?de.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),s===0)return 30;let a=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return s===2&&(a+=60),a};de.hsv.ansi16=function(t){return de.rgb.ansi16(de.hsv.rgb(t),t[2])};de.rgb.ansi256=function(t){let e=t[0],n=t[1],r=t[2];return e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)};de.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let n=(~~(t>50)+1)*.5,r=(e&1)*n*255,i=(e>>1&1)*n*255,s=(e>>2&1)*n*255;return[r,i,s]};de.ansi256.rgb=function(t){if(t>=232){let s=(t-232)*10+8;return[s,s,s]}t-=16;let e,n=Math.floor(t/36)/5*255,r=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[n,r,i]};de.rgb.hex=function(t){let n=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(n.length)+n};de.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let n=e[0];e[0].length===3&&(n=n.split("").map(o=>o+o).join(""));let r=parseInt(n,16),i=r>>16&255,s=r>>8&255,a=r&255;return[i,s,a]};de.rgb.hcg=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(Math.max(e,n),r),s=Math.min(Math.min(e,n),r),a=i-s,o,l;return a<1?o=s/(1-a):o=0,a<=0?l=0:i===e?l=(n-r)/a%6:i===n?l=2+(r-e)/a:l=4+(e-n)/a,l/=6,l%=1,[l*360,a*100,o*100]};de.hsl.hcg=function(t){let e=t[1]/100,n=t[2]/100,r=n<.5?2*e*n:2*e*(1-n),i=0;return r<1&&(i=(n-.5*r)/(1-r)),[t[0],r*100,i*100]};de.hsv.hcg=function(t){let e=t[1]/100,n=t[2]/100,r=e*n,i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],r*100,i*100]};de.hcg.rgb=function(t){let e=t[0]/360,n=t[1]/100,r=t[2]/100;if(n===0)return[r*255,r*255,r*255];let i=[0,0,0],s=e%1*6,a=s%1,o=1-a,l=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=a,i[2]=0;break;case 1:i[0]=o,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=a;break;case 3:i[0]=0,i[1]=o,i[2]=1;break;case 4:i[0]=a,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=o}return l=(1-n)*r,[(n*i[0]+l)*255,(n*i[1]+l)*255,(n*i[2]+l)*255]};de.hcg.hsv=function(t){let e=t[1]/100,n=t[2]/100,r=e+n*(1-e),i=0;return r>0&&(i=e/r),[t[0],i*100,r*100]};de.hcg.hsl=function(t){let e=t[1]/100,r=t[2]/100*(1-e)+.5*e,i=0;return r>0&&r<.5?i=e/(2*r):r>=.5&&r<1&&(i=e/(2*(1-r))),[t[0],i*100,r*100]};de.hcg.hwb=function(t){let e=t[1]/100,n=t[2]/100,r=e+n*(1-e);return[t[0],(r-e)*100,(1-r)*100]};de.hwb.hcg=function(t){let e=t[1]/100,n=t[2]/100,r=1-n,i=r-e,s=0;return i<1&&(s=(r-i)/(1-i)),[t[0],i*100,s*100]};de.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};de.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};de.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};de.gray.hsl=function(t){return[0,0,t[0]]};de.gray.hsv=de.gray.hsl;de.gray.hwb=function(t){return[0,100,t[0]]};de.gray.cmyk=function(t){return[0,0,0,t[0]]};de.gray.lab=function(t){return[t[0],0,0]};de.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r};de.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});var nP=Y((Pte,tP)=>{var Ip=Ag();function Dk(){let t={},e=Object.keys(Ip);for(let n=e.length,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}function Sk(t){let e=Dk(),n=[t];for(e[t].distance=0;n.length;){let r=n.pop(),i=Object.keys(Ip[r]);for(let s=i.length,a=0;a<s;a++){let o=i[a],l=e[o];l.distance===-1&&(l.distance=e[r].distance+1,l.parent=r,n.unshift(o))}}return e}function Ak(t,e){return function(n){return e(t(n))}}function Ik(t,e){let n=[e[t].parent,t],r=Ip[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)n.unshift(e[i].parent),r=Ak(Ip[e[i].parent][i],r),i=e[i].parent;return r.conversion=n,r}tP.exports=function(t){let e=Sk(t),n={},r=Object.keys(e);for(let i=r.length,s=0;s<i;s++){let a=r[s];e[a].parent!==null&&(n[a]=Ik(a,e))}return n}});var iP=Y((Dte,rP)=>{var Ig=Ag(),Ek=nP(),el={},xk=Object.keys(Ig);function Rk(t){let e=function(...n){let r=n[0];return r==null?r:(r.length>1&&(n=r),t(n))};return"conversion"in t&&(e.conversion=t.conversion),e}function wk(t){let e=function(...n){let r=n[0];if(r==null)return r;r.length>1&&(n=r);let i=t(n);if(typeof i=="object")for(let s=i.length,a=0;a<s;a++)i[a]=Math.round(i[a]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}xk.forEach(t=>{el[t]={},Object.defineProperty(el[t],"channels",{value:Ig[t].channels}),Object.defineProperty(el[t],"labels",{value:Ig[t].labels});let e=Ek(t);Object.keys(e).forEach(r=>{let i=e[r];el[t][r]=wk(i),el[t][r].raw=Rk(i)})});rP.exports=el});var cP=Y((Ste,uP)=>{"use strict";var sP=(t,e)=>(...n)=>`\x1B[${t(...n)+e}m`,aP=(t,e)=>(...n)=>{let r=t(...n);return`\x1B[${38+e};5;${r}m`},oP=(t,e)=>(...n)=>{let r=t(...n);return`\x1B[${38+e};2;${r[0]};${r[1]};${r[2]}m`},Ep=t=>t,lP=(t,e,n)=>[t,e,n],tl=(t,e,n)=>{Object.defineProperty(t,e,{get:()=>{let r=n();return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0}),r},enumerable:!0,configurable:!0})},Eg,nl=(t,e,n,r)=>{Eg===void 0&&(Eg=iP());let i=r?10:0,s={};for(let[a,o]of Object.entries(Eg)){let l=a==="ansi16"?"ansi":a;a===e?s[l]=t(n,i):typeof o=="object"&&(s[l]=t(o[e],i))}return s};function Ok(){let t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright,e.bgColor.bgGray=e.bgColor.bgBlackBright,e.color.grey=e.color.blackBright,e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(let[n,r]of Object.entries(e)){for(let[i,s]of Object.entries(r))e[i]={open:`\x1B[${s[0]}m`,close:`\x1B[${s[1]}m`},r[i]=e[i],t.set(s[0],s[1]);Object.defineProperty(e,n,{value:r,enumerable:!1})}return Object.defineProperty(e,"codes",{value:t,enumerable:!1}),e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",tl(e.color,"ansi",()=>nl(sP,"ansi16",Ep,!1)),tl(e.color,"ansi256",()=>nl(aP,"ansi256",Ep,!1)),tl(e.color,"ansi16m",()=>nl(oP,"rgb",lP,!1)),tl(e.bgColor,"ansi",()=>nl(sP,"ansi16",Ep,!0)),tl(e.bgColor,"ansi256",()=>nl(aP,"ansi256",Ep,!0)),tl(e.bgColor,"ansi16m",()=>nl(oP,"rgb",lP,!0)),e}Object.defineProperty(uP,"exports",{enumerable:!0,get:Ok})});var gP=Y((Ate,hP)=>{"use strict";var vu=Ap(),Fk=Sp(),Lk=cP(),xp=new Set(["\x1B","\x9B"]),kk=39,Rg="\x07",dP="[",Mk="]",mP="m",wg=`${Mk}8;;`,fP=t=>`${xp.values().next().value}${dP}${t}${mP}`,pP=t=>`${xp.values().next().value}${wg}${t}${Rg}`,Bk=t=>t.split(" ").map(e=>vu(e)),xg=(t,e,n)=>{let r=[...e],i=!1,s=!1,a=vu(Fk(t[t.length-1]));for(let[o,l]of r.entries()){let u=vu(l);if(a+u<=n?t[t.length-1]+=l:(t.push(l),a=0),xp.has(l)&&(i=!0,s=r.slice(o+1).join("").startsWith(wg)),i){s?l===Rg&&(i=!1,s=!1):l===mP&&(i=!1);continue}a+=u,a===n&&o<r.length-1&&(t.push(""),a=0)}!a&&t[t.length-1].length>0&&t.length>1&&(t[t.length-2]+=t.pop())},Vk=t=>{let e=t.split(" "),n=e.length;for(;n>0&&!(vu(e[n-1])>0);)n--;return n===e.length?t:e.slice(0,n).join(" ")+e.slice(n).join("")},qk=(t,e,n={})=>{if(n.trim!==!1&&t.trim()==="")return"";let r="",i,s,a=Bk(t),o=[""];for(let[u,c]of t.split(" ").entries()){n.trim!==!1&&(o[o.length-1]=o[o.length-1].trimStart());let f=vu(o[o.length-1]);if(u!==0&&(f>=e&&(n.wordWrap===!1||n.trim===!1)&&(o.push(""),f=0),(f>0||n.trim===!1)&&(o[o.length-1]+=" ",f++)),n.hard&&a[u]>e){let d=e-f,h=1+Math.floor((a[u]-d-1)/e);Math.floor((a[u]-1)/e)<h&&o.push(""),xg(o,c,e);continue}if(f+a[u]>e&&f>0&&a[u]>0){if(n.wordWrap===!1&&f<e){xg(o,c,e);continue}o.push("")}if(f+a[u]>e&&n.wordWrap===!1){xg(o,c,e);continue}o[o.length-1]+=c}n.trim!==!1&&(o=o.map(Vk));let l=[...o.join(`
`)];for(let[u,c]of l.entries()){if(r+=c,xp.has(c)){let{groups:d}=new RegExp(`(?:\\${dP}(?<code>\\d+)m|\\${wg}(?<uri>.*)${Rg})`).exec(l.slice(u).join(""))||{groups:{}};if(d.code!==void 0){let h=Number.parseFloat(d.code);i=h===kk?void 0:h}else d.uri!==void 0&&(s=d.uri.length===0?void 0:d.uri)}let f=Lk.codes.get(Number(i));l[u+1]===`
`?(s&&(r+=pP("")),i&&f&&(r+=fP(f))):c===`
`&&(i&&f&&(r+=fP(i)),s&&(r+=pP(s)))}return r};hP.exports=(t,e,n)=>String(t).normalize().replace(/\r\n/g,`
`).split(`
`).map(r=>qk(r,e,n)).join(`
`)});var bP=Y((Ite,yP)=>{"use strict";var jk={right:Yk,center:$k},Uk=0,Rp=1,Wk=2,wp=3,Og=class{constructor(e){var n;this.width=e.width,this.wrap=(n=e.wrap)!==null&&n!==void 0?n:!0,this.rows=[]}span(...e){let n=this.div(...e);n.span=!0}resetOutput(){this.rows=[]}div(...e){if(e.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...e)&&typeof e[0]=="string")return this.applyLayoutDSL(e[0]);let n=e.map(r=>typeof r=="string"?this.colFromString(r):r);return this.rows.push(n),n}shouldApplyLayoutDSL(...e){return e.length===1&&typeof e[0]=="string"&&/[\t\n]/.test(e[0])}applyLayoutDSL(e){let n=e.split(`
`).map(i=>i.split("	")),r=0;return n.forEach(i=>{i.length>1&&_r.stringWidth(i[0])>r&&(r=Math.min(Math.floor(this.width*.5),_r.stringWidth(i[0])))}),n.forEach(i=>{this.div(...i.map((s,a)=>({text:s.trim(),padding:this.measurePadding(s),width:a===0&&i.length>1?r:void 0})))}),this.rows[this.rows.length-1]}colFromString(e){return{text:e,padding:this.measurePadding(e)}}measurePadding(e){let n=_r.stripAnsi(e);return[0,n.match(/\s*$/)[0].length,0,n.match(/^\s*/)[0].length]}toString(){let e=[];return this.rows.forEach(n=>{this.rowToString(n,e)}),e.filter(n=>!n.hidden).map(n=>n.text).join(`
`)}rowToString(e,n){return this.rasterize(e).forEach((r,i)=>{let s="";r.forEach((a,o)=>{let{width:l}=e[o],u=this.negatePadding(e[o]),c=a;if(u>_r.stringWidth(a)&&(c+=" ".repeat(u-_r.stringWidth(a))),e[o].align&&e[o].align!=="left"&&this.wrap){let d=jk[e[o].align];c=d(c,u),_r.stringWidth(c)<u&&(c+=" ".repeat((l||0)-_r.stringWidth(c)-1))}let f=e[o].padding||[0,0,0,0];f[wp]&&(s+=" ".repeat(f[wp])),s+=_P(e[o],c,"| "),s+=c,s+=_P(e[o],c," |"),f[Rp]&&(s+=" ".repeat(f[Rp])),i===0&&n.length>0&&(s=this.renderInline(s,n[n.length-1]))}),n.push({text:s.replace(/ +$/,""),span:e.span})}),n}renderInline(e,n){let r=e.match(/^ */),i=r?r[0].length:0,s=n.text,a=_r.stringWidth(s.trimRight());return n.span?this.wrap?i<a?e:(n.hidden=!0,s.trimRight()+" ".repeat(i-a)+e.trimLeft()):(n.hidden=!0,s+e):e}rasterize(e){let n=[],r=this.columnWidths(e),i;return e.forEach((s,a)=>{s.width=r[a],this.wrap?i=_r.wrap(s.text,this.negatePadding(s),{hard:!0}).split(`
`):i=s.text.split(`
`),s.border&&(i.unshift("."+"-".repeat(this.negatePadding(s)+2)+"."),i.push("'"+"-".repeat(this.negatePadding(s)+2)+"'")),s.padding&&(i.unshift(...new Array(s.padding[Uk]||0).fill("")),i.push(...new Array(s.padding[Wk]||0).fill(""))),i.forEach((o,l)=>{n[l]||n.push([]);let u=n[l];for(let c=0;c<a;c++)u[c]===void 0&&u.push("");u.push(o)})}),n}negatePadding(e){let n=e.width||0;return e.padding&&(n-=(e.padding[wp]||0)+(e.padding[Rp]||0)),e.border&&(n-=4),n}columnWidths(e){if(!this.wrap)return e.map(a=>a.width||_r.stringWidth(a.text));let n=e.length,r=this.width,i=e.map(a=>{if(a.width)return n--,r-=a.width,a.width}),s=n?Math.floor(r/n):0;return i.map((a,o)=>a===void 0?Math.max(s,Gk(e[o])):a)}};function _P(t,e,n){return t.border?/[.']-+[.']/.test(e)?"":e.trim().length!==0?n:"  ":""}function Gk(t){let e=t.padding||[],n=1+(e[wp]||0)+(e[Rp]||0);return t.border?n+4:n}function Hk(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}function Yk(t,e){t=t.trim();let n=_r.stringWidth(t);return n<e?" ".repeat(e-n)+t:t}function $k(t,e){t=t.trim();let n=_r.stringWidth(t);return n>=e?t:" ".repeat(e-n>>1)+t}var _r;function Kk(t,e){return _r=e,new Og({width:t?.width||Hk(),wrap:t?.wrap})}var zk=Ap(),Xk=Sp(),Qk=gP();function Jk(t){return Kk(t,{stringWidth:zk,stripAnsi:Xk,wrap:Qk})}yP.exports=Jk});var CP=Y((Ete,NP)=>{var{dirname:TP,resolve:vP}=require("path"),{readdirSync:Zk,statSync:eM}=require("fs");NP.exports=function(t,e){let n=vP(".",t),r;for(eM(n).isDirectory()||(n=TP(n));;){if(r=e(n,Zk(n)),r)return vP(n,r);if(n=TP(r=n),r===n)break}}});var DP=Y((xte,PP)=>{"use strict";PP.exports=function(e){if(e===void 0&&(e=2),e>=Error.stackTraceLimit)throw new TypeError("getCallerFile(position) requires position be less then Error.stackTraceLimit but position was: `"+e+"` and Error.stackTraceLimit was: `"+Error.stackTraceLimit+"`");var n=Error.prepareStackTrace;Error.prepareStackTrace=function(i,s){return s};var r=new Error().stack;if(Error.prepareStackTrace=n,r!==null&&typeof r=="object")return r[e]?r[e].getFileName():void 0}});var EP=Y((Rte,Lg)=>{"use strict";var SP=require("fs"),tM=require("path").join,nM=require("path").resolve,AP=require("path").dirname,Fg={extensions:["js","json","coffee"],recurse:!0,rename:function(t){return t},visit:function(t){return t}};function rM(t,e,n){return new RegExp("\\.("+n.extensions.join("|")+")$","i").test(e)&&!(n.include&&n.include instanceof RegExp&&!n.include.test(t))&&!(n.include&&typeof n.include=="function"&&!n.include(t,e))&&!(n.exclude&&n.exclude instanceof RegExp&&n.exclude.test(t))&&!(n.exclude&&typeof n.exclude=="function"&&n.exclude(t,e))}function IP(t,e,n){var r={};e&&!n&&typeof e!="string"&&(n=e,e=null),n=n||{};for(var i in Fg)typeof n[i]>"u"&&(n[i]=Fg[i]);return e=e?nM(AP(t.filename),e):AP(t.filename),SP.readdirSync(e).forEach(function(s){var a=tM(e,s),o,l,u;SP.statSync(a).isDirectory()&&n.recurse?(o=IP(t,a,n),Object.keys(o).length&&(r[n.rename(s,a,s)]=o)):a!==t.filename&&rM(a,s,n)&&(l=s.substring(0,s.lastIndexOf(".")),u=t.require(a),r[n.rename(l,a,s)]=n.visit(u,a,s)||u)}),r}Lg.exports=IP;Lg.exports.defaults=Fg});var aD=Y((wte,sD)=>{"use strict";var xP=require("assert"),Yt=class extends Error{constructor(e){super(e||"yargs error"),this.name="YError",Error.captureStackTrace(this,Yt)}},Nu,kg=[];function Up(t,e,n,r){Nu=r;let i={};if(Object.prototype.hasOwnProperty.call(t,"extends")){if(typeof t.extends!="string")return i;let s=/\.json|\..*rc$/.test(t.extends),a=null;if(s)a=function(o,l){return Nu.path.resolve(o,l)}(e,t.extends);else try{a=require.resolve(t.extends)}catch{return t}(function(o){if(kg.indexOf(o)>-1)throw new Yt(`Circular extended configurations: '${o}'.`)})(a),kg.push(a),i=s?JSON.parse(Nu.readFileSync(a,"utf8")):require(t.extends),delete t.extends,i=Up(i,Nu.path.dirname(a),n,Nu)}return kg=[],n?nD(i,t):Object.assign({},i,t)}function nD(t,e){let n={};function r(i){return i&&typeof i=="object"&&!Array.isArray(i)}Object.assign(n,t);for(let i of Object.keys(e))r(e[i])&&r(n[i])?n[i]=nD(t[i],e[i]):n[i]=e[i];return n}function ll(t){let e=t.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,r=e.shift();if(!r)throw new Error(`No command found in: ${t}`);let i={cmd:r.replace(n,""),demanded:[],optional:[]};return e.forEach((s,a)=>{let o=!1;s=s.replace(/\s/g,""),/\.+[\]>]/.test(s)&&a===e.length-1&&(o=!0),/^\[/.test(s)?i.optional.push({cmd:s.replace(n,"").split("|"),variadic:o}):i.demanded.push({cmd:s.replace(n,"").split("|"),variadic:o})}),i}var iM=["first","second","third","fourth","fifth","sixth"];function ce(t,e,n){try{let r=0,[i,s,a]=typeof t=="object"?[{demanded:[],optional:[]},t,e]:[ll(`cmd ${t}`),e,n],o=[].slice.call(s);for(;o.length&&o[o.length-1]===void 0;)o.pop();let l=a||o.length;if(l<i.demanded.length)throw new Yt(`Not enough arguments provided. Expected ${i.demanded.length} but received ${o.length}.`);let u=i.demanded.length+i.optional.length;if(l>u)throw new Yt(`Too many arguments provided. Expected max ${u} but received ${l}.`);i.demanded.forEach(c=>{let f=RP(o.shift());c.cmd.filter(d=>d===f||d==="*").length===0&&wP(f,c.cmd,r),r+=1}),i.optional.forEach(c=>{if(o.length===0)return;let f=RP(o.shift());c.cmd.filter(d=>d===f||d==="*").length===0&&wP(f,c.cmd,r),r+=1})}catch(r){console.warn(r.stack)}}function RP(t){return Array.isArray(t)?"array":t===null?"null":typeof t}function wP(t,e,n){throw new Yt(`Invalid ${iM[n]||"manyith"} argument. Expected ${e.join(" or ")} but received ${t}.`)}function $t(t){return!!t&&!!t.then&&typeof t.then=="function"}function di(t,e,n,r){n.assert.notStrictEqual(t,e,r)}function OP(t,e){e.assert.strictEqual(typeof t,"string")}function jp(t){return Object.keys(t)}function ol(t={},e=()=>!0){let n={};return jp(t).forEach(r=>{e(r,t[r])&&(n[r]=t[r])}),n}function rD(){return process.versions.electron&&!process.defaultApp?0:1}function iD(){return process.argv[rD()]}var sM=Object.freeze({__proto__:null,hideBin:function(t){return t.slice(rD()+1)},getProcessArgvBin:iD});function v(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function ue(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}var Qg=class{constructor(e){this.globalMiddleware=[],this.frozens=[],this.yargs=e}addMiddleware(e,n,r=!0,i=!1){if(ce("<array|function> [boolean] [boolean] [boolean]",[e,n,r],arguments.length),Array.isArray(e)){for(let s=0;s<e.length;s++){if(typeof e[s]!="function")throw Error("middleware must be a function");let a=e[s];a.applyBeforeValidation=n,a.global=r}Array.prototype.push.apply(this.globalMiddleware,e)}else if(typeof e=="function"){let s=e;s.applyBeforeValidation=n,s.global=r,s.mutates=i,this.globalMiddleware.push(e)}return this.yargs}addCoerceMiddleware(e,n){let r=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(i=>{let s=[...r[n]||[],n];return!i.option||!s.includes(i.option)}),e.option=n,this.addMiddleware(e,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){let e=this.frozens.pop();e!==void 0&&(this.globalMiddleware=e)}reset(){this.globalMiddleware=this.globalMiddleware.filter(e=>e.global)}};function Su(t,e,n,r){return n.reduce((i,s)=>{if(s.applyBeforeValidation!==r)return i;if(s.mutates){if(s.applied)return i;s.applied=!0}if($t(i))return i.then(a=>Promise.all([a,s(a,e)])).then(([a,o])=>Object.assign(a,o));{let a=s(i,e);return $t(a)?a.then(o=>Object.assign(i,o)):Object.assign(i,a)}},t)}function Au(t,e,n=r=>{throw r}){try{let r=typeof t=="function"?t():t;return $t(r)?r.then(i=>e(i)):e(r)}catch(r){return n(r)}}var rl=/(^\*)|(^\$0)/,Jg=class{constructor(e,n,r,i){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=i,this.usage=e,this.globalMiddleware=r,this.validation=n}addDirectory(e,n,r,i){typeof(i=i||{}).recurse!="boolean"&&(i.recurse=!1),Array.isArray(i.extensions)||(i.extensions=["js"]);let s=typeof i.visit=="function"?i.visit:a=>a;i.visit=(a,o,l)=>{let u=s(a,o,l);if(u){if(this.requireCache.has(o))return u;this.requireCache.add(o),this.addHandler(u)}return u},this.shim.requireDirectory({require:n,filename:r},e,i)}addHandler(e,n,r,i,s,a){let o=[],l=function(u){return u?u.map(c=>(c.applyBeforeValidation=!1,c)):[]}(s);if(i=i||(()=>{}),Array.isArray(e))if(function(u){return u.every(c=>typeof c=="string")}(e))[e,...o]=e;else for(let u of e)this.addHandler(u);else{if(function(u){return typeof u=="object"&&!Array.isArray(u)}(e)){let u=Array.isArray(e.command)||typeof e.command=="string"?e.command:this.moduleName(e);return e.aliases&&(u=[].concat(u).concat(e.aliases)),void this.addHandler(u,this.extractDesc(e),e.builder,e.handler,e.middlewares,e.deprecated)}if(FP(r))return void this.addHandler([e].concat(o),n,r.builder,r.handler,r.middlewares,r.deprecated)}if(typeof e=="string"){let u=ll(e);o=o.map(d=>ll(d).cmd);let c=!1,f=[u.cmd].concat(o).filter(d=>!rl.test(d)||(c=!0,!1));f.length===0&&c&&f.push("$0"),c&&(u.cmd=f[0],o=f.slice(1),e=e.replace(rl,u.cmd)),o.forEach(d=>{this.aliasMap[d]=u.cmd}),n!==!1&&this.usage.command(e,n,c,o,a),this.handlers[u.cmd]={original:e,description:n,handler:i,builder:r||{},middlewares:l,deprecated:a,demanded:u.demanded,optional:u.optional},c&&(this.defaultCommand=this.handlers[u.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(e,n,r,i,s,a){let o=this.handlers[e]||this.handlers[this.aliasMap[e]]||this.defaultCommand,l=n.getInternalMethods().getContext(),u=l.commands.slice(),c=!e;e&&(l.commands.push(e),l.fullCommands.push(o.original));let f=this.applyBuilderUpdateUsageAndParse(c,o,n,r.aliases,u,i,s,a);return $t(f)?f.then(d=>this.applyMiddlewareAndGetResult(c,o,d.innerArgv,l,s,d.aliases,n)):this.applyMiddlewareAndGetResult(c,o,f.innerArgv,l,s,f.aliases,n)}applyBuilderUpdateUsageAndParse(e,n,r,i,s,a,o,l){let u=n.builder,c=r;if(Zg(u)){let f=u(r.getInternalMethods().reset(i),l);if($t(f))return f.then(d=>{var h;return c=(h=d)&&typeof h.getInternalMethods=="function"?d:r,this.parseAndUpdateUsage(e,n,c,s,a,o)})}else(function(f){return typeof f=="object"})(u)&&(c=r.getInternalMethods().reset(i),Object.keys(n.builder).forEach(f=>{c.option(f,u[f])}));return this.parseAndUpdateUsage(e,n,c,s,a,o)}parseAndUpdateUsage(e,n,r,i,s,a){e&&r.getInternalMethods().getUsageInstance().unfreeze(),this.shouldUpdateUsage(r)&&r.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(i,n),n.description);let o=r.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,s,a);return $t(o)?o.then(l=>({aliases:r.parsed.aliases,innerArgv:l})):{aliases:r.parsed.aliases,innerArgv:o}}shouldUpdateUsage(e){return!e.getInternalMethods().getUsageInstance().getUsageDisabled()&&e.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(e,n){let r=rl.test(n.original)?n.original.replace(rl,"").trim():n.original,i=e.filter(s=>!rl.test(s));return i.push(r),`$0 ${i.join(" ")}`}applyMiddlewareAndGetResult(e,n,r,i,s,a,o){let l={};if(s)return r;o.getInternalMethods().getHasOutput()||(l=this.populatePositionals(n,r,i,o));let u=this.globalMiddleware.getMiddleware().slice(0).concat(n.middlewares);if(r=Su(r,o,u,!0),!o.getInternalMethods().getHasOutput()){let c=o.getInternalMethods().runValidation(a,l,o.parsed.error,e);r=Au(r,f=>(c(f),f))}if(n.handler&&!o.getInternalMethods().getHasOutput()){o.getInternalMethods().setHasOutput();let c=!!o.getOptions().configuration["populate--"];o.getInternalMethods().postProcess(r,c,!1,!1),r=Au(r=Su(r,o,u,!1),f=>{let d=n.handler(f);return $t(d)?d.then(()=>f):f}),e||o.getInternalMethods().getUsageInstance().cacheHelpMessage(),$t(r)&&!o.getInternalMethods().hasParseCallback()&&r.catch(f=>{try{o.getInternalMethods().getUsageInstance().fail(null,f)}catch{}})}return e||(i.commands.pop(),i.fullCommands.pop()),r}populatePositionals(e,n,r,i){n._=n._.slice(r.commands.length);let s=e.demanded.slice(0),a=e.optional.slice(0),o={};for(this.validation.positionalCount(s.length,n._.length);s.length;){let l=s.shift();this.populatePositional(l,n,o)}for(;a.length;){let l=a.shift();this.populatePositional(l,n,o)}return n._=r.commands.concat(n._.map(l=>""+l)),this.postProcessPositionals(n,o,this.cmdToParseOptions(e.original),i),o}populatePositional(e,n,r){let i=e.cmd[0];e.variadic?r[i]=n._.splice(0).map(String):n._.length&&(r[i]=[String(n._.shift())])}cmdToParseOptions(e){let n={array:[],default:{},alias:{},demand:{}},r=ll(e);return r.demanded.forEach(i=>{let[s,...a]=i.cmd;i.variadic&&(n.array.push(s),n.default[s]=[]),n.alias[s]=a,n.demand[s]=!0}),r.optional.forEach(i=>{let[s,...a]=i.cmd;i.variadic&&(n.array.push(s),n.default[s]=[]),n.alias[s]=a}),n}postProcessPositionals(e,n,r,i){let s=Object.assign({},i.getOptions());s.default=Object.assign(r.default,s.default);for(let u of Object.keys(r.alias))s.alias[u]=(s.alias[u]||[]).concat(r.alias[u]);s.array=s.array.concat(r.array),s.config={};let a=[];if(Object.keys(n).forEach(u=>{n[u].map(c=>{s.configuration["unknown-options-as-args"]&&(s.key[u]=!0),a.push(`--${u}`),a.push(c)})}),!a.length)return;let o=Object.assign({},s.configuration,{"populate--":!1}),l=this.shim.Parser.detailed(a,Object.assign({},s,{configuration:o}));if(l.error)i.getInternalMethods().getUsageInstance().fail(l.error.message,l.error);else{let u=Object.keys(n);Object.keys(n).forEach(f=>{u.push(...l.aliases[f])});let c=i.getOptions().default;Object.keys(l.argv).forEach(f=>{u.includes(f)&&(n[f]||(n[f]=l.argv[f]),!Object.prototype.hasOwnProperty.call(c,f)&&Object.prototype.hasOwnProperty.call(e,f)&&Object.prototype.hasOwnProperty.call(l.argv,f)&&(Array.isArray(e[f])||Array.isArray(l.argv[f]))?e[f]=[].concat(e[f],l.argv[f]):e[f]=l.argv[f])})}}runDefaultBuilderOn(e){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(e)){let r=rl.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");e.getInternalMethods().getUsageInstance().usage(r,this.defaultCommand.description)}let n=this.defaultCommand.builder;if(Zg(n))return n(e,!0);FP(n)||Object.keys(n).forEach(r=>{e.option(r,n[r])})}moduleName(e){let n=function(r){if(typeof require>"u")return null;for(let i,s=0,a=Object.keys(require.cache);s<a.length;s++)if(i=require.cache[a[s]],i.exports===r)return i;return null}(e);if(!n)throw new Error(`No command name given for module: ${this.shim.inspect(e)}`);return this.commandFromFilename(n.filename)}commandFromFilename(e){return this.shim.path.basename(e,this.shim.path.extname(e))}extractDesc({describe:e,description:n,desc:r}){for(let i of[e,n,r]){if(typeof i=="string"||i===!1)return i;di(i,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){let e=this.frozens.pop();di(e,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=e}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}};function FP(t){return typeof t=="object"&&!!t.builder&&typeof t.handler=="function"}function Zg(t){return typeof t=="function"}function Du(t){typeof process<"u"&&[process.stdout,process.stderr].forEach(e=>{let n=e;n._handle&&n.isTTY&&typeof n._handle.setBlocking=="function"&&n._handle.setBlocking(t)})}function aM(t){return typeof t=="boolean"}function oM(t,e){let n=e.y18n.__,r={},i=[];r.failFn=function(H){i.push(H)};let s=null,a=!0;r.showHelpOnFail=function(H=!0,ae){let[ee,De]=typeof H=="string"?[!0,H]:[H,ae];return s=De,a=ee,r};let o=!1;r.fail=function(H,ae){let ee=t.getInternalMethods().getLoggerInstance();if(!i.length){if(t.getExitProcess()&&Du(!0),o||(o=!0,a&&(t.showHelp("error"),ee.error()),(H||ae)&&ee.error(H||ae),s&&((H||ae)&&ee.error(""),ee.error(s))),ae=ae||new Yt(H),t.getExitProcess())return t.exit(1);if(t.getInternalMethods().hasParseCallback())return t.exit(1,ae);throw ae}for(let De=i.length-1;De>=0;--De){let Ye=i[De];if(aM(Ye)){if(ae)throw ae;if(H)throw Error(H)}else Ye(H,ae,r)}};let l=[],u=!1;r.usage=(H,ae)=>H===null?(u=!0,l=[],r):(u=!1,l.push([H,ae||""]),r),r.getUsage=()=>l,r.getUsageDisabled=()=>u,r.getPositionalGroupName=()=>n("Positionals:");let c=[];r.example=(H,ae)=>{c.push([H,ae||""])};let f=[];r.command=function(H,ae,ee,De,Ye=!1){ee&&(f=f.map(Ge=>(Ge[2]=!1,Ge))),f.push([H,ae||"",ee,De,Ye])},r.getCommands=()=>f;let d={};r.describe=function(H,ae){Array.isArray(H)?H.forEach(ee=>{r.describe(ee,ae)}):typeof H=="object"?Object.keys(H).forEach(ee=>{r.describe(ee,H[ee])}):d[H]=ae},r.getDescriptions=()=>d;let h=[];r.epilog=H=>{h.push(H)};let p,m=!1;function g(){return m||(p=function(){return e.process.stdColumns?Math.min(80,e.process.stdColumns):80}(),m=!0),p}r.wrap=H=>{m=!0,p=H};let T="__yargsString__:";function b(H,ae,ee){let De=0;return Array.isArray(H)||(H=Object.values(H).map(Ye=>[Ye])),H.forEach(Ye=>{De=Math.max(e.stringWidth(ee?`${ee} ${Op(Ye[0])}`:Op(Ye[0]))+LP(Ye[0]),De)}),ae&&(De=Math.min(De,parseInt((.5*ae).toString(),10))),De}let S;function B(H){return t.getOptions().hiddenOptions.indexOf(H)<0||t.parsed.argv[t.getOptions().showHiddenOpt]}function z(H,ae){let ee=`[${n("default:")} `;if(H===void 0&&!ae)return null;if(ae)ee+=ae;else switch(typeof H){case"string":ee+=`"${H}"`;break;case"object":ee+=JSON.stringify(H);break;default:ee+=H}return`${ee}]`}r.deferY18nLookup=H=>T+H,r.help=function(){if(S)return S;(function(){let le=t.getDemandedOptions(),Ae=t.getOptions();(Object.keys(Ae.alias)||[]).forEach(Ve=>{Ae.alias[Ve].forEach(K=>{d[K]&&r.describe(Ve,d[K]),K in le&&t.demandOption(Ve,le[K]),Ae.boolean.includes(K)&&t.boolean(Ve),Ae.count.includes(K)&&t.count(Ve),Ae.string.includes(K)&&t.string(Ve),Ae.normalize.includes(K)&&t.normalize(Ve),Ae.array.includes(K)&&t.array(Ve),Ae.number.includes(K)&&t.number(Ve)})})})();let H=t.customScriptName?t.$0:e.path.basename(t.$0),ae=t.getDemandedOptions(),ee=t.getDemandedCommands(),De=t.getDeprecatedOptions(),Ye=t.getGroups(),Ge=t.getOptions(),At=[];At=At.concat(Object.keys(d)),At=At.concat(Object.keys(ae)),At=At.concat(Object.keys(ee)),At=At.concat(Object.keys(Ge.default)),At=At.filter(B),At=Object.keys(At.reduce((le,Ae)=>(Ae!=="_"&&(le[Ae]=!0),le),{}));let Qn=g(),at=e.cliui({width:Qn,wrap:!!Qn});if(!u){if(l.length)l.forEach(le=>{at.div({text:`${le[0].replace(/\$0/g,H)}`}),le[1]&&at.div({text:`${le[1]}`,padding:[1,0,0,0]})}),at.div();else if(f.length){let le=null;le=ee._?`${H} <${n("command")}>
`:`${H} [${n("command")}]
`,at.div(`${le}`)}}if(f.length>1||f.length===1&&!f[0][2]){at.div(n("Commands:"));let le=t.getInternalMethods().getContext(),Ae=le.commands.length?`${le.commands.join(" ")} `:"";t.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(f=f.sort((K,ot)=>K[0].localeCompare(ot[0])));let Ve=H?`${H} `:"";f.forEach(K=>{let ot=`${Ve}${Ae}${K[0].replace(/^\$0 ?/,"")}`;at.span({text:ot,padding:[0,2,0,2],width:b(f,Qn,`${H}${Ae}`)+4},{text:K[1]});let tt=[];K[2]&&tt.push(`[${n("default")}]`),K[3]&&K[3].length&&tt.push(`[${n("aliases:")} ${K[3].join(", ")}]`),K[4]&&(typeof K[4]=="string"?tt.push(`[${n("deprecated: %s",K[4])}]`):tt.push(`[${n("deprecated")}]`)),tt.length?at.div({text:tt.join(" "),padding:[0,0,0,2],align:"right"}):at.div()}),at.div()}let Jn=(Object.keys(Ge.alias)||[]).concat(Object.keys(t.parsed.newAliases)||[]);At=At.filter(le=>!t.parsed.newAliases[le]&&Jn.every(Ae=>(Ge.alias[Ae]||[]).indexOf(le)===-1));let mi=n("Options:");Ye[mi]||(Ye[mi]=[]),function(le,Ae,Ve,K){let ot=[],tt=null;Object.keys(Ve).forEach(It=>{ot=ot.concat(Ve[It])}),le.forEach(It=>{tt=[It].concat(Ae[It]),tt.some(Pn=>ot.indexOf(Pn)!==-1)||Ve[K].push(It)})}(At,Ge.alias,Ye,mi);let Jt=le=>/^--/.test(Op(le)),vr=Object.keys(Ye).filter(le=>Ye[le].length>0).map(le=>({groupName:le,normalizedKeys:Ye[le].filter(B).map(Ae=>{if(Jn.includes(Ae))return Ae;for(let Ve,K=0;(Ve=Jn[K])!==void 0;K++)if((Ge.alias[Ve]||[]).includes(Ae))return Ve;return Ae})})).filter(({normalizedKeys:le})=>le.length>0).map(({groupName:le,normalizedKeys:Ae})=>{let Ve=Ae.reduce((K,ot)=>(K[ot]=[ot].concat(Ge.alias[ot]||[]).map(tt=>le===r.getPositionalGroupName()?tt:(/^[0-9]$/.test(tt)?Ge.boolean.includes(ot)?"-":"--":tt.length>1?"--":"-")+tt).sort((tt,It)=>Jt(tt)===Jt(It)?0:Jt(tt)?1:-1).join(", "),K),{});return{groupName:le,normalizedKeys:Ae,switches:Ve}});if(vr.filter(({groupName:le})=>le!==r.getPositionalGroupName()).some(({normalizedKeys:le,switches:Ae})=>!le.every(Ve=>Jt(Ae[Ve])))&&vr.filter(({groupName:le})=>le!==r.getPositionalGroupName()).forEach(({normalizedKeys:le,switches:Ae})=>{le.forEach(Ve=>{var K,ot;Jt(Ae[Ve])&&(Ae[Ve]=(K=Ae[Ve],ot=4,n_(K)?{text:K.text,indentation:K.indentation+ot}:{text:K,indentation:ot}))})}),vr.forEach(({groupName:le,normalizedKeys:Ae,switches:Ve})=>{at.div(le),Ae.forEach(K=>{let ot=Ve[K],tt=d[K]||"",It=null;tt.includes(T)&&(tt=n(tt.substring(T.length))),Ge.boolean.includes(K)&&(It=`[${n("boolean")}]`),Ge.count.includes(K)&&(It=`[${n("count")}]`),Ge.string.includes(K)&&(It=`[${n("string")}]`),Ge.normalize.includes(K)&&(It=`[${n("string")}]`),Ge.array.includes(K)&&(It=`[${n("array")}]`),Ge.number.includes(K)&&(It=`[${n("number")}]`);let Pn=[K in De?(Li=De[K],typeof Li=="string"?`[${n("deprecated: %s",Li)}]`:`[${n("deprecated")}]`):null,It,K in ae?`[${n("required")}]`:null,Ge.choices&&Ge.choices[K]?`[${n("choices:")} ${r.stringifiedValues(Ge.choices[K])}]`:null,z(Ge.default[K],Ge.defaultDescription[K])].filter(Boolean).join(" ");var Li;at.span({text:Op(ot),padding:[0,2,0,2+LP(ot)],width:b(Ve,Qn)+4},tt),Pn?at.div({text:Pn,padding:[0,0,0,2],align:"right"}):at.div()}),at.div()}),c.length&&(at.div(n("Examples:")),c.forEach(le=>{le[0]=le[0].replace(/\$0/g,H)}),c.forEach(le=>{le[1]===""?at.div({text:le[0],padding:[0,2,0,2]}):at.div({text:le[0],padding:[0,2,0,2],width:b(c,Qn)+4},{text:le[1]})}),at.div()),h.length>0){let le=h.map(Ae=>Ae.replace(/\$0/g,H)).join(`
`);at.div(`${le}
`)}return at.toString().replace(/\s*$/,"")},r.cacheHelpMessage=function(){S=this.help()},r.clearCachedHelpMessage=function(){S=void 0},r.hasCachedHelpMessage=function(){return!!S},r.showHelp=H=>{let ae=t.getInternalMethods().getLoggerInstance();H||(H="error"),(typeof H=="function"?H:ae[H])(r.help())},r.functionDescription=H=>["(",H.name?e.Parser.decamelize(H.name,"-"):n("generated-value"),")"].join(""),r.stringifiedValues=function(H,ae){let ee="",De=ae||", ",Ye=[].concat(H);return H&&Ye.length&&Ye.forEach(Ge=>{ee.length&&(ee+=De),ee+=JSON.stringify(Ge)}),ee};let ne=null;r.version=H=>{ne=H},r.showVersion=H=>{let ae=t.getInternalMethods().getLoggerInstance();H||(H="error"),(typeof H=="function"?H:ae[H])(ne)},r.reset=function(H){return s=null,o=!1,l=[],u=!1,h=[],c=[],f=[],d=ol(d,ae=>!H[ae]),r};let Te=[];return r.freeze=function(){Te.push({failMessage:s,failureOutput:o,usages:l,usageDisabled:u,epilogs:h,examples:c,commands:f,descriptions:d})},r.unfreeze=function(){let H=Te.pop();H&&({failMessage:s,failureOutput:o,usages:l,usageDisabled:u,epilogs:h,examples:c,commands:f,descriptions:d}=H)},r}function n_(t){return typeof t=="object"}function LP(t){return n_(t)?t.indentation:0}function Op(t){return n_(t)?t.text:t}var e_=class{constructor(e,n,r,i){var s,a,o;this.yargs=e,this.usage=n,this.command=r,this.shim=i,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.zshShell=(o=((s=this.shim.getEnv("SHELL"))===null||s===void 0?void 0:s.includes("zsh"))||((a=this.shim.getEnv("ZSH_NAME"))===null||a===void 0?void 0:a.includes("zsh")))!==null&&o!==void 0&&o}defaultCompletion(e,n,r,i){let s=this.command.getCommandHandlers();for(let o=0,l=e.length;o<l;++o)if(s[e[o]]&&s[e[o]].builder){let u=s[e[o]].builder;if(Zg(u)){let c=this.yargs.getInternalMethods().reset();return u(c,!0),c.argv}}let a=[];this.commandCompletions(a,e,r),this.optionCompletions(a,e,n,r),this.choicesCompletions(a,e,n,r),i(null,a)}commandCompletions(e,n,r){let i=this.yargs.getInternalMethods().getContext().commands;r.match(/^-/)||i[i.length-1]===r||this.previousArgHasChoices(n)||this.usage.getCommands().forEach(s=>{let a=ll(s[0]).cmd;if(n.indexOf(a)===-1)if(this.zshShell){let o=s[1]||"";e.push(a.replace(/:/g,"\\:")+":"+o)}else e.push(a)})}optionCompletions(e,n,r,i){if((i.match(/^-/)||i===""&&e.length===0)&&!this.previousArgHasChoices(n)){let s=this.yargs.getOptions(),a=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(s.key).forEach(o=>{let l=!!s.configuration["boolean-negation"]&&s.boolean.includes(o);a.includes(o)||this.argsContainKey(n,r,o,l)||(this.completeOptionKey(o,e,i),l&&s.default[o]&&this.completeOptionKey(`no-${o}`,e,i))})}}choicesCompletions(e,n,r,i){if(this.previousArgHasChoices(n)){let s=this.getPreviousArgChoices(n);s&&s.length>0&&e.push(...s)}}getPreviousArgChoices(e){if(e.length<1)return;let n=e[e.length-1],r="";if(!n.startsWith("--")&&e.length>1&&(r=n,n=e[e.length-2]),!n.startsWith("--"))return;let i=n.replace(/-/g,""),s=this.yargs.getOptions();return Object.keys(s.key).some(a=>a===i)&&Array.isArray(s.choices[i])?s.choices[i].filter(a=>!r||a.startsWith(r)):void 0}previousArgHasChoices(e){let n=this.getPreviousArgChoices(e);return n!==void 0&&n.length>0}argsContainKey(e,n,r,i){if(e.indexOf(`--${r}`)!==-1||i&&e.indexOf(`--no-${r}`)!==-1)return!0;if(this.aliases){for(let s of this.aliases[r])if(n[s]!==void 0)return!0}return!1}completeOptionKey(e,n,r){let i=this.usage.getDescriptions(),s=!/^--/.test(r)&&(a=>/^[^0-9]$/.test(a))(e)?"-":"--";if(this.zshShell){let a=i[e]||"";n.push(s+`${e.replace(/:/g,"\\:")}:${a.replace("__yargsString__:","")}`)}else n.push(s+e)}customCompletion(e,n,r,i){if(di(this.customCompletionFunction,null,this.shim),this.customCompletionFunction.length<3){let s=this.customCompletionFunction(r,n);return $t(s)?s.then(a=>{this.shim.process.nextTick(()=>{i(null,a)})}).catch(a=>{this.shim.process.nextTick(()=>{i(a,void 0)})}):i(null,s)}return function(s){return s.length>3}(this.customCompletionFunction)?this.customCompletionFunction(r,n,(s=i)=>this.defaultCompletion(e,n,r,s),s=>{i(null,s)}):this.customCompletionFunction(r,n,s=>{i(null,s)})}getCompletion(e,n){let r=e.length?e[e.length-1]:"",i=this.yargs.parse(e,!0),s=this.customCompletionFunction?a=>this.customCompletion(e,a,r,n):a=>this.defaultCompletion(e,a,r,n);return $t(i)?i.then(s):s(i)}generateCompletionScript(e,n){let r=this.zshShell?`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zsh_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`:`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,i=this.shim.path.basename(e);return e.match(/\.js$/)&&(e=`./${e}`),r=r.replace(/{{app_name}}/g,i),r=r.replace(/{{completion_command}}/g,n),r.replace(/{{app_path}}/g,e)}registerFunction(e){this.customCompletionFunction=e}setParsed(e){this.aliases=e.aliases}};function lM(t,e){if(t.length===0)return e.length;if(e.length===0)return t.length;let n=[],r,i;for(r=0;r<=e.length;r++)n[r]=[r];for(i=0;i<=t.length;i++)n[0][i]=i;for(r=1;r<=e.length;r++)for(i=1;i<=t.length;i++)e.charAt(r-1)===t.charAt(i-1)?n[r][i]=n[r-1][i-1]:r>1&&i>1&&e.charAt(r-2)===t.charAt(i-1)&&e.charAt(r-1)===t.charAt(i-2)?n[r][i]=n[r-2][i-2]+1:n[r][i]=Math.min(n[r-1][i-1]+1,Math.min(n[r][i-1]+1,n[r-1][i]+1));return n[e.length][t.length]}var kP=["$0","--","_"],Ft,Ea,Cu,Gr,yr,Fp,js,xa,Lp,Hr,kp,Yr,Oi,br,$r,il,un,me,Mp,Bp,Tr,Ra,sl,wa,Us,Vp,Pe,Oa,Fa,La,we,Fi,St,MP=Symbol("copyDoubleDash"),BP=Symbol("copyDoubleDash"),Mg=Symbol("deleteFromParserHintObject"),VP=Symbol("emitWarning"),qP=Symbol("freeze"),jP=Symbol("getDollarZero"),ka=Symbol("getParserConfiguration"),Bg=Symbol("guessLocale"),UP=Symbol("guessVersion"),WP=Symbol("parsePositionalNumbers"),Vg=Symbol("pkgUp"),Ws=Symbol("populateParserHintArray"),al=Symbol("populateParserHintSingleValueDictionary"),qg=Symbol("populateParserHintArrayDictionary"),jg=Symbol("populateParserHintDictionary"),Ug=Symbol("sanitizeKey"),Wg=Symbol("setKey"),Gg=Symbol("unfreeze"),GP=Symbol("validateAsync"),HP=Symbol("getCommandInstance"),YP=Symbol("getContext"),$P=Symbol("getHasOutput"),KP=Symbol("getLoggerInstance"),zP=Symbol("getParseContext"),XP=Symbol("getUsageInstance"),QP=Symbol("getValidationInstance"),qp=Symbol("hasParseCallback"),Ma=Symbol("postProcess"),JP=Symbol("rebase"),Hg=Symbol("reset"),Pu=Symbol("runYargsParserAndExecuteCommands"),Yg=Symbol("runValidation"),ZP=Symbol("setHasOutput"),Ba=Symbol("kTrackManuallySetKeys"),t_=class{constructor(e=[],n,r,i){this.customScriptName=!1,this.parsed=!1,Ft.set(this,void 0),Ea.set(this,void 0),Cu.set(this,{commands:[],fullCommands:[]}),Gr.set(this,null),yr.set(this,null),Fp.set(this,"show-hidden"),js.set(this,null),xa.set(this,!0),Lp.set(this,{}),Hr.set(this,!0),kp.set(this,[]),Yr.set(this,void 0),Oi.set(this,{}),br.set(this,!1),$r.set(this,null),il.set(this,void 0),un.set(this,""),me.set(this,void 0),Mp.set(this,void 0),Bp.set(this,{}),Tr.set(this,null),Ra.set(this,null),sl.set(this,{}),wa.set(this,{}),Us.set(this,void 0),Vp.set(this,!1),Pe.set(this,void 0),Oa.set(this,!1),Fa.set(this,!1),La.set(this,!1),we.set(this,void 0),Fi.set(this,null),St.set(this,void 0),ue(this,Pe,i,"f"),ue(this,Us,e,"f"),ue(this,Ea,n,"f"),ue(this,Mp,r,"f"),ue(this,Yr,new Qg(this),"f"),this.$0=this[jP](),this[Hg](),ue(this,Ft,v(this,Ft,"f"),"f"),ue(this,we,v(this,we,"f"),"f"),ue(this,St,v(this,St,"f"),"f"),ue(this,me,v(this,me,"f"),"f"),v(this,me,"f").showHiddenOpt=v(this,Fp,"f"),ue(this,il,this[BP](),"f")}addHelpOpt(e,n){return ce("[string|boolean] [string]",[e,n],arguments.length),v(this,$r,"f")&&(this[Mg](v(this,$r,"f")),ue(this,$r,null,"f")),e===!1&&n===void 0||(ue(this,$r,typeof e=="string"?e:"help","f"),this.boolean(v(this,$r,"f")),this.describe(v(this,$r,"f"),n||v(this,we,"f").deferY18nLookup("Show help"))),this}help(e,n){return this.addHelpOpt(e,n)}addShowHiddenOpt(e,n){if(ce("[string|boolean] [string]",[e,n],arguments.length),e===!1&&n===void 0)return this;let r=typeof e=="string"?e:v(this,Fp,"f");return this.boolean(r),this.describe(r,n||v(this,we,"f").deferY18nLookup("Show hidden options")),v(this,me,"f").showHiddenOpt=r,this}showHidden(e,n){return this.addShowHiddenOpt(e,n)}alias(e,n){return ce("<object|string|array> [string|array]",[e,n],arguments.length),this[qg](this.alias.bind(this),"alias",e,n),this}array(e){return ce("<array|string>",[e],arguments.length),this[Ws]("array",e),this[Ba](e),this}boolean(e){return ce("<array|string>",[e],arguments.length),this[Ws]("boolean",e),this[Ba](e),this}check(e,n){return ce("<function> [boolean]",[e,n],arguments.length),this.middleware((r,i)=>Au(()=>e(r,i.getOptions()),s=>(s?(typeof s=="string"||s instanceof Error)&&v(this,we,"f").fail(s.toString(),s):v(this,we,"f").fail(v(this,Pe,"f").y18n.__("Argument check failed: %s",e.toString())),r),s=>(v(this,we,"f").fail(s.message?s.message:s.toString(),s),r)),!1,n),this}choices(e,n){return ce("<object|string|array> [string|array]",[e,n],arguments.length),this[qg](this.choices.bind(this),"choices",e,n),this}coerce(e,n){if(ce("<object|string|array> [function]",[e,n],arguments.length),Array.isArray(e)){if(!n)throw new Yt("coerce callback must be provided");for(let r of e)this.coerce(r,n);return this}if(typeof e=="object"){for(let r of Object.keys(e))this.coerce(r,e[r]);return this}if(!n)throw new Yt("coerce callback must be provided");return v(this,me,"f").key[e]=!0,v(this,Yr,"f").addCoerceMiddleware((r,i)=>{let s;return Au(()=>(s=i.getAliases(),n(r[e])),a=>{if(r[e]=a,s[e])for(let o of s[e])r[o]=a;return r},a=>{throw new Yt(a.message)})},e),this}conflicts(e,n){return ce("<string|object> [string|array]",[e,n],arguments.length),v(this,St,"f").conflicts(e,n),this}config(e="config",n,r){return ce("[object|string] [string|function] [function]",[e,n,r],arguments.length),typeof e!="object"||Array.isArray(e)?(typeof n=="function"&&(r=n,n=void 0),this.describe(e,n||v(this,we,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(e)?e:[e]).forEach(i=>{v(this,me,"f").config[i]=r||!0}),this):(e=Up(e,v(this,Ea,"f"),this[ka]()["deep-merge-config"]||!1,v(this,Pe,"f")),v(this,me,"f").configObjects=(v(this,me,"f").configObjects||[]).concat(e),this)}completion(e,n,r){return ce("[string] [string|boolean|function] [function]",[e,n,r],arguments.length),typeof n=="function"&&(r=n,n=void 0),ue(this,yr,e||v(this,yr,"f")||"completion","f"),n||n===!1||(n="generate completion script"),this.command(v(this,yr,"f"),n),r&&v(this,Gr,"f").registerFunction(r),this}command(e,n,r,i,s,a){return ce("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[e,n,r,i,s,a],arguments.length),v(this,Ft,"f").addHandler(e,n,r,i,s,a),this}commands(e,n,r,i,s,a){return this.command(e,n,r,i,s,a)}commandDir(e,n){ce("<string> [object]",[e,n],arguments.length);let r=v(this,Mp,"f")||v(this,Pe,"f").require;return v(this,Ft,"f").addDirectory(e,r,v(this,Pe,"f").getCallerFile(),n),this}count(e){return ce("<array|string>",[e],arguments.length),this[Ws]("count",e),this[Ba](e),this}default(e,n,r){return ce("<object|string|array> [*] [string]",[e,n,r],arguments.length),r&&(OP(e,v(this,Pe,"f")),v(this,me,"f").defaultDescription[e]=r),typeof n=="function"&&(OP(e,v(this,Pe,"f")),v(this,me,"f").defaultDescription[e]||(v(this,me,"f").defaultDescription[e]=v(this,we,"f").functionDescription(n)),n=n.call()),this[al](this.default.bind(this),"default",e,n),this}defaults(e,n,r){return this.default(e,n,r)}demandCommand(e=1,n,r,i){return ce("[number] [number|string] [string|null|undefined] [string|null|undefined]",[e,n,r,i],arguments.length),typeof n!="number"&&(r=n,n=1/0),this.global("_",!1),v(this,me,"f").demandedCommands._={min:e,max:n,minMsg:r,maxMsg:i},this}demand(e,n,r){return Array.isArray(n)?(n.forEach(i=>{di(r,!0,v(this,Pe,"f")),this.demandOption(i,r)}),n=1/0):typeof n!="number"&&(r=n,n=1/0),typeof e=="number"?(di(r,!0,v(this,Pe,"f")),this.demandCommand(e,n,r,r)):Array.isArray(e)?e.forEach(i=>{di(r,!0,v(this,Pe,"f")),this.demandOption(i,r)}):typeof r=="string"?this.demandOption(e,r):r!==!0&&r!==void 0||this.demandOption(e),this}demandOption(e,n){return ce("<object|string|array> [string]",[e,n],arguments.length),this[al](this.demandOption.bind(this),"demandedOptions",e,n),this}deprecateOption(e,n){return ce("<string> [string|boolean]",[e,n],arguments.length),v(this,me,"f").deprecatedOptions[e]=n,this}describe(e,n){return ce("<object|string|array> [string]",[e,n],arguments.length),this[Wg](e,!0),v(this,we,"f").describe(e,n),this}detectLocale(e){return ce("<boolean>",[e],arguments.length),ue(this,xa,e,"f"),this}env(e){return ce("[string|boolean]",[e],arguments.length),e===!1?delete v(this,me,"f").envPrefix:v(this,me,"f").envPrefix=e||"",this}epilogue(e){return ce("<string>",[e],arguments.length),v(this,we,"f").epilog(e),this}epilog(e){return this.epilogue(e)}example(e,n){return ce("<string|array> [string]",[e,n],arguments.length),Array.isArray(e)?e.forEach(r=>this.example(...r)):v(this,we,"f").example(e,n),this}exit(e,n){ue(this,br,!0,"f"),ue(this,js,n,"f"),v(this,Hr,"f")&&v(this,Pe,"f").process.exit(e)}exitProcess(e=!0){return ce("[boolean]",[e],arguments.length),ue(this,Hr,e,"f"),this}fail(e){if(ce("<function|boolean>",[e],arguments.length),typeof e=="boolean"&&e!==!1)throw new Yt("Invalid first argument. Expected function or boolean 'false'");return v(this,we,"f").failFn(e),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(e,n){return ce("<array> [function]",[e,n],arguments.length),n?v(this,Gr,"f").getCompletion(e,n):new Promise((r,i)=>{v(this,Gr,"f").getCompletion(e,(s,a)=>{s?i(s):r(a)})})}getDemandedOptions(){return ce([],0),v(this,me,"f").demandedOptions}getDemandedCommands(){return ce([],0),v(this,me,"f").demandedCommands}getDeprecatedOptions(){return ce([],0),v(this,me,"f").deprecatedOptions}getDetectLocale(){return v(this,xa,"f")}getExitProcess(){return v(this,Hr,"f")}getGroups(){return Object.assign({},v(this,Oi,"f"),v(this,wa,"f"))}getHelp(){if(ue(this,br,!0,"f"),!v(this,we,"f").hasCachedHelpMessage()){if(!this.parsed){let n=this[Pu](v(this,Us,"f"),void 0,void 0,0,!0);if($t(n))return n.then(()=>v(this,we,"f").help())}let e=v(this,Ft,"f").runDefaultBuilderOn(this);if($t(e))return e.then(()=>v(this,we,"f").help())}return Promise.resolve(v(this,we,"f").help())}getOptions(){return v(this,me,"f")}getStrict(){return v(this,Oa,"f")}getStrictCommands(){return v(this,Fa,"f")}getStrictOptions(){return v(this,La,"f")}global(e,n){return ce("<string|array> [boolean]",[e,n],arguments.length),e=[].concat(e),n!==!1?v(this,me,"f").local=v(this,me,"f").local.filter(r=>e.indexOf(r)===-1):e.forEach(r=>{v(this,me,"f").local.includes(r)||v(this,me,"f").local.push(r)}),this}group(e,n){ce("<string|array> <string>",[e,n],arguments.length);let r=v(this,wa,"f")[n]||v(this,Oi,"f")[n];v(this,wa,"f")[n]&&delete v(this,wa,"f")[n];let i={};return v(this,Oi,"f")[n]=(r||[]).concat(e).filter(s=>!i[s]&&(i[s]=!0)),this}hide(e){return ce("<string>",[e],arguments.length),v(this,me,"f").hiddenOptions.push(e),this}implies(e,n){return ce("<string|object> [number|string|array]",[e,n],arguments.length),v(this,St,"f").implies(e,n),this}locale(e){return ce("[string]",[e],arguments.length),e?(ue(this,xa,!1,"f"),v(this,Pe,"f").y18n.setLocale(e),this):(this[Bg](),v(this,Pe,"f").y18n.getLocale())}middleware(e,n,r){return v(this,Yr,"f").addMiddleware(e,!!n,r)}nargs(e,n){return ce("<string|object|array> [number]",[e,n],arguments.length),this[al](this.nargs.bind(this),"narg",e,n),this}normalize(e){return ce("<array|string>",[e],arguments.length),this[Ws]("normalize",e),this}number(e){return ce("<array|string>",[e],arguments.length),this[Ws]("number",e),this[Ba](e),this}option(e,n){if(ce("<string|object> [object]",[e,n],arguments.length),typeof e=="object")Object.keys(e).forEach(r=>{this.options(r,e[r])});else{typeof n!="object"&&(n={}),this[Ba](e),!v(this,Fi,"f")||e!=="version"&&n?.alias!=="version"||this[VP](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),v(this,me,"f").key[e]=!0,n.alias&&this.alias(e,n.alias);let r=n.deprecate||n.deprecated;r&&this.deprecateOption(e,r);let i=n.demand||n.required||n.require;i&&this.demand(e,i),n.demandOption&&this.demandOption(e,typeof n.demandOption=="string"?n.demandOption:void 0),n.conflicts&&this.conflicts(e,n.conflicts),"default"in n&&this.default(e,n.default),n.implies!==void 0&&this.implies(e,n.implies),n.nargs!==void 0&&this.nargs(e,n.nargs),n.config&&this.config(e,n.configParser),n.normalize&&this.normalize(e),n.choices&&this.choices(e,n.choices),n.coerce&&this.coerce(e,n.coerce),n.group&&this.group(e,n.group),(n.boolean||n.type==="boolean")&&(this.boolean(e),n.alias&&this.boolean(n.alias)),(n.array||n.type==="array")&&(this.array(e),n.alias&&this.array(n.alias)),(n.number||n.type==="number")&&(this.number(e),n.alias&&this.number(n.alias)),(n.string||n.type==="string")&&(this.string(e),n.alias&&this.string(n.alias)),(n.count||n.type==="count")&&this.count(e),typeof n.global=="boolean"&&this.global(e,n.global),n.defaultDescription&&(v(this,me,"f").defaultDescription[e]=n.defaultDescription),n.skipValidation&&this.skipValidation(e);let s=n.describe||n.description||n.desc;this.describe(e,s),n.hidden&&this.hide(e),n.requiresArg&&this.requiresArg(e)}return this}options(e,n){return this.option(e,n)}parse(e,n,r){ce("[string|array] [function|boolean|object] [function]",[e,n,r],arguments.length),this[qP](),e===void 0&&(e=v(this,Us,"f")),typeof n=="object"&&(ue(this,Ra,n,"f"),n=r),typeof n=="function"&&(ue(this,Tr,n,"f"),n=!1),n||ue(this,Us,e,"f"),v(this,Tr,"f")&&ue(this,Hr,!1,"f");let i=this[Pu](e,!!n),s=this.parsed;return v(this,Gr,"f").setParsed(this.parsed),$t(i)?i.then(a=>(v(this,Tr,"f")&&v(this,Tr,"f").call(this,v(this,js,"f"),a,v(this,un,"f")),a)).catch(a=>{throw v(this,Tr,"f")&&v(this,Tr,"f")(a,this.parsed.argv,v(this,un,"f")),a}).finally(()=>{this[Gg](),this.parsed=s}):(v(this,Tr,"f")&&v(this,Tr,"f").call(this,v(this,js,"f"),i,v(this,un,"f")),this[Gg](),this.parsed=s,i)}parseAsync(e,n,r){let i=this.parse(e,n,r);return $t(i)?i:Promise.resolve(i)}parseSync(e,n,r){let i=this.parse(e,n,r);if($t(i))throw new Yt(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return i}parserConfiguration(e){return ce("<object>",[e],arguments.length),ue(this,Bp,e,"f"),this}pkgConf(e,n){ce("<string> [string]",[e,n],arguments.length);let r=null,i=this[Vg](n||v(this,Ea,"f"));return i[e]&&typeof i[e]=="object"&&(r=Up(i[e],n||v(this,Ea,"f"),this[ka]()["deep-merge-config"]||!1,v(this,Pe,"f")),v(this,me,"f").configObjects=(v(this,me,"f").configObjects||[]).concat(r)),this}positional(e,n){ce("<string> <object>",[e,n],arguments.length);let r=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];n=ol(n,(a,o)=>!(a==="type"&&!["string","number","boolean"].includes(o))&&r.includes(a));let i=v(this,Cu,"f").fullCommands[v(this,Cu,"f").fullCommands.length-1],s=i?v(this,Ft,"f").cmdToParseOptions(i):{array:[],alias:{},default:{},demand:{}};return jp(s).forEach(a=>{let o=s[a];Array.isArray(o)?o.indexOf(e)!==-1&&(n[a]=!0):o[e]&&!(a in n)&&(n[a]=o[e])}),this.group(e,v(this,we,"f").getPositionalGroupName()),this.option(e,n)}recommendCommands(e=!0){return ce("[boolean]",[e],arguments.length),ue(this,Vp,e,"f"),this}required(e,n,r){return this.demand(e,n,r)}require(e,n,r){return this.demand(e,n,r)}requiresArg(e){return ce("<array|string|object> [number]",[e],arguments.length),typeof e=="string"&&v(this,me,"f").narg[e]||this[al](this.requiresArg.bind(this),"narg",e,NaN),this}showCompletionScript(e,n){return ce("[string] [string]",[e,n],arguments.length),e=e||this.$0,v(this,il,"f").log(v(this,Gr,"f").generateCompletionScript(e,n||v(this,yr,"f")||"completion")),this}showHelp(e){if(ce("[string|function]",[e],arguments.length),ue(this,br,!0,"f"),!v(this,we,"f").hasCachedHelpMessage()){if(!this.parsed){let r=this[Pu](v(this,Us,"f"),void 0,void 0,0,!0);if($t(r))return r.then(()=>{v(this,we,"f").showHelp(e)}),this}let n=v(this,Ft,"f").runDefaultBuilderOn(this);if($t(n))return n.then(()=>{v(this,we,"f").showHelp(e)}),this}return v(this,we,"f").showHelp(e),this}scriptName(e){return this.customScriptName=!0,this.$0=e,this}showHelpOnFail(e,n){return ce("[boolean|string] [string]",[e,n],arguments.length),v(this,we,"f").showHelpOnFail(e,n),this}showVersion(e){return ce("[string|function]",[e],arguments.length),v(this,we,"f").showVersion(e),this}skipValidation(e){return ce("<array|string>",[e],arguments.length),this[Ws]("skipValidation",e),this}strict(e){return ce("[boolean]",[e],arguments.length),ue(this,Oa,e!==!1,"f"),this}strictCommands(e){return ce("[boolean]",[e],arguments.length),ue(this,Fa,e!==!1,"f"),this}strictOptions(e){return ce("[boolean]",[e],arguments.length),ue(this,La,e!==!1,"f"),this}string(e){return ce("<array|string>",[e],arguments.length),this[Ws]("string",e),this[Ba](e),this}terminalWidth(){return ce([],0),v(this,Pe,"f").process.stdColumns}updateLocale(e){return this.updateStrings(e)}updateStrings(e){return ce("<object>",[e],arguments.length),ue(this,xa,!1,"f"),v(this,Pe,"f").y18n.updateLocale(e),this}usage(e,n,r,i){if(ce("<string|null|undefined> [string|boolean] [function|object] [function]",[e,n,r,i],arguments.length),n!==void 0){if(di(e,null,v(this,Pe,"f")),(e||"").match(/^\$0( |$)/))return this.command(e,n,r,i);throw new Yt(".usage() description must start with $0 if being used as alias for .command()")}return v(this,we,"f").usage(e),this}version(e,n,r){let i="version";if(ce("[boolean|string] [string] [string]",[e,n,r],arguments.length),v(this,Fi,"f")&&(this[Mg](v(this,Fi,"f")),v(this,we,"f").version(void 0),ue(this,Fi,null,"f")),arguments.length===0)r=this[UP](),e=i;else if(arguments.length===1){if(e===!1)return this;r=e,e=i}else arguments.length===2&&(r=n,n=void 0);return ue(this,Fi,typeof e=="string"?e:i,"f"),n=n||v(this,we,"f").deferY18nLookup("Show version number"),v(this,we,"f").version(r||void 0),this.boolean(v(this,Fi,"f")),this.describe(v(this,Fi,"f"),n),this}wrap(e){return ce("<number|null|undefined>",[e],arguments.length),v(this,we,"f").wrap(e),this}[(Ft=new WeakMap,Ea=new WeakMap,Cu=new WeakMap,Gr=new WeakMap,yr=new WeakMap,Fp=new WeakMap,js=new WeakMap,xa=new WeakMap,Lp=new WeakMap,Hr=new WeakMap,kp=new WeakMap,Yr=new WeakMap,Oi=new WeakMap,br=new WeakMap,$r=new WeakMap,il=new WeakMap,un=new WeakMap,me=new WeakMap,Mp=new WeakMap,Bp=new WeakMap,Tr=new WeakMap,Ra=new WeakMap,sl=new WeakMap,wa=new WeakMap,Us=new WeakMap,Vp=new WeakMap,Pe=new WeakMap,Oa=new WeakMap,Fa=new WeakMap,La=new WeakMap,we=new WeakMap,Fi=new WeakMap,St=new WeakMap,MP)](e){if(!e._||!e["--"])return e;e._.push.apply(e._,e["--"]);try{delete e["--"]}catch{}return e}[BP](){return{log:(...e)=>{this[qp]()||console.log(...e),ue(this,br,!0,"f"),v(this,un,"f").length&&ue(this,un,v(this,un,"f")+`
`,"f"),ue(this,un,v(this,un,"f")+e.join(" "),"f")},error:(...e)=>{this[qp]()||console.error(...e),ue(this,br,!0,"f"),v(this,un,"f").length&&ue(this,un,v(this,un,"f")+`
`,"f"),ue(this,un,v(this,un,"f")+e.join(" "),"f")}}}[Mg](e){jp(v(this,me,"f")).forEach(n=>{if(n==="configObjects")return;let r=v(this,me,"f")[n];Array.isArray(r)?r.includes(e)&&r.splice(r.indexOf(e),1):typeof r=="object"&&delete r[e]}),delete v(this,we,"f").getDescriptions()[e]}[VP](e,n,r){v(this,Lp,"f")[r]||(v(this,Pe,"f").process.emitWarning(e,n),v(this,Lp,"f")[r]=!0)}[qP](){v(this,kp,"f").push({options:v(this,me,"f"),configObjects:v(this,me,"f").configObjects.slice(0),exitProcess:v(this,Hr,"f"),groups:v(this,Oi,"f"),strict:v(this,Oa,"f"),strictCommands:v(this,Fa,"f"),strictOptions:v(this,La,"f"),completionCommand:v(this,yr,"f"),output:v(this,un,"f"),exitError:v(this,js,"f"),hasOutput:v(this,br,"f"),parsed:this.parsed,parseFn:v(this,Tr,"f"),parseContext:v(this,Ra,"f")}),v(this,we,"f").freeze(),v(this,St,"f").freeze(),v(this,Ft,"f").freeze(),v(this,Yr,"f").freeze()}[jP](){let e,n="";return e=/\b(node|iojs|electron)(\.exe)?$/.test(v(this,Pe,"f").process.argv()[0])?v(this,Pe,"f").process.argv().slice(1,2):v(this,Pe,"f").process.argv().slice(0,1),n=e.map(r=>{let i=this[JP](v(this,Ea,"f"),r);return r.match(/^(\/|([a-zA-Z]:)?\\)/)&&i.length<r.length?i:r}).join(" ").trim(),v(this,Pe,"f").getEnv("_")&&v(this,Pe,"f").getProcessArgvBin()===v(this,Pe,"f").getEnv("_")&&(n=v(this,Pe,"f").getEnv("_").replace(`${v(this,Pe,"f").path.dirname(v(this,Pe,"f").process.execPath())}/`,"")),n}[ka](){return v(this,Bp,"f")}[Bg](){if(!v(this,xa,"f"))return;let e=v(this,Pe,"f").getEnv("LC_ALL")||v(this,Pe,"f").getEnv("LC_MESSAGES")||v(this,Pe,"f").getEnv("LANG")||v(this,Pe,"f").getEnv("LANGUAGE")||"en_US";this.locale(e.replace(/[.:].*/,""))}[UP](){return this[Vg]().version||"unknown"}[WP](e){let n=e["--"]?e["--"]:e._;for(let r,i=0;(r=n[i])!==void 0;i++)v(this,Pe,"f").Parser.looksLikeNumber(r)&&Number.isSafeInteger(Math.floor(parseFloat(`${r}`)))&&(n[i]=Number(r));return e}[Vg](e){let n=e||"*";if(v(this,sl,"f")[n])return v(this,sl,"f")[n];let r={};try{let i=e||v(this,Pe,"f").mainFilename;!e&&v(this,Pe,"f").path.extname(i)&&(i=v(this,Pe,"f").path.dirname(i));let s=v(this,Pe,"f").findUp(i,(a,o)=>o.includes("package.json")?"package.json":void 0);di(s,void 0,v(this,Pe,"f")),r=JSON.parse(v(this,Pe,"f").readFileSync(s,"utf8"))}catch{}return v(this,sl,"f")[n]=r||{},v(this,sl,"f")[n]}[Ws](e,n){(n=[].concat(n)).forEach(r=>{r=this[Ug](r),v(this,me,"f")[e].push(r)})}[al](e,n,r,i){this[jg](e,n,r,i,(s,a,o)=>{v(this,me,"f")[s][a]=o})}[qg](e,n,r,i){this[jg](e,n,r,i,(s,a,o)=>{v(this,me,"f")[s][a]=(v(this,me,"f")[s][a]||[]).concat(o)})}[jg](e,n,r,i,s){if(Array.isArray(r))r.forEach(a=>{e(a,i)});else if((a=>typeof a=="object")(r))for(let a of jp(r))e(a,r[a]);else s(n,this[Ug](r),i)}[Ug](e){return e==="__proto__"?"___proto___":e}[Wg](e,n){return this[al](this[Wg].bind(this),"key",e,n),this}[Gg](){var e,n,r,i,s,a,o,l,u,c,f,d;let h=v(this,kp,"f").pop(),p;di(h,void 0,v(this,Pe,"f")),e=this,n=this,r=this,i=this,s=this,a=this,o=this,l=this,u=this,c=this,f=this,d=this,{options:{set value(m){ue(e,me,m,"f")}}.value,configObjects:p,exitProcess:{set value(m){ue(n,Hr,m,"f")}}.value,groups:{set value(m){ue(r,Oi,m,"f")}}.value,output:{set value(m){ue(i,un,m,"f")}}.value,exitError:{set value(m){ue(s,js,m,"f")}}.value,hasOutput:{set value(m){ue(a,br,m,"f")}}.value,parsed:this.parsed,strict:{set value(m){ue(o,Oa,m,"f")}}.value,strictCommands:{set value(m){ue(l,Fa,m,"f")}}.value,strictOptions:{set value(m){ue(u,La,m,"f")}}.value,completionCommand:{set value(m){ue(c,yr,m,"f")}}.value,parseFn:{set value(m){ue(f,Tr,m,"f")}}.value,parseContext:{set value(m){ue(d,Ra,m,"f")}}.value}=h,v(this,me,"f").configObjects=p,v(this,we,"f").unfreeze(),v(this,St,"f").unfreeze(),v(this,Ft,"f").unfreeze(),v(this,Yr,"f").unfreeze()}[GP](e,n){return Au(n,r=>(e(r),r))}getInternalMethods(){return{getCommandInstance:this[HP].bind(this),getContext:this[YP].bind(this),getHasOutput:this[$P].bind(this),getLoggerInstance:this[KP].bind(this),getParseContext:this[zP].bind(this),getParserConfiguration:this[ka].bind(this),getUsageInstance:this[XP].bind(this),getValidationInstance:this[QP].bind(this),hasParseCallback:this[qp].bind(this),postProcess:this[Ma].bind(this),reset:this[Hg].bind(this),runValidation:this[Yg].bind(this),runYargsParserAndExecuteCommands:this[Pu].bind(this),setHasOutput:this[ZP].bind(this)}}[HP](){return v(this,Ft,"f")}[YP](){return v(this,Cu,"f")}[$P](){return v(this,br,"f")}[KP](){return v(this,il,"f")}[zP](){return v(this,Ra,"f")||{}}[XP](){return v(this,we,"f")}[QP](){return v(this,St,"f")}[qp](){return!!v(this,Tr,"f")}[Ma](e,n,r,i){return r||$t(e)?e:(n||(e=this[MP](e)),(this[ka]()["parse-positional-numbers"]||this[ka]()["parse-positional-numbers"]===void 0)&&(e=this[WP](e)),i&&(e=Su(e,this,v(this,Yr,"f").getMiddleware(),!1)),e)}[Hg](e={}){ue(this,me,v(this,me,"f")||{},"f");let n={};n.local=v(this,me,"f").local||[],n.configObjects=v(this,me,"f").configObjects||[];let r={};return n.local.forEach(i=>{r[i]=!0,(e[i]||[]).forEach(s=>{r[s]=!0})}),Object.assign(v(this,wa,"f"),Object.keys(v(this,Oi,"f")).reduce((i,s)=>{let a=v(this,Oi,"f")[s].filter(o=>!(o in r));return a.length>0&&(i[s]=a),i},{})),ue(this,Oi,{},"f"),["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"].forEach(i=>{n[i]=(v(this,me,"f")[i]||[]).filter(s=>!r[s])}),["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"].forEach(i=>{n[i]=ol(v(this,me,"f")[i],s=>!r[s])}),n.envPrefix=v(this,me,"f").envPrefix,ue(this,me,n,"f"),ue(this,we,v(this,we,"f")?v(this,we,"f").reset(r):oM(this,v(this,Pe,"f")),"f"),ue(this,St,v(this,St,"f")?v(this,St,"f").reset(r):function(i,s,a){let o=a.y18n.__,l=a.y18n.__n,u={nonOptionCount:function(p){let m=i.getDemandedCommands(),g=p._.length+(p["--"]?p["--"].length:0)-i.getInternalMethods().getContext().commands.length;m._&&(g<m._.min||g>m._.max)&&(g<m._.min?m._.minMsg!==void 0?s.fail(m._.minMsg?m._.minMsg.replace(/\$0/g,g.toString()).replace(/\$1/,m._.min.toString()):null):s.fail(l("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",g,g.toString(),m._.min.toString())):g>m._.max&&(m._.maxMsg!==void 0?s.fail(m._.maxMsg?m._.maxMsg.replace(/\$0/g,g.toString()).replace(/\$1/,m._.max.toString()):null):s.fail(l("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",g,g.toString(),m._.max.toString()))))},positionalCount:function(p,m){m<p&&s.fail(l("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",m,m+"",p+""))},requiredArguments:function(p,m){let g=null;for(let T of Object.keys(m))Object.prototype.hasOwnProperty.call(p,T)&&p[T]!==void 0||(g=g||{},g[T]=m[T]);if(g){let T=[];for(let S of Object.keys(g)){let B=g[S];B&&T.indexOf(B)<0&&T.push(B)}let b=T.length?`
${T.join(`
`)}`:"";s.fail(l("Missing required argument: %s","Missing required arguments: %s",Object.keys(g).length,Object.keys(g).join(", ")+b))}},unknownArguments:function(p,m,g,T,b=!0){var S;let B=i.getInternalMethods().getCommandInstance().getCommands(),z=[],ne=i.getInternalMethods().getContext();if(Object.keys(p).forEach(Te=>{kP.includes(Te)||Object.prototype.hasOwnProperty.call(g,Te)||Object.prototype.hasOwnProperty.call(i.getInternalMethods().getParseContext(),Te)||u.isValidAndSomeAliasIsNotNew(Te,m)||z.push(Te)}),b&&(ne.commands.length>0||B.length>0||T)&&p._.slice(ne.commands.length).forEach(Te=>{B.includes(""+Te)||z.push(""+Te)}),b){let Te=((S=i.getDemandedCommands()._)===null||S===void 0?void 0:S.max)||0,H=ne.commands.length+Te;H<p._.length&&p._.slice(H).forEach(ae=>{ae=String(ae),ne.commands.includes(ae)||z.includes(ae)||z.push(ae)})}z.length&&s.fail(l("Unknown argument: %s","Unknown arguments: %s",z.length,z.join(", ")))},unknownCommands:function(p){let m=i.getInternalMethods().getCommandInstance().getCommands(),g=[],T=i.getInternalMethods().getContext();return(T.commands.length>0||m.length>0)&&p._.slice(T.commands.length).forEach(b=>{m.includes(""+b)||g.push(""+b)}),g.length>0&&(s.fail(l("Unknown command: %s","Unknown commands: %s",g.length,g.join(", "))),!0)},isValidAndSomeAliasIsNotNew:function(p,m){if(!Object.prototype.hasOwnProperty.call(m,p))return!1;let g=i.parsed.newAliases;return[p,...m[p]].some(T=>!Object.prototype.hasOwnProperty.call(g,T)||!g[p])},limitedChoices:function(p){let m=i.getOptions(),g={};if(!Object.keys(m.choices).length)return;Object.keys(p).forEach(S=>{kP.indexOf(S)===-1&&Object.prototype.hasOwnProperty.call(m.choices,S)&&[].concat(p[S]).forEach(B=>{m.choices[S].indexOf(B)===-1&&B!==void 0&&(g[S]=(g[S]||[]).concat(B))})});let T=Object.keys(g);if(!T.length)return;let b=o("Invalid values:");T.forEach(S=>{b+=`
  ${o("Argument: %s, Given: %s, Choices: %s",S,s.stringifiedValues(g[S]),s.stringifiedValues(m.choices[S]))}`}),s.fail(b)}},c={};function f(p,m){let g=Number(m);return typeof(m=isNaN(g)?m:g)=="number"?m=p._.length>=m:m.match(/^--no-.+/)?(m=m.match(/^--no-(.+)/)[1],m=!Object.prototype.hasOwnProperty.call(p,m)):m=Object.prototype.hasOwnProperty.call(p,m),m}u.implies=function(p,m){ce("<string|object> [array|number|string]",[p,m],arguments.length),typeof p=="object"?Object.keys(p).forEach(g=>{u.implies(g,p[g])}):(i.global(p),c[p]||(c[p]=[]),Array.isArray(m)?m.forEach(g=>u.implies(p,g)):(di(m,void 0,a),c[p].push(m)))},u.getImplied=function(){return c},u.implications=function(p){let m=[];if(Object.keys(c).forEach(g=>{let T=g;(c[g]||[]).forEach(b=>{let S=T,B=b;S=f(p,S),b=f(p,b),S&&!b&&m.push(` ${T} -> ${B}`)})}),m.length){let g=`${o("Implications failed:")}
`;m.forEach(T=>{g+=T}),s.fail(g)}};let d={};u.conflicts=function(p,m){ce("<string|object> [array|string]",[p,m],arguments.length),typeof p=="object"?Object.keys(p).forEach(g=>{u.conflicts(g,p[g])}):(i.global(p),d[p]||(d[p]=[]),Array.isArray(m)?m.forEach(g=>u.conflicts(p,g)):d[p].push(m))},u.getConflicting=()=>d,u.conflicting=function(p){Object.keys(p).forEach(m=>{d[m]&&d[m].forEach(g=>{g&&p[m]!==void 0&&p[g]!==void 0&&s.fail(o("Arguments %s and %s are mutually exclusive",m,g))})}),i.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(d).forEach(m=>{d[m].forEach(g=>{g&&p[a.Parser.camelCase(m)]!==void 0&&p[a.Parser.camelCase(g)]!==void 0&&s.fail(o("Arguments %s and %s are mutually exclusive",m,g))})})},u.recommendCommands=function(p,m){m=m.sort((b,S)=>S.length-b.length);let g=null,T=1/0;for(let b,S=0;(b=m[S])!==void 0;S++){let B=lM(p,b);B<=3&&B<T&&(T=B,g=b)}g&&s.fail(o("Did you mean %s?",g))},u.reset=function(p){return c=ol(c,m=>!p[m]),d=ol(d,m=>!p[m]),u};let h=[];return u.freeze=function(){h.push({implied:c,conflicting:d})},u.unfreeze=function(){let p=h.pop();di(p,void 0,a),{implied:c,conflicting:d}=p},u}(this,v(this,we,"f"),v(this,Pe,"f")),"f"),ue(this,Ft,v(this,Ft,"f")?v(this,Ft,"f").reset():function(i,s,a,o){return new Jg(i,s,a,o)}(v(this,we,"f"),v(this,St,"f"),v(this,Yr,"f"),v(this,Pe,"f")),"f"),v(this,Gr,"f")||ue(this,Gr,function(i,s,a,o){return new e_(i,s,a,o)}(this,v(this,we,"f"),v(this,Ft,"f"),v(this,Pe,"f")),"f"),v(this,Yr,"f").reset(),ue(this,yr,null,"f"),ue(this,un,"","f"),ue(this,js,null,"f"),ue(this,br,!1,"f"),this.parsed=!1,this}[JP](e,n){return v(this,Pe,"f").path.relative(e,n)}[Pu](e,n,r,i=0,s=!1){let a=!!r||s;e=e||v(this,Us,"f"),v(this,me,"f").__=v(this,Pe,"f").y18n.__,v(this,me,"f").configuration=this[ka]();let o=!!v(this,me,"f").configuration["populate--"],l=Object.assign({},v(this,me,"f").configuration,{"populate--":!0}),u=v(this,Pe,"f").Parser.detailed(e,Object.assign({},v(this,me,"f"),{configuration:{"parse-positional-numbers":!1,...l}})),c=Object.assign(u.argv,v(this,Ra,"f")),f,d=u.aliases,h=!1,p=!1;Object.keys(c).forEach(m=>{m===v(this,$r,"f")&&c[m]?h=!0:m===v(this,Fi,"f")&&c[m]&&(p=!0)}),c.$0=this.$0,this.parsed=u,i===0&&v(this,we,"f").clearCachedHelpMessage();try{if(this[Bg](),n)return this[Ma](c,o,!!r,!1);v(this,$r,"f")&&[v(this,$r,"f")].concat(d[v(this,$r,"f")]||[]).filter(b=>b.length>1).includes(""+c._[c._.length-1])&&(c._.pop(),h=!0);let m=v(this,Ft,"f").getCommands(),g=v(this,Gr,"f").completionKey in c,T=h||g||s;if(c._.length){if(m.length){let b;for(let S,B=i||0;c._[B]!==void 0;B++){if(S=String(c._[B]),m.includes(S)&&S!==v(this,yr,"f")){let z=v(this,Ft,"f").runCommand(S,this,u,B+1,s,h||p||s);return this[Ma](z,o,!!r,!1)}if(!b&&S!==v(this,yr,"f")){b=S;break}}!v(this,Ft,"f").hasDefaultCommand()&&v(this,Vp,"f")&&b&&!T&&v(this,St,"f").recommendCommands(b,m)}v(this,yr,"f")&&c._.includes(v(this,yr,"f"))&&!g&&(v(this,Hr,"f")&&Du(!0),this.showCompletionScript(),this.exit(0))}if(v(this,Ft,"f").hasDefaultCommand()&&!T){let b=v(this,Ft,"f").runCommand(null,this,u,0,s,h||p||s);return this[Ma](b,o,!!r,!1)}if(g){v(this,Hr,"f")&&Du(!0);let b=(e=[].concat(e)).slice(e.indexOf(`--${v(this,Gr,"f").completionKey}`)+1);return v(this,Gr,"f").getCompletion(b,(S,B)=>{if(S)throw new Yt(S.message);(B||[]).forEach(z=>{v(this,il,"f").log(z)}),this.exit(0)}),this[Ma](c,!o,!!r,!1)}if(v(this,br,"f")||(h?(v(this,Hr,"f")&&Du(!0),a=!0,this.showHelp("log"),this.exit(0)):p&&(v(this,Hr,"f")&&Du(!0),a=!0,v(this,we,"f").showVersion("log"),this.exit(0))),!a&&v(this,me,"f").skipValidation.length>0&&(a=Object.keys(c).some(b=>v(this,me,"f").skipValidation.indexOf(b)>=0&&c[b]===!0)),!a){if(u.error)throw new Yt(u.error.message);if(!g){let b=this[Yg](d,{},u.error);r||(f=Su(c,this,v(this,Yr,"f").getMiddleware(),!0)),f=this[GP](b,f??c),$t(f)&&!r&&(f=f.then(()=>Su(c,this,v(this,Yr,"f").getMiddleware(),!1)))}}}catch(m){if(!(m instanceof Yt))throw m;v(this,we,"f").fail(m.message,m)}return this[Ma](f??c,o,!!r,!0)}[Yg](e,n,r,i){let s={...this.getDemandedOptions()};return a=>{if(r)throw new Yt(r.message);v(this,St,"f").nonOptionCount(a),v(this,St,"f").requiredArguments(a,s);let o=!1;v(this,Fa,"f")&&(o=v(this,St,"f").unknownCommands(a)),v(this,Oa,"f")&&!o?v(this,St,"f").unknownArguments(a,e,n,!!i):v(this,La,"f")&&v(this,St,"f").unknownArguments(a,e,{},!1,!1),v(this,St,"f").limitedChoices(a),v(this,St,"f").implications(a),v(this,St,"f").conflicting(a)}}[ZP](){ue(this,br,!0,"f")}[Ba](e){if(typeof e=="string")v(this,me,"f").key[e]=!0;else for(let n of e)v(this,me,"f").key[n]=!0}},$g,Kg,{readFileSync:uM}=require("fs"),{inspect:cM}=require("util"),{resolve:fM}=require("path"),pM=LC(),dM=Pg(),zg,eD={assert:{notStrictEqual:xP.notStrictEqual,strictEqual:xP.strictEqual},cliui:bP(),findUp:CP(),getEnv:t=>process.env[t],getCallerFile:DP(),getProcessArgvBin:iD,inspect:cM,mainFilename:(Kg=($g=require==null?void 0:require.main)===null||$g===void 0?void 0:$g.filename)!==null&&Kg!==void 0?Kg:process.cwd(),Parser:dM,path:require("path"),process:{argv:()=>process.argv,cwd:process.cwd,emitWarning:(t,e)=>process.emitWarning(t,e),execPath:()=>process.execPath,exit:t=>{process.exit(t)},nextTick:process.nextTick,stdColumns:process.stdout.columns!==void 0?process.stdout.columns:null},readFileSync:uM,require,requireDirectory:EP(),stringWidth:Ap(),y18n:pM({directory:fM(__dirname,"../locales"),updateFiles:!1})},tD=!((zg=process==null?void 0:process.env)===null||zg===void 0)&&zg.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12;if(process&&process.version&&Number(process.version.match(/v([^.]+)/)[1])<tD)throw Error(`yargs supports a minimum Node.js version of ${tD}. Read our version support policy: https://github.com/yargs/yargs#supported-nodejs-versions`);var mM=Pg(),Xg,hM={applyExtends:Up,cjsPlatformShim:eD,Yargs:(Xg=eD,(t=[],e=Xg.process.cwd(),n)=>{let r=new t_(t,e,n,Xg);return Object.defineProperty(r,"argv",{get:()=>r.parse(),enumerable:!0}),r.help(),r.version(),r}),argsert:ce,isPromise:$t,objFilter:ol,parseCommand:ll,Parser:mM,processArgv:sM,YError:Yt};sD.exports=hM});var lD=Y((Ote,oD)=>{"use strict";var{Yargs:gM,processArgv:_M}=aD();ul(_M.hideBin(process.argv));oD.exports=ul;function ul(t,e){let n=gM(t,e,require);return bM(n),n}function r_(t,e,n){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:n})}function yM(t,e){let n=Object.getOwnPropertyDescriptor(t,e);if(typeof n<"u")return n.get}function bM(t){[...Object.keys(t),...Object.getOwnPropertyNames(t.constructor.prototype)].forEach(e=>{e==="argv"?r_(ul,e,yM(t,e)):typeof t[e]=="function"?ul[e]=t[e].bind(t):(r_(ul,"$0",()=>t.$0),r_(ul,"parsed",()=>t.parsed))})}});var Je=Le(require("fs"),1);var is=class{constructor(){this.currentStructure=null;this.isReloading=!1;this.isDirtyState=!0;this.structuredProject=null}setStructuredProject(e){this.structuredProject=e}hasStructuredBlueprints(){return this.structuredProject!=null}getAllStructuredBlueprints(){return this.structuredProject==null?[]:this.structuredProject.assets.concat(this.structuredProject.collections).concat(this.structuredProject.forms).concat(this.structuredProject.general).concat(this.structuredProject.navigations).concat(this.structuredProject.taxonomies)}getStructuredProject(){return this.structuredProject}setActiveProject(e){this.currentStructure=e}getStructure(){return this.currentStructure}hasStructure(){return this.currentStructure!=null}setDirtyState(e){this.isDirtyState=e}reloadDetails(){this.isReloading||this.isDirtyState!=!1&&this.currentStructure!=null&&(this.isReloading=!0,this.currentStructure=this.currentStructure.reloadDetails(),this.isReloading=!1,this.isDirtyState=!1)}};is.instance=null;(typeof is.instance>"u"||is.instance==null)&&(is.instance=new is);var kt=is;var Kr=class{static registerDetails(e,n){this.documentDetails.set(e,n)}static hasDetails(e){return this.documentDetails.has(e)}};Kr.documentDetails=new Map;var TD={documentDescription:"",documentName:"",collectionInjections:[],blueprints:[],variableHelper:null,injectsParameters:[],varReferenceNames:new Map,formatterEnabled:!0},l_="@name",u_="@description",c_="@desc",f_="@entry",p_="@collection",d_="@blueprint",m_="@var",h_="@set",g_="@param",__="@param*",vD="@front",y_="@format";function pl(t,e){if(e==null||e.isComment==!1)return TD;let n=e.content.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`).map(p=>p.trim()),r=[],i=new Map,s="",a="",o=[],l=[],u="",c=null,f=!1,d=!0;for(let p=0;p<n.length;p++){let m=n[p];if(m.startsWith(f_))o=o.concat(m.slice(f_.length).split(",").map(g=>g.trim())),f=!1;else if(m.startsWith(p_))o=o.concat(m.slice(p_.length).split(",").map(g=>g.trim())),f=!1;else if(m.startsWith(d_))l=l.concat(m.slice(d_.length).split(",").map(g=>g.trim())),f=!1;else if(m.startsWith(l_))s=m.slice(l_.length).trim(),f=!1;else if(m.startsWith(u_))a=m.slice(u_.length).trim(),f=!0;else if(m.startsWith(c_))a=m.slice(c_.length).trim(),f=!0;else if(m.startsWith(m_))u=m.slice(m_.length).trim(),f=!1;else if(m.startsWith(h_))u="@page "+m.slice(h_.length).trim(),f=!1;else if(m.startsWith(g_)){let g=g_.length,T=!1;m.startsWith(__)&&(g=__.length,T=!0);let S=m.slice(g).trim().split(" ");if(S.length>0)if(S[0]==vD&&S.length>=4){S.shift();let B=S.shift(),z=S.shift(),ne=S.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:ne,expectsTypes:["*"],isDynamic:!0,isRequired:T,name:z}),i.set(z,B)}else{let B=S.shift(),z=S.join(" ");r.push({acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:z,expectsTypes:["*"],isDynamic:!0,isRequired:T,name:B})}}else m.startsWith(y_)?m.slice(y_.length).trim().toLowerCase()=="true"?d=!0:d=!1:f&&(a+=`
`+m.trim())}if(u.length>0){let p=u.split(" ");if(p.length==2){let m=p[0],g=p[1];if(g.includes(".")){let T=g.split(".");if(T.length==2){let b=T[0],S=T[1];c={variableName:m,collectionName:b,fieldHandle:S,setHandle:""}}else if(T.length==3){let b=T[0],S=T[1],B=T[2];c={variableName:m,collectionName:b,fieldHandle:S,setHandle:B}}}else c={variableName:m,setHandle:"",collectionName:"",fieldHandle:g}}}if(t.trim().length>0&&kt.instance!=null&&kt.instance.hasStructure()){let p=kt.instance.getStructure().findView(t);p!=null&&(p.injectsParameters=r,p.varReferenceNames=i)}let h={documentName:s,documentDescription:a,collectionInjections:o,blueprints:l,variableHelper:c,injectsParameters:r,varReferenceNames:i,formatterEnabled:d};return t.trim().length>0&&e.startPosition!=null&&(e.startPosition.line<=1||e.index<=1)&&Kr.registerDetails(t,h),h}var ND=["markdown","text","textarea","slug","button_group","code","color","date","form","link","structures","select","taxonomies","terms","template","time","video","users","user_groups","user_roles"],CD=["array","assets","bard","blueprints","collections","entries","list","grid","replicator","structures_multiple","sites","select_multiple","form_multiple","table","tags","terms_multiple","taxonomies_multiple","users_multiple","checkboxes","select_multiple","yaml","user_groups_multiple","user_roles_multiple"],PD=["integer","range"],DD=["toggle"];function Ru(t){return ND.includes(t)?"string":CD.includes(t)?"array":PD.includes(t)?"number":DD.includes(t)?"boolean":t}var ss=class{constructor(){this.partialReferences=new Map;this.cacheReferences=new Map;this.removesPageScope=new Map}clearAllReferences(e){this.clearPartialReferences(e),this.clearCacheReferences(e)}registerPartialReferences(e,n){this.partialReferences.has(e)==!1&&this.partialReferences.set(e,[]),this.partialReferences.set(e,n)}registerCacheReferences(e,n){this.cacheReferences.has(e)==!1&&this.cacheReferences.set(e,[]),this.cacheReferences.set(e,n)}clearPartialReferences(e){this.partialReferences.has(e)&&this.partialReferences.set(e,[])}clearRemovesPageScope(e){this.removesPageScope.has(e)&&this.removesPageScope.delete(e)}pageScopeDisabled(e){return this.removesPageScope.has(e)}clearCacheReferences(e){this.cacheReferences.has(e)&&this.cacheReferences.set(e,[])}setRemovesPageScope(e,n){this.removesPageScope.set(e,n)}getPartialReferences(e){return this.partialReferences.has(e)==!1?[]:this.partialReferences.get(e)}getCacheReferencnes(e){return this.cacheReferences.has(e)==!1?[]:this.cacheReferences.get(e)}hasPartialReferences(e){return this.partialReferences.has(e)}hasCacheReferences(e){return this.cacheReferences.has(e)}};ss.instance=null;(typeof ss.instance>"u"||ss.instance==null)&&(ss.instance=new ss);var b_=ss;var Dn=class{constructor(){this.index=-1;this.offset=0;this.line=0;this.char=0}shiftRight(e){let n=new Dn;return n.offset=this.offset+e,n.index=this.index+e,n.line=this.line,n.char=this.char+e,n}isBefore(e){return e==null?!1:e.line>this.line||e.line==this.line&&this.offset<e.offset}isWithin(e,n,r=0){return e==null||n==null?!1:this.index>=e.index&&this.index<=n.index+r}isWithinRange(e){return e==null?!1:e.start!=null&&e.end!=null?this.isWithin(e.start,e.end):!1}};var Hp=class{constructor(){this.start=null;this.end=null}},qa=Hp;qa.Empty=new Hp;function T_(t,e){let n=e.copy(),r=e.copy();return r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"group",introducedBy:t}),r.addVariable({sourceName:"*internal.group_by",sourceField:null,dataType:"string",name:"key",introducedBy:t}),r.addScopeList("items",n),e.addScopeList("groups",r),e}function v_(t,e){let n=e.copy();return e.addScopeList("items",n),e}var N_=[{name:"key_by",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Re-keys the array or collection using the provided field name.",docLink:null,parameters:[{name:"field",description:"The field to re-key the array or collection by."}],canBeParameter:!0,isDeprecated:!1},{name:"as",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Alias the array variable with a key.",docLink:"https://statamic.dev/modifiers/as",parameters:[{name:"alias",description:"The alias name."}],canBeParameter:!0,isDeprecated:!1},{name:"ampersand_list",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Converts the array into a comma delimited string, with an ampersand before the last item.",docLink:"https://statamic.dev/modifiers/ampersand_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"collapse",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Collapses an array of arrays into a single, flat, array.",docLink:"https://statamic.dev/modifiers/collapse",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"contains",acceptsType:["array","string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the value contains another value.",docLink:"https://statamic.dev/modifiers/contains",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1,isDeprecated:!1},{name:"count",acceptsType:["array"],returnsType:["number"],forFieldType:[],description:"Returns the number of items in the array.",docLink:"https://statamic.dev/modifiers/count",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"dl",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns an associative array into an HTML definition list.",docLink:"https://statamic.dev/modifiers/dl",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],forFieldType:[],description:"Breaks a string into an array on a given delimiter.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The delimiter to break the string apart on."}],canBeParameter:!0,isDeprecated:!1},{name:"flatten",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Flattens a multi-dimensional array.",docLink:"https://statamic.dev/modifiers/flatten",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"flip",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Swaps the array keys with their values.",docLink:"https://statamic.dev/modifiers/flip",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"group_by",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Groups the array items by the given key.",docLink:"https://statamic.dev/modifiers/group_by",parameters:[{name:"key",description:"The key to group by."}],canBeParameter:!0,augmentScope:T_,isDeprecated:!1},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],forFieldType:[],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value to check for."}],canBeParameter:!1,isDeprecated:!1},{name:"is_empty",acceptsType:["array"],returnsType:["boolean"],forFieldType:[],description:"Tests if the array is empty.",docLink:"https://statamic.dev/modifiers/is_empty",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"join",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turn an array into a string by gluing together all the data.",docLink:"https://statamic.dev/modifiers/join",parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0,isDeprecated:!1},{name:"joinplode",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turn an array into a string by gluing together all the data.",docLink:null,parameters:[{name:"glue",description:"The string to combine the parts by."}],canBeParameter:!0,isDeprecated:!1},{name:"limit",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Limits the number of items returned in the array",docLink:"https://statamic.dev/modifiers/limit",parameters:[{name:"count",description:"The maximum number of items to return."}],canBeParameter:!0,isDeprecated:!1},{name:"list",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Converts the array into a comma-separated string.",docLink:"https://statamic.dev/modifiers/list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"offset",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Offsets the items returned in the array.",docLink:"https://statamic.dev/modifiers/offset",parameters:[{name:"offset",description:"The one-based index to start retrieving items."}],canBeParameter:!0,isDeprecated:!1},{name:"ol",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns the array into an HTML ordered list.",docLink:"https://statamic.dev/modifiers/ol",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"option_list",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/option_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"pluck",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Plucks a value from a collection of items.",parameters:[{name:"value",description:"The value to pluck from the array or collection."}],canBeParameter:!0,docLink:null,isDeprecated:!1},{name:"pad",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Pads the array to a specified length with the given value.",docLink:"https://statamic.dev/modifiers/pad",parameters:[{name:"length",description:"The desired length of the array."},{name:"value",description:"The value to pad the array with."}],canBeParameter:!0,isDeprecated:!1},{name:"piped",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns an array into a pipe-delimited string.",docLink:"https://statamic.dev/modifiers/piped",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"sentence_list",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:'Turns the array into a comma-delimited list, with the word "and" before the last item.',docLink:"https://statamic.dev/modifiers/sentence_list",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"shuffle",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Randomizes the order of array elements.",docLink:"https://statamic.dev/modifiers/shuffle",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"sort",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Sorts the array by a key in ascending or descending order.",docLink:"https://statamic.dev/modifiers/sort",parameters:[{name:"key",description:"The key to sort by."},{name:"order",description:"The sort direction. `asc` or `desc`."}],canBeParameter:!0,isDeprecated:!1},{name:"sum",acceptsType:["array"],returnsType:["number"],forFieldType:[],description:"Returns the sum of all items in the array.",docLink:"https://statamic.dev/modifiers/sum",parameters:[{name:"key",description:"The value to sum."}],canBeParameter:!1,isDeprecated:!1},{name:"ul",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Turns the array into an HTML unordered list.",docLink:"https://statamic.dev/modifiers/ul",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"unique",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Returns all unique items in the array.",docLink:"https://statamic.dev/modifiers/unique",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"where",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Filters the array by a given key and value.",docLink:"https://statamic.dev/modifiers/where",parameters:[{name:"key",description:"The property to filter by."},{name:"value",description:"The value to compare to."}],canBeParameter:!0,isDeprecated:!1},{name:"split",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Splits an array into smaller arrays with the provided size.",canBeParameter:!0,docLink:"",parameters:[{name:"size",description:"The size of each new array"}],augmentScope:v_,isDeprecated:!1},{name:"compact",acceptsType:["string"],returnsType:["array"],forFieldType:[],description:"Accepts a comma-delimited list of variable names and return an array with their values.",canBeParameter:!0,docLink:"",parameters:[{name:"variables",description:"A comma-delimited list of variable names."}],isDeprecated:!1},{name:"classes",acceptsType:["array"],returnsType:["string"],forFieldType:[],description:"Converts an array of conditional class names to a CSS class list.",canBeParameter:!0,docLink:"",parameters:[],isDeprecated:!1}];var C_=[{name:"background_position",acceptsType:["string"],returnsType:["string"],forFieldType:["assets"],description:"Converts an asset focal point into a background-position CSS property.",docLink:"https://statamic.dev/modifiers/background_position",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"image",acceptsType:["string"],returnsType:["string"],forFieldType:["assets"],description:"Generates an HTML image element with the variable's value as the src.",docLink:"https://statamic.dev/modifiers/image",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"output",acceptsType:["string"],returnsType:["string"],forFieldType:["assets"],description:"Returns the string output of an Asset file's contents.",docLink:"https://statamic.dev/modifiers/output",parameters:[],canBeParameter:!1,isDeprecated:!1}];var P_=[{name:"contains_all",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_all",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"contains_any",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if a string contains all of the provided needles.",docLink:"https://statamic.dev/modifiers/contains_any",parameters:[{name:"needle",description:"The string(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"ends_with",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if a string ends with another string.",docLink:"https://statamic.dev/modifiers/ends_with",parameters:[{name:"value",description:"The value to check against."}],canBeParameter:!1,isDeprecated:!1},{name:"has_lower_case",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains any lowercase characters.",docLink:"https://statamic.dev/modifiers/has_lower_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"has_upper_case",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains any uppercase characters.",docLink:"https://statamic.dev/modifiers/has_upper_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"in_array",acceptsType:["array"],returnsType:["boolean"],forFieldType:[],description:"Tests if an array contains a specific value.",docLink:"https://statamic.dev/modifiers/in_array",parameters:[{name:"needle",description:"The value(s) to search for."}],canBeParameter:!1,isDeprecated:!1},{name:"is_after",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is after another date.",docLink:"https://statamic.dev/modifiers/is_after",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1,isDeprecated:!1},{name:"is_alphanumeric",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains only alphanumeric characters.",docLink:"https://statamic.dev/modifiers/is_alphanumeric",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_before",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if a date is before another date.",docLink:"https://statamic.dev/modifiers/is_before",parameters:[{name:"date",description:"The date to compare to."}],canBeParameter:!1,isDeprecated:!1},{name:"is_between",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if a date is between two other dates.",docLink:"https://statamic.dev/modifiers/is_between",parameters:[{name:"start_date",description:"The start date to compare."},{name:"end_date",description:"The end date to compare."}],canBeParameter:!1,isDeprecated:!1},{name:"is_blank",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains only whitespace characters.",docLink:"https://statamic.dev/modifiers/is_blank",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],forFieldType:["text","textarea"],description:"Tests if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_future",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is in the future.",docLink:"https://statamic.dev/modifiers/is_future",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_json",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string is valid JSON.",docLink:"https://statamic.dev/modifiers/is_json",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_leap_year",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is a leap year.",docLink:"https://statamic.dev/modifiers/is_leap_year",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_numeric",acceptsType:["string","number"],returnsType:["boolean"],forFieldType:[],description:"Tests if the value is a number or numeric string.",docLink:"https://statamic.dev/modifiers/is_numeric",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_past",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is in the past.",docLink:"https://statamic.dev/modifiers/is_past",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_today",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is today.",docLink:"https://statamic.dev/modifiers/is_today",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_uppercase",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string contains only uppercase characters.",docLink:"https://statamic.dev/modifiers/is_uppercase",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if the string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_weekday",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is a week day.",docLink:"https://statamic.dev/modifiers/is_weekday",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_weekend",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is a weekend day.",docLink:"https://statamic.dev/modifiers/is_weekend",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_yesterday",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is yesterday.",docLink:"https://statamic.dev/modifiers/is_yesterday",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_tomorrow",acceptsType:["string","date"],returnsType:["boolean"],forFieldType:["date"],description:"Tests if the date is tomorrow.",docLink:null,parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"starts_with",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Tests if a value starts with the provided value.",docLink:"https://statamic.dev/modifiers/starts_with",parameters:[{name:"value",description:"The value to test for."}],canBeParameter:!1,isDeprecated:!1}];var D_=[{name:"days_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of days since a given date.",docLink:"https://statamic.dev/modifiers/days_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"format_translated",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Returns a formatted Carbon datetime/string.",docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!1},{name:"format",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Formats the date using the provided format using PHP's [date variables](https://www.php.net/date).",hoverDescription:`Formats the date using the provided format using PHP's [date variables](https://www.php.net/date).

## Formatting Options

See [PHP: DateTimeInterface::format](https://www.php.net/manual/en/datetime.format.php) for all available options.

| Format Character | Description | Example |
|:----|----|---|
| Day | --- | --- |
| d | Day of the month, 2 digits with leading zeros | 01 to 31 |
| D |A textual representation of a day | Mon - Sun |
| j | Day of the month, without leading zeros | 1 - 31 |
| l | The day of the week | Sunday - Saturday |
| N | ISO 8601 representation of the day of the week | 1 (Monday) - 7 (Sunday) |
| S | English ordinal suffix for the day | st, nd, rt, or th |
| w | Numeric day of the week | 0 (Sunday) - 6 (Saturday) |
| z | Day of the year, starting at 0 | 0 - 365 |
| Week | --- | --- |
| W | ISO 8601 week number of the year, starting on Monday | 42 |
| Month | --- | --- |
| F | Text representation of the month | January - December |
| m | Numeric representation of the month, with leading zeros | 01 - 12 |
| M | A short text representation of the month | Jan - Dec |
| n | Numeric representation of the month | 1 - 12 |
| t | Number of days in the month | 28 - 31 |
| Year | --- | --- |
| L | Indicates if it's a leap year | 1 if true, 0 otherwise |
| Y | Four digit representation of the year | 2022 |
| y | Two digit representation of the year | 22 |
| Time | --- | --- |
| a | Lowercase Anti meridiem and Post meridiem | am or pm |
| A | Uppercase Anti meridiem and Post meridiem | AM or PM |
| g | 12-hour hour format without leading zeros | 1 - 12 |
| G | 24-hour hour format without leading zeros | 0 - 23 |
| h | 12-hour hour format with leading zeros | 01 - 12 |
| H | 24-hour hour format with leading zeros | 00 - 23 |
| i | Minutes with leading zeros | 00 - 59 |
| s | Seconds with leading zeros | 00 - 59 |
| Timezone | --- | --- |
| e | Timezone identifier | UTC, GMT |
| I | Indicates if date is in daylight saving time | 1 if true, 0 otherwise |
| T | Timezone appreviation | EST, MDT, +05 |
`,docLink:"https://statamic.dev/modifiers/format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!1},{name:"format_localized",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Formats the date using server's locale, using PHP's [strftime format variables](https://www.php.net/strftime).",docLink:"https://statamic.dev/modifiers/format_localized",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!0,isDeprecated:!0,getDeprecatedMessage(){return"The format_localized modifier is deprecated. Alternatives, such as the iso_format modifier, should be used instead."}},{name:"hours_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of hours since the date.",docLink:"https://statamic.dev/modifiers/hours_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"iso_format",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Formats the date using an ISO format.",docLink:"https://statamic.dev/modifiers/iso_format",parameters:[{name:"format",description:"The format to use."}],canBeParameter:!1,isDeprecated:!1},{name:"minutes_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of minutes since the date.",docLink:"https://statamic.dev/modifiers/minutes_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"modify_date",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Alters the date by incrementing or decrementing it in a format accepted by PHP's [strtotime](https://www.php.net/strtotime) function.",docLink:"https://statamic.dev/modifiers/modify_date",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"months_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of months since the date.",docLink:"https://statamic.dev/modifiers/months_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"relative",acceptsType:["string","date"],returnsType:["string"],forFieldType:["date"],description:"Returns a human readable date difference.",docLink:"https://statamic.dev/modifiers/relative",parameters:[{name:"add_ago",description:"Whether to add the relative suffix words at the end of the string."}],canBeParameter:!1,isDeprecated:!1},{name:"seconds_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of seconds since the date.",docLink:"https://statamic.dev/modifiers/seconds_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"timezone",acceptsType:["string","date"],returnsType:["string","date"],forFieldType:["date"],description:"Applies a timezone to the date.",docLink:"https://statamic.dev/modifiers/timezone",parameters:[{name:"timezone",description:"The timezone to apply."}],canBeParameter:!1,isDeprecated:!1},{name:"weeks_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of weeks since the date.",docLink:"https://statamic.dev/modifiers/weeks_ago",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"years_ago",acceptsType:["string","date"],returnsType:["number"],forFieldType:["date"],description:"Returns the number of years since the date.",docLink:"https://statamic.dev/modifiers/years_ago",parameters:[],canBeParameter:!1,isDeprecated:!1}];var S_=[{name:"chunk",acceptsType:["array"],returnsType:["array"],forFieldType:[],description:"Breaks the array or collection into smaller arrays of a given size.",docLink:"https://statamic.dev/modifiers/chunk",parameters:[{name:"chunk_size",description:"The maximum length of each new chunk."}],canBeParameter:!0,isDeprecated:!1},{name:"favicon",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Generates a favicon HTML meta tag for the given value.",docLink:"https://statamic.dev/modifiers/favicon",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"first",acceptsType:["string","array"],returnsType:["*"],forFieldType:[],description:"Returns the specified number of characters/items from the beginning of the string/array.",docLink:"https://statamic.dev/modifiers/first",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0,isDeprecated:!1},{name:"last",acceptsType:["string","array"],returnsType:["*"],forFieldType:[],description:"Returns the specified number of characters/items from the end of the string/array.",docLink:"https://statamic.dev/modifiers/last",parameters:[{name:"count",description:"The number of characters to return."}],canBeParameter:!0,isDeprecated:!1},{name:"link",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Generates an HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/link",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"mailto",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Generates a mailto HTML link for the provided value.",docLink:"https://statamic.dev/modifiers/mailto",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"markdown",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Parses the value as Markdown and returns the HTML.",docLink:"https://statamic.dev/modifiers/markdown",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"nl2br",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces line breaks with HTML `<br>` tags.",docLink:"https://statamic.dev/modifiers/nl2br",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"obfuscate",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Modifies the input string by replacing it with special characters, making it harder for bots but remains readable to site visitors.",docLink:"https://statamic.dev/modifiers/obfuscate",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"obfuscate_email",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Obfuscates an email address with special HTML characters.",docLink:"https://statamic.dev/modifiers/obfuscate_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"strip_tags",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Removes HTML tags from the string.",docLink:"https://statamic.dev/modifiers/strip_tags",parameters:[{name:"tags",description:"The HTML tag(s) to remove from the string."}],canBeParameter:!1,isDeprecated:!1},{name:"table",acceptsType:["array"],returnsType:["string"],forFieldType:["table"],description:"Turns a [Table FieldType](https://statamic.dev/fieldtypes/table) array into an HTML table.",docLink:"https://statamic.dev/modifiers/table",parameters:[{name:"content_markdown",description:"Whether to parse cell contents as Markdown."}],canBeParameter:!1,isDeprecated:!1},{name:"textile",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Parses a string with [Textile](http://demo.textilewiki.com/theme-default/) and returns the HTML.",docLink:"https://statamic.dev/modifiers/textile",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"wrap",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Wraps a string with a given HTML tag.",docLink:"https://statamic.dev/modifiers/wrap",parameters:[{name:"expression",description:"The HTML tag or Emmet-style expression to wrap the value in."}],canBeParameter:!1,isDeprecated:!1}];var A_=[{name:"add",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!0,isDeprecated:!1},{name:"+",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Adds two values together.",docLink:"https://statamic.dev/modifiers/add",parameters:[{name:"value",description:"The value to add."}],canBeParameter:!1,isDeprecated:!1},{name:"ceil",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Rounds the value to the next whole number.",docLink:"https://statamic.dev/modifiers/ceil",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"divide",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Divides two values.",docLink:"https://statamic.dev/modifiers/divide",parameters:[{name:"value",description:"The value to divide."}],canBeParameter:!0,isDeprecated:!1},{name:"floor",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Rounds a number down to the next whole number.",docLink:"https://statamic.dev/modifiers/floor",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"format_number",acceptsType:["number"],returnsType:["string"],forFieldType:[],description:"Formats a number.",docLink:"https://statamic.dev/modifiers/format_number",parameters:[{name:"precision",description:"Number of decimal places before rounding."},{name:"decimal_separator",description:"The decimal separator (defaults to `.`)."},{name:"thousands_separator",description:"The thousands separator (default `,`)."}],canBeParameter:!0,isDeprecated:!1},{name:"mode",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"",docLink:"",parameters:[],canBeParameter:!0,isDeprecated:!1},{name:"multiply",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!0,isDeprecated:!1},{name:"*",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Multiplies two values.",docLink:"https://statamic.dev/modifiers/multiply",parameters:[{name:"value",description:"The value to multiply."}],canBeParameter:!1,isDeprecated:!1},{name:"round",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Rounds a number to a specified precision.",docLink:"https://statamic.dev/modifiers/round",parameters:[{name:"precision",description:"The number of digits after the decimal point."}],canBeParameter:!0,isDeprecated:!1},{name:"subtract",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!0,isDeprecated:!1},{name:"-",acceptsType:["number"],returnsType:["number"],forFieldType:[],description:"Subtracts two values.",docLink:"https://statamic.dev/modifiers/subtract",parameters:[{name:"value",description:"The value to subtract."}],canBeParameter:!1,isDeprecated:!1}];var I_=[{name:"partial",acceptsType:["*"],returnsType:["*view*"],forFieldType:[],description:"Injects data into a partial and renders it.",docLink:"https://statamic.dev/modifiers/partial",parameters:[{name:"partial",description:"The name of the partial."}],canBeParameter:!1,isDeprecated:!1},{name:"macro",acceptsType:["*"],returnsType:["*"],forFieldType:[],description:"Runs a pre-configured macro on the data.",docLink:"https://statamic.dev/modifiers/macro",parameters:[{name:"macro",description:"The macro name."}],canBeParameter:!1,isDeprecated:!1},{name:"url",acceptsType:["string","*"],returnsType:["string"],forFieldType:[],description:"Locates the URL of an asset, page, entry, or taxonomy term based on the variable contents.",docLink:"https://statamic.dev/modifiers/url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"bool_string",acceptsType:["boolean","*"],returnsType:["string"],canBeParameter:!1,description:'Converts the provided value to a "true" or "false" string',docLink:null,forFieldType:["toggle"],isDeprecated:!1,parameters:[{name:"value",description:"The truthy value to convert to a string."}]}];var E_=[{name:"ascii",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces all non-ASCII characters with their closest ASCII counterparts.",docLink:"https://statamic.dev/modifiers/ascii",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"at",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns the character at a given zero-based position.",docLink:"https://statamic.dev/modifiers/at",parameters:[{name:"position",description:"The zero-based position to retrieve a character from."}],canBeParameter:!0,isDeprecated:!1},{name:"backspace",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Removes a specified number of characters from the end of a string.",docLink:"https://statamic.dev/modifiers/backspace",parameters:[{name:"character_count",description:"The number of characters to remove from the end of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"camelize",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts the string into camelCase.",docLink:"https://statamic.dev/modifiers/camelize",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"cdata",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Wraps the string in CDATA XML tags.",docLink:"https://statamic.dev/modifiers/cdata",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"collapse_whitespace",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Trims a string and replaces consecutive whitespace characters with a single space.",docLink:"https://statamic.dev/modifiers/collapse_whitespace",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"count_substring",acceptsType:["string"],returnsType:["number"],forFieldType:[],description:"Counts the number of occurrences of a term within the string.",docLink:"https://statamic.dev/modifiers/count_substring",parameters:[{name:"term",description:"The sub-string to search for."}],canBeParameter:!0,isDeprecated:!1},{name:"dashify",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a lower-cased and trimmed string, separated by dashes.",docLink:"https://statamic.dev/modifiers/dashify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"deslugify",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces all hyphens and underscores with spaces.",docLink:"https://statamic.dev/modifiers/deslugify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"embed_url",acceptsType:["string"],returnsType:["string"],forFieldType:["video"],description:"Converts a YouTube or Viemo link into their embed URLs.",docLink:"https://statamic.dev/modifiers/embed_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"trackable_embed_url",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Get the embed URL when given a YouTube or Vimeo link that's direct to the page.",docLink:null,parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"ensure_left",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Ensures that the string begins with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_left",parameters:[{name:"start_string",description:"The value that should be at the start of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"ensure_right",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Ensures that the string ends with the specified string.",docLink:"https://statamic.dev/modifiers/ensure_right",parameters:[{name:"end_string",description:"The value that should be at the end of the string."}],canBeParameter:!0,isDeprecated:!1},{name:"entities",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Encode a string with HTML entities.",docLink:"https://statamic.dev/modifiers/entities",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"excerpt",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Breaks a string at a given marker.",docLink:"https://statamic.dev/modifiers/excerpt",parameters:[{name:"marker",description:"The substring to break on."}],canBeParameter:!1,isDeprecated:!1},{name:"explode",acceptsType:["string"],returnsType:["array"],forFieldType:[],description:"Breaks a string into an array of strings.",docLink:"https://statamic.dev/modifiers/explode",parameters:[{name:"delimiter",description:"The string to split the larger string by."}],canBeParameter:!0,isDeprecated:!1},{name:"gravatar",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts an email string to a Gravatar image URL.",docLink:"https://statamic.dev/modifiers/gravatar",parameters:[{name:"image size",description:"The desired image size."}],canBeParameter:!0,isDeprecated:!1},{name:"insert",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Inserts a string at the position provided.",docLink:"https://statamic.dev/modifiers/insert",parameters:[{name:"value",description:"The value to insert."},{name:"position",description:"The zero based position to insert the text at."}],canBeParameter:!0,isDeprecated:!1},{name:"is_email",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Returns true if the string is a valid email address.",docLink:"https://statamic.dev/modifiers/is_email",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_embeddable",acceptsType:["string"],returnsType:["boolean"],forFieldType:["video"],description:"Checks to see if a video URL is embeddable.",docLink:"https://statamic.dev/modifiers/is_embeddable",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_lowercase",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Returns true if the string contains only lowercase characters.",docLink:"https://statamic.dev/modifiers/is_lowercase",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"is_url",acceptsType:["string"],returnsType:["boolean"],forFieldType:[],description:"Returns true if a string is a valid URL.",docLink:"https://statamic.dev/modifiers/is_url",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"lcfirst",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts the first character of the value to lower case.",docLink:"https://statamic.dev/modifiers/lcfirst",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"length",acceptsType:["string"],returnsType:["number"],forFieldType:[],description:"Returns the number of items in an array or number of characters in a string.",docLink:"https://statamic.dev/modifiers/length",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"lower",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts all characters to lowercase.",docLink:"https://statamic.dev/modifiers/lower",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"md5",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Creates an MD5 hash of the variable.",docLink:"https://statamic.dev/modifiers/md5",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"rawurlencode",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"URL-encode a variable according to RFC-3986.",docLink:"https://statamic.dev/modifiers/rawurlencode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"read_time",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns an estimated read time, in minutes.",docLink:"https://statamic.dev/modifiers/read_time",parameters:[{name:"words per minute",description:"The words per minute to use as an estimate."}],canBeParameter:!0,isDeprecated:!1},{name:"regex_replace",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces all regex matches within a string.",docLink:"https://statamic.dev/modifiers/regex_replace",parameters:[{name:"pattern",description:"The regex pattern."},{name:"replace",description:"The replacement value."}],canBeParameter:!0,isDeprecated:!1},{name:"remove_left",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Ensures that the string never begins with a specified string.",docLink:"https://statamic.dev/modifiers/remove_left/",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0,isDeprecated:!1},{name:"remove_right",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Ensures that a string never ends with a specified string.",docLink:"https://statamic.dev/modifiers/remove_right",parameters:[{name:"value",description:"The value to remove."}],canBeParameter:!0,isDeprecated:!1},{name:"replace",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces all occurrences of a string with a different value.",docLink:"https://statamic.dev/modifiers/replace",parameters:[{name:"needle",description:"The string to search for."},{name:"value",description:"The value to replace all occurrences with."}],canBeParameter:!0,isDeprecated:!1},{name:"reverse",acceptsType:["string","array"],returnsType:["string","array"],forFieldType:[],description:"Reverses all characters in a string, or all items in an array.",docLink:"https://statamic.dev/modifiers/reverse",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"safe_truncate",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/safe_truncate",parameters:[{name:"length",description:"The desired string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1,isDeprecated:!1},{name:"sanitize",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts special characters to HTML entities.",docLink:"https://statamic.dev/modifiers/sanitize",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"segment",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a segment by number from any valid URL or URI.",docLink:"https://statamic.dev/modifiers/segment",parameters:[{name:"segment",description:"The one-based segment to return."}],canBeParameter:!0,isDeprecated:!1},{name:"singular",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns the singular form of an English word.",docLink:"https://statamic.dev/modifiers/singular",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"slugify",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts the string into an URL slug.",docLink:"https://statamic.dev/modifiers/slugify",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"smartypants",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Translates plain ASCII punctuation characters into typographic punctuation HTML entities.",docLink:"https://statamic.dev/modifiers/smartypants",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"spaceless",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Removes excess whitespace and line breaks from a string.",docLink:"https://statamic.dev/modifiers/spaceless",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"substr",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a portion of a string based on provided a start index, and optional length.",docLink:"https://statamic.dev/modifiers/substr",parameters:[{name:"start",description:"The 0-based index to start searching."},{name:"length",description:"An optional length for the string to find."}],canBeParameter:!1,isDeprecated:!1},{name:"surround",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Surrounds a string with another string.",docLink:"https://statamic.dev/modifiers/surround",parameters:[{name:"value",description:"The value to surround the string with."}],canBeParameter:!1,isDeprecated:!1},{name:"swap_case",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a case swapped version of the string.",docLink:"https://statamic.dev/modifiers/swap_case",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"tidy",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a string with smart quotes, ellipsis characters, and dashes from Windows-1252 replaced by ASCII equivalents.",docLink:"https://statamic.dev/modifiers/tidy",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"title",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a Title Cased version of the string.",docLink:"https://statamic.dev/modifiers/title",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"trim",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Removes whitespace from the start and end of the string.",docLink:"https://statamic.dev/modifiers/trim",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"truncate",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Truncates a string to a given length.",docLink:"https://statamic.dev/modifiers/truncate",parameters:[{name:"length",description:"The maximum string length."},{name:"suffix",description:"An optional suffix to append to the string if truncation occurs."}],canBeParameter:!1,isDeprecated:!1},{name:"ucfirst",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Upper cases the first character in the string.",docLink:"https://statamic.dev/modifiers/ucfirst",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"underscored",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Returns a lower-cased and trimmed version of the string, separated by underscores.",docLink:"https://statamic.dev/modifiers/underscored",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"upper",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Transforms the string to uppercase.",docLink:"https://statamic.dev/modifiers/upper",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"urldecode",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"URL-decodes the string.",docLink:"https://statamic.dev/modifiers/urldecode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"urlencode",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"URL-encodes the string.",docLink:"https://statamic.dev/modifiers/urlencode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"widont",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Attempts to prevent lines with single words.",docLink:"https://statamic.dev/modifiers/widont",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"word_count",acceptsType:["string"],returnsType:["number"],forFieldType:[],description:"Returns the number of words in the string.",docLink:"https://statamic.dev/modifiers/word_count",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"add_slashes",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Adds slashes before characters that need to be escaped.",docLink:"https://statamic.dev/modifiers/add_slashes",canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"antlers",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Parses the provided value as Antlers, and returns the result.",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"bard_items",acceptsType:["string"],returnsType:["array"],forFieldType:["bard"],description:"Converts a Bard value to a flat array of nodes and marks.",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"bard_text",acceptsType:["array","string"],returnsType:["string"],forFieldType:["bard"],description:"Converts a Bard value to plain text (excluding sets).",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"bard_html",acceptsType:["array","string"],returnsType:["string"],forFieldType:["bard"],description:"Converts a Bard value to HTML (excluding sets).",docLink:null,canBeParameter:!1,parameters:[],isDeprecated:!1},{name:"mark",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Wraps matched words and phrases in <mark> tags.",docLink:null,canBeParameter:!1,parameters:[{name:"search",description:"The search word or phrase to wrap in <mark> tags."}],isDeprecated:!1},{name:"regex_mark",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Wraps matched words and phrases in <mark> tags using regular expressions.",docLink:null,canBeParameter:!1,parameters:[{name:"pattern",description:"The search pattern used to wrap content in <mark> tags."}],isDeprecated:!1}];var x_=[{name:"console_log",acceptsType:["*"],returnsType:["null"],forFieldType:[],description:"Displays variable data in the browser's JavaScript console.",docLink:"https://statamic.dev/modifiers/console_log",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"decode",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts all HTML entities to their character codes.",docLink:"https://statamic.dev/modifiers/decode",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"dump",acceptsType:["*"],returnsType:["null"],forFieldType:[],description:"Displays variable data in the browser.",docLink:"https://statamic.dev/modifiers/dump",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"full_urls",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Replaces root-relative URLs with absolute URLs.",docLink:"https://statamic.dev/modifiers/full_urls",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"repeat",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Repeats a value a given number of times.",docLink:"https://statamic.dev/modifiers/repeat",parameters:[{name:"times",description:"The number of times to repeat the value."}],canBeParameter:!0,isDeprecated:!1},{name:"to_spaces",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts all tabs to spaces.",docLink:"https://statamic.dev/modifiers/to_spaces",parameters:[{name:"space_count",description:"The number of spaces to replace tabs with."}],canBeParameter:!1,isDeprecated:!1},{name:"to_tabs",acceptsType:["string"],returnsType:["string"],forFieldType:[],description:"Converts spaces to tabs.",docLink:"https://statamic.dev/modifiers/to_tabs",parameters:[{name:"space_count",description:"The number of spaces to convert to tabs."}],canBeParameter:!1,isDeprecated:!1},{name:"to_json",acceptsType:["*"],returnsType:["string"],forFieldType:[],description:"Converts the data to JSON",docLink:"https://statamic.dev/modifiers/to_json",parameters:[],canBeParameter:!1,isDeprecated:!1},{name:"to_bool",acceptsType:["*"],returnsType:["boolean"],forFieldType:[],description:"Converts the data to a boolean/truthy value.",parameters:[],canBeParameter:!1,docLink:null,isDeprecated:!1}];var ki=class{constructor(){this.registeredModifiers=new Map;this.acceptTypedModifierReference=new Map;this.returnTypeModifierReference=new Map;this.macros=new Map;this.modifierNameCache=[]}reset(){this.modifierNameCache=[],this.registeredModifiers.clear(),this.acceptTypedModifierReference.clear(),this.returnTypeModifierReference.clear()}getRegisteredModifiers(){return this.registeredModifiers}resetMacros(){this.macros.clear()}loadCoreModifiers(){this.registerModifiers(N_),this.registerModifiers(C_),this.registerModifiers(P_),this.registerModifiers(D_),this.registerModifiers(S_),this.registerModifiers(A_),this.registerModifiers(x_),this.registerModifiers(E_),this.registerModifiers(I_)}getModifierNames(){return this.modifierNameCache}registerMacro(e){this.macros.set(e.name,e)}registerMacros(e){for(let n=0;n<e.length;n++)this.registerMacro(e[n])}hasMacro(e){if(this.macros.has(e)){let n=this.macros.get(e);return!(typeof n>"u"||n===null)}return!1}getMacro(e){if(this.macros.has(e)){let n=this.macros.get(e);return typeof n>"u"||n===null?null:n}return null}getMacroManifestingType(e){let n=this.getMacro(e);return n==null?"":n.manifestsType}getRegisteredModifier(e){return this.registeredModifiers.has(e)?this.registeredModifiers.get(e):null}getModifiersForType(e){let n=Ru(e);return this.acceptTypedModifierReference.has(n)?this.acceptTypedModifierReference.get(n):[]}getProbableReturnType(e,n){return e==null||e.returnsType.length==0?"":n&&e.returnsType.includes("array")?"array":e.returnsType[0]}registerModifiers(e){for(let n=0;n<e.length;n++){let r=e[n];this.modifierNameCache.push(r.name);for(let i=0;i<r.acceptsType.length;i++){let s=r.acceptsType[i];this.acceptTypedModifierReference.has(s)==!1&&this.acceptTypedModifierReference.set(s,[]),this.acceptTypedModifierReference.get(s)?.push(r)}for(let i=0;i<r.returnsType.length;i++){let s=r.returnsType[i];this.returnTypeModifierReference.has(s)==!1&&this.returnTypeModifierReference.set(s,[]),this.returnTypeModifierReference.get(s)?.push(r)}this.registeredModifiers.set(e[n].name,e[n])}}registerModifier(e){let n=[];n.push(e),this.registerModifiers(n)}getModifier(e){if(this.registeredModifiers.has(e)==!1)return null;let n=this.registeredModifiers.get(e);return typeof n>"u"||n==null?null:n}hasModifier(e){if(!this.registeredModifiers.has(e))return!1;let n=this.registeredModifiers.get(e);return!(typeof n>"u"||n==null)}};ki.instance=null;(typeof ki.instance>"u"||ki.instance==null)&&(ki.instance=new ki,ki.instance.loadCoreModifiers());var Tt=ki;var wu=class{constructor(e){this.parameterModifiers=[];this.hasMixedModifierStyles=!1;this.modifierNames=[];this.node=e}isPaired(){return this.node instanceof W?this.node.isPaired():!1}getModifierValue(e){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let n=0;n<this.node.modifierChain.modifierChain.length;n++){let r=this.node.modifierChain.modifierChain[n];if(r.nameNode?.name==e)return r.valueNodes.length>0?r.valueNodes[0].content:""}if(this.hasParameterModifiers())for(let n=0;n<this.parameterModifiers.length;n++){let r=this.parameterModifiers[n];if(r.name==e)return r.value}return null}getModifierRange(e){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0)for(let n=0;n<this.node.modifierChain.modifierChain.length;n++){let r=this.node.modifierChain.modifierChain[n];if(r.nameNode?.name==e)return r.valueNodes.length>0?{start:r.startPosition,end:r.endPosition}:null}if(this.hasParameterModifiers())for(let n=0;n<this.parameterModifiers.length;n++){let r=this.parameterModifiers[n];if(r.name==e&&r.namePosition!=null&&r.valuePosition!=null)return{start:r.namePosition.start,end:r.valuePosition.end}}return null}getLastManifestedModifierRuntimeType(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null){if(this.node.modifierChain.lastManifestedModifier.parameters.length>0&&this.node.modifierChain.lastManifestedModifier.modifier!=null&&Tt.instance!=null){let e=this.node.modifierChain.lastManifestedModifier.modifier;return Tt.instance.getProbableReturnType(e,this.isPaired())}return"*"}if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null&&Tt.instance!=null){let r=e[n].modifier;return Tt.instance.getProbableReturnType(r,this.isPaired())}}return"*"}getLastManifestedModifierValue(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastManifestedModifier!=null)return this.node.modifierChain.lastManifestedModifier.parameters.length>0?this.node.modifierChain.lastManifestedModifier.parameters[0].value:"";if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null)return e[n].value}return""}getLastManifestedModifier(){if(this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0&&this.node.modifierChain.lastModifier!=null)return this.node.modifierChain.lastModifier;if(this.parameterModifiers.length>0){let e=this.parameterModifiers.reverse();for(let n=0;n<e.length;n++)if(e[n].modifier!=null)return e[n].modifier}return null}hasModifiers(){return this.node.modifierChain==null||this.node.modifierChain.modifierChain.length==0?this.parameterModifiers.length>0:!0}hasParameterModifiers(){return this.parameterModifiers.length>0}hasShorthandModifiers(){return this.node.modifierChain!=null&&this.node.modifierChain.modifierChain.length>0}hasModifier(e){return this.modifierNames.includes(e)}};function Yp(t){let e=[];return t.forEach(n=>{n instanceof W?e.push(n):n instanceof cn&&n.logicBranches.length>0&&n.logicBranches.forEach(r=>{if(r.head!=null){let i=r.head;i.originalNode!=null?e.push(i.originalNode):e.push(i)}})}),e}var SD=[" ",`
`,"\r","	","\f","\v","\xA0","\u2000","\u2001","\u2002","\u2003","\u2004","\u2005","\u2006","\u2007","\u2008","\u2009","\u200A","\u200B","\u2028","\u2029","\u3000"].join("");function R_(t){return(typeof t=="number"||typeof t=="string"&&SD.indexOf(t.slice(-1))===-1)&&t!==""&&!isNaN(t)}var G=class{static boolLabel(e){return e?"true":"false"}static normalizeLineEndings(e,n=`
`){return e.replace(/\r?\n/g,n)}static breakByNewLine(e){return e.replace(/(\r\n|\n|\r)/gm,`
`).split(`
`)}static split(e){return e.split("")}static substring(e,n,r){return e.substr(n,r)}static ctypeSpace(e){return e?.search(/^[\f\n\r\t\v ]+$/g)!==-1}static ctypeAlpha(e){return e?.search(/^[A-Za-z]+$/g)!==-1}static ctypeDigit(e){return e?.search(/^[\d]+$/g)!==-1}static ctypePunct(e){return e?.search(/^[\u0021-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007E]+$/g)!==-1}static trimLeft(e,n="\\s"){return e.replace(new RegExp("^["+n+"]+"),"")}static trimRight(e,n="\\s"){return e.replace(new RegExp("["+n+"]+$"),"")}static isNumeric(e){return R_(e)}static substringCount(e,n){let r=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return(e.match(new RegExp(r,"gi"))||[]).length}static getLastLine(e){let n=G.breakByNewLine(e);return n.length==0?"":n[n.length-1]}static getFirstLine(e){let n=G.breakByNewLine(e);return n.length==0?"":n[0]}static snakeCase(e){return e.replace(/([A-Z])/g,n=>`_${n.toLowerCase()}`).replace(/^_/,"")}static makeSlug(e){e<=2&&(e=7);let n="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=r.length;for(let a=0;a<e-1;a++)n+=r.charAt(Math.floor(Math.random()*i));return("A"+n+"A").toLowerCase()}};var Ou=class{constructor(e){this.node=e}findParentWithName(e){let n=this.node.getParser();return n==null?null:n.structure.findParentWithName(e,this.node)}};var O_=Le(Fu(),1);var U=class{constructor(){this.node=null;this.errorCode="";this.message="";this.level=0;this.range=null;this.actions=[];this.lsRange=null;this.data=null}hash(){let e="";return this.node!=null&&(e=(this.node.endPosition?.offset??0).toString()+"|"+(this.node.startPosition?.offset??0).toString()+"|"),O_.Md5.hashStr(e+"|"+this.errorCode)}static makeSyntaxError(e,n,r,i){i==null&&(i=0);let s=new U;return s.errorCode=e,s.node=n,s.message=r,s.level=i,s}};var N=class{};N.TYPE_EXPECTING_OPERAND="ANTLR_001",N.TYPE_UNEXPECTED_END_OF_INPUT="ANTLR_002",N.TYPE_RUNTIME_TYPE_MISMATCH="ANTLR_003",N.TYPE_RUNTIME_DIVIDE_BY_ZERO="ANTLR_004",N.TYPE_RUNTIME_UNKNOWN_LANG_OPERATOR="ANTLR_005",N.TYPE_RUNTIME_UNEXPECTED_STACK_CONDITION="ANTLR_006",N.TYPE_RUNTIME_PARSE_VALUE_VIOLATION="ANTLR_007",N.TYPE_PARSE_UNCLOSED_CONDITIONAL="ANTLR_008",N.TYPE_PARSE_EMPTY_CONDITIONAL="ANTLR_009",N.TYPE_PARSE_UNPAIRED_CONDITIONAL="ANTLR_008",N.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE="ANTLR_009",N.TYPE_INCOMPLETE_ANTLERS_REGION="ANTLR_010",N.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION="ANTLR_011",N.TYPE_ILLEGAL_VARPATH_RIGHT="ANTLR_012",N.TYPE_ILLEGAL_DOTVARPATH_RIGHT="ANTLR_013",N.TYPE_ILLEGAL_VARPATH_SUBPATH_START="ANTLR_014",N.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT="ANTLR_015",N.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR="ANTLR_016",N.TYPE_ILLEGAL_VARIABLE_NAME="ANTLR_017",N.TYPE_UNSET_MODIFIER_DETAILS="ANTLR_018",N.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS="ANTLR_019",N.TYPE_MODIFIER_UNEXPECTED_VALUE="ANTLR_020",N.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST="ANTLR_021",N.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR="ANTLR_022",N.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH="ANTLR_023",N.TYPE_RECURSIVE_UNPAIRED_NODE="ANTLR_024",N.TYPE_RECURSIVE_NODE_INVALID_POSITION="ANTLR_025",N.TYPE_NO_PARSE_UNASSOCIATED="ANTLR_026",N.TYPE_RECURSIVE_NODE_UNASSOCIATED_PARENT="ANTLR_027",N.TYPE_LOGIC_GROUP_NO_END="ANTLR_028",N.TYPE_LOGIC_GROUP_NO_START="ANTLR_029",N.TYPE_UNEXPECTED_BRANCH_SEPARATOR="ANTLR_030",N.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE="ANTLR_031",N.TYPE_UNEXPECTED_MODIFIER_SEPARATOR="ANTLR_032",N.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS="ANTLR_033",N.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE="ANTLR_034",N.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER="ANTLR_035",N.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE="ANTLR_036",N.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS="ANTLR_037",N.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SEMANTIC_GROUP="ANTLR_038",N.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP="ANTLR_039",N.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP="ANTLR_040",N.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH="ANTLR_041",N.TYPE_UNEXPECTED_EOI_WHILE_EXITING_TERNARY_GROUP="ANTLR_042",N.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET="ANTLR_043",N.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION="ANTLR_044",N.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END="ANTLR_045",N.TYPE_RUNTIME_UNKNOWN_LIBRARY="ANTLR_046",N.TYPE_RUNTIME_LIBRARY_BAD_METHOD_CALL="ANTLR_047",N.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS="ANTLR_048",N.TYPE_UNEXPECTED_FACTORIAL_OPERAND="ANTLR_049",N.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR="ANTLR_050",N.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED="ANTLR_051",N.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT="ANTLR_052",N.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP="ANTLR_053",N.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT="ANTLR_054",N.TYPE_LIBRARY_CALL_NO_ARGS_PROVIDED="ANTLR_055",N.TYPE_LIBRARY_CALL_MISSING_REQUIRED_FORMAL_ARG="ANTLR_056",N.TYPE_LIBRARY_CALL_RUNTIME_TYPE_MISMATCH="ANTLR_057",N.TYPE_LIBRARY_CALL_UNEXPECTED_ARG_RESOLVE_FAULT="ANTLR_058",N.TYPE_LIBRARY_CALL_TOO_MANY_ARGUMENTS="ANTLR_059",N.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD="ANTLR_060",N.TYPE_INVALID_NAMED_ARG_IDENTIFIER="ANTLR_061",N.TYPE_LIBRARY_CALL_INVALID_ARGUMENT_NAME="ANTLR_062",N.TYPE_RUNTIME_ATTEMPT_TO_OVERWRITE_LOADED_LIBRARY="ANTLR_063",N.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP="ANTLR_064",N.TYPE_EXPECTING_ARGUMENT_GROUP="ANTLR_065",N.TYPE_RUNTIME_PROTECTED_LIBRARY_ACCESS_VIOLATION="ANTLR_066",N.TYPE_RUNTIME_FATAL_UNPAIRED_LOOP_END="ANTLR_067",N.TYPE_UNEXPECTED_OPERATOR="ANTLR_068",N.TYPE_OPERATOR_INVALID_ON_RIGHT="ANTLR_069",N.TYPE_INVALID_ASSIGNMENT_LOOP_PAIR="ANTLR_070",N.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP="ANTLR_071",N.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND="ANTLR_072",N.TYPE_QUERY_UNSUPPORTED_VALUE_TYPE="ANTLR_073",N.TYPE_UNEXPECTED_RUNTIME_RESULT_FOR_ORDER_BY_CLAUSE="ANTLR_074",N.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP="ANTLR_075",N.TYPE_INVALID_ORDER_BY_NAME_VALUE="ANTLR_076",N.TYPE_INVALID_ORDER_BY_SORT_VALUE="ANTLR_077",N.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY="ANTLR_78",N.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY="ANTLR_079",N.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE="ANTLR_080",N.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP="ANTLR_081",N.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP="ANTLR_082",N.TYPE_UNEXPECTED_SWITCH_START_VALUE="ANTLR_083",N.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE="ANTLR_084",N.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_SEMANTIC_VALUE="ANTLR_085",N.TYPE_SWITCH_DEFAULT_MUST_BE_LAST="ANTLR_086",N.TYPE_PARSER_INVALID_SWITCH_TOKEN="ANTLR_087",N.TYPE_ORDER_BY_INVALID_RETURN_TYPE="ANTLR_088",N.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED="ANTLR_089",N.TYPE_PLUCK_INTO_MISSING_VARIABLE_TARGET="ANTLR_090",N.TYPE_PLUCK_INTO_INVALID_VARIABLE_TARGET="ANTLR_091",N.TYPE_PLUCK_INTO_NO_PREDICATE="ANTLR_092",N.TYPE_PLUCK_INTO_INVALID_PREDICATE_VALUE="ANTLR_093",N.TYPE_PLUCK_INTO_EMPTY_LOGIC_GROUP="ANTLR_094",N.TYPE_PLUCK_INTO_INVALID_NUMBER_OF_TUPLE_VARIABLES="ANTLR_095",N.TYPE_PLUCK_INTO_UNKNOWN_ALIAS_VARNAME="ANTLR_096",N.TYPE_PLUCK_INTO_UNEXPECTED_EMPTY_T_LOGIC_GROUP="ANTLR_097",N.TYPE_PLUCK_INTO_REFERENCE_TYPE_DYNAMIC="ANTLR_098",N.TYPE_PLUCK_INTO_REFERENCE_AMBIGUOUS="ANTLR_099",N.TYPE_RUNTIME_ASSIGNMENT_TO_NON_VAR="ANTLR_100",N.TYPE_ARR_MAKE_MISSING_TARGET="ANTLR_101",N.TYPE_ARR_MAKE_UNEXPECTED_TYPE="ANTLR_102",N.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE="ANTLR_103",N.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE="ANTLR_104",N.TYPE_ARR_UNEXPECT_ARG_SEPARATOR="ANTLR_105",N.TYPE_ARR_KEY_PAIR_MISSING_KEY="ANTLR_106",N.RUNTIME_PROTECTED_VAR_ACCESS="ANTLR_107",N.RUNTIME_PROTECTED_TAG_ACCESS="ANTLR_108",N.RUNTIME_PROTECTED_MODIFIER_ACCESS="ANTLR_109",N.TYPE_INCOMPLETE_PHP_EVALUATION_REGION="ANTLR_110",N.RUNTIME_PHP_NODE_WHEN_PHP_DISABLED="ANTLR_111",N.RUNTIME_PHP_NODE_USER_CONTENT_TAG="ANTLR_112",N.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST="ANTLR_113",N.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST="ANTLR_114",N.TYPE_MISSING_BODY_TUPLE_LIST="ANTLR_115",N.TYPE_MISSING_NAMES_TUPLE_LIST="ANTLR_116",N.TYPE_VALUE_NAME_LENGTH_MISMATCH_TUPLE_LIST="ANTLR_117",N.TYPE_INVALID_TUPLE_LIST_NAME_TYPE="ANTLR_118",N.TYPE_INVALID_MANIFESTED_NAME_GROUP="ANTLR_119",N.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP="ANTLR_120",N.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE="ANTLR_121",N.TYPE_RUNTIME_BAD_METHOD_CALL="ANTLR_122",N.TYPE_METHOD_CALL_MISSING_ARG_GROUP="ANTLR_123",N.TYPE_INVALID_METHOD_CALL_ARG_GROUP="ANTLR_124",N.TYPE_METHOD_CALL_MISSING_METHOD="ANTLR_125",N.TYPE_MODIFIER_NOT_FOUND="ANTLR_126",N.TYPE_RUNTIME_GENERAL_FAULT="ANTLR_127",N.TYPE_MODIFIER_INCORRECT_VALUE_POSITION="ANTLR_128",N.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX="ANTLR_129",N.TYPE_RUNTIME_ATTEMPTING_TO_RENDER_OBJECT_AS_STRING="ANTLR_130",N.TYPE_UNPAIRED_CLOSING_TAG="ANTLR_131",N.PARSER_CANNOT_PARSE_PATH_RECURSIVE="ANTLR_200",N.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR="ANTLR_201",N.LINT_UNKNOWN_PARAMETER="ANTLR_500",N.LINT_GENERAL_INVALID_PARAMETER_CONTENTS="ANTLR_501",N.LINT_PARAMETER_CONTENT_INVALID_INTEGER="ANTLR_502",N.LINT_PARAMETER_CONTENT_INVALID_BOOLEAN="ANT LR_503",N.LINT_PAGINATE_INVALID_VALUE="ANTLR_504",N.LINT_DEBUG_DATA_EXPOSED="ANTLR_505",N.LINT_DOUBLE_COLON_IN_TAG_IDENTIFIER="ANTLR_506",N.LINT_MIXED_MODIFIERS="ANTLR_507",N.LINT_MODIFIER_UNEXPECTED_TYPE="ANTLR_508",N.LINT_REMOVE_RELATE_TAG="ANTLR_509",N.LINT_SET_PRODUCES_RUNTIME_ERROR="ANTLR_510",N.LINT_FRONT_MATTER_EMPTY_DOCUMENT="ANTLR_511",N.LINT_SHORTHAND_MODIFIER_TAG_MUST_MATCH="ANTLR_512",N.LINT_INVALID_FRONT_MATTER="ANTLR_513",N.LINT_DUPLICATE_CODE="ANTLR_514",N.LINT_VERSION_NOT_COMPATIBLE="ANTLR_515",N.LINT_INTERLEAVED_TAG_PAIRS="ANTLR_516",N.LINT_MISSING_REQUIRED_PARAMETER="ANTLR_517",N.LINT_POSSIBLE_PARTIAL_RECURSION="ANTLR_518",N.LINT_URL_VARIABLE_WITHOUT_SANITIZE="ANTLR_519",N.LINT_DYNAMIC_CLASS_NAMES_POSSIBLE_PURGE="ANTLER_520",N.LINT_DEPRECATED_MODIFIER="ANTLER_521",N.LINT_INVALID_VARIABLE_ACCESS="ANTLR_522",N.LINT_SELECT_FIELD_JOIN_RAW="ANTLR_523",N.LINT_INVALID_PARAMETER_VALUE_DELIMITER="ANTLR_524",N.LINT_MODIFIERS_ON_QUERY_BUILDERS_REQUIRE_AS="ANTLR_525";var ut=class{static distance(e,n){return e.endPosition==null||n.startPosition==null?this.DistMax:n.startPosition.index-e.endPosition.index}static getTrueName(e){return e.originalNode!=null?e.originalNode.name?.name??"":e.name?.name??""}static getSimpleVarName(e){return e.variableReference!=null&&e.variableReference.pathParts.length==1&&e.variableReference.pathParts[0]instanceof hn?e.variableReference.pathParts[0].name:""}static isVariableMatching(e,n){return e instanceof ge?e.name==n:!1}static mergeVarContentLeft(e,n,r){return r.mergeRefName=r.name,r.endPosition=n.endPosition,r.name=r.name+e,r}static mergeVarContentRight(e,n,r){return r.mergeRefName=r.name,r.startPosition=n.startPosition,r.name=e+r.name,r}static mergeVarRight(e,n){return n.mergeRefName=n.name,n.startPosition=e.startPosition,n.name=e.name+n.name,n}static getUnrefName(e){return G.trimLeft(e,":.")}};ut.DistMax=65e3;var Nr=class{static isConditionalStructure(e){if(e.isComment)return!1;let n=e.name?.name??"";return n=="if"||n=="elseif"||n=="else"}static requiresClose(e){let n=e.name?.name??"";return n=="elseif"||n=="else"?e.isClosedBy==null:!(e.isClosingTag||e.isClosedBy!=null)}static getValidClosingPairs(e){return e=="if"||e=="elseif"?Nr.conditionClosingPairs:[]}static findClosestStructurePair(e,n,r){let i=[],s=e.length,a=new Map,o=null;i.push({node:n,index:r});for(let u=0;u<s;u+=1){let c=e[u];if(c instanceof W){let f=c.name?.name??"";if(c.isClosingTag&&f=="if"){a.set(u,u);continue}else if(f=="elseif"||f=="else"){a.set(u,u);continue}}}let l=a.size;for(;i.length>0;){let u=i.pop();if(u==null)continue;if(u.node._conditionParserAbandonPairing)break;let c=u.node,f=Nr.getValidClosingPairs(c.name?.name??""),d=u.index,h=!1;if(l>50&&o!=null){for(let[p,m]of a)if(p>d){d=p;break}}for(let p=d;p<s;p++){let m=e[p];if(m instanceof W&&Nr.isConditionalStructure(m)){if(Nr.requiresClose(m)){i.push(u),i.push({node:m,index:p+1}),h=!0;break}if(c.isClosedBy!=null)continue;let g=m.name?.name??"",T=!1;if(m.ref==0&&(m.isClosingTag&&g=="if"||f.includes(g))&&(T=!0),m.refId==c.refId&&(T=!1),T){o=p,a.delete(p),c.isClosedBy=m,m.isOpenedBy=c,m.ref+=1,h=!0;break}}}if(!h&&c instanceof W){let p=c.name?.name??"";if((p=="elseif"||p=="else")&&c.isOpenedBy==null){let m='Unpaired "'+ut.getTrueName(c)+'" control structure.';c.isInterpolationNode&&(m+=" Tag pairs are not supported within Antlers tags."),c.pushError(U.makeSyntaxError(N.TYPE_PARSE_UNPAIRED_CONDITIONAL,c,m)),c._conditionParserAbandonPairing=!0}if(c.isClosedBy==null&&Nr.requiresClose(c)){let m='Unclosed "'+ut.getTrueName(c)+'" control structure.';c.isInterpolationNode&&(m+=" Tag pairs are not supported within Antlers tags."),c.pushError(U.makeSyntaxError(N.TYPE_PARSE_UNCLOSED_CONDITIONAL,c,m)),c._conditionParserAbandonPairing=!0}}}}static pairConditionals(e){for(let n=0;n<e.length;n+=1){let r=e[n];r instanceof W&&Nr.isConditionalStructure(r)&&Nr.requiresClose(r)&&Nr.findClosestStructurePair(e,r,n+1)}return e.forEach(n=>{if(n instanceof W&&Nr.isConditionalStructure(n)){let r=n.name?.name??"";if((r=="elseif"||r=="else")&&n.isOpenedBy==null){n.pushError(U.makeSyntaxError(N.TYPE_PARSE_UNPAIRED_CONDITIONAL,n,'Unpaired "'+ut.getTrueName(n)+'" control structure.'));return}if(n.isClosedBy==null&&Nr.requiresClose(n)){n.pushError(U.makeSyntaxError(N.TYPE_PARSE_UNCLOSED_CONDITIONAL,n,"Unclosed "+ut.getTrueName(n)+" control structure."));return}}}),e}},Sn=Nr;Sn.conditionClosingPairs=["elseif","else"];function Gs(t,e){return e==null&&(e="s"),t.replace(new RegExp("^["+e+"]+"),"")}function An(t,e,n){return t.replace(new RegExp(e,"g"),n)}function Kp(t,e){return e==null&&(e="s"),t.replace(new RegExp("["+e+"]+$"),"")}function ja(){return(Date.now().toString(32)+Math.random().toString(16)).replace(/\./g,"")}function F_(){return An(ja(),"-","_")}var dl=class{constructor(){this.startPosition=null;this.endPosition=null;this.index=0;this.embeddedIndex=0;this.refId=null;this.parameters=[];this.isSelfClosing=!1;this.isClosingFragment=!1;this.name="";this.containsStructures=!1;this.refId=F_()}},Lu=class{constructor(){this.startPosition=null;this.endPosition=null;this.content="";this.name=""}};function AD(t){let e=[],n=[];for(let r=0;r<t.length;r++){let i=t[r],s=i.refId;if(n.includes(s))break;e.push(i),n.push(s)}return e}var te=class{constructor(){this.refId=null;this.index=0;this.parent=null;this.content="";this.rawLexContent="";this.sourceContent="";this.startPosition=null;this.endPosition=null;this.modifierChain=null;this.originalAbstractNode=null;this.positionContexts=[];this.addedContexts=new Map;this.fragment=null;this.fragmentParameter=null;this.fragmentPosition=3;this.containsAnyFragments=!1;this.containsChildStructures=!1;this.isInScriptTag=!1;this.isInStyleTag=!1;this.isVirtual=!0;this.isPartOfMethodChain=!1;this.isVirtualGroupMember=!1;this.isVirtualGroupOperatorResolve=!1;this.isSwitchGroupMember=!1;this.isListGroupMember=!1;this.producesVirtualStatementTerminator=!1;this.convertedToOperator=!1;this.scopeVariable=null;this.currentScope=null;this.manifestType="";this.scopeName=null;this.sourceType="";this.runtimeType=null;this.modifiers=new wu(this);this.prev=null;this.next=null;this.methodTarget=null;this.libraryTarget=null;this.antlersErrors=[];this.parser=null;this.refId=F_()}isEmbedded(){return this.isInScriptTag||this.isInStyleTag}getContexts(){return this.positionContexts}addContext(e){this.addedContexts.has(e.refId)==!1&&(this.addedContexts.set(e.refId,!0),this.positionContexts.push(e))}getRange(){if(this.originalAbstractNode!=null)return this.originalAbstractNode.getRange();if(this.startPosition==null||this.endPosition==null)return qa.Empty;let e=new qa;return e.start=this.startPosition,e.end=this.endPosition,e}withParser(e){this.parser=e}getParser(){return this.parser}pushError(e){this.parent!=null&&this.parent.pushError(e),this.antlersErrors.push(e),this.parent==null&&this.parser!=null&&this.parser.pushError(e)}mergeErrors(e){e.forEach(n=>{n.node==null&&(n.node=this),this.antlersErrors.push(n)})}getErrors(){return this.antlersErrors}innerContent(){return this.content}rawContent(){return this.content}},ku=class extends te{constructor(){super(...arguments);this.head=null;this.tail=null;this.nodes=[];this.documentText="";this.childDocument=null}getImmediateChildren(){return this.head==null?[]:this.head.getImmediateChildren()}},cn=class extends te{constructor(){super(...arguments);this.logicBranches=[];this.chain=[];this.nodeContent="";this.fragment=null;this.fragmentParameter=null;this.fragmentPosition=3;this.containsAnyFragments=!1;this.containsChildStructures=!1}},W=class extends te{constructor(){super(...arguments);this.isNodeAbanonded=!1;this.isComment=!1;this.isTagNode=!1;this.isConditionNode=!1;this.runtimeContent="";this.name=null;this.pathReference=null;this.isClosingTag=!1;this.isInterpolationNode=!1;this.isOpenedBy=null;this.isClosedBy=null;this.isSelfClosing=!1;this.children=[];this.runtimeNodes=[];this.parsedRuntimeNodes=[];this.hasParsedRuntimeNodes=!1;this.parameters=[];this.hasParameters=!1;this.contentOffset=null;this.cachedContent=null;this.cachedInnerContent=null;this.hasRecursiveNode=!1;this.recursiveReference=null;this.rawStart="";this.rawEnd="";this.originalNode=null;this.interpolationRegions=new Map;this.processedInterpolationRegions=new Map;this.hasProcessedInterpolationRegions=!1;this.ref=0;this.contentStartRelativeIndex=null;this.antlersNodeIndex=0;this.nameStartsOn=null;this.nameEndsOn=null;this.nameMethodPartStartsOn=null;this.documentText="";this.nodeContent="";this.childDocument=null;this.structure=new Ou(this);this.isInlineAntlers=!1;this.mustClose=!1;this.reference=null;this._conditionParserAbandonPairing=!1;this._isEndVirtual=!1}getOriginalContent(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.isClosedBy!=null?this.isClosedBy.startPosition==null||this.isClosedBy.endPosition==null?"":this.parser.getText(this.startPosition.index,this.isClosedBy.endPosition.index+1):this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getNodeDocumentText(){return this.startPosition==null||this.endPosition==null||this.parser==null?"":this.parser.getText(this.startPosition.index,this.endPosition.index+1)}getImmediateChildren(){let n=[];for(let r=0;r<this.children.length;r++){let i=this.children[r];if(i.parent==this){if(i==this.isClosedBy)break;n.push(i)}}return AD(n)}getChildren(){if(this.isClosedBy==null)return[];let n=[];for(let r=0;r<this.children.length;r++){let i=this.children[r];if(i instanceof W&&i.refId==this.isClosedBy.refId)break;n.push(i)}return n}getInnerDocumentText(){if(this.startPosition==null||this.endPosition==null||this.parser==null)return"";if(this.isClosedBy==null)return this.getNodeDocumentText();let n=this.isClosedBy.startPosition;return n==null?"":this.parser.getText(this.endPosition.index+1,n.index)}nodeAtIndex(n){if(this.runtimeNodes.length==0)return null;for(let r=0;r<this.runtimeNodes.length;r++)if(this.runtimeNodes[r].index==n)return this.runtimeNodes[r];return null}getDepthCount(){if(this.parent==null)return 1;let n=this.parent,r=1;for(;n!=null;){if(r+=1,n.parent===n){n=null;break}n=n.parent}return r}isEmpty(){return this.content.trim().length==0}nameMatches(n){return this.name==null?!1:this.name.content==n}copyBasicDetails(){return this.copyBasicDetailsTo(new W)}copyBasicDetailsTo(n){return n.refId=this.refId,n.isComment=this.isComment,n.isTagNode=this.isTagNode,n.children=this.children,n.parent=this.parent,n.parameters=this.parameters,n.isClosingTag=this.isClosingTag,n.rawStart=this.rawStart,n.rawEnd=this.rawEnd,n.startPosition=this.startPosition,n.endPosition=this.endPosition,n.originalAbstractNode=this,n.containsAnyFragments=this.containsAnyFragments,n.containsChildStructures=this.containsChildStructures,n.isInScriptTag=this.isInScriptTag,n.isInStyleTag=this.isInStyleTag,n}id(){return this.refId}innerContent(){return this.cachedInnerContent==null&&(this.cachedInnerContent=this.content.replace('"','\\"')),this.cachedInnerContent}resetContentCache(){this.cachedContent=null,this.cachedInnerContent=null}hasMethodPart(){return this.name==null?!1:this.name.getMethodName()!=null}runtimeName(){return this.name==null?"":this.name.getCompoundTagName()}getTagName(){return this.name==null?"":this.name.name}getNameContent(){return this.name==null?"":this.name.content}getMethodNameValue(){if(this.name==null)return"";let n=this.name.getMethodName();return n??""}methodIsEmptyOrMatches(n){return this.getMethodNameValue()==n}hasParameter(n){return this.findParameter(n)!=null}hasParameterWithValue(n,r){let i=this.findParameter(n);return i==null?!1:i.value==r}findParameterValue(n,r){let i=this.findParameter(n);return i==null?r:i.value}findParameterValueOrNull(n){let r=this.findParameter(n);return r==null?null:r.value}findParameter(n){if(this.parameters.length==0)return null;for(let r=0;r<this.parameters.length;r++)if(this.parameters[r].name==n)return this.parameters[r];return null}findAnyParameter(n){for(let r=0;r<n.length;r++){let i=this.findParameter(n[r]);if(i!=null)return i}return null}getContentRelativeStartIndex(){if(this.contentStartRelativeIndex==null){let n=this.content.split("");for(let r=0;r<n.length;r++)if(!G.ctypeSpace(n[r])){this.contentStartRelativeIndex=r;break}this.contentStartRelativeIndex==null&&(this.contentStartRelativeIndex=n.length),this.contentStartRelativeIndex+=this.rawStart.length}return this.contentStartRelativeIndex}getContentAfterName(){let n=0;return this.nameEndsOn!=null&&(n=this.nameEndsOn.char-this.rawStart.length-1),this.content.substring(n)}getContent(){if(this.cachedContent==null)if(this.isComment)this.cachedContent=this.content,this.contentOffset=this.startPosition;else if(this.isTagNode){let n=this.content;n=G.trimLeft(n);let r=0;if(this.name!=null&&(r=this.name.compound.length),this.parameters.length>0){let o=0,l=this.parameters[0];l.startPosition!=null&&(o=l.startPosition.index-1);let u=n,c=u.trimLeft(),f=u.length-c.length,d=r;n=n.substr(0,o)}let i=n.trimLeft(),s=n.length-i.length,a=r+s+2;if(this.parser!=null){let o=0;this.startPosition!=null&&(o=this.startPosition.offset),this.contentOffset==this.parser.positionFromOffset(o+a,0)}this.name!=null?this.name.name=="if"||this.name.name=="elseif"||this.name.name=="unless"||this.name.name=="elseunless"?(n=" "+n.trimLeft(),this.cachedContent=n.substr(this.name.compound.length+1)):this.cachedContent=n:this.cachedContent=n}else if(this.parameters.length>0){let n=this.parameters[0],r=0;n.startPosition!=null&&(r=n.startPosition.index-1),this.contentOffset=this.startPosition,this.cachedContent=this.content.substr(0,r)}else this.contentOffset=this.startPosition,this.cachedContent=this.content;return this.cachedContent}relativePositionFromOffset(n,r){return this.parser==null?null:this.parser.positionFromOffset((this.contentOffset?.offset??0)+n,r)}getInterpolationNode(n){if(this.processedInterpolationRegions.has(n)){let r=this.processedInterpolationRegions.get(n);if(r.length>0&&r[0]instanceof W)return r[0]}return null}_lexerRelativeOffset(n,r=null){let i=n;if(r!=null&&(i=r),this.parser==null){let o=new Dn;return o.index=n,o.offset=n,o}let s=n+this.rawStart.length+(this.startPosition?.index??0);return this.isTagNode&&this.nameStartsOn!=null&&(s=this.nameStartsOn.index+n,Sn.isConditionalStructure(this)||(s-=this.rawStart.length),this.name?.name=="unless"&&(s+=6)),this.parser.positionFromOffset(s,s,!0)}relativeOffset(n,r=null){let i=n;if(r!=null&&(i=r),this.parser==null){let o=new Dn;return o.index=n,o.offset=n,o}let s=n+this.rawStart.length+(this.startPosition?.index??0);return this.parser.positionFromOffset(s,s,!0)}isPaired(){return this.isClosingTag&&this.isSelfClosing==!1&&this.isOpenedBy!=null?!0:!(this.isClosedBy==null||this.isSelfClosing)}getFinalClosingTag(){return this.isClosedBy==null?this:this.isClosedBy.getFinalClosingTag()}rawContent(){return this.rawStart+this.content+this.rawEnd}getTrueRuntimeNodes(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRuntimeNodes():this.runtimeNodes}getTrueRawContent(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueRawContent():this.rawContent()}getTrueNode(){return this.originalNode!=null&&this.originalNode!=this?this.originalNode.getTrueNode():this}getStructuralChildren(){return this.isClosedBy!=null?Yp(this.children.slice(0,-1)):Yp(this.children)}findParentOfType(n){return this.parent==null?null:this.parent instanceof W?this.parent.name!=null&&n.includes(this.parent.getTagName())?this.parent:this.parent.findParentOfType(n):null}},Bn=class extends W{static makeWithStartPosition(e){let n=new Bn;return n.startPosition=e,n.endPosition=e,n}},ct=class extends Bn{},er=class extends W{constructor(){super(...arguments);this.recursiveParent=null;this.isNestedRecursive=!1}},Hs=class extends W{constructor(){super(...arguments);this.isEchoNode=!1}},Ua=class extends Bn{},Mu=class extends Bn{},zt=class extends W{constructor(){super(...arguments);this.isNoParseRegion=!1}},Wa=class extends te{constructor(){super(...arguments);this.modifier=null;this.isModifierParameter=!1;this.nameDelimiter='"';this.isVariableReference=!1;this.name="";this.value="";this.containsEscapedContent=!1;this.interpolations=[];this.parent=null;this.blockPosition=null;this.namePosition=null;this.valuePosition=null;this.hasValidValueDelimiter=!0}containsSimpleValue(){return this.hasInterpolations()==!1&&this.isVariableReference==!1}hasInterpolations(){return this.interpolations.length>0}getArrayValue(){return this.value.split("|")}getValue(){return this.value}},Ga=class{constructor(){this.modifierTarget=null;this.modifierChain=[];this.startPosition=null;this.endPosition=null;this.lastManifestedModifier=null;this.lastModifier=null}updateValues(){if(this.modifierChain.length==0)this.startPosition=null,this.endPosition=null;else{let e=this.modifierChain[0],n=this.modifierChain[this.modifierChain.length-1];this.startPosition=e.startPosition,this.endPosition=n.endPosition}}},Ys=class extends te{constructor(){super(...arguments);this.modifier=null;this.methodStyleArguments=null;this.nameNode=null;this.name="";this.valueNodes=[];this.parameters=[]}getParameterValues(){let n=[];return this.parameters.forEach(r=>{n.push(r.value)}),n}},Ha=class extends te{constructor(){super(...arguments);this.order=0;this.name=null;this.directionNode=null}},Bu=class extends te{constructor(){super(...arguments);this.value=""}},Cr=class extends te{},tr=class extends te{},Pr=class extends te{},Vn=class extends te{},qn=class extends te{},zr=class extends te{},Mi=class extends te{constructor(){super(...arguments);this.repeat=1}},nr=class extends te{},jn=class extends te{},gn=class extends te{},Dr=class extends te{},Sr=class extends te{},Un=class extends te{},Ar=class extends te{},Ir=class extends te{},Xr=class extends te{},In=class extends te{},rr=class extends te{},gi=class extends te{},Er=class extends te{},xr=class extends te{},Rr=class extends te{},wr=class extends te{},Or=class extends te{},Fr=class extends te{},_i=class extends te{},Lr=class extends te{},en=class extends te{},as=class extends te{constructor(){super(...arguments);this.orderClauses=[]}},vt=class extends te{},fn=class extends te{},Ya=class extends te{constructor(){super(...arguments);this.left=null;this.right=null}},_n=class extends te{constructor(){super(...arguments);this.isTenaryBranchSeparator=!1}},Wn=class extends te{},ir=class extends te{},tn=class extends te{},sr=class extends te{},Qr=class extends te{},ar=class extends te{},pn=class extends te{},Jr=class extends te{},Mt=class extends te{},Bt=class extends te{},$s=class extends te{constructor(){super(...arguments);this.values=[];this.isNamedNode=!1;this.parsedName=null}},Be=class extends te{constructor(){super(...arguments);this.start=null;this.end=null;this.nodes=[];this.scopeOperator=null}},Ks=class extends te{constructor(){super(...arguments);this.condition=null;this.expression=null}},os=class extends te{constructor(){super(...arguments);this.cases=[]}},Vu=class extends te{constructor(){super(...arguments);this.left=null;this.right=null}},yi=class extends te{constructor(){super(...arguments);this.nodes=[]}},$a=class extends te{constructor(){super(...arguments);this.head=null;this.truthBranch=null;this.falseBranch=null}},Pt=class extends te{},Et=class extends te{constructor(){super(...arguments);this.nodes=[];this.separatorToken=null}},or=class extends Be{constructor(){super(...arguments);this.scope=null}extract(){let n=null;this.scope!=null&&(n=this.scope.name);let r=this.nodes[0];return[n,r.nodes]}},bi=class extends or{constructor(){super(...arguments);this.alias=null}},zs=class extends te{constructor(){super(...arguments);this.args=[];this.hasNamedArguments=!1;this.numberOfNamedArguments=0}},lr=class extends te{},qu=class extends te{};var Bi=class extends te{constructor(){super(...arguments);this.libraryName="";this.methodName="";this.arguments=null}},st=class extends te{constructor(){super(...arguments);this.sourceContent=""}},xt=class extends te{constructor(){super(...arguments);this.method=null;this.args=null}},Xt=class extends te{constructor(){super(...arguments);this.name=""}},Vt=class extends te{constructor(){super(...arguments);this.value="";this.name=""}},ml=class extends te{constructor(){super(...arguments);this.name=null;this.value=null}},Ka=class extends te{constructor(){super(...arguments);this.name=null;this.value=null}},Rt=class extends te{constructor(){super(...arguments);this.value=null}},Nt=class extends te{constructor(){super(...arguments);this.value="";this.sourceTerminator="";this.sourceContent=""}},ge=class extends te{constructor(){super(...arguments);this.name="";this.mergeRefName="";this.variableReference=null;this.interpolationNodes=[];this.isInterpolationReference=!1}},ju=class extends te{constructor(){super(...arguments);this.name=""}},hn=class extends te{constructor(){super(...arguments);this.delimiter="";this.name="";this.isStringVar=!1;this.isFinal=!1}},Vi=class{constructor(){this.originalContent="";this.normalizedReference="";this.isStrictTagReference=!1;this.isStrictVariableReference=!1;this.isExplicitVariableReference=!1;this.isVariableVariable=!1;this.pathParts=[];this.isFinal=!1;this._isFromEmptyFailState=!1}clone(){let e=new Vi;return e.originalContent=this.originalContent,e.normalizedReference=this.normalizedReference,e.isStrictVariableReference=this.isStrictVariableReference,e.isExplicitVariableReference=this.isExplicitVariableReference,e.pathParts=this.pathParts,e.isFinal=this.isFinal,e}implodePaths(){let e=[];return this.pathParts.forEach(n=>{n instanceof hn?e.push(n.name):n instanceof Vi&&e.push(n.implodePaths())}),e.join(".")}},Uu=class{constructor(e,n,r){this.target=e,this.value=n,this.operator=r}};var lh=Le(si(),1);var oo=Le(yt(),1);function Am(t,e){let n=[];if(t.currentNode==null)return n;let r={start:{line:t.position.line,character:t.position.character-0},end:t.position};for(let i=0;i<e.length;i++){let s=e[i];if(!t.currentNode.hasParameter(s.name)){let a=s.name;t.leftWord!=null&&a.startsWith(t.leftWord)&&(a=a.substring(t.leftWord.length));let o=a+'="$1"';n.push({label:s.name,kind:oo.CompletionItemKind.Value,insertTextFormat:oo.InsertTextFormat.Snippet,textEdit:oo.TextEdit.replace(r,o),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return n}var Cc=Le(yt(),1);function lo(t,e,n){return{label:t,insertText:t,kind:Cc.CompletionItemKind.Field,detail:n+": "+e}}function Pc(t){let e=[];for(let n=0;n<t.length;n++)typeof t[n].name>"u"||e.push(Im(t[n]));return e}function Im(t){let e="",n=t.name;return t.instructionText!=null&&(e=t.instructionText),t.displayName!=null&&(n=t.displayName+" ("+t.name+")"),t.blueprintName!=null&&(e.trim().length>0&&(e+=`
`),e+="Blueprint: "+t.blueprintName),t.type!=null&&(n+=": "+t.type),{label:t.name,insertText:t.name,kind:Cc.CompletionItemKind.Field,documentation:e,detail:n}}function xe(t,e,n,r){let i="**"+t+"**  ";return i+=`
`,i+=e+"  ",i+="\n```antlers\n",i+=n,i+="\n```",r!=null&&(i+=`

`,i+="[Documentation Reference]("+r+")"),i}function L(t,e,n){let r="**"+t+"**  ";return r+=`
`,r+=e+"  ",n!=null&&(r+=`

`,r+="[Documentation Reference]("+n+")"),r}function uo(t){let e=[];return t=="order"&&e.push("sort"),e}function wE(t){return{blueprintName:t.sourceName,displayName:t.name,instructionText:"",maxItems:-1,name:t.name,refFieldSetField:null,type:t.dataType,sets:null,import:null}}function Dc(t){let e=[];for(let n=0;n<t.length;n++)e.push(wE(t[n]));return e}function Ke(t){return[{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t},{name:"order",dataType:"integer",sourceField:null,sourceName:"*internal.loop",introducedBy:t}]}function db(t,e,n){if(typeof n>"u"||n===null)return;let r=t.findParameter("as"),i=t.findParameter("scope");n=n.concat(Dc(Ke(t))),r!=null&&i!=null?e.introduceScopedAliasScope(t,i.value,r.value,n):r!=null?e.introduceAliasScope(t,r.value,n):i!=null?e.introduceDynamicScopeList(t,i.value,n):e.addBlueprintFields(t,n)}function mb(t){return[{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t},{name:"total_results",dataType:"integer",sourceField:null,sourceName:"*internal.collection.context",introducedBy:t}]}var ai=Le(yt(),1);var hs=[{isRequired:!1,name:"from",description:"The collection name to retrieve entries from",aliases:["folder","use"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"not_from",aliases:["not_folder","dont_use"],description:"The collections to exclude when retrieving entries",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"show_unpublished",aliases:null,description:"Controls whether unpbulished entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_published",aliases:null,description:"Controls whether published entries are returned",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"show_past",aliases:null,description:"Controls whether to display entries with a past date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"since",aliases:null,description:"Sets the minimum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"until",aliases:null,description:"Sets the maximum date an entry can have to be returned",acceptsVariableInterpolation:!0,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the entry sort order",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",aliases:null,description:"Sets the maximum number of entries to return",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["integer"],isDynamic:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope",expectsTypes:["string"],isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets the amount that entry results should be offset by",expectsTypes:["integer"],isRequired:!1,name:"offset",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether not to paginate entry results",expectsTypes:["boolean","number"],isRequired:!1,name:"paginate",isDynamic:!1},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies a name to give to a new entries array variable",expectsTypes:["string"],isRequired:!1,name:"as",isDynamic:!1},{name:"scope",aliases:null,acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Sets a prefix on all entry variables",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"locale",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Specifies the locale in which to retrieve entry content",expectsTypes:["string"],isRequired:!1,isDynamic:!1},{name:"redirects",aliases:["links"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Controls whether entries with redirects are returned",expectsTypes:["boolean"],isRequired:!1,isDynamic:!1},{name:"page_name",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"Allows you to customise the name of the URL query parameter used for pagination.",expectsTypes:["string"],isRequired:!1,isDynamic:!1}],hb=["from","folder","use"],gb=["not_from","not_folder","dont_use"],_b=["draft","scheduled","expired","published"];function yb(t){let e=[];if(t.project!=null){let n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position},r=t.project.getUniqueTaxonomyNames();for(let i=0;i<r.length;i++){let s=r[i],a=t.originalLeftWord+s+'="$1"';e.push({label:t.originalLeftWord+s,insertTextFormat:ai.InsertTextFormat.Snippet,kind:ai.CompletionItemKind.Field,textEdit:ai.TextEdit.replace(n,a),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}return e}function co(t,e){let n=[];if(t.reference!=null){let r=t.reference,i=e.statamicProject.getBlueprintFields(r.collectionNames);typeof i<"u"&&i!=null&&(n=i)}return n}function bb(t){let e=[],n=_b.filter(r=>!t.includes(r));for(let r=0;r<n.length;r++)e.push({label:n[r],kind:ai.CompletionItemKind.Variable});return e}function Tb(t,e,n){let r=[],i=n.getTaxonomyTerms(e),s=i.filter(a=>!t.includes(a));for(let a=0;a<s.length;a++)r.push({label:s[a],kind:ai.CompletionItemKind.Variable});return r}function vb(t){let e=[],n=t.getCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:ai.CompletionItemKind.Variable});return e}function fo(t,e){let n=[],r=e.getCollectionNames().filter(i=>!t.includes(i));for(let i=0;i<r.length;i++)n.push({label:r[i],kind:ai.CompletionItemKind.Variable});return n}function Sc(t){let e=[],n=t.getCollectionQueryScopes();for(let r=0;r<n.length;r++)e.push({label:`${n[r].handle} (${n[r].name})`,detail:n[r].description,insertText:n[r].handle,kind:ai.CompletionItemKind.EnumMember});return e}function po(t,e){if(t.isClosingTag)return e;if(t.hasMethodPart()&&t.getMethodNameValue()!="count"&&e.addVariables(mb(t)),t.reference!=null){let n=co(t,e),r=t.reference;n.length==0&&r.collectionNames.length>0&&(n.push({blueprintName:r.collectionNames[0],displayName:"Title",import:null,instructionText:"",maxItems:null,name:"title",type:"string",refFieldSetField:null,sets:[]}),n.push({blueprintName:r.collectionNames[0],displayName:"Slug",import:null,instructionText:"",maxItems:null,name:"slug",type:"string",refFieldSetField:null,sets:[]}),n.push({blueprintName:r.collectionNames[0],displayName:"Date",import:null,instructionText:"",maxItems:null,name:"date",type:"string",refFieldSetField:null,sets:[]})),db(t,e,n)}return e}var Ol=Le(si(),1);var Ac=Le(yt(),1);var Em=[{name:"is",description:"Tests if a field is equal to a value"},{name:"equals",description:"Tests if a field is equal to a value"},{name:"not",description:"Tests if a field is not equal to a value"},{name:"isnt",description:"Tests if a field is not equal to a value"},{name:"exists",description:"Tests if a field exists"},{name:"isset",description:"Tests if a field exists"},{name:"doesnt_exist",description:"Tests if a field does not exist"},{name:"is_empty",description:"Tests if a field does not exist"},{name:"null",description:"Tests if a field does not exist"},{name:"contains",description:"Tests if a field contains a value"},{name:"doesnt_contain",description:"Tests if a field does not contain a value"},{name:"in",description:"Tests if a value is in an array"},{name:"not_in",description:"Tests if an array does not contain a value"},{name:"starts_with",description:"Tests if a field starts with a value"},{name:"doesnt_start_with",description:"Tests if a field does not start with a value"},{name:"ends_with",description:"Tests if a field ends with a value"},{name:"doesnt_end_with",description:"Tests if a field does not end with a value"},{name:"gt",description:"Tests if a field is greater than a value"},{name:"lt",description:"Tests if a field is less than a value"},{name:"gte",description:"Tests if a field is greater than or equal to a value"},{name:"lte",description:"Tests if a field is less than or equal to a value"},{name:"matches",description:"Tests if a field matches a case insensitive regex"},{name:"regex",description:"Tests if a field matches a case insensitive regex"},{name:"doesnt_match",description:"Tests if a field does not match a case insensitive regex"},{name:"is_alpha",description:"Tests if a field contains only alphabetical characters"},{name:"is_numeric",description:"Tests if a field contains only numeric characters"},{name:"is_alpha_numeric",description:"Tests if a field contains only alpha-numeric characters"},{name:"is_url",description:"Tests if a field is a valid URL"},{name:"is_embeddable",description:"Tests if a field is an embeddable video URL"},{name:"is_email",description:"Tests if a field is a valid email address"},{name:"is_after",description:"Tests if a field is after a given date"},{name:"is_before",description:"Tests if a field is before a given date"}];function gs(t){let e=[],n={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};for(let r=0;r<Em.length;r++){let i=Em[r],s=t.originalLeftWord+i.name+'="$1"';e.push({label:i.name,insertTextFormat:Ac.InsertTextFormat.PlainText,kind:Ac.CompletionItemKind.Field})}return e}var ia=Le(Hn(),1);var Ic=class{static clear(e){this.unclosedNodes.delete(e)}static registerNodes(e,n){this.unclosedNodes.set(e,n)}static getUnclosedTags(e,n){let r=[];if(this.unclosedNodes.has(e)==!1)return r;let i=this.unclosedNodes.get(e);if(i.length==0)return r;let s=n.line+1;for(let a=0;a<i.length;a++){let o=i[a];(o.endPosition?.line==s&&n.character>o.endPosition.char||s>(o.endPosition?.line??0))&&r.push(o)}return r}static hasUnclosedTags(e,n){return this.unclosedNodes.has(e)==!1?!1:this.getUnclosedTags(e,n).length>0}};Ic.unclosedNodes=new Map;function _s(t){return[{name:"edit_url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"id",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"last_modified",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"permalink",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"published",dataType:"boolean",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"slug",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"template",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.entry",sourceField:null,introducedBy:t}]}var fr=Le(si(),1),OE=[{label:"name",kind:fr.CompletionItemKind.Property},{label:"description",kind:fr.CompletionItemKind.Property},{label:"desc",kind:fr.CompletionItemKind.Property},{label:"entry",kind:fr.CompletionItemKind.Property},{label:"collection",kind:fr.CompletionItemKind.Property},{label:"blueprint",kind:fr.CompletionItemKind.Property},{label:"var",kind:fr.CompletionItemKind.Property},{label:"set",kind:fr.CompletionItemKind.Property},{label:"param",kind:fr.CompletionItemKind.Property},{label:"param*",kind:fr.CompletionItemKind.Property},{label:"front",kind:fr.CompletionItemKind.Property},{label:"format",kind:fr.CompletionItemKind.Property}];var Ec=Le(yt(),1),EV=[{label:"if",kind:Ec.CompletionItemKind.Keyword},{label:"elseif",kind:Ec.CompletionItemKind.Keyword},{label:"else",kind:Ec.CompletionItemKind.Keyword}];var xm=Le(si(),1),FE=Le(yt(),1);var Rm=Le(yt(),1),wl=[];wl.push({label:"true",kind:Rm.CompletionItemKind.Keyword});wl.push({label:"false",kind:Rm.CompletionItemKind.Keyword});function He(t){return[{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"value",introducedBy:t},{sourceName:"*internal.array",sourceField:null,dataType:"*",name:"key",introducedBy:t}]}var LE={name:"array",augmentScope:(t,e)=>{e.addVariables(He(t)),e.addVariables(Ke(t))}},Nb=LE;function mo(t){return[{name:"id",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"title",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"path",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"basename",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_asset",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_audio",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_previewable",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_svg",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"is_video",dataType:"boolean",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"edit_url",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"permalink",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_b",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_kb",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_mb",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"size_gb",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"focus_css",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"width",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"orientation",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"ratio",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"mime_type",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"duration",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"duration_seconds",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"duration_sec",dataType:"number",sourceName:"*internal.asset",sourceField:null,introducedBy:t},{name:"playtime",dataType:"string",sourceName:"*internal.asset",sourceField:null,introducedBy:t}]}var kE={name:"assets",augmentScope:(t,e)=>{e.addVariables(He(t)),e.addVariables(mo(t))}},Cb=kE;var ME={name:"bard",augmentScope:(t,e)=>{e.addVariable({name:"type",dataType:"string",sourceField:null,sourceName:"*internal.bard",introducedBy:t})},injectCompletions:(t,e,n)=>[]},Pb=ME;var BE={name:"form_multiple",augmentScope:(t,e)=>{e.addVariables(He(t)),e.addVariables(Ke(t))}},Db=BE;var VE={name:"list",augmentScope:(t,e)=>{e.addVariables(He(t)),e.addVariables(Ke(t))}},Sb=VE;function Ab(t){return[{name:"type",dataType:"string",sourceName:"*internal.replicator",sourceField:null,introducedBy:t}]}var qE={name:"replicator",augmentScope:(t,e)=>{e.addVariables(Ab(t)),e.addVariables(Ke(t))},injectCompletions:(t,e,n)=>[]},Ib=qE;var jE={name:"select_multiple",augmentScope:(t,e)=>{e.addVariables(He(t)),e.addVariables(Ke(t))}},Eb=jE;var UE={name:"sites_multiple",augmentScope:(t,e)=>{e.addVariables(He(t)),e.addVariables(Ke(t))}},xb=UE;var WE={name:"structures_multiple",augmentScope:(t,e)=>{e.addVariables(He(t)),e.addVariables(Ke(t))}},Rb=WE;var GE={name:"table",augmentScope:(t,e)=>{e.addVariable({name:"cells",dataType:"array",sourceName:"*internal.fieldtype.table",sourceField:null,introducedBy:t})}},wb=GE;var HE={name:"tags",augmentScope:(t,e)=>{e.addVariables(He(t)),e.addVariables(Ke(t))}},Ob=HE;function xc(t){return _s(t).concat([{name:"entries_count",dataType:"number",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"is_term",dataType:"boolean",sourceName:"*internal.term",sourceField:null,introducedBy:t},{name:"taxonomy",dataType:"string",sourceName:"*internal.term",sourceField:null,introducedBy:t}])}var YE={name:"taxonomies_multiple",augmentScope:(t,e)=>{e.addVariables(He(t)),e.addVariables(Ke(t)),e.addVariables(xc(t))}},Fb=YE;var $E={name:"terms_multiple",augmentScope:(t,e)=>{e.addVariables(He(t)),e.addVariables(Ke(t)),e.addVariables(xc(t))}},Lb=$E;var KE={name:"user_groups_multiple",augmentScope:(t,e)=>{e.addVariables(He(t)),e.addVariables(Ke(t))}},kb=KE;var zE={name:"user_roles_multiple",augmentScope:(t,e)=>{e.addVariables(He(t)),e.addVariables(Ke(t))}},Mb=zE;var XE={name:"users_multiple",augmentScope:(t,e)=>{e.addVariables(He(t)),e.addVariables(Ke(t)),e.injectBlueprint(t,"user")}},Bb=XE;var QE={name:"yaml",augmentScope:(t,e)=>{e.addVariables(He(t)),e.addVariables(Ke(t))}},Vb=QE;var JE=[Nb,Cb,Pb,Db,Sb,Ib,Eb,xb,Rb,Vb,wb,Fb,Ob,Lb,Bb,kb,Mb],qb=JE;var Hi=class{constructor(){this.fieldTypes=new Map}getFieldTypes(){return this.fieldTypes}getFieldType(e){return this.fieldTypes.get(e)}registerFieldtypes(e){for(let n=0;n<e.length;n++)this.fieldTypes.set(e[n].name,e[n])}loadCoreFieldtypes(){this.registerFieldtypes(qb)}hasFieldtype(e){return this.fieldTypes.has(e)}};Hi.instance=null;(typeof Hi.instance>"u"||Hi.instance==null)&&(Hi.instance=new Hi,Hi.instance.loadCoreFieldtypes());var ho=Hi;function Rc(t){let e="";return t.currentNode!=null&&(e=t.currentNode.getMethodNameValue()),e}function Yi(t){if(t.includes(":")==!1)return t;let e=t.split(":");return e.length>1?e[e.length-1]:e[0].trim()}function wc(t){return t.includes(":")==!1?t:t.split(":")[0]}function jb(t){if(t.nodesInScope.length==0)return[];let e=t.nodesInScope[t.nodesInScope.length-1];return t.context?.node!=null&&(e=t.context.node),e.currentScope==null?[]:ZE(t,e.currentScope)}function ZE(t,e){let n=[];return e.values.forEach(r=>{if(r.sourceField!=null?n.push({label:r.name,detail:r.sourceField.blueprintName,documentation:r.sourceField.instructionText??"",kind:ia.CompletionItemKind.Field}):n.push(lo(r.name,"","")),r.dataType.trim().length>0&&r.dataType=="array"){let i=r.name+` }}
    $1
{{ /`+r.name+" ",s={start:{line:t.position.line,character:t.position.character-t.originalLeftWord.length},end:t.position};n.push({label:r.name+" loop",insertTextFormat:ia.InsertTextFormat.Snippet,kind:ia.CompletionItemKind.Snippet,textEdit:ia.TextEdit.replace(s,i),command:{title:"Suggest",command:"editor.action.triggerSuggest"}})}}),e.lists.forEach((r,i)=>{n.push(lo(i,"",""))}),n}var Ub=Le(si(),1);function he(t){let e="";typeof t<"u"&&typeof t.resolveDocumentation<"u"&&t.resolveDocumentation!=null&&(e=t.resolveDocumentation());let n=t.tagName;if(n.includes(":")){let r=n.split(":");n=r[r.length-1]}return{label:n,kind:Ub.CompletionItemKind.Text,sortText:"1",documentation:{kind:"markdown",value:e}}}var wm=Le(yt(),1);function Wb(t,e,n){return{name:t,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:e,expectsTypes:["string"],isDynamic:!0,isRequired:!1,documentationLink:n,docLinkName:"MDN Reference"}}var Gb=Wb("class","A space-separated list of the classes of the element.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/class"),Hb=Wb("style","Contains CSS styling declarations to be applied to the element. Note that it is recommended for styles to be defined in a separate file or files.","https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/style");function Oc(t){return t=="class"?Gb:t=="style"?Hb:{name:t,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"",expectsTypes:["string","number","array"],isRequired:!1,isDynamic:!0}}function Yb(t){let e=[];for(let n=0;n<t.length;n++)e.push({label:t[n],kind:wm.CompletionItemKind.Field});return Z(e)}function mt(t){let e=[];for(let n=0;n<t.length;n++)e.push({label:t[n],kind:wm.CompletionItemKind.Field});return Z(e)}function Z(t){return{items:t,isExclusiveResult:!0,analyzeDefaults:!1}}function bn(t){return{items:t,isExclusiveResult:!1,analyzeDefaults:!0}}var be={items:[],isExclusiveResult:!1,analyzeDefaults:!0};function nt(t,e){let n=ex(t);return n.tagName=e,n}function ex(t){return{allowsArbitraryParameters:t.allowsArbitraryParameters,allowsContentClose:t.allowsContentClose,injectParentScope:t.injectParentScope,parameters:t.parameters,requiresClose:t.requiresClose,tagName:t.tagName,introducedIn:t.introducedIn,hideFromCompletions:t.hideFromCompletions,augmentScope:t.augmentScope,requiresCloseResolver:t.requiresCloseResolver,resolveCompletionItems:t.resolveCompletionItems,resolveDynamicParameter:t.resolveDynamicParameter,resolveSpecialType:t.resolveSpecialType,resovleParameterCompletionItems:t.resovleParameterCompletionItems,suggestAlternativeParams:t.suggestAlternativeParams,resolveDocumentation:t.resolveDocumentation}}function $b(t){return t.findParameterValueOrNull("scope")}function Kb(t){t.getAllNodes().forEach(n=>{n instanceof W&&n.manifestType==="array"&&(n.mustClose=!0)})}function tx(t){return t.findParameterValueOrNull("as")}var nx=["count","next","previous"];function rx(t,e){let n=[];if(t.hasMethodPart()){let o=t.getMethodNameValue();if(nx.includes(o)==!1)return n.push(o),n}let r=t.findAnyParameter(hb),i=t.findAnyParameter(gb),s=[],a=[];return typeof r<"u"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueCollectionNames(),typeof i<"u"&&i!==null&&i.isVariableReference==!1&&i.hasInterpolations()==!1&&(a=i.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),a.length>0?n=s.filter(function(o){return a.includes(o)==!1}):n=s,n}function ys(t,e){let n=rx(t,e),r=!1,i=!1,s=!1,a=null,o="";if(t.isClosingTag==!1){let u=tx(t),c=$b(t);u!=null&&(r=!0,o=u),c!=null&&(s=!0,a=c),i=t.hasParameter("paginate")}return{context:{collectionNames:n??[],endPosition:t.endPosition?.char??0,aliasName:o,isAliased:r,isScoped:s,scopeName:a,isStartOfScope:!t.isClosingTag,line:t.startPosition?.line??0,startPosition:t.startPosition?.char??0,isPaginated:i,excludeCollections:[],includeCollections:[]},issues:[]}}function go(t,e){if(t==null)return null;let n=Gs(e,":");return n.includes(":")&&(n=n.split(":")[0]),n=="status"||n=="taxonomy"||t.currentScope!=null&&t.currentScope.containsReference(n)?Oc(e):null}var ix=["from","folder","use","not_from","not_folder"],sx=["previous","next"],ax=["in","collection"];function bs(t,e){if(t.isDynamic){let n=wc(t.name);if(e.nodesInScope.length>0){let r=e.nodesInScope[e.nodesInScope.length-1];if(r!=null&&r.currentScope!=null){let i=co(r,r.currentScope),s=i.map(o=>o.name),a=Yi(e.leftWord);if(s.includes(a))return Z(gs(e))}}if(n=="status"&&e.context?.parameterContext!=null)return Z(bb(e.context.parameterContext.parameter?.getArrayValue()??[]));if(n=="taxonomy"){let r=Yi(t.name);if(e.project.hasTaxonomy(r)&&e.context?.parameterContext!=null)return Z(Tb(e.context.parameterContext.parameter?.getArrayValue()??[],r,e.project))}}if(t.name=="filter"||t.name=="query_scope")return Z(Sc(e.project));if(e.nodesInScope.length>0){let n=e.nodesInScope[e.nodesInScope.length-1];if(n.hasMethodPart()&&sx.includes(n.getMethodNameValue())&&ax.includes(t.name))return Z(vb(e.project))}return ix.includes(t.name)&&e.context?.parameterContext!=null?Z(fo(e.context?.parameterContext.parameter?.getArrayValue()??[],e.project)):null}var ox={tagName:"collection:previous",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...hs,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:po,resolveDynamicParameter:go,resolveSpecialType:ys,suggestAlternativeParams:uo,resovleParameterCompletionItems:bs,resolveCompletionItems:_o,resolveDocumentation:t=>xe("collection:previous Tag","The `collection:previous` tag is used to show the entries that appear before the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the previous two entries, based on dates in ascending order. #}}
{{ collection:previous in="articles" limit="2" sort="date:asc" }}

{{ /collection:previous }}`,"https://statamic.dev/tags/collection-previous")},sa=ox;var Fc=nt(sa,"collection:older"),Lc=nt(sa,"collection:newer");var lx={tagName:"collection:count",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...hs,{isRequired:!0,name:"in",aliases:["from"],description:"The collection from which to count entries",acceptsVariableInterpolation:!0,allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:ys,resovleParameterCompletionItems:bs,resolveDocumentation:t=>xe("collection:count Tag","The `collection:count` tag returns the total number of entries in the specified collection(s). The collection count tag accepts the same parameters as the collection tag, allowing developers to count entries that meet specific conditions.",`Total entry count: {{ collection:count in="collection-name" }}
Draft count: {{ collection:count in="collection-name" status:in="draft" }}`,"https://statamic.dev/tags/collection-count")},kc=lx;var ux={tagName:"collection:next",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[...hs,{name:"in",aliases:["collection"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The collection to search in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"current",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets the current entry by ID",expectsTypes:["string"],isDynamic:!1,isRequired:!1}],augmentScope:po,resolveDynamicParameter:go,resolveSpecialType:ys,suggestAlternativeParams:uo,resovleParameterCompletionItems:bs,resolveCompletionItems:_o,resolveDocumentation:t=>xe("collection:next Tag","The `collection:next` tag is used to show the entries that will appear after the current entry, based on some entry order (publish date, alphabetical, or manual).",`{{# Retrieve the next two entries, based on dates in ascending order. #}}
{{ collection:next in="articles" limit="2" sort="date:asc" }}

{{ /collection:next }}`,"https://statamic.dev/tags/collection-next")},Mc=ux;function _o(t){let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="collection"||t.leftWord=="/collection")&&t.leftChar==":"){let n=t.project.getCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:Ol.CompletionItemKind.Field,sortText:"0"});return e.push(he(kc)),e.push(he(Mc)),e.push(he(sa)),e.push(he(Fc)),e.push(he(Lc)),{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}if(t.currentNode!=null&&t.currentNode.currentScope!=null){let n=co(t.currentNode,t.currentNode.currentScope),r=n.map(s=>s.name),i=Yi(t.leftWord);if(i==="taxonomy")return Z(yb(t));if(r.includes(i))return e=gs(t),Z(e);if(t.isCaretInTag&&!t.context?.isInParameter&&["collection","/collection"].includes(t.leftWord)==!1&&t.leftChar!=" "){let s=[];for(let a=0;a<n.length;a++){let o=n[a];s.includes(o.name)==!1&&(e.push({label:o.name,detail:o.blueprintName,documentation:o.instructionText??"",kind:Ol.CompletionItemKind.Field}),s.push(o.name))}if(e.push({label:"taxonomy",insertText:"taxonomy:",kind:Ol.CompletionItemKind.Field}),e.push({label:"status",insertText:"status:",kind:Ol.CompletionItemKind.Field}),e.length>0)return bn(e)}}return be}var cx={tagName:"collection",hideFromCompletions:!1,introducedIn:null,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:hs,augmentScope:po,resolveDynamicParameter:go,resolveSpecialType:ys,suggestAlternativeParams:uo,resovleParameterCompletionItems:bs,resolveCompletionItems:_o,resolveDocumentation:t=>xe("collection Tag","The `collection` tag provides access to entry data such as blog posts, products, etc.",`{{ collection:articles as="posts" }}

	{{ posts }}
		{{ title }}
	{{ /posts }}

{{ /collection:articles }}`,"https://statamic.dev/tags/collection")},zb=cx;var fx={tagName:"cache",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,allowsContentClose:!1,allowsArbitraryParameters:!1,resovleParameterCompletionItems:(t,e)=>t.name=="scope"?mt(["page","site","user"]):null,parameters:[{isRequired:!1,name:"for",description:"The duration the cache is valid for.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"key",description:"An arbitrary name the cache entry may be referenced by.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"scope",description:" The scope of the cached value. Either site or page.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveSpecialType:(t,e)=>{let n=t.findParameter("key"),r=null;if(n!=null){let i=n.value;i.trim().length>0&&(r={key:i,reference:t})}return{context:r,issues:[]}},resolveDocumentation:t=>xe("cache Tag","The `cache` tag can be used to save the results of an expensive template operation. The duration of the cache can be configured.",`{{ cache for="10 minutes" }}
    {{# Template code that won't be re-rendered for at least 10 minutes. #}}
{{ /cache }}`,"https://statamic.dev/tags/cache")},Xb=fx;var px={tagName:"dump",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.leftWord=="dump"&&t.leftChar==":"?Z(jb(t)):be,resolveDocumentation:t=>xe("dump Tag","The `dump` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered.",`{{ collection:articles }}
	{{# View all data available, for each entry. #}}
    {{ dump }}
{{ /collection:articles }}`,"https://statamic.dev/tags/dump")},Qb=px;var dx={tagName:"404",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>xe("404 (Not Found) Tag","The `404` (Not Found) tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ 404 }}
{{ /unless }}`,"https://statamic.dev/tags/404")},Jb=dx;var mx={tagName:"link",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The relative path",expectsTypes:["string"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!0,isDynamic:!1},{name:"absolute",description:"Whether to generate absolute URLs. Default false",expectsTypes:["boolean"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1},{name:"id",description:"The ID of the entry to link to",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1},{name:"in",description:"The handle of the site to link to.",expectsTypes:["string"],allowsVariableReference:!0,acceptsVariableInterpolation:!0,aliases:[],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>L("link Tag","The `link` tag accepts relative URLs or entry IDs and generates fully-qualified URLs to the desired content.","https://statamic.dev/tags/link")},Zb=mx;var eT={tagName:"loop",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>L("loop Tag","The `loop` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")},tT={tagName:"range",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,augmentScope:(t,e)=>(e.addVariable({name:"value",dataType:"*",sourceName:"*internal.loop.value",sourceField:null,introducedBy:t}),e),parameters:[{name:"times",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The number of iterations",isRequired:!1,isDynamic:!1},{name:"from",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to start iterating from. Default 1",isRequired:!1,isDynamic:!1},{name:"to",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["number"],description:"The value to stop iterating at",isRequired:!1,isDynamic:!1}],resolveDocumentation:t=>L("range Tag","The `range` tag is used to create an array of items between two values, and then iterate the created array. Alternatively, a max value can be set using the `times` parameter to loop that number of times.","https://statamic.dev/tags/loop")};var pr=Le(si(),1);var Ts=class{constructor(){this.loadedDocuments=new Map;this.activeProject=null}getDocuments(){let e=[];return this.loadedDocuments.forEach(n=>{e.push(n)}),e}setProject(e){this.activeProject=e,this.loadedDocuments.forEach(n=>{this.activeProject!=null&&n.updateProject(this.activeProject)})}refreshDocumentState(){this.activeProject!=null&&this.setProject(this.activeProject)}hasDocument(e){return this.loadedDocuments.has(e)}createDocument(e){if(!this.loadedDocuments.has(e)){let n=new wt;n.documentUri=e,this.loadedDocuments.set(e,n)}}loadDocument(e,n){this.loadedDocuments.set(e,wt.fromText(n))}getDocument(e){return this.loadedDocuments.get(e)}updateDocument(e,n){if(this.loadedDocuments.has(e)){let r=this.loadedDocuments.get(e);r.loadString(n);let i=kt.instance?.getStructure()?.findView(e);i!=null&&(i.document=r)}}createOrUpdate(e,n){this.createDocument(e),this.updateDocument(e,n)}getDocumentErrors(e){return this.loadedDocuments.has(e)?this.loadedDocuments.get(e).errors.all():[]}};Ts.instance=null;(typeof Ts.instance>"u"||Ts.instance==null)&&(Ts.instance=new Ts);var nT=Ts;var Om=new nT;function Ue(t,e){return e.trim().length>0?Oc(e):null}var yo=[{isRequired:!1,name:"src",description:"The name of the partial view.",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"when",description:"A condition to control whether the partial renders. The partial will not render unless it receives a truthy value.",allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["*"],isDynamic:!1},{isRequired:!1,name:"unless",description:"A condition to control whether the partial renders. The partial will not render unless it receives a falsey value.",allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["*"],isDynamic:!1}];var Fl=Le(si(),1);function bo(t,e){if(t.isDynamic&&e.currentNode!=null&&e.currentNode.getTagName()=="partial"&&e.currentNode.hasMethodPart()){let n=e.currentNode.getMethodNameValue();if(n.trim().length>0&&kt.instance?.hasStructure()){let r=kt.instance.getStructure().findRelativeView(n);if(r!=null&&r.varReferenceNames.has(t.name)){let i=r.varReferenceNames.get(t.name);if(r.document!=null&&r.document.hasFrontMatter()){let s=r.document.getFrontMatterScope();if(s!=null){let a=s.getList(i);if(a!=null)return Yb(a.getVariableNames())}}}}}if(t.name=="src"){let n=e.project.getViews(),r=[];return n.forEach(i=>{if(Kr.hasDetails(i.documentUri)){let s=Kr.documentDetails.get(i.documentUri);r.push({label:s.documentName+"("+i.relativeDisplayName+")",insertText:i.relativeDisplayName,detail:s.documentName,documentation:{kind:Fl.MarkupKind.Markdown,value:s.documentDescription},kind:Fl.CompletionItemKind.File})}else r.push({label:i.relativeDisplayName,kind:Fl.CompletionItemKind.File})}),Z(r)}return null}var hx={tagName:"partial:exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:yo,introducedIn:"3.2.7",resovleParameterCompletionItems:bo,resolveDocumentation:t=>L("partial:exists Tag","The `partial:exists` can be used within conditional statements to test if a partial exists.","https://statamic.dev/tags/partial-exists")},Bc=hx;var gx={tagName:"partial:if_exists",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,parameters:yo,introducedIn:"3.2.7",resovleParameterCompletionItems:bo,resolveDocumentation:t=>L("partial:if_exists Tag","The `partial:if_exists` can be used to output the contents of a partial if it exists.","https://statamic.dev/tags/partial-if-exists")},Vc=gx;function rT(t){if(t.getTagName()!="partial")return null;let e="";if(t.hasMethodPart())e=t.getMethodNameValue();else{let n=t.findParameter("src");n!=null&&(e=n.value)}return e}var _x=[he(Bc),he(Vc)],yx={tagName:"partial",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!0,parameters:yo,requiresClose:!1,allowsContentClose:!0,introducedIn:null,resolveDocumentation:t=>`**Partial Tag**  
Includes another view into the current template.  

[Documentation Reference](https://statamic.dev/tags/partial)
`,resolveDynamicParameter:Ue,resovleParameterCompletionItems:bo,resolveCompletionItems:t=>{let e=[];if(t.leftChar=='"'&&t.leftWord==':src="')return{items:[],analyzeDefaults:!0,isExclusiveResult:!1};if((t.leftWord=="partial"||t.leftWord=="/partial")&&t.leftChar==":"||t.leftWord=='src="'&&t.leftChar=='"')return t.project.getViews().forEach(r=>{let i=decodeURIComponent(r.documentUri);if(Kr.hasDetails(i)){let s=Kr.documentDetails.get(i);e.push({label:s.documentName+"("+r.relativeDisplayName+")",insertText:r.relativeDisplayName,detail:s.documentName,documentation:{kind:pr.MarkupKind.Markdown,value:s.documentDescription},kind:pr.CompletionItemKind.File})}else e.push({label:r.relativeDisplayName,kind:pr.CompletionItemKind.File})}),t.leftWord!='src="'&&(e=e.concat(_x)),{analyzeDefaults:!1,isExclusiveResult:!0,items:e};if(t.currentNode!=null&&t.project!=null){let n=rT(t.currentNode);if(n!=null&&n.trim().length>0){let r=t.project.findRelativeView(n);if(r!=null&&Om.hasDocument(r.documentUri)){let i=Om.getDocument(r.documentUri);if(i!=null){let s=i.getAllAntlersNodes(),a=bx(s),o=[];r.varReferenceNames!=null&&r.varReferenceNames.forEach((u,c)=>{a.push(c)});let l=[];if(r.injectsParameters.length>0){let u={start:{line:t.position.line,character:t.position.character-0},end:t.position};r.injectsParameters.forEach(c=>{let f=c.name+'="$1"';o.includes(c.name)||(o.push(c.name),l.push({label:c.name,kind:pr.CompletionItemKind.Value,detail:c.description,insertTextFormat:pr.InsertTextFormat.Snippet,textEdit:pr.TextEdit.replace(u,f),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}if(a.length>0){let u={start:{line:t.position.line,character:t.position.character-0},end:t.position};a.forEach(c=>{let f=c+'="$1"';o.includes(c)||(o.push(c),l.push({label:c,kind:pr.CompletionItemKind.Value,insertTextFormat:pr.InsertTextFormat.Snippet,textEdit:pr.TextEdit.replace(u,f),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}))})}return bn(l)}}}}return{analyzeDefaults:!0,isExclusiveResult:!1,items:[]}}};function bx(t){let e=[];return t.forEach(n=>{if(n.isTagNode||n.isClosingTag||n.isComment||n.hasMethodPart()&&n.getMethodNameValue().length>0||n.name!=null&&n.name.content.includes("["))return;let r=n.getTagName();!e.includes(r)&&r!="#"&&r!="slot"&&e.push(r)}),e}var iT=yx;var Tx={tagName:"increment:reset",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:"3.2.28",parameters:[{isRequired:!0,name:"counter",aliases:[],description:"The incrementing counter to reset",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"to",aliases:[],description:"An optional value to reset the counter to before incrementing starts again",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveDocumentation:t=>xe("increment:reset Tag","The `increment:reset` tag can be used to reset the value of an incrementing counter.",`{{ array_variable }}
    {{ increment:counter_name }}
{{ /array_variable }}

{{ increment:reset counter="counter_name" }}
`,null)},qc=Tx;var vx=[he(qc)],Nx={tagName:"increment",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!1,name:"from",aliases:[],description:"The number to start incrementing by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"by",aliases:[],description:"The number to increment by",acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resolveCompletionItems:t=>t.leftWord=="increment"||t.leftWord=="/increment"&&t.leftChar==":"?Z(vx):be,resolveDocumentation:t=>L("increment Tag","The `increment` tag can be used to increment a value each time the tag is encountered.","https://statamic.dev/tags/increment")},sT=Nx;var jc=class{constructor(e){this.node=e}},aT={tagName:"yields",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new jc(t),issues:[]})},oT={tagName:"yield",hideFromCompletions:!1,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,parameters:[],introducedIn:null,requiresClose:!1,resolveSpecialType:(t,e)=>({context:new jc(t),issues:[]}),resolveDocumentation:t=>L("yield Tag","The `yield` tag may be used to push rendered content to named regions within a template's structure.","https://statamic.dev/tags/yield")};var Uc=Le(yt(),1);var lT=[{handle:"access cp"},{handle:"configure collections"},{handle:"[view edit create delete publish reorder] {collection} entries"},{handle:"configure structures"},{handle:"[view edit] {structure} structure"},{handle:"edit {global} globals"},{handle:"[view upload edit move rename delete] {container} assets"},{handle:"[view perform] updates"},{handle:"[view edit create delete] users"},{handle:"change passwords"},{handle:"edit roles"},{handle:"configure forms"},{handle:"[view delete] {form} submissions"}];var $i=class{constructor(){this.contextItems=new Map;this.triggerNames=[];this.collectionTriggers=[];this.collectionTriggerCaps=[];this.globalTriggers=[];this.globalTriggerCaps=[];this.formTriggers=[];this.formTriggerCaps=[];this.structureTriggers=[];this.structureTriggerCaps=[];this.assetTriggers=[];this.assetTriggerCaps=[]}getCollectionTriggerCaps(){return this.collectionTriggerCaps}getGlobalTriggerCaps(){return this.globalTriggerCaps}getFormTriggerCaps(){return this.formTriggerCaps}getStructureTriggerCaps(){return this.structureTriggerCaps}getAssetTriggerCaps(){return this.assetTriggerCaps}loadCorePermissions(){this.registerPermissions(lT)}getTriggerNames(){return this.triggerNames}isCollectionTrigger(e){return this.collectionTriggers.includes(e)}isGlobalTrigger(e){return this.globalTriggers.includes(e)}isFormTrigger(e){return this.formTriggers.includes(e)}isStructureTrigger(e){return this.structureTriggers.includes(e)}isAssetTrigger(e){return this.assetTriggers.includes(e)}getTriggerContextItems(e){return this.contextItems.has(e)?this.contextItems.get(e):[]}registerSpecialTrigger(e,n,r){n=="{collection}"?(this.collectionTriggerCaps.includes(r)==!1&&this.collectionTriggerCaps.push(r),this.collectionTriggers.includes(e)==!1&&this.collectionTriggers.push(e)):n=="{structure}"?(this.structureTriggerCaps.includes(r)==!1&&this.structureTriggerCaps.push(r),this.structureTriggers.includes(e)==!1&&this.structureTriggers.push(e)):n=="{container}"?(this.assetTriggerCaps.includes(r)==!1&&this.assetTriggerCaps.push(r),this.assetTriggers.includes(e)==!1&&this.assetTriggers.push(e)):n=="{global}"?(this.globalTriggerCaps.includes(r)==!1&&this.globalTriggerCaps.push(r),this.globalTriggers.includes(e)==!1&&this.globalTriggers.push(e)):n=="{form}"&&(this.formTriggerCaps.includes(r)==!1&&this.formTriggerCaps.push(r),this.formTriggers.includes(e)==!1&&this.formTriggers.push(e))}addContextToTrigger(e,n){this.triggerNames.includes(e)==!1&&this.triggerNames.push(e),this.contextItems.has(e)==!1?this.contextItems.set(e,[n]):this.contextItems.get(e)?.push(n)}registerPermissions(e){for(let n=0;n<e.length;n++){let r=e[n],i=[],s="",a="";if(r.handle.includes("[")&&r.handle.includes("]")){let o=r.handle.indexOf("["),l=r.handle.indexOf("]"),u=l-o,c=r.handle.substr(o+1,u-1).split(" ").filter(d=>d.trim().length>0),f=r.handle.substr(l+1).split(" ").filter(d=>d.trim().length>0);i=c,f.length==2?(s=f[0],a=f[1]):f.length==1&&(s="",a=f[0])}else{let o=r.handle.split(" ").filter(l=>l.trim().length>0);o.length==2&&(i=[o[0]],a=o[1])}for(let o=0;o<i.length;o++){let l=i[o];s.trim().length>0?this.registerSpecialTrigger(l,s,a):this.addContextToTrigger(l,a)}}}};$i.instance=null;(typeof $i.instance>"u"||$i.instance==null)&&($i.instance=new $i,$i.instance.loadCorePermissions());var dr=$i;function uT(t,e){let n=[];if(t.trim().length==0){let r=dr.instance?.getTriggerNames()??[];for(let i=0;i<r.length;i++)n.push({label:r[i],kind:Uc.CompletionItemKind.Value})}else{let r=t.split(" ").filter(d=>d.trim().length>0),i=r[0],s=dr.instance?.getTriggerContextItems(i)??[],a=dr.instance?.isCollectionTrigger(i),o=dr.instance?.isGlobalTrigger(i),l=dr.instance?.isFormTrigger(i),u=dr.instance?.isStructureTrigger(i),c=dr.instance?.isAssetTrigger(i),f=[];if(r.length<=2){a?f=f.concat(e.project.getUniqueCollectionNames()):o?f=f.concat(e.project.getUniqueGlobalsNames()):l?f=f.concat(e.project.getUniqueFormNames()):u?f=f.concat(e.project.getUniqueNavigationMenuNames()):c&&(f=f.concat(e.project.getUniqueAssetNames())),s.length>0&&(f=f.concat(s)),f=[...new Set(f)];for(let d=0;d<f.length;d++)n.push({label:f[d],kind:Uc.CompletionItemKind.Value})}else{let d=[];a?d=d.concat(dr.instance?.getCollectionTriggerCaps()??[]):o?d=d.concat(dr.instance?.getGlobalTriggerCaps()??[]):l?d=d.concat(dr.instance?.getFormTriggerCaps()??[]):u?d=d.concat(dr.instance?.getStructureTriggerCaps()??[]):c&&(d=d.concat(dr.instance?.getAssetTriggerCaps()??[])),d=[...new Set(d)];for(let h=0;h<d.length;h++)n.push({label:d[h],kind:Uc.CompletionItemKind.Value})}}return n}function Wc(t,e){let n=wc(t.name);return e.context?.parameterContext!=null&&["do","permission"].includes(n)?Z(uT(e.context?.parameterContext.parameter?.value??"",e)):null}var Cx={tagName:"user:can",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:Wc,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>L("user:can Tag","The `user:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can")},To=Cx;var Px={tagName:"user:logout",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>L("user:logout Tag","The `user:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout")},vo=Px;var Dx={tagName:"user:logout_url",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"redirect",description:"An optional URL to redirect the user after being logged out",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>xe("user:logout_url","The `user:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ user:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url")},No=Dx;var cT={tagName:"switch",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>L("switch Tag","The `switch` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")},fT={tagName:"rotate",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,introducedIn:null,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[{name:"between",description:"A set of values to iterate over",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string","array"]},{name:"for",description:"A unique name for the switch instance",aliases:[],isRequired:!1,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>L("rotate Tag","The `rotate` tag can be used to alternate between a set of values each time the tag is evaluated.","https://statamic.dev/tags/switch")};var Sx={tagName:"oauth",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"provider",description:"The OAuth provider to be used.",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]},{name:"redirect",description:"The URL to be redirected to after authenticating.",aliases:[],isRequired:!0,acceptsVariableInterpolation:!0,allowsVariableReference:!1,isDynamic:!1,expectsTypes:["string"]}],resovleParameterCompletionItems:(t,e)=>t.name=="provider"?mt(e.project.getOAuthProviders()):null,resolveDocumentation:t=>xe("oauth Tag","The `oauth` tag can be used to generate login URls for various third-party services.",'<a href="{{ oauth provider="github" }}">Sign In with Github</a>',"https://statamic.dev/tags/oauth")},pT=Sx;var Ax={tagName:"session:dump",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>L("session:dump Tag","The `session:dump` tag will display the contents of the user's session to the browser. This tag behaves similarly to the `dd` helper functions, but returns just the session data.","https://statamic.dev/tags/session-dump")},Gc=Ax;var Co=class{constructor(e){this.node=e}};var Ix={tagName:"session:set",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:null,resolveDynamicParameter:Ue,resolveSpecialType:(t,e)=>({context:new Co(t),issues:[]}),resolveDocumentation:t=>L("session:set Tag","The `session:set` tag is used to add new data to the user's session.","https://statamic.dev/tags/session-set")},Hc=Ix;var vs=class{constructor(){this.knownVariables=new Map}registerDocumentSessionVariables(e,n){this.knownVariables.has(e)||this.knownVariables.set(e,new Map);let r=this.knownVariables.get(e);r.clear();for(let i=0;i<n.length;i++){let s=n[i].node;if(s.hasParameters)for(let a=0;a<s.parameters.length;a++){let o=s.parameters[a];r.set(o.name,n[i])}}}getKnownSessionVariableNames(){let e=[];return this.knownVariables.forEach(n=>{n.forEach((r,i)=>{e.includes(i)==!1&&e.push(i)})}),e}};vs.instance=null;(typeof vs.instance>"u"||vs.instance==null)&&(vs.instance=new vs);var Ll=vs;var dT=Le(yt(),1);function mT(t,e){let n=[],r=t.getArrayValue(),i=e.filter(s=>!r.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:dT.CompletionItemKind.Variable});return Z(n)}var Ex={tagName:"session:forget",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"keys",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The session keys to clear",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{if(t.name=="keys"&&e.context?.parameterContext!=null){let n=Ll.instance?.getKnownSessionVariableNames()??[];if(e.context.parameterContext.parameter!=null)return mT(e.context.parameterContext.parameter,n)}return null},resolveDocumentation:t=>L("session:forget Tag","The `session:forget` tag is used to remove variables from the user's session.","https://statamic.dev/tags/session-forget")},Yc=Ex;var xx={tagName:"session:flush",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>L("session:flush Tag","The `session:flush` tag will clear all values from the visitor's session. If the visitor is currently signed in they will also be signed out.","https://statamic.dev/tags/session-flush")},$c=xx;var Rx={tagName:"session:flash",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:Ue,resolveSpecialType:(t,e)=>({context:new Co(t),issues:[]}),resolveDocumentation:t=>L("session:flash Tag","The `session:flash` tag can be used to add a value to the user's session. Flashed values only persist for a single request, and are then removed.","https://statamic.dev/tags/session-flash")},Kc=Rx;var wx={tagName:"markdown:indent",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>L("markdown:indent Tag","The `markdown:indent` tag is similar to the markdown tag, but will ignore leading whitepsace while rendering the tag's content as markdown.","https://statamic.dev/tags/markdown-indent")},zc=wx;var Ox=[he(zc)],Fx={tagName:"markdown",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="markdown"||t.leftWord=="/markdown")&&t.leftChar==":"?Z(Ox):be,resolveDocumentation:t=>L("markdown Tag","The `markdown` tag can be used to render the tags contents as markdown.","https://statamic.dev/tags/markdown")},hT=Fx;var gT=Le(si(),1);function Xc(t,e){let n=[],r=e;if(t.trim().length>0&&t.includes(".")&&t.endsWith(".")){let i=t.substr(0,t.length-1);r=r.filter(s=>s.startsWith(i))}for(let i=0;i<r.length;i++){let s=r[i],a=!0;t.includes(".")&&(s.startsWith(t)==!1?a=!1:s=s.substr(t.length)),a&&n.push({label:s,insertText:s,kind:gT.CompletionItemKind.Text})}return n}function _T(t,e){return Xc(t,e.getRouteNames())}var Lx={tagName:"route",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,parameters:[],introducedIn:null,resolveDynamicParameter:Ue,resolveCompletionItems:t=>{if(t.leftMeaningfulWord=="route"){let e=Rc(t);return Z(_T(e,t.project))}return be},resolveDocumentation:t=>L("route Tag","The `route` tag can be used to generate a full URL [to a named route](https://laravel.com/docs/8.x/routing#named-routes), including any defined route parameters.","https://statamic.dev/tags/route")},yT=Lx;var Qc=Le(yt(),1),bT=[{label:"301 Permanent",insertText:"301",kind:Qc.CompletionItemKind.EnumMember},{label:"302 Temporary",insertText:"302",kind:Qc.CompletionItemKind.EnumMember},{label:"404 Not Found",insertText:"404",kind:Qc.CompletionItemKind.EnumMember}];var kx={tagName:"redirect",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{name:"to",description:"The destination URL.",aliases:["url"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!0},{name:"response",description:"The HTTP response code to use.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:t=>t.name=="response"?Z(bT):be,resolveDocumentation:t=>L("redirect Tag","The `redirect` tag can be used to redirect the site visitor to a URL or named route. An optional HTTP status code can also be specified on the response using the `response` parameter.","https://statamic.dev/tags/redirect")},TT=kx;var NT=Le(yt(),1);var Ns=class{constructor(){this.knownSections=new Map}registerDocumentSections(e,n){this.knownSections.has(e)||this.knownSections.set(e,new Map);let r=this.knownSections.get(e);r.clear();for(let i=0;i<n.length;i++){let s=n[i];s.node.hasMethodPart()&&r.set(s.node.getMethodNameValue(),s)}}getKnownSectionNames(){let e=[];return this.knownSections.forEach(n=>{n.forEach((r,i)=>{e.includes(i)==!1&&e.push(i)})}),e}};Ns.instance=null;(typeof Ns.instance>"u"||Ns.instance==null)&&(Ns.instance=new Ns);var vT=Ns;var Mx={tagName:"section",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>{if((t.leftWord=="section"||t.leftWord=="/section")&&t.leftChar==":"){let e=[],n=vT.instance?.getKnownSectionNames()??[];for(let r=0;r<n.length;r++)e.push({label:n[r],kind:NT.CompletionItemKind.Field});return bn(e)}return be},resolveDocumentation:t=>L("section Tag","The `section` tag is used to push content to a named region defined by the `yield` tag.","https://statamic.dev/tags/section")},CT=Mx;var Bx={tagName:"obfuscate",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>L("obfuscate Tag","The `obfuscate` tag converts the tags's content into a format that is difficult for bots to read, but can easily be viewed by users within their browser.","https://statamic.dev/tags/obfuscate")},PT=Bx;var Vx={tagName:"parent",hideFromCompletions:!1,requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>L("parent Tag","The `parent` tag provides access to data from the current page's parent (the URL one level above the current page).","https://statamic.dev/tags/parent")},DT=Vx;function Fm(t,e){return Xc(t,e.getTranslationKeys())}var qx=["translate","trans","trans_choice"],Jc={tagName:"translate",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!0,parameters:[{isRequired:!1,name:"key",description:"The key of the translation string to find.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"locale",description:"The locale to be used when translating.",acceptsVariableInterpolation:!1,aliases:["site"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"count",description:"The number of items to use for pluralization.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>{if(t.name=="key"){let n="";return e.context?.parameterContext!=null&&e.context.parameterContext.parameter!=null&&(n=e.context.parameterContext.parameter.value),Z(Fm(n,e.project))}return be},resolveDynamicParameter:Ue,resolveCompletionItems:t=>{if(t.leftMeaningfulWord!=null&&qx.includes(t.leftMeaningfulWord)){let e=Rc(t);return Z(Fm(e,t.project))}return be},resolveDocumentation:t=>L("trans Tag","The `trans` tag can be used to retrieve a string for the current locale's language file.","https://statamic.dev/tags/trans")},ST=nt(Jc,"trans"),Lm=nt(Jc,"trans_choice");Lm.resolveDocumentation=t=>L("trans_choice Tag","The `trans_choice` tag can be used to retrieve a pluralized string for the current locale's language file.","https://statamic.dev/tags/trans#pluralization");var jx={tagName:"svg",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The SVG filename relative to the project root",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"title",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"desc",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"sanitize",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"Determines whether the rendered SVG will be sanitized.",expectsTypes:["bool"],isDynamic:!1},{isRequired:!1,name:"allow_attrs",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"A list of allowed attributes when sanitizing.",expectsTypes:["array","string"],isDynamic:!1},{isRequired:!1,name:"allow_tags",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"A list of allowed tags when sanitizing.",expectsTypes:["array","string"],isDynamic:!1}],resolveDynamicParameter:Ue,resolveDocumentation:t=>L("svg Tag","The `svg` tag can be used to render inline SVGs, as well as set attributes on the rendered `<svg>` element.","https://statamic.dev/tags/svg")},AT=jx;var Ux={tagName:"asset",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The path to the file",expectsTypes:["string"],isDynamic:!1,name:"url"}],augmentScope:(t,e)=>(e.addVariables(mo(t)),e),resolveDocumentation:t=>xe("asset Tag","The `asset` tag can be used to retrive Assets by supplying a URL.",`{{ asset url="/url/for/asset.png" }}
    <img src="{{ url }}" alt="{{ alt }}" />
{{ /asset }}`,"https://statamic.dev/tags/asset")},IT=Ux;var ET=Le(yt(),1);function km(t){let e=[],n=t.getUniqueAssetNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:ET.CompletionItemKind.Field});return e}var xT=["container","id","handle"],Wx={tagName:"assets",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"container",aliases:["id","handle"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The handle of the asset container.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"folder",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Filters the resulting assets by specific folder.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"recursive",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Returns all assets in all subdirectories.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"limit",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Limits the total results",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sort entries by any asset variable.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>xT.includes(t.name)?Z(km(e.project)):be,augmentScope:(t,e)=>{e.addVariables(mo(t));let n="";if(t.name!=null&&t.name.getMethodName()!=null)n=t.name.getMethodName();else{let r=t.findAnyParameter(xT);r!=null&&r.containsSimpleValue()&&(n=r.value)}return n.length>0&&e.injectAssetContainer(t,n),e},resolveCompletionItems:t=>(t.leftWord=="assets"||t.leftWord=="/assets")&&t.leftChar==":"?Z(km(t.project)):be,resolveDocumentation:t=>xe("assets Tag","The `assets` tag can be used to retrieve multiple Assets from an Asset container.",`{{ assets container="container-name" }}
    {{# Loop over all assets in the container. #}}
	<img src="{{ url }}" alt="{{ alt }}" />
{{ /assets }}`,"https://statamic.dev/tags/assets")},RT=Wx;var Gx={tagName:"get_content",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,introducedIn:null,allowsArbitraryParameters:!1,parameters:[{isRequired:!1,name:"from",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"The ID to retrieve data for.",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"locale",aliases:["site"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The locale to show the content in.",expectsTypes:["string"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="locale"||t.name=="site"?mt(e.project.getSiteNames()):null,resolveDocumentation:t=>xe("get_content Tag","The `get_content` tag can be used to retrieve content from other entries. This tag accepts the ID of another entry, and will return access to all data for that entry.",`{{ get_content from="the-entry-id" }}
{{ /get_content }}`,"https://statamic.dev/tags/get_content")},wT=Gx;function OT(t){return[{name:"basename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"extension",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"filename",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"is_image",dataType:"boolean",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"file",dataType:"last_modified",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size",dataType:"string",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_bytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_b",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gigabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_gb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kilobytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_kb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_megabytes",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t},{name:"size_mb",dataType:"number",sourceName:"*internal.file",sourceField:null,introducedBy:t}]}var Hx={tagName:"get_files",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"in",aliases:["from"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The directory to find files in relative to the public directory",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"depth",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The depth of the subdirectories",expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"not_in",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"The subdirectories or pattern to exclude",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_size",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],description:"The file size filter to use",isDynamic:!1},{isRequired:!1,name:"ext",aliases:["extension"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The extension(s) to filter by",expectsTypes:["string","array"],isDynamic:!1},{isRequired:!1,name:"include",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:["match"],description:"Filter files by a regular expression",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"exclude",description:"Excludes files by a regular expression",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"file_date",description:"Filters files by last modified date",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"limit",description:"Limits the total number of results",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"offset",description:"The number of entries the results should be offset by",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1},{isRequired:!1,name:"sort",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sorts the listing by extension, size, last_modified, or random",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>(e.addVariables(OT(t)),e),resolveDocumentation:t=>L("get_files Tag","The `get_files` tag can be used to display information about files on the site's local filesystem.","https://statamic.dev/tags/get_files")},FT=Hx;function Zc(t){return[{name:"width",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"height",dataType:"number",sourceName:"*internal.glide",sourceField:null,introducedBy:t},{name:"url",dataType:"string",sourceName:"*internal.glide",sourceField:null,introducedBy:t}]}var LT=Le(yt(),1);function oi(t,e,n){return{endLine:n.valuePosition?.end?.line??0,startLine:n.namePosition?.start?.line??0,endPos:n.valuePosition?.end?.char??0,startPos:n.namePosition?.start?.char??0,message:t,severity:LT.DiagnosticSeverity.Error}}var Mm=["greyscale","sepia"],Bm=["jpg","pjpg","png","gif","webp","avif","tif","bmp","psd"],kT=["auto","0","90","180","270"],Po=[{isRequired:!1,name:"src",aliases:["path","id"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"The URL of the image when not using shorthand syntax.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"tag",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Outputs an image tag when set to true.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"alt",description:"The alt attribute value to use when generating tags.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"absolute",description:"Whether to output full URLs.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{name:"width",expectsTypes:["number"],isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The width of the image, in pixels.",isDynamic:!1},{name:"height",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],description:"The height of the image, in pixels.",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"square",expectsTypes:["number"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Sets both then height and width of the image.",isDynamic:!1,isRequired:!1},{name:"fit",expectsTypes:["string"],acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"How the image is fitted to its target dimensions.",isDynamic:!1,isRequired:!1},{name:"crop",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Crops the image to the specific dimensions.",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"orient",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Rotates the image.",expectsTypes:["*"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!kT.includes(e.value)&&n.push(oi("Invalid orient value",t,e)),n}},{name:"quality",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Defines the quality of the image",expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"dpr",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],description:"Defines the device pixel ratio.",expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<1||n>8)&&r.push(oi("dpr must be an integer between 1 and 8.",t,e)),r}},{name:"format",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Encodes the image to a specific format.",expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!Bm.includes(e.value)&&n.push(oi("Format must be one of: "+Bm.join(","),t,e)),n}},{name:"bg",description:"Sets the background color for transparent images.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"blur",description:"Adds a blur effect to the image.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(oi("blur must be a value between 0 and 100.",t,e)),r}},{name:"brightness",description:"Adjusts the image brightness.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<-100||n>100)&&r.push(oi("brightness must be a value between -100 and 100.",t,e)),r}},{name:"contrast",description:"Adjusts the image contrast.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<-100||n>100)&&r.push(oi("contrast must be a value between -100 and 100.",t,e)),r}},{name:"gamma",description:"Adjusts the image gamma.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseFloat(e.value),r=[];return e.containsSimpleValue()&&(n<.1||n>9.99)&&r.push(oi("gamma must be a value between 0.1 and 9.99.",t,e)),r}},{name:"sharpen",description:"Sharpens the image.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(oi("sharpen must be a value between 0 and 100.",t,e)),r}},{name:"pixelate",description:"Applies a pixelation effect to the image.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=parseInt(e.value),r=[];return e.containsSimpleValue()&&(n<0||n>100)&&r.push(oi("pixelate must be a value between 0 and 100.",t,e)),r}},{name:"filter",description:"Applies a filter effect to the image.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1,validate:(t,e)=>{let n=[];return e.containsSimpleValue()&&e.value.trim().length>0&&!Mm.includes(e.value)&&n.push(oi("Filter must be one of: "+Mm.join(","),t,e)),n}},{name:"preset",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],description:"A collection of pre-configured image manipulation parameters.",isDynamic:!1,isRequired:!1}];function Do(t,e){return t.name=="orient"?mt(kT):t.name=="format"?mt(Bm):t.name=="filter"?mt(Mm):t.name=="preset"?mt(e.project.getAssetPresets()):be}var Yx={tagName:"glide:batch",hideFromCompletions:!1,requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,injectParentScope:!1,parameters:Po,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(Zc(t)),e),resovleParameterCompletionItems:Do,resolveDocumentation:t=>L("glide:batch Tag","The `glide:batch` tag is similar to the glide tag, but can be used to apply image manipulations to multiple images within a piece of content.","https://statamic.dev/tags/glide-batch")},ef=Yx;var $x={tagName:"glide:data_url",hideFromCompletions:!1,requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,injectParentScope:!1,parameters:Po,introducedIn:null,resovleParameterCompletionItems:Do,resolveDocumentation:t=>L("glide:data_url Tag","The `glide:data_url` tag returns manipulated image datas as a data URI.",null)},tf=$x;var Kx=[he(ef),he(tf)],zx={tagName:"glide",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!1,parameters:Po,introducedIn:null,augmentScope:(t,e)=>(e.addVariables(Zc(t)),e),resovleParameterCompletionItems:Do,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="glide"||t.leftWord=="/glide")&&t.leftChar==":"?Z(Kx):be,resolveDocumentation:t=>L("glide Tag","The `glide` tag is used to manipulate images on the fly. Image manipulations may include resizing, cropping, or adjusting sharpness and constrast, amongst many others.","https://statamic.dev/tags/glide")},MT=zx;var BT={tagName:"iterate",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>L("iterate Tag","The `iterate` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")},VT={tagName:"foreach",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"Optionally rename the key/value variables",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"array",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The array to iterate",expectsTypes:["array"],isDynamic:!1,isRequired:!1}],resolveDocumentation:t=>L("foreach Tag","The `foreach` tag can be used to iterate over arbitrary arrays.","https://statamic.dev/tags/foreach")};function qT(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t},{name:"name",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}]}var nf=[{isRequired:!1,name:"id",description:"The ID of the content to localize.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"sort",description:"Sort by a site's key.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"current_first",description:"When true, ensures that the current locale is first.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"all",description:"When true, all locale data will be returned.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!0,name:"self",description:"When true, the current locale will be included.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,name:"collection_term_workaround",description:"Disables the behavior introduced in https://github.com/statamic/cms/pull/6466.",acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,expectsTypes:["boolean"],isDynamic:!1}];var Xx={tagName:"locales:count",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:nf,introducedIn:"3.0.36",resolveDocumentation:t=>L("locales:count Tag","The `locales:count` tag can be used to count the number of locales the current content is available in.","https://statamic.dev/tags/locales-count")},rf=Xx;var Qx=[he(rf)],Jx={tagName:"locales",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,parameters:nf,introducedIn:null,augmentScope:(t,e)=>(e.addVariableArray("locale",qT(t)),e.addVariable({name:"current",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"exists",dataType:"boolean",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e.addVariable({name:"permalink",dataType:"string",sourceField:null,sourceName:"*internal.locale",introducedBy:t}),e),resolveDocumentation:t=>L("locales Tag","The `locales` tag can be used to access all the locales the current content is available in.","https://statamic.dev/tags/locales"),resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="locale"||t.leftWord=="/locale")&&t.leftChar==":"?Z(Qx):be},jT=Jx;var Zx={tagName:"mix",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,name:"src",description:"The path to the versioned file, relative to the public directory",acceptsVariableInterpolation:!1,aliases:["path"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,name:"in",description:"The location of the mix manifest file",acceptsVariableInterpolation:!1,aliases:["from"],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>L("mix Tag","The `mix` tag is used to return the path of CSS and JavaScript files versioned with [Laravel Mix](https://laravel.com/docs/8.x/mix).","https://statamic.dev/tags/mix")},UT=Zx;var kl=Le(yt(),1);function WT(t){let e=[],n=t.getUniqueUserGroupNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:kl.CompletionItemKind.Field});return e}function GT(t){let e=[],n=t.getUniqueUserRoleNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:kl.CompletionItemKind.Field});return e}function So(t,e){let n=[],r=e.getUniqueUserGroupNames(),i=r.filter(s=>!t.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:kl.CompletionItemKind.Field});return n}function Ao(t,e){let n=[],r=e.getUniqueUserRoleNames(),i=r.filter(s=>!t.includes(s));for(let s=0;s<i.length;s++)n.push({label:i[s],kind:kl.CompletionItemKind.Field});return n}var eR={tagName:"user:in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>(t.name=="groups"||t.name=="group")&&e.context?.parameterContext!=null?Z(So(e.context.parameterContext.parameter?.getArrayValue()??[],e.project)):null,resolveDocumentation:t=>L("user:in Tag","The `user:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in")},sf=eR;var tR={tagName:"user:not_in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>(t.name=="groups"||t.name=="group")&&e.context?.parameterContext!=null?Z(So(e.context.parameterContext.parameter?.getArrayValue()??[],e.project)):null,resolveDocumentation:t=>L("user:not_in Tag","The `user:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in")},Io=tR;var nR={tagName:"user:is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>(t.name=="roles"||t.name=="role")&&e.context?.parameterContext!=null?Z(Ao(e.context.parameterContext.parameter?.getArrayValue()??[],e.project)):null,resolveDocumentation:t=>L("user:is Tag","The `user:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is")},Eo=nR;var rR={tagName:"user:isnt",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>(t.name=="roles"||t.name=="role")&&e.context?.parameterContext!=null?Z(Ao(e.context.parameterContext.parameter?.getArrayValue()??[],e.project)):null,resolveDocumentation:t=>L("user:isnt Tag","The `user:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt")},xo=rR;var iR={tagName:"in",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["groups"],allowsVariableReference:!1,name:"group",description:"The groups to check against",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>(t.name=="groups"||t.name=="group")&&e.context?.parameterContext!=null?Z(So(e.context.parameterContext.parameter?.getArrayValue()??[],e.project)):null,resolveCompletionItems:t=>(t.leftWord=="in"||t.leftWord=="/in")&&t.leftChar==":"?Z(WT(t.project)):be,resolveDocumentation:t=>L("in Tag","The `in` tag can be used to check if the authenticated user belongs to one or more groups. This tag operates similarly to the `user:in` tag.","https://statamic.dev/tags/user-in")},HT=iR;var sR={tagName:"not_found",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>xe("404 (Not Found) Tag","The `not_found` tag will trigger a 404 status code, and display the 404 template to the site visitor.",`{{ unless logged_in }}
	{{# Display the 404 Not Found page. #}}
	{{ not_found }}
{{ /unless }}`,"https://statamic.dev/tags/404")},YT=sR;var aR={tagName:"is",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:["roles"],allowsVariableReference:!1,name:"role",description:"The roles to check against.",expectsTypes:["string","array"],isDynamic:!1}],resovleParameterCompletionItems:(t,e)=>(t.name=="roles"||t.name=="role")&&e.context?.parameterContext!=null?Z(Ao(e.context.parameterContext.parameter?.getArrayValue()??[],e.project)):null,resolveCompletionItems:t=>(t.leftWord=="is"||t.leftWord=="/is")&&t.leftChar==":"?Z(GT(t.project)):be,resolveDocumentation:t=>L("is Tag","The `is` tag can be used to check whether the currently authenticated user has one or more roles. This tag behaves the same as the `user:is` tag.","https://statamic.dev/tags/user-is")},$T=aR;var oR={tagName:"widont",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>xe("widont Tag","The `widont` tag is similar to the [widont modifier](https://statamic.dev/modifiers/widont), and will attempt to prevent lines with a single word from appearing within the tags rendered output.",`{{ widont }}
    {{ content }}
{{ /widont }}`,null)},KT=oR;var af=[{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"id",description:"The user ID to fetch.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"email",description:"The email address to find the user by.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"field",description:"The field to fetch the user by",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],name:"value",description:"The value to search for.",expectsTypes:["string"],isDynamic:!1}];var lR={tagName:"user:profile",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:af,introducedIn:null,augmentScope:(t,e)=>(e.injectBlueprint(t,"user"),e),resovleParameterCompletionItems:(t,e)=>t.name=="field"?Z(Pc(e.project.getUserFields())):be,resolveDocumentation:t=>L("user:profile Tag","The `user:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter.",null)},Ro=lR;var zT={tagName:"dd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>xe("dd Tag","The `dd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the dd tag.
	#}}
    {{ dd }}
{{ /collection:articles }}`,null)},XT={tagName:"ddd",hideFromCompletions:!1,requiresClose:!1,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>xe("ddd Tag","The `ddd` tag is a useful tag for debugging, and will display the raw data available at the point the tag is rendered. This tag will stop the template from rendering after it is encountered.  If Ignition is available, this tag will use the [ddd](https://flareapp.io/blog/1-introducing-ddd-a-new-global-helper-for-laravel) method.",`{{ collection:articles }}
	{{#
		View all data available, for the first
		entry that renders the ddd tag.
	#}}
    {{ ddd }}
{{ /collection:articles }}`,null)};var uR={tagName:"path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["src"],allowsVariableReference:!0,description:"The path source",name:"to",isDynamic:!1,expectsTypes:["string"]},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],description:"Whether to generate absolute paths",expectsTypes:["boolean"],isDynamic:!1,name:"absolute"}],resolveDocumentation:t=>L("path Tag","The `path` tag can be used to generate URLs from relative URLs, or an entry ID.",null)},QT=uR;var cR={tagName:"user:cant",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,resovleParameterCompletionItems:Wc,parameters:[{name:"do",acceptsVariableInterpolation:!1,aliases:["permission"],allowsVariableReference:!1,description:"The permissions to check against",expectsTypes:["string"],isRequired:!0,isDynamic:!1}],resolveDocumentation:t=>L("user:cant Tag","The `user:cant` tag is used to check if the currently authenticated user does not have a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user does not have the specified permissions.","https://statamic.dev/tags/user-can#cant")},of=cR;var fR={tagName:"query",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!0,introducedIn:null,parameters:[{name:"builder",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,description:"The query to evaluate",expectsTypes:["string"],isRequired:!0,isDynamic:!1}]},JT=fR;var aa=Le(yt(),1);var Ci=[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"src",description:"The relative path to the file.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"cache_bust",description:"Whether to output the last modified date.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"version",description:"Whether to check a versioning manifest to produce the final URL.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"absolute",description:"Generate absolute URLs or not.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,name:"locale",description:"The locale the path should be generated in.",expectsTypes:["string"],isDynamic:!1}];var pR=[{label:"asset",kind:aa.CompletionItemKind.Text},{label:"css",kind:aa.CompletionItemKind.Text},{label:"img",kind:aa.CompletionItemKind.Text},{label:"js",kind:aa.CompletionItemKind.Text},{label:"output",kind:aa.CompletionItemKind.Text},{label:"path",kind:aa.CompletionItemKind.Text}],dR={tagName:"theme",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,introducedIn:null,injectParentScope:!1,parameters:Ci,resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="theme"||t.leftWord=="/theme")&&t.leftChar==":"?Z(pR):be},ZT=dR;var Vm={tagName:"theme:path",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:Ci,resolveDocumentation:t=>L("theme:path Tag","The `theme:path` tag may be used to generate URLs for public assets. This tag may also optionally add the current locale, generate relative URLs, or add cache busting URL parameters to the end of the generated URL.",null)},e0=nt(Vm,"theme:asset");var mR={tagName:"theme:css",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...Ci,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>L("theme:css Tag","The `theme:css` tag may be used to generate a CSS path relative to a public `css/` directory for any arbitrary file path. This tag may also optionally create the HTML `link` tag.",null)},t0=mR;var hR={tagName:"theme:img",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...Ci,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]},{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"alt",description:"The alt text to use when generating the HTML tag",expectsTypes:["string"]}],resolveDocumentation:t=>L("theme:img Tag","The `theme:img` tag may be used to generate an image path relative to a public `img/` directory for any arbitrary file path. This tag may also optionally create the HTML `img` tag.",null)},n0=hR;var gR={tagName:"theme:js",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[...Ci,{isRequired:!1,isDynamic:!1,aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!0,name:"tag",description:"Whether to generate an HTML tag",expectsTypes:["boolean"]}],resolveDocumentation:t=>L("theme:js Tag","The `theme:js` tag may be used to generate a JavaScript path relative to a public `js/` directory for any arbitrary file path. This tag may also optionally create the HTML `script` tag.",null)},r0=gR;var _R={tagName:"theme:output",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,requiresClose:!1,injectParentScope:!1,introducedIn:null,parameters:[{isRequired:!0,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"src",description:"The path to the file",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,allowsVariableReference:!0,acceptsVariableInterpolation:!1,aliases:[],name:"as",description:"An optional alias for the contents variable",expectsTypes:["string"],isDynamic:!1}],augmentScope:(t,e)=>{if(t.isClosedBy!=null){let n=t.findParameter("as");n!=null?e.addVariable({name:n.value,dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t}):e.addVariable({name:"output_contents",dataType:"string",sourceField:null,sourceName:"*internal.theme.context",introducedBy:t})}return e},resolveDocumentation:t=>L("theme:output Tag","The `theme:output` tag may be used to output the contents of any arbitrary file, relative to the site's `resources/` directory.",null)},i0=_R;var yR={tagName:"scope",hideFromCompletions:!1,requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveDocumentation:t=>xe("scope Tag","The `scope` tag creates a copy of all available variables, and saves them to a new  *array* variable defined by the tag's method part.",`{{ scope:scope_name }}
    {{ scope_name:title }}
{{ /scope:scope_name }}
`,null)},s0=yR;var bR={tagName:"if",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:Ue,resolveDocumentation:t=>L("if Conditional Control Structure","The contents of the `if` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},a0=bR;var TR={tagName:"elseif",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:Ue,resolveDocumentation:t=>L("elseif Conditional Control Structure","The contents of the `elseif` tag will be rendered when it's expression evaluates to `true`.","https://statamic.dev/antlers#conditions")},o0=TR;var vR={tagName:"else",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDocumentation:t=>L("else Conditional Control Structure","The contents of the `else` control structure will be evaluated when all previous conditional branch conditions were not met.","https://statamic.dev/antlers#conditions")},l0=vR;var u0=Le(yt(),1);var NR={tagName:"session:has",hideFromCompletions:!1,injectParentScope:!1,requiresClose:!1,allowsArbitraryParameters:!0,allowsContentClose:!0,parameters:[],introducedIn:"3.1.28",resolveDynamicParameter:Ue,resolveDocumentation:t=>L("session:has Tag","The `session:has` tag can be used to determine of the user's session contains a specific variable.","https://statamic.dev/tags/session-has")},lf=NR;var CR=[he(Hc),he(Kc),he(Yc),he($c),he(lf),he(Gc)],PR={tagName:"session",requiresClose:!1,allowsContentClose:!0,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"as",description:"An optional alias for the session data",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveCompletionItems:t=>{if(t.isPastTagPart==!1&&(t.leftWord=="session"||t.leftWord=="/session")&&t.leftChar==":"){let e=Ll.instance?.getKnownSessionVariableNames()??[],n=[];n=n.concat(CR);for(let r=0;r<e.length;r++)n.push({label:e[r],kind:u0.CompletionItemKind.Variable});return Z(n)}return be},augmentScope:(t,e)=>{let n=t.findParameter("as"),r=Ll.instance?.getKnownSessionVariableNames()??[],i=[];for(let s=0;s<r.length;s++)i.push({dataType:"*",name:r[s],sourceField:null,sourceName:"project.session",introducedBy:t});return n==null?e.addVariables(i):e.addVariableArray(n.value,i),e}},c0=PR;var Ml={tagName:"user:forgot_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:Ue,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.reset_password",introducedBy:t}]),e),resolveDocumentation:t=>L("user:forgot_password_form Tag",'The `user:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form")},qm=nt(Ml,"member:forgot_password_form");qm.resolveDocumentation=t=>L("member:forgot_password_form Tag",'The `member:forgot_password_form` tag is used to quickly create a "forgot password" form for site users.',"https://statamic.dev/tags/user-forgot_password_form");function Cs(t){return[{name:"handle",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"display",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"type",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"field",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"error",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"instructions",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t},{name:"old",dataType:"string",sourceName:"*internal.forms.fields",sourceField:null,introducedBy:t}]}function wo(t){return[{name:"success",dataType:"string",sourceField:null,sourceName:"*internal.forms",introducedBy:t},{name:"submission_created",dataType:"boolean",sourceField:null,sourceName:"*internal.forms",introducedBy:t}]}function DR(t){return[{name:"current_password",dataType:"string",sourceName:"*internal.user_password_form",sourceField:null,introducedBy:t},{name:"password",dataType:"string",sourceName:"*internal.user_password_form",sourceField:null,introducedBy:t},{name:"password_confirmation",dataType:"string",sourceName:"*internal.user_password_form",sourceField:null,introducedBy:t}]}var SR={tagName:"user:password_form",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!0,parameters:[{name:"redirect",description:"The location to redirect users after a successful form submission",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",description:"The location to redirect users to after a failed form submission",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override redirect or error_redirect",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],introducedIn:"3.3.61",allowsArbitraryParameters:!0,augmentScope:(t,e)=>{e.addVariables(wo(t)),e.addVariable({dataType:"array",name:"errors",sourceField:null,sourceName:"*internal.forms",introducedBy:t}),e.addVariableArray("fields",Cs(t));let n=DR(t);return e.addVariableArray("old",n),e.addVariableArray("error",n),e}},uf=SR;var Bl={tagName:"user:reset_password_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",description:"Where the user should be taken after submitting the form",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:Ue,augmentScope:(t,e)=>(e.addVariables([{name:"success",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"url_invalid",dataType:"boolean",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t},{name:"errors",dataType:"array",sourceField:null,sourceName:"*internal.user.password_reset",introducedBy:t}]),e),resolveDocumentation:t=>L("user:reset_password_form Tag","The `user:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form")},jm=nt(Bl,"member:reset_password_form");jm.resolveDocumentation=t=>L("member:reset_password_form Tag","The `member:reset_password_form` tag is used to quickly create password reset forms. Forms created with this tag should be displayed after a user has received and clicked a password reset email link.","https://statamic.dev/tags/user-reset_password_form");function Um(t,e){return{sourceName:e.blueprintName,dataType:e.type,name:e.name,sourceField:e,introducedBy:t}}function f0(t){let e=new Map;for(let n=0;n<t.length;n++)e.set(t[n].name,t[n]);return e}function Ps(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push({sourceName:i.blueprintName,dataType:i.type,name:i.name,sourceField:i,introducedBy:t})}return n}var AR={tagName:"user:profile_form",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!0,parameters:[{name:"redirect",description:"The location to redirect users after a successful form submission",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",description:"The location to redirect users to after a failed form submission",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override redirect or error_redirect",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],introducedIn:"3.3.61",allowsArbitraryParameters:!0,augmentScope:(t,e)=>{e.addVariables(wo(t)),e.addVariable({dataType:"array",name:"errors",sourceField:null,sourceName:"*internal.forms",introducedBy:t}),e.addVariableArray("fields",Cs(t));let n=e.statamicProject.getUserFields(),r=Ps(t,n);return e.addVariableArray("old",r),e.addVariableArray("error",r),e}},cf=AR;var Vl={tagName:"user:register_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after registering",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed registration attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:Ue,augmentScope:(t,e)=>{e.addVariableArray("fields",Cs(t)),e.addVariable({name:"errors",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"old",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"error",dataType:"array",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t}),e.addVariable({name:"success",dataType:"string",sourceName:"*internal.user.register_form",sourceField:null,introducedBy:t});let n=e.statamicProject.getUserFields();if(n.length>0){let r=Ps(t,n);e.addVariableArray("old",r),e.addVariableArray("error",r)}return e},resolveDocumentation:t=>L("user:register_form  Form Tag","The `user:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form")},Wm=nt(Vl,"member:register_form");Wm.resolveDocumentation=t=>L("member:register_form Tag","The `member:register_form` tag can be used to build out public registration forms for new users.","https://statamic.dev/tags/user-register_form");var IR=[he(Eo),he(Io),he(xo),he(Ro),he(To),he(of),he(Ml),he(vo),he(No),he(Vl),he(Bl),he(cf),he(uf)],ER={tagName:"user",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,parameters:af,introducedIn:null,resovleParameterCompletionItems:(t,e)=>e.isPastTagPart==!1&&e.currentNode!=null&&e.currentNode.methodIsEmptyOrMatches("profile")&&t.name=="field"?Z(Pc(e.project.getUserFields())):be,augmentScope:(t,e)=>(t.methodIsEmptyOrMatches("profile")&&e.injectUserFields(t),e),resolveCompletionItems:t=>(t.leftWord=="user"||t.leftWord=="/user"||t.leftWord=="member"||t.leftWord=="/member")&&t.leftChar==":"?Z(IR):be,resolveDocumentation:t=>L("user Tag","The `user` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter.",null)},ff=ER;var pf=nt(ff,"member"),Gm=nt(Eo,"member:is"),Hm=nt(xo,"member:isnt"),Ym=nt(Ro,"member:profile"),$m=nt(To,"member:can"),Km=nt(vo,"member:logout"),zm=nt(No,"member:logout_url"),Xm=nt(sf,"member:in"),Qm=nt(Io,"member:not_in");pf.hideFromCompletions=!0;pf.resolveDocumentation=t=>L("member Tag","The `member` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);Gm.resolveDocumentation=t=>L("member:is Tag","The `member:is` tag can be used to check whether the currently authenticated user has one or more roles.","https://statamic.dev/tags/user-is");Hm.resolveDocumentation=t=>L("member:isnt Tag","The `member:isnt` tag can be used to check whether the currently authenticated user does not have one or more roles.","https://statamic.dev/tags/user-is#isnt");Ym.resolveDocumentation=t=>L("member:profile Tag","The `member:profile` tag provides access to the currently logged in user information, or for a specific user when using the `id`, `email`, or `field` parameter",null);$m.resolveDocumentation=t=>L("member:can Tag","The `member:can` tag is used to check if the currently authenticated user has a specific set of permissions. When used as a tag pair, the tag contents will only be rendered if the user has the specified permissions.","https://statamic.dev/tags/user-can");Km.resolveDocumentation=t=>L("member:logout Tag","The `member:logout` tag will sign out the currently authenticated user. An optional `redirect` parameter may be used to redirect the visitor to a different page after being logged out.","https://statamic.dev/tags/user-logout");zm.resolveDocumentation=t=>xe("member:logout_url","The `member:logout_url` tag can be used to retrieve the URL that will sign the current user out.",'<a href="{{ member:logout_url }}">Log out</a>',"https://statamic.dev/tags/user-logout_url");Xm.resolveDocumentation=t=>L("member:in Tag","The `member:in` tag can be used to check if the currently authenticated user belongs to one or more user groups. When used as a tag pair, the tag contents will only be rendered if the user belongs to the specified groups.","https://statamic.dev/tags/user-in");Qm.resolveDocumentation=t=>L("member:not_in Tag","The `member:not_in` tag can be used to check if the currently authenticated user does not belong to one or more user groups. When used as a tag pair, the tag contents will be rendered if the user does not belong to the specified groups.","https://statamic.dev/tags/user-in#not-in");function Ds(t){return[{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t},{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.routeable",introducedBy:t}]}var m0=Le(yt(),1);var Zm=["from","taxonomy","is","use","folder"],eh=["not_from","not_in","dont_use","not_taxonomy"];var Jm=Zm;Jm=Jm.concat(eh);function p0(t,e){if(e.nodesInScope.length>0){let n=e.nodesInScope[e.nodesInScope.length-1];if(n!=null&&n.currentScope!=null){let r=Oo(n,e.project),i=e.project.getTaxonomyBlueprintFields(r),s=i.map(o=>o.name),a=Yi(e.leftWord);if(s.includes(a))return Z(gs(e))}}return t.name=="collection"&&e.context?.parameterContext!=null?Z(fo(e.context?.parameterContext.parameter?.getArrayValue()??[],e.project)):t.name=="filter"||t.name=="query_scope"?Z(Sc(e.project)):Jm.includes(t.name)&&e.context?.parameterContext!=null?Z(d0(e.context?.parameterContext.parameter?.getArrayValue()??[],e.project)):null}function Oo(t,e){let n=[];if(t.hasMethodPart())return n.push(t.getMethodNameValue()),n;let r=t.findAnyParameter(Zm),i=t.findAnyParameter(eh),s=[],a=[];return typeof r<"u"&&r!==null&&(r.value.trim()==="*"?(s=e.getUniqueTaxonomyNames(),typeof i<"u"&&i!==null&&i.isVariableReference==!1&&i.hasInterpolations()==!1&&(a=i.getArrayValue())):r.isVariableReference==!1&&r.hasInterpolations()==!1&&(s=r.getArrayValue())),a.length>0?n=s.filter(function(o){return a.includes(o)==!1}):n=s,n}function d0(t,e){let n=[],r=e.getUniqueTaxonomyNames().filter(i=>!t.includes(i));for(let i=0;i<r.length;i++)n.push({label:r[i],kind:m0.CompletionItemKind.Variable});return n}function h0(t,e){let n=Oo(t,e.statamicProject),r=e.statamicProject.getTaxonomyBlueprintFields(n),i=t.findParameter("collection");if(e.addBlueprintFields(t,r),e.addVariables([{name:"first",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"last",dataType:"boolean",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"index",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"total_results",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t},{name:"entries_count",dataType:"number",sourceName:"*internal.taxonomy",sourceField:null,introducedBy:t}]),e.addVariables(Ds(t)),typeof i<"u"&&i!==null){let s=i.getArrayValue();if(s.length>0){let a=e.statamicProject.getBlueprintFields(s);e.introduceScopedAliasScope(t,"entries","entries",a).addVariables(_s(t))}else e.addVariableArray("entries",Ds(t).concat(_s(t)))}else e.addVariableArray("entries",Ds(t).concat(_s(t)));return e}var xR=[{name:"from",description:"The taxonomy to use.",aliases:["taxonomy","is","use","folder"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"not_from",description:"Taxonomies to exclude.",aliases:["not_in","not_folder","dont_use","not_taxonomy"],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["string","array"],isRequired:!1,isDynamic:!1},{name:"min_count",description:"The minimum number of entries a taxonomy term must have to be returned.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["number"],isDynamic:!1,isRequired:!1},{name:"collection",description:"Filter the terms to those that appear in the specified collections.",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["string","array"],isDynamic:!1,isRequired:!1},{name:"sort",description:"The field to sort the terms by.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{isRequired:!1,name:"filter",aliases:["query_scope"],acceptsVariableInterpolation:!1,allowsVariableReference:!1,description:"Specifies a custom query scope.",expectsTypes:["string"],isDynamic:!1}],g0=xR;var th=Le(yt(),1);function _0(t){let e=[];if(t.currentNode!=null&&t.currentNode.currentScope!=null){let n=Oo(t.currentNode,t.project),r=t.project.getTaxonomyBlueprintFields(n),i=r.map(a=>a.name),s=Yi(t.leftWord);if(i.includes(s))return Z(gs(t));if(t.isCaretInTag&&!t.context?.interpolatedContext&&["taxonomy","/taxonomy"].includes(t.leftWord)==!1){let a=[];for(let o=0;o<r.length;o++){let l=r[o];a.includes(l.name)==!1&&(e.push({label:l.name,detail:l.blueprintName,documentation:l.instructionText??"",kind:th.CompletionItemKind.Field}),a.push(l.name))}if(e.length>0)return bn(e)}}if((t.leftWord=="taxonomy"||t.leftWord=="/taxonomy")&&t.leftChar==":"){let n=t.project.getUniqueTaxonomyNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:th.CompletionItemKind.Field});return bn(e)}return be}var RR={tagName:"taxonomy",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:g0,resolveDynamicParameter:Ue,resolveCompletionItems:_0,resovleParameterCompletionItems:p0,augmentScope:h0,resolveDocumentation:t=>L("taxonomy Tag","The `taxonomy` tag may be used to retrieve taxonomy entries. The taxonomy tag can also be used to access entries associated with any given taxonomy term.","https://statamic.dev/tags/taxonomy")},y0=RR;var nh=Le(yt(),1);function b0(t,e){e.addVariables([{name:"is_published",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_page",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"has_entries",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_parent",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_current",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"is_external",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"depth",dataType:"number",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"children",dataType:"array",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"count",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t},{name:"index",dataType:"integer",sourceField:null,sourceName:"*internal.nav",introducedBy:t}]);let n=e.statamicProject.getUniqueCollectionNames(),r=[],i=!1;if(t.hasMethodPart()){let s=t.getMethodNameValue().trim().toLowerCase();if(s.startsWith("collection:")){let a=s.split(":").pop();i=!0,r.push(a)}else s=="pages"?(i=!0,r.push("pages")):(i=!1,r.push(s))}else{let s=t.findParameter("handle");s!=null&&(n.includes(s.value)?i=!0:i=!1,r.push(s.value))}if(i){let s=e.statamicProject.getBlueprintFields(r);e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}else{let s=Dc(Ds(t));e.addBlueprintFields(t,s),e.expandScopedAliasScope(t,"page","page",s)}return e}var wR={tagName:"nav:breadcrumbs",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,introducedIn:null,injectParentScope:!1,parameters:[{name:"include_home",description:"Whether to include the home page in the first level",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"reverse",description:"Whether to reverse the order of links",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isRequired:!1,isDynamic:!1},{name:"trim",description:"Whether to trim the whitespace after each iteration of the loop",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],augmentScope:(t,e)=>(e.addVariables([{name:"is_current",dataType:"boolean",sourceName:"*internal.nav.breadcrumbs",sourceField:null,introducedBy:t}]),e.addVariables(Ds(t)),e),resolveDocumentation:t=>L("nav:breadcrumbs Tag","The `nav:breadcrumbs` tag can be used to retrieve the URLs of all pages that make up the current URL back to the site's home page.","https://statamic.dev/tags/nav-breadcrumbs")},df=wR;function T0(t,e){if(t.name=="handle"){let n=e.project.getUniqueCollectionNames(),r=e.project.getUniqueNavigationMenuNames(),i=[];return i=n,i=i.concat(r),i=[...new Set(i)],mt(i)}return null}var OR=[{isRequired:!1,acceptsVariableInterpolation:!1,aliases:["handle"],allowsVariableReference:!1,name:"for",description:"The navigation or collection to use.",expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],name:"from",description:"The starting point for the navigation.",allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"show_unpublished",description:"Whether to include unpublished content.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"include_home",description:"Whether to include the home page in the tree.",expectsTypes:["boolean"],isDynamic:!1},{isRequired:!1,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"max_depth",description:"The maximum depth of the navigation or structure.",expectsTypes:["number"],isDynamic:!1}],v0=OR;var rh={tagName:"structure",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,introducedIn:null,injectParentScope:!1,parameters:v0,augmentScope:b0,resovleParameterCompletionItems:T0,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="nav"||t.leftWord=="/nav"||t.leftWord=="structure"||t.leftWord=="/structure")&&t.leftChar==":"){let n=t.project.getUniqueNavigationMenuNames();for(let r=0;r<n.length;r++)e.push(lo(n[r],"",""));return(t.leftWord=="nav"||t.leftWord=="/nav")&&e.push(he(df)),e.push(lo("collection","","")),e.push({label:"collection",kind:nh.CompletionItemKind.Text}),bn(e)}if((t.leftWord=="nav:collection"||t.leftWord=="/nav:collection"||t.leftWord=="collection"||t.leftWord=="/collection"||t.leftWord=="structure:collection"||t.leftWord=="/structure:collection")&&t.leftChar==":"){let n=t.project.getUniqueCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:nh.CompletionItemKind.Field});return bn(e)}return be},resolveDocumentation:t=>L("nav Tag","The `nav` tag can be used to iterate structured collections or navigation menus.","https://statamic.dev/tags/nav")},N0=nt(rh,"nav");var P0=Le(yt(),1);var FR={name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},Pi=FR;var ih=Le(yt(),1),LR=[{label:"GET",kind:ih.CompletionItemKind.EnumMember},{label:"POST",kind:ih.CompletionItemKind.EnumMember}],C0=LR;var li=["in","handle","is","form","formset"];function Fo(t,e){return li.includes(t.name)?mt(e.project.getUniqueFormNames()):t.name=="method"?Z(C0):t.name=="files"?Z(wl):null}function Di(t,e){let n=t.structure.findParentWithName("form:set");return n!=null?{context:n,issues:[]}:{context:null,issues:[]}}var kR=["set","create","errors","success","submissions","submission"];function oa(t){if(t.reference!=null&&"tagPart"in t.reference){let r=t.reference;if(r.nameMatches("form:set"))return oa(r)}let e=t.findAnyParameter(li),n=t.getMethodNameValue();return n!=null&&kR.includes(n)==!1?n:typeof e<"u"&&e!==null&&e.containsSimpleValue()?e.value:""}var MR={tagName:"form:create",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Pi,{name:"method",description:"The HTTP method to use",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"files",description:"Indicates if the form sends file data",aliases:[],allowsVariableReference:!1,acceptsVariableInterpolation:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1},{name:"redirect",description:"The location to redirect users after a successful form submission",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",description:"The location to redirect users to after a failed form submission",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override redirect or error_redirect",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveSpecialType:Di,resovleParameterCompletionItems:Fo,resolveDynamicParameter:Ue,augmentScope:(t,e)=>{e.addVariables(wo(t)),e.addVariable({dataType:"array",name:"errors",sourceField:null,sourceName:"*internal.forms",introducedBy:t}),e.addVariableArray("fields",Cs(t));let n=oa(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n),i=Ps(t,r);e.addVariableArray("old",i),e.addVariableArray("error",i)}return e},resolveDocumentation:t=>L("form:create Tag","The `form:create` tag can be used to access form data, generate field HTML markup, and handle form validation errors.","https://statamic.dev/tags/form-create")},mf=MR;var BR={tagName:"form:errors",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Pi],resolveSpecialType:Di,resovleParameterCompletionItems:(t,e)=>li.includes(t.name)?mt(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>L("form:errors Tag","The `form:errors` tag can be used to retrieve validation errors after a user has submitted a form.","https://statamic.dev/tags/form-errors")},hf=BR;var VR={tagName:"form:set",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"in",description:"The form to use",acceptsVariableInterpolation:!0,aliases:["handle","is","form","formset"],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!0}],resovleParameterCompletionItems:Fo,resolveDocumentation:t=>L("form:set Tag","The `form:set` tag can be used to set the form handle on all nested form tags.","https://statamic.dev/tags/form-set")},gf=VR;var qR={tagName:"form:submission",requiresClose:!0,allowsContentClose:!1,allowsArbitraryParameters:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Pi],resolveSpecialType:Di,resovleParameterCompletionItems:(t,e)=>li.includes(t.name)?mt(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{let n=oa(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n);e.addBlueprintFields(t,r)}return e},resolveDocumentation:t=>L("form:submission Tag","The `form:submission` tag can be used to access the form submission submitted by the current user.","https://statamic.dev/tags/form-submission")},_f=qR;var jR={tagName:"form:submissions",allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[Pi],resolveSpecialType:Di,resovleParameterCompletionItems:(t,e)=>li.includes(t.name)?mt(e.project.getUniqueFormNames()):null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let n=oa(t);if(n.length>0){let r=e.statamicProject.getFormBlueprintFields(n);e.addBlueprintFields(t,r)}return e.addVariable({name:"date",dataType:"date",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e.addVariable({name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.forms.submissions",introducedBy:t}),e},resolveDocumentation:t=>L("form:submissions Tag","The `form:submissions` tag can be used to fetch previously saved submissions for a form.","https://statamic.dev/tags/form-submissions")},yf=jR;var UR={tagName:"form:success",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[Pi],resolveSpecialType:Di,resovleParameterCompletionItems:(t,e)=>li.includes(t.name)?mt(e.project.getUniqueFormNames()):null,resolveDocumentation:t=>L("form:success Tag","The `form:success` tag can be used to check if a form submission was successful or not.","https://statamic.dev/tags/form-success")},bf=UR;var WR=[he(gf),he(mf),he(hf),he(bf),he(yf),he(_f)],GR={tagName:"form",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resovleParameterCompletionItems:Fo,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="form"||t.leftWord=="/form")&&t.leftChar==":"){let n=t.project.getUniqueFormNames();e=e.concat(WR);for(let r=0;r<n.length;r++)e.push({label:n[r],kind:P0.CompletionItemKind.Field});return bn(e)}return be}},D0=GR;var sh={tagName:"search:results",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"index",description:"The index to search in.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"query",description:"The query string parameter to use.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"limit",description:"The maximum number of search results to return.",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{name:"offset",description:"The number of results to skip.",allowsVariableReference:!1,acceptsVariableInterpolation:!1,aliases:[],isRequired:!1,isDynamic:!1,expectsTypes:["number"]},{acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:null,description:"Sets whether or not to paginate entry results.",expectsTypes:["boolean"],isRequired:!1,name:"paginate",isDynamic:!1},{name:"as",description:"Specifies an alias for search results.",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"supplement_data",description:"Controls whether non-indexed fields are returned.",acceptsVariableInterpolation:!1,allowsVariableReference:!1,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resovleParameterCompletionItems:(t,e)=>t.name=="index"?mt(e.project.getSearchIndexes()):null,augmentScope:(t,e)=>{e.addVariables([{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"total_results",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]);let n=t.findParameter("as");return n!=null&&n.value.trim().length>0?e.addVariableArray(n.value,S0(t)):e.addVariables(S0(t)),e},resolveDocumentation:t=>L("search:results Tag","The `search:results` tag provides access to all data that was returned as a result of a user's search.","https://statamic.dev/tags/search")},HR=[he(sh)];function S0(t){return[{name:"url",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"title",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"content",dataType:"string",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"first",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"last",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_entry",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"is_term",dataType:"boolean",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"count",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"index",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"search_score",dataType:"number",sourceField:null,sourceName:"*internal.search.results",introducedBy:t},{name:"_highlightResult",dataType:"array",sourceField:null,sourceName:"*internal.search.results",introducedBy:t}]}var A0={tagName:"search",allowsArbitraryParameters:!1,requiresClose:!0,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[],resolveCompletionItems:t=>t.isPastTagPart==!1&&(t.leftWord=="search"||t.leftWord=="/search")&&t.leftChar==":"?bn(HR):be};function ah(t){return[{name:"email",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"password",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]}var oh={tagName:"user:login_form",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,hideFromCompletions:!1,injectParentScope:!1,introducedIn:null,parameters:[{name:"redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after logging in",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"error_redirect",acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!0,description:"Where the user should be redirected after failed login attempts",expectsTypes:["string"],isDynamic:!1,isRequired:!1},{name:"allow_request_redirect",description:"Indicates if query parameters can override the redirect and error_redirect parameters",acceptsVariableInterpolation:!1,allowsVariableReference:!0,aliases:[],expectsTypes:["boolean"],isDynamic:!1,isRequired:!1}],resolveDynamicParameter:Ue,augmentScope:(t,e)=>(e.addVariables([{name:"errors",dataType:"array",sourceName:"*internal.user.login",sourceField:null,introducedBy:t},{name:"success",dataType:"string",sourceName:"*internal.user.login",sourceField:null,introducedBy:t}]),e.addVariables(ah(t)),e.addVariableArray("old",ah(t)),e.addVariableArray("error",ah(t)),e),resolveDocumentation:t=>L("user:login_form Tag","The `user:login_form` tag can be used to quickly create a form that users can use to authenticate with the site.","https://statamic.dev/tags/user-login_form")},I0=nt(oh,"member:login_form");var YR={tagName:"noparse",requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>L("noparse Tag","The `noparse` tag is used prevent blocks of Antlers code from being parsed, removing the need to escape individual Antlers code regions.","https://statamic.dev/antlers#the-noparse-tag")},E0=YR;var $R={tagName:"unless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:Ue,resolveDocumentation:t=>L("unless Conditional Control Structure","The `unless` control structure operates the same as an `if` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},x0=$R;var KR={tagName:"elseunless",hideFromCompletions:!0,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!0,injectParentScope:!0,introducedIn:null,parameters:[],resolveDynamicParameter:Ue,resolveDocumentation:t=>L("elseunless Conditional Control Structure","The `elseunless` control structure operates the same as an `elseif` statement, but has it's logic inverted.","https://statamic.dev/antlers#conditions")},R0=KR;var w0=Le(si(),1);var O0={tagName:"installed",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!0,introducedIn:"3.1.19",parameters:[],resolveCompletionItems:t=>{if(t.project!=null){let e=t.project.getComposerPackages(),n=[];return e.forEach((r,i)=>{n.push({label:r.name,kind:w0.CompletionItemKind.Text})}),Z(n)}return be},resolveDocumentation:t=>xe("installed Tag","The `installed` tag is used to check if the site has a specific Composer package available.",`{{ if {installed:composer/package-name} }}
    {{# Package is availabl.e #}}
{{ else }}
    {{# Something else. #}}
{{ /if }}`,"https://statamic.dev/tags/installed")};var zR={tagName:"relate",hideFromCompletions:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,injectParentScope:!1,requiresClose:!0,introducedIn:null,parameters:[]},F0=zR;var Lo=[{name:"bag",description:"The error message bag to retrieve errors from.",aliases:[],acceptsVariableInterpolation:!1,allowsVariableReference:!1,expectsTypes:["string"],isDynamic:!1,isRequired:!1}];var XR={tagName:"get_errors",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:Lo,introducedIn:"3.2.23",augmentScope:(t,e)=>{if(t.isClosingTag)return e;if(t.name?.methodPart==null){let n=e.copy();n.addVariable({dataType:"string",introducedBy:t,name:"field",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"field",refFieldSetField:null,sets:null,type:"string"}});let r=n.copy();r.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),n.addScopeList("messages",r),e.addScopeList("fields",n)}else{let n=e.copy();n.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors",sourceField:{blueprintName:"*internal.tag.get_errors",displayName:"get_errors",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",n)}return e},resolveDocumentation:t=>L("get_errors Tag","The `get_errors` tag can be used to retrieve form validation errors.","https://statamic.dev/tags/get_errors")},L0=XR;var QR={tagName:"get_errors:all",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:Lo,introducedIn:null,augmentScope:(t,e)=>{if(t.isClosingTag)return e;let n=e.copy();return n.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_errors.all",sourceField:{blueprintName:"*internal.tag.get_errors.all",displayName:"get_errors:all",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e.addScopeList("messages",n),e},resolveDocumentation:t=>L("get_errors:all Tag","The `get_errors:all` tag can be used to retrieve all form validation errors.","https://statamic.dev/tags/get_errors#list-all-validation-errors")},k0=QR;var JR={tagName:"get_error",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsArbitraryParameters:!1,allowsContentClose:!1,parameters:Lo,introducedIn:null,augmentScope:(t,e)=>(t.isClosingTag||e.addVariable({dataType:"string",introducedBy:t,name:"message",sourceName:"*internal.tag.get_error",sourceField:{blueprintName:"*internal.tag.get_error",displayName:"get_error",import:null,instructionText:null,maxItems:null,name:"message",refFieldSetField:null,sets:null,type:"string"}}),e),resolveDocumentation:t=>L("get_error Tag","The `get_error` tag can be used to retrieve the first error message for a specific field.","https://statamic.dev/tags/get_errors#get-the-first-error-for-a-specific-field")},M0=JR;var ZR={tagName:"set",hideFromCompletions:!0,allowsArbitraryParameters:!0,requiresClose:!1,allowsContentClose:!1,injectParentScope:!1,introducedIn:null,parameters:[]},B0=ZR;var V0=Le(si(),1);var ew={tagName:"mount_url",hideFromCompletions:!1,allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!1,injectParentScope:!1,introducedIn:"3.3.15",parameters:[{isRequired:!1,acceptsVariableInterpolation:!0,aliases:[],allowsVariableReference:!0,description:"The collection handle.",name:"handle",isDynamic:!1,expectsTypes:["string"]}],resolveDocumentation:t=>L("mount Tag","The `mount` tag can be used to retrieve the mount URL for a given collection.",null),resovleParameterCompletionItems:(t,e)=>t.name=="handle"&&e.context?.parameterContext!=null?Z(fo(e.context?.parameterContext.parameter?.getArrayValue()??[],e.project)):null,resolveCompletionItems:t=>{let e=[];if(t.isPastTagPart==!1&&(t.leftWord=="mount_url"||t.leftWord=="/mount_url")&&t.leftChar==":"){let n=t.project.getCollectionNames();for(let r=0;r<n.length;r++)e.push({label:n[r],kind:V0.CompletionItemKind.Field,sortText:"0"})}return{items:e,analyzeDefaults:!1,isExclusiveResult:!1}}},q0=ew;var tw={tagName:"vite:asset",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:"3.4.4",parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"src",description:"The asset's path",expectsTypes:["string"],isDynamic:!1}],resolveDocumentation:t=>xe("vite Tag","Generates Vite asset URL for the provided resource.",'<img src="{{ vite:asset src="resources/images/logo.svg" /}}" />',null)},Tf=tw;var nw=[he(Tf)],rw={tagName:"vite",hideFromCompletions:!1,requiresClose:!0,injectParentScope:!1,allowsContentClose:!1,allowsArbitraryParameters:!1,introducedIn:null,parameters:[{isRequired:!0,acceptsVariableInterpolation:!1,aliases:[],allowsVariableReference:!1,name:"src",description:"The entry point",expectsTypes:["string"],isDynamic:!1}],resolveCompletionItems:t=>(t.leftWord=="vite"||t.leftWord=="/vite")&&t.leftChar==":"?Z(nw):be,resolveDocumentation:t=>xe("vite Tag","Generates Vite tags for an entrypoint.",'{{ vite src="entry/point" }}',null)},j0=rw;var iw={tagName:"nocache",requiresClose:!0,allowsArbitraryParameters:!1,allowsContentClose:!1,hideFromCompletions:!1,injectParentScope:!1,parameters:[],introducedIn:null,resolveDocumentation:t=>xe("nocache Tag","The `nocache` tag is used to mark regions of a template. These regions will continue to update even when using caching strategies such as the full or half-measure cache.",`{{ nocache }} 
    <!-- This content will remain dynamic. -->
{{ /nocache }}`,"https://statamic.dev/tags/nocache")},U0=iw;function vf(t){return[{name:"no_results",dataType:"boolean",sourceField:null,sourceName:"*internal.user.permissions",introducedBy:t},{name:"total_results",dataType:"integer",sourceField:null,sourceName:"*internal.user.permissions",introducedBy:t},{name:"handle",dataType:"string",sourceField:null,sourceName:"*internal.user.permissions",introducedBy:t}]}var sw={tagName:"user_roles",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,injectParentScope:!1,introducedIn:"3.3.31",requiresClose:!1,parameters:[{name:"handle",description:"A list of role handles to include",aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1,acceptsVariableInterpolation:!0}],augmentScope:(t,e)=>(t.isClosingTag||e.addVariables(vf(t)),e),resolveDocumentation:t=>L("user_roles Tag","The `user_roles` tag can be used to return information about a site's user roles.",null)},W0=sw;var aw={tagName:"user_groups",hideFromCompletions:!1,allowsArbitraryParameters:!1,allowsContentClose:!0,injectParentScope:!1,introducedIn:"3.3.31",requiresClose:!1,parameters:[{name:"handle",description:"A list of group handles to include",aliases:[],allowsVariableReference:!0,expectsTypes:["string"],isDynamic:!1,isRequired:!1,acceptsVariableInterpolation:!0}],augmentScope:(t,e)=>(t.isClosingTag||e.addVariables(vf(t)),e),resolveDocumentation:t=>L("user_groups Tag","The `user_groups` tag can be used to return information about a site's user groups.",null)},G0=aw;var ow={tagName:"cookie:forget",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"keys",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The keys to forget",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},Nf=ow;var lw={tagName:"cookie:has",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"key",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The cookie name to check for existence",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},Cf=lw;var uw={tagName:"cookie:set",allowsArbitraryParameters:!0,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"minutes",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The lifetime of the cookie, in minutes",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},Pf=uw;var cw={tagName:"cookie:value",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[{name:"key",aliases:[],acceptsVariableInterpolation:!0,allowsVariableReference:!0,description:"The cookie name to retrieve the value for",expectsTypes:["string"],isDynamic:!1,isRequired:!0}]},Df=cw;var fw=[he(Nf),he(Df),he(Pf),he(Cf)],pw={tagName:"cookie",allowsArbitraryParameters:!1,allowsContentClose:!1,requiresClose:!1,hideFromCompletions:!1,injectParentScope:!1,introducedIn:"3.3.38",parameters:[],resolveCompletionItems:t=>(t.leftWord=="cookie"||t.leftWord=="/cookie")&&t.leftChar==":"?Z(fw):be},H0=pw;var Y0=[a0,o0,l0,x0,R0,IT,RT,zb,kc,sa,Mc,Lc,Fc,H0,Nf,Cf,Pf,Df,F0,D0,mf,_f,yf,gf,bf,hf,B0,L0,M0,k0,A0,sh,iT,Bc,Vc,Jb,YT,Qb,XT,zT,Xb,wT,FT,MT,ef,tf,Zb,eT,tT,BT,VT,sT,qc,jT,rf,UT,q0,N0,rh,df,oT,aT,sf,HT,Io,Eo,$T,O0,W0,G0,ff,xo,To,of,vo,No,Ro,oh,Bl,Ml,cf,uf,Vl,pf,Gm,Hm,Ym,$m,Km,zm,Xm,Qm,I0,jm,qm,Wm,E0,U0,cT,fT,pT,PT,DT,QT,TT,yT,s0,CT,c0,Kc,$c,Yc,Hc,lf,Gc,AT,y0,ZT,Vm,e0,t0,n0,r0,i0,Jc,ST,Lm,JT,hT,zc,KT,j0,Tf];var Ki=class{constructor(){this.tags=new Map;this.parameters=new Map}reset(){this.tags.clear(),this.parameters.clear(),this.loadCoreTags()}getVisibleTagsWithDocumentation(){let e=[];return this.tags.forEach((n,r)=>{if(n.hideFromCompletions==!1){let i="";n.resolveDocumentation!=null&&(i=n.resolveDocumentation()),e.push({label:r,documentation:i})}}),kt.instance?.getStructure()?.getCustomAntlersTags().forEach(n=>{e.push({label:n.tagName,documentation:""})}),e}getCustomTagMethodsForTag(e){let n=[],r=e.length+1;return kt.instance?.getStructure()?.getCustomAntlersTags().forEach(i=>{if(i.tagName.startsWith(`${e}:`)){let s=i.tagName.substr(r).trim();s.length>0&&n.push(s)}}),n}getVisibleTagNames(){let e=[];return this.tags.forEach((n,r)=>{n.hideFromCompletions==!1&&e.push(r)}),kt.instance?.getStructure()?.getCustomAntlersTags().forEach(n=>{e.push(n.tagName)}),[...new Set(e)]}getPossibleTagMethods(e){let n=[],r=e.length+1;return this.tags.forEach((i,s)=>{if(s.startsWith(e)){let a=s.substr(r).trim();a.length>0&&n.push(a)}}),kt.instance?.getStructure()?.getCustomAntlersTags().forEach(i=>{if(i.tagName.startsWith(`${e}:`)){let s=e.substr(r).trim();s.length>0&&n.push(s)}}),[...new Set(n)]}getTagNames(){let e=[];return this.tags.forEach((n,r)=>{e.push(r)}),kt.instance?.getStructure()?.getCustomAntlersTags().forEach(n=>{e.push(n.tagName)}),[...new Set(e)]}loadCoreTags(){this.registerTags(Y0)}cleanTagName(e){return Gs(e,"/")}findTag(e){return this.tags.get(this.resolveTagName(e))}findCustomTag(e){let n=kt.instance?.getStructure()?.getCustomAntlersTags()??[];for(let r=0;r<n.length;r++)if(n[r].tagName==e)return n[r]}isKnownTag(e){return this.tags.has(this.resolveTagName(e))||this.isCustomTag(e)}isSymbolKnownTag(e){return this.isKnownTag(e.runtimeName())}resolveTagName(e){return e=this.cleanTagName(e.trim()),this.tags.has(e)||e.includes(":")&&(e=e.split(":")[0]),e}canResolveSpecialTypes(e){e=this.resolveTagName(e);let n=this.tags.get(e);return!(typeof n>"u"||n==null||n.resolveSpecialType==null)}resolveSpecialType(e,n,r){e=this.resolveTagName(e);let i=this.findTag(e);if(i.resolveSpecialType==null)throw new Error(e+" does not support special types.");return i.resolveSpecialType(n,r)}isCustomTag(e){let n=kt.instance?.getStructure()?.getCustomAntlersTags()??[];for(var r=0;r<n.length;r++)if(n[r].tagName==e)return!0;return!1}getCompletionItems(e){let n=null,r=[],i=!0;if(e.context!=null&&e.context.node!=null&&(e.currentNode=e.context.node),e.nodesInScope.length>0&&(n=e.nodesInScope[e.nodesInScope.length-1]),e.currentNode!=null&&(this.isKnownTag(e.currentNode.runtimeName())||this.isCustomTag(e.currentNode.getTagName()))){let s=this.findTag(e.currentNode.runtimeName());if(typeof s>"u"&&(s=this.findCustomTag(e.currentNode.getTagName()),typeof s>"u"))return{isExclusive:!1,items:[]};let a=[];if(s.resolveCompletionItems!=null){let o=s.resolveCompletionItems(e),l=this.getCustomTagMethodsForTag(s.tagName);if(l.length>0&&l.forEach(u=>{o.items.push({label:u,kind:lh.CompletionItemKind.Text,insertText:u})}),o.isExclusiveResult)return{isExclusive:!0,items:o.items};i=o.analyzeDefaults,r=r.concat(o.items)}if(e.isPastTagPart==!1){let o=this.getPossibleTagMethods(s.tagName);for(let l=0;l<o.length;l++)r.push({label:o[l],kind:lh.CompletionItemKind.Text})}if(i){if(e.isCaretInTag==!0&&s.parameters.length>0&&(r=r.concat(Am(e,s.parameters)),s.tagName=="partial"&&n?.hasMethodPart())){let o=n.getMethodNameValue();if(o.trim().length>0&&kt.instance?.hasStructure()){let l=kt.instance.getStructure().findPartial(o);l!=null&&l.injectsParameters.length>0&&(r=r.concat(Am(e,l.injectsParameters)))}}for(let o=0;o<e.nodesInScope.length;o++)if(e.nodesInScope[o].runtimeType!==null){let l=e.nodesInScope[o].runtimeType;if(l!=null&&l.assumedType=="structure_ref"&&l.supplementedFields!=null)for(let u=0;u<l.supplementedFields.length;u++)r.push(Im(l.supplementedFields[u]))}}return{items:r,isExclusive:!1}}return{items:r,isExclusive:!1}}injectParentScope(e){let n=this.findTag(e);return typeof n>"u"||n==null?!0:n.injectParentScope}resolveParameterCompletions(e,n,r){let i=this.findTag(e);return typeof i<"u"&&i!==null&&typeof i.resovleParameterCompletionItems<"u"&&i.resovleParameterCompletionItems!==null?i.resovleParameterCompletionItems(n,r):null}canResolveDynamicParameter(e){let n=this.resolveTagName(e);if(this.isKnownTag(n)){let r=this.tags.get(n);if(typeof r>"u")return!1;if(typeof r.resolveDynamicParameter<"u"&&r.resolveDynamicParameter!=null)return!0}return!1}getParameter(e,n){let r=this.resolveTagName(e);if(this.parameters.has(r)==!1)return null;let i=this.parameters.get(r);if(i==null)return null;if(i.has(n)==!1){let a=this.findTag(e);if(a!=null&&typeof a.resolveDynamicParameter<"u"&&a.resolveDynamicParameter!=null){let o=a.resolveDynamicParameter(null,n);if(o!==null)return o}return null}let s=i.get(n);return typeof s>"u"||i==null?null:s}registerTags(e){for(let n=0;n<e.length;n++)this.registerTag(e[n])}registerTag(e){if(this.tags.set(e.tagName,e),this.parameters.has(e.tagName)==!1&&this.parameters.set(e.tagName,new Map),e.parameters.length>0){let n=this.parameters.get(e.tagName);for(let r=0;r<e.parameters.length;r++){let i=e.parameters[r];n?.set(i.name,i)}}}requiresClose(e){let n=e.getTagName();if(this.tags.has(n)){let r=this.findTag(n);if(r!=null)return r.requiresCloseResolver!=null?r.requiresCloseResolver(e):r.requiresClose}return!1}};Ki.instance=null;(typeof Ki.instance>"u"||Ki.instance==null)&&(Ki.instance=new Ki,Ki.instance.loadCoreTags());var wn=Ki;var Vr=class{constructor(e){this.generation=0;this.id="";this.name="";this.values=new Map;this.lists=new Map;this.pristine=new Map;this.parentScope=null;this.statamicProject=e,Vr.generationCounter+=1,this.generation=Vr.generationCounter,this.id=ja()}makeNew(){return new Vr(this.statamicProject)}ancestor(){return this.parentScope!=null?this.parentScope:this}canShiftScope(e){return!!this.pristine.has(e)}shiftScope(e,n,r){if(this.pristine.has(n)){let i=this.pristine.get(n),s=i.parentCopy.copy();return s.introduceAliasScope(e,r,i.introducedFields),s}return this}containsPath(e){if(e.includes(":")){let n=e.split(":"),r=n.shift(),i=n.join(":");if(typeof r>"u")return!1;let s=this.lists.get(r);return typeof s>"u"?!1:s.containsPath(i)}return!!this.lists.has(e)}findReference(e){if(e.includes(":")){let n=e.split(":"),r=n.pop(),i=n.join(":"),s=this.findNestedScope(i);if(s!=null)return s.findReference(r)}return this.values.has(e)?this.values.get(e):null}findReferenceWithField(e){if(e.includes(":")){let n=e.split(":"),r=n.pop(),i=n.join(":"),s=this.findNestedScope(i);if(s!=null)return s.findReference(r)}if(this.values.has(e)){let n=this.values.get(e);if(n.sourceField==null){if(n.introducedBy!=null&&n.introducedBy.currentScope!=null&&n.introducedBy.currentScope!=this)return n.introducedBy.currentScope.findReferenceWithField(n.introducedBy.getTagName());if(this.parentScope!=null&&this.parentScope!=this)return this.parentScope.findReferenceWithField(e)}return n}return null}containsReference(e){return this.findReference(e)!=null}findNestedScope(e){if(e.includes(":")){let n=e.split(":"),r=n.shift(),i=n.join(":");if(typeof r>"u")return null;let s=this.lists.get(r);return typeof s>"u"?null:s.findNestedScope(i)}return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this&&this.parentScope.hasList(e)?this.parentScope.lists.get(e):null}liftList(e){if(this.lists.has(e)){let n=this.lists.get(e);return typeof n>"u"||n===null?null:(this.lists.delete(e),n)}return null}hasPristineReference(e){return!!this.pristine.has(e)}hasListInHistory(e){return this.hasList(e)?!0:this.parentScope!=null?this.name=="*root*"?!1:this.parentScope.hasList(e):!1}hasList(e){if(this.lists.has(e)){let n=this.lists.get(e);return!(typeof n>"u"||n===null)}return!1}bringListIntoMainScope(e){if(e.includes(":")){let r=e.split(":"),i=r.shift(),s=r.join(":");if(typeof i>"u")return this;let a=this.lists.get(i);return typeof a>"u"?this:a.bringListIntoMainScope(s)}let n=this.lists.get(e);return this.lists.delete(e),this.mergeScope(n)}getListNames(){let e=[];return this.lists.forEach((n,r)=>{e.push(r)}),e}getVariableNames(){let e=[];return this.values.forEach(n=>{e.push(n.name)}),e}getList(e){return this.lists.has(e)?this.lists.get(e):this.parentScope!=null&&this.parentScope!=this?this.parentScope.getList(e):null}hasValue(e){return this.values.has(e)}findAncestorWithList(e){return this.hasList(e)?this:this.parentScope!=null&&this.parentScope!=this?this.parentScope.findAncestorWithList(e):null}findReferenceNotIntroducedBy(e,n){if(this.hasValue(e)){let r=this.values.get(e);if(r.introducedBy!=null&&r.introducedBy!=n)return r}return this.parentScope!=null&&this.parentScope!=this?this.parentScope.findReferenceNotIntroducedBy(e,n):null}removeThroughIntroduction(e,n){if(this.values.delete(e),this.parentScope!=null){let r=this.findReferenceNotIntroducedBy(e,n);r!=null&&this.addVariable(r)}}wasIntroducedBySymbol(e,n){if(this.values.has(e)==!1)return!1;let r=this.values.get(e);return r.introducedBy!=null?r.introducedBy==n:!1}referencesArray(e){return this.values.has(e)==!1?!1:this.values.get(e).dataType=="array"}addScopeList(e,n){return this.lists.set(e,n),this}mergeAndList(e,n){let r=new Vr(this.statamicProject);return r.values=f0(n),this.lists.set(e,r),this.mergeVariableScope(n),this}mergeScope(e){return e==this||e==null?this:(typeof e.values<"u"&&e.values!==null&&e.values.forEach((n,r)=>{this.values.set(r,n)}),typeof e.lists<"u"&&e.lists!==null&&e.lists.forEach((n,r)=>{this.lists.set(r,n)}),this)}mergeVariableScope(e){for(let n=0;n<e.length;n++)this.values.set(e[n].name,e[n]);return this}addVariable(e){this.values.set(e.name,e)}addVariables(e){for(let n=0;n<e.length;n++)this.addVariable(e[n])}addVariableArray(e,n){this.values.has(e)&&this.values.delete(e);let r=new Vr(this.statamicProject);r.addVariables(n),this.addScopeList(e,r)}injectAssetContainer(e,n){this.addBlueprintFields(e,this.statamicProject.getAssetBlueprintFields(n))}injectUserFields(e){this.addBlueprintFields(e,this.statamicProject.getUserFields())}addBlueprintField(e,n){this.addVariable({dataType:n.type,name:n.name,sourceField:n,sourceName:n.blueprintName,introducedBy:e})}introduceScopedAliasScope(e,n,r,i){this.pristine.set(r,{introducedFields:i,introducedScope:r,parentCopy:this.copy()});let s=new Vr(this.statamicProject),a=new Vr(this.statamicProject);return a.addBlueprintFields(e,i),s.name=r,s.addScopeList(n,a),this.addScopeList(r,s),s}expandScopedAliasScope(e,n,r,i){this.lists.has(r)==!1?this.introduceScopedAliasScope(e,n,r,i):this.lists.get(r).addBlueprintFields(e,i)}introduceAliasScope(e,n,r){this.pristine.set(n,{introducedFields:r,introducedScope:n,parentCopy:this.copy()});let i=new Vr(this.statamicProject);i.addBlueprintFields(e,r),i.name=n,this.addScopeList(n,i)}introduceDynamicScopeList(e,n,r){this.pristine.set(n,{introducedFields:r,introducedScope:n,parentCopy:this.copy()});let i=new Vr(this.statamicProject);i.name=n,i.addBlueprintFields(e,r),this.addScopeList(n,i)}addBlueprintFields(e,n){for(let r=0;r<n.length;r++)this.addBlueprintField(e,n[r])}injectBlueprint(e,n){let r=this.statamicProject.getBlueprintDetails(n);r.length>0&&this.addBlueprintFields(e,r)}copy(){let e=new Vr(this.statamicProject);return e.pristine=new Map(this.pristine),e.values=new Map(this.values),e.lists=new Map(this.lists),e.parentScope=this,e}},Yn=Vr;Yn.generationCounter=0;function uh(t){let e=new Yn(t);return e.addVariable({dataType:"string",name:"handle",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"name",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"short_locale",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e.addVariable({dataType:"string",name:"url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),e}function $0(){let t=[];return t.push({dataType:"number",name:"response_code",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_field",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"csrf_token",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"environment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"xml_header",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"last_segment",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_uri",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"amp_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"api_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_full_url",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"template_content",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_template",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"string",name:"current_layout",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_in",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"logged_out",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"boolean",name:"is_homepage",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"now",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"today",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"date",name:"current_date",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"get_post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"post",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t.push({dataType:"array",name:"old",sourceField:null,sourceName:"*internal.system",introducedBy:null}),t}function K0(t,e){let n=t.findParameter("paginate");if(n!=null&&(n.value.toLowerCase()=="true"||parseInt(n.value).toString()==n.value)){let r=e.makeNew(),i=e.makeNew(),s=e.makeNew(),a=e.makeNew();r.addVariable({name:"next_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"prev_page",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_items",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"total_pages",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"current_page",dataType:"integer",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),r.addVariable({name:"auto_links",dataType:"string",sourceName:"*internal.pagination",sourceField:null,introducedBy:t}),s.addVariable({name:"url",dataType:"string",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),s.addVariable({name:"page",dataType:"integer",sourceField:null,sourceName:"*internal.pagination.all",introducedBy:t}),a.addVariable({name:"first",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),a.addVariable({name:"last",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),a.addVariable({name:"slider",dataType:"boolean",sourceName:"*internal.pagination.segments",sourceField:null,introducedBy:t}),i.addScopeList("all",s),i.addScopeList("segments",a),r.addScopeList("links",i),e.addScopeList("paginate",r)}}var Ss=class{constructor(){this.fileInjections=new Map;this.project=null}updateProject(e){this.project=e}registerInjections(e,n){if(n.length==0)return;let r=[];for(let i=0;i<n.length;i++){let s=n[i];s.hasParameters&&r.push(s)}if(r.length>0){let i=r[0].getMethodNameValue();if(i!=null&&this.project!=null){let s=this.project.findPartial(i);s!=null&&(this.fileInjections.has(s.documentUri)||this.fileInjections.set(s.documentUri,new Map),this.fileInjections.get(s.documentUri).set(e,r))}}}hasAvailableInjections(e){return this.fileInjections.has(e)}getScopeInjection(e,n){let r=new Yn(n);return r.name="*injection*",this.fileInjections.get(e).forEach((s,a)=>{for(let o=0;o<s.length;o++){let l=s[o];if(l.hasParameters)for(let u=0;u<l.parameters.length;u++){let c=l.parameters[u];if(c.containsSimpleValue())r.addVariable({dataType:"string",name:c.name,sourceField:null,sourceName:"scope.injection",introducedBy:l});else if(c.isVariableReference&&l.currentScope!=null&&l.currentScope.hasListInHistory(c.value)){let f=l.currentScope.findNestedScope(c.value);if(f!=null){let d=Gs(c.name,":"),h=f.copy();h.name=d,r.addScopeList(d,f)}}}}}),r}};Ss.instance=null;(typeof Ss.instance>"u"||Ss.instance==null)&&(Ss.instance=new Ss);var ch=Ss;var dw=["collection"],mw=["if","elseif","unless","elseunless"],Sf=class{constructor(e,n,r){this.pageVars=[];this.viewDataVars=null;this.documentUri="";this.lastSymbolId="";this.ideHelperMap=new Map;this.statamicProject=e,this.documentUri=n,this.document=r,this.makePageScope(),this.makeViewDataScope()}makeViewDataScope(){this.document.hasFrontMatter()&&(this.viewDataVars=this.document.getFrontMatterScope())}makePageScope(){let e=[],n=this.statamicProject.getFields();if(n.has("pages")){let r=n.get("pages");for(let i=0;i<r.length;i++){let s=r[i];e.push({name:s.name,dataType:s.type,sourceField:s,sourceName:s.blueprintName,introducedBy:null})}}this.pageVars=e}analyzeScope(e){let n=new Yn(this.statamicProject);n.name="*root*",n.parentScope=n,n.addScopeList("site",uh(this.statamicProject)),n.addScopeList("sites",uh(this.statamicProject)),n.addVariables($0());let r=new Yn(this.statamicProject);r.name="*root_user*",r.parentScope=n,this.statamicProject.getUserFields().forEach(c=>{r.addBlueprintField(null,c)}),n.addScopeList("current_user",r),b_.instance?.pageScopeDisabled(this.documentUri)?this.viewDataVars!=null&&n.addScopeList("view",this.viewDataVars):this.viewDataVars!=null?n.mergeAndList("page",this.pageVars).addScopeList("view",this.viewDataVars):n.mergeAndList("page",this.pageVars);let i=null;e.length>0&&e[0].isComment&&(i=pl(this.documentUri,e[0]));for(let c=0;c<e.length;c++)if(e[c].isComment){let f=pl(this.documentUri,e[c]);f.variableHelper!=null&&this.ideHelperMap.set(e[c].id(),f.variableHelper)}let s=this.statamicProject.getCollectionNamesForView(this.documentUri);if(i!=null&&(i.collectionInjections.length>0&&(s=s.concat(i.collectionInjections)),i.blueprints.length>0&&(s=s.concat(i.blueprints)),i.variableHelper!=null&&i.variableHelper.variableName=="@page")){let c=this.statamicProject.getBlueprintField(i.variableHelper.collectionName,i.variableHelper.fieldHandle);if(c!=null)if(i.variableHelper.setHandle.length>0){if(c.sets!=null){for(let f=0;f<c.sets.length;f++)if(c.sets[f].handle==i.variableHelper.setHandle){n.addVariables(Ps(e[0],c.sets[f].fields));break}}}else n.addBlueprintField(e[0],c)}if(s.length>0){for(let c=0;c<s.length;c++)n.injectBlueprint(e[0],s[c]);n.addVariables(_s(e[0]))}ch.instance?.hasAvailableInjections(this.documentUri)&&n.mergeScope(ch.instance?.getScopeInjection(this.documentUri,this.statamicProject));let a=[],o=[],l=[],u=[];u.push(n);for(let c=0;c<e.length;c++){let f=e[c];this.lastSymbolId.length>0&&o.includes(f.id())&&(a.pop(),u.pop(),u.length==0&&u.push(n));let d=u[u.length-1];if(f.hasParameters){for(let p=0;p<f.parameters.length;p++)if(f.parameters[p].interpolations.length>0)for(let m=0;m<f.parameters[p].interpolations.length;m++){let g=f.parameters[p].interpolations[m];f.processedInterpolationRegions.has(g)&&f.processedInterpolationRegions.get(g).forEach(b=>{b instanceof W&&(b.currentScope=d)})}}if(wn.instance?.isKnownTag(f.getTagName())==!1){if(f.scopeVariable=d.findReference(f.runtimeName()),c>0){let p=e[c-1];if(p.isComment&&this.ideHelperMap.has(p.id())&&!p.isClosingTag&&!f.isClosingTag){let m=this.ideHelperMap.get(p.id());if(m.variableName==f.getTagName()){let g=this.statamicProject.getBlueprintField(m.collectionName,m.fieldHandle);g!=null&&(f.scopeVariable=Um(f,g))}}}if(f.scopeVariable==null){let p=f.runtimeName().trim();if(d.hasList(p)||f.currentScope?.hasListInHistory(p)){f.sourceType="array";let T=d.getList(p);if(T!=null&&T.values.size>0){let b=T.values.entries().next().value[1];f.scopeVariable={dataType:"array",introducedBy:b.introducedBy,name:p,sourceField:null,sourceName:b.sourceName}}}let m=f.name?.name??"";m.includes(".")?m=m.split(".")[0]:m.includes(":")&&(m=m.split(":")[0]);let g=this.statamicProject.findAnyBlueprintField(m);if(g!=null){let T=Um(f,g);f.scopeVariable=T,f.scopeVariable.sourceField!=null&&ho.instance?.hasFieldtype(f.scopeVariable.sourceField.type)&&(ho.instance?.getFieldType(f.scopeVariable.sourceField.type)).augmentScope(f,d)}}else f.sourceType=Ru(f.scopeVariable.dataType),f.scopeVariable.sourceField!=null&&ho.instance?.hasFieldtype(f.scopeVariable.sourceField.type)&&(ho.instance?.getFieldType(f.scopeVariable.sourceField.type)).augmentScope(f,d)}if(f.hasParameters&&K0(f,d),f.modifiers!=null&&f.modifiers.hasModifiers()?f.manifestType=f.modifiers.getLastManifestedModifierRuntimeType():f.manifestType=f.sourceType,f.isClosedBy!=null&&(a.push(f.id()),o.push(f.isClosedBy.id()),d=d.copy(),u.push(d)),f.getTagName()=="scope"&&f.hasMethodPart()&&u.length>2){let p=u[u.length-2].copy();d.addScopeList(f.getMethodNameValue(),p)}if(d.containsPath(f.runtimeName())&&(a.push(f.id()),f.isClosedBy!=null&&o.push(f.isClosedBy.id()),d=d.copy().bringListIntoMainScope(f.runtimeName()),u.push(d)),f.currentScope=d,f.getTagName()!="cache"){let p=f.findParameter("scope");p!=null&&d.canShiftScope(f.runtimeName())&&(d=d.shiftScope(f,f.runtimeName(),p.value),f.currentScope=d,u.pop(),u.push(d))}if(wn.instance?.isKnownTag(f.runtimeName())){let p=wn.instance?.findTag(f.runtimeName());typeof p<"u"&&p.augmentScope!=null&&p.augmentScope(f,d)}if(f.modifierChain!=null&&f.modifierChain.modifierChain.length>0&&f.modifierChain.modifierChain.forEach(p=>{p.modifier!=null&&typeof p.modifier.augmentScope<"u"&&p.modifier.augmentScope!=null&&p.modifier.augmentScope(f,d)}),f.modifiers.hasParameterModifiers()&&f.modifiers.parameterModifiers.forEach(p=>{p.modifier!=null&&typeof p.modifier.augmentScope<"u"&&p.modifier.augmentScope!=null&&p.modifier.augmentScope(f,d)}),f.sourceType=="array"){let p=f.findParameter("chunk"),m=!0;if(f.parent!=null&&f.parent instanceof W&&dw.includes(f.parent.runtimeName())&&(m=!1),typeof p<"u"&&p!==null)if(f.currentScope.parentScope!=null&&(f.currentScope.parentScope.hasList(f.runtimeName())||d.referencesArray(f.runtimeName()))){let g=f.currentScope.parentScope.copy(),T=g.liftList(f.runtimeName());if(T==null&&d.referencesArray(f.runtimeName())){if(T=new Yn(d.statamicProject),m){let b=He(f);for(let S=0;S<b.length;S++){let B=b[S];g.wasIntroducedBySymbol(B.name,f)&&g.removeThroughIntroduction(B.name,f)}T.addVariables(b)}}else m&&g.addVariables(He(f));g.addScopeList("chunk",T),d=g,u.pop(),u.push(d),f.currentScope=g}else{let g=f.findParameter("scope");if(typeof g<"u"&&g!==null&&f.currentScope!=null&&f.currentScope.hasList(g.value)&&f.scopeName!=null){let T=f.currentScope.copy(),b=T.ancestor().copy(),S=T.liftList(f.scopeName);m&&T.addVariables(He(f)),b.liftList(f.scopeName),T.addScopeList(f.scopeName,S),b.addScopeList("chunk",T),d=b,u.pop(),u.push(d),f.currentScope=b}}else f.scopeVariable!=null&&f.scopeVariable.sourceField==null&&m&&(d.addVariables(He(f)),d.addVariables(Ke(f)))}if(o.includes(f.id())&&f.parent!=null&&f.parent instanceof W){let p=f.currentScope.findAncestorWithList(f.getTagName());p!=null?(f.currentScope=p,d=p.copy(),u.pop(),u.length==0&&u.push(n),u.push(d)):f.parent.parent!=null?f.currentScope=f.parent.parent.currentScope:f.currentScope=f.parent.currentScope}if(f.currentScope!=null&&f.runtimeNodes.length>0&&f.runtimeNodes.forEach(p=>{if(p instanceof ge&&f.currentScope?.hasValue(p.name)){let m=f.currentScope.findReferenceWithField(p.name);p.currentScope=f.currentScope,p.scopeName=f.scopeName,p.scopeVariable=m}}),mw.includes(f.runtimeName())&&f.runtimeNodes.length==3&&f.runtimeNodes[0]instanceof ge&&f.runtimeNodes[1]instanceof In&&f.runtimeNodes[2]instanceof Nt&&f.runtimeNodes[0].scopeVariable!=null&&f.runtimeNodes[0].scopeVariable.sourceField!=null){let p=f.runtimeNodes[0].scopeVariable,m=f.runtimeNodes[2].value,g=p.sourceField;if(g.sets!=null)for(let T=0;T<g.sets.length;T++){let b=g.sets[T];if(b.handle==m&&b.fields!=null){d=d.copy(),d.addBlueprintFields(f,b.fields),f.isClosedBy!=null&&!f.isSelfClosing&&(a.push(f.id()),o.push(f.isClosedBy.id()),u.push(d));break}}}this.lastSymbolId=f.id();let h=a.join("/");l.push(h)}}};var zi=class{};zi.globalTagEnterStack=[],zi.interpolatedVariables=[];var J0=Le(Fu(),1);var On=class{constructor(){this.name="";this.compound="";this.methodPart="";this.content="";this.cachedCompoundTagName=null}tagPartIs(e){return e=e.toLowerCase().trim(),this.name.toLowerCase().trim()==e}isCompound(){return this.methodPart==null?!1:this.methodPart.length>0}getMethodName(){return this.methodPart==""?"index":this.methodPart=="null"?"":this.methodPart}getRuntimeMethodName(){}getCompoundTagName(){if(this.cachedCompoundTagName==null){let e=this.getMethodName();this.cachedCompoundTagName=this.name,e!=null&&e!=""&&(this.cachedCompoundTagName=this.cachedCompoundTagName+":"+e)}return this.cachedCompoundTagName}};var fh=class{constructor(){this.tagNames=[];this.modifierNames=[]}getModifierNames(){return this.modifierNames.concat(Tt.instance?.getModifierNames()??[])}getTagNames(){return this.tagNames.concat(wn.instance?.getTagNames()??[])}setTagNames(e){this.tagNames=e}setModifierNames(e){this.modifierNames=e}isTag(e){return fh.alwaysLikeTag.includes(e)||wn.instance?.isKnownTag(e)?!0:this.tagNames.includes(e)}isModifier(e){return Tt.instance?.hasModifier(e)?!0:this.modifierNames.includes(e)}},la=fh;la.alwaysLikeTag=["if","endif","elseif","else","unless","elseunless"];var ko=class{static analyze(e,n){e.forEach(r=>{if(r instanceof W){if(r.pathReference!=null&&r.pathReference.isStrictVariableReference){r.isTagNode=!1;return}r.name!=null&&(r.isTagNode=n.isTag(r.name.name))}})}static analyzeNode(e){if(e.pathReference!=null&&e.pathReference.isStrictVariableReference){e.isTagNode=!1;return}ko.environmentDetails!=null&&e.name!=null&&(e.isTagNode=ko.environmentDetails.isTag(e.name.name)),e.name!=null&&(e.isConditionNode=la.alwaysLikeTag.includes(e.name.name))}static analyzeParametersForModifiers(e){e.parameters.forEach(n=>{ko.environmentDetails!=null&&(n.isModifierParameter=ko.environmentDetails.isModifier(n.name))})}},ua=ko;ua.environmentDetails=null;(typeof ua.environmentDetails>"u"||ua.environmentDetails==null)&&(ua.environmentDetails=new la);var ph=ua;var Af=class{static getIdentifier(e){let n=new On;n.content=e.trim();let r=e.split(":");if(r.length==1)n.name=r[0].trim(),n.methodPart=null,n.compound=n.name;else if(r.length>1){let i=r.shift()??"",s=r.join(":");n.name=i.trim(),n.methodPart=s.trim(),n.compound=n.name+":"+n.methodPart}else n.name=e.trim(),n.methodPart="";return n.name.startsWith("/")&&(n.name=n.name.substr(1),n.compound=n.compound.substr(1)),n}};var ie=class{static getPrettyTypeName(e){return e instanceof Lr?ie.TOKEN_LANG_OPERATOR:e instanceof Vn?ie.TOKEN_OP_A_ADD:e instanceof ge?ie.TOKEN_VARIABLE:e instanceof Nt?ie.TOKEN_STRING:e instanceof Rt?ie.TOKEN_NUMBER:e instanceof Cr?ie.TOKEN_CONSTANT_FALSE:e instanceof tr?ie.TOKEN_CONSTANT_NULL:e instanceof Pr?ie.TOKEN_CONSTANT_TRUE:e instanceof Ys?ie.TOKEN_MODIFIER_NODE:e instanceof Ga?ie.TOKEN_MODIFIER_CHAIN:e instanceof Bu?ie.TOKEN_MODIFIER_PARAMETER:e instanceof qn?ie.TOKEN_OP_A_DIVIDE:e instanceof zr?ie.TOKEN_OP_A_EXPONENTIATION:e instanceof nr?ie.TOKEN_OP_A_MODULUS:e instanceof jn?ie.TOKEN_OP_A_MULTIPLY:e instanceof gn?ie.TOKEN_OP_A_SUBTRACT:e instanceof Dr?ie.TOKEN_ASG_ADD:e instanceof Sr?ie.TOKEN_ASG_DIVIDE:e instanceof Ar?ie.TOKEN_ASG_MODULUS:e instanceof Ir?ie.TOKEN_ASG_MULTIPLY:e instanceof Un?ie.TOKEN_ASG_ASSIGN:e instanceof Xr?ie.TOKEN_ASG_SUBTRACT:e instanceof In?ie.TOKEN_CMP_EQUAL:e instanceof Fr?ie.TOKEN_CMP_SEQUAL:e instanceof rr?ie.TOKEN_CMP_GT:e instanceof gi?ie.TOKEN_CMP_GTE:e instanceof Er?ie.TOKEN_CMP_LT:e instanceof xr?ie.TOKEN_CMP_LTE:e instanceof Rr?ie.TOKEN_CMP_NEQ:e instanceof wr?ie.TOKEN_CMP_SNEQ:e instanceof Or?ie.TOKEN_CMP_SPACESHIP:e instanceof _i?ie.TOKEN_OP_VARIABLE_FALLBACK:e instanceof Vu?ie.TOKEN_COND_FALLBACK_GROUP:e instanceof vt?ie.TOKEN_BRANCH_SEPARATOR:e instanceof Wn?ie.TOKEN_TERNARY_SEPARATOR:e instanceof Bt?ie.TOKEN_GROUP_BEGIN:e instanceof Mt?ie.TOKEN_GROUP_END:e instanceof fn?ie.TOKEN_MODIFIER_SEPARATOR:e instanceof Xt?ie.TOKEN_MODIFIER_NAME:e instanceof Vt?ie.TOKEN_MODIFIER_VALUE:e instanceof _n?ie.TOKEN_MODIFIER_VALUE_SEPARATOR:e instanceof Ya?ie.TOKEN_NULL_COALESCE_GROUP:e instanceof Et?ie.TOKEN_SEMANTIC_GROUP:e instanceof en?ie.TOKEN_STATEMENT_SEPARATOR:e instanceof $a?ie.TOKEN_TERNARY_CONDITION:e instanceof ir?ie.TOKEN_OP_AND:e instanceof tn?ie.TOKEN_OP_LOGIC_NEGATION:e instanceof sr?ie.TOKEN_OP_OR:e instanceof Qr?ie.TOKEN_OP_XOR:e instanceof ar?ie.TOKEN_OP_NULL_COALESCE:e instanceof Wa?ie.TOKEN_PARAM:e instanceof hn?ie.TOKEN_PATH_ACCESSOR:e instanceof Mi?ie.TOKEN_OP_A_FACTORIAL:e instanceof er?ie.TOKEN_RECURSIVE:e instanceof zs?ie.TOKEN_ARG_GROUP:e instanceof Pt?ie.TOKEN_ARG_SEPARATOR:e instanceof Jr?ie.TOKEN_OP_STRING_CONCAT:e instanceof pn?ie.TOKEN_OP_SCOPE_REASSIGNMENT:e instanceof Ks?ie.TOKEN_STRUCT_SWITCH_CASE:e instanceof os?ie.TOKEN_STRUCT_SWITCH_GROUP:e instanceof as?ie.TOKEN_STRUCT_DIRECTION_GROUP:e instanceof or?ie.TOKEN_STRUCT_SCOPED_LOGIC_GROUP:e instanceof Be?ie.TOKEN_STRUCT_LOGIC_GROUP:e instanceof Ha?ie.TOKEN_STRUCT_VALUE_DIRECTION:e instanceof yi?ie.TOKEN_STRUCT_ARRAY:e instanceof lr?ie.TOKEN_STRUCT_T_LIST_START:e instanceof qu?ie.TOKEN_STRUCT_TUPLE_LIST:e instanceof xt?ie.TOKEN_STRUCT_METHOD_CALL:typeof e}},X=ie;X.TOKEN_LANG_OPERATOR="T_LANG_OPERATOR",X.TOKEN_VARIABLE="T_VAR",X.TOKEN_NUMBER="T_NUMERIC",X.TOKEN_STRING="T_STRING",X.TOKEN_RECURSIVE="T_RECURSIVE",X.TOKEN_CONSTANT_FALSE="T_FALSE",X.TOKEN_CONSTANT_NULL="T_NULL",X.TOKEN_CONSTANT_TRUE="T_TRUE",X.TOKEN_MODIFIER_NODE="T_MODIFIER",X.TOKEN_MODIFIER_CHAIN="T_MODIFIER_CHAIN",X.TOKEN_MODIFIER_PARAMETER="T_MODIFIER_PARAM",X.TOKEN_OP_A_ADD="T_AOP_ADD",X.TOKEN_OP_A_DIVIDE="T_AOP_DIVIDE",X.TOKEN_OP_A_EXPONENTIATION="T_AOP_EXP",X.TOKEN_OP_A_MODULUS="T_AOP_MOD",X.TOKEN_OP_A_MULTIPLY="T_AOP_MULTIPLY",X.TOKEN_OP_A_SUBTRACT="T_AOP_SUBTRACT",X.TOKEN_OP_A_FACTORIAL="T_AOP_FACTORIAL",X.TOKEN_ASG_ADD="T_ASG_ADD",X.TOKEN_ASG_DIVIDE="T_ASG_DIVIDE",X.TOKEN_ASG_ASSIGN="T_ASG",X.TOKEN_ASG_MODULUS="T_ASG_MODULUS",X.TOKEN_ASG_MULTIPLY="T_ASG_MULTIPLY",X.TOKEN_ASG_SUBTRACT="T_ASG_SUBTRACT",X.TOKEN_CMP_EQUAL="T_CMP_EQ",X.TOKEN_CMP_SEQUAL="T_CMP_SEQ",X.TOKEN_CMP_GT="T_CMP_GT",X.TOKEN_CMP_GTE="T_CMP_GTE",X.TOKEN_CMP_LT="T_CMP_LT",X.TOKEN_CMP_LTE="T_CMP_LTE",X.TOKEN_CMP_NEQ="T_CMP_NEQ",X.TOKEN_CMP_SNEQ="T_CMP_SNEQ",X.TOKEN_CMP_SPACESHIP="T_CMP_SPSHP",X.TOKEN_OP_VARIABLE_FALLBACK="T_VFBK",X.TOKEN_COND_FALLBACK_GROUP="T_VFBK_GROUP",X.TOKEN_BRANCH_SEPARATOR="T_BRANCH_SEPARATOR",X.TOKEN_TERNARY_SEPARATOR="T_TERNARY_SEPARATOR",X.TOKEN_GROUP_BEGIN="T_LOGIC_BEGIN",X.TOKEN_GROUP_END="T_LOGIC_END",X.TOKEN_MODIFIER_SEPARATOR="T_MODIFIER_SEPARATOR",X.TOKEN_MODIFIER_NAME="T_MODIFIER_NAME",X.TOKEN_MODIFIER_VALUE="T_MODIFIER_VALUE",X.TOKEN_MODIFIER_VALUE_SEPARATOR="T_MODIFIER_VALUE_SEPARATOR",X.TOKEN_NULL_COALESCE_GROUP="T_NULL_COALESCE_GROUP",X.TOKEN_SEMANTIC_GROUP="T_SEMANTIC_GROUP",X.TOKEN_STATEMENT_SEPARATOR="T_STATEMENT_SEPARATOR",X.TOKEN_TERNARY_CONDITION="T_TERNARY_CONDITION",X.TOKEN_OP_AND="T_AND",X.TOKEN_OP_LOGIC_NEGATION="T_LOGIC_INVERSE",X.TOKEN_OP_OR="T_OR",X.TOKEN_OP_XOR="T_XOR",X.TOKEN_OP_NULL_COALESCE="T_NULL_COALESCE",X.TOKEN_PARAM="T_PARAM",X.TOKEN_PATH_ACCESSOR="T_VAR_SEPARATOR",X.TOKEN_ARG_GROUP="T_ARG_GROUP",X.TOKEN_ARG_SEPARATOR="T_ARG_SEPARATOR",X.TOKEN_OP_STRING_CONCAT="T_STR_CONCAT",X.TOKEN_OP_SCOPE_REASSIGNMENT="T_SCOPE_ASSIGNMENT",X.TOKEN_STRUCT_SWITCH_CASE="T_SWITCH_CASE",X.TOKEN_STRUCT_SWITCH_GROUP="T_SWITCH_GROUP",X.TOKEN_STRUCT_DIRECTION_GROUP="T_DIRECTION_GROUP",X.TOKEN_STRUCT_VALUE_DIRECTION="T_ORDER_DIRECTION",X.TOKEN_STRUCT_SCOPED_LOGIC_GROUP="T_SCOPED_LOGIC_GROUP",X.TOKEN_STRUCT_LOGIC_GROUP="T_LOGIC_GROUP",X.TOKEN_STRUCT_ARRAY="T_ARRAY",X.TOKEN_STRUCT_T_LIST_START="T_LIST_START",X.TOKEN_STRUCT_TUPLE_LIST="T_LIST",X.TOKEN_STRUCT_METHOD_CALL="T_METHOD_CALL";var ze=class{static isLanguageLogicalKeyword(e){return e==this.LogicalAnd||e==this.LogicalNot||e==this.LogicalOr||e==this.LogicalXor}};ze.LogicalAnd="and",ze.LogicalNot="not",ze.LogicalOr="or",ze.LogicalXor="xor",ze.ConstTrue="true",ze.ConstFalse="false",ze.ConstNull="null",ze.ArrList="list",ze.ScopeAs="as";var If=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.currentContent=[];this.rawContent=[];this.startIndex=0;this.cur=null;this.next=null;this.prev=null;this.isParsingString=!1;this.isParsingModifierName=!1;this.isInModifierParameterValue=!1;this.runtimeNodes=[];this.ignorePrevious=!1;this.lastNode=null;this.referenceParser=null;this.activeNode=null}reset(){this.ignorePrevious=!1,this.runtimeNodes=[],this.chars=[],this.inputLen=0,this.currentIndex=0,this.currentContent=[],this.rawContent=[],this.startIndex=0,this.cur=null,this.next=null,this.prev=null,this.isParsingString=!1,this.isParsingModifierName=!1,this.isInModifierParameterValue=!1,this.referenceParser=null,this.activeNode=null}checkCurrentOffsets(){this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.ignorePrevious?(this.prev="",this.ignorePrevious=!1):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen&&(this.next=this.chars[this.currentIndex+1])}isValidChar(e){return e==null||e==E.Punctuation_Semicolon?!1:this.isParsingString==!1&&e=="]"?!0:this.isParsingString==!1&&e==")"?!1:(e=="["||e=="]")&&e==this.cur||(e=="_"||e=="."||e=="["||e=="]")&&(!(this.currentContent.length>0)||G.ctypeAlpha(this.cur)||G.ctypeDigit(this.cur))?!0:G.ctypeSpace(e)?!1:this.isParsingModifierName&&(e==E.Punctuation_Minus||e==E.Punctuation_Underscore)?!0:!G.ctypePunct(e)}isRightOfInterpolationRegion(){if(this.activeNode==null||this.referenceParser==null)return!1;let e=this.activeNode._lexerRelativeOffset(this.currentIndex);return this.referenceParser.bordersInterpolationRegion(e)}scanForwardTo(e,n=0){let r=[];for(let i=this.currentIndex+1+n;i<this.inputLen;i++){let s=this.chars[i];if(s==e){r.push(s);break}else r.push(s)}return r}nextNonWhitespace(){for(let e=this.currentIndex+1;e<this.inputLen;e++){let n=this.chars[e];if(!G.ctypeSpace(n))return n}return null}pushError(e){this.referenceParser!=null&&this.referenceParser.addAntlersError(e)}guardAgainstNeighboringTypesInModifier(e){return this.lastNode instanceof Vt&&this.pushError(U.makeSyntaxError(N.TYPE_MODIFIER_INCORRECT_VALUE_POSITION,this.lastNode,"Incorrect type ["+X.getPrettyTypeName(e)+"] near ["+X.getPrettyTypeName(this.lastNode)+"]")),!1}appendContent(e){e!=null&&this.currentContent.push(e)}tokenize(e,n){this.reset(),this.referenceParser=e.getParser(),this.activeNode=e,this.chars=n.split(""),this.inputLen=this.chars.length,this.runtimeNodes=[],this.lastNode=null;let r=null;this.isParsingString=!1,this.isParsingModifierName=!1;let i=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){this.checkCurrentOffsets();let a=!0;if(this.cur!=null&&this.rawContent.push(this.cur),this.isParsingString==!1&&(this.cur==E.String_Terminator_DoubleQuote||this.cur==E.String_Terminator_SingleQuote)){if(this.prev==E.String_EscapeCharacter){this.pushError(U.makeSyntaxError(N.TYPE_ILLEGAL_STRING_ESCAPE_SEQUENCE,e,"Illegal string escape sequence outside string parsing."));continue}this.rawContent=[],this.rawContent.push(this.cur),i=this.cur,this.isParsingString=!0,r=this.currentIndex;continue}if(this.isInModifierParameterValue&&!this.isParsingString){let o=!1;if(!this.isParsingString&&G.ctypeSpace(this.next)){let l=this.scanForwardTo(" ",1).join("").trim().toLowerCase();l.length>0&&ze.isLanguageLogicalKeyword(l)&&(o=!0)}if(this.next==E.String_Terminator_SingleQuote||this.next==E.String_Terminator_DoubleQuote||this.next==null||o){this.appendContent(this.cur);let l=this.currentContent.join("");if(l.length>0){let u=l;if(this.currentContent=[],this.rawContent=[],u.trimRight().length==0){let f=this.nextNonWhitespace();if(f==E.String_Terminator_SingleQuote||f==E.String_Terminator_DoubleQuote){this.currentContent=[],this.rawContent=[];continue}}let c=new Vt;c.isVirtual=!1,c.name=u,c.value=u.trimRight(),c.startPosition=e._lexerRelativeOffset(this.currentIndex-u.length),c.endPosition=e._lexerRelativeOffset(this.currentIndex),c.parent=this.activeNode,this.guardAgainstNeighboringTypesInModifier(c),this.runtimeNodes.push(c),this.lastNode=c}if(l.length==0)continue;this.currentContent=[],this.rawContent=[],this.isInModifierParameterValue=!1;continue}if(this.next==E.Punctuation_Pipe||this.next==E.Punctuation_Colon||this.next==E.RightParent){this.isInModifierParameterValue=!1,this.appendContent(this.cur);let l=0,u=!1;if(this.currentContent[0]==E.String_Terminator_SingleQuote||this.currentContent[0]==E.String_Terminator_DoubleQuote){let d=this.scanForwardTo(this.currentContent[0]);d.length>0&&(this.currentContent=this.currentContent.concat(d),l=d.length,u=!0)}let c=this.currentContent.join("");u&&(c=c.substr(1),c=c.slice(0,-1)),this.currentContent=[],this.rawContent=[];let f=new Vt;f.isVirtual=!1,f.name=c,f.value=c,f.startPosition=e._lexerRelativeOffset(this.currentIndex-c.length),f.endPosition=e._lexerRelativeOffset(this.currentIndex),f.parent=this.activeNode,this.runtimeNodes.push(f),this.guardAgainstNeighboringTypesInModifier(f),this.lastNode=f,this.currentIndex+=l}else this.appendContent(this.cur);continue}if(this.isParsingString&&this.cur==i){if(this.prev==E.String_EscapeCharacter)this.appendContent(i);else{if(this.isInModifierParameterValue){let l=this.currentContent.join(""),u=new Vt;u.isVirtual=!1,u.name=l,u.value=l,u.startPosition=e._lexerRelativeOffset(r??0),u.endPosition=e._lexerRelativeOffset(this.currentIndex),u.parent=this.activeNode,this.runtimeNodes.push(u),this.guardAgainstNeighboringTypesInModifier(u),this.lastNode=u,this.currentContent=[],this.rawContent=[],this.isParsingString=!1,this.isInModifierParameterValue=!1;continue}let o=new Nt;o.isVirtual=!1,o.startPosition=e._lexerRelativeOffset(r??0),o.endPosition=e._lexerRelativeOffset(this.currentIndex),this.referenceParser!=null&&(o.sourceContent=this.referenceParser.getText(o.startPosition.index,o.endPosition.index+1)),o.parent=this.activeNode,i!=null&&(o.sourceTerminator=i),i=null,this.isParsingString=!1,o.value=this.currentContent.join(""),o.rawLexContent=this.rawContent.join("").trim(),this.currentContent=[],this.rawContent=[],this.guardAgainstNeighboringTypesInModifier(o),this.runtimeNodes.push(o),this.lastNode=o}continue}if(this.isParsingString&&this.cur==E.String_EscapeCharacter){if(this.next==E.String_EscapeCharacter){this.appendContent(E.String_EscapeCharacter),this.ignorePrevious=!0,this.currentIndex+=1;continue}else if(this.next==E.String_Terminator_SingleQuote){this.appendContent(E.String_Terminator_SingleQuote),this.rawContent.push(E.String_EscapeCharacter),this.rawContent.push(E.String_Terminator_SingleQuote),this.currentIndex+=1;continue}else if(this.next==E.String_Terminator_DoubleQuote){this.appendContent(E.String_Terminator_DoubleQuote),this.rawContent.push(E.String_EscapeCharacter),this.rawContent.push(E.String_Terminator_DoubleQuote),this.currentIndex+=1;continue}else if(this.next=="n"){this.appendContent(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){this.appendContent("	"),this.currentIndex+=1;continue}else if(this.next=="r"){this.appendContent("\r"),this.currentIndex+=1;continue}}if(this.isParsingString==!1){if(this.isValidChar(this.cur)&&this.isValidChar(this.next)==!1&&this.currentContent.length==0&&(this.appendContent(this.cur),a=!1),(this.next==null||this.isValidChar(this.next)==!1)&&this.currentContent.length>0){a&&this.appendContent(this.cur);let o=this.currentContent.join("").trim(),l=o.length,u=this.currentIndex-l,c=e._lexerRelativeOffset(u),f=e._lexerRelativeOffset(this.currentIndex);if(this.currentContent=[],this.rawContent=[],o==ze.LogicalAnd){let h=new ir;h.isVirtual=!1,h.content=ze.LogicalAnd,h.startPosition=c,h.endPosition=f,h.parent=this.activeNode,this.runtimeNodes.push(h),this.lastNode=h;continue}else if(o==ze.LogicalOr){let h=new sr;h.isVirtual=!1,h.content=ze.LogicalOr,h.startPosition=c,h.endPosition=f,h.parent=this.activeNode,this.runtimeNodes.push(h),this.lastNode=h;continue}else if(o==ze.LogicalXor){let h=new Qr;h.isVirtual=!1,h.content=ze.LogicalXor,h.startPosition=c,h.endPosition=f,h.parent=this.activeNode,this.runtimeNodes.push(h),this.lastNode=h;continue}else if(o==ze.ConstNull){let h=new tr;h.isVirtual=!1,h.content=ze.ConstNull,h.startPosition=c,h.endPosition=f,h.parent=this.activeNode,this.runtimeNodes.push(h),this.lastNode=h;continue}else if(o==ze.ConstTrue){let h=new Pr;h.isVirtual=!1,h.content=ze.ConstTrue,h.startPosition=c,h.endPosition=f,h.parent=this.activeNode,this.runtimeNodes.push(h),this.lastNode=h;continue}else if(o==ze.ConstFalse){let h=new Cr;h.isVirtual=!1,h.content=ze.ConstFalse,h.startPosition=c,h.endPosition=f,h.parent=this.activeNode,this.runtimeNodes.push(h),this.lastNode=h;continue}else if(o==ze.LogicalNot){let h=new tn;h.isVirtual=!1,h.content=ze.LogicalNot,h.startPosition=c,h.endPosition=f,h.parent=this.activeNode,this.runtimeNodes.push(h),this.lastNode=h;continue}else if(o==ze.ArrList&&this.next==E.LeftParen){let h=new lr;h.isVirtual=!1,h.content=ze.ArrList,h.startPosition=c,h.endPosition=f,h.parent=this.activeNode,this.runtimeNodes.push(h),this.lastNode=h;continue}if(G.isNumeric(o)){let h=new Rt;h.isVirtual=!1,h.startPosition=c,h.endPosition=f,h.parent=this.activeNode,o.includes(".")?h.value=parseFloat(o):h.value=parseInt(o),h.rawLexContent=o,this.guardAgainstNeighboringTypesInModifier(h),this.runtimeNodes.push(h),this.lastNode=h;continue}if(this.runtimeNodes.length>0){let h=this.runtimeNodes[this.runtimeNodes.length-1];if(h instanceof fn){let p=new Xt;p.isVirtual=!1,p.name=o,p.content=o,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p;continue}else if(h instanceof _n){let p=new Vt;p.isVirtual=!1,p.name=o,p.value=o,p.startPosition=c,p.endPosition=f,p.parent=this.activeNode,this.runtimeNodes.push(p),this.lastNode=p,this.isParsingModifierName=!1;continue}}let d=new ge;d.isVirtual=!1,d.name=o,d.startPosition=c,d.endPosition=f,d.parent=this.activeNode,this.runtimeNodes.push(d),this.lastNode=d;continue}}else{this.appendContent(this.cur);continue}if(!G.ctypeSpace(this.cur)){if(this.isParsingString==!1){if(this.cur==E.Punctuation_Equals&&this.next==E.Punctuation_GreaterThan){let o=new pn;o.isVirtual=!1,o.content="=>",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentContent=[],this.rawContent=[],this.currentIndex+=1;continue}if(this.cur==E.Punctuation_Comma){let o=new Pt;o.isVirtual=!1,o.content=E.Punctuation_Comma,o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==E.Punctuation_Semicolon){let o=new en;o.isVirtual=!1,o.content=E.Punctuation_Semicolon,o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==E.Punctuation_Plus){if(this.next==E.Punctuation_Equals){let l=new Dr;l.isVirtual=!1,l.content="+=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new Vn;o.isVirtual=!1,o.content="+",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.isParsingModifierName==!1&&this.cur==E.Punctuation_Minus){if(G.ctypeDigit(this.next)&&G.ctypeDigit(this.prev)==!1&&this.prev!=E.RightParent&&this.isRightOfInterpolationRegion()==!1){this.appendContent(this.cur);continue}if(this.next==E.Punctuation_Equals){let l=new Xr;l.isVirtual=!1,l.content="-=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}else if(this.next==E.Punctuation_GreaterThan){let l=new xt;l.isVirtual=!1,l.content="->",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new gn;o.isVirtual=!1,o.content="-",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==E.Punctuation_Asterisk){if(this.next==E.Punctuation_Asterisk){let l=new zr;l.isVirtual=!1,l.content="**",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}else if(this.next==E.Punctuation_Equals){let l=new Ir;l.isVirtual=!1,l.content="*=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new jn;o.isVirtual=!1,o.content="*",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==E.Punctuation_ForwardSlash){if(this.next==E.Punctuation_Equals){let l=new Sr;l.isVirtual=!1,l.content="/=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new qn;o.isVirtual=!1,o.content="/",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==E.Punctuation_Percent){if(this.next==E.Punctuation_Equals){let l=new Ar;l.isVirtual=!1,l.content="%=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new nr;o.isVirtual=!1,o.content="%",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==E.Punctuation_LessThan){if(this.next==E.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==E.Punctuation_GreaterThan){let c=new Or;c.isVirtual=!1,c.content="<=>",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+3),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=2;continue}let u=new xr;u.isVirtual=!1,u.content="<=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let o=new Er;o.isVirtual=!1,o.content="<",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==E.Punctuation_GreaterThan){if(this.next==E.Punctuation_Equals){let l=new rr;l.isVirtual=!1,l.content=">=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}let o=new rr;o.isVirtual=!1,o.content=">",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==E.Punctuation_Equals&&this.next!=E.Punctuation_Equals){let o=new Un;o.isVirtual=!1,o.content="=",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==E.Punctuation_Equals&&this.next==E.Punctuation_Equals){let o=null;if(this.currentIndex+2<this.inputLen&&(o=this.chars[this.currentIndex+2]),o==E.Punctuation_Equals){let l=new Fr;l.isVirtual=!1,l.content="===",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+3),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=2}else{let l=new In;l.isVirtual=!1,l.content="==",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1}continue}if(this.cur==E.Punctuation_Ampersand){if(this.next==E.Punctuation_Ampersand){let l=new ir;l.isVirtual=!1,l.content="&&",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+2),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l,this.currentIndex+=1;continue}if(this.next==E.Punctuation_Equals){let l=new Jr;l.isVirtual=!1,l.content="&=",l.startPosition=e._lexerRelativeOffset(this.currentIndex),l.endPosition=e._lexerRelativeOffset(this.currentIndex+1),l.parent=this.activeNode,this.runtimeNodes.push(l),this.lastNode=l;continue}let o=new ir;o.isVirtual=!1,o.content="&",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==E.Punctuation_Pipe&&this.next!=E.Punctuation_Pipe){let o=new fn;o.isVirtual=!1,o.content="|",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.isParsingModifierName=!0;continue}if(this.cur==E.Punctuation_Pipe&&this.next==E.Punctuation_Pipe){let o=new sr;o.isVirtual=!1,o.content="||",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==E.Punctuation_Exclamation){if(this.next==E.Punctuation_Equals){let l=null;if(this.currentIndex+2<this.inputLen&&(l=this.chars[this.currentIndex+2]),l==E.Punctuation_Equals){let c=new wr;c.isVirtual=!1,c.content="!==",c.startPosition=e._lexerRelativeOffset(this.currentIndex),c.endPosition=e._lexerRelativeOffset(this.currentIndex+3),c.parent=this.activeNode,this.runtimeNodes.push(c),this.lastNode=c,this.currentIndex+=2;continue}let u=new Rr;u.isVirtual=!1,u.content="!=",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+2),u.parent=this.activeNode,this.runtimeNodes.push(u),this.lastNode=u,this.currentIndex+=1;continue}let o=new tn;o.isVirtual=!1,o.content="!",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==E.Punctuation_Question&&this.next==E.Punctuation_Equals){let o=new _i;o.isVirtual=!1,o.content="?=",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==E.Punctuation_Question&&this.next==E.Punctuation_Question){let o=new ar;o.isVirtual=!1,o.content="??",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==E.Punctuation_Question&&this.next==E.Punctuation_Colon){let o=new ar;o.isVirtual=!1,o.content="?:",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+2),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.currentIndex+=1;continue}if(this.cur==E.Punctuation_Question){let o=new Wn;o.isVirtual=!1,o.content="?",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==E.LeftParen){let o=new Bt;o.isVirtual=!1,o.content="(",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==E.RightParent){let o=new Mt;o.isVirtual=!1,o.content=")",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o;continue}if(this.cur==E.Punctuation_Colon){if(this.runtimeNodes.length>0&&this.runtimeNodes[this.runtimeNodes.length-1]instanceof Xt){let u=new _n;u.isVirtual=!1,u.content=":",u.startPosition=e._lexerRelativeOffset(this.currentIndex),u.endPosition=e._lexerRelativeOffset(this.currentIndex+1),u.parent=this.activeNode,this.runtimeNodes.push(u),this.isInModifierParameterValue==!1?this.isInModifierParameterValue=!0:this.isInModifierParameterValue=!1;continue}let o=new vt;o.isVirtual=!1,o.content=":",o.startPosition=e._lexerRelativeOffset(this.currentIndex),o.endPosition=e._lexerRelativeOffset(this.currentIndex+1),o.parent=this.activeNode,this.runtimeNodes.push(o),this.lastNode=o,this.isParsingModifierName=!1;continue}}a&&this.appendContent(this.cur)}}let s=this.runtimeNodes.length-1;for(let a=0;a<this.runtimeNodes.length;a++){let o=null,l=null;a>0&&(o=this.runtimeNodes[a-1]),a!=s&&(l=this.runtimeNodes[a+1]);let u=this.runtimeNodes[a];u.prev=o,u.next=l}return this.runtimeNodes}};var Wt=class{constructor(){this.chars=[];this.currentIndex=0;this.lastIndex=0;this.inputLength=0;this.prev=null;this.cur=null;this.next=null;this.isParsingString=!1;this.isStringKeyPath=!1;this.antlersErrors=[];this._recusriveEntryCheck=new Map}isValidChar(e){return!(this.isParsingString==!1&&G.ctypeSpace(e)||this.isParsingString==!1&&e==Wt.LeftBracket||this.isParsingString==!1&&e==Wt.RightBracket)}normalizePath(e){return e=e.replace(":","_"),e=e.replace(".","_"),e=e.replace("[","_"),e=e.replace("]","_"),e.replace("]","_")}getAntlersErrors(){return this.antlersErrors}mergeErrors(e){e.forEach(n=>{this.antlersErrors.push(n)})}parse(e){this.antlersErrors=[],this._recusriveEntryCheck.clear();let n=e,r=!1,i=!1,s=!1,a=!1;e.startsWith(E.AtChar)&&(s=!0,e=e.substr(1)),e.startsWith(E.Punctuation_Percent)?(a=!0,e=e.substr(1)):(e.startsWith(E.Punctuation_Dollar)&&(r=!0,e=e.substr(1)),e.startsWith(E.Punctuation_Dollar)&&(i=!0,e=e.substr(1))),this.chars=[],this.currentIndex=0,this.lastIndex=0,this.inputLength=0,this.cur=null,this.prev=null,this.next=null,this.chars=e.split(""),this.inputLength=this.chars.length,this.lastIndex=this.inputLength-1;let o=[],l=!1,u=[],c=Wt.ColonSeparator,f=!1,d=null,h=!1,p=!0;if(this.isParsingString=!1,this.inputLength==0){let T=new Vi;return T._isFromEmptyFailState=!0,T}for(this.currentIndex;this.currentIndex<this.inputLength;this.currentIndex+=1){if(this.cur=this.chars[this.currentIndex],this.next=null,f?(f=!1,this.prev=""):this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLength&&(this.next=this.chars[this.currentIndex+1]),this.isParsingString==!1&&this.cur==Wt.ColonSeparator&&(c=Wt.ColonSeparator),this.isParsingString==!1&&this.cur==Wt.DotPathSeparator&&(c=Wt.DotPathSeparator),this.isParsingString&&this.cur==E.String_EscapeCharacter&&this.next==d){d!=null&&o.push(d),this.currentIndex+=1;continue}if(this.cur==E.String_Terminator_SingleQuote||this.cur==E.String_Terminator_DoubleQuote)if(this.isParsingString)if(this.cur==d)if(this.prev==E.String_EscapeCharacter){o.push(this.cur);continue}else this.isParsingString=!1,p=!1;else{o.push(this.cur);continue}else{this.prev!=null&&this.prev!=E.LeftBracket&&(G.ctypeAlpha(this.prev)||G.ctypeDigit(this.prev))&&this.antlersErrors.push(U.makeSyntaxError(N.PATH_STRING_NOT_INSIDE_ARRAY_ACCESSOR,null,"Unexpected string start while parsing variable path. String literals must be within array accessors.")),this.isParsingString=!0,h=!0,d=this.cur,this.isStringKeyPath=!0;continue}if(this.isParsingString){if(G.ctypeSpace(this.cur)){o.push(this.cur);continue}else if(this.cur==E.String_EscapeCharacter){if(this.next==E.String_EscapeCharacter){o.push(E.String_EscapeCharacter),this.currentIndex+=1,f=!0;continue}else if(this.next=="n"){o.push(`
`),this.currentIndex+=1;continue}else if(this.next=="t"){o.push("	"),this.currentIndex+=1;continue}else if(this.next=="r"){o.push("\r"),this.currentIndex+=1;continue}}}if(this.isParsingString==!1&&this.cur==Wt.LeftBracket){if(o.length>0){let S=new hn;S.name=o.join(""),S.delimiter=c,u.push(S),o=[]}if(this.next==null||G.ctypeSpace(this.next)){this.antlersErrors.push(U.makeSyntaxError(N.TYPE_ILLEGAL_VARPATH_SPACE_RIGHT,null,"Unexpected end of input or whitespace while parsing variable accessor path."));continue}let T=this.locateEndOfAccessor();this.currentIndex=T.foundOn;let b=new Wt;if(u.push(b.parse(T.nestedContent)),this.mergeErrors(b.getAntlersErrors()),l=!0,this.currentIndex==-1){this.antlersErrors.push(U.makeSyntaxError(N.PARSER_CANNOT_PARSE_PATH_RECURSIVE,null,"Cannot parse variable path.")),l=!1;break}continue}if(this.isParsingString==!1&&this.next==Wt.RightBracket&&l){p?o.push(this.cur):p=!0;let T=new ju;T.name=o.join(""),u.push(T),o=[],c=Wt.ColonSeparator,this.currentIndex+=1,l=!1;continue}if(this.isParsingString==!1&&(this.cur==Wt.LeftBracket||this.cur==Wt.ColonSeparator||this.cur==Wt.DotPathSeparator||this.currentIndex==this.lastIndex)){if(this.next==null||G.ctypeSpace(this.next)){if(this.cur==Wt.ColonSeparator){if(o.length==0){this.antlersErrors.push(U.makeSyntaxError(N.TYPE_UNEXPECTED_BRANCH_SEPARATOR,null,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}this.antlersErrors.push(U.makeSyntaxError(N.TYPE_ILLEGAL_VARPATH_RIGHT,null,'Variable paths cannot end with the ":" character.'));continue}if(this.cur==Wt.LeftBracket){this.antlersErrors.push(U.makeSyntaxError(N.TYPE_ILLEGAL_VARPATH_SUBPATH_START,null,"Illegal variable sub-path start."));continue}}this.currentIndex==this.lastIndex&&this.isValidChar(this.cur)&&(p?o.push(this.cur):p=!0);let T=new hn;T.delimiter=c,T.name=o.join(""),h&&(T.isStringVar=h,T.name=n.substr(1),T.name=T.name.slice(0,-1),h=!1),u.push(T),o=[];continue}else{o.push(this.cur);continue}}let m=u.length;if(m>0){let T=u[m-1];(T instanceof hn||T instanceof Vi)&&(T.isFinal=!0)}let g=new Vi;return g.isStrictTagReference=a,g.isStrictVariableReference=r,g.isExplicitVariableReference=i,g.pathParts=u,g.originalContent=e,g.isVariableVariable=s,g.normalizedReference=e.replace(":","."),g}locateEndOfAccessor(){let e=[],n=1,r=-1,i="",s=!1,a=null;if(this._recusriveEntryCheck.has(this.currentIndex+1)==!1)this._recusriveEntryCheck.set(this.currentIndex+1,!0);else return{foundOn:r,nestedContent:""};for(let o=this.currentIndex+1;o<this.inputLength;o++){let l=this.chars[o],u=null,c=null;if(o>0&&(c=this.chars[o-1]),o+1<this.inputLength&&(u=this.chars[o+1]),s==!1&&(l==E.String_Terminator_SingleQuote||l==E.String_Terminator_DoubleQuote)){s=!0,a=l,e.push(l);continue}if(s==!1&&l==Wt.LeftBracket){n+=1,e.push(l);continue}if(s&&l==a&&c!=E.String_EscapeCharacter){e.push(l),s=!1,a=null;continue}if(s==!1&&l==Wt.RightBracket)if(n-=1,n==0){r=o,i=e.join("");break}else{e.push(l);continue}else e.push(l);s==!1&&G.ctypeSpace(u)&&this.antlersErrors.push(U.makeSyntaxError(N.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path.")),u==null&&this.antlersErrors.push(U.makeSyntaxError(N.TYPE_UNEXPECTED_EOI_VARPATH_ACCESSOR,null,"Unexpected end of input or whitespace while parsing inner variable accessor path."))}return{foundOn:r,nestedContent:i}}},Si=Wt;Si.ColonSeparator=":",Si.LeftBracket="[",Si.RightBracket="]",Si.DotPathSeparator=".";var Ef=class{constructor(){this.chars=[];this.inputLen=0;this.currentIndex=0;this.cur=null;this.prev=null;this.pathParser=new Si;this.lexer=new If;this.activeNode=null}reset(){this.chars=[],this.inputLen=0,this.currentIndex=0,this.cur=null,this.prev=null}canBeClosingTag(e){let n=e.name?.name;return n=="elseif"||n=="else"?!0:e.name==null?!1:e.name.content.startsWith("/")}parseNode(e){if(this.activeNode=e,this.reset(),e.content.startsWith("*subrecursive")){let c=e.content;c=c.trim(),c=G.trimRight(c,"*"),c=c.substr(13);let f=new er;return e.copyBasicDetailsTo(f),f.originalNode=e,f.name=new On,f.name.name=c,f.isNestedRecursive=!0,c.trim().startsWith("[")||(f.pathReference=this.pathParser.parse(c)),f.mergeErrors(this.pathParser.getAntlersErrors()),f.content=c,f.runtimeContent=c,f}if(e.content.trim().startsWith("*recursive")){let c=e.content;c=c.trim(),c=G.trimRight(c,"*"),c=c.substr(10).trim();let f=new er;return e.copyBasicDetailsTo(f),f.originalNode=e,f.name=new On,f.name.name=c,f.pathReference=this.pathParser.parse(c),f.mergeErrors(this.pathParser.getAntlersErrors()),f.content=c,f.runtimeContent=c,f}this.chars=e.content.split(""),this.inputLen=this.chars.length;let n=[],r=!1,i="",s=!1,a=null;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.cur=this.chars[this.currentIndex],this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),r==!1){if(s==!1&&(this.cur==E.String_Terminator_DoubleQuote||this.cur==E.String_Terminator_SingleQuote)){a=this.cur,s=!0,n.push(this.cur);continue}if(s&&G.ctypeSpace(this.cur)){n.push(this.cur);continue}if(s&&this.cur==a&&this.prev!=E.String_EscapeCharacter){a=null,s=!1,n.push(this.cur);continue}if(G.ctypeSpace(this.cur)||this.currentIndex==this.inputLen-1||this.cur==E.Punctuation_Pipe){if(n.length==0)continue;G.ctypeSpace(this.cur)||this.cur!=E.Punctuation_Pipe&&n.push(this.cur),i=n.join(""),r=!0;break}n.push(this.cur)}let o=e.getContentRelativeStartIndex();if(e.nameStartsOn=e.relativeOffset(o,o),e.nameStartsOn!=null&&(e.nameEndsOn=e.nameStartsOn.shiftRight(i.length-1),i.includes(E.Punctuation_Colon))){let c=i.indexOf(E.Punctuation_Colon);e.nameMethodPartStartsOn=e.nameStartsOn.shiftRight(c+1)}e.name=Af.getIdentifier(i),ph.analyzeNode(e),e.parameters=this.getParameters(e),e.hasParameters=e.parameters.length>0,e.hasParameters&&(ph.analyzeParametersForModifiers(e),e.resetContentCache()),i.startsWith("[")==!1&&(e.pathReference=this.pathParser.parse(i)),e.mergeErrors(this.pathParser.getAntlersErrors()),e.pathReference!=null&&e.pathReference.isStrictTagReference&&(e.name.name=e.name.name.substr(1),e.name.content=e.name.content.substr(1)),e.isClosingTag=this.canBeClosingTag(e);let l=[];e.isClosingTag==!1&&(l=this.lexer.tokenize(e,e.getContent())),e.runtimeNodes=l;let u=e.content.trim();if(Sn.isConditionalStructure(e)&&e.name.name!="else"&&l.length==0&&u!="/if"&&u!="/unless"&&u!="/endunless"&&u!="endif"&&u!="endunless"&&u!="/endif"&&e.getContent().trim().length==0&&this.pushConditionWithoutExpression(e),e.name.name=="endif"){let c=e.copyBasicDetails(),f=e.getParser();return f!=null&&c.withParser(f),c.name=new On,c.name.name="if",c.name.compound="if",c.isClosingTag=!0,c.content=" /if ",c.originalNode=e,c}if(e.name.name=="unless"){let c=e.copyBasicDetails(),f=e.getParser();if(f!=null&&c.withParser(f),c.name=new On,c.name.name="if",c.name.compound="if",e.isClosingTag==!1){let d=e.getContent()??"",h=" if !("+d+") ";c.content=h,c.originalNode=e,c.resetContentCache(),c.runtimeNodes=this.lexer.tokenize(c,c.getContent()??""),this.testUnlessContent(c)}else c.originalNode=e,c.content=" /if ";return c}else if(e.name.name=="elseunless"){let c=e.copyBasicDetails(),f=e.getParser();f!=null&&c.withParser(f),c.name=new On,c.name.name="elseif",c.name.compound="elseif";let d=e.getContent()??"",h=" elseif !("+d+") ";return c.content=h,c.originalNode=e,c.resetContentCache(),c.runtimeNodes=this.lexer.tokenize(c,c.getContent()??""),this.testUnlessContent(c),c}else if(e.name.name=="endunless"){let c=e.copyBasicDetails(),f=e.getParser();return f!=null&&c.withParser(f),c.name=new On,c.name.name="if",c.name.compound="if",c.isClosingTag=!0,c.content=" /if ",c.originalNode=e,c}return e}pushError(e){this.activeNode!=null&&this.activeNode.pushError(e)}testUnlessContent(e){let n=e.getContent()??"";if(n=n.replace("!",""),n=n.replace("(",""),n=n.replace(")","").trim(),n.length==0){this.pushConditionWithoutExpression(e);return}}pushConditionWithoutExpression(e){this.pushError(U.makeSyntaxError(N.TYPE_PARSE_EMPTY_CONDITIONAL,e,"Condition structure lacks comparison expression."))}getParameters(e){let n=e.getContent()??"",r=n.split(""),i=[],s=[],a=r.length,o=0;if(e.name!=null){let ne=G.trimLeft(e.content," "),Te=e.content.length-ne.length,H=e.name.content.length;Te>0?o=Te+H:o=H}let l=!1,u=[],c="",f=0,d=0,h=!1,p=null,m=-1,g=-1,T=-1,b=-1,S=-1,B=-1,z=null;for(let ne=0;ne<a;ne++){let Te=r[ne],H=null,ae=null;if(ne+1<a&&(ae=r[ne+1]),h?(H="",h=!1):ne>0&&(H=r[ne-1]),l==!1&&G.ctypeSpace(Te)){u=[],m=-1,g=-1,T=-1,b=-1,S=-1,B=-1;continue}if(l==!1&&Te==E.Punctuation_Equals){if(u.length>0&&(G.ctypeAlpha(u[0])||G.ctypeDigit(u[0])||u[0]==E.Punctuation_Colon||u[0]==E.AtChar||u[0]==E.String_EscapeCharacter)==!1){u=[];continue}if(ne+1>=a){this.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_END_OF_INPUT,e,"Unexpected end of input"));continue}let ee=null;if(ne+1<a&&(ee=r[ne+1]),H==E.Punctuation_Equals){u=[],m=-1,g=-1,T=-1,b=-1,S=-1,B=-1;continue}if(G.ctypeSpace(ee)||ee==E.Punctuation_Equals){u=[],m=-1,g=-1,T=-1,b=-1,S=-1,B=-1;continue}u.length>0&&(b=ne,S=ne,c=u.join(""),f=d,l=!0,u=[]),ae==E.String_Terminator_DoubleQuote&&(p=E.String_Terminator_DoubleQuote,z=E.String_Terminator_DoubleQuote,ne+=1),ae==E.String_Terminator_SingleQuote&&(p=E.String_Terminator_SingleQuote,z=E.String_Terminator_SingleQuote,ne+=1);continue}if(l&&Te==E.String_EscapeCharacter){let ee=null;if(ne+1<a&&(ee=r[ne+1]),ee==E.String_EscapeCharacter){u.push(E.String_EscapeCharacter),ne+=1,h=!0;continue}if(ee==E.String_Terminator_DoubleQuote){u.push(E.String_Terminator_DoubleQuote),ne+=1;continue}if(ee==E.String_Terminator_SingleQuote){u.push(E.String_Terminator_SingleQuote),ne+=1;continue}if(ee=="n"){u.push(`
`),ne+=1;continue}if(ee=="r"){u.push("\r"),ne+=1;continue}}if(l==!1&&(p!=null&&Te==p||p==null&&G.ctypeSpace(Te))&&i.push(u.join("")),l&&(p!=null&&Te==p||p==null&&G.ctypeSpace(Te))){let ee=u.join("");B=ne,g=ne,l=!1,p=null,u=[];let De=new Wa;if(c.startsWith(E.Punctuation_Colon)&&(De.isVariableReference=!0,c=c.substr(1)),De.nameDelimiter=z,De.name=c,De.value=ee,c.startsWith(E.String_EscapeCharacter)&&(De.containsEscapedContent=!0),De.nameDelimiter==null&&(De.hasValidValueDelimiter=!1,De.nameDelimiter='"'),De.startPosition=e.relativePositionFromOffset(d,f)??null,ne+1>a){this.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NODE_PARAMETER,e,"Unexpected end of input while parsing parameter content.")),De.parent=e,s.push(De),c="";continue}De.endPosition=e.relativePositionFromOffset(ne+1,ne+1)??null,De.parent=e,De.blockPosition={start:e.relativeOffset(m,m)??null,end:e.relativeOffset(g,g)??null},De.namePosition={start:e.relativeOffset(T,T)??null,end:e.relativeOffset(b,b)??null},De.valuePosition={start:e.relativeOffset(S+2,S+2)??null,end:e.relativeOffset(B,B)??null},s.push(De),c="",m=-1,g=-1,T=-1,b=-1,S=-1,B=-1;continue}if(l==!1&&(Te==E.String_Terminator_DoubleQuote||Te==E.String_Terminator_SingleQuote)&&ne>o)break;u.push(Te),m==-1&&(m=ne),T==-1&&(T=ne),u.length==1&&(d=ne+1)}if(p!=null){let ne=e;if(i.length>0){let Te=i[i.length-1],H=e.content.indexOf(Te);if(H>=0){let ae=new te;ae.startPosition=e.relativeOffset(H-2,H-2),ae.endPosition=e.relativeOffset(H+Te.length,H+Te.length),ne=ae}}this.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_END_OF_INPUT,ne,"Unexpected string literal while parsing parameters."))}return s}};function ql(t){return t.length==0?null:t[0].startPosition}var z0=Le(Fu(),1),jl=class{static regions(){return this.noParseRegions}static clear(){this.noParseRegions.clear()}static registerNoParseContent(e){let n=z0.Md5.hashStr(e);return this.noParseRegions.set(n,e),n}};jl.noParseRegions=new Map;function dh(t,e){let n=new Set(t),r=new Set(e),i=new Set([...n].filter(s=>r.has(s)));return Array.from(i)}var mh=class{constructor(){this.closingTagIndex=new Map;this.closingTagIndexCount=new Map;this.openTagIndexCount=new Map;this.closingTagNames=new Map;this.parentNode=null;this.stackCount=0;this.createdExecutionBranches=[];this.document=null}getClosingCandidates(e){if((e instanceof W||e instanceof ct)&&e.isClosingTag==!1){let n=e.name?.compound??"";return n=="if"?["if","elseif","else"]:n=="elseif"?["elseif","else","if"]:n=="else"?["if"]:[n]}return[]}buildCloseIndex(e){e.forEach(n=>{if(!(n instanceof er)&&!((n instanceof W||n instanceof ct)&&n.isSelfClosing)&&(n instanceof W||n instanceof ct)&&n.isClosingTag){this.closingTagIndex.has(this.stackCount)==!1&&this.closingTagIndex.set(this.stackCount,new Map),this.closingTagIndexCount.has(this.stackCount)==!1&&this.closingTagIndexCount.set(this.stackCount,new Map);let r=n.name?.compound??"";this.closingTagIndex.get(this.stackCount)?.has(r)==!1&&(this.closingTagIndex.get(this.stackCount)?.set(r,[]),this.closingTagIndexCount.get(this.stackCount)?.set(r,0)),this.closingTagIndex.get(this.stackCount)?.get(r)?.push(n);let i=this.closingTagIndexCount.get(this.stackCount)?.get(r)??0;this.closingTagIndexCount.get(this.stackCount)?.set(r,i+1)}}),this.closingTagNames.has(this.stackCount)==!1&&this.closingTagNames.set(this.stackCount,[]),this.closingTagIndex.has(this.stackCount)&&(this.closingTagNames.set(this.stackCount,Array.from(this.closingTagIndex.get(this.stackCount)?.keys()??[])),this.closingTagIndex.get(this.stackCount)?.forEach((n,r)=>{let i=n.length;if(i==0)return;let s=n[i-1];for(let a=0;a<i;a++){let o=e[a];if(o instanceof W||o instanceof ct){if(o instanceof er)continue;if(o.index>=s.index)break;let l=o.name?.compound??"";if(o.isClosingTag==!1&&r==l&&!o.isSelfClosing){this.openTagIndexCount.has(this.stackCount)==!1&&this.openTagIndexCount.set(this.stackCount,new Map),this.openTagIndexCount.get(this.stackCount)?.has(r)==!1&&this.openTagIndexCount.get(this.stackCount)?.set(r,0);let u=this.openTagIndexCount.get(this.stackCount)?.get(r)??0;this.openTagIndexCount.get(this.stackCount)?.set(r,u+1)}}}}))}getScanForList(e){if(e instanceof W||e instanceof ct){let n=e.name?.compound;if(n=="else")return["if"];if(n=="elseif")return["elseif","else","if"];if(e.isClosingTag==!1){let r=this.getClosingCandidates(e),i=this.closingTagNames.get(this.stackCount);return dh(r,i)}}return[]}canPossiblyClose(e){if(e instanceof er)return!1;if(e instanceof ct||e instanceof W){if(e.isComment||e.isSelfClosing)return!1;let n=e.name?.compound??"";if(n=="else"||n=="elseif")return!0;if(e.isClosingTag==!1){let r=this.getClosingCandidates(e),i=this.closingTagNames.get(this.stackCount);return dh(r,i).length>0}}return!1}findClosingPair(e,n,r){let i=n.runtimeNodes.length,s=e.length,a=0;for(let o=0;o<s;o++){let l=e[o];if(l instanceof W||l instanceof ct)if(n.endPosition!=null&&l.startPosition!=null){if(n.endPosition.isBefore(l.startPosition)){if(l.isClosingTag&&l.isOpenedBy!=null||l.isSelfClosing)continue;let u=l.name?.compound??"";if(l.isClosingTag==!1){if(r.includes(u)){let c=this.openTagIndexCount.get(this.stackCount)?.get(u),f=this.closingTagIndexCount.get(this.stackCount)?.get(u);c!=f&&l.runtimeNodes.length>=i,a+=1}continue}if(r.includes(u)&&a>0){a-=1;continue}if(a==0&&r.includes(u)){l.isOpenedBy=n,n.isClosedBy=l;break}}}else continue}}associate(e,n){this.document=n;let r=[{documentNodes:e,parent:null}],i=[];for(;r.length>0;){let s=r.pop();if(s==null)continue;let a=s.documentNodes;this.parentNode=s.parent,this.stackCount+=1,this.buildCloseIndex(a),a=Sn.pairConditionals(a),a.forEach(c=>{if((c instanceof W||c instanceof ct)&&this.canPossiblyClose(c)){if(Sn.isConditionalStructure(c))return;let f=this.getScanForList(c);this.findClosingPair(a,c,f)}});let o=a.length;for(let c=0;c<o;c++){let f=a[c];if((f instanceof W||f instanceof ct)&&f.isClosedBy!=null)for(let d=c+1;d<o;d++){let h=a[d];if(h.index>f.isClosedBy.index)break;if(h.parent=f,f.children.push(h),h instanceof W&&h.index==f.index){h.parent=f;break}}}a.forEach(c=>{if((c instanceof W||c instanceof ct)&&c.children.length>0){let f=[];c.children.forEach(d=>{d.parent!=null&&d.parent.index==c.index&&(d.parent=c,f.push(d))}),r.push({documentNodes:f,parent:c})}});let l=[];a.forEach(c=>{this.parentNode==null?c.parent==null&&l.push(c):c.parent==this.parentNode&&l.push(c)}),l=this.reduceConditionals(l,n);let u=new Map;a.forEach(c=>{if((c instanceof W||c instanceof ct)&&c.isClosedBy!=null&&this.document!=null){let f=this.document.getText((c.endPosition?.index??0)+1,c.isClosedBy.startPosition?.index??0);c.runtimeContent=f}});for(let c=0;c<l.length;c++){let f=l[c],d=f.refId??"";if(u.set(d,1),(f instanceof W||f instanceof ct)&&f.isComment==!1&&f.name?.name=="noparse"&&!(f instanceof zt)&&f.isClosingTag==!1){if(f.isClosedBy==null){f.pushError(U.makeSyntaxError(N.TYPE_NO_PARSE_UNASSOCIATED,f,"Encountered noparse region without a closing tag. All noparse regions must be closed."));continue}let h=f.content;this.document!=null&&(h=this.document.getText((f.endPosition?.index??0)+1,f.isClosedBy?.startPosition?.index??0));let p=new zt,m=f.getParser();m!=null&&p.withParser(m),f.copyBasicDetailsTo(p),p.name=new On,p.name.name="noparse",p.name.compound="noparse",p.content=jl.registerNoParseContent(h),p.originalNode=f,p.isClosedBy=f.isClosedBy,p.parent=f.parent,l[c]=p}}if(this.parentNode!=null&&(this.parentNode instanceof ct||this.parentNode instanceof W)&&(this.parentNode.children=this.cleanNodes(l),this.parentNode.parent!=null&&this.parentNode.parent instanceof W)){let c=this.parentNode.parent.children,f=[];c.forEach(d=>{u.has(d.refId??"")==!1&&f.push(d)}),this.parentNode.parent.children=this.cleanNodes(f)}this.stackCount<=1&&(i=l)}return this.createdExecutionBranches.length>0&&this.createdExecutionBranches.forEach(s=>{s.head!=null&&(s.nodes=s.head.children)}),i}cleanNodes(e){let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i],a=s.refId;if(r.includes(a))break;n.push(s),r.push(a)}return n}findEndOfBranch(e,n,r){let i=[],s=r,a=null;for(let o=0;o<e.length;o++){let l=e[o];if((l instanceof W||l instanceof ct)&&l.isOpenedBy!=null&&l.isOpenedBy==n){a=l;break}else i.push(l)}return{children:i,tail:a,offset:s}}reduceConditionals(e,n){let r=[];for(let i=0;i<e.length;i++){let s=e[i];if((s instanceof W||s instanceof ct)&&s.isComment==!1&&s.isClosingTag==!1&&s.isClosedBy!=null)if((s.name?.compound??"")=="if"){let o=new cn;o.index=s.index,o.chain.push(s.index),o.fragment=s.fragment,o.fragmentPosition=s.fragmentPosition,o.containsAnyFragments=s.containsAnyFragments,o.containsChildStructures=s.containsChildStructures;let l=s.startPosition?.offset??0,u=s.getFinalClosingTag(),c=(u.endPosition?.offset??0)+1;o.nodeContent=n.getText(l,c),this.parentNode!=null&&(o.parent=this.parentNode);let f=null,d=!0,h=0;for(;d;){if(h+=1,h>mh.ForceBreakLimit){d=!1;break}if(s instanceof W||s instanceof ct){let p=this.findEndOfBranch(e.slice(i+1),s,i),m=new ku,g=p.tail;m.head=s,m.tail=g,m.nodes=this.cleanNodes(s.children);let T=(s.endPosition?.offset??0)+1,b=s.isClosedBy?.startPosition?.offset??0,S=n.getText(T,b);if(m.documentText=S,n.shouldParseChildDocument()&&(m.childDocument=wt.childFromText(m.documentText,ql(m.nodes))),g==null&&(g=m.head.isClosedBy),g!=null&&g.startPosition!=null&&(m.startPosition=g.startPosition),g!=null&&(m.index=g.index),m.nodes.length>0){let B=m.nodes[m.nodes.length-1];B.endPosition!=null&&(m.endPosition=B.endPosition)}else g!=null&&g.endPosition!=null&&(m.endPosition=g.endPosition);if(this.createdExecutionBranches.push(m),o.logicBranches.push(m),g?.isClosingTag&&g.name?.compound=="if"){f=p.offset,d=!1;break}else g!=null&&o.chain.push(g.index),i=p.offset,g instanceof W&&(s=g)}else d=!1}if(o.logicBranches.length>0){let p=o.logicBranches[0],m=o.logicBranches[o.logicBranches.length-1];p.startPosition!=null&&(o.startPosition=p.startPosition),m.endPosition!=null&&(o.endPosition=m.endPosition)}if(r.push(o),f!=null&&f==e.length)break}else r.push(s);else r.push(s)}return r}},Ul=mh;Ul.ForceBreakLimit=1e5;var xf=class{static associateRecursiveParent(e){for(let n=0;n<e.length;n++){let r=e[n];if(r instanceof er){let i="*recursive "+r.name?.name;if(n-1<0){r.pushError(U.makeSyntaxError(N.TYPE_RECURSIVE_NODE_INVALID_POSITION,r,"Unpaired recursive node. All recursive nodes must have a parent node introducing them."));continue}let s=null;for(let a=n-1;a>=0;a-=1){let o=e[a];if(!(o instanceof st)&&o instanceof W&&o.isClosedBy!=null){if(r.isNestedRecursive){if(o.content.trim()==r.name?.name){s=o;break}}else if(o.runtimeContent.includes(i)&&G.substringCount(r.runtimeContent,"*recursive")==1){s=o;continue}else if(s!=null)break}}if(s==null)continue;r.isNestedRecursive?(s.hasRecursiveNode=!0,r.recursiveParent=s,s.recursiveReference=r):s.parent!=null?s.parent instanceof W&&(s.parent.hasRecursiveNode=!0,s.parent.recursiveReference=r,r.recursiveParent=s.parent):(s.hasRecursiveNode=!0,r.recursiveParent=s,s.recursiveReference=r)}}}};var ca=class{static getNearText(e){if(e instanceof ge)return e.name;if(e instanceof Rt)return e.value?.toString()??"";if(e instanceof Nt)return e.value;if(e instanceof Xt)return e.name;if(e instanceof Vt)return e.value;if(e instanceof lr||e instanceof Qr||e instanceof tr||e instanceof Pr||e instanceof Cr||e instanceof tn||e instanceof Lr||e instanceof Pt||e instanceof en||e instanceof Dr||e instanceof Vn||e instanceof Xr||e instanceof gn||e instanceof zr||e instanceof Ir||e instanceof jn||e instanceof Sr||e instanceof qn||e instanceof Ar||e instanceof nr||e instanceof Or||e instanceof xr||e instanceof Er||e instanceof gi||e instanceof rr||e instanceof Un||e instanceof Fr||e instanceof In||e instanceof ir||e instanceof fn||e instanceof sr||e instanceof wr||e instanceof Rr||e instanceof _i||e instanceof ar||e instanceof Wn||e instanceof Bt||e instanceof Mt||e instanceof _n||e instanceof vt||e instanceof Mi||e instanceof pn||e instanceof Jr||e instanceof xt)return e.content;let n="";return e instanceof W?e.originalNode!=null?n=e.originalNode.getContent():n=e.startPosition?.line.toString()??"":e.originalAbstractNode!=null?n=e.originalAbstractNode.rawContent():n=e.rawContent(),n.length>15&&(n=n.substr(0,-15)),n}};var fa=class{};fa.deferredCoreLibraries=["arr","array","str","string","method","math","sys","convert","scope","stopwatch","file","path","url","request","json","datetime"];var ht=class{};ht.ARR_PLUCK="pluck",ht.ARR_TAKE="take",ht.ARR_SKIP="skip",ht.ARR_MAKE="arr",ht.ARR_ORDERBY="orderby",ht.ARR_GROUPBY="groupby",ht.ARR_MERGE="merge",ht.QUERY_WHERE="where",ht.STRUCT_SWITCH="switch",ht.BITWISE_AND="bwa",ht.BITWISE_OR="bwo",ht.BITWISE_XOR="bxor",ht.BITWISE_NOT="bnot",ht.BITWISE_SHIFT_LEFT="bsl",ht.BITWISE_SHIFT_RIGHT="bsr",ht.operators=["pluck","take","arr","skip","orderby","groupby","merge","where","switch","bwa","bwo","bxor","bsl","bsr"];var Dt=class{constructor(){this.pathParser=new Si;this.tokens=[];this.createdVariables=[];this.createdModifierChains=[];this.createdLanguageOperators=[];this.createdArrays=[];this.tracedAssignments=[];this.mergedVariablePaths=[];this.mergedComponents=new Map;this.modifierNameMapping=new Map;this.isRealModifierSeparator=new Map;this.isRoot=!0;this.retriggerNonVirtualGroupMembers=[]}hasModifierConstruct(e){return this.modifierNameMapping.has(e)}getModifierConstruct(e){return this.modifierNameMapping.get(e)}isActualModifierSeparator(e){return this.isRealModifierSeparator.has(e)}isMergedVariableComponent(e){return this.mergedComponents.has(e)}getMergedVariable(e){return this.mergedComponents.get(e)}getMergedVariablePaths(){return this.mergedVariablePaths}getCreatedModifierChains(){return this.createdModifierChains}getCreatedLangaugeOperators(){return this.createdLanguageOperators}getCreatedArrays(){return this.createdArrays}getCreatedVariables(){return this.createdVariables}getRuntimeAssignments(){return this.tracedAssignments}getAssignedVariables(){let e=[],n=[];for(let r=0;r<this.tracedAssignments.length;r++){let i=this.tracedAssignments[r];i.target instanceof ge&&n.includes(i.target.name)==!1&&(n.push(i.target.name),e.push(i.target))}return e}getAssignedVariableNames(){let e=[];for(let n=0;n<this.tracedAssignments.length;n++){let r=this.tracedAssignments[n];r.target instanceof ge&&e.includes(r.target.name)==!1&&e.push(r.target.name)}return e}reset(){this.tokens=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.createdArrays=[],this.createdModifierChains=[],this.createdLanguageOperators=[],this.tracedAssignments=[],this.createdArrays=[],this.mergedVariablePaths=[],this.mergedComponents.clear(),this.modifierNameMapping.clear()}parse(e){return this.tokens=e,this.tokens=this.combineVariablePaths(this.tokens),this.tokens=this.createLanguageOperators(this.tokens),this.tokens=this.createLogicalGroups(this.tokens),this.tokens=this.associateMethodCalls(this.tokens),this.tokens=this.createTupleLists(this.tokens),this.tokens=this.createLibraryInvocations(this.tokens),this.tokens=this.associateModifiers(this.tokens),this.tokens=this.createNullCoalescenceGroups(this.tokens),this.tokens=this.correctTypes(this.tokens),this.tokens=this.createTernaryGroups(this.tokens),this.tokens=this.applyOperationOrder(this.tokens),this.validateNeighboringOperators(this.tokens),this.tokens=this.createLogicGroupsToRemoveMethodInvocationAmbiguity(this.tokens),this.tokens=this.createLogicGroupsToResolveOperatorAmbiguity(this.tokens),this.validateNoDanglingLogicGroupEnds(this.tokens),this.isRoot&&(this.tokens=this.insertAutomaticStatementSeparators(this.tokens),this.retriggerNonVirtualGroupMembers.length>0&&this.retriggerNonVirtualGroupMembers.forEach(n=>{this.markAllNonVirtualAsListGroupMember(n)})),this.createSemanticGroups(this.tokens)}setIsRoot(e){return this.isRoot=e,this}validateNeighboringOperators(e){let n=e.length;for(let r=0;r<n;r++){let i=e[r];if(Dt.isOperatorType(i)){if(r+1>=n){i.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_OPERATOR,i,"Unexpected operator while parsing input text."));return}let s=e[r+1];if(Dt.isOperatorType(s)){s.pushError(U.makeSyntaxError(N.TYPE_OPERATOR_INVALID_ON_RIGHT,s,"Unexpected operator while parsing input text."));continue}}}}static isAssignmentOperator(e){return e instanceof Dr||e instanceof Sr||e instanceof Un||e instanceof Ar||e instanceof Ir||e instanceof Xr}static isOperatorType(e){return e instanceof Dr||e instanceof Sr||e instanceof Un||e instanceof Ar||e instanceof Ir||e instanceof Xr||e instanceof _i||e instanceof Lr||e instanceof ir||e instanceof tn||e instanceof sr||e instanceof Qr||e instanceof ar||e instanceof Jr||e instanceof Vn||e instanceof qn||e instanceof zr||e instanceof nr||e instanceof jn||e instanceof gn||e instanceof In||e instanceof rr||e instanceof gi||e instanceof Er||e instanceof xr||e instanceof Rr||e instanceof wr||e instanceof Or||e instanceof Fr}markAllNonVirtualAsListGroupMember(e){e.forEach(n=>{if(n instanceof Be||n instanceof or||n instanceof bi){n.start!=null&&n.start.isVirtual==!1&&(n.start.isListGroupMember=!0),n.end!=null&&n.end.isVirtual==!1&&(n.end.isListGroupMember=!0),n.scopeOperator!=null&&(n.scopeOperator.isListGroupMember=!0),n.nodes.forEach(r=>{this.markAllNonVirtualAsListGroupMember([r])});return}else n instanceof Et&&(n.separatorToken!=null&&n.separatorToken.isVirtual==!1&&(n.separatorToken.isListGroupMember=!0),this.markAllNonVirtualAsListGroupMember(n.nodes));n.isVirtual==!1&&(n.isListGroupMember=!0),n.originalAbstractNode!=null&&n.originalAbstractNode!=n&&this.markAllNonVirtualAsListGroupMember([n.originalAbstractNode])})}markAllNonVirtualAsSwitch(e){e.forEach(n=>{if(n instanceof Be||n instanceof or||n instanceof bi){n.start!=null&&n.start.isVirtual==!1&&(n.start.isSwitchGroupMember=!0),n.end!=null&&n.end.isVirtual==!1&&(n.end.isSwitchGroupMember=!0),n.scopeOperator!=null&&(n.scopeOperator.isSwitchGroupMember=!0),n.nodes.forEach(r=>{this.markAllNonVirtualAsSwitch([r])});return}else n instanceof Et&&(n.separatorToken!=null&&n.separatorToken.isVirtual==!1&&(n.separatorToken.isSwitchGroupMember=!0),this.markAllNonVirtualAsSwitch(n.nodes));n.isVirtual==!1&&(n.isSwitchGroupMember=!0),n.originalAbstractNode!=null&&n.originalAbstractNode!=n&&this.markAllNonVirtualAsSwitch([n.originalAbstractNode])})}validateNoDanglingLogicGroupEnds(e){e.forEach(n=>{n instanceof Mt&&n.pushError(U.makeSyntaxError(N.TYPE_LOGIC_GROUP_NO_START,n,"Unexpected [T_LOGIC_END] while parsing input text."))})}isValidModifierValue(e){return e instanceof Vt||e instanceof ge||e instanceof Pr||e instanceof Cr||e instanceof tr||e instanceof Rt||e instanceof Nt}wrapNumberInVariable(e){let n=new ge;return n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.name=e.value?.toString()??"",n.content=e.value?.toString()??"",n.originalAbstractNode=e,n.refId=e.refId,n.modifierChain=e.modifierChain,n.index=e.index,this.createdVariables.push(n),n}wrapArithmeticModifier(e,n){let r=new Xt;return r.startPosition=e.startPosition,r.endPosition=e.endPosition,r.originalAbstractNode=e,r.content=n,r.name=n,r.index=e.index,r}combineVariablePaths(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i],a=n.length;if(s instanceof vt){if(a==0){s.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_BRANCH_SEPARATOR_FOR_VARCOMBINE,s,"Unexpected [T_BRANCH_SEPARATOR] while parsing input text."));continue}if(i+1>r){let u="";if(i>0){let c=e[i-1];u=ca.getNearText(c)}s.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_EOI_PARSING_BRANCH_GROUP,s,'Unexpected end of input while parsing input text near "'+u+ca.getNearText(s)+'".'));continue}let o=n[a-1],l=e[i+1];if(l instanceof Rt&&ut.distance(o,l)==1&&(l=this.wrapNumberInVariable(l)),o instanceof ge&&l instanceof ge&&ut.distance(o,l)==1){n.pop(),ut.mergeVarContentRight(":",s,l),ut.mergeVarRight(o,l),n.push(l),this.createdVariables.push(l),this.mergedVariablePaths.push(l),this.mergedComponents.set(s,l),this.mergedComponents.set(o,l),this.mergedComponents.set(l,l),i+=1;continue}else{n.push(s);continue}}else if(s instanceof Nt&&a>0){if(i+1>=r){n.push(s);continue}let o=n[a-1],l=e[i+1];if(o instanceof ge&&l instanceof ge&&ut.distance(o,s)<=1&&ut.distance(s,l)<=1){n.pop(),i+=1;continue}else n.push(s)}else if(s instanceof gn&&a>0){let o=n[a-1],l=e[i+1];if(o instanceof ge&&(l instanceof ge||l instanceof sr)){let u=ut.distance(o,s),c=ut.distance(s,l);u<=1&&c<=1?(o.endPosition=l.endPosition,this.mergedComponents.set(s,o),this.mergedComponents.set(o,o),this.mergedComponents.set(l,o),i+=1):n.push(s)}else n.push(s)}else n.push(s)}return n.forEach(i=>{i instanceof ge&&!i.name.trim().startsWith("[")&&(i.variableReference=this.pathParser.parse(i.name),i.mergeErrors(this.pathParser.getAntlersErrors()))}),n}convertVarNodeToOperator(e){let n=new Lr;return n.content=e.name,n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.originalAbstractNode=e,e.convertedToOperator=!0,this.createdLanguageOperators.push(n),n}convertOperatorToVarNode(e){let n=new ge;return n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.content=e.content,n.name=e.content,n.originalAbstractNode=e,this.createdVariables.push(n),n}createLanguageOperators(e){let n=e.length;for(let r=0;r<n;r++){let i=e[r];if(i instanceof ge){if(i.name.includes(E.Punctuation_FullStop)){let s=i.name.split(E.Punctuation_FullStop);if(ht.operators.includes(s[0])||fa.deferredCoreLibraries.includes(s[0])){e[r]=this.convertVarNodeToOperator(i);continue}}if(ht.operators.includes(i.name)){e[r]=this.convertVarNodeToOperator(i);continue}}if(i instanceof Lr){if(r+1>=n){e[r]=this.convertOperatorToVarNode(i);continue}if(e[r+1]instanceof en){e[r]=this.convertOperatorToVarNode(i);continue}}}return e}createLogicalGroups(e){let n=[],r=e.length,i=[];for(let a=0;a<r;a++){let o=e[a];if(o instanceof tn){let l=this.countTypeRight(e,a,tn);if(i.length==0&&e.length==l){o.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_LOGIC_NEGATION_OPERATOR,o,"Unexpected [T_LOGIC_INVERSE] while parsing input text."));continue}if(a>0&&i.length>0){let f=i[i.length-1];if(f instanceof Rt||f instanceof Mt||f instanceof Be){if(f instanceof Be&&f.start instanceof tn){f.start.pushError(U.makeSyntaxError(N.TYPE_FACTORIAL_MATERIALIZED_BOOL_DETECTED,f.start,"[T_AOP_FACTORIAL] operand will always materialize boolean type."));continue}let d=new Mi;d.startPosition=o.startPosition,d.endPosition=o.endPosition,d.content="!".repeat(l),d.originalAbstractNode=o,d.repeat=l,i.push(d),l>0&&(a+=l-1);continue}}if(l%2==0){a+=l-1;continue}let u=e[a+l];if(u instanceof Bt){let f=a+l+1;if(f>=r){u.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_NEGATION_OFFSET,u,"Unexpected end of input while parsing input text."));continue}let d=this.findLogicalGroupEnd(e[a+l],e.slice(f));if(d.found){let h=d.logicalGroup,p=new Be;p.start=o,p.end=h,p.nodes.push(o),p.nodes.push(h),p.startPosition=o.startPosition,p.endPosition=h.endPosition,i.push(p),a+=d.skipCount+l}continue}let c=this.resolveValueRight(e,a);c.value!=null&&i.push(c.value),a+=c.negationCount}else i.push(o)}let s=i.length;for(let a=0;a<s;a++){let o=i[a];if(o instanceof Bt){if(a+1>=s){o.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END_DUE_TO_NEGATION,o,"Unexpected end of input while parsing input text."));continue}let l=this.findLogicalGroupEnd(o,i.slice(a+1));l.found&&l.logicalGroup!=null&&n.push(l.logicalGroup),a+=l.skipCount}else if(o instanceof Mi){if(n.length==0){o.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_FACTORIAL_WHILE_CREATING_GROUPS,o,"Unexpected [T_AOP_FACTORIAL] while parsing input text."));continue}let l=n[n.length-1];if(!(l instanceof Be)&&!(l instanceof Rt)){o.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_FACTORIAL_OPERAND,o,"Unexpected left operand encountered for [T_AOP_FACTORIAL] while parsing input text."));continue}l=n.pop();let u=new Be;u.startPosition=l.startPosition,u.endPosition=o.endPosition,u.originalAbstractNode=o,u.nodes.push(l),u.nodes.push(o),n.push(u)}else n.push(o)}return n}makeArgGroup(e){let n=new zs,r=e.length;for(let s=0;s<r;s++){let a=e[s];if(this.isOperand(a)==!1){a.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_TOKEN_WHILE_PARSING_METHOD,a,"Unexpected ["+X.getPrettyTypeName(a)+"] while parsing argument group."));continue}let o=null;if(s+1<r&&(o=e[s+1]),o==null||o instanceof Pt){n.args.push(e[s]),s+=1;continue}else if(o instanceof vt){if(s+2>=r){a.pushError(U.makeSyntaxError(N.TYPE_ARG_UNEXPECTED_NAMED_ARGUMENT,a,"Unexpected end of input while parsing named argument."));continue}let l=e[s+2],u=new ml;u.startPosition=a.startPosition,u.endPosition=l.endPosition,u.content=a.content+l.content,u.name=a,u.value=l,a instanceof ge||a.pushError(U.makeSyntaxError(N.TYPE_INVALID_NAMED_ARG_IDENTIFIER,a,"Invalid type ["+X.getPrettyTypeName(a)+"] supplied for named argument name.")),n.hasNamedArguments=!0,n.numberOfNamedArguments+=1,n.args.push(u),s+3<r&&e[s+3]instanceof Pt?s+=3:s+=2;continue}}let i=!1;return n.args.forEach(s=>{s instanceof ml?i=!0:i&&s.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_UNNAMED_METHOD_ARGUMENT,s,"Unnamed arguments are not allowed to appear after a named argument."))}),n.args.length>0&&(n.startPosition=n.args[0].startPosition,n.endPosition=n.args[n.args.length-1].endPosition),n}cleanVariableForMethodInvocation(e){(e.name.startsWith(":")||e.name.startsWith("."))&&(e.name=e.name.substr(1),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(1),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(1)),e.startPosition!=null&&(e.startPosition.offset+=1,e.startPosition.char+=1))}reduceVariableReferenceForObjectAccessor(e){let n=e.variableReference?.pathParts.pop(),r=n.name,i=r.length+1;return e.name=e.name.substr(0,-i),e.variableReference!=null&&(e.variableReference.originalContent=e.variableReference.originalContent.substr(0,-i),e.variableReference.normalizedReference=e.variableReference.normalizedReference.substr(0,-i),e.variableReference.pathParts[e.variableReference.pathParts.length-1].isFinal=!0),e.endPosition!=null&&(e.endPosition.offset-=i,e.endPosition.char-=i),{accessor:r,accessorLen:i}}associateMethodCalls(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i],a=null,o=null;if(n.length>0&&(a=n[n.length-1]),i+1<r&&(o=e[i+1]),s instanceof ge&&o instanceof Be&&a!=null&&(this.isProperMethodChainTargetStrict(a)||a instanceof vt)){let l=o,u=[];l.nodes.length>0&&(l.nodes[0]instanceof Et?u=l.nodes[0].nodes:u=l.nodes);let c=new xt;if(c.startPosition=s.startPosition,a instanceof vt){let f=n.pop();c.startPosition=f.startPosition}this.cleanVariableForMethodInvocation(s),c.endPosition=l.endPosition,c.args=this.makeArgGroup(u),c.method=s,a.methodTarget=c,a instanceof ge&&a.mergeRefName.length>0&&(a.name=ut.getUnrefName(a.mergeRefName)),n.push(c),i+=1;continue}else if(s instanceof Be&&a instanceof ge&&a.variableReference!=null&&a.variableReference.pathParts.length>=2){let l=[];if(s.nodes.length>0&&(s.nodes[0]instanceof Et?l=s.nodes[0].nodes:l=s.nodes),a.variableReference.pathParts[0]instanceof hn&&fa.deferredCoreLibraries.includes(a.variableReference.pathParts[0].name)){let h=n.pop(),p=new Bi;p.startPosition=h.startPosition,p.endPosition=s.endPosition,p.content=h.content,p.originalAbstractNode=s;let g=(h.variableReference?.pathParts.shift()).name,T=h.variableReference?.implodePaths();p.libraryName=g,p.methodName=T,p.arguments=this.makeArgGroup(l),n.push(p),i+=1;continue}let u=this.reduceVariableReferenceForObjectAccessor(a),c=new xt;c.startPosition=s.startPosition,c.endPosition=s.endPosition,a.methodTarget=c,a instanceof ge&&a.mergeRefName.length>0&&(a.name=ut.getUnrefName(a.mergeRefName)),s.start!=null&&(s.start.isPartOfMethodChain=!0),s.end!=null&&(s.end.isPartOfMethodChain=!0);let f=new ge;f.name=u.accessor,f.isPartOfMethodChain=!0;let d=this.makeArgGroup(l);if(c.startPosition!=null&&(c.startPosition.offset-=u.accessorLen,c.startPosition.char-=u.accessorLen),c.method=f,c.args=d,G.isNumeric(a.name)){let h=n.pop();n.push(this.convertOperatorToVarNode(h))}n.push(c);continue}else if(s instanceof ge&&a instanceof xt){if(this.cleanVariableForMethodInvocation(s),i+1>r){s.pushError(U.makeSyntaxError(N.TYPE_METHOD_CALL_MISSING_ARG_GROUP,s,"Unexpected end of input while parsing method call."));continue}let l=e[i+1];if(!(l instanceof Be)){s.pushError(U.makeSyntaxError(N.TYPE_INVALID_METHOD_CALL_ARG_GROUP,s,"Unexpected ["+X.getPrettyTypeName(l)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let u=l,c=[];u.nodes.length>0&&(u.nodes[0]instanceof Et?c=u.nodes[0].nodes:c=u.nodes);let f=new xt;f.startPosition=s.startPosition,f.endPosition=u.endPosition,f.args=this.makeArgGroup(c),f.method=s,a.methodTarget=f,n.push(f),i+=1;continue}else if(s instanceof vt&&a instanceof xt){if(i+1>r){s.pushError(U.makeSyntaxError(N.TYPE_METHOD_CALL_MISSING_METHOD,s,"Unexpected end of input while parsing method call."));continue}let l=e[i+1];if(i+2>r){s.pushError(U.makeSyntaxError(N.TYPE_METHOD_CALL_MISSING_ARG_GROUP,s,"Unexpected end of input while parsing method call."));continue}let u=e[i+2];if(!(u instanceof Be)){s.pushError(U.makeSyntaxError(N.TYPE_INVALID_METHOD_CALL_ARG_GROUP,s,"Unexpected ["+X.getPrettyTypeName(u)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let c=u,f=[];c.nodes.length>0&&(c.nodes[0]instanceof Et?f=c.nodes[0].nodes:f=c.nodes);let d=new xt;d.startPosition=s.startPosition,d.endPosition=u.endPosition,d.args=this.makeArgGroup(f),d.method=l,a.methodTarget=d,n.push(d),i+=2;continue}else if(s instanceof xt){if(i+1>r){s.pushError(U.makeSyntaxError(N.TYPE_METHOD_CALL_MISSING_METHOD,s,"Unexpected end of input while parsing method call."));continue}let l=e[i+1];if(i+2>r){s.pushError(U.makeSyntaxError(N.TYPE_INVALID_METHOD_CALL_ARG_GROUP,s,"Unexpected end of input while parsing method call."));continue}let u=e[i+2];if(!(u instanceof Be)){s.pushError(U.makeSyntaxError(N.TYPE_INVALID_METHOD_CALL_ARG_GROUP,s,"Unexpected ["+X.getPrettyTypeName(u)+"] while parsing [T_METHOD_CALL]; expecting [T_ARG_GROUP]."));continue}let c=u,f=[];c.nodes.length>0&&(c.nodes[0]instanceof Et?f=c.nodes[0].nodes:f=c.nodes);let d=this.makeArgGroup(f);if(a instanceof ge&&fa.deferredCoreLibraries.includes(a.name)){let h=n.pop(),p=new Bi;p.startPosition=h.startPosition,p.endPosition=c.endPosition,p.libraryName=h.name,p.methodName=l.name,p.content=p.libraryName+"->"+p.methodName,p.arguments=d,a.libraryTarget=p,n.push(p),i+=2;continue}s.method=l,s.args=d,n.length>0&&(n[n.length-1].methodTarget=s),i+=2,n.push(s);continue}else n.push(s)}return n}convertVariableToStringNode(e){let n=new Nt;return n.content=e.name,n.value=e.name,n.originalAbstractNode=e,n.startPosition=e.startPosition,n.endPosition=e.endPosition,n.index=e.index,n}createTupleLists(e){let n=e.length,r=[];for(let i=0;i<n;i++){let s=e[i];if(s instanceof lr){if(s.isListGroupMember=!0,i+1>=n){s.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_EOI_PARSING_TUPLE_LIST,s,"Unexpected end of input while parsing tuple list."));continue}let a=e[i+1];if(!(a instanceof Be)){a.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_TYPE_FOR_TUPLE_LIST,a,"Unexpected ["+X.getPrettyTypeName(a)+"] while parsing tuple list."));continue}let o=a;if(this.markAllNonVirtualAsListGroupMember([o]),this.retriggerNonVirtualGroupMembers.push([o]),o.nodes.length==0){o.pushError(U.makeSyntaxError(N.TYPE_MISSING_BODY_TUPLE_LIST,o,"Missing tuple list body while parsing tuple list."));continue}let u=o.nodes.shift(),c=u.nodes.length,f=[];for(let p=0;p<c;p++){let m=u.nodes[p];if(!(m instanceof Pt)){let g=!1;if(m instanceof ge&&(m.variableReference==null&&(g=!0),m.variableReference!=null&&m.variableReference.pathParts.length>1&&(g=!0),m.name.trim().length==0&&(g=!0)),g||!(m instanceof ge)){o.pushError(U.makeSyntaxError(N.TYPE_INVALID_TUPLE_LIST_NAME_TYPE,o,"Invalid ["+X.getPrettyTypeName(m)+"] name type found while parsing tuple list."));continue}let T=m;f.push(this.convertVariableToStringNode(T))}}let d=f.length;if(d==0){o.pushError(U.makeSyntaxError(N.TYPE_INVALID_MANIFESTED_NAME_GROUP,o,"Invalid Name expression produced an invalid name group while parsing tuple list."));continue}let h=new yi;this.createdArrays.push(h),h.startPosition=s.startPosition,h.endPosition=s.endPosition,o.nodes.forEach(p=>{if(!(p instanceof Et)){p.pushError(U.makeSyntaxError(N.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE_GROUP,p,"Invalid ["+X.getPrettyTypeName(p)+"] name type found while parsing tuple list value expression."));return}let m=p,g=new yi;this.createdArrays.push(g),g.startPosition=m.startPosition;let T=[];for(let b=0;b<c;b++){let S=m.nodes[b];if(typeof S>"u"||S==null)break;if(!(S instanceof Pt)){if(this.isOperand(S)==!1){S.pushError(U.makeSyntaxError(N.TYPE_INVALID_TUPLE_LIST_VALUE_TYPE,S,"Unexpected ["+X.getPrettyTypeName(S)+"]  while parsing tuple list value."));continue}T.push(S)}}for(let b=0;b<d&&!(b>T.length);b++){let S=T[b],B=new Ka;B.startPosition=S.startPosition,B.endPosition=S.endPosition,B.name=f[b],B.value=S,g.nodes.push(B),h.endPosition=S.endPosition,g.endPosition=S.endPosition}h.nodes.push(g)}),r.push(h),i+=1;continue}else r.push(s)}return e}makeOrderGroup(e){let n=[],r=e.length,i=0;for(let s=0;s<r;s++){let a=e[s],o=null;if(s+1<r&&(o=e[s+1]),s>0&&(o==null||o instanceof Pt)){i+=1;let l=new Ha;l.order=i,l.name=e[s-1],l.directionNode=a,this.isOperand(l.name)==!1&&l.name.pushError(U.makeSyntaxError(N.TYPE_INVALID_ORDER_BY_NAME_VALUE,l.name,"Invalid value or expression supplied for order by name.")),this.isOperand(l.directionNode)==!1&&l.directionNode.pushError(U.makeSyntaxError(N.TYPE_INVALID_ORDER_BY_SORT_VALUE,l.directionNode,"Invalid value or expression supplied for order by direction.")),l.startPosition=l.name.startPosition,l.endPosition=l.directionNode.endPosition,n.push(l),s+=1;continue}}return n}getValues(e){let n=new $s,r=e.length,i=[];for(let s=0;s<r;s++){let a=e[s],o=null;if(s+1<r&&(o=e[s+1]),o==null||o instanceof Pt){i.push(a),s+=1;continue}}return n.values=i,n}createLibraryInvocations(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof Lr)if(s.content.includes(".")){let a=s.content.split("."),o=a.shift(),l=a.join("."),u=new Bi;if(u.startPosition=s.startPosition,u.endPosition=s.endPosition,u.content=s.content,u.libraryName=o,u.methodName=l,u.originalAbstractNode=s,i+1>=r){s.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_EOI_WHILE_PARSING_ARG_GROUP,s,"Unexpected end of input while parsing argument group."));continue}if(!(e[i+1]instanceof Be)){s.pushError(U.makeSyntaxError(N.TYPE_EXPECTING_ARGUMENT_GROUP,s,"Unexpected token while parsing method call. Expecting [T_ARG_SEPARATOR] got ["+X.getPrettyTypeName(s)+"]."));continue}let c=e[i+1],f=null;if(c.nodes.length>0){let d=c.nodes[0];f=this.makeArgGroup(d.nodes)}f==null&&(f=new zs,f.startPosition=c.startPosition,f.endPosition=c.endPosition,f.originalAbstractNode=c),u.arguments=f,n.push(u),i+=1;continue}else if(s.content==ht.ARR_ORDERBY){if(i+1>=r){s.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_EOI_PARSING_ORDER_GROUP,s,"Unexpected end of input while parsing order group."));continue}let a=e[i+1];if(!(a instanceof Be)){a.pushError(U.makeSyntaxError(N.TYPE_EXPECTING_ORDER_GROUP_FOR_ORDER_BY_OPERAND,a,"Unexpected ["+X.getPrettyTypeName(a)+"] while parsing order group."));continue}let l=a.nodes;l[0]instanceof Et&&(l=l[0].nodes);let u=this.makeOrderGroup(l);u.length==0&&s.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_EMPTY_DIRECTION_GROUP,s,"Unexpected empty [T_DIRECTION_GROUP]. Must have at least one order clause, and each property must have a direction specified."));let c=new as;if(c.orderClauses=u,u.length>0){u[0].directionNode!=null&&(c.startPosition=u[0].directionNode.startPosition);let f=u[u.length-1].directionNode;f!=null&&(c.endPosition=f.endPosition)}n.push(s),n.push(c),i+=1;continue}else if(s.content==ht.ARR_GROUPBY){if(i+1>=r){s.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_EOI_WHILE_PARSING_GROUP_BY,s,"Unexpected end of input while parsing group by clause."));continue}let a=e[i+1];if(a instanceof bi||a instanceof or){a.pushError(U.makeSyntaxError(N.TYPE_GROUP_BY_SCOPED_GROUP_MUST_BE_ENCLOSED,a,"Type ["+X.getPrettyTypeName(a)+"] must be enclosed with parenthesis to be used with groupby."));continue}if(!(a instanceof Be)){a.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_TOKEN_FOR_GROUP_BY,a,"Unexpected ["+X.getPrettyTypeName(a)+"] while parsing group by."));continue}let l=a.nodes;l[0]instanceof Et&&(l=l[0].nodes);let u=this.getValues(l);if(n.push(s),n.push(u),i+2<r&&i+3<r){let c=e[i+2],f=e[i+3];if(ut.isVariableMatching(c,ze.ScopeAs))if(f instanceof Nt){u.isNamedNode=!0,u.parsedName=f,i+=3;continue}else f.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_GROUP_BY_AS_ALIAS_TYPE,f,"Expecting [T_STRING] for group by collection alias; got ["+X.getPrettyTypeName(f)+"]."))}i+=1;continue}else if(s.content==ht.STRUCT_SWITCH){if(i+1>=r){s.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_EOI_WHILE_PARSING_SWITCH_GROUP,s,"Unexpected end of input while parsing [T_SWITCH_GROUP]."));continue}let a=e[i+1];if(!(a instanceof or)){a.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_TOKEN_FOR_SWITCH_GROUP,a,"Unexpected ["+X.getPrettyTypeName(a)+"] while parsing [T_SWITCH_GROUP]."));continue}let o=a;if(this.markAllNonVirtualAsSwitch([a]),o.scope==null||!(o.scope instanceof Be)){o.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_SWITCH_START_VALUE,o,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let l=o.scope;if(l.nodes.length==0||!(l.nodes[0]instanceof Et)){o.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,o,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let u=l.nodes[0];if(this.markAllNonVirtualAsSwitch([l]),u.nodes.length==0||!(u.nodes[0]instanceof Be)){s.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}this.markAllNonVirtualAsSwitch([s]),this.markAllNonVirtualAsSwitch(u.nodes);let c=u.nodes;if(o.nodes.length==0&&s.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP].")),!(l.nodes[0]instanceof Et)){s.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_SWITCH_START_VALUE_NO_VALUE,s,"Unexpected input while parsing [T_SWITCH_GROUP]."));continue}let d=l.nodes[0];this.markAllNonVirtualAsSwitch(d.nodes);let h=d.nodes,p=new os,m=new Be;m.nodes=c,m.startPosition=m.nodes[0].startPosition,m.endPosition=m.nodes[m.nodes.length-1].endPosition;let g=new Ks;g.condition=m;let T=new Be;T.nodes.push(h.shift()),T.startPosition=T.nodes[0].startPosition,T.endPosition=T.nodes[T.nodes.length-1].endPosition,g.expression=T,g.startPosition=g.condition.startPosition,g.endPosition=g.expression.nodes[g.expression.nodes.length-1].endPosition,h.shift(),p.cases.push(g);let b=h.length;if(b>0){if(!(h[0]instanceof Be)){s.pushError(U.makeSyntaxError(N.TYPE_PARSER_INVALID_SWITCH_TOKEN,s,"Invalid ["+X.getPrettyTypeName(h[0])+"] while parsing case statement."));continue}for(let S=0;S<b;S++){let B=h[S],z=null;if(B instanceof Pt){B.isSwitchGroupMember=!0;continue}if(S+1<b&&(z=h[S+1]),z instanceof pn){z.isSwitchGroupMember=!0;let ne=new Ks;ne.condition=B,this.markAllNonVirtualAsSwitch([ne.condition]);let Te=new Be;if(Te.nodes.push(h[S+2]),Te.startPosition=Te.nodes[0].startPosition,Te.endPosition=Te.nodes[Te.nodes.length-1].endPosition,ne.expression=Te,this.markAllNonVirtualAsSwitch([Te]),ne.startPosition=ne.condition.startPosition,ne.endPosition=ne.expression.nodes[ne.expression.nodes.length-1].endPosition,p.cases.push(ne),S+3<b&&!(h[S+3]instanceof Pt)){h[S+3].pushError(U.makeSyntaxError(N.TYPE_PARSER_INVALID_SWITCH_TOKEN,h[S+3],"Invalid ["+X.getPrettyTypeName(h[S+3])+"] while parsing case statement; expecting [T_ARG_SEPARATOR]."));continue}h[S+3].isSwitchGroupMember=!0,S+=2;continue}}}n.push(new tr),n.push(s),n.push(p),i+=1;continue}else if(s.content==ht.ARR_MAKE){if(i+1>=r){s.pushError(U.makeSyntaxError(N.TYPE_ARR_MAKE_MISSING_TARGET,s,"Missing target variable for arr operator."));continue}let a=e[i+1];if(!(a instanceof Be)){a.pushError(U.makeSyntaxError(N.TYPE_ARR_MAKE_UNEXPECTED_TYPE,a,"Unexpected ["+X.getPrettyTypeName(a)+"] while parsing array."));continue}let o=a instanceof or,l=a,u=l.nodes;if(u[0]instanceof Et&&(u=u[0].nodes),o){let h=a;u.unshift(new pn),u.unshift(h.scope)}let c=this.getArrayValues(u),f=new yi;f.startPosition=s.startPosition;let d=c.values.length;d>0?f.endPosition=c.values[d-1].endPosition:f.endPosition=s.endPosition,l.end!=null&&(f.endPosition=l.end.endPosition),f.nodes=c.values,this.createdArrays.push(f),n.push(f),i+=1}else n.push(s);else n.push(s)}return n}getArrayValues(e){let n=new $s,r=e.length,i=[];for(let s=0;s<r;s++){let a=e[s];if(a instanceof Pt){a.pushError(U.makeSyntaxError(N.TYPE_ARR_UNEXPECT_ARG_SEPARATOR,a,"Unexpected [T_ARG_SEPARATOR] while parsing array."));continue}if(a instanceof pn){if(s==0){a.pushError(U.makeSyntaxError(N.TYPE_ARR_KEY_PAIR_MISSING_KEY,a,"Missing key for key/value pair while parsing array."));continue}else if(e[s-1]instanceof Pt){a.pushError(U.makeSyntaxError(N.TYPE_ARR_KEY_PAIR_MISSING_KEY,a,"Missing key for key/value pair while parsing array."));continue}}let o=null;if(s+1<r&&(o=e[s+1]),o instanceof pn){if(s+2>=r){o.pushError(U.makeSyntaxError(N.TYPE_ARR_MAKE_MISSING_ARR_KEY_PAIR_VALUE,o,"Missing key/pair value while parsing array."));continue}let l=e[s+2],u=new Ka;if(this.isValidArrayKeyNode(a)==!1){a.pushError(U.makeSyntaxError(N.TYPE_ARR_KEY_PAIR_INVALID_KEY_TYPE,a,"Invalid ["+X.getPrettyTypeName(a)+"] type for key/value key."));continue}u.name=a,u.value=l,u.startPosition=a.startPosition,u.endPosition=l.endPosition,i.push(u),s+=3;continue}if(o==null||o instanceof Pt){let l=new Ka;l.value=a,l.startPosition=a.startPosition,l.endPosition=a.endPosition,i.push(l),s+=1;continue}}return n.values=i,n}isValidArrayKeyNode(e){return e instanceof Rt||e instanceof Nt}associateModifiers(e){let n=[],r=e.length,i=null;for(let s=0;s<r;s++){let a=e[s];if(a instanceof fn){let o=n.length;if(o==0){a.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_MODIFIER_SEPARATOR,a,"Unexpected [T_MODIFIER_SEPARATOR] while parsing input text."));continue}if(this.isRealModifierSeparator.set(a,!0),i=n[o-1],i.modifierChain==null&&(i.modifierChain=new Ga,i.modifierChain.modifierTarget=i,this.createdModifierChains.push(i.modifierChain)),s+1>=r){a.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_DETAILS,a,"Unexpected end of input while preparing to gather modifier details."));continue}let l=this.scanToEndOfModifier(e.slice(s+1)),u=l.length;if(u>1&&l[1]instanceof vt){this.isRealModifierSeparator.set(l[1],!0);let f=l[0];f instanceof Vn?l[0]=this.wrapArithmeticModifier(f,"add"):f instanceof gn?l[0]=this.wrapArithmeticModifier(f,"subtract"):f instanceof qn?l[0]=this.wrapArithmeticModifier(f,"divide"):f instanceof jn?l[0]=this.wrapArithmeticModifier(f,"multiply"):f instanceof nr&&(l[0]=this.wrapArithmeticModifier(f,"mod"))}if(u==0){a.pushError(U.makeSyntaxError(N.TYPE_UNSET_MODIFIER_DETAILS,a,"Invalid or missing modifier details."));continue}if(!(l[0]instanceof Xt)){a.pushError(U.makeSyntaxError(N.TYPE_MODIFIER_NAME_NOT_START_OF_DETAILS,a,"Invalid ["+X.getPrettyTypeName(l[0])+"]; expecting [T_MODIFIER_NAME]"));continue}let c=this.createModifier(l);c.nameNode!=null&&this.modifierNameMapping.set(c.nameNode,c),s+=u,i.modifierChain.modifierChain.push(c),i.modifierChain.updateValues();continue}else n.push(a)}return n}createNullCoalescenceGroups(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof ar){let a=n.pop();if(i+1>=r){s.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_EOI_WHILE_PARSING_NULL_COALESCENCE_GROUP,s,"Unexpected end of input while parsing input text."));continue}let o=e[i+1],l=new Ya;l.left=a,l.right=o,n.push(l),i+=1;continue}else n.push(s)}return n}isOperand(e){return e instanceof ge||e instanceof Be||e instanceof Nt||e instanceof Rt||e instanceof Cr||e instanceof tr||e instanceof Pr||e instanceof Bi||e instanceof as||e instanceof $s||e instanceof os||e instanceof yi||e instanceof lr||e instanceof pn}isProperMethodChainTargetStrict(e){return e instanceof Be||e instanceof Nt||e instanceof Rt||e instanceof Cr||e instanceof tr||e instanceof Pr||e instanceof Bi||e instanceof as||e instanceof $s||e instanceof os||e instanceof yi}assertOperandRight(e,n){if(n+1>e.length-1)return e[n].pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_END_OF_INPUT,e[n],"Unexpected end of input; expecting operand for operator "+X.getPrettyTypeName(e[n])+' near "'+ca.getNearText(e[n])+'".')),!1;let r=e[n+1];return this.isOperand(r)?!0:(r.pushError(U.makeSyntaxError(N.TYPE_EXPECTING_OPERAND,e[n],"Expecting operand, found "+X.getPrettyTypeName(r)+' near "'+ca.getNearText(e[n])+'".')),!1)}resolveValueRight(e,n){let r=null,i=0,s=null;if(e.length>0){let a=!0;for(;a;){let o=e[n];if(o instanceof tn){s=o,i+=1,n+=1,a=!1;continue}else if(this.isOperand(o)){r=o,a=!1;break}else{a=!1;break}}}if(i%2!=0){let a=new Be;return a.nodes=[],s!=null&&r!=null&&(a.nodes.push(s),a.nodes.push(r)),{value:a,negationCount:i}}return{value:r,negationCount:i}}correctTypes(e){let n=[];return e.forEach(r=>{if(r instanceof _n){let i=new vt;i.startPosition=r.startPosition,i.endPosition=r.endPosition,i.originalAbstractNode=r,n.push(i)}else if(r instanceof Vt){let i=new ge;i.name=r.value,i.startPosition=r.startPosition,i.endPosition=r.endPosition,i.modifierChain=r.modifierChain,i.originalAbstractNode=r,this.createdVariables.push(i),n.push(i)}else n.push(r)}),n}createTernaryGroups(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof Wn){let a=this.seek(vt,i+1);if(a.node?.originalAbstractNode!=null&&a.node.originalAbstractNode instanceof _n&&(a.node.originalAbstractNode.isTenaryBranchSeparator=!0),a.found==!1){s.pushError(U.makeSyntaxError(N.TYPE_TERNARY_EXPECTING_BRANCH_SEPARATOR,s,"Unexpected end of input; expecting [T_BRANCH_SEPARATOR]."));continue}let o=this.collectUntil(n);n=o.tokens;let l=o.collectedTokens[0],u=a.foundAt??0;if(u>=r){s.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP,s,"Unexpected end of input while parsing ternary group."));continue}let c=e.slice(i+1,u);if(c.length>1||c.length==0){s.pushError(U.makeSyntaxError(N.TYPE_TERNARY_UNEXPECTED_EXPRESSION_LENGTH,s,"Unexpected number of operations within ternary truth branch."));continue}let f=c[0],d=(a.foundAt??0)+1;if(d>=r){s.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_EOI_WHILE_PARSING_TERNARY_GROUP_FALSE_BRANCH,s,"Unexpected end of input while parsing ternary false execution branch."));continue}let h=e[d],p=new $a;p.head=l,p.truthBranch=f,p.falseBranch=h,n.push(p),i=(a.foundAt??0)+1;continue}else n.push(s)}return n}groupNodesByType(e,n){let r=[],i=e.length;for(let s=0;s<i;s++){let a=e[s];if(s>0&&a instanceof n){let o=[],l=r.pop();if(o.push(l),!this.assertOperandRight(e,s))continue;if(s+1>=i){a.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,a,"Unexpected end of input while parsing input text."));continue}let u=e[s+1];typeof u<"u"&&(u.isVirtualGroupMember=!0),typeof l<"u"&&(l.isVirtualGroupMember=!0),a.isVirtualGroupMember=!0;let c=new Be;c.nodes=o,c.nodes.push(a),c.nodes.push(u),s+=1,r.push(c);continue}else r.push(a)}return r}flagNodeAsOperatorResolve(e){if(e instanceof Be){if(e.nodes.length==0)return;this.flagNodeAsOperatorResolve(e.nodes[e.nodes.length-1])}e.isVirtualGroupOperatorResolve=!0,e.next instanceof en||(e.producesVirtualStatementTerminator=!0)}groupNodesByOperatorType(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(i>0&&Dt.isOperatorType(s)){let a=[],o=n.pop();if(a.push(o),!this.assertOperandRight(e,i))continue;if(i+1>=r){s.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_EOI_WHILE_REDUCING_NEGATION_OPERATORS,s,"Unexpected end of input while parsing input text."));continue}let l=e[i+1];this.flagNodeAsOperatorResolve(l),Dt.isAssignmentOperator(s)&&this.tracedAssignments.push(new Uu(o,l,s)),typeof o<"u"&&(o.isVirtualGroupMember=!0),typeof l<"u"&&(l.isVirtualGroupMember=!0),s.isVirtualGroupMember=!0;let u=new Be;u.nodes=a,u.nodes.push(s),u.nodes.push(l),i+=1,n.push(u);continue}else n.push(s)}return n}applyOperationOrder(e){return e=this.groupNodesByType(e,zr),e=this.groupNodesByType(e,jn),e=this.groupNodesByType(e,qn),e=this.groupNodesByType(e,Vn),e=this.groupNodesByType(e,gn),e}createLogicGroupsToRemoveMethodInvocationAmbiguity(e){let n=[],r=e.length,i=r-1;for(let s=0;s<r;s++){let a=e[s];if(a instanceof xt){let o=n.pop(),l=new Be;if(l.startPosition=o.startPosition,typeof o<"u"&&(o.isVirtualGroupMember=!0),typeof a<"u"&&(a.isVirtualGroupMember=!0),l.nodes.push(o),l.nodes.push(a),s!=i)for(let u=s+1;u<r;u++)if(e[u]instanceof xt){if(typeof e[u]>"u")continue;if(e[u].isVirtualGroupMember=!0,l.nodes.push(e[u]),u==i){u+=1;break}}else{if(u==i){u+=1;break}s=u-1;break}l.endPosition=l.nodes[l.nodes.length-1].endPosition,n.push(l)}else n.push(a)}return n}countTypeRight(e,n,r){let i=0;for(let s=n;s<e.length&&e[s]instanceof r;s++)i+=1;return i}createLogicGroupsToResolveOperatorAmbiguity(e){return e=this.groupNodesByType(e,gi),e=this.groupNodesByType(e,rr),e=this.groupNodesByType(e,xr),e=this.groupNodesByType(e,Er),e=this.groupNodesByType(e,Fr),e=this.groupNodesByType(e,In),e=this.groupNodesByType(e,wr),e=this.groupNodesByType(e,Rr),e=this.groupNodesByType(e,Or),e=this.groupNodesByOperatorType(e),e}createModifier(e){let n=e.shift(),r=[],i=e.length;if(e.length>0&&e[0]instanceof Be){let a=this.unpack(e[0].nodes),o=this.makeArgGroup(a);o.endPosition=e[0].endPosition;let l=new Ys;if(l.nameNode=n,l.methodStyleArguments=o,e.length>1)for(let u=1;u<i;u++)e[u].pushError(U.makeSyntaxError(N.TYPE_MODIFIER_UNEXPECTED_TOKEN_METHOD_SYNTAX,e[u],"Unexpected ["+X.getPrettyTypeName(e[u])+"] while parsing modifier argument group. Expecting [T_MODIFIER_SEPARATOR] or end of current expression."));return l.startPosition=n.startPosition,l.endPosition=o.endPosition,l}for(let a=0;a<i;a++)if(e[a]instanceof _n||e[a]instanceof vt){if(a+1>=i)return e[a].pushError(U.makeSyntaxError(N.TYPE_MODIFIER_UNEXPECTED_END_OF_VALUE_LIST,e[a],"Unexpected end of modifier value list while parsing modifier.")),e;let o=e[a+1];if(this.isValidModifierValue(o)){if(o instanceof ge)if(o.variableReference!=null&&o.variableReference.pathParts.length>0)o.variableReference.pathParts.forEach(l=>{if(l instanceof hn){let u=new Vt;u.startPosition=l.startPosition,u.endPosition=l.endPosition,u.value=l.name,u.name=l.name,u.originalAbstractNode=l,u.endPosition==null&&u.startPosition==null&&(u.startPosition=o.startPosition,u.endPosition=o.endPosition),r.push(u)}});else{let l=new Vt;l.startPosition=o.startPosition,l.endPosition=o.endPosition,l.value=o.name,l.name=o.name,l.originalAbstractNode=o,r.push(l)}else r.push(o);a+=1;continue}else return o.pushError(U.makeSyntaxError(N.TYPE_MODIFIER_UNEXPECTED_VALUE,o,"Unexpected ["+X.getPrettyTypeName(o)+"] while parsing modifier value.")),e}let s=new Ys;return s.nameNode=n,s.valueNodes=r,s.startPosition=s.nameNode.startPosition,s.valueNodes.length>0?s.endPosition=s.valueNodes[s.valueNodes.length-1].endPosition:s.endPosition=s.nameNode.endPosition,s}scanToEndOfModifier(e){let n=[],r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s instanceof _n){let a=n.length;if(a==0){s.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_EOI_WHILE_PARSING_MODIFIER_VALUE,s,"Unexpected end of input while parsing modifier value."));continue}this.isRealModifierSeparator.set(s,!0);let o=n[a-1];if(ut.distance(o,s)>1)break}if(s instanceof Nt||s instanceof ge||s instanceof Rt){let a=n.length;if(a>0&&n[a-1]instanceof Be)break}if(s instanceof fn||s instanceof Mt||s instanceof Bt||s instanceof In||s instanceof rr||s instanceof gi||s instanceof Er||s instanceof xr||s instanceof Rr||s instanceof wr||s instanceof Or||s instanceof Fr||s instanceof ir||s instanceof sr||s instanceof Qr||s instanceof ar||s instanceof Jr||s instanceof Lr||s instanceof Bi||s instanceof xt||s instanceof tn)break;n.push(s)}return n}static isAssignmentOperatorNode(e){return e instanceof Dr||e instanceof Sr||e instanceof Un||e instanceof Ar||e instanceof Ir||e instanceof gn}insertAutomaticStatementSeparators(e){let n=e.length,r=[];for(let i=0;i<n;i++){let s=e[i];if(Dt.isAssignmentOperatorNode(s))if(i+2<n)if(e[i+2]instanceof en){r.push(s),r.push(e[i+1]),r.push(e[i+2]),i+=2;continue}else{r.push(s),r.push(e[i+1]),r.push(new en),i+=1;continue}else{r.push(s),r.push(e[i+1]),r.push(new en);break}else r.push(s)}return e}createSemanticGroups(e){let n=[],r=e.length,i=[];for(let s=0;s<r;s++)if(e[s]instanceof en){let a=new Et;a.nodes=i,a.separatorToken=e[s],n.push(a),i=[];continue}else if(i.push(e[s]),s+1>=r){let a=new Et;a.nodes=i,n.push(a);break}return n}findLogicalGroupEnd(e,n){let r=[],i=n.length,s=null,a=0,o=0;for(o;o<i;o++){let c=n[o];if(a+=1,c instanceof Mt){s=c;break}else if(c instanceof Bt){if(o+1>=i)return c.pushError(U.makeSyntaxError(N.TYPE_UNEXPECTED_EOI_WHILE_PARSING_LOGIC_GROUP_END,c,"Unexpected end of input while parsing input text.")),{found:!1,logicalGroup:null,skipCount:a};let f=this.findLogicalGroupEnd(c,n.slice(o+1));if(f.found){f.logicalGroup!=null&&r.push(f.logicalGroup),a+=f.skipCount,o+=f.skipCount;continue}else continue}else r.push(c)}if(s==null)return e.pushError(U.makeSyntaxError(N.TYPE_LOGIC_GROUP_NO_END,e,"Unexpected end of input while parsing logic group.")),{found:!1,logicalGroup:null,skipCount:a};let l=new Dt;l.setIsRoot(!1);let u=new Be;if(r.length>=2&&r[1]instanceof pn){if(u=new or,u.scopeOperator=r[1],o+2<i&&n[o+1]instanceof ge&&n[o+2]instanceof Nt&&n[o+1].name==ze.ScopeAs){let d=n[o+2];u=new bi,u instanceof bi&&(u.alias=d),a+=2}let c=r.splice(0,2);(u instanceof or||u instanceof bi)&&(u.scope=c[0])}return u.nodes=l.parse(r),u.start=e,u.end=s,u.startPosition=e.startPosition,u.endPosition=s.endPosition,u instanceof bi&&u.alias!=null&&(u.endPosition=u.alias.endPosition),{found:!0,logicalGroup:u,skipCount:a}}unpack(e){if(e.length==0)return[];if(e[0]instanceof Et){let n=e[0];return this.unpack(n.nodes)}return e}collectUntil(e){let n=e.length,r=[];for(let i=n-1;i>=0&&!Dt.isAssignmentOperator(e[i]);i--){let s=e.pop();r.push(s)}if(r=r.reverse(),r.length>=3){let i=new Dt;return i.setIsRoot(!1),{collectedTokens:this.unpack(i.parse(r)),tokens:e}}return{collectedTokens:r,tokens:e}}seek(e,n){for(let r=n;r<this.tokens.length;r++)if(this.tokens[r]instanceof e)return{found:!0,foundAt:r,node:this.tokens[r]};return{found:!1,foundAt:null,node:null}}};var Ai=class{static findRightBeighboringNextPunctuation(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e+1;s<n.length;s++){let a=n[s];if(G.ctypeSpace(a)&&(i=!0),i&&(G.ctypeAlpha(a)||G.ctypeDigit(a)))return null;if(G.ctypePunct(a)||a==E.String_Terminator_SingleQuote||a==E.String_Terminator_DoubleQuote)return a}return null}static findRightNeighboringNextAlphaNumeric(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e+1;s<n.length;s++){let a=n[s];if((G.ctypeSpace(a)||G.ctypePunct(a)&&a!=E.Punctuation_Underscore)&&(i=!0),i&&(G.ctypeAlpha(a)||G.ctypeDigit(a)))return s+1}return null}static findLeftNeighboringNextPunctuation(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e-2;s>=0;s--){let a=n[s];if(G.ctypeSpace(a)&&(i=!0),i&&(G.ctypeAlpha(a)||G.ctypeDigit(a)))return null;if(G.ctypePunct(a))return a}return null}static findLeftNeighboringNextAlphaNumeric(e,n,r=4){n=n.replace("	"," ".repeat(r));let i=!1;for(let s=e-1;s>=0;s--){let a=n[s];if((G.ctypeSpace(a)||G.ctypePunct(a)&&a!=E.Punctuation_Underscore)&&(i=!0),i&&(G.ctypeAlpha(a)||G.ctypeDigit(a)))return s+1}return null}static scanWordAt(e,n,r=4){if(n=n.replace("	"," ".repeat(r)),e<0||e>n.length)return null;let i=[],s=[];for(let a=e-1;a>=0;a--){let o=n[a];if(G.ctypePunct(o)&&o!=E.Punctuation_Underscore||G.ctypeSpace(o))break;i.push(o)}for(let a=e;a<n.length;a++){let o=n[a];if(G.ctypePunct(o)&&o!=E.Punctuation_Underscore||G.ctypeSpace(o))break;s.push(o)}return i.reverse().join("")+s.join("")}};var Rf=class{constructor(e){this.parser=e}findParentWithName(e,n){let r=n.parent;for(;r!=null;){if(r instanceof W&&r.nameMatches(e))return r;if(r.parent==r)break;r=r.parent}return null}};var wf=class{static analyzeModifierNodeParameters(e){if(e.parameters.forEach(r=>{r.isModifierParameter=Tt.instance?.hasModifier(r.name)??!1,r.isModifierParameter&&(e.modifiers.parameterModifiers.push(r),r.modifier=Tt.instance?.getModifier(r.name)??null,e.modifiers.modifierNames.includes(r.name)==!1&&e.modifiers.modifierNames.push(r.name))}),e.modifierChain!=null&&e.modifierChain.modifierChain.length>0){let r=null;e.modifierChain.modifierChain.forEach(i=>{i.nameNode!=null&&(i.modifier=Tt.instance?.getModifier(i.nameNode.content)??null,e.modifiers.modifierNames.includes(i.nameNode.content)==!1&&e.modifiers.modifierNames.push(i.nameNode.content),i.modifier!=null&&(r=i.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=i)))}),e.modifierChain.lastModifier=r,e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}e.runtimeNodes.length>0&&e.runtimeNodes.forEach(r=>{if(r.modifierChain!=null&&r.modifierChain.modifierChain.length>0){let i=null;r.modifierChain.modifierChain.forEach(s=>{s.nameNode!=null&&(s.modifier=Tt.instance?.getModifier(s.nameNode.content)??null,e.modifiers.modifierNames.includes(s.nameNode.content)==!1&&e.modifiers.modifierNames.push(s.nameNode.content),s.modifier!=null&&(i=s.modifier,e.modifierChain!=null&&(e.modifierChain.lastManifestedModifier=s)))}),e.modifierChain!=null&&(e.modifierChain.lastModifier=i),e.modifiers.parameterModifiers.length>0&&(e.modifiers.hasMixedModifierStyles=!0)}});let n=e.modifiers.getLastManifestedModifier();if(n!=null)if(n.name=="macro"){let r=e.modifiers.getLastManifestedModifierValue();e.manifestType=Tt.instance?.getMacroManifestingType(r)??""}else e.manifestType=Tt.instance?.getProbableReturnType(n,e.isPaired())??""}};function hh(t){return t==null?!1:t=='"'||t=="'"}function X0(t,e){for(t.getCurrentIndex();t.getCurrentIndex()<t.inputLength()&&(t.checkCurrentOffsets(),e&&t.pushChar(t.getCurrent()),t.getCurrent()!=E.NewLine);t.incrementIndex());}function Q0(t,e){for(t.getCurrentIndex();t.getCurrentIndex()<t.inputLength();t.incrementIndex())if(t.checkCurrentOffsets(),e&&t.pushChar(t.getCurrent()),t.getCurrent()==E.Punctuation_Asterisk&&t.getNext()==E.Punctuation_ForwardSlash){e&&t.pushChar(E.Punctuation_ForwardSlash),t.incrementIndex(),t.checkCurrentOffsets();break}}function gh(t){let e=t.getCurrent();for(t.incrementIndex(),t.getCurrentIndex();t.getCurrentIndex()<t.inputLength()&&(t.checkCurrentOffsets(),!(t.getCurrent()==e&&t.getPrev()!=E.String_EscapeCharacter));t.incrementIndex());}var Of=class{constructor(){this.content="";this.nodeIndex=[];this.fragmentStartIndex=[];this.charLen=0;this.documentOffsets=new Map;this.inputLen=0;this.seedOffset=0;this.shiftLine=0;this.chars=[];this.currentIndex=0;this.lastDocumentOffsetKey=null;this.cur=null;this.next=null;this.prev=null;this.chunkSize=5;this.currentChunkOffset=0;this.fragments=[];this.isScript=!1;this.fragmentOpeningIndex=new Map;this.indexedFragments=new Map;this.embeddedIndexedFragments=new Map}updateIndex(e){this.currentIndex=e}inputLength(){return this.inputLen}incrementIndex(){this.currentIndex+=1}getCurrentIndex(){return this.currentIndex}getCurrent(){return this.cur}getNext(){return this.next}getPrev(){return this.prev}pushChar(e){}getChar(e){return this.chars[e]}getSeedOffset(){return this.seedOffset}setDocumentOffsets(e,n){return this.documentOffsets=e,this.lastDocumentOffsetKey=n,this}getClosingFragmentAfter(e){if(typeof e>"u")return null;let n=e.name.toLowerCase();for(let r=0;r<this.fragments.length;r++){let i=this.fragments[r];if(i.isClosingFragment&&!i.isSelfClosing&&i.name.toLowerCase()==n&&i.index>e.index)return i}return null}getContentSubstring(e,n){return this.content.substr(e,n)}resetState(){return this.fragments=[],this.inputLen=0,this.fragmentStartIndex=[],this.fragmentOpeningIndex.clear(),this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.seedOffset=0,this.cur=null,this.next=null,this.prev=null}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let o=this.documentOffsets.get(e);i=o.line,s=o.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let o=null,l=null,u=null,c=null;for(let f of this.documentOffsets.keys()){if(f>=e){c!=null&&e>c?(o=u,l=c):(o=this.documentOffsets.get(f),l=f);break}u=this.documentOffsets.get(f),c=f}o==null&&(o=u,l=c),o!=null?(s=e-(l??0),i=o.line,e<=(l??0)?(i=o.line,s=e+1):i=o.line+1):this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new Dn;return a.index=n,a.offset=e,a.line=i+this.shiftLine,a.char=s,a}getFragments(){return this.fragments}getFragmentsBetween(e,n){let r=[];return this.fragments.forEach(i=>{let s=i.startPosition?.index??0,a=i.endPosition?.index??0;s>e&&a<n&&r.push(i)}),r}getFragmentContaining(e){for(let n=0;n<this.fragments.length;n++){let r=this.fragments[n];if((r.startPosition?.index??0)<e.index&&(r.endPosition?.index??0)>e.index)return r}return null}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let n=G.split(G.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),n.forEach(r=>{this.chars.push(r),this.charLen+=1})}e&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}}processInputText(e){this.content=e,this.inputLen=this.content.length;let n=[...this.content.matchAll(/(<(?!\?[php|?=]))/gm)],r=[];n.forEach(i=>{let s=i.index??0;for(let a=0;a<this.nodeIndex.length;a++){let o=this.nodeIndex[a];if(s>=o.start&&s<=o.end)return}r.push(s)}),this.fragmentStartIndex=r}setIndexRanges(e){return this.nodeIndex=e,this}fetchAt(e,n){return this.content.substr(e,n)}getFragmentsContainingStructures(){let e=[],n=!1;return this.fragments.forEach(r=>{r.containsStructures&&(n=!0)}),this.fragments.forEach(r=>{let i=r.name.toLowerCase();if(!(i!="script"&&i!="style")&&!r.isClosingFragment&&!r.isSelfClosing&&(n||r.containsStructures)){let s=this.getClosingFragmentAfter(r);if(s!=null){let a=this.content.substring((r.endPosition?.offset??0)+1,s?.startPosition?.offset??0),o=this.content.substring(r.startPosition?.offset??0,(s?.endPosition?.offset??0)+1);e.push({start:r,end:s,content:a,outerContent:o})}}}),e}parse(e){if(this.resetState().processInputText(e),this.fragmentStartIndex.length==0)return[];for(let s=0;s<this.fragmentStartIndex.length;s++){let a=this.fragmentStartIndex[s];if(this.resetIntermediateState(),this.seedOffset=a,this.currentChunkOffset=a,this.parseIntermediateText(),this.isScript){let o=!1;for(let l=s+1;l<this.fragmentStartIndex.length;l++){let u=this.fragmentStartIndex[l];if(this.fetchAt(u,8).toLowerCase()=="<\/script"){s=l-1,this.isScript=!1,o=!0;break}}if(!o)break}}let r=0,i=0;return this.fragments.forEach(s=>{let a=s.name.toLowerCase();(a=="script"||a=="style")&&(s.embeddedIndex=i,this.embeddedIndexedFragments.set(i,s),i+=1),s.index=r,this.indexedFragments.set(r,s),r+=1}),this.fragments}getFragment(e){return this.indexedFragments.get(e)}getEmbeddedFragment(e){return this.embeddedIndexedFragments.has(e)?this.embeddedIndexedFragments.get(e):null}hasFragments(){return this.fragments.length>0}skipToEndOfPhp(){for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),hh(this.cur)&&gh(this),this.cur==E.Punctuation_ForwardSlash&&this.next==E.Punctuation_ForwardSlash){X0(this,!0);continue}if(this.cur==E.Punctuation_ForwardSlash&&this.next==E.Punctuation_Asterisk){Q0(this,!0);continue}if(this.cur==E.Punctuation_Question&&this.next==E.Punctuation_GreaterThan||this.next==null)break}}parseIntermediateText(){this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length;let e=this.currentIndex,n=[],r=[],i=!1,s=!1;for(this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),G.ctypeSpace(this.cur)&&(i=!0),this.next==E.Punctuation_LessThan){let a=1;this.cur==E.Punctuation_ForwardSlash&&(a=2);let o=this.fetchAt(this.currentChunkOffset+a,5);if(o.toLowerCase()=="<?php"||o.startsWith("<?=")){this.skipToEndOfPhp();continue}}if(this.currentIndex>0&&this.cur==E.Punctuation_LessThan||this.next==null&&this.cur!=E.Punctuation_GreaterThan)break;if(!i&&this.cur==E.Punctuation_LessThan&&this.next==E.Punctuation_ForwardSlash&&(s=!0),!i&&this.cur!=E.Punctuation_LessThan&&this.cur!=E.Punctuation_ForwardSlash&&this.cur!=E.Punctuation_GreaterThan&&r.push(this.cur),hh(this.cur)){let a=this.currentIndex;gh(this);let o=new Lu;o.startPosition=this.positionFromOffset(a+this.seedOffset,a+this.seedOffset),o.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset);let l=a+this.seedOffset,u=this.currentIndex+this.seedOffset+1;o.content=this.content.substr(l,u-l);let c=[];for(let f=a-2;f>=0;f--){let d=this.chars[f];if(G.ctypeSpace(d))break;c.push(d)}o.name=c.reverse().join(""),n.push(o);continue}if(this.cur==E.Punctuation_ForwardSlash&&this.next==E.Punctuation_GreaterThan){let a=new dl;a.startPosition=this.positionFromOffset(e+this.seedOffset,e+this.seedOffset),a.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset+1,this.currentIndex+this.seedOffset+1),a.parameters=n,a.isSelfClosing=!0,a.name=r.join(""),a.isClosingFragment=s,this.fragments.push(a),s?this.fragmentOpeningIndex.set(a.startPosition.index+1,1):this.fragmentOpeningIndex.set(a.startPosition.index,1);break}if(this.cur==E.Punctuation_GreaterThan){let a=new dl;a.startPosition=this.positionFromOffset(e+this.seedOffset,e+this.seedOffset),a.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),a.parameters=n,a.name=r.join(""),a.isClosingFragment=s,this.fragments.push(a),s?this.fragmentOpeningIndex.set(a.startPosition.index+1,1):this.fragmentOpeningIndex.set(a.startPosition.index,1),a.name.toLowerCase()=="script"&&a.isClosingFragment==!1&&(this.isScript=!0);break}}}};var Ff=class{constructor(e,n){this.documentParser=e,this.fragmentsParser=n}doesContainFragments(e){let n=e.endPosition?.index??0,r=e.isClosedBy?.startPosition?.index??0;return this.fragmentsParser.getFragmentsBetween(n,r).length>0}analyze(){let e=this.documentParser.getNodes();!this.fragmentsParser.hasFragments()||(this.fragmentsParser.getFragments().forEach(n=>{let r=n.name.toLowerCase();if(n.isClosingFragment==!1&&n.isSelfClosing==!1&&(r=="script"||r=="style")){let i=this.fragmentsParser.getClosingFragmentAfter(n);if(i==null)return;n.endPosition!=null&&i.startPosition!=null&&this.documentParser.getNodesBetween(n.endPosition,i.startPosition).forEach(a=>{(a instanceof cn||a instanceof W&&a.isClosedBy!=null)&&(n.containsStructures=!0),r=="style"?a.isInStyleTag=!0:a.isInScriptTag=!0})}}),e.forEach(n=>{if(n instanceof st||n.startPosition==null)return;n instanceof W&&(Sn.isConditionalStructure(n)||!n.isClosingTag)&&n.isClosedBy!=null&&(n.containsAnyFragments=this.doesContainFragments(n));let r=this.fragmentsParser.getFragmentContaining(n.startPosition);if(r==null){n.fragmentPosition=3;return}if(n.fragment=r,n.startPosition.index-(r.startPosition?.index??0)<=3){n.fragmentPosition=0;return}if(r.parameters.length==0){n.fragmentPosition=2;return}let s=!1;for(let a=0;a<r.parameters.length;a++){let o=r.parameters[a];if((o.startPosition?.index??0)<n.startPosition.index&&(o.endPosition?.index??0)>n.startPosition.index){n.fragmentPosition=1,n.fragmentParameter=o,s=!0;break}}s||(n.fragmentPosition=2)}))}};var Lf=class{static analyze(e){e.forEach(n=>{if(n instanceof W){if(n.prev instanceof W&&n.isPaired()&&n.prev.isInlineAntlers==!0){n.isInlineAntlers=!1,n.isClosedBy!=null&&(n.isClosedBy.isInlineAntlers=!1);return}let r=!1,i=!1;if(n.next==null)r=!0;else if(n.next instanceof st){let s=G.getFirstLine(n.next.content);(n.next.next==null&&s.trim().length==0||G.trimLeft(s," 	").startsWith(`
`)==!1&&s.trim().length>0||n.next.next instanceof zt||n.next.next instanceof W&&(n.next.next.isPaired()==!1||(n.next.next.startPosition?.line??0)!=(n.startPosition?.line??0)))&&(r=!0)}else n.next instanceof W&&n.next.isPaired()&&(r=!0);if(n.prev==null)i=!0;else if(n.prev instanceof st){let s=G.getLastLine(n.prev.content);G.trimRight(s," 	").endsWith(`
`)==!1&&s.trim().length>0||n.prev.prev instanceof zt?i=!0:n.prev.prev instanceof W&&(n.prev.prev.isInlineAntlers&&n.prev.prev.endPosition?.line==n.startPosition?.line?i=!0:n.prev.prev.isClosingTag&&n.prev.prev.isOpenedBy!=null&&(n.prev.prev.isOpenedBy instanceof zt||n.prev.prev.runtimeName()=="noparse")&&(n.prev.prev.isInlineAntlers=!0,i=!0))}else n.prev instanceof W&&n.prev.isPaired()&&(i=!0);n.isInlineAntlers=r&&i}})}};var ve=class{constructor(){this.interpolationRegions=new Map;this.nodeParser=new Ef;this.chars=[];this.charLen=0;this.lastAntlersNode=null;this.content="";this.originalContent="";this.currentIndex=0;this.currentContent=[];this.sourceContent=[];this.startIndex=0;this._recoveryStartIndex=0;this.cur=null;this.next=null;this.prev=null;this.nodes=[];this.renderNodes=[];this.isInterpolatedParser=!1;this.inputLen=0;this.documentOffsets=new Map;this.lineIndex=new Map;this.lastDocumentOffsetKey=null;this.isDoubleBrace=!1;this.interpolationEndOffsets=new Map;this.isScanningInterpolations=!1;this.seedStartLine=1;this.seedStartchar=1;this.frontMatterEndLine=-1;this.lastAntlersEndIndex=-1;this.seedOffset=0;this.antlersStartIndex=[];this.antlersStartPositionIndex=new Map;this.chunkSize=5;this.maxLine=1;this.currentChunkOffset=0;this.isNoParse=!1;this.antlersErrors=[];this.structureErrors=[];this.languageParser=new Dt;this.documentPath=null;this.pushedErrors=new Map;this.frontMatter="";this.shiftLine=0;this.doesHaveUncloseIfStructures=!1;this.doesHaveUnclosedStructures=!1;this.parseChildDocuments=!1;this.mayBeStartingEscapedContent=!1;this.isParsingEscapedContent=!1;this.escapedContentEndSymbol=null;this.escapedContentSymbolEncountered=0;this.structuralErrorCodes=[N.TYPE_PARSE_UNCLOSED_CONDITIONAL,N.TYPE_PARSE_UNPAIRED_CONDITIONAL,N.TYPE_RECURSIVE_UNPAIRED_NODE,N.TYPE_RUNTIME_FATAL_UNPAIRED_LOOP_END,N.TYPE_UNPAIRED_CLOSING_TAG];this.structure=new Rf(this);this.fragmentsParser=new Of,this.fragmentsAnalyzer=new Ff(this,this.fragmentsParser)}withChildDocuments(e){return this.parseChildDocuments=e,this}shouldParseChildDocument(){return this.parseChildDocuments}hasUnclosedIfStructures(){return this.doesHaveUncloseIfStructures}hasUnclosedStructures(){return this.doesHaveUnclosedStructures}getFrontMatter(){return this.frontMatter}setDocumentPath(e){this.documentPath=e}getFrontMatterEndLine(){return this.frontMatterEndLine}pushError(e){(e.errorCode==N.TYPE_PARSE_UNCLOSED_CONDITIONAL||e.errorCode==N.TYPE_PARSE_UNPAIRED_CONDITIONAL)&&(this.doesHaveUncloseIfStructures=!0);let n=e.hash();this.pushedErrors.has(n)||(this.pushedErrors.set(n,e),this.antlersErrors.push(e),this.structuralErrorCodes.includes(e.errorCode)&&this.structureErrors.push(e))}getInterpolationRegions(){return this.interpolationRegions}getDocumentPath(){return this.documentPath}checkCurrentOffsets(){if(this.currentIndex>this.chars.length){this.cur=null,this.prev=null,this.next=null;return}if(this.cur=this.chars[this.currentIndex],this.prev=null,this.next=null,this.currentIndex>0&&(this.prev=this.chars[this.currentIndex-1]),this.currentIndex+1<this.inputLen){let e=!0;if(this.currentIndex==this.charLen-1){let n=G.split(G.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,this.currentChunkOffset==this.inputLen&&(e=!1),n.forEach(r=>{this.chars.push(r),this.charLen+=1})}e&&this.currentIndex+1<this.chars.length&&(this.next=this.chars[this.currentIndex+1])}}charLeftAt(e){return e==null||e.char<=1?null:this.charAt(this.positionFromCursor(e.line,e.char-1))}charLeftAtCursor(e,n){return this.charLeftAt(this.positionFromCursor(e,n))}charRightAt(e){return e==null?null:this.charAt(this.positionFromCursor(e.line,e.char+1))}charRightAtCursor(e,n){return this.charRightAt(this.positionFromCursor(e,n))}punctuationLeftAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:Ai.findLeftNeighboringNextPunctuation(e.char,r,n)}punctuationLeftAtCursor(e,n,r=4){return this.punctuationLeftAt(this.positionFromCursor(e,n),r)}punctuationRightAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:Ai.findRightBeighboringNextPunctuation(e.char,r,n)}punctuationRightAtCursor(e,n,r=4){return this.punctuationRightAt(this.positionFromCursor(e,n),r)}wordRightAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let i=Ai.findRightNeighboringNextAlphaNumeric(e.char,r,n);return i==null?null:Ai.scanWordAt(i,r,n)}wordRightAtCursor(e,n,r=4){return this.wordRightAt(this.positionFromCursor(e,n),r)}wordLeftAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);if(r==null)return null;let i=Ai.findLeftNeighboringNextAlphaNumeric(e.char,r,n);return i==null?null:Ai.scanWordAt(i,r,n)}wordLeftAtCursor(e,n,r=4){return this.wordLeftAt(this.positionFromCursor(e,n),r)}wordAt(e,n=4){if(e==null)return null;let r=this.getLineText(e.line);return r==null?null:Ai.scanWordAt(e.char,r,n)}getLineText(e){let n=this.getLineIndex(e);return n!=null?G.trimRight(this.getContent().substring(n.start,n.end+1)):null}wordAtCursor(e,n,r=4){return this.wordAt(this.positionFromCursor(e,n),r)}charAt(e){return e==null?null:this.content.substr(e.offset,1)}getLinesAround(e){let n=new Map,r=e-3,i=e+3;r<1&&(r=1),i>this.maxLine&&(i=this.maxLine);for(let s=r;s<=i;s++)n.set(s,this.getLineText(s)??"");return n}charAtCursor(e,n){return this.charAt(this.positionFromCursor(e,n))}getLineIndex(e){if(e==this.maxLine){let r=this.lineIndex.get(e-1);if(r!=null){let i=r.endIndex+1;return{end:this.inputLen-1,start:i}}return null}let n=this.lineIndex.get(e);return n!=null?{start:n.startIndex,end:n.endIndex}:null}positionFromCursor(e,n){if(e==this.maxLine){let i=this.lineIndex.get(e-1);if(i!=null){let s=i.endIndex+1,a=s+(n-1),o=new Dn;return o.offset=a,o.line=e,o.char=n,o.index=a,o}return null}let r=this.lineIndex.get(e);if(r!=null){let i=new Dn;return i.offset=r.startIndex+(n-1),i.line=r.line,i.char=n,i.index=r.startIndex+(n-1),i}return null}parse(e){if(this.resetState(),!this.processInputText(e))return[];let n=this.antlersStartIndex.length,r=n-1;if(n==0&&!this.isNoParse){let u=new st;u.withParser(this),u.content=this.prepareLiteralContent(this.content),u.startPosition=this.positionFromOffset(0,0),u.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1),u.sourceContent=this.content,this.nodes.push(u)}else for(let u=0;u<n;u+=1){let c=this.antlersStartIndex[u];if(this.seedOffset=c,u==0&&c>0&&!this.isNoParse){let d=new st;if(d.withParser(this),d.content=this.prepareLiteralContent(this.content.substr(0,c)),d.content.length>0){d.startPosition=this.positionFromOffset(0,0),d.endPosition=this.positionFromOffset(c,c-1);let h=d.startPosition.index??0,p=d.endPosition.index+1;d.sourceContent=this.content.substr(h,p-h),this.nodes.push(d)}}if(c<this.lastAntlersEndIndex)continue;if(this.currentChunkOffset=c,this.resetIntermediateState(),this.parseIntermediateText(),this.lastAntlersNode!=null&&!(this.lastAntlersNode instanceof Hs)&&this.lastAntlersNode.isComment&&!(this.lastAntlersNode instanceof Ua)&&u+1<n){let d=this.antlersStartIndex[u+1];if(this.lastAntlersNode.endPosition!=null&&d<this.lastAntlersNode.endPosition.offset){let h=null;for(let p=u+1;p<n;p++)if(this.antlersStartIndex[p]>this.lastAntlersNode.endPosition.offset){h=p;break}if(h==null){let p=this.prepareLiteralContent(this.content.substr(this.lastAntlersNode.endPosition.offset+1));if(p.length>0&&!this.isNoParse){let m=new st;m.withParser(this),m.content=p;let g=this.lastAntlersNode.endPosition.offset+1;m.startPosition=this.positionFromOffset(g,g),m.endPosition=this.positionFromOffset(this.inputLen,this.inputLen);let T=m.startPosition.index??0,b=m.endPosition.index+1;m.sourceContent=this.content.substr(T,b-T),this.nodes.push(m)}break}else{let p=this.antlersStartIndex[h],m=p-this.lastAntlersNode.endPosition.offset-1;if(m>0){let g=this.lastAntlersNode.endPosition.offset,T=p-1;g+=1,T-=1;let b=this.content.substr(g,m);if(b.length>0&&!this.isNoParse){let S=new st;S.withParser(this),S.content=b,S.startPosition=this.positionFromOffset(g,g),S.endPosition=this.positionFromOffset(T,T);let B=S.startPosition.index??0,z=S.endPosition.index+1;S.sourceContent=this.content.substr(B,z-B+1),this.nodes.push(S)}continue}u=h-1;continue}}}let f=!1;if(this.antlersStartPositionIndex.has(this.currentChunkOffset)?this.lastAntlersEndIndex<this.currentChunkOffset&&(f=!0):f=!0,f){if(u+1<n){let d=this.antlersStartIndex[u+1],h=this.lastAntlersEndIndex+1;if(d<h)if(this.lastAntlersEndIndex>d)u+2<n&&(d=this.antlersStartIndex[u+2]);else continue;if(u+1==r&&d<=this.lastAntlersEndIndex){if(this.isNoParse)break;let p=this.currentChunkOffset,m=this.content.substr(h),g=new st;if(g.withParser(this),g.content=this.prepareLiteralContent(m),g.content.length>0){g.startPosition=this.positionFromOffset(h,p),g.endPosition=this.positionFromOffset(d,d-1);let T=g.startPosition.index??0,b=g.endPosition.index+1;g.sourceContent=this.content.substr(h,this.inputLen-T+2),this.nodes.push(g)}break}else{let p=d-this.lastAntlersEndIndex-1;if(p==0||this.isNoParse)continue;let g=this.currentChunkOffset;this.lastAntlersNode instanceof Ua&&(h=(this.lastAntlersNode.endPosition?.offset??0)+1,p-=(this.lastAntlersNode.endPosition?.offset??0)+1,g=h),this.lastAntlersNode instanceof Hs&&(h-=1,p+=1);let T=this.content.substr(h,p),b=new st;if(b.withParser(this),b.content=this.prepareLiteralContent(T),b.content.length>0){b.startPosition=this.positionFromOffset(h,h),b.endPosition=this.positionFromOffset(d,d-1);let S=b.startPosition.index??0,B=b.endPosition.index+1;b.sourceContent=this.content.substr(S,B-S),this.nodes.push(b)}}continue}if(u!==r&&this.lastAntlersNode!=null&&this.lastAntlersNode.endPosition!=null&&this.positionFromOffset(c,c).isBefore(this.lastAntlersNode.endPosition)){if(u+1<n){if(this.antlersStartIndex[u+1]<this.lastAntlersNode.endPosition.offset)continue}else if(u+1!=r)continue}if(u==r){let d=this.currentIndex+c;if(d<this.inputLen&&!this.isNoParse){let h=new st;if(h.withParser(this),h.content=this.prepareLiteralContent(this.content.substr(d)),h.content.length>0){h.startPosition=this.positionFromOffset(d,d),h.endPosition=this.positionFromOffset(this.inputLen-1,this.inputLen-1);let p=h.startPosition.index??0,m=h.endPosition.index+1;h.sourceContent=this.content.substr(p,m-p),this.nodes.push(h)}break}}}}let i=0;this.nodes.forEach(u=>{u.index=i,i+=1}),this.nodes.length>500&&(this.parseChildDocuments=!1),this.nodes.forEach(u=>{u instanceof W&&u.isComment||u instanceof W&&u.interpolationRegions.size>0&&(u.interpolationRegions.forEach((c,f)=>{let d=new ve;d.withChildDocuments(this.parseChildDocuments),d.setIsInterpolatedParser(!0);let h=d.parse(c.parseContent);h.length>1&&h[1]instanceof W&&(h=[h[1]]),d.hasUnclosedIfStructures()&&(this.doesHaveUncloseIfStructures=!0),d.hasUnclosedStructures()&&(this.doesHaveUnclosedStructures=!0),u.processedInterpolationRegions.set(f,h),this.mergeErrors(d.getAntlersErrors())}),u.hasProcessedInterpolationRegions=!0)}),this.content.length>0&&this.fragmentsParser.setIndexRanges(this.getNodeIndexRanges()).parse(this.content);let s=new Ul;this.renderNodes=s.associate(this.nodes,this),this.createChildDocuments(this.renderNodes);let a=null,o=null;for(let u=0;u<this.nodes.length;u++){let c=this.nodes[u];u+1<this.nodes.length?o=this.nodes[u+1]:o=null,c.next=o,c.prev=a,a=c}this.fragmentsAnalyzer.analyze(),Lf.analyze(this.nodes),this.nodes.forEach(u=>{if(u instanceof W&&u.isClosedBy!=null){let c=u.getImmediateChildren();for(let f=0;f<c.length;f++){let d=c[f];if(d instanceof W&&d.isClosedBy!=null){u.containsChildStructures=!0;break}else if(d instanceof cn){u.containsChildStructures=!0;break}}}}),this.nodes.forEach(u=>{if(u instanceof W&&u.isClosingTag&&u.isOpenedBy==null){let c="Unpaired closing tag.";u.isInterpolationNode&&(c+=" Tag pairs are not supported within Antlers tags."),u.pushError(U.makeSyntaxError(N.TYPE_UNPAIRED_CLOSING_TAG,u,c))}}),xf.associateRecursiveParent(this.nodes),this.nodes.forEach(u=>{if(!(u instanceof W&&u.isComment)&&((u instanceof W||u instanceof ct)&&(u.isInterpolationNode=this.isInterpolatedParser),(u instanceof W||u instanceof ct)&&u.interpolationRegions.size>0&&u.runtimeNodes.forEach(c=>{c instanceof ge&&u.interpolationRegions.has(c.name)&&(c.isInterpolationReference=!0,c.interpolationNodes=u.processedInterpolationRegions.get(c.name))}),(u instanceof W||u instanceof ct)&&u.hasParameters&&u.interpolationRegions.size>0&&u.parameters.forEach(c=>{u.interpolationRegions.forEach((f,d)=>{c.value.includes(d)&&c.interpolations.push(d)})}),u instanceof W&&u.runtimeNodes.length>0&&u.isClosingTag==!1&&!u.isComment&&(u.parsedRuntimeNodes=this.languageParser.parse(u.runtimeNodes),u.hasParsedRuntimeNodes=!0,!u.isTagNode&&u.parsedRuntimeNodes.length>0))){let c=u.nodeAtIndex(0);c!=null&&c instanceof ge&&c.name==u.name?.name&&(u.modifierChain=c.modifierChain)}}),this.languageParser.getCreatedModifierChains().forEach(u=>{u.modifierChain.length>0&&u.modifierChain.forEach(c=>{c.nameNode!=null&&Tt.instance!=null&&Tt.instance.hasModifier(c.nameNode?.name)&&(c.modifier=Tt.instance?.getModifier(c.nameNode.name))})});let l=1;return this.nodes.forEach(u=>{if(u instanceof W){if(u.isComment)return;u.isTagNode=wn.instance?.isKnownTag(u.getTagName())??!1,u.scopeName=u.findParameterValue("scope",""),u.antlersNodeIndex=l,l+=1,wf.analyzeModifierNodeParameters(u)}}),this.nodes.forEach(u=>{if(u instanceof W&&u.isClosedBy!=null){let c=(u.endPosition?.offset??0)+1,f=u.isClosedBy.startPosition?.offset??0,d=u.startPosition?.offset??0,h=(u.isClosedBy.endPosition?.offset??0)+1;u.documentText=this.content.substr(c,f-c),u.nodeContent=this.content.substr(d,h-d),this.parseChildDocuments&&(u.childDocument=wt.childFromText(u.documentText,ql(u.children)))}}),this.renderNodes}createChildDocuments(e){e.forEach(n=>{if(n instanceof W&&n.isClosedBy!=null){let r=n.isClosedBy,i=(n.startPosition?.index??0)-1,s=(r.endPosition?.index??0)-i;if(n.documentText=this.content.substr(i,s),this.parseChildDocuments){let a=n.endPosition?.index??0,o=(r.startPosition?.index??0)-1-a,l=this.content.substr(a,o);n.childDocument=wt.childFromText(l,ql(n.getChildren()))}}})}getNodeIndexRanges(){let e=[];return this.nodes.forEach(n=>{n instanceof st||e.push({start:n.startPosition?.index??0,end:n.endPosition?.index??0})}),e}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let o=this.documentOffsets.get(e);i=o.line,s=o.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let o=null,l=null,u=null,c=null;for(let f of this.documentOffsets.keys()){if(f>=e){c!=null&&e>c?(o=u,l=c):(o=this.documentOffsets.get(f),l=f);break}u=this.documentOffsets.get(f),c=f}if(o==null&&(o=u,l=c),o!=null)if(r){let f=this.content.split(""),d=e-(l??0),h=o.char-(l??0)+e;s=d,i=o.line,e<=(l??0)?(i=o.line,s=e+1):i=o.line+1}else{let f=this.content.split(""),d=e-(l??0),h=o.char-(l??0)+e;s=d,i=o.line,e<=(l??0)?(i=o.line,s=e+1):i=o.line+1}else this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new Dn;return a.index=n,a.offset=e,a.line=i+this.shiftLine,a.char=s,a}getLanguageParser(){return this.languageParser}getText(e,n){return this.content.substr(e,n-e)}getOriginalContent(){return this.originalContent}getContent(){return this.content}getFragments(){return this.fragmentsParser.getFragments()}getFragmentsParser(){return this.fragmentsParser}getFragmentsContainingStructures(){return this.fragmentsParser.getFragmentsContainingStructures()}setIsInterpolatedParser(e){return this.isInterpolatedParser=e,this}setStartLineSeed(e){return this.seedStartLine=e,this}setSeedStartChar(e){return this.seedStartchar=e,this}resetIntermediateState(){this.chars=[],this.charLen=0,this.currentIndex=0,this.currentContent=[],this.sourceContent=[],this.cur=null,this.next=null,this.prev=null}setSeedPosition(e){return e==null?this.shiftLine=0:this.shiftLine=e.line,this}resetState(){if(this.languageParser.reset(),this.charLen=0,this.antlersStartIndex=[],this.antlersErrors=[],this.pushedErrors.clear(),this.antlersStartPositionIndex.clear(),this.lastAntlersEndIndex=-1,this.renderNodes=[],this.nodes=[],zi.globalTagEnterStack.length>0){let e=zi.globalTagEnterStack[zi.length-1];e!=null&&e.endPosition!=null&&this.setStartLineSeed(e.endPosition.line)}this.seedOffset=0,this.isScanningInterpolations=!1,this.content="",this.chars=[],this.currentIndex=0,this.startIndex=0,this._recoveryStartIndex=0,this.cur=null,this.next=null,this.prev=null,this.inputLen=0,this.documentOffsets.clear(),this.isDoubleBrace=!1,this.interpolationRegions.clear(),this.interpolationEndOffsets.clear()}fetch(e){let n=this.currentChunkOffset+this.chunkSize-this.chars.length;return G.substring(this.content,n,e)}getParsedContent(){return this.content}peek(e){if(e==this.charLen){let n=G.split(G.substring(this.content,this.currentChunkOffset+this.chunkSize,this.chunkSize));this.currentChunkOffset+=this.chunkSize,n.forEach(r=>{this.chars.push(r),this.charLen+=1})}return this.chars[e]}parseIntermediateText(){for(this.currentContent=[],this.sourceContent=[],this.startIndex=0,this.chars=this.content.substr(this.currentChunkOffset,this.chunkSize).split(""),this.charLen=this.chars.length,this.currentIndex=0;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==ve.LeftBrace&&this.next==ve.LeftBrace&&this.prev==ve.AtChar){this.dumpLiteralNode(this.currentIndex);let e=new zt;e.withParser(this),e.name=new On,e.name.name="noparse",e.content="{{",e.startPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),e.endPosition=this.positionFromOffset(this.currentIndex+this.seedOffset,this.currentIndex+this.seedOffset),this.nodes.push(e),this.currentContent=[],this.sourceContent=[],this.currentIndex+=1;continue}if((this.prev==null||this.prev!=null&&this.prev!=ve.AtChar)&&this.next!=null&&this.cur==ve.LeftBrace&&this.next==ve.LeftBrace){this.dumpLiteralNode(this.currentIndex);let e=null;if(this.currentIndex+2<this.inputLen&&(e=this.peek(this.currentIndex+2)),e==ve.Punctuation_Question&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(ve.Punctuation_Question),this.isDoubleBrace=!1;break}if(e==ve.Punctuation_Dollar&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfPhpRegion(ve.Punctuation_Dollar),this.isDoubleBrace=!1;break}if(e==ve.Punctuation_Octothorp&&!this.isNoParse){this.isDoubleBrace=!0,this.currentIndex+=3,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersCommentRegion(),this.isDoubleBrace=!1;break}if(!this.isNoParse)this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1;else if(this.fetch(11).replace(" ","").toLocaleLowerCase().startsWith("{{/noparse")){this.startIndex=this.currentIndex,this._recoveryStartIndex=this.currentIndex,this.isDoubleBrace=!0,this.currentIndex+=2,this._recoveryStartIndex=this.currentIndex,this.scanToEndOfAntlersRegion(),this.isDoubleBrace=!1,this.isNoParse=!1;break}else{this.currentContent.push(this.cur);continue}break}if(this.cur==ve.AtChar&&this.next!=null&&this.next==ve.LeftBrace){if(this.currentIndex+2>=this.inputLen){this.appendContent(this.next),this.dumpLiteralNode(this.currentIndex+1);break}let e=0;for(let n=this.currentIndex+1;n<this.inputLen&&this.chars[n]==ve.LeftBrace;n+=1)e+=1;this.currentContent=this.currentContent.concat(ve.LeftBrace.repeat(e).split("")),this.sourceContent=this.currentContent.concat(ve.LeftBrace.repeat(e).split("")),this.currentIndex+=e}this.appendContent(this.cur),this.next==null&&this.currentContent.length>0&&this.dumpLiteralNode(this.currentIndex)}}getRenderNodes(){return this.renderNodes}processInputText(e){if(this.originalContent=e,this.content=G.normalizeLineEndings(e),this.inputLen=this.content.length,this.content.startsWith("---")){let f=this.content.split(`
`),d=[],h=[];h.push("");for(let p=1;p<f.length;p++){let m=f[p];if(m.startsWith("---")){h.push(""),h=h.concat(f.slice(p+1)),this.content=h.join(`
`),this.frontMatter=d.join(`
`),this.frontMatterEndLine=p+1;break}else d.push(m),h.push("")}}let n=[...this.content.matchAll(/(\n)/gm)],r=n.length,i=this.seedStartLine,s=null,a=0,o=0;for(let f=0;f<r;f++){let d=n[f],h=d.index??0,p=h;s!=null?p=h-s:p=p+1,this.documentOffsets.set(h,{char:p,line:i});let m=0,g=0;f==0?(g=p-1,m=0):(m=o+1,g=h),this.lineIndex.set(i,{char:p,line:i,startIndex:m,endIndex:g}),this.lastDocumentOffsetKey=h,this.maxLine=i,i+=1,s=h,o=g,a=m}this.maxLine+=1;let l=[...this.content.matchAll(/@?{{/gm)],u=0,c=!1;return l.forEach(f=>{let d=f[0];if(d.startsWith(ve.AtChar)){u=this.content.indexOf(d,u)+2,c=!0;return}let h=this.content.indexOf(d,u);if(c&&u==h){u=h;return}this.antlersStartIndex.push(h),this.antlersStartPositionIndex.set(h,1),u=h+2,c=!1}),!0}prepareLiteralContent(e){return e.replace("@{{","{{")}scanToEndOfPhpRegion(e){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==e&&this.next!=null&&this.next==ve.RightBrace&&this.peek(this.currentIndex+2)==ve.RightBrace){let r=this.makeAntlersPhpNode(this.currentIndex,e==ve.Punctuation_Dollar);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.startIndex=this.currentIndex,this._recoveryStartIndex=this.startIndex,this.nodes.push(r),this.lastAntlersNode=r;break}if(this.appendContent(this.cur),this.next==null){let n=this.makeAntlersPhpFailedNode(this.currentIndex);this.nodes.push(n),this.lastAntlersNode=n,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(U.makeSyntaxError(N.TYPE_INCOMPLETE_PHP_EVALUATION_REGION,n,"Unexpected end of input while parsing Antlers PHP region."));break}}}appendContent(e){e!=null&&(this.currentContent.push(e),this.sourceContent.push(e))}scanToEndOfAntlersCommentRegion(){for(this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==ve.Punctuation_Octothorp&&this.next!=null&&this.next==ve.RightBrace&&this.peek(this.currentIndex+2)==ve.RightBrace){let n=this.makeAntlersTagNode(this.currentIndex,!0);this.currentContent=[],this.sourceContent=[],this.currentIndex+=3,this.nodes.push(n),this.lastAntlersNode=n;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersCommentFailedNode(this.currentIndex);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(U.makeSyntaxError(N.TYPE_INCOMPLETE_ANTELRS_COMMENT_REGION,e,"Unexpected end of input while parsing Antlers comment region."));break}}}scanToEndOfInterpolatedRegion(){this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0);let e=[];this.isScanningInterpolations=!0;let n=0;for(this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1)if(this.checkCurrentOffsets(),this.cur==ve.LeftBrace){if(this.prev==ve.AtChar){e.push(this.cur);continue}n+=1,e.push(this.cur)}else if(this.cur==ve.RightBrace){if(this.prev==ve.AtChar){e.push(this.cur);continue}if(n-=1,e.push(this.cur),n==0){this.interpolationEndOffsets.set(this.currentIndex,1);break}}else this.cur!=null&&e.push(this.cur);let r=e.join(""),s=("int_"+J0.Md5.hashStr(r)).substr(0,r.length),a=s.length,o=r.length;if(a<o){let l=o-a;s+="x".repeat(l)}return this.isScanningInterpolations=!1,{content:r,varContent:s}}bordersInterpolationRegion(e){if(this.interpolationEndOffsets.size==0)return!1;let n=e.offset-1;return n<=0?!1:this.interpolationEndOffsets.has(n)}getParseableContent(e){let n="";for(let r=0;r<=e;r++)this.content[r]==ve.LeftBrace||this.content[r]==ve.RightBrace?n+="~":n+=this.content[r];return n}resetEscapedContentState(){this.mayBeStartingEscapedContent=!1,this.isParsingEscapedContent=!1,this.escapedContentEndSymbol=null,this.escapedContentSymbolEncountered=0}scanToEndOfAntlersRegion(){for(this.resetEscapedContentState(),this.currentIndex==this.inputLen&&(this.doesHaveUnclosedStructures=!0),this.currentIndex;this.currentIndex<this.inputLen;this.currentIndex+=1){if(this.checkCurrentOffsets(),this.cur==ve.LeftBrace&&this.prev==ve.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.isInterpolatedParser&&this.cur==ve.RightBrace&&this.prev==ve.AtChar){this.currentContent.pop(),this.appendContent(this.cur);continue}if(this.isParsingEscapedContent&&this.cur==this.escapedContentEndSymbol&&this.prev!=ve.String_EscapeCharacter&&(this.escapedContentSymbolEncountered+=1,this.escapedContentSymbolEncountered>=2&&this.resetEscapedContentState()),this.mayBeStartingEscapedContent&&(this.cur!=null&&G.ctypeSpace(this.cur)||this.next==null?this.resetEscapedContentState():this.cur==ve.Punctuation_Equals&&(this.next==ve.String_Terminator_SingleQuote||this.next==ve.String_Terminator_DoubleQuote)&&(this.mayBeStartingEscapedContent=!1,this.isParsingEscapedContent=!0,this.escapedContentEndSymbol=this.next,this.escapedContentSymbolEncountered=0)),this.cur==ve.String_EscapeCharacter&&this.prev!=null&&G.ctypeSpace(this.prev)&&this.next!=null&&(G.ctypeAlpha(this.next)||this.next==ve.Punctuation_Underscore||this.next==ve.AtChar)&&(this.mayBeStartingEscapedContent=!0),!this.isParsingEscapedContent&&this.cur==ve.LeftBrace){let e=this.scanToEndOfInterpolatedRegion(),n=this.currentIndex+this.seedOffset,r=n-e.content.length,i=this.getParseableContent(r-1);zi.interpolatedVariables.push(e.varContent),this.currentContent=this.currentContent.concat(e.varContent.split("")),this.sourceContent=this.sourceContent.concat(e.content.split(""));let s=i+"{"+e.content+"}";this.interpolationRegions.set(e.varContent,{content:e.content,parseContent:s,varContent:e.varContent,startOffset:r,endOffset:n});continue}if(!this.isParsingEscapedContent&&this.cur==ve.RightBrace&&this.next!=null&&this.next==ve.RightBrace){let e=this.makeAntlersTagNode(this.currentIndex,!1);e.name!=null&&e.name.name=="noparse"&&(this.isNoParse=!0),this.currentIndex+=2,this.nodes.push(e),this.lastAntlersNode=e;break}if(this.appendContent(this.cur),this.next==null){let e=this.makeAntlersFailedNode(this.currentIndex,!1);this.nodes.push(e),this.lastAntlersNode=e,this.doesHaveUnclosedStructures=!0;let n="Unexpected end of input while parsing Antlers region.";this.isScanningInterpolations&&(n="Unexpected end of input wihle parsing interpolated Antlers region."),this.antlersErrors.push(U.makeSyntaxError(N.TYPE_INCOMPLETE_ANTLERS_REGION,e,n));break}}}makeAntlersPhpNode(e,n){let r=new Hs;return n?(r.rawStart="{{$",r.rawEnd="$}}"):(r.rawStart="{{?",r.rawEnd="?}}"),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+3>this.inputLen?(r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(U.makeSyntaxError(N.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r):(this.lastAntlersEndIndex=e+3+this.seedOffset,r.endPosition=this.positionFromOffset(e+this.seedOffset,e+3+this.seedOffset),r)}makeAntlersPhpFailedNode(e){let n=new Mu;n.rawStart="{{$",n.rawEnd="$}}",n._isEndVirtual=!0,n.content=this.currentContent.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let r=this.getLineText(n.startPosition.line),i=this.getLineIndex(n.startPosition.line);if(r!=null){let a=r.substr(this._recoveryStartIndex);n.content=a,n.sourceContent=a}let s=e+this.seedOffset;return i!=null&&(this.currentIndex=i.end,s=i.end),n.endPosition=this.positionFromOffset(s,s),n}makeAntlersCommentFailedNode(e){let n=new Ua;this.isDoubleBrace?(n.rawStart="{{",n.rawEnd="}}"):(n.rawStart="{",n.rawEnd="}"),n._isEndVirtual=!0;let r=!1,i=this.currentContent.length;i>0&&this.currentContent[i-1]==ve.Punctuation_ForwardSlash&&(this.currentContent.pop(),r=!0),n.isComment=!0,n.isSelfClosing=r,n.withParser(this),n.content=this.currentContent.join(""),n.sourceContent=this.sourceContent.join(""),n.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let s=this.getLineText(n.startPosition.line),a=this.getLineIndex(n.startPosition.line);if(s!=null){let l=s.substr(this._recoveryStartIndex);n.content=l,n.sourceContent=l}let o=e+this.seedOffset;return a!=null&&(this.currentIndex=a.end,o=a.end),n.endPosition=this.positionFromOffset(o,o),n.interpolationRegions=new Map,this.interpolationRegions.forEach((l,u)=>{n.content.includes(u)&&n.interpolationRegions.set(u,l)}),n}makeAntlersFailedNode(e,n){let r=new ct;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}"),r._isEndVirtual=!0;let i=!1,s=this.currentContent.length;s>0&&this.currentContent[s-1]==ve.Punctuation_ForwardSlash&&(this.currentContent.pop(),i=!0),r.isComment=n,r.isSelfClosing=i,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset);let a=this.getLineText(r.startPosition.line),o=this.getLineIndex(r.startPosition.line);if(a!=null){let c=G.trimLeft(this.content.substring(r.startPosition.offset+r.rawStart.length-1,o?.end),"{");r.content=c,r.sourceContent=c}let l=e+this.seedOffset;o!=null&&(this.currentIndex=o.end,l=o.end),r.endPosition=this.positionFromOffset(l,l),r.interpolationRegions=new Map,this.interpolationRegions.forEach((c,f)=>{r.content.includes(f)&&r.interpolationRegions.set(f,c)});let u=this.nodeParser.parseNode(r);return this.mergeErrors(u.getErrors()),u}makeAntlersTagNode(e,n){let r=new W;this.isDoubleBrace?(r.rawStart="{{",r.rawEnd="}}"):(r.rawStart="{",r.rawEnd="}");let i=!1,s=this.currentContent.length;if(s>0&&this.currentContent[s-1]==ve.Punctuation_ForwardSlash&&(this.currentContent.pop(),i=!0),r.isInterpolationNode=this.isInterpolatedParser,r.isComment=n,r.isSelfClosing=i,r.withParser(this),r.content=this.currentContent.join(""),r.sourceContent=this.sourceContent.join(""),r.startPosition=this.positionFromOffset(this.startIndex+this.seedOffset,this.startIndex+this.seedOffset),e+2>this.inputLen)return r.endPosition=this.positionFromOffset(this.inputLen,this.inputLen-1),this.doesHaveUnclosedStructures=!0,this.antlersErrors.push(U.makeSyntaxError(N.TYPE_UNEXPECTED_EOI_WHILE_MANIFESTING_ANTLERS_NODE,r,"Unexpected end of input while locating end of Antlers region.")),r;if(n?this.lastAntlersEndIndex=e+2+this.seedOffset:this.lastAntlersEndIndex=e+1+this.seedOffset,r.endPosition=this.positionFromOffset(this.lastAntlersEndIndex,this.lastAntlersEndIndex),r.interpolationRegions=new Map,this.interpolationRegions.forEach((o,l)=>{r.content.includes(l)&&r.interpolationRegions.set(l,o)}),r.isComment)return r;let a=this.nodeParser.parseNode(r);return this.mergeErrors(a.getErrors()),a}mergeErrors(e){e.forEach(n=>{this.antlersErrors.push(n)})}getNodes(){return this.nodes}getNodesBetween(e,n){let r=[];return this.nodes.forEach(i=>{(i.startPosition?.offset??0)>e.offset&&(i.endPosition?.offset??0)<n.offset&&r.push(i)}),r}antlersNodes(){return this.nodes.filter(function(e){return e instanceof W})}dumpLiteralNode(e){this.isNoParse||(this.currentContent.length>0&&this.nodes.push(this.makeLiteralNode(this.currentContent,this.startIndex,e)),this.currentContent=[],this.sourceContent=[])}makeLiteralNode(e,n,r){let i=new st;return i.content=e.join(""),i.sourceContent=this.sourceContent.join(""),i.startPosition=this.positionFromOffset(n,n),i.endPosition=this.positionFromOffset(r,r),i.sourceContent=this.content.substr(n,r),i.withParser(this),i}addAntlersError(e){this.antlersErrors.push(e)}getAntlersErrors(){return this.antlersErrors}getStructureErrors(){return this.structureErrors}},E=ve;E.K_CHAR="char",E.K_LINE="line",E.NewLine=`
`,E.AtChar="@",E.LeftBrace="{",E.RightBrace="}",E.LeftBracket="[",E.RightBracket="]",E.String_EscapeCharacter="\\",E.String_Terminator_DoubleQuote='"',E.String_Terminator_SingleQuote="'",E.Punctuation_Question="?",E.Punctuation_Equals="=",E.Punctuation_Comma=",",E.Punctuation_Colon=":",E.Punctuation_Semicolon=";",E.Punctuation_Exclamation="!",E.Punctuation_Pipe="|",E.Punctuation_Ampersand="&",E.Punctuation_LessThan="<",E.Punctuation_GreaterThan=">",E.Punctuation_Octothorp="#",E.Punctuation_Tilde="~",E.Punctuation_FullStop=".",E.Punctuation_Dollar="$",E.Punctuation_Asterisk="*",E.Punctuation_Percent="%",E.Punctuation_Plus="+",E.Punctuation_Minus="-",E.Punctuation_Underscore="_",E.Punctuation_ForwardSlash="/",E.Punctuation_Caret="^",E.LeftParen="(",E.RightParent=")";var gt=class{static findAssignmentNodes(e){let n=[];for(let r=0;r<e.length;r++)Dt.isAssignmentOperatorNode(e[r])&&n.push(e[r]);return n}static findAbstractNodesBefore(e,n){return this.findAbstractNodesBeforePosition(e.startPosition,n)}static findAbstractNodesBeforePosition(e,n){if(e==null)return[];let r=[];for(let i=0;i<n.length;i++){let s=n[i];if(s.startPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static isBefore(e,n){return e.startPosition==null?!1:e.startPosition.index<n.index}static isAfter(e,n){return e.startPosition==null?!1:e.startPosition.index>n.index}static findNodesBeforePosition(e,n){let r=[];if(e==null)return r;for(let i=0;i<n.length;i++){let s=n[i];if(!gt.isLiteralType(s)&&s.startPosition!=null&&s.endPosition!=null){if(s.startPosition.index>e.index)break;r.push(s)}}return r}static findNodesAfterPosition(e,n){let r=[];if(e==null)return r;for(let i=0;i<n.length;i++){let s=n[i];gt.isLiteralType(s)||s.startPosition!=null&&s.startPosition.index>e.index&&r.push(s)}return r}static findNodeBeforePosition(e,n){if(e==null)return null;let r=null;for(let i=0;i<n.length;i++){let s=n[i];if(!gt.isLiteralType(s)&&s.startPosition!=null){if(s.startPosition.index>e.index)break;r=s}}return r}static findNodeAfterPosition(e,n){if(e==null)return null;for(let r=0;r<n.length;r++){let i=n[r];if(!gt.isLiteralType(i)&&i.startPosition!=null&&i.startPosition.index>e.index)return i}return null}static findNodeAtPosition(e,n){if(e==null)return null;for(let r=0;r<n.length;r++){let i=n[r];if(!gt.isLiteralType(i)&&i.startPosition!=null&&i.endPosition!=null&&e.index>=i.startPosition.index&&e.index<=i.endPosition.index)return i}return null}static isLiteralType(e){return e instanceof zt||e instanceof st}};var Mo=class{static isModifierLeftOf(e,n){return Mo.isModifierLeftOfPosition(e.startPosition,n)}static isModifierLeftOfPosition(e,n){let r=gt.findAbstractNodesBeforePosition(e,n);for(let i=r.length-1;i>=0;i--){let s=r[i];if(s instanceof Bt&&i-1>0&&r[i-1]instanceof Xt)return!0;if(s instanceof Mt){if(i==r.length-1)continue;return!1}if(s instanceof Bt)return!1;if(s instanceof fn)return!0}return!1}};var Bo=class{constructor(){this.isRightOfOperator=!1;this.isLeftOfOperator=!1}static resolveContext(e,n,r){let i=new Bo;return r!=null&&(r.prev!=null&&Dt.isOperatorType(r.prev)&&(i.isRightOfOperator=!0),r.next!=null&&Dt.isOperatorType(r.next)&&(i.isLeftOfOperator=!0)),i}};var kf=class{constructor(){this.inTagPart=!1;this.inMethodPart=!1}};var Vo=class{constructor(){this.modifierChain=null;this.activeModifier=null;this.name="";this.inModifierName=!1;this.inModifierParameter=!1;this.valueCount=0;this.activeValueIndex=-1;this.activeValue=null}static resolveContext(e,n,r,i){let s=n.getParser(),a=new Vo,o=s.getLanguageParser().getCreatedModifierChains(),l=null;for(let c=0;c<o.length;c++){let f=o[c];if(e.isWithin(f.startPosition,f.endPosition,2)){for(let d=0;d<f.modifierChain.length;d++){let h=f.modifierChain[d];if(e.isWithin(h.startPosition,h.endPosition,2)){l=h;break}}if(l!=null)break}}l==null&&r instanceof Xt&&i.getDocumentParser().getLanguageParser().hasModifierConstruct(r)&&(l=i.getDocumentParser().getLanguageParser().getModifierConstruct(r));let u=i.wordLeftAt(e);if(l==null&&u!=null&&Tt.instance?.hasModifier(u)&&n.modifierChain!=null&&n.modifierChain.modifierChain.length>0)for(let c=0;c<n.modifierChain.modifierChain.length;c++){let f=n.modifierChain.modifierChain[c];if(f.modifier!=null&&f.modifier.name==u){l=f;break}}if(l!=null){if(a.activeModifier=l,l.nameNode!=null&&(a.name=l.nameNode.name),l.nameNode!=null&&e.isWithin(l.nameNode.startPosition,l.nameNode.endPosition,1)&&(a.inModifierName=!0),l.methodStyleArguments!=null){if(a.valueCount=l.methodStyleArguments.args.length,!a.inModifierName){for(let c=0;c<l.methodStyleArguments.args.length;c++){let f=l.methodStyleArguments.args[c];e.isWithin(f.startPosition,f.endPosition,1)&&(a.activeValueIndex=c,a.activeValue=f)}a.activeValueIndex===-1&&e.isWithin(l.methodStyleArguments.startPosition,l.methodStyleArguments.endPosition)&&(a.valueCount+=1,a.activeValueIndex=a.valueCount-1)}}else if(a.valueCount=l.valueNodes.length,!a.inModifierName)for(let c=0;c<l.valueNodes.length;c++){let f=l.valueNodes[c];if(e.isWithin(f.startPosition,f.endPosition,1)){a.activeValueIndex=c,a.activeValue=f;break}}}return a}};var qo=class{constructor(){this.parameter=null;this.isInName=!1;this.isInValue=!1}static resolveContext(e,n){let r=new qo;return r.parameter=n,e.isWithinRange(n.namePosition)?r.isInName=!0:e.isWithinRange(n.valuePosition)&&(r.isInValue=!0),r}};var Mf=class{constructor(){this.refId="";this.node=null;this.leftPunctuation=null;this.rightPunctuation=null;this.leftChar=null;this.rightChar=null;this.word=null;this.char=null;this.interpolatedContext=!1;this.leftWord=null;this.rightWord=null;this.isCursorInIdentifier=!1;this.root=null;this.identifierContext=null;this.position=null;this.feature=null;this.isInParameter=!1;this.subContext=null;this.parameterContext=null;this.modifierContext=null;this.generalContext=null;this.variableContext=null;this.cursorContext=_h.Unknown;this.refId=ja()}},_h=(a=>(a[a.Unknown=0]="Unknown",a[a.Variable=1]="Variable",a[a.Modifier=2]="Modifier",a[a.Parameter=3]="Parameter",a[a.General=4]="General",a[a.LanguageOperator=5]="LanguageOperator",a))(_h||{});var jo=class{constructor(){this.variableNode=null;this.varPathText=""}static resolveContext(e,n,r,i){if(r==null)return null;let s=r,a=i.getDocumentParser().getLanguageParser(),o=new jo,l=i.wordAt(e)??"";r instanceof vt&&a.isMergedVariableComponent(r)==!1&&r.prev instanceof ge&&(s=r.prev);let u="";if(a.isMergedVariableComponent(s)){let f=a.getMergedVariable(s);f.startPosition!=null&&(u=i.getText(f.startPosition.index,e.index).trim()),o.variableNode=f}else s instanceof ge&&(o.variableNode=s,u=s.name,s.variableReference!=null&&(u=s.variableReference.normalizedReference));u.length>0&&(u=An(u,"\\.",":"));let c=u.split(":");return l.trim().length>0&&c.pop(),u=c.join(":"),u.endsWith(":")&&(u=Kp(u,":")),o.varPathText=u,o}};var Ii=class{static resolveIdentifierContext(e,n){let r=new kf;return n.nameMethodPartStartsOn!=null?e.char<n.nameMethodPartStartsOn.char?(r.inTagPart=!0,r.inMethodPart=!1):(r.inTagPart=!1,r.inMethodPart=!0):(r.inMethodPart=!1,r.inTagPart=!0),r}static resolveContext(e,n,r,i=!1,s=null){if(n==null||e==null)return null;if(n instanceof Bn||n instanceof W){let a=new Mf;if(n.nameStartsOn!=null&&e.line==n.nameStartsOn.line){let u=!1;e.char>=n.nameStartsOn.char&&(u=!0),n.nameEndsOn!=null&&e.char>n.nameEndsOn.char&&(u=!1),u&&(a.isCursorInIdentifier=!0,a.identifierContext=Ii.resolveIdentifierContext(e,n))}n.addContext(a),s?.addContext(a),a.interpolatedContext=i,a.node=n,a.position=e,a.root=s,a.leftPunctuation=r.punctuationLeftAt(e),a.rightPunctuation=r.punctuationRightAt(e),a.leftChar=r.charLeftAt(e),a.rightChar=r.charRightAt(e),a.isCursorInIdentifier==!0&&a.leftChar==" "&&(a.leftChar=":"),a.word=r.wordAt(e),a.char=r.charAt(e),a.leftWord=r.wordLeftAt(e),a.rightWord=r.wordRightAt(e);let o=!1;if(n.parameters.length>0)for(let u=0;u<n.parameters.length;u++){let c=n.parameters[u];if(c.blockPosition!=null&&c.blockPosition.start!=null&&c.blockPosition.end!=null&&e.char>c.blockPosition.start.char&&e.char<=c.blockPosition.end.char+1&&e.line>=(c.namePosition?.start?.line??c.blockPosition.start.line)&&e.line<=(c.valuePosition?.end?.line??c.blockPosition.end.line)){a.cursorContext=3,a.parameterContext=qo.resolveContext(e,c),a.isInParameter=!0,a.feature=c,o=!0;break}}if(o||n.runtimeNodes.forEach(u=>{u.startPosition!=null&&u.endPosition!=null&&e.isWithin(u.startPosition,u.endPosition,1)&&(a.feature=u)}),o&&n.interpolationRegions.size>0){let u=Array.from(n.interpolationRegions,([c,f])=>f);for(let c=0;c<u.length;c++){let f=u[c];if(e.index>=f.startOffset&&e.index<=f.endOffset){let d=n.getInterpolationNode(f.varContent);return Ii.resolveContext(e,d,r,!0,s)}}}return a.feature instanceof ge&&a.feature.isInterpolationReference&&a.feature.parent!=null&&a.feature.parent instanceof W&&a.feature.parent.processedInterpolationRegions.has(a.feature.name)?Ii.resolveContext(e,a.feature.parent.getInterpolationNode(a.feature.name),r,!0,s):(Mo.isModifierLeftOfPosition(e,n.runtimeNodes)?(a.cursorContext=2,a.modifierContext=Vo.resolveContext(e,n,a.feature,r)):o||(a.cursorContext=4,a.generalContext=Bo.resolveContext(e,n,a.feature)),a.variableContext=jo.resolveContext(e,n,a.feature,r),a)}return null}};var As=class{static isPairedNode(e){return e instanceof cn?!0:e instanceof Bn||e instanceof W?e.isClosedBy!=null:!1}static findAncestorsBeforePosition(e,n){let r=[],i=[],s=-1,a=-1;for(let o=0;o<n.length;o++){let l=n[o];if(l.isClosedBy!=null&&l.isClosedBy.endPosition?.isBefore(e)&&(i.push(l),i.push(l.isClosedBy),s=l.isClosedBy.endPosition.line,a=l.isClosedBy.endPosition.char),!(s>-1&&l.endPosition!=null&&(l.endPosition.line<s||l.endPosition.line==s&&a>-1&&l.endPosition.char<a))){if(l.startPosition!=null){if(e.isBefore(l.startPosition))break;if(l.startPosition.line==e.line&&e.char<=l.startPosition.char){i.push(l);continue}}if(wn.instance?.requiresClose(l)&&l.isClosedBy!=null){let u=l.isClosedBy;if(u.startPosition?.isBefore(e)){i.push(l),i.push(u);continue}else u.startPosition?.line==e.line&&u.startPosition?.char<e.char?i.push(l):r.push(l)}else if(l.parent!=null){let u=l.parent;if(i.includes(u)){i.push(l);continue}else l.endPosition?.isBefore(e)?r.push(l):i.push(l)}else r.push(l)}}return r}};var Bf=class{constructor(e){this.doc=e}getAncestorsAt(e,n){let r=this.position(e,n);return r==null?[]:As.findAncestorsBeforePosition(r,this.doc.getAllAntlersNodes())}getNameAt(e,n){let r=this.getNodeAt(e,n);return r instanceof W?r.name:null}getScopeAt(e,n){let r=this.getNodeAt(e,n);return r instanceof W&&r.currentScope!=null?r.currentScope:null}getFeaturesAt(e,n){let r=this.position(e,n),i=this.getNodeAt(e,n);return Ii.resolveContext(r,i,this.doc,!1,i)}getNodeAt(e,n){return gt.findNodeAtPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodeBefore(e,n){return gt.findNodeBeforePosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodeAfter(e,n){return gt.findNodeAfterPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getNodesBefore(e,n){return gt.findNodesBeforePosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getAssignmentsBefore(e,n){let r=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),i=[],s=this.position(e,n);return s!=null&&r.forEach(a=>{gt.isBefore(a.target,s)&&i.push(a)}),i}getAssignmentsAfter(e,n){let r=this.doc.getDocumentParser().getLanguageParser().getRuntimeAssignments(),i=[],s=this.position(e,n);return s!=null&&r.forEach(a=>{gt.isAfter(a.target,s)&&i.push(a)}),i}getNodesAfter(e,n){return gt.findNodesAfterPosition(this.position(e,n),this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e,n){let r=this.getNodeBefore(e,n);return r==null?!1:As.isPairedNode(r)}position(e,n){return this.doc.getDocumentParser().positionFromCursor(e,n)}charLeftAt(e,n){return this.doc.getDocumentParser().charLeftAtCursor(e,n)}charAt(e,n){return this.doc.getDocumentParser().charAtCursor(e,n)}charRightAt(e,n){return this.doc.getDocumentParser().charRightAtCursor(e,n)}wordLeftAt(e,n,r=4){return this.doc.getDocumentParser().wordLeftAtCursor(e,n,r)}wordRightAt(e,n,r=4){return this.doc.getDocumentParser().wordRightAtCursor(e,n,r)}wordAt(e,n,r=4){return this.doc.getDocumentParser().wordAtCursor(e,n,r)}punctuationLeftAt(e,n,r=4){return this.doc.getDocumentParser().punctuationLeftAtCursor(e,n,r)}punctuationRightAt(e,n,r=4){return this.doc.getDocumentParser().punctuationRightAtCursor(e,n,r)}};var Vf=class{constructor(e){this.doc=e}hasStructureErrors(){return this.doc.getDocumentParser().getStructureErrors().length>0}getFirstStructureError(){return this.doc.getDocumentParser().getStructureErrors()[0]}hasAny(){return this.all().length>0}all(){let e=[],n=[];return this.doc.getAllAntlersNodes().forEach(r=>{r.getErrors().forEach(i=>{e.includes(i.hash())==!1&&(e.push(i.hash()),n.push(i))})}),this.doc.getDocumentParser().getAntlersErrors().forEach(r=>{e.includes(r.hash())==!1&&(e.push(r.hash()),n.push(r))}),n}};var jv=Le(Bh(),1);var Mn=Le(Vv(),1),uZ=Mn.default.binaryOptions,cZ=Mn.default.boolOptions,fZ=Mn.default.intOptions,pZ=Mn.default.nullOptions,dZ=Mn.default.strOptions,mZ=Mn.default.Schema,hZ=Mn.default.Alias,gZ=Mn.default.Collection,_Z=Mn.default.Merge,yZ=Mn.default.Node,qv=Mn.default.Pair,Zl=Mn.default.Scalar,eu=Mn.default.YAMLMap,Ko=Mn.default.YAMLSeq;var rp=class{constructor(e){this.documentScope=null;this.project=e}getKeyValue(e){return e instanceof Zl?e.value:""}getNodeValue(e){return e instanceof Zl?e.value:e instanceof eu?this.analyzeDocument(e.items):e instanceof Ko?this.analyzeDocument(e.items):""}getScalarRuntimeType(e){return parseFloat(e).toString()==e||parseInt(e).toString()==e?"number":"string"}analyzeDocument(e){let n=new Yn(this.project);return e.forEach(r=>{if(r instanceof qv){let i=this.getKeyValue(r.key),s=this.getNodeValue(r.value);if(r.value instanceof Zl)n.addVariable({dataType:this.getScalarRuntimeType(s),introducedBy:null,name:i,sourceField:null,sourceName:"*frontmatter"});else if(r.value instanceof Ko&&r.key instanceof Zl){let a=new Yn(this.project);r.value.items.forEach(o=>{let l=this.getNodeValue(o);a.addVariable({dataType:this.getScalarRuntimeType(l),introducedBy:null,name:o.value,sourceField:null,sourceName:"*frontmatter"})}),n.addScopeList(r.key.value,a)}else n.addScopeList(i,s)}}),n}parse(e){try{let n=jv.default.parseDocument(e);n.contents instanceof eu&&(this.documentScope=this.analyzeDocument(n.contents.items))}catch{this.documentScope=null}}hasScope(){return this.documentScope!=null}getScope(){return this.documentScope}};var ip=class{constructor(e){this.doc=e}getAncestors(e){return As.findAncestorsBeforePosition(e,this.doc.getAllAntlersNodes())}getNodeAt(e){return gt.findNodeAtPosition(e,this.doc.getDocumentParser().getNodes())}getNodesBefore(e){return gt.findNodesBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeBefore(e){return gt.findNodeBeforePosition(e,this.doc.getDocumentParser().getNodes())}getNodeAfter(e){return gt.findNodeAfterPosition(e,this.doc.getDocumentParser().getNodes())}getNodesAfter(e){return gt.findNodesAfterPosition(e,this.doc.getDocumentParser().getNodes())}getIsWithinPairedNode(e){let n=this.getNodeBefore(e);return n==null?!1:As.isPairedNode(n)}filter(e){return this.doc.getDocumentParser().getNodes().filter(e)}getComments(){let e=[];return this.doc.getAllNodes().forEach(n=>{n instanceof W&&n.isComment&&e.push(n)}),e}getMultilineNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{n instanceof W&&!n.isComment&&n.startPosition?.line!=n.endPosition?.line&&e.push(n)}),e}getMultiLineComments(){let e=[];return this.getComments().forEach(n=>{n.startPosition?.line!=n.endPosition?.line&&e.push(n)}),e}getAllLiteralNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof st||n instanceof zt)&&e.push(n)}),e}getStructuralNodes(){let e=[];return this.doc.getDocumentParser().getRenderNodes().forEach(n=>{n instanceof W?e.push(n):n instanceof cn&&n.logicBranches.length>0&&n.logicBranches.forEach(r=>{if(r.head!=null){let i=r.head;i.originalNode!=null?e.push(i.originalNode):e.push(i)}})}),e}getAllRuntimeNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof Bn||n instanceof W)&&n.runtimeNodes.length>0&&n.runtimeNodes.forEach(r=>{e.push(r)})}),e}getAllParameterNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof Bn||n instanceof W)&&n.hasParameters&&n.parameters.forEach(r=>{e.push(r)})}),e}getAssignmentNodes(){return gt.findAssignmentNodes(this.getAllRuntimeNodes())}};var sp=class{constructor(e){this.doc=e}getAllSelfClosingNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{n instanceof W&&n.isSelfClosing&&e.push(n)}),e}getAllPairedNodes(){let e=[];return this.doc.getAllNodes().forEach(n=>{(n instanceof W||n instanceof ct)&&n.isClosedBy!=null&&!n.isSelfClosing&&e.push(n)}),e}};var Na=class{static printCommentLines(e,n,r){let i=e.getContent(),s=i.trim();if(s.includes(`
`)){let a=G.breakByNewLine(i),o=[];a.forEach(c=>{if(c.trim().length==0){o.push(" ".repeat(n+r)+c.trim());return}let f=c.length-c.trim().length,d=c.trim();(d.startsWith("@desc")||d.startsWith("@set")||d.startsWith("@name"))&&(f=n),o.push(" ".repeat(n+r+f-n)+c.trim())}),o.length>0&&o[o.length-1].trim().length==0&&o.pop();let l=o.join(`
`),u=`{{#
`;return u+=l,u+=`
`+" ".repeat(r)+"#}}",u}return"{{# "+s+" #}}"}static async printCommentAsync(e,n,r,i){let s=e.getContent(),a=s;if(a.includes(`
`)&&!(a.includes("@desc")||a.includes("@set")||a.includes("@name")))try{let o=a;i!=null&&(o=await i(o));let l=G.breakByNewLine(o),u=[];return l.forEach(c=>{if(c.trim().length==0){u.push(" ".repeat(n+r)+c.trim());return}let f=c.length-c.trim().length;u.push(" ".repeat(n+r+f)+c.trim())}),u.length>0&&u[u.length-1].trim().length==0&&u.pop(),`{{#
`+u.join(`
`)+`
`+" ".repeat(r)+"#}}"}catch{}return this.printCommentLines(e,n,r)}static printComment(e,n,r,i){let s=e.getContent(),a=s.trim();if(a.includes(`
`)&&!(a.includes("@desc")||a.includes("@set")||a.includes("@name")))try{let o=a;i!=null&&(o=i(o));let l=G.breakByNewLine(o),u=[];return l.forEach(c=>{if(c.trim().length==0){u.push(" ".repeat(n+r)+c.trim());return}let f=c.length-c.trim().length;u.push(" ".repeat(n+r+f)+c.trim())}),u.length>0&&u[u.length-1].trim().length==0&&u.pop(),`{{#
`+u.join(`
`)+`
`+" ".repeat(r)+"#}}"}catch{}return this.printCommentLines(e,n,r)}};var Ei=class{static indentRelative(e,n){let r=G.breakByNewLine(e),i=[];for(let o=0;o<r.length;o++)if(r[o].trim().length>0){i=r.slice(o);break}for(let o=i.length-1;o>=0&&i[o].trim().length==0;o--)i.pop();let s=-1,a="";for(let o=0;o<i.length;o++){let l=i[o],u=l.trimLeft(),c=l.length-u.length;(o==0||c<s)&&(s=c,a=l)}if(s>=0){let o=" ".repeat(n);for(let l=0;l<i.length;l++){let u=i[l];if(u.trim().length==0){i[l]="";continue}let c=u.substring(s);if(l==0){i[l]=u.trimLeft();continue}else i[l]=o+c.trimLeft()}}return i.join(`
`)}static shiftIndentLTrim(e,n,r=!1,i=4,s=!0,a=!1){n<0&&(n=0);let o=G.breakByNewLine(e.trim()),l=[],u=!1,c=!1;o.length>=2&&(u=o[0].length-o[0].trimStart().length!=0,c=o[o.length-1].length-o[o.length-1].trimStart().length!=0);for(let d=0;d<o.length;d++){if(d==0&&r){l.push(o[d]);continue}if(d==o.length-1&&a){l.push(o[d]);continue}let h=o[d];if(d>0&&!u&&c){l.push(h);continue}l.push(" ".repeat(n)+h)}let f=l.join(`
`);if(s&&l.length>0&&n-i>i&&l[l.length-1].trim()==") }}"){o=G.breakByNewLine(f.trim()),l=[];for(let d=0;d<o.length;d++){if(d==0&&r){l.push(o[d]);continue}if(d==o.length-1&&a){l.push(o[d]);continue}let h=o[d];if(d==o.length-1){l.push(h);break}l.push(" ".repeat(i)+h)}f=l.join(`
`)}return f}static shiftIndent(e,n,r=!1,i=4,s=!0,a=!1){n<0&&(n=0);let o=G.breakByNewLine(e.trim()),l=[];for(let c=0;c<o.length;c++){if(c==0&&r){l.push(o[c]);continue}if(c==o.length-1&&a){l.push(o[c]);continue}let f=o[c];l.push(" ".repeat(n)+f)}let u=l.join(`
`);if(s&&l.length>0&&n-i>i&&l[l.length-1].trim()==") }}"){o=G.breakByNewLine(u.trim()),l=[];for(let c=0;c<o.length;c++){if(c==0&&r){l.push(o[c]);continue}if(c==o.length-1&&a){l.push(o[c]);continue}let f=o[c];if(c==o.length-1){l.push(f);break}l.push(" ".repeat(i)+f)}u=l.join(`
`)}return u}static shiftClean(e,n){let r=G.breakByNewLine(e),i=[],s=" ".repeat(n),a=!1;return r.forEach(o=>{o.trim().length>0&&(a=!0),a&&i.push(s+o)}),i.join(`
`)}static inferIndentLevel(e,n,r){let i=0,s=-1;for(let a=0;a<e.length;a++){let o=e[a];if(o.includes(n)){let l=o.trimLeft();i=o.length-l.length,s=a;break}}if(s>0)for(let a=s-1;a>=0;a--){let o=e[a],l=o.trim(),u=o.trimLeft(),c=o.length-l.length;if(u.length!=0&&c!=i&&c<i){let f=i-c;return{targetLevel:i,referenceLevel:c,sourceTabSize:f}}}return{targetLevel:i,referenceLevel:i,sourceTabSize:r}}static indent(e,n,r){let i=Ei.inferIndentLevel(e,n,r);return" ".repeat(i.targetLevel)}};var ap=class{constructor(e,n,r){this.buffer="";this.closeString="";this.relativeIndentSize=0;this.indentSeed=0;this.baseIndent=n,e.isInterpolationNode?(this.buffer="{",this.closeString="}"):(this.buffer="{{ ",e.isSelfClosing?this.closeString=" /}}":this.closeString=" }}"),e.pathReference?.isStrictTagReference&&(this.buffer+="%"),r!=null&&r.trim().length>0&&(this.buffer+=r+" ")}setIndentSeed(e){return this.indentSeed=e,this}close(){return this.closeString==" }}"?this.buffer.endsWith(" ")?this.buffer+="}}":this.buffer+=this.closeString:this.buffer+=this.closeString,this}appendT(e){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer+=e,this}appendTS(e,n=!1){return this.buffer.endsWith(" ")&&(this.buffer=this.buffer.trimEnd()),this.buffer.endsWith("{")&&!n&&(e=e.trimStart()),this.buffer+=e,this}append(e){return this.buffer+=e,this}appendOS(e){return this.buffer.endsWith(" ")==!1&&this.buffer.endsWith("(")==!1&&this.buffer.endsWith("{")==!1&&this.buffer.endsWith("[")==!1&&this.buffer.endsWith(":")==!1&&(this.buffer+=" "),this.append(e)}appendS(e){let n="";return this.buffer.endsWith(" ")==!1&&(n+=" "),n+=e+" ",this.buffer+=n,this}indent(){let e=this.baseIndent;return e==0?e=1:e+=2,this.relativeIndentSize>0&&(e+=this.relativeIndentSize),this.buffer+=" ".repeat(e),this}addIndent(e){return e<=0?this:(this.buffer+=" ".repeat(e),this)}paramS(e){let n=" ";return e.isVariableReference&&(n+=":"),n+=e.name+"="+e.nameDelimiter+e.value+e.nameDelimiter,this.append(n),this}replace(e,n){return this.buffer=An(this.buffer,e,n),this}relativeIndent(e){let n=this.buffer.split(`
`);if(n.length==0)return this;let r=n[n.length-1].trimEnd();return r.endsWith("(")&&(r=r.slice(0,-1)),r.endsWith(e)==!1?this:(this.relativeIndentSize=r.lastIndexOf(e),this)}newlineIndent(){return this.newLine(),this.indent(),this}newlineNDIndent(){return this.buffer=this.buffer.trimEnd(),this.newLine(),this.indent(),this}newLine(){return this.buffer+=`
`,this}getContent(){return this.buffer}endsWith(e){return this.buffer.endsWith(e)}};var Ca=class{static prettyPrintNode(e,n,r,i,s,a){let o=e.getTrueRuntimeNodes(),l=0,u=0;if(o.length>0){let c=new ap(e,r,s);a!=null&&c.setIndentSeed(a);let f=null;for(let h=0;h<o.length;h++){let p=o[h];if(f!=null&&p.endPosition?.isBefore(f.startPosition))continue;let m=!1;if(p instanceof Mt?!(p.next instanceof Mt)&&p.next!=null&&(!Dt.isOperatorType(p.next)||!Dt.isAssignmentOperator(p.next))&&(!(p.next instanceof en)&&!(p.next instanceof vt)&&!p.isSwitchGroupMember&&!Dt.isOperatorType(p.next)&&(m=!0,p.next instanceof ge&&p.next.name=="as"&&(m=!1)),p.next instanceof fn&&(m=!1)):!p.prev?.isVirtual&&p.prev?.isVirtualGroupOperatorResolve&&p.prev.producesVirtualStatementTerminator&&p.next!=null&&!(p.prev instanceof ge)&&!(p.next instanceof Wn)&&!(p instanceof Wn)&&c.newlineIndent(),p instanceof ge){if(e.interpolationRegions&&e.interpolationRegions.has(p.name)){let g=e.interpolationRegions.get(p.name);if(g){c.append(g.content);continue}}else if(p.convertedToOperator){if(p.name=="arr")c.appendT(" arr");else if(p.name=="switch"||p.name=="list")if(c.appendTS(" "+p.name,!0),h+1<o.length){if(!(o[h+1]instanceof Bt))break;c.append("("),p.name!="list"&&c.relativeIndent(p.name).newLine().indent(),h+=1,f=o[h+1];continue}else break;else if(u+=1,u>1)c.newlineNDIndent().indent().addIndent(6).appendS(p.name);else{if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(p)){c.append(p.name);continue}c.appendS(p.name)}f=p;continue}if(p.mergeRefName!=null&&p.mergeRefName.trim().length>0&&p.mergeRefName!=p.name)c.append(p.mergeRefName.trim());else if(p.name=="as")c.appendOS("as");else{if(p.methodTarget!=null){p.variableReference!=null&&p.variableReference.pathParts.forEach(g=>{g instanceof hn&&(c.append(g.name),c.append("."))}),c.append(p.methodTarget.method?.name??"");continue}c.append(p.name.trim())}}else if(p instanceof lr)if(c.appendTS(" list"),h+1<o.length){if(!(o[h+1]instanceof Bt))break;c.append("("),h+=1,f=o[h+1];continue}else break;else if(p instanceof fn)c.appendS("|");else if(p instanceof vt){if(f!=null&&p.startPosition?.isBefore(f.endPosition)||p.next instanceof ge&&p.next.mergeRefName.startsWith(":"))continue;if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(p)){c.endsWith(":")||c.append(":");continue}if(p.prev!=null&&p.next!=null&&ut.distance(p.prev,p)<=1&&ut.distance(p.next,p)<=1){c.append(":"),f=p;continue}if(n.getDocumentParser().getLanguageParser().isActualModifierSeparator(p)){c.append(":"),f=p;continue}if(f instanceof Xt||f instanceof Vt){c.append(":"),f=p;continue}c.appendS(":")}else if(p instanceof Xt)c.append(p.name);else if(p instanceof Wn)c.appendS("?");else if(p instanceof _n){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(p))continue;if(p.isTenaryBranchSeparator){c.appendS(":"),f=p;continue}if(n.getDocumentParser().getLanguageParser().isActualModifierSeparator(p)){c.append(":"),f=p;continue}c.append(":")}else if(p instanceof Vt)c.append(p.value.trim());else if(p instanceof Bt)c.append("(");else if(p instanceof Mt)c.append(")");else if(p instanceof Nt){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(p))continue;p.sourceContent!=""?c.appendOS(p.sourceContent):c.appendOS(p.sourceTerminator+p.value+p.sourceTerminator)}else if(p instanceof Pt)p.isSwitchGroupMember?c.append(",").newlineIndent():c.append(", ");else if(p instanceof Rt){if(f=p,n.getDocumentParser().getLanguageParser().isMergedVariableComponent(p))continue;let g=p.value?.toString()??"";p.rawLexContent!=null&&p.rawLexContent.trim().length>0&&(g=p.rawLexContent.trim()),c.append(g)}else if(p instanceof Un)c.appendS("=");else if(p instanceof pn)c.appendS("=>");else if(p instanceof Vn)c.appendS("+");else if(p instanceof gn){if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(p)){c.append("-");continue}if(p.prev!=null&&p.next!=null&&ut.distance(p.prev,p)<=1&&ut.distance(p.next,p)<=1){p.next instanceof Rt&&p.prev instanceof Rt?c.appendS("-"):c.append("-"),f=p;continue}c.appendS("-")}else if(p instanceof jn)c.appendS("*");else if(p instanceof qn){if(f=p,p.startPosition?.isBefore(e.nameEndsOn)){c.append("/");continue}if(n.getDocumentParser().getLanguageParser().isMergedVariableComponent(p))continue;c.appendS("/");continue}else p instanceof en?p.isListGroupMember?(c.append(";").newlineIndent().indent().addIndent(7),h+1<o.length&&!(o[h+1]instanceof Mt)&&c.indent()):(l+=1,l<i.maxAntlersStatementsPerLine?c.appendT("; "):(c.appendT(";").newlineIndent(),l=0)):p instanceof tn?p.content=="not"?c.appendS("not"):c.append("!"):p instanceof nr?h==0&&e.pathReference?.isStrictTagReference||c.appendS(p.rawContent()):p instanceof xt?c.append("->"):c.appendS(p.rawContent());m&&c.newlineIndent(),f=p}e.hasParameters&&e.parameters.forEach(h=>{c.paramS(h)}),c.close();let d=c.getContent();return e.processedInterpolationRegions.size>0&&new Map([...e.processedInterpolationRegions.entries()].sort().reverse()).forEach((p,m)=>{let g=Ca.prettyPrintNode(p[0],n,r,i,null,null);d=An(d,m,g)}),d}return e.getTrueRawContent()}};var zo=class{constructor(e){this.formatIgnoreStart="format-ignore-start";this.formatIgnoreEnd="format-ignore-end";this.htmlFormatter=null;this.asyncHtmlFormatter=null;this.yamlFormatter=null;this.phpFormatter=null;this.asyncPhpFormatter=null;this.slugs=[];this.removeLines=[];this.virtualStructureOpens=[];this.virtualStructureClose=[];this.structureLines=[];this.parentTransformer=null;this.tagPairs=new Map;this.conditions=[];this.inlineIfs=new Map;this.createExraStructuralPairs=!1;this.spanNodes=new Map;this.inlineNodes=new Map;this.virtualBlocks=[];this.inlineComments=new Map;this.blockComments=[];this.dynamicElementAntlers=new Map;this.dynamicElementAntlersNodes=new Map;this.dynamicElementPairedAntlers=new Map;this.dynamicElementPairedAntlersNodes=new Map;this.dynamicElementConditionAntlers=new Map;this.dynamicElementConditionAntlersNodes=new Map;this.noParses=new Map;this.forceBreaks=[];this.inlineFormatter=null;this.asyncInlineFormatter=null;this.ignoredLiteralBlocks=new Map;this.activeLiteralSlug="";this.isInsideIgnoreFormatter=!1;this.forceCleanLines=["{{ if ","{{ /if","{{ /unless","{{ /noparse","{{ else","{{ unless"];this.doc=e,this.options={tabSize:4,newlinesAfterFrontMatter:1,maxAntlersStatementsPerLine:3,endNewline:!0}}withInlineFormatter(e){return this.inlineFormatter=e,this}withAsyncInlineFormatter(e){return this.asyncInlineFormatter=e,this}produceExtraStructuralPairs(e){return this.createExraStructuralPairs=e,this}withHtmlFormatter(e){return this.htmlFormatter=e,this}withAsyncHtmlFormatter(e){return this.asyncHtmlFormatter=e,this}withYamlFormatter(e){return this.yamlFormatter=e,this}withPhpFormatter(e){return this.phpFormatter=e,this}withAsyncPhpFormatter(e){return this.asyncPhpFormatter=e,this}withOptions(e){return this.options=e,this.options.tabSize<=0&&(this.options.tabSize=4),this.options.newlinesAfterFrontMatter<0&&(this.options.newlinesAfterFrontMatter=1),this}setParentTransformer(e){return this.parentTransformer=e,this}close(e){return"</"+e+">"}open(e){return"<"+e+">"}selfClosing(e){return"<"+e+" />"}selfClosingNs(e){return"<"+e+"/>"}pair(e,n=""){return"<"+e+">"+n+"</"+e+">"}makeSlug(e){let n=G.makeSlug(e);return this.slugs.includes(n)?this.makeSlug(e+1):(this.slugs.push(n),n)}transformInlineConditions(e){let n=e;return this.inlineIfs.forEach((r,i)=>{n=n.replace(i,r.nodeContent)}),n}registerCondition(e){this.parentTransformer!=null?this.parentTransformer.registerCondition(e):this.conditions.push(e)}registerInlineCondition(e,n){this.parentTransformer!=null?this.parentTransformer.registerInlineCondition(e,n):this.inlineIfs.set(e,n)}registerVirtualBlock(e){this.parentTransformer!=null?this.parentTransformer.registerVirtualBlock(e):this.virtualBlocks.push(e)}registerNoParse(e,n){this.parentTransformer!=null?this.parentTransformer.registerNoParse(e,n):this.noParses.set(e,n)}prepareNoParse(e){let n=this.makeSlug(35);return this.registerNoParse(n,e),n}registerForcedBreak(){if(this.parentTransformer!=null)return this.parentTransformer.registerForcedBreak();{let e=this.makeSlug(15),n=this.makeSlug(10);return this.forceBreaks.push(e),this.forceBreaks.push(n),this.removeLines.push(this.open(e)),this.removeLines.push(this.close(e)),this.removeLines.push(this.selfClosing(n)),this.pair(e,this.selfClosing(n))}}transformVirtualStructures(e){let n=e;return this.virtualBlocks.forEach(r=>{this.removeLines.push(r.pairClose);let i=this.indentLevel(r.pairOpen);if(r.virtualElement.length>0&&(this.removeLines.push(this.open(r.virtualElement)),this.removeLines.push(this.close(r.virtualElement))),r.node instanceof zt){let s="{{ noparse }}"+r.node.getInnerDocumentText();n=n.replace(r.pairOpen,s)}if(r.node instanceof W){let s=r.node;n=n.replace(r.pairClose,s.isClosedBy?.getOriginalContent())}else this.removeLines.push(r.pairClose)}),this.noParses.forEach((r,i)=>{n=n.replace(i,`{{ noparse }}${r.getInnerDocumentText()}{{ /noparse }}`)}),n}async printNodeAsync(e,n=null){let r=e.getTrueNode();if((r.rawStart=="{{?"||r.rawStart=="{{$")&&this.asyncPhpFormatter!=null)try{let l=await this.asyncPhpFormatter(r.content);return`${r.rawStart} ${l} ${r.rawEnd}`}catch{}let i=this.doc;e.childDocument!=null&&(i=e.childDocument.document);let s=null;if(Sn.isConditionalStructure(e)&&(s=r.runtimeName(),e.isClosingTag&&(s=="if"||s=="unless")))return`{{ /${s} }}`;if(e.isClosingTag)return r.runtimeName()=="endunless"?"{{ /unless }}":`{{ ${r.sourceContent.trim()} }}`;let a=Ca.prettyPrintNode(r,i,0,this.options,s,null),o=["switch","list"];return n!=null&&a.includes(`
`)&&(e.isVirtual&&(e.name?.name=="switch"||e.name?.name=="list")?a=Ei.shiftIndent(a,n+this.options.tabSize,!0):a=Ei.shiftIndent(a,n-this.options.tabSize*2,!0)),a}printNode(e,n=null){let r=e.getTrueNode();if((r.rawStart=="{{?"||r.rawStart=="{{$")&&this.phpFormatter!=null)try{let l=this.phpFormatter(r.content);return`${r.rawStart} ${l} ${r.rawEnd}`}catch{}let i=this.doc;e.childDocument!=null&&(i=e.childDocument.document);let s=null;if(Sn.isConditionalStructure(e)&&(s=r.runtimeName(),e.isClosingTag&&(s=="if"||s=="unless")))return`{{ /${s} }}`;if(e.isClosingTag)return r.runtimeName()=="endunless"?"{{ /unless }}":`{{ ${r.sourceContent.trim()} }}`;let a=Ca.prettyPrintNode(r,i,0,this.options,s,null),o=["switch","list"];return n!=null&&a.includes(`
`)&&(e.isVirtual&&(e.name?.name=="switch"||e.name?.name=="list")?a=Ei.shiftIndent(a,n+this.options.tabSize,!0):a=Ei.shiftIndent(a,n-this.options.tabSize*2,!0)),a}async transformConditionsAsync(e){let n=e;for(let r=0;r<this.conditions.length;r++){let i=this.conditions[r];for(let s=0;s<i.structures.length;s++){let a=i.structures[s],o=a.branch.head;if(a.virtualBreakOpen.length>0&&this.removeLines.push(a.virtualBreakOpen),a.virtualBreakClose.length>0&&(n=n.replace(a.virtualBreakClose,a.virtualBreakClose+`
`),this.removeLines.push(a.virtualBreakClose)),this.virtualStructureOpens.push(a.virtualOpen),this.removeLines.push(a.virtualOpen),this.removeLines.push(a.virtualClose),a.isLast){let l=this.selfClosing(a.virtualSlug);if(!n.includes(l)){let u="<"+a.virtualSlug+"(\\s)+\\/>",c=new RegExp(u,"gm");n=n.replace(c,l)}n.includes(l)&&(n=n.replace(l,a.doc.trim())),n=n.replace(a.pairOpen,await this.printNodeAsync(o,this.indentLevel(a.pairOpen))),n=n.replace(a.pairClose,await this.printNodeAsync(o.isClosedBy))}else{let l=this.selfClosing(a.virtualSlug);if(!n.includes(l)){let u="<"+a.virtualSlug+"(\\s)+\\/>",c=new RegExp(u,"gm");n=n.replace(c,l)}n.includes(l)&&(n=n.replace(l,a.doc.trim())),this.removeLines.push(a.pairClose),n=n.replace(a.pairOpen,await this.printNodeAsync(o,this.indentLevel(a.pairOpen)))}}}return n}transformConditions(e){let n=e;return this.conditions.forEach(r=>{r.structures.forEach(i=>{let s=i.branch.head;if(i.virtualBreakOpen.length>0&&this.removeLines.push(i.virtualBreakOpen),i.virtualBreakClose.length>0&&(n=n.replace(i.virtualBreakClose,i.virtualBreakClose+`
`),this.removeLines.push(i.virtualBreakClose)),this.virtualStructureOpens.push(i.virtualOpen),this.removeLines.push(i.virtualOpen),this.removeLines.push(i.virtualClose),i.isLast){let a=this.selfClosing(i.virtualSlug);if(!n.includes(a)){let o="<"+i.virtualSlug+"(\\s)+\\/>",l=new RegExp(o,"gm");n=n.replace(l,a)}n.includes(a)&&(n=n.replace(a,i.doc.trim())),n=n.replace(i.pairOpen,this.printNode(s,this.indentLevel(i.pairOpen))),n=n.replace(i.pairClose,this.printNode(s.isClosedBy))}else{let a=this.selfClosing(i.virtualSlug);if(!n.includes(a)){let o="<"+i.virtualSlug+"(\\s)+\\/>",l=new RegExp(o,"gm");n=n.replace(l,a)}n.includes(a)&&(n=n.replace(a,i.doc.trim())),this.removeLines.push(i.pairClose),n=n.replace(i.pairOpen,this.printNode(s,this.indentLevel(i.pairOpen)))}})}),n}getAntlersChildDoc(e){return e.childDocument!=null?e.childDocument.document.transform().setParentTransformer(this).toStructure():this.clone().toStructure(e.getImmediateChildren())}prepareCondition(e){let n=e.logicBranches[0].head;if(n.fragmentPosition==2||n.fragmentPosition==1){let l=this.makeSlug(e.nodeContent.length);return this.registerInlineCondition(l,e),l}if(n.fragmentPosition==0)return this.prepareDynamicCondition(e);let r=[],i="";n.prev instanceof W&&n.prev.isInlineAntlers&&(i+=this.registerForcedBreak()),e.logicBranches.forEach((l,u)=>{let c=l.head,f=this.getAntlersChildDoc(l),d=this.makeSlug(c.sourceContent.length),h=this.makeSlug(10),p={branch:l,slug:d,doc:f,pairOpen:this.open(d),pairClose:this.close(d),virtualOpen:this.open(h),virtualClose:this.close(h),virtualSlug:h,isFirst:u==0,isLast:u==e.logicBranches.length-1,virtualBreakClose:"",virtualBreakOpen:""};if(l.head?.name?.getCompoundTagName()=="else"){i+=`
`+p.pairOpen;let m=this.makeSlug(25);this.createExraStructuralPairs&&l.head.containsChildStructures==!1&&l.head.containsAnyFragments==!1?(p.virtualBreakOpen=this.open(m),p.virtualBreakClose=this.close(m),p.virtualSlug=m,i+=`
`+this.selfClosing(m),i+=p.pairClose+`
`):(p.virtualBreakOpen=this.selfClosing(m),i+=p.virtualBreakOpen+`
`,i+=f,i+=`
`+p.pairClose)}else if(this.createExraStructuralPairs&&l.head?.containsAnyFragments==!1&&l.head?.containsChildStructures==!1){let m=this.makeSlug(25);p.virtualBreakOpen=this.open(m),p.virtualBreakClose=this.close(m),p.virtualSlug=m,i+=`
`+p.pairOpen,i+=`
`+this.selfClosing(m),i+=p.pairClose+`
`}else i+=p.pairOpen,i+=`
`,i+=f,i+=`
`,i+=p.pairClose;r.push(p)});let s=r[0].pairOpen,a=r[r.length-1].pairClose,o={pairOpen:s,pairClose:a,structures:r,condition:e};return this.registerCondition(o),i}registerPairedAntlers(e,n){this.parentTransformer!=null?this.parentTransformer.registerPairedAntlers(e,n):this.tagPairs.set(e,n)}preparePairedAntlers(e){let n=this.makeSlug(e.getOriginalContent().length),r=this.getAntlersChildDoc(e);if(e.fragmentPosition!=0){let i="",s="";if(e.prev instanceof W&&e.prev.isPaired()==!1&&(s+=this.registerForcedBreak()),s+=`${this.open(n)}
`,e.containsChildStructures==!1&&e.containsAnyFragments==!1){let a=!1,o=!0,l=!0,u=0;for(let f=0;f<e.children.length;f++){let d=e.children[f];if(d instanceof st&&d.sourceContent.trim().length>0){a=!0,o=!1;break}}e.children.length==2&&e.children[0]instanceof W&&(a=!0);let c=0;for(let f=0;f<e.children.length-1;f++){let d=e.children[f];d instanceof W&&(u+=1,d.isInlineAntlers?c+=1:l=!1)}c==0&&(a=!0),l==!1&&(a=!1),o==!1&&u==0&&(a=!1),a?(i=this.makeSlug(15),s+=this.pair(i,r)):s+=r}else s+=r;return s+=`
${this.close(n)}
`,this.virtualStructureOpens.push(this.open(i)),this.virtualStructureClose.push(this.close(i)),this.virtualStructureClose.push(this.close(n)),this.registerPairedAntlers(n,{innerDoc:r,slug:n,tag:e,virtualElementSlug:i,isInline:!1}),s}return this.prepareConditionalAntlersPair(e)}registerInlineAntlers(e){if((e.fragmentPosition==2||e.fragmentPosition==1)&&(e.isInlineAntlers=!0),this.parentTransformer!=null)return this.parentTransformer.registerInlineAntlers(e);{let n=this.makeSlug(e.getOriginalContent().length);return e.isInlineAntlers?(this.spanNodes.set(n,e),n):(this.inlineNodes.set(n,e),this.selfClosing(n))}}registerVirtualComment(e){this.parentTransformer!=null?this.parentTransformer.registerVirtualComment(e):this.blockComments.push(e)}registerComment(e,n){this.parentTransformer!=null?this.parentTransformer.registerComment(e,n):this.inlineComments.set(e,n)}prepareComment(e){let n=e.getContent();if(n.trim().includes(`
`)){let s=this.makeSlug(10),a=this.makeSlug(10),o={node:e,pairOpen:this.open(s),pairClose:this.close(s),virtualElement:this.selfClosing(a)};return this.registerVirtualComment(o),o.pairOpen+`
`+o.virtualElement+`
`+o.pairClose}let i=this.makeSlug(n.length);return this.registerComment(i,e),this.selfClosing(i)}registerDynamicAntlersPair(e,n){this.parentTransformer!=null?(this.dynamicElementPairedAntlers.set(n.nodeContent,e),this.parentTransformer.registerDynamicAntlersPair(e,n)):(this.dynamicElementPairedAntlers.set(n.nodeContent,e),this.dynamicElementPairedAntlersNodes.set(e,n))}prepareConditionalAntlersPair(e){if(this.dynamicElementPairedAntlers.has(e.nodeContent))return this.dynamicElementPairedAntlers.get(e.nodeContent);let n=this.makeSlug(e.nodeContent.length);return this.registerDynamicAntlersPair(n,e),n}registerDynamicCondition(e,n){this.parentTransformer!=null?(this.dynamicElementConditionAntlers.set(n.nodeContent,e),this.parentTransformer.registerDynamicCondition(e,n)):(this.dynamicElementConditionAntlers.set(n.nodeContent,e),this.dynamicElementConditionAntlersNodes.set(e,n))}prepareDynamicCondition(e){if(this.dynamicElementConditionAntlers.has(e.nodeContent))return this.dynamicElementConditionAntlers.get(e.nodeContent);let n=this.makeSlug(e.nodeContent.length);return this.registerDynamicCondition(n,e),n}registerDynamicAntlers(e,n){this.parentTransformer!=null?(this.dynamicElementAntlers.set(n.content,e),this.parentTransformer.registerDynamicAntlers(e,n)):(this.dynamicElementAntlers.set(n.content,e),this.dynamicElementAntlersNodes.set(e,n))}prepareConditionalAntlers(e){if(this.dynamicElementAntlers.has(e.content))return this.dynamicElementAntlers.get(e.content);let n=this.makeSlug(e.content.length);return this.registerDynamicAntlers(n,e),n}prepareAntlers(e){return e.isClosedBy!=null?this.preparePairedAntlers(e):e.fragmentPosition==0?this.prepareConditionalAntlers(e):this.registerInlineAntlers(e)}async transformDynamicAntlersAsync(e){let n=e;for(let[r,i]of this.dynamicElementAntlersNodes){let s=await this.printNodeAsync(i);n=An(n,r,s)}return this.dynamicElementPairedAntlersNodes.forEach((r,i)=>{let s=r.nodeContent;n=An(n,i,s)}),this.dynamicElementConditionAntlersNodes.forEach((r,i)=>{let s=r.nodeContent;n=An(n,i,s)}),n}async transformPairedAntlersAsync(e){let n=e;for(let[r,i]of this.tagPairs){let s=i.tag;if(i.virtualElementSlug.length>0){let l=this.open(i.virtualElementSlug),u=this.close(i.virtualElementSlug);this.virtualStructureOpens.push(l),this.removeLines.push(l),this.removeLines.push(u)}let a=this.open(r),o=this.close(r);n=n.replace(a,await this.printNodeAsync(s,this.indentLevel(a))),n=n.replace(o,await this.printNodeAsync(s.isClosedBy))}return n}async transformInlineAntlersAsync(e){let n=e;for(let[r,i]of this.inlineNodes){let s=this.selfClosing(r),a=this.selfClosingNs(r),o=await this.printNodeAsync(i,this.indentLevel(s));n=n.replace(s,o),n=n.replace(a,o)}for(let[r,i]of this.spanNodes){let s=0;i.isVirtual&&(i.name?.name=="switch"||i.name?.name=="list")&&(s=this.indentLevel(r,!0));let a=await this.printNodeAsync(i,s),o=this.selfClosingNs(r);n=n.replace(r,a),n=n.replace(o,a)}return n}transformDynamicAntlers(e){let n=e;return this.dynamicElementAntlersNodes.forEach((r,i)=>{let s=this.printNode(r);n=An(n,i,s)}),this.dynamicElementPairedAntlersNodes.forEach((r,i)=>{let s=r.nodeContent;n=An(n,i,s)}),this.dynamicElementConditionAntlersNodes.forEach((r,i)=>{let s=r.nodeContent;n=An(n,i,s)}),n}transformPairedAntlers(e){let n=e;return this.tagPairs.forEach((r,i)=>{let s=r.tag;if(r.virtualElementSlug.length>0){let l=this.open(r.virtualElementSlug),u=this.close(r.virtualElementSlug);this.virtualStructureOpens.push(l),this.removeLines.push(l),this.removeLines.push(u)}let a=this.open(i),o=this.close(i);n=n.replace(a,this.printNode(s,this.indentLevel(a))),n=n.replace(o,this.printNode(s.isClosedBy))}),n}transformInlineAntlers(e){let n=e;return this.inlineNodes.forEach((r,i)=>{let s=this.selfClosing(i),a=this.selfClosingNs(i),o=this.printNode(r,this.indentLevel(s));n=n.replace(s,o),n=n.replace(a,o)}),this.spanNodes.forEach((r,i)=>{let s=0;r.isVirtual&&(r.name?.name=="switch"||r.name?.name=="list")&&(s=this.indentLevel(i,!0));let a=this.printNode(r,s),o=this.selfClosingNs(i);n=n.replace(i,a),n=n.replace(o,a)}),n}async transformCommentsAsync(e){let n=e;for(let[r,i]of this.inlineComments){let s=this.selfClosing(r),a=await Na.printCommentAsync(i,this.options.tabSize,0,this.asyncInlineFormatter);n=n.replace(s,a)}for(let r=0;r<this.blockComments.length;r++){let i=this.blockComments[r],s=i.node,a=await Na.printCommentAsync(s,this.options.tabSize,this.indentLevel(i.pairOpen),this.asyncInlineFormatter);n=n.replace(i.pairOpen,a),this.removeLines.push(i.pairClose),this.removeLines.push(i.virtualElement)}return n}transformComments(e){let n=e;return this.inlineComments.forEach((r,i)=>{let s=this.selfClosing(i),a=Na.printComment(r,this.options.tabSize,0,this.inlineFormatter);n=n.replace(s,a)}),this.blockComments.forEach(r=>{let i=r.node,s=Na.printComment(i,this.options.tabSize,this.indentLevel(r.pairOpen),this.inlineFormatter);n=n.replace(r.pairOpen,s),this.removeLines.push(r.pairClose),this.removeLines.push(r.virtualElement)}),n}withIgnoredRegions(e){return this.ignoredLiteralBlocks=e,this}clone(){let e=new zo(this.doc);return e.withOptions(this.options).setParentTransformer(this),e.withIgnoredRegions(this.ignoredLiteralBlocks),e}toStructure(e=null){let n="";return e==null&&(e=this.doc.getDocumentParser().getRenderNodes()),e.forEach(r=>{if(this.isInsideIgnoreFormatter){if(this.ignoredLiteralBlocks.get(this.activeLiteralSlug)?.push(r),r instanceof W&&r.isComment&&r.content.trim().toLowerCase()==this.formatIgnoreEnd){this.isInsideIgnoreFormatter=!1;return}return}r instanceof st?r.sourceContent==""?n+=r.content:n+=r.sourceContent:r instanceof cn?n+=this.prepareCondition(r):r instanceof zt?n+=this.prepareNoParse(r):r instanceof W&&(r.isComment?r.content.trim()==this.formatIgnoreStart?(this.isInsideIgnoreFormatter=!0,this.activeLiteralSlug=this.makeSlug(16),this.ignoredLiteralBlocks.set(this.activeLiteralSlug,[]),this.ignoredLiteralBlocks.get(this.activeLiteralSlug)?.push(r),n+=this.selfClosing(this.activeLiteralSlug)):n+=this.prepareComment(r):n+=this.prepareAntlers(r))}),n}indentLevel(e,n=!1){for(let r=0;r<this.structureLines.length;r++){let i=this.structureLines[r];if(i.includes(e)){let s=i.trimLeft(),a=i.length-s.length;return n&&(a+=i.indexOf(e)),a}}return 0}shouldCleanAfter(e){for(let n=0;n<this.removeLines.length;n++)if(e.startsWith(this.removeLines[n]))return!0;for(let n=0;n<this.forceCleanLines.length;n++)if(e.startsWith(this.forceCleanLines[n]))return!0;return!1}shouldCleanLine(e){for(let n=0;n<this.forceCleanLines.length;n++){let r=e.trim();if(e.startsWith(this.forceCleanLines[n])||r.startsWith("{{ /")&&r.endsWith("}}"))return!0}return!1}cleanVirtualStructures(e){let n=[],r=G.breakByNewLine(e),i=!1;for(let s=0;s<r.length;s++){let a=r[s].trim();if(i){if(a.length==0)continue;i=!1}else i=this.shouldCleanAfter(a);if(this.shouldCleanLine(a))for(let o=n.length-1;o>0&&n[o].trim().length==0;o--)n.pop();if(!this.removeLines.includes(a)){let o=r[s];this.removeLines.forEach(l=>{o.includes(l)&&(o=o.replace(l,""))}),n.push(o)}}return n.join(`
`)}applyFragmentReplacements(e,n,r){let i=e;return n.forEach((s,a)=>{let o=this.indentLevel(a),l=s.outerContent;if(o>0){let u=l.length-l.trimStart().length;(u==0||u>o)&&(l=Ei.shiftIndentLTrim(l,o).trimStart())}i=i.replace(a,l)}),i}reflowSlugs(e){let n=e;return this.slugs.forEach(r=>{let i=this.open(r),s=this.close(r),a=this.selfClosing(r),o="/<"+r+"(.*?)>/gms",l="/</"+r+"(.*?)>/gms",u="/<"+r+"(.*?)/>/gms";n=n.replace(o,i),n=n.replace(l,s),n=n.replace(u,a)}),n}cleanLines(e){let n=G.breakByNewLine(e),r=[],i=!1,s=0,a=!1,o=!1;for(let l=0;l<n.length;l++){let u=n[l].trim(),c=n[l];if(u.startsWith("{{")){u.endsWith("}}")?o=!1:o=!0,u.startsWith("{{#")&&(o=!1),i&&(s=0),u.startsWith("{{ /")==!1?a=!0:a=!1,i=!0,r.push(c);continue}if(!i)r.push(c);else{if(o){r.push(c),c.trim().endsWith("}}")&&(o=!1);continue}if(u.length==0){if(a==!1){s=0,i=!1;continue}s+=1;continue}else a&&s>1&&r.push(""),s=0,r.push(c),i=!1}}return r.join(`
`)}async fromStructureAsync(e){let n=this.reflowSlugs(e);this.structureLines=G.breakByNewLine(n);let r=this.transformInlineConditions(n);if(r=await this.transformConditionsAsync(r),r=await this.transformInlineAntlersAsync(r),r=await this.transformCommentsAsync(r),r=this.transformVirtualStructures(r),r=await this.transformDynamicAntlersAsync(r),r=await this.transformPairedAntlersAsync(r),r=this.cleanVirtualStructures(r),r=this.cleanLines(r),this.doc.hasFrontMatter()){let i=this.doc.getFrontMatter(),s=this.doc.getFrontMatterDoc();s!=null&&s.isValid&&this.yamlFormatter!=null&&(i=this.yamlFormatter(i)),r=`---
${i}
---
`+`
`.repeat(this.options.newlinesAfterFrontMatter)+r.trimLeft()}return r=r.trimRight(),this.ignoredLiteralBlocks.forEach((i,s)=>{let a=this.selfClosing(s),o=this.indentLevel(a);r=r.replace(a,this.dumpPreservedNodes(i,o))}),this.options.endNewline&&(r+=`
`),r}fromStructure(e){let n=this.reflowSlugs(e);this.structureLines=G.breakByNewLine(n);let r=this.transformInlineConditions(n);if(r=this.transformConditions(r),r=this.transformInlineAntlers(r),r=this.transformComments(r),r=this.transformVirtualStructures(r),r=this.transformDynamicAntlers(r),r=this.transformPairedAntlers(r),r=this.cleanVirtualStructures(r),r=this.cleanLines(r),this.doc.hasFrontMatter()){let i=this.doc.getFrontMatter(),s=this.doc.getFrontMatterDoc();s!=null&&s.isValid&&this.yamlFormatter!=null&&(i=this.yamlFormatter(i)),r=`---
${i}
---
`+`
`.repeat(this.options.newlinesAfterFrontMatter)+r.trimLeft()}return r=r.trimRight(),this.ignoredLiteralBlocks.forEach((i,s)=>{let a=this.selfClosing(s),o=this.indentLevel(a);r=r.replace(a,this.dumpPreservedNodes(i,o))}),this.options.endNewline&&(r+=`
`),r}dumpPreservedNodes(e,n){let r="";return e.forEach(i=>{if(i instanceof st)r+=i.sourceContent;else if(i instanceof cn)r+=i.nodeContent;else if(i instanceof zt)r+=i.documentText;else if(i instanceof W){if(i.isComment){if(i.content.trim().toLowerCase()==this.formatIgnoreEnd){let s=r.split(`
`);s.length>0&&s[s.length-1].trim().length==0&&(s.pop(),s.push(""),r=s.join(`
`)),r+=" ".repeat(n)+"{{#"+i.content+"#}}"}else r+="{{#"+i.content+"#}}";return}i.isPaired()?r+=i.nodeContent:r+="{{"+i.content+"}}"}}),r}};var Uv=Le(Bh(),1);var op=class{constructor(){this.content="";this.ranges=[];this.lastDocumentOffsetKey=null;this.documentOffsets=new Map;this.lineIndex=new Map;this.keys=[];this.values=[];this.isValid=!1;this.parseError=null}loadString(e){this.content=G.normalizeLineEndings(e);let n=null;try{n=Uv.default.parseDocument(this.content),this.isValid=!0}catch(c){this.isValid=!1,this.parseError=c}if(n==null)return;let r=[...this.content.matchAll(/(\n)/gm)],i=r.length,s=2,a=null,o=0,l=0;for(let c=0;c<i;c++){let f=r[c],d=f.index??0,h=d;a!=null?h=d-a:h=h+1,this.documentOffsets.set(d,{char:h,line:s});let p=0,m=0;c==0?(m=h-1,p=0):(p=l+1,m=d),this.lineIndex.set(s,{char:h,line:s,startIndex:p,endIndex:m}),this.lastDocumentOffsetKey=d,s+=1,a=d,l=m,o=p}let u=n.contents;this.processMap(u)}processMap(e){typeof e.items>"u"||e.items.forEach(n=>{this.processItem(n)})}processItem(e){if(e.type=="PAIR"){if(e.value instanceof eu||e.value instanceof Ko){let s=e.key;if(s.range!=null){let a=this.positionFromOffset(s.range[0],s.range[0]),o=this.positionFromOffset(s.range[1],s.range[1]);this.ranges.push({start:a,end:o,length:o.char-a.char+1,content:"property"}),this.keys.push({start:a,end:o,length:o.char-a.char+1,content:s.value}),e.value instanceof Ko?this.processMap(e.value.items[0]):this.processMap(e.value);return}}let n=e,r=n.key,i=n.value;if(r.range!=null&&i.range!=null){let s=this.positionFromOffset(r.range[0],r.range[0]),a=this.positionFromOffset(r.range[1],r.range[1]),o=this.positionFromOffset(i.range[0],i.range[0]),l=this.positionFromOffset(i.range[1],i.range[1]),u="string";parseInt(i.value)==i.value&&(u="number"),this.ranges.push({start:s,end:a,length:a.char-s.char+1,content:"property"}),this.keys.push({start:s,end:a,length:a.char-s.char+1,content:r.value}),this.ranges.push({start:o,end:l,length:l.char-o.char+1,content:u}),this.values.push({start:o,end:l,length:l.char-o.char+1,content:i.value})}}}positionFromOffset(e,n,r=!1){let i=0,s=0;if(this.documentOffsets.has(e)){let o=this.documentOffsets.get(e);i=o.line,s=o.char}else if(this.documentOffsets.size==0)i=1,s=e+1;else{let o=null,l=null,u=null,c=null;for(let f of this.documentOffsets.keys()){if(f>=e){c!=null&&e>c?(o=u,l=c):(o=this.documentOffsets.get(f),l=f);break}u=this.documentOffsets.get(f),c=f}if(o==null&&(o=u,l=c),o!=null)if(r){let f=this.content.split(""),d=e-(l??0),h=o.char-(l??0)+e;s=d,i=o.line,e<=(l??0)?(i=o.line,s=e+1):i=o.line+1}else{let f=this.content.split(""),d=e-(l??0),h=o.char-(l??0)+e;s=d,i=o.line,e<=(l??0)?(i=o.line,s=e+1):i=o.line+1}else this.lastDocumentOffsetKey!=null&&(i=this.documentOffsets.get(this.lastDocumentOffsetKey).line+1,s=e+this.lastDocumentOffsetKey)}let a=new Dn;return a.index=n,a.offset=e,a.line=i,a.char=s,a}getRanges(){return this.ranges}getKeys(){return this.keys}getValues(){return this.values}};var wt=class{constructor(){this.documentParser=new E;this.transformer=null;this.originalText="";this.ranges=new sp(this);this.nodes=new ip(this);this.cursor=new Bf(this);this.errors=new Vf(this);this.project=null;this.documentUri=""}static fromText(e,n){let r=new wt;return typeof n<"u"&&(r.project=n),r.loadString(e)}static childFromText(e,n=null){let r=new wt;return n!=null&&r.getDocumentParser().setSeedPosition(n),r.getDocumentParser().withChildDocuments(!0),r.loadString(e),{renderNodes:r.getDocumentParser().getRenderNodes(),content:e,document:r}}isValid(){return!(this.hasInvalidControlFlowStructures()||this.hasUnclosedStructures())}getDocumentOptions(){let e=this.getAllNodes();if(e.length==0||!(e[0]instanceof W))return null;let n=e[0];return n.isComment==!1?null:pl(this.documentUri,n)}isFormattingEnabled(){let e=this.getDocumentOptions();return e==null?!0:e.formatterEnabled}hasInvalidControlFlowStructures(){return this.documentParser.hasUnclosedIfStructures()}hasUnclosedStructures(){return this.documentParser.hasUnclosedStructures()}getFrontMatterDoc(){if(this.hasFrontMatter()){let e=new op;return e.loadString(this.getFrontMatter()),e}return null}hasFrontMatter(){return this.documentParser.getFrontMatter().trim().length>0}getFrontMatter(){return this.documentParser.getFrontMatter()}getFrontMatterScope(){if(this.project==null)return null;let e=new rp(this.project);return e.parse(this.getFrontMatter()),e.getScope()}updateProject(e){this.project=e,this.updateProjectDetails()}updateProjectDetails(){try{if(this.project!=null){let e=new Sf(this.project,this.documentUri,this),n=this.documentParser.antlersNodes();n.forEach(r=>{if(this.project!=null&&wn.instance?.canResolveSpecialTypes(r.getTagName())){let i=wn.instance?.resolveSpecialType(r.getTagName(),r,this.project);i.context!=null&&(r.reference=i.context)}}),e.analyzeScope(n);for(let r=0;r<n.length;r++){let i=n[r];if(i.hasParameters)for(let s=0;s<i.parameters.length;s++){let a=i.parameters[s];if(a.hasInterpolations())for(let o=0;o<a.interpolations.length;o++){let l=a.interpolations[o];i.processedInterpolationRegions.has(l)&&i.processedInterpolationRegions.get(l).forEach(c=>{c instanceof W&&(c.currentScope=i.currentScope)})}}}Kb(this)}}catch(e){console.log(e)}}loadString(e){return this.originalText=e,this.documentParser.parse(e),this.updateProjectDetails(),this}getDocumentParser(){return this.documentParser}getParsedContent(){return this.documentParser.getParsedContent()}getAllNodes(){return this.documentParser.getNodes()}getAllAntlersNodes(){return this.documentParser.antlersNodes()}extractText(){let e=[];return this.nodes.getAllLiteralNodes().forEach(n=>{e.push(n.content)}),e.join("")}getNameAt(e){let n=this.nodes.getNodeAt(e);return n instanceof W?n.name:null}getLinesAround(e){return this.documentParser.getLinesAround(e)}getContent(){return this.documentParser.getContent()}getOriginalContent(){return this.documentParser.getOriginalContent()}reloadDocument(){this.loadString(this.originalText)}getFeaturesAt(e){let n=this.nodes.getNodeAt(e);return Ii.resolveContext(e,n,this,!1,n)}getText(e,n){return this.documentParser.getText(e,n)}charLeftAt(e){return this.documentParser.charLeftAt(e)}charAt(e){return this.documentParser.charAt(e)}charRightAt(e){return this.documentParser.charRightAt(e)}getLineIndex(e){return this.documentParser.getLineIndex(e)}getLineText(e){return this.documentParser.getLineText(e)}wordAt(e,n=4){return this.documentParser.wordAt(e,n)}wordLeftAt(e,n=4){return this.documentParser.wordLeftAt(e,n)}wordRightAt(e,n=4){return this.documentParser.wordRightAt(e,n)}punctuationLeftAt(e,n=4){return this.documentParser.punctuationLeftAt(e,n)}punctuationRightAt(e,n=4){return this.documentParser.punctuationRightAt(e,n)}getLineChars(e){let n=this.getLineText(e);return n!=null?n.split(""):null}transform(){return this.transformer==null&&(this.transformer=new zo(this)),this.transformer}};var OC=Le(WN(),1);var V1={checkNode(t){let e=[];if(t.isClosedBy==null||t.parent==null||!(t.parent instanceof W))return e;let n=t.parent;if(n.isClosedBy==null)return e;let r=t.runtimeName();return r=="if"||r=="if:index"||r=="else"||r=="else:index"||r=="elseif"||r=="elseif:index"||r=="elseunless"||r=="elseunless:index"||n.isClosedBy.startPosition?.isBefore(t.isClosedBy.endPosition)&&(e.push(U.makeSyntaxError(N.LINT_INTERLEAVED_TAG_PAIRS,t,"Closing tag cannot appear after parent closing tag.")),e.push(U.makeSyntaxError(N.LINT_INTERLEAVED_TAG_PAIRS,t.isClosedBy,"Closing tag cannot appear after parent closing tag."))),e}},ag=V1;var yp=class{constructor(){this.htmlFormatter=null;this.asyncHtmlFormatter=null;this.asyncPhpFormatter=null;this.yamlFormatter=null;this.phpFormatter=null;this.preFormatter=null;this.transformOptions=null;this.createExtraVirtualStructures=!1}withTransformOptions(e){return this.transformOptions=e,this}withPreFormatter(e){return this.preFormatter=e,this}withHtmlFormatter(e){return this.htmlFormatter=e,this}withAsyncHtmlFormatter(e){return this.asyncHtmlFormatter=e,this}withYamlFormatter(e){return this.yamlFormatter=e,this}withPhpFormatter(e){return this.phpFormatter=e,this}withAsyncPhpFormatter(e){return this.asyncPhpFormatter=e,this}formatText(e,n){let r=new wt;return r.getDocumentParser().withChildDocuments(!0),r.loadString(e),this.formatDocument(r,n)}async formatTextAsync(e,n){let r=new wt;return r.getDocumentParser().withChildDocuments(!0),r.loadString(e),await this.formatDocumentAsync(r,n)}async formatDocumentAsync(e,n){if(!e.isFormattingEnabled())return e.getOriginalContent();let r=e,i=e.getDocumentParser().getFragmentsContainingStructures(),s=new Map;if(i.length>0){let c=e.getOriginalContent();i.forEach(f=>{let d=G.makeSlug(64);c=c.replace(f.outerContent,d),s.set(d,f)}),r=wt.fromText(c)}if(this.preFormatter!=null){let c=this.preFormatter(r);if(c!=null)return c}let a=r.getAllAntlersNodes();for(let c=0;c<a.length;c++)if(ag.checkNode(a[c],n).length>0)return e.getOriginalContent();if(this.asyncHtmlFormatter==null||r.isValid()==!1)return r.getOriginalContent();r.transform().withAsyncInlineFormatter(c=>this.formatTextAsync(c,n)).produceExtraStructuralPairs(this.createExtraVirtualStructures).withAsyncHtmlFormatter(this.asyncHtmlFormatter).withAsyncPhpFormatter(this.asyncPhpFormatter).withYamlFormatter(this.yamlFormatter),this.transformOptions!=null&&r.transform().withOptions(this.transformOptions);let o=r.transform().toStructure(),l=await this.asyncHtmlFormatter(o),u=await r.transform().fromStructureAsync(l);return i.length>0&&(u=r.transform().applyFragmentReplacements(u,s,this.transformOptions?.tabSize??4)),u}formatDocument(e,n){if(!e.isFormattingEnabled())return e.getOriginalContent();let r=e,i=e.getDocumentParser().getFragmentsContainingStructures(),s=new Map;if(i.length>0){let c=e.getOriginalContent();i.forEach(f=>{let d=G.makeSlug(64);c=c.replace(f.outerContent,d),s.set(d,f)}),r=wt.fromText(c)}if(this.preFormatter!=null){let c=this.preFormatter(r);if(c!=null)return c}let a=r.getAllAntlersNodes();for(let c=0;c<a.length;c++)if(ag.checkNode(a[c],n).length>0)return e.getOriginalContent();if(this.htmlFormatter==null||r.isValid()==!1)return r.getOriginalContent();r.transform().withInlineFormatter(c=>this.formatText(c,n)).produceExtraStructuralPairs(this.createExtraVirtualStructures).withHtmlFormatter(this.htmlFormatter).withPhpFormatter(this.phpFormatter).withYamlFormatter(this.yamlFormatter),this.transformOptions!=null&&r.transform().withOptions(this.transformOptions);let o=r.transform().toStructure(),l=this.htmlFormatter(o),u=r.transform().fromStructure(l);return i.length>0&&(u=r.transform().applyFragmentReplacements(u,s,this.transformOptions?.tabSize??4)),u}};function sC(t){return typeof t>"u"||t===null}function q1(t){return typeof t=="object"&&t!==null}function j1(t){return Array.isArray(t)?t:sC(t)?[]:[t]}function U1(t,e){var n,r,i,s;if(e)for(s=Object.keys(e),n=0,r=s.length;n<r;n+=1)i=s[n],t[i]=e[i];return t}function W1(t,e){var n="",r;for(r=0;r<e;r+=1)n+=t;return n}function G1(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var H1=sC,Y1=q1,$1=j1,K1=W1,z1=G1,X1=U1,Qt={isNothing:H1,isObject:Y1,toArray:$1,repeat:K1,isNegativeZero:z1,extend:X1};function aC(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),r+" "+n):r}function du(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=aC(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}du.prototype=Object.create(Error.prototype);du.prototype.constructor=du;du.prototype.toString=function(e){return this.name+": "+aC(this,e)};var Kn=du;function og(t,e,n,r,i){var s="",a="",o=Math.floor(i/2)-1;return r-e>o&&(s=" ... ",e=r-o+s.length),n-r>o&&(a=" ...",n=r+o-a.length),{str:s+t.slice(e,n).replace(/\t/g,"\u2192")+a,pos:r-e+s.length}}function lg(t,e){return Qt.repeat(" ",e-t.length)+t}function Q1(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],s,a=-1;s=n.exec(t.buffer);)i.push(s.index),r.push(s.index+s[0].length),t.position<=s.index&&a<0&&(a=r.length-2);a<0&&(a=r.length-1);var o="",l,u,c=Math.min(t.line+e.linesAfter,i.length).toString().length,f=e.maxLength-(e.indent+c+3);for(l=1;l<=e.linesBefore&&!(a-l<0);l++)u=og(t.buffer,r[a-l],i[a-l],t.position-(r[a]-r[a-l]),f),o=Qt.repeat(" ",e.indent)+lg((t.line-l+1).toString(),c)+" | "+u.str+`
`+o;for(u=og(t.buffer,r[a],i[a],t.position,f),o+=Qt.repeat(" ",e.indent)+lg((t.line+1).toString(),c)+" | "+u.str+`
`,o+=Qt.repeat("-",e.indent+c+3+u.pos)+`^
`,l=1;l<=e.linesAfter&&!(a+l>=i.length);l++)u=og(t.buffer,r[a+l],i[a+l],t.position-(r[a]-r[a+l]),f),o+=Qt.repeat(" ",e.indent)+lg((t.line+l+1).toString(),c)+" | "+u.str+`
`;return o.replace(/\n$/,"")}var J1=Q1,Z1=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],eF=["scalar","sequence","mapping"];function tF(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(r){e[String(r)]=n})}),e}function nF(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(Z1.indexOf(n)===-1)throw new Kn('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=tF(e.styleAliases||null),eF.indexOf(this.kind)===-1)throw new Kn('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var Nn=nF;function GN(t,e){var n=[];return t[e].forEach(function(r){var i=n.length;n.forEach(function(s,a){s.tag===r.tag&&s.kind===r.kind&&s.multi===r.multi&&(i=a)}),n[i]=r}),n}function rF(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function r(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(r);return t}function cg(t){return this.extend(t)}cg.prototype.extend=function(e){var n=[],r=[];if(e instanceof Nn)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new Kn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof Nn))throw new Kn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Kn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Kn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(s){if(!(s instanceof Nn))throw new Kn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(cg.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=GN(i,"implicit"),i.compiledExplicit=GN(i,"explicit"),i.compiledTypeMap=rF(i.compiledImplicit,i.compiledExplicit),i};var iF=cg,sF=new Nn("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),aF=new Nn("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),oF=new Nn("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),lF=new iF({explicit:[sF,aF,oF]});function uF(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function cF(){return null}function fF(t){return t===null}var pF=new Nn("tag:yaml.org,2002:null",{kind:"scalar",resolve:uF,construct:cF,predicate:fF,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function dF(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function mF(t){return t==="true"||t==="True"||t==="TRUE"}function hF(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var gF=new Nn("tag:yaml.org,2002:bool",{kind:"scalar",resolve:dF,construct:mF,predicate:hF,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function _F(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function yF(t){return 48<=t&&t<=55}function bF(t){return 48<=t&&t<=57}function TF(t){if(t===null)return!1;var e=t.length,n=0,r=!1,i;if(!e)return!1;if(i=t[n],(i==="-"||i==="+")&&(i=t[++n]),i==="0"){if(n+1===e)return!0;if(i=t[++n],i==="b"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!_F(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!yF(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<e;n++)if(i=t[n],i!=="_"){if(!bF(t.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function vF(t){var e=t,n=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function NF(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Qt.isNegativeZero(t)}var CF=new Nn("tag:yaml.org,2002:int",{kind:"scalar",resolve:TF,construct:vF,predicate:NF,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),PF=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function DF(t){return!(t===null||!PF.test(t)||t[t.length-1]==="_")}function SF(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}var AF=/^[-+]?[0-9]+e/;function IF(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Qt.isNegativeZero(t))return"-0.0";return n=t.toString(10),AF.test(n)?n.replace("e",".e"):n}function EF(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Qt.isNegativeZero(t))}var xF=new Nn("tag:yaml.org,2002:float",{kind:"scalar",resolve:DF,construct:SF,predicate:EF,represent:IF,defaultStyle:"lowercase"}),RF=lF.extend({implicit:[pF,gF,CF,xF]}),wF=RF,oC=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),lC=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function OF(t){return t===null?!1:oC.exec(t)!==null||lC.exec(t)!==null}function FF(t){var e,n,r,i,s,a,o,l=0,u=null,c,f,d;if(e=oC.exec(t),e===null&&(e=lC.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(s=+e[4],a=+e[5],o=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(c=+e[10],f=+(e[11]||0),u=(c*60+f)*6e4,e[9]==="-"&&(u=-u)),d=new Date(Date.UTC(n,r,i,s,a,o,l)),u&&d.setTime(d.getTime()-u),d}function LF(t){return t.toISOString()}var kF=new Nn("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:OF,construct:FF,instanceOf:Date,represent:LF});function MF(t){return t==="<<"||t===null}var BF=new Nn("tag:yaml.org,2002:merge",{kind:"scalar",resolve:MF}),hg=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function VF(t){if(t===null)return!1;var e,n,r=0,i=t.length,s=hg;for(n=0;n<i;n++)if(e=s.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}function qF(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,s=hg,a=0,o=[];for(e=0;e<i;e++)e%4===0&&e&&(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)),a=a<<6|s.indexOf(r.charAt(e));return n=i%4*6,n===0?(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)):n===18?(o.push(a>>10&255),o.push(a>>2&255)):n===12&&o.push(a>>4&255),new Uint8Array(o)}function jF(t){var e="",n=0,r,i,s=t.length,a=hg;for(r=0;r<s;r++)r%3===0&&r&&(e+=a[n>>18&63],e+=a[n>>12&63],e+=a[n>>6&63],e+=a[n&63]),n=(n<<8)+t[r];return i=s%3,i===0?(e+=a[n>>18&63],e+=a[n>>12&63],e+=a[n>>6&63],e+=a[n&63]):i===2?(e+=a[n>>10&63],e+=a[n>>4&63],e+=a[n<<2&63],e+=a[64]):i===1&&(e+=a[n>>2&63],e+=a[n<<4&63],e+=a[64],e+=a[64]),e}function UF(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var WF=new Nn("tag:yaml.org,2002:binary",{kind:"scalar",resolve:VF,construct:qF,predicate:UF,represent:jF}),GF=Object.prototype.hasOwnProperty,HF=Object.prototype.toString;function YF(t){if(t===null)return!0;var e=[],n,r,i,s,a,o=t;for(n=0,r=o.length;n<r;n+=1){if(i=o[n],a=!1,HF.call(i)!=="[object Object]")return!1;for(s in i)if(GF.call(i,s))if(!a)a=!0;else return!1;if(!a)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function $F(t){return t!==null?t:[]}var KF=new Nn("tag:yaml.org,2002:omap",{kind:"sequence",resolve:YF,construct:$F}),zF=Object.prototype.toString;function XF(t){if(t===null)return!0;var e,n,r,i,s,a=t;for(s=new Array(a.length),e=0,n=a.length;e<n;e+=1){if(r=a[e],zF.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;s[e]=[i[0],r[i[0]]]}return!0}function QF(t){if(t===null)return[];var e,n,r,i,s,a=t;for(s=new Array(a.length),e=0,n=a.length;e<n;e+=1)r=a[e],i=Object.keys(r),s[e]=[i[0],r[i[0]]];return s}var JF=new Nn("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:XF,construct:QF}),ZF=Object.prototype.hasOwnProperty;function eL(t){if(t===null)return!0;var e,n=t;for(e in n)if(ZF.call(n,e)&&n[e]!==null)return!1;return!0}function tL(t){return t!==null?t:{}}var nL=new Nn("tag:yaml.org,2002:set",{kind:"mapping",resolve:eL,construct:tL}),uC=wF.extend({implicit:[kF,BF],explicit:[WF,KF,JF,nL]}),qs=Object.prototype.hasOwnProperty,bp=1,cC=2,fC=3,Tp=4,ug=1,rL=2,HN=3,iL=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,sL=/[\x85\u2028\u2029]/,aL=/[,\[\]\{\}]/,pC=/^(?:!|!!|![a-z\-]+!)$/i,dC=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function YN(t){return Object.prototype.toString.call(t)}function wi(t){return t===10||t===13}function Ia(t){return t===9||t===32}function zn(t){return t===9||t===32||t===10||t===13}function Qo(t){return t===44||t===91||t===93||t===123||t===125}function oL(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function lL(t){return t===120?2:t===117?4:t===85?8:0}function uL(t){return 48<=t&&t<=57?t-48:-1}function $N(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function cL(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var mC=new Array(256),hC=new Array(256);for(Aa=0;Aa<256;Aa++)mC[Aa]=$N(Aa)?1:0,hC[Aa]=$N(Aa);var Aa;function fL(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||uC,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function gC(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=J1(n),new Kn(e,n)}function _e(t,e){throw gC(t,e)}function vp(t,e){t.onWarning&&t.onWarning.call(null,gC(t,e))}var KN={YAML:function(e,n,r){var i,s,a;e.version!==null&&_e(e,"duplication of %YAML directive"),r.length!==1&&_e(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&_e(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),a=parseInt(i[2],10),s!==1&&_e(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=a<2,a!==1&&a!==2&&vp(e,"unsupported YAML version of the document")},TAG:function(e,n,r){var i,s;r.length!==2&&_e(e,"TAG directive accepts exactly two arguments"),i=r[0],s=r[1],pC.test(i)||_e(e,"ill-formed tag handle (first argument) of the TAG directive"),qs.call(e.tagMap,i)&&_e(e,'there is a previously declared suffix for "'+i+'" tag handle'),dC.test(s)||_e(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{_e(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s}};function Vs(t,e,n,r){var i,s,a,o;if(e<n){if(o=t.input.slice(e,n),r)for(i=0,s=o.length;i<s;i+=1)a=o.charCodeAt(i),a===9||32<=a&&a<=1114111||_e(t,"expected valid JSON character");else iL.test(o)&&_e(t,"the stream contains non-printable characters");t.result+=o}}function zN(t,e,n,r){var i,s,a,o;for(Qt.isObject(n)||_e(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),a=0,o=i.length;a<o;a+=1)s=i[a],qs.call(e,s)||(e[s]=n[s],r[s]=!0)}function Jo(t,e,n,r,i,s,a,o,l){var u,c;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,c=i.length;u<c;u+=1)Array.isArray(i[u])&&_e(t,"nested arrays are not supported inside keys"),typeof i=="object"&&YN(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&YN(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,c=s.length;u<c;u+=1)zN(t,e,s[u],n);else zN(t,e,s,n);else!t.json&&!qs.call(n,i)&&qs.call(e,i)&&(t.line=a||t.line,t.lineStart=o||t.lineStart,t.position=l||t.position,_e(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[i]=s,delete n[i];return e}function gg(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):_e(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function Ht(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);i!==0;){for(;Ia(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(wi(i))for(gg(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return n!==-1&&r!==0&&t.lineIndent<n&&vp(t,"deficient indentation"),r}function Pp(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||zn(n)))}function _g(t,e){e===1?t.result+=" ":e>1&&(t.result+=Qt.repeat(`
`,e-1))}function pL(t,e,n){var r,i,s,a,o,l,u,c,f=t.kind,d=t.result,h;if(h=t.input.charCodeAt(t.position),zn(h)||Qo(h)||h===35||h===38||h===42||h===33||h===124||h===62||h===39||h===34||h===37||h===64||h===96||(h===63||h===45)&&(i=t.input.charCodeAt(t.position+1),zn(i)||n&&Qo(i)))return!1;for(t.kind="scalar",t.result="",s=a=t.position,o=!1;h!==0;){if(h===58){if(i=t.input.charCodeAt(t.position+1),zn(i)||n&&Qo(i))break}else if(h===35){if(r=t.input.charCodeAt(t.position-1),zn(r))break}else{if(t.position===t.lineStart&&Pp(t)||n&&Qo(h))break;if(wi(h))if(l=t.line,u=t.lineStart,c=t.lineIndent,Ht(t,!1,-1),t.lineIndent>=e){o=!0,h=t.input.charCodeAt(t.position);continue}else{t.position=a,t.line=l,t.lineStart=u,t.lineIndent=c;break}}o&&(Vs(t,s,a,!1),_g(t,t.line-l),s=a=t.position,o=!1),Ia(h)||(a=t.position+1),h=t.input.charCodeAt(++t.position)}return Vs(t,s,a,!1),t.result?!0:(t.kind=f,t.result=d,!1)}function dL(t,e){var n,r,i;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(Vs(t,r,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)r=t.position,t.position++,i=t.position;else return!0;else wi(n)?(Vs(t,r,i,!0),_g(t,Ht(t,!1,e)),r=i=t.position):t.position===t.lineStart&&Pp(t)?_e(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);_e(t,"unexpected end of the stream within a single quoted scalar")}function mL(t,e){var n,r,i,s,a,o;if(o=t.input.charCodeAt(t.position),o!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;(o=t.input.charCodeAt(t.position))!==0;){if(o===34)return Vs(t,n,t.position,!0),t.position++,!0;if(o===92){if(Vs(t,n,t.position,!0),o=t.input.charCodeAt(++t.position),wi(o))Ht(t,!1,e);else if(o<256&&mC[o])t.result+=hC[o],t.position++;else if((a=lL(o))>0){for(i=a,s=0;i>0;i--)o=t.input.charCodeAt(++t.position),(a=oL(o))>=0?s=(s<<4)+a:_e(t,"expected hexadecimal character");t.result+=cL(s),t.position++}else _e(t,"unknown escape sequence");n=r=t.position}else wi(o)?(Vs(t,n,r,!0),_g(t,Ht(t,!1,e)),n=r=t.position):t.position===t.lineStart&&Pp(t)?_e(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}_e(t,"unexpected end of the stream within a double quoted scalar")}function hL(t,e){var n=!0,r,i,s,a=t.tag,o,l=t.anchor,u,c,f,d,h,p=Object.create(null),m,g,T,b;if(b=t.input.charCodeAt(t.position),b===91)c=93,h=!1,o=[];else if(b===123)c=125,h=!0,o={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),b=t.input.charCodeAt(++t.position);b!==0;){if(Ht(t,!0,e),b=t.input.charCodeAt(t.position),b===c)return t.position++,t.tag=a,t.anchor=l,t.kind=h?"mapping":"sequence",t.result=o,!0;n?b===44&&_e(t,"expected the node content, but found ','"):_e(t,"missed comma between flow collection entries"),g=m=T=null,f=d=!1,b===63&&(u=t.input.charCodeAt(t.position+1),zn(u)&&(f=d=!0,t.position++,Ht(t,!0,e))),r=t.line,i=t.lineStart,s=t.position,Zo(t,e,bp,!1,!0),g=t.tag,m=t.result,Ht(t,!0,e),b=t.input.charCodeAt(t.position),(d||t.line===r)&&b===58&&(f=!0,b=t.input.charCodeAt(++t.position),Ht(t,!0,e),Zo(t,e,bp,!1,!0),T=t.result),h?Jo(t,o,p,g,m,T,r,i,s):f?o.push(Jo(t,null,p,g,m,T,r,i,s)):o.push(m),Ht(t,!0,e),b=t.input.charCodeAt(t.position),b===44?(n=!0,b=t.input.charCodeAt(++t.position)):n=!1}_e(t,"unexpected end of the stream within a flow collection")}function gL(t,e){var n,r,i=ug,s=!1,a=!1,o=e,l=0,u=!1,c,f;if(f=t.input.charCodeAt(t.position),f===124)r=!1;else if(f===62)r=!0;else return!1;for(t.kind="scalar",t.result="";f!==0;)if(f=t.input.charCodeAt(++t.position),f===43||f===45)ug===i?i=f===43?HN:rL:_e(t,"repeat of a chomping mode identifier");else if((c=uL(f))>=0)c===0?_e(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?_e(t,"repeat of an indentation width identifier"):(o=e+c-1,a=!0);else break;if(Ia(f)){do f=t.input.charCodeAt(++t.position);while(Ia(f));if(f===35)do f=t.input.charCodeAt(++t.position);while(!wi(f)&&f!==0)}for(;f!==0;){for(gg(t),t.lineIndent=0,f=t.input.charCodeAt(t.position);(!a||t.lineIndent<o)&&f===32;)t.lineIndent++,f=t.input.charCodeAt(++t.position);if(!a&&t.lineIndent>o&&(o=t.lineIndent),wi(f)){l++;continue}if(t.lineIndent<o){i===HN?t.result+=Qt.repeat(`
`,s?1+l:l):i===ug&&s&&(t.result+=`
`);break}for(r?Ia(f)?(u=!0,t.result+=Qt.repeat(`
`,s?1+l:l)):u?(u=!1,t.result+=Qt.repeat(`
`,l+1)):l===0?s&&(t.result+=" "):t.result+=Qt.repeat(`
`,l):t.result+=Qt.repeat(`
`,s?1+l:l),s=!0,a=!0,l=0,n=t.position;!wi(f)&&f!==0;)f=t.input.charCodeAt(++t.position);Vs(t,n,t.position,!1)}return!0}function XN(t,e){var n,r=t.tag,i=t.anchor,s=[],a,o=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,_e(t,"tab characters must not be used in indentation")),!(l!==45||(a=t.input.charCodeAt(t.position+1),!zn(a))));){if(o=!0,t.position++,Ht(t,!0,-1)&&t.lineIndent<=e){s.push(null),l=t.input.charCodeAt(t.position);continue}if(n=t.line,Zo(t,e,fC,!1,!0),s.push(t.result),Ht(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&l!==0)_e(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return o?(t.tag=r,t.anchor=i,t.kind="sequence",t.result=s,!0):!1}function _L(t,e,n){var r,i,s,a,o,l,u=t.tag,c=t.anchor,f={},d=Object.create(null),h=null,p=null,m=null,g=!1,T=!1,b;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=f),b=t.input.charCodeAt(t.position);b!==0;){if(!g&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,_e(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),s=t.line,(b===63||b===58)&&zn(r))b===63?(g&&(Jo(t,f,d,h,p,null,a,o,l),h=p=m=null),T=!0,g=!0,i=!0):g?(g=!1,i=!0):_e(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,b=r;else{if(a=t.line,o=t.lineStart,l=t.position,!Zo(t,n,cC,!1,!0))break;if(t.line===s){for(b=t.input.charCodeAt(t.position);Ia(b);)b=t.input.charCodeAt(++t.position);if(b===58)b=t.input.charCodeAt(++t.position),zn(b)||_e(t,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(Jo(t,f,d,h,p,null,a,o,l),h=p=m=null),T=!0,g=!1,i=!1,h=t.tag,p=t.result;else if(T)_e(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=u,t.anchor=c,!0}else if(T)_e(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=u,t.anchor=c,!0}if((t.line===s||t.lineIndent>e)&&(g&&(a=t.line,o=t.lineStart,l=t.position),Zo(t,e,Tp,!0,i)&&(g?p=t.result:m=t.result),g||(Jo(t,f,d,h,p,m,a,o,l),h=p=m=null),Ht(t,!0,-1),b=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&b!==0)_e(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return g&&Jo(t,f,d,h,p,null,a,o,l),T&&(t.tag=u,t.anchor=c,t.kind="mapping",t.result=f),T}function yL(t){var e,n=!1,r=!1,i,s,a;if(a=t.input.charCodeAt(t.position),a!==33)return!1;if(t.tag!==null&&_e(t,"duplication of a tag property"),a=t.input.charCodeAt(++t.position),a===60?(n=!0,a=t.input.charCodeAt(++t.position)):a===33?(r=!0,i="!!",a=t.input.charCodeAt(++t.position)):i="!",e=t.position,n){do a=t.input.charCodeAt(++t.position);while(a!==0&&a!==62);t.position<t.length?(s=t.input.slice(e,t.position),a=t.input.charCodeAt(++t.position)):_e(t,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!zn(a);)a===33&&(r?_e(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),pC.test(i)||_e(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),a=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),aL.test(s)&&_e(t,"tag suffix cannot contain flow indicator characters")}s&&!dC.test(s)&&_e(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{_e(t,"tag name is malformed: "+s)}return n?t.tag=s:qs.call(t.tagMap,i)?t.tag=t.tagMap[i]+s:i==="!"?t.tag="!"+s:i==="!!"?t.tag="tag:yaml.org,2002:"+s:_e(t,'undeclared tag handle "'+i+'"'),!0}function bL(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&_e(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!zn(n)&&!Qo(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&_e(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function TL(t){var e,n,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!zn(r)&&!Qo(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&_e(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),qs.call(t.anchorMap,n)||_e(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],Ht(t,!0,-1),!0}function Zo(t,e,n,r,i){var s,a,o,l=1,u=!1,c=!1,f,d,h,p,m,g;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=a=o=Tp===n||fC===n,r&&Ht(t,!0,-1)&&(u=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;yL(t)||bL(t);)Ht(t,!0,-1)?(u=!0,o=s,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):o=!1;if(o&&(o=u||i),(l===1||Tp===n)&&(bp===n||cC===n?m=e:m=e+1,g=t.position-t.lineStart,l===1?o&&(XN(t,g)||_L(t,g,m))||hL(t,m)?c=!0:(a&&gL(t,m)||dL(t,m)||mL(t,m)?c=!0:TL(t)?(c=!0,(t.tag!==null||t.anchor!==null)&&_e(t,"alias node should not have any properties")):pL(t,m,bp===n)&&(c=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(c=o&&XN(t,g))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&_e(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),f=0,d=t.implicitTypes.length;f<d;f+=1)if(p=t.implicitTypes[f],p.resolve(t.result)){t.result=p.construct(t.result),t.tag=p.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(qs.call(t.typeMap[t.kind||"fallback"],t.tag))p=t.typeMap[t.kind||"fallback"][t.tag];else for(p=null,h=t.typeMap.multi[t.kind||"fallback"],f=0,d=h.length;f<d;f+=1)if(t.tag.slice(0,h[f].tag.length)===h[f].tag){p=h[f];break}p||_e(t,"unknown tag !<"+t.tag+">"),t.result!==null&&p.kind!==t.kind&&_e(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+p.kind+'", not "'+t.kind+'"'),p.resolve(t.result,t.tag)?(t.result=p.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):_e(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||c}function vL(t){var e=t.position,n,r,i,s=!1,a;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(a=t.input.charCodeAt(t.position))!==0&&(Ht(t,!0,-1),a=t.input.charCodeAt(t.position),!(t.lineIndent>0||a!==37));){for(s=!0,a=t.input.charCodeAt(++t.position),n=t.position;a!==0&&!zn(a);)a=t.input.charCodeAt(++t.position);for(r=t.input.slice(n,t.position),i=[],r.length<1&&_e(t,"directive name must not be less than one character in length");a!==0;){for(;Ia(a);)a=t.input.charCodeAt(++t.position);if(a===35){do a=t.input.charCodeAt(++t.position);while(a!==0&&!wi(a));break}if(wi(a))break;for(n=t.position;a!==0&&!zn(a);)a=t.input.charCodeAt(++t.position);i.push(t.input.slice(n,t.position))}a!==0&&gg(t),qs.call(KN,r)?KN[r](t,r,i):vp(t,'unknown document directive "'+r+'"')}if(Ht(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,Ht(t,!0,-1)):s&&_e(t,"directives end mark is expected"),Zo(t,t.lineIndent-1,Tp,!1,!0),Ht(t,!0,-1),t.checkLineBreaks&&sL.test(t.input.slice(e,t.position))&&vp(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Pp(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,Ht(t,!0,-1));return}if(t.position<t.length-1)_e(t,"end of the stream or a document separator is expected");else return}function _C(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new fL(t,e),r=t.indexOf("\0");for(r!==-1&&(n.position=r,_e(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)vL(n);return n.documents}function NL(t,e,n){e!==null&&typeof e=="object"&&typeof n>"u"&&(n=e,e=null);var r=_C(t,n);if(typeof e!="function")return r;for(var i=0,s=r.length;i<s;i+=1)e(r[i])}function CL(t,e){var n=_C(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new Kn("expected a single document in the stream, but found more")}}var PL=NL,DL=CL,yC={loadAll:PL,load:DL},bC=Object.prototype.toString,TC=Object.prototype.hasOwnProperty,yg=65279,SL=9,mu=10,AL=13,IL=32,EL=33,xL=34,fg=35,RL=37,wL=38,OL=39,FL=42,vC=44,LL=45,Np=58,kL=61,ML=62,BL=63,VL=64,NC=91,CC=93,qL=96,PC=123,jL=124,DC=125,Cn={};Cn[0]="\\0";Cn[7]="\\a";Cn[8]="\\b";Cn[9]="\\t";Cn[10]="\\n";Cn[11]="\\v";Cn[12]="\\f";Cn[13]="\\r";Cn[27]="\\e";Cn[34]='\\"';Cn[92]="\\\\";Cn[133]="\\N";Cn[160]="\\_";Cn[8232]="\\L";Cn[8233]="\\P";var UL=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],WL=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function GL(t,e){var n,r,i,s,a,o,l;if(e===null)return{};for(n={},r=Object.keys(e),i=0,s=r.length;i<s;i+=1)a=r[i],o=String(e[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),l=t.compiledTypeMap.fallback[a],l&&TC.call(l.styleAliases,o)&&(o=l.styleAliases[o]),n[a]=o;return n}function HL(t){var e,n,r;if(e=t.toString(16).toUpperCase(),t<=255)n="x",r=2;else if(t<=65535)n="u",r=4;else if(t<=4294967295)n="U",r=8;else throw new Kn("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+Qt.repeat("0",r-e.length)+e}var YL=1,hu=2;function $L(t){this.schema=t.schema||uC,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=Qt.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=GL(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?hu:YL,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function QN(t,e){for(var n=Qt.repeat(" ",e),r=0,i=-1,s="",a,o=t.length;r<o;)i=t.indexOf(`
`,r),i===-1?(a=t.slice(r),r=o):(a=t.slice(r,i+1),r=i+1),a.length&&a!==`
`&&(s+=n),s+=a;return s}function pg(t,e){return`
`+Qt.repeat(" ",t.indent*e)}function KL(t,e){var n,r,i;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(i=t.implicitTypes[n],i.resolve(e))return!0;return!1}function Cp(t){return t===IL||t===SL}function gu(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==yg||65536<=t&&t<=1114111}function JN(t){return gu(t)&&t!==yg&&t!==AL&&t!==mu}function ZN(t,e,n){var r=JN(t),i=r&&!Cp(t);return(n?r:r&&t!==vC&&t!==NC&&t!==CC&&t!==PC&&t!==DC)&&t!==fg&&!(e===Np&&!i)||JN(e)&&!Cp(e)&&t===fg||e===Np&&i}function zL(t){return gu(t)&&t!==yg&&!Cp(t)&&t!==LL&&t!==BL&&t!==Np&&t!==vC&&t!==NC&&t!==CC&&t!==PC&&t!==DC&&t!==fg&&t!==wL&&t!==FL&&t!==EL&&t!==jL&&t!==kL&&t!==ML&&t!==OL&&t!==xL&&t!==RL&&t!==VL&&t!==qL}function XL(t){return!Cp(t)&&t!==Np}function pu(t,e){var n=t.charCodeAt(e),r;return n>=55296&&n<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function SC(t){var e=/^\n* /;return e.test(t)}var AC=1,dg=2,IC=3,EC=4,Xo=5;function QL(t,e,n,r,i,s,a,o){var l,u=0,c=null,f=!1,d=!1,h=r!==-1,p=-1,m=zL(pu(t,0))&&XL(pu(t,t.length-1));if(e||a)for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=pu(t,l),!gu(u))return Xo;m=m&&ZN(u,c,o),c=u}else{for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=pu(t,l),u===mu)f=!0,h&&(d=d||l-p-1>r&&t[p+1]!==" ",p=l);else if(!gu(u))return Xo;m=m&&ZN(u,c,o),c=u}d=d||h&&l-p-1>r&&t[p+1]!==" "}return!f&&!d?m&&!a&&!i(t)?AC:s===hu?Xo:dg:n>9&&SC(t)?Xo:a?s===hu?Xo:dg:d?EC:IC}function JL(t,e,n,r,i){t.dump=function(){if(e.length===0)return t.quotingType===hu?'""':"''";if(!t.noCompatMode&&(UL.indexOf(e)!==-1||WL.test(e)))return t.quotingType===hu?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,n),a=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),o=r||t.flowLevel>-1&&n>=t.flowLevel;function l(u){return KL(t,u)}switch(QL(e,o,t.indent,a,l,t.quotingType,t.forceQuotes&&!r,i)){case AC:return e;case dg:return"'"+e.replace(/'/g,"''")+"'";case IC:return"|"+eC(e,t.indent)+tC(QN(e,s));case EC:return">"+eC(e,t.indent)+tC(QN(ZL(e,a),s));case Xo:return'"'+ek(e)+'"';default:throw new Kn("impossible error: invalid scalar style")}}()}function eC(t,e){var n=SC(t)?String(e):"",r=t[t.length-1]===`
`,i=r&&(t[t.length-2]===`
`||t===`
`),s=i?"+":r?"":"-";return n+s+`
`}function tC(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function ZL(t,e){for(var n=/(\n+)([^\n]*)/g,r=function(){var u=t.indexOf(`
`);return u=u!==-1?u:t.length,n.lastIndex=u,nC(t.slice(0,u),e)}(),i=t[0]===`
`||t[0]===" ",s,a;a=n.exec(t);){var o=a[1],l=a[2];s=l[0]===" ",r+=o+(!i&&!s&&l!==""?`
`:"")+nC(l,e),i=s}return r}function nC(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,r,i=0,s,a=0,o=0,l="";r=n.exec(t);)o=r.index,o-i>e&&(s=a>i?a:o,l+=`
`+t.slice(i,s),i=s+1),a=o;return l+=`
`,t.length-i>e&&a>i?l+=t.slice(i,a)+`
`+t.slice(a+1):l+=t.slice(i),l.slice(1)}function ek(t){for(var e="",n=0,r,i=0;i<t.length;n>=65536?i+=2:i++)n=pu(t,i),r=Cn[n],!r&&gu(n)?(e+=t[i],n>=65536&&(e+=t[i+1])):e+=r||HL(n);return e}function tk(t,e,n){var r="",i=t.tag,s,a,o;for(s=0,a=n.length;s<a;s+=1)o=n[s],t.replacer&&(o=t.replacer.call(n,String(s),o)),(es(t,e,o,!1,!1)||typeof o>"u"&&es(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=i,t.dump="["+r+"]"}function rC(t,e,n,r){var i="",s=t.tag,a,o,l;for(a=0,o=n.length;a<o;a+=1)l=n[a],t.replacer&&(l=t.replacer.call(n,String(a),l)),(es(t,e+1,l,!0,!0,!1,!0)||typeof l>"u"&&es(t,e+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=pg(t,e)),t.dump&&mu===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=s,t.dump=i||"[]"}function nk(t,e,n){var r="",i=t.tag,s=Object.keys(n),a,o,l,u,c;for(a=0,o=s.length;a<o;a+=1)c="",r!==""&&(c+=", "),t.condenseFlow&&(c+='"'),l=s[a],u=n[l],t.replacer&&(u=t.replacer.call(n,l,u)),es(t,e,l,!1,!1)&&(t.dump.length>1024&&(c+="? "),c+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),es(t,e,u,!1,!1)&&(c+=t.dump,r+=c));t.tag=i,t.dump="{"+r+"}"}function rk(t,e,n,r){var i="",s=t.tag,a=Object.keys(n),o,l,u,c,f,d;if(t.sortKeys===!0)a.sort();else if(typeof t.sortKeys=="function")a.sort(t.sortKeys);else if(t.sortKeys)throw new Kn("sortKeys must be a boolean or a function");for(o=0,l=a.length;o<l;o+=1)d="",(!r||i!=="")&&(d+=pg(t,e)),u=a[o],c=n[u],t.replacer&&(c=t.replacer.call(n,u,c)),es(t,e+1,u,!0,!0,!0)&&(f=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,f&&(t.dump&&mu===t.dump.charCodeAt(0)?d+="?":d+="? "),d+=t.dump,f&&(d+=pg(t,e)),es(t,e+1,c,!0,f)&&(t.dump&&mu===t.dump.charCodeAt(0)?d+=":":d+=": ",d+=t.dump,i+=d));t.tag=s,t.dump=i||"{}"}function iC(t,e,n){var r,i,s,a,o,l;for(i=n?t.explicitTypes:t.implicitTypes,s=0,a=i.length;s<a;s+=1)if(o=i[s],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof e=="object"&&e instanceof o.instanceOf)&&(!o.predicate||o.predicate(e))){if(n?o.multi&&o.representName?t.tag=o.representName(e):t.tag=o.tag:t.tag="?",o.represent){if(l=t.styleMap[o.tag]||o.defaultStyle,bC.call(o.represent)==="[object Function]")r=o.represent(e,l);else if(TC.call(o.represent,l))r=o.represent[l](e,l);else throw new Kn("!<"+o.tag+'> tag resolver accepts not "'+l+'" style');t.dump=r}return!0}return!1}function es(t,e,n,r,i,s,a){t.tag=null,t.dump=n,iC(t,n,!1)||iC(t,n,!0);var o=bC.call(t.dump),l=r,u;r&&(r=t.flowLevel<0||t.flowLevel>e);var c=o==="[object Object]"||o==="[object Array]",f,d;if(c&&(f=t.duplicates.indexOf(n),d=f!==-1),(t.tag!==null&&t.tag!=="?"||d||t.indent!==2&&e>0)&&(i=!1),d&&t.usedDuplicates[f])t.dump="*ref_"+f;else{if(c&&d&&!t.usedDuplicates[f]&&(t.usedDuplicates[f]=!0),o==="[object Object]")r&&Object.keys(t.dump).length!==0?(rk(t,e,t.dump,i),d&&(t.dump="&ref_"+f+t.dump)):(nk(t,e,t.dump),d&&(t.dump="&ref_"+f+" "+t.dump));else if(o==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!a&&e>0?rC(t,e-1,t.dump,i):rC(t,e,t.dump,i),d&&(t.dump="&ref_"+f+t.dump)):(tk(t,e,t.dump),d&&(t.dump="&ref_"+f+" "+t.dump));else if(o==="[object String]")t.tag!=="?"&&JL(t,t.dump,e,s,l);else{if(o==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new Kn("unacceptable kind of an object to dump "+o)}t.tag!==null&&t.tag!=="?"&&(u=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",t.dump=u+" "+t.dump)}return!0}function ik(t,e){var n=[],r=[],i,s;for(mg(t,n,r),i=0,s=r.length;i<s;i+=1)e.duplicates.push(n[r[i]]);e.usedDuplicates=new Array(s)}function mg(t,e,n){var r,i,s;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(e.push(t),Array.isArray(t))for(i=0,s=t.length;i<s;i+=1)mg(t[i],e,n);else for(r=Object.keys(t),i=0,s=r.length;i<s;i+=1)mg(t[r[i]],e,n)}function sk(t,e){e=e||{};var n=new $L(e);n.noRefs||ik(t,n);var r=t;return n.replacer&&(r=n.replacer.call({"":r},"",r)),es(n,0,r,!0,!0)?n.dump+`
`:""}var ak=sk,ok={dump:ak};function bg(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var xC=yC.load,ste=yC.loadAll,RC=ok.dump;var ate=bg("safeLoad","load"),ote=bg("safeLoadAll","loadAll"),lte=bg("safeDump","dump");var Dp=class{static formatFrontMatter(e){try{let n=xC(e,{}),r=RC(n,{indent:2,noArrayIndent:!1,condenseFlow:!1,forceQuotes:!0,noRefs:!0,skipInvalid:!0});return r.endsWith(`
`)&&(r=r.trimEnd()),r}catch{return e}}};function Xn(t,e,n){if(t&&t.hasOwnProperty(e)){let r=t[e];if(r!==null)return r}return n}function wC(t,e,n){let r=Xn(t,e,null);return typeof r=="string"?r.length>0?r.split(",").map(i=>i.trim().toLowerCase()):[]:n}var _u=class extends yp{constructor(n){super();this.options=n,this.withHtmlFormatter(this.formatHtml).withYamlFormatter(Dp.formatFrontMatter).withTransformOptions({endNewline:Xn(n.htmlOptions,"endWithNewline",!1),maxAntlersStatementsPerLine:n.maxStatementsPerLine,newlinesAfterFrontMatter:1,tabSize:n.tabSize})}formatHtml(n){return OC.default.html(n,{indent_size:this.options.tabSize,indent_char:this.options.insertSpaces?" ":"	",indent_empty_lines:Xn(this.options.htmlOptions,"indentEmptyLines",!1),wrap_line_length:Xn(this.options.htmlOptions,"wrapLineLength",120),unformatted:wC(this.options.htmlOptions,"unformatted",[])??[],content_unformatted:[],indent_inner_html:Xn(this.options.htmlOptions,"indentInnerHtml",!1),preserve_newlines:Xn(this.options.htmlOptions,"preserveNewLines",!0),max_preserve_newlines:Xn(this.options.htmlOptions,"maxPreserveNewLines",32786),indent_handlebars:Xn(this.options.htmlOptions,"indentHandlebars",!1),end_with_newline:Xn(this.options.htmlOptions,"endWithNewline",!1),extra_liners:[],wrap_attributes:Xn(this.options.htmlOptions,"wrapAttributes","auto"),wrap_attributes_indent_size:Xn(this.options.htmlOptions,"wrapAttributesIndentSize",void 0),eol:`
`,indent_scripts:Xn(this.options.htmlOptions,"indentScripts","normal"),unformatted_content_delimiter:Xn(this.options.htmlOptions,"unformattedContentDelimiter","")})}};var TM=lD(),Eu=require("path"),fD={formatFrontMatter:!1,showGeneralSnippetCompletions:!0,diagnostics:{warnOnDynamicCssClassNames:!0,validateTagParameters:!0,reportDiagnostics:!0},trace:{server:"off"},formatterIgnoreExtensions:["xml"],languageVersion:"runtime"},Gp=0,pD=3,vM=1,s_=4,NM=".antlers.format.json",et=TM.command("format","Formats a file and writes the changes to disk",{path:{description:"The file to format",alias:"f",type:"string"},dir:{description:"The directory to format",alias:"d",type:"string"},stdin:{description:"Indicates that the formatter should use stdin input",alias:"s",type:"boolean",default:!1},output:{description:"An optional output path",alias:"out",type:"string",default:null},dump:{description:"Optionally writes the formatted results to the output instead of saving",alias:"dd",type:"boolean",default:!1},options:{description:"An optional path to an Antlers format configuration file",alias:"o",type:"string"}}).help().alias("help","h").argv,Wp=et._,Iu={htmlOptions:{},formatFrontMatter:!0,insertSpaces:!0,maxStatementsPerLine:3,tabSize:4,formatExtensions:[".antlers.html"]};function uD(t){if(Je.existsSync(t)){let e=Je.readFileSync(t,{encoding:"utf8"});try{return JSON.parse(e)}catch(n){console.error(n)}}return null}function dD(t,e,n){let r=Je.readdirSync(t);for(let i=0;i<r.length;i++){let s=Eu.join(t,r[i]);Je.lstatSync(s).isDirectory()?dD(s,e,n):s.endsWith(e)&&n(s)}}function CM(t,e,n,r){let i=wt.fromText(t),s=new _u(r),a=s.formatDocument(i,fD);n===!0?console.log(a):e!=null&&Je.writeFileSync(e,a,{encoding:"utf8"})}function i_(t,e,n,r){if(Je.existsSync(t)){try{Je.accessSync(t,Je.constants.R_OK|Je.constants.W_OK)}catch(i){console.error(i),process.exit(s_)}try{let i=Je.readFileSync(t,{encoding:"utf8"}),s=wt.fromText(i),a=new _u(r),o=a.formatDocument(s,fD);n===!0?console.log(o):Je.writeFileSync(e,o,{encoding:"utf8"})}catch(i){console.error(i),process.exit(vM)}}else process.exit(pD)}function cD(t,e,n,r){if(Je.existsSync(t)&&Je.statSync(t).isDirectory()){try{Je.accessSync(t,Je.constants.R_OK|Je.constants.W_OK)}catch(i){console.error(i),process.exit(s_)}n.forEach(i=>{dD(t,i,s=>{i_(s,s,r,e)})}),process.exit(Gp)}else process.exit(pD)}function PM(t){let e=Eu.dirname(t);e=="."&&(e=process.cwd());let n=e.split(Eu.sep);for(;n.length>0;){let r=n.join(Eu.sep),i=Eu.join(r,NM);if(Je.existsSync(i))return i;n.pop()}return null}if(et._.includes("format")){let t=Iu;if(typeof et.options<"u"&&et.options!==null){let e=uD(et.options);e!=null&&(t=e)}else{let e="";Wp.length==1?typeof et.dir<"u"&&et.dir!==null?e=et.dir:typeof et.path<"u"&&et.path!==null&&(e=et.path):e=Wp[1];let n=PM(e);if(n!=null){let r=uD(n);r!=null&&(t=r)}}if(Wp.length==1){if(et.stdin===!0){let e=Je.readFileSync(0,"utf-8");CM(e,et.output,et.dump===!0,t),process.exit(Gp)}if(typeof et.dir<"u"&&et.dir!==null){let e=[".antlers.html"];(typeof t>"u"||t==null)&&(t=Iu),typeof t<"u"&&t.formatExtensions!=null&&t.formatExtensions.length>0?e=t.formatExtensions:e=Iu.formatExtensions,cD(et.dir,t,e,et.dump===!0),process.exit(Gp)}if(typeof et.path<"u"&&et.path!==null){let e=et.path;et.output!==null&&(e=et.output),i_(et.path,e,et.dump===!0,t),process.exit(Gp)}}else{let e=Wp[1];if(Je.existsSync(e)){try{Je.accessSync(e,Je.constants.R_OK|Je.constants.W_OK)}catch(r){console.error(r),process.exit(s_)}if(Je.lstatSync(e).isDirectory()){let r=[".antlers.html"];(typeof t>"u"||t==null)&&(t=Iu),typeof t<"u"&&t.formatExtensions!=null&&t.formatExtensions.length>0?r=t.formatExtensions:r=Iu.formatExtensions,cD(e,t,r,et.dump===!0)}else{let r=e;et.output!==null&&(r=et.output),i_(e,r,et.dump===!0,t)}}}}
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
